var JS=Object.defineProperty;var QS=(G,U,W)=>U in G?JS(G,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):G[U]=W;var eE=(G,U)=>()=>(U||G((U={exports:{}}).exports,U),U.exports);var Hi=(G,U,W)=>(QS(G,typeof U!="symbol"?U+"":U,W),W);var tE=eE((exports,module)=>{(function(){const U=document.createElement("link").relList;if(U&&U.supports&&U.supports("modulepreload"))return;for(const ne of document.querySelectorAll('link[rel="modulepreload"]'))X(ne);new MutationObserver(ne=>{for(const oe of ne)if(oe.type==="childList")for(const le of oe.addedNodes)le.tagName==="LINK"&&le.rel==="modulepreload"&&X(le)}).observe(document,{childList:!0,subtree:!0});function W(ne){const oe={};return ne.integrity&&(oe.integrity=ne.integrity),ne.referrerpolicy&&(oe.referrerPolicy=ne.referrerpolicy),ne.crossorigin==="use-credentials"?oe.credentials="include":ne.crossorigin==="anonymous"?oe.credentials="omit":oe.credentials="same-origin",oe}function X(ne){if(ne.ep)return;ne.ep=!0;const oe=W(ne);fetch(ne.href,oe)}})();const style="";function makeMap(G,U){const W=Object.create(null),X=G.split(",");for(let ne=0;ne<X.length;ne++)W[X[ne]]=!0;return U?ne=>!!W[ne.toLowerCase()]:ne=>!!W[ne]}function normalizeStyle(G){if(isArray$3(G)){const U={};for(let W=0;W<G.length;W++){const X=G[W],ne=isString$1(X)?parseStringStyle(X):normalizeStyle(X);if(ne)for(const oe in ne)U[oe]=ne[oe]}return U}else{if(isString$1(G))return G;if(isObject$2(G))return G}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(G){const U={};return G.replace(styleCommentRE,"").split(listDelimiterRE).forEach(W=>{if(W){const X=W.split(propertyDelimiterRE);X.length>1&&(U[X[0].trim()]=X[1].trim())}}),U}function normalizeClass(G){let U="";if(isString$1(G))U=G;else if(isArray$3(G))for(let W=0;W<G.length;W++){const X=normalizeClass(G[W]);X&&(U+=X+" ")}else if(isObject$2(G))for(const W in G)G[W]&&(U+=W+" ");return U.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(G){return!!G||G===""}const toDisplayString=G=>isString$1(G)?G:G==null?"":isArray$3(G)||isObject$2(G)&&(G.toString===objectToString$1||!isFunction$2(G.toString))?JSON.stringify(G,replacer,2):String(G),replacer=(G,U)=>U&&U.__v_isRef?replacer(G,U.value):isMap(U)?{[`Map(${U.size})`]:[...U.entries()].reduce((W,[X,ne])=>(W[`${X} =>`]=ne,W),{})}:isSet(U)?{[`Set(${U.size})`]:[...U.values()]}:isObject$2(U)&&!isArray$3(U)&&!isPlainObject(U)?String(U):U,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE$1=/^on[^a-z]/,isOn$1=G=>onRE$1.test(G),isModelListener=G=>G.startsWith("onUpdate:"),extend=Object.assign,remove=(G,U)=>{const W=G.indexOf(U);W>-1&&G.splice(W,1)},hasOwnProperty$a=Object.prototype.hasOwnProperty,hasOwn$1=(G,U)=>hasOwnProperty$a.call(G,U),isArray$3=Array.isArray,isMap=G=>toTypeString(G)==="[object Map]",isSet=G=>toTypeString(G)==="[object Set]",isFunction$2=G=>typeof G=="function",isString$1=G=>typeof G=="string",isSymbol=G=>typeof G=="symbol",isObject$2=G=>G!==null&&typeof G=="object",isPromise=G=>isObject$2(G)&&isFunction$2(G.then)&&isFunction$2(G.catch),objectToString$1=Object.prototype.toString,toTypeString=G=>objectToString$1.call(G),toRawType=G=>toTypeString(G).slice(8,-1),isPlainObject=G=>toTypeString(G)==="[object Object]",isIntegerKey=G=>isString$1(G)&&G!=="NaN"&&G[0]!=="-"&&""+parseInt(G,10)===G,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction$1=G=>{const U=Object.create(null);return W=>U[W]||(U[W]=G(W))},camelizeRE$1=/-(\w)/g,camelize$1=cacheStringFunction$1(G=>G.replace(camelizeRE$1,(U,W)=>W?W.toUpperCase():"")),hyphenateRE$1=/\B([A-Z])/g,hyphenate$1=cacheStringFunction$1(G=>G.replace(hyphenateRE$1,"-$1").toLowerCase()),capitalize=cacheStringFunction$1(G=>G.charAt(0).toUpperCase()+G.slice(1)),toHandlerKey=cacheStringFunction$1(G=>G?`on${capitalize(G)}`:""),hasChanged=(G,U)=>!Object.is(G,U),invokeArrayFns=(G,U)=>{for(let W=0;W<G.length;W++)G[W](U)},def=(G,U,W)=>{Object.defineProperty(G,U,{configurable:!0,enumerable:!1,value:W})},toNumber=G=>{const U=parseFloat(G);return isNaN(U)?G:U};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(U=!1){this.detached=U,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!U&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(U){if(this.active){const W=activeEffectScope;try{return activeEffectScope=this,U()}finally{activeEffectScope=W}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(U){if(this.active){let W,X;for(W=0,X=this.effects.length;W<X;W++)this.effects[W].stop();for(W=0,X=this.cleanups.length;W<X;W++)this.cleanups[W]();if(this.scopes)for(W=0,X=this.scopes.length;W<X;W++)this.scopes[W].stop(!0);if(!this.detached&&this.parent&&!U){const ne=this.parent.scopes.pop();ne&&ne!==this&&(this.parent.scopes[this.index]=ne,ne.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(G,U=activeEffectScope){U&&U.active&&U.effects.push(G)}const createDep=G=>{const U=new Set(G);return U.w=0,U.n=0,U},wasTracked=G=>(G.w&trackOpBit)>0,newTracked=G=>(G.n&trackOpBit)>0,initDepMarkers=({deps:G})=>{if(G.length)for(let U=0;U<G.length;U++)G[U].w|=trackOpBit},finalizeDepMarkers=G=>{const{deps:U}=G;if(U.length){let W=0;for(let X=0;X<U.length;X++){const ne=U[X];wasTracked(ne)&&!newTracked(ne)?ne.delete(G):U[W++]=ne,ne.w&=~trackOpBit,ne.n&=~trackOpBit}U.length=W}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(U,W=null,X){this.fn=U,this.scheduler=W,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,X)}run(){if(!this.active)return this.fn();let U=activeEffect,W=shouldTrack;for(;U;){if(U===this)return;U=U.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=W,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(G){const{deps:U}=G;if(U.length){for(let W=0;W<U.length;W++)U[W].delete(G);U.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const G=trackStack.pop();shouldTrack=G===void 0?!0:G}function track(G,U,W){if(shouldTrack&&activeEffect){let X=targetMap.get(G);X||targetMap.set(G,X=new Map);let ne=X.get(W);ne||X.set(W,ne=createDep()),trackEffects(ne)}}function trackEffects(G,U){let W=!1;effectTrackDepth<=maxMarkerBits?newTracked(G)||(G.n|=trackOpBit,W=!wasTracked(G)):W=!G.has(activeEffect),W&&(G.add(activeEffect),activeEffect.deps.push(G))}function trigger$1(G,U,W,X,ne,oe){const le=targetMap.get(G);if(!le)return;let se=[];if(U==="clear")se=[...le.values()];else if(W==="length"&&isArray$3(G)){const ue=toNumber(X);le.forEach((ce,fe)=>{(fe==="length"||fe>=ue)&&se.push(ce)})}else switch(W!==void 0&&se.push(le.get(W)),U){case"add":isArray$3(G)?isIntegerKey(W)&&se.push(le.get("length")):(se.push(le.get(ITERATE_KEY)),isMap(G)&&se.push(le.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$3(G)||(se.push(le.get(ITERATE_KEY)),isMap(G)&&se.push(le.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(G)&&se.push(le.get(ITERATE_KEY));break}if(se.length===1)se[0]&&triggerEffects(se[0]);else{const ue=[];for(const ce of se)ce&&ue.push(...ce);triggerEffects(createDep(ue))}}function triggerEffects(G,U){const W=isArray$3(G)?G:[...G];for(const X of W)X.computed&&triggerEffect(X);for(const X of W)X.computed||triggerEffect(X)}function triggerEffect(G,U){(G!==activeEffect||G.allowRecurse)&&(G.scheduler?G.scheduler():G.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(G=>G!=="arguments"&&G!=="caller").map(G=>Symbol[G]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const G={};return["includes","indexOf","lastIndexOf"].forEach(U=>{G[U]=function(...W){const X=toRaw(this);for(let oe=0,le=this.length;oe<le;oe++)track(X,"get",oe+"");const ne=X[U](...W);return ne===-1||ne===!1?X[U](...W.map(toRaw)):ne}}),["push","pop","shift","unshift","splice"].forEach(U=>{G[U]=function(...W){pauseTracking();const X=toRaw(this)[U].apply(this,W);return resetTracking(),X}}),G}function createGetter(G=!1,U=!1){return function(X,ne,oe){if(ne==="__v_isReactive")return!G;if(ne==="__v_isReadonly")return G;if(ne==="__v_isShallow")return U;if(ne==="__v_raw"&&oe===(G?U?shallowReadonlyMap:readonlyMap:U?shallowReactiveMap:reactiveMap).get(X))return X;const le=isArray$3(X);if(!G&&le&&hasOwn$1(arrayInstrumentations,ne))return Reflect.get(arrayInstrumentations,ne,oe);const se=Reflect.get(X,ne,oe);return(isSymbol(ne)?builtInSymbols.has(ne):isNonTrackableKeys(ne))||(G||track(X,"get",ne),U)?se:isRef(se)?le&&isIntegerKey(ne)?se:se.value:isObject$2(se)?G?readonly(se):reactive(se):se}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(G=!1){return function(W,X,ne,oe){let le=W[X];if(isReadonly(le)&&isRef(le)&&!isRef(ne))return!1;if(!G&&(!isShallow(ne)&&!isReadonly(ne)&&(le=toRaw(le),ne=toRaw(ne)),!isArray$3(W)&&isRef(le)&&!isRef(ne)))return le.value=ne,!0;const se=isArray$3(W)&&isIntegerKey(X)?Number(X)<W.length:hasOwn$1(W,X),ue=Reflect.set(W,X,ne,oe);return W===toRaw(oe)&&(se?hasChanged(ne,le)&&trigger$1(W,"set",X,ne):trigger$1(W,"add",X,ne)),ue}}function deleteProperty(G,U){const W=hasOwn$1(G,U);G[U];const X=Reflect.deleteProperty(G,U);return X&&W&&trigger$1(G,"delete",U,void 0),X}function has(G,U){const W=Reflect.has(G,U);return(!isSymbol(U)||!builtInSymbols.has(U))&&track(G,"has",U),W}function ownKeys$2(G){return track(G,"iterate",isArray$3(G)?"length":ITERATE_KEY),Reflect.ownKeys(G)}const mutableHandlers={get,set,deleteProperty,has,ownKeys:ownKeys$2},readonlyHandlers={get:readonlyGet,set(G,U){return!0},deleteProperty(G,U){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=G=>G,getProto=G=>Reflect.getPrototypeOf(G);function get$1(G,U,W=!1,X=!1){G=G.__v_raw;const ne=toRaw(G),oe=toRaw(U);W||(U!==oe&&track(ne,"get",U),track(ne,"get",oe));const{has:le}=getProto(ne),se=X?toShallow:W?toReadonly:toReactive$1;if(le.call(ne,U))return se(G.get(U));if(le.call(ne,oe))return se(G.get(oe));G!==ne&&G.get(U)}function has$1(G,U=!1){const W=this.__v_raw,X=toRaw(W),ne=toRaw(G);return U||(G!==ne&&track(X,"has",G),track(X,"has",ne)),G===ne?W.has(G):W.has(G)||W.has(ne)}function size(G,U=!1){return G=G.__v_raw,!U&&track(toRaw(G),"iterate",ITERATE_KEY),Reflect.get(G,"size",G)}function add(G){G=toRaw(G);const U=toRaw(this);return getProto(U).has.call(U,G)||(U.add(G),trigger$1(U,"add",G,G)),this}function set$1(G,U){U=toRaw(U);const W=toRaw(this),{has:X,get:ne}=getProto(W);let oe=X.call(W,G);oe||(G=toRaw(G),oe=X.call(W,G));const le=ne.call(W,G);return W.set(G,U),oe?hasChanged(U,le)&&trigger$1(W,"set",G,U):trigger$1(W,"add",G,U),this}function deleteEntry(G){const U=toRaw(this),{has:W,get:X}=getProto(U);let ne=W.call(U,G);ne||(G=toRaw(G),ne=W.call(U,G)),X&&X.call(U,G);const oe=U.delete(G);return ne&&trigger$1(U,"delete",G,void 0),oe}function clear(){const G=toRaw(this),U=G.size!==0,W=G.clear();return U&&trigger$1(G,"clear",void 0,void 0),W}function createForEach(G,U){return function(X,ne){const oe=this,le=oe.__v_raw,se=toRaw(le),ue=U?toShallow:G?toReadonly:toReactive$1;return!G&&track(se,"iterate",ITERATE_KEY),le.forEach((ce,fe)=>X.call(ne,ue(ce),ue(fe),oe))}}function createIterableMethod(G,U,W){return function(...X){const ne=this.__v_raw,oe=toRaw(ne),le=isMap(oe),se=G==="entries"||G===Symbol.iterator&&le,ue=G==="keys"&&le,ce=ne[G](...X),fe=W?toShallow:U?toReadonly:toReactive$1;return!U&&track(oe,"iterate",ue?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:me,done:ve}=ce.next();return ve?{value:me,done:ve}:{value:se?[fe(me[0]),fe(me[1])]:fe(me),done:ve}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(G){return function(...U){return G==="delete"?!1:this}}function createInstrumentations(){const G={get(oe){return get$1(this,oe)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},U={get(oe){return get$1(this,oe,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},W={get(oe){return get$1(this,oe,!0)},get size(){return size(this,!0)},has(oe){return has$1.call(this,oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},X={get(oe){return get$1(this,oe,!0,!0)},get size(){return size(this,!0)},has(oe){return has$1.call(this,oe,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(oe=>{G[oe]=createIterableMethod(oe,!1,!1),W[oe]=createIterableMethod(oe,!0,!1),U[oe]=createIterableMethod(oe,!1,!0),X[oe]=createIterableMethod(oe,!0,!0)}),[G,W,U,X]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(G,U){const W=U?G?shallowReadonlyInstrumentations:shallowInstrumentations:G?readonlyInstrumentations:mutableInstrumentations;return(X,ne,oe)=>ne==="__v_isReactive"?!G:ne==="__v_isReadonly"?G:ne==="__v_raw"?X:Reflect.get(hasOwn$1(W,ne)&&ne in X?W:X,ne,oe)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(G){switch(G){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(G){return G.__v_skip||!Object.isExtensible(G)?0:targetTypeMap(toRawType(G))}function reactive(G){return isReadonly(G)?G:createReactiveObject(G,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(G){return createReactiveObject(G,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(G){return createReactiveObject(G,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(G,U,W,X,ne){if(!isObject$2(G)||G.__v_raw&&!(U&&G.__v_isReactive))return G;const oe=ne.get(G);if(oe)return oe;const le=getTargetType(G);if(le===0)return G;const se=new Proxy(G,le===2?X:W);return ne.set(G,se),se}function isReactive(G){return isReadonly(G)?isReactive(G.__v_raw):!!(G&&G.__v_isReactive)}function isReadonly(G){return!!(G&&G.__v_isReadonly)}function isShallow(G){return!!(G&&G.__v_isShallow)}function isProxy(G){return isReactive(G)||isReadonly(G)}function toRaw(G){const U=G&&G.__v_raw;return U?toRaw(U):G}function markRaw(G){return def(G,"__v_skip",!0),G}const toReactive$1=G=>isObject$2(G)?reactive(G):G,toReadonly=G=>isObject$2(G)?readonly(G):G;function trackRefValue(G){shouldTrack&&activeEffect&&(G=toRaw(G),trackEffects(G.dep||(G.dep=createDep())))}function triggerRefValue(G,U){G=toRaw(G),G.dep&&triggerEffects(G.dep)}function isRef(G){return!!(G&&G.__v_isRef===!0)}function ref(G){return createRef$1(G,!1)}function shallowRef(G){return createRef$1(G,!0)}function createRef$1(G,U){return isRef(G)?G:new RefImpl(G,U)}class RefImpl{constructor(U,W){this.__v_isShallow=W,this.dep=void 0,this.__v_isRef=!0,this._rawValue=W?U:toRaw(U),this._value=W?U:toReactive$1(U)}get value(){return trackRefValue(this),this._value}set value(U){const W=this.__v_isShallow||isShallow(U)||isReadonly(U);U=W?U:toRaw(U),hasChanged(U,this._rawValue)&&(this._rawValue=U,this._value=W?U:toReactive$1(U),triggerRefValue(this))}}function unref(G){return isRef(G)?G.value:G}const shallowUnwrapHandlers={get:(G,U,W)=>unref(Reflect.get(G,U,W)),set:(G,U,W,X)=>{const ne=G[U];return isRef(ne)&&!isRef(W)?(ne.value=W,!0):Reflect.set(G,U,W,X)}};function proxyRefs(G){return isReactive(G)?G:new Proxy(G,shallowUnwrapHandlers)}function toRefs(G){const U=isArray$3(G)?new Array(G.length):{};for(const W in G)U[W]=toRef(G,W);return U}class ObjectRefImpl{constructor(U,W,X){this._object=U,this._key=W,this._defaultValue=X,this.__v_isRef=!0}get value(){const U=this._object[this._key];return U===void 0?this._defaultValue:U}set value(U){this._object[this._key]=U}}function toRef(G,U,W){const X=G[U];return isRef(X)?X:new ObjectRefImpl(G,U,W)}var _a;class ComputedRefImpl{constructor(U,W,X,ne){this._setter=W,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(U,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!ne,this.__v_isReadonly=X}get value(){const U=toRaw(this);return trackRefValue(U),(U._dirty||!U._cacheable)&&(U._dirty=!1,U._value=U.effect.run()),U._value}set value(U){this._setter(U)}}_a="__v_isReadonly";function computed$1(G,U,W=!1){let X,ne;const oe=isFunction$2(G);return oe?(X=G,ne=NOOP):(X=G.get,ne=G.set),new ComputedRefImpl(X,ne,oe||!ne,W)}function warn(G,...U){}function callWithErrorHandling(G,U,W,X){let ne;try{ne=X?G(...X):G()}catch(oe){handleError(oe,U,W)}return ne}function callWithAsyncErrorHandling(G,U,W,X){if(isFunction$2(G)){const oe=callWithErrorHandling(G,U,W,X);return oe&&isPromise(oe)&&oe.catch(le=>{handleError(le,U,W)}),oe}const ne=[];for(let oe=0;oe<G.length;oe++)ne.push(callWithAsyncErrorHandling(G[oe],U,W,X));return ne}function handleError(G,U,W,X=!0){const ne=U?U.vnode:null;if(U){let oe=U.parent;const le=U.proxy,se=W;for(;oe;){const ce=oe.ec;if(ce){for(let fe=0;fe<ce.length;fe++)if(ce[fe](G,le,se)===!1)return}oe=oe.parent}const ue=U.appContext.config.errorHandler;if(ue){callWithErrorHandling(ue,null,10,[G,le,se]);return}}logError(G,W,ne,X)}function logError(G,U,W,X=!0){console.error(G)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(G){const U=currentFlushPromise||resolvedPromise;return G?U.then(this?G.bind(this):G):U}function findInsertionIndex(G){let U=flushIndex+1,W=queue.length;for(;U<W;){const X=U+W>>>1;getId(queue[X])<G?U=X+1:W=X}return U}function queueJob(G){(!queue.length||!queue.includes(G,isFlushing&&G.allowRecurse?flushIndex+1:flushIndex))&&(G.id==null?queue.push(G):queue.splice(findInsertionIndex(G.id),0,G),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(G){const U=queue.indexOf(G);U>flushIndex&&queue.splice(U,1)}function queuePostFlushCb(G){isArray$3(G)?pendingPostFlushCbs.push(...G):(!activePostFlushCbs||!activePostFlushCbs.includes(G,G.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(G),queueFlush()}function flushPreFlushCbs(G,U=isFlushing?flushIndex+1:0){for(;U<queue.length;U++){const W=queue[U];W&&W.pre&&(queue.splice(U,1),U--,W())}}function flushPostFlushCbs(G){if(pendingPostFlushCbs.length){const U=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...U);return}for(activePostFlushCbs=U,activePostFlushCbs.sort((W,X)=>getId(W)-getId(X)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=G=>G.id==null?1/0:G.id,comparator=(G,U)=>{const W=getId(G)-getId(U);if(W===0){if(G.pre&&!U.pre)return-1;if(U.pre&&!G.pre)return 1}return W};function flushJobs(G){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const U=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const W=queue[flushIndex];W&&W.active!==!1&&callWithErrorHandling(W,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(G,U,...W){if(G.isUnmounted)return;const X=G.vnode.props||EMPTY_OBJ;let ne=W;const oe=U.startsWith("update:"),le=oe&&U.slice(7);if(le&&le in X){const fe=`${le==="modelValue"?"model":le}Modifiers`,{number:me,trim:ve}=X[fe]||EMPTY_OBJ;ve&&(ne=W.map(be=>isString$1(be)?be.trim():be)),me&&(ne=W.map(toNumber))}let se,ue=X[se=toHandlerKey(U)]||X[se=toHandlerKey(camelize$1(U))];!ue&&oe&&(ue=X[se=toHandlerKey(hyphenate$1(U))]),ue&&callWithAsyncErrorHandling(ue,G,6,ne);const ce=X[se+"Once"];if(ce){if(!G.emitted)G.emitted={};else if(G.emitted[se])return;G.emitted[se]=!0,callWithAsyncErrorHandling(ce,G,6,ne)}}function normalizeEmitsOptions(G,U,W=!1){const X=U.emitsCache,ne=X.get(G);if(ne!==void 0)return ne;const oe=G.emits;let le={},se=!1;if(!isFunction$2(G)){const ue=ce=>{const fe=normalizeEmitsOptions(ce,U,!0);fe&&(se=!0,extend(le,fe))};!W&&U.mixins.length&&U.mixins.forEach(ue),G.extends&&ue(G.extends),G.mixins&&G.mixins.forEach(ue)}return!oe&&!se?(isObject$2(G)&&X.set(G,null),null):(isArray$3(oe)?oe.forEach(ue=>le[ue]=null):extend(le,oe),isObject$2(G)&&X.set(G,le),le)}function isEmitListener(G,U){return!G||!isOn$1(U)?!1:(U=U.slice(2).replace(/Once$/,""),hasOwn$1(G,U[0].toLowerCase()+U.slice(1))||hasOwn$1(G,hyphenate$1(U))||hasOwn$1(G,U))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(G){const U=currentRenderingInstance;return currentRenderingInstance=G,currentScopeId=G&&G.type.__scopeId||null,U}function pushScopeId(G){currentScopeId=G}function popScopeId(){currentScopeId=null}function withCtx(G,U=currentRenderingInstance,W){if(!U||G._n)return G;const X=(...ne)=>{X._d&&setBlockTracking(-1);const oe=setCurrentRenderingInstance(U);let le;try{le=G(...ne)}finally{setCurrentRenderingInstance(oe),X._d&&setBlockTracking(1)}return le};return X._n=!0,X._c=!0,X._d=!0,X}function markAttrsAccessed(){}function renderComponentRoot(G){const{type:U,vnode:W,proxy:X,withProxy:ne,props:oe,propsOptions:[le],slots:se,attrs:ue,emit:ce,render:fe,renderCache:me,data:ve,setupState:be,ctx:Se,inheritAttrs:_e}=G;let Ae,ke;const Me=setCurrentRenderingInstance(G);try{if(W.shapeFlag&4){const qe=ne||X;Ae=normalizeVNode(fe.call(qe,qe,me,oe,be,ve,Se)),ke=ue}else{const qe=U;Ae=normalizeVNode(qe.length>1?qe(oe,{attrs:ue,slots:se,emit:ce}):qe(oe,null)),ke=U.props?ue:getFunctionalFallthrough(ue)}}catch(qe){blockStack.length=0,handleError(qe,G,1),Ae=createVNode(Comment)}let Le=Ae;if(ke&&_e!==!1){const qe=Object.keys(ke),{shapeFlag:Je}=Le;qe.length&&Je&7&&(le&&qe.some(isModelListener)&&(ke=filterModelListeners(ke,le)),Le=cloneVNode(Le,ke))}return W.dirs&&(Le=cloneVNode(Le),Le.dirs=Le.dirs?Le.dirs.concat(W.dirs):W.dirs),W.transition&&(Le.transition=W.transition),Ae=Le,setCurrentRenderingInstance(Me),Ae}const getFunctionalFallthrough=G=>{let U;for(const W in G)(W==="class"||W==="style"||isOn$1(W))&&((U||(U={}))[W]=G[W]);return U},filterModelListeners=(G,U)=>{const W={};for(const X in G)(!isModelListener(X)||!(X.slice(9)in U))&&(W[X]=G[X]);return W};function shouldUpdateComponent(G,U,W){const{props:X,children:ne,component:oe}=G,{props:le,children:se,patchFlag:ue}=U,ce=oe.emitsOptions;if(U.dirs||U.transition)return!0;if(W&&ue>=0){if(ue&1024)return!0;if(ue&16)return X?hasPropsChanged(X,le,ce):!!le;if(ue&8){const fe=U.dynamicProps;for(let me=0;me<fe.length;me++){const ve=fe[me];if(le[ve]!==X[ve]&&!isEmitListener(ce,ve))return!0}}}else return(ne||se)&&(!se||!se.$stable)?!0:X===le?!1:X?le?hasPropsChanged(X,le,ce):!0:!!le;return!1}function hasPropsChanged(G,U,W){const X=Object.keys(U);if(X.length!==Object.keys(G).length)return!0;for(let ne=0;ne<X.length;ne++){const oe=X[ne];if(U[oe]!==G[oe]&&!isEmitListener(W,oe))return!0}return!1}function updateHOCHostEl({vnode:G,parent:U},W){for(;U&&U.subTree===G;)(G=U.vnode).el=W,U=U.parent}const isSuspense=G=>G.__isSuspense;function queueEffectWithSuspense(G,U){U&&U.pendingBranch?isArray$3(G)?U.effects.push(...G):U.effects.push(G):queuePostFlushCb(G)}function provide(G,U){if(currentInstance){let W=currentInstance.provides;const X=currentInstance.parent&&currentInstance.parent.provides;X===W&&(W=currentInstance.provides=Object.create(X)),W[G]=U}}function inject(G,U,W=!1){const X=currentInstance||currentRenderingInstance;if(X){const ne=X.parent==null?X.vnode.appContext&&X.vnode.appContext.provides:X.parent.provides;if(ne&&G in ne)return ne[G];if(arguments.length>1)return W&&isFunction$2(U)?U.call(X.proxy):U}}function watchEffect(G,U){return doWatch(G,null,U)}const INITIAL_WATCHER_VALUE={};function watch$1(G,U,W){return doWatch(G,U,W)}function doWatch(G,U,{immediate:W,deep:X,flush:ne,onTrack:oe,onTrigger:le}=EMPTY_OBJ){const se=currentInstance;let ue,ce=!1,fe=!1;if(isRef(G)?(ue=()=>G.value,ce=isShallow(G)):isReactive(G)?(ue=()=>G,X=!0):isArray$3(G)?(fe=!0,ce=G.some(Le=>isReactive(Le)||isShallow(Le)),ue=()=>G.map(Le=>{if(isRef(Le))return Le.value;if(isReactive(Le))return traverse(Le);if(isFunction$2(Le))return callWithErrorHandling(Le,se,2)})):isFunction$2(G)?U?ue=()=>callWithErrorHandling(G,se,2):ue=()=>{if(!(se&&se.isUnmounted))return me&&me(),callWithAsyncErrorHandling(G,se,3,[ve])}:ue=NOOP,U&&X){const Le=ue;ue=()=>traverse(Le())}let me,ve=Le=>{me=ke.onStop=()=>{callWithErrorHandling(Le,se,4)}},be;if(isInSSRComponentSetup)if(ve=NOOP,U?W&&callWithAsyncErrorHandling(U,se,3,[ue(),fe?[]:void 0,ve]):ue(),ne==="sync"){const Le=useSSRContext();be=Le.__watcherHandles||(Le.__watcherHandles=[])}else return NOOP;let Se=fe?new Array(G.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const _e=()=>{if(!!ke.active)if(U){const Le=ke.run();(X||ce||(fe?Le.some((qe,Je)=>hasChanged(qe,Se[Je])):hasChanged(Le,Se)))&&(me&&me(),callWithAsyncErrorHandling(U,se,3,[Le,Se===INITIAL_WATCHER_VALUE?void 0:fe&&Se[0]===INITIAL_WATCHER_VALUE?[]:Se,ve]),Se=Le)}else ke.run()};_e.allowRecurse=!!U;let Ae;ne==="sync"?Ae=_e:ne==="post"?Ae=()=>queuePostRenderEffect(_e,se&&se.suspense):(_e.pre=!0,se&&(_e.id=se.uid),Ae=()=>queueJob(_e));const ke=new ReactiveEffect(ue,Ae);U?W?_e():Se=ke.run():ne==="post"?queuePostRenderEffect(ke.run.bind(ke),se&&se.suspense):ke.run();const Me=()=>{ke.stop(),se&&se.scope&&remove(se.scope.effects,ke)};return be&&be.push(Me),Me}function instanceWatch(G,U,W){const X=this.proxy,ne=isString$1(G)?G.includes(".")?createPathGetter(X,G):()=>X[G]:G.bind(X,X);let oe;isFunction$2(U)?oe=U:(oe=U.handler,W=U);const le=currentInstance;setCurrentInstance(this);const se=doWatch(ne,oe.bind(X),W);return le?setCurrentInstance(le):unsetCurrentInstance(),se}function createPathGetter(G,U){const W=U.split(".");return()=>{let X=G;for(let ne=0;ne<W.length&&X;ne++)X=X[W[ne]];return X}}function traverse(G,U){if(!isObject$2(G)||G.__v_skip||(U=U||new Set,U.has(G)))return G;if(U.add(G),isRef(G))traverse(G.value,U);else if(isArray$3(G))for(let W=0;W<G.length;W++)traverse(G[W],U);else if(isSet(G)||isMap(G))G.forEach(W=>{traverse(W,U)});else if(isPlainObject(G))for(const W in G)traverse(G[W],U);return G}function useTransitionState(){const G={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{G.isMounted=!0}),onBeforeUnmount(()=>{G.isUnmounting=!0}),G}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(G,{slots:U}){const W=getCurrentInstance(),X=useTransitionState();let ne;return()=>{const oe=U.default&&getTransitionRawChildren(U.default(),!0);if(!oe||!oe.length)return;let le=oe[0];if(oe.length>1){for(const _e of oe)if(_e.type!==Comment){le=_e;break}}const se=toRaw(G),{mode:ue}=se;if(X.isLeaving)return emptyPlaceholder(le);const ce=getKeepAliveChild(le);if(!ce)return emptyPlaceholder(le);const fe=resolveTransitionHooks(ce,se,X,W);setTransitionHooks(ce,fe);const me=W.subTree,ve=me&&getKeepAliveChild(me);let be=!1;const{getTransitionKey:Se}=ce.type;if(Se){const _e=Se();ne===void 0?ne=_e:_e!==ne&&(ne=_e,be=!0)}if(ve&&ve.type!==Comment&&(!isSameVNodeType(ce,ve)||be)){const _e=resolveTransitionHooks(ve,se,X,W);if(setTransitionHooks(ve,_e),ue==="out-in")return X.isLeaving=!0,_e.afterLeave=()=>{X.isLeaving=!1,W.update.active!==!1&&W.update()},emptyPlaceholder(le);ue==="in-out"&&ce.type!==Comment&&(_e.delayLeave=(Ae,ke,Me)=>{const Le=getLeavingNodesForType(X,ve);Le[String(ve.key)]=ve,Ae._leaveCb=()=>{ke(),Ae._leaveCb=void 0,delete fe.delayedLeave},fe.delayedLeave=Me})}return le}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(G,U){const{leavingVNodes:W}=G;let X=W.get(U.type);return X||(X=Object.create(null),W.set(U.type,X)),X}function resolveTransitionHooks(G,U,W,X){const{appear:ne,mode:oe,persisted:le=!1,onBeforeEnter:se,onEnter:ue,onAfterEnter:ce,onEnterCancelled:fe,onBeforeLeave:me,onLeave:ve,onAfterLeave:be,onLeaveCancelled:Se,onBeforeAppear:_e,onAppear:Ae,onAfterAppear:ke,onAppearCancelled:Me}=U,Le=String(G.key),qe=getLeavingNodesForType(W,G),Je=(Ze,Xe)=>{Ze&&callWithAsyncErrorHandling(Ze,X,9,Xe)},Fe=(Ze,Xe)=>{const dt=Xe[1];Je(Ze,Xe),isArray$3(Ze)?Ze.every(ht=>ht.length<=1)&&dt():Ze.length<=1&&dt()},Ve={mode:oe,persisted:le,beforeEnter(Ze){let Xe=se;if(!W.isMounted)if(ne)Xe=_e||se;else return;Ze._leaveCb&&Ze._leaveCb(!0);const dt=qe[Le];dt&&isSameVNodeType(G,dt)&&dt.el._leaveCb&&dt.el._leaveCb(),Je(Xe,[Ze])},enter(Ze){let Xe=ue,dt=ce,ht=fe;if(!W.isMounted)if(ne)Xe=Ae||ue,dt=ke||ce,ht=Me||fe;else return;let lt=!1;const xt=Ze._enterCb=It=>{lt||(lt=!0,It?Je(ht,[Ze]):Je(dt,[Ze]),Ve.delayedLeave&&Ve.delayedLeave(),Ze._enterCb=void 0)};Xe?Fe(Xe,[Ze,xt]):xt()},leave(Ze,Xe){const dt=String(G.key);if(Ze._enterCb&&Ze._enterCb(!0),W.isUnmounting)return Xe();Je(me,[Ze]);let ht=!1;const lt=Ze._leaveCb=xt=>{ht||(ht=!0,Xe(),xt?Je(Se,[Ze]):Je(be,[Ze]),Ze._leaveCb=void 0,qe[dt]===G&&delete qe[dt])};qe[dt]=G,ve?Fe(ve,[Ze,lt]):lt()},clone(Ze){return resolveTransitionHooks(Ze,U,W,X)}};return Ve}function emptyPlaceholder(G){if(isKeepAlive(G))return G=cloneVNode(G),G.children=null,G}function getKeepAliveChild(G){return isKeepAlive(G)?G.children?G.children[0]:void 0:G}function setTransitionHooks(G,U){G.shapeFlag&6&&G.component?setTransitionHooks(G.component.subTree,U):G.shapeFlag&128?(G.ssContent.transition=U.clone(G.ssContent),G.ssFallback.transition=U.clone(G.ssFallback)):G.transition=U}function getTransitionRawChildren(G,U=!1,W){let X=[],ne=0;for(let oe=0;oe<G.length;oe++){let le=G[oe];const se=W==null?le.key:String(W)+String(le.key!=null?le.key:oe);le.type===Fragment?(le.patchFlag&128&&ne++,X=X.concat(getTransitionRawChildren(le.children,U,se))):(U||le.type!==Comment)&&X.push(se!=null?cloneVNode(le,{key:se}):le)}if(ne>1)for(let oe=0;oe<X.length;oe++)X[oe].patchFlag=-2;return X}function defineComponent(G){return isFunction$2(G)?{setup:G,name:G.name}:G}const isAsyncWrapper=G=>!!G.type.__asyncLoader,isKeepAlive=G=>G.type.__isKeepAlive;function onActivated(G,U){registerKeepAliveHook(G,"a",U)}function onDeactivated(G,U){registerKeepAliveHook(G,"da",U)}function registerKeepAliveHook(G,U,W=currentInstance){const X=G.__wdc||(G.__wdc=()=>{let ne=W;for(;ne;){if(ne.isDeactivated)return;ne=ne.parent}return G()});if(injectHook(U,X,W),W){let ne=W.parent;for(;ne&&ne.parent;)isKeepAlive(ne.parent.vnode)&&injectToKeepAliveRoot(X,U,W,ne),ne=ne.parent}}function injectToKeepAliveRoot(G,U,W,X){const ne=injectHook(U,G,X,!0);onUnmounted(()=>{remove(X[U],ne)},W)}function injectHook(G,U,W=currentInstance,X=!1){if(W){const ne=W[G]||(W[G]=[]),oe=U.__weh||(U.__weh=(...le)=>{if(W.isUnmounted)return;pauseTracking(),setCurrentInstance(W);const se=callWithAsyncErrorHandling(U,W,G,le);return unsetCurrentInstance(),resetTracking(),se});return X?ne.unshift(oe):ne.push(oe),oe}}const createHook=G=>(U,W=currentInstance)=>(!isInSSRComponentSetup||G==="sp")&&injectHook(G,(...X)=>U(...X),W),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(G,U=currentInstance){injectHook("ec",G,U)}function withDirectives(G,U){const W=currentRenderingInstance;if(W===null)return G;const X=getExposeProxy(W)||W.proxy,ne=G.dirs||(G.dirs=[]);for(let oe=0;oe<U.length;oe++){let[le,se,ue,ce=EMPTY_OBJ]=U[oe];le&&(isFunction$2(le)&&(le={mounted:le,updated:le}),le.deep&&traverse(se),ne.push({dir:le,instance:X,value:se,oldValue:void 0,arg:ue,modifiers:ce}))}return G}function invokeDirectiveHook(G,U,W,X){const ne=G.dirs,oe=U&&U.dirs;for(let le=0;le<ne.length;le++){const se=ne[le];oe&&(se.oldValue=oe[le].value);let ue=se.dir[X];ue&&(pauseTracking(),callWithAsyncErrorHandling(ue,W,8,[G.el,se,G,U]),resetTracking())}}const COMPONENTS="components",DIRECTIVES="directives",NULL_DYNAMIC_COMPONENT=Symbol();function resolveDirective(G){return resolveAsset(DIRECTIVES,G)}function resolveAsset(G,U,W=!0,X=!1){const ne=currentRenderingInstance||currentInstance;if(ne){const oe=ne.type;if(G===COMPONENTS){const se=getComponentName(oe,!1);if(se&&(se===U||se===camelize$1(U)||se===capitalize(camelize$1(U))))return oe}const le=resolve(ne[G]||oe[G],U)||resolve(ne.appContext[G],U);return!le&&X?oe:le}}function resolve(G,U){return G&&(G[U]||G[camelize$1(U)]||G[capitalize(camelize$1(U))])}function renderList(G,U,W,X){let ne;const oe=W&&W[X];if(isArray$3(G)||isString$1(G)){ne=new Array(G.length);for(let le=0,se=G.length;le<se;le++)ne[le]=U(G[le],le,void 0,oe&&oe[le])}else if(typeof G=="number"){ne=new Array(G);for(let le=0;le<G;le++)ne[le]=U(le+1,le,void 0,oe&&oe[le])}else if(isObject$2(G))if(G[Symbol.iterator])ne=Array.from(G,(le,se)=>U(le,se,void 0,oe&&oe[se]));else{const le=Object.keys(G);ne=new Array(le.length);for(let se=0,ue=le.length;se<ue;se++){const ce=le[se];ne[se]=U(G[ce],ce,se,oe&&oe[se])}}else ne=[];return W&&(W[X]=ne),ne}const getPublicInstance=G=>G?isStatefulComponent(G)?getExposeProxy(G)||G.proxy:getPublicInstance(G.parent):null,publicPropertiesMap=extend(Object.create(null),{$:G=>G,$el:G=>G.vnode.el,$data:G=>G.data,$props:G=>G.props,$attrs:G=>G.attrs,$slots:G=>G.slots,$refs:G=>G.refs,$parent:G=>getPublicInstance(G.parent),$root:G=>getPublicInstance(G.root),$emit:G=>G.emit,$options:G=>resolveMergedOptions(G),$forceUpdate:G=>G.f||(G.f=()=>queueJob(G.update)),$nextTick:G=>G.n||(G.n=nextTick.bind(G.proxy)),$watch:G=>instanceWatch.bind(G)}),hasSetupBinding=(G,U)=>G!==EMPTY_OBJ&&!G.__isScriptSetup&&hasOwn$1(G,U),PublicInstanceProxyHandlers={get({_:G},U){const{ctx:W,setupState:X,data:ne,props:oe,accessCache:le,type:se,appContext:ue}=G;let ce;if(U[0]!=="$"){const be=le[U];if(be!==void 0)switch(be){case 1:return X[U];case 2:return ne[U];case 4:return W[U];case 3:return oe[U]}else{if(hasSetupBinding(X,U))return le[U]=1,X[U];if(ne!==EMPTY_OBJ&&hasOwn$1(ne,U))return le[U]=2,ne[U];if((ce=G.propsOptions[0])&&hasOwn$1(ce,U))return le[U]=3,oe[U];if(W!==EMPTY_OBJ&&hasOwn$1(W,U))return le[U]=4,W[U];shouldCacheAccess&&(le[U]=0)}}const fe=publicPropertiesMap[U];let me,ve;if(fe)return U==="$attrs"&&track(G,"get",U),fe(G);if((me=se.__cssModules)&&(me=me[U]))return me;if(W!==EMPTY_OBJ&&hasOwn$1(W,U))return le[U]=4,W[U];if(ve=ue.config.globalProperties,hasOwn$1(ve,U))return ve[U]},set({_:G},U,W){const{data:X,setupState:ne,ctx:oe}=G;return hasSetupBinding(ne,U)?(ne[U]=W,!0):X!==EMPTY_OBJ&&hasOwn$1(X,U)?(X[U]=W,!0):hasOwn$1(G.props,U)||U[0]==="$"&&U.slice(1)in G?!1:(oe[U]=W,!0)},has({_:{data:G,setupState:U,accessCache:W,ctx:X,appContext:ne,propsOptions:oe}},le){let se;return!!W[le]||G!==EMPTY_OBJ&&hasOwn$1(G,le)||hasSetupBinding(U,le)||(se=oe[0])&&hasOwn$1(se,le)||hasOwn$1(X,le)||hasOwn$1(publicPropertiesMap,le)||hasOwn$1(ne.config.globalProperties,le)},defineProperty(G,U,W){return W.get!=null?G._.accessCache[U]=0:hasOwn$1(W,"value")&&this.set(G,U,W.value,null),Reflect.defineProperty(G,U,W)}};let shouldCacheAccess=!0;function applyOptions(G){const U=resolveMergedOptions(G),W=G.proxy,X=G.ctx;shouldCacheAccess=!1,U.beforeCreate&&callHook$1(U.beforeCreate,G,"bc");const{data:ne,computed:oe,methods:le,watch:se,provide:ue,inject:ce,created:fe,beforeMount:me,mounted:ve,beforeUpdate:be,updated:Se,activated:_e,deactivated:Ae,beforeDestroy:ke,beforeUnmount:Me,destroyed:Le,unmounted:qe,render:Je,renderTracked:Fe,renderTriggered:Ve,errorCaptured:Ze,serverPrefetch:Xe,expose:dt,inheritAttrs:ht,components:lt,directives:xt,filters:It}=U;if(ce&&resolveInjections(ce,X,null,G.appContext.config.unwrapInjectedRef),le)for(const st in le){const vt=le[st];isFunction$2(vt)&&(X[st]=vt.bind(W))}if(ne){const st=ne.call(W,W);isObject$2(st)&&(G.data=reactive(st))}if(shouldCacheAccess=!0,oe)for(const st in oe){const vt=oe[st],Ot=isFunction$2(vt)?vt.bind(W,W):isFunction$2(vt.get)?vt.get.bind(W,W):NOOP,wt=!isFunction$2(vt)&&isFunction$2(vt.set)?vt.set.bind(W):NOOP,Wt=computed({get:Ot,set:wt});Object.defineProperty(X,st,{enumerable:!0,configurable:!0,get:()=>Wt.value,set:qt=>Wt.value=qt})}if(se)for(const st in se)createWatcher(se[st],X,W,st);if(ue){const st=isFunction$2(ue)?ue.call(W):ue;Reflect.ownKeys(st).forEach(vt=>{provide(vt,st[vt])})}fe&&callHook$1(fe,G,"c");function ot(st,vt){isArray$3(vt)?vt.forEach(Ot=>st(Ot.bind(W))):vt&&st(vt.bind(W))}if(ot(onBeforeMount,me),ot(onMounted,ve),ot(onBeforeUpdate,be),ot(onUpdated,Se),ot(onActivated,_e),ot(onDeactivated,Ae),ot(onErrorCaptured,Ze),ot(onRenderTracked,Fe),ot(onRenderTriggered,Ve),ot(onBeforeUnmount,Me),ot(onUnmounted,qe),ot(onServerPrefetch,Xe),isArray$3(dt))if(dt.length){const st=G.exposed||(G.exposed={});dt.forEach(vt=>{Object.defineProperty(st,vt,{get:()=>W[vt],set:Ot=>W[vt]=Ot})})}else G.exposed||(G.exposed={});Je&&G.render===NOOP&&(G.render=Je),ht!=null&&(G.inheritAttrs=ht),lt&&(G.components=lt),xt&&(G.directives=xt)}function resolveInjections(G,U,W=NOOP,X=!1){isArray$3(G)&&(G=normalizeInject(G));for(const ne in G){const oe=G[ne];let le;isObject$2(oe)?"default"in oe?le=inject(oe.from||ne,oe.default,!0):le=inject(oe.from||ne):le=inject(oe),isRef(le)&&X?Object.defineProperty(U,ne,{enumerable:!0,configurable:!0,get:()=>le.value,set:se=>le.value=se}):U[ne]=le}}function callHook$1(G,U,W){callWithAsyncErrorHandling(isArray$3(G)?G.map(X=>X.bind(U.proxy)):G.bind(U.proxy),U,W)}function createWatcher(G,U,W,X){const ne=X.includes(".")?createPathGetter(W,X):()=>W[X];if(isString$1(G)){const oe=U[G];isFunction$2(oe)&&watch$1(ne,oe)}else if(isFunction$2(G))watch$1(ne,G.bind(W));else if(isObject$2(G))if(isArray$3(G))G.forEach(oe=>createWatcher(oe,U,W,X));else{const oe=isFunction$2(G.handler)?G.handler.bind(W):U[G.handler];isFunction$2(oe)&&watch$1(ne,oe,G)}}function resolveMergedOptions(G){const U=G.type,{mixins:W,extends:X}=U,{mixins:ne,optionsCache:oe,config:{optionMergeStrategies:le}}=G.appContext,se=oe.get(U);let ue;return se?ue=se:!ne.length&&!W&&!X?ue=U:(ue={},ne.length&&ne.forEach(ce=>mergeOptions(ue,ce,le,!0)),mergeOptions(ue,U,le)),isObject$2(U)&&oe.set(U,ue),ue}function mergeOptions(G,U,W,X=!1){const{mixins:ne,extends:oe}=U;oe&&mergeOptions(G,oe,W,!0),ne&&ne.forEach(le=>mergeOptions(G,le,W,!0));for(const le in U)if(!(X&&le==="expose")){const se=internalOptionMergeStrats[le]||W&&W[le];G[le]=se?se(G[le],U[le]):U[le]}return G}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(G,U){return U?G?function(){return extend(isFunction$2(G)?G.call(this,this):G,isFunction$2(U)?U.call(this,this):U)}:U:G}function mergeInject(G,U){return mergeObjectOptions(normalizeInject(G),normalizeInject(U))}function normalizeInject(G){if(isArray$3(G)){const U={};for(let W=0;W<G.length;W++)U[G[W]]=G[W];return U}return G}function mergeAsArray(G,U){return G?[...new Set([].concat(G,U))]:U}function mergeObjectOptions(G,U){return G?extend(extend(Object.create(null),G),U):U}function mergeWatchOptions(G,U){if(!G)return U;if(!U)return G;const W=extend(Object.create(null),G);for(const X in U)W[X]=mergeAsArray(G[X],U[X]);return W}function initProps(G,U,W,X=!1){const ne={},oe={};def(oe,InternalObjectKey,1),G.propsDefaults=Object.create(null),setFullProps(G,U,ne,oe);for(const le in G.propsOptions[0])le in ne||(ne[le]=void 0);W?G.props=X?ne:shallowReactive(ne):G.type.props?G.props=ne:G.props=oe,G.attrs=oe}function updateProps(G,U,W,X){const{props:ne,attrs:oe,vnode:{patchFlag:le}}=G,se=toRaw(ne),[ue]=G.propsOptions;let ce=!1;if((X||le>0)&&!(le&16)){if(le&8){const fe=G.vnode.dynamicProps;for(let me=0;me<fe.length;me++){let ve=fe[me];if(isEmitListener(G.emitsOptions,ve))continue;const be=U[ve];if(ue)if(hasOwn$1(oe,ve))be!==oe[ve]&&(oe[ve]=be,ce=!0);else{const Se=camelize$1(ve);ne[Se]=resolvePropValue$1(ue,se,Se,be,G,!1)}else be!==oe[ve]&&(oe[ve]=be,ce=!0)}}}else{setFullProps(G,U,ne,oe)&&(ce=!0);let fe;for(const me in se)(!U||!hasOwn$1(U,me)&&((fe=hyphenate$1(me))===me||!hasOwn$1(U,fe)))&&(ue?W&&(W[me]!==void 0||W[fe]!==void 0)&&(ne[me]=resolvePropValue$1(ue,se,me,void 0,G,!0)):delete ne[me]);if(oe!==se)for(const me in oe)(!U||!hasOwn$1(U,me)&&!0)&&(delete oe[me],ce=!0)}ce&&trigger$1(G,"set","$attrs")}function setFullProps(G,U,W,X){const[ne,oe]=G.propsOptions;let le=!1,se;if(U)for(let ue in U){if(isReservedProp(ue))continue;const ce=U[ue];let fe;ne&&hasOwn$1(ne,fe=camelize$1(ue))?!oe||!oe.includes(fe)?W[fe]=ce:(se||(se={}))[fe]=ce:isEmitListener(G.emitsOptions,ue)||(!(ue in X)||ce!==X[ue])&&(X[ue]=ce,le=!0)}if(oe){const ue=toRaw(W),ce=se||EMPTY_OBJ;for(let fe=0;fe<oe.length;fe++){const me=oe[fe];W[me]=resolvePropValue$1(ne,ue,me,ce[me],G,!hasOwn$1(ce,me))}}return le}function resolvePropValue$1(G,U,W,X,ne,oe){const le=G[W];if(le!=null){const se=hasOwn$1(le,"default");if(se&&X===void 0){const ue=le.default;if(le.type!==Function&&isFunction$2(ue)){const{propsDefaults:ce}=ne;W in ce?X=ce[W]:(setCurrentInstance(ne),X=ce[W]=ue.call(null,U),unsetCurrentInstance())}else X=ue}le[0]&&(oe&&!se?X=!1:le[1]&&(X===""||X===hyphenate$1(W))&&(X=!0))}return X}function normalizePropsOptions(G,U,W=!1){const X=U.propsCache,ne=X.get(G);if(ne)return ne;const oe=G.props,le={},se=[];let ue=!1;if(!isFunction$2(G)){const fe=me=>{ue=!0;const[ve,be]=normalizePropsOptions(me,U,!0);extend(le,ve),be&&se.push(...be)};!W&&U.mixins.length&&U.mixins.forEach(fe),G.extends&&fe(G.extends),G.mixins&&G.mixins.forEach(fe)}if(!oe&&!ue)return isObject$2(G)&&X.set(G,EMPTY_ARR),EMPTY_ARR;if(isArray$3(oe))for(let fe=0;fe<oe.length;fe++){const me=camelize$1(oe[fe]);validatePropName(me)&&(le[me]=EMPTY_OBJ)}else if(oe)for(const fe in oe){const me=camelize$1(fe);if(validatePropName(me)){const ve=oe[fe],be=le[me]=isArray$3(ve)||isFunction$2(ve)?{type:ve}:Object.assign({},ve);if(be){const Se=getTypeIndex(Boolean,be.type),_e=getTypeIndex(String,be.type);be[0]=Se>-1,be[1]=_e<0||Se<_e,(Se>-1||hasOwn$1(be,"default"))&&se.push(me)}}}const ce=[le,se];return isObject$2(G)&&X.set(G,ce),ce}function validatePropName(G){return G[0]!=="$"}function getType(G){const U=G&&G.toString().match(/^\s*function (\w+)/);return U?U[1]:G===null?"null":""}function isSameType(G,U){return getType(G)===getType(U)}function getTypeIndex(G,U){return isArray$3(U)?U.findIndex(W=>isSameType(W,G)):isFunction$2(U)&&isSameType(U,G)?0:-1}const isInternalKey=G=>G[0]==="_"||G==="$stable",normalizeSlotValue=G=>isArray$3(G)?G.map(normalizeVNode):[normalizeVNode(G)],normalizeSlot=(G,U,W)=>{if(U._n)return U;const X=withCtx((...ne)=>normalizeSlotValue(U(...ne)),W);return X._c=!1,X},normalizeObjectSlots=(G,U,W)=>{const X=G._ctx;for(const ne in G){if(isInternalKey(ne))continue;const oe=G[ne];if(isFunction$2(oe))U[ne]=normalizeSlot(ne,oe,X);else if(oe!=null){const le=normalizeSlotValue(oe);U[ne]=()=>le}}},normalizeVNodeSlots=(G,U)=>{const W=normalizeSlotValue(U);G.slots.default=()=>W},initSlots=(G,U)=>{if(G.vnode.shapeFlag&32){const W=U._;W?(G.slots=toRaw(U),def(U,"_",W)):normalizeObjectSlots(U,G.slots={})}else G.slots={},U&&normalizeVNodeSlots(G,U);def(G.slots,InternalObjectKey,1)},updateSlots=(G,U,W)=>{const{vnode:X,slots:ne}=G;let oe=!0,le=EMPTY_OBJ;if(X.shapeFlag&32){const se=U._;se?W&&se===1?oe=!1:(extend(ne,U),!W&&se===1&&delete ne._):(oe=!U.$stable,normalizeObjectSlots(U,ne)),le=U}else U&&(normalizeVNodeSlots(G,U),le={default:1});if(oe)for(const se in ne)!isInternalKey(se)&&!(se in le)&&delete ne[se]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(G,U){return function(X,ne=null){isFunction$2(X)||(X=Object.assign({},X)),ne!=null&&!isObject$2(ne)&&(ne=null);const oe=createAppContext(),le=new Set;let se=!1;const ue=oe.app={_uid:uid++,_component:X,_props:ne,_container:null,_context:oe,_instance:null,version,get config(){return oe.config},set config(ce){},use(ce,...fe){return le.has(ce)||(ce&&isFunction$2(ce.install)?(le.add(ce),ce.install(ue,...fe)):isFunction$2(ce)&&(le.add(ce),ce(ue,...fe))),ue},mixin(ce){return oe.mixins.includes(ce)||oe.mixins.push(ce),ue},component(ce,fe){return fe?(oe.components[ce]=fe,ue):oe.components[ce]},directive(ce,fe){return fe?(oe.directives[ce]=fe,ue):oe.directives[ce]},mount(ce,fe,me){if(!se){const ve=createVNode(X,ne);return ve.appContext=oe,fe&&U?U(ve,ce):G(ve,ce,me),se=!0,ue._container=ce,ce.__vue_app__=ue,getExposeProxy(ve.component)||ve.component.proxy}},unmount(){se&&(G(null,ue._container),delete ue._container.__vue_app__)},provide(ce,fe){return oe.provides[ce]=fe,ue}};return ue}}function setRef(G,U,W,X,ne=!1){if(isArray$3(G)){G.forEach((ve,be)=>setRef(ve,U&&(isArray$3(U)?U[be]:U),W,X,ne));return}if(isAsyncWrapper(X)&&!ne)return;const oe=X.shapeFlag&4?getExposeProxy(X.component)||X.component.proxy:X.el,le=ne?null:oe,{i:se,r:ue}=G,ce=U&&U.r,fe=se.refs===EMPTY_OBJ?se.refs={}:se.refs,me=se.setupState;if(ce!=null&&ce!==ue&&(isString$1(ce)?(fe[ce]=null,hasOwn$1(me,ce)&&(me[ce]=null)):isRef(ce)&&(ce.value=null)),isFunction$2(ue))callWithErrorHandling(ue,se,12,[le,fe]);else{const ve=isString$1(ue),be=isRef(ue);if(ve||be){const Se=()=>{if(G.f){const _e=ve?hasOwn$1(me,ue)?me[ue]:fe[ue]:ue.value;ne?isArray$3(_e)&&remove(_e,oe):isArray$3(_e)?_e.includes(oe)||_e.push(oe):ve?(fe[ue]=[oe],hasOwn$1(me,ue)&&(me[ue]=fe[ue])):(ue.value=[oe],G.k&&(fe[G.k]=ue.value))}else ve?(fe[ue]=le,hasOwn$1(me,ue)&&(me[ue]=le)):be&&(ue.value=le,G.k&&(fe[G.k]=le))};le?(Se.id=-1,queuePostRenderEffect(Se,W)):Se()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(G){return baseCreateRenderer(G)}function baseCreateRenderer(G,U){const W=getGlobalThis();W.__VUE__=!0;const{insert:X,remove:ne,patchProp:oe,createElement:le,createText:se,createComment:ue,setText:ce,setElementText:fe,parentNode:me,nextSibling:ve,setScopeId:be=NOOP,insertStaticContent:Se}=G,_e=(je,ze,we,Ie=null,We=null,rt=null,tt=!1,pt=null,at=!!ze.dynamicChildren)=>{if(je===ze)return;je&&!isSameVNodeType(je,ze)&&(Ie=Nt(je),qt(je,We,rt,!0),je=null),ze.patchFlag===-2&&(at=!1,ze.dynamicChildren=null);const{type:it,ref:bt,shapeFlag:yt}=ze;switch(it){case Text:Ae(je,ze,we,Ie);break;case Comment:ke(je,ze,we,Ie);break;case Static:je==null&&Me(ze,we,Ie,tt);break;case Fragment:lt(je,ze,we,Ie,We,rt,tt,pt,at);break;default:yt&1?Je(je,ze,we,Ie,We,rt,tt,pt,at):yt&6?xt(je,ze,we,Ie,We,rt,tt,pt,at):(yt&64||yt&128)&&it.process(je,ze,we,Ie,We,rt,tt,pt,at,Ft)}bt!=null&&We&&setRef(bt,je&&je.ref,rt,ze||je,!ze)},Ae=(je,ze,we,Ie)=>{if(je==null)X(ze.el=se(ze.children),we,Ie);else{const We=ze.el=je.el;ze.children!==je.children&&ce(We,ze.children)}},ke=(je,ze,we,Ie)=>{je==null?X(ze.el=ue(ze.children||""),we,Ie):ze.el=je.el},Me=(je,ze,we,Ie)=>{[je.el,je.anchor]=Se(je.children,ze,we,Ie,je.el,je.anchor)},Le=({el:je,anchor:ze},we,Ie)=>{let We;for(;je&&je!==ze;)We=ve(je),X(je,we,Ie),je=We;X(ze,we,Ie)},qe=({el:je,anchor:ze})=>{let we;for(;je&&je!==ze;)we=ve(je),ne(je),je=we;ne(ze)},Je=(je,ze,we,Ie,We,rt,tt,pt,at)=>{tt=tt||ze.type==="svg",je==null?Fe(ze,we,Ie,We,rt,tt,pt,at):Xe(je,ze,We,rt,tt,pt,at)},Fe=(je,ze,we,Ie,We,rt,tt,pt)=>{let at,it;const{type:bt,props:yt,shapeFlag:St,transition:At,dirs:Bt}=je;if(at=je.el=le(je.type,rt,yt&&yt.is,yt),St&8?fe(at,je.children):St&16&&Ze(je.children,at,null,Ie,We,rt&&bt!=="foreignObject",tt,pt),Bt&&invokeDirectiveHook(je,null,Ie,"created"),yt){for(const cn in yt)cn!=="value"&&!isReservedProp(cn)&&oe(at,cn,null,yt[cn],rt,je.children,Ie,We,en);"value"in yt&&oe(at,"value",null,yt.value),(it=yt.onVnodeBeforeMount)&&invokeVNodeHook(it,Ie,je)}Ve(at,je,je.scopeId,tt,Ie),Bt&&invokeDirectiveHook(je,null,Ie,"beforeMount");const on=(!We||We&&!We.pendingBranch)&&At&&!At.persisted;on&&At.beforeEnter(at),X(at,ze,we),((it=yt&&yt.onVnodeMounted)||on||Bt)&&queuePostRenderEffect(()=>{it&&invokeVNodeHook(it,Ie,je),on&&At.enter(at),Bt&&invokeDirectiveHook(je,null,Ie,"mounted")},We)},Ve=(je,ze,we,Ie,We)=>{if(we&&be(je,we),Ie)for(let rt=0;rt<Ie.length;rt++)be(je,Ie[rt]);if(We){let rt=We.subTree;if(ze===rt){const tt=We.vnode;Ve(je,tt,tt.scopeId,tt.slotScopeIds,We.parent)}}},Ze=(je,ze,we,Ie,We,rt,tt,pt,at=0)=>{for(let it=at;it<je.length;it++){const bt=je[it]=pt?cloneIfMounted(je[it]):normalizeVNode(je[it]);_e(null,bt,ze,we,Ie,We,rt,tt,pt)}},Xe=(je,ze,we,Ie,We,rt,tt)=>{const pt=ze.el=je.el;let{patchFlag:at,dynamicChildren:it,dirs:bt}=ze;at|=je.patchFlag&16;const yt=je.props||EMPTY_OBJ,St=ze.props||EMPTY_OBJ;let At;we&&toggleRecurse(we,!1),(At=St.onVnodeBeforeUpdate)&&invokeVNodeHook(At,we,ze,je),bt&&invokeDirectiveHook(ze,je,we,"beforeUpdate"),we&&toggleRecurse(we,!0);const Bt=We&&ze.type!=="foreignObject";if(it?dt(je.dynamicChildren,it,pt,we,Ie,Bt,rt):tt||vt(je,ze,pt,null,we,Ie,Bt,rt,!1),at>0){if(at&16)ht(pt,ze,yt,St,we,Ie,We);else if(at&2&&yt.class!==St.class&&oe(pt,"class",null,St.class,We),at&4&&oe(pt,"style",yt.style,St.style,We),at&8){const on=ze.dynamicProps;for(let cn=0;cn<on.length;cn++){const Oe=on[cn],Pe=yt[Oe],He=St[Oe];(He!==Pe||Oe==="value")&&oe(pt,Oe,Pe,He,We,je.children,we,Ie,en)}}at&1&&je.children!==ze.children&&fe(pt,ze.children)}else!tt&&it==null&&ht(pt,ze,yt,St,we,Ie,We);((At=St.onVnodeUpdated)||bt)&&queuePostRenderEffect(()=>{At&&invokeVNodeHook(At,we,ze,je),bt&&invokeDirectiveHook(ze,je,we,"updated")},Ie)},dt=(je,ze,we,Ie,We,rt,tt)=>{for(let pt=0;pt<ze.length;pt++){const at=je[pt],it=ze[pt],bt=at.el&&(at.type===Fragment||!isSameVNodeType(at,it)||at.shapeFlag&70)?me(at.el):we;_e(at,it,bt,null,Ie,We,rt,tt,!0)}},ht=(je,ze,we,Ie,We,rt,tt)=>{if(we!==Ie){if(we!==EMPTY_OBJ)for(const pt in we)!isReservedProp(pt)&&!(pt in Ie)&&oe(je,pt,we[pt],null,tt,ze.children,We,rt,en);for(const pt in Ie){if(isReservedProp(pt))continue;const at=Ie[pt],it=we[pt];at!==it&&pt!=="value"&&oe(je,pt,it,at,tt,ze.children,We,rt,en)}"value"in Ie&&oe(je,"value",we.value,Ie.value)}},lt=(je,ze,we,Ie,We,rt,tt,pt,at)=>{const it=ze.el=je?je.el:se(""),bt=ze.anchor=je?je.anchor:se("");let{patchFlag:yt,dynamicChildren:St,slotScopeIds:At}=ze;At&&(pt=pt?pt.concat(At):At),je==null?(X(it,we,Ie),X(bt,we,Ie),Ze(ze.children,we,bt,We,rt,tt,pt,at)):yt>0&&yt&64&&St&&je.dynamicChildren?(dt(je.dynamicChildren,St,we,We,rt,tt,pt),(ze.key!=null||We&&ze===We.subTree)&&traverseStaticChildren(je,ze,!0)):vt(je,ze,we,bt,We,rt,tt,pt,at)},xt=(je,ze,we,Ie,We,rt,tt,pt,at)=>{ze.slotScopeIds=pt,je==null?ze.shapeFlag&512?We.ctx.activate(ze,we,Ie,tt,at):It(ze,we,Ie,We,rt,tt,at):mt(je,ze,at)},It=(je,ze,we,Ie,We,rt,tt)=>{const pt=je.component=createComponentInstance(je,Ie,We);if(isKeepAlive(je)&&(pt.ctx.renderer=Ft),setupComponent(pt),pt.asyncDep){if(We&&We.registerDep(pt,ot),!je.el){const at=pt.subTree=createVNode(Comment);ke(null,at,ze,we)}return}ot(pt,je,ze,we,We,rt,tt)},mt=(je,ze,we)=>{const Ie=ze.component=je.component;if(shouldUpdateComponent(je,ze,we))if(Ie.asyncDep&&!Ie.asyncResolved){st(Ie,ze,we);return}else Ie.next=ze,invalidateJob(Ie.update),Ie.update();else ze.el=je.el,Ie.vnode=ze},ot=(je,ze,we,Ie,We,rt,tt)=>{const pt=()=>{if(je.isMounted){let{next:bt,bu:yt,u:St,parent:At,vnode:Bt}=je,on=bt,cn;toggleRecurse(je,!1),bt?(bt.el=Bt.el,st(je,bt,tt)):bt=Bt,yt&&invokeArrayFns(yt),(cn=bt.props&&bt.props.onVnodeBeforeUpdate)&&invokeVNodeHook(cn,At,bt,Bt),toggleRecurse(je,!0);const Oe=renderComponentRoot(je),Pe=je.subTree;je.subTree=Oe,_e(Pe,Oe,me(Pe.el),Nt(Pe),je,We,rt),bt.el=Oe.el,on===null&&updateHOCHostEl(je,Oe.el),St&&queuePostRenderEffect(St,We),(cn=bt.props&&bt.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(cn,At,bt,Bt),We)}else{let bt;const{el:yt,props:St}=ze,{bm:At,m:Bt,parent:on}=je,cn=isAsyncWrapper(ze);if(toggleRecurse(je,!1),At&&invokeArrayFns(At),!cn&&(bt=St&&St.onVnodeBeforeMount)&&invokeVNodeHook(bt,on,ze),toggleRecurse(je,!0),yt&&un){const Oe=()=>{je.subTree=renderComponentRoot(je),un(yt,je.subTree,je,We,null)};cn?ze.type.__asyncLoader().then(()=>!je.isUnmounted&&Oe()):Oe()}else{const Oe=je.subTree=renderComponentRoot(je);_e(null,Oe,we,Ie,je,We,rt),ze.el=Oe.el}if(Bt&&queuePostRenderEffect(Bt,We),!cn&&(bt=St&&St.onVnodeMounted)){const Oe=ze;queuePostRenderEffect(()=>invokeVNodeHook(bt,on,Oe),We)}(ze.shapeFlag&256||on&&isAsyncWrapper(on.vnode)&&on.vnode.shapeFlag&256)&&je.a&&queuePostRenderEffect(je.a,We),je.isMounted=!0,ze=we=Ie=null}},at=je.effect=new ReactiveEffect(pt,()=>queueJob(it),je.scope),it=je.update=()=>at.run();it.id=je.uid,toggleRecurse(je,!0),it()},st=(je,ze,we)=>{ze.component=je;const Ie=je.vnode.props;je.vnode=ze,je.next=null,updateProps(je,ze.props,Ie,we),updateSlots(je,ze.children,we),pauseTracking(),flushPreFlushCbs(),resetTracking()},vt=(je,ze,we,Ie,We,rt,tt,pt,at=!1)=>{const it=je&&je.children,bt=je?je.shapeFlag:0,yt=ze.children,{patchFlag:St,shapeFlag:At}=ze;if(St>0){if(St&128){wt(it,yt,we,Ie,We,rt,tt,pt,at);return}else if(St&256){Ot(it,yt,we,Ie,We,rt,tt,pt,at);return}}At&8?(bt&16&&en(it,We,rt),yt!==it&&fe(we,yt)):bt&16?At&16?wt(it,yt,we,Ie,We,rt,tt,pt,at):en(it,We,rt,!0):(bt&8&&fe(we,""),At&16&&Ze(yt,we,Ie,We,rt,tt,pt,at))},Ot=(je,ze,we,Ie,We,rt,tt,pt,at)=>{je=je||EMPTY_ARR,ze=ze||EMPTY_ARR;const it=je.length,bt=ze.length,yt=Math.min(it,bt);let St;for(St=0;St<yt;St++){const At=ze[St]=at?cloneIfMounted(ze[St]):normalizeVNode(ze[St]);_e(je[St],At,we,null,We,rt,tt,pt,at)}it>bt?en(je,We,rt,!0,!1,yt):Ze(ze,we,Ie,We,rt,tt,pt,at,yt)},wt=(je,ze,we,Ie,We,rt,tt,pt,at)=>{let it=0;const bt=ze.length;let yt=je.length-1,St=bt-1;for(;it<=yt&&it<=St;){const At=je[it],Bt=ze[it]=at?cloneIfMounted(ze[it]):normalizeVNode(ze[it]);if(isSameVNodeType(At,Bt))_e(At,Bt,we,null,We,rt,tt,pt,at);else break;it++}for(;it<=yt&&it<=St;){const At=je[yt],Bt=ze[St]=at?cloneIfMounted(ze[St]):normalizeVNode(ze[St]);if(isSameVNodeType(At,Bt))_e(At,Bt,we,null,We,rt,tt,pt,at);else break;yt--,St--}if(it>yt){if(it<=St){const At=St+1,Bt=At<bt?ze[At].el:Ie;for(;it<=St;)_e(null,ze[it]=at?cloneIfMounted(ze[it]):normalizeVNode(ze[it]),we,Bt,We,rt,tt,pt,at),it++}}else if(it>St)for(;it<=yt;)qt(je[it],We,rt,!0),it++;else{const At=it,Bt=it,on=new Map;for(it=Bt;it<=St;it++){const Kt=ze[it]=at?cloneIfMounted(ze[it]):normalizeVNode(ze[it]);Kt.key!=null&&on.set(Kt.key,it)}let cn,Oe=0;const Pe=St-Bt+1;let He=!1,Ue=0;const Et=new Array(Pe);for(it=0;it<Pe;it++)Et[it]=0;for(it=At;it<=yt;it++){const Kt=je[it];if(Oe>=Pe){qt(Kt,We,rt,!0);continue}let vn;if(Kt.key!=null)vn=on.get(Kt.key);else for(cn=Bt;cn<=St;cn++)if(Et[cn-Bt]===0&&isSameVNodeType(Kt,ze[cn])){vn=cn;break}vn===void 0?qt(Kt,We,rt,!0):(Et[vn-Bt]=it+1,vn>=Ue?Ue=vn:He=!0,_e(Kt,ze[vn],we,null,We,rt,tt,pt,at),Oe++)}const kt=He?getSequence(Et):EMPTY_ARR;for(cn=kt.length-1,it=Pe-1;it>=0;it--){const Kt=Bt+it,vn=ze[Kt],rn=Kt+1<bt?ze[Kt+1].el:Ie;Et[it]===0?_e(null,vn,we,rn,We,rt,tt,pt,at):He&&(cn<0||it!==kt[cn]?Wt(vn,we,rn,2):cn--)}}},Wt=(je,ze,we,Ie,We=null)=>{const{el:rt,type:tt,transition:pt,children:at,shapeFlag:it}=je;if(it&6){Wt(je.component.subTree,ze,we,Ie);return}if(it&128){je.suspense.move(ze,we,Ie);return}if(it&64){tt.move(je,ze,we,Ft);return}if(tt===Fragment){X(rt,ze,we);for(let yt=0;yt<at.length;yt++)Wt(at[yt],ze,we,Ie);X(je.anchor,ze,we);return}if(tt===Static){Le(je,ze,we);return}if(Ie!==2&&it&1&&pt)if(Ie===0)pt.beforeEnter(rt),X(rt,ze,we),queuePostRenderEffect(()=>pt.enter(rt),We);else{const{leave:yt,delayLeave:St,afterLeave:At}=pt,Bt=()=>X(rt,ze,we),on=()=>{yt(rt,()=>{Bt(),At&&At()})};St?St(rt,Bt,on):on()}else X(rt,ze,we)},qt=(je,ze,we,Ie=!1,We=!1)=>{const{type:rt,props:tt,ref:pt,children:at,dynamicChildren:it,shapeFlag:bt,patchFlag:yt,dirs:St}=je;if(pt!=null&&setRef(pt,null,we,je,!0),bt&256){ze.ctx.deactivate(je);return}const At=bt&1&&St,Bt=!isAsyncWrapper(je);let on;if(Bt&&(on=tt&&tt.onVnodeBeforeUnmount)&&invokeVNodeHook(on,ze,je),bt&6)nn(je.component,we,Ie);else{if(bt&128){je.suspense.unmount(we,Ie);return}At&&invokeDirectiveHook(je,null,ze,"beforeUnmount"),bt&64?je.type.remove(je,ze,we,We,Ft,Ie):it&&(rt!==Fragment||yt>0&&yt&64)?en(it,ze,we,!1,!0):(rt===Fragment&&yt&384||!We&&bt&16)&&en(at,ze,we),Ie&&_t(je)}(Bt&&(on=tt&&tt.onVnodeUnmounted)||At)&&queuePostRenderEffect(()=>{on&&invokeVNodeHook(on,ze,je),At&&invokeDirectiveHook(je,null,ze,"unmounted")},we)},_t=je=>{const{type:ze,el:we,anchor:Ie,transition:We}=je;if(ze===Fragment){zt(we,Ie);return}if(ze===Static){qe(je);return}const rt=()=>{ne(we),We&&!We.persisted&&We.afterLeave&&We.afterLeave()};if(je.shapeFlag&1&&We&&!We.persisted){const{leave:tt,delayLeave:pt}=We,at=()=>tt(we,rt);pt?pt(je.el,rt,at):at()}else rt()},zt=(je,ze)=>{let we;for(;je!==ze;)we=ve(je),ne(je),je=we;ne(ze)},nn=(je,ze,we)=>{const{bum:Ie,scope:We,update:rt,subTree:tt,um:pt}=je;Ie&&invokeArrayFns(Ie),We.stop(),rt&&(rt.active=!1,qt(tt,je,ze,we)),pt&&queuePostRenderEffect(pt,ze),queuePostRenderEffect(()=>{je.isUnmounted=!0},ze),ze&&ze.pendingBranch&&!ze.isUnmounted&&je.asyncDep&&!je.asyncResolved&&je.suspenseId===ze.pendingId&&(ze.deps--,ze.deps===0&&ze.resolve())},en=(je,ze,we,Ie=!1,We=!1,rt=0)=>{for(let tt=rt;tt<je.length;tt++)qt(je[tt],ze,we,Ie,We)},Nt=je=>je.shapeFlag&6?Nt(je.component.subTree):je.shapeFlag&128?je.suspense.next():ve(je.anchor||je.el),Ut=(je,ze,we)=>{je==null?ze._vnode&&qt(ze._vnode,null,null,!0):_e(ze._vnode||null,je,ze,null,null,null,we),flushPreFlushCbs(),flushPostFlushCbs(),ze._vnode=je},Ft={p:_e,um:qt,m:Wt,r:_t,mt:It,mc:Ze,pc:vt,pbc:dt,n:Nt,o:G};let sn,un;return U&&([sn,un]=U(Ft)),{render:Ut,hydrate:sn,createApp:createAppAPI(Ut,sn)}}function toggleRecurse({effect:G,update:U},W){G.allowRecurse=U.allowRecurse=W}function traverseStaticChildren(G,U,W=!1){const X=G.children,ne=U.children;if(isArray$3(X)&&isArray$3(ne))for(let oe=0;oe<X.length;oe++){const le=X[oe];let se=ne[oe];se.shapeFlag&1&&!se.dynamicChildren&&((se.patchFlag<=0||se.patchFlag===32)&&(se=ne[oe]=cloneIfMounted(ne[oe]),se.el=le.el),W||traverseStaticChildren(le,se)),se.type===Text&&(se.el=le.el)}}function getSequence(G){const U=G.slice(),W=[0];let X,ne,oe,le,se;const ue=G.length;for(X=0;X<ue;X++){const ce=G[X];if(ce!==0){if(ne=W[W.length-1],G[ne]<ce){U[X]=ne,W.push(X);continue}for(oe=0,le=W.length-1;oe<le;)se=oe+le>>1,G[W[se]]<ce?oe=se+1:le=se;ce<G[W[oe]]&&(oe>0&&(U[X]=W[oe-1]),W[oe]=X)}}for(oe=W.length,le=W[oe-1];oe-- >0;)W[oe]=le,le=U[le];return W}const isTeleport=G=>G.__isTeleport,isTeleportDisabled=G=>G&&(G.disabled||G.disabled===""),isTargetSVG=G=>typeof SVGElement<"u"&&G instanceof SVGElement,resolveTarget=(G,U)=>{const W=G&&G.to;return isString$1(W)?U?U(W):null:W},TeleportImpl={__isTeleport:!0,process(G,U,W,X,ne,oe,le,se,ue,ce){const{mc:fe,pc:me,pbc:ve,o:{insert:be,querySelector:Se,createText:_e,createComment:Ae}}=ce,ke=isTeleportDisabled(U.props);let{shapeFlag:Me,children:Le,dynamicChildren:qe}=U;if(G==null){const Je=U.el=_e(""),Fe=U.anchor=_e("");be(Je,W,X),be(Fe,W,X);const Ve=U.target=resolveTarget(U.props,Se),Ze=U.targetAnchor=_e("");Ve&&(be(Ze,Ve),le=le||isTargetSVG(Ve));const Xe=(dt,ht)=>{Me&16&&fe(Le,dt,ht,ne,oe,le,se,ue)};ke?Xe(W,Fe):Ve&&Xe(Ve,Ze)}else{U.el=G.el;const Je=U.anchor=G.anchor,Fe=U.target=G.target,Ve=U.targetAnchor=G.targetAnchor,Ze=isTeleportDisabled(G.props),Xe=Ze?W:Fe,dt=Ze?Je:Ve;if(le=le||isTargetSVG(Fe),qe?(ve(G.dynamicChildren,qe,Xe,ne,oe,le,se),traverseStaticChildren(G,U,!0)):ue||me(G,U,Xe,dt,ne,oe,le,se,!1),ke)Ze||moveTeleport(U,W,Je,ce,1);else if((U.props&&U.props.to)!==(G.props&&G.props.to)){const ht=U.target=resolveTarget(U.props,Se);ht&&moveTeleport(U,ht,null,ce,0)}else Ze&&moveTeleport(U,Fe,Ve,ce,1)}updateCssVars(U)},remove(G,U,W,X,{um:ne,o:{remove:oe}},le){const{shapeFlag:se,children:ue,anchor:ce,targetAnchor:fe,target:me,props:ve}=G;if(me&&oe(fe),(le||!isTeleportDisabled(ve))&&(oe(ce),se&16))for(let be=0;be<ue.length;be++){const Se=ue[be];ne(Se,U,W,!0,!!Se.dynamicChildren)}},move:moveTeleport,hydrate:hydrateTeleport};function moveTeleport(G,U,W,{o:{insert:X},m:ne},oe=2){oe===0&&X(G.targetAnchor,U,W);const{el:le,anchor:se,shapeFlag:ue,children:ce,props:fe}=G,me=oe===2;if(me&&X(le,U,W),(!me||isTeleportDisabled(fe))&&ue&16)for(let ve=0;ve<ce.length;ve++)ne(ce[ve],U,W,2);me&&X(se,U,W)}function hydrateTeleport(G,U,W,X,ne,oe,{o:{nextSibling:le,parentNode:se,querySelector:ue}},ce){const fe=U.target=resolveTarget(U.props,ue);if(fe){const me=fe._lpa||fe.firstChild;if(U.shapeFlag&16)if(isTeleportDisabled(U.props))U.anchor=ce(le(G),U,se(G),W,X,ne,oe),U.targetAnchor=me;else{U.anchor=le(G);let ve=me;for(;ve;)if(ve=le(ve),ve&&ve.nodeType===8&&ve.data==="teleport anchor"){U.targetAnchor=ve,fe._lpa=U.targetAnchor&&le(U.targetAnchor);break}ce(me,U,fe,W,X,ne,oe)}updateCssVars(U)}return U.anchor&&le(U.anchor)}const Teleport=TeleportImpl;function updateCssVars(G){const U=G.ctx;if(U&&U.ut){let W=G.children[0].el;for(;W!==G.targetAnchor;)W.nodeType===1&&W.setAttribute("data-v-owner",U.uid),W=W.nextSibling;U.ut()}}const Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(G=!1){blockStack.push(currentBlock=G?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(G){isBlockTreeEnabled+=G}function setupBlock(G){return G.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(G),G}function createElementBlock(G,U,W,X,ne,oe){return setupBlock(createBaseVNode(G,U,W,X,ne,oe,!0))}function createBlock(G,U,W,X,ne){return setupBlock(createVNode(G,U,W,X,ne,!0))}function isVNode(G){return G?G.__v_isVNode===!0:!1}function isSameVNodeType(G,U){return G.type===U.type&&G.key===U.key}const InternalObjectKey="__vInternal",normalizeKey=({key:G})=>G!=null?G:null,normalizeRef=({ref:G,ref_key:U,ref_for:W})=>G!=null?isString$1(G)||isRef(G)||isFunction$2(G)?{i:currentRenderingInstance,r:G,k:U,f:!!W}:G:null;function createBaseVNode(G,U=null,W=null,X=0,ne=null,oe=G===Fragment?0:1,le=!1,se=!1){const ue={__v_isVNode:!0,__v_skip:!0,type:G,props:U,key:U&&normalizeKey(U),ref:U&&normalizeRef(U),scopeId:currentScopeId,slotScopeIds:null,children:W,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:oe,patchFlag:X,dynamicProps:ne,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return se?(normalizeChildren(ue,W),oe&128&&G.normalize(ue)):W&&(ue.shapeFlag|=isString$1(W)?8:16),isBlockTreeEnabled>0&&!le&&currentBlock&&(ue.patchFlag>0||oe&6)&&ue.patchFlag!==32&&currentBlock.push(ue),ue}const createVNode=_createVNode;function _createVNode(G,U=null,W=null,X=0,ne=null,oe=!1){if((!G||G===NULL_DYNAMIC_COMPONENT)&&(G=Comment),isVNode(G)){const se=cloneVNode(G,U,!0);return W&&normalizeChildren(se,W),isBlockTreeEnabled>0&&!oe&&currentBlock&&(se.shapeFlag&6?currentBlock[currentBlock.indexOf(G)]=se:currentBlock.push(se)),se.patchFlag|=-2,se}if(isClassComponent(G)&&(G=G.__vccOpts),U){U=guardReactiveProps(U);let{class:se,style:ue}=U;se&&!isString$1(se)&&(U.class=normalizeClass(se)),isObject$2(ue)&&(isProxy(ue)&&!isArray$3(ue)&&(ue=extend({},ue)),U.style=normalizeStyle(ue))}const le=isString$1(G)?1:isSuspense(G)?128:isTeleport(G)?64:isObject$2(G)?4:isFunction$2(G)?2:0;return createBaseVNode(G,U,W,X,ne,le,oe,!0)}function guardReactiveProps(G){return G?isProxy(G)||InternalObjectKey in G?extend({},G):G:null}function cloneVNode(G,U,W=!1){const{props:X,ref:ne,patchFlag:oe,children:le}=G,se=U?mergeProps(X||{},U):X;return{__v_isVNode:!0,__v_skip:!0,type:G.type,props:se,key:se&&normalizeKey(se),ref:U&&U.ref?W&&ne?isArray$3(ne)?ne.concat(normalizeRef(U)):[ne,normalizeRef(U)]:normalizeRef(U):ne,scopeId:G.scopeId,slotScopeIds:G.slotScopeIds,children:le,target:G.target,targetAnchor:G.targetAnchor,staticCount:G.staticCount,shapeFlag:G.shapeFlag,patchFlag:U&&G.type!==Fragment?oe===-1?16:oe|16:oe,dynamicProps:G.dynamicProps,dynamicChildren:G.dynamicChildren,appContext:G.appContext,dirs:G.dirs,transition:G.transition,component:G.component,suspense:G.suspense,ssContent:G.ssContent&&cloneVNode(G.ssContent),ssFallback:G.ssFallback&&cloneVNode(G.ssFallback),el:G.el,anchor:G.anchor,ctx:G.ctx}}function createTextVNode(G=" ",U=0){return createVNode(Text,null,G,U)}function createCommentVNode(G="",U=!1){return U?(openBlock(),createBlock(Comment,null,G)):createVNode(Comment,null,G)}function normalizeVNode(G){return G==null||typeof G=="boolean"?createVNode(Comment):isArray$3(G)?createVNode(Fragment,null,G.slice()):typeof G=="object"?cloneIfMounted(G):createVNode(Text,null,String(G))}function cloneIfMounted(G){return G.el===null&&G.patchFlag!==-1||G.memo?G:cloneVNode(G)}function normalizeChildren(G,U){let W=0;const{shapeFlag:X}=G;if(U==null)U=null;else if(isArray$3(U))W=16;else if(typeof U=="object")if(X&65){const ne=U.default;ne&&(ne._c&&(ne._d=!1),normalizeChildren(G,ne()),ne._c&&(ne._d=!0));return}else{W=32;const ne=U._;!ne&&!(InternalObjectKey in U)?U._ctx=currentRenderingInstance:ne===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?U._=1:(U._=2,G.patchFlag|=1024))}else isFunction$2(U)?(U={default:U,_ctx:currentRenderingInstance},W=32):(U=String(U),X&64?(W=16,U=[createTextVNode(U)]):W=8);G.children=U,G.shapeFlag|=W}function mergeProps(...G){const U={};for(let W=0;W<G.length;W++){const X=G[W];for(const ne in X)if(ne==="class")U.class!==X.class&&(U.class=normalizeClass([U.class,X.class]));else if(ne==="style")U.style=normalizeStyle([U.style,X.style]);else if(isOn$1(ne)){const oe=U[ne],le=X[ne];le&&oe!==le&&!(isArray$3(oe)&&oe.includes(le))&&(U[ne]=oe?[].concat(oe,le):le)}else ne!==""&&(U[ne]=X[ne])}return U}function invokeVNodeHook(G,U,W,X=null){callWithAsyncErrorHandling(G,U,7,[W,X])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(G,U,W){const X=G.type,ne=(U?U.appContext:G.appContext)||emptyAppContext,oe={uid:uid$1++,vnode:G,type:X,parent:U,appContext:ne,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:U?U.provides:Object.create(ne.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(X,ne),emitsOptions:normalizeEmitsOptions(X,ne),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:X.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:W,suspenseId:W?W.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return oe.ctx={_:oe},oe.root=U?U.root:oe,oe.emit=emit$1.bind(null,oe),G.ce&&G.ce(oe),oe}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=G=>{currentInstance=G,G.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(G){return G.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(G,U=!1){isInSSRComponentSetup=U;const{props:W,children:X}=G.vnode,ne=isStatefulComponent(G);initProps(G,W,ne,U),initSlots(G,X);const oe=ne?setupStatefulComponent(G,U):void 0;return isInSSRComponentSetup=!1,oe}function setupStatefulComponent(G,U){const W=G.type;G.accessCache=Object.create(null),G.proxy=markRaw(new Proxy(G.ctx,PublicInstanceProxyHandlers));const{setup:X}=W;if(X){const ne=G.setupContext=X.length>1?createSetupContext(G):null;setCurrentInstance(G),pauseTracking();const oe=callWithErrorHandling(X,G,0,[G.props,ne]);if(resetTracking(),unsetCurrentInstance(),isPromise(oe)){if(oe.then(unsetCurrentInstance,unsetCurrentInstance),U)return oe.then(le=>{handleSetupResult(G,le,U)}).catch(le=>{handleError(le,G,0)});G.asyncDep=oe}else handleSetupResult(G,oe,U)}else finishComponentSetup(G,U)}function handleSetupResult(G,U,W){isFunction$2(U)?G.type.__ssrInlineRender?G.ssrRender=U:G.render=U:isObject$2(U)&&(G.setupState=proxyRefs(U)),finishComponentSetup(G,W)}let compile;function finishComponentSetup(G,U,W){const X=G.type;if(!G.render){if(!U&&compile&&!X.render){const ne=X.template||resolveMergedOptions(G).template;if(ne){const{isCustomElement:oe,compilerOptions:le}=G.appContext.config,{delimiters:se,compilerOptions:ue}=X,ce=extend(extend({isCustomElement:oe,delimiters:se},le),ue);X.render=compile(ne,ce)}}G.render=X.render||NOOP}setCurrentInstance(G),pauseTracking(),applyOptions(G),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(G){return new Proxy(G.attrs,{get(U,W){return track(G,"get","$attrs"),U[W]}})}function createSetupContext(G){const U=X=>{G.exposed=X||{}};let W;return{get attrs(){return W||(W=createAttrsProxy(G))},slots:G.slots,emit:G.emit,expose:U}}function getExposeProxy(G){if(G.exposed)return G.exposeProxy||(G.exposeProxy=new Proxy(proxyRefs(markRaw(G.exposed)),{get(U,W){if(W in U)return U[W];if(W in publicPropertiesMap)return publicPropertiesMap[W](G)},has(U,W){return W in U||W in publicPropertiesMap}}))}function getComponentName(G,U=!0){return isFunction$2(G)?G.displayName||G.name:G.name||U&&G.__name}function isClassComponent(G){return isFunction$2(G)&&"__vccOpts"in G}const computed=(G,U)=>computed$1(G,U,isInSSRComponentSetup);function h$2(G,U,W){const X=arguments.length;return X===2?isObject$2(U)&&!isArray$3(U)?isVNode(U)?createVNode(G,null,[U]):createVNode(G,U):createVNode(G,null,U):(X>3?W=Array.prototype.slice.call(arguments,2):X===3&&isVNode(W)&&(W=[W]),createVNode(G,U,W))}const ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(G,U,W)=>{U.insertBefore(G,W||null)},remove:G=>{const U=G.parentNode;U&&U.removeChild(G)},createElement:(G,U,W,X)=>{const ne=U?doc.createElementNS(svgNS,G):doc.createElement(G,W?{is:W}:void 0);return G==="select"&&X&&X.multiple!=null&&ne.setAttribute("multiple",X.multiple),ne},createText:G=>doc.createTextNode(G),createComment:G=>doc.createComment(G),setText:(G,U)=>{G.nodeValue=U},setElementText:(G,U)=>{G.textContent=U},parentNode:G=>G.parentNode,nextSibling:G=>G.nextSibling,querySelector:G=>doc.querySelector(G),setScopeId(G,U){G.setAttribute(U,"")},insertStaticContent(G,U,W,X,ne,oe){const le=W?W.previousSibling:U.lastChild;if(ne&&(ne===oe||ne.nextSibling))for(;U.insertBefore(ne.cloneNode(!0),W),!(ne===oe||!(ne=ne.nextSibling)););else{templateContainer.innerHTML=X?`<svg>${G}</svg>`:G;const se=templateContainer.content;if(X){const ue=se.firstChild;for(;ue.firstChild;)se.appendChild(ue.firstChild);se.removeChild(ue)}U.insertBefore(se,W)}return[le?le.nextSibling:U.firstChild,W?W.previousSibling:U.lastChild]}};function patchClass(G,U,W){const X=G._vtc;X&&(U=(U?[U,...X]:[...X]).join(" ")),U==null?G.removeAttribute("class"):W?G.setAttribute("class",U):G.className=U}function patchStyle(G,U,W){const X=G.style,ne=isString$1(W);if(W&&!ne){for(const oe in W)setStyle$1(X,oe,W[oe]);if(U&&!isString$1(U))for(const oe in U)W[oe]==null&&setStyle$1(X,oe,"")}else{const oe=X.display;ne?U!==W&&(X.cssText=W):U&&G.removeAttribute("style"),"_vod"in G&&(X.display=oe)}}const importantRE=/\s*!important$/;function setStyle$1(G,U,W){if(isArray$3(W))W.forEach(X=>setStyle$1(G,U,X));else if(W==null&&(W=""),U.startsWith("--"))G.setProperty(U,W);else{const X=autoPrefix(G,U);importantRE.test(W)?G.setProperty(hyphenate$1(X),W.replace(importantRE,""),"important"):G[X]=W}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(G,U){const W=prefixCache[U];if(W)return W;let X=camelize$1(U);if(X!=="filter"&&X in G)return prefixCache[U]=X;X=capitalize(X);for(let ne=0;ne<prefixes.length;ne++){const oe=prefixes[ne]+X;if(oe in G)return prefixCache[U]=oe}return U}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(G,U,W,X,ne){if(X&&U.startsWith("xlink:"))W==null?G.removeAttributeNS(xlinkNS,U.slice(6,U.length)):G.setAttributeNS(xlinkNS,U,W);else{const oe=isSpecialBooleanAttr(U);W==null||oe&&!includeBooleanAttr(W)?G.removeAttribute(U):G.setAttribute(U,oe?"":W)}}function patchDOMProp(G,U,W,X,ne,oe,le){if(U==="innerHTML"||U==="textContent"){X&&le(X,ne,oe),G[U]=W==null?"":W;return}if(U==="value"&&G.tagName!=="PROGRESS"&&!G.tagName.includes("-")){G._value=W;const ue=W==null?"":W;(G.value!==ue||G.tagName==="OPTION")&&(G.value=ue),W==null&&G.removeAttribute(U);return}let se=!1;if(W===""||W==null){const ue=typeof G[U];ue==="boolean"?W=includeBooleanAttr(W):W==null&&ue==="string"?(W="",se=!0):ue==="number"&&(W=0,se=!0)}try{G[U]=W}catch{}se&&G.removeAttribute(U)}function addEventListener$2(G,U,W,X){G.addEventListener(U,W,X)}function removeEventListener$1(G,U,W,X){G.removeEventListener(U,W,X)}function patchEvent(G,U,W,X,ne=null){const oe=G._vei||(G._vei={}),le=oe[U];if(X&&le)le.value=X;else{const[se,ue]=parseName(U);if(X){const ce=oe[U]=createInvoker(X,ne);addEventListener$2(G,se,ce,ue)}else le&&(removeEventListener$1(G,se,le,ue),oe[U]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(G){let U;if(optionsModifierRE.test(G)){U={};let X;for(;X=G.match(optionsModifierRE);)G=G.slice(0,G.length-X[0].length),U[X[0].toLowerCase()]=!0}return[G[2]===":"?G.slice(3):hyphenate$1(G.slice(2)),U]}let cachedNow=0;const p$1=Promise.resolve(),getNow=()=>cachedNow||(p$1.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(G,U){const W=X=>{if(!X._vts)X._vts=Date.now();else if(X._vts<=W.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(X,W.value),U,5,[X])};return W.value=G,W.attached=getNow(),W}function patchStopImmediatePropagation(G,U){if(isArray$3(U)){const W=G.stopImmediatePropagation;return G.stopImmediatePropagation=()=>{W.call(G),G._stopped=!0},U.map(X=>ne=>!ne._stopped&&X&&X(ne))}else return U}const nativeOnRE=/^on[a-z]/,patchProp=(G,U,W,X,ne=!1,oe,le,se,ue)=>{U==="class"?patchClass(G,X,ne):U==="style"?patchStyle(G,W,X):isOn$1(U)?isModelListener(U)||patchEvent(G,U,W,X,le):(U[0]==="."?(U=U.slice(1),!0):U[0]==="^"?(U=U.slice(1),!1):shouldSetAsProp(G,U,X,ne))?patchDOMProp(G,U,X,oe,le,se,ue):(U==="true-value"?G._trueValue=X:U==="false-value"&&(G._falseValue=X),patchAttr(G,U,X,ne))};function shouldSetAsProp(G,U,W,X){return X?!!(U==="innerHTML"||U==="textContent"||U in G&&nativeOnRE.test(U)&&isFunction$2(W)):U==="spellcheck"||U==="draggable"||U==="translate"||U==="form"||U==="list"&&G.tagName==="INPUT"||U==="type"&&G.tagName==="TEXTAREA"||nativeOnRE.test(U)&&isString$1(W)?!1:U in G}function defineCustomElement(G,U){const W=defineComponent(G);class X extends VueElement{constructor(oe){super(W,oe,U)}}return X.def=W,X}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(U,W={},X){super(),this._def=U,this._props=W,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&X?X(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let X=0;X<this.attributes.length;X++)this._setAttr(this.attributes[X].name);new MutationObserver(X=>{for(const ne of X)this._setAttr(ne.attributeName)}).observe(this,{attributes:!0});const U=(X,ne=!1)=>{const{props:oe,styles:le}=X;let se;if(oe&&!isArray$3(oe))for(const ue in oe){const ce=oe[ue];(ce===Number||ce&&ce.type===Number)&&(ue in this._props&&(this._props[ue]=toNumber(this._props[ue])),(se||(se=Object.create(null)))[camelize$1(ue)]=!0)}this._numberProps=se,ne&&this._resolveProps(X),this._applyStyles(le),this._update()},W=this._def.__asyncLoader;W?W().then(X=>U(X,!0)):U(this._def)}_resolveProps(U){const{props:W}=U,X=isArray$3(W)?W:Object.keys(W||{});for(const ne of Object.keys(this))ne[0]!=="_"&&X.includes(ne)&&this._setProp(ne,this[ne],!0,!1);for(const ne of X.map(camelize$1))Object.defineProperty(this,ne,{get(){return this._getProp(ne)},set(oe){this._setProp(ne,oe)}})}_setAttr(U){let W=this.getAttribute(U);const X=camelize$1(U);this._numberProps&&this._numberProps[X]&&(W=toNumber(W)),this._setProp(X,W,!1)}_getProp(U){return this._props[U]}_setProp(U,W,X=!0,ne=!0){W!==this._props[U]&&(this._props[U]=W,ne&&this._instance&&this._update(),X&&(W===!0?this.setAttribute(hyphenate$1(U),""):typeof W=="string"||typeof W=="number"?this.setAttribute(hyphenate$1(U),W+""):W||this.removeAttribute(hyphenate$1(U))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const U=createVNode(this._def,extend({},this._props));return this._instance||(U.ce=W=>{this._instance=W,W.isCE=!0;const X=(oe,le)=>{this.dispatchEvent(new CustomEvent(oe,{detail:le}))};W.emit=(oe,...le)=>{X(oe,le),hyphenate$1(oe)!==oe&&X(hyphenate$1(oe),le)};let ne=this;for(;ne=ne&&(ne.parentNode||ne.host);)if(ne instanceof VueElement){W.parent=ne._instance,W.provides=ne._instance.provides;break}}),U}_applyStyles(U){U&&U.forEach(W=>{const X=document.createElement("style");X.textContent=W,this.shadowRoot.appendChild(X)})}}const TRANSITION="transition",ANIMATION="animation",Transition=(G,{slots:U})=>h$2(BaseTransition,resolveTransitionProps(G),U);Transition.displayName="Transition";const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},TransitionPropsValidators=Transition.props=extend({},BaseTransition.props,DOMTransitionPropsValidators),callHook=(G,U=[])=>{isArray$3(G)?G.forEach(W=>W(...U)):G&&G(...U)},hasExplicitCallback=G=>G?isArray$3(G)?G.some(U=>U.length>1):G.length>1:!1;function resolveTransitionProps(G){const U={};for(const lt in G)lt in DOMTransitionPropsValidators||(U[lt]=G[lt]);if(G.css===!1)return U;const{name:W="v",type:X,duration:ne,enterFromClass:oe=`${W}-enter-from`,enterActiveClass:le=`${W}-enter-active`,enterToClass:se=`${W}-enter-to`,appearFromClass:ue=oe,appearActiveClass:ce=le,appearToClass:fe=se,leaveFromClass:me=`${W}-leave-from`,leaveActiveClass:ve=`${W}-leave-active`,leaveToClass:be=`${W}-leave-to`}=G,Se=normalizeDuration(ne),_e=Se&&Se[0],Ae=Se&&Se[1],{onBeforeEnter:ke,onEnter:Me,onEnterCancelled:Le,onLeave:qe,onLeaveCancelled:Je,onBeforeAppear:Fe=ke,onAppear:Ve=Me,onAppearCancelled:Ze=Le}=U,Xe=(lt,xt,It)=>{removeTransitionClass(lt,xt?fe:se),removeTransitionClass(lt,xt?ce:le),It&&It()},dt=(lt,xt)=>{lt._isLeaving=!1,removeTransitionClass(lt,me),removeTransitionClass(lt,be),removeTransitionClass(lt,ve),xt&&xt()},ht=lt=>(xt,It)=>{const mt=lt?Ve:Me,ot=()=>Xe(xt,lt,It);callHook(mt,[xt,ot]),nextFrame(()=>{removeTransitionClass(xt,lt?ue:oe),addTransitionClass(xt,lt?fe:se),hasExplicitCallback(mt)||whenTransitionEnds(xt,X,_e,ot)})};return extend(U,{onBeforeEnter(lt){callHook(ke,[lt]),addTransitionClass(lt,oe),addTransitionClass(lt,le)},onBeforeAppear(lt){callHook(Fe,[lt]),addTransitionClass(lt,ue),addTransitionClass(lt,ce)},onEnter:ht(!1),onAppear:ht(!0),onLeave(lt,xt){lt._isLeaving=!0;const It=()=>dt(lt,xt);addTransitionClass(lt,me),forceReflow(),addTransitionClass(lt,ve),nextFrame(()=>{!lt._isLeaving||(removeTransitionClass(lt,me),addTransitionClass(lt,be),hasExplicitCallback(qe)||whenTransitionEnds(lt,X,Ae,It))}),callHook(qe,[lt,It])},onEnterCancelled(lt){Xe(lt,!1),callHook(Le,[lt])},onAppearCancelled(lt){Xe(lt,!0),callHook(Ze,[lt])},onLeaveCancelled(lt){dt(lt),callHook(Je,[lt])}})}function normalizeDuration(G){if(G==null)return null;if(isObject$2(G))return[NumberOf(G.enter),NumberOf(G.leave)];{const U=NumberOf(G);return[U,U]}}function NumberOf(G){return toNumber(G)}function addTransitionClass(G,U){U.split(/\s+/).forEach(W=>W&&G.classList.add(W)),(G._vtc||(G._vtc=new Set)).add(U)}function removeTransitionClass(G,U){U.split(/\s+/).forEach(X=>X&&G.classList.remove(X));const{_vtc:W}=G;W&&(W.delete(U),W.size||(G._vtc=void 0))}function nextFrame(G){requestAnimationFrame(()=>{requestAnimationFrame(G)})}let endId=0;function whenTransitionEnds(G,U,W,X){const ne=G._endId=++endId,oe=()=>{ne===G._endId&&X()};if(W)return setTimeout(oe,W);const{type:le,timeout:se,propCount:ue}=getTransitionInfo(G,U);if(!le)return X();const ce=le+"end";let fe=0;const me=()=>{G.removeEventListener(ce,ve),oe()},ve=be=>{be.target===G&&++fe>=ue&&me()};setTimeout(()=>{fe<ue&&me()},se+1),G.addEventListener(ce,ve)}function getTransitionInfo(G,U){const W=window.getComputedStyle(G),X=Se=>(W[Se]||"").split(", "),ne=X(`${TRANSITION}Delay`),oe=X(`${TRANSITION}Duration`),le=getTimeout(ne,oe),se=X(`${ANIMATION}Delay`),ue=X(`${ANIMATION}Duration`),ce=getTimeout(se,ue);let fe=null,me=0,ve=0;U===TRANSITION?le>0&&(fe=TRANSITION,me=le,ve=oe.length):U===ANIMATION?ce>0&&(fe=ANIMATION,me=ce,ve=ue.length):(me=Math.max(le,ce),fe=me>0?le>ce?TRANSITION:ANIMATION:null,ve=fe?fe===TRANSITION?oe.length:ue.length:0);const be=fe===TRANSITION&&/\b(transform|all)(,|$)/.test(X(`${TRANSITION}Property`).toString());return{type:fe,timeout:me,propCount:ve,hasTransform:be}}function getTimeout(G,U){for(;G.length<U.length;)G=G.concat(G);return Math.max(...U.map((W,X)=>toMs(W)+toMs(G[X])))}function toMs(G){return Number(G.slice(0,-1).replace(",","."))*1e3}function forceReflow(){return document.body.offsetHeight}const positionMap=new WeakMap,newPositionMap=new WeakMap,TransitionGroupImpl={name:"TransitionGroup",props:extend({},TransitionPropsValidators,{tag:String,moveClass:String}),setup(G,{slots:U}){const W=getCurrentInstance(),X=useTransitionState();let ne,oe;return onUpdated(()=>{if(!ne.length)return;const le=G.moveClass||`${G.name||"v"}-move`;if(!hasCSSTransform(ne[0].el,W.vnode.el,le))return;ne.forEach(callPendingCbs),ne.forEach(recordPosition);const se=ne.filter(applyTranslation);forceReflow(),se.forEach(ue=>{const ce=ue.el,fe=ce.style;addTransitionClass(ce,le),fe.transform=fe.webkitTransform=fe.transitionDuration="";const me=ce._moveCb=ve=>{ve&&ve.target!==ce||(!ve||/transform$/.test(ve.propertyName))&&(ce.removeEventListener("transitionend",me),ce._moveCb=null,removeTransitionClass(ce,le))};ce.addEventListener("transitionend",me)})}),()=>{const le=toRaw(G),se=resolveTransitionProps(le);let ue=le.tag||Fragment;ne=oe,oe=U.default?getTransitionRawChildren(U.default()):[];for(let ce=0;ce<oe.length;ce++){const fe=oe[ce];fe.key!=null&&setTransitionHooks(fe,resolveTransitionHooks(fe,se,X,W))}if(ne)for(let ce=0;ce<ne.length;ce++){const fe=ne[ce];setTransitionHooks(fe,resolveTransitionHooks(fe,se,X,W)),positionMap.set(fe,fe.el.getBoundingClientRect())}return createVNode(ue,null,oe)}}},TransitionGroup=TransitionGroupImpl;function callPendingCbs(G){const U=G.el;U._moveCb&&U._moveCb(),U._enterCb&&U._enterCb()}function recordPosition(G){newPositionMap.set(G,G.el.getBoundingClientRect())}function applyTranslation(G){const U=positionMap.get(G),W=newPositionMap.get(G),X=U.left-W.left,ne=U.top-W.top;if(X||ne){const oe=G.el.style;return oe.transform=oe.webkitTransform=`translate(${X}px,${ne}px)`,oe.transitionDuration="0s",G}}function hasCSSTransform(G,U,W){const X=G.cloneNode();G._vtc&&G._vtc.forEach(le=>{le.split(/\s+/).forEach(se=>se&&X.classList.remove(se))}),W.split(/\s+/).forEach(le=>le&&X.classList.add(le)),X.style.display="none";const ne=U.nodeType===1?U:U.parentNode;ne.appendChild(X);const{hasTransform:oe}=getTransitionInfo(X);return ne.removeChild(X),oe}const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:G=>G.stopPropagation(),prevent:G=>G.preventDefault(),self:G=>G.target!==G.currentTarget,ctrl:G=>!G.ctrlKey,shift:G=>!G.shiftKey,alt:G=>!G.altKey,meta:G=>!G.metaKey,left:G=>"button"in G&&G.button!==0,middle:G=>"button"in G&&G.button!==1,right:G=>"button"in G&&G.button!==2,exact:(G,U)=>systemModifiers.some(W=>G[`${W}Key`]&&!U.includes(W))},withModifiers=(G,U)=>(W,...X)=>{for(let ne=0;ne<U.length;ne++){const oe=modifierGuards[U[ne]];if(oe&&oe(W,U))return}return G(W,...X)},vShow={beforeMount(G,{value:U},{transition:W}){G._vod=G.style.display==="none"?"":G.style.display,W&&U?W.beforeEnter(G):setDisplay(G,U)},mounted(G,{value:U},{transition:W}){W&&U&&W.enter(G)},updated(G,{value:U,oldValue:W},{transition:X}){!U!=!W&&(X?U?(X.beforeEnter(G),setDisplay(G,!0),X.enter(G)):X.leave(G,()=>{setDisplay(G,!1)}):setDisplay(G,U))},beforeUnmount(G,{value:U}){setDisplay(G,U)}};function setDisplay(G,U){G.style.display=U?G._vod:"none"}const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...G)=>{ensureRenderer().render(...G)};var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(G){return G&&G.__esModule&&Object.prototype.hasOwnProperty.call(G,"default")?G.default:G}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(G){return Object.prototype.toString.call(G)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(G){return typeof G=="object"&&G.buffer&&G.buffer.constructor===ArrayBuffer});var createOutputMethod=function(G,U){return function(W){return new Sha256(U,!0).update(W)[G]()}},createMethod=function(G){var U=createOutputMethod("hex",G);NODE_JS&&(U=nodeWrap(U,G)),U.create=function(){return new Sha256(G)},U.update=function(ne){return U.create().update(ne)};for(var W=0;W<OUTPUT_TYPES.length;++W){var X=OUTPUT_TYPES[W];U[X]=createOutputMethod(X,G)}return U},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(G){if(typeof G=="string")return crypto.createHash(algorithm).update(G,"utf8").digest("hex");if(G==null)throw new Error(ERROR);return G.constructor===ArrayBuffer&&(G=new Uint8Array(G)),Array.isArray(G)||ArrayBuffer.isView(G)||G.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(G)).digest("hex"):method(G)};return nodeMethod},createHmacOutputMethod=function(G,U){return function(W,X){return new HmacSha256(W,U,!0).update(X)[G]()}},createHmacMethod=function(G){var U=createHmacOutputMethod("hex",G);U.create=function(ne){return new HmacSha256(ne,G)},U.update=function(ne,oe){return U.create(ne).update(oe)};for(var W=0;W<OUTPUT_TYPES.length;++W){var X=OUTPUT_TYPES[W];U[X]=createHmacOutputMethod(X,G)}return U};function Sha256(G,U){U?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],G?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=G}Sha256.prototype.update=function(G){if(!this.finalized){var U,W=typeof G;if(W!=="string"){if(W==="object"){if(G===null)throw new Error(ERROR);if(ARRAY_BUFFER&&G.constructor===ArrayBuffer)G=new Uint8Array(G);else if(!Array.isArray(G)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(G)))throw new Error(ERROR)}else throw new Error(ERROR);U=!0}for(var X,ne=0,oe,le=G.length,se=this.blocks;ne<le;){if(this.hashed&&(this.hashed=!1,se[0]=this.block,se[16]=se[1]=se[2]=se[3]=se[4]=se[5]=se[6]=se[7]=se[8]=se[9]=se[10]=se[11]=se[12]=se[13]=se[14]=se[15]=0),U)for(oe=this.start;ne<le&&oe<64;++ne)se[oe>>2]|=G[ne]<<SHIFT[oe++&3];else for(oe=this.start;ne<le&&oe<64;++ne)X=G.charCodeAt(ne),X<128?se[oe>>2]|=X<<SHIFT[oe++&3]:X<2048?(se[oe>>2]|=(192|X>>6)<<SHIFT[oe++&3],se[oe>>2]|=(128|X&63)<<SHIFT[oe++&3]):X<55296||X>=57344?(se[oe>>2]|=(224|X>>12)<<SHIFT[oe++&3],se[oe>>2]|=(128|X>>6&63)<<SHIFT[oe++&3],se[oe>>2]|=(128|X&63)<<SHIFT[oe++&3]):(X=65536+((X&1023)<<10|G.charCodeAt(++ne)&1023),se[oe>>2]|=(240|X>>18)<<SHIFT[oe++&3],se[oe>>2]|=(128|X>>12&63)<<SHIFT[oe++&3],se[oe>>2]|=(128|X>>6&63)<<SHIFT[oe++&3],se[oe>>2]|=(128|X&63)<<SHIFT[oe++&3]);this.lastByteIndex=oe,this.bytes+=oe-this.start,oe>=64?(this.block=se[16],this.start=oe-64,this.hash(),this.hashed=!0):this.start=oe}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var G=this.blocks,U=this.lastByteIndex;G[16]=this.block,G[U>>2]|=EXTRA[U&3],this.block=G[16],U>=56&&(this.hashed||this.hash(),G[0]=this.block,G[16]=G[1]=G[2]=G[3]=G[4]=G[5]=G[6]=G[7]=G[8]=G[9]=G[10]=G[11]=G[12]=G[13]=G[14]=G[15]=0),G[14]=this.hBytes<<3|this.bytes>>>29,G[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var G=this.h0,U=this.h1,W=this.h2,X=this.h3,ne=this.h4,oe=this.h5,le=this.h6,se=this.h7,ue=this.blocks,ce,fe,me,ve,be,Se,_e,Ae,ke,Me,Le;for(ce=16;ce<64;++ce)be=ue[ce-15],fe=(be>>>7|be<<25)^(be>>>18|be<<14)^be>>>3,be=ue[ce-2],me=(be>>>17|be<<15)^(be>>>19|be<<13)^be>>>10,ue[ce]=ue[ce-16]+fe+ue[ce-7]+me<<0;for(Le=U&W,ce=0;ce<64;ce+=4)this.first?(this.is224?(Ae=300032,be=ue[0]-1413257819,se=be-150054599<<0,X=be+24177077<<0):(Ae=704751109,be=ue[0]-210244248,se=be-1521486534<<0,X=be+143694565<<0),this.first=!1):(fe=(G>>>2|G<<30)^(G>>>13|G<<19)^(G>>>22|G<<10),me=(ne>>>6|ne<<26)^(ne>>>11|ne<<21)^(ne>>>25|ne<<7),Ae=G&U,ve=Ae^G&W^Le,_e=ne&oe^~ne&le,be=se+me+_e+K[ce]+ue[ce],Se=fe+ve,se=X+be<<0,X=be+Se<<0),fe=(X>>>2|X<<30)^(X>>>13|X<<19)^(X>>>22|X<<10),me=(se>>>6|se<<26)^(se>>>11|se<<21)^(se>>>25|se<<7),ke=X&G,ve=ke^X&U^Ae,_e=se&ne^~se&oe,be=le+me+_e+K[ce+1]+ue[ce+1],Se=fe+ve,le=W+be<<0,W=be+Se<<0,fe=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),me=(le>>>6|le<<26)^(le>>>11|le<<21)^(le>>>25|le<<7),Me=W&X,ve=Me^W&G^ke,_e=le&se^~le&ne,be=oe+me+_e+K[ce+2]+ue[ce+2],Se=fe+ve,oe=U+be<<0,U=be+Se<<0,fe=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),me=(oe>>>6|oe<<26)^(oe>>>11|oe<<21)^(oe>>>25|oe<<7),Le=U&W,ve=Le^U&X^Me,_e=oe&le^~oe&se,be=ne+me+_e+K[ce+3]+ue[ce+3],Se=fe+ve,ne=G+be<<0,G=be+Se<<0;this.h0=this.h0+G<<0,this.h1=this.h1+U<<0,this.h2=this.h2+W<<0,this.h3=this.h3+X<<0,this.h4=this.h4+ne<<0,this.h5=this.h5+oe<<0,this.h6=this.h6+le<<0,this.h7=this.h7+se<<0},Sha256.prototype.hex=function(){this.finalize();var G=this.h0,U=this.h1,W=this.h2,X=this.h3,ne=this.h4,oe=this.h5,le=this.h6,se=this.h7,ue=HEX_CHARS[G>>28&15]+HEX_CHARS[G>>24&15]+HEX_CHARS[G>>20&15]+HEX_CHARS[G>>16&15]+HEX_CHARS[G>>12&15]+HEX_CHARS[G>>8&15]+HEX_CHARS[G>>4&15]+HEX_CHARS[G&15]+HEX_CHARS[U>>28&15]+HEX_CHARS[U>>24&15]+HEX_CHARS[U>>20&15]+HEX_CHARS[U>>16&15]+HEX_CHARS[U>>12&15]+HEX_CHARS[U>>8&15]+HEX_CHARS[U>>4&15]+HEX_CHARS[U&15]+HEX_CHARS[W>>28&15]+HEX_CHARS[W>>24&15]+HEX_CHARS[W>>20&15]+HEX_CHARS[W>>16&15]+HEX_CHARS[W>>12&15]+HEX_CHARS[W>>8&15]+HEX_CHARS[W>>4&15]+HEX_CHARS[W&15]+HEX_CHARS[X>>28&15]+HEX_CHARS[X>>24&15]+HEX_CHARS[X>>20&15]+HEX_CHARS[X>>16&15]+HEX_CHARS[X>>12&15]+HEX_CHARS[X>>8&15]+HEX_CHARS[X>>4&15]+HEX_CHARS[X&15]+HEX_CHARS[ne>>28&15]+HEX_CHARS[ne>>24&15]+HEX_CHARS[ne>>20&15]+HEX_CHARS[ne>>16&15]+HEX_CHARS[ne>>12&15]+HEX_CHARS[ne>>8&15]+HEX_CHARS[ne>>4&15]+HEX_CHARS[ne&15]+HEX_CHARS[oe>>28&15]+HEX_CHARS[oe>>24&15]+HEX_CHARS[oe>>20&15]+HEX_CHARS[oe>>16&15]+HEX_CHARS[oe>>12&15]+HEX_CHARS[oe>>8&15]+HEX_CHARS[oe>>4&15]+HEX_CHARS[oe&15]+HEX_CHARS[le>>28&15]+HEX_CHARS[le>>24&15]+HEX_CHARS[le>>20&15]+HEX_CHARS[le>>16&15]+HEX_CHARS[le>>12&15]+HEX_CHARS[le>>8&15]+HEX_CHARS[le>>4&15]+HEX_CHARS[le&15];return this.is224||(ue+=HEX_CHARS[se>>28&15]+HEX_CHARS[se>>24&15]+HEX_CHARS[se>>20&15]+HEX_CHARS[se>>16&15]+HEX_CHARS[se>>12&15]+HEX_CHARS[se>>8&15]+HEX_CHARS[se>>4&15]+HEX_CHARS[se&15]),ue},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var G=this.h0,U=this.h1,W=this.h2,X=this.h3,ne=this.h4,oe=this.h5,le=this.h6,se=this.h7,ue=[G>>24&255,G>>16&255,G>>8&255,G&255,U>>24&255,U>>16&255,U>>8&255,U&255,W>>24&255,W>>16&255,W>>8&255,W&255,X>>24&255,X>>16&255,X>>8&255,X&255,ne>>24&255,ne>>16&255,ne>>8&255,ne&255,oe>>24&255,oe>>16&255,oe>>8&255,oe&255,le>>24&255,le>>16&255,le>>8&255,le&255];return this.is224||ue.push(se>>24&255,se>>16&255,se>>8&255,se&255),ue},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var G=new ArrayBuffer(this.is224?28:32),U=new DataView(G);return U.setUint32(0,this.h0),U.setUint32(4,this.h1),U.setUint32(8,this.h2),U.setUint32(12,this.h3),U.setUint32(16,this.h4),U.setUint32(20,this.h5),U.setUint32(24,this.h6),this.is224||U.setUint32(28,this.h7),G};function HmacSha256(G,U,W){var X,ne=typeof G;if(ne==="string"){var oe=[],le=G.length,se=0,ue;for(X=0;X<le;++X)ue=G.charCodeAt(X),ue<128?oe[se++]=ue:ue<2048?(oe[se++]=192|ue>>6,oe[se++]=128|ue&63):ue<55296||ue>=57344?(oe[se++]=224|ue>>12,oe[se++]=128|ue>>6&63,oe[se++]=128|ue&63):(ue=65536+((ue&1023)<<10|G.charCodeAt(++X)&1023),oe[se++]=240|ue>>18,oe[se++]=128|ue>>12&63,oe[se++]=128|ue>>6&63,oe[se++]=128|ue&63);G=oe}else if(ne==="object"){if(G===null)throw new Error(ERROR);if(ARRAY_BUFFER&&G.constructor===ArrayBuffer)G=new Uint8Array(G);else if(!Array.isArray(G)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(G)))throw new Error(ERROR)}else throw new Error(ERROR);G.length>64&&(G=new Sha256(U,!0).update(G).array());var ce=[],fe=[];for(X=0;X<64;++X){var me=G[X]||0;ce[X]=92^me,fe[X]=54^me}Sha256.call(this,U,W),this.update(fe),this.oKeyPad=ce,this.inner=!0,this.sharedMemory=W}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var G=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(G),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);const iiifServer="https://iiif.juncture-digital.org";function sha256(G){return sha256$1.exports.sha256(G)}async function getManifest(G,U=!1){let W=G.indexOf("http")===0?G:`${iiifServer}/${G}/manifest.json`;return(await loadManifests([W],U))[0]}function findItem(G,U,W=1){const X=_findItems(G,U);return X.length>=W?X[W-1]:null}function _findItems(G,U,W=[]){if(W=W||[],U.items)for(let X=0;X<U.items.length;X++){let ne=U.items[X];!Object.entries(G).find(([le,se])=>ne[le]&&ne[le]!==se)?W.push(ne):_findItems(G,ne,W)}return W}function getItemInfo(G,U=1){return findItem({type:"Annotation",motivation:"painting"},G,U).body}function imageCount(G){return _findItems({type:"Annotation",motivation:"painting"},G).length}const _manifestCache={};async function loadManifests(G,U=!1){let W=G.map(ne=>ne.indexOf("http")===0?ne:`${iiifServer}/${ne}/manifest.json`),X=W.filter(ne=>!_manifestCache[ne]);if(X.length>0){let ne=X.map(se=>(U&&["localhost","iiif.juncture-digital.org"].includes(new URL(se).hostname)&&(se+="?refresh"),fetch(se))),oe=await Promise.all(ne),le=await Promise.all(oe.map(se=>se.json()));if(ne=le.filter(se=>!Array.isArray(se["@context"])&&parseFloat(se["@context"].split("/").slice(-2,-1).pop())<3).map(se=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(se)})),ne.length>0){oe=await Promise.all(ne);let se=await Promise.all(oe.map(ue=>ue.json()));for(let ue=0;ue<le.length;ue++){let ce=se.find(fe=>fe["@id"]===le[ue].id);ce&&(le[ue]=ce)}}return le.forEach((se,ue)=>_manifestCache[X[ue]]=se),W.map(se=>_manifestCache[se])}else return W.map(ne=>_manifestCache[ne])}function _value(G,U="en"){return typeof G=="object"?G[U]||G.none||G[Object.keys(G).sort()[0]]:G}function label(G,U="en"){return G?_value(G.label,U):null}function thumbnail(G,U=400){if(!G)return null;let W=getItemInfo(G);return W.service?`${W.service[0].id||W.service[0]["@id"]}/full/${U},/0/default.jpg`:W.type==="Video"?`https://iiif.juncture-digital.org/thumbnail?url=${W.id}`:W.id}function parseRegionString(G,U){let W;const X=G.split(":");let[ne,oe,le,se]=X[X.length-1].split(",").map(ce=>parseInt(ce));const ue=U.world.getItemAt(0).getContentSize();return console.log(G,ue,ne,oe,le,se),X.length===2&&(X[0]==="pct"||X[0]==="percent")&&(ne=Math.round(ue.x*ne/100),oe=Math.round(ue.y*oe/100),le=Math.round(ue.x*le/100),se=Math.round(ue.y*se/100)),W=U.viewport.imageToViewportRectangle(ne,oe,le,se),console.log(W),W}const _sfc_main$1={components:{},props:{manifest:{required:!0},width:{type:Number},height:{type:Number}},setup(G){const U=ref(null),W=ref(null),X=ref(null);watch$1(W,()=>X.value=ue(W.value));const ne=computed(()=>X.value&&ce(X.value)),oe=computed(()=>G.width?G.width-120:300),le=computed(()=>G.height?G.height-100:400);typeof G.manifest=="object"?W.value=G.manifest:getManifest(G.manifest).then(fe=>W.value=fe);function se(fe,me="en"){return typeof fe=="object"&&!Array.isArray(fe)?fe[me]||fe.none||fe[Object.keys(fe).sort()[0]]:fe}function ue(fe){let me={};if(me.id=se(fe.id),me.label=se(fe.label),fe.summary&&(me.summary=se(fe.summary)),fe.rights&&(me.rights=fe.rights),fe.thumbnail&&(me.thumbnail=fe.thumbnail[0].id||fe.thumbnail),fe.metadata){me.metadata=fe.metadata.map(Se=>({label:se(Se.label)[0],value:se(Se.value)}));let ve=me.metadata.find(Se=>Se.label=="source_url");me.sourceUrl=ve?ve.value[0]:null;let be=me.metadata.find(Se=>Se.label==="depicts");be&&(me.depicts=be.value)}if(fe.provider&&(me.provider=fe.provider.map(ve=>{let be={label:se(ve.label),href:ve.id};return ve.logo&&(be.logo={src:ve.logo[0].id}),be})),fe.logo&&(me.logo=fe.logo.map(ve=>{let be={src:typeof ve=="object"?ve.id||ve["@id"]:ve};return typeof ve=="object"&&(ve.width&&(be.width=ve.width),ve.height&&(be.height=ve.height)),be})),me.imageData=getItemInfo(fe),me.service=me.imageData.service&&`${(me.imageData.service[0].id||me.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,fe.requiredStatement){let ve=fe.requiredStatement;me.requiredStatement={label:se(ve.label),value:se(ve.value)}}return fe.homepage&&(me.homepage={label:fe.homepage.label?se(fe.homepage.label):fe.homepage.id,href:fe.homepage.id}),fe.seeAlso&&(me.seeAlso=fe.seeAlso.map(ve=>({label:ve.label?se(ve.label):ve.id,href:ve.id}))),me}function ce(fe){let me={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const ve=function(Le,qe){return new Function("return `"+Le+"`;").call(qe)};let be=fe.rights||"",Se="",[_e,Ae,ke,Me]=be.split("/").slice(2);return _e==="creativecommons.org"?(ke=ke==="zero"?"publicdomain":ke,Se=`<img src="${ve(me.cc.badgeTemplate,{...me.cc,rightsCode:ke,version:Me})}"/>`):_e==="rightsstatements.org"&&(Se=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${me.rs.backgroundColor};"><img style="height:100%;" src="${ve(me.rs.badgeTemplate,{...me.rs,rightsCode:ke})}"/></div>`),Se}return{height:le,licenseBadge:ne,parsed:X,props:G,root:U,width:oe}}},_style_0$1=`*[data-v-793c21e4]{box-sizing:border-box}.manifest[data-v-793c21e4]{width:300px;height:400px;overflow-y:scroll}.main[data-v-793c21e4],.detail[data-v-793c21e4]{display:flow-root;margin:6px}.main>*[data-v-793c21e4]{margin-bottom:6px}.detail>div[data-v-793c21e4]{margin-top:12px}.main .label[data-v-793c21e4]{font-size:1.2em;font-weight:700}.thumbnail[data-v-793c21e4]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}ul[data-v-793c21e4]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-793c21e4]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-793c21e4]:after{content:":"}.detail .value[data-v-793c21e4],.main .label[data-v-793c21e4]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-793c21e4]{padding-right:6px}img.logo[data-v-793c21e4]{height:40px}.manifest-id[data-v-793c21e4],.manifest-label[data-v-793c21e4],.summary[data-v-793c21e4],.provider[data-v-793c21e4],.rights[data-v-793c21e4],.service[data-v-793c21e4],.imageData div[data-v-793c21e4],.thumbnail[data-v-793c21e4]{display:flex;align-items:flex-start}.metadata>ul[data-v-793c21e4],.requiredStatement ul[data-v-793c21e4]{padding-left:24px}.metadata ul li[data-v-793c21e4],.requiredStatement ul li[data-v-793c21e4]{display:flex}.metadata ul ul[data-v-793c21e4]{padding-left:0}a[data-v-793c21e4]:link,a[data-v-793c21e4]:visited{color:#00e}
`,_export_sfc=(G,U)=>{const W=G.__vccOpts||G;for(const[X,ne]of U)W[X]=ne;return W},_withScopeId=G=>(pushScopeId("data-v-793c21e4"),G=G(),popScopeId(),G),_hoisted_1$1={class:"main"},_hoisted_2$1=["src"],_hoisted_3$1=["innerHTML"],_hoisted_4$1=["innerHTML"],_hoisted_5$1=["href","innerHTML"],_hoisted_6$1={class:"detail"},_hoisted_7$1={key:0,class:"provider"},_hoisted_8$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_9$1={key:0,style:{display:"flex","align-items":"center"}},_hoisted_10$1=["src"],_hoisted_11$1=["href","innerHTML"],_hoisted_12$1={key:1},_hoisted_13$1=["src"],_hoisted_14$1=["href","innerHTML"],_hoisted_15$1={key:1,class:"rights"},_hoisted_16$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"rights",-1)),_hoisted_17$1=["href","innerHTML"],_hoisted_18$1={key:2,class:"metadata"},_hoisted_19=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_20=["innerHTML"],_hoisted_21=["innerHTML"],_hoisted_22={key:1},_hoisted_23=["innerHTML"],_hoisted_24={key:3,class:"navDate"},_hoisted_25=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_26=["innerHTML"],_hoisted_27={key:4,class:"homepage"},_hoisted_28=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_29=["href","innerHTML"],_hoisted_30={key:5,class:"seeAlso"},_hoisted_31=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_32=["href","innerHTML"],_hoisted_33={key:6,class:"logo"},_hoisted_34=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_35=["href","innerHTML"],_hoisted_36={key:7,class:"requiredStatement"},_hoisted_37=_withScopeId(()=>createBaseVNode("span",{class:"label"},"requiredStatement",-1)),_hoisted_38=["innerHTML"],_hoisted_39=["innerHTML"],_hoisted_40={key:8,class:"imageData"},_hoisted_41=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_42=["href","innerHTML"],_hoisted_43=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_44=["innerHTML"],_hoisted_45=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_46=["innerHTML"],_hoisted_47=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_48=["innerHTML"],_hoisted_49={key:9},_hoisted_50=_withScopeId(()=>createBaseVNode("span",{class:"label"},"thumbnail",-1)),_hoisted_51=["href","innerHTML"],_hoisted_52={key:10,class:"service"},_hoisted_53=_withScopeId(()=>createBaseVNode("span",{class:"label"},"service",-1)),_hoisted_54=["href","innerHTML"];function _sfc_render(G,U,W,X,ne,oe){var le,se,ue,ce,fe,me,ve,be,Se,_e,Ae,ke,Me,Le,qe,Je,Fe;return openBlock(),createElementBlock("div",{ref:"root",class:"manifest",style:normalizeStyle(`width:${X.width}px;height:${X.height}px;`)},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("img",{class:"thumbnail",src:(le=X.parsed)==null?void 0:le.thumbnail},null,8,_hoisted_2$1),createBaseVNode("div",{class:"label",innerHTML:(se=X.parsed)==null?void 0:se.label},null,8,_hoisted_3$1),(ue=X.parsed)!=null&&ue.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(ce=X.parsed)==null?void 0:ce.summary},null,8,_hoisted_4$1)):createCommentVNode("",!0),(fe=X.parsed)!=null&&fe.rights?(openBlock(),createElementBlock("a",{key:1,href:(me=X.parsed)==null?void 0:me.rights,innerHTML:X.licenseBadge},null,8,_hoisted_5$1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_6$1,[(ve=X.parsed)!=null&&ve.provider?(openBlock(),createElementBlock("div",_hoisted_7$1,[_hoisted_8$1,X.parsed.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_9$1,[X.parsed.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:X.parsed.provider[0].logo.src},null,8,_hoisted_10$1)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:X.parsed.provider[0].href,innerHTML:X.parsed.provider[0].label},null,8,_hoisted_11$1)])):(openBlock(),createElementBlock("ul",_hoisted_12$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(X.parsed.provider,(Ve,Ze)=>(openBlock(),createElementBlock("li",{key:`provider-${Ze}`},[Ve.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Ve.logo.src},null,8,_hoisted_13$1)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Ve.href,innerHTML:Ve.label},null,8,_hoisted_14$1)]))),128))]))])):createCommentVNode("",!0),(be=X.parsed)!=null&&be.rights?(openBlock(),createElementBlock("div",_hoisted_15$1,[_hoisted_16$1,createBaseVNode("a",{class:"value",href:X.parsed.rights,innerHTML:X.parsed.rights},null,8,_hoisted_17$1)])):createCommentVNode("",!0),(Se=X.parsed)!=null&&Se.metadata?(openBlock(),createElementBlock("div",_hoisted_18$1,[_hoisted_19,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(X.parsed.metadata,(Ve,Ze)=>(openBlock(),createElementBlock("li",{key:`md-${Ze}`},[createBaseVNode("span",{class:"label",innerHTML:Ve.label},null,8,_hoisted_20),Ve.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:Ve.value[0]},null,8,_hoisted_21)):(openBlock(),createElementBlock("ul",_hoisted_22,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ve.value,Xe=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:Xe},null,8,_hoisted_23))),256))]))]))),128))])])):createCommentVNode("",!0),(_e=X.parsed)!=null&&_e.navDate?(openBlock(),createElementBlock("div",_hoisted_24,[_hoisted_25,createBaseVNode("span",{class:"value",innerHTML:X.parsed.navDate},null,8,_hoisted_26)])):createCommentVNode("",!0),(Ae=X.parsed)!=null&&Ae.homepage?(openBlock(),createElementBlock("div",_hoisted_27,[_hoisted_28,createBaseVNode("a",{class:"value",href:X.parsed.homepage.href,innerHTML:X.parsed.homepage.label},null,8,_hoisted_29)])):createCommentVNode("",!0),(ke=X.parsed)!=null&&ke.seeAlso?(openBlock(),createElementBlock("div",_hoisted_30,[_hoisted_31,createBaseVNode("a",{class:"value",href:X.parsed.seeAlso[0].href,innerHTML:X.parsed.seeAlso[0].label},null,8,_hoisted_32)])):createCommentVNode("",!0),(Me=X.parsed)!=null&&Me.logo?(openBlock(),createElementBlock("div",_hoisted_33,[_hoisted_34,createBaseVNode("a",{class:"value",href:X.parsed.logo[0].src,innerHTML:X.parsed.logo[0].src},null,8,_hoisted_35)])):createCommentVNode("",!0),(Le=X.parsed)!=null&&Le.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_36,[_hoisted_37,createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("span",{class:"label",innerHTML:X.parsed.requiredStatement.label},null,8,_hoisted_38),createBaseVNode("span",{class:"value",innerHTML:X.parsed.requiredStatement.value},null,8,_hoisted_39)])])])):createCommentVNode("",!0),(qe=X.parsed)!=null&&qe.imageData?(openBlock(),createElementBlock("div",_hoisted_40,[createBaseVNode("div",null,[_hoisted_41,createBaseVNode("a",{class:"value",href:X.parsed.imageData.id,innerHTML:X.parsed.imageData.id},null,8,_hoisted_42)]),createBaseVNode("div",null,[_hoisted_43,createBaseVNode("span",{class:"value",innerHTML:X.parsed.imageData.format},null,8,_hoisted_44)]),createBaseVNode("div",null,[_hoisted_45,createBaseVNode("span",{class:"value",innerHTML:X.parsed.imageData.width},null,8,_hoisted_46)]),createBaseVNode("div",null,[_hoisted_47,createBaseVNode("span",{class:"value",innerHTML:X.parsed.imageData.height},null,8,_hoisted_48)])])):createCommentVNode("",!0),(Je=X.parsed)!=null&&Je.thumbnail?(openBlock(),createElementBlock("div",_hoisted_49,[_hoisted_50,createBaseVNode("a",{class:"value",href:X.parsed.thumbnail,innerHTML:X.parsed.thumbnail},null,8,_hoisted_51)])):createCommentVNode("",!0),(Fe=X.parsed)!=null&&Fe.service?(openBlock(),createElementBlock("div",_hoisted_52,[_hoisted_53,createBaseVNode("a",{class:"value",href:X.parsed.service,innerHTML:X.parsed.service},null,8,_hoisted_54)])):createCommentVNode("",!0)])],4)}const Manifest=_export_sfc(_sfc_main$1,[["render",_sfc_render],["styles",[_style_0$1]],["__scopeId","data-v-793c21e4"]]);var openseadragon={exports:{}};(function(G){//! openseadragon 3.1.0
//! Built on 2022-06-07
//! Git commit: v3.1.0-1-c1c380f
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function U(W){return new U.Viewer(W)}(function(W){W.version={versionStr:"3.1.0",major:parseInt("3",10),minor:parseInt("1",10),revision:parseInt("0",10)};var X={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},ne=Object.prototype.toString,oe=Object.prototype.hasOwnProperty;W.isFunction=function(le){return W.type(le)==="function"},W.isArray=Array.isArray||function(le){return W.type(le)==="array"},W.isWindow=function(le){return le&&typeof le=="object"&&"setInterval"in le},W.type=function(le){return le==null?String(le):X[ne.call(le)]||"object"},W.isPlainObject=function(le){if(!le||U.type(le)!=="object"||le.nodeType||W.isWindow(le)||le.constructor&&!oe.call(le,"constructor")&&!oe.call(le.constructor.prototype,"isPrototypeOf"))return!1;var se;for(var ue in le)se=ue;return se===void 0||oe.call(le,se)},W.isEmptyObject=function(le){for(var se in le)return!1;return!0},W.freezeObject=function(le){return Object.freeze?W.freezeObject=Object.freeze:W.freezeObject=function(se){return se},W.freezeObject(le)},W.supportsCanvas=function(){var le=document.createElement("canvas");return!!(W.isFunction(le.getContext)&&le.getContext("2d"))}(),W.isCanvasTainted=function(le){var se=!1;try{le.getContext("2d").getImageData(0,0,1,1)}catch{se=!0}return se},W.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),W.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),W.supportsEventListenerOptions=function(){var le=0;if(W.supportsAddEventListener)try{var se={get capture(){return le++,!1},get once(){return le++,!1},get passive(){return le++,!1}};window.addEventListener("test",null,se),window.removeEventListener("test",null,se)}catch{le=0}return le>=3}(),W.getCurrentPixelDensityRatio=function(){if(W.supportsCanvas){var le=document.createElement("canvas").getContext("2d"),se=window.devicePixelRatio||1,ue=le.webkitBackingStorePixelRatio||le.mozBackingStorePixelRatio||le.msBackingStorePixelRatio||le.oBackingStorePixelRatio||le.backingStorePixelRatio||1;return Math.max(se,1)/ue}else return 1},W.pixelDensityRatio=W.getCurrentPixelDensityRatio()})(U),function(W){W.extend=function(){var ue,ce,fe,me,ve,be,Se=arguments[0]||{},_e=arguments.length,Ae=!1,ke=1;for(typeof Se=="boolean"&&(Ae=Se,Se=arguments[1]||{},ke=2),typeof Se!="object"&&!U.isFunction(Se)&&(Se={}),_e===ke&&(Se=this,--ke);ke<_e;ke++)if(ue=arguments[ke],ue!==null||ue!==void 0)for(ce in ue)fe=Se[ce],me=ue[ce],Se!==me&&(Ae&&me&&(U.isPlainObject(me)||(ve=U.isArray(me)))?(ve?(ve=!1,be=fe&&U.isArray(fe)?fe:[]):be=fe&&U.isPlainObject(fe)?fe:{},Se[ce]=U.extend(Ae,be,me)):me!==void 0&&(Se[ce]=me));return Se};var X=function(){if(typeof navigator!="object")return!1;var ue=navigator.userAgent;return typeof ue!="string"?!1:ue.indexOf("iPhone")!==-1||ue.indexOf("iPad")!==-1||ue.indexOf("iPod")!==-1};W.extend(W,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},splitHashDataForPost:!1,panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:X(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,subPixelRoundingForTransparency:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"],silenceMultiImageWarnings:!1},SIGNAL:"----seadragon----",delegate:function(ue,ce){return function(){var fe=arguments;return fe===void 0&&(fe=[]),ce.apply(ue,fe)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},SUBPIXEL_ROUNDING_OCCURRENCES:{NEVER:0,ONLY_AT_REST:1,ALWAYS:2},_viewers:new Map,getViewer:function(ue){return W._viewers.get(this.getElement(ue))},getElement:function(ue){return typeof ue=="string"&&(ue=document.getElementById(ue)),ue},getElementPosition:function(ue){var ce=new W.Point,fe,me;for(ue=W.getElement(ue),fe=W.getElementStyle(ue).position==="fixed",me=se(ue,fe);me;)ce.x+=ue.offsetLeft,ce.y+=ue.offsetTop,fe&&(ce=ce.plus(W.getPageScroll())),ue=me,fe=W.getElementStyle(ue).position==="fixed",me=se(ue,fe);return ce},getElementOffset:function(ue){ue=W.getElement(ue);var ce=ue&&ue.ownerDocument,fe,me,ve={top:0,left:0};return ce?(fe=ce.documentElement,typeof ue.getBoundingClientRect<"u"&&(ve=ue.getBoundingClientRect()),me=ce===ce.window?ce:ce.nodeType===9?ce.defaultView||ce.parentWindow:!1,new W.Point(ve.left+(me.pageXOffset||fe.scrollLeft)-(fe.clientLeft||0),ve.top+(me.pageYOffset||fe.scrollTop)-(fe.clientTop||0))):new W.Point},getElementSize:function(ue){return ue=W.getElement(ue),new W.Point(ue.clientWidth,ue.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(ue){return ue=W.getElement(ue),ue.currentStyle}:function(ue){return ue=W.getElement(ue),window.getComputedStyle(ue,"")},getCssPropertyWithVendorPrefix:function(ue){var ce={};return W.getCssPropertyWithVendorPrefix=function(fe){if(ce[fe]!==void 0)return ce[fe];var me=document.createElement("div").style,ve=null;if(me[fe]!==void 0)ve=fe;else for(var be=["Webkit","Moz","MS","O","webkit","moz","ms","o"],Se=W.capitalizeFirstLetter(fe),_e=0;_e<be.length;_e++){var Ae=be[_e]+Se;if(me[Ae]!==void 0){ve=Ae;break}}return ce[fe]=ve,ve},W.getCssPropertyWithVendorPrefix(ue)},capitalizeFirstLetter:function(ue){return ue.charAt(0).toUpperCase()+ue.slice(1)},positiveModulo:function(ue,ce){var fe=ue%ce;return fe<0&&(fe+=ce),fe},pointInElement:function(ue,ce){ue=W.getElement(ue);var fe=W.getElementOffset(ue),me=W.getElementSize(ue);return ce.x>=fe.x&&ce.x<fe.x+me.x&&ce.y<fe.y+me.y&&ce.y>=fe.y},getMousePosition:function(ue){if(typeof ue.pageX=="number")W.getMousePosition=function(ce){var fe=new W.Point;return fe.x=ce.pageX,fe.y=ce.pageY,fe};else if(typeof ue.clientX=="number")W.getMousePosition=function(ce){var fe=new W.Point;return fe.x=ce.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,fe.y=ce.clientY+document.body.scrollTop+document.documentElement.scrollTop,fe};else throw new Error("Unknown event mouse position, no known technique.");return W.getMousePosition(ue)},getPageScroll:function(){var ue=document.documentElement||{},ce=document.body||{};if(typeof window.pageXOffset=="number")W.getPageScroll=function(){return new W.Point(window.pageXOffset,window.pageYOffset)};else if(ce.scrollLeft||ce.scrollTop)W.getPageScroll=function(){return new W.Point(document.body.scrollLeft,document.body.scrollTop)};else if(ue.scrollLeft||ue.scrollTop)W.getPageScroll=function(){return new W.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new W.Point(0,0);return W.getPageScroll()},setPageScroll:function(ue){if(typeof window.scrollTo<"u")W.setPageScroll=function(me){window.scrollTo(me.x,me.y)};else{var ce=W.getPageScroll();if(ce.x===ue.x&&ce.y===ue.y)return;document.body.scrollLeft=ue.x,document.body.scrollTop=ue.y;var fe=W.getPageScroll();if(fe.x!==ce.x&&fe.y!==ce.y){W.setPageScroll=function(me){document.body.scrollLeft=me.x,document.body.scrollTop=me.y};return}if(document.documentElement.scrollLeft=ue.x,document.documentElement.scrollTop=ue.y,fe=W.getPageScroll(),fe.x!==ce.x&&fe.y!==ce.y){W.setPageScroll=function(me){document.documentElement.scrollLeft=me.x,document.documentElement.scrollTop=me.y};return}W.setPageScroll=function(me){}}W.setPageScroll(ue)},getWindowSize:function(){var ue=document.documentElement||{},ce=document.body||{};if(typeof window.innerWidth=="number")W.getWindowSize=function(){return new W.Point(window.innerWidth,window.innerHeight)};else if(ue.clientWidth||ue.clientHeight)W.getWindowSize=function(){return new W.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(ce.clientWidth||ce.clientHeight)W.getWindowSize=function(){return new W.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return W.getWindowSize()},makeCenteredNode:function(ue){ue=W.getElement(ue);var ce=[W.makeNeutralElement("div"),W.makeNeutralElement("div"),W.makeNeutralElement("div")];return W.extend(ce[0].style,{display:"table",height:"100%",width:"100%"}),W.extend(ce[1].style,{display:"table-row"}),W.extend(ce[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),ce[0].appendChild(ce[1]),ce[1].appendChild(ce[2]),ce[2].appendChild(ue),ce[0]},makeNeutralElement:function(ue){var ce=document.createElement(ue),fe=ce.style;return fe.background="transparent none",fe.border="none",fe.margin="0px",fe.padding="0px",fe.position="static",ce},now:function(){return Date.now?W.now=Date.now:W.now=function(){return new Date().getTime()},W.now()},makeTransparentImage:function(ue){var ce=W.makeNeutralElement("img");return ce.src=ue,ce},setElementOpacity:function(ue,ce,fe){var me,ve;ue=W.getElement(ue),fe&&!W.Browser.alpha&&(ce=Math.round(ce)),W.Browser.opacity?ue.style.opacity=ce<1?ce:"":ce<1?(me=Math.round(100*ce),ve="alpha(opacity="+me+")",ue.style.filter=ve):ue.style.filter=""},setElementTouchActionNone:function(ue){ue=W.getElement(ue),typeof ue.style.touchAction<"u"?ue.style.touchAction="none":typeof ue.style.msTouchAction<"u"&&(ue.style.msTouchAction="none")},setElementPointerEvents:function(ue,ce){ue=W.getElement(ue),typeof ue.style<"u"&&typeof ue.style.pointerEvents<"u"&&(ue.style.pointerEvents=ce)},setElementPointerEventsNone:function(ue){W.setElementPointerEvents(ue,"none")},addClass:function(ue,ce){ue=W.getElement(ue),ue.className?(" "+ue.className+" ").indexOf(" "+ce+" ")===-1&&(ue.className+=" "+ce):ue.className=ce},indexOf:function(ue,ce,fe){return Array.prototype.indexOf?this.indexOf=function(me,ve,be){return me.indexOf(ve,be)}:this.indexOf=function(me,ve,be){var Se,_e=be||0,Ae;if(!me)throw new TypeError;if(Ae=me.length,Ae===0||_e>=Ae)return-1;for(_e<0&&(_e=Ae-Math.abs(_e)),Se=_e;Se<Ae;Se++)if(me[Se]===ve)return Se;return-1},this.indexOf(ue,ce,fe)},removeClass:function(ue,ce){var fe,me=[],ve;for(ue=W.getElement(ue),fe=ue.className.split(/\s+/),ve=0;ve<fe.length;ve++)fe[ve]&&fe[ve]!==ce&&me.push(fe[ve]);ue.className=me.join(" ")},normalizeEventListenerOptions:function(ue){var ce;return typeof ue<"u"?typeof ue=="boolean"?ce=W.supportsEventListenerOptions?{capture:ue}:ue:ce=W.supportsEventListenerOptions?ue:typeof ue.capture<"u"?ue.capture:!1:ce=W.supportsEventListenerOptions?{capture:!1}:!1,ce},addEvent:function(){if(W.supportsAddEventListener)return function(ue,ce,fe,me){me=W.normalizeEventListenerOptions(me),ue=W.getElement(ue),ue.addEventListener(ce,fe,me)};if(document.documentElement.attachEvent&&document.attachEvent)return function(ue,ce,fe){ue=W.getElement(ue),ue.attachEvent("on"+ce,fe)};throw new Error("No known event model.")}(),removeEvent:function(){if(W.supportsRemoveEventListener)return function(ue,ce,fe,me){me=W.normalizeEventListenerOptions(me),ue=W.getElement(ue),ue.removeEventListener(ce,fe,me)};if(document.documentElement.detachEvent&&document.detachEvent)return function(ue,ce,fe){ue=W.getElement(ue),ue.detachEvent("on"+ce,fe)};throw new Error("No known event model.")}(),cancelEvent:function(ue){ue.preventDefault()},eventIsCanceled:function(ue){return ue.defaultPrevented},stopEvent:function(ue){ue.stopPropagation()},createCallback:function(ue,ce){var fe=[],me;for(me=2;me<arguments.length;me++)fe.push(arguments[me]);return function(){var ve=fe.concat([]),be;for(be=0;be<arguments.length;be++)ve.push(arguments[be]);return ce.apply(ue,ve)}},getUrlParameter:function(ue){var ce=le[ue];return ce||null},getUrlProtocol:function(ue){var ce=ue.match(/^([a-z]+:)\/\//i);return ce===null?window.location.protocol:ce[1].toLowerCase()},createAjaxRequest:function(ue){var ce;try{ce=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{ce=!1}if(ce)window.XMLHttpRequest?W.createAjaxRequest=function(fe){return fe?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:W.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)W.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return W.createAjaxRequest(ue)},makeAjaxRequest:function(ue,ce,fe){var me,ve,be,Se;W.isPlainObject(ue)&&(ce=ue.success,fe=ue.error,me=ue.withCredentials,ve=ue.headers,be=ue.responseType||null,Se=ue.postData||null,ue=ue.url);var _e=W.getUrlProtocol(ue),Ae=W.createAjaxRequest(_e==="file:");if(!W.isFunction(ce))throw new Error("makeAjaxRequest requires a success callback");Ae.onreadystatechange=function(){Ae.readyState===4&&(Ae.onreadystatechange=function(){},Ae.status>=200&&Ae.status<300||Ae.status===0&&_e!=="http:"&&_e!=="https:"?ce(Ae):W.isFunction(fe)?fe(Ae):W.console.error("AJAX request returned %d: %s",Ae.status,ue))};var ke=Se?"POST":"GET";try{if(Ae.open(ke,ue,!0),be&&(Ae.responseType=be),ve)for(var Me in ve)Object.prototype.hasOwnProperty.call(ve,Me)&&ve[Me]&&Ae.setRequestHeader(Me,ve[Me]);me&&(Ae.withCredentials=!0),Ae.send(Se)}catch(Le){W.console.error("%s while making AJAX request: %s",Le.name,Le.message),Ae.onreadystatechange=function(){},W.isFunction(fe)&&fe(Ae,Le)}return Ae},jsonp:function(ue){var ce,fe=ue.url,me=document.head||document.getElementsByTagName("head")[0]||document.documentElement,ve=ue.callbackName||"openseadragon"+W.now(),be=window[ve],Se="$1"+ve+"$2",_e=ue.param||"callback",Ae=ue.callback;fe=fe.replace(/(=)\?(&|$)|\?\?/i,Se),fe+=(/\?/.test(fe)?"&":"?")+_e+"="+ve,window[ve]=function(ke){if(be)window[ve]=be;else try{delete window[ve]}catch{}Ae&&W.isFunction(Ae)&&Ae(ke)},ce=document.createElement("script"),(ue.async!==void 0||ue.async!==!1)&&(ce.async="async"),ue.scriptCharset&&(ce.charset=ue.scriptCharset),ce.src=fe,ce.onload=ce.onreadystatechange=function(ke,Me){(Me||!ce.readyState||/loaded|complete/.test(ce.readyState))&&(ce.onload=ce.onreadystatechange=null,me&&ce.parentNode&&me.removeChild(ce),ce=void 0)},me.insertBefore(ce,me.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(ue){if(window.DOMParser)W.parseXml=function(ce){var fe=null,me;return me=new DOMParser,fe=me.parseFromString(ce,"text/xml"),fe};else if(window.ActiveXObject)W.parseXml=function(ce){var fe=null;return fe=new ActiveXObject("Microsoft.XMLDOM"),fe.async=!1,fe.loadXML(ce),fe};else throw new Error("Browser doesn't support XML DOM.");return W.parseXml(ue)},parseJSON:function(ue){return W.parseJSON=window.JSON.parse,W.parseJSON(ue)},imageFormatSupported:function(ue){return ue=ue||"",!!oe[ue.toLowerCase()]},setImageFormatsSupported:function(ue){W.extend(oe,ue)}});var ne=function(ue){};W.console=window.console||{log:ne,debug:ne,info:ne,warn:ne,error:ne,assert:ne},W.Browser={vendor:W.BROWSERS.UNKNOWN,version:0,alpha:!0};var oe={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},le={};(function(){var ue=navigator.appVersion,ce=navigator.userAgent,fe;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(W.Browser.vendor=W.BROWSERS.IE,W.Browser.version=parseFloat(ce.substring(ce.indexOf("MSIE")+5,ce.indexOf(";",ce.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(ce.indexOf("Edge")>=0?(W.Browser.vendor=W.BROWSERS.EDGE,W.Browser.version=parseFloat(ce.substring(ce.indexOf("Edge")+5))):ce.indexOf("Edg")>=0?(W.Browser.vendor=W.BROWSERS.CHROMEEDGE,W.Browser.version=parseFloat(ce.substring(ce.indexOf("Edg")+4))):ce.indexOf("Firefox")>=0?(W.Browser.vendor=W.BROWSERS.FIREFOX,W.Browser.version=parseFloat(ce.substring(ce.indexOf("Firefox")+8))):ce.indexOf("Safari")>=0?(W.Browser.vendor=ce.indexOf("Chrome")>=0?W.BROWSERS.CHROME:W.BROWSERS.SAFARI,W.Browser.version=parseFloat(ce.substring(ce.substring(0,ce.indexOf("Safari")).lastIndexOf("/")+1,ce.indexOf("Safari")))):(fe=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),fe.exec(ce)!==null&&(W.Browser.vendor=W.BROWSERS.IE,W.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":W.Browser.vendor=W.BROWSERS.OPERA,W.Browser.version=parseFloat(ue);break}var me=window.location.search.substring(1),ve=me.split("&"),be,Se,_e;for(_e=0;_e<ve.length;_e++)if(be=ve[_e],Se=be.indexOf("="),Se>0){var Ae=be.substring(0,Se),ke=be.substring(Se+1);try{le[Ae]=decodeURIComponent(ke)}catch{W.console.error("Ignoring malformed URL parameter: %s=%s",Ae,ke)}}W.Browser.alpha=!(W.Browser.vendor===W.BROWSERS.CHROME&&W.Browser.version<2),W.Browser.opacity=!0,W.Browser.vendor===W.BROWSERS.IE&&W.Browser.version<11&&W.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(ue){var ce=ue.requestAnimationFrame||ue.mozRequestAnimationFrame||ue.webkitRequestAnimationFrame||ue.msRequestAnimationFrame,fe=ue.cancelAnimationFrame||ue.mozCancelAnimationFrame||ue.webkitCancelAnimationFrame||ue.msCancelAnimationFrame;if(ce&&fe)W.requestAnimationFrame=function(){return ce.apply(ue,arguments)},W.cancelAnimationFrame=function(){return fe.apply(ue,arguments)};else{var me=[],ve=[],be=0,Se;W.requestAnimationFrame=function(_e){return me.push([++be,_e]),Se||(Se=setInterval(function(){if(me.length){var Ae=W.now(),ke=ve;for(ve=me,me=ke;ve.length;)ve.shift()[1](Ae)}else clearInterval(Se),Se=void 0},1e3/50)),be},W.cancelAnimationFrame=function(_e){var Ae,ke;for(Ae=0,ke=me.length;Ae<ke;Ae+=1)if(me[Ae][0]===_e){me.splice(Ae,1);return}for(Ae=0,ke=ve.length;Ae<ke;Ae+=1)if(ve[Ae][0]===_e){ve.splice(Ae,1);return}}}}(window);function se(ue,ce){return ce&&ue!==document.body?document.body:ue.offsetParent}}(U),function(W,X){G.exports?G.exports=X():W.OpenSeadragon=X()}(commonjsGlobal,function(){return U}),function(W){var X={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(X.supportsFullScreen=!0,X.getFullScreenElement=function(){return document.fullscreenElement},X.requestFullScreen=function(ne){return ne.requestFullscreen()},X.exitFullScreen=function(){document.exitFullscreen()},X.fullScreenEventName="fullscreenchange",X.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(X.supportsFullScreen=!0,X.getFullScreenElement=function(){return document.msFullscreenElement},X.requestFullScreen=function(ne){return ne.msRequestFullscreen()},X.exitFullScreen=function(){document.msExitFullscreen()},X.fullScreenEventName="MSFullscreenChange",X.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(X.supportsFullScreen=!0,X.getFullScreenElement=function(){return document.webkitFullscreenElement},X.requestFullScreen=function(ne){return ne.webkitRequestFullscreen()},X.exitFullScreen=function(){document.webkitExitFullscreen()},X.fullScreenEventName="webkitfullscreenchange",X.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(X.supportsFullScreen=!0,X.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},X.requestFullScreen=function(ne){return ne.webkitRequestFullScreen()},X.exitFullScreen=function(){document.webkitCancelFullScreen()},X.fullScreenEventName="webkitfullscreenchange",X.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(X.supportsFullScreen=!0,X.getFullScreenElement=function(){return document.mozFullScreenElement},X.requestFullScreen=function(ne){return ne.mozRequestFullScreen()},X.exitFullScreen=function(){document.mozCancelFullScreen()},X.fullScreenEventName="mozfullscreenchange",X.fullScreenErrorEventName="mozfullscreenerror"),X.isFullScreen=function(){return X.getFullScreenElement()!==null},X.cancelFullScreen=function(){W.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),X.exitFullScreen()},W.extend(W,X)}(U),function(W){W.EventSource=function(){this.events={}},W.EventSource.prototype={addOnceHandler:function(X,ne,oe,le){var se=this;le=le||1;var ue=0,ce=function(fe){ue++,ue===le&&se.removeHandler(X,ce),ne(fe)};this.addHandler(X,ce,oe)},addHandler:function(X,ne,oe){var le=this.events[X];le||(this.events[X]=le=[]),ne&&W.isFunction(ne)&&(le[le.length]={handler:ne,userData:oe||null})},removeHandler:function(X,ne){var oe=this.events[X],le=[],se;if(!!oe&&W.isArray(oe)){for(se=0;se<oe.length;se++)oe[se].handler!==ne&&le.push(oe[se]);this.events[X]=le}},numberOfHandlers:function(X){var ne=this.events[X];return ne?ne.length:0},removeAllHandlers:function(X){if(X)this.events[X]=[];else for(var ne in this.events)this.events[ne]=[]},getHandler:function(X){var ne=this.events[X];return!ne||!ne.length?null:(ne=ne.length===1?[ne[0]]:Array.apply(null,ne),function(oe,le){var se,ue=ne.length;for(se=0;se<ue;se++)ne[se]&&(le.eventSource=oe,le.userData=ne[se].userData,ne[se].handler(le))})},raiseEvent:function(X,ne){var oe=this.getHandler(X);oe&&(ne||(ne={}),oe(this,ne))}}}(U),function(W){var X={};W.MouseTracker=function(Oe){var Pe=arguments;W.isPlainObject(Oe)||(Oe={element:Pe[0],clickTimeThreshold:Pe[1],clickDistThreshold:Pe[2]}),this.hash=Math.random(),this.element=W.getElement(Oe.element),this.clickTimeThreshold=Oe.clickTimeThreshold||W.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=Oe.clickDistThreshold||W.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=Oe.dblClickTimeThreshold||W.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=Oe.dblClickDistThreshold||W.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=Oe.userData||null,this.stopDelay=Oe.stopDelay||50,this.preProcessEventHandler=Oe.preProcessEventHandler||null,this.contextMenuHandler=Oe.contextMenuHandler||null,this.enterHandler=Oe.enterHandler||null,this.leaveHandler=Oe.leaveHandler||null,this.exitHandler=Oe.exitHandler||null,this.overHandler=Oe.overHandler||null,this.outHandler=Oe.outHandler||null,this.pressHandler=Oe.pressHandler||null,this.nonPrimaryPressHandler=Oe.nonPrimaryPressHandler||null,this.releaseHandler=Oe.releaseHandler||null,this.nonPrimaryReleaseHandler=Oe.nonPrimaryReleaseHandler||null,this.moveHandler=Oe.moveHandler||null,this.scrollHandler=Oe.scrollHandler||null,this.clickHandler=Oe.clickHandler||null,this.dblClickHandler=Oe.dblClickHandler||null,this.dragHandler=Oe.dragHandler||null,this.dragEndHandler=Oe.dragEndHandler||null,this.pinchHandler=Oe.pinchHandler||null,this.stopHandler=Oe.stopHandler||null,this.keyDownHandler=Oe.keyDownHandler||null,this.keyUpHandler=Oe.keyUpHandler||null,this.keyHandler=Oe.keyHandler||null,this.focusHandler=Oe.focusHandler||null,this.blurHandler=Oe.blurHandler||null;var He=this;X[this.hash]={click:function(Ue){Le(He,Ue)},dblclick:function(Ue){qe(He,Ue)},keydown:function(Ue){Je(He,Ue)},keyup:function(Ue){Fe(He,Ue)},keypress:function(Ue){Ve(He,Ue)},focus:function(Ue){Ze(He,Ue)},blur:function(Ue){Xe(He,Ue)},contextmenu:function(Ue){dt(He,Ue)},wheel:function(Ue){ht(He,Ue)},mousewheel:function(Ue){lt(He,Ue)},DOMMouseScroll:function(Ue){lt(He,Ue)},MozMousePixelScroll:function(Ue){lt(He,Ue)},losecapture:function(Ue){It(He,Ue)},mouseenter:function(Ue){_t(He,Ue)},mouseleave:function(Ue){zt(He,Ue)},mouseover:function(Ue){nn(He,Ue)},mouseout:function(Ue){en(He,Ue)},mousedown:function(Ue){Nt(He,Ue)},mouseup:function(Ue){Ut(He,Ue)},mousemove:function(Ue){un(He,Ue)},touchstart:function(Ue){mt(He,Ue)},touchend:function(Ue){ot(He,Ue)},touchmove:function(Ue){st(He,Ue)},touchcancel:function(Ue){vt(He,Ue)},gesturestart:function(Ue){Ot(He,Ue)},gesturechange:function(Ue){wt(He,Ue)},gotpointercapture:function(Ue){Wt(He,Ue)},lostpointercapture:function(Ue){qt(He,Ue)},pointerenter:function(Ue){_t(He,Ue)},pointerleave:function(Ue){zt(He,Ue)},pointerover:function(Ue){nn(He,Ue)},pointerout:function(Ue){en(He,Ue)},pointerdown:function(Ue){Nt(He,Ue)},pointerup:function(Ue){Ut(He,Ue)},pointermove:function(Ue){un(He,Ue)},pointercancel:function(Ue){we(He,Ue)},pointerupcaptured:function(Ue){Ft(He,Ue)},pointermovecaptured:function(Ue){je(He,Ue)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,W.MouseTracker.havePointerEvents&&W.setElementPointerEvents(this.element,"auto"),this.exitHandler&&W.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),Oe.startDisabled||this.setTracking(!0)},W.MouseTracker.prototype={destroy:function(){ue(this),this.element=null,X[this.hash]=null,delete X[this.hash]},isTracking:function(){return X[this.hash].tracking},setTracking:function(Oe){return Oe?se(this):ue(this),this},getActivePointersListByType:function(Oe){var Pe=X[this.hash],He,Ue=Pe.activePointersLists.length,Et;for(He=0;He<Ue;He++)if(Pe.activePointersLists[He].type===Oe)return Pe.activePointersLists[He];return Et=new W.MouseTracker.GesturePointList(Oe),Pe.activePointersLists.push(Et),Et},getActivePointerCount:function(){var Oe=X[this.hash],Pe,He=Oe.activePointersLists.length,Ue=0;for(Pe=0;Pe<He;Pe++)Ue+=Oe.activePointersLists[Pe].getLength();return Ue},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var ne=function(){try{return window.self!==window.top}catch{return!0}}();function oe(Oe){try{return Oe.addEventListener&&Oe.removeEventListener}catch{return!1}}W.MouseTracker.gesturePointVelocityTracker=function(){var Oe=[],Pe=0,He=0,Ue=function(vn,rn){return vn.hash.toString()+rn.type+rn.id.toString()},Et=function(){var vn,rn=Oe.length,$n,Fn,pi=W.now(),vi,ji,zi;for(vi=pi-He,He=pi,vn=0;vn<rn;vn++)$n=Oe[vn],Fn=$n.gPoint,Fn.direction=Math.atan2(Fn.currentPos.y-$n.lastPos.y,Fn.currentPos.x-$n.lastPos.x),ji=$n.lastPos.distanceTo(Fn.currentPos),$n.lastPos=Fn.currentPos,zi=1e3*ji/(vi+1),Fn.speed=.75*zi+.25*Fn.speed},kt=function(vn,rn){var $n=Ue(vn,rn);Oe.push({guid:$n,gPoint:rn,lastPos:rn.currentPos}),Oe.length===1&&(He=W.now(),Pe=window.setInterval(Et,50))},Kt=function(vn,rn){var $n=Ue(vn,rn),Fn,pi=Oe.length;for(Fn=0;Fn<pi;Fn++)if(Oe[Fn].guid===$n){Oe.splice(Fn,1),pi--,pi===0&&window.clearInterval(Pe);break}};return{addPoint:kt,removePoint:Kt}}(),W.MouseTracker.captureElement=document,W.MouseTracker.wheelEventName=W.Browser.vendor===W.BROWSERS.IE&&W.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",W.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",W.MouseTracker.wheelEventName],W.MouseTracker.wheelEventName==="DOMMouseScroll"&&W.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(W.MouseTracker.havePointerEvents=!0,W.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),W.MouseTracker.havePointerCapture=function(){var Oe=document.createElement("div");return W.isFunction(Oe.setPointerCapture)&&W.isFunction(Oe.releasePointerCapture)}(),W.MouseTracker.havePointerCapture&&W.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(W.MouseTracker.havePointerEvents=!1,W.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),W.MouseTracker.mousePointerId="legacy-mouse",W.MouseTracker.havePointerCapture=function(){var Oe=document.createElement("div");return W.isFunction(Oe.setCapture)&&W.isFunction(Oe.releaseCapture)}(),W.MouseTracker.havePointerCapture&&W.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&W.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&W.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),W.MouseTracker.GesturePointList=function(Oe){this._gPoints=[],this.type=Oe,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},W.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(Oe){return this._gPoints.push(Oe)},removeById:function(Oe){var Pe,He=this._gPoints.length;for(Pe=0;Pe<He;Pe++)if(this._gPoints[Pe].id===Oe){this._gPoints.splice(Pe,1);break}return this._gPoints.length},getByIndex:function(Oe){return Oe<this._gPoints.length?this._gPoints[Oe]:null},getById:function(Oe){var Pe,He=this._gPoints.length;for(Pe=0;Pe<He;Pe++)if(this._gPoints[Pe].id===Oe)return this._gPoints[Pe];return null},getPrimary:function(Oe){var Pe,He=this._gPoints.length;for(Pe=0;Pe<He;Pe++)if(this._gPoints[Pe].isPrimary)return this._gPoints[Pe];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(W.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function le(Oe){var Pe=X[Oe.hash],He,Ue,Et,kt,Kt,vn=Pe.activePointersLists.length;for(He=0;He<vn;He++)if(Et=Pe.activePointersLists[He],Et.getLength()>0){for(Kt=[],kt=Et.asArray(),Ue=0;Ue<kt.length;Ue++)Kt.push(kt[Ue]);for(Ue=0;Ue<Kt.length;Ue++)We(Oe,Et,Kt[Ue])}for(He=0;He<vn;He++)Pe.activePointersLists.pop();Pe.sentDragEvent=!1}function se(Oe){var Pe=X[Oe.hash],He,Ue;if(!Pe.tracking){for(Ue=0;Ue<W.MouseTracker.subscribeEvents.length;Ue++)He=W.MouseTracker.subscribeEvents[Ue],W.addEvent(Oe.element,He,Pe[He],He===W.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);le(Oe),Pe.tracking=!0}}function ue(Oe){var Pe=X[Oe.hash],He,Ue;if(Pe.tracking){for(Ue=0;Ue<W.MouseTracker.subscribeEvents.length;Ue++)He=W.MouseTracker.subscribeEvents[Ue],W.removeEvent(Oe.element,He,Pe[He],!1);le(Oe),Pe.tracking=!1}}function ce(Oe,Pe){var He=X[Oe.hash];if(Pe==="pointerevent")return{upName:"pointerup",upHandler:He.pointerupcaptured,moveName:"pointermove",moveHandler:He.pointermovecaptured};if(Pe==="mouse")return{upName:"pointerup",upHandler:He.pointerupcaptured,moveName:"pointermove",moveHandler:He.pointermovecaptured};if(Pe==="touch")return{upName:"touchend",upHandler:He.touchendcaptured,moveName:"touchmove",moveHandler:He.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function fe(Oe,Pe){var He;if(W.MouseTracker.havePointerCapture)if(W.MouseTracker.havePointerEvents)try{Oe.element.setPointerCapture(Pe.id)}catch{W.console.warn("setPointerCapture() called on invalid pointer ID");return}else Oe.element.setCapture(!0);else He=ce(Oe,W.MouseTracker.havePointerEvents?"pointerevent":Pe.type),ne&&oe(window.top)&&W.addEvent(window.top,He.upName,He.upHandler,!0),W.addEvent(W.MouseTracker.captureElement,He.upName,He.upHandler,!0),W.addEvent(W.MouseTracker.captureElement,He.moveName,He.moveHandler,!0);pt(Oe,Pe,!0)}function me(Oe,Pe){var He,Ue,Et;if(W.MouseTracker.havePointerCapture)if(W.MouseTracker.havePointerEvents){if(Ue=Oe.getActivePointersListByType(Pe.type),Et=Ue.getById(Pe.id),!Et||!Et.captured)return;try{Oe.element.releasePointerCapture(Pe.id)}catch{}}else Oe.element.releaseCapture();else He=ce(Oe,W.MouseTracker.havePointerEvents?"pointerevent":Pe.type),ne&&oe(window.top)&&W.removeEvent(window.top,He.upName,He.upHandler,!0),W.removeEvent(W.MouseTracker.captureElement,He.moveName,He.moveHandler,!0),W.removeEvent(W.MouseTracker.captureElement,He.upName,He.upHandler,!0);pt(Oe,Pe,!1)}function ve(Oe){return W.MouseTracker.havePointerEvents?Oe.pointerId:W.MouseTracker.mousePointerId}function be(Oe){return W.MouseTracker.havePointerEvents?Oe.pointerType||(W.Browser.vendor===W.BROWSERS.IE?"mouse":""):"mouse"}function Se(Oe){return W.MouseTracker.havePointerEvents?Oe.isPrimary:!0}function _e(Oe){return W.getMousePosition(Oe)}function Ae(Oe,Pe){return ke(_e(Oe),Pe)}function ke(Oe,Pe){var He=W.getElementOffset(Pe);return Oe.minus(He)}function Me(Oe,Pe){return new W.Point((Oe.x+Pe.x)/2,(Oe.y+Pe.y)/2)}function Le(Oe,Pe){var He={originalEvent:Pe,eventType:"click",pointerType:"mouse",isEmulated:!1};tt(Oe,He),He.preventDefault&&!He.defaultPrevented&&W.cancelEvent(Pe),He.stopPropagation&&W.stopEvent(Pe)}function qe(Oe,Pe){var He={originalEvent:Pe,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};tt(Oe,He),He.preventDefault&&!He.defaultPrevented&&W.cancelEvent(Pe),He.stopPropagation&&W.stopEvent(Pe)}function Je(Oe,Pe){var He=null,Ue={originalEvent:Pe,eventType:"keydown",pointerType:"",isEmulated:!1};tt(Oe,Ue),Oe.keyDownHandler&&!Ue.preventGesture&&!Ue.defaultPrevented&&(He={eventSource:Oe,keyCode:Pe.keyCode?Pe.keyCode:Pe.charCode,ctrl:Pe.ctrlKey,shift:Pe.shiftKey,alt:Pe.altKey,meta:Pe.metaKey,originalEvent:Pe,preventDefault:Ue.preventDefault||Ue.defaultPrevented,userData:Oe.userData},Oe.keyDownHandler(He)),(He&&He.preventDefault||Ue.preventDefault&&!Ue.defaultPrevented)&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function Fe(Oe,Pe){var He=null,Ue={originalEvent:Pe,eventType:"keyup",pointerType:"",isEmulated:!1};tt(Oe,Ue),Oe.keyUpHandler&&!Ue.preventGesture&&!Ue.defaultPrevented&&(He={eventSource:Oe,keyCode:Pe.keyCode?Pe.keyCode:Pe.charCode,ctrl:Pe.ctrlKey,shift:Pe.shiftKey,alt:Pe.altKey,meta:Pe.metaKey,originalEvent:Pe,preventDefault:Ue.preventDefault||Ue.defaultPrevented,userData:Oe.userData},Oe.keyUpHandler(He)),(He&&He.preventDefault||Ue.preventDefault&&!Ue.defaultPrevented)&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function Ve(Oe,Pe){var He=null,Ue={originalEvent:Pe,eventType:"keypress",pointerType:"",isEmulated:!1};tt(Oe,Ue),Oe.keyHandler&&!Ue.preventGesture&&!Ue.defaultPrevented&&(He={eventSource:Oe,keyCode:Pe.keyCode?Pe.keyCode:Pe.charCode,ctrl:Pe.ctrlKey,shift:Pe.shiftKey,alt:Pe.altKey,meta:Pe.metaKey,originalEvent:Pe,preventDefault:Ue.preventDefault||Ue.defaultPrevented,userData:Oe.userData},Oe.keyHandler(He)),(He&&He.preventDefault||Ue.preventDefault&&!Ue.defaultPrevented)&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function Ze(Oe,Pe){var He={originalEvent:Pe,eventType:"focus",pointerType:"",isEmulated:!1};tt(Oe,He),Oe.focusHandler&&!He.preventGesture&&Oe.focusHandler({eventSource:Oe,originalEvent:Pe,userData:Oe.userData})}function Xe(Oe,Pe){var He={originalEvent:Pe,eventType:"blur",pointerType:"",isEmulated:!1};tt(Oe,He),Oe.blurHandler&&!He.preventGesture&&Oe.blurHandler({eventSource:Oe,originalEvent:Pe,userData:Oe.userData})}function dt(Oe,Pe){var He=null,Ue={originalEvent:Pe,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};tt(Oe,Ue),Oe.contextMenuHandler&&!Ue.preventGesture&&!Ue.defaultPrevented&&(He={eventSource:Oe,position:ke(_e(Pe),Oe.element),originalEvent:Ue.originalEvent,preventDefault:Ue.preventDefault||Ue.defaultPrevented,userData:Oe.userData},Oe.contextMenuHandler(He)),(He&&He.preventDefault||Ue.preventDefault&&!Ue.defaultPrevented)&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function ht(Oe,Pe){xt(Oe,Pe,Pe)}function lt(Oe,Pe){var He={target:Pe.target||Pe.srcElement,type:"wheel",shiftKey:Pe.shiftKey||!1,clientX:Pe.clientX,clientY:Pe.clientY,pageX:Pe.pageX?Pe.pageX:Pe.clientX,pageY:Pe.pageY?Pe.pageY:Pe.clientY,deltaMode:Pe.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};W.MouseTracker.wheelEventName==="mousewheel"?He.deltaY=-Pe.wheelDelta/W.DEFAULT_SETTINGS.pixelsPerWheelLine:He.deltaY=Pe.detail,xt(Oe,He,Pe)}function xt(Oe,Pe,He){var Ue=0,Et,kt=null;Ue=Pe.deltaY<0?1:-1,Et={originalEvent:Pe,eventType:"wheel",pointerType:"mouse",isEmulated:Pe!==He},tt(Oe,Et),Oe.scrollHandler&&!Et.preventGesture&&!Et.defaultPrevented&&(kt={eventSource:Oe,pointerType:"mouse",position:Ae(Pe,Oe.element),scroll:Ue,shift:Pe.shiftKey,isTouchEvent:!1,originalEvent:He,preventDefault:Et.preventDefault||Et.defaultPrevented,userData:Oe.userData},Oe.scrollHandler(kt)),Et.stopPropagation&&W.stopEvent(He),(kt&&kt.preventDefault||Et.preventDefault&&!Et.defaultPrevented)&&W.cancelEvent(He)}function It(Oe,Pe){var He={id:W.MouseTracker.mousePointerId,type:"mouse"},Ue={originalEvent:Pe,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};tt(Oe,Ue),Pe.target===Oe.element&&pt(Oe,He,!1),Ue.stopPropagation&&W.stopEvent(Pe)}function mt(Oe,Pe){var He,Ue,Et=Pe.changedTouches.length,kt,Kt=Oe.getActivePointersListByType("touch");He=W.now(),Kt.getLength()>Pe.touches.length-Et&&W.console.warn("Tracked touch contact count doesn't match event.touches.length");var vn={originalEvent:Pe,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(tt(Oe,vn),Ue=0;Ue<Et;Ue++)kt={id:Pe.changedTouches[Ue].identifier,type:"touch",isPrimary:Kt.getLength()===0,currentPos:_e(Pe.changedTouches[Ue]),currentTime:He},at(Oe,vn,kt),St(Oe,vn,kt,0),pt(Oe,kt,!0);vn.preventDefault&&!vn.defaultPrevented&&W.cancelEvent(Pe),vn.stopPropagation&&W.stopEvent(Pe)}function ot(Oe,Pe){var He,Ue,Et=Pe.changedTouches.length,kt;He=W.now();var Kt={originalEvent:Pe,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(tt(Oe,Kt),Ue=0;Ue<Et;Ue++)kt={id:Pe.changedTouches[Ue].identifier,type:"touch",currentPos:_e(Pe.changedTouches[Ue]),currentTime:He},At(Oe,Kt,kt,0),pt(Oe,kt,!1),it(Oe,Kt,kt);Kt.preventDefault&&!Kt.defaultPrevented&&W.cancelEvent(Pe),Kt.stopPropagation&&W.stopEvent(Pe)}function st(Oe,Pe){var He,Ue,Et=Pe.changedTouches.length,kt;He=W.now();var Kt={originalEvent:Pe,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(tt(Oe,Kt),Ue=0;Ue<Et;Ue++)kt={id:Pe.changedTouches[Ue].identifier,type:"touch",currentPos:_e(Pe.changedTouches[Ue]),currentTime:He},Bt(Oe,Kt,kt);Kt.preventDefault&&!Kt.defaultPrevented&&W.cancelEvent(Pe),Kt.stopPropagation&&W.stopEvent(Pe)}function vt(Oe,Pe){var He=Pe.changedTouches.length,Ue,Et,kt={originalEvent:Pe,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(tt(Oe,kt),Ue=0;Ue<He;Ue++)Et={id:Pe.changedTouches[Ue].identifier,type:"touch"},on(Oe,kt,Et);kt.stopPropagation&&W.stopEvent(Pe)}function Ot(Oe,Pe){return W.eventIsCanceled(Pe)||Pe.preventDefault(),!1}function wt(Oe,Pe){return W.eventIsCanceled(Pe)||Pe.preventDefault(),!1}function Wt(Oe,Pe){var He={originalEvent:Pe,eventType:"gotpointercapture",pointerType:be(Pe),isEmulated:!1};tt(Oe,He),Pe.target===Oe.element&&pt(Oe,{id:Pe.pointerId,type:be(Pe)},!0),He.stopPropagation&&W.stopEvent(Pe)}function qt(Oe,Pe){var He={originalEvent:Pe,eventType:"lostpointercapture",pointerType:be(Pe),isEmulated:!1};tt(Oe,He),Pe.target===Oe.element&&pt(Oe,{id:Pe.pointerId,type:be(Pe)},!1),He.stopPropagation&&W.stopEvent(Pe)}function _t(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue={originalEvent:Pe,eventType:"pointerenter",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),at(Oe,Ue,He)}function zt(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue={originalEvent:Pe,eventType:"pointerleave",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),it(Oe,Ue,He)}function nn(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue={originalEvent:Pe,eventType:"pointerover",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),bt(Oe,Ue,He),Ue.preventDefault&&!Ue.defaultPrevented&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function en(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue={originalEvent:Pe,eventType:"pointerout",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),yt(Oe,Ue,He),Ue.preventDefault&&!Ue.defaultPrevented&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function Nt(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue=W.MouseTracker.havePointerEvents&&He.type==="touch"&&W.Browser.vendor!==W.BROWSERS.IE,Et={originalEvent:Pe,eventType:"pointerdown",pointerType:He.type,isEmulated:!1};tt(Oe,Et),St(Oe,Et,He,Pe.button),Et.preventDefault&&!Et.defaultPrevented&&W.cancelEvent(Pe),Et.stopPropagation&&W.stopEvent(Pe),Et.shouldCapture&&(Ue?pt(Oe,He,!0):fe(Oe,He))}function Ut(Oe,Pe){sn(Oe,Pe)}function Ft(Oe,Pe){var He=Oe.getActivePointersListByType(be(Pe));He.getById(Pe.pointerId)&&sn(Oe,Pe),W.stopEvent(Pe)}function sn(Oe,Pe){var He;He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()};var Ue={originalEvent:Pe,eventType:"pointerup",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),At(Oe,Ue,He,Pe.button),Ue.preventDefault&&!Ue.defaultPrevented&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe),Ue.shouldReleaseCapture&&(Pe.target===Oe.element?me(Oe,He):pt(Oe,He,!1))}function un(Oe,Pe){ze(Oe,Pe)}function je(Oe,Pe){var He=Oe.getActivePointersListByType(be(Pe));He.getById(Pe.pointerId)&&ze(Oe,Pe),W.stopEvent(Pe)}function ze(Oe,Pe){var He={id:ve(Pe),type:be(Pe),isPrimary:Se(Pe),currentPos:_e(Pe),currentTime:W.now()},Ue={originalEvent:Pe,eventType:"pointermove",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),Bt(Oe,Ue,He),Ue.preventDefault&&!Ue.defaultPrevented&&W.cancelEvent(Pe),Ue.stopPropagation&&W.stopEvent(Pe)}function we(Oe,Pe){var He={id:Pe.pointerId,type:be(Pe)},Ue={originalEvent:Pe,eventType:"pointercancel",pointerType:He.type,isEmulated:!1};tt(Oe,Ue),on(Oe,Ue,He),Ue.stopPropagation&&W.stopEvent(Pe)}function Ie(Oe,Pe){return Pe.speed=0,Pe.direction=0,Pe.contactPos=Pe.currentPos,Pe.contactTime=Pe.currentTime,Pe.lastPos=Pe.currentPos,Pe.lastTime=Pe.currentTime,Oe.add(Pe)}function We(Oe,Pe,He){var Ue,Et=Pe.getById(He.id);return Et?(Et.captured&&(W.console.warn("stopTrackingPointer() called on captured pointer"),me(Oe,Et)),Pe.removeContact(),Ue=Pe.removeById(He.id)):Ue=Pe.getLength(),Ue}function rt(Oe,Pe){switch(Pe.eventType){case"pointermove":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!1,Pe.preventGesture=!Oe.hasGestureHandlers,Pe.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!1,Pe.preventGesture=!1,Pe.stopPropagation=!1;break;case"pointerdown":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!1,Pe.preventGesture=!Oe.hasGestureHandlers,Pe.stopPropagation=!1;break;case"pointerup":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!1,Pe.preventGesture=!Oe.hasGestureHandlers,Pe.stopPropagation=!1;break;case"wheel":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!1,Pe.preventGesture=!Oe.hasScrollHandler,Pe.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":Pe.isStoppable=!0,Pe.isCancelable=!1,Pe.preventDefault=!1,Pe.preventGesture=!1,Pe.stopPropagation=!1;break;case"click":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!!Oe.clickHandler,Pe.preventGesture=!1,Pe.stopPropagation=!1;break;case"dblclick":Pe.isStoppable=!0,Pe.isCancelable=!0,Pe.preventDefault=!!Oe.dblClickHandler,Pe.preventGesture=!1,Pe.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:Pe.isStoppable=!1,Pe.isCancelable=!1,Pe.preventDefault=!1,Pe.preventGesture=!1,Pe.stopPropagation=!1;break}}function tt(Oe,Pe){Pe.eventSource=Oe,Pe.eventPhase=Pe.originalEvent&&typeof Pe.originalEvent.eventPhase<"u"?Pe.originalEvent.eventPhase:0,Pe.defaultPrevented=W.eventIsCanceled(Pe.originalEvent),Pe.shouldCapture=!1,Pe.shouldReleaseCapture=!1,Pe.userData=Oe.userData,rt(Oe,Pe),Oe.preProcessEventHandler&&Oe.preProcessEventHandler(Pe)}function pt(Oe,Pe,He){var Ue=Oe.getActivePointersListByType(Pe.type),Et=Ue.getById(Pe.id);Et?He&&!Et.captured?(Et.captured=!0,Ue.captureCount++):!He&&Et.captured&&(Et.captured=!1,Ue.captureCount--,Ue.captureCount<0&&(Ue.captureCount=0,W.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):W.console.warn("updatePointerCaptured() called on untracked pointer")}function at(Oe,Pe,He){var Ue=Oe.getActivePointersListByType(He.type),Et;Et=Ue.getById(He.id),Et?(Et.insideElement=!0,Et.lastPos=Et.currentPos,Et.lastTime=Et.currentTime,Et.currentPos=He.currentPos,Et.currentTime=He.currentTime,He=Et):(He.captured=!1,He.insideElementPressed=!1,He.insideElement=!0,Ie(Ue,He)),Oe.enterHandler&&Oe.enterHandler({eventSource:Oe,pointerType:He.type,position:ke(He.currentPos,Oe.element),buttons:Ue.buttons,pointers:Oe.getActivePointerCount(),insideElementPressed:He.insideElementPressed,buttonDownAny:Ue.buttons!==0,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData})}function it(Oe,Pe,He){var Ue=Oe.getActivePointersListByType(He.type),Et,kt;Et=Ue.getById(He.id),Et?(Et.captured?(Et.insideElement=!1,Et.lastPos=Et.currentPos,Et.lastTime=Et.currentTime,Et.currentPos=He.currentPos,Et.currentTime=He.currentTime):We(Oe,Ue,Et),He=Et):(He.captured=!1,He.insideElementPressed=!1),(Oe.leaveHandler||Oe.exitHandler)&&(kt={eventSource:Oe,pointerType:He.type,position:He.currentPos&&ke(He.currentPos,Oe.element),buttons:Ue.buttons,pointers:Oe.getActivePointerCount(),insideElementPressed:He.insideElementPressed,buttonDownAny:Ue.buttons!==0,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData},Oe.leaveHandler&&Oe.leaveHandler(kt),Oe.exitHandler&&Oe.exitHandler(kt))}function bt(Oe,Pe,He){var Ue,Et;Ue=Oe.getActivePointersListByType(He.type),Et=Ue.getById(He.id),Et?He=Et:(He.captured=!1,He.insideElementPressed=!1),Oe.overHandler&&Oe.overHandler({eventSource:Oe,pointerType:He.type,position:ke(He.currentPos,Oe.element),buttons:Ue.buttons,pointers:Oe.getActivePointerCount(),insideElementPressed:He.insideElementPressed,buttonDownAny:Ue.buttons!==0,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData})}function yt(Oe,Pe,He){var Ue,Et;Ue=Oe.getActivePointersListByType(He.type),Et=Ue.getById(He.id),Et?He=Et:(He.captured=!1,He.insideElementPressed=!1),Oe.outHandler&&Oe.outHandler({eventSource:Oe,pointerType:He.type,position:He.currentPos&&ke(He.currentPos,Oe.element),buttons:Ue.buttons,pointers:Oe.getActivePointerCount(),insideElementPressed:He.insideElementPressed,buttonDownAny:Ue.buttons!==0,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData})}function St(Oe,Pe,He,Ue){var Et=X[Oe.hash],kt=Oe.getActivePointersListByType(He.type),Kt;if(typeof Pe.originalEvent.buttons<"u"?kt.buttons=Pe.originalEvent.buttons:Ue===0?kt.buttons|=1:Ue===1?kt.buttons|=4:Ue===2?kt.buttons|=2:Ue===3?kt.buttons|=8:Ue===4?kt.buttons|=16:Ue===5&&(kt.buttons|=32),Ue!==0){Pe.shouldCapture=!1,Pe.shouldReleaseCapture=!1,Oe.nonPrimaryPressHandler&&!Pe.preventGesture&&!Pe.defaultPrevented&&(Pe.preventDefault=!0,Oe.nonPrimaryPressHandler({eventSource:Oe,pointerType:He.type,position:ke(He.currentPos,Oe.element),button:Ue,buttons:kt.buttons,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}));return}Kt=kt.getById(He.id),Kt?(Kt.insideElementPressed=!0,Kt.insideElement=!0,Kt.originalTarget=Pe.originalEvent.target,Kt.contactPos=He.currentPos,Kt.contactTime=He.currentTime,Kt.lastPos=Kt.currentPos,Kt.lastTime=Kt.currentTime,Kt.currentPos=He.currentPos,Kt.currentTime=He.currentTime,He=Kt):(He.captured=!1,He.insideElementPressed=!0,He.insideElement=!0,He.originalTarget=Pe.originalEvent.target,Ie(kt,He)),kt.addContact(),!Pe.preventGesture&&!Pe.defaultPrevented?(Pe.shouldCapture=!0,Pe.shouldReleaseCapture=!1,Pe.preventDefault=!0,(Oe.dragHandler||Oe.dragEndHandler||Oe.pinchHandler)&&W.MouseTracker.gesturePointVelocityTracker.addPoint(Oe,He),kt.contacts===1?Oe.pressHandler&&!Pe.preventGesture&&Oe.pressHandler({eventSource:Oe,pointerType:He.type,position:ke(He.contactPos,Oe.element),buttons:kt.buttons,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}):kt.contacts===2&&Oe.pinchHandler&&He.type==="touch"&&(Et.pinchGPoints=kt.asArray(),Et.lastPinchDist=Et.currentPinchDist=Et.pinchGPoints[0].currentPos.distanceTo(Et.pinchGPoints[1].currentPos),Et.lastPinchCenter=Et.currentPinchCenter=Me(Et.pinchGPoints[0].currentPos,Et.pinchGPoints[1].currentPos))):(Pe.shouldCapture=!1,Pe.shouldReleaseCapture=!1)}function At(Oe,Pe,He,Ue){var Et=X[Oe.hash],kt=Oe.getActivePointersListByType(He.type),Kt,vn,rn,$n=!1,Fn;if(typeof Pe.originalEvent.buttons<"u"?kt.buttons=Pe.originalEvent.buttons:Ue===0?kt.buttons^=-2:Ue===1?kt.buttons^=-5:Ue===2?kt.buttons^=-3:Ue===3?kt.buttons^=-9:Ue===4?kt.buttons^=-17:Ue===5&&(kt.buttons^=-33),Pe.shouldCapture=!1,Ue!==0){Pe.shouldReleaseCapture=!1,Oe.nonPrimaryReleaseHandler&&!Pe.preventGesture&&!Pe.defaultPrevented&&(Pe.preventDefault=!0,Oe.nonPrimaryReleaseHandler({eventSource:Oe,pointerType:He.type,position:ke(He.currentPos,Oe.element),button:Ue,buttons:kt.buttons,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}));return}rn=kt.getById(He.id),rn?(kt.removeContact(),rn.captured&&($n=!0),rn.lastPos=rn.currentPos,rn.lastTime=rn.currentTime,rn.currentPos=He.currentPos,rn.currentTime=He.currentTime,rn.insideElement||We(Oe,kt,rn),Kt=rn.currentPos,vn=rn.currentTime):(He.captured=!1,He.insideElementPressed=!1,He.insideElement=!0,Ie(kt,He),rn=He),!Pe.preventGesture&&!Pe.defaultPrevented&&($n?(Pe.shouldReleaseCapture=!0,Pe.preventDefault=!0,(Oe.dragHandler||Oe.dragEndHandler||Oe.pinchHandler)&&W.MouseTracker.gesturePointVelocityTracker.removePoint(Oe,rn),kt.contacts===0?(Oe.releaseHandler&&Kt&&Oe.releaseHandler({eventSource:Oe,pointerType:rn.type,position:ke(Kt,Oe.element),buttons:kt.buttons,insideElementPressed:rn.insideElementPressed,insideElementReleased:rn.insideElement,isTouchEvent:rn.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}),Oe.dragEndHandler&&Et.sentDragEvent&&Oe.dragEndHandler({eventSource:Oe,pointerType:rn.type,position:ke(rn.currentPos,Oe.element),speed:rn.speed,direction:rn.direction,shift:Pe.originalEvent.shiftKey,isTouchEvent:rn.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}),Et.sentDragEvent=!1,(Oe.clickHandler||Oe.dblClickHandler)&&rn.insideElement&&(Fn=vn-rn.contactTime<=Oe.clickTimeThreshold&&rn.contactPos.distanceTo(Kt)<=Oe.clickDistThreshold,Oe.clickHandler&&Oe.clickHandler({eventSource:Oe,pointerType:rn.type,position:ke(rn.currentPos,Oe.element),quick:Fn,shift:Pe.originalEvent.shiftKey,isTouchEvent:rn.type==="touch",originalEvent:Pe.originalEvent,originalTarget:rn.originalTarget,userData:Oe.userData}),Oe.dblClickHandler&&Fn&&(kt.clicks++,kt.clicks===1?(Et.lastClickPos=Kt,Et.dblClickTimeOut=setTimeout(function(){kt.clicks=0},Oe.dblClickTimeThreshold)):kt.clicks===2&&(clearTimeout(Et.dblClickTimeOut),kt.clicks=0,Et.lastClickPos.distanceTo(Kt)<=Oe.dblClickDistThreshold&&Oe.dblClickHandler({eventSource:Oe,pointerType:rn.type,position:ke(rn.currentPos,Oe.element),shift:Pe.originalEvent.shiftKey,isTouchEvent:rn.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}),Et.lastClickPos=null)))):kt.contacts===2&&Oe.pinchHandler&&rn.type==="touch"&&(Et.pinchGPoints=kt.asArray(),Et.lastPinchDist=Et.currentPinchDist=Et.pinchGPoints[0].currentPos.distanceTo(Et.pinchGPoints[1].currentPos),Et.lastPinchCenter=Et.currentPinchCenter=Me(Et.pinchGPoints[0].currentPos,Et.pinchGPoints[1].currentPos))):(Pe.shouldReleaseCapture=!1,Oe.releaseHandler&&Kt&&(Oe.releaseHandler({eventSource:Oe,pointerType:rn.type,position:ke(Kt,Oe.element),buttons:kt.buttons,insideElementPressed:rn.insideElementPressed,insideElementReleased:rn.insideElement,isTouchEvent:rn.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}),Pe.preventDefault=!0)))}function Bt(Oe,Pe,He){var Ue=X[Oe.hash],Et=Oe.getActivePointersListByType(He.type),kt,Kt,vn;if(typeof Pe.originalEvent.buttons<"u"&&(Et.buttons=Pe.originalEvent.buttons),kt=Et.getById(He.id),kt)kt.lastPos=kt.currentPos,kt.lastTime=kt.currentTime,kt.currentPos=He.currentPos,kt.currentTime=He.currentTime;else return;Pe.shouldCapture=!1,Pe.shouldReleaseCapture=!1,Oe.stopHandler&&He.type==="mouse"&&(clearTimeout(Oe.stopTimeOut),Oe.stopTimeOut=setTimeout(function(){cn(Oe,Pe.originalEvent,He.type)},Oe.stopDelay)),Et.contacts===0?Oe.moveHandler&&Oe.moveHandler({eventSource:Oe,pointerType:He.type,position:ke(He.currentPos,Oe.element),buttons:Et.buttons,isTouchEvent:He.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}):Et.contacts===1?(Oe.moveHandler&&(kt=Et.asArray()[0],Oe.moveHandler({eventSource:Oe,pointerType:kt.type,position:ke(kt.currentPos,Oe.element),buttons:Et.buttons,isTouchEvent:kt.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData})),Oe.dragHandler&&!Pe.preventGesture&&!Pe.defaultPrevented&&(kt=Et.asArray()[0],vn=kt.currentPos.minus(kt.lastPos),Oe.dragHandler({eventSource:Oe,pointerType:kt.type,position:ke(kt.currentPos,Oe.element),buttons:Et.buttons,delta:vn,speed:kt.speed,direction:kt.direction,shift:Pe.originalEvent.shiftKey,isTouchEvent:kt.type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData}),Pe.preventDefault=!0,Ue.sentDragEvent=!0)):Et.contacts===2&&(Oe.moveHandler&&(Kt=Et.asArray(),Oe.moveHandler({eventSource:Oe,pointerType:Kt[0].type,position:ke(Me(Kt[0].currentPos,Kt[1].currentPos),Oe.element),buttons:Et.buttons,isTouchEvent:Kt[0].type==="touch",originalEvent:Pe.originalEvent,userData:Oe.userData})),Oe.pinchHandler&&He.type==="touch"&&!Pe.preventGesture&&!Pe.defaultPrevented&&(vn=Ue.pinchGPoints[0].currentPos.distanceTo(Ue.pinchGPoints[1].currentPos),vn!==Ue.currentPinchDist&&(Ue.lastPinchDist=Ue.currentPinchDist,Ue.currentPinchDist=vn,Ue.lastPinchCenter=Ue.currentPinchCenter,Ue.currentPinchCenter=Me(Ue.pinchGPoints[0].currentPos,Ue.pinchGPoints[1].currentPos),Oe.pinchHandler({eventSource:Oe,pointerType:"touch",gesturePoints:Ue.pinchGPoints,lastCenter:ke(Ue.lastPinchCenter,Oe.element),center:ke(Ue.currentPinchCenter,Oe.element),lastDistance:Ue.lastPinchDist,distance:Ue.currentPinchDist,shift:Pe.originalEvent.shiftKey,originalEvent:Pe.originalEvent,userData:Oe.userData}),Pe.preventDefault=!0)))}function on(Oe,Pe,He){var Ue=Oe.getActivePointersListByType(He.type),Et;Et=Ue.getById(He.id),Et&&We(Oe,Ue,Et)}function cn(Oe,Pe,He){Oe.stopHandler&&Oe.stopHandler({eventSource:Oe,pointerType:He,position:Ae(Pe,Oe.element),buttons:Oe.getActivePointersListByType(He).buttons,isTouchEvent:He==="touch",originalEvent:Pe,userData:Oe.userData})}}(U),function(W){W.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},W.Control=function(X,ne,oe){var le=X.parentNode;typeof ne=="number"&&(W.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),ne={anchor:ne}),ne.attachToViewer=typeof ne.attachToViewer>"u"?!0:ne.attachToViewer,this.autoFade=typeof ne.autoFade>"u"?!0:ne.autoFade,this.element=X,this.anchor=ne.anchor,this.container=oe,this.anchor===W.ControlAnchor.ABSOLUTE?(this.wrapper=W.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof ne.top=="number"?ne.top+"px":ne.top,this.wrapper.style.left=typeof ne.left=="number"?ne.left+"px":ne.left,this.wrapper.style.height=typeof ne.height=="number"?ne.height+"px":ne.height,this.wrapper.style.width=typeof ne.width=="number"?ne.width+"px":ne.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=W.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===W.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),ne.attachToViewer?this.anchor===W.ControlAnchor.TOP_RIGHT||this.anchor===W.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):le.appendChild(this.wrapper)},W.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==W.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(X){this.wrapper.style.display=X?this.anchor===W.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(X){this.element[W.SIGNAL]&&W.Browser.vendor===W.BROWSERS.IE?W.setElementOpacity(this.element,X,!0):W.setElementOpacity(this.wrapper,X,!0)}}}(U),function(W){W.ControlDock=function(ne){var oe=["topleft","topright","bottomright","bottomleft"],le,se;for(W.extend(!0,this,{id:"controldock-"+W.now()+"-"+Math.floor(Math.random()*1e6),container:W.makeNeutralElement("div"),controls:[]},ne),this.container.onsubmit=function(){return!1},this.element&&(this.element=W.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),se=0;se<oe.length;se++)le=oe[se],this.controls[le]=W.makeNeutralElement("div"),this.controls[le].style.position="absolute",le.match("left")&&(this.controls[le].style.left="0px"),le.match("right")&&(this.controls[le].style.right="0px"),le.match("top")&&(this.controls[le].style.top="0px"),le.match("bottom")&&(this.controls[le].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},W.ControlDock.prototype={addControl:function(ne,oe){ne=W.getElement(ne);var le=null;if(!(X(this,ne)>=0)){switch(oe.anchor){case W.ControlAnchor.TOP_RIGHT:le=this.controls.topright,ne.style.position="relative",ne.style.paddingRight="0px",ne.style.paddingTop="0px";break;case W.ControlAnchor.BOTTOM_RIGHT:le=this.controls.bottomright,ne.style.position="relative",ne.style.paddingRight="0px",ne.style.paddingBottom="0px";break;case W.ControlAnchor.BOTTOM_LEFT:le=this.controls.bottomleft,ne.style.position="relative",ne.style.paddingLeft="0px",ne.style.paddingBottom="0px";break;case W.ControlAnchor.TOP_LEFT:le=this.controls.topleft,ne.style.position="relative",ne.style.paddingLeft="0px",ne.style.paddingTop="0px";break;case W.ControlAnchor.ABSOLUTE:le=this.container,ne.style.margin="0px",ne.style.padding="0px";break;default:case W.ControlAnchor.NONE:le=this.container,ne.style.margin="0px",ne.style.padding="0px";break}this.controls.push(new W.Control(ne,oe,le)),ne.style.display="inline-block"}},removeControl:function(ne){ne=W.getElement(ne);var oe=X(this,ne);return oe>=0&&(this.controls[oe].destroy(),this.controls.splice(oe,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var ne;for(ne=this.controls.length-1;ne>=0;ne--)if(this.controls[ne].isVisible())return!0;return!1},setControlsEnabled:function(ne){var oe;for(oe=this.controls.length-1;oe>=0;oe--)this.controls[oe].setVisible(ne);return this}};function X(ne,oe){var le=ne.controls,se;for(se=le.length-1;se>=0;se--)if(le[se].element===oe)return se;return-1}}(U),function(W){W.Placement=W.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(U),function(W){var X={},ne=1;W.Viewer=function(we){var Ie=arguments,We=this,rt;if(W.isPlainObject(we)||(we={id:Ie[0],xmlPath:Ie.length>1?Ie[1]:void 0,prefixUrl:Ie.length>2?Ie[2]:void 0,controls:Ie.length>3?Ie[3]:void 0,overlays:Ie.length>4?Ie[4]:void 0}),we.config&&(W.extend(!0,we,we.config),delete we.config),W.extend(!0,this,{id:we.id,hash:we.hash||ne++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},W.DEFAULT_SETTINGS,we),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof X[this.hash]<"u"&&W.console.warn("Hash "+this.hash+" has already been used."),X[this.hash]={fsBoundsDelta:new W.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=W.now(),W.EventSource.call(this),this.addHandler("open-failed",function(tt){var pt=W.getString("Errors.OpenFailed",tt.eventSource,tt.message);We._showMessage(pt)}),W.ControlDock.call(this,we),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=W.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(tt){tt.width="100%",tt.height="100%",tt.overflow="hidden",tt.position="absolute",tt.top="0px",tt.left="0px"}(this.canvas.style),W.setElementTouchActionNone(this.canvas),we.tabIndex!==""&&(this.canvas.tabIndex=we.tabIndex===void 0?0:we.tabIndex),this.container.className="openseadragon-container",function(tt){tt.width="100%",tt.height="100%",tt.position="relative",tt.overflow="hidden",tt.left="0px",tt.top="0px",tt.textAlign="left"}(this.container.style),W.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new W.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:W.delegate(this,Ae),keyDownHandler:W.delegate(this,ke),keyHandler:W.delegate(this,Me),clickHandler:W.delegate(this,Le),dblClickHandler:W.delegate(this,qe),dragHandler:W.delegate(this,Je),dragEndHandler:W.delegate(this,Fe),enterHandler:W.delegate(this,Ve),leaveHandler:W.delegate(this,Ze),pressHandler:W.delegate(this,Xe),releaseHandler:W.delegate(this,dt),nonPrimaryPressHandler:W.delegate(this,ht),nonPrimaryReleaseHandler:W.delegate(this,lt),scrollHandler:W.delegate(this,It),pinchHandler:W.delegate(this,xt)}),this.outerTracker=new W.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:W.delegate(this,mt),leaveHandler:W.delegate(this,ot)}),this.toolbar&&(this.toolbar=new W.ControlDock({element:this.toolbar})),this.bindStandardControls(),X[this.hash].prevContainerSize=oe(this.container),this.world=new W.World({viewer:this}),this.world.addHandler("add-item",function(tt){We.source=We.world.getItemAt(0).source,X[We.hash].forceRedraw=!0,We._updateRequestId||(We._updateRequestId=ce(We,st))}),this.world.addHandler("remove-item",function(tt){We.world.getItemCount()?We.source=We.world.getItemAt(0).source:We.source=null,X[We.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(tt){We.viewport&&We.viewport._setContentBounds(We.world.getHomeBounds(),We.world.getContentFactor())}),this.world.addHandler("item-index-change",function(tt){We.source=We.world.getItemAt(0).source}),this.viewport=new W.Viewport({containerSize:X[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins,silenceMultiImageWarnings:this.silenceMultiImageWarnings}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new W.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:we.timeout}),this.tileCache=new W.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new W.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=W.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(rt=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(rt,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(rt=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(rt,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new W.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),rt=0;rt<this.customControls.length;rt++)this.addControl(this.customControls[rt].id,{anchor:this.customControls[rt].anchor});W.requestAnimationFrame(function(){me(We)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),W._viewers.set(this.element,this)},W.extend(W.Viewer.prototype,W.EventSource.prototype,W.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(we){return W.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(we)},openTileSource:function(we){return W.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(we)},get buttons(){return W.console.warn("Viewer.buttons is deprecated; Please use Viewer.buttonGroup"),this.buttonGroup},open:function(we,Ie){var We=this;if(this.close(),!we)return this;if(this.sequenceMode&&W.isArray(we))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Ie<"u"&&!isNaN(Ie)&&(this.initialPage=Ie),this.tileSources=we,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(W.isArray(we)||(we=[we]),!we.length)return this;this._opening=!0;for(var rt=we.length,tt=0,pt=0,at,it=function(){if(tt+pt===rt)if(tt){(We._firstOpen||!We.preserveViewport)&&(We.viewport.goHome(!0),We.viewport.update()),We._firstOpen=!1;var St=we[0];if(St.tileSource&&(St=St.tileSource),We.overlays&&!We.preserveOverlays)for(var At=0;At<We.overlays.length;At++)We.currentOverlays[At]=se(We,We.overlays[At]);We._drawOverlays(),We._opening=!1,We.raiseEvent("open",{source:St})}else We._opening=!1,We.raiseEvent("open-failed",at)},bt=function(St){(!W.isPlainObject(St)||!St.tileSource)&&(St={tileSource:St}),St.index!==void 0&&(W.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete St.index),St.collectionImmediately===void 0&&(St.collectionImmediately=!0);var At=St.success;St.success=function(on){if(tt++,St.tileSource.overlays)for(var cn=0;cn<St.tileSource.overlays.length;cn++)We.addOverlay(St.tileSource.overlays[cn]);At&&At(on),it()};var Bt=St.error;St.error=function(on){pt++,at||(at=on),Bt&&Bt(on),it()},We.addTiledImage(St)},yt=0;yt<we.length;yt++)bt(we[yt]);return this},close:function(){return X[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),X[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!X[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(W.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),X[this.navigator.hash]=null,delete X[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),X[this.hash]=null,delete X[this.hash],this.canvas=null,this.container=null,W._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(we){return this.innerTracker.setTracking(we),this.outerTracker.setTracking(we),this.raiseEvent("mouse-enabled",{enabled:we}),this},areControlsEnabled:function(){var we=this.controls.length,Ie;for(Ie=0;Ie<this.controls.length;Ie++)we=we&&this.controls[Ie].isVisible();return we},setControlsEnabled:function(we){return we?be(this):me(this),this.raiseEvent("controls-enabled",{enabled:we}),this},setDebugMode:function(we){for(var Ie=0;Ie<this.world.getItemCount();Ie++)this.world.getItemAt(Ie).debugMode=we;this.debugMode=we,this.forceRedraw()},isFullPage:function(){return X[this.hash].fullPage},setFullPage:function(we){var Ie=document.body,We=Ie.style,rt=document.documentElement.style,tt=this,pt,at;if(we===this.isFullPage())return this;var it={fullPage:we,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",it),it.preventDefaultAction)return this;if(we){for(this.elementSize=W.getElementSize(this.element),this.pageScroll=W.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=We.margin,this.docMargin=rt.margin,We.margin="0",rt.margin="0",this.bodyPadding=We.padding,this.docPadding=rt.padding,We.padding="0",rt.padding="0",this.bodyWidth=We.width,this.docWidth=rt.width,We.width="100%",rt.width="100%",this.bodyHeight=We.height,this.docHeight=rt.height,We.height="100%",rt.height="100%",this.bodyDisplay=We.display,We.display="block",this.previousBody=[],X[this.hash].prevElementParent=this.element.parentNode,X[this.hash].prevNextSibling=this.element.nextSibling,X[this.hash].prevElementWidth=this.element.style.width,X[this.hash].prevElementHeight=this.element.style.height,pt=Ie.childNodes.length,at=0;at<pt;at++)this.previousBody.push(Ie.childNodes[0]),Ie.removeChild(Ie.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Ie.appendChild(this.toolbar.element),W.addClass(this.toolbar.element,"fullpage")),W.addClass(this.element,"fullpage"),Ie.appendChild(this.element),this.element.style.height="100vh",this.element.style.width="100vw",this.toolbar&&this.toolbar.element&&(this.element.style.height=W.getElementSize(this.element).y-W.getElementSize(this.toolbar.element).y+"px"),X[this.hash].fullPage=!0,W.delegate(this,mt)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,We.margin=this.bodyMargin,rt.margin=this.docMargin,We.padding=this.bodyPadding,rt.padding=this.docPadding,We.width=this.bodyWidth,rt.width=this.docWidth,We.height=this.bodyHeight,rt.height=this.docHeight,We.display=this.bodyDisplay,Ie.removeChild(this.element),pt=this.previousBody.length,at=0;at<pt;at++)Ie.appendChild(this.previousBody.shift());W.removeClass(this.element,"fullpage"),X[this.hash].prevElementParent.insertBefore(this.element,X[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Ie.removeChild(this.toolbar.element),W.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=X[this.hash].prevElementWidth,this.element.style.height=X[this.hash].prevElementHeight;var bt=0,yt=function(){W.setPageScroll(tt.pageScroll);var St=W.getPageScroll();bt++,bt<10&&(St.x!==tt.pageScroll.x||St.y!==tt.pageScroll.y)&&W.requestAnimationFrame(yt)};W.requestAnimationFrame(yt),X[this.hash].fullPage=!1,W.delegate(this,ot)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:we}),this},setFullScreen:function(we){var Ie=this;if(!W.supportsFullScreen)return this.setFullPage(we);if(W.isFullScreen()===we)return this;var We={fullScreen:we,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",We),We.preventDefaultAction)return this;if(we){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var rt=function(){var tt=W.isFullScreen();tt||(W.removeEvent(document,W.fullScreenEventName,rt),W.removeEvent(document,W.fullScreenErrorEventName,rt),Ie.setFullPage(!1),Ie.isFullPage()&&(Ie.element.style.width=Ie.fullPageStyleWidth,Ie.element.style.height=Ie.fullPageStyleHeight)),Ie.navigator&&Ie.viewport&&setTimeout(function(){Ie.navigator.update(Ie.viewport)}),Ie.raiseEvent("full-screen",{fullScreen:tt})};W.addEvent(document,W.fullScreenEventName,rt),W.addEvent(document,W.fullScreenErrorEventName,rt),W.requestFullScreen(document.body)}else W.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},isFullScreen:function(){return W.isFullScreen()&&this.isFullPage()},setVisible:function(we){return this.container.style.visibility=we?"":"hidden",this.raiseEvent("visible",{visible:we}),this},addTiledImage:function(we){W.console.assert(we,"[Viewer.addTiledImage] options is required"),W.console.assert(we.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),W.console.assert(!we.replace||we.index>-1&&we.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Ie=this;we.replace&&(we.replaceItem=Ie.world.getItemAt(we.index)),this._hideMessage(),we.placeholderFillStyle===void 0&&(we.placeholderFillStyle=this.placeholderFillStyle),we.opacity===void 0&&(we.opacity=this.opacity),we.preload===void 0&&(we.preload=this.preload),we.compositeOperation===void 0&&(we.compositeOperation=this.compositeOperation),we.crossOriginPolicy===void 0&&(we.crossOriginPolicy=we.tileSource.crossOriginPolicy!==void 0?we.tileSource.crossOriginPolicy:this.crossOriginPolicy),we.ajaxWithCredentials===void 0&&(we.ajaxWithCredentials=this.ajaxWithCredentials),we.loadTilesWithAjax===void 0&&(we.loadTilesWithAjax=this.loadTilesWithAjax),we.ajaxHeaders===void 0||we.ajaxHeaders===null?we.ajaxHeaders=this.ajaxHeaders:W.isPlainObject(we.ajaxHeaders)&&W.isPlainObject(this.ajaxHeaders)&&(we.ajaxHeaders=W.extend({},this.ajaxHeaders,we.ajaxHeaders));var We={options:we};function rt(at){for(var it=0;it<Ie._loadQueue.length;it++)if(Ie._loadQueue[it]===We){Ie._loadQueue.splice(it,1);break}Ie._loadQueue.length===0&&tt(We),Ie.raiseEvent("add-item-failed",at),we.error&&we.error(at)}function tt(at){Ie.collectionMode&&(Ie.world.arrange({immediately:at.options.collectionImmediately,rows:Ie.collectionRows,columns:Ie.collectionColumns,layout:Ie.collectionLayout,tileSize:Ie.collectionTileSize,tileMargin:Ie.collectionTileMargin}),Ie.world.setAutoRefigureSizes(!0))}if(W.isArray(we.tileSource)){setTimeout(function(){rt({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:we.tileSource,options:we})});return}this._loadQueue.push(We);function pt(){for(var at,it,bt;Ie._loadQueue.length&&(at=Ie._loadQueue[0],!!at.tileSource);){if(Ie._loadQueue.splice(0,1),at.options.replace){var yt=Ie.world.getIndexOfItem(at.options.replaceItem);yt!==-1&&(at.options.index=yt),Ie.world.removeItem(at.options.replaceItem)}it=new W.TiledImage({viewer:Ie,source:at.tileSource,viewport:Ie.viewport,drawer:Ie.drawer,tileCache:Ie.tileCache,imageLoader:Ie.imageLoader,x:at.options.x,y:at.options.y,width:at.options.width,height:at.options.height,fitBounds:at.options.fitBounds,fitBoundsPlacement:at.options.fitBoundsPlacement,clip:at.options.clip,placeholderFillStyle:at.options.placeholderFillStyle,opacity:at.options.opacity,preload:at.options.preload,degrees:at.options.degrees,flipped:at.options.flipped,compositeOperation:at.options.compositeOperation,springStiffness:Ie.springStiffness,animationTime:Ie.animationTime,minZoomImageRatio:Ie.minZoomImageRatio,wrapHorizontal:Ie.wrapHorizontal,wrapVertical:Ie.wrapVertical,immediateRender:Ie.immediateRender,blendTime:Ie.blendTime,alwaysBlend:Ie.alwaysBlend,minPixelRatio:Ie.minPixelRatio,smoothTileEdgesMinZoom:Ie.smoothTileEdgesMinZoom,iOSDevice:Ie.iOSDevice,crossOriginPolicy:at.options.crossOriginPolicy,ajaxWithCredentials:at.options.ajaxWithCredentials,loadTilesWithAjax:at.options.loadTilesWithAjax,ajaxHeaders:at.options.ajaxHeaders,debugMode:Ie.debugMode,subPixelRoundingForTransparency:Ie.subPixelRoundingForTransparency}),Ie.collectionMode&&Ie.world.setAutoRefigureSizes(!1),Ie.navigator&&(bt=W.extend({},at.options,{replace:!1,originalTiledImage:it,tileSource:at.tileSource}),Ie.navigator.addTiledImage(bt)),Ie.world.addItem(it,{index:at.options.index}),Ie._loadQueue.length===0&&tt(at),Ie.world.getItemCount()===1&&!Ie.preserveViewport&&Ie.viewport.goHome(!0),at.options.success&&at.options.success({item:it})}}le(this,we.tileSource,we,function(at){We.tileSource=at,pt()},function(at){at.options=we,rt(at),pt()})},addSimpleImage:function(we){W.console.assert(we,"[Viewer.addSimpleImage] options is required"),W.console.assert(we.url,"[Viewer.addSimpleImage] options.url is required");var Ie=W.extend({},we,{tileSource:{type:"image",url:we.url}});delete Ie.url,this.addTiledImage(Ie)},addLayer:function(we){var Ie=this;W.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var We=W.extend({},we,{success:function(rt){Ie.raiseEvent("add-layer",{options:we,drawer:rt.item})},error:function(rt){Ie.raiseEvent("add-layer-failed",rt)}});return this.addTiledImage(We),this},getLayerAtLevel:function(we){return W.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(we)},getLevelOfLayer:function(we){return W.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(we)},getLayersCount:function(){return W.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(we,Ie){return W.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(we,Ie)},removeLayer:function(we){return W.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(we)},forceRedraw:function(){return X[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var we=W.delegate(this,Se),Ie=W.delegate(this,_e),We=W.delegate(this,this.goToNextPage),rt=W.delegate(this,this.goToPreviousPage),tt=this.navImages,pt=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(pt=!1),this.previousButton=new W.Button({element:this.previousButton?W.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.PreviousPage"),srcRest:wt(this.prefixUrl,tt.previous.REST),srcGroup:wt(this.prefixUrl,tt.previous.GROUP),srcHover:wt(this.prefixUrl,tt.previous.HOVER),srcDown:wt(this.prefixUrl,tt.previous.DOWN),onRelease:rt,onFocus:we,onBlur:Ie}),this.nextButton=new W.Button({element:this.nextButton?W.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.NextPage"),srcRest:wt(this.prefixUrl,tt.next.REST),srcGroup:wt(this.prefixUrl,tt.next.GROUP),srcHover:wt(this.prefixUrl,tt.next.HOVER),srcDown:wt(this.prefixUrl,tt.next.DOWN),onRelease:We,onFocus:we,onBlur:Ie}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),pt&&(this.paging=new W.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:W.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||W.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var we=W.delegate(this,Wt),Ie=W.delegate(this,_t),We=W.delegate(this,en),rt=W.delegate(this,qt),tt=W.delegate(this,Nt),pt=W.delegate(this,Ft),at=W.delegate(this,sn),it=W.delegate(this,un),bt=W.delegate(this,je),yt=W.delegate(this,ze),St=W.delegate(this,Se),At=W.delegate(this,_e),Bt=this.navImages,on=[],cn=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(cn=!1),this.showZoomControl&&(on.push(this.zoomInButton=new W.Button({element:this.zoomInButton?W.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.ZoomIn"),srcRest:wt(this.prefixUrl,Bt.zoomIn.REST),srcGroup:wt(this.prefixUrl,Bt.zoomIn.GROUP),srcHover:wt(this.prefixUrl,Bt.zoomIn.HOVER),srcDown:wt(this.prefixUrl,Bt.zoomIn.DOWN),onPress:we,onRelease:Ie,onClick:We,onEnter:we,onExit:Ie,onFocus:St,onBlur:At})),on.push(this.zoomOutButton=new W.Button({element:this.zoomOutButton?W.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.ZoomOut"),srcRest:wt(this.prefixUrl,Bt.zoomOut.REST),srcGroup:wt(this.prefixUrl,Bt.zoomOut.GROUP),srcHover:wt(this.prefixUrl,Bt.zoomOut.HOVER),srcDown:wt(this.prefixUrl,Bt.zoomOut.DOWN),onPress:rt,onRelease:Ie,onClick:tt,onEnter:rt,onExit:Ie,onFocus:St,onBlur:At}))),this.showHomeControl&&on.push(this.homeButton=new W.Button({element:this.homeButton?W.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.Home"),srcRest:wt(this.prefixUrl,Bt.home.REST),srcGroup:wt(this.prefixUrl,Bt.home.GROUP),srcHover:wt(this.prefixUrl,Bt.home.HOVER),srcDown:wt(this.prefixUrl,Bt.home.DOWN),onRelease:pt,onFocus:St,onBlur:At})),this.showFullPageControl&&on.push(this.fullPageButton=new W.Button({element:this.fullPageButton?W.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.FullPage"),srcRest:wt(this.prefixUrl,Bt.fullpage.REST),srcGroup:wt(this.prefixUrl,Bt.fullpage.GROUP),srcHover:wt(this.prefixUrl,Bt.fullpage.HOVER),srcDown:wt(this.prefixUrl,Bt.fullpage.DOWN),onRelease:at,onFocus:St,onBlur:At})),this.showRotationControl&&(on.push(this.rotateLeftButton=new W.Button({element:this.rotateLeftButton?W.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.RotateLeft"),srcRest:wt(this.prefixUrl,Bt.rotateleft.REST),srcGroup:wt(this.prefixUrl,Bt.rotateleft.GROUP),srcHover:wt(this.prefixUrl,Bt.rotateleft.HOVER),srcDown:wt(this.prefixUrl,Bt.rotateleft.DOWN),onRelease:it,onFocus:St,onBlur:At})),on.push(this.rotateRightButton=new W.Button({element:this.rotateRightButton?W.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.RotateRight"),srcRest:wt(this.prefixUrl,Bt.rotateright.REST),srcGroup:wt(this.prefixUrl,Bt.rotateright.GROUP),srcHover:wt(this.prefixUrl,Bt.rotateright.HOVER),srcDown:wt(this.prefixUrl,Bt.rotateright.DOWN),onRelease:bt,onFocus:St,onBlur:At}))),this.showFlipControl&&on.push(this.flipButton=new W.Button({element:this.flipButton?W.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:W.getString("Tooltips.Flip"),srcRest:wt(this.prefixUrl,Bt.flip.REST),srcGroup:wt(this.prefixUrl,Bt.flip.GROUP),srcHover:wt(this.prefixUrl,Bt.flip.HOVER),srcDown:wt(this.prefixUrl,Bt.flip.DOWN),onRelease:yt,onFocus:St,onBlur:At})),cn?(this.buttonGroup=new W.ButtonGroup({buttons:on,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",W.delegate(this,Ut)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||W.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||W.ControlAnchor.TOP_LEFT})):this.customButtons=on),this},currentPage:function(){return this._sequenceIndex},goToPage:function(we){return this.tileSources&&we>=0&&we<this.tileSources.length&&(this._sequenceIndex=we,this._updateSequenceButtons(we),this.open(this.tileSources[we]),this.referenceStrip&&this.referenceStrip.setFocus(we),this.raiseEvent("page",{page:we})),this},addOverlay:function(we,Ie,We,rt){var tt;if(W.isPlainObject(we)?tt=we:tt={element:we,location:Ie,placement:We,onDraw:rt},we=W.getElement(tt.element),ue(this.currentOverlays,we)>=0)return this;var pt=se(this,tt);return this.currentOverlays.push(pt),pt.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:we,location:tt.location,placement:tt.placement}),this},updateOverlay:function(we,Ie,We){var rt;return we=W.getElement(we),rt=ue(this.currentOverlays,we),rt>=0&&(this.currentOverlays[rt].update(Ie,We),X[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:we,location:Ie,placement:We})),this},removeOverlay:function(we){var Ie;return we=W.getElement(we),Ie=ue(this.currentOverlays,we),Ie>=0&&(this.currentOverlays[Ie].destroy(),this.currentOverlays.splice(Ie,1),X[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:we})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return X[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(we){var Ie;return we=W.getElement(we),Ie=ue(this.currentOverlays,we),Ie>=0?this.currentOverlays[Ie]:null},_updateSequenceButtons:function(we){this.nextButton&&(!this.tileSources||this.tileSources.length-1===we?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(we>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(we){this._hideMessage();var Ie=W.makeNeutralElement("div");Ie.appendChild(document.createTextNode(we)),this.messageDiv=W.makeCenteredNode(Ie),W.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var we=this.messageDiv;we&&(we.parentNode.removeChild(we),delete this.messageDiv)},gestureSettingsByDeviceType:function(we){switch(we){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var we,Ie=this.currentOverlays.length;for(we=0;we<Ie;we++)this.currentOverlays[we].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new W.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else W.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),W.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){W.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var we=W.pixelDensityRatio,Ie=W.getCurrentPixelDensityRatio();we!==Ie&&(W.pixelDensityRatio=Ie,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var we=this._sequenceIndex-1;this.navPrevNextWrap&&we<0&&(we+=this.tileSources.length),this.goToPage(we)},goToNextPage:function(){var we=this._sequenceIndex+1;this.navPrevNextWrap&&we>=this.tileSources.length&&(we=0),this.goToPage(we)},isAnimating:function(){return X[this.hash].animating}});function oe(we){return we=W.getElement(we),new W.Point(we.clientWidth===0?1:we.clientWidth,we.clientHeight===0?1:we.clientHeight)}function le(we,Ie,We,rt,tt){var pt=we;if(W.type(Ie)==="string"){if(Ie.match(/^\s*<.*>\s*$/))Ie=W.parseXml(Ie);else if(Ie.match(/^\s*[{[].*[}\]]\s*$/))try{var at=W.parseJSON(Ie);Ie=at}catch{}}function it(bt,yt){bt.ready?rt(bt):(bt.addHandler("ready",function(){rt(bt)}),bt.addHandler("open-failed",function(St){tt({message:St.message,source:yt})}))}setTimeout(function(){if(W.type(Ie)==="string")Ie=new W.TileSource({url:Ie,crossOriginPolicy:We.crossOriginPolicy!==void 0?We.crossOriginPolicy:we.crossOriginPolicy,ajaxWithCredentials:we.ajaxWithCredentials,ajaxHeaders:We.ajaxHeaders?We.ajaxHeaders:we.ajaxHeaders,splitHashDataForPost:we.splitHashDataForPost,useCanvas:we.useCanvas,success:function(At){rt(At.tileSource)}}),Ie.addHandler("open-failed",function(At){tt(At)});else if(W.isPlainObject(Ie)||Ie.nodeType)if(Ie.crossOriginPolicy===void 0&&(We.crossOriginPolicy!==void 0||we.crossOriginPolicy!==void 0)&&(Ie.crossOriginPolicy=We.crossOriginPolicy!==void 0?We.crossOriginPolicy:we.crossOriginPolicy),Ie.ajaxWithCredentials===void 0&&(Ie.ajaxWithCredentials=we.ajaxWithCredentials),Ie.useCanvas===void 0&&(Ie.useCanvas=we.useCanvas),W.isFunction(Ie.getTileUrl)){var bt=new W.TileSource(Ie);bt.getTileUrl=Ie.getTileUrl,rt(bt)}else{var yt=W.TileSource.determineType(pt,Ie);if(!yt){tt({message:"Unable to load TileSource",source:Ie});return}var St=yt.prototype.configure.apply(pt,[Ie]);it(new yt(St),Ie)}else it(Ie,Ie)})}function se(we,Ie){if(Ie instanceof W.Overlay)return Ie;var We=null;if(Ie.element)We=W.getElement(Ie.element);else{var rt=Ie.id?Ie.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);We=W.getElement(Ie.id),We||(We=document.createElement("a"),We.href="#/overlay/"+rt),We.id=rt,W.addClass(We,Ie.className?Ie.className:"openseadragon-overlay")}var tt=Ie.location,pt=Ie.width,at=Ie.height;if(!tt){var it=Ie.x,bt=Ie.y;if(Ie.px!==void 0){var yt=we.viewport.imageToViewportRectangle(new W.Rect(Ie.px,Ie.py,pt||0,at||0));it=yt.x,bt=yt.y,pt=pt!==void 0?yt.width:void 0,at=at!==void 0?yt.height:void 0}tt=new W.Point(it,bt)}var St=Ie.placement;return St&&W.type(St)==="string"&&(St=W.Placement[Ie.placement.toUpperCase()]),new W.Overlay({element:We,location:tt,placement:St,onDraw:Ie.onDraw,checkResize:Ie.checkResize,width:pt,height:at,rotationMode:Ie.rotationMode})}function ue(we,Ie){var We;for(We=we.length-1;We>=0;We--)if(we[We].element===Ie)return We;return-1}function ce(we,Ie){return W.requestAnimationFrame(function(){Ie(we)})}function fe(we){W.requestAnimationFrame(function(){ve(we)})}function me(we){!we.autoHideControls||(we.controlsShouldFade=!0,we.controlsFadeBeginTime=W.now()+we.controlsFadeDelay,window.setTimeout(function(){fe(we)},we.controlsFadeDelay))}function ve(we){var Ie,We,rt,tt;if(we.controlsShouldFade){for(Ie=W.now(),We=Ie-we.controlsFadeBeginTime,rt=1-We/we.controlsFadeLength,rt=Math.min(1,rt),rt=Math.max(0,rt),tt=we.controls.length-1;tt>=0;tt--)we.controls[tt].autoFade&&we.controls[tt].setOpacity(rt);rt>0&&fe(we)}}function be(we){var Ie;for(we.controlsShouldFade=!1,Ie=we.controls.length-1;Ie>=0;Ie--)we.controls[Ie].setOpacity(1)}function Se(){be(this)}function _e(){me(this)}function Ae(we){var Ie={tracker:we.eventSource,position:we.position,originalEvent:we.originalEvent,preventDefault:we.preventDefault};this.raiseEvent("canvas-contextmenu",Ie),we.preventDefault=Ie.preventDefault}function ke(we){var Ie={originalEvent:we.originalEvent,preventDefaultAction:!1,preventVerticalPan:we.preventVerticalPan||!this.panVertical,preventHorizontalPan:we.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Ie),!Ie.preventDefaultAction&&!we.ctrl&&!we.alt&&!we.meta)switch(we.keyCode){case 38:Ie.preventVerticalPan||(we.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 40:Ie.preventVerticalPan||(we.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 37:Ie.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 39:Ie.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),we.preventDefault=!0;break;default:we.preventDefault=!1;break}else we.preventDefault=!1}function Me(we){var Ie={originalEvent:we.originalEvent,preventDefaultAction:!1,preventVerticalPan:we.preventVerticalPan||!this.panVertical,preventHorizontalPan:we.preventHorizontalPan||!this.panHorizontal};if(this.raiseEvent("canvas-key",Ie),!Ie.preventDefaultAction&&!we.ctrl&&!we.alt&&!we.meta)switch(we.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),we.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),we.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),we.preventDefault=!0;break;case 119:case 87:Ie.preventVerticalPan||(we.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(0,-40))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 115:case 83:Ie.preventVerticalPan||(we.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(0,40))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 97:Ie.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(-40,0))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 100:Ie.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new W.Point(40,0))),this.viewport.applyConstraints()),we.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(W.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(W.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),we.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(W.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(W.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),we.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),we.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:we.preventDefault=!1;break}else we.preventDefault=!1}function Le(we){var Ie,We=document.activeElement===this.canvas;We||this.canvas.focus(),this.viewport.flipped&&(we.position.x=this.viewport.getContainerSize().x-we.position.x);var rt={tracker:we.eventSource,position:we.position,quick:we.quick,shift:we.shift,originalEvent:we.originalEvent,originalTarget:we.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",rt),!rt.preventDefaultAction&&this.viewport&&we.quick&&(Ie=this.gestureSettingsByDeviceType(we.pointerType),Ie.clickToZoom&&(this.viewport.zoomBy(we.shift?1/this.zoomPerClick:this.zoomPerClick,Ie.zoomToRefPoint?this.viewport.pointFromPixel(we.position,!0):null),this.viewport.applyConstraints()))}function qe(we){var Ie,We={tracker:we.eventSource,position:we.position,shift:we.shift,originalEvent:we.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",We),!We.preventDefaultAction&&this.viewport&&(Ie=this.gestureSettingsByDeviceType(we.pointerType),Ie.dblClickToZoom&&(this.viewport.zoomBy(we.shift?1/this.zoomPerClick:this.zoomPerClick,Ie.zoomToRefPoint?this.viewport.pointFromPixel(we.position,!0):null),this.viewport.applyConstraints()))}function Je(we){var Ie,We={tracker:we.eventSource,pointerType:we.pointerType,position:we.position,delta:we.delta,speed:we.speed,direction:we.direction,shift:we.shift,originalEvent:we.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",We),Ie=this.gestureSettingsByDeviceType(we.pointerType),Ie.dragToPan&&!We.preventDefaultAction&&this.viewport){if(this.panHorizontal||(we.delta.x=0),this.panVertical||(we.delta.y=0),this.viewport.flipped&&(we.delta.x=-we.delta.x),this.constrainDuringPan){var rt=this.viewport.deltaPointsFromPixels(we.delta.negate());this.viewport.centerSpringX.target.value+=rt.x,this.viewport.centerSpringY.target.value+=rt.y;var tt=this.viewport.getBounds(),pt=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=rt.x,this.viewport.centerSpringY.target.value-=rt.y,tt.x!==pt.x&&(we.delta.x=0),tt.y!==pt.y&&(we.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(we.delta.negate()),Ie.flickEnabled&&!this.constrainDuringPan)}}function Fe(we){var Ie={tracker:we.eventSource,pointerType:we.pointerType,position:we.position,speed:we.speed,direction:we.direction,shift:we.shift,originalEvent:we.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Ie),!Ie.preventDefaultAction&&this.viewport){var We=this.gestureSettingsByDeviceType(we.pointerType);if(We.flickEnabled&&we.speed>=We.flickMinSpeed){var rt=0;this.panHorizontal&&(rt=We.flickMomentum*we.speed*Math.cos(we.direction));var tt=0;this.panVertical&&(tt=We.flickMomentum*we.speed*Math.sin(we.direction));var pt=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),at=this.viewport.pointFromPixel(new W.Point(pt.x-rt,pt.y-tt));this.viewport.panTo(at,!1)}this.viewport.applyConstraints()}}function Ve(we){this.raiseEvent("canvas-enter",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,buttons:we.buttons,pointers:we.pointers,insideElementPressed:we.insideElementPressed,buttonDownAny:we.buttonDownAny,originalEvent:we.originalEvent})}function Ze(we){this.raiseEvent("canvas-exit",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,buttons:we.buttons,pointers:we.pointers,insideElementPressed:we.insideElementPressed,buttonDownAny:we.buttonDownAny,originalEvent:we.originalEvent})}function Xe(we){this.raiseEvent("canvas-press",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,insideElementPressed:we.insideElementPressed,insideElementReleased:we.insideElementReleased,originalEvent:we.originalEvent})}function dt(we){this.raiseEvent("canvas-release",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,insideElementPressed:we.insideElementPressed,insideElementReleased:we.insideElementReleased,originalEvent:we.originalEvent})}function ht(we){this.raiseEvent("canvas-nonprimary-press",{tracker:we.eventSource,position:we.position,pointerType:we.pointerType,button:we.button,buttons:we.buttons,originalEvent:we.originalEvent})}function lt(we){this.raiseEvent("canvas-nonprimary-release",{tracker:we.eventSource,position:we.position,pointerType:we.pointerType,button:we.button,buttons:we.buttons,originalEvent:we.originalEvent})}function xt(we){var Ie,We,rt,tt,pt={tracker:we.eventSource,pointerType:we.pointerType,gesturePoints:we.gesturePoints,lastCenter:we.lastCenter,center:we.center,lastDistance:we.lastDistance,distance:we.distance,shift:we.shift,originalEvent:we.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",pt),this.viewport&&(Ie=this.gestureSettingsByDeviceType(we.pointerType),Ie.pinchToZoom&&(!pt.preventDefaultPanAction||!pt.preventDefaultZoomAction)&&(We=this.viewport.pointFromPixel(we.center,!0),Ie.zoomToRefPoint&&!pt.preventDefaultPanAction&&(rt=this.viewport.pointFromPixel(we.lastCenter,!0),tt=rt.minus(We),this.panHorizontal||(tt.x=0),this.panVertical||(tt.y=0),this.viewport.panBy(tt,!0)),pt.preventDefaultZoomAction||this.viewport.zoomBy(we.distance/we.lastDistance,We,!0),this.viewport.applyConstraints()),Ie.pinchRotate&&!pt.preventDefaultRotateAction)){var at=Math.atan2(we.gesturePoints[0].currentPos.y-we.gesturePoints[1].currentPos.y,we.gesturePoints[0].currentPos.x-we.gesturePoints[1].currentPos.x),it=Math.atan2(we.gesturePoints[0].lastPos.y-we.gesturePoints[1].lastPos.y,we.gesturePoints[0].lastPos.x-we.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(at-it)*(180/Math.PI))}}function It(we){var Ie,We,rt,tt,pt;tt=W.now(),pt=tt-this._lastScrollTime,pt>this.minScrollDeltaTime?(this._lastScrollTime=tt,Ie={tracker:we.eventSource,position:we.position,scroll:we.scroll,shift:we.shift,originalEvent:we.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Ie),!Ie.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(we.position.x=this.viewport.getContainerSize().x-we.position.x),We=this.gestureSettingsByDeviceType(we.pointerType),We.scrollToZoom&&(rt=Math.pow(this.zoomPerScroll,we.scroll),this.viewport.zoomBy(rt,We.zoomToRefPoint?this.viewport.pointFromPixel(we.position,!0):null),this.viewport.applyConstraints())),we.preventDefault=Ie.preventDefault):we.preventDefault=!0}function mt(we){X[this.hash].mouseInside=!0,be(this),this.raiseEvent("container-enter",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,buttons:we.buttons,pointers:we.pointers,insideElementPressed:we.insideElementPressed,buttonDownAny:we.buttonDownAny,originalEvent:we.originalEvent})}function ot(we){we.pointers<1&&(X[this.hash].mouseInside=!1,X[this.hash].animating||me(this)),this.raiseEvent("container-exit",{tracker:we.eventSource,pointerType:we.pointerType,position:we.position,buttons:we.buttons,pointers:we.pointers,insideElementPressed:we.insideElementPressed,buttonDownAny:we.buttonDownAny,originalEvent:we.originalEvent})}function st(we){vt(we),we.isOpen()?we._updateRequestId=ce(we,st):we._updateRequestId=!1}function vt(we){if(!(we._opening||!X[we.hash])){if(we.autoResize){var Ie=oe(we.container),We=X[we.hash].prevContainerSize;if(!Ie.equals(We)){var rt=we.viewport;if(we.preserveImageSizeOnResize){var tt=We.x/Ie.x,pt=rt.getZoom()*tt,at=rt.getCenter();rt.resize(Ie,!1),rt.zoomTo(pt,null,!0),rt.panTo(at,!0)}else{var it=rt.getBounds();rt.resize(Ie,!0),rt.fitBoundsWithConstraints(it,!0)}X[we.hash].prevContainerSize=Ie,X[we.hash].forceRedraw=!0}}var bt=we.viewport.update(),yt=we.world.update()||bt;bt&&we.raiseEvent("viewport-change"),we.referenceStrip&&(yt=we.referenceStrip.update(we.viewport)||yt);var St=X[we.hash].animating;!St&&yt&&(we.raiseEvent("animation-start"),be(we));var At=St&&!yt;At&&(X[we.hash].animating=!1),(yt||At||X[we.hash].forceRedraw||we.world.needsDraw())&&(Ot(we),we._drawOverlays(),we.navigator&&we.navigator.update(we.viewport),X[we.hash].forceRedraw=!1,yt&&we.raiseEvent("animation")),At&&(we.raiseEvent("animation-finish"),X[we.hash].mouseInside||me(we)),X[we.hash].animating=yt}}function Ot(we){we.imageLoader.clear(),we.drawer.clear(),we.world.draw(),we.raiseEvent("update-viewport",{})}function wt(we,Ie){return we?we+Ie:Ie}function Wt(){X[this.hash].lastZoomTime=W.now(),X[this.hash].zoomFactor=this.zoomPerSecond,X[this.hash].zooming=!0,zt(this)}function qt(){X[this.hash].lastZoomTime=W.now(),X[this.hash].zoomFactor=1/this.zoomPerSecond,X[this.hash].zooming=!0,zt(this)}function _t(){X[this.hash].zooming=!1}function zt(we){W.requestAnimationFrame(W.delegate(we,nn))}function nn(){var we,Ie,We;X[this.hash].zooming&&this.viewport&&(we=W.now(),Ie=we-X[this.hash].lastZoomTime,We=Math.pow(X[this.hash].zoomFactor,Ie/1e3),this.viewport.zoomBy(We),this.viewport.applyConstraints(),X[this.hash].lastZoomTime=we,zt(this))}function en(){this.viewport&&(X[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Nt(){this.viewport&&(X[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Ut(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ft(){this.viewport&&this.viewport.goHome()}function sn(){this.isFullPage()&&!W.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function un(){if(this.viewport){var we=this.viewport.getRotation();this.viewport.flipped?we=W.positiveModulo(we+this.rotationIncrement,360):we=W.positiveModulo(we-this.rotationIncrement,360),this.viewport.setRotation(we)}}function je(){if(this.viewport){var we=this.viewport.getRotation();this.viewport.flipped?we=W.positiveModulo(we-this.rotationIncrement,360):we=W.positiveModulo(we+this.rotationIncrement,360),this.viewport.setRotation(we)}}function ze(){this.viewport.toggleFlip()}}(U),function(W){W.Navigator=function(ce){var fe=ce.viewer,me=this,ve,be;ce.id?(this.element=document.getElementById(ce.id),ce.controlOptions={anchor:W.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(ce.id="navigator-"+W.now(),this.element=W.makeNeutralElement("div"),ce.controlOptions={anchor:W.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:ce.autoFade},ce.position&&(ce.position==="BOTTOM_RIGHT"?ce.controlOptions.anchor=W.ControlAnchor.BOTTOM_RIGHT:ce.position==="BOTTOM_LEFT"?ce.controlOptions.anchor=W.ControlAnchor.BOTTOM_LEFT:ce.position==="TOP_RIGHT"?ce.controlOptions.anchor=W.ControlAnchor.TOP_RIGHT:ce.position==="TOP_LEFT"?ce.controlOptions.anchor=W.ControlAnchor.TOP_LEFT:ce.position==="ABSOLUTE"&&(ce.controlOptions.anchor=W.ControlAnchor.ABSOLUTE,ce.controlOptions.top=ce.top,ce.controlOptions.left=ce.left,ce.controlOptions.height=ce.height,ce.controlOptions.width=ce.width))),this.element.id=ce.id,this.element.className+=" navigator",ce=W.extend(!0,{sizeRatio:W.DEFAULT_SETTINGS.navigatorSizeRatio},ce,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:ce.autoResize,minZoomImageRatio:1,background:ce.background,opacity:ce.opacity,borderColor:ce.borderColor,displayRegionColor:ce.displayRegionColor}),ce.minPixelRatio=this.minPixelRatio=fe.minPixelRatio,W.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new W.Point(1,1),this.totalBorderWidths=new W.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),ce.controlOptions.anchor!==W.ControlAnchor.NONE&&function(Ae,ke){Ae.margin="0px",Ae.border=ke+"px solid "+ce.borderColor,Ae.padding="0px",Ae.background=ce.background,Ae.opacity=ce.opacity,Ae.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=W.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(Ae,ke){Ae.position="relative",Ae.top="0px",Ae.left="0px",Ae.fontSize="0px",Ae.overflow="hidden",Ae.border=ke+"px solid "+ce.displayRegionColor,Ae.margin="0px",Ae.padding="0px",Ae.background="transparent",Ae.float="left",Ae.cssFloat="left",Ae.styleFloat="left",Ae.zIndex=999999999,Ae.cursor="default"}(this.displayRegion.style,this.borderWidth),W.setElementPointerEventsNone(this.displayRegion),W.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=W.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",W.setElementPointerEventsNone(this.displayRegionContainer),W.setElementTouchActionNone(this.displayRegionContainer),fe.addControl(this.element,ce.controlOptions),this._resizeWithViewer=ce.controlOptions.anchor!==W.ControlAnchor.ABSOLUTE&&ce.controlOptions.anchor!==W.ControlAnchor.NONE,ce.width&&ce.height?(this.setWidth(ce.width),this.setHeight(ce.height)):this._resizeWithViewer&&(ve=W.getElementSize(fe.element),this.element.style.height=Math.round(ve.y*ce.sizeRatio)+"px",this.element.style.width=Math.round(ve.x*ce.sizeRatio)+"px",this.oldViewerSize=ve,be=W.getElementSize(this.element),this.elementArea=be.x*be.y),this.oldContainerSize=new W.Point(0,0),W.Viewer.apply(this,[ce]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function Se(Ae){se(me.displayRegionContainer,Ae),se(me.displayRegion,-Ae),me.viewport.setRotation(Ae)}if(ce.navigatorRotate){var _e=ce.viewer.viewport?ce.viewer.viewport.getRotation():ce.viewer.degrees||0;Se(_e),ce.viewer.addHandler("rotate",function(Ae){Se(Ae.degrees)})}this.innerTracker.destroy(),this.innerTracker=new W.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:W.delegate(this,ne),clickHandler:W.delegate(this,X),releaseHandler:W.delegate(this,oe),scrollHandler:W.delegate(this,le),preProcessEventHandler:function(Ae){Ae.eventType==="wheel"&&(Ae.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",W.setElementPointerEventsNone(this.canvas),W.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){me.viewport&&me.viewport.goHome(!0)}),fe.world.addHandler("item-index-change",function(Ae){window.setTimeout(function(){var ke=me.world.getItemAt(Ae.previousIndex);me.world.setItemIndex(ke,Ae.newIndex)},1)}),fe.world.addHandler("remove-item",function(Ae){var ke=Ae.item,Me=me._getMatchingItem(ke);Me&&me.world.removeItem(Me)}),this.update(fe.viewport)},W.extend(W.Navigator.prototype,W.EventSource.prototype,W.Viewer.prototype,{updateSize:function(){if(this.viewport){var ce=new W.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);ce.equals(this.oldContainerSize)||(this.viewport.resize(ce,!0),this.viewport.goHome(!0),this.oldContainerSize=ce,this.drawer.clear(),this.world.draw())}},setWidth:function(ce){this.width=ce,this.element.style.width=typeof ce=="number"?ce+"px":ce,this._resizeWithViewer=!1},setHeight:function(ce){this.height=ce,this.element.style.height=typeof ce=="number"?ce+"px":ce,this._resizeWithViewer=!1},setFlip:function(ce){return this.viewport.setFlip(ce),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(ce){ue(this.displayRegion,ce),ue(this.canvas,ce),ue(this.element,ce)},update:function(ce){var fe,me,ve,be,Se,_e;if(fe=W.getElementSize(this.viewer.element),this._resizeWithViewer&&fe.x&&fe.y&&!fe.equals(this.oldViewerSize)&&(this.oldViewerSize=fe,this.maintainSizeRatio||!this.elementArea?(me=fe.x*this.sizeRatio,ve=fe.y*this.sizeRatio):(me=Math.sqrt(this.elementArea*(fe.x/fe.y)),ve=this.elementArea/me),this.element.style.width=Math.round(me)+"px",this.element.style.height=Math.round(ve)+"px",this.elementArea||(this.elementArea=me*ve),this.updateSize()),ce&&this.viewport){be=ce.getBoundsNoRotate(!0),Se=this.viewport.pixelFromPointNoRotate(be.getTopLeft(),!1),_e=this.viewport.pixelFromPointNoRotate(be.getBottomRight(),!1).minus(this.totalBorderWidths);var Ae=this.displayRegion.style;Ae.display=this.world.getItemCount()?"block":"none",Ae.top=Math.round(Se.y)+"px",Ae.left=Math.round(Se.x)+"px";var ke=Math.abs(Se.x-_e.x),Me=Math.abs(Se.y-_e.y);Ae.width=Math.round(Math.max(ke,0))+"px",Ae.height=Math.round(Math.max(Me,0))+"px"}},addTiledImage:function(ce){var fe=this,me=ce.originalTiledImage;delete ce.original;var ve=W.extend({},ce,{success:function(be){var Se=be.item;Se._originalForNavigator=me,fe._matchBounds(Se,me,!0),fe._matchOpacity(Se,me),fe._matchCompositeOperation(Se,me);function _e(){fe._matchBounds(Se,me)}function Ae(){fe._matchOpacity(Se,me)}function ke(){fe._matchCompositeOperation(Se,me)}me.addHandler("bounds-change",_e),me.addHandler("clip-change",_e),me.addHandler("opacity-change",Ae),me.addHandler("composite-operation-change",ke)}});return W.Viewer.prototype.addTiledImage.apply(this,[ve])},destroy:function(){return W.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(ce){for(var fe=this.world.getItemCount(),me,ve=0;ve<fe;ve++)if(me=this.world.getItemAt(ve),me._originalForNavigator===ce)return me;return null},_matchBounds:function(ce,fe,me){var ve=fe.getBoundsNoRotate();ce.setPosition(ve.getTopLeft(),me),ce.setWidth(ve.width,me),ce.setRotation(fe.getRotation(),me),ce.setClip(fe.getClip()),ce.setFlip(fe.getFlip())},_matchOpacity:function(ce,fe){ce.setOpacity(fe.opacity)},_matchCompositeOperation:function(ce,fe){ce.setCompositeOperation(fe.compositeOperation)}});function X(ce){var fe={tracker:ce.eventSource,position:ce.position,quick:ce.quick,shift:ce.shift,originalEvent:ce.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",fe),!fe.preventDefaultAction&&ce.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(ce.position.x=this.viewport.getContainerSize().x-ce.position.x);var me=this.viewport.pointFromPixel(ce.position);this.panVertical?this.panHorizontal||(me.x=this.viewer.viewport.getCenter(!0).x):me.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(me),this.viewer.viewport.applyConstraints()}}function ne(ce){var fe={tracker:ce.eventSource,position:ce.position,delta:ce.delta,speed:ce.speed,direction:ce.direction,shift:ce.shift,originalEvent:ce.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",fe),!fe.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(ce.delta.x=0),this.panVertical||(ce.delta.y=0),this.viewer.viewport.flipped&&(ce.delta.x=-ce.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(ce.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function oe(ce){ce.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function le(ce){var fe={tracker:ce.eventSource,position:ce.position,scroll:ce.scroll,shift:ce.shift,originalEvent:ce.originalEvent,preventDefault:ce.preventDefault};this.viewer.raiseEvent("navigator-scroll",fe),ce.preventDefault=fe.preventDefault}function se(ce,fe){ue(ce,"rotate("+fe+"deg)")}function ue(ce,fe){ce.style.webkitTransform=fe,ce.style.mozTransform=fe,ce.style.msTransform=fe,ce.style.oTransform=fe,ce.style.transform=fe}}(U),function(W){var X={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};W.extend(W,{getString:function(ne){var oe=ne.split("."),le=null,se=arguments,ue=X,ce;for(ce=0;ce<oe.length-1;ce++)ue=ue[oe[ce]]||{};return le=ue[oe[ce]],typeof le!="string"&&(W.console.error("Untranslated source string:",ne),le=""),le.replace(/\{\d+\}/g,function(fe){var me=parseInt(fe.match(/\d+/),10)+1;return me<se.length?se[me]:""})},setString:function(ne,oe){var le=ne.split("."),se=X,ue;for(ue=0;ue<le.length-1;ue++)se[le[ue]]||(se[le[ue]]={}),se=se[le[ue]];se[le[ue]]=oe}})}(U),function(W){W.Point=function(X,ne){this.x=typeof X=="number"?X:0,this.y=typeof ne=="number"?ne:0},W.Point.prototype={clone:function(){return new W.Point(this.x,this.y)},plus:function(X){return new W.Point(this.x+X.x,this.y+X.y)},minus:function(X){return new W.Point(this.x-X.x,this.y-X.y)},times:function(X){return new W.Point(this.x*X,this.y*X)},divide:function(X){return new W.Point(this.x/X,this.y/X)},negate:function(){return new W.Point(-this.x,-this.y)},distanceTo:function(X){return Math.sqrt(Math.pow(this.x-X.x,2)+Math.pow(this.y-X.y,2))},squaredDistanceTo:function(X){return Math.pow(this.x-X.x,2)+Math.pow(this.y-X.y,2)},apply:function(X){return new W.Point(X(this.x),X(this.y))},equals:function(X){return X instanceof W.Point&&this.x===X.x&&this.y===X.y},rotate:function(X,ne){ne=ne||new W.Point(0,0);var oe,le;if(X%90===0){var se=W.positiveModulo(X,360);switch(se){case 0:oe=1,le=0;break;case 90:oe=0,le=1;break;case 180:oe=-1,le=0;break;case 270:oe=0,le=-1;break}}else{var ue=X*Math.PI/180;oe=Math.cos(ue),le=Math.sin(ue)}var ce=oe*(this.x-ne.x)-le*(this.y-ne.y)+ne.x,fe=le*(this.x-ne.x)+oe*(this.y-ne.y)+ne.y;return new W.Point(ce,fe)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(U),function(W){W.TileSource=function(ne,oe,le,se,ue,ce){var fe=this,me=arguments,ve,be;if(W.isPlainObject(ne)?ve=ne:ve={width:me[0],height:me[1],tileSize:me[2],tileOverlap:me[3],minLevel:me[4],maxLevel:me[5]},W.EventSource.call(this),W.extend(!0,this,ve),!this.success){for(be=0;be<arguments.length;be++)if(W.isFunction(arguments[be])){this.success=arguments[be];break}}this.success&&this.addHandler("ready",function(Se){fe.success(Se)}),W.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new W.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=ve.width&&ve.height?ve.width/ve.height:1,this.dimensions=new W.Point(ve.width,ve.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=ve.tileOverlap?ve.tileOverlap:0,this.minLevel=ve.minLevel?ve.minLevel:0,this.maxLevel=ve.maxLevel!==void 0&&ve.maxLevel!==null?ve.maxLevel:ve.width&&ve.height?Math.ceil(Math.log(Math.max(ve.width,ve.height))/Math.log(2)):0,this.success&&W.isFunction(this.success)&&this.success(this))},W.TileSource.prototype={getTileSize:function(ne){return W.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(ne){return this._tileWidth?this._tileWidth:this.getTileSize(ne)},getTileHeight:function(ne){return this._tileHeight?this._tileHeight:this.getTileSize(ne)},setMaxLevel:function(ne){this.maxLevel=ne,this._memoizeLevelScale()},getLevelScale:function(ne){return this._memoizeLevelScale(),this.getLevelScale(ne)},_memoizeLevelScale:function(){var ne={},oe;for(oe=0;oe<=this.maxLevel;oe++)ne[oe]=1/Math.pow(2,this.maxLevel-oe);this.getLevelScale=function(le){return ne[le]}},getNumTiles:function(ne){var oe=this.getLevelScale(ne),le=Math.ceil(oe*this.dimensions.x/this.getTileWidth(ne)),se=Math.ceil(oe*this.dimensions.y/this.getTileHeight(ne));return new W.Point(le,se)},getPixelRatio:function(ne){var oe=this.dimensions.times(this.getLevelScale(ne)),le=1/oe.x*W.pixelDensityRatio,se=1/oe.y*W.pixelDensityRatio;return new W.Point(le,se)},getClosestLevel:function(){var ne,oe;for(ne=this.minLevel+1;ne<=this.maxLevel&&(oe=this.getNumTiles(ne),!(oe.x>1||oe.y>1));ne++);return ne-1},getTileAtPoint:function(ne,oe){var le=oe.x>=0&&oe.x<=1&&oe.y>=0&&oe.y<=1/this.aspectRatio;W.console.assert(le,"[TileSource.getTileAtPoint] must be called with a valid point.");var se=this.dimensions.x*this.getLevelScale(ne),ue=oe.x*se,ce=oe.y*se,fe=Math.floor(ue/this.getTileWidth(ne)),me=Math.floor(ce/this.getTileHeight(ne));oe.x>=1&&(fe=this.getNumTiles(ne).x-1);var ve=1e-15;return oe.y>=1/this.aspectRatio-ve&&(me=this.getNumTiles(ne).y-1),new W.Point(fe,me)},getTileBounds:function(ne,oe,le,se){var ue=this.dimensions.times(this.getLevelScale(ne)),ce=this.getTileWidth(ne),fe=this.getTileHeight(ne),me=oe===0?0:ce*oe-this.tileOverlap,ve=le===0?0:fe*le-this.tileOverlap,be=ce+(oe===0?1:2)*this.tileOverlap,Se=fe+(le===0?1:2)*this.tileOverlap,_e=1/ue.x;return be=Math.min(be,ue.x-me),Se=Math.min(Se,ue.y-ve),se?new W.Rect(0,0,be,Se):new W.Rect(me*_e,ve*_e,be*_e,Se*_e)},getImageInfo:function(ne){var oe=this,le,se,ue,ce,fe,me,ve;ne&&(fe=ne.split("/"),me=fe[fe.length-1],ve=me.lastIndexOf("."),ve>-1&&(fe[fe.length-1]=me.slice(0,ve)));var be=null;if(this.splitHashDataForPost){var Se=ne.indexOf("#");Se!==-1&&(be=ne.substring(Se+1),ne=ne.substr(0,Se))}se=function(_e){typeof _e=="string"&&(_e=W.parseXml(_e));var Ae=W.TileSource.determineType(oe,_e,ne);if(!Ae){oe.raiseEvent("open-failed",{message:"Unable to load TileSource",source:ne});return}ce=Ae.prototype.configure.apply(oe,[_e,ne,be]),ce.ajaxWithCredentials===void 0&&(ce.ajaxWithCredentials=oe.ajaxWithCredentials),ue=new Ae(ce),oe.ready=!0,oe.raiseEvent("ready",{tileSource:ue})},ne.match(/\.js$/)?(le=ne.split("/").pop().replace(".js",""),W.jsonp({url:ne,async:!1,callbackName:le,callback:se})):W.makeAjaxRequest({url:ne,postData:be,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(_e){var Ae=X(_e);se(Ae)},error:function(_e,Ae){var ke;try{ke="HTTP "+_e.status+" attempting to load TileSource: "+ne}catch{var Me;typeof Ae>"u"||!Ae.toString?Me="Unknown error":Me=Ae.toString(),ke=Me+" attempting to load TileSource: "+ne}W.console.error(ke),oe.raiseEvent("open-failed",{message:ke,source:ne,postData:be})}})},supports:function(ne,oe){return!1},configure:function(ne,oe,le){throw new Error("Method not implemented.")},getTileUrl:function(ne,oe,le){throw new Error("Method not implemented.")},getTilePostData:function(ne,oe,le){return null},getTileAjaxHeaders:function(ne,oe,le){return{}},getTileHashKey:function(ne,oe,le,se,ue,ce){return ue?se+"+"+JSON.stringify(ue):se},tileExists:function(ne,oe,le){var se=this.getNumTiles(ne);return ne>=this.minLevel&&ne<=this.maxLevel&&oe>=0&&le>=0&&oe<se.x&&le<se.y}},W.extend(!0,W.TileSource.prototype,W.EventSource.prototype);function X(ne){var oe=ne.responseText,le=ne.status,se,ue;if(ne){if(ne.status!==200&&ne.status!==0)throw le=ne.status,se=le===404?"Not Found":ne.statusText,new Error(W.getString("Errors.Status",le,se))}else throw new Error(W.getString("Errors.Security"));if(oe.match(/\s*<.*/))try{ue=ne.responseXML&&ne.responseXML.documentElement?ne.responseXML:W.parseXml(oe)}catch{ue=ne.responseText}else if(oe.match(/\s*[{[].*/))try{ue=W.parseJSON(oe)}catch{ue=oe}else ue=oe;return ue}W.TileSource.determineType=function(ne,oe,le){var se;for(se in U)if(se.match(/.+TileSource$/)&&W.isFunction(U[se])&&W.isFunction(U[se].prototype.supports)&&U[se].prototype.supports.call(ne,oe,le))return U[se];return W.console.error("No TileSource was able to open %s %s",le,oe),null}}(U),function(W){W.DziTileSource=function(oe,le,se,ue,ce,fe,me,ve,be){var Se,_e,Ae,ke;if(W.isPlainObject(oe)?ke=oe:ke={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=ke.tilesUrl,this.fileFormat=ke.fileFormat,this.displayRects=ke.displayRects,this.displayRects)for(Se=this.displayRects.length-1;Se>=0;Se--)for(_e=this.displayRects[Se],Ae=_e.minLevel;Ae<=_e.maxLevel;Ae++)this._levelRects[Ae]||(this._levelRects[Ae]=[]),this._levelRects[Ae].push(_e);W.TileSource.apply(this,[ke])},W.extend(W.DziTileSource.prototype,W.TileSource.prototype,{supports:function(oe,le){var se;return oe.Image?se=oe.Image.xmlns:oe.documentElement&&(oe.documentElement.localName==="Image"||oe.documentElement.tagName==="Image")&&(se=oe.documentElement.namespaceURI),se=(se||"").toLowerCase(),se.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||se.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(oe,le,se){var ue;return W.isPlainObject(oe)?ue=ne(this,oe):ue=X(this,oe),le&&!ue.tilesUrl&&(ue.tilesUrl=le.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),le.search(/\.(dzi|xml|js)\?/)!==-1?ue.queryParams=le.match(/\?.*/):ue.queryParams=""),ue},getTileUrl:function(oe,le,se){return[this.tilesUrl,oe,"/",le,"_",se,".",this.fileFormat,this.queryParams].join("")},tileExists:function(oe,le,se){var ue=this._levelRects[oe],ce,fe,me,ve,be,Se,_e;if(this.minLevel&&oe<this.minLevel||this.maxLevel&&oe>this.maxLevel)return!1;if(!ue||!ue.length)return!0;for(_e=ue.length-1;_e>=0;_e--)if(ce=ue[_e],!(oe<ce.minLevel||oe>ce.maxLevel)&&(fe=this.getLevelScale(oe),me=ce.x*fe,ve=ce.y*fe,be=me+ce.width*fe,Se=ve+ce.height*fe,me=Math.floor(me/this._tileWidth),ve=Math.floor(ve/this._tileWidth),be=Math.ceil(be/this._tileWidth),Se=Math.ceil(Se/this._tileWidth),me<=le&&le<be&&ve<=se&&se<Se))return!0;return!1}});function X(oe,le){if(!le||!le.documentElement)throw new Error(W.getString("Errors.Xml"));var se=le.documentElement,ue=se.localName||se.tagName,ce=le.documentElement.namespaceURI,fe=null,me=[],ve,be,Se,_e,Ae;if(ue==="Image")try{if(_e=se.getElementsByTagName("Size")[0],_e===void 0&&(_e=se.getElementsByTagNameNS(ce,"Size")[0]),fe={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:se.getAttribute("Url"),Format:se.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(se.getAttribute("Overlap"),10),TileSize:parseInt(se.getAttribute("TileSize"),10),Size:{Height:parseInt(_e.getAttribute("Height"),10),Width:parseInt(_e.getAttribute("Width"),10)}}},!W.imageFormatSupported(fe.Image.Format))throw new Error(W.getString("Errors.ImageFormat",fe.Image.Format.toUpperCase()));for(ve=se.getElementsByTagName("DisplayRect"),ve===void 0&&(ve=se.getElementsByTagNameNS(ce,"DisplayRect")[0]),Ae=0;Ae<ve.length;Ae++)be=ve[Ae],Se=be.getElementsByTagName("Rect")[0],Se===void 0&&(Se=be.getElementsByTagNameNS(ce,"Rect")[0]),me.push({Rect:{X:parseInt(Se.getAttribute("X"),10),Y:parseInt(Se.getAttribute("Y"),10),Width:parseInt(Se.getAttribute("Width"),10),Height:parseInt(Se.getAttribute("Height"),10),MinLevel:parseInt(be.getAttribute("MinLevel"),10),MaxLevel:parseInt(be.getAttribute("MaxLevel"),10)}});return me.length&&(fe.Image.DisplayRect=me),ne(oe,fe)}catch(Le){throw Le instanceof Error?Le:new Error(W.getString("Errors.Dzi"))}else{if(ue==="Collection")throw new Error(W.getString("Errors.Dzc"));if(ue==="Error"){var ke=se.getElementsByTagName("Message")[0],Me=ke.firstChild.nodeValue;throw new Error(Me)}}throw new Error(W.getString("Errors.Dzi"))}function ne(oe,le){var se=le.Image,ue=se.Url,ce=se.Format,fe=se.Size,me=se.DisplayRect||[],ve=parseInt(fe.Width,10),be=parseInt(fe.Height,10),Se=parseInt(se.TileSize,10),_e=parseInt(se.Overlap,10),Ae=[],ke,Me;for(Me=0;Me<me.length;Me++)ke=me[Me].Rect,Ae.push(new W.DisplayRect(parseInt(ke.X,10),parseInt(ke.Y,10),parseInt(ke.Width,10),parseInt(ke.Height,10),parseInt(ke.MinLevel,10),parseInt(ke.MaxLevel,10)));return W.extend(!0,{width:ve,height:be,tileSize:Se,tileOverlap:_e,minLevel:null,maxLevel:null,tilesUrl:ue,fileFormat:ce,displayRects:Ae},le)}}(U),function(W){W.IIIFTileSource=function(se){if(W.extend(!0,this,se),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(se.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=se.version,this.tile_width&&this.tile_height)se.tileWidth=this.tile_width,se.tileHeight=this.tile_height;else if(this.tile_width)se.tileSize=this.tile_width;else if(this.tile_height)se.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)se.tileWidth=this.tiles[0].width,se.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var ue=0;ue<this.tiles.length;ue++)for(var ce=0;ce<this.tiles[ue].scaleFactors.length;ce++){var fe=this.tiles[ue].scaleFactors[ce];this.scale_factors.push(fe),se.tileSizePerScaleFactor[fe]={width:this.tiles[ue].width,height:this.tiles[ue].height||this.tiles[ue].width}}}else if(X(se)){for(var me=Math.min(this.height,this.width),ve=[256,512,1024],be=[],Se=0;Se<ve.length;Se++)ve[Se]<=me&&be.push(ve[Se]);be.length>0?se.tileSize=Math.max.apply(null,be):se.tileSize=me}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,se.levels=ne(this),W.extend(!0,se,{width:se.levels[se.levels.length-1].width,height:se.levels[se.levels.length-1].height,tileSize:Math.max(se.height,se.width),tileOverlap:0,minLevel:0,maxLevel:se.levels.length-1}),this.levels=se.levels):W.console.error("Nothing in the info.json to construct image pyramids from");if(!se.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)se.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var _e=Math.max.apply(null,this.scale_factors);se.maxLevel=Math.round(Math.log(_e)*Math.LOG2E)}W.TileSource.apply(this,[se])},W.extend(W.IIIFTileSource.prototype,W.TileSource.prototype,{supports:function(se,ue){return se.protocol&&se.protocol==="http://iiif.io/api/image"||se["@context"]&&(se["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||se["@context"]==="http://iiif.io/api/image/1/context.json")||se.profile&&se.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||se.identifier&&se.width&&se.height?!0:!!(se.documentElement&&se.documentElement.tagName==="info"&&se.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(se,ue,ce){if(W.isPlainObject(se)){if(!se["@context"])se["@context"]="http://iiif.io/api/image/1.0/context.json",se["@id"]=ue.replace("/info.json",""),se.version=1;else{var me=se["@context"];if(Array.isArray(me)){for(var ve=0;ve<me.length;ve++)if(typeof me[ve]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(me[ve])||me[ve]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){me=me[ve];break}}switch(me){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":se.version=1;break;case"http://iiif.io/api/image/2/context.json":se.version=2;break;case"http://iiif.io/api/image/3/context.json":se.version=3;break;default:W.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!se["@id"]&&se.id&&(se["@id"]=se.id),se.preferredFormats){for(var be=0;be<se.preferredFormats.length;be++)if(U.imageFormatSupported(se.preferredFormats[be])){se.tileFormat=se.preferredFormats[be];break}}return se}else{var fe=oe(se);return fe["@context"]="http://iiif.io/api/image/1.0/context.json",fe["@id"]=ue.replace("/info.xml",""),fe.version=1,fe}},getTileWidth:function(se){if(this.emulateLegacyImagePyramid)return W.TileSource.prototype.getTileWidth.call(this,se);var ue=Math.pow(2,this.maxLevel-se);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[ue]?this.tileSizePerScaleFactor[ue].width:this._tileWidth},getTileHeight:function(se){if(this.emulateLegacyImagePyramid)return W.TileSource.prototype.getTileHeight.call(this,se);var ue=Math.pow(2,this.maxLevel-se);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[ue]?this.tileSizePerScaleFactor[ue].height:this._tileHeight},getLevelScale:function(se){if(this.emulateLegacyImagePyramid){var ue=NaN;return this.levels.length>0&&se>=this.minLevel&&se<=this.maxLevel&&(ue=this.levels[se].width/this.levels[this.maxLevel].width),ue}return W.TileSource.prototype.getLevelScale.call(this,se)},getNumTiles:function(se){if(this.emulateLegacyImagePyramid){var ue=this.getLevelScale(se);return ue?new W.Point(1,1):new W.Point(0,0)}return W.TileSource.prototype.getNumTiles.call(this,se)},getTileAtPoint:function(se,ue){return this.emulateLegacyImagePyramid?new W.Point(0,0):W.TileSource.prototype.getTileAtPoint.call(this,se,ue)},getTileUrl:function(se,ue,ce){if(this.emulateLegacyImagePyramid){var fe=null;return this.levels.length>0&&se>=this.minLevel&&se<=this.maxLevel&&(fe=this.levels[se].url),fe}var me="0",ve=Math.pow(.5,this.maxLevel-se),be=Math.ceil(this.width*ve),Se=Math.ceil(this.height*ve),_e,Ae,ke,Me,Le,qe,Je,Fe,Ve,Ze,Xe,dt,ht,lt;return _e=this.getTileWidth(se),Ae=this.getTileHeight(se),ke=Math.ceil(_e/ve),Me=Math.ceil(Ae/ve),this.version===1?ht="native."+this.tileFormat:ht="default."+this.tileFormat,be<_e&&Se<Ae?(this.version===2&&be===this.width?Ze="full":this.version===3&&be===this.width&&Se===this.height?Ze="max":this.version===3?Ze=be+","+Se:Ze=be+",",Le="full"):(qe=ue*ke,Je=ce*Me,Fe=Math.min(ke,this.width-qe),Ve=Math.min(Me,this.height-Je),ue===0&&ce===0&&Fe===this.width&&Ve===this.height?Le="full":Le=[qe,Je,Fe,Ve].join(","),Xe=Math.ceil(Fe*ve),dt=Math.ceil(Ve*ve),this.version===2&&Xe===this.width?Ze="full":this.version===3&&Xe===this.width&&dt===this.height?Ze="max":this.version===3?Ze=Xe+","+dt:Ze=Xe+","),lt=[this["@id"],Le,Ze,me,ht].join("/"),lt},__testonly__:{canBeTiled:X,constructLevels:ne}});function X(se){var ue=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],ce=Array.isArray(se.profile)?se.profile[0]:se.profile,fe=ue.indexOf(ce)!==-1,me=!1;return se.version===2&&se.profile.length>1&&se.profile[1].supports&&(me=se.profile[1].supports.indexOf("sizeByW")!==-1),se.version===3&&se.extraFeatures&&(me=se.extraFeatures.indexOf("sizeByWh")!==-1),!fe||me}function ne(se){for(var ue=[],ce=0;ce<se.sizes.length;ce++)ue.push({url:se["@id"]+"/full/"+se.sizes[ce].width+","+(se.version===3?se.sizes[ce].height:"")+"/0/default."+se.tileFormat,width:se.sizes[ce].width,height:se.sizes[ce].height});return ue.sort(function(fe,me){return fe.width-me.width})}function oe(se){if(!se||!se.documentElement)throw new Error(W.getString("Errors.Xml"));var ue=se.documentElement,ce=ue.tagName,fe=null;if(ce==="info")try{return fe={},le(ue,fe),fe}catch(me){throw me instanceof Error?me:new Error(W.getString("Errors.IIIF"))}throw new Error(W.getString("Errors.IIIF"))}function le(se,ue,ce){var fe,me;if(se.nodeType===3&&ce)me=se.nodeValue.trim(),me.match(/^\d*$/)&&(me=Number(me)),ue[ce]?(W.isArray(ue[ce])||(ue[ce]=[ue[ce]]),ue[ce].push(me)):ue[ce]=me;else if(se.nodeType===1)for(fe=0;fe<se.childNodes.length;fe++)le(se.childNodes[fe],ue,se.nodeName)}}(U),function(W){W.OsmTileSource=function(X,ne,oe,le,se){var ue;W.isPlainObject(X)?ue=X:ue={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!ue.width||!ue.height)&&(ue.width=65572864,ue.height=65572864),ue.tileSize||(ue.tileSize=256,ue.tileOverlap=0),ue.tilesUrl||(ue.tilesUrl="http://tile.openstreetmap.org/"),ue.minLevel=8,W.TileSource.apply(this,[ue])},W.extend(W.OsmTileSource.prototype,W.TileSource.prototype,{supports:function(X,ne){return X.type&&X.type==="openstreetmaps"},configure:function(X,ne,oe){return X},getTileUrl:function(X,ne,oe){return this.tilesUrl+(X-8)+"/"+ne+"/"+oe+".png"}})}(U),function(W){W.TmsTileSource=function(X,ne,oe,le,se){var ue;W.isPlainObject(X)?ue=X:ue={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var ce=Math.ceil(ue.width/256)*256,fe=Math.ceil(ue.height/256)*256,me;ce>fe?me=ce/256:me=fe/256,ue.maxLevel=Math.ceil(Math.log(me)/Math.log(2))-1,ue.tileSize=256,ue.width=ce,ue.height=fe,W.TileSource.apply(this,[ue])},W.extend(W.TmsTileSource.prototype,W.TileSource.prototype,{supports:function(X,ne){return X.type&&X.type==="tiledmapservice"},configure:function(X,ne,oe){return X},getTileUrl:function(X,ne,oe){var le=this.getNumTiles(X).y-1;return this.tilesUrl+X+"/"+ne+"/"+(le-oe)+".png"}})}(U),function(W){W.ZoomifyTileSource=function(X){typeof X.tileSize>"u"&&(X.tileSize=256),typeof X.fileFormat>"u"&&(X.fileFormat="jpg",this.fileFormat=X.fileFormat);var ne={x:X.width,y:X.height};for(X.imageSizes=[{x:X.width,y:X.height}],X.gridSize=[this._getGridSize(X.width,X.height,X.tileSize)];parseInt(ne.x,10)>X.tileSize||parseInt(ne.y,10)>X.tileSize;)ne.x=Math.floor(ne.x/2),ne.y=Math.floor(ne.y/2),X.imageSizes.push({x:ne.x,y:ne.y}),X.gridSize.push(this._getGridSize(ne.x,ne.y,X.tileSize));X.imageSizes.reverse(),X.gridSize.reverse(),X.minLevel=0,X.maxLevel=X.gridSize.length-1,U.TileSource.apply(this,[X])},W.extend(W.ZoomifyTileSource.prototype,W.TileSource.prototype,{_getGridSize:function(X,ne,oe){return{x:Math.ceil(X/oe),y:Math.ceil(ne/oe)}},_calculateAbsoluteTileNumber:function(X,ne,oe){for(var le=0,se={},ue=0;ue<X;ue++)se=this.gridSize[ue],le+=se.x*se.y;return se=this.gridSize[X],le+=se.x*oe+ne,le},supports:function(X,ne){return X.type&&X.type==="zoomifytileservice"},configure:function(X,ne,oe){return X},getTileUrl:function(X,ne,oe){var le=0,se=this._calculateAbsoluteTileNumber(X,ne,oe);return le=Math.floor(se/256),this.tilesUrl+"TileGroup"+le+"/"+X+"-"+ne+"-"+oe+"."+this.fileFormat}})}(U),function(W){W.LegacyTileSource=function(le){var se,ue,ce;W.isArray(le)&&(se={type:"legacy-image-pyramid",levels:le}),se.levels=X(se.levels),se.levels.length>0?(ue=se.levels[se.levels.length-1].width,ce=se.levels[se.levels.length-1].height):(ue=0,ce=0,W.console.error("No supported image formats found")),W.extend(!0,se,{width:ue,height:ce,tileSize:Math.max(ce,ue),tileOverlap:0,minLevel:0,maxLevel:se.levels.length>0?se.levels.length-1:0}),W.TileSource.apply(this,[se]),this.levels=se.levels},W.extend(W.LegacyTileSource.prototype,W.TileSource.prototype,{supports:function(le,se){return le.type&&le.type==="legacy-image-pyramid"||le.documentElement&&le.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(le,se,ue){var ce;return W.isPlainObject(le)?ce=oe(this,le):ce=ne(this,le),ce},getLevelScale:function(le){var se=NaN;return this.levels.length>0&&le>=this.minLevel&&le<=this.maxLevel&&(se=this.levels[le].width/this.levels[this.maxLevel].width),se},getNumTiles:function(le){var se=this.getLevelScale(le);return se?new W.Point(1,1):new W.Point(0,0)},getTileUrl:function(le,se,ue){var ce=null;return this.levels.length>0&&le>=this.minLevel&&le<=this.maxLevel&&(ce=this.levels[le].url),ce}});function X(le){var se=[],ue,ce;for(ce=0;ce<le.length;ce++)ue=le[ce],ue.height&&ue.width&&ue.url?se.push({url:ue.url,width:Number(ue.width),height:Number(ue.height)}):W.console.error("Unsupported image format: %s",ue.url?ue.url:"<no URL>");return se.sort(function(fe,me){return fe.height-me.height})}function ne(le,se){if(!se||!se.documentElement)throw new Error(W.getString("Errors.Xml"));var ue=se.documentElement,ce=ue.tagName,fe=null,me=[],ve,be;if(ce==="image")try{for(fe={type:ue.getAttribute("type"),levels:[]},me=ue.getElementsByTagName("level"),be=0;be<me.length;be++)ve=me[be],fe.levels.push({url:ve.getAttribute("url"),width:parseInt(ve.getAttribute("width"),10),height:parseInt(ve.getAttribute("height"),10)});return oe(le,fe)}catch(Se){throw Se instanceof Error?Se:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(ce==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(ce==="error")throw new Error("Error: "+se)}throw new Error("Unknown element "+ce)}function oe(le,se){return se.levels}}(U),function(W){W.ImageTileSource=function(X){X=W.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},X),W.TileSource.apply(this,[X])},W.extend(W.ImageTileSource.prototype,W.TileSource.prototype,{supports:function(X,ne){return X.type&&X.type==="image"},configure:function(X,ne,oe){return X},getImageInfo:function(X){var ne=this._image=new Image,oe=this;this.crossOriginPolicy&&(ne.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(ne.useCredentials=this.ajaxWithCredentials),W.addEvent(ne,"load",function(){oe.width=ne.naturalWidth,oe.height=ne.naturalHeight,oe.aspectRatio=oe.width/oe.height,oe.dimensions=new W.Point(oe.width,oe.height),oe._tileWidth=oe.width,oe._tileHeight=oe.height,oe.tileOverlap=0,oe.minLevel=0,oe.levels=oe._buildLevels(),oe.maxLevel=oe.levels.length-1,oe.ready=!0,oe.raiseEvent("ready",{tileSource:oe})}),W.addEvent(ne,"error",function(){oe.raiseEvent("open-failed",{message:"Error loading image at "+X,source:X})}),ne.src=X},getLevelScale:function(X){var ne=NaN;return X>=this.minLevel&&X<=this.maxLevel&&(ne=this.levels[X].width/this.levels[this.maxLevel].width),ne},getNumTiles:function(X){var ne=this.getLevelScale(X);return ne?new W.Point(1,1):new W.Point(0,0)},getTileUrl:function(X,ne,oe){var le=null;return X>=this.minLevel&&X<=this.maxLevel&&(le=this.levels[X].url),le},getContext2D:function(X,ne,oe){var le=null;return X>=this.minLevel&&X<=this.maxLevel&&(le=this.levels[X].context2D),le},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var X=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!W.supportsCanvas||!this.useCanvas)return delete this._image,X;var ne=this._image.naturalWidth,oe=this._image.naturalHeight,le=document.createElement("canvas"),se=le.getContext("2d");if(le.width=ne,le.height=oe,se.drawImage(this._image,0,0,ne,oe),X[0].context2D=se,delete this._image,W.isCanvasTainted(le))return X;for(;ne>=2&&oe>=2;){ne=Math.floor(ne/2),oe=Math.floor(oe/2);var ue=document.createElement("canvas"),ce=ue.getContext("2d");ue.width=ne,ue.height=oe,ce.drawImage(le,0,0,ne,oe),X.splice(0,0,{context2D:ce,width:ne,height:oe}),le=ue,se=ce}return X},_freeupCanvasMemory:function(){for(var X=0;X<this.levels.length;X++)this.levels[X].context2D&&(this.levels[X].context2D.canvas.height=0,this.levels[X].context2D.canvas.width=0)}})}(U),function(W){W.TileSourceCollection=function(X,ne,oe,le){W.console.error("TileSourceCollection is deprecated; use World instead")}}(U),function(W){W.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},W.Button=function(ce){var fe=this;W.EventSource.call(this),W.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:W.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:W.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},ce),this.element=ce.element||W.makeNeutralElement("div"),ce.element||(this.imgRest=W.makeTransparentImage(this.srcRest),this.imgGroup=W.makeTransparentImage(this.srcGroup),this.imgHover=W.makeTransparentImage(this.srcHover),this.imgDown=W.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,W.setElementPointerEventsNone(this.imgRest),W.setElementPointerEventsNone(this.imgGroup),W.setElementPointerEventsNone(this.imgHover),W.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",W.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",W.Browser.vendor===W.BROWSERS.FIREFOX&&W.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=W.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new W.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(me){me.insideElementPressed?(se(fe,W.ButtonState.DOWN),fe.raiseEvent("enter",{originalEvent:me.originalEvent})):me.buttonDownAny||se(fe,W.ButtonState.HOVER)},focusHandler:function(me){fe.tracker.enterHandler(me),fe.raiseEvent("focus",{originalEvent:me.originalEvent})},leaveHandler:function(me){ue(fe,W.ButtonState.GROUP),me.insideElementPressed&&fe.raiseEvent("exit",{originalEvent:me.originalEvent})},blurHandler:function(me){fe.tracker.leaveHandler(me),fe.raiseEvent("blur",{originalEvent:me.originalEvent})},pressHandler:function(me){se(fe,W.ButtonState.DOWN),fe.raiseEvent("press",{originalEvent:me.originalEvent})},releaseHandler:function(me){me.insideElementPressed&&me.insideElementReleased?(ue(fe,W.ButtonState.HOVER),fe.raiseEvent("release",{originalEvent:me.originalEvent})):me.insideElementPressed?ue(fe,W.ButtonState.GROUP):se(fe,W.ButtonState.HOVER)},clickHandler:function(me){me.quick&&fe.raiseEvent("click",{originalEvent:me.originalEvent})},keyHandler:function(me){me.keyCode===13?(fe.raiseEvent("click",{originalEvent:me.originalEvent}),fe.raiseEvent("release",{originalEvent:me.originalEvent}),me.preventDefault=!0):me.preventDefault=!1}}),ue(this,W.ButtonState.REST)},W.extend(W.Button.prototype,W.EventSource.prototype,{notifyGroupEnter:function(){se(this,W.ButtonState.GROUP)},notifyGroupExit:function(){ue(this,W.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,W.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,W.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function X(ce){W.requestAnimationFrame(function(){ne(ce)})}function ne(ce){var fe,me,ve;ce.shouldFade&&(fe=W.now(),me=fe-ce.fadeBeginTime,ve=1-me/ce.fadeLength,ve=Math.min(1,ve),ve=Math.max(0,ve),ce.imgGroup&&W.setElementOpacity(ce.imgGroup,ve,!0),ve>0&&X(ce))}function oe(ce){ce.shouldFade=!0,ce.fadeBeginTime=W.now()+ce.fadeDelay,window.setTimeout(function(){X(ce)},ce.fadeDelay)}function le(ce){ce.shouldFade=!1,ce.imgGroup&&W.setElementOpacity(ce.imgGroup,1,!0)}function se(ce,fe){ce.element.disabled||(fe>=W.ButtonState.GROUP&&ce.currentState===W.ButtonState.REST&&(le(ce),ce.currentState=W.ButtonState.GROUP),fe>=W.ButtonState.HOVER&&ce.currentState===W.ButtonState.GROUP&&(ce.imgHover&&(ce.imgHover.style.visibility=""),ce.currentState=W.ButtonState.HOVER),fe>=W.ButtonState.DOWN&&ce.currentState===W.ButtonState.HOVER&&(ce.imgDown&&(ce.imgDown.style.visibility=""),ce.currentState=W.ButtonState.DOWN))}function ue(ce,fe){ce.element.disabled||(fe<=W.ButtonState.HOVER&&ce.currentState===W.ButtonState.DOWN&&(ce.imgDown&&(ce.imgDown.style.visibility="hidden"),ce.currentState=W.ButtonState.HOVER),fe<=W.ButtonState.GROUP&&ce.currentState===W.ButtonState.HOVER&&(ce.imgHover&&(ce.imgHover.style.visibility="hidden"),ce.currentState=W.ButtonState.GROUP),fe<=W.ButtonState.REST&&ce.currentState===W.ButtonState.GROUP&&(oe(ce),ce.currentState=W.ButtonState.REST))}}(U),function(W){W.ButtonGroup=function(X){W.extend(!0,this,{buttons:[],clickTimeThreshold:W.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:W.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},X);var ne=this.buttons.concat([]),oe=this,le;if(this.element=X.element||W.makeNeutralElement("div"),!X.group)for(this.element.style.display="inline-block",le=0;le<ne.length;le++)this.element.appendChild(ne[le].element);W.setElementTouchActionNone(this.element),this.tracker=new W.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(se){var ue;for(ue=0;ue<oe.buttons.length;ue++)oe.buttons[ue].notifyGroupEnter()},leaveHandler:function(se){var ue;if(!se.insideElementPressed)for(ue=0;ue<oe.buttons.length;ue++)oe.buttons[ue].notifyGroupExit()}})},W.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var X=this.buttons.pop();this.element.removeChild(X.element),X.destroy()}this.tracker.destroy(),this.element=null}}}(U),function(W){W.Rect=function(X,ne,oe,le,se){this.x=typeof X=="number"?X:0,this.y=typeof ne=="number"?ne:0,this.width=typeof oe=="number"?oe:0,this.height=typeof le=="number"?le:0,this.degrees=typeof se=="number"?se:0,this.degrees=W.positiveModulo(this.degrees,360);var ue,ce;this.degrees>=270?(ue=this.getTopRight(),this.x=ue.x,this.y=ue.y,ce=this.height,this.height=this.width,this.width=ce,this.degrees-=270):this.degrees>=180?(ue=this.getBottomRight(),this.x=ue.x,this.y=ue.y,this.degrees-=180):this.degrees>=90&&(ue=this.getBottomLeft(),this.x=ue.x,this.y=ue.y,ce=this.height,this.height=this.width,this.width=ce,this.degrees-=90)},W.Rect.fromSummits=function(X,ne,oe){var le=X.distanceTo(ne),se=X.distanceTo(oe),ue=ne.minus(X),ce=Math.atan(ue.y/ue.x);return ue.x<0?ce+=Math.PI:ue.y<0&&(ce+=2*Math.PI),new W.Rect(X.x,X.y,le,se,ce/Math.PI*180)},W.Rect.prototype={clone:function(){return new W.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new W.Point(this.x,this.y)},getBottomRight:function(){return new W.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new W.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new W.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new W.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new W.Point(this.width,this.height)},equals:function(X){return X instanceof W.Rect&&this.x===X.x&&this.y===X.y&&this.width===X.width&&this.height===X.height&&this.degrees===X.degrees},times:function(X){return new W.Rect(this.x*X,this.y*X,this.width*X,this.height*X,this.degrees)},translate:function(X){return new W.Rect(this.x+X.x,this.y+X.y,this.width,this.height,this.degrees)},union:function(X){var ne=this.getBoundingBox(),oe=X.getBoundingBox(),le=Math.min(ne.x,oe.x),se=Math.min(ne.y,oe.y),ue=Math.max(ne.x+ne.width,oe.x+oe.width),ce=Math.max(ne.y+ne.height,oe.y+oe.height);return new W.Rect(le,se,ue-le,ce-se)},intersection:function(X){var ne=1e-10,oe=[],le=this.getTopLeft();X.containsPoint(le,ne)&&oe.push(le);var se=this.getTopRight();X.containsPoint(se,ne)&&oe.push(se);var ue=this.getBottomLeft();X.containsPoint(ue,ne)&&oe.push(ue);var ce=this.getBottomRight();X.containsPoint(ce,ne)&&oe.push(ce);var fe=X.getTopLeft();this.containsPoint(fe,ne)&&oe.push(fe);var me=X.getTopRight();this.containsPoint(me,ne)&&oe.push(me);var ve=X.getBottomLeft();this.containsPoint(ve,ne)&&oe.push(ve);var be=X.getBottomRight();this.containsPoint(be,ne)&&oe.push(be);for(var Se=this._getSegments(),_e=X._getSegments(),Ae=0;Ae<Se.length;Ae++)for(var ke=Se[Ae],Me=0;Me<_e.length;Me++){var Le=_e[Me],qe=Je(ke[0],ke[1],Le[0],Le[1]);qe&&oe.push(qe)}function Je(lt,xt,It,mt){var ot=xt.minus(lt),st=mt.minus(It),vt=-st.x*ot.y+ot.x*st.y;if(vt===0)return null;var Ot=(ot.x*(lt.y-It.y)-ot.y*(lt.x-It.x))/vt,wt=(st.x*(lt.y-It.y)-st.y*(lt.x-It.x))/vt;return-ne<=Ot&&Ot<=1-ne&&-ne<=wt&&wt<=1-ne?new W.Point(lt.x+wt*ot.x,lt.y+wt*ot.y):null}if(oe.length===0)return null;for(var Fe=oe[0].x,Ve=oe[0].x,Ze=oe[0].y,Xe=oe[0].y,dt=1;dt<oe.length;dt++){var ht=oe[dt];ht.x<Fe&&(Fe=ht.x),ht.x>Ve&&(Ve=ht.x),ht.y<Ze&&(Ze=ht.y),ht.y>Xe&&(Xe=ht.y)}return new W.Rect(Fe,Ze,Ve-Fe,Xe-Ze)},_getSegments:function(){var X=this.getTopLeft(),ne=this.getTopRight(),oe=this.getBottomLeft(),le=this.getBottomRight();return[[X,ne],[ne,le],[le,oe],[oe,X]]},rotate:function(X,ne){if(X=W.positiveModulo(X,360),X===0)return this.clone();ne=ne||this.getCenter();var oe=this.getTopLeft().rotate(X,ne),le=this.getTopRight().rotate(X,ne),se=le.minus(oe);se=se.apply(function(ce){var fe=1e-15;return Math.abs(ce)<fe?0:ce});var ue=Math.atan(se.y/se.x);return se.x<0?ue+=Math.PI:se.y<0&&(ue+=2*Math.PI),new W.Rect(oe.x,oe.y,this.width,this.height,ue/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var X=this.getTopLeft(),ne=this.getTopRight(),oe=this.getBottomLeft(),le=this.getBottomRight(),se=Math.min(X.x,ne.x,oe.x,le.x),ue=Math.max(X.x,ne.x,oe.x,le.x),ce=Math.min(X.y,ne.y,oe.y,le.y),fe=Math.max(X.y,ne.y,oe.y,le.y);return new W.Rect(se,ce,ue-se,fe-ce)},getIntegerBoundingBox:function(){var X=this.getBoundingBox(),ne=Math.floor(X.x),oe=Math.floor(X.y),le=Math.ceil(X.width+X.x-ne),se=Math.ceil(X.height+X.y-oe);return new W.Rect(ne,oe,le,se)},containsPoint:function(X,ne){ne=ne||0;var oe=this.getTopLeft(),le=this.getTopRight(),se=this.getBottomLeft(),ue=le.minus(oe),ce=se.minus(oe);return(X.x-oe.x)*ue.x+(X.y-oe.y)*ue.y>=-ne&&(X.x-le.x)*ue.x+(X.y-le.y)*ue.y<=ne&&(X.x-oe.x)*ce.x+(X.y-oe.y)*ce.y>=-ne&&(X.x-se.x)*ce.x+(X.y-se.y)*ce.y<=ne},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(U),function(W){var X={};W.ReferenceStrip=function(ve){var be=this,Se=ve.viewer,_e=W.getElementSize(Se.element),Ae,ke,Me;for(ve.id||(ve.id="referencestrip-"+W.now(),this.element=W.makeNeutralElement("div"),this.element.id=ve.id,this.element.className="referencestrip"),ve=W.extend(!0,{sizeRatio:W.DEFAULT_SETTINGS.referenceStripSizeRatio,position:W.DEFAULT_SETTINGS.referenceStripPosition,scroll:W.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:W.DEFAULT_SETTINGS.clickTimeThreshold},ve,{element:this.element}),W.extend(this,ve),X[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,ke=this.element.style,ke.marginTop="0px",ke.marginRight="0px",ke.marginBottom="0px",ke.marginLeft="0px",ke.left="0px",ke.bottom="0px",ke.border="0px",ke.background="#000",ke.position="relative",W.setElementTouchActionNone(this.element),W.setElementOpacity(this.element,.8),this.viewer=Se,this.tracker=new W.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:W.delegate(this,ne),dragHandler:W.delegate(this,oe),scrollHandler:W.delegate(this,le),enterHandler:W.delegate(this,ue),leaveHandler:W.delegate(this,ce),keyDownHandler:W.delegate(this,fe),keyHandler:W.delegate(this,me),preProcessEventHandler:function(Le){Le.eventType==="wheel"&&(Le.preventDefault=!0)}}),ve.width&&ve.height?(this.element.style.width=ve.width+"px",this.element.style.height=ve.height+"px",Se.addControl(this.element,{anchor:W.ControlAnchor.BOTTOM_LEFT})):ve.scroll==="horizontal"?(this.element.style.width=_e.x*ve.sizeRatio*Se.tileSources.length+12*Se.tileSources.length+"px",this.element.style.height=_e.y*ve.sizeRatio+"px",Se.addControl(this.element,{anchor:W.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=_e.y*ve.sizeRatio*Se.tileSources.length+12*Se.tileSources.length+"px",this.element.style.width=_e.x*ve.sizeRatio+"px",Se.addControl(this.element,{anchor:W.ControlAnchor.TOP_LEFT})),this.panelWidth=_e.x*this.sizeRatio+8,this.panelHeight=_e.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},Me=0;Me<Se.tileSources.length;Me++)Ae=W.makeNeutralElement("div"),Ae.id=this.element.id+"-"+Me,Ae.style.width=be.panelWidth+"px",Ae.style.height=be.panelHeight+"px",Ae.style.display="inline",Ae.style.float="left",Ae.style.cssFloat="left",Ae.style.styleFloat="left",Ae.style.padding="2px",W.setElementTouchActionNone(Ae),W.setElementPointerEventsNone(Ae),this.element.appendChild(Ae),Ae.activePanel=!1,this.panels.push(Ae);se(this,this.scroll==="vertical"?_e.y:_e.x,0),this.setFocus(0)},W.ReferenceStrip.prototype={setFocus:function(ve){var be=this.element.querySelector("#"+this.element.id+"-"+ve),Se=W.getElementSize(this.viewer.canvas),_e=Number(this.element.style.width.replace("px","")),Ae=Number(this.element.style.height.replace("px","")),ke=-Number(this.element.style.marginLeft.replace("px","")),Me=-Number(this.element.style.marginTop.replace("px","")),Le;this.currentSelected!==be&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=be,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Le=Number(ve)*(this.panelWidth+3),Le>ke+Se.x-this.panelWidth?(Le=Math.min(Le,_e-Se.x),this.element.style.marginLeft=-Le+"px",se(this,Se.x,-Le)):Le<ke&&(Le=Math.max(0,Le-Se.x/2),this.element.style.marginLeft=-Le+"px",se(this,Se.x,-Le))):(Le=Number(ve)*(this.panelHeight+3),Le>Me+Se.y-this.panelHeight?(Le=Math.min(Le,Ae-Se.y),this.element.style.marginTop=-Le+"px",se(this,Se.y,-Le)):Le<Me&&(Le=Math.max(0,Le-Se.y/2),this.element.style.marginTop=-Le+"px",se(this,Se.y,-Le))),this.currentPage=ve,ue.call(this,{eventSource:this.tracker}))},update:function(){return!!X[this.id].animating},destroy:function(){if(this.miniViewers)for(var ve in this.miniViewers)this.miniViewers[ve].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function ne(ve){if(ve.quick){var be;this.scroll==="horizontal"?be=Math.floor(ve.position.x/this.panelWidth):be=Math.floor(ve.position.y/this.panelHeight),this.viewer.goToPage(be)}this.element.focus()}function oe(ve){if(this.dragging=!0,this.element){var be=Number(this.element.style.marginLeft.replace("px","")),Se=Number(this.element.style.marginTop.replace("px","")),_e=Number(this.element.style.width.replace("px","")),Ae=Number(this.element.style.height.replace("px","")),ke=W.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-ve.delta.x>0?be>-(_e-ke.x)&&(this.element.style.marginLeft=be+ve.delta.x*2+"px",se(this,ke.x,be+ve.delta.x*2)):-ve.delta.x<0&&be<0&&(this.element.style.marginLeft=be+ve.delta.x*2+"px",se(this,ke.x,be+ve.delta.x*2)):-ve.delta.y>0?Se>-(Ae-ke.y)&&(this.element.style.marginTop=Se+ve.delta.y*2+"px",se(this,ke.y,Se+ve.delta.y*2)):-ve.delta.y<0&&Se<0&&(this.element.style.marginTop=Se+ve.delta.y*2+"px",se(this,ke.y,Se+ve.delta.y*2))}}function le(ve){if(this.element){var be=Number(this.element.style.marginLeft.replace("px","")),Se=Number(this.element.style.marginTop.replace("px","")),_e=Number(this.element.style.width.replace("px","")),Ae=Number(this.element.style.height.replace("px","")),ke=W.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?ve.scroll>0?be>-(_e-ke.x)&&(this.element.style.marginLeft=be-ve.scroll*60+"px",se(this,ke.x,be-ve.scroll*60)):ve.scroll<0&&be<0&&(this.element.style.marginLeft=be-ve.scroll*60+"px",se(this,ke.x,be-ve.scroll*60)):ve.scroll<0?Se>ke.y-Ae&&(this.element.style.marginTop=Se+ve.scroll*60+"px",se(this,ke.y,Se+ve.scroll*60)):ve.scroll>0&&Se<0&&(this.element.style.marginTop=Se+ve.scroll*60+"px",se(this,ke.y,Se+ve.scroll*60)),ve.preventDefault=!0}}function se(ve,be,Se){var _e,Ae,ke,Me,Le,qe;for(ve.scroll==="horizontal"?_e=ve.panelWidth:_e=ve.panelHeight,Ae=Math.ceil(be/_e)+5,ke=Math.ceil((Math.abs(Se)+be)/_e)+1,Ae=ke-Ae,Ae=Ae<0?0:Ae,Le=Ae;Le<ke&&Le<ve.panels.length;Le++)if(qe=ve.panels[Le],!qe.activePanel){var Je,Fe=ve.viewer.tileSources[Le];Fe.referenceStripThumbnailUrl?Je={type:"image",url:Fe.referenceStripThumbnailUrl}:Je=Fe,Me=new W.Viewer({id:qe.id,tileSources:[Je],element:qe,navigatorSizeRatio:ve.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:ve.viewer.loadTilesWithAjax,ajaxHeaders:ve.viewer.ajaxHeaders,useCanvas:ve.useCanvas}),W.setElementPointerEventsNone(Me.canvas),W.setElementPointerEventsNone(Me.container),Me.innerTracker.setTracking(!1),Me.outerTracker.setTracking(!1),ve.miniViewers[qe.id]=Me,qe.activePanel=!0}}function ue(ve){var be=ve.eventSource.element;this.scroll==="horizontal"?be.style.marginBottom="0px":be.style.marginLeft="0px"}function ce(ve){var be=ve.eventSource.element;this.scroll==="horizontal"?be.style.marginBottom="-"+W.getElementSize(be).y/2+"px":be.style.marginLeft="-"+W.getElementSize(be).x/2+"px"}function fe(ve){if(!ve.ctrl&&!ve.alt&&!ve.meta)switch(ve.keyCode){case 38:le.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),ve.preventDefault=!0;break;case 40:le.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),ve.preventDefault=!0;break;case 37:le.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),ve.preventDefault=!0;break;case 39:le.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),ve.preventDefault=!0;break;default:ve.preventDefault=!1;break}else ve.preventDefault=!1}function me(ve){if(!ve.ctrl&&!ve.alt&&!ve.meta)switch(ve.keyCode){case 61:le.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),ve.preventDefault=!0;break;case 45:le.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),ve.preventDefault=!0;break;case 48:case 119:case 87:le.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),ve.preventDefault=!0;break;case 115:case 83:le.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),ve.preventDefault=!0;break;case 97:le.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),ve.preventDefault=!0;break;case 100:le.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),ve.preventDefault=!0;break;default:ve.preventDefault=!1;break}else ve.preventDefault=!1}}(U),function(W){W.DisplayRect=function(X,ne,oe,le,se,ue){W.Rect.apply(this,[X,ne,oe,le]),this.minLevel=se,this.maxLevel=ue},W.extend(W.DisplayRect.prototype,W.Rect.prototype)}(U),function(W){W.Spring=function(ne){var oe=arguments;typeof ne!="object"&&(ne={initial:oe.length&&typeof oe[0]=="number"?oe[0]:void 0,springStiffness:oe.length>1?oe[1].springStiffness:5,animationTime:oe.length>1?oe[1].animationTime:1.5}),W.console.assert(typeof ne.springStiffness=="number"&&ne.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),W.console.assert(typeof ne.animationTime=="number"&&ne.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),ne.exponential&&(this._exponential=!0,delete ne.exponential),W.extend(!0,this,ne),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:W.now()},W.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},W.Spring.prototype={resetTo:function(ne){W.console.assert(!this._exponential||ne!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=ne,this.start.time=this.target.time=this.current.time=W.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(ne){W.console.assert(!this._exponential||ne!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=ne,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(ne){this.start.value+=ne,this.target.value+=ne,this._exponential&&(W.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(ne){this._exponential=ne,this._exponential&&(W.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=W.now();var ne,oe;this._exponential?(ne=this.start._logValue,oe=this.target._logValue):(ne=this.start.value,oe=this.target.value);var le=this.current.time>=this.target.time?oe:ne+(oe-ne)*X(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),se=this.current.value;return this._exponential?this.current.value=Math.exp(le):this.current.value=le,se!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function X(ne,oe){return(1-Math.exp(ne*-oe))/(1-Math.exp(-ne))}}(U),function(W){function X(oe){W.extend(!0,this,{timeout:W.DEFAULT_SETTINGS.timeout,jobId:null},oe),this.image=null}X.prototype={errorMsg:null,start:function(){var oe=this,le=this.abort;this.image=new Image,this.image.onload=function(){oe.finish(!0)},this.image.onabort=this.image.onerror=function(){oe.errorMsg="Image load aborted",oe.finish(!1)},this.jobId=window.setTimeout(function(){oe.errorMsg="Image load exceeded timeout ("+oe.timeout+" ms)",oe.finish(!1)},this.timeout),this.loadWithAjax?(this.request=W.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",postData:this.postData,success:function(se){var ue;try{ue=new window.Blob([se.response])}catch(ve){var ce=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(ve.name==="TypeError"&&ce){var fe=new ce;fe.append(se.response),ue=fe.getBlob()}}ue.size===0&&(oe.errorMsg="Empty image response.",oe.finish(!1));var me=(window.URL||window.webkitURL).createObjectURL(ue);oe.image.src=me},error:function(se){oe.errorMsg="Image load aborted - XHR error: Ajax returned "+se.status,oe.finish(!1)}}),this.abort=function(){oe.request.abort(),typeof le=="function"&&le()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(oe){this.image.onload=this.image.onerror=this.image.onabort=null,oe||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},W.ImageLoader=function(oe){W.extend(!0,this,{jobLimit:W.DEFAULT_SETTINGS.imageLoaderLimit,timeout:W.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},oe)},W.ImageLoader.prototype={addJob:function(oe){var le=this,se=function(fe){ne(le,fe,oe.callback)},ue={src:oe.src,loadWithAjax:oe.loadWithAjax,ajaxHeaders:oe.loadWithAjax?oe.ajaxHeaders:null,crossOriginPolicy:oe.crossOriginPolicy,ajaxWithCredentials:oe.ajaxWithCredentials,postData:oe.postData,callback:se,abort:oe.abort,timeout:this.timeout},ce=new X(ue);!this.jobLimit||this.jobsInProgress<this.jobLimit?(ce.start(),this.jobsInProgress++):this.jobQueue.push(ce)},clear:function(){for(var oe=0;oe<this.jobQueue.length;oe++){var le=this.jobQueue[oe];typeof le.abort=="function"&&le.abort()}this.jobQueue=[]}};function ne(oe,le,se){var ue;oe.jobsInProgress--,(!oe.jobLimit||oe.jobsInProgress<oe.jobLimit)&&oe.jobQueue.length>0&&(ue=oe.jobQueue.shift(),ue.start(),oe.jobsInProgress++),se(le.image,le.errorMsg,le.request)}}(U),function(W){W.Tile=function(X,ne,oe,le,se,ue,ce,fe,me,ve,be,Se){this.level=X,this.x=ne,this.y=oe,this.bounds=le,this.sourceBounds=ve,this.exists=se,this.url=ue,this.postData=be,this.context2D=ce,this.loadWithAjax=fe,this.ajaxHeaders=me,Se===void 0&&(W.console.error("Tile constructor needs 'cacheKey' variable: creation tile cache in Tile class is deprecated. TileSource.prototype.getTileHashKey will be used."),Se=W.TileSource.prototype.getTileHashKey(X,ne,oe,ue,me,be)),this.cacheKey=Se,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},W.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(X){if(!this.cacheImageRecord){W.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){W.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=W.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==X&&X.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),W.setElementOpacity(this.element,this.opacity)},drawCanvas:function(X,ne,oe,le,se){var ue=this.position.times(W.pixelDensityRatio),ce=this.size.times(W.pixelDensityRatio),fe;if(!this.context2D&&!this.cacheImageRecord){W.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(fe=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!fe){W.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}X.save(),X.globalAlpha=this.opacity,typeof oe=="number"&&oe!==1&&(ue=ue.times(oe),ce=ce.times(oe)),le instanceof W.Point&&(ue=ue.plus(le)),X.globalAlpha===1&&this._hasTransparencyChannel()&&(se&&(ue.x=Math.round(ue.x),ue.y=Math.round(ue.y),ce.x=Math.round(ce.x),ce.y=Math.round(ce.y)),X.clearRect(ue.x,ue.y,ce.x,ce.y)),ne({context:X,tile:this,rendered:fe});var me,ve;this.sourceBounds?(me=Math.min(this.sourceBounds.width,fe.canvas.width),ve=Math.min(this.sourceBounds.height,fe.canvas.height)):(me=fe.canvas.width,ve=fe.canvas.height),X.translate(ue.x+ce.x/2,0),this.flipped&&X.scale(-1,1),X.drawImage(fe.canvas,0,0,me,ve,-ce.x/2,ue.y,ce.x,ce.y),X.restore()},getScaleForEdgeSmoothing:function(){var X;if(this.cacheImageRecord)X=this.cacheImageRecord.getRenderedContext();else if(this.context2D)X=this.context2D;else return W.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return X.canvas.width/(this.size.x*W.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(X,ne,oe){var le=Math.max(1,Math.ceil((oe.x-ne.x)/2)),se=Math.max(1,Math.ceil((oe.y-ne.y)/2));return new W.Point(le,se).minus(this.position.times(W.pixelDensityRatio).times(X||1).apply(function(ue){return ue%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(U),function(W){W.OverlayPlacement=W.Placement,W.OverlayRotationMode=W.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),W.Overlay=function(X,ne,oe){var le;W.isPlainObject(X)?le=X:le={element:X,location:ne,placement:oe},this.element=le.element,this.style=le.element.style,this._init(le)},W.Overlay.prototype={_init:function(X){this.location=X.location,this.placement=X.placement===void 0?W.Placement.TOP_LEFT:X.placement,this.onDraw=X.onDraw,this.checkResize=X.checkResize===void 0?!0:X.checkResize,this.width=X.width===void 0?null:X.width,this.height=X.height===void 0?null:X.height,this.rotationMode=X.rotationMode||W.OverlayRotationMode.EXACT,this.location instanceof W.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=W.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new W.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(X,ne){var oe=W.Placement.properties[this.placement];!oe||(oe.isHorizontallyCentered?X.x-=ne.x/2:oe.isRight&&(X.x-=ne.x),oe.isVerticallyCentered?X.y-=ne.y/2:oe.isBottom&&(X.y-=ne.y))},destroy:function(){var X=this.element,ne=this.style;X.parentNode&&(X.parentNode.removeChild(X),X.prevElementParent&&(ne.display="none",document.body.appendChild(X))),this.onDraw=null,ne.top="",ne.left="",ne.position="",this.width!==null&&(ne.width=""),this.height!==null&&(ne.height="");var oe=W.getCssPropertyWithVendorPrefix("transformOrigin"),le=W.getCssPropertyWithVendorPrefix("transform");oe&&le&&(ne[oe]="",ne[le]="")},drawHTML:function(X,ne){var oe=this.element;oe.parentNode!==X&&(oe.prevElementParent=oe.parentNode,oe.prevNextSibling=oe.nextSibling,X.appendChild(oe),this.style.position="absolute",this.size=W.getElementSize(oe));var le=this._getOverlayPositionAndSize(ne),se=le.position,ue=this.size=le.size,ce=le.rotate;if(this.onDraw)this.onDraw(se,ue,this.element);else{var fe=this.style;fe.left=se.x+"px",fe.top=se.y+"px",this.width!==null&&(fe.width=ue.x+"px"),this.height!==null&&(fe.height=ue.y+"px");var me=W.getCssPropertyWithVendorPrefix("transformOrigin"),ve=W.getCssPropertyWithVendorPrefix("transform");me&&ve&&(ce?(fe[me]=this._getTransformOrigin(),fe[ve]="rotate("+ce+"deg)"):(fe[me]="",fe[ve]="")),fe.display="block"}},_getOverlayPositionAndSize:function(X){var ne=X.pixelFromPoint(this.location,!0),oe=this._getSizeInPixels(X);this.adjust(ne,oe);var le=0;if(X.degrees&&this.rotationMode!==W.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===W.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var se=new W.Rect(ne.x,ne.y,oe.x,oe.y),ue=this._getBoundingBox(se,X.degrees);ne=ue.getTopLeft(),oe=ue.getSize()}else le=X.degrees;return{position:ne,size:oe,rotate:le}},_getSizeInPixels:function(X){var ne=this.size.x,oe=this.size.y;if(this.width!==null||this.height!==null){var le=X.deltaPixelsFromPointsNoRotate(new W.Point(this.width||0,this.height||0),!0);this.width!==null&&(ne=le.x),this.height!==null&&(oe=le.y)}if(this.checkResize&&(this.width===null||this.height===null)){var se=this.size=W.getElementSize(this.element);this.width===null&&(ne=se.x),this.height===null&&(oe=se.y)}return new W.Point(ne,oe)},_getBoundingBox:function(X,ne){var oe=this._getPlacementPoint(X);return X.rotate(ne,oe).getBoundingBox()},_getPlacementPoint:function(X){var ne=new W.Point(X.x,X.y),oe=W.Placement.properties[this.placement];return oe&&(oe.isHorizontallyCentered?ne.x+=X.width/2:oe.isRight&&(ne.x+=X.width),oe.isVerticallyCentered?ne.y+=X.height/2:oe.isBottom&&(ne.y+=X.height)),ne},_getTransformOrigin:function(){var X="",ne=W.Placement.properties[this.placement];return ne&&(ne.isLeft?X="left":ne.isRight&&(X="right"),ne.isTop?X+=" top":ne.isBottom&&(X+=" bottom")),X},update:function(X,ne){var oe=W.isPlainObject(X)?X:{location:X,placement:ne};this._init({location:oe.location||this.location,placement:oe.placement!==void 0?oe.placement:this.placement,onDraw:oe.onDraw||this.onDraw,checkResize:oe.checkResize||this.checkResize,width:oe.width!==void 0?oe.width:this.width,height:oe.height!==void 0?oe.height:this.height,rotationMode:oe.rotationMode||this.rotationMode})},getBounds:function(X){W.console.assert(X,"A viewport must now be passed to Overlay.getBounds.");var ne=this.width,oe=this.height;if(ne===null||oe===null){var le=X.deltaPointsFromPixelsNoRotate(this.size,!0);ne===null&&(ne=le.x),oe===null&&(oe=le.y)}var se=this.location.clone();return this.adjust(se,new W.Point(ne,oe)),this._adjustBoundsForRotation(X,new W.Rect(se.x,se.y,ne,oe))},_adjustBoundsForRotation:function(X,ne){if(!X||X.degrees===0||this.rotationMode===W.OverlayRotationMode.EXACT)return ne;if(this.rotationMode===W.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return ne;var oe=this._getOverlayPositionAndSize(X);return X.viewerElementToViewportRectangle(new W.Rect(oe.position.x,oe.position.y,oe.size.x,oe.size.y))}return ne.rotate(-X.degrees,this._getPlacementPoint(ne))}}}(U),function(W){W.Drawer=function(X){W.console.assert(X.viewer,"[Drawer] options.viewer is required");var ne=arguments;if(W.isPlainObject(X)||(X={source:ne[0],viewport:ne[1],element:ne[2]}),W.console.assert(X.viewport,"[Drawer] options.viewport is required"),W.console.assert(X.element,"[Drawer] options.element is required"),X.source&&W.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=X.viewer,this.viewport=X.viewport,this.debugGridColor=typeof X.debugGridColor=="string"?[X.debugGridColor]:X.debugGridColor||W.DEFAULT_SETTINGS.debugGridColor,X.opacity&&W.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=W.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=W.getElement(X.element),this.canvas=W.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var oe=this._calculateCanvasSize();this.canvas.width=oe.x,this.canvas.height=oe.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",W.setElementOpacity(this.canvas,this.opacity,!0),W.setElementPointerEventsNone(this.canvas),W.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},W.Drawer.prototype={addOverlay:function(X,ne,oe,le){return W.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(X,ne,oe,le),this},updateOverlay:function(X,ne,oe){return W.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(X,ne,oe),this},removeOverlay:function(X){return W.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(X),this},clearOverlays:function(){return W.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(X){var ne=this.viewport.pixelFromPointNoRotate(X,!0);return new W.Point(ne.x*W.pixelDensityRatio,ne.y*W.pixelDensityRatio)},clipWithPolygons:function(X,ne){if(!!this.useCanvas){var oe=this._getContext(ne);oe.beginPath(),X.forEach(function(le){le.forEach(function(se,ue){oe[ue===0?"moveTo":"lineTo"](se.x,se.y)})}),oe.clip()}},setOpacity:function(X){W.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var ne=this.viewer.world,oe=0;oe<ne.getItemCount();oe++)ne.getItemAt(oe).setOpacity(X);return this},getOpacity:function(){W.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var X=this.viewer.world,ne=0,oe=0;oe<X.getItemCount();oe++){var le=X.getItemAt(oe).getOpacity();le>ne&&(ne=le)}return ne},needsUpdate:function(){return W.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return W.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return W.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return W.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var X=this._calculateCanvasSize();if((this.canvas.width!==X.x||this.canvas.height!==X.y)&&(this.canvas.width=X.x,this.canvas.height=X.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var ne=this._calculateSketchCanvasSize();this.sketchCanvas.width=ne.x,this.sketchCanvas.height=ne.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(X,ne){if(!!this.useCanvas){var oe=this._getContext(X);if(ne)oe.clearRect(ne.x,ne.y,ne.width,ne.height);else{var le=oe.canvas;oe.clearRect(0,0,le.width,le.height)}}},viewportToDrawerRectangle:function(X){var ne=this.viewport.pixelFromPointNoRotate(X.getTopLeft(),!0),oe=this.viewport.deltaPixelsFromPointsNoRotate(X.getSize(),!0);return new W.Rect(ne.x*W.pixelDensityRatio,ne.y*W.pixelDensityRatio,oe.x*W.pixelDensityRatio,oe.y*W.pixelDensityRatio)},drawTile:function(X,ne,oe,le,se,ue){if(W.console.assert(X,"[Drawer.drawTile] tile is required"),W.console.assert(ne,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var ce=this._getContext(oe);le=le||1,X.drawCanvas(ce,ne,le,se,ue)}else X.drawHTML(this.canvas)},_getContext:function(X){var ne=this.context;if(X){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var oe=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=oe.x,this.sketchCanvas.height=oe.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var le=this;this.viewer.addHandler("rotate",function se(){if(le.viewport.getRotation()!==0){le.viewer.removeHandler("rotate",se);var ue=le._calculateSketchCanvasSize();le.sketchCanvas.width=ue.x,le.sketchCanvas.height=ue.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}ne=this.sketchContext}return ne},saveContext:function(X){!this.useCanvas||this._getContext(X).save()},restoreContext:function(X){!this.useCanvas||this._getContext(X).restore()},setClip:function(X,ne){if(!!this.useCanvas){var oe=this._getContext(ne);oe.beginPath(),oe.rect(X.x,X.y,X.width,X.height),oe.clip()}},drawRectangle:function(X,ne,oe){if(!!this.useCanvas){var le=this._getContext(oe);le.save(),le.fillStyle=ne,le.fillRect(X.x,X.y,X.width,X.height),le.restore()}},blendSketch:function(X,ne,oe,le){var se=X;if(W.isPlainObject(se)||(se={opacity:X,scale:ne,translate:oe,compositeOperation:le}),!(!this.useCanvas||!this.sketchCanvas)){X=se.opacity,le=se.compositeOperation;var ue=se.bounds;if(this.context.save(),this.context.globalAlpha=X,le&&(this.context.globalCompositeOperation=le),ue)ue.x<0&&(ue.width+=ue.x,ue.x=0),ue.x+ue.width>this.canvas.width&&(ue.width=this.canvas.width-ue.x),ue.y<0&&(ue.height+=ue.y,ue.y=0),ue.y+ue.height>this.canvas.height&&(ue.height=this.canvas.height-ue.y),this.context.drawImage(this.sketchCanvas,ue.x,ue.y,ue.width,ue.height,ue.x,ue.y,ue.width,ue.height);else{ne=se.scale||1,oe=se.translate;var ce=oe instanceof W.Point?oe:new W.Point(0,0),fe=0,me=0;if(oe){var ve=this.sketchCanvas.width-this.canvas.width,be=this.sketchCanvas.height-this.canvas.height;fe=Math.round(ve/2),me=Math.round(be/2)}this.context.drawImage(this.sketchCanvas,ce.x-fe*ne,ce.y-me*ne,(this.canvas.width+2*fe)*ne,(this.canvas.height+2*me)*ne,-fe,-me,this.canvas.width+2*fe,this.canvas.height+2*me)}this.context.restore()}},drawDebugInfo:function(X,ne,oe,le){if(!!this.useCanvas){var se=this.viewer.world.getIndexOfItem(le)%this.debugGridColor.length,ue=this.context;ue.save(),ue.lineWidth=2*W.pixelDensityRatio,ue.font="small-caps bold "+13*W.pixelDensityRatio+"px arial",ue.strokeStyle=this.debugGridColor[se],ue.fillStyle=this.debugGridColor[se],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),le.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:le.getRotation(!0),point:le.viewport.pixelFromPointNoRotate(le._getRotationPoint(!0),!0)}),le.viewport.degrees===0&&le.getRotation(!0)%360===0&&le._drawer.viewer.viewport.getFlip()&&le._drawer._flip(),ue.strokeRect(X.position.x*W.pixelDensityRatio,X.position.y*W.pixelDensityRatio,X.size.x*W.pixelDensityRatio,X.size.y*W.pixelDensityRatio);var ce=(X.position.x+X.size.x/2)*W.pixelDensityRatio,fe=(X.position.y+X.size.y/2)*W.pixelDensityRatio;ue.translate(ce,fe),ue.rotate(Math.PI/180*-this.viewport.degrees),ue.translate(-ce,-fe),X.x===0&&X.y===0&&(ue.fillText("Zoom: "+this.viewport.getZoom(),X.position.x*W.pixelDensityRatio,(X.position.y-30)*W.pixelDensityRatio),ue.fillText("Pan: "+this.viewport.getBounds().toString(),X.position.x*W.pixelDensityRatio,(X.position.y-20)*W.pixelDensityRatio)),ue.fillText("Level: "+X.level,(X.position.x+10)*W.pixelDensityRatio,(X.position.y+20)*W.pixelDensityRatio),ue.fillText("Column: "+X.x,(X.position.x+10)*W.pixelDensityRatio,(X.position.y+30)*W.pixelDensityRatio),ue.fillText("Row: "+X.y,(X.position.x+10)*W.pixelDensityRatio,(X.position.y+40)*W.pixelDensityRatio),ue.fillText("Order: "+oe+" of "+ne,(X.position.x+10)*W.pixelDensityRatio,(X.position.y+50)*W.pixelDensityRatio),ue.fillText("Size: "+X.size.toString(),(X.position.x+10)*W.pixelDensityRatio,(X.position.y+60)*W.pixelDensityRatio),ue.fillText("Position: "+X.position.toString(),(X.position.x+10)*W.pixelDensityRatio,(X.position.y+70)*W.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),le.getRotation(!0)%360!==0&&this._restoreRotationChanges(),le.viewport.degrees===0&&le.getRotation(!0)%360===0&&le._drawer.viewer.viewport.getFlip()&&le._drawer._flip(),ue.restore()}},debugRect:function(X){if(this.useCanvas){var ne=this.context;ne.save(),ne.lineWidth=2*W.pixelDensityRatio,ne.strokeStyle=this.debugGridColor[0],ne.fillStyle=this.debugGridColor[0],ne.strokeRect(X.x*W.pixelDensityRatio,X.y*W.pixelDensityRatio,X.width*W.pixelDensityRatio,X.height*W.pixelDensityRatio),ne.restore()}},setImageSmoothingEnabled:function(X){this.useCanvas&&(this._imageSmoothingEnabled=X,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(X){X.msImageSmoothingEnabled=this._imageSmoothingEnabled,X.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(X){var ne=this._getContext(X).canvas;return new W.Point(ne.width,ne.height)},getCanvasCenter:function(){return new W.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(X){var ne=X.point?X.point.times(W.pixelDensityRatio):this.getCanvasCenter(),oe=this._getContext(X.useSketch);oe.save(),oe.translate(ne.x,ne.y),this.viewer.viewport.flipped?(oe.rotate(Math.PI/180*-X.degrees),oe.scale(-1,1)):oe.rotate(Math.PI/180*X.degrees),oe.translate(-ne.x,-ne.y)},_flip:function(X){X=X||{};var ne=X.point?X.point.times(W.pixelDensityRatio):this.getCanvasCenter(),oe=this._getContext(X.useSketch);oe.translate(ne.x,0),oe.scale(-1,1),oe.translate(-ne.x,0)},_restoreRotationChanges:function(X){var ne=this._getContext(X);ne.restore()},_calculateCanvasSize:function(){var X=W.pixelDensityRatio,ne=this.viewport.getContainerSize();return{x:Math.round(ne.x*X),y:Math.round(ne.y*X)}},_calculateSketchCanvasSize:function(){var X=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return X;var ne=Math.ceil(Math.sqrt(X.x*X.x+X.y*X.y));return{x:ne,y:ne}}}}(U),function(W){W.Viewport=function(X){var ne=arguments;ne.length&&ne[0]instanceof W.Point&&(X={containerSize:ne[0],contentSize:ne[1],config:ne[2]}),X.config&&(W.extend(!0,X,X.config),delete X.config),this._margins=W.extend({left:0,top:0,right:0,bottom:0},X.margins||{}),delete X.margins,W.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:W.DEFAULT_SETTINGS.springStiffness,animationTime:W.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:W.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:W.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:W.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:W.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:W.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:W.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:W.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:W.DEFAULT_SETTINGS.maxZoomLevel,degrees:W.DEFAULT_SETTINGS.degrees,flipped:W.DEFAULT_SETTINGS.flipped,homeFillsViewer:W.DEFAULT_SETTINGS.homeFillsViewer,silenceMultiImageWarnings:W.DEFAULT_SETTINGS.silenceMultiImageWarnings},X),this._updateContainerInnerSize(),this.centerSpringX=new W.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new W.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new W.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new W.Rect(0,0,1,1),1),this.goHome(!0),this.update()},W.Viewport.prototype={resetContentSize:function(X){return W.console.assert(X,"[Viewport.resetContentSize] contentSize is required"),W.console.assert(X instanceof W.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),W.console.assert(X.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),W.console.assert(X.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new W.Rect(0,0,1,X.y/X.x),X.x),this},setHomeBounds:function(X,ne){W.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(X,ne)},_setContentBounds:function(X,ne){W.console.assert(X,"[Viewport._setContentBounds] bounds is required"),W.console.assert(X instanceof W.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),W.console.assert(X.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),W.console.assert(X.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=X.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(ne),this._contentBounds=X.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(ne),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:ne,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var X=this._contentAspectRatio/this.getAspectRatio(),ne;return this.homeFillsViewer?ne=X>=1?X:1:ne=X>=1?1:X,ne/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var X=this._contentBounds.getCenter(),ne=1/this.getHomeZoom(),oe=ne/this.getAspectRatio();return new W.Rect(X.x-ne/2,X.y-oe/2,ne,oe)},goHome:function(X){return this.viewer&&this.viewer.raiseEvent("home",{immediately:X}),this.fitBounds(this.getHomeBounds(),X)},getMinZoom:function(){var X=this.getHomeZoom(),ne=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*X;return ne},getMaxZoom:function(){var X=this.maxZoomLevel;return X||(X=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,X/=this._contentBounds.width),Math.max(X,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new W.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return W.extend({},this._margins)},setMargins:function(X){W.console.assert(W.type(X)==="object","[Viewport.setMargins] margins must be an object"),this._margins=W.extend({left:0,top:0,right:0,bottom:0},X),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(X){return this.getBoundsNoRotate(X).rotate(-this.getRotation())},getBoundsNoRotate:function(X){var ne=this.getCenter(X),oe=1/this.getZoom(X),le=oe/this.getAspectRatio();return new W.Rect(ne.x-oe/2,ne.y-le/2,oe,le)},getBoundsWithMargins:function(X){return this.getBoundsNoRotateWithMargins(X).rotate(-this.getRotation(),this.getCenter(X))},getBoundsNoRotateWithMargins:function(X){var ne=this.getBoundsNoRotate(X),oe=this._containerInnerSize.x*this.getZoom(X);return ne.x-=this._margins.left/oe,ne.y-=this._margins.top/oe,ne.width+=(this._margins.left+this._margins.right)/oe,ne.height+=(this._margins.top+this._margins.bottom)/oe,ne},getCenter:function(X){var ne=new W.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),oe=new W.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),le,se,ue,ce,fe,me,ve,be;return X?ne:this.zoomPoint?(le=this.pixelFromPoint(this.zoomPoint,!0),se=this.getZoom(),ue=1/se,ce=ue/this.getAspectRatio(),fe=new W.Rect(ne.x-ue/2,ne.y-ce/2,ue,ce),me=this._pixelFromPoint(this.zoomPoint,fe),ve=me.minus(le),be=ve.divide(this._containerInnerSize.x*se),oe.plus(be)):oe},getZoom:function(X){return X?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(X){return Math.max(Math.min(X,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(X){var ne=new W.Rect(X.x,X.y,X.width,X.height);if(!this.wrapHorizontal){var oe=this.visibilityRatio*ne.width,le=ne.x+ne.width,se=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,ue=this._contentBoundsNoRotate.x-le+oe,ce=se-ne.x-oe;oe>this._contentBoundsNoRotate.width?ne.x+=(ue+ce)/2:ce<0?ne.x+=ce:ue>0&&(ne.x+=ue)}if(!this.wrapVertical){var fe=this.visibilityRatio*ne.height,me=ne.y+ne.height,ve=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,be=this._contentBoundsNoRotate.y-me+fe,Se=ve-ne.y-fe;fe>this._contentBoundsNoRotate.height?ne.y+=(be+Se)/2:Se<0?ne.y+=Se:be>0&&(ne.y+=be)}return ne},_raiseConstraintsEvent:function(X){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:X})},applyConstraints:function(X){var ne=this.getZoom(),oe=this._applyZoomConstraints(ne);ne!==oe&&this.zoomTo(oe,this.zoomPoint,X);var le=this.getBoundsNoRotate(),se=this._applyBoundaryConstraints(le);return this._raiseConstraintsEvent(X),(le.x!==se.x||le.y!==se.y||X)&&this.fitBounds(se.rotate(-this.getRotation()),X),this},ensureVisible:function(X){return this.applyConstraints(X)},_fitBounds:function(X,ne){ne=ne||{};var oe=ne.immediately||!1,le=ne.constraints||!1,se=this.getAspectRatio(),ue=X.getCenter(),ce=new W.Rect(X.x,X.y,X.width,X.height,X.degrees+this.getRotation()).getBoundingBox();ce.getAspectRatio()>=se?ce.height=ce.width/se:ce.width=ce.height*se,ce.x=ue.x-ce.width/2,ce.y=ue.y-ce.height/2;var fe=1/ce.width;if(le){var me=ce.getAspectRatio(),ve=this._applyZoomConstraints(fe);fe!==ve&&(fe=ve,ce.width=1/fe,ce.x=ue.x-ce.width/2,ce.height=ce.width/me,ce.y=ue.y-ce.height/2),ce=this._applyBoundaryConstraints(ce),ue=ce.getCenter(),this._raiseConstraintsEvent(oe)}if(oe)return this.panTo(ue,!0),this.zoomTo(fe,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var be=this.getBounds(),Se=this.getZoom();if(Se===0||Math.abs(fe/Se-1)<1e-8)return this.zoomTo(fe,!0),this.panTo(ue,oe);ce=ce.rotate(-this.getRotation());var _e=ce.getTopLeft().times(fe).minus(be.getTopLeft().times(Se)).divide(fe-Se);return this.zoomTo(fe,_e,oe)},fitBounds:function(X,ne){return this._fitBounds(X,{immediately:ne,constraints:!1})},fitBoundsWithConstraints:function(X,ne){return this._fitBounds(X,{immediately:ne,constraints:!0})},fitVertically:function(X){var ne=new W.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(ne,X)},fitHorizontally:function(X){var ne=new W.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(ne,X)},getConstrainedBounds:function(X){var ne,oe;return ne=this.getBounds(X),oe=this._applyBoundaryConstraints(ne),oe},panBy:function(X,ne){var oe=new W.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(oe.plus(X),ne)},panTo:function(X,ne){return ne?(this.centerSpringX.resetTo(X.x),this.centerSpringY.resetTo(X.y)):(this.centerSpringX.springTo(X.x),this.centerSpringY.springTo(X.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:X,immediately:ne}),this},zoomBy:function(X,ne,oe){return this.zoomTo(this.zoomSpring.target.value*X,ne,oe)},zoomTo:function(X,ne,oe){var le=this;return this.zoomPoint=ne instanceof W.Point&&!isNaN(ne.x)&&!isNaN(ne.y)?ne:null,oe?this._adjustCenterSpringsForZoomPoint(function(){le.zoomSpring.resetTo(X)}):this.zoomSpring.springTo(X),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:X,refPoint:ne,immediately:oe}),this},setRotation:function(X){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=W.positiveModulo(X,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:X}),this)},getRotation:function(){return this.degrees},resize:function(X,ne){var oe=this.getBoundsNoRotate(),le=oe,se;return this.containerSize.x=X.x,this.containerSize.y=X.y,this._updateContainerInnerSize(),ne&&(se=X.x/this.containerSize.x,le.width=oe.width*se,le.height=le.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:X,maintain:ne}),this.fitBounds(le,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new W.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var X=this;this._adjustCenterSpringsForZoomPoint(function(){X.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var ne=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,ne},_adjustCenterSpringsForZoomPoint:function(X){if(this.zoomPoint){var ne=this.pixelFromPoint(this.zoomPoint,!0);X();var oe=this.pixelFromPoint(this.zoomPoint,!0),le=oe.minus(ne),se=this.deltaPointsFromPixels(le,!0);this.centerSpringX.shiftBy(se.x),this.centerSpringY.shiftBy(se.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else X()},deltaPixelsFromPointsNoRotate:function(X,ne){return X.times(this._containerInnerSize.x*this.getZoom(ne))},deltaPixelsFromPoints:function(X,ne){return this.deltaPixelsFromPointsNoRotate(X.rotate(this.getRotation()),ne)},deltaPointsFromPixelsNoRotate:function(X,ne){return X.divide(this._containerInnerSize.x*this.getZoom(ne))},deltaPointsFromPixels:function(X,ne){return this.deltaPointsFromPixelsNoRotate(X,ne).rotate(-this.getRotation())},pixelFromPointNoRotate:function(X,ne){return this._pixelFromPointNoRotate(X,this.getBoundsNoRotate(ne))},pixelFromPoint:function(X,ne){return this._pixelFromPoint(X,this.getBoundsNoRotate(ne))},_pixelFromPointNoRotate:function(X,ne){return X.minus(ne.getTopLeft()).times(this._containerInnerSize.x/ne.width).plus(new W.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(X,ne){return this._pixelFromPointNoRotate(X.rotate(this.getRotation(),this.getCenter(!0)),ne)},pointFromPixelNoRotate:function(X,ne){var oe=this.getBoundsNoRotate(ne);return X.minus(new W.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/oe.width).plus(oe.getTopLeft())},pointFromPixel:function(X,ne){return this.pointFromPixelNoRotate(X,ne).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(X,ne){var oe=this._contentBoundsNoRotate.width;return new W.Point(X*this._contentSizeNoRotate.x/oe,ne*this._contentSizeNoRotate.x/oe)},viewportToImageCoordinates:function(X,ne){if(X instanceof W.Point)return this.viewportToImageCoordinates(X.x,X.y);if(this.viewer){var oe=this.viewer.world.getItemCount();if(oe>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(oe===1){var le=this.viewer.world.getItemAt(0);return le.viewportToImageCoordinates(X,ne,!0)}}return this._viewportToImageDelta(X-this._contentBoundsNoRotate.x,ne-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(X,ne){var oe=this._contentBoundsNoRotate.width;return new W.Point(X/this._contentSizeNoRotate.x*oe,ne/this._contentSizeNoRotate.x*oe)},imageToViewportCoordinates:function(X,ne){if(X instanceof W.Point)return this.imageToViewportCoordinates(X.x,X.y);if(this.viewer){var oe=this.viewer.world.getItemCount();if(oe>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(oe===1){var le=this.viewer.world.getItemAt(0);return le.imageToViewportCoordinates(X,ne,!0)}}var se=this._imageToViewportDelta(X,ne);return se.x+=this._contentBoundsNoRotate.x,se.y+=this._contentBoundsNoRotate.y,se},imageToViewportRectangle:function(X,ne,oe,le){var se=X;if(se instanceof W.Rect||(se=new W.Rect(X,ne,oe,le)),this.viewer){var ue=this.viewer.world.getItemCount();if(ue>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(ue===1){var ce=this.viewer.world.getItemAt(0);return ce.imageToViewportRectangle(X,ne,oe,le,!0)}}var fe=this.imageToViewportCoordinates(se.x,se.y),me=this._imageToViewportDelta(se.width,se.height);return new W.Rect(fe.x,fe.y,me.x,me.y,se.degrees)},viewportToImageRectangle:function(X,ne,oe,le){var se=X;if(se instanceof W.Rect||(se=new W.Rect(X,ne,oe,le)),this.viewer){var ue=this.viewer.world.getItemCount();if(ue>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(ue===1){var ce=this.viewer.world.getItemAt(0);return ce.viewportToImageRectangle(X,ne,oe,le,!0)}}var fe=this.viewportToImageCoordinates(se.x,se.y),me=this._viewportToImageDelta(se.width,se.height);return new W.Rect(fe.x,fe.y,me.x,me.y,se.degrees)},viewerElementToImageCoordinates:function(X){var ne=this.pointFromPixel(X,!0);return this.viewportToImageCoordinates(ne)},imageToViewerElementCoordinates:function(X){var ne=this.imageToViewportCoordinates(X);return this.pixelFromPoint(ne,!0)},windowToImageCoordinates:function(X){W.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var ne=X.minus(W.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(ne)},imageToWindowCoordinates:function(X){W.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var ne=this.imageToViewerElementCoordinates(X);return ne.plus(W.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(X){return this.pointFromPixel(X,!0)},viewportToViewerElementCoordinates:function(X){return this.pixelFromPoint(X,!0)},viewerElementToViewportRectangle:function(X){return W.Rect.fromSummits(this.pointFromPixel(X.getTopLeft(),!0),this.pointFromPixel(X.getTopRight(),!0),this.pointFromPixel(X.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(X){return W.Rect.fromSummits(this.pixelFromPoint(X.getTopLeft(),!0),this.pixelFromPoint(X.getTopRight(),!0),this.pixelFromPoint(X.getBottomLeft(),!0))},windowToViewportCoordinates:function(X){W.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var ne=X.minus(W.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(ne)},viewportToWindowCoordinates:function(X){W.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var ne=this.viewportToViewerElementCoordinates(X);return ne.plus(W.getElementPosition(this.viewer.element))},viewportToImageZoom:function(X){if(this.viewer){var ne=this.viewer.world.getItemCount();if(ne>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(ne===1){var oe=this.viewer.world.getItemAt(0);return oe.viewportToImageZoom(X)}}var le=this._contentSizeNoRotate.x,se=this._containerInnerSize.x,ue=this._contentBoundsNoRotate.width,ce=se/le*ue;return X*ce},imageToViewportZoom:function(X){if(this.viewer){var ne=this.viewer.world.getItemCount();if(ne>1)this.silenceMultiImageWarnings||W.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(ne===1){var oe=this.viewer.world.getItemAt(0);return oe.imageToViewportZoom(X)}}var le=this._contentSizeNoRotate.x,se=this._containerInnerSize.x,ue=this._contentBoundsNoRotate.width,ce=le/se/ue;return X*ce},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(X){return this.flipped===X?this:(this.flipped=X,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:X}),this)}}}(U),function(W){W.TiledImage=function(se){var ue=this;W.console.assert(se.tileCache,"[TiledImage] options.tileCache is required"),W.console.assert(se.drawer,"[TiledImage] options.drawer is required"),W.console.assert(se.viewer,"[TiledImage] options.viewer is required"),W.console.assert(se.imageLoader,"[TiledImage] options.imageLoader is required"),W.console.assert(se.source,"[TiledImage] options.source is required"),W.console.assert(!se.clip||se.clip instanceof W.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),W.EventSource.call(this),this._tileCache=se.tileCache,delete se.tileCache,this._drawer=se.drawer,delete se.drawer,this._imageLoader=se.imageLoader,delete se.imageLoader,se.clip instanceof W.Rect&&(this._clip=se.clip.clone()),delete se.clip;var ce=se.x||0;delete se.x;var fe=se.y||0;delete se.y,this.normHeight=se.source.dimensions.y/se.source.dimensions.x,this.contentAspectX=se.source.dimensions.x/se.source.dimensions.y;var me=1;se.width?(me=se.width,delete se.width,se.height&&(W.console.error("specifying both width and height to a tiledImage is not supported"),delete se.height)):se.height&&(me=se.height/this.normHeight,delete se.height);var ve=se.fitBounds;delete se.fitBounds;var be=se.fitBoundsPlacement||U.Placement.CENTER;delete se.fitBoundsPlacement;var Se=se.degrees||0;delete se.degrees,W.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:W.DEFAULT_SETTINGS.springStiffness,animationTime:W.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:W.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:W.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:W.DEFAULT_SETTINGS.wrapVertical,immediateRender:W.DEFAULT_SETTINGS.immediateRender,blendTime:W.DEFAULT_SETTINGS.blendTime,alwaysBlend:W.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:W.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:W.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:W.DEFAULT_SETTINGS.iOSDevice,debugMode:W.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:W.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:W.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:W.DEFAULT_SETTINGS.placeholderFillStyle,opacity:W.DEFAULT_SETTINGS.opacity,preload:W.DEFAULT_SETTINGS.preload,compositeOperation:W.DEFAULT_SETTINGS.compositeOperation,subPixelRoundingForTransparency:W.DEFAULT_SETTINGS.subPixelRoundingForTransparency},se),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new W.Spring({initial:ce,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new W.Spring({initial:fe,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new W.Spring({initial:me,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new W.Spring({initial:Se,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),ve&&this.fitBounds(ve,be,!0),this._drawingHandler=function(_e){ue.viewer.raiseEvent("tile-drawing",W.extend({tiledImage:ue},_e))}},W.extend(W.TiledImage.prototype,W.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(se){se!==this._fullyLoaded&&(this._fullyLoaded=se,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=W.now(),this._needsDraw=!0},update:function(){var se=this._xSpring.update(),ue=this._ySpring.update(),ce=this._scaleSpring.update(),fe=this._degreesSpring.update();return se||ue||ce||fe?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(se){return this.getBoundsNoRotate(se).rotate(this.getRotation(se),this._getRotationPoint(se))},getBoundsNoRotate:function(se){return se?new W.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new W.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return W.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(se){var ue=this.getBoundsNoRotate(se);if(this._clip){var ce=se?this._worldWidthCurrent:this._worldWidthTarget,fe=ce/this.source.dimensions.x,me=this._clip.times(fe);ue=new W.Rect(ue.x+me.x,ue.y+me.y,me.width,me.height)}return ue.rotate(this.getRotation(se),this._getRotationPoint(se))},getTileBounds:function(se,ue,ce){var fe=this.source.getNumTiles(se),me=(fe.x+ue%fe.x)%fe.x,ve=(fe.y+ce%fe.y)%fe.y,be=this.source.getTileBounds(se,me,ve);return this.getFlip()&&(be.x=1-be.x-be.width),be.x+=(ue-me)/fe.x,be.y+=this._worldHeightCurrent/this._worldWidthCurrent*((ce-ve)/fe.y),be},getContentSize:function(){return new W.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var se=this.imageToWindowCoordinates(new W.Point(0,0)),ue=this.imageToWindowCoordinates(this.getContentSize());return new W.Point(ue.x-se.x,ue.y-se.y)},_viewportToImageDelta:function(se,ue,ce){var fe=ce?this._scaleSpring.current.value:this._scaleSpring.target.value;return new W.Point(se*(this.source.dimensions.x/fe),ue*(this.source.dimensions.y*this.contentAspectX/fe))},viewportToImageCoordinates:function(se,ue,ce){var fe;return se instanceof W.Point?(ce=ue,fe=se):fe=new W.Point(se,ue),fe=fe.rotate(-this.getRotation(ce),this._getRotationPoint(ce)),ce?this._viewportToImageDelta(fe.x-this._xSpring.current.value,fe.y-this._ySpring.current.value):this._viewportToImageDelta(fe.x-this._xSpring.target.value,fe.y-this._ySpring.target.value)},_imageToViewportDelta:function(se,ue,ce){var fe=ce?this._scaleSpring.current.value:this._scaleSpring.target.value;return new W.Point(se/this.source.dimensions.x*fe,ue/this.source.dimensions.y/this.contentAspectX*fe)},imageToViewportCoordinates:function(se,ue,ce){se instanceof W.Point&&(ce=ue,ue=se.y,se=se.x);var fe=this._imageToViewportDelta(se,ue);return ce?(fe.x+=this._xSpring.current.value,fe.y+=this._ySpring.current.value):(fe.x+=this._xSpring.target.value,fe.y+=this._ySpring.target.value),fe.rotate(this.getRotation(ce),this._getRotationPoint(ce))},imageToViewportRectangle:function(se,ue,ce,fe,me){var ve=se;ve instanceof W.Rect?me=ue:ve=new W.Rect(se,ue,ce,fe);var be=this.imageToViewportCoordinates(ve.getTopLeft(),me),Se=this._imageToViewportDelta(ve.width,ve.height,me);return new W.Rect(be.x,be.y,Se.x,Se.y,ve.degrees+this.getRotation(me))},viewportToImageRectangle:function(se,ue,ce,fe,me){var ve=se;se instanceof W.Rect?me=ue:ve=new W.Rect(se,ue,ce,fe);var be=this.viewportToImageCoordinates(ve.getTopLeft(),me),Se=this._viewportToImageDelta(ve.width,ve.height,me);return new W.Rect(be.x,be.y,Se.x,Se.y,ve.degrees-this.getRotation(me))},viewerElementToImageCoordinates:function(se){var ue=this.viewport.pointFromPixel(se,!0);return this.viewportToImageCoordinates(ue)},imageToViewerElementCoordinates:function(se){var ue=this.imageToViewportCoordinates(se);return this.viewport.pixelFromPoint(ue,!0)},windowToImageCoordinates:function(se){var ue=se.minus(U.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(ue)},imageToWindowCoordinates:function(se){var ue=this.imageToViewerElementCoordinates(se);return ue.plus(U.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(se){var ue=this._scaleSpring.current.value;return se=se.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new W.Rect((se.x-this._xSpring.current.value)/ue,(se.y-this._ySpring.current.value)/ue,se.width/ue,se.height/ue,se.degrees)},viewportToImageZoom:function(se){var ue=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return ue*se},imageToViewportZoom:function(se){var ue=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return se/ue},setPosition:function(se,ue){var ce=this._xSpring.target.value===se.x&&this._ySpring.target.value===se.y;if(ue){if(ce&&this._xSpring.current.value===se.x&&this._ySpring.current.value===se.y)return;this._xSpring.resetTo(se.x),this._ySpring.resetTo(se.y),this._needsDraw=!0}else{if(ce)return;this._xSpring.springTo(se.x),this._ySpring.springTo(se.y),this._needsDraw=!0}ce||this._raiseBoundsChange()},setWidth:function(se,ue){this._setScale(se,ue)},setHeight:function(se,ue){this._setScale(se/this.normHeight,ue)},setCroppingPolygons:function(se){var ue=function(fe){return fe instanceof W.Point||typeof fe.x=="number"&&typeof fe.y=="number"},ce=function(fe){return fe.map(function(me){try{if(ue(me))return{x:me.x,y:me.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!W.isArray(se))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=se.map(function(fe){return ce(fe)})}catch(fe){W.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),W.console.error(fe),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(se,ue,ce){ue=ue||W.Placement.CENTER;var fe=W.Placement.properties[ue],me=this.contentAspectX,ve=0,be=0,Se=1,_e=1;if(this._clip&&(me=this._clip.getAspectRatio(),Se=this._clip.width/this.source.dimensions.x,_e=this._clip.height/this.source.dimensions.y,se.getAspectRatio()>me?(ve=this._clip.x/this._clip.height*se.height,be=this._clip.y/this._clip.height*se.height):(ve=this._clip.x/this._clip.width*se.width,be=this._clip.y/this._clip.width*se.width)),se.getAspectRatio()>me){var Ae=se.height/_e,ke=0;fe.isHorizontallyCentered?ke=(se.width-se.height*me)/2:fe.isRight&&(ke=se.width-se.height*me),this.setPosition(new W.Point(se.x-ve+ke,se.y-be),ce),this.setHeight(Ae,ce)}else{var Me=se.width/Se,Le=0;fe.isVerticallyCentered?Le=(se.height-se.width/me)/2:fe.isBottom&&(Le=se.height-se.width/me),this.setPosition(new W.Point(se.x-ve,se.y-be+Le),ce),this.setWidth(Me,ce)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(se){W.console.assert(!se||se instanceof W.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),se instanceof W.Rect?this._clip=se.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(se){this.flipped=!!se,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(se){se!==this.opacity&&(this.opacity=se,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(se){this._preload=!!se,this._needsDraw=!0},getRotation:function(se){return se?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(se,ue){this._degreesSpring.target.value===se&&this._degreesSpring.isAtTargetValue()||(ue?this._degreesSpring.resetTo(se):this._degreesSpring.springTo(se),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(se){return this.getBoundsNoRotate(se).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(se){se!==this.compositeOperation&&(this.compositeOperation=se,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(se,ue){var ce=this._scaleSpring.target.value===se;if(ue){if(ce&&this._scaleSpring.current.value===se)return;this._scaleSpring.resetTo(se),this._updateForScale(),this._needsDraw=!0}else{if(ce)return;this._scaleSpring.springTo(se),this._updateForScale(),this._needsDraw=!0}ce||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var se=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),ue=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,ce=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(ue/this.minPixelRatio)/Math.log(2))));return ce=Math.max(ce,this.source.minLevel||0),se=Math.min(se,ce),{lowestLevel:se,highestLevel:ce}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var se=this.lastDrawn.pop();se.beingDrawn=!1}var ue=this.viewport,ce=this._viewportToTiledImageRectangle(ue.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var fe=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(ce=ce.intersection(fe),ce===null)return}for(var me=this._getLevelsInterval(),ve=me.lowestLevel,be=me.highestLevel,Se=null,_e=!1,Ae=W.now(),ke=be;ke>=ve;ke--){var Me=!1,Le=ue.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ke),!0).x*this._scaleSpring.current.value;if(ke===ve||!_e&&Le>=this.minPixelRatio)Me=!0,_e=!0;else if(!_e)continue;var qe=ue.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ke),!1).x*this._scaleSpring.current.value,Je=ue.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Fe=this.immediateRender?1:Je,Ve=Math.min(1,(Le-.5)/.5),Ze=Fe/Math.abs(Fe-qe);if(Se=this._updateLevel(_e,Me,ke,Ve,Ze,ce,Ae,Se),this._providesCoverage(this.coverage,ke))break}this._drawTiles(this.lastDrawn),Se&&!Se.context2D?(this._loadTile(Se,Ae),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(se,ue,ce){var fe,me;this.wrapHorizontal?(fe=W.positiveModulo(ue.x,1),me=W.positiveModulo(ce.x,1)):(fe=Math.max(0,ue.x),me=Math.min(1,ce.x));var ve,be,Se=1/this.source.aspectRatio;this.wrapVertical?(ve=W.positiveModulo(ue.y,Se),be=W.positiveModulo(ce.y,Se)):(ve=Math.max(0,ue.y),be=Math.min(Se,ce.y));var _e=this.source.getTileAtPoint(se,new W.Point(fe,ve)),Ae=this.source.getTileAtPoint(se,new W.Point(me,be)),ke=this.source.getNumTiles(se);return this.wrapHorizontal&&(_e.x+=ke.x*Math.floor(ue.x),Ae.x+=ke.x*Math.floor(ce.x)),this.wrapVertical&&(_e.y+=ke.y*Math.floor(ue.y/Se),Ae.y+=ke.y*Math.floor(ce.y/Se)),{topLeft:_e,bottomRight:Ae}},_updateLevel:function(se,ue,ce,fe,me,ve,be,Se){var _e=ve.getBoundingBox().getTopLeft(),Ae=ve.getBoundingBox().getBottomRight();this.viewer&&this.viewer.raiseEvent("update-level",{tiledImage:this,havedrawn:se,level:ce,opacity:fe,visibility:me,drawArea:ve,topleft:_e,bottomright:Ae,currenttime:be,best:Se}),this._resetCoverage(this.coverage,ce),this._resetCoverage(this.loadingCoverage,ce);var ke=this._getCornerTiles(ce,_e,Ae),Me=ke.topLeft,Le=ke.bottomRight,qe=this.source.getNumTiles(ce),Je=this.viewport.pixelFromPoint(this.viewport.getCenter());this.getFlip()&&(Le.x+=1,this.wrapHorizontal||(Le.x=Math.min(Le.x,qe.x-1)));for(var Fe=Me.x;Fe<=Le.x;Fe++)for(var Ve=Me.y;Ve<=Le.y;Ve++){var Ze;if(this.getFlip()){var Xe=(qe.x+Fe%qe.x)%qe.x;Ze=Fe+qe.x-Xe-Xe-1}else Ze=Fe;ve.intersection(this.getTileBounds(ce,Ze,Ve))!==null&&(Se=this._updateTile(ue,se,Ze,Ve,ce,fe,me,Je,qe,be,Se))}return Se},_updateTile:function(se,ue,ce,fe,me,ve,be,Se,_e,Ae,ke){var Me=this._getTile(ce,fe,me,Ae,_e,this._worldWidthCurrent,this._worldHeightCurrent),Le=ue;this.viewer&&this.viewer.raiseEvent("update-tile",{tiledImage:this,tile:Me}),this._setCoverage(this.coverage,me,ce,fe,!1);var qe=Me.loaded||Me.loading||this._isCovered(this.loadingCoverage,me,ce,fe);if(this._setCoverage(this.loadingCoverage,me,ce,fe,qe),!Me.exists||(se&&!Le&&(this._isCovered(this.coverage,me,ce,fe)?this._setCoverage(this.coverage,me,ce,fe,!0):Le=!0),!Le))return ke;if(this._positionTile(Me,this.source.tileOverlap,this.viewport,Se,be),!Me.loaded)if(Me.context2D)this._setTileLoaded(Me);else{var Je=this._tileCache.getImageRecord(Me.cacheKey);if(Je){var Fe=Je.getImage();this._setTileLoaded(Me,Fe)}}if(Me.loaded){var Ve=this._blendTile(Me,ce,fe,me,ve,Ae);Ve&&(this._needsDraw=!0)}else Me.loading?this._tilesLoading++:qe||(ke=this._compareTiles(ke,Me));return ke},_getTile:function(se,ue,ce,fe,me,ve,be){var Se,_e,Ae,ke,Me,Le,qe,Je,Fe,Ve,Ze=this.tilesMatrix,Xe=this.source;return Ze[ce]||(Ze[ce]={}),Ze[ce][se]||(Ze[ce][se]={}),(!Ze[ce][se][ue]||!Ze[ce][se][ue].flipped!=!this.flipped)&&(Se=(me.x+se%me.x)%me.x,_e=(me.y+ue%me.y)%me.y,Ae=this.getTileBounds(ce,se,ue),ke=Xe.getTileBounds(ce,Se,_e,!0),Me=Xe.tileExists(ce,Se,_e),Le=Xe.getTileUrl(ce,Se,_e),qe=Xe.getTilePostData(ce,Se,_e),this.loadTilesWithAjax?(Je=Xe.getTileAjaxHeaders(ce,Se,_e),W.isPlainObject(this.ajaxHeaders)&&(Je=W.extend({},this.ajaxHeaders,Je))):Je=null,Fe=Xe.getContext2D?Xe.getContext2D(ce,Se,_e):void 0,Ve=new W.Tile(ce,se,ue,Ae,Me,Le,Fe,this.loadTilesWithAjax,Je,ke,qe,Xe.getTileHashKey(ce,Se,_e,Le,Je,qe)),this.getFlip()?Se===0&&(Ve.isRightMost=!0):Se===me.x-1&&(Ve.isRightMost=!0),_e===me.y-1&&(Ve.isBottomMost=!0),Ve.flipped=this.flipped,Ze[ce][se][ue]=Ve),Ve=Ze[ce][se][ue],Ve.lastTouchTime=fe,Ve},_loadTile:function(se,ue){var ce=this;se.loading=!0,this._imageLoader.addJob({src:se.url,postData:se.postData,loadWithAjax:se.loadWithAjax,ajaxHeaders:se.ajaxHeaders,crossOriginPolicy:this.crossOriginPolicy,ajaxWithCredentials:this.ajaxWithCredentials,callback:function(fe,me,ve){ce._onTileLoad(se,ue,fe,me,ve)},abort:function(){se.loading=!1}})},_onTileLoad:function(se,ue,ce,fe,me){if(!ce){W.console.error("Tile %s failed to load: %s - error: %s",se,se.url,fe),this.viewer.raiseEvent("tile-load-failed",{tile:se,tiledImage:this,time:ue,message:fe,tileRequest:me}),se.loading=!1,se.exists=!1;return}if(ue<this.lastResetTime){W.console.warn("Ignoring tile %s loaded before reset: %s",se,se.url),se.loading=!1;return}var ve=this,be=function(){var Se=ve.source,_e=Se.getClosestLevel();ve._setTileLoaded(se,ce,_e,me)};this._midDraw?window.setTimeout(be,1):be()},_setTileLoaded:function(se,ue,ce,fe){var me=0,ve=this;function be(){return me++,Se}function Se(){me--,me===0&&(se.loading=!1,se.loaded=!0,se.context2D||ve._tileCache.cacheTile({image:ue,tile:se,cutoff:ce,tiledImage:ve}),ve._needsDraw=!0)}this.viewer.raiseEvent("tile-loaded",{tile:se,tiledImage:this,tileRequest:fe,image:ue,getCompletionCallback:be}),be()()},_positionTile:function(se,ue,ce,fe,me){var ve=se.bounds.getTopLeft();ve.x*=this._scaleSpring.current.value,ve.y*=this._scaleSpring.current.value,ve.x+=this._xSpring.current.value,ve.y+=this._ySpring.current.value;var be=se.bounds.getSize();be.x*=this._scaleSpring.current.value,be.y*=this._scaleSpring.current.value;var Se=ce.pixelFromPointNoRotate(ve,!0),_e=ce.pixelFromPointNoRotate(ve,!1),Ae=ce.deltaPixelsFromPointsNoRotate(be,!0),ke=ce.deltaPixelsFromPointsNoRotate(be,!1),Me=_e.plus(ke.divide(2)),Le=fe.squaredDistanceTo(Me);ue||(Ae=Ae.plus(new W.Point(1,1))),se.isRightMost&&this.wrapHorizontal&&(Ae.x+=.75),se.isBottomMost&&this.wrapVertical&&(Ae.y+=.75),se.position=Se,se.size=Ae,se.squaredDistance=Le,se.visibility=me},_blendTile:function(se,ue,ce,fe,me,ve){var be=1e3*this.blendTime,Se,_e;if(se.blendStart||(se.blendStart=ve),Se=ve-se.blendStart,_e=be?Math.min(1,Se/be):1,this.alwaysBlend&&(_e*=me),se.opacity=_e,this.lastDrawn.push(se),_e===1)this._setCoverage(this.coverage,fe,ue,ce,!0),this._hasOpaqueTile=!0;else if(Se<be)return!0;return!1},_compareTiles:function(se,ue){return!se||ue.visibility>se.visibility||ue.visibility===se.visibility&&ue.squaredDistance<se.squaredDistance?ue:se},_drawTiles:function(se){if(!(this.opacity===0||se.length===0&&!this.placeholderFillStyle)){var ue=se[0],ce;ue&&(ce=this.opacity<1||this.compositeOperation&&this.compositeOperation!=="source-over"||!this._isBottomItem()&&ue._hasTransparencyChannel());var fe,me,ve=this.viewport.getZoom(!0),be=this.viewportToImageZoom(ve);se.length>1&&be>this.smoothTileEdgesMinZoom&&!this.iOSDevice&&this.getRotation(!0)%360===0&&W.supportsCanvas&&this.viewer.useCanvas&&(ce=!0,fe=ue.getScaleForEdgeSmoothing(),me=ue.getTranslationForEdgeSmoothing(fe,this._drawer.getCanvasSize(!1),this._drawer.getCanvasSize(!0)));var Se;ce&&(fe||(Se=this.viewport.viewportToViewerElementRectangle(this.getClippedBounds(!0)).getIntegerBoundingBox(),this._drawer.viewer.viewport.getFlip()&&(this.viewport.degrees!==0||this.getRotation(!0)%360!==0)&&(Se.x=this._drawer.viewer.container.clientWidth-(Se.x+Se.width)),Se=Se.times(W.pixelDensityRatio)),this._drawer._clear(!0,Se)),fe||(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:ce}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:ce}),this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip());var _e=!1;if(this._clip){this._drawer.saveContext(ce);var Ae=this.imageToViewportRectangle(this._clip,!0);Ae=Ae.rotate(-this.getRotation(!0),this._getRotationPoint(!0));var ke=this._drawer.viewportToDrawerRectangle(Ae);fe&&(ke=ke.times(fe)),me&&(ke=ke.translate(me)),this._drawer.setClip(ke,ce),_e=!0}if(this._croppingPolygons){this._drawer.saveContext(ce);try{var Me=this._croppingPolygons.map(function(Xe){return Xe.map(function(dt){var ht=this.imageToViewportCoordinates(dt.x,dt.y,!0).rotate(-this.getRotation(!0),this._getRotationPoint(!0)),lt=this._drawer.viewportCoordToDrawerCoord(ht);return fe&&(lt=lt.times(fe)),lt})});this._drawer.clipWithPolygons(Me,ce)}catch(Xe){W.console.error(Xe)}_e=!0}if(this.placeholderFillStyle&&this._hasOpaqueTile===!1){var Le=this._drawer.viewportToDrawerRectangle(this.getBounds(!0));fe&&(Le=Le.times(fe)),me&&(Le=Le.translate(me));var qe=null;typeof this.placeholderFillStyle=="function"?qe=this.placeholderFillStyle(this,this._drawer.context):qe=this.placeholderFillStyle,this._drawer.drawRectangle(Le,qe,ce)}var Je=le(this.subPixelRoundingForTransparency),Fe=!1;if(Je===W.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS)Fe=!0;else if(Je===W.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST){var Ve=this.viewer&&this.viewer.isAnimating();Fe=!Ve}for(var Ze=se.length-1;Ze>=0;Ze--)ue=se[Ze],this._drawer.drawTile(ue,this._drawingHandler,ce,fe,me,Fe),ue.beingDrawn=!0,this.viewer&&this.viewer.raiseEvent("tile-drawn",{tiledImage:this,tile:ue});_e&&this._drawer.restoreContext(ce),fe||(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(ce),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(ce)),ce&&(fe&&(this.viewport.degrees!==0&&this._drawer._offsetForRotation({degrees:this.viewport.degrees,useSketch:!1}),this.getRotation(!0)%360!==0&&this._drawer._offsetForRotation({degrees:this.getRotation(!0),point:this.viewport.pixelFromPointNoRotate(this._getRotationPoint(!0),!0),useSketch:!1})),this._drawer.blendSketch({opacity:this.opacity,scale:fe,translate:me,compositeOperation:this.compositeOperation,bounds:Se}),fe&&(this.getRotation(!0)%360!==0&&this._drawer._restoreRotationChanges(!1),this.viewport.degrees!==0&&this._drawer._restoreRotationChanges(!1))),fe||this.viewport.degrees===0&&this.getRotation(!0)%360===0&&this._drawer.viewer.viewport.getFlip()&&this._drawer._flip(),this._drawDebugInfo(se)}},_drawDebugInfo:function(se){if(this.debugMode)for(var ue=se.length-1;ue>=0;ue--){var ce=se[ue];try{this._drawer.drawDebugInfo(ce,se.length,ue,this)}catch(fe){W.console.error(fe)}}},_providesCoverage:function(se,ue,ce,fe){var me,ve,be,Se;if(!se[ue])return!1;if(ce===void 0||fe===void 0){me=se[ue];for(be in me)if(Object.prototype.hasOwnProperty.call(me,be)){ve=me[be];for(Se in ve)if(Object.prototype.hasOwnProperty.call(ve,Se)&&!ve[Se])return!1}return!0}return se[ue][ce]===void 0||se[ue][ce][fe]===void 0||se[ue][ce][fe]===!0},_isCovered:function(se,ue,ce,fe){return ce===void 0||fe===void 0?this._providesCoverage(se,ue+1):this._providesCoverage(se,ue+1,2*ce,2*fe)&&this._providesCoverage(se,ue+1,2*ce,2*fe+1)&&this._providesCoverage(se,ue+1,2*ce+1,2*fe)&&this._providesCoverage(se,ue+1,2*ce+1,2*fe+1)},_setCoverage:function(se,ue,ce,fe,me){if(!se[ue]){W.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",ue);return}se[ue][ce]||(se[ue][ce]={}),se[ue][ce][fe]=me},_resetCoverage:function(se,ue){se[ue]={}}});var X=W.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER;function ne(se){return se!==W.SUBPIXEL_ROUNDING_OCCURRENCES.ALWAYS&&se!==W.SUBPIXEL_ROUNDING_OCCURRENCES.ONLY_AT_REST&&se!==W.SUBPIXEL_ROUNDING_OCCURRENCES.NEVER}function oe(se){return ne(se)?X:se}function le(se){if(typeof se=="number")return oe(se);if(!se||!W.Browser)return X;var ue=se[W.Browser.vendor];return ne(ue)&&(ue=se["*"]),oe(ue)}}(U),function(W){var X=function(oe){W.console.assert(oe,"[TileCache.cacheTile] options is required"),W.console.assert(oe.tile,"[TileCache.cacheTile] options.tile is required"),W.console.assert(oe.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=oe.tile,this.tiledImage=oe.tiledImage},ne=function(oe){W.console.assert(oe,"[ImageRecord] options is required"),W.console.assert(oe.image,"[ImageRecord] options.image is required"),this._image=oe.image,this._tiles=[]};ne.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var oe=document.createElement("canvas");oe.width=this._image.width,oe.height=this._image.height,this._renderedContext=oe.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(oe){W.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=oe},addTile:function(oe){W.console.assert(oe,"[ImageRecord.addTile] tile is required"),this._tiles.push(oe)},removeTile:function(oe){for(var le=0;le<this._tiles.length;le++)if(this._tiles[le]===oe){this._tiles.splice(le,1);return}W.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",oe)},getTileCount:function(){return this._tiles.length}},W.TileCache=function(oe){oe=oe||{},this._maxImageCacheCount=oe.maxImageCacheCount||W.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},W.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(oe){W.console.assert(oe,"[TileCache.cacheTile] options is required"),W.console.assert(oe.tile,"[TileCache.cacheTile] options.tile is required"),W.console.assert(oe.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),W.console.assert(oe.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var le=oe.cutoff||0,se=this._tilesLoaded.length,ue=this._imagesLoaded[oe.tile.cacheKey];if(ue||(W.console.assert(oe.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),ue=this._imagesLoaded[oe.tile.cacheKey]=new ne({image:oe.image}),this._imagesLoadedCount++),ue.addTile(oe.tile),oe.tile.cacheImageRecord=ue,this._imagesLoadedCount>this._maxImageCacheCount){for(var ce=null,fe=-1,me=null,ve,be,Se,_e,Ae,ke,Me=this._tilesLoaded.length-1;Me>=0;Me--)if(ke=this._tilesLoaded[Me],ve=ke.tile,!(ve.level<=le||ve.beingDrawn)){if(!ce){ce=ve,fe=Me,me=ke;continue}_e=ve.lastTouchTime,be=ce.lastTouchTime,Ae=ve.level,Se=ce.level,(_e<be||_e===be&&Ae>Se)&&(ce=ve,fe=Me,me=ke)}ce&&fe>=0&&(this._unloadTile(me),se=fe)}this._tilesLoaded[se]=new X({tile:oe.tile,tiledImage:oe.tiledImage})},clearTilesFor:function(oe){W.console.assert(oe,"[TileCache.clearTilesFor] tiledImage is required");for(var le,se=0;se<this._tilesLoaded.length;++se)le=this._tilesLoaded[se],le.tiledImage===oe&&(this._unloadTile(le),this._tilesLoaded.splice(se,1),se--)},getImageRecord:function(oe){return W.console.assert(oe,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[oe]},_unloadTile:function(oe){W.console.assert(oe,"[TileCache._unloadTile] tileRecord is required");var le=oe.tile,se=oe.tiledImage;le.unload(),le.cacheImageRecord=null;var ue=this._imagesLoaded[le.cacheKey];ue.removeTile(le),ue.getTileCount()||(ue.destroy(),delete this._imagesLoaded[le.cacheKey],this._imagesLoadedCount--),se.viewer.raiseEvent("tile-unloaded",{tile:le,tiledImage:se})}}}(U),function(W){W.World=function(X){var ne=this;W.console.assert(X.viewer,"[World] options.viewer is required"),W.EventSource.call(this),this.viewer=X.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(oe){ne._autoRefigureSizes?ne._figureSizes():ne._needsSizesFigured=!0},this._figureSizes()},W.extend(W.World.prototype,W.EventSource.prototype,{addItem:function(X,ne){if(W.console.assert(X,"[World.addItem] item is required"),W.console.assert(X instanceof W.TiledImage,"[World.addItem] only TiledImages supported at this time"),ne=ne||{},ne.index!==void 0){var oe=Math.max(0,Math.min(this._items.length,ne.index));this._items.splice(oe,0,X)}else this._items.push(X);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,X.addHandler("bounds-change",this._delegatedFigureSizes),X.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:X})},getItemAt:function(X){return W.console.assert(X!==void 0,"[World.getItemAt] index is required"),this._items[X]},getIndexOfItem:function(X){return W.console.assert(X,"[World.getIndexOfItem] item is required"),W.indexOf(this._items,X)},getItemCount:function(){return this._items.length},setItemIndex:function(X,ne){W.console.assert(X,"[World.setItemIndex] item is required"),W.console.assert(ne!==void 0,"[World.setItemIndex] index is required");var oe=this.getIndexOfItem(X);if(ne>=this._items.length)throw new Error("Index bigger than number of layers.");ne===oe||oe===-1||(this._items.splice(oe,1),this._items.splice(ne,0,X),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:X,previousIndex:oe,newIndex:ne}))},removeItem:function(X){W.console.assert(X,"[World.removeItem] item is required");var ne=W.indexOf(this._items,X);ne!==-1&&(X.removeHandler("bounds-change",this._delegatedFigureSizes),X.removeHandler("clip-change",this._delegatedFigureSizes),X.destroy(),this._items.splice(ne,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(X))},removeAll:function(){this.viewer._cancelPendingImages();var X,ne;for(ne=0;ne<this._items.length;ne++)X=this._items[ne],X.removeHandler("bounds-change",this._delegatedFigureSizes),X.removeHandler("clip-change",this._delegatedFigureSizes),X.destroy();var oe=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,ne=0;ne<oe.length;ne++)X=oe[ne],this._raiseRemoveItem(X)},resetItems:function(){for(var X=0;X<this._items.length;X++)this._items[X].reset()},update:function(){for(var X=!1,ne=0;ne<this._items.length;ne++)X=this._items[ne].update()||X;return X},draw:function(){for(var X=0;X<this._items.length;X++)this._items[X].draw();this._needsDraw=!1},needsDraw:function(){for(var X=0;X<this._items.length;X++)if(this._items[X].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(X){this._autoRefigureSizes=X,X&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(X){X=X||{};var ne=X.immediately||!1,oe=X.layout||W.DEFAULT_SETTINGS.collectionLayout,le=X.rows||W.DEFAULT_SETTINGS.collectionRows,se=X.columns||W.DEFAULT_SETTINGS.collectionColumns,ue=X.tileSize||W.DEFAULT_SETTINGS.collectionTileSize,ce=X.tileMargin||W.DEFAULT_SETTINGS.collectionTileMargin,fe=ue+ce,me;!X.rows&&se?me=se:me=Math.ceil(this._items.length/le);var ve=0,be=0,Se,_e,Ae,ke,Me;this.setAutoRefigureSizes(!1);for(var Le=0;Le<this._items.length;Le++)Le&&Le%me===0&&(oe==="horizontal"?(be+=fe,ve=0):(ve+=fe,be=0)),Se=this._items[Le],_e=Se.getBounds(),_e.width>_e.height?Ae=ue:Ae=ue*(_e.width/_e.height),ke=Ae*(_e.height/_e.width),Me=new W.Point(ve+(ue-Ae)/2,be+(ue-ke)/2),Se.setPosition(Me,ne),Se.setWidth(Ae,ne),oe==="horizontal"?ve+=fe:be+=fe;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var X=this._homeBounds?this._homeBounds.clone():null,ne=this._contentSize?this._contentSize.clone():null,oe=this._contentFactor||0;if(!this._items.length)this._homeBounds=new W.Rect(0,0,1,1),this._contentSize=new W.Point(1,1),this._contentFactor=1;else{var le=this._items[0],se=le.getBounds();this._contentFactor=le.getContentSize().x/se.width;for(var ue=le.getClippedBounds().getBoundingBox(),ce=ue.x,fe=ue.y,me=ue.x+ue.width,ve=ue.y+ue.height,be=1;be<this._items.length;be++)le=this._items[be],se=le.getBounds(),this._contentFactor=Math.max(this._contentFactor,le.getContentSize().x/se.width),ue=le.getClippedBounds().getBoundingBox(),ce=Math.min(ce,ue.x),fe=Math.min(fe,ue.y),me=Math.max(me,ue.x+ue.width),ve=Math.max(ve,ue.y+ue.height);this._homeBounds=new W.Rect(ce,fe,me-ce,ve-fe),this._contentSize=new W.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==oe||!this._homeBounds.equals(X)||!this._contentSize.equals(ne))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(X){this.raiseEvent("remove-item",{item:X})}})}(U)})(openseadragon);const OpenSeadragon$1=openseadragon.exports;var openseadragonAnnotorious_min={exports:{}};(function(G,U){(function(W,X){G.exports=X()})(commonjsGlobal,function(){var W=Object.defineProperty,X=(ee,ie,Q)=>ie in ee?W(ee,ie,{enumerable:!0,configurable:!0,writable:!0,value:Q}):ee[ie]=Q,ne=(ee,ie,Q)=>(X(ee,typeof ie!="symbol"?ie+"":ie,Q),Q),oe,le,se,ue,ce,fe,me,ve,be={},Se=[],_e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ae(ee,ie){for(var Q in ie)ee[Q]=ie[Q];return ee}function ke(ee){var ie=ee.parentNode;ie&&ie.removeChild(ee)}function Me(ee,ie,Q){var te,re,ae,de={};for(ae in ie)ae=="key"?te=ie[ae]:ae=="ref"?re=ie[ae]:de[ae]=ie[ae];if(arguments.length>2&&(de.children=arguments.length>3?oe.call(arguments,2):Q),typeof ee=="function"&&ee.defaultProps!=null)for(ae in ee.defaultProps)de[ae]===void 0&&(de[ae]=ee.defaultProps[ae]);return Le(ee,de,te,re,null)}function Le(ee,ie,Q,te,re){var ae={type:ee,props:ie,key:Q,ref:te,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:re==null?++se:re};return re==null&&le.vnode!=null&&le.vnode(ae),ae}function qe(){return{current:null}}function Je(ee){return ee.children}function Fe(ee,ie){this.props=ee,this.context=ie}function Ve(ee,ie){if(ie==null)return ee.__?Ve(ee.__,ee.__.__k.indexOf(ee)+1):null;for(var Q;ie<ee.__k.length;ie++)if((Q=ee.__k[ie])!=null&&Q.__e!=null)return Q.__e;return typeof ee.type=="function"?Ve(ee):null}function Ze(ee){var ie,Q;if((ee=ee.__)!=null&&ee.__c!=null){for(ee.__e=ee.__c.base=null,ie=0;ie<ee.__k.length;ie++)if((Q=ee.__k[ie])!=null&&Q.__e!=null){ee.__e=ee.__c.base=Q.__e;break}return Ze(ee)}}function Xe(ee){(!ee.__d&&(ee.__d=!0)&&ce.push(ee)&&!dt.__r++||me!==le.debounceRendering)&&((me=le.debounceRendering)||fe)(dt)}function dt(){for(var ee;dt.__r=ce.length;)ee=ce.sort(function(ie,Q){return ie.__v.__b-Q.__v.__b}),ce=[],ee.some(function(ie){var Q,te,re,ae,de,he;ie.__d&&(de=(ae=(Q=ie).__v).__e,(he=Q.__P)&&(te=[],(re=Ae({},ae)).__v=ae.__v+1,wt(he,ae,re,Q.__n,he.ownerSVGElement!==void 0,ae.__h!=null?[de]:null,te,de==null?Ve(ae):de,ae.__h),Wt(te,ae),ae.__e!=de&&Ze(ae)))})}function ht(ee,ie,Q,te,re,ae,de,he,pe,ge){var ye,xe,Ee,De,Be,et,Ke,nt=te&&te.__k||Se,Ce=nt.length;for(Q.__k=[],ye=0;ye<ie.length;ye++)if((De=Q.__k[ye]=(De=ie[ye])==null||typeof De=="boolean"?null:typeof De=="string"||typeof De=="number"||typeof De=="bigint"?Le(null,De,null,null,De):Array.isArray(De)?Le(Je,{children:De},null,null,null):De.__b>0?Le(De.type,De.props,De.key,null,De.__v):De)!=null){if(De.__=Q,De.__b=Q.__b+1,(Ee=nt[ye])===null||Ee&&De.key==Ee.key&&De.type===Ee.type)nt[ye]=void 0;else for(xe=0;xe<Ce;xe++){if((Ee=nt[xe])&&De.key==Ee.key&&De.type===Ee.type){nt[xe]=void 0;break}Ee=null}wt(ee,De,Ee=Ee||be,re,ae,de,he,pe,ge),Be=De.__e,(xe=De.ref)&&Ee.ref!=xe&&(Ke||(Ke=[]),Ee.ref&&Ke.push(Ee.ref,null,De),Ke.push(xe,De.__c||Be,De)),Be!=null?(et==null&&(et=Be),typeof De.type=="function"&&De.__k===Ee.__k?De.__d=pe=lt(De,pe,ee):pe=It(ee,De,Ee,nt,Be,pe),typeof Q.type=="function"&&(Q.__d=pe)):pe&&Ee.__e==pe&&pe.parentNode!=ee&&(pe=Ve(Ee))}for(Q.__e=et,ye=Ce;ye--;)nt[ye]!=null&&(typeof Q.type=="function"&&nt[ye].__e!=null&&nt[ye].__e==Q.__d&&(Q.__d=Ve(te,ye+1)),zt(nt[ye],nt[ye]));if(Ke)for(ye=0;ye<Ke.length;ye++)_t(Ke[ye],Ke[++ye],Ke[++ye])}function lt(ee,ie,Q){for(var te,re=ee.__k,ae=0;re&&ae<re.length;ae++)(te=re[ae])&&(te.__=ee,ie=typeof te.type=="function"?lt(te,ie,Q):It(Q,te,te,re,te.__e,ie));return ie}function xt(ee,ie){return ie=ie||[],ee==null||typeof ee=="boolean"||(Array.isArray(ee)?ee.some(function(Q){xt(Q,ie)}):ie.push(ee)),ie}function It(ee,ie,Q,te,re,ae){var de,he,pe;if(ie.__d!==void 0)de=ie.__d,ie.__d=void 0;else if(Q==null||re!=ae||re.parentNode==null)e:if(ae==null||ae.parentNode!==ee)ee.appendChild(re),de=null;else{for(he=ae,pe=0;(he=he.nextSibling)&&pe<te.length;pe+=2)if(he==re)break e;ee.insertBefore(re,ae),de=ae}return de!==void 0?de:re.nextSibling}function mt(ee,ie,Q,te,re){var ae;for(ae in Q)ae==="children"||ae==="key"||ae in ie||st(ee,ae,null,Q[ae],te);for(ae in ie)re&&typeof ie[ae]!="function"||ae==="children"||ae==="key"||ae==="value"||ae==="checked"||Q[ae]===ie[ae]||st(ee,ae,ie[ae],Q[ae],te)}function ot(ee,ie,Q){ie[0]==="-"?ee.setProperty(ie,Q):ee[ie]=Q==null?"":typeof Q!="number"||_e.test(ie)?Q:Q+"px"}function st(ee,ie,Q,te,re){var ae;e:if(ie==="style")if(typeof Q=="string")ee.style.cssText=Q;else{if(typeof te=="string"&&(ee.style.cssText=te=""),te)for(ie in te)Q&&ie in Q||ot(ee.style,ie,"");if(Q)for(ie in Q)te&&Q[ie]===te[ie]||ot(ee.style,ie,Q[ie])}else if(ie[0]==="o"&&ie[1]==="n")ae=ie!==(ie=ie.replace(/Capture$/,"")),ie=ie.toLowerCase()in ee?ie.toLowerCase().slice(2):ie.slice(2),ee.l||(ee.l={}),ee.l[ie+ae]=Q,Q?te||ee.addEventListener(ie,ae?Ot:vt,ae):ee.removeEventListener(ie,ae?Ot:vt,ae);else if(ie!=="dangerouslySetInnerHTML"){if(re)ie=ie.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(ie!=="href"&&ie!=="list"&&ie!=="form"&&ie!=="tabIndex"&&ie!=="download"&&ie in ee)try{ee[ie]=Q==null?"":Q;break e}catch{}typeof Q=="function"||(Q!=null&&(Q!==!1||ie[0]==="a"&&ie[1]==="r")?ee.setAttribute(ie,Q):ee.removeAttribute(ie))}}function vt(ee){this.l[ee.type+!1](le.event?le.event(ee):ee)}function Ot(ee){this.l[ee.type+!0](le.event?le.event(ee):ee)}function wt(ee,ie,Q,te,re,ae,de,he,pe){var ge,ye,xe,Ee,De,Be,et,Ke,nt,Ce,Ye,ct=ie.type;if(ie.constructor!==void 0)return null;Q.__h!=null&&(pe=Q.__h,he=ie.__e=Q.__e,ie.__h=null,ae=[he]),(ge=le.__b)&&ge(ie);try{e:if(typeof ct=="function"){if(Ke=ie.props,nt=(ge=ct.contextType)&&te[ge.__c],Ce=ge?nt?nt.props.value:ge.__:te,Q.__c?et=(ye=ie.__c=Q.__c).__=ye.__E:("prototype"in ct&&ct.prototype.render?ie.__c=ye=new ct(Ke,Ce):(ie.__c=ye=new Fe(Ke,Ce),ye.constructor=ct,ye.render=nn),nt&&nt.sub(ye),ye.props=Ke,ye.state||(ye.state={}),ye.context=Ce,ye.__n=te,xe=ye.__d=!0,ye.__h=[]),ye.__s==null&&(ye.__s=ye.state),ct.getDerivedStateFromProps!=null&&(ye.__s==ye.state&&(ye.__s=Ae({},ye.__s)),Ae(ye.__s,ct.getDerivedStateFromProps(Ke,ye.__s))),Ee=ye.props,De=ye.state,xe)ct.getDerivedStateFromProps==null&&ye.componentWillMount!=null&&ye.componentWillMount(),ye.componentDidMount!=null&&ye.__h.push(ye.componentDidMount);else{if(ct.getDerivedStateFromProps==null&&Ke!==Ee&&ye.componentWillReceiveProps!=null&&ye.componentWillReceiveProps(Ke,Ce),!ye.__e&&ye.shouldComponentUpdate!=null&&ye.shouldComponentUpdate(Ke,ye.__s,Ce)===!1||ie.__v===Q.__v){ye.props=Ke,ye.state=ye.__s,ie.__v!==Q.__v&&(ye.__d=!1),ye.__v=ie,ie.__e=Q.__e,ie.__k=Q.__k,ie.__k.forEach(function(ut){ut&&(ut.__=ie)}),ye.__h.length&&de.push(ye);break e}ye.componentWillUpdate!=null&&ye.componentWillUpdate(Ke,ye.__s,Ce),ye.componentDidUpdate!=null&&ye.__h.push(function(){ye.componentDidUpdate(Ee,De,Be)})}ye.context=Ce,ye.props=Ke,ye.state=ye.__s,(ge=le.__r)&&ge(ie),ye.__d=!1,ye.__v=ie,ye.__P=ee,ge=ye.render(ye.props,ye.state,ye.context),ye.state=ye.__s,ye.getChildContext!=null&&(te=Ae(Ae({},te),ye.getChildContext())),xe||ye.getSnapshotBeforeUpdate==null||(Be=ye.getSnapshotBeforeUpdate(Ee,De)),Ye=ge!=null&&ge.type===Je&&ge.key==null?ge.props.children:ge,ht(ee,Array.isArray(Ye)?Ye:[Ye],ie,Q,te,re,ae,de,he,pe),ye.base=ie.__e,ie.__h=null,ye.__h.length&&de.push(ye),et&&(ye.__E=ye.__=null),ye.__e=!1}else ae==null&&ie.__v===Q.__v?(ie.__k=Q.__k,ie.__e=Q.__e):ie.__e=qt(Q.__e,ie,Q,te,re,ae,de,pe);(ge=le.diffed)&&ge(ie)}catch(ut){ie.__v=null,(pe||ae!=null)&&(ie.__e=he,ie.__h=!!pe,ae[ae.indexOf(he)]=null),le.__e(ut,ie,Q)}}function Wt(ee,ie){le.__c&&le.__c(ie,ee),ee.some(function(Q){try{ee=Q.__h,Q.__h=[],ee.some(function(te){te.call(Q)})}catch(te){le.__e(te,Q.__v)}})}function qt(ee,ie,Q,te,re,ae,de,he){var pe,ge,ye,xe=Q.props,Ee=ie.props,De=ie.type,Be=0;if(De==="svg"&&(re=!0),ae!=null){for(;Be<ae.length;Be++)if((pe=ae[Be])&&"setAttribute"in pe==!!De&&(De?pe.localName===De:pe.nodeType===3)){ee=pe,ae[Be]=null;break}}if(ee==null){if(De===null)return document.createTextNode(Ee);ee=re?document.createElementNS("http://www.w3.org/2000/svg",De):document.createElement(De,Ee.is&&Ee),ae=null,he=!1}if(De===null)xe===Ee||he&&ee.data===Ee||(ee.data=Ee);else{if(ae=ae&&oe.call(ee.childNodes),ge=(xe=Q.props||be).dangerouslySetInnerHTML,ye=Ee.dangerouslySetInnerHTML,!he){if(ae!=null)for(xe={},Be=0;Be<ee.attributes.length;Be++)xe[ee.attributes[Be].name]=ee.attributes[Be].value;(ye||ge)&&(ye&&(ge&&ye.__html==ge.__html||ye.__html===ee.innerHTML)||(ee.innerHTML=ye&&ye.__html||""))}if(mt(ee,Ee,xe,re,he),ye)ie.__k=[];else if(Be=ie.props.children,ht(ee,Array.isArray(Be)?Be:[Be],ie,Q,te,re&&De!=="foreignObject",ae,de,ae?ae[0]:Q.__k&&Ve(Q,0),he),ae!=null)for(Be=ae.length;Be--;)ae[Be]!=null&&ke(ae[Be]);he||("value"in Ee&&(Be=Ee.value)!==void 0&&(Be!==xe.value||Be!==ee.value||De==="progress"&&!Be)&&st(ee,"value",Be,xe.value,!1),"checked"in Ee&&(Be=Ee.checked)!==void 0&&Be!==ee.checked&&st(ee,"checked",Be,xe.checked,!1))}return ee}function _t(ee,ie,Q){try{typeof ee=="function"?ee(ie):ee.current=ie}catch(te){le.__e(te,Q)}}function zt(ee,ie,Q){var te,re;if(le.unmount&&le.unmount(ee),(te=ee.ref)&&(te.current&&te.current!==ee.__e||_t(te,null,ie)),(te=ee.__c)!=null){if(te.componentWillUnmount)try{te.componentWillUnmount()}catch(ae){le.__e(ae,ie)}te.base=te.__P=null}if(te=ee.__k)for(re=0;re<te.length;re++)te[re]&&zt(te[re],ie,typeof ee.type!="function");Q||ee.__e==null||ke(ee.__e),ee.__e=ee.__d=void 0}function nn(ee,ie,Q){return this.constructor(ee,Q)}function en(ee,ie,Q){var te,re,ae;le.__&&le.__(ee,ie),re=(te=typeof Q=="function")?null:Q&&Q.__k||ie.__k,ae=[],wt(ie,ee=(!te&&Q||ie).__k=Me(Je,null,[ee]),re||be,be,ie.ownerSVGElement!==void 0,!te&&Q?[Q]:re?null:ie.firstChild?oe.call(ie.childNodes):null,ae,!te&&Q?Q:re?re.__e:ie.firstChild,te),Wt(ae,ee)}function Nt(ee,ie){en(ee,ie,Nt)}function Ut(ee,ie,Q){var te,re,ae,de=Ae({},ee.props);for(ae in ie)ae=="key"?te=ie[ae]:ae=="ref"?re=ie[ae]:de[ae]=ie[ae];return arguments.length>2&&(de.children=arguments.length>3?oe.call(arguments,2):Q),Le(ee.type,de,te||ee.key,re||ee.ref,null)}function Ft(ee,ie){var Q={__c:ie="__cC"+ve++,__:ee,Consumer:function(te,re){return te.children(re)},Provider:function(te){var re,ae;return this.getChildContext||(re=[],(ae={})[ie]=this,this.getChildContext=function(){return ae},this.shouldComponentUpdate=function(de){this.props.value!==de.value&&re.some(Xe)},this.sub=function(de){re.push(de);var he=de.componentWillUnmount;de.componentWillUnmount=function(){re.splice(re.indexOf(de),1),he&&he.call(de)}}),te.children}};return Q.Provider.__=Q.Consumer.contextType=Q}oe=Se.slice,le={__e:function(ee,ie){for(var Q,te,re;ie=ie.__;)if((Q=ie.__c)&&!Q.__)try{if((te=Q.constructor)&&te.getDerivedStateFromError!=null&&(Q.setState(te.getDerivedStateFromError(ee)),re=Q.__d),Q.componentDidCatch!=null&&(Q.componentDidCatch(ee),re=Q.__d),re)return Q.__E=Q}catch(ae){ee=ae}throw ee}},se=0,ue=function(ee){return ee!=null&&ee.constructor===void 0},Fe.prototype.setState=function(ee,ie){var Q;Q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ae({},this.state),typeof ee=="function"&&(ee=ee(Ae({},Q),this.props)),ee&&Ae(Q,ee),ee!=null&&this.__v&&(ie&&this.__h.push(ie),Xe(this))},Fe.prototype.forceUpdate=function(ee){this.__v&&(this.__e=!0,ee&&this.__h.push(ee),Xe(this))},Fe.prototype.render=Je,ce=[],fe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,dt.__r=0,ve=0;var sn=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",render:en,hydrate:Nt,createElement:Me,h:Me,Fragment:Je,createRef:qe,get isValidElement(){return ue},Component:Fe,cloneElement:Ut,createContext:Ft,toChildArray:xt,get options(){return le}}),un,je,ze,we=0,Ie=[],We=le.__b,rt=le.__r,tt=le.diffed,pt=le.__c,at=le.unmount;function it(ee,ie){le.__h&&le.__h(je,ee,we||ie),we=0;var Q=je.__H||(je.__H={__:[],__h:[]});return ee>=Q.__.length&&Q.__.push({}),Q.__[ee]}function bt(ee){return we=1,yt($n,ee)}function yt(ee,ie,Q){var te=it(un++,2);return te.t=ee,te.__c||(te.__=[Q?Q(ie):$n(void 0,ie),function(re){var ae=te.t(te.__[0],re);te.__[0]!==ae&&(te.__=[ae,te.__[1]],te.__c.setState({}))}],te.__c=je),te.__}function St(ee,ie){var Q=it(un++,3);!le.__s&&rn(Q.__H,ie)&&(Q.__=ee,Q.__H=ie,je.__H.__h.push(Q))}function At(ee,ie){var Q=it(un++,4);!le.__s&&rn(Q.__H,ie)&&(Q.__=ee,Q.__H=ie,je.__h.push(Q))}function Bt(ee){return we=5,cn(function(){return{current:ee}},[])}function on(ee,ie,Q){we=6,At(function(){typeof ee=="function"?ee(ie()):ee&&(ee.current=ie())},Q==null?Q:Q.concat(ee))}function cn(ee,ie){var Q=it(un++,7);return rn(Q.__H,ie)&&(Q.__=ee(),Q.__H=ie,Q.__h=ee),Q.__}function Oe(ee,ie){return we=8,cn(function(){return ee},ie)}function Pe(ee){var ie=je.context[ee.__c],Q=it(un++,9);return Q.c=ee,ie?(Q.__==null&&(Q.__=!0,ie.sub(je)),ie.props.value):ee.__}function He(ee,ie){le.useDebugValue&&le.useDebugValue(ie?ie(ee):ee)}function Ue(ee){var ie=it(un++,10),Q=bt();return ie.__=ee,je.componentDidCatch||(je.componentDidCatch=function(te){ie.__&&ie.__(te),Q[1](te)}),[Q[0],function(){Q[1](void 0)}]}function Et(){var ee;for(Ie.sort(function(ie,Q){return ie.__v.__b-Q.__v.__b});ee=Ie.pop();)if(ee.__P)try{ee.__H.__h.forEach(Kt),ee.__H.__h.forEach(vn),ee.__H.__h=[]}catch(ie){ee.__H.__h=[],le.__e(ie,ee.__v)}}le.__b=function(ee){je=null,We&&We(ee)},le.__r=function(ee){rt&&rt(ee),un=0;var ie=(je=ee.__c).__H;ie&&(ie.__h.forEach(Kt),ie.__h.forEach(vn),ie.__h=[])},le.diffed=function(ee){tt&&tt(ee);var ie=ee.__c;ie&&ie.__H&&ie.__H.__h.length&&(Ie.push(ie)!==1&&ze===le.requestAnimationFrame||((ze=le.requestAnimationFrame)||function(Q){var te,re=function(){clearTimeout(ae),kt&&cancelAnimationFrame(te),setTimeout(Q)},ae=setTimeout(re,100);kt&&(te=requestAnimationFrame(re))})(Et)),je=null},le.__c=function(ee,ie){ie.some(function(Q){try{Q.__h.forEach(Kt),Q.__h=Q.__h.filter(function(te){return!te.__||vn(te)})}catch(te){ie.some(function(re){re.__h&&(re.__h=[])}),ie=[],le.__e(te,Q.__v)}}),pt&&pt(ee,ie)},le.unmount=function(ee){at&&at(ee);var ie,Q=ee.__c;Q&&Q.__H&&(Q.__H.__.forEach(function(te){try{Kt(te)}catch(re){ie=re}}),ie&&le.__e(ie,Q.__v))};var kt=typeof requestAnimationFrame=="function";function Kt(ee){var ie=je,Q=ee.__c;typeof Q=="function"&&(ee.__c=void 0,Q()),je=ie}function vn(ee){var ie=je;ee.__c=ee.__(),je=ie}function rn(ee,ie){return!ee||ee.length!==ie.length||ie.some(function(Q,te){return Q!==ee[te]})}function $n(ee,ie){return typeof ie=="function"?ie(ee):ie}function Fn(ee,ie){for(var Q in ie)ee[Q]=ie[Q];return ee}function pi(ee,ie){for(var Q in ee)if(Q!=="__source"&&!(Q in ie))return!0;for(var te in ie)if(te!=="__source"&&ee[te]!==ie[te])return!0;return!1}function vi(ee){this.props=ee}function ji(ee,ie){function Q(re){var ae=this.props.ref,de=ae==re.ref;return!de&&ae&&(ae.call?ae(null):ae.current=null),ie?!ie(this.props,re)||!de:pi(this.props,re)}function te(re){return this.shouldComponentUpdate=Q,Me(ee,re)}return te.displayName="Memo("+(ee.displayName||ee.name)+")",te.prototype.isReactComponent=!0,te.__f=!0,te}(vi.prototype=new Fe).isPureReactComponent=!0,vi.prototype.shouldComponentUpdate=function(ee,ie){return pi(this.props,ee)||pi(this.state,ie)};var zi=le.__b;le.__b=function(ee){ee.type&&ee.type.__f&&ee.ref&&(ee.props.ref=ee.ref,ee.ref=null),zi&&zi(ee)};var ua=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Cr(ee){function ie(Q,te){var re=Fn({},Q);return delete re.ref,ee(re,(te=Q.ref||te)&&(typeof te!="object"||"current"in te)?te:null)}return ie.$$typeof=ua,ie.render=ie,ie.prototype.isReactComponent=ie.__f=!0,ie.displayName="ForwardRef("+(ee.displayName||ee.name)+")",ie}var _r=function(ee,ie){return ee==null?null:xt(xt(ee).map(ie))},Oi={map:_r,forEach:_r,count:function(ee){return ee?xt(ee).length:0},only:function(ee){var ie=xt(ee);if(ie.length!==1)throw"Children.only";return ie[0]},toArray:xt},Tr=le.__e;le.__e=function(ee,ie,Q){if(ee.then){for(var te,re=ie;re=re.__;)if((te=re.__c)&&te.__c)return ie.__e==null&&(ie.__e=Q.__e,ie.__k=Q.__k),te.__c(ee,ie)}Tr(ee,ie,Q)};var Pr=le.unmount;function Ai(){this.__u=0,this.t=null,this.__b=null}function Or(ee){var ie=ee.__.__c;return ie&&ie.__e&&ie.__e(ee)}function Ar(ee){var ie,Q,te;function re(ae){if(ie||(ie=ee()).then(function(de){Q=de.default||de},function(de){te=de}),te)throw te;if(!Q)throw ie;return Me(Q,ae)}return re.displayName="Lazy",re.__f=!0,re}function Ri(){this.u=null,this.o=null}le.unmount=function(ee){var ie=ee.__c;ie&&ie.__R&&ie.__R(),ie&&ee.__h===!0&&(ee.type=null),Pr&&Pr(ee)},(Ai.prototype=new Fe).__c=function(ee,ie){var Q=ie.__c,te=this;te.t==null&&(te.t=[]),te.t.push(Q);var re=Or(te.__v),ae=!1,de=function(){ae||(ae=!0,Q.__R=null,re?re(he):he())};Q.__R=de;var he=function(){if(!--te.__u){if(te.state.__e){var ge=te.state.__e;te.__v.__k[0]=function xe(Ee,De,Be){return Ee&&(Ee.__v=null,Ee.__k=Ee.__k&&Ee.__k.map(function(et){return xe(et,De,Be)}),Ee.__c&&Ee.__c.__P===De&&(Ee.__e&&Be.insertBefore(Ee.__e,Ee.__d),Ee.__c.__e=!0,Ee.__c.__P=Be)),Ee}(ge,ge.__c.__P,ge.__c.__O)}var ye;for(te.setState({__e:te.__b=null});ye=te.t.pop();)ye.forceUpdate()}},pe=ie.__h===!0;te.__u++||pe||te.setState({__e:te.__b=te.__v.__k[0]}),ee.then(de,de)},Ai.prototype.componentWillUnmount=function(){this.t=[]},Ai.prototype.render=function(ee,ie){if(this.__b){if(this.__v.__k){var Q=document.createElement("div"),te=this.__v.__k[0].__c;this.__v.__k[0]=function ae(de,he,pe){return de&&(de.__c&&de.__c.__H&&(de.__c.__H.__.forEach(function(ge){typeof ge.__c=="function"&&ge.__c()}),de.__c.__H=null),(de=Fn({},de)).__c!=null&&(de.__c.__P===pe&&(de.__c.__P=he),de.__c=null),de.__k=de.__k&&de.__k.map(function(ge){return ae(ge,he,pe)})),de}(this.__b,Q,te.__O=te.__P)}this.__b=null}var re=ie.__e&&Me(Je,null,ee.fallback);return re&&(re.__h=null),[Me(Je,null,ie.__e?null:ee.children),re]};var Yr=function(ee,ie,Q){if(++Q[1]===Q[0]&&ee.o.delete(ie),ee.props.revealOrder&&(ee.props.revealOrder[0]!=="t"||!ee.o.size))for(Q=ee.u;Q;){for(;Q.length>3;)Q.pop()();if(Q[1]<Q[0])break;ee.u=Q=Q[2]}};function ca(ee){return this.getChildContext=function(){return ee.context},ee.children}function Zr(ee){var ie=this,Q=ee.i;ie.componentWillUnmount=function(){en(null,ie.l),ie.l=null,ie.i=null},ie.i&&ie.i!==Q&&ie.componentWillUnmount(),ee.__v?(ie.l||(ie.i=Q,ie.l={nodeType:1,parentNode:Q,childNodes:[],appendChild:function(te){this.childNodes.push(te),ie.i.appendChild(te)},insertBefore:function(te,re){this.childNodes.push(te),ie.i.appendChild(te)},removeChild:function(te){this.childNodes.splice(this.childNodes.indexOf(te)>>>1,1),ie.i.removeChild(te)}}),en(Me(ca,{context:ie.context},ee.__v),ie.l)):ie.l&&ie.componentWillUnmount()}function Vi(ee,ie){return Me(Zr,{__v:ee,i:ie})}(Ri.prototype=new Fe).__e=function(ee){var ie=this,Q=Or(ie.__v),te=ie.o.get(ee);return te[0]++,function(re){var ae=function(){ie.props.revealOrder?(te.push(re),Yr(ie,ee,te)):re()};Q?Q(ae):ae()}},Ri.prototype.render=function(ee){this.u=null,this.o=new Map;var ie=xt(ee.children);ee.revealOrder&&ee.revealOrder[0]==="b"&&ie.reverse();for(var Q=ie.length;Q--;)this.o.set(ie[Q],this.u=[1,0,this.u]);return ee.children},Ri.prototype.componentDidUpdate=Ri.prototype.componentDidMount=function(){var ee=this;this.o.forEach(function(ie,Q){Yr(ee,Q,ie)})};var ti=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,tr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,da=typeof document<"u",Yh=function(ee){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(ee)};function rl(ee,ie,Q){return ie.__k==null&&(ie.textContent=""),en(ee,ie),typeof Q=="function"&&Q(),ee?ee.__c:null}function ol(ee,ie,Q){return Nt(ee,ie),typeof Q=="function"&&Q(),ee?ee.__c:null}Fe.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(ee){Object.defineProperty(Fe.prototype,ee,{configurable:!0,get:function(){return this["UNSAFE_"+ee]},set:function(ie){Object.defineProperty(this,ee,{configurable:!0,writable:!0,value:ie})}})});var al=le.event;function Zh(){}function Jh(){return this.cancelBubble}function Qh(){return this.defaultPrevented}le.event=function(ee){return al&&(ee=al(ee)),ee.persist=Zh,ee.isPropagationStopped=Jh,ee.isDefaultPrevented=Qh,ee.nativeEvent=ee};var sl,ll={configurable:!0,get:function(){return this.class}},ul=le.vnode;le.vnode=function(ee){var ie=ee.type,Q=ee.props,te=Q;if(typeof ie=="string"){var re=ie.indexOf("-")===-1;for(var ae in te={},Q){var de=Q[ae];da&&ae==="children"&&ie==="noscript"||ae==="value"&&"defaultValue"in Q&&de==null||(ae==="defaultValue"&&"value"in Q&&Q.value==null?ae="value":ae==="download"&&de===!0?de="":/ondoubleclick/i.test(ae)?ae="ondblclick":/^onchange(textarea|input)/i.test(ae+ie)&&!Yh(Q.type)?ae="oninput":/^onfocus$/i.test(ae)?ae="onfocusin":/^onblur$/i.test(ae)?ae="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(ae)?ae=ae.toLowerCase():re&&tr.test(ae)?ae=ae.replace(/[A-Z0-9]/,"-$&").toLowerCase():de===null&&(de=void 0),te[ae]=de)}ie=="select"&&te.multiple&&Array.isArray(te.value)&&(te.value=xt(Q.children).forEach(function(he){he.props.selected=te.value.indexOf(he.props.value)!=-1})),ie=="select"&&te.defaultValue!=null&&(te.value=xt(Q.children).forEach(function(he){he.props.selected=te.multiple?te.defaultValue.indexOf(he.props.value)!=-1:te.defaultValue==he.props.value})),ee.props=te,Q.class!=Q.className&&(ll.enumerable="className"in Q,Q.className!=null&&(te.class=Q.className),Object.defineProperty(te,"className",ll))}ee.$$typeof=ti,ul&&ul(ee)};var cl=le.__r;le.__r=function(ee){cl&&cl(ee),sl=ee.__c};var dl={ReactCurrentDispatcher:{current:{readContext:function(ee){return sl.__n[ee.__c].props.value}}}},ep="17.0.2";function hl(ee){return Me.bind(null,ee)}function ha(ee){return!!ee&&ee.$$typeof===ti}function pl(ee){return ha(ee)?Ut.apply(null,arguments):ee}function fl(ee){return!!ee.__k&&(en(null,ee),!0)}function gl(ee){return ee&&(ee.base||ee.nodeType===1&&ee)||null}var ml=function(ee,ie){return ee(ie)},vl=function(ee,ie){return ee(ie)},tp=Je,Pt={useState:bt,useReducer:yt,useEffect:St,useLayoutEffect:At,useRef:Bt,useImperativeHandle:on,useMemo:cn,useCallback:Oe,useContext:Pe,useDebugValue:He,version:"17.0.2",Children:Oi,render:rl,hydrate:ol,unmountComponentAtNode:fl,createPortal:Vi,createElement:Me,createContext:Ft,createFactory:hl,cloneElement:pl,createRef:qe,Fragment:Je,isValidElement:ha,findDOMNode:gl,Component:Fe,PureComponent:vi,memo:ji,forwardRef:Cr,flushSync:vl,unstable_batchedUpdates:ml,StrictMode:Je,Suspense:Ai,SuspenseList:Ri,lazy:Ar,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dl},np=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pt,version:ep,Children:Oi,render:rl,hydrate:ol,unmountComponentAtNode:fl,createPortal:Vi,createFactory:hl,cloneElement:pl,isValidElement:ha,findDOMNode:gl,PureComponent:vi,memo:ji,forwardRef:Cr,flushSync:vl,unstable_batchedUpdates:ml,StrictMode:tp,Suspense:Ai,SuspenseList:Ri,lazy:Ar,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:dl,createElement:Me,createContext:Ft,createRef:qe,Fragment:Je,Component:Fe,useState:bt,useReducer:yt,useEffect:St,useLayoutEffect:At,useRef:Bt,useImperativeHandle:on,useMemo:cn,useCallback:Oe,useContext:Pe,useDebugValue:He,useErrorBoundary:Ue}),Di=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:{};function ip(ee){return ee&&ee.__esModule&&Object.prototype.hasOwnProperty.call(ee,"default")?ee.default:ee}function Jr(ee){if(ee.__esModule)return ee;var ie=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(ee).forEach(function(Q){var te=Object.getOwnPropertyDescriptor(ee,Q);Object.defineProperty(ie,Q,te.get?te:{enumerable:!0,get:function(){return ee[Q]}})}),ie}var pa={exports:{}};function fa(){}fa.prototype={on:function(ee,ie,Q){var te=this.e||(this.e={});return(te[ee]||(te[ee]=[])).push({fn:ie,ctx:Q}),this},once:function(ee,ie,Q){var te=this;function re(){te.off(ee,re),ie.apply(Q,arguments)}return re._=ie,this.on(ee,re,Q)},emit:function(ee){var ie=[].slice.call(arguments,1),Q=((this.e||(this.e={}))[ee]||[]).slice(),te=0,re=Q.length;for(te;te<re;te++)Q[te].fn.apply(Q[te].ctx,ie);return this},off:function(ee,ie){var Q=this.e||(this.e={}),te=Q[ee],re=[];if(te&&ie)for(var ae=0,de=te.length;ae<de;ae++)te[ae].fn!==ie&&te[ae].fn._!==ie&&re.push(te[ae]);return re.length?Q[ee]=re:delete Q[ee],this}},pa.exports=fa,pa.exports.TinyEmitter=fa;var Qr=pa.exports,eo={exports:{}},yl={},nr=Jr(np),Rr={exports:{}},rp="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",op=rp,ap=op;function bl(){}function wl(){}wl.resetWarningCache=bl;var sp=function(){function ee(te,re,ae,de,he,pe){if(pe!==ap){var ge=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ge.name="Invariant Violation",ge}}ee.isRequired=ee;function ie(){return ee}var Q={array:ee,bigint:ee,bool:ee,func:ee,number:ee,object:ee,string:ee,symbol:ee,any:ee,arrayOf:ie,element:ee,elementType:ee,instanceOf:ie,node:ee,objectOf:ie,oneOf:ie,oneOfType:ie,shape:ie,exact:ie,checkPropTypes:wl,resetWarningCache:bl};return Q.PropTypes=Q,Q};Rr.exports=sp();function xl(ee){var ie,Q,te="";if(typeof ee=="string"||typeof ee=="number")te+=ee;else if(typeof ee=="object")if(Array.isArray(ee))for(ie=0;ie<ee.length;ie++)ee[ie]&&(Q=xl(ee[ie]))&&(te&&(te+=" "),te+=Q);else for(ie in ee)ee[ie]&&(te&&(te+=" "),te+=ie);return te}function lp(){for(var ee=0,ie,Q,te="";ee<arguments.length;)(ie=arguments[ee++])&&(Q=xl(ie))&&(te&&(te+=" "),te+=Q);return te}var up=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:lp}),cp=Jr(up),Hn={},yi={};Object.defineProperty(yi,"__esModule",{value:!0}),yi.findInArray=dp,yi.isFunction=hp,yi.isNum=pp,yi.int=fp,yi.dontSetMe=gp;function dp(ee,ie){for(var Q=0,te=ee.length;Q<te;Q++)if(ie.apply(ie,[ee[Q],Q,ee]))return ee[Q]}function hp(ee){return typeof ee=="function"||Object.prototype.toString.call(ee)==="[object Function]"}function pp(ee){return typeof ee=="number"&&!isNaN(ee)}function fp(ee){return parseInt(ee,10)}function gp(ee,ie,Q){if(ee[ie])return new Error("Invalid prop ".concat(ie," passed to ").concat(Q," - do not set this, set it on the child."))}var $i={};Object.defineProperty($i,"__esModule",{value:!0}),$i.getPrefix=Sl,$i.browserPrefixToKey=El,$i.browserPrefixToStyle=mp,$i.default=void 0;var ga=["Moz","Webkit","O","ms"];function Sl(){var ee,ie,Q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var te=(ee=window.document)===null||ee===void 0||(ie=ee.documentElement)===null||ie===void 0?void 0:ie.style;if(!te||Q in te)return"";for(var re=0;re<ga.length;re++)if(El(Q,ga[re])in te)return ga[re];return""}function El(ee,ie){return ie?"".concat(ie).concat(vp(ee)):ee}function mp(ee,ie){return ie?"-".concat(ie.toLowerCase(),"-").concat(ee):ee}function vp(ee){for(var ie="",Q=!0,te=0;te<ee.length;te++)Q?(ie+=ee[te].toUpperCase(),Q=!1):ee[te]==="-"?Q=!0:ie+=ee[te];return ie}var yp=Sl();$i.default=yp;function to(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?to=function(ie){return typeof ie}:to=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},to(ee)}Object.defineProperty(Hn,"__esModule",{value:!0}),Hn.matchesSelector=Al,Hn.matchesSelectorAndParentsTo=wp,Hn.addEvent=xp,Hn.removeEvent=Sp,Hn.outerHeight=Ep,Hn.outerWidth=Cp,Hn.innerHeight=_p,Hn.innerWidth=Tp,Hn.offsetXYFromParent=Pp,Hn.createCSSTransform=Op,Hn.createSVGTransform=Ap,Hn.getTranslation=ma,Hn.getTouch=Rp,Hn.getTouchIdentifier=Dp,Hn.addUserSelectStyles=kp,Hn.removeUserSelectStyles=Ip,Hn.addClassName=Rl,Hn.removeClassName=Dl;var oi=yi,Cl=bp($i);function _l(ee){if(typeof WeakMap!="function")return null;var ie=new WeakMap,Q=new WeakMap;return(_l=function(te){return te?Q:ie})(ee)}function bp(ee,ie){if(!ie&&ee&&ee.__esModule)return ee;if(ee===null||to(ee)!=="object"&&typeof ee!="function")return{default:ee};var Q=_l(ie);if(Q&&Q.has(ee))return Q.get(ee);var te={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in ee)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(ee,ae)){var de=re?Object.getOwnPropertyDescriptor(ee,ae):null;de&&(de.get||de.set)?Object.defineProperty(te,ae,de):te[ae]=ee[ae]}return te.default=ee,Q&&Q.set(ee,te),te}function Tl(ee,ie){var Q=Object.keys(ee);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ee);ie&&(te=te.filter(function(re){return Object.getOwnPropertyDescriptor(ee,re).enumerable})),Q.push.apply(Q,te)}return Q}function Pl(ee){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?Tl(Object(Q),!0).forEach(function(te){Ol(ee,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Q)):Tl(Object(Q)).forEach(function(te){Object.defineProperty(ee,te,Object.getOwnPropertyDescriptor(Q,te))})}return ee}function Ol(ee,ie,Q){return ie in ee?Object.defineProperty(ee,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=Q,ee}var no="";function Al(ee,ie){return no||(no=(0,oi.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(Q){return(0,oi.isFunction)(ee[Q])})),(0,oi.isFunction)(ee[no])?ee[no](ie):!1}function wp(ee,ie,Q){var te=ee;do{if(Al(te,ie))return!0;if(te===Q)return!1;te=te.parentNode}while(te);return!1}function xp(ee,ie,Q,te){if(ee){var re=Pl({capture:!0},te);ee.addEventListener?ee.addEventListener(ie,Q,re):ee.attachEvent?ee.attachEvent("on"+ie,Q):ee["on"+ie]=Q}}function Sp(ee,ie,Q,te){if(ee){var re=Pl({capture:!0},te);ee.removeEventListener?ee.removeEventListener(ie,Q,re):ee.detachEvent?ee.detachEvent("on"+ie,Q):ee["on"+ie]=null}}function Ep(ee){var ie=ee.clientHeight,Q=ee.ownerDocument.defaultView.getComputedStyle(ee);return ie+=(0,oi.int)(Q.borderTopWidth),ie+=(0,oi.int)(Q.borderBottomWidth),ie}function Cp(ee){var ie=ee.clientWidth,Q=ee.ownerDocument.defaultView.getComputedStyle(ee);return ie+=(0,oi.int)(Q.borderLeftWidth),ie+=(0,oi.int)(Q.borderRightWidth),ie}function _p(ee){var ie=ee.clientHeight,Q=ee.ownerDocument.defaultView.getComputedStyle(ee);return ie-=(0,oi.int)(Q.paddingTop),ie-=(0,oi.int)(Q.paddingBottom),ie}function Tp(ee){var ie=ee.clientWidth,Q=ee.ownerDocument.defaultView.getComputedStyle(ee);return ie-=(0,oi.int)(Q.paddingLeft),ie-=(0,oi.int)(Q.paddingRight),ie}function Pp(ee,ie,Q){var te=ie===ie.ownerDocument.body,re=te?{left:0,top:0}:ie.getBoundingClientRect(),ae=(ee.clientX+ie.scrollLeft-re.left)/Q,de=(ee.clientY+ie.scrollTop-re.top)/Q;return{x:ae,y:de}}function Op(ee,ie){var Q=ma(ee,ie,"px");return Ol({},(0,Cl.browserPrefixToKey)("transform",Cl.default),Q)}function Ap(ee,ie){var Q=ma(ee,ie,"");return Q}function ma(ee,ie,Q){var te=ee.x,re=ee.y,ae="translate(".concat(te).concat(Q,",").concat(re).concat(Q,")");if(ie){var de="".concat(typeof ie.x=="string"?ie.x:ie.x+Q),he="".concat(typeof ie.y=="string"?ie.y:ie.y+Q);ae="translate(".concat(de,", ").concat(he,")")+ae}return ae}function Rp(ee,ie){return ee.targetTouches&&(0,oi.findInArray)(ee.targetTouches,function(Q){return ie===Q.identifier})||ee.changedTouches&&(0,oi.findInArray)(ee.changedTouches,function(Q){return ie===Q.identifier})}function Dp(ee){if(ee.targetTouches&&ee.targetTouches[0])return ee.targetTouches[0].identifier;if(ee.changedTouches&&ee.changedTouches[0])return ee.changedTouches[0].identifier}function kp(ee){if(ee){var ie=ee.getElementById("react-draggable-style-el");ie||(ie=ee.createElement("style"),ie.type="text/css",ie.id="react-draggable-style-el",ie.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,ie.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,ee.getElementsByTagName("head")[0].appendChild(ie)),ee.body&&Rl(ee.body,"react-draggable-transparent-selection")}}function Ip(ee){if(ee)try{if(ee.body&&Dl(ee.body,"react-draggable-transparent-selection"),ee.selection)ee.selection.empty();else{var ie=(ee.defaultView||window).getSelection();ie&&ie.type!=="Caret"&&ie.removeAllRanges()}}catch{}}function Rl(ee,ie){ee.classList?ee.classList.add(ie):ee.className.match(new RegExp("(?:^|\\s)".concat(ie,"(?!\\S)")))||(ee.className+=" ".concat(ie))}function Dl(ee,ie){ee.classList?ee.classList.remove(ie):ee.className=ee.className.replace(new RegExp("(?:^|\\s)".concat(ie,"(?!\\S)"),"g"),"")}var bi={};Object.defineProperty(bi,"__esModule",{value:!0}),bi.getBoundPosition=Np,bi.snapToGrid=Mp,bi.canDragX=Fp,bi.canDragY=Bp,bi.getControlPosition=Lp,bi.createCoreData=Hp,bi.createDraggableData=jp;var ai=yi,ir=Hn;function Np(ee,ie,Q){if(!ee.props.bounds)return[ie,Q];var te=ee.props.bounds;te=typeof te=="string"?te:zp(te);var re=va(ee);if(typeof te=="string"){var ae=re.ownerDocument,de=ae.defaultView,he;if(te==="parent"?he=re.parentNode:he=ae.querySelector(te),!(he instanceof de.HTMLElement))throw new Error('Bounds selector "'+te+'" could not find an element.');var pe=he,ge=de.getComputedStyle(re),ye=de.getComputedStyle(pe);te={left:-re.offsetLeft+(0,ai.int)(ye.paddingLeft)+(0,ai.int)(ge.marginLeft),top:-re.offsetTop+(0,ai.int)(ye.paddingTop)+(0,ai.int)(ge.marginTop),right:(0,ir.innerWidth)(pe)-(0,ir.outerWidth)(re)-re.offsetLeft+(0,ai.int)(ye.paddingRight)-(0,ai.int)(ge.marginRight),bottom:(0,ir.innerHeight)(pe)-(0,ir.outerHeight)(re)-re.offsetTop+(0,ai.int)(ye.paddingBottom)-(0,ai.int)(ge.marginBottom)}}return(0,ai.isNum)(te.right)&&(ie=Math.min(ie,te.right)),(0,ai.isNum)(te.bottom)&&(Q=Math.min(Q,te.bottom)),(0,ai.isNum)(te.left)&&(ie=Math.max(ie,te.left)),(0,ai.isNum)(te.top)&&(Q=Math.max(Q,te.top)),[ie,Q]}function Mp(ee,ie,Q){var te=Math.round(ie/ee[0])*ee[0],re=Math.round(Q/ee[1])*ee[1];return[te,re]}function Fp(ee){return ee.props.axis==="both"||ee.props.axis==="x"}function Bp(ee){return ee.props.axis==="both"||ee.props.axis==="y"}function Lp(ee,ie,Q){var te=typeof ie=="number"?(0,ir.getTouch)(ee,ie):null;if(typeof ie=="number"&&!te)return null;var re=va(Q),ae=Q.props.offsetParent||re.offsetParent||re.ownerDocument.body;return(0,ir.offsetXYFromParent)(te||ee,ae,Q.props.scale)}function Hp(ee,ie,Q){var te=ee.state,re=!(0,ai.isNum)(te.lastX),ae=va(ee);return re?{node:ae,deltaX:0,deltaY:0,lastX:ie,lastY:Q,x:ie,y:Q}:{node:ae,deltaX:ie-te.lastX,deltaY:Q-te.lastY,lastX:te.lastX,lastY:te.lastY,x:ie,y:Q}}function jp(ee,ie){var Q=ee.props.scale;return{node:ie.node,x:ee.state.x+ie.deltaX/Q,y:ee.state.y+ie.deltaY/Q,deltaX:ie.deltaX/Q,deltaY:ie.deltaY/Q,lastX:ee.state.x,lastY:ee.state.y}}function zp(ee){return{left:ee.left,top:ee.top,right:ee.right,bottom:ee.bottom}}function va(ee){var ie=ee.findDOMNode();if(!ie)throw new Error("<DraggableCore>: Unmounted during event!");return ie}var io={},ro={};Object.defineProperty(ro,"__esModule",{value:!0}),ro.default=Vp;function Vp(){}function Dr(ee){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Dr=function(ie){return typeof ie}:Dr=function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},Dr(ee)}Object.defineProperty(io,"__esModule",{value:!0}),io.default=void 0;var ya=Up(nr),si=wa(Rr.exports),$p=wa(nr),Yn=Hn,Ui=bi,ba=yi,kr=wa(ro);function wa(ee){return ee&&ee.__esModule?ee:{default:ee}}function kl(ee){if(typeof WeakMap!="function")return null;var ie=new WeakMap,Q=new WeakMap;return(kl=function(te){return te?Q:ie})(ee)}function Up(ee,ie){if(!ie&&ee&&ee.__esModule)return ee;if(ee===null||Dr(ee)!=="object"&&typeof ee!="function")return{default:ee};var Q=kl(ie);if(Q&&Q.has(ee))return Q.get(ee);var te={},re=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ae in ee)if(ae!=="default"&&Object.prototype.hasOwnProperty.call(ee,ae)){var de=re?Object.getOwnPropertyDescriptor(ee,ae):null;de&&(de.get||de.set)?Object.defineProperty(te,ae,de):te[ae]=ee[ae]}return te.default=ee,Q&&Q.set(ee,te),te}function Wp(ee,ie){return Xp(ee)||Kp(ee,ie)||qp(ee,ie)||Gp()}function Gp(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qp(ee,ie){if(ee){if(typeof ee=="string")return Il(ee,ie);var Q=Object.prototype.toString.call(ee).slice(8,-1);if(Q==="Object"&&ee.constructor&&(Q=ee.constructor.name),Q==="Map"||Q==="Set")return Array.from(ee);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Il(ee,ie)}}function Il(ee,ie){(ie==null||ie>ee.length)&&(ie=ee.length);for(var Q=0,te=new Array(ie);Q<ie;Q++)te[Q]=ee[Q];return te}function Kp(ee,ie){var Q=ee==null?null:typeof Symbol<"u"&&ee[Symbol.iterator]||ee["@@iterator"];if(Q!=null){var te=[],re=!0,ae=!1,de,he;try{for(Q=Q.call(ee);!(re=(de=Q.next()).done)&&(te.push(de.value),!(ie&&te.length===ie));re=!0);}catch(pe){ae=!0,he=pe}finally{try{!re&&Q.return!=null&&Q.return()}finally{if(ae)throw he}}return te}}function Xp(ee){if(Array.isArray(ee))return ee}function Yp(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}function Nl(ee,ie){for(var Q=0;Q<ie.length;Q++){var te=ie[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ee,te.key,te)}}function Zp(ee,ie,Q){return ie&&Nl(ee.prototype,ie),Q&&Nl(ee,Q),ee}function Jp(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),ie&&xa(ee,ie)}function xa(ee,ie){return xa=Object.setPrototypeOf||function(Q,te){return Q.__proto__=te,Q},xa(ee,ie)}function Qp(ee){var ie=tf();return function(){var Q=oo(ee),te;if(ie){var re=oo(this).constructor;te=Reflect.construct(Q,arguments,re)}else te=Q.apply(this,arguments);return ef(this,te)}}function ef(ee,ie){if(ie&&(Dr(ie)==="object"||typeof ie=="function"))return ie;if(ie!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zn(ee)}function Zn(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function tf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oo(ee){return oo=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},oo(ee)}function fi(ee,ie,Q){return ie in ee?Object.defineProperty(ee,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=Q,ee}var mi={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ki=mi.mouse,ao=function(ee){Jp(Q,ee);var ie=Qp(Q);function Q(){var te;Yp(this,Q);for(var re=arguments.length,ae=new Array(re),de=0;de<re;de++)ae[de]=arguments[de];return te=ie.call.apply(ie,[this].concat(ae)),fi(Zn(te),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),fi(Zn(te),"mounted",!1),fi(Zn(te),"handleDragStart",function(he){if(te.props.onMouseDown(he),!te.props.allowAnyClick&&typeof he.button=="number"&&he.button!==0)return!1;var pe=te.findDOMNode();if(!pe||!pe.ownerDocument||!pe.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var ge=pe.ownerDocument;if(!(te.props.disabled||!(he.target instanceof ge.defaultView.Node)||te.props.handle&&!(0,Yn.matchesSelectorAndParentsTo)(he.target,te.props.handle,pe)||te.props.cancel&&(0,Yn.matchesSelectorAndParentsTo)(he.target,te.props.cancel,pe))){he.type==="touchstart"&&he.preventDefault();var ye=(0,Yn.getTouchIdentifier)(he);te.setState({touchIdentifier:ye});var xe=(0,Ui.getControlPosition)(he,ye,Zn(te));if(xe!=null){var Ee=xe.x,De=xe.y,Be=(0,Ui.createCoreData)(Zn(te),Ee,De);(0,kr.default)("DraggableCore: handleDragStart: %j",Be),(0,kr.default)("calling",te.props.onStart);var et=te.props.onStart(he,Be);et===!1||te.mounted===!1||(te.props.enableUserSelectHack&&(0,Yn.addUserSelectStyles)(ge),te.setState({dragging:!0,lastX:Ee,lastY:De}),(0,Yn.addEvent)(ge,ki.move,te.handleDrag),(0,Yn.addEvent)(ge,ki.stop,te.handleDragStop))}}}),fi(Zn(te),"handleDrag",function(he){var pe=(0,Ui.getControlPosition)(he,te.state.touchIdentifier,Zn(te));if(pe!=null){var ge=pe.x,ye=pe.y;if(Array.isArray(te.props.grid)){var xe=ge-te.state.lastX,Ee=ye-te.state.lastY,De=(0,Ui.snapToGrid)(te.props.grid,xe,Ee),Be=Wp(De,2);if(xe=Be[0],Ee=Be[1],!xe&&!Ee)return;ge=te.state.lastX+xe,ye=te.state.lastY+Ee}var et=(0,Ui.createCoreData)(Zn(te),ge,ye);(0,kr.default)("DraggableCore: handleDrag: %j",et);var Ke=te.props.onDrag(he,et);if(Ke===!1||te.mounted===!1){try{te.handleDragStop(new MouseEvent("mouseup"))}catch{var nt=document.createEvent("MouseEvents");nt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),te.handleDragStop(nt)}return}te.setState({lastX:ge,lastY:ye})}}),fi(Zn(te),"handleDragStop",function(he){if(te.state.dragging){var pe=(0,Ui.getControlPosition)(he,te.state.touchIdentifier,Zn(te));if(pe!=null){var ge=pe.x,ye=pe.y,xe=(0,Ui.createCoreData)(Zn(te),ge,ye),Ee=te.props.onStop(he,xe);if(Ee===!1||te.mounted===!1)return!1;var De=te.findDOMNode();De&&te.props.enableUserSelectHack&&(0,Yn.removeUserSelectStyles)(De.ownerDocument),(0,kr.default)("DraggableCore: handleDragStop: %j",xe),te.setState({dragging:!1,lastX:NaN,lastY:NaN}),De&&((0,kr.default)("DraggableCore: Removing handlers"),(0,Yn.removeEvent)(De.ownerDocument,ki.move,te.handleDrag),(0,Yn.removeEvent)(De.ownerDocument,ki.stop,te.handleDragStop))}}}),fi(Zn(te),"onMouseDown",function(he){return ki=mi.mouse,te.handleDragStart(he)}),fi(Zn(te),"onMouseUp",function(he){return ki=mi.mouse,te.handleDragStop(he)}),fi(Zn(te),"onTouchStart",function(he){return ki=mi.touch,te.handleDragStart(he)}),fi(Zn(te),"onTouchEnd",function(he){return ki=mi.touch,te.handleDragStop(he)}),te}return Zp(Q,[{key:"componentDidMount",value:function(){this.mounted=!0;var te=this.findDOMNode();te&&(0,Yn.addEvent)(te,mi.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var te=this.findDOMNode();if(te){var re=te.ownerDocument;(0,Yn.removeEvent)(re,mi.mouse.move,this.handleDrag),(0,Yn.removeEvent)(re,mi.touch.move,this.handleDrag),(0,Yn.removeEvent)(re,mi.mouse.stop,this.handleDragStop),(0,Yn.removeEvent)(re,mi.touch.stop,this.handleDragStop),(0,Yn.removeEvent)(te,mi.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,Yn.removeUserSelectStyles)(re)}}},{key:"findDOMNode",value:function(){var te,re,ae;return(te=(re=this.props)===null||re===void 0||(ae=re.nodeRef)===null||ae===void 0?void 0:ae.current)!==null&&te!==void 0?te:$p.default.findDOMNode(this)}},{key:"render",value:function(){return ya.cloneElement(ya.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Q}(ya.Component);io.default=ao,fi(ao,"displayName","DraggableCore"),fi(ao,"propTypes",{allowAnyClick:si.default.bool,disabled:si.default.bool,enableUserSelectHack:si.default.bool,offsetParent:function(ee,ie){if(ee[ie]&&ee[ie].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:si.default.arrayOf(si.default.number),handle:si.default.string,cancel:si.default.string,nodeRef:si.default.object,onStart:si.default.func,onDrag:si.default.func,onStop:si.default.func,onMouseDown:si.default.func,scale:si.default.number,className:ba.dontSetMe,style:ba.dontSetMe,transform:ba.dontSetMe}),fi(ao,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(ee){function ie(Dt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ie=function(Vt){return typeof Vt}:ie=function(Vt){return Vt&&typeof Symbol=="function"&&Vt.constructor===Symbol&&Vt!==Symbol.prototype?"symbol":typeof Vt},ie(Dt)}Object.defineProperty(ee,"__esModule",{value:!0}),Object.defineProperty(ee,"DraggableCore",{enumerable:!0,get:function(){return ge.default}}),ee.default=void 0;var Q=Be(nr),te=Ee(Rr.exports),re=Ee(nr),ae=Ee(cp),de=Hn,he=bi,pe=yi,ge=Ee(io),ye=Ee(ro),xe=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Ee(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}function De(Dt){if(typeof WeakMap!="function")return null;var Vt=new WeakMap,Gt=new WeakMap;return(De=function($t){return $t?Gt:Vt})(Dt)}function Be(Dt,Vt){if(!Vt&&Dt&&Dt.__esModule)return Dt;if(Dt===null||ie(Dt)!=="object"&&typeof Dt!="function")return{default:Dt};var Gt=De(Vt);if(Gt&&Gt.has(Dt))return Gt.get(Dt);var $t={},Xt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var hn in Dt)if(hn!=="default"&&Object.prototype.hasOwnProperty.call(Dt,hn)){var kn=Xt?Object.getOwnPropertyDescriptor(Dt,hn):null;kn&&(kn.get||kn.set)?Object.defineProperty($t,hn,kn):$t[hn]=Dt[hn]}return $t.default=Dt,Gt&&Gt.set(Dt,$t),$t}function et(){return et=Object.assign||function(Dt){for(var Vt=1;Vt<arguments.length;Vt++){var Gt=arguments[Vt];for(var $t in Gt)Object.prototype.hasOwnProperty.call(Gt,$t)&&(Dt[$t]=Gt[$t])}return Dt},et.apply(this,arguments)}function Ke(Dt,Vt){if(Dt==null)return{};var Gt=nt(Dt,Vt),$t,Xt;if(Object.getOwnPropertySymbols){var hn=Object.getOwnPropertySymbols(Dt);for(Xt=0;Xt<hn.length;Xt++)$t=hn[Xt],!(Vt.indexOf($t)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Dt,$t)||(Gt[$t]=Dt[$t]))}return Gt}function nt(Dt,Vt){if(Dt==null)return{};var Gt={},$t=Object.keys(Dt),Xt,hn;for(hn=0;hn<$t.length;hn++)Xt=$t[hn],!(Vt.indexOf(Xt)>=0)&&(Gt[Xt]=Dt[Xt]);return Gt}function Ce(Dt,Vt){var Gt=Object.keys(Dt);if(Object.getOwnPropertySymbols){var $t=Object.getOwnPropertySymbols(Dt);Vt&&($t=$t.filter(function(Xt){return Object.getOwnPropertyDescriptor(Dt,Xt).enumerable})),Gt.push.apply(Gt,$t)}return Gt}function Ye(Dt){for(var Vt=1;Vt<arguments.length;Vt++){var Gt=arguments[Vt]!=null?arguments[Vt]:{};Vt%2?Ce(Object(Gt),!0).forEach(function($t){Jt(Dt,$t,Gt[$t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Dt,Object.getOwnPropertyDescriptors(Gt)):Ce(Object(Gt)).forEach(function($t){Object.defineProperty(Dt,$t,Object.getOwnPropertyDescriptor(Gt,$t))})}return Dt}function ct(Dt,Vt){return Ht(Dt)||Mt(Dt,Vt)||ft(Dt,Vt)||ut()}function ut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ft(Dt,Vt){if(Dt){if(typeof Dt=="string")return gt(Dt,Vt);var Gt=Object.prototype.toString.call(Dt).slice(8,-1);if(Gt==="Object"&&Dt.constructor&&(Gt=Dt.constructor.name),Gt==="Map"||Gt==="Set")return Array.from(Dt);if(Gt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Gt))return gt(Dt,Vt)}}function gt(Dt,Vt){(Vt==null||Vt>Dt.length)&&(Vt=Dt.length);for(var Gt=0,$t=new Array(Vt);Gt<Vt;Gt++)$t[Gt]=Dt[Gt];return $t}function Mt(Dt,Vt){var Gt=Dt==null?null:typeof Symbol<"u"&&Dt[Symbol.iterator]||Dt["@@iterator"];if(Gt!=null){var $t=[],Xt=!0,hn=!1,kn,Ln;try{for(Gt=Gt.call(Dt);!(Xt=(kn=Gt.next()).done)&&($t.push(kn.value),!(Vt&&$t.length===Vt));Xt=!0);}catch(Tn){hn=!0,Ln=Tn}finally{try{!Xt&&Gt.return!=null&&Gt.return()}finally{if(hn)throw Ln}}return $t}}function Ht(Dt){if(Array.isArray(Dt))return Dt}function Yt(Dt,Vt){if(!(Dt instanceof Vt))throw new TypeError("Cannot call a class as a function")}function tn(Dt,Vt){for(var Gt=0;Gt<Vt.length;Gt++){var $t=Vt[Gt];$t.enumerable=$t.enumerable||!1,$t.configurable=!0,"value"in $t&&($t.writable=!0),Object.defineProperty(Dt,$t.key,$t)}}function Zt(Dt,Vt,Gt){return Vt&&tn(Dt.prototype,Vt),Gt&&tn(Dt,Gt),Dt}function dn(Dt,Vt){if(typeof Vt!="function"&&Vt!==null)throw new TypeError("Super expression must either be null or a function");Dt.prototype=Object.create(Vt&&Vt.prototype,{constructor:{value:Dt,writable:!0,configurable:!0}}),Vt&&ln(Dt,Vt)}function ln(Dt,Vt){return ln=Object.setPrototypeOf||function(Gt,$t){return Gt.__proto__=$t,Gt},ln(Dt,Vt)}function bn(Dt){var Vt=Pn();return function(){var Gt=Nn(Dt),$t;if(Vt){var Xt=Nn(this).constructor;$t=Reflect.construct(Gt,arguments,Xt)}else $t=Gt.apply(this,arguments);return yn(this,$t)}}function yn(Dt,Vt){if(Vt&&(ie(Vt)==="object"||typeof Vt=="function"))return Vt;if(Vt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(Dt)}function xn(Dt){if(Dt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dt}function Pn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Nn(Dt){return Nn=Object.setPrototypeOf?Object.getPrototypeOf:function(Vt){return Vt.__proto__||Object.getPrototypeOf(Vt)},Nn(Dt)}function Jt(Dt,Vt,Gt){return Vt in Dt?Object.defineProperty(Dt,Vt,{value:Gt,enumerable:!0,configurable:!0,writable:!0}):Dt[Vt]=Gt,Dt}var Sn=function(Dt){dn(Gt,Dt);var Vt=bn(Gt);function Gt($t){var Xt;return Yt(this,Gt),Xt=Vt.call(this,$t),Jt(xn(Xt),"onDragStart",function(hn,kn){(0,ye.default)("Draggable: onDragStart: %j",kn);var Ln=Xt.props.onStart(hn,(0,he.createDraggableData)(xn(Xt),kn));if(Ln===!1)return!1;Xt.setState({dragging:!0,dragged:!0})}),Jt(xn(Xt),"onDrag",function(hn,kn){if(!Xt.state.dragging)return!1;(0,ye.default)("Draggable: onDrag: %j",kn);var Ln=(0,he.createDraggableData)(xn(Xt),kn),Tn={x:Ln.x,y:Ln.y};if(Xt.props.bounds){var gi=Tn.x,ri=Tn.y;Tn.x+=Xt.state.slackX,Tn.y+=Xt.state.slackY;var di=(0,he.getBoundPosition)(xn(Xt),Tn.x,Tn.y),Te=ct(di,2),Qe=Te[0],Ct=Te[1];Tn.x=Qe,Tn.y=Ct,Tn.slackX=Xt.state.slackX+(gi-Tn.x),Tn.slackY=Xt.state.slackY+(ri-Tn.y),Ln.x=Tn.x,Ln.y=Tn.y,Ln.deltaX=Tn.x-Xt.state.x,Ln.deltaY=Tn.y-Xt.state.y}var Lt=Xt.props.onDrag(hn,Ln);if(Lt===!1)return!1;Xt.setState(Tn)}),Jt(xn(Xt),"onDragStop",function(hn,kn){if(!Xt.state.dragging)return!1;var Ln=Xt.props.onStop(hn,(0,he.createDraggableData)(xn(Xt),kn));if(Ln===!1)return!1;(0,ye.default)("Draggable: onDragStop: %j",kn);var Tn={dragging:!1,slackX:0,slackY:0},gi=Boolean(Xt.props.position);if(gi){var ri=Xt.props.position,di=ri.x,Te=ri.y;Tn.x=di,Tn.y=Te}Xt.setState(Tn)}),Xt.state={dragging:!1,dragged:!1,x:$t.position?$t.position.x:$t.defaultPosition.x,y:$t.position?$t.position.y:$t.defaultPosition.y,prevPropsPosition:Ye({},$t.position),slackX:0,slackY:0,isElementSVG:!1},$t.position&&!($t.onDrag||$t.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),Xt}return Zt(Gt,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var $t,Xt,hn;return($t=(Xt=this.props)===null||Xt===void 0||(hn=Xt.nodeRef)===null||hn===void 0?void 0:hn.current)!==null&&$t!==void 0?$t:re.default.findDOMNode(this)}},{key:"render",value:function(){var $t,Xt=this.props;Xt.axis,Xt.bounds;var hn=Xt.children,kn=Xt.defaultPosition,Ln=Xt.defaultClassName,Tn=Xt.defaultClassNameDragging,gi=Xt.defaultClassNameDragged,ri=Xt.position,di=Xt.positionOffset;Xt.scale;var Te=Ke(Xt,xe),Qe={},Ct=null,Lt=Boolean(ri),Rt=!Lt||this.state.dragging,an=ri||kn,Qt={x:(0,he.canDragX)(this)&&Rt?this.state.x:an.x,y:(0,he.canDragY)(this)&&Rt?this.state.y:an.y};this.state.isElementSVG?Ct=(0,de.createSVGTransform)(Qt,di):Qe=(0,de.createCSSTransform)(Qt,di);var On=(0,ae.default)(hn.props.className||"",Ln,($t={},Jt($t,Tn,this.state.dragging),Jt($t,gi,this.state.dragged),$t));return Q.createElement(ge.default,et({},Te,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Q.cloneElement(Q.Children.only(hn),{className:On,style:Ye(Ye({},hn.props.style),Qe),transform:Ct}))}}],[{key:"getDerivedStateFromProps",value:function($t,Xt){var hn=$t.position,kn=Xt.prevPropsPosition;return hn&&(!kn||hn.x!==kn.x||hn.y!==kn.y)?((0,ye.default)("Draggable: getDerivedStateFromProps %j",{position:hn,prevPropsPosition:kn}),{x:hn.x,y:hn.y,prevPropsPosition:Ye({},hn)}):null}}]),Gt}(Q.Component);ee.default=Sn,Jt(Sn,"displayName","Draggable"),Jt(Sn,"propTypes",Ye(Ye({},ge.default.propTypes),{},{axis:te.default.oneOf(["both","x","y","none"]),bounds:te.default.oneOfType([te.default.shape({left:te.default.number,right:te.default.number,top:te.default.number,bottom:te.default.number}),te.default.string,te.default.oneOf([!1])]),defaultClassName:te.default.string,defaultClassNameDragging:te.default.string,defaultClassNameDragged:te.default.string,defaultPosition:te.default.shape({x:te.default.number,y:te.default.number}),positionOffset:te.default.shape({x:te.default.oneOfType([te.default.number,te.default.string]),y:te.default.oneOfType([te.default.number,te.default.string])}),position:te.default.shape({x:te.default.number,y:te.default.number}),className:pe.dontSetMe,style:pe.dontSetMe,transform:pe.dontSetMe})),Jt(Sn,"defaultProps",Ye(Ye({},ge.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(yl);var Ml=yl,Fl=Ml.default,nf=Ml.DraggableCore;eo.exports=Fl,eo.exports.default=Fl,eo.exports.DraggableCore=nf;var rf=eo.exports,of=["second","minute","hour","day","week","month","year"];function af(ee,ie){if(ie===0)return["just now","right now"];var Q=of[Math.floor(ie/2)];return ee>1&&(Q+="s"),[ee+" "+Q+" ago","in "+ee+" "+Q]}var sf=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function lf(ee,ie){if(ie===0)return["\u521A\u521A","\u7247\u523B\u540E"];var Q=sf[~~(ie/2)];return[ee+" "+Q+"\u524D",ee+" "+Q+"\u540E"]}var Sa={},jn=function(ee,ie){Sa[ee]=ie},Bl=function(ee){return Sa[ee]||Sa.en_US},Wi=[60,60,24,7,365/7/12,12];function Ll(ee){return ee instanceof Date?ee:!isNaN(ee)||/^\d+$/.test(ee)?new Date(parseInt(ee)):(ee=(ee||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(ee))}function Hl(ee,ie){var Q=ee<0?1:0;ee=Math.abs(ee);for(var te=ee,re=0;ee>=Wi[re]&&re<Wi.length;re++)ee/=Wi[re];return ee=Math.floor(ee),re*=2,ee>(re===0?9:1)&&(re+=1),ie(ee,re,te)[Q].replace("%s",ee.toString())}function jl(ee,ie){var Q=ie?Ll(ie):new Date;return(+Q-+Ll(ee))/1e3}function uf(ee){for(var ie=1,Q=0,te=Math.abs(ee);ee>=Wi[Q]&&Q<Wi.length;Q++)ee/=Wi[Q],ie*=Wi[Q];return te=te%ie,te=te?ie-te:ie,Math.ceil(te)}var cf=function(ee,ie,Q){var te=jl(ee,Q&&Q.relativeDate);return Hl(te,Bl(ie))},zl="timeago-id";function df(ee){return ee.getAttribute("datetime")}function hf(ee,ie){ee.setAttribute(zl,ie)}function Vl(ee){return parseInt(ee.getAttribute(zl))}var Ea={},Ca=function(ee){clearTimeout(ee),delete Ea[ee]};function $l(ee,ie,Q,te){Ca(Vl(ee));var re=te.relativeDate,ae=te.minInterval,de=jl(ie,re);ee.innerText=Hl(de,Q);var he=setTimeout(function(){$l(ee,ie,Q,te)},Math.min(Math.max(uf(de),ae||1)*1e3,2147483647));Ea[he]=0,hf(ee,he)}function Ul(ee){ee?Ca(Vl(ee)):Object.keys(Ea).forEach(Ca)}function pf(ee,ie,Q){var te=ee.length?ee:[ee];return te.forEach(function(re){$l(re,df(re),Bl(ie),Q||{})}),te}jn("en_US",af),jn("zh_CN",lf);var ff=globalThis&&globalThis.__extends||function(){var ee=function(ie,Q){return ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(te,re){te.__proto__=re}||function(te,re){for(var ae in re)re.hasOwnProperty(ae)&&(te[ae]=re[ae])},ee(ie,Q)};return function(ie,Q){ee(ie,Q);function te(){this.constructor=ie}ie.prototype=Q===null?Object.create(Q):(te.prototype=Q.prototype,new te)}}(),Ta=globalThis&&globalThis.__assign||function(){return Ta=Object.assign||function(ee){for(var ie,Q=1,te=arguments.length;Q<te;Q++){ie=arguments[Q];for(var re in ie)Object.prototype.hasOwnProperty.call(ie,re)&&(ee[re]=ie[re])}return ee},Ta.apply(this,arguments)},gf=globalThis&&globalThis.__rest||function(ee,ie){var Q={};for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&ie.indexOf(te)<0&&(Q[te]=ee[te]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,te=Object.getOwnPropertySymbols(ee);re<te.length;re++)ie.indexOf(te[re])<0&&Object.prototype.propertyIsEnumerable.call(ee,te[re])&&(Q[te[re]]=ee[te[re]]);return Q},mf=function(ee){return""+(ee instanceof Date?ee.getTime():ee)},vf=function(ee){ff(ie,ee);function ie(){var Q=ee!==null&&ee.apply(this,arguments)||this;return Q.dom=null,Q}return ie.prototype.componentDidMount=function(){this.renderTimeAgo()},ie.prototype.componentDidUpdate=function(){this.renderTimeAgo()},ie.prototype.renderTimeAgo=function(){var Q=this.props,te=Q.live,re=Q.datetime,ae=Q.locale,de=Q.opts;Ul(this.dom),te!==!1&&(this.dom.setAttribute("datetime",mf(re)),pf(this.dom,ae,de))},ie.prototype.componentWillUnmount=function(){Ul(this.dom)},ie.prototype.render=function(){var Q=this,te=this.props,re=te.datetime;te.live;var ae=te.locale,de=te.opts,he=gf(te,["datetime","live","locale","opts"]);return Me("time",Ta({ref:function(pe){Q.dom=pe}},he),cf(re,ae,de))},ie.defaultProps={live:!0,className:""},ie}(vi);function yf(ee,ie){const Q=te=>{ee.current&&!ee.current.contains(event.target)&&ie()};St(()=>(document.addEventListener("mousedown",Q),()=>document.removeEventListener("mousedown",Q)))}var Wl=Object.prototype.toString,Gl=function(ee){var ie=Wl.call(ee),Q=ie==="[object Arguments]";return Q||(Q=ie!=="[object Array]"&&ee!==null&&typeof ee=="object"&&typeof ee.length=="number"&&ee.length>=0&&Wl.call(ee.callee)==="[object Function]"),Q},ql;if(!Object.keys){var so=Object.prototype.hasOwnProperty,Kl=Object.prototype.toString,bf=Gl,Xl=Object.prototype.propertyIsEnumerable,wf=!Xl.call({toString:null},"toString"),xf=Xl.call(function(){},"prototype"),lo=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Pa=function(ee){var ie=ee.constructor;return ie&&ie.prototype===ee},Sf={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Ef=function(){if(typeof window>"u")return!1;for(var ee in window)try{if(!Sf["$"+ee]&&so.call(window,ee)&&window[ee]!==null&&typeof window[ee]=="object")try{Pa(window[ee])}catch{return!0}}catch{return!0}return!1}(),Cf=function(ee){if(typeof window>"u"||!Ef)return Pa(ee);try{return Pa(ee)}catch{return!1}};ql=function(ee){var ie=ee!==null&&typeof ee=="object",Q=Kl.call(ee)==="[object Function]",te=bf(ee),re=ie&&Kl.call(ee)==="[object String]",ae=[];if(!ie&&!Q&&!te)throw new TypeError("Object.keys called on a non-object");var de=xf&&Q;if(re&&ee.length>0&&!so.call(ee,0))for(var he=0;he<ee.length;++he)ae.push(String(he));if(te&&ee.length>0)for(var pe=0;pe<ee.length;++pe)ae.push(String(pe));else for(var ge in ee)!(de&&ge==="prototype")&&so.call(ee,ge)&&ae.push(String(ge));if(wf)for(var ye=Cf(ee),xe=0;xe<lo.length;++xe)!(ye&&lo[xe]==="constructor")&&so.call(ee,lo[xe])&&ae.push(lo[xe]);return ae}}var _f=ql,Tf=Array.prototype.slice,Pf=Gl,Yl=Object.keys,uo=Yl?function(ee){return Yl(ee)}:_f,Zl=Object.keys;uo.shim=function(){if(Object.keys){var ee=function(){var ie=Object.keys(arguments);return ie&&ie.length===arguments.length}(1,2);ee||(Object.keys=function(ie){return Pf(ie)?Zl(Tf.call(ie)):Zl(ie)})}else Object.keys=uo;return Object.keys||uo};var Of=uo,Af=Of,Rf=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Df=Object.prototype.toString,kf=Array.prototype.concat,Oa=Object.defineProperty,If=function(ee){return typeof ee=="function"&&Df.call(ee)==="[object Function]"},Nf=function(){var ee={};try{Oa(ee,"x",{enumerable:!1,value:ee});for(var ie in ee)return!1;return ee.x===ee}catch{return!1}},Jl=Oa&&Nf(),Mf=function(ee,ie,Q,te){ie in ee&&(!If(te)||!te())||(Jl?Oa(ee,ie,{configurable:!0,enumerable:!1,value:Q,writable:!0}):ee[ie]=Q)},Ql=function(ee,ie){var Q=arguments.length>2?arguments[2]:{},te=Af(ie);Rf&&(te=kf.call(te,Object.getOwnPropertySymbols(ie)));for(var re=0;re<te.length;re+=1)Mf(ee,te[re],ie[te[re]],Q[te[re]])};Ql.supportsDescriptors=!!Jl;var rr=Ql,or={exports:{}},Ff="Function.prototype.bind called on incompatible ",Aa=Array.prototype.slice,Bf=Object.prototype.toString,Lf="[object Function]",Hf=function(ee){var ie=this;if(typeof ie!="function"||Bf.call(ie)!==Lf)throw new TypeError(Ff+ie);for(var Q=Aa.call(arguments,1),te,re=function(){if(this instanceof te){var ge=ie.apply(this,Q.concat(Aa.call(arguments)));return Object(ge)===ge?ge:this}else return ie.apply(ee,Q.concat(Aa.call(arguments)))},ae=Math.max(0,ie.length-Q.length),de=[],he=0;he<ae;he++)de.push("$"+he);if(te=Function("binder","return function ("+de.join(",")+"){ return binder.apply(this,arguments); }")(re),ie.prototype){var pe=function(){};pe.prototype=ie.prototype,te.prototype=new pe,pe.prototype=null}return te},jf=Hf,Ra=Function.prototype.bind||jf,eu=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var ee={},ie=Symbol("test"),Q=Object(ie);if(typeof ie=="string"||Object.prototype.toString.call(ie)!=="[object Symbol]"||Object.prototype.toString.call(Q)!=="[object Symbol]")return!1;var te=42;ee[ie]=te;for(ie in ee)return!1;if(typeof Object.keys=="function"&&Object.keys(ee).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(ee).length!==0)return!1;var re=Object.getOwnPropertySymbols(ee);if(re.length!==1||re[0]!==ie||!Object.prototype.propertyIsEnumerable.call(ee,ie))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var ae=Object.getOwnPropertyDescriptor(ee,ie);if(ae.value!==te||ae.enumerable!==!0)return!1}return!0},tu=typeof Symbol<"u"&&Symbol,zf=eu,nu=function(){return typeof tu!="function"||typeof Symbol!="function"||typeof tu("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:zf()},Vf=Ra,iu=Vf.call(Function.call,Object.prototype.hasOwnProperty),Cn,Ir=SyntaxError,ru=Function,ar=TypeError,Da=function(ee){try{return ru('"use strict"; return ('+ee+").constructor;")()}catch{}},Gi=Object.getOwnPropertyDescriptor;if(Gi)try{Gi({},"")}catch{Gi=null}var ka=function(){throw new ar},$f=Gi?function(){try{return arguments.callee,ka}catch{try{return Gi(arguments,"callee").get}catch{return ka}}}():ka,sr=nu(),Ii=Object.getPrototypeOf||function(ee){return ee.__proto__},lr={},Uf=typeof Uint8Array>"u"?Cn:Ii(Uint8Array),ur={"%AggregateError%":typeof AggregateError>"u"?Cn:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Cn:ArrayBuffer,"%ArrayIteratorPrototype%":sr?Ii([][Symbol.iterator]()):Cn,"%AsyncFromSyncIteratorPrototype%":Cn,"%AsyncFunction%":lr,"%AsyncGenerator%":lr,"%AsyncGeneratorFunction%":lr,"%AsyncIteratorPrototype%":lr,"%Atomics%":typeof Atomics>"u"?Cn:Atomics,"%BigInt%":typeof BigInt>"u"?Cn:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Cn:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Cn:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Cn:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Cn:FinalizationRegistry,"%Function%":ru,"%GeneratorFunction%":lr,"%Int8Array%":typeof Int8Array>"u"?Cn:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Cn:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Cn:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":sr?Ii(Ii([][Symbol.iterator]())):Cn,"%JSON%":typeof JSON=="object"?JSON:Cn,"%Map%":typeof Map>"u"?Cn:Map,"%MapIteratorPrototype%":typeof Map>"u"||!sr?Cn:Ii(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Cn:Promise,"%Proxy%":typeof Proxy>"u"?Cn:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Cn:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Cn:Set,"%SetIteratorPrototype%":typeof Set>"u"||!sr?Cn:Ii(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Cn:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":sr?Ii(""[Symbol.iterator]()):Cn,"%Symbol%":sr?Symbol:Cn,"%SyntaxError%":Ir,"%ThrowTypeError%":$f,"%TypedArray%":Uf,"%TypeError%":ar,"%Uint8Array%":typeof Uint8Array>"u"?Cn:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Cn:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Cn:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Cn:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Cn:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Cn:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Cn:WeakSet},Wf=function ee(ie){var Q;if(ie==="%AsyncFunction%")Q=Da("async function () {}");else if(ie==="%GeneratorFunction%")Q=Da("function* () {}");else if(ie==="%AsyncGeneratorFunction%")Q=Da("async function* () {}");else if(ie==="%AsyncGenerator%"){var te=ee("%AsyncGeneratorFunction%");te&&(Q=te.prototype)}else if(ie==="%AsyncIteratorPrototype%"){var re=ee("%AsyncGenerator%");re&&(Q=Ii(re.prototype))}return ur[ie]=Q,Q},ou={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},co=Ra,ho=iu,Gf=co.call(Function.call,Array.prototype.concat),qf=co.call(Function.apply,Array.prototype.splice),au=co.call(Function.call,String.prototype.replace),po=co.call(Function.call,String.prototype.slice),Kf=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Xf=/\\(\\)?/g,Yf=function(ee){var ie=po(ee,0,1),Q=po(ee,-1);if(ie==="%"&&Q!=="%")throw new Ir("invalid intrinsic syntax, expected closing `%`");if(Q==="%"&&ie!=="%")throw new Ir("invalid intrinsic syntax, expected opening `%`");var te=[];return au(ee,Kf,function(re,ae,de,he){te[te.length]=de?au(he,Xf,"$1"):ae||re}),te},Zf=function(ee,ie){var Q=ee,te;if(ho(ou,Q)&&(te=ou[Q],Q="%"+te[0]+"%"),ho(ur,Q)){var re=ur[Q];if(re===lr&&(re=Wf(Q)),typeof re>"u"&&!ie)throw new ar("intrinsic "+ee+" exists, but is not available. Please file an issue!");return{alias:te,name:Q,value:re}}throw new Ir("intrinsic "+ee+" does not exist!")},ei=function(ee,ie){if(typeof ee!="string"||ee.length===0)throw new ar("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ie!="boolean")throw new ar('"allowMissing" argument must be a boolean');var Q=Yf(ee),te=Q.length>0?Q[0]:"",re=Zf("%"+te+"%",ie),ae=re.name,de=re.value,he=!1,pe=re.alias;pe&&(te=pe[0],qf(Q,Gf([0,1],pe)));for(var ge=1,ye=!0;ge<Q.length;ge+=1){var xe=Q[ge],Ee=po(xe,0,1),De=po(xe,-1);if((Ee==='"'||Ee==="'"||Ee==="`"||De==='"'||De==="'"||De==="`")&&Ee!==De)throw new Ir("property names with quotes must have matching quotes");if((xe==="constructor"||!ye)&&(he=!0),te+="."+xe,ae="%"+te+"%",ho(ur,ae))de=ur[ae];else if(de!=null){if(!(xe in de)){if(!ie)throw new ar("base intrinsic for "+ee+" exists, but the property is not available.");return}if(Gi&&ge+1>=Q.length){var Be=Gi(de,xe);ye=!!Be,ye&&"get"in Be&&!("originalValue"in Be.get)?de=Be.get:de=de[xe]}else ye=ho(de,xe),de=de[xe];ye&&!he&&(ur[ae]=de)}}return de};(function(ee){var ie=Ra,Q=ei,te=Q("%Function.prototype.apply%"),re=Q("%Function.prototype.call%"),ae=Q("%Reflect.apply%",!0)||ie.call(re,te),de=Q("%Object.getOwnPropertyDescriptor%",!0),he=Q("%Object.defineProperty%",!0),pe=Q("%Math.max%");if(he)try{he({},"a",{value:1})}catch{he=null}ee.exports=function(ye){var xe=ae(ie,re,arguments);if(de&&he){var Ee=de(xe,"length");Ee.configurable&&he(xe,"length",{value:1+pe(0,ye.length-(arguments.length-1))})}return xe};var ge=function(){return ae(ie,te,arguments)};he?he(ee.exports,"apply",{value:ge}):ee.exports.apply=ge})(or);var su=ei,lu=or.exports,Jf=lu(su("String.prototype.indexOf")),qi=function(ee,ie){var Q=su(ee,!!ie);return typeof Q=="function"&&Jf(ee,".prototype.")>-1?lu(Q):Q},Qf=ei,eg=Qf("%TypeError%"),tg=function(ee,ie){if(ee==null)throw new eg(ie||"Cannot call method on "+ee);return ee},fo=tg,ng=ei,uu=ng("%Array%"),ig=!uu.isArray&&qi("Object.prototype.toString"),rg=uu.isArray||function(ee){return ig(ee)==="[object Array]"},cu=ei,og=qi,ag=cu("%TypeError%"),sg=rg,lg=cu("%Reflect.apply%",!0)||og("%Function.prototype.apply%"),ug=function(ee,ie){var Q=arguments.length>2?arguments[2]:[];if(!sg(Q))throw new ag("Assertion failed: optional `argumentsList`, if provided, must be a List");return lg(ee,ie,Q)},cg={},dg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:cg}),hg=Jr(dg),Ia=typeof Map=="function"&&Map.prototype,Na=Object.getOwnPropertyDescriptor&&Ia?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,go=Ia&&Na&&typeof Na.get=="function"?Na.get:null,pg=Ia&&Map.prototype.forEach,Ma=typeof Set=="function"&&Set.prototype,Fa=Object.getOwnPropertyDescriptor&&Ma?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,mo=Ma&&Fa&&typeof Fa.get=="function"?Fa.get:null,fg=Ma&&Set.prototype.forEach,gg=typeof WeakMap=="function"&&WeakMap.prototype,Nr=gg?WeakMap.prototype.has:null,mg=typeof WeakSet=="function"&&WeakSet.prototype,Mr=mg?WeakSet.prototype.has:null,vg=typeof WeakRef=="function"&&WeakRef.prototype,du=vg?WeakRef.prototype.deref:null,yg=Boolean.prototype.valueOf,bg=Object.prototype.toString,wg=Function.prototype.toString,xg=String.prototype.match,Ba=String.prototype.slice,Ni=String.prototype.replace,Sg=String.prototype.toUpperCase,hu=String.prototype.toLowerCase,pu=RegExp.prototype.test,fu=Array.prototype.concat,wi=Array.prototype.join,Eg=Array.prototype.slice,gu=Math.floor,La=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ha=Object.getOwnPropertySymbols,ja=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,cr=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Jn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===cr?"object":"symbol")?Symbol.toStringTag:null,mu=Object.prototype.propertyIsEnumerable,vu=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(ee){return ee.__proto__}:null);function yu(ee,ie){if(ee===1/0||ee===-1/0||ee!==ee||ee&&ee>-1e3&&ee<1e3||pu.call(/e/,ie))return ie;var Q=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof ee=="number"){var te=ee<0?-gu(-ee):gu(ee);if(te!==ee){var re=String(te),ae=Ba.call(ie,re.length+1);return Ni.call(re,Q,"$&_")+"."+Ni.call(Ni.call(ae,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ni.call(ie,Q,"$&_")}var za=hg.custom,Va=za&&wu(za)?za:null,Cg=function ee(ie,Q,te,re){var ae=Q||{};if(Mi(ae,"quoteStyle")&&ae.quoteStyle!=="single"&&ae.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Mi(ae,"maxStringLength")&&(typeof ae.maxStringLength=="number"?ae.maxStringLength<0&&ae.maxStringLength!==1/0:ae.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var de=Mi(ae,"customInspect")?ae.customInspect:!0;if(typeof de!="boolean"&&de!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Mi(ae,"indent")&&ae.indent!==null&&ae.indent!=="	"&&!(parseInt(ae.indent,10)===ae.indent&&ae.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Mi(ae,"numericSeparator")&&typeof ae.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var he=ae.numericSeparator;if(typeof ie>"u")return"undefined";if(ie===null)return"null";if(typeof ie=="boolean")return ie?"true":"false";if(typeof ie=="string")return Su(ie,ae);if(typeof ie=="number"){if(ie===0)return 1/0/ie>0?"0":"-0";var pe=String(ie);return he?yu(ie,pe):pe}if(typeof ie=="bigint"){var ge=String(ie)+"n";return he?yu(ie,ge):ge}var ye=typeof ae.depth>"u"?5:ae.depth;if(typeof te>"u"&&(te=0),te>=ye&&ye>0&&typeof ie=="object")return $a(ie)?"[Array]":"[Object]";var xe=$g(ae,te);if(typeof re>"u")re=[];else if(xu(re,ie)>=0)return"[Circular]";function Ee(dn,ln,bn){if(ln&&(re=Eg.call(re),re.push(ln)),bn){var yn={depth:ae.depth};return Mi(ae,"quoteStyle")&&(yn.quoteStyle=ae.quoteStyle),ee(dn,yn,te+1,re)}return ee(dn,ae,te+1,re)}if(typeof ie=="function"){var De=Ng(ie),Be=vo(ie,Ee);return"[Function"+(De?": "+De:" (anonymous)")+"]"+(Be.length>0?" { "+wi.call(Be,", ")+" }":"")}if(wu(ie)){var et=cr?Ni.call(String(ie),/^(Symbol\(.*\))_[^)]*$/,"$1"):ja.call(ie);return typeof ie=="object"&&!cr?Fr(et):et}if(jg(ie)){for(var Ke="<"+hu.call(String(ie.nodeName)),nt=ie.attributes||[],Ce=0;Ce<nt.length;Ce++)Ke+=" "+nt[Ce].name+"="+bu(_g(nt[Ce].value),"double",ae);return Ke+=">",ie.childNodes&&ie.childNodes.length&&(Ke+="..."),Ke+="</"+hu.call(String(ie.nodeName))+">",Ke}if($a(ie)){if(ie.length===0)return"[]";var Ye=vo(ie,Ee);return xe&&!Vg(Ye)?"["+Wa(Ye,xe)+"]":"[ "+wi.call(Ye,", ")+" ]"}if(Og(ie)){var ct=vo(ie,Ee);return"cause"in ie&&!mu.call(ie,"cause")?"{ ["+String(ie)+"] "+wi.call(fu.call("[cause]: "+Ee(ie.cause),ct),", ")+" }":ct.length===0?"["+String(ie)+"]":"{ ["+String(ie)+"] "+wi.call(ct,", ")+" }"}if(typeof ie=="object"&&de){if(Va&&typeof ie[Va]=="function")return ie[Va]();if(de!=="symbol"&&typeof ie.inspect=="function")return ie.inspect()}if(Mg(ie)){var ut=[];return pg.call(ie,function(dn,ln){ut.push(Ee(ln,ie,!0)+" => "+Ee(dn,ie))}),Eu("Map",go.call(ie),ut,xe)}if(Lg(ie)){var ft=[];return fg.call(ie,function(dn){ft.push(Ee(dn,ie))}),Eu("Set",mo.call(ie),ft,xe)}if(Fg(ie))return Ua("WeakMap");if(Hg(ie))return Ua("WeakSet");if(Bg(ie))return Ua("WeakRef");if(Rg(ie))return Fr(Ee(Number(ie)));if(kg(ie))return Fr(Ee(La.call(ie)));if(Dg(ie))return Fr(yg.call(ie));if(Ag(ie))return Fr(Ee(String(ie)));if(!Tg(ie)&&!Pg(ie)){var gt=vo(ie,Ee),Mt=vu?vu(ie)===Object.prototype:ie instanceof Object||ie.constructor===Object,Ht=ie instanceof Object?"":"null prototype",Yt=!Mt&&Jn&&Object(ie)===ie&&Jn in ie?Ba.call(Fi(ie),8,-1):Ht?"Object":"",tn=Mt||typeof ie.constructor!="function"?"":ie.constructor.name?ie.constructor.name+" ":"",Zt=tn+(Yt||Ht?"["+wi.call(fu.call([],Yt||[],Ht||[]),": ")+"] ":"");return gt.length===0?Zt+"{}":xe?Zt+"{"+Wa(gt,xe)+"}":Zt+"{ "+wi.call(gt,", ")+" }"}return String(ie)};function bu(ee,ie,Q){var te=(Q.quoteStyle||ie)==="double"?'"':"'";return te+ee+te}function _g(ee){return Ni.call(String(ee),/"/g,"&quot;")}function $a(ee){return Fi(ee)==="[object Array]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Tg(ee){return Fi(ee)==="[object Date]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Pg(ee){return Fi(ee)==="[object RegExp]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Og(ee){return Fi(ee)==="[object Error]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Ag(ee){return Fi(ee)==="[object String]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Rg(ee){return Fi(ee)==="[object Number]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function Dg(ee){return Fi(ee)==="[object Boolean]"&&(!Jn||!(typeof ee=="object"&&Jn in ee))}function wu(ee){if(cr)return ee&&typeof ee=="object"&&ee instanceof Symbol;if(typeof ee=="symbol")return!0;if(!ee||typeof ee!="object"||!ja)return!1;try{return ja.call(ee),!0}catch{}return!1}function kg(ee){if(!ee||typeof ee!="object"||!La)return!1;try{return La.call(ee),!0}catch{}return!1}var Ig=Object.prototype.hasOwnProperty||function(ee){return ee in this};function Mi(ee,ie){return Ig.call(ee,ie)}function Fi(ee){return bg.call(ee)}function Ng(ee){if(ee.name)return ee.name;var ie=xg.call(wg.call(ee),/^function\s*([\w$]+)/);return ie?ie[1]:null}function xu(ee,ie){if(ee.indexOf)return ee.indexOf(ie);for(var Q=0,te=ee.length;Q<te;Q++)if(ee[Q]===ie)return Q;return-1}function Mg(ee){if(!go||!ee||typeof ee!="object")return!1;try{go.call(ee);try{mo.call(ee)}catch{return!0}return ee instanceof Map}catch{}return!1}function Fg(ee){if(!Nr||!ee||typeof ee!="object")return!1;try{Nr.call(ee,Nr);try{Mr.call(ee,Mr)}catch{return!0}return ee instanceof WeakMap}catch{}return!1}function Bg(ee){if(!du||!ee||typeof ee!="object")return!1;try{return du.call(ee),!0}catch{}return!1}function Lg(ee){if(!mo||!ee||typeof ee!="object")return!1;try{mo.call(ee);try{go.call(ee)}catch{return!0}return ee instanceof Set}catch{}return!1}function Hg(ee){if(!Mr||!ee||typeof ee!="object")return!1;try{Mr.call(ee,Mr);try{Nr.call(ee,Nr)}catch{return!0}return ee instanceof WeakSet}catch{}return!1}function jg(ee){return!ee||typeof ee!="object"?!1:typeof HTMLElement<"u"&&ee instanceof HTMLElement?!0:typeof ee.nodeName=="string"&&typeof ee.getAttribute=="function"}function Su(ee,ie){if(ee.length>ie.maxStringLength){var Q=ee.length-ie.maxStringLength,te="... "+Q+" more character"+(Q>1?"s":"");return Su(Ba.call(ee,0,ie.maxStringLength),ie)+te}var re=Ni.call(Ni.call(ee,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,zg);return bu(re,"single",ie)}function zg(ee){var ie=ee.charCodeAt(0),Q={8:"b",9:"t",10:"n",12:"f",13:"r"}[ie];return Q?"\\"+Q:"\\x"+(ie<16?"0":"")+Sg.call(ie.toString(16))}function Fr(ee){return"Object("+ee+")"}function Ua(ee){return ee+" { ? }"}function Eu(ee,ie,Q,te){var re=te?Wa(Q,te):wi.call(Q,", ");return ee+" ("+ie+") {"+re+"}"}function Vg(ee){for(var ie=0;ie<ee.length;ie++)if(xu(ee[ie],`
`)>=0)return!1;return!0}function $g(ee,ie){var Q;if(ee.indent==="	")Q="	";else if(typeof ee.indent=="number"&&ee.indent>0)Q=wi.call(Array(ee.indent+1)," ");else return null;return{base:Q,prev:wi.call(Array(ie+1),Q)}}function Wa(ee,ie){if(ee.length===0)return"";var Q=`
`+ie.prev+ie.base;return Q+wi.call(ee,","+Q)+`
`+ie.prev}function vo(ee,ie){var Q=$a(ee),te=[];if(Q){te.length=ee.length;for(var re=0;re<ee.length;re++)te[re]=Mi(ee,re)?ie(ee[re],ee):""}var ae=typeof Ha=="function"?Ha(ee):[],de;if(cr){de={};for(var he=0;he<ae.length;he++)de["$"+ae[he]]=ae[he]}for(var pe in ee)!Mi(ee,pe)||Q&&String(Number(pe))===pe&&pe<ee.length||cr&&de["$"+pe]instanceof Symbol||(pu.call(/[^\w$]/,pe)?te.push(ie(pe,ee)+": "+ie(ee[pe],ee)):te.push(pe+": "+ie(ee[pe],ee)));if(typeof Ha=="function")for(var ge=0;ge<ae.length;ge++)mu.call(ee,ae[ge])&&te.push("["+ie(ae[ge])+"]: "+ie(ee[ae[ge]],ee));return te}var Cu=function(ee){return typeof ee=="string"||typeof ee=="symbol"},Ug=function(ee){if(ee===null)return"Null";if(typeof ee>"u")return"Undefined";if(typeof ee=="function"||typeof ee=="object")return"Object";if(typeof ee=="number")return"Number";if(typeof ee=="boolean")return"Boolean";if(typeof ee=="string")return"String"},Wg=Ug,Ga=function(ee){return typeof ee=="symbol"?"Symbol":typeof ee=="bigint"?"BigInt":Wg(ee)},Gg=ei,_u=Gg("%TypeError%"),qg=Cg,Kg=Cu,Xg=Ga,Tu=function(ee,ie){if(Xg(ee)!=="Object")throw new _u("Assertion failed: Type(O) is not Object");if(!Kg(ie))throw new _u("Assertion failed: IsPropertyKey(P) is not true, got "+qg(ie));return ee[ie]},Yg=ei,Pu=Yg("%TypeError%"),Zg=Cu,Jg=Ga,Qg=function(ee,ie){if(Jg(ee)!=="Object")throw new Pu("Assertion failed: `O` must be an Object");if(!Zg(ie))throw new Pu("Assertion failed: `P` must be a Property Key");return ie in ee},Ou=Function.prototype.toString,dr=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,qa,yo;if(typeof dr=="function"&&typeof Object.defineProperty=="function")try{qa=Object.defineProperty({},"length",{get:function(){throw yo}}),yo={},dr(function(){throw 42},null,qa)}catch(ee){ee!==yo&&(dr=null)}else dr=null;var em=/^\s*class\b/,Ka=function(ee){try{var ie=Ou.call(ee);return em.test(ie)}catch{return!1}},tm=function(ee){try{return Ka(ee)?!1:(Ou.call(ee),!0)}catch{return!1}},nm=Object.prototype.toString,im="[object Function]",rm="[object GeneratorFunction]",om=typeof Symbol=="function"&&!!Symbol.toStringTag,Au=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},Xa=dr?function(ee){if(ee===Au)return!0;if(!ee||typeof ee!="function"&&typeof ee!="object")return!1;if(typeof ee=="function"&&!ee.prototype)return!0;try{dr(ee,null,qa)}catch(ie){if(ie!==yo)return!1}return!Ka(ee)}:function(ee){if(ee===Au)return!0;if(!ee||typeof ee!="function"&&typeof ee!="object")return!1;if(typeof ee=="function"&&!ee.prototype)return!0;if(om)return tm(ee);if(Ka(ee))return!1;var ie=nm.call(ee);return ie===im||ie===rm},am=Xa,Ru=ei,sm=Ru("%Math%"),lm=Ru("%Number%"),um=lm.MAX_SAFE_INTEGER||sm.pow(2,53)-1,cm=ei,dm=cm("%Math.abs%"),hm=function(ee){return dm(ee)},pm=Math.floor,fm=function(ee){return pm(ee)},Du=function(ee){return ee===null||typeof ee!="function"&&typeof ee!="object"},gm=Object.prototype.toString,ku=Du,mm=Xa,Iu={"[[DefaultValue]]":function(ee){var ie;if(arguments.length>1?ie=arguments[1]:ie=gm.call(ee)==="[object Date]"?String:Number,ie===String||ie===Number){var Q=ie===String?["toString","valueOf"]:["valueOf","toString"],te,re;for(re=0;re<Q.length;++re)if(mm(ee[Q[re]])&&(te=ee[Q[re]](),ku(te)))return te;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},vm=function(ee){return ku(ee)?ee:arguments.length>1?Iu["[[DefaultValue]]"](ee,arguments[1]):Iu["[[DefaultValue]]"](ee)},ym=vm,bm=ym,wm=function(ee){var ie=bm(ee,Number);if(typeof ie!="string")return+ie;var Q=ie.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(Q)?NaN:+Q},xm=Number.isNaN||function(ee){return ee!==ee},Sm=Number.isNaN||function(ee){return ee!==ee},Em=Number.isFinite||function(ee){return typeof ee=="number"&&!Sm(ee)&&ee!==1/0&&ee!==-1/0},Cm=function(ee){return ee>=0?1:-1},_m=hm,Tm=fm,Pm=wm,Om=xm,Am=Em,Rm=Cm,Dm=function(ee){var ie=Pm(ee);return Om(ie)?0:ie===0||!Am(ie)?ie:Rm(ie)*Tm(_m(ie))},km=ei,Im=km("RegExp.prototype.test"),Nm=or.exports,Mm=function(ee){return Nm(Im,ee)},Fm=function(ee){return ee===null||typeof ee!="function"&&typeof ee!="object"},Bm=eu,Nu=function(){return Bm()&&!!Symbol.toStringTag},Lm=Date.prototype.getDay,Hm=function(ee){try{return Lm.call(ee),!0}catch{return!1}},jm=Object.prototype.toString,zm="[object Date]",Vm=Nu(),$m=function(ee){return typeof ee!="object"||ee===null?!1:Vm?Hm(ee):jm.call(ee)===zm},Ya={exports:{}},Um=Object.prototype.toString,Wm=nu();if(Wm){var Gm=Symbol.prototype.toString,qm=/^Symbol\(.*\)$/,Km=function(ee){return typeof ee.valueOf()!="symbol"?!1:qm.test(Gm.call(ee))};Ya.exports=function(ee){if(typeof ee=="symbol")return!0;if(Um.call(ee)!=="[object Symbol]")return!1;try{return Km(ee)}catch{return!1}}}else Ya.exports=function(ee){return!1};var Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Za=Du,Mu=Xa,Ym=$m,Fu=Ya.exports,Zm=function(ee,ie){if(typeof ee>"u"||ee===null)throw new TypeError("Cannot call method on "+ee);if(typeof ie!="string"||ie!=="number"&&ie!=="string")throw new TypeError('hint must be "string" or "number"');var Q=ie==="string"?["toString","valueOf"]:["valueOf","toString"],te,re,ae;for(ae=0;ae<Q.length;++ae)if(te=ee[Q[ae]],Mu(te)&&(re=te.call(ee),Za(re)))return re;throw new TypeError("No default value")},Jm=function(ee,ie){var Q=ee[ie];if(Q!==null&&typeof Q<"u"){if(!Mu(Q))throw new TypeError(Q+" returned for property "+ie+" of object "+ee+" is not a function");return Q}},Qm=function(ee){if(Za(ee))return ee;var ie="default";arguments.length>1&&(arguments[1]===String?ie="string":arguments[1]===Number&&(ie="number"));var Q;if(Xm&&(Symbol.toPrimitive?Q=Jm(ee,Symbol.toPrimitive):Fu(ee)&&(Q=Symbol.prototype.valueOf)),typeof Q<"u"){var te=Q.call(ee,ie);if(Za(te))return te;throw new TypeError("unable to convert exotic object to primitive")}return ie==="default"&&(Ym(ee)||Fu(ee))&&(ie="string"),Zm(ee,ie==="default"?"number":ie)},Bu=Qm,ev=function(ee){return arguments.length>1?Bu(ee,arguments[1]):Bu(ee)},bo=ei,Lu=bo("%TypeError%"),Hu=bo("%Number%"),tv=bo("%RegExp%"),ju=bo("%parseInt%"),zu=qi,wo=Mm,nv=Fm,Vu=zu("String.prototype.slice"),iv=wo(/^0b[01]+$/i),rv=wo(/^0o[0-7]+$/i),ov=wo(/^[-+]0x[0-9a-f]+$/i),av=["\x85","\u200B","\uFFFE"].join(""),sv=new tv("["+av+"]","g"),lv=wo(sv),$u=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),uv=new RegExp("(^["+$u+"]+)|(["+$u+"]+$)","g"),cv=zu("String.prototype.replace"),dv=function(ee){return cv(ee,uv,"")},hv=ev,pv=function ee(ie){var Q=nv(ie)?ie:hv(ie,Hu);if(typeof Q=="symbol")throw new Lu("Cannot convert a Symbol value to a number");if(typeof Q=="bigint")throw new Lu("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof Q=="string"){if(iv(Q))return ee(ju(Vu(Q,2),2));if(rv(Q))return ee(ju(Vu(Q,2),8));if(lv(Q)||ov(Q))return NaN;var te=dv(Q);if(te!==Q)return ee(te)}return Hu(Q)},fv=Dm,gv=pv,mv=function(ee){var ie=gv(ee);return ie!==0&&(ie=fv(ie)),ie===0?0:ie},Uu=um,vv=mv,yv=function(ee){var ie=vv(ee);return ie<=0?0:ie>Uu?Uu:ie},bv=ei,wv=bv("%TypeError%"),xv=Tu,Sv=yv,Ev=Ga,Cv=function(ee){if(Ev(ee)!=="Object")throw new wv("Assertion failed: `obj` must be an Object");return Sv(xv(ee,"length"))},_v=ei,Tv=_v("%Object%"),Pv=fo,Ov=function(ee){return Pv(ee),Tv(ee)},Wu=ei,Av=Wu("%String%"),Rv=Wu("%TypeError%"),Gu=function(ee){if(typeof ee=="symbol")throw new Rv("Cannot convert a Symbol value to a string");return Av(ee)},Dv=String.prototype.valueOf,kv=function(ee){try{return Dv.call(ee),!0}catch{return!1}},Iv=Object.prototype.toString,Nv="[object String]",Mv=Nu(),Fv=function(ee){return typeof ee=="string"?!0:typeof ee!="object"?!1:Mv?kv(ee):Iv.call(ee)===Nv},Bv=ei,Lv=qi,Hv=Bv("%TypeError%"),jv=ug,zv=Tu,Vv=Qg,$v=am,Uv=Cv,Wv=Ov,Gv=Gu,qv=Fv,Kv=Lv("String.prototype.split"),qu=Object("a"),Xv=qu[0]!=="a"||!(0 in qu),Ku=function(ee){var ie=Wv(this),Q=Xv&&qv(this)?Kv(this,""):ie,te=Uv(Q);if(!$v(ee))throw new Hv("Array.prototype.forEach callback must be a function");var re;arguments.length>1&&(re=arguments[1]);for(var ae=0;ae<te;){var de=Gv(ae),he=Vv(Q,de);if(he){var pe=zv(Q,de);jv(ee,re,[pe,ae,Q])}ae+=1}},Yv=function(ee){var ie=!0,Q=!0,te=!1;if(typeof ee=="function"){try{ee.call("f",function(re,ae,de){typeof de!="object"&&(ie=!1)}),ee.call([null],function(){"use strict";Q=typeof this=="string"},"x")}catch{te=!0}return!te&&ie&&Q}return!1},Zv=Yv,Jv=Ku,Xu=function(){var ee=Array.prototype.forEach;return Zv(ee)?ee:Jv},Qv=rr,e0=Xu,t0=function(){var ee=e0();return Qv(Array.prototype,{forEach:ee},{forEach:function(){return Array.prototype.forEach!==ee}}),ee},n0=rr,i0=or.exports,r0=qi,o0=fo,a0=Ku,Yu=Xu,s0=Yu(),l0=t0,u0=r0("Array.prototype.slice"),c0=i0.apply(s0),Zu=function(ee,ie){return o0(ee),c0(ee,u0(arguments,1))};n0(Zu,{getPolyfill:Yu,implementation:a0,shim:l0});var d0=Zu,h0=fo,Ju=qi,p0=Ju("Object.prototype.propertyIsEnumerable"),f0=Ju("Array.prototype.push"),Qu=function(ee){var ie=h0(ee),Q=[];for(var te in ie)p0(ie,te)&&f0(Q,[te,ie[te]]);return Q},g0=Qu,ec=function(){return typeof Object.entries=="function"?Object.entries:g0},m0=ec,v0=rr,y0=function(){var ee=m0();return v0(Object,{entries:ee},{entries:function(){return Object.entries!==ee}}),ee},b0=rr,w0=or.exports,x0=Qu,tc=ec,S0=y0,nc=w0(tc(),Object);b0(nc,{getPolyfill:tc,implementation:x0,shim:S0});var E0=nc,C0=fo,_0=Gu,T0=qi,ic=T0("String.prototype.replace"),P0=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,O0=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,rc=function(){var ee=_0(C0(this));return ic(ic(ee,P0,""),O0,"")},A0=rc,oc="\u200B",ac=function(){return String.prototype.trim&&oc.trim()===oc?String.prototype.trim:A0},R0=rr,D0=ac,k0=function(){var ee=D0();return R0(String.prototype,{trim:ee},{trim:function(){return String.prototype.trim!==ee}}),ee},I0=or.exports,N0=rr,M0=rc,sc=ac,F0=k0,lc=I0(sc());N0(lc,{getPolyfill:sc,implementation:M0,shim:F0});var B0=lc,xo=d0,Ja=E0,uc=iu,L0=B0,H0=function(ee){},j0=String.prototype.replace,cc=String.prototype.split,So="||||",Qa=function(ee){var ie=ee%100,Q=ie%10;return ie!==11&&Q===1?0:2<=Q&&Q<=4&&!(ie>=12&&ie<=14)?1:2},dc={pluralTypes:{arabic:function(ee){if(ee<3)return ee;var ie=ee%100;return ie>=3&&ie<=10?3:ie>=11?4:5},bosnian_serbian:Qa,chinese:function(){return 0},croatian:Qa,french:function(ee){return ee>=2?1:0},german:function(ee){return ee!==1?1:0},russian:Qa,lithuanian:function(ee){return ee%10===1&&ee%100!==11?0:ee%10>=2&&ee%10<=9&&(ee%100<11||ee%100>19)?1:2},czech:function(ee){return ee===1?0:ee>=2&&ee<=4?1:2},polish:function(ee){if(ee===1)return 0;var ie=ee%10;return 2<=ie&&ie<=4&&(ee%100<10||ee%100>=20)?1:2},icelandic:function(ee){return ee%10!==1||ee%100===11?1:0},slovenian:function(ee){var ie=ee%100;return ie===1?0:ie===2?1:ie===3||ie===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function z0(ee){var ie={};return xo(Ja(ee),function(Q){var te=Q[0],re=Q[1];xo(re,function(ae){ie[ae]=te})}),ie}function V0(ee,ie){var Q=z0(ee.pluralTypeToLanguages);return Q[ie]||Q[cc.call(ie,/-/,1)[0]]||Q.en}function $0(ee,ie,Q){return ee.pluralTypes[ie](Q)}function U0(){var ee={};return function(ie,Q){var te=ee[Q];return te&&!ie.pluralTypes[te]&&(te=null,ee[Q]=te),te||(te=V0(ie,Q),te&&(ee[Q]=te)),te}}function hc(ee){return ee.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function W0(ee){var ie=ee&&ee.prefix||"%{",Q=ee&&ee.suffix||"}";if(ie===So||Q===So)throw new RangeError('"'+So+'" token is reserved for pluralization');return new RegExp(hc(ie)+"(.*?)"+hc(Q),"g")}var G0=U0(),q0=/%\{(.*?)\}/g;function es(ee,ie,Q,te,re){if(typeof ee!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(ie==null)return ee;var ae=ee,de=te||q0,he=typeof ie=="number"?{smart_count:ie}:ie;if(he.smart_count!=null&&ee){var pe=re||dc,ge=cc.call(ee,So),ye=Q||"en",xe=G0(pe,ye),Ee=$0(pe,xe,he.smart_count);ae=L0(ge[Ee]||ge[0])}return ae=j0.call(ae,de,function(De,Be){return!uc(he,Be)||he[Be]==null?De:he[Be]}),ae}function Ci(ee){var ie=ee||{};this.phrases={},this.extend(ie.phrases||{}),this.currentLocale=ie.locale||"en";var Q=ie.allowMissing?es:null;this.onMissingKey=typeof ie.onMissingKey=="function"?ie.onMissingKey:Q,this.warn=ie.warn||H0,this.tokenRegex=W0(ie.interpolation),this.pluralRules=ie.pluralRules||dc}Ci.prototype.locale=function(ee){return ee&&(this.currentLocale=ee),this.currentLocale},Ci.prototype.extend=function(ee,ie){xo(Ja(ee||{}),function(Q){var te=Q[0],re=Q[1],ae=ie?ie+"."+te:te;typeof re=="object"?this.extend(re,ae):this.phrases[ae]=re},this)},Ci.prototype.unset=function(ee,ie){typeof ee=="string"?delete this.phrases[ee]:xo(Ja(ee||{}),function(Q){var te=Q[0],re=Q[1],ae=ie?ie+"."+te:te;typeof re=="object"?this.unset(re,ae):delete this.phrases[ae]},this)},Ci.prototype.clear=function(){this.phrases={}},Ci.prototype.replace=function(ee){this.clear(),this.extend(ee)},Ci.prototype.t=function(ee,ie){var Q,te,re=ie==null?{}:ie;if(typeof this.phrases[ee]=="string")Q=this.phrases[ee];else if(typeof re._=="string")Q=re._;else if(this.onMissingKey){var ae=this.onMissingKey;te=ae(ee,re,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+ee+'"'),te=ee;return typeof Q=="string"&&(te=es(Q,re,this.currentLocale,this.tokenRegex,this.pluralRules)),te},Ci.prototype.has=function(ee){return uc(this.phrases,ee)},Ci.transformPhrase=function(ee,ie,Q){return es(ee,ie,Q)};var K0=Ci,X0={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},Y0={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},Z0={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},J0={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},Q0={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},ey={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},ty={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},ny={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},iy={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},ry={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},oy={"Add a comment...":"\u30B3\u30E1\u30F3\u30C8\u3092\u8FFD\u52A0\u3059\u308B...","Add a reply...":"\u8FD4\u4FE1\u3059\u308B...","Add tag...":"\u30BF\u30B0\u3092\u8FFD\u52A0\u3059\u308B...",Cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",Close:"\u9589\u3058\u308B",Edit:"\u7DE8\u96C6",Delete:"\u524A\u9664",Ok:"Ok"},ay={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},sy={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},ly={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},uy={"Add a comment...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043A\u043E\u043C\u043C\u0435\u043D\u0442\u0430\u0440\u0438\u0439...","Add a reply...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043E\u0442\u0432\u0435\u0442...","Add tag...":"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0442\u044D\u0433...",Cancel:"\u041E\u0442\u043C\u0435\u043D\u0430",Close:"\u0417\u0430\u043A\u0440\u044B\u0442\u044C",Edit:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",Delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",Ok:"\u041E\u043A"},cy={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},dy={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},hy={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},py={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},fy={"Add a comment...":"\u6DFB\u52A0\u8BC4\u8BBA...","Add a reply...":"\u6DFB\u52A0\u56DE\u590D...","Add tag...":"\u6DFB\u52A0\u6807\u7B7E...",Cancel:"\u53D6\u6D88",Close:"\u5173\u95ED",Edit:"\u7F16\u8F91",Delete:"\u5220\u9664",Ok:"\u786E\u8BA4"},gy={"Add a comment...":"\u6DFB\u52A0\u8A55\u8AD6...","Add a reply...":"\u6DFB\u52A0\u56DE\u8986...","Add tag...":"\u6DFB\u52A0\u6A19\u7C64...",Cancel:"\u53D6\u6D88",Close:"\u95DC\u9589",Edit:"\u7DE8\u8F2F",Delete:"\u522A\u9664",Ok:"\u78BA\u8A8D"},pc={};Object.defineProperty(pc,"__esModule",{value:!0});var ts=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function my(ee,ie){return ie<3?ts[ee][ie-1]:ie>=3&&ie<=10?ts[ee][2]:ts[ee][3]}function vy(ee,ie){if(ie===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var Q=my(Math.floor(ie/2),ee);return["\u0645\u0646\u0630 "+Q,"\u0628\u0639\u062F "+Q]}var yy=pc.default=vy,fc={};Object.defineProperty(fc,"__esModule",{value:!0});function by(ee,ie){var Q=0,te=ie==1||ie==3||ie==5||ie==7||ie==9||ie==11||ie==13;return te&&ee>=5&&(Q=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][ie][Q]}var wy=fc.default=by,gc={};Object.defineProperty(gc,"__esModule",{value:!0});function xy(ee,ie){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][ie]}var Sy=gc.default=xy,mc={};Object.defineProperty(mc,"__esModule",{value:!0});function Ey(ee,ie){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][ie]}var Cy=mc.default=Ey,vc={};Object.defineProperty(vc,"__esModule",{value:!0});function _y(ee,ie){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][ie]}var Ty=vc.default=_y,yc={};Object.defineProperty(yc,"__esModule",{value:!0});function Py(ee,ie){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][ie]}var Oy=yc.default=Py,bc={};Object.defineProperty(bc,"__esModule",{value:!0});function Ay(ee,ie){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][ie]}var Ry=bc.default=Ay,wc={};Object.defineProperty(wc,"__esModule",{value:!0});function Dy(ee,ie){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][ie]}var ky=wc.default=Dy,xc={};Object.defineProperty(xc,"__esModule",{value:!0});function Iy(ee,ie){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][ie]}var Ny=xc.default=Iy,Sc={};Object.defineProperty(Sc,"__esModule",{value:!0});function My(ee,ie){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][ie]}var Fy=Sc.default=My,Ec={};Object.defineProperty(Ec,"__esModule",{value:!0});function By(ee,ie){return[["\u3059\u3053\u3057\u524D","\u3059\u3050\u306B"],["%s\u79D2\u524D","%s\u79D2\u4EE5\u5185"],["1\u5206\u524D","1\u5206\u4EE5\u5185"],["%s\u5206\u524D","%s\u5206\u4EE5\u5185"],["1\u6642\u9593\u524D","1\u6642\u9593\u4EE5\u5185"],["%s\u6642\u9593\u524D","%s\u6642\u9593\u4EE5\u5185"],["1\u65E5\u524D","1\u65E5\u4EE5\u5185"],["%s\u65E5\u524D","%s\u65E5\u4EE5\u5185"],["1\u9031\u9593\u524D","1\u9031\u9593\u4EE5\u5185"],["%s\u9031\u9593\u524D","%s\u9031\u9593\u4EE5\u5185"],["1\u30F6\u6708\u524D","1\u30F6\u6708\u4EE5\u5185"],["%s\u30F6\u6708\u524D","%s\u30F6\u6708\u4EE5\u5185"],["1\u5E74\u524D","1\u5E74\u4EE5\u5185"],["%s\u5E74\u524D","%s\u5E74\u4EE5\u5185"]][ie]}var Ly=Ec.default=By,Cc={};Object.defineProperty(Cc,"__esModule",{value:!0});function Hy(ee,ie){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][ie]}var jy=Cc.default=Hy,_c={};Object.defineProperty(_c,"__esModule",{value:!0});function zy(ee,ie){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][ie]}var Vy=_c.default=zy,Tc={};Object.defineProperty(Tc,"__esModule",{value:!0});function $y(ee,ie){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][ie]}var Uy=Tc.default=$y,Pc={};Object.defineProperty(Pc,"__esModule",{value:!0});function Ki(ee,ie,Q,te,re){var ae=re%10,de=te;return re===1?de=ee:ae===1&&re>20?de=ie:ae>1&&ae<5&&(re>20||re<10)&&(de=Q),de}var Oc=Ki.bind(null,"\u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u0443","%s \u0441\u0435\u043A\u0443\u043D\u0434\u044B","%s \u0441\u0435\u043A\u0443\u043D\u0434"),Ac=Ki.bind(null,"\u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u0443","%s \u043C\u0438\u043D\u0443\u0442\u044B","%s \u043C\u0438\u043D\u0443\u0442"),Rc=Ki.bind(null,"\u0447\u0430\u0441","%s \u0447\u0430\u0441","%s \u0447\u0430\u0441\u0430","%s \u0447\u0430\u0441\u043E\u0432"),Dc=Ki.bind(null,"\u0434\u0435\u043D\u044C","%s \u0434\u0435\u043D\u044C","%s \u0434\u043D\u044F","%s \u0434\u043D\u0435\u0439"),kc=Ki.bind(null,"\u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u044E","%s \u043D\u0435\u0434\u0435\u043B\u0438","%s \u043D\u0435\u0434\u0435\u043B\u044C"),Ic=Ki.bind(null,"\u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446","%s \u043C\u0435\u0441\u044F\u0446\u0430","%s \u043C\u0435\u0441\u044F\u0446\u0435\u0432"),Nc=Ki.bind(null,"\u0433\u043E\u0434","%s \u0433\u043E\u0434","%s \u0433\u043E\u0434\u0430","%s \u043B\u0435\u0442");function Wy(ee,ie){switch(ie){case 0:return["\u0442\u043E\u043B\u044C\u043A\u043E \u0447\u0442\u043E","\u0447\u0435\u0440\u0435\u0437 \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0441\u0435\u043A\u0443\u043D\u0434"];case 1:return[Oc(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Oc(ee)];case 2:case 3:return[Ac(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Ac(ee)];case 4:case 5:return[Rc(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Rc(ee)];case 6:return["\u0432\u0447\u0435\u0440\u0430","\u0437\u0430\u0432\u0442\u0440\u0430"];case 7:return[Dc(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Dc(ee)];case 8:case 9:return[kc(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+kc(ee)];case 10:case 11:return[Ic(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Ic(ee)];case 12:case 13:return[Nc(ee)+" \u043D\u0430\u0437\u0430\u0434","\u0447\u0435\u0440\u0435\u0437 "+Nc(ee)];default:return["",""]}}var Gy=Pc.default=Wy,Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});function qy(ee,ie){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][ie]}var Ky=Mc.default=qy,Fc={};Object.defineProperty(Fc,"__esModule",{value:!0});function Xy(ee,ie){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][ie]}var Yy=Fc.default=Xy,Bc={};Object.defineProperty(Bc,"__esModule",{value:!0});function Zy(ee,ie){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][ie]}var Jy=Bc.default=Zy,Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});var Qy=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function eb(ee,ie){if(ie===0)return["\u521A\u521A","\u7247\u523B\u540E"];var Q=Qy[~~(ie/2)];return[ee+" "+Q+"\u524D",ee+" "+Q+"\u540E"]}var tb=Lc.default=eb,Hc={};Object.defineProperty(Hc,"__esModule",{value:!0});function nb(ee,ie){return[["\u525B\u525B","\u7247\u523B\u5F8C"],["%s \u79D2\u524D","%s \u79D2\u5F8C"],["1 \u5206\u9418\u524D","1 \u5206\u9418\u5F8C"],["%s \u5206\u9418\u524D","%s \u5206\u9418\u5F8C"],["1 \u5C0F\u6642\u524D","1 \u5C0F\u6642\u5F8C"],["%s \u5C0F\u6642\u524D","%s \u5C0F\u6642\u5F8C"],["1 \u5929\u524D","1 \u5929\u5F8C"],["%s \u5929\u524D","%s \u5929\u5F8C"],["1 \u9031\u524D","1 \u9031\u5F8C"],["%s \u9031\u524D","%s \u9031\u5F8C"],["1 \u500B\u6708\u524D","1 \u500B\u6708\u5F8C"],["%s \u500B\u6708\u524D","%s \u500B\u6708\u5F8C"],["1 \u5E74\u524D","1 \u5E74\u5F8C"],["%s \u5E74\u524D","%s \u5E74\u5F8C"]][ie]}var ib=Hc.default=nb;const hr={ar:X0,cs:Y0,de:Z0,el:J0,es:Q0,fi:ey,fr:ty,gl:ny,hi:iy,it:ry,ja:oy,ko:ay,nl:sy,pt:ly,ru:uy,sv:cy,th:dy,tr:hy,ur:py,"zh-CN":fy,"zh-TW":gy},rb=Object.keys(hr),Xi=new K0({allowMissing:!0});Xi.init=(ee,ie)=>{Xi.clear(),ee&&(Xi.locale(ee),Xi.extend(hr[ee])),ie&&Xi.extend(ie)},jn("ar",yy),jn("cs",wy),jn("de",Sy),jn("el",Cy),jn("es",Ty),jn("fi",Oy),jn("fr",Ry),jn("gl",ky),jn("hi",Ny),jn("it",Fy),jn("ja",Ly),jn("ko",jy),jn("nl",Vy),jn("pt",Uy),jn("ru",Gy),jn("sv",Ky),jn("th",Yy),jn("tr",Jy),jn("zh-CN",tb),jn("zh-TW",ib),Xi.registerMessages=(ee,ie)=>{hr[ee]?hr[ee]={...hr[ee],...ie}:hr[ee]=ie};var li=Xi,ob=ee=>{const ie=Bt();return yf(ie,()=>ee.onClickOutside()),Pt.createElement("ul",{ref:ie,className:"r6o-comment-dropdown-menu"},Pt.createElement("li",{onClick:ee.onEdit},li.t("Edit")),Pt.createElement("li",{onClick:ee.onDelete},li.t("Delete")))},jc={},ns={},is={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(ee,ie){(function(Q,te){te(ee,ie)})(Di,function(Q,te){var re=typeof Map=="function"?new Map:function(){var ye=[],xe=[];return{has:function(Ee){return ye.indexOf(Ee)>-1},get:function(Ee){return xe[ye.indexOf(Ee)]},set:function(Ee,De){ye.indexOf(Ee)===-1&&(ye.push(Ee),xe.push(De))},delete:function(Ee){var De=ye.indexOf(Ee);De>-1&&(ye.splice(De,1),xe.splice(De,1))}}}(),ae=function(ye){return new Event(ye,{bubbles:!0})};try{new Event("test")}catch{ae=function(ye){var xe=document.createEvent("Event");return xe.initEvent(ye,!0,!1),xe}}function de(ye){if(!ye||!ye.nodeName||ye.nodeName!=="TEXTAREA"||re.has(ye))return;var xe=null,Ee=null,De=null;function Be(){var ut=window.getComputedStyle(ye,null);ut.resize==="vertical"?ye.style.resize="none":ut.resize==="both"&&(ye.style.resize="horizontal"),ut.boxSizing==="content-box"?xe=-(parseFloat(ut.paddingTop)+parseFloat(ut.paddingBottom)):xe=parseFloat(ut.borderTopWidth)+parseFloat(ut.borderBottomWidth),isNaN(xe)&&(xe=0),Ce()}function et(ut){{var ft=ye.style.width;ye.style.width="0px",ye.offsetWidth,ye.style.width=ft}ye.style.overflowY=ut}function Ke(ut){for(var ft=[];ut&&ut.parentNode&&ut.parentNode instanceof Element;)ut.parentNode.scrollTop&&ft.push({node:ut.parentNode,scrollTop:ut.parentNode.scrollTop}),ut=ut.parentNode;return ft}function nt(){if(ye.scrollHeight!==0){var ut=Ke(ye),ft=document.documentElement&&document.documentElement.scrollTop;ye.style.height="",ye.style.height=ye.scrollHeight+xe+"px",Ee=ye.clientWidth,ut.forEach(function(gt){gt.node.scrollTop=gt.scrollTop}),ft&&(document.documentElement.scrollTop=ft)}}function Ce(){nt();var ut=Math.round(parseFloat(ye.style.height)),ft=window.getComputedStyle(ye,null),gt=ft.boxSizing==="content-box"?Math.round(parseFloat(ft.height)):ye.offsetHeight;if(gt<ut?ft.overflowY==="hidden"&&(et("scroll"),nt(),gt=ft.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ye,null).height)):ye.offsetHeight):ft.overflowY!=="hidden"&&(et("hidden"),nt(),gt=ft.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ye,null).height)):ye.offsetHeight),De!==gt){De=gt;var Mt=ae("autosize:resized");try{ye.dispatchEvent(Mt)}catch{}}}var Ye=function(){ye.clientWidth!==Ee&&Ce()},ct=function(ut){window.removeEventListener("resize",Ye,!1),ye.removeEventListener("input",Ce,!1),ye.removeEventListener("keyup",Ce,!1),ye.removeEventListener("autosize:destroy",ct,!1),ye.removeEventListener("autosize:update",Ce,!1),Object.keys(ut).forEach(function(ft){ye.style[ft]=ut[ft]}),re.delete(ye)}.bind(ye,{height:ye.style.height,resize:ye.style.resize,overflowY:ye.style.overflowY,overflowX:ye.style.overflowX,wordWrap:ye.style.wordWrap});ye.addEventListener("autosize:destroy",ct,!1),"onpropertychange"in ye&&"oninput"in ye&&ye.addEventListener("keyup",Ce,!1),window.addEventListener("resize",Ye,!1),ye.addEventListener("input",Ce,!1),ye.addEventListener("autosize:update",Ce,!1),ye.style.overflowX="hidden",ye.style.wordWrap="break-word",re.set(ye,{destroy:ct,update:Ce}),Be()}function he(ye){var xe=re.get(ye);xe&&xe.destroy()}function pe(ye){var xe=re.get(ye);xe&&xe.update()}var ge=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(ge=function(ye){return ye},ge.destroy=function(ye){return ye},ge.update=function(ye){return ye}):(ge=function(ye,xe){return ye&&Array.prototype.forEach.call(ye.length?ye:[ye],function(Ee){return de(Ee)}),ye},ge.destroy=function(ye){return ye&&Array.prototype.forEach.call(ye.length?ye:[ye],he),ye},ge.update=function(ye){return ye&&Array.prototype.forEach.call(ye.length?ye:[ye],pe),ye}),te.default=ge,Q.exports=te.default})})(is,is.exports);var ab=function(ee,ie,Q){return Q=window.getComputedStyle,(Q?Q(ee):ee.currentStyle)[ie.replace(/-(\w)/gi,function(te,re){return re.toUpperCase()})]},sb=ab,rs=sb;function lb(ee){var ie=rs(ee,"line-height"),Q=parseFloat(ie,10);if(ie===Q+""){var te=ee.style.lineHeight;ee.style.lineHeight=ie+"em",ie=rs(ee,"line-height"),Q=parseFloat(ie,10),te?ee.style.lineHeight=te:delete ee.style.lineHeight}if(ie.indexOf("pt")!==-1?(Q*=4,Q/=3):ie.indexOf("mm")!==-1?(Q*=96,Q/=25.4):ie.indexOf("cm")!==-1?(Q*=96,Q/=2.54):ie.indexOf("in")!==-1?Q*=96:ie.indexOf("pc")!==-1&&(Q*=16),Q=Math.round(Q),ie==="normal"){var re=ee.nodeName,ae=document.createElement(re);ae.innerHTML="&nbsp;",re.toUpperCase()==="TEXTAREA"&&ae.setAttribute("rows","1");var de=rs(ee,"font-size");ae.style.fontSize=de,ae.style.padding="0px",ae.style.border="0px";var he=document.body;he.appendChild(ae);var pe=ae.offsetHeight;Q=pe,he.removeChild(ae)}return Q}var ub=lb,cb=Di&&Di.__extends||function(){var ee=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ie,Q){ie.__proto__=Q}||function(ie,Q){for(var te in Q)Q.hasOwnProperty(te)&&(ie[te]=Q[te])};return function(ie,Q){ee(ie,Q);function te(){this.constructor=ie}ie.prototype=Q===null?Object.create(Q):(te.prototype=Q.prototype,new te)}}(),os=Di&&Di.__assign||Object.assign||function(ee){for(var ie,Q=1,te=arguments.length;Q<te;Q++){ie=arguments[Q];for(var re in ie)Object.prototype.hasOwnProperty.call(ie,re)&&(ee[re]=ie[re])}return ee},db=Di&&Di.__rest||function(ee,ie){var Q={};for(var te in ee)Object.prototype.hasOwnProperty.call(ee,te)&&ie.indexOf(te)<0&&(Q[te]=ee[te]);if(ee!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,te=Object.getOwnPropertySymbols(ee);re<te.length;re++)ie.indexOf(te[re])<0&&(Q[te[re]]=ee[te[re]]);return Q};ns.__esModule=!0;var Eo=nr,Br=Rr.exports,Co=is.exports,hb=ub,pb=hb,zc="autosize:resized",fb=function(ee){cb(ie,ee);function ie(){var Q=ee!==null&&ee.apply(this,arguments)||this;return Q.state={lineHeight:null},Q.textarea=null,Q.onResize=function(te){Q.props.onResize&&Q.props.onResize(te)},Q.updateLineHeight=function(){Q.textarea&&Q.setState({lineHeight:pb(Q.textarea)})},Q.onChange=function(te){var re=Q.props.onChange;Q.currentValue=te.currentTarget.value,re&&re(te)},Q}return ie.prototype.componentDidMount=function(){var Q=this,te=this.props,re=te.maxRows,ae=te.async;typeof re=="number"&&this.updateLineHeight(),typeof re=="number"||ae?setTimeout(function(){return Q.textarea&&Co(Q.textarea)}):this.textarea&&Co(this.textarea),this.textarea&&this.textarea.addEventListener(zc,this.onResize)},ie.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(zc,this.onResize),Co.destroy(this.textarea))},ie.prototype.render=function(){var Q=this,te=this,re=te.props;re.onResize;var ae=re.maxRows;re.onChange;var de=re.style;re.innerRef;var he=re.children,pe=db(re,["onResize","maxRows","onChange","style","innerRef","children"]),ge=te.state.lineHeight,ye=ae&&ge?ge*ae:null;return Eo.createElement("textarea",os({},pe,{onChange:this.onChange,style:ye?os({},de,{maxHeight:ye}):de,ref:function(xe){Q.textarea=xe,typeof Q.props.innerRef=="function"?Q.props.innerRef(xe):Q.props.innerRef&&(Q.props.innerRef.current=xe)}}),he)},ie.prototype.componentDidUpdate=function(){this.textarea&&Co.update(this.textarea)},ie.defaultProps={rows:1,async:!1},ie.propTypes={rows:Br.number,maxRows:Br.number,onResize:Br.func,innerRef:Br.any,async:Br.bool},ie}(Eo.Component);ns.TextareaAutosize=Eo.forwardRef(function(ee,ie){return Eo.createElement(fb,os({},ee,{innerRef:ie}))}),function(ee){ee.__esModule=!0;var ie=ns;ee.default=ie.TextareaAutosize}(jc);var gb=ip(jc);class Vc extends Fe{constructor(ie){super(ie),ne(this,"onKeyDown",Q=>{Q.which===13&&Q.ctrlKey&&this.props.onSaveAndClose()}),this.element=qe()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Pt.createElement(gb,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||li.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function gn(){return gn=Object.assign||function(ee){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(ee[te]=Q[te])}return ee},gn.apply(this,arguments)}function mb(ee){if(ee.sheet)return ee.sheet;for(var ie=0;ie<document.styleSheets.length;ie++)if(document.styleSheets[ie].ownerNode===ee)return document.styleSheets[ie]}function vb(ee){var ie=document.createElement("style");return ie.setAttribute("data-emotion",ee.key),ee.nonce!==void 0&&ie.setAttribute("nonce",ee.nonce),ie.appendChild(document.createTextNode("")),ie.setAttribute("data-s",""),ie}var yb=function(){function ee(Q){var te=this;this._insertTag=function(re){var ae;te.tags.length===0?te.insertionPoint?ae=te.insertionPoint.nextSibling:te.prepend?ae=te.container.firstChild:ae=te.before:ae=te.tags[te.tags.length-1].nextSibling,te.container.insertBefore(re,ae),te.tags.push(re)},this.isSpeedy=Q.speedy===void 0?!0:Q.speedy,this.tags=[],this.ctr=0,this.nonce=Q.nonce,this.key=Q.key,this.container=Q.container,this.prepend=Q.prepend,this.insertionPoint=Q.insertionPoint,this.before=null}var ie=ee.prototype;return ie.hydrate=function(Q){Q.forEach(this._insertTag)},ie.insert=function(Q){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(vb(this));var te=this.tags[this.tags.length-1];if(this.isSpeedy){var re=mb(te);try{re.insertRule(Q,re.cssRules.length)}catch{}}else te.appendChild(document.createTextNode(Q));this.ctr++},ie.flush=function(){this.tags.forEach(function(Q){return Q.parentNode&&Q.parentNode.removeChild(Q)}),this.tags=[],this.ctr=0},ee}(),Qn="-ms-",_o="-moz-",Rn="-webkit-",$c="comm",as="rule",ss="decl",bb="@import",Uc="@keyframes",wb=Math.abs,To=String.fromCharCode,xb=Object.assign;function Sb(ee,ie){return(((ie<<2^ni(ee,0))<<2^ni(ee,1))<<2^ni(ee,2))<<2^ni(ee,3)}function Wc(ee){return ee.trim()}function Eb(ee,ie){return(ee=ie.exec(ee))?ee[0]:ee}function Dn(ee,ie,Q){return ee.replace(ie,Q)}function ls(ee,ie){return ee.indexOf(ie)}function ni(ee,ie){return ee.charCodeAt(ie)|0}function Lr(ee,ie,Q){return ee.slice(ie,Q)}function xi(ee){return ee.length}function us(ee){return ee.length}function Po(ee,ie){return ie.push(ee),ee}function Cb(ee,ie){return ee.map(ie).join("")}var Oo=1,pr=1,Gc=0,ii=0,Vn=0,fr="";function Ao(ee,ie,Q,te,re,ae,de){return{value:ee,root:ie,parent:Q,type:te,props:re,children:ae,line:Oo,column:pr,length:de,return:""}}function Hr(ee,ie){return xb(Ao("",null,null,"",null,null,0),ee,{length:-ee.length},ie)}function _b(){return Vn}function Tb(){return Vn=ii>0?ni(fr,--ii):0,pr--,Vn===10&&(pr=1,Oo--),Vn}function ui(){return Vn=ii<Gc?ni(fr,ii++):0,pr++,Vn===10&&(pr=1,Oo++),Vn}function Si(){return ni(fr,ii)}function Ro(){return ii}function jr(ee,ie){return Lr(fr,ee,ie)}function zr(ee){switch(ee){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qc(ee){return Oo=pr=1,Gc=xi(fr=ee),ii=0,[]}function Kc(ee){return fr="",ee}function Do(ee){return Wc(jr(ii-1,cs(ee===91?ee+2:ee===40?ee+1:ee)))}function Pb(ee){for(;(Vn=Si())&&Vn<33;)ui();return zr(ee)>2||zr(Vn)>3?"":" "}function Ob(ee,ie){for(;--ie&&ui()&&!(Vn<48||Vn>102||Vn>57&&Vn<65||Vn>70&&Vn<97););return jr(ee,Ro()+(ie<6&&Si()==32&&ui()==32))}function cs(ee){for(;ui();)switch(Vn){case ee:return ii;case 34:case 39:ee!==34&&ee!==39&&cs(Vn);break;case 40:ee===41&&cs(ee);break;case 92:ui();break}return ii}function Ab(ee,ie){for(;ui()&&ee+Vn!==47+10&&!(ee+Vn===42+42&&Si()===47););return"/*"+jr(ie,ii-1)+"*"+To(ee===47?ee:ui())}function Rb(ee){for(;!zr(Si());)ui();return jr(ee,ii)}function Db(ee){return Kc(ko("",null,null,null,[""],ee=qc(ee),0,[0],ee))}function ko(ee,ie,Q,te,re,ae,de,he,pe){for(var ge=0,ye=0,xe=de,Ee=0,De=0,Be=0,et=1,Ke=1,nt=1,Ce=0,Ye="",ct=re,ut=ae,ft=te,gt=Ye;Ke;)switch(Be=Ce,Ce=ui()){case 40:if(Be!=108&&gt.charCodeAt(xe-1)==58){ls(gt+=Dn(Do(Ce),"&","&\f"),"&\f")!=-1&&(nt=-1);break}case 34:case 39:case 91:gt+=Do(Ce);break;case 9:case 10:case 13:case 32:gt+=Pb(Be);break;case 92:gt+=Ob(Ro()-1,7);continue;case 47:switch(Si()){case 42:case 47:Po(kb(Ab(ui(),Ro()),ie,Q),pe);break;default:gt+="/"}break;case 123*et:he[ge++]=xi(gt)*nt;case 125*et:case 59:case 0:switch(Ce){case 0:case 125:Ke=0;case 59+ye:De>0&&xi(gt)-xe&&Po(De>32?Yc(gt+";",te,Q,xe-1):Yc(Dn(gt," ","")+";",te,Q,xe-2),pe);break;case 59:gt+=";";default:if(Po(ft=Xc(gt,ie,Q,ge,ye,re,he,Ye,ct=[],ut=[],xe),ae),Ce===123)if(ye===0)ko(gt,ie,ft,ft,ct,ae,xe,he,ut);else switch(Ee){case 100:case 109:case 115:ko(ee,ft,ft,te&&Po(Xc(ee,ft,ft,0,0,re,he,Ye,re,ct=[],xe),ut),re,ut,xe,he,te?ct:ut);break;default:ko(gt,ft,ft,ft,[""],ut,0,he,ut)}}ge=ye=De=0,et=nt=1,Ye=gt="",xe=de;break;case 58:xe=1+xi(gt),De=Be;default:if(et<1){if(Ce==123)--et;else if(Ce==125&&et++==0&&Tb()==125)continue}switch(gt+=To(Ce),Ce*et){case 38:nt=ye>0?1:(gt+="\f",-1);break;case 44:he[ge++]=(xi(gt)-1)*nt,nt=1;break;case 64:Si()===45&&(gt+=Do(ui())),Ee=Si(),ye=xe=xi(Ye=gt+=Rb(Ro())),Ce++;break;case 45:Be===45&&xi(gt)==2&&(et=0)}}return ae}function Xc(ee,ie,Q,te,re,ae,de,he,pe,ge,ye){for(var xe=re-1,Ee=re===0?ae:[""],De=us(Ee),Be=0,et=0,Ke=0;Be<te;++Be)for(var nt=0,Ce=Lr(ee,xe+1,xe=wb(et=de[Be])),Ye=ee;nt<De;++nt)(Ye=Wc(et>0?Ee[nt]+" "+Ce:Dn(Ce,/&\f/g,Ee[nt])))&&(pe[Ke++]=Ye);return Ao(ee,ie,Q,re===0?as:he,pe,ge,ye)}function kb(ee,ie,Q){return Ao(ee,ie,Q,$c,To(_b()),Lr(ee,2,-2),0)}function Yc(ee,ie,Q,te){return Ao(ee,ie,Q,ss,Lr(ee,0,te),Lr(ee,te+1,-1),te)}function Zc(ee,ie){switch(Sb(ee,ie)){case 5103:return Rn+"print-"+ee+ee;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Rn+ee+ee;case 5349:case 4246:case 4810:case 6968:case 2756:return Rn+ee+_o+ee+Qn+ee+ee;case 6828:case 4268:return Rn+ee+Qn+ee+ee;case 6165:return Rn+ee+Qn+"flex-"+ee+ee;case 5187:return Rn+ee+Dn(ee,/(\w+).+(:[^]+)/,Rn+"box-$1$2"+Qn+"flex-$1$2")+ee;case 5443:return Rn+ee+Qn+"flex-item-"+Dn(ee,/flex-|-self/,"")+ee;case 4675:return Rn+ee+Qn+"flex-line-pack"+Dn(ee,/align-content|flex-|-self/,"")+ee;case 5548:return Rn+ee+Qn+Dn(ee,"shrink","negative")+ee;case 5292:return Rn+ee+Qn+Dn(ee,"basis","preferred-size")+ee;case 6060:return Rn+"box-"+Dn(ee,"-grow","")+Rn+ee+Qn+Dn(ee,"grow","positive")+ee;case 4554:return Rn+Dn(ee,/([^-])(transform)/g,"$1"+Rn+"$2")+ee;case 6187:return Dn(Dn(Dn(ee,/(zoom-|grab)/,Rn+"$1"),/(image-set)/,Rn+"$1"),ee,"")+ee;case 5495:case 3959:return Dn(ee,/(image-set\([^]*)/,Rn+"$1$`$1");case 4968:return Dn(Dn(ee,/(.+:)(flex-)?(.*)/,Rn+"box-pack:$3"+Qn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Rn+ee+ee;case 4095:case 3583:case 4068:case 2532:return Dn(ee,/(.+)-inline(.+)/,Rn+"$1$2")+ee;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xi(ee)-1-ie>6)switch(ni(ee,ie+1)){case 109:if(ni(ee,ie+4)!==45)break;case 102:return Dn(ee,/(.+:)(.+)-([^]+)/,"$1"+Rn+"$2-$3$1"+_o+(ni(ee,ie+3)==108?"$3":"$2-$3"))+ee;case 115:return~ls(ee,"stretch")?Zc(Dn(ee,"stretch","fill-available"),ie)+ee:ee}break;case 4949:if(ni(ee,ie+1)!==115)break;case 6444:switch(ni(ee,xi(ee)-3-(~ls(ee,"!important")&&10))){case 107:return Dn(ee,":",":"+Rn)+ee;case 101:return Dn(ee,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Rn+(ni(ee,14)===45?"inline-":"")+"box$3$1"+Rn+"$2$3$1"+Qn+"$2box$3")+ee}break;case 5936:switch(ni(ee,ie+11)){case 114:return Rn+ee+Qn+Dn(ee,/[svh]\w+-[tblr]{2}/,"tb")+ee;case 108:return Rn+ee+Qn+Dn(ee,/[svh]\w+-[tblr]{2}/,"tb-rl")+ee;case 45:return Rn+ee+Qn+Dn(ee,/[svh]\w+-[tblr]{2}/,"lr")+ee}return Rn+ee+Qn+ee+ee}return ee}function gr(ee,ie){for(var Q="",te=us(ee),re=0;re<te;re++)Q+=ie(ee[re],re,ee,ie)||"";return Q}function Ib(ee,ie,Q,te){switch(ee.type){case bb:case ss:return ee.return=ee.return||ee.value;case $c:return"";case Uc:return ee.return=ee.value+"{"+gr(ee.children,te)+"}";case as:ee.value=ee.props.join(",")}return xi(Q=gr(ee.children,te))?ee.return=ee.value+"{"+Q+"}":""}function Nb(ee){var ie=us(ee);return function(Q,te,re,ae){for(var de="",he=0;he<ie;he++)de+=ee[he](Q,te,re,ae)||"";return de}}function Mb(ee){return function(ie){ie.root||(ie=ie.return)&&ee(ie)}}function Fb(ee,ie,Q,te){if(ee.length>-1&&!ee.return)switch(ee.type){case ss:ee.return=Zc(ee.value,ee.length);break;case Uc:return gr([Hr(ee,{value:Dn(ee.value,"@","@"+Rn)})],te);case as:if(ee.length)return Cb(ee.props,function(re){switch(Eb(re,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return gr([Hr(ee,{props:[Dn(re,/:(read-\w+)/,":"+_o+"$1")]})],te);case"::placeholder":return gr([Hr(ee,{props:[Dn(re,/:(plac\w+)/,":"+Rn+"input-$1")]}),Hr(ee,{props:[Dn(re,/:(plac\w+)/,":"+_o+"$1")]}),Hr(ee,{props:[Dn(re,/:(plac\w+)/,Qn+"input-$1")]})],te)}return""})}}function Bb(ee){var ie=Object.create(null);return function(Q){return ie[Q]===void 0&&(ie[Q]=ee(Q)),ie[Q]}}var Lb=function(ee,ie,Q){for(var te=0,re=0;te=re,re=Si(),te===38&&re===12&&(ie[Q]=1),!zr(re);)ui();return jr(ee,ii)},Hb=function(ee,ie){var Q=-1,te=44;do switch(zr(te)){case 0:te===38&&Si()===12&&(ie[Q]=1),ee[Q]+=Lb(ii-1,ie,Q);break;case 2:ee[Q]+=Do(te);break;case 4:if(te===44){ee[++Q]=Si()===58?"&\f":"",ie[Q]=ee[Q].length;break}default:ee[Q]+=To(te)}while(te=ui());return ee},jb=function(ee,ie){return Kc(Hb(qc(ee),ie))},Jc=new WeakMap,zb=function(ee){if(!(ee.type!=="rule"||!ee.parent||ee.length<1)){for(var ie=ee.value,Q=ee.parent,te=ee.column===Q.column&&ee.line===Q.line;Q.type!=="rule";)if(Q=Q.parent,!Q)return;if(!(ee.props.length===1&&ie.charCodeAt(0)!==58&&!Jc.get(Q))&&!te){Jc.set(ee,!0);for(var re=[],ae=jb(ie,re),de=Q.props,he=0,pe=0;he<ae.length;he++)for(var ge=0;ge<de.length;ge++,pe++)ee.props[pe]=re[he]?ae[he].replace(/&\f/g,de[ge]):de[ge]+" "+ae[he]}}},Vb=function(ee){if(ee.type==="decl"){var ie=ee.value;ie.charCodeAt(0)===108&&ie.charCodeAt(2)===98&&(ee.return="",ee.value="")}},$b=[Fb],Ub=function(ee){var ie=ee.key;if(ie==="css"){var Q=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Q,function(Be){var et=Be.getAttribute("data-emotion");et.indexOf(" ")!==-1&&(document.head.appendChild(Be),Be.setAttribute("data-s",""))})}var te=ee.stylisPlugins||$b,re={},ae,de=[];ae=ee.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+ie+' "]'),function(Be){for(var et=Be.getAttribute("data-emotion").split(" "),Ke=1;Ke<et.length;Ke++)re[et[Ke]]=!0;de.push(Be)});var he,pe=[zb,Vb];{var ge,ye=[Ib,Mb(function(Be){ge.insert(Be)})],xe=Nb(pe.concat(te,ye)),Ee=function(Be){return gr(Db(Be),xe)};he=function(Be,et,Ke,nt){ge=Ke,Ee(Be?Be+"{"+et.styles+"}":et.styles),nt&&(De.inserted[et.name]=!0)}}var De={key:ie,sheet:new yb({key:ie,container:ae,nonce:ee.nonce,speedy:ee.speedy,prepend:ee.prepend,insertionPoint:ee.insertionPoint}),nonce:ee.nonce,inserted:re,registered:{},insert:he};return De.sheet.hydrate(de),De},Qc={exports:{}},In={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Wn=typeof Symbol=="function"&&Symbol.for,ds=Wn?Symbol.for("react.element"):60103,hs=Wn?Symbol.for("react.portal"):60106,Io=Wn?Symbol.for("react.fragment"):60107,No=Wn?Symbol.for("react.strict_mode"):60108,Mo=Wn?Symbol.for("react.profiler"):60114,Fo=Wn?Symbol.for("react.provider"):60109,Bo=Wn?Symbol.for("react.context"):60110,ps=Wn?Symbol.for("react.async_mode"):60111,Lo=Wn?Symbol.for("react.concurrent_mode"):60111,Ho=Wn?Symbol.for("react.forward_ref"):60112,jo=Wn?Symbol.for("react.suspense"):60113,Wb=Wn?Symbol.for("react.suspense_list"):60120,zo=Wn?Symbol.for("react.memo"):60115,Vo=Wn?Symbol.for("react.lazy"):60116,Gb=Wn?Symbol.for("react.block"):60121,qb=Wn?Symbol.for("react.fundamental"):60117,Kb=Wn?Symbol.for("react.responder"):60118,Xb=Wn?Symbol.for("react.scope"):60119;function ci(ee){if(typeof ee=="object"&&ee!==null){var ie=ee.$$typeof;switch(ie){case ds:switch(ee=ee.type,ee){case ps:case Lo:case Io:case Mo:case No:case jo:return ee;default:switch(ee=ee&&ee.$$typeof,ee){case Bo:case Ho:case Vo:case zo:case Fo:return ee;default:return ie}}case hs:return ie}}}function ed(ee){return ci(ee)===Lo}In.AsyncMode=ps,In.ConcurrentMode=Lo,In.ContextConsumer=Bo,In.ContextProvider=Fo,In.Element=ds,In.ForwardRef=Ho,In.Fragment=Io,In.Lazy=Vo,In.Memo=zo,In.Portal=hs,In.Profiler=Mo,In.StrictMode=No,In.Suspense=jo,In.isAsyncMode=function(ee){return ed(ee)||ci(ee)===ps},In.isConcurrentMode=ed,In.isContextConsumer=function(ee){return ci(ee)===Bo},In.isContextProvider=function(ee){return ci(ee)===Fo},In.isElement=function(ee){return typeof ee=="object"&&ee!==null&&ee.$$typeof===ds},In.isForwardRef=function(ee){return ci(ee)===Ho},In.isFragment=function(ee){return ci(ee)===Io},In.isLazy=function(ee){return ci(ee)===Vo},In.isMemo=function(ee){return ci(ee)===zo},In.isPortal=function(ee){return ci(ee)===hs},In.isProfiler=function(ee){return ci(ee)===Mo},In.isStrictMode=function(ee){return ci(ee)===No},In.isSuspense=function(ee){return ci(ee)===jo},In.isValidElementType=function(ee){return typeof ee=="string"||typeof ee=="function"||ee===Io||ee===Lo||ee===Mo||ee===No||ee===jo||ee===Wb||typeof ee=="object"&&ee!==null&&(ee.$$typeof===Vo||ee.$$typeof===zo||ee.$$typeof===Fo||ee.$$typeof===Bo||ee.$$typeof===Ho||ee.$$typeof===qb||ee.$$typeof===Kb||ee.$$typeof===Xb||ee.$$typeof===Gb)},In.typeOf=ci,Qc.exports=In;var td=Qc.exports,Yb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Zb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},nd={};nd[td.ForwardRef]=Yb,nd[td.Memo]=Zb;var Jb=!0;function id(ee,ie,Q){var te="";return Q.split(" ").forEach(function(re){ee[re]!==void 0?ie.push(ee[re]+";"):te+=re+" "}),te}var rd=function(ee,ie,Q){var te=ee.key+"-"+ie.name;if((Q===!1||Jb===!1)&&ee.registered[te]===void 0&&(ee.registered[te]=ie.styles),ee.inserted[ie.name]===void 0){var re=ie;do ee.insert(ie===re?"."+te:"",re,ee.sheet,!0),re=re.next;while(re!==void 0)}};function Qb(ee){for(var ie=0,Q,te=0,re=ee.length;re>=4;++te,re-=4)Q=ee.charCodeAt(te)&255|(ee.charCodeAt(++te)&255)<<8|(ee.charCodeAt(++te)&255)<<16|(ee.charCodeAt(++te)&255)<<24,Q=(Q&65535)*1540483477+((Q>>>16)*59797<<16),Q^=Q>>>24,ie=(Q&65535)*1540483477+((Q>>>16)*59797<<16)^(ie&65535)*1540483477+((ie>>>16)*59797<<16);switch(re){case 3:ie^=(ee.charCodeAt(te+2)&255)<<16;case 2:ie^=(ee.charCodeAt(te+1)&255)<<8;case 1:ie^=ee.charCodeAt(te)&255,ie=(ie&65535)*1540483477+((ie>>>16)*59797<<16)}return ie^=ie>>>13,ie=(ie&65535)*1540483477+((ie>>>16)*59797<<16),((ie^ie>>>15)>>>0).toString(36)}var e1={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},t1=/[A-Z]|^ms/g,n1=/_EMO_([^_]+?)_([^]*?)_EMO_/g,od=function(ee){return ee.charCodeAt(1)===45},ad=function(ee){return ee!=null&&typeof ee!="boolean"},fs=Bb(function(ee){return od(ee)?ee:ee.replace(t1,"-$&").toLowerCase()}),sd=function(ee,ie){switch(ee){case"animation":case"animationName":if(typeof ie=="string")return ie.replace(n1,function(Q,te,re){return Ei={name:te,styles:re,next:Ei},te})}return e1[ee]!==1&&!od(ee)&&typeof ie=="number"&&ie!==0?ie+"px":ie};function Vr(ee,ie,Q){if(Q==null)return"";if(Q.__emotion_styles!==void 0)return Q;switch(typeof Q){case"boolean":return"";case"object":{if(Q.anim===1)return Ei={name:Q.name,styles:Q.styles,next:Ei},Q.name;if(Q.styles!==void 0){var te=Q.next;if(te!==void 0)for(;te!==void 0;)Ei={name:te.name,styles:te.styles,next:Ei},te=te.next;var re=Q.styles+";";return re}return i1(ee,ie,Q)}case"function":{if(ee!==void 0){var ae=Ei,de=Q(ee);return Ei=ae,Vr(ee,ie,de)}break}}if(ie==null)return Q;var he=ie[Q];return he!==void 0?he:Q}function i1(ee,ie,Q){var te="";if(Array.isArray(Q))for(var re=0;re<Q.length;re++)te+=Vr(ee,ie,Q[re])+";";else for(var ae in Q){var de=Q[ae];if(typeof de!="object")ie!=null&&ie[de]!==void 0?te+=ae+"{"+ie[de]+"}":ad(de)&&(te+=fs(ae)+":"+sd(ae,de)+";");else if(Array.isArray(de)&&typeof de[0]=="string"&&(ie==null||ie[de[0]]===void 0))for(var he=0;he<de.length;he++)ad(de[he])&&(te+=fs(ae)+":"+sd(ae,de[he])+";");else{var pe=Vr(ee,ie,de);switch(ae){case"animation":case"animationName":{te+=fs(ae)+":"+pe+";";break}default:te+=ae+"{"+pe+"}"}}}return te}var ld=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Ei,gs=function(ee,ie,Q){if(ee.length===1&&typeof ee[0]=="object"&&ee[0]!==null&&ee[0].styles!==void 0)return ee[0];var te=!0,re="";Ei=void 0;var ae=ee[0];ae==null||ae.raw===void 0?(te=!1,re+=Vr(Q,ie,ae)):re+=ae[0];for(var de=1;de<ee.length;de++)re+=Vr(Q,ie,ee[de]),te&&(re+=ae[de]);ld.lastIndex=0;for(var he="",pe;(pe=ld.exec(re))!==null;)he+="-"+pe[1];var ge=Qb(re)+he;return{name:ge,styles:re,next:Ei}},ms={}.hasOwnProperty,ud=Ft(typeof HTMLElement<"u"?Ub({key:"css"}):null);ud.Provider;var cd=function(ee){return Cr(function(ie,Q){var te=Pe(ud);return ee(ie,te,Q)})},dd=Ft({}),vs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",r1=function(ee,ie){var Q={};for(var te in ie)ms.call(ie,te)&&(Q[te]=ie[te]);return Q[vs]=ee,Q},o1=function(){return null},a1=cd(function(ee,ie,Q){var te=ee.css;typeof te=="string"&&ie.registered[te]!==void 0&&(te=ie.registered[te]);var re=ee[vs],ae=[te],de="";typeof ee.className=="string"?de=id(ie.registered,ae,ee.className):ee.className!=null&&(de=ee.className+" ");var he=gs(ae,void 0,Pe(dd));rd(ie,he,typeof re=="string"),de+=ie.key+"-"+he.name;var pe={};for(var ge in ee)ms.call(ee,ge)&&ge!=="css"&&ge!==vs&&(pe[ge]=ee[ge]);pe.ref=Q,pe.className=de;var ye=Me(re,pe),xe=Me(o1,null);return Me(Je,null,xe,ye)}),mn=function(ee,ie){var Q=arguments;if(ie==null||!ms.call(ie,"css"))return Me.apply(void 0,Q);var te=Q.length,re=new Array(te);re[0]=a1,re[1]=r1(ee,ie);for(var ae=2;ae<te;ae++)re[ae]=Q[ae];return Me.apply(null,re)};function ys(){for(var ee=arguments.length,ie=new Array(ee),Q=0;Q<ee;Q++)ie[Q]=arguments[Q];return gs(ie)}var s1=function(){var ee=ys.apply(void 0,arguments),ie="animation-"+ee.name;return{name:ie,styles:"@keyframes "+ie+"{"+ee.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},l1=function ee(ie){for(var Q=ie.length,te=0,re="";te<Q;te++){var ae=ie[te];if(ae!=null){var de=void 0;switch(typeof ae){case"boolean":break;case"object":{if(Array.isArray(ae))de=ee(ae);else{de="";for(var he in ae)ae[he]&&he&&(de&&(de+=" "),de+=he)}break}default:de=ae}de&&(re&&(re+=" "),re+=de)}}return re};function u1(ee,ie,Q){var te=[],re=id(ee,te,Q);return te.length<2?Q:re+ie(te)}var c1=function(){return null},d1=cd(function(ee,ie){var Q=function(){for(var he=arguments.length,pe=new Array(he),ge=0;ge<he;ge++)pe[ge]=arguments[ge];var ye=gs(pe,ie.registered);return rd(ie,ye,!1),ie.key+"-"+ye.name},te=function(){for(var he=arguments.length,pe=new Array(he),ge=0;ge<he;ge++)pe[ge]=arguments[ge];return u1(ie.registered,Q,l1(pe))},re={css:Q,cx:te,theme:Pe(dd)},ae=ee.children(re),de=Me(c1,null);return Me(Je,null,de,ae)});function h1(ee,ie){return ie||(ie=ee.slice(0)),Object.freeze(Object.defineProperties(ee,{raw:{value:Object.freeze(ie)}}))}function bs(ee,ie){if(ee==null)return{};var Q={},te=Object.keys(ee),re,ae;for(ae=0;ae<te.length;ae++)re=te[ae],!(ie.indexOf(re)>=0)&&(Q[re]=ee[re]);return Q}function mr(ee,ie){if(ee==null)return{};var Q=bs(ee,ie),te,re;if(Object.getOwnPropertySymbols){var ae=Object.getOwnPropertySymbols(ee);for(re=0;re<ae.length;re++)te=ae[re],!(ie.indexOf(te)>=0)&&(!Object.prototype.propertyIsEnumerable.call(ee,te)||(Q[te]=ee[te]))}return Q}function ws(ee){return ws=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},ws(ee)}var hd={};Object.defineProperty(hd,"__esModule",{value:!0});var xs=Object.assign||function(ee){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie];for(var te in Q)Object.prototype.hasOwnProperty.call(Q,te)&&(ee[te]=Q[te])}return ee},pd=function(){function ee(ie,Q){for(var te=0;te<Q.length;te++){var re=Q[te];re.enumerable=re.enumerable||!1,re.configurable=!0,"value"in re&&(re.writable=!0),Object.defineProperty(ie,re.key,re)}}return function(ie,Q,te){return Q&&ee(ie.prototype,Q),te&&ee(ie,te),ie}}(),fd=nr,$r=gd(fd),p1=Rr.exports,Un=gd(p1);function gd(ee){return ee&&ee.__esModule?ee:{default:ee}}function f1(ee,ie){var Q={};for(var te in ee)ie.indexOf(te)>=0||!Object.prototype.hasOwnProperty.call(ee,te)||(Q[te]=ee[te]);return Q}function g1(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}function m1(ee,ie){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ie&&(typeof ie=="object"||typeof ie=="function")?ie:ee}function v1(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);ee.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ee,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(ee,ie):ee.__proto__=ie)}var md={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},y1=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],b1=function(ee){return y1.forEach(function(ie){return delete ee[ie]}),ee},vd=function(ee,ie){ie.style.fontSize=ee.fontSize,ie.style.fontFamily=ee.fontFamily,ie.style.fontWeight=ee.fontWeight,ie.style.fontStyle=ee.fontStyle,ie.style.letterSpacing=ee.letterSpacing,ie.style.textTransform=ee.textTransform},yd=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,bd=function(){return yd?"_"+Math.random().toString(36).substr(2,12):void 0},Ss=function(ee){v1(ie,ee),pd(ie,null,[{key:"getDerivedStateFromProps",value:function(Q,te){var re=Q.id;return re!==te.prevId?{inputId:re||bd(),prevId:re}:null}}]);function ie(Q){g1(this,ie);var te=m1(this,(ie.__proto__||Object.getPrototypeOf(ie)).call(this,Q));return te.inputRef=function(re){te.input=re,typeof te.props.inputRef=="function"&&te.props.inputRef(re)},te.placeHolderSizerRef=function(re){te.placeHolderSizer=re},te.sizerRef=function(re){te.sizer=re},te.state={inputWidth:Q.minWidth,inputId:Q.id||bd(),prevId:Q.id},te}return pd(ie,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(Q,te){te.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var Q=this.input&&window.getComputedStyle(this.input);!Q||(vd(Q,this.sizer),this.placeHolderSizer&&vd(Q,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var Q=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Q=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:Q=this.sizer.scrollWidth+2;var te=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;Q+=te,Q<this.props.minWidth&&(Q=this.props.minWidth),Q!==this.state.inputWidth&&this.setState({inputWidth:Q})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var Q=this.props.injectStyles;return yd&&Q?$r.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var Q=[this.props.defaultValue,this.props.value,""].reduce(function(de,he){return de!=null?de:he}),te=xs({},this.props.style);te.display||(te.display="inline-block");var re=xs({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),ae=f1(this.props,[]);return b1(ae),ae.className=this.props.inputClassName,ae.id=this.state.inputId,ae.style=re,$r.default.createElement("div",{className:this.props.className,style:te},this.renderStyles(),$r.default.createElement("input",xs({},ae,{ref:this.inputRef})),$r.default.createElement("div",{ref:this.sizerRef,style:md},Q),this.props.placeholder?$r.default.createElement("div",{ref:this.placeHolderSizerRef,style:md},this.props.placeholder):null)}}]),ie}(fd.Component);Ss.propTypes={className:Un.default.string,defaultValue:Un.default.any,extraWidth:Un.default.oneOfType([Un.default.number,Un.default.string]),id:Un.default.string,injectStyles:Un.default.bool,inputClassName:Un.default.string,inputRef:Un.default.func,inputStyle:Un.default.object,minWidth:Un.default.oneOfType([Un.default.number,Un.default.string]),onAutosize:Un.default.func,onChange:Un.default.func,placeholder:Un.default.string,placeholderIsMinWidth:Un.default.bool,style:Un.default.object,value:Un.default.any},Ss.defaultProps={minWidth:1,injectStyles:!0};var w1=hd.default=Ss;function $o(ee,ie){if(!(ee instanceof ie))throw new TypeError("Cannot call a class as a function")}function wd(ee,ie){for(var Q=0;Q<ie.length;Q++){var te=ie[Q];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(ee,te.key,te)}}function Uo(ee,ie,Q){return ie&&wd(ee.prototype,ie),Q&&wd(ee,Q),Object.defineProperty(ee,"prototype",{writable:!1}),ee}function Wo(ee,ie){return Wo=Object.setPrototypeOf||function(Q,te){return Q.__proto__=te,Q},Wo(ee,ie)}function Go(ee,ie){if(typeof ie!="function"&&ie!==null)throw new TypeError("Super expression must either be null or a function");ee.prototype=Object.create(ie&&ie.prototype,{constructor:{value:ee,writable:!0,configurable:!0}}),Object.defineProperty(ee,"prototype",{writable:!1}),ie&&Wo(ee,ie)}function _i(ee,ie,Q){return ie in ee?Object.defineProperty(ee,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=Q,ee}function x1(ee,ie,Q){return ie in ee?Object.defineProperty(ee,ie,{value:Q,enumerable:!0,configurable:!0,writable:!0}):ee[ie]=Q,ee}function xd(ee,ie){var Q=Object.keys(ee);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(ee);ie&&(te=te.filter(function(re){return Object.getOwnPropertyDescriptor(ee,re).enumerable})),Q.push.apply(Q,te)}return Q}function qn(ee){for(var ie=1;ie<arguments.length;ie++){var Q=arguments[ie]!=null?arguments[ie]:{};ie%2?xd(Object(Q),!0).forEach(function(te){x1(ee,te,Q[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ee,Object.getOwnPropertyDescriptors(Q)):xd(Object(Q)).forEach(function(te){Object.defineProperty(ee,te,Object.getOwnPropertyDescriptor(Q,te))})}return ee}function qo(ee){return qo=Object.setPrototypeOf?Object.getPrototypeOf:function(ie){return ie.__proto__||Object.getPrototypeOf(ie)},qo(ee)}function S1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function E1(ee){if(ee===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ee}function C1(ee,ie){return ie&&(typeof ie=="object"||typeof ie=="function")?ie:E1(ee)}function Ko(ee){var ie=S1();return function(){var Q=qo(ee),te;if(ie){var re=qo(this).constructor;te=Reflect.construct(Q,arguments,re)}else te=Q.apply(this,arguments);return C1(this,te)}}var Xo=function(){};function _1(ee,ie){return ie?ie[0]==="-"?ee+ie:ee+"__"+ie:ee}function T1(ee,ie,Q){var te=[Q];if(ie&&ee)for(var re in ie)ie.hasOwnProperty(re)&&ie[re]&&te.push("".concat(_1(ee,re)));return te.filter(function(ae){return ae}).map(function(ae){return String(ae).trim()}).join(" ")}var Sd=function(ee){return Array.isArray(ee)?ee.filter(Boolean):ws(ee)==="object"&&ee!==null?[ee]:[]},Ed=function(ee){ee.className,ee.clearValue,ee.cx,ee.getStyles,ee.getValue,ee.hasValue,ee.isMulti,ee.isRtl,ee.options,ee.selectOption,ee.selectProps,ee.setValue,ee.theme;var ie=mr(ee,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return qn({},ie)};function Es(ee){return[document.documentElement,document.body,window].indexOf(ee)>-1}function Cd(ee){return Es(ee)?window.pageYOffset:ee.scrollTop}function Yo(ee,ie){if(Es(ee)){window.scrollTo(0,ie);return}ee.scrollTop=ie}function P1(ee){var ie=getComputedStyle(ee),Q=ie.position==="absolute",te=/(auto|scroll)/,re=document.documentElement;if(ie.position==="fixed")return re;for(var ae=ee;ae=ae.parentElement;)if(ie=getComputedStyle(ae),!(Q&&ie.position==="static")&&te.test(ie.overflow+ie.overflowY+ie.overflowX))return ae;return re}function O1(ee,ie,Q,te){return Q*((ee=ee/te-1)*ee*ee+1)+ie}function Zo(ee,ie){var Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,te=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xo,re=Cd(ee),ae=ie-re,de=10,he=0;function pe(){he+=de;var ge=O1(he,re,ae,Q);Yo(ee,ge),he<Q?window.requestAnimationFrame(pe):te(ee)}pe()}function A1(ee,ie){var Q=ee.getBoundingClientRect(),te=ie.getBoundingClientRect(),re=ie.offsetHeight/3;te.bottom+re>Q.bottom?Yo(ee,Math.min(ie.offsetTop+ie.clientHeight-ee.offsetHeight+re,ee.scrollHeight)):te.top-re<Q.top&&Yo(ee,Math.max(ie.offsetTop-re,0))}function R1(ee){var ie=ee.getBoundingClientRect();return{bottom:ie.bottom,height:ie.height,left:ie.left,right:ie.right,top:ie.top,width:ie.width}}function _d(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function D1(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Td=!1,k1={get passive(){return Td=!0}},Jo=typeof window<"u"?window:{};Jo.addEventListener&&Jo.removeEventListener&&(Jo.addEventListener("p",Xo,k1),Jo.removeEventListener("p",Xo,!1));var I1=Td;function N1(ee){var ie=ee.maxHeight,Q=ee.menuEl,te=ee.minHeight,re=ee.placement,ae=ee.shouldScroll,de=ee.isFixedPosition,he=ee.theme,pe=he.spacing,ge=P1(Q),ye={placement:"bottom",maxHeight:ie};if(!Q||!Q.offsetParent)return ye;var xe=ge.getBoundingClientRect(),Ee=xe.height,De=Q.getBoundingClientRect(),Be=De.bottom,et=De.height,Ke=De.top,nt=Q.offsetParent.getBoundingClientRect(),Ce=nt.top,Ye=window.innerHeight,ct=Cd(ge),ut=parseInt(getComputedStyle(Q).marginBottom,10),ft=parseInt(getComputedStyle(Q).marginTop,10),gt=Ce-ft,Mt=Ye-Ke,Ht=gt+ct,Yt=Ee-ct-Ke,tn=Be-Ye+ct+ut,Zt=ct+Ke-ft,dn=160;switch(re){case"auto":case"bottom":if(Mt>=et)return{placement:"bottom",maxHeight:ie};if(Yt>=et&&!de)return ae&&Zo(ge,tn,dn),{placement:"bottom",maxHeight:ie};if(!de&&Yt>=te||de&&Mt>=te){ae&&Zo(ge,tn,dn);var ln=de?Mt-ut:Yt-ut;return{placement:"bottom",maxHeight:ln}}if(re==="auto"||de){var bn=ie,yn=de?gt:Ht;return yn>=te&&(bn=Math.min(yn-ut-pe.controlHeight,ie)),{placement:"top",maxHeight:bn}}if(re==="bottom")return ae&&Yo(ge,tn),{placement:"bottom",maxHeight:ie};break;case"top":if(gt>=et)return{placement:"top",maxHeight:ie};if(Ht>=et&&!de)return ae&&Zo(ge,Zt,dn),{placement:"top",maxHeight:ie};if(!de&&Ht>=te||de&&gt>=te){var xn=ie;return(!de&&Ht>=te||de&&gt>=te)&&(xn=de?gt-ft:Ht-ft),ae&&Zo(ge,Zt,dn),{placement:"top",maxHeight:xn}}return{placement:"bottom",maxHeight:ie};default:throw new Error('Invalid placement provided "'.concat(re,'".'))}return ye}function M1(ee){var ie={bottom:"top",top:"bottom"};return ee?ie[ee]:"bottom"}var Cs=function(ee){return ee==="auto"?"bottom":ee},F1=function(ee){var ie,Q=ee.placement,te=ee.theme,re=te.borderRadius,ae=te.spacing,de=te.colors;return ie={label:"menu"},_i(ie,M1(Q),"100%"),_i(ie,"backgroundColor",de.neutral0),_i(ie,"borderRadius",re),_i(ie,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),_i(ie,"marginBottom",ae.menuGutter),_i(ie,"marginTop",ae.menuGutter),_i(ie,"position","absolute"),_i(ie,"width","100%"),_i(ie,"zIndex",1),ie},Pd=Ft({getPortalPlacement:null}),Od=function(ee){Go(Q,ee);var ie=Ko(Q);function Q(){var te;$o(this,Q);for(var re=arguments.length,ae=new Array(re),de=0;de<re;de++)ae[de]=arguments[de];return te=ie.call.apply(ie,[this].concat(ae)),te.state={maxHeight:te.props.maxMenuHeight,placement:null},te.getPlacement=function(he){var pe=te.props,ge=pe.minMenuHeight,ye=pe.maxMenuHeight,xe=pe.menuPlacement,Ee=pe.menuPosition,De=pe.menuShouldScrollIntoView,Be=pe.theme;if(he){var et=Ee==="fixed",Ke=De&&!et,nt=N1({maxHeight:ye,menuEl:he,minHeight:ge,placement:xe,shouldScroll:Ke,isFixedPosition:et,theme:Be}),Ce=te.context.getPortalPlacement;Ce&&Ce(nt),te.setState(nt)}},te.getUpdatedProps=function(){var he=te.props.menuPlacement,pe=te.state.placement||Cs(he);return qn(qn({},te.props),{},{placement:pe,maxHeight:te.state.maxHeight})},te}return Uo(Q,[{key:"render",value:function(){var te=this.props.children;return te({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),Q}(Fe);Od.contextType=Pd;var B1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerRef,de=ee.innerProps;return mn("div",gn({css:re("menu",ee),className:te({menu:!0},Q),ref:ae},de),ie)},L1=function(ee){var ie=ee.maxHeight,Q=ee.theme.spacing.baseUnit;return{maxHeight:ie,overflowY:"auto",paddingBottom:Q,paddingTop:Q,position:"relative",WebkitOverflowScrolling:"touch"}},H1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps,de=ee.innerRef,he=ee.isMulti;return mn("div",gn({css:re("menuList",ee),className:te({"menu-list":!0,"menu-list--is-multi":he},Q),ref:de},ae),ie)},Ad=function(ee){var ie=ee.theme,Q=ie.spacing.baseUnit,te=ie.colors;return{color:te.neutral40,padding:"".concat(Q*2,"px ").concat(Q*3,"px"),textAlign:"center"}},j1=Ad,z1=Ad,Rd=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps;return mn("div",gn({css:re("noOptionsMessage",ee),className:te({"menu-notice":!0,"menu-notice--no-options":!0},Q)},ae),ie)};Rd.defaultProps={children:"No options"};var Dd=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps;return mn("div",gn({css:re("loadingMessage",ee),className:te({"menu-notice":!0,"menu-notice--loading":!0},Q)},ae),ie)};Dd.defaultProps={children:"Loading..."};var V1=function(ee){var ie=ee.rect,Q=ee.offset,te=ee.position;return{left:ie.left,position:te,top:Q,width:ie.width,zIndex:1}},$1=function(ee){Go(Q,ee);var ie=Ko(Q);function Q(){var te;$o(this,Q);for(var re=arguments.length,ae=new Array(re),de=0;de<re;de++)ae[de]=arguments[de];return te=ie.call.apply(ie,[this].concat(ae)),te.state={placement:null},te.getPortalPlacement=function(he){var pe=he.placement,ge=Cs(te.props.menuPlacement);pe!==ge&&te.setState({placement:pe})},te}return Uo(Q,[{key:"render",value:function(){var te=this.props,re=te.appendTo,ae=te.children,de=te.className,he=te.controlElement,pe=te.cx,ge=te.innerProps,ye=te.menuPlacement,xe=te.menuPosition,Ee=te.getStyles,De=xe==="fixed";if(!re&&!De||!he)return null;var Be=this.state.placement||Cs(ye),et=R1(he),Ke=De?0:window.pageYOffset,nt=et[Be]+Ke,Ce={offset:nt,position:xe,rect:et},Ye=mn("div",gn({css:Ee("menuPortal",Ce),className:pe({"menu-portal":!0},de)},ge),ae);return mn(Pd.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},re?Vi(Ye,re):Ye)}}]),Q}(Fe),U1=function(ee){var ie=ee.isDisabled,Q=ee.isRtl;return{label:"container",direction:Q?"rtl":null,pointerEvents:ie?"none":null,position:"relative"}},W1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps,de=ee.isDisabled,he=ee.isRtl;return mn("div",gn({css:re("container",ee),className:te({"--is-disabled":de,"--is-rtl":he},Q)},ae),ie)},G1=function(ee){var ie=ee.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(ie.baseUnit/2,"px ").concat(ie.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},q1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.innerProps,ae=ee.isMulti,de=ee.getStyles,he=ee.hasValue;return mn("div",gn({css:de("valueContainer",ee),className:te({"value-container":!0,"value-container--is-multi":ae,"value-container--has-value":he},Q)},re),ie)},K1=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},X1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.innerProps,ae=ee.getStyles;return mn("div",gn({css:ae("indicatorsContainer",ee),className:te({indicators:!0},Q)},re),ie)},kd,Y1={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Id=function(ee){var ie=ee.size,Q=mr(ee,["size"]);return mn("svg",gn({height:ie,width:ie,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Y1},Q))},_s=function(ee){return mn(Id,gn({size:20},ee),mn("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Nd=function(ee){return mn(Id,gn({size:20},ee),mn("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Md=function(ee){var ie=ee.isFocused,Q=ee.theme,te=Q.spacing.baseUnit,re=Q.colors;return{label:"indicatorContainer",color:ie?re.neutral60:re.neutral20,display:"flex",padding:te*2,transition:"color 150ms",":hover":{color:ie?re.neutral80:re.neutral40}}},Z1=Md,J1=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps;return mn("div",gn({css:re("dropdownIndicator",ee),className:te({indicator:!0,"dropdown-indicator":!0},Q)},ae),ie||mn(Nd,null))},Q1=Md,ew=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps;return mn("div",gn({css:re("clearIndicator",ee),className:te({indicator:!0,"clear-indicator":!0},Q)},ae),ie||mn(_s,null))},tw=function(ee){var ie=ee.isDisabled,Q=ee.theme,te=Q.spacing.baseUnit,re=Q.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:ie?re.neutral10:re.neutral20,marginBottom:te*2,marginTop:te*2,width:1}},nw=function(ee){var ie=ee.className,Q=ee.cx,te=ee.getStyles,re=ee.innerProps;return mn("span",gn({},re,{css:te("indicatorSeparator",ee),className:Q({"indicator-separator":!0},ie)}))},iw=s1(kd||(kd=h1([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),rw=function(ee){var ie=ee.isFocused,Q=ee.size,te=ee.theme,re=te.colors,ae=te.spacing.baseUnit;return{label:"loadingIndicator",color:ie?re.neutral60:re.neutral20,display:"flex",padding:ae*2,transition:"color 150ms",alignSelf:"center",fontSize:Q,lineHeight:1,marginRight:Q,textAlign:"center",verticalAlign:"middle"}},Ts=function(ee){var ie=ee.delay,Q=ee.offset;return mn("span",{css:ys({animation:"".concat(iw," 1s ease-in-out ").concat(ie,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Q?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Fd=function(ee){var ie=ee.className,Q=ee.cx,te=ee.getStyles,re=ee.innerProps,ae=ee.isRtl;return mn("div",gn({css:te("loadingIndicator",ee),className:Q({indicator:!0,"loading-indicator":!0},ie)},re),mn(Ts,{delay:0,offset:ae}),mn(Ts,{delay:160,offset:!0}),mn(Ts,{delay:320,offset:!ae}))};Fd.defaultProps={size:4};var ow=function(ee){var ie=ee.isDisabled,Q=ee.isFocused,te=ee.theme,re=te.colors,ae=te.borderRadius,de=te.spacing;return{label:"control",alignItems:"center",backgroundColor:ie?re.neutral5:re.neutral0,borderColor:ie?re.neutral10:Q?re.primary:re.neutral20,borderRadius:ae,borderStyle:"solid",borderWidth:1,boxShadow:Q?"0 0 0 1px ".concat(re.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:de.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:Q?re.primary:re.neutral30}}},aw=function(ee){var ie=ee.children,Q=ee.cx,te=ee.getStyles,re=ee.className,ae=ee.isDisabled,de=ee.isFocused,he=ee.innerRef,pe=ee.innerProps,ge=ee.menuIsOpen;return mn("div",gn({ref:he,css:te("control",ee),className:Q({control:!0,"control--is-disabled":ae,"control--is-focused":de,"control--menu-is-open":ge},re)},pe),ie)},sw=function(ee){var ie=ee.theme.spacing;return{paddingBottom:ie.baseUnit*2,paddingTop:ie.baseUnit*2}},lw=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.Heading,de=ee.headingProps,he=ee.innerProps,pe=ee.label,ge=ee.theme,ye=ee.selectProps;return mn("div",gn({css:re("group",ee),className:te({group:!0},Q)},he),mn(ae,gn({},de,{selectProps:ye,theme:ge,getStyles:re,cx:te}),pe),mn("div",null,ie))},uw=function(ee){var ie=ee.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:ie.baseUnit*3,paddingRight:ie.baseUnit*3,textTransform:"uppercase"}},cw=function(ee){var ie=ee.getStyles,Q=ee.cx,te=ee.className,re=Ed(ee);re.data;var ae=mr(re,["data"]);return mn("div",gn({css:ie("groupHeading",ee),className:Q({"group-heading":!0},te)},ae))},dw=function(ee){var ie=ee.isDisabled,Q=ee.theme,te=Q.spacing,re=Q.colors;return{margin:te.baseUnit/2,paddingBottom:te.baseUnit/2,paddingTop:te.baseUnit/2,visibility:ie?"hidden":"visible",color:re.neutral80}},hw=function(ee){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:ee?0:1,outline:0,padding:0,color:"inherit"}},pw=function(ee){var ie=ee.className,Q=ee.cx,te=ee.getStyles,re=Ed(ee),ae=re.innerRef,de=re.isDisabled,he=re.isHidden,pe=mr(re,["innerRef","isDisabled","isHidden"]);return mn("div",{css:te("input",ee)},mn(w1,gn({className:Q({input:!0},ie),inputRef:ae,inputStyle:hw(he),disabled:de},pe)))},fw=function(ee){var ie=ee.theme,Q=ie.spacing,te=ie.borderRadius,re=ie.colors;return{label:"multiValue",backgroundColor:re.neutral10,borderRadius:te/2,display:"flex",margin:Q.baseUnit/2,minWidth:0}},gw=function(ee){var ie=ee.theme,Q=ie.borderRadius,te=ie.colors,re=ee.cropWithEllipsis;return{borderRadius:Q/2,color:te.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:re?"ellipsis":null,whiteSpace:"nowrap"}},mw=function(ee){var ie=ee.theme,Q=ie.spacing,te=ie.borderRadius,re=ie.colors,ae=ee.isFocused;return{alignItems:"center",borderRadius:te/2,backgroundColor:ae&&re.dangerLight,display:"flex",paddingLeft:Q.baseUnit,paddingRight:Q.baseUnit,":hover":{backgroundColor:re.dangerLight,color:re.danger}}},Bd=function(ee){var ie=ee.children,Q=ee.innerProps;return mn("div",Q,ie)},vw=Bd,yw=Bd;function bw(ee){var ie=ee.children,Q=ee.innerProps;return mn("div",Q,ie||mn(_s,{size:14}))}var Ld=function(ee){var ie=ee.children,Q=ee.className,te=ee.components,re=ee.cx,ae=ee.data,de=ee.getStyles,he=ee.innerProps,pe=ee.isDisabled,ge=ee.removeProps,ye=ee.selectProps,xe=te.Container,Ee=te.Label,De=te.Remove;return mn(d1,null,function(Be){var et=Be.css,Ke=Be.cx;return mn(xe,{data:ae,innerProps:qn({className:Ke(et(de("multiValue",ee)),re({"multi-value":!0,"multi-value--is-disabled":pe},Q))},he),selectProps:ye},mn(Ee,{data:ae,innerProps:{className:Ke(et(de("multiValueLabel",ee)),re({"multi-value__label":!0},Q))},selectProps:ye},ie),mn(De,{data:ae,innerProps:qn({className:Ke(et(de("multiValueRemove",ee)),re({"multi-value__remove":!0},Q))},ge),selectProps:ye}))})};Ld.defaultProps={cropWithEllipsis:!0};var ww=function(ee){var ie=ee.isDisabled,Q=ee.isFocused,te=ee.isSelected,re=ee.theme,ae=re.spacing,de=re.colors;return{label:"option",backgroundColor:te?de.primary:Q?de.primary25:"transparent",color:ie?de.neutral20:te?de.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(ae.baseUnit*2,"px ").concat(ae.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!ie&&(te?de.primary:de.primary50)}}},xw=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.isDisabled,de=ee.isFocused,he=ee.isSelected,pe=ee.innerRef,ge=ee.innerProps;return mn("div",gn({css:re("option",ee),className:te({option:!0,"option--is-disabled":ae,"option--is-focused":de,"option--is-selected":he},Q),ref:pe},ge),ie)},Sw=function(ee){var ie=ee.theme,Q=ie.spacing,te=ie.colors;return{label:"placeholder",color:te.neutral50,marginLeft:Q.baseUnit/2,marginRight:Q.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},Ew=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.innerProps;return mn("div",gn({css:re("placeholder",ee),className:te({placeholder:!0},Q)},ae),ie)},Cw=function(ee){var ie=ee.isDisabled,Q=ee.theme,te=Q.spacing,re=Q.colors;return{label:"singleValue",color:ie?re.neutral40:re.neutral80,marginLeft:te.baseUnit/2,marginRight:te.baseUnit/2,maxWidth:"calc(100% - ".concat(te.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},_w=function(ee){var ie=ee.children,Q=ee.className,te=ee.cx,re=ee.getStyles,ae=ee.isDisabled,de=ee.innerProps;return mn("div",gn({css:re("singleValue",ee),className:te({"single-value":!0,"single-value--is-disabled":ae},Q)},de),ie)},Tw={ClearIndicator:ew,Control:aw,DropdownIndicator:J1,DownChevron:Nd,CrossIcon:_s,Group:lw,GroupHeading:cw,IndicatorsContainer:X1,IndicatorSeparator:nw,Input:pw,LoadingIndicator:Fd,Menu:B1,MenuList:H1,MenuPortal:$1,LoadingMessage:Dd,NoOptionsMessage:Rd,MultiValue:Ld,MultiValueContainer:vw,MultiValueLabel:yw,MultiValueRemove:bw,Option:xw,Placeholder:Ew,SelectContainer:W1,SingleValue:_w,ValueContainer:q1},Pw=function(ee){return qn(qn({},Tw),ee.components)};function Ps(ee,ie){(ie==null||ie>ee.length)&&(ie=ee.length);for(var Q=0,te=new Array(ie);Q<ie;Q++)te[Q]=ee[Q];return te}function Ow(ee){if(Array.isArray(ee))return Ps(ee)}function Aw(ee){if(typeof Symbol<"u"&&ee[Symbol.iterator]!=null||ee["@@iterator"]!=null)return Array.from(ee)}function Rw(ee,ie){if(ee){if(typeof ee=="string")return Ps(ee,ie);var Q=Object.prototype.toString.call(ee).slice(8,-1);if(Q==="Object"&&ee.constructor&&(Q=ee.constructor.name),Q==="Map"||Q==="Set")return Array.from(ee);if(Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q))return Ps(ee,ie)}}function Dw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hd(ee){return Ow(ee)||Aw(ee)||Rw(ee)||Dw()}var jd=Number.isNaN||function(ee){return typeof ee=="number"&&ee!==ee};function kw(ee,ie){return!!(ee===ie||jd(ee)&&jd(ie))}function Iw(ee,ie){if(ee.length!==ie.length)return!1;for(var Q=0;Q<ee.length;Q++)if(!kw(ee[Q],ie[Q]))return!1;return!0}function Nw(ee,ie){ie===void 0&&(ie=Iw);var Q,te=[],re,ae=!1;function de(){for(var he=[],pe=0;pe<arguments.length;pe++)he[pe]=arguments[pe];return ae&&Q===this&&ie(he,te)||(re=ee.apply(this,he),ae=!0,Q=this,te=he),re}return de}for(var Mw={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Fw=function(ee){return mn("span",gn({css:Mw},ee))},Bw={guidance:function(ee){var ie=ee.isSearchable,Q=ee.isMulti,te=ee.isDisabled,re=ee.tabSelectsValue,ae=ee.context;switch(ae){case"menu":return"Use Up and Down to choose options".concat(te?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(re?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(ee["aria-label"]||"Select"," is focused ").concat(ie?",type to refine list":"",", press Down to open the menu, ").concat(Q?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(ee){var ie=ee.action,Q=ee.label,te=Q===void 0?"":Q,re=ee.isDisabled;switch(ie){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(te,", deselected.");case"select-option":return re?"option ".concat(te," is disabled. Select another option."):"option ".concat(te,", selected.");default:return""}},onFocus:function(ee){var ie=ee.context,Q=ee.focused,te=Q===void 0?{}:Q,re=ee.options,ae=ee.label,de=ae===void 0?"":ae,he=ee.selectValue,pe=ee.isDisabled,ge=ee.isSelected,ye=function(De,Be){return De&&De.length?"".concat(De.indexOf(Be)+1," of ").concat(De.length):""};if(ie==="value"&&he)return"value ".concat(de," focused, ").concat(ye(he,te),".");if(ie==="menu"){var xe=pe?" disabled":"",Ee="".concat(ge?"selected":"focused").concat(xe);return"option ".concat(de," ").concat(Ee,", ").concat(ye(re,te),".")}return""},onFilter:function(ee){var ie=ee.inputValue,Q=ee.resultsMessage;return"".concat(Q).concat(ie?" for search term "+ie:"",".")}},Lw=function(ee){var ie=ee.ariaSelection,Q=ee.focusedOption,te=ee.focusedValue,re=ee.focusableOptions,ae=ee.isFocused,de=ee.selectValue,he=ee.selectProps,pe=he.ariaLiveMessages,ge=he.getOptionLabel,ye=he.inputValue,xe=he.isMulti,Ee=he.isOptionDisabled,De=he.isSearchable,Be=he.menuIsOpen,et=he.options,Ke=he.screenReaderStatus,nt=he.tabSelectsValue,Ce=he["aria-label"],Ye=he["aria-live"],ct=cn(function(){return qn(qn({},Bw),pe||{})},[pe]),ut=cn(function(){var Yt="";if(ie&&ct.onChange){var tn=ie.option,Zt=ie.removedValue,dn=ie.value,ln=function(xn){return Array.isArray(xn)?null:xn},bn=Zt||tn||ln(dn),yn=qn({isDisabled:bn&&Ee(bn),label:bn?ge(bn):""},ie);Yt=ct.onChange(yn)}return Yt},[ie,Ee,ge,ct]),ft=cn(function(){var Yt="",tn=Q||te,Zt=!!(Q&&de&&de.includes(Q));if(tn&&ct.onFocus){var dn={focused:tn,label:ge(tn),isDisabled:Ee(tn),isSelected:Zt,options:et,context:tn===Q?"menu":"value",selectValue:de};Yt=ct.onFocus(dn)}return Yt},[Q,te,ge,Ee,ct,et,de]),gt=cn(function(){var Yt="";if(Be&&et.length&&ct.onFilter){var tn=Ke({count:re.length});Yt=ct.onFilter({inputValue:ye,resultsMessage:tn})}return Yt},[re,ye,Be,ct,et,Ke]),Mt=cn(function(){var Yt="";if(ct.guidance){var tn=te?"value":Be?"menu":"input";Yt=ct.guidance({"aria-label":Ce,context:tn,isDisabled:Q&&Ee(Q),isMulti:xe,isSearchable:De,tabSelectsValue:nt})}return Yt},[Ce,Q,te,xe,Ee,De,Be,ct,nt]),Ht="".concat(ft," ").concat(gt," ").concat(Mt);return mn(Fw,{"aria-live":Ye,"aria-atomic":"false","aria-relevant":"additions text"},ae&&mn(Pt.Fragment,null,mn("span",{id:"aria-selection"},ut),mn("span",{id:"aria-context"},Ht)))},Os=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Hw=new RegExp("["+Os.map(function(ee){return ee.letters}).join("")+"]","g"),zd={},As=0;As<Os.length;As++)for(var Rs=Os[As],Ds=0;Ds<Rs.letters.length;Ds++)zd[Rs.letters[Ds]]=Rs.base;var Vd=function(ee){return ee.replace(Hw,function(ie){return zd[ie]})},jw=Nw(Vd),$d=function(ee){return ee.replace(/^\s+|\s+$/g,"")},zw=function(ee){return"".concat(ee.label," ").concat(ee.value)},Vw=function(ee){return function(ie,Q){var te=qn({ignoreCase:!0,ignoreAccents:!0,stringify:zw,trim:!0,matchFrom:"any"},ee),re=te.ignoreCase,ae=te.ignoreAccents,de=te.stringify,he=te.trim,pe=te.matchFrom,ge=he?$d(Q):Q,ye=he?$d(de(ie)):de(ie);return re&&(ge=ge.toLowerCase(),ye=ye.toLowerCase()),ae&&(ge=jw(ge),ye=Vd(ye)),pe==="start"?ye.substr(0,ge.length)===ge:ye.indexOf(ge)>-1}};function $w(ee){ee.in,ee.out,ee.onExited,ee.appear,ee.enter,ee.exit;var ie=ee.innerRef;ee.emotion;var Q=mr(ee,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return mn("input",gn({ref:ie},Q,{css:ys({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Uw=function(ee){ee.preventDefault(),ee.stopPropagation()};function Ww(ee){var ie=ee.isEnabled,Q=ee.onBottomArrive,te=ee.onBottomLeave,re=ee.onTopArrive,ae=ee.onTopLeave,de=Bt(!1),he=Bt(!1),pe=Bt(0),ge=Bt(null),ye=Oe(function(Ke,nt){if(ge.current!==null){var Ce=ge.current,Ye=Ce.scrollTop,ct=Ce.scrollHeight,ut=Ce.clientHeight,ft=ge.current,gt=nt>0,Mt=ct-ut-Ye,Ht=!1;Mt>nt&&de.current&&(te&&te(Ke),de.current=!1),gt&&he.current&&(ae&&ae(Ke),he.current=!1),gt&&nt>Mt?(Q&&!de.current&&Q(Ke),ft.scrollTop=ct,Ht=!0,de.current=!0):!gt&&-nt>Ye&&(re&&!he.current&&re(Ke),ft.scrollTop=0,Ht=!0,he.current=!0),Ht&&Uw(Ke)}},[]),xe=Oe(function(Ke){ye(Ke,Ke.deltaY)},[ye]),Ee=Oe(function(Ke){pe.current=Ke.changedTouches[0].clientY},[]),De=Oe(function(Ke){var nt=pe.current-Ke.changedTouches[0].clientY;ye(Ke,nt)},[ye]),Be=Oe(function(Ke){if(Ke){var nt=I1?{passive:!1}:!1;typeof Ke.addEventListener=="function"&&Ke.addEventListener("wheel",xe,nt),typeof Ke.addEventListener=="function"&&Ke.addEventListener("touchstart",Ee,nt),typeof Ke.addEventListener=="function"&&Ke.addEventListener("touchmove",De,nt)}},[De,Ee,xe]),et=Oe(function(Ke){!Ke||(typeof Ke.removeEventListener=="function"&&Ke.removeEventListener("wheel",xe,!1),typeof Ke.removeEventListener=="function"&&Ke.removeEventListener("touchstart",Ee,!1),typeof Ke.removeEventListener=="function"&&Ke.removeEventListener("touchmove",De,!1))},[De,Ee,xe]);return St(function(){if(ie){var Ke=ge.current;return Be(Ke),function(){et(Ke)}}},[ie,Be,et]),function(Ke){ge.current=Ke}}var Ud=["boxSizing","height","overflow","paddingRight","position"],Wd={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Gd(ee){ee.preventDefault()}function qd(ee){ee.stopPropagation()}function Kd(){var ee=this.scrollTop,ie=this.scrollHeight,Q=ee+this.offsetHeight;ee===0?this.scrollTop=1:Q===ie&&(this.scrollTop=ee-1)}function Xd(){return"ontouchstart"in window||navigator.maxTouchPoints}var Yd=!!(typeof window<"u"&&window.document&&window.document.createElement),Ur=0,vr={capture:!1,passive:!1};function Gw(ee){var ie=ee.isEnabled,Q=ee.accountForScrollbars,te=Q===void 0?!0:Q,re=Bt({}),ae=Bt(null),de=Oe(function(pe){if(Yd){var ge=document.body,ye=ge&&ge.style;if(te&&Ud.forEach(function(Be){var et=ye&&ye[Be];re.current[Be]=et}),te&&Ur<1){var xe=parseInt(re.current.paddingRight,10)||0,Ee=document.body?document.body.clientWidth:0,De=window.innerWidth-Ee+xe||0;Object.keys(Wd).forEach(function(Be){var et=Wd[Be];ye&&(ye[Be]=et)}),ye&&(ye.paddingRight="".concat(De,"px"))}ge&&Xd()&&(ge.addEventListener("touchmove",Gd,vr),pe&&(pe.addEventListener("touchstart",Kd,vr),pe.addEventListener("touchmove",qd,vr))),Ur+=1}},[]),he=Oe(function(pe){if(Yd){var ge=document.body,ye=ge&&ge.style;Ur=Math.max(Ur-1,0),te&&Ur<1&&Ud.forEach(function(xe){var Ee=re.current[xe];ye&&(ye[xe]=Ee)}),ge&&Xd()&&(ge.removeEventListener("touchmove",Gd,vr),pe&&(pe.removeEventListener("touchstart",Kd,vr),pe.removeEventListener("touchmove",qd,vr)))}},[]);return St(function(){if(ie){var pe=ae.current;return de(pe),function(){he(pe)}}},[ie,de,he]),function(pe){ae.current=pe}}var qw=function(){return document.activeElement&&document.activeElement.blur()},Kw={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Xw(ee){var ie=ee.children,Q=ee.lockEnabled,te=ee.captureEnabled,re=te===void 0?!0:te,ae=ee.onBottomArrive,de=ee.onBottomLeave,he=ee.onTopArrive,pe=ee.onTopLeave,ge=Ww({isEnabled:re,onBottomArrive:ae,onBottomLeave:de,onTopArrive:he,onTopLeave:pe}),ye=Gw({isEnabled:Q}),xe=function(Ee){ge(Ee),ye(Ee)};return mn(Pt.Fragment,null,Q&&mn("div",{onClick:qw,css:Kw}),ie(xe))}var Yw=function(ee){return ee.label},Zw=function(ee){return ee.label},Jw=function(ee){return ee.value},Qw=function(ee){return!!ee.isDisabled},ex={clearIndicator:Q1,container:U1,control:ow,dropdownIndicator:Z1,group:sw,groupHeading:uw,indicatorsContainer:K1,indicatorSeparator:tw,input:dw,loadingIndicator:rw,loadingMessage:z1,menu:F1,menuList:L1,menuPortal:V1,multiValue:fw,multiValueLabel:gw,multiValueRemove:mw,noOptionsMessage:j1,option:ww,placeholder:Sw,singleValue:Cw,valueContainer:G1},tx={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},nx=4,Zd=4,ix=38,rx=Zd*2,ox={baseUnit:Zd,controlHeight:ix,menuGutter:rx},ks={borderRadius:nx,colors:tx,spacing:ox},ax={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:_d(),captureMenuScroll:!_d(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Vw(),formatGroupLabel:Yw,getOptionLabel:Zw,getOptionValue:Jw,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Qw,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!D1(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(ee){var ie=ee.count;return"".concat(ie," result").concat(ie!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Jd(ee,ie,Q,te){var re=ih(ee,ie,Q),ae=rh(ee,ie,Q),de=nh(ee,ie),he=Qo(ee,ie);return{type:"option",data:ie,isDisabled:re,isSelected:ae,label:de,value:he,index:te}}function Qd(ee,ie){return ee.options.map(function(Q,te){if(Q.options){var re=Q.options.map(function(de,he){return Jd(ee,de,ie,he)}).filter(function(de){return th(ee,de)});return re.length>0?{type:"group",data:Q,options:re,index:te}:void 0}var ae=Jd(ee,Q,ie,te);return th(ee,ae)?ae:void 0}).filter(function(Q){return!!Q})}function eh(ee){return ee.reduce(function(ie,Q){return Q.type==="group"?ie.push.apply(ie,Hd(Q.options.map(function(te){return te.data}))):ie.push(Q.data),ie},[])}function sx(ee,ie){return eh(Qd(ee,ie))}function th(ee,ie){var Q=ee.inputValue,te=Q===void 0?"":Q,re=ie.data,ae=ie.isSelected,de=ie.label,he=ie.value;return(!ah(ee)||!ae)&&oh(ee,{label:de,value:he,data:re},te)}function lx(ee,ie){var Q=ee.focusedValue,te=ee.selectValue,re=te.indexOf(Q);if(re>-1){var ae=ie.indexOf(Q);if(ae>-1)return Q;if(re<ie.length)return ie[re]}return null}function ux(ee,ie){var Q=ee.focusedOption;return Q&&ie.indexOf(Q)>-1?Q:ie[0]}var nh=function(ee,ie){return ee.getOptionLabel(ie)},Qo=function(ee,ie){return ee.getOptionValue(ie)};function ih(ee,ie,Q){return typeof ee.isOptionDisabled=="function"?ee.isOptionDisabled(ie,Q):!1}function rh(ee,ie,Q){if(Q.indexOf(ie)>-1)return!0;if(typeof ee.isOptionSelected=="function")return ee.isOptionSelected(ie,Q);var te=Qo(ee,ie);return Q.some(function(re){return Qo(ee,re)===te})}function oh(ee,ie,Q){return ee.filterOption?ee.filterOption(ie,Q):!0}var ah=function(ee){var ie=ee.hideSelectedOptions,Q=ee.isMulti;return ie===void 0?Q:ie},cx=1,sh=function(ee){Go(Q,ee);var ie=Ko(Q);function Q(te){var re;return $o(this,Q),re=ie.call(this,te),re.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},re.blockOptionHover=!1,re.isComposing=!1,re.commonProps=void 0,re.initialTouchX=0,re.initialTouchY=0,re.instancePrefix="",re.openAfterFocus=!1,re.scrollToFocusedOptionOnUpdate=!1,re.userIsDragging=void 0,re.controlRef=null,re.getControlRef=function(ae){re.controlRef=ae},re.focusedOptionRef=null,re.getFocusedOptionRef=function(ae){re.focusedOptionRef=ae},re.menuListRef=null,re.getMenuListRef=function(ae){re.menuListRef=ae},re.inputRef=null,re.getInputRef=function(ae){re.inputRef=ae},re.focus=re.focusInput,re.blur=re.blurInput,re.onChange=function(ae,de){var he=re.props,pe=he.onChange,ge=he.name;de.name=ge,re.ariaOnChange(ae,de),pe(ae,de)},re.setValue=function(ae){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",he=arguments.length>2?arguments[2]:void 0,pe=re.props,ge=pe.closeMenuOnSelect,ye=pe.isMulti;re.onInputChange("",{action:"set-value"}),ge&&(re.setState({inputIsHiddenAfterUpdate:!ye}),re.onMenuClose()),re.setState({clearFocusValueOnUpdate:!0}),re.onChange(ae,{action:de,option:he})},re.selectOption=function(ae){var de=re.props,he=de.blurInputOnSelect,pe=de.isMulti,ge=de.name,ye=re.state.selectValue,xe=pe&&re.isOptionSelected(ae,ye),Ee=re.isOptionDisabled(ae,ye);if(xe){var De=re.getOptionValue(ae);re.setValue(ye.filter(function(Be){return re.getOptionValue(Be)!==De}),"deselect-option",ae)}else if(!Ee)pe?re.setValue([].concat(Hd(ye),[ae]),"select-option",ae):re.setValue(ae,"select-option");else{re.ariaOnChange(ae,{action:"select-option",name:ge});return}he&&re.blurInput()},re.removeValue=function(ae){var de=re.props.isMulti,he=re.state.selectValue,pe=re.getOptionValue(ae),ge=he.filter(function(xe){return re.getOptionValue(xe)!==pe}),ye=de?ge:ge[0]||null;re.onChange(ye,{action:"remove-value",removedValue:ae}),re.focusInput()},re.clearValue=function(){var ae=re.state.selectValue;re.onChange(re.props.isMulti?[]:null,{action:"clear",removedValues:ae})},re.popValue=function(){var ae=re.props.isMulti,de=re.state.selectValue,he=de[de.length-1],pe=de.slice(0,de.length-1),ge=ae?pe:pe[0]||null;re.onChange(ge,{action:"pop-value",removedValue:he})},re.getValue=function(){return re.state.selectValue},re.cx=function(){for(var ae=arguments.length,de=new Array(ae),he=0;he<ae;he++)de[he]=arguments[he];return T1.apply(void 0,[re.props.classNamePrefix].concat(de))},re.getOptionLabel=function(ae){return nh(re.props,ae)},re.getOptionValue=function(ae){return Qo(re.props,ae)},re.getStyles=function(ae,de){var he=ex[ae](de);he.boxSizing="border-box";var pe=re.props.styles[ae];return pe?pe(he,de):he},re.getElementId=function(ae){return"".concat(re.instancePrefix,"-").concat(ae)},re.getComponents=function(){return Pw(re.props)},re.buildCategorizedOptions=function(){return Qd(re.props,re.state.selectValue)},re.getCategorizedOptions=function(){return re.props.menuIsOpen?re.buildCategorizedOptions():[]},re.buildFocusableOptions=function(){return eh(re.buildCategorizedOptions())},re.getFocusableOptions=function(){return re.props.menuIsOpen?re.buildFocusableOptions():[]},re.ariaOnChange=function(ae,de){re.setState({ariaSelection:qn({value:ae},de)})},re.onMenuMouseDown=function(ae){ae.button===0&&(ae.stopPropagation(),ae.preventDefault(),re.focusInput())},re.onMenuMouseMove=function(ae){re.blockOptionHover=!1},re.onControlMouseDown=function(ae){var de=re.props.openMenuOnClick;re.state.isFocused?re.props.menuIsOpen?ae.target.tagName!=="INPUT"&&ae.target.tagName!=="TEXTAREA"&&re.onMenuClose():de&&re.openMenu("first"):(de&&(re.openAfterFocus=!0),re.focusInput()),ae.target.tagName!=="INPUT"&&ae.target.tagName!=="TEXTAREA"&&ae.preventDefault()},re.onDropdownIndicatorMouseDown=function(ae){if(!(ae&&ae.type==="mousedown"&&ae.button!==0)&&!re.props.isDisabled){var de=re.props,he=de.isMulti,pe=de.menuIsOpen;re.focusInput(),pe?(re.setState({inputIsHiddenAfterUpdate:!he}),re.onMenuClose()):re.openMenu("first"),ae.preventDefault(),ae.stopPropagation()}},re.onClearIndicatorMouseDown=function(ae){ae&&ae.type==="mousedown"&&ae.button!==0||(re.clearValue(),ae.stopPropagation(),re.openAfterFocus=!1,ae.type==="touchend"?re.focusInput():setTimeout(function(){return re.focusInput()}))},re.onScroll=function(ae){typeof re.props.closeMenuOnScroll=="boolean"?ae.target instanceof HTMLElement&&Es(ae.target)&&re.props.onMenuClose():typeof re.props.closeMenuOnScroll=="function"&&re.props.closeMenuOnScroll(ae)&&re.props.onMenuClose()},re.onCompositionStart=function(){re.isComposing=!0},re.onCompositionEnd=function(){re.isComposing=!1},re.onTouchStart=function(ae){var de=ae.touches,he=de&&de.item(0);!he||(re.initialTouchX=he.clientX,re.initialTouchY=he.clientY,re.userIsDragging=!1)},re.onTouchMove=function(ae){var de=ae.touches,he=de&&de.item(0);if(he){var pe=Math.abs(he.clientX-re.initialTouchX),ge=Math.abs(he.clientY-re.initialTouchY),ye=5;re.userIsDragging=pe>ye||ge>ye}},re.onTouchEnd=function(ae){re.userIsDragging||(re.controlRef&&!re.controlRef.contains(ae.target)&&re.menuListRef&&!re.menuListRef.contains(ae.target)&&re.blurInput(),re.initialTouchX=0,re.initialTouchY=0)},re.onControlTouchEnd=function(ae){re.userIsDragging||re.onControlMouseDown(ae)},re.onClearIndicatorTouchEnd=function(ae){re.userIsDragging||re.onClearIndicatorMouseDown(ae)},re.onDropdownIndicatorTouchEnd=function(ae){re.userIsDragging||re.onDropdownIndicatorMouseDown(ae)},re.handleInputChange=function(ae){var de=ae.currentTarget.value;re.setState({inputIsHiddenAfterUpdate:!1}),re.onInputChange(de,{action:"input-change"}),re.props.menuIsOpen||re.onMenuOpen()},re.onInputFocus=function(ae){re.props.onFocus&&re.props.onFocus(ae),re.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(re.openAfterFocus||re.props.openMenuOnFocus)&&re.openMenu("first"),re.openAfterFocus=!1},re.onInputBlur=function(ae){if(re.menuListRef&&re.menuListRef.contains(document.activeElement)){re.inputRef.focus();return}re.props.onBlur&&re.props.onBlur(ae),re.onInputChange("",{action:"input-blur"}),re.onMenuClose(),re.setState({focusedValue:null,isFocused:!1})},re.onOptionHover=function(ae){re.blockOptionHover||re.state.focusedOption===ae||re.setState({focusedOption:ae})},re.shouldHideSelectedOptions=function(){return ah(re.props)},re.onKeyDown=function(ae){var de=re.props,he=de.isMulti,pe=de.backspaceRemovesValue,ge=de.escapeClearsValue,ye=de.inputValue,xe=de.isClearable,Ee=de.isDisabled,De=de.menuIsOpen,Be=de.onKeyDown,et=de.tabSelectsValue,Ke=de.openMenuOnFocus,nt=re.state,Ce=nt.focusedOption,Ye=nt.focusedValue,ct=nt.selectValue;if(!Ee&&!(typeof Be=="function"&&(Be(ae),ae.defaultPrevented))){switch(re.blockOptionHover=!0,ae.key){case"ArrowLeft":if(!he||ye)return;re.focusValue("previous");break;case"ArrowRight":if(!he||ye)return;re.focusValue("next");break;case"Delete":case"Backspace":if(ye)return;if(Ye)re.removeValue(Ye);else{if(!pe)return;he?re.popValue():xe&&re.clearValue()}break;case"Tab":if(re.isComposing||ae.shiftKey||!De||!et||!Ce||Ke&&re.isOptionSelected(Ce,ct))return;re.selectOption(Ce);break;case"Enter":if(ae.keyCode===229)break;if(De){if(!Ce||re.isComposing)return;re.selectOption(Ce);break}return;case"Escape":De?(re.setState({inputIsHiddenAfterUpdate:!1}),re.onInputChange("",{action:"menu-close"}),re.onMenuClose()):xe&&ge&&re.clearValue();break;case" ":if(ye)return;if(!De){re.openMenu("first");break}if(!Ce)return;re.selectOption(Ce);break;case"ArrowUp":De?re.focusOption("up"):re.openMenu("last");break;case"ArrowDown":De?re.focusOption("down"):re.openMenu("first");break;case"PageUp":if(!De)return;re.focusOption("pageup");break;case"PageDown":if(!De)return;re.focusOption("pagedown");break;case"Home":if(!De)return;re.focusOption("first");break;case"End":if(!De)return;re.focusOption("last");break;default:return}ae.preventDefault()}},re.instancePrefix="react-select-"+(re.props.instanceId||++cx),re.state.selectValue=Sd(te.value),re}return Uo(Q,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(te){var re=this.props,ae=re.isDisabled,de=re.menuIsOpen,he=this.state.isFocused;(he&&!ae&&te.isDisabled||he&&de&&!te.menuIsOpen)&&this.focusInput(),he&&ae&&!te.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(A1(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(te,re){this.props.onInputChange(te,re)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(te){var re=this,ae=this.state,de=ae.selectValue,he=ae.isFocused,pe=this.buildFocusableOptions(),ge=te==="first"?0:pe.length-1;if(!this.props.isMulti){var ye=pe.indexOf(de[0]);ye>-1&&(ge=ye)}this.scrollToFocusedOptionOnUpdate=!(he&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:pe[ge]},function(){return re.onMenuOpen()})}},{key:"focusValue",value:function(te){var re=this.state,ae=re.selectValue,de=re.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var he=ae.indexOf(de);de||(he=-1);var pe=ae.length-1,ge=-1;if(ae.length){switch(te){case"previous":he===0?ge=0:he===-1?ge=pe:ge=he-1;break;case"next":he>-1&&he<pe&&(ge=he+1);break}this.setState({inputIsHidden:ge!==-1,focusedValue:ae[ge]})}}}},{key:"focusOption",value:function(){var te=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",re=this.props.pageSize,ae=this.state.focusedOption,de=this.getFocusableOptions();if(de.length){var he=0,pe=de.indexOf(ae);ae||(pe=-1),te==="up"?he=pe>0?pe-1:de.length-1:te==="down"?he=(pe+1)%de.length:te==="pageup"?(he=pe-re,he<0&&(he=0)):te==="pagedown"?(he=pe+re,he>de.length-1&&(he=de.length-1)):te==="last"&&(he=de.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:de[he],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ks):qn(qn({},ks),this.props.theme):ks}},{key:"getCommonProps",value:function(){var te=this.clearValue,re=this.cx,ae=this.getStyles,de=this.getValue,he=this.selectOption,pe=this.setValue,ge=this.props,ye=ge.isMulti,xe=ge.isRtl,Ee=ge.options,De=this.hasValue();return{clearValue:te,cx:re,getStyles:ae,getValue:de,hasValue:De,isMulti:ye,isRtl:xe,options:Ee,selectOption:he,selectProps:ge,setValue:pe,theme:this.getTheme()}}},{key:"hasValue",value:function(){var te=this.state.selectValue;return te.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var te=this.props,re=te.isClearable,ae=te.isMulti;return re===void 0?ae:re}},{key:"isOptionDisabled",value:function(te,re){return ih(this.props,te,re)}},{key:"isOptionSelected",value:function(te,re){return rh(this.props,te,re)}},{key:"filterOption",value:function(te,re){return oh(this.props,te,re)}},{key:"formatOptionLabel",value:function(te,re){if(typeof this.props.formatOptionLabel=="function"){var ae=this.props.inputValue,de=this.state.selectValue;return this.props.formatOptionLabel(te,{context:re,inputValue:ae,selectValue:de})}else return this.getOptionLabel(te)}},{key:"formatGroupLabel",value:function(te){return this.props.formatGroupLabel(te)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var te=this.props,re=te.isDisabled,ae=te.isSearchable,de=te.inputId,he=te.inputValue,pe=te.tabIndex,ge=te.form,ye=this.getComponents(),xe=ye.Input,Ee=this.state.inputIsHidden,De=this.commonProps,Be=de||this.getElementId("input"),et={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return ae?Pt.createElement(xe,gn({},De,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:Be,innerRef:this.getInputRef,isDisabled:re,isHidden:Ee,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:pe,form:ge,type:"text",value:he},et)):Pt.createElement($w,gn({id:Be,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Xo,onFocus:this.onInputFocus,readOnly:!0,disabled:re,tabIndex:pe,form:ge,value:""},et))}},{key:"renderPlaceholderOrValue",value:function(){var te=this,re=this.getComponents(),ae=re.MultiValue,de=re.MultiValueContainer,he=re.MultiValueLabel,pe=re.MultiValueRemove,ge=re.SingleValue,ye=re.Placeholder,xe=this.commonProps,Ee=this.props,De=Ee.controlShouldRenderValue,Be=Ee.isDisabled,et=Ee.isMulti,Ke=Ee.inputValue,nt=Ee.placeholder,Ce=this.state,Ye=Ce.selectValue,ct=Ce.focusedValue,ut=Ce.isFocused;if(!this.hasValue()||!De)return Ke?null:Pt.createElement(ye,gn({},xe,{key:"placeholder",isDisabled:Be,isFocused:ut}),nt);if(et){var ft=Ye.map(function(Mt,Ht){var Yt=Mt===ct;return Pt.createElement(ae,gn({},xe,{components:{Container:de,Label:he,Remove:pe},isFocused:Yt,isDisabled:Be,key:"".concat(te.getOptionValue(Mt)).concat(Ht),index:Ht,removeProps:{onClick:function(){return te.removeValue(Mt)},onTouchEnd:function(){return te.removeValue(Mt)},onMouseDown:function(tn){tn.preventDefault(),tn.stopPropagation()}},data:Mt}),te.formatOptionLabel(Mt,"value"))});return ft}if(Ke)return null;var gt=Ye[0];return Pt.createElement(ge,gn({},xe,{data:gt,isDisabled:Be}),this.formatOptionLabel(gt,"value"))}},{key:"renderClearIndicator",value:function(){var te=this.getComponents(),re=te.ClearIndicator,ae=this.commonProps,de=this.props,he=de.isDisabled,pe=de.isLoading,ge=this.state.isFocused;if(!this.isClearable()||!re||he||!this.hasValue()||pe)return null;var ye={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Pt.createElement(re,gn({},ae,{innerProps:ye,isFocused:ge}))}},{key:"renderLoadingIndicator",value:function(){var te=this.getComponents(),re=te.LoadingIndicator,ae=this.commonProps,de=this.props,he=de.isDisabled,pe=de.isLoading,ge=this.state.isFocused;if(!re||!pe)return null;var ye={"aria-hidden":"true"};return Pt.createElement(re,gn({},ae,{innerProps:ye,isDisabled:he,isFocused:ge}))}},{key:"renderIndicatorSeparator",value:function(){var te=this.getComponents(),re=te.DropdownIndicator,ae=te.IndicatorSeparator;if(!re||!ae)return null;var de=this.commonProps,he=this.props.isDisabled,pe=this.state.isFocused;return Pt.createElement(ae,gn({},de,{isDisabled:he,isFocused:pe}))}},{key:"renderDropdownIndicator",value:function(){var te=this.getComponents(),re=te.DropdownIndicator;if(!re)return null;var ae=this.commonProps,de=this.props.isDisabled,he=this.state.isFocused,pe={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Pt.createElement(re,gn({},ae,{innerProps:pe,isDisabled:de,isFocused:he}))}},{key:"renderMenu",value:function(){var te=this,re=this.getComponents(),ae=re.Group,de=re.GroupHeading,he=re.Menu,pe=re.MenuList,ge=re.MenuPortal,ye=re.LoadingMessage,xe=re.NoOptionsMessage,Ee=re.Option,De=this.commonProps,Be=this.state.focusedOption,et=this.props,Ke=et.captureMenuScroll,nt=et.inputValue,Ce=et.isLoading,Ye=et.loadingMessage,ct=et.minMenuHeight,ut=et.maxMenuHeight,ft=et.menuIsOpen,gt=et.menuPlacement,Mt=et.menuPosition,Ht=et.menuPortalTarget,Yt=et.menuShouldBlockScroll,tn=et.menuShouldScrollIntoView,Zt=et.noOptionsMessage,dn=et.onMenuScrollToTop,ln=et.onMenuScrollToBottom;if(!ft)return null;var bn=function(Sn,Dt){var Vt=Sn.type,Gt=Sn.data,$t=Sn.isDisabled,Xt=Sn.isSelected,hn=Sn.label,kn=Sn.value,Ln=Be===Gt,Tn=$t?void 0:function(){return te.onOptionHover(Gt)},gi=$t?void 0:function(){return te.selectOption(Gt)},ri="".concat(te.getElementId("option"),"-").concat(Dt),di={id:ri,onClick:gi,onMouseMove:Tn,onMouseOver:Tn,tabIndex:-1};return Pt.createElement(Ee,gn({},De,{innerProps:di,data:Gt,isDisabled:$t,isSelected:Xt,key:ri,label:hn,type:Vt,value:kn,isFocused:Ln,innerRef:Ln?te.getFocusedOptionRef:void 0}),te.formatOptionLabel(Sn.data,"menu"))},yn;if(this.hasOptions())yn=this.getCategorizedOptions().map(function(Sn){if(Sn.type==="group"){var Dt=Sn.data,Vt=Sn.options,Gt=Sn.index,$t="".concat(te.getElementId("group"),"-").concat(Gt),Xt="".concat($t,"-heading");return Pt.createElement(ae,gn({},De,{key:$t,data:Dt,options:Vt,Heading:de,headingProps:{id:Xt,data:Sn.data},label:te.formatGroupLabel(Sn.data)}),Sn.options.map(function(hn){return bn(hn,"".concat(Gt,"-").concat(hn.index))}))}else if(Sn.type==="option")return bn(Sn,"".concat(Sn.index))});else if(Ce){var xn=Ye({inputValue:nt});if(xn===null)return null;yn=Pt.createElement(ye,De,xn)}else{var Pn=Zt({inputValue:nt});if(Pn===null)return null;yn=Pt.createElement(xe,De,Pn)}var Nn={minMenuHeight:ct,maxMenuHeight:ut,menuPlacement:gt,menuPosition:Mt,menuShouldScrollIntoView:tn},Jt=Pt.createElement(Od,gn({},De,Nn),function(Sn){var Dt=Sn.ref,Vt=Sn.placerProps,Gt=Vt.placement,$t=Vt.maxHeight;return Pt.createElement(he,gn({},De,Nn,{innerRef:Dt,innerProps:{onMouseDown:te.onMenuMouseDown,onMouseMove:te.onMenuMouseMove},isLoading:Ce,placement:Gt}),Pt.createElement(Xw,{captureEnabled:Ke,onTopArrive:dn,onBottomArrive:ln,lockEnabled:Yt},function(Xt){return Pt.createElement(pe,gn({},De,{innerRef:function(hn){te.getMenuListRef(hn),Xt(hn)},isLoading:Ce,maxHeight:$t,focusedOption:Be}),yn)}))});return Ht||Mt==="fixed"?Pt.createElement(ge,gn({},De,{appendTo:Ht,controlElement:this.controlRef,menuPlacement:gt,menuPosition:Mt}),Jt):Jt}},{key:"renderFormField",value:function(){var te=this,re=this.props,ae=re.delimiter,de=re.isDisabled,he=re.isMulti,pe=re.name,ge=this.state.selectValue;if(!(!pe||de))if(he)if(ae){var ye=ge.map(function(De){return te.getOptionValue(De)}).join(ae);return Pt.createElement("input",{name:pe,type:"hidden",value:ye})}else{var xe=ge.length>0?ge.map(function(De,Be){return Pt.createElement("input",{key:"i-".concat(Be),name:pe,type:"hidden",value:te.getOptionValue(De)})}):Pt.createElement("input",{name:pe,type:"hidden"});return Pt.createElement("div",null,xe)}else{var Ee=ge[0]?this.getOptionValue(ge[0]):"";return Pt.createElement("input",{name:pe,type:"hidden",value:Ee})}}},{key:"renderLiveRegion",value:function(){var te=this.commonProps,re=this.state,ae=re.ariaSelection,de=re.focusedOption,he=re.focusedValue,pe=re.isFocused,ge=re.selectValue,ye=this.getFocusableOptions();return Pt.createElement(Lw,gn({},te,{ariaSelection:ae,focusedOption:de,focusedValue:he,isFocused:pe,selectValue:ge,focusableOptions:ye}))}},{key:"render",value:function(){var te=this.getComponents(),re=te.Control,ae=te.IndicatorsContainer,de=te.SelectContainer,he=te.ValueContainer,pe=this.props,ge=pe.className,ye=pe.id,xe=pe.isDisabled,Ee=pe.menuIsOpen,De=this.state.isFocused,Be=this.commonProps=this.getCommonProps();return Pt.createElement(de,gn({},Be,{className:ge,innerProps:{id:ye,onKeyDown:this.onKeyDown},isDisabled:xe,isFocused:De}),this.renderLiveRegion(),Pt.createElement(re,gn({},Be,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:xe,isFocused:De,menuIsOpen:Ee}),Pt.createElement(he,gn({},Be,{isDisabled:xe}),this.renderPlaceholderOrValue(),this.renderInput()),Pt.createElement(ae,gn({},Be,{isDisabled:xe}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(te,re){var ae=re.prevProps,de=re.clearFocusValueOnUpdate,he=re.inputIsHiddenAfterUpdate,pe=te.options,ge=te.value,ye=te.menuIsOpen,xe=te.inputValue,Ee={};if(ae&&(ge!==ae.value||pe!==ae.options||ye!==ae.menuIsOpen||xe!==ae.inputValue)){var De=Sd(ge),Be=ye?sx(te,De):[],et=de?lx(re,De):null,Ke=ux(re,Be);Ee={selectValue:De,focusedOption:Ke,focusedValue:et,clearFocusValueOnUpdate:!1}}var nt=he!=null&&te!==ae?{inputIsHidden:he,inputIsHiddenAfterUpdate:void 0}:{};return qn(qn(qn({},Ee),nt),{},{prevProps:te})}}]),Q}(Fe);sh.defaultProps=ax;var dx={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},hx=function(ee){var ie,Q;return Q=ie=function(te){Go(ae,te);var re=Ko(ae);function ae(){var de;$o(this,ae);for(var he=arguments.length,pe=new Array(he),ge=0;ge<he;ge++)pe[ge]=arguments[ge];return de=re.call.apply(re,[this].concat(pe)),de.select=void 0,de.state={inputValue:de.props.inputValue!==void 0?de.props.inputValue:de.props.defaultInputValue,menuIsOpen:de.props.menuIsOpen!==void 0?de.props.menuIsOpen:de.props.defaultMenuIsOpen,value:de.props.value!==void 0?de.props.value:de.props.defaultValue},de.onChange=function(ye,xe){de.callProp("onChange",ye,xe),de.setState({value:ye})},de.onInputChange=function(ye,xe){var Ee=de.callProp("onInputChange",ye,xe);de.setState({inputValue:Ee!==void 0?Ee:ye})},de.onMenuOpen=function(){de.callProp("onMenuOpen"),de.setState({menuIsOpen:!0})},de.onMenuClose=function(){de.callProp("onMenuClose"),de.setState({menuIsOpen:!1})},de}return Uo(ae,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(de){return this.props[de]!==void 0?this.props[de]:this.state[de]}},{key:"callProp",value:function(de){if(typeof this.props[de]=="function"){for(var he,pe=arguments.length,ge=new Array(pe>1?pe-1:0),ye=1;ye<pe;ye++)ge[ye-1]=arguments[ye];return(he=this.props)[de].apply(he,ge)}}},{key:"render",value:function(){var de=this,he=this.props;he.defaultInputValue,he.defaultMenuIsOpen,he.defaultValue;var pe=mr(he,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Pt.createElement(ee,gn({},pe,{ref:function(ge){de.select=ge},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),ae}(Fe),ie.defaultProps=dx,Q},px=hx(sh),fx=px;const Is=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var lh=ee=>{const ie=ee.content?Is.find(Q=>Q.value===ee.content):null;return Pt.createElement("div",{className:"r6o-purposedropdown"},Pt.createElement(fx,{value:ie,onChange:ee.onChange,options:Is,isDisabled:!ee.editable}))};const gx=ee=>Pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:ee.width},Pt.createElement("metadata",null,"IcoFont Icons"),Pt.createElement("title",null,"simple-down"),Pt.createElement("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),Pt.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),mx=ee=>Pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:ee.width},Pt.createElement("metadata",null,"IcoFont Icons"),Pt.createElement("title",null,"close"),Pt.createElement("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),Pt.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),vx=ee=>Pt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:ee.width},Pt.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var yx=ee=>{const[ie,Q]=bt(!1),[te,re]=bt(!1),ae=xe=>{Q(!0),re(!1)},de=xe=>{ee.onDelete(ee.body),re(!1)},he=xe=>ee.onUpdate(ee.body,{...ee.body,value:xe.target.value}),pe=xe=>ee.onUpdate(ee.body,{...ee.body,purpose:xe.value}),ge=ee.body.modified||ee.body.created,ye=ee.body.creator&&Pt.createElement("div",{className:"r6o-lastmodified"},Pt.createElement("span",{className:"r6o-lastmodified-by"},ee.body.creator.name||ee.body.creator.id),ee.body.created&&Pt.createElement("span",{className:"r6o-lastmodified-at"},Pt.createElement(vf,{datetime:ee.env.toClientTime(ge),locale:li.locale()})));return ee.readOnly?Pt.createElement("div",{className:"r6o-widget comment"},Pt.createElement("div",{className:"r6o-readonly-comment"},ee.body.value),ye):Pt.createElement("div",{className:ie?"r6o-widget comment editable":"r6o-widget comment"},Pt.createElement(Vc,{editable:ie,content:ee.body.value,onChange:he,onSaveAndClose:ee.onSaveAndClose}),!ie&&ye,ee.purposeSelector&&Pt.createElement(lh,{editable:ie,content:ee.body.purpose,onChange:pe,onSaveAndClose:ee.onSaveAndClose}),Pt.createElement("div",{className:te?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>re(!te)},Pt.createElement(gx,{width:12})),te&&Pt.createElement(ob,{onEdit:ae,onDelete:de,onClickOutside:()=>re(!1)}))};const bx=Is.map(ee=>ee.value),uh=(ee,ie)=>{const Q=ie?bx.indexOf(ee.purpose)>-1:ee.purpose=="commenting"||ee.purpose=="replying";return ee.type==="TextualBody"&&(!ee.hasOwnProperty("purpose")||Q)},ch=(ee,ie)=>{var Q,te;if(ie.editable===!0)return!1;if(ie.editable===!1)return!0;if(ie.editable==="MINE_ONLY"){const re=(Q=ee.creator)==null?void 0:Q.id;return((te=ie.env.user)==null?void 0:te.id)!==re}return ie.readOnly},wx=(ee,ie)=>ee||{type:"TextualBody",value:"",purpose:ie?"replying":"commenting",draft:!0},dh=ee=>{const ie=ee.annotation?ee.annotation.bodies.filter(de=>uh(de,ee.purposeSelector)):[],Q=wx(ie.find(de=>de.draft==!0),ie.length>1),te=ie.filter(de=>de!=Q),re=de=>{const he=Q.value,pe=de.target.value;he.length===0&&pe.length>0?ee.onAppendBody({...Q,value:pe}):he.length>0&&pe.length===0?ee.onRemoveBody(Q):ee.onUpdateBody(Q,{...Q,value:pe})},ae=de=>ee.onUpdateBody(Q,{...Q,purpose:de.value});return Pt.createElement(Pt.Fragment,null,te.map((de,he)=>Pt.createElement(yx,{key:he,env:ee.env,purposeSelector:ee.purposeSelector,readOnly:ch(de,ee),body:de,onUpdate:ee.onUpdateBody,onDelete:ee.onRemoveBody,onSaveAndClose:ee.onSaveAndClose})),!ee.readOnly&&ee.annotation&&Pt.createElement("div",{className:"r6o-widget comment editable"},Pt.createElement(Vc,{focus:ee.focus,content:Q.value,editable:!0,placeholder:te.length>0?li.t("Add a reply..."):li.t("Add a comment..."),onChange:re,onSaveAndClose:()=>ee.onSaveAndClose()}),ee.purposeSelector&&Q.value.length>0&&Pt.createElement(lh,{editable:!0,content:Q.purpose,onChange:ae,onSaveAndClose:()=>ee.onSaveAndClose()})))};dh.disableDelete=(ee,ie)=>ee.bodies.filter(Q=>uh(Q,ie.purposeSelector)).some(Q=>ch(Q,ie));var hh=dh;function ph(ee,ie){ee.prototype=Object.create(ie.prototype),ee.prototype.constructor=ee,Wo(ee,ie)}function xx(ee,ie){return ee.classList?!!ie&&ee.classList.contains(ie):(" "+(ee.className.baseVal||ee.className)+" ").indexOf(" "+ie+" ")!==-1}function Sx(ee,ie){ee.classList?ee.classList.add(ie):xx(ee,ie)||(typeof ee.className=="string"?ee.className=ee.className+" "+ie:ee.setAttribute("class",(ee.className&&ee.className.baseVal||"")+" "+ie))}function fh(ee,ie){return ee.replace(new RegExp("(^|\\s)"+ie+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ex(ee,ie){ee.classList?ee.classList.remove(ie):typeof ee.className=="string"?ee.className=fh(ee.className,ie):ee.setAttribute("class",fh(ee.className&&ee.className.baseVal||"",ie))}var gh={disabled:!1},mh=Pt.createContext(null),Wr="unmounted",Yi="exited",Zi="entering",yr="entered",Ns="exiting",Ti=function(ee){ph(ie,ee);function ie(te,re){var ae;ae=ee.call(this,te,re)||this;var de=re,he=de&&!de.isMounting?te.enter:te.appear,pe;return ae.appearStatus=null,te.in?he?(pe=Yi,ae.appearStatus=Zi):pe=yr:te.unmountOnExit||te.mountOnEnter?pe=Wr:pe=Yi,ae.state={status:pe},ae.nextCallback=null,ae}ie.getDerivedStateFromProps=function(te,re){var ae=te.in;return ae&&re.status===Wr?{status:Yi}:null};var Q=ie.prototype;return Q.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Q.componentDidUpdate=function(te){var re=null;if(te!==this.props){var ae=this.state.status;this.props.in?ae!==Zi&&ae!==yr&&(re=Zi):(ae===Zi||ae===yr)&&(re=Ns)}this.updateStatus(!1,re)},Q.componentWillUnmount=function(){this.cancelNextCallback()},Q.getTimeouts=function(){var te=this.props.timeout,re,ae,de;return re=ae=de=te,te!=null&&typeof te!="number"&&(re=te.exit,ae=te.enter,de=te.appear!==void 0?te.appear:ae),{exit:re,enter:ae,appear:de}},Q.updateStatus=function(te,re){te===void 0&&(te=!1),re!==null?(this.cancelNextCallback(),re===Zi?this.performEnter(te):this.performExit()):this.props.unmountOnExit&&this.state.status===Yi&&this.setState({status:Wr})},Q.performEnter=function(te){var re=this,ae=this.props.enter,de=this.context?this.context.isMounting:te,he=this.props.nodeRef?[de]:[Pt.findDOMNode(this),de],pe=he[0],ge=he[1],ye=this.getTimeouts(),xe=de?ye.appear:ye.enter;if(!te&&!ae||gh.disabled){this.safeSetState({status:yr},function(){re.props.onEntered(pe)});return}this.props.onEnter(pe,ge),this.safeSetState({status:Zi},function(){re.props.onEntering(pe,ge),re.onTransitionEnd(xe,function(){re.safeSetState({status:yr},function(){re.props.onEntered(pe,ge)})})})},Q.performExit=function(){var te=this,re=this.props.exit,ae=this.getTimeouts(),de=this.props.nodeRef?void 0:Pt.findDOMNode(this);if(!re||gh.disabled){this.safeSetState({status:Yi},function(){te.props.onExited(de)});return}this.props.onExit(de),this.safeSetState({status:Ns},function(){te.props.onExiting(de),te.onTransitionEnd(ae.exit,function(){te.safeSetState({status:Yi},function(){te.props.onExited(de)})})})},Q.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Q.safeSetState=function(te,re){re=this.setNextCallback(re),this.setState(te,re)},Q.setNextCallback=function(te){var re=this,ae=!0;return this.nextCallback=function(de){ae&&(ae=!1,re.nextCallback=null,te(de))},this.nextCallback.cancel=function(){ae=!1},this.nextCallback},Q.onTransitionEnd=function(te,re){this.setNextCallback(re);var ae=this.props.nodeRef?this.props.nodeRef.current:Pt.findDOMNode(this),de=te==null&&!this.props.addEndListener;if(!ae||de){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var he=this.props.nodeRef?[this.nextCallback]:[ae,this.nextCallback],pe=he[0],ge=he[1];this.props.addEndListener(pe,ge)}te!=null&&setTimeout(this.nextCallback,te)},Q.render=function(){var te=this.state.status;if(te===Wr)return null;var re=this.props,ae=re.children;re.in,re.mountOnEnter,re.unmountOnExit,re.appear,re.enter,re.exit,re.timeout,re.addEndListener,re.onEnter,re.onEntering,re.onEntered,re.onExit,re.onExiting,re.onExited,re.nodeRef;var de=bs(re,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Pt.createElement(mh.Provider,{value:null},typeof ae=="function"?ae(te,de):Pt.cloneElement(Pt.Children.only(ae),de))},ie}(Pt.Component);Ti.contextType=mh,Ti.propTypes={};function br(){}Ti.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:br,onEntering:br,onEntered:br,onExit:br,onExiting:br,onExited:br},Ti.UNMOUNTED=Wr,Ti.EXITED=Yi,Ti.ENTERING=Zi,Ti.ENTERED=yr,Ti.EXITING=Ns;var Cx=Ti,_x=function(ee,ie){return ee&&ie&&ie.split(" ").forEach(function(Q){return Sx(ee,Q)})},Ms=function(ee,ie){return ee&&ie&&ie.split(" ").forEach(function(Q){return Ex(ee,Q)})},Fs=function(ee){ph(ie,ee);function ie(){for(var te,re=arguments.length,ae=new Array(re),de=0;de<re;de++)ae[de]=arguments[de];return te=ee.call.apply(ee,[this].concat(ae))||this,te.appliedClasses={appear:{},enter:{},exit:{}},te.onEnter=function(he,pe){var ge=te.resolveArguments(he,pe),ye=ge[0],xe=ge[1];te.removeClasses(ye,"exit"),te.addClass(ye,xe?"appear":"enter","base"),te.props.onEnter&&te.props.onEnter(he,pe)},te.onEntering=function(he,pe){var ge=te.resolveArguments(he,pe),ye=ge[0],xe=ge[1],Ee=xe?"appear":"enter";te.addClass(ye,Ee,"active"),te.props.onEntering&&te.props.onEntering(he,pe)},te.onEntered=function(he,pe){var ge=te.resolveArguments(he,pe),ye=ge[0],xe=ge[1],Ee=xe?"appear":"enter";te.removeClasses(ye,Ee),te.addClass(ye,Ee,"done"),te.props.onEntered&&te.props.onEntered(he,pe)},te.onExit=function(he){var pe=te.resolveArguments(he),ge=pe[0];te.removeClasses(ge,"appear"),te.removeClasses(ge,"enter"),te.addClass(ge,"exit","base"),te.props.onExit&&te.props.onExit(he)},te.onExiting=function(he){var pe=te.resolveArguments(he),ge=pe[0];te.addClass(ge,"exit","active"),te.props.onExiting&&te.props.onExiting(he)},te.onExited=function(he){var pe=te.resolveArguments(he),ge=pe[0];te.removeClasses(ge,"exit"),te.addClass(ge,"exit","done"),te.props.onExited&&te.props.onExited(he)},te.resolveArguments=function(he,pe){return te.props.nodeRef?[te.props.nodeRef.current,he]:[he,pe]},te.getClassNames=function(he){var pe=te.props.classNames,ge=typeof pe=="string",ye=ge&&pe?pe+"-":"",xe=ge?""+ye+he:pe[he],Ee=ge?xe+"-active":pe[he+"Active"],De=ge?xe+"-done":pe[he+"Done"];return{baseClassName:xe,activeClassName:Ee,doneClassName:De}},te}var Q=ie.prototype;return Q.addClass=function(te,re,ae){var de=this.getClassNames(re)[ae+"ClassName"],he=this.getClassNames("enter"),pe=he.doneClassName;re==="appear"&&ae==="done"&&pe&&(de+=" "+pe),ae==="active"&&te&&te.scrollTop,de&&(this.appliedClasses[re][ae]=de,_x(te,de))},Q.removeClasses=function(te,re){var ae=this.appliedClasses[re],de=ae.base,he=ae.active,pe=ae.done;this.appliedClasses[re]={},de&&Ms(te,de),he&&Ms(te,he),pe&&Ms(te,pe)},Q.render=function(){var te=this.props;te.classNames;var re=bs(te,["classNames"]);return Pt.createElement(Cx,gn({},re,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},ie}(Pt.Component);Fs.defaultProps={classNames:""},Fs.propTypes={};var Tx=Fs;const Px=(ee,ie)=>ie.filter(Q=>(Q.label?Q.label:Q).toLowerCase().startsWith(ee.toLowerCase())),Ox=(ee,ie)=>ie(ee);var Ax=ee=>{const ie=Bt(),[Q,te]=bt(ee.initialValue||""),[re,ae]=bt([]),[de,he]=bt(null);St(()=>{ee.focus&&ie.current.querySelector("input").focus({preventScroll:!0})},[]),St(()=>{ee.onChange&&ee.onChange(Q)},[Q]);const pe=Ee=>{if(typeof ee.vocabulary=="function"){const De=Ox(Ee,ee.vocabulary);De.then?De.then(ae):ae(De)}else{const De=Px(Ee,ee.vocabulary);ae(De)}},ge=()=>{if(de!==null)ee.onSubmit(re[de]);else{const Ee=Q.trim();if(Ee){const De=Array.isArray(ee.vocabulary)?ee.vocabulary.find(Be=>(Be.label||Be).toLowerCase()===Ee.toLowerCase()):null;De?ee.onSubmit(De):ee.onSubmit(Ee)}}te(""),ae([]),he(null)},ye=Ee=>{if(Ee.which===13)ge();else if(Ee.which===27)ee.onCancel&&ee.onCancel();else if(re.length>0){if(Ee.which===38)if(de===null)he(0);else{const De=Math.max(0,de-1);he(De)}else if(Ee.which===40)if(de===null)he(0);else{const De=Math.min(re.length-1,de+1);he(De)}}else Ee.which===40&&Array.isArray(ee.vocabulary)&&ae(ee.vocabulary)},xe=Ee=>{const{value:De}=Ee.target;te(De),he(null),De?pe(De):ae([])};return Pt.createElement("div",{ref:ie,className:"r6o-autocomplete"},Pt.createElement("div",null,Pt.createElement("input",{onKeyDown:ye,onChange:xe,value:Q,placeholder:ee.placeholder})),Pt.createElement("ul",null,re.length>0&&re.map((Ee,De)=>Pt.createElement("li",{key:`${Ee.label?Ee.label:Ee}${De}`,onClick:ge,onMouseEnter:()=>he(De),style:de===De?{backgroundColor:"#bde4ff"}:{}},Ee.label?Ee.label:Ee))))};const Rx=ee=>ee||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var vh=ee=>{const ie=ee.annotation?ee.annotation.bodies.filter(xe=>xe.purpose==="tagging"):[],Q=Rx(ie.slice().reverse().find(xe=>xe.draft)),te=ie.filter(xe=>xe!=Q),[re,ae]=bt(!1),de=xe=>Ee=>{ae(re===xe?!1:xe)},he=xe=>{const Ee=Q.value.trim(),De=xe.trim();Ee.length===0&&De.length>0?ee.onAppendBody({...Q,value:De}):Ee.length>0&&De.length===0?ee.onRemoveBody(Q):Ee!==De&&ee.onUpdateBody(Q,{...Q,value:De})},pe=xe=>Ee=>{Ee.stopPropagation(),ee.onRemoveBody(xe)},ge=xe=>{const Ee=xe.uri?{type:"SpecificResource",purpose:"tagging",source:{id:xe.uri,label:xe.label}}:{type:"TextualBody",purpose:"tagging",value:xe.label||xe};Q.value.trim().length===0?ee.onAppendBody(Ee):ee.onUpdateBody(Q,Ee)},ye=xe=>xe.value||xe.source.label;return Pt.createElement("div",{className:"r6o-widget r6o-tag"},te.length>0&&Pt.createElement("ul",{className:"r6o-taglist"},te.map(xe=>Pt.createElement("li",{key:ye(xe),onClick:de(xe)},Pt.createElement("span",{className:"r6o-label"},ye(xe)),!ee.readOnly&&Pt.createElement(Tx,{in:re===xe,timeout:200,classNames:"r6o-delete"},Pt.createElement("span",{className:"r6o-delete-wrapper",onClick:pe(xe)},Pt.createElement("span",{className:"r6o-delete"},Pt.createElement(mx,{width:12}))))))),!ee.readOnly&&Pt.createElement(Ax,{focus:ee.focus,placeholder:li.t("Add tag..."),vocabulary:ee.vocabulary||[],onChange:he,onSubmit:ge}))};class yh extends Fe{constructor(ie){super(ie),this.element=Pt.createRef()}renderWidget(ie){const Q=this.props.widget({annotation:ie.annotation,readOnly:ie.readOnly,...ie.config,onAppendBody:(te,re)=>ie.onAppendBody(te,re),onUpdateBody:(te,re,ae)=>ie.onUpdateBody(te,re,ae),onUpsertBody:(te,re,ae)=>ie.onUpsertBody(te,re,ae),onRemoveBody:(te,re)=>ie.onRemoveBody(te,re),onBatchModify:(te,re)=>ie.onBatchModify(te,re),onSetProperty:(te,re)=>ie.onSetProperty(te,re),onAddContext:te=>ie.onAddContext(te),onSaveAndClose:()=>ie.onSaveAndClose()});for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(Q)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(ie){this.element.current&&this.props.annotation!==ie.annotation&&this.renderWidget(ie)}render(){return Pt.createElement("div",{ref:this.element,className:"widget"})}}window.React=Pt,window.ReactDOM=Pt;const Dx={COMMENT:hh,TAG:vh},kx=[Pt.createElement(hh,null),Pt.createElement(vh,null)],Ix=ee=>{const ie=te=>{var re;return typeof te=="function"&&!!((re=te.prototype)!=null&&re.isReactComponent)},Q=te=>typeof te=="function"&&(String(te).match(/return .+\(['|"].+['|"],\s*\{/g)||String(te).match(/return .+preact_compat/)||String(te).match(/return .+\.createElement/g));return ie(ee)||Q(ee)},Nx=ee=>{const ie=(Q,te,re)=>{if(typeof Q=="string"||Q instanceof String)return Pt.createElement(Dx[Q],te);if((re==null?void 0:re.toLowerCase())==="react")return Pt.createElement(Q,te);if((re==null?void 0:re.toLowerCase())==="plainjs")return Pt.createElement(yh,{widget:Q,config:te});if(Ix(Q))return Pt.createElement(Q,te);if(typeof Q=="function"||Q instanceof Function)return Pt.createElement(yh,{widget:Q,config:te});throw`${Q} is not a valid plugin`};if(ee.widget){const{widget:Q,force:te,...re}=ee;return ie(Q,re,te)}else return ie(ee)},bh=14;var wh=(ee,ie,Q,te)=>{const re=ee.getBoundingClientRect();ie.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:ae,top:de,right:he,bottom:pe}=Q.getBoundingClientRect();if(ie.style.top=`${pe-re.top+bh}px`,ie.style.left=`${ae-re.left}px`,te){const ge=ie.children[1].getBoundingClientRect(),{innerWidth:ye,innerHeight:xe}=ee.ownerDocument.defaultView;if(ge.right>ye&&(ie.classList.remove("r6o-arrow-left"),ie.classList.add("r6o-arrow-right"),ie.style.left=`${he-ge.width-re.left}px`),ge.bottom>xe){ie.classList.remove("r6o-arrow-top"),ie.classList.add("r6o-arrow-bottom");const De=ie.children[1].getBoundingClientRect().height;ie.style.top=`${de-re.top-De-bh}px`}const Ee=ie.children[1].getBoundingClientRect();if(Ee.top<0){ie.classList.add("pushed","down"),ie.style.top=`${-re.top}px`;const De=pe-re.top;Ee.height-re.top>De&&ie.classList.remove("r6o-arrow-bottom")}Ee.left<0&&(ie.classList.add("pushed","right"),ie.style.left=`${-re.left}px`),requestAnimationFrame(()=>ie.style.opacity=1)}};const xh=ee=>{const{top:ie,left:Q,width:te,height:re}=ee.getBoundingClientRect();return`${ie}, ${Q}, ${te}, ${re}`};class Mx extends Fe{constructor(ie){super(ie),ne(this,"initResizeObserver",()=>{const Q=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const te=new ResizeObserver(()=>{this.state.dragged||wh(this.props.wrapperEl,this.element.current,this.props.selectedElement,Q)});return te.observe(this.props.wrapperEl),()=>te.disconnect()}else this.state.dragged||wh(this.props.wrapperEl,this.element.current,this.props.selectedElement,Q)}),ne(this,"creationMeta",Q=>{const te={},{user:re}=this.props.env;return re&&(te.creator={},re.id&&(te.creator.id=re.id),re.displayName&&(te.creator.name=re.displayName),te[Q.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),te}),ne(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),ne(this,"hasChanges",()=>{var Q;return!((Q=this.props.annotation)!=null&&Q.isEqual(this.state.currentAnnotation))}),ne(this,"updateCurrentAnnotation",(Q,te)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(Q)},()=>{te?this.onOk():this.props.onChanged&&this.props.onChanged()})}),ne(this,"onAppendBody",(Q,te)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...Q,...this.creationMeta(Q)}]},te)),ne(this,"onUpdateBody",(Q,te,re)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(ae=>ae===Q?{...te,...this.creationMeta(te)}:ae)},re)),ne(this,"onRemoveBody",(Q,te)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(re=>re!==Q)},te)),ne(this,"onUpsertBody",(Q,te,re)=>{if(Q==null&&te!=null)this.onAppendBody(te,re);else if(Q!=null&&te!=null)this.onUpdateBody(Q,te,re);else if(Q!=null&&te==null){const ae=this.state.currentAnnotation.bodies.find(de=>de.purpose===Q.purpose);ae?this.onUpdateBody(ae,Q,re):this.onAppendBody(Q,re)}}),ne(this,"onBatchModify",(Q,te)=>{const re=Q.filter(ge=>ge.action==="upsert"&&ge.body).map(ge=>({previous:this.state.currentAnnotation.bodies.find(ye=>ye.purpose===ge.body.purpose),updated:{...ge.body,...this.creationMeta(ge.body)}})),ae=Q.filter(ge=>ge.action==="remove").map(ge=>ge.body),de=[...Q.filter(ge=>ge.action==="append"||ge.action==="upsert"&&ge.updated&&!ge.previous).map(ge=>({...ge.body,...this.creationMeta(ge.body)})),...re.filter(ge=>!ge.previous).map(ge=>ge.updated)],he=[...Q.filter(ge=>ge.action==="update"||ge.action==="upsert"&&ge.updated&&ge.previous).map(ge=>({previous:ge.previous,updated:{...ge.updated,...this.creationMeta(ge.updated)}})),...re.filter(ge=>ge.previous)],pe=[...this.state.currentAnnotation.bodies.filter(ge=>!ae.includes(ge)).map(ge=>{const ye=he.find(xe=>xe.previous===ge);return ye?ye.updated:ge}),...de];this.updateCurrentAnnotation({body:pe},te)}),ne(this,"onSetProperty",(Q,te)=>{if(["@context","id","type","body","target"].includes(Q))throw new Exception(`Cannot set ${Q} - not allowed`);if(te)this.updateCurrentAnnotation({[Q]:te});else{const re=this.currentAnnotation.clone();delete re[Q],this.setState({currentAnnotation:re})}}),ne(this,"onAddContext",Q=>{const{currentAnnotation:te}=this.state,re=Array.isArray(te.context)?te.context:[te.context];re.indexOf(Q)<0&&(re.push(Q),this.updateCurrentAnnotation({"@context":re}))}),ne(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),ne(this,"onOk",()=>{const Q=re=>re.clone({body:re.bodies.map(({draft:ae,...de})=>de)}),{currentAnnotation:te}=this.state;te.bodies.length===0&&!this.props.allowEmpty?te.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):te.isSelection?this.props.onAnnotationCreated(Q(te).toAnnotation()):this.props.onAnnotationUpdated(Q(te),this.props.annotation)}),ne(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Pt.createRef(),this.state={currentAnnotation:ie.annotation,dragged:!1,selectionBounds:xh(ie.selectedElement)}}componentWillReceiveProps(ie){var Q;const{selectionBounds:te}=this.state,re=xh(ie.selectedElement);(Q=this.props.annotation)!=null&&Q.isEqual(ie.annotation)?this.setState({selectionBounds:re}):this.setState({currentAnnotation:ie.annotation,selectionBounds:re}),this.props.modifiedTarget!=ie.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),te!=re&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:ie}=this.state,Q=this.props.widgets?this.props.widgets.map(Nx):kx,te=ae=>ae.type.disableDelete?ae.type.disableDelete(ie,{...ae.props,readOnly:this.props.readOnly,env:this.props.env}):!1,re=ie&&(ie.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!ie.isSelection&&!Q.some(te);return Pt.createElement(rf,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Pt.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Pt.createElement("div",{className:"r6o-arrow"}),Pt.createElement("div",{className:"r6o-editor-inner"},Q.map((ae,de)=>Pt.cloneElement(ae,{key:`${de}`,focus:de===0,annotation:ie,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?Pt.createElement("div",{className:"r6o-footer"},Pt.createElement("button",{className:"r6o-btn",onClick:this.onCancel},li.t("Close"))):Pt.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},re&&Pt.createElement("button",{className:"r6o-btn left delete-annotation",title:li.t("Delete"),onClick:this.onDelete},Pt.createElement(vx,{width:12})),Pt.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},li.t("Cancel")),Pt.createElement("button",{className:"r6o-btn ",onClick:this.onOk},li.t("Ok"))))))}}var ea,Fx=new Uint8Array(16);function Bx(){if(!ea&&(ea=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!ea))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ea(Fx)}var Lx=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Hx(ee){return typeof ee=="string"&&Lx.test(ee)}for(var Kn=[],Bs=0;Bs<256;++Bs)Kn.push((Bs+256).toString(16).substr(1));function jx(ee){var ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Q=(Kn[ee[ie+0]]+Kn[ee[ie+1]]+Kn[ee[ie+2]]+Kn[ee[ie+3]]+"-"+Kn[ee[ie+4]]+Kn[ee[ie+5]]+"-"+Kn[ee[ie+6]]+Kn[ee[ie+7]]+"-"+Kn[ee[ie+8]]+Kn[ee[ie+9]]+"-"+Kn[ee[ie+10]]+Kn[ee[ie+11]]+Kn[ee[ie+12]]+Kn[ee[ie+13]]+Kn[ee[ie+14]]+Kn[ee[ie+15]]).toLowerCase();if(!Hx(Q))throw TypeError("Stringified UUID is invalid");return Q}function Sh(ee,ie,Q){ee=ee||{};var te=ee.random||(ee.rng||Bx)();if(te[6]=te[6]&15|64,te[8]=te[8]&63|128,ie){Q=Q||0;for(var re=0;re<16;++re)ie[Q+re]=te[re];return ie}return jx(te)}var zx=function ee(ie,Q){if(ie===Q)return!0;if(ie&&Q&&typeof ie=="object"&&typeof Q=="object"){if(ie.constructor!==Q.constructor)return!1;var te,re,ae;if(Array.isArray(ie)){if(te=ie.length,te!=Q.length)return!1;for(re=te;re--!==0;)if(!ee(ie[re],Q[re]))return!1;return!0}if(ie.constructor===RegExp)return ie.source===Q.source&&ie.flags===Q.flags;if(ie.valueOf!==Object.prototype.valueOf)return ie.valueOf()===Q.valueOf();if(ie.toString!==Object.prototype.toString)return ie.toString()===Q.toString();if(ae=Object.keys(ie),te=ae.length,te!==Object.keys(Q).length)return!1;for(re=te;re--!==0;)if(!Object.prototype.hasOwnProperty.call(Q,ae[re]))return!1;for(re=te;re--!==0;){var de=ae[re];if(!ee(ie[de],Q[de]))return!1}return!0}return ie!==ie&&Q!==Q},Eh=zx;const Ls=class{constructor(ee,ie){ne(this,"clone",(Q,te)=>new Ls({...this.underlying,...Q},{...this.opts,...te})),ne(this,"selector",Q=>{const{target:te}=this.underlying;if(te.selector)return(Array.isArray(te.selector)?te.selector:[te.selector]).find(re=>re.type===Q)}),this.underlying=ee,this.opts=ie}isEqual(ee){return(ee==null?void 0:ee.type)!=="Annotation"?!1:this.underlying===ee.underlying?!0:!this.underlying.id||!ee.underlying.id?!1:Eh(this.underlying,ee.underlying)}get readOnly(){var ee;return(ee=this.opts)==null?void 0:ee.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(ee){this.underlying.body=ee}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var ee;return(ee=this.selector("TextQuoteSelector"))==null?void 0:ee.exact}get start(){var ee;return(ee=this.selector("TextPositionSelector"))==null?void 0:ee.start}get end(){var ee;return(ee=this.selector("TextPositionSelector"))==null?void 0:ee.end}};let Ji=Ls;ne(Ji,"create",ee=>{const ie={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Sh()}`,body:[]};return new Ls({...ie,...ee})});class Gr{constructor(ie,Q){ne(this,"clone",te=>{const re=new Gr;return re.underlying=JSON.parse(JSON.stringify(this.underlying)),te&&(re.underlying={...re.underlying,...te}),re}),ne(this,"selector",te=>{const{target:re}=this.underlying;if(re.selector)return(Array.isArray(re.selector)?re.selector:[re.selector]).find(ae=>ae.type===te)}),ne(this,"toAnnotation",()=>{const te=Object.assign({},this.underlying,{type:"Annotation",id:`#${Sh()}`});return new Ji(te)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:Q||[],target:ie}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(ie){return ie?Eh(this.underlying,ie.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var ie;return(ie=this.selector("TextQuoteSelector"))==null?void 0:ie.exact}get isSelection(){return!0}}let Hs=0;var Vx=()=>({setServerTime:ee=>{const ie=Date.now();Hs=ee-ie},getCurrentTimeAdjusted:()=>new Date(Date.now()+Hs).toISOString(),toClientTime:ee=>Date.parse(ee)-Hs});const $x=(ee,ie)=>{if(ee){const Q=ee==="auto"?window.navigator.userLanguage||window.navigator.language:ee,te=Q.split("-")[0].toLowerCase(),re=[Q,te].find(ae=>rb.includes(ae));re||console.warn(`Unsupported locale '${Q}'. Falling back to default en.`),li.init(re,ie)}else li.init(null,ie)};var Ch={exports:{}};(function(ee){//! openseadragon 3.0.0
//! Built on 2021-12-15
//! Git commit: v3.0.0-0-3eded36
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function ie(Q){return new ie.Viewer(Q)}(function(Q){Q.version={versionStr:"3.0.0",major:parseInt("3",10),minor:parseInt("0",10),revision:parseInt("0",10)};var te={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},re=Object.prototype.toString,ae=Object.prototype.hasOwnProperty;Q.isFunction=function(de){return Q.type(de)==="function"},Q.isArray=Array.isArray||function(de){return Q.type(de)==="array"},Q.isWindow=function(de){return de&&typeof de=="object"&&"setInterval"in de},Q.type=function(de){return de==null?String(de):te[re.call(de)]||"object"},Q.isPlainObject=function(de){if(!de||ie.type(de)!=="object"||de.nodeType||Q.isWindow(de)||de.constructor&&!ae.call(de,"constructor")&&!ae.call(de.constructor.prototype,"isPrototypeOf"))return!1;var he;for(var pe in de)he=pe;return he===void 0||ae.call(de,he)},Q.isEmptyObject=function(de){for(var he in de)return!1;return!0},Q.freezeObject=function(de){return Object.freeze?Q.freezeObject=Object.freeze:Q.freezeObject=function(he){return he},Q.freezeObject(de)},Q.supportsCanvas=function(){var de=document.createElement("canvas");return!!(Q.isFunction(de.getContext)&&de.getContext("2d"))}(),Q.isCanvasTainted=function(de){var he=!1;try{de.getContext("2d").getImageData(0,0,1,1)}catch{he=!0}return he},Q.supportsAddEventListener=function(){return!!(document.documentElement.addEventListener&&document.addEventListener)}(),Q.supportsRemoveEventListener=function(){return!!(document.documentElement.removeEventListener&&document.removeEventListener)}(),Q.supportsEventListenerOptions=function(){var de=0;if(Q.supportsAddEventListener)try{var he={get capture(){return de++,!1},get once(){return de++,!1},get passive(){return de++,!1}};window.addEventListener("test",null,he),window.removeEventListener("test",null,he)}catch{de=0}return de>=3}(),Q.getCurrentPixelDensityRatio=function(){if(Q.supportsCanvas){var de=document.createElement("canvas").getContext("2d"),he=window.devicePixelRatio||1,pe=de.webkitBackingStorePixelRatio||de.mozBackingStorePixelRatio||de.msBackingStorePixelRatio||de.oBackingStorePixelRatio||de.backingStorePixelRatio||1;return Math.max(he,1)/pe}else return 1},Q.pixelDensityRatio=Q.getCurrentPixelDensityRatio()})(ie),function(Q){Q.extend=function(){var pe,ge,ye,xe,Ee,De,Be=arguments[0]||{},et=arguments.length,Ke=!1,nt=1;for(typeof Be=="boolean"&&(Ke=Be,Be=arguments[1]||{},nt=2),typeof Be!="object"&&!ie.isFunction(Be)&&(Be={}),et===nt&&(Be=this,--nt);nt<et;nt++)if(pe=arguments[nt],pe!==null||pe!==void 0)for(ge in pe)ye=Be[ge],xe=pe[ge],Be!==xe&&(Ke&&xe&&(ie.isPlainObject(xe)||(Ee=ie.isArray(xe)))?(Ee?(Ee=!1,De=ye&&ie.isArray(ye)?ye:[]):De=ye&&ie.isPlainObject(ye)?ye:{},Be[ge]=ie.extend(Ke,De,xe)):xe!==void 0&&(Be[ge]=xe));return Be};var te=function(){if(typeof navigator!="object")return!1;var pe=navigator.userAgent;return typeof pe!="string"?!1:pe.indexOf("iPhone")!==-1||pe.indexOf("iPad")!==-1||pe.indexOf("iPod")!==-1};Q.extend(Q,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{dragToPan:!0,scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{dragToPan:!0,scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:te(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(pe,ge){return function(){var ye=arguments;return ye===void 0&&(ye=[]),ge.apply(pe,ye)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5,EDGE:6,CHROMEEDGE:7},_viewers:new Map,getViewer:function(pe){return Q._viewers.get(this.getElement(pe))},getElement:function(pe){return typeof pe=="string"&&(pe=document.getElementById(pe)),pe},getElementPosition:function(pe){var ge=new Q.Point,ye,xe;for(pe=Q.getElement(pe),ye=Q.getElementStyle(pe).position==="fixed",xe=he(pe,ye);xe;)ge.x+=pe.offsetLeft,ge.y+=pe.offsetTop,ye&&(ge=ge.plus(Q.getPageScroll())),pe=xe,ye=Q.getElementStyle(pe).position==="fixed",xe=he(pe,ye);return ge},getElementOffset:function(pe){pe=Q.getElement(pe);var ge=pe&&pe.ownerDocument,ye,xe,Ee={top:0,left:0};return ge?(ye=ge.documentElement,typeof pe.getBoundingClientRect<"u"&&(Ee=pe.getBoundingClientRect()),xe=ge===ge.window?ge:ge.nodeType===9?ge.defaultView||ge.parentWindow:!1,new Q.Point(Ee.left+(xe.pageXOffset||ye.scrollLeft)-(ye.clientLeft||0),Ee.top+(xe.pageYOffset||ye.scrollTop)-(ye.clientTop||0))):new Q.Point},getElementSize:function(pe){return pe=Q.getElement(pe),new Q.Point(pe.clientWidth,pe.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(pe){return pe=Q.getElement(pe),pe.currentStyle}:function(pe){return pe=Q.getElement(pe),window.getComputedStyle(pe,"")},getCssPropertyWithVendorPrefix:function(pe){var ge={};return Q.getCssPropertyWithVendorPrefix=function(ye){if(ge[ye]!==void 0)return ge[ye];var xe=document.createElement("div").style,Ee=null;if(xe[ye]!==void 0)Ee=ye;else for(var De=["Webkit","Moz","MS","O","webkit","moz","ms","o"],Be=Q.capitalizeFirstLetter(ye),et=0;et<De.length;et++){var Ke=De[et]+Be;if(xe[Ke]!==void 0){Ee=Ke;break}}return ge[ye]=Ee,Ee},Q.getCssPropertyWithVendorPrefix(pe)},capitalizeFirstLetter:function(pe){return pe.charAt(0).toUpperCase()+pe.slice(1)},positiveModulo:function(pe,ge){var ye=pe%ge;return ye<0&&(ye+=ge),ye},pointInElement:function(pe,ge){pe=Q.getElement(pe);var ye=Q.getElementOffset(pe),xe=Q.getElementSize(pe);return ge.x>=ye.x&&ge.x<ye.x+xe.x&&ge.y<ye.y+xe.y&&ge.y>=ye.y},getMousePosition:function(pe){if(typeof pe.pageX=="number")Q.getMousePosition=function(ge){var ye=new Q.Point;return ye.x=ge.pageX,ye.y=ge.pageY,ye};else if(typeof pe.clientX=="number")Q.getMousePosition=function(ge){var ye=new Q.Point;return ye.x=ge.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,ye.y=ge.clientY+document.body.scrollTop+document.documentElement.scrollTop,ye};else throw new Error("Unknown event mouse position, no known technique.");return Q.getMousePosition(pe)},getPageScroll:function(){var pe=document.documentElement||{},ge=document.body||{};if(typeof window.pageXOffset=="number")Q.getPageScroll=function(){return new Q.Point(window.pageXOffset,window.pageYOffset)};else if(ge.scrollLeft||ge.scrollTop)Q.getPageScroll=function(){return new Q.Point(document.body.scrollLeft,document.body.scrollTop)};else if(pe.scrollLeft||pe.scrollTop)Q.getPageScroll=function(){return new Q.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new Q.Point(0,0);return Q.getPageScroll()},setPageScroll:function(pe){if(typeof window.scrollTo<"u")Q.setPageScroll=function(xe){window.scrollTo(xe.x,xe.y)};else{var ge=Q.getPageScroll();if(ge.x===pe.x&&ge.y===pe.y)return;document.body.scrollLeft=pe.x,document.body.scrollTop=pe.y;var ye=Q.getPageScroll();if(ye.x!==ge.x&&ye.y!==ge.y){Q.setPageScroll=function(xe){document.body.scrollLeft=xe.x,document.body.scrollTop=xe.y};return}if(document.documentElement.scrollLeft=pe.x,document.documentElement.scrollTop=pe.y,ye=Q.getPageScroll(),ye.x!==ge.x&&ye.y!==ge.y){Q.setPageScroll=function(xe){document.documentElement.scrollLeft=xe.x,document.documentElement.scrollTop=xe.y};return}Q.setPageScroll=function(xe){}}Q.setPageScroll(pe)},getWindowSize:function(){var pe=document.documentElement||{},ge=document.body||{};if(typeof window.innerWidth=="number")Q.getWindowSize=function(){return new Q.Point(window.innerWidth,window.innerHeight)};else if(pe.clientWidth||pe.clientHeight)Q.getWindowSize=function(){return new Q.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(ge.clientWidth||ge.clientHeight)Q.getWindowSize=function(){return new Q.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return Q.getWindowSize()},makeCenteredNode:function(pe){pe=Q.getElement(pe);var ge=[Q.makeNeutralElement("div"),Q.makeNeutralElement("div"),Q.makeNeutralElement("div")];return Q.extend(ge[0].style,{display:"table",height:"100%",width:"100%"}),Q.extend(ge[1].style,{display:"table-row"}),Q.extend(ge[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),ge[0].appendChild(ge[1]),ge[1].appendChild(ge[2]),ge[2].appendChild(pe),ge[0]},makeNeutralElement:function(pe){var ge=document.createElement(pe),ye=ge.style;return ye.background="transparent none",ye.border="none",ye.margin="0px",ye.padding="0px",ye.position="static",ge},now:function(){return Date.now?Q.now=Date.now:Q.now=function(){return new Date().getTime()},Q.now()},makeTransparentImage:function(pe){var ge=Q.makeNeutralElement("img");return ge.src=pe,ge},setElementOpacity:function(pe,ge,ye){var xe,Ee;pe=Q.getElement(pe),ye&&!Q.Browser.alpha&&(ge=Math.round(ge)),Q.Browser.opacity?pe.style.opacity=ge<1?ge:"":ge<1?(xe=Math.round(100*ge),Ee="alpha(opacity="+xe+")",pe.style.filter=Ee):pe.style.filter=""},setElementTouchActionNone:function(pe){pe=Q.getElement(pe),typeof pe.style.touchAction<"u"?pe.style.touchAction="none":typeof pe.style.msTouchAction<"u"&&(pe.style.msTouchAction="none")},setElementPointerEvents:function(pe,ge){pe=Q.getElement(pe),typeof pe.style.pointerEvents<"u"&&(pe.style.pointerEvents=ge)},setElementPointerEventsNone:function(pe){Q.setElementPointerEvents(pe,"none")},addClass:function(pe,ge){pe=Q.getElement(pe),pe.className?(" "+pe.className+" ").indexOf(" "+ge+" ")===-1&&(pe.className+=" "+ge):pe.className=ge},indexOf:function(pe,ge,ye){return Array.prototype.indexOf?this.indexOf=function(xe,Ee,De){return xe.indexOf(Ee,De)}:this.indexOf=function(xe,Ee,De){var Be,et=De||0,Ke;if(!xe)throw new TypeError;if(Ke=xe.length,Ke===0||et>=Ke)return-1;for(et<0&&(et=Ke-Math.abs(et)),Be=et;Be<Ke;Be++)if(xe[Be]===Ee)return Be;return-1},this.indexOf(pe,ge,ye)},removeClass:function(pe,ge){var ye,xe=[],Ee;for(pe=Q.getElement(pe),ye=pe.className.split(/\s+/),Ee=0;Ee<ye.length;Ee++)ye[Ee]&&ye[Ee]!==ge&&xe.push(ye[Ee]);pe.className=xe.join(" ")},normalizeEventListenerOptions:function(pe){var ge;return typeof pe<"u"?typeof pe=="boolean"?ge=Q.supportsEventListenerOptions?{capture:pe}:pe:ge=Q.supportsEventListenerOptions?pe:typeof pe.capture<"u"?pe.capture:!1:ge=Q.supportsEventListenerOptions?{capture:!1}:!1,ge},addEvent:function(){if(Q.supportsAddEventListener)return function(pe,ge,ye,xe){xe=Q.normalizeEventListenerOptions(xe),pe=Q.getElement(pe),pe.addEventListener(ge,ye,xe)};if(document.documentElement.attachEvent&&document.attachEvent)return function(pe,ge,ye){pe=Q.getElement(pe),pe.attachEvent("on"+ge,ye)};throw new Error("No known event model.")}(),removeEvent:function(){if(Q.supportsRemoveEventListener)return function(pe,ge,ye,xe){xe=Q.normalizeEventListenerOptions(xe),pe=Q.getElement(pe),pe.removeEventListener(ge,ye,xe)};if(document.documentElement.detachEvent&&document.detachEvent)return function(pe,ge,ye){pe=Q.getElement(pe),pe.detachEvent("on"+ge,ye)};throw new Error("No known event model.")}(),cancelEvent:function(pe){pe.preventDefault()},eventIsCanceled:function(pe){return pe.defaultPrevented},stopEvent:function(pe){pe.stopPropagation()},createCallback:function(pe,ge){var ye=[],xe;for(xe=2;xe<arguments.length;xe++)ye.push(arguments[xe]);return function(){var Ee=ye.concat([]),De;for(De=0;De<arguments.length;De++)Ee.push(arguments[De]);return ge.apply(pe,Ee)}},getUrlParameter:function(pe){var ge=de[pe];return ge||null},getUrlProtocol:function(pe){var ge=pe.match(/^([a-z]+:)\/\//i);return ge===null?window.location.protocol:ge[1].toLowerCase()},createAjaxRequest:function(pe){var ge;try{ge=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{ge=!1}if(ge)window.XMLHttpRequest?Q.createAjaxRequest=function(ye){return ye?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:Q.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)Q.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return Q.createAjaxRequest(pe)},makeAjaxRequest:function(pe,ge,ye){var xe,Ee,De;Q.isPlainObject(pe)&&(ge=pe.success,ye=pe.error,xe=pe.withCredentials,Ee=pe.headers,De=pe.responseType||null,pe=pe.url);var Be=Q.getUrlProtocol(pe),et=Q.createAjaxRequest(Be==="file:");if(!Q.isFunction(ge))throw new Error("makeAjaxRequest requires a success callback");et.onreadystatechange=function(){et.readyState===4&&(et.onreadystatechange=function(){},et.status>=200&&et.status<300||et.status===0&&Be!=="http:"&&Be!=="https:"?ge(et):(Q.console.log("AJAX request returned %d: %s",et.status,pe),Q.isFunction(ye)&&ye(et)))};try{if(et.open("GET",pe,!0),De&&(et.responseType=De),Ee)for(var Ke in Ee)Object.prototype.hasOwnProperty.call(Ee,Ke)&&Ee[Ke]&&et.setRequestHeader(Ke,Ee[Ke]);xe&&(et.withCredentials=!0),et.send(null)}catch(nt){Q.console.log("%s while making AJAX request: %s",nt.name,nt.message),et.onreadystatechange=function(){},Q.isFunction(ye)&&ye(et,nt)}return et},jsonp:function(pe){var ge,ye=pe.url,xe=document.head||document.getElementsByTagName("head")[0]||document.documentElement,Ee=pe.callbackName||"openseadragon"+Q.now(),De=window[Ee],Be="$1"+Ee+"$2",et=pe.param||"callback",Ke=pe.callback;ye=ye.replace(/(=)\?(&|$)|\?\?/i,Be),ye+=(/\?/.test(ye)?"&":"?")+et+"="+Ee,window[Ee]=function(nt){if(De)window[Ee]=De;else try{delete window[Ee]}catch{}Ke&&Q.isFunction(Ke)&&Ke(nt)},ge=document.createElement("script"),(pe.async!==void 0||pe.async!==!1)&&(ge.async="async"),pe.scriptCharset&&(ge.charset=pe.scriptCharset),ge.src=ye,ge.onload=ge.onreadystatechange=function(nt,Ce){(Ce||!ge.readyState||/loaded|complete/.test(ge.readyState))&&(ge.onload=ge.onreadystatechange=null,xe&&ge.parentNode&&xe.removeChild(ge),ge=void 0)},xe.insertBefore(ge,xe.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(pe){if(window.DOMParser)Q.parseXml=function(ge){var ye=null,xe;return xe=new DOMParser,ye=xe.parseFromString(ge,"text/xml"),ye};else if(window.ActiveXObject)Q.parseXml=function(ge){var ye=null;return ye=new ActiveXObject("Microsoft.XMLDOM"),ye.async=!1,ye.loadXML(ge),ye};else throw new Error("Browser doesn't support XML DOM.");return Q.parseXml(pe)},parseJSON:function(pe){return Q.parseJSON=window.JSON.parse,Q.parseJSON(pe)},imageFormatSupported:function(pe){return pe=pe||"",!!ae[pe.toLowerCase()]},setImageFormatsSupported:function(pe){Q.extend(ae,pe)}});var re=function(pe){};Q.console=window.console||{log:re,debug:re,info:re,warn:re,error:re,assert:re},Q.Browser={vendor:Q.BROWSERS.UNKNOWN,version:0,alpha:!0};var ae={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},de={};(function(){var pe=navigator.appVersion,ge=navigator.userAgent,ye;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&(Q.Browser.vendor=Q.BROWSERS.IE,Q.Browser.version=parseFloat(ge.substring(ge.indexOf("MSIE")+5,ge.indexOf(";",ge.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(ge.indexOf("Edge")>=0?(Q.Browser.vendor=Q.BROWSERS.EDGE,Q.Browser.version=parseFloat(ge.substring(ge.indexOf("Edge")+5))):ge.indexOf("Edg")>=0?(Q.Browser.vendor=Q.BROWSERS.CHROMEEDGE,Q.Browser.version=parseFloat(ge.substring(ge.indexOf("Edg")+4))):ge.indexOf("Firefox")>=0?(Q.Browser.vendor=Q.BROWSERS.FIREFOX,Q.Browser.version=parseFloat(ge.substring(ge.indexOf("Firefox")+8))):ge.indexOf("Safari")>=0?(Q.Browser.vendor=ge.indexOf("Chrome")>=0?Q.BROWSERS.CHROME:Q.BROWSERS.SAFARI,Q.Browser.version=parseFloat(ge.substring(ge.substring(0,ge.indexOf("Safari")).lastIndexOf("/")+1,ge.indexOf("Safari")))):(ye=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),ye.exec(ge)!==null&&(Q.Browser.vendor=Q.BROWSERS.IE,Q.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":Q.Browser.vendor=Q.BROWSERS.OPERA,Q.Browser.version=parseFloat(pe);break}var xe=window.location.search.substring(1),Ee=xe.split("&"),De,Be,et;for(et=0;et<Ee.length;et++)if(De=Ee[et],Be=De.indexOf("="),Be>0){var Ke=De.substring(0,Be),nt=De.substring(Be+1);try{de[Ke]=decodeURIComponent(nt)}catch{Q.console.error("Ignoring malformed URL parameter: %s=%s",Ke,nt)}}Q.Browser.alpha=!(Q.Browser.vendor===Q.BROWSERS.CHROME&&Q.Browser.version<2),Q.Browser.opacity=!0,Q.Browser.vendor===Q.BROWSERS.IE&&Q.Browser.version<11&&Q.console.error("Internet Explorer versions < 11 are not supported by OpenSeadragon")})(),function(pe){var ge=pe.requestAnimationFrame||pe.mozRequestAnimationFrame||pe.webkitRequestAnimationFrame||pe.msRequestAnimationFrame,ye=pe.cancelAnimationFrame||pe.mozCancelAnimationFrame||pe.webkitCancelAnimationFrame||pe.msCancelAnimationFrame;if(ge&&ye)Q.requestAnimationFrame=function(){return ge.apply(pe,arguments)},Q.cancelAnimationFrame=function(){return ye.apply(pe,arguments)};else{var xe=[],Ee=[],De=0,Be;Q.requestAnimationFrame=function(et){return xe.push([++De,et]),Be||(Be=setInterval(function(){if(xe.length){var Ke=Q.now(),nt=Ee;for(Ee=xe,xe=nt;Ee.length;)Ee.shift()[1](Ke)}else clearInterval(Be),Be=void 0},1e3/50)),De},Q.cancelAnimationFrame=function(et){var Ke,nt;for(Ke=0,nt=xe.length;Ke<nt;Ke+=1)if(xe[Ke][0]===et){xe.splice(Ke,1);return}for(Ke=0,nt=Ee.length;Ke<nt;Ke+=1)if(Ee[Ke][0]===et){Ee.splice(Ke,1);return}}}}(window);function he(pe,ge){return ge&&pe!==document.body?document.body:pe.offsetParent}}(ie),function(Q,te){ee.exports?ee.exports=te():Q.OpenSeadragon=te()}(Di,function(){return ie}),function(Q){var te={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(te.supportsFullScreen=!0,te.getFullScreenElement=function(){return document.fullscreenElement},te.requestFullScreen=function(re){return re.requestFullscreen()},te.exitFullScreen=function(){document.exitFullscreen()},te.fullScreenEventName="fullscreenchange",te.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(te.supportsFullScreen=!0,te.getFullScreenElement=function(){return document.msFullscreenElement},te.requestFullScreen=function(re){return re.msRequestFullscreen()},te.exitFullScreen=function(){document.msExitFullscreen()},te.fullScreenEventName="MSFullscreenChange",te.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(te.supportsFullScreen=!0,te.getFullScreenElement=function(){return document.webkitFullscreenElement},te.requestFullScreen=function(re){return re.webkitRequestFullscreen()},te.exitFullScreen=function(){document.webkitExitFullscreen()},te.fullScreenEventName="webkitfullscreenchange",te.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(te.supportsFullScreen=!0,te.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},te.requestFullScreen=function(re){return re.webkitRequestFullScreen()},te.exitFullScreen=function(){document.webkitCancelFullScreen()},te.fullScreenEventName="webkitfullscreenchange",te.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(te.supportsFullScreen=!0,te.getFullScreenElement=function(){return document.mozFullScreenElement},te.requestFullScreen=function(re){return re.mozRequestFullScreen()},te.exitFullScreen=function(){document.mozCancelFullScreen()},te.fullScreenEventName="mozfullscreenchange",te.fullScreenErrorEventName="mozfullscreenerror"),te.isFullScreen=function(){return te.getFullScreenElement()!==null},te.cancelFullScreen=function(){Q.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),te.exitFullScreen()},Q.extend(Q,te)}(ie),function(Q){Q.EventSource=function(){this.events={}},Q.EventSource.prototype={addOnceHandler:function(te,re,ae,de){var he=this;de=de||1;var pe=0,ge=function(ye){pe++,pe===de&&he.removeHandler(te,ge),re(ye)};this.addHandler(te,ge,ae)},addHandler:function(te,re,ae){var de=this.events[te];de||(this.events[te]=de=[]),re&&Q.isFunction(re)&&(de[de.length]={handler:re,userData:ae||null})},removeHandler:function(te,re){var ae=this.events[te],de=[],he;if(!!ae&&Q.isArray(ae)){for(he=0;he<ae.length;he++)ae[he].handler!==re&&de.push(ae[he]);this.events[te]=de}},removeAllHandlers:function(te){if(te)this.events[te]=[];else for(var re in this.events)this.events[re]=[]},getHandler:function(te){var re=this.events[te];return!re||!re.length?null:(re=re.length===1?[re[0]]:Array.apply(null,re),function(ae,de){var he,pe=re.length;for(he=0;he<pe;he++)re[he]&&(de.eventSource=ae,de.userData=re[he].userData,re[he].handler(de))})},raiseEvent:function(te,re){var ae=this.getHandler(te);ae&&(re||(re={}),ae(this,re))}}}(ie),function(Q){var te={};Q.MouseTracker=function(Ne){var Re=arguments;Q.isPlainObject(Ne)||(Ne={element:Re[0],clickTimeThreshold:Re[1],clickDistThreshold:Re[2]}),this.hash=Math.random(),this.element=Q.getElement(Ne.element),this.clickTimeThreshold=Ne.clickTimeThreshold||Q.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=Ne.clickDistThreshold||Q.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=Ne.dblClickTimeThreshold||Q.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=Ne.dblClickDistThreshold||Q.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=Ne.userData||null,this.stopDelay=Ne.stopDelay||50,this.preProcessEventHandler=Ne.preProcessEventHandler||null,this.contextMenuHandler=Ne.contextMenuHandler||null,this.enterHandler=Ne.enterHandler||null,this.leaveHandler=Ne.leaveHandler||null,this.exitHandler=Ne.exitHandler||null,this.overHandler=Ne.overHandler||null,this.outHandler=Ne.outHandler||null,this.pressHandler=Ne.pressHandler||null,this.nonPrimaryPressHandler=Ne.nonPrimaryPressHandler||null,this.releaseHandler=Ne.releaseHandler||null,this.nonPrimaryReleaseHandler=Ne.nonPrimaryReleaseHandler||null,this.moveHandler=Ne.moveHandler||null,this.scrollHandler=Ne.scrollHandler||null,this.clickHandler=Ne.clickHandler||null,this.dblClickHandler=Ne.dblClickHandler||null,this.dragHandler=Ne.dragHandler||null,this.dragEndHandler=Ne.dragEndHandler||null,this.pinchHandler=Ne.pinchHandler||null,this.stopHandler=Ne.stopHandler||null,this.keyDownHandler=Ne.keyDownHandler||null,this.keyUpHandler=Ne.keyUpHandler||null,this.keyHandler=Ne.keyHandler||null,this.focusHandler=Ne.focusHandler||null,this.blurHandler=Ne.blurHandler||null;var $e=this;te[this.hash]={click:function(Ge){Ye($e,Ge)},dblclick:function(Ge){ct($e,Ge)},keydown:function(Ge){ut($e,Ge)},keyup:function(Ge){ft($e,Ge)},keypress:function(Ge){gt($e,Ge)},focus:function(Ge){Mt($e,Ge)},blur:function(Ge){Ht($e,Ge)},contextmenu:function(Ge){Yt($e,Ge)},wheel:function(Ge){tn($e,Ge)},mousewheel:function(Ge){Zt($e,Ge)},DOMMouseScroll:function(Ge){Zt($e,Ge)},MozMousePixelScroll:function(Ge){Zt($e,Ge)},losecapture:function(Ge){ln($e,Ge)},mouseenter:function(Ge){Vt($e,Ge)},mouseleave:function(Ge){Gt($e,Ge)},mouseover:function(Ge){$t($e,Ge)},mouseout:function(Ge){Xt($e,Ge)},mousedown:function(Ge){hn($e,Ge)},mouseup:function(Ge){kn($e,Ge)},mousemove:function(Ge){gi($e,Ge)},touchstart:function(Ge){bn($e,Ge)},touchend:function(Ge){yn($e,Ge)},touchmove:function(Ge){xn($e,Ge)},touchcancel:function(Ge){Pn($e,Ge)},gesturestart:function(Ge){Nn($e,Ge)},gesturechange:function(Ge){Jt($e,Ge)},gotpointercapture:function(Ge){Sn($e,Ge)},lostpointercapture:function(Ge){Dt($e,Ge)},pointerenter:function(Ge){Vt($e,Ge)},pointerleave:function(Ge){Gt($e,Ge)},pointerover:function(Ge){$t($e,Ge)},pointerout:function(Ge){Xt($e,Ge)},pointerdown:function(Ge){hn($e,Ge)},pointerup:function(Ge){kn($e,Ge)},pointermove:function(Ge){gi($e,Ge)},pointercancel:function(Ge){Te($e,Ge)},pointerupcaptured:function(Ge){Ln($e,Ge)},pointermovecaptured:function(Ge){ri($e,Ge)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null,sentDragEvent:!1},this.hasGestureHandlers=!!(this.pressHandler||this.nonPrimaryPressHandler||this.releaseHandler||this.nonPrimaryReleaseHandler||this.clickHandler||this.dblClickHandler||this.dragHandler||this.dragEndHandler||this.pinchHandler),this.hasScrollHandler=!!this.scrollHandler,Q.MouseTracker.havePointerEvents&&Q.setElementPointerEvents(this.element,"auto"),this.exitHandler&&Q.console.error("MouseTracker.exitHandler is deprecated. Use MouseTracker.leaveHandler instead."),Ne.startDisabled||this.setTracking(!0)},Q.MouseTracker.prototype={destroy:function(){pe(this),this.element=null,te[this.hash]=null,delete te[this.hash]},isTracking:function(){return te[this.hash].tracking},setTracking:function(Ne){return Ne?he(this):pe(this),this},getActivePointersListByType:function(Ne){var Re=te[this.hash],$e,Ge=Re.activePointersLists.length,Tt;for($e=0;$e<Ge;$e++)if(Re.activePointersLists[$e].type===Ne)return Re.activePointersLists[$e];return Tt=new Q.MouseTracker.GesturePointList(Ne),Re.activePointersLists.push(Tt),Tt},getActivePointerCount:function(){var Ne=te[this.hash],Re,$e=Ne.activePointersLists.length,Ge=0;for(Re=0;Re<$e;Re++)Ge+=Ne.activePointersLists[Re].getLength();return Ge},preProcessEventHandler:function(){},contextMenuHandler:function(){},enterHandler:function(){},leaveHandler:function(){},exitHandler:function(){},overHandler:function(){},outHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}};var re=function(){try{return window.self!==window.top}catch{return!0}}();function ae(Ne){try{return Ne.addEventListener&&Ne.removeEventListener}catch{return!1}}Q.MouseTracker.gesturePointVelocityTracker=function(){var Ne=[],Re=0,$e=0,Ge=function(Mn,fn){return Mn.hash.toString()+fn.type+fn.id.toString()},Tt=function(){var Mn,fn=Ne.length,hi,Gn,Er=Q.now(),qh,Kh,Xh;for(qh=Er-$e,$e=Er,Mn=0;Mn<fn;Mn++)hi=Ne[Mn],Gn=hi.gPoint,Gn.direction=Math.atan2(Gn.currentPos.y-hi.lastPos.y,Gn.currentPos.x-hi.lastPos.x),Kh=hi.lastPos.distanceTo(Gn.currentPos),hi.lastPos=Gn.currentPos,Xh=1e3*Kh/(qh+1),Gn.speed=.75*Xh+.25*Gn.speed},jt=function(Mn,fn){var hi=Ge(Mn,fn);Ne.push({guid:hi,gPoint:fn,lastPos:fn.currentPos}),Ne.length===1&&($e=Q.now(),Re=window.setInterval(Tt,50))},pn=function(Mn,fn){var hi=Ge(Mn,fn),Gn,Er=Ne.length;for(Gn=0;Gn<Er;Gn++)if(Ne[Gn].guid===hi){Ne.splice(Gn,1),Er--,Er===0&&window.clearInterval(Re);break}};return{addPoint:jt,removePoint:pn}}(),Q.MouseTracker.captureElement=document,Q.MouseTracker.wheelEventName=Q.Browser.vendor===Q.BROWSERS.IE&&Q.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",Q.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur","contextmenu",Q.MouseTracker.wheelEventName],Q.MouseTracker.wheelEventName==="DOMMouseScroll"&&Q.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent?(Q.MouseTracker.havePointerEvents=!0,Q.MouseTracker.subscribeEvents.push("pointerenter","pointerleave","pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),Q.MouseTracker.havePointerCapture=function(){var Ne=document.createElement("div");return Q.isFunction(Ne.setPointerCapture)&&Q.isFunction(Ne.releasePointerCapture)}(),Q.MouseTracker.havePointerCapture&&Q.MouseTracker.subscribeEvents.push("gotpointercapture","lostpointercapture")):(Q.MouseTracker.havePointerEvents=!1,Q.MouseTracker.subscribeEvents.push("mouseenter","mouseleave","mouseover","mouseout","mousedown","mouseup","mousemove"),Q.MouseTracker.mousePointerId="legacy-mouse",Q.MouseTracker.havePointerCapture=function(){var Ne=document.createElement("div");return Q.isFunction(Ne.setCapture)&&Q.isFunction(Ne.releaseCapture)}(),Q.MouseTracker.havePointerCapture&&Q.MouseTracker.subscribeEvents.push("losecapture"),"ontouchstart"in window&&Q.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&Q.MouseTracker.subscribeEvents.push("gesturestart","gesturechange")),Q.MouseTracker.GesturePointList=function(Ne){this._gPoints=[],this.type=Ne,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},Q.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(Ne){return this._gPoints.push(Ne)},removeById:function(Ne){var Re,$e=this._gPoints.length;for(Re=0;Re<$e;Re++)if(this._gPoints[Re].id===Ne){this._gPoints.splice(Re,1);break}return this._gPoints.length},getByIndex:function(Ne){return Ne<this._gPoints.length?this._gPoints[Ne]:null},getById:function(Ne){var Re,$e=this._gPoints.length;for(Re=0;Re<$e;Re++)if(this._gPoints[Re].id===Ne)return this._gPoints[Re];return null},getPrimary:function(Ne){var Re,$e=this._gPoints.length;for(Re=0;Re<$e;Re++)if(this._gPoints[Re].isPrimary)return this._gPoints[Re];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(Q.console.warn("GesturePointList.addContact() Implausible contacts value"),this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(Q.console.warn("GesturePointList.removeContact() Implausible contacts value"),this.contacts=0)}};function de(Ne){var Re=te[Ne.hash],$e,Ge,Tt,jt,pn,Mn=Re.activePointersLists.length;for($e=0;$e<Mn;$e++)if(Tt=Re.activePointersLists[$e],Tt.getLength()>0){for(pn=[],jt=Tt.asArray(),Ge=0;Ge<jt.length;Ge++)pn.push(jt[Ge]);for(Ge=0;Ge<pn.length;Ge++)Ct(Ne,Tt,pn[Ge])}for($e=0;$e<Mn;$e++)Re.activePointersLists.pop();Re.sentDragEvent=!1}function he(Ne){var Re=te[Ne.hash],$e,Ge;if(!Re.tracking){for(Ge=0;Ge<Q.MouseTracker.subscribeEvents.length;Ge++)$e=Q.MouseTracker.subscribeEvents[Ge],Q.addEvent(Ne.element,$e,Re[$e],$e===Q.MouseTracker.wheelEventName?{passive:!1,capture:!1}:!1);de(Ne),Re.tracking=!0}}function pe(Ne){var Re=te[Ne.hash],$e,Ge;if(Re.tracking){for(Ge=0;Ge<Q.MouseTracker.subscribeEvents.length;Ge++)$e=Q.MouseTracker.subscribeEvents[Ge],Q.removeEvent(Ne.element,$e,Re[$e],!1);de(Ne),Re.tracking=!1}}function ge(Ne,Re){var $e=te[Ne.hash];if(Re==="pointerevent")return{upName:"pointerup",upHandler:$e.pointerupcaptured,moveName:"pointermove",moveHandler:$e.pointermovecaptured};if(Re==="mouse")return{upName:"pointerup",upHandler:$e.pointerupcaptured,moveName:"pointermove",moveHandler:$e.pointermovecaptured};if(Re==="touch")return{upName:"touchend",upHandler:$e.touchendcaptured,moveName:"touchmove",moveHandler:$e.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function ye(Ne,Re){var $e;if(Q.MouseTracker.havePointerCapture)if(Q.MouseTracker.havePointerEvents)try{Ne.element.setPointerCapture(Re.id)}catch{Q.console.warn("setPointerCapture() called on invalid pointer ID");return}else Ne.element.setCapture(!0);else $e=ge(Ne,Q.MouseTracker.havePointerEvents?"pointerevent":Re.type),re&&ae(window.top)&&Q.addEvent(window.top,$e.upName,$e.upHandler,!0),Q.addEvent(Q.MouseTracker.captureElement,$e.upName,$e.upHandler,!0),Q.addEvent(Q.MouseTracker.captureElement,$e.moveName,$e.moveHandler,!0);an(Ne,Re,!0)}function xe(Ne,Re){var $e,Ge,Tt;if(Q.MouseTracker.havePointerCapture)if(Q.MouseTracker.havePointerEvents){if(Ge=Ne.getActivePointersListByType(Re.type),Tt=Ge.getById(Re.id),!Tt||!Tt.captured)return;try{Ne.element.releasePointerCapture(Re.id)}catch{}}else Ne.element.releaseCapture();else $e=ge(Ne,Q.MouseTracker.havePointerEvents?"pointerevent":Re.type),re&&ae(window.top)&&Q.removeEvent(window.top,$e.upName,$e.upHandler,!0),Q.removeEvent(Q.MouseTracker.captureElement,$e.moveName,$e.moveHandler,!0),Q.removeEvent(Q.MouseTracker.captureElement,$e.upName,$e.upHandler,!0);an(Ne,Re,!1)}function Ee(Ne){return Q.MouseTracker.havePointerEvents?Ne.pointerId:Q.MouseTracker.mousePointerId}function De(Ne){return Q.MouseTracker.havePointerEvents?Ne.pointerType||(Q.Browser.vendor===Q.BROWSERS.IE?"mouse":""):"mouse"}function Be(Ne){return Q.MouseTracker.havePointerEvents?Ne.isPrimary:!0}function et(Ne){return Q.getMousePosition(Ne)}function Ke(Ne,Re){return nt(et(Ne),Re)}function nt(Ne,Re){var $e=Q.getElementOffset(Re);return Ne.minus($e)}function Ce(Ne,Re){return new Q.Point((Ne.x+Re.x)/2,(Ne.y+Re.y)/2)}function Ye(Ne,Re){var $e={originalEvent:Re,eventType:"click",pointerType:"mouse",isEmulated:!1};Rt(Ne,$e),$e.preventDefault&&!$e.defaultPrevented&&Q.cancelEvent(Re),$e.stopPropagation&&Q.stopEvent(Re)}function ct(Ne,Re){var $e={originalEvent:Re,eventType:"dblclick",pointerType:"mouse",isEmulated:!1};Rt(Ne,$e),$e.preventDefault&&!$e.defaultPrevented&&Q.cancelEvent(Re),$e.stopPropagation&&Q.stopEvent(Re)}function ut(Ne,Re){var $e=null,Ge={originalEvent:Re,eventType:"keydown",pointerType:"",isEmulated:!1};Rt(Ne,Ge),Ne.keyDownHandler&&!Ge.preventGesture&&!Ge.defaultPrevented&&($e={eventSource:Ne,keyCode:Re.keyCode?Re.keyCode:Re.charCode,ctrl:Re.ctrlKey,shift:Re.shiftKey,alt:Re.altKey,meta:Re.metaKey,originalEvent:Re,preventDefault:Ge.preventDefault||Ge.defaultPrevented,userData:Ne.userData},Ne.keyDownHandler($e)),($e&&$e.preventDefault||Ge.preventDefault&&!Ge.defaultPrevented)&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function ft(Ne,Re){var $e=null,Ge={originalEvent:Re,eventType:"keyup",pointerType:"",isEmulated:!1};Rt(Ne,Ge),Ne.keyUpHandler&&!Ge.preventGesture&&!Ge.defaultPrevented&&($e={eventSource:Ne,keyCode:Re.keyCode?Re.keyCode:Re.charCode,ctrl:Re.ctrlKey,shift:Re.shiftKey,alt:Re.altKey,meta:Re.metaKey,originalEvent:Re,preventDefault:Ge.preventDefault||Ge.defaultPrevented,userData:Ne.userData},Ne.keyUpHandler($e)),($e&&$e.preventDefault||Ge.preventDefault&&!Ge.defaultPrevented)&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function gt(Ne,Re){var $e=null,Ge={originalEvent:Re,eventType:"keypress",pointerType:"",isEmulated:!1};Rt(Ne,Ge),Ne.keyHandler&&!Ge.preventGesture&&!Ge.defaultPrevented&&($e={eventSource:Ne,keyCode:Re.keyCode?Re.keyCode:Re.charCode,ctrl:Re.ctrlKey,shift:Re.shiftKey,alt:Re.altKey,meta:Re.metaKey,originalEvent:Re,preventDefault:Ge.preventDefault||Ge.defaultPrevented,userData:Ne.userData},Ne.keyHandler($e)),($e&&$e.preventDefault||Ge.preventDefault&&!Ge.defaultPrevented)&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function Mt(Ne,Re){var $e={originalEvent:Re,eventType:"focus",pointerType:"",isEmulated:!1};Rt(Ne,$e),Ne.focusHandler&&!$e.preventGesture&&Ne.focusHandler({eventSource:Ne,originalEvent:Re,userData:Ne.userData})}function Ht(Ne,Re){var $e={originalEvent:Re,eventType:"blur",pointerType:"",isEmulated:!1};Rt(Ne,$e),Ne.blurHandler&&!$e.preventGesture&&Ne.blurHandler({eventSource:Ne,originalEvent:Re,userData:Ne.userData})}function Yt(Ne,Re){var $e=null,Ge={originalEvent:Re,eventType:"contextmenu",pointerType:"mouse",isEmulated:!1};Rt(Ne,Ge),Ne.contextMenuHandler&&!Ge.preventGesture&&!Ge.defaultPrevented&&($e={eventSource:Ne,position:nt(et(Re),Ne.element),originalEvent:Ge.originalEvent,preventDefault:Ge.preventDefault||Ge.defaultPrevented,userData:Ne.userData},Ne.contextMenuHandler($e)),($e&&$e.preventDefault||Ge.preventDefault&&!Ge.defaultPrevented)&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function tn(Ne,Re){dn(Ne,Re,Re)}function Zt(Ne,Re){var $e={target:Re.target||Re.srcElement,type:"wheel",shiftKey:Re.shiftKey||!1,clientX:Re.clientX,clientY:Re.clientY,pageX:Re.pageX?Re.pageX:Re.clientX,pageY:Re.pageY?Re.pageY:Re.clientY,deltaMode:Re.type==="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};Q.MouseTracker.wheelEventName==="mousewheel"?$e.deltaY=-Re.wheelDelta/Q.DEFAULT_SETTINGS.pixelsPerWheelLine:$e.deltaY=Re.detail,dn(Ne,$e,Re)}function dn(Ne,Re,$e){var Ge=0,Tt,jt=null;Ge=Re.deltaY<0?1:-1,Tt={originalEvent:Re,eventType:"wheel",pointerType:"mouse",isEmulated:Re!==$e},Rt(Ne,Tt),Ne.scrollHandler&&!Tt.preventGesture&&!Tt.defaultPrevented&&(jt={eventSource:Ne,pointerType:"mouse",position:Ke(Re,Ne.element),scroll:Ge,shift:Re.shiftKey,isTouchEvent:!1,originalEvent:$e,preventDefault:Tt.preventDefault||Tt.defaultPrevented,userData:Ne.userData},Ne.scrollHandler(jt)),Tt.stopPropagation&&Q.stopEvent($e),(jt&&jt.preventDefault||Tt.preventDefault&&!Tt.defaultPrevented)&&Q.cancelEvent($e)}function ln(Ne,Re){var $e={id:Q.MouseTracker.mousePointerId,type:"mouse"},Ge={originalEvent:Re,eventType:"lostpointercapture",pointerType:"mouse",isEmulated:!1};Rt(Ne,Ge),Re.target===Ne.element&&an(Ne,$e,!1),Ge.stopPropagation&&Q.stopEvent(Re)}function bn(Ne,Re){var $e,Ge,Tt=Re.changedTouches.length,jt,pn=Ne.getActivePointersListByType("touch");$e=Q.now(),pn.getLength()>Re.touches.length-Tt&&Q.console.warn("Tracked touch contact count doesn't match event.touches.length");var Mn={originalEvent:Re,eventType:"pointerdown",pointerType:"touch",isEmulated:!1};for(Rt(Ne,Mn),Ge=0;Ge<Tt;Ge++)jt={id:Re.changedTouches[Ge].identifier,type:"touch",isPrimary:pn.getLength()===0,currentPos:et(Re.changedTouches[Ge]),currentTime:$e},Qt(Ne,Mn,jt),wn(Ne,Mn,jt,0),an(Ne,jt,!0);Mn.preventDefault&&!Mn.defaultPrevented&&Q.cancelEvent(Re),Mn.stopPropagation&&Q.stopEvent(Re)}function yn(Ne,Re){var $e,Ge,Tt=Re.changedTouches.length,jt;$e=Q.now();var pn={originalEvent:Re,eventType:"pointerup",pointerType:"touch",isEmulated:!1};for(Rt(Ne,pn),Ge=0;Ge<Tt;Ge++)jt={id:Re.changedTouches[Ge].identifier,type:"touch",currentPos:et(Re.changedTouches[Ge]),currentTime:$e},zn(Ne,pn,jt,0),an(Ne,jt,!1),On(Ne,pn,jt);pn.preventDefault&&!pn.defaultPrevented&&Q.cancelEvent(Re),pn.stopPropagation&&Q.stopEvent(Re)}function xn(Ne,Re){var $e,Ge,Tt=Re.changedTouches.length,jt;$e=Q.now();var pn={originalEvent:Re,eventType:"pointermove",pointerType:"touch",isEmulated:!1};for(Rt(Ne,pn),Ge=0;Ge<Tt;Ge++)jt={id:Re.changedTouches[Ge].identifier,type:"touch",currentPos:et(Re.changedTouches[Ge]),currentTime:$e},En(Ne,pn,jt);pn.preventDefault&&!pn.defaultPrevented&&Q.cancelEvent(Re),pn.stopPropagation&&Q.stopEvent(Re)}function Pn(Ne,Re){var $e=Re.changedTouches.length,Ge,Tt,jt={originalEvent:Re,eventType:"pointercancel",pointerType:"touch",isEmulated:!1};for(Rt(Ne,jt),Ge=0;Ge<$e;Ge++)Tt={id:Re.changedTouches[Ge].identifier,type:"touch"},Xn(Ne,jt,Tt);jt.stopPropagation&&Q.stopEvent(Re)}function Nn(Ne,Re){return Q.eventIsCanceled(Re)||Re.preventDefault(),!1}function Jt(Ne,Re){return Q.eventIsCanceled(Re)||Re.preventDefault(),!1}function Sn(Ne,Re){var $e={originalEvent:Re,eventType:"gotpointercapture",pointerType:De(Re),isEmulated:!1};Rt(Ne,$e),Re.target===Ne.element&&an(Ne,{id:Re.pointerId,type:De(Re)},!0),$e.stopPropagation&&Q.stopEvent(Re)}function Dt(Ne,Re){var $e={originalEvent:Re,eventType:"lostpointercapture",pointerType:De(Re),isEmulated:!1};Rt(Ne,$e),Re.target===Ne.element&&an(Ne,{id:Re.pointerId,type:De(Re)},!1),$e.stopPropagation&&Q.stopEvent(Re)}function Vt(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge={originalEvent:Re,eventType:"pointerenter",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),Qt(Ne,Ge,$e)}function Gt(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge={originalEvent:Re,eventType:"pointerleave",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),On(Ne,Ge,$e)}function $t(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge={originalEvent:Re,eventType:"pointerover",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),Bn(Ne,Ge,$e),Ge.preventDefault&&!Ge.defaultPrevented&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function Xt(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge={originalEvent:Re,eventType:"pointerout",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),An(Ne,Ge,$e),Ge.preventDefault&&!Ge.defaultPrevented&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function hn(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge=Q.MouseTracker.havePointerEvents&&$e.type==="touch"&&Q.Browser.vendor!==Q.BROWSERS.IE,Tt={originalEvent:Re,eventType:"pointerdown",pointerType:$e.type,isEmulated:!1};Rt(Ne,Tt),wn(Ne,Tt,$e,Re.button),Tt.preventDefault&&!Tt.defaultPrevented&&Q.cancelEvent(Re),Tt.stopPropagation&&Q.stopEvent(Re),Tt.shouldCapture&&(Ge?an(Ne,$e,!0):ye(Ne,$e))}function kn(Ne,Re){Tn(Ne,Re)}function Ln(Ne,Re){var $e=Ne.getActivePointersListByType(De(Re));$e.getById(Re.pointerId)&&Tn(Ne,Re),Q.stopEvent(Re)}function Tn(Ne,Re){var $e;$e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()};var Ge={originalEvent:Re,eventType:"pointerup",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),zn(Ne,Ge,$e,Re.button),Ge.preventDefault&&!Ge.defaultPrevented&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re),Ge.shouldReleaseCapture&&(Re.target===Ne.element?xe(Ne,$e):an(Ne,$e,!1))}function gi(Ne,Re){di(Ne,Re)}function ri(Ne,Re){var $e=Ne.getActivePointersListByType(De(Re));$e.getById(Re.pointerId)&&di(Ne,Re),Q.stopEvent(Re)}function di(Ne,Re){var $e={id:Ee(Re),type:De(Re),isPrimary:Be(Re),currentPos:et(Re),currentTime:Q.now()},Ge={originalEvent:Re,eventType:"pointermove",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),En(Ne,Ge,$e),Ge.preventDefault&&!Ge.defaultPrevented&&Q.cancelEvent(Re),Ge.stopPropagation&&Q.stopEvent(Re)}function Te(Ne,Re){var $e={id:Re.pointerId,type:De(Re)},Ge={originalEvent:Re,eventType:"pointercancel",pointerType:$e.type,isEmulated:!1};Rt(Ne,Ge),Xn(Ne,Ge,$e),Ge.stopPropagation&&Q.stopEvent(Re)}function Qe(Ne,Re){return Re.speed=0,Re.direction=0,Re.contactPos=Re.currentPos,Re.contactTime=Re.currentTime,Re.lastPos=Re.currentPos,Re.lastTime=Re.currentTime,Ne.add(Re)}function Ct(Ne,Re,$e){var Ge,Tt=Re.getById($e.id);return Tt?(Tt.captured&&(Q.console.warn("stopTrackingPointer() called on captured pointer"),xe(Ne,Tt)),(Re.type==="mouse"||Re.type==="pen")&&Re.contacts>0&&Re.removeContact(),Ge=Re.removeById($e.id)):Ge=Re.getLength(),Ge}function Lt(Ne,Re){switch(Re.eventType){case"pointermove":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!1,Re.preventGesture=!Ne.hasGestureHandlers,Re.stopPropagation=!1;break;case"pointerover":case"pointerout":case"contextmenu":case"keydown":case"keyup":case"keypress":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!1,Re.preventGesture=!1,Re.stopPropagation=!1;break;case"pointerdown":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!1,Re.preventGesture=!Ne.hasGestureHandlers,Re.stopPropagation=!1;break;case"pointerup":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!1,Re.preventGesture=!Ne.hasGestureHandlers,Re.stopPropagation=!1;break;case"wheel":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!1,Re.preventGesture=!Ne.hasScrollHandler,Re.stopPropagation=!1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":Re.isStoppable=!0,Re.isCancelable=!1,Re.preventDefault=!1,Re.preventGesture=!1,Re.stopPropagation=!1;break;case"click":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!!Ne.clickHandler,Re.preventGesture=!1,Re.stopPropagation=!1;break;case"dblclick":Re.isStoppable=!0,Re.isCancelable=!0,Re.preventDefault=!!Ne.dblClickHandler,Re.preventGesture=!1,Re.stopPropagation=!1;break;case"focus":case"blur":case"pointerenter":case"pointerleave":default:Re.isStoppable=!1,Re.isCancelable=!1,Re.preventDefault=!1,Re.preventGesture=!1,Re.stopPropagation=!1;break}}function Rt(Ne,Re){Re.eventSource=Ne,Re.eventPhase=Re.originalEvent&&typeof Re.originalEvent.eventPhase<"u"?Re.originalEvent.eventPhase:0,Re.defaultPrevented=Q.eventIsCanceled(Re.originalEvent),Re.shouldCapture=!1,Re.shouldReleaseCapture=!1,Re.userData=Ne.userData,Lt(Ne,Re),Ne.preProcessEventHandler&&Ne.preProcessEventHandler(Re)}function an(Ne,Re,$e){var Ge=Ne.getActivePointersListByType(Re.type),Tt=Ge.getById(Re.id);Tt?$e&&!Tt.captured?(Tt.captured=!0,Ge.captureCount++):!$e&&Tt.captured&&(Tt.captured=!1,Ge.captureCount--,Ge.captureCount<0&&(Ge.captureCount=0,Q.console.warn("updatePointerCaptured() - pointsList.captureCount went negative"))):Q.console.warn("updatePointerCaptured() called on untracked pointer")}function Qt(Ne,Re,$e){var Ge=Ne.getActivePointersListByType($e.type),Tt;Tt=Ge.getById($e.id),Tt?(Tt.insideElement=!0,Tt.lastPos=Tt.currentPos,Tt.lastTime=Tt.currentTime,Tt.currentPos=$e.currentPos,Tt.currentTime=$e.currentTime,$e=Tt):($e.captured=!1,$e.insideElementPressed=!1,$e.insideElement=!0,Qe(Ge,$e)),Ne.enterHandler&&Ne.enterHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.currentPos,Ne.element),buttons:Ge.buttons,pointers:Ne.getActivePointerCount(),insideElementPressed:$e.insideElementPressed,buttonDownAny:Ge.buttons!==0,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData})}function On(Ne,Re,$e){var Ge=Ne.getActivePointersListByType($e.type),Tt,jt;Tt=Ge.getById($e.id),Tt?(Tt.captured?(Tt.insideElement=!1,Tt.lastPos=Tt.currentPos,Tt.lastTime=Tt.currentTime,Tt.currentPos=$e.currentPos,Tt.currentTime=$e.currentTime):Ct(Ne,Ge,Tt),$e=Tt):($e.captured=!1,$e.insideElementPressed=!1),(Ne.leaveHandler||Ne.exitHandler)&&(jt={eventSource:Ne,pointerType:$e.type,position:$e.currentPos&&nt($e.currentPos,Ne.element),buttons:Ge.buttons,pointers:Ne.getActivePointerCount(),insideElementPressed:$e.insideElementPressed,buttonDownAny:Ge.buttons!==0,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData},Ne.leaveHandler&&Ne.leaveHandler(jt),Ne.exitHandler&&Ne.exitHandler(jt))}function Bn(Ne,Re,$e){var Ge,Tt;Ge=Ne.getActivePointersListByType($e.type),Tt=Ge.getById($e.id),Tt?$e=Tt:($e.captured=!1,$e.insideElementPressed=!1),Ne.overHandler&&Ne.overHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.currentPos,Ne.element),buttons:Ge.buttons,pointers:Ne.getActivePointerCount(),insideElementPressed:$e.insideElementPressed,buttonDownAny:Ge.buttons!==0,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData})}function An(Ne,Re,$e){var Ge,Tt;Ge=Ne.getActivePointersListByType($e.type),Tt=Ge.getById($e.id),Tt?$e=Tt:($e.captured=!1,$e.insideElementPressed=!1),Ne.outHandler&&Ne.outHandler({eventSource:Ne,pointerType:$e.type,position:$e.currentPos&&nt($e.currentPos,Ne.element),buttons:Ge.buttons,pointers:Ne.getActivePointerCount(),insideElementPressed:$e.insideElementPressed,buttonDownAny:Ge.buttons!==0,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData})}function wn(Ne,Re,$e,Ge){var Tt=te[Ne.hash],jt=Ne.getActivePointersListByType($e.type),pn;if(typeof Re.originalEvent.buttons<"u"?jt.buttons=Re.originalEvent.buttons:Ge===0?jt.buttons|=1:Ge===1?jt.buttons|=4:Ge===2?jt.buttons|=2:Ge===3?jt.buttons|=8:Ge===4?jt.buttons|=16:Ge===5&&(jt.buttons|=32),Ge!==0){Re.shouldCapture=!1,Re.shouldReleaseCapture=!1,Ne.nonPrimaryPressHandler&&!Re.preventGesture&&!Re.defaultPrevented&&(Re.preventDefault=!0,Ne.nonPrimaryPressHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.currentPos,Ne.element),button:Ge,buttons:jt.buttons,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}));return}if(pn=jt.getById($e.id),pn)pn.insideElementPressed=!0,pn.insideElement=!0,pn.originalTarget=Re.originalEvent.target,pn.contactPos=$e.currentPos,pn.contactTime=$e.currentTime,pn.lastPos=pn.currentPos,pn.lastTime=pn.currentTime,pn.currentPos=$e.currentPos,pn.currentTime=$e.currentTime,$e=pn;else{Q.console.warn("pointerdown event on untracked pointer"),$e.captured=!1,$e.insideElementPressed=!0,$e.insideElement=!0,$e.originalTarget=Re.originalEvent.target,Qe(jt,$e);return}jt.addContact(),!Re.preventGesture&&!Re.defaultPrevented?(Re.shouldCapture=!0,Re.shouldReleaseCapture=!1,Re.preventDefault=!0,(Ne.dragHandler||Ne.dragEndHandler||Ne.pinchHandler)&&Q.MouseTracker.gesturePointVelocityTracker.addPoint(Ne,$e),jt.contacts===1?Ne.pressHandler&&!Re.preventGesture&&Ne.pressHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.contactPos,Ne.element),buttons:jt.buttons,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}):jt.contacts===2&&Ne.pinchHandler&&$e.type==="touch"&&(Tt.pinchGPoints=jt.asArray(),Tt.lastPinchDist=Tt.currentPinchDist=Tt.pinchGPoints[0].currentPos.distanceTo(Tt.pinchGPoints[1].currentPos),Tt.lastPinchCenter=Tt.currentPinchCenter=Ce(Tt.pinchGPoints[0].currentPos,Tt.pinchGPoints[1].currentPos))):(Re.shouldCapture=!1,Re.shouldReleaseCapture=!1)}function zn(Ne,Re,$e,Ge){var Tt=te[Ne.hash],jt=Ne.getActivePointersListByType($e.type),pn,Mn,fn,hi=!1,Gn;if(typeof Re.originalEvent.buttons<"u"?jt.buttons=Re.originalEvent.buttons:Ge===0?jt.buttons^=-2:Ge===1?jt.buttons^=-5:Ge===2?jt.buttons^=-3:Ge===3?jt.buttons^=-9:Ge===4?jt.buttons^=-17:Ge===5&&(jt.buttons^=-33),Re.shouldCapture=!1,Ge!==0){Re.shouldReleaseCapture=!1,Ne.nonPrimaryReleaseHandler&&!Re.preventGesture&&!Re.defaultPrevented&&(Re.preventDefault=!0,Ne.nonPrimaryReleaseHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.currentPos,Ne.element),button:Ge,buttons:jt.buttons,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}));return}fn=jt.getById($e.id),fn?(jt.removeContact(),fn.captured&&(hi=!0),fn.lastPos=fn.currentPos,fn.lastTime=fn.currentTime,fn.currentPos=$e.currentPos,fn.currentTime=$e.currentTime,fn.insideElement||Ct(Ne,jt,fn),pn=fn.currentPos,Mn=fn.currentTime):(Q.console.warn("updatePointerUp(): pointerup on untracked gPoint"),$e.captured=!1,$e.insideElementPressed=!1,$e.insideElement=!0,Qe(jt,$e),fn=$e),!Re.preventGesture&&!Re.defaultPrevented&&(hi?(Re.shouldReleaseCapture=!0,Re.preventDefault=!0,(Ne.dragHandler||Ne.dragEndHandler||Ne.pinchHandler)&&Q.MouseTracker.gesturePointVelocityTracker.removePoint(Ne,fn),jt.contacts===0?(Ne.releaseHandler&&Ne.releaseHandler({eventSource:Ne,pointerType:fn.type,position:nt(pn,Ne.element),buttons:jt.buttons,insideElementPressed:fn.insideElementPressed,insideElementReleased:fn.insideElement,isTouchEvent:fn.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}),Ne.dragEndHandler&&Tt.sentDragEvent&&Ne.dragEndHandler({eventSource:Ne,pointerType:fn.type,position:nt(fn.currentPos,Ne.element),speed:fn.speed,direction:fn.direction,shift:Re.originalEvent.shiftKey,isTouchEvent:fn.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}),Tt.sentDragEvent=!1,(Ne.clickHandler||Ne.dblClickHandler)&&fn.insideElement&&(Gn=Mn-fn.contactTime<=Ne.clickTimeThreshold&&fn.contactPos.distanceTo(pn)<=Ne.clickDistThreshold,Ne.clickHandler&&Ne.clickHandler({eventSource:Ne,pointerType:fn.type,position:nt(fn.currentPos,Ne.element),quick:Gn,shift:Re.originalEvent.shiftKey,isTouchEvent:fn.type==="touch",originalEvent:Re.originalEvent,originalTarget:fn.originalTarget,userData:Ne.userData}),Ne.dblClickHandler&&Gn&&(jt.clicks++,jt.clicks===1?(Tt.lastClickPos=pn,Tt.dblClickTimeOut=setTimeout(function(){jt.clicks=0},Ne.dblClickTimeThreshold)):jt.clicks===2&&(clearTimeout(Tt.dblClickTimeOut),jt.clicks=0,Tt.lastClickPos.distanceTo(pn)<=Ne.dblClickDistThreshold&&Ne.dblClickHandler({eventSource:Ne,pointerType:fn.type,position:nt(fn.currentPos,Ne.element),shift:Re.originalEvent.shiftKey,isTouchEvent:fn.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}),Tt.lastClickPos=null)))):jt.contacts===2&&Ne.pinchHandler&&fn.type==="touch"&&(Tt.pinchGPoints=jt.asArray(),Tt.lastPinchDist=Tt.currentPinchDist=Tt.pinchGPoints[0].currentPos.distanceTo(Tt.pinchGPoints[1].currentPos),Tt.lastPinchCenter=Tt.currentPinchCenter=Ce(Tt.pinchGPoints[0].currentPos,Tt.pinchGPoints[1].currentPos))):(Re.shouldReleaseCapture=!1,Ne.releaseHandler&&(Ne.releaseHandler({eventSource:Ne,pointerType:fn.type,position:nt(pn,Ne.element),buttons:jt.buttons,insideElementPressed:fn.insideElementPressed,insideElementReleased:fn.insideElement,isTouchEvent:fn.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}),Re.preventDefault=!0)))}function En(Ne,Re,$e){var Ge=te[Ne.hash],Tt=Ne.getActivePointersListByType($e.type),jt,pn,Mn;if(typeof Re.originalEvent.buttons<"u"&&(Tt.buttons=Re.originalEvent.buttons),jt=Tt.getById($e.id),jt)jt.lastPos=jt.currentPos,jt.lastTime=jt.currentTime,jt.currentPos=$e.currentPos,jt.currentTime=$e.currentTime;else return;Re.shouldCapture=!1,Re.shouldReleaseCapture=!1,Ne.stopHandler&&$e.type==="mouse"&&(clearTimeout(Ne.stopTimeOut),Ne.stopTimeOut=setTimeout(function(){Li(Ne,Re.originalEvent,$e.type)},Ne.stopDelay)),Tt.contacts===0?Ne.moveHandler&&Ne.moveHandler({eventSource:Ne,pointerType:$e.type,position:nt($e.currentPos,Ne.element),buttons:Tt.buttons,isTouchEvent:$e.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}):Tt.contacts===1?(Ne.moveHandler&&(jt=Tt.asArray()[0],Ne.moveHandler({eventSource:Ne,pointerType:jt.type,position:nt(jt.currentPos,Ne.element),buttons:Tt.buttons,isTouchEvent:jt.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData})),Ne.dragHandler&&!Re.preventGesture&&!Re.defaultPrevented&&(jt=Tt.asArray()[0],Mn=jt.currentPos.minus(jt.lastPos),Ne.dragHandler({eventSource:Ne,pointerType:jt.type,position:nt(jt.currentPos,Ne.element),buttons:Tt.buttons,delta:Mn,speed:jt.speed,direction:jt.direction,shift:Re.originalEvent.shiftKey,isTouchEvent:jt.type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData}),Re.preventDefault=!0,Ge.sentDragEvent=!0)):Tt.contacts===2&&(Ne.moveHandler&&(pn=Tt.asArray(),Ne.moveHandler({eventSource:Ne,pointerType:pn[0].type,position:nt(Ce(pn[0].currentPos,pn[1].currentPos),Ne.element),buttons:Tt.buttons,isTouchEvent:pn[0].type==="touch",originalEvent:Re.originalEvent,userData:Ne.userData})),Ne.pinchHandler&&$e.type==="touch"&&!Re.preventGesture&&!Re.defaultPrevented&&(Mn=Ge.pinchGPoints[0].currentPos.distanceTo(Ge.pinchGPoints[1].currentPos),Mn!==Ge.currentPinchDist&&(Ge.lastPinchDist=Ge.currentPinchDist,Ge.currentPinchDist=Mn,Ge.lastPinchCenter=Ge.currentPinchCenter,Ge.currentPinchCenter=Ce(Ge.pinchGPoints[0].currentPos,Ge.pinchGPoints[1].currentPos),Ne.pinchHandler({eventSource:Ne,pointerType:"touch",gesturePoints:Ge.pinchGPoints,lastCenter:nt(Ge.lastPinchCenter,Ne.element),center:nt(Ge.currentPinchCenter,Ne.element),lastDistance:Ge.lastPinchDist,distance:Ge.currentPinchDist,shift:Re.originalEvent.shiftKey,originalEvent:Re.originalEvent,userData:Ne.userData}),Re.preventDefault=!0)))}function Xn(Ne,Re,$e){var Ge=Ne.getActivePointersListByType($e.type),Tt;Tt=Ge.getById($e.id),Tt&&Ct(Ne,Ge,Tt)}function Li(Ne,Re,$e){Ne.stopHandler&&Ne.stopHandler({eventSource:Ne,pointerType:$e,position:Ke(Re,Ne.element),buttons:Ne.getActivePointersListByType($e).buttons,isTouchEvent:$e==="touch",originalEvent:Re,userData:Ne.userData})}}(ie),function(Q){Q.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},Q.Control=function(te,re,ae){var de=te.parentNode;typeof re=="number"&&(Q.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),re={anchor:re}),re.attachToViewer=typeof re.attachToViewer>"u"?!0:re.attachToViewer,this.autoFade=typeof re.autoFade>"u"?!0:re.autoFade,this.element=te,this.anchor=re.anchor,this.container=ae,this.anchor===Q.ControlAnchor.ABSOLUTE?(this.wrapper=Q.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof re.top=="number"?re.top+"px":re.top,this.wrapper.style.left=typeof re.left=="number"?re.left+"px":re.left,this.wrapper.style.height=typeof re.height=="number"?re.height+"px":re.height,this.wrapper.style.width=typeof re.width=="number"?re.width+"px":re.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=Q.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor===Q.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),re.attachToViewer?this.anchor===Q.ControlAnchor.TOP_RIGHT||this.anchor===Q.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):de.appendChild(this.wrapper)},Q.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.anchor!==Q.ControlAnchor.NONE&&this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!=="none"},setVisible:function(te){this.wrapper.style.display=te?this.anchor===Q.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(te){this.element[Q.SIGNAL]&&Q.Browser.vendor===Q.BROWSERS.IE?Q.setElementOpacity(this.element,te,!0):Q.setElementOpacity(this.wrapper,te,!0)}}}(ie),function(Q){Q.ControlDock=function(re){var ae=["topleft","topright","bottomright","bottomleft"],de,he;for(Q.extend(!0,this,{id:"controldock-"+Q.now()+"-"+Math.floor(Math.random()*1e6),container:Q.makeNeutralElement("div"),controls:[]},re),this.container.onsubmit=function(){return!1},this.element&&(this.element=Q.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),he=0;he<ae.length;he++)de=ae[he],this.controls[de]=Q.makeNeutralElement("div"),this.controls[de].style.position="absolute",de.match("left")&&(this.controls[de].style.left="0px"),de.match("right")&&(this.controls[de].style.right="0px"),de.match("top")&&(this.controls[de].style.top="0px"),de.match("bottom")&&(this.controls[de].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},Q.ControlDock.prototype={addControl:function(re,ae){re=Q.getElement(re);var de=null;if(!(te(this,re)>=0)){switch(ae.anchor){case Q.ControlAnchor.TOP_RIGHT:de=this.controls.topright,re.style.position="relative",re.style.paddingRight="0px",re.style.paddingTop="0px";break;case Q.ControlAnchor.BOTTOM_RIGHT:de=this.controls.bottomright,re.style.position="relative",re.style.paddingRight="0px",re.style.paddingBottom="0px";break;case Q.ControlAnchor.BOTTOM_LEFT:de=this.controls.bottomleft,re.style.position="relative",re.style.paddingLeft="0px",re.style.paddingBottom="0px";break;case Q.ControlAnchor.TOP_LEFT:de=this.controls.topleft,re.style.position="relative",re.style.paddingLeft="0px",re.style.paddingTop="0px";break;case Q.ControlAnchor.ABSOLUTE:de=this.container,re.style.margin="0px",re.style.padding="0px";break;default:case Q.ControlAnchor.NONE:de=this.container,re.style.margin="0px",re.style.padding="0px";break}this.controls.push(new Q.Control(re,ae,de)),re.style.display="inline-block"}},removeControl:function(re){re=Q.getElement(re);var ae=te(this,re);return ae>=0&&(this.controls[ae].destroy(),this.controls.splice(ae,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var re;for(re=this.controls.length-1;re>=0;re--)if(this.controls[re].isVisible())return!0;return!1},setControlsEnabled:function(re){var ae;for(ae=this.controls.length-1;ae>=0;ae--)this.controls[ae].setVisible(re);return this}};function te(re,ae){var de=re.controls,he;for(he=de.length-1;he>=0;he--)if(de[he].element===ae)return he;return-1}}(ie),function(Q){Q.Placement=Q.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(ie),function(Q){var te={},re=1;Q.Viewer=function(Te){var Qe=arguments,Ct=this,Lt;if(Q.isPlainObject(Te)||(Te={id:Qe[0],xmlPath:Qe.length>1?Qe[1]:void 0,prefixUrl:Qe.length>2?Qe[2]:void 0,controls:Qe.length>3?Qe[3]:void 0,overlays:Qe.length>4?Qe[4]:void 0}),Te.config&&(Q.extend(!0,Te,Te.config),delete Te.config),Q.extend(!0,this,{id:Te.id,hash:Te.hash||re++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},Q.DEFAULT_SETTINGS,Te),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof te[this.hash]<"u"&&Q.console.warn("Hash "+this.hash+" has already been used."),te[this.hash]={fsBoundsDelta:new Q.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._updatePixelDensityRatioBind=null,this._lastScrollTime=Q.now(),Q.EventSource.call(this),this.addHandler("open-failed",function(Rt){var an=Q.getString("Errors.OpenFailed",Rt.eventSource,Rt.message);Ct._showMessage(an)}),Q.ControlDock.call(this,Te),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=Q.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Rt){Rt.width="100%",Rt.height="100%",Rt.overflow="hidden",Rt.position="absolute",Rt.top="0px",Rt.left="0px"}(this.canvas.style),Q.setElementTouchActionNone(this.canvas),Te.tabIndex!==""&&(this.canvas.tabIndex=Te.tabIndex===void 0?0:Te.tabIndex),this.container.className="openseadragon-container",function(Rt){Rt.width="100%",Rt.height="100%",Rt.position="relative",Rt.overflow="hidden",Rt.left="0px",Rt.top="0px",Rt.textAlign="left"}(this.container.style),Q.setElementTouchActionNone(this.container),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new Q.MouseTracker({userData:"Viewer.innerTracker",element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,contextMenuHandler:Q.delegate(this,Ke),keyDownHandler:Q.delegate(this,nt),keyHandler:Q.delegate(this,Ce),clickHandler:Q.delegate(this,Ye),dblClickHandler:Q.delegate(this,ct),dragHandler:Q.delegate(this,ut),dragEndHandler:Q.delegate(this,ft),enterHandler:Q.delegate(this,gt),leaveHandler:Q.delegate(this,Mt),pressHandler:Q.delegate(this,Ht),releaseHandler:Q.delegate(this,Yt),nonPrimaryPressHandler:Q.delegate(this,tn),nonPrimaryReleaseHandler:Q.delegate(this,Zt),scrollHandler:Q.delegate(this,ln),pinchHandler:Q.delegate(this,dn)}),this.outerTracker=new Q.MouseTracker({userData:"Viewer.outerTracker",element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:Q.delegate(this,bn),leaveHandler:Q.delegate(this,yn)}),this.toolbar&&(this.toolbar=new Q.ControlDock({element:this.toolbar})),this.bindStandardControls(),te[this.hash].prevContainerSize=ae(this.container),this.world=new Q.World({viewer:this}),this.world.addHandler("add-item",function(Rt){Ct.source=Ct.world.getItemAt(0).source,te[Ct.hash].forceRedraw=!0,Ct._updateRequestId||(Ct._updateRequestId=ge(Ct,xn))}),this.world.addHandler("remove-item",function(Rt){Ct.world.getItemCount()?Ct.source=Ct.world.getItemAt(0).source:Ct.source=null,te[Ct.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Rt){Ct.viewport&&Ct.viewport._setContentBounds(Ct.world.getHomeBounds(),Ct.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Rt){Ct.source=Ct.world.getItemAt(0).source}),this.viewport=new Q.Viewport({containerSize:te[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new Q.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:Te.timeout}),this.tileCache=new Q.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new Q.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=Q.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Lt=this.buttonGroup.buttons.indexOf(this.rotateLeft),this.buttonGroup.buttons.splice(Lt,1),this.buttonGroup.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Lt=this.buttonGroup.buttons.indexOf(this.rotateRight),this.buttonGroup.buttons.splice(Lt,1),this.buttonGroup.element.removeChild(this.rotateRight.element))),this._addUpdatePixelDensityRatioEvent(),this.showNavigator&&(this.navigator=new Q.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Lt=0;Lt<this.customControls.length;Lt++)this.addControl(this.customControls[Lt].id,{anchor:this.customControls[Lt].anchor});Q.requestAnimationFrame(function(){xe(Ct)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled),Q._viewers.set(this.element,this)},Q.extend(Q.Viewer.prototype,Q.EventSource.prototype,Q.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(Te){return Q.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(Te)},openTileSource:function(Te){return Q.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(Te)},open:function(Te,Qe){var Ct=this;if(this.close(),!Te)return this;if(this.sequenceMode&&Q.isArray(Te))return this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Qe<"u"&&!isNaN(Qe)&&(this.initialPage=Qe),this.tileSources=Te,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex),this;if(Q.isArray(Te)||(Te=[Te]),!Te.length)return this;this._opening=!0;for(var Lt=Te.length,Rt=0,an=0,Qt,On=function(){if(Rt+an===Lt)if(Rt){(Ct._firstOpen||!Ct.preserveViewport)&&(Ct.viewport.goHome(!0),Ct.viewport.update()),Ct._firstOpen=!1;var wn=Te[0];if(wn.tileSource&&(wn=wn.tileSource),Ct.overlays&&!Ct.preserveOverlays)for(var zn=0;zn<Ct.overlays.length;zn++)Ct.currentOverlays[zn]=he(Ct,Ct.overlays[zn]);Ct._drawOverlays(),Ct._opening=!1,Ct.raiseEvent("open",{source:wn})}else Ct._opening=!1,Ct.raiseEvent("open-failed",Qt)},Bn=function(wn){(!Q.isPlainObject(wn)||!wn.tileSource)&&(wn={tileSource:wn}),wn.index!==void 0&&(Q.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete wn.index),wn.collectionImmediately===void 0&&(wn.collectionImmediately=!0);var zn=wn.success;wn.success=function(Xn){if(Rt++,wn.tileSource.overlays)for(var Li=0;Li<wn.tileSource.overlays.length;Li++)Ct.addOverlay(wn.tileSource.overlays[Li]);zn&&zn(Xn),On()};var En=wn.error;wn.error=function(Xn){an++,Qt||(Qt=Xn),En&&En(Xn),On()},Ct.addTiledImage(wn)},An=0;An<Te.length;An++)Bn(Te[An]);return this},close:function(){return te[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),te[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(te[this.hash]){if(this._removeUpdatePixelDensityRatioEvent(),this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(Q.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.navigator&&(this.navigator.destroy(),te[this.navigator.hash]=null,delete te[this.navigator.hash],this.navigator=null),this.removeAllHandlers(),this.buttonGroup)this.buttonGroup.destroy();else if(this.customButtons)for(;this.customButtons.length;)this.customButtons.pop().destroy();if(this.paging&&this.paging.destroy(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.container.onsubmit=null,this.clearControls(),this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),te[this.hash]=null,delete te[this.hash],this.canvas=null,this.container=null,Q._viewers.delete(this.element),this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(Te){return this.innerTracker.setTracking(Te),this.outerTracker.setTracking(Te),this.raiseEvent("mouse-enabled",{enabled:Te}),this},areControlsEnabled:function(){var Te=this.controls.length,Qe;for(Qe=0;Qe<this.controls.length;Qe++)Te=Te&&this.controls[Qe].isVisible();return Te},setControlsEnabled:function(Te){return Te?De(this):xe(this),this.raiseEvent("controls-enabled",{enabled:Te}),this},setDebugMode:function(Te){for(var Qe=0;Qe<this.world.getItemCount();Qe++)this.world.getItemAt(Qe).debugMode=Te;this.debugMode=Te,this.forceRedraw()},isFullPage:function(){return te[this.hash].fullPage},setFullPage:function(Te){var Qe=document.body,Ct=Qe.style,Lt=document.documentElement.style,Rt=this,an,Qt;if(Te===this.isFullPage())return this;var On={fullPage:Te,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",On),On.preventDefaultAction)return this;if(Te){for(this.elementSize=Q.getElementSize(this.element),this.pageScroll=Q.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Ct.margin,this.docMargin=Lt.margin,Ct.margin="0",Lt.margin="0",this.bodyPadding=Ct.padding,this.docPadding=Lt.padding,Ct.padding="0",Lt.padding="0",this.bodyWidth=Ct.width,this.docWidth=Lt.width,Ct.width="100%",Lt.width="100%",this.bodyHeight=Ct.height,this.docHeight=Lt.height,Ct.height="100%",Lt.height="100%",this.bodyDisplay=Ct.display,Ct.display="block",this.previousBody=[],te[this.hash].prevElementParent=this.element.parentNode,te[this.hash].prevNextSibling=this.element.nextSibling,te[this.hash].prevElementWidth=this.element.style.width,te[this.hash].prevElementHeight=this.element.style.height,an=Qe.childNodes.length,Qt=0;Qt<an;Qt++)this.previousBody.push(Qe.childNodes[0]),Qe.removeChild(Qe.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Qe.appendChild(this.toolbar.element),Q.addClass(this.toolbar.element,"fullpage")),Q.addClass(this.element,"fullpage"),Qe.appendChild(this.element),this.element.style.height=Q.getWindowSize().y+"px",this.element.style.width=Q.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=Q.getElementSize(this.element).y-Q.getElementSize(this.toolbar.element).y+"px"),te[this.hash].fullPage=!0,Q.delegate(this,bn)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Ct.margin=this.bodyMargin,Lt.margin=this.docMargin,Ct.padding=this.bodyPadding,Lt.padding=this.docPadding,Ct.width=this.bodyWidth,Lt.width=this.docWidth,Ct.height=this.bodyHeight,Lt.height=this.docHeight,Ct.display=this.bodyDisplay,Qe.removeChild(this.element),an=this.previousBody.length,Qt=0;Qt<an;Qt++)Qe.appendChild(this.previousBody.shift());Q.removeClass(this.element,"fullpage"),te[this.hash].prevElementParent.insertBefore(this.element,te[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Qe.removeChild(this.toolbar.element),Q.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=te[this.hash].prevElementWidth,this.element.style.height=te[this.hash].prevElementHeight;var Bn=0,An=function(){Q.setPageScroll(Rt.pageScroll);var wn=Q.getPageScroll();Bn++,Bn<10&&(wn.x!==Rt.pageScroll.x||wn.y!==Rt.pageScroll.y)&&Q.requestAnimationFrame(An)};Q.requestAnimationFrame(An),te[this.hash].fullPage=!1,Q.delegate(this,yn)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:Te}),this},setFullScreen:function(Te){var Qe=this;if(!Q.supportsFullScreen)return this.setFullPage(Te);if(Q.isFullScreen()===Te)return this;var Ct={fullScreen:Te,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Ct),Ct.preventDefaultAction)return this;if(Te){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Lt=function(){var Rt=Q.isFullScreen();Rt||(Q.removeEvent(document,Q.fullScreenEventName,Lt),Q.removeEvent(document,Q.fullScreenErrorEventName,Lt),Qe.setFullPage(!1),Qe.isFullPage()&&(Qe.element.style.width=Qe.fullPageStyleWidth,Qe.element.style.height=Qe.fullPageStyleHeight)),Qe.navigator&&Qe.viewport&&setTimeout(function(){Qe.navigator.update(Qe.viewport)}),Qe.raiseEvent("full-screen",{fullScreen:Rt})};Q.addEvent(document,Q.fullScreenEventName,Lt),Q.addEvent(document,Q.fullScreenErrorEventName,Lt),Q.requestFullScreen(document.body)}else Q.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!=="hidden"},setVisible:function(Te){return this.container.style.visibility=Te?"":"hidden",this.raiseEvent("visible",{visible:Te}),this},addTiledImage:function(Te){Q.console.assert(Te,"[Viewer.addTiledImage] options is required"),Q.console.assert(Te.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),Q.console.assert(!Te.replace||Te.index>-1&&Te.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Qe=this;Te.replace&&(Te.replaceItem=Qe.world.getItemAt(Te.index)),this._hideMessage(),Te.placeholderFillStyle===void 0&&(Te.placeholderFillStyle=this.placeholderFillStyle),Te.opacity===void 0&&(Te.opacity=this.opacity),Te.preload===void 0&&(Te.preload=this.preload),Te.compositeOperation===void 0&&(Te.compositeOperation=this.compositeOperation),Te.crossOriginPolicy===void 0&&(Te.crossOriginPolicy=Te.tileSource.crossOriginPolicy!==void 0?Te.tileSource.crossOriginPolicy:this.crossOriginPolicy),Te.ajaxWithCredentials===void 0&&(Te.ajaxWithCredentials=this.ajaxWithCredentials),Te.loadTilesWithAjax===void 0&&(Te.loadTilesWithAjax=this.loadTilesWithAjax),Te.ajaxHeaders===void 0||Te.ajaxHeaders===null?Te.ajaxHeaders=this.ajaxHeaders:Q.isPlainObject(Te.ajaxHeaders)&&Q.isPlainObject(this.ajaxHeaders)&&(Te.ajaxHeaders=Q.extend({},this.ajaxHeaders,Te.ajaxHeaders));var Ct={options:Te};function Lt(Qt){for(var On=0;On<Qe._loadQueue.length;On++)if(Qe._loadQueue[On]===Ct){Qe._loadQueue.splice(On,1);break}Qe._loadQueue.length===0&&Rt(Ct),Qe.raiseEvent("add-item-failed",Qt),Te.error&&Te.error(Qt)}function Rt(Qt){Qe.collectionMode&&(Qe.world.arrange({immediately:Qt.options.collectionImmediately,rows:Qe.collectionRows,columns:Qe.collectionColumns,layout:Qe.collectionLayout,tileSize:Qe.collectionTileSize,tileMargin:Qe.collectionTileMargin}),Qe.world.setAutoRefigureSizes(!0))}if(Q.isArray(Te.tileSource)){setTimeout(function(){Lt({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:Te.tileSource,options:Te})});return}this._loadQueue.push(Ct);function an(){for(var Qt,On,Bn;Qe._loadQueue.length&&(Qt=Qe._loadQueue[0],!!Qt.tileSource);){if(Qe._loadQueue.splice(0,1),Qt.options.replace){var An=Qe.world.getIndexOfItem(Qt.options.replaceItem);An!==-1&&(Qt.options.index=An),Qe.world.removeItem(Qt.options.replaceItem)}On=new Q.TiledImage({viewer:Qe,source:Qt.tileSource,viewport:Qe.viewport,drawer:Qe.drawer,tileCache:Qe.tileCache,imageLoader:Qe.imageLoader,x:Qt.options.x,y:Qt.options.y,width:Qt.options.width,height:Qt.options.height,fitBounds:Qt.options.fitBounds,fitBoundsPlacement:Qt.options.fitBoundsPlacement,clip:Qt.options.clip,placeholderFillStyle:Qt.options.placeholderFillStyle,opacity:Qt.options.opacity,preload:Qt.options.preload,degrees:Qt.options.degrees,flipped:Qt.options.flipped,compositeOperation:Qt.options.compositeOperation,springStiffness:Qe.springStiffness,animationTime:Qe.animationTime,minZoomImageRatio:Qe.minZoomImageRatio,wrapHorizontal:Qe.wrapHorizontal,wrapVertical:Qe.wrapVertical,immediateRender:Qe.immediateRender,blendTime:Qe.blendTime,alwaysBlend:Qe.alwaysBlend,minPixelRatio:Qe.minPixelRatio,smoothTileEdgesMinZoom:Qe.smoothTileEdgesMinZoom,iOSDevice:Qe.iOSDevice,crossOriginPolicy:Qt.options.crossOriginPolicy,ajaxWithCredentials:Qt.options.ajaxWithCredentials,loadTilesWithAjax:Qt.options.loadTilesWithAjax,ajaxHeaders:Qt.options.ajaxHeaders,debugMode:Qe.debugMode}),Qe.collectionMode&&Qe.world.setAutoRefigureSizes(!1),Qe.navigator&&(Bn=Q.extend({},Qt.options,{replace:!1,originalTiledImage:On,tileSource:Qt.tileSource}),Qe.navigator.addTiledImage(Bn)),Qe.world.addItem(On,{index:Qt.options.index}),Qe._loadQueue.length===0&&Rt(Qt),Qe.world.getItemCount()===1&&!Qe.preserveViewport&&Qe.viewport.goHome(!0),Qt.options.success&&Qt.options.success({item:On})}}de(this,Te.tileSource,Te,function(Qt){Ct.tileSource=Qt,an()},function(Qt){Qt.options=Te,Lt(Qt),an()})},addSimpleImage:function(Te){Q.console.assert(Te,"[Viewer.addSimpleImage] options is required"),Q.console.assert(Te.url,"[Viewer.addSimpleImage] options.url is required");var Qe=Q.extend({},Te,{tileSource:{type:"image",url:Te.url}});delete Qe.url,this.addTiledImage(Qe)},addLayer:function(Te){var Qe=this;Q.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Ct=Q.extend({},Te,{success:function(Lt){Qe.raiseEvent("add-layer",{options:Te,drawer:Lt.item})},error:function(Lt){Qe.raiseEvent("add-layer-failed",Lt)}});return this.addTiledImage(Ct),this},getLayerAtLevel:function(Te){return Q.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(Te)},getLevelOfLayer:function(Te){return Q.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(Te)},getLayersCount:function(){return Q.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(Te,Qe){return Q.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(Te,Qe)},removeLayer:function(Te){return Q.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(Te)},forceRedraw:function(){return te[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var Te=Q.delegate(this,Be),Qe=Q.delegate(this,et),Ct=Q.delegate(this,this.goToNextPage),Lt=Q.delegate(this,this.goToPreviousPage),Rt=this.navImages,an=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(an=!1),this.previousButton=new Q.Button({element:this.previousButton?Q.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.PreviousPage"),srcRest:Jt(this.prefixUrl,Rt.previous.REST),srcGroup:Jt(this.prefixUrl,Rt.previous.GROUP),srcHover:Jt(this.prefixUrl,Rt.previous.HOVER),srcDown:Jt(this.prefixUrl,Rt.previous.DOWN),onRelease:Lt,onFocus:Te,onBlur:Qe}),this.nextButton=new Q.Button({element:this.nextButton?Q.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.NextPage"),srcRest:Jt(this.prefixUrl,Rt.next.REST),srcGroup:Jt(this.prefixUrl,Rt.next.GROUP),srcHover:Jt(this.prefixUrl,Rt.next.HOVER),srcDown:Jt(this.prefixUrl,Rt.next.DOWN),onRelease:Ct,onFocus:Te,onBlur:Qe}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),an&&(this.paging=new Q.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:Q.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||Q.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var Te=Q.delegate(this,Sn),Qe=Q.delegate(this,Vt),Ct=Q.delegate(this,Xt),Lt=Q.delegate(this,Dt),Rt=Q.delegate(this,hn),an=Q.delegate(this,Ln),Qt=Q.delegate(this,Tn),On=Q.delegate(this,gi),Bn=Q.delegate(this,ri),An=Q.delegate(this,di),wn=Q.delegate(this,Be),zn=Q.delegate(this,et),En=this.navImages,Xn=[],Li=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Li=!1),this.showZoomControl&&(Xn.push(this.zoomInButton=new Q.Button({element:this.zoomInButton?Q.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.ZoomIn"),srcRest:Jt(this.prefixUrl,En.zoomIn.REST),srcGroup:Jt(this.prefixUrl,En.zoomIn.GROUP),srcHover:Jt(this.prefixUrl,En.zoomIn.HOVER),srcDown:Jt(this.prefixUrl,En.zoomIn.DOWN),onPress:Te,onRelease:Qe,onClick:Ct,onEnter:Te,onExit:Qe,onFocus:wn,onBlur:zn})),Xn.push(this.zoomOutButton=new Q.Button({element:this.zoomOutButton?Q.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.ZoomOut"),srcRest:Jt(this.prefixUrl,En.zoomOut.REST),srcGroup:Jt(this.prefixUrl,En.zoomOut.GROUP),srcHover:Jt(this.prefixUrl,En.zoomOut.HOVER),srcDown:Jt(this.prefixUrl,En.zoomOut.DOWN),onPress:Lt,onRelease:Qe,onClick:Rt,onEnter:Lt,onExit:Qe,onFocus:wn,onBlur:zn}))),this.showHomeControl&&Xn.push(this.homeButton=new Q.Button({element:this.homeButton?Q.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.Home"),srcRest:Jt(this.prefixUrl,En.home.REST),srcGroup:Jt(this.prefixUrl,En.home.GROUP),srcHover:Jt(this.prefixUrl,En.home.HOVER),srcDown:Jt(this.prefixUrl,En.home.DOWN),onRelease:an,onFocus:wn,onBlur:zn})),this.showFullPageControl&&Xn.push(this.fullPageButton=new Q.Button({element:this.fullPageButton?Q.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.FullPage"),srcRest:Jt(this.prefixUrl,En.fullpage.REST),srcGroup:Jt(this.prefixUrl,En.fullpage.GROUP),srcHover:Jt(this.prefixUrl,En.fullpage.HOVER),srcDown:Jt(this.prefixUrl,En.fullpage.DOWN),onRelease:Qt,onFocus:wn,onBlur:zn})),this.showRotationControl&&(Xn.push(this.rotateLeftButton=new Q.Button({element:this.rotateLeftButton?Q.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.RotateLeft"),srcRest:Jt(this.prefixUrl,En.rotateleft.REST),srcGroup:Jt(this.prefixUrl,En.rotateleft.GROUP),srcHover:Jt(this.prefixUrl,En.rotateleft.HOVER),srcDown:Jt(this.prefixUrl,En.rotateleft.DOWN),onRelease:On,onFocus:wn,onBlur:zn})),Xn.push(this.rotateRightButton=new Q.Button({element:this.rotateRightButton?Q.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.RotateRight"),srcRest:Jt(this.prefixUrl,En.rotateright.REST),srcGroup:Jt(this.prefixUrl,En.rotateright.GROUP),srcHover:Jt(this.prefixUrl,En.rotateright.HOVER),srcDown:Jt(this.prefixUrl,En.rotateright.DOWN),onRelease:Bn,onFocus:wn,onBlur:zn}))),this.showFlipControl&&Xn.push(this.flipButton=new Q.Button({element:this.flipButton?Q.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:Q.getString("Tooltips.Flip"),srcRest:Jt(this.prefixUrl,En.flip.REST),srcGroup:Jt(this.prefixUrl,En.flip.GROUP),srcHover:Jt(this.prefixUrl,En.flip.HOVER),srcDown:Jt(this.prefixUrl,En.flip.DOWN),onRelease:An,onFocus:wn,onBlur:zn})),Li?(this.buttonGroup=new Q.ButtonGroup({buttons:Xn,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttonGroup.element,this.addHandler("open",Q.delegate(this,kn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||Q.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||Q.ControlAnchor.TOP_LEFT})):this.customButtons=Xn),this},currentPage:function(){return this._sequenceIndex},goToPage:function(Te){return this.tileSources&&Te>=0&&Te<this.tileSources.length&&(this._sequenceIndex=Te,this._updateSequenceButtons(Te),this.open(this.tileSources[Te]),this.referenceStrip&&this.referenceStrip.setFocus(Te),this.raiseEvent("page",{page:Te})),this},addOverlay:function(Te,Qe,Ct,Lt){var Rt;if(Q.isPlainObject(Te)?Rt=Te:Rt={element:Te,location:Qe,placement:Ct,onDraw:Lt},Te=Q.getElement(Rt.element),pe(this.currentOverlays,Te)>=0)return this;var an=he(this,Rt);return this.currentOverlays.push(an),an.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:Te,location:Rt.location,placement:Rt.placement}),this},updateOverlay:function(Te,Qe,Ct){var Lt;return Te=Q.getElement(Te),Lt=pe(this.currentOverlays,Te),Lt>=0&&(this.currentOverlays[Lt].update(Qe,Ct),te[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:Te,location:Qe,placement:Ct})),this},removeOverlay:function(Te){var Qe;return Te=Q.getElement(Te),Qe=pe(this.currentOverlays,Te),Qe>=0&&(this.currentOverlays[Qe].destroy(),this.currentOverlays.splice(Qe,1),te[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:Te})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return te[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(Te){var Qe;return Te=Q.getElement(Te),Qe=pe(this.currentOverlays,Te),Qe>=0?this.currentOverlays[Qe]:null},_updateSequenceButtons:function(Te){this.nextButton&&(!this.tileSources||this.tileSources.length-1===Te?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(Te>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(Te){this._hideMessage();var Qe=Q.makeNeutralElement("div");Qe.appendChild(document.createTextNode(Te)),this.messageDiv=Q.makeCenteredNode(Qe),Q.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var Te=this.messageDiv;Te&&(Te.parentNode.removeChild(Te),delete this.messageDiv)},gestureSettingsByDeviceType:function(Te){switch(Te){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var Te,Qe=this.currentOverlays.length;for(Te=0;Te<Qe;Te++)this.currentOverlays[Te].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new Q.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else Q.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')},_addUpdatePixelDensityRatioEvent:function(){this._updatePixelDensityRatioBind=this._updatePixelDensityRatio.bind(this),Q.addEvent(window,"resize",this._updatePixelDensityRatioBind)},_removeUpdatePixelDensityRatioEvent:function(){Q.removeEvent(window,"resize",this._updatePixelDensityRatioBind)},_updatePixelDensityRatio:function(){var Te=Q.pixelDensityRatio,Qe=Q.getCurrentPixelDensityRatio();Te!==Qe&&(Q.pixelDensityRatio=Qe,this.world.resetItems(),this.forceRedraw())},goToPreviousPage:function(){var Te=this._sequenceIndex-1;this.navPrevNextWrap&&Te<0&&(Te+=this.tileSources.length),this.goToPage(Te)},goToNextPage:function(){var Te=this._sequenceIndex+1;this.navPrevNextWrap&&Te>=this.tileSources.length&&(Te=0),this.goToPage(Te)}});function ae(Te){return Te=Q.getElement(Te),new Q.Point(Te.clientWidth===0?1:Te.clientWidth,Te.clientHeight===0?1:Te.clientHeight)}function de(Te,Qe,Ct,Lt,Rt){var an=Te;if(Q.type(Qe)==="string"){if(Qe.match(/^\s*<.*>\s*$/))Qe=Q.parseXml(Qe);else if(Qe.match(/^\s*[{[].*[}\]]\s*$/))try{var Qt=Q.parseJSON(Qe);Qe=Qt}catch{}}function On(Bn,An){Bn.ready?Lt(Bn):(Bn.addHandler("ready",function(){Lt(Bn)}),Bn.addHandler("open-failed",function(wn){Rt({message:wn.message,source:An})}))}setTimeout(function(){if(Q.type(Qe)==="string")Qe=new Q.TileSource({url:Qe,crossOriginPolicy:Ct.crossOriginPolicy!==void 0?Ct.crossOriginPolicy:Te.crossOriginPolicy,ajaxWithCredentials:Te.ajaxWithCredentials,ajaxHeaders:Ct.ajaxHeaders?Ct.ajaxHeaders:Te.ajaxHeaders,useCanvas:Te.useCanvas,success:function(zn){Lt(zn.tileSource)}}),Qe.addHandler("open-failed",function(zn){Rt(zn)});else if(Q.isPlainObject(Qe)||Qe.nodeType)if(Qe.crossOriginPolicy===void 0&&(Ct.crossOriginPolicy!==void 0||Te.crossOriginPolicy!==void 0)&&(Qe.crossOriginPolicy=Ct.crossOriginPolicy!==void 0?Ct.crossOriginPolicy:Te.crossOriginPolicy),Qe.ajaxWithCredentials===void 0&&(Qe.ajaxWithCredentials=Te.ajaxWithCredentials),Qe.useCanvas===void 0&&(Qe.useCanvas=Te.useCanvas),Q.isFunction(Qe.getTileUrl)){var Bn=new Q.TileSource(Qe);Bn.getTileUrl=Qe.getTileUrl,Lt(Bn)}else{var An=Q.TileSource.determineType(an,Qe);if(!An){Rt({message:"Unable to load TileSource",source:Qe});return}var wn=An.prototype.configure.apply(an,[Qe]);On(new An(wn),Qe)}else On(Qe,Qe)})}function he(Te,Qe){if(Qe instanceof Q.Overlay)return Qe;var Ct=null;if(Qe.element)Ct=Q.getElement(Qe.element);else{var Lt=Qe.id?Qe.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Ct=Q.getElement(Qe.id),Ct||(Ct=document.createElement("a"),Ct.href="#/overlay/"+Lt),Ct.id=Lt,Q.addClass(Ct,Qe.className?Qe.className:"openseadragon-overlay")}var Rt=Qe.location,an=Qe.width,Qt=Qe.height;if(!Rt){var On=Qe.x,Bn=Qe.y;if(Qe.px!==void 0){var An=Te.viewport.imageToViewportRectangle(new Q.Rect(Qe.px,Qe.py,an||0,Qt||0));On=An.x,Bn=An.y,an=an!==void 0?An.width:void 0,Qt=Qt!==void 0?An.height:void 0}Rt=new Q.Point(On,Bn)}var wn=Qe.placement;return wn&&Q.type(wn)==="string"&&(wn=Q.Placement[Qe.placement.toUpperCase()]),new Q.Overlay({element:Ct,location:Rt,placement:wn,onDraw:Qe.onDraw,checkResize:Qe.checkResize,width:an,height:Qt,rotationMode:Qe.rotationMode})}function pe(Te,Qe){var Ct;for(Ct=Te.length-1;Ct>=0;Ct--)if(Te[Ct].element===Qe)return Ct;return-1}function ge(Te,Qe){return Q.requestAnimationFrame(function(){Qe(Te)})}function ye(Te){Q.requestAnimationFrame(function(){Ee(Te)})}function xe(Te){!Te.autoHideControls||(Te.controlsShouldFade=!0,Te.controlsFadeBeginTime=Q.now()+Te.controlsFadeDelay,window.setTimeout(function(){ye(Te)},Te.controlsFadeDelay))}function Ee(Te){var Qe,Ct,Lt,Rt;if(Te.controlsShouldFade){for(Qe=Q.now(),Ct=Qe-Te.controlsFadeBeginTime,Lt=1-Ct/Te.controlsFadeLength,Lt=Math.min(1,Lt),Lt=Math.max(0,Lt),Rt=Te.controls.length-1;Rt>=0;Rt--)Te.controls[Rt].autoFade&&Te.controls[Rt].setOpacity(Lt);Lt>0&&ye(Te)}}function De(Te){var Qe;for(Te.controlsShouldFade=!1,Qe=Te.controls.length-1;Qe>=0;Qe--)Te.controls[Qe].setOpacity(1)}function Be(){De(this)}function et(){xe(this)}function Ke(Te){var Qe={tracker:Te.eventSource,position:Te.position,originalEvent:Te.originalEvent,preventDefault:Te.preventDefault};this.raiseEvent("canvas-contextmenu",Qe),Te.preventDefault=Qe.preventDefault}function nt(Te){var Qe={originalEvent:Te.originalEvent,preventDefaultAction:!1,preventVerticalPan:Te.preventVerticalPan,preventHorizontalPan:Te.preventHorizontalPan};if(this.raiseEvent("canvas-key",Qe),!Qe.preventDefaultAction&&!Te.ctrl&&!Te.alt&&!Te.meta)switch(Te.keyCode){case 38:Qe.preventVerticalPan||(Te.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 40:Qe.preventVerticalPan||(Te.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 37:Qe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 39:Qe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;default:Te.preventDefault=!1;break}else Te.preventDefault=!1}function Ce(Te){var Qe={originalEvent:Te.originalEvent,preventDefaultAction:!1,preventVerticalPan:Te.preventVerticalPan,preventHorizontalPan:Te.preventHorizontalPan};if(this.raiseEvent("canvas-key",Qe),!Qe.preventDefaultAction&&!Te.ctrl&&!Te.alt&&!Te.meta)switch(Te.keyCode){case 43:case 61:this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),Te.preventDefault=!0;break;case 45:this.viewport.zoomBy(.9),this.viewport.applyConstraints(),Te.preventDefault=!0;break;case 48:this.viewport.goHome(),this.viewport.applyConstraints(),Te.preventDefault=!0;break;case 119:case 87:Qe.preventVerticalPan||(Te.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(0,-40))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 115:case 83:Qe.preventVerticalPan||(Te.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(0,40))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 97:Qe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(-40,0))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 100:Qe.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new Q.Point(40,0))),this.viewport.applyConstraints()),Te.preventDefault=!0;break;case 114:this.viewport.flipped?this.viewport.setRotation(Q.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(Q.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),Te.preventDefault=!0;break;case 82:this.viewport.flipped?this.viewport.setRotation(Q.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(Q.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),Te.preventDefault=!0;break;case 102:this.viewport.toggleFlip(),Te.preventDefault=!0;break;case 106:this.goToPreviousPage();break;case 107:this.goToNextPage();break;default:Te.preventDefault=!1;break}else Te.preventDefault=!1}function Ye(Te){var Qe,Ct=document.activeElement===this.canvas;Ct||this.canvas.focus(),this.viewport.flipped&&(Te.position.x=this.viewport.getContainerSize().x-Te.position.x);var Lt={tracker:Te.eventSource,position:Te.position,quick:Te.quick,shift:Te.shift,originalEvent:Te.originalEvent,originalTarget:Te.originalTarget,preventDefaultAction:!1};this.raiseEvent("canvas-click",Lt),!Lt.preventDefaultAction&&this.viewport&&Te.quick&&(Qe=this.gestureSettingsByDeviceType(Te.pointerType),Qe.clickToZoom&&(this.viewport.zoomBy(Te.shift?1/this.zoomPerClick:this.zoomPerClick,Qe.zoomToRefPoint?this.viewport.pointFromPixel(Te.position,!0):null),this.viewport.applyConstraints()))}function ct(Te){var Qe,Ct={tracker:Te.eventSource,position:Te.position,shift:Te.shift,originalEvent:Te.originalEvent,preventDefaultAction:!1};this.raiseEvent("canvas-double-click",Ct),!Ct.preventDefaultAction&&this.viewport&&(Qe=this.gestureSettingsByDeviceType(Te.pointerType),Qe.dblClickToZoom&&(this.viewport.zoomBy(Te.shift?1/this.zoomPerClick:this.zoomPerClick,Qe.zoomToRefPoint?this.viewport.pointFromPixel(Te.position,!0):null),this.viewport.applyConstraints()))}function ut(Te){var Qe,Ct={tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,delta:Te.delta,speed:Te.speed,direction:Te.direction,shift:Te.shift,originalEvent:Te.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag",Ct),Qe=this.gestureSettingsByDeviceType(Te.pointerType),Qe.dragToPan&&!Ct.preventDefaultAction&&this.viewport){if(this.panHorizontal||(Te.delta.x=0),this.panVertical||(Te.delta.y=0),this.viewport.flipped&&(Te.delta.x=-Te.delta.x),this.constrainDuringPan){var Lt=this.viewport.deltaPointsFromPixels(Te.delta.negate());this.viewport.centerSpringX.target.value+=Lt.x,this.viewport.centerSpringY.target.value+=Lt.y;var Rt=this.viewport.getBounds(),an=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Lt.x,this.viewport.centerSpringY.target.value-=Lt.y,Rt.x!==an.x&&(Te.delta.x=0),Rt.y!==an.y&&(Te.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(Te.delta.negate()),Qe.flickEnabled&&!this.constrainDuringPan)}}function ft(Te){var Qe={tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,speed:Te.speed,direction:Te.direction,shift:Te.shift,originalEvent:Te.originalEvent,preventDefaultAction:!1};if(this.raiseEvent("canvas-drag-end",Qe),!Qe.preventDefaultAction&&this.viewport){var Ct=this.gestureSettingsByDeviceType(Te.pointerType);if(Ct.flickEnabled&&Te.speed>=Ct.flickMinSpeed){var Lt=0;this.panHorizontal&&(Lt=Ct.flickMomentum*Te.speed*Math.cos(Te.direction));var Rt=0;this.panVertical&&(Rt=Ct.flickMomentum*Te.speed*Math.sin(Te.direction));var an=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Qt=this.viewport.pointFromPixel(new Q.Point(an.x-Lt,an.y-Rt));this.viewport.panTo(Qt,!1)}this.viewport.applyConstraints()}}function gt(Te){this.raiseEvent("canvas-enter",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,buttons:Te.buttons,pointers:Te.pointers,insideElementPressed:Te.insideElementPressed,buttonDownAny:Te.buttonDownAny,originalEvent:Te.originalEvent})}function Mt(Te){this.raiseEvent("canvas-exit",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,buttons:Te.buttons,pointers:Te.pointers,insideElementPressed:Te.insideElementPressed,buttonDownAny:Te.buttonDownAny,originalEvent:Te.originalEvent})}function Ht(Te){this.raiseEvent("canvas-press",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElementReleased,originalEvent:Te.originalEvent})}function Yt(Te){this.raiseEvent("canvas-release",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,insideElementPressed:Te.insideElementPressed,insideElementReleased:Te.insideElementReleased,originalEvent:Te.originalEvent})}function tn(Te){this.raiseEvent("canvas-nonprimary-press",{tracker:Te.eventSource,position:Te.position,pointerType:Te.pointerType,button:Te.button,buttons:Te.buttons,originalEvent:Te.originalEvent})}function Zt(Te){this.raiseEvent("canvas-nonprimary-release",{tracker:Te.eventSource,position:Te.position,pointerType:Te.pointerType,button:Te.button,buttons:Te.buttons,originalEvent:Te.originalEvent})}function dn(Te){var Qe,Ct,Lt,Rt,an={tracker:Te.eventSource,pointerType:Te.pointerType,gesturePoints:Te.gesturePoints,lastCenter:Te.lastCenter,center:Te.center,lastDistance:Te.lastDistance,distance:Te.distance,shift:Te.shift,originalEvent:Te.originalEvent,preventDefaultPanAction:!1,preventDefaultZoomAction:!1,preventDefaultRotateAction:!1};if(this.raiseEvent("canvas-pinch",an),this.viewport&&(Qe=this.gestureSettingsByDeviceType(Te.pointerType),Qe.pinchToZoom&&(!an.preventDefaultPanAction||!an.preventDefaultZoomAction)&&(Ct=this.viewport.pointFromPixel(Te.center,!0),an.preventDefaultZoomAction||this.viewport.zoomBy(Te.distance/Te.lastDistance,Ct,!0),Qe.zoomToRefPoint&&!an.preventDefaultPanAction&&(Lt=this.viewport.pointFromPixel(Te.lastCenter,!0),Rt=Lt.minus(Ct),this.panHorizontal||(Rt.x=0),this.panVertical||(Rt.y=0),this.viewport.panBy(Rt,!0)),this.viewport.applyConstraints()),Qe.pinchRotate&&!an.preventDefaultRotateAction)){var Qt=Math.atan2(Te.gesturePoints[0].currentPos.y-Te.gesturePoints[1].currentPos.y,Te.gesturePoints[0].currentPos.x-Te.gesturePoints[1].currentPos.x),On=Math.atan2(Te.gesturePoints[0].lastPos.y-Te.gesturePoints[1].lastPos.y,Te.gesturePoints[0].lastPos.x-Te.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Qt-On)*(180/Math.PI))}}function ln(Te){var Qe,Ct,Lt,Rt,an;Rt=Q.now(),an=Rt-this._lastScrollTime,an>this.minScrollDeltaTime?(this._lastScrollTime=Rt,Qe={tracker:Te.eventSource,position:Te.position,scroll:Te.scroll,shift:Te.shift,originalEvent:Te.originalEvent,preventDefaultAction:!1,preventDefault:!0},this.raiseEvent("canvas-scroll",Qe),!Qe.preventDefaultAction&&this.viewport&&(this.viewport.flipped&&(Te.position.x=this.viewport.getContainerSize().x-Te.position.x),Ct=this.gestureSettingsByDeviceType(Te.pointerType),Ct.scrollToZoom&&(Lt=Math.pow(this.zoomPerScroll,Te.scroll),this.viewport.zoomBy(Lt,Ct.zoomToRefPoint?this.viewport.pointFromPixel(Te.position,!0):null),this.viewport.applyConstraints())),Te.preventDefault=Qe.preventDefault):Te.preventDefault=!0}function bn(Te){te[this.hash].mouseInside=!0,De(this),this.raiseEvent("container-enter",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,buttons:Te.buttons,pointers:Te.pointers,insideElementPressed:Te.insideElementPressed,buttonDownAny:Te.buttonDownAny,originalEvent:Te.originalEvent})}function yn(Te){Te.pointers<1&&(te[this.hash].mouseInside=!1,te[this.hash].animating||xe(this)),this.raiseEvent("container-exit",{tracker:Te.eventSource,pointerType:Te.pointerType,position:Te.position,buttons:Te.buttons,pointers:Te.pointers,insideElementPressed:Te.insideElementPressed,buttonDownAny:Te.buttonDownAny,originalEvent:Te.originalEvent})}function xn(Te){Pn(Te),Te.isOpen()?Te._updateRequestId=ge(Te,xn):Te._updateRequestId=!1}function Pn(Te){if(!(Te._opening||!te[Te.hash])){if(Te.autoResize){var Qe=ae(Te.container),Ct=te[Te.hash].prevContainerSize;if(!Qe.equals(Ct)){var Lt=Te.viewport;if(Te.preserveImageSizeOnResize){var Rt=Ct.x/Qe.x,an=Lt.getZoom()*Rt,Qt=Lt.getCenter();Lt.resize(Qe,!1),Lt.zoomTo(an,null,!0),Lt.panTo(Qt,!0)}else{var On=Lt.getBounds();Lt.resize(Qe,!0),Lt.fitBoundsWithConstraints(On,!0)}te[Te.hash].prevContainerSize=Qe,te[Te.hash].forceRedraw=!0}}var Bn=Te.viewport.update(),An=Te.world.update()||Bn;Bn&&Te.raiseEvent("viewport-change"),Te.referenceStrip&&(An=Te.referenceStrip.update(Te.viewport)||An),!te[Te.hash].animating&&An&&(Te.raiseEvent("animation-start"),De(Te)),(An||te[Te.hash].forceRedraw||Te.world.needsDraw())&&(Nn(Te),Te._drawOverlays(),Te.navigator&&Te.navigator.update(Te.viewport),te[Te.hash].forceRedraw=!1,An&&Te.raiseEvent("animation")),te[Te.hash].animating&&!An&&(Te.raiseEvent("animation-finish"),te[Te.hash].mouseInside||xe(Te)),te[Te.hash].animating=An}}function Nn(Te){Te.imageLoader.clear(),Te.drawer.clear(),Te.world.draw(),Te.raiseEvent("update-viewport",{})}function Jt(Te,Qe){return Te?Te+Qe:Qe}function Sn(){te[this.hash].lastZoomTime=Q.now(),te[this.hash].zoomFactor=this.zoomPerSecond,te[this.hash].zooming=!0,Gt(this)}function Dt(){te[this.hash].lastZoomTime=Q.now(),te[this.hash].zoomFactor=1/this.zoomPerSecond,te[this.hash].zooming=!0,Gt(this)}function Vt(){te[this.hash].zooming=!1}function Gt(Te){Q.requestAnimationFrame(Q.delegate(Te,$t))}function $t(){var Te,Qe,Ct;te[this.hash].zooming&&this.viewport&&(Te=Q.now(),Qe=Te-te[this.hash].lastZoomTime,Ct=Math.pow(te[this.hash].zoomFactor,Qe/1e3),this.viewport.zoomBy(Ct),this.viewport.applyConstraints(),te[this.hash].lastZoomTime=Te,Gt(this))}function Xt(){this.viewport&&(te[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function hn(){this.viewport&&(te[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function kn(){this.buttonGroup&&(this.buttonGroup.emulateEnter(),this.buttonGroup.emulateLeave())}function Ln(){this.viewport&&this.viewport.goHome()}function Tn(){this.isFullPage()&&!Q.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttonGroup&&this.buttonGroup.emulateLeave(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function gi(){if(this.viewport){var Te=this.viewport.getRotation();this.viewport.flipped?Te=Q.positiveModulo(Te+this.rotationIncrement,360):Te=Q.positiveModulo(Te-this.rotationIncrement,360),this.viewport.setRotation(Te)}}function ri(){if(this.viewport){var Te=this.viewport.getRotation();this.viewport.flipped?Te=Q.positiveModulo(Te-this.rotationIncrement,360):Te=Q.positiveModulo(Te+this.rotationIncrement,360),this.viewport.setRotation(Te)}}function di(){this.viewport.toggleFlip()}}(ie),function(Q){Q.Navigator=function(ge){var ye=ge.viewer,xe=this,Ee,De;ge.id?(this.element=document.getElementById(ge.id),ge.controlOptions={anchor:Q.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(ge.id="navigator-"+Q.now(),this.element=Q.makeNeutralElement("div"),ge.controlOptions={anchor:Q.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:ge.autoFade},ge.position&&(ge.position==="BOTTOM_RIGHT"?ge.controlOptions.anchor=Q.ControlAnchor.BOTTOM_RIGHT:ge.position==="BOTTOM_LEFT"?ge.controlOptions.anchor=Q.ControlAnchor.BOTTOM_LEFT:ge.position==="TOP_RIGHT"?ge.controlOptions.anchor=Q.ControlAnchor.TOP_RIGHT:ge.position==="TOP_LEFT"?ge.controlOptions.anchor=Q.ControlAnchor.TOP_LEFT:ge.position==="ABSOLUTE"&&(ge.controlOptions.anchor=Q.ControlAnchor.ABSOLUTE,ge.controlOptions.top=ge.top,ge.controlOptions.left=ge.left,ge.controlOptions.height=ge.height,ge.controlOptions.width=ge.width))),this.element.id=ge.id,this.element.className+=" navigator",ge=Q.extend(!0,{sizeRatio:Q.DEFAULT_SETTINGS.navigatorSizeRatio},ge,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:ge.autoResize,minZoomImageRatio:1,background:ge.background,opacity:ge.opacity,borderColor:ge.borderColor,displayRegionColor:ge.displayRegionColor}),ge.minPixelRatio=this.minPixelRatio=ye.minPixelRatio,Q.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new Q.Point(1,1),this.totalBorderWidths=new Q.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),ge.controlOptions.anchor!==Q.ControlAnchor.NONE&&function(Ke,nt){Ke.margin="0px",Ke.border=nt+"px solid "+ge.borderColor,Ke.padding="0px",Ke.background=ge.background,Ke.opacity=ge.opacity,Ke.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=Q.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(Ke,nt){Ke.position="relative",Ke.top="0px",Ke.left="0px",Ke.fontSize="0px",Ke.overflow="hidden",Ke.border=nt+"px solid "+ge.displayRegionColor,Ke.margin="0px",Ke.padding="0px",Ke.background="transparent",Ke.float="left",Ke.cssFloat="left",Ke.styleFloat="left",Ke.zIndex=999999999,Ke.cursor="default"}(this.displayRegion.style,this.borderWidth),Q.setElementPointerEventsNone(this.displayRegion),Q.setElementTouchActionNone(this.displayRegion),this.displayRegionContainer=Q.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",Q.setElementPointerEventsNone(this.displayRegionContainer),Q.setElementTouchActionNone(this.displayRegionContainer),ye.addControl(this.element,ge.controlOptions),this._resizeWithViewer=ge.controlOptions.anchor!==Q.ControlAnchor.ABSOLUTE&&ge.controlOptions.anchor!==Q.ControlAnchor.NONE,ge.width&&ge.height?(this.setWidth(ge.width),this.setHeight(ge.height)):this._resizeWithViewer&&(Ee=Q.getElementSize(ye.element),this.element.style.height=Math.round(Ee.y*ge.sizeRatio)+"px",this.element.style.width=Math.round(Ee.x*ge.sizeRatio)+"px",this.oldViewerSize=Ee,De=Q.getElementSize(this.element),this.elementArea=De.x*De.y),this.oldContainerSize=new Q.Point(0,0),Q.Viewer.apply(this,[ge]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function Be(Ke){he(xe.displayRegionContainer,Ke),he(xe.displayRegion,-Ke),xe.viewport.setRotation(Ke)}if(ge.navigatorRotate){var et=ge.viewer.viewport?ge.viewer.viewport.getRotation():ge.viewer.degrees||0;Be(et),ge.viewer.addHandler("rotate",function(Ke){Be(Ke.degrees)})}this.innerTracker.destroy(),this.innerTracker=new Q.MouseTracker({userData:"Navigator.innerTracker",element:this.element,dragHandler:Q.delegate(this,re),clickHandler:Q.delegate(this,te),releaseHandler:Q.delegate(this,ae),scrollHandler:Q.delegate(this,de),preProcessEventHandler:function(Ke){Ke.eventType==="wheel"&&(Ke.preventDefault=!0)}}),this.outerTracker.userData="Navigator.outerTracker",Q.setElementPointerEventsNone(this.canvas),Q.setElementPointerEventsNone(this.container),this.addHandler("reset-size",function(){xe.viewport&&xe.viewport.goHome(!0)}),ye.world.addHandler("item-index-change",function(Ke){window.setTimeout(function(){var nt=xe.world.getItemAt(Ke.previousIndex);xe.world.setItemIndex(nt,Ke.newIndex)},1)}),ye.world.addHandler("remove-item",function(Ke){var nt=Ke.item,Ce=xe._getMatchingItem(nt);Ce&&xe.world.removeItem(Ce)}),this.update(ye.viewport)},Q.extend(Q.Navigator.prototype,Q.EventSource.prototype,Q.Viewer.prototype,{updateSize:function(){if(this.viewport){var ge=new Q.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);ge.equals(this.oldContainerSize)||(this.viewport.resize(ge,!0),this.viewport.goHome(!0),this.oldContainerSize=ge,this.drawer.clear(),this.world.draw())}},setWidth:function(ge){this.width=ge,this.element.style.width=typeof ge=="number"?ge+"px":ge,this._resizeWithViewer=!1},setHeight:function(ge){this.height=ge,this.element.style.height=typeof ge=="number"?ge+"px":ge,this._resizeWithViewer=!1},setFlip:function(ge){return this.viewport.setFlip(ge),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(ge){pe(this.displayRegion,ge),pe(this.canvas,ge),pe(this.element,ge)},update:function(ge){var ye,xe,Ee,De,Be,et;if(ye=Q.getElementSize(this.viewer.element),this._resizeWithViewer&&ye.x&&ye.y&&!ye.equals(this.oldViewerSize)&&(this.oldViewerSize=ye,this.maintainSizeRatio||!this.elementArea?(xe=ye.x*this.sizeRatio,Ee=ye.y*this.sizeRatio):(xe=Math.sqrt(this.elementArea*(ye.x/ye.y)),Ee=this.elementArea/xe),this.element.style.width=Math.round(xe)+"px",this.element.style.height=Math.round(Ee)+"px",this.elementArea||(this.elementArea=xe*Ee),this.updateSize()),ge&&this.viewport){De=ge.getBoundsNoRotate(!0),Be=this.viewport.pixelFromPointNoRotate(De.getTopLeft(),!1),et=this.viewport.pixelFromPointNoRotate(De.getBottomRight(),!1).minus(this.totalBorderWidths);var Ke=this.displayRegion.style;Ke.display=this.world.getItemCount()?"block":"none",Ke.top=Math.round(Be.y)+"px",Ke.left=Math.round(Be.x)+"px";var nt=Math.abs(Be.x-et.x),Ce=Math.abs(Be.y-et.y);Ke.width=Math.round(Math.max(nt,0))+"px",Ke.height=Math.round(Math.max(Ce,0))+"px"}},addTiledImage:function(ge){var ye=this,xe=ge.originalTiledImage;delete ge.original;var Ee=Q.extend({},ge,{success:function(De){var Be=De.item;Be._originalForNavigator=xe,ye._matchBounds(Be,xe,!0),ye._matchOpacity(Be,xe),ye._matchCompositeOperation(Be,xe);function et(){ye._matchBounds(Be,xe)}function Ke(){ye._matchOpacity(Be,xe)}function nt(){ye._matchCompositeOperation(Be,xe)}xe.addHandler("bounds-change",et),xe.addHandler("clip-change",et),xe.addHandler("opacity-change",Ke),xe.addHandler("composite-operation-change",nt)}});return Q.Viewer.prototype.addTiledImage.apply(this,[Ee])},destroy:function(){return Q.Viewer.prototype.destroy.apply(this)},_getMatchingItem:function(ge){for(var ye=this.world.getItemCount(),xe,Ee=0;Ee<ye;Ee++)if(xe=this.world.getItemAt(Ee),xe._originalForNavigator===ge)return xe;return null},_matchBounds:function(ge,ye,xe){var Ee=ye.getBoundsNoRotate();ge.setPosition(Ee.getTopLeft(),xe),ge.setWidth(Ee.width,xe),ge.setRotation(ye.getRotation(),xe),ge.setClip(ye.getClip()),ge.setFlip(ye.getFlip())},_matchOpacity:function(ge,ye){ge.setOpacity(ye.opacity)},_matchCompositeOperation:function(ge,ye){ge.setCompositeOperation(ye.compositeOperation)}});function te(ge){var ye={tracker:ge.eventSource,position:ge.position,quick:ge.quick,shift:ge.shift,originalEvent:ge.originalEvent,preventDefaultAction:!1};if(this.viewer.raiseEvent("navigator-click",ye),!ye.preventDefaultAction&&ge.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(ge.position.x=this.viewport.getContainerSize().x-ge.position.x);var xe=this.viewport.pointFromPixel(ge.position);this.panVertical?this.panHorizontal||(xe.x=this.viewer.viewport.getCenter(!0).x):xe.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(xe),this.viewer.viewport.applyConstraints()}}function re(ge){var ye={tracker:ge.eventSource,position:ge.position,delta:ge.delta,speed:ge.speed,direction:ge.direction,shift:ge.shift,originalEvent:ge.originalEvent,preventDefaultAction:!1};this.viewer.raiseEvent("navigator-drag",ye),!ye.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(ge.delta.x=0),this.panVertical||(ge.delta.y=0),this.viewer.viewport.flipped&&(ge.delta.x=-ge.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(ge.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function ae(ge){ge.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function de(ge){var ye={tracker:ge.eventSource,position:ge.position,scroll:ge.scroll,shift:ge.shift,originalEvent:ge.originalEvent,preventDefault:ge.preventDefault};this.viewer.raiseEvent("navigator-scroll",ye),ge.preventDefault=ye.preventDefault}function he(ge,ye){pe(ge,"rotate("+ye+"deg)")}function pe(ge,ye){ge.style.webkitTransform=ye,ge.style.mozTransform=ye,ge.style.msTransform=ye,ge.style.oTransform=ye,ge.style.transform=ye}}(ie),function(Q){var te={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};Q.extend(Q,{getString:function(re){var ae=re.split("."),de=null,he=arguments,pe=te,ge;for(ge=0;ge<ae.length-1;ge++)pe=pe[ae[ge]]||{};return de=pe[ae[ge]],typeof de!="string"&&(Q.console.log("Untranslated source string:",re),de=""),de.replace(/\{\d+\}/g,function(ye){var xe=parseInt(ye.match(/\d+/),10)+1;return xe<he.length?he[xe]:""})},setString:function(re,ae){var de=re.split("."),he=te,pe;for(pe=0;pe<de.length-1;pe++)he[de[pe]]||(he[de[pe]]={}),he=he[de[pe]];he[de[pe]]=ae}})}(ie),function(Q){Q.Point=function(te,re){this.x=typeof te=="number"?te:0,this.y=typeof re=="number"?re:0},Q.Point.prototype={clone:function(){return new Q.Point(this.x,this.y)},plus:function(te){return new Q.Point(this.x+te.x,this.y+te.y)},minus:function(te){return new Q.Point(this.x-te.x,this.y-te.y)},times:function(te){return new Q.Point(this.x*te,this.y*te)},divide:function(te){return new Q.Point(this.x/te,this.y/te)},negate:function(){return new Q.Point(-this.x,-this.y)},distanceTo:function(te){return Math.sqrt(Math.pow(this.x-te.x,2)+Math.pow(this.y-te.y,2))},squaredDistanceTo:function(te){return Math.pow(this.x-te.x,2)+Math.pow(this.y-te.y,2)},apply:function(te){return new Q.Point(te(this.x),te(this.y))},equals:function(te){return te instanceof Q.Point&&this.x===te.x&&this.y===te.y},rotate:function(te,re){re=re||new Q.Point(0,0);var ae,de;if(te%90===0){var he=Q.positiveModulo(te,360);switch(he){case 0:ae=1,de=0;break;case 90:ae=0,de=1;break;case 180:ae=-1,de=0;break;case 270:ae=0,de=-1;break}}else{var pe=te*Math.PI/180;ae=Math.cos(pe),de=Math.sin(pe)}var ge=ae*(this.x-re.x)-de*(this.y-re.y)+re.x,ye=de*(this.x-re.x)+ae*(this.y-re.y)+re.y;return new Q.Point(ge,ye)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(ie),function(Q){Q.TileSource=function(re,ae,de,he,pe,ge){var ye=this,xe=arguments,Ee,De;if(Q.isPlainObject(re)?Ee=re:Ee={width:xe[0],height:xe[1],tileSize:xe[2],tileOverlap:xe[3],minLevel:xe[4],maxLevel:xe[5]},Q.EventSource.call(this),Q.extend(!0,this,Ee),!this.success){for(De=0;De<arguments.length;De++)if(Q.isFunction(arguments[De])){this.success=arguments[De];break}}this.success&&this.addHandler("ready",function(Be){ye.success(Be)}),Q.type(arguments[0])==="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new Q.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=Ee.width&&Ee.height?Ee.width/Ee.height:1,this.dimensions=new Q.Point(Ee.width,Ee.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=Ee.tileOverlap?Ee.tileOverlap:0,this.minLevel=Ee.minLevel?Ee.minLevel:0,this.maxLevel=Ee.maxLevel!==void 0&&Ee.maxLevel!==null?Ee.maxLevel:Ee.width&&Ee.height?Math.ceil(Math.log(Math.max(Ee.width,Ee.height))/Math.log(2)):0,this.success&&Q.isFunction(this.success)&&this.success(this))},Q.TileSource.prototype={getTileSize:function(re){return Q.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(re){return this._tileWidth?this._tileWidth:this.getTileSize(re)},getTileHeight:function(re){return this._tileHeight?this._tileHeight:this.getTileSize(re)},setMaxLevel:function(re){this.maxLevel=re,this._memoizeLevelScale()},getLevelScale:function(re){return this._memoizeLevelScale(),this.getLevelScale(re)},_memoizeLevelScale:function(){var re={},ae;for(ae=0;ae<=this.maxLevel;ae++)re[ae]=1/Math.pow(2,this.maxLevel-ae);this.getLevelScale=function(de){return re[de]}},getNumTiles:function(re){var ae=this.getLevelScale(re),de=Math.ceil(ae*this.dimensions.x/this.getTileWidth(re)),he=Math.ceil(ae*this.dimensions.y/this.getTileHeight(re));return new Q.Point(de,he)},getPixelRatio:function(re){var ae=this.dimensions.times(this.getLevelScale(re)),de=1/ae.x*Q.pixelDensityRatio,he=1/ae.y*Q.pixelDensityRatio;return new Q.Point(de,he)},getClosestLevel:function(){var re,ae;for(re=this.minLevel+1;re<=this.maxLevel&&(ae=this.getNumTiles(re),!(ae.x>1||ae.y>1));re++);return re-1},getTileAtPoint:function(re,ae){var de=ae.x>=0&&ae.x<=1&&ae.y>=0&&ae.y<=1/this.aspectRatio;Q.console.assert(de,"[TileSource.getTileAtPoint] must be called with a valid point.");var he=this.dimensions.x*this.getLevelScale(re),pe=ae.x*he,ge=ae.y*he,ye=Math.floor(pe/this.getTileWidth(re)),xe=Math.floor(ge/this.getTileHeight(re));ae.x>=1&&(ye=this.getNumTiles(re).x-1);var Ee=1e-15;return ae.y>=1/this.aspectRatio-Ee&&(xe=this.getNumTiles(re).y-1),new Q.Point(ye,xe)},getTileBounds:function(re,ae,de,he){var pe=this.dimensions.times(this.getLevelScale(re)),ge=this.getTileWidth(re),ye=this.getTileHeight(re),xe=ae===0?0:ge*ae-this.tileOverlap,Ee=de===0?0:ye*de-this.tileOverlap,De=ge+(ae===0?1:2)*this.tileOverlap,Be=ye+(de===0?1:2)*this.tileOverlap,et=1/pe.x;return De=Math.min(De,pe.x-xe),Be=Math.min(Be,pe.y-Ee),he?new Q.Rect(0,0,De,Be):new Q.Rect(xe*et,Ee*et,De*et,Be*et)},getImageInfo:function(re){var ae=this,de,he,pe,ge,ye,xe,Ee;re&&(ye=re.split("/"),xe=ye[ye.length-1],Ee=xe.lastIndexOf("."),Ee>-1&&(ye[ye.length-1]=xe.slice(0,Ee))),he=function(De){typeof De=="string"&&(De=Q.parseXml(De));var Be=Q.TileSource.determineType(ae,De,re);if(!Be){ae.raiseEvent("open-failed",{message:"Unable to load TileSource",source:re});return}ge=Be.prototype.configure.apply(ae,[De,re]),ge.ajaxWithCredentials===void 0&&(ge.ajaxWithCredentials=ae.ajaxWithCredentials),pe=new Be(ge),ae.ready=!0,ae.raiseEvent("ready",{tileSource:pe})},re.match(/\.js$/)?(de=re.split("/").pop().replace(".js",""),Q.jsonp({url:re,async:!1,callbackName:de,callback:he})):Q.makeAjaxRequest({url:re,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(De){var Be=te(De);he(Be)},error:function(De,Be){var et;try{et="HTTP "+De.status+" attempting to load TileSource"}catch{var Ke;typeof Be>"u"||!Be.toString?Ke="Unknown error":Ke=Be.toString(),et=Ke+" attempting to load TileSource"}ae.raiseEvent("open-failed",{message:et,source:re})}})},supports:function(re,ae){return!1},configure:function(re,ae){throw new Error("Method not implemented.")},getTileUrl:function(re,ae,de){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(re,ae,de){return{}},tileExists:function(re,ae,de){var he=this.getNumTiles(re);return re>=this.minLevel&&re<=this.maxLevel&&ae>=0&&de>=0&&ae<he.x&&de<he.y}},Q.extend(!0,Q.TileSource.prototype,Q.EventSource.prototype);function te(re){var ae=re.responseText,de=re.status,he,pe;if(re){if(re.status!==200&&re.status!==0)throw de=re.status,he=de===404?"Not Found":re.statusText,new Error(Q.getString("Errors.Status",de,he))}else throw new Error(Q.getString("Errors.Security"));if(ae.match(/\s*<.*/))try{pe=re.responseXML&&re.responseXML.documentElement?re.responseXML:Q.parseXml(ae)}catch{pe=re.responseText}else if(ae.match(/\s*[{[].*/))try{pe=Q.parseJSON(ae)}catch{pe=ae}else pe=ae;return pe}Q.TileSource.determineType=function(re,ae,de){var he;for(he in ie)if(he.match(/.+TileSource$/)&&Q.isFunction(ie[he])&&Q.isFunction(ie[he].prototype.supports)&&ie[he].prototype.supports.call(re,ae,de))return ie[he];return Q.console.error("No TileSource was able to open %s %s",de,ae),null}}(ie),function(Q){Q.DziTileSource=function(ae,de,he,pe,ge,ye,xe,Ee,De){var Be,et,Ke,nt;if(Q.isPlainObject(ae)?nt=ae:nt={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=nt.tilesUrl,this.fileFormat=nt.fileFormat,this.displayRects=nt.displayRects,this.displayRects)for(Be=this.displayRects.length-1;Be>=0;Be--)for(et=this.displayRects[Be],Ke=et.minLevel;Ke<=et.maxLevel;Ke++)this._levelRects[Ke]||(this._levelRects[Ke]=[]),this._levelRects[Ke].push(et);Q.TileSource.apply(this,[nt])},Q.extend(Q.DziTileSource.prototype,Q.TileSource.prototype,{supports:function(ae,de){var he;return ae.Image?he=ae.Image.xmlns:ae.documentElement&&(ae.documentElement.localName==="Image"||ae.documentElement.tagName==="Image")&&(he=ae.documentElement.namespaceURI),he=(he||"").toLowerCase(),he.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||he.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(ae,de){var he;return Q.isPlainObject(ae)?he=re(this,ae):he=te(this,ae),de&&!he.tilesUrl&&(he.tilesUrl=de.replace(/([^/]+?)(\.(dzi|xml|js)?(\?[^/]*)?)?\/?$/,"$1_files/"),de.search(/\.(dzi|xml|js)\?/)!==-1?he.queryParams=de.match(/\?.*/):he.queryParams=""),he},getTileUrl:function(ae,de,he){return[this.tilesUrl,ae,"/",de,"_",he,".",this.fileFormat,this.queryParams].join("")},tileExists:function(ae,de,he){var pe=this._levelRects[ae],ge,ye,xe,Ee,De,Be,et;if(this.minLevel&&ae<this.minLevel||this.maxLevel&&ae>this.maxLevel)return!1;if(!pe||!pe.length)return!0;for(et=pe.length-1;et>=0;et--)if(ge=pe[et],!(ae<ge.minLevel||ae>ge.maxLevel)&&(ye=this.getLevelScale(ae),xe=ge.x*ye,Ee=ge.y*ye,De=xe+ge.width*ye,Be=Ee+ge.height*ye,xe=Math.floor(xe/this._tileWidth),Ee=Math.floor(Ee/this._tileWidth),De=Math.ceil(De/this._tileWidth),Be=Math.ceil(Be/this._tileWidth),xe<=de&&de<De&&Ee<=he&&he<Be))return!0;return!1}});function te(ae,de){if(!de||!de.documentElement)throw new Error(Q.getString("Errors.Xml"));var he=de.documentElement,pe=he.localName||he.tagName,ge=de.documentElement.namespaceURI,ye=null,xe=[],Ee,De,Be,et,Ke;if(pe==="Image")try{if(et=he.getElementsByTagName("Size")[0],et===void 0&&(et=he.getElementsByTagNameNS(ge,"Size")[0]),ye={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:he.getAttribute("Url"),Format:he.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(he.getAttribute("Overlap"),10),TileSize:parseInt(he.getAttribute("TileSize"),10),Size:{Height:parseInt(et.getAttribute("Height"),10),Width:parseInt(et.getAttribute("Width"),10)}}},!Q.imageFormatSupported(ye.Image.Format))throw new Error(Q.getString("Errors.ImageFormat",ye.Image.Format.toUpperCase()));for(Ee=he.getElementsByTagName("DisplayRect"),Ee===void 0&&(Ee=he.getElementsByTagNameNS(ge,"DisplayRect")[0]),Ke=0;Ke<Ee.length;Ke++)De=Ee[Ke],Be=De.getElementsByTagName("Rect")[0],Be===void 0&&(Be=De.getElementsByTagNameNS(ge,"Rect")[0]),xe.push({Rect:{X:parseInt(Be.getAttribute("X"),10),Y:parseInt(Be.getAttribute("Y"),10),Width:parseInt(Be.getAttribute("Width"),10),Height:parseInt(Be.getAttribute("Height"),10),MinLevel:parseInt(De.getAttribute("MinLevel"),10),MaxLevel:parseInt(De.getAttribute("MaxLevel"),10)}});return xe.length&&(ye.Image.DisplayRect=xe),re(ae,ye)}catch(Ye){throw Ye instanceof Error?Ye:new Error(Q.getString("Errors.Dzi"))}else{if(pe==="Collection")throw new Error(Q.getString("Errors.Dzc"));if(pe==="Error"){var nt=he.getElementsByTagName("Message")[0],Ce=nt.firstChild.nodeValue;throw new Error(Ce)}}throw new Error(Q.getString("Errors.Dzi"))}function re(ae,de){var he=de.Image,pe=he.Url,ge=he.Format,ye=he.Size,xe=he.DisplayRect||[],Ee=parseInt(ye.Width,10),De=parseInt(ye.Height,10),Be=parseInt(he.TileSize,10),et=parseInt(he.Overlap,10),Ke=[],nt,Ce;for(Ce=0;Ce<xe.length;Ce++)nt=xe[Ce].Rect,Ke.push(new Q.DisplayRect(parseInt(nt.X,10),parseInt(nt.Y,10),parseInt(nt.Width,10),parseInt(nt.Height,10),parseInt(nt.MinLevel,10),parseInt(nt.MaxLevel,10)));return Q.extend(!0,{width:Ee,height:De,tileSize:Be,tileOverlap:et,minLevel:null,maxLevel:null,tilesUrl:pe,fileFormat:ge,displayRects:Ke},de)}}(ie),function(Q){Q.IIIFTileSource=function(he){if(Q.extend(!0,this,he),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(he.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=he.version,this.tile_width&&this.tile_height)he.tileWidth=this.tile_width,he.tileHeight=this.tile_height;else if(this.tile_width)he.tileSize=this.tile_width;else if(this.tile_height)he.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length===1)he.tileWidth=this.tiles[0].width,he.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var pe=0;pe<this.tiles.length;pe++)for(var ge=0;ge<this.tiles[pe].scaleFactors.length;ge++){var ye=this.tiles[pe].scaleFactors[ge];this.scale_factors.push(ye),he.tileSizePerScaleFactor[ye]={width:this.tiles[pe].width,height:this.tiles[pe].height||this.tiles[pe].width}}}else if(te(he)){for(var xe=Math.min(this.height,this.width),Ee=[256,512,1024],De=[],Be=0;Be<Ee.length;Be++)Ee[Be]<=xe&&De.push(Ee[Be]);De.length>0?he.tileSize=Math.max.apply(null,De):he.tileSize=xe}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,he.levels=re(this),Q.extend(!0,he,{width:he.levels[he.levels.length-1].width,height:he.levels[he.levels.length-1].height,tileSize:Math.max(he.height,he.width),tileOverlap:0,minLevel:0,maxLevel:he.levels.length-1}),this.levels=he.levels):Q.console.error("Nothing in the info.json to construct image pyramids from");if(!he.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)he.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var et=Math.max.apply(null,this.scale_factors);he.maxLevel=Math.round(Math.log(et)*Math.LOG2E)}Q.TileSource.apply(this,[he])},Q.extend(Q.IIIFTileSource.prototype,Q.TileSource.prototype,{supports:function(he,pe){return he.protocol&&he.protocol==="http://iiif.io/api/image"||he["@context"]&&(he["@context"]==="http://library.stanford.edu/iiif/image-api/1.1/context.json"||he["@context"]==="http://iiif.io/api/image/1/context.json")||he.profile&&he.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||he.identifier&&he.width&&he.height?!0:!!(he.documentElement&&he.documentElement.tagName==="info"&&he.documentElement.namespaceURI==="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(he,pe){if(Q.isPlainObject(he)){if(!he["@context"])he["@context"]="http://iiif.io/api/image/1.0/context.json",he["@id"]=pe.replace("/info.json",""),he.version=1;else{var ge=he["@context"];if(Array.isArray(ge)){for(var ye=0;ye<ge.length;ye++)if(typeof ge[ye]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(ge[ye])||ge[ye]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){ge=ge[ye];break}}switch(ge){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":he.version=1;break;case"http://iiif.io/api/image/2/context.json":he.version=2;break;case"http://iiif.io/api/image/3/context.json":he.version=3;break;default:Q.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!he["@id"]&&he.id&&(he["@id"]=he.id),he.preferredFormats){for(var xe=0;xe<he.preferredFormats.length;xe++)if(ie.imageFormatSupported(he.preferredFormats[xe])){he.tileFormat=he.preferredFormats[xe];break}}return he}else{var Ee=ae(he);return Ee["@context"]="http://iiif.io/api/image/1.0/context.json",Ee["@id"]=pe.replace("/info.xml",""),Ee.version=1,Ee}},getTileWidth:function(he){if(this.emulateLegacyImagePyramid)return Q.TileSource.prototype.getTileWidth.call(this,he);var pe=Math.pow(2,this.maxLevel-he);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[pe]?this.tileSizePerScaleFactor[pe].width:this._tileWidth},getTileHeight:function(he){if(this.emulateLegacyImagePyramid)return Q.TileSource.prototype.getTileHeight.call(this,he);var pe=Math.pow(2,this.maxLevel-he);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[pe]?this.tileSizePerScaleFactor[pe].height:this._tileHeight},getLevelScale:function(he){if(this.emulateLegacyImagePyramid){var pe=NaN;return this.levels.length>0&&he>=this.minLevel&&he<=this.maxLevel&&(pe=this.levels[he].width/this.levels[this.maxLevel].width),pe}return Q.TileSource.prototype.getLevelScale.call(this,he)},getNumTiles:function(he){if(this.emulateLegacyImagePyramid){var pe=this.getLevelScale(he);return pe?new Q.Point(1,1):new Q.Point(0,0)}return Q.TileSource.prototype.getNumTiles.call(this,he)},getTileAtPoint:function(he,pe){return this.emulateLegacyImagePyramid?new Q.Point(0,0):Q.TileSource.prototype.getTileAtPoint.call(this,he,pe)},getTileUrl:function(he,pe,ge){if(this.emulateLegacyImagePyramid){var ye=null;return this.levels.length>0&&he>=this.minLevel&&he<=this.maxLevel&&(ye=this.levels[he].url),ye}var xe="0",Ee=Math.pow(.5,this.maxLevel-he),De=Math.ceil(this.width*Ee),Be=Math.ceil(this.height*Ee),et,Ke,nt,Ce,Ye,ct,ut,ft,gt,Mt,Ht,Yt,tn,Zt;return et=this.getTileWidth(he),Ke=this.getTileHeight(he),nt=Math.ceil(et/Ee),Ce=Math.ceil(Ke/Ee),this.version===1?tn="native."+this.tileFormat:tn="default."+this.tileFormat,De<et&&Be<Ke?(this.version===2&&De===this.width?Mt="full":this.version===3&&De===this.width&&Be===this.height?Mt="max":this.version===3?Mt=De+","+Be:Mt=De+",",Ye="full"):(ct=pe*nt,ut=ge*Ce,ft=Math.min(nt,this.width-ct),gt=Math.min(Ce,this.height-ut),pe===0&&ge===0&&ft===this.width&&gt===this.height?Ye="full":Ye=[ct,ut,ft,gt].join(","),Ht=Math.ceil(ft*Ee),Yt=Math.ceil(gt*Ee),this.version===2&&Ht===this.width?Mt="full":this.version===3&&Ht===this.width&&Yt===this.height?Mt="max":this.version===3?Mt=Ht+","+Yt:Mt=Ht+","),Zt=[this["@id"],Ye,Mt,xe,tn].join("/"),Zt},__testonly__:{canBeTiled:te,constructLevels:re}});function te(he){var pe=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],ge=Array.isArray(he.profile)?he.profile[0]:he.profile,ye=pe.indexOf(ge)!==-1,xe=!1;return he.version===2&&he.profile.length>1&&he.profile[1].supports&&(xe=he.profile[1].supports.indexOf("sizeByW")!==-1),he.version===3&&he.extraFeatures&&(xe=he.extraFeatures.indexOf("sizeByWh")!==-1),!ye||xe}function re(he){for(var pe=[],ge=0;ge<he.sizes.length;ge++)pe.push({url:he["@id"]+"/full/"+he.sizes[ge].width+","+(he.version===3?he.sizes[ge].height:"")+"/0/default."+he.tileFormat,width:he.sizes[ge].width,height:he.sizes[ge].height});return pe.sort(function(ye,xe){return ye.width-xe.width})}function ae(he){if(!he||!he.documentElement)throw new Error(Q.getString("Errors.Xml"));var pe=he.documentElement,ge=pe.tagName,ye=null;if(ge==="info")try{return ye={},de(pe,ye),ye}catch(xe){throw xe instanceof Error?xe:new Error(Q.getString("Errors.IIIF"))}throw new Error(Q.getString("Errors.IIIF"))}function de(he,pe,ge){var ye,xe;if(he.nodeType===3&&ge)xe=he.nodeValue.trim(),xe.match(/^\d*$/)&&(xe=Number(xe)),pe[ge]?(Q.isArray(pe[ge])||(pe[ge]=[pe[ge]]),pe[ge].push(xe)):pe[ge]=xe;else if(he.nodeType===1)for(ye=0;ye<he.childNodes.length;ye++)de(he.childNodes[ye],pe,he.nodeName)}}(ie),function(Q){Q.OsmTileSource=function(te,re,ae,de,he){var pe;Q.isPlainObject(te)?pe=te:pe={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!pe.width||!pe.height)&&(pe.width=65572864,pe.height=65572864),pe.tileSize||(pe.tileSize=256,pe.tileOverlap=0),pe.tilesUrl||(pe.tilesUrl="http://tile.openstreetmap.org/"),pe.minLevel=8,Q.TileSource.apply(this,[pe])},Q.extend(Q.OsmTileSource.prototype,Q.TileSource.prototype,{supports:function(te,re){return te.type&&te.type==="openstreetmaps"},configure:function(te,re){return te},getTileUrl:function(te,re,ae){return this.tilesUrl+(te-8)+"/"+re+"/"+ae+".png"}})}(ie),function(Q){Q.TmsTileSource=function(te,re,ae,de,he){var pe;Q.isPlainObject(te)?pe=te:pe={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var ge=Math.ceil(pe.width/256)*256,ye=Math.ceil(pe.height/256)*256,xe;ge>ye?xe=ge/256:xe=ye/256,pe.maxLevel=Math.ceil(Math.log(xe)/Math.log(2))-1,pe.tileSize=256,pe.width=ge,pe.height=ye,Q.TileSource.apply(this,[pe])},Q.extend(Q.TmsTileSource.prototype,Q.TileSource.prototype,{supports:function(te,re){return te.type&&te.type==="tiledmapservice"},configure:function(te,re){return te},getTileUrl:function(te,re,ae){var de=this.getNumTiles(te).y-1;return this.tilesUrl+te+"/"+re+"/"+(de-ae)+".png"}})}(ie),function(Q){Q.ZoomifyTileSource=function(te){typeof te.tileSize>"u"&&(te.tileSize=256),typeof te.fileFormat>"u"&&(te.fileFormat="jpg",this.fileFormat=te.fileFormat);var re={x:te.width,y:te.height};for(te.imageSizes=[{x:te.width,y:te.height}],te.gridSize=[this._getGridSize(te.width,te.height,te.tileSize)];parseInt(re.x,10)>te.tileSize||parseInt(re.y,10)>te.tileSize;)re.x=Math.floor(re.x/2),re.y=Math.floor(re.y/2),te.imageSizes.push({x:re.x,y:re.y}),te.gridSize.push(this._getGridSize(re.x,re.y,te.tileSize));te.imageSizes.reverse(),te.gridSize.reverse(),te.minLevel=0,te.maxLevel=te.gridSize.length-1,ie.TileSource.apply(this,[te])},Q.extend(Q.ZoomifyTileSource.prototype,Q.TileSource.prototype,{_getGridSize:function(te,re,ae){return{x:Math.ceil(te/ae),y:Math.ceil(re/ae)}},_calculateAbsoluteTileNumber:function(te,re,ae){for(var de=0,he={},pe=0;pe<te;pe++)he=this.gridSize[pe],de+=he.x*he.y;return he=this.gridSize[te],de+=he.x*ae+re,de},supports:function(te,re){return te.type&&te.type==="zoomifytileservice"},configure:function(te,re){return te},getTileUrl:function(te,re,ae){var de=0,he=this._calculateAbsoluteTileNumber(te,re,ae);return de=Math.floor(he/256),this.tilesUrl+"TileGroup"+de+"/"+te+"-"+re+"-"+ae+"."+this.fileFormat}})}(ie),function(Q){Q.LegacyTileSource=function(de){var he,pe,ge;Q.isArray(de)&&(he={type:"legacy-image-pyramid",levels:de}),he.levels=te(he.levels),he.levels.length>0?(pe=he.levels[he.levels.length-1].width,ge=he.levels[he.levels.length-1].height):(pe=0,ge=0,Q.console.error("No supported image formats found")),Q.extend(!0,he,{width:pe,height:ge,tileSize:Math.max(ge,pe),tileOverlap:0,minLevel:0,maxLevel:he.levels.length>0?he.levels.length-1:0}),Q.TileSource.apply(this,[he]),this.levels=he.levels},Q.extend(Q.LegacyTileSource.prototype,Q.TileSource.prototype,{supports:function(de,he){return de.type&&de.type==="legacy-image-pyramid"||de.documentElement&&de.documentElement.getAttribute("type")==="legacy-image-pyramid"},configure:function(de,he){var pe;return Q.isPlainObject(de)?pe=ae(this,de):pe=re(this,de),pe},getLevelScale:function(de){var he=NaN;return this.levels.length>0&&de>=this.minLevel&&de<=this.maxLevel&&(he=this.levels[de].width/this.levels[this.maxLevel].width),he},getNumTiles:function(de){var he=this.getLevelScale(de);return he?new Q.Point(1,1):new Q.Point(0,0)},getTileUrl:function(de,he,pe){var ge=null;return this.levels.length>0&&de>=this.minLevel&&de<=this.maxLevel&&(ge=this.levels[de].url),ge}});function te(de){var he=[],pe,ge;for(ge=0;ge<de.length;ge++)pe=de[ge],pe.height&&pe.width&&pe.url?he.push({url:pe.url,width:Number(pe.width),height:Number(pe.height)}):Q.console.error("Unsupported image format: %s",pe.url?pe.url:"<no URL>");return he.sort(function(ye,xe){return ye.height-xe.height})}function re(de,he){if(!he||!he.documentElement)throw new Error(Q.getString("Errors.Xml"));var pe=he.documentElement,ge=pe.tagName,ye=null,xe=[],Ee,De;if(ge==="image")try{for(ye={type:pe.getAttribute("type"),levels:[]},xe=pe.getElementsByTagName("level"),De=0;De<xe.length;De++)Ee=xe[De],ye.levels.push({url:Ee.getAttribute("url"),width:parseInt(Ee.getAttribute("width"),10),height:parseInt(Ee.getAttribute("height"),10)});return ae(de,ye)}catch(Be){throw Be instanceof Error?Be:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(ge==="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(ge==="error")throw new Error("Error: "+he)}throw new Error("Unknown element "+ge)}function ae(de,he){return he.levels}}(ie),function(Q){Q.ImageTileSource=function(te){te=Q.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},te),Q.TileSource.apply(this,[te])},Q.extend(Q.ImageTileSource.prototype,Q.TileSource.prototype,{supports:function(te,re){return te.type&&te.type==="image"},configure:function(te,re){return te},getImageInfo:function(te){var re=this._image=new Image,ae=this;this.crossOriginPolicy&&(re.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(re.useCredentials=this.ajaxWithCredentials),Q.addEvent(re,"load",function(){ae.width=re.naturalWidth,ae.height=re.naturalHeight,ae.aspectRatio=ae.width/ae.height,ae.dimensions=new Q.Point(ae.width,ae.height),ae._tileWidth=ae.width,ae._tileHeight=ae.height,ae.tileOverlap=0,ae.minLevel=0,ae.levels=ae._buildLevels(),ae.maxLevel=ae.levels.length-1,ae.ready=!0,ae.raiseEvent("ready",{tileSource:ae})}),Q.addEvent(re,"error",function(){ae.raiseEvent("open-failed",{message:"Error loading image at "+te,source:te})}),re.src=te},getLevelScale:function(te){var re=NaN;return te>=this.minLevel&&te<=this.maxLevel&&(re=this.levels[te].width/this.levels[this.maxLevel].width),re},getNumTiles:function(te){var re=this.getLevelScale(te);return re?new Q.Point(1,1):new Q.Point(0,0)},getTileUrl:function(te,re,ae){var de=null;return te>=this.minLevel&&te<=this.maxLevel&&(de=this.levels[te].url),de},getContext2D:function(te,re,ae){var de=null;return te>=this.minLevel&&te<=this.maxLevel&&(de=this.levels[te].context2D),de},destroy:function(){this._freeupCanvasMemory()},_buildLevels:function(){var te=[{url:this._image.src,width:this._image.naturalWidth,height:this._image.naturalHeight}];if(!this.buildPyramid||!Q.supportsCanvas||!this.useCanvas)return delete this._image,te;var re=this._image.naturalWidth,ae=this._image.naturalHeight,de=document.createElement("canvas"),he=de.getContext("2d");if(de.width=re,de.height=ae,he.drawImage(this._image,0,0,re,ae),te[0].context2D=he,delete this._image,Q.isCanvasTainted(de))return te;for(;re>=2&&ae>=2;){re=Math.floor(re/2),ae=Math.floor(ae/2);var pe=document.createElement("canvas"),ge=pe.getContext("2d");pe.width=re,pe.height=ae,ge.drawImage(de,0,0,re,ae),te.splice(0,0,{context2D:ge,width:re,height:ae}),de=pe,he=ge}return te},_freeupCanvasMemory:function(){for(var te=0;te<this.levels.length;te++)this.levels[te].context2D.canvas.height=0,this.levels[te].context2D.canvas.width=0}})}(ie),function(Q){Q.TileSourceCollection=function(te,re,ae,de){Q.console.error("TileSourceCollection is deprecated; use World instead")}}(ie),function(Q){Q.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},Q.Button=function(ge){var ye=this;Q.EventSource.call(this),Q.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:Q.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:Q.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null,userData:null},ge),this.element=ge.element||Q.makeNeutralElement("div"),ge.element||(this.imgRest=Q.makeTransparentImage(this.srcRest),this.imgGroup=Q.makeTransparentImage(this.srcGroup),this.imgHover=Q.makeTransparentImage(this.srcHover),this.imgDown=Q.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,Q.setElementPointerEventsNone(this.imgRest),Q.setElementPointerEventsNone(this.imgGroup),Q.setElementPointerEventsNone(this.imgHover),Q.setElementPointerEventsNone(this.imgDown),this.element.style.position="relative",Q.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",Q.Browser.vendor===Q.BROWSERS.FIREFOX&&Q.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=Q.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new Q.MouseTracker({userData:"Button.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(xe){xe.insideElementPressed?(he(ye,Q.ButtonState.DOWN),ye.raiseEvent("enter",{originalEvent:xe.originalEvent})):xe.buttonDownAny||he(ye,Q.ButtonState.HOVER)},focusHandler:function(xe){ye.tracker.enterHandler(xe),ye.raiseEvent("focus",{originalEvent:xe.originalEvent})},leaveHandler:function(xe){pe(ye,Q.ButtonState.GROUP),xe.insideElementPressed&&ye.raiseEvent("exit",{originalEvent:xe.originalEvent})},blurHandler:function(xe){ye.tracker.leaveHandler(xe),ye.raiseEvent("blur",{originalEvent:xe.originalEvent})},pressHandler:function(xe){he(ye,Q.ButtonState.DOWN),ye.raiseEvent("press",{originalEvent:xe.originalEvent})},releaseHandler:function(xe){xe.insideElementPressed&&xe.insideElementReleased?(pe(ye,Q.ButtonState.HOVER),ye.raiseEvent("release",{originalEvent:xe.originalEvent})):xe.insideElementPressed?pe(ye,Q.ButtonState.GROUP):he(ye,Q.ButtonState.HOVER)},clickHandler:function(xe){xe.quick&&ye.raiseEvent("click",{originalEvent:xe.originalEvent})},keyHandler:function(xe){xe.keyCode===13?(ye.raiseEvent("click",{originalEvent:xe.originalEvent}),ye.raiseEvent("release",{originalEvent:xe.originalEvent}),xe.preventDefault=!0):xe.preventDefault=!1}}),pe(this,Q.ButtonState.REST)},Q.extend(Q.Button.prototype,Q.EventSource.prototype,{notifyGroupEnter:function(){he(this,Q.ButtonState.GROUP)},notifyGroupExit:function(){pe(this,Q.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,Q.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,Q.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()},destroy:function(){this.imgRest&&(this.element.removeChild(this.imgRest),this.imgRest=null),this.imgGroup&&(this.element.removeChild(this.imgGroup),this.imgGroup=null),this.imgHover&&(this.element.removeChild(this.imgHover),this.imgHover=null),this.imgDown&&(this.element.removeChild(this.imgDown),this.imgDown=null),this.removeAllHandlers(),this.tracker.destroy(),this.element=null}});function te(ge){Q.requestAnimationFrame(function(){re(ge)})}function re(ge){var ye,xe,Ee;ge.shouldFade&&(ye=Q.now(),xe=ye-ge.fadeBeginTime,Ee=1-xe/ge.fadeLength,Ee=Math.min(1,Ee),Ee=Math.max(0,Ee),ge.imgGroup&&Q.setElementOpacity(ge.imgGroup,Ee,!0),Ee>0&&te(ge))}function ae(ge){ge.shouldFade=!0,ge.fadeBeginTime=Q.now()+ge.fadeDelay,window.setTimeout(function(){te(ge)},ge.fadeDelay)}function de(ge){ge.shouldFade=!1,ge.imgGroup&&Q.setElementOpacity(ge.imgGroup,1,!0)}function he(ge,ye){ge.element.disabled||(ye>=Q.ButtonState.GROUP&&ge.currentState===Q.ButtonState.REST&&(de(ge),ge.currentState=Q.ButtonState.GROUP),ye>=Q.ButtonState.HOVER&&ge.currentState===Q.ButtonState.GROUP&&(ge.imgHover&&(ge.imgHover.style.visibility=""),ge.currentState=Q.ButtonState.HOVER),ye>=Q.ButtonState.DOWN&&ge.currentState===Q.ButtonState.HOVER&&(ge.imgDown&&(ge.imgDown.style.visibility=""),ge.currentState=Q.ButtonState.DOWN))}function pe(ge,ye){ge.element.disabled||(ye<=Q.ButtonState.HOVER&&ge.currentState===Q.ButtonState.DOWN&&(ge.imgDown&&(ge.imgDown.style.visibility="hidden"),ge.currentState=Q.ButtonState.HOVER),ye<=Q.ButtonState.GROUP&&ge.currentState===Q.ButtonState.HOVER&&(ge.imgHover&&(ge.imgHover.style.visibility="hidden"),ge.currentState=Q.ButtonState.GROUP),ye<=Q.ButtonState.REST&&ge.currentState===Q.ButtonState.GROUP&&(ae(ge),ge.currentState=Q.ButtonState.REST))}}(ie),function(Q){Q.ButtonGroup=function(te){Q.extend(!0,this,{buttons:[],clickTimeThreshold:Q.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:Q.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},te);var re=this.buttons.concat([]),ae=this,de;if(this.element=te.element||Q.makeNeutralElement("div"),!te.group)for(this.element.style.display="inline-block",de=0;de<re.length;de++)this.element.appendChild(re[de].element);Q.setElementTouchActionNone(this.element),this.tracker=new Q.MouseTracker({userData:"ButtonGroup.tracker",element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(he){var pe;for(pe=0;pe<ae.buttons.length;pe++)ae.buttons[pe].notifyGroupEnter()},leaveHandler:function(he){var pe;if(!he.insideElementPressed)for(pe=0;pe<ae.buttons.length;pe++)ae.buttons[pe].notifyGroupExit()}})},Q.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateLeave:function(){this.tracker.leaveHandler({eventSource:this.tracker})},destroy:function(){for(;this.buttons.length;){var te=this.buttons.pop();this.element.removeChild(te.element),te.destroy()}this.tracker.destroy(),this.element=null}}}(ie),function(Q){Q.Rect=function(te,re,ae,de,he){this.x=typeof te=="number"?te:0,this.y=typeof re=="number"?re:0,this.width=typeof ae=="number"?ae:0,this.height=typeof de=="number"?de:0,this.degrees=typeof he=="number"?he:0,this.degrees=Q.positiveModulo(this.degrees,360);var pe,ge;this.degrees>=270?(pe=this.getTopRight(),this.x=pe.x,this.y=pe.y,ge=this.height,this.height=this.width,this.width=ge,this.degrees-=270):this.degrees>=180?(pe=this.getBottomRight(),this.x=pe.x,this.y=pe.y,this.degrees-=180):this.degrees>=90&&(pe=this.getBottomLeft(),this.x=pe.x,this.y=pe.y,ge=this.height,this.height=this.width,this.width=ge,this.degrees-=90)},Q.Rect.fromSummits=function(te,re,ae){var de=te.distanceTo(re),he=te.distanceTo(ae),pe=re.minus(te),ge=Math.atan(pe.y/pe.x);return pe.x<0?ge+=Math.PI:pe.y<0&&(ge+=2*Math.PI),new Q.Rect(te.x,te.y,de,he,ge/Math.PI*180)},Q.Rect.prototype={clone:function(){return new Q.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new Q.Point(this.x,this.y)},getBottomRight:function(){return new Q.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new Q.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new Q.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new Q.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new Q.Point(this.width,this.height)},equals:function(te){return te instanceof Q.Rect&&this.x===te.x&&this.y===te.y&&this.width===te.width&&this.height===te.height&&this.degrees===te.degrees},times:function(te){return new Q.Rect(this.x*te,this.y*te,this.width*te,this.height*te,this.degrees)},translate:function(te){return new Q.Rect(this.x+te.x,this.y+te.y,this.width,this.height,this.degrees)},union:function(te){var re=this.getBoundingBox(),ae=te.getBoundingBox(),de=Math.min(re.x,ae.x),he=Math.min(re.y,ae.y),pe=Math.max(re.x+re.width,ae.x+ae.width),ge=Math.max(re.y+re.height,ae.y+ae.height);return new Q.Rect(de,he,pe-de,ge-he)},intersection:function(te){var re=1e-10,ae=[],de=this.getTopLeft();te.containsPoint(de,re)&&ae.push(de);var he=this.getTopRight();te.containsPoint(he,re)&&ae.push(he);var pe=this.getBottomLeft();te.containsPoint(pe,re)&&ae.push(pe);var ge=this.getBottomRight();te.containsPoint(ge,re)&&ae.push(ge);var ye=te.getTopLeft();this.containsPoint(ye,re)&&ae.push(ye);var xe=te.getTopRight();this.containsPoint(xe,re)&&ae.push(xe);var Ee=te.getBottomLeft();this.containsPoint(Ee,re)&&ae.push(Ee);var De=te.getBottomRight();this.containsPoint(De,re)&&ae.push(De);for(var Be=this._getSegments(),et=te._getSegments(),Ke=0;Ke<Be.length;Ke++)for(var nt=Be[Ke],Ce=0;Ce<et.length;Ce++){var Ye=et[Ce],ct=ut(nt[0],nt[1],Ye[0],Ye[1]);ct&&ae.push(ct)}function ut(Zt,dn,ln,bn){var yn=dn.minus(Zt),xn=bn.minus(ln),Pn=-xn.x*yn.y+yn.x*xn.y;if(Pn===0)return null;var Nn=(yn.x*(Zt.y-ln.y)-yn.y*(Zt.x-ln.x))/Pn,Jt=(xn.x*(Zt.y-ln.y)-xn.y*(Zt.x-ln.x))/Pn;return-re<=Nn&&Nn<=1-re&&-re<=Jt&&Jt<=1-re?new Q.Point(Zt.x+Jt*yn.x,Zt.y+Jt*yn.y):null}if(ae.length===0)return null;for(var ft=ae[0].x,gt=ae[0].x,Mt=ae[0].y,Ht=ae[0].y,Yt=1;Yt<ae.length;Yt++){var tn=ae[Yt];tn.x<ft&&(ft=tn.x),tn.x>gt&&(gt=tn.x),tn.y<Mt&&(Mt=tn.y),tn.y>Ht&&(Ht=tn.y)}return new Q.Rect(ft,Mt,gt-ft,Ht-Mt)},_getSegments:function(){var te=this.getTopLeft(),re=this.getTopRight(),ae=this.getBottomLeft(),de=this.getBottomRight();return[[te,re],[re,de],[de,ae],[ae,te]]},rotate:function(te,re){if(te=Q.positiveModulo(te,360),te===0)return this.clone();re=re||this.getCenter();var ae=this.getTopLeft().rotate(te,re),de=this.getTopRight().rotate(te,re),he=de.minus(ae);he=he.apply(function(ge){var ye=1e-15;return Math.abs(ge)<ye?0:ge});var pe=Math.atan(he.y/he.x);return he.x<0?pe+=Math.PI:he.y<0&&(pe+=2*Math.PI),new Q.Rect(ae.x,ae.y,this.width,this.height,pe/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var te=this.getTopLeft(),re=this.getTopRight(),ae=this.getBottomLeft(),de=this.getBottomRight(),he=Math.min(te.x,re.x,ae.x,de.x),pe=Math.max(te.x,re.x,ae.x,de.x),ge=Math.min(te.y,re.y,ae.y,de.y),ye=Math.max(te.y,re.y,ae.y,de.y);return new Q.Rect(he,ge,pe-he,ye-ge)},getIntegerBoundingBox:function(){var te=this.getBoundingBox(),re=Math.floor(te.x),ae=Math.floor(te.y),de=Math.ceil(te.width+te.x-re),he=Math.ceil(te.height+te.y-ae);return new Q.Rect(re,ae,de,he)},containsPoint:function(te,re){re=re||0;var ae=this.getTopLeft(),de=this.getTopRight(),he=this.getBottomLeft(),pe=de.minus(ae),ge=he.minus(ae);return(te.x-ae.x)*pe.x+(te.y-ae.y)*pe.y>=-re&&(te.x-de.x)*pe.x+(te.y-de.y)*pe.y<=re&&(te.x-ae.x)*ge.x+(te.y-ae.y)*ge.y>=-re&&(te.x-he.x)*ge.x+(te.y-he.y)*ge.y<=re},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(ie),function(Q){var te={};Q.ReferenceStrip=function(Ee){var De=this,Be=Ee.viewer,et=Q.getElementSize(Be.element),Ke,nt,Ce;for(Ee.id||(Ee.id="referencestrip-"+Q.now(),this.element=Q.makeNeutralElement("div"),this.element.id=Ee.id,this.element.className="referencestrip"),Ee=Q.extend(!0,{sizeRatio:Q.DEFAULT_SETTINGS.referenceStripSizeRatio,position:Q.DEFAULT_SETTINGS.referenceStripPosition,scroll:Q.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:Q.DEFAULT_SETTINGS.clickTimeThreshold},Ee,{element:this.element}),Q.extend(this,Ee),te[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,this.element.tabIndex=0,nt=this.element.style,nt.marginTop="0px",nt.marginRight="0px",nt.marginBottom="0px",nt.marginLeft="0px",nt.left="0px",nt.bottom="0px",nt.border="0px",nt.background="#000",nt.position="relative",Q.setElementTouchActionNone(this.element),Q.setElementOpacity(this.element,.8),this.viewer=Be,this.tracker=new Q.MouseTracker({userData:"ReferenceStrip.tracker",element:this.element,clickHandler:Q.delegate(this,re),dragHandler:Q.delegate(this,ae),scrollHandler:Q.delegate(this,de),enterHandler:Q.delegate(this,pe),leaveHandler:Q.delegate(this,ge),keyDownHandler:Q.delegate(this,ye),keyHandler:Q.delegate(this,xe),preProcessEventHandler:function(Ye){Ye.eventType==="wheel"&&(Ye.preventDefault=!0)}}),Ee.width&&Ee.height?(this.element.style.width=Ee.width+"px",this.element.style.height=Ee.height+"px",Be.addControl(this.element,{anchor:Q.ControlAnchor.BOTTOM_LEFT})):Ee.scroll==="horizontal"?(this.element.style.width=et.x*Ee.sizeRatio*Be.tileSources.length+12*Be.tileSources.length+"px",this.element.style.height=et.y*Ee.sizeRatio+"px",Be.addControl(this.element,{anchor:Q.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=et.y*Ee.sizeRatio*Be.tileSources.length+12*Be.tileSources.length+"px",this.element.style.width=et.x*Ee.sizeRatio+"px",Be.addControl(this.element,{anchor:Q.ControlAnchor.TOP_LEFT})),this.panelWidth=et.x*this.sizeRatio+8,this.panelHeight=et.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},Ce=0;Ce<Be.tileSources.length;Ce++)Ke=Q.makeNeutralElement("div"),Ke.id=this.element.id+"-"+Ce,Ke.style.width=De.panelWidth+"px",Ke.style.height=De.panelHeight+"px",Ke.style.display="inline",Ke.style.float="left",Ke.style.cssFloat="left",Ke.style.styleFloat="left",Ke.style.padding="2px",Q.setElementTouchActionNone(Ke),Q.setElementPointerEventsNone(Ke),this.element.appendChild(Ke),Ke.activePanel=!1,this.panels.push(Ke);he(this,this.scroll==="vertical"?et.y:et.x,0),this.setFocus(0)},Q.ReferenceStrip.prototype={setFocus:function(Ee){var De=this.element.querySelector("#"+this.element.id+"-"+Ee),Be=Q.getElementSize(this.viewer.canvas),et=Number(this.element.style.width.replace("px","")),Ke=Number(this.element.style.height.replace("px","")),nt=-Number(this.element.style.marginLeft.replace("px","")),Ce=-Number(this.element.style.marginTop.replace("px","")),Ye;this.currentSelected!==De&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=De,this.currentSelected.style.background="#999",this.scroll==="horizontal"?(Ye=Number(Ee)*(this.panelWidth+3),Ye>nt+Be.x-this.panelWidth?(Ye=Math.min(Ye,et-Be.x),this.element.style.marginLeft=-Ye+"px",he(this,Be.x,-Ye)):Ye<nt&&(Ye=Math.max(0,Ye-Be.x/2),this.element.style.marginLeft=-Ye+"px",he(this,Be.x,-Ye))):(Ye=Number(Ee)*(this.panelHeight+3),Ye>Ce+Be.y-this.panelHeight?(Ye=Math.min(Ye,Ke-Be.y),this.element.style.marginTop=-Ye+"px",he(this,Be.y,-Ye)):Ye<Ce&&(Ye=Math.max(0,Ye-Be.y/2),this.element.style.marginTop=-Ye+"px",he(this,Be.y,-Ye))),this.currentPage=Ee,pe.call(this,{eventSource:this.tracker}))},update:function(){return te[this.id].animating?(Q.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var Ee in this.miniViewers)this.miniViewers[Ee].destroy();this.tracker.destroy(),this.element&&this.viewer.removeControl(this.element)}};function re(Ee){if(Ee.quick){var De;this.scroll==="horizontal"?De=Math.floor(Ee.position.x/this.panelWidth):De=Math.floor(Ee.position.y/this.panelHeight),this.viewer.goToPage(De)}this.element.focus()}function ae(Ee){if(this.dragging=!0,this.element){var De=Number(this.element.style.marginLeft.replace("px","")),Be=Number(this.element.style.marginTop.replace("px","")),et=Number(this.element.style.width.replace("px","")),Ke=Number(this.element.style.height.replace("px","")),nt=Q.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?-Ee.delta.x>0?De>-(et-nt.x)&&(this.element.style.marginLeft=De+Ee.delta.x*2+"px",he(this,nt.x,De+Ee.delta.x*2)):-Ee.delta.x<0&&De<0&&(this.element.style.marginLeft=De+Ee.delta.x*2+"px",he(this,nt.x,De+Ee.delta.x*2)):-Ee.delta.y>0?Be>-(Ke-nt.y)&&(this.element.style.marginTop=Be+Ee.delta.y*2+"px",he(this,nt.y,Be+Ee.delta.y*2)):-Ee.delta.y<0&&Be<0&&(this.element.style.marginTop=Be+Ee.delta.y*2+"px",he(this,nt.y,Be+Ee.delta.y*2))}}function de(Ee){if(this.element){var De=Number(this.element.style.marginLeft.replace("px","")),Be=Number(this.element.style.marginTop.replace("px","")),et=Number(this.element.style.width.replace("px","")),Ke=Number(this.element.style.height.replace("px","")),nt=Q.getElementSize(this.viewer.canvas);this.scroll==="horizontal"?Ee.scroll>0?De>-(et-nt.x)&&(this.element.style.marginLeft=De-Ee.scroll*60+"px",he(this,nt.x,De-Ee.scroll*60)):Ee.scroll<0&&De<0&&(this.element.style.marginLeft=De-Ee.scroll*60+"px",he(this,nt.x,De-Ee.scroll*60)):Ee.scroll<0?Be>nt.y-Ke&&(this.element.style.marginTop=Be+Ee.scroll*60+"px",he(this,nt.y,Be+Ee.scroll*60)):Ee.scroll>0&&Be<0&&(this.element.style.marginTop=Be+Ee.scroll*60+"px",he(this,nt.y,Be+Ee.scroll*60)),Ee.preventDefault=!0}}function he(Ee,De,Be){var et,Ke,nt,Ce,Ye,ct;for(Ee.scroll==="horizontal"?et=Ee.panelWidth:et=Ee.panelHeight,Ke=Math.ceil(De/et)+5,nt=Math.ceil((Math.abs(Be)+De)/et)+1,Ke=nt-Ke,Ke=Ke<0?0:Ke,Ye=Ke;Ye<nt&&Ye<Ee.panels.length;Ye++)if(ct=Ee.panels[Ye],!ct.activePanel){var ut,ft=Ee.viewer.tileSources[Ye];ft.referenceStripThumbnailUrl?ut={type:"image",url:ft.referenceStripThumbnailUrl}:ut=ft,Ce=new Q.Viewer({id:ct.id,tileSources:[ut],element:ct,navigatorSizeRatio:Ee.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:Ee.viewer.loadTilesWithAjax,ajaxHeaders:Ee.viewer.ajaxHeaders,useCanvas:Ee.useCanvas}),Q.setElementPointerEventsNone(Ce.canvas),Q.setElementPointerEventsNone(Ce.container),Ce.innerTracker.setTracking(!1),Ce.outerTracker.setTracking(!1),Ee.miniViewers[ct.id]=Ce,ct.activePanel=!0}}function pe(Ee){var De=Ee.eventSource.element;this.scroll==="horizontal"?De.style.marginBottom="0px":De.style.marginLeft="0px"}function ge(Ee){var De=Ee.eventSource.element;this.scroll==="horizontal"?De.style.marginBottom="-"+Q.getElementSize(De).y/2+"px":De.style.marginLeft="-"+Q.getElementSize(De).x/2+"px"}function ye(Ee){if(!Ee.ctrl&&!Ee.alt&&!Ee.meta)switch(Ee.keyCode){case 38:de.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),Ee.preventDefault=!0;break;case 40:de.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),Ee.preventDefault=!0;break;case 37:de.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),Ee.preventDefault=!0;break;case 39:de.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),Ee.preventDefault=!0;break;default:Ee.preventDefault=!1;break}else Ee.preventDefault=!1}function xe(Ee){if(!Ee.ctrl&&!Ee.alt&&!Ee.meta)switch(Ee.keyCode){case 61:de.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),Ee.preventDefault=!0;break;case 45:de.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),Ee.preventDefault=!0;break;case 48:case 119:case 87:de.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),Ee.preventDefault=!0;break;case 115:case 83:de.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),Ee.preventDefault=!0;break;case 97:de.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),Ee.preventDefault=!0;break;case 100:de.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),Ee.preventDefault=!0;break;default:Ee.preventDefault=!1;break}else Ee.preventDefault=!1}}(ie),function(Q){Q.DisplayRect=function(te,re,ae,de,he,pe){Q.Rect.apply(this,[te,re,ae,de]),this.minLevel=he,this.maxLevel=pe},Q.extend(Q.DisplayRect.prototype,Q.Rect.prototype)}(ie),function(Q){Q.Spring=function(re){var ae=arguments;typeof re!="object"&&(re={initial:ae.length&&typeof ae[0]=="number"?ae[0]:void 0,springStiffness:ae.length>1?ae[1].springStiffness:5,animationTime:ae.length>1?ae[1].animationTime:1.5}),Q.console.assert(typeof re.springStiffness=="number"&&re.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),Q.console.assert(typeof re.animationTime=="number"&&re.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),re.exponential&&(this._exponential=!0,delete re.exponential),Q.extend(!0,this,re),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:Q.now()},Q.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},Q.Spring.prototype={resetTo:function(re){Q.console.assert(!this._exponential||re!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=re,this.start.time=this.target.time=this.current.time=Q.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(re){Q.console.assert(!this._exponential||re!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=re,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(re){this.start.value+=re,this.target.value+=re,this._exponential&&(Q.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(re){this._exponential=re,this._exponential&&(Q.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=Q.now();var re,ae;this._exponential?(re=this.start._logValue,ae=this.target._logValue):(re=this.start.value,ae=this.target.value);var de=this.current.time>=this.target.time?ae:re+(ae-re)*te(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),he=this.current.value;return this._exponential?this.current.value=Math.exp(de):this.current.value=de,he!==this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function te(re,ae){return(1-Math.exp(re*-ae))/(1-Math.exp(-re))}}(ie),function(Q){function te(ae){Q.extend(!0,this,{timeout:Q.DEFAULT_SETTINGS.timeout,jobId:null},ae),this.image=null}te.prototype={errorMsg:null,start:function(){var ae=this,de=this.abort;this.image=new Image,this.image.onload=function(){ae.finish(!0)},this.image.onabort=this.image.onerror=function(){ae.errorMsg="Image load aborted",ae.finish(!1)},this.jobId=window.setTimeout(function(){ae.errorMsg="Image load exceeded timeout ("+ae.timeout+" ms)",ae.finish(!1)},this.timeout),this.loadWithAjax?(this.request=Q.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(he){var pe;try{pe=new window.Blob([he.response])}catch(Ee){var ge=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(Ee.name==="TypeError"&&ge){var ye=new ge;ye.append(he.response),pe=ye.getBlob()}}pe.size===0&&(ae.errorMsg="Empty image response.",ae.finish(!1));var xe=(window.URL||window.webkitURL).createObjectURL(pe);ae.image.src=xe},error:function(he){ae.errorMsg="Image load aborted - XHR error",ae.finish(!1)}}),this.abort=function(){ae.request.abort(),typeof de=="function"&&de()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(ae){this.image.onload=this.image.onerror=this.image.onabort=null,ae||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},Q.ImageLoader=function(ae){Q.extend(!0,this,{jobLimit:Q.DEFAULT_SETTINGS.imageLoaderLimit,timeout:Q.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},ae)},Q.ImageLoader.prototype={addJob:function(ae){var de=this,he=function(ye){re(de,ye,ae.callback)},pe={src:ae.src,loadWithAjax:ae.loadWithAjax,ajaxHeaders:ae.loadWithAjax?ae.ajaxHeaders:null,crossOriginPolicy:ae.crossOriginPolicy,ajaxWithCredentials:ae.ajaxWithCredentials,callback:he,abort:ae.abort,timeout:this.timeout},ge=new te(pe);!this.jobLimit||this.jobsInProgress<this.jobLimit?(ge.start(),this.jobsInProgress++):this.jobQueue.push(ge)},clear:function(){for(var ae=0;ae<this.jobQueue.length;ae++){var de=this.jobQueue[ae];typeof de.abort=="function"&&de.abort()}this.jobQueue=[]}};function re(ae,de,he){var pe;ae.jobsInProgress--,(!ae.jobLimit||ae.jobsInProgress<ae.jobLimit)&&ae.jobQueue.length>0&&(pe=ae.jobQueue.shift(),pe.start(),ae.jobsInProgress++),he(de.image,de.errorMsg,de.request)}}(ie),function(Q){Q.Tile=function(te,re,ae,de,he,pe,ge,ye,xe,Ee){this.level=te,this.x=re,this.y=ae,this.bounds=de,this.sourceBounds=Ee,this.exists=he,this.url=pe,this.context2D=ge,this.loadWithAjax=ye,this.ajaxHeaders=xe,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.flipped=!1,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},Q.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(te){if(!this.cacheImageRecord){Q.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){Q.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=Q.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!==te&&te.appendChild(this.element),this.imgElement.parentNode!==this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",this.flipped&&(this.style.transform="scaleX(-1)"),Q.setElementOpacity(this.element,this.opacity)},drawCanvas:function(te,re,ae,de){var he=this.position.times(Q.pixelDensityRatio),pe=this.size.times(Q.pixelDensityRatio),ge;if(!this.context2D&&!this.cacheImageRecord){Q.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(ge=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!ge){Q.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}te.save(),te.globalAlpha=this.opacity,typeof ae=="number"&&ae!==1&&(he=he.times(ae),pe=pe.times(ae)),de instanceof Q.Point&&(he=he.plus(de)),te.globalAlpha===1&&this._hasTransparencyChannel()&&te.clearRect(he.x,he.y,pe.x,pe.y),re({context:te,tile:this,rendered:ge});var ye,xe;this.sourceBounds?(ye=Math.min(this.sourceBounds.width,ge.canvas.width),xe=Math.min(this.sourceBounds.height,ge.canvas.height)):(ye=ge.canvas.width,xe=ge.canvas.height),te.translate(he.x+pe.x/2,0),this.flipped&&te.scale(-1,1),te.drawImage(ge.canvas,0,0,ye,xe,-pe.x/2,he.y,pe.x,pe.y),te.restore()},getScaleForEdgeSmoothing:function(){var te;if(this.cacheImageRecord)te=this.cacheImageRecord.getRenderedContext();else if(this.context2D)te=this.context2D;else return Q.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return te.canvas.width/(this.size.x*Q.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(te,re,ae){var de=Math.max(1,Math.ceil((ae.x-re.x)/2)),he=Math.max(1,Math.ceil((ae.y-re.y)/2));return new Q.Point(de,he).minus(this.position.times(Q.pixelDensityRatio).times(te||1).apply(function(pe){return pe%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(ie),function(Q){Q.OverlayPlacement=Q.Placement,Q.OverlayRotationMode=Q.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),Q.Overlay=function(te,re,ae){var de;Q.isPlainObject(te)?de=te:de={element:te,location:re,placement:ae},this.element=de.element,this.style=de.element.style,this._init(de)},Q.Overlay.prototype={_init:function(te){this.location=te.location,this.placement=te.placement===void 0?Q.Placement.TOP_LEFT:te.placement,this.onDraw=te.onDraw,this.checkResize=te.checkResize===void 0?!0:te.checkResize,this.width=te.width===void 0?null:te.width,this.height=te.height===void 0?null:te.height,this.rotationMode=te.rotationMode||Q.OverlayRotationMode.EXACT,this.location instanceof Q.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=Q.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new Q.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(te,re){var ae=Q.Placement.properties[this.placement];!ae||(ae.isHorizontallyCentered?te.x-=re.x/2:ae.isRight&&(te.x-=re.x),ae.isVerticallyCentered?te.y-=re.y/2:ae.isBottom&&(te.y-=re.y))},destroy:function(){var te=this.element,re=this.style;te.parentNode&&(te.parentNode.removeChild(te),te.prevElementParent&&(re.display="none",document.body.appendChild(te))),this.onDraw=null,re.top="",re.left="",re.position="",this.width!==null&&(re.width=""),this.height!==null&&(re.height="");var ae=Q.getCssPropertyWithVendorPrefix("transformOrigin"),de=Q.getCssPropertyWithVendorPrefix("transform");ae&&de&&(re[ae]="",re[de]="")},drawHTML:function(te,re){var ae=this.element;ae.parentNode!==te&&(ae.prevElementParent=ae.parentNode,ae.prevNextSibling=ae.nextSibling,te.appendChild(ae),this.style.position="absolute",this.size=Q.getElementSize(ae));var de=this._getOverlayPositionAndSize(re),he=de.position,pe=this.size=de.size,ge=de.rotate;if(this.onDraw)this.onDraw(he,pe,this.element);else{var ye=this.style;ye.left=he.x+"px",ye.top=he.y+"px",this.width!==null&&(ye.width=pe.x+"px"),this.height!==null&&(ye.height=pe.y+"px");var xe=Q.getCssPropertyWithVendorPrefix("transformOrigin"),Ee=Q.getCssPropertyWithVendorPrefix("transform");xe&&Ee&&(ge?(ye[xe]=this._getTransformOrigin(),ye[Ee]="rotate("+ge+"deg)"):(ye[xe]="",ye[Ee]="")),ye.display="block"}},_getOverlayPositionAndSize:function(te){var re=te.pixelFromPoint(this.location,!0),ae=this._getSizeInPixels(te);this.adjust(re,ae);var de=0;if(te.degrees&&this.rotationMode!==Q.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===Q.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var he=new Q.Rect(re.x,re.y,ae.x,ae.y),pe=this._getBoundingBox(he,te.degrees);re=pe.getTopLeft(),ae=pe.getSize()}else de=te.degrees;return{position:re,size:ae,rotate:de}},_getSizeInPixels:function(te){var re=this.size.x,ae=this.size.y;if(this.width!==null||this.height!==null){var de=te.deltaPixelsFromPointsNoRotate(new Q.Point(this.width||0,this.height||0),!0);this.width!==null&&(re=de.x),this.height!==null&&(ae=de.y)}if(this.checkResize&&(this.width===null||this.height===null)){var he=this.size=Q.getElementSize(this.element);this.width===null&&(re=he.x),this.height===null&&(ae=he.y)}return new Q.Point(re,ae)},_getBoundingBox:function(te,re){var ae=this._getPlacementPoint(te);return te.rotate(re,ae).getBoundingBox()},_getPlacementPoint:function(te){var re=new Q.Point(te.x,te.y),ae=Q.Placement.properties[this.placement];return ae&&(ae.isHorizontallyCentered?re.x+=te.width/2:ae.isRight&&(re.x+=te.width),ae.isVerticallyCentered?re.y+=te.height/2:ae.isBottom&&(re.y+=te.height)),re},_getTransformOrigin:function(){var te="",re=Q.Placement.properties[this.placement];return re&&(re.isLeft?te="left":re.isRight&&(te="right"),re.isTop?te+=" top":re.isBottom&&(te+=" bottom")),te},update:function(te,re){var ae=Q.isPlainObject(te)?te:{location:te,placement:re};this._init({location:ae.location||this.location,placement:ae.placement!==void 0?ae.placement:this.placement,onDraw:ae.onDraw||this.onDraw,checkResize:ae.checkResize||this.checkResize,width:ae.width!==void 0?ae.width:this.width,height:ae.height!==void 0?ae.height:this.height,rotationMode:ae.rotationMode||this.rotationMode})},getBounds:function(te){Q.console.assert(te,"A viewport must now be passed to Overlay.getBounds.");var re=this.width,ae=this.height;if(re===null||ae===null){var de=te.deltaPointsFromPixelsNoRotate(this.size,!0);re===null&&(re=de.x),ae===null&&(ae=de.y)}var he=this.location.clone();return this.adjust(he,new Q.Point(re,ae)),this._adjustBoundsForRotation(te,new Q.Rect(he.x,he.y,re,ae))},_adjustBoundsForRotation:function(te,re){if(!te||te.degrees===0||this.rotationMode===Q.OverlayRotationMode.EXACT)return re;if(this.rotationMode===Q.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return re;var ae=this._getOverlayPositionAndSize(te);return te.viewerElementToViewportRectangle(new Q.Rect(ae.position.x,ae.position.y,ae.size.x,ae.size.y))}return re.rotate(-te.degrees,this._getPlacementPoint(re))}}}(ie),function(Q){Q.Drawer=function(te){Q.console.assert(te.viewer,"[Drawer] options.viewer is required");var re=arguments;if(Q.isPlainObject(te)||(te={source:re[0],viewport:re[1],element:re[2]}),Q.console.assert(te.viewport,"[Drawer] options.viewport is required"),Q.console.assert(te.element,"[Drawer] options.element is required"),te.source&&Q.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=te.viewer,this.viewport=te.viewport,this.debugGridColor=typeof te.debugGridColor=="string"?[te.debugGridColor]:te.debugGridColor||Q.DEFAULT_SETTINGS.debugGridColor,te.opacity&&Q.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=Q.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=Q.getElement(te.element),this.canvas=Q.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var ae=this._calculateCanvasSize();this.canvas.width=ae.x,this.canvas.height=ae.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",Q.setElementOpacity(this.canvas,this.opacity,!0),Q.setElementPointerEventsNone(this.canvas),Q.setElementTouchActionNone(this.canvas),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},Q.Drawer.prototype={addOverlay:function(te,re,ae,de){return Q.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(te,re,ae,de),this},updateOverlay:function(te,re,ae){return Q.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(te,re,ae),this},removeOverlay:function(te){return Q.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(te),this},clearOverlays:function(){return Q.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(te){var re=this.viewport.pixelFromPointNoRotate(te,!0);return new Q.Point(re.x*Q.pixelDensityRatio,re.y*Q.pixelDensityRatio)},clipWithPolygons:function(te,re){if(this.useCanvas){var ae=this._getContext(re);ae.beginPath(),te.forEach(function(de){de.forEach(function(he,pe){ae[pe===0?"moveTo":"lineTo"](he.x,he.y)})}),ae.clip()}},setOpacity:function(te){Q.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var re=this.viewer.world,ae=0;ae<re.getItemCount();ae++)re.getItemAt(ae).setOpacity(te);return this},getOpacity:function(){Q.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var te=this.viewer.world,re=0,ae=0;ae<te.getItemCount();ae++){var de=te.getItemAt(ae).getOpacity();de>re&&(re=de)}return re},needsUpdate:function(){return Q.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return Q.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return Q.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return Q.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var te=this._calculateCanvasSize();if((this.canvas.width!==te.x||this.canvas.height!==te.y)&&(this.canvas.width=te.x,this.canvas.height=te.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var re=this._calculateSketchCanvasSize();this.sketchCanvas.width=re.x,this.sketchCanvas.height=re.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(te,re){if(this.useCanvas){var ae=this._getContext(te);if(re)ae.clearRect(re.x,re.y,re.width,re.height);else{var de=ae.canvas;ae.clearRect(0,0,de.width,de.height)}}},viewportToDrawerRectangle:function(te){var re=this.viewport.pixelFromPointNoRotate(te.getTopLeft(),!0),ae=this.viewport.deltaPixelsFromPointsNoRotate(te.getSize(),!0);return new Q.Rect(re.x*Q.pixelDensityRatio,re.y*Q.pixelDensityRatio,ae.x*Q.pixelDensityRatio,ae.y*Q.pixelDensityRatio)},drawTile:function(te,re,ae,de,he){if(Q.console.assert(te,"[Drawer.drawTile] tile is required"),Q.console.assert(re,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var pe=this._getContext(ae);de=de||1,te.drawCanvas(pe,re,de,he)}else te.drawHTML(this.canvas)},_getContext:function(te){var re=this.context;if(te){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var ae=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=ae.x,this.sketchCanvas.height=ae.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var de=this;this.viewer.addHandler("rotate",function he(){if(de.viewport.getRotation()!==0){de.viewer.removeHandler("rotate",he);var pe=de._calculateSketchCanvasSize();de.sketchCanvas.width=pe.x,de.sketchCanvas.height=pe.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}re=this.sketchContext}return re},saveContext:function(te){!this.useCanvas||this._getContext(te).save()},restoreContext:function(te){!this.useCanvas||this._getContext(te).restore()},setClip:function(te,re){if(this.useCanvas){var ae=this._getContext(re);ae.beginPath(),ae.rect(te.x,te.y,te.width,te.height),ae.clip()}},drawRectangle:function(te,re,ae){if(this.useCanvas){var de=this._getContext(ae);de.save(),de.fillStyle=re,de.fillRect(te.x,te.y,te.width,te.height),de.restore()}},blendSketch:function(te,re,ae,de){var he=te;if(Q.isPlainObject(he)||(he={opacity:te,scale:re,translate:ae,compositeOperation:de}),!(!this.useCanvas||!this.sketchCanvas)){te=he.opacity,de=he.compositeOperation;var pe=he.bounds;if(this.context.save(),this.context.globalAlpha=te,de&&(this.context.globalCompositeOperation=de),pe)pe.x<0&&(pe.width+=pe.x,pe.x=0),pe.x+pe.width>this.canvas.width&&(pe.width=this.canvas.width-pe.x),pe.y<0&&(pe.height+=pe.y,pe.y=0),pe.y+pe.height>this.canvas.height&&(pe.height=this.canvas.height-pe.y),this.context.drawImage(this.sketchCanvas,pe.x,pe.y,pe.width,pe.height,pe.x,pe.y,pe.width,pe.height);else{re=he.scale||1,ae=he.translate;var ge=ae instanceof Q.Point?ae:new Q.Point(0,0),ye=0,xe=0;if(ae){var Ee=this.sketchCanvas.width-this.canvas.width,De=this.sketchCanvas.height-this.canvas.height;ye=Math.round(Ee/2),xe=Math.round(De/2)}this.context.drawImage(this.sketchCanvas,ge.x-ye*re,ge.y-xe*re,(this.canvas.width+2*ye)*re,(this.canvas.height+2*xe)*re,-ye,-xe,this.canvas.width+2*ye,this.canvas.height+2*xe)}this.context.restore()}},drawDebugInfo:function(te,re,ae,de){if(this.useCanvas){var he=this.viewer.world.getIndexOfItem(de)%this.debugGridColor.length,pe=this.context;pe.save(),pe.lineWidth=2*Q.pixelDensityRatio,pe.font="small-caps bold "+13*Q.pixelDensityRatio+"px arial",pe.strokeStyle=this.debugGridColor[he],pe.fillStyle=this.debugGridColor[he],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),de.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:de.getRotation(!0),point:de.viewport.pixelFromPointNoRotate(de._getRotationPoint(!0),!0)}),de.viewport.degrees===0&&de.getRotation(!0)%360===0&&de._drawer.viewer.viewport.getFlip()&&de._drawer._flip(),pe.strokeRect(te.position.x*Q.pixelDensityRatio,te.position.y*Q.pixelDensityRatio,te.size.x*Q.pixelDensityRatio,te.size.y*Q.pixelDensityRatio);var ge=(te.position.x+te.size.x/2)*Q.pixelDensityRatio,ye=(te.position.y+te.size.y/2)*Q.pixelDensityRatio;pe.translate(ge,ye),pe.rotate(Math.PI/180*-this.viewport.degrees),pe.translate(-ge,-ye),te.x===0&&te.y===0&&(pe.fillText("Zoom: "+this.viewport.getZoom(),te.position.x*Q.pixelDensityRatio,(te.position.y-30)*Q.pixelDensityRatio),pe.fillText("Pan: "+this.viewport.getBounds().toString(),te.position.x*Q.pixelDensityRatio,(te.position.y-20)*Q.pixelDensityRatio)),pe.fillText("Level: "+te.level,(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+20)*Q.pixelDensityRatio),pe.fillText("Column: "+te.x,(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+30)*Q.pixelDensityRatio),pe.fillText("Row: "+te.y,(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+40)*Q.pixelDensityRatio),pe.fillText("Order: "+ae+" of "+re,(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+50)*Q.pixelDensityRatio),pe.fillText("Size: "+te.size.toString(),(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+60)*Q.pixelDensityRatio),pe.fillText("Position: "+te.position.toString(),(te.position.x+10)*Q.pixelDensityRatio,(te.position.y+70)*Q.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),de.getRotation(!0)%360!==0&&this._restoreRotationChanges(),de.viewport.degrees===0&&de.getRotation(!0)%360===0&&de._drawer.viewer.viewport.getFlip()&&de._drawer._flip(),pe.restore()}},debugRect:function(te){if(this.useCanvas){var re=this.context;re.save(),re.lineWidth=2*Q.pixelDensityRatio,re.strokeStyle=this.debugGridColor[0],re.fillStyle=this.debugGridColor[0],re.strokeRect(te.x*Q.pixelDensityRatio,te.y*Q.pixelDensityRatio,te.width*Q.pixelDensityRatio,te.height*Q.pixelDensityRatio),re.restore()}},setImageSmoothingEnabled:function(te){this.useCanvas&&(this._imageSmoothingEnabled=te,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(te){te.msImageSmoothingEnabled=this._imageSmoothingEnabled,te.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(te){var re=this._getContext(te).canvas;return new Q.Point(re.width,re.height)},getCanvasCenter:function(){return new Q.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(te){var re=te.point?te.point.times(Q.pixelDensityRatio):this.getCanvasCenter(),ae=this._getContext(te.useSketch);ae.save(),ae.translate(re.x,re.y),this.viewer.viewport.flipped?(ae.rotate(Math.PI/180*-te.degrees),ae.scale(-1,1)):ae.rotate(Math.PI/180*te.degrees),ae.translate(-re.x,-re.y)},_flip:function(te){te=te||{};var re=te.point?te.point.times(Q.pixelDensityRatio):this.getCanvasCenter(),ae=this._getContext(te.useSketch);ae.translate(re.x,0),ae.scale(-1,1),ae.translate(-re.x,0)},_restoreRotationChanges:function(te){var re=this._getContext(te);re.restore()},_calculateCanvasSize:function(){var te=Q.pixelDensityRatio,re=this.viewport.getContainerSize();return{x:Math.round(re.x*te),y:Math.round(re.y*te)}},_calculateSketchCanvasSize:function(){var te=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return te;var re=Math.ceil(Math.sqrt(te.x*te.x+te.y*te.y));return{x:re,y:re}}}}(ie),function(Q){Q.Viewport=function(te){var re=arguments;re.length&&re[0]instanceof Q.Point&&(te={containerSize:re[0],contentSize:re[1],config:re[2]}),te.config&&(Q.extend(!0,te,te.config),delete te.config),this._margins=Q.extend({left:0,top:0,right:0,bottom:0},te.margins||{}),delete te.margins,Q.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:Q.DEFAULT_SETTINGS.springStiffness,animationTime:Q.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:Q.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:Q.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:Q.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:Q.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:Q.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:Q.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:Q.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:Q.DEFAULT_SETTINGS.maxZoomLevel,degrees:Q.DEFAULT_SETTINGS.degrees,flipped:Q.DEFAULT_SETTINGS.flipped,homeFillsViewer:Q.DEFAULT_SETTINGS.homeFillsViewer},te),this._updateContainerInnerSize(),this.centerSpringX=new Q.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new Q.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new Q.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new Q.Rect(0,0,1,1),1),this.goHome(!0),this.update()},Q.Viewport.prototype={resetContentSize:function(te){return Q.console.assert(te,"[Viewport.resetContentSize] contentSize is required"),Q.console.assert(te instanceof Q.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),Q.console.assert(te.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),Q.console.assert(te.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new Q.Rect(0,0,1,te.y/te.x),te.x),this},setHomeBounds:function(te,re){Q.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(te,re)},_setContentBounds:function(te,re){Q.console.assert(te,"[Viewport._setContentBounds] bounds is required"),Q.console.assert(te instanceof Q.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),Q.console.assert(te.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),Q.console.assert(te.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=te.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(re),this._contentBounds=te.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(re),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:re,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var te=this._contentAspectRatio/this.getAspectRatio(),re;return this.homeFillsViewer?re=te>=1?te:1:re=te>=1?1:te,re/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var te=this._contentBounds.getCenter(),re=1/this.getHomeZoom(),ae=re/this.getAspectRatio();return new Q.Rect(te.x-re/2,te.y-ae/2,re,ae)},goHome:function(te){return this.viewer&&this.viewer.raiseEvent("home",{immediately:te}),this.fitBounds(this.getHomeBounds(),te)},getMinZoom:function(){var te=this.getHomeZoom(),re=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*te;return re},getMaxZoom:function(){var te=this.maxZoomLevel;return te||(te=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,te/=this._contentBounds.width),Math.max(te,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new Q.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return Q.extend({},this._margins)},setMargins:function(te){Q.console.assert(Q.type(te)==="object","[Viewport.setMargins] margins must be an object"),this._margins=Q.extend({left:0,top:0,right:0,bottom:0},te),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(te){return this.getBoundsNoRotate(te).rotate(-this.getRotation())},getBoundsNoRotate:function(te){var re=this.getCenter(te),ae=1/this.getZoom(te),de=ae/this.getAspectRatio();return new Q.Rect(re.x-ae/2,re.y-de/2,ae,de)},getBoundsWithMargins:function(te){return this.getBoundsNoRotateWithMargins(te).rotate(-this.getRotation(),this.getCenter(te))},getBoundsNoRotateWithMargins:function(te){var re=this.getBoundsNoRotate(te),ae=this._containerInnerSize.x*this.getZoom(te);return re.x-=this._margins.left/ae,re.y-=this._margins.top/ae,re.width+=(this._margins.left+this._margins.right)/ae,re.height+=(this._margins.top+this._margins.bottom)/ae,re},getCenter:function(te){var re=new Q.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),ae=new Q.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),de,he,pe,ge,ye,xe,Ee,De;return te?re:this.zoomPoint?(de=this.pixelFromPoint(this.zoomPoint,!0),he=this.getZoom(),pe=1/he,ge=pe/this.getAspectRatio(),ye=new Q.Rect(re.x-pe/2,re.y-ge/2,pe,ge),xe=this._pixelFromPoint(this.zoomPoint,ye),Ee=xe.minus(de),De=Ee.divide(this._containerInnerSize.x*he),ae.plus(De)):ae},getZoom:function(te){return te?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(te){return Math.max(Math.min(te,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(te){var re=new Q.Rect(te.x,te.y,te.width,te.height);if(!this.wrapHorizontal){var ae=this.visibilityRatio*re.width,de=re.x+re.width,he=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,pe=this._contentBoundsNoRotate.x-de+ae,ge=he-re.x-ae;ae>this._contentBoundsNoRotate.width?re.x+=(pe+ge)/2:ge<0?re.x+=ge:pe>0&&(re.x+=pe)}if(!this.wrapVertical){var ye=this.visibilityRatio*re.height,xe=re.y+re.height,Ee=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,De=this._contentBoundsNoRotate.y-xe+ye,Be=Ee-re.y-ye;ye>this._contentBoundsNoRotate.height?re.y+=(De+Be)/2:Be<0?re.y+=Be:De>0&&(re.y+=De)}return re},_raiseConstraintsEvent:function(te){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:te})},applyConstraints:function(te){var re=this.getZoom(),ae=this._applyZoomConstraints(re);re!==ae&&this.zoomTo(ae,this.zoomPoint,te);var de=this.getBoundsNoRotate(),he=this._applyBoundaryConstraints(de);return this._raiseConstraintsEvent(te),(de.x!==he.x||de.y!==he.y||te)&&this.fitBounds(he.rotate(-this.getRotation()),te),this},ensureVisible:function(te){return this.applyConstraints(te)},_fitBounds:function(te,re){re=re||{};var ae=re.immediately||!1,de=re.constraints||!1,he=this.getAspectRatio(),pe=te.getCenter(),ge=new Q.Rect(te.x,te.y,te.width,te.height,te.degrees+this.getRotation()).getBoundingBox();ge.getAspectRatio()>=he?ge.height=ge.width/he:ge.width=ge.height*he,ge.x=pe.x-ge.width/2,ge.y=pe.y-ge.height/2;var ye=1/ge.width;if(de){var xe=ge.getAspectRatio(),Ee=this._applyZoomConstraints(ye);ye!==Ee&&(ye=Ee,ge.width=1/ye,ge.x=pe.x-ge.width/2,ge.height=ge.width/xe,ge.y=pe.y-ge.height/2),ge=this._applyBoundaryConstraints(ge),pe=ge.getCenter(),this._raiseConstraintsEvent(ae)}if(ae)return this.panTo(pe,!0),this.zoomTo(ye,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var De=this.getBounds(),Be=this.getZoom();if(Be===0||Math.abs(ye/Be-1)<1e-8)return this.zoomTo(ye,!0),this.panTo(pe,ae);ge=ge.rotate(-this.getRotation());var et=ge.getTopLeft().times(ye).minus(De.getTopLeft().times(Be)).divide(ye-Be);return this.zoomTo(ye,et,ae)},fitBounds:function(te,re){return this._fitBounds(te,{immediately:re,constraints:!1})},fitBoundsWithConstraints:function(te,re){return this._fitBounds(te,{immediately:re,constraints:!0})},fitVertically:function(te){var re=new Q.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(re,te)},fitHorizontally:function(te){var re=new Q.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(re,te)},getConstrainedBounds:function(te){var re,ae;return re=this.getBounds(te),ae=this._applyBoundaryConstraints(re),ae},panBy:function(te,re){var ae=new Q.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(ae.plus(te),re)},panTo:function(te,re){return re?(this.centerSpringX.resetTo(te.x),this.centerSpringY.resetTo(te.y)):(this.centerSpringX.springTo(te.x),this.centerSpringY.springTo(te.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:te,immediately:re}),this},zoomBy:function(te,re,ae){return this.zoomTo(this.zoomSpring.target.value*te,re,ae)},zoomTo:function(te,re,ae){var de=this;return this.zoomPoint=re instanceof Q.Point&&!isNaN(re.x)&&!isNaN(re.y)?re:null,ae?this._adjustCenterSpringsForZoomPoint(function(){de.zoomSpring.resetTo(te)}):this.zoomSpring.springTo(te),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:te,refPoint:re,immediately:ae}),this},setRotation:function(te){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=Q.positiveModulo(te,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:te}),this)},getRotation:function(){return this.degrees},resize:function(te,re){var ae=this.getBoundsNoRotate(),de=ae,he;return this.containerSize.x=te.x,this.containerSize.y=te.y,this._updateContainerInnerSize(),re&&(he=te.x/this.containerSize.x,de.width=ae.width*he,de.height=de.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:te,maintain:re}),this.fitBounds(de,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new Q.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var te=this;this._adjustCenterSpringsForZoomPoint(function(){te.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var re=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,re},_adjustCenterSpringsForZoomPoint:function(te){if(this.zoomPoint){var re=this.pixelFromPoint(this.zoomPoint,!0);te();var ae=this.pixelFromPoint(this.zoomPoint,!0),de=ae.minus(re),he=this.deltaPointsFromPixels(de,!0);this.centerSpringX.shiftBy(he.x),this.centerSpringY.shiftBy(he.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else te()},deltaPixelsFromPointsNoRotate:function(te,re){return te.times(this._containerInnerSize.x*this.getZoom(re))},deltaPixelsFromPoints:function(te,re){return this.deltaPixelsFromPointsNoRotate(te.rotate(this.getRotation()),re)},deltaPointsFromPixelsNoRotate:function(te,re){return te.divide(this._containerInnerSize.x*this.getZoom(re))},deltaPointsFromPixels:function(te,re){return this.deltaPointsFromPixelsNoRotate(te,re).rotate(-this.getRotation())},pixelFromPointNoRotate:function(te,re){return this._pixelFromPointNoRotate(te,this.getBoundsNoRotate(re))},pixelFromPoint:function(te,re){return this._pixelFromPoint(te,this.getBoundsNoRotate(re))},_pixelFromPointNoRotate:function(te,re){return te.minus(re.getTopLeft()).times(this._containerInnerSize.x/re.width).plus(new Q.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(te,re){return this._pixelFromPointNoRotate(te.rotate(this.getRotation(),this.getCenter(!0)),re)},pointFromPixelNoRotate:function(te,re){var ae=this.getBoundsNoRotate(re);return te.minus(new Q.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/ae.width).plus(ae.getTopLeft())},pointFromPixel:function(te,re){return this.pointFromPixelNoRotate(te,re).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(te,re){var ae=this._contentBoundsNoRotate.width;return new Q.Point(te*this._contentSizeNoRotate.x/ae,re*this._contentSizeNoRotate.x/ae)},viewportToImageCoordinates:function(te,re){if(te instanceof Q.Point)return this.viewportToImageCoordinates(te.x,te.y);if(this.viewer){var ae=this.viewer.world.getItemCount();if(ae>1)Q.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(ae===1){var de=this.viewer.world.getItemAt(0);return de.viewportToImageCoordinates(te,re,!0)}}return this._viewportToImageDelta(te-this._contentBoundsNoRotate.x,re-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(te,re){var ae=this._contentBoundsNoRotate.width;return new Q.Point(te/this._contentSizeNoRotate.x*ae,re/this._contentSizeNoRotate.x*ae)},imageToViewportCoordinates:function(te,re){if(te instanceof Q.Point)return this.imageToViewportCoordinates(te.x,te.y);if(this.viewer){var ae=this.viewer.world.getItemCount();if(ae>1)Q.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(ae===1){var de=this.viewer.world.getItemAt(0);return de.imageToViewportCoordinates(te,re,!0)}}var he=this._imageToViewportDelta(te,re);return he.x+=this._contentBoundsNoRotate.x,he.y+=this._contentBoundsNoRotate.y,he},imageToViewportRectangle:function(te,re,ae,de){var he=te;if(he instanceof Q.Rect||(he=new Q.Rect(te,re,ae,de)),this.viewer){var pe=this.viewer.world.getItemCount();if(pe>1)Q.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(pe===1){var ge=this.viewer.world.getItemAt(0);return ge.imageToViewportRectangle(te,re,ae,de,!0)}}var ye=this.imageToViewportCoordinates(he.x,he.y),xe=this._imageToViewportDelta(he.width,he.height);return new Q.Rect(ye.x,ye.y,xe.x,xe.y,he.degrees)},viewportToImageRectangle:function(te,re,ae,de){var he=te;if(he instanceof Q.Rect||(he=new Q.Rect(te,re,ae,de)),this.viewer){var pe=this.viewer.world.getItemCount();if(pe>1)Q.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(pe===1){var ge=this.viewer.world.getItemAt(0);return ge.viewportToImageRectangle(te,re,ae,de,!0)}}var ye=this.viewportToImageCoordinates(he.x,he.y),xe=this._viewportToImageDelta(he.width,he.height);return new Q.Rect(ye.x,ye.y,xe.x,xe.y,he.degrees)},viewerElementToImageCoordinates:function(te){var re=this.pointFromPixel(te,!0);return this.viewportToImageCoordinates(re)},imageToViewerElementCoordinates:function(te){var re=this.imageToViewportCoordinates(te);return this.pixelFromPoint(re,!0)},windowToImageCoordinates:function(te){Q.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var re=te.minus(Q.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(re)},imageToWindowCoordinates:function(te){Q.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var re=this.imageToViewerElementCoordinates(te);return re.plus(Q.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(te){return this.pointFromPixel(te,!0)},viewportToViewerElementCoordinates:function(te){return this.pixelFromPoint(te,!0)},viewerElementToViewportRectangle:function(te){return Q.Rect.fromSummits(this.pointFromPixel(te.getTopLeft(),!0),this.pointFromPixel(te.getTopRight(),!0),this.pointFromPixel(te.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(te){return Q.Rect.fromSummits(this.pixelFromPoint(te.getTopLeft(),!0),this.pixelFromPoint(te.getTopRight(),!0),this.pixelFromPoint(te.getBottomLeft(),!0))},windowToViewportCoordinates:function(te){Q.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var re=te.minus(Q.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(re)},viewportToWindowCoordinates:function(te){Q.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var re=this.viewportToViewerElementCoordinates(te);return re.plus(Q.getElementPosition(this.viewer.element))},viewportToImageZoom:function(te){if(this.viewer){var re=this.viewer.world.getItemCount();if(re>1)Q.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(re===1){var ae=this.viewer.world.getItemAt(0);return ae.viewportToImageZoom(te)}}var de=this._contentSizeNoRotate.x,he=this._containerInnerSize.x,pe=this._contentBoundsNoRotate.width,ge=he/de*pe;return te*ge},imageToViewportZoom:function(te){if(this.viewer){var re=this.viewer.world.getItemCount();if(re>1)Q.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(re===1){var ae=this.viewer.world.getItemAt(0);return ae.imageToViewportZoom(te)}}var de=this._contentSizeNoRotate.x,he=this._containerInnerSize.x,pe=this._contentBoundsNoRotate.width,ge=de/he/pe;return te*ge},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(te){return this.flipped===te?this:(this.flipped=te,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:te}),this)}}}(ie),function(Q){Q.TiledImage=function(Ce){var Ye=this;Q.console.assert(Ce.tileCache,"[TiledImage] options.tileCache is required"),Q.console.assert(Ce.drawer,"[TiledImage] options.drawer is required"),Q.console.assert(Ce.viewer,"[TiledImage] options.viewer is required"),Q.console.assert(Ce.imageLoader,"[TiledImage] options.imageLoader is required"),Q.console.assert(Ce.source,"[TiledImage] options.source is required"),Q.console.assert(!Ce.clip||Ce.clip instanceof Q.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),Q.EventSource.call(this),this._tileCache=Ce.tileCache,delete Ce.tileCache,this._drawer=Ce.drawer,delete Ce.drawer,this._imageLoader=Ce.imageLoader,delete Ce.imageLoader,Ce.clip instanceof Q.Rect&&(this._clip=Ce.clip.clone()),delete Ce.clip;var ct=Ce.x||0;delete Ce.x;var ut=Ce.y||0;delete Ce.y,this.normHeight=Ce.source.dimensions.y/Ce.source.dimensions.x,this.contentAspectX=Ce.source.dimensions.x/Ce.source.dimensions.y;var ft=1;Ce.width?(ft=Ce.width,delete Ce.width,Ce.height&&(Q.console.error("specifying both width and height to a tiledImage is not supported"),delete Ce.height)):Ce.height&&(ft=Ce.height/this.normHeight,delete Ce.height);var gt=Ce.fitBounds;delete Ce.fitBounds;var Mt=Ce.fitBoundsPlacement||ie.Placement.CENTER;delete Ce.fitBoundsPlacement;var Ht=Ce.degrees||0;delete Ce.degrees,Q.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:Q.DEFAULT_SETTINGS.springStiffness,animationTime:Q.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:Q.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:Q.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:Q.DEFAULT_SETTINGS.wrapVertical,immediateRender:Q.DEFAULT_SETTINGS.immediateRender,blendTime:Q.DEFAULT_SETTINGS.blendTime,alwaysBlend:Q.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:Q.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:Q.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:Q.DEFAULT_SETTINGS.iOSDevice,debugMode:Q.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:Q.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:Q.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:Q.DEFAULT_SETTINGS.placeholderFillStyle,opacity:Q.DEFAULT_SETTINGS.opacity,preload:Q.DEFAULT_SETTINGS.preload,compositeOperation:Q.DEFAULT_SETTINGS.compositeOperation},Ce),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new Q.Spring({initial:ct,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new Q.Spring({initial:ut,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new Q.Spring({initial:ft,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new Q.Spring({initial:Ht,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),gt&&this.fitBounds(gt,Mt,!0),this._drawingHandler=function(Yt){Ye.viewer.raiseEvent("tile-drawing",Q.extend({tiledImage:Ye},Yt))}},Q.extend(Q.TiledImage.prototype,Q.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(Ce){Ce!==this._fullyLoaded&&(this._fullyLoaded=Ce,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=Q.now(),this._needsDraw=!0},update:function(){var Ce=this._xSpring.update(),Ye=this._ySpring.update(),ct=this._scaleSpring.update(),ut=this._degreesSpring.update();return Ce||Ye||ct||ut?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset(),this.source.destroy&&this.source.destroy()},getBounds:function(Ce){return this.getBoundsNoRotate(Ce).rotate(this.getRotation(Ce),this._getRotationPoint(Ce))},getBoundsNoRotate:function(Ce){return Ce?new Q.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new Q.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return Q.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(Ce){var Ye=this.getBoundsNoRotate(Ce);if(this._clip){var ct=Ce?this._worldWidthCurrent:this._worldWidthTarget,ut=ct/this.source.dimensions.x,ft=this._clip.times(ut);Ye=new Q.Rect(Ye.x+ft.x,Ye.y+ft.y,ft.width,ft.height)}return Ye.rotate(this.getRotation(Ce),this._getRotationPoint(Ce))},getTileBounds:function(Ce,Ye,ct){var ut=this.source.getNumTiles(Ce),ft=(ut.x+Ye%ut.x)%ut.x,gt=(ut.y+ct%ut.y)%ut.y,Mt=this.source.getTileBounds(Ce,ft,gt);return this.getFlip()&&(Mt.x=1-Mt.x-Mt.width),Mt.x+=(Ye-ft)/ut.x,Mt.y+=this._worldHeightCurrent/this._worldWidthCurrent*((ct-gt)/ut.y),Mt},getContentSize:function(){return new Q.Point(this.source.dimensions.x,this.source.dimensions.y)},getSizeInWindowCoordinates:function(){var Ce=this.imageToWindowCoordinates(new Q.Point(0,0)),Ye=this.imageToWindowCoordinates(this.getContentSize());return new Q.Point(Ye.x-Ce.x,Ye.y-Ce.y)},_viewportToImageDelta:function(Ce,Ye,ct){var ut=ct?this._scaleSpring.current.value:this._scaleSpring.target.value;return new Q.Point(Ce*(this.source.dimensions.x/ut),Ye*(this.source.dimensions.y*this.contentAspectX/ut))},viewportToImageCoordinates:function(Ce,Ye,ct){var ut;return Ce instanceof Q.Point?(ct=Ye,ut=Ce):ut=new Q.Point(Ce,Ye),ut=ut.rotate(-this.getRotation(ct),this._getRotationPoint(ct)),ct?this._viewportToImageDelta(ut.x-this._xSpring.current.value,ut.y-this._ySpring.current.value):this._viewportToImageDelta(ut.x-this._xSpring.target.value,ut.y-this._ySpring.target.value)},_imageToViewportDelta:function(Ce,Ye,ct){var ut=ct?this._scaleSpring.current.value:this._scaleSpring.target.value;return new Q.Point(Ce/this.source.dimensions.x*ut,Ye/this.source.dimensions.y/this.contentAspectX*ut)},imageToViewportCoordinates:function(Ce,Ye,ct){Ce instanceof Q.Point&&(ct=Ye,Ye=Ce.y,Ce=Ce.x);var ut=this._imageToViewportDelta(Ce,Ye);return ct?(ut.x+=this._xSpring.current.value,ut.y+=this._ySpring.current.value):(ut.x+=this._xSpring.target.value,ut.y+=this._ySpring.target.value),ut.rotate(this.getRotation(ct),this._getRotationPoint(ct))},imageToViewportRectangle:function(Ce,Ye,ct,ut,ft){var gt=Ce;gt instanceof Q.Rect?ft=Ye:gt=new Q.Rect(Ce,Ye,ct,ut);var Mt=this.imageToViewportCoordinates(gt.getTopLeft(),ft),Ht=this._imageToViewportDelta(gt.width,gt.height,ft);return new Q.Rect(Mt.x,Mt.y,Ht.x,Ht.y,gt.degrees+this.getRotation(ft))},viewportToImageRectangle:function(Ce,Ye,ct,ut,ft){var gt=Ce;Ce instanceof Q.Rect?ft=Ye:gt=new Q.Rect(Ce,Ye,ct,ut);var Mt=this.viewportToImageCoordinates(gt.getTopLeft(),ft),Ht=this._viewportToImageDelta(gt.width,gt.height,ft);return new Q.Rect(Mt.x,Mt.y,Ht.x,Ht.y,gt.degrees-this.getRotation(ft))},viewerElementToImageCoordinates:function(Ce){var Ye=this.viewport.pointFromPixel(Ce,!0);return this.viewportToImageCoordinates(Ye)},imageToViewerElementCoordinates:function(Ce){var Ye=this.imageToViewportCoordinates(Ce);return this.viewport.pixelFromPoint(Ye,!0)},windowToImageCoordinates:function(Ce){var Ye=Ce.minus(ie.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(Ye)},imageToWindowCoordinates:function(Ce){var Ye=this.imageToViewerElementCoordinates(Ce);return Ye.plus(ie.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(Ce){var Ye=this._scaleSpring.current.value;return Ce=Ce.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new Q.Rect((Ce.x-this._xSpring.current.value)/Ye,(Ce.y-this._ySpring.current.value)/Ye,Ce.width/Ye,Ce.height/Ye,Ce.degrees)},viewportToImageZoom:function(Ce){var Ye=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Ye*Ce},imageToViewportZoom:function(Ce){var Ye=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Ce/Ye},setPosition:function(Ce,Ye){var ct=this._xSpring.target.value===Ce.x&&this._ySpring.target.value===Ce.y;if(Ye){if(ct&&this._xSpring.current.value===Ce.x&&this._ySpring.current.value===Ce.y)return;this._xSpring.resetTo(Ce.x),this._ySpring.resetTo(Ce.y),this._needsDraw=!0}else{if(ct)return;this._xSpring.springTo(Ce.x),this._ySpring.springTo(Ce.y),this._needsDraw=!0}ct||this._raiseBoundsChange()},setWidth:function(Ce,Ye){this._setScale(Ce,Ye)},setHeight:function(Ce,Ye){this._setScale(Ce/this.normHeight,Ye)},setCroppingPolygons:function(Ce){var Ye=function(ut){return ut instanceof Q.Point||typeof ut.x=="number"&&typeof ut.y=="number"},ct=function(ut){return ut.map(function(ft){try{if(Ye(ft))return{x:ft.x,y:ft.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!Q.isArray(Ce))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=Ce.map(function(ut){return ct(ut)})}catch(ut){Q.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),Q.console.error(ut),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(Ce,Ye,ct){Ye=Ye||Q.Placement.CENTER;var ut=Q.Placement.properties[Ye],ft=this.contentAspectX,gt=0,Mt=0,Ht=1,Yt=1;if(this._clip&&(ft=this._clip.getAspectRatio(),Ht=this._clip.width/this.source.dimensions.x,Yt=this._clip.height/this.source.dimensions.y,Ce.getAspectRatio()>ft?(gt=this._clip.x/this._clip.height*Ce.height,Mt=this._clip.y/this._clip.height*Ce.height):(gt=this._clip.x/this._clip.width*Ce.width,Mt=this._clip.y/this._clip.width*Ce.width)),Ce.getAspectRatio()>ft){var tn=Ce.height/Yt,Zt=0;ut.isHorizontallyCentered?Zt=(Ce.width-Ce.height*ft)/2:ut.isRight&&(Zt=Ce.width-Ce.height*ft),this.setPosition(new Q.Point(Ce.x-gt+Zt,Ce.y-Mt),ct),this.setHeight(tn,ct)}else{var dn=Ce.width/Ht,ln=0;ut.isVerticallyCentered?ln=(Ce.height-Ce.width/ft)/2:ut.isBottom&&(ln=Ce.height-Ce.width/ft),this.setPosition(new Q.Point(Ce.x-gt,Ce.y-Mt+ln),ct),this.setWidth(dn,ct)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(Ce){Q.console.assert(!Ce||Ce instanceof Q.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),Ce instanceof Q.Rect?this._clip=Ce.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getFlip:function(){return!!this.flipped},setFlip:function(Ce){this.flipped=!!Ce,this._needsDraw=!0,this._raiseBoundsChange()},getOpacity:function(){return this.opacity},setOpacity:function(Ce){Ce!==this.opacity&&(this.opacity=Ce,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(Ce){this._preload=!!Ce,this._needsDraw=!0},getRotation:function(Ce){return Ce?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(Ce,Ye){this._degreesSpring.target.value===Ce&&this._degreesSpring.isAtTargetValue()||(Ye?this._degreesSpring.resetTo(Ce):this._degreesSpring.springTo(Ce),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(Ce){return this.getBoundsNoRotate(Ce).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(Ce){Ce!==this.compositeOperation&&(this.compositeOperation=Ce,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(Ce,Ye){var ct=this._scaleSpring.target.value===Ce;if(Ye){if(ct&&this._scaleSpring.current.value===Ce)return;this._scaleSpring.resetTo(Ce),this._updateForScale(),this._needsDraw=!0}else{if(ct)return;this._scaleSpring.springTo(Ce),this._updateForScale(),this._needsDraw=!0}ct||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var Ce=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),Ye=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,ct=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(Ye/this.minPixelRatio)/Math.log(2))));return ct=Math.max(ct,this.source.minLevel||0),Ce=Math.min(Ce,ct),{lowestLevel:Ce,highestLevel:ct}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var Ce=this.lastDrawn.pop();Ce.beingDrawn=!1}var Ye=this.viewport,ct=this._viewportToTiledImageRectangle(Ye.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var ut=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(ct=ct.intersection(ut),ct===null)return}for(var ft=this._getLevelsInterval(),gt=ft.lowestLevel,Mt=ft.highestLevel,Ht=null,Yt=!1,tn=Q.now(),Zt=Mt;Zt>=gt;Zt--){var dn=!1,ln=Ye.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Zt),!0).x*this._scaleSpring.current.value;if(Zt===gt||!Yt&&ln>=this.minPixelRatio)dn=!0,Yt=!0;else if(!Yt)continue;var bn=Ye.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Zt),!1).x*this._scaleSpring.current.value,yn=Ye.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,xn=this.immediateRender?1:yn,Pn=Math.min(1,(ln-.5)/.5),Nn=xn/Math.abs(xn-bn);if(Ht=te(this,Yt,dn,Zt,Pn,Nn,ct,tn,Ht),xe(this.coverage,Zt))break}Ke(this,this.lastDrawn),Ht&&!Ht.context2D?(de(this,Ht,tn),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(Ce,Ye,ct){var ut,ft;this.wrapHorizontal?(ut=Q.positiveModulo(Ye.x,1),ft=Q.positiveModulo(ct.x,1)):(ut=Math.max(0,Ye.x),ft=Math.min(1,ct.x));var gt,Mt,Ht=1/this.source.aspectRatio;this.wrapVertical?(gt=Q.positiveModulo(Ye.y,Ht),Mt=Q.positiveModulo(ct.y,Ht)):(gt=Math.max(0,Ye.y),Mt=Math.min(Ht,ct.y));var Yt=this.source.getTileAtPoint(Ce,new Q.Point(ut,gt)),tn=this.source.getTileAtPoint(Ce,new Q.Point(ft,Mt)),Zt=this.source.getNumTiles(Ce);return this.wrapHorizontal&&(Yt.x+=Zt.x*Math.floor(Ye.x),tn.x+=Zt.x*Math.floor(ct.x)),this.wrapVertical&&(Yt.y+=Zt.y*Math.floor(Ye.y/Ht),tn.y+=Zt.y*Math.floor(ct.y/Ht)),{topLeft:Yt,bottomRight:tn}}});function te(Ce,Ye,ct,ut,ft,gt,Mt,Ht,Yt){var tn=Mt.getBoundingBox().getTopLeft(),Zt=Mt.getBoundingBox().getBottomRight();Ce.viewer&&Ce.viewer.raiseEvent("update-level",{tiledImage:Ce,havedrawn:Ye,level:ut,opacity:ft,visibility:gt,drawArea:Mt,topleft:tn,bottomright:Zt,currenttime:Ht,best:Yt}),Be(Ce.coverage,ut),Be(Ce.loadingCoverage,ut);var dn=Ce._getCornerTiles(ut,tn,Zt),ln=dn.topLeft,bn=dn.bottomRight,yn=Ce.source.getNumTiles(ut),xn=Ce.viewport.pixelFromPoint(Ce.viewport.getCenter());Ce.getFlip()&&(bn.x+=1,Ce.wrapHorizontal||(bn.x=Math.min(bn.x,yn.x-1)));for(var Pn=ln.x;Pn<=bn.x;Pn++)for(var Nn=ln.y;Nn<=bn.y;Nn++){var Jt;if(Ce.getFlip()){var Sn=(yn.x+Pn%yn.x)%yn.x;Jt=Pn+yn.x-Sn-Sn-1}else Jt=Pn;Mt.intersection(Ce.getTileBounds(ut,Jt,Nn))!==null&&(Yt=re(Ce,ct,Ye,Jt,Nn,ut,ft,gt,xn,yn,Ht,Yt))}return Yt}function re(Ce,Ye,ct,ut,ft,gt,Mt,Ht,Yt,tn,Zt,dn){var ln=ae(ut,ft,gt,Ce,Ce.source,Ce.tilesMatrix,Zt,tn,Ce._worldWidthCurrent,Ce._worldHeightCurrent),bn=ct;Ce.viewer&&Ce.viewer.raiseEvent("update-tile",{tiledImage:Ce,tile:ln}),De(Ce.coverage,gt,ut,ft,!1);var yn=ln.loaded||ln.loading||Ee(Ce.loadingCoverage,gt,ut,ft);if(De(Ce.loadingCoverage,gt,ut,ft,yn),!ln.exists||(Ye&&!bn&&(Ee(Ce.coverage,gt,ut,ft)?De(Ce.coverage,gt,ut,ft,!0):bn=!0),!bn))return dn;if(ge(ln,Ce.source.tileOverlap,Ce.viewport,Yt,Ht,Ce),!ln.loaded)if(ln.context2D)pe(Ce,ln);else{var xn=Ce._tileCache.getImageRecord(ln.cacheKey);if(xn){var Pn=xn.getImage();pe(Ce,ln,Pn)}}if(ln.loaded){var Nn=ye(Ce,ln,ut,ft,gt,Mt,Zt);Nn&&(Ce._needsDraw=!0)}else ln.loading?Ce._tilesLoading++:yn||(dn=et(dn,ln));return dn}function ae(Ce,Ye,ct,ut,ft,gt,Mt,Ht,Yt,tn){var Zt,dn,ln,bn,yn,xn,Pn,Nn,Jt;return gt[ct]||(gt[ct]={}),gt[ct][Ce]||(gt[ct][Ce]={}),(!gt[ct][Ce][Ye]||!gt[ct][Ce][Ye].flipped!=!ut.flipped)&&(Zt=(Ht.x+Ce%Ht.x)%Ht.x,dn=(Ht.y+Ye%Ht.y)%Ht.y,ln=ut.getTileBounds(ct,Ce,Ye),bn=ft.getTileBounds(ct,Zt,dn,!0),yn=ft.tileExists(ct,Zt,dn),xn=ft.getTileUrl(ct,Zt,dn),ut.loadTilesWithAjax?(Pn=ft.getTileAjaxHeaders(ct,Zt,dn),Q.isPlainObject(ut.ajaxHeaders)&&(Pn=Q.extend({},ut.ajaxHeaders,Pn))):Pn=null,Nn=ft.getContext2D?ft.getContext2D(ct,Zt,dn):void 0,Jt=new Q.Tile(ct,Ce,Ye,ln,yn,xn,Nn,ut.loadTilesWithAjax,Pn,bn),ut.getFlip()?Zt===0&&(Jt.isRightMost=!0):Zt===Ht.x-1&&(Jt.isRightMost=!0),dn===Ht.y-1&&(Jt.isBottomMost=!0),Jt.flipped=ut.flipped,gt[ct][Ce][Ye]=Jt),Jt=gt[ct][Ce][Ye],Jt.lastTouchTime=Mt,Jt}function de(Ce,Ye,ct){Ye.loading=!0,Ce._imageLoader.addJob({src:Ye.url,loadWithAjax:Ye.loadWithAjax,ajaxHeaders:Ye.ajaxHeaders,crossOriginPolicy:Ce.crossOriginPolicy,ajaxWithCredentials:Ce.ajaxWithCredentials,callback:function(ut,ft,gt){he(Ce,Ye,ct,ut,ft,gt)},abort:function(){Ye.loading=!1}})}function he(Ce,Ye,ct,ut,ft,gt){if(!ut){Q.console.log("Tile %s failed to load: %s - error: %s",Ye,Ye.url,ft),Ce.viewer.raiseEvent("tile-load-failed",{tile:Ye,tiledImage:Ce,time:ct,message:ft,tileRequest:gt}),Ye.loading=!1,Ye.exists=!1;return}if(ct<Ce.lastResetTime){Q.console.log("Ignoring tile %s loaded before reset: %s",Ye,Ye.url),Ye.loading=!1;return}var Mt=function(){var Ht=Ce.source.getClosestLevel();pe(Ce,Ye,ut,Ht,gt)};Ce._midDraw?window.setTimeout(Mt,1):Mt()}function pe(Ce,Ye,ct,ut,ft){var gt=0;function Mt(){return gt++,Ht}function Ht(){gt--,gt===0&&(Ye.loading=!1,Ye.loaded=!0,Ye.context2D||Ce._tileCache.cacheTile({image:ct,tile:Ye,cutoff:ut,tiledImage:Ce}),Ce._needsDraw=!0)}Ce.viewer.raiseEvent("tile-loaded",{tile:Ye,tiledImage:Ce,tileRequest:ft,image:ct,getCompletionCallback:Mt}),Mt()()}function ge(Ce,Ye,ct,ut,ft,gt){var Mt=Ce.bounds.getTopLeft();Mt.x*=gt._scaleSpring.current.value,Mt.y*=gt._scaleSpring.current.value,Mt.x+=gt._xSpring.current.value,Mt.y+=gt._ySpring.current.value;var Ht=Ce.bounds.getSize();Ht.x*=gt._scaleSpring.current.value,Ht.y*=gt._scaleSpring.current.value;var Yt=ct.pixelFromPointNoRotate(Mt,!0),tn=ct.pixelFromPointNoRotate(Mt,!1),Zt=ct.deltaPixelsFromPointsNoRotate(Ht,!0),dn=ct.deltaPixelsFromPointsNoRotate(Ht,!1),ln=tn.plus(dn.divide(2)),bn=ut.squaredDistanceTo(ln);Ye||(Zt=Zt.plus(new Q.Point(1,1))),Ce.isRightMost&&gt.wrapHorizontal&&(Zt.x+=.75),Ce.isBottomMost&&gt.wrapVertical&&(Zt.y+=.75),Ce.position=Yt,Ce.size=Zt,Ce.squaredDistance=bn,Ce.visibility=ft}function ye(Ce,Ye,ct,ut,ft,gt,Mt){var Ht=1e3*Ce.blendTime,Yt,tn;if(Ye.blendStart||(Ye.blendStart=Mt),Yt=Mt-Ye.blendStart,tn=Ht?Math.min(1,Yt/Ht):1,Ce.alwaysBlend&&(tn*=gt),Ye.opacity=tn,Ce.lastDrawn.push(Ye),tn===1)De(Ce.coverage,ft,ct,ut,!0),Ce._hasOpaqueTile=!0;else if(Yt<Ht)return!0;return!1}function xe(Ce,Ye,ct,ut){var ft,gt,Mt,Ht;if(!Ce[Ye])return!1;if(ct===void 0||ut===void 0){ft=Ce[Ye];for(Mt in ft)if(Object.prototype.hasOwnProperty.call(ft,Mt)){gt=ft[Mt];for(Ht in gt)if(Object.prototype.hasOwnProperty.call(gt,Ht)&&!gt[Ht])return!1}return!0}return Ce[Ye][ct]===void 0||Ce[Ye][ct][ut]===void 0||Ce[Ye][ct][ut]===!0}function Ee(Ce,Ye,ct,ut){return ct===void 0||ut===void 0?xe(Ce,Ye+1):xe(Ce,Ye+1,2*ct,2*ut)&&xe(Ce,Ye+1,2*ct,2*ut+1)&&xe(Ce,Ye+1,2*ct+1,2*ut)&&xe(Ce,Ye+1,2*ct+1,2*ut+1)}function De(Ce,Ye,ct,ut,ft){if(!Ce[Ye]){Q.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",Ye);return}Ce[Ye][ct]||(Ce[Ye][ct]={}),Ce[Ye][ct][ut]=ft}function Be(Ce,Ye){Ce[Ye]={}}function et(Ce,Ye){return!Ce||Ye.visibility>Ce.visibility||Ye.visibility===Ce.visibility&&Ye.squaredDistance<Ce.squaredDistance?Ye:Ce}function Ke(Ce,Ye){if(!(Ce.opacity===0||Ye.length===0&&!Ce.placeholderFillStyle)){var ct=Ye[0],ut;ct&&(ut=Ce.opacity<1||Ce.compositeOperation&&Ce.compositeOperation!=="source-over"||!Ce._isBottomItem()&&ct._hasTransparencyChannel());var ft,gt,Mt=Ce.viewport.getZoom(!0),Ht=Ce.viewportToImageZoom(Mt);Ye.length>1&&Ht>Ce.smoothTileEdgesMinZoom&&!Ce.iOSDevice&&Ce.getRotation(!0)%360===0&&Q.supportsCanvas&&(ut=!0,ft=ct.getScaleForEdgeSmoothing(),gt=ct.getTranslationForEdgeSmoothing(ft,Ce._drawer.getCanvasSize(!1),Ce._drawer.getCanvasSize(!0)));var Yt;ut&&(ft||(Yt=Ce.viewport.viewportToViewerElementRectangle(Ce.getClippedBounds(!0)).getIntegerBoundingBox(),Ce._drawer.viewer.viewport.getFlip()&&(Ce.viewport.degrees!==0||Ce.getRotation(!0)%360!==0)&&(Yt.x=Ce._drawer.viewer.container.clientWidth-(Yt.x+Yt.width)),Yt=Yt.times(Q.pixelDensityRatio)),Ce._drawer._clear(!0,Yt)),ft||(Ce.viewport.degrees!==0&&Ce._drawer._offsetForRotation({degrees:Ce.viewport.degrees,useSketch:ut}),Ce.getRotation(!0)%360!==0&&Ce._drawer._offsetForRotation({degrees:Ce.getRotation(!0),point:Ce.viewport.pixelFromPointNoRotate(Ce._getRotationPoint(!0),!0),useSketch:ut}),Ce.viewport.degrees===0&&Ce.getRotation(!0)%360===0&&Ce._drawer.viewer.viewport.getFlip()&&Ce._drawer._flip());var tn=!1;if(Ce._clip){Ce._drawer.saveContext(ut);var Zt=Ce.imageToViewportRectangle(Ce._clip,!0);Zt=Zt.rotate(-Ce.getRotation(!0),Ce._getRotationPoint(!0));var dn=Ce._drawer.viewportToDrawerRectangle(Zt);ft&&(dn=dn.times(ft)),gt&&(dn=dn.translate(gt)),Ce._drawer.setClip(dn,ut),tn=!0}if(Ce._croppingPolygons){Ce._drawer.saveContext(ut);try{var ln=Ce._croppingPolygons.map(function(Pn){return Pn.map(function(Nn){var Jt=Ce.imageToViewportCoordinates(Nn.x,Nn.y,!0).rotate(-Ce.getRotation(!0),Ce._getRotationPoint(!0)),Sn=Ce._drawer.viewportCoordToDrawerCoord(Jt);return ft&&(Sn=Sn.times(ft)),Sn})});Ce._drawer.clipWithPolygons(ln,ut)}catch(Pn){Q.console.error(Pn)}tn=!0}if(Ce.placeholderFillStyle&&Ce._hasOpaqueTile===!1){var bn=Ce._drawer.viewportToDrawerRectangle(Ce.getBounds(!0));ft&&(bn=bn.times(ft)),gt&&(bn=bn.translate(gt));var yn=null;typeof Ce.placeholderFillStyle=="function"?yn=Ce.placeholderFillStyle(Ce,Ce._drawer.context):yn=Ce.placeholderFillStyle,Ce._drawer.drawRectangle(bn,yn,ut)}for(var xn=Ye.length-1;xn>=0;xn--)ct=Ye[xn],Ce._drawer.drawTile(ct,Ce._drawingHandler,ut,ft,gt),ct.beingDrawn=!0,Ce.viewer&&Ce.viewer.raiseEvent("tile-drawn",{tiledImage:Ce,tile:ct});tn&&Ce._drawer.restoreContext(ut),ft||(Ce.getRotation(!0)%360!==0&&Ce._drawer._restoreRotationChanges(ut),Ce.viewport.degrees!==0&&Ce._drawer._restoreRotationChanges(ut)),ut&&(ft&&(Ce.viewport.degrees!==0&&Ce._drawer._offsetForRotation({degrees:Ce.viewport.degrees,useSketch:!1}),Ce.getRotation(!0)%360!==0&&Ce._drawer._offsetForRotation({degrees:Ce.getRotation(!0),point:Ce.viewport.pixelFromPointNoRotate(Ce._getRotationPoint(!0),!0),useSketch:!1})),Ce._drawer.blendSketch({opacity:Ce.opacity,scale:ft,translate:gt,compositeOperation:Ce.compositeOperation,bounds:Yt}),ft&&(Ce.getRotation(!0)%360!==0&&Ce._drawer._restoreRotationChanges(!1),Ce.viewport.degrees!==0&&Ce._drawer._restoreRotationChanges(!1))),ft||Ce.viewport.degrees===0&&Ce.getRotation(!0)%360===0&&Ce._drawer.viewer.viewport.getFlip()&&Ce._drawer._flip(),nt(Ce,Ye)}}function nt(Ce,Ye){if(Ce.debugMode)for(var ct=Ye.length-1;ct>=0;ct--){var ut=Ye[ct];try{Ce._drawer.drawDebugInfo(ut,Ye.length,ct,Ce)}catch(ft){Q.console.error(ft)}}}}(ie),function(Q){var te=function(ae){Q.console.assert(ae,"[TileCache.cacheTile] options is required"),Q.console.assert(ae.tile,"[TileCache.cacheTile] options.tile is required"),Q.console.assert(ae.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=ae.tile,this.tiledImage=ae.tiledImage},re=function(ae){Q.console.assert(ae,"[ImageRecord] options is required"),Q.console.assert(ae.image,"[ImageRecord] options.image is required"),this._image=ae.image,this._tiles=[]};re.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var ae=document.createElement("canvas");ae.width=this._image.width,ae.height=this._image.height,this._renderedContext=ae.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(ae){Q.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=ae},addTile:function(ae){Q.console.assert(ae,"[ImageRecord.addTile] tile is required"),this._tiles.push(ae)},removeTile:function(ae){for(var de=0;de<this._tiles.length;de++)if(this._tiles[de]===ae){this._tiles.splice(de,1);return}Q.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",ae)},getTileCount:function(){return this._tiles.length}},Q.TileCache=function(ae){ae=ae||{},this._maxImageCacheCount=ae.maxImageCacheCount||Q.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},Q.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(ae){Q.console.assert(ae,"[TileCache.cacheTile] options is required"),Q.console.assert(ae.tile,"[TileCache.cacheTile] options.tile is required"),Q.console.assert(ae.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),Q.console.assert(ae.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var de=ae.cutoff||0,he=this._tilesLoaded.length,pe=this._imagesLoaded[ae.tile.cacheKey];if(pe||(Q.console.assert(ae.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),pe=this._imagesLoaded[ae.tile.cacheKey]=new re({image:ae.image}),this._imagesLoadedCount++),pe.addTile(ae.tile),ae.tile.cacheImageRecord=pe,this._imagesLoadedCount>this._maxImageCacheCount){for(var ge=null,ye=-1,xe=null,Ee,De,Be,et,Ke,nt,Ce=this._tilesLoaded.length-1;Ce>=0;Ce--)if(nt=this._tilesLoaded[Ce],Ee=nt.tile,!(Ee.level<=de||Ee.beingDrawn)){if(!ge){ge=Ee,ye=Ce,xe=nt;continue}et=Ee.lastTouchTime,De=ge.lastTouchTime,Ke=Ee.level,Be=ge.level,(et<De||et===De&&Ke>Be)&&(ge=Ee,ye=Ce,xe=nt)}ge&&ye>=0&&(this._unloadTile(xe),he=ye)}this._tilesLoaded[he]=new te({tile:ae.tile,tiledImage:ae.tiledImage})},clearTilesFor:function(ae){Q.console.assert(ae,"[TileCache.clearTilesFor] tiledImage is required");for(var de,he=0;he<this._tilesLoaded.length;++he)de=this._tilesLoaded[he],de.tiledImage===ae&&(this._unloadTile(de),this._tilesLoaded.splice(he,1),he--)},getImageRecord:function(ae){return Q.console.assert(ae,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[ae]},_unloadTile:function(ae){Q.console.assert(ae,"[TileCache._unloadTile] tileRecord is required");var de=ae.tile,he=ae.tiledImage;de.unload(),de.cacheImageRecord=null;var pe=this._imagesLoaded[de.cacheKey];pe.removeTile(de),pe.getTileCount()||(pe.destroy(),delete this._imagesLoaded[de.cacheKey],this._imagesLoadedCount--),he.viewer.raiseEvent("tile-unloaded",{tile:de,tiledImage:he})}}}(ie),function(Q){Q.World=function(te){var re=this;Q.console.assert(te.viewer,"[World] options.viewer is required"),Q.EventSource.call(this),this.viewer=te.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(ae){re._autoRefigureSizes?re._figureSizes():re._needsSizesFigured=!0},this._figureSizes()},Q.extend(Q.World.prototype,Q.EventSource.prototype,{addItem:function(te,re){if(Q.console.assert(te,"[World.addItem] item is required"),Q.console.assert(te instanceof Q.TiledImage,"[World.addItem] only TiledImages supported at this time"),re=re||{},re.index!==void 0){var ae=Math.max(0,Math.min(this._items.length,re.index));this._items.splice(ae,0,te)}else this._items.push(te);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,te.addHandler("bounds-change",this._delegatedFigureSizes),te.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:te})},getItemAt:function(te){return Q.console.assert(te!==void 0,"[World.getItemAt] index is required"),this._items[te]},getIndexOfItem:function(te){return Q.console.assert(te,"[World.getIndexOfItem] item is required"),Q.indexOf(this._items,te)},getItemCount:function(){return this._items.length},setItemIndex:function(te,re){Q.console.assert(te,"[World.setItemIndex] item is required"),Q.console.assert(re!==void 0,"[World.setItemIndex] index is required");var ae=this.getIndexOfItem(te);if(re>=this._items.length)throw new Error("Index bigger than number of layers.");re===ae||ae===-1||(this._items.splice(ae,1),this._items.splice(re,0,te),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:te,previousIndex:ae,newIndex:re}))},removeItem:function(te){Q.console.assert(te,"[World.removeItem] item is required");var re=Q.indexOf(this._items,te);re!==-1&&(te.removeHandler("bounds-change",this._delegatedFigureSizes),te.removeHandler("clip-change",this._delegatedFigureSizes),te.destroy(),this._items.splice(re,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(te))},removeAll:function(){this.viewer._cancelPendingImages();var te,re;for(re=0;re<this._items.length;re++)te=this._items[re],te.removeHandler("bounds-change",this._delegatedFigureSizes),te.removeHandler("clip-change",this._delegatedFigureSizes),te.destroy();var ae=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,re=0;re<ae.length;re++)te=ae[re],this._raiseRemoveItem(te)},resetItems:function(){for(var te=0;te<this._items.length;te++)this._items[te].reset()},update:function(){for(var te=!1,re=0;re<this._items.length;re++)te=this._items[re].update()||te;return te},draw:function(){for(var te=0;te<this._items.length;te++)this._items[te].draw();this._needsDraw=!1},needsDraw:function(){for(var te=0;te<this._items.length;te++)if(this._items[te].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(te){this._autoRefigureSizes=te,te&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(te){te=te||{};var re=te.immediately||!1,ae=te.layout||Q.DEFAULT_SETTINGS.collectionLayout,de=te.rows||Q.DEFAULT_SETTINGS.collectionRows,he=te.columns||Q.DEFAULT_SETTINGS.collectionColumns,pe=te.tileSize||Q.DEFAULT_SETTINGS.collectionTileSize,ge=te.tileMargin||Q.DEFAULT_SETTINGS.collectionTileMargin,ye=pe+ge,xe;!te.rows&&he?xe=he:xe=Math.ceil(this._items.length/de);var Ee=0,De=0,Be,et,Ke,nt,Ce;this.setAutoRefigureSizes(!1);for(var Ye=0;Ye<this._items.length;Ye++)Ye&&Ye%xe===0&&(ae==="horizontal"?(De+=ye,Ee=0):(Ee+=ye,De=0)),Be=this._items[Ye],et=Be.getBounds(),et.width>et.height?Ke=pe:Ke=pe*(et.width/et.height),nt=Ke*(et.height/et.width),Ce=new Q.Point(Ee+(pe-Ke)/2,De+(pe-nt)/2),Be.setPosition(Ce,re),Be.setWidth(Ke,re),ae==="horizontal"?Ee+=ye:De+=ye;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var te=this._homeBounds?this._homeBounds.clone():null,re=this._contentSize?this._contentSize.clone():null,ae=this._contentFactor||0;if(!this._items.length)this._homeBounds=new Q.Rect(0,0,1,1),this._contentSize=new Q.Point(1,1),this._contentFactor=1;else{var de=this._items[0],he=de.getBounds();this._contentFactor=de.getContentSize().x/he.width;for(var pe=de.getClippedBounds().getBoundingBox(),ge=pe.x,ye=pe.y,xe=pe.x+pe.width,Ee=pe.y+pe.height,De=1;De<this._items.length;De++)de=this._items[De],he=de.getBounds(),this._contentFactor=Math.max(this._contentFactor,de.getContentSize().x/he.width),pe=de.getClippedBounds().getBoundingBox(),ge=Math.min(ge,pe.x),ye=Math.min(ye,pe.y),xe=Math.max(xe,pe.x+pe.width),Ee=Math.max(Ee,pe.y+pe.height);this._homeBounds=new Q.Rect(ge,ye,xe-ge,Ee-ye),this._contentSize=new Q.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==ae||!this._homeBounds.equals(te)||!this._contentSize.equals(re))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(te){this.raiseEvent("remove-item",{item:te})}})}(ie)})(Ch);var Qi=Ch.exports;const _n="http://www.w3.org/2000/svg",js=ee=>{const ie=ee.getAttribute("class");return ie?new Set(ie.split(" ")):new Set},Pi=(ee,ie)=>{const Q=js(ee);Q.add(ie),ee.setAttribute("class",Array.from(Q).join(" "))},zs=(ee,ie)=>{const Q=js(ee);Q.delete(ie),Q.size===0?ee.removeAttribute("class"):ee.setAttribute("class",Array.from(Q).join(" "))},Vs=(ee,ie)=>js(ee).has(ie),Bi=(ee,ie)=>{const Q=ee.selector("FragmentSelector");if(Q!=null&&Q.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:te}=Q,re=te.includes(":")?te.substring(te.indexOf("=")+1,te.indexOf(":")):"pixel",ae=te.includes(":")?te.substring(te.indexOf(":")+1):te.substring(te.indexOf("=")+1);let[de,he,pe,ge]=ae.split(",").map(parseFloat);return re.toLowerCase()==="percent"&&(de=de*ie.naturalWidth/100,he=he*ie.naturalHeight/100,pe=pe*ie.naturalWidth/100,ge=ge*ie.naturalHeight/100),{x:de,y:he,w:pe,h:ge}}},Ux=(ee,ie,Q,te,re)=>({source:re==null?void 0:re.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${ee},${ie},${Q},${te}`}}),Wx=(ee,ie,Q,te,re)=>{const ae=ee/re.naturalWidth*100,de=ie/re.naturalHeight*100,he=Q/re.naturalWidth*100,pe=te/re.naturalHeight*100;return{source:re.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${ae},${de},${he},${pe}`}}},wr=(ee,ie,Q,te,re,ae)=>(ae==null?void 0:ae.toLowerCase())==="percent"?Wx(ee,ie,Q,te,re):Ux(ee,ie,Q,te,re),ta=(ee,ie,Q,te,re)=>{ee.setAttribute("x",ie),ee.setAttribute("y",Q),ee.setAttribute("width",te),ee.setAttribute("height",re)},na=(ee,ie,Q)=>{ee.setAttribute("cx",ie),ee.setAttribute("cy",Q),ee.setAttribute("r",7)},_h=(ee,ie,Q,te,re)=>{const ae=document.createElementNS(_n,"path");ae.setAttribute("fill-rule","evenodd");const{naturalWidth:de,naturalHeight:he}=ee;return ae.setAttribute("d",`M0 0 h${de} v${he} h-${de} z M${ie} ${Q} h${te} v${re} h-${te} z`),ae},$s=(ee,ie,Q,te,re,ae)=>{const{naturalWidth:de,naturalHeight:he}=ie;ee.setAttribute("d",`M0 0 h${de} v${he} h-${de} z M${Q} ${te} h${re} v${ae} h-${re} z`)},Us=(ee,ie,Q,te)=>{const{x:re,y:ae,w:de,h:he}=ee.type==="Annotation"||ee.type==="Selection"?Bi(ee,ie):{x:ee,y:ie,w:Q,h:te},pe=document.createElementNS(_n,"g");if(de===0&&he===0){Pi(pe,"a9s-point"),Pi(pe,"a9s-non-scaling"),pe.setAttribute("transform-origin",`${re} ${ae}`);const ge=document.createElementNS(_n,"circle"),ye=document.createElementNS(_n,"circle");ye.setAttribute("class","a9s-inner"),na(ye,re,ae),ge.setAttribute("class","a9s-outer"),na(ge,re,ae),pe.appendChild(ge),pe.appendChild(ye)}else{const ge=document.createElementNS(_n,"rect"),ye=document.createElementNS(_n,"rect");ye.setAttribute("class","a9s-inner"),ta(ye,re,ae,de,he),ge.setAttribute("class","a9s-outer"),ta(ge,re,ae,de,he),pe.appendChild(ge),pe.appendChild(ye)}return pe},Th=ee=>{const ie=ee.querySelector(".a9s-outer");if(ie.nodeName==="rect"){const Q=parseFloat(ie.getAttribute("x")),te=parseFloat(ie.getAttribute("y")),re=parseFloat(ie.getAttribute("width")),ae=parseFloat(ie.getAttribute("height"));return{x:Q,y:te,w:re,h:ae}}else{const Q=parseFloat(ie.getAttribute("cx")),te=parseFloat(ie.getAttribute("cy"));return{x:Q,y:te,w:0,h:0}}},Ws=(ee,ie,Q,te,re)=>{const ae=ee.querySelector(".a9s-inner"),de=ee.querySelector(".a9s-outer");de.nodeName==="rect"?(ta(ae,ie,Q,te,re),ta(de,ie,Q,te,re)):(na(ae,ie,Q),na(de,ie,Q))},Gx=(ee,ie)=>{const{w:Q,h:te}=Bi(ee,ie);return Q*te};class qx{constructor(ie,Q,te,re,ae){ne(this,"dragTo",(de,he)=>{this.group.style.display=null,this.opposite=[de,he];const{x:pe,y:ge,w:ye,h:xe}=this.bbox;$s(this.mask,this.env.image,pe,ge,ye,xe),Ws(this.rect,pe,ge,ye,xe)}),ne(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),ne(this,"toSelection",()=>{const{x:de,y:he,w:pe,h:ge}=this.bbox;return new Gr(wr(de,he,pe,ge,this.env.image,this.config.fragmentUnit))}),ne(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[ie,Q],this.opposite=[ie,Q],this.config=re,this.env=ae,this.group=document.createElementNS(_n,"g"),this.mask=_h(ae.image,ie,Q,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Us(ie,Q,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),te.appendChild(this.group)}get bbox(){const ie=this.opposite[0]-this.anchor[0],Q=this.opposite[1]-this.anchor[1];return{x:ie>0?this.anchor[0]:this.opposite[0],y:Q>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(ie)),h:Math.max(1,Math.abs(Q))}}get element(){return this.rect}}const Kx={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Gs=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Xx=ee=>{let ie=null;const Q=(re,ae)=>new MouseEvent(re,{screenX:ae.screenX,screenY:ae.screenY,clientX:ae.clientX,clientY:ae.clientY,pageX:ae.pageX,pageY:ae.pageY,bubbles:!0}),te=re=>{const ae=re.changedTouches[0],de=Q(Kx[re.type],ae);ae.target.dispatchEvent(de),re.preventDefault(),(re.type==="touchstart"||re.type==="touchmove")&&(ie&&clearTimeout(ie),ie=setTimeout(()=>{const he=Q("dblclick",ae);ae.target.dispatchEvent(he)},800)),re.type==="touchend"&&ie&&clearTimeout(ie)};ee.addEventListener("touchstart",te,!0),ee.addEventListener("touchmove",te,!0),ee.addEventListener("touchend",te,!0),ee.addEventListener("touchcancel",te,!0)},ia="An implementation is missing",Yx=Gs();class Ph extends Qr{constructor(ie,Q,te){super(),ne(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const ae=this.svg.getBoundingClientRect(),{width:de,height:he}=this.svg.viewBox.baseVal;this.scale=Math.max(de/ae.width,he/ae.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),ne(this,"getSVGPoint",ae=>{const de=this.svg.createSVGPoint();if(Yx){const he=this.svg.getBoundingClientRect(),pe=ae.clientX-he.x,ge=ae.clientY-he.y,{left:ye,top:xe}=this.svg.getBoundingClientRect();return de.x=pe+ye,de.y=ge+xe,de.matrixTransform(this.g.getScreenCTM().inverse())}else return de.x=ae.offsetX,de.y=ae.offsetY,de.matrixTransform(this.g.getCTM().inverse())}),ne(this,"drawHandle",(ae,de)=>{const he=document.createElementNS(_n,"g");he.setAttribute("class","a9s-handle");const pe=document.createElementNS(_n,"g"),ge=De=>{const Be=document.createElementNS(_n,"circle");return Be.setAttribute("cx",ae),Be.setAttribute("cy",de),Be.setAttribute("r",De),Be.setAttribute("transform-origin",`${ae} ${de}`),Be},ye=this.config.handleRadius||6,xe=ge(ye);xe.setAttribute("class","a9s-handle-inner");const Ee=ge(ye+1);return Ee.setAttribute("class","a9s-handle-outer"),pe.appendChild(Ee),pe.appendChild(xe),he.appendChild(pe),he}),ne(this,"setHandleXY",(ae,de,he)=>{const pe=ae.querySelector(".a9s-handle-inner");pe.setAttribute("cx",de),pe.setAttribute("cy",he),pe.setAttribute("transform-origin",`${de} ${he}`);const ge=ae.querySelector(".a9s-handle-outer");ge.setAttribute("cx",de),ge.setAttribute("cy",he),ge.setAttribute("transform-origin",`${de} ${he}`)}),ne(this,"getHandleXY",ae=>{const de=ae.querySelector(".a9s-handle-outer");return{x:parseFloat(de.getAttribute("cx")),y:parseFloat(de.getAttribute("cy"))}}),ne(this,"scaleHandle",ae=>{const de=ae.querySelector(".a9s-handle-inner"),he=ae.querySelector(".a9s-handle-outer"),pe=this.scale*(this.config.handleRadius||6);de.setAttribute("r",pe),he.setAttribute("r",pe)}),this.svg=ie.closest("svg"),this.g=ie,this.config=Q,this.env=te,this.scale=1;const{image:re}=te;(re instanceof Element||re instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class qs extends Ph{constructor(ie,Q,te){super(ie,Q,te),ne(this,"attachListeners",({mouseMove:re,mouseUp:ae,dblClick:de})=>{re&&(this.mouseMove=he=>{const{x:pe,y:ge}=this.getSVGPoint(he);this.started||(this.emit("startSelection",{x:pe,y:ge}),this.started=!0),re(pe,ge,he)},this.svg.addEventListener("mousemove",this.mouseMove)),ae&&(this.mouseUp=he=>{if(he.button!==0)return;const{x:pe,y:ge}=this.getSVGPoint(he);ae(pe,ge,he)},document.addEventListener("mouseup",this.mouseUp)),de&&(this.dblClick=he=>{const{x:pe,y:ge}=this.getSVGPoint(he);de(pe,ge,he)},document.addEventListener("dblclick",this.dblClick))}),ne(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),ne(this,"start",(re,ae)=>{const{x:de,y:he}=this.getSVGPoint(re);this.startDrawing(de,he,ae,re)}),ne(this,"startDrawing",re=>{throw new Error(ia)}),ne(this,"createEditableShape",(re,ae)=>{throw new Error(ia)}),this.started=!1}get isDrawing(){throw new Error(ia)}}qs.supports=ee=>{throw new Error(ia)};const Oh="An implementation is missing";class Ah extends Ph{constructor(ie,Q,te,re){super(Q,te,re),ne(this,"updateState",ae=>{throw new Error(Oh)}),this.annotation=ie}get element(){throw new Error(Oh)}}const Zx=/firefox/i.test(navigator.userAgent),Rh=(ee,ie,Q,te,re)=>{ee.setAttribute("width",te),ee.setAttribute("height",re),Zx?(ee.setAttribute("x",0),ee.setAttribute("y",0),ee.setAttribute("transform",`translate(${ie}, ${Q})`)):(ee.setAttribute("x",ie),ee.setAttribute("y",Q))},Jx=(ee,ie)=>{const{x:Q,y:te,width:re,height:ae}=ie.getBBox(),de=document.createElementNS(_n,"svg");de.setAttribute("class","a9s-formatter-el"),Rh(de,Q,te,re,ae);const he=document.createElementNS(_n,"g");he.appendChild(ee),de.appendChild(he),ie.append(de)},ra=(ee,ie,Q)=>{if(!Q)return ee;const te=Q.reduce((he,pe)=>{const ge=pe(ie);if(!ge)return he;if(typeof ge=="string"||ge instanceof String)he.className=he.className?`${he.className} ${ge}`:ge;else if(ge.nodeType===Node.ELEMENT_NODE)he.elements=he.elements?[...he.elements,ge]:[ge];else{const{className:ye,style:xe,element:Ee}=ge;ye&&(he.className=he.className?`${he.className} ${ye}`:ye),xe&&(he.style=he.style?`${he.style} ${xe}`:xe),Ee&&(he.elements=he.elements?[...he.elements,Ee]:[Ee])}for(const ye in ge)ge.hasOwnProperty(ye)&&ye.startsWith("data-")&&(he[ye]=ge[ye]);return he},{}),{className:re,style:ae,elements:de}=te;if(re&&Pi(ee,re),ae){const he=ee.querySelector(".a9s-outer"),pe=ee.querySelector(".a9s-inner");he&&pe?(he.setAttribute("style","display:none"),pe.setAttribute("style",ae)):ee.setAttribute("style",ae)}de&&de.forEach(he=>Jx(he,ee));for(const he in te)te.hasOwnProperty(he)&&he.startsWith("data-")&&ee.setAttribute(he,te[he])},Ks=(ee,ie,Q,te,re)=>{const ae=ee.querySelector(".a9s-formatter-el");ae&&Rh(ae,ie,Q,te,re)};class Qx extends Ah{constructor(ie,Q,te,re){super(ie,Q,te,re),ne(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),ne(this,"setSize",(ge,ye,xe,Ee)=>{Ws(this.rectangle,ge,ye,xe,Ee),$s(this.mask,this.env.image,ge,ye,xe,Ee),Ks(this.elementGroup,ge,ye,xe,Ee);const[De,Be,et,Ke]=this.handles;this.setHandleXY(De,ge,ye),this.setHandleXY(Be,ge+xe,ye),this.setHandleXY(et,ge+xe,ye+Ee),this.setHandleXY(Ke,ge,ye+Ee)}),ne(this,"stretchCorners",(ge,ye,xe)=>{const Ee=this.getHandleXY(ye),De=xe.x-Ee.x,Be=xe.y-Ee.y,et=De>0?Ee.x:xe.x,Ke=Be>0?Ee.y:xe.y,nt=Math.abs(De),Ce=Math.abs(Be);Ws(this.rectangle,et,Ke,nt,Ce),$s(this.mask,this.env.image,et,Ke,nt,Ce),Ks(this.elementGroup,et,Ke,nt,Ce),this.setHandleXY(this.handles[ge],xe.x,xe.y);const Ye=this.handles[(ge+3)%4];this.setHandleXY(Ye,Ee.x,xe.y);const ct=this.handles[(ge+5)%4];return this.setHandleXY(ct,xe.x,Ee.y),{x:et,y:Ke,w:nt,h:Ce}}),ne(this,"onGrab",ge=>ye=>{if(ye.button!==0)return;this.grabbedElem=ge;const xe=this.getSVGPoint(ye),{x:Ee,y:De}=Th(this.rectangle);this.mouseOffset={x:xe.x-Ee,y:xe.y-De}}),ne(this,"onMouseMove",ge=>{if(ge.button!==0)return;const ye=(xe,Ee)=>xe<0?0:xe>Ee?Ee:xe;if(this.grabbedElem){const xe=this.getSVGPoint(ge);if(this.grabbedElem===this.rectangle){const{w:Ee,h:De}=Th(this.rectangle),{naturalWidth:Be,naturalHeight:et}=this.env.image,Ke=ye(xe.x-this.mouseOffset.x,Be-Ee),nt=ye(xe.y-this.mouseOffset.y,et-De);this.setSize(Ke,nt,Ee,De),this.emit("update",wr(Ke,nt,Ee,De,this.env.image,this.config.fragmentUnit))}else{const Ee=this.handles.indexOf(this.grabbedElem),De=Ee<2?this.handles[Ee+2]:this.handles[Ee-2],{x:Be,y:et,w:Ke,h:nt}=this.stretchCorners(Ee,De,xe);this.emit("update",wr(Be,et,Ke,nt,this.env.image,this.config.fragmentUnit))}}}),ne(this,"onMouseUp",ge=>{this.grabbedElem=null,this.mouseOffset=null}),ne(this,"updateState",ge=>{const{x:ye,y:xe,w:Ee,h:De}=Bi(ge,this.env.image);this.setSize(ye,xe,Ee,De)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:ae,y:de,w:he,h:pe}=Bi(ie,re.image);this.containerGroup=document.createElementNS(_n,"g"),this.mask=_h(re.image,ae,de,he,pe),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(_n,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",ie.id),this.rectangle=Us(ae,de,he,pe),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[ae,de],[ae+he,de],[ae+he,de+pe],[ae,de+pe]].map(ge=>{const[ye,xe]=ge,Ee=this.drawHandle(ye,xe);return Ee.addEventListener("mousedown",this.onGrab(Ee)),this.elementGroup.appendChild(Ee),Ee}),this.containerGroup.appendChild(this.elementGroup),Q.appendChild(this.containerGroup),ra(this.rectangle,ie,te.formatters),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class oa extends qs{constructor(ie,Q,te){super(ie,Q,te),ne(this,"startDrawing",(re,ae)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new qx(re,ae,this.g,this.config,this.env)}),ne(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),ne(this,"onMouseMove",(re,ae)=>this.rubberband.dragTo(re,ae)),ne(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:re,height:ae}=this.rubberband.getBoundingClientRect(),de=this.config.minSelectionWidth||4,he=this.config.minSelectionHeight||4;if(re>=de&&ae>=he){const{element:pe}=this.rubberband;pe.annotation=this.rubberband.toSelection(),this.emit("complete",pe)}else this.emit("cancel");this.stop()}),ne(this,"createEditableShape",(re,ae)=>new Qx(re,this.g,{...this.config,formatters:ae},this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}oa.identifier="rect",oa.supports=ee=>{const ie=ee.selector("FragmentSelector");return ie==null?void 0:ie.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const aa=ee=>{let ie=0,Q=ee.length-1;for(let te=0;te<ee.length;te++)ie+=(ee[Q][0]+ee[te][0])*(ee[Q][1]-ee[te][1]),Q=te;return Math.abs(.5*ie)},eS=(ee,ie,Q,te)=>{const re=ee[0]-ie,ae=ee[1]-Q;return Math.sqrt(re*re+ae*ae)<=te},tS=(ee,ie,Q,te,re,ae)=>{const de=ae||0,he=Math.cos(de),pe=Math.sin(de),ge=ee[0]-ie,ye=ee[1]-Q,xe=he*ge+pe*ye,Ee=pe*ge-he*ye;return xe*xe/(te*te)+Ee*Ee/(re*re)<=1},Xs=(ee,ie)=>{const Q=ee[0],te=ee[1];let re=!1;for(let ae=0,de=ie.length-1;ae<ie.length;de=ae++){const he=ie[ae][0],pe=ie[ae][1],ge=ie[de][0],ye=ie[de][1];pe>te!=ye>te&&Q<(ge-he)*(te-pe)/(ye-pe)+he&&(re=!re)}return re},nS=(ee,ie)=>{for(let Q of ee)if(!Xs(Q,ie))return!1;return!0},Dh=ee=>{const ie=ee.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(re=>re.trim()),Q=[];let te=[];for(let re of ie){const ae=re.substring(0,1);if(ae.toLowerCase()==="z")Q.push([...te]),te=[];else{const de=re.substring(1).split(" ").map(ye=>parseFloat(ye.trim())),he=ae===ae.toUpperCase(),pe=he?de[0]:de[0]+te[te.length-1][0],ge=he?de[1]:de[1]+te[te.length-1][1];te.push([pe,ge])}}return te.length>0&&Q.push([...te]),Q},iS=ee=>{const ie=new XMLSerializer().serializeToString(ee.documentElement).replace("<svg>",`<svg xmlns="${_n}">`);return new DOMParser().parseFromString(ie,"image/svg+xml").documentElement},kh=ee=>{const ie=te=>{Array.from(te.attributes).forEach(re=>{re.name.startsWith("on")&&te.removeAttribute(re.name)})},Q=ee.getElementsByTagName("script");return Array.from(Q).reverse().forEach(te=>te.parentNode.removeChild(te)),ie(ee),Array.from(ee.querySelectorAll("*")).forEach(ie),ee},er=ee=>{const ie=ee.selector("SvgSelector");if(ie){const Q=new DOMParser,{value:te}=ie,re=Q.parseFromString(te,"image/svg+xml"),ae=re.lookupPrefix(_n),de=re.lookupNamespaceURI(null);return ae||de?kh(re).firstChild:kh(iS(re)).firstChild}},Ih=ee=>{const ie=er(ee),Q=document.createElementNS(_n,"g"),te=ie.cloneNode(!0);te.setAttribute("class","a9s-inner");const re=ie.cloneNode(!0);return re.setAttribute("class","a9s-outer"),Q.appendChild(re),Q.appendChild(te),Q},Ys=(ee,ie)=>{const Q=ee.querySelector(".a9s-inner").cloneNode(!0);Q.removeAttribute("class"),Q.removeAttribute("xmlns");let te=Q.outerHTML||new XMLSerializer().serializeToString(Q);return te=te.replace(` xmlns="${_n}"`,""),{source:ie==null?void 0:ie.src,selector:{type:"SvgSelector",value:`<svg>${te}</svg>`}}},rS=ee=>{const ie=er(ee),Q=ie.nodeName.toLowerCase();if(Q==="polygon")return oS(ie);if(Q==="circle")return aS(ie);if(Q==="ellipse")return sS(ie);if(Q=="path")return lS(ie);if(Q=="line")return 0;throw`Unsupported SVG shape type: ${Q}`},oS=ee=>{const ie=ee.getAttribute("points").trim().split(" ").map(Q=>Q.split(",").map(te=>parseFloat(te.trim())));return aa(ie)},aS=ee=>{const ie=ee.getAttribute("r");return ie*ie*Math.PI},sS=ee=>{const ie=ee.getAttribute("rx"),Q=ee.getAttribute("ry");return ie*Q*Math.PI},lS=ee=>{const ie=Dh(ee);if(ie.length==1)return aa(ie[0]);{const Q=re=>ie.find(ae=>{if(re!==ae)return nS(re,ae)});let te=0;for(let re of ie)Q(re)?te-=aa(re):te+=aa(re);return te}};class Nh{constructor(ie,Q){ne(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),ne(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=ie.naturalWidth,this.h=ie.naturalHeight,this.polygon=Q,this.mask=document.createElementNS(_n,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class uS{constructor(ie,Q,te){ne(this,"setPoints",re=>{const ae=re.map(de=>`${de[0]},${de[1]}`).join(" ");this.outer.setAttribute("points",ae),this.inner.setAttribute("points",ae)}),ne(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),ne(this,"dragTo",re=>{this.group.style.display=null,this.mousepos=re;const ae=[...this.points,re];this.setPoints(ae),this.mask.redraw()}),ne(this,"addPoint",()=>{const[re,ae]=this.mousepos,de=this.points[this.points.length-1];Math.pow(re-de[0],2)+Math.pow(ae-de[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),ne(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),ne(this,"toSelection",()=>new Gr(Ys(this.group,this.env.image))),this.points=[ie],this.env=te,this.mousepos=ie,this.group=document.createElementNS(_n,"g"),this.polygon=document.createElementNS(_n,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(_n,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(_n,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new Nh(te.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),Q.appendChild(this.group)}get element(){return this.polygon}}const Zs=ee=>{const ie=ee.querySelector(".a9s-inner").points,Q=[];for(let te=0;te<ie.numberOfItems;te++)Q.push(ie.getItem(te));return Q},cS=ee=>ee.querySelector(".a9s-inner").getBBox();class dS extends Ah{constructor(ie,Q,te,re){super(ie,Q,te,re),ne(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),ne(this,"setPoints",ae=>{const de=De=>Math.round(10*De)/10,he=ae.map(De=>`${de(De.x)},${de(De.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",he);const pe=this.shape.querySelector(".a9s-outer");pe.setAttribute("points",he),this.mask.redraw();const{x:ge,y:ye,width:xe,height:Ee}=pe.getBBox();Ks(this.elementGroup,ge,ye,xe,Ee)}),ne(this,"onGrab",ae=>de=>{de.button===0&&(this.grabbedElem=ae,this.grabbedAt=this.getSVGPoint(de))}),ne(this,"onMouseMove",ae=>{const de=(he,pe,ge)=>he+pe<0?-he:he+pe>ge?ge-he:pe;if(this.grabbedElem){const he=this.getSVGPoint(ae);if(this.grabbedElem===this.shape){const{x:pe,y:ge,width:ye,height:xe}=cS(this.shape),{naturalWidth:Ee,naturalHeight:De}=this.env.image,Be=de(pe,he.x-this.grabbedAt.x,Ee-ye),et=de(ge,he.y-this.grabbedAt.y,De-xe),Ke=Zs(this.shape).map(nt=>({x:nt.x+Be,y:nt.y+et}));this.grabbedAt=he,this.setPoints(Ke),Ke.forEach((nt,Ce)=>this.setHandleXY(this.handles[Ce],nt.x,nt.y)),this.emit("update",Ys(this.shape,this.env.image))}else{const pe=this.handles.indexOf(this.grabbedElem),ge=Zs(this.shape).map((ye,xe)=>xe===pe?he:ye);this.setPoints(ge),this.setHandleXY(this.handles[pe],he.x,he.y),this.emit("update",Ys(this.shape,this.env.image))}}}),ne(this,"onMouseUp",ae=>{this.grabbedElem=null,this.grabbedAt=null}),ne(this,"updateState",ae=>{const de=er(ae).getAttribute("points").split(" ").map(he=>{const[pe,ge]=he.split(",").map(ye=>parseFloat(ye.trim()));return{x:pe,y:ge}});this.setPoints(de),de.forEach((he,pe)=>this.setHandleXY(this.handles[pe],he.x,he.y))}),ne(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(_n,"g"),this.shape=Ih(ie),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new Nh(re.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(_n,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",ie.id),this.elementGroup.appendChild(this.shape),this.handles=Zs(this.shape).map(ae=>{const de=this.drawHandle(ae.x,ae.y);return de.addEventListener("mousedown",this.onGrab(de)),this.elementGroup.appendChild(de),de}),this.containerGroup.appendChild(this.elementGroup),Q.appendChild(this.containerGroup),ra(this.shape,ie,te.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Js extends qs{constructor(ie,Q,te){super(ie,Q,te),ne(this,"startDrawing",(re,ae,de)=>{this._isDrawing=!0,this._startOnSingleClick=de,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new uS([re,ae],this.g,this.env)}),ne(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),ne(this,"onMouseMove",(re,ae)=>this.rubberband.dragTo([re,ae])),ne(this,"onMouseUp",()=>{const{width:re,height:ae}=this.rubberband.getBoundingClientRect(),de=this.config.minSelectionWidth||4,he=this.config.minSelectionHeight||4;re>=de||ae>=he?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),ne(this,"onDblClick",()=>{this._isDrawing=!1;const re=this.rubberband.element;re.annotation=this.rubberband.toSelection(),this.emit("complete",re),this.stop()}),ne(this,"createEditableShape",(re,ae)=>new dS(re,this.g,{...this.config,formatters:ae},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Js.identifier="polygon",Js.supports=ee=>{var ie;const Q=ee.selector("SvgSelector");if(Q)return(ie=Q.value)==null?void 0:ie.match(/^<svg.*<polygon/g)};class hS extends Qr{constructor(ie,Q,te){super(),ne(this,"listTools",()=>this._registered.map(re=>re.identifier)),ne(this,"registerTool",re=>{const ae=re.identifier;this.listTools().includes(ae)&&this.unregisterTool(ae),this._registered.unshift(re)}),ne(this,"unregisterTool",re=>this._registered=this._registered.filter(ae=>ae.identifier!==re)),ne(this,"setCurrent",re=>{const ae=typeof re=="string"||re instanceof String?this._registered.find(de=>de.identifier===re):re;this._current=new ae(this._g,this._config,this._env),this._current.on("startSelection",de=>this.emit("startSelection",de)),this._current.on("complete",de=>this.emit("complete",de)),this._current.on("cancel",de=>this.emit("cancel",de))}),ne(this,"forAnnotation",re=>{var ae;const[de,...he]=re.targets,pe=(ae=de.renderedVia)==null?void 0:ae.name,ge=pe?this._registered.find(ye=>ye.identifier===pe):this._registered.find(ye=>ye.supports(re));return ge?new ge(this._g,this._config,this._env):null}),this._g=ie,this._config=Q,this._env=te,this._registered=[oa,Js],this.setCurrent(oa)}get current(){return this._current}}class pS{constructor(ie,Q,te){this.svg=ie.closest("svg"),this.g=document.createElementNS(_n,"g"),this.g.setAttribute("class","a9s-crosshair");const re=document.createElementNS(_n,"line"),ae=document.createElementNS(_n,"line");this.g.appendChild(re),this.g.appendChild(ae),ie.appendChild(this.g);const de=he=>{const pe=this.svg.getBoundingClientRect(),ge=he.clientX-pe.x,ye=he.clientY-pe.y,xe=this.svg.createSVGPoint(),{left:Ee,top:De}=this.svg.getBoundingClientRect();return xe.x=ge+Ee,xe.y=ye+De,xe.matrixTransform(ie.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",he=>{const{x:pe,y:ge}=de(he);re.setAttribute("x1",0),re.setAttribute("y1",ge),re.setAttribute("x2",Q),re.setAttribute("y2",ge),ae.setAttribute("x1",pe),ae.setAttribute("y1",0),ae.setAttribute("x2",pe),ae.setAttribute("y2",te)})}}const fS={FragmentSelector:Us,SvgSelector:Ih},gS={FragmentSelector:Gx,SvgSelector:rS},Mh=ee=>{const ie=ee.targets[0];if(ie)return Array.isArray(ie.selector)?ie.selector[0]:ie.selector},Qs=(ee,ie)=>fS[Mh(ee).type](ee,ie),Fh=(ee,ie)=>gS[Mh(ee).type](ee,ie);function mS(ee,ie,Q,te,re){Bh(ee,ie,Q||0,te||ee.length-1,re||vS)}function Bh(ee,ie,Q,te,re){for(;te>Q;){if(te-Q>600){var ae=te-Q+1,de=ie-Q+1,he=Math.log(ae),pe=.5*Math.exp(2*he/3),ge=.5*Math.sqrt(he*pe*(ae-pe)/ae)*(de-ae/2<0?-1:1),ye=Math.max(Q,Math.floor(ie-de*pe/ae+ge)),xe=Math.min(te,Math.floor(ie+(ae-de)*pe/ae+ge));Bh(ee,ie,ye,xe,re)}var Ee=ee[ie],De=Q,Be=te;for(qr(ee,Q,ie),re(ee[te],Ee)>0&&qr(ee,Q,te);De<Be;){for(qr(ee,De,Be),De++,Be--;re(ee[De],Ee)<0;)De++;for(;re(ee[Be],Ee)>0;)Be--}re(ee[Q],Ee)===0?qr(ee,Q,Be):(Be++,qr(ee,Be,te)),Be<=ie&&(Q=Be+1),ie<=Be&&(te=Be-1)}}function qr(ee,ie,Q){var te=ee[ie];ee[ie]=ee[Q],ee[Q]=te}function vS(ee,ie){return ee<ie?-1:ee>ie?1:0}class yS{constructor(ie=9){this._maxEntries=Math.max(4,ie),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(ie){let Q=this.data;const te=[];if(!la(ie,Q))return te;const re=this.toBBox,ae=[];for(;Q;){for(let de=0;de<Q.children.length;de++){const he=Q.children[de],pe=Q.leaf?re(he):he;la(ie,pe)&&(Q.leaf?te.push(he):tl(ie,pe)?this._all(he,te):ae.push(he))}Q=ae.pop()}return te}collides(ie){let Q=this.data;if(!la(ie,Q))return!1;const te=[];for(;Q;){for(let re=0;re<Q.children.length;re++){const ae=Q.children[re],de=Q.leaf?this.toBBox(ae):ae;if(la(ie,de)){if(Q.leaf||tl(ie,de))return!0;te.push(ae)}}Q=te.pop()}return!1}load(ie){if(!(ie&&ie.length))return this;if(ie.length<this._minEntries){for(let te=0;te<ie.length;te++)this.insert(ie[te]);return this}let Q=this._build(ie.slice(),0,ie.length-1,0);if(!this.data.children.length)this.data=Q;else if(this.data.height===Q.height)this._splitRoot(this.data,Q);else{if(this.data.height<Q.height){const te=this.data;this.data=Q,Q=te}this._insert(Q,this.data.height-Q.height-1,!0)}return this}insert(ie){return ie&&this._insert(ie,this.data.height-1),this}clear(){return this.data=Sr([]),this}remove(ie,Q){if(!ie)return this;let te=this.data;const re=this.toBBox(ie),ae=[],de=[];let he,pe,ge;for(;te||ae.length;){if(te||(te=ae.pop(),pe=ae[ae.length-1],he=de.pop(),ge=!0),te.leaf){const ye=bS(ie,te.children,Q);if(ye!==-1)return te.children.splice(ye,1),ae.push(te),this._condense(ae),this}!ge&&!te.leaf&&tl(te,re)?(ae.push(te),de.push(he),he=0,pe=te,te=te.children[0]):pe?(he++,te=pe.children[he],ge=!1):te=null}return this}toBBox(ie){return ie}compareMinX(ie,Q){return ie.minX-Q.minX}compareMinY(ie,Q){return ie.minY-Q.minY}toJSON(){return this.data}fromJSON(ie){return this.data=ie,this}_all(ie,Q){const te=[];for(;ie;)ie.leaf?Q.push(...ie.children):te.push(...ie.children),ie=te.pop();return Q}_build(ie,Q,te,re){const ae=te-Q+1;let de=this._maxEntries,he;if(ae<=de)return he=Sr(ie.slice(Q,te+1)),xr(he,this.toBBox),he;re||(re=Math.ceil(Math.log(ae)/Math.log(de)),de=Math.ceil(ae/Math.pow(de,re-1))),he=Sr([]),he.leaf=!1,he.height=re;const pe=Math.ceil(ae/de),ge=pe*Math.ceil(Math.sqrt(de));Lh(ie,Q,te,ge,this.compareMinX);for(let ye=Q;ye<=te;ye+=ge){const xe=Math.min(ye+ge-1,te);Lh(ie,ye,xe,pe,this.compareMinY);for(let Ee=ye;Ee<=xe;Ee+=pe){const De=Math.min(Ee+pe-1,xe);he.children.push(this._build(ie,Ee,De,re-1))}}return xr(he,this.toBBox),he}_chooseSubtree(ie,Q,te,re){for(;re.push(Q),!(Q.leaf||re.length-1===te);){let ae=1/0,de=1/0,he;for(let pe=0;pe<Q.children.length;pe++){const ge=Q.children[pe],ye=el(ge),xe=SS(ie,ge)-ye;xe<de?(de=xe,ae=ye<ae?ye:ae,he=ge):xe===de&&ye<ae&&(ae=ye,he=ge)}Q=he||Q.children[0]}return Q}_insert(ie,Q,te){const re=te?ie:this.toBBox(ie),ae=[],de=this._chooseSubtree(re,this.data,Q,ae);for(de.children.push(ie),Xr(de,re);Q>=0&&ae[Q].children.length>this._maxEntries;)this._split(ae,Q),Q--;this._adjustParentBBoxes(re,ae,Q)}_split(ie,Q){const te=ie[Q],re=te.children.length,ae=this._minEntries;this._chooseSplitAxis(te,ae,re);const de=this._chooseSplitIndex(te,ae,re),he=Sr(te.children.splice(de,te.children.length-de));he.height=te.height,he.leaf=te.leaf,xr(te,this.toBBox),xr(he,this.toBBox),Q?ie[Q-1].children.push(he):this._splitRoot(te,he)}_splitRoot(ie,Q){this.data=Sr([ie,Q]),this.data.height=ie.height+1,this.data.leaf=!1,xr(this.data,this.toBBox)}_chooseSplitIndex(ie,Q,te){let re,ae=1/0,de=1/0;for(let he=Q;he<=te-Q;he++){const pe=Kr(ie,0,he,this.toBBox),ge=Kr(ie,he,te,this.toBBox),ye=ES(pe,ge),xe=el(pe)+el(ge);ye<ae?(ae=ye,re=he,de=xe<de?xe:de):ye===ae&&xe<de&&(de=xe,re=he)}return re||te-Q}_chooseSplitAxis(ie,Q,te){const re=ie.leaf?this.compareMinX:wS,ae=ie.leaf?this.compareMinY:xS,de=this._allDistMargin(ie,Q,te,re),he=this._allDistMargin(ie,Q,te,ae);de<he&&ie.children.sort(re)}_allDistMargin(ie,Q,te,re){ie.children.sort(re);const ae=this.toBBox,de=Kr(ie,0,Q,ae),he=Kr(ie,te-Q,te,ae);let pe=sa(de)+sa(he);for(let ge=Q;ge<te-Q;ge++){const ye=ie.children[ge];Xr(de,ie.leaf?ae(ye):ye),pe+=sa(de)}for(let ge=te-Q-1;ge>=Q;ge--){const ye=ie.children[ge];Xr(he,ie.leaf?ae(ye):ye),pe+=sa(he)}return pe}_adjustParentBBoxes(ie,Q,te){for(let re=te;re>=0;re--)Xr(Q[re],ie)}_condense(ie){for(let Q=ie.length-1,te;Q>=0;Q--)ie[Q].children.length===0?Q>0?(te=ie[Q-1].children,te.splice(te.indexOf(ie[Q]),1)):this.clear():xr(ie[Q],this.toBBox)}}function bS(ee,ie,Q){if(!Q)return ie.indexOf(ee);for(let te=0;te<ie.length;te++)if(Q(ee,ie[te]))return te;return-1}function xr(ee,ie){Kr(ee,0,ee.children.length,ie,ee)}function Kr(ee,ie,Q,te,re){re||(re=Sr(null)),re.minX=1/0,re.minY=1/0,re.maxX=-1/0,re.maxY=-1/0;for(let ae=ie;ae<Q;ae++){const de=ee.children[ae];Xr(re,ee.leaf?te(de):de)}return re}function Xr(ee,ie){return ee.minX=Math.min(ee.minX,ie.minX),ee.minY=Math.min(ee.minY,ie.minY),ee.maxX=Math.max(ee.maxX,ie.maxX),ee.maxY=Math.max(ee.maxY,ie.maxY),ee}function wS(ee,ie){return ee.minX-ie.minX}function xS(ee,ie){return ee.minY-ie.minY}function el(ee){return(ee.maxX-ee.minX)*(ee.maxY-ee.minY)}function sa(ee){return ee.maxX-ee.minX+(ee.maxY-ee.minY)}function SS(ee,ie){return(Math.max(ie.maxX,ee.maxX)-Math.min(ie.minX,ee.minX))*(Math.max(ie.maxY,ee.maxY)-Math.min(ie.minY,ee.minY))}function ES(ee,ie){const Q=Math.max(ee.minX,ie.minX),te=Math.max(ee.minY,ie.minY),re=Math.min(ee.maxX,ie.maxX),ae=Math.min(ee.maxY,ie.maxY);return Math.max(0,re-Q)*Math.max(0,ae-te)}function tl(ee,ie){return ee.minX<=ie.minX&&ee.minY<=ie.minY&&ie.maxX<=ee.maxX&&ie.maxY<=ee.maxY}function la(ee,ie){return ie.minX<=ee.maxX&&ie.minY<=ee.maxY&&ie.maxX>=ee.minX&&ie.maxY>=ee.minY}function Sr(ee){return{children:ee,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Lh(ee,ie,Q,te,re){const ae=[ie,Q];for(;ae.length;){if(Q=ae.pop(),ie=ae.pop(),Q-ie<=te)continue;const de=ie+Math.ceil((Q-ie)/te/2)*te;mS(ee,de,ie,Q,re),ae.push(ie,de,de,Q)}}const nl=(ee,ie)=>{if(ee.targets[0].selector.type==="FragmentSelector"){const{x:Q,y:te,w:re,h:ae}=Bi(ee);return{minX:Q,minY:te,maxX:Q+re,maxY:te+ae}}else{const Q=Qs(ee,ie),te=document.createElementNS(_n,"svg");te.style.position="absolute",te.style.opacity=0,te.style.top=0,te.style.left=0,te.appendChild(Q),document.body.appendChild(te);const{x:re,y:ae,width:de,height:he}=Q.getBBox();return document.body.removeChild(te),{minX:re,minY:ae,maxX:re+de,maxY:ae+he}}},CS=ee=>{var ie;const Q=ee.targets[0];return Array.isArray(Q.selector)?Q.selector[0].type:(ie=Q.selector)==null?void 0:ie.type},_S=(ee,ie,Q)=>{const te=er(Q),re=te.nodeName.toLowerCase(),ae=[ee,ie];if(re==="polygon"){const de=Array.from(te.points).map(he=>[he.x,he.y]);return Xs(ae,de)}else if(re==="circle"){const de=te.getAttribute("cx"),he=te.getAttribute("cy"),pe=te.getAttribute("r");return eS(ae,de,he,pe)}else if(re==="ellipse"){const de=te.getAttribute("cx"),he=te.getAttribute("cy"),pe=te.getAttribute("rx"),ge=te.getAttribute("ry");return tS(ae,de,he,pe,ge)}else{if(re==="path")return Dh(te).find(de=>Xs(ae,de));if(re==="line")return!0;throw`Unsupported SVG shape type: ${re}`}};class TS{constructor(ie){ne(this,"clear",()=>this.spatial_index.clear()),ne(this,"getAnnotationAt",(Q,te,re)=>{const ae=re?5/re:5,de=this.spatial_index.search({minX:Q-ae,minY:te-ae,maxX:Q+ae,maxY:te+ae}).map(he=>he.annotation).filter(he=>{const pe=CS(he);if(pe==="FragmentSelector")return!0;if(pe==="SvgSelector")return _S(Q,te,he);throw`Unsupported selector type: ${pe}`});if(de.length>0)return de.sort((he,pe)=>Fh(he,this.env.image)-Fh(pe,this.env.image)),de[0]}),ne(this,"getAnnotationsIntersecting",Q=>{const te=Q.minX,re=te?Q:nl(Q,this.env.image),ae=this.spatial_index.search(re).map(de=>de.annotation);return te?ae:ae.filter(de=>!de.isEqual(Q))}),ne(this,"insert",Q=>{(Array.isArray(Q)?Q:[Q]).forEach(te=>{this.spatial_index.insert({...nl(te,this.env.image),annotation:te})})}),ne(this,"getBounds",Q=>this.getBounds(Q,this.env.image)),ne(this,"remove",Q=>{const te={...nl(Q,this.env.image),annotation:Q};this.spatial_index.remove(te,(re,ae)=>re.annotation.id===ae.annotation.id)}),this.env=ie,this.spatial_index=new yS}}const Hh=(ee,ie)=>{const Q=(Vs(ie,".a9s-annotation")?ie:ie.closest(".a9s-annotation")).querySelector(".a9s-outer").getBoundingClientRect(),{canvas:te}=ee.drawer,re=te.getBoundingClientRect(),ae=te.width/re.width,de=te.height/re.height,he=Q.x-re.x,pe=Q.y-re.y,{width:ge,height:ye}=Q,xe=document.createElement("CANVAS"),Ee=xe.getContext("2d");xe.width=ge,xe.height=ye,Ee.drawImage(te,he*ae,pe*de,ge*ae,ye*de,0,0,ge,ye);const De=ee.viewport.viewerElementToImageCoordinates(new OpenSeadragon.Point(he,pe)),Be=ee.viewport.viewportToImageZoom(ee.viewport.getZoom());return{snippet:xe,transform:et=>{const Ke=De.x+et[0]/ae/Be,nt=De.y+et[1]/de/Be;return[Ke,nt]}}},PS=Gs();class jh extends Qr{constructor(ie){super(),ne(this,"_getShapeAt",te=>{const re=pe=>{const ge=this.svg.createSVGPoint();if(window.TouchEvent&&pe instanceof TouchEvent){const ye=this.svg.getBoundingClientRect(),xe=pe.touches[0],Ee=xe.clientX-ye.x,De=xe.clientY-ye.y,{left:Be,top:et}=this.svg.getBoundingClientRect();return ge.x=Ee+Be,ge.y=De+et,ge.matrixTransform(this.g.getScreenCTM().inverse())}else return ge.x=pe.offsetX,ge.y=pe.offsetY,ge.matrixTransform(this.g.getCTM().inverse())},{x:ae,y:de}=re(te),he=this.store.getAnnotationAt(ae,de,this.currentScale());if(he)return this.findShape(he)}),ne(this,"_initDrawingTools",te=>{var re;this.tools=new hS(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let ae=!1;this.mouseTracker=new Qi.MouseTracker({element:this.svg,preProcessEventHandler:pe=>{this.mouseTracker.enabled||(pe.preventDefault=!1,pe.preventGesture=!0),this.selectedShape&&pe.eventType==="wheel"&&(pe.preventDefault=!1,this.viewer.canvas.dispatchEvent(new pe.originalEvent.constructor(pe.eventType,pe.originalEvent)))},pressHandler:pe=>{this.tools.current.isDrawing||(this.tools.current.start(pe.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),te||this.scaleTool(this.tools.current))},moveHandler:pe=>{if(this.tools.current.isDrawing){pe.originalEvent.stopPropagation();const{x:ge,y:ye}=this.tools.current.getSVGPoint(pe.originalEvent);this.tools.current.onMouseMove(ge,ye,pe.originalEvent),ae||(this.emit("startSelection",{x:ge,y:ye}),ae=!0)}},releaseHandler:pe=>{if(this.tools.current.isDrawing){const{x:ge,y:ye}=this.tools.current.getSVGPoint(pe.originalEvent);this.tools.current.onMouseUp(ge,ye,pe.originalEvent)}ae=!1}});const de=this.config.hotkey?this.config.hotkey.key?this.config.hotkey.key.toLowerCase():this.config.hotkey.toLowerCase():"shift",he=(re=this.config.hotkey)==null?void 0:re.inverted;this.mouseTracker.enabled=he,this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=pe=>{pe.key.toLowerCase()===de&&!this.selectedShape&&(this.mouseTracker.enabled=!this.readOnly&&!he)},this.onKeyUp=pe=>{pe.key.toLowerCase()===de&&!this.tools.current.isDrawing&&(this.mouseTracker.enabled=he)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),ne(this,"_initMouseEvents",()=>{this.svg.addEventListener("mousemove",re=>{var ae,de;if(!((ae=this.tools)!=null&&ae.current.isDrawing)&&!re.target.closest(".a9s-annotation.editable.selected")){const he=this._getShapeAt(re);if((he==null?void 0:he.annotation)!==((de=this.hoveredShape)==null?void 0:de.annotation)){if(this.hoveredShape){const pe=this.hoveredShape.element||this.hoveredShape;zs(pe,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}he&&(Pi(he,"hover"),this.emit("mouseEnterAnnotation",he.annotation,he))}this.hoveredShape=he}});let te=null;this.viewer.addHandler("canvas-press",()=>te=new Date().getTime()),this.viewer.addHandler("canvas-click",re=>{var ae;const{originalEvent:de}=re;if(!(((ae=this.tools.current)==null?void 0:ae.isDrawing)||this.disableSelect)&&new Date().getTime()-te<250){const he=de.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(de);he?(re.preventDefaultAction=!0,this.selectShape(he)):he||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.hoveredShape&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)})}),ne(this,"_lazy",te=>{if(this.viewer.world.getItemAt(0))te();else{const re=()=>{te(),this.viewer.removeHandler("open",re),this.viewer.world.removeHandler("add-item",re)};this.viewer.addHandler("open",re),this.viewer.world.addHandler("add-item",re)}}),ne(this,"_refreshNonScalingAnnotations",()=>{const te=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(re=>re.setAttribute("transform",`scale(${1/te})`))}),ne(this,"addAnnotation",(te,re)=>{const ae=re||this.g,de=Qs(te,this.env.image);return Pi(de,"a9s-annotation"),de.setAttribute("data-id",te.id),de.annotation=te,ae.appendChild(de),ra(de,te,this.formatters),this.scaleFormatterElements(de),de}),ne(this,"addDrawingTool",te=>this.tools.registerTool(te)),ne(this,"addOrUpdateAnnotation",(te,re)=>{var ae;const de=(ae=this.selectedShape)==null?void 0:ae.annotation;(de===te||(de==null?void 0:de.isSelection)||de==re)&&this.deselect(),re&&this.removeAnnotation(te),this.removeAnnotation(te);const he=this.addAnnotation(te);Vs(he,"a9s-non-scaling")&&he.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(te)}),ne(this,"currentScale",()=>{const te=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*te/this.viewer.world.getContentFactor()}),ne(this,"deselect",()=>{var te;if((te=this.tools)==null||te.current.stop(),this.selectedShape){const{annotation:re}=this.selectedShape;if(this.selectedShape.destroy){if(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!re.isSelection){const ae=this.addAnnotation(re);Vs(ae,"a9s-non-scaling")&&ae.setAttribute("transform",`scale(${1/this.currentScale()})`)}}else zs(this.selectedShape,"selected");this.selectedShape=null}}),ne(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),ne(this,"findShape",te=>{const re=te!=null&&te.id?te.id:te;return this.g.querySelector(`.a9s-annotation[data-id="${re}"]`)}),ne(this,"_fit",(te,re,ae)=>{const de=this.findShape(te);if(de){const{x:he,y:pe,width:ge,height:ye}=de.getBBox(),xe=this.viewer.viewport.imageToViewportRectangle(he,pe,ge,ye);this.viewer.viewport[ae](xe,re)}}),ne(this,"fitBounds",(te,re)=>this._fit(te,re,"fitBounds")),ne(this,"fitBoundsWithConstraints",(te,re)=>this._fit(te,re,"fitBoundsWithConstraints")),ne(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(te=>te.annotation)),ne(this,"getAnnotationsIntersecting",te=>{const re=te.id?te:this.findShape(te).annotation;return this.store.getAnnotationsIntersecting(re)}),ne(this,"getImageSnippetById",te=>{const re=this.findShape(te);if(re)return Hh(this.viewer,re)}),ne(this,"getSelectedImageSnippet",()=>{var te;if(this.selectedShape){const re=(te=this.selectedShape.element)!=null?te:this.selectedShape;return Hh(this.viewer,re)}}),ne(this,"init",te=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(re=>this.g.removeChild(re)),this.store.clear(),this._lazy(()=>{console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),te.forEach(re=>this.addAnnotation(re)),console.log("Indexing..."),this.store.insert(te),console.timeEnd("Took"),this.resize()})}),ne(this,"listDrawingTools",()=>this.tools.listTools()),ne(this,"overrideId",(te,re)=>{const ae=this.findShape(te);ae.setAttribute("data-id",re);const{annotation:de}=ae,he=de.clone({id:re});return ae.annotation=he,this.store.remove(de),this.store.insert(he),he}),ne(this,"panTo",(te,re)=>{const ae=this.findShape(te);if(ae){const{top:de,left:he,width:pe,height:ge}=ae.getBoundingClientRect(),ye=he+pe/2+window.scrollX,xe=de+ge/2+window.scrollY,Ee=this.viewer.viewport.windowToViewportCoordinates(new Qi.Point(ye,xe));this.viewer.viewport.panTo(Ee,re)}}),ne(this,"removeAnnotation",te=>{var re,ae;const de=te.type?te.id:te;((re=this.selectedShape)==null?void 0:re.annotation.id)===de&&this.deselect();const he=this.findShape(te);if(he){const{annotation:pe}=he;((ae=this.selectedShape)==null?void 0:ae.annotation)===pe&&this.deselect(),he.parentNode.removeChild(he),this.store.remove(pe)}}),ne(this,"removeDrawingTool",te=>{var re;return(re=this.tools)==null?void 0:re.unregisterTool(te)}),ne(this,"scaleFormatterElements",te=>{const re=1/this.currentScale();if(te){const ae=te.querySelector(".a9s-formatter-el");ae&&ae.firstChild.setAttribute("transform",`scale(${re})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(ae=>ae.firstChild.setAttribute("transform",`scale(${re})`))}),ne(this,"scaleTool",te=>{if(te){const re=1/this.currentScale();te.scale=re,te.onScaleChanged&&te.onScaleChanged(re)}}),ne(this,"selectAnnotation",(te,re)=>{this.selectedShape&&this.deselect();const ae=this.findShape(te);if(ae){this.selectShape(ae,re);const de=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:ae.annotation,element:de}}else this.deselect()}),ne(this,"selectShape",(te,re)=>{var ae;if(!re&&!te.annotation.isSelection&&this.emit("clickAnnotation",te.annotation,te),((ae=this.selectedShape)==null?void 0:ae.annotation)===te.annotation)return;this.selectedShape&&this.selectedShape.annotation!==te.annotation&&this.deselect();const{annotation:de}=te;if(this.readOnly||de.readOnly||this.headless)this.selectedShape=te,Pi(te,"selected"),re||this.emit("select",{annotation:de,element:te,skipEvent:re});else{const he=this.tools.forAnnotation(de);if(he){setTimeout(()=>{te.parentNode.removeChild(te),re||this.emit("select",{annotation:de,element:this.selectedShape.element})},1),this.selectedShape=he.createEditableShape(de,this.formatters),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=de;const pe=new Qi.MouseTracker({element:this.svg,preProcessEventHandler:ge=>{ge.stopPropagation=!0,ge.preventDefault=!1,ge.preventGesture=!0}}).setTracking(!1);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,pe.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,pe.setTracking(!1)}),this.selectedShape.mouseTracker=pe,this.selectedShape.on("update",ge=>this.emit("updateTarget",this.selectedShape.element,ge))}else this.selectedShape=te,re||this.emit("select",{annotation:de,element:this.selectedShape})}}),ne(this,"setDrawingEnabled",te=>{if(this.mouseTracker){const re=te&&!this.readOnly;this.mouseTracker.enabled=re,this.mouseTracker.setTracking(re)}}),ne(this,"setDrawingTool",te=>{var re;this.tools&&((re=this.tools.current)==null||re.stop(),this.tools.setCurrent(te))}),ne(this,"setVisible",te=>{te?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),ne(this,"stopDrawing",()=>{var te,re;return(re=(te=this.tools)==null?void 0:te.current)==null?void 0:re.stop()}),this.viewer=ie.viewer,this.config=ie.config,this.env=ie.env,this.readOnly=ie.config.readOnly,this.headless=ie.config.headless,ie.config.formatter?this.formatters=[ie.config.formatter]:ie.config.formatters&&(this.formatters=Array.isArray(ie.config.formatters)?ie.config.formatters:[ie.config.formatters]),this.disableSelect=ie.config.disableSelect,this.drawOnSingleClick=ie.config.drawOnSingleClick,this.svg=document.createElementNS(_n,"svg"),PS?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),Xx(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(_n,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const Q=()=>{const{x:te,y:re}=this.viewer.world.getItemAt(0).source.dimensions,ae=this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href;this.env.image={src:ae,naturalWidth:te,naturalHeight:re},ie.config.crosshair&&(this.crosshair=new pS(this.g,te,re),Pi(this.svg,"has-crosshair")),this.loaded||this.emit("load",ae),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",Q),this.viewer.world.addHandler("add-item",Q),this.viewer.world.getItemAt(0)&&Q(),this.store=new TS(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var ie;const Q=this.viewer.viewport.getFlip(),te=this.viewer.viewport.pixelFromPoint(new Qi.Point(0,0),!0);Q&&(te.x=this.viewer.viewport._containerInnerSize.x-te.x);const re=this.currentScale(),ae=Q?-re:re,de=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${te.x}, ${te.y}) scale(${ae}, ${re}) rotate(${de})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(ie=this.tools)!=null&&ie.current.isDrawing&&this.scaleTool(this.tools.current)}}class OS extends jh{constructor(ie){super(ie),ne(this,"onDrawingComplete",Q=>{var te;this.mouseTracker.enabled=(te=this.config.hotkey)==null?void 0:te.inverted,this.selectShape(Q),this.emit("createSelection",Q.annotation)}),this._initDrawingTools()}}const il=ee=>{const ie=ee.viewport.viewportToImageRectangle(ee.viewport.getBounds(!0)),Q=ee.viewport.getContainerSize().x,te=ee.viewport.getZoom(!0)*Q/ee.world.getContentFactor();return{extent:ie,scale:te}},AS=ee=>{var ie;const Q=ee.targets[0];return Q?Array.isArray(Q.selector)?Q.selector[0].type:(ie=Q.selector)==null?void 0:ie.type:null},zh=(ee,ie)=>{const{extent:Q,scale:te}=il(ee),{selector:re}=ie,ae=Ji.create({target:ie});if(re.type==="SvgSelector"){const de=er(ae),he=de.nodeName.toLowerCase();let pe=null;if(he==="polygon")pe=RS(de,Q,te);else if(he==="circle")pe=DS(de,Q,te);else if(he==="ellipse")pe=kS(de,Q,te);else if(he==="path")pe=IS(de,Q,te);else throw`Unsupported SVG shape type: ${he}`;let ge=pe.outerHTML||new XMLSerializer().serializeToString(pe);return ge=ge.replace(` xmlns="${_n}"`,""),{...ie,selector:{type:"SvgSelector",value:`<svg>${ge}</svg>`}}}else if(re.type==="FragmentSelector"){const{x:de,y:he,w:pe,h:ge}=Bi(ae),ye=Q.x+de/te,xe=Q.y+he/te,Ee=pe/te,De=ge/te;return pe===0&&ge===0?{...wr(ye,xe,Ee,De),renderedVia:{name:"point"}}:wr(ye,xe,Ee,De)}else throw`Unsupported selector type: ${re.type}`},RS=(ee,ie,Q)=>{const te=Array.from(ee.points).map(re=>{const ae=ie.x+re.x/Q,de=ie.y+re.y/Q;return ae+","+de}).join(" ");return ee.setAttribute("points",te),ee},DS=(ee,ie,Q)=>{const te=parseFloat(ee.getAttribute("cx")),re=parseFloat(ee.getAttribute("cy")),ae=parseFloat(ee.getAttribute("r"));return ee.setAttribute("cx",ie.x+te/Q),ee.setAttribute("cy",ie.y+re/Q),ee.setAttribute("r",ae/Q),ee},kS=(ee,ie,Q)=>{const te=parseFloat(ee.getAttribute("cx")),re=parseFloat(ee.getAttribute("cy")),ae=parseFloat(ee.getAttribute("rx")),de=parseFloat(ee.getAttribute("ry"));return ee.setAttribute("cx",ie.x+te/Q),ee.setAttribute("cy",ie.y+re/Q),ee.setAttribute("rx",ae/Q),ee.setAttribute("ry",de/Q),ee},IS=(ee,ie,Q)=>{const te=ee.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(re=>re.trim()).map(re=>{const ae=re.substring(0,1);if(ae.toLowerCase()==="z")return ae;{const de=re.substring(1).split(" ").map(ye=>parseFloat(ye.trim())),he=ae===ae.toUpperCase(),pe=he?ie.x+de[0]/Q:de[0]/Q,ge=he?ie.y+de[1]/Q:de[1]/Q;return ae+" "+pe+" "+ge}}).join(" ");return ee.setAttribute("d",te),ee},Vh=(ee,ie)=>{const{extent:Q,scale:te}=il(ee),re=ie.selector("FragmentSelector");if(ie.selector("SvgSelector")){const ae=er(ie),de=ae.nodeName.toLowerCase();let he=null;if(de==="polygon")he=NS(ae,Q,te);else if(de==="circle")he=MS(ae,Q,te);else if(de==="ellipse")he=FS(ae,Q,te);else if(de==="path")he=BS(ae,Q,te);else throw`Unsupported SVG shape type: ${de}`;let pe=he.outerHTML||new XMLSerializer().serializeToString(he);pe=pe.replace(` xmlns="${_n}"`,"");const ge={selector:{type:"SvgSelector",value:`<svg>${pe}</svg>`}};return ie.clone({target:ge})}else if(re){const{x:ae,y:de,w:he,h:pe}=Bi(ie),ge=(ae-Q.x)*te,ye=(de-Q.y)*te,xe=wr(ge,ye,he*te,pe*te);return ie.clone({target:xe})}},NS=(ee,ie,Q)=>{const te=Array.from(ee.points).map(re=>{const ae=Q*(re.x-ie.x),de=Q*(re.y-ie.y);return ae+","+de}).join(" ");return ee.setAttribute("points",te),ee},MS=(ee,ie,Q)=>{const te=ee.getAttribute("cx"),re=ee.getAttribute("cy"),ae=ee.getAttribute("r");return ee.setAttribute("cx",Q*(te-ie.x)),ee.setAttribute("cy",Q*(re-ie.y)),ee.setAttribute("r",ae*Q),ee},FS=(ee,ie,Q)=>{const te=ee.getAttribute("cx"),re=ee.getAttribute("cy"),ae=ee.getAttribute("rx"),de=ee.getAttribute("ry");return ee.setAttribute("cx",Q*(te-ie.x)),ee.setAttribute("cy",Q*(re-ie.y)),ee.setAttribute("rx",ae*Q),ee.setAttribute("ry",de*Q),ee},BS=(ee,ie,Q)=>{const te=ee.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(re=>re.trim()).map(re=>{const ae=re.substring(0,1);if(ae.toLowerCase()==="z")return ae;{const de=re.substring(1).split(" ").filter(ye=>ye).map(ye=>parseFloat(ye.trim())),he=ae===ae.toUpperCase(),pe=he?Q*(de[0]-ie.x):Q*de[0],ge=he?Q*(de[1]-ie.y):Q*de[1];return ae+" "+pe+" "+ge}}).join(" ");return ee.setAttribute("d",te),ee},$h=(ee,ie)=>{const{extent:Q,scale:te}=il(ee),re=AS(ie.annotation);if(re==="FragmentSelector")LS(ie,Q,te);else if(re==="SvgSelector")HS(ie,Q,te);else throw`Unsupported selector type type: ${re}`;const ae=ie.querySelector(".a9s-formatter-el");if(ae){const{x:de,y:he}=ie.querySelector(".a9s-inner").getBBox();ae.setAttribute("x",de),ae.setAttribute("y",he)}},LS=(ee,ie,Q)=>{const{x:te,y:re,w:ae,h:de}=Bi(ee.annotation),he=ee.querySelector(".a9s-outer"),pe=ee.querySelector(".a9s-inner"),ge=Q*(te-ie.x),ye=Q*(re-ie.y);ae===0&&de===0?[he,pe].forEach(xe=>{xe.setAttribute("cx",ge),xe.setAttribute("cy",ye)}):[he,pe].forEach(xe=>{xe.setAttribute("x",ge),xe.setAttribute("y",ye),xe.setAttribute("width",ae*Q),xe.setAttribute("height",de*Q)})},HS=(ee,ie,Q)=>{const te=er(ee.annotation),re=te.nodeName.toLowerCase();if(re==="polygon")jS(ee,te,ie,Q);else if(re==="circle")zS(ee,te,ie,Q);else if(re==="ellipse")VS(ee,te,ie,Q);else if(re==="path")$S(ee,te,ie,Q);else throw`Unsupported SVG shape type: ${re}`},jS=(ee,ie,Q,te)=>{const re=Array.from(ie.points).map(ae=>{const de=te*(ae.x-Q.x),he=te*(ae.y-Q.y);return de+","+he}).join(" ");ee.querySelector(".a9s-outer").setAttribute("points",re),ee.querySelector(".a9s-inner").setAttribute("points",re)},zS=(ee,ie,Q,te)=>{const re=te*(ie.getAttribute("cx")-Q.x),ae=te*(ie.getAttribute("cy")-Q.y),de=te*ie.getAttribute("r"),he=ee.querySelector(".a9s-outer");he.setAttribute("cx",re),he.setAttribute("cy",ae),he.setAttribute("r",de);const pe=ee.querySelector(".a9s-inner");pe.setAttribute("cx",re),pe.setAttribute("cy",ae),pe.setAttribute("r",de)},VS=(ee,ie,Q,te)=>{const re=te*(ie.getAttribute("cx")-Q.x),ae=te*(ie.getAttribute("cy")-Q.y),de=te*ie.getAttribute("rx"),he=te*ie.getAttribute("ry"),pe=ee.querySelector(".a9s-outer");pe.setAttribute("cx",re),pe.setAttribute("cy",ae),pe.setAttribute("rx",de),pe.setAttribute("ry",he);const ge=ee.querySelector(".a9s-inner");ge.setAttribute("cx",re),ge.setAttribute("cy",ae),ge.setAttribute("rx",de),ge.setAttribute("ry",he)},$S=(ee,ie,Q,te)=>{const re=ie.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(ae=>ae.trim()).map(ae=>{const de=ae.substring(0,1);if(de.toLowerCase()==="z")return de;{const he=ae.substring(1).split(" ").filter(xe=>xe).map(xe=>parseFloat(xe.trim())),pe=de===de.toUpperCase(),ge=pe?te*(he[0]-Q.x):te*he[0],ye=pe?te*(he[1]-Q.y):te*he[1];return de+" "+ge+" "+ye}}).join(" ");ee.querySelector(".a9s-inner").setAttribute("d",re),ee.querySelector(".a9s-outer").setAttribute("d",re)},US=Gs();class WS extends jh{constructor(ie){super(ie),ne(this,"_getShapeAt",Q=>{const te=pe=>{if(US){const ge=this.svg.getBoundingClientRect(),ye=pe.clientX-ge.x,xe=pe.clientY-ge.y;return new Qi.Point(ye,xe)}else return new Qi.Point(pe.offsetX,pe.offsetY)},re=this.viewer.viewport.viewerElementToViewportCoordinates(te(Q)),{x:ae,y:de}=this.viewer.viewport.viewportToImageCoordinates(re.x,re.y),he=this.store.getAnnotationAt(ae,de,this.currentScale());if(he)return this.findShape(he)}),ne(this,"_refreshNonScalingAnnotations",()=>{}),ne(this,"addAnnotation",(Q,te)=>{const re=te||this.g,ae=Qs(Q,this.env.image);return Pi(ae,"a9s-annotation"),ae.setAttribute("data-id",Q.id),ae.annotation=Q,$h(this.viewer,ae),re.appendChild(ae),ra(ae,Q,this.formatters),ae}),ne(this,"addOrUpdateAnnotation",(Q,te)=>{var re,ae;(((re=this.selectedShape)==null?void 0:re.annotation)===Q||((ae=this.selectedShape)==null?void 0:ae.annotation)==te)&&this.deselect(),te&&this.removeAnnotation(Q),this.removeAnnotation(Q),this.addAnnotation(Q),this.store.insert(Q)}),ne(this,"deselect",()=>{var Q;if((Q=this.tools)==null||Q.current.stop(),this.selectedShape){const{annotation:te}=this.selectedShape;this.selectedShape.destroy?(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),te.isSelection||this.addAnnotation(te)):zs(this.selectedShape,"selected"),this.selectedShape=null}}),ne(this,"onDrawingComplete",Q=>{const te=Q.annotation.clone({target:zh(this.viewer,Q.annotation.target)});Q.annotation=te,this.selectShape(Q),this.emit("createSelection",Q.annotation),this.mouseTracker.enabled=!1}),ne(this,"selectShape",(Q,te)=>{var re;if(!te&&!Q.annotation.isSelection&&this.emit("clickAnnotation",Q.annotation,Q),((re=this.selectedShape)==null?void 0:re.annotation)===Q.annotation)return;this.selectedShape&&this.selectedShape.annotation!==Q.annotation&&this.deselect(!0);const{annotation:ae}=Q;if(this.readOnly||ae.readOnly||this.headless)this.selectedShape=Q,Pi(Q,"selected"),te||this.emit("select",{annotation:ae,element:Q,skipEvent:te});else{setTimeout(()=>{Q.parentNode.removeChild(Q),te||this.emit("select",{annotation:ae,element:this.selectedShape.element})},1);const de=this.tools.forAnnotation(ae);this.selectedShape=de.createEditableShape(ae),this.selectedShape.element.annotation=ae;const he=Vh(this.viewer,ae);this.selectedShape.updateState(he);const pe=new Qi.MouseTracker({element:this.svg,preProcessEventHandler:ge=>{ge.stopPropagation=!0,ge.preventDefault=!1,ge.preventGesture=!0}});this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,pe.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,pe.setTracking(!1)}),this.selectedShape.mouseTracker=pe,this.selectedShape.on("update",ge=>{const ye=zh(this.viewer,ge);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:ye}),this.emit("updateTarget",this.selectedShape.element,ye)})}}),this._initDrawingTools(!0)}resize(){if(!!this.store&&(Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(ie=>{$h(this.viewer,ie)}),this.selectedShape))if(this.selectedShape.element){const ie=Vh(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(ie),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}var GS=Jr(sn),Uh,Wh=GS,qS=0;function KS(ee,ie,Q,te,re){var ae,de,he={};for(de in ie)de=="ref"?ae=ie[de]:he[de]=ie[de];var pe={type:ee,props:he,key:Q,ref:ae,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--qS,__source:te,__self:re};if(typeof ee=="function"&&(ae=ee.defaultProps))for(de in ae)he[de]===void 0&&(he[de]=ae[de]);return Wh.options.vnode&&Wh.options.vnode(pe),pe}Uh=KS;const Gh=Uh;class XS extends Fe{constructor(ie){super(ie),ne(this,"clearState",Q=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},Q)),ne(this,"forwardEvent",(Q,te)=>{this.annotationLayer.on(Q,(re,ae)=>{this.props[te](re.clone(),ae)})}),ne(this,"onKeyUp",Q=>{if(Q.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:te}=this.state;te&&(this.cancelSelected(),this.props.onCancelSelected(te))}else if(Q.which===46){const{selectedAnnotation:te}=this.state;te&&(te.isSelection?this.onCancelAnnotation(te):this.onDeleteAnnotation(te))}}),ne(this,"handleStartSelect",Q=>this.props.onSelectionStarted(Q)),ne(this,"handleSelect",(Q,te)=>{this.state.editorDisabled?this.onHeadlessSelect(Q,te):this.onNormalSelect(Q,te)}),ne(this,"onNormalSelect",(Q,te)=>{const{annotation:re,element:ae}=Q;if(re){const de=()=>{this.setState({selectedAnnotation:re,selectedDOMElement:ae,modifiedTarget:null},()=>{te||(re.isSelection?this.props.onSelectionCreated(re.clone()):this.props.onAnnotationSelected(re.clone(),ae))})},{selectedAnnotation:he}=this.state;he&&!he.isEqual(re)?this.clearState(()=>{this.props.onCancelSelected(he),de()}):de()}else{const{selectedAnnotation:de}=this.state;de?this.clearState(()=>this.props.onCancelSelected(de)):this.clearState()}}),ne(this,"onHeadlessSelect",(Q,te)=>{this.saveSelected().then(()=>{this.onNormalSelect(Q,te)})}),ne(this,"handleUpdateTarget",(Q,te)=>{this.setState({selectedDOMElement:Q,modifiedTarget:te});const re=JSON.parse(JSON.stringify(te));this.props.onSelectionTargetChanged(re)}),ne(this,"handleViewportChange",Q=>this.setState({selectedDOMElement:Q})),ne(this,"overrideAnnotationId",Q=>te=>{const{id:re}=Q;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(re,te)}):this.annotationLayer.overrideId(re,te)}),ne(this,"onCreateOrUpdateAnnotation",(Q,te)=>(re,ae)=>{let de=re.isSelection?re.toAnnotation():re;de=this.state.modifiedTarget?de.clone({target:this.state.modifiedTarget}):de.clone(),this.clearState(()=>{this.annotationLayer.addOrUpdateAnnotation(de,ae),ae?this.props[Q](de,ae.clone()):this.props[Q](de,this.overrideAnnotationId(de)),te&&te()})}),ne(this,"onDeleteAnnotation",Q=>{this.clearState(),this.annotationLayer.removeAnnotation(Q),this.props.onAnnotationDeleted(Q)}),ne(this,"onCancelAnnotation",(Q,te)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(Q),this.clearState(te)}),ne(this,"addAnnotation",Q=>{var te;Q.id===((te=this.state.selectedAnnotation)==null?void 0:te.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(Q.clone())}),ne(this,"addDrawingTool",Q=>this.annotationLayer.addDrawingTool(Q)),ne(this,"cancelSelected",()=>new Promise(Q=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(Q):Q()})),ne(this,"fitBounds",(Q,te)=>this.annotationLayer.fitBounds(Q,te)),ne(this,"fitBoundsWithConstraints",(Q,te)=>this.annotationLayer.fitBoundsWithConstraints(Q,te)),ne(this,"getAnnotationById",Q=>{var te;return(te=this.annotationLayer.findShape(Q))==null?void 0:te.annotation}),ne(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(Q=>Q.clone())),ne(this,"getAnnotationsIntersecting",Q=>this.annotationLayer.getAnnotationsIntersecting(Q)),ne(this,"getImageSnippetById",Q=>this.annotationLayer.getImageSnippetById(Q)),ne(this,"getSelected",()=>{var Q;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(Q=this._editor.current)==null?void 0:Q.getCurrentAnnotation()}),ne(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),ne(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),ne(this,"panTo",(Q,te)=>this.annotationLayer.panTo(Q,te)),ne(this,"removeAnnotation",Q=>this.annotationLayer.removeAnnotation(Q)),ne(this,"removeDrawingTool",Q=>this.annotationLayer.removeDrawingTool(Q)),ne(this,"saveSelected",()=>new Promise(Q=>{const te=this.state.selectedAnnotation;if(te)if(this._editor.current)this._editor.current.onOk(),Q();else if(te.isSelection)te.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",Q)(te):(this.annotationLayer.deselect(),Q());else{const{beforeHeadlessModify:re,modifiedTarget:ae}=this.state;re?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Q)(te,re):ae?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Q)(te,te):this.onCancelAnnotation(te,Q)}else Q()})),ne(this,"selectAnnotation",Q=>{const te=this.annotationLayer.selectAnnotation(Q,!0);if(te)return this.handleSelect(te,!0),te.annotation.clone();this.clearState()}),ne(this,"setAnnotations",Q=>this.annotationLayer.init(Q.map(te=>te.clone()))),ne(this,"setDrawingEnabled",Q=>this.annotationLayer.setDrawingEnabled(Q)),ne(this,"setDrawingTool",Q=>this.annotationLayer.setDrawingTool(Q)),ne(this,"setVisible",Q=>{this.annotationLayer.setVisible(Q),Q||this.clearState()}),ne(this,"updateSelected",(Q,te)=>new Promise(re=>{this.state.selectedAnnotation&&(te?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",re)(Q):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",re)(Q,this.state.selectedAnnotation):this.setState({selectedAnnotation:Q,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},re))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:ie.config.readOnly,editorDisabled:ie.config.disableEditor,widgets:ie.config.widgets,beforeHeadlessModify:null},this._editor=Pt.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new WS(this.props):new OS(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(ie){this.setState({editorDisabled:ie})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(ie){this.annotationLayer.disableSelect=ie}get formatters(){return this.annotationLayer.formatters}set formatters(ie){this.annotationLayer.formatters=ie}get readOnly(){return this.state.readOnly}set readOnly(ie){this.annotationLayer.readOnly=ie,this.setState({readOnly:ie})}get widgets(){return this.state.widgets}set widgets(ie){this.setState({widgets:ie})}render(){var ie;const Q=this.state.selectedAnnotation&&!this.state.editorDisabled,te=this.state.readOnly||((ie=this.state.selectedAnnotation)==null?void 0:ie.readOnly);return Q&&Gh(Mx,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:te,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class YS{constructor(ie,Q){ne(this,"handleAnnotationCreated",(re,ae)=>this._emitter.emit("createAnnotation",re.underlying,ae)),ne(this,"handleAnnotationDeleted",re=>this._emitter.emit("deleteAnnotation",re.underlying)),ne(this,"handleAnnotationSelected",(re,ae)=>this._emitter.emit("selectAnnotation",re.underlying,ae)),ne(this,"handleAnnotationUpdated",(re,ae)=>this._emitter.emit("updateAnnotation",re.underlying,ae.underlying)),ne(this,"handleCancelSelected",re=>this._emitter.emit("cancelSelected",re.underlying)),ne(this,"handleClickAnnotation",(re,ae)=>this._emitter.emit("clickAnnotation",re.underlying,ae)),ne(this,"handleLoad",re=>this._emitter.emit("load",re)),ne(this,"handleSelectionCreated",re=>this._emitter.emit("createSelection",re.underlying)),ne(this,"handleSelectionStarted",re=>this._emitter.emit("startSelection",re)),ne(this,"handleSelectionTargetChanged",re=>this._emitter.emit("changeSelectionTarget",re)),ne(this,"handleMouseEnterAnnotation",(re,ae)=>this._emitter.emit("mouseEnterAnnotation",re.underlying,ae)),ne(this,"handleMouseLeaveAnnotation",(re,ae)=>this._emitter.emit("mouseLeaveAnnotation",re.underlying,ae)),ne(this,"_wrap",re=>(re==null?void 0:re.type)==="Annotation"?new Ji(re):re),ne(this,"addAnnotation",re=>this._app.current.addAnnotation(new Ji(re))),ne(this,"addDrawingTool",re=>this._app.current.addDrawingTool(re)),ne(this,"cancelSelected",()=>this._app.current.cancelSelected()),ne(this,"clearAnnotations",()=>this.setAnnotations([])),ne(this,"clearAuthInfo",()=>this._env.user=null),ne(this,"destroy",()=>Pt.unmountComponentAtNode(this.appContainerEl)),ne(this,"fitBounds",(re,ae)=>this._app.current.fitBounds(this._wrap(re),ae)),ne(this,"fitBoundsWithConstraints",(re,ae)=>this._app.current.fitBoundsWithConstraints(this._wrap(re),ae)),ne(this,"getAnnotationById",re=>{const ae=this._app.current.getAnnotationById(re);return ae==null?void 0:ae.underlying}),ne(this,"getAnnotations",()=>this._app.current.getAnnotations().map(re=>re.underlying)),ne(this,"getAnnotationsIntersecting",re=>this._app.current.getAnnotationsIntersecting(this._wrap(re))),ne(this,"getImageSnippetById",re=>this._app.current.getImageSnippetById(re)),ne(this,"getSelected",()=>{const re=this._app.current.getSelected();return re==null?void 0:re.underlying}),ne(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),ne(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),ne(this,"loadAnnotations",re=>fetch(re).then(ae=>ae.json()).then(ae=>(this.setAnnotations(ae),ae))),ne(this,"off",(re,ae)=>this._emitter.off(re,ae)),ne(this,"on",(re,ae)=>this._emitter.on(re,ae)),ne(this,"once",(re,ae)=>this._emitter.once(re,ae)),ne(this,"panTo",(re,ae)=>this._app.current.panTo(this._wrap(re),ae)),ne(this,"removeAnnotation",re=>this._app.current.removeAnnotation(this._wrap(re))),ne(this,"removeDrawingTool",re=>this._app.current.removeDrawingTool(re)),ne(this,"saveSelected",()=>this._app.current.saveSelected()),ne(this,"selectAnnotation",re=>{const ae=this._app.current.selectAnnotation(this._wrap(re));return ae==null?void 0:ae.underlying}),ne(this,"setAnnotations",re=>{const ae=(re||[]).map(de=>new Ji(de));this._app.current.setAnnotations(ae)}),ne(this,"setAuthInfo",re=>this._env.user=re),ne(this,"setDrawingEnabled",re=>this._app.current.setDrawingEnabled(re)),ne(this,"setDrawingTool",re=>this._app.current.setDrawingTool(re)),ne(this,"setServerTime",re=>this._env.setServerTime(re)),ne(this,"setVisible",re=>this._app.current.setVisible(re)),ne(this,"updateSelected",(re,ae)=>{let de=null;re.type==="Annotation"?de=new Ji(re):re.type==="Selection"&&(de=new Gr(re.target,re.body)),de&&this._app.current.updateSelected(de,ae)});const te=Q||{};this._app=Pt.createRef(),this._emitter=new Qr,this._env=Vx(),this._element=ie.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),$x(te.locale,te.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Pt.render(Gh(XS,{ref:this._app,viewer:ie,wrapperEl:this._element,config:te,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(ie){this._app.current.disableEditor=ie}get disableSelect(){return this._app.current.disableSelect}set disableSelect(ie){this._app.current.disableSelect=ie}get formatters(){return this._app.current.formatters||[]}set formatters(ie){if(ie){const Q=Array.isArray(ie)?ie:[ie];this._app.current.formatters=Q}else this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(ie){this._app.current.readOnly=ie}get widgets(){return this._app.current.widgets}set widgets(ie){this._app.current.widgets=ie}}var ZS=(ee,ie)=>new YS(ee,ie);return ZS})})(openseadragonAnnotorious_min);const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_min.exports),ENV=location.hostname==="localhost"?"DEV":"PROD",annotationsEndpoint=ENV==="DEV"?"http://localhost:8000":"https://api.juncture-digital.org";class Annotator{constructor(U,W="",X=!1){Hi(this,"osd");Hi(this,"base");Hi(this,"imageId","");Hi(this,"annotorious");Hi(this,"visible",!1);Hi(this,"drawingEnabled",!1);Hi(this,"ghAuthToken","");this.osd=U,this.base=W,this.annotorious=Annotorious(U,{readOnly:!X}),this.annotorious.on("createAnnotation",async ne=>this.createAnnotation(ne)),this.annotorious.on("updateAnnotation",async ne=>this.updateAnnotation(ne)),this.annotorious.on("deleteAnnotation",async ne=>this.deleteAnnotation(ne)),this.setVisible(!1),this.ghAuthToken=localStorage.getItem("gh-auth-token")||"",console.log(`Annotator: base=${W} authenticated=${this.ghAuthToken!==""}`)}async loadAnnotations(U){this.imageId=U,this.setVisible(!1);let W=[],X=`${annotationsEndpoint}/annotations/${this.base}/${U}/`;console.log(`Annotator.loadAnnotations: ${X}`);let ne=await fetch(X);return ne.ok&&(ne=await ne.json(),W=ne.annotations,ne.annotations.length>0&&(W=ne.annotations.map(oe=>(oe.id=oe.id.split("/").filter(le=>le).pop(),oe)),console.log(`Adding ${ne.annotations.length} annotations`),this.annotorious.setAnnotations(W),W.forEach(oe=>{let le=this.annoEl(oe.id);le&&(le.addEventListener("mouseenter",()=>this.select(oe.id)),le.addEventListener("mouseleave",()=>this.deselect()))}))),W}setVisible(U){this.visible=U;let W=this.osd.element.querySelector(".a9s-annotationlayer");W&&(W.style.visibility=this.visible?"visible":"hidden"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(X=>X.style.visibility=this.visible?"visible":"hidden")}toggleVisibility(U){U&&U.stopPropagation(),this.setVisible(!this.visible)}annoEl(U){return this.osd.element.querySelector(`[data-id="${U}"]`)}select(U){if(console.log(`Annotator.select: annoId=${U} drawingEnabled=${this.drawingEnabled}`),!this.drawingEnabled){let W=U.indexOf("/")>0?U:`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${U}`,X=this.annotorious.selectAnnotation(U);if(console.log(`Annotator.select: annoUri=${W}`,X),X){let ne=this.annoEl(U);console.log(ne),ne&&(ne.style.visibility="visible")}}}deselect(){this.annotorious.selectAnnotation()}setDrawingEnabled(U){this.drawingEnabled=U,console.log("setDrawingEnabled",this.drawingEnabled),this.annotorious.setDrawingEnabled(this.drawingEnabled),this.setVisible(this.drawingEnabled)}toggleDrawingEnabled(){this.setDrawingEnabled(!this.drawingEnabled)}async createAnnotation(U){U.id=sha256(U.id).slice(0,8),U.target.id=this.imageId,console.log("createAnnotation",U);let W=await fetch(`${annotationsEndpoint}/annotation/`,{method:"POST",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Token: ${this.ghAuthToken}`},body:JSON.stringify({annotation:U,path:`${this.base}/${this.imageId}`})});if(W.ok&&W.status===201){let X=await W.json();console.log(W),this.annotorious.addAnnotation(X)}else console.log(`createAnnotation: unexpected resp_code=${W.status}`)}async updateAnnotation(U){U.target.id=this.imageId;let W=`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${U.id.split("/").pop()}/`;console.log(`updateAnnotation: url=${W}`);let X=await fetch(W,{method:"PUT",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Bearer: ${this.ghAuthToken}`},body:JSON.stringify(U)});X.status!==202&&console.log(`updateAnnotation: unexpected resp_code=${X.status}`)}async deleteAnnotation(U){let W=await fetch(`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${U.id.split("/").pop()}/`,{method:"DELETE",headers:{Authorization:`Bearer: ${this.ghAuthToken}`}});W.status!==204&&console.log(`deleteAnnotation: unexpected resp_code=${W.status}`)}}function bound01(G,U){isOnePointZero(G)&&(G="100%");var W=isPercentage(G);return G=U===360?G:Math.min(U,Math.max(0,parseFloat(G))),W&&(G=parseInt(String(G*U),10)/100),Math.abs(G-U)<1e-6?1:(U===360?G=(G<0?G%U+U:G%U)/parseFloat(String(U)):G=G%U/parseFloat(String(U)),G)}function clamp01(G){return Math.min(1,Math.max(0,G))}function isOnePointZero(G){return typeof G=="string"&&G.indexOf(".")!==-1&&parseFloat(G)===1}function isPercentage(G){return typeof G=="string"&&G.indexOf("%")!==-1}function boundAlpha(G){return G=parseFloat(G),(isNaN(G)||G<0||G>1)&&(G=1),G}function convertToPercentage(G){return G<=1?"".concat(Number(G)*100,"%"):G}function pad2(G){return G.length===1?"0"+G:String(G)}function rgbToRgb(G,U,W){return{r:bound01(G,255)*255,g:bound01(U,255)*255,b:bound01(W,255)*255}}function rgbToHsl(G,U,W){G=bound01(G,255),U=bound01(U,255),W=bound01(W,255);var X=Math.max(G,U,W),ne=Math.min(G,U,W),oe=0,le=0,se=(X+ne)/2;if(X===ne)le=0,oe=0;else{var ue=X-ne;switch(le=se>.5?ue/(2-X-ne):ue/(X+ne),X){case G:oe=(U-W)/ue+(U<W?6:0);break;case U:oe=(W-G)/ue+2;break;case W:oe=(G-U)/ue+4;break}oe/=6}return{h:oe,s:le,l:se}}function hue2rgb(G,U,W){return W<0&&(W+=1),W>1&&(W-=1),W<1/6?G+(U-G)*(6*W):W<1/2?U:W<2/3?G+(U-G)*(2/3-W)*6:G}function hslToRgb(G,U,W){var X,ne,oe;if(G=bound01(G,360),U=bound01(U,100),W=bound01(W,100),U===0)ne=W,oe=W,X=W;else{var le=W<.5?W*(1+U):W+U-W*U,se=2*W-le;X=hue2rgb(se,le,G+1/3),ne=hue2rgb(se,le,G),oe=hue2rgb(se,le,G-1/3)}return{r:X*255,g:ne*255,b:oe*255}}function rgbToHsv(G,U,W){G=bound01(G,255),U=bound01(U,255),W=bound01(W,255);var X=Math.max(G,U,W),ne=Math.min(G,U,W),oe=0,le=X,se=X-ne,ue=X===0?0:se/X;if(X===ne)oe=0;else{switch(X){case G:oe=(U-W)/se+(U<W?6:0);break;case U:oe=(W-G)/se+2;break;case W:oe=(G-U)/se+4;break}oe/=6}return{h:oe,s:ue,v:le}}function hsvToRgb(G,U,W){G=bound01(G,360)*6,U=bound01(U,100),W=bound01(W,100);var X=Math.floor(G),ne=G-X,oe=W*(1-U),le=W*(1-ne*U),se=W*(1-(1-ne)*U),ue=X%6,ce=[W,le,oe,oe,se,W][ue],fe=[se,W,W,le,oe,oe][ue],me=[oe,oe,se,W,W,le][ue];return{r:ce*255,g:fe*255,b:me*255}}function rgbToHex(G,U,W,X){var ne=[pad2(Math.round(G).toString(16)),pad2(Math.round(U).toString(16)),pad2(Math.round(W).toString(16))];return X&&ne[0].startsWith(ne[0].charAt(1))&&ne[1].startsWith(ne[1].charAt(1))&&ne[2].startsWith(ne[2].charAt(1))?ne[0].charAt(0)+ne[1].charAt(0)+ne[2].charAt(0):ne.join("")}function rgbaToHex(G,U,W,X,ne){var oe=[pad2(Math.round(G).toString(16)),pad2(Math.round(U).toString(16)),pad2(Math.round(W).toString(16)),pad2(convertDecimalToHex(X))];return ne&&oe[0].startsWith(oe[0].charAt(1))&&oe[1].startsWith(oe[1].charAt(1))&&oe[2].startsWith(oe[2].charAt(1))&&oe[3].startsWith(oe[3].charAt(1))?oe[0].charAt(0)+oe[1].charAt(0)+oe[2].charAt(0)+oe[3].charAt(0):oe.join("")}function convertDecimalToHex(G){return Math.round(parseFloat(G)*255).toString(16)}function convertHexToDecimal(G){return parseIntFromHex(G)/255}function parseIntFromHex(G){return parseInt(G,16)}function numberInputToObject(G){return{r:G>>16,g:(G&65280)>>8,b:G&255}}var names={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function inputToRGB(G){var U={r:0,g:0,b:0},W=1,X=null,ne=null,oe=null,le=!1,se=!1;return typeof G=="string"&&(G=stringInputToObject(G)),typeof G=="object"&&(isValidCSSUnit(G.r)&&isValidCSSUnit(G.g)&&isValidCSSUnit(G.b)?(U=rgbToRgb(G.r,G.g,G.b),le=!0,se=String(G.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(G.h)&&isValidCSSUnit(G.s)&&isValidCSSUnit(G.v)?(X=convertToPercentage(G.s),ne=convertToPercentage(G.v),U=hsvToRgb(G.h,X,ne),le=!0,se="hsv"):isValidCSSUnit(G.h)&&isValidCSSUnit(G.s)&&isValidCSSUnit(G.l)&&(X=convertToPercentage(G.s),oe=convertToPercentage(G.l),U=hslToRgb(G.h,X,oe),le=!0,se="hsl"),Object.prototype.hasOwnProperty.call(G,"a")&&(W=G.a)),W=boundAlpha(W),{ok:le,format:G.format||se,r:Math.min(255,Math.max(U.r,0)),g:Math.min(255,Math.max(U.g,0)),b:Math.min(255,Math.max(U.b,0)),a:W}}var CSS_INTEGER="[-\\+]?\\d+%?",CSS_NUMBER="[-\\+]?\\d*\\.\\d+%?",CSS_UNIT="(?:".concat(CSS_NUMBER,")|(?:").concat(CSS_INTEGER,")"),PERMISSIVE_MATCH3="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),PERMISSIVE_MATCH4="[\\s|\\(]+(".concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")[,|\\s]+(").concat(CSS_UNIT,")\\s*\\)?"),matchers={CSS_UNIT:new RegExp(CSS_UNIT),rgb:new RegExp("rgb"+PERMISSIVE_MATCH3),rgba:new RegExp("rgba"+PERMISSIVE_MATCH4),hsl:new RegExp("hsl"+PERMISSIVE_MATCH3),hsla:new RegExp("hsla"+PERMISSIVE_MATCH4),hsv:new RegExp("hsv"+PERMISSIVE_MATCH3),hsva:new RegExp("hsva"+PERMISSIVE_MATCH4),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function stringInputToObject(G){if(G=G.trim().toLowerCase(),G.length===0)return!1;var U=!1;if(names[G])G=names[G],U=!0;else if(G==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var W=matchers.rgb.exec(G);return W?{r:W[1],g:W[2],b:W[3]}:(W=matchers.rgba.exec(G),W?{r:W[1],g:W[2],b:W[3],a:W[4]}:(W=matchers.hsl.exec(G),W?{h:W[1],s:W[2],l:W[3]}:(W=matchers.hsla.exec(G),W?{h:W[1],s:W[2],l:W[3],a:W[4]}:(W=matchers.hsv.exec(G),W?{h:W[1],s:W[2],v:W[3]}:(W=matchers.hsva.exec(G),W?{h:W[1],s:W[2],v:W[3],a:W[4]}:(W=matchers.hex8.exec(G),W?{r:parseIntFromHex(W[1]),g:parseIntFromHex(W[2]),b:parseIntFromHex(W[3]),a:convertHexToDecimal(W[4]),format:U?"name":"hex8"}:(W=matchers.hex6.exec(G),W?{r:parseIntFromHex(W[1]),g:parseIntFromHex(W[2]),b:parseIntFromHex(W[3]),format:U?"name":"hex"}:(W=matchers.hex4.exec(G),W?{r:parseIntFromHex(W[1]+W[1]),g:parseIntFromHex(W[2]+W[2]),b:parseIntFromHex(W[3]+W[3]),a:convertHexToDecimal(W[4]+W[4]),format:U?"name":"hex8"}:(W=matchers.hex3.exec(G),W?{r:parseIntFromHex(W[1]+W[1]),g:parseIntFromHex(W[2]+W[2]),b:parseIntFromHex(W[3]+W[3]),format:U?"name":"hex"}:!1)))))))))}function isValidCSSUnit(G){return Boolean(matchers.CSS_UNIT.exec(String(G)))}var TinyColor=function(){function G(U,W){U===void 0&&(U=""),W===void 0&&(W={});var X;if(U instanceof G)return U;typeof U=="number"&&(U=numberInputToObject(U)),this.originalInput=U;var ne=inputToRGB(U);this.originalInput=U,this.r=ne.r,this.g=ne.g,this.b=ne.b,this.a=ne.a,this.roundA=Math.round(100*this.a)/100,this.format=(X=W.format)!==null&&X!==void 0?X:ne.format,this.gradientType=W.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=ne.ok}return G.prototype.isDark=function(){return this.getBrightness()<128},G.prototype.isLight=function(){return!this.isDark()},G.prototype.getBrightness=function(){var U=this.toRgb();return(U.r*299+U.g*587+U.b*114)/1e3},G.prototype.getLuminance=function(){var U=this.toRgb(),W,X,ne,oe=U.r/255,le=U.g/255,se=U.b/255;return oe<=.03928?W=oe/12.92:W=Math.pow((oe+.055)/1.055,2.4),le<=.03928?X=le/12.92:X=Math.pow((le+.055)/1.055,2.4),se<=.03928?ne=se/12.92:ne=Math.pow((se+.055)/1.055,2.4),.2126*W+.7152*X+.0722*ne},G.prototype.getAlpha=function(){return this.a},G.prototype.setAlpha=function(U){return this.a=boundAlpha(U),this.roundA=Math.round(100*this.a)/100,this},G.prototype.isMonochrome=function(){var U=this.toHsl().s;return U===0},G.prototype.toHsv=function(){var U=rgbToHsv(this.r,this.g,this.b);return{h:U.h*360,s:U.s,v:U.v,a:this.a}},G.prototype.toHsvString=function(){var U=rgbToHsv(this.r,this.g,this.b),W=Math.round(U.h*360),X=Math.round(U.s*100),ne=Math.round(U.v*100);return this.a===1?"hsv(".concat(W,", ").concat(X,"%, ").concat(ne,"%)"):"hsva(".concat(W,", ").concat(X,"%, ").concat(ne,"%, ").concat(this.roundA,")")},G.prototype.toHsl=function(){var U=rgbToHsl(this.r,this.g,this.b);return{h:U.h*360,s:U.s,l:U.l,a:this.a}},G.prototype.toHslString=function(){var U=rgbToHsl(this.r,this.g,this.b),W=Math.round(U.h*360),X=Math.round(U.s*100),ne=Math.round(U.l*100);return this.a===1?"hsl(".concat(W,", ").concat(X,"%, ").concat(ne,"%)"):"hsla(".concat(W,", ").concat(X,"%, ").concat(ne,"%, ").concat(this.roundA,")")},G.prototype.toHex=function(U){return U===void 0&&(U=!1),rgbToHex(this.r,this.g,this.b,U)},G.prototype.toHexString=function(U){return U===void 0&&(U=!1),"#"+this.toHex(U)},G.prototype.toHex8=function(U){return U===void 0&&(U=!1),rgbaToHex(this.r,this.g,this.b,this.a,U)},G.prototype.toHex8String=function(U){return U===void 0&&(U=!1),"#"+this.toHex8(U)},G.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},G.prototype.toRgbString=function(){var U=Math.round(this.r),W=Math.round(this.g),X=Math.round(this.b);return this.a===1?"rgb(".concat(U,", ").concat(W,", ").concat(X,")"):"rgba(".concat(U,", ").concat(W,", ").concat(X,", ").concat(this.roundA,")")},G.prototype.toPercentageRgb=function(){var U=function(W){return"".concat(Math.round(bound01(W,255)*100),"%")};return{r:U(this.r),g:U(this.g),b:U(this.b),a:this.a}},G.prototype.toPercentageRgbString=function(){var U=function(W){return Math.round(bound01(W,255)*100)};return this.a===1?"rgb(".concat(U(this.r),"%, ").concat(U(this.g),"%, ").concat(U(this.b),"%)"):"rgba(".concat(U(this.r),"%, ").concat(U(this.g),"%, ").concat(U(this.b),"%, ").concat(this.roundA,")")},G.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var U="#"+rgbToHex(this.r,this.g,this.b,!1),W=0,X=Object.entries(names);W<X.length;W++){var ne=X[W],oe=ne[0],le=ne[1];if(U===le)return oe}return!1},G.prototype.toString=function(U){var W=Boolean(U);U=U!=null?U:this.format;var X=!1,ne=this.a<1&&this.a>=0,oe=!W&&ne&&(U.startsWith("hex")||U==="name");return oe?U==="name"&&this.a===0?this.toName():this.toRgbString():(U==="rgb"&&(X=this.toRgbString()),U==="prgb"&&(X=this.toPercentageRgbString()),(U==="hex"||U==="hex6")&&(X=this.toHexString()),U==="hex3"&&(X=this.toHexString(!0)),U==="hex4"&&(X=this.toHex8String(!0)),U==="hex8"&&(X=this.toHex8String()),U==="name"&&(X=this.toName()),U==="hsl"&&(X=this.toHslString()),U==="hsv"&&(X=this.toHsvString()),X||this.toHexString())},G.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},G.prototype.clone=function(){return new G(this.toString())},G.prototype.lighten=function(U){U===void 0&&(U=10);var W=this.toHsl();return W.l+=U/100,W.l=clamp01(W.l),new G(W)},G.prototype.brighten=function(U){U===void 0&&(U=10);var W=this.toRgb();return W.r=Math.max(0,Math.min(255,W.r-Math.round(255*-(U/100)))),W.g=Math.max(0,Math.min(255,W.g-Math.round(255*-(U/100)))),W.b=Math.max(0,Math.min(255,W.b-Math.round(255*-(U/100)))),new G(W)},G.prototype.darken=function(U){U===void 0&&(U=10);var W=this.toHsl();return W.l-=U/100,W.l=clamp01(W.l),new G(W)},G.prototype.tint=function(U){return U===void 0&&(U=10),this.mix("white",U)},G.prototype.shade=function(U){return U===void 0&&(U=10),this.mix("black",U)},G.prototype.desaturate=function(U){U===void 0&&(U=10);var W=this.toHsl();return W.s-=U/100,W.s=clamp01(W.s),new G(W)},G.prototype.saturate=function(U){U===void 0&&(U=10);var W=this.toHsl();return W.s+=U/100,W.s=clamp01(W.s),new G(W)},G.prototype.greyscale=function(){return this.desaturate(100)},G.prototype.spin=function(U){var W=this.toHsl(),X=(W.h+U)%360;return W.h=X<0?360+X:X,new G(W)},G.prototype.mix=function(U,W){W===void 0&&(W=50);var X=this.toRgb(),ne=new G(U).toRgb(),oe=W/100,le={r:(ne.r-X.r)*oe+X.r,g:(ne.g-X.g)*oe+X.g,b:(ne.b-X.b)*oe+X.b,a:(ne.a-X.a)*oe+X.a};return new G(le)},G.prototype.analogous=function(U,W){U===void 0&&(U=6),W===void 0&&(W=30);var X=this.toHsl(),ne=360/W,oe=[this];for(X.h=(X.h-(ne*U>>1)+720)%360;--U;)X.h=(X.h+ne)%360,oe.push(new G(X));return oe},G.prototype.complement=function(){var U=this.toHsl();return U.h=(U.h+180)%360,new G(U)},G.prototype.monochromatic=function(U){U===void 0&&(U=6);for(var W=this.toHsv(),X=W.h,ne=W.s,oe=W.v,le=[],se=1/U;U--;)le.push(new G({h:X,s:ne,v:oe})),oe=(oe+se)%1;return le},G.prototype.splitcomplement=function(){var U=this.toHsl(),W=U.h;return[this,new G({h:(W+72)%360,s:U.s,l:U.l}),new G({h:(W+216)%360,s:U.s,l:U.l})]},G.prototype.onBackground=function(U){var W=this.toRgb(),X=new G(U).toRgb();return new G({r:X.r+(W.r-X.r)*W.a,g:X.g+(W.g-X.g)*W.a,b:X.b+(W.b-X.b)*W.a})},G.prototype.triad=function(){return this.polyad(3)},G.prototype.tetrad=function(){return this.polyad(4)},G.prototype.polyad=function(U){for(var W=this.toHsl(),X=W.h,ne=[this],oe=360/U,le=1;le<U;le++)ne.push(new G({h:(X+le*oe)%360,s:W.s,l:W.l}));return ne},G.prototype.equals=function(U){return this.toRgbString()===new G(U).toRgbString()},G}(),hueStep=2,saturationStep=.16,saturationStep2=.05,brightnessStep1=.05,brightnessStep2=.15,lightColorCount=5,darkColorCount=4,darkColorMap=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function toHsv(G){var U=G.r,W=G.g,X=G.b,ne=rgbToHsv(U,W,X);return{h:ne.h*360,s:ne.s,v:ne.v}}function toHex(G){var U=G.r,W=G.g,X=G.b;return"#".concat(rgbToHex(U,W,X,!1))}function mix$1(G,U,W){var X=W/100,ne={r:(U.r-G.r)*X+G.r,g:(U.g-G.g)*X+G.g,b:(U.b-G.b)*X+G.b};return ne}function getHue(G,U,W){var X;return Math.round(G.h)>=60&&Math.round(G.h)<=240?X=W?Math.round(G.h)-hueStep*U:Math.round(G.h)+hueStep*U:X=W?Math.round(G.h)+hueStep*U:Math.round(G.h)-hueStep*U,X<0?X+=360:X>=360&&(X-=360),X}function getSaturation(G,U,W){if(G.h===0&&G.s===0)return G.s;var X;return W?X=G.s-saturationStep*U:U===darkColorCount?X=G.s+saturationStep:X=G.s+saturationStep2*U,X>1&&(X=1),W&&U===lightColorCount&&X>.1&&(X=.1),X<.06&&(X=.06),Number(X.toFixed(2))}function getValue$1(G,U,W){var X;return W?X=G.v+brightnessStep1*U:X=G.v-brightnessStep2*U,X>1&&(X=1),Number(X.toFixed(2))}function generate$1(G){for(var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=[],X=inputToRGB(G),ne=lightColorCount;ne>0;ne-=1){var oe=toHsv(X),le=toHex(inputToRGB({h:getHue(oe,ne,!0),s:getSaturation(oe,ne,!0),v:getValue$1(oe,ne,!0)}));W.push(le)}W.push(toHex(X));for(var se=1;se<=darkColorCount;se+=1){var ue=toHsv(X),ce=toHex(inputToRGB({h:getHue(ue,se),s:getSaturation(ue,se),v:getValue$1(ue,se)}));W.push(ce)}return U.theme==="dark"?darkColorMap.map(function(fe){var me=fe.index,ve=fe.opacity,be=toHex(mix$1(inputToRGB(U.backgroundColor||"#141414"),inputToRGB(W[me]),ve*100));return be}):W}var presetPrimaryColors={red:"#F5222D",volcano:"#FA541C",orange:"#FA8C16",gold:"#FAAD14",yellow:"#FADB14",lime:"#A0D911",green:"#52C41A",cyan:"#13C2C2",blue:"#1890FF",geekblue:"#2F54EB",purple:"#722ED1",magenta:"#EB2F96",grey:"#666666"},presetPalettes={},presetDarkPalettes={};Object.keys(presetPrimaryColors).forEach(function(G){presetPalettes[G]=generate$1(presetPrimaryColors[G]),presetPalettes[G].primary=presetPalettes[G][5],presetDarkPalettes[G]=generate$1(presetPrimaryColors[G],{theme:"dark",backgroundColor:"#141414"}),presetDarkPalettes[G].primary=presetDarkPalettes[G][5]});var containers=[],styleElements=[],usage="insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).";function createStyleElement(){var G=document.createElement("style");return G.setAttribute("type","text/css"),G}function insertCss(G,U){if(U=U||{},G===void 0)throw new Error(usage);var W=U.prepend===!0?"prepend":"append",X=U.container!==void 0?U.container:document.querySelector("head"),ne=containers.indexOf(X);ne===-1&&(ne=containers.push(X)-1,styleElements[ne]={});var oe;return styleElements[ne]!==void 0&&styleElements[ne][W]!==void 0?oe=styleElements[ne][W]:(oe=styleElements[ne][W]=createStyleElement(),W==="prepend"?X.insertBefore(oe,X.childNodes[0]):X.appendChild(oe)),G.charCodeAt(0)===65279&&(G=G.substr(1,G.length)),oe.styleSheet?oe.styleSheet.cssText+=G:oe.textContent+=G,oe}function _objectSpread$l(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$n(G,ne,W[ne])})}return G}function _defineProperty$n(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}function warning$2(G,U){}function isIconDefinition(G){return typeof G=="object"&&typeof G.name=="string"&&typeof G.theme=="string"&&(typeof G.icon=="object"||typeof G.icon=="function")}function generate(G,U,W){return W?h$2(G.tag,_objectSpread$l({key:U},W,G.attrs),(G.children||[]).map(function(X,ne){return generate(X,"".concat(U,"-").concat(G.tag,"-").concat(ne))})):h$2(G.tag,_objectSpread$l({key:U},G.attrs),(G.children||[]).map(function(X,ne){return generate(X,"".concat(U,"-").concat(G.tag,"-").concat(ne))}))}function getSecondaryColor(G){return generate$1(G)[0]}function normalizeTwoToneColors(G){return G?Array.isArray(G)?G:[G]:[]}var iconStyles=`
.anticon {
  display: inline-block;
  color: inherit;
  font-style: normal;
  line-height: 0;
  text-align: center;
  text-transform: none;
  vertical-align: -0.125em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.anticon > * {
  line-height: 1;
}

.anticon svg {
  display: inline-block;
}

.anticon::before {
  display: none;
}

.anticon .anticon-icon {
  display: block;
}

.anticon[tabindex] {
  cursor: pointer;
}

.anticon-spin::before,
.anticon-spin {
  display: inline-block;
  -webkit-animation: loadingCircle 1s infinite linear;
  animation: loadingCircle 1s infinite linear;
}

@-webkit-keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}

@keyframes loadingCircle {
  100% {
    -webkit-transform: rotate(360deg);
    transform: rotate(360deg);
  }
}
`,cssInjectedFlag=!1,useInsertStyles=function G(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:iconStyles;nextTick(function(){cssInjectedFlag||(typeof window<"u"&&window.document&&window.document.documentElement&&insertCss(U,{prepend:!0}),cssInjectedFlag=!0)})},_excluded$h=["icon","primaryColor","secondaryColor"];function _objectWithoutProperties$2(G,U){if(G==null)return{};var W=_objectWithoutPropertiesLoose$2(G,U),X,ne;if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(G);for(ne=0;ne<oe.length;ne++)X=oe[ne],!(U.indexOf(X)>=0)&&(!Object.prototype.propertyIsEnumerable.call(G,X)||(W[X]=G[X]))}return W}function _objectWithoutPropertiesLoose$2(G,U){if(G==null)return{};var W={},X=Object.keys(G),ne,oe;for(oe=0;oe<X.length;oe++)ne=X[oe],!(U.indexOf(ne)>=0)&&(W[ne]=G[ne]);return W}function _objectSpread$k(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$m(G,ne,W[ne])})}return G}function _defineProperty$m(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var twoToneColorPalette={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};function setTwoToneColors(G){var U=G.primaryColor,W=G.secondaryColor;twoToneColorPalette.primaryColor=U,twoToneColorPalette.secondaryColor=W||getSecondaryColor(U),twoToneColorPalette.calculated=!!W}function getTwoToneColors(){return _objectSpread$k({},twoToneColorPalette)}var IconBase=function G(U,W){var X=_objectSpread$k({},U,W.attrs),ne=X.icon,oe=X.primaryColor,le=X.secondaryColor,se=_objectWithoutProperties$2(X,_excluded$h),ue=twoToneColorPalette;if(oe&&(ue={primaryColor:oe,secondaryColor:le||getSecondaryColor(oe)}),useInsertStyles(),isIconDefinition(ne),!isIconDefinition(ne))return null;var ce=ne;return ce&&typeof ce.icon=="function"&&(ce=_objectSpread$k({},ce,{icon:ce.icon(ue.primaryColor,ue.secondaryColor)})),generate(ce.icon,"svg-".concat(ce.name),_objectSpread$k({},se,{"data-icon":ce.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"}))};IconBase.props={icon:Object,primaryColor:String,secondaryColor:String,focusable:String};IconBase.inheritAttrs=!1;IconBase.displayName="IconBase";IconBase.getTwoToneColors=getTwoToneColors;IconBase.setTwoToneColors=setTwoToneColors;const VueIcon=IconBase;function _slicedToArray$2(G,U){return _arrayWithHoles$2(G)||_iterableToArrayLimit$2(G,U)||_unsupportedIterableToArray$2(G,U)||_nonIterableRest$2()}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$2(G,U){if(!!G){if(typeof G=="string")return _arrayLikeToArray$2(G,U);var W=Object.prototype.toString.call(G).slice(8,-1);if(W==="Object"&&G.constructor&&(W=G.constructor.name),W==="Map"||W==="Set")return Array.from(G);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return _arrayLikeToArray$2(G,U)}}function _arrayLikeToArray$2(G,U){(U==null||U>G.length)&&(U=G.length);for(var W=0,X=new Array(U);W<U;W++)X[W]=G[W];return X}function _iterableToArrayLimit$2(G,U){var W=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(W!=null){var X=[],ne=!0,oe=!1,le,se;try{for(W=W.call(G);!(ne=(le=W.next()).done)&&(X.push(le.value),!(U&&X.length===U));ne=!0);}catch(ue){oe=!0,se=ue}finally{try{!ne&&W.return!=null&&W.return()}finally{if(oe)throw se}}return X}}function _arrayWithHoles$2(G){if(Array.isArray(G))return G}function setTwoToneColor(G){var U=normalizeTwoToneColors(G),W=_slicedToArray$2(U,2),X=W[0],ne=W[1];return VueIcon.setTwoToneColors({primaryColor:X,secondaryColor:ne})}function getTwoToneColor(){var G=VueIcon.getTwoToneColors();return G.calculated?[G.primaryColor,G.secondaryColor]:G.primaryColor}var _excluded$g=["class","icon","spin","rotate","tabindex","twoToneColor","onClick"];function _slicedToArray$1(G,U){return _arrayWithHoles$1(G)||_iterableToArrayLimit$1(G,U)||_unsupportedIterableToArray$1(G,U)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(G,U){if(!!G){if(typeof G=="string")return _arrayLikeToArray$1(G,U);var W=Object.prototype.toString.call(G).slice(8,-1);if(W==="Object"&&G.constructor&&(W=G.constructor.name),W==="Map"||W==="Set")return Array.from(G);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return _arrayLikeToArray$1(G,U)}}function _arrayLikeToArray$1(G,U){(U==null||U>G.length)&&(U=G.length);for(var W=0,X=new Array(U);W<U;W++)X[W]=G[W];return X}function _iterableToArrayLimit$1(G,U){var W=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(W!=null){var X=[],ne=!0,oe=!1,le,se;try{for(W=W.call(G);!(ne=(le=W.next()).done)&&(X.push(le.value),!(U&&X.length===U));ne=!0);}catch(ue){oe=!0,se=ue}finally{try{!ne&&W.return!=null&&W.return()}finally{if(oe)throw se}}return X}}function _arrayWithHoles$1(G){if(Array.isArray(G))return G}function _objectSpread$j(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$l(G,ne,W[ne])})}return G}function _defineProperty$l(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}function _objectWithoutProperties$1(G,U){if(G==null)return{};var W=_objectWithoutPropertiesLoose$1(G,U),X,ne;if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(G);for(ne=0;ne<oe.length;ne++)X=oe[ne],!(U.indexOf(X)>=0)&&(!Object.prototype.propertyIsEnumerable.call(G,X)||(W[X]=G[X]))}return W}function _objectWithoutPropertiesLoose$1(G,U){if(G==null)return{};var W={},X=Object.keys(G),ne,oe;for(oe=0;oe<X.length;oe++)ne=X[oe],!(U.indexOf(ne)>=0)&&(W[ne]=G[ne]);return W}setTwoToneColor("#1890ff");var Icon=function G(U,W){var X,ne=_objectSpread$j({},U,W.attrs),oe=ne.class,le=ne.icon,se=ne.spin,ue=ne.rotate,ce=ne.tabindex,fe=ne.twoToneColor,me=ne.onClick,ve=_objectWithoutProperties$1(ne,_excluded$g),be=(X={anticon:!0},_defineProperty$l(X,"anticon-".concat(le.name),Boolean(le.name)),_defineProperty$l(X,oe,oe),X),Se=se===""||!!se||le.name==="loading"?"anticon-spin":"",_e=ce;_e===void 0&&me&&(_e=-1,ve.tabindex=_e);var Ae=ue?{msTransform:"rotate(".concat(ue,"deg)"),transform:"rotate(".concat(ue,"deg)")}:void 0,ke=normalizeTwoToneColors(fe),Me=_slicedToArray$1(ke,2),Le=Me[0],qe=Me[1];return createVNode("span",_objectSpread$j({role:"img","aria-label":le.name},ve,{onClick:me,class:be}),[createVNode(VueIcon,{class:Se,icon:le,primaryColor:Le,secondaryColor:qe,style:Ae},null)])};Icon.props={spin:Boolean,rotate:Number,icon:Object,twoToneColor:String};Icon.displayName="AntdIcon";Icon.inheritAttrs=!1;Icon.getTwoToneColor=getTwoToneColor;Icon.setTwoToneColor=setTwoToneColor;const AntdIcon=Icon;var CheckCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"};const CheckCircleFilledSvg=CheckCircleFilled$2;function _objectSpread$i(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$k(G,ne,W[ne])})}return G}function _defineProperty$k(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CheckCircleFilled=function G(U,W){var X=_objectSpread$i({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$i({},X,{icon:CheckCircleFilledSvg}),null)};CheckCircleFilled.displayName="CheckCircleFilled";CheckCircleFilled.inheritAttrs=!1;const CheckCircleFilled$1=CheckCircleFilled;var CheckCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};const CheckCircleOutlinedSvg=CheckCircleOutlined$2;function _objectSpread$h(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$j(G,ne,W[ne])})}return G}function _defineProperty$j(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CheckCircleOutlined=function G(U,W){var X=_objectSpread$h({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$h({},X,{icon:CheckCircleOutlinedSvg}),null)};CheckCircleOutlined.displayName="CheckCircleOutlined";CheckCircleOutlined.inheritAttrs=!1;const CheckCircleOutlined$1=CheckCircleOutlined;var CheckOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"};const CheckOutlinedSvg=CheckOutlined$2;function _objectSpread$g(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$i(G,ne,W[ne])})}return G}function _defineProperty$i(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CheckOutlined=function G(U,W){var X=_objectSpread$g({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$g({},X,{icon:CheckOutlinedSvg}),null)};CheckOutlined.displayName="CheckOutlined";CheckOutlined.inheritAttrs=!1;const CheckOutlined$1=CheckOutlined;var CloseCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm165.4 618.2l-66-.3L512 563.4l-99.3 118.4-66.1.3c-4.4 0-8-3.5-8-8 0-1.9.7-3.7 1.9-5.2l130.1-155L340.5 359a8.32 8.32 0 01-1.9-5.2c0-4.4 3.6-8 8-8l66.1.3L512 464.6l99.3-118.4 66-.3c4.4 0 8 3.5 8 8 0 1.9-.7 3.7-1.9 5.2L553.5 514l130 155c1.2 1.5 1.9 3.3 1.9 5.2 0 4.4-3.6 8-8 8z"}}]},name:"close-circle",theme:"filled"};const CloseCircleFilledSvg=CloseCircleFilled$2;function _objectSpread$f(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$h(G,ne,W[ne])})}return G}function _defineProperty$h(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CloseCircleFilled=function G(U,W){var X=_objectSpread$f({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$f({},X,{icon:CloseCircleFilledSvg}),null)};CloseCircleFilled.displayName="CloseCircleFilled";CloseCircleFilled.inheritAttrs=!1;const CloseCircleFilled$1=CloseCircleFilled;var CloseCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M685.4 354.8c0-4.4-3.6-8-8-8l-66 .3L512 465.6l-99.3-118.4-66.1-.3c-4.4 0-8 3.5-8 8 0 1.9.7 3.7 1.9 5.2l130.1 155L340.5 670a8.32 8.32 0 00-1.9 5.2c0 4.4 3.6 8 8 8l66.1-.3L512 564.4l99.3 118.4 66 .3c4.4 0 8-3.5 8-8 0-1.9-.7-3.7-1.9-5.2L553.5 515l130.1-155c1.2-1.4 1.8-3.3 1.8-5.2z"}},{tag:"path",attrs:{d:"M512 65C264.6 65 64 265.6 64 513s200.6 448 448 448 448-200.6 448-448S759.4 65 512 65zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"close-circle",theme:"outlined"};const CloseCircleOutlinedSvg=CloseCircleOutlined$2;function _objectSpread$e(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$g(G,ne,W[ne])})}return G}function _defineProperty$g(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CloseCircleOutlined=function G(U,W){var X=_objectSpread$e({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$e({},X,{icon:CloseCircleOutlinedSvg}),null)};CloseCircleOutlined.displayName="CloseCircleOutlined";CloseCircleOutlined.inheritAttrs=!1;const CloseCircleOutlined$1=CloseCircleOutlined;var CloseOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"};const CloseOutlinedSvg=CloseOutlined$2;function _objectSpread$d(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$f(G,ne,W[ne])})}return G}function _defineProperty$f(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CloseOutlined=function G(U,W){var X=_objectSpread$d({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$d({},X,{icon:CloseOutlinedSvg}),null)};CloseOutlined.displayName="CloseOutlined";CloseOutlined.inheritAttrs=!1;const CloseOutlined$1=CloseOutlined;var CommentOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"};const CommentOutlinedSvg=CommentOutlined$2;function _objectSpread$c(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$e(G,ne,W[ne])})}return G}function _defineProperty$e(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var CommentOutlined=function G(U,W){var X=_objectSpread$c({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$c({},X,{icon:CommentOutlinedSvg}),null)};CommentOutlined.displayName="CommentOutlined";CommentOutlined.inheritAttrs=!1;const CommentOutlined$1=CommentOutlined;var DoubleLeftOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M272.9 512l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L186.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H532c6.7 0 10.4-7.7 6.3-12.9L272.9 512zm304 0l265.4-339.1c4.1-5.2.4-12.9-6.3-12.9h-77.3c-4.9 0-9.6 2.3-12.6 6.1L490.8 492.3a31.99 31.99 0 000 39.5l255.3 326.1c3 3.9 7.7 6.1 12.6 6.1H836c6.7 0 10.4-7.7 6.3-12.9L576.9 512z"}}]},name:"double-left",theme:"outlined"};const DoubleLeftOutlinedSvg=DoubleLeftOutlined$2;function _objectSpread$b(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$d(G,ne,W[ne])})}return G}function _defineProperty$d(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var DoubleLeftOutlined=function G(U,W){var X=_objectSpread$b({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$b({},X,{icon:DoubleLeftOutlinedSvg}),null)};DoubleLeftOutlined.displayName="DoubleLeftOutlined";DoubleLeftOutlined.inheritAttrs=!1;const DoubleLeftOutlined$1=DoubleLeftOutlined;var DoubleRightOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M533.2 492.3L277.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H188c-6.7 0-10.4 7.7-6.3 12.9L447.1 512 181.7 851.1A7.98 7.98 0 00188 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5zm304 0L581.9 166.1c-3-3.9-7.7-6.1-12.6-6.1H492c-6.7 0-10.4 7.7-6.3 12.9L751.1 512 485.7 851.1A7.98 7.98 0 00492 864h77.3c4.9 0 9.6-2.3 12.6-6.1l255.3-326.1c9.1-11.7 9.1-27.9 0-39.5z"}}]},name:"double-right",theme:"outlined"};const DoubleRightOutlinedSvg=DoubleRightOutlined$2;function _objectSpread$a(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$c(G,ne,W[ne])})}return G}function _defineProperty$c(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var DoubleRightOutlined=function G(U,W){var X=_objectSpread$a({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$a({},X,{icon:DoubleRightOutlinedSvg}),null)};DoubleRightOutlined.displayName="DoubleRightOutlined";DoubleRightOutlined.inheritAttrs=!1;const DoubleRightOutlined$1=DoubleRightOutlined;var DownOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"};const DownOutlinedSvg=DownOutlined$2;function _objectSpread$9(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$b(G,ne,W[ne])})}return G}function _defineProperty$b(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var DownOutlined=function G(U,W){var X=_objectSpread$9({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$9({},X,{icon:DownOutlinedSvg}),null)};DownOutlined.displayName="DownOutlined";DownOutlined.inheritAttrs=!1;const DownOutlined$1=DownOutlined;var EditOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};const EditOutlinedSvg=EditOutlined$2;function _objectSpread$8(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$a(G,ne,W[ne])})}return G}function _defineProperty$a(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var EditOutlined=function G(U,W){var X=_objectSpread$8({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$8({},X,{icon:EditOutlinedSvg}),null)};EditOutlined.displayName="EditOutlined";EditOutlined.inheritAttrs=!1;const EditOutlined$1=EditOutlined;var ExclamationCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"};const ExclamationCircleFilledSvg=ExclamationCircleFilled$2;function _objectSpread$7(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$9(G,ne,W[ne])})}return G}function _defineProperty$9(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var ExclamationCircleFilled=function G(U,W){var X=_objectSpread$7({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$7({},X,{icon:ExclamationCircleFilledSvg}),null)};ExclamationCircleFilled.displayName="ExclamationCircleFilled";ExclamationCircleFilled.inheritAttrs=!1;const ExclamationCircleFilled$1=ExclamationCircleFilled;var ExclamationCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"};const ExclamationCircleOutlinedSvg=ExclamationCircleOutlined$2;function _objectSpread$6(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$8(G,ne,W[ne])})}return G}function _defineProperty$8(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var ExclamationCircleOutlined=function G(U,W){var X=_objectSpread$6({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$6({},X,{icon:ExclamationCircleOutlinedSvg}),null)};ExclamationCircleOutlined.displayName="ExclamationCircleOutlined";ExclamationCircleOutlined.inheritAttrs=!1;const ExclamationCircleOutlined$1=ExclamationCircleOutlined;var InfoCircleFilled$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm32 664c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V456c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272zm-32-344a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"info-circle",theme:"filled"};const InfoCircleFilledSvg=InfoCircleFilled$2;function _objectSpread$5(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$7(G,ne,W[ne])})}return G}function _defineProperty$7(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var InfoCircleFilled=function G(U,W){var X=_objectSpread$5({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$5({},X,{icon:InfoCircleFilledSvg}),null)};InfoCircleFilled.displayName="InfoCircleFilled";InfoCircleFilled.inheritAttrs=!1;const InfoCircleFilled$1=InfoCircleFilled;var InfoCircleOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 336a48 48 0 1096 0 48 48 0 10-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z"}}]},name:"info-circle",theme:"outlined"};const InfoCircleOutlinedSvg=InfoCircleOutlined$2;function _objectSpread$4(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$6(G,ne,W[ne])})}return G}function _defineProperty$6(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var InfoCircleOutlined=function G(U,W){var X=_objectSpread$4({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$4({},X,{icon:InfoCircleOutlinedSvg}),null)};InfoCircleOutlined.displayName="InfoCircleOutlined";InfoCircleOutlined.inheritAttrs=!1;const InfoCircleOutlined$1=InfoCircleOutlined;var LeftOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"};const LeftOutlinedSvg=LeftOutlined$2;function _objectSpread$3(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$5(G,ne,W[ne])})}return G}function _defineProperty$5(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var LeftOutlined=function G(U,W){var X=_objectSpread$3({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$3({},X,{icon:LeftOutlinedSvg}),null)};LeftOutlined.displayName="LeftOutlined";LeftOutlined.inheritAttrs=!1;const LeftOutlined$1=LeftOutlined;var LoadingOutlined$2={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"};const LoadingOutlinedSvg=LoadingOutlined$2;function _objectSpread$2(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$4(G,ne,W[ne])})}return G}function _defineProperty$4(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var LoadingOutlined=function G(U,W){var X=_objectSpread$2({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$2({},X,{icon:LoadingOutlinedSvg}),null)};LoadingOutlined.displayName="LoadingOutlined";LoadingOutlined.inheritAttrs=!1;const LoadingOutlined$1=LoadingOutlined;var RightOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"};const RightOutlinedSvg=RightOutlined$2;function _objectSpread$1(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$3(G,ne,W[ne])})}return G}function _defineProperty$3(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var RightOutlined=function G(U,W){var X=_objectSpread$1({},U,W.attrs);return createVNode(AntdIcon,_objectSpread$1({},X,{icon:RightOutlinedSvg}),null)};RightOutlined.displayName="RightOutlined";RightOutlined.inheritAttrs=!1;const RightOutlined$1=RightOutlined;var SearchOutlined$2={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.6 854.5L649.9 594.8C690.2 542.7 712 479 712 412c0-80.2-31.3-155.4-87.9-212.1-56.6-56.7-132-87.9-212.1-87.9s-155.5 31.3-212.1 87.9C143.2 256.5 112 331.8 112 412c0 80.1 31.3 155.5 87.9 212.1C256.5 680.8 331.8 712 412 712c67 0 130.6-21.8 182.7-62l259.7 259.6a8.2 8.2 0 0011.6 0l43.6-43.5a8.2 8.2 0 000-11.6zM570.4 570.4C528 612.7 471.8 636 412 636s-116-23.3-158.4-65.6C211.3 528 188 471.8 188 412s23.3-116.1 65.6-158.4C296 211.3 352.2 188 412 188s116.1 23.2 158.4 65.6S636 352.2 636 412s-23.3 116.1-65.6 158.4z"}}]},name:"search",theme:"outlined"};const SearchOutlinedSvg=SearchOutlined$2;function _objectSpread(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?Object(arguments[U]):{},X=Object.keys(W);typeof Object.getOwnPropertySymbols=="function"&&(X=X.concat(Object.getOwnPropertySymbols(W).filter(function(ne){return Object.getOwnPropertyDescriptor(W,ne).enumerable}))),X.forEach(function(ne){_defineProperty$2(G,ne,W[ne])})}return G}function _defineProperty$2(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var SearchOutlined=function G(U,W){var X=_objectSpread({},U,W.attrs);return createVNode(AntdIcon,_objectSpread({},X,{icon:SearchOutlinedSvg}),null)};SearchOutlined.displayName="SearchOutlined";SearchOutlined.inheritAttrs=!1;const SearchOutlined$1=SearchOutlined,antd="";function _typeof$2(G){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},_typeof$2(G)}function _toPrimitive(G,U){if(_typeof$2(G)!=="object"||G===null)return G;var W=G[Symbol.toPrimitive];if(W!==void 0){var X=W.call(G,U||"default");if(_typeof$2(X)!=="object")return X;throw new TypeError("@@toPrimitive must return a primitive value.")}return(U==="string"?String:Number)(G)}function _toPropertyKey(G){var U=_toPrimitive(G,"string");return _typeof$2(U)==="symbol"?U:String(U)}function _defineProperty$1(G,U,W){return U=_toPropertyKey(U),U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}function ownKeys$1(G,U){var W=Object.keys(G);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(G);U&&(X=X.filter(function(ne){return Object.getOwnPropertyDescriptor(G,ne).enumerable})),W.push.apply(W,X)}return W}function _objectSpread2$1(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?arguments[U]:{};U%2?ownKeys$1(Object(W),!0).forEach(function(X){_defineProperty$1(G,X,W[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(W)):ownKeys$1(Object(W)).forEach(function(X){Object.defineProperty(G,X,Object.getOwnPropertyDescriptor(W,X))})}return G}function _extends(){return _extends=Object.assign?Object.assign.bind():function(G){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&(G[X]=W[X])}return G},_extends.apply(this,arguments)}var isFunction$1=function G(U){return typeof U=="function"},isArray$2=Array.isArray,isString=function G(U){return typeof U=="string"},isObject$1=function G(U){return U!==null&&_typeof$2(U)==="object"},onRE=/^on[^a-z]/,isOn=function G(U){return onRE.test(U)},cacheStringFunction=function G(U){var W=Object.create(null);return function(X){var ne=W[X];return ne||(W[X]=U(X))}},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(function(G){return G.replace(camelizeRE,function(U,W){return W?W.toUpperCase():""})}),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(function(G){return G.replace(hyphenateRE,"-$1").toLowerCase()}),hasOwnProperty$9=Object.prototype.hasOwnProperty,hasOwn=function G(U,W){return hasOwnProperty$9.call(U,W)};function resolvePropValue(G,U,W,X){var ne=G[W];if(ne!=null){var oe=hasOwn(ne,"default");if(oe&&X===void 0){var le=ne.default;X=ne.type!==Function&&isFunction$1(le)?le():le}ne.type===Boolean&&(!hasOwn(U,W)&&!oe?X=!1:X===""&&(X=!0))}return X}function renderHelper(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2?arguments[2]:void 0;return typeof G=="function"?G(U):G!=null?G:W}function classNames(){for(var G=[],U=0;U<arguments.length;U++){var W=U<0||arguments.length<=U?void 0:arguments[U];if(!!W){if(isString(W))G.push(W);else if(isArray$2(W))for(var X=0;X<W.length;X++){var ne=classNames(W[X]);ne&&G.push(ne)}else if(isObject$1(W))for(var oe in W)W[oe]&&G.push(oe)}}return G.join(" ")}var MapShim=function(){if(typeof Map<"u")return Map;function G(U,W){var X=-1;return U.some(function(ne,oe){return ne[0]===W?(X=oe,!0):!1}),X}return function(){function U(){this.__entries__=[]}return Object.defineProperty(U.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),U.prototype.get=function(W){var X=G(this.__entries__,W),ne=this.__entries__[X];return ne&&ne[1]},U.prototype.set=function(W,X){var ne=G(this.__entries__,W);~ne?this.__entries__[ne][1]=X:this.__entries__.push([W,X])},U.prototype.delete=function(W){var X=this.__entries__,ne=G(X,W);~ne&&X.splice(ne,1)},U.prototype.has=function(W){return!!~G(this.__entries__,W)},U.prototype.clear=function(){this.__entries__.splice(0)},U.prototype.forEach=function(W,X){X===void 0&&(X=null);for(var ne=0,oe=this.__entries__;ne<oe.length;ne++){var le=oe[ne];W.call(X,le[1],le[0])}},U}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(G){return setTimeout(function(){return G(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(G,U){var W=!1,X=!1,ne=0;function oe(){W&&(W=!1,G()),X&&se()}function le(){requestAnimationFrame$1(oe)}function se(){var ue=Date.now();if(W){if(ue-ne<trailingTimeout)return;X=!0}else W=!0,X=!1,setTimeout(le,U);ne=ue}return se}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function G(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return G.prototype.addObserver=function(U){~this.observers_.indexOf(U)||this.observers_.push(U),this.connected_||this.connect_()},G.prototype.removeObserver=function(U){var W=this.observers_,X=W.indexOf(U);~X&&W.splice(X,1),!W.length&&this.connected_&&this.disconnect_()},G.prototype.refresh=function(){var U=this.updateObservers_();U&&this.refresh()},G.prototype.updateObservers_=function(){var U=this.observers_.filter(function(W){return W.gatherActive(),W.hasActive()});return U.forEach(function(W){return W.broadcastActive()}),U.length>0},G.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},G.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},G.prototype.onTransitionEnd_=function(U){var W=U.propertyName,X=W===void 0?"":W,ne=transitionKeys.some(function(oe){return!!~X.indexOf(oe)});ne&&this.refresh()},G.getInstance=function(){return this.instance_||(this.instance_=new G),this.instance_},G.instance_=null,G}(),defineConfigurable=function(G,U){for(var W=0,X=Object.keys(U);W<X.length;W++){var ne=X[W];Object.defineProperty(G,ne,{value:U[ne],enumerable:!1,writable:!1,configurable:!0})}return G},getWindowOf=function(G){var U=G&&G.ownerDocument&&G.ownerDocument.defaultView;return U||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(G){return parseFloat(G)||0}function getBordersSize(G){for(var U=[],W=1;W<arguments.length;W++)U[W-1]=arguments[W];return U.reduce(function(X,ne){var oe=G["border-"+ne+"-width"];return X+toFloat(oe)},0)}function getPaddings(G){for(var U=["top","right","bottom","left"],W={},X=0,ne=U;X<ne.length;X++){var oe=ne[X],le=G["padding-"+oe];W[oe]=toFloat(le)}return W}function getSVGContentRect(G){var U=G.getBBox();return createRectInit(0,0,U.width,U.height)}function getHTMLElementContentRect(G){var U=G.clientWidth,W=G.clientHeight;if(!U&&!W)return emptyRect;var X=getWindowOf(G).getComputedStyle(G),ne=getPaddings(X),oe=ne.left+ne.right,le=ne.top+ne.bottom,se=toFloat(X.width),ue=toFloat(X.height);if(X.boxSizing==="border-box"&&(Math.round(se+oe)!==U&&(se-=getBordersSize(X,"left","right")+oe),Math.round(ue+le)!==W&&(ue-=getBordersSize(X,"top","bottom")+le)),!isDocumentElement(G)){var ce=Math.round(se+oe)-U,fe=Math.round(ue+le)-W;Math.abs(ce)!==1&&(se-=ce),Math.abs(fe)!==1&&(ue-=fe)}return createRectInit(ne.left,ne.top,se,ue)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(G){return G instanceof getWindowOf(G).SVGGraphicsElement}:function(G){return G instanceof getWindowOf(G).SVGElement&&typeof G.getBBox=="function"}}();function isDocumentElement(G){return G===getWindowOf(G).document.documentElement}function getContentRect(G){return isBrowser?isSVGGraphicsElement(G)?getSVGContentRect(G):getHTMLElementContentRect(G):emptyRect}function createReadOnlyRect(G){var U=G.x,W=G.y,X=G.width,ne=G.height,oe=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,le=Object.create(oe.prototype);return defineConfigurable(le,{x:U,y:W,width:X,height:ne,top:W,right:U+X,bottom:ne+W,left:U}),le}function createRectInit(G,U,W,X){return{x:G,y:U,width:W,height:X}}var ResizeObservation=function(){function G(U){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=U}return G.prototype.isActive=function(){var U=getContentRect(this.target);return this.contentRect_=U,U.width!==this.broadcastWidth||U.height!==this.broadcastHeight},G.prototype.broadcastRect=function(){var U=this.contentRect_;return this.broadcastWidth=U.width,this.broadcastHeight=U.height,U},G}(),ResizeObserverEntry=function(){function G(U,W){var X=createReadOnlyRect(W);defineConfigurable(this,{target:U,contentRect:X})}return G}(),ResizeObserverSPI=function(){function G(U,W,X){if(this.activeObservations_=[],this.observations_=new MapShim,typeof U!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=U,this.controller_=W,this.callbackCtx_=X}return G.prototype.observe=function(U){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(U instanceof getWindowOf(U).Element))throw new TypeError('parameter 1 is not of type "Element".');var W=this.observations_;W.has(U)||(W.set(U,new ResizeObservation(U)),this.controller_.addObserver(this),this.controller_.refresh())}},G.prototype.unobserve=function(U){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(U instanceof getWindowOf(U).Element))throw new TypeError('parameter 1 is not of type "Element".');var W=this.observations_;!W.has(U)||(W.delete(U),W.size||this.controller_.removeObserver(this))}},G.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},G.prototype.gatherActive=function(){var U=this;this.clearActive(),this.observations_.forEach(function(W){W.isActive()&&U.activeObservations_.push(W)})},G.prototype.broadcastActive=function(){if(!!this.hasActive()){var U=this.callbackCtx_,W=this.activeObservations_.map(function(X){return new ResizeObserverEntry(X.target,X.broadcastRect())});this.callback_.call(U,W,U),this.clearActive()}},G.prototype.clearActive=function(){this.activeObservations_.splice(0)},G.prototype.hasActive=function(){return this.activeObservations_.length>0},G}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$2=function(){function G(U){if(!(this instanceof G))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var W=ResizeObserverController.getInstance(),X=new ResizeObserverSPI(U,W,this);observers.set(this,X)}return G}();["observe","unobserve","disconnect"].forEach(function(G){ResizeObserver$2.prototype[G]=function(){var U;return(U=observers.get(this))[G].apply(U,arguments)}});var index=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$2}();function _arrayWithHoles(G){if(Array.isArray(G))return G}function _iterableToArrayLimit(G,U){var W=G==null?null:typeof Symbol<"u"&&G[Symbol.iterator]||G["@@iterator"];if(W!=null){var X,ne,oe,le,se=[],ue=!0,ce=!1;try{if(oe=(W=W.call(G)).next,U===0){if(Object(W)!==W)return;ue=!1}else for(;!(ue=(X=oe.call(W)).done)&&(se.push(X.value),se.length!==U);ue=!0);}catch(fe){ce=!0,ne=fe}finally{try{if(!ue&&W.return!=null&&(le=W.return(),Object(le)!==le))return}finally{if(ce)throw ne}}return se}}function _arrayLikeToArray(G,U){(U==null||U>G.length)&&(U=G.length);for(var W=0,X=new Array(U);W<U;W++)X[W]=G[W];return X}function _unsupportedIterableToArray(G,U){if(!!G){if(typeof G=="string")return _arrayLikeToArray(G,U);var W=Object.prototype.toString.call(G).slice(8,-1);if(W==="Object"&&G.constructor&&(W=G.constructor.name),W==="Map"||W==="Set")return Array.from(G);if(W==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(W))return _arrayLikeToArray(G,U)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(G,U){return _arrayWithHoles(G)||_iterableToArrayLimit(G,U)||_unsupportedIterableToArray(G,U)||_nonIterableRest()}function _arrayWithoutHoles(G){if(Array.isArray(G))return _arrayLikeToArray(G)}function _iterableToArray(G){if(typeof Symbol<"u"&&G[Symbol.iterator]!=null||G["@@iterator"]!=null)return Array.from(G)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(G){return _arrayWithoutHoles(G)||_iterableToArray(G)||_unsupportedIterableToArray(G)||_nonIterableSpread()}var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(G){var U=hasOwnProperty$8.call(G,symToStringTag$1),W=G[symToStringTag$1];try{G[symToStringTag$1]=void 0;var X=!0}catch{}var ne=nativeObjectToString$1.call(G);return X&&(U?G[symToStringTag$1]=W:delete G[symToStringTag$1]),ne}var objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString(G){return nativeObjectToString.call(G)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(G){return G==null?G===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(G)?getRawTag(G):objectToString(G)}function overArg(G,U){return function(W){return G(U(W))}}function isObjectLike(G){return G!=null&&typeof G=="object"}var isValid=function G(U){return U!=null&&U!==""};const isValid$1=isValid;var initDefaultProps=function G(U,W){var X=_objectSpread2$1({},U);return Object.keys(W).forEach(function(ne){var oe=X[ne];if(oe)oe.type||oe.default?oe.default=W[ne]:oe.def?oe.def(W[ne]):X[ne]={type:oe,default:W[ne]};else throw new Error("not have ".concat(ne," prop"))}),X};const initDefaultProps$1=initDefaultProps;var splitAttrs=function G(U){for(var W=Object.keys(U),X={},ne={},oe={},le=0,se=W.length;le<se;le++){var ue=W[le];isOn(ue)?(X[ue[2].toLowerCase()+ue.slice(3)]=U[ue],ne[ue]=U[ue]):oe[ue]=U[ue]}return{onEvents:ne,events:X,extraAttrs:oe}},parseStyleText=function G(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",W=arguments.length>1?arguments[1]:void 0,X={},ne=/;(?![^(]*\))/g,oe=/:(.+)/;return _typeof$2(U)==="object"?U:(U.split(ne).forEach(function(le){if(le){var se=le.split(oe);if(se.length>1){var ue=W?camelize(se[0].trim()):se[0].trim();X[ue]=se[1].trim()}}}),X)},hasProp=function G(U,W){return U[W]!==void 0},flattenChildren=function G(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,X=Array.isArray(U)?U:[U],ne=[];return X.forEach(function(oe){Array.isArray(oe)?ne.push.apply(ne,_toConsumableArray(G(oe,W))):oe&&oe.type===Fragment?ne.push.apply(ne,_toConsumableArray(G(oe.children,W))):oe&&isVNode(oe)?W&&!isEmptyElement(oe)?ne.push(oe):W||ne.push(oe):isValid$1(oe)&&ne.push(oe)}),ne},getSlot=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(isVNode(U))return U.type===Fragment?W==="default"?flattenChildren(U.children):[]:U.children&&U.children[W]?flattenChildren(U.children[W](X)):[];var ne=U.$slots[W]&&U.$slots[W](X);return flattenChildren(ne)},findDOMNode=function G(U){for(var W,X=(U==null||(W=U.vnode)===null||W===void 0?void 0:W.el)||U&&(U.$el||U);X&&!X.tagName;)X=X.nextSibling;return X},getOptionProps=function G(U){var W={};if(U.$&&U.$.vnode){var X=U.$.vnode.props||{};Object.keys(U.$props).forEach(function(se){var ue=U.$props[se],ce=hyphenate(se);(ue!==void 0||ce in X)&&(W[se]=ue)})}else if(isVNode(U)&&_typeof$2(U.type)==="object"){var ne=U.props||{},oe={};Object.keys(ne).forEach(function(se){oe[camelize(se)]=ne[se]});var le=U.type.props||{};Object.keys(le).forEach(function(se){var ue=resolvePropValue(le,oe,se,oe[se]);(ue!==void 0||se in oe)&&(W[se]=ue)})}return W},getComponent=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"default",X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:U,ne=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,oe=void 0;if(U.$){var le=U[W];if(le!==void 0)return typeof le=="function"&&ne?le(X):le;oe=U.$slots[W],oe=ne&&oe?oe(X):oe}else if(isVNode(U)){var se=U.props&&U.props[W];if(se!==void 0&&U.props!==null)return typeof se=="function"&&ne?se(X):se;U.type===Fragment?oe=U.children:U.children&&U.children[W]&&(oe=U.children[W],oe=ne&&oe?oe(X):oe)}return Array.isArray(oe)&&(oe=flattenChildren(oe),oe=oe.length===1?oe[0]:oe,oe=oe.length===0?void 0:oe),oe};function getEvents(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,W={};return G.$?W=_objectSpread2$1(_objectSpread2$1({},W),G.$attrs):W=_objectSpread2$1(_objectSpread2$1({},W),G.props),splitAttrs(W)[U?"onEvents":"events"]}function getStyle(G,U){var W=(isVNode(G)?G.props:G.$attrs)||{},X=W.style||{};if(typeof X=="string")X=parseStyleText(X,U);else if(U&&X){var ne={};return Object.keys(X).forEach(function(oe){return ne[camelize(oe)]=X[oe]}),ne}return X}function isEmptyElement(G){return G&&(G.type===Comment||G.type===Fragment&&G.children.length===0||G.type===Text&&G.children.trim()==="")}function filterEmpty(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=[];return G.forEach(function(W){Array.isArray(W)?U.push.apply(U,_toConsumableArray(W)):(W==null?void 0:W.type)===Fragment?U.push.apply(U,_toConsumableArray(filterEmpty(W.children))):U.push(W)}),U.filter(function(W){return!isEmptyElement(W)})}function isValidElement(G){return Array.isArray(G)&&G.length===1&&(G=G[0]),G&&G.__v_isVNode&&_typeof$2(G.type)!=="symbol"}function getPropsSlot(G,U){var W,X,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"default";return(W=U[ne])!==null&&W!==void 0?W:(X=G[ne])===null||X===void 0?void 0:X.call(G)}const ResizeObserver$1=defineComponent({compatConfig:{MODE:3},name:"ResizeObserver",props:{disabled:Boolean,onResize:Function},emits:["resize"],setup:function G(U,W){var X=W.slots,ne=reactive({width:0,height:0,offsetHeight:0,offsetWidth:0}),oe=null,le=null,se=function(){le&&(le.disconnect(),le=null)},ue=function(ve){var be=U.onResize,Se=ve[0].target,_e=Se.getBoundingClientRect(),Ae=_e.width,ke=_e.height,Me=Se.offsetWidth,Le=Se.offsetHeight,qe=Math.floor(Ae),Je=Math.floor(ke);if(ne.width!==qe||ne.height!==Je||ne.offsetWidth!==Me||ne.offsetHeight!==Le){var Fe={width:qe,height:Je,offsetWidth:Me,offsetHeight:Le};_extends(ne,Fe),be&&Promise.resolve().then(function(){be(_objectSpread2$1(_objectSpread2$1({},Fe),{},{offsetWidth:Me,offsetHeight:Le}),Se)})}},ce=getCurrentInstance(),fe=function(){var ve=U.disabled;if(ve){se();return}var be=findDOMNode(ce),Se=be!==oe;Se&&(se(),oe=be),!le&&be&&(le=new index(ue),le.observe(be))};return onMounted(function(){fe()}),onUpdated(function(){fe()}),onUnmounted(function(){se()}),watch$1(function(){return U.disabled},function(){fe()},{flush:"post"}),function(){var me;return(me=X.default)===null||me===void 0?void 0:me.call(X)[0]}}});var raf$1=function G(U){return setTimeout(U,16)},caf=function G(U){return clearTimeout(U)};typeof window<"u"&&"requestAnimationFrame"in window&&(raf$1=function(U){return window.requestAnimationFrame(U)},caf=function(U){return window.cancelAnimationFrame(U)});var rafUUID=0,rafIds=new Map;function cleanup(G){rafIds.delete(G)}function wrapperRaf(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;rafUUID+=1;var W=rafUUID;function X(ne){if(ne===0)cleanup(W),G();else{var oe=raf$1(function(){X(ne-1)});rafIds.set(W,oe)}}return X(U),W}wrapperRaf.cancel=function(G){var U=rafIds.get(G);return cleanup(U),caf(U)};var tuple=function G(){for(var U=arguments.length,W=new Array(U),X=0;X<U;X++)W[X]=arguments[X];return W},withInstall=function G(U){var W=U;return W.install=function(X){X.component(W.displayName||W.name,U)},U},supportsPassive=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supportsPassive=!0}});window.addEventListener("testPassive",null,opts),window.removeEventListener("testPassive",null,opts)}catch(G){}const supportsPassive$1=supportsPassive;function addEventListenerWrap(G,U,W,X){if(G&&G.addEventListener){var ne=X;ne===void 0&&supportsPassive$1&&(U==="touchstart"||U==="touchmove"||U==="wheel")&&(ne={passive:!1}),G.addEventListener(U,W,ne)}return{remove:function(){G&&G.removeEventListener&&G.removeEventListener(U,W)}}}function _objectWithoutPropertiesLoose(G,U){if(G==null)return{};var W={},X=Object.keys(G),ne,oe;for(oe=0;oe<X.length;oe++)ne=X[oe],!(U.indexOf(ne)>=0)&&(W[ne]=G[ne]);return W}function _objectWithoutProperties(G,U){if(G==null)return{};var W=_objectWithoutPropertiesLoose(G,U),X,ne;if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(G);for(ne=0;ne<oe.length;ne++)X=oe[ne],!(U.indexOf(X)>=0)&&(!Object.prototype.propertyIsEnumerable.call(G,X)||(W[X]=G[X]))}return W}const enUS$1={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages"};var locale$2={locale:"en_US",today:"Today",now:"Now",backToToday:"Back to today",ok:"Ok",clear:"Clear",month:"Month",year:"Year",timeSelect:"select time",dateSelect:"select date",weekSelect:"Choose a week",monthSelect:"Choose a month",yearSelect:"Choose a year",decadeSelect:"Choose a decade",yearFormat:"YYYY",dateFormat:"M/D/YYYY",dayFormat:"D",dateTimeFormat:"M/D/YYYY HH:mm:ss",monthBeforeYear:!0,previousMonth:"Previous month (PageUp)",nextMonth:"Next month (PageDown)",previousYear:"Last year (Control + left)",nextYear:"Next year (Control + right)",previousDecade:"Last decade",nextDecade:"Next decade",previousCentury:"Last century",nextCentury:"Next century"};const CalendarLocale=locale$2;var locale$1={placeholder:"Select time",rangePlaceholder:["Start time","End time"]};const TimePicker=locale$1;var locale={lang:_objectSpread2$1({placeholder:"Select date",yearPlaceholder:"Select year",quarterPlaceholder:"Select quarter",monthPlaceholder:"Select month",weekPlaceholder:"Select week",rangePlaceholder:["Start date","End date"],rangeYearPlaceholder:["Start year","End year"],rangeQuarterPlaceholder:["Start quarter","End quarter"],rangeMonthPlaceholder:["Start month","End month"],rangeWeekPlaceholder:["Start week","End week"]},CalendarLocale),timePickerLocale:_objectSpread2$1({},TimePicker)};const enUS=locale;var typeTemplate="${label} is not a valid ${type}",localeValues={locale:"en",Pagination:enUS$1,DatePicker:enUS,TimePicker,Calendar:enUS,global:{placeholder:"Please select"},Table:{filterTitle:"Filter menu",filterConfirm:"OK",filterReset:"Reset",filterEmptyText:"No filters",filterCheckall:"Select all items",filterSearchPlaceholder:"Search in filters",emptyText:"No data",selectAll:"Select current page",selectInvert:"Invert current page",selectNone:"Clear all data",selectionAll:"Select all data",sortTitle:"Sort",expand:"Expand row",collapse:"Collapse row",triggerDesc:"Click to sort descending",triggerAsc:"Click to sort ascending",cancelSort:"Click to cancel sorting"},Modal:{okText:"OK",cancelText:"Cancel",justOkText:"OK"},Popconfirm:{okText:"OK",cancelText:"Cancel"},Transfer:{titles:["",""],searchPlaceholder:"Search here",itemUnit:"item",itemsUnit:"items",remove:"Remove",selectCurrent:"Select current page",removeCurrent:"Remove current page",selectAll:"Select all data",removeAll:"Remove all data",selectInvert:"Invert current page"},Upload:{uploading:"Uploading...",removeFile:"Remove file",uploadError:"Upload error",previewFile:"Preview file",downloadFile:"Download file"},Empty:{description:"No Data"},Icon:{icon:"icon"},Text:{edit:"Edit",copy:"Copy",copied:"Copied",expand:"Expand"},PageHeader:{back:"Back"},Form:{optional:"(optional)",defaultValidateMessages:{default:"Field validation error for ${label}",required:"Please enter ${label}",enum:"${label} must be one of [${enum}]",whitespace:"${label} cannot be a blank character",date:{format:"${label} date format is invalid",parse:"${label} cannot be converted to a date",invalid:"${label} is an invalid date"},types:{string:typeTemplate,method:typeTemplate,array:typeTemplate,object:typeTemplate,number:typeTemplate,date:typeTemplate,boolean:typeTemplate,integer:typeTemplate,float:typeTemplate,regexp:typeTemplate,email:typeTemplate,url:typeTemplate,hex:typeTemplate},string:{len:"${label} must be ${len} characters",min:"${label} must be at least ${min} characters",max:"${label} must be up to ${max} characters",range:"${label} must be between ${min}-${max} characters"},number:{len:"${label} must be equal to ${len}",min:"${label} must be minimum ${min}",max:"${label} must be maximum ${max}",range:"${label} must be between ${min}-${max}"},array:{len:"Must be ${len} ${label}",min:"At least ${min} ${label}",max:"At most ${max} ${label}",range:"The amount of ${label} must be between ${min}-${max}"},pattern:{mismatch:"${label} does not match the pattern ${pattern}"}}},Image:{preview:"Preview"}};const defaultLocale=localeValues,LocaleReceiver=defineComponent({compatConfig:{MODE:3},name:"LocaleReceiver",props:{componentName:String,defaultLocale:{type:[Object,Function]},children:{type:Function}},setup:function G(U,W){var X=W.slots,ne=inject("localeData",{}),oe=computed(function(){var se=U.componentName,ue=se===void 0?"global":se,ce=U.defaultLocale,fe=ce||defaultLocale[ue||"global"],me=ne.antLocale,ve=ue&&me?me[ue]:{};return _objectSpread2$1(_objectSpread2$1({},typeof fe=="function"?fe():fe),ve||{})}),le=computed(function(){var se=ne.antLocale,ue=se&&se.locale;return se&&se.exist&&!ue?defaultLocale.locale:ue});return function(){var se=U.children||X.default,ue=ne.antLocale;return se==null?void 0:se(oe.value,le.value,ue)}}});function useLocaleReceiver(G,U,W){var X=inject("localeData",{}),ne=computed(function(){var oe=X.antLocale,le=unref(U)||defaultLocale[G||"global"],se=G&&oe?oe[G]:{};return _objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},typeof le=="function"?le():le),se||{}),unref(W)||{})});return[ne]}var Empty$2=function G(){var U=useConfigInject("empty",{}),W=U.getPrefixCls,X=W("empty-img-default");return createVNode("svg",{class:X,width:"184",height:"152",viewBox:"0 0 184 152"},[createVNode("g",{fill:"none","fill-rule":"evenodd"},[createVNode("g",{transform:"translate(24 31.67)"},[createVNode("ellipse",{class:"".concat(X,"-ellipse"),cx:"67.797",cy:"106.89",rx:"67.797",ry:"12.668"},null),createVNode("path",{class:"".concat(X,"-path-1"),d:"M122.034 69.674L98.109 40.229c-1.148-1.386-2.826-2.225-4.593-2.225h-51.44c-1.766 0-3.444.839-4.592 2.225L13.56 69.674v15.383h108.475V69.674z"},null),createVNode("path",{class:"".concat(X,"-path-2"),d:"M101.537 86.214L80.63 61.102c-1.001-1.207-2.507-1.867-4.048-1.867H31.724c-1.54 0-3.047.66-4.048 1.867L6.769 86.214v13.792h94.768V86.214z",transform:"translate(13.56)"},null),createVNode("path",{class:"".concat(X,"-path-3"),d:"M33.83 0h67.933a4 4 0 0 1 4 4v93.344a4 4 0 0 1-4 4H33.83a4 4 0 0 1-4-4V4a4 4 0 0 1 4-4z"},null),createVNode("path",{class:"".concat(X,"-path-4"),d:"M42.678 9.953h50.237a2 2 0 0 1 2 2V36.91a2 2 0 0 1-2 2H42.678a2 2 0 0 1-2-2V11.953a2 2 0 0 1 2-2zM42.94 49.767h49.713a2.262 2.262 0 1 1 0 4.524H42.94a2.262 2.262 0 0 1 0-4.524zM42.94 61.53h49.713a2.262 2.262 0 1 1 0 4.525H42.94a2.262 2.262 0 0 1 0-4.525zM121.813 105.032c-.775 3.071-3.497 5.36-6.735 5.36H20.515c-3.238 0-5.96-2.29-6.734-5.36a7.309 7.309 0 0 1-.222-1.79V69.675h26.318c2.907 0 5.25 2.448 5.25 5.42v.04c0 2.971 2.37 5.37 5.277 5.37h34.785c2.907 0 5.277-2.421 5.277-5.393V75.1c0-2.972 2.343-5.426 5.25-5.426h26.318v33.569c0 .617-.077 1.216-.221 1.789z"},null)]),createVNode("path",{class:"".concat(X,"-path-5"),d:"M149.121 33.292l-6.83 2.65a1 1 0 0 1-1.317-1.23l1.937-6.207c-2.589-2.944-4.109-6.534-4.109-10.408C138.802 8.102 148.92 0 161.402 0 173.881 0 184 8.102 184 18.097c0 9.995-10.118 18.097-22.599 18.097-4.528 0-8.744-1.066-12.28-2.902z"},null),createVNode("g",{class:"".concat(X,"-g"),transform:"translate(149.65 15.383)"},[createVNode("ellipse",{cx:"20.654",cy:"3.167",rx:"2.849",ry:"2.815"},null),createVNode("path",{d:"M5.698 5.63H0L2.898.704zM9.259.704h4.985V5.63H9.259z"},null)])])])};Empty$2.PRESENTED_IMAGE_DEFAULT=!0;const DefaultEmptyImg=Empty$2;var Simple=function G(){var U=useConfigInject("empty",{}),W=U.getPrefixCls,X=W("empty-img-simple");return createVNode("svg",{class:X,width:"64",height:"41",viewBox:"0 0 64 41"},[createVNode("g",{transform:"translate(0 1)",fill:"none","fill-rule":"evenodd"},[createVNode("ellipse",{class:"".concat(X,"-ellipse"),fill:"#F5F5F5",cx:"32",cy:"33",rx:"32",ry:"7"},null),createVNode("g",{class:"".concat(X,"-g"),"fill-rule":"nonzero",stroke:"#D9D9D9"},[createVNode("path",{d:"M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z"},null),createVNode("path",{d:"M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z",fill:"#FAFAFA",class:"".concat(X,"-path")},null)])])])};Simple.PRESENTED_IMAGE_SIMPLE=!0;const SimpleEmptyImg=Simple;function e$3(G,U){for(var W=0;W<U.length;W++){var X=U[W];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(G,X.key,X)}}function t$3(G,U,W){return U&&e$3(G.prototype,U),W&&e$3(G,W),G}function n$2(){return(n$2=Object.assign||function(G){for(var U=1;U<arguments.length;U++){var W=arguments[U];for(var X in W)Object.prototype.hasOwnProperty.call(W,X)&&(G[X]=W[X])}return G}).apply(this,arguments)}function r$1(G,U){G.prototype=Object.create(U.prototype),G.prototype.constructor=G,G.__proto__=U}function i$3(G,U){if(G==null)return{};var W,X,ne={},oe=Object.keys(G);for(X=0;X<oe.length;X++)U.indexOf(W=oe[X])>=0||(ne[W]=G[W]);return ne}function o$3(G){return((U=G)!=null&&typeof U=="object"&&Array.isArray(U)===!1)==1&&Object.prototype.toString.call(G)==="[object Object]";var U}var u$1=Object.prototype,a$1=u$1.toString,f$1=u$1.hasOwnProperty,c$1=/^\s*function (\w+)/;function l$1(G){var U,W=(U=G==null?void 0:G.type)!==null&&U!==void 0?U:G;if(W){var X=W.toString().match(c$1);return X?X[1]:""}return""}var s$1=function(G){var U,W;return o$3(G)!==!1&&typeof(U=G.constructor)=="function"&&o$3(W=U.prototype)!==!1&&W.hasOwnProperty("isPrototypeOf")!==!1},v$1=function(G){return G},y$1=v$1,d$1=function(G,U){return f$1.call(G,U)},h$1=Number.isInteger||function(G){return typeof G=="number"&&isFinite(G)&&Math.floor(G)===G},b$1=Array.isArray||function(G){return a$1.call(G)==="[object Array]"},O=function(G){return a$1.call(G)==="[object Function]"},g$1=function(G){return s$1(G)&&d$1(G,"_vueTypes_name")},m$1=function(G){return s$1(G)&&(d$1(G,"type")||["_vueTypes_name","validator","default","required"].some(function(U){return d$1(G,U)}))};function j(G,U){return Object.defineProperty(G.bind(U),"__original",{value:G})}function _$1(G,U,W){var X;W===void 0&&(W=!1);var ne=!0,oe="";X=s$1(G)?G:{type:G};var le=g$1(X)?X._vueTypes_name+" - ":"";if(m$1(X)&&X.type!==null){if(X.type===void 0||X.type===!0||!X.required&&U===void 0)return ne;b$1(X.type)?(ne=X.type.some(function(me){return _$1(me,U,!0)===!0}),oe=X.type.map(function(me){return l$1(me)}).join(" or ")):ne=(oe=l$1(X))==="Array"?b$1(U):oe==="Object"?s$1(U):oe==="String"||oe==="Number"||oe==="Boolean"||oe==="Function"?function(me){if(me==null)return"";var ve=me.constructor.toString().match(c$1);return ve?ve[1]:""}(U)===oe:U instanceof X.type}if(!ne){var se=le+'value "'+U+'" should be of type "'+oe+'"';return W===!1?(y$1(se),!1):se}if(d$1(X,"validator")&&O(X.validator)){var ue=y$1,ce=[];if(y$1=function(me){ce.push(me)},ne=X.validator(U),y$1=ue,!ne){var fe=(ce.length>1?"* ":"")+ce.join(`
* `);return ce.length=0,W===!1?(y$1(fe),ne):fe}}return ne}function T$1(G,U){var W=Object.defineProperties(U,{_vueTypes_name:{value:G,writable:!0},isRequired:{get:function(){return this.required=!0,this}},def:{value:function(ne){return ne!==void 0||this.default?O(ne)||_$1(this,ne,!0)===!0?(this.default=b$1(ne)?function(){return[].concat(ne)}:s$1(ne)?function(){return Object.assign({},ne)}:ne,this):(y$1(this._vueTypes_name+' - invalid default value: "'+ne+'"'),this):this}}}),X=W.validator;return O(X)&&(W.validator=j(X,W)),W}function w(G,U){var W=T$1(G,U);return Object.defineProperty(W,"validate",{value:function(X){return O(this.validator)&&y$1(this._vueTypes_name+` - calling .validate() will overwrite the current custom validator function. Validator info:
`+JSON.stringify(this)),this.validator=j(X,this),this}})}function k$1(G,U,W){var X,ne,oe=(X=U,ne={},Object.getOwnPropertyNames(X).forEach(function(me){ne[me]=Object.getOwnPropertyDescriptor(X,me)}),Object.defineProperties({},ne));if(oe._vueTypes_name=G,!s$1(W))return oe;var le,se,ue=W.validator,ce=i$3(W,["validator"]);if(O(ue)){var fe=oe.validator;fe&&(fe=(se=(le=fe).__original)!==null&&se!==void 0?se:le),oe.validator=j(fe?function(me){return fe.call(this,me)&&ue.call(this,me)}:ue,oe)}return Object.assign(oe,ce)}function P$1(G){return G.replace(/^(?!\s*$)/gm,"  ")}var x$1=function(){return w("any",{})},A$1=function(){return w("function",{type:Function})},E$1=function(){return w("boolean",{type:Boolean})},N$1=function(){return w("string",{type:String})},q=function(){return w("number",{type:Number})},S$1=function(){return w("array",{type:Array})},V$1=function(){return w("object",{type:Object})},F=function(){return T$1("integer",{type:Number,validator:function(G){return h$1(G)}})},D=function(){return T$1("symbol",{validator:function(G){return typeof G=="symbol"}})};function L(G,U){if(U===void 0&&(U="custom validation failed"),typeof G!="function")throw new TypeError("[VueTypes error]: You must provide a function as argument");return T$1(G.name||"<<anonymous function>>",{validator:function(W){var X=G(W);return X||y$1(this._vueTypes_name+" - "+U),X}})}function Y(G){if(!b$1(G))throw new TypeError("[VueTypes error]: You must provide an array as argument.");var U='oneOf - value should be one of "'+G.join('", "')+'".',W=G.reduce(function(X,ne){if(ne!=null){var oe=ne.constructor;X.indexOf(oe)===-1&&X.push(oe)}return X},[]);return T$1("oneOf",{type:W.length>0?W:void 0,validator:function(X){var ne=G.indexOf(X)!==-1;return ne||y$1(U),ne}})}function B(G){if(!b$1(G))throw new TypeError("[VueTypes error]: You must provide an array as argument");for(var U=!1,W=[],X=0;X<G.length;X+=1){var ne=G[X];if(m$1(ne)){if(g$1(ne)&&ne._vueTypes_name==="oneOf"){W=W.concat(ne.type);continue}if(O(ne.validator)&&(U=!0),ne.type!==!0&&ne.type){W=W.concat(ne.type);continue}}W.push(ne)}return W=W.filter(function(oe,le){return W.indexOf(oe)===le}),T$1("oneOfType",U?{type:W,validator:function(oe){var le=[],se=G.some(function(ue){var ce=_$1(g$1(ue)&&ue._vueTypes_name==="oneOf"?ue.type||null:ue,oe,!0);return typeof ce=="string"&&le.push(ce),ce===!0});return se||y$1("oneOfType - provided value does not match any of the "+le.length+` passed-in validators:
`+P$1(le.join(`
`))),se}}:{type:W})}function I$1(G){return T$1("arrayOf",{type:Array,validator:function(U){var W,X=U.every(function(ne){return(W=_$1(G,ne,!0))===!0});return X||y$1(`arrayOf - value validation error:
`+P$1(W)),X}})}function J(G){return T$1("instanceOf",{type:G})}function M$1(G){return T$1("objectOf",{type:Object,validator:function(U){var W,X=Object.keys(U).every(function(ne){return(W=_$1(G,U[ne],!0))===!0});return X||y$1(`objectOf - value validation error:
`+P$1(W)),X}})}function R$1(G){var U=Object.keys(G),W=U.filter(function(ne){var oe;return!!(!((oe=G[ne])===null||oe===void 0)&&oe.required)}),X=T$1("shape",{type:Object,validator:function(ne){var oe=this;if(!s$1(ne))return!1;var le=Object.keys(ne);if(W.length>0&&W.some(function(ue){return le.indexOf(ue)===-1})){var se=W.filter(function(ue){return le.indexOf(ue)===-1});return y$1(se.length===1?'shape - required property "'+se[0]+'" is not defined.':'shape - required properties "'+se.join('", "')+'" are not defined.'),!1}return le.every(function(ue){if(U.indexOf(ue)===-1)return oe._vueTypes_isLoose===!0||(y$1('shape - shape definition does not include a "'+ue+'" property. Allowed keys: "'+U.join('", "')+'".'),!1);var ce=_$1(G[ue],ne[ue],!0);return typeof ce=="string"&&y$1('shape - "'+ue+`" property validation error:
 `+P$1(ce)),ce===!0})}});return Object.defineProperty(X,"_vueTypes_isLoose",{writable:!0,value:!1}),Object.defineProperty(X,"loose",{get:function(){return this._vueTypes_isLoose=!0,this}}),X}var $$1=function(){function G(){}return G.extend=function(U){var W=this;if(b$1(U))return U.forEach(function(me){return W.extend(me)}),this;var X=U.name,ne=U.validate,oe=ne!==void 0&&ne,le=U.getter,se=le!==void 0&&le,ue=i$3(U,["name","validate","getter"]);if(d$1(this,X))throw new TypeError('[VueTypes error]: Type "'+X+'" already defined');var ce,fe=ue.type;return g$1(fe)?(delete ue.type,Object.defineProperty(this,X,se?{get:function(){return k$1(X,fe,ue)}}:{value:function(){var me,ve=k$1(X,fe,ue);return ve.validator&&(ve.validator=(me=ve.validator).bind.apply(me,[ve].concat([].slice.call(arguments)))),ve}})):(ce=se?{get:function(){var me=Object.assign({},ue);return oe?w(X,me):T$1(X,me)},enumerable:!0}:{value:function(){var me,ve,be=Object.assign({},ue);return me=oe?w(X,be):T$1(X,be),be.validator&&(me.validator=(ve=be.validator).bind.apply(ve,[me].concat([].slice.call(arguments)))),me},enumerable:!0},Object.defineProperty(this,X,ce))},t$3(G,null,[{key:"any",get:function(){return x$1()}},{key:"func",get:function(){return A$1().def(this.defaults.func)}},{key:"bool",get:function(){return E$1().def(this.defaults.bool)}},{key:"string",get:function(){return N$1().def(this.defaults.string)}},{key:"number",get:function(){return q().def(this.defaults.number)}},{key:"array",get:function(){return S$1().def(this.defaults.array)}},{key:"object",get:function(){return V$1().def(this.defaults.object)}},{key:"integer",get:function(){return F().def(this.defaults.integer)}},{key:"symbol",get:function(){return D()}}]),G}();function z$1(G){var U;return G===void 0&&(G={func:function(){},bool:!0,string:"",number:0,array:function(){return[]},object:function(){return{}},integer:0}),(U=function(W){function X(){return W.apply(this,arguments)||this}return r$1(X,W),t$3(X,null,[{key:"sensibleDefaults",get:function(){return n$2({},this.defaults)},set:function(ne){this.defaults=ne!==!1?n$2({},ne!==!0?ne:G):{}}}]),X}($$1)).defaults=n$2({},G),U}$$1.defaults={},$$1.custom=L,$$1.oneOf=Y,$$1.instanceOf=J,$$1.oneOfType=B,$$1.arrayOf=I$1,$$1.objectOf=M$1,$$1.shape=R$1,$$1.utils={validate:function(G,U){return _$1(U,G,!0)===!0},toType:function(G,U,W){return W===void 0&&(W=!1),W?w(G,U):T$1(G,U)}};(function(G){function U(){return G.apply(this,arguments)||this}return r$1(U,G),U})(z$1());var PropTypes=z$1({func:void 0,bool:void 0,string:void 0,number:void 0,array:void 0,object:void 0,integer:void 0});PropTypes.extend([{name:"looseBool",getter:!0,type:Boolean,default:void 0},{name:"style",getter:!0,type:[String,Object],default:void 0},{name:"VueNode",getter:!0,type:null}]);const PropTypes$1=PropTypes;var _excluded$f=["image","description","imageStyle","class"],defaultEmptyImg=createVNode(DefaultEmptyImg,null,null),simpleEmptyImg=createVNode(SimpleEmptyImg,null,null),Empty=function G(U,W){var X,ne=W.slots,oe=ne===void 0?{}:ne,le=W.attrs,se=useConfigInject("empty",U),ue=se.direction,ce=se.prefixCls,fe=ce.value,me=_objectSpread2$1(_objectSpread2$1({},U),le),ve=me.image,be=ve===void 0?defaultEmptyImg:ve,Se=me.description,_e=Se===void 0?((X=oe.description)===null||X===void 0?void 0:X.call(oe))||void 0:Se,Ae=me.imageStyle,ke=me.class,Me=ke===void 0?"":ke,Le=_objectWithoutProperties(me,_excluded$f);return createVNode(LocaleReceiver,{componentName:"Empty",children:function(Je){var Fe,Ve=typeof _e<"u"?_e:Je.description,Ze=typeof Ve=="string"?Ve:"empty",Xe=null;return typeof be=="string"?Xe=createVNode("img",{alt:Ze,src:be},null):Xe=be,createVNode("div",_objectSpread2$1({class:classNames(fe,Me,(Fe={},_defineProperty$1(Fe,"".concat(fe,"-normal"),be===simpleEmptyImg),_defineProperty$1(Fe,"".concat(fe,"-rtl"),ue.value==="rtl"),Fe))},Le),[createVNode("div",{class:"".concat(fe,"-image"),style:Ae},[Xe]),Ve&&createVNode("p",{class:"".concat(fe,"-description")},[Ve]),oe.default&&createVNode("div",{class:"".concat(fe,"-footer")},[filterEmpty(oe.default())])])}},null)};Empty.displayName="AEmpty";Empty.PRESENTED_IMAGE_DEFAULT=defaultEmptyImg;Empty.PRESENTED_IMAGE_SIMPLE=simpleEmptyImg;Empty.inheritAttrs=!1;Empty.props={prefixCls:String,image:PropTypes$1.any,description:PropTypes$1.any,imageStyle:{type:Object,default:void 0}};const Empty$1=withInstall(Empty);var RenderEmpty=function G(U){var W=useConfigInject("empty",U),X=W.prefixCls,ne=function(le){switch(le){case"Table":case"List":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE},null);case"Select":case"TreeSelect":case"Cascader":case"Transfer":case"Mentions":return createVNode(Empty$1,{image:Empty$1.PRESENTED_IMAGE_SIMPLE,class:"".concat(X.value,"-small")},null);default:return createVNode(Empty$1,null,null)}};return ne(U.componentName)};function renderEmpty(G){return createVNode(RenderEmpty,{componentName:G},null)}var warned={};function warning$1(G,U){}function call(G,U,W){!U&&!warned[W]&&(G(!1,W),warned[W]=!0)}function warningOnce(G,U){call(warning$1,G,U)}const warning=function(G,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";warningOnce(G,"[antdv: ".concat(U,"] ").concat(W))};var ANT_MARK="internalMark",LocaleProvider=defineComponent({compatConfig:{MODE:3},name:"ALocaleProvider",props:{locale:{type:Object},ANT_MARK__:String},setup:function G(U,W){var X=W.slots;warning(U.ANT_MARK__===ANT_MARK,"LocaleProvider","`LocaleProvider` is deprecated. Please use `locale` with `ConfigProvider` instead");var ne=reactive({antLocale:_objectSpread2$1(_objectSpread2$1({},U.locale),{},{exist:!0}),ANT_MARK__:ANT_MARK});return provide("localeData",ne),watch$1(function(){return U.locale},function(){ne.antLocale=_objectSpread2$1(_objectSpread2$1({},U.locale),{},{exist:!0})},{immediate:!0}),function(){var oe;return(oe=X.default)===null||oe===void 0?void 0:oe.call(X)}}});LocaleProvider.install=function(G){return G.component(LocaleProvider.name,LocaleProvider),G};const LocaleProvider$1=withInstall(LocaleProvider);tuple("bottomLeft","bottomRight","topLeft","topRight");var getTransitionProps=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=_objectSpread2$1(U?{name:U,appear:!0,enterFromClass:"".concat(U,"-enter ").concat(U,"-enter-prepare"),enterActiveClass:"".concat(U,"-enter ").concat(U,"-enter-prepare"),enterToClass:"".concat(U,"-enter ").concat(U,"-enter-active"),leaveFromClass:" ".concat(U,"-leave"),leaveActiveClass:"".concat(U,"-leave ").concat(U,"-leave-active"),leaveToClass:"".concat(U,"-leave ").concat(U,"-leave-active")}:{css:!1},W);return X},getTransitionGroupProps=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},X=_objectSpread2$1(U?{name:U,appear:!0,appearActiveClass:"".concat(U),appearToClass:"".concat(U,"-appear ").concat(U,"-appear-active"),enterFromClass:"".concat(U,"-appear ").concat(U,"-enter ").concat(U,"-appear-prepare ").concat(U,"-enter-prepare"),enterActiveClass:"".concat(U),enterToClass:"".concat(U,"-enter ").concat(U,"-appear ").concat(U,"-appear-active ").concat(U,"-enter-active"),leaveActiveClass:"".concat(U," ").concat(U,"-leave"),leaveToClass:"".concat(U,"-leave-active")}:{css:!1},W);return X},getTransitionName$1=function G(U,W,X){return X!==void 0?X:"".concat(U,"-").concat(W)};const Notice=defineComponent({name:"Notice",inheritAttrs:!1,props:["prefixCls","duration","updateMark","noticeKey","closeIcon","closable","props","onClick","onClose","holder","visible"],setup:function G(U,W){var X=W.attrs,ne=W.slots,oe,le=computed(function(){return U.duration===void 0?1.5:U.duration}),se=function(){le.value&&(oe=setTimeout(function(){ce()},le.value*1e3))},ue=function(){oe&&(clearTimeout(oe),oe=null)},ce=function(ve){ve&&ve.stopPropagation(),ue();var be=U.onClose,Se=U.noticeKey;be&&be(Se)},fe=function(){ue(),se()};return onMounted(function(){se()}),onUnmounted(function(){ue()}),watch$1([le,function(){return U.updateMark},function(){return U.visible}],function(me,ve){var be=_slicedToArray(me,3),Se=be[0],_e=be[1],Ae=be[2],ke=_slicedToArray(ve,3),Me=ke[0],Le=ke[1],qe=ke[2];(Se!==Me||_e!==Le||Ae!==qe&&qe)&&fe()},{flush:"post"}),function(){var me,ve,be=U.prefixCls,Se=U.closable,_e=U.closeIcon,Ae=_e===void 0?(me=ne.closeIcon)===null||me===void 0?void 0:me.call(ne):_e,ke=U.onClick,Me=U.holder,Le=X.class,qe=X.style,Je="".concat(be,"-notice"),Fe=Object.keys(X).reduce(function(Ze,Xe){return(Xe.substr(0,5)==="data-"||Xe.substr(0,5)==="aria-"||Xe==="role")&&(Ze[Xe]=X[Xe]),Ze},{}),Ve=createVNode("div",_objectSpread2$1({class:classNames(Je,Le,_defineProperty$1({},"".concat(Je,"-closable"),Se)),style:qe,onMouseenter:ue,onMouseleave:se,onClick:ke},Fe),[createVNode("div",{class:"".concat(Je,"-content")},[(ve=ne.default)===null||ve===void 0?void 0:ve.call(ne)]),Se?createVNode("a",{tabindex:0,onClick:ce,class:"".concat(Je,"-close")},[Ae||createVNode("span",{class:"".concat(Je,"-close-x")},null)]):null]);return Me?createVNode(Teleport,{to:Me},{default:function(){return Ve}}):Ve}}});var _excluded$e=["name","getContainer","appContext","prefixCls","rootPrefixCls","transitionName","hasTransitionName"],seed=0,now=Date.now();function getUuid(){var G=seed;return seed+=1,"rcNotification_".concat(now,"_").concat(G)}var Notification=defineComponent({name:"Notification",inheritAttrs:!1,props:["prefixCls","transitionName","animation","maxCount","closeIcon"],setup:function G(U,W){var X=W.attrs,ne=W.expose,oe=W.slots,le=new Map,se=ref([]),ue=computed(function(){var me=U.prefixCls,ve=U.animation,be=ve===void 0?"fade":ve,Se=U.transitionName;return!Se&&be&&(Se="".concat(me,"-").concat(be)),getTransitionGroupProps(Se)}),ce=function(ve,be){var Se=ve.key||getUuid(),_e=_objectSpread2$1(_objectSpread2$1({},ve),{},{key:Se}),Ae=U.maxCount,ke=se.value.map(function(Le){return Le.notice.key}).indexOf(Se),Me=se.value.concat();ke!==-1?Me.splice(ke,1,{notice:_e,holderCallback:be}):(Ae&&se.value.length>=Ae&&(_e.key=Me[0].notice.key,_e.updateMark=getUuid(),_e.userPassKey=Se,Me.shift()),Me.push({notice:_e,holderCallback:be})),se.value=Me},fe=function(ve){se.value=se.value.filter(function(be){var Se=be.notice,_e=Se.key,Ae=Se.userPassKey,ke=Ae||_e;return ke!==ve})};return ne({add:ce,remove:fe,notices:se}),function(){var me,ve,be=U.prefixCls,Se=U.closeIcon,_e=Se===void 0?(me=oe.closeIcon)===null||me===void 0?void 0:me.call(oe,{prefixCls:be}):Se,Ae=se.value.map(function(Me,Le){var qe=Me.notice,Je=Me.holderCallback,Fe=Le===se.value.length-1?qe.updateMark:void 0,Ve=qe.key,Ze=qe.userPassKey,Xe=qe.content,dt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({prefixCls:be,closeIcon:typeof _e=="function"?_e({prefixCls:be}):_e},qe),qe.props),{},{key:Ve,noticeKey:Ze||Ve,updateMark:Fe,onClose:function(lt){var xt;fe(lt),(xt=qe.onClose)===null||xt===void 0||xt.call(qe)},onClick:qe.onClick});return Je?createVNode("div",{key:Ve,class:"".concat(be,"-hook-holder"),ref:function(lt){typeof Ve>"u"||(lt?(le.set(Ve,lt),Je(lt,dt)):le.delete(Ve))}},null):createVNode(Notice,dt,{default:function(){return[typeof Xe=="function"?Xe({prefixCls:be}):Xe]}})}),ke=(ve={},_defineProperty$1(ve,be,1),_defineProperty$1(ve,X.class,!!X.class),ve);return createVNode("div",{class:ke,style:X.style||{top:"65px",left:"50%"}},[createVNode(TransitionGroup,_objectSpread2$1({tag:"div"},ue.value),{default:function(){return[Ae]}})])}}});Notification.newInstance=function G(U,W){var X=U||{},ne=X.name,oe=ne===void 0?"notification":ne,le=X.getContainer,se=X.appContext,ue=X.prefixCls,ce=X.rootPrefixCls,fe=X.transitionName,me=X.hasTransitionName,ve=_objectWithoutProperties(X,_excluded$e),be=document.createElement("div");if(le){var Se=le();Se.appendChild(be)}else document.body.appendChild(be);var _e=defineComponent({compatConfig:{MODE:3},name:"NotificationWrapper",setup:function(Me,Le){var qe=Le.attrs,Je=ref();return onMounted(function(){W({notice:function(Ve){var Ze;(Ze=Je.value)===null||Ze===void 0||Ze.add(Ve)},removeNotice:function(Ve){var Ze;(Ze=Je.value)===null||Ze===void 0||Ze.remove(Ve)},destroy:function(){render(null,be),be.parentNode&&be.parentNode.removeChild(be)},component:Je})}),function(){var Fe=globalConfigForApi,Ve=Fe.getPrefixCls(oe,ue),Ze=Fe.getRootPrefixCls(ce,Ve),Xe=me?fe:"".concat(Ze,"-").concat(fe);return createVNode(ConfigProvider,_objectSpread2$1(_objectSpread2$1({},Fe),{},{notUpdateGlobalConfig:!0,prefixCls:Ze}),{default:function(){return[createVNode(Notification,_objectSpread2$1(_objectSpread2$1({ref:Je},qe),{},{prefixCls:Ve,transitionName:Xe}),null)]}})}}}),Ae=createVNode(_e,ve);Ae.appContext=se||Ae.appContext,render(Ae,be)};const Notification$1=Notification;var defaultDuration$1=3,defaultTop$1,messageInstance,key=1,localPrefixCls="",transitionName="move-up",hasTransitionName=!1,getContainer$1=function G(){return document.body},maxCount$1,rtl$1=!1;function getKeyThenIncreaseKey(){return key++}function setMessageConfig(G){G.top!==void 0&&(defaultTop$1=G.top,messageInstance=null),G.duration!==void 0&&(defaultDuration$1=G.duration),G.prefixCls!==void 0&&(localPrefixCls=G.prefixCls),G.getContainer!==void 0&&(getContainer$1=G.getContainer,messageInstance=null),G.transitionName!==void 0&&(transitionName=G.transitionName,messageInstance=null,hasTransitionName=!0),G.maxCount!==void 0&&(maxCount$1=G.maxCount,messageInstance=null),G.rtl!==void 0&&(rtl$1=G.rtl)}function getMessageInstance(G,U){if(messageInstance){U(messageInstance);return}Notification$1.newInstance({appContext:G.appContext,prefixCls:G.prefixCls||localPrefixCls,rootPrefixCls:G.rootPrefixCls,transitionName,hasTransitionName,style:{top:defaultTop$1},getContainer:getContainer$1||G.getPopupContainer,maxCount:maxCount$1,name:"message"},function(W){if(messageInstance){U(messageInstance);return}messageInstance=W,U(W)})}var typeToIcon$1={info:InfoCircleFilled$1,success:CheckCircleFilled$1,error:CloseCircleFilled$1,warning:ExclamationCircleFilled$1,loading:LoadingOutlined$1};function notice$1(G){var U=G.duration!==void 0?G.duration:defaultDuration$1,W=G.key||getKeyThenIncreaseKey(),X=new Promise(function(oe){var le=function(){return typeof G.onClose=="function"&&G.onClose(),oe(!0)};getMessageInstance(G,function(se){se.notice({key:W,duration:U,style:G.style||{},class:G.class,content:function(ce){var fe,me=ce.prefixCls,ve=typeToIcon$1[G.type],be=ve?createVNode(ve,null,null):"",Se=classNames("".concat(me,"-custom-content"),(fe={},_defineProperty$1(fe,"".concat(me,"-").concat(G.type),G.type),_defineProperty$1(fe,"".concat(me,"-rtl"),rtl$1===!0),fe));return createVNode("div",{class:Se},[typeof G.icon=="function"?G.icon():G.icon||be,createVNode("span",null,[typeof G.content=="function"?G.content():G.content])])},onClose:le,onClick:G.onClick})})}),ne=function(){messageInstance&&messageInstance.removeNotice(W)};return ne.then=function(oe,le){return X.then(oe,le)},ne.promise=X,ne}function isArgsProps(G){return Object.prototype.toString.call(G)==="[object Object]"&&!!G.content}var api$1={open:notice$1,config:setMessageConfig,destroy:function G(U){if(messageInstance)if(U){var W=messageInstance,X=W.removeNotice;X(U)}else{var ne=messageInstance,oe=ne.destroy;oe(),messageInstance=null}}};function attachTypeApi(G,U){G[U]=function(W,X,ne){return isArgsProps(W)?G.open(_objectSpread2$1(_objectSpread2$1({},W),{},{type:U})):(typeof X=="function"&&(ne=X,X=void 0),G.open({content:W,duration:X,type:U,onClose:ne}))}}["success","info","warning","error","loading"].forEach(function(G){return attachTypeApi(api$1,G)});api$1.warn=api$1.warning;const message=api$1;function asyncGeneratorStep(G,U,W,X,ne,oe,le){try{var se=G[oe](le),ue=se.value}catch(ce){W(ce);return}se.done?U(ue):Promise.resolve(ue).then(X,ne)}function _asyncToGenerator(G){return function(){var U=this,W=arguments;return new Promise(function(X,ne){var oe=G.apply(U,W);function le(ue){asyncGeneratorStep(oe,X,ne,le,se,"next",ue)}function se(ue){asyncGeneratorStep(oe,X,ne,le,se,"throw",ue)}le(void 0)})}}var regeneratorRuntime$1={exports:{}},_typeof$1={exports:{}};(function(G){function U(W){return G.exports=U=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},G.exports.__esModule=!0,G.exports.default=G.exports,U(W)}G.exports=U,G.exports.__esModule=!0,G.exports.default=G.exports})(_typeof$1);(function(G){var U=_typeof$1.exports.default;function W(){G.exports=W=function(){return X},G.exports.__esModule=!0,G.exports.default=G.exports;var X={},ne=Object.prototype,oe=ne.hasOwnProperty,le=Object.defineProperty||function(mt,ot,st){mt[ot]=st.value},se=typeof Symbol=="function"?Symbol:{},ue=se.iterator||"@@iterator",ce=se.asyncIterator||"@@asyncIterator",fe=se.toStringTag||"@@toStringTag";function me(mt,ot,st){return Object.defineProperty(mt,ot,{value:st,enumerable:!0,configurable:!0,writable:!0}),mt[ot]}try{me({},"")}catch{me=function(st,vt,Ot){return st[vt]=Ot}}function ve(mt,ot,st,vt){var Ot=ot&&ot.prototype instanceof _e?ot:_e,wt=Object.create(Ot.prototype),Wt=new lt(vt||[]);return le(wt,"_invoke",{value:Ze(mt,st,Wt)}),wt}function be(mt,ot,st){try{return{type:"normal",arg:mt.call(ot,st)}}catch(vt){return{type:"throw",arg:vt}}}X.wrap=ve;var Se={};function _e(){}function Ae(){}function ke(){}var Me={};me(Me,ue,function(){return this});var Le=Object.getPrototypeOf,qe=Le&&Le(Le(xt([])));qe&&qe!==ne&&oe.call(qe,ue)&&(Me=qe);var Je=ke.prototype=_e.prototype=Object.create(Me);function Fe(mt){["next","throw","return"].forEach(function(ot){me(mt,ot,function(st){return this._invoke(ot,st)})})}function Ve(mt,ot){function st(Ot,wt,Wt,qt){var _t=be(mt[Ot],mt,wt);if(_t.type!=="throw"){var zt=_t.arg,nn=zt.value;return nn&&U(nn)=="object"&&oe.call(nn,"__await")?ot.resolve(nn.__await).then(function(en){st("next",en,Wt,qt)},function(en){st("throw",en,Wt,qt)}):ot.resolve(nn).then(function(en){zt.value=en,Wt(zt)},function(en){return st("throw",en,Wt,qt)})}qt(_t.arg)}var vt;le(this,"_invoke",{value:function(wt,Wt){function qt(){return new ot(function(_t,zt){st(wt,Wt,_t,zt)})}return vt=vt?vt.then(qt,qt):qt()}})}function Ze(mt,ot,st){var vt="suspendedStart";return function(Ot,wt){if(vt==="executing")throw new Error("Generator is already running");if(vt==="completed"){if(Ot==="throw")throw wt;return It()}for(st.method=Ot,st.arg=wt;;){var Wt=st.delegate;if(Wt){var qt=Xe(Wt,st);if(qt){if(qt===Se)continue;return qt}}if(st.method==="next")st.sent=st._sent=st.arg;else if(st.method==="throw"){if(vt==="suspendedStart")throw vt="completed",st.arg;st.dispatchException(st.arg)}else st.method==="return"&&st.abrupt("return",st.arg);vt="executing";var _t=be(mt,ot,st);if(_t.type==="normal"){if(vt=st.done?"completed":"suspendedYield",_t.arg===Se)continue;return{value:_t.arg,done:st.done}}_t.type==="throw"&&(vt="completed",st.method="throw",st.arg=_t.arg)}}}function Xe(mt,ot){var st=ot.method,vt=mt.iterator[st];if(vt===void 0)return ot.delegate=null,st==="throw"&&mt.iterator.return&&(ot.method="return",ot.arg=void 0,Xe(mt,ot),ot.method==="throw")||st!=="return"&&(ot.method="throw",ot.arg=new TypeError("The iterator does not provide a '"+st+"' method")),Se;var Ot=be(vt,mt.iterator,ot.arg);if(Ot.type==="throw")return ot.method="throw",ot.arg=Ot.arg,ot.delegate=null,Se;var wt=Ot.arg;return wt?wt.done?(ot[mt.resultName]=wt.value,ot.next=mt.nextLoc,ot.method!=="return"&&(ot.method="next",ot.arg=void 0),ot.delegate=null,Se):wt:(ot.method="throw",ot.arg=new TypeError("iterator result is not an object"),ot.delegate=null,Se)}function dt(mt){var ot={tryLoc:mt[0]};1 in mt&&(ot.catchLoc=mt[1]),2 in mt&&(ot.finallyLoc=mt[2],ot.afterLoc=mt[3]),this.tryEntries.push(ot)}function ht(mt){var ot=mt.completion||{};ot.type="normal",delete ot.arg,mt.completion=ot}function lt(mt){this.tryEntries=[{tryLoc:"root"}],mt.forEach(dt,this),this.reset(!0)}function xt(mt){if(mt){var ot=mt[ue];if(ot)return ot.call(mt);if(typeof mt.next=="function")return mt;if(!isNaN(mt.length)){var st=-1,vt=function Ot(){for(;++st<mt.length;)if(oe.call(mt,st))return Ot.value=mt[st],Ot.done=!1,Ot;return Ot.value=void 0,Ot.done=!0,Ot};return vt.next=vt}}return{next:It}}function It(){return{value:void 0,done:!0}}return Ae.prototype=ke,le(Je,"constructor",{value:ke,configurable:!0}),le(ke,"constructor",{value:Ae,configurable:!0}),Ae.displayName=me(ke,fe,"GeneratorFunction"),X.isGeneratorFunction=function(mt){var ot=typeof mt=="function"&&mt.constructor;return!!ot&&(ot===Ae||(ot.displayName||ot.name)==="GeneratorFunction")},X.mark=function(mt){return Object.setPrototypeOf?Object.setPrototypeOf(mt,ke):(mt.__proto__=ke,me(mt,fe,"GeneratorFunction")),mt.prototype=Object.create(Je),mt},X.awrap=function(mt){return{__await:mt}},Fe(Ve.prototype),me(Ve.prototype,ce,function(){return this}),X.AsyncIterator=Ve,X.async=function(mt,ot,st,vt,Ot){Ot===void 0&&(Ot=Promise);var wt=new Ve(ve(mt,ot,st,vt),Ot);return X.isGeneratorFunction(ot)?wt:wt.next().then(function(Wt){return Wt.done?Wt.value:wt.next()})},Fe(Je),me(Je,fe,"Generator"),me(Je,ue,function(){return this}),me(Je,"toString",function(){return"[object Generator]"}),X.keys=function(mt){var ot=Object(mt),st=[];for(var vt in ot)st.push(vt);return st.reverse(),function Ot(){for(;st.length;){var wt=st.pop();if(wt in ot)return Ot.value=wt,Ot.done=!1,Ot}return Ot.done=!0,Ot}},X.values=xt,lt.prototype={constructor:lt,reset:function(ot){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ht),!ot)for(var st in this)st.charAt(0)==="t"&&oe.call(this,st)&&!isNaN(+st.slice(1))&&(this[st]=void 0)},stop:function(){this.done=!0;var ot=this.tryEntries[0].completion;if(ot.type==="throw")throw ot.arg;return this.rval},dispatchException:function(ot){if(this.done)throw ot;var st=this;function vt(zt,nn){return Wt.type="throw",Wt.arg=ot,st.next=zt,nn&&(st.method="next",st.arg=void 0),!!nn}for(var Ot=this.tryEntries.length-1;Ot>=0;--Ot){var wt=this.tryEntries[Ot],Wt=wt.completion;if(wt.tryLoc==="root")return vt("end");if(wt.tryLoc<=this.prev){var qt=oe.call(wt,"catchLoc"),_t=oe.call(wt,"finallyLoc");if(qt&&_t){if(this.prev<wt.catchLoc)return vt(wt.catchLoc,!0);if(this.prev<wt.finallyLoc)return vt(wt.finallyLoc)}else if(qt){if(this.prev<wt.catchLoc)return vt(wt.catchLoc,!0)}else{if(!_t)throw new Error("try statement without catch or finally");if(this.prev<wt.finallyLoc)return vt(wt.finallyLoc)}}}},abrupt:function(ot,st){for(var vt=this.tryEntries.length-1;vt>=0;--vt){var Ot=this.tryEntries[vt];if(Ot.tryLoc<=this.prev&&oe.call(Ot,"finallyLoc")&&this.prev<Ot.finallyLoc){var wt=Ot;break}}wt&&(ot==="break"||ot==="continue")&&wt.tryLoc<=st&&st<=wt.finallyLoc&&(wt=null);var Wt=wt?wt.completion:{};return Wt.type=ot,Wt.arg=st,wt?(this.method="next",this.next=wt.finallyLoc,Se):this.complete(Wt)},complete:function(ot,st){if(ot.type==="throw")throw ot.arg;return ot.type==="break"||ot.type==="continue"?this.next=ot.arg:ot.type==="return"?(this.rval=this.arg=ot.arg,this.method="return",this.next="end"):ot.type==="normal"&&st&&(this.next=st),Se},finish:function(ot){for(var st=this.tryEntries.length-1;st>=0;--st){var vt=this.tryEntries[st];if(vt.finallyLoc===ot)return this.complete(vt.completion,vt.afterLoc),ht(vt),Se}},catch:function(ot){for(var st=this.tryEntries.length-1;st>=0;--st){var vt=this.tryEntries[st];if(vt.tryLoc===ot){var Ot=vt.completion;if(Ot.type==="throw"){var wt=Ot.arg;ht(vt)}return wt}}throw new Error("illegal catch attempt")},delegateYield:function(ot,st,vt){return this.delegate={iterator:xt(ot),resultName:st,nextLoc:vt},this.method==="next"&&(this.arg=void 0),Se}},X}G.exports=W,G.exports.__esModule=!0,G.exports.default=G.exports})(regeneratorRuntime$1);var runtime=regeneratorRuntime$1.exports(),regenerator=runtime;try{regeneratorRuntime=runtime}catch(G){typeof globalThis=="object"?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}const _regeneratorRuntime=regenerator;var notificationInstance={},defaultDuration=4.5,defaultTop="24px",defaultBottom="24px",defaultPrefixCls$1="",defaultPlacement="topRight",defaultGetContainer=function G(){return document.body},defaultCloseIcon=null,rtl=!1,maxCount;function setNotificationConfig(G){var U=G.duration,W=G.placement,X=G.bottom,ne=G.top,oe=G.getContainer,le=G.closeIcon,se=G.prefixCls;se!==void 0&&(defaultPrefixCls$1=se),U!==void 0&&(defaultDuration=U),W!==void 0&&(defaultPlacement=W),X!==void 0&&(defaultBottom=typeof X=="number"?"".concat(X,"px"):X),ne!==void 0&&(defaultTop=typeof ne=="number"?"".concat(ne,"px"):ne),oe!==void 0&&(defaultGetContainer=oe),le!==void 0&&(defaultCloseIcon=le),G.rtl!==void 0&&(rtl=G.rtl),G.maxCount!==void 0&&(maxCount=G.maxCount)}function getPlacementStyle(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:defaultTop,W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:defaultBottom,X;switch(G){case"topLeft":X={left:"0px",top:U,bottom:"auto"};break;case"topRight":X={right:"0px",top:U,bottom:"auto"};break;case"bottomLeft":X={left:"0px",top:"auto",bottom:W};break;default:X={right:"0px",top:"auto",bottom:W};break}return X}function getNotificationInstance(G,U){var W=G.prefixCls,X=G.placement,ne=X===void 0?defaultPlacement:X,oe=G.getContainer,le=oe===void 0?defaultGetContainer:oe,se=G.top,ue=G.bottom,ce=G.closeIcon,fe=ce===void 0?defaultCloseIcon:ce,me=G.appContext,ve=globalConfig(),be=ve.getPrefixCls,Se=be("notification",W||defaultPrefixCls$1),_e="".concat(Se,"-").concat(ne,"-").concat(rtl),Ae=notificationInstance[_e];if(Ae){Promise.resolve(Ae).then(function(Me){U(Me)});return}var ke=classNames("".concat(Se,"-").concat(ne),_defineProperty$1({},"".concat(Se,"-rtl"),rtl===!0));Notification$1.newInstance({name:"notification",prefixCls:W||defaultPrefixCls$1,class:ke,style:getPlacementStyle(ne,se,ue),appContext:me,getContainer:le,closeIcon:function(Le){var qe=Le.prefixCls,Je=createVNode("span",{class:"".concat(qe,"-close-x")},[renderHelper(fe,{},createVNode(CloseOutlined$1,{class:"".concat(qe,"-close-icon")},null))]);return Je},maxCount,hasTransitionName:!0},function(Me){notificationInstance[_e]=Me,U(Me)})}var typeToIcon={success:CheckCircleOutlined$1,info:InfoCircleOutlined$1,error:CloseCircleOutlined$1,warning:ExclamationCircleOutlined$1};function notice(G){var U=G.icon,W=G.type,X=G.description,ne=G.message,oe=G.btn,le=G.duration===void 0?defaultDuration:G.duration;getNotificationInstance(G,function(se){se.notice({content:function(ce){var fe=ce.prefixCls,me="".concat(fe,"-notice"),ve=null;if(U)ve=function(){return createVNode("span",{class:"".concat(me,"-icon")},[renderHelper(U)])};else if(W){var be=typeToIcon[W];ve=function(){return createVNode(be,{class:"".concat(me,"-icon ").concat(me,"-icon-").concat(W)},null)}}return createVNode("div",{class:ve?"".concat(me,"-with-icon"):""},[ve&&ve(),createVNode("div",{class:"".concat(me,"-message")},[!X&&ve?createVNode("span",{class:"".concat(me,"-message-single-line-auto-margin")},null):null,renderHelper(ne)]),createVNode("div",{class:"".concat(me,"-description")},[renderHelper(X)]),oe?createVNode("span",{class:"".concat(me,"-btn")},[renderHelper(oe)]):null])},duration:le,closable:!0,onClose:G.onClose,onClick:G.onClick,key:G.key,style:G.style||{},class:G.class})})}var api={open:notice,close:function G(U){Object.keys(notificationInstance).forEach(function(W){return Promise.resolve(notificationInstance[W]).then(function(X){X.removeNotice(U)})})},config:setNotificationConfig,destroy:function G(){Object.keys(notificationInstance).forEach(function(U){Promise.resolve(notificationInstance[U]).then(function(W){W.destroy()}),delete notificationInstance[U]})}},iconTypes=["success","info","warning","error"];iconTypes.forEach(function(G){api[G]=function(U){return api.open(_objectSpread2$1(_objectSpread2$1({},U),{},{type:G}))}});api.warn=api.warning;const notification=api;function canUseDom(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var MARK_KEY="vc-util-key";function getMark(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=G.mark;return U?U.startsWith("data-")?U:"data-".concat(U):MARK_KEY}function getContainer(G){if(G.attachTo)return G.attachTo;var U=document.querySelector("head");return U||document.body}function injectCSS(G){var U,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!canUseDom())return null;var X=document.createElement("style");if((U=W.csp)!==null&&U!==void 0&&U.nonce){var ne;X.nonce=(ne=W.csp)===null||ne===void 0?void 0:ne.nonce}X.innerHTML=G;var oe=getContainer(W),le=oe.firstChild;return W.prepend&&oe.prepend?oe.prepend(X):W.prepend&&le?oe.insertBefore(X,le):oe.appendChild(X),X}var containerCache=new Map;function findExistNode(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=getContainer(U);return Array.from(containerCache.get(W).children).find(function(X){return X.tagName==="STYLE"&&X.getAttribute(getMark(U))===G})}function updateCSS(G,U){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},X=getContainer(W);if(!containerCache.has(X)){var ne=injectCSS("",W),oe=ne.parentNode;containerCache.set(X,oe),oe.removeChild(ne)}var le=findExistNode(U,W);if(le){var se,ue;if((se=W.csp)!==null&&se!==void 0&&se.nonce&&le.nonce!==((ue=W.csp)===null||ue===void 0?void 0:ue.nonce)){var ce;le.nonce=(ce=W.csp)===null||ce===void 0?void 0:ce.nonce}return le.innerHTML!==G&&(le.innerHTML=G),le}var fe=injectCSS(G,W);return fe.setAttribute(getMark(W),U),fe}const devWarning=function(G,U,W){warningOnce(G,"[ant-design-vue: ".concat(U,"] ").concat(W))};var dynamicStyleMark="-ant-".concat(Date.now(),"-").concat(Math.random());function registerTheme(G,U){var W={},X=function(fe,me){var ve=fe.clone();return ve=(me==null?void 0:me(ve))||ve,ve.toRgbString()},ne=function(fe,me){var ve=new TinyColor(fe),be=generate$1(ve.toRgbString());W["".concat(me,"-color")]=X(ve),W["".concat(me,"-color-disabled")]=be[1],W["".concat(me,"-color-hover")]=be[4],W["".concat(me,"-color-active")]=be[6],W["".concat(me,"-color-outline")]=ve.clone().setAlpha(.2).toRgbString(),W["".concat(me,"-color-deprecated-bg")]=be[1],W["".concat(me,"-color-deprecated-border")]=be[3]};if(U.primaryColor){ne(U.primaryColor,"primary");var oe=new TinyColor(U.primaryColor),le=generate$1(oe.toRgbString());le.forEach(function(ce,fe){W["primary-".concat(fe+1)]=ce}),W["primary-color-deprecated-l-35"]=X(oe,function(ce){return ce.lighten(35)}),W["primary-color-deprecated-l-20"]=X(oe,function(ce){return ce.lighten(20)}),W["primary-color-deprecated-t-20"]=X(oe,function(ce){return ce.tint(20)}),W["primary-color-deprecated-t-50"]=X(oe,function(ce){return ce.tint(50)}),W["primary-color-deprecated-f-12"]=X(oe,function(ce){return ce.setAlpha(ce.getAlpha()*.12)});var se=new TinyColor(le[0]);W["primary-color-active-deprecated-f-30"]=X(se,function(ce){return ce.setAlpha(ce.getAlpha()*.3)}),W["primary-color-active-deprecated-d-02"]=X(se,function(ce){return ce.darken(2)})}U.successColor&&ne(U.successColor,"success"),U.warningColor&&ne(U.warningColor,"warning"),U.errorColor&&ne(U.errorColor,"error"),U.infoColor&&ne(U.infoColor,"info");var ue=Object.keys(W).map(function(ce){return"--".concat(G,"-").concat(ce,": ").concat(W[ce],";")});canUseDom()?updateCSS(`
  :root {
    `.concat(ue.join(`
`),`
  }
  `),"".concat(dynamicStyleMark,"-dynamic-theme")):devWarning(!1,"ConfigProvider","SSR do not support dynamic theme with css variables.")}var GlobalFormContextKey=Symbol("GlobalFormContextKey"),useProvideGlobalForm=function G(U){provide(GlobalFormContextKey,U)},configProviderProps=function G(){return{getTargetContainer:{type:Function},getPopupContainer:{type:Function},prefixCls:String,getPrefixCls:{type:Function},renderEmpty:{type:Function},transformCellText:{type:Function},csp:{type:Object,default:void 0},input:{type:Object},autoInsertSpaceInButton:{type:Boolean,default:void 0},locale:{type:Object,default:void 0},pageHeader:{type:Object},componentSize:{type:String},direction:{type:String},space:{type:Object},virtual:{type:Boolean,default:void 0},dropdownMatchSelectWidth:{type:[Number,Boolean],default:!0},form:{type:Object,default:void 0},notUpdateGlobalConfig:Boolean}},defaultPrefixCls="ant";function getGlobalPrefixCls(){return globalConfigForApi.prefixCls||defaultPrefixCls}var globalConfigByCom=reactive({}),globalConfigBySet=reactive({}),globalConfigForApi=reactive({});watchEffect(function(){_extends(globalConfigForApi,globalConfigByCom,globalConfigBySet),globalConfigForApi.prefixCls=getGlobalPrefixCls(),globalConfigForApi.getPrefixCls=function(G,U){return U||(G?"".concat(globalConfigForApi.prefixCls,"-").concat(G):globalConfigForApi.prefixCls)},globalConfigForApi.getRootPrefixCls=function(G,U){return G||(globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:U&&U.includes("-")?U.replace(/^(.*)-[^-]*$/,"$1"):getGlobalPrefixCls())}});var stopWatchEffect,setGlobalConfig=function G(U){stopWatchEffect&&stopWatchEffect(),stopWatchEffect=watchEffect(function(){_extends(globalConfigBySet,reactive(U)),_extends(globalConfigForApi,reactive(U))}),U.theme&&registerTheme(getGlobalPrefixCls(),U.theme)},globalConfig=function G(){return{getPrefixCls:function(W,X){return X||(W?"".concat(getGlobalPrefixCls(),"-").concat(W):getGlobalPrefixCls())},getRootPrefixCls:function(W,X){return W||(globalConfigForApi.prefixCls?globalConfigForApi.prefixCls:X&&X.includes("-")?X.replace(/^(.*)-[^-]*$/,"$1"):getGlobalPrefixCls())}}},ConfigProvider=defineComponent({compatConfig:{MODE:3},name:"AConfigProvider",inheritAttrs:!1,props:configProviderProps(),setup:function G(U,W){var X=W.slots,ne=function(me,ve){var be=U.prefixCls,Se=be===void 0?"ant":be;return ve||(me?"".concat(Se,"-").concat(me):Se)},oe=function(me){var ve=U.renderEmpty||X.renderEmpty||renderEmpty;return ve(me)},le=function(me,ve){var be=U.prefixCls;if(ve)return ve;var Se=be||ne("");return me?"".concat(Se,"-").concat(me):Se},se=reactive(_objectSpread2$1(_objectSpread2$1({},U),{},{getPrefixCls:le,renderEmpty:oe}));Object.keys(U).forEach(function(fe){watch$1(function(){return U[fe]},function(){se[fe]=U[fe]})}),U.notUpdateGlobalConfig||(_extends(globalConfigByCom,se),watch$1(se,function(){_extends(globalConfigByCom,se)}));var ue=computed(function(){var fe={};if(U.locale){var me,ve;fe=((me=U.locale.Form)===null||me===void 0?void 0:me.defaultValidateMessages)||((ve=defaultLocale.Form)===null||ve===void 0?void 0:ve.defaultValidateMessages)||{}}return U.form&&U.form.validateMessages&&(fe=_objectSpread2$1(_objectSpread2$1({},fe),U.form.validateMessages)),fe});useProvideGlobalForm({validateMessages:ue}),provide("configProvider",se);var ce=function(me){var ve;return createVNode(LocaleProvider$1,{locale:U.locale||me,ANT_MARK__:ANT_MARK},{default:function(){return[(ve=X.default)===null||ve===void 0?void 0:ve.call(X)]}})};return watchEffect(function(){U.direction&&(message.config({rtl:U.direction==="rtl"}),notification.config({rtl:U.direction==="rtl"}))}),function(){return createVNode(LocaleReceiver,{children:function(me,ve,be){return ce(be)}},null)}}}),defaultConfigProvider=reactive({getPrefixCls:function G(U,W){return W||(U?"ant-".concat(U):"ant")},renderEmpty,direction:"ltr"});ConfigProvider.config=setGlobalConfig;ConfigProvider.install=function(G){G.component(ConfigProvider.name,ConfigProvider)};const useConfigInject=function(G,U){var W=inject("configProvider",defaultConfigProvider),X=computed(function(){return W.getPrefixCls(G,U.prefixCls)}),ne=computed(function(){var Me;return(Me=U.direction)!==null&&Me!==void 0?Me:W.direction}),oe=computed(function(){return W.getPrefixCls()}),le=computed(function(){return W.autoInsertSpaceInButton}),se=computed(function(){return W.renderEmpty}),ue=computed(function(){return W.space}),ce=computed(function(){return W.pageHeader}),fe=computed(function(){return W.form}),me=computed(function(){return U.getTargetContainer||W.getTargetContainer}),ve=computed(function(){return U.getPopupContainer||W.getPopupContainer}),be=computed(function(){var Me;return(Me=U.dropdownMatchSelectWidth)!==null&&Me!==void 0?Me:W.dropdownMatchSelectWidth}),Se=computed(function(){return(U.virtual===void 0?W.virtual!==!1:U.virtual!==!1)&&be.value!==!1}),_e=computed(function(){return U.size||W.componentSize}),Ae=computed(function(){var Me;return U.autocomplete||((Me=W.input)===null||Me===void 0?void 0:Me.autocomplete)}),ke=computed(function(){return W.csp});return{configProvider:W,prefixCls:X,direction:ne,size:_e,getTargetContainer:me,getPopupContainer:ve,space:ue,pageHeader:ce,form:fe,autoInsertSpaceInButton:le,renderEmpty:se,virtual:Se,dropdownMatchSelectWidth:be,rootPrefixCls:oe,getPrefixCls:W.getPrefixCls,autocomplete:Ae,csp:ke}};function omit(G,U){for(var W=_extends({},G),X=0;X<U.length;X+=1){var ne=U[X];delete W[ne]}return W}function _toArray(G){return _arrayWithHoles(G)||_iterableToArray(G)||_unsupportedIterableToArray(G)||_nonIterableRest()}function getKey(G,U){var W=G.key,X;return"value"in G&&(X=G.value),W!=null?W:X!==void 0?X:"rc-index-key-".concat(U)}function fillFieldNames(G,U){var W=G||{},X=W.label,ne=W.value,oe=W.options;return{label:X||(U?"children":"label"),value:ne||"value",options:oe||"options"}}function flattenOptions(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=U.fieldNames,X=U.childrenAsData,ne=[],oe=fillFieldNames(W,!1),le=oe.label,se=oe.value,ue=oe.options;function ce(fe,me){fe.forEach(function(ve){var be=ve[le];if(me||!(ue in ve)){var Se=ve[se];ne.push({key:getKey(ve,ne.length),groupOption:me,data:ve,label:be,value:Se})}else{var _e=be;_e===void 0&&X&&(_e=ve.label),ne.push({key:getKey(ve,ne.length),group:!0,data:ve,label:_e}),ce(ve[ue],!0)}})}return ce(G,!1),ne}function injectPropsWithOption(G){var U=_objectSpread2$1({},G);return"props"in U||Object.defineProperty(U,"props",{get:function(){return U}}),U}function getSeparatedContent(G,U){if(!U||!U.length)return null;var W=!1;function X(oe,le){var se=_toArray(le),ue=se[0],ce=se.slice(1);if(!ue)return[oe];var fe=oe.split(ue);return W=W||fe.length>1,fe.reduce(function(me,ve){return[].concat(_toConsumableArray(me),_toConsumableArray(X(ve,ce)))},[]).filter(function(me){return me})}var ne=X(G,U);return W?ne:null}function contains(G,U){return G?G.contains(U):!1}var availablePrefixs=["moz","ms","webkit"];function requestAnimationFramePolyfill(){var G=0;return function(U){var W=new Date().getTime(),X=Math.max(0,16-(W-G)),ne=window.setTimeout(function(){U(W+X)},X);return G=W+X,ne}}function getRequestAnimationFrame(){if(typeof window>"u")return function(){};if(window.requestAnimationFrame)return window.requestAnimationFrame.bind(window);var G=availablePrefixs.filter(function(U){return"".concat(U,"RequestAnimationFrame")in window})[0];return G?window["".concat(G,"RequestAnimationFrame")]:requestAnimationFramePolyfill()}function cancelRequestAnimationFrame(G){if(typeof window>"u")return null;if(window.cancelAnimationFrame)return window.cancelAnimationFrame(G);var U=availablePrefixs.filter(function(W){return"".concat(W,"CancelAnimationFrame")in window||"".concat(W,"CancelRequestAnimationFrame")in window})[0];return U?(window["".concat(U,"CancelAnimationFrame")]||window["".concat(U,"CancelRequestAnimationFrame")]).call(this,G):clearTimeout(G)}var raf=getRequestAnimationFrame(),cancelAnimationTimeout=function G(U){return cancelRequestAnimationFrame(U.id)},requestAnimationTimeout=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=Date.now();function ne(){Date.now()-X>=W?U.call():oe.id=raf(ne)}var oe={id:raf(ne)};return oe},innerProps={visible:Boolean,prefixCls:String,zIndex:Number,destroyPopupOnHide:Boolean,forceRender:Boolean,animation:[String,Object],transitionName:String,stretch:{type:String},align:{type:Object},point:{type:Object},getRootDomNode:{type:Function},getClassNameFromAlign:{type:Function},onMouseenter:{type:Function},onMouseleave:{type:Function},onMousedown:{type:Function},onTouchstart:{type:Function}},mobileProps=_objectSpread2$1(_objectSpread2$1({},innerProps),{},{mobile:{type:Object}}),popupProps=_objectSpread2$1(_objectSpread2$1({},innerProps),{},{mask:Boolean,mobile:{type:Object},maskAnimation:String,maskTransitionName:String});function getMotion(G){var U=G.prefixCls,W=G.animation,X=G.transitionName;return W?{name:"".concat(U,"-").concat(W)}:X?{name:X}:{}}function Mask$1(G){var U=G.prefixCls,W=G.visible,X=G.zIndex,ne=G.mask,oe=G.maskAnimation,le=G.maskTransitionName;if(!ne)return null;var se={};return(le||oe)&&(se=getMotion({prefixCls:U,transitionName:le,animation:oe})),createVNode(Transition,_objectSpread2$1({appear:!0},se),{default:function(){return[withDirectives(createVNode("div",{style:{zIndex:X},class:"".concat(U,"-mask")},null),[[resolveDirective("if"),W]])]}})}Mask$1.displayName="Mask";const MobilePopupInner=defineComponent({compatConfig:{MODE:3},name:"MobilePopupInner",inheritAttrs:!1,props:mobileProps,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function G(U,W){var X=W.expose,ne=W.slots,oe=ref();return X({forceAlign:function(){},getElement:function(){return oe.value}}),function(){var le,se=U.zIndex,ue=U.visible,ce=U.prefixCls,fe=U.mobile;fe=fe===void 0?{}:fe;var me=fe.popupClassName,ve=fe.popupStyle,be=fe.popupMotion,Se=be===void 0?{}:be,_e=fe.popupRender,Ae=_objectSpread2$1({zIndex:se},ve),ke=flattenChildren((le=ne.default)===null||le===void 0?void 0:le.call(ne));ke.length>1&&(ke=createVNode("div",{class:"".concat(ce,"-content")},[ke])),_e&&(ke=_e(ke));var Me=classNames(ce,me);return createVNode(Transition,_objectSpread2$1({ref:oe},Se),{default:function(){return[ue?createVNode("div",{class:Me,style:Ae},[ke]):null]}})}}});var StatusQueue=["measure","align",null,"motion"];const useVisibleStatus=function(G,U){var W=ref(null),X=ref(),ne=ref(!1);function oe(ue){ne.value||(W.value=ue)}function le(){wrapperRaf.cancel(X.value)}function se(ue){le(),X.value=wrapperRaf(function(){var ce=W.value;switch(W.value){case"align":ce="motion";break;case"motion":ce="stable";break}oe(ce),ue==null||ue()})}return watch$1(G,function(){oe("measure")},{immediate:!0,flush:"post"}),onMounted(function(){watch$1(W,function(){switch(W.value){case"measure":U();break}W.value&&(X.value=wrapperRaf(_asyncToGenerator(_regeneratorRuntime.mark(function ue(){var ce,fe;return _regeneratorRuntime.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:ce=StatusQueue.indexOf(W.value),fe=StatusQueue[ce+1],fe&&ce!==-1&&oe(fe);case 3:case"end":return ve.stop()}},ue)}))))},{immediate:!0,flush:"post"})}),onBeforeUnmount(function(){ne.value=!0,le()}),[W,se]},useStretchStyle=function(G){var U=ref({width:0,height:0});function W(ne){U.value={width:ne.offsetWidth,height:ne.offsetHeight}}var X=computed(function(){var ne={};if(G.value){var oe=U.value,le=oe.width,se=oe.height;G.value.indexOf("height")!==-1&&se?ne.height="".concat(se,"px"):G.value.indexOf("minHeight")!==-1&&se&&(ne.minHeight="".concat(se,"px")),G.value.indexOf("width")!==-1&&le?ne.width="".concat(le,"px"):G.value.indexOf("minWidth")!==-1&&le&&(ne.minWidth="".concat(le,"px"))}return ne});return[X,W]};function ownKeys(G,U){var W=Object.keys(G);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(G);U&&(X=X.filter(function(ne){return Object.getOwnPropertyDescriptor(G,ne).enumerable})),W.push.apply(W,X)}return W}function _objectSpread2(G){for(var U=1;U<arguments.length;U++){var W=arguments[U]!=null?arguments[U]:{};U%2?ownKeys(Object(W),!0).forEach(function(X){_defineProperty(G,X,W[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(W)):ownKeys(Object(W)).forEach(function(X){Object.defineProperty(G,X,Object.getOwnPropertyDescriptor(W,X))})}return G}function _typeof(G){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},_typeof(G)}function _defineProperty(G,U,W){return U in G?Object.defineProperty(G,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):G[U]=W,G}var vendorPrefix,jsCssMap={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-",O:"-o-"};function getVendorPrefix(){if(vendorPrefix!==void 0)return vendorPrefix;vendorPrefix="";var G=document.createElement("p").style,U="Transform";for(var W in jsCssMap)W+U in G&&(vendorPrefix=W);return vendorPrefix}function getTransitionName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"TransitionProperty"):"transitionProperty"}function getTransformName(){return getVendorPrefix()?"".concat(getVendorPrefix(),"Transform"):"transform"}function setTransitionProperty(G,U){var W=getTransitionName();W&&(G.style[W]=U,W!=="transitionProperty"&&(G.style.transitionProperty=U))}function setTransform(G,U){var W=getTransformName();W&&(G.style[W]=U,W!=="transform"&&(G.style.transform=U))}function getTransitionProperty(G){return G.style.transitionProperty||G.style[getTransitionName()]}function getTransformXY(G){var U=window.getComputedStyle(G,null),W=U.getPropertyValue("transform")||U.getPropertyValue(getTransformName());if(W&&W!=="none"){var X=W.replace(/[^0-9\-.,]/g,"").split(",");return{x:parseFloat(X[12]||X[4],0),y:parseFloat(X[13]||X[5],0)}}return{x:0,y:0}}var matrix2d=/matrix\((.*)\)/,matrix3d=/matrix3d\((.*)\)/;function setTransformXY(G,U){var W=window.getComputedStyle(G,null),X=W.getPropertyValue("transform")||W.getPropertyValue(getTransformName());if(X&&X!=="none"){var ne,oe=X.match(matrix2d);if(oe)oe=oe[1],ne=oe.split(",").map(function(se){return parseFloat(se,10)}),ne[4]=U.x,ne[5]=U.y,setTransform(G,"matrix(".concat(ne.join(","),")"));else{var le=X.match(matrix3d)[1];ne=le.split(",").map(function(se){return parseFloat(se,10)}),ne[12]=U.x,ne[13]=U.y,setTransform(G,"matrix3d(".concat(ne.join(","),")"))}}else setTransform(G,"translateX(".concat(U.x,"px) translateY(").concat(U.y,"px) translateZ(0)"))}var RE_NUM=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,getComputedStyleX;function forceRelayout(G){var U=G.style.display;G.style.display="none",G.offsetHeight,G.style.display=U}function css(G,U,W){var X=W;if(_typeof(U)==="object"){for(var ne in U)U.hasOwnProperty(ne)&&css(G,ne,U[ne]);return}if(typeof X<"u"){typeof X=="number"&&(X="".concat(X,"px")),G.style[U]=X;return}return getComputedStyleX(G,U)}function getClientPosition(G){var U,W,X,ne=G.ownerDocument,oe=ne.body,le=ne&&ne.documentElement;return U=G.getBoundingClientRect(),W=Math.floor(U.left),X=Math.floor(U.top),W-=le.clientLeft||oe.clientLeft||0,X-=le.clientTop||oe.clientTop||0,{left:W,top:X}}function getScroll$1(G,U){var W=G["page".concat(U?"Y":"X","Offset")],X="scroll".concat(U?"Top":"Left");if(typeof W!="number"){var ne=G.document;W=ne.documentElement[X],typeof W!="number"&&(W=ne.body[X])}return W}function getScrollLeft(G){return getScroll$1(G)}function getScrollTop(G){return getScroll$1(G,!0)}function getOffset$1(G){var U=getClientPosition(G),W=G.ownerDocument,X=W.defaultView||W.parentWindow;return U.left+=getScrollLeft(X),U.top+=getScrollTop(X),U}function isWindow(G){return G!=null&&G==G.window}function getDocument(G){return isWindow(G)?G.document:G.nodeType===9?G:G.ownerDocument}function _getComputedStyle(G,U,W){var X=W,ne="",oe=getDocument(G);return X=X||oe.defaultView.getComputedStyle(G,null),X&&(ne=X.getPropertyValue(U)||X[U]),ne}var _RE_NUM_NO_PX=new RegExp("^(".concat(RE_NUM,")(?!px)[a-z%]+$"),"i"),RE_POS=/^(top|right|bottom|left)$/,CURRENT_STYLE="currentStyle",RUNTIME_STYLE="runtimeStyle",LEFT="left",PX="px";function _getComputedStyleIE(G,U){var W=G[CURRENT_STYLE]&&G[CURRENT_STYLE][U];if(_RE_NUM_NO_PX.test(W)&&!RE_POS.test(U)){var X=G.style,ne=X[LEFT],oe=G[RUNTIME_STYLE][LEFT];G[RUNTIME_STYLE][LEFT]=G[CURRENT_STYLE][LEFT],X[LEFT]=U==="fontSize"?"1em":W||0,W=X.pixelLeft+PX,X[LEFT]=ne,G[RUNTIME_STYLE][LEFT]=oe}return W===""?"auto":W}typeof window<"u"&&(getComputedStyleX=window.getComputedStyle?_getComputedStyle:_getComputedStyleIE);function getOffsetDirection(G,U){return G==="left"?U.useCssRight?"right":G:U.useCssBottom?"bottom":G}function oppositeOffsetDirection(G){if(G==="left")return"right";if(G==="right")return"left";if(G==="top")return"bottom";if(G==="bottom")return"top"}function setLeftTop(G,U,W){css(G,"position")==="static"&&(G.style.position="relative");var X=-999,ne=-999,oe=getOffsetDirection("left",W),le=getOffsetDirection("top",W),se=oppositeOffsetDirection(oe),ue=oppositeOffsetDirection(le);oe!=="left"&&(X=999),le!=="top"&&(ne=999);var ce="",fe=getOffset$1(G);("left"in U||"top"in U)&&(ce=getTransitionProperty(G)||"",setTransitionProperty(G,"none")),"left"in U&&(G.style[se]="",G.style[oe]="".concat(X,"px")),"top"in U&&(G.style[ue]="",G.style[le]="".concat(ne,"px")),forceRelayout(G);var me=getOffset$1(G),ve={};for(var be in U)if(U.hasOwnProperty(be)){var Se=getOffsetDirection(be,W),_e=be==="left"?X:ne,Ae=fe[be]-me[be];Se===be?ve[Se]=_e+Ae:ve[Se]=_e-Ae}css(G,ve),forceRelayout(G),("left"in U||"top"in U)&&setTransitionProperty(G,ce);var ke={};for(var Me in U)if(U.hasOwnProperty(Me)){var Le=getOffsetDirection(Me,W),qe=U[Me]-fe[Me];Me===Le?ke[Le]=ve[Le]+qe:ke[Le]=ve[Le]-qe}css(G,ke)}function setTransform$1(G,U){var W=getOffset$1(G),X=getTransformXY(G),ne={x:X.x,y:X.y};"left"in U&&(ne.x=X.x+U.left-W.left),"top"in U&&(ne.y=X.y+U.top-W.top),setTransformXY(G,ne)}function setOffset(G,U,W){if(W.ignoreShake){var X=getOffset$1(G),ne=X.left.toFixed(0),oe=X.top.toFixed(0),le=U.left.toFixed(0),se=U.top.toFixed(0);if(ne===le&&oe===se)return}W.useCssRight||W.useCssBottom?setLeftTop(G,U,W):W.useCssTransform&&getTransformName()in document.body.style?setTransform$1(G,U):setLeftTop(G,U,W)}function each(G,U){for(var W=0;W<G.length;W++)U(G[W])}function isBorderBoxFn(G){return getComputedStyleX(G,"boxSizing")==="border-box"}var BOX_MODELS=["margin","border","padding"],CONTENT_INDEX=-1,PADDING_INDEX=2,BORDER_INDEX=1,MARGIN_INDEX=0;function swap(G,U,W){var X={},ne=G.style,oe;for(oe in U)U.hasOwnProperty(oe)&&(X[oe]=ne[oe],ne[oe]=U[oe]);W.call(G);for(oe in U)U.hasOwnProperty(oe)&&(ne[oe]=X[oe])}function getPBMWidth(G,U,W){var X=0,ne,oe,le;for(oe=0;oe<U.length;oe++)if(ne=U[oe],ne)for(le=0;le<W.length;le++){var se=void 0;ne==="border"?se="".concat(ne).concat(W[le],"Width"):se=ne+W[le],X+=parseFloat(getComputedStyleX(G,se))||0}return X}var domUtils={getParent:function G(U){var W=U;do W.nodeType===11&&W.host?W=W.host:W=W.parentNode;while(W&&W.nodeType!==1&&W.nodeType!==9);return W}};each(["Width","Height"],function(G){domUtils["doc".concat(G)]=function(U){var W=U.document;return Math.max(W.documentElement["scroll".concat(G)],W.body["scroll".concat(G)],domUtils["viewport".concat(G)](W))},domUtils["viewport".concat(G)]=function(U){var W="client".concat(G),X=U.document,ne=X.body,oe=X.documentElement,le=oe[W];return X.compatMode==="CSS1Compat"&&le||ne&&ne[W]||le}});function getWH(G,U,W){var X=W;if(isWindow(G))return U==="width"?domUtils.viewportWidth(G):domUtils.viewportHeight(G);if(G.nodeType===9)return U==="width"?domUtils.docWidth(G):domUtils.docHeight(G);var ne=U==="width"?["Left","Right"]:["Top","Bottom"],oe=Math.floor(U==="width"?G.getBoundingClientRect().width:G.getBoundingClientRect().height),le=isBorderBoxFn(G),se=0;(oe==null||oe<=0)&&(oe=void 0,se=getComputedStyleX(G,U),(se==null||Number(se)<0)&&(se=G.style[U]||0),se=Math.floor(parseFloat(se))||0),X===void 0&&(X=le?BORDER_INDEX:CONTENT_INDEX);var ue=oe!==void 0||le,ce=oe||se;return X===CONTENT_INDEX?ue?ce-getPBMWidth(G,["border","padding"],ne):se:ue?X===BORDER_INDEX?ce:ce+(X===PADDING_INDEX?-getPBMWidth(G,["border"],ne):getPBMWidth(G,["margin"],ne)):se+getPBMWidth(G,BOX_MODELS.slice(X),ne)}var cssShow={position:"absolute",visibility:"hidden",display:"block"};function getWHIgnoreDisplay(){for(var G=arguments.length,U=new Array(G),W=0;W<G;W++)U[W]=arguments[W];var X,ne=U[0];return ne.offsetWidth!==0?X=getWH.apply(void 0,U):swap(ne,cssShow,function(){X=getWH.apply(void 0,U)}),X}each(["width","height"],function(G){var U=G.charAt(0).toUpperCase()+G.slice(1);domUtils["outer".concat(U)]=function(X,ne){return X&&getWHIgnoreDisplay(X,G,ne?MARGIN_INDEX:BORDER_INDEX)};var W=G==="width"?["Left","Right"]:["Top","Bottom"];domUtils[G]=function(X,ne){var oe=ne;if(oe!==void 0){if(X){var le=isBorderBoxFn(X);return le&&(oe+=getPBMWidth(X,["padding","border"],W)),css(X,G,oe)}return}return X&&getWHIgnoreDisplay(X,G,CONTENT_INDEX)}});function mix(G,U){for(var W in U)U.hasOwnProperty(W)&&(G[W]=U[W]);return G}var utils={getWindow:function G(U){if(U&&U.document&&U.setTimeout)return U;var W=U.ownerDocument||U;return W.defaultView||W.parentWindow},getDocument,offset:function G(U,W,X){if(typeof W<"u")setOffset(U,W,X||{});else return getOffset$1(U)},isWindow,each,css,clone:function G(U){var W,X={};for(W in U)U.hasOwnProperty(W)&&(X[W]=U[W]);var ne=U.overflow;if(ne)for(W in U)U.hasOwnProperty(W)&&(X.overflow[W]=U.overflow[W]);return X},mix,getWindowScrollLeft:function G(U){return getScrollLeft(U)},getWindowScrollTop:function G(U){return getScrollTop(U)},merge:function G(){for(var U={},W=0;W<arguments.length;W++)utils.mix(U,W<0||arguments.length<=W?void 0:arguments[W]);return U},viewportWidth:0,viewportHeight:0};mix(utils,domUtils);var getParent$1=utils.getParent;function getOffsetParent(G){if(utils.isWindow(G)||G.nodeType===9)return null;var U=utils.getDocument(G),W=U.body,X,ne=utils.css(G,"position"),oe=ne==="fixed"||ne==="absolute";if(!oe)return G.nodeName.toLowerCase()==="html"?null:getParent$1(G);for(X=getParent$1(G);X&&X!==W&&X.nodeType!==9;X=getParent$1(X))if(ne=utils.css(X,"position"),ne!=="static")return X;return null}var getParent$1$1=utils.getParent;function isAncestorFixed(G){if(utils.isWindow(G)||G.nodeType===9)return!1;var U=utils.getDocument(G),W=U.body,X=null;for(X=getParent$1$1(G);X&&X!==W&&X!==U;X=getParent$1$1(X)){var ne=utils.css(X,"position");if(ne==="fixed")return!0}return!1}function getVisibleRectForElement(G,U){for(var W={left:0,right:1/0,top:0,bottom:1/0},X=getOffsetParent(G),ne=utils.getDocument(G),oe=ne.defaultView||ne.parentWindow,le=ne.body,se=ne.documentElement;X;){if((navigator.userAgent.indexOf("MSIE")===-1||X.clientWidth!==0)&&X!==le&&X!==se&&utils.css(X,"overflow")!=="visible"){var ue=utils.offset(X);ue.left+=X.clientLeft,ue.top+=X.clientTop,W.top=Math.max(W.top,ue.top),W.right=Math.min(W.right,ue.left+X.clientWidth),W.bottom=Math.min(W.bottom,ue.top+X.clientHeight),W.left=Math.max(W.left,ue.left)}else if(X===le||X===se)break;X=getOffsetParent(X)}var ce=null;if(!utils.isWindow(G)&&G.nodeType!==9){ce=G.style.position;var fe=utils.css(G,"position");fe==="absolute"&&(G.style.position="fixed")}var me=utils.getWindowScrollLeft(oe),ve=utils.getWindowScrollTop(oe),be=utils.viewportWidth(oe),Se=utils.viewportHeight(oe),_e=se.scrollWidth,Ae=se.scrollHeight,ke=window.getComputedStyle(le);if(ke.overflowX==="hidden"&&(_e=oe.innerWidth),ke.overflowY==="hidden"&&(Ae=oe.innerHeight),G.style&&(G.style.position=ce),U||isAncestorFixed(G))W.left=Math.max(W.left,me),W.top=Math.max(W.top,ve),W.right=Math.min(W.right,me+be),W.bottom=Math.min(W.bottom,ve+Se);else{var Me=Math.max(_e,me+be);W.right=Math.min(W.right,Me);var Le=Math.max(Ae,ve+Se);W.bottom=Math.min(W.bottom,Le)}return W.top>=0&&W.left>=0&&W.bottom>W.top&&W.right>W.left?W:null}function adjustForViewport(G,U,W,X){var ne=utils.clone(G),oe={width:U.width,height:U.height};return X.adjustX&&ne.left<W.left&&(ne.left=W.left),X.resizeWidth&&ne.left>=W.left&&ne.left+oe.width>W.right&&(oe.width-=ne.left+oe.width-W.right),X.adjustX&&ne.left+oe.width>W.right&&(ne.left=Math.max(W.right-oe.width,W.left)),X.adjustY&&ne.top<W.top&&(ne.top=W.top),X.resizeHeight&&ne.top>=W.top&&ne.top+oe.height>W.bottom&&(oe.height-=ne.top+oe.height-W.bottom),X.adjustY&&ne.top+oe.height>W.bottom&&(ne.top=Math.max(W.bottom-oe.height,W.top)),utils.mix(ne,oe)}function getRegion(G){var U,W,X;if(!utils.isWindow(G)&&G.nodeType!==9)U=utils.offset(G),W=utils.outerWidth(G),X=utils.outerHeight(G);else{var ne=utils.getWindow(G);U={left:utils.getWindowScrollLeft(ne),top:utils.getWindowScrollTop(ne)},W=utils.viewportWidth(ne),X=utils.viewportHeight(ne)}return U.width=W,U.height=X,U}function getAlignOffset(G,U){var W=U.charAt(0),X=U.charAt(1),ne=G.width,oe=G.height,le=G.left,se=G.top;return W==="c"?se+=oe/2:W==="b"&&(se+=oe),X==="c"?le+=ne/2:X==="r"&&(le+=ne),{left:le,top:se}}function getElFuturePos(G,U,W,X,ne){var oe=getAlignOffset(U,W[1]),le=getAlignOffset(G,W[0]),se=[le.left-oe.left,le.top-oe.top];return{left:Math.round(G.left-se[0]+X[0]-ne[0]),top:Math.round(G.top-se[1]+X[1]-ne[1])}}function isFailX(G,U,W){return G.left<W.left||G.left+U.width>W.right}function isFailY(G,U,W){return G.top<W.top||G.top+U.height>W.bottom}function isCompleteFailX(G,U,W){return G.left>W.right||G.left+U.width<W.left}function isCompleteFailY(G,U,W){return G.top>W.bottom||G.top+U.height<W.top}function flip(G,U,W){var X=[];return utils.each(G,function(ne){X.push(ne.replace(U,function(oe){return W[oe]}))}),X}function flipOffset(G,U){return G[U]=-G[U],G}function convertOffset(G,U){var W;return/%$/.test(G)?W=parseInt(G.substring(0,G.length-1),10)/100*U:W=parseInt(G,10),W||0}function normalizeOffset(G,U){G[0]=convertOffset(G[0],U.width),G[1]=convertOffset(G[1],U.height)}function doAlign(G,U,W,X){var ne=W.points,oe=W.offset||[0,0],le=W.targetOffset||[0,0],se=W.overflow,ue=W.source||G;oe=[].concat(oe),le=[].concat(le),se=se||{};var ce={},fe=0,me=!!(se&&se.alwaysByViewport),ve=getVisibleRectForElement(ue,me),be=getRegion(ue);normalizeOffset(oe,be),normalizeOffset(le,U);var Se=getElFuturePos(be,U,ne,oe,le),_e=utils.merge(be,Se);if(ve&&(se.adjustX||se.adjustY)&&X){if(se.adjustX&&isFailX(Se,be,ve)){var Ae=flip(ne,/[lr]/gi,{l:"r",r:"l"}),ke=flipOffset(oe,0),Me=flipOffset(le,0),Le=getElFuturePos(be,U,Ae,ke,Me);isCompleteFailX(Le,be,ve)||(fe=1,ne=Ae,oe=ke,le=Me)}if(se.adjustY&&isFailY(Se,be,ve)){var qe=flip(ne,/[tb]/gi,{t:"b",b:"t"}),Je=flipOffset(oe,1),Fe=flipOffset(le,1),Ve=getElFuturePos(be,U,qe,Je,Fe);isCompleteFailY(Ve,be,ve)||(fe=1,ne=qe,oe=Je,le=Fe)}fe&&(Se=getElFuturePos(be,U,ne,oe,le),utils.mix(_e,Se));var Ze=isFailX(Se,be,ve),Xe=isFailY(Se,be,ve);if(Ze||Xe){var dt=ne;Ze&&(dt=flip(ne,/[lr]/gi,{l:"r",r:"l"})),Xe&&(dt=flip(ne,/[tb]/gi,{t:"b",b:"t"})),ne=dt,oe=W.offset||[0,0],le=W.targetOffset||[0,0]}ce.adjustX=se.adjustX&&Ze,ce.adjustY=se.adjustY&&Xe,(ce.adjustX||ce.adjustY)&&(_e=adjustForViewport(Se,be,ve,ce))}return _e.width!==be.width&&utils.css(ue,"width",utils.width(ue)+_e.width-be.width),_e.height!==be.height&&utils.css(ue,"height",utils.height(ue)+_e.height-be.height),utils.offset(ue,{left:_e.left,top:_e.top},{useCssRight:W.useCssRight,useCssBottom:W.useCssBottom,useCssTransform:W.useCssTransform,ignoreShake:W.ignoreShake}),{points:ne,offset:oe,targetOffset:le,overflow:ce}}function isOutOfVisibleRect(G,U){var W=getVisibleRectForElement(G,U),X=getRegion(G);return!W||X.left+X.width<=W.left||X.top+X.height<=W.top||X.left>=W.right||X.top>=W.bottom}function alignElement(G,U,W){var X=W.target||U,ne=getRegion(X),oe=!isOutOfVisibleRect(X,W.overflow&&W.overflow.alwaysByViewport);return doAlign(G,ne,W,oe)}alignElement.__getOffsetParent=getOffsetParent;alignElement.__getVisibleRectForElement=getVisibleRectForElement;function alignPoint(G,U,W){var X,ne,oe=utils.getDocument(G),le=oe.defaultView||oe.parentWindow,se=utils.getWindowScrollLeft(le),ue=utils.getWindowScrollTop(le),ce=utils.viewportWidth(le),fe=utils.viewportHeight(le);"pageX"in U?X=U.pageX:X=se+U.clientX,"pageY"in U?ne=U.pageY:ne=ue+U.clientY;var me={left:X,top:ne,width:0,height:0},ve=X>=0&&X<=se+ce&&ne>=0&&ne<=ue+fe,be=[W.points[0],"cc"];return doAlign(G,me,_objectSpread2(_objectSpread2({},W),{},{points:be}),ve)}function cloneElement(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,ne=G;if(Array.isArray(G)&&(ne=filterEmpty(G)[0]),!ne)return null;var oe=cloneVNode(ne,U,X);return oe.props=W?_objectSpread2$1(_objectSpread2$1({},oe.props),U):oe.props,warning(_typeof$2(oe.props.class)!=="object","class must be string"),oe}const isVisible=function(G){if(!G)return!1;if(G.offsetParent)return!0;if(G.getBBox){var U=G.getBBox();if(U.width||U.height)return!0}if(G.getBoundingClientRect){var W=G.getBoundingClientRect();if(W.width||W.height)return!0}return!1};function isSamePoint(G,U){return G===U?!0:!G||!U?!1:"pageX"in U&&"pageY"in U?G.pageX===U.pageX&&G.pageY===U.pageY:"clientX"in U&&"clientY"in U?G.clientX===U.clientX&&G.clientY===U.clientY:!1}function restoreFocus(G,U){G!==document.activeElement&&contains(U,G)&&typeof G.focus=="function"&&G.focus()}function monitorResize(G,U){var W=null,X=null;function ne(le){var se=_slicedToArray(le,1),ue=se[0].target;if(!!document.documentElement.contains(ue)){var ce=ue.getBoundingClientRect(),fe=ce.width,me=ce.height,ve=Math.floor(fe),be=Math.floor(me);(W!==ve||X!==be)&&Promise.resolve().then(function(){U({width:ve,height:be})}),W=ve,X=be}}var oe=new index(ne);return G&&oe.observe(G),function(){oe.disconnect()}}const useBuffer=function(G,U){var W=!1,X=null;function ne(){clearTimeout(X)}function oe(le){if(!W||le===!0){if(G()===!1)return;W=!0,ne(),X=setTimeout(function(){W=!1},U.value)}else ne(),X=setTimeout(function(){W=!1,oe()},U.value)}return[oe,function(){W=!1,ne()}]};function listCacheClear(){this.__data__=[],this.size=0}function eq(G,U){return G===U||G!==G&&U!==U}function assocIndexOf(G,U){for(var W=G.length;W--;)if(eq(G[W][0],U))return W;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(G){var U=this.__data__,W=assocIndexOf(U,G);if(W<0)return!1;var X=U.length-1;return W==X?U.pop():splice.call(U,W,1),--this.size,!0}function listCacheGet(G){var U=this.__data__,W=assocIndexOf(U,G);return W<0?void 0:U[W][1]}function listCacheHas(G){return assocIndexOf(this.__data__,G)>-1}function listCacheSet(G,U){var W=this.__data__,X=assocIndexOf(W,G);return X<0?(++this.size,W.push([G,U])):W[X][1]=U,this}function ListCache(G){var U=-1,W=G==null?0:G.length;for(this.clear();++U<W;){var X=G[U];this.set(X[0],X[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(G){var U=this.__data__,W=U.delete(G);return this.size=U.size,W}function stackGet(G){return this.__data__.get(G)}function stackHas(G){return this.__data__.has(G)}function isObject(G){var U=typeof G;return G!=null&&(U=="object"||U=="function")}var asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(G){if(!isObject(G))return!1;var U=baseGetTag(G);return U==funcTag$1||U==genTag||U==asyncTag||U==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var G=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return G?"Symbol(src)_1."+G:""}();function isMasked(G){return!!maskSrcKey&&maskSrcKey in G}var funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource(G){if(G!=null){try{return funcToString$1.call(G)}catch{}try{return G+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$7=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$7).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(G){if(!isObject(G)||isMasked(G))return!1;var U=isFunction(G)?reIsNative:reIsHostCtor;return U.test(toSource(G))}function getValue(G,U){return G==null?void 0:G[U]}function getNative(G,U){var W=getValue(G,U);return baseIsNative(W)?W:void 0}var Map$1=getNative(root$1,"Map");const Map$2=Map$1;var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(G){var U=this.has(G)&&delete this.__data__[G];return this.size-=U?1:0,U}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashGet(G){var U=this.__data__;if(nativeCreate$1){var W=U[G];return W===HASH_UNDEFINED$2?void 0:W}return hasOwnProperty$6.call(U,G)?U[G]:void 0}var objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashHas(G){var U=this.__data__;return nativeCreate$1?U[G]!==void 0:hasOwnProperty$5.call(U,G)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(G,U){var W=this.__data__;return this.size+=this.has(G)?0:1,W[G]=nativeCreate$1&&U===void 0?HASH_UNDEFINED$1:U,this}function Hash(G){var U=-1,W=G==null?0:G.length;for(this.clear();++U<W;){var X=G[U];this.set(X[0],X[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(G){var U=typeof G;return U=="string"||U=="number"||U=="symbol"||U=="boolean"?G!=="__proto__":G===null}function getMapData(G,U){var W=G.__data__;return isKeyable(U)?W[typeof U=="string"?"string":"hash"]:W.map}function mapCacheDelete(G){var U=getMapData(this,G).delete(G);return this.size-=U?1:0,U}function mapCacheGet(G){return getMapData(this,G).get(G)}function mapCacheHas(G){return getMapData(this,G).has(G)}function mapCacheSet(G,U){var W=getMapData(this,G),X=W.size;return W.set(G,U),this.size+=W.size==X?0:1,this}function MapCache(G){var U=-1,W=G==null?0:G.length;for(this.clear();++U<W;){var X=G[U];this.set(X[0],X[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var LARGE_ARRAY_SIZE=200;function stackSet(G,U){var W=this.__data__;if(W instanceof ListCache){var X=W.__data__;if(!Map$2||X.length<LARGE_ARRAY_SIZE-1)return X.push([G,U]),this.size=++W.size,this;W=this.__data__=new MapCache(X)}return W.set(G,U),this.size=W.size,this}function Stack(G){var U=this.__data__=new ListCache(G);this.size=U.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(G){return this.__data__.set(G,HASH_UNDEFINED),this}function setCacheHas(G){return this.__data__.has(G)}function SetCache(G){var U=-1,W=G==null?0:G.length;for(this.__data__=new MapCache;++U<W;)this.add(G[U])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(G,U){for(var W=-1,X=G==null?0:G.length;++W<X;)if(U(G[W],W,G))return!0;return!1}function cacheHas(G,U){return G.has(U)}var COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays(G,U,W,X,ne,oe){var le=W&COMPARE_PARTIAL_FLAG$3,se=G.length,ue=U.length;if(se!=ue&&!(le&&ue>se))return!1;var ce=oe.get(G),fe=oe.get(U);if(ce&&fe)return ce==U&&fe==G;var me=-1,ve=!0,be=W&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(oe.set(G,U),oe.set(U,G);++me<se;){var Se=G[me],_e=U[me];if(X)var Ae=le?X(_e,Se,me,U,G,oe):X(Se,_e,me,G,U,oe);if(Ae!==void 0){if(Ae)continue;ve=!1;break}if(be){if(!arraySome(U,function(ke,Me){if(!cacheHas(be,Me)&&(Se===ke||ne(Se,ke,W,X,oe)))return be.push(Me)})){ve=!1;break}}else if(!(Se===_e||ne(Se,_e,W,X,oe))){ve=!1;break}}return oe.delete(G),oe.delete(U),ve}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function mapToArray(G){var U=-1,W=Array(G.size);return G.forEach(function(X,ne){W[++U]=[ne,X]}),W}function setToArray(G){var U=-1,W=Array(G.size);return G.forEach(function(X){W[++U]=X}),W}var COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(G,U,W,X,ne,oe,le){switch(W){case dataViewTag$2:if(G.byteLength!=U.byteLength||G.byteOffset!=U.byteOffset)return!1;G=G.buffer,U=U.buffer;case arrayBufferTag$1:return!(G.byteLength!=U.byteLength||!oe(new Uint8Array$2(G),new Uint8Array$2(U)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+G,+U);case errorTag$1:return G.name==U.name&&G.message==U.message;case regexpTag$1:case stringTag$1:return G==U+"";case mapTag$2:var se=mapToArray;case setTag$2:var ue=X&COMPARE_PARTIAL_FLAG$2;if(se||(se=setToArray),G.size!=U.size&&!ue)return!1;var ce=le.get(G);if(ce)return ce==U;X|=COMPARE_UNORDERED_FLAG,le.set(G,U);var fe=equalArrays(se(G),se(U),X,ne,oe,le);return le.delete(G),fe;case symbolTag:if(symbolValueOf)return symbolValueOf.call(G)==symbolValueOf.call(U)}return!1}function arrayPush(G,U){for(var W=-1,X=U.length,ne=G.length;++W<X;)G[ne+W]=U[W];return G}var isArray=Array.isArray;const isArray$1=isArray;function baseGetAllKeys(G,U,W){var X=U(G);return isArray$1(G)?X:arrayPush(X,W(G))}function arrayFilter(G,U){for(var W=-1,X=G==null?0:G.length,ne=0,oe=[];++W<X;){var le=G[W];U(le,W,G)&&(oe[ne++]=le)}return oe}function stubArray(){return[]}var objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(G){return G==null?[]:(G=Object(G),arrayFilter(nativeGetSymbols(G),function(U){return propertyIsEnumerable$1.call(G,U)}))}:stubArray;const getSymbols$1=getSymbols;function baseTimes(G,U){for(var W=-1,X=Array(G);++W<G;)X[W]=U(W);return X}var argsTag$2="[object Arguments]";function baseIsArguments(G){return isObjectLike(G)&&baseGetTag(G)==argsTag$2}var objectProto$5=Object.prototype,hasOwnProperty$4=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(G){return isObjectLike(G)&&hasOwnProperty$4.call(G,"callee")&&!propertyIsEnumerable.call(G,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,Buffer=moduleExports$1?root$1.Buffer:void 0,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(G,U){var W=typeof G;return U=U==null?MAX_SAFE_INTEGER$1:U,!!U&&(W=="number"||W!="symbol"&&reIsUint.test(G))&&G>-1&&G%1==0&&G<U}var MAX_SAFE_INTEGER=9007199254740991;function isLength(G){return typeof G=="number"&&G>-1&&G%1==0&&G<=MAX_SAFE_INTEGER}var argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray(G){return isObjectLike(G)&&isLength(G.length)&&!!typedArrayTags[baseGetTag(G)]}function baseUnary(G){return function(U){return G(U)}}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal$1.process,nodeUtil=function(){try{var G=freeModule&&freeModule.require&&freeModule.require("util").types;return G||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$4=Object.prototype,hasOwnProperty$3=objectProto$4.hasOwnProperty;function arrayLikeKeys(G,U){var W=isArray$1(G),X=!W&&isArguments$1(G),ne=!W&&!X&&isBuffer$1(G),oe=!W&&!X&&!ne&&isTypedArray$1(G),le=W||X||ne||oe,se=le?baseTimes(G.length,String):[],ue=se.length;for(var ce in G)(U||hasOwnProperty$3.call(G,ce))&&!(le&&(ce=="length"||ne&&(ce=="offset"||ce=="parent")||oe&&(ce=="buffer"||ce=="byteLength"||ce=="byteOffset")||isIndex(ce,ue)))&&se.push(ce);return se}var objectProto$3=Object.prototype;function isPrototype(G){var U=G&&G.constructor,W=typeof U=="function"&&U.prototype||objectProto$3;return G===W}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty;function baseKeys(G){if(!isPrototype(G))return nativeKeys$1(G);var U=[];for(var W in Object(G))hasOwnProperty$2.call(G,W)&&W!="constructor"&&U.push(W);return U}function isArrayLike(G){return G!=null&&isLength(G.length)&&!isFunction(G)}function keys(G){return isArrayLike(G)?arrayLikeKeys(G):baseKeys(G)}function getAllKeys(G){return baseGetAllKeys(G,keys,getSymbols$1)}var COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function equalObjects(G,U,W,X,ne,oe){var le=W&COMPARE_PARTIAL_FLAG$1,se=getAllKeys(G),ue=se.length,ce=getAllKeys(U),fe=ce.length;if(ue!=fe&&!le)return!1;for(var me=ue;me--;){var ve=se[me];if(!(le?ve in U:hasOwnProperty$1.call(U,ve)))return!1}var be=oe.get(G),Se=oe.get(U);if(be&&Se)return be==U&&Se==G;var _e=!0;oe.set(G,U),oe.set(U,G);for(var Ae=le;++me<ue;){ve=se[me];var ke=G[ve],Me=U[ve];if(X)var Le=le?X(Me,ke,ve,U,G,oe):X(ke,Me,ve,G,U,oe);if(!(Le===void 0?ke===Me||ne(ke,Me,W,X,oe):Le)){_e=!1;break}Ae||(Ae=ve=="constructor")}if(_e&&!Ae){var qe=G.constructor,Je=U.constructor;qe!=Je&&"constructor"in G&&"constructor"in U&&!(typeof qe=="function"&&qe instanceof qe&&typeof Je=="function"&&Je instanceof Je)&&(_e=!1)}return oe.delete(G),oe.delete(U),_e}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag||Map$2&&getTag(new Map$2)!=mapTag||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag)&&(getTag=function(G){var U=baseGetTag(G),W=U==objectTag$1?G.constructor:void 0,X=W?toSource(W):"";if(X)switch(X){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return U});const getTag$1=getTag;var COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function baseIsEqualDeep(G,U,W,X,ne,oe){var le=isArray$1(G),se=isArray$1(U),ue=le?arrayTag:getTag$1(G),ce=se?arrayTag:getTag$1(U);ue=ue==argsTag?objectTag:ue,ce=ce==argsTag?objectTag:ce;var fe=ue==objectTag,me=ce==objectTag,ve=ue==ce;if(ve&&isBuffer$1(G)){if(!isBuffer$1(U))return!1;le=!0,fe=!1}if(ve&&!fe)return oe||(oe=new Stack),le||isTypedArray$1(G)?equalArrays(G,U,W,X,ne,oe):equalByTag(G,U,ue,W,X,ne,oe);if(!(W&COMPARE_PARTIAL_FLAG)){var be=fe&&hasOwnProperty.call(G,"__wrapped__"),Se=me&&hasOwnProperty.call(U,"__wrapped__");if(be||Se){var _e=be?G.value():G,Ae=Se?U.value():U;return oe||(oe=new Stack),ne(_e,Ae,W,X,oe)}}return ve?(oe||(oe=new Stack),equalObjects(G,U,W,X,ne,oe)):!1}function baseIsEqual(G,U,W,X,ne){return G===U?!0:G==null||U==null||!isObjectLike(G)&&!isObjectLike(U)?G!==G&&U!==U:baseIsEqualDeep(G,U,W,X,baseIsEqual,ne)}function isEqual(G,U){return baseIsEqual(G,U)}var alignProps={align:Object,target:[Object,Function],onAlign:Function,monitorBufferTime:Number,monitorWindowResize:Boolean,disabled:Boolean};function getElement(G){return typeof G!="function"?null:G()}function getPoint(G){return _typeof$2(G)!=="object"||!G?null:G}const Align=defineComponent({compatConfig:{MODE:3},name:"Align",props:alignProps,emits:["align"],setup:function G(U,W){var X=W.expose,ne=W.slots,oe=ref({}),le=ref(),se=useBuffer(function(){var _e=U.disabled,Ae=U.target,ke=U.align,Me=U.onAlign;if(!_e&&Ae&&le.value){var Le=le.value,qe,Je=getElement(Ae),Fe=getPoint(Ae);oe.value.element=Je,oe.value.point=Fe,oe.value.align=ke;var Ve=document,Ze=Ve.activeElement;return Je&&isVisible(Je)?qe=alignElement(Le,Je,ke):Fe&&(qe=alignPoint(Le,Fe,ke)),restoreFocus(Ze,Le),Me&&qe&&Me(Le,qe),!0}return!1},computed(function(){return U.monitorBufferTime})),ue=_slicedToArray(se,2),ce=ue[0],fe=ue[1],me=ref({cancel:function(){}}),ve=ref({cancel:function(){}}),be=function(){var Ae=U.target,ke=getElement(Ae),Me=getPoint(Ae);le.value!==ve.value.element&&(ve.value.cancel(),ve.value.element=le.value,ve.value.cancel=monitorResize(le.value,ce)),(oe.value.element!==ke||!isSamePoint(oe.value.point,Me)||!isEqual(oe.value.align,U.align))&&(ce(),me.value.element!==ke&&(me.value.cancel(),me.value.element=ke,me.value.cancel=monitorResize(ke,ce)))};onMounted(function(){nextTick(function(){be()})}),onUpdated(function(){nextTick(function(){be()})}),watch$1(function(){return U.disabled},function(_e){_e?fe():ce()},{immediate:!0,flush:"post"});var Se=ref(null);return watch$1(function(){return U.monitorWindowResize},function(_e){_e?Se.value||(Se.value=addEventListenerWrap(window,"resize",ce)):Se.value&&(Se.value.remove(),Se.value=null)},{flush:"post"}),onUnmounted(function(){me.value.cancel(),ve.value.cancel(),Se.value&&Se.value.remove(),fe()}),X({forceAlign:function(){return ce(!0)}}),function(){var _e=ne==null?void 0:ne.default();return _e?cloneElement(_e[0],{ref:le},!0,!0):null}}}),PopupInner=defineComponent({compatConfig:{MODE:3},name:"PopupInner",inheritAttrs:!1,props:innerProps,emits:["mouseenter","mouseleave","mousedown","touchstart","align"],setup:function G(U,W){var X=W.expose,ne=W.attrs,oe=W.slots,le=ref(),se=ref(),ue=ref(),ce=useStretchStyle(toRef(U,"stretch")),fe=_slicedToArray(ce,2),me=fe[0],ve=fe[1],be=function(){U.stretch&&ve(U.getRootDomNode())},Se=ref(!1),_e;watch$1(function(){return U.visible},function(ht){clearTimeout(_e),ht?_e=setTimeout(function(){Se.value=U.visible}):Se.value=!1},{immediate:!0});var Ae=useVisibleStatus(Se,be),ke=_slicedToArray(Ae,2),Me=ke[0],Le=ke[1],qe=ref(),Je=function(){return U.point?U.point:U.getRootDomNode},Fe=function(){var lt;(lt=le.value)===null||lt===void 0||lt.forceAlign()},Ve=function(lt,xt){var It=U.getClassNameFromAlign(xt),mt=ue.value;if(ue.value!==It&&(ue.value=It),Me.value==="align"){var ot;mt!==It?Promise.resolve().then(function(){Fe()}):Le(function(){var st;(st=qe.value)===null||st===void 0||st.call(qe)}),(ot=U.onAlign)===null||ot===void 0||ot.call(U,lt,xt)}},Ze=computed(function(){var ht=_typeof$2(U.animation)==="object"?U.animation:getMotion(U);return["onAfterEnter","onAfterLeave"].forEach(function(lt){var xt=ht[lt];ht[lt]=function(It){Le(),Me.value="stable",xt==null||xt(It)}}),ht}),Xe=function(){return new Promise(function(lt){qe.value=lt})};watch$1([Ze,Me],function(){!Ze.value&&Me.value==="motion"&&Le()},{immediate:!0}),X({forceAlign:Fe,getElement:function(){return se.value.$el||se.value}});var dt=computed(function(){var ht;return!((ht=U.align)!==null&&ht!==void 0&&ht.points&&(Me.value==="align"||Me.value==="stable"))});return function(){var ht,lt=U.zIndex,xt=U.align,It=U.prefixCls,mt=U.destroyPopupOnHide,ot=U.onMouseenter,st=U.onMouseleave,vt=U.onTouchstart,Ot=vt===void 0?function(){}:vt,wt=U.onMousedown,Wt=Me.value,qt=[_objectSpread2$1(_objectSpread2$1({},me.value),{},{zIndex:lt,opacity:Wt==="motion"||Wt==="stable"||!Se.value?null:0,pointerEvents:!Se.value&&Wt!=="stable"?"none":null}),ne.style],_t=flattenChildren((ht=oe.default)===null||ht===void 0?void 0:ht.call(oe,{visible:U.visible}));_t.length>1&&(_t=createVNode("div",{class:"".concat(It,"-content")},[_t]));var zt=classNames(It,ne.class,ue.value),nn=Se.value||!U.visible,en=nn?getTransitionProps(Ze.value.name,Ze.value):{};return createVNode(Transition,_objectSpread2$1(_objectSpread2$1({ref:se},en),{},{onBeforeEnter:Xe}),{default:function(){return!mt||U.visible?withDirectives(createVNode(Align,{target:Je(),key:"popup",ref:le,monitorWindowResize:!0,disabled:dt.value,align:xt,onAlign:Ve},{default:function(){return createVNode("div",_objectSpread2$1(_objectSpread2$1({class:zt,onMouseenter:ot,onMouseleave:st,onMousedown:withModifiers(wt,["capture"])},_defineProperty$1({},supportsPassive$1?"onTouchstartPassive":"onTouchstart",withModifiers(Ot,["capture"]))),{},{style:qt}),[_t])}}),[[vShow,Se.value]]):null}})}}}),Popup=defineComponent({compatConfig:{MODE:3},name:"Popup",inheritAttrs:!1,props:popupProps,setup:function G(U,W){var X=W.attrs,ne=W.slots,oe=W.expose,le=ref(!1),se=ref(!1),ue=ref();return watch$1([function(){return U.visible},function(){return U.mobile}],function(){le.value=U.visible,U.visible&&U.mobile&&(se.value=!0)},{immediate:!0,flush:"post"}),oe({forceAlign:function(){var fe;(fe=ue.value)===null||fe===void 0||fe.forceAlign()},getElement:function(){var fe;return(fe=ue.value)===null||fe===void 0?void 0:fe.getElement()}}),function(){var ce=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},U),X),{},{visible:le.value}),fe=se.value?createVNode(MobilePopupInner,_objectSpread2$1(_objectSpread2$1({},ce),{},{mobile:U.mobile,ref:ue}),{default:ne.default}):createVNode(PopupInner,_objectSpread2$1(_objectSpread2$1({},ce),{},{ref:ue}),{default:ne.default});return createVNode("div",null,[createVNode(Mask$1,ce,null),fe])}}});function isPointsEq(G,U,W){return W?G[0]===U[0]:G[0]===U[0]&&G[1]===U[1]}function getAlignFromPlacement(G,U,W){var X=G[U]||{};return _objectSpread2$1(_objectSpread2$1({},X),W)}function getAlignPopupClassName(G,U,W,X){for(var ne=W.points,oe=Object.keys(G),le=0;le<oe.length;le+=1){var se=oe[le];if(isPointsEq(G[se].points,ne,X))return"".concat(U,"-placement-").concat(se)}return""}const BaseMixin={methods:{setState:function G(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},W=arguments.length>1?arguments[1]:void 0,X=typeof U=="function"?U(this.$data,this.$props):U;if(this.getDerivedStateFromProps){var ne=this.getDerivedStateFromProps(getOptionProps(this),_objectSpread2$1(_objectSpread2$1({},this.$data),X));if(ne===null)return;X=_objectSpread2$1(_objectSpread2$1({},X),ne||{})}_extends(this.$data,X),this._.isMounted&&this.$forceUpdate(),nextTick(function(){W&&W()})},__emit:function G(){var U=[].slice.call(arguments,0),W=U[0];W="on".concat(W[0].toUpperCase()).concat(W.substring(1));var X=this.$props[W]||this.$attrs[W];if(U.length&&X)if(Array.isArray(X))for(var ne=0,oe=X.length;ne<oe;ne++)X[ne].apply(X,_toConsumableArray(U.slice(1)));else X.apply(void 0,_toConsumableArray(U.slice(1)))}}};var TriggerContextKey=Symbol("TriggerContextKey"),useInjectTrigger=function G(U){return U?inject(TriggerContextKey,{setPortal:function(){},popPortal:!1}):{setPortal:function(){},popPortal:!1}},PortalContextKey=Symbol("PortalContextKey"),useProvidePortal=function G(U){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{inTriggerContext:!0};provide(PortalContextKey,{inTriggerContext:W.inTriggerContext,shouldRender:computed(function(){var X=U||{},ne=X.sPopupVisible,oe=X.popupRef,le=X.forceRender,se=X.autoDestroy,ue=!1;return(ne||oe||le)&&(ue=!0),!ne&&se&&(ue=!1),ue})})},useInjectPortal=function G(){useProvidePortal({},{inTriggerContext:!1});var U=inject(PortalContextKey,{shouldRender:computed(function(){return!1}),inTriggerContext:!1});return{shouldRender:computed(function(){return U.shouldRender.value||U.inTriggerContext===!1})}};const Portal$1=defineComponent({compatConfig:{MODE:3},name:"Portal",inheritAttrs:!1,props:{getContainer:PropTypes$1.func.isRequired,didUpdate:Function},setup:function G(U,W){var X=W.slots,ne=!0,oe,le=useInjectPortal(),se=le.shouldRender;onBeforeMount(function(){ne=!1,se.value&&(oe=U.getContainer())});var ue=watch$1(se,function(){se.value&&!oe&&(oe=U.getContainer()),oe&&ue()});return onUpdated(function(){nextTick(function(){if(se.value){var ce;(ce=U.didUpdate)===null||ce===void 0||ce.call(U,U)}})}),onBeforeUnmount(function(){oe&&oe.parentNode&&oe.parentNode.removeChild(oe)}),function(){if(!se.value)return null;if(ne){var ce;return(ce=X.default)===null||ce===void 0?void 0:ce.call(X)}return oe?createVNode(Teleport,{to:oe},X):null}}});function noop$1(){}function returnEmptyString(){return""}function returnDocument(G){return G?G.ownerDocument:window.document}var ALL_HANDLERS=["onClick","onMousedown","onTouchstart","onMouseenter","onMouseleave","onFocus","onBlur","onContextmenu"];const Trigger=defineComponent({compatConfig:{MODE:3},name:"Trigger",mixins:[BaseMixin],inheritAttrs:!1,props:{action:PropTypes$1.oneOfType([PropTypes$1.string,PropTypes$1.arrayOf(PropTypes$1.string)]).def([]),showAction:PropTypes$1.any.def([]),hideAction:PropTypes$1.any.def([]),getPopupClassNameFromAlign:PropTypes$1.any.def(returnEmptyString),onPopupVisibleChange:Function,afterPopupVisibleChange:PropTypes$1.func.def(noop$1),popup:PropTypes$1.any,popupStyle:{type:Object,default:void 0},prefixCls:PropTypes$1.string.def("rc-trigger-popup"),popupClassName:PropTypes$1.string.def(""),popupPlacement:String,builtinPlacements:PropTypes$1.object,popupTransitionName:String,popupAnimation:PropTypes$1.any,mouseEnterDelay:PropTypes$1.number.def(0),mouseLeaveDelay:PropTypes$1.number.def(.1),zIndex:Number,focusDelay:PropTypes$1.number.def(0),blurDelay:PropTypes$1.number.def(.15),getPopupContainer:Function,getDocument:PropTypes$1.func.def(returnDocument),forceRender:{type:Boolean,default:void 0},destroyPopupOnHide:{type:Boolean,default:!1},mask:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},popupAlign:PropTypes$1.object.def(function(){return{}}),popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},maskTransitionName:String,maskAnimation:String,stretch:String,alignPoint:{type:Boolean,default:void 0},autoDestroy:{type:Boolean,default:!1},mobile:Object,getTriggerDOMNode:Function,tryPopPortal:Boolean},setup:function G(U){var W=computed(function(){var ue=U.popupPlacement,ce=U.popupAlign,fe=U.builtinPlacements;return ue&&fe?getAlignFromPlacement(fe,ue,ce):ce}),X=useInjectTrigger(U.tryPopPortal),ne=X.setPortal,oe=X.popPortal,le=ref(null),se=function(ce){le.value=ce};return{popPortal:oe,setPortal:ne,vcTriggerContext:inject("vcTriggerContext",{}),popupRef:le,setPopupRef:se,triggerRef:ref(null),align:W,focusTime:null,clickOutsideHandler:null,contextmenuOutsideHandler1:null,contextmenuOutsideHandler2:null,touchOutsideHandler:null,attachId:null,delayTimer:null,hasPopupMouseDown:!1,preClickTime:null,preTouchTime:null,mouseDownTimeout:null,childOriginEvents:{}}},data:function G(){var U=this,W,X=this.$props,ne;return this.popupVisible!==void 0?ne=!!X.popupVisible:ne=!!X.defaultPopupVisible,ALL_HANDLERS.forEach(function(oe){U["fire".concat(oe)]=function(le){U.fireEvents(oe,le)}}),(W=this.setPortal)===null||W===void 0||W.call(this,createVNode(Portal$1,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent})),{prevPopupVisible:ne,sPopupVisible:ne,point:null}},watch:{popupVisible:function G(U){U!==void 0&&(this.prevPopupVisible=this.sPopupVisible,this.sPopupVisible=U)}},created:function G(){provide("vcTriggerContext",{onPopupMouseDown:this.onPopupMouseDown}),useProvidePortal(this)},deactivated:function G(){this.setPopupVisible(!1)},mounted:function G(){var U=this;this.$nextTick(function(){U.updatedCal()})},updated:function G(){var U=this;this.$nextTick(function(){U.updatedCal()})},beforeUnmount:function G(){this.clearDelayTimer(),this.clearOutsideHandler(),clearTimeout(this.mouseDownTimeout),wrapperRaf.cancel(this.attachId)},methods:{updatedCal:function G(){var U=this.$props,W=this.$data;if(W.sPopupVisible){var X;!this.clickOutsideHandler&&(this.isClickToHide()||this.isContextmenuToShow())&&(X=U.getDocument(this.getRootDomNode()),this.clickOutsideHandler=addEventListenerWrap(X,"mousedown",this.onDocumentClick)),this.touchOutsideHandler||(X=X||U.getDocument(this.getRootDomNode()),this.touchOutsideHandler=addEventListenerWrap(X,"touchstart",this.onDocumentClick,supportsPassive$1?{passive:!1}:!1)),!this.contextmenuOutsideHandler1&&this.isContextmenuToShow()&&(X=X||U.getDocument(this.getRootDomNode()),this.contextmenuOutsideHandler1=addEventListenerWrap(X,"scroll",this.onContextmenuClose)),!this.contextmenuOutsideHandler2&&this.isContextmenuToShow()&&(this.contextmenuOutsideHandler2=addEventListenerWrap(window,"blur",this.onContextmenuClose))}else this.clearOutsideHandler()},onMouseenter:function G(U){var W=this.$props.mouseEnterDelay;this.fireEvents("onMouseenter",U),this.delaySetPopupVisible(!0,W,W?null:U)},onMouseMove:function G(U){this.fireEvents("onMousemove",U),this.setPoint(U)},onMouseleave:function G(U){this.fireEvents("onMouseleave",U),this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onPopupMouseenter:function G(){this.clearDelayTimer()},onPopupMouseleave:function G(U){var W;U&&U.relatedTarget&&!U.relatedTarget.setTimeout&&contains((W=this.popupRef)===null||W===void 0?void 0:W.getElement(),U.relatedTarget)||this.delaySetPopupVisible(!1,this.$props.mouseLeaveDelay)},onFocus:function G(U){this.fireEvents("onFocus",U),this.clearDelayTimer(),this.isFocusToShow()&&(this.focusTime=Date.now(),this.delaySetPopupVisible(!0,this.$props.focusDelay))},onMousedown:function G(U){this.fireEvents("onMousedown",U),this.preClickTime=Date.now()},onTouchstart:function G(U){this.fireEvents("onTouchstart",U),this.preTouchTime=Date.now()},onBlur:function G(U){contains(U.target,U.relatedTarget||document.activeElement)||(this.fireEvents("onBlur",U),this.clearDelayTimer(),this.isBlurToHide()&&this.delaySetPopupVisible(!1,this.$props.blurDelay))},onContextmenu:function G(U){U.preventDefault(),this.fireEvents("onContextmenu",U),this.setPopupVisible(!0,U)},onContextmenuClose:function G(){this.isContextmenuToShow()&&this.close()},onClick:function G(U){if(this.fireEvents("onClick",U),this.focusTime){var W;if(this.preClickTime&&this.preTouchTime?W=Math.min(this.preClickTime,this.preTouchTime):this.preClickTime?W=this.preClickTime:this.preTouchTime&&(W=this.preTouchTime),Math.abs(W-this.focusTime)<20)return;this.focusTime=0}this.preClickTime=0,this.preTouchTime=0,this.isClickToShow()&&(this.isClickToHide()||this.isBlurToHide())&&U&&U.preventDefault&&U.preventDefault(),U&&U.domEvent&&U.domEvent.preventDefault();var X=!this.$data.sPopupVisible;(this.isClickToHide()&&!X||X&&this.isClickToShow())&&this.setPopupVisible(!this.$data.sPopupVisible,U)},onPopupMouseDown:function G(){var U=this,W=this.vcTriggerContext,X=W===void 0?{}:W;this.hasPopupMouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(function(){U.hasPopupMouseDown=!1},0),X.onPopupMouseDown&&X.onPopupMouseDown.apply(X,arguments)},onDocumentClick:function G(U){if(!(this.$props.mask&&!this.$props.maskClosable)){var W=U.target,X=this.getRootDomNode(),ne=this.getPopupDomNode();(!contains(X,W)||this.isContextMenuOnly())&&!contains(ne,W)&&!this.hasPopupMouseDown&&this.delaySetPopupVisible(!1,.1)}},getPopupDomNode:function G(){var U;return((U=this.popupRef)===null||U===void 0?void 0:U.getElement())||null},getRootDomNode:function G(){var U=this.$props.getTriggerDOMNode;if(U){var W=findDOMNode(this.triggerRef);return findDOMNode(U(W))}try{var X=findDOMNode(this.triggerRef);if(X)return X}catch{}return findDOMNode(this)},handleGetPopupClassFromAlign:function G(U){var W=[],X=this.$props,ne=X.popupPlacement,oe=X.builtinPlacements,le=X.prefixCls,se=X.alignPoint,ue=X.getPopupClassNameFromAlign;return ne&&oe&&W.push(getAlignPopupClassName(oe,le,U,se)),ue&&W.push(ue(U)),W.join(" ")},getPopupAlign:function G(){var U=this.$props,W=U.popupPlacement,X=U.popupAlign,ne=U.builtinPlacements;return W&&ne?getAlignFromPlacement(ne,W,X):X},getComponent:function G(){var U=this,W={};this.isMouseEnterToShow()&&(W.onMouseenter=this.onPopupMouseenter),this.isMouseLeaveToHide()&&(W.onMouseleave=this.onPopupMouseleave),W.onMousedown=this.onPopupMouseDown,W[supportsPassive$1?"onTouchstartPassive":"onTouchstart"]=this.onPopupMouseDown;var X=this.handleGetPopupClassFromAlign,ne=this.getRootDomNode,oe=this.getContainer,le=this.$attrs,se=this.$props,ue=se.prefixCls,ce=se.destroyPopupOnHide,fe=se.popupClassName,me=se.popupAnimation,ve=se.popupTransitionName,be=se.popupStyle,Se=se.mask,_e=se.maskAnimation,Ae=se.maskTransitionName,ke=se.zIndex,Me=se.stretch,Le=se.alignPoint,qe=se.mobile,Je=se.forceRender,Fe=this.$data,Ve=Fe.sPopupVisible,Ze=Fe.point,Xe=_objectSpread2$1(_objectSpread2$1({prefixCls:ue,destroyPopupOnHide:ce,visible:Ve,point:Le?Ze:null,align:this.align,animation:me,getClassNameFromAlign:X,stretch:Me,getRootDomNode:ne,mask:Se,zIndex:ke,transitionName:ve,maskAnimation:_e,maskTransitionName:Ae,getContainer:oe,class:fe,style:be,onAlign:le.onPopupAlign||noop$1},W),{},{ref:this.setPopupRef,mobile:qe,forceRender:Je});return createVNode(Popup,Xe,{default:this.$slots.popup||function(){return getComponent(U,"popup")}})},attachParent:function G(U){var W=this;wrapperRaf.cancel(this.attachId);var X=this.$props,ne=X.getPopupContainer,oe=X.getDocument,le=this.getRootDomNode(),se;ne?(le||ne.length===0)&&(se=ne(le)):se=oe(this.getRootDomNode()).body,se?se.appendChild(U):this.attachId=wrapperRaf(function(){W.attachParent(U)})},getContainer:function G(){var U=this.$props,W=U.getDocument,X=W(this.getRootDomNode()).createElement("div");return X.style.position="absolute",X.style.top="0",X.style.left="0",X.style.width="100%",this.attachParent(X),X},setPopupVisible:function G(U,W){var X=this.alignPoint,ne=this.sPopupVisible,oe=this.onPopupVisibleChange;this.clearDelayTimer(),ne!==U&&(hasProp(this,"popupVisible")||this.setState({sPopupVisible:U,prevPopupVisible:ne}),oe&&oe(U)),X&&W&&U&&this.setPoint(W)},setPoint:function G(U){var W=this.$props.alignPoint;!W||!U||this.setState({point:{pageX:U.pageX,pageY:U.pageY}})},handlePortalUpdate:function G(){this.prevPopupVisible!==this.sPopupVisible&&this.afterPopupVisibleChange(this.sPopupVisible)},delaySetPopupVisible:function G(U,W,X){var ne=this,oe=W*1e3;if(this.clearDelayTimer(),oe){var le=X?{pageX:X.pageX,pageY:X.pageY}:null;this.delayTimer=requestAnimationTimeout(function(){ne.setPopupVisible(U,le),ne.clearDelayTimer()},oe)}else this.setPopupVisible(U,X)},clearDelayTimer:function G(){this.delayTimer&&(cancelAnimationTimeout(this.delayTimer),this.delayTimer=null)},clearOutsideHandler:function G(){this.clickOutsideHandler&&(this.clickOutsideHandler.remove(),this.clickOutsideHandler=null),this.contextmenuOutsideHandler1&&(this.contextmenuOutsideHandler1.remove(),this.contextmenuOutsideHandler1=null),this.contextmenuOutsideHandler2&&(this.contextmenuOutsideHandler2.remove(),this.contextmenuOutsideHandler2=null),this.touchOutsideHandler&&(this.touchOutsideHandler.remove(),this.touchOutsideHandler=null)},createTwoChains:function G(U){var W=function(){},X=getEvents(this);return this.childOriginEvents[U]&&X[U]?this["fire".concat(U)]:(W=this.childOriginEvents[U]||X[U]||W,W)},isClickToShow:function G(){var U=this.$props,W=U.action,X=U.showAction;return W.indexOf("click")!==-1||X.indexOf("click")!==-1},isContextMenuOnly:function G(){var U=this.$props.action;return U==="contextmenu"||U.length===1&&U[0]==="contextmenu"},isContextmenuToShow:function G(){var U=this.$props,W=U.action,X=U.showAction;return W.indexOf("contextmenu")!==-1||X.indexOf("contextmenu")!==-1},isClickToHide:function G(){var U=this.$props,W=U.action,X=U.hideAction;return W.indexOf("click")!==-1||X.indexOf("click")!==-1},isMouseEnterToShow:function G(){var U=this.$props,W=U.action,X=U.showAction;return W.indexOf("hover")!==-1||X.indexOf("mouseenter")!==-1},isMouseLeaveToHide:function G(){var U=this.$props,W=U.action,X=U.hideAction;return W.indexOf("hover")!==-1||X.indexOf("mouseleave")!==-1},isFocusToShow:function G(){var U=this.$props,W=U.action,X=U.showAction;return W.indexOf("focus")!==-1||X.indexOf("focus")!==-1},isBlurToHide:function G(){var U=this.$props,W=U.action,X=U.hideAction;return W.indexOf("focus")!==-1||X.indexOf("blur")!==-1},forcePopupAlign:function G(){if(this.$data.sPopupVisible){var U;(U=this.popupRef)===null||U===void 0||U.forceAlign()}},fireEvents:function G(U,W){this.childOriginEvents[U]&&this.childOriginEvents[U](W);var X=this.$props[U]||this.$attrs[U];X&&X(W)},close:function G(){this.setPopupVisible(!1)}},render:function G(){var U=this,W=this.$attrs,X=filterEmpty(getSlot(this)),ne=this.$props.alignPoint,oe=X[0];this.childOriginEvents=getEvents(oe);var le={key:"trigger"};this.isContextmenuToShow()?le.onContextmenu=this.onContextmenu:le.onContextmenu=this.createTwoChains("onContextmenu"),this.isClickToHide()||this.isClickToShow()?(le.onClick=this.onClick,le.onMousedown=this.onMousedown,le[supportsPassive$1?"onTouchstartPassive":"onTouchstart"]=this.onTouchstart):(le.onClick=this.createTwoChains("onClick"),le.onMousedown=this.createTwoChains("onMousedown"),le[supportsPassive$1?"onTouchstartPassive":"onTouchstart"]=this.createTwoChains("onTouchstart")),this.isMouseEnterToShow()?(le.onMouseenter=this.onMouseenter,ne&&(le.onMousemove=this.onMouseMove)):le.onMouseenter=this.createTwoChains("onMouseenter"),this.isMouseLeaveToHide()?le.onMouseleave=this.onMouseleave:le.onMouseleave=this.createTwoChains("onMouseleave"),this.isFocusToShow()||this.isBlurToHide()?(le.onFocus=this.onFocus,le.onBlur=this.onBlur):(le.onFocus=this.createTwoChains("onFocus"),le.onBlur=function(fe){fe&&(!fe.relatedTarget||!contains(fe.target,fe.relatedTarget))&&U.createTwoChains("onBlur")(fe)});var se=classNames(oe&&oe.props&&oe.props.class,W.class);se&&(le.class=se);var ue=cloneElement(oe,_objectSpread2$1(_objectSpread2$1({},le),{},{ref:"triggerRef"}),!0,!0);if(this.popPortal)return ue;var ce=createVNode(Portal$1,{key:"portal",getContainer:this.getContainer,didUpdate:this.handlePortalUpdate},{default:this.getComponent});return createVNode(Fragment,null,[ce,ue])}});var _excluded$d=["empty"],getBuiltInPlacements=function G(U){var W=U===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:W,adjustY:1}},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:W,adjustY:1}},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:W,adjustY:1}},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:W,adjustY:1}}}},SelectTrigger=defineComponent({name:"SelectTrigger",inheritAttrs:!1,props:{dropdownAlign:Object,visible:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},dropdownClassName:String,dropdownStyle:PropTypes$1.object,placement:String,empty:{type:Boolean,default:void 0},prefixCls:String,popupClassName:String,animation:String,transitionName:String,getPopupContainer:Function,dropdownRender:Function,containerWidth:Number,dropdownMatchSelectWidth:PropTypes$1.oneOfType([Number,Boolean]).def(!0),popupElement:PropTypes$1.any,direction:String,getTriggerDOMNode:Function,onPopupVisibleChange:Function,onPopupMouseEnter:Function},setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=W.expose,le=computed(function(){var ue=U.dropdownMatchSelectWidth;return getBuiltInPlacements(ue)}),se=ref();return oe({getPopupElement:function(){return se.value}}),function(){var ue=_objectSpread2$1(_objectSpread2$1({},U),ne),ce=ue.empty,fe=ce===void 0?!1:ce,me=_objectWithoutProperties(ue,_excluded$d),ve=me.visible,be=me.dropdownAlign,Se=me.prefixCls,_e=me.popupElement,Ae=me.dropdownClassName,ke=me.dropdownStyle,Me=me.direction,Le=Me===void 0?"ltr":Me,qe=me.placement,Je=me.dropdownMatchSelectWidth,Fe=me.containerWidth,Ve=me.dropdownRender,Ze=me.animation,Xe=me.transitionName,dt=me.getPopupContainer,ht=me.getTriggerDOMNode,lt=me.onPopupVisibleChange,xt=me.onPopupMouseEnter,It="".concat(Se,"-dropdown"),mt=_e;Ve&&(mt=Ve({menuNode:_e,props:U}));var ot=Ze?"".concat(It,"-").concat(Ze):Xe,st=_objectSpread2$1({minWidth:"".concat(Fe,"px")},ke);return typeof Je=="number"?st.width="".concat(Je,"px"):Je&&(st.width="".concat(Fe,"px")),createVNode(Trigger,_objectSpread2$1(_objectSpread2$1({},U),{},{showAction:lt?["click"]:[],hideAction:lt?["click"]:[],popupPlacement:qe||(Le==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:le.value,prefixCls:It,popupTransitionName:ot,popupAlign:be,popupVisible:ve,getPopupContainer:dt,popupClassName:classNames(Ae,_defineProperty$1({},"".concat(It,"-empty"),fe)),popupStyle:st,getTriggerDOMNode:ht,onPopupVisibleChange:lt}),{default:X.default,popup:function(){return createVNode("div",{ref:se,onMouseenter:xt},[mt])}})}}});const SelectTrigger$1=SelectTrigger;var KeyCode={MAC_ENTER:3,BACKSPACE:8,TAB:9,NUM_CENTER:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:44,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,QUESTION_MARK:63,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,META:91,WIN_KEY_RIGHT:92,CONTEXT_MENU:93,NUM_ZERO:96,NUM_ONE:97,NUM_TWO:98,NUM_THREE:99,NUM_FOUR:100,NUM_FIVE:101,NUM_SIX:102,NUM_SEVEN:103,NUM_EIGHT:104,NUM_NINE:105,NUM_MULTIPLY:106,NUM_PLUS:107,NUM_MINUS:109,NUM_PERIOD:110,NUM_DIVISION:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLOCK:144,SEMICOLON:186,DASH:189,EQUALS:187,COMMA:188,PERIOD:190,SLASH:191,APOSTROPHE:192,SINGLE_QUOTE:222,OPEN_SQUARE_BRACKET:219,BACKSLASH:220,CLOSE_SQUARE_BRACKET:221,WIN_KEY:224,MAC_FF_META:224,WIN_IME:229,isTextModifyingKeyEvent:function G(U){var W=U.keyCode;if(U.altKey&&!U.ctrlKey||U.metaKey||W>=KeyCode.F1&&W<=KeyCode.F12)return!1;switch(W){case KeyCode.ALT:case KeyCode.CAPS_LOCK:case KeyCode.CONTEXT_MENU:case KeyCode.CTRL:case KeyCode.DOWN:case KeyCode.END:case KeyCode.ESC:case KeyCode.HOME:case KeyCode.INSERT:case KeyCode.LEFT:case KeyCode.MAC_FF_META:case KeyCode.META:case KeyCode.NUMLOCK:case KeyCode.NUM_CENTER:case KeyCode.PAGE_DOWN:case KeyCode.PAGE_UP:case KeyCode.PAUSE:case KeyCode.PRINT_SCREEN:case KeyCode.RIGHT:case KeyCode.SHIFT:case KeyCode.UP:case KeyCode.WIN_KEY:case KeyCode.WIN_KEY_RIGHT:return!1;default:return!0}},isCharacterKey:function G(U){if(U>=KeyCode.ZERO&&U<=KeyCode.NINE||U>=KeyCode.NUM_ZERO&&U<=KeyCode.NUM_MULTIPLY||U>=KeyCode.A&&U<=KeyCode.Z||window.navigator.userAgent.indexOf("WebKit")!==-1&&U===0)return!0;switch(U){case KeyCode.SPACE:case KeyCode.QUESTION_MARK:case KeyCode.NUM_PLUS:case KeyCode.NUM_MINUS:case KeyCode.NUM_PERIOD:case KeyCode.NUM_DIVISION:case KeyCode.SEMICOLON:case KeyCode.DASH:case KeyCode.EQUALS:case KeyCode.COMMA:case KeyCode.PERIOD:case KeyCode.SLASH:case KeyCode.APOSTROPHE:case KeyCode.SINGLE_QUOTE:case KeyCode.OPEN_SQUARE_BRACKET:case KeyCode.BACKSLASH:case KeyCode.CLOSE_SQUARE_BRACKET:return!0;default:return!1}}};const KeyCode$1=KeyCode;var TransBtn=function G(U,W){var X,ne=W.slots,oe=U.class,le=U.customizeIcon,se=U.customizeIconProps,ue=U.onMousedown,ce=U.onClick,fe;return typeof le=="function"?fe=le(se):fe=le,createVNode("span",{class:oe,onMousedown:function(ve){ve.preventDefault(),ue&&ue(ve)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:ce,"aria-hidden":!0},[fe!==void 0?fe:createVNode("span",{class:oe.split(/\s+/).map(function(me){return"".concat(me,"-icon")})},[(X=ne.default)===null||X===void 0?void 0:X.call(ne)])])};TransBtn.inheritAttrs=!1;TransBtn.displayName="TransBtn";TransBtn.props={class:String,customizeIcon:PropTypes$1.any,customizeIconProps:PropTypes$1.any,onMousedown:Function,onClick:Function};const TransBtn$1=TransBtn;function onCompositionStart(G){G.target.composing=!0}function onCompositionEnd(G){!G.target.composing||(G.target.composing=!1,trigger(G.target,"input"))}function trigger(G,U){var W=document.createEvent("HTMLEvents");W.initEvent(U,!0,!0),G.dispatchEvent(W)}function addEventListener$1(G,U,W,X){G.addEventListener(U,W,X)}var antInput={created:function G(U,W){(!W.modifiers||!W.modifiers.lazy)&&(addEventListener$1(U,"compositionstart",onCompositionStart),addEventListener$1(U,"compositionend",onCompositionEnd),addEventListener$1(U,"change",onCompositionEnd))}};const antInputDirective=antInput;var inputProps={inputRef:PropTypes$1.any,prefixCls:String,id:String,inputElement:PropTypes$1.VueNode,disabled:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,editable:{type:Boolean,default:void 0},activeDescendantId:String,value:String,open:{type:Boolean,default:void 0},tabindex:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),attrs:PropTypes$1.object,onKeydown:{type:Function},onMousedown:{type:Function},onChange:{type:Function},onPaste:{type:Function},onCompositionstart:{type:Function},onCompositionend:{type:Function},onFocus:{type:Function},onBlur:{type:Function}},Input=defineComponent({compatConfig:{MODE:3},name:"Input",inheritAttrs:!1,props:inputProps,setup:function G(U){var W=null,X=inject("VCSelectContainerEvent");return function(){var ne,oe,le=U.prefixCls,se=U.id,ue=U.inputElement,ce=U.disabled,fe=U.tabindex,me=U.autofocus,ve=U.autocomplete,be=U.editable,Se=U.activeDescendantId,_e=U.value,Ae=U.onKeydown,ke=U.onMousedown,Me=U.onChange,Le=U.onPaste,qe=U.onCompositionstart,Je=U.onCompositionend,Fe=U.onFocus,Ve=U.onBlur,Ze=U.open,Xe=U.inputRef,dt=U.attrs,ht=ue||withDirectives(createVNode("input",null,null),[[antInputDirective]]),lt=ht.props||{},xt=lt.onKeydown,It=lt.onInput,mt=lt.onFocus,ot=lt.onBlur,st=lt.onMousedown,vt=lt.onCompositionstart,Ot=lt.onCompositionend,wt=lt.style;return ht=cloneElement(ht,_extends(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({type:"search"},lt),{},{id:se,ref:Xe,disabled:ce,tabindex:fe,autocomplete:ve||"off",autofocus:me,class:classNames("".concat(le,"-selection-search-input"),(ne=ht)===null||ne===void 0||(oe=ne.props)===null||oe===void 0?void 0:oe.class),role:"combobox","aria-expanded":Ze,"aria-haspopup":"listbox","aria-owns":"".concat(se,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(se,"_list"),"aria-activedescendant":Se},dt),{},{value:be?_e:"",readonly:!be,unselectable:be?null:"on",style:_objectSpread2$1(_objectSpread2$1({},wt),{},{opacity:be?null:0}),onKeydown:function(qt){Ae(qt),xt&&xt(qt)},onMousedown:function(qt){ke(qt),st&&st(qt)},onInput:function(qt){Me(qt),It&&It(qt)},onCompositionstart:function(qt){qe(qt),vt&&vt(qt)},onCompositionend:function(qt){Je(qt),Ot&&Ot(qt)},onPaste:Le,onFocus:function(){clearTimeout(W),mt&&mt(arguments.length<=0?void 0:arguments[0]),Fe&&Fe(arguments.length<=0?void 0:arguments[0]),X==null||X.focus(arguments.length<=0?void 0:arguments[0])},onBlur:function(){for(var qt=arguments.length,_t=new Array(qt),zt=0;zt<qt;zt++)_t[zt]=arguments[zt];W=setTimeout(function(){ot&&ot(_t[0]),Ve&&Ve(_t[0]),X==null||X.blur(_t[0])},100)}}),ht.type==="textarea"?{}:{type:"search"}),!0,!0),ht}}});const Input$1=Input;var attributes=`accept acceptcharset accesskey action allowfullscreen allowtransparency
alt async autocomplete autofocus autoplay capture cellpadding cellspacing challenge
charset checked classid classname colspan cols content contenteditable contextmenu
controls coords crossorigin data datetime default defer dir disabled download draggable
enctype form formaction formenctype formmethod formnovalidate formtarget frameborder
headers height hidden high href hreflang htmlfor for httpequiv icon id inputmode integrity
is keyparams keytype kind label lang list loop low manifest marginheight marginwidth max maxlength media
mediagroup method min minlength multiple muted name novalidate nonce open
optimum pattern placeholder poster preload radiogroup readonly rel required
reversed role rowspan rows sandbox scope scoped scrolling seamless selected
shape size sizes span spellcheck src srcdoc srclang srcset start step style
summary tabindex target title type usemap value width wmode wrap`,eventsName=`onCopy onCut onPaste onCompositionend onCompositionstart onCompositionupdate onKeydown
    onKeypress onKeyup onFocus onBlur onChange onInput onSubmit onClick onContextmenu onDoubleclick onDblclick
    onDrag onDragend onDragenter onDragexit onDragleave onDragover onDragstart onDrop onMousedown
    onMouseenter onMouseleave onMousemove onMouseout onMouseover onMouseup onSelect onTouchcancel
    onTouchend onTouchmove onTouchstart onTouchstartPassive onTouchmovePassive onScroll onWheel onAbort onCanplay onCanplaythrough
    onDurationchange onEmptied onEncrypted onEnded onError onLoadeddata onLoadedmetadata
    onLoadstart onPause onPlay onPlaying onProgress onRatechange onSeeked onSeeking onStalled onSuspend onTimeupdate onVolumechange onWaiting onLoad onError`,propList="".concat(attributes," ").concat(eventsName).split(/[\s\n]+/),ariaPrefix="aria-",dataPrefix="data-";function match(G,U){return G.indexOf(U)===0}function pickAttrs(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W;U===!1?W={aria:!0,data:!0,attr:!0}:U===!0?W={aria:!0}:W=_objectSpread2$1({},U);var X={};return Object.keys(G).forEach(function(ne){(W.aria&&(ne==="role"||match(ne,ariaPrefix))||W.data&&match(ne,dataPrefix)||W.attr&&(propList.includes(ne)||propList.includes(ne.toLowerCase())))&&(X[ne]=G[ne])}),X}var OverflowContextProviderKey=Symbol("OverflowContextProviderKey"),OverflowContextProvider=defineComponent({compatConfig:{MODE:3},name:"OverflowContextProvider",inheritAttrs:!1,props:{value:{type:Object}},setup:function G(U,W){var X=W.slots;return provide(OverflowContextProviderKey,computed(function(){return U.value})),function(){var ne;return(ne=X.default)===null||ne===void 0?void 0:ne.call(X)}}}),useInjectOverflowContext=function G(){return inject(OverflowContextProviderKey,computed(function(){return null}))},_excluded$c=["prefixCls","invalidate","item","renderItem","responsive","registerSize","itemKey","display","order","component"],UNDEFINED=void 0;const Item$2=defineComponent({compatConfig:{MODE:3},name:"Item",props:{prefixCls:String,item:PropTypes$1.any,renderItem:Function,responsive:Boolean,itemKey:{type:[String,Number]},registerSize:Function,display:Boolean,order:Number,component:PropTypes$1.any,invalidate:Boolean},setup:function G(U,W){var X=W.slots,ne=W.expose,oe=computed(function(){return U.responsive&&!U.display}),le=ref();ne({itemNodeRef:le});function se(ue){U.registerSize(U.itemKey,ue)}return onUnmounted(function(){se(null)}),function(){var ue,ce=U.prefixCls,fe=U.invalidate,me=U.item,ve=U.renderItem,be=U.responsive;U.registerSize,U.itemKey,U.display;var Se=U.order,_e=U.component,Ae=_e===void 0?"div":_e,ke=_objectWithoutProperties(U,_excluded$c),Me=(ue=X.default)===null||ue===void 0?void 0:ue.call(X),Le=ve&&me!==UNDEFINED?ve(me):Me,qe;fe||(qe={opacity:oe.value?0:1,height:oe.value?0:UNDEFINED,overflowY:oe.value?"hidden":UNDEFINED,order:be?Se:UNDEFINED,pointerEvents:oe.value?"none":UNDEFINED,position:oe.value?"absolute":UNDEFINED});var Je={};return oe.value&&(Je["aria-hidden"]=!0),createVNode(ResizeObserver$1,{disabled:!be,onResize:function(Ve){var Ze=Ve.offsetWidth;se(Ze)}},{default:function(){return createVNode(Ae,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({class:classNames(!fe&&ce),style:qe},Je),ke),{},{ref:le}),{default:function(){return[Le]}})}})}}});var _excluded$b=["component"],_excluded2=["className"],_excluded3=["class"];const RawItem=defineComponent({compatConfig:{MODE:3},name:"RawItem",inheritAttrs:!1,props:{component:PropTypes$1.any,title:PropTypes$1.any,id:String,onMouseenter:{type:Function},onMouseleave:{type:Function},onClick:{type:Function},onKeydown:{type:Function},onFocus:{type:Function}},setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=useInjectOverflowContext();return function(){if(!oe.value){var le,se=U.component,ue=se===void 0?"div":se,ce=_objectWithoutProperties(U,_excluded$b);return createVNode(ue,_objectSpread2$1(_objectSpread2$1({},ce),ne),{default:function(){return[(le=X.default)===null||le===void 0?void 0:le.call(X)]}})}var fe=oe.value,me=fe.className,ve=_objectWithoutProperties(fe,_excluded2),be=ne.class,Se=_objectWithoutProperties(ne,_excluded3);return createVNode(OverflowContextProvider,{value:null},{default:function(){return[createVNode(Item$2,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({class:classNames(me,be)},ve),Se),U),X)]}})}}});var _excluded$a=["class","style"],RESPONSIVE="responsive",INVALIDATE="invalidate";function defaultRenderRest(G){return"+ ".concat(G.length," ...")}var overflowProps=function G(){return{id:String,prefixCls:String,data:Array,itemKey:[String,Number,Function],itemWidth:{type:Number,default:10},renderItem:Function,renderRawItem:Function,maxCount:[Number,String],renderRest:Function,renderRawRest:Function,suffix:PropTypes$1.any,component:String,itemComponent:PropTypes$1.any,onVisibleChange:Function,ssr:String,onMousedown:Function}},Overflow=defineComponent({name:"Overflow",inheritAttrs:!1,props:overflowProps(),emits:["visibleChange"],setup:function G(U,W){var X=W.attrs,ne=W.emit,oe=W.slots,le=computed(function(){return U.ssr==="full"}),se=ref(null),ue=computed(function(){return se.value||0}),ce=ref(new Map),fe=ref(0),me=ref(0),ve=ref(0),be=ref(null),Se=ref(null),_e=computed(function(){return Se.value===null&&le.value?Number.MAX_SAFE_INTEGER:Se.value||0}),Ae=ref(!1),ke=computed(function(){return"".concat(U.prefixCls,"-item")}),Me=computed(function(){return Math.max(fe.value,me.value)}),Le=computed(function(){return!!(U.data.length&&U.maxCount===RESPONSIVE)}),qe=computed(function(){return U.maxCount===INVALIDATE}),Je=computed(function(){return Le.value||typeof U.maxCount=="number"&&U.data.length>U.maxCount}),Fe=computed(function(){var ot=U.data;return Le.value?se.value===null&&le.value?ot=U.data:ot=U.data.slice(0,Math.min(U.data.length,ue.value/U.itemWidth)):typeof U.maxCount=="number"&&(ot=U.data.slice(0,U.maxCount)),ot}),Ve=computed(function(){return Le.value?U.data.slice(_e.value+1):U.data.slice(Fe.value.length)}),Ze=function(st,vt){var Ot;return typeof U.itemKey=="function"?U.itemKey(st):(Ot=U.itemKey&&(st==null?void 0:st[U.itemKey]))!==null&&Ot!==void 0?Ot:vt},Xe=computed(function(){return U.renderItem||function(ot){return ot}}),dt=function(st,vt){Se.value=st,vt||(Ae.value=st<U.data.length-1,ne("visibleChange",st))},ht=function(st,vt){se.value=vt.clientWidth},lt=function(st,vt){var Ot=new Map(ce.value);vt===null?Ot.delete(st):Ot.set(st,vt),ce.value=Ot},xt=function(st,vt){fe.value=me.value,me.value=vt},It=function(st,vt){ve.value=vt},mt=function(st){return ce.value.get(Ze(Fe.value[st],st))};return watch$1([ue,ce,me,ve,function(){return U.itemKey},Fe],function(){if(ue.value&&Me.value&&Fe.value){var ot=ve.value,st=Fe.value.length,vt=st-1;if(!st){dt(0),be.value=null;return}for(var Ot=0;Ot<st;Ot+=1){var wt=mt(Ot);if(wt===void 0){dt(Ot-1,!0);break}if(ot+=wt,vt===0&&ot<=ue.value||Ot===vt-1&&ot+mt(vt)<=ue.value){dt(vt),be.value=null;break}else if(ot+Me.value>ue.value){dt(Ot-1),be.value=ot-wt-ve.value+me.value;break}}U.suffix&&mt(0)+ve.value>ue.value&&(be.value=null)}}),function(){var ot=Ae.value&&!!Ve.value.length,st=U.itemComponent,vt=U.renderRawItem,Ot=U.renderRawRest,wt=U.renderRest,Wt=U.prefixCls,qt=Wt===void 0?"rc-overflow":Wt,_t=U.suffix,zt=U.component,nn=zt===void 0?"div":zt,en=U.id,Nt=U.onMousedown,Ut=X.class,Ft=X.style,sn=_objectWithoutProperties(X,_excluded$a),un={};be.value!==null&&Le.value&&(un={position:"absolute",left:"".concat(be.value,"px"),top:0});var je={prefixCls:ke.value,responsive:Le.value,component:st,invalidate:qe.value},ze=vt?function(tt,pt){var at=Ze(tt,pt);return createVNode(OverflowContextProvider,{key:at,value:_objectSpread2$1(_objectSpread2$1({},je),{},{order:pt,item:tt,itemKey:at,registerSize:lt,display:pt<=_e.value})},{default:function(){return[vt(tt,pt)]}})}:function(tt,pt){var at=Ze(tt,pt);return createVNode(Item$2,_objectSpread2$1(_objectSpread2$1({},je),{},{order:pt,key:at,item:tt,renderItem:Xe.value,itemKey:at,registerSize:lt,display:pt<=_e.value}),null)},we=function(){return null},Ie={order:ot?_e.value:Number.MAX_SAFE_INTEGER,className:"".concat(ke.value," ").concat(ke.value,"-rest"),registerSize:xt,display:ot};if(Ot)Ot&&(we=function(){return createVNode(OverflowContextProvider,{value:_objectSpread2$1(_objectSpread2$1({},je),Ie)},{default:function(){return[Ot(Ve.value)]}})});else{var We=wt||defaultRenderRest;we=function(){return createVNode(Item$2,_objectSpread2$1(_objectSpread2$1({},je),Ie),{default:function(){return typeof We=="function"?We(Ve.value):We}})}}var rt=function(){var pt;return createVNode(nn,_objectSpread2$1({id:en,class:classNames(!qe.value&&qt,Ut),style:Ft,onMousedown:Nt},sn),{default:function(){return[Fe.value.map(ze),Je.value?we():null,_t&&createVNode(Item$2,_objectSpread2$1(_objectSpread2$1({},je),{},{order:_e.value,class:"".concat(ke.value,"-suffix"),registerSize:It,display:!0,style:un}),{default:function(){return _t}}),(pt=oe.default)===null||pt===void 0?void 0:pt.call(oe)]}})};return createVNode(ResizeObserver$1,{disabled:!Le.value,onResize:ht},{default:rt})}}});Overflow.Item=RawItem;Overflow.RESPONSIVE=RESPONSIVE;Overflow.INVALIDATE=INVALIDATE;const Overflow$1=Overflow;var TreeSelectLegacyContextPropsKey=Symbol("TreeSelectLegacyContextPropsKey");function useInjectLegacySelectContext(){return inject(TreeSelectLegacyContextPropsKey,{})}var props$1={id:String,prefixCls:String,values:PropTypes$1.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:PropTypes$1.any,placeholder:PropTypes$1.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),removeIcon:PropTypes$1.any,choiceTransitionName:String,maxTagCount:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),maxTagTextLength:Number,maxTagPlaceholder:PropTypes$1.any.def(function(){return function(G){return"+ ".concat(G.length," ...")}}),tagRender:Function,onToggleOpen:{type:Function},onRemove:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},onPreventMouseDown=function G(U){U.preventDefault(),U.stopPropagation()},SelectSelector=defineComponent({name:"MultipleSelectSelector",inheritAttrs:!1,props:props$1,setup:function G(U){var W=ref(),X=ref(0),ne=ref(!1),oe=useInjectLegacySelectContext(),le=computed(function(){return"".concat(U.prefixCls,"-selection")}),se=computed(function(){return U.open||U.mode==="tags"?U.searchValue:""}),ue=computed(function(){return U.mode==="tags"||U.showSearch&&(U.open||ne.value)});onMounted(function(){watch$1(se,function(){X.value=W.value.scrollWidth},{flush:"post",immediate:!0})});function ce(be,Se,_e,Ae,ke){return createVNode("span",{class:classNames("".concat(le.value,"-item"),_defineProperty$1({},"".concat(le.value,"-item-disabled"),_e)),title:typeof be=="string"||typeof be=="number"?be.toString():void 0},[createVNode("span",{class:"".concat(le.value,"-item-content")},[Se]),Ae&&createVNode(TransBtn$1,{class:"".concat(le.value,"-item-remove"),onMousedown:onPreventMouseDown,onClick:ke,customizeIcon:U.removeIcon},{default:function(){return[createTextVNode("\xD7")]}})])}function fe(be,Se,_e,Ae,ke,Me){var Le=function(Ve){onPreventMouseDown(Ve),U.onToggleOpen(!open)},qe=Me;if(oe.keyEntities){var Je;qe=((Je=oe.keyEntities[be])===null||Je===void 0?void 0:Je.node)||{}}return createVNode("span",{key:be,onMousedown:Le},[U.tagRender({label:Se,value:be,disabled:_e,closable:Ae,onClose:ke,option:qe})])}function me(be){var Se=be.disabled,_e=be.label,Ae=be.value,ke=be.option,Me=!U.disabled&&!Se,Le=_e;if(typeof U.maxTagTextLength=="number"&&(typeof _e=="string"||typeof _e=="number")){var qe=String(Le);qe.length>U.maxTagTextLength&&(Le="".concat(qe.slice(0,U.maxTagTextLength),"..."))}var Je=function(Ve){var Ze;Ve&&Ve.stopPropagation(),(Ze=U.onRemove)===null||Ze===void 0||Ze.call(U,be)};return typeof U.tagRender=="function"?fe(Ae,Le,Se,Me,Je,ke):ce(_e,Le,Se,Me,Je)}function ve(be){var Se=U.maxTagPlaceholder,_e=Se===void 0?function(ke){return"+ ".concat(ke.length," ...")}:Se,Ae=typeof _e=="function"?_e(be):_e;return ce(Ae,Ae,!1)}return function(){var be=U.id,Se=U.prefixCls,_e=U.values,Ae=U.open,ke=U.inputRef,Me=U.placeholder,Le=U.disabled,qe=U.autofocus,Je=U.autocomplete,Fe=U.activeDescendantId,Ve=U.tabindex,Ze=U.onInputChange,Xe=U.onInputPaste,dt=U.onInputKeyDown,ht=U.onInputMouseDown,lt=U.onInputCompositionStart,xt=U.onInputCompositionEnd,It=createVNode("div",{class:"".concat(le.value,"-search"),style:{width:X.value+"px"},key:"input"},[createVNode(Input$1,{inputRef:ke,open:Ae,prefixCls:Se,id:be,inputElement:null,disabled:Le,autofocus:qe,autocomplete:Je,editable:ue.value,activeDescendantId:Fe,value:se.value,onKeydown:dt,onMousedown:ht,onChange:Ze,onPaste:Xe,onCompositionstart:lt,onCompositionend:xt,tabindex:Ve,attrs:pickAttrs(U,!0),onFocus:function(){return ne.value=!0},onBlur:function(){return ne.value=!1}},null),createVNode("span",{ref:W,class:"".concat(le.value,"-search-mirror"),"aria-hidden":!0},[se.value,createTextVNode("\xA0")])]),mt=createVNode(Overflow$1,{prefixCls:"".concat(le.value,"-overflow"),data:_e,renderItem:me,renderRest:ve,suffix:It,itemKey:"key",maxCount:U.maxTagCount,key:"overflow"},null);return createVNode(Fragment,null,[mt,!_e.length&&!se.value&&createVNode("span",{class:"".concat(le.value,"-placeholder")},[Me])])}}});const MultipleSelector=SelectSelector;var props={inputElement:PropTypes$1.any,id:String,prefixCls:String,values:PropTypes$1.array,open:{type:Boolean,default:void 0},searchValue:String,inputRef:PropTypes$1.any,placeholder:PropTypes$1.any,disabled:{type:Boolean,default:void 0},mode:String,showSearch:{type:Boolean,default:void 0},autofocus:{type:Boolean,default:void 0},autocomplete:String,activeDescendantId:String,tabindex:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),activeValue:String,backfill:{type:Boolean,default:void 0},optionLabelRender:Function,onInputChange:Function,onInputPaste:Function,onInputKeyDown:Function,onInputMouseDown:Function,onInputCompositionStart:Function,onInputCompositionEnd:Function},SingleSelector=defineComponent({name:"SingleSelector",setup:function G(U){var W=ref(!1),X=computed(function(){return U.mode==="combobox"}),ne=computed(function(){return X.value||U.showSearch}),oe=computed(function(){var fe=U.searchValue||"";return X.value&&U.activeValue&&!W.value&&(fe=U.activeValue),fe}),le=useInjectLegacySelectContext();watch$1([X,function(){return U.activeValue}],function(){X.value&&(W.value=!1)},{immediate:!0});var se=computed(function(){return U.mode!=="combobox"&&!U.open&&!U.showSearch?!1:!!oe.value}),ue=computed(function(){var fe=U.values[0];return fe&&(typeof fe.label=="string"||typeof fe.label=="number")?fe.label.toString():void 0}),ce=function(){if(U.values[0])return null;var me=se.value?{visibility:"hidden"}:void 0;return createVNode("span",{class:"".concat(U.prefixCls,"-selection-placeholder"),style:me},[U.placeholder])};return function(){var fe,me=U.inputElement,ve=U.prefixCls,be=U.id,Se=U.values,_e=U.inputRef,Ae=U.disabled,ke=U.autofocus,Me=U.autocomplete,Le=U.activeDescendantId,qe=U.open,Je=U.tabindex,Fe=U.optionLabelRender,Ve=U.onInputKeyDown,Ze=U.onInputMouseDown,Xe=U.onInputChange,dt=U.onInputPaste,ht=U.onInputCompositionStart,lt=U.onInputCompositionEnd,xt=Se[0],It=null;if(xt&&le.customSlots){var mt,ot,st,vt=(mt=xt.key)!==null&&mt!==void 0?mt:xt.value,Ot=((ot=le.keyEntities[vt])===null||ot===void 0?void 0:ot.node)||{};It=le.customSlots[(st=Ot.slots)===null||st===void 0?void 0:st.title]||le.customSlots.title||xt.label,typeof It=="function"&&(It=It(Ot))}else It=Fe&&xt?Fe(xt.option):xt==null?void 0:xt.label;return createVNode(Fragment,null,[createVNode("span",{class:"".concat(ve,"-selection-search")},[createVNode(Input$1,{inputRef:_e,prefixCls:ve,id:be,open:qe,inputElement:me,disabled:Ae,autofocus:ke,autocomplete:Me,editable:ne.value,activeDescendantId:Le,value:oe.value,onKeydown:Ve,onMousedown:Ze,onChange:function(Wt){W.value=!0,Xe(Wt)},onPaste:dt,onCompositionstart:ht,onCompositionend:lt,tabindex:Je,attrs:pickAttrs(U,!0)},null)]),!X.value&&xt&&!se.value&&createVNode("span",{class:"".concat(ve,"-selection-item"),title:ue.value},[createVNode(Fragment,{key:(fe=xt.key)!==null&&fe!==void 0?fe:xt.value},[It])]),ce()])}}});SingleSelector.props=props;SingleSelector.inheritAttrs=!1;const SingleSelector$1=SingleSelector;function isValidateOpenKey(G){return![KeyCode$1.ESC,KeyCode$1.SHIFT,KeyCode$1.BACKSPACE,KeyCode$1.TAB,KeyCode$1.WIN_KEY,KeyCode$1.ALT,KeyCode$1.META,KeyCode$1.WIN_KEY_RIGHT,KeyCode$1.CTRL,KeyCode$1.SEMICOLON,KeyCode$1.EQUALS,KeyCode$1.CAPS_LOCK,KeyCode$1.CONTEXT_MENU,KeyCode$1.F1,KeyCode$1.F2,KeyCode$1.F3,KeyCode$1.F4,KeyCode$1.F5,KeyCode$1.F6,KeyCode$1.F7,KeyCode$1.F8,KeyCode$1.F9,KeyCode$1.F10,KeyCode$1.F11,KeyCode$1.F12].includes(G)}function useLock(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,U=null,W;onBeforeUnmount(function(){clearTimeout(W)});function X(ne){(ne||U===null)&&(U=ne),clearTimeout(W),W=setTimeout(function(){U=null},G)}return[function(){return U},X]}function createRef(){var G=function U(W){U.current=W};return G}var Selector=defineComponent({name:"Selector",inheritAttrs:!1,props:{id:String,prefixCls:String,showSearch:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},values:PropTypes$1.array,multiple:{type:Boolean,default:void 0},mode:String,searchValue:String,activeValue:String,inputElement:PropTypes$1.any,autofocus:{type:Boolean,default:void 0},activeDescendantId:String,tabindex:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),disabled:{type:Boolean,default:void 0},placeholder:PropTypes$1.any,removeIcon:PropTypes$1.any,maxTagCount:PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string]),maxTagTextLength:Number,maxTagPlaceholder:PropTypes$1.any,tagRender:Function,optionLabelRender:Function,tokenWithEnter:{type:Boolean,default:void 0},choiceTransitionName:String,onToggleOpen:{type:Function},onSearch:Function,onSearchSubmit:Function,onRemove:Function,onInputKeyDown:{type:Function},domRef:Function},setup:function G(U,W){var X=W.expose,ne=createRef(),oe=!1,le=useLock(0),se=_slicedToArray(le,2),ue=se[0],ce=se[1],fe=function(Je){var Fe=Je.which;(Fe===KeyCode$1.UP||Fe===KeyCode$1.DOWN)&&Je.preventDefault(),U.onInputKeyDown&&U.onInputKeyDown(Je),Fe===KeyCode$1.ENTER&&U.mode==="tags"&&!oe&&!U.open&&U.onSearchSubmit(Je.target.value),isValidateOpenKey(Fe)&&U.onToggleOpen(!0)},me=function(){ce(!0)},ve=null,be=function(Je){U.onSearch(Je,!0,oe)!==!1&&U.onToggleOpen(!0)},Se=function(){oe=!0},_e=function(Je){oe=!1,U.mode!=="combobox"&&be(Je.target.value)},Ae=function(Je){var Fe=Je.target.value;if(U.tokenWithEnter&&ve&&/[\r\n]/.test(ve)){var Ve=ve.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");Fe=Fe.replace(Ve,ve)}ve=null,be(Fe)},ke=function(Je){var Fe=Je.clipboardData,Ve=Fe.getData("text");ve=Ve},Me=function(Je){var Fe=Je.target;if(Fe!==ne.current){var Ve=document.body.style.msTouchAction!==void 0;Ve?setTimeout(function(){ne.current.focus()}):ne.current.focus()}},Le=function(Je){var Fe=ue();Je.target!==ne.current&&!Fe&&Je.preventDefault(),(U.mode!=="combobox"&&(!U.showSearch||!Fe)||!U.open)&&(U.open&&U.onSearch("",!0,!1),U.onToggleOpen())};return X({focus:function(){ne.current.focus()},blur:function(){ne.current.blur()}}),function(){var qe=U.prefixCls,Je=U.domRef,Fe=U.mode,Ve={inputRef:ne,onInputKeyDown:fe,onInputMouseDown:me,onInputChange:Ae,onInputPaste:ke,onInputCompositionStart:Se,onInputCompositionEnd:_e},Ze=Fe==="multiple"||Fe==="tags"?createVNode(MultipleSelector,_objectSpread2$1(_objectSpread2$1({},U),Ve),null):createVNode(SingleSelector$1,_objectSpread2$1(_objectSpread2$1({},U),Ve),null);return createVNode("div",{ref:Je,class:"".concat(qe,"-selector"),onClick:Me,onMousedown:Le},[Ze])}}});const Selector$1=Selector;function useSelectTriggerControl(G,U,W){function X(ne){var oe,le,se,ue=ne.target;ue.shadowRoot&&ne.composed&&(ue=ne.composedPath()[0]||ue);var ce=[(oe=G[0])===null||oe===void 0?void 0:oe.value,(le=G[1])===null||le===void 0||(se=le.value)===null||se===void 0?void 0:se.getPopupElement()];U.value&&ce.every(function(fe){return fe&&!fe.contains(ue)&&fe!==ue})&&W(!1)}onMounted(function(){window.addEventListener("mousedown",X)}),onBeforeUnmount(function(){window.removeEventListener("mousedown",X)})}function useDelayReset(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,U=ref(!1),W,X=function(){clearTimeout(W)};onMounted(function(){X()});var ne=function(le,se){X(),W=setTimeout(function(){U.value=le,se&&se()},G)};return[U,ne,X]}var BaseSelectContextKey=Symbol("BaseSelectContextKey");function useProvideBaseSelectProps(G){return provide(BaseSelectContextKey,G)}function useBaseProps(){return inject(BaseSelectContextKey,{})}const isMobile=function(){if(typeof navigator>"u"||typeof window>"u")return!1;var G=navigator.userAgent||navigator.vendor||window.opera;return!!(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(G)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw-(n|u)|c55\/|capi|ccwa|cdm-|cell|chtm|cldc|cmd-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc-s|devi|dica|dmob|do(c|p)o|ds(12|-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(-|_)|g1 u|g560|gene|gf-5|g-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd-(m|p|t)|hei-|hi(pt|ta)|hp( i|ip)|hs-c|ht(c(-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i-(20|go|ma)|i230|iac( |-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|-[a-w])|libw|lynx|m1-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|-([1-8]|c))|phil|pire|pl(ay|uc)|pn-2|po(ck|rt|se)|prox|psio|pt-g|qa-a|qc(07|12|21|32|60|-[2-7]|i-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h-|oo|p-)|sdk\/|se(c(-|0|1)|47|mc|nd|ri)|sgh-|shar|sie(-|m)|sk-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h-|v-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl-|tdg-|tel(i|m)|tim-|t-mo|to(pl|sh)|ts(70|m-|m3|m5)|tx-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas-|your|zeto|zte-/i.test(G==null?void 0:G.substr(0,4)))};function toReactive(G){if(!isRef(G))return reactive(G);var U=new Proxy({},{get:function(X,ne,oe){return Reflect.get(G.value,ne,oe)},set:function(X,ne,oe){return G.value[ne]=oe,!0},deleteProperty:function(X,ne){return Reflect.deleteProperty(G.value,ne)},has:function(X,ne){return Reflect.has(G.value,ne)},ownKeys:function(){return Object.keys(G.value)},getOwnPropertyDescriptor:function(){return{enumerable:!0,configurable:!0}}});return reactive(U)}var _excluded$9=["prefixCls","id","open","defaultOpen","mode","showSearch","searchValue","onSearch","allowClear","clearIcon","showArrow","inputIcon","disabled","loading","getInputElement","getPopupContainer","placement","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","showAction","direction","tokenSeparators","tagRender","optionLabelRender","onPopupScroll","onDropdownVisibleChange","onFocus","onBlur","onKeyup","onKeydown","onMousedown","onClear","omitDomProps","getRawInputElement","displayValues","onDisplayValuesChange","emptyOptions","activeDescendantId","activeValue","OptionList"],DEFAULT_OMIT_PROPS=["value","onChange","removeIcon","placeholder","autofocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabindex","OptionList","notFoundContent"],baseSelectPrivateProps=function G(){return{prefixCls:String,id:String,omitDomProps:Array,displayValues:Array,onDisplayValuesChange:Function,activeValue:String,activeDescendantId:String,onActiveValueChange:Function,searchValue:String,onSearch:Function,onSearchSplit:Function,maxLength:Number,OptionList:PropTypes$1.any,emptyOptions:Boolean}},baseSelectPropsWithoutPrivate=function G(){return{showSearch:{type:Boolean,default:void 0},tagRender:{type:Function},optionLabelRender:{type:Function},direction:{type:String},tabindex:Number,autofocus:Boolean,notFoundContent:PropTypes$1.any,placeholder:PropTypes$1.any,onClear:Function,choiceTransitionName:String,mode:String,disabled:{type:Boolean,default:void 0},loading:{type:Boolean,default:void 0},open:{type:Boolean,default:void 0},defaultOpen:{type:Boolean,default:void 0},onDropdownVisibleChange:{type:Function},getInputElement:{type:Function},getRawInputElement:{type:Function},maxTagTextLength:Number,maxTagCount:{type:[String,Number]},maxTagPlaceholder:PropTypes$1.any,tokenSeparators:{type:Array},allowClear:{type:Boolean,default:void 0},showArrow:{type:Boolean,default:void 0},inputIcon:PropTypes$1.any,clearIcon:PropTypes$1.any,removeIcon:PropTypes$1.any,animation:String,transitionName:String,dropdownStyle:{type:Object},dropdownClassName:String,dropdownMatchSelectWidth:{type:[Boolean,Number],default:void 0},dropdownRender:{type:Function},dropdownAlign:Object,placement:{type:String},getPopupContainer:{type:Function},showAction:{type:Array},onBlur:{type:Function},onFocus:{type:Function},onKeyup:Function,onKeydown:Function,onMousedown:Function,onPopupScroll:Function,onInputKeyDown:Function,onMouseenter:Function,onMouseleave:Function,onClick:Function}},baseSelectProps=function G(){return _objectSpread2$1(_objectSpread2$1({},baseSelectPrivateProps()),baseSelectPropsWithoutPrivate())};function isMultiple(G){return G==="tags"||G==="multiple"}const BaseSelect=defineComponent({compatConfig:{MODE:3},name:"BaseSelect",inheritAttrs:!1,props:initDefaultProps$1(baseSelectProps(),{showAction:[],notFoundContent:"Not Found"}),setup:function G(U,W){var X=W.attrs,ne=W.expose,oe=W.slots,le=computed(function(){return isMultiple(U.mode)}),se=computed(function(){return U.showSearch!==void 0?U.showSearch:le.value||U.mode==="combobox"}),ue=ref(!1);onMounted(function(){ue.value=isMobile()});var ce=useInjectLegacySelectContext(),fe=ref(null),me=createRef(),ve=ref(null),be=ref(null),Se=ref(null),_e=useDelayReset(),Ae=_slicedToArray(_e,3),ke=Ae[0],Me=Ae[1],Le=Ae[2],qe=function(){var ze;(ze=be.value)===null||ze===void 0||ze.focus()},Je=function(){var ze;(ze=be.value)===null||ze===void 0||ze.blur()};ne({focus:qe,blur:Je,scrollTo:function(ze){var we;return(we=Se.value)===null||we===void 0?void 0:we.scrollTo(ze)}});var Fe=computed(function(){var je;if(U.mode!=="combobox")return U.searchValue;var ze=(je=U.displayValues[0])===null||je===void 0?void 0:je.value;return typeof ze=="string"||typeof ze=="number"?String(ze):""}),Ve=U.open!==void 0?U.open:U.defaultOpen,Ze=ref(Ve),Xe=ref(Ve),dt=function(ze){Ze.value=U.open!==void 0?U.open:ze,Xe.value=Ze.value};watch$1(function(){return U.open},function(){dt(U.open)});var ht=computed(function(){return!U.notFoundContent&&U.emptyOptions});watchEffect(function(){Xe.value=Ze.value,(U.disabled||ht.value&&Xe.value&&U.mode==="combobox")&&(Xe.value=!1)});var lt=computed(function(){return ht.value?!1:Xe.value}),xt=function(ze){var we=ze!==void 0?ze:!Xe.value;Ze.value!==we&&!U.disabled&&(dt(we),U.onDropdownVisibleChange&&U.onDropdownVisibleChange(we))},It=computed(function(){return(U.tokenSeparators||[]).some(function(je){return[`
`,`\r
`].includes(je)})}),mt=function(ze,we,Ie){var We,rt=!0,tt=ze;(We=U.onActiveValueChange)===null||We===void 0||We.call(U,null);var pt=Ie?null:getSeparatedContent(ze,U.tokenSeparators);if(U.mode!=="combobox"&&pt){var at;tt="",(at=U.onSearchSplit)===null||at===void 0||at.call(U,pt),xt(!1),rt=!1}return U.onSearch&&Fe.value!==tt&&U.onSearch(tt,{source:we?"typing":"effect"}),rt},ot=function(ze){var we;!ze||!ze.trim()||(we=U.onSearch)===null||we===void 0||we.call(U,ze,{source:"submit"})};watch$1(Xe,function(){!Xe.value&&!le.value&&U.mode!=="combobox"&&mt("",!1,!1)},{immediate:!0,flush:"post"}),watch$1(function(){return U.disabled},function(){Ze.value&&!!U.disabled&&dt(!1)},{immediate:!0});var st=useLock(),vt=_slicedToArray(st,2),Ot=vt[0],wt=vt[1],Wt=function(ze){var we,Ie=Ot(),We=ze.which;if(We===KeyCode$1.ENTER&&(U.mode!=="combobox"&&ze.preventDefault(),Xe.value||xt(!0)),wt(!!Fe.value),We===KeyCode$1.BACKSPACE&&!Ie&&le.value&&!Fe.value&&U.displayValues.length){for(var rt=_toConsumableArray(U.displayValues),tt=null,pt=rt.length-1;pt>=0;pt-=1){var at=rt[pt];if(!at.disabled){rt.splice(pt,1),tt=at;break}}tt&&U.onDisplayValuesChange(rt,{type:"remove",values:[tt]})}for(var it=arguments.length,bt=new Array(it>1?it-1:0),yt=1;yt<it;yt++)bt[yt-1]=arguments[yt];if(Xe.value&&Se.value){var St;(St=Se.value).onKeydown.apply(St,[ze].concat(bt))}(we=U.onKeydown)===null||we===void 0||we.call.apply(we,[U,ze].concat(bt))},qt=function(ze){for(var we=arguments.length,Ie=new Array(we>1?we-1:0),We=1;We<we;We++)Ie[We-1]=arguments[We];if(Xe.value&&Se.value){var rt;(rt=Se.value).onKeyup.apply(rt,[ze].concat(Ie))}U.onKeyup&&U.onKeyup.apply(U,[ze].concat(Ie))},_t=function(ze){var we=U.displayValues.filter(function(Ie){return Ie!==ze});U.onDisplayValuesChange(we,{type:"remove",values:[ze]})},zt=ref(!1),nn=function(){Me(!0),U.disabled||(U.onFocus&&!zt.value&&U.onFocus.apply(U,arguments),U.showAction&&U.showAction.includes("focus")&&xt(!0)),zt.value=!0},en=function(){if(Me(!1,function(){zt.value=!1,xt(!1)}),!U.disabled){var ze=Fe.value;ze&&(U.mode==="tags"?U.onSearch(ze,{source:"submit"}):U.mode==="multiple"&&U.onSearch("",{source:"blur"})),U.onBlur&&U.onBlur.apply(U,arguments)}};provide("VCSelectContainerEvent",{focus:nn,blur:en});var Nt=[];onMounted(function(){Nt.forEach(function(je){return clearTimeout(je)}),Nt.splice(0,Nt.length)}),onBeforeUnmount(function(){Nt.forEach(function(je){return clearTimeout(je)}),Nt.splice(0,Nt.length)});var Ut=function(ze){var we,Ie,We=ze.target,rt=(we=ve.value)===null||we===void 0?void 0:we.getPopupElement();if(rt&&rt.contains(We)){var tt=setTimeout(function(){var bt=Nt.indexOf(tt);if(bt!==-1&&Nt.splice(bt,1),Le(),!ue.value&&!rt.contains(document.activeElement)){var yt;(yt=be.value)===null||yt===void 0||yt.focus()}});Nt.push(tt)}for(var pt=arguments.length,at=new Array(pt>1?pt-1:0),it=1;it<pt;it++)at[it-1]=arguments[it];(Ie=U.onMousedown)===null||Ie===void 0||Ie.call.apply(Ie,[U,ze].concat(at))},Ft=ref(null),sn=getCurrentInstance(),un=function(){sn.update()};return onMounted(function(){watch$1(lt,function(){if(lt.value){var je,ze=Math.ceil((je=fe.value)===null||je===void 0?void 0:je.offsetWidth);Ft.value!==ze&&!Number.isNaN(ze)&&(Ft.value=ze)}},{immediate:!0,flush:"post"})}),useSelectTriggerControl([fe,ve],lt,xt),useProvideBaseSelectProps(toReactive(_objectSpread2$1(_objectSpread2$1({},toRefs(U)),{},{open:Xe,triggerOpen:lt,showSearch:se,multiple:le,toggleOpen:xt}))),function(){var je,ze=_objectSpread2$1(_objectSpread2$1({},U),X),we=ze.prefixCls,Ie=ze.id;ze.open,ze.defaultOpen;var We=ze.mode;ze.showSearch,ze.searchValue,ze.onSearch;var rt=ze.allowClear,tt=ze.clearIcon,pt=ze.showArrow,at=ze.inputIcon,it=ze.disabled,bt=ze.loading,yt=ze.getInputElement,St=ze.getPopupContainer,At=ze.placement,Bt=ze.animation,on=ze.transitionName,cn=ze.dropdownStyle,Oe=ze.dropdownClassName,Pe=ze.dropdownMatchSelectWidth,He=ze.dropdownRender,Ue=ze.dropdownAlign;ze.showAction;var Et=ze.direction;ze.tokenSeparators;var kt=ze.tagRender,Kt=ze.optionLabelRender;ze.onPopupScroll,ze.onDropdownVisibleChange,ze.onFocus,ze.onBlur,ze.onKeyup,ze.onKeydown,ze.onMousedown;var vn=ze.onClear,rn=ze.omitDomProps,$n=ze.getRawInputElement,Fn=ze.displayValues,pi=ze.onDisplayValuesChange,vi=ze.emptyOptions,ji=ze.activeDescendantId,zi=ze.activeValue,ua=ze.OptionList,Cr=_objectWithoutProperties(ze,_excluded$9),_r=We==="combobox"&&yt&&yt()||null,Oi=typeof $n=="function"&&$n(),Tr=_objectSpread2$1({},Cr),Pr;Oi&&(Pr=function(tr){xt(tr)}),DEFAULT_OMIT_PROPS.forEach(function(ti){delete Tr[ti]}),rn==null||rn.forEach(function(ti){delete Tr[ti]});var Ai=pt!==void 0?pt:bt||!le.value&&We!=="combobox",Or;Ai&&(Or=createVNode(TransBtn$1,{class:classNames("".concat(we,"-arrow"),_defineProperty$1({},"".concat(we,"-arrow-loading"),bt)),customizeIcon:at,customizeIconProps:{loading:bt,searchValue:Fe.value,open:Xe.value,focused:ke.value,showSearch:se.value}},null));var Ar,Ri=function(){vn==null||vn(),pi([],{type:"clear",values:Fn}),mt("",!1,!1)};!it&&rt&&(Fn.length||Fe.value)&&(Ar=createVNode(TransBtn$1,{class:"".concat(we,"-clear"),onMousedown:Ri,customizeIcon:tt},{default:function(){return[createTextVNode("\xD7")]}}));var Yr=createVNode(ua,{ref:Se},_objectSpread2$1(_objectSpread2$1({},ce.customSlots),{},{option:oe.option})),ca=classNames(we,X.class,(je={},_defineProperty$1(je,"".concat(we,"-focused"),ke.value),_defineProperty$1(je,"".concat(we,"-multiple"),le.value),_defineProperty$1(je,"".concat(we,"-single"),!le.value),_defineProperty$1(je,"".concat(we,"-allow-clear"),rt),_defineProperty$1(je,"".concat(we,"-show-arrow"),Ai),_defineProperty$1(je,"".concat(we,"-disabled"),it),_defineProperty$1(je,"".concat(we,"-loading"),bt),_defineProperty$1(je,"".concat(we,"-open"),Xe.value),_defineProperty$1(je,"".concat(we,"-customize-input"),_r),_defineProperty$1(je,"".concat(we,"-show-search"),se.value),je)),Zr=createVNode(SelectTrigger$1,{ref:ve,disabled:it,prefixCls:we,visible:lt.value,popupElement:Yr,containerWidth:Ft.value,animation:Bt,transitionName:on,dropdownStyle:cn,dropdownClassName:Oe,direction:Et,dropdownMatchSelectWidth:Pe,dropdownRender:He,dropdownAlign:Ue,placement:At,getPopupContainer:St,empty:vi,getTriggerDOMNode:function(){return me.current},onPopupVisibleChange:Pr,onPopupMouseEnter:un},{default:function(){return Oi?isValidElement(Oi)&&cloneElement(Oi,{ref:me},!1,!0):createVNode(Selector$1,_objectSpread2$1(_objectSpread2$1({},U),{},{domRef:me,prefixCls:we,inputElement:_r,ref:be,id:Ie,showSearch:se.value,mode:We,activeDescendantId:ji,tagRender:kt,optionLabelRender:Kt,values:Fn,open:Xe.value,onToggleOpen:xt,activeValue:zi,searchValue:Fe.value,onSearch:mt,onSearchSubmit:ot,onRemove:_t,tokenWithEnter:It.value}),null)}}),Vi;return Oi?Vi=Zr:Vi=createVNode("div",_objectSpread2$1(_objectSpread2$1({},Tr),{},{class:ca,ref:fe,onMousedown:Ut,onKeydown:Wt,onKeyup:qt}),[ke.value&&!Xe.value&&createVNode("span",{style:{width:0,height:0,display:"flex",overflow:"hidden",opacity:0},"aria-live":"polite"},["".concat(Fn.map(function(ti){var tr=ti.label,da=ti.value;return["number","string"].includes(_typeof$2(tr))?tr:da}).join(", "))]),Zr,Or,Ar]),Vi}}});var Filter=function G(U,W){var X,ne=U.height,oe=U.offset,le=U.prefixCls,se=U.onInnerResize,ue=W.slots,ce={},fe={display:"flex",flexDirection:"column"};return oe!==void 0&&(ce={height:"".concat(ne,"px"),position:"relative",overflow:"hidden"},fe=_objectSpread2$1(_objectSpread2$1({},fe),{},{transform:"translateY(".concat(oe,"px)"),position:"absolute",left:0,right:0,top:0})),createVNode("div",{style:ce},[createVNode(ResizeObserver$1,{onResize:function(ve){var be=ve.offsetHeight;be&&se&&se()}},{default:function(){return[createVNode("div",{style:fe,class:classNames(_defineProperty$1({},"".concat(le,"-holder-inner"),le))},[(X=ue.default)===null||X===void 0?void 0:X.call(ue)])]}})])};Filter.displayName="Filter";Filter.inheritAttrs=!1;Filter.props={prefixCls:String,height:Number,offset:Number,onInnerResize:Function};const Filler=Filter;var Item=function G(U,W){var X,ne=U.setRef,oe=W.slots,le=flattenChildren((X=oe.default)===null||X===void 0?void 0:X.call(oe));return le&&le.length?cloneVNode(le[0],{ref:ne}):le};Item.props={setRef:{type:Function,default:function G(){}}};const Item$1=Item;var MIN_SIZE=20;function getPageY(G){return"touches"in G?G.touches[0].pageY:G.pageY}const ScrollBar=defineComponent({compatConfig:{MODE:3},name:"ScrollBar",inheritAttrs:!1,props:{prefixCls:String,scrollTop:Number,scrollHeight:Number,height:Number,count:Number,onScroll:{type:Function},onStartMove:{type:Function},onStopMove:{type:Function}},setup:function G(){return{moveRaf:null,scrollbarRef:createRef(),thumbRef:createRef(),visibleTimeout:null,state:reactive({dragging:!1,pageY:null,startTop:null,visible:!1})}},watch:{scrollTop:{handler:function G(){this.delayHidden()},flush:"post"}},mounted:function G(){var U,W;(U=this.scrollbarRef.current)===null||U===void 0||U.addEventListener("touchstart",this.onScrollbarTouchStart,supportsPassive$1?{passive:!1}:!1),(W=this.thumbRef.current)===null||W===void 0||W.addEventListener("touchstart",this.onMouseDown,supportsPassive$1?{passive:!1}:!1)},beforeUnmount:function G(){this.removeEvents(),clearTimeout(this.visibleTimeout)},methods:{delayHidden:function G(){var U=this;clearTimeout(this.visibleTimeout),this.state.visible=!0,this.visibleTimeout=setTimeout(function(){U.state.visible=!1},2e3)},onScrollbarTouchStart:function G(U){U.preventDefault()},onContainerMouseDown:function G(U){U.stopPropagation(),U.preventDefault()},patchEvents:function G(){window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("mouseup",this.onMouseUp),this.thumbRef.current.addEventListener("touchmove",this.onMouseMove,supportsPassive$1?{passive:!1}:!1),this.thumbRef.current.addEventListener("touchend",this.onMouseUp)},removeEvents:function G(){window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("mouseup",this.onMouseUp),this.scrollbarRef.current.removeEventListener("touchstart",this.onScrollbarTouchStart,supportsPassive$1?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchstart",this.onMouseDown,supportsPassive$1?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchmove",this.onMouseMove,supportsPassive$1?{passive:!1}:!1),this.thumbRef.current.removeEventListener("touchend",this.onMouseUp),wrapperRaf.cancel(this.moveRaf)},onMouseDown:function G(U){var W=this.$props.onStartMove;_extends(this.state,{dragging:!0,pageY:getPageY(U),startTop:this.getTop()}),W(),this.patchEvents(),U.stopPropagation(),U.preventDefault()},onMouseMove:function G(U){var W=this.state,X=W.dragging,ne=W.pageY,oe=W.startTop,le=this.$props.onScroll;if(wrapperRaf.cancel(this.moveRaf),X){var se=getPageY(U)-ne,ue=oe+se,ce=this.getEnableScrollRange(),fe=this.getEnableHeightRange(),me=fe?ue/fe:0,ve=Math.ceil(me*ce);this.moveRaf=wrapperRaf(function(){le(ve)})}},onMouseUp:function G(){var U=this.$props.onStopMove;this.state.dragging=!1,U(),this.removeEvents()},getSpinHeight:function G(){var U=this.$props,W=U.height,X=U.count,ne=W/X*10;return ne=Math.max(ne,MIN_SIZE),ne=Math.min(ne,W/2),Math.floor(ne)},getEnableScrollRange:function G(){var U=this.$props,W=U.scrollHeight,X=U.height;return W-X||0},getEnableHeightRange:function G(){var U=this.$props.height,W=this.getSpinHeight();return U-W||0},getTop:function G(){var U=this.$props.scrollTop,W=this.getEnableScrollRange(),X=this.getEnableHeightRange();if(U===0||W===0)return 0;var ne=U/W;return ne*X},showScroll:function G(){var U=this.$props,W=U.height,X=U.scrollHeight;return X>W}},render:function G(){var U=this.state,W=U.dragging,X=U.visible,ne=this.$props.prefixCls,oe=this.getSpinHeight()+"px",le=this.getTop()+"px",se=this.showScroll(),ue=se&&X;return createVNode("div",{ref:this.scrollbarRef,class:classNames("".concat(ne,"-scrollbar"),_defineProperty$1({},"".concat(ne,"-scrollbar-show"),se)),style:{width:"8px",top:0,bottom:0,right:0,position:"absolute",display:ue?void 0:"none"},onMousedown:this.onContainerMouseDown,onMousemove:this.delayHidden},[createVNode("div",{ref:this.thumbRef,class:classNames("".concat(ne,"-scrollbar-thumb"),_defineProperty$1({},"".concat(ne,"-scrollbar-thumb-moving"),W)),style:{width:"100%",height:oe,top:le,left:0,position:"absolute",background:"rgba(0, 0, 0, 0.5)",borderRadius:"99px",cursor:"pointer",userSelect:"none"},onMousedown:this.onMouseDown},null)])}});function useHeights(G,U,W,X){var ne=new Map,oe=new Map,le=ref(Symbol("update"));watch$1(G,function(){le.value=Symbol("update")});var se=0;function ue(){se+=1;var fe=se;Promise.resolve().then(function(){fe===se&&ne.forEach(function(me,ve){if(me&&me.offsetParent){var be=me.offsetHeight;oe.get(ve)!==be&&(le.value=Symbol("update"),oe.set(ve,me.offsetHeight))}})})}function ce(fe,me){var ve=U(fe),be=ne.get(ve);me?(ne.set(ve,me.$el||me),ue()):ne.delete(ve),!be!=!me&&(me?W==null||W(fe):X==null||X(fe))}return[ce,ue,oe,le]}function useScrollTo(G,U,W,X,ne,oe,le,se){var ue;return function(ce){if(ce==null){se();return}wrapperRaf.cancel(ue);var fe=U.value,me=X.itemHeight;if(typeof ce=="number")le(ce);else if(ce&&_typeof$2(ce)==="object"){var ve,be=ce.align;"index"in ce?ve=ce.index:ve=fe.findIndex(function(ke){return ne(ke)===ce.key});var Se=ce.offset,_e=Se===void 0?0:Se,Ae=function ke(Me,Le){if(!(Me<0||!G.value)){var qe=G.value.clientHeight,Je=!1,Fe=Le;if(qe){for(var Ve=Le||be,Ze=0,Xe=0,dt=0,ht=Math.min(fe.length,ve),lt=0;lt<=ht;lt+=1){var xt=ne(fe[lt]);Xe=Ze;var It=W.get(xt);dt=Xe+(It===void 0?me:It),Ze=dt,lt===ve&&It===void 0&&(Je=!0)}var mt=G.value.scrollTop,ot=null;switch(Ve){case"top":ot=Xe-_e;break;case"bottom":ot=dt-qe+_e;break;default:{var st=mt+qe;Xe<mt?Fe="top":dt>st&&(Fe="bottom")}}ot!==null&&ot!==mt&&le(ot)}ue=wrapperRaf(function(){Je&&oe(),ke(Me-1,Fe)})}};Ae(5)}}}var isFF=(typeof navigator>"u"?"undefined":_typeof$2(navigator))==="object"&&/Firefox/i.test(navigator.userAgent);const isFF$1=isFF,useOriginScroll=function(G,U){var W=!1,X=null;function ne(){clearTimeout(X),W=!0,X=setTimeout(function(){W=!1},50)}return function(oe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,se=oe<0&&G.value||oe>0&&U.value;return le&&se?(clearTimeout(X),W=!1):(!se||W)&&ne(),!W&&se}};function useFrameWheel(G,U,W,X){var ne=0,oe=null,le=null,se=!1,ue=useOriginScroll(U,W);function ce(me){if(!!G.value){wrapperRaf.cancel(oe);var ve=me.deltaY;ne+=ve,le=ve,!ue(ve)&&(isFF$1||me.preventDefault(),oe=wrapperRaf(function(){var be=se?10:1;X(ne*be),ne=0}))}}function fe(me){!G.value||(se=me.detail===le)}return[ce,fe]}var SMOOTH_PTG=14/15;function useMobileTouchMove(G,U,W){var X=!1,ne=0,oe=null,le=null,se=function(){oe&&(oe.removeEventListener("touchmove",ue),oe.removeEventListener("touchend",ce))},ue=function(be){if(X){var Se=Math.ceil(be.touches[0].pageY),_e=ne-Se;ne=Se,W(_e)&&be.preventDefault(),clearInterval(le),le=setInterval(function(){_e*=SMOOTH_PTG,(!W(_e,!0)||Math.abs(_e)<=.1)&&clearInterval(le)},16)}},ce=function(){X=!1,se()},fe=function(be){se(),be.touches.length===1&&!X&&(X=!0,ne=Math.ceil(be.touches[0].pageY),oe=be.target,oe.addEventListener("touchmove",ue,{passive:!1}),oe.addEventListener("touchend",ce))},me=function(){};onMounted(function(){document.addEventListener("touchmove",me,{passive:!1}),watch$1(G,function(ve){U.value.removeEventListener("touchstart",fe),se(),clearInterval(le),ve&&U.value.addEventListener("touchstart",fe,{passive:!1})},{immediate:!0})}),onBeforeUnmount(function(){document.removeEventListener("touchmove",me)})}var _excluded$8=["prefixCls","height","itemHeight","fullHeight","data","itemKey","virtual","component","onScroll","children","style","class"],EMPTY_DATA=[],ScrollStyle={overflowY:"auto",overflowAnchor:"none"};function renderChildren(G,U,W,X,ne,oe){var le=oe.getKey;return G.slice(U,W+1).map(function(se,ue){var ce=U+ue,fe=ne(se,ce,{}),me=le(se);return createVNode(Item$1,{key:me,setRef:function(be){return X(se,be)}},{default:function(){return[fe]}})})}var List=defineComponent({compatConfig:{MODE:3},name:"List",inheritAttrs:!1,props:{prefixCls:String,data:PropTypes$1.array,height:Number,itemHeight:Number,fullHeight:{type:Boolean,default:void 0},itemKey:{type:[String,Number,Function],required:!0},component:{type:[String,Object]},virtual:{type:Boolean,default:void 0},children:Function,onScroll:Function,onMousedown:Function,onMouseenter:Function,onVisibleChange:Function},setup:function G(U,W){var X=W.expose,ne=computed(function(){var _t=U.height,zt=U.itemHeight,nn=U.virtual;return!!(nn!==!1&&_t&&zt)}),oe=computed(function(){var _t=U.height,zt=U.itemHeight,nn=U.data;return ne.value&&nn&&zt*nn.length>_t}),le=reactive({scrollTop:0,scrollMoving:!1}),se=computed(function(){return U.data||EMPTY_DATA}),ue=shallowRef([]);watch$1(se,function(){ue.value=toRaw(se.value).slice()},{immediate:!0});var ce=shallowRef(function(_t){});watch$1(function(){return U.itemKey},function(_t){typeof _t=="function"?ce.value=_t:ce.value=function(zt){return zt==null?void 0:zt[_t]}},{immediate:!0});var fe=ref(),me=ref(),ve=ref(),be=function(zt){return ce.value(zt)},Se={getKey:be};function _e(_t){var zt;typeof _t=="function"?zt=_t(le.scrollTop):zt=_t;var nn=Xe(zt);fe.value&&(fe.value.scrollTop=nn),le.scrollTop=nn}var Ae=useHeights(ue,be,null,null),ke=_slicedToArray(Ae,4),Me=ke[0],Le=ke[1],qe=ke[2],Je=ke[3],Fe=reactive({scrollHeight:void 0,start:0,end:0,offset:void 0}),Ve=ref(0);onMounted(function(){nextTick(function(){var _t;Ve.value=((_t=me.value)===null||_t===void 0?void 0:_t.offsetHeight)||0})}),onUpdated(function(){nextTick(function(){var _t;Ve.value=((_t=me.value)===null||_t===void 0?void 0:_t.offsetHeight)||0})}),watch$1([ne,ue],function(){ne.value||_extends(Fe,{scrollHeight:void 0,start:0,end:ue.value.length-1,offset:void 0})},{immediate:!0}),watch$1([ne,ue,Ve,oe],function(){ne.value&&!oe.value&&_extends(Fe,{scrollHeight:Ve.value,start:0,end:ue.value.length-1,offset:void 0})},{immediate:!0}),watch$1([oe,ne,function(){return le.scrollTop},ue,Je,function(){return U.height},Ve],function(){if(!(!ne.value||!oe.value)){for(var _t=0,zt,nn,en,Nt=ue.value.length,Ut=ue.value,Ft=le.scrollTop,sn=U.itemHeight,un=U.height,je=Ft+un,ze=0;ze<Nt;ze+=1){var we=Ut[ze],Ie=be(we),We=qe.get(Ie);We===void 0&&(We=sn);var rt=_t+We;zt===void 0&&rt>=Ft&&(zt=ze,nn=_t),en===void 0&&rt>je&&(en=ze),_t=rt}zt===void 0&&(zt=0,nn=0),en===void 0&&(en=Nt-1),en=Math.min(en+1,Nt),_extends(Fe,{scrollHeight:_t,start:zt,end:en,offset:nn})}},{immediate:!0});var Ze=computed(function(){return Fe.scrollHeight-U.height});function Xe(_t){var zt=_t;return Number.isNaN(Ze.value)||(zt=Math.min(zt,Ze.value)),zt=Math.max(zt,0),zt}var dt=computed(function(){return le.scrollTop<=0}),ht=computed(function(){return le.scrollTop>=Ze.value}),lt=useOriginScroll(dt,ht);function xt(_t){var zt=_t;_e(zt)}function It(_t){var zt,nn=_t.currentTarget.scrollTop;Math.abs(nn-le.scrollTop)>=1&&_e(nn),(zt=U.onScroll)===null||zt===void 0||zt.call(U,_t)}var mt=useFrameWheel(ne,dt,ht,function(_t){_e(function(zt){var nn=zt+_t;return nn})}),ot=_slicedToArray(mt,2),st=ot[0],vt=ot[1];useMobileTouchMove(ne,fe,function(_t,zt){return lt(_t,zt)?!1:(st({preventDefault:function(){},deltaY:_t}),!0)});function Ot(_t){ne.value&&_t.preventDefault()}var wt=function(){fe.value&&(fe.value.removeEventListener("wheel",st,supportsPassive$1?{passive:!1}:!1),fe.value.removeEventListener("DOMMouseScroll",vt),fe.value.removeEventListener("MozMousePixelScroll",Ot))};watchEffect(function(){nextTick(function(){fe.value&&(wt(),fe.value.addEventListener("wheel",st,supportsPassive$1?{passive:!1}:!1),fe.value.addEventListener("DOMMouseScroll",vt),fe.value.addEventListener("MozMousePixelScroll",Ot))})}),onBeforeUnmount(function(){wt()});var Wt=useScrollTo(fe,ue,qe,U,be,Le,_e,function(){var _t;(_t=ve.value)===null||_t===void 0||_t.delayHidden()});X({scrollTo:Wt});var qt=computed(function(){var _t=null;return U.height&&(_t=_objectSpread2$1(_defineProperty$1({},U.fullHeight?"height":"maxHeight",U.height+"px"),ScrollStyle),ne.value&&(_t.overflowY="hidden",le.scrollMoving&&(_t.pointerEvents="none"))),_t});return watch$1([function(){return Fe.start},function(){return Fe.end},ue],function(){if(U.onVisibleChange){var _t=ue.value.slice(Fe.start,Fe.end+1);U.onVisibleChange(_t,ue.value)}},{flush:"post"}),{state:le,mergedData:ue,componentStyle:qt,onFallbackScroll:It,onScrollBar:xt,componentRef:fe,useVirtual:ne,calRes:Fe,collectHeight:Le,setInstance:Me,sharedConfig:Se,scrollBarRef:ve,fillerInnerRef:me}},render:function G(){var U=this,W=_objectSpread2$1(_objectSpread2$1({},this.$props),this.$attrs),X=W.prefixCls,ne=X===void 0?"rc-virtual-list":X,oe=W.height;W.itemHeight,W.fullHeight,W.data,W.itemKey,W.virtual;var le=W.component,se=le===void 0?"div":le;W.onScroll;var ue=W.children,ce=ue===void 0?this.$slots.default:ue,fe=W.style,me=W.class,ve=_objectWithoutProperties(W,_excluded$8),be=classNames(ne,me),Se=this.state.scrollTop,_e=this.calRes,Ae=_e.scrollHeight,ke=_e.offset,Me=_e.start,Le=_e.end,qe=this.componentStyle,Je=this.onFallbackScroll,Fe=this.onScrollBar,Ve=this.useVirtual,Ze=this.collectHeight,Xe=this.sharedConfig,dt=this.setInstance,ht=this.mergedData;return createVNode("div",_objectSpread2$1({style:_objectSpread2$1(_objectSpread2$1({},fe),{},{position:"relative"}),class:be},ve),[createVNode(se,{class:"".concat(ne,"-holder"),style:qe,ref:"componentRef",onScroll:Je},{default:function(){return[createVNode(Filler,{prefixCls:ne,height:Ae,offset:ke,onInnerResize:Ze,ref:"fillerInnerRef"},{default:function(){return renderChildren(ht,Me,Le,dt,ce,Xe)}})]}}),Ve&&createVNode(ScrollBar,{ref:"scrollBarRef",prefixCls:ne,scrollTop:Se,height:oe,scrollHeight:Ae,count:ht.length,onScroll:Fe,onStartMove:function(){U.state.scrollMoving=!0},onStopMove:function(){U.state.scrollMoving=!1}},null)])}});const List$1=List;function useMemo(G,U,W){var X=ref(G());return watch$1(U,function(ne,oe){W?W(ne,oe)&&(X.value=G()):X.value=G()}),X}function isPlatformMac(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var SelectContextKey=Symbol("SelectContextKey");function useProvideSelectProps(G){return provide(SelectContextKey,G)}function useSelectProps(){return inject(SelectContextKey,{})}var _excluded$7=["disabled","title","children","style","class","className"];function isTitleType(G){return typeof G=="string"||typeof G=="number"}var OptionList=defineComponent({compatConfig:{MODE:3},name:"OptionList",inheritAttrs:!1,slots:["option"],setup:function G(U,W){var X=W.expose,ne=W.slots,oe=useBaseProps(),le=useSelectProps(),se=computed(function(){return"".concat(oe.prefixCls,"-item")}),ue=useMemo(function(){return le.flattenOptions},[function(){return oe.open},function(){return le.flattenOptions}],function(Fe){return Fe[0]}),ce=createRef(),fe=function(Ve){Ve.preventDefault()},me=function(Ve){ce.current&&ce.current.scrollTo(typeof Ve=="number"?{index:Ve}:Ve)},ve=function(Ve){for(var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Xe=ue.value.length,dt=0;dt<Xe;dt+=1){var ht=(Ve+dt*Ze+Xe)%Xe,lt=ue.value[ht],xt=lt.group,It=lt.data;if(!xt&&!It.disabled)return ht}return-1},be=reactive({activeIndex:ve(0)}),Se=function(Ve){var Ze=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;be.activeIndex=Ve;var Xe={source:Ze?"keyboard":"mouse"},dt=ue.value[Ve];if(!dt){le.onActiveValue(null,-1,Xe);return}le.onActiveValue(dt.value,Ve,Xe)};watch$1([function(){return ue.value.length},function(){return oe.searchValue}],function(){Se(le.defaultActiveFirstOption!==!1?ve(0):-1)},{immediate:!0});var _e=function(Ve){return le.rawValues.has(Ve)&&oe.mode!=="combobox"};watch$1([function(){return oe.open},function(){return oe.searchValue}],function(){if(!oe.multiple&&oe.open&&le.rawValues.size===1){var Fe=Array.from(le.rawValues)[0],Ve=toRaw(ue.value).findIndex(function(Ze){var Xe=Ze.data;return Xe[le.fieldNames.value]===Fe});Ve!==-1&&(Se(Ve),nextTick(function(){me(Ve)}))}oe.open&&nextTick(function(){var Ze;(Ze=ce.current)===null||Ze===void 0||Ze.scrollTo(void 0)})},{immediate:!0,flush:"post"});var Ae=function(Ve){Ve!==void 0&&le.onSelect(Ve,{selected:!le.rawValues.has(Ve)}),oe.multiple||oe.toggleOpen(!1)},ke=function(Ve){return typeof Ve.label=="function"?Ve.label():Ve.label};function Me(Fe){var Ve=ue.value[Fe];if(!Ve)return null;var Ze=Ve.data||{},Xe=Ze.value,dt=Ve.group,ht=pickAttrs(Ze,!0),lt=ke(Ve);return Ve?createVNode("div",_objectSpread2$1(_objectSpread2$1({"aria-label":typeof lt=="string"&&!dt?lt:null},ht),{},{key:Fe,role:dt?"presentation":"option",id:"".concat(oe.id,"_list_").concat(Fe),"aria-selected":_e(Xe)}),[Xe]):null}var Le=function(Ve){var Ze=Ve.which,Xe=Ve.ctrlKey;switch(Ze){case KeyCode$1.N:case KeyCode$1.P:case KeyCode$1.UP:case KeyCode$1.DOWN:{var dt=0;if(Ze===KeyCode$1.UP?dt=-1:Ze===KeyCode$1.DOWN?dt=1:isPlatformMac()&&Xe&&(Ze===KeyCode$1.N?dt=1:Ze===KeyCode$1.P&&(dt=-1)),dt!==0){var ht=ve(be.activeIndex+dt,dt);me(ht),Se(ht,!0)}break}case KeyCode$1.ENTER:{var lt=ue.value[be.activeIndex];lt&&!lt.data.disabled?Ae(lt.value):Ae(void 0),oe.open&&Ve.preventDefault();break}case KeyCode$1.ESC:oe.toggleOpen(!1),oe.open&&Ve.stopPropagation()}},qe=function(){},Je=function(Ve){me(Ve)};return X({onKeydown:Le,onKeyup:qe,scrollTo:Je}),function(){var Fe=oe.id,Ve=oe.notFoundContent,Ze=oe.onPopupScroll,Xe=le.menuItemSelectedIcon,dt=le.fieldNames,ht=le.virtual,lt=le.listHeight,xt=le.listItemHeight,It=ne.option,mt=be.activeIndex,ot=Object.keys(dt).map(function(st){return dt[st]});return ue.value.length===0?createVNode("div",{role:"listbox",id:"".concat(Fe,"_list"),class:"".concat(se.value,"-empty"),onMousedown:fe},[Ve]):createVNode(Fragment,null,[createVNode("div",{role:"listbox",id:"".concat(Fe,"_list"),style:{height:0,width:0,overflow:"hidden"}},[Me(mt-1),Me(mt),Me(mt+1)]),createVNode(List$1,{itemKey:"key",ref:ce,data:ue.value,height:lt,itemHeight:xt,fullHeight:!1,onMousedown:fe,onScroll:Ze,virtual:ht},{default:function(vt,Ot){var wt,Wt=vt.group,qt=vt.groupOption,_t=vt.data,zt=vt.value,nn=_t.key,en=typeof vt.label=="function"?vt.label():vt.label;if(Wt){var Nt,Ut=(Nt=_t.title)!==null&&Nt!==void 0?Nt:isTitleType(en)&&en;return createVNode("div",{class:classNames(se.value,"".concat(se.value,"-group")),title:Ut},[It?It(_t):en!==void 0?en:nn])}var Ft=_t.disabled,sn=_t.title;_t.children;var un=_t.style,je=_t.class,ze=_t.className,we=_objectWithoutProperties(_t,_excluded$7),Ie=omit(we,ot),We=_e(zt),rt="".concat(se.value,"-option"),tt=classNames(se.value,rt,je,ze,(wt={},_defineProperty$1(wt,"".concat(rt,"-grouped"),qt),_defineProperty$1(wt,"".concat(rt,"-active"),mt===Ot&&!Ft),_defineProperty$1(wt,"".concat(rt,"-disabled"),Ft),_defineProperty$1(wt,"".concat(rt,"-selected"),We),wt)),pt=ke(vt),at=!Xe||typeof Xe=="function"||We,it=typeof pt=="number"?pt:pt||zt,bt=isTitleType(it)?it.toString():void 0;return sn!==void 0&&(bt=sn),createVNode("div",_objectSpread2$1(_objectSpread2$1({},Ie),{},{"aria-selected":We,class:tt,title:bt,onMousemove:function(St){we.onMousemove&&we.onMousemove(St),!(mt===Ot||Ft)&&Se(Ot)},onClick:function(St){Ft||Ae(zt),we.onClick&&we.onClick(St)},style:un}),[createVNode("div",{class:"".concat(rt,"-content")},[It?It(_t):it]),isValidElement(Xe)||We,at&&createVNode(TransBtn$1,{class:"".concat(se.value,"-option-state"),customizeIcon:Xe,customizeIconProps:{isSelected:We}},{default:function(){return[We?"\u2713":null]}})])}})])}}});const OptionList$1=OptionList;var _excluded$6=["value","disabled"];function convertNodeToOption(G){var U=G.key,W=G.children,X=G.props,ne=X.value,oe=X.disabled,le=_objectWithoutProperties(X,_excluded$6),se=W==null?void 0:W.default;return _objectSpread2$1({key:U,value:ne!==void 0?ne:U,children:se,disabled:oe||oe===""},le)}function convertChildrenToData(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,W=flattenChildren(G).map(function(X,ne){var oe;if(!isValidElement(X)||!X.type)return null;var le=X.type.isSelectOptGroup,se=X.key,ue=X.children,ce=X.props;if(U||!le)return convertNodeToOption(X);var fe=ue&&ue.default?ue.default():void 0,me=(ce==null?void 0:ce.label)||((oe=ue.label)===null||oe===void 0?void 0:oe.call(ue))||se;return _objectSpread2$1(_objectSpread2$1({key:"__RC_SELECT_GRP__".concat(se===null?ne:String(se),"__")},ce),{},{label:me,options:convertChildrenToData(fe||[])})}).filter(function(X){return X});return W}function useOptions(G,U,W){var X=shallowRef(),ne=shallowRef(),oe=shallowRef(),le=shallowRef([]);return watch$1([G,U],function(){G.value?le.value=toRaw(G.value).slice():le.value=convertChildrenToData(U.value)},{immediate:!0,deep:!0}),watchEffect(function(){var se=le.value,ue=new Map,ce=new Map,fe=W.value;function me(ve){for(var be=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Se=0;Se<ve.length;Se+=1){var _e=ve[Se];!_e[fe.options]||be?(ue.set(_e[fe.value],_e),ce.set(_e[fe.label],_e)):me(_e[fe.options],!0)}}me(se),X.value=se,ne.value=ue,oe.value=ce}),{options:X,valueOptions:ne,labelOptions:oe}}var uuid$2=0,isBrowserClient=canUseDom();function getUUID$1(){var G;return isBrowserClient?(G=uuid$2,uuid$2+=1):G="TEST_OR_SSR",G}function useId(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ref(""),U="rc_select_".concat(getUUID$1());return G.value||U}function toArray(G){return Array.isArray(G)?G:G!==void 0?[G]:[]}function includes(G,U){return toArray(G).join("").toUpperCase().includes(U)}const useFilterOptions=function(G,U,W,X,ne){return computed(function(){var oe=W.value,le=ne==null?void 0:ne.value,se=X==null?void 0:X.value;if(!oe||se===!1)return G.value;var ue=U.value,ce=ue.options,fe=ue.label,me=ue.value,ve=[],be=typeof se=="function",Se=oe.toUpperCase(),_e=be?se:function(ke,Me){return le?includes(Me[le],Se):Me[ce]?includes(Me[fe!=="children"?fe:"label"],Se):includes(Me[me],Se)},Ae=be?function(ke){return injectPropsWithOption(ke)}:function(ke){return ke};return G.value.forEach(function(ke){if(ke[ce]){var Me=_e(oe,Ae(ke));if(Me)ve.push(ke);else{var Le=ke[ce].filter(function(qe){return _e(oe,Ae(qe))});Le.length&&ve.push(_objectSpread2$1(_objectSpread2$1({},ke),{},_defineProperty$1({},ce,Le)))}return}_e(oe,Ae(ke))&&ve.push(ke)}),ve})},useCache=function(G,U){var W=shallowRef({values:new Map,options:new Map}),X=computed(function(){var oe=W.value,le=oe.values,se=oe.options,ue=G.value.map(function(me){if(me.label===void 0){var ve;return _objectSpread2$1(_objectSpread2$1({},me),{},{label:(ve=le.get(me.value))===null||ve===void 0?void 0:ve.label})}return me}),ce=new Map,fe=new Map;return ue.forEach(function(me){ce.set(me.value,me),fe.set(me.value,U.value.get(me.value)||se.get(me.value))}),W.value.values=ce,W.value.options=fe,ue}),ne=function(le){return U.value.get(le)||W.value.options.get(le)};return[X,ne]};function useMergedState(G,U){var W=U||{},X=W.defaultValue,ne=W.value,oe=ne===void 0?ref():ne,le=typeof G=="function"?G():G;oe.value!==void 0&&(le=unref(oe)),X!==void 0&&(le=typeof X=="function"?X():X);var se=ref(le),ue=ref(le);watchEffect(function(){var fe=oe.value!==void 0?oe.value:se.value;U.postState&&(fe=U.postState(fe)),ue.value=fe});function ce(fe){var me=ue.value;se.value=fe,toRaw(ue.value)!==fe&&U.onChange&&U.onChange(fe,me)}return watch$1(oe,function(){se.value=oe.value}),[ue,ce]}function useState(G){var U=typeof G=="function"?G():G,W=ref(U);function X(ne){W.value=ne}return[W,X]}var OMIT_DOM_PROPS=["inputValue"];function selectProps$1(){return _objectSpread2$1(_objectSpread2$1({},baseSelectPropsWithoutPrivate()),{},{prefixCls:String,id:String,backfill:{type:Boolean,default:void 0},fieldNames:Object,inputValue:String,searchValue:String,onSearch:Function,autoClearSearchValue:{type:Boolean,default:void 0},onSelect:Function,onDeselect:Function,filterOption:{type:[Boolean,Function],default:void 0},filterSort:Function,optionFilterProp:String,optionLabelProp:String,options:Array,defaultActiveFirstOption:{type:Boolean,default:void 0},virtual:{type:Boolean,default:void 0},listHeight:Number,listItemHeight:Number,menuItemSelectedIcon:PropTypes$1.any,mode:String,labelInValue:{type:Boolean,default:void 0},value:PropTypes$1.any,defaultValue:PropTypes$1.any,onChange:Function,children:Array})}function isRawValue(G){return!G||_typeof$2(G)!=="object"}const Select$1=defineComponent({compatConfig:{MODE:3},name:"Select",inheritAttrs:!1,props:initDefaultProps$1(selectProps$1(),{prefixCls:"vc-select",autoClearSearchValue:!0,listHeight:200,listItemHeight:20,dropdownMatchSelectWidth:!0}),setup:function G(U,W){var X=W.expose,ne=W.attrs,oe=W.slots,le=useId(toRef(U,"id")),se=computed(function(){return isMultiple(U.mode)}),ue=computed(function(){return!!(!U.options&&U.children)}),ce=computed(function(){return U.filterOption===void 0&&U.mode==="combobox"?!1:U.filterOption}),fe=computed(function(){return fillFieldNames(U.fieldNames,ue.value)}),me=useMergedState("",{value:computed(function(){return U.searchValue!==void 0?U.searchValue:U.inputValue}),postState:function(it){return it||""}}),ve=_slicedToArray(me,2),be=ve[0],Se=ve[1],_e=useOptions(toRef(U,"options"),toRef(U,"children"),fe),Ae=_e.valueOptions,ke=_e.labelOptions,Me=_e.options,Le=function(it){var bt=toArray(it);return bt.map(function(yt){var St,At,Bt,on;if(isRawValue(yt))St=yt;else{var cn;Bt=yt.key,At=yt.label,St=(cn=yt.value)!==null&&cn!==void 0?cn:Bt}var Oe=Ae.value.get(St);if(Oe){var Pe;At===void 0&&(At=Oe==null?void 0:Oe[U.optionLabelProp||fe.value.label]),Bt===void 0&&(Bt=(Pe=Oe==null?void 0:Oe.key)!==null&&Pe!==void 0?Pe:St),on=Oe==null?void 0:Oe.disabled}return{label:At,value:St,key:Bt,disabled:on,option:Oe}})},qe=useMergedState(U.defaultValue,{value:toRef(U,"value")}),Je=_slicedToArray(qe,2),Fe=Je[0],Ve=Je[1],Ze=computed(function(){var at,it=Le(Fe.value);return U.mode==="combobox"&&!((at=it[0])!==null&&at!==void 0&&at.value)?[]:it}),Xe=useCache(Ze,Ae),dt=_slicedToArray(Xe,2),ht=dt[0],lt=dt[1],xt=computed(function(){if(!U.mode&&ht.value.length===1){var at=ht.value[0];if(at.value===null&&(at.label===null||at.label===void 0))return[]}return ht.value.map(function(it){var bt;return _objectSpread2$1(_objectSpread2$1({},it),{},{label:(bt=typeof it.label=="function"?it.label():it.label)!==null&&bt!==void 0?bt:it.value})})}),It=computed(function(){return new Set(ht.value.map(function(at){return at.value}))});watchEffect(function(){if(U.mode==="combobox"){var at,it=(at=ht.value[0])===null||at===void 0?void 0:at.value;it!=null&&Se(String(it))}},{flush:"post"});var mt=function(it,bt){var yt,St=bt!=null?bt:it;return yt={},_defineProperty$1(yt,fe.value.value,it),_defineProperty$1(yt,fe.value.label,St),yt},ot=shallowRef();watchEffect(function(){if(U.mode!=="tags"){ot.value=Me.value;return}var at=Me.value.slice(),it=function(yt){return Ae.value.has(yt)};_toConsumableArray(ht.value).sort(function(bt,yt){return bt.value<yt.value?-1:1}).forEach(function(bt){var yt=bt.value;it(yt)||at.push(mt(yt,bt.label))}),ot.value=at});var st=useFilterOptions(ot,fe,be,ce,toRef(U,"optionFilterProp")),vt=computed(function(){return U.mode!=="tags"||!be.value||st.value.some(function(at){return at[U.optionFilterProp||"value"]===be.value})?st.value:[mt(be.value)].concat(_toConsumableArray(st.value))}),Ot=computed(function(){return U.filterSort?_toConsumableArray(vt.value).sort(function(at,it){return U.filterSort(at,it)}):vt.value}),wt=computed(function(){return flattenOptions(Ot.value,{fieldNames:fe.value,childrenAsData:ue.value})}),Wt=function(it){var bt=Le(it);if(Ve(bt),U.onChange&&(bt.length!==ht.value.length||bt.some(function(At,Bt){var on;return((on=ht.value[Bt])===null||on===void 0?void 0:on.value)!==(At==null?void 0:At.value)}))){var yt=U.labelInValue?bt.map(function(At){return _objectSpread2$1(_objectSpread2$1({},At),{},{originLabel:At.label,label:typeof At.label=="function"?At.label():At.label})}):bt.map(function(At){return At.value}),St=bt.map(function(At){return injectPropsWithOption(lt(At.value))});U.onChange(se.value?yt:yt[0],se.value?St:St[0])}},qt=useState(null),_t=_slicedToArray(qt,2),zt=_t[0],nn=_t[1],en=useState(0),Nt=_slicedToArray(en,2),Ut=Nt[0],Ft=Nt[1],sn=computed(function(){return U.defaultActiveFirstOption!==void 0?U.defaultActiveFirstOption:U.mode!=="combobox"}),un=function(it,bt){var yt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},St=yt.source,At=St===void 0?"keyboard":St;Ft(bt),U.backfill&&U.mode==="combobox"&&it!==null&&At==="keyboard"&&nn(String(it))},je=function(it,bt){var yt=function(){var Et,kt=lt(it),Kt=kt==null?void 0:kt[fe.value.label];return[U.labelInValue?{label:typeof Kt=="function"?Kt():Kt,originLabel:Kt,value:it,key:(Et=kt==null?void 0:kt.key)!==null&&Et!==void 0?Et:it}:it,injectPropsWithOption(kt)]};if(bt&&U.onSelect){var St=yt(),At=_slicedToArray(St,2),Bt=At[0],on=At[1];U.onSelect(Bt,on)}else if(!bt&&U.onDeselect){var cn=yt(),Oe=_slicedToArray(cn,2),Pe=Oe[0],He=Oe[1];U.onDeselect(Pe,He)}},ze=function(it,bt){var yt,St=se.value?bt.selected:!0;St?yt=se.value?[].concat(_toConsumableArray(ht.value),[it]):[it]:yt=ht.value.filter(function(At){return At.value!==it}),Wt(yt),je(it,St),U.mode==="combobox"?nn(""):(!se.value||U.autoClearSearchValue)&&(Se(""),nn(""))},we=function(it,bt){Wt(it),(bt.type==="remove"||bt.type==="clear")&&bt.values.forEach(function(yt){je(yt.value,!1)})},Ie=function(it,bt){if(Se(it),nn(null),bt.source==="submit"){var yt=(it||"").trim();if(yt){var St=Array.from(new Set([].concat(_toConsumableArray(It.value),[yt])));Wt(St),je(yt,!0),Se("")}return}if(bt.source!=="blur"){var At;U.mode==="combobox"&&Wt(it),(At=U.onSearch)===null||At===void 0||At.call(U,it)}},We=function(it){var bt=it;U.mode!=="tags"&&(bt=it.map(function(St){var At=ke.value.get(St);return At==null?void 0:At.value}).filter(function(St){return St!==void 0}));var yt=Array.from(new Set([].concat(_toConsumableArray(It.value),_toConsumableArray(bt))));Wt(yt),yt.forEach(function(St){je(St,!0)})},rt=computed(function(){return U.virtual!==!1&&U.dropdownMatchSelectWidth!==!1});useProvideSelectProps(toReactive(_objectSpread2$1(_objectSpread2$1({},_e),{},{flattenOptions:wt,onActiveValue:un,defaultActiveFirstOption:sn,onSelect:ze,menuItemSelectedIcon:toRef(U,"menuItemSelectedIcon"),rawValues:It,fieldNames:fe,virtual:rt,listHeight:toRef(U,"listHeight"),listItemHeight:toRef(U,"listItemHeight"),childrenAsData:ue})));var tt=ref();X({focus:function(){var it;(it=tt.value)===null||it===void 0||it.focus()},blur:function(){var it;(it=tt.value)===null||it===void 0||it.blur()},scrollTo:function(it){var bt;(bt=tt.value)===null||bt===void 0||bt.scrollTo(it)}});var pt=computed(function(){return omit(U,["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"])});return function(){return createVNode(BaseSelect,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},pt.value),ne),{},{id:le,prefixCls:U.prefixCls,ref:tt,omitDomProps:OMIT_DOM_PROPS,mode:U.mode,displayValues:xt.value,onDisplayValuesChange:we,searchValue:be.value,onSearch:Ie,onSearchSplit:We,dropdownMatchSelectWidth:U.dropdownMatchSelectWidth,OptionList:OptionList$1,emptyOptions:!wt.value.length,activeValue:zt.value,activeDescendantId:"".concat(le,"_list_").concat(Ut.value)}),oe)}}});var Option=function G(){return null};Option.isSelectOption=!0;Option.displayName="ASelectOption";const Option$1=Option;var OptGroup=function G(){return null};OptGroup.isSelectOptGroup=!0;OptGroup.displayName="ASelectOptGroup";const OptGroup$1=OptGroup;function getIcons(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=G.loading,X=G.multiple,ne=G.prefixCls,oe=G.suffixIcon||U.suffixIcon&&U.suffixIcon(),le=G.clearIcon||U.clearIcon&&U.clearIcon(),se=G.menuItemSelectedIcon||U.menuItemSelectedIcon&&U.menuItemSelectedIcon(),ue=G.removeIcon||U.removeIcon&&U.removeIcon(),ce=le;le||(ce=createVNode(CloseCircleFilled$1,null,null));var fe=null;if(oe!==void 0)fe=oe;else if(W)fe=createVNode(LoadingOutlined$1,{spin:!0},null);else{var me="".concat(ne,"-suffix");fe=function(_e){var Ae=_e.open,ke=_e.showSearch;return Ae&&ke?createVNode(SearchOutlined$1,{class:me},null):createVNode(DownOutlined$1,{class:me},null)}}var ve=null;se!==void 0?ve=se:X?ve=createVNode(CheckOutlined$1,null,null):ve=null;var be=null;return ue!==void 0?be=ue:be=createVNode(CloseOutlined$1,null,null),{clearIcon:ce,suffixIcon:fe,itemIcon:ve,removeIcon:be}}var ContextKey=Symbol("ContextProps"),InternalContextKey=Symbol("InternalContextProps"),defaultContext={id:computed(function(){}),onFieldBlur:function G(){},onFieldChange:function G(){},clearValidate:function G(){}},defaultInternalContext={addFormItemField:function G(){},removeFormItemField:function G(){}},useInjectFormItemContext=function G(){var U=inject(InternalContextKey,defaultInternalContext),W=Symbol("FormItemFieldKey"),X=getCurrentInstance();return U.addFormItemField(W,X.type),onBeforeUnmount(function(){U.removeFormItemField(W)}),provide(InternalContextKey,defaultInternalContext),provide(ContextKey,defaultContext),inject(ContextKey,defaultContext)};defineComponent({compatConfig:{MODE:3},name:"AFormItemRest",setup:function G(U,W){var X=W.slots;return provide(InternalContextKey,defaultInternalContext),provide(ContextKey,defaultContext),function(){var ne;return(ne=X.default)===null||ne===void 0?void 0:ne.call(X)}}});var selectProps=function G(){return _objectSpread2$1(_objectSpread2$1({},omit(selectProps$1(),["inputIcon","mode","getInputElement","getRawInputElement","backfill"])),{},{value:{type:[Array,Object,String,Number]},defaultValue:{type:[Array,Object,String,Number]},notFoundContent:PropTypes$1.any,suffixIcon:PropTypes$1.any,itemIcon:PropTypes$1.any,size:String,mode:String,bordered:{type:Boolean,default:!0},transitionName:String,choiceTransitionName:{type:String,default:""},"onUpdate:value":Function})},SECRET_COMBOBOX_MODE_DO_NOT_USE="SECRET_COMBOBOX_MODE_DO_NOT_USE",Select=defineComponent({compatConfig:{MODE:3},name:"ASelect",Option:Option$1,OptGroup:OptGroup$1,inheritAttrs:!1,props:initDefaultProps$1(selectProps(),{listHeight:256,listItemHeight:24}),SECRET_COMBOBOX_MODE_DO_NOT_USE,slots:["notFoundContent","suffixIcon","itemIcon","removeIcon","clearIcon","dropdownRender","option","placeholder","tagRender","maxTagPlaceholder","optionLabel"],setup:function G(U,W){var X=W.attrs,ne=W.emit,oe=W.slots,le=W.expose,se=ref(),ue=useInjectFormItemContext(),ce=function(){var dt;(dt=se.value)===null||dt===void 0||dt.focus()},fe=function(){var dt;(dt=se.value)===null||dt===void 0||dt.blur()},me=function(dt){var ht;(ht=se.value)===null||ht===void 0||ht.scrollTo(dt)},ve=computed(function(){var Xe=U.mode;if(Xe!=="combobox")return Xe===SECRET_COMBOBOX_MODE_DO_NOT_USE?"combobox":Xe}),be=useConfigInject("select",U),Se=be.prefixCls,_e=be.direction,Ae=be.configProvider,ke=be.size,Me=be.getPrefixCls,Le=computed(function(){return Me()}),qe=computed(function(){return getTransitionName$1(Le.value,"slide-up",U.transitionName)}),Je=computed(function(){var Xe;return classNames((Xe={},_defineProperty$1(Xe,"".concat(Se.value,"-lg"),ke.value==="large"),_defineProperty$1(Xe,"".concat(Se.value,"-sm"),ke.value==="small"),_defineProperty$1(Xe,"".concat(Se.value,"-rtl"),_e.value==="rtl"),_defineProperty$1(Xe,"".concat(Se.value,"-borderless"),!U.bordered),Xe))}),Fe=function(){for(var dt=arguments.length,ht=new Array(dt),lt=0;lt<dt;lt++)ht[lt]=arguments[lt];ne("update:value",ht[0]),ne.apply(void 0,["change"].concat(ht)),ue.onFieldChange()},Ve=function(dt){ne("blur",dt),ue.onFieldBlur()};le({blur:fe,focus:ce,scrollTo:me});var Ze=computed(function(){return ve.value==="multiple"||ve.value==="tags"});return function(){var Xe,dt,ht=U.notFoundContent,lt=U.listHeight,xt=lt===void 0?256:lt,It=U.listItemHeight,mt=It===void 0?24:It,ot=U.getPopupContainer,st=U.dropdownClassName,vt=U.virtual,Ot=U.dropdownMatchSelectWidth,wt=U.id,Wt=wt===void 0?ue.id.value:wt,qt=U.placeholder,_t=qt===void 0?(Xe=oe.placeholder)===null||Xe===void 0?void 0:Xe.call(oe):qt,zt=Ae.renderEmpty,nn=Ae.getPopupContainer,en;ht!==void 0?en=ht:oe.notFoundContent?en=oe.notFoundContent():ve.value==="combobox"?en=null:en=zt("Select");var Nt=getIcons(_objectSpread2$1(_objectSpread2$1({},U),{},{multiple:Ze.value,prefixCls:Se.value}),oe),Ut=Nt.suffixIcon,Ft=Nt.itemIcon,sn=Nt.removeIcon,un=Nt.clearIcon,je=omit(U,["prefixCls","suffixIcon","itemIcon","removeIcon","clearIcon","size","bordered"]),ze=classNames(st,_defineProperty$1({},"".concat(Se.value,"-dropdown-").concat(_e.value),_e.value==="rtl"));return createVNode(Select$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({ref:se,virtual:vt,dropdownMatchSelectWidth:Ot},je),X),{},{placeholder:_t,listHeight:xt,listItemHeight:mt,mode:ve.value,prefixCls:Se.value,direction:_e.value,inputIcon:Ut,menuItemSelectedIcon:Ft,removeIcon:sn,clearIcon:un,notFoundContent:en,class:[Je.value,X.class],getPopupContainer:ot||nn,dropdownClassName:ze,onChange:Fe,onBlur:Ve,id:Wt,dropdownRender:je.dropdownRender||oe.dropdownRender,transitionName:qe.value,children:(dt=oe.default)===null||dt===void 0?void 0:dt.call(oe),tagRender:U.tagRender||oe.tagRender,optionLabelRender:oe.optionLabel,maxTagPlaceholder:U.maxTagPlaceholder||oe.maxTagPlaceholder}),{option:oe.option})}}});Select.install=function(G){return G.component(Select.name,Select),G.component(Select.Option.displayName,Select.Option),G.component(Select.OptGroup.displayName,Select.OptGroup),G};Select.Option;Select.OptGroup;const VcSelect=Select;var responsiveMap={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)",xxxl:"(min-width: 2000px)"},subscribers=new Map,subUid=-1,screens={},responsiveObserve={matchHandlers:{},dispatch:function G(U){return screens=U,subscribers.forEach(function(W){return W(screens)}),subscribers.size>=1},subscribe:function G(U){return subscribers.size||this.register(),subUid+=1,subscribers.set(subUid,U),U(screens),subUid},unsubscribe:function G(U){subscribers.delete(U),subscribers.size||this.unregister()},unregister:function G(){var U=this;Object.keys(responsiveMap).forEach(function(W){var X=responsiveMap[W],ne=U.matchHandlers[X];ne==null||ne.mql.removeListener(ne==null?void 0:ne.listener)}),subscribers.clear()},register:function G(){var U=this;Object.keys(responsiveMap).forEach(function(W){var X=responsiveMap[W],ne=function(se){var ue=se.matches;U.dispatch(_objectSpread2$1(_objectSpread2$1({},screens),{},_defineProperty$1({},W,ue)))},oe=window.matchMedia(X);oe.addListener(ne),U.matchHandlers[X]={mql:oe,listener:ne},ne(oe)})}};const ResponsiveObserve=responsiveObserve;function useBreakpoint(){var G=ref({}),U=null;return onMounted(function(){U=ResponsiveObserve.subscribe(function(W){G.value=W})}),onUnmounted(function(){ResponsiveObserve.unsubscribe(U)}),G}var autoAdjustOverflow={adjustX:1,adjustY:1},targetOffset$1=[0,0],placements={left:{points:["cr","cl"],overflow:autoAdjustOverflow,offset:[-4,0],targetOffset:targetOffset$1},right:{points:["cl","cr"],overflow:autoAdjustOverflow,offset:[4,0],targetOffset:targetOffset$1},top:{points:["bc","tc"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset:targetOffset$1},bottom:{points:["tc","bc"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset:targetOffset$1},topLeft:{points:["bl","tl"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset:targetOffset$1},leftTop:{points:["tr","tl"],overflow:autoAdjustOverflow,offset:[-4,0],targetOffset:targetOffset$1},topRight:{points:["br","tr"],overflow:autoAdjustOverflow,offset:[0,-4],targetOffset:targetOffset$1},rightTop:{points:["tl","tr"],overflow:autoAdjustOverflow,offset:[4,0],targetOffset:targetOffset$1},bottomRight:{points:["tr","br"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset:targetOffset$1},rightBottom:{points:["bl","br"],overflow:autoAdjustOverflow,offset:[4,0],targetOffset:targetOffset$1},bottomLeft:{points:["tl","bl"],overflow:autoAdjustOverflow,offset:[0,4],targetOffset:targetOffset$1},leftBottom:{points:["br","bl"],overflow:autoAdjustOverflow,offset:[-4,0],targetOffset:targetOffset$1}},tooltipContentProps={prefixCls:String,id:String,overlayInnerStyle:PropTypes$1.any};const Content$1=defineComponent({compatConfig:{MODE:3},name:"Content",props:tooltipContentProps,slots:["overlay"],setup:function G(U,W){var X=W.slots;return function(){var ne;return createVNode("div",{class:"".concat(U.prefixCls,"-inner"),id:U.id,role:"tooltip",style:U.overlayInnerStyle},[(ne=X.overlay)===null||ne===void 0?void 0:ne.call(X)])}}});var _excluded$5=["overlayClassName","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle","prefixCls","afterVisibleChange","transitionName","animation","placement","align","destroyTooltipOnHide","defaultVisible"];function noop(){}const Tooltip=defineComponent({compatConfig:{MODE:3},name:"Tooltip",inheritAttrs:!1,props:{trigger:PropTypes$1.any.def(["hover"]),defaultVisible:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},placement:PropTypes$1.string.def("right"),transitionName:String,animation:PropTypes$1.any,afterVisibleChange:PropTypes$1.func.def(function(){}),overlayStyle:{type:Object,default:void 0},overlayClassName:String,prefixCls:PropTypes$1.string.def("rc-tooltip"),mouseEnterDelay:PropTypes$1.number.def(.1),mouseLeaveDelay:PropTypes$1.number.def(.1),getPopupContainer:Function,destroyTooltipOnHide:{type:Boolean,default:!1},align:PropTypes$1.object.def(function(){return{}}),arrowContent:PropTypes$1.any.def(null),tipId:String,builtinPlacements:PropTypes$1.object,overlayInnerStyle:{type:Object,default:void 0},popupVisible:{type:Boolean,default:void 0},onVisibleChange:Function,onPopupAlign:Function},slots:["arrowContent","overlay"],setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=W.expose,le=ref(),se=function(){var ve=U.prefixCls,be=U.tipId,Se=U.overlayInnerStyle;return[createVNode("div",{class:"".concat(ve,"-arrow"),key:"arrow"},[getPropsSlot(X,U,"arrowContent")]),createVNode(Content$1,{key:"content",prefixCls:ve,id:be,overlayInnerStyle:Se},{overlay:X.overlay})]},ue=function(){return le.value.getPopupDomNode()};oe({getPopupDomNode:ue,triggerDOM:le,forcePopupAlign:function(){var ve;return(ve=le.value)===null||ve===void 0?void 0:ve.forcePopupAlign()}});var ce=ref(!1),fe=ref(!1);return watchEffect(function(){var me=U.destroyTooltipOnHide;if(typeof me=="boolean")ce.value=me;else if(me&&_typeof$2(me)==="object"){var ve=me.keepParent;ce.value=ve===!0,fe.value=ve===!1}}),function(){var me=U.overlayClassName,ve=U.trigger,be=U.mouseEnterDelay,Se=U.mouseLeaveDelay,_e=U.overlayStyle,Ae=U.prefixCls,ke=U.afterVisibleChange,Me=U.transitionName,Le=U.animation,qe=U.placement,Je=U.align;U.destroyTooltipOnHide;var Fe=U.defaultVisible,Ve=_objectWithoutProperties(U,_excluded$5),Ze=_objectSpread2$1({},Ve);U.visible!==void 0&&(Ze.popupVisible=U.visible);var Xe=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({popupClassName:me,prefixCls:Ae,action:ve,builtinPlacements:placements,popupPlacement:qe,popupAlign:Je,afterPopupVisibleChange:ke,popupTransitionName:Me,popupAnimation:Le,defaultPopupVisible:Fe,destroyPopupOnHide:ce.value,autoDestroy:fe.value,mouseLeaveDelay:Se,popupStyle:_e,mouseEnterDelay:be},Ze),ne),{},{onPopupVisibleChange:U.onVisibleChange||noop,onPopupAlign:U.onPopupAlign||noop,ref:le,popup:se()});return createVNode(Trigger,Xe,{default:X.default})}}});tuple("success","processing","error","default","warning");var PresetColorTypes=tuple("pink","red","yellow","orange","cyan","green","blue","purple","geekblue","magenta","volcano","gold","lime");const abstractTooltipProps=function(){return{trigger:[String,Array],visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:void 0},placement:String,color:String,transitionName:String,overlayStyle:{type:Object,default:void 0},overlayClassName:String,openClassName:String,prefixCls:String,mouseEnterDelay:Number,mouseLeaveDelay:Number,getPopupContainer:Function,arrowPointAtCenter:{type:Boolean,default:void 0},autoAdjustOverflow:{type:[Boolean,Object],default:void 0},destroyTooltipOnHide:{type:Boolean,default:void 0},align:{type:Object,default:void 0},builtinPlacements:{type:Object,default:void 0},children:Array,onVisibleChange:Function,"onUpdate:visible":Function}};var autoAdjustOverflowEnabled={adjustX:1,adjustY:1},autoAdjustOverflowDisabled={adjustX:0,adjustY:0},targetOffset=[0,0];function getOverflowOptions(G){return typeof G=="boolean"?G?autoAdjustOverflowEnabled:autoAdjustOverflowDisabled:_objectSpread2$1(_objectSpread2$1({},autoAdjustOverflowDisabled),G)}function getPlacements(G){var U=G.arrowWidth,W=U===void 0?4:U,X=G.horizontalArrowShift,ne=X===void 0?16:X,oe=G.verticalArrowShift,le=oe===void 0?8:oe,se=G.autoAdjustOverflow,ue=G.arrowPointAtCenter,ce={left:{points:["cr","cl"],offset:[-4,0]},right:{points:["cl","cr"],offset:[4,0]},top:{points:["bc","tc"],offset:[0,-4]},bottom:{points:["tc","bc"],offset:[0,4]},topLeft:{points:["bl","tc"],offset:[-(ne+W),-4]},leftTop:{points:["tr","cl"],offset:[-4,-(le+W)]},topRight:{points:["br","tc"],offset:[ne+W,-4]},rightTop:{points:["tl","cr"],offset:[4,-(le+W)]},bottomRight:{points:["tr","bc"],offset:[ne+W,4]},rightBottom:{points:["bl","cr"],offset:[4,le+W]},bottomLeft:{points:["tl","bc"],offset:[-(ne+W),4]},leftBottom:{points:["br","cl"],offset:[-4,le+W]}};return Object.keys(ce).forEach(function(fe){ce[fe]=ue?_objectSpread2$1(_objectSpread2$1({},ce[fe]),{},{overflow:getOverflowOptions(se),targetOffset}):_objectSpread2$1(_objectSpread2$1({},placements[fe]),{},{overflow:getOverflowOptions(se)}),ce[fe].ignoreShake=!0}),ce}function firstNotUndefined(){for(var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],U=0,W=G.length;U<W;U++)if(G[U]!==void 0)return G[U]}var splitObject=function G(U,W){var X={},ne=_objectSpread2$1({},U);return W.forEach(function(oe){U&&oe in U&&(X[oe]=U[oe],delete ne[oe])}),{picked:X,omitted:ne}},PresetColorRegex=new RegExp("^(".concat(PresetColorTypes.join("|"),")(-inverse)?$")),tooltipProps=function G(){return _objectSpread2$1(_objectSpread2$1({},abstractTooltipProps()),{},{title:PropTypes$1.any})},tooltipDefaultProps=function G(){return{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}};const ToolTip=defineComponent({compatConfig:{MODE:3},name:"ATooltip",inheritAttrs:!1,props:initDefaultProps$1(tooltipProps(),{trigger:"hover",transitionName:"zoom-big-fast",align:{},placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1,arrowPointAtCenter:!1,autoAdjustOverflow:!0}),slots:["title"],setup:function G(U,W){var X=W.slots,ne=W.emit,oe=W.attrs,le=W.expose,se=useConfigInject("tooltip",U),ue=se.prefixCls,ce=se.getPopupContainer,fe=ref(firstNotUndefined([U.visible,U.defaultVisible])),me=ref();onMounted(function(){warning(U.defaultVisible===void 0,"Tooltip","'defaultVisible' is deprecated, please use 'v-model:visible'")});var ve;watch$1(function(){return U.visible},function(Je){wrapperRaf.cancel(ve),ve=wrapperRaf(function(){fe.value=!!Je})});var be=function(){var Fe,Ve=(Fe=U.title)!==null&&Fe!==void 0?Fe:X.title;return!Ve&&Ve!==0},Se=function(Fe){var Ve=be();U.visible===void 0&&(fe.value=Ve?!1:Fe),Ve||(ne("update:visible",Fe),ne("visibleChange",Fe))},_e=function(){return me.value.getPopupDomNode()};le({getPopupDomNode:_e,visible:fe,forcePopupAlign:function(){var Fe;return(Fe=me.value)===null||Fe===void 0?void 0:Fe.forcePopupAlign()}});var Ae=computed(function(){var Je=U.builtinPlacements,Fe=U.arrowPointAtCenter,Ve=U.autoAdjustOverflow;return Je||getPlacements({arrowPointAtCenter:Fe,autoAdjustOverflow:Ve})}),ke=function(Fe){return Fe||Fe===""},Me=function(Fe){var Ve=Fe.type;if(_typeof$2(Ve)==="object"&&Fe.props&&((Ve.__ANT_BUTTON===!0||Ve==="button")&&ke(Fe.props.disabled)||Ve.__ANT_SWITCH===!0&&(ke(Fe.props.disabled)||ke(Fe.props.loading)))){var Ze=splitObject(getStyle(Fe),["position","left","right","top","bottom","float","display","zIndex"]),Xe=Ze.picked,dt=Ze.omitted,ht=_objectSpread2$1(_objectSpread2$1({display:"inline-block"},Xe),{},{cursor:"not-allowed",lineHeight:1,width:Fe.props&&Fe.props.block?"100%":null}),lt=_objectSpread2$1(_objectSpread2$1({},dt),{},{pointerEvents:"none"}),xt=cloneElement(Fe,{style:lt},!0);return createVNode("span",{style:ht,class:"".concat(ue.value,"-disabled-compatible-wrapper")},[xt])}return Fe},Le=function(){var Fe,Ve;return(Fe=U.title)!==null&&Fe!==void 0?Fe:(Ve=X.title)===null||Ve===void 0?void 0:Ve.call(X)},qe=function(Fe,Ve){var Ze=Ae.value,Xe=Object.keys(Ze).filter(function(lt){return Ze[lt].points[0]===Ve.points[0]&&Ze[lt].points[1]===Ve.points[1]})[0];if(!!Xe){var dt=Fe.getBoundingClientRect(),ht={top:"50%",left:"50%"};Xe.indexOf("top")>=0||Xe.indexOf("Bottom")>=0?ht.top="".concat(dt.height-Ve.offset[1],"px"):(Xe.indexOf("Top")>=0||Xe.indexOf("bottom")>=0)&&(ht.top="".concat(-Ve.offset[1],"px")),Xe.indexOf("left")>=0||Xe.indexOf("Right")>=0?ht.left="".concat(dt.width-Ve.offset[0],"px"):(Xe.indexOf("right")>=0||Xe.indexOf("Left")>=0)&&(ht.left="".concat(-Ve.offset[0],"px")),Fe.style.transformOrigin="".concat(ht.left," ").concat(ht.top)}};return function(){var Je,Fe,Ve,Ze=U.openClassName,Xe=U.color,dt=U.overlayClassName,ht=(Je=filterEmpty((Fe=X.default)===null||Fe===void 0?void 0:Fe.call(X)))!==null&&Je!==void 0?Je:null;ht=ht.length===1?ht[0]:ht;var lt=fe.value;if(U.visible===void 0&&be()&&(lt=!1),!ht)return null;var xt=Me(isValidElement(ht)?ht:createVNode("span",null,[ht])),It=classNames((Ve={},_defineProperty$1(Ve,Ze||"".concat(ue.value,"-open"),!0),_defineProperty$1(Ve,xt.props&&xt.props.class,xt.props&&xt.props.class),Ve)),mt=classNames(dt,_defineProperty$1({},"".concat(ue.value,"-").concat(Xe),Xe&&PresetColorRegex.test(Xe))),ot,st;Xe&&!PresetColorRegex.test(Xe)&&(ot={backgroundColor:Xe},st={backgroundColor:Xe});var vt=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},oe),U),{},{prefixCls:ue.value,getPopupContainer:ce.value,builtinPlacements:Ae.value,visible:lt,ref:me,overlayClassName:mt,overlayInnerStyle:ot,onVisibleChange:Se,onPopupAlign:qe});return createVNode(Tooltip,vt,{default:function(){return[fe.value?cloneElement(xt,{class:It}):xt]},arrowContent:function(){return createVNode("span",{class:"".concat(ue.value,"-arrow-content"),style:st},null)},overlay:Le})}}}),ATooltip=withInstall(ToolTip);var popoverProps=function G(){return _objectSpread2$1(_objectSpread2$1({},abstractTooltipProps()),{},{content:PropTypes$1.any,title:PropTypes$1.any})},Popover=defineComponent({compatConfig:{MODE:3},name:"APopover",props:initDefaultProps$1(popoverProps(),_objectSpread2$1(_objectSpread2$1({},tooltipDefaultProps()),{},{trigger:"hover",transitionName:"zoom-big",placement:"top",mouseEnterDelay:.1,mouseLeaveDelay:.1})),setup:function G(U,W){var X=W.expose,ne=W.slots,oe=ref();X({getPopupDomNode:function(){var ve,be;return(ve=oe.value)===null||ve===void 0||(be=ve.getPopupDomNode)===null||be===void 0?void 0:be.call(ve)}});var le=useConfigInject("popover",U),se=le.prefixCls,ue=le.configProvider,ce=computed(function(){return ue.getPrefixCls()}),fe=function(){var ve,be,Se=U.title,_e=Se===void 0?filterEmpty((ve=ne.title)===null||ve===void 0?void 0:ve.call(ne)):Se,Ae=U.content,ke=Ae===void 0?filterEmpty((be=ne.content)===null||be===void 0?void 0:be.call(ne)):Ae,Me=!!(Array.isArray(_e)?_e.length:_e),Le=!!(Array.isArray(ke)?ke.length:_e);if(!(!Me&&!Le))return createVNode(Fragment,null,[Me&&createVNode("div",{class:"".concat(se.value,"-title")},[_e]),createVNode("div",{class:"".concat(se.value,"-inner-content")},[ke])])};return function(){return createVNode(ATooltip,_objectSpread2$1(_objectSpread2$1({},omit(U,["title","content"])),{},{prefixCls:se.value,ref:oe,transitionName:getTransitionName$1(ce.value,"zoom-big",U.transitionName)}),{title:fe,default:ne.default})}}});const APopover=withInstall(Popover);function UnitNumber(G){var U=G.prefixCls,W=G.value,X=G.current,ne=G.offset,oe=ne===void 0?0:ne,le;return oe&&(le={position:"absolute",top:"".concat(oe,"00%"),left:0}),createVNode("p",{style:le,class:classNames("".concat(U,"-only-unit"),{current:X})},[W])}function getOffset(G,U,W){for(var X=G,ne=0;(X+10)%10!==U;)X+=W,ne+=W;return ne}const SingleNumber=defineComponent({compatConfig:{MODE:3},name:"SingleNumber",props:{prefixCls:String,value:String,count:Number},setup:function G(U){var W=computed(function(){return Number(U.value)}),X=computed(function(){return Math.abs(U.count)}),ne=reactive({prevValue:W.value,prevCount:X.value}),oe=function(){ne.prevValue=W.value,ne.prevCount=X.value},le=ref();return watch$1(W,function(){clearTimeout(le.value),le.value=setTimeout(function(){oe()},1e3)},{flush:"post"}),onUnmounted(function(){clearTimeout(le.value)}),function(){var se,ue={},ce=W.value;if(ne.prevValue===ce||Number.isNaN(ce)||Number.isNaN(ne.prevValue))se=[UnitNumber(_objectSpread2$1(_objectSpread2$1({},U),{},{current:!0}))],ue={transition:"none"};else{se=[];for(var fe=ce+10,me=[],ve=ce;ve<=fe;ve+=1)me.push(ve);var be=me.findIndex(function(_e){return _e%10===ne.prevValue});se=me.map(function(_e,Ae){var ke=_e%10;return UnitNumber(_objectSpread2$1(_objectSpread2$1({},U),{},{value:ke,offset:Ae-be,current:Ae===be}))});var Se=ne.prevCount<X.value?1:-1;ue={transform:"translateY(".concat(-getOffset(ne.prevValue,ce,Se),"00%)")}}return createVNode("span",{class:"".concat(U.prefixCls,"-only"),style:ue,onTransitionend:function(){return oe()}},[se])}}});var _excluded$4=["prefixCls","count","title","show","component","class","style"],scrollNumberProps={prefixCls:String,count:PropTypes$1.any,component:String,title:PropTypes$1.any,show:Boolean};const ScrollNumber=defineComponent({compatConfig:{MODE:3},name:"ScrollNumber",inheritAttrs:!1,props:scrollNumberProps,setup:function G(U,W){var X=W.attrs,ne=W.slots,oe=useConfigInject("scroll-number",U),le=oe.prefixCls;return function(){var se,ue=_objectSpread2$1(_objectSpread2$1({},U),X);ue.prefixCls;var ce=ue.count,fe=ue.title;ue.show;var me=ue.component,ve=me===void 0?"sup":me,be=ue.class,Se=ue.style,_e=_objectWithoutProperties(ue,_excluded$4),Ae=_objectSpread2$1(_objectSpread2$1({},_e),{},{style:Se,"data-show":U.show,class:classNames(le.value,be),title:fe}),ke=ce;if(ce&&Number(ce)%1===0){var Me=String(ce).split("");ke=Me.map(function(qe,Je){return createVNode(SingleNumber,{prefixCls:le.value,count:Number(ce),value:qe,key:Me.length-Je},null)})}Se&&Se.borderColor&&(Ae.style=_objectSpread2$1(_objectSpread2$1({},Se),{},{boxShadow:"0 0 0 1px ".concat(Se.borderColor," inset")}));var Le=filterEmpty((se=ne.default)===null||se===void 0?void 0:se.call(ne));return Le&&Le.length?cloneElement(Le,{class:classNames("".concat(le.value,"-custom-component"))},!1):createVNode(ve,Ae,{default:function(){return[ke]}})}}});function isPresetColor(G){return PresetColorTypes.indexOf(G)!==-1}var _excluded$3=["class","style"],ribbonProps=function G(){return{prefix:String,color:{type:String},text:PropTypes$1.any,placement:{type:String,default:"end"}}};const Ribbon=defineComponent({compatConfig:{MODE:3},name:"ABadgeRibbon",inheritAttrs:!1,props:ribbonProps(),slots:["text"],setup:function G(U,W){var X=W.attrs,ne=W.slots,oe=useConfigInject("ribbon",U),le=oe.prefixCls,se=oe.direction,ue=computed(function(){return isPresetColor(U.color)}),ce=computed(function(){var fe;return[le.value,"".concat(le.value,"-placement-").concat(U.placement),(fe={},_defineProperty$1(fe,"".concat(le.value,"-rtl"),se.value==="rtl"),_defineProperty$1(fe,"".concat(le.value,"-color-").concat(U.color),ue.value),fe)]});return function(){var fe,me,ve=X.class,be=X.style,Se=_objectWithoutProperties(X,_excluded$3),_e={},Ae={};return U.color&&!ue.value&&(_e.background=U.color,Ae.color=U.color),createVNode("div",_objectSpread2$1({class:"".concat(le.value,"-wrapper")},Se),[(fe=ne.default)===null||fe===void 0?void 0:fe.call(ne),createVNode("div",{class:[ce.value,ve],style:_objectSpread2$1(_objectSpread2$1({},_e),be)},[createVNode("span",{class:"".concat(le.value,"-text")},[U.text||((me=ne.text)===null||me===void 0?void 0:me.call(ne))]),createVNode("div",{class:"".concat(le.value,"-corner"),style:Ae},null)])])}}});var isNumeric=function G(U){return!isNaN(parseFloat(U))&&isFinite(U)};const isNumeric$1=isNumeric;var badgeProps=function G(){return{count:PropTypes$1.any,showZero:{type:Boolean,default:void 0},overflowCount:{type:Number,default:99},dot:{type:Boolean,default:void 0},prefixCls:String,scrollNumberPrefixCls:String,status:{type:String},size:{type:String,default:"default"},color:String,text:PropTypes$1.any,offset:Array,numberStyle:{type:Object,default:void 0},title:String}};const Badge=defineComponent({compatConfig:{MODE:3},name:"ABadge",Ribbon,inheritAttrs:!1,props:badgeProps(),slots:["text","count"],setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=useConfigInject("badge",U),le=oe.prefixCls,se=oe.direction,ue=computed(function(){return U.count>U.overflowCount?"".concat(U.overflowCount,"+"):U.count}),ce=computed(function(){return U.status!==null&&U.status!==void 0||U.color!==null&&U.color!==void 0}),fe=computed(function(){return ue.value==="0"||ue.value===0}),me=computed(function(){return U.dot&&!fe.value}),ve=computed(function(){return me.value?"":ue.value}),be=computed(function(){var qe=ve.value===null||ve.value===void 0||ve.value==="";return(qe||fe.value&&!U.showZero)&&!me.value}),Se=ref(U.count),_e=ref(ve.value),Ae=ref(me.value);watch$1([function(){return U.count},ve,me],function(){be.value||(Se.value=U.count,_e.value=ve.value,Ae.value=me.value)},{immediate:!0});var ke=computed(function(){var qe;return qe={},_defineProperty$1(qe,"".concat(le.value,"-status-dot"),ce.value),_defineProperty$1(qe,"".concat(le.value,"-status-").concat(U.status),!!U.status),_defineProperty$1(qe,"".concat(le.value,"-status-").concat(U.color),isPresetColor(U.color)),qe}),Me=computed(function(){return U.color&&!isPresetColor(U.color)?{background:U.color}:{}}),Le=computed(function(){var qe;return qe={},_defineProperty$1(qe,"".concat(le.value,"-dot"),Ae.value),_defineProperty$1(qe,"".concat(le.value,"-count"),!Ae.value),_defineProperty$1(qe,"".concat(le.value,"-count-sm"),U.size==="small"),_defineProperty$1(qe,"".concat(le.value,"-multiple-words"),!Ae.value&&_e.value&&_e.value.toString().length>1),_defineProperty$1(qe,"".concat(le.value,"-status-").concat(U.status),!!U.status),_defineProperty$1(qe,"".concat(le.value,"-status-").concat(U.color),isPresetColor(U.color)),qe});return function(){var qe,Je,Fe,Ve=U.offset,Ze=U.title,Xe=U.color,dt=ne.style,ht=getPropsSlot(X,U,"text"),lt=le.value,xt=Se.value,It=flattenChildren((qe=X.default)===null||qe===void 0?void 0:qe.call(X));It=It.length?It:null;var mt=!!(!be.value||X.count),ot=function(){if(!Ve)return _objectSpread2$1({},dt);var zt={marginTop:isNumeric$1(Ve[1])?"".concat(Ve[1],"px"):Ve[1]};return se.value==="rtl"?zt.left="".concat(parseInt(Ve[0],10),"px"):zt.right="".concat(-parseInt(Ve[0],10),"px"),_objectSpread2$1(_objectSpread2$1({},zt),dt)}(),st=Ze!=null?Ze:typeof xt=="string"||typeof xt=="number"?xt:void 0,vt=mt||!ht?null:createVNode("span",{class:"".concat(lt,"-status-text")},[ht]),Ot=_typeof$2(xt)==="object"||xt===void 0&&X.count?cloneElement(xt!=null?xt:(Je=X.count)===null||Je===void 0?void 0:Je.call(X),{style:ot},!1):null,wt=classNames(lt,(Fe={},_defineProperty$1(Fe,"".concat(lt,"-status"),ce.value),_defineProperty$1(Fe,"".concat(lt,"-not-a-wrapper"),!It),_defineProperty$1(Fe,"".concat(lt,"-rtl"),se.value==="rtl"),Fe),ne.class);if(!It&&ce.value){var Wt=ot.color;return createVNode("span",_objectSpread2$1(_objectSpread2$1({},ne),{},{class:wt,style:ot}),[createVNode("span",{class:ke.value,style:Me.value},null),createVNode("span",{style:{color:Wt},class:"".concat(lt,"-status-text")},[ht])])}var qt=getTransitionProps(It?"".concat(lt,"-zoom"):"",{appear:!1}),_t=_objectSpread2$1(_objectSpread2$1({},ot),U.numberStyle);return Xe&&!isPresetColor(Xe)&&(_t=_t||{},_t.background=Xe),createVNode("span",_objectSpread2$1(_objectSpread2$1({},ne),{},{class:wt}),[It,createVNode(Transition,qt,{default:function(){return[withDirectives(createVNode(ScrollNumber,{prefixCls:U.scrollNumberPrefixCls,show:mt,class:Le.value,count:_e.value,title:st,style:_t,key:"scrollNumber"},{default:function(){return[Ot]}}),[[vShow,mt]])]}}),vt])}}});Badge.install=function(G){return G.component(Badge.name,Badge),G.component(Ribbon.name,Ribbon),G};var START_EVENT_NAME_MAP={transitionstart:{transition:"transitionstart",WebkitTransition:"webkitTransitionStart",MozTransition:"mozTransitionStart",OTransition:"oTransitionStart",msTransition:"MSTransitionStart"},animationstart:{animation:"animationstart",WebkitAnimation:"webkitAnimationStart",MozAnimation:"mozAnimationStart",OAnimation:"oAnimationStart",msAnimation:"MSAnimationStart"}},END_EVENT_NAME_MAP={transitionend:{transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"mozTransitionEnd",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd"},animationend:{animation:"animationend",WebkitAnimation:"webkitAnimationEnd",MozAnimation:"mozAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd"}},startEvents=[],endEvents=[];function detectEvents(){var G=document.createElement("div"),U=G.style;"AnimationEvent"in window||(delete START_EVENT_NAME_MAP.animationstart.animation,delete END_EVENT_NAME_MAP.animationend.animation),"TransitionEvent"in window||(delete START_EVENT_NAME_MAP.transitionstart.transition,delete END_EVENT_NAME_MAP.transitionend.transition);function W(X,ne){for(var oe in X)if(X.hasOwnProperty(oe)){var le=X[oe];for(var se in le)if(se in U){ne.push(le[se]);break}}}W(START_EVENT_NAME_MAP,startEvents),W(END_EVENT_NAME_MAP,endEvents)}typeof window<"u"&&typeof document<"u"&&detectEvents();function addEventListener(G,U,W){G.addEventListener(U,W,!1)}function removeEventListener(G,U,W){G.removeEventListener(U,W,!1)}var TransitionEvents={startEvents,addStartEventListener:function G(U,W){if(startEvents.length===0){setTimeout(W,0);return}startEvents.forEach(function(X){addEventListener(U,X,W)})},removeStartEventListener:function G(U,W){startEvents.length!==0&&startEvents.forEach(function(X){removeEventListener(U,X,W)})},endEvents,addEndEventListener:function G(U,W){if(endEvents.length===0){setTimeout(W,0);return}endEvents.forEach(function(X){addEventListener(U,X,W)})},removeEndEventListener:function G(U,W){endEvents.length!==0&&endEvents.forEach(function(X){removeEventListener(U,X,W)})}};const TransitionEvents$1=TransitionEvents;var styleForPesudo;function isHidden(G){return!G||G.offsetParent===null}function isNotGrey(G){var U=(G||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return U&&U[1]&&U[2]&&U[3]?!(U[1]===U[2]&&U[2]===U[3]):!0}const Wave=defineComponent({compatConfig:{MODE:3},name:"Wave",props:{insertExtraNode:Boolean,disabled:Boolean},setup:function G(U,W){var X=W.slots,ne=W.expose,oe=getCurrentInstance(),le=useConfigInject("",U),se=le.csp,ue=le.prefixCls;ne({csp:se});var ce=null,fe=null,me=null,ve=!1,be=null,Se=!1,_e=function(Fe){if(!Se){var Ve=findDOMNode(oe);!Fe||Fe.target!==Ve||ve||Le(Ve)}},Ae=function(Fe){!Fe||Fe.animationName!=="fadeEffect"||Le(Fe.target)},ke=function(){var Fe=U.insertExtraNode;return Fe?"".concat(ue.value,"-click-animating"):"".concat(ue.value,"-click-animating-without-extra-node")},Me=function(Fe,Ve){var Ze=U.insertExtraNode,Xe=U.disabled;if(!(Xe||!Fe||isHidden(Fe)||Fe.className.indexOf("-leave")>=0)){be=document.createElement("div"),be.className="".concat(ue.value,"-click-animating-node");var dt=ke();if(Fe.removeAttribute(dt),Fe.setAttribute(dt,"true"),styleForPesudo=styleForPesudo||document.createElement("style"),Ve&&Ve!=="#ffffff"&&Ve!=="rgb(255, 255, 255)"&&isNotGrey(Ve)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(Ve)&&Ve!=="transparent"){var ht;(ht=se.value)!==null&&ht!==void 0&&ht.nonce&&(styleForPesudo.nonce=se.value.nonce),be.style.borderColor=Ve,styleForPesudo.innerHTML=`
        [`.concat(ue.value,"-click-animating-without-extra-node='true']::after, .").concat(ue.value,`-click-animating-node {
          --antd-wave-shadow-color: `).concat(Ve,`;
        }`),document.body.contains(styleForPesudo)||document.body.appendChild(styleForPesudo)}Ze&&Fe.appendChild(be),TransitionEvents$1.addStartEventListener(Fe,_e),TransitionEvents$1.addEndEventListener(Fe,Ae)}},Le=function(Fe){if(!(!Fe||Fe===be||!(Fe instanceof Element))){var Ve=U.insertExtraNode,Ze=ke();Fe.setAttribute(Ze,"false"),styleForPesudo&&(styleForPesudo.innerHTML=""),Ve&&be&&Fe.contains(be)&&Fe.removeChild(be),TransitionEvents$1.removeStartEventListener(Fe,_e),TransitionEvents$1.removeEndEventListener(Fe,Ae)}},qe=function(Fe){if(!(!Fe||!Fe.getAttribute||Fe.getAttribute("disabled")||Fe.className.indexOf("disabled")>=0)){var Ve=function(Xe){if(!(Xe.target.tagName==="INPUT"||isHidden(Xe.target))){Le(Fe);var dt=getComputedStyle(Fe).getPropertyValue("border-top-color")||getComputedStyle(Fe).getPropertyValue("border-color")||getComputedStyle(Fe).getPropertyValue("background-color");fe=setTimeout(function(){return Me(Fe,dt)},0),wrapperRaf.cancel(me),ve=!0,me=wrapperRaf(function(){ve=!1},10)}};return Fe.addEventListener("click",Ve,!0),{cancel:function(){Fe.removeEventListener("click",Ve,!0)}}}};return onMounted(function(){nextTick(function(){var Je=findDOMNode(oe);Je.nodeType===1&&(ce=qe(Je))})}),onBeforeUnmount(function(){ce&&ce.cancel(),clearTimeout(fe),Se=!0}),function(){var Je;return(Je=X.default)===null||Je===void 0?void 0:Je.call(X)[0]}}});function convertLegacyProps(G){return G==="danger"?{danger:!0}:{type:G}}var buttonProps=function G(){return{prefixCls:String,type:String,htmlType:{type:String,default:"button"},shape:{type:String},size:{type:String},loading:{type:[Boolean,Object],default:function(){return!1}},disabled:{type:Boolean,default:void 0},ghost:{type:Boolean,default:void 0},block:{type:Boolean,default:void 0},danger:{type:Boolean,default:void 0},icon:PropTypes$1.any,href:String,target:String,title:String,onClick:{type:Function},onMousedown:{type:Function}}};const buttonTypes=buttonProps;var getCollapsedWidth=function G(U){U&&(U.style.width="0px",U.style.opacity="0",U.style.transform="scale(0)")},getRealWidth=function G(U){nextTick(function(){U&&(U.style.width="".concat(U.scrollWidth,"px"),U.style.opacity="1",U.style.transform="scale(1)")})},resetStyle=function G(U){U&&U.style&&(U.style.width=null,U.style.opacity=null,U.style.transform=null)};const LoadingIcon=defineComponent({compatConfig:{MODE:3},name:"LoadingIcon",props:{prefixCls:String,loading:[Boolean,Object],existIcon:Boolean},setup:function G(U){return function(){var W=U.existIcon,X=U.prefixCls,ne=U.loading;if(W)return createVNode("span",{class:"".concat(X,"-loading-icon")},[createVNode(LoadingOutlined$1,null,null)]);var oe=!!ne;return createVNode(Transition,{name:"".concat(X,"-loading-icon-motion"),onBeforeEnter:getCollapsedWidth,onEnter:getRealWidth,onAfterEnter:resetStyle,onBeforeLeave:getRealWidth,onLeave:function(se){setTimeout(function(){getCollapsedWidth(se)})},onAfterLeave:resetStyle},{default:function(){return[oe?createVNode("span",{class:"".concat(X,"-loading-icon")},[createVNode(LoadingOutlined$1,null,null)]):null]}})}}});var rxTwoCNChar=/^[\u4e00-\u9fa5]{2}$/,isTwoCNChar=rxTwoCNChar.test.bind(rxTwoCNChar);function isUnborderedButtonType(G){return G==="text"||G==="link"}const Button=defineComponent({compatConfig:{MODE:3},name:"AButton",inheritAttrs:!1,__ANT_BUTTON:!0,props:initDefaultProps$1(buttonTypes(),{type:"default"}),slots:["icon"],setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=W.emit,le=useConfigInject("btn",U),se=le.prefixCls,ue=le.autoInsertSpaceInButton,ce=le.direction,fe=le.size,me=ref(null),ve=ref(void 0),be=!1,Se=ref(!1),_e=ref(!1),Ae=computed(function(){return ue.value!==!1}),ke=computed(function(){return _typeof$2(U.loading)==="object"&&U.loading.delay?U.loading.delay||!0:!!U.loading});watch$1(ke,function(Fe){clearTimeout(ve.value),typeof ke.value=="number"?ve.value=setTimeout(function(){Se.value=Fe},ke.value):Se.value=Fe},{immediate:!0});var Me=computed(function(){var Fe,Ve=U.type,Ze=U.shape,Xe=Ze===void 0?"default":Ze,dt=U.ghost,ht=U.block,lt=U.danger,xt=se.value,It={large:"lg",small:"sm",middle:void 0},mt=fe.value,ot=mt&&It[mt]||"";return Fe={},_defineProperty$1(Fe,"".concat(xt),!0),_defineProperty$1(Fe,"".concat(xt,"-").concat(Ve),Ve),_defineProperty$1(Fe,"".concat(xt,"-").concat(Xe),Xe!=="default"&&Xe),_defineProperty$1(Fe,"".concat(xt,"-").concat(ot),ot),_defineProperty$1(Fe,"".concat(xt,"-loading"),Se.value),_defineProperty$1(Fe,"".concat(xt,"-background-ghost"),dt&&!isUnborderedButtonType(Ve)),_defineProperty$1(Fe,"".concat(xt,"-two-chinese-chars"),_e.value&&Ae.value),_defineProperty$1(Fe,"".concat(xt,"-block"),ht),_defineProperty$1(Fe,"".concat(xt,"-dangerous"),!!lt),_defineProperty$1(Fe,"".concat(xt,"-rtl"),ce.value==="rtl"),Fe}),Le=function(){var Ve=me.value;if(!(!Ve||ue.value===!1)){var Ze=Ve.textContent;be&&isTwoCNChar(Ze)?_e.value||(_e.value=!0):_e.value&&(_e.value=!1)}},qe=function(Ve){if(Se.value||U.disabled){Ve.preventDefault();return}oe("click",Ve)},Je=function(Ve,Ze){var Xe=Ze?" ":"";if(Ve.type===Text){var dt=Ve.children.trim();return isTwoCNChar(dt)&&(dt=dt.split("").join(Xe)),createVNode("span",null,[dt])}return Ve};return watchEffect(function(){devWarning(!(U.ghost&&isUnborderedButtonType(U.type)),"Button","`link` or `text` button can't be a `ghost` button.")}),onMounted(Le),onUpdated(Le),onBeforeUnmount(function(){ve.value&&clearTimeout(ve.value)}),function(){var Fe,Ve,Ze=U.icon,Xe=Ze===void 0?(Fe=X.icon)===null||Fe===void 0?void 0:Fe.call(X):Ze,dt=flattenChildren((Ve=X.default)===null||Ve===void 0?void 0:Ve.call(X));be=dt.length===1&&!Xe&&!isUnborderedButtonType(U.type);var ht=U.type,lt=U.htmlType,xt=U.disabled,It=U.href,mt=U.title,ot=U.target,st=U.onMousedown,vt=Se.value?"loading":Xe,Ot=_objectSpread2$1(_objectSpread2$1({},ne),{},{title:mt,disabled:xt,class:[Me.value,ne.class,_defineProperty$1({},"".concat(se.value,"-icon-only"),dt.length===0&&!!vt)],onClick:qe,onMousedown:st});xt||delete Ot.disabled;var wt=Xe&&!Se.value?Xe:createVNode(LoadingIcon,{existIcon:!!Xe,prefixCls:se.value,loading:!!Se.value},null),Wt=dt.map(function(_t){return Je(_t,be&&Ae.value)});if(It!==void 0)return createVNode("a",_objectSpread2$1(_objectSpread2$1({},Ot),{},{href:It,target:ot,ref:me}),[wt,Wt]);var qt=createVNode("button",_objectSpread2$1(_objectSpread2$1({},Ot),{},{ref:me,type:lt}),[wt,Wt]);return isUnborderedButtonType(ht)?qt:createVNode(Wave,{ref:"wave",disabled:!!Se.value},{default:function(){return[qt]}})}}});function _defineProperties(G,U){for(var W=0;W<U.length;W++){var X=U[W];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(G,_toPropertyKey(X.key),X)}}function _createClass(G,U,W){return U&&_defineProperties(G.prototype,U),W&&_defineProperties(G,W),Object.defineProperty(G,"prototype",{writable:!1}),G}function _classCallCheck(G,U){if(!(G instanceof U))throw new TypeError("Cannot call a class as a function")}var UnreachableException=_createClass(function G(U){_classCallCheck(this,G),this.error=new Error("unreachable case: ".concat(JSON.stringify(U)))}),buttonGroupProps=function G(){return{prefixCls:String,size:{type:String}}};const ButtonGroup=defineComponent({compatConfig:{MODE:3},name:"AButtonGroup",props:buttonGroupProps(),setup:function G(U,W){var X=W.slots,ne=useConfigInject("btn-group",U),oe=ne.prefixCls,le=ne.direction,se=computed(function(){var ue,ce=U.size,fe="";switch(ce){case"large":fe="lg";break;case"small":fe="sm";break;case"middle":case void 0:break;default:console.warn(new UnreachableException(ce).error)}return ue={},_defineProperty$1(ue,"".concat(oe.value),!0),_defineProperty$1(ue,"".concat(oe.value,"-").concat(fe),fe),_defineProperty$1(ue,"".concat(oe.value,"-rtl"),le.value==="rtl"),ue});return function(){var ue;return createVNode("div",{class:se.value},[flattenChildren((ue=X.default)===null||ue===void 0?void 0:ue.call(X))])}}});Button.Group=ButtonGroup;Button.install=function(G){return G.component(Button.name,Button),G.component(ButtonGroup.name,ButtonGroup),G};var canUseDocElement=function G(){return canUseDom()&&window.document.documentElement},cached;function getScrollBarSize(G){if(typeof document>"u")return 0;if(G||cached===void 0){var U=document.createElement("div");U.style.width="100%",U.style.height="200px";var W=document.createElement("div"),X=W.style;X.position="absolute",X.top="0",X.left="0",X.pointerEvents="none",X.visibility="hidden",X.width="200px",X.height="150px",X.overflow="hidden",W.appendChild(U),document.body.appendChild(W);var ne=U.offsetWidth;W.style.overflow="scroll";var oe=U.offsetWidth;ne===oe&&(oe=W.clientWidth),document.body.removeChild(W),cached=ne-oe}return cached}function setStyle(G){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=U.element,X=W===void 0?document.body:W,ne={},oe=Object.keys(G);return oe.forEach(function(le){ne[le]=X.style[le]}),oe.forEach(function(le){X.style[le]=G[le]}),ne}function isBodyOverflowing(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var cacheStyle$1={};const switchScrollingEffect=function(G){if(!(!isBodyOverflowing()&&!G)){var U="ant-scrolling-effect",W=new RegExp("".concat(U),"g"),X=document.body.className;if(G){if(!W.test(X))return;setStyle(cacheStyle$1),cacheStyle$1={},document.body.className=X.replace(W,"").trim();return}var ne=getScrollBarSize();if(ne&&(cacheStyle$1=setStyle({position:"relative",width:"calc(100% - ".concat(ne,"px)")}),!W.test(X))){var oe="".concat(X," ").concat(U);document.body.className=oe.trim()}}};var locks=[],scrollingEffectClassName="ant-scrolling-effect",scrollingEffectClassNameReg=new RegExp("".concat(scrollingEffectClassName),"g"),uuid$1=0,cacheStyle=new Map,ScrollLocker=_createClass(function G(U){var W=this;_classCallCheck(this,G),_defineProperty$1(this,"getContainer",function(){var X;return(X=W.options)===null||X===void 0?void 0:X.container}),_defineProperty$1(this,"reLock",function(X){var ne=locks.find(function(oe){var le=oe.target;return le===W.lockTarget});ne&&W.unLock(),W.options=X,ne&&(ne.options=X,W.lock())}),_defineProperty$1(this,"lock",function(){var X;if(!locks.some(function(ue){var ce=ue.target;return ce===W.lockTarget})){if(locks.some(function(ue){var ce,fe=ue.options;return(fe==null?void 0:fe.container)===((ce=W.options)===null||ce===void 0?void 0:ce.container)})){locks=[].concat(_toConsumableArray(locks),[{target:W.lockTarget,options:W.options}]);return}var ne=0,oe=((X=W.options)===null||X===void 0?void 0:X.container)||document.body;(oe===document.body&&window.innerWidth-document.documentElement.clientWidth>0||oe.scrollHeight>oe.clientHeight)&&(ne=getScrollBarSize());var le=oe.className;if(locks.filter(function(ue){var ce,fe=ue.options;return(fe==null?void 0:fe.container)===((ce=W.options)===null||ce===void 0?void 0:ce.container)}).length===0&&cacheStyle.set(oe,setStyle({width:ne!==0?"calc(100% - ".concat(ne,"px)"):void 0,overflow:"hidden",overflowX:"hidden",overflowY:"hidden"},{element:oe})),!scrollingEffectClassNameReg.test(le)){var se="".concat(le," ").concat(scrollingEffectClassName);oe.className=se.trim()}locks=[].concat(_toConsumableArray(locks),[{target:W.lockTarget,options:W.options}])}}),_defineProperty$1(this,"unLock",function(){var X,ne=locks.find(function(se){var ue=se.target;return ue===W.lockTarget});if(locks=locks.filter(function(se){var ue=se.target;return ue!==W.lockTarget}),!(!ne||locks.some(function(se){var ue,ce=se.options;return(ce==null?void 0:ce.container)===((ue=ne.options)===null||ue===void 0?void 0:ue.container)}))){var oe=((X=W.options)===null||X===void 0?void 0:X.container)||document.body,le=oe.className;!scrollingEffectClassNameReg.test(le)||(setStyle(cacheStyle.get(oe),{element:oe}),cacheStyle.delete(oe),oe.className=oe.className.replace(scrollingEffectClassNameReg,"").trim())}}),this.lockTarget=uuid$1++,this.options=U}),openCount=0,supportDom=canUseDom(),cacheOverflow={},getParent=function G(U){if(!supportDom)return null;if(U){if(typeof U=="string")return document.querySelectorAll(U)[0];if(typeof U=="function")return U();if(_typeof$2(U)==="object"&&U instanceof window.HTMLElement)return U}return document.body};const Portal=defineComponent({compatConfig:{MODE:3},name:"PortalWrapper",inheritAttrs:!1,props:{wrapperClassName:String,forceRender:{type:Boolean,default:void 0},getContainer:PropTypes$1.any,visible:{type:Boolean,default:void 0}},setup:function G(U,W){var X=W.slots,ne=ref(),oe=ref(),le=ref(),se=new ScrollLocker({container:getParent(U.getContainer)}),ue=function(){var _e,Ae;(_e=ne.value)===null||_e===void 0||(Ae=_e.parentNode)===null||Ae===void 0||Ae.removeChild(ne.value)},ce=function(){var _e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(_e||ne.value&&!ne.value.parentNode){var Ae=getParent(U.getContainer);return Ae?(Ae.appendChild(ne.value),!0):!1}return!0},fe=function(){return supportDom?(ne.value||(ne.value=document.createElement("div"),ce(!0)),me(),ne.value):null},me=function(){var _e=U.wrapperClassName;ne.value&&_e&&_e!==ne.value.className&&(ne.value.className=_e)};onUpdated(function(){me(),ce()});var ve=function(){openCount===1&&!Object.keys(cacheOverflow).length?(switchScrollingEffect(),cacheOverflow=setStyle({overflow:"hidden",overflowX:"hidden",overflowY:"hidden"})):openCount||(setStyle(cacheOverflow),cacheOverflow={},switchScrollingEffect(!0))},be=getCurrentInstance();return onMounted(function(){var Se=!1;watch$1([function(){return U.visible},function(){return U.getContainer}],function(_e,Ae){var ke=_slicedToArray(_e,2),Me=ke[0],Le=ke[1],qe=_slicedToArray(Ae,2),Je=qe[0],Fe=qe[1];if(supportDom&&getParent(U.getContainer)===document.body&&(Me&&!Je?openCount+=1:Se&&(openCount-=1)),Se){var Ve=typeof Le=="function"&&typeof Fe=="function";(Ve?Le.toString()!==Fe.toString():Le!==Fe)&&ue(),Me&&Me!==Je&&supportDom&&getParent(Le)!==se.getContainer()&&se.reLock({container:getParent(Le)})}Se=!0},{immediate:!0,flush:"post"}),nextTick(function(){ce()||(le.value=wrapperRaf(function(){be.update()}))})}),onBeforeUnmount(function(){var Se=U.visible,_e=U.getContainer;supportDom&&getParent(_e)===document.body&&(openCount=Se&&openCount?openCount-1:openCount),ue(),wrapperRaf.cancel(le.value)}),function(){var Se=U.forceRender,_e=U.visible,Ae=null,ke={getOpenCount:function(){return openCount},getContainer:fe,switchScrollingEffect:ve,scrollLocker:se};return(Se||_e||oe.value)&&(Ae=createVNode(Portal$1,{getContainer:fe,ref:oe},{default:function(){var Le;return(Le=X.default)===null||Le===void 0?void 0:Le.call(X,ke)}})),Ae}}});function dialogPropTypes(){return{keyboard:{type:Boolean,default:void 0},mask:{type:Boolean,default:void 0},afterClose:Function,closable:{type:Boolean,default:void 0},maskClosable:{type:Boolean,default:void 0},visible:{type:Boolean,default:void 0},destroyOnClose:{type:Boolean,default:void 0},mousePosition:PropTypes$1.shape({x:Number,y:Number}).loose,title:PropTypes$1.any,footer:PropTypes$1.any,transitionName:String,maskTransitionName:String,animation:PropTypes$1.any,maskAnimation:PropTypes$1.any,wrapStyle:{type:Object,default:void 0},bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},prefixCls:String,wrapClassName:String,rootClassName:String,width:[String,Number],height:[String,Number],zIndex:Number,bodyProps:PropTypes$1.any,maskProps:PropTypes$1.any,wrapProps:PropTypes$1.any,getContainer:PropTypes$1.any,dialogStyle:{type:Object,default:void 0},dialogClass:String,closeIcon:PropTypes$1.any,forceRender:{type:Boolean,default:void 0},getOpenCount:Function,focusTriggerAfterClose:{type:Boolean,default:void 0},onClose:Function,modalRender:Function}}function getMotionName(G,U,W){var X=U;return!X&&W&&(X="".concat(G,"-").concat(W)),X}var uuid=-1;function getUUID(){return uuid+=1,uuid}function getScroll(G,U){var W=G["page".concat(U?"Y":"X","Offset")],X="scroll".concat(U?"Top":"Left");if(typeof W!="number"){var ne=G.document;W=ne.documentElement[X],typeof W!="number"&&(W=ne.body[X])}return W}function offset(G){var U=G.getBoundingClientRect(),W={left:U.left,top:U.top},X=G.ownerDocument,ne=X.defaultView||X.parentWindow;return W.left+=getScroll(ne),W.top+=getScroll(ne,!0),W}var sentinelStyle={width:0,height:0,overflow:"hidden",outline:"none"};const Content=defineComponent({compatConfig:{MODE:3},name:"Content",inheritAttrs:!1,props:_objectSpread2$1(_objectSpread2$1({},dialogPropTypes()),{},{motionName:String,ariaId:String,onVisibleChanged:Function,onMousedown:Function,onMouseup:Function}),setup:function G(U,W){var X=W.expose,ne=W.slots,oe=W.attrs,le=ref(),se=ref(),ue=ref();X({focus:function(){var Se;(Se=le.value)===null||Se===void 0||Se.focus()},changeActive:function(Se){var _e=document,Ae=_e.activeElement;Se&&Ae===se.value?le.value.focus():!Se&&Ae===le.value&&se.value.focus()}});var ce=ref(),fe=computed(function(){var be=U.width,Se=U.height,_e={};return be!==void 0&&(_e.width=typeof be=="number"?"".concat(be,"px"):be),Se!==void 0&&(_e.height=typeof Se=="number"?"".concat(Se,"px"):Se),ce.value&&(_e.transformOrigin=ce.value),_e}),me=function(){nextTick(function(){if(ue.value){var Se=offset(ue.value);ce.value=U.mousePosition?"".concat(U.mousePosition.x-Se.left,"px ").concat(U.mousePosition.y-Se.top,"px"):""}})},ve=function(Se){U.onVisibleChanged(Se)};return function(){var be,Se,_e,Ae,ke=U.prefixCls,Me=U.footer,Le=Me===void 0?(be=ne.footer)===null||be===void 0?void 0:be.call(ne):Me,qe=U.title,Je=qe===void 0?(Se=ne.title)===null||Se===void 0?void 0:Se.call(ne):qe,Fe=U.ariaId,Ve=U.closable,Ze=U.closeIcon,Xe=Ze===void 0?(_e=ne.closeIcon)===null||_e===void 0?void 0:_e.call(ne):Ze,dt=U.onClose,ht=U.bodyStyle,lt=U.bodyProps,xt=U.onMousedown,It=U.onMouseup,mt=U.visible,ot=U.modalRender,st=ot===void 0?ne.modalRender:ot,vt=U.destroyOnClose,Ot=U.motionName,wt;Le&&(wt=createVNode("div",{class:"".concat(ke,"-footer")},[Le]));var Wt;Je&&(Wt=createVNode("div",{class:"".concat(ke,"-header")},[createVNode("div",{class:"".concat(ke,"-title"),id:Fe},[Je])]));var qt;Ve&&(qt=createVNode("button",{type:"button",onClick:dt,"aria-label":"Close",class:"".concat(ke,"-close")},[Xe||createVNode("span",{class:"".concat(ke,"-close-x")},null)]));var _t=createVNode("div",{class:"".concat(ke,"-content")},[qt,Wt,createVNode("div",_objectSpread2$1({class:"".concat(ke,"-body"),style:ht},lt),[(Ae=ne.default)===null||Ae===void 0?void 0:Ae.call(ne)]),wt]),zt=getTransitionProps(Ot);return createVNode(Transition,_objectSpread2$1(_objectSpread2$1({},zt),{},{onBeforeEnter:me,onAfterEnter:function(){return ve(!0)},onAfterLeave:function(){return ve(!1)}}),{default:function(){return[mt||!vt?withDirectives(createVNode("div",_objectSpread2$1(_objectSpread2$1({},oe),{},{ref:ue,key:"dialog-element",role:"document",style:[fe.value,oe.style],class:[ke,oe.class],onMousedown:xt,onMouseup:It}),[createVNode("div",{tabindex:0,ref:le,style:sentinelStyle,"aria-hidden":"true"},null),st?st({originVNode:_t}):_t,createVNode("div",{tabindex:0,ref:se,style:sentinelStyle,"aria-hidden":"true"},null)]),[[vShow,mt]]):null]}})}}});function _objectDestructuringEmpty(G){if(G==null)throw new TypeError("Cannot destructure "+G)}const Mask=defineComponent({compatConfig:{MODE:3},name:"Mask",props:{prefixCls:String,visible:Boolean,motionName:String,maskProps:Object},setup:function G(U,W){return _objectDestructuringEmpty(W),function(){var X=U.prefixCls,ne=U.visible,oe=U.maskProps,le=U.motionName,se=getTransitionProps(le);return createVNode(Transition,se,{default:function(){return[withDirectives(createVNode("div",_objectSpread2$1({class:"".concat(X,"-mask")},oe),null),[[vShow,ne]])]}})}}}),Dialog=defineComponent({compatConfig:{MODE:3},name:"Dialog",inheritAttrs:!1,props:initDefaultProps$1(_objectSpread2$1(_objectSpread2$1({},dialogPropTypes()),{},{getOpenCount:Function,scrollLocker:Object}),{mask:!0,visible:!1,keyboard:!0,closable:!0,maskClosable:!0,destroyOnClose:!1,prefixCls:"rc-dialog",getOpenCount:function G(){return null},focusTriggerAfterClose:!0}),setup:function G(U,W){var X=W.attrs,ne=W.slots,oe=ref(),le=ref(),se=ref(),ue=ref(U.visible),ce=ref("vcDialogTitle".concat(getUUID())),fe=function(Le){if(Le){if(!contains(le.value,document.activeElement)){var qe;oe.value=document.activeElement,(qe=se.value)===null||qe===void 0||qe.focus()}}else{var Je=ue.value;if(ue.value=!1,U.mask&&oe.value&&U.focusTriggerAfterClose){try{oe.value.focus({preventScroll:!0})}catch{}oe.value=null}if(Je){var Fe;(Fe=U.afterClose)===null||Fe===void 0||Fe.call(U)}}},me=function(Le){var qe;(qe=U.onClose)===null||qe===void 0||qe.call(U,Le)},ve=ref(!1),be=ref(),Se=function(){clearTimeout(be.value),ve.value=!0},_e=function(){be.value=setTimeout(function(){ve.value=!1})},Ae=function(Le){if(!U.maskClosable)return null;ve.value?ve.value=!1:le.value===Le.target&&me(Le)},ke=function(Le){if(U.keyboard&&Le.keyCode===KeyCode$1.ESC){Le.stopPropagation(),me(Le);return}U.visible&&Le.keyCode===KeyCode$1.TAB&&se.value.changeActive(!Le.shiftKey)};return watch$1(function(){return U.visible},function(){U.visible&&(ue.value=!0)},{flush:"post"}),onBeforeUnmount(function(){var Me;clearTimeout(be.value),(Me=U.scrollLocker)===null||Me===void 0||Me.unLock()}),watchEffect(function(){var Me;if((Me=U.scrollLocker)===null||Me===void 0||Me.unLock(),ue.value){var Le;(Le=U.scrollLocker)===null||Le===void 0||Le.lock()}}),function(){var Me=U.prefixCls,Le=U.mask,qe=U.visible,Je=U.maskTransitionName,Fe=U.maskAnimation,Ve=U.zIndex,Ze=U.wrapClassName,Xe=U.rootClassName,dt=U.wrapStyle,ht=U.closable,lt=U.maskProps,xt=U.maskStyle,It=U.transitionName,mt=U.animation,ot=U.wrapProps,st=U.title,vt=st===void 0?ne.title:st,Ot=X.style,wt=X.class;return createVNode("div",_objectSpread2$1({class:["".concat(Me,"-root"),Xe]},pickAttrs(U,{data:!0})),[createVNode(Mask,{prefixCls:Me,visible:Le&&qe,motionName:getMotionName(Me,Je,Fe),style:_objectSpread2$1({zIndex:Ve},xt),maskProps:lt},null),createVNode("div",_objectSpread2$1({tabIndex:-1,onKeydown:ke,class:classNames("".concat(Me,"-wrap"),Ze),ref:le,onClick:Ae,role:"dialog","aria-labelledby":vt?ce.value:null,style:_objectSpread2$1(_objectSpread2$1({zIndex:Ve},dt),{},{display:ue.value?null:"none"})},ot),[createVNode(Content,_objectSpread2$1(_objectSpread2$1({},omit(U,["scrollLocker"])),{},{style:Ot,class:wt,onMousedown:Se,onMouseup:_e,ref:se,closable:ht,ariaId:ce.value,prefixCls:Me,visible:qe,onClose:me,onVisibleChanged:fe,motionName:getMotionName(Me,It,mt)}),ne)])])}}});var IDialogPropTypes=dialogPropTypes(),DialogWrap=defineComponent({compatConfig:{MODE:3},name:"DialogWrap",inheritAttrs:!1,props:initDefaultProps$1(IDialogPropTypes,{visible:!1}),setup:function G(U,W){var X=W.attrs,ne=W.slots,oe=ref(U.visible);return useProvidePortal({},{inTriggerContext:!1}),watch$1(function(){return U.visible},function(){U.visible&&(oe.value=!0)},{flush:"post"}),function(){var le=U.visible,se=U.getContainer,ue=U.forceRender,ce=U.destroyOnClose,fe=ce===void 0?!1:ce,me=U.afterClose,ve=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},U),X),{},{ref:"_component",key:"dialog"});return se===!1?createVNode(Dialog,_objectSpread2$1(_objectSpread2$1({},ve),{},{getOpenCount:function(){return 2}}),ne):!ue&&fe&&!oe.value?null:createVNode(Portal,{visible:le,forceRender:ue,getContainer:se},{default:function(Se){return ve=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ve),Se),{},{afterClose:function(){me==null||me(),oe.value=!1}}),createVNode(Dialog,ve,ne)}})}}});const DialogWrap$1=DialogWrap,MiniSelect=defineComponent({compatConfig:{MODE:3},inheritAttrs:!1,props:selectProps(),Option:VcSelect.Option,setup:function G(U,W){var X=W.attrs,ne=W.slots;return function(){var oe=_objectSpread2$1(_objectSpread2$1({},U),{},{size:"small"},X);return createVNode(VcSelect,oe,ne)}}}),Pager=defineComponent({compatConfig:{MODE:3},name:"Pager",inheritAttrs:!1,props:{rootPrefixCls:String,page:Number,active:{type:Boolean,default:void 0},last:{type:Boolean,default:void 0},locale:PropTypes$1.object,showTitle:{type:Boolean,default:void 0},itemRender:{type:Function,default:function G(){}},onClick:{type:Function},onKeypress:{type:Function}},eimt:["click","keypress"],setup:function G(U,W){var X=W.emit,ne=W.attrs,oe=function(){X("click",U.page)},le=function(ue){X("keypress",ue,oe,U.page)};return function(){var se,ue=U.showTitle,ce=U.page,fe=U.itemRender,me=ne.class,ve=ne.style,be="".concat(U.rootPrefixCls,"-item"),Se=classNames(be,"".concat(be,"-").concat(U.page),(se={},_defineProperty$1(se,"".concat(be,"-active"),U.active),_defineProperty$1(se,"".concat(be,"-disabled"),!U.page),se),me);return createVNode("li",{onClick:oe,onKeypress:le,title:ue?String(ce):null,tabindex:"0",class:Se,style:ve},[fe({page:ce,type:"page",originalElement:createVNode("a",{rel:"nofollow"},[ce])})])}}}),KEYCODE={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Options=defineComponent({compatConfig:{MODE:3},props:{disabled:{type:Boolean,default:void 0},changeSize:Function,quickGo:Function,selectComponentClass:PropTypes$1.any,current:Number,pageSizeOptions:PropTypes$1.array.def(["10","20","50","100"]),pageSize:Number,buildOptionText:Function,locale:PropTypes$1.object,rootPrefixCls:String,selectPrefixCls:String,goButton:PropTypes$1.any},setup:function G(U){var W=ref(""),X=computed(function(){return!W.value||isNaN(W.value)?void 0:Number(W.value)}),ne=function(fe){return"".concat(fe.value," ").concat(U.locale.items_per_page)},oe=function(fe){var me=fe.target,ve=me.value,be=me.composing;fe.isComposing||be||W.value===ve||(W.value=ve)},le=function(fe){var me=U.goButton,ve=U.quickGo,be=U.rootPrefixCls;if(!(me||W.value===""))if(fe.relatedTarget&&(fe.relatedTarget.className.indexOf("".concat(be,"-item-link"))>=0||fe.relatedTarget.className.indexOf("".concat(be,"-item"))>=0)){W.value="";return}else ve(X.value),W.value=""},se=function(fe){W.value!==""&&(fe.keyCode===KEYCODE.ENTER||fe.type==="click")&&(U.quickGo(X.value),W.value="")},ue=computed(function(){var ce=U.pageSize,fe=U.pageSizeOptions;return fe.some(function(me){return me.toString()===ce.toString()})?fe:fe.concat([ce.toString()]).sort(function(me,ve){var be=isNaN(Number(me))?0:Number(me),Se=isNaN(Number(ve))?0:Number(ve);return be-Se})});return function(){var ce=U.rootPrefixCls,fe=U.locale,me=U.changeSize,ve=U.quickGo,be=U.goButton,Se=U.selectComponentClass,_e=U.selectPrefixCls,Ae=U.pageSize,ke=U.disabled,Me="".concat(ce,"-options"),Le=null,qe=null,Je=null;if(!me&&!ve)return null;if(me&&Se){var Fe=U.buildOptionText||ne,Ve=ue.value.map(function(Ze,Xe){return createVNode(Se.Option,{key:Xe,value:Ze},{default:function(){return[Fe({value:Ze})]}})});Le=createVNode(Se,{disabled:ke,prefixCls:_e,showSearch:!1,class:"".concat(Me,"-size-changer"),optionLabelProp:"children",value:(Ae||ue.value[0]).toString(),onChange:function(Xe){return me(Number(Xe))},getPopupContainer:function(Xe){return Xe.parentNode}},{default:function(){return[Ve]}})}return ve&&(be&&(Je=typeof be=="boolean"?createVNode("button",{type:"button",onClick:se,onKeyup:se,disabled:ke,class:"".concat(Me,"-quick-jumper-button")},[fe.jump_to_confirm]):createVNode("span",{onClick:se,onKeyup:se},[be])),qe=createVNode("div",{class:"".concat(Me,"-quick-jumper")},[fe.jump_to,withDirectives(createVNode("input",{disabled:ke,type:"text",value:W.value,onInput:oe,onChange:oe,onKeyup:se,onBlur:le},null),[[antInputDirective]]),fe.page,Je])),createVNode("li",{class:"".concat(Me)},[Le,qe])}}}),LOCALE={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875"};var _excluded$2=["class"];function isInteger(G){return typeof G=="number"&&isFinite(G)&&Math.floor(G)===G}function defaultItemRender(G){var U=G.originalElement;return U}function calculatePage(G,U,W){var X=typeof G>"u"?U.statePageSize:G;return Math.floor((W.total-1)/X)+1}const VcPagination=defineComponent({compatConfig:{MODE:3},name:"Pagination",mixins:[BaseMixin],inheritAttrs:!1,props:{disabled:{type:Boolean,default:void 0},prefixCls:PropTypes$1.string.def("rc-pagination"),selectPrefixCls:PropTypes$1.string.def("rc-select"),current:Number,defaultCurrent:PropTypes$1.number.def(1),total:PropTypes$1.number.def(0),pageSize:Number,defaultPageSize:PropTypes$1.number.def(10),hideOnSinglePage:{type:Boolean,default:!1},showSizeChanger:{type:Boolean,default:void 0},showLessItems:{type:Boolean,default:!1},selectComponentClass:PropTypes$1.any,showPrevNextJumpers:{type:Boolean,default:!0},showQuickJumper:PropTypes$1.oneOfType([PropTypes$1.looseBool,PropTypes$1.object]).def(!1),showTitle:{type:Boolean,default:!0},pageSizeOptions:PropTypes$1.arrayOf(PropTypes$1.oneOfType([PropTypes$1.number,PropTypes$1.string])),buildOptionText:Function,showTotal:Function,simple:{type:Boolean,default:void 0},locale:PropTypes$1.object.def(LOCALE),itemRender:PropTypes$1.func.def(defaultItemRender),prevIcon:PropTypes$1.any,nextIcon:PropTypes$1.any,jumpPrevIcon:PropTypes$1.any,jumpNextIcon:PropTypes$1.any,totalBoundaryShowSizeChanger:PropTypes$1.number.def(50)},data:function G(){var U=this.$props,W=firstNotUndefined([this.current,this.defaultCurrent]),X=firstNotUndefined([this.pageSize,this.defaultPageSize]);return W=Math.min(W,calculatePage(X,void 0,U)),{stateCurrent:W,stateCurrentInputValue:W,statePageSize:X}},watch:{current:function G(U){this.setState({stateCurrent:U,stateCurrentInputValue:U})},pageSize:function G(U){var W={},X=this.stateCurrent,ne=calculatePage(U,this.$data,this.$props);X=X>ne?ne:X,hasProp(this,"current")||(W.stateCurrent=X,W.stateCurrentInputValue=X),W.statePageSize=U,this.setState(W)},stateCurrent:function G(U,W){var X=this;this.$nextTick(function(){if(X.$refs.paginationNode){var ne=X.$refs.paginationNode.querySelector(".".concat(X.prefixCls,"-item-").concat(W));ne&&document.activeElement===ne&&ne.blur()}})},total:function G(){var U={},W=calculatePage(this.pageSize,this.$data,this.$props);if(hasProp(this,"current")){var X=Math.min(this.current,W);U.stateCurrent=X,U.stateCurrentInputValue=X}else{var ne=this.stateCurrent;ne===0&&W>0?ne=1:ne=Math.min(this.stateCurrent,W),U.stateCurrent=ne}this.setState(U)}},methods:{getJumpPrevPage:function G(){return Math.max(1,this.stateCurrent-(this.showLessItems?3:5))},getJumpNextPage:function G(){return Math.min(calculatePage(void 0,this.$data,this.$props),this.stateCurrent+(this.showLessItems?3:5))},getItemIcon:function G(U,W){var X=this.$props.prefixCls,ne=getComponent(this,U,this.$props)||createVNode("button",{type:"button","aria-label":W,class:"".concat(X,"-item-link")},null);return ne},getValidValue:function G(U){var W=U.target.value,X=calculatePage(void 0,this.$data,this.$props),ne=this.$data.stateCurrentInputValue,oe;return W===""?oe=W:isNaN(Number(W))?oe=ne:W>=X?oe=X:oe=Number(W),oe},isValid:function G(U){return isInteger(U)&&U!==this.stateCurrent},shouldDisplayQuickJumper:function G(){var U=this.$props,W=U.showQuickJumper,X=U.pageSize,ne=U.total;return ne<=X?!1:W},handleKeyDown:function G(U){(U.keyCode===KEYCODE.ARROW_UP||U.keyCode===KEYCODE.ARROW_DOWN)&&U.preventDefault()},handleKeyUp:function G(U){if(!(U.isComposing||U.target.composing)){var W=this.getValidValue(U),X=this.stateCurrentInputValue;W!==X&&this.setState({stateCurrentInputValue:W}),U.keyCode===KEYCODE.ENTER?this.handleChange(W):U.keyCode===KEYCODE.ARROW_UP?this.handleChange(W-1):U.keyCode===KEYCODE.ARROW_DOWN&&this.handleChange(W+1)}},changePageSize:function G(U){var W=this.stateCurrent,X=W,ne=calculatePage(U,this.$data,this.$props);W=W>ne?ne:W,ne===0&&(W=this.stateCurrent),typeof U=="number"&&(hasProp(this,"pageSize")||this.setState({statePageSize:U}),hasProp(this,"current")||this.setState({stateCurrent:W,stateCurrentInputValue:W})),this.__emit("update:pageSize",U),W!==X&&this.__emit("update:current",W),this.__emit("showSizeChange",W,U),this.__emit("change",W,U)},handleChange:function G(U){var W=this.$props.disabled,X=U;if(this.isValid(X)&&!W){var ne=calculatePage(void 0,this.$data,this.$props);return X>ne?X=ne:X<1&&(X=1),hasProp(this,"current")||this.setState({stateCurrent:X,stateCurrentInputValue:X}),this.__emit("update:current",X),this.__emit("change",X,this.statePageSize),X}return this.stateCurrent},prev:function G(){this.hasPrev()&&this.handleChange(this.stateCurrent-1)},next:function G(){this.hasNext()&&this.handleChange(this.stateCurrent+1)},jumpPrev:function G(){this.handleChange(this.getJumpPrevPage())},jumpNext:function G(){this.handleChange(this.getJumpNextPage())},hasPrev:function G(){return this.stateCurrent>1},hasNext:function G(){return this.stateCurrent<calculatePage(void 0,this.$data,this.$props)},getShowSizeChanger:function G(){var U=this.$props,W=U.showSizeChanger,X=U.total,ne=U.totalBoundaryShowSizeChanger;return typeof W<"u"?W:X>ne},runIfEnter:function G(U,W){if(U.key==="Enter"||U.charCode===13){for(var X=arguments.length,ne=new Array(X>2?X-2:0),oe=2;oe<X;oe++)ne[oe-2]=arguments[oe];W.apply(void 0,ne)}},runIfEnterPrev:function G(U){this.runIfEnter(U,this.prev)},runIfEnterNext:function G(U){this.runIfEnter(U,this.next)},runIfEnterJumpPrev:function G(U){this.runIfEnter(U,this.jumpPrev)},runIfEnterJumpNext:function G(U){this.runIfEnter(U,this.jumpNext)},handleGoTO:function G(U){(U.keyCode===KEYCODE.ENTER||U.type==="click")&&this.handleChange(this.stateCurrentInputValue)},renderPrev:function G(U){var W=this.$props.itemRender,X=W({page:U,type:"prev",originalElement:this.getItemIcon("prevIcon","prev page")}),ne=!this.hasPrev();return isValidElement(X)?cloneElement(X,ne?{disabled:ne}:{}):X},renderNext:function G(U){var W=this.$props.itemRender,X=W({page:U,type:"next",originalElement:this.getItemIcon("nextIcon","next page")}),ne=!this.hasNext();return isValidElement(X)?cloneElement(X,ne?{disabled:ne}:{}):X}},render:function G(){var U,W=this.$props,X=W.prefixCls,ne=W.disabled,oe=W.hideOnSinglePage,le=W.total,se=W.locale,ue=W.showQuickJumper,ce=W.showLessItems,fe=W.showTitle,me=W.showTotal,ve=W.simple,be=W.itemRender,Se=W.showPrevNextJumpers,_e=W.jumpPrevIcon,Ae=W.jumpNextIcon,ke=W.selectComponentClass,Me=W.selectPrefixCls,Le=W.pageSizeOptions,qe=this.stateCurrent,Je=this.statePageSize,Fe=splitAttrs(this.$attrs).extraAttrs,Ve=Fe.class,Ze=_objectWithoutProperties(Fe,_excluded$2);if(oe===!0&&this.total<=Je)return null;var Xe=calculatePage(void 0,this.$data,this.$props),dt=[],ht=null,lt=null,xt=null,It=null,mt=null,ot=ue&&ue.goButton,st=ce?1:2,vt=qe-1>0?qe-1:0,Ot=qe+1<Xe?qe+1:Xe,wt=this.hasPrev(),Wt=this.hasNext();if(ve)return ot&&(typeof ot=="boolean"?mt=createVNode("button",{type:"button",onClick:this.handleGoTO,onKeyup:this.handleGoTO},[se.jump_to_confirm]):mt=createVNode("span",{onClick:this.handleGoTO,onKeyup:this.handleGoTO},[ot]),mt=createVNode("li",{title:fe?"".concat(se.jump_to).concat(qe,"/").concat(Xe):null,class:"".concat(X,"-simple-pager")},[mt])),createVNode("ul",_objectSpread2$1({class:classNames("".concat(X," ").concat(X,"-simple"),_defineProperty$1({},"".concat(X,"-disabled"),ne),Ve)},Ze),[createVNode("li",{title:fe?se.prev_page:null,onClick:this.prev,tabindex:wt?0:null,onKeypress:this.runIfEnterPrev,class:classNames("".concat(X,"-prev"),_defineProperty$1({},"".concat(X,"-disabled"),!wt)),"aria-disabled":!wt},[this.renderPrev(vt)]),createVNode("li",{title:fe?"".concat(qe,"/").concat(Xe):null,class:"".concat(X,"-simple-pager")},[withDirectives(createVNode("input",{type:"text",value:this.stateCurrentInputValue,disabled:ne,onKeydown:this.handleKeyDown,onKeyup:this.handleKeyUp,onInput:this.handleKeyUp,onChange:this.handleKeyUp,size:"3"},null),[[antInputDirective]]),createVNode("span",{class:"".concat(X,"-slash")},[createTextVNode("\uFF0F")]),Xe]),createVNode("li",{title:fe?se.next_page:null,onClick:this.next,tabindex:Wt?0:null,onKeypress:this.runIfEnterNext,class:classNames("".concat(X,"-next"),_defineProperty$1({},"".concat(X,"-disabled"),!Wt)),"aria-disabled":!Wt},[this.renderNext(Ot)]),mt]);if(Xe<=3+st*2){var qt={locale:se,rootPrefixCls:X,showTitle:fe,itemRender:be,onClick:this.handleChange,onKeypress:this.runIfEnter};Xe||dt.push(createVNode(Pager,_objectSpread2$1(_objectSpread2$1({},qt),{},{key:"noPager",page:1,class:"".concat(X,"-item-disabled")}),null));for(var _t=1;_t<=Xe;_t+=1){var zt=qe===_t;dt.push(createVNode(Pager,_objectSpread2$1(_objectSpread2$1({},qt),{},{key:_t,page:_t,active:zt}),null))}}else{var nn=ce?se.prev_3:se.prev_5,en=ce?se.next_3:se.next_5;Se&&(ht=createVNode("li",{title:this.showTitle?nn:null,key:"prev",onClick:this.jumpPrev,tabindex:"0",onKeypress:this.runIfEnterJumpPrev,class:classNames("".concat(X,"-jump-prev"),_defineProperty$1({},"".concat(X,"-jump-prev-custom-icon"),!!_e))},[be({page:this.getJumpPrevPage(),type:"jump-prev",originalElement:this.getItemIcon("jumpPrevIcon","prev page")})]),lt=createVNode("li",{title:this.showTitle?en:null,key:"next",tabindex:"0",onClick:this.jumpNext,onKeypress:this.runIfEnterJumpNext,class:classNames("".concat(X,"-jump-next"),_defineProperty$1({},"".concat(X,"-jump-next-custom-icon"),!!Ae))},[be({page:this.getJumpNextPage(),type:"jump-next",originalElement:this.getItemIcon("jumpNextIcon","next page")})])),It=createVNode(Pager,{locale:se,last:!0,rootPrefixCls:X,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Xe,page:Xe,active:!1,showTitle:fe,itemRender:be},null),xt=createVNode(Pager,{locale:se,rootPrefixCls:X,onClick:this.handleChange,onKeypress:this.runIfEnter,key:1,page:1,active:!1,showTitle:fe,itemRender:be},null);var Nt=Math.max(1,qe-st),Ut=Math.min(qe+st,Xe);qe-1<=st&&(Ut=1+st*2),Xe-qe<=st&&(Nt=Xe-st*2);for(var Ft=Nt;Ft<=Ut;Ft+=1){var sn=qe===Ft;dt.push(createVNode(Pager,{locale:se,rootPrefixCls:X,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Ft,page:Ft,active:sn,showTitle:fe,itemRender:be},null))}qe-1>=st*2&&qe!==1+2&&(dt[0]=createVNode(Pager,{locale:se,rootPrefixCls:X,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Nt,page:Nt,class:"".concat(X,"-item-after-jump-prev"),active:!1,showTitle:this.showTitle,itemRender:be},null),dt.unshift(ht)),Xe-qe>=st*2&&qe!==Xe-2&&(dt[dt.length-1]=createVNode(Pager,{locale:se,rootPrefixCls:X,onClick:this.handleChange,onKeypress:this.runIfEnter,key:Ut,page:Ut,class:"".concat(X,"-item-before-jump-next"),active:!1,showTitle:this.showTitle,itemRender:be},null),dt.push(lt)),Nt!==1&&dt.unshift(xt),Ut!==Xe&&dt.push(It)}var un=null;me&&(un=createVNode("li",{class:"".concat(X,"-total-text")},[me(le,[le===0?0:(qe-1)*Je+1,qe*Je>le?le:qe*Je])]));var je=!wt||!Xe,ze=!Wt||!Xe,we=this.buildOptionText||this.$slots.buildOptionText;return createVNode("ul",_objectSpread2$1(_objectSpread2$1({unselectable:"on",ref:"paginationNode"},Ze),{},{class:classNames((U={},_defineProperty$1(U,"".concat(X),!0),_defineProperty$1(U,"".concat(X,"-disabled"),ne),U),Ve)}),[un,createVNode("li",{title:fe?se.prev_page:null,onClick:this.prev,tabindex:je?null:0,onKeypress:this.runIfEnterPrev,class:classNames("".concat(X,"-prev"),_defineProperty$1({},"".concat(X,"-disabled"),je)),"aria-disabled":je},[this.renderPrev(vt)]),dt,createVNode("li",{title:fe?se.next_page:null,onClick:this.next,tabindex:ze?null:0,onKeypress:this.runIfEnterNext,class:classNames("".concat(X,"-next"),_defineProperty$1({},"".concat(X,"-disabled"),ze)),"aria-disabled":ze},[this.renderNext(Ot)]),createVNode(Options,{disabled:ne,locale:se,rootPrefixCls:X,selectComponentClass:ke,selectPrefixCls:Me,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:qe,pageSize:Je,pageSizeOptions:Le,buildOptionText:we||null,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:ot},null)])}});var _excluded$1=["size","itemRender","buildOptionText","selectComponentClass","responsive"],paginationProps=function G(){return{total:Number,defaultCurrent:Number,disabled:{type:Boolean,default:void 0},current:Number,defaultPageSize:Number,pageSize:Number,hideOnSinglePage:{type:Boolean,default:void 0},showSizeChanger:{type:Boolean,default:void 0},pageSizeOptions:Array,buildOptionText:Function,showQuickJumper:{type:[Boolean,Object],default:void 0},showTotal:Function,size:String,simple:{type:Boolean,default:void 0},locale:Object,prefixCls:String,selectPrefixCls:String,totalBoundaryShowSizeChanger:Number,selectComponentClass:String,itemRender:Function,role:String,responsive:Boolean,showLessItems:{type:Boolean,default:void 0},onChange:Function,onShowSizeChange:Function,"onUpdate:current":Function,"onUpdate:pageSize":Function}};const Pagination=defineComponent({compatConfig:{MODE:3},name:"APagination",inheritAttrs:!1,props:paginationProps(),setup:function G(U,W){var X=W.slots,ne=W.attrs,oe=useConfigInject("pagination",U),le=oe.prefixCls,se=oe.configProvider,ue=oe.direction,ce=computed(function(){return se.getPrefixCls("select",U.selectPrefixCls)}),fe=useBreakpoint(),me=useLocaleReceiver("Pagination",enUS$1,toRef(U,"locale")),ve=_slicedToArray(me,1),be=ve[0],Se=function(Ae){var ke=createVNode("span",{class:"".concat(Ae,"-item-ellipsis")},[createTextVNode("\u2022\u2022\u2022")]),Me=createVNode("button",{class:"".concat(Ae,"-item-link"),type:"button",tabindex:-1},[createVNode(LeftOutlined$1,null,null)]),Le=createVNode("button",{class:"".concat(Ae,"-item-link"),type:"button",tabindex:-1},[createVNode(RightOutlined$1,null,null)]),qe=createVNode("a",{rel:"nofollow",class:"".concat(Ae,"-item-link")},[createVNode("div",{class:"".concat(Ae,"-item-container")},[createVNode(DoubleLeftOutlined$1,{class:"".concat(Ae,"-item-link-icon")},null),ke])]),Je=createVNode("a",{rel:"nofollow",class:"".concat(Ae,"-item-link")},[createVNode("div",{class:"".concat(Ae,"-item-container")},[createVNode(DoubleRightOutlined$1,{class:"".concat(Ae,"-item-link-icon")},null),ke])]);if(ue.value==="rtl"){var Fe=[Le,Me];Me=Fe[0],Le=Fe[1];var Ve=[Je,qe];qe=Ve[0],Je=Ve[1]}return{prevIcon:Me,nextIcon:Le,jumpPrevIcon:qe,jumpNextIcon:Je}};return function(){var _e,Ae=U.size,ke=U.itemRender,Me=ke===void 0?X.itemRender:ke,Le=U.buildOptionText,qe=Le===void 0?X.buildOptionText:Le,Je=U.selectComponentClass,Fe=U.responsive,Ve=_objectWithoutProperties(U,_excluded$1),Ze=Ae==="small"||!!((_e=fe.value)!==null&&_e!==void 0&&_e.xs&&!Ae&&Fe),Xe=_objectSpread2$1(_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},Ve),Se(le.value)),{},{prefixCls:le.value,selectPrefixCls:ce.value,selectComponentClass:Je||(Ze?MiniSelect:VcSelect),locale:be.value,buildOptionText:qe},ne),{},{class:classNames(_defineProperty$1({mini:Ze},"".concat(le.value,"-rtl"),ue.value==="rtl"),ne.class),itemRender:Me});return createVNode(VcPagination,Xe,null)}}}),APagination=withInstall(Pagination);var _excluded=["prefixCls","visible","wrapClassName","centered","getContainer","closeIcon","focusTriggerAfterClose"],mousePosition=null,getClickPosition=function G(U){mousePosition={x:U.pageX,y:U.pageY},setTimeout(function(){return mousePosition=null},100)};canUseDocElement()&&addEventListenerWrap(document.documentElement,"click",getClickPosition,!0);var modalProps=function G(){return{prefixCls:String,visible:{type:Boolean,default:void 0},confirmLoading:{type:Boolean,default:void 0},title:PropTypes$1.any,closable:{type:Boolean,default:void 0},closeIcon:PropTypes$1.any,onOk:Function,onCancel:Function,"onUpdate:visible":Function,onChange:Function,afterClose:Function,centered:{type:Boolean,default:void 0},width:[String,Number],footer:PropTypes$1.any,okText:PropTypes$1.any,okType:String,cancelText:PropTypes$1.any,icon:PropTypes$1.any,maskClosable:{type:Boolean,default:void 0},forceRender:{type:Boolean,default:void 0},okButtonProps:Object,cancelButtonProps:Object,destroyOnClose:{type:Boolean,default:void 0},wrapClassName:String,maskTransitionName:String,transitionName:String,getContainer:{type:[String,Function,Boolean,Object],default:void 0},zIndex:Number,bodyStyle:{type:Object,default:void 0},maskStyle:{type:Object,default:void 0},mask:{type:Boolean,default:void 0},keyboard:{type:Boolean,default:void 0},wrapProps:Object,focusTriggerAfterClose:{type:Boolean,default:void 0},modalRender:Function}},destroyFns=[];const Modal=defineComponent({compatConfig:{MODE:3},name:"AModal",inheritAttrs:!1,props:initDefaultProps$1(modalProps(),{width:520,transitionName:"zoom",maskTransitionName:"fade",confirmLoading:!1,visible:!1,okType:"primary"}),setup:function G(U,W){var X=W.emit,ne=W.slots,oe=W.attrs,le=useLocaleReceiver("Modal"),se=_slicedToArray(le,1),ue=se[0],ce=useConfigInject("modal",U),fe=ce.prefixCls,me=ce.rootPrefixCls,ve=ce.direction,be=ce.getPopupContainer,Se=function(Me){X("update:visible",!1),X("cancel",Me),X("change",!1)},_e=function(Me){X("ok",Me)},Ae=function(){var Me,Le,qe=U.okText,Je=qe===void 0?(Me=ne.okText)===null||Me===void 0?void 0:Me.call(ne):qe,Fe=U.okType,Ve=U.cancelText,Ze=Ve===void 0?(Le=ne.cancelText)===null||Le===void 0?void 0:Le.call(ne):Ve,Xe=U.confirmLoading;return createVNode(Fragment,null,[createVNode(Button,_objectSpread2$1({onClick:Se},U.cancelButtonProps),{default:function(){return[Ze||ue.value.cancelText]}}),createVNode(Button,_objectSpread2$1(_objectSpread2$1({},convertLegacyProps(Fe)),{},{loading:Xe,onClick:_e},U.okButtonProps),{default:function(){return[Je||ue.value.okText]}})])};return function(){var ke,Me;U.prefixCls;var Le=U.visible,qe=U.wrapClassName,Je=U.centered,Fe=U.getContainer,Ve=U.closeIcon,Ze=Ve===void 0?(ke=ne.closeIcon)===null||ke===void 0?void 0:ke.call(ne):Ve,Xe=U.focusTriggerAfterClose,dt=Xe===void 0?!0:Xe,ht=_objectWithoutProperties(U,_excluded),lt=classNames(qe,(Me={},_defineProperty$1(Me,"".concat(fe.value,"-centered"),!!Je),_defineProperty$1(Me,"".concat(fe.value,"-wrap-rtl"),ve.value==="rtl"),Me));return createVNode(DialogWrap$1,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},ht),oe),{},{getContainer:Fe||be.value,prefixCls:fe.value,wrapClassName:lt,visible:Le,mousePosition,onClose:Se,focusTriggerAfterClose:dt,transitionName:getTransitionName$1(me.value,"zoom",U.transitionName),maskTransitionName:getTransitionName$1(me.value,"fade",U.maskTransitionName)}),_objectSpread2$1(_objectSpread2$1({},ne),{},{footer:ne.footer||Ae,closeIcon:function(){return createVNode("span",{class:"".concat(fe.value,"-close-x")},[Ze||createVNode(CloseOutlined$1,{class:"".concat(fe.value,"-close-icon")},null)])}}))}}});var useDestroyed=function G(){var U=ref(!1);return onBeforeUnmount(function(){U.value=!0}),U};const useDestroyed$1=useDestroyed;var actionButtonProps={type:{type:String},actionFn:Function,close:Function,autofocus:Boolean,prefixCls:String,buttonProps:Object,emitEvent:Boolean,quitOnNullishReturnValue:Boolean};function isThenable(G){return!!(G&&!!G.then)}const ActionButton=defineComponent({compatConfig:{MODE:3},name:"ActionButton",props:actionButtonProps,setup:function G(U,W){var X=W.slots,ne=ref(!1),oe=ref(),le=ref(!1),se,ue=useDestroyed$1();onMounted(function(){U.autofocus&&(se=setTimeout(function(){var me;return(me=oe.value.$el)===null||me===void 0?void 0:me.focus()}))}),onBeforeUnmount(function(){clearTimeout(se)});var ce=function(ve){var be=U.close;!isThenable(ve)||(le.value=!0,ve.then(function(){ue.value||(le.value=!1),be.apply(void 0,arguments),ne.value=!1},function(Se){console.error(Se),ue.value||(le.value=!1),ne.value=!1}))},fe=function(ve){var be=U.actionFn,Se=U.close,_e=Se===void 0?function(){}:Se;if(!ne.value){if(ne.value=!0,!be){_e();return}var Ae;if(U.emitEvent){if(Ae=be(ve),U.quitOnNullishReturnValue&&!isThenable(Ae)){ne.value=!1,_e(ve);return}}else if(be.length)Ae=be(_e),ne.value=!1;else if(Ae=be(),!Ae){_e();return}ce(Ae)}};return function(){var me=U.type,ve=U.prefixCls,be=U.buttonProps;return createVNode(Button,_objectSpread2$1(_objectSpread2$1(_objectSpread2$1({},convertLegacyProps(me)),{},{onClick:fe,loading:le.value,prefixCls:ve},be),{},{ref:oe}),X)}}});function renderSomeContent(G){return typeof G=="function"?G():G}const ConfirmDialog=defineComponent({name:"ConfirmDialog",inheritAttrs:!1,props:["icon","onCancel","onOk","close","closable","zIndex","afterClose","visible","keyboard","centered","getContainer","maskStyle","okButtonProps","cancelButtonProps","okType","prefixCls","okCancel","width","mask","maskClosable","okText","cancelText","autoFocusButton","transitionName","maskTransitionName","type","title","content","direction","rootPrefixCls","bodyStyle","closeIcon","modalRender","focusTriggerAfterClose","wrapClassName"],setup:function G(U,W){var X=W.attrs,ne=useLocaleReceiver("Modal"),oe=_slicedToArray(ne,1),le=oe[0];return function(){var se=U.icon,ue=U.onCancel,ce=U.onOk,fe=U.close,me=U.closable,ve=me===void 0?!1:me,be=U.zIndex,Se=U.afterClose,_e=U.visible,Ae=U.keyboard,ke=U.centered,Me=U.getContainer,Le=U.maskStyle,qe=U.okButtonProps,Je=U.cancelButtonProps,Fe=U.okCancel,Ve=Fe===void 0?!0:Fe,Ze=U.width,Xe=Ze===void 0?416:Ze,dt=U.mask,ht=dt===void 0?!0:dt,lt=U.maskClosable,xt=lt===void 0?!1:lt,It=U.type,mt=U.title,ot=U.content,st=U.direction,vt=U.closeIcon,Ot=U.modalRender,wt=U.focusTriggerAfterClose,Wt=U.rootPrefixCls,qt=U.bodyStyle,_t=U.wrapClassName,zt=U.okType||"primary",nn=U.prefixCls||"ant-modal",en="".concat(nn,"-confirm"),Nt=X.style||{},Ut=renderSomeContent(U.okText)||(Ve?le.value.okText:le.value.justOkText),Ft=renderSomeContent(U.cancelText)||le.value.cancelText,sn=U.autoFocusButton===null?!1:U.autoFocusButton||"ok",un=classNames(en,"".concat(en,"-").concat(It),"".concat(nn,"-").concat(It),_defineProperty$1({},"".concat(en,"-rtl"),st==="rtl"),X.class),je=Ve&&createVNode(ActionButton,{actionFn:ue,close:fe,autofocus:sn==="cancel",buttonProps:Je,prefixCls:"".concat(Wt,"-btn")},{default:function(){return[Ft]}});return createVNode(Modal,{prefixCls:nn,class:un,wrapClassName:classNames(_defineProperty$1({},"".concat(en,"-centered"),!!ke),_t),onCancel:function(we){return fe({triggerCancel:!0},we)},visible:_e,title:"",footer:"",transitionName:getTransitionName$1(Wt,"zoom",U.transitionName),maskTransitionName:getTransitionName$1(Wt,"fade",U.maskTransitionName),mask:ht,maskClosable:xt,maskStyle:Le,style:Nt,bodyStyle:qt,width:Xe,zIndex:be,afterClose:Se,keyboard:Ae,centered:ke,getContainer:Me,closable:ve,closeIcon:vt,modalRender:Ot,focusTriggerAfterClose:wt},{default:function(){return[createVNode("div",{class:"".concat(en,"-body-wrapper")},[createVNode("div",{class:"".concat(en,"-body")},[renderSomeContent(se),mt===void 0?null:createVNode("span",{class:"".concat(en,"-title")},[renderSomeContent(mt)]),createVNode("div",{class:"".concat(en,"-content")},[renderSomeContent(ot)])]),createVNode("div",{class:"".concat(en,"-btns")},[je,createVNode(ActionButton,{type:zt,actionFn:ce,close:fe,autofocus:sn==="ok",buttonProps:qe,prefixCls:"".concat(Wt,"-btn")},{default:function(){return[Ut]}})])])]}})}}});var confirm=function G(U){var W=document.createDocumentFragment(),X=_objectSpread2$1(_objectSpread2$1({},omit(U,["parentContext","appContext"])),{},{close:le,visible:!0}),ne=null;function oe(){ne&&(render(null,W),ne.component.update(),ne=null);for(var fe=arguments.length,me=new Array(fe),ve=0;ve<fe;ve++)me[ve]=arguments[ve];var be=me.some(function(Ae){return Ae&&Ae.triggerCancel});U.onCancel&&be&&U.onCancel.apply(U,me);for(var Se=0;Se<destroyFns.length;Se++){var _e=destroyFns[Se];if(_e===le){destroyFns.splice(Se,1);break}}}function le(){for(var fe=this,me=arguments.length,ve=new Array(me),be=0;be<me;be++)ve[be]=arguments[be];X=_objectSpread2$1(_objectSpread2$1({},X),{},{visible:!1,afterClose:function(){typeof U.afterClose=="function"&&U.afterClose(),oe.apply(fe,ve)}}),se(X)}function se(fe){typeof fe=="function"?X=fe(X):X=_objectSpread2$1(_objectSpread2$1({},X),fe),ne&&(_extends(ne.component.props,X),ne.component.update())}var ue=function(me){var ve=globalConfigForApi,be=ve.prefixCls,Se=me.prefixCls||"".concat(be,"-modal");return createVNode(ConfigProvider,_objectSpread2$1(_objectSpread2$1({},ve),{},{notUpdateGlobalConfig:!0,prefixCls:be}),{default:function(){return[createVNode(ConfirmDialog,_objectSpread2$1(_objectSpread2$1({},me),{},{rootPrefixCls:be,prefixCls:Se}),null)]}})};function ce(fe){var me=createVNode(ue,_objectSpread2$1({},fe));return me.appContext=U.parentContext||U.appContext||me.appContext,render(me,W),me}return ne=ce(X),destroyFns.push(le),{destroy:le,update:se}};const confirm$1=confirm;function withWarn(G){return _objectSpread2$1(_objectSpread2$1({icon:function(){return createVNode(ExclamationCircleOutlined$1,null,null)},okCancel:!1},G),{},{type:"warning"})}function withInfo(G){return _objectSpread2$1(_objectSpread2$1({icon:function(){return createVNode(InfoCircleOutlined$1,null,null)},okCancel:!1},G),{},{type:"info"})}function withSuccess(G){return _objectSpread2$1(_objectSpread2$1({icon:function(){return createVNode(CheckCircleOutlined$1,null,null)},okCancel:!1},G),{},{type:"success"})}function withError(G){return _objectSpread2$1(_objectSpread2$1({icon:function(){return createVNode(CloseCircleOutlined$1,null,null)},okCancel:!1},G),{},{type:"error"})}function withConfirm(G){return _objectSpread2$1(_objectSpread2$1({icon:function(){return createVNode(ExclamationCircleOutlined$1,null,null)},okCancel:!0},G),{},{type:"confirm"})}function modalWarn(G){return confirm$1(withWarn(G))}Modal.info=function G(U){return confirm$1(withInfo(U))};Modal.success=function G(U){return confirm$1(withSuccess(U))};Modal.error=function G(U){return confirm$1(withError(U))};Modal.warning=modalWarn;Modal.warn=modalWarn;Modal.confirm=function G(U){return confirm$1(withConfirm(U))};Modal.destroyAll=function G(){for(;destroyFns.length;){var U=destroyFns.pop();U&&U()}};Modal.install=function(G){return G.component(Modal.name,Modal),G};var t$2=window,e$2=t$2.ShadowRoot&&(t$2.ShadyCSS===void 0||t$2.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),n$1=new WeakMap,o$2=class{constructor(G,U,W){if(this._$cssResult$=!0,W!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=G,this.t=U}get styleSheet(){let G=this.o;const U=this.t;if(e$2&&G===void 0){const W=U!==void 0&&U.length===1;W&&(G=n$1.get(U)),G===void 0&&((this.o=G=new CSSStyleSheet).replaceSync(this.cssText),W&&n$1.set(U,G))}return G}toString(){return this.cssText}},r=G=>new o$2(typeof G=="string"?G:G+"",void 0,s),i$2=(G,...U)=>{const W=G.length===1?G[0]:U.reduce((X,ne,oe)=>X+(le=>{if(le._$cssResult$===!0)return le.cssText;if(typeof le=="number")return le;throw Error("Value passed to 'css' function must be a 'css' function result: "+le+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(ne)+G[oe+1],G[0]);return new o$2(W,G,s)},S=(G,U)=>{e$2?G.adoptedStyleSheets=U.map(W=>W instanceof CSSStyleSheet?W:W.styleSheet):U.forEach(W=>{const X=document.createElement("style"),ne=t$2.litNonce;ne!==void 0&&X.setAttribute("nonce",ne),X.textContent=W.cssText,G.appendChild(X)})},c=e$2?G=>G:G=>G instanceof CSSStyleSheet?(U=>{let W="";for(const X of U.cssRules)W+=X.cssText;return r(W)})(G):G,s2,e2$1=window,r2=e2$1.trustedTypes,h=r2?r2.emptyScript:"",o2$1=e2$1.reactiveElementPolyfillSupport,n2={toAttribute(G,U){switch(U){case Boolean:G=G?h:null;break;case Object:case Array:G=G==null?G:JSON.stringify(G)}return G},fromAttribute(G,U){let W=G;switch(U){case Boolean:W=G!==null;break;case Number:W=G===null?null:Number(G);break;case Object:case Array:try{W=JSON.parse(G)}catch{W=null}}return W}},a=(G,U)=>U!==G&&(U==U||G==G),l={attribute:!0,type:String,converter:n2,reflect:!1,hasChanged:a},d=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(G){var U;this.finalize(),((U=this.h)!==null&&U!==void 0?U:this.h=[]).push(G)}static get observedAttributes(){this.finalize();const G=[];return this.elementProperties.forEach((U,W)=>{const X=this._$Ep(W,U);X!==void 0&&(this._$Ev.set(X,W),G.push(X))}),G}static createProperty(G,U=l){if(U.state&&(U.attribute=!1),this.finalize(),this.elementProperties.set(G,U),!U.noAccessor&&!this.prototype.hasOwnProperty(G)){const W=typeof G=="symbol"?Symbol():"__"+G,X=this.getPropertyDescriptor(G,W,U);X!==void 0&&Object.defineProperty(this.prototype,G,X)}}static getPropertyDescriptor(G,U,W){return{get(){return this[U]},set(X){const ne=this[G];this[U]=X,this.requestUpdate(G,ne,W)},configurable:!0,enumerable:!0}}static getPropertyOptions(G){return this.elementProperties.get(G)||l}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const G=Object.getPrototypeOf(this);if(G.finalize(),G.h!==void 0&&(this.h=[...G.h]),this.elementProperties=new Map(G.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const U=this.properties,W=[...Object.getOwnPropertyNames(U),...Object.getOwnPropertySymbols(U)];for(const X of W)this.createProperty(X,U[X])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(G){const U=[];if(Array.isArray(G)){const W=new Set(G.flat(1/0).reverse());for(const X of W)U.unshift(c(X))}else G!==void 0&&U.push(c(G));return U}static _$Ep(G,U){const W=U.attribute;return W===!1?void 0:typeof W=="string"?W:typeof G=="string"?G.toLowerCase():void 0}u(){var G;this._$E_=new Promise(U=>this.enableUpdating=U),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(G=this.constructor.h)===null||G===void 0||G.forEach(U=>U(this))}addController(G){var U,W;((U=this._$ES)!==null&&U!==void 0?U:this._$ES=[]).push(G),this.renderRoot!==void 0&&this.isConnected&&((W=G.hostConnected)===null||W===void 0||W.call(G))}removeController(G){var U;(U=this._$ES)===null||U===void 0||U.splice(this._$ES.indexOf(G)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((G,U)=>{this.hasOwnProperty(U)&&(this._$Ei.set(U,this[U]),delete this[U])})}createRenderRoot(){var G;const U=(G=this.shadowRoot)!==null&&G!==void 0?G:this.attachShadow(this.constructor.shadowRootOptions);return S(U,this.constructor.elementStyles),U}connectedCallback(){var G;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(G=this._$ES)===null||G===void 0||G.forEach(U=>{var W;return(W=U.hostConnected)===null||W===void 0?void 0:W.call(U)})}enableUpdating(G){}disconnectedCallback(){var G;(G=this._$ES)===null||G===void 0||G.forEach(U=>{var W;return(W=U.hostDisconnected)===null||W===void 0?void 0:W.call(U)})}attributeChangedCallback(G,U,W){this._$AK(G,W)}_$EO(G,U,W=l){var X;const ne=this.constructor._$Ep(G,W);if(ne!==void 0&&W.reflect===!0){const oe=(((X=W.converter)===null||X===void 0?void 0:X.toAttribute)!==void 0?W.converter:n2).toAttribute(U,W.type);this._$El=G,oe==null?this.removeAttribute(ne):this.setAttribute(ne,oe),this._$El=null}}_$AK(G,U){var W;const X=this.constructor,ne=X._$Ev.get(G);if(ne!==void 0&&this._$El!==ne){const oe=X.getPropertyOptions(ne),le=typeof oe.converter=="function"?{fromAttribute:oe.converter}:((W=oe.converter)===null||W===void 0?void 0:W.fromAttribute)!==void 0?oe.converter:n2;this._$El=ne,this[ne]=le.fromAttribute(U,oe.type),this._$El=null}}requestUpdate(G,U,W){let X=!0;G!==void 0&&(((W=W||this.constructor.getPropertyOptions(G)).hasChanged||a)(this[G],U)?(this._$AL.has(G)||this._$AL.set(G,U),W.reflect===!0&&this._$El!==G&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(G,W))):X=!1),!this.isUpdatePending&&X&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(U){Promise.reject(U)}const G=this.scheduleUpdate();return G!=null&&await G,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var G;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((X,ne)=>this[ne]=X),this._$Ei=void 0);let U=!1;const W=this._$AL;try{U=this.shouldUpdate(W),U?(this.willUpdate(W),(G=this._$ES)===null||G===void 0||G.forEach(X=>{var ne;return(ne=X.hostUpdate)===null||ne===void 0?void 0:ne.call(X)}),this.update(W)):this._$Ek()}catch(X){throw U=!1,this._$Ek(),X}U&&this._$AE(W)}willUpdate(G){}_$AE(G){var U;(U=this._$ES)===null||U===void 0||U.forEach(W=>{var X;return(X=W.hostUpdated)===null||X===void 0?void 0:X.call(W)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(G)),this.updated(G)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(G){return!0}update(G){this._$EC!==void 0&&(this._$EC.forEach((U,W)=>this._$EO(W,this[W],U)),this._$EC=void 0),this._$Ek()}updated(G){}firstUpdated(G){}};d.finalized=!0,d.elementProperties=new Map,d.elementStyles=[],d.shadowRootOptions={mode:"open"},o2$1==null||o2$1({ReactiveElement:d}),((s2=e2$1.reactiveElementVersions)!==null&&s2!==void 0?s2:e2$1.reactiveElementVersions=[]).push("1.4.2");var t2,i2$2=window,s3=i2$2.trustedTypes,e3=s3?s3.createPolicy("lit-html",{createHTML:G=>G}):void 0,o3=`lit$${(Math.random()+"").slice(9)}$`,n3="?"+o3,l2=`<${n3}>`,h2=document,r3=(G="")=>h2.createComment(G),d2=G=>G===null||typeof G!="object"&&typeof G!="function",u=Array.isArray,c2=G=>u(G)||typeof(G==null?void 0:G[Symbol.iterator])=="function",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a2=/-->/g,f=/>/g,_=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m=/'/g,p=/"/g,$=/^(?:script|style|textarea|title)$/i,g=G=>(U,...W)=>({_$litType$:G,strings:U,values:W}),y=g(1),x=Symbol.for("lit-noChange"),b=Symbol.for("lit-nothing"),T=new WeakMap,A=h2.createTreeWalker(h2,129,null,!1),E=(G,U)=>{const W=G.length-1,X=[];let ne,oe=U===2?"<svg>":"",le=v;for(let ue=0;ue<W;ue++){const ce=G[ue];let fe,me,ve=-1,be=0;for(;be<ce.length&&(le.lastIndex=be,me=le.exec(ce),me!==null);)be=le.lastIndex,le===v?me[1]==="!--"?le=a2:me[1]!==void 0?le=f:me[2]!==void 0?($.test(me[2])&&(ne=RegExp("</"+me[2],"g")),le=_):me[3]!==void 0&&(le=_):le===_?me[0]===">"?(le=ne!=null?ne:v,ve=-1):me[1]===void 0?ve=-2:(ve=le.lastIndex-me[2].length,fe=me[1],le=me[3]===void 0?_:me[3]==='"'?p:m):le===p||le===m?le=_:le===a2||le===f?le=v:(le=_,ne=void 0);const Se=le===_&&G[ue+1].startsWith("/>")?" ":"";oe+=le===v?ce+l2:ve>=0?(X.push(fe),ce.slice(0,ve)+"$lit$"+ce.slice(ve)+o3+Se):ce+o3+(ve===-2?(X.push(void 0),ue):Se)}const se=oe+(G[W]||"<?>")+(U===2?"</svg>":"");if(!Array.isArray(G)||!G.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e3!==void 0?e3.createHTML(se):se,X]},C=class{constructor({strings:G,_$litType$:U},W){let X;this.parts=[];let ne=0,oe=0;const le=G.length-1,se=this.parts,[ue,ce]=E(G,U);if(this.el=C.createElement(ue,W),A.currentNode=this.el.content,U===2){const fe=this.el.content,me=fe.firstChild;me.remove(),fe.append(...me.childNodes)}for(;(X=A.nextNode())!==null&&se.length<le;){if(X.nodeType===1){if(X.hasAttributes()){const fe=[];for(const me of X.getAttributeNames())if(me.endsWith("$lit$")||me.startsWith(o3)){const ve=ce[oe++];if(fe.push(me),ve!==void 0){const be=X.getAttribute(ve.toLowerCase()+"$lit$").split(o3),Se=/([.?@])?(.*)/.exec(ve);se.push({type:1,index:ne,name:Se[2],strings:be,ctor:Se[1]==="."?M:Se[1]==="?"?k:Se[1]==="@"?H:S2})}else se.push({type:6,index:ne})}for(const me of fe)X.removeAttribute(me)}if($.test(X.tagName)){const fe=X.textContent.split(o3),me=fe.length-1;if(me>0){X.textContent=s3?s3.emptyScript:"";for(let ve=0;ve<me;ve++)X.append(fe[ve],r3()),A.nextNode(),se.push({type:2,index:++ne});X.append(fe[me],r3())}}}else if(X.nodeType===8)if(X.data===n3)se.push({type:2,index:ne});else{let fe=-1;for(;(fe=X.data.indexOf(o3,fe+1))!==-1;)se.push({type:7,index:ne}),fe+=o3.length-1}ne++}}static createElement(G,U){const W=h2.createElement("template");return W.innerHTML=G,W}};function P(G,U,W=G,X){var ne,oe,le,se;if(U===x)return U;let ue=X!==void 0?(ne=W._$Co)===null||ne===void 0?void 0:ne[X]:W._$Cl;const ce=d2(U)?void 0:U._$litDirective$;return(ue==null?void 0:ue.constructor)!==ce&&((oe=ue==null?void 0:ue._$AO)===null||oe===void 0||oe.call(ue,!1),ce===void 0?ue=void 0:(ue=new ce(G),ue._$AT(G,W,X)),X!==void 0?((le=(se=W)._$Co)!==null&&le!==void 0?le:se._$Co=[])[X]=ue:W._$Cl=ue),ue!==void 0&&(U=P(G,ue._$AS(G,U.values),ue,X)),U}var V=class{constructor(G,U){this.u=[],this._$AN=void 0,this._$AD=G,this._$AM=U}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(G){var U;const{el:{content:W},parts:X}=this._$AD,ne=((U=G==null?void 0:G.creationScope)!==null&&U!==void 0?U:h2).importNode(W,!0);A.currentNode=ne;let oe=A.nextNode(),le=0,se=0,ue=X[0];for(;ue!==void 0;){if(le===ue.index){let ce;ue.type===2?ce=new N(oe,oe.nextSibling,this,G):ue.type===1?ce=new ue.ctor(oe,ue.name,ue.strings,this,G):ue.type===6&&(ce=new I(oe,this,G)),this.u.push(ce),ue=X[++se]}le!==(ue==null?void 0:ue.index)&&(oe=A.nextNode(),le++)}return ne}p(G){let U=0;for(const W of this.u)W!==void 0&&(W.strings!==void 0?(W._$AI(G,W,U),U+=W.strings.length-2):W._$AI(G[U])),U++}},N=class{constructor(G,U,W,X){var ne;this.type=2,this._$AH=b,this._$AN=void 0,this._$AA=G,this._$AB=U,this._$AM=W,this.options=X,this._$Cm=(ne=X==null?void 0:X.isConnected)===null||ne===void 0||ne}get _$AU(){var G,U;return(U=(G=this._$AM)===null||G===void 0?void 0:G._$AU)!==null&&U!==void 0?U:this._$Cm}get parentNode(){let G=this._$AA.parentNode;const U=this._$AM;return U!==void 0&&G.nodeType===11&&(G=U.parentNode),G}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(G,U=this){G=P(this,G,U),d2(G)?G===b||G==null||G===""?(this._$AH!==b&&this._$AR(),this._$AH=b):G!==this._$AH&&G!==x&&this.g(G):G._$litType$!==void 0?this.$(G):G.nodeType!==void 0?this.T(G):c2(G)?this.k(G):this.g(G)}O(G,U=this._$AB){return this._$AA.parentNode.insertBefore(G,U)}T(G){this._$AH!==G&&(this._$AR(),this._$AH=this.O(G))}g(G){this._$AH!==b&&d2(this._$AH)?this._$AA.nextSibling.data=G:this.T(h2.createTextNode(G)),this._$AH=G}$(G){var U;const{values:W,_$litType$:X}=G,ne=typeof X=="number"?this._$AC(G):(X.el===void 0&&(X.el=C.createElement(X.h,this.options)),X);if(((U=this._$AH)===null||U===void 0?void 0:U._$AD)===ne)this._$AH.p(W);else{const oe=new V(ne,this),le=oe.v(this.options);oe.p(W),this.T(le),this._$AH=oe}}_$AC(G){let U=T.get(G.strings);return U===void 0&&T.set(G.strings,U=new C(G)),U}k(G){u(this._$AH)||(this._$AH=[],this._$AR());const U=this._$AH;let W,X=0;for(const ne of G)X===U.length?U.push(W=new N(this.O(r3()),this.O(r3()),this,this.options)):W=U[X],W._$AI(ne),X++;X<U.length&&(this._$AR(W&&W._$AB.nextSibling,X),U.length=X)}_$AR(G=this._$AA.nextSibling,U){var W;for((W=this._$AP)===null||W===void 0||W.call(this,!1,!0,U);G&&G!==this._$AB;){const X=G.nextSibling;G.remove(),G=X}}setConnected(G){var U;this._$AM===void 0&&(this._$Cm=G,(U=this._$AP)===null||U===void 0||U.call(this,G))}},S2=class{constructor(G,U,W,X,ne){this.type=1,this._$AH=b,this._$AN=void 0,this.element=G,this.name=U,this._$AM=X,this.options=ne,W.length>2||W[0]!==""||W[1]!==""?(this._$AH=Array(W.length-1).fill(new String),this.strings=W):this._$AH=b}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(G,U=this,W,X){const ne=this.strings;let oe=!1;if(ne===void 0)G=P(this,G,U,0),oe=!d2(G)||G!==this._$AH&&G!==x,oe&&(this._$AH=G);else{const le=G;let se,ue;for(G=ne[0],se=0;se<ne.length-1;se++)ue=P(this,le[W+se],U,se),ue===x&&(ue=this._$AH[se]),oe||(oe=!d2(ue)||ue!==this._$AH[se]),ue===b?G=b:G!==b&&(G+=(ue!=null?ue:"")+ne[se+1]),this._$AH[se]=ue}oe&&!X&&this.j(G)}j(G){G===b?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,G!=null?G:"")}},M=class extends S2{constructor(){super(...arguments),this.type=3}j(G){this.element[this.name]=G===b?void 0:G}},R=s3?s3.emptyScript:"",k=class extends S2{constructor(){super(...arguments),this.type=4}j(G){G&&G!==b?this.element.setAttribute(this.name,R):this.element.removeAttribute(this.name)}},H=class extends S2{constructor(G,U,W,X,ne){super(G,U,W,X,ne),this.type=5}_$AI(G,U=this){var W;if((G=(W=P(this,G,U,0))!==null&&W!==void 0?W:b)===x)return;const X=this._$AH,ne=G===b&&X!==b||G.capture!==X.capture||G.once!==X.once||G.passive!==X.passive,oe=G!==b&&(X===b||ne);ne&&this.element.removeEventListener(this.name,this,X),oe&&this.element.addEventListener(this.name,this,G),this._$AH=G}handleEvent(G){var U,W;typeof this._$AH=="function"?this._$AH.call((W=(U=this.options)===null||U===void 0?void 0:U.host)!==null&&W!==void 0?W:this.element,G):this._$AH.handleEvent(G)}},I=class{constructor(G,U,W){this.element=G,this.type=6,this._$AN=void 0,this._$AM=U,this.options=W}get _$AU(){return this._$AM._$AU}_$AI(G){P(this,G)}},z=i2$2.litHtmlPolyfillSupport;z==null||z(C,N),((t2=i2$2.litHtmlVersions)!==null&&t2!==void 0?t2:i2$2.litHtmlVersions=[]).push("2.4.0");var Z=(G,U,W)=>{var X,ne;const oe=(X=W==null?void 0:W.renderBefore)!==null&&X!==void 0?X:U;let le=oe._$litPart$;if(le===void 0){const se=(ne=W==null?void 0:W.renderBefore)!==null&&ne!==void 0?ne:null;oe._$litPart$=le=new N(U.insertBefore(r3(),se),se,void 0,W!=null?W:{})}return le._$AI(G),le},l3,o4,s4=class extends d{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var G,U;const W=super.createRenderRoot();return(G=(U=this.renderOptions).renderBefore)!==null&&G!==void 0||(U.renderBefore=W.firstChild),W}update(G){const U=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(G),this._$Dt=Z(U,this.renderRoot,this.renderOptions)}connectedCallback(){var G;super.connectedCallback(),(G=this._$Dt)===null||G===void 0||G.setConnected(!0)}disconnectedCallback(){var G;super.disconnectedCallback(),(G=this._$Dt)===null||G===void 0||G.setConnected(!1)}render(){return x}};s4.finalized=!0,s4._$litElement$=!0,(l3=globalThis.litElementHydrateSupport)===null||l3===void 0||l3.call(globalThis,{LitElement:s4});var n4=globalThis.litElementPolyfillSupport;n4==null||n4({LitElement:s4});((o4=globalThis.litElementVersions)!==null&&o4!==void 0?o4:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var component_styles_default=i$2`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,image_comparer_styles_default=i$2`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(G,U){function W(ne){const oe=G.getBoundingClientRect(),le=G.ownerDocument.defaultView,se=oe.left+le.pageXOffset,ue=oe.top+le.pageYOffset,ce=ne.pageX-se,fe=ne.pageY-ue;U!=null&&U.onMove&&U.onMove(ce,fe)}function X(){document.removeEventListener("pointermove",W),document.removeEventListener("pointerup",X),U!=null&&U.onStop&&U.onStop()}document.addEventListener("pointermove",W,{passive:!0}),document.addEventListener("pointerup",X),(U==null?void 0:U.initialEvent)instanceof PointerEvent&&W(U.initialEvent)}function clamp(G,U,W){return G<U?U:G>W?W:G}var t$1={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$1=G=>(...U)=>({_$litDirective$:G,values:U}),i$1=class{constructor(G){}get _$AU(){return this._$AM._$AU}_$AT(G,U,W){this._$Ct=G,this._$AM=U,this._$Ci=W}_$AS(G,U){return this.update(G,U)}update(G,U){return this.render(...U)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var i2$1=e$1(class extends i$1{constructor(G){var U;if(super(G),G.type!==t$1.ATTRIBUTE||G.name!=="style"||((U=G.strings)===null||U===void 0?void 0:U.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(G){return Object.keys(G).reduce((U,W)=>{const X=G[W];return X==null?U:U+`${W=W.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${X};`},"")}update(G,[U]){const{style:W}=G.element;if(this.vt===void 0){this.vt=new Set;for(const X in U)this.vt.add(X);return this.render(U)}this.vt.forEach(X=>{U[X]==null&&(this.vt.delete(X),X.includes("-")?W.removeProperty(X):W[X]="")});for(const X in U){const ne=U[X];ne!=null&&(this.vt.add(X),X.includes("-")?W.setProperty(X,ne):W[X]=ne)}return x}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map,documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...G){G.map(U=>{const W=U.$code.toLowerCase();translations.has(W)?translations.set(W,Object.assign(Object.assign({},translations.get(W)),U)):translations.set(W,U),fallback||(fallback=U)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(G=>{typeof G.requestUpdate=="function"&&G.requestUpdate()})}var LocalizeController=class{constructor(G){this.host=G,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}term(G,...U){var W,X;const ne=new Intl.Locale(this.lang()),oe=ne==null?void 0:ne.language.toLowerCase(),le=(X=(W=ne==null?void 0:ne.region)===null||W===void 0?void 0:W.toLowerCase())!==null&&X!==void 0?X:"",se=translations.get(`${oe}-${le}`),ue=translations.get(oe);let ce;if(se&&se[G])ce=se[G];else if(ue&&ue[G])ce=ue[G];else if(fallback&&fallback[G])ce=fallback[G];else return console.error(`No translation found for: ${String(G)}`),G;return typeof ce=="function"?ce(...U):ce}date(G,U){return G=new Date(G),new Intl.DateTimeFormat(this.lang(),U).format(G)}number(G,U){return G=Number(G),isNaN(G)?"":new Intl.NumberFormat(this.lang(),U).format(G)}relativeTime(G,U,W){return new Intl.RelativeTimeFormat(this.lang(),W).format(G,U)}},LocalizeController2=class extends LocalizeController{},translation={$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",currentValue:"Current value",hidePassword:"Hide password",loading:"Loading",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"};registerTranslation(translation);var o$1=e$1(class extends i$1{constructor(G){var U;if(super(G),G.type!==t$1.ATTRIBUTE||G.name!=="class"||((U=G.strings)===null||U===void 0?void 0:U.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(G){return" "+Object.keys(G).filter(U=>G[U]).join(" ")+" "}update(G,[U]){var W,X;if(this.nt===void 0){this.nt=new Set,G.strings!==void 0&&(this.st=new Set(G.strings.join(" ").split(/\s/).filter(oe=>oe!=="")));for(const oe in U)U[oe]&&!(!((W=this.st)===null||W===void 0)&&W.has(oe))&&this.nt.add(oe);return this.render(U)}const ne=G.element.classList;this.nt.forEach(oe=>{oe in U||(ne.remove(oe),this.nt.delete(oe))});for(const oe in U){const le=!!U[oe];le===this.nt.has(oe)||((X=this.st)===null||X===void 0?void 0:X.has(oe))||(le?(ne.add(oe),this.nt.add(oe)):(ne.remove(oe),this.nt.delete(oe)))}return x}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(G,U,W)=>U in G?__defProp(G,U,{enumerable:!0,configurable:!0,writable:!0,value:W}):G[U]=W,__spreadValues=(G,U)=>{for(var W in U||(U={}))__hasOwnProp.call(U,W)&&__defNormalProp(G,W,U[W]);if(__getOwnPropSymbols)for(var W of __getOwnPropSymbols(U))__propIsEnum.call(U,W)&&__defNormalProp(G,W,U[W]);return G},__spreadProps=(G,U)=>__defProps(G,__getOwnPropDescs(U)),__decorateClass=(G,U,W,X)=>{for(var ne=X>1?void 0:X?__getOwnPropDesc(U,W):U,oe=G.length-1,le;oe>=0;oe--)(le=G[oe])&&(ne=(X?le(U,W,ne):le(ne))||ne);return X&&ne&&__defProp(U,W,ne),ne};function watch(G,U){const W=__spreadValues({waitUntilFirstUpdate:!1},U);return(X,ne)=>{const{update:oe}=X;if(G in X){const le=G;X.update=function(se){if(se.has(le)){const ue=se.get(le),ce=this[le];ue!==ce&&(!W.waitUntilFirstUpdate||this.hasUpdated)&&this[ne](ue,ce)}oe.call(this,se)}}}}var e=G=>U=>typeof U=="function"?((W,X)=>(customElements.define(W,X),X))(G,U):((W,X)=>{const{kind:ne,elements:oe}=X;return{kind:ne,elements:oe,finisher(le){customElements.define(W,le)}}})(G,U),i=(G,U)=>U.kind==="method"&&U.descriptor&&!("value"in U.descriptor)?__spreadProps(__spreadValues({},U),{finisher(W){W.createProperty(U.key,G)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:U.key,initializer(){typeof U.initializer=="function"&&(this[U.key]=U.initializer.call(this))},finisher(W){W.createProperty(U.key,G)}};function e2(G){return(U,W)=>W!==void 0?((X,ne,oe)=>{ne.constructor.createProperty(oe,X)})(G,U,W):i(G,U)}function t(G){return e2(__spreadProps(__spreadValues({},G),{state:!0}))}var o=({finisher:G,descriptor:U})=>(W,X)=>{var ne;if(X===void 0){const oe=(ne=W.originalKey)!==null&&ne!==void 0?ne:W.key,le=U!=null?{kind:"method",placement:"prototype",key:oe,descriptor:U(W.key)}:__spreadProps(__spreadValues({},W),{key:oe});return G!=null&&(le.finisher=function(se){G(se,oe)}),le}{const oe=W.constructor;U!==void 0&&Object.defineProperty(W,X,U(X)),G==null||G(oe,X)}};function i2(G,U){return o({descriptor:W=>{const X={get(){var ne,oe;return(oe=(ne=this.renderRoot)===null||ne===void 0?void 0:ne.querySelector(G))!==null&&oe!==void 0?oe:null},enumerable:!0,configurable:!0};if(U){const ne=typeof W=="symbol"?Symbol():"__"+W;X.get=function(){var oe,le;return this[ne]===void 0&&(this[ne]=(le=(oe=this.renderRoot)===null||oe===void 0?void 0:oe.querySelector(G))!==null&&le!==void 0?le:null),this[ne]}}return X}})}var n;((n=window.HTMLSlotElement)===null||n===void 0?void 0:n.prototype.assignedElements)!=null;var ShoelaceElement=class extends s4{emit(G,U){const W=new CustomEvent(G,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},U));return this.dispatchEvent(W),W}};__decorateClass([e2()],ShoelaceElement.prototype,"dir",2);__decorateClass([e2()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.position=50}handleDrag(G){const{width:U}=this.base.getBoundingClientRect(),W=this.localize.dir()==="rtl";G.preventDefault(),drag(this.base,{onMove:X=>{this.position=parseFloat(clamp(X/U*100,0,100).toFixed(2)),W&&(this.position=100-this.position)},initialEvent:G})}handleKeyDown(G){const U=this.localize.dir()==="ltr",W=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(G.key)){const X=G.shiftKey?10:1;let ne=this.position;G.preventDefault(),(U&&G.key==="ArrowLeft"||W&&G.key==="ArrowRight")&&(ne-=X),(U&&G.key==="ArrowRight"||W&&G.key==="ArrowLeft")&&(ne+=X),G.key==="Home"&&(ne=0),G.key==="End"&&(ne=100),ne=clamp(ne,0,100),this.position=ne}}handlePositionChange(){this.emit("sl-change")}render(){const G=this.localize.dir()==="rtl";return y`
      <div
        part="base"
        id="image-comparer"
        class=${o$1({"image-comparer":!0,"image-comparer--rtl":G})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <slot name="before" part="before" class="image-comparer__before"></slot>

          <slot
            name="after"
            part="after"
            class="image-comparer__after"
            style=${i2$1({clipPath:G?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          ></slot>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${i2$1({left:G?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <slot
            name="handle"
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <sl-icon library="system" name="grip-vertical"></sl-icon>
          </slot>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;__decorateClass([i2(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([i2(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([e2({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer=__decorateClass([e("sl-image-comparer")],SlImageComparer);var basePath="";function setBasePath(G){basePath=G}function getBasePath(){if(!basePath){const G=[...document.getElementsByTagName("script")],U=G.find(W=>W.hasAttribute("data-shoelace"));if(U)setBasePath(U.getAttribute("data-shoelace"));else{const W=G.find(ne=>/shoelace(\.min)?\.js($|\?)/.test(ne.src));let X="";W&&(X=W.getAttribute("src")),setBasePath(X.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")}var library={name:"default",resolver:G=>`${getBasePath()}/assets/icons/${G}.svg`},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:G=>G in icons?`data:image/svg+xml,${encodeURIComponent(icons[G])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(G){watchedIcons.push(G)}function unwatchIcon(G){watchedIcons=watchedIcons.filter(U=>U!==G)}function getIconLibrary(G){return registry.find(U=>U.name===G)}var includeFiles=new Map;function requestInclude(G,U="cors"){if(includeFiles.has(G))return includeFiles.get(G);const W=fetch(G,{mode:U}).then(async X=>({ok:X.ok,status:X.status,html:await X.text()}));return includeFiles.set(G,W),W}var iconFiles=new Map;async function requestIcon(G){if(iconFiles.has(G))return iconFiles.get(G);const U=await requestInclude(G),W={ok:U.ok,status:U.status,svg:null};if(U.ok){const X=document.createElement("div");X.innerHTML=U.html;const ne=X.firstElementChild;W.svg=(ne==null?void 0:ne.tagName.toLowerCase())==="svg"?ne.outerHTML:""}return iconFiles.set(G,W),W}var icon_styles_default=i$2`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,e4=class extends i$1{constructor(G){if(super(G),this.it=b,G.type!==t$1.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(G){if(G===b||G==null)return this._t=void 0,this.it=G;if(G===x)return G;if(typeof G!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(G===this.it)return this._t;this.it=G;const U=[G];return U.raw=U,this._t={_$litType$:this.constructor.resultType,strings:U,values:[]}}};e4.directiveName="unsafeHTML",e4.resultType=1;var t3=class extends e4{};t3.directiveName="unsafeSVG",t3.resultType=2;var o2=e$1(t3),parser,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getUrl(){const G=getIconLibrary(this.library);return this.name&&G?G.resolver(this.name):this.src}redraw(){this.setIcon()}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var G;const U=getIconLibrary(this.library),W=this.getUrl();if(parser||(parser=new DOMParser),W)try{const X=await requestIcon(W);if(W!==this.getUrl())return;if(X.ok){const oe=parser.parseFromString(X.svg,"text/html").body.querySelector("svg");oe!==null?((G=U==null?void 0:U.mutator)==null||G.call(U,oe),this.svg=oe.outerHTML,this.emit("sl-load")):(this.svg="",this.emit("sl-error"))}else this.svg="",this.emit("sl-error")}catch{this.emit("sl-error")}else this.svg.length>0&&(this.svg="")}handleChange(){this.setIcon()}render(){return y` ${o2(this.svg)} `}};SlIcon.styles=icon_styles_default;__decorateClass([t()],SlIcon.prototype,"svg",2);__decorateClass([e2({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([e2()],SlIcon.prototype,"src",2);__decorateClass([e2()],SlIcon.prototype,"label",2);__decorateClass([e2({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch("name"),watch("src"),watch("library")],SlIcon.prototype,"setIcon",1);SlIcon=__decorateClass([e("sl-icon")],SlIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const _hoisted_1={id:"content"},_hoisted_2={key:0,id:"osd",class:"media-item"},_hoisted_3={key:0,class:"info-icon"},_hoisted_4=["manifest","width","height"],_hoisted_5={key:1,class:"grid-wrapper"},_hoisted_6={class:"media-item"},_hoisted_7=["src"],_hoisted_8={class:"info-icon"},_hoisted_9=["manifest"],_hoisted_10=["muted","autoplay"],_hoisted_11=["src","type"],_hoisted_12={key:3},_hoisted_13=["src","slot","alt"],_hoisted_14={key:0,id:"image-navigator"},_hoisted_15={key:1,id:"caption-bar"},_hoisted_16=["innerHTML"],_hoisted_17=["innerHTML"],_hoisted_18=["manifest","idx","base"],_sfc_main=defineComponent({__name:"MediaViewer.ce",props:{manifest:{type:String},seq:{type:Number,default:1},base:{type:String},region:{type:String},size:{type:String},rotation:{type:String},quality:{type:String},format:{type:String},editable:{type:Boolean,default:!1},options:{type:String},alt:{type:String},caption:{type:String},fit:{type:String},entities:{type:String},grid:{type:Boolean,default:!1},cards:{type:Boolean,default:!1},compare:{type:Boolean,default:!1},position:{type:String},full:{type:Boolean,default:!1},left:{type:Boolean,default:!1},right:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1},width:{type:String},height:{type:String},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},start:{type:String},end:{type:String},class:{type:String}},setup(G){const U=G,W=ref(null),X=computed(()=>{var Nt;return(Nt=W==null?void 0:W.value)==null?void 0:Nt.parentNode}),ne=computed(()=>{var Nt,Ut;return(Ut=(Nt=W.value)==null?void 0:Nt.getRootNode())==null?void 0:Ut.host}),oe=ref(!1),le=ref();let se;function ue(){var Ft;let Nt=Je.value[0],Ut=sha256(Ze.value.id||Ze.value["@id"]).slice(0,8);Ut!==se&&(le.value.loadAnnotations(Ut).then(sn=>Se.value=sn),!se&&Nt.seq===_e.value&&Nt.region&&((Ft=ce.value)==null||Ft.viewport.fitBounds(parseRegionString(Nt.region,ce.value),!0)),se=Ut)}let ce=ref();watch$1(ce,()=>{if(ce.value){let Nt=ce.value;setTimeout(()=>ve(),100),Nt.addHandler("viewport-change",()=>me()),le.value=new Annotator(Nt,U.base,lt.value);let Ut=Nt.world.getItemAt(0);Ut?Ut.getFullyLoaded()?ue():Ut.addHandler("fully-loaded-change",Ft=>{Ft.fullyLoaded&&ue()}):Nt.world.addHandler("add-item",()=>{let Ft=Nt.world.getItemAt(0);Ft.getFullyLoaded()?ue():Ft.addHandler("fully-loaded-change",sn=>{sn.fullyLoaded&&ue()})})}});let fe=null;function me(){fe!==null&&(clearTimeout(fe),fe=null),fe=window.setTimeout(()=>ve(),100)}function ve(){var Ut,Ft;const Nt=ce&&((Ut=ce.value)==null?void 0:Ut.world.getItemAt(0));if(Nt){let sn=(Ft=ce.value)==null?void 0:Ft.viewport.getBounds();const un=sn?Nt.viewportToImageRectangle(sn):null;be.value=un?`${Math.ceil(un.x)},${Math.ceil(un.y)},${Math.ceil(un.width)},${Math.ceil(un.height)}`:""}}const be=ref(),Se=ref([]),_e=ref(U.seq),Ae=ref(U.seq);function ke(Nt){_e.value=Nt}const Me=ref(0),Le=ref(0),qe=ref(0),Je=ref([]),Fe=ref([]),Ve=ref(null),Ze=ref(null),Xe=ref(null),dt=ref(null),ht=ref(null);watch$1(ne,()=>{Je.value=vt()}),watch$1(Je,()=>{let Nt=Je.value.map(Ut=>Ut.manifest);loadManifests(Nt).then(Ut=>{Fe.value=Ut,Fe.value.length>1&&(Xe.value=Fe.value.length===2?"image-compare":"image-grid")})}),watch$1(Fe,()=>Ve.value=Fe.value.length>0&&Fe.value[0]),watch$1(Ve,()=>{Ae.value=imageCount(Ve.value),Ze.value=Ve.value?getItemInfo(Ve.value,_e.value):null}),watch$1(_e,()=>Ze.value=Ve.value?getItemInfo(Ve.value,_e.value):null);const lt=computed(()=>U.editable===!0||window.location.pathname.indexOf("/editor")===0),xt=computed(()=>Ze.value.id),It=computed(()=>{var Ut;let Nt=(Ut=xt.value)==null?void 0:Ut.split("#")[0].split(".").pop();return Nt==="mp4"?"video/mp4":Nt==="webm"?"video/webm":"application/ogg"});watch$1(Ze,()=>{var Nt,Ut;Xe.value=Xe.value||((Ut=(Nt=Ze.value)==null?void 0:Nt.type)==null?void 0:Ut.toLowerCase()),dt.value=Xe.value&&Xe.value==="image"?Ze.value.service?`${Ze.value.service[0].id||Ze.value.service[0]["@id"]}/info.json`:{url:Ze.value.id,type:"image",buildPyramid:!0}:null,ce.value&&ce.value.open(dt.value),Me.value||Wt()}),watch$1(Xe,()=>{nextTick(()=>{Xe.value==="audio"?zt():Xe.value==="image"?qt():Xe.value==="video"&&_t()})});const mt=RegExp(/^(?<region>(pct:)?([0-9.]+,[0-9.]+,[0-9.]+,[0-9.]+)|full|square)(\/(?<size>full|max|((pct:)?[\d,.!]+)))?(\/(?<rotation>!?\d+))?(\/(?<quality>color|gray|bitonal|default))?(\/(?<format>jpg|tif|png|gif|jp2|pdf|webp))?/);function ot(Nt){return mt.test(Nt)}function st(Nt){return/^[0-9]+$/.test(Nt)}function vt(){if(U.manifest){let Nt={id:sha256(U.manifest).slice(0,8),manifest:U.manifest};return Nt.seq=U.seq,Nt.region=U.region,Nt.size=U.size,Nt.rotation=U.rotation,Nt.quality=U.quality,Nt.format=U.format,Nt.fit=U.fit,[Nt]}else return Array.from(ne.value.querySelectorAll("li")).map(Ut=>{var je,ze;let Ft=[],sn=(je=Ut.textContent)==null?void 0:je.replace(//,'"').replace(//,'"').replace(//,"'").trim();(ze=sn==null?void 0:sn.match(/[^\s"]+|"([^"]*)"/gmi))==null||ze.forEach(we=>{Ft.length>0&&Ft[Ft.length-1].indexOf("=")===Ft[Ft.length-1].length-1?Ft[Ft.length-1]=`${Ft[Ft.length-1]}${we}`:Ft.push(we)});let un={id:sha256(Ft[0]).slice(0,8),manifest:Ft[0]};for(let we=1;we<Ft.length;we++){let Ie=Ft[we];if(Ie.indexOf("=")>0){let We=Ie.split("=");un[We[0]]=We[1]}else if(st(Ie))un.seq=Ie;else if(ot(Ie)){let We=Ie.match(mt);We&&(un={...un,...We.groups})}else Ie==="cover"||Ie==="contain"?un.fit=Ie:un.caption=Ie[0]==='"'&&Ie[Ie.length-1]==='"'?Ie.slice(1,-1):Ie}return un})}function Ot(){let Nt=Me.value,Ut=Le.value,Ft=qe.value;return Je.value.map((sn,un)=>{let je,ze,we,Ie;sn.region&&([je,ze,we,Ie]=sn.region.split(",").map(on=>parseInt(on)));let We=getItemInfo(Fe.value[un]);const rt=we||We.width,tt=Ie||We.height,pt=Number((rt/tt).toFixed(4));let at=rt,it=tt;pt>Ft?(at=Math.round(tt*Ft),it=Math.round(at/Ft)):(it=Math.round(rt/Ft),at=Math.round(it*Ft));let bt=We.service[0].id||We.service[0]["@id"];const yt=(je||0)+Math.abs(Math.round((at-rt)*.5)),St=(ze||0)+Math.abs(Math.round((it-tt)*.5));let At=`${yt},${St},${at},${it}`;return`${bt}/${At}/${Nt},${Ut}/${sn.rotation||0}/${sn.quality||"default"}.${sn.format||"jpg"}`})}let wt=ref(U.right?"right":U.left?"left":"full");function Wt(){var Ft,sn;let Nt=(Ft=X==null?void 0:X.value)==null?void 0:Ft.querySelector("#wrapper"),Ut=(sn=X==null?void 0:X.value)==null?void 0:sn.querySelector("#content");if(qe.value=Number((Ze.value.width/Ze.value.height).toFixed(4)),Nt.classList.add(wt.value),ne.value.classList.add("ve-component"),ne.value.classList.add(wt.value),U.sticky&&ne.value.classList.add("sticky"),Nt.style.width=U.width||"100%",Me.value=parseInt(window.getComputedStyle(Ut).width.slice(0,-2)),Ut.style.height=U.height||(Xe.value==="image-grid"?"100%":Xe.value==="audio"?"200px":`${Math.round(Me.value/qe.value)}px`),Le.value=parseInt(window.getComputedStyle(Ut).height.slice(0,-2))||(qe.value>=1?Math.round(Me.value/qe.value):Math.round(Me.value*qe.value)),wt.value==="full"&&(U.compare||U.sticky)){let un=Math.round(window.innerHeight*.5);Le.value>un&&(Le.value=un,Ut.style.height=`${Le.value}px`,Ut.style.width=`${Math.round(Le.value/qe.value)}px`)}}function qt(){console.log("loadImage",toRaw(Ze.value)),ce.value=nn(),dt.value&&ce.value.open(dt.value)}function _t(){console.log("loadVideo",Ze)}function zt(){console.log("loadAudio",Ze)}onMounted(async()=>{});function nn(){var sn;const Ft={element:((sn=W.value)==null?void 0:sn.parentNode).querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:!0,showNavigationControl:!0,minZoomImageRatio:1,maxZoomPixelRatio:10,showRotationControl:!0,showHomeControl:!0,showZoomControl:!0,showFullPageControl:!0,showNavigator:!1,sequenceMode:!0,showReferenceStrip:!0,animationTime:.5,springStiffness:10,visibilityRatio:1,constrainDuringPan:!0};return OpenSeadragon$1(Ft)}function en(Nt){navigator.clipboard&&navigator.clipboard.writeText(Nt)}return(Nt,Ut)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",{ref_key:"root",ref:W,id:"wrapper",class:normalizeClass(unref(lt)?"edit":"view")},[createBaseVNode("div",_hoisted_1,[Xe.value==="image"?(openBlock(),createElementBlock("div",_hoisted_2,[Xe.value==="image"?(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(unref(ATooltip),{placement:"bottom"},{title:withCtx(()=>[createTextVNode("Click to "+toDisplayString(Je.value[0].id===ht.value?"Hide":"Show")+" Details",1)]),default:withCtx(()=>[createVNode(unref(APopover),{trigger:"click",visible:Je.value[0].id===ht.value,style:normalizeStyle(`width:${Me.value}px;height${Le.value}px;`),placement:"leftTop"},{content:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("ve-manifest-beta",{manifest:Je.value[0].manifest,width:Me.value,height:Le.value},null,8,_hoisted_4),createBaseVNode("a",{onClick:Ut[0]||(Ut[0]=Ft=>ht.value=null)},"Close")])]),default:withCtx(()=>[createVNode(unref(InfoCircleOutlined$1),{onClick:Ut[1]||(Ut[1]=Ft=>ht.value=ht.value===Je.value[0].id?null:Je.value[0].id)})]),_:1},8,["visible","style"])]),_:1})])):createCommentVNode("",!0)])):Xe.value==="image-grid"?(openBlock(),createElementBlock("div",_hoisted_5,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Je.value,(Ft,sn)=>(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("img",{src:unref(thumbnail)(Fe.value[sn])},null,8,_hoisted_7),createBaseVNode("div",_hoisted_8,[createVNode(unref(APopover),{trigger:"click",visible:Ft.id===ht.value,style:{width:"300px",height:"400px"},placement:"leftTop"},{content:withCtx(()=>[createBaseVNode("div",null,[createBaseVNode("ve-manifest-beta",{manifest:Ft.manifest},null,8,_hoisted_9),createBaseVNode("a",{onClick:Ut[2]||(Ut[2]=un=>ht.value=null)},"Close")])]),default:withCtx(()=>[createVNode(unref(InfoCircleOutlined$1),{onClick:un=>ht.value=ht.value===Ft.id?null:Ft.id},null,8,["onClick"])]),_:2},1032,["visible"])])]))),256))])):Xe.value==="video"?(openBlock(),createElementBlock("video",{key:2,id:"html5-player",controls:"",playsinline:"",muted:U.muted,autoplay:U.autoplay},[createBaseVNode("source",{src:unref(xt),type:unref(It)},null,8,_hoisted_11)],8,_hoisted_10)):Xe.value==="image-compare"?(openBlock(),createElementBlock("sl-image-comparer",_hoisted_12,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ot(),(Ft,sn)=>(openBlock(),createElementBlock("img",{key:`img=${sn}`,src:Ft,slot:sn===0?"before":"after",alt:unref(label)(Fe.value[sn])},null,8,_hoisted_13))),128))])):createCommentVNode("",!0)]),Xe.value==="image"?(openBlock(),createElementBlock("div",_hoisted_14,[createVNode(unref(APagination),{current:_e.value,pageSize:1,onChange:ke,total:Ae.value,"hide-on-single-page":""},null,8,["current","total"])])):createCommentVNode("",!0),Xe.value==="image"?(openBlock(),createElementBlock("div",_hoisted_15,[createVNode(unref(ATooltip),{placement:"top"},{title:withCtx(()=>[createTextVNode("Click Annotate Image")]),default:withCtx(()=>[unref(lt)?(openBlock(),createBlock(unref(EditOutlined$1),{key:0,onClick:Ut[3]||(Ut[3]=Ft=>le.value.toggleDrawingEnabled())})):createCommentVNode("",!0)]),_:1}),createVNode(unref(ATooltip),null,{title:withCtx(()=>[createTextVNode(toDisplayString(le.value.visible?"Hide":"Show")+" Annotations",1)]),default:withCtx(()=>[Se.value.length>0?(openBlock(),createBlock(unref(Badge),{key:0,count:Se.value.length,title:"Show annotations",onClick:Ut[5]||(Ut[5]=Ft=>le.value.toggleVisibility(Ft)),"number-style":{backgroundColor:"#FFFF66",color:"#444"}},{default:withCtx(()=>[createVNode(unref(CommentOutlined$1),{onClick:Ut[4]||(Ut[4]=Ft=>le.value.toggleVisibility(Ft))})]),_:1},8,["count"])):createCommentVNode("",!0)]),_:1}),createVNode(unref(ATooltip),{placement:"bottom"},{title:withCtx(()=>[createTextVNode("Click to "+toDisplayString(Je.value[0].id===ht.value?"Hide":"Show")+" Details",1)]),default:withCtx(()=>[createBaseVNode("div",{class:"label",innerHTML:unref(label)(Ve.value),onClick:Ut[6]||(Ut[6]=Ft=>ht.value=ht.value===Je.value[0].id?null:Je.value[0].id)},null,8,_hoisted_16)]),_:1})])):createCommentVNode("",!0),be.value?(openBlock(),createElementBlock("div",{key:2,id:"coords",innerHTML:be.value,onClick:Ut[7]||(Ut[7]=Ft=>en(be.value||""))},null,8,_hoisted_17)):createCommentVNode("",!0)],2),createVNode(unref(Modal),{bodyStyle:{padding:0},visible:oe.value,"onUpdate:visible":Ut[8]||(Ut[8]=Ft=>oe.value=Ft),title:"Basic Modal",width:"40%",onOk:Ut[9]||(Ut[9]=Ft=>oe.value=!1)},{default:withCtx(()=>[createBaseVNode("ve-media-beta",{manifest:Ve.value.id,idx:_e.value,base:U.base,width:"100%"},null,8,_hoisted_18)]),_:1},8,["visible"])],64))}}),_style_0=`.ant-badge{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:relative;display:inline-block;line-height:1}.ant-badge-count{z-index:auto;min-width:20px;height:20px;padding:0 6px;color:#fff;font-weight:400;font-size:12px;line-height:20px;white-space:nowrap;text-align:center;background:#ff4d4f;border-radius:10px;box-shadow:0 0 0 1px #fff}.ant-badge-count a,.ant-badge-count a:hover{color:#fff}.ant-badge-count-sm{min-width:14px;height:14px;padding:0;font-size:12px;line-height:14px;border-radius:7px}.ant-badge-multiple-words{padding:0 8px}.ant-badge-dot{z-index:auto;width:6px;min-width:6px;height:6px;background:#ff4d4f;border-radius:100%;box-shadow:0 0 0 1px #fff}.ant-badge-dot.ant-scroll-number{transition:background 1.5s}.ant-badge-count,.ant-badge-dot,.ant-badge .ant-scroll-number-custom-component{position:absolute;top:0;right:0;transform:translate(50%,-50%);transform-origin:100% 0%}.ant-badge-count.anticon-spin,.ant-badge-dot.anticon-spin,.ant-badge .ant-scroll-number-custom-component.anticon-spin{animation:antBadgeLoadingCircle 1s infinite linear}.ant-badge-status{line-height:inherit;vertical-align:baseline}.ant-badge-status-dot{position:relative;top:-1px;display:inline-block;width:6px;height:6px;vertical-align:middle;border-radius:50%}.ant-badge-status-success{background-color:#52c41a}.ant-badge-status-processing{position:relative;background-color:#1890ff}.ant-badge-status-processing:after{position:absolute;top:0;left:0;width:100%;height:100%;border:1px solid #1890ff;border-radius:50%;animation:antStatusProcessing 1.2s infinite ease-in-out;content:""}.ant-badge-status-default{background-color:#d9d9d9}.ant-badge-status-error{background-color:#ff4d4f}.ant-badge-status-warning{background-color:#faad14}.ant-badge-status-pink,.ant-badge-status-magenta{background:#eb2f96}.ant-badge-status-red{background:#f5222d}.ant-badge-status-volcano{background:#fa541c}.ant-badge-status-orange{background:#fa8c16}.ant-badge-status-yellow{background:#fadb14}.ant-badge-status-gold{background:#faad14}.ant-badge-status-cyan{background:#13c2c2}.ant-badge-status-lime{background:#a0d911}.ant-badge-status-green{background:#52c41a}.ant-badge-status-blue{background:#1890ff}.ant-badge-status-geekblue{background:#2f54eb}.ant-badge-status-purple{background:#722ed1}.ant-badge-status-text{margin-left:8px;color:#000000d9;font-size:14px}.ant-badge-zoom-appear,.ant-badge-zoom-enter{animation:antZoomBadgeIn .3s cubic-bezier(.12,.4,.29,1.46);animation-fill-mode:both}.ant-badge-zoom-leave{animation:antZoomBadgeOut .3s cubic-bezier(.71,-.46,.88,.6);animation-fill-mode:both}.ant-badge-not-a-wrapper .ant-badge-zoom-appear,.ant-badge-not-a-wrapper .ant-badge-zoom-enter{animation:antNoWrapperZoomBadgeIn .3s cubic-bezier(.12,.4,.29,1.46)}.ant-badge-not-a-wrapper .ant-badge-zoom-leave{animation:antNoWrapperZoomBadgeOut .3s cubic-bezier(.71,-.46,.88,.6)}.ant-badge-not-a-wrapper:not(.ant-badge-status){vertical-align:middle}.ant-badge-not-a-wrapper .ant-scroll-number-custom-component,.ant-badge-not-a-wrapper .ant-badge-count{transform:none}.ant-badge-not-a-wrapper .ant-scroll-number-custom-component,.ant-badge-not-a-wrapper .ant-scroll-number{position:relative;top:auto;display:block;transform-origin:50% 50%}@keyframes antStatusProcessing{0%{transform:scale(.8);opacity:.5}to{transform:scale(2.4);opacity:0}}.ant-scroll-number{overflow:hidden;direction:ltr}.ant-scroll-number-only{position:relative;display:inline-block;height:20px;transition:all .3s cubic-bezier(.645,.045,.355,1);-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden}.ant-scroll-number-only>p.ant-scroll-number-only-unit{height:20px;margin:0;-webkit-transform-style:preserve-3d;-webkit-backface-visibility:hidden}.ant-scroll-number-symbol{vertical-align:top}@keyframes antZoomBadgeIn{0%{transform:scale(0) translate(50%,-50%);opacity:0}to{transform:scale(1) translate(50%,-50%)}}@keyframes antZoomBadgeOut{0%{transform:scale(1) translate(50%,-50%)}to{transform:scale(0) translate(50%,-50%);opacity:0}}@keyframes antNoWrapperZoomBadgeIn{0%{transform:scale(0);opacity:0}to{transform:scale(1)}}@keyframes antNoWrapperZoomBadgeOut{0%{transform:scale(1)}to{transform:scale(0);opacity:0}}@keyframes antBadgeLoadingCircle{0%{transform-origin:50%}to{transform:translate(50%,-50%) rotate(360deg);transform-origin:50%}}.ant-ribbon-wrapper{position:relative}.ant-ribbon{box-sizing:border-box;margin:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum";position:absolute;top:8px;height:22px;padding:0 8px;color:#fff;line-height:22px;white-space:nowrap;background-color:#1890ff;border-radius:2px}.ant-ribbon-text{color:#fff}.ant-ribbon-corner{position:absolute;top:100%;width:8px;height:8px;color:currentcolor;border:4px solid;transform:scaleY(.75);transform-origin:top}.ant-ribbon-corner:after{position:absolute;top:-4px;left:-4px;width:inherit;height:inherit;color:#00000040;border:inherit;content:""}.ant-ribbon-color-pink,.ant-ribbon-color-magenta{color:#eb2f96;background:#eb2f96}.ant-ribbon-color-red{color:#f5222d;background:#f5222d}.ant-ribbon-color-volcano{color:#fa541c;background:#fa541c}.ant-ribbon-color-orange{color:#fa8c16;background:#fa8c16}.ant-ribbon-color-yellow{color:#fadb14;background:#fadb14}.ant-ribbon-color-gold{color:#faad14;background:#faad14}.ant-ribbon-color-cyan{color:#13c2c2;background:#13c2c2}.ant-ribbon-color-lime{color:#a0d911;background:#a0d911}.ant-ribbon-color-green{color:#52c41a;background:#52c41a}.ant-ribbon-color-blue{color:#1890ff;background:#1890ff}.ant-ribbon-color-geekblue{color:#2f54eb;background:#2f54eb}.ant-ribbon-color-purple{color:#722ed1;background:#722ed1}.ant-ribbon.ant-ribbon-placement-end{right:-8px;border-bottom-right-radius:0}.ant-ribbon.ant-ribbon-placement-end .ant-ribbon-corner{right:0;border-color:currentcolor transparent transparent currentcolor}.ant-ribbon.ant-ribbon-placement-start{left:-8px;border-bottom-left-radius:0}.ant-ribbon.ant-ribbon-placement-start .ant-ribbon-corner{left:0;border-color:currentcolor currentcolor transparent transparent}.ant-badge-rtl{direction:rtl}.ant-badge-rtl .ant-badge:not(.ant-badge-not-a-wrapper) .ant-badge-count,.ant-badge-rtl .ant-badge:not(.ant-badge-not-a-wrapper) .ant-badge-dot,.ant-badge-rtl .ant-badge:not(.ant-badge-not-a-wrapper) .ant-scroll-number-custom-component{right:auto;left:0;direction:ltr;transform:translate(-50%,-50%);transform-origin:0% 0%}.ant-badge-rtl.ant-badge:not(.ant-badge-not-a-wrapper) .ant-scroll-number-custom-component{right:auto;left:0;transform:translate(-50%,-50%);transform-origin:0% 0%}.ant-badge-rtl .ant-badge-status-text{margin-right:8px;margin-left:0}.ant-ribbon-rtl{direction:rtl}.ant-ribbon-rtl.ant-ribbon-placement-end{right:unset;left:-8px;border-bottom-right-radius:2px;border-bottom-left-radius:0}.ant-ribbon-rtl.ant-ribbon-placement-end .ant-ribbon-corner{right:unset;left:0;border-color:currentcolor currentcolor transparent transparent}.ant-ribbon-rtl.ant-ribbon-placement-end .ant-ribbon-corner:after{border-color:currentcolor currentcolor transparent transparent}.ant-ribbon-rtl.ant-ribbon-placement-start{right:-8px;left:unset;border-bottom-right-radius:0;border-bottom-left-radius:2px}.ant-ribbon-rtl.ant-ribbon-placement-start .ant-ribbon-corner{right:0;left:unset;border-color:currentcolor transparent transparent currentcolor}.ant-ribbon-rtl.ant-ribbon-placement-start .ant-ribbon-corner:after{border-color:currentcolor transparent transparent currentcolor}.ant-drawer{position:fixed;z-index:1000;width:0%;height:100%;transition:width 0s ease .3s,height 0s ease .3s}.ant-drawer-content-wrapper{position:absolute;width:100%;height:100%;transition:transform .3s cubic-bezier(.23,1,.32,1),box-shadow .3s cubic-bezier(.23,1,.32,1)}.ant-drawer .ant-drawer-content{width:100%;height:100%}.ant-drawer-left,.ant-drawer-right{top:0;width:0%;height:100%}.ant-drawer-left .ant-drawer-content-wrapper,.ant-drawer-right .ant-drawer-content-wrapper{height:100%}.ant-drawer-left.ant-drawer-open,.ant-drawer-right.ant-drawer-open{width:100%;transition:transform .3s cubic-bezier(.23,1,.32,1)}.ant-drawer-left,.ant-drawer-left .ant-drawer-content-wrapper{left:0}.ant-drawer-left.ant-drawer-open .ant-drawer-content-wrapper{box-shadow:6px 0 16px -8px #00000014,9px 0 28px #0000000d,12px 0 48px 16px #00000008}.ant-drawer-right,.ant-drawer-right .ant-drawer-content-wrapper{right:0}.ant-drawer-right.ant-drawer-open .ant-drawer-content-wrapper{box-shadow:-6px 0 16px -8px #00000014,-9px 0 28px #0000000d,-12px 0 48px 16px #00000008}.ant-drawer-right.ant-drawer-open.no-mask{right:1px;transform:translate(1px)}.ant-drawer-top,.ant-drawer-bottom{left:0;width:100%;height:0%}.ant-drawer-top .ant-drawer-content-wrapper,.ant-drawer-bottom .ant-drawer-content-wrapper{width:100%}.ant-drawer-top.ant-drawer-open,.ant-drawer-bottom.ant-drawer-open{height:100%;transition:transform .3s cubic-bezier(.23,1,.32,1)}.ant-drawer-top{top:0}.ant-drawer-top.ant-drawer-open .ant-drawer-content-wrapper{box-shadow:0 6px 16px -8px #00000014,0 9px 28px #0000000d,0 12px 48px 16px #00000008}.ant-drawer-bottom,.ant-drawer-bottom .ant-drawer-content-wrapper{bottom:0}.ant-drawer-bottom.ant-drawer-open .ant-drawer-content-wrapper{box-shadow:0 -6px 16px -8px #00000014,0 -9px 28px #0000000d,0 -12px 48px 16px #00000008}.ant-drawer-bottom.ant-drawer-open.no-mask{bottom:1px;transform:translateY(1px)}.ant-drawer.ant-drawer-open .ant-drawer-mask{height:100%;opacity:1;transition:none;animation:antdDrawerFadeIn .3s cubic-bezier(.23,1,.32,1);pointer-events:auto}.ant-drawer-title{flex:1;margin:0;color:#000000d9;font-weight:500;font-size:16px;line-height:22px}.ant-drawer-content{position:relative;z-index:1;overflow:auto;background-color:#fff;background-clip:padding-box;border:0}.ant-drawer-close{display:inline-block;margin-right:12px;color:#00000073;font-weight:700;font-size:16px;font-style:normal;line-height:1;text-align:center;text-transform:none;text-decoration:none;background:transparent;border:0;outline:0;cursor:pointer;transition:color .3s;text-rendering:auto}.ant-drawer-close:focus,.ant-drawer-close:hover{color:#000000bf;text-decoration:none}.ant-drawer-header{position:relative;display:flex;align-items:center;justify-content:space-between;padding:16px 24px;color:#000000d9;background:#fff;border-bottom:1px solid #f0f0f0;border-radius:2px 2px 0 0}.ant-drawer-header-title{display:flex;flex:1;align-items:center;justify-content:space-between}.ant-drawer-header-close-only{padding-bottom:0;border:none}.ant-drawer-wrapper-body{display:flex;flex-flow:column nowrap;width:100%;height:100%}.ant-drawer-body{flex-grow:1;padding:24px;overflow:auto;font-size:14px;line-height:1.5715;word-wrap:break-word}.ant-drawer-footer{flex-shrink:0;padding:10px 16px;border-top:1px solid #f0f0f0}.ant-drawer-mask{position:absolute;top:0;left:0;width:100%;height:0;background-color:#00000073;opacity:0;transition:opacity .3s linear,height 0s ease .3s;pointer-events:none}.ant-drawer .ant-picker-clear{background:#fff}@keyframes antdDrawerFadeIn{0%{opacity:0}to{opacity:1}}.ant-drawer-rtl{direction:rtl}.ant-drawer-rtl .ant-drawer-close{margin-right:0;margin-left:12px}.ant-pagination{box-sizing:border-box;margin:0;padding:0;color:#000000d9;font-size:14px;font-variant:tabular-nums;line-height:1.5715;list-style:none;font-feature-settings:"tnum"}.ant-pagination ul,.ant-pagination ol{margin:0;padding:0;list-style:none}.ant-pagination:after{display:block;clear:both;height:0;overflow:hidden;visibility:hidden;content:" "}.ant-pagination-total-text{display:inline-block;height:32px;margin-right:8px;line-height:30px;vertical-align:middle}.ant-pagination-item{display:inline-block;min-width:32px;height:32px;margin-right:8px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:30px;text-align:center;vertical-align:middle;list-style:none;background-color:#fff;border:1px solid #d9d9d9;border-radius:2px;outline:0;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ant-pagination-item a{display:block;padding:0 6px;color:#000000d9;transition:none}.ant-pagination-item a:hover{text-decoration:none}.ant-pagination-item:hover{border-color:#1890ff;transition:all .3s}.ant-pagination-item:hover a{color:#1890ff}.ant-pagination-item:focus-visible{border-color:#1890ff;transition:all .3s}.ant-pagination-item:focus-visible a{color:#1890ff}.ant-pagination-item-active{font-weight:500;background:#fff;border-color:#1890ff}.ant-pagination-item-active a{color:#1890ff}.ant-pagination-item-active:hover{border-color:#40a9ff}.ant-pagination-item-active:focus-visible{border-color:#40a9ff}.ant-pagination-item-active:hover a{color:#40a9ff}.ant-pagination-item-active:focus-visible a{color:#40a9ff}.ant-pagination-jump-prev,.ant-pagination-jump-next{outline:0}.ant-pagination-jump-prev .ant-pagination-item-container,.ant-pagination-jump-next .ant-pagination-item-container{position:relative}.ant-pagination-jump-prev .ant-pagination-item-container .ant-pagination-item-link-icon,.ant-pagination-jump-next .ant-pagination-item-container .ant-pagination-item-link-icon{color:#1890ff;font-size:12px;letter-spacing:-1px;opacity:0;transition:all .2s}.ant-pagination-jump-prev .ant-pagination-item-container .ant-pagination-item-link-icon-svg,.ant-pagination-jump-next .ant-pagination-item-container .ant-pagination-item-link-icon-svg{top:0;right:0;bottom:0;left:0;margin:auto}.ant-pagination-jump-prev .ant-pagination-item-container .ant-pagination-item-ellipsis,.ant-pagination-jump-next .ant-pagination-item-container .ant-pagination-item-ellipsis{position:absolute;top:0;right:0;bottom:0;left:0;display:block;margin:auto;color:#00000040;font-family:Arial,Helvetica,sans-serif;letter-spacing:2px;text-align:center;text-indent:.13em;opacity:1;transition:all .2s}.ant-pagination-jump-prev:hover .ant-pagination-item-link-icon,.ant-pagination-jump-next:hover .ant-pagination-item-link-icon{opacity:1}.ant-pagination-jump-prev:hover .ant-pagination-item-ellipsis,.ant-pagination-jump-next:hover .ant-pagination-item-ellipsis{opacity:0}.ant-pagination-jump-prev:focus-visible .ant-pagination-item-link-icon,.ant-pagination-jump-next:focus-visible .ant-pagination-item-link-icon{opacity:1}.ant-pagination-jump-prev:focus-visible .ant-pagination-item-ellipsis,.ant-pagination-jump-next:focus-visible .ant-pagination-item-ellipsis{opacity:0}.ant-pagination-prev,.ant-pagination-jump-prev,.ant-pagination-jump-next{margin-right:8px}.ant-pagination-prev,.ant-pagination-next,.ant-pagination-jump-prev,.ant-pagination-jump-next{display:inline-block;min-width:32px;height:32px;color:#000000d9;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";line-height:32px;text-align:center;vertical-align:middle;list-style:none;border-radius:2px;cursor:pointer;transition:all .3s}.ant-pagination-prev,.ant-pagination-next{font-family:Arial,Helvetica,sans-serif;outline:0}.ant-pagination-prev button,.ant-pagination-next button{color:#000000d9;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ant-pagination-prev:hover button,.ant-pagination-next:hover button{border-color:#40a9ff}.ant-pagination-prev .ant-pagination-item-link,.ant-pagination-next .ant-pagination-item-link{display:block;width:100%;height:100%;padding:0;font-size:12px;text-align:center;background-color:#fff;border:1px solid #d9d9d9;border-radius:2px;outline:none;transition:all .3s}.ant-pagination-prev:focus-visible .ant-pagination-item-link,.ant-pagination-next:focus-visible .ant-pagination-item-link{color:#1890ff;border-color:#1890ff}.ant-pagination-prev:hover .ant-pagination-item-link,.ant-pagination-next:hover .ant-pagination-item-link{color:#1890ff;border-color:#1890ff}.ant-pagination-disabled,.ant-pagination-disabled:hover{cursor:not-allowed}.ant-pagination-disabled .ant-pagination-item-link,.ant-pagination-disabled:hover .ant-pagination-item-link{color:#00000040;border-color:#d9d9d9;cursor:not-allowed}.ant-pagination-disabled:focus-visible{cursor:not-allowed}.ant-pagination-disabled:focus-visible .ant-pagination-item-link{color:#00000040;border-color:#d9d9d9;cursor:not-allowed}.ant-pagination-slash{margin:0 10px 0 5px}.ant-pagination-options{display:inline-block;margin-left:16px;vertical-align:middle}@media all and (-ms-high-contrast: none){.ant-pagination-options *::-ms-backdrop,.ant-pagination-options{vertical-align:top}}.ant-pagination-options-size-changer.ant-select{display:inline-block;width:auto}.ant-pagination-options-quick-jumper{display:inline-block;height:32px;margin-left:8px;line-height:32px;vertical-align:top}.ant-pagination-options-quick-jumper input{position:relative;display:inline-block;width:100%;min-width:0;padding:4px 11px;color:#000000d9;font-size:14px;line-height:1.5715;background-color:#fff;background-image:none;border:1px solid #d9d9d9;border-radius:2px;transition:all .3s;width:50px;height:32px;margin:0 8px}.ant-pagination-options-quick-jumper input::-moz-placeholder{opacity:1}.ant-pagination-options-quick-jumper input::placeholder{color:#bfbfbf;-webkit-user-select:none;-moz-user-select:none;user-select:none}.ant-pagination-options-quick-jumper input:-moz-placeholder-shown{text-overflow:ellipsis}.ant-pagination-options-quick-jumper input:placeholder-shown{text-overflow:ellipsis}.ant-pagination-options-quick-jumper input:hover{border-color:#40a9ff;border-right-width:1px!important}.ant-pagination-options-quick-jumper input:focus,.ant-pagination-options-quick-jumper input-focused{border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33;border-right-width:1px!important;outline:0}.ant-pagination-options-quick-jumper input-disabled{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ant-pagination-options-quick-jumper input-disabled:hover{border-color:#d9d9d9;border-right-width:1px!important}.ant-pagination-options-quick-jumper input[disabled]{color:#00000040;background-color:#f5f5f5;border-color:#d9d9d9;box-shadow:none;cursor:not-allowed;opacity:1}.ant-pagination-options-quick-jumper input[disabled]:hover{border-color:#d9d9d9;border-right-width:1px!important}.ant-pagination-options-quick-jumper input-borderless,.ant-pagination-options-quick-jumper input-borderless:hover,.ant-pagination-options-quick-jumper input-borderless:focus,.ant-pagination-options-quick-jumper input-borderless-focused,.ant-pagination-options-quick-jumper input-borderless-disabled,.ant-pagination-options-quick-jumper input-borderless[disabled]{background-color:transparent;border:none;box-shadow:none}textarea.ant-pagination-options-quick-jumper input{max-width:100%;height:auto;min-height:32px;line-height:1.5715;vertical-align:bottom;transition:all .3s,height 0s}.ant-pagination-options-quick-jumper input-lg{padding:6.5px 11px;font-size:16px}.ant-pagination-options-quick-jumper input-sm{padding:0 7px}.ant-pagination-simple .ant-pagination-prev,.ant-pagination-simple .ant-pagination-next{height:24px;line-height:24px;vertical-align:top}.ant-pagination-simple .ant-pagination-prev .ant-pagination-item-link,.ant-pagination-simple .ant-pagination-next .ant-pagination-item-link{height:24px;background-color:transparent;border:0}.ant-pagination-simple .ant-pagination-prev .ant-pagination-item-link:after,.ant-pagination-simple .ant-pagination-next .ant-pagination-item-link:after{height:24px;line-height:24px}.ant-pagination-simple .ant-pagination-simple-pager{display:inline-block;height:24px;margin-right:8px}.ant-pagination-simple .ant-pagination-simple-pager input{box-sizing:border-box;height:100%;margin-right:8px;padding:0 6px;text-align:center;background-color:#fff;border:1px solid #d9d9d9;border-radius:2px;outline:none;transition:border-color .3s}.ant-pagination-simple .ant-pagination-simple-pager input:hover{border-color:#1890ff}.ant-pagination-simple .ant-pagination-simple-pager input:focus{border-color:#40a9ff;box-shadow:0 0 0 2px #1890ff33}.ant-pagination-simple .ant-pagination-simple-pager input[disabled]{color:#00000040;background:#f5f5f5;border-color:#d9d9d9;cursor:not-allowed}.ant-pagination.mini .ant-pagination-total-text,.ant-pagination.mini .ant-pagination-simple-pager{height:24px;line-height:24px}.ant-pagination.mini .ant-pagination-item{min-width:24px;height:24px;margin:0;line-height:22px}.ant-pagination.mini .ant-pagination-item:not(.ant-pagination-item-active){background:transparent;border-color:transparent}.ant-pagination.mini .ant-pagination-prev,.ant-pagination.mini .ant-pagination-next{min-width:24px;height:24px;margin:0;line-height:24px}.ant-pagination.mini .ant-pagination-prev .ant-pagination-item-link,.ant-pagination.mini .ant-pagination-next .ant-pagination-item-link{background:transparent;border-color:transparent}.ant-pagination.mini .ant-pagination-prev .ant-pagination-item-link:after,.ant-pagination.mini .ant-pagination-next .ant-pagination-item-link:after{height:24px;line-height:24px}.ant-pagination.mini .ant-pagination-jump-prev,.ant-pagination.mini .ant-pagination-jump-next{height:24px;margin-right:0;line-height:24px}.ant-pagination.mini .ant-pagination-options{margin-left:2px}.ant-pagination.mini .ant-pagination-options-size-changer{top:0px}.ant-pagination.mini .ant-pagination-options-quick-jumper{height:24px;line-height:24px}.ant-pagination.mini .ant-pagination-options-quick-jumper input{padding:0 7px;width:44px;height:24px}.ant-pagination.ant-pagination-disabled{cursor:not-allowed}.ant-pagination.ant-pagination-disabled .ant-pagination-item{background:#f5f5f5;border-color:#d9d9d9;cursor:not-allowed}.ant-pagination.ant-pagination-disabled .ant-pagination-item a{color:#00000040;background:transparent;border:none;cursor:not-allowed}.ant-pagination.ant-pagination-disabled .ant-pagination-item-active{background:#e6e6e6}.ant-pagination.ant-pagination-disabled .ant-pagination-item-active a{color:#00000040}.ant-pagination.ant-pagination-disabled .ant-pagination-item-link{color:#00000040;background:#f5f5f5;border-color:#d9d9d9;cursor:not-allowed}.ant-pagination-simple.ant-pagination.ant-pagination-disabled .ant-pagination-item-link{background:transparent}.ant-pagination.ant-pagination-disabled .ant-pagination-item-link-icon{opacity:0}.ant-pagination.ant-pagination-disabled .ant-pagination-item-ellipsis{opacity:1}.ant-pagination.ant-pagination-disabled .ant-pagination-simple-pager{color:#00000040}@media only screen and (max-width: 992px){.ant-pagination-item-after-jump-prev,.ant-pagination-item-before-jump-next{display:none}}@media only screen and (max-width: 576px){.ant-pagination-options{display:none}}.ant-pagination-rtl .ant-pagination-total-text,.ant-pagination-rtl .ant-pagination-item,.ant-pagination-rtl .ant-pagination-prev,.ant-pagination-rtl .ant-pagination-jump-prev,.ant-pagination-rtl .ant-pagination-jump-next{margin-right:0;margin-left:8px}.ant-pagination-rtl .ant-pagination-slash{margin:0 5px 0 10px}.ant-pagination-rtl .ant-pagination-options{margin-right:16px;margin-left:0}.ant-pagination-rtl .ant-pagination-options .ant-pagination-options-size-changer.ant-select{margin-right:0;margin-left:8px}.ant-pagination-rtl .ant-pagination-options .ant-pagination-options-quick-jumper{margin-left:0}.ant-pagination-rtl.ant-pagination-simple .ant-pagination-simple-pager,.ant-pagination-rtl.ant-pagination-simple .ant-pagination-simple-pager input{margin-right:0;margin-left:8px}.ant-pagination-rtl.ant-pagination.mini .ant-pagination-options{margin-right:2px;margin-left:0}.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}*{box-sizing:border-box}#wrapper{position:relative;overflow:hidden;height:100%}#content{position:relative;width:100%}#osd,video{width:100%;height:100%}#caption-bar{display:flex;gap:6px;width:100%;align-items:center;height:32px;background-color:#555}#caption-bar .label{color:#fff;padding:0 9px;font-size:1.1rem;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.grid-wrapper{display:grid;grid-template-columns:repeat(auto-fill,minmax(245px,1fr));grid-gap:12px;align-items:flex-start;justify-items:center;padding:12px 0;width:100%}.grid-wrapper>.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}.grid-wrapper img{border:1px solid #ccc;box-shadow:2px 2px 6px #0000004d;width:240px;max-width:100%}.anticon{display:flex;margin:0 6px;border-radius:50%;font-size:20px}.anticon-comment,.anticon-edit,.anticon-info-circle,.anticon-copy{color:#fff}.anticon-comment:hover,.anticon-edit:hover,.anticon-info-circle:hover,.anticon-copy:hover{color:#000;background-color:#fff;cursor:pointer}.anticon-copy:hover{cursor:copy}#coords{position:absolute;display:flex;align-items:center;justify-content:flex-end;font-family:sans-serif;bottom:0;right:0;width:130px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#coords:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy}.info-icon span{position:absolute;top:20px;right:20px;font-size:24px;z-index:2;opacity:0;border-radius:50%;border:1px solid white;background-color:#0003}.media-item{position:relative}.media-item:hover .info-icon span{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:pointer;color:#fff}.info-icon:hover svg{fill:#000}.ant-drawer-content-wrapper{width:50%!important}.ant-drawer-content{position:absolute;bottom:0;height:50%!important;background-color:#0009;color:#fff}.ant-drawer-header svg{fill:#000;font-size:16px}.ant-drawer-body{padding:0 4px}.ant-drawer-mask{background-color:unset}.full-modal .ant-modal{max-width:100%;top:0;padding-bottom:0;margin:0}.full-modal .ant-modal-content{display:flex;flex-direction:column;height:100vh}.full-modal .ant-modal-body{flex:1;padding:0}.view .r6o-footer{display:none}.r6o-readonly-comment{display:inline}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}ul.annotations{list-style:none;padding-left:0}.annotations li{display:flex;align-items:center;gap:6px;padding:6px 0}.annotations li:hover{background-color:#fff3;cursor:pointer}.ant-badge-count{margin-right:6px;cursor:pointer}
`,MediaViewer=_export_sfc(_sfc_main,[["styles",[_style_0]]]);customElements.define("ve-manifest-beta",defineCustomElement(Manifest));customElements.define("ve-media-beta",defineCustomElement(MediaViewer))});export default tE();
