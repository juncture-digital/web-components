var B_=Object.defineProperty;var F_=(w,B,j)=>B in w?B_(w,B,{enumerable:!0,configurable:!0,writable:!0,value:j}):w[B]=j;var hi=(w,B,j)=>(F_(w,typeof B!="symbol"?B+"":B,j),j);(function(){const B=document.createElement("link").relList;if(B&&B.supports&&B.supports("modulepreload"))return;for(const Y of document.querySelectorAll('link[rel="modulepreload"]'))U(Y);new MutationObserver(Y=>{for(const J of Y)if(J.type==="childList")for(const ee of J.addedNodes)ee.tagName==="LINK"&&ee.rel==="modulepreload"&&U(ee)}).observe(document,{childList:!0,subtree:!0});function j(Y){const J={};return Y.integrity&&(J.integrity=Y.integrity),Y.referrerpolicy&&(J.referrerPolicy=Y.referrerpolicy),Y.crossorigin==="use-credentials"?J.credentials="include":Y.crossorigin==="anonymous"?J.credentials="omit":J.credentials="same-origin",J}function U(Y){if(Y.ep)return;Y.ep=!0;const J=j(Y);fetch(Y.href,J)}})();const style="";function makeMap(w,B){const j=Object.create(null),U=w.split(",");for(let Y=0;Y<U.length;Y++)j[U[Y]]=!0;return B?Y=>!!j[Y.toLowerCase()]:Y=>!!j[Y]}function normalizeStyle(w){if(isArray(w)){const B={};for(let j=0;j<w.length;j++){const U=w[j],Y=isString(U)?parseStringStyle(U):normalizeStyle(U);if(Y)for(const J in Y)B[J]=Y[J]}return B}else{if(isString(w))return w;if(isObject(w))return w}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(w){const B={};return w.replace(styleCommentRE,"").split(listDelimiterRE).forEach(j=>{if(j){const U=j.split(propertyDelimiterRE);U.length>1&&(B[U[0].trim()]=U[1].trim())}}),B}function normalizeClass(w){let B="";if(isString(w))B=w;else if(isArray(w))for(let j=0;j<w.length;j++){const U=normalizeClass(w[j]);U&&(B+=U+" ")}else if(isObject(w))for(const j in w)w[j]&&(B+=j+" ");return B.trim()}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(w){return!!w||w===""}const toDisplayString=w=>isString(w)?w:w==null?"":isArray(w)||isObject(w)&&(w.toString===objectToString||!isFunction(w.toString))?JSON.stringify(w,replacer,2):String(w),replacer=(w,B)=>B&&B.__v_isRef?replacer(w,B.value):isMap(B)?{[`Map(${B.size})`]:[...B.entries()].reduce((j,[U,Y])=>(j[`${U} =>`]=Y,j),{})}:isSet(B)?{[`Set(${B.size})`]:[...B.values()]}:isObject(B)&&!isArray(B)&&!isPlainObject(B)?String(B):B,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=w=>onRE.test(w),isModelListener=w=>w.startsWith("onUpdate:"),extend=Object.assign,remove=(w,B)=>{const j=w.indexOf(B);j>-1&&w.splice(j,1)},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(w,B)=>hasOwnProperty.call(w,B),isArray=Array.isArray,isMap=w=>toTypeString(w)==="[object Map]",isSet=w=>toTypeString(w)==="[object Set]",isFunction=w=>typeof w=="function",isString=w=>typeof w=="string",isSymbol=w=>typeof w=="symbol",isObject=w=>w!==null&&typeof w=="object",isPromise=w=>isObject(w)&&isFunction(w.then)&&isFunction(w.catch),objectToString=Object.prototype.toString,toTypeString=w=>objectToString.call(w),toRawType=w=>toTypeString(w).slice(8,-1),isPlainObject=w=>toTypeString(w)==="[object Object]",isIntegerKey=w=>isString(w)&&w!=="NaN"&&w[0]!=="-"&&""+parseInt(w,10)===w,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=w=>{const B=Object.create(null);return j=>B[j]||(B[j]=w(j))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(w=>w.replace(camelizeRE,(B,j)=>j?j.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(w=>w.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(w=>w.charAt(0).toUpperCase()+w.slice(1)),toHandlerKey=cacheStringFunction(w=>w?`on${capitalize(w)}`:""),hasChanged=(w,B)=>!Object.is(w,B),invokeArrayFns=(w,B)=>{for(let j=0;j<w.length;j++)w[j](B)},def=(w,B,j)=>{Object.defineProperty(w,B,{configurable:!0,enumerable:!1,value:j})},toNumber=w=>{const B=parseFloat(w);return isNaN(B)?w:B};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(B=!1){this.detached=B,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!B&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(B){if(this.active){const j=activeEffectScope;try{return activeEffectScope=this,B()}finally{activeEffectScope=j}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(B){if(this.active){let j,U;for(j=0,U=this.effects.length;j<U;j++)this.effects[j].stop();for(j=0,U=this.cleanups.length;j<U;j++)this.cleanups[j]();if(this.scopes)for(j=0,U=this.scopes.length;j<U;j++)this.scopes[j].stop(!0);if(!this.detached&&this.parent&&!B){const Y=this.parent.scopes.pop();Y&&Y!==this&&(this.parent.scopes[this.index]=Y,Y.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(w,B=activeEffectScope){B&&B.active&&B.effects.push(w)}const createDep=w=>{const B=new Set(w);return B.w=0,B.n=0,B},wasTracked=w=>(w.w&trackOpBit)>0,newTracked=w=>(w.n&trackOpBit)>0,initDepMarkers=({deps:w})=>{if(w.length)for(let B=0;B<w.length;B++)w[B].w|=trackOpBit},finalizeDepMarkers=w=>{const{deps:B}=w;if(B.length){let j=0;for(let U=0;U<B.length;U++){const Y=B[U];wasTracked(Y)&&!newTracked(Y)?Y.delete(w):B[j++]=Y,Y.w&=~trackOpBit,Y.n&=~trackOpBit}B.length=j}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(B,j=null,U){this.fn=B,this.scheduler=j,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,U)}run(){if(!this.active)return this.fn();let B=activeEffect,j=shouldTrack;for(;B;){if(B===this)return;B=B.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=j,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(w){const{deps:B}=w;if(B.length){for(let j=0;j<B.length;j++)B[j].delete(w);B.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const w=trackStack.pop();shouldTrack=w===void 0?!0:w}function track(w,B,j){if(shouldTrack&&activeEffect){let U=targetMap.get(w);U||targetMap.set(w,U=new Map);let Y=U.get(j);Y||U.set(j,Y=createDep()),trackEffects(Y)}}function trackEffects(w,B){let j=!1;effectTrackDepth<=maxMarkerBits?newTracked(w)||(w.n|=trackOpBit,j=!wasTracked(w)):j=!w.has(activeEffect),j&&(w.add(activeEffect),activeEffect.deps.push(w))}function trigger(w,B,j,U,Y,J){const ee=targetMap.get(w);if(!ee)return;let te=[];if(B==="clear")te=[...ee.values()];else if(j==="length"&&isArray(w)){const re=toNumber(U);ee.forEach((ie,ce)=>{(ce==="length"||ce>=re)&&te.push(ie)})}else switch(j!==void 0&&te.push(ee.get(j)),B){case"add":isArray(w)?isIntegerKey(j)&&te.push(ee.get("length")):(te.push(ee.get(ITERATE_KEY)),isMap(w)&&te.push(ee.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray(w)||(te.push(ee.get(ITERATE_KEY)),isMap(w)&&te.push(ee.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap(w)&&te.push(ee.get(ITERATE_KEY));break}if(te.length===1)te[0]&&triggerEffects(te[0]);else{const re=[];for(const ie of te)ie&&re.push(...ie);triggerEffects(createDep(re))}}function triggerEffects(w,B){const j=isArray(w)?w:[...w];for(const U of j)U.computed&&triggerEffect(U);for(const U of j)U.computed||triggerEffect(U)}function triggerEffect(w,B){(w!==activeEffect||w.allowRecurse)&&(w.scheduler?w.scheduler():w.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(w=>w!=="arguments"&&w!=="caller").map(w=>Symbol[w]).filter(isSymbol)),get=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const w={};return["includes","indexOf","lastIndexOf"].forEach(B=>{w[B]=function(...j){const U=toRaw(this);for(let J=0,ee=this.length;J<ee;J++)track(U,"get",J+"");const Y=U[B](...j);return Y===-1||Y===!1?U[B](...j.map(toRaw)):Y}}),["push","pop","shift","unshift","splice"].forEach(B=>{w[B]=function(...j){pauseTracking();const U=toRaw(this)[B].apply(this,j);return resetTracking(),U}}),w}function createGetter(w=!1,B=!1){return function(U,Y,J){if(Y==="__v_isReactive")return!w;if(Y==="__v_isReadonly")return w;if(Y==="__v_isShallow")return B;if(Y==="__v_raw"&&J===(w?B?shallowReadonlyMap:readonlyMap:B?shallowReactiveMap:reactiveMap).get(U))return U;const ee=isArray(U);if(!w&&ee&&hasOwn(arrayInstrumentations,Y))return Reflect.get(arrayInstrumentations,Y,J);const te=Reflect.get(U,Y,J);return(isSymbol(Y)?builtInSymbols.has(Y):isNonTrackableKeys(Y))||(w||track(U,"get",Y),B)?te:isRef(te)?ee&&isIntegerKey(Y)?te:te.value:isObject(te)?w?readonly(te):reactive(te):te}}const set=createSetter(),shallowSet=createSetter(!0);function createSetter(w=!1){return function(j,U,Y,J){let ee=j[U];if(isReadonly(ee)&&isRef(ee)&&!isRef(Y))return!1;if(!w&&(!isShallow(Y)&&!isReadonly(Y)&&(ee=toRaw(ee),Y=toRaw(Y)),!isArray(j)&&isRef(ee)&&!isRef(Y)))return ee.value=Y,!0;const te=isArray(j)&&isIntegerKey(U)?Number(U)<j.length:hasOwn(j,U),re=Reflect.set(j,U,Y,J);return j===toRaw(J)&&(te?hasChanged(Y,ee)&&trigger(j,"set",U,Y):trigger(j,"add",U,Y)),re}}function deleteProperty(w,B){const j=hasOwn(w,B);w[B];const U=Reflect.deleteProperty(w,B);return U&&j&&trigger(w,"delete",B,void 0),U}function has(w,B){const j=Reflect.has(w,B);return(!isSymbol(B)||!builtInSymbols.has(B))&&track(w,"has",B),j}function ownKeys(w){return track(w,"iterate",isArray(w)?"length":ITERATE_KEY),Reflect.ownKeys(w)}const mutableHandlers={get,set,deleteProperty,has,ownKeys},readonlyHandlers={get:readonlyGet,set(w,B){return!0},deleteProperty(w,B){return!0}},shallowReactiveHandlers=extend({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=w=>w,getProto=w=>Reflect.getPrototypeOf(w);function get$1(w,B,j=!1,U=!1){w=w.__v_raw;const Y=toRaw(w),J=toRaw(B);j||(B!==J&&track(Y,"get",B),track(Y,"get",J));const{has:ee}=getProto(Y),te=U?toShallow:j?toReadonly:toReactive;if(ee.call(Y,B))return te(w.get(B));if(ee.call(Y,J))return te(w.get(J));w!==Y&&w.get(B)}function has$1(w,B=!1){const j=this.__v_raw,U=toRaw(j),Y=toRaw(w);return B||(w!==Y&&track(U,"has",w),track(U,"has",Y)),w===Y?j.has(w):j.has(w)||j.has(Y)}function size(w,B=!1){return w=w.__v_raw,!B&&track(toRaw(w),"iterate",ITERATE_KEY),Reflect.get(w,"size",w)}function add(w){w=toRaw(w);const B=toRaw(this);return getProto(B).has.call(B,w)||(B.add(w),trigger(B,"add",w,w)),this}function set$1(w,B){B=toRaw(B);const j=toRaw(this),{has:U,get:Y}=getProto(j);let J=U.call(j,w);J||(w=toRaw(w),J=U.call(j,w));const ee=Y.call(j,w);return j.set(w,B),J?hasChanged(B,ee)&&trigger(j,"set",w,B):trigger(j,"add",w,B),this}function deleteEntry(w){const B=toRaw(this),{has:j,get:U}=getProto(B);let Y=j.call(B,w);Y||(w=toRaw(w),Y=j.call(B,w)),U&&U.call(B,w);const J=B.delete(w);return Y&&trigger(B,"delete",w,void 0),J}function clear(){const w=toRaw(this),B=w.size!==0,j=w.clear();return B&&trigger(w,"clear",void 0,void 0),j}function createForEach(w,B){return function(U,Y){const J=this,ee=J.__v_raw,te=toRaw(ee),re=B?toShallow:w?toReadonly:toReactive;return!w&&track(te,"iterate",ITERATE_KEY),ee.forEach((ie,ce)=>U.call(Y,re(ie),re(ce),J))}}function createIterableMethod(w,B,j){return function(...U){const Y=this.__v_raw,J=toRaw(Y),ee=isMap(J),te=w==="entries"||w===Symbol.iterator&&ee,re=w==="keys"&&ee,ie=Y[w](...U),ce=j?toShallow:B?toReadonly:toReactive;return!B&&track(J,"iterate",re?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:fe,done:le}=ie.next();return le?{value:fe,done:le}:{value:te?[ce(fe[0]),ce(fe[1])]:ce(fe),done:le}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(w){return function(...B){return w==="delete"?!1:this}}function createInstrumentations(){const w={get(J){return get$1(this,J)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!1)},B={get(J){return get$1(this,J,!1,!0)},get size(){return size(this)},has:has$1,add,set:set$1,delete:deleteEntry,clear,forEach:createForEach(!1,!0)},j={get(J){return get$1(this,J,!0)},get size(){return size(this,!0)},has(J){return has$1.call(this,J,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},U={get(J){return get$1(this,J,!0,!0)},get size(){return size(this,!0)},has(J){return has$1.call(this,J,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(J=>{w[J]=createIterableMethod(J,!1,!1),j[J]=createIterableMethod(J,!0,!1),B[J]=createIterableMethod(J,!1,!0),U[J]=createIterableMethod(J,!0,!0)}),[w,j,B,U]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(w,B){const j=B?w?shallowReadonlyInstrumentations:shallowInstrumentations:w?readonlyInstrumentations:mutableInstrumentations;return(U,Y,J)=>Y==="__v_isReactive"?!w:Y==="__v_isReadonly"?w:Y==="__v_raw"?U:Reflect.get(hasOwn(j,Y)&&Y in U?j:U,Y,J)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(w){switch(w){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(w){return w.__v_skip||!Object.isExtensible(w)?0:targetTypeMap(toRawType(w))}function reactive(w){return isReadonly(w)?w:createReactiveObject(w,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(w){return createReactiveObject(w,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(w){return createReactiveObject(w,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(w,B,j,U,Y){if(!isObject(w)||w.__v_raw&&!(B&&w.__v_isReactive))return w;const J=Y.get(w);if(J)return J;const ee=getTargetType(w);if(ee===0)return w;const te=new Proxy(w,ee===2?U:j);return Y.set(w,te),te}function isReactive(w){return isReadonly(w)?isReactive(w.__v_raw):!!(w&&w.__v_isReactive)}function isReadonly(w){return!!(w&&w.__v_isReadonly)}function isShallow(w){return!!(w&&w.__v_isShallow)}function isProxy(w){return isReactive(w)||isReadonly(w)}function toRaw(w){const B=w&&w.__v_raw;return B?toRaw(B):w}function markRaw(w){return def(w,"__v_skip",!0),w}const toReactive=w=>isObject(w)?reactive(w):w,toReadonly=w=>isObject(w)?readonly(w):w;function trackRefValue(w){shouldTrack&&activeEffect&&(w=toRaw(w),trackEffects(w.dep||(w.dep=createDep())))}function triggerRefValue(w,B){w=toRaw(w),w.dep&&triggerEffects(w.dep)}function isRef(w){return!!(w&&w.__v_isRef===!0)}function ref(w){return createRef(w,!1)}function createRef(w,B){return isRef(w)?w:new RefImpl(w,B)}class RefImpl{constructor(B,j){this.__v_isShallow=j,this.dep=void 0,this.__v_isRef=!0,this._rawValue=j?B:toRaw(B),this._value=j?B:toReactive(B)}get value(){return trackRefValue(this),this._value}set value(B){const j=this.__v_isShallow||isShallow(B)||isReadonly(B);B=j?B:toRaw(B),hasChanged(B,this._rawValue)&&(this._rawValue=B,this._value=j?B:toReactive(B),triggerRefValue(this))}}function unref(w){return isRef(w)?w.value:w}const shallowUnwrapHandlers={get:(w,B,j)=>unref(Reflect.get(w,B,j)),set:(w,B,j,U)=>{const Y=w[B];return isRef(Y)&&!isRef(j)?(Y.value=j,!0):Reflect.set(w,B,j,U)}};function proxyRefs(w){return isReactive(w)?w:new Proxy(w,shallowUnwrapHandlers)}var _a;class ComputedRefImpl{constructor(B,j,U,Y){this._setter=j,this.dep=void 0,this.__v_isRef=!0,this[_a]=!1,this._dirty=!0,this.effect=new ReactiveEffect(B,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!Y,this.__v_isReadonly=U}get value(){const B=toRaw(this);return trackRefValue(B),(B._dirty||!B._cacheable)&&(B._dirty=!1,B._value=B.effect.run()),B._value}set value(B){this._setter(B)}}_a="__v_isReadonly";function computed$1(w,B,j=!1){let U,Y;const J=isFunction(w);return J?(U=w,Y=NOOP):(U=w.get,Y=w.set),new ComputedRefImpl(U,Y,J||!Y,j)}function warn(w,...B){}function callWithErrorHandling(w,B,j,U){let Y;try{Y=U?w(...U):w()}catch(J){handleError(J,B,j)}return Y}function callWithAsyncErrorHandling(w,B,j,U){if(isFunction(w)){const J=callWithErrorHandling(w,B,j,U);return J&&isPromise(J)&&J.catch(ee=>{handleError(ee,B,j)}),J}const Y=[];for(let J=0;J<w.length;J++)Y.push(callWithAsyncErrorHandling(w[J],B,j,U));return Y}function handleError(w,B,j,U=!0){const Y=B?B.vnode:null;if(B){let J=B.parent;const ee=B.proxy,te=j;for(;J;){const ie=J.ec;if(ie){for(let ce=0;ce<ie.length;ce++)if(ie[ce](w,ee,te)===!1)return}J=J.parent}const re=B.appContext.config.errorHandler;if(re){callWithErrorHandling(re,null,10,[w,ee,te]);return}}logError(w,j,Y,U)}function logError(w,B,j,U=!0){console.error(w)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(w){const B=currentFlushPromise||resolvedPromise;return w?B.then(this?w.bind(this):w):B}function findInsertionIndex(w){let B=flushIndex+1,j=queue.length;for(;B<j;){const U=B+j>>>1;getId(queue[U])<w?B=U+1:j=U}return B}function queueJob(w){(!queue.length||!queue.includes(w,isFlushing&&w.allowRecurse?flushIndex+1:flushIndex))&&(w.id==null?queue.push(w):queue.splice(findInsertionIndex(w.id),0,w),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(w){const B=queue.indexOf(w);B>flushIndex&&queue.splice(B,1)}function queuePostFlushCb(w){isArray(w)?pendingPostFlushCbs.push(...w):(!activePostFlushCbs||!activePostFlushCbs.includes(w,w.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(w),queueFlush()}function flushPreFlushCbs(w,B=isFlushing?flushIndex+1:0){for(;B<queue.length;B++){const j=queue[B];j&&j.pre&&(queue.splice(B,1),B--,j())}}function flushPostFlushCbs(w){if(pendingPostFlushCbs.length){const B=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...B);return}for(activePostFlushCbs=B,activePostFlushCbs.sort((j,U)=>getId(j)-getId(U)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId=w=>w.id==null?1/0:w.id,comparator=(w,B)=>{const j=getId(w)-getId(B);if(j===0){if(w.pre&&!B.pre)return-1;if(B.pre&&!w.pre)return 1}return j};function flushJobs(w){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const B=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const j=queue[flushIndex];j&&j.active!==!1&&callWithErrorHandling(j,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(w,B,...j){if(w.isUnmounted)return;const U=w.vnode.props||EMPTY_OBJ;let Y=j;const J=B.startsWith("update:"),ee=J&&B.slice(7);if(ee&&ee in U){const ce=`${ee==="modelValue"?"model":ee}Modifiers`,{number:fe,trim:le}=U[ce]||EMPTY_OBJ;le&&(Y=j.map(ye=>isString(ye)?ye.trim():ye)),fe&&(Y=j.map(toNumber))}let te,re=U[te=toHandlerKey(B)]||U[te=toHandlerKey(camelize(B))];!re&&J&&(re=U[te=toHandlerKey(hyphenate(B))]),re&&callWithAsyncErrorHandling(re,w,6,Y);const ie=U[te+"Once"];if(ie){if(!w.emitted)w.emitted={};else if(w.emitted[te])return;w.emitted[te]=!0,callWithAsyncErrorHandling(ie,w,6,Y)}}function normalizeEmitsOptions(w,B,j=!1){const U=B.emitsCache,Y=U.get(w);if(Y!==void 0)return Y;const J=w.emits;let ee={},te=!1;if(!isFunction(w)){const re=ie=>{const ce=normalizeEmitsOptions(ie,B,!0);ce&&(te=!0,extend(ee,ce))};!j&&B.mixins.length&&B.mixins.forEach(re),w.extends&&re(w.extends),w.mixins&&w.mixins.forEach(re)}return!J&&!te?(isObject(w)&&U.set(w,null),null):(isArray(J)?J.forEach(re=>ee[re]=null):extend(ee,J),isObject(w)&&U.set(w,ee),ee)}function isEmitListener(w,B){return!w||!isOn(B)?!1:(B=B.slice(2).replace(/Once$/,""),hasOwn(w,B[0].toLowerCase()+B.slice(1))||hasOwn(w,hyphenate(B))||hasOwn(w,B))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(w){const B=currentRenderingInstance;return currentRenderingInstance=w,currentScopeId=w&&w.type.__scopeId||null,B}function pushScopeId(w){currentScopeId=w}function popScopeId(){currentScopeId=null}function withCtx(w,B=currentRenderingInstance,j){if(!B||w._n)return w;const U=(...Y)=>{U._d&&setBlockTracking(-1);const J=setCurrentRenderingInstance(B);let ee;try{ee=w(...Y)}finally{setCurrentRenderingInstance(J),U._d&&setBlockTracking(1)}return ee};return U._n=!0,U._c=!0,U._d=!0,U}function markAttrsAccessed(){}function renderComponentRoot(w){const{type:B,vnode:j,proxy:U,withProxy:Y,props:J,propsOptions:[ee],slots:te,attrs:re,emit:ie,render:ce,renderCache:fe,data:le,setupState:ye,ctx:we,inheritAttrs:Ce}=w;let ae,ve;const xe=setCurrentRenderingInstance(w);try{if(j.shapeFlag&4){const Pe=Y||U;ae=normalizeVNode(ce.call(Pe,Pe,fe,J,ye,le,we)),ve=re}else{const Pe=B;ae=normalizeVNode(Pe.length>1?Pe(J,{attrs:re,slots:te,emit:ie}):Pe(J,null)),ve=B.props?re:getFunctionalFallthrough(re)}}catch(Pe){blockStack.length=0,handleError(Pe,w,1),ae=createVNode(Comment)}let _e=ae;if(ve&&Ce!==!1){const Pe=Object.keys(ve),{shapeFlag:Me}=_e;Pe.length&&Me&7&&(ee&&Pe.some(isModelListener)&&(ve=filterModelListeners(ve,ee)),_e=cloneVNode(_e,ve))}return j.dirs&&(_e=cloneVNode(_e),_e.dirs=_e.dirs?_e.dirs.concat(j.dirs):j.dirs),j.transition&&(_e.transition=j.transition),ae=_e,setCurrentRenderingInstance(xe),ae}const getFunctionalFallthrough=w=>{let B;for(const j in w)(j==="class"||j==="style"||isOn(j))&&((B||(B={}))[j]=w[j]);return B},filterModelListeners=(w,B)=>{const j={};for(const U in w)(!isModelListener(U)||!(U.slice(9)in B))&&(j[U]=w[U]);return j};function shouldUpdateComponent(w,B,j){const{props:U,children:Y,component:J}=w,{props:ee,children:te,patchFlag:re}=B,ie=J.emitsOptions;if(B.dirs||B.transition)return!0;if(j&&re>=0){if(re&1024)return!0;if(re&16)return U?hasPropsChanged(U,ee,ie):!!ee;if(re&8){const ce=B.dynamicProps;for(let fe=0;fe<ce.length;fe++){const le=ce[fe];if(ee[le]!==U[le]&&!isEmitListener(ie,le))return!0}}}else return(Y||te)&&(!te||!te.$stable)?!0:U===ee?!1:U?ee?hasPropsChanged(U,ee,ie):!0:!!ee;return!1}function hasPropsChanged(w,B,j){const U=Object.keys(B);if(U.length!==Object.keys(w).length)return!0;for(let Y=0;Y<U.length;Y++){const J=U[Y];if(B[J]!==w[J]&&!isEmitListener(j,J))return!0}return!1}function updateHOCHostEl({vnode:w,parent:B},j){for(;B&&B.subTree===w;)(w=B.vnode).el=j,B=B.parent}const isSuspense=w=>w.__isSuspense;function queueEffectWithSuspense(w,B){B&&B.pendingBranch?isArray(w)?B.effects.push(...w):B.effects.push(w):queuePostFlushCb(w)}function provide(w,B){if(currentInstance){let j=currentInstance.provides;const U=currentInstance.parent&&currentInstance.parent.provides;U===j&&(j=currentInstance.provides=Object.create(U)),j[w]=B}}function inject(w,B,j=!1){const U=currentInstance||currentRenderingInstance;if(U){const Y=U.parent==null?U.vnode.appContext&&U.vnode.appContext.provides:U.parent.provides;if(Y&&w in Y)return Y[w];if(arguments.length>1)return j&&isFunction(B)?B.call(U.proxy):B}}const INITIAL_WATCHER_VALUE={};function watch$1(w,B,j){return doWatch(w,B,j)}function doWatch(w,B,{immediate:j,deep:U,flush:Y,onTrack:J,onTrigger:ee}=EMPTY_OBJ){const te=currentInstance;let re,ie=!1,ce=!1;if(isRef(w)?(re=()=>w.value,ie=isShallow(w)):isReactive(w)?(re=()=>w,U=!0):isArray(w)?(ce=!0,ie=w.some(_e=>isReactive(_e)||isShallow(_e)),re=()=>w.map(_e=>{if(isRef(_e))return _e.value;if(isReactive(_e))return traverse(_e);if(isFunction(_e))return callWithErrorHandling(_e,te,2)})):isFunction(w)?B?re=()=>callWithErrorHandling(w,te,2):re=()=>{if(!(te&&te.isUnmounted))return fe&&fe(),callWithAsyncErrorHandling(w,te,3,[le])}:re=NOOP,B&&U){const _e=re;re=()=>traverse(_e())}let fe,le=_e=>{fe=ve.onStop=()=>{callWithErrorHandling(_e,te,4)}},ye;if(isInSSRComponentSetup)if(le=NOOP,B?j&&callWithAsyncErrorHandling(B,te,3,[re(),ce?[]:void 0,le]):re(),Y==="sync"){const _e=useSSRContext();ye=_e.__watcherHandles||(_e.__watcherHandles=[])}else return NOOP;let we=ce?new Array(w.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Ce=()=>{if(!!ve.active)if(B){const _e=ve.run();(U||ie||(ce?_e.some((Pe,Me)=>hasChanged(Pe,we[Me])):hasChanged(_e,we)))&&(fe&&fe(),callWithAsyncErrorHandling(B,te,3,[_e,we===INITIAL_WATCHER_VALUE?void 0:ce&&we[0]===INITIAL_WATCHER_VALUE?[]:we,le]),we=_e)}else ve.run()};Ce.allowRecurse=!!B;let ae;Y==="sync"?ae=Ce:Y==="post"?ae=()=>queuePostRenderEffect(Ce,te&&te.suspense):(Ce.pre=!0,te&&(Ce.id=te.uid),ae=()=>queueJob(Ce));const ve=new ReactiveEffect(re,ae);B?j?Ce():we=ve.run():Y==="post"?queuePostRenderEffect(ve.run.bind(ve),te&&te.suspense):ve.run();const xe=()=>{ve.stop(),te&&te.scope&&remove(te.scope.effects,ve)};return ye&&ye.push(xe),xe}function instanceWatch(w,B,j){const U=this.proxy,Y=isString(w)?w.includes(".")?createPathGetter(U,w):()=>U[w]:w.bind(U,U);let J;isFunction(B)?J=B:(J=B.handler,j=B);const ee=currentInstance;setCurrentInstance(this);const te=doWatch(Y,J.bind(U),j);return ee?setCurrentInstance(ee):unsetCurrentInstance(),te}function createPathGetter(w,B){const j=B.split(".");return()=>{let U=w;for(let Y=0;Y<j.length&&U;Y++)U=U[j[Y]];return U}}function traverse(w,B){if(!isObject(w)||w.__v_skip||(B=B||new Set,B.has(w)))return w;if(B.add(w),isRef(w))traverse(w.value,B);else if(isArray(w))for(let j=0;j<w.length;j++)traverse(w[j],B);else if(isSet(w)||isMap(w))w.forEach(j=>{traverse(j,B)});else if(isPlainObject(w))for(const j in w)traverse(w[j],B);return w}function useTransitionState(){const w={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{w.isMounted=!0}),onBeforeUnmount(()=>{w.isUnmounting=!0}),w}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(w,{slots:B}){const j=getCurrentInstance(),U=useTransitionState();let Y;return()=>{const J=B.default&&getTransitionRawChildren(B.default(),!0);if(!J||!J.length)return;let ee=J[0];if(J.length>1){for(const Ce of J)if(Ce.type!==Comment){ee=Ce;break}}const te=toRaw(w),{mode:re}=te;if(U.isLeaving)return emptyPlaceholder(ee);const ie=getKeepAliveChild(ee);if(!ie)return emptyPlaceholder(ee);const ce=resolveTransitionHooks(ie,te,U,j);setTransitionHooks(ie,ce);const fe=j.subTree,le=fe&&getKeepAliveChild(fe);let ye=!1;const{getTransitionKey:we}=ie.type;if(we){const Ce=we();Y===void 0?Y=Ce:Ce!==Y&&(Y=Ce,ye=!0)}if(le&&le.type!==Comment&&(!isSameVNodeType(ie,le)||ye)){const Ce=resolveTransitionHooks(le,te,U,j);if(setTransitionHooks(le,Ce),re==="out-in")return U.isLeaving=!0,Ce.afterLeave=()=>{U.isLeaving=!1,j.update.active!==!1&&j.update()},emptyPlaceholder(ee);re==="in-out"&&ie.type!==Comment&&(Ce.delayLeave=(ae,ve,xe)=>{const _e=getLeavingNodesForType(U,le);_e[String(le.key)]=le,ae._leaveCb=()=>{ve(),ae._leaveCb=void 0,delete ce.delayedLeave},ce.delayedLeave=xe})}return ee}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(w,B){const{leavingVNodes:j}=w;let U=j.get(B.type);return U||(U=Object.create(null),j.set(B.type,U)),U}function resolveTransitionHooks(w,B,j,U){const{appear:Y,mode:J,persisted:ee=!1,onBeforeEnter:te,onEnter:re,onAfterEnter:ie,onEnterCancelled:ce,onBeforeLeave:fe,onLeave:le,onAfterLeave:ye,onLeaveCancelled:we,onBeforeAppear:Ce,onAppear:ae,onAfterAppear:ve,onAppearCancelled:xe}=B,_e=String(w.key),Pe=getLeavingNodesForType(j,w),Me=(He,Ze)=>{He&&callWithAsyncErrorHandling(He,U,9,Ze)},je=(He,Ze)=>{const Ue=Ze[1];Me(He,Ze),isArray(He)?He.every(it=>it.length<=1)&&Ue():He.length<=1&&Ue()},Ve={mode:J,persisted:ee,beforeEnter(He){let Ze=te;if(!j.isMounted)if(Y)Ze=Ce||te;else return;He._leaveCb&&He._leaveCb(!0);const Ue=Pe[_e];Ue&&isSameVNodeType(w,Ue)&&Ue.el._leaveCb&&Ue.el._leaveCb(),Me(Ze,[He])},enter(He){let Ze=re,Ue=ie,it=ce;if(!j.isMounted)if(Y)Ze=ae||re,Ue=ve||ie,it=xe||ce;else return;let Fe=!1;const ht=He._enterCb=ft=>{Fe||(Fe=!0,ft?Me(it,[He]):Me(Ue,[He]),Ve.delayedLeave&&Ve.delayedLeave(),He._enterCb=void 0)};Ze?je(Ze,[He,ht]):ht()},leave(He,Ze){const Ue=String(w.key);if(He._enterCb&&He._enterCb(!0),j.isUnmounting)return Ze();Me(fe,[He]);let it=!1;const Fe=He._leaveCb=ht=>{it||(it=!0,Ze(),ht?Me(we,[He]):Me(ye,[He]),He._leaveCb=void 0,Pe[Ue]===w&&delete Pe[Ue])};Pe[Ue]=w,le?je(le,[He,Fe]):Fe()},clone(He){return resolveTransitionHooks(He,B,j,U)}};return Ve}function emptyPlaceholder(w){if(isKeepAlive(w))return w=cloneVNode(w),w.children=null,w}function getKeepAliveChild(w){return isKeepAlive(w)?w.children?w.children[0]:void 0:w}function setTransitionHooks(w,B){w.shapeFlag&6&&w.component?setTransitionHooks(w.component.subTree,B):w.shapeFlag&128?(w.ssContent.transition=B.clone(w.ssContent),w.ssFallback.transition=B.clone(w.ssFallback)):w.transition=B}function getTransitionRawChildren(w,B=!1,j){let U=[],Y=0;for(let J=0;J<w.length;J++){let ee=w[J];const te=j==null?ee.key:String(j)+String(ee.key!=null?ee.key:J);ee.type===Fragment?(ee.patchFlag&128&&Y++,U=U.concat(getTransitionRawChildren(ee.children,B,te))):(B||ee.type!==Comment)&&U.push(te!=null?cloneVNode(ee,{key:te}):ee)}if(Y>1)for(let J=0;J<U.length;J++)U[J].patchFlag=-2;return U}function defineComponent(w){return isFunction(w)?{setup:w,name:w.name}:w}const isAsyncWrapper=w=>!!w.type.__asyncLoader,isKeepAlive=w=>w.type.__isKeepAlive;function onActivated(w,B){registerKeepAliveHook(w,"a",B)}function onDeactivated(w,B){registerKeepAliveHook(w,"da",B)}function registerKeepAliveHook(w,B,j=currentInstance){const U=w.__wdc||(w.__wdc=()=>{let Y=j;for(;Y;){if(Y.isDeactivated)return;Y=Y.parent}return w()});if(injectHook(B,U,j),j){let Y=j.parent;for(;Y&&Y.parent;)isKeepAlive(Y.parent.vnode)&&injectToKeepAliveRoot(U,B,j,Y),Y=Y.parent}}function injectToKeepAliveRoot(w,B,j,U){const Y=injectHook(B,w,U,!0);onUnmounted(()=>{remove(U[B],Y)},j)}function injectHook(w,B,j=currentInstance,U=!1){if(j){const Y=j[w]||(j[w]=[]),J=B.__weh||(B.__weh=(...ee)=>{if(j.isUnmounted)return;pauseTracking(),setCurrentInstance(j);const te=callWithAsyncErrorHandling(B,j,w,ee);return unsetCurrentInstance(),resetTracking(),te});return U?Y.unshift(J):Y.push(J),J}}const createHook=w=>(B,j=currentInstance)=>(!isInSSRComponentSetup||w==="sp")&&injectHook(w,(...U)=>B(...U),j),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(w,B=currentInstance){injectHook("ec",w,B)}function invokeDirectiveHook(w,B,j,U){const Y=w.dirs,J=B&&B.dirs;for(let ee=0;ee<Y.length;ee++){const te=Y[ee];J&&(te.oldValue=J[ee].value);let re=te.dir[U];re&&(pauseTracking(),callWithAsyncErrorHandling(re,j,8,[w.el,te,w,B]),resetTracking())}}const COMPONENTS="components";function resolveComponent(w,B){return resolveAsset(COMPONENTS,w,!0,B)||w}const NULL_DYNAMIC_COMPONENT=Symbol();function resolveAsset(w,B,j=!0,U=!1){const Y=currentRenderingInstance||currentInstance;if(Y){const J=Y.type;if(w===COMPONENTS){const te=getComponentName(J,!1);if(te&&(te===B||te===camelize(B)||te===capitalize(camelize(B))))return J}const ee=resolve(Y[w]||J[w],B)||resolve(Y.appContext[w],B);return!ee&&U?J:ee}}function resolve(w,B){return w&&(w[B]||w[camelize(B)]||w[capitalize(camelize(B))])}function renderList(w,B,j,U){let Y;const J=j&&j[U];if(isArray(w)||isString(w)){Y=new Array(w.length);for(let ee=0,te=w.length;ee<te;ee++)Y[ee]=B(w[ee],ee,void 0,J&&J[ee])}else if(typeof w=="number"){Y=new Array(w);for(let ee=0;ee<w;ee++)Y[ee]=B(ee+1,ee,void 0,J&&J[ee])}else if(isObject(w))if(w[Symbol.iterator])Y=Array.from(w,(ee,te)=>B(ee,te,void 0,J&&J[te]));else{const ee=Object.keys(w);Y=new Array(ee.length);for(let te=0,re=ee.length;te<re;te++){const ie=ee[te];Y[te]=B(w[ie],ie,te,J&&J[te])}}else Y=[];return j&&(j[U]=Y),Y}function renderSlot(w,B,j={},U,Y){if(currentRenderingInstance.isCE||currentRenderingInstance.parent&&isAsyncWrapper(currentRenderingInstance.parent)&&currentRenderingInstance.parent.isCE)return B!=="default"&&(j.name=B),createVNode("slot",j,U&&U());let J=w[B];J&&J._c&&(J._d=!1),openBlock();const ee=J&&ensureValidVNode(J(j)),te=createBlock(Fragment,{key:j.key||ee&&ee.key||`_${B}`},ee||(U?U():[]),ee&&w._===1?64:-2);return!Y&&te.scopeId&&(te.slotScopeIds=[te.scopeId+"-s"]),J&&J._c&&(J._d=!0),te}function ensureValidVNode(w){return w.some(B=>isVNode(B)?!(B.type===Comment||B.type===Fragment&&!ensureValidVNode(B.children)):!0)?w:null}const getPublicInstance=w=>w?isStatefulComponent(w)?getExposeProxy(w)||w.proxy:getPublicInstance(w.parent):null,publicPropertiesMap=extend(Object.create(null),{$:w=>w,$el:w=>w.vnode.el,$data:w=>w.data,$props:w=>w.props,$attrs:w=>w.attrs,$slots:w=>w.slots,$refs:w=>w.refs,$parent:w=>getPublicInstance(w.parent),$root:w=>getPublicInstance(w.root),$emit:w=>w.emit,$options:w=>resolveMergedOptions(w),$forceUpdate:w=>w.f||(w.f=()=>queueJob(w.update)),$nextTick:w=>w.n||(w.n=nextTick.bind(w.proxy)),$watch:w=>instanceWatch.bind(w)}),hasSetupBinding=(w,B)=>w!==EMPTY_OBJ&&!w.__isScriptSetup&&hasOwn(w,B),PublicInstanceProxyHandlers={get({_:w},B){const{ctx:j,setupState:U,data:Y,props:J,accessCache:ee,type:te,appContext:re}=w;let ie;if(B[0]!=="$"){const ye=ee[B];if(ye!==void 0)switch(ye){case 1:return U[B];case 2:return Y[B];case 4:return j[B];case 3:return J[B]}else{if(hasSetupBinding(U,B))return ee[B]=1,U[B];if(Y!==EMPTY_OBJ&&hasOwn(Y,B))return ee[B]=2,Y[B];if((ie=w.propsOptions[0])&&hasOwn(ie,B))return ee[B]=3,J[B];if(j!==EMPTY_OBJ&&hasOwn(j,B))return ee[B]=4,j[B];shouldCacheAccess&&(ee[B]=0)}}const ce=publicPropertiesMap[B];let fe,le;if(ce)return B==="$attrs"&&track(w,"get",B),ce(w);if((fe=te.__cssModules)&&(fe=fe[B]))return fe;if(j!==EMPTY_OBJ&&hasOwn(j,B))return ee[B]=4,j[B];if(le=re.config.globalProperties,hasOwn(le,B))return le[B]},set({_:w},B,j){const{data:U,setupState:Y,ctx:J}=w;return hasSetupBinding(Y,B)?(Y[B]=j,!0):U!==EMPTY_OBJ&&hasOwn(U,B)?(U[B]=j,!0):hasOwn(w.props,B)||B[0]==="$"&&B.slice(1)in w?!1:(J[B]=j,!0)},has({_:{data:w,setupState:B,accessCache:j,ctx:U,appContext:Y,propsOptions:J}},ee){let te;return!!j[ee]||w!==EMPTY_OBJ&&hasOwn(w,ee)||hasSetupBinding(B,ee)||(te=J[0])&&hasOwn(te,ee)||hasOwn(U,ee)||hasOwn(publicPropertiesMap,ee)||hasOwn(Y.config.globalProperties,ee)},defineProperty(w,B,j){return j.get!=null?w._.accessCache[B]=0:hasOwn(j,"value")&&this.set(w,B,j.value,null),Reflect.defineProperty(w,B,j)}};let shouldCacheAccess=!0;function applyOptions(w){const B=resolveMergedOptions(w),j=w.proxy,U=w.ctx;shouldCacheAccess=!1,B.beforeCreate&&callHook(B.beforeCreate,w,"bc");const{data:Y,computed:J,methods:ee,watch:te,provide:re,inject:ie,created:ce,beforeMount:fe,mounted:le,beforeUpdate:ye,updated:we,activated:Ce,deactivated:ae,beforeDestroy:ve,beforeUnmount:xe,destroyed:_e,unmounted:Pe,render:Me,renderTracked:je,renderTriggered:Ve,errorCaptured:He,serverPrefetch:Ze,expose:Ue,inheritAttrs:it,components:Fe,directives:ht,filters:ft}=B;if(ie&&resolveInjections(ie,U,null,w.appContext.config.unwrapInjectedRef),ee)for(const nt in ee){const yt=ee[nt];isFunction(yt)&&(U[nt]=yt.bind(j))}if(Y){const nt=Y.call(j,j);isObject(nt)&&(w.data=reactive(nt))}if(shouldCacheAccess=!0,J)for(const nt in J){const yt=J[nt],$t=isFunction(yt)?yt.bind(j,j):isFunction(yt.get)?yt.get.bind(j,j):NOOP,ln=!isFunction(yt)&&isFunction(yt.set)?yt.set.bind(j):NOOP,un=computed({get:$t,set:ln});Object.defineProperty(U,nt,{enumerable:!0,configurable:!0,get:()=>un.value,set:on=>un.value=on})}if(te)for(const nt in te)createWatcher(te[nt],U,j,nt);if(re){const nt=isFunction(re)?re.call(j):re;Reflect.ownKeys(nt).forEach(yt=>{provide(yt,nt[yt])})}ce&&callHook(ce,w,"c");function gt(nt,yt){isArray(yt)?yt.forEach($t=>nt($t.bind(j))):yt&&nt(yt.bind(j))}if(gt(onBeforeMount,fe),gt(onMounted,le),gt(onBeforeUpdate,ye),gt(onUpdated,we),gt(onActivated,Ce),gt(onDeactivated,ae),gt(onErrorCaptured,He),gt(onRenderTracked,je),gt(onRenderTriggered,Ve),gt(onBeforeUnmount,xe),gt(onUnmounted,Pe),gt(onServerPrefetch,Ze),isArray(Ue))if(Ue.length){const nt=w.exposed||(w.exposed={});Ue.forEach(yt=>{Object.defineProperty(nt,yt,{get:()=>j[yt],set:$t=>j[yt]=$t})})}else w.exposed||(w.exposed={});Me&&w.render===NOOP&&(w.render=Me),it!=null&&(w.inheritAttrs=it),Fe&&(w.components=Fe),ht&&(w.directives=ht)}function resolveInjections(w,B,j=NOOP,U=!1){isArray(w)&&(w=normalizeInject(w));for(const Y in w){const J=w[Y];let ee;isObject(J)?"default"in J?ee=inject(J.from||Y,J.default,!0):ee=inject(J.from||Y):ee=inject(J),isRef(ee)&&U?Object.defineProperty(B,Y,{enumerable:!0,configurable:!0,get:()=>ee.value,set:te=>ee.value=te}):B[Y]=ee}}function callHook(w,B,j){callWithAsyncErrorHandling(isArray(w)?w.map(U=>U.bind(B.proxy)):w.bind(B.proxy),B,j)}function createWatcher(w,B,j,U){const Y=U.includes(".")?createPathGetter(j,U):()=>j[U];if(isString(w)){const J=B[w];isFunction(J)&&watch$1(Y,J)}else if(isFunction(w))watch$1(Y,w.bind(j));else if(isObject(w))if(isArray(w))w.forEach(J=>createWatcher(J,B,j,U));else{const J=isFunction(w.handler)?w.handler.bind(j):B[w.handler];isFunction(J)&&watch$1(Y,J,w)}}function resolveMergedOptions(w){const B=w.type,{mixins:j,extends:U}=B,{mixins:Y,optionsCache:J,config:{optionMergeStrategies:ee}}=w.appContext,te=J.get(B);let re;return te?re=te:!Y.length&&!j&&!U?re=B:(re={},Y.length&&Y.forEach(ie=>mergeOptions(re,ie,ee,!0)),mergeOptions(re,B,ee)),isObject(B)&&J.set(B,re),re}function mergeOptions(w,B,j,U=!1){const{mixins:Y,extends:J}=B;J&&mergeOptions(w,J,j,!0),Y&&Y.forEach(ee=>mergeOptions(w,ee,j,!0));for(const ee in B)if(!(U&&ee==="expose")){const te=internalOptionMergeStrats[ee]||j&&j[ee];w[ee]=te?te(w[ee],B[ee]):B[ee]}return w}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(w,B){return B?w?function(){return extend(isFunction(w)?w.call(this,this):w,isFunction(B)?B.call(this,this):B)}:B:w}function mergeInject(w,B){return mergeObjectOptions(normalizeInject(w),normalizeInject(B))}function normalizeInject(w){if(isArray(w)){const B={};for(let j=0;j<w.length;j++)B[w[j]]=w[j];return B}return w}function mergeAsArray(w,B){return w?[...new Set([].concat(w,B))]:B}function mergeObjectOptions(w,B){return w?extend(extend(Object.create(null),w),B):B}function mergeWatchOptions(w,B){if(!w)return B;if(!B)return w;const j=extend(Object.create(null),w);for(const U in B)j[U]=mergeAsArray(w[U],B[U]);return j}function initProps(w,B,j,U=!1){const Y={},J={};def(J,InternalObjectKey,1),w.propsDefaults=Object.create(null),setFullProps(w,B,Y,J);for(const ee in w.propsOptions[0])ee in Y||(Y[ee]=void 0);j?w.props=U?Y:shallowReactive(Y):w.type.props?w.props=Y:w.props=J,w.attrs=J}function updateProps(w,B,j,U){const{props:Y,attrs:J,vnode:{patchFlag:ee}}=w,te=toRaw(Y),[re]=w.propsOptions;let ie=!1;if((U||ee>0)&&!(ee&16)){if(ee&8){const ce=w.vnode.dynamicProps;for(let fe=0;fe<ce.length;fe++){let le=ce[fe];if(isEmitListener(w.emitsOptions,le))continue;const ye=B[le];if(re)if(hasOwn(J,le))ye!==J[le]&&(J[le]=ye,ie=!0);else{const we=camelize(le);Y[we]=resolvePropValue(re,te,we,ye,w,!1)}else ye!==J[le]&&(J[le]=ye,ie=!0)}}}else{setFullProps(w,B,Y,J)&&(ie=!0);let ce;for(const fe in te)(!B||!hasOwn(B,fe)&&((ce=hyphenate(fe))===fe||!hasOwn(B,ce)))&&(re?j&&(j[fe]!==void 0||j[ce]!==void 0)&&(Y[fe]=resolvePropValue(re,te,fe,void 0,w,!0)):delete Y[fe]);if(J!==te)for(const fe in J)(!B||!hasOwn(B,fe)&&!0)&&(delete J[fe],ie=!0)}ie&&trigger(w,"set","$attrs")}function setFullProps(w,B,j,U){const[Y,J]=w.propsOptions;let ee=!1,te;if(B)for(let re in B){if(isReservedProp(re))continue;const ie=B[re];let ce;Y&&hasOwn(Y,ce=camelize(re))?!J||!J.includes(ce)?j[ce]=ie:(te||(te={}))[ce]=ie:isEmitListener(w.emitsOptions,re)||(!(re in U)||ie!==U[re])&&(U[re]=ie,ee=!0)}if(J){const re=toRaw(j),ie=te||EMPTY_OBJ;for(let ce=0;ce<J.length;ce++){const fe=J[ce];j[fe]=resolvePropValue(Y,re,fe,ie[fe],w,!hasOwn(ie,fe))}}return ee}function resolvePropValue(w,B,j,U,Y,J){const ee=w[j];if(ee!=null){const te=hasOwn(ee,"default");if(te&&U===void 0){const re=ee.default;if(ee.type!==Function&&isFunction(re)){const{propsDefaults:ie}=Y;j in ie?U=ie[j]:(setCurrentInstance(Y),U=ie[j]=re.call(null,B),unsetCurrentInstance())}else U=re}ee[0]&&(J&&!te?U=!1:ee[1]&&(U===""||U===hyphenate(j))&&(U=!0))}return U}function normalizePropsOptions(w,B,j=!1){const U=B.propsCache,Y=U.get(w);if(Y)return Y;const J=w.props,ee={},te=[];let re=!1;if(!isFunction(w)){const ce=fe=>{re=!0;const[le,ye]=normalizePropsOptions(fe,B,!0);extend(ee,le),ye&&te.push(...ye)};!j&&B.mixins.length&&B.mixins.forEach(ce),w.extends&&ce(w.extends),w.mixins&&w.mixins.forEach(ce)}if(!J&&!re)return isObject(w)&&U.set(w,EMPTY_ARR),EMPTY_ARR;if(isArray(J))for(let ce=0;ce<J.length;ce++){const fe=camelize(J[ce]);validatePropName(fe)&&(ee[fe]=EMPTY_OBJ)}else if(J)for(const ce in J){const fe=camelize(ce);if(validatePropName(fe)){const le=J[ce],ye=ee[fe]=isArray(le)||isFunction(le)?{type:le}:Object.assign({},le);if(ye){const we=getTypeIndex(Boolean,ye.type),Ce=getTypeIndex(String,ye.type);ye[0]=we>-1,ye[1]=Ce<0||we<Ce,(we>-1||hasOwn(ye,"default"))&&te.push(fe)}}}const ie=[ee,te];return isObject(w)&&U.set(w,ie),ie}function validatePropName(w){return w[0]!=="$"}function getType(w){const B=w&&w.toString().match(/^\s*function (\w+)/);return B?B[1]:w===null?"null":""}function isSameType(w,B){return getType(w)===getType(B)}function getTypeIndex(w,B){return isArray(B)?B.findIndex(j=>isSameType(j,w)):isFunction(B)&&isSameType(B,w)?0:-1}const isInternalKey=w=>w[0]==="_"||w==="$stable",normalizeSlotValue=w=>isArray(w)?w.map(normalizeVNode):[normalizeVNode(w)],normalizeSlot=(w,B,j)=>{if(B._n)return B;const U=withCtx((...Y)=>normalizeSlotValue(B(...Y)),j);return U._c=!1,U},normalizeObjectSlots=(w,B,j)=>{const U=w._ctx;for(const Y in w){if(isInternalKey(Y))continue;const J=w[Y];if(isFunction(J))B[Y]=normalizeSlot(Y,J,U);else if(J!=null){const ee=normalizeSlotValue(J);B[Y]=()=>ee}}},normalizeVNodeSlots=(w,B)=>{const j=normalizeSlotValue(B);w.slots.default=()=>j},initSlots=(w,B)=>{if(w.vnode.shapeFlag&32){const j=B._;j?(w.slots=toRaw(B),def(B,"_",j)):normalizeObjectSlots(B,w.slots={})}else w.slots={},B&&normalizeVNodeSlots(w,B);def(w.slots,InternalObjectKey,1)},updateSlots=(w,B,j)=>{const{vnode:U,slots:Y}=w;let J=!0,ee=EMPTY_OBJ;if(U.shapeFlag&32){const te=B._;te?j&&te===1?J=!1:(extend(Y,B),!j&&te===1&&delete Y._):(J=!B.$stable,normalizeObjectSlots(B,Y)),ee=B}else B&&(normalizeVNodeSlots(w,B),ee={default:1});if(J)for(const te in Y)!isInternalKey(te)&&!(te in ee)&&delete Y[te]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(w,B){return function(U,Y=null){isFunction(U)||(U=Object.assign({},U)),Y!=null&&!isObject(Y)&&(Y=null);const J=createAppContext(),ee=new Set;let te=!1;const re=J.app={_uid:uid++,_component:U,_props:Y,_container:null,_context:J,_instance:null,version,get config(){return J.config},set config(ie){},use(ie,...ce){return ee.has(ie)||(ie&&isFunction(ie.install)?(ee.add(ie),ie.install(re,...ce)):isFunction(ie)&&(ee.add(ie),ie(re,...ce))),re},mixin(ie){return J.mixins.includes(ie)||J.mixins.push(ie),re},component(ie,ce){return ce?(J.components[ie]=ce,re):J.components[ie]},directive(ie,ce){return ce?(J.directives[ie]=ce,re):J.directives[ie]},mount(ie,ce,fe){if(!te){const le=createVNode(U,Y);return le.appContext=J,ce&&B?B(le,ie):w(le,ie,fe),te=!0,re._container=ie,ie.__vue_app__=re,getExposeProxy(le.component)||le.component.proxy}},unmount(){te&&(w(null,re._container),delete re._container.__vue_app__)},provide(ie,ce){return J.provides[ie]=ce,re}};return re}}function setRef(w,B,j,U,Y=!1){if(isArray(w)){w.forEach((le,ye)=>setRef(le,B&&(isArray(B)?B[ye]:B),j,U,Y));return}if(isAsyncWrapper(U)&&!Y)return;const J=U.shapeFlag&4?getExposeProxy(U.component)||U.component.proxy:U.el,ee=Y?null:J,{i:te,r:re}=w,ie=B&&B.r,ce=te.refs===EMPTY_OBJ?te.refs={}:te.refs,fe=te.setupState;if(ie!=null&&ie!==re&&(isString(ie)?(ce[ie]=null,hasOwn(fe,ie)&&(fe[ie]=null)):isRef(ie)&&(ie.value=null)),isFunction(re))callWithErrorHandling(re,te,12,[ee,ce]);else{const le=isString(re),ye=isRef(re);if(le||ye){const we=()=>{if(w.f){const Ce=le?hasOwn(fe,re)?fe[re]:ce[re]:re.value;Y?isArray(Ce)&&remove(Ce,J):isArray(Ce)?Ce.includes(J)||Ce.push(J):le?(ce[re]=[J],hasOwn(fe,re)&&(fe[re]=ce[re])):(re.value=[J],w.k&&(ce[w.k]=re.value))}else le?(ce[re]=ee,hasOwn(fe,re)&&(fe[re]=ee)):ye&&(re.value=ee,w.k&&(ce[w.k]=ee))};ee?(we.id=-1,queuePostRenderEffect(we,j)):we()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(w){return baseCreateRenderer(w)}function baseCreateRenderer(w,B){const j=getGlobalThis();j.__VUE__=!0;const{insert:U,remove:Y,patchProp:J,createElement:ee,createText:te,createComment:re,setText:ie,setElementText:ce,parentNode:fe,nextSibling:le,setScopeId:ye=NOOP,insertStaticContent:we}=w,Ce=(ke,oe,me,Ae=null,Re=null,Be=null,Xe=!1,Ne=null,qe=!!oe.dynamicChildren)=>{if(ke===oe)return;ke&&!isSameVNodeType(ke,oe)&&(Ae=nn(ke),on(ke,Re,Be,!0),ke=null),oe.patchFlag===-2&&(qe=!1,oe.dynamicChildren=null);const{type:ze,ref:et,shapeFlag:Ye}=oe;switch(ze){case Text:ae(ke,oe,me,Ae);break;case Comment:ve(ke,oe,me,Ae);break;case Static:ke==null&&xe(oe,me,Ae,Xe);break;case Fragment:Fe(ke,oe,me,Ae,Re,Be,Xe,Ne,qe);break;default:Ye&1?Me(ke,oe,me,Ae,Re,Be,Xe,Ne,qe):Ye&6?ht(ke,oe,me,Ae,Re,Be,Xe,Ne,qe):(Ye&64||Ye&128)&&ze.process(ke,oe,me,Ae,Re,Be,Xe,Ne,qe,Cn)}et!=null&&Re&&setRef(et,ke&&ke.ref,Be,oe||ke,!oe)},ae=(ke,oe,me,Ae)=>{if(ke==null)U(oe.el=te(oe.children),me,Ae);else{const Re=oe.el=ke.el;oe.children!==ke.children&&ie(Re,oe.children)}},ve=(ke,oe,me,Ae)=>{ke==null?U(oe.el=re(oe.children||""),me,Ae):oe.el=ke.el},xe=(ke,oe,me,Ae)=>{[ke.el,ke.anchor]=we(ke.children,oe,me,Ae,ke.el,ke.anchor)},_e=({el:ke,anchor:oe},me,Ae)=>{let Re;for(;ke&&ke!==oe;)Re=le(ke),U(ke,me,Ae),ke=Re;U(oe,me,Ae)},Pe=({el:ke,anchor:oe})=>{let me;for(;ke&&ke!==oe;)me=le(ke),Y(ke),ke=me;Y(oe)},Me=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe)=>{Xe=Xe||oe.type==="svg",ke==null?je(oe,me,Ae,Re,Be,Xe,Ne,qe):Ze(ke,oe,Re,Be,Xe,Ne,qe)},je=(ke,oe,me,Ae,Re,Be,Xe,Ne)=>{let qe,ze;const{type:et,props:Ye,shapeFlag:Ke,transition:rt,dirs:vt}=ke;if(qe=ke.el=ee(ke.type,Be,Ye&&Ye.is,Ye),Ke&8?ce(qe,ke.children):Ke&16&&He(ke.children,qe,null,Ae,Re,Be&&et!=="foreignObject",Xe,Ne),vt&&invokeDirectiveHook(ke,null,Ae,"created"),Ye){for(const Bt in Ye)Bt!=="value"&&!isReservedProp(Bt)&&J(qe,Bt,null,Ye[Bt],Be,ke.children,Ae,Re,fn);"value"in Ye&&J(qe,"value",null,Ye.value),(ze=Ye.onVnodeBeforeMount)&&invokeVNodeHook(ze,Ae,ke)}Ve(qe,ke,ke.scopeId,Xe,Ae),vt&&invokeDirectiveHook(ke,null,Ae,"beforeMount");const kt=(!Re||Re&&!Re.pendingBranch)&&rt&&!rt.persisted;kt&&rt.beforeEnter(qe),U(qe,oe,me),((ze=Ye&&Ye.onVnodeMounted)||kt||vt)&&queuePostRenderEffect(()=>{ze&&invokeVNodeHook(ze,Ae,ke),kt&&rt.enter(qe),vt&&invokeDirectiveHook(ke,null,Ae,"mounted")},Re)},Ve=(ke,oe,me,Ae,Re)=>{if(me&&ye(ke,me),Ae)for(let Be=0;Be<Ae.length;Be++)ye(ke,Ae[Be]);if(Re){let Be=Re.subTree;if(oe===Be){const Xe=Re.vnode;Ve(ke,Xe,Xe.scopeId,Xe.slotScopeIds,Re.parent)}}},He=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe=0)=>{for(let ze=qe;ze<ke.length;ze++){const et=ke[ze]=Ne?cloneIfMounted(ke[ze]):normalizeVNode(ke[ze]);Ce(null,et,oe,me,Ae,Re,Be,Xe,Ne)}},Ze=(ke,oe,me,Ae,Re,Be,Xe)=>{const Ne=oe.el=ke.el;let{patchFlag:qe,dynamicChildren:ze,dirs:et}=oe;qe|=ke.patchFlag&16;const Ye=ke.props||EMPTY_OBJ,Ke=oe.props||EMPTY_OBJ;let rt;me&&toggleRecurse(me,!1),(rt=Ke.onVnodeBeforeUpdate)&&invokeVNodeHook(rt,me,oe,ke),et&&invokeDirectiveHook(oe,ke,me,"beforeUpdate"),me&&toggleRecurse(me,!0);const vt=Re&&oe.type!=="foreignObject";if(ze?Ue(ke.dynamicChildren,ze,Ne,me,Ae,vt,Be):Xe||yt(ke,oe,Ne,null,me,Ae,vt,Be,!1),qe>0){if(qe&16)it(Ne,oe,Ye,Ke,me,Ae,Re);else if(qe&2&&Ye.class!==Ke.class&&J(Ne,"class",null,Ke.class,Re),qe&4&&J(Ne,"style",Ye.style,Ke.style,Re),qe&8){const kt=oe.dynamicProps;for(let Bt=0;Bt<kt.length;Bt++){const It=kt[Bt],jt=Ye[It],qt=Ke[It];(qt!==jt||It==="value")&&J(Ne,It,jt,qt,Re,ke.children,me,Ae,fn)}}qe&1&&ke.children!==oe.children&&ce(Ne,oe.children)}else!Xe&&ze==null&&it(Ne,oe,Ye,Ke,me,Ae,Re);((rt=Ke.onVnodeUpdated)||et)&&queuePostRenderEffect(()=>{rt&&invokeVNodeHook(rt,me,oe,ke),et&&invokeDirectiveHook(oe,ke,me,"updated")},Ae)},Ue=(ke,oe,me,Ae,Re,Be,Xe)=>{for(let Ne=0;Ne<oe.length;Ne++){const qe=ke[Ne],ze=oe[Ne],et=qe.el&&(qe.type===Fragment||!isSameVNodeType(qe,ze)||qe.shapeFlag&70)?fe(qe.el):me;Ce(qe,ze,et,null,Ae,Re,Be,Xe,!0)}},it=(ke,oe,me,Ae,Re,Be,Xe)=>{if(me!==Ae){if(me!==EMPTY_OBJ)for(const Ne in me)!isReservedProp(Ne)&&!(Ne in Ae)&&J(ke,Ne,me[Ne],null,Xe,oe.children,Re,Be,fn);for(const Ne in Ae){if(isReservedProp(Ne))continue;const qe=Ae[Ne],ze=me[Ne];qe!==ze&&Ne!=="value"&&J(ke,Ne,ze,qe,Xe,oe.children,Re,Be,fn)}"value"in Ae&&J(ke,"value",me.value,Ae.value)}},Fe=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe)=>{const ze=oe.el=ke?ke.el:te(""),et=oe.anchor=ke?ke.anchor:te("");let{patchFlag:Ye,dynamicChildren:Ke,slotScopeIds:rt}=oe;rt&&(Ne=Ne?Ne.concat(rt):rt),ke==null?(U(ze,me,Ae),U(et,me,Ae),He(oe.children,me,et,Re,Be,Xe,Ne,qe)):Ye>0&&Ye&64&&Ke&&ke.dynamicChildren?(Ue(ke.dynamicChildren,Ke,me,Re,Be,Xe,Ne),(oe.key!=null||Re&&oe===Re.subTree)&&traverseStaticChildren(ke,oe,!0)):yt(ke,oe,me,et,Re,Be,Xe,Ne,qe)},ht=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe)=>{oe.slotScopeIds=Ne,ke==null?oe.shapeFlag&512?Re.ctx.activate(oe,me,Ae,Xe,qe):ft(oe,me,Ae,Re,Be,Xe,qe):St(ke,oe,qe)},ft=(ke,oe,me,Ae,Re,Be,Xe)=>{const Ne=ke.component=createComponentInstance(ke,Ae,Re);if(isKeepAlive(ke)&&(Ne.ctx.renderer=Cn),setupComponent(Ne),Ne.asyncDep){if(Re&&Re.registerDep(Ne,gt),!ke.el){const qe=Ne.subTree=createVNode(Comment);ve(null,qe,oe,me)}return}gt(Ne,ke,oe,me,Re,Be,Xe)},St=(ke,oe,me)=>{const Ae=oe.component=ke.component;if(shouldUpdateComponent(ke,oe,me))if(Ae.asyncDep&&!Ae.asyncResolved){nt(Ae,oe,me);return}else Ae.next=oe,invalidateJob(Ae.update),Ae.update();else oe.el=ke.el,Ae.vnode=oe},gt=(ke,oe,me,Ae,Re,Be,Xe)=>{const Ne=()=>{if(ke.isMounted){let{next:et,bu:Ye,u:Ke,parent:rt,vnode:vt}=ke,kt=et,Bt;toggleRecurse(ke,!1),et?(et.el=vt.el,nt(ke,et,Xe)):et=vt,Ye&&invokeArrayFns(Ye),(Bt=et.props&&et.props.onVnodeBeforeUpdate)&&invokeVNodeHook(Bt,rt,et,vt),toggleRecurse(ke,!0);const It=renderComponentRoot(ke),jt=ke.subTree;ke.subTree=It,Ce(jt,It,fe(jt.el),nn(jt),ke,Re,Be),et.el=It.el,kt===null&&updateHOCHostEl(ke,It.el),Ke&&queuePostRenderEffect(Ke,Re),(Bt=et.props&&et.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(Bt,rt,et,vt),Re)}else{let et;const{el:Ye,props:Ke}=oe,{bm:rt,m:vt,parent:kt}=ke,Bt=isAsyncWrapper(oe);if(toggleRecurse(ke,!1),rt&&invokeArrayFns(rt),!Bt&&(et=Ke&&Ke.onVnodeBeforeMount)&&invokeVNodeHook(et,kt,oe),toggleRecurse(ke,!0),Ye&&Nn){const It=()=>{ke.subTree=renderComponentRoot(ke),Nn(Ye,ke.subTree,ke,Re,null)};Bt?oe.type.__asyncLoader().then(()=>!ke.isUnmounted&&It()):It()}else{const It=ke.subTree=renderComponentRoot(ke);Ce(null,It,me,Ae,ke,Re,Be),oe.el=It.el}if(vt&&queuePostRenderEffect(vt,Re),!Bt&&(et=Ke&&Ke.onVnodeMounted)){const It=oe;queuePostRenderEffect(()=>invokeVNodeHook(et,kt,It),Re)}(oe.shapeFlag&256||kt&&isAsyncWrapper(kt.vnode)&&kt.vnode.shapeFlag&256)&&ke.a&&queuePostRenderEffect(ke.a,Re),ke.isMounted=!0,oe=me=Ae=null}},qe=ke.effect=new ReactiveEffect(Ne,()=>queueJob(ze),ke.scope),ze=ke.update=()=>qe.run();ze.id=ke.uid,toggleRecurse(ke,!0),ze()},nt=(ke,oe,me)=>{oe.component=ke;const Ae=ke.vnode.props;ke.vnode=oe,ke.next=null,updateProps(ke,oe.props,Ae,me),updateSlots(ke,oe.children,me),pauseTracking(),flushPreFlushCbs(),resetTracking()},yt=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe=!1)=>{const ze=ke&&ke.children,et=ke?ke.shapeFlag:0,Ye=oe.children,{patchFlag:Ke,shapeFlag:rt}=oe;if(Ke>0){if(Ke&128){ln(ze,Ye,me,Ae,Re,Be,Xe,Ne,qe);return}else if(Ke&256){$t(ze,Ye,me,Ae,Re,Be,Xe,Ne,qe);return}}rt&8?(et&16&&fn(ze,Re,Be),Ye!==ze&&ce(me,Ye)):et&16?rt&16?ln(ze,Ye,me,Ae,Re,Be,Xe,Ne,qe):fn(ze,Re,Be,!0):(et&8&&ce(me,""),rt&16&&He(Ye,me,Ae,Re,Be,Xe,Ne,qe))},$t=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe)=>{ke=ke||EMPTY_ARR,oe=oe||EMPTY_ARR;const ze=ke.length,et=oe.length,Ye=Math.min(ze,et);let Ke;for(Ke=0;Ke<Ye;Ke++){const rt=oe[Ke]=qe?cloneIfMounted(oe[Ke]):normalizeVNode(oe[Ke]);Ce(ke[Ke],rt,me,null,Re,Be,Xe,Ne,qe)}ze>et?fn(ke,Re,Be,!0,!1,Ye):He(oe,me,Ae,Re,Be,Xe,Ne,qe,Ye)},ln=(ke,oe,me,Ae,Re,Be,Xe,Ne,qe)=>{let ze=0;const et=oe.length;let Ye=ke.length-1,Ke=et-1;for(;ze<=Ye&&ze<=Ke;){const rt=ke[ze],vt=oe[ze]=qe?cloneIfMounted(oe[ze]):normalizeVNode(oe[ze]);if(isSameVNodeType(rt,vt))Ce(rt,vt,me,null,Re,Be,Xe,Ne,qe);else break;ze++}for(;ze<=Ye&&ze<=Ke;){const rt=ke[Ye],vt=oe[Ke]=qe?cloneIfMounted(oe[Ke]):normalizeVNode(oe[Ke]);if(isSameVNodeType(rt,vt))Ce(rt,vt,me,null,Re,Be,Xe,Ne,qe);else break;Ye--,Ke--}if(ze>Ye){if(ze<=Ke){const rt=Ke+1,vt=rt<et?oe[rt].el:Ae;for(;ze<=Ke;)Ce(null,oe[ze]=qe?cloneIfMounted(oe[ze]):normalizeVNode(oe[ze]),me,vt,Re,Be,Xe,Ne,qe),ze++}}else if(ze>Ke)for(;ze<=Ye;)on(ke[ze],Re,Be,!0),ze++;else{const rt=ze,vt=ze,kt=new Map;for(ze=vt;ze<=Ke;ze++){const ge=oe[ze]=qe?cloneIfMounted(oe[ze]):normalizeVNode(oe[ze]);ge.key!=null&&kt.set(ge.key,ze)}let Bt,It=0;const jt=Ke-vt+1;let qt=!1,Ln=0;const sn=new Array(jt);for(ze=0;ze<jt;ze++)sn[ze]=0;for(ze=rt;ze<=Ye;ze++){const ge=ke[ze];if(It>=jt){on(ge,Re,Be,!0);continue}let pe;if(ge.key!=null)pe=kt.get(ge.key);else for(Bt=vt;Bt<=Ke;Bt++)if(sn[Bt-vt]===0&&isSameVNodeType(ge,oe[Bt])){pe=Bt;break}pe===void 0?on(ge,Re,Be,!0):(sn[pe-vt]=ze+1,pe>=Ln?Ln=pe:qt=!0,Ce(ge,oe[pe],me,null,Re,Be,Xe,Ne,qe),It++)}const Wn=qt?getSequence(sn):EMPTY_ARR;for(Bt=Wn.length-1,ze=jt-1;ze>=0;ze--){const ge=vt+ze,pe=oe[ge],Se=ge+1<et?oe[ge+1].el:Ae;sn[ze]===0?Ce(null,pe,me,Se,Re,Be,Xe,Ne,qe):qt&&(Bt<0||ze!==Wn[Bt]?un(pe,me,Se,2):Bt--)}}},un=(ke,oe,me,Ae,Re=null)=>{const{el:Be,type:Xe,transition:Ne,children:qe,shapeFlag:ze}=ke;if(ze&6){un(ke.component.subTree,oe,me,Ae);return}if(ze&128){ke.suspense.move(oe,me,Ae);return}if(ze&64){Xe.move(ke,oe,me,Cn);return}if(Xe===Fragment){U(Be,oe,me);for(let Ye=0;Ye<qe.length;Ye++)un(qe[Ye],oe,me,Ae);U(ke.anchor,oe,me);return}if(Xe===Static){_e(ke,oe,me);return}if(Ae!==2&&ze&1&&Ne)if(Ae===0)Ne.beforeEnter(Be),U(Be,oe,me),queuePostRenderEffect(()=>Ne.enter(Be),Re);else{const{leave:Ye,delayLeave:Ke,afterLeave:rt}=Ne,vt=()=>U(Be,oe,me),kt=()=>{Ye(Be,()=>{vt(),rt&&rt()})};Ke?Ke(Be,vt,kt):kt()}else U(Be,oe,me)},on=(ke,oe,me,Ae=!1,Re=!1)=>{const{type:Be,props:Xe,ref:Ne,children:qe,dynamicChildren:ze,shapeFlag:et,patchFlag:Ye,dirs:Ke}=ke;if(Ne!=null&&setRef(Ne,null,me,ke,!0),et&256){oe.ctx.deactivate(ke);return}const rt=et&1&&Ke,vt=!isAsyncWrapper(ke);let kt;if(vt&&(kt=Xe&&Xe.onVnodeBeforeUnmount)&&invokeVNodeHook(kt,oe,ke),et&6)Un(ke.component,me,Ae);else{if(et&128){ke.suspense.unmount(me,Ae);return}rt&&invokeDirectiveHook(ke,null,oe,"beforeUnmount"),et&64?ke.type.remove(ke,oe,me,Re,Cn,Ae):ze&&(Be!==Fragment||Ye>0&&Ye&64)?fn(ze,oe,me,!1,!0):(Be===Fragment&&Ye&384||!Re&&et&16)&&fn(qe,oe,me),Ae&&tn(ke)}(vt&&(kt=Xe&&Xe.onVnodeUnmounted)||rt)&&queuePostRenderEffect(()=>{kt&&invokeVNodeHook(kt,oe,ke),rt&&invokeDirectiveHook(ke,null,oe,"unmounted")},me)},tn=ke=>{const{type:oe,el:me,anchor:Ae,transition:Re}=ke;if(oe===Fragment){Yn(me,Ae);return}if(oe===Static){Pe(ke);return}const Be=()=>{Y(me),Re&&!Re.persisted&&Re.afterLeave&&Re.afterLeave()};if(ke.shapeFlag&1&&Re&&!Re.persisted){const{leave:Xe,delayLeave:Ne}=Re,qe=()=>Xe(me,Be);Ne?Ne(ke.el,Be,qe):qe()}else Be()},Yn=(ke,oe)=>{let me;for(;ke!==oe;)me=le(ke),Y(ke),ke=me;Y(oe)},Un=(ke,oe,me)=>{const{bum:Ae,scope:Re,update:Be,subTree:Xe,um:Ne}=ke;Ae&&invokeArrayFns(Ae),Re.stop(),Be&&(Be.active=!1,on(Xe,ke,oe,me)),Ne&&queuePostRenderEffect(Ne,oe),queuePostRenderEffect(()=>{ke.isUnmounted=!0},oe),oe&&oe.pendingBranch&&!oe.isUnmounted&&ke.asyncDep&&!ke.asyncResolved&&ke.suspenseId===oe.pendingId&&(oe.deps--,oe.deps===0&&oe.resolve())},fn=(ke,oe,me,Ae=!1,Re=!1,Be=0)=>{for(let Xe=Be;Xe<ke.length;Xe++)on(ke[Xe],oe,me,Ae,Re)},nn=ke=>ke.shapeFlag&6?nn(ke.component.subTree):ke.shapeFlag&128?ke.suspense.next():le(ke.anchor||ke.el),wn=(ke,oe,me)=>{ke==null?oe._vnode&&on(oe._vnode,null,null,!0):Ce(oe._vnode||null,ke,oe,null,null,null,me),flushPreFlushCbs(),flushPostFlushCbs(),oe._vnode=ke},Cn={p:Ce,um:on,m:un,r:tn,mt:ft,mc:He,pc:yt,pbc:Ue,n:nn,o:w};let Pn,Nn;return B&&([Pn,Nn]=B(Cn)),{render:wn,hydrate:Pn,createApp:createAppAPI(wn,Pn)}}function toggleRecurse({effect:w,update:B},j){w.allowRecurse=B.allowRecurse=j}function traverseStaticChildren(w,B,j=!1){const U=w.children,Y=B.children;if(isArray(U)&&isArray(Y))for(let J=0;J<U.length;J++){const ee=U[J];let te=Y[J];te.shapeFlag&1&&!te.dynamicChildren&&((te.patchFlag<=0||te.patchFlag===32)&&(te=Y[J]=cloneIfMounted(Y[J]),te.el=ee.el),j||traverseStaticChildren(ee,te)),te.type===Text&&(te.el=ee.el)}}function getSequence(w){const B=w.slice(),j=[0];let U,Y,J,ee,te;const re=w.length;for(U=0;U<re;U++){const ie=w[U];if(ie!==0){if(Y=j[j.length-1],w[Y]<ie){B[U]=Y,j.push(U);continue}for(J=0,ee=j.length-1;J<ee;)te=J+ee>>1,w[j[te]]<ie?J=te+1:ee=te;ie<w[j[J]]&&(J>0&&(B[U]=j[J-1]),j[J]=U)}}for(J=j.length,ee=j[J-1];J-- >0;)j[J]=ee,ee=B[ee];return j}const isTeleport=w=>w.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(w=!1){blockStack.push(currentBlock=w?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(w){isBlockTreeEnabled+=w}function setupBlock(w){return w.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(w),w}function createElementBlock(w,B,j,U,Y,J){return setupBlock(createBaseVNode(w,B,j,U,Y,J,!0))}function createBlock(w,B,j,U,Y){return setupBlock(createVNode(w,B,j,U,Y,!0))}function isVNode(w){return w?w.__v_isVNode===!0:!1}function isSameVNodeType(w,B){return w.type===B.type&&w.key===B.key}const InternalObjectKey="__vInternal",normalizeKey=({key:w})=>w!=null?w:null,normalizeRef=({ref:w,ref_key:B,ref_for:j})=>w!=null?isString(w)||isRef(w)||isFunction(w)?{i:currentRenderingInstance,r:w,k:B,f:!!j}:w:null;function createBaseVNode(w,B=null,j=null,U=0,Y=null,J=w===Fragment?0:1,ee=!1,te=!1){const re={__v_isVNode:!0,__v_skip:!0,type:w,props:B,key:B&&normalizeKey(B),ref:B&&normalizeRef(B),scopeId:currentScopeId,slotScopeIds:null,children:j,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:J,patchFlag:U,dynamicProps:Y,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return te?(normalizeChildren(re,j),J&128&&w.normalize(re)):j&&(re.shapeFlag|=isString(j)?8:16),isBlockTreeEnabled>0&&!ee&&currentBlock&&(re.patchFlag>0||J&6)&&re.patchFlag!==32&&currentBlock.push(re),re}const createVNode=_createVNode;function _createVNode(w,B=null,j=null,U=0,Y=null,J=!1){if((!w||w===NULL_DYNAMIC_COMPONENT)&&(w=Comment),isVNode(w)){const te=cloneVNode(w,B,!0);return j&&normalizeChildren(te,j),isBlockTreeEnabled>0&&!J&&currentBlock&&(te.shapeFlag&6?currentBlock[currentBlock.indexOf(w)]=te:currentBlock.push(te)),te.patchFlag|=-2,te}if(isClassComponent(w)&&(w=w.__vccOpts),B){B=guardReactiveProps(B);let{class:te,style:re}=B;te&&!isString(te)&&(B.class=normalizeClass(te)),isObject(re)&&(isProxy(re)&&!isArray(re)&&(re=extend({},re)),B.style=normalizeStyle(re))}const ee=isString(w)?1:isSuspense(w)?128:isTeleport(w)?64:isObject(w)?4:isFunction(w)?2:0;return createBaseVNode(w,B,j,U,Y,ee,J,!0)}function guardReactiveProps(w){return w?isProxy(w)||InternalObjectKey in w?extend({},w):w:null}function cloneVNode(w,B,j=!1){const{props:U,ref:Y,patchFlag:J,children:ee}=w,te=B?mergeProps(U||{},B):U;return{__v_isVNode:!0,__v_skip:!0,type:w.type,props:te,key:te&&normalizeKey(te),ref:B&&B.ref?j&&Y?isArray(Y)?Y.concat(normalizeRef(B)):[Y,normalizeRef(B)]:normalizeRef(B):Y,scopeId:w.scopeId,slotScopeIds:w.slotScopeIds,children:ee,target:w.target,targetAnchor:w.targetAnchor,staticCount:w.staticCount,shapeFlag:w.shapeFlag,patchFlag:B&&w.type!==Fragment?J===-1?16:J|16:J,dynamicProps:w.dynamicProps,dynamicChildren:w.dynamicChildren,appContext:w.appContext,dirs:w.dirs,transition:w.transition,component:w.component,suspense:w.suspense,ssContent:w.ssContent&&cloneVNode(w.ssContent),ssFallback:w.ssFallback&&cloneVNode(w.ssFallback),el:w.el,anchor:w.anchor,ctx:w.ctx}}function createTextVNode(w=" ",B=0){return createVNode(Text,null,w,B)}function createCommentVNode(w="",B=!1){return B?(openBlock(),createBlock(Comment,null,w)):createVNode(Comment,null,w)}function normalizeVNode(w){return w==null||typeof w=="boolean"?createVNode(Comment):isArray(w)?createVNode(Fragment,null,w.slice()):typeof w=="object"?cloneIfMounted(w):createVNode(Text,null,String(w))}function cloneIfMounted(w){return w.el===null&&w.patchFlag!==-1||w.memo?w:cloneVNode(w)}function normalizeChildren(w,B){let j=0;const{shapeFlag:U}=w;if(B==null)B=null;else if(isArray(B))j=16;else if(typeof B=="object")if(U&65){const Y=B.default;Y&&(Y._c&&(Y._d=!1),normalizeChildren(w,Y()),Y._c&&(Y._d=!0));return}else{j=32;const Y=B._;!Y&&!(InternalObjectKey in B)?B._ctx=currentRenderingInstance:Y===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?B._=1:(B._=2,w.patchFlag|=1024))}else isFunction(B)?(B={default:B,_ctx:currentRenderingInstance},j=32):(B=String(B),U&64?(j=16,B=[createTextVNode(B)]):j=8);w.children=B,w.shapeFlag|=j}function mergeProps(...w){const B={};for(let j=0;j<w.length;j++){const U=w[j];for(const Y in U)if(Y==="class")B.class!==U.class&&(B.class=normalizeClass([B.class,U.class]));else if(Y==="style")B.style=normalizeStyle([B.style,U.style]);else if(isOn(Y)){const J=B[Y],ee=U[Y];ee&&J!==ee&&!(isArray(J)&&J.includes(ee))&&(B[Y]=J?[].concat(J,ee):ee)}else Y!==""&&(B[Y]=U[Y])}return B}function invokeVNodeHook(w,B,j,U=null){callWithAsyncErrorHandling(w,B,7,[j,U])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(w,B,j){const U=w.type,Y=(B?B.appContext:w.appContext)||emptyAppContext,J={uid:uid$1++,vnode:w,type:U,parent:B,appContext:Y,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:B?B.provides:Object.create(Y.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(U,Y),emitsOptions:normalizeEmitsOptions(U,Y),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:U.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:j,suspenseId:j?j.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return J.ctx={_:J},J.root=B?B.root:J,J.emit=emit$1.bind(null,J),w.ce&&w.ce(J),J}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=w=>{currentInstance=w,w.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(w){return w.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(w,B=!1){isInSSRComponentSetup=B;const{props:j,children:U}=w.vnode,Y=isStatefulComponent(w);initProps(w,j,Y,B),initSlots(w,U);const J=Y?setupStatefulComponent(w,B):void 0;return isInSSRComponentSetup=!1,J}function setupStatefulComponent(w,B){const j=w.type;w.accessCache=Object.create(null),w.proxy=markRaw(new Proxy(w.ctx,PublicInstanceProxyHandlers));const{setup:U}=j;if(U){const Y=w.setupContext=U.length>1?createSetupContext(w):null;setCurrentInstance(w),pauseTracking();const J=callWithErrorHandling(U,w,0,[w.props,Y]);if(resetTracking(),unsetCurrentInstance(),isPromise(J)){if(J.then(unsetCurrentInstance,unsetCurrentInstance),B)return J.then(ee=>{handleSetupResult(w,ee,B)}).catch(ee=>{handleError(ee,w,0)});w.asyncDep=J}else handleSetupResult(w,J,B)}else finishComponentSetup(w,B)}function handleSetupResult(w,B,j){isFunction(B)?w.type.__ssrInlineRender?w.ssrRender=B:w.render=B:isObject(B)&&(w.setupState=proxyRefs(B)),finishComponentSetup(w,j)}let compile;function finishComponentSetup(w,B,j){const U=w.type;if(!w.render){if(!B&&compile&&!U.render){const Y=U.template||resolveMergedOptions(w).template;if(Y){const{isCustomElement:J,compilerOptions:ee}=w.appContext.config,{delimiters:te,compilerOptions:re}=U,ie=extend(extend({isCustomElement:J,delimiters:te},ee),re);U.render=compile(Y,ie)}}w.render=U.render||NOOP}setCurrentInstance(w),pauseTracking(),applyOptions(w),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(w){return new Proxy(w.attrs,{get(B,j){return track(w,"get","$attrs"),B[j]}})}function createSetupContext(w){const B=U=>{w.exposed=U||{}};let j;return{get attrs(){return j||(j=createAttrsProxy(w))},slots:w.slots,emit:w.emit,expose:B}}function getExposeProxy(w){if(w.exposed)return w.exposeProxy||(w.exposeProxy=new Proxy(proxyRefs(markRaw(w.exposed)),{get(B,j){if(j in B)return B[j];if(j in publicPropertiesMap)return publicPropertiesMap[j](w)},has(B,j){return j in B||j in publicPropertiesMap}}))}function getComponentName(w,B=!0){return isFunction(w)?w.displayName||w.name:w.name||B&&w.__name}function isClassComponent(w){return isFunction(w)&&"__vccOpts"in w}const computed=(w,B)=>computed$1(w,B,isInSSRComponentSetup),ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(w,B,j)=>{B.insertBefore(w,j||null)},remove:w=>{const B=w.parentNode;B&&B.removeChild(w)},createElement:(w,B,j,U)=>{const Y=B?doc.createElementNS(svgNS,w):doc.createElement(w,j?{is:j}:void 0);return w==="select"&&U&&U.multiple!=null&&Y.setAttribute("multiple",U.multiple),Y},createText:w=>doc.createTextNode(w),createComment:w=>doc.createComment(w),setText:(w,B)=>{w.nodeValue=B},setElementText:(w,B)=>{w.textContent=B},parentNode:w=>w.parentNode,nextSibling:w=>w.nextSibling,querySelector:w=>doc.querySelector(w),setScopeId(w,B){w.setAttribute(B,"")},insertStaticContent(w,B,j,U,Y,J){const ee=j?j.previousSibling:B.lastChild;if(Y&&(Y===J||Y.nextSibling))for(;B.insertBefore(Y.cloneNode(!0),j),!(Y===J||!(Y=Y.nextSibling)););else{templateContainer.innerHTML=U?`<svg>${w}</svg>`:w;const te=templateContainer.content;if(U){const re=te.firstChild;for(;re.firstChild;)te.appendChild(re.firstChild);te.removeChild(re)}B.insertBefore(te,j)}return[ee?ee.nextSibling:B.firstChild,j?j.previousSibling:B.lastChild]}};function patchClass(w,B,j){const U=w._vtc;U&&(B=(B?[B,...U]:[...U]).join(" ")),B==null?w.removeAttribute("class"):j?w.setAttribute("class",B):w.className=B}function patchStyle(w,B,j){const U=w.style,Y=isString(j);if(j&&!Y){for(const J in j)setStyle(U,J,j[J]);if(B&&!isString(B))for(const J in B)j[J]==null&&setStyle(U,J,"")}else{const J=U.display;Y?B!==j&&(U.cssText=j):B&&w.removeAttribute("style"),"_vod"in w&&(U.display=J)}}const importantRE=/\s*!important$/;function setStyle(w,B,j){if(isArray(j))j.forEach(U=>setStyle(w,B,U));else if(j==null&&(j=""),B.startsWith("--"))w.setProperty(B,j);else{const U=autoPrefix(w,B);importantRE.test(j)?w.setProperty(hyphenate(U),j.replace(importantRE,""),"important"):w[U]=j}}const prefixes=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(w,B){const j=prefixCache[B];if(j)return j;let U=camelize(B);if(U!=="filter"&&U in w)return prefixCache[B]=U;U=capitalize(U);for(let Y=0;Y<prefixes.length;Y++){const J=prefixes[Y]+U;if(J in w)return prefixCache[B]=J}return B}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(w,B,j,U,Y){if(U&&B.startsWith("xlink:"))j==null?w.removeAttributeNS(xlinkNS,B.slice(6,B.length)):w.setAttributeNS(xlinkNS,B,j);else{const J=isSpecialBooleanAttr(B);j==null||J&&!includeBooleanAttr(j)?w.removeAttribute(B):w.setAttribute(B,J?"":j)}}function patchDOMProp(w,B,j,U,Y,J,ee){if(B==="innerHTML"||B==="textContent"){U&&ee(U,Y,J),w[B]=j==null?"":j;return}if(B==="value"&&w.tagName!=="PROGRESS"&&!w.tagName.includes("-")){w._value=j;const re=j==null?"":j;(w.value!==re||w.tagName==="OPTION")&&(w.value=re),j==null&&w.removeAttribute(B);return}let te=!1;if(j===""||j==null){const re=typeof w[B];re==="boolean"?j=includeBooleanAttr(j):j==null&&re==="string"?(j="",te=!0):re==="number"&&(j=0,te=!0)}try{w[B]=j}catch{}te&&w.removeAttribute(B)}function addEventListener(w,B,j,U){w.addEventListener(B,j,U)}function removeEventListener(w,B,j,U){w.removeEventListener(B,j,U)}function patchEvent(w,B,j,U,Y=null){const J=w._vei||(w._vei={}),ee=J[B];if(U&&ee)ee.value=U;else{const[te,re]=parseName(B);if(U){const ie=J[B]=createInvoker(U,Y);addEventListener(w,te,ie,re)}else ee&&(removeEventListener(w,te,ee,re),J[B]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(w){let B;if(optionsModifierRE.test(w)){B={};let U;for(;U=w.match(optionsModifierRE);)w=w.slice(0,w.length-U[0].length),B[U[0].toLowerCase()]=!0}return[w[2]===":"?w.slice(3):hyphenate(w.slice(2)),B]}let cachedNow=0;const p$2=Promise.resolve(),getNow=()=>cachedNow||(p$2.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(w,B){const j=U=>{if(!U._vts)U._vts=Date.now();else if(U._vts<=j.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(U,j.value),B,5,[U])};return j.value=w,j.attached=getNow(),j}function patchStopImmediatePropagation(w,B){if(isArray(B)){const j=w.stopImmediatePropagation;return w.stopImmediatePropagation=()=>{j.call(w),w._stopped=!0},B.map(U=>Y=>!Y._stopped&&U&&U(Y))}else return B}const nativeOnRE=/^on[a-z]/,patchProp=(w,B,j,U,Y=!1,J,ee,te,re)=>{B==="class"?patchClass(w,U,Y):B==="style"?patchStyle(w,j,U):isOn(B)?isModelListener(B)||patchEvent(w,B,j,U,ee):(B[0]==="."?(B=B.slice(1),!0):B[0]==="^"?(B=B.slice(1),!1):shouldSetAsProp(w,B,U,Y))?patchDOMProp(w,B,U,J,ee,te,re):(B==="true-value"?w._trueValue=U:B==="false-value"&&(w._falseValue=U),patchAttr(w,B,U,Y))};function shouldSetAsProp(w,B,j,U){return U?!!(B==="innerHTML"||B==="textContent"||B in w&&nativeOnRE.test(B)&&isFunction(j)):B==="spellcheck"||B==="draggable"||B==="translate"||B==="form"||B==="list"&&w.tagName==="INPUT"||B==="type"&&w.tagName==="TEXTAREA"||nativeOnRE.test(B)&&isString(j)?!1:B in w}function defineCustomElement(w,B){const j=defineComponent(w);class U extends VueElement{constructor(J){super(j,J,B)}}return U.def=j,U}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(B,j={},U){super(),this._def=B,this._props=j,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&U?U(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let U=0;U<this.attributes.length;U++)this._setAttr(this.attributes[U].name);new MutationObserver(U=>{for(const Y of U)this._setAttr(Y.attributeName)}).observe(this,{attributes:!0});const B=(U,Y=!1)=>{const{props:J,styles:ee}=U;let te;if(J&&!isArray(J))for(const re in J){const ie=J[re];(ie===Number||ie&&ie.type===Number)&&(re in this._props&&(this._props[re]=toNumber(this._props[re])),(te||(te=Object.create(null)))[camelize(re)]=!0)}this._numberProps=te,Y&&this._resolveProps(U),this._applyStyles(ee),this._update()},j=this._def.__asyncLoader;j?j().then(U=>B(U,!0)):B(this._def)}_resolveProps(B){const{props:j}=B,U=isArray(j)?j:Object.keys(j||{});for(const Y of Object.keys(this))Y[0]!=="_"&&U.includes(Y)&&this._setProp(Y,this[Y],!0,!1);for(const Y of U.map(camelize))Object.defineProperty(this,Y,{get(){return this._getProp(Y)},set(J){this._setProp(Y,J)}})}_setAttr(B){let j=this.getAttribute(B);const U=camelize(B);this._numberProps&&this._numberProps[U]&&(j=toNumber(j)),this._setProp(U,j,!1)}_getProp(B){return this._props[B]}_setProp(B,j,U=!0,Y=!0){j!==this._props[B]&&(this._props[B]=j,Y&&this._instance&&this._update(),U&&(j===!0?this.setAttribute(hyphenate(B),""):typeof j=="string"||typeof j=="number"?this.setAttribute(hyphenate(B),j+""):j||this.removeAttribute(hyphenate(B))))}_update(){render(this._createVNode(),this.shadowRoot)}_createVNode(){const B=createVNode(this._def,extend({},this._props));return this._instance||(B.ce=j=>{this._instance=j,j.isCE=!0;const U=(J,ee)=>{this.dispatchEvent(new CustomEvent(J,{detail:ee}))};j.emit=(J,...ee)=>{U(J,ee),hyphenate(J)!==J&&U(hyphenate(J),ee)};let Y=this;for(;Y=Y&&(Y.parentNode||Y.host);)if(Y instanceof VueElement){j.parent=Y._instance,j.provides=Y._instance.provides;break}}),B}_applyStyles(B){B&&B.forEach(j=>{const U=document.createElement("style");U.textContent=j,this.shadowRoot.appendChild(U)})}}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const rendererOptions=extend({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render=(...w)=>{ensureRenderer().render(...w)},light="";var basePath="";function setBasePath(w){basePath=w}function getBasePath(){if(!basePath){const w=[...document.getElementsByTagName("script")],B=w.find(j=>j.hasAttribute("data-shoelace"));if(B)setBasePath(B.getAttribute("data-shoelace"));else{const j=w.find(Y=>/shoelace(\.min)?\.js($|\?)/.test(Y.src));let U="";j&&(U=j.getAttribute("src")),setBasePath(U.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")}var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(w,B,j)=>B in w?__defProp(w,B,{enumerable:!0,configurable:!0,writable:!0,value:j}):w[B]=j,__spreadValues=(w,B)=>{for(var j in B||(B={}))__hasOwnProp.call(B,j)&&__defNormalProp(w,j,B[j]);if(__getOwnPropSymbols)for(var j of __getOwnPropSymbols(B))__propIsEnum.call(B,j)&&__defNormalProp(w,j,B[j]);return w},__spreadProps=(w,B)=>__defProps(w,__getOwnPropDescs(B)),__objRest=(w,B)=>{var j={};for(var U in w)__hasOwnProp.call(w,U)&&B.indexOf(U)<0&&(j[U]=w[U]);if(w!=null&&__getOwnPropSymbols)for(var U of __getOwnPropSymbols(w))B.indexOf(U)<0&&__propIsEnum.call(w,U)&&(j[U]=w[U]);return j},__decorateClass=(w,B,j,U)=>{for(var Y=U>1?void 0:U?__getOwnPropDesc(B,j):B,J=w.length-1,ee;J>=0;J--)(ee=w[J])&&(Y=(U?ee(B,j,Y):ee(Y))||Y);return U&&Y&&__defProp(B,j,Y),Y};const _sfc_main$4=defineComponent({__name:"CurrentTime.ce",props:{timeZone:{type:String,default:"America/Los_Angeles"}},emits:["datechange"],setup(w,{emit:B}){const j=w,U=ref(new Date),Y=computed(()=>U.value.toLocaleString("en-US",{timeZone:j.timeZone}));return setInterval(()=>{U.value=new Date,B("datechange",Y)},1e3),(J,ee)=>(openBlock(),createElementBlock("div",null,[renderSlot(J.$slots,"prefix"),createTextVNode(" "+toDisplayString(unref(Y)),1)]))}});var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(w){return w&&w.__esModule&&Object.prototype.hasOwnProperty.call(w,"default")?w.default:w}var dist={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var w={},B={};return w.on=function(j,U){var Y={name:j,handler:U};return B[j]=B[j]||[],B[j].unshift(Y),Y},w.off=function(j){var U=B[j.name].indexOf(j);U!==-1&&B[j.name].splice(U,1)},w.trigger=function(j,U){var Y=B[j],J;if(Y)for(J=Y.length;J--;)Y[J].handler(U)},w};var sister=Sister,loadYouTubeIframeApi={exports:{}},loadScript=function(B,j,U){var Y=document.head||document.getElementsByTagName("head")[0],J=document.createElement("script");typeof j=="function"&&(U=j,j={}),j=j||{},U=U||function(){},J.type=j.type||"text/javascript",J.charset=j.charset||"utf8",J.async="async"in j?!!j.async:!0,J.src=B,j.attrs&&setAttributes(J,j.attrs),j.text&&(J.text=""+j.text);var ee="onload"in J?stdOnEnd:ieOnEnd;ee(J,U),J.onload||stdOnEnd(J,U),Y.appendChild(J)};function setAttributes(w,B){for(var j in B)w.setAttribute(j,B[j])}function stdOnEnd(w,B){w.onload=function(){this.onerror=this.onload=null,B(null,w)},w.onerror=function(){this.onerror=this.onload=null,B(new Error("Failed to load "+this.src),w)}}function ieOnEnd(w,B){w.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,B(null,w))}}(function(w,B){Object.defineProperty(B,"__esModule",{value:!0});var j=loadScript,U=Y(j);function Y(J){return J&&J.__esModule?J:{default:J}}B.default=function(J){var ee=new Promise(function(te){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){te(window.YT);return}else{var re=window.location.protocol==="http:"?"http:":"https:";(0,U.default)(re+"//www.youtube.com/iframe_api",function(ce){ce&&J.trigger("error",ce)})}var ie=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){ie&&ie(),te(window.YT)}});return ee},w.exports=B.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var YouTubePlayer$1={exports:{}},browser={exports:{}},debug={exports:{}},s$3=1e3,m$2=s$3*60,h$2=m$2*60,d$2=h$2*24,y$1=d$2*365.25,ms=function(w,B){B=B||{};var j=typeof w;if(j==="string"&&w.length>0)return parse(w);if(j==="number"&&isNaN(w)===!1)return B.long?fmtLong(w):fmtShort(w);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(w))};function parse(w){if(w=String(w),!(w.length>100)){var B=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(w);if(!!B){var j=parseFloat(B[1]),U=(B[2]||"ms").toLowerCase();switch(U){case"years":case"year":case"yrs":case"yr":case"y":return j*y$1;case"days":case"day":case"d":return j*d$2;case"hours":case"hour":case"hrs":case"hr":case"h":return j*h$2;case"minutes":case"minute":case"mins":case"min":case"m":return j*m$2;case"seconds":case"second":case"secs":case"sec":case"s":return j*s$3;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return j;default:return}}}}function fmtShort(w){return w>=d$2?Math.round(w/d$2)+"d":w>=h$2?Math.round(w/h$2)+"h":w>=m$2?Math.round(w/m$2)+"m":w>=s$3?Math.round(w/s$3)+"s":w+"ms"}function fmtLong(w){return plural(w,d$2,"day")||plural(w,h$2,"hour")||plural(w,m$2,"minute")||plural(w,s$3,"second")||w+" ms"}function plural(w,B,j){if(!(w<B))return w<B*1.5?Math.floor(w/B)+" "+j:Math.ceil(w/B)+" "+j+"s"}(function(w,B){B=w.exports=Y.debug=Y.default=Y,B.coerce=re,B.disable=ee,B.enable=J,B.enabled=te,B.humanize=ms,B.names=[],B.skips=[],B.formatters={};var j;function U(ie){var ce=0,fe;for(fe in ie)ce=(ce<<5)-ce+ie.charCodeAt(fe),ce|=0;return B.colors[Math.abs(ce)%B.colors.length]}function Y(ie){function ce(){if(!!ce.enabled){var fe=ce,le=+new Date,ye=le-(j||le);fe.diff=ye,fe.prev=j,fe.curr=le,j=le;for(var we=new Array(arguments.length),Ce=0;Ce<we.length;Ce++)we[Ce]=arguments[Ce];we[0]=B.coerce(we[0]),typeof we[0]!="string"&&we.unshift("%O");var ae=0;we[0]=we[0].replace(/%([a-zA-Z%])/g,function(xe,_e){if(xe==="%%")return xe;ae++;var Pe=B.formatters[_e];if(typeof Pe=="function"){var Me=we[ae];xe=Pe.call(fe,Me),we.splice(ae,1),ae--}return xe}),B.formatArgs.call(fe,we);var ve=ce.log||B.log||console.log.bind(console);ve.apply(fe,we)}}return ce.namespace=ie,ce.enabled=B.enabled(ie),ce.useColors=B.useColors(),ce.color=U(ie),typeof B.init=="function"&&B.init(ce),ce}function J(ie){B.save(ie),B.names=[],B.skips=[];for(var ce=(typeof ie=="string"?ie:"").split(/[\s,]+/),fe=ce.length,le=0;le<fe;le++)!ce[le]||(ie=ce[le].replace(/\*/g,".*?"),ie[0]==="-"?B.skips.push(new RegExp("^"+ie.substr(1)+"$")):B.names.push(new RegExp("^"+ie+"$")))}function ee(){B.enable("")}function te(ie){var ce,fe;for(ce=0,fe=B.skips.length;ce<fe;ce++)if(B.skips[ce].test(ie))return!1;for(ce=0,fe=B.names.length;ce<fe;ce++)if(B.names[ce].test(ie))return!0;return!1}function re(ie){return ie instanceof Error?ie.stack||ie.message:ie}})(debug,debug.exports);(function(w,B){B=w.exports=debug.exports,B.log=Y,B.formatArgs=U,B.save=J,B.load=ee,B.useColors=j,B.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:te(),B.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function j(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}B.formatters.j=function(re){try{return JSON.stringify(re)}catch(ie){return"[UnexpectedJSONParseError]: "+ie.message}};function U(re){var ie=this.useColors;if(re[0]=(ie?"%c":"")+this.namespace+(ie?" %c":" ")+re[0]+(ie?"%c ":" ")+"+"+B.humanize(this.diff),!!ie){var ce="color: "+this.color;re.splice(1,0,ce,"color: inherit");var fe=0,le=0;re[0].replace(/%[a-zA-Z%]/g,function(ye){ye!=="%%"&&(fe++,ye==="%c"&&(le=fe))}),re.splice(le,0,ce)}}function Y(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function J(re){try{re==null?B.storage.removeItem("debug"):B.storage.debug=re}catch{}}function ee(){var re;try{re=B.storage.debug}catch{}return!re&&typeof process<"u"&&"env"in process&&(re={}.DEBUG),re}B.enable(ee());function te(){try{return window.localStorage}catch{}}})(browser,browser.exports);var functionNames={exports:{}};(function(w,B){Object.defineProperty(B,"__esModule",{value:!0}),B.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],w.exports=B.default})(functionNames,functionNames.exports);var eventNames={exports:{}};(function(w,B){Object.defineProperty(B,"__esModule",{value:!0}),B.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],w.exports=B.default})(eventNames,eventNames.exports);var FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(w,B){Object.defineProperty(B,"__esModule",{value:!0}),B.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},w.exports=B.default})(PlayerStates,PlayerStates.exports);(function(w,B){Object.defineProperty(B,"__esModule",{value:!0});var j=PlayerStates.exports,U=Y(j);function Y(J){return J&&J.__esModule?J:{default:J}}B.default={pauseVideo:{acceptableStates:[U.default.ENDED,U.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[U.default.ENDED,U.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[U.default.ENDED,U.default.PLAYING,U.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},w.exports=B.default})(FunctionStateMap,FunctionStateMap.exports);(function(w,B){Object.defineProperty(B,"__esModule",{value:!0});var j=browser.exports,U=ce(j),Y=functionNames.exports,J=ce(Y),ee=eventNames.exports,te=ce(ee),re=FunctionStateMap.exports,ie=ce(re);function ce(ye){return ye&&ye.__esModule?ye:{default:ye}}var fe=(0,U.default)("youtube-player"),le={};le.proxyEvents=function(ye){var we={},Ce=function(Ve){var He="on"+Ve.slice(0,1).toUpperCase()+Ve.slice(1);we[He]=function(Ze){fe('event "%s"',He,Ze),ye.trigger(Ve,Ze)}},ae=!0,ve=!1,xe=void 0;try{for(var _e=te.default[Symbol.iterator](),Pe;!(ae=(Pe=_e.next()).done);ae=!0){var Me=Pe.value;Ce(Me)}}catch(je){ve=!0,xe=je}finally{try{!ae&&_e.return&&_e.return()}finally{if(ve)throw xe}}return we},le.promisifyPlayer=function(ye){var we=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ce={},ae=function(He){we&&ie.default[He]?Ce[He]=function(){for(var Ze=arguments.length,Ue=Array(Ze),it=0;it<Ze;it++)Ue[it]=arguments[it];return ye.then(function(Fe){var ht=ie.default[He],ft=Fe.getPlayerState(),St=Fe[He].apply(Fe,Ue);return ht.stateChangeRequired||Array.isArray(ht.acceptableStates)&&ht.acceptableStates.indexOf(ft)===-1?new Promise(function(gt){var nt=function yt(){var $t=Fe.getPlayerState(),ln=void 0;typeof ht.timeout=="number"&&(ln=setTimeout(function(){Fe.removeEventListener("onStateChange",yt),gt()},ht.timeout)),Array.isArray(ht.acceptableStates)&&ht.acceptableStates.indexOf($t)!==-1&&(Fe.removeEventListener("onStateChange",yt),clearTimeout(ln),gt())};Fe.addEventListener("onStateChange",nt)}).then(function(){return St}):St})}:Ce[He]=function(){for(var Ze=arguments.length,Ue=Array(Ze),it=0;it<Ze;it++)Ue[it]=arguments[it];return ye.then(function(Fe){return Fe[He].apply(Fe,Ue)})}},ve=!0,xe=!1,_e=void 0;try{for(var Pe=J.default[Symbol.iterator](),Me;!(ve=(Me=Pe.next()).done);ve=!0){var je=Me.value;ae(je)}}catch(Ve){xe=!0,_e=Ve}finally{try{!ve&&Pe.return&&Pe.return()}finally{if(xe)throw _e}}return Ce},B.default=le,w.exports=B.default})(YouTubePlayer$1,YouTubePlayer$1.exports);(function(w,B){Object.defineProperty(B,"__esModule",{value:!0});var j=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fe){return typeof fe}:function(fe){return fe&&typeof Symbol=="function"&&fe.constructor===Symbol&&fe!==Symbol.prototype?"symbol":typeof fe},U=sister,Y=ie(U),J=loadYouTubeIframeApi.exports,ee=ie(J),te=YouTubePlayer$1.exports,re=ie(te);function ie(fe){return fe&&fe.__esModule?fe:{default:fe}}var ce=void 0;B.default=function(fe){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ye=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,we=(0,Y.default)();if(ce||(ce=(0,ee.default)(we)),le.events)throw new Error("Event handlers cannot be overwritten.");if(typeof fe=="string"&&!document.getElementById(fe))throw new Error('Element "'+fe+'" does not exist.');le.events=re.default.proxyEvents(we);var Ce=new Promise(function(ve){if((typeof fe>"u"?"undefined":j(fe))==="object"&&fe.playVideo instanceof Function){var xe=fe;ve(xe)}else ce.then(function(_e){var Pe=new _e.Player(fe,le);return we.on("ready",function(){ve(Pe)}),null})}),ae=re.default.promisifyPlayer(Ce,ye);return ae.on=we.on,ae.off=we.off,ae},w.exports=B.default})(dist,dist.exports);const YouTubePlayer=getDefaultExportFromCjs(dist.exports);/*! @vimeo/player v2.18.0 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */function _classCallCheck(w,B){if(!(w instanceof B))throw new TypeError("Cannot call a class as a function")}function _defineProperties(w,B){for(var j=0;j<B.length;j++){var U=B[j];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(w,U.key,U)}}function _createClass(w,B,j){return B&&_defineProperties(w.prototype,B),j&&_defineProperties(w,j),w}var isNode=typeof global<"u"&&{}.toString.call(global)==="[object global]";function getMethodName(w,B){return w.indexOf(B.toLowerCase())===0?w:"".concat(B.toLowerCase()).concat(w.substr(0,1).toUpperCase()).concat(w.substr(1))}function isDomElement(w){return Boolean(w&&w.nodeType===1&&"nodeName"in w&&w.ownerDocument&&w.ownerDocument.defaultView)}function isInteger(w){return!isNaN(parseFloat(w))&&isFinite(w)&&Math.floor(w)==w}function isVimeoUrl(w){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(w)}function isVimeoEmbed(w){var B=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return B.test(w)}function getVimeoUrl(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},B=w.id,j=w.url,U=B||j;if(!U)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger(U))return"https://vimeo.com/".concat(U);if(isVimeoUrl(U))return U.replace("http:","https:");throw B?new TypeError("\u201C".concat(B,"\u201D is not a valid video id.")):new TypeError("\u201C".concat(U,"\u201D is not a vimeo.com url."))}var arrayIndexOfSupport=typeof Array.prototype.indexOf<"u",postMessageSupport=typeof window<"u"&&typeof window.postMessage<"u";if(!isNode&&(!arrayIndexOfSupport||!postMessageSupport))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(w,B){return B={exports:{}},w(B,B.exports),B.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(w){if(w.WeakMap)return;var B=Object.prototype.hasOwnProperty,j=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),U=function(J,ee,te){j?Object.defineProperty(J,ee,{configurable:!0,writable:!0,value:te}):J[ee]=te};w.WeakMap=function(){function J(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(U(this,"_id",te("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}U(J.prototype,"delete",function(ie){if(ee(this,"delete"),!Y(ie))return!1;var ce=ie[this._id];return ce&&ce[0]===ie?(delete ie[this._id],!0):!1}),U(J.prototype,"get",function(ie){if(ee(this,"get"),!!Y(ie)){var ce=ie[this._id];if(ce&&ce[0]===ie)return ce[1]}}),U(J.prototype,"has",function(ie){if(ee(this,"has"),!Y(ie))return!1;var ce=ie[this._id];return!!(ce&&ce[0]===ie)}),U(J.prototype,"set",function(ie,ce){if(ee(this,"set"),!Y(ie))throw new TypeError("Invalid value used as weak map key");var fe=ie[this._id];return fe&&fe[0]===ie?(fe[1]=ce,this):(U(ie,this._id,[ie,ce]),this)});function ee(ie,ce){if(!Y(ie)||!B.call(ie,"_id"))throw new TypeError(ce+" method called on incompatible receiver "+typeof ie)}function te(ie){return ie+"_"+re()+"."+re()}function re(){return Math.random().toString().substring(2)}return U(J,"_polyfill",!0),J}();function Y(J){return Object(J)===J}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal);var npo_src=createCommonjsModule(function(w){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(j,U,Y){U[j]=U[j]||Y(),w.exports&&(w.exports=U[j])})("Promise",commonjsGlobal,function(){var j,U,Y,J=Object.prototype.toString,ee=typeof setImmediate<"u"?function(_e){return setImmediate(_e)}:setTimeout;try{Object.defineProperty({},"x",{}),j=function(_e,Pe,Me,je){return Object.defineProperty(_e,Pe,{value:Me,writable:!0,configurable:je!==!1})}}catch{j=function(Pe,Me,je){return Pe[Me]=je,Pe}}Y=function(){var _e,Pe,Me;function je(Ve,He){this.fn=Ve,this.self=He,this.next=void 0}return{add:function(He,Ze){Me=new je(He,Ze),Pe?Pe.next=Me:_e=Me,Pe=Me,Me=void 0},drain:function(){var He=_e;for(_e=Pe=U=void 0;He;)He.fn.call(He.self),He=He.next}}}();function te(xe,_e){Y.add(xe,_e),U||(U=ee(Y.drain))}function re(xe){var _e,Pe=typeof xe;return xe!=null&&(Pe=="object"||Pe=="function")&&(_e=xe.then),typeof _e=="function"?_e:!1}function ie(){for(var xe=0;xe<this.chain.length;xe++)ce(this,this.state===1?this.chain[xe].success:this.chain[xe].failure,this.chain[xe]);this.chain.length=0}function ce(xe,_e,Pe){var Me,je;try{_e===!1?Pe.reject(xe.msg):(_e===!0?Me=xe.msg:Me=_e.call(void 0,xe.msg),Me===Pe.promise?Pe.reject(TypeError("Promise-chain cycle")):(je=re(Me))?je.call(Me,Pe.resolve,Pe.reject):Pe.resolve(Me))}catch(Ve){Pe.reject(Ve)}}function fe(xe){var _e,Pe=this;if(!Pe.triggered){Pe.triggered=!0,Pe.def&&(Pe=Pe.def);try{(_e=re(xe))?te(function(){var Me=new we(Pe);try{_e.call(xe,function(){fe.apply(Me,arguments)},function(){le.apply(Me,arguments)})}catch(je){le.call(Me,je)}}):(Pe.msg=xe,Pe.state=1,Pe.chain.length>0&&te(ie,Pe))}catch(Me){le.call(new we(Pe),Me)}}}function le(xe){var _e=this;_e.triggered||(_e.triggered=!0,_e.def&&(_e=_e.def),_e.msg=xe,_e.state=2,_e.chain.length>0&&te(ie,_e))}function ye(xe,_e,Pe,Me){for(var je=0;je<_e.length;je++)(function(He){xe.resolve(_e[He]).then(function(Ue){Pe(He,Ue)},Me)})(je)}function we(xe){this.def=xe,this.triggered=!1}function Ce(xe){this.promise=xe,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function ae(xe){if(typeof xe!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var _e=new Ce(this);this.then=function(Me,je){var Ve={success:typeof Me=="function"?Me:!0,failure:typeof je=="function"?je:!1};return Ve.promise=new this.constructor(function(Ze,Ue){if(typeof Ze!="function"||typeof Ue!="function")throw TypeError("Not a function");Ve.resolve=Ze,Ve.reject=Ue}),_e.chain.push(Ve),_e.state!==0&&te(ie,_e),Ve.promise},this.catch=function(Me){return this.then(void 0,Me)};try{xe.call(void 0,function(Me){fe.call(_e,Me)},function(Me){le.call(_e,Me)})}catch(Pe){le.call(_e,Pe)}}var ve=j({},"constructor",ae,!1);return ae.prototype=ve,j(ve,"__NPO__",0,!1),j(ae,"resolve",function(_e){var Pe=this;return _e&&typeof _e=="object"&&_e.__NPO__===1?_e:new Pe(function(je,Ve){if(typeof je!="function"||typeof Ve!="function")throw TypeError("Not a function");je(_e)})}),j(ae,"reject",function(_e){return new this(function(Me,je){if(typeof Me!="function"||typeof je!="function")throw TypeError("Not a function");je(_e)})}),j(ae,"all",function(_e){var Pe=this;return J.call(_e)!="[object Array]"?Pe.reject(TypeError("Not an array")):_e.length===0?Pe.resolve([]):new Pe(function(je,Ve){if(typeof je!="function"||typeof Ve!="function")throw TypeError("Not a function");var He=_e.length,Ze=Array(He),Ue=0;ye(Pe,_e,function(Fe,ht){Ze[Fe]=ht,++Ue===He&&je(Ze)},Ve)})}),j(ae,"race",function(_e){var Pe=this;return J.call(_e)!="[object Array]"?Pe.reject(TypeError("Not an array")):new Pe(function(je,Ve){if(typeof je!="function"||typeof Ve!="function")throw TypeError("Not a function");ye(Pe,_e,function(Ze,Ue){je(Ue)},Ve)})}),ae})}),callbackMap=new WeakMap;function storeCallback(w,B,j){var U=callbackMap.get(w.element)||{};B in U||(U[B]=[]),U[B].push(j),callbackMap.set(w.element,U)}function getCallbacks(w,B){var j=callbackMap.get(w.element)||{};return j[B]||[]}function removeCallback(w,B,j){var U=callbackMap.get(w.element)||{};if(!U[B])return!0;if(!j)return U[B]=[],callbackMap.set(w.element,U),!0;var Y=U[B].indexOf(j);return Y!==-1&&U[B].splice(Y,1),callbackMap.set(w.element,U),U[B]&&U[B].length===0}function shiftCallbacks(w,B){var j=getCallbacks(w,B);if(j.length<1)return!1;var U=j.shift();return removeCallback(w,B,U),U}function swapCallbacks(w,B){var j=callbackMap.get(w);callbackMap.set(B,j),callbackMap.delete(w)}function parseMessageData(w){if(typeof w=="string")try{w=JSON.parse(w)}catch(B){return console.warn(B),{}}return w}function postMessage(w,B,j){if(!(!w.element.contentWindow||!w.element.contentWindow.postMessage)){var U={method:B};j!==void 0&&(U.value=j);var Y=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));Y>=8&&Y<10&&(U=JSON.stringify(U)),w.element.contentWindow.postMessage(U,w.origin)}}function processData(w,B){B=parseMessageData(B);var j=[],U;if(B.event){if(B.event==="error"){var Y=getCallbacks(w,B.data.method);Y.forEach(function(ee){var te=new Error(B.data.message);te.name=B.data.name,ee.reject(te),removeCallback(w,B.data.method,ee)})}j=getCallbacks(w,"event:".concat(B.event)),U=B.data}else if(B.method){var J=shiftCallbacks(w,B.method);J&&(j.push(J),U=B.value)}j.forEach(function(ee){try{if(typeof ee=="function"){ee.call(w,U);return}ee.resolve(U)}catch{}})}var oEmbedParameters=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function getOEmbedParameters(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oEmbedParameters.reduce(function(j,U){var Y=w.getAttribute("data-vimeo-".concat(U));return(Y||Y==="")&&(j[U]=Y===""?1:Y),j},B)}function createEmbed(w,B){var j=w.html;if(!B)throw new TypeError("An element must be provided");if(B.getAttribute("data-vimeo-initialized")!==null)return B.querySelector("iframe");var U=document.createElement("div");return U.innerHTML=j,B.appendChild(U.firstChild),B.setAttribute("data-vimeo-initialized","true"),B.querySelector("iframe")}function getOEmbedData(w){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=arguments.length>2?arguments[2]:void 0;return new Promise(function(U,Y){if(!isVimeoUrl(w))throw new TypeError("\u201C".concat(w,"\u201D is not a vimeo.com url."));var J="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(w));for(var ee in B)B.hasOwnProperty(ee)&&(J+="&".concat(ee,"=").concat(encodeURIComponent(B[ee])));var te="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;te.open("GET",J,!0),te.onload=function(){if(te.status===404){Y(new Error("\u201C".concat(w,"\u201D was not found.")));return}if(te.status===403){Y(new Error("\u201C".concat(w,"\u201D is not embeddable.")));return}try{var re=JSON.parse(te.responseText);if(re.domain_status_code===403){createEmbed(re,j),Y(new Error("\u201C".concat(w,"\u201D is not embeddable.")));return}U(re)}catch(ie){Y(ie)}},te.onerror=function(){var re=te.status?" (".concat(te.status,")"):"";Y(new Error("There was an error fetching the embed code from Vimeo".concat(re,".")))},te.send()})}function initializeEmbeds(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,B=[].slice.call(w.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),j=function(Y){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(Y))};B.forEach(function(U){try{if(U.getAttribute("data-vimeo-defer")!==null)return;var Y=getOEmbedParameters(U),J=getVimeoUrl(Y);getOEmbedData(J,Y,U).then(function(ee){return createEmbed(ee,U)}).catch(j)}catch(ee){j(ee)}})}function resizeEmbeds(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var B=function(U){if(!!isVimeoUrl(U.origin)&&!(!U.data||U.data.event!=="spacechange")){for(var Y=w.querySelectorAll("iframe"),J=0;J<Y.length;J++)if(Y[J].contentWindow===U.source){var ee=Y[J].parentElement;ee.style.paddingBottom="".concat(U.data.data[0].bottom,"px");break}}};window.addEventListener("message",B)}}function initAppendVideoMetadata(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var B=function(U){if(!!isVimeoUrl(U.origin)){var Y=parseMessageData(U.data);if(!(!Y||Y.event!=="ready"))for(var J=w.querySelectorAll("iframe"),ee=0;ee<J.length;ee++){var te=J[ee],re=te.contentWindow===U.source;if(isVimeoEmbed(te.src)&&re){var ie=new Player(te);ie.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",B)}}function checkUrlTimeParam(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var B=function(Y){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(Y))},j=function(Y){if(!!isVimeoUrl(Y.origin)){var J=parseMessageData(Y.data);if(!(!J||J.event!=="ready"))for(var ee=w.querySelectorAll("iframe"),te=0;te<ee.length;te++){var re=ee[te],ie=re.contentWindow===Y.source;isVimeoEmbed(re.src)&&ie&&function(){var ce=new Player(re);ce.getVideoId().then(function(fe){var le=new RegExp("[?&]vimeo_t_".concat(fe,"=([^&#]*)")).exec(window.location.href);if(le&&le[1]){var ye=decodeURI(le[1]);ce.setCurrentTime(ye)}}).catch(B)}()}}};window.addEventListener("message",j)}}function initializeScreenfull(){var w=function(){for(var U,Y=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],J=0,ee=Y.length,te={};J<ee;J++)if(U=Y[J],U&&U[1]in document){for(J=0;J<U.length;J++)te[Y[0][J]]=U[J];return te}return!1}(),B={fullscreenchange:w.fullscreenchange,fullscreenerror:w.fullscreenerror},j={request:function(Y){return new Promise(function(J,ee){var te=function ie(){j.off("fullscreenchange",ie),J()};j.on("fullscreenchange",te),Y=Y||document.documentElement;var re=Y[w.requestFullscreen]();re instanceof Promise&&re.then(te).catch(ee)})},exit:function(){return new Promise(function(Y,J){if(!j.isFullscreen){Y();return}var ee=function re(){j.off("fullscreenchange",re),Y()};j.on("fullscreenchange",ee);var te=document[w.exitFullscreen]();te instanceof Promise&&te.then(ee).catch(J)})},on:function(Y,J){var ee=B[Y];ee&&document.addEventListener(ee,J)},off:function(Y,J){var ee=B[Y];ee&&document.removeEventListener(ee,J)}};return Object.defineProperties(j,{isFullscreen:{get:function(){return Boolean(document[w.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[w.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[w.fullscreenEnabled])}}}),j}var playerMap=new WeakMap,readyMap=new WeakMap,screenfull={},Player=function(){function w(B){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,w),window.jQuery&&B instanceof jQuery&&(B.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),B=B[0]),typeof document<"u"&&typeof B=="string"&&(B=document.getElementById(B)),!isDomElement(B))throw new TypeError("You must pass either a valid element or a valid id.");if(B.nodeName!=="IFRAME"){var Y=B.querySelector("iframe");Y&&(B=Y)}if(B.nodeName==="IFRAME"&&!isVimeoUrl(B.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(playerMap.has(B))return playerMap.get(B);this._window=B.ownerDocument.defaultView,this.element=B,this.origin="*";var J=new npo_src(function(te,re){if(j._onMessage=function(fe){if(!(!isVimeoUrl(fe.origin)||j.element.contentWindow!==fe.source)){j.origin==="*"&&(j.origin=fe.origin);var le=parseMessageData(fe.data),ye=le&&le.event==="error",we=ye&&le.data&&le.data.method==="ready";if(we){var Ce=new Error(le.data.message);Ce.name=le.data.name,re(Ce);return}var ae=le&&le.event==="ready",ve=le&&le.method==="ping";if(ae||ve){j.element.setAttribute("data-ready","true"),te();return}processData(j,le)}},j._window.addEventListener("message",j._onMessage),j.element.nodeName!=="IFRAME"){var ie=getOEmbedParameters(B,U),ce=getVimeoUrl(ie);getOEmbedData(ce,ie,B).then(function(fe){var le=createEmbed(fe,B);return j.element=le,j._originalElement=B,swapCallbacks(B,le),playerMap.set(j.element,j),fe}).catch(re)}});if(readyMap.set(this,J),playerMap.set(this.element,this),this.element.nodeName==="IFRAME"&&postMessage(this,"ping"),screenfull.isEnabled){var ee=function(){return screenfull.exit()};this.fullscreenchangeHandler=function(){screenfull.isFullscreen?storeCallback(j,"event:exitFullscreen",ee):removeCallback(j,"event:exitFullscreen",ee),j.ready().then(function(){postMessage(j,"fullscreenchange",screenfull.isFullscreen)})},screenfull.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return _createClass(w,[{key:"callMethod",value:function(j){var U=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new npo_src(function(J,ee){return U.ready().then(function(){storeCallback(U,j,{resolve:J,reject:ee}),postMessage(U,j,Y)}).catch(ee)})}},{key:"get",value:function(j){var U=this;return new npo_src(function(Y,J){return j=getMethodName(j,"get"),U.ready().then(function(){storeCallback(U,j,{resolve:Y,reject:J}),postMessage(U,j)}).catch(J)})}},{key:"set",value:function(j,U){var Y=this;return new npo_src(function(J,ee){if(j=getMethodName(j,"set"),U==null)throw new TypeError("There must be a value to set.");return Y.ready().then(function(){storeCallback(Y,j,{resolve:J,reject:ee}),postMessage(Y,j,U)}).catch(ee)})}},{key:"on",value:function(j,U){if(!j)throw new TypeError("You must pass an event name.");if(!U)throw new TypeError("You must pass a callback function.");if(typeof U!="function")throw new TypeError("The callback must be a function.");var Y=getCallbacks(this,"event:".concat(j));Y.length===0&&this.callMethod("addEventListener",j).catch(function(){}),storeCallback(this,"event:".concat(j),U)}},{key:"off",value:function(j,U){if(!j)throw new TypeError("You must pass an event name.");if(U&&typeof U!="function")throw new TypeError("The callback must be a function.");var Y=removeCallback(this,"event:".concat(j),U);Y&&this.callMethod("removeEventListener",j).catch(function(J){})}},{key:"loadVideo",value:function(j){return this.callMethod("loadVideo",j)}},{key:"ready",value:function(){var j=readyMap.get(this)||new npo_src(function(U,Y){Y(new Error("Unknown player. Probably unloaded."))});return npo_src.resolve(j)}},{key:"addCuePoint",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:j,data:U})}},{key:"removeCuePoint",value:function(j){return this.callMethod("removeCuePoint",j)}},{key:"enableTextTrack",value:function(j,U){if(!j)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:j,kind:U})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return screenfull.isEnabled?screenfull.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return screenfull.isEnabled?screenfull.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return screenfull.isEnabled?npo_src.resolve(screenfull.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var j=this;return new npo_src(function(U){if(readyMap.delete(j),playerMap.delete(j.element),j._originalElement&&(playerMap.delete(j._originalElement),j._originalElement.removeAttribute("data-vimeo-initialized")),j.element&&j.element.nodeName==="IFRAME"&&j.element.parentNode&&(j.element.parentNode.parentNode&&j._originalElement&&j._originalElement!==j.element.parentNode?j.element.parentNode.parentNode.removeChild(j.element.parentNode):j.element.parentNode.removeChild(j.element)),j.element&&j.element.nodeName==="DIV"&&j.element.parentNode){j.element.removeAttribute("data-vimeo-initialized");var Y=j.element.querySelector("iframe");Y&&Y.parentNode&&(Y.parentNode.parentNode&&j._originalElement&&j._originalElement!==Y.parentNode?Y.parentNode.parentNode.removeChild(Y.parentNode):Y.parentNode.removeChild(Y))}j._window.removeEventListener("message",j._onMessage),screenfull.isEnabled&&screenfull.off("fullscreenchange",j.fullscreenchangeHandler),U()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(j){return this.set("autopause",j)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(j){return this.set("cameraProps",j)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(j){return this.set("color",j)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(j){return this.set("currentTime",j)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(j){return this.set("loop",j)}},{key:"setMuted",value:function(j){return this.set("muted",j)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(j){return this.set("playbackRate",j)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(j){return this.set("quality",j)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(j){return this.set("volume",j)}}]),w}();isNode||(screenfull=initializeScreenfull(),initializeEmbeds(),resizeEmbeds(),initAppendVideoMetadata(),checkUrlTimeParam());var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(w){return new OpenSeadragon.Viewer(w)}(function(w){w.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var B={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},j=Object.prototype.toString,U=Object.prototype.hasOwnProperty;w.isFunction=function(Y){return w.type(Y)==="function"},w.isArray=Array.isArray||function(Y){return w.type(Y)==="array"},w.isWindow=function(Y){return Y&&typeof Y=="object"&&"setInterval"in Y},w.type=function(Y){return Y==null?String(Y):B[j.call(Y)]||"object"},w.isPlainObject=function(Y){if(!Y||OpenSeadragon.type(Y)!=="object"||Y.nodeType||w.isWindow(Y)||Y.constructor&&!U.call(Y,"constructor")&&!U.call(Y.constructor.prototype,"isPrototypeOf"))return!1;var J;for(var ee in Y)J=ee;return J===void 0||U.call(Y,J)},w.isEmptyObject=function(Y){for(var J in Y)return!1;return!0},w.freezeObject=function(Y){return Object.freeze?w.freezeObject=Object.freeze:w.freezeObject=function(J){return J},w.freezeObject(Y)},w.supportsCanvas=function(){var Y=document.createElement("canvas");return!!(w.isFunction(Y.getContext)&&Y.getContext("2d"))}(),w.isCanvasTainted=function(Y){var J=!1;try{Y.getContext("2d").getImageData(0,0,1,1)}catch{J=!0}return J},w.pixelDensityRatio=function(){if(w.supportsCanvas){var Y=document.createElement("canvas").getContext("2d"),J=window.devicePixelRatio||1,ee=Y.webkitBackingStorePixelRatio||Y.mozBackingStorePixelRatio||Y.msBackingStorePixelRatio||Y.oBackingStorePixelRatio||Y.backingStorePixelRatio||1;return Math.max(J,1)/ee}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var w,B,j,U,Y,J,ee=arguments[0]||{},te=arguments.length,re=!1,ie=1;for(typeof ee=="boolean"&&(re=ee,ee=arguments[1]||{},ie=2),typeof ee!="object"&&!OpenSeadragon.isFunction(ee)&&(ee={}),te===ie&&(ee=this,--ie);ie<te;ie++)if(w=arguments[ie],w!==null||w!==void 0)for(B in w)j=ee[B],U=w[B],ee!==U&&(re&&U&&(OpenSeadragon.isPlainObject(U)||(Y=OpenSeadragon.isArray(U)))?(Y?(Y=!1,J=j&&OpenSeadragon.isArray(j)?j:[]):J=j&&OpenSeadragon.isPlainObject(j)?j:{},ee[B]=OpenSeadragon.extend(re,J,U)):U!==void 0&&(ee[B]=U));return ee};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var w=navigator.userAgent;return typeof w!="string"?!1:w.indexOf("iPhone")!==-1||w.indexOf("iPad")!==-1||w.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(w,B){return function(){var j=arguments;return j===void 0&&(j=[]),B.apply(w,j)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(w){return typeof w=="string"&&(w=document.getElementById(w)),w},getElementPosition:function(w){var B=new $.Point,j,U;for(w=$.getElement(w),j=$.getElementStyle(w).position=="fixed",U=getOffsetParent(w,j);U;)B.x+=w.offsetLeft,B.y+=w.offsetTop,j&&(B=B.plus($.getPageScroll())),w=U,j=$.getElementStyle(w).position=="fixed",U=getOffsetParent(w,j);return B},getElementOffset:function(w){w=$.getElement(w);var B=w&&w.ownerDocument,j,U,Y={top:0,left:0};return B?(j=B.documentElement,typeof w.getBoundingClientRect<"u"&&(Y=w.getBoundingClientRect()),U=B==B.window?B:B.nodeType===9?B.defaultView||B.parentWindow:!1,new $.Point(Y.left+(U.pageXOffset||j.scrollLeft)-(j.clientLeft||0),Y.top+(U.pageYOffset||j.scrollTop)-(j.clientTop||0))):new $.Point},getElementSize:function(w){return w=$.getElement(w),new $.Point(w.clientWidth,w.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(w){return w=$.getElement(w),w.currentStyle}:function(w){return w=$.getElement(w),window.getComputedStyle(w,"")},getCssPropertyWithVendorPrefix:function(w){var B={};return $.getCssPropertyWithVendorPrefix=function(j){if(B[j]!==void 0)return B[j];var U=document.createElement("div").style,Y=null;if(U[j]!==void 0)Y=j;else for(var J=["Webkit","Moz","MS","O","webkit","moz","ms","o"],ee=$.capitalizeFirstLetter(j),te=0;te<J.length;te++){var re=J[te]+ee;if(U[re]!==void 0){Y=re;break}}return B[j]=Y,Y},$.getCssPropertyWithVendorPrefix(w)},capitalizeFirstLetter:function(w){return w.charAt(0).toUpperCase()+w.slice(1)},positiveModulo:function(w,B){var j=w%B;return j<0&&(j+=B),j},pointInElement:function(w,B){w=$.getElement(w);var j=$.getElementOffset(w),U=$.getElementSize(w);return B.x>=j.x&&B.x<j.x+U.x&&B.y<j.y+U.y&&B.y>=j.y},getEvent:function(w){return w?$.getEvent=function(B){return B}:$.getEvent=function(){return window.event},$.getEvent(w)},getMousePosition:function(w){if(typeof w.pageX=="number")$.getMousePosition=function(B){var j=new $.Point;return B=$.getEvent(B),j.x=B.pageX,j.y=B.pageY,j};else if(typeof w.clientX=="number")$.getMousePosition=function(B){var j=new $.Point;return B=$.getEvent(B),j.x=B.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,j.y=B.clientY+document.body.scrollTop+document.documentElement.scrollTop,j};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(w)},getPageScroll:function(){var w=document.documentElement||{},B=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(B.scrollLeft||B.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(w.scrollLeft||w.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(w){if(typeof window.scrollTo<"u")$.setPageScroll=function(U){window.scrollTo(U.x,U.y)};else{var B=$.getPageScroll();if(B.x===w.x&&B.y===w.y)return;document.body.scrollLeft=w.x,document.body.scrollTop=w.y;var j=$.getPageScroll();if(j.x!==B.x&&j.y!==B.y){$.setPageScroll=function(U){document.body.scrollLeft=U.x,document.body.scrollTop=U.y};return}if(document.documentElement.scrollLeft=w.x,document.documentElement.scrollTop=w.y,j=$.getPageScroll(),j.x!==B.x&&j.y!==B.y){$.setPageScroll=function(U){document.documentElement.scrollLeft=U.x,document.documentElement.scrollTop=U.y};return}$.setPageScroll=function(U){}}return $.setPageScroll(w)},getWindowSize:function(){var w=document.documentElement||{},B=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(w.clientWidth||w.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(B.clientWidth||B.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(w){w=$.getElement(w);var B=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(B[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(B[1].style,{display:"table-row"}),$.extend(B[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),B[0].appendChild(B[1]),B[1].appendChild(B[2]),B[2].appendChild(w),B[0]},makeNeutralElement:function(w){var B=document.createElement(w),j=B.style;return j.background="transparent none",j.border="none",j.margin="0px",j.padding="0px",j.position="static",B},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(w){return $.makeTransparentImage=function(B){var j=$.makeNeutralElement("img");return j.src=B,j},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(B){var j=$.makeNeutralElement("img"),U=null;return U=$.makeNeutralElement("span"),U.style.display="inline-block",j.onload=function(){U.style.width=U.style.width||j.width+"px",U.style.height=U.style.height||j.height+"px",j.onload=null,j=null},j.src=B,U.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+B+"', sizingMethod='scale')",U}),$.makeTransparentImage(w)},setElementOpacity:function(w,B,j){var U,Y;w=$.getElement(w),j&&!$.Browser.alpha&&(B=Math.round(B)),$.Browser.opacity?w.style.opacity=B<1?B:"":B<1?(U=Math.round(100*B),Y="alpha(opacity="+U+")",w.style.filter=Y):w.style.filter=""},setElementTouchActionNone:function(w){w=$.getElement(w),typeof w.style.touchAction<"u"?w.style.touchAction="none":typeof w.style.msTouchAction<"u"&&(w.style.msTouchAction="none")},addClass:function(w,B){w=$.getElement(w),w.className?(" "+w.className+" ").indexOf(" "+B+" ")===-1&&(w.className+=" "+B):w.className=B},indexOf:function(w,B,j){return Array.prototype.indexOf?this.indexOf=function(U,Y,J){return U.indexOf(Y,J)}:this.indexOf=function(U,Y,J){var ee,te=J||0,re;if(!U)throw new TypeError;if(re=U.length,re===0||te>=re)return-1;for(te<0&&(te=re-Math.abs(te)),ee=te;ee<re;ee++)if(U[ee]===Y)return ee;return-1},this.indexOf(w,B,j)},removeClass:function(w,B){var j,U=[],Y;for(w=$.getElement(w),j=w.className.split(/\s+/),Y=0;Y<j.length;Y++)j[Y]&&j[Y]!==B&&U.push(j[Y]);w.className=U.join(" ")},addEvent:function(){if(window.addEventListener)return function(w,B,j,U){w=$.getElement(w),w.addEventListener(B,j,U)};if(window.attachEvent)return function(w,B,j,U){w=$.getElement(w),w.attachEvent("on"+B,j)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(w,B,j,U){w=$.getElement(w),w.removeEventListener(B,j,U)};if(window.detachEvent)return function(w,B,j,U){w=$.getElement(w),w.detachEvent("on"+B,j)};throw new Error("No known event model.")}(),cancelEvent:function(w){w=$.getEvent(w),w.preventDefault?$.cancelEvent=function(B){B.preventDefault()}:$.cancelEvent=function(B){B=$.getEvent(B),B.cancel=!0,B.returnValue=!1},$.cancelEvent(w)},stopEvent:function(w){w=$.getEvent(w),w.stopPropagation?$.stopEvent=function(B){B.stopPropagation()}:$.stopEvent=function(B){B=$.getEvent(B),B.cancelBubble=!0},$.stopEvent(w)},createCallback:function(w,B){var j=[],U;for(U=2;U<arguments.length;U++)j.push(arguments[U]);return function(){var Y=j.concat([]),J;for(J=0;J<arguments.length;J++)Y.push(arguments[J]);return B.apply(w,Y)}},getUrlParameter:function(w){var B=URLPARAMS[w];return B||null},getUrlProtocol:function(w){var B=w.match(/^([a-z]+:)\/\//i);return B===null?window.location.protocol:B[1].toLowerCase()},createAjaxRequest:function(w){var B;try{B=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{B=!1}if(B)window.XMLHttpRequest?$.createAjaxRequest=function(j){return j?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(w)},makeAjaxRequest:function(w,B,j){var U,Y,J;$.isPlainObject(w)&&(B=w.success,j=w.error,U=w.withCredentials,Y=w.headers,J=w.responseType||null,w=w.url);var ee=$.getUrlProtocol(w),te=$.createAjaxRequest(ee==="file:");if(!$.isFunction(B))throw new Error("makeAjaxRequest requires a success callback");te.onreadystatechange=function(){te.readyState==4&&(te.onreadystatechange=function(){},te.status>=200&&te.status<300||te.status===0&&ee!=="http:"&&ee!=="https:"?B(te):($.console.log("AJAX request returned %d: %s",te.status,w),$.isFunction(j)&&j(te)))};try{if(te.open("GET",w,!0),J&&(te.responseType=J),Y)for(var re in Y)Object.prototype.hasOwnProperty.call(Y,re)&&Y[re]&&te.setRequestHeader(re,Y[re]);U&&(te.withCredentials=!0),te.send(null)}catch(le){var ie=le.message,ce=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(ce&&typeof le.number<"u"&&le.number==-2147024891&&(ie+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",le.name,ie),te.onreadystatechange=function(){},window.XDomainRequest){var fe=new window.XDomainRequest;if(fe){fe.onload=function(ye){$.isFunction(B)&&B({responseText:fe.responseText,status:200,statusText:"OK"})},fe.onerror=function(ye){$.isFunction(j)&&j({responseText:fe.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{fe.open("GET",w),fe.send()}catch{$.isFunction(j)&&j(te,le)}}}else $.isFunction(j)&&j(te,le)}return te},jsonp:function(w){var B,j=w.url,U=document.head||document.getElementsByTagName("head")[0]||document.documentElement,Y=w.callbackName||"openseadragon"+$.now(),J=window[Y],ee="$1"+Y+"$2",te=w.param||"callback",re=w.callback;j=j.replace(/(\=)\?(&|$)|\?\?/i,ee),j+=(/\?/.test(j)?"&":"?")+te+"="+Y,window[Y]=function(ie){if(J)window[Y]=J;else try{delete window[Y]}catch{}re&&$.isFunction(re)&&re(ie)},B=document.createElement("script"),(w.async!==void 0||w.async!==!1)&&(B.async="async"),w.scriptCharset&&(B.charset=w.scriptCharset),B.src=j,B.onload=B.onreadystatechange=function(ie,ce){(ce||!B.readyState||/loaded|complete/.test(B.readyState))&&(B.onload=B.onreadystatechange=null,U&&B.parentNode&&U.removeChild(B),B=void 0)},U.insertBefore(B,U.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(w){if(window.DOMParser)$.parseXml=function(B){var j=null,U;return U=new DOMParser,j=U.parseFromString(B,"text/xml"),j};else if(window.ActiveXObject)$.parseXml=function(B){var j=null;return j=new ActiveXObject("Microsoft.XMLDOM"),j.async=!1,j.loadXML(B),j};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(w)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(w){return w=w||"",!!FILEFORMATS[w.toLowerCase()]}});var nullfunction=function(w){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var w=navigator.appVersion,B=navigator.userAgent,j;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(B.substring(B.indexOf("MSIE")+5,B.indexOf(";",B.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(B.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(B.substring(B.indexOf("Firefox")+8))):B.indexOf("Safari")>=0?($.Browser.vendor=B.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(B.substring(B.substring(0,B.indexOf("Safari")).lastIndexOf("/")+1,B.indexOf("Safari")))):(j=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),j.exec(B)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(w);break}var U=window.location.search.substring(1),Y=U.split("&"),J,ee,te;for(te=0;te<Y.length;te++)if(J=Y[te],ee=J.indexOf("="),ee>0){var re=J.substring(0,ee),ie=J.substring(ee+1);try{URLPARAMS[re]=decodeURIComponent(ie)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",re,ie)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(w){var B=w.requestAnimationFrame||w.mozRequestAnimationFrame||w.webkitRequestAnimationFrame||w.msRequestAnimationFrame,j=w.cancelAnimationFrame||w.mozCancelAnimationFrame||w.webkitCancelAnimationFrame||w.msCancelAnimationFrame;if(B&&j)$.requestAnimationFrame=function(){return B.apply(w,arguments)},$.cancelAnimationFrame=function(){return j.apply(w,arguments)};else{var U=[],Y=[],J=0,ee;$.requestAnimationFrame=function(te){return U.push([++J,te]),ee||(ee=setInterval(function(){if(U.length){var re=$.now(),ie=Y;for(Y=U,U=ie;Y.length;)Y.shift()[1](re)}else clearInterval(ee),ee=void 0},1e3/50)),J},$.cancelAnimationFrame=function(te){var re,ie;for(re=0,ie=U.length;re<ie;re+=1)if(U[re][0]===te){U.splice(re,1);return}for(re=0,ie=Y.length;re<ie;re+=1)if(Y[re][0]===te){Y.splice(re,1);return}}}}(window);function getOffsetParent(w,B){return B&&w!=document.body?document.body:w.offsetParent}}(OpenSeadragon),function(w,B){module.exports?module.exports=B():w.OpenSeadragon=B()}(commonjsGlobal$1,function(){return OpenSeadragon}),function(w){var B={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(B.supportsFullScreen=!0,B.getFullScreenElement=function(){return document.fullscreenElement},B.requestFullScreen=function(j){return j.requestFullscreen()},B.exitFullScreen=function(){document.exitFullscreen()},B.fullScreenEventName="fullscreenchange",B.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(B.supportsFullScreen=!0,B.getFullScreenElement=function(){return document.msFullscreenElement},B.requestFullScreen=function(j){return j.msRequestFullscreen()},B.exitFullScreen=function(){document.msExitFullscreen()},B.fullScreenEventName="MSFullscreenChange",B.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(B.supportsFullScreen=!0,B.getFullScreenElement=function(){return document.webkitFullscreenElement},B.requestFullScreen=function(j){return j.webkitRequestFullscreen()},B.exitFullScreen=function(){document.webkitExitFullscreen()},B.fullScreenEventName="webkitfullscreenchange",B.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(B.supportsFullScreen=!0,B.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},B.requestFullScreen=function(j){return j.webkitRequestFullScreen()},B.exitFullScreen=function(){document.webkitCancelFullScreen()},B.fullScreenEventName="webkitfullscreenchange",B.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(B.supportsFullScreen=!0,B.getFullScreenElement=function(){return document.mozFullScreenElement},B.requestFullScreen=function(j){return j.mozRequestFullScreen()},B.exitFullScreen=function(){document.mozCancelFullScreen()},B.fullScreenEventName="mozfullscreenchange",B.fullScreenErrorEventName="mozfullscreenerror"),B.isFullScreen=function(){return B.getFullScreenElement()!==null},B.cancelFullScreen=function(){w.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),B.exitFullScreen()},w.extend(w,B)}(OpenSeadragon),function(w){w.EventSource=function(){this.events={}},w.EventSource.prototype={addOnceHandler:function(B,j,U,Y){var J=this;Y=Y||1;var ee=0,te=function(re){ee++,ee===Y&&J.removeHandler(B,te),j(re)};this.addHandler(B,te,U)},addHandler:function(B,j,U){var Y=this.events[B];Y||(this.events[B]=Y=[]),j&&w.isFunction(j)&&(Y[Y.length]={handler:j,userData:U||null})},removeHandler:function(B,j){var U=this.events[B],Y=[],J;if(!!U&&w.isArray(U)){for(J=0;J<U.length;J++)U[J].handler!==j&&Y.push(U[J]);this.events[B]=Y}},removeAllHandlers:function(B){if(B)this.events[B]=[];else for(var j in this.events)this.events[j]=[]},getHandler:function(B){var j=this.events[B];return!j||!j.length?null:(j=j.length===1?[j[0]]:Array.apply(null,j),function(U,Y){var J,ee=j.length;for(J=0;J<ee;J++)j[J]&&(Y.eventSource=U,Y.userData=j[J].userData,j[J].handler(Y))})},raiseEvent:function(B,j){var U=this.getHandler(B);U&&(j||(j={}),U(this,j))}}}(OpenSeadragon),function(w){var B=[],j={};w.MouseTracker=function(ge){B.push(this);var pe=arguments;w.isPlainObject(ge)||(ge={element:pe[0],clickTimeThreshold:pe[1],clickDistThreshold:pe[2]}),this.hash=Math.random(),this.element=w.getElement(ge.element),this.clickTimeThreshold=ge.clickTimeThreshold||w.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=ge.clickDistThreshold||w.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=ge.dblClickTimeThreshold||w.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=ge.dblClickDistThreshold||w.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=ge.userData||null,this.stopDelay=ge.stopDelay||50,this.enterHandler=ge.enterHandler||null,this.exitHandler=ge.exitHandler||null,this.pressHandler=ge.pressHandler||null,this.nonPrimaryPressHandler=ge.nonPrimaryPressHandler||null,this.releaseHandler=ge.releaseHandler||null,this.nonPrimaryReleaseHandler=ge.nonPrimaryReleaseHandler||null,this.moveHandler=ge.moveHandler||null,this.scrollHandler=ge.scrollHandler||null,this.clickHandler=ge.clickHandler||null,this.dblClickHandler=ge.dblClickHandler||null,this.dragHandler=ge.dragHandler||null,this.dragEndHandler=ge.dragEndHandler||null,this.pinchHandler=ge.pinchHandler||null,this.stopHandler=ge.stopHandler||null,this.keyDownHandler=ge.keyDownHandler||null,this.keyUpHandler=ge.keyUpHandler||null,this.keyHandler=ge.keyHandler||null,this.focusHandler=ge.focusHandler||null,this.blurHandler=ge.blurHandler||null;var Se=this;j[this.hash]={click:function(Te){we(Se,Te)},dblclick:function(Te){Ce(Se,Te)},keydown:function(Te){ae(Se,Te)},keyup:function(Te){ve(Se,Te)},keypress:function(Te){xe(Se,Te)},focus:function(Te){_e(Se,Te)},blur:function(Te){Pe(Se,Te)},wheel:function(Te){Me(Se,Te)},mousewheel:function(Te){je(Se,Te)},DOMMouseScroll:function(Te){je(Se,Te)},MozMousePixelScroll:function(Te){je(Se,Te)},mouseenter:function(Te){Ze(Se,Te)},mouseleave:function(Te){Fe(Se,Te)},mouseover:function(Te){Ue(Se,Te)},mouseout:function(Te){ht(Se,Te)},mousedown:function(Te){gt(Se,Te)},mouseup:function(Te){nt(Se,Te)},mouseupcaptured:function(Te){yt(Se,Te)},mousemove:function(Te){ln(Se,Te)},mousemovecaptured:function(Te){un(Se,Te)},touchstart:function(Te){Yn(Se,Te)},touchend:function(Te){Un(Se,Te)},touchendcaptured:function(Te){fn(Se,Te)},touchmove:function(Te){wn(Se,Te)},touchmovecaptured:function(Te){Cn(Se,Te)},touchcancel:function(Te){Nn(Se,Te)},gesturestart:function(Te){ke(Se,Te)},gesturechange:function(Te){oe(Se,Te)},pointerover:function(Te){me(Se,Te)},MSPointerOver:function(Te){me(Se,Te)},pointerout:function(Te){Ae(Se,Te)},MSPointerOut:function(Te){Ae(Se,Te)},pointerdown:function(Te){Re(Se,Te)},MSPointerDown:function(Te){Re(Se,Te)},pointerup:function(Te){Be(Se,Te)},MSPointerUp:function(Te){Be(Se,Te)},pointermove:function(Te){qe(Se,Te)},MSPointerMove:function(Te){qe(Se,Te)},pointercancel:function(Te){Ye(Se,Te)},MSPointerCancel:function(Te){Ye(Se,Te)},pointerupcaptured:function(Te){Xe(Se,Te)},pointermovecaptured:function(Te){ze(Se,Te)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},ge.startDisabled||this.setTracking(!0)},w.MouseTracker.prototype={destroy:function(){var ge;for(J(this),this.element=null,ge=0;ge<B.length;ge++)if(B[ge]===this){B.splice(ge,1);break}j[this.hash]=null,delete j[this.hash]},isTracking:function(){return j[this.hash].tracking},setTracking:function(ge){return ge?Y(this):J(this),this},getActivePointersListsExceptType:function(ge){for(var pe=j[this.hash],Se=[],Te=0;Te<pe.activePointersLists.length;++Te)pe.activePointersLists[Te].type!==ge&&Se.push(pe.activePointersLists[Te]);return Se},getActivePointersListByType:function(ge){var pe=j[this.hash],Se,Te=pe.activePointersLists.length,Qe;for(Se=0;Se<Te;Se++)if(pe.activePointersLists[Se].type===ge)return pe.activePointersLists[Se];return Qe=new w.MouseTracker.GesturePointList(ge),pe.activePointersLists.push(Qe),Qe},getActivePointerCount:function(){var ge=j[this.hash],pe,Se=ge.activePointersLists.length,Te=0;for(pe=0;pe<Se;pe++)Te+=ge.activePointersLists[pe].getLength();return Te},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},w.MouseTracker.resetAllMouseTrackers=function(){for(var ge=0;ge<B.length;ge++)B[ge].isTracking()&&(B[ge].setTracking(!1),B[ge].setTracking(!0))},w.MouseTracker.gesturePointVelocityTracker=function(){var ge=[],pe=0,Se=0,Te=function(ct,wt){return ct.hash.toString()+wt.type+wt.id.toString()},Qe=function(){var ct,wt=ge.length,Rt,Ft,Ie=w.now(),Le,Je,lt;for(Le=Ie-Se,Se=Ie,ct=0;ct<wt;ct++)Rt=ge[ct],Ft=Rt.gPoint,Ft.direction=Math.atan2(Ft.currentPos.y-Rt.lastPos.y,Ft.currentPos.x-Rt.lastPos.x),Je=Rt.lastPos.distanceTo(Ft.currentPos),Rt.lastPos=Ft.currentPos,lt=1e3*Je/(Le+1),Ft.speed=.75*lt+.25*Ft.speed},mt=function(ct,wt){var Rt=Te(ct,wt);ge.push({guid:Rt,gPoint:wt,lastPos:wt.currentPos}),ge.length===1&&(Se=w.now(),pe=window.setInterval(Qe,50))},dt=function(ct,wt){var Rt=Te(ct,wt),Ft,Ie=ge.length;for(Ft=0;Ft<Ie;Ft++)if(ge[Ft].guid===Rt){ge.splice(Ft,1),Ie--,Ie===0&&window.clearInterval(pe);break}};return{addPoint:mt,removePoint:dt}}(),w.MouseTracker.captureElement=document,w.MouseTracker.wheelEventName=w.Browser.vendor==w.BROWSERS.IE&&w.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",w.MouseTracker.supportsMouseCapture=function(){var ge=document.createElement("div");return w.isFunction(ge.setCapture)&&w.isFunction(ge.releaseCapture)}(),w.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",w.MouseTracker.wheelEventName],w.MouseTracker.wheelEventName=="DOMMouseScroll"&&w.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||w.Browser.vendor!==w.BROWSERS.IE)?(w.MouseTracker.havePointerEvents=!0,w.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),w.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?w.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:w.MouseTracker.maxTouchPoints=0,w.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(w.MouseTracker.havePointerEvents=!0,w.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),w.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?w.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:w.MouseTracker.maxTouchPoints=0,w.MouseTracker.haveMouseEnter=!1):(w.MouseTracker.havePointerEvents=!1,w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?(w.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),w.MouseTracker.haveMouseEnter=!0):(w.MouseTracker.subscribeEvents.push("mouseover","mouseout"),w.MouseTracker.haveMouseEnter=!1),w.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&w.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&w.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),w.MouseTracker.mousePointerId="legacy-mouse",w.MouseTracker.maxTouchPoints=10),w.MouseTracker.GesturePointList=function(ge){this._gPoints=[],this.type=ge,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},w.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(ge){return this._gPoints.push(ge)},removeById:function(ge){var pe,Se=this._gPoints.length;for(pe=0;pe<Se;pe++)if(this._gPoints[pe].id===ge){this._gPoints.splice(pe,1);break}return this._gPoints.length},getByIndex:function(ge){return ge<this._gPoints.length?this._gPoints[ge]:null},getById:function(ge){var pe,Se=this._gPoints.length;for(pe=0;pe<Se;pe++)if(this._gPoints[pe].id===ge)return this._gPoints[pe];return null},getPrimary:function(ge){var pe,Se=this._gPoints.length;for(pe=0;pe<Se;pe++)if(this._gPoints[pe].isPrimary)return this._gPoints[pe];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function U(ge){var pe=j[ge.hash],Se,Te=pe.activePointersLists.length;for(Se=0;Se<Te;Se++)pe.activePointersLists[Se].captureCount>0&&(w.removeEvent(w.MouseTracker.captureElement,"mousemove",pe.mousemovecaptured,!0),w.removeEvent(w.MouseTracker.captureElement,"mouseup",pe.mouseupcaptured,!0),w.removeEvent(w.MouseTracker.captureElement,w.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",pe.pointermovecaptured,!0),w.removeEvent(w.MouseTracker.captureElement,w.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",pe.pointerupcaptured,!0),w.removeEvent(w.MouseTracker.captureElement,"touchmove",pe.touchmovecaptured,!0),w.removeEvent(w.MouseTracker.captureElement,"touchend",pe.touchendcaptured,!0),pe.activePointersLists[Se].captureCount=0);for(Se=0;Se<Te;Se++)pe.activePointersLists.pop()}function Y(ge){var pe=j[ge.hash],Se,Te;if(!pe.tracking){for(Te=0;Te<w.MouseTracker.subscribeEvents.length;Te++)Se=w.MouseTracker.subscribeEvents[Te],w.addEvent(ge.element,Se,pe[Se],!1);U(ge),pe.tracking=!0}}function J(ge){var pe=j[ge.hash],Se,Te;if(pe.tracking){for(Te=0;Te<w.MouseTracker.subscribeEvents.length;Te++)Se=w.MouseTracker.subscribeEvents[Te],w.removeEvent(ge.element,Se,pe[Se],!1);U(ge),pe.tracking=!1}}function ee(ge,pe){var Se=j[ge.hash];if(pe==="pointerevent")return{upName:w.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:Se.pointerupcaptured,moveName:w.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:Se.pointermovecaptured};if(pe==="mouse")return{upName:"mouseup",upHandler:Se.mouseupcaptured,moveName:"mousemove",moveHandler:Se.mousemovecaptured};if(pe==="touch")return{upName:"touchend",upHandler:Se.touchendcaptured,moveName:"touchmove",moveHandler:Se.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function te(ge,pe,Se){var Te=ge.getActivePointersListByType(pe),Qe;Te.captureCount+=Se||1,Te.captureCount===1&&(w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?ge.element.setCapture(!0):(Qe=ee(ge,w.MouseTracker.havePointerEvents?"pointerevent":pe),sn&&Wn(window.top)&&w.addEvent(window.top,Qe.upName,Qe.upHandler,!0),w.addEvent(w.MouseTracker.captureElement,Qe.upName,Qe.upHandler,!0),w.addEvent(w.MouseTracker.captureElement,Qe.moveName,Qe.moveHandler,!0)))}function re(ge,pe,Se){var Te=ge.getActivePointersListByType(pe),Qe;Te.captureCount-=Se||1,Te.captureCount===0&&(w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?ge.element.releaseCapture():(Qe=ee(ge,w.MouseTracker.havePointerEvents?"pointerevent":pe),sn&&Wn(window.top)&&w.removeEvent(window.top,Qe.upName,Qe.upHandler,!0),w.removeEvent(w.MouseTracker.captureElement,Qe.moveName,Qe.moveHandler,!0),w.removeEvent(w.MouseTracker.captureElement,Qe.upName,Qe.upHandler,!0)))}function ie(ge){var pe;if(w.MouseTracker.unprefixedPointerEvents)pe=ge.pointerType;else switch(ge.pointerType){case 2:pe="touch";break;case 3:pe="pen";break;case 4:pe="mouse";break;default:pe=""}return pe}function ce(ge){return w.getMousePosition(ge)}function fe(ge,pe){return le(ce(ge),pe)}function le(ge,pe){var Se=w.getElementOffset(pe);return ge.minus(Se)}function ye(ge,pe){return new w.Point((ge.x+pe.x)/2,(ge.y+pe.y)/2)}function we(ge,pe){ge.clickHandler&&w.cancelEvent(pe)}function Ce(ge,pe){ge.dblClickHandler&&w.cancelEvent(pe)}function ae(ge,pe){var Se;ge.keyDownHandler&&(pe=w.getEvent(pe),Se=ge.keyDownHandler({eventSource:ge,keyCode:pe.keyCode?pe.keyCode:pe.charCode,ctrl:pe.ctrlKey,shift:pe.shiftKey,alt:pe.altKey,meta:pe.metaKey,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Se||w.cancelEvent(pe))}function ve(ge,pe){var Se;ge.keyUpHandler&&(pe=w.getEvent(pe),Se=ge.keyUpHandler({eventSource:ge,keyCode:pe.keyCode?pe.keyCode:pe.charCode,ctrl:pe.ctrlKey,shift:pe.shiftKey,alt:pe.altKey,meta:pe.metaKey,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Se||w.cancelEvent(pe))}function xe(ge,pe){var Se;ge.keyHandler&&(pe=w.getEvent(pe),Se=ge.keyHandler({eventSource:ge,keyCode:pe.keyCode?pe.keyCode:pe.charCode,ctrl:pe.ctrlKey,shift:pe.shiftKey,alt:pe.altKey,meta:pe.metaKey,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Se||w.cancelEvent(pe))}function _e(ge,pe){var Se;ge.focusHandler&&(pe=w.getEvent(pe),Se=ge.focusHandler({eventSource:ge,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Se===!1&&w.cancelEvent(pe))}function Pe(ge,pe){var Se;ge.blurHandler&&(pe=w.getEvent(pe),Se=ge.blurHandler({eventSource:ge,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Se===!1&&w.cancelEvent(pe))}function Me(ge,pe){Ve(ge,pe,pe)}function je(ge,pe){pe=w.getEvent(pe);var Se={target:pe.target||pe.srcElement,type:"wheel",shiftKey:pe.shiftKey||!1,clientX:pe.clientX,clientY:pe.clientY,pageX:pe.pageX?pe.pageX:pe.clientX,pageY:pe.pageY?pe.pageY:pe.clientY,deltaMode:pe.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};w.MouseTracker.wheelEventName=="mousewheel"?Se.deltaY=-pe.wheelDelta/w.DEFAULT_SETTINGS.pixelsPerWheelLine:Se.deltaY=pe.detail,Ve(ge,Se,pe)}function Ve(ge,pe,Se){var Te=0,Qe;Te=pe.deltaY<0?1:-1,ge.scrollHandler&&(Qe=ge.scrollHandler({eventSource:ge,pointerType:"mouse",position:fe(pe,ge.element),scroll:Te,shift:pe.shiftKey,isTouchEvent:!1,originalEvent:Se,preventDefaultAction:!1,userData:ge.userData}),Qe===!1&&w.cancelEvent(Se))}function He(ge,pe){if(ge===pe)return!1;for(;pe&&pe!==ge;)pe=pe.parentNode;return pe===ge}function Ze(ge,pe){pe=w.getEvent(pe),it(ge,pe)}function Ue(ge,pe){pe=w.getEvent(pe),!(pe.currentTarget===pe.relatedTarget||He(pe.currentTarget,pe.relatedTarget))&&it(ge,pe)}function it(ge,pe){var Se={id:w.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:ce(pe),currentTime:w.now()};vt(ge,pe,[Se])}function Fe(ge,pe){pe=w.getEvent(pe),ft(ge,pe)}function ht(ge,pe){pe=w.getEvent(pe),!(pe.currentTarget===pe.relatedTarget||He(pe.currentTarget,pe.relatedTarget))&&ft(ge,pe)}function ft(ge,pe){var Se={id:w.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:ce(pe),currentTime:w.now()};kt(ge,pe,[Se])}function St(ge){return w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?ge===1?0:ge===2?2:ge===4?1:-1:ge}function gt(ge,pe){var Se;pe=w.getEvent(pe),Se={id:w.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:ce(pe),currentTime:w.now()},Bt(ge,pe,[Se],St(pe.button))&&(w.stopEvent(pe),te(ge,"mouse")),(ge.clickHandler||ge.dblClickHandler||ge.pressHandler||ge.dragHandler||ge.dragEndHandler)&&w.cancelEvent(pe)}function nt(ge,pe){$t(ge,pe)}function yt(ge,pe){$t(ge,pe),w.stopEvent(pe)}function $t(ge,pe){var Se;pe=w.getEvent(pe),Se={id:w.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:ce(pe),currentTime:w.now()},It(ge,pe,[Se],St(pe.button))&&re(ge,"mouse")}function ln(ge,pe){on(ge,pe)}function un(ge,pe){on(ge,pe),w.stopEvent(pe)}function on(ge,pe){var Se;pe=w.getEvent(pe),Se={id:w.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:ce(pe),currentTime:w.now()},jt(ge,pe,[Se])}function tn(ge,pe,Se){var Te,Qe=Se.getLength(),mt=[];if(Se.type==="touch"||Se.contacts>0){for(Te=0;Te<Qe;Te++)mt.push(Se.getByIndex(Te));mt.length>0&&(It(ge,pe,mt,0),Se.captureCount=1,re(ge,Se.type),kt(ge,pe,mt))}}function Yn(ge,pe){var Se,Te,Qe,mt=pe.changedTouches.length,dt=[],ct,wt=ge.getActivePointersListByType("touch");for(Se=w.now(),wt.getLength()>pe.touches.length-mt&&(w.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),tn(ge,pe,wt)),Te=0;Te<mt;Te++)dt.push({id:pe.changedTouches[Te].identifier,type:"touch",currentPos:ce(pe.changedTouches[Te]),currentTime:Se});for(vt(ge,pe,dt),Te=0;Te<B.length;Te++)if(B[Te]!==ge&&B[Te].isTracking()&&He(B[Te].element,ge.element)){for(ct=[],Qe=0;Qe<mt;Qe++)ct.push({id:pe.changedTouches[Qe].identifier,type:"touch",currentPos:ce(pe.changedTouches[Qe]),currentTime:Se});vt(B[Te],pe,ct)}Bt(ge,pe,dt,0)&&(w.stopEvent(pe),te(ge,"touch",mt)),w.cancelEvent(pe)}function Un(ge,pe){nn(ge,pe)}function fn(ge,pe){nn(ge,pe),w.stopEvent(pe)}function nn(ge,pe){var Se,Te,Qe,mt=pe.changedTouches.length,dt=[],ct;for(Se=w.now(),Te=0;Te<mt;Te++)dt.push({id:pe.changedTouches[Te].identifier,type:"touch",currentPos:ce(pe.changedTouches[Te]),currentTime:Se});for(It(ge,pe,dt,0)&&re(ge,"touch",mt),kt(ge,pe,dt),Te=0;Te<B.length;Te++)if(B[Te]!==ge&&B[Te].isTracking()&&He(B[Te].element,ge.element)){for(ct=[],Qe=0;Qe<mt;Qe++)ct.push({id:pe.changedTouches[Qe].identifier,type:"touch",currentPos:ce(pe.changedTouches[Qe]),currentTime:Se});kt(B[Te],pe,ct)}w.cancelEvent(pe)}function wn(ge,pe){Pn(ge,pe)}function Cn(ge,pe){Pn(ge,pe),w.stopEvent(pe)}function Pn(ge,pe){var Se,Te=pe.changedTouches.length,Qe=[];for(Se=0;Se<Te;Se++)Qe.push({id:pe.changedTouches[Se].identifier,type:"touch",currentPos:ce(pe.changedTouches[Se]),currentTime:w.now()});jt(ge,pe,Qe),w.cancelEvent(pe)}function Nn(ge,pe){var Se=ge.getActivePointersListByType("touch");tn(ge,pe,Se)}function ke(ge,pe){return pe.stopPropagation(),pe.preventDefault(),!1}function oe(ge,pe){return pe.stopPropagation(),pe.preventDefault(),!1}function me(ge,pe){var Se;pe.currentTarget===pe.relatedTarget||He(pe.currentTarget,pe.relatedTarget)||(Se={id:pe.pointerId,type:ie(pe),isPrimary:pe.isPrimary,currentPos:ce(pe),currentTime:w.now()},vt(ge,pe,[Se]))}function Ae(ge,pe){var Se;pe.currentTarget===pe.relatedTarget||He(pe.currentTarget,pe.relatedTarget)||(Se={id:pe.pointerId,type:ie(pe),isPrimary:pe.isPrimary,currentPos:ce(pe),currentTime:w.now()},kt(ge,pe,[Se]))}function Re(ge,pe){var Se;Se={id:pe.pointerId,type:ie(pe),isPrimary:pe.isPrimary,currentPos:ce(pe),currentTime:w.now()},Bt(ge,pe,[Se],pe.button)&&(w.stopEvent(pe),te(ge,Se.type)),(ge.clickHandler||ge.dblClickHandler||ge.pressHandler||ge.dragHandler||ge.dragEndHandler||ge.pinchHandler)&&w.cancelEvent(pe)}function Be(ge,pe){Ne(ge,pe)}function Xe(ge,pe){var Se=ge.getActivePointersListByType(ie(pe));Se.getById(pe.pointerId)&&Ne(ge,pe),w.stopEvent(pe)}function Ne(ge,pe){var Se;Se={id:pe.pointerId,type:ie(pe),isPrimary:pe.isPrimary,currentPos:ce(pe),currentTime:w.now()},It(ge,pe,[Se],pe.button)&&re(ge,Se.type)}function qe(ge,pe){et(ge,pe)}function ze(ge,pe){var Se=ge.getActivePointersListByType(ie(pe));Se.getById(pe.pointerId)&&et(ge,pe),w.stopEvent(pe)}function et(ge,pe){var Se;Se={id:pe.pointerId,type:ie(pe),isPrimary:pe.isPrimary,currentPos:ce(pe),currentTime:w.now()},jt(ge,pe,[Se])}function Ye(ge,pe){var Se;Se={id:pe.pointerId,type:ie(pe)},qt(ge,pe,[Se])}function Ke(ge,pe){return Object.prototype.hasOwnProperty.call(pe,"isPrimary")||(ge.getLength()===0?pe.isPrimary=!0:pe.isPrimary=!1),pe.speed=0,pe.direction=0,pe.contactPos=pe.currentPos,pe.contactTime=pe.currentTime,pe.lastPos=pe.currentPos,pe.lastTime=pe.currentTime,ge.add(pe)}function rt(ge,pe){var Se,Te;return ge.getById(pe.id)?(Se=ge.removeById(pe.id),Object.prototype.hasOwnProperty.call(pe,"isPrimary")||(Te=ge.getPrimary(),Te||(Te=ge.getByIndex(0),Te&&(Te.isPrimary=!0)))):Se=ge.getLength(),Se}function vt(ge,pe,Se){var Te=ge.getActivePointersListByType(Se[0].type),Qe,mt=Se.length,dt,ct,wt;for(Qe=0;Qe<mt;Qe++)dt=Se[Qe],ct=Te.getById(dt.id),ct?(ct.insideElement=!0,ct.lastPos=ct.currentPos,ct.lastTime=ct.currentTime,ct.currentPos=dt.currentPos,ct.currentTime=dt.currentTime,dt=ct):(dt.captured=!1,dt.insideElementPressed=!1,dt.insideElement=!0,Ke(Te,dt)),ge.enterHandler&&(wt=ge.enterHandler({eventSource:ge,pointerType:dt.type,position:le(dt.currentPos,ge.element),buttons:Te.buttons,pointers:ge.getActivePointerCount(),insideElementPressed:dt.insideElementPressed,buttonDownAny:Te.buttons!==0,isTouchEvent:dt.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),wt===!1&&w.cancelEvent(pe))}function kt(ge,pe,Se){var Te=ge.getActivePointersListByType(Se[0].type),Qe,mt=Se.length,dt,ct,wt;for(Qe=0;Qe<mt;Qe++)dt=Se[Qe],ct=Te.getById(dt.id),ct&&(ct.captured?(ct.insideElement=!1,ct.lastPos=ct.currentPos,ct.lastTime=ct.currentTime,ct.currentPos=dt.currentPos,ct.currentTime=dt.currentTime):rt(Te,ct),dt=ct),ge.exitHandler&&(wt=ge.exitHandler({eventSource:ge,pointerType:dt.type,position:dt.currentPos&&le(dt.currentPos,ge.element),buttons:Te.buttons,pointers:ge.getActivePointerCount(),insideElementPressed:ct?ct.insideElementPressed:!1,buttonDownAny:Te.buttons!==0,isTouchEvent:dt.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),wt===!1&&w.cancelEvent(pe))}function Bt(ge,pe,Se,Te){var Qe=j[ge.hash],mt,dt=ge.getActivePointersListByType(Se[0].type),ct,wt=Se.length,Rt,Ft;typeof pe.buttons<"u"?dt.buttons=pe.buttons:w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?Te===0?dt.buttons+=1:Te===1?dt.buttons+=4:Te===2?dt.buttons+=2:Te===3?dt.buttons+=8:Te===4?dt.buttons+=16:Te===5&&(dt.buttons+=32):Te===0?dt.buttons|=1:Te===1?dt.buttons|=4:Te===2?dt.buttons|=2:Te===3?dt.buttons|=8:Te===4?dt.buttons|=16:Te===5&&(dt.buttons|=32);var Ie=ge.getActivePointersListsExceptType(Se[0].type);for(ct=0;ct<Ie.length;ct++)tn(ge,pe,Ie[ct]);if(Te!==0)return ge.nonPrimaryPressHandler&&(mt=ge.nonPrimaryPressHandler({eventSource:ge,pointerType:Se[0].type,position:le(Se[0].currentPos,ge.element),button:Te,buttons:dt.buttons,isTouchEvent:Se[0].type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),mt===!1&&w.cancelEvent(pe)),!1;for(ct=0;ct<wt;ct++)Rt=Se[ct],Ft=dt.getById(Rt.id),Ft?(Ft.captured=!0,Ft.insideElementPressed=!0,Ft.insideElement=!0,Ft.contactPos=Rt.currentPos,Ft.contactTime=Rt.currentTime,Ft.lastPos=Ft.currentPos,Ft.lastTime=Ft.currentTime,Ft.currentPos=Rt.currentPos,Ft.currentTime=Rt.currentTime,Rt=Ft):(Rt.captured=!0,Rt.insideElementPressed=!0,Rt.insideElement=!0,Ke(dt,Rt)),dt.addContact(),(ge.dragHandler||ge.dragEndHandler||ge.pinchHandler)&&w.MouseTracker.gesturePointVelocityTracker.addPoint(ge,Rt),dt.contacts===1?ge.pressHandler&&(mt=ge.pressHandler({eventSource:ge,pointerType:Rt.type,position:le(Rt.contactPos,ge.element),buttons:dt.buttons,isTouchEvent:Rt.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),mt===!1&&w.cancelEvent(pe)):dt.contacts===2&&ge.pinchHandler&&Rt.type==="touch"&&(Qe.pinchGPoints=dt.asArray(),Qe.lastPinchDist=Qe.currentPinchDist=Qe.pinchGPoints[0].currentPos.distanceTo(Qe.pinchGPoints[1].currentPos),Qe.lastPinchCenter=Qe.currentPinchCenter=ye(Qe.pinchGPoints[0].currentPos,Qe.pinchGPoints[1].currentPos));return!0}function It(ge,pe,Se,Te){var Qe=j[ge.hash],mt=ge.getActivePointersListByType(Se[0].type),dt,ct,wt,Rt,Ft=Se.length,Ie,Le,Je=!1,lt=!1,Mt;if(typeof pe.buttons<"u"?mt.buttons=pe.buttons:w.Browser.vendor===w.BROWSERS.IE&&w.Browser.version<9?Te===0?mt.buttons-=1:Te===1?mt.buttons-=4:Te===2?mt.buttons-=2:Te===3?mt.buttons-=8:Te===4?mt.buttons-=16:Te===5&&(mt.buttons-=32):Te===0?mt.buttons^=-2:Te===1?mt.buttons^=-5:Te===2?mt.buttons^=-3:Te===3?mt.buttons^=-9:Te===4?mt.buttons^=-17:Te===5&&(mt.buttons^=-33),Te!==0){ge.nonPrimaryReleaseHandler&&(dt=ge.nonPrimaryReleaseHandler({eventSource:ge,pointerType:Se[0].type,position:le(Se[0].currentPos,ge.element),button:Te,buttons:mt.buttons,isTouchEvent:Se[0].type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe));var Dt=ge.getActivePointersListByType("mouse");return tn(ge,pe,Dt),!1}if(typeof Se[0].currentPos>"u")return tn(ge,pe,mt),!1;for(Rt=0;Rt<Ft;Rt++)Ie=Se[Rt],Le=mt.getById(Ie.id),Le&&(Le.captured&&(Le.captured=!1,Je=!0,lt=!0),Le.lastPos=Le.currentPos,Le.lastTime=Le.currentTime,Le.currentPos=Ie.currentPos,Le.currentTime=Ie.currentTime,Le.insideElement||rt(mt,Le),ct=Le.currentPos,wt=Le.currentTime,lt?(mt.removeContact(),(ge.dragHandler||ge.dragEndHandler||ge.pinchHandler)&&w.MouseTracker.gesturePointVelocityTracker.removePoint(ge,Le),mt.contacts===0?(ge.releaseHandler&&(dt=ge.releaseHandler({eventSource:ge,pointerType:Le.type,position:le(ct,ge.element),buttons:mt.buttons,insideElementPressed:Le.insideElementPressed,insideElementReleased:Le.insideElement,isTouchEvent:Le.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe)),ge.dragEndHandler&&!Le.currentPos.equals(Le.contactPos)&&(dt=ge.dragEndHandler({eventSource:ge,pointerType:Le.type,position:le(Le.currentPos,ge.element),speed:Le.speed,direction:Le.direction,shift:pe.shiftKey,isTouchEvent:Le.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe)),(ge.clickHandler||ge.dblClickHandler)&&Le.insideElement&&(Mt=wt-Le.contactTime<=ge.clickTimeThreshold&&Le.contactPos.distanceTo(ct)<=ge.clickDistThreshold,ge.clickHandler&&(dt=ge.clickHandler({eventSource:ge,pointerType:Le.type,position:le(Le.currentPos,ge.element),quick:Mt,shift:pe.shiftKey,isTouchEvent:Le.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe)),ge.dblClickHandler&&Mt&&(mt.clicks++,mt.clicks===1?(Qe.lastClickPos=ct,Qe.dblClickTimeOut=setTimeout(function(){mt.clicks=0},ge.dblClickTimeThreshold)):mt.clicks===2&&(clearTimeout(Qe.dblClickTimeOut),mt.clicks=0,Qe.lastClickPos.distanceTo(ct)<=ge.dblClickDistThreshold&&(dt=ge.dblClickHandler({eventSource:ge,pointerType:Le.type,position:le(Le.currentPos,ge.element),shift:pe.shiftKey,isTouchEvent:Le.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe)),Qe.lastClickPos=null)))):mt.contacts===2&&ge.pinchHandler&&Le.type==="touch"&&(Qe.pinchGPoints=mt.asArray(),Qe.lastPinchDist=Qe.currentPinchDist=Qe.pinchGPoints[0].currentPos.distanceTo(Qe.pinchGPoints[1].currentPos),Qe.lastPinchCenter=Qe.currentPinchCenter=ye(Qe.pinchGPoints[0].currentPos,Qe.pinchGPoints[1].currentPos))):ge.releaseHandler&&(dt=ge.releaseHandler({eventSource:ge,pointerType:Le.type,position:le(ct,ge.element),buttons:mt.buttons,insideElementPressed:Le.insideElementPressed,insideElementReleased:Le.insideElement,isTouchEvent:Le.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),dt===!1&&w.cancelEvent(pe)));return Je}function jt(ge,pe,Se){var Te=j[ge.hash],Qe=ge.getActivePointersListByType(Se[0].type),mt,dt=Se.length,ct,wt,Rt,Ft,Ie;for(typeof pe.buttons<"u"&&(Qe.buttons=pe.buttons),mt=0;mt<dt;mt++)ct=Se[mt],wt=Qe.getById(ct.id),wt?(Object.prototype.hasOwnProperty.call(ct,"isPrimary")&&(wt.isPrimary=ct.isPrimary),wt.lastPos=wt.currentPos,wt.lastTime=wt.currentTime,wt.currentPos=ct.currentPos,wt.currentTime=ct.currentTime):(ct.captured=!1,ct.insideElementPressed=!1,ct.insideElement=!0,Ke(Qe,ct));ge.stopHandler&&Se[0].type==="mouse"&&(clearTimeout(ge.stopTimeOut),ge.stopTimeOut=setTimeout(function(){Ln(ge,pe,Se[0].type)},ge.stopDelay)),Qe.contacts===0?ge.moveHandler&&(Ie=ge.moveHandler({eventSource:ge,pointerType:Se[0].type,position:le(Se[0].currentPos,ge.element),buttons:Qe.buttons,isTouchEvent:Se[0].type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Ie===!1&&w.cancelEvent(pe)):Qe.contacts===1?(ge.moveHandler&&(wt=Qe.asArray()[0],Ie=ge.moveHandler({eventSource:ge,pointerType:wt.type,position:le(wt.currentPos,ge.element),buttons:Qe.buttons,isTouchEvent:wt.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Ie===!1&&w.cancelEvent(pe)),ge.dragHandler&&(wt=Qe.asArray()[0],Ft=wt.currentPos.minus(wt.lastPos),Ie=ge.dragHandler({eventSource:ge,pointerType:wt.type,position:le(wt.currentPos,ge.element),buttons:Qe.buttons,delta:Ft,speed:wt.speed,direction:wt.direction,shift:pe.shiftKey,isTouchEvent:wt.type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Ie===!1&&w.cancelEvent(pe))):Qe.contacts===2&&(ge.moveHandler&&(Rt=Qe.asArray(),Ie=ge.moveHandler({eventSource:ge,pointerType:Rt[0].type,position:le(ye(Rt[0].currentPos,Rt[1].currentPos),ge.element),buttons:Qe.buttons,isTouchEvent:Rt[0].type==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Ie===!1&&w.cancelEvent(pe)),ge.pinchHandler&&Se[0].type==="touch"&&(Ft=Te.pinchGPoints[0].currentPos.distanceTo(Te.pinchGPoints[1].currentPos),Ft!=Te.currentPinchDist&&(Te.lastPinchDist=Te.currentPinchDist,Te.currentPinchDist=Ft,Te.lastPinchCenter=Te.currentPinchCenter,Te.currentPinchCenter=ye(Te.pinchGPoints[0].currentPos,Te.pinchGPoints[1].currentPos),Ie=ge.pinchHandler({eventSource:ge,pointerType:"touch",gesturePoints:Te.pinchGPoints,lastCenter:le(Te.lastPinchCenter,ge.element),center:le(Te.currentPinchCenter,ge.element),lastDistance:Te.lastPinchDist,distance:Te.currentPinchDist,shift:pe.shiftKey,originalEvent:pe,preventDefaultAction:!1,userData:ge.userData}),Ie===!1&&w.cancelEvent(pe))))}function qt(ge,pe,Se){It(ge,pe,Se,0),kt(ge,pe,Se)}function Ln(ge,pe,Se){ge.stopHandler&&ge.stopHandler({eventSource:ge,pointerType:Se,position:fe(pe,ge.element),buttons:ge.getActivePointersListByType(Se).buttons,isTouchEvent:Se==="touch",originalEvent:pe,preventDefaultAction:!1,userData:ge.userData})}var sn=function(){try{return window.self!==window.top}catch{return!0}}();function Wn(ge){try{return ge.addEventListener&&ge.removeEventListener}catch{return!1}}}(OpenSeadragon),function(w){w.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},w.Control=function(B,j,U){var Y=B.parentNode;typeof j=="number"&&(w.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),j={anchor:j}),j.attachToViewer=typeof j.attachToViewer>"u"?!0:j.attachToViewer,this.autoFade=typeof j.autoFade>"u"?!0:j.autoFade,this.element=B,this.anchor=j.anchor,this.container=U,this.anchor==w.ControlAnchor.ABSOLUTE?(this.wrapper=w.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof j.top=="number"?j.top+"px":j.top,this.wrapper.style.left=typeof j.left=="number"?j.left+"px":j.left,this.wrapper.style.height=typeof j.height=="number"?j.height+"px":j.height,this.wrapper.style.width=typeof j.width=="number"?j.width+"px":j.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=w.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==w.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),j.attachToViewer?this.anchor==w.ControlAnchor.TOP_RIGHT||this.anchor==w.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):Y.appendChild(this.wrapper)},w.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(B){this.wrapper.style.display=B?this.anchor==w.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(B){this.element[w.SIGNAL]&&w.Browser.vendor==w.BROWSERS.IE?w.setElementOpacity(this.element,B,!0):w.setElementOpacity(this.wrapper,B,!0)}}}(OpenSeadragon),function(w){w.ControlDock=function(j){var U=["topleft","topright","bottomright","bottomleft"],Y,J;for(w.extend(!0,this,{id:"controldock-"+w.now()+"-"+Math.floor(Math.random()*1e6),container:w.makeNeutralElement("div"),controls:[]},j),this.container.onsubmit=function(){return!1},this.element&&(this.element=w.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),J=0;J<U.length;J++)Y=U[J],this.controls[Y]=w.makeNeutralElement("div"),this.controls[Y].style.position="absolute",Y.match("left")&&(this.controls[Y].style.left="0px"),Y.match("right")&&(this.controls[Y].style.right="0px"),Y.match("top")&&(this.controls[Y].style.top="0px"),Y.match("bottom")&&(this.controls[Y].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},w.ControlDock.prototype={addControl:function(j,U){j=w.getElement(j);var Y=null;if(!(B(this,j)>=0)){switch(U.anchor){case w.ControlAnchor.TOP_RIGHT:Y=this.controls.topright,j.style.position="relative",j.style.paddingRight="0px",j.style.paddingTop="0px";break;case w.ControlAnchor.BOTTOM_RIGHT:Y=this.controls.bottomright,j.style.position="relative",j.style.paddingRight="0px",j.style.paddingBottom="0px";break;case w.ControlAnchor.BOTTOM_LEFT:Y=this.controls.bottomleft,j.style.position="relative",j.style.paddingLeft="0px",j.style.paddingBottom="0px";break;case w.ControlAnchor.TOP_LEFT:Y=this.controls.topleft,j.style.position="relative",j.style.paddingLeft="0px",j.style.paddingTop="0px";break;case w.ControlAnchor.ABSOLUTE:Y=this.container,j.style.margin="0px",j.style.padding="0px";break;default:case w.ControlAnchor.NONE:Y=this.container,j.style.margin="0px",j.style.padding="0px";break}this.controls.push(new w.Control(j,U,Y)),j.style.display="inline-block"}},removeControl:function(j){j=w.getElement(j);var U=B(this,j);return U>=0&&(this.controls[U].destroy(),this.controls.splice(U,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var j;for(j=this.controls.length-1;j>=0;j--)if(this.controls[j].isVisible())return!0;return!1},setControlsEnabled:function(j){var U;for(U=this.controls.length-1;U>=0;U--)this.controls[U].setVisible(j);return this}};function B(j,U){var Y=j.controls,J;for(J=Y.length-1;J>=0;J--)if(Y[J].element==U)return J;return-1}}(OpenSeadragon),function(w){w.Placement=w.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(w){var B={},j=1;w.Viewer=function(oe){var me=arguments,Ae=this,Re;if(w.isPlainObject(oe)||(oe={id:me[0],xmlPath:me.length>1?me[1]:void 0,prefixUrl:me.length>2?me[2]:void 0,controls:me.length>3?me[3]:void 0,overlays:me.length>4?me[4]:void 0}),oe.config&&(w.extend(!0,oe,oe.config),delete oe.config),w.extend(!0,this,{id:oe.id,hash:oe.hash||j++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},w.DEFAULT_SETTINGS,oe),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof B[this.hash]<"u"&&w.console.warn("Hash "+this.hash+" has already been used."),B[this.hash]={fsBoundsDelta:new w.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=w.now(),w.EventSource.call(this),this.addHandler("open-failed",function(Be){var Xe=w.getString("Errors.OpenFailed",Be.eventSource,Be.message);Ae._showMessage(Xe)}),w.ControlDock.call(this,oe),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=w.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(Be){Be.width="100%",Be.height="100%",Be.overflow="hidden",Be.position="absolute",Be.top="0px",Be.left="0px"}(this.canvas.style),w.setElementTouchActionNone(this.canvas),oe.tabIndex!==""&&(this.canvas.tabIndex=oe.tabIndex===void 0?0:oe.tabIndex),this.container.className="openseadragon-container",function(Be){Be.width="100%",Be.height="100%",Be.position="relative",Be.overflow="hidden",Be.left="0px",Be.top="0px",Be.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new w.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:w.delegate(this,we),keyHandler:w.delegate(this,Ce),clickHandler:w.delegate(this,ae),dblClickHandler:w.delegate(this,ve),dragHandler:w.delegate(this,xe),dragEndHandler:w.delegate(this,_e),enterHandler:w.delegate(this,Pe),exitHandler:w.delegate(this,Me),pressHandler:w.delegate(this,je),releaseHandler:w.delegate(this,Ve),nonPrimaryPressHandler:w.delegate(this,He),nonPrimaryReleaseHandler:w.delegate(this,Ze),scrollHandler:w.delegate(this,it),pinchHandler:w.delegate(this,Ue)}),this.outerTracker=new w.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:w.delegate(this,Fe),exitHandler:w.delegate(this,ht)}),this.toolbar&&(this.toolbar=new w.ControlDock({element:this.toolbar})),this.bindStandardControls(),B[this.hash].prevContainerSize=U(this.container),this.world=new w.World({viewer:this}),this.world.addHandler("add-item",function(Be){Ae.source=Ae.world.getItemAt(0).source,B[Ae.hash].forceRedraw=!0,Ae._updateRequestId||(Ae._updateRequestId=te(Ae,ft))}),this.world.addHandler("remove-item",function(Be){Ae.world.getItemCount()?Ae.source=Ae.world.getItemAt(0).source:Ae.source=null,B[Ae.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(Be){Ae.viewport&&Ae.viewport._setContentBounds(Ae.world.getHomeBounds(),Ae.world.getContentFactor())}),this.world.addHandler("item-index-change",function(Be){Ae.source=Ae.world.getItemAt(0).source}),this.viewport=new w.Viewport({containerSize:B[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new w.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:oe.timeout}),this.tileCache=new w.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new w.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=w.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Re=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(Re,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Re=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(Re,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new w.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Re=0;Re<this.customControls.length;Re++)this.addControl(this.customControls[Re].id,{anchor:this.customControls[Re].anchor});w.requestAnimationFrame(function(){ie(Ae)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},w.extend(w.Viewer.prototype,w.EventSource.prototype,w.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(oe){return w.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(oe)},openTileSource:function(oe){return w.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(oe)},open:function(oe,me){var Ae=this;if(this.close(),!!oe){if(this.sequenceMode&&w.isArray(oe)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof me<"u"&&!isNaN(me)&&(this.initialPage=me),this.tileSources=oe,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(w.isArray(oe)||(oe=[oe]),!!oe.length){this._opening=!0;for(var Re=oe.length,Be=0,Xe=0,Ne,qe=function(){if(Be+Xe===Re)if(Be){(Ae._firstOpen||!Ae.preserveViewport)&&(Ae.viewport.goHome(!0),Ae.viewport.update()),Ae._firstOpen=!1;var Ye=oe[0];if(Ye.tileSource&&(Ye=Ye.tileSource),Ae.overlays&&!Ae.preserveOverlays)for(var Ke=0;Ke<Ae.overlays.length;Ke++)Ae.currentOverlays[Ke]=J(Ae,Ae.overlays[Ke]);Ae._drawOverlays(),Ae._opening=!1,Ae.raiseEvent("open",{source:Ye})}else Ae._opening=!1,Ae.raiseEvent("open-failed",Ne)},ze=function(Ye){(!w.isPlainObject(Ye)||!Ye.tileSource)&&(Ye={tileSource:Ye}),Ye.index!==void 0&&(w.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Ye.index),Ye.collectionImmediately===void 0&&(Ye.collectionImmediately=!0);var Ke=Ye.success;Ye.success=function(vt){if(Be++,Ye.tileSource.overlays)for(var kt=0;kt<Ye.tileSource.overlays.length;kt++)Ae.addOverlay(Ye.tileSource.overlays[kt]);Ke&&Ke(vt),qe()};var rt=Ye.error;Ye.error=function(vt){Xe++,Ne||(Ne=vt),rt&&rt(vt),qe()},Ae.addTiledImage(Ye)},et=0;et<oe.length;et++)ze(oe[et]);return this}}},close:function(){return B[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),B[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!B[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(w.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),B[this.hash]=null,delete B[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(oe){return this.innerTracker.setTracking(oe),this.outerTracker.setTracking(oe),this.raiseEvent("mouse-enabled",{enabled:oe}),this},areControlsEnabled:function(){var oe=this.controls.length,me;for(me=0;me<this.controls.length;me++)oe=oe&&this.controls[me].isVisible();return oe},setControlsEnabled:function(oe){return oe?fe(this):ie(this),this.raiseEvent("controls-enabled",{enabled:oe}),this},setDebugMode:function(oe){for(var me=0;me<this.world.getItemCount();me++)this.world.getItemAt(me).debugMode=oe;this.debugMode=oe,this.forceRedraw()},isFullPage:function(){return B[this.hash].fullPage},setFullPage:function(oe){var me=document.body,Ae=me.style,Re=document.documentElement.style,Be=this,Xe,Ne;if(oe==this.isFullPage())return this;var qe={fullPage:oe,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",qe),qe.preventDefaultAction)return this;if(oe){for(this.elementSize=w.getElementSize(this.element),this.pageScroll=w.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Ae.margin,this.docMargin=Re.margin,Ae.margin="0",Re.margin="0",this.bodyPadding=Ae.padding,this.docPadding=Re.padding,Ae.padding="0",Re.padding="0",this.bodyWidth=Ae.width,this.docWidth=Re.width,Ae.width="100%",Re.width="100%",this.bodyHeight=Ae.height,this.docHeight=Re.height,Ae.height="100%",Re.height="100%",this.previousBody=[],B[this.hash].prevElementParent=this.element.parentNode,B[this.hash].prevNextSibling=this.element.nextSibling,B[this.hash].prevElementWidth=this.element.style.width,B[this.hash].prevElementHeight=this.element.style.height,Xe=me.childNodes.length,Ne=0;Ne<Xe;Ne++)this.previousBody.push(me.childNodes[0]),me.removeChild(me.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,me.appendChild(this.toolbar.element),w.addClass(this.toolbar.element,"fullpage")),w.addClass(this.element,"fullpage"),me.appendChild(this.element),this.element.style.height=w.getWindowSize().y+"px",this.element.style.width=w.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=w.getElementSize(this.element).y-w.getElementSize(this.toolbar.element).y+"px"),B[this.hash].fullPage=!0,w.delegate(this,Fe)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Ae.margin=this.bodyMargin,Re.margin=this.docMargin,Ae.padding=this.bodyPadding,Re.padding=this.docPadding,Ae.width=this.bodyWidth,Re.width=this.docWidth,Ae.height=this.bodyHeight,Re.height=this.docHeight,me.removeChild(this.element),Xe=this.previousBody.length,Ne=0;Ne<Xe;Ne++)me.appendChild(this.previousBody.shift());w.removeClass(this.element,"fullpage"),B[this.hash].prevElementParent.insertBefore(this.element,B[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(me.removeChild(this.toolbar.element),w.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=B[this.hash].prevElementWidth,this.element.style.height=B[this.hash].prevElementHeight;var ze=0,et=function(){w.setPageScroll(Be.pageScroll);var Ye=w.getPageScroll();ze++,ze<10&&(Ye.x!==Be.pageScroll.x||Ye.y!==Be.pageScroll.y)&&w.requestAnimationFrame(et)};w.requestAnimationFrame(et),B[this.hash].fullPage=!1,w.delegate(this,ht)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:oe}),this},setFullScreen:function(oe){var me=this;if(!w.supportsFullScreen)return this.setFullPage(oe);if(w.isFullScreen()===oe)return this;var Ae={fullScreen:oe,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Ae),Ae.preventDefaultAction)return this;if(oe){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Re=function(){var Be=w.isFullScreen();Be||(w.removeEvent(document,w.fullScreenEventName,Re),w.removeEvent(document,w.fullScreenErrorEventName,Re),me.setFullPage(!1),me.isFullPage()&&(me.element.style.width=me.fullPageStyleWidth,me.element.style.height=me.fullPageStyleHeight)),me.navigator&&me.viewport&&setTimeout(function(){me.navigator.update(me.viewport)}),me.raiseEvent("full-screen",{fullScreen:Be})};w.addEvent(document,w.fullScreenEventName,Re),w.addEvent(document,w.fullScreenErrorEventName,Re),w.requestFullScreen(document.body)}else w.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function(oe){return this.container.style.visibility=oe?"":"hidden",this.raiseEvent("visible",{visible:oe}),this},addTiledImage:function(oe){w.console.assert(oe,"[Viewer.addTiledImage] options is required"),w.console.assert(oe.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),w.console.assert(!oe.replace||oe.index>-1&&oe.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var me=this;oe.replace&&(oe.replaceItem=me.world.getItemAt(oe.index)),this._hideMessage(),oe.placeholderFillStyle===void 0&&(oe.placeholderFillStyle=this.placeholderFillStyle),oe.opacity===void 0&&(oe.opacity=this.opacity),oe.preload===void 0&&(oe.preload=this.preload),oe.compositeOperation===void 0&&(oe.compositeOperation=this.compositeOperation),oe.crossOriginPolicy===void 0&&(oe.crossOriginPolicy=oe.tileSource.crossOriginPolicy!==void 0?oe.tileSource.crossOriginPolicy:this.crossOriginPolicy),oe.ajaxWithCredentials===void 0&&(oe.ajaxWithCredentials=this.ajaxWithCredentials),oe.loadTilesWithAjax===void 0&&(oe.loadTilesWithAjax=this.loadTilesWithAjax),oe.ajaxHeaders===void 0||oe.ajaxHeaders===null?oe.ajaxHeaders=this.ajaxHeaders:w.isPlainObject(oe.ajaxHeaders)&&w.isPlainObject(this.ajaxHeaders)&&(oe.ajaxHeaders=w.extend({},this.ajaxHeaders,oe.ajaxHeaders));var Ae={options:oe};function Re(Ne){for(var qe=0;qe<me._loadQueue.length;qe++)if(me._loadQueue[qe]===Ae){me._loadQueue.splice(qe,1);break}me._loadQueue.length===0&&Be(Ae),me.raiseEvent("add-item-failed",Ne),oe.error&&oe.error(Ne)}function Be(Ne){me.collectionMode&&(me.world.arrange({immediately:Ne.options.collectionImmediately,rows:me.collectionRows,columns:me.collectionColumns,layout:me.collectionLayout,tileSize:me.collectionTileSize,tileMargin:me.collectionTileMargin}),me.world.setAutoRefigureSizes(!0))}if(w.isArray(oe.tileSource)){setTimeout(function(){Re({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:oe.tileSource,options:oe})});return}this._loadQueue.push(Ae);function Xe(){for(var Ne,qe,ze;me._loadQueue.length&&(Ne=me._loadQueue[0],!!Ne.tileSource);){if(me._loadQueue.splice(0,1),Ne.options.replace){var et=me.world.getIndexOfItem(Ne.options.replaceItem);et!=-1&&(Ne.options.index=et),me.world.removeItem(Ne.options.replaceItem)}qe=new w.TiledImage({viewer:me,source:Ne.tileSource,viewport:me.viewport,drawer:me.drawer,tileCache:me.tileCache,imageLoader:me.imageLoader,x:Ne.options.x,y:Ne.options.y,width:Ne.options.width,height:Ne.options.height,fitBounds:Ne.options.fitBounds,fitBoundsPlacement:Ne.options.fitBoundsPlacement,clip:Ne.options.clip,placeholderFillStyle:Ne.options.placeholderFillStyle,opacity:Ne.options.opacity,preload:Ne.options.preload,degrees:Ne.options.degrees,compositeOperation:Ne.options.compositeOperation,springStiffness:me.springStiffness,animationTime:me.animationTime,minZoomImageRatio:me.minZoomImageRatio,wrapHorizontal:me.wrapHorizontal,wrapVertical:me.wrapVertical,immediateRender:me.immediateRender,blendTime:me.blendTime,alwaysBlend:me.alwaysBlend,minPixelRatio:me.minPixelRatio,smoothTileEdgesMinZoom:me.smoothTileEdgesMinZoom,iOSDevice:me.iOSDevice,crossOriginPolicy:Ne.options.crossOriginPolicy,ajaxWithCredentials:Ne.options.ajaxWithCredentials,loadTilesWithAjax:Ne.options.loadTilesWithAjax,ajaxHeaders:Ne.options.ajaxHeaders,debugMode:me.debugMode}),me.collectionMode&&me.world.setAutoRefigureSizes(!1),me.world.addItem(qe,{index:Ne.options.index}),me._loadQueue.length===0&&Be(Ne),me.world.getItemCount()===1&&!me.preserveViewport&&me.viewport.goHome(!0),me.navigator&&(ze=w.extend({},Ne.options,{replace:!1,originalTiledImage:qe,tileSource:Ne.tileSource}),me.navigator.addTiledImage(ze)),Ne.options.success&&Ne.options.success({item:qe})}}Y(this,oe.tileSource,oe,function(Ne){Ae.tileSource=Ne,Xe()},function(Ne){Ne.options=oe,Re(Ne),Xe()})},addSimpleImage:function(oe){w.console.assert(oe,"[Viewer.addSimpleImage] options is required"),w.console.assert(oe.url,"[Viewer.addSimpleImage] options.url is required");var me=w.extend({},oe,{tileSource:{type:"image",url:oe.url}});delete me.url,this.addTiledImage(me)},addLayer:function(oe){var me=this;w.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Ae=w.extend({},oe,{success:function(Re){me.raiseEvent("add-layer",{options:oe,drawer:Re.item})},error:function(Re){me.raiseEvent("add-layer-failed",Re)}});return this.addTiledImage(Ae),this},getLayerAtLevel:function(oe){return w.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(oe)},getLevelOfLayer:function(oe){return w.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(oe)},getLayersCount:function(){return w.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(oe,me){return w.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(oe,me)},removeLayer:function(oe){return w.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(oe)},forceRedraw:function(){return B[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var oe=w.delegate(this,le),me=w.delegate(this,ye),Ae=w.delegate(this,ke),Re=w.delegate(this,Nn),Be=this.navImages,Xe=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Xe=!1),this.previousButton=new w.Button({element:this.previousButton?w.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.PreviousPage"),srcRest:nt(this.prefixUrl,Be.previous.REST),srcGroup:nt(this.prefixUrl,Be.previous.GROUP),srcHover:nt(this.prefixUrl,Be.previous.HOVER),srcDown:nt(this.prefixUrl,Be.previous.DOWN),onRelease:Re,onFocus:oe,onBlur:me}),this.nextButton=new w.Button({element:this.nextButton?w.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.NextPage"),srcRest:nt(this.prefixUrl,Be.next.REST),srcGroup:nt(this.prefixUrl,Be.next.GROUP),srcHover:nt(this.prefixUrl,Be.next.HOVER),srcDown:nt(this.prefixUrl,Be.next.DOWN),onRelease:Ae,onFocus:oe,onBlur:me}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Xe&&(this.paging=new w.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:w.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||w.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var oe=w.delegate(this,yt),me=w.delegate(this,ln),Ae=w.delegate(this,tn),Re=w.delegate(this,$t),Be=w.delegate(this,Yn),Xe=w.delegate(this,fn),Ne=w.delegate(this,nn),qe=w.delegate(this,wn),ze=w.delegate(this,Cn),et=w.delegate(this,Pn),Ye=w.delegate(this,le),Ke=w.delegate(this,ye),rt=this.navImages,vt=[],kt=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(kt=!1),this.showZoomControl&&(vt.push(this.zoomInButton=new w.Button({element:this.zoomInButton?w.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.ZoomIn"),srcRest:nt(this.prefixUrl,rt.zoomIn.REST),srcGroup:nt(this.prefixUrl,rt.zoomIn.GROUP),srcHover:nt(this.prefixUrl,rt.zoomIn.HOVER),srcDown:nt(this.prefixUrl,rt.zoomIn.DOWN),onPress:oe,onRelease:me,onClick:Ae,onEnter:oe,onExit:me,onFocus:Ye,onBlur:Ke})),vt.push(this.zoomOutButton=new w.Button({element:this.zoomOutButton?w.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.ZoomOut"),srcRest:nt(this.prefixUrl,rt.zoomOut.REST),srcGroup:nt(this.prefixUrl,rt.zoomOut.GROUP),srcHover:nt(this.prefixUrl,rt.zoomOut.HOVER),srcDown:nt(this.prefixUrl,rt.zoomOut.DOWN),onPress:Re,onRelease:me,onClick:Be,onEnter:Re,onExit:me,onFocus:Ye,onBlur:Ke}))),this.showHomeControl&&vt.push(this.homeButton=new w.Button({element:this.homeButton?w.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.Home"),srcRest:nt(this.prefixUrl,rt.home.REST),srcGroup:nt(this.prefixUrl,rt.home.GROUP),srcHover:nt(this.prefixUrl,rt.home.HOVER),srcDown:nt(this.prefixUrl,rt.home.DOWN),onRelease:Xe,onFocus:Ye,onBlur:Ke})),this.showFullPageControl&&vt.push(this.fullPageButton=new w.Button({element:this.fullPageButton?w.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.FullPage"),srcRest:nt(this.prefixUrl,rt.fullpage.REST),srcGroup:nt(this.prefixUrl,rt.fullpage.GROUP),srcHover:nt(this.prefixUrl,rt.fullpage.HOVER),srcDown:nt(this.prefixUrl,rt.fullpage.DOWN),onRelease:Ne,onFocus:Ye,onBlur:Ke})),this.showRotationControl&&(vt.push(this.rotateLeftButton=new w.Button({element:this.rotateLeftButton?w.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.RotateLeft"),srcRest:nt(this.prefixUrl,rt.rotateleft.REST),srcGroup:nt(this.prefixUrl,rt.rotateleft.GROUP),srcHover:nt(this.prefixUrl,rt.rotateleft.HOVER),srcDown:nt(this.prefixUrl,rt.rotateleft.DOWN),onRelease:qe,onFocus:Ye,onBlur:Ke})),vt.push(this.rotateRightButton=new w.Button({element:this.rotateRightButton?w.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.RotateRight"),srcRest:nt(this.prefixUrl,rt.rotateright.REST),srcGroup:nt(this.prefixUrl,rt.rotateright.GROUP),srcHover:nt(this.prefixUrl,rt.rotateright.HOVER),srcDown:nt(this.prefixUrl,rt.rotateright.DOWN),onRelease:ze,onFocus:Ye,onBlur:Ke}))),this.showFlipControl&&vt.push(this.flipButton=new w.Button({element:this.flipButton?w.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:w.getString("Tooltips.Flip"),srcRest:nt(this.prefixUrl,rt.flip.REST),srcGroup:nt(this.prefixUrl,rt.flip.GROUP),srcHover:nt(this.prefixUrl,rt.flip.HOVER),srcDown:nt(this.prefixUrl,rt.flip.DOWN),onRelease:et,onFocus:Ye,onBlur:Ke})),kt&&(this.buttons=new w.ButtonGroup({buttons:vt,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",w.delegate(this,Un)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||w.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||w.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(oe){return this.tileSources&&oe>=0&&oe<this.tileSources.length&&(this._sequenceIndex=oe,this._updateSequenceButtons(oe),this.open(this.tileSources[oe]),this.referenceStrip&&this.referenceStrip.setFocus(oe),this.raiseEvent("page",{page:oe})),this},addOverlay:function(oe,me,Ae,Re){var Be;if(w.isPlainObject(oe)?Be=oe:Be={element:oe,location:me,placement:Ae,onDraw:Re},oe=w.getElement(Be.element),ee(this.currentOverlays,oe)>=0)return this;var Xe=J(this,Be);return this.currentOverlays.push(Xe),Xe.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:oe,location:Be.location,placement:Be.placement}),this},updateOverlay:function(oe,me,Ae){var Re;return oe=w.getElement(oe),Re=ee(this.currentOverlays,oe),Re>=0&&(this.currentOverlays[Re].update(me,Ae),B[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:oe,location:me,placement:Ae})),this},removeOverlay:function(oe){var me;return oe=w.getElement(oe),me=ee(this.currentOverlays,oe),me>=0&&(this.currentOverlays[me].destroy(),this.currentOverlays.splice(me,1),B[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:oe})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return B[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(oe){var me;return oe=w.getElement(oe),me=ee(this.currentOverlays,oe),me>=0?this.currentOverlays[me]:null},_updateSequenceButtons:function(oe){this.nextButton&&(!this.tileSources||this.tileSources.length-1===oe?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(oe>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(oe){this._hideMessage();var me=w.makeNeutralElement("div");me.appendChild(document.createTextNode(oe)),this.messageDiv=w.makeCenteredNode(me),w.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var oe=this.messageDiv;oe&&(oe.parentNode.removeChild(oe),delete this.messageDiv)},gestureSettingsByDeviceType:function(oe){switch(oe){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var oe,me=this.currentOverlays.length;for(oe=0;oe<me;oe++)this.currentOverlays[oe].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new w.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else w.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function U(oe){return oe=w.getElement(oe),new w.Point(oe.clientWidth===0?1:oe.clientWidth,oe.clientHeight===0?1:oe.clientHeight)}function Y(oe,me,Ae,Re,Be){var Xe=oe;if(w.type(me)=="string"){if(me.match(/^\s*<.*>\s*$/))me=w.parseXml(me);else if(me.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var Ne=w.parseJSON(me);me=Ne}catch{}}function qe(ze,et){ze.ready?Re(ze):(ze.addHandler("ready",function(){Re(ze)}),ze.addHandler("open-failed",function(Ye){Be({message:Ye.message,source:et})}))}setTimeout(function(){if(w.type(me)=="string")me=new w.TileSource({url:me,crossOriginPolicy:Ae.crossOriginPolicy!==void 0?Ae.crossOriginPolicy:oe.crossOriginPolicy,ajaxWithCredentials:oe.ajaxWithCredentials,ajaxHeaders:oe.ajaxHeaders,useCanvas:oe.useCanvas,success:function(Ke){Re(Ke.tileSource)}}),me.addHandler("open-failed",function(Ke){Be(Ke)});else if(w.isPlainObject(me)||me.nodeType)if(me.crossOriginPolicy===void 0&&(Ae.crossOriginPolicy!==void 0||oe.crossOriginPolicy!==void 0)&&(me.crossOriginPolicy=Ae.crossOriginPolicy!==void 0?Ae.crossOriginPolicy:oe.crossOriginPolicy),me.ajaxWithCredentials===void 0&&(me.ajaxWithCredentials=oe.ajaxWithCredentials),me.useCanvas===void 0&&(me.useCanvas=oe.useCanvas),w.isFunction(me.getTileUrl)){var ze=new w.TileSource(me);ze.getTileUrl=me.getTileUrl,Re(ze)}else{var et=w.TileSource.determineType(Xe,me);if(!et){Be({message:"Unable to load TileSource",source:me});return}var Ye=et.prototype.configure.apply(Xe,[me]);qe(new et(Ye),me)}else qe(me,me)})}function J(oe,me){if(me instanceof w.Overlay)return me;var Ae=null;if(me.element)Ae=w.getElement(me.element);else{var Re=me.id?me.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Ae=w.getElement(me.id),Ae||(Ae=document.createElement("a"),Ae.href="#/overlay/"+Re),Ae.id=Re,w.addClass(Ae,me.className?me.className:"openseadragon-overlay")}var Be=me.location,Xe=me.width,Ne=me.height;if(!Be){var qe=me.x,ze=me.y;if(me.px!==void 0){var et=oe.viewport.imageToViewportRectangle(new w.Rect(me.px,me.py,Xe||0,Ne||0));qe=et.x,ze=et.y,Xe=Xe!==void 0?et.width:void 0,Ne=Ne!==void 0?et.height:void 0}Be=new w.Point(qe,ze)}var Ye=me.placement;return Ye&&w.type(Ye)==="string"&&(Ye=w.Placement[me.placement.toUpperCase()]),new w.Overlay({element:Ae,location:Be,placement:Ye,onDraw:me.onDraw,checkResize:me.checkResize,width:Xe,height:Ne,rotationMode:me.rotationMode})}function ee(oe,me){var Ae;for(Ae=oe.length-1;Ae>=0;Ae--)if(oe[Ae].element===me)return Ae;return-1}function te(oe,me){return w.requestAnimationFrame(function(){me(oe)})}function re(oe){w.requestAnimationFrame(function(){ce(oe)})}function ie(oe){!oe.autoHideControls||(oe.controlsShouldFade=!0,oe.controlsFadeBeginTime=w.now()+oe.controlsFadeDelay,window.setTimeout(function(){re(oe)},oe.controlsFadeDelay))}function ce(oe){var me,Ae,Re,Be;if(oe.controlsShouldFade){for(me=w.now(),Ae=me-oe.controlsFadeBeginTime,Re=1-Ae/oe.controlsFadeLength,Re=Math.min(1,Re),Re=Math.max(0,Re),Be=oe.controls.length-1;Be>=0;Be--)oe.controls[Be].autoFade&&oe.controls[Be].setOpacity(Re);Re>0&&re(oe)}}function fe(oe){var me;for(oe.controlsShouldFade=!1,me=oe.controls.length-1;me>=0;me--)oe.controls[me].setOpacity(1)}function le(){fe(this)}function ye(){ie(this)}function we(oe){var me={originalEvent:oe.originalEvent,preventDefaultAction:oe.preventDefaultAction,preventVerticalPan:oe.preventVerticalPan,preventHorizontalPan:oe.preventHorizontalPan};if(this.raiseEvent("canvas-key",me),!me.preventDefaultAction&&!oe.ctrl&&!oe.alt&&!oe.meta)switch(oe.keyCode){case 38:return me.preventVerticalPan||(oe.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return me.preventVerticalPan||(oe.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return me.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return me.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function Ce(oe){var me={originalEvent:oe.originalEvent,preventDefaultAction:oe.preventDefaultAction,preventVerticalPan:oe.preventVerticalPan,preventHorizontalPan:oe.preventHorizontalPan};if(this.raiseEvent("canvas-key",me),!me.preventDefaultAction&&!oe.ctrl&&!oe.alt&&!oe.meta)switch(oe.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return me.preventVerticalPan||(oe.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return me.preventVerticalPan||(oe.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return me.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return me.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new w.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(w.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(w.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(w.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(w.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function ae(oe){var me,Ae=document.activeElement==this.canvas;Ae||this.canvas.focus(),this.viewport.flipped&&(oe.position.x=this.viewport.getContainerSize().x-oe.position.x);var Re={tracker:oe.eventSource,position:oe.position,quick:oe.quick,shift:oe.shift,originalEvent:oe.originalEvent,preventDefaultAction:oe.preventDefaultAction};this.raiseEvent("canvas-click",Re),!Re.preventDefaultAction&&this.viewport&&oe.quick&&(me=this.gestureSettingsByDeviceType(oe.pointerType),me.clickToZoom&&(this.viewport.zoomBy(oe.shift?1/this.zoomPerClick:this.zoomPerClick,me.zoomToRefPoint?this.viewport.pointFromPixel(oe.position,!0):null),this.viewport.applyConstraints()))}function ve(oe){var me,Ae={tracker:oe.eventSource,position:oe.position,shift:oe.shift,originalEvent:oe.originalEvent,preventDefaultAction:oe.preventDefaultAction};this.raiseEvent("canvas-double-click",Ae),!Ae.preventDefaultAction&&this.viewport&&(me=this.gestureSettingsByDeviceType(oe.pointerType),me.dblClickToZoom&&(this.viewport.zoomBy(oe.shift?1/this.zoomPerClick:this.zoomPerClick,me.zoomToRefPoint?this.viewport.pointFromPixel(oe.position,!0):null),this.viewport.applyConstraints()))}function xe(oe){var me,Ae={tracker:oe.eventSource,position:oe.position,delta:oe.delta,speed:oe.speed,direction:oe.direction,shift:oe.shift,originalEvent:oe.originalEvent,preventDefaultAction:oe.preventDefaultAction};if(this.raiseEvent("canvas-drag",Ae),!Ae.preventDefaultAction&&this.viewport){if(me=this.gestureSettingsByDeviceType(oe.pointerType),this.panHorizontal||(oe.delta.x=0),this.panVertical||(oe.delta.y=0),this.viewport.flipped&&(oe.delta.x=-oe.delta.x),this.constrainDuringPan){var Re=this.viewport.deltaPointsFromPixels(oe.delta.negate());this.viewport.centerSpringX.target.value+=Re.x,this.viewport.centerSpringY.target.value+=Re.y;var Be=this.viewport.getBounds(),Xe=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Re.x,this.viewport.centerSpringY.target.value-=Re.y,Be.x!=Xe.x&&(oe.delta.x=0),Be.y!=Xe.y&&(oe.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(oe.delta.negate()),me.flickEnabled&&!this.constrainDuringPan)}}function _e(oe){if(!oe.preventDefaultAction&&this.viewport){var me=this.gestureSettingsByDeviceType(oe.pointerType);if(me.flickEnabled&&oe.speed>=me.flickMinSpeed){var Ae=0;this.panHorizontal&&(Ae=me.flickMomentum*oe.speed*Math.cos(oe.direction));var Re=0;this.panVertical&&(Re=me.flickMomentum*oe.speed*Math.sin(oe.direction));var Be=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Xe=this.viewport.pointFromPixel(new w.Point(Be.x-Ae,Be.y-Re));this.viewport.panTo(Xe,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:oe.eventSource,position:oe.position,speed:oe.speed,direction:oe.direction,shift:oe.shift,originalEvent:oe.originalEvent})}function Pe(oe){this.raiseEvent("canvas-enter",{tracker:oe.eventSource,pointerType:oe.pointerType,position:oe.position,buttons:oe.buttons,pointers:oe.pointers,insideElementPressed:oe.insideElementPressed,buttonDownAny:oe.buttonDownAny,originalEvent:oe.originalEvent})}function Me(oe){window.location!=window.parent.location&&w.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:oe.eventSource,pointerType:oe.pointerType,position:oe.position,buttons:oe.buttons,pointers:oe.pointers,insideElementPressed:oe.insideElementPressed,buttonDownAny:oe.buttonDownAny,originalEvent:oe.originalEvent})}function je(oe){this.raiseEvent("canvas-press",{tracker:oe.eventSource,pointerType:oe.pointerType,position:oe.position,insideElementPressed:oe.insideElementPressed,insideElementReleased:oe.insideElementReleased,originalEvent:oe.originalEvent})}function Ve(oe){this.raiseEvent("canvas-release",{tracker:oe.eventSource,pointerType:oe.pointerType,position:oe.position,insideElementPressed:oe.insideElementPressed,insideElementReleased:oe.insideElementReleased,originalEvent:oe.originalEvent})}function He(oe){this.raiseEvent("canvas-nonprimary-press",{tracker:oe.eventSource,position:oe.position,pointerType:oe.pointerType,button:oe.button,buttons:oe.buttons,originalEvent:oe.originalEvent})}function Ze(oe){this.raiseEvent("canvas-nonprimary-release",{tracker:oe.eventSource,position:oe.position,pointerType:oe.pointerType,button:oe.button,buttons:oe.buttons,originalEvent:oe.originalEvent})}function Ue(oe){var me,Ae,Re,Be;if(!oe.preventDefaultAction&&this.viewport&&(me=this.gestureSettingsByDeviceType(oe.pointerType),me.pinchToZoom&&(Ae=this.viewport.pointFromPixel(oe.center,!0),Re=this.viewport.pointFromPixel(oe.lastCenter,!0),Be=Re.minus(Ae),this.panHorizontal||(Be.x=0),this.panVertical||(Be.y=0),this.viewport.zoomBy(oe.distance/oe.lastDistance,Ae,!0),me.zoomToRefPoint&&this.viewport.panBy(Be,!0),this.viewport.applyConstraints()),me.pinchRotate)){var Xe=Math.atan2(oe.gesturePoints[0].currentPos.y-oe.gesturePoints[1].currentPos.y,oe.gesturePoints[0].currentPos.x-oe.gesturePoints[1].currentPos.x),Ne=Math.atan2(oe.gesturePoints[0].lastPos.y-oe.gesturePoints[1].lastPos.y,oe.gesturePoints[0].lastPos.x-oe.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Xe-Ne)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:oe.eventSource,gesturePoints:oe.gesturePoints,lastCenter:oe.lastCenter,center:oe.center,lastDistance:oe.lastDistance,distance:oe.distance,shift:oe.shift,originalEvent:oe.originalEvent}),!1}function it(oe){var me,Ae,Re,Be;if(Re=w.now(),Be=Re-this._lastScrollTime,Be>this.minScrollDeltaTime){if(this._lastScrollTime=Re,this.viewport.flipped&&(oe.position.x=this.viewport.getContainerSize().x-oe.position.x),!oe.preventDefaultAction&&this.viewport&&(me=this.gestureSettingsByDeviceType(oe.pointerType),me.scrollToZoom&&(Ae=Math.pow(this.zoomPerScroll,oe.scroll),this.viewport.zoomBy(Ae,me.zoomToRefPoint?this.viewport.pointFromPixel(oe.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:oe.eventSource,position:oe.position,scroll:oe.scroll,shift:oe.shift,originalEvent:oe.originalEvent}),me&&me.scrollToZoom)return!1}else if(me=this.gestureSettingsByDeviceType(oe.pointerType),me&&me.scrollToZoom)return!1}function Fe(oe){B[this.hash].mouseInside=!0,fe(this),this.raiseEvent("container-enter",{tracker:oe.eventSource,position:oe.position,buttons:oe.buttons,pointers:oe.pointers,insideElementPressed:oe.insideElementPressed,buttonDownAny:oe.buttonDownAny,originalEvent:oe.originalEvent})}function ht(oe){oe.pointers<1&&(B[this.hash].mouseInside=!1,B[this.hash].animating||ie(this)),this.raiseEvent("container-exit",{tracker:oe.eventSource,position:oe.position,buttons:oe.buttons,pointers:oe.pointers,insideElementPressed:oe.insideElementPressed,buttonDownAny:oe.buttonDownAny,originalEvent:oe.originalEvent})}function ft(oe){St(oe),oe.isOpen()?oe._updateRequestId=te(oe,ft):oe._updateRequestId=!1}function St(oe){if(!oe._opening){if(oe.autoResize){var me=U(oe.container),Ae=B[oe.hash].prevContainerSize;if(!me.equals(Ae)){var Re=oe.viewport;if(oe.preserveImageSizeOnResize){var Be=Ae.x/me.x,Xe=Re.getZoom()*Be,Ne=Re.getCenter();Re.resize(me,!1),Re.zoomTo(Xe,null,!0),Re.panTo(Ne,!0)}else{var qe=Re.getBounds();Re.resize(me,!0),Re.fitBoundsWithConstraints(qe,!0)}B[oe.hash].prevContainerSize=me,B[oe.hash].forceRedraw=!0}}var ze=oe.viewport.update(),et=oe.world.update()||ze;ze&&oe.raiseEvent("viewport-change"),oe.referenceStrip&&(et=oe.referenceStrip.update(oe.viewport)||et),!B[oe.hash].animating&&et&&(oe.raiseEvent("animation-start"),fe(oe)),(et||B[oe.hash].forceRedraw||oe.world.needsDraw())&&(gt(oe),oe._drawOverlays(),oe.navigator&&oe.navigator.update(oe.viewport),B[oe.hash].forceRedraw=!1,et&&oe.raiseEvent("animation")),B[oe.hash].animating&&!et&&(oe.raiseEvent("animation-finish"),B[oe.hash].mouseInside||ie(oe)),B[oe.hash].animating=et}}function gt(oe){oe.imageLoader.clear(),oe.drawer.clear(),oe.world.draw(),oe.raiseEvent("update-viewport",{})}function nt(oe,me){return oe?oe+me:me}function yt(){B[this.hash].lastZoomTime=w.now(),B[this.hash].zoomFactor=this.zoomPerSecond,B[this.hash].zooming=!0,un(this)}function $t(){B[this.hash].lastZoomTime=w.now(),B[this.hash].zoomFactor=1/this.zoomPerSecond,B[this.hash].zooming=!0,un(this)}function ln(){B[this.hash].zooming=!1}function un(oe){w.requestAnimationFrame(w.delegate(oe,on))}function on(){var oe,me,Ae;B[this.hash].zooming&&this.viewport&&(oe=w.now(),me=oe-B[this.hash].lastZoomTime,Ae=Math.pow(B[this.hash].zoomFactor,me/1e3),this.viewport.zoomBy(Ae),this.viewport.applyConstraints(),B[this.hash].lastZoomTime=oe,un(this))}function tn(){this.viewport&&(B[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Yn(){this.viewport&&(B[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Un(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function fn(){this.viewport&&this.viewport.goHome()}function nn(){this.isFullPage()&&!w.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function wn(){if(this.viewport){var oe=this.viewport.getRotation();this.viewport.flipped?oe=w.positiveModulo(oe+this.rotationIncrement,360):oe=w.positiveModulo(oe-this.rotationIncrement,360),this.viewport.setRotation(oe)}}function Cn(){if(this.viewport){var oe=this.viewport.getRotation();this.viewport.flipped?oe=w.positiveModulo(oe-this.rotationIncrement,360):oe=w.positiveModulo(oe+this.rotationIncrement,360),this.viewport.setRotation(oe)}}function Pn(){this.viewport.toggleFlip()}function Nn(){var oe=this._sequenceIndex-1;this.navPrevNextWrap&&oe<0&&(oe+=this.tileSources.length),this.goToPage(oe)}function ke(){var oe=this._sequenceIndex+1;this.navPrevNextWrap&&oe>=this.tileSources.length&&(oe=0),this.goToPage(oe)}}(OpenSeadragon),function(w){w.Navigator=function(te){var re=te.viewer,ie=this,ce,fe;te.id?(this.element=document.getElementById(te.id),te.controlOptions={anchor:w.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(te.id="navigator-"+w.now(),this.element=w.makeNeutralElement("div"),te.controlOptions={anchor:w.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:te.autoFade},te.position&&(te.position=="BOTTOM_RIGHT"?te.controlOptions.anchor=w.ControlAnchor.BOTTOM_RIGHT:te.position=="BOTTOM_LEFT"?te.controlOptions.anchor=w.ControlAnchor.BOTTOM_LEFT:te.position=="TOP_RIGHT"?te.controlOptions.anchor=w.ControlAnchor.TOP_RIGHT:te.position=="TOP_LEFT"?te.controlOptions.anchor=w.ControlAnchor.TOP_LEFT:te.position=="ABSOLUTE"&&(te.controlOptions.anchor=w.ControlAnchor.ABSOLUTE,te.controlOptions.top=te.top,te.controlOptions.left=te.left,te.controlOptions.height=te.height,te.controlOptions.width=te.width))),this.element.id=te.id,this.element.className+=" navigator",te=w.extend(!0,{sizeRatio:w.DEFAULT_SETTINGS.navigatorSizeRatio},te,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:te.autoResize,minZoomImageRatio:1,background:te.background,opacity:te.opacity,borderColor:te.borderColor,displayRegionColor:te.displayRegionColor}),te.minPixelRatio=this.minPixelRatio=re.minPixelRatio,w.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new w.Point(1,1),this.totalBorderWidths=new w.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),te.controlOptions.anchor!=w.ControlAnchor.NONE&&function(we,Ce){we.margin="0px",we.border=Ce+"px solid "+te.borderColor,we.padding="0px",we.background=te.background,we.opacity=te.opacity,we.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=w.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(we,Ce){we.position="relative",we.top="0px",we.left="0px",we.fontSize="0px",we.overflow="hidden",we.border=Ce+"px solid "+te.displayRegionColor,we.margin="0px",we.padding="0px",we.background="transparent",we.float="left",we.cssFloat="left",we.styleFloat="left",we.zIndex=999999999,we.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=w.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",re.addControl(this.element,te.controlOptions),this._resizeWithViewer=te.controlOptions.anchor!=w.ControlAnchor.ABSOLUTE&&te.controlOptions.anchor!=w.ControlAnchor.NONE,te.width&&te.height?(this.setWidth(te.width),this.setHeight(te.height)):this._resizeWithViewer&&(ce=w.getElementSize(re.element),this.element.style.height=Math.round(ce.y*te.sizeRatio)+"px",this.element.style.width=Math.round(ce.x*te.sizeRatio)+"px",this.oldViewerSize=ce,fe=w.getElementSize(this.element),this.elementArea=fe.x*fe.y),this.oldContainerSize=new w.Point(0,0),w.Viewer.apply(this,[te]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function le(we){J(ie.displayRegionContainer,we),J(ie.displayRegion,-we),ie.viewport.setRotation(we)}if(te.navigatorRotate){var ye=te.viewer.viewport?te.viewer.viewport.getRotation():te.viewer.degrees||0;le(ye),te.viewer.addHandler("rotate",function(we){le(we.degrees)})}this.innerTracker.destroy(),this.innerTracker=new w.MouseTracker({element:this.element,dragHandler:w.delegate(this,j),clickHandler:w.delegate(this,B),releaseHandler:w.delegate(this,U),scrollHandler:w.delegate(this,Y)}),this.addHandler("reset-size",function(){ie.viewport&&ie.viewport.goHome(!0)}),re.world.addHandler("item-index-change",function(we){window.setTimeout(function(){var Ce=ie.world.getItemAt(we.previousIndex);ie.world.setItemIndex(Ce,we.newIndex)},1)}),re.world.addHandler("remove-item",function(we){var Ce=we.item,ae=ie._getMatchingItem(Ce);ae&&ie.world.removeItem(ae)}),this.update(re.viewport)},w.extend(w.Navigator.prototype,w.EventSource.prototype,w.Viewer.prototype,{updateSize:function(){if(this.viewport){var te=new w.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);te.equals(this.oldContainerSize)||(this.viewport.resize(te,!0),this.viewport.goHome(!0),this.oldContainerSize=te,this.drawer.clear(),this.world.draw())}},setWidth:function(te){this.width=te,this.element.style.width=typeof te=="number"?te+"px":te,this._resizeWithViewer=!1},setHeight:function(te){this.height=te,this.element.style.height=typeof te=="number"?te+"px":te,this._resizeWithViewer=!1},setFlip:function(te){return this.viewport.setFlip(te),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(te){ee(this.displayRegion,te),ee(this.canvas,te),ee(this.element,te)},update:function(te){var re,ie,ce,fe,le,ye;if(re=w.getElementSize(this.viewer.element),this._resizeWithViewer&&re.x&&re.y&&!re.equals(this.oldViewerSize)&&(this.oldViewerSize=re,this.maintainSizeRatio||!this.elementArea?(ie=re.x*this.sizeRatio,ce=re.y*this.sizeRatio):(ie=Math.sqrt(this.elementArea*(re.x/re.y)),ce=this.elementArea/ie),this.element.style.width=Math.round(ie)+"px",this.element.style.height=Math.round(ce)+"px",this.elementArea||(this.elementArea=ie*ce),this.updateSize()),te&&this.viewport){fe=te.getBoundsNoRotate(!0),le=this.viewport.pixelFromPointNoRotate(fe.getTopLeft(),!1),ye=this.viewport.pixelFromPointNoRotate(fe.getBottomRight(),!1).minus(this.totalBorderWidths);var we=this.displayRegion.style;we.display=this.world.getItemCount()?"block":"none",we.top=Math.round(le.y)+"px",we.left=Math.round(le.x)+"px";var Ce=Math.abs(le.x-ye.x),ae=Math.abs(le.y-ye.y);we.width=Math.round(Math.max(Ce,0))+"px",we.height=Math.round(Math.max(ae,0))+"px"}},addTiledImage:function(te){var re=this,ie=te.originalTiledImage;delete te.original;var ce=w.extend({},te,{success:function(fe){var le=fe.item;le._originalForNavigator=ie,re._matchBounds(le,ie,!0);function ye(){re._matchBounds(le,ie)}function we(){re._matchOpacity(le,ie)}function Ce(){re._matchCompositeOperation(le,ie)}ie.addHandler("bounds-change",ye),ie.addHandler("clip-change",ye),ie.addHandler("opacity-change",we),ie.addHandler("composite-operation-change",Ce)}});return w.Viewer.prototype.addTiledImage.apply(this,[ce])},_getMatchingItem:function(te){for(var re=this.world.getItemCount(),ie,ce=0;ce<re;ce++)if(ie=this.world.getItemAt(ce),ie._originalForNavigator===te)return ie;return null},_matchBounds:function(te,re,ie){var ce=re.getBoundsNoRotate();te.setPosition(ce.getTopLeft(),ie),te.setWidth(ce.width,ie),te.setRotation(re.getRotation(),ie),te.setClip(re.getClip())},_matchOpacity:function(te,re){te.setOpacity(re.opacity)},_matchCompositeOperation:function(te,re){te.setCompositeOperation(re.compositeOperation)}});function B(te){var re={tracker:te.eventSource,position:te.position,quick:te.quick,shift:te.shift,originalEvent:te.originalEvent,preventDefaultAction:te.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",re),!re.preventDefaultAction&&te.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(te.position.x=this.viewport.getContainerSize().x-te.position.x);var ie=this.viewport.pointFromPixel(te.position);this.panVertical?this.panHorizontal||(ie.x=this.viewer.viewport.getCenter(!0).x):ie.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(ie),this.viewer.viewport.applyConstraints()}}function j(te){var re={tracker:te.eventSource,position:te.position,delta:te.delta,speed:te.speed,direction:te.direction,shift:te.shift,originalEvent:te.originalEvent,preventDefaultAction:te.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",re),!re.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(te.delta.x=0),this.panVertical||(te.delta.y=0),this.viewer.viewport.flipped&&(te.delta.x=-te.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(te.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function U(te){te.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function Y(te){return this.viewer.raiseEvent("navigator-scroll",{tracker:te.eventSource,position:te.position,scroll:te.scroll,shift:te.shift,originalEvent:te.originalEvent}),!1}function J(te,re){ee(te,"rotate("+re+"deg)")}function ee(te,re){te.style.webkitTransform=re,te.style.mozTransform=re,te.style.msTransform=re,te.style.oTransform=re,te.style.transform=re}}(OpenSeadragon),function(w){var B={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};w.extend(w,{getString:function(j){var U=j.split("."),Y=null,J=arguments,ee=B,te;for(te=0;te<U.length-1;te++)ee=ee[U[te]]||{};return Y=ee[U[te]],typeof Y!="string"&&(w.console.log("Untranslated source string:",j),Y=""),Y.replace(/\{\d+\}/g,function(re){var ie=parseInt(re.match(/\d+/),10)+1;return ie<J.length?J[ie]:""})},setString:function(j,U){var Y=j.split("."),J=B,ee;for(ee=0;ee<Y.length-1;ee++)J[Y[ee]]||(J[Y[ee]]={}),J=J[Y[ee]];J[Y[ee]]=U}})}(OpenSeadragon),function(w){w.Point=function(B,j){this.x=typeof B=="number"?B:0,this.y=typeof j=="number"?j:0},w.Point.prototype={clone:function(){return new w.Point(this.x,this.y)},plus:function(B){return new w.Point(this.x+B.x,this.y+B.y)},minus:function(B){return new w.Point(this.x-B.x,this.y-B.y)},times:function(B){return new w.Point(this.x*B,this.y*B)},divide:function(B){return new w.Point(this.x/B,this.y/B)},negate:function(){return new w.Point(-this.x,-this.y)},distanceTo:function(B){return Math.sqrt(Math.pow(this.x-B.x,2)+Math.pow(this.y-B.y,2))},squaredDistanceTo:function(B){return Math.pow(this.x-B.x,2)+Math.pow(this.y-B.y,2)},apply:function(B){return new w.Point(B(this.x),B(this.y))},equals:function(B){return B instanceof w.Point&&this.x===B.x&&this.y===B.y},rotate:function(B,j){j=j||new w.Point(0,0);var U,Y;if(B%90===0){var J=w.positiveModulo(B,360);switch(J){case 0:U=1,Y=0;break;case 90:U=0,Y=1;break;case 180:U=-1,Y=0;break;case 270:U=0,Y=-1;break}}else{var ee=B*Math.PI/180;U=Math.cos(ee),Y=Math.sin(ee)}var te=U*(this.x-j.x)-Y*(this.y-j.y)+j.x,re=Y*(this.x-j.x)+U*(this.y-j.y)+j.y;return new w.Point(te,re)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(w){w.TileSource=function(j,U,Y,J,ee,te){var re=this,ie=arguments,ce,fe;if(w.isPlainObject(j)?ce=j:ce={width:ie[0],height:ie[1],tileSize:ie[2],tileOverlap:ie[3],minLevel:ie[4],maxLevel:ie[5]},w.EventSource.call(this),w.extend(!0,this,ce),!this.success){for(fe=0;fe<arguments.length;fe++)if(w.isFunction(arguments[fe])){this.success=arguments[fe];break}}this.success&&this.addHandler("ready",function(le){re.success(le)}),w.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new w.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=ce.width&&ce.height?ce.width/ce.height:1,this.dimensions=new w.Point(ce.width,ce.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=ce.tileOverlap?ce.tileOverlap:0,this.minLevel=ce.minLevel?ce.minLevel:0,this.maxLevel=ce.maxLevel!==void 0&&ce.maxLevel!==null?ce.maxLevel:ce.width&&ce.height?Math.ceil(Math.log(Math.max(ce.width,ce.height))/Math.log(2)):0,this.success&&w.isFunction(this.success)&&this.success(this))},w.TileSource.prototype={getTileSize:function(j){return w.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(j){return this._tileWidth?this._tileWidth:this.getTileSize(j)},getTileHeight:function(j){return this._tileHeight?this._tileHeight:this.getTileSize(j)},getLevelScale:function(j){var U={},Y;for(Y=0;Y<=this.maxLevel;Y++)U[Y]=1/Math.pow(2,this.maxLevel-Y);return this.getLevelScale=function(J){return U[J]},this.getLevelScale(j)},getNumTiles:function(j){var U=this.getLevelScale(j),Y=Math.ceil(U*this.dimensions.x/this.getTileWidth(j)),J=Math.ceil(U*this.dimensions.y/this.getTileHeight(j));return new w.Point(Y,J)},getPixelRatio:function(j){var U=this.dimensions.times(this.getLevelScale(j)),Y=1/U.x,J=1/U.y;return new w.Point(Y,J)},getClosestLevel:function(){var j,U;for(j=this.minLevel+1;j<=this.maxLevel&&(U=this.getNumTiles(j),!(U.x>1||U.y>1));j++);return j-1},getTileAtPoint:function(j,U){var Y=U.x>=0&&U.x<=1&&U.y>=0&&U.y<=1/this.aspectRatio;w.console.assert(Y,"[TileSource.getTileAtPoint] must be called with a valid point.");var J=this.dimensions.x*this.getLevelScale(j),ee=U.x*J,te=U.y*J,re=Math.floor(ee/this.getTileWidth(j)),ie=Math.floor(te/this.getTileHeight(j));U.x>=1&&(re=this.getNumTiles(j).x-1);var ce=1e-15;return U.y>=1/this.aspectRatio-ce&&(ie=this.getNumTiles(j).y-1),new w.Point(re,ie)},getTileBounds:function(j,U,Y,J){var ee=this.dimensions.times(this.getLevelScale(j)),te=this.getTileWidth(j),re=this.getTileHeight(j),ie=U===0?0:te*U-this.tileOverlap,ce=Y===0?0:re*Y-this.tileOverlap,fe=te+(U===0?1:2)*this.tileOverlap,le=re+(Y===0?1:2)*this.tileOverlap,ye=1/ee.x;return fe=Math.min(fe,ee.x-ie),le=Math.min(le,ee.y-ce),J?new w.Rect(0,0,fe,le):new w.Rect(ie*ye,ce*ye,fe*ye,le*ye)},getImageInfo:function(j){var U=this,Y,J,ee,te,re,ie,ce;j&&(re=j.split("/"),ie=re[re.length-1],ce=ie.lastIndexOf("."),ce>-1&&(re[re.length-1]=ie.slice(0,ce))),J=function(fe){typeof fe=="string"&&(fe=w.parseXml(fe));var le=w.TileSource.determineType(U,fe,j);if(!le){U.raiseEvent("open-failed",{message:"Unable to load TileSource",source:j});return}te=le.prototype.configure.apply(U,[fe,j]),te.ajaxWithCredentials===void 0&&(te.ajaxWithCredentials=U.ajaxWithCredentials),ee=new le(te),U.ready=!0,U.raiseEvent("ready",{tileSource:ee})},j.match(/\.js$/)?(Y=j.split("/").pop().replace(".js",""),w.jsonp({url:j,async:!1,callbackName:Y,callback:J})):w.makeAjaxRequest({url:j,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(fe){var le=B(fe);J(le)},error:function(fe,le){var ye;try{ye="HTTP "+fe.status+" attempting to load TileSource"}catch{var we;typeof le>"u"||!le.toString?we="Unknown error":we=le.toString(),ye=we+" attempting to load TileSource"}U.raiseEvent("open-failed",{message:ye,source:j})}})},supports:function(j,U){return!1},configure:function(j,U){throw new Error("Method not implemented.")},getTileUrl:function(j,U,Y){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(j,U,Y){return{}},tileExists:function(j,U,Y){var J=this.getNumTiles(j);return j>=this.minLevel&&j<=this.maxLevel&&U>=0&&Y>=0&&U<J.x&&Y<J.y}},w.extend(!0,w.TileSource.prototype,w.EventSource.prototype);function B(j){var U=j.responseText,Y=j.status,J,ee;if(j){if(j.status!==200&&j.status!==0)throw Y=j.status,J=Y==404?"Not Found":j.statusText,new Error(w.getString("Errors.Status",Y,J))}else throw new Error(w.getString("Errors.Security"));if(U.match(/\s*<.*/))try{ee=j.responseXML&&j.responseXML.documentElement?j.responseXML:w.parseXml(U)}catch{ee=j.responseText}else if(U.match(/\s*[\{\[].*/))try{ee=w.parseJSON(U)}catch{ee=U}else ee=U;return ee}w.TileSource.determineType=function(j,U,Y){var J;for(J in OpenSeadragon)if(J.match(/.+TileSource$/)&&w.isFunction(OpenSeadragon[J])&&w.isFunction(OpenSeadragon[J].prototype.supports)&&OpenSeadragon[J].prototype.supports.call(j,U,Y))return OpenSeadragon[J];w.console.error("No TileSource was able to open %s %s",Y,U)}}(OpenSeadragon),function(w){w.DziTileSource=function(U,Y,J,ee,te,re,ie,ce,fe){var le,ye,we,Ce;if(w.isPlainObject(U)?Ce=U:Ce={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=Ce.tilesUrl,this.fileFormat=Ce.fileFormat,this.displayRects=Ce.displayRects,this.displayRects)for(le=this.displayRects.length-1;le>=0;le--)for(ye=this.displayRects[le],we=ye.minLevel;we<=ye.maxLevel;we++)this._levelRects[we]||(this._levelRects[we]=[]),this._levelRects[we].push(ye);w.TileSource.apply(this,[Ce])},w.extend(w.DziTileSource.prototype,w.TileSource.prototype,{supports:function(U,Y){var J;return U.Image?J=U.Image.xmlns:U.documentElement&&(U.documentElement.localName=="Image"||U.documentElement.tagName=="Image")&&(J=U.documentElement.namespaceURI),J=(J||"").toLowerCase(),J.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||J.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(U,Y){var J;return w.isPlainObject(U)?J=j(this,U):J=B(this,U),Y&&!J.tilesUrl&&(J.tilesUrl=Y.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),Y.search(/\.(dzi|xml|js)\?/)!=-1?J.queryParams=Y.match(/\?.*/):J.queryParams=""),J},getTileUrl:function(U,Y,J){return[this.tilesUrl,U,"/",Y,"_",J,".",this.fileFormat,this.queryParams].join("")},tileExists:function(U,Y,J){var ee=this._levelRects[U],te,re,ie,ce,fe,le,ye;if(this.minLevel&&U<this.minLevel||this.maxLevel&&U>this.maxLevel)return!1;if(!ee||!ee.length)return!0;for(ye=ee.length-1;ye>=0;ye--)if(te=ee[ye],!(U<te.minLevel||U>te.maxLevel)&&(re=this.getLevelScale(U),ie=te.x*re,ce=te.y*re,fe=ie+te.width*re,le=ce+te.height*re,ie=Math.floor(ie/this._tileWidth),ce=Math.floor(ce/this._tileWidth),fe=Math.ceil(fe/this._tileWidth),le=Math.ceil(le/this._tileWidth),ie<=Y&&Y<fe&&ce<=J&&J<le))return!0;return!1}});function B(U,Y){if(!Y||!Y.documentElement)throw new Error(w.getString("Errors.Xml"));var J=Y.documentElement,ee=J.localName||J.tagName,te=Y.documentElement.namespaceURI,re=null,ie=[],ce,fe,le,ye,we;if(ee=="Image")try{if(ye=J.getElementsByTagName("Size")[0],ye===void 0&&(ye=J.getElementsByTagNameNS(te,"Size")[0]),re={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:J.getAttribute("Url"),Format:J.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(J.getAttribute("Overlap"),10),TileSize:parseInt(J.getAttribute("TileSize"),10),Size:{Height:parseInt(ye.getAttribute("Height"),10),Width:parseInt(ye.getAttribute("Width"),10)}}},!w.imageFormatSupported(re.Image.Format))throw new Error(w.getString("Errors.ImageFormat",re.Image.Format.toUpperCase()));for(ce=J.getElementsByTagName("DisplayRect"),ce===void 0&&(ce=J.getElementsByTagNameNS(te,"DisplayRect")[0]),we=0;we<ce.length;we++)fe=ce[we],le=fe.getElementsByTagName("Rect")[0],le===void 0&&(le=fe.getElementsByTagNameNS(te,"Rect")[0]),ie.push({Rect:{X:parseInt(le.getAttribute("X"),10),Y:parseInt(le.getAttribute("Y"),10),Width:parseInt(le.getAttribute("Width"),10),Height:parseInt(le.getAttribute("Height"),10),MinLevel:parseInt(fe.getAttribute("MinLevel"),10),MaxLevel:parseInt(fe.getAttribute("MaxLevel"),10)}});return ie.length&&(re.Image.DisplayRect=ie),j(U,re)}catch(ve){throw ve instanceof Error?ve:new Error(w.getString("Errors.Dzi"))}else{if(ee=="Collection")throw new Error(w.getString("Errors.Dzc"));if(ee=="Error"){var Ce=J.getElementsByTagName("Message")[0],ae=Ce.firstChild.nodeValue;throw new Error(ae)}}throw new Error(w.getString("Errors.Dzi"))}function j(U,Y){var J=Y.Image,ee=J.Url,te=J.Format,re=J.Size,ie=J.DisplayRect||[],ce=parseInt(re.Width,10),fe=parseInt(re.Height,10),le=parseInt(J.TileSize,10),ye=parseInt(J.Overlap,10),we=[],Ce,ae;for(ae=0;ae<ie.length;ae++)Ce=ie[ae].Rect,we.push(new w.DisplayRect(parseInt(Ce.X,10),parseInt(Ce.Y,10),parseInt(Ce.Width,10),parseInt(Ce.Height,10),parseInt(Ce.MinLevel,10),parseInt(Ce.MaxLevel,10)));return w.extend(!0,{width:ce,height:fe,tileSize:le,tileOverlap:ye,minLevel:null,maxLevel:null,tilesUrl:ee,fileFormat:te,displayRects:we},Y)}}(OpenSeadragon),function(w){w.IIIFTileSource=function(J){if(w.extend(!0,this,J),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(J.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=J.version,this.tile_width&&this.tile_height)J.tileWidth=this.tile_width,J.tileHeight=this.tile_height;else if(this.tile_width)J.tileSize=this.tile_width;else if(this.tile_height)J.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)J.tileWidth=this.tiles[0].width,J.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var ee=0;ee<this.tiles.length;ee++)for(var te=0;te<this.tiles[ee].scaleFactors.length;te++){var re=this.tiles[ee].scaleFactors[te];this.scale_factors.push(re),J.tileSizePerScaleFactor[re]={width:this.tiles[ee].width,height:this.tiles[ee].height||this.tiles[ee].width}}}else if(B(J)){for(var ie=Math.min(this.height,this.width),ce=[256,512,1024],fe=[],le=0;le<ce.length;le++)ce[le]<=ie&&fe.push(ce[le]);fe.length>0?J.tileSize=Math.max.apply(null,fe):J.tileSize=ie}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,J.levels=j(this),w.extend(!0,J,{width:J.levels[J.levels.length-1].width,height:J.levels[J.levels.length-1].height,tileSize:Math.max(J.height,J.width),tileOverlap:0,minLevel:0,maxLevel:J.levels.length-1}),this.levels=J.levels):w.console.error("Nothing in the info.json to construct image pyramids from");if(!J.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)J.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var ye=Math.max.apply(null,this.scale_factors);J.maxLevel=Math.round(Math.log(ye)*Math.LOG2E)}w.TileSource.apply(this,[J])},w.extend(w.IIIFTileSource.prototype,w.TileSource.prototype,{supports:function(J,ee){return J.protocol&&J.protocol=="http://iiif.io/api/image"||J["@context"]&&(J["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||J["@context"]=="http://iiif.io/api/image/1/context.json")||J.profile&&J.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||J.identifier&&J.width&&J.height?!0:!!(J.documentElement&&J.documentElement.tagName=="info"&&J.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(J,ee){if(w.isPlainObject(J)){if(!J["@context"])J["@context"]="http://iiif.io/api/image/1.0/context.json",J["@id"]=ee.replace("/info.json",""),J.version=1;else{var re=J["@context"];if(Array.isArray(re)){for(var ie=0;ie<re.length;ie++)if(typeof re[ie]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(re[ie])||re[ie]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){re=re[ie];break}}switch(re){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":J.version=1;break;case"http://iiif.io/api/image/2/context.json":J.version=2;break;case"http://iiif.io/api/image/3/context.json":J.version=3;break;default:w.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!J["@id"]&&J.id&&(J["@id"]=J.id),J.preferredFormats){for(var ce=0;ce<J.preferredFormats.length;ce++)if(OpenSeadragon.imageFormatSupported(J.preferredFormats[ce])){J.tileFormat=J.preferredFormats[ce];break}}return J}else{var te=U(J);return te["@context"]="http://iiif.io/api/image/1.0/context.json",te["@id"]=ee.replace("/info.xml",""),te.version=1,te}},getTileWidth:function(J){if(this.emulateLegacyImagePyramid)return w.TileSource.prototype.getTileWidth.call(this,J);var ee=Math.pow(2,this.maxLevel-J);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[ee]?this.tileSizePerScaleFactor[ee].width:this._tileWidth},getTileHeight:function(J){if(this.emulateLegacyImagePyramid)return w.TileSource.prototype.getTileHeight.call(this,J);var ee=Math.pow(2,this.maxLevel-J);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[ee]?this.tileSizePerScaleFactor[ee].height:this._tileHeight},getLevelScale:function(J){if(this.emulateLegacyImagePyramid){var ee=NaN;return this.levels.length>0&&J>=this.minLevel&&J<=this.maxLevel&&(ee=this.levels[J].width/this.levels[this.maxLevel].width),ee}return w.TileSource.prototype.getLevelScale.call(this,J)},getNumTiles:function(J){if(this.emulateLegacyImagePyramid){var ee=this.getLevelScale(J);return ee?new w.Point(1,1):new w.Point(0,0)}return w.TileSource.prototype.getNumTiles.call(this,J)},getTileAtPoint:function(J,ee){return this.emulateLegacyImagePyramid?new w.Point(0,0):w.TileSource.prototype.getTileAtPoint.call(this,J,ee)},getTileUrl:function(J,ee,te){if(this.emulateLegacyImagePyramid){var re=null;return this.levels.length>0&&J>=this.minLevel&&J<=this.maxLevel&&(re=this.levels[J].url),re}var ie="0",ce=Math.pow(.5,this.maxLevel-J),fe=Math.ceil(this.width*ce),le=Math.ceil(this.height*ce),ye,we,Ce,ae,ve,xe,_e,Pe,Me,je,Ve,He,Ze,Ue;return ye=this.getTileWidth(J),we=this.getTileHeight(J),Ce=Math.ceil(ye/ce),ae=Math.ceil(we/ce),this.version===1?Ze="native."+this.tileFormat:Ze="default."+this.tileFormat,fe<ye&&le<we?(this.version===2&&fe===this.width||this.version===3&&fe===this.width&&le===this.height?je="max":this.version===3?je=fe+","+le:je=fe+",",ve="full"):(xe=ee*Ce,_e=te*ae,Pe=Math.min(Ce,this.width-xe),Me=Math.min(ae,this.height-_e),ee===0&&te===0&&Pe===this.width&&Me===this.height?ve="full":ve=[xe,_e,Pe,Me].join(","),Ve=Math.ceil(Pe*ce),He=Math.ceil(Me*ce),this.version===2&&Ve===this.width||this.version===3&&Ve===this.width&&He===this.height?je="max":this.version===3?je=Ve+","+He:je=Ve+","),Ue=[this["@id"],ve,je,ie,Ze].join("/"),Ue},__testonly__:{canBeTiled:B,constructLevels:j}});function B(J){var ee=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],te=Array.isArray(J.profile)?J.profile[0]:J.profile,re=ee.indexOf(te)!==-1,ie=!1;return J.version===2&&J.profile.length>1&&J.profile[1].supports&&(ie=J.profile[1].supports.indexOf("sizeByW")!==-1),J.version===3&&J.extraFeatures&&(ie=J.extraFeatures.indexOf("sizeByWh")!==-1),!re||ie}function j(J){for(var ee=[],te=0;te<J.sizes.length;te++)ee.push({url:J["@id"]+"/full/"+J.sizes[te].width+","+(J.version===3?J.sizes[te].height:"")+"/0/default."+J.tileFormat,width:J.sizes[te].width,height:J.sizes[te].height});return ee.sort(function(re,ie){return re.width-ie.width})}function U(J){if(!J||!J.documentElement)throw new Error(w.getString("Errors.Xml"));var ee=J.documentElement,te=ee.tagName,re=null;if(te=="info")try{return re={},Y(ee,re),re}catch(ie){throw ie instanceof Error?ie:new Error(w.getString("Errors.IIIF"))}throw new Error(w.getString("Errors.IIIF"))}function Y(J,ee,te){var re,ie;if(J.nodeType==3&&te)ie=J.nodeValue.trim(),ie.match(/^\d*$/)&&(ie=Number(ie)),ee[te]?(w.isArray(ee[te])||(ee[te]=[ee[te]]),ee[te].push(ie)):ee[te]=ie;else if(J.nodeType==1)for(re=0;re<J.childNodes.length;re++)Y(J.childNodes[re],ee,J.nodeName)}}(OpenSeadragon),function(w){w.OsmTileSource=function(B,j,U,Y,J){var ee;w.isPlainObject(B)?ee=B:ee={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!ee.width||!ee.height)&&(ee.width=65572864,ee.height=65572864),ee.tileSize||(ee.tileSize=256,ee.tileOverlap=0),ee.tilesUrl||(ee.tilesUrl="http://tile.openstreetmap.org/"),ee.minLevel=8,w.TileSource.apply(this,[ee])},w.extend(w.OsmTileSource.prototype,w.TileSource.prototype,{supports:function(B,j){return B.type&&B.type=="openstreetmaps"},configure:function(B,j){return B},getTileUrl:function(B,j,U){return this.tilesUrl+(B-8)+"/"+j+"/"+U+".png"}})}(OpenSeadragon),function(w){w.TmsTileSource=function(B,j,U,Y,J){var ee;w.isPlainObject(B)?ee=B:ee={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var te=Math.ceil(ee.width/256)*256,re=Math.ceil(ee.height/256)*256,ie;te>re?ie=te/256:ie=re/256,ee.maxLevel=Math.ceil(Math.log(ie)/Math.log(2))-1,ee.tileSize=256,ee.width=te,ee.height=re,w.TileSource.apply(this,[ee])},w.extend(w.TmsTileSource.prototype,w.TileSource.prototype,{supports:function(B,j){return B.type&&B.type=="tiledmapservice"},configure:function(B,j){return B},getTileUrl:function(B,j,U){var Y=this.getNumTiles(B).y-1;return this.tilesUrl+B+"/"+j+"/"+(Y-U)+".png"}})}(OpenSeadragon),function(w){w.ZoomifyTileSource=function(B){B.tileSize=256;var j={x:B.width,y:B.height};for(B.imageSizes=[{x:B.width,y:B.height}],B.gridSize=[this._getGridSize(B.width,B.height,B.tileSize)];parseInt(j.x,10)>B.tileSize||parseInt(j.y,10)>B.tileSize;)j.x=Math.floor(j.x/2),j.y=Math.floor(j.y/2),B.imageSizes.push({x:j.x,y:j.y}),B.gridSize.push(this._getGridSize(j.x,j.y,B.tileSize));B.imageSizes.reverse(),B.gridSize.reverse(),B.minLevel=0,B.maxLevel=B.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[B])},w.extend(w.ZoomifyTileSource.prototype,w.TileSource.prototype,{_getGridSize:function(B,j,U){return{x:Math.ceil(B/U),y:Math.ceil(j/U)}},_calculateAbsoluteTileNumber:function(B,j,U){for(var Y=0,J={},ee=0;ee<B;ee++)J=this.gridSize[ee],Y+=J.x*J.y;return J=this.gridSize[B],Y+=J.x*U+j,Y},supports:function(B,j){return B.type&&B.type=="zoomifytileservice"},configure:function(B,j){return B},getTileUrl:function(B,j,U){var Y=0,J=this._calculateAbsoluteTileNumber(B,j,U);return Y=Math.floor(J/256),this.tilesUrl+"TileGroup"+Y+"/"+B+"-"+j+"-"+U+".jpg"}})}(OpenSeadragon),function(w){w.LegacyTileSource=function(Y){var J,ee,te;w.isArray(Y)&&(J={type:"legacy-image-pyramid",levels:Y}),J.levels=B(J.levels),J.levels.length>0?(ee=J.levels[J.levels.length-1].width,te=J.levels[J.levels.length-1].height):(ee=0,te=0,w.console.error("No supported image formats found")),w.extend(!0,J,{width:ee,height:te,tileSize:Math.max(te,ee),tileOverlap:0,minLevel:0,maxLevel:J.levels.length>0?J.levels.length-1:0}),w.TileSource.apply(this,[J]),this.levels=J.levels},w.extend(w.LegacyTileSource.prototype,w.TileSource.prototype,{supports:function(Y,J){return Y.type&&Y.type=="legacy-image-pyramid"||Y.documentElement&&Y.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(Y,J){var ee;return w.isPlainObject(Y)?ee=U(this,Y):ee=j(this,Y),ee},getLevelScale:function(Y){var J=NaN;return this.levels.length>0&&Y>=this.minLevel&&Y<=this.maxLevel&&(J=this.levels[Y].width/this.levels[this.maxLevel].width),J},getNumTiles:function(Y){var J=this.getLevelScale(Y);return J?new w.Point(1,1):new w.Point(0,0)},getTileUrl:function(Y,J,ee){var te=null;return this.levels.length>0&&Y>=this.minLevel&&Y<=this.maxLevel&&(te=this.levels[Y].url),te}});function B(Y){var J=[],ee,te;for(te=0;te<Y.length;te++)ee=Y[te],ee.height&&ee.width&&ee.url?J.push({url:ee.url,width:Number(ee.width),height:Number(ee.height)}):w.console.error("Unsupported image format: %s",ee.url?ee.url:"<no URL>");return J.sort(function(re,ie){return re.height-ie.height})}function j(Y,J){if(!J||!J.documentElement)throw new Error(w.getString("Errors.Xml"));var ee=J.documentElement,te=ee.tagName,re=null,ie=[],ce,fe;if(te=="image")try{for(re={type:ee.getAttribute("type"),levels:[]},ie=ee.getElementsByTagName("level"),fe=0;fe<ie.length;fe++)ce=ie[fe],re.levels.push({url:ce.getAttribute("url"),width:parseInt(ce.getAttribute("width"),10),height:parseInt(ce.getAttribute("height"),10)});return U(Y,re)}catch(le){throw le instanceof Error?le:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(te=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(te=="error")throw new Error("Error: "+J)}throw new Error("Unknown element "+te)}function U(Y,J){return J.levels}}(OpenSeadragon),function(w){w.ImageTileSource=function(B){B=w.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},B),w.TileSource.apply(this,[B])},w.extend(w.ImageTileSource.prototype,w.TileSource.prototype,{supports:function(B,j){return B.type&&B.type==="image"},configure:function(B,j){return B},getImageInfo:function(B){var j=this._image=new Image,U=this;this.crossOriginPolicy&&(j.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(j.useCredentials=this.ajaxWithCredentials),w.addEvent(j,"load",function(){U.width=Object.prototype.hasOwnProperty.call(j,"naturalWidth")?j.naturalWidth:j.width,U.height=Object.prototype.hasOwnProperty.call(j,"naturalHeight")?j.naturalHeight:j.height,U.aspectRatio=U.width/U.height,U.dimensions=new w.Point(U.width,U.height),U._tileWidth=U.width,U._tileHeight=U.height,U.tileOverlap=0,U.minLevel=0,U.levels=U._buildLevels(),U.maxLevel=U.levels.length-1,U.ready=!0,U.raiseEvent("ready",{tileSource:U})}),w.addEvent(j,"error",function(){U.raiseEvent("open-failed",{message:"Error loading image at "+B,source:B})}),j.src=B},getLevelScale:function(B){var j=NaN;return B>=this.minLevel&&B<=this.maxLevel&&(j=this.levels[B].width/this.levels[this.maxLevel].width),j},getNumTiles:function(B){var j=this.getLevelScale(B);return j?new w.Point(1,1):new w.Point(0,0)},getTileUrl:function(B,j,U){var Y=null;return B>=this.minLevel&&B<=this.maxLevel&&(Y=this.levels[B].url),Y},getContext2D:function(B,j,U){var Y=null;return B>=this.minLevel&&B<=this.maxLevel&&(Y=this.levels[B].context2D),Y},_buildLevels:function(){var B=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!w.supportsCanvas||!this.useCanvas)return delete this._image,B;var j=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,U=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,Y=document.createElement("canvas"),J=Y.getContext("2d");if(Y.width=j,Y.height=U,J.drawImage(this._image,0,0,j,U),B[0].context2D=J,delete this._image,w.isCanvasTainted(Y))return B;for(;j>=2&&U>=2;){j=Math.floor(j/2),U=Math.floor(U/2);var ee=document.createElement("canvas"),te=ee.getContext("2d");ee.width=j,ee.height=U,te.drawImage(Y,0,0,j,U),B.splice(0,0,{context2D:te,width:j,height:U}),Y=ee,J=te}return B}})}(OpenSeadragon),function(w){w.TileSourceCollection=function(B,j,U,Y){w.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(w){w.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},w.Button=function(te){var re=this;w.EventSource.call(this),w.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:w.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:w.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},te),this.element=te.element||w.makeNeutralElement("div"),te.element||(this.imgRest=w.makeTransparentImage(this.srcRest),this.imgGroup=w.makeTransparentImage(this.srcGroup),this.imgHover=w.makeTransparentImage(this.srcHover),this.imgDown=w.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",w.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",w.Browser.vendor==w.BROWSERS.FIREFOX&&w.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=w.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new w.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(ie){ie.insideElementPressed?(J(re,w.ButtonState.DOWN),re.raiseEvent("enter",{originalEvent:ie.originalEvent})):ie.buttonDownAny||J(re,w.ButtonState.HOVER)},focusHandler:function(ie){this.enterHandler(ie),re.raiseEvent("focus",{originalEvent:ie.originalEvent})},exitHandler:function(ie){ee(re,w.ButtonState.GROUP),ie.insideElementPressed&&re.raiseEvent("exit",{originalEvent:ie.originalEvent})},blurHandler:function(ie){this.exitHandler(ie),re.raiseEvent("blur",{originalEvent:ie.originalEvent})},pressHandler:function(ie){J(re,w.ButtonState.DOWN),re.raiseEvent("press",{originalEvent:ie.originalEvent})},releaseHandler:function(ie){ie.insideElementPressed&&ie.insideElementReleased?(ee(re,w.ButtonState.HOVER),re.raiseEvent("release",{originalEvent:ie.originalEvent})):ie.insideElementPressed?ee(re,w.ButtonState.GROUP):J(re,w.ButtonState.HOVER)},clickHandler:function(ie){ie.quick&&re.raiseEvent("click",{originalEvent:ie.originalEvent})},keyHandler:function(ie){return ie.keyCode===13?(re.raiseEvent("click",{originalEvent:ie.originalEvent}),re.raiseEvent("release",{originalEvent:ie.originalEvent}),!1):!0}}),ee(this,w.ButtonState.REST)},w.extend(w.Button.prototype,w.EventSource.prototype,{notifyGroupEnter:function(){J(this,w.ButtonState.GROUP)},notifyGroupExit:function(){ee(this,w.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,w.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,w.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function B(te){w.requestAnimationFrame(function(){j(te)})}function j(te){var re,ie,ce;te.shouldFade&&(re=w.now(),ie=re-te.fadeBeginTime,ce=1-ie/te.fadeLength,ce=Math.min(1,ce),ce=Math.max(0,ce),te.imgGroup&&w.setElementOpacity(te.imgGroup,ce,!0),ce>0&&B(te))}function U(te){te.shouldFade=!0,te.fadeBeginTime=w.now()+te.fadeDelay,window.setTimeout(function(){B(te)},te.fadeDelay)}function Y(te){te.shouldFade=!1,te.imgGroup&&w.setElementOpacity(te.imgGroup,1,!0)}function J(te,re){te.element.disabled||(re>=w.ButtonState.GROUP&&te.currentState==w.ButtonState.REST&&(Y(te),te.currentState=w.ButtonState.GROUP),re>=w.ButtonState.HOVER&&te.currentState==w.ButtonState.GROUP&&(te.imgHover&&(te.imgHover.style.visibility=""),te.currentState=w.ButtonState.HOVER),re>=w.ButtonState.DOWN&&te.currentState==w.ButtonState.HOVER&&(te.imgDown&&(te.imgDown.style.visibility=""),te.currentState=w.ButtonState.DOWN))}function ee(te,re){te.element.disabled||(re<=w.ButtonState.HOVER&&te.currentState==w.ButtonState.DOWN&&(te.imgDown&&(te.imgDown.style.visibility="hidden"),te.currentState=w.ButtonState.HOVER),re<=w.ButtonState.GROUP&&te.currentState==w.ButtonState.HOVER&&(te.imgHover&&(te.imgHover.style.visibility="hidden"),te.currentState=w.ButtonState.GROUP),re<=w.ButtonState.REST&&te.currentState==w.ButtonState.GROUP&&(U(te),te.currentState=w.ButtonState.REST))}}(OpenSeadragon),function(w){w.ButtonGroup=function(B){w.extend(!0,this,{buttons:[],clickTimeThreshold:w.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:w.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},B);var j=this.buttons.concat([]),U=this,Y;if(this.element=B.element||w.makeNeutralElement("div"),!B.group)for(this.element.style.display="inline-block",Y=0;Y<j.length;Y++)this.element.appendChild(j[Y].element);w.setElementTouchActionNone(this.element),this.tracker=new w.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(J){var ee;for(ee=0;ee<U.buttons.length;ee++)U.buttons[ee].notifyGroupEnter()},exitHandler:function(J){var ee;if(!J.insideElementPressed)for(ee=0;ee<U.buttons.length;ee++)U.buttons[ee].notifyGroupExit()}})},w.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(w){w.Rect=function(B,j,U,Y,J){this.x=typeof B=="number"?B:0,this.y=typeof j=="number"?j:0,this.width=typeof U=="number"?U:0,this.height=typeof Y=="number"?Y:0,this.degrees=typeof J=="number"?J:0,this.degrees=w.positiveModulo(this.degrees,360);var ee,te;this.degrees>=270?(ee=this.getTopRight(),this.x=ee.x,this.y=ee.y,te=this.height,this.height=this.width,this.width=te,this.degrees-=270):this.degrees>=180?(ee=this.getBottomRight(),this.x=ee.x,this.y=ee.y,this.degrees-=180):this.degrees>=90&&(ee=this.getBottomLeft(),this.x=ee.x,this.y=ee.y,te=this.height,this.height=this.width,this.width=te,this.degrees-=90)},w.Rect.fromSummits=function(B,j,U){var Y=B.distanceTo(j),J=B.distanceTo(U),ee=j.minus(B),te=Math.atan(ee.y/ee.x);return ee.x<0?te+=Math.PI:ee.y<0&&(te+=2*Math.PI),new w.Rect(B.x,B.y,Y,J,te/Math.PI*180)},w.Rect.prototype={clone:function(){return new w.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new w.Point(this.x,this.y)},getBottomRight:function(){return new w.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new w.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new w.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new w.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new w.Point(this.width,this.height)},equals:function(B){return B instanceof w.Rect&&this.x===B.x&&this.y===B.y&&this.width===B.width&&this.height===B.height&&this.degrees===B.degrees},times:function(B){return new w.Rect(this.x*B,this.y*B,this.width*B,this.height*B,this.degrees)},translate:function(B){return new w.Rect(this.x+B.x,this.y+B.y,this.width,this.height,this.degrees)},union:function(B){var j=this.getBoundingBox(),U=B.getBoundingBox(),Y=Math.min(j.x,U.x),J=Math.min(j.y,U.y),ee=Math.max(j.x+j.width,U.x+U.width),te=Math.max(j.y+j.height,U.y+U.height);return new w.Rect(Y,J,ee-Y,te-J)},intersection:function(B){var j=1e-10,U=[],Y=this.getTopLeft();B.containsPoint(Y,j)&&U.push(Y);var J=this.getTopRight();B.containsPoint(J,j)&&U.push(J);var ee=this.getBottomLeft();B.containsPoint(ee,j)&&U.push(ee);var te=this.getBottomRight();B.containsPoint(te,j)&&U.push(te);var re=B.getTopLeft();this.containsPoint(re,j)&&U.push(re);var ie=B.getTopRight();this.containsPoint(ie,j)&&U.push(ie);var ce=B.getBottomLeft();this.containsPoint(ce,j)&&U.push(ce);var fe=B.getBottomRight();this.containsPoint(fe,j)&&U.push(fe);for(var le=this._getSegments(),ye=B._getSegments(),we=0;we<le.length;we++)for(var Ce=le[we],ae=0;ae<ye.length;ae++){var ve=ye[ae],xe=_e(Ce[0],Ce[1],ve[0],ve[1]);xe&&U.push(xe)}function _e(Ue,it,Fe,ht){var ft=it.minus(Ue),St=ht.minus(Fe),gt=-St.x*ft.y+ft.x*St.y;if(gt===0)return null;var nt=(ft.x*(Ue.y-Fe.y)-ft.y*(Ue.x-Fe.x))/gt,yt=(St.x*(Ue.y-Fe.y)-St.y*(Ue.x-Fe.x))/gt;return-j<=nt&&nt<=1-j&&-j<=yt&&yt<=1-j?new w.Point(Ue.x+yt*ft.x,Ue.y+yt*ft.y):null}if(U.length===0)return null;for(var Pe=U[0].x,Me=U[0].x,je=U[0].y,Ve=U[0].y,He=1;He<U.length;He++){var Ze=U[He];Ze.x<Pe&&(Pe=Ze.x),Ze.x>Me&&(Me=Ze.x),Ze.y<je&&(je=Ze.y),Ze.y>Ve&&(Ve=Ze.y)}return new w.Rect(Pe,je,Me-Pe,Ve-je)},_getSegments:function(){var B=this.getTopLeft(),j=this.getTopRight(),U=this.getBottomLeft(),Y=this.getBottomRight();return[[B,j],[j,Y],[Y,U],[U,B]]},rotate:function(B,j){if(B=w.positiveModulo(B,360),B===0)return this.clone();j=j||this.getCenter();var U=this.getTopLeft().rotate(B,j),Y=this.getTopRight().rotate(B,j),J=Y.minus(U);J=J.apply(function(te){var re=1e-15;return Math.abs(te)<re?0:te});var ee=Math.atan(J.y/J.x);return J.x<0?ee+=Math.PI:J.y<0&&(ee+=2*Math.PI),new w.Rect(U.x,U.y,this.width,this.height,ee/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var B=this.getTopLeft(),j=this.getTopRight(),U=this.getBottomLeft(),Y=this.getBottomRight(),J=Math.min(B.x,j.x,U.x,Y.x),ee=Math.max(B.x,j.x,U.x,Y.x),te=Math.min(B.y,j.y,U.y,Y.y),re=Math.max(B.y,j.y,U.y,Y.y);return new w.Rect(J,te,ee-J,re-te)},getIntegerBoundingBox:function(){var B=this.getBoundingBox(),j=Math.floor(B.x),U=Math.floor(B.y),Y=Math.ceil(B.width+B.x-j),J=Math.ceil(B.height+B.y-U);return new w.Rect(j,U,Y,J)},containsPoint:function(B,j){j=j||0;var U=this.getTopLeft(),Y=this.getTopRight(),J=this.getBottomLeft(),ee=Y.minus(U),te=J.minus(U);return(B.x-U.x)*ee.x+(B.y-U.y)*ee.y>=-j&&(B.x-Y.x)*ee.x+(B.y-Y.y)*ee.y<=j&&(B.x-U.x)*te.x+(B.y-U.y)*te.y>=-j&&(B.x-J.x)*te.x+(B.y-J.y)*te.y<=j},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(w){var B={};w.ReferenceStrip=function(ie){var ce=this,fe=ie.viewer,le=w.getElementSize(fe.element),ye,we,Ce;for(ie.id||(ie.id="referencestrip-"+w.now(),this.element=w.makeNeutralElement("div"),this.element.id=ie.id,this.element.className="referencestrip"),ie=w.extend(!0,{sizeRatio:w.DEFAULT_SETTINGS.referenceStripSizeRatio,position:w.DEFAULT_SETTINGS.referenceStripPosition,scroll:w.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:w.DEFAULT_SETTINGS.clickTimeThreshold},ie,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),w.extend(this,ie),B[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,we=this.element.style,we.marginTop="0px",we.marginRight="0px",we.marginBottom="0px",we.marginLeft="0px",we.left="0px",we.bottom="0px",we.border="0px",we.background="#000",we.position="relative",w.setElementTouchActionNone(this.element),w.setElementOpacity(this.element,.8),this.viewer=fe,this.innerTracker=new w.MouseTracker({element:this.element,dragHandler:w.delegate(this,j),scrollHandler:w.delegate(this,U),enterHandler:w.delegate(this,J),exitHandler:w.delegate(this,ee),keyDownHandler:w.delegate(this,te),keyHandler:w.delegate(this,re)}),ie.width&&ie.height?(this.element.style.width=ie.width+"px",this.element.style.height=ie.height+"px",fe.addControl(this.element,{anchor:w.ControlAnchor.BOTTOM_LEFT})):ie.scroll=="horizontal"?(this.element.style.width=le.x*ie.sizeRatio*fe.tileSources.length+12*fe.tileSources.length+"px",this.element.style.height=le.y*ie.sizeRatio+"px",fe.addControl(this.element,{anchor:w.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=le.y*ie.sizeRatio*fe.tileSources.length+12*fe.tileSources.length+"px",this.element.style.width=le.x*ie.sizeRatio+"px",fe.addControl(this.element,{anchor:w.ControlAnchor.TOP_LEFT})),this.panelWidth=le.x*this.sizeRatio+8,this.panelHeight=le.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},Ce=0;Ce<fe.tileSources.length;Ce++)ye=w.makeNeutralElement("div"),ye.id=this.element.id+"-"+Ce,ye.style.width=ce.panelWidth+"px",ye.style.height=ce.panelHeight+"px",ye.style.display="inline",ye.style.float="left",ye.style.cssFloat="left",ye.style.styleFloat="left",ye.style.padding="2px",w.setElementTouchActionNone(ye),ye.innerTracker=new w.MouseTracker({element:ye,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(ae){ae.eventSource.dragging=w.now()},releaseHandler:function(ae){var ve=ae.eventSource,xe=ve.element.id,_e=Number(xe.split("-")[2]),Pe=w.now();ae.insideElementPressed&&ae.insideElementReleased&&ve.dragging&&Pe-ve.dragging<ve.clickTimeThreshold&&(ve.dragging=null,fe.goToPage(_e))}}),this.element.appendChild(ye),ye.activePanel=!1,this.panels.push(ye);Y(this,this.scroll=="vertical"?le.y:le.x,0),this.setFocus(0)},w.extend(w.ReferenceStrip.prototype,w.EventSource.prototype,w.Viewer.prototype,{setFocus:function(ie){var ce=this.element.querySelector("#"+this.element.id+"-"+ie),fe=w.getElementSize(this.viewer.canvas),le=Number(this.element.style.width.replace("px","")),ye=Number(this.element.style.height.replace("px","")),we=-Number(this.element.style.marginLeft.replace("px","")),Ce=-Number(this.element.style.marginTop.replace("px","")),ae;this.currentSelected!==ce&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=ce,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(ae=Number(ie)*(this.panelWidth+3),ae>we+fe.x-this.panelWidth?(ae=Math.min(ae,le-fe.x),this.element.style.marginLeft=-ae+"px",Y(this,fe.x,-ae)):ae<we&&(ae=Math.max(0,ae-fe.x/2),this.element.style.marginLeft=-ae+"px",Y(this,fe.x,-ae))):(ae=Number(ie)*(this.panelHeight+3),ae>Ce+fe.y-this.panelHeight?(ae=Math.min(ae,ye-fe.y),this.element.style.marginTop=-ae+"px",Y(this,fe.y,-ae)):ae<Ce&&(ae=Math.max(0,ae-fe.y/2),this.element.style.marginTop=-ae+"px",Y(this,fe.y,-ae))),this.currentPage=ie,J.call(this,{eventSource:this.innerTracker}))},update:function(){return B[this.id].animating?(w.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var ie in this.miniViewers)this.miniViewers[ie].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function j(ie){var ce=Number(this.element.style.marginLeft.replace("px","")),fe=Number(this.element.style.marginTop.replace("px","")),le=Number(this.element.style.width.replace("px","")),ye=Number(this.element.style.height.replace("px","")),we=w.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-ie.delta.x>0?ce>-(le-we.x)&&(this.element.style.marginLeft=ce+ie.delta.x*2+"px",Y(this,we.x,ce+ie.delta.x*2)):-ie.delta.x<0&&ce<0&&(this.element.style.marginLeft=ce+ie.delta.x*2+"px",Y(this,we.x,ce+ie.delta.x*2)):-ie.delta.y>0?fe>-(ye-we.y)&&(this.element.style.marginTop=fe+ie.delta.y*2+"px",Y(this,we.y,fe+ie.delta.y*2)):-ie.delta.y<0&&fe<0&&(this.element.style.marginTop=fe+ie.delta.y*2+"px",Y(this,we.y,fe+ie.delta.y*2))),!1}function U(ie){var ce=Number(this.element.style.marginLeft.replace("px","")),fe=Number(this.element.style.marginTop.replace("px","")),le=Number(this.element.style.width.replace("px","")),ye=Number(this.element.style.height.replace("px","")),we=w.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?ie.scroll>0?ce>-(le-we.x)&&(this.element.style.marginLeft=ce-ie.scroll*60+"px",Y(this,we.x,ce-ie.scroll*60)):ie.scroll<0&&ce<0&&(this.element.style.marginLeft=ce-ie.scroll*60+"px",Y(this,we.x,ce-ie.scroll*60)):ie.scroll<0?fe>we.y-ye&&(this.element.style.marginTop=fe+ie.scroll*60+"px",Y(this,we.y,fe+ie.scroll*60)):ie.scroll>0&&fe<0&&(this.element.style.marginTop=fe+ie.scroll*60+"px",Y(this,we.y,fe+ie.scroll*60))),!1}function Y(ie,ce,fe){var le,ye,we,Ce,ae,ve,xe;for(ie.scroll=="horizontal"?le=ie.panelWidth:le=ie.panelHeight,ye=Math.ceil(ce/le)+5,we=Math.ceil((Math.abs(fe)+ce)/le)+1,ye=we-ye,ye=ye<0?0:ye,ve=ye;ve<we&&ve<ie.panels.length;ve++)if(xe=ie.panels[ve],!xe.activePanel){var _e,Pe=ie.viewer.tileSources[ve];Pe.referenceStripThumbnailUrl?_e={type:"image",url:Pe.referenceStripThumbnailUrl}:_e=Pe,Ce=new w.Viewer({id:xe.id,tileSources:[_e],element:xe,navigatorSizeRatio:ie.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:ie.viewer.loadTilesWithAjax,ajaxHeaders:ie.viewer.ajaxHeaders,useCanvas:ie.useCanvas}),Ce.displayRegion=w.makeNeutralElement("div"),Ce.displayRegion.id=xe.id+"-displayregion",Ce.displayRegion.className="displayregion",ae=Ce.displayRegion.style,ae.position="relative",ae.top="0px",ae.left="0px",ae.fontSize="0px",ae.overflow="hidden",ae.float="left",ae.cssFloat="left",ae.styleFloat="left",ae.zIndex=999999999,ae.cursor="default",ae.width=ie.panelWidth-4+"px",ae.height=ie.panelHeight-4+"px",Ce.displayRegion.innerTracker=new w.MouseTracker({element:Ce.displayRegion,startDisabled:!0}),xe.getElementsByTagName("div")[0].appendChild(Ce.displayRegion),ie.miniViewers[xe.id]=Ce,xe.activePanel=!0}}function J(ie){var ce=ie.eventSource.element;return this.scroll=="horizontal"?ce.style.marginBottom="0px":ce.style.marginLeft="0px",!1}function ee(ie){var ce=ie.eventSource.element;return this.scroll=="horizontal"?ce.style.marginBottom="-"+w.getElementSize(ce).y/2+"px":ce.style.marginLeft="-"+w.getElementSize(ce).x/2+"px",!1}function te(ie){if(!ie.preventDefaultAction&&!ie.ctrl&&!ie.alt&&!ie.meta)switch(ie.keyCode){case 38:return U.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return U.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return U.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return U.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function re(ie){if(!ie.preventDefaultAction&&!ie.ctrl&&!ie.alt&&!ie.meta)switch(ie.keyCode){case 61:return U.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return U.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return U.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return U.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return U.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return U.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(w){w.DisplayRect=function(B,j,U,Y,J,ee){w.Rect.apply(this,[B,j,U,Y]),this.minLevel=J,this.maxLevel=ee},w.extend(w.DisplayRect.prototype,w.Rect.prototype)}(OpenSeadragon),function(w){w.Spring=function(j){var U=arguments;typeof j!="object"&&(j={initial:U.length&&typeof U[0]=="number"?U[0]:void 0,springStiffness:U.length>1?U[1].springStiffness:5,animationTime:U.length>1?U[1].animationTime:1.5}),w.console.assert(typeof j.springStiffness=="number"&&j.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),w.console.assert(typeof j.animationTime=="number"&&j.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),j.exponential&&(this._exponential=!0,delete j.exponential),w.extend(!0,this,j),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:w.now()},w.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},w.Spring.prototype={resetTo:function(j){w.console.assert(!this._exponential||j!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=j,this.start.time=this.target.time=this.current.time=w.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(j){w.console.assert(!this._exponential||j!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=j,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(j){this.start.value+=j,this.target.value+=j,this._exponential&&(w.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(j){this._exponential=j,this._exponential&&(w.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=w.now();var j,U;this._exponential?(j=this.start._logValue,U=this.target._logValue):(j=this.start.value,U=this.target.value);var Y=this.current.time>=this.target.time?U:j+(U-j)*B(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),J=this.current.value;return this._exponential?this.current.value=Math.exp(Y):this.current.value=Y,J!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function B(j,U){return(1-Math.exp(j*-U))/(1-Math.exp(-j))}}(OpenSeadragon),function(w){function B(U){w.extend(!0,this,{timeout:w.DEFAULT_SETTINGS.timeout,jobId:null},U),this.image=null}B.prototype={errorMsg:null,start:function(){var U=this,Y=this.abort;this.image=new Image,this.image.onload=function(){U.finish(!0)},this.image.onabort=this.image.onerror=function(){U.errorMsg="Image load aborted",U.finish(!1)},this.jobId=window.setTimeout(function(){U.errorMsg="Image load exceeded timeout ("+U.timeout+" ms)",U.finish(!1)},this.timeout),this.loadWithAjax?(this.request=w.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(J){var ee;try{ee=new window.Blob([J.response])}catch(ce){var te=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(ce.name==="TypeError"&&te){var re=new te;re.append(J.response),ee=re.getBlob()}}ee.size===0&&(U.errorMsg="Empty image response.",U.finish(!1));var ie=(window.URL||window.webkitURL).createObjectURL(ee);U.image.src=ie},error:function(J){U.errorMsg="Image load aborted - XHR error",U.finish(!1)}}),this.abort=function(){U.request.abort(),typeof Y=="function"&&Y()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(U){this.image.onload=this.image.onerror=this.image.onabort=null,U||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},w.ImageLoader=function(U){w.extend(!0,this,{jobLimit:w.DEFAULT_SETTINGS.imageLoaderLimit,timeout:w.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},U)},w.ImageLoader.prototype={addJob:function(U){var Y=this,J=function(re){j(Y,re,U.callback)},ee={src:U.src,loadWithAjax:U.loadWithAjax,ajaxHeaders:U.loadWithAjax?U.ajaxHeaders:null,crossOriginPolicy:U.crossOriginPolicy,ajaxWithCredentials:U.ajaxWithCredentials,callback:J,abort:U.abort,timeout:this.timeout},te=new B(ee);!this.jobLimit||this.jobsInProgress<this.jobLimit?(te.start(),this.jobsInProgress++):this.jobQueue.push(te)},clear:function(){for(var U=0;U<this.jobQueue.length;U++){var Y=this.jobQueue[U];typeof Y.abort=="function"&&Y.abort()}this.jobQueue=[]}};function j(U,Y,J){var ee;U.jobsInProgress--,(!U.jobLimit||U.jobsInProgress<U.jobLimit)&&U.jobQueue.length>0&&(ee=U.jobQueue.shift(),ee.start(),U.jobsInProgress++),J(Y.image,Y.errorMsg,Y.request)}}(OpenSeadragon),function(w){w.Tile=function(B,j,U,Y,J,ee,te,re,ie,ce){this.level=B,this.x=j,this.y=U,this.bounds=Y,this.sourceBounds=ce,this.exists=J,this.url=ee,this.context2D=te,this.loadWithAjax=re,this.ajaxHeaders=ie,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},w.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(B){if(!this.cacheImageRecord){w.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){w.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=w.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=B&&B.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",w.setElementOpacity(this.element,this.opacity)},drawCanvas:function(B,j,U,Y){var J=this.position.times(w.pixelDensityRatio),ee=this.size.times(w.pixelDensityRatio),te;if(!this.context2D&&!this.cacheImageRecord){w.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(te=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!te){w.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}B.save(),B.globalAlpha=this.opacity,typeof U=="number"&&U!==1&&(J=J.times(U),ee=ee.times(U)),Y instanceof w.Point&&(J=J.plus(Y)),B.globalAlpha===1&&this._hasTransparencyChannel()&&B.clearRect(J.x,J.y,ee.x,ee.y),j({context:B,tile:this,rendered:te});var re,ie;this.sourceBounds?(re=Math.min(this.sourceBounds.width,te.canvas.width),ie=Math.min(this.sourceBounds.height,te.canvas.height)):(re=te.canvas.width,ie=te.canvas.height),B.drawImage(te.canvas,0,0,re,ie,J.x,J.y,ee.x,ee.y),B.restore()},getScaleForEdgeSmoothing:function(){var B;if(this.cacheImageRecord)B=this.cacheImageRecord.getRenderedContext();else if(this.context2D)B=this.context2D;else return w.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return B.canvas.width/(this.size.x*w.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(B,j,U){var Y=Math.max(1,Math.ceil((U.x-j.x)/2)),J=Math.max(1,Math.ceil((U.y-j.y)/2));return new w.Point(Y,J).minus(this.position.times(w.pixelDensityRatio).times(B||1).apply(function(ee){return ee%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(w){w.OverlayPlacement=w.Placement,w.OverlayRotationMode=w.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),w.Overlay=function(B,j,U){var Y;w.isPlainObject(B)?Y=B:Y={element:B,location:j,placement:U},this.element=Y.element,this.style=Y.element.style,this._init(Y)},w.Overlay.prototype={_init:function(B){this.location=B.location,this.placement=B.placement===void 0?w.Placement.TOP_LEFT:B.placement,this.onDraw=B.onDraw,this.checkResize=B.checkResize===void 0?!0:B.checkResize,this.width=B.width===void 0?null:B.width,this.height=B.height===void 0?null:B.height,this.rotationMode=B.rotationMode||w.OverlayRotationMode.EXACT,this.location instanceof w.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=w.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new w.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(B,j){var U=w.Placement.properties[this.placement];!U||(U.isHorizontallyCentered?B.x-=j.x/2:U.isRight&&(B.x-=j.x),U.isVerticallyCentered?B.y-=j.y/2:U.isBottom&&(B.y-=j.y))},destroy:function(){var B=this.element,j=this.style;B.parentNode&&(B.parentNode.removeChild(B),B.prevElementParent&&(j.display="none",document.body.appendChild(B))),this.onDraw=null,j.top="",j.left="",j.position="",this.width!==null&&(j.width=""),this.height!==null&&(j.height="");var U=w.getCssPropertyWithVendorPrefix("transformOrigin"),Y=w.getCssPropertyWithVendorPrefix("transform");U&&Y&&(j[U]="",j[Y]="")},drawHTML:function(B,j){var U=this.element;U.parentNode!==B&&(U.prevElementParent=U.parentNode,U.prevNextSibling=U.nextSibling,B.appendChild(U),this.style.position="absolute",this.size=w.getElementSize(U));var Y=this._getOverlayPositionAndSize(j),J=Y.position,ee=this.size=Y.size,te=Y.rotate;if(this.onDraw)this.onDraw(J,ee,this.element);else{var re=this.style;re.left=J.x+"px",re.top=J.y+"px",this.width!==null&&(re.width=ee.x+"px"),this.height!==null&&(re.height=ee.y+"px");var ie=w.getCssPropertyWithVendorPrefix("transformOrigin"),ce=w.getCssPropertyWithVendorPrefix("transform");ie&&ce&&(te?(re[ie]=this._getTransformOrigin(),re[ce]="rotate("+te+"deg)"):(re[ie]="",re[ce]="")),re.display!=="none"&&(re.display="block")}},_getOverlayPositionAndSize:function(B){var j=B.pixelFromPoint(this.location,!0),U=this._getSizeInPixels(B);this.adjust(j,U);var Y=0;if(B.degrees&&this.rotationMode!==w.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===w.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var J=new w.Rect(j.x,j.y,U.x,U.y),ee=this._getBoundingBox(J,B.degrees);j=ee.getTopLeft(),U=ee.getSize()}else Y=B.degrees;return{position:j,size:U,rotate:Y}},_getSizeInPixels:function(B){var j=this.size.x,U=this.size.y;if(this.width!==null||this.height!==null){var Y=B.deltaPixelsFromPointsNoRotate(new w.Point(this.width||0,this.height||0),!0);this.width!==null&&(j=Y.x),this.height!==null&&(U=Y.y)}if(this.checkResize&&(this.width===null||this.height===null)){var J=this.size=w.getElementSize(this.element);this.width===null&&(j=J.x),this.height===null&&(U=J.y)}return new w.Point(j,U)},_getBoundingBox:function(B,j){var U=this._getPlacementPoint(B);return B.rotate(j,U).getBoundingBox()},_getPlacementPoint:function(B){var j=new w.Point(B.x,B.y),U=w.Placement.properties[this.placement];return U&&(U.isHorizontallyCentered?j.x+=B.width/2:U.isRight&&(j.x+=B.width),U.isVerticallyCentered?j.y+=B.height/2:U.isBottom&&(j.y+=B.height)),j},_getTransformOrigin:function(){var B="",j=w.Placement.properties[this.placement];return j&&(j.isLeft?B="left":j.isRight&&(B="right"),j.isTop?B+=" top":j.isBottom&&(B+=" bottom")),B},update:function(B,j){var U=w.isPlainObject(B)?B:{location:B,placement:j};this._init({location:U.location||this.location,placement:U.placement!==void 0?U.placement:this.placement,onDraw:U.onDraw||this.onDraw,checkResize:U.checkResize||this.checkResize,width:U.width!==void 0?U.width:this.width,height:U.height!==void 0?U.height:this.height,rotationMode:U.rotationMode||this.rotationMode})},getBounds:function(B){w.console.assert(B,"A viewport must now be passed to Overlay.getBounds.");var j=this.width,U=this.height;if(j===null||U===null){var Y=B.deltaPointsFromPixelsNoRotate(this.size,!0);j===null&&(j=Y.x),U===null&&(U=Y.y)}var J=this.location.clone();return this.adjust(J,new w.Point(j,U)),this._adjustBoundsForRotation(B,new w.Rect(J.x,J.y,j,U))},_adjustBoundsForRotation:function(B,j){if(!B||B.degrees===0||this.rotationMode===w.OverlayRotationMode.EXACT)return j;if(this.rotationMode===w.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return j;var U=this._getOverlayPositionAndSize(B);return B.viewerElementToViewportRectangle(new w.Rect(U.position.x,U.position.y,U.size.x,U.size.y))}return j.rotate(-B.degrees,this._getPlacementPoint(j))}}}(OpenSeadragon),function(w){w.Drawer=function(B){w.console.assert(B.viewer,"[Drawer] options.viewer is required");var j=arguments;if(w.isPlainObject(B)||(B={source:j[0],viewport:j[1],element:j[2]}),w.console.assert(B.viewport,"[Drawer] options.viewport is required"),w.console.assert(B.element,"[Drawer] options.element is required"),B.source&&w.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=B.viewer,this.viewport=B.viewport,this.debugGridColor=typeof B.debugGridColor=="string"?[B.debugGridColor]:B.debugGridColor||w.DEFAULT_SETTINGS.debugGridColor,B.opacity&&w.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=w.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=w.getElement(B.element),this.canvas=w.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var U=this._calculateCanvasSize();this.canvas.width=U.x,this.canvas.height=U.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",w.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},w.Drawer.prototype={addOverlay:function(B,j,U,Y){return w.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(B,j,U,Y),this},updateOverlay:function(B,j,U){return w.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(B,j,U),this},removeOverlay:function(B){return w.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(B),this},clearOverlays:function(){return w.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(B){var j=this.viewport.pixelFromPointNoRotate(B,!0);return new w.Point(j.x*w.pixelDensityRatio,j.y*w.pixelDensityRatio)},clipWithPolygons:function(B,j){if(!!this.useCanvas){var U=this._getContext(j);U.beginPath(),B.forEach(function(Y){Y.forEach(function(J,ee){U[ee===0?"moveTo":"lineTo"](J.x,J.y)})}),U.clip()}},setOpacity:function(B){w.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var j=this.viewer.world,U=0;U<j.getItemCount();U++)j.getItemAt(U).setOpacity(B);return this},getOpacity:function(){w.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var B=this.viewer.world,j=0,U=0;U<B.getItemCount();U++){var Y=B.getItemAt(U).getOpacity();Y>j&&(j=Y)}return j},needsUpdate:function(){return w.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return w.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return w.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return w.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var B=this._calculateCanvasSize();if((this.canvas.width!=B.x||this.canvas.height!=B.y)&&(this.canvas.width=B.x,this.canvas.height=B.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var j=this._calculateSketchCanvasSize();this.sketchCanvas.width=j.x,this.sketchCanvas.height=j.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(B,j){if(!!this.useCanvas){var U=this._getContext(B);if(j)U.clearRect(j.x,j.y,j.width,j.height);else{var Y=U.canvas;U.clearRect(0,0,Y.width,Y.height)}}},viewportToDrawerRectangle:function(B){var j=this.viewport.pixelFromPointNoRotate(B.getTopLeft(),!0),U=this.viewport.deltaPixelsFromPointsNoRotate(B.getSize(),!0);return new w.Rect(j.x*w.pixelDensityRatio,j.y*w.pixelDensityRatio,U.x*w.pixelDensityRatio,U.y*w.pixelDensityRatio)},drawTile:function(B,j,U,Y,J){if(w.console.assert(B,"[Drawer.drawTile] tile is required"),w.console.assert(j,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var ee=this._getContext(U);Y=Y||1,B.drawCanvas(ee,j,Y,J)}else B.drawHTML(this.canvas)},_getContext:function(B){var j=this.context;if(B){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var U=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=U.x,this.sketchCanvas.height=U.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var Y=this;this.viewer.addHandler("rotate",function J(){if(Y.viewport.getRotation()!==0){Y.viewer.removeHandler("rotate",J);var ee=Y._calculateSketchCanvasSize();Y.sketchCanvas.width=ee.x,Y.sketchCanvas.height=ee.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}j=this.sketchContext}return j},saveContext:function(B){!this.useCanvas||this._getContext(B).save()},restoreContext:function(B){!this.useCanvas||this._getContext(B).restore()},setClip:function(B,j){if(!!this.useCanvas){var U=this._getContext(j);U.beginPath(),U.rect(B.x,B.y,B.width,B.height),U.clip()}},drawRectangle:function(B,j,U){if(!!this.useCanvas){var Y=this._getContext(U);Y.save(),Y.fillStyle=j,Y.fillRect(B.x,B.y,B.width,B.height),Y.restore()}},blendSketch:function(B,j,U,Y){var J=B;if(w.isPlainObject(J)||(J={opacity:B,scale:j,translate:U,compositeOperation:Y}),!(!this.useCanvas||!this.sketchCanvas)){B=J.opacity,Y=J.compositeOperation;var ee=J.bounds;if(this.context.save(),this.context.globalAlpha=B,Y&&(this.context.globalCompositeOperation=Y),ee)ee.x<0&&(ee.width+=ee.x,ee.x=0),ee.x+ee.width>this.canvas.width&&(ee.width=this.canvas.width-ee.x),ee.y<0&&(ee.height+=ee.y,ee.y=0),ee.y+ee.height>this.canvas.height&&(ee.height=this.canvas.height-ee.y),this.context.drawImage(this.sketchCanvas,ee.x,ee.y,ee.width,ee.height,ee.x,ee.y,ee.width,ee.height);else{j=J.scale||1,U=J.translate;var te=U instanceof w.Point?U:new w.Point(0,0),re=0,ie=0;if(U){var ce=this.sketchCanvas.width-this.canvas.width,fe=this.sketchCanvas.height-this.canvas.height;re=Math.round(ce/2),ie=Math.round(fe/2)}this.context.drawImage(this.sketchCanvas,te.x-re*j,te.y-ie*j,(this.canvas.width+2*re)*j,(this.canvas.height+2*ie)*j,-re,-ie,this.canvas.width+2*re,this.canvas.height+2*ie)}this.context.restore()}},drawDebugInfo:function(B,j,U,Y){if(!!this.useCanvas){var J=this.viewer.world.getIndexOfItem(Y)%this.debugGridColor.length,ee=this.context;ee.save(),ee.lineWidth=2*w.pixelDensityRatio,ee.font="small-caps bold "+13*w.pixelDensityRatio+"px arial",ee.strokeStyle=this.debugGridColor[J],ee.fillStyle=this.debugGridColor[J],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),Y.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:Y.getRotation(!0),point:Y.viewport.pixelFromPointNoRotate(Y._getRotationPoint(!0),!0)}),Y.viewport.degrees===0&&Y.getRotation(!0)%360===0&&Y._drawer.viewer.viewport.getFlip()&&Y._drawer._flip(),ee.strokeRect(B.position.x*w.pixelDensityRatio,B.position.y*w.pixelDensityRatio,B.size.x*w.pixelDensityRatio,B.size.y*w.pixelDensityRatio);var te=(B.position.x+B.size.x/2)*w.pixelDensityRatio,re=(B.position.y+B.size.y/2)*w.pixelDensityRatio;ee.translate(te,re),ee.rotate(Math.PI/180*-this.viewport.degrees),ee.translate(-te,-re),B.x===0&&B.y===0&&(ee.fillText("Zoom: "+this.viewport.getZoom(),B.position.x*w.pixelDensityRatio,(B.position.y-30)*w.pixelDensityRatio),ee.fillText("Pan: "+this.viewport.getBounds().toString(),B.position.x*w.pixelDensityRatio,(B.position.y-20)*w.pixelDensityRatio)),ee.fillText("Level: "+B.level,(B.position.x+10)*w.pixelDensityRatio,(B.position.y+20)*w.pixelDensityRatio),ee.fillText("Column: "+B.x,(B.position.x+10)*w.pixelDensityRatio,(B.position.y+30)*w.pixelDensityRatio),ee.fillText("Row: "+B.y,(B.position.x+10)*w.pixelDensityRatio,(B.position.y+40)*w.pixelDensityRatio),ee.fillText("Order: "+U+" of "+j,(B.position.x+10)*w.pixelDensityRatio,(B.position.y+50)*w.pixelDensityRatio),ee.fillText("Size: "+B.size.toString(),(B.position.x+10)*w.pixelDensityRatio,(B.position.y+60)*w.pixelDensityRatio),ee.fillText("Position: "+B.position.toString(),(B.position.x+10)*w.pixelDensityRatio,(B.position.y+70)*w.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),Y.getRotation(!0)%360!==0&&this._restoreRotationChanges(),Y.viewport.degrees===0&&Y.getRotation(!0)%360===0&&Y._drawer.viewer.viewport.getFlip()&&Y._drawer._flip(),ee.restore()}},debugRect:function(B){if(this.useCanvas){var j=this.context;j.save(),j.lineWidth=2*w.pixelDensityRatio,j.strokeStyle=this.debugGridColor[0],j.fillStyle=this.debugGridColor[0],j.strokeRect(B.x*w.pixelDensityRatio,B.y*w.pixelDensityRatio,B.width*w.pixelDensityRatio,B.height*w.pixelDensityRatio),j.restore()}},setImageSmoothingEnabled:function(B){this.useCanvas&&(this._imageSmoothingEnabled=B,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(B){B.msImageSmoothingEnabled=this._imageSmoothingEnabled,B.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(B){var j=this._getContext(B).canvas;return new w.Point(j.width,j.height)},getCanvasCenter:function(){return new w.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(B){var j=B.point?B.point.times(w.pixelDensityRatio):this.getCanvasCenter(),U=this._getContext(B.useSketch);U.save(),U.translate(j.x,j.y),this.viewer.viewport.flipped?(U.rotate(Math.PI/180*-B.degrees),U.scale(-1,1)):U.rotate(Math.PI/180*B.degrees),U.translate(-j.x,-j.y)},_flip:function(B){B=B||{};var j=B.point?B.point.times(w.pixelDensityRatio):this.getCanvasCenter(),U=this._getContext(B.useSketch);U.translate(j.x,0),U.scale(-1,1),U.translate(-j.x,0)},_restoreRotationChanges:function(B){var j=this._getContext(B);j.restore()},_calculateCanvasSize:function(){var B=w.pixelDensityRatio,j=this.viewport.getContainerSize();return{x:Math.round(j.x*B),y:Math.round(j.y*B)}},_calculateSketchCanvasSize:function(){var B=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return B;var j=Math.ceil(Math.sqrt(B.x*B.x+B.y*B.y));return{x:j,y:j}}}}(OpenSeadragon),function(w){w.Viewport=function(B){var j=arguments;j.length&&j[0]instanceof w.Point&&(B={containerSize:j[0],contentSize:j[1],config:j[2]}),B.config&&(w.extend(!0,B,B.config),delete B.config),this._margins=w.extend({left:0,top:0,right:0,bottom:0},B.margins||{}),delete B.margins,w.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:w.DEFAULT_SETTINGS.springStiffness,animationTime:w.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:w.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:w.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:w.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:w.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:w.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:w.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:w.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:w.DEFAULT_SETTINGS.maxZoomLevel,degrees:w.DEFAULT_SETTINGS.degrees,flipped:w.DEFAULT_SETTINGS.flipped,homeFillsViewer:w.DEFAULT_SETTINGS.homeFillsViewer},B),this._updateContainerInnerSize(),this.centerSpringX=new w.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new w.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new w.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new w.Rect(0,0,1,1),1),this.goHome(!0),this.update()},w.Viewport.prototype={resetContentSize:function(B){return w.console.assert(B,"[Viewport.resetContentSize] contentSize is required"),w.console.assert(B instanceof w.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),w.console.assert(B.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),w.console.assert(B.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new w.Rect(0,0,1,B.y/B.x),B.x),this},setHomeBounds:function(B,j){w.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(B,j)},_setContentBounds:function(B,j){w.console.assert(B,"[Viewport._setContentBounds] bounds is required"),w.console.assert(B instanceof w.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),w.console.assert(B.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),w.console.assert(B.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=B.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(j),this._contentBounds=B.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(j),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:j,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var B=this._contentAspectRatio/this.getAspectRatio(),j;return this.homeFillsViewer?j=B>=1?B:1:j=B>=1?1:B,j/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var B=this._contentBounds.getCenter(),j=1/this.getHomeZoom(),U=j/this.getAspectRatio();return new w.Rect(B.x-j/2,B.y-U/2,j,U)},goHome:function(B){return this.viewer&&this.viewer.raiseEvent("home",{immediately:B}),this.fitBounds(this.getHomeBounds(),B)},getMinZoom:function(){var B=this.getHomeZoom(),j=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*B;return j},getMaxZoom:function(){var B=this.maxZoomLevel;return B||(B=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,B/=this._contentBounds.width),Math.max(B,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new w.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return w.extend({},this._margins)},setMargins:function(B){w.console.assert(w.type(B)==="object","[Viewport.setMargins] margins must be an object"),this._margins=w.extend({left:0,top:0,right:0,bottom:0},B),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(B){return this.getBoundsNoRotate(B).rotate(-this.getRotation())},getBoundsNoRotate:function(B){var j=this.getCenter(B),U=1/this.getZoom(B),Y=U/this.getAspectRatio();return new w.Rect(j.x-U/2,j.y-Y/2,U,Y)},getBoundsWithMargins:function(B){return this.getBoundsNoRotateWithMargins(B).rotate(-this.getRotation(),this.getCenter(B))},getBoundsNoRotateWithMargins:function(B){var j=this.getBoundsNoRotate(B),U=this._containerInnerSize.x*this.getZoom(B);return j.x-=this._margins.left/U,j.y-=this._margins.top/U,j.width+=(this._margins.left+this._margins.right)/U,j.height+=(this._margins.top+this._margins.bottom)/U,j},getCenter:function(B){var j=new w.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),U=new w.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),Y,J,ee,te,re,ie,ce,fe;return B?j:this.zoomPoint?(Y=this.pixelFromPoint(this.zoomPoint,!0),J=this.getZoom(),ee=1/J,te=ee/this.getAspectRatio(),re=new w.Rect(j.x-ee/2,j.y-te/2,ee,te),ie=this._pixelFromPoint(this.zoomPoint,re),ce=ie.minus(Y),fe=ce.divide(this._containerInnerSize.x*J),U.plus(fe)):U},getZoom:function(B){return B?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(B){return Math.max(Math.min(B,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(B){var j=new w.Rect(B.x,B.y,B.width,B.height);if(!this.wrapHorizontal){var U=this.visibilityRatio*j.width,Y=j.x+j.width,J=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,ee=this._contentBoundsNoRotate.x-Y+U,te=J-j.x-U;U>this._contentBoundsNoRotate.width?j.x+=(ee+te)/2:te<0?j.x+=te:ee>0&&(j.x+=ee)}if(!this.wrapVertical){var re=this.visibilityRatio*j.height,ie=j.y+j.height,ce=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,fe=this._contentBoundsNoRotate.y-ie+re,le=ce-j.y-re;re>this._contentBoundsNoRotate.height?j.y+=(fe+le)/2:le<0?j.y+=le:fe>0&&(j.y+=fe)}return j},_raiseConstraintsEvent:function(B){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:B})},applyConstraints:function(B){var j=this.getZoom(),U=this._applyZoomConstraints(j);j!==U&&this.zoomTo(U,this.zoomPoint,B);var Y=this.getBoundsNoRotate(),J=this._applyBoundaryConstraints(Y);return this._raiseConstraintsEvent(B),(Y.x!==J.x||Y.y!==J.y||B)&&this.fitBounds(J.rotate(-this.getRotation()),B),this},ensureVisible:function(B){return this.applyConstraints(B)},_fitBounds:function(B,j){j=j||{};var U=j.immediately||!1,Y=j.constraints||!1,J=this.getAspectRatio(),ee=B.getCenter(),te=new w.Rect(B.x,B.y,B.width,B.height,B.degrees+this.getRotation()).getBoundingBox();te.getAspectRatio()>=J?te.height=te.width/J:te.width=te.height*J,te.x=ee.x-te.width/2,te.y=ee.y-te.height/2;var re=1/te.width;if(Y){var ie=te.getAspectRatio(),ce=this._applyZoomConstraints(re);re!==ce&&(re=ce,te.width=1/re,te.x=ee.x-te.width/2,te.height=te.width/ie,te.y=ee.y-te.height/2),te=this._applyBoundaryConstraints(te),ee=te.getCenter(),this._raiseConstraintsEvent(U)}if(U)return this.panTo(ee,!0),this.zoomTo(re,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var fe=this.getBounds(),le=this.getZoom();if(le===0||Math.abs(re/le-1)<1e-8)return this.zoomTo(re,!0),this.panTo(ee,U);te=te.rotate(-this.getRotation());var ye=te.getTopLeft().times(re).minus(fe.getTopLeft().times(le)).divide(re-le);return this.zoomTo(re,ye,U)},fitBounds:function(B,j){return this._fitBounds(B,{immediately:j,constraints:!1})},fitBoundsWithConstraints:function(B,j){return this._fitBounds(B,{immediately:j,constraints:!0})},fitVertically:function(B){var j=new w.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(j,B)},fitHorizontally:function(B){var j=new w.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(j,B)},getConstrainedBounds:function(B){var j,U;return j=this.getBounds(B),U=this._applyBoundaryConstraints(j),U},panBy:function(B,j){var U=new w.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(U.plus(B),j)},panTo:function(B,j){return j?(this.centerSpringX.resetTo(B.x),this.centerSpringY.resetTo(B.y)):(this.centerSpringX.springTo(B.x),this.centerSpringY.springTo(B.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:B,immediately:j}),this},zoomBy:function(B,j,U){return this.zoomTo(this.zoomSpring.target.value*B,j,U)},zoomTo:function(B,j,U){var Y=this;return this.zoomPoint=j instanceof w.Point&&!isNaN(j.x)&&!isNaN(j.y)?j:null,U?this._adjustCenterSpringsForZoomPoint(function(){Y.zoomSpring.resetTo(B)}):this.zoomSpring.springTo(B),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:B,refPoint:j,immediately:U}),this},setRotation:function(B){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=w.positiveModulo(B,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:B}),this)},getRotation:function(){return this.degrees},resize:function(B,j){var U=this.getBoundsNoRotate(),Y=U,J;return this.containerSize.x=B.x,this.containerSize.y=B.y,this._updateContainerInnerSize(),j&&(J=B.x/this.containerSize.x,Y.width=U.width*J,Y.height=Y.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:B,maintain:j}),this.fitBounds(Y,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new w.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var B=this;this._adjustCenterSpringsForZoomPoint(function(){B.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var j=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,j},_adjustCenterSpringsForZoomPoint:function(B){if(this.zoomPoint){var j=this.pixelFromPoint(this.zoomPoint,!0);B();var U=this.pixelFromPoint(this.zoomPoint,!0),Y=U.minus(j),J=this.deltaPointsFromPixels(Y,!0);this.centerSpringX.shiftBy(J.x),this.centerSpringY.shiftBy(J.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else B()},deltaPixelsFromPointsNoRotate:function(B,j){return B.times(this._containerInnerSize.x*this.getZoom(j))},deltaPixelsFromPoints:function(B,j){return this.deltaPixelsFromPointsNoRotate(B.rotate(this.getRotation()),j)},deltaPointsFromPixelsNoRotate:function(B,j){return B.divide(this._containerInnerSize.x*this.getZoom(j))},deltaPointsFromPixels:function(B,j){return this.deltaPointsFromPixelsNoRotate(B,j).rotate(-this.getRotation())},pixelFromPointNoRotate:function(B,j){return this._pixelFromPointNoRotate(B,this.getBoundsNoRotate(j))},pixelFromPoint:function(B,j){return this._pixelFromPoint(B,this.getBoundsNoRotate(j))},_pixelFromPointNoRotate:function(B,j){return B.minus(j.getTopLeft()).times(this._containerInnerSize.x/j.width).plus(new w.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(B,j){return this._pixelFromPointNoRotate(B.rotate(this.getRotation(),this.getCenter(!0)),j)},pointFromPixelNoRotate:function(B,j){var U=this.getBoundsNoRotate(j);return B.minus(new w.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/U.width).plus(U.getTopLeft())},pointFromPixel:function(B,j){return this.pointFromPixelNoRotate(B,j).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(B,j){var U=this._contentBoundsNoRotate.width;return new w.Point(B*this._contentSizeNoRotate.x/U,j*this._contentSizeNoRotate.x/U)},viewportToImageCoordinates:function(B,j){if(B instanceof w.Point)return this.viewportToImageCoordinates(B.x,B.y);if(this.viewer){var U=this.viewer.world.getItemCount();if(U>1)w.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(U===1){var Y=this.viewer.world.getItemAt(0);return Y.viewportToImageCoordinates(B,j,!0)}}return this._viewportToImageDelta(B-this._contentBoundsNoRotate.x,j-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(B,j){var U=this._contentBoundsNoRotate.width;return new w.Point(B/this._contentSizeNoRotate.x*U,j/this._contentSizeNoRotate.x*U)},imageToViewportCoordinates:function(B,j){if(B instanceof w.Point)return this.imageToViewportCoordinates(B.x,B.y);if(this.viewer){var U=this.viewer.world.getItemCount();if(U>1)w.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(U===1){var Y=this.viewer.world.getItemAt(0);return Y.imageToViewportCoordinates(B,j,!0)}}var J=this._imageToViewportDelta(B,j);return J.x+=this._contentBoundsNoRotate.x,J.y+=this._contentBoundsNoRotate.y,J},imageToViewportRectangle:function(B,j,U,Y){var J=B;if(J instanceof w.Rect||(J=new w.Rect(B,j,U,Y)),this.viewer){var ee=this.viewer.world.getItemCount();if(ee>1)w.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(ee===1){var te=this.viewer.world.getItemAt(0);return te.imageToViewportRectangle(B,j,U,Y,!0)}}var re=this.imageToViewportCoordinates(J.x,J.y),ie=this._imageToViewportDelta(J.width,J.height);return new w.Rect(re.x,re.y,ie.x,ie.y,J.degrees)},viewportToImageRectangle:function(B,j,U,Y){var J=B;if(J instanceof w.Rect||(J=new w.Rect(B,j,U,Y)),this.viewer){var ee=this.viewer.world.getItemCount();if(ee>1)w.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(ee===1){var te=this.viewer.world.getItemAt(0);return te.viewportToImageRectangle(B,j,U,Y,!0)}}var re=this.viewportToImageCoordinates(J.x,J.y),ie=this._viewportToImageDelta(J.width,J.height);return new w.Rect(re.x,re.y,ie.x,ie.y,J.degrees)},viewerElementToImageCoordinates:function(B){var j=this.pointFromPixel(B,!0);return this.viewportToImageCoordinates(j)},imageToViewerElementCoordinates:function(B){var j=this.imageToViewportCoordinates(B);return this.pixelFromPoint(j,!0)},windowToImageCoordinates:function(B){w.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var j=B.minus(w.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(j)},imageToWindowCoordinates:function(B){w.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var j=this.imageToViewerElementCoordinates(B);return j.plus(w.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(B){return this.pointFromPixel(B,!0)},viewportToViewerElementCoordinates:function(B){return this.pixelFromPoint(B,!0)},viewerElementToViewportRectangle:function(B){return w.Rect.fromSummits(this.pointFromPixel(B.getTopLeft(),!0),this.pointFromPixel(B.getTopRight(),!0),this.pointFromPixel(B.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(B){return w.Rect.fromSummits(this.pixelFromPoint(B.getTopLeft(),!0),this.pixelFromPoint(B.getTopRight(),!0),this.pixelFromPoint(B.getBottomLeft(),!0))},windowToViewportCoordinates:function(B){w.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var j=B.minus(w.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(j)},viewportToWindowCoordinates:function(B){w.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var j=this.viewportToViewerElementCoordinates(B);return j.plus(w.getElementPosition(this.viewer.element))},viewportToImageZoom:function(B){if(this.viewer){var j=this.viewer.world.getItemCount();if(j>1)w.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(j===1){var U=this.viewer.world.getItemAt(0);return U.viewportToImageZoom(B)}}var Y=this._contentSizeNoRotate.x,J=this._containerInnerSize.x,ee=this._contentBoundsNoRotate.width,te=J/Y*ee;return B*te},imageToViewportZoom:function(B){if(this.viewer){var j=this.viewer.world.getItemCount();if(j>1)w.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(j===1){var U=this.viewer.world.getItemAt(0);return U.imageToViewportZoom(B)}}var Y=this._contentSizeNoRotate.x,J=this._containerInnerSize.x,ee=this._contentBoundsNoRotate.width,te=Y/J/ee;return B*te},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(B){return this.flipped===B?this:(this.flipped=B,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:B}),this)}}}(OpenSeadragon),function(w){w.TiledImage=function(ae){var ve=this;w.console.assert(ae.tileCache,"[TiledImage] options.tileCache is required"),w.console.assert(ae.drawer,"[TiledImage] options.drawer is required"),w.console.assert(ae.viewer,"[TiledImage] options.viewer is required"),w.console.assert(ae.imageLoader,"[TiledImage] options.imageLoader is required"),w.console.assert(ae.source,"[TiledImage] options.source is required"),w.console.assert(!ae.clip||ae.clip instanceof w.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),w.EventSource.call(this),this._tileCache=ae.tileCache,delete ae.tileCache,this._drawer=ae.drawer,delete ae.drawer,this._imageLoader=ae.imageLoader,delete ae.imageLoader,ae.clip instanceof w.Rect&&(this._clip=ae.clip.clone()),delete ae.clip;var xe=ae.x||0;delete ae.x;var _e=ae.y||0;delete ae.y,this.normHeight=ae.source.dimensions.y/ae.source.dimensions.x,this.contentAspectX=ae.source.dimensions.x/ae.source.dimensions.y;var Pe=1;ae.width?(Pe=ae.width,delete ae.width,ae.height&&(w.console.error("specifying both width and height to a tiledImage is not supported"),delete ae.height)):ae.height&&(Pe=ae.height/this.normHeight,delete ae.height);var Me=ae.fitBounds;delete ae.fitBounds;var je=ae.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete ae.fitBoundsPlacement;var Ve=ae.degrees||0;delete ae.degrees,w.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:w.DEFAULT_SETTINGS.springStiffness,animationTime:w.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:w.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:w.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:w.DEFAULT_SETTINGS.wrapVertical,immediateRender:w.DEFAULT_SETTINGS.immediateRender,blendTime:w.DEFAULT_SETTINGS.blendTime,alwaysBlend:w.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:w.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:w.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:w.DEFAULT_SETTINGS.iOSDevice,debugMode:w.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:w.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:w.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:w.DEFAULT_SETTINGS.placeholderFillStyle,opacity:w.DEFAULT_SETTINGS.opacity,preload:w.DEFAULT_SETTINGS.preload,compositeOperation:w.DEFAULT_SETTINGS.compositeOperation},ae),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new w.Spring({initial:xe,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new w.Spring({initial:_e,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new w.Spring({initial:Pe,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new w.Spring({initial:Ve,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),Me&&this.fitBounds(Me,je,!0),this._drawingHandler=function(He){ve.viewer.raiseEvent("tile-drawing",w.extend({tiledImage:ve},He))}},w.extend(w.TiledImage.prototype,w.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(ae){ae!==this._fullyLoaded&&(this._fullyLoaded=ae,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=w.now(),this._needsDraw=!0},update:function(){var ae=this._xSpring.update(),ve=this._ySpring.update(),xe=this._scaleSpring.update(),_e=this._degreesSpring.update();return ae||ve||xe||_e?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(ae){return this.getBoundsNoRotate(ae).rotate(this.getRotation(ae),this._getRotationPoint(ae))},getBoundsNoRotate:function(ae){return ae?new w.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new w.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return w.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(ae){var ve=this.getBoundsNoRotate(ae);if(this._clip){var xe=ae?this._worldWidthCurrent:this._worldWidthTarget,_e=xe/this.source.dimensions.x,Pe=this._clip.times(_e);ve=new w.Rect(ve.x+Pe.x,ve.y+Pe.y,Pe.width,Pe.height)}return ve.rotate(this.getRotation(ae),this._getRotationPoint(ae))},getContentSize:function(){return new w.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(ae,ve,xe){var _e=xe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new w.Point(ae*(this.source.dimensions.x/_e),ve*(this.source.dimensions.y*this.contentAspectX/_e))},viewportToImageCoordinates:function(ae,ve,xe){var _e;return ae instanceof w.Point?(xe=ve,_e=ae):_e=new w.Point(ae,ve),_e=_e.rotate(-this.getRotation(xe),this._getRotationPoint(xe)),xe?this._viewportToImageDelta(_e.x-this._xSpring.current.value,_e.y-this._ySpring.current.value):this._viewportToImageDelta(_e.x-this._xSpring.target.value,_e.y-this._ySpring.target.value)},_imageToViewportDelta:function(ae,ve,xe){var _e=xe?this._scaleSpring.current.value:this._scaleSpring.target.value;return new w.Point(ae/this.source.dimensions.x*_e,ve/this.source.dimensions.y/this.contentAspectX*_e)},imageToViewportCoordinates:function(ae,ve,xe){ae instanceof w.Point&&(xe=ve,ve=ae.y,ae=ae.x);var _e=this._imageToViewportDelta(ae,ve);return xe?(_e.x+=this._xSpring.current.value,_e.y+=this._ySpring.current.value):(_e.x+=this._xSpring.target.value,_e.y+=this._ySpring.target.value),_e.rotate(this.getRotation(xe),this._getRotationPoint(xe))},imageToViewportRectangle:function(ae,ve,xe,_e,Pe){var Me=ae;Me instanceof w.Rect?Pe=ve:Me=new w.Rect(ae,ve,xe,_e);var je=this.imageToViewportCoordinates(Me.getTopLeft(),Pe),Ve=this._imageToViewportDelta(Me.width,Me.height,Pe);return new w.Rect(je.x,je.y,Ve.x,Ve.y,Me.degrees+this.getRotation(Pe))},viewportToImageRectangle:function(ae,ve,xe,_e,Pe){var Me=ae;ae instanceof w.Rect?Pe=ve:Me=new w.Rect(ae,ve,xe,_e);var je=this.viewportToImageCoordinates(Me.getTopLeft(),Pe),Ve=this._viewportToImageDelta(Me.width,Me.height,Pe);return new w.Rect(je.x,je.y,Ve.x,Ve.y,Me.degrees-this.getRotation(Pe))},viewerElementToImageCoordinates:function(ae){var ve=this.viewport.pointFromPixel(ae,!0);return this.viewportToImageCoordinates(ve)},imageToViewerElementCoordinates:function(ae){var ve=this.imageToViewportCoordinates(ae);return this.viewport.pixelFromPoint(ve,!0)},windowToImageCoordinates:function(ae){var ve=ae.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(ve)},imageToWindowCoordinates:function(ae){var ve=this.imageToViewerElementCoordinates(ae);return ve.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(ae){var ve=this._scaleSpring.current.value;return ae=ae.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new w.Rect((ae.x-this._xSpring.current.value)/ve,(ae.y-this._ySpring.current.value)/ve,ae.width/ve,ae.height/ve,ae.degrees)},viewportToImageZoom:function(ae){var ve=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return ve*ae},imageToViewportZoom:function(ae){var ve=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return ae/ve},setPosition:function(ae,ve){var xe=this._xSpring.target.value===ae.x&&this._ySpring.target.value===ae.y;if(ve){if(xe&&this._xSpring.current.value===ae.x&&this._ySpring.current.value===ae.y)return;this._xSpring.resetTo(ae.x),this._ySpring.resetTo(ae.y),this._needsDraw=!0}else{if(xe)return;this._xSpring.springTo(ae.x),this._ySpring.springTo(ae.y),this._needsDraw=!0}xe||this._raiseBoundsChange()},setWidth:function(ae,ve){this._setScale(ae,ve)},setHeight:function(ae,ve){this._setScale(ae/this.normHeight,ve)},setCroppingPolygons:function(ae){var ve=function(_e){return _e instanceof w.Point||typeof _e.x=="number"&&typeof _e.y=="number"},xe=function(_e){return _e.map(function(Pe){try{if(ve(Pe))return{x:Pe.x,y:Pe.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!w.isArray(ae))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=ae.map(function(_e){return xe(_e)})}catch(_e){w.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),w.console.error(_e),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(ae,ve,xe){ve=ve||w.Placement.CENTER;var _e=w.Placement.properties[ve],Pe=this.contentAspectX,Me=0,je=0,Ve=1,He=1;if(this._clip&&(Pe=this._clip.getAspectRatio(),Ve=this._clip.width/this.source.dimensions.x,He=this._clip.height/this.source.dimensions.y,ae.getAspectRatio()>Pe?(Me=this._clip.x/this._clip.height*ae.height,je=this._clip.y/this._clip.height*ae.height):(Me=this._clip.x/this._clip.width*ae.width,je=this._clip.y/this._clip.width*ae.width)),ae.getAspectRatio()>Pe){var Ze=ae.height/He,Ue=0;_e.isHorizontallyCentered?Ue=(ae.width-ae.height*Pe)/2:_e.isRight&&(Ue=ae.width-ae.height*Pe),this.setPosition(new w.Point(ae.x-Me+Ue,ae.y-je),xe),this.setHeight(Ze,xe)}else{var it=ae.width/Ve,Fe=0;_e.isVerticallyCentered?Fe=(ae.height-ae.width/Pe)/2:_e.isBottom&&(Fe=ae.height-ae.width/Pe),this.setPosition(new w.Point(ae.x-Me,ae.y-je+Fe),xe),this.setWidth(it,xe)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(ae){w.console.assert(!ae||ae instanceof w.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),ae instanceof w.Rect?this._clip=ae.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(ae){ae!==this.opacity&&(this.opacity=ae,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(ae){this._preload=!!ae,this._needsDraw=!0},getRotation:function(ae){return ae?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(ae,ve){this._degreesSpring.target.value===ae&&this._degreesSpring.isAtTargetValue()||(ve?this._degreesSpring.resetTo(ae):this._degreesSpring.springTo(ae),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(ae){return this.getBoundsNoRotate(ae).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(ae){ae!==this.compositeOperation&&(this.compositeOperation=ae,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(ae,ve){var xe=this._scaleSpring.target.value===ae;if(ve){if(xe&&this._scaleSpring.current.value===ae)return;this._scaleSpring.resetTo(ae),this._updateForScale(),this._needsDraw=!0}else{if(xe)return;this._scaleSpring.springTo(ae),this._updateForScale(),this._needsDraw=!0}xe||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var ae=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),ve=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,xe=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(ve/this.minPixelRatio)/Math.log(2))));return xe=Math.max(xe,this.source.minLevel||0),ae=Math.min(ae,xe),{lowestLevel:ae,highestLevel:xe}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var ae=this.lastDrawn.pop();ae.beingDrawn=!1}var ve=this.viewport,xe=this._viewportToTiledImageRectangle(ve.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var _e=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(xe=xe.intersection(_e),xe===null)return}for(var Pe=this._getLevelsInterval(),Me=Pe.lowestLevel,je=Pe.highestLevel,Ve=null,He=!1,Ze=w.now(),Ue=je;Ue>=Me;Ue--){var it=!1,Fe=ve.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Ue),!0).x*this._scaleSpring.current.value;if(Ue===Me||!He&&Fe>=this.minPixelRatio)it=!0,He=!0;else if(!He)continue;var ht=ve.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Ue),!1).x*this._scaleSpring.current.value,ft=ve.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,St=this.immediateRender?1:ft,gt=Math.min(1,(Fe-.5)/.5),nt=St/Math.abs(St-ht);if(Ve=B(this,He,it,Ue,gt,nt,xe,Ze,Ve),ie(this.coverage,Ue))break}we(this,this.lastDrawn),Ve&&!Ve.context2D?(Y(this,Ve,Ze),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(ae,ve,xe){var _e,Pe;this.wrapHorizontal?(_e=w.positiveModulo(ve.x,1),Pe=w.positiveModulo(xe.x,1)):(_e=Math.max(0,ve.x),Pe=Math.min(1,xe.x));var Me,je,Ve=1/this.source.aspectRatio;this.wrapVertical?(Me=w.positiveModulo(ve.y,Ve),je=w.positiveModulo(xe.y,Ve)):(Me=Math.max(0,ve.y),je=Math.min(Ve,xe.y));var He=this.source.getTileAtPoint(ae,new w.Point(_e,Me)),Ze=this.source.getTileAtPoint(ae,new w.Point(Pe,je)),Ue=this.source.getNumTiles(ae);return this.wrapHorizontal&&(He.x+=Ue.x*Math.floor(ve.x),Ze.x+=Ue.x*Math.floor(xe.x)),this.wrapVertical&&(He.y+=Ue.y*Math.floor(ve.y/Ve),Ze.y+=Ue.y*Math.floor(xe.y/Ve)),{topLeft:He,bottomRight:Ze}}});function B(ae,ve,xe,_e,Pe,Me,je,Ve,He){var Ze=je.getBoundingBox().getTopLeft(),Ue=je.getBoundingBox().getBottomRight();ae.viewer&&ae.viewer.raiseEvent("update-level",{tiledImage:ae,havedrawn:ve,level:_e,opacity:Pe,visibility:Me,drawArea:je,topleft:Ze,bottomright:Ue,currenttime:Ve,best:He}),le(ae.coverage,_e),le(ae.loadingCoverage,_e);for(var it=ae._getCornerTiles(_e,Ze,Ue),Fe=it.topLeft,ht=it.bottomRight,ft=ae.source.getNumTiles(_e),St=ae.viewport.pixelFromPoint(ae.viewport.getCenter()),gt=Fe.x;gt<=ht.x;gt++)for(var nt=Fe.y;nt<=ht.y;nt++){if(!ae.wrapHorizontal&&!ae.wrapVertical){var yt=ae.source.getTileBounds(_e,gt,nt);if(je.intersection(yt)===null)continue}He=j(ae,xe,ve,gt,nt,_e,Pe,Me,St,ft,Ve,He)}return He}function j(ae,ve,xe,_e,Pe,Me,je,Ve,He,Ze,Ue,it){var Fe=U(_e,Pe,Me,ae,ae.source,ae.tilesMatrix,Ue,Ze,ae._worldWidthCurrent,ae._worldHeightCurrent),ht=xe;ae.viewer&&ae.viewer.raiseEvent("update-tile",{tiledImage:ae,tile:Fe}),fe(ae.coverage,Me,_e,Pe,!1);var ft=Fe.loaded||Fe.loading||ce(ae.loadingCoverage,Me,_e,Pe);if(fe(ae.loadingCoverage,Me,_e,Pe,ft),!Fe.exists||(ve&&!ht&&(ce(ae.coverage,Me,_e,Pe)?fe(ae.coverage,Me,_e,Pe,!0):ht=!0),!ht))return it;if(te(Fe,ae.source.tileOverlap,ae.viewport,He,Ve,ae),!Fe.loaded)if(Fe.context2D)ee(ae,Fe);else{var St=ae._tileCache.getImageRecord(Fe.cacheKey);if(St){var gt=St.getImage();ee(ae,Fe,gt)}}if(Fe.loaded){var nt=re(ae,Fe,_e,Pe,Me,je,Ue);nt&&(ae._needsDraw=!0)}else Fe.loading?ae._tilesLoading++:ft||(it=ye(it,Fe));return it}function U(ae,ve,xe,_e,Pe,Me,je,Ve,He,Ze){var Ue,it,Fe,ht,ft,St,gt,nt,yt;return Me[xe]||(Me[xe]={}),Me[xe][ae]||(Me[xe][ae]={}),Me[xe][ae][ve]||(Ue=(Ve.x+ae%Ve.x)%Ve.x,it=(Ve.y+ve%Ve.y)%Ve.y,Fe=Pe.getTileBounds(xe,Ue,it),ht=Pe.getTileBounds(xe,Ue,it,!0),ft=Pe.tileExists(xe,Ue,it),St=Pe.getTileUrl(xe,Ue,it),_e.loadTilesWithAjax?(gt=Pe.getTileAjaxHeaders(xe,Ue,it),w.isPlainObject(_e.ajaxHeaders)&&(gt=w.extend({},_e.ajaxHeaders,gt))):gt=null,nt=Pe.getContext2D?Pe.getContext2D(xe,Ue,it):void 0,Fe.x+=(ae-Ue)/Ve.x,Fe.y+=Ze/He*((ve-it)/Ve.y),yt=new w.Tile(xe,ae,ve,Fe,ft,St,nt,_e.loadTilesWithAjax,gt,ht),Ue===Ve.x-1&&(yt.isRightMost=!0),it===Ve.y-1&&(yt.isBottomMost=!0),Me[xe][ae][ve]=yt),yt=Me[xe][ae][ve],yt.lastTouchTime=je,yt}function Y(ae,ve,xe){ve.loading=!0,ae._imageLoader.addJob({src:ve.url,loadWithAjax:ve.loadWithAjax,ajaxHeaders:ve.ajaxHeaders,crossOriginPolicy:ae.crossOriginPolicy,ajaxWithCredentials:ae.ajaxWithCredentials,callback:function(_e,Pe,Me){J(ae,ve,xe,_e,Pe,Me)},abort:function(){ve.loading=!1}})}function J(ae,ve,xe,_e,Pe,Me){if(!_e){w.console.log("Tile %s failed to load: %s - error: %s",ve,ve.url,Pe),ae.viewer.raiseEvent("tile-load-failed",{tile:ve,tiledImage:ae,time:xe,message:Pe,tileRequest:Me}),ve.loading=!1,ve.exists=!1;return}if(xe<ae.lastResetTime){w.console.log("Ignoring tile %s loaded before reset: %s",ve,ve.url),ve.loading=!1;return}var je=function(){var Ve=ae.source.getClosestLevel();ee(ae,ve,_e,Ve,Me)};ae._midDraw?window.setTimeout(je,1):je()}function ee(ae,ve,xe,_e,Pe){var Me=0;function je(){return Me++,Ve}function Ve(){Me--,Me===0&&(ve.loading=!1,ve.loaded=!0,ve.context2D||ae._tileCache.cacheTile({image:xe,tile:ve,cutoff:_e,tiledImage:ae}),ae._needsDraw=!0)}ae.viewer.raiseEvent("tile-loaded",{tile:ve,tiledImage:ae,tileRequest:Pe,image:xe,getCompletionCallback:je}),je()()}function te(ae,ve,xe,_e,Pe,Me){var je=ae.bounds.getTopLeft();je.x*=Me._scaleSpring.current.value,je.y*=Me._scaleSpring.current.value,je.x+=Me._xSpring.current.value,je.y+=Me._ySpring.current.value;var Ve=ae.bounds.getSize();Ve.x*=Me._scaleSpring.current.value,Ve.y*=Me._scaleSpring.current.value;var He=xe.pixelFromPointNoRotate(je,!0),Ze=xe.pixelFromPointNoRotate(je,!1),Ue=xe.deltaPixelsFromPointsNoRotate(Ve,!0),it=xe.deltaPixelsFromPointsNoRotate(Ve,!1),Fe=Ze.plus(it.divide(2)),ht=_e.squaredDistanceTo(Fe);ve||(Ue=Ue.plus(new w.Point(1,1))),ae.isRightMost&&Me.wrapHorizontal&&(Ue.x+=.75),ae.isBottomMost&&Me.wrapVertical&&(Ue.y+=.75),ae.position=He,ae.size=Ue,ae.squaredDistance=ht,ae.visibility=Pe}function re(ae,ve,xe,_e,Pe,Me,je){var Ve=1e3*ae.blendTime,He,Ze;if(ve.blendStart||(ve.blendStart=je),He=je-ve.blendStart,Ze=Ve?Math.min(1,He/Ve):1,ae.alwaysBlend&&(Ze*=Me),ve.opacity=Ze,ae.lastDrawn.push(ve),Ze===1)fe(ae.coverage,Pe,xe,_e,!0),ae._hasOpaqueTile=!0;else if(He<Ve)return!0;return!1}function ie(ae,ve,xe,_e){var Pe,Me,je,Ve;if(!ae[ve])return!1;if(xe===void 0||_e===void 0){Pe=ae[ve];for(je in Pe)if(Object.prototype.hasOwnProperty.call(Pe,je)){Me=Pe[je];for(Ve in Me)if(Object.prototype.hasOwnProperty.call(Me,Ve)&&!Me[Ve])return!1}return!0}return ae[ve][xe]===void 0||ae[ve][xe][_e]===void 0||ae[ve][xe][_e]===!0}function ce(ae,ve,xe,_e){return xe===void 0||_e===void 0?ie(ae,ve+1):ie(ae,ve+1,2*xe,2*_e)&&ie(ae,ve+1,2*xe,2*_e+1)&&ie(ae,ve+1,2*xe+1,2*_e)&&ie(ae,ve+1,2*xe+1,2*_e+1)}function fe(ae,ve,xe,_e,Pe){if(!ae[ve]){w.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",ve);return}ae[ve][xe]||(ae[ve][xe]={}),ae[ve][xe][_e]=Pe}function le(ae,ve){ae[ve]={}}function ye(ae,ve){return!ae||ve.visibility>ae.visibility||ve.visibility==ae.visibility&&ve.squaredDistance<ae.squaredDistance?ve:ae}function we(ae,ve){if(!(ae.opacity===0||ve.length===0&&!ae.placeholderFillStyle)){var xe=ve[0],_e;xe&&(_e=ae.opacity<1||ae.compositeOperation&&ae.compositeOperation!=="source-over"||!ae._isBottomItem()&&xe._hasTransparencyChannel());var Pe,Me,je=ae.viewport.getZoom(!0),Ve=ae.viewportToImageZoom(je);ve.length>1&&Ve>ae.smoothTileEdgesMinZoom&&!ae.iOSDevice&&ae.getRotation(!0)%360===0&&w.supportsCanvas&&(_e=!0,Pe=xe.getScaleForEdgeSmoothing(),Me=xe.getTranslationForEdgeSmoothing(Pe,ae._drawer.getCanvasSize(!1),ae._drawer.getCanvasSize(!0)));var He;_e&&(Pe||(He=ae.viewport.viewportToViewerElementRectangle(ae.getClippedBounds(!0)).getIntegerBoundingBox(),ae._drawer.viewer.viewport.getFlip()&&(ae.viewport.degrees!==0||ae.getRotation(!0)%360!==0)&&(He.x=ae._drawer.viewer.container.clientWidth-(He.x+He.width)),He=He.times(w.pixelDensityRatio)),ae._drawer._clear(!0,He)),Pe||(ae.viewport.degrees!==0&&ae._drawer._offsetForRotation({degrees:ae.viewport.degrees,useSketch:_e}),ae.getRotation(!0)%360!==0&&ae._drawer._offsetForRotation({degrees:ae.getRotation(!0),point:ae.viewport.pixelFromPointNoRotate(ae._getRotationPoint(!0),!0),useSketch:_e}),ae.viewport.degrees===0&&ae.getRotation(!0)%360===0&&ae._drawer.viewer.viewport.getFlip()&&ae._drawer._flip());var Ze=!1;if(ae._clip){ae._drawer.saveContext(_e);var Ue=ae.imageToViewportRectangle(ae._clip,!0);Ue=Ue.rotate(-ae.getRotation(!0),ae._getRotationPoint(!0));var it=ae._drawer.viewportToDrawerRectangle(Ue);Pe&&(it=it.times(Pe)),Me&&(it=it.translate(Me)),ae._drawer.setClip(it,_e),Ze=!0}if(ae._croppingPolygons){ae._drawer.saveContext(_e);try{var Fe=ae._croppingPolygons.map(function(gt){return gt.map(function(nt){var yt=ae.imageToViewportCoordinates(nt.x,nt.y,!0).rotate(-ae.getRotation(!0),ae._getRotationPoint(!0)),$t=ae._drawer.viewportCoordToDrawerCoord(yt);return Pe&&($t=$t.times(Pe)),$t})});ae._drawer.clipWithPolygons(Fe,_e)}catch(gt){w.console.error(gt)}Ze=!0}if(ae.placeholderFillStyle&&ae._hasOpaqueTile===!1){var ht=ae._drawer.viewportToDrawerRectangle(ae.getBounds(!0));Pe&&(ht=ht.times(Pe)),Me&&(ht=ht.translate(Me));var ft=null;typeof ae.placeholderFillStyle=="function"?ft=ae.placeholderFillStyle(ae,ae._drawer.context):ft=ae.placeholderFillStyle,ae._drawer.drawRectangle(ht,ft,_e)}for(var St=ve.length-1;St>=0;St--)xe=ve[St],ae._drawer.drawTile(xe,ae._drawingHandler,_e,Pe,Me),xe.beingDrawn=!0,ae.viewer&&ae.viewer.raiseEvent("tile-drawn",{tiledImage:ae,tile:xe});Ze&&ae._drawer.restoreContext(_e),Pe||(ae.getRotation(!0)%360!==0&&ae._drawer._restoreRotationChanges(_e),ae.viewport.degrees!==0&&ae._drawer._restoreRotationChanges(_e)),_e&&(Pe&&(ae.viewport.degrees!==0&&ae._drawer._offsetForRotation({degrees:ae.viewport.degrees,useSketch:!1}),ae.getRotation(!0)%360!==0&&ae._drawer._offsetForRotation({degrees:ae.getRotation(!0),point:ae.viewport.pixelFromPointNoRotate(ae._getRotationPoint(!0),!0),useSketch:!1})),ae._drawer.blendSketch({opacity:ae.opacity,scale:Pe,translate:Me,compositeOperation:ae.compositeOperation,bounds:He}),Pe&&(ae.getRotation(!0)%360!==0&&ae._drawer._restoreRotationChanges(!1),ae.viewport.degrees!==0&&ae._drawer._restoreRotationChanges(!1))),Pe||ae.viewport.degrees===0&&ae.getRotation(!0)%360===0&&ae._drawer.viewer.viewport.getFlip()&&ae._drawer._flip(),Ce(ae,ve)}}function Ce(ae,ve){if(ae.debugMode)for(var xe=ve.length-1;xe>=0;xe--){var _e=ve[xe];try{ae._drawer.drawDebugInfo(_e,ve.length,xe,ae)}catch(Pe){w.console.error(Pe)}}}}(OpenSeadragon),function(w){var B=function(U){w.console.assert(U,"[TileCache.cacheTile] options is required"),w.console.assert(U.tile,"[TileCache.cacheTile] options.tile is required"),w.console.assert(U.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=U.tile,this.tiledImage=U.tiledImage},j=function(U){w.console.assert(U,"[ImageRecord] options is required"),w.console.assert(U.image,"[ImageRecord] options.image is required"),this._image=U.image,this._tiles=[]};j.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var U=document.createElement("canvas");U.width=this._image.width,U.height=this._image.height,this._renderedContext=U.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(U){w.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=U},addTile:function(U){w.console.assert(U,"[ImageRecord.addTile] tile is required"),this._tiles.push(U)},removeTile:function(U){for(var Y=0;Y<this._tiles.length;Y++)if(this._tiles[Y]===U){this._tiles.splice(Y,1);return}w.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",U)},getTileCount:function(){return this._tiles.length}},w.TileCache=function(U){U=U||{},this._maxImageCacheCount=U.maxImageCacheCount||w.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},w.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(U){w.console.assert(U,"[TileCache.cacheTile] options is required"),w.console.assert(U.tile,"[TileCache.cacheTile] options.tile is required"),w.console.assert(U.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),w.console.assert(U.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var Y=U.cutoff||0,J=this._tilesLoaded.length,ee=this._imagesLoaded[U.tile.cacheKey];if(ee||(w.console.assert(U.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),ee=this._imagesLoaded[U.tile.cacheKey]=new j({image:U.image}),this._imagesLoadedCount++),ee.addTile(U.tile),U.tile.cacheImageRecord=ee,this._imagesLoadedCount>this._maxImageCacheCount){for(var te=null,re=-1,ie=null,ce,fe,le,ye,we,Ce,ae=this._tilesLoaded.length-1;ae>=0;ae--)if(Ce=this._tilesLoaded[ae],ce=Ce.tile,!(ce.level<=Y||ce.beingDrawn)){if(!te){te=ce,re=ae,ie=Ce;continue}ye=ce.lastTouchTime,fe=te.lastTouchTime,we=ce.level,le=te.level,(ye<fe||ye==fe&&we>le)&&(te=ce,re=ae,ie=Ce)}te&&re>=0&&(this._unloadTile(ie),J=re)}this._tilesLoaded[J]=new B({tile:U.tile,tiledImage:U.tiledImage})},clearTilesFor:function(U){w.console.assert(U,"[TileCache.clearTilesFor] tiledImage is required");for(var Y,J=0;J<this._tilesLoaded.length;++J)Y=this._tilesLoaded[J],Y.tiledImage===U&&(this._unloadTile(Y),this._tilesLoaded.splice(J,1),J--)},getImageRecord:function(U){return w.console.assert(U,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[U]},_unloadTile:function(U){w.console.assert(U,"[TileCache._unloadTile] tileRecord is required");var Y=U.tile,J=U.tiledImage;Y.unload(),Y.cacheImageRecord=null;var ee=this._imagesLoaded[Y.cacheKey];ee.removeTile(Y),ee.getTileCount()||(ee.destroy(),delete this._imagesLoaded[Y.cacheKey],this._imagesLoadedCount--),J.viewer.raiseEvent("tile-unloaded",{tile:Y,tiledImage:J})}}}(OpenSeadragon),function(w){w.World=function(B){var j=this;w.console.assert(B.viewer,"[World] options.viewer is required"),w.EventSource.call(this),this.viewer=B.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(U){j._autoRefigureSizes?j._figureSizes():j._needsSizesFigured=!0},this._figureSizes()},w.extend(w.World.prototype,w.EventSource.prototype,{addItem:function(B,j){if(w.console.assert(B,"[World.addItem] item is required"),w.console.assert(B instanceof w.TiledImage,"[World.addItem] only TiledImages supported at this time"),j=j||{},j.index!==void 0){var U=Math.max(0,Math.min(this._items.length,j.index));this._items.splice(U,0,B)}else this._items.push(B);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,B.addHandler("bounds-change",this._delegatedFigureSizes),B.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:B})},getItemAt:function(B){return w.console.assert(B!==void 0,"[World.getItemAt] index is required"),this._items[B]},getIndexOfItem:function(B){return w.console.assert(B,"[World.getIndexOfItem] item is required"),w.indexOf(this._items,B)},getItemCount:function(){return this._items.length},setItemIndex:function(B,j){w.console.assert(B,"[World.setItemIndex] item is required"),w.console.assert(j!==void 0,"[World.setItemIndex] index is required");var U=this.getIndexOfItem(B);if(j>=this._items.length)throw new Error("Index bigger than number of layers.");j===U||U===-1||(this._items.splice(U,1),this._items.splice(j,0,B),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:B,previousIndex:U,newIndex:j}))},removeItem:function(B){w.console.assert(B,"[World.removeItem] item is required");var j=w.indexOf(this._items,B);j!==-1&&(B.removeHandler("bounds-change",this._delegatedFigureSizes),B.removeHandler("clip-change",this._delegatedFigureSizes),B.destroy(),this._items.splice(j,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(B))},removeAll:function(){this.viewer._cancelPendingImages();var B,j;for(j=0;j<this._items.length;j++)B=this._items[j],B.removeHandler("bounds-change",this._delegatedFigureSizes),B.removeHandler("clip-change",this._delegatedFigureSizes),B.destroy();var U=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,j=0;j<U.length;j++)B=U[j],this._raiseRemoveItem(B)},resetItems:function(){for(var B=0;B<this._items.length;B++)this._items[B].reset()},update:function(){for(var B=!1,j=0;j<this._items.length;j++)B=this._items[j].update()||B;return B},draw:function(){for(var B=0;B<this._items.length;B++)this._items[B].draw();this._needsDraw=!1},needsDraw:function(){for(var B=0;B<this._items.length;B++)if(this._items[B].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(B){this._autoRefigureSizes=B,B&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(B){B=B||{};var j=B.immediately||!1,U=B.layout||w.DEFAULT_SETTINGS.collectionLayout,Y=B.rows||w.DEFAULT_SETTINGS.collectionRows,J=B.columns||w.DEFAULT_SETTINGS.collectionColumns,ee=B.tileSize||w.DEFAULT_SETTINGS.collectionTileSize,te=B.tileMargin||w.DEFAULT_SETTINGS.collectionTileMargin,re=ee+te,ie;!B.rows&&J?ie=J:ie=Math.ceil(this._items.length/Y);var ce=0,fe=0,le,ye,we,Ce,ae;this.setAutoRefigureSizes(!1);for(var ve=0;ve<this._items.length;ve++)ve&&ve%ie===0&&(U==="horizontal"?(fe+=re,ce=0):(ce+=re,fe=0)),le=this._items[ve],ye=le.getBounds(),ye.width>ye.height?we=ee:we=ee*(ye.width/ye.height),Ce=we*(ye.height/ye.width),ae=new w.Point(ce+(ee-we)/2,fe+(ee-Ce)/2),le.setPosition(ae,j),le.setWidth(we,j),U==="horizontal"?ce+=re:fe+=re;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var B=this._homeBounds?this._homeBounds.clone():null,j=this._contentSize?this._contentSize.clone():null,U=this._contentFactor||0;if(!this._items.length)this._homeBounds=new w.Rect(0,0,1,1),this._contentSize=new w.Point(1,1),this._contentFactor=1;else{var Y=this._items[0],J=Y.getBounds();this._contentFactor=Y.getContentSize().x/J.width;for(var ee=Y.getClippedBounds().getBoundingBox(),te=ee.x,re=ee.y,ie=ee.x+ee.width,ce=ee.y+ee.height,fe=1;fe<this._items.length;fe++)Y=this._items[fe],J=Y.getBounds(),this._contentFactor=Math.max(this._contentFactor,Y.getContentSize().x/J.width),ee=Y.getClippedBounds().getBoundingBox(),te=Math.min(te,ee.x),re=Math.min(re,ee.y),ie=Math.max(ie,ee.x+ee.width),ce=Math.max(ce,ee.y+ee.height);this._homeBounds=new w.Rect(te,re,ie-te,ce-re),this._contentSize=new w.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==U||!this._homeBounds.equals(B)||!this._contentSize.equals(j))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(B){this.raiseEvent("remove-item",{item:B})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon(),openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(w,B){(function(j,U){w.exports=U(requireOpenseadragon())})(window,function(j){return function(U){function Y(ee){if(J[ee])return J[ee].exports;var te=J[ee]={i:ee,l:!1,exports:{}};return U[ee].call(te.exports,te,te.exports,Y),te.l=!0,te.exports}var J={};return Y.m=U,Y.c=J,Y.d=function(ee,te,re){Y.o(ee,te)||Object.defineProperty(ee,te,{enumerable:!0,get:re})},Y.r=function(ee){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ee,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ee,"__esModule",{value:!0})},Y.t=function(ee,te){if(1&te&&(ee=Y(ee)),8&te||4&te&&typeof ee=="object"&&ee&&ee.__esModule)return ee;var re=Object.create(null);if(Y.r(re),Object.defineProperty(re,"default",{enumerable:!0,value:ee}),2&te&&typeof ee!="string")for(var ie in ee)Y.d(re,ie,function(ce){return ee[ce]}.bind(null,ie));return re},Y.n=function(ee){var te=ee&&ee.__esModule?function(){return ee.default}:function(){return ee};return Y.d(te,"a",te),te},Y.o=function(ee,te){return Object.prototype.hasOwnProperty.call(ee,te)},Y.p="",Y(Y.s=1)}([function(U){U.exports=j},function(U,Y,J){J.r(Y);var ee=J(0),te=J.n(ee);Y.default=function(re,ie){if(!re.version||1>re.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return re.Viewer.prototype.addViewerInputHook=function(ce){return(ce=ce||{}).viewer=this,new ie.ViewerInputHook(ce)},ie.ViewerInputHook=function(ce){var fe,le;for((ce=ce||{}).hooks=ce.hooks||[],this.viewer=ce.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),fe=0;fe<ce.hooks.length;fe++){if(typeof ce.hooks[fe].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if((le=this.viewerTrackers[ce.hooks[fe].tracker])===void 0)throw new Error("Unknown tracker specified: "+ce.hooks[fe].tracker)}else le=ce.hooks[fe].tracker;this.hooks.push({tracker:le,handlerName:ce.hooks[fe].handler,origHandler:le[ce.hooks[fe].handler],hookHandler:ce.hooks[fe].hookHandler}),function(ye,we,Ce,ae){var ve=we[Ce];we[Ce]=function(xe){return ye._callHandlers(ae,ve,xe)}}(this,le,ce.hooks[fe].handler,ce.hooks[fe].hookHandler)}},ie.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},ie.ViewerInputHook.prototype._callHandlers=function(ce,fe,le){var ye=ce(le);return fe&&!le.stopHandlers&&(ye=fe(le)),!le.stopBubbling&&ye},ie.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var ce=this.hooks.pop();ce.tracker[ce.handlerName]=ce.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},ie.ViewerInputHook}(te.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhook.exports);var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(w){return Object.prototype.toString.call(w)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(w){return typeof w=="object"&&w.buffer&&w.buffer.constructor===ArrayBuffer});var createOutputMethod=function(w,B){return function(j){return new Sha256(B,!0).update(j)[w]()}},createMethod=function(w){var B=createOutputMethod("hex",w);NODE_JS&&(B=nodeWrap(B,w)),B.create=function(){return new Sha256(w)},B.update=function(Y){return B.create().update(Y)};for(var j=0;j<OUTPUT_TYPES.length;++j){var U=OUTPUT_TYPES[j];B[U]=createOutputMethod(U,w)}return B},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(w){if(typeof w=="string")return crypto.createHash(algorithm).update(w,"utf8").digest("hex");if(w==null)throw new Error(ERROR);return w.constructor===ArrayBuffer&&(w=new Uint8Array(w)),Array.isArray(w)||ArrayBuffer.isView(w)||w.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(w)).digest("hex"):method(w)};return nodeMethod},createHmacOutputMethod=function(w,B){return function(j,U){return new HmacSha256(j,B,!0).update(U)[w]()}},createHmacMethod=function(w){var B=createHmacOutputMethod("hex",w);B.create=function(Y){return new HmacSha256(Y,w)},B.update=function(Y,J){return B.create(Y).update(J)};for(var j=0;j<OUTPUT_TYPES.length;++j){var U=OUTPUT_TYPES[j];B[U]=createHmacOutputMethod(U,w)}return B};function Sha256(w,B){B?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=w}Sha256.prototype.update=function(w){if(!this.finalized){var B,j=typeof w;if(j!=="string"){if(j==="object"){if(w===null)throw new Error(ERROR);if(ARRAY_BUFFER&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(w)))throw new Error(ERROR)}else throw new Error(ERROR);B=!0}for(var U,Y=0,J,ee=w.length,te=this.blocks;Y<ee;){if(this.hashed&&(this.hashed=!1,te[0]=this.block,te[16]=te[1]=te[2]=te[3]=te[4]=te[5]=te[6]=te[7]=te[8]=te[9]=te[10]=te[11]=te[12]=te[13]=te[14]=te[15]=0),B)for(J=this.start;Y<ee&&J<64;++Y)te[J>>2]|=w[Y]<<SHIFT[J++&3];else for(J=this.start;Y<ee&&J<64;++Y)U=w.charCodeAt(Y),U<128?te[J>>2]|=U<<SHIFT[J++&3]:U<2048?(te[J>>2]|=(192|U>>6)<<SHIFT[J++&3],te[J>>2]|=(128|U&63)<<SHIFT[J++&3]):U<55296||U>=57344?(te[J>>2]|=(224|U>>12)<<SHIFT[J++&3],te[J>>2]|=(128|U>>6&63)<<SHIFT[J++&3],te[J>>2]|=(128|U&63)<<SHIFT[J++&3]):(U=65536+((U&1023)<<10|w.charCodeAt(++Y)&1023),te[J>>2]|=(240|U>>18)<<SHIFT[J++&3],te[J>>2]|=(128|U>>12&63)<<SHIFT[J++&3],te[J>>2]|=(128|U>>6&63)<<SHIFT[J++&3],te[J>>2]|=(128|U&63)<<SHIFT[J++&3]);this.lastByteIndex=J,this.bytes+=J-this.start,J>=64?(this.block=te[16],this.start=J-64,this.hash(),this.hashed=!0):this.start=J}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var w=this.blocks,B=this.lastByteIndex;w[16]=this.block,w[B>>2]|=EXTRA[B&3],this.block=w[16],B>=56&&(this.hashed||this.hash(),w[0]=this.block,w[16]=w[1]=w[2]=w[3]=w[4]=w[5]=w[6]=w[7]=w[8]=w[9]=w[10]=w[11]=w[12]=w[13]=w[14]=w[15]=0),w[14]=this.hBytes<<3|this.bytes>>>29,w[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var w=this.h0,B=this.h1,j=this.h2,U=this.h3,Y=this.h4,J=this.h5,ee=this.h6,te=this.h7,re=this.blocks,ie,ce,fe,le,ye,we,Ce,ae,ve,xe,_e;for(ie=16;ie<64;++ie)ye=re[ie-15],ce=(ye>>>7|ye<<25)^(ye>>>18|ye<<14)^ye>>>3,ye=re[ie-2],fe=(ye>>>17|ye<<15)^(ye>>>19|ye<<13)^ye>>>10,re[ie]=re[ie-16]+ce+re[ie-7]+fe<<0;for(_e=B&j,ie=0;ie<64;ie+=4)this.first?(this.is224?(ae=300032,ye=re[0]-1413257819,te=ye-150054599<<0,U=ye+24177077<<0):(ae=704751109,ye=re[0]-210244248,te=ye-1521486534<<0,U=ye+143694565<<0),this.first=!1):(ce=(w>>>2|w<<30)^(w>>>13|w<<19)^(w>>>22|w<<10),fe=(Y>>>6|Y<<26)^(Y>>>11|Y<<21)^(Y>>>25|Y<<7),ae=w&B,le=ae^w&j^_e,Ce=Y&J^~Y&ee,ye=te+fe+Ce+K[ie]+re[ie],we=ce+le,te=U+ye<<0,U=ye+we<<0),ce=(U>>>2|U<<30)^(U>>>13|U<<19)^(U>>>22|U<<10),fe=(te>>>6|te<<26)^(te>>>11|te<<21)^(te>>>25|te<<7),ve=U&w,le=ve^U&B^ae,Ce=te&Y^~te&J,ye=ee+fe+Ce+K[ie+1]+re[ie+1],we=ce+le,ee=j+ye<<0,j=ye+we<<0,ce=(j>>>2|j<<30)^(j>>>13|j<<19)^(j>>>22|j<<10),fe=(ee>>>6|ee<<26)^(ee>>>11|ee<<21)^(ee>>>25|ee<<7),xe=j&U,le=xe^j&w^ve,Ce=ee&te^~ee&Y,ye=J+fe+Ce+K[ie+2]+re[ie+2],we=ce+le,J=B+ye<<0,B=ye+we<<0,ce=(B>>>2|B<<30)^(B>>>13|B<<19)^(B>>>22|B<<10),fe=(J>>>6|J<<26)^(J>>>11|J<<21)^(J>>>25|J<<7),_e=B&j,le=_e^B&U^xe,Ce=J&ee^~J&te,ye=Y+fe+Ce+K[ie+3]+re[ie+3],we=ce+le,Y=w+ye<<0,w=ye+we<<0;this.h0=this.h0+w<<0,this.h1=this.h1+B<<0,this.h2=this.h2+j<<0,this.h3=this.h3+U<<0,this.h4=this.h4+Y<<0,this.h5=this.h5+J<<0,this.h6=this.h6+ee<<0,this.h7=this.h7+te<<0},Sha256.prototype.hex=function(){this.finalize();var w=this.h0,B=this.h1,j=this.h2,U=this.h3,Y=this.h4,J=this.h5,ee=this.h6,te=this.h7,re=HEX_CHARS[w>>28&15]+HEX_CHARS[w>>24&15]+HEX_CHARS[w>>20&15]+HEX_CHARS[w>>16&15]+HEX_CHARS[w>>12&15]+HEX_CHARS[w>>8&15]+HEX_CHARS[w>>4&15]+HEX_CHARS[w&15]+HEX_CHARS[B>>28&15]+HEX_CHARS[B>>24&15]+HEX_CHARS[B>>20&15]+HEX_CHARS[B>>16&15]+HEX_CHARS[B>>12&15]+HEX_CHARS[B>>8&15]+HEX_CHARS[B>>4&15]+HEX_CHARS[B&15]+HEX_CHARS[j>>28&15]+HEX_CHARS[j>>24&15]+HEX_CHARS[j>>20&15]+HEX_CHARS[j>>16&15]+HEX_CHARS[j>>12&15]+HEX_CHARS[j>>8&15]+HEX_CHARS[j>>4&15]+HEX_CHARS[j&15]+HEX_CHARS[U>>28&15]+HEX_CHARS[U>>24&15]+HEX_CHARS[U>>20&15]+HEX_CHARS[U>>16&15]+HEX_CHARS[U>>12&15]+HEX_CHARS[U>>8&15]+HEX_CHARS[U>>4&15]+HEX_CHARS[U&15]+HEX_CHARS[Y>>28&15]+HEX_CHARS[Y>>24&15]+HEX_CHARS[Y>>20&15]+HEX_CHARS[Y>>16&15]+HEX_CHARS[Y>>12&15]+HEX_CHARS[Y>>8&15]+HEX_CHARS[Y>>4&15]+HEX_CHARS[Y&15]+HEX_CHARS[J>>28&15]+HEX_CHARS[J>>24&15]+HEX_CHARS[J>>20&15]+HEX_CHARS[J>>16&15]+HEX_CHARS[J>>12&15]+HEX_CHARS[J>>8&15]+HEX_CHARS[J>>4&15]+HEX_CHARS[J&15]+HEX_CHARS[ee>>28&15]+HEX_CHARS[ee>>24&15]+HEX_CHARS[ee>>20&15]+HEX_CHARS[ee>>16&15]+HEX_CHARS[ee>>12&15]+HEX_CHARS[ee>>8&15]+HEX_CHARS[ee>>4&15]+HEX_CHARS[ee&15];return this.is224||(re+=HEX_CHARS[te>>28&15]+HEX_CHARS[te>>24&15]+HEX_CHARS[te>>20&15]+HEX_CHARS[te>>16&15]+HEX_CHARS[te>>12&15]+HEX_CHARS[te>>8&15]+HEX_CHARS[te>>4&15]+HEX_CHARS[te&15]),re},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var w=this.h0,B=this.h1,j=this.h2,U=this.h3,Y=this.h4,J=this.h5,ee=this.h6,te=this.h7,re=[w>>24&255,w>>16&255,w>>8&255,w&255,B>>24&255,B>>16&255,B>>8&255,B&255,j>>24&255,j>>16&255,j>>8&255,j&255,U>>24&255,U>>16&255,U>>8&255,U&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255,J>>24&255,J>>16&255,J>>8&255,J&255,ee>>24&255,ee>>16&255,ee>>8&255,ee&255];return this.is224||re.push(te>>24&255,te>>16&255,te>>8&255,te&255),re},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var w=new ArrayBuffer(this.is224?28:32),B=new DataView(w);return B.setUint32(0,this.h0),B.setUint32(4,this.h1),B.setUint32(8,this.h2),B.setUint32(12,this.h3),B.setUint32(16,this.h4),B.setUint32(20,this.h5),B.setUint32(24,this.h6),this.is224||B.setUint32(28,this.h7),w};function HmacSha256(w,B,j){var U,Y=typeof w;if(Y==="string"){var J=[],ee=w.length,te=0,re;for(U=0;U<ee;++U)re=w.charCodeAt(U),re<128?J[te++]=re:re<2048?(J[te++]=192|re>>6,J[te++]=128|re&63):re<55296||re>=57344?(J[te++]=224|re>>12,J[te++]=128|re>>6&63,J[te++]=128|re&63):(re=65536+((re&1023)<<10|w.charCodeAt(++U)&1023),J[te++]=240|re>>18,J[te++]=128|re>>12&63,J[te++]=128|re>>6&63,J[te++]=128|re&63);w=J}else if(Y==="object"){if(w===null)throw new Error(ERROR);if(ARRAY_BUFFER&&w.constructor===ArrayBuffer)w=new Uint8Array(w);else if(!Array.isArray(w)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(w)))throw new Error(ERROR)}else throw new Error(ERROR);w.length>64&&(w=new Sha256(B,!0).update(w).array());var ie=[],ce=[];for(U=0;U<64;++U){var fe=w[U]||0;ie[U]=92^fe,ce[U]=54^fe}Sha256.call(this,B,j),this.update(ce),this.oKeyPad=ie,this.inner=!0,this.sharedMemory=j}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var w=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(w),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);const iiifServer="https://iiif.juncture-digital.org";function sha256(w){return sha256$1.exports.sha256(w)}async function getManifest(w,B=!1){let j=w.indexOf("http")===0?w:`${iiifServer}/${w}/manifest.json`;return(await loadManifests([j],B))[0]}function observeNavbar(w,B){const j=()=>{let Y=parseInt(w.style.top.replace(/^-/,"").replace(/px$/,"")),ee=parseInt(w.style.height.replace(/px$/,""))-Y;B.style.top&&(ee+=parseInt(B.style.marginTop.slice(0,-2))),B.style.top=`${ee}px`};j(),new MutationObserver(j).observe(w,{attributes:!0})}function makeSticky(w){var j;w.classList.add("sticky"),w.style.position="sticky";let B=document.querySelector('ve-navbar[sticky="true"]');if(B)observeNavbar(B,w);else{let U=document.querySelector("ve-header[sticky]");U?(B=(j=U==null?void 0:U.shadowRoot)==null?void 0:j.querySelector("ve-navbar"),B?observeNavbar(B,w):new MutationObserver(()=>{var J;B=(J=U==null?void 0:U.shadowRoot)==null?void 0:J.querySelector("ve-navbar"),B&&observeNavbar(B,w)}).observe(U,{childList:!0,subtree:!0,attributes:!0})):w.style.top="0"}}function findItem(w,B,j=1){const U=_findItems(w,B);return U.length>=j?U[j-1]:null}function _findItems(w,B,j=[]){if(j=j||[],B.items)for(let U=0;U<B.items.length;U++){let Y=B.items[U];!Object.entries(w).find(([ee,te])=>Y[ee]&&Y[ee]!==te)?j.push(Y):_findItems(w,Y,j)}return j}function getItemInfo(w,B=1){return findItem({type:"Annotation",motivation:"painting"},w,B).body}function imageCount(w){return _findItems({type:"Annotation",motivation:"painting"},w).length}const _manifestCache={};async function loadManifests(w,B=!1){let j=w.map(Y=>Y.indexOf("http")===0?Y:`${iiifServer}/${Y}/manifest.json`),U=j.filter(Y=>!_manifestCache[Y]);if(U.length>0){let Y=U.map(te=>(B&&["localhost","iiif.juncture-digital.org"].includes(new URL(te).hostname)&&(te+="?refresh"),fetch(te))),J=await Promise.all(Y),ee=await Promise.all(J.map(te=>te.json()));if(Y=ee.filter(te=>!Array.isArray(te["@context"])&&parseFloat(te["@context"].split("/").slice(-2,-1).pop())<3).map(te=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(te)})),Y.length>0){J=await Promise.all(Y);let te=await Promise.all(J.map(re=>re.json()));for(let re=0;re<ee.length;re++){let ie=te.find(ce=>ce["@id"]===ee[re].id);ie&&(ee[re]=ie)}}return ee.forEach((te,re)=>_manifestCache[U[re]]=te),j.map(te=>_manifestCache[te])}else return j.map(Y=>_manifestCache[Y])}function _value(w,B="en"){return typeof w=="object"?w[B]||w.none||w[Object.keys(w).sort()[0]]:w}function label(w,B="en"){return w?_value(w.label,B):null}function summary(w,B="en"){return w?_value(w.summary,B):null}function thumbnail(w,B=400){if(!w)return null;let j=getItemInfo(w);return j.service?`${j.service[0].id||j.service[0]["@id"]}/full/${B},/0/default.jpg`:j.type==="Video"?`https://iiif.juncture-digital.org/thumbnail?url=${j.id}`:j.id}function parseRegionString(w,B){let j;const U=w.split(":");let[Y,J,ee,te]=U[U.length-1].split(",").map(ie=>parseInt(ie));const re=B.world.getItemAt(0).getContentSize();return U.length===2&&(U[0]==="pct"||U[0]==="percent")&&(Y=Math.round(re.x*Y/100),J=Math.round(re.y*J/100),ee=Math.round(re.x*ee/100),te=Math.round(re.y*te/100)),j=B.viewport.imageToViewportRectangle(Y,J,ee,te),j}function getMetadata(w,B="en"){let j=[];return w.metadata&&w.metadata.forEach(U=>{j.push({label:_value(U.label,B)[0],value:_value(U.value,B)})}),j}function top(){return stickyElems.length>0&&stickyElems[0].localName.toLowerCase()==="ve-navbar"?parseInt(window.getComputedStyle(stickyElems[0]).height.slice(0,-2)):0}function findStickyElems(){var j,U;let w=Array.from(document.querySelectorAll(".sticky")),B=w.findIndex(Y=>Y.localName.toLowerCase()==="ve-navbar");if(B<0){let Y=w.findIndex(J=>J.localName.toLowerCase()==="ve-header");if(Y>=0){let J=(U=(j=w[Y])==null?void 0:j.shadowRoot)==null?void 0:U.querySelector("ve-navbar.sticky");J&&(w[Y]=J,B=Y)}}return w.forEach(Y=>setTop(Y)),w}function activeRegionOffset(){let w=stickyElems.find(j=>j.localName.toLowerCase()==="ve-navbar"),B=w?w.getBoundingClientRect().top:0;return stickyElems.forEach(j=>{let U=j.getBoundingClientRect();if((U.x<U.width?0:1)===0&&U.top===B){let J=window.getComputedStyle(j).height;J.length>=3&&J.slice(-2)==="px"&&(B+=parseInt(window.getComputedStyle(j).height.slice(0,-2)))}}),B}function setTop(w){if(w.localName.toLowerCase()==="section"){let B=stickyElems.find(U=>U.localName.toLowerCase()==="ve-navbar"),j=B?B.clientHeight:0;w.style.top=`${j}px`}}let stickyElems=[];const mutationObserver=new MutationObserver(()=>stickyElems=findStickyElems());mutationObserver.observe(document,{childList:!0,subtree:!0});let targets={},active,offset=0;const intersectionObserver=new IntersectionObserver(w=>{offset=activeRegionOffset(),w.forEach(U=>targets[domPath(U.target)]=U);let B=Object.values(targets).filter(U=>U.isIntersecting).filter(U=>U.target.getBoundingClientRect().y>=offset).sort((U,Y)=>U.target.getBoundingClientRect().y>Y.target.getBoundingClientRect().y?1:-1),j=B.find(U=>U.intersectionRatio===1)||B[0];if(j){let U=j.target;Array.from(U.classList).indexOf("active")<0&&(active&&active.classList.remove("active"),U.classList.add("active"),active=U)}},{root:null,threshold:[0,.25,.5,.75,1],rootMargin:`-${offset}px 0px 0px 0px`});Array.from(document.querySelectorAll("p")).forEach(w=>intersectionObserver.observe(w));function domPath(w){for(var B=[];w.parentNode!=null;){let U=0,Y=0;for(var j=0;j<w.parentNode.childNodes.length;j++){let J=w.parentNode.childNodes[j];J.nodeName==w.nodeName&&(J===w&&(Y=U),U++)}w.hasAttribute("id")&&w.id!=""?B.unshift(w.nodeName.toLowerCase()+`#${w.id}`):U>1?B.unshift(w.nodeName.toLowerCase()+(Y>0?`[${Y}]`:"")):B.unshift(w.nodeName.toLowerCase()),w=w.parentNode}return B.join(".")}var openseadragonAnnotorious_min={exports:{}};(function(w,B){var j=Object.defineProperty,U=Object.defineProperties,Y=Object.getOwnPropertyDescriptors,J=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable,re=(ye,we,Ce)=>we in ye?j(ye,we,{enumerable:!0,configurable:!0,writable:!0,value:Ce}):ye[we]=Ce,ie=(ye,we)=>{for(var Ce in we||(we={}))ee.call(we,Ce)&&re(ye,Ce,we[Ce]);if(J)for(var Ce of J(we))te.call(we,Ce)&&re(ye,Ce,we[Ce]);return ye},ce=(ye,we)=>U(ye,Y(we)),fe=(ye,we)=>{var Ce={};for(var ae in ye)ee.call(ye,ae)&&we.indexOf(ae)<0&&(Ce[ae]=ye[ae]);if(ye!=null&&J)for(var ae of J(ye))we.indexOf(ae)<0&&te.call(ye,ae)&&(Ce[ae]=ye[ae]);return Ce},le=(ye,we,Ce)=>(re(ye,typeof we!="symbol"?we+"":we,Ce),Ce);(function(ye,we){w.exports=we(requireOpenseadragon())})(commonjsGlobal$1,function(ye){function we(F){return F&&typeof F=="object"&&"default"in F?F:{default:F}}var Ce=we(ye),ae,ve,xe,_e,Pe,Me,je,Ve={},He=[],Ze=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Ue(F,D){for(var q in D)F[q]=D[q];return F}function it(F){var D=F.parentNode;D&&D.removeChild(F)}function Fe(F,D,q){var G,X,Q,ne={};for(Q in D)Q=="key"?G=D[Q]:Q=="ref"?X=D[Q]:ne[Q]=D[Q];if(arguments.length>2&&(ne.children=arguments.length>3?ae.call(arguments,2):q),typeof F=="function"&&F.defaultProps!=null)for(Q in F.defaultProps)ne[Q]===void 0&&(ne[Q]=F.defaultProps[Q]);return ht(F,ne,G,X,null)}function ht(F,D,q,G,X){var Q={type:F,props:D,key:q,ref:G,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:X==null?++xe:X};return ve.vnode!=null&&ve.vnode(Q),Q}function ft(){return{current:null}}function St(F){return F.children}function gt(F,D){this.props=F,this.context=D}function nt(F,D){if(D==null)return F.__?nt(F.__,F.__.__k.indexOf(F)+1):null;for(var q;D<F.__k.length;D++)if((q=F.__k[D])!=null&&q.__e!=null)return q.__e;return typeof F.type=="function"?nt(F):null}function yt(F){var D,q;if((F=F.__)!=null&&F.__c!=null){for(F.__e=F.__c.base=null,D=0;D<F.__k.length;D++)if((q=F.__k[D])!=null&&q.__e!=null){F.__e=F.__c.base=q.__e;break}return yt(F)}}function $t(F){(!F.__d&&(F.__d=!0)&&_e.push(F)&&!ln.__r++||Me!==ve.debounceRendering)&&((Me=ve.debounceRendering)||Pe)(ln)}function ln(){for(var F;ln.__r=_e.length;)F=_e.sort(function(D,q){return D.__v.__b-q.__v.__b}),_e=[],F.some(function(D){var q,G,X,Q,ne,se;D.__d&&(ne=(Q=(q=D).__v).__e,(se=q.__P)&&(G=[],(X=Ue({},Q)).__v=Q.__v+1,Pn(se,Q,X,q.__n,se.ownerSVGElement!==void 0,Q.__h!=null?[ne]:null,G,ne==null?nt(Q):ne,Q.__h),Nn(G,Q),Q.__e!=ne&&yt(Q)))})}function un(F,D,q,G,X,Q,ne,se,de,he){var ue,be,Ee,Oe,De,Ge,We,tt=G&&G.__k||He,at=tt.length;for(q.__k=[],ue=0;ue<D.length;ue++)if((Oe=q.__k[ue]=(Oe=D[ue])==null||typeof Oe=="boolean"?null:typeof Oe=="string"||typeof Oe=="number"||typeof Oe=="bigint"?ht(null,Oe,null,null,Oe):Array.isArray(Oe)?ht(St,{children:Oe},null,null,null):Oe.__b>0?ht(Oe.type,Oe.props,Oe.key,null,Oe.__v):Oe)!=null){if(Oe.__=q,Oe.__b=q.__b+1,(Ee=tt[ue])===null||Ee&&Oe.key==Ee.key&&Oe.type===Ee.type)tt[ue]=void 0;else for(be=0;be<at;be++){if((Ee=tt[be])&&Oe.key==Ee.key&&Oe.type===Ee.type){tt[be]=void 0;break}Ee=null}Pn(F,Oe,Ee=Ee||Ve,X,Q,ne,se,de,he),De=Oe.__e,(be=Oe.ref)&&Ee.ref!=be&&(We||(We=[]),Ee.ref&&We.push(Ee.ref,null,Oe),We.push(be,Oe.__c||De,Oe)),De!=null?(Ge==null&&(Ge=De),typeof Oe.type=="function"&&Oe.__k!=null&&Oe.__k===Ee.__k?Oe.__d=de=on(Oe,de,F):de=Yn(F,Oe,Ee,tt,De,de),he||q.type!=="option"?typeof q.type=="function"&&(q.__d=de):F.value=""):de&&Ee.__e==de&&de.parentNode!=F&&(de=nt(Ee))}for(q.__e=Ge,ue=at;ue--;)tt[ue]!=null&&(typeof q.type=="function"&&tt[ue].__e!=null&&tt[ue].__e==q.__d&&(q.__d=nt(G,ue+1)),me(tt[ue],tt[ue]));if(We)for(ue=0;ue<We.length;ue++)oe(We[ue],We[++ue],We[++ue])}function on(F,D,q){var G,X;for(G=0;G<F.__k.length;G++)(X=F.__k[G])&&(X.__=F,D=typeof X.type=="function"?on(X,D,q):Yn(q,X,X,F.__k,X.__e,D));return D}function tn(F,D){return D=D||[],F==null||typeof F=="boolean"||(Array.isArray(F)?F.some(function(q){tn(q,D)}):D.push(F)),D}function Yn(F,D,q,G,X,Q){var ne,se,de;if(D.__d!==void 0)ne=D.__d,D.__d=void 0;else if(q==null||X!=Q||X.parentNode==null)e:if(Q==null||Q.parentNode!==F)F.appendChild(X),ne=null;else{for(se=Q,de=0;(se=se.nextSibling)&&de<G.length;de+=2)if(se==X)break e;F.insertBefore(X,Q),ne=Q}return ne!==void 0?ne:X.nextSibling}function Un(F,D,q,G,X){var Q;for(Q in q)Q==="children"||Q==="key"||Q in D||nn(F,Q,null,q[Q],G);for(Q in D)X&&typeof D[Q]!="function"||Q==="children"||Q==="key"||Q==="value"||Q==="checked"||q[Q]===D[Q]||nn(F,Q,D[Q],q[Q],G)}function fn(F,D,q){D[0]==="-"?F.setProperty(D,q):F[D]=q==null?"":typeof q!="number"||Ze.test(D)?q:q+"px"}function nn(F,D,q,G,X){var Q;e:if(D==="style")if(typeof q=="string")F.style.cssText=q;else{if(typeof G=="string"&&(F.style.cssText=G=""),G)for(D in G)q&&D in q||fn(F.style,D,"");if(q)for(D in q)G&&q[D]===G[D]||fn(F.style,D,q[D])}else if(D[0]==="o"&&D[1]==="n")Q=D!==(D=D.replace(/Capture$/,"")),D=D.toLowerCase()in F?D.toLowerCase().slice(2):D.slice(2),F.l||(F.l={}),F.l[D+Q]=q,q?G||F.addEventListener(D,Q?Cn:wn,Q):F.removeEventListener(D,Q?Cn:wn,Q);else if(D!=="dangerouslySetInnerHTML"){if(X)D=D.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(D!=="href"&&D!=="list"&&D!=="form"&&D!=="tabIndex"&&D!=="download"&&D in F)try{F[D]=q==null?"":q;break e}catch{}typeof q=="function"||(q!=null&&(q!==!1||D[0]==="a"&&D[1]==="r")?F.setAttribute(D,q):F.removeAttribute(D))}}function wn(F){this.l[F.type+!1](ve.event?ve.event(F):F)}function Cn(F){this.l[F.type+!0](ve.event?ve.event(F):F)}function Pn(F,D,q,G,X,Q,ne,se,de){var he,ue,be,Ee,Oe,De,Ge,We,tt,at,At,xt=D.type;if(D.constructor!==void 0)return null;q.__h!=null&&(de=q.__h,se=D.__e=q.__e,D.__h=null,Q=[se]),(he=ve.__b)&&he(D);try{e:if(typeof xt=="function"){if(We=D.props,tt=(he=xt.contextType)&&G[he.__c],at=he?tt?tt.props.value:he.__:G,q.__c?Ge=(ue=D.__c=q.__c).__=ue.__E:("prototype"in xt&&xt.prototype.render?D.__c=ue=new xt(We,at):(D.__c=ue=new gt(We,at),ue.constructor=xt,ue.render=Ae),tt&&tt.sub(ue),ue.props=We,ue.state||(ue.state={}),ue.context=at,ue.__n=G,be=ue.__d=!0,ue.__h=[]),ue.__s==null&&(ue.__s=ue.state),xt.getDerivedStateFromProps!=null&&(ue.__s==ue.state&&(ue.__s=Ue({},ue.__s)),Ue(ue.__s,xt.getDerivedStateFromProps(We,ue.__s))),Ee=ue.props,Oe=ue.state,be)xt.getDerivedStateFromProps==null&&ue.componentWillMount!=null&&ue.componentWillMount(),ue.componentDidMount!=null&&ue.__h.push(ue.componentDidMount);else{if(xt.getDerivedStateFromProps==null&&We!==Ee&&ue.componentWillReceiveProps!=null&&ue.componentWillReceiveProps(We,at),!ue.__e&&ue.shouldComponentUpdate!=null&&ue.shouldComponentUpdate(We,ue.__s,at)===!1||D.__v===q.__v){ue.props=We,ue.state=ue.__s,D.__v!==q.__v&&(ue.__d=!1),ue.__v=D,D.__e=q.__e,D.__k=q.__k,D.__k.forEach(function(bt){bt&&(bt.__=D)}),ue.__h.length&&ne.push(ue);break e}ue.componentWillUpdate!=null&&ue.componentWillUpdate(We,ue.__s,at),ue.componentDidUpdate!=null&&ue.__h.push(function(){ue.componentDidUpdate(Ee,Oe,De)})}ue.context=at,ue.props=We,ue.state=ue.__s,(he=ve.__r)&&he(D),ue.__d=!1,ue.__v=D,ue.__P=F,he=ue.render(ue.props,ue.state,ue.context),ue.state=ue.__s,ue.getChildContext!=null&&(G=Ue(Ue({},G),ue.getChildContext())),be||ue.getSnapshotBeforeUpdate==null||(De=ue.getSnapshotBeforeUpdate(Ee,Oe)),At=he!=null&&he.type===St&&he.key==null?he.props.children:he,un(F,Array.isArray(At)?At:[At],D,q,G,X,Q,ne,se,de),ue.base=D.__e,D.__h=null,ue.__h.length&&ne.push(ue),Ge&&(ue.__E=ue.__=null),ue.__e=!1}else Q==null&&D.__v===q.__v?(D.__k=q.__k,D.__e=q.__e):D.__e=ke(q.__e,D,q,G,X,Q,ne,de);(he=ve.diffed)&&he(D)}catch(bt){D.__v=null,(de||Q!=null)&&(D.__e=se,D.__h=!!de,Q[Q.indexOf(se)]=null),ve.__e(bt,D,q)}}function Nn(F,D){ve.__c&&ve.__c(D,F),F.some(function(q){try{F=q.__h,q.__h=[],F.some(function(G){G.call(q)})}catch(G){ve.__e(G,q.__v)}})}function ke(F,D,q,G,X,Q,ne,se){var de,he,ue,be=q.props,Ee=D.props,Oe=D.type,De=0;if(Oe==="svg"&&(X=!0),Q!=null){for(;De<Q.length;De++)if((de=Q[De])&&(de===F||(Oe?de.localName==Oe:de.nodeType==3))){F=de,Q[De]=null;break}}if(F==null){if(Oe===null)return document.createTextNode(Ee);F=X?document.createElementNS("http://www.w3.org/2000/svg",Oe):document.createElement(Oe,Ee.is&&Ee),Q=null,se=!1}if(Oe===null)be===Ee||se&&F.data===Ee||(F.data=Ee);else{if(Q=Q&&ae.call(F.childNodes),he=(be=q.props||Ve).dangerouslySetInnerHTML,ue=Ee.dangerouslySetInnerHTML,!se){if(Q!=null)for(be={},De=0;De<F.attributes.length;De++)be[F.attributes[De].name]=F.attributes[De].value;(ue||he)&&(ue&&(he&&ue.__html==he.__html||ue.__html===F.innerHTML)||(F.innerHTML=ue&&ue.__html||""))}if(Un(F,Ee,be,X,se),ue)D.__k=[];else if(De=D.props.children,un(F,Array.isArray(De)?De:[De],D,q,G,X&&Oe!=="foreignObject",Q,ne,Q?Q[0]:q.__k&&nt(q,0),se),Q!=null)for(De=Q.length;De--;)Q[De]!=null&&it(Q[De]);se||("value"in Ee&&(De=Ee.value)!==void 0&&(De!==F.value||Oe==="progress"&&!De)&&nn(F,"value",De,be.value,!1),"checked"in Ee&&(De=Ee.checked)!==void 0&&De!==F.checked&&nn(F,"checked",De,be.checked,!1))}return F}function oe(F,D,q){try{typeof F=="function"?F(D):F.current=D}catch(G){ve.__e(G,q)}}function me(F,D,q){var G,X;if(ve.unmount&&ve.unmount(F),(G=F.ref)&&(G.current&&G.current!==F.__e||oe(G,null,D)),(G=F.__c)!=null){if(G.componentWillUnmount)try{G.componentWillUnmount()}catch(Q){ve.__e(Q,D)}G.base=G.__P=null}if(G=F.__k)for(X=0;X<G.length;X++)G[X]&&me(G[X],D,typeof F.type!="function");q||F.__e==null||it(F.__e),F.__e=F.__d=void 0}function Ae(F,D,q){return this.constructor(F,q)}function Re(F,D,q){var G,X,Q;ve.__&&ve.__(F,D),X=(G=typeof q=="function")?null:q&&q.__k||D.__k,Q=[],Pn(D,F=(!G&&q||D).__k=Fe(St,null,[F]),X||Ve,Ve,D.ownerSVGElement!==void 0,!G&&q?[q]:X?null:D.firstChild?ae.call(D.childNodes):null,Q,!G&&q?q:X?X.__e:D.firstChild,G),Nn(Q,F)}function Be(F,D){Re(F,D,Be)}function Xe(F,D,q){var G,X,Q,ne=Ue({},F.props);for(Q in D)Q=="key"?G=D[Q]:Q=="ref"?X=D[Q]:ne[Q]=D[Q];return arguments.length>2&&(ne.children=arguments.length>3?ae.call(arguments,2):q),ht(F.type,ne,G||F.key,X||F.ref,null)}function Ne(F,D){var q={__c:D="__cC"+je++,__:F,Consumer:function(G,X){return G.children(X)},Provider:function(G){var X,Q;return this.getChildContext||(X=[],(Q={})[D]=this,this.getChildContext=function(){return Q},this.shouldComponentUpdate=function(ne){this.props.value!==ne.value&&X.some($t)},this.sub=function(ne){X.push(ne);var se=ne.componentWillUnmount;ne.componentWillUnmount=function(){X.splice(X.indexOf(ne),1),se&&se.call(ne)}}),G.children}};return q.Provider.__=q.Consumer.contextType=q}ae=He.slice,ve={__e:function(F,D){for(var q,G,X;D=D.__;)if((q=D.__c)&&!q.__)try{if((G=q.constructor)&&G.getDerivedStateFromError!=null&&(q.setState(G.getDerivedStateFromError(F)),X=q.__d),q.componentDidCatch!=null&&(q.componentDidCatch(F),X=q.__d),X)return q.__E=q}catch(Q){F=Q}throw F}},xe=0,gt.prototype.setState=function(F,D){var q;q=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ue({},this.state),typeof F=="function"&&(F=F(Ue({},q),this.props)),F&&Ue(q,F),F!=null&&this.__v&&(D&&this.__h.push(D),$t(this))},gt.prototype.forceUpdate=function(F){this.__v&&(this.__e=!0,F&&this.__h.push(F),$t(this))},gt.prototype.render=St,_e=[],Pe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,ln.__r=0,je=0;var qe,ze,et,Ye=0,Ke=[],rt=ve.__b,vt=ve.__r,kt=ve.diffed,Bt=ve.__c,It=ve.unmount;function jt(F,D){ve.__h&&ve.__h(ze,F,Ye||D),Ye=0;var q=ze.__H||(ze.__H={__:[],__h:[]});return F>=q.__.length&&q.__.push({}),q.__[F]}function qt(F){return Ye=1,Ln(Le,F)}function Ln(F,D,q){var G=jt(qe++,2);return G.t=F,G.__c||(G.__=[q?q(D):Le(void 0,D),function(X){var Q=G.t(G.__[0],X);G.__[0]!==Q&&(G.__=[Q,G.__[1]],G.__c.setState({}))}],G.__c=ze),G.__}function sn(F,D){var q=jt(qe++,3);!ve.__s&&Ie(q.__H,D)&&(q.__=F,q.__H=D,ze.__H.__h.push(q))}function Wn(F,D){var q=jt(qe++,4);!ve.__s&&Ie(q.__H,D)&&(q.__=F,q.__H=D,ze.__h.push(q))}function ge(F){return Ye=5,Se(function(){return{current:F}},[])}function pe(F,D,q){Ye=6,Wn(function(){typeof F=="function"?F(D()):F&&(F.current=D())},q==null?q:q.concat(F))}function Se(F,D){var q=jt(qe++,7);return Ie(q.__H,D)&&(q.__=F(),q.__H=D,q.__h=F),q.__}function Te(F,D){return Ye=8,Se(function(){return F},D)}function Qe(F){var D=ze.context[F.__c],q=jt(qe++,9);return q.c=F,D?(q.__==null&&(q.__=!0,D.sub(ze)),D.props.value):F.__}function mt(F,D){ve.useDebugValue&&ve.useDebugValue(D?D(F):F)}function dt(F){var D=jt(qe++,10),q=qt();return D.__=F,ze.componentDidCatch||(ze.componentDidCatch=function(G){D.__&&D.__(G),q[1](G)}),[q[0],function(){q[1](void 0)}]}function ct(){Ke.forEach(function(F){if(F.__P)try{F.__H.__h.forEach(Rt),F.__H.__h.forEach(Ft),F.__H.__h=[]}catch(D){F.__H.__h=[],ve.__e(D,F.__v)}}),Ke=[]}ve.__b=function(F){ze=null,rt&&rt(F)},ve.__r=function(F){vt&&vt(F),qe=0;var D=(ze=F.__c).__H;D&&(D.__h.forEach(Rt),D.__h.forEach(Ft),D.__h=[])},ve.diffed=function(F){kt&&kt(F);var D=F.__c;D&&D.__H&&D.__H.__h.length&&(Ke.push(D)!==1&&et===ve.requestAnimationFrame||((et=ve.requestAnimationFrame)||function(q){var G,X=function(){clearTimeout(Q),wt&&cancelAnimationFrame(G),setTimeout(q)},Q=setTimeout(X,100);wt&&(G=requestAnimationFrame(X))})(ct)),ze=void 0},ve.__c=function(F,D){D.some(function(q){try{q.__h.forEach(Rt),q.__h=q.__h.filter(function(G){return!G.__||Ft(G)})}catch(G){D.some(function(X){X.__h&&(X.__h=[])}),D=[],ve.__e(G,q.__v)}}),Bt&&Bt(F,D)},ve.unmount=function(F){It&&It(F);var D=F.__c;if(D&&D.__H)try{D.__H.__.forEach(Rt)}catch(q){ve.__e(q,D.__v)}};var wt=typeof requestAnimationFrame=="function";function Rt(F){var D=ze;typeof F.__c=="function"&&F.__c(),ze=D}function Ft(F){var D=ze;F.__c=F.__(),ze=D}function Ie(F,D){return!F||F.length!==D.length||D.some(function(q,G){return q!==F[G]})}function Le(F,D){return typeof D=="function"?D(F):D}function Je(F,D){for(var q in D)F[q]=D[q];return F}function lt(F,D){for(var q in F)if(q!=="__source"&&!(q in D))return!0;for(var G in D)if(G!=="__source"&&F[G]!==D[G])return!0;return!1}function Mt(F){this.props=F}function Dt(F,D){function q(X){var Q=this.props.ref,ne=Q==X.ref;return!ne&&Q&&(Q.call?Q(null):Q.current=null),D?!D(this.props,X)||!ne:lt(this.props,X)}function G(X){return this.shouldComponentUpdate=q,Fe(F,X)}return G.displayName="Memo("+(F.displayName||F.name)+")",G.prototype.isReactComponent=!0,G.__f=!0,G}(Mt.prototype=new gt).isPureReactComponent=!0,Mt.prototype.shouldComponentUpdate=function(F,D){return lt(this.props,F)||lt(this.state,D)};var Ht=ve.__b;ve.__b=function(F){F.type&&F.type.__f&&F.ref&&(F.props.ref=F.ref,F.ref=null),Ht&&Ht(F)};var cn=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function en(F){function D(q,G){var X=Je({},q);return delete X.ref,F(X,(G=q.ref||G)&&(typeof G!="object"||"current"in G)?G:null)}return D.$$typeof=cn,D.render=D,D.prototype.isReactComponent=D.__f=!0,D.displayName="ForwardRef("+(F.displayName||F.name)+")",D}var zt=function(F,D){return F==null?null:tn(tn(F).map(D))},mn={map:zt,forEach:zt,count:function(F){return F?tn(F).length:0},only:function(F){var D=tn(F);if(D.length!==1)throw"Children.only";return D[0]},toArray:tn},Ai=ve.__e;ve.__e=function(F,D,q){if(F.then){for(var G,X=D;X=X.__;)if((G=X.__c)&&G.__c)return D.__e==null&&(D.__e=q.__e,D.__k=q.__k),G.__c(F,D)}Ai(F,D,q)};var vr=ve.unmount;function qn(){this.__u=0,this.t=null,this.__b=null}function oi(F){var D=F.__.__c;return D&&D.__e&&D.__e(F)}function yr(F){var D,q,G;function X(Q){if(D||(D=F()).then(function(ne){q=ne.default||ne},function(ne){G=ne}),G)throw G;if(!q)throw D;return Fe(q,Q)}return X.displayName="Lazy",X.__f=!0,X}function si(){this.u=null,this.o=null}ve.unmount=function(F){var D=F.__c;D&&D.__R&&D.__R(),D&&F.__h===!0&&(F.type=null),vr&&vr(F)},(qn.prototype=new gt).__c=function(F,D){var q=D.__c,G=this;G.t==null&&(G.t=[]),G.t.push(q);var X=oi(G.__v),Q=!1,ne=function(){Q||(Q=!0,q.__R=null,X?X(se):se())};q.__R=ne;var se=function(){if(!--G.__u){if(G.state.__e){var he=G.state.__e;G.__v.__k[0]=function be(Ee,Oe,De){return Ee&&(Ee.__v=null,Ee.__k=Ee.__k&&Ee.__k.map(function(Ge){return be(Ge,Oe,De)}),Ee.__c&&Ee.__c.__P===Oe&&(Ee.__e&&De.insertBefore(Ee.__e,Ee.__d),Ee.__c.__e=!0,Ee.__c.__P=De)),Ee}(he,he.__c.__P,he.__c.__O)}var ue;for(G.setState({__e:G.__b=null});ue=G.t.pop();)ue.forceUpdate()}},de=D.__h===!0;G.__u++||de||G.setState({__e:G.__b=G.__v.__k[0]}),F.then(ne,ne)},qn.prototype.componentWillUnmount=function(){this.t=[]},qn.prototype.render=function(F,D){if(this.__b){if(this.__v.__k){var q=document.createElement("div"),G=this.__v.__k[0].__c;this.__v.__k[0]=function Q(ne,se,de){return ne&&(ne.__c&&ne.__c.__H&&(ne.__c.__H.__.forEach(function(he){typeof he.__c=="function"&&he.__c()}),ne.__c.__H=null),(ne=Je({},ne)).__c!=null&&(ne.__c.__P===de&&(ne.__c.__P=se),ne.__c=null),ne.__k=ne.__k&&ne.__k.map(function(he){return Q(he,se,de)})),ne}(this.__b,q,G.__O=G.__P)}this.__b=null}var X=D.__e&&Fe(St,null,F.fallback);return X&&(X.__h=null),[Fe(St,null,D.__e?null:F.children),X]};var br=function(F,D,q){if(++q[1]===q[0]&&F.o.delete(D),F.props.revealOrder&&(F.props.revealOrder[0]!=="t"||!F.o.size))for(q=F.u;q;){for(;q.length>3;)q.pop()();if(q[1]<q[0])break;F.u=q=q[2]}};function Fo(F){return this.getChildContext=function(){return F.context},F.children}function Ca(F){var D=this,q=F.i;D.componentWillUnmount=function(){Re(null,D.l),D.l=null,D.i=null},D.i&&D.i!==q&&D.componentWillUnmount(),F.__v?(D.l||(D.i=q,D.l={nodeType:1,parentNode:q,childNodes:[],appendChild:function(G){this.childNodes.push(G),D.i.appendChild(G)},insertBefore:function(G,X){this.childNodes.push(G),D.i.appendChild(G)},removeChild:function(G){this.childNodes.splice(this.childNodes.indexOf(G)>>>1,1),D.i.removeChild(G)}}),Re(Fe(Fo,{context:D.context},F.__v),D.l)):D.l&&D.componentWillUnmount()}function wr(F,D){return Fe(Ca,{__v:F,i:D})}(si.prototype=new gt).__e=function(F){var D=this,q=oi(D.__v),G=D.o.get(F);return G[0]++,function(X){var Q=function(){D.props.revealOrder?(G.push(X),br(D,F,G)):X()};q?q(Q):Q()}},si.prototype.render=function(F){this.u=null,this.o=new Map;var D=tn(F.children);F.revealOrder&&F.revealOrder[0]==="b"&&D.reverse();for(var q=D.length;q--;)this.o.set(D[q],this.u=[1,0,this.u]);return F.children},si.prototype.componentDidUpdate=si.prototype.componentDidMount=function(){var F=this;this.o.forEach(function(D,q){br(F,q,D)})};var _r=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Zd=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Jd=function(F){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(F)};function Ta(F,D,q){return D.__k==null&&(D.textContent=""),Re(F,D),typeof q=="function"&&q(),F?F.__c:null}function Aa(F,D,q){return Be(F,D),typeof q=="function"&&q(),F?F.__c:null}gt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(F){Object.defineProperty(gt.prototype,F,{configurable:!0,get:function(){return this["UNSAFE_"+F]},set:function(D){Object.defineProperty(this,F,{configurable:!0,writable:!0,value:D})}})});var Pa=ve.event;function Qd(){}function eh(){return this.cancelBubble}function th(){return this.defaultPrevented}ve.event=function(F){return Pa&&(F=Pa(F)),F.persist=Qd,F.isPropagationStopped=eh,F.isDefaultPrevented=th,F.nativeEvent=F};var ka,Oa={configurable:!0,get:function(){return this.class}},Ra=ve.vnode;ve.vnode=function(F){var D=F.type,q=F.props,G=q;if(typeof D=="string"){for(var X in G={},q){var Q=q[X];X==="value"&&"defaultValue"in q&&Q==null||(X==="defaultValue"&&"value"in q&&q.value==null?X="value":X==="download"&&Q===!0?Q="":/ondoubleclick/i.test(X)?X="ondblclick":/^onchange(textarea|input)/i.test(X+D)&&!Jd(q.type)?X="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(X)?X=X.toLowerCase():Zd.test(X)?X=X.replace(/[A-Z0-9]/,"-$&").toLowerCase():Q===null&&(Q=void 0),G[X]=Q)}D=="select"&&G.multiple&&Array.isArray(G.value)&&(G.value=tn(q.children).forEach(function(ne){ne.props.selected=G.value.indexOf(ne.props.value)!=-1})),D=="select"&&G.defaultValue!=null&&(G.value=tn(q.children).forEach(function(ne){ne.props.selected=G.multiple?G.defaultValue.indexOf(ne.props.value)!=-1:G.defaultValue==ne.props.value})),F.props=G}D&&q.class!=q.className&&(Oa.enumerable="className"in q,q.className!=null&&(G.class=q.className),Object.defineProperty(G,"className",Oa)),F.$$typeof=_r,Ra&&Ra(F)};var Ma=ve.__r;ve.__r=function(F){Ma&&Ma(F),ka=F.__c};var Ba={ReactCurrentDispatcher:{current:{readContext:function(F){return ka.__n[F.__c].props.value}}}},nh="17.0.2";function Fa(F){return Fe.bind(null,F)}function Do(F){return!!F&&F.$$typeof===_r}function Da(F){return Do(F)?Xe.apply(null,arguments):F}function Ia(F){return!!F.__k&&(Re(null,F),!0)}function Na(F){return F&&(F.base||F.nodeType===1&&F)||null}var La=function(F,D){return F(D)},Ha=function(F,D){return F(D)},ih=St,_t={useState:qt,useReducer:Ln,useEffect:sn,useLayoutEffect:Wn,useRef:ge,useImperativeHandle:pe,useMemo:Se,useCallback:Te,useContext:Qe,useDebugValue:mt,version:"17.0.2",Children:mn,render:Ta,hydrate:Aa,unmountComponentAtNode:Ia,createPortal:wr,createElement:Fe,createContext:Ne,createFactory:Fa,cloneElement:Da,createRef:ft,Fragment:St,isValidElement:Do,findDOMNode:Na,Component:gt,PureComponent:Mt,memo:Dt,forwardRef:en,flushSync:Ha,unstable_batchedUpdates:La,StrictMode:St,Suspense:qn,SuspenseList:si,lazy:yr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ba},rh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:_t,version:nh,Children:mn,render:Ta,hydrate:Aa,unmountComponentAtNode:Ia,createPortal:wr,createFactory:Fa,cloneElement:Da,isValidElement:Do,findDOMNode:Na,PureComponent:Mt,memo:Dt,forwardRef:en,flushSync:Ha,unstable_batchedUpdates:La,StrictMode:ih,Suspense:qn,SuspenseList:si,lazy:yr,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Ba,createElement:Fe,createContext:Ne,createRef:ft,Fragment:St,Component:gt,useState:qt,useReducer:Ln,useEffect:sn,useLayoutEffect:Wn,useRef:ge,useImperativeHandle:pe,useMemo:Se,useCallback:Te,useContext:Qe,useDebugValue:mt,useErrorBoundary:dt}),fi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{};function oh(F){return F&&F.__esModule&&Object.prototype.hasOwnProperty.call(F,"default")?F.default:F}function Io(F){if(F.__esModule)return F;var D=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(F).forEach(function(q){var G=Object.getOwnPropertyDescriptor(F,q);Object.defineProperty(D,q,G.get?G:{enumerable:!0,get:function(){return F[q]}})}),D}var No={exports:{}};function Lo(){}Lo.prototype={on:function(F,D,q){var G=this.e||(this.e={});return(G[F]||(G[F]=[])).push({fn:D,ctx:q}),this},once:function(F,D,q){var G=this;function X(){G.off(F,X),D.apply(q,arguments)}return X._=D,this.on(F,X,q)},emit:function(F){var D=[].slice.call(arguments,1),q=((this.e||(this.e={}))[F]||[]).slice(),G=0,X=q.length;for(G;G<X;G++)q[G].fn.apply(q[G].ctx,D);return this},off:function(F,D){var q=this.e||(this.e={}),G=q[F],X=[];if(G&&D)for(var Q=0,ne=G.length;Q<ne;Q++)G[Q].fn!==D&&G[Q].fn._!==D&&X.push(G[Q]);return X.length?q[F]=X:delete q[F],this}},No.exports=Lo,No.exports.TinyEmitter=Lo;var xr=No.exports,Er={exports:{}},za={},Pi=Io(rh),Xi={exports:{}},sh="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ah=sh,lh=ah;function Va(){}function ja(){}ja.resetWarningCache=Va;var uh=function(){function F(G,X,Q,ne,se,de){if(de!==lh){var he=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw he.name="Invariant Violation",he}}F.isRequired=F;function D(){return F}var q={array:F,bool:F,func:F,number:F,object:F,string:F,symbol:F,any:F,arrayOf:D,element:F,elementType:F,instanceOf:D,node:F,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:ja,resetWarningCache:Va};return q.PropTypes=q,q};Xi.exports=uh();function Ua(F){var D,q,G="";if(typeof F=="string"||typeof F=="number")G+=F;else if(typeof F=="object")if(Array.isArray(F))for(D=0;D<F.length;D++)F[D]&&(q=Ua(F[D]))&&(G&&(G+=" "),G+=q);else for(D in F)F[D]&&(G&&(G+=" "),G+=D);return G}function ch(){for(var F=0,D,q,G="";F<arguments.length;)(D=arguments[F++])&&(q=Ua(D))&&(G&&(G+=" "),G+=q);return G}var dh=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ch}),hh=Io(dh),rn={},Kn={};Object.defineProperty(Kn,"__esModule",{value:!0}),Kn.findInArray=fh,Kn.isFunction=ph,Kn.isNum=gh,Kn.int=mh,Kn.dontSetMe=vh;function fh(F,D){for(var q=0,G=F.length;q<G;q++)if(D.apply(D,[F[q],q,F]))return F[q]}function ph(F){return typeof F=="function"||Object.prototype.toString.call(F)==="[object Function]"}function gh(F){return typeof F=="number"&&!isNaN(F)}function mh(F){return parseInt(F,10)}function vh(F,D,q){if(F[D])return new Error("Invalid prop ".concat(D," passed to ").concat(q," - do not set this, set it on the child."))}var pi={};Object.defineProperty(pi,"__esModule",{value:!0}),pi.getPrefix=Wa,pi.browserPrefixToKey=qa,pi.browserPrefixToStyle=yh,pi.default=void 0;var Ho=["Moz","Webkit","O","ms"];function Wa(){var F,D,q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var G=(F=window.document)===null||F===void 0||(D=F.documentElement)===null||D===void 0?void 0:D.style;if(!G||q in G)return"";for(var X=0;X<Ho.length;X++)if(qa(q,Ho[X])in G)return Ho[X];return""}function qa(F,D){return D?"".concat(D).concat(bh(F)):F}function yh(F,D){return D?"-".concat(D.toLowerCase(),"-").concat(F):F}function bh(F){for(var D="",q=!0,G=0;G<F.length;G++)q?(D+=F[G].toUpperCase(),q=!1):F[G]==="-"?q=!0:D+=F[G];return D}var wh=Wa();pi.default=wh;function Sr(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Sr=function(D){return typeof D}:Sr=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Sr(F)}Object.defineProperty(rn,"__esModule",{value:!0}),rn.matchesSelector=Za,rn.matchesSelectorAndParentsTo=xh,rn.addEvent=Eh,rn.removeEvent=Sh,rn.outerHeight=Ch,rn.outerWidth=Th,rn.innerHeight=Ah,rn.innerWidth=Ph,rn.offsetXYFromParent=kh,rn.createCSSTransform=Oh,rn.createSVGTransform=Rh,rn.getTranslation=zo,rn.getTouch=Mh,rn.getTouchIdentifier=Bh,rn.addUserSelectStyles=Fh,rn.removeUserSelectStyles=Dh,rn.addClassName=Ja,rn.removeClassName=Qa;var Rn=Kn,Ga=_h(pi);function Xa(F){if(typeof WeakMap!="function")return null;var D=new WeakMap,q=new WeakMap;return(Xa=function(G){return G?q:D})(F)}function _h(F,D){if(!D&&F&&F.__esModule)return F;if(F===null||Sr(F)!=="object"&&typeof F!="function")return{default:F};var q=Xa(D);if(q&&q.has(F))return q.get(F);var G={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in F)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(F,Q)){var ne=X?Object.getOwnPropertyDescriptor(F,Q):null;ne&&(ne.get||ne.set)?Object.defineProperty(G,Q,ne):G[Q]=F[Q]}return G.default=F,q&&q.set(F,G),G}function Ya(F,D){var q=Object.keys(F);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(F);D&&(G=G.filter(function(X){return Object.getOwnPropertyDescriptor(F,X).enumerable})),q.push.apply(q,G)}return q}function Ka(F){for(var D=1;D<arguments.length;D++){var q=arguments[D]!=null?arguments[D]:{};D%2?Ya(Object(q),!0).forEach(function(G){$a(F,G,q[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(q)):Ya(Object(q)).forEach(function(G){Object.defineProperty(F,G,Object.getOwnPropertyDescriptor(q,G))})}return F}function $a(F,D,q){return D in F?Object.defineProperty(F,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[D]=q,F}var Cr="";function Za(F,D){return Cr||(Cr=(0,Rn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(q){return(0,Rn.isFunction)(F[q])})),(0,Rn.isFunction)(F[Cr])?F[Cr](D):!1}function xh(F,D,q){var G=F;do{if(Za(G,D))return!0;if(G===q)return!1;G=G.parentNode}while(G);return!1}function Eh(F,D,q,G){if(F){var X=Ka({capture:!0},G);F.addEventListener?F.addEventListener(D,q,X):F.attachEvent?F.attachEvent("on"+D,q):F["on"+D]=q}}function Sh(F,D,q,G){if(F){var X=Ka({capture:!0},G);F.removeEventListener?F.removeEventListener(D,q,X):F.detachEvent?F.detachEvent("on"+D,q):F["on"+D]=null}}function Ch(F){var D=F.clientHeight,q=F.ownerDocument.defaultView.getComputedStyle(F);return D+=(0,Rn.int)(q.borderTopWidth),D+=(0,Rn.int)(q.borderBottomWidth),D}function Th(F){var D=F.clientWidth,q=F.ownerDocument.defaultView.getComputedStyle(F);return D+=(0,Rn.int)(q.borderLeftWidth),D+=(0,Rn.int)(q.borderRightWidth),D}function Ah(F){var D=F.clientHeight,q=F.ownerDocument.defaultView.getComputedStyle(F);return D-=(0,Rn.int)(q.paddingTop),D-=(0,Rn.int)(q.paddingBottom),D}function Ph(F){var D=F.clientWidth,q=F.ownerDocument.defaultView.getComputedStyle(F);return D-=(0,Rn.int)(q.paddingLeft),D-=(0,Rn.int)(q.paddingRight),D}function kh(F,D,q){var G=D===D.ownerDocument.body,X=G?{left:0,top:0}:D.getBoundingClientRect(),Q=(F.clientX+D.scrollLeft-X.left)/q,ne=(F.clientY+D.scrollTop-X.top)/q;return{x:Q,y:ne}}function Oh(F,D){var q=zo(F,D,"px");return $a({},(0,Ga.browserPrefixToKey)("transform",Ga.default),q)}function Rh(F,D){var q=zo(F,D,"");return q}function zo(F,D,q){var G=F.x,X=F.y,Q="translate(".concat(G).concat(q,",").concat(X).concat(q,")");if(D){var ne="".concat(typeof D.x=="string"?D.x:D.x+q),se="".concat(typeof D.y=="string"?D.y:D.y+q);Q="translate(".concat(ne,", ").concat(se,")")+Q}return Q}function Mh(F,D){return F.targetTouches&&(0,Rn.findInArray)(F.targetTouches,function(q){return D===q.identifier})||F.changedTouches&&(0,Rn.findInArray)(F.changedTouches,function(q){return D===q.identifier})}function Bh(F){if(F.targetTouches&&F.targetTouches[0])return F.targetTouches[0].identifier;if(F.changedTouches&&F.changedTouches[0])return F.changedTouches[0].identifier}function Fh(F){if(F){var D=F.getElementById("react-draggable-style-el");D||(D=F.createElement("style"),D.type="text/css",D.id="react-draggable-style-el",D.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,D.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,F.getElementsByTagName("head")[0].appendChild(D)),F.body&&Ja(F.body,"react-draggable-transparent-selection")}}function Dh(F){if(F)try{if(F.body&&Qa(F.body,"react-draggable-transparent-selection"),F.selection)F.selection.empty();else{var D=(F.defaultView||window).getSelection();D&&D.type!=="Caret"&&D.removeAllRanges()}}catch{}}function Ja(F,D){F.classList?F.classList.add(D):F.className.match(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)")))||(F.className+=" ".concat(D))}function Qa(F,D){F.classList?F.classList.remove(D):F.className=F.className.replace(new RegExp("(?:^|\\s)".concat(D,"(?!\\S)"),"g"),"")}var $n={};Object.defineProperty($n,"__esModule",{value:!0}),$n.getBoundPosition=Ih,$n.snapToGrid=Nh,$n.canDragX=Lh,$n.canDragY=Hh,$n.getControlPosition=zh,$n.createCoreData=Vh,$n.createDraggableData=jh;var Mn=Kn,ki=rn;function Ih(F,D,q){if(!F.props.bounds)return[D,q];var G=F.props.bounds;G=typeof G=="string"?G:Uh(G);var X=Vo(F);if(typeof G=="string"){var Q=X.ownerDocument,ne=Q.defaultView,se;if(G==="parent"?se=X.parentNode:se=Q.querySelector(G),!(se instanceof ne.HTMLElement))throw new Error('Bounds selector "'+G+'" could not find an element.');var de=se,he=ne.getComputedStyle(X),ue=ne.getComputedStyle(de);G={left:-X.offsetLeft+(0,Mn.int)(ue.paddingLeft)+(0,Mn.int)(he.marginLeft),top:-X.offsetTop+(0,Mn.int)(ue.paddingTop)+(0,Mn.int)(he.marginTop),right:(0,ki.innerWidth)(de)-(0,ki.outerWidth)(X)-X.offsetLeft+(0,Mn.int)(ue.paddingRight)-(0,Mn.int)(he.marginRight),bottom:(0,ki.innerHeight)(de)-(0,ki.outerHeight)(X)-X.offsetTop+(0,Mn.int)(ue.paddingBottom)-(0,Mn.int)(he.marginBottom)}}return(0,Mn.isNum)(G.right)&&(D=Math.min(D,G.right)),(0,Mn.isNum)(G.bottom)&&(q=Math.min(q,G.bottom)),(0,Mn.isNum)(G.left)&&(D=Math.max(D,G.left)),(0,Mn.isNum)(G.top)&&(q=Math.max(q,G.top)),[D,q]}function Nh(F,D,q){var G=Math.round(D/F[0])*F[0],X=Math.round(q/F[1])*F[1];return[G,X]}function Lh(F){return F.props.axis==="both"||F.props.axis==="x"}function Hh(F){return F.props.axis==="both"||F.props.axis==="y"}function zh(F,D,q){var G=typeof D=="number"?(0,ki.getTouch)(F,D):null;if(typeof D=="number"&&!G)return null;var X=Vo(q),Q=q.props.offsetParent||X.offsetParent||X.ownerDocument.body;return(0,ki.offsetXYFromParent)(G||F,Q,q.props.scale)}function Vh(F,D,q){var G=F.state,X=!(0,Mn.isNum)(G.lastX),Q=Vo(F);return X?{node:Q,deltaX:0,deltaY:0,lastX:D,lastY:q,x:D,y:q}:{node:Q,deltaX:D-G.lastX,deltaY:q-G.lastY,lastX:G.lastX,lastY:G.lastY,x:D,y:q}}function jh(F,D){var q=F.props.scale;return{node:D.node,x:F.state.x+D.deltaX/q,y:F.state.y+D.deltaY/q,deltaX:D.deltaX/q,deltaY:D.deltaY/q,lastX:F.state.x,lastY:F.state.y}}function Uh(F){return{left:F.left,top:F.top,right:F.right,bottom:F.bottom}}function Vo(F){var D=F.findDOMNode();if(!D)throw new Error("<DraggableCore>: Unmounted during event!");return D}var Tr={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.default=Wh;function Wh(){}function Yi(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Yi=function(D){return typeof D}:Yi=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},Yi(F)}Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.default=void 0;var jo=Gh(Pi),Bn=Wo(Xi.exports),qh=Wo(Pi),_n=rn,gi=$n,Uo=Kn,Ki=Wo(Ar);function Wo(F){return F&&F.__esModule?F:{default:F}}function el(F){if(typeof WeakMap!="function")return null;var D=new WeakMap,q=new WeakMap;return(el=function(G){return G?q:D})(F)}function Gh(F,D){if(!D&&F&&F.__esModule)return F;if(F===null||Yi(F)!=="object"&&typeof F!="function")return{default:F};var q=el(D);if(q&&q.has(F))return q.get(F);var G={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Q in F)if(Q!=="default"&&Object.prototype.hasOwnProperty.call(F,Q)){var ne=X?Object.getOwnPropertyDescriptor(F,Q):null;ne&&(ne.get||ne.set)?Object.defineProperty(G,Q,ne):G[Q]=F[Q]}return G.default=F,q&&q.set(F,G),G}function Xh(F,D){return Zh(F)||$h(F,D)||Kh(F,D)||Yh()}function Yh(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kh(F,D){if(F){if(typeof F=="string")return tl(F,D);var q=Object.prototype.toString.call(F).slice(8,-1);if(q==="Object"&&F.constructor&&(q=F.constructor.name),q==="Map"||q==="Set")return Array.from(F);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return tl(F,D)}}function tl(F,D){(D==null||D>F.length)&&(D=F.length);for(var q=0,G=new Array(D);q<D;q++)G[q]=F[q];return G}function $h(F,D){var q=F==null?null:typeof Symbol<"u"&&F[Symbol.iterator]||F["@@iterator"];if(q!=null){var G=[],X=!0,Q=!1,ne,se;try{for(q=q.call(F);!(X=(ne=q.next()).done)&&(G.push(ne.value),!(D&&G.length===D));X=!0);}catch(de){Q=!0,se=de}finally{try{!X&&q.return!=null&&q.return()}finally{if(Q)throw se}}return G}}function Zh(F){if(Array.isArray(F))return F}function Jh(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function nl(F,D){for(var q=0;q<D.length;q++){var G=D[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}function Qh(F,D,q){return D&&nl(F.prototype,D),q&&nl(F,q),F}function ef(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),D&&qo(F,D)}function qo(F,D){return qo=Object.setPrototypeOf||function(q,G){return q.__proto__=G,q},qo(F,D)}function tf(F){var D=rf();return function(){var q=Pr(F),G;if(D){var X=Pr(this).constructor;G=Reflect.construct(q,arguments,X)}else G=q.apply(this,arguments);return nf(this,G)}}function nf(F,D){if(D&&(Yi(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xn(F)}function xn(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function rf(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Pr(F){return Pr=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},Pr(F)}function Hn(F,D,q){return D in F?Object.defineProperty(F,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[D]=q,F}var Gn={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ai=Gn.mouse,kr=function(F){ef(q,F);var D=tf(q);function q(){var G;Jh(this,q);for(var X=arguments.length,Q=new Array(X),ne=0;ne<X;ne++)Q[ne]=arguments[ne];return G=D.call.apply(D,[this].concat(Q)),Hn(xn(G),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Hn(xn(G),"mounted",!1),Hn(xn(G),"handleDragStart",function(se){if(G.props.onMouseDown(se),!G.props.allowAnyClick&&typeof se.button=="number"&&se.button!==0)return!1;var de=G.findDOMNode();if(!de||!de.ownerDocument||!de.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var he=de.ownerDocument;if(!(G.props.disabled||!(se.target instanceof he.defaultView.Node)||G.props.handle&&!(0,_n.matchesSelectorAndParentsTo)(se.target,G.props.handle,de)||G.props.cancel&&(0,_n.matchesSelectorAndParentsTo)(se.target,G.props.cancel,de))){se.type==="touchstart"&&se.preventDefault();var ue=(0,_n.getTouchIdentifier)(se);G.setState({touchIdentifier:ue});var be=(0,gi.getControlPosition)(se,ue,xn(G));if(be!=null){var Ee=be.x,Oe=be.y,De=(0,gi.createCoreData)(xn(G),Ee,Oe);(0,Ki.default)("DraggableCore: handleDragStart: %j",De),(0,Ki.default)("calling",G.props.onStart);var Ge=G.props.onStart(se,De);Ge===!1||G.mounted===!1||(G.props.enableUserSelectHack&&(0,_n.addUserSelectStyles)(he),G.setState({dragging:!0,lastX:Ee,lastY:Oe}),(0,_n.addEvent)(he,ai.move,G.handleDrag),(0,_n.addEvent)(he,ai.stop,G.handleDragStop))}}}),Hn(xn(G),"handleDrag",function(se){var de=(0,gi.getControlPosition)(se,G.state.touchIdentifier,xn(G));if(de!=null){var he=de.x,ue=de.y;if(Array.isArray(G.props.grid)){var be=he-G.state.lastX,Ee=ue-G.state.lastY,Oe=(0,gi.snapToGrid)(G.props.grid,be,Ee),De=Xh(Oe,2);if(be=De[0],Ee=De[1],!be&&!Ee)return;he=G.state.lastX+be,ue=G.state.lastY+Ee}var Ge=(0,gi.createCoreData)(xn(G),he,ue);(0,Ki.default)("DraggableCore: handleDrag: %j",Ge);var We=G.props.onDrag(se,Ge);if(We===!1||G.mounted===!1){try{G.handleDragStop(new MouseEvent("mouseup"))}catch{var tt=document.createEvent("MouseEvents");tt.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),G.handleDragStop(tt)}return}G.setState({lastX:he,lastY:ue})}}),Hn(xn(G),"handleDragStop",function(se){if(G.state.dragging){var de=(0,gi.getControlPosition)(se,G.state.touchIdentifier,xn(G));if(de!=null){var he=de.x,ue=de.y,be=(0,gi.createCoreData)(xn(G),he,ue),Ee=G.props.onStop(se,be);if(Ee===!1||G.mounted===!1)return!1;var Oe=G.findDOMNode();Oe&&G.props.enableUserSelectHack&&(0,_n.removeUserSelectStyles)(Oe.ownerDocument),(0,Ki.default)("DraggableCore: handleDragStop: %j",be),G.setState({dragging:!1,lastX:NaN,lastY:NaN}),Oe&&((0,Ki.default)("DraggableCore: Removing handlers"),(0,_n.removeEvent)(Oe.ownerDocument,ai.move,G.handleDrag),(0,_n.removeEvent)(Oe.ownerDocument,ai.stop,G.handleDragStop))}}}),Hn(xn(G),"onMouseDown",function(se){return ai=Gn.mouse,G.handleDragStart(se)}),Hn(xn(G),"onMouseUp",function(se){return ai=Gn.mouse,G.handleDragStop(se)}),Hn(xn(G),"onTouchStart",function(se){return ai=Gn.touch,G.handleDragStart(se)}),Hn(xn(G),"onTouchEnd",function(se){return ai=Gn.touch,G.handleDragStop(se)}),G}return Qh(q,[{key:"componentDidMount",value:function(){this.mounted=!0;var G=this.findDOMNode();G&&(0,_n.addEvent)(G,Gn.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var G=this.findDOMNode();if(G){var X=G.ownerDocument;(0,_n.removeEvent)(X,Gn.mouse.move,this.handleDrag),(0,_n.removeEvent)(X,Gn.touch.move,this.handleDrag),(0,_n.removeEvent)(X,Gn.mouse.stop,this.handleDragStop),(0,_n.removeEvent)(X,Gn.touch.stop,this.handleDragStop),(0,_n.removeEvent)(G,Gn.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,_n.removeUserSelectStyles)(X)}}},{key:"findDOMNode",value:function(){var G,X,Q;return(G=(X=this.props)===null||X===void 0||(Q=X.nodeRef)===null||Q===void 0?void 0:Q.current)!==null&&G!==void 0?G:qh.default.findDOMNode(this)}},{key:"render",value:function(){return jo.cloneElement(jo.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),q}(jo.Component);Tr.default=kr,Hn(kr,"displayName","DraggableCore"),Hn(kr,"propTypes",{allowAnyClick:Bn.default.bool,disabled:Bn.default.bool,enableUserSelectHack:Bn.default.bool,offsetParent:function(F,D){if(F[D]&&F[D].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Bn.default.arrayOf(Bn.default.number),handle:Bn.default.string,cancel:Bn.default.string,nodeRef:Bn.default.object,onStart:Bn.default.func,onDrag:Bn.default.func,onStop:Bn.default.func,onMouseDown:Bn.default.func,scale:Bn.default.number,className:Uo.dontSetMe,style:Uo.dontSetMe,transform:Uo.dontSetMe}),Hn(kr,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(F){function D($e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?D=function(ot){return typeof ot}:D=function(ot){return ot&&typeof Symbol=="function"&&ot.constructor===Symbol&&ot!==Symbol.prototype?"symbol":typeof ot},D($e)}Object.defineProperty(F,"__esModule",{value:!0}),Object.defineProperty(F,"DraggableCore",{enumerable:!0,get:function(){return he.default}}),F.default=void 0;var q=De(Pi),G=Ee(Xi.exports),X=Ee(Pi),Q=Ee(hh),ne=rn,se=$n,de=Kn,he=Ee(Tr),ue=Ee(Ar),be=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Ee($e){return $e&&$e.__esModule?$e:{default:$e}}function Oe($e){if(typeof WeakMap!="function")return null;var ot=new WeakMap,ut=new WeakMap;return(Oe=function(st){return st?ut:ot})($e)}function De($e,ot){if(!ot&&$e&&$e.__esModule)return $e;if($e===null||D($e)!=="object"&&typeof $e!="function")return{default:$e};var ut=Oe(ot);if(ut&&ut.has($e))return ut.get($e);var st={},pt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ot in $e)if(Ot!=="default"&&Object.prototype.hasOwnProperty.call($e,Ot)){var Jt=pt?Object.getOwnPropertyDescriptor($e,Ot):null;Jt&&(Jt.get||Jt.set)?Object.defineProperty(st,Ot,Jt):st[Ot]=$e[Ot]}return st.default=$e,ut&&ut.set($e,st),st}function Ge(){return Ge=Object.assign||function($e){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot];for(var st in ut)Object.prototype.hasOwnProperty.call(ut,st)&&($e[st]=ut[st])}return $e},Ge.apply(this,arguments)}function We($e,ot){if($e==null)return{};var ut=tt($e,ot),st,pt;if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols($e);for(pt=0;pt<Ot.length;pt++)st=Ot[pt],!(ot.indexOf(st)>=0)&&(!Object.prototype.propertyIsEnumerable.call($e,st)||(ut[st]=$e[st]))}return ut}function tt($e,ot){if($e==null)return{};var ut={},st=Object.keys($e),pt,Ot;for(Ot=0;Ot<st.length;Ot++)pt=st[Ot],!(ot.indexOf(pt)>=0)&&(ut[pt]=$e[pt]);return ut}function at($e,ot){var ut=Object.keys($e);if(Object.getOwnPropertySymbols){var st=Object.getOwnPropertySymbols($e);ot&&(st=st.filter(function(pt){return Object.getOwnPropertyDescriptor($e,pt).enumerable})),ut.push.apply(ut,st)}return ut}function At($e){for(var ot=1;ot<arguments.length;ot++){var ut=arguments[ot]!=null?arguments[ot]:{};ot%2?at(Object(ut),!0).forEach(function(st){jn($e,st,ut[st])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(ut)):at(Object(ut)).forEach(function(st){Object.defineProperty($e,st,Object.getOwnPropertyDescriptor(ut,st))})}return $e}function xt($e,ot){return Qt($e)||Zt($e,ot)||Pt($e,ot)||bt()}function bt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pt($e,ot){if($e){if(typeof $e=="string")return Et($e,ot);var ut=Object.prototype.toString.call($e).slice(8,-1);if(ut==="Object"&&$e.constructor&&(ut=$e.constructor.name),ut==="Map"||ut==="Set")return Array.from($e);if(ut==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ut))return Et($e,ot)}}function Et($e,ot){(ot==null||ot>$e.length)&&(ot=$e.length);for(var ut=0,st=new Array(ot);ut<ot;ut++)st[ut]=$e[ut];return st}function Zt($e,ot){var ut=$e==null?null:typeof Symbol<"u"&&$e[Symbol.iterator]||$e["@@iterator"];if(ut!=null){var st=[],pt=!0,Ot=!1,Jt,hn;try{for(ut=ut.call($e);!(pt=(Jt=ut.next()).done)&&(st.push(Jt.value),!(ot&&st.length===ot));pt=!0);}catch(Yt){Ot=!0,hn=Yt}finally{try{!pt&&ut.return!=null&&ut.return()}finally{if(Ot)throw hn}}return st}}function Qt($e){if(Array.isArray($e))return $e}function Gt($e,ot){if(!($e instanceof ot))throw new TypeError("Cannot call a class as a function")}function Xt($e,ot){for(var ut=0;ut<ot.length;ut++){var st=ot[ut];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty($e,st.key,st)}}function zn($e,ot,ut){return ot&&Xt($e.prototype,ot),ut&&Xt($e,ut),$e}function An($e,ot){if(typeof ot!="function"&&ot!==null)throw new TypeError("Super expression must either be null or a function");$e.prototype=Object.create(ot&&ot.prototype,{constructor:{value:$e,writable:!0,configurable:!0}}),ot&&ri($e,ot)}function ri($e,ot){return ri=Object.setPrototypeOf||function(ut,st){return ut.__proto__=st,ut},ri($e,ot)}function Vn($e){var ot=Ro();return function(){var ut=Ci($e),st;if(ot){var pt=Ci(this).constructor;st=Reflect.construct(ut,arguments,pt)}else st=ut.apply(this,arguments);return Xn(this,st)}}function Xn($e,ot){if(ot&&(D(ot)==="object"||typeof ot=="function"))return ot;if(ot!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bn($e)}function bn($e){if($e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $e}function Ro(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ci($e){return Ci=Object.setPrototypeOf?Object.getPrototypeOf:function(ot){return ot.__proto__||Object.getPrototypeOf(ot)},Ci($e)}function jn($e,ot,ut){return ot in $e?Object.defineProperty($e,ot,{value:ut,enumerable:!0,configurable:!0,writable:!0}):$e[ot]=ut,$e}var Kt=function($e){An(ut,$e);var ot=Vn(ut);function ut(st){var pt;return Gt(this,ut),pt=ot.call(this,st),jn(bn(pt),"onDragStart",function(Ot,Jt){(0,ue.default)("Draggable: onDragStart: %j",Jt);var hn=pt.props.onStart(Ot,(0,se.createDraggableData)(bn(pt),Jt));if(hn===!1)return!1;pt.setState({dragging:!0,dragged:!0})}),jn(bn(pt),"onDrag",function(Ot,Jt){if(!pt.state.dragging)return!1;(0,ue.default)("Draggable: onDrag: %j",Jt);var hn=(0,se.createDraggableData)(bn(pt),Jt),Yt={x:hn.x,y:hn.y};if(pt.props.bounds){var Ti=Yt.x,ei=Yt.y;Yt.x+=pt.state.slackX,Yt.y+=pt.state.slackY;var di=(0,se.getBoundPosition)(bn(pt),Yt.x,Yt.y),Gi=xt(di,2),Mo=Gi[0],Bo=Gi[1];Yt.x=Mo,Yt.y=Bo,Yt.slackX=pt.state.slackX+(Ti-Yt.x),Yt.slackY=pt.state.slackY+(ei-Yt.y),hn.x=Yt.x,hn.y=Yt.y,hn.deltaX=Yt.x-pt.state.x,hn.deltaY=Yt.y-pt.state.y}var Sa=pt.props.onDrag(Ot,hn);if(Sa===!1)return!1;pt.setState(Yt)}),jn(bn(pt),"onDragStop",function(Ot,Jt){if(!pt.state.dragging)return!1;var hn=pt.props.onStop(Ot,(0,se.createDraggableData)(bn(pt),Jt));if(hn===!1)return!1;(0,ue.default)("Draggable: onDragStop: %j",Jt);var Yt={dragging:!1,slackX:0,slackY:0},Ti=Boolean(pt.props.position);if(Ti){var ei=pt.props.position,di=ei.x,Gi=ei.y;Yt.x=di,Yt.y=Gi}pt.setState(Yt)}),pt.state={dragging:!1,dragged:!1,x:st.position?st.position.x:st.defaultPosition.x,y:st.position?st.position.y:st.defaultPosition.y,prevPropsPosition:At({},st.position),slackX:0,slackY:0,isElementSVG:!1},st.position&&!(st.onDrag||st.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),pt}return zn(ut,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var st,pt,Ot;return(st=(pt=this.props)===null||pt===void 0||(Ot=pt.nodeRef)===null||Ot===void 0?void 0:Ot.current)!==null&&st!==void 0?st:X.default.findDOMNode(this)}},{key:"render",value:function(){var st,pt=this.props;pt.axis,pt.bounds;var Ot=pt.children,Jt=pt.defaultPosition,hn=pt.defaultClassName,Yt=pt.defaultClassNameDragging,Ti=pt.defaultClassNameDragged,ei=pt.position,di=pt.positionOffset;pt.scale;var Gi=We(pt,be),Mo={},Bo=null,Sa=Boolean(ei),Yd=!Sa||this.state.dragging,Kd=ei||Jt,$d={x:(0,se.canDragX)(this)&&Yd?this.state.x:Kd.x,y:(0,se.canDragY)(this)&&Yd?this.state.y:Kd.y};this.state.isElementSVG?Bo=(0,ne.createSVGTransform)($d,di):Mo=(0,ne.createCSSTransform)($d,di);var M_=(0,Q.default)(Ot.props.className||"",hn,(st={},jn(st,Yt,this.state.dragging),jn(st,Ti,this.state.dragged),st));return q.createElement(he.default,Ge({},Gi,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),q.cloneElement(q.Children.only(Ot),{className:M_,style:At(At({},Ot.props.style),Mo),transform:Bo}))}}],[{key:"getDerivedStateFromProps",value:function(st,pt){var Ot=st.position,Jt=pt.prevPropsPosition;return Ot&&(!Jt||Ot.x!==Jt.x||Ot.y!==Jt.y)?((0,ue.default)("Draggable: getDerivedStateFromProps %j",{position:Ot,prevPropsPosition:Jt}),{x:Ot.x,y:Ot.y,prevPropsPosition:At({},Ot)}):null}}]),ut}(q.Component);F.default=Kt,jn(Kt,"displayName","Draggable"),jn(Kt,"propTypes",At(At({},he.default.propTypes),{},{axis:G.default.oneOf(["both","x","y","none"]),bounds:G.default.oneOfType([G.default.shape({left:G.default.number,right:G.default.number,top:G.default.number,bottom:G.default.number}),G.default.string,G.default.oneOf([!1])]),defaultClassName:G.default.string,defaultClassNameDragging:G.default.string,defaultClassNameDragged:G.default.string,defaultPosition:G.default.shape({x:G.default.number,y:G.default.number}),positionOffset:G.default.shape({x:G.default.oneOfType([G.default.number,G.default.string]),y:G.default.oneOfType([G.default.number,G.default.string])}),position:G.default.shape({x:G.default.number,y:G.default.number}),className:de.dontSetMe,style:de.dontSetMe,transform:de.dontSetMe})),jn(Kt,"defaultProps",At(At({},he.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(za);var il=za,rl=il.default,of=il.DraggableCore;Er.exports=rl,Er.exports.default=rl,Er.exports.DraggableCore=of;var sf=Er.exports,af=["second","minute","hour","day","week","month","year"];function lf(F,D){if(D===0)return["just now","right now"];var q=af[Math.floor(D/2)];return F>1&&(q+="s"),[F+" "+q+" ago","in "+F+" "+q]}var uf=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function cf(F,D){if(D===0)return["\u521A\u521A","\u7247\u523B\u540E"];var q=uf[~~(D/2)];return[F+" "+q+"\u524D",F+" "+q+"\u540E"]}var Go={},pn=function(F,D){Go[F]=D},ol=function(F){return Go[F]||Go.en_US},mi=[60,60,24,7,365/7/12,12];function sl(F){return F instanceof Date?F:!isNaN(F)||/^\d+$/.test(F)?new Date(parseInt(F)):(F=(F||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(F))}function al(F,D){var q=F<0?1:0;F=Math.abs(F);for(var G=F,X=0;F>=mi[X]&&X<mi.length;X++)F/=mi[X];return F=Math.floor(F),X*=2,F>(X===0?9:1)&&(X+=1),D(F,X,G)[q].replace("%s",F.toString())}function ll(F,D){var q=D?sl(D):new Date;return(+q-+sl(F))/1e3}function df(F){for(var D=1,q=0,G=Math.abs(F);F>=mi[q]&&q<mi.length;q++)F/=mi[q],D*=mi[q];return G=G%D,G=G?D-G:D,Math.ceil(G)}var hf=function(F,D,q){var G=ll(F,q&&q.relativeDate);return al(G,ol(D))},ul="timeago-id";function ff(F){return F.getAttribute("datetime")}function pf(F,D){F.setAttribute(ul,D)}function cl(F){return parseInt(F.getAttribute(ul))}var Xo={},Yo=function(F){clearTimeout(F),delete Xo[F]};function dl(F,D,q,G){Yo(cl(F));var X=G.relativeDate,Q=G.minInterval,ne=ll(D,X);F.innerText=al(ne,q);var se=setTimeout(function(){dl(F,D,q,G)},Math.min(Math.max(df(ne),Q||1)*1e3,2147483647));Xo[se]=0,pf(F,se)}function hl(F){F?Yo(cl(F)):Object.keys(Xo).forEach(Yo)}function gf(F,D,q){var G=F.length?F:[F];return G.forEach(function(X){dl(X,ff(X),ol(D),q||{})}),G}pn("en_US",lf),pn("zh_CN",cf);var mf=function(){var F=function(D,q){return F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(G,X){G.__proto__=X}||function(G,X){for(var Q in X)X.hasOwnProperty(Q)&&(G[Q]=X[Q])},F(D,q)};return function(D,q){F(D,q);function G(){this.constructor=D}D.prototype=q===null?Object.create(q):(G.prototype=q.prototype,new G)}}(),Ko=function(){return Ko=Object.assign||function(F){for(var D,q=1,G=arguments.length;q<G;q++){D=arguments[q];for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&(F[X]=D[X])}return F},Ko.apply(this,arguments)},vf=function(F,D){var q={};for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&D.indexOf(G)<0&&(q[G]=F[G]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(F);X<G.length;X++)D.indexOf(G[X])<0&&Object.prototype.propertyIsEnumerable.call(F,G[X])&&(q[G[X]]=F[G[X]]);return q},yf=function(F){return""+(F instanceof Date?F.getTime():F)},bf=function(F){mf(D,F);function D(){var q=F!==null&&F.apply(this,arguments)||this;return q.dom=null,q}return D.prototype.componentDidMount=function(){this.renderTimeAgo()},D.prototype.componentDidUpdate=function(){this.renderTimeAgo()},D.prototype.renderTimeAgo=function(){var q=this.props,G=q.live,X=q.datetime,Q=q.locale,ne=q.opts;hl(this.dom),G!==!1&&(this.dom.setAttribute("datetime",yf(X)),gf(this.dom,Q,ne))},D.prototype.componentWillUnmount=function(){hl(this.dom)},D.prototype.render=function(){var q=this,G=this.props,X=G.datetime;G.live;var Q=G.locale,ne=G.opts,se=vf(G,["datetime","live","locale","opts"]);return Fe("time",Ko({ref:function(de){q.dom=de}},se),hf(X,Q,ne))},D.defaultProps={live:!0,className:""},D}(Mt);function wf(F,D){const q=G=>{F.current&&!F.current.contains(event.target)&&D()};sn(()=>(document.addEventListener("mousedown",q),()=>document.removeEventListener("mousedown",q)))}var fl=Object.prototype.toString,pl=function(F){var D=fl.call(F),q=D==="[object Arguments]";return q||(q=D!=="[object Array]"&&F!==null&&typeof F=="object"&&typeof F.length=="number"&&F.length>=0&&fl.call(F.callee)==="[object Function]"),q},gl;if(!Object.keys){var Or=Object.prototype.hasOwnProperty,ml=Object.prototype.toString,_f=pl,vl=Object.prototype.propertyIsEnumerable,xf=!vl.call({toString:null},"toString"),Ef=vl.call(function(){},"prototype"),Rr=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],$o=function(F){var D=F.constructor;return D&&D.prototype===F},Sf={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Cf=function(){if(typeof window>"u")return!1;for(var F in window)try{if(!Sf["$"+F]&&Or.call(window,F)&&window[F]!==null&&typeof window[F]=="object")try{$o(window[F])}catch{return!0}}catch{return!0}return!1}(),Tf=function(F){if(typeof window>"u"||!Cf)return $o(F);try{return $o(F)}catch{return!1}};gl=function(F){var D=F!==null&&typeof F=="object",q=ml.call(F)==="[object Function]",G=_f(F),X=D&&ml.call(F)==="[object String]",Q=[];if(!D&&!q&&!G)throw new TypeError("Object.keys called on a non-object");var ne=Ef&&q;if(X&&F.length>0&&!Or.call(F,0))for(var se=0;se<F.length;++se)Q.push(String(se));if(G&&F.length>0)for(var de=0;de<F.length;++de)Q.push(String(de));else for(var he in F)!(ne&&he==="prototype")&&Or.call(F,he)&&Q.push(String(he));if(xf)for(var ue=Tf(F),be=0;be<Rr.length;++be)!(ue&&Rr[be]==="constructor")&&Or.call(F,Rr[be])&&Q.push(Rr[be]);return Q}}var Af=gl,Pf=Array.prototype.slice,kf=pl,yl=Object.keys,Mr=yl?function(F){return yl(F)}:Af,bl=Object.keys;Mr.shim=function(){if(Object.keys){var F=function(){var D=Object.keys(arguments);return D&&D.length===arguments.length}(1,2);F||(Object.keys=function(D){return kf(D)?bl(Pf.call(D)):bl(D)})}else Object.keys=Mr;return Object.keys||Mr};var Of=Mr,Rf=Of,Mf=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Bf=Object.prototype.toString,Ff=Array.prototype.concat,Zo=Object.defineProperty,Df=function(F){return typeof F=="function"&&Bf.call(F)==="[object Function]"},If=function(){var F={};try{Zo(F,"x",{enumerable:!1,value:F});for(var D in F)return!1;return F.x===F}catch{return!1}},wl=Zo&&If(),Nf=function(F,D,q,G){D in F&&(!Df(G)||!G())||(wl?Zo(F,D,{configurable:!0,enumerable:!1,value:q,writable:!0}):F[D]=q)},_l=function(F,D){var q=arguments.length>2?arguments[2]:{},G=Rf(D);Mf&&(G=Ff.call(G,Object.getOwnPropertySymbols(D)));for(var X=0;X<G.length;X+=1)Nf(F,G[X],D[G[X]],q[G[X]])};_l.supportsDescriptors=!!wl;var Oi=_l,Ri={exports:{}},Lf="Function.prototype.bind called on incompatible ",Jo=Array.prototype.slice,Hf=Object.prototype.toString,zf="[object Function]",Vf=function(F){var D=this;if(typeof D!="function"||Hf.call(D)!==zf)throw new TypeError(Lf+D);for(var q=Jo.call(arguments,1),G,X=function(){if(this instanceof G){var he=D.apply(this,q.concat(Jo.call(arguments)));return Object(he)===he?he:this}else return D.apply(F,q.concat(Jo.call(arguments)))},Q=Math.max(0,D.length-q.length),ne=[],se=0;se<Q;se++)ne.push("$"+se);if(G=Function("binder","return function ("+ne.join(",")+"){ return binder.apply(this,arguments); }")(X),D.prototype){var de=function(){};de.prototype=D.prototype,G.prototype=new de,de.prototype=null}return G},jf=Vf,Qo=Function.prototype.bind||jf,xl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var F={},D=Symbol("test"),q=Object(D);if(typeof D=="string"||Object.prototype.toString.call(D)!=="[object Symbol]"||Object.prototype.toString.call(q)!=="[object Symbol]")return!1;var G=42;F[D]=G;for(D in F)return!1;if(typeof Object.keys=="function"&&Object.keys(F).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(F).length!==0)return!1;var X=Object.getOwnPropertySymbols(F);if(X.length!==1||X[0]!==D||!Object.prototype.propertyIsEnumerable.call(F,D))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var Q=Object.getOwnPropertyDescriptor(F,D);if(Q.value!==G||Q.enumerable!==!0)return!1}return!0},El=typeof Symbol<"u"&&Symbol,Uf=xl,Sl=function(){return typeof El!="function"||typeof Symbol!="function"||typeof El("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:Uf()},Wf=Qo,Cl=Wf.call(Function.call,Object.prototype.hasOwnProperty),Nt,$i=SyntaxError,Tl=Function,Mi=TypeError,es=function(F){try{return Tl('"use strict"; return ('+F+").constructor;")()}catch{}},vi=Object.getOwnPropertyDescriptor;if(vi)try{vi({},"")}catch{vi=null}var ts=function(){throw new Mi},qf=vi?function(){try{return arguments.callee,ts}catch{try{return vi(arguments,"callee").get}catch{return ts}}}():ts,Bi=Sl(),li=Object.getPrototypeOf||function(F){return F.__proto__},Fi={},Gf=typeof Uint8Array>"u"?Nt:li(Uint8Array),Di={"%AggregateError%":typeof AggregateError>"u"?Nt:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Nt:ArrayBuffer,"%ArrayIteratorPrototype%":Bi?li([][Symbol.iterator]()):Nt,"%AsyncFromSyncIteratorPrototype%":Nt,"%AsyncFunction%":Fi,"%AsyncGenerator%":Fi,"%AsyncGeneratorFunction%":Fi,"%AsyncIteratorPrototype%":Fi,"%Atomics%":typeof Atomics>"u"?Nt:Atomics,"%BigInt%":typeof BigInt>"u"?Nt:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Nt:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Nt:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Nt:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Nt:FinalizationRegistry,"%Function%":Tl,"%GeneratorFunction%":Fi,"%Int8Array%":typeof Int8Array>"u"?Nt:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Nt:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Nt:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Bi?li(li([][Symbol.iterator]())):Nt,"%JSON%":typeof JSON=="object"?JSON:Nt,"%Map%":typeof Map>"u"?Nt:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Bi?Nt:li(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Nt:Promise,"%Proxy%":typeof Proxy>"u"?Nt:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Nt:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Nt:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Bi?Nt:li(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Nt:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Bi?li(""[Symbol.iterator]()):Nt,"%Symbol%":Bi?Symbol:Nt,"%SyntaxError%":$i,"%ThrowTypeError%":qf,"%TypedArray%":Gf,"%TypeError%":Mi,"%Uint8Array%":typeof Uint8Array>"u"?Nt:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Nt:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Nt:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Nt:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Nt:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Nt:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Nt:WeakSet},Xf=function F(D){var q;if(D==="%AsyncFunction%")q=es("async function () {}");else if(D==="%GeneratorFunction%")q=es("function* () {}");else if(D==="%AsyncGeneratorFunction%")q=es("async function* () {}");else if(D==="%AsyncGenerator%"){var G=F("%AsyncGeneratorFunction%");G&&(q=G.prototype)}else if(D==="%AsyncIteratorPrototype%"){var X=F("%AsyncGenerator%");X&&(q=li(X.prototype))}return Di[D]=q,q},Al={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Br=Qo,Fr=Cl,Yf=Br.call(Function.call,Array.prototype.concat),Kf=Br.call(Function.apply,Array.prototype.splice),Pl=Br.call(Function.call,String.prototype.replace),Dr=Br.call(Function.call,String.prototype.slice),$f=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Zf=/\\(\\)?/g,Jf=function(F){var D=Dr(F,0,1),q=Dr(F,-1);if(D==="%"&&q!=="%")throw new $i("invalid intrinsic syntax, expected closing `%`");if(q==="%"&&D!=="%")throw new $i("invalid intrinsic syntax, expected opening `%`");var G=[];return Pl(F,$f,function(X,Q,ne,se){G[G.length]=ne?Pl(se,Zf,"$1"):Q||X}),G},Qf=function(F,D){var q=F,G;if(Fr(Al,q)&&(G=Al[q],q="%"+G[0]+"%"),Fr(Di,q)){var X=Di[q];if(X===Fi&&(X=Xf(q)),typeof X>"u"&&!D)throw new Mi("intrinsic "+F+" exists, but is not available. Please file an issue!");return{alias:G,name:q,value:X}}throw new $i("intrinsic "+F+" does not exist!")},Tn=function(F,D){if(typeof F!="string"||F.length===0)throw new Mi("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof D!="boolean")throw new Mi('"allowMissing" argument must be a boolean');var q=Jf(F),G=q.length>0?q[0]:"",X=Qf("%"+G+"%",D),Q=X.name,ne=X.value,se=!1,de=X.alias;de&&(G=de[0],Kf(q,Yf([0,1],de)));for(var he=1,ue=!0;he<q.length;he+=1){var be=q[he],Ee=Dr(be,0,1),Oe=Dr(be,-1);if((Ee==='"'||Ee==="'"||Ee==="`"||Oe==='"'||Oe==="'"||Oe==="`")&&Ee!==Oe)throw new $i("property names with quotes must have matching quotes");if((be==="constructor"||!ue)&&(se=!0),G+="."+be,Q="%"+G+"%",Fr(Di,Q))ne=Di[Q];else if(ne!=null){if(!(be in ne)){if(!D)throw new Mi("base intrinsic for "+F+" exists, but the property is not available.");return}if(vi&&he+1>=q.length){var De=vi(ne,be);ue=!!De,ue&&"get"in De&&!("originalValue"in De.get)?ne=De.get:ne=ne[be]}else ue=Fr(ne,be),ne=ne[be];ue&&!se&&(Di[Q]=ne)}}return ne};(function(F){var D=Qo,q=Tn,G=q("%Function.prototype.apply%"),X=q("%Function.prototype.call%"),Q=q("%Reflect.apply%",!0)||D.call(X,G),ne=q("%Object.getOwnPropertyDescriptor%",!0),se=q("%Object.defineProperty%",!0),de=q("%Math.max%");if(se)try{se({},"a",{value:1})}catch{se=null}F.exports=function(ue){var be=Q(D,X,arguments);if(ne&&se){var Ee=ne(be,"length");Ee.configurable&&se(be,"length",{value:1+de(0,ue.length-(arguments.length-1))})}return be};var he=function(){return Q(D,G,arguments)};se?se(F.exports,"apply",{value:he}):F.exports.apply=he})(Ri);var kl=Tn,Ol=Ri.exports,ep=Ol(kl("String.prototype.indexOf")),yi=function(F,D){var q=kl(F,!!D);return typeof q=="function"&&ep(F,".prototype.")>-1?Ol(q):q},tp=Tn,np=tp("%TypeError%"),ip=function(F,D){if(F==null)throw new np(D||"Cannot call method on "+F);return F},Ir=ip,rp=Tn,Rl=rp("%Array%"),op=!Rl.isArray&&yi("Object.prototype.toString"),sp=Rl.isArray||function(F){return op(F)==="[object Array]"},Ml=Tn,ap=yi,lp=Ml("%TypeError%"),up=sp,cp=Ml("%Reflect.apply%",!0)||ap("%Function.prototype.apply%"),dp=function(F,D){var q=arguments.length>2?arguments[2]:[];if(!up(q))throw new lp("Assertion failed: optional `argumentsList`, if provided, must be a List");return cp(F,D,q)},hp={},fp=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:hp}),pp=Io(fp),ns=typeof Map=="function"&&Map.prototype,is=Object.getOwnPropertyDescriptor&&ns?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Nr=ns&&is&&typeof is.get=="function"?is.get:null,gp=ns&&Map.prototype.forEach,rs=typeof Set=="function"&&Set.prototype,os=Object.getOwnPropertyDescriptor&&rs?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Lr=rs&&os&&typeof os.get=="function"?os.get:null,mp=rs&&Set.prototype.forEach,vp=typeof WeakMap=="function"&&WeakMap.prototype,Zi=vp?WeakMap.prototype.has:null,yp=typeof WeakSet=="function"&&WeakSet.prototype,Ji=yp?WeakSet.prototype.has:null,bp=typeof WeakRef=="function"&&WeakRef.prototype,Bl=bp?WeakRef.prototype.deref:null,wp=Boolean.prototype.valueOf,_p=Object.prototype.toString,xp=Function.prototype.toString,Ep=String.prototype.match,ss=typeof BigInt=="function"?BigInt.prototype.valueOf:null,as=Object.getOwnPropertySymbols,ls=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Qi=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Sp=Object.prototype.propertyIsEnumerable,Fl=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(F){return F.__proto__}:null),us=pp.custom,cs=us&&Il(us)?us:null,En=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,Cp=function F(D,q,G,X){var Q=q||{};if(bi(Q,"quoteStyle")&&Q.quoteStyle!=="single"&&Q.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(bi(Q,"maxStringLength")&&(typeof Q.maxStringLength=="number"?Q.maxStringLength<0&&Q.maxStringLength!==1/0:Q.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var ne=bi(Q,"customInspect")?Q.customInspect:!0;if(typeof ne!="boolean"&&ne!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(bi(Q,"indent")&&Q.indent!==null&&Q.indent!=="	"&&!(parseInt(Q.indent,10)===Q.indent&&Q.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof D>"u")return"undefined";if(D===null)return"null";if(typeof D=="boolean")return D?"true":"false";if(typeof D=="string")return Ll(D,Q);if(typeof D=="number")return D===0?1/0/D>0?"0":"-0":String(D);if(typeof D=="bigint")return String(D)+"n";var se=typeof Q.depth>"u"?5:Q.depth;if(typeof G>"u"&&(G=0),G>=se&&se>0&&typeof D=="object")return ds(D)?"[Array]":"[Object]";var de=Wp(Q,G);if(typeof X>"u")X=[];else if(Nl(X,D)>=0)return"[Circular]";function he(Gt,Xt,zn){if(Xt&&(X=X.slice(),X.push(Xt)),zn){var An={depth:Q.depth};return bi(Q,"quoteStyle")&&(An.quoteStyle=Q.quoteStyle),F(Gt,An,G+1,X)}return F(Gt,Q,G+1,X)}if(typeof D=="function"){var ue=Dp(D),be=Hr(D,he);return"[Function"+(ue?": "+ue:" (anonymous)")+"]"+(be.length>0?" { "+be.join(", ")+" }":"")}if(Il(D)){var Ee=Qi?String(D).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):ls.call(D);return typeof D=="object"&&!Qi?er(Ee):Ee}if(Vp(D)){for(var Oe="<"+String(D.nodeName).toLowerCase(),De=D.attributes||[],Ge=0;Ge<De.length;Ge++)Oe+=" "+De[Ge].name+"="+Dl(Tp(De[Ge].value),"double",Q);return Oe+=">",D.childNodes&&D.childNodes.length&&(Oe+="..."),Oe+="</"+String(D.nodeName).toLowerCase()+">",Oe}if(ds(D)){if(D.length===0)return"[]";var We=Hr(D,he);return de&&!Up(We)?"["+fs(We,de)+"]":"[ "+We.join(", ")+" ]"}if(kp(D)){var tt=Hr(D,he);return tt.length===0?"["+String(D)+"]":"{ ["+String(D)+"] "+tt.join(", ")+" }"}if(typeof D=="object"&&ne){if(cs&&typeof D[cs]=="function")return D[cs]();if(ne!=="symbol"&&typeof D.inspect=="function")return D.inspect()}if(Ip(D)){var at=[];return gp.call(D,function(Gt,Xt){at.push(he(Xt,D,!0)+" => "+he(Gt,D))}),Hl("Map",Nr.call(D),at,de)}if(Hp(D)){var At=[];return mp.call(D,function(Gt){At.push(he(Gt,D))}),Hl("Set",Lr.call(D),At,de)}if(Np(D))return hs("WeakMap");if(zp(D))return hs("WeakSet");if(Lp(D))return hs("WeakRef");if(Rp(D))return er(he(Number(D)));if(Bp(D))return er(he(ss.call(D)));if(Mp(D))return er(wp.call(D));if(Op(D))return er(he(String(D)));if(!Ap(D)&&!Pp(D)){var xt=Hr(D,he),bt=Fl?Fl(D)===Object.prototype:D instanceof Object||D.constructor===Object,Pt=D instanceof Object?"":"null prototype",Et=!bt&&En&&Object(D)===D&&En in D?ui(D).slice(8,-1):Pt?"Object":"",Zt=bt||typeof D.constructor!="function"?"":D.constructor.name?D.constructor.name+" ":"",Qt=Zt+(Et||Pt?"["+[].concat(Et||[],Pt||[]).join(": ")+"] ":"");return xt.length===0?Qt+"{}":de?Qt+"{"+fs(xt,de)+"}":Qt+"{ "+xt.join(", ")+" }"}return String(D)};function Dl(F,D,q){var G=(q.quoteStyle||D)==="double"?'"':"'";return G+F+G}function Tp(F){return String(F).replace(/"/g,"&quot;")}function ds(F){return ui(F)==="[object Array]"&&(!En||!(typeof F=="object"&&En in F))}function Ap(F){return ui(F)==="[object Date]"&&(!En||!(typeof F=="object"&&En in F))}function Pp(F){return ui(F)==="[object RegExp]"&&(!En||!(typeof F=="object"&&En in F))}function kp(F){return ui(F)==="[object Error]"&&(!En||!(typeof F=="object"&&En in F))}function Op(F){return ui(F)==="[object String]"&&(!En||!(typeof F=="object"&&En in F))}function Rp(F){return ui(F)==="[object Number]"&&(!En||!(typeof F=="object"&&En in F))}function Mp(F){return ui(F)==="[object Boolean]"&&(!En||!(typeof F=="object"&&En in F))}function Il(F){if(Qi)return F&&typeof F=="object"&&F instanceof Symbol;if(typeof F=="symbol")return!0;if(!F||typeof F!="object"||!ls)return!1;try{return ls.call(F),!0}catch{}return!1}function Bp(F){if(!F||typeof F!="object"||!ss)return!1;try{return ss.call(F),!0}catch{}return!1}var Fp=Object.prototype.hasOwnProperty||function(F){return F in this};function bi(F,D){return Fp.call(F,D)}function ui(F){return _p.call(F)}function Dp(F){if(F.name)return F.name;var D=Ep.call(xp.call(F),/^function\s*([\w$]+)/);return D?D[1]:null}function Nl(F,D){if(F.indexOf)return F.indexOf(D);for(var q=0,G=F.length;q<G;q++)if(F[q]===D)return q;return-1}function Ip(F){if(!Nr||!F||typeof F!="object")return!1;try{Nr.call(F);try{Lr.call(F)}catch{return!0}return F instanceof Map}catch{}return!1}function Np(F){if(!Zi||!F||typeof F!="object")return!1;try{Zi.call(F,Zi);try{Ji.call(F,Ji)}catch{return!0}return F instanceof WeakMap}catch{}return!1}function Lp(F){if(!Bl||!F||typeof F!="object")return!1;try{return Bl.call(F),!0}catch{}return!1}function Hp(F){if(!Lr||!F||typeof F!="object")return!1;try{Lr.call(F);try{Nr.call(F)}catch{return!0}return F instanceof Set}catch{}return!1}function zp(F){if(!Ji||!F||typeof F!="object")return!1;try{Ji.call(F,Ji);try{Zi.call(F,Zi)}catch{return!0}return F instanceof WeakSet}catch{}return!1}function Vp(F){return!F||typeof F!="object"?!1:typeof HTMLElement<"u"&&F instanceof HTMLElement?!0:typeof F.nodeName=="string"&&typeof F.getAttribute=="function"}function Ll(F,D){if(F.length>D.maxStringLength){var q=F.length-D.maxStringLength,G="... "+q+" more character"+(q>1?"s":"");return Ll(F.slice(0,D.maxStringLength),D)+G}var X=F.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,jp);return Dl(X,"single",D)}function jp(F){var D=F.charCodeAt(0),q={8:"b",9:"t",10:"n",12:"f",13:"r"}[D];return q?"\\"+q:"\\x"+(D<16?"0":"")+D.toString(16).toUpperCase()}function er(F){return"Object("+F+")"}function hs(F){return F+" { ? }"}function Hl(F,D,q,G){var X=G?fs(q,G):q.join(", ");return F+" ("+D+") {"+X+"}"}function Up(F){for(var D=0;D<F.length;D++)if(Nl(F[D],`
`)>=0)return!1;return!0}function Wp(F,D){var q;if(F.indent==="	")q="	";else if(typeof F.indent=="number"&&F.indent>0)q=Array(F.indent+1).join(" ");else return null;return{base:q,prev:Array(D+1).join(q)}}function fs(F,D){if(F.length===0)return"";var q=`
`+D.prev+D.base;return q+F.join(","+q)+`
`+D.prev}function Hr(F,D){var q=ds(F),G=[];if(q){G.length=F.length;for(var X=0;X<F.length;X++)G[X]=bi(F,X)?D(F[X],F):""}var Q=typeof as=="function"?as(F):[],ne;if(Qi){ne={};for(var se=0;se<Q.length;se++)ne["$"+Q[se]]=Q[se]}for(var de in F)!bi(F,de)||q&&String(Number(de))===de&&de<F.length||Qi&&ne["$"+de]instanceof Symbol||(/[^\w$]/.test(de)?G.push(D(de,F)+": "+D(F[de],F)):G.push(de+": "+D(F[de],F)));if(typeof as=="function")for(var he=0;he<Q.length;he++)Sp.call(F,Q[he])&&G.push("["+D(Q[he])+"]: "+D(F[Q[he]],F));return G}var zl=function(F){return typeof F=="string"||typeof F=="symbol"},qp=function(F){if(F===null)return"Null";if(typeof F>"u")return"Undefined";if(typeof F=="function"||typeof F=="object")return"Object";if(typeof F=="number")return"Number";if(typeof F=="boolean")return"Boolean";if(typeof F=="string")return"String"},Gp=qp,ps=function(F){return typeof F=="symbol"?"Symbol":typeof F=="bigint"?"BigInt":Gp(F)},Xp=Tn,Vl=Xp("%TypeError%"),Yp=Cp,Kp=zl,$p=ps,jl=function(F,D){if($p(F)!=="Object")throw new Vl("Assertion failed: Type(O) is not Object");if(!Kp(D))throw new Vl("Assertion failed: IsPropertyKey(P) is not true, got "+Yp(D));return F[D]},Zp=Tn,Ul=Zp("%TypeError%"),Jp=zl,Qp=ps,eg=function(F,D){if(Qp(F)!=="Object")throw new Ul("Assertion failed: `O` must be an Object");if(!Jp(D))throw new Ul("Assertion failed: `P` must be a Property Key");return D in F},Wl=Function.prototype.toString,Ii=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,gs,zr;if(typeof Ii=="function"&&typeof Object.defineProperty=="function")try{gs=Object.defineProperty({},"length",{get:function(){throw zr}}),zr={},Ii(function(){throw 42},null,gs)}catch(F){F!==zr&&(Ii=null)}else Ii=null;var tg=/^\s*class\b/,vs=function(F){try{var D=Wl.call(F);return tg.test(D)}catch{return!1}},ng=function(F){try{return vs(F)?!1:(Wl.call(F),!0)}catch{return!1}},ig=Object.prototype.toString,rg="[object Function]",og="[object GeneratorFunction]",sg=typeof Symbol=="function"&&!!Symbol.toStringTag,ql=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},ys=Ii?function(F){if(F===ql)return!0;if(!F||typeof F!="function"&&typeof F!="object")return!1;if(typeof F=="function"&&!F.prototype)return!0;try{Ii(F,null,gs)}catch(D){if(D!==zr)return!1}return!vs(F)}:function(F){if(F===ql)return!0;if(!F||typeof F!="function"&&typeof F!="object")return!1;if(typeof F=="function"&&!F.prototype)return!0;if(sg)return ng(F);if(vs(F))return!1;var D=ig.call(F);return D===rg||D===og},ag=ys,Gl=Tn,lg=Gl("%Math%"),ug=Gl("%Number%"),cg=ug.MAX_SAFE_INTEGER||lg.pow(2,53)-1,dg=Tn,hg=dg("%Math.abs%"),fg=function(F){return hg(F)},pg=Math.floor,gg=function(F){return pg(F)},Xl=function(F){return F===null||typeof F!="function"&&typeof F!="object"},mg=Object.prototype.toString,Yl=Xl,vg=ys,Kl={"[[DefaultValue]]":function(F){var D;if(arguments.length>1?D=arguments[1]:D=mg.call(F)==="[object Date]"?String:Number,D===String||D===Number){var q=D===String?["toString","valueOf"]:["valueOf","toString"],G,X;for(X=0;X<q.length;++X)if(vg(F[q[X]])&&(G=F[q[X]](),Yl(G)))return G;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},yg=function(F){return Yl(F)?F:arguments.length>1?Kl["[[DefaultValue]]"](F,arguments[1]):Kl["[[DefaultValue]]"](F)},bg=yg,wg=bg,_g=function(F){var D=wg(F,Number);if(typeof D!="string")return+D;var q=D.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(q)?NaN:+q},xg=Number.isNaN||function(F){return F!==F},Eg=Number.isNaN||function(F){return F!==F},Sg=Number.isFinite||function(F){return typeof F=="number"&&!Eg(F)&&F!==1/0&&F!==-1/0},Cg=function(F){return F>=0?1:-1},Tg=fg,Ag=gg,Pg=_g,kg=xg,Og=Sg,Rg=Cg,Mg=function(F){var D=Pg(F);return kg(D)?0:D===0||!Og(D)?D:Rg(D)*Ag(Tg(D))},Bg=Tn,Fg=Bg("RegExp.prototype.test"),Dg=Ri.exports,Ig=function(F){return Dg(Fg,F)},Ng=function(F){return F===null||typeof F!="function"&&typeof F!="object"},Lg=xl,$l=function(){return Lg()&&!!Symbol.toStringTag},Hg=Date.prototype.getDay,zg=function(F){try{return Hg.call(F),!0}catch{return!1}},Vg=Object.prototype.toString,jg="[object Date]",Ug=$l(),Wg=function(F){return typeof F!="object"||F===null?!1:Ug?zg(F):Vg.call(F)===jg},bs={exports:{}},qg=Object.prototype.toString,Gg=Sl();if(Gg){var Xg=Symbol.prototype.toString,Yg=/^Symbol\(.*\)$/,Kg=function(F){return typeof F.valueOf()!="symbol"?!1:Yg.test(Xg.call(F))};bs.exports=function(F){if(typeof F=="symbol")return!0;if(qg.call(F)!=="[object Symbol]")return!1;try{return Kg(F)}catch{return!1}}}else bs.exports=function(F){return!1};var $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",ws=Xl,Zl=ys,Zg=Wg,Jl=bs.exports,Jg=function(F,D){if(typeof F>"u"||F===null)throw new TypeError("Cannot call method on "+F);if(typeof D!="string"||D!=="number"&&D!=="string")throw new TypeError('hint must be "string" or "number"');var q=D==="string"?["toString","valueOf"]:["valueOf","toString"],G,X,Q;for(Q=0;Q<q.length;++Q)if(G=F[q[Q]],Zl(G)&&(X=G.call(F),ws(X)))return X;throw new TypeError("No default value")},Qg=function(F,D){var q=F[D];if(q!==null&&typeof q<"u"){if(!Zl(q))throw new TypeError(q+" returned for property "+D+" of object "+F+" is not a function");return q}},em=function(F){if(ws(F))return F;var D="default";arguments.length>1&&(arguments[1]===String?D="string":arguments[1]===Number&&(D="number"));var q;if($g&&(Symbol.toPrimitive?q=Qg(F,Symbol.toPrimitive):Jl(F)&&(q=Symbol.prototype.valueOf)),typeof q<"u"){var G=q.call(F,D);if(ws(G))return G;throw new TypeError("unable to convert exotic object to primitive")}return D==="default"&&(Zg(F)||Jl(F))&&(D="string"),Jg(F,D==="default"?"number":D)},Ql=em,tm=function(F){return arguments.length>1?Ql(F,arguments[1]):Ql(F)},Vr=Tn,eu=Vr("%TypeError%"),tu=Vr("%Number%"),nm=Vr("%RegExp%"),nu=Vr("%parseInt%"),iu=yi,jr=Ig,im=Ng,ru=iu("String.prototype.slice"),rm=jr(/^0b[01]+$/i),om=jr(/^0o[0-7]+$/i),sm=jr(/^[-+]0x[0-9a-f]+$/i),am=["\x85","\u200B","\uFFFE"].join(""),lm=new nm("["+am+"]","g"),um=jr(lm),ou=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),cm=new RegExp("(^["+ou+"]+)|(["+ou+"]+$)","g"),dm=iu("String.prototype.replace"),hm=function(F){return dm(F,cm,"")},fm=tm,pm=function F(D){var q=im(D)?D:fm(D,tu);if(typeof q=="symbol")throw new eu("Cannot convert a Symbol value to a number");if(typeof q=="bigint")throw new eu("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof q=="string"){if(rm(q))return F(nu(ru(q,2),2));if(om(q))return F(nu(ru(q,2),8));if(um(q)||sm(q))return NaN;var G=hm(q);if(G!==q)return F(G)}return tu(q)},gm=Mg,mm=pm,vm=function(F){var D=mm(F);return D!==0&&(D=gm(D)),D===0?0:D},su=cg,ym=vm,bm=function(F){var D=ym(F);return D<=0?0:D>su?su:D},wm=Tn,_m=wm("%TypeError%"),xm=jl,Em=bm,Sm=ps,Cm=function(F){if(Sm(F)!=="Object")throw new _m("Assertion failed: `obj` must be an Object");return Em(xm(F,"length"))},Tm=Tn,Am=Tm("%Object%"),Pm=Ir,km=function(F){return Pm(F),Am(F)},au=Tn,Om=au("%String%"),Rm=au("%TypeError%"),lu=function(F){if(typeof F=="symbol")throw new Rm("Cannot convert a Symbol value to a string");return Om(F)},Mm=String.prototype.valueOf,Bm=function(F){try{return Mm.call(F),!0}catch{return!1}},Fm=Object.prototype.toString,Dm="[object String]",Im=$l(),Nm=function(F){return typeof F=="string"?!0:typeof F!="object"?!1:Im?Bm(F):Fm.call(F)===Dm},Lm=Tn,Hm=yi,zm=Lm("%TypeError%"),Vm=dp,jm=jl,Um=eg,Wm=ag,qm=Cm,Gm=km,Xm=lu,Ym=Nm,Km=Hm("String.prototype.split"),uu=Object("a"),$m=uu[0]!=="a"||!(0 in uu),cu=function(F){var D=Gm(this),q=$m&&Ym(this)?Km(this,""):D,G=qm(q);if(!Wm(F))throw new zm("Array.prototype.forEach callback must be a function");var X;arguments.length>1&&(X=arguments[1]);for(var Q=0;Q<G;){var ne=Xm(Q),se=Um(q,ne);if(se){var de=jm(q,ne);Vm(F,X,[de,Q,q])}Q+=1}},Zm=function(F){var D=!0,q=!0,G=!1;if(typeof F=="function"){try{F.call("f",function(X,Q,ne){typeof ne!="object"&&(D=!1)}),F.call([null],function(){"use strict";q=typeof this=="string"},"x")}catch{G=!0}return!G&&D&&q}return!1},Jm=Zm,Qm=cu,du=function(){var F=Array.prototype.forEach;return Jm(F)?F:Qm},e0=Oi,t0=du,n0=function(){var F=t0();return e0(Array.prototype,{forEach:F},{forEach:function(){return Array.prototype.forEach!==F}}),F},i0=Oi,r0=Ri.exports,o0=yi,s0=Ir,a0=cu,hu=du,l0=hu(),u0=n0,c0=o0("Array.prototype.slice"),d0=r0.apply(l0),fu=function(F,D){return s0(F),d0(F,c0(arguments,1))};i0(fu,{getPolyfill:hu,implementation:a0,shim:u0});var h0=fu,f0=Ir,pu=yi,p0=pu("Object.prototype.propertyIsEnumerable"),g0=pu("Array.prototype.push"),gu=function(F){var D=f0(F),q=[];for(var G in D)p0(D,G)&&g0(q,[G,D[G]]);return q},m0=gu,mu=function(){return typeof Object.entries=="function"?Object.entries:m0},v0=mu,y0=Oi,b0=function(){var F=v0();return y0(Object,{entries:F},{entries:function(){return Object.entries!==F}}),F},w0=Oi,_0=Ri.exports,x0=gu,vu=mu,E0=b0,yu=_0(vu(),Object);w0(yu,{getPolyfill:vu,implementation:x0,shim:E0});var S0=yu,C0=Ir,T0=lu,A0=yi,bu=A0("String.prototype.replace"),P0=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,k0=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,wu=function(){var F=T0(C0(this));return bu(bu(F,P0,""),k0,"")},O0=wu,_u="\u200B",xu=function(){return String.prototype.trim&&_u.trim()===_u?String.prototype.trim:O0},R0=Oi,M0=xu,B0=function(){var F=M0();return R0(String.prototype,{trim:F},{trim:function(){return String.prototype.trim!==F}}),F},F0=Ri.exports,D0=Oi,I0=wu,Eu=xu,N0=B0,Su=F0(Eu());D0(Su,{getPolyfill:Eu,implementation:I0,shim:N0});var L0=Su,Ur=h0,_s=S0,Cu=Cl,H0=L0,z0=function(F){},V0=String.prototype.replace,Tu=String.prototype.split,Wr="||||",xs=function(F){var D=F%100,q=D%10;return D!==11&&q===1?0:2<=q&&q<=4&&!(D>=12&&D<=14)?1:2},Au={pluralTypes:{arabic:function(F){if(F<3)return F;var D=F%100;return D>=3&&D<=10?3:D>=11?4:5},bosnian_serbian:xs,chinese:function(){return 0},croatian:xs,french:function(F){return F>=2?1:0},german:function(F){return F!==1?1:0},russian:xs,lithuanian:function(F){return F%10==1&&F%100!=11?0:F%10>=2&&F%10<=9&&(F%100<11||F%100>19)?1:2},czech:function(F){return F===1?0:F>=2&&F<=4?1:2},polish:function(F){if(F===1)return 0;var D=F%10;return 2<=D&&D<=4&&(F%100<10||F%100>=20)?1:2},icelandic:function(F){return F%10!=1||F%100==11?1:0},slovenian:function(F){var D=F%100;return D===1?0:D===2?1:D===3||D===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function j0(F){var D={};return Ur(_s(F),function(q){var G=q[0],X=q[1];Ur(X,function(Q){D[Q]=G})}),D}function U0(F,D){var q=j0(F.pluralTypeToLanguages);return q[D]||q[Tu.call(D,/-/,1)[0]]||q.en}function W0(F,D,q){return F.pluralTypes[D](q)}function q0(){var F={};return function(D,q){var G=F[q];return G&&!D.pluralTypes[G]&&(G=null,F[q]=G),G||(G=U0(D,q),G&&(F[q]=G)),G}}function Pu(F){return F.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function G0(F){var D=F&&F.prefix||"%{",q=F&&F.suffix||"}";if(D===Wr||q===Wr)throw new RangeError('"'+Wr+'" token is reserved for pluralization');return new RegExp(Pu(D)+"(.*?)"+Pu(q),"g")}var X0=q0(),Y0=/%\{(.*?)\}/g;function Es(F,D,q,G,X){if(typeof F!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(D==null)return F;var Q=F,ne=G||Y0,se=typeof D=="number"?{smart_count:D}:D;if(se.smart_count!=null&&F){var de=X||Au,he=Tu.call(F,Wr),ue=q||"en",be=X0(de,ue),Ee=W0(de,be,se.smart_count);Q=H0(he[Ee]||he[0])}return Q=V0.call(Q,ne,function(Oe,De){return!Cu(se,De)||se[De]==null?Oe:se[De]}),Q}function ti(F){var D=F||{};this.phrases={},this.extend(D.phrases||{}),this.currentLocale=D.locale||"en";var q=D.allowMissing?Es:null;this.onMissingKey=typeof D.onMissingKey=="function"?D.onMissingKey:q,this.warn=D.warn||z0,this.tokenRegex=G0(D.interpolation),this.pluralRules=D.pluralRules||Au}ti.prototype.locale=function(F){return F&&(this.currentLocale=F),this.currentLocale},ti.prototype.extend=function(F,D){Ur(_s(F||{}),function(q){var G=q[0],X=q[1],Q=D?D+"."+G:G;typeof X=="object"?this.extend(X,Q):this.phrases[Q]=X},this)},ti.prototype.unset=function(F,D){typeof F=="string"?delete this.phrases[F]:Ur(_s(F||{}),function(q){var G=q[0],X=q[1],Q=D?D+"."+G:G;typeof X=="object"?this.unset(X,Q):delete this.phrases[Q]},this)},ti.prototype.clear=function(){this.phrases={}},ti.prototype.replace=function(F){this.clear(),this.extend(F)},ti.prototype.t=function(F,D){var q,G,X=D==null?{}:D;if(typeof this.phrases[F]=="string")q=this.phrases[F];else if(typeof X._=="string")q=X._;else if(this.onMissingKey){var Q=this.onMissingKey;G=Q(F,X,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+F+'"'),G=F;return typeof q=="string"&&(G=Es(q,X,this.currentLocale,this.tokenRegex,this.pluralRules)),G},ti.prototype.has=function(F){return Cu(this.phrases,F)},ti.transformPhrase=function(F,D,q){return Es(F,D,q)};var K0=ti,$0={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},Z0={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},J0={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},Q0={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},ev={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},tv={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},nv={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},iv={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},rv={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},ov={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},sv={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},av={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},lv={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},uv={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},cv={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},dv={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},hv={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},ku={};Object.defineProperty(ku,"__esModule",{value:!0});var Ss=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function fv(F,D){return D<3?Ss[F][D-1]:D>=3&&D<=10?Ss[F][2]:Ss[F][3]}function pv(F,D){if(D===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var q=fv(Math.floor(D/2),F);return["\u0645\u0646\u0630 "+q,"\u0628\u0639\u062F "+q]}var gv=ku.default=pv,Ou={};Object.defineProperty(Ou,"__esModule",{value:!0});function mv(F,D){var q=0,G=D==1||D==3||D==5||D==7||D==9||D==11||D==13;return G&&F>=5&&(q=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][D][q]}var vv=Ou.default=mv,Ru={};Object.defineProperty(Ru,"__esModule",{value:!0});function yv(F,D){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][D]}var bv=Ru.default=yv,Mu={};Object.defineProperty(Mu,"__esModule",{value:!0});function wv(F,D){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][D]}var _v=Mu.default=wv,Bu={};Object.defineProperty(Bu,"__esModule",{value:!0});function xv(F,D){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][D]}var Ev=Bu.default=xv,Fu={};Object.defineProperty(Fu,"__esModule",{value:!0});function Sv(F,D){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][D]}var Cv=Fu.default=Sv,Du={};Object.defineProperty(Du,"__esModule",{value:!0});function Tv(F,D){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][D]}var Av=Du.default=Tv,Iu={};Object.defineProperty(Iu,"__esModule",{value:!0});function Pv(F,D){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][D]}var kv=Iu.default=Pv,Nu={};Object.defineProperty(Nu,"__esModule",{value:!0});function Ov(F,D){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][D]}var Rv=Nu.default=Ov,Lu={};Object.defineProperty(Lu,"__esModule",{value:!0});function Mv(F,D){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][D]}var Bv=Lu.default=Mv,Hu={};Object.defineProperty(Hu,"__esModule",{value:!0});function Fv(F,D){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][D]}var Dv=Hu.default=Fv,zu={};Object.defineProperty(zu,"__esModule",{value:!0});function Iv(F,D){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][D]}var Nv=zu.default=Iv,Vu={};Object.defineProperty(Vu,"__esModule",{value:!0});function Lv(F,D){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][D]}var Hv=Vu.default=Lv,ju={};Object.defineProperty(ju,"__esModule",{value:!0});function zv(F,D){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][D]}var Vv=ju.default=zv,Uu={};Object.defineProperty(Uu,"__esModule",{value:!0});function jv(F,D){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][D]}var Uv=Uu.default=jv,Wu={};Object.defineProperty(Wu,"__esModule",{value:!0});function Wv(F,D){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][D]}var qv=Wu.default=Wv;const tr={ar:$0,cs:Z0,de:J0,el:Q0,es:ev,fi:tv,fr:nv,gl:iv,hi:rv,it:ov,ko:sv,nl:av,pt:lv,sv:uv,th:cv,tr:dv,ur:hv},wi=new K0({allowMissing:!0});wi.init=(F,D)=>{wi.clear(),F&&(wi.locale(F),wi.extend(tr[F])),D&&wi.extend(D)},pn("ar",gv),pn("cs",vv),pn("de",bv),pn("el",_v),pn("es",Ev),pn("fi",Cv),pn("fr",Av),pn("gl",kv),pn("hi",Rv),pn("it",Bv),pn("ko",Dv),pn("nl",Nv),pn("pt",Hv),pn("sv",Vv),pn("th",Uv),pn("tr",qv),wi.registerMessages=(F,D)=>{tr[F]?tr[F]=ie(ie({},tr[F]),D):tr[F]=D};var Fn=wi,Gv=F=>{const D=ge();return wf(D,()=>F.onClickOutside()),Fe("ul",{ref:D,className:"r6o-comment-dropdown-menu"},Fe("li",{onClick:F.onEdit},Fn.t("Edit")),Fe("li",{onClick:F.onDelete},Fn.t("Delete")))},qu={},Cs={},Ts={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(F,D){(function(q,G){G(F,D)})(fi,function(q,G){var X=typeof Map=="function"?new Map:function(){var ue=[],be=[];return{has:function(Ee){return ue.indexOf(Ee)>-1},get:function(Ee){return be[ue.indexOf(Ee)]},set:function(Ee,Oe){ue.indexOf(Ee)===-1&&(ue.push(Ee),be.push(Oe))},delete:function(Ee){var Oe=ue.indexOf(Ee);Oe>-1&&(ue.splice(Oe,1),be.splice(Oe,1))}}}(),Q=function(ue){return new Event(ue,{bubbles:!0})};try{new Event("test")}catch{Q=function(be){var Ee=document.createEvent("Event");return Ee.initEvent(be,!0,!1),Ee}}function ne(ue){if(!ue||!ue.nodeName||ue.nodeName!=="TEXTAREA"||X.has(ue))return;var be=null,Ee=null,Oe=null;function De(){var bt=window.getComputedStyle(ue,null);bt.resize==="vertical"?ue.style.resize="none":bt.resize==="both"&&(ue.style.resize="horizontal"),bt.boxSizing==="content-box"?be=-(parseFloat(bt.paddingTop)+parseFloat(bt.paddingBottom)):be=parseFloat(bt.borderTopWidth)+parseFloat(bt.borderBottomWidth),isNaN(be)&&(be=0),at()}function Ge(bt){{var Pt=ue.style.width;ue.style.width="0px",ue.offsetWidth,ue.style.width=Pt}ue.style.overflowY=bt}function We(bt){for(var Pt=[];bt&&bt.parentNode&&bt.parentNode instanceof Element;)bt.parentNode.scrollTop&&Pt.push({node:bt.parentNode,scrollTop:bt.parentNode.scrollTop}),bt=bt.parentNode;return Pt}function tt(){if(ue.scrollHeight!==0){var bt=We(ue),Pt=document.documentElement&&document.documentElement.scrollTop;ue.style.height="",ue.style.height=ue.scrollHeight+be+"px",Ee=ue.clientWidth,bt.forEach(function(Et){Et.node.scrollTop=Et.scrollTop}),Pt&&(document.documentElement.scrollTop=Pt)}}function at(){tt();var bt=Math.round(parseFloat(ue.style.height)),Pt=window.getComputedStyle(ue,null),Et=Pt.boxSizing==="content-box"?Math.round(parseFloat(Pt.height)):ue.offsetHeight;if(Et<bt?Pt.overflowY==="hidden"&&(Ge("scroll"),tt(),Et=Pt.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ue,null).height)):ue.offsetHeight):Pt.overflowY!=="hidden"&&(Ge("hidden"),tt(),Et=Pt.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(ue,null).height)):ue.offsetHeight),Oe!==Et){Oe=Et;var Zt=Q("autosize:resized");try{ue.dispatchEvent(Zt)}catch{}}}var At=function(){ue.clientWidth!==Ee&&at()},xt=function(bt){window.removeEventListener("resize",At,!1),ue.removeEventListener("input",at,!1),ue.removeEventListener("keyup",at,!1),ue.removeEventListener("autosize:destroy",xt,!1),ue.removeEventListener("autosize:update",at,!1),Object.keys(bt).forEach(function(Pt){ue.style[Pt]=bt[Pt]}),X.delete(ue)}.bind(ue,{height:ue.style.height,resize:ue.style.resize,overflowY:ue.style.overflowY,overflowX:ue.style.overflowX,wordWrap:ue.style.wordWrap});ue.addEventListener("autosize:destroy",xt,!1),"onpropertychange"in ue&&"oninput"in ue&&ue.addEventListener("keyup",at,!1),window.addEventListener("resize",At,!1),ue.addEventListener("input",at,!1),ue.addEventListener("autosize:update",at,!1),ue.style.overflowX="hidden",ue.style.wordWrap="break-word",X.set(ue,{destroy:xt,update:at}),De()}function se(ue){var be=X.get(ue);be&&be.destroy()}function de(ue){var be=X.get(ue);be&&be.update()}var he=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(he=function(ue){return ue},he.destroy=function(ue){return ue},he.update=function(ue){return ue}):(he=function(ue,be){return ue&&Array.prototype.forEach.call(ue.length?ue:[ue],function(Ee){return ne(Ee)}),ue},he.destroy=function(ue){return ue&&Array.prototype.forEach.call(ue.length?ue:[ue],se),ue},he.update=function(ue){return ue&&Array.prototype.forEach.call(ue.length?ue:[ue],de),ue}),G.default=he,q.exports=G.default})})(Ts,Ts.exports);var Xv=function(F,D,q){return q=window.getComputedStyle,(q?q(F):F.currentStyle)[D.replace(/-(\w)/gi,function(G,X){return X.toUpperCase()})]},Yv=Xv,As=Yv;function Kv(F){var D=As(F,"line-height"),q=parseFloat(D,10);if(D===q+""){var G=F.style.lineHeight;F.style.lineHeight=D+"em",D=As(F,"line-height"),q=parseFloat(D,10),G?F.style.lineHeight=G:delete F.style.lineHeight}if(D.indexOf("pt")!==-1?(q*=4,q/=3):D.indexOf("mm")!==-1?(q*=96,q/=25.4):D.indexOf("cm")!==-1?(q*=96,q/=2.54):D.indexOf("in")!==-1?q*=96:D.indexOf("pc")!==-1&&(q*=16),q=Math.round(q),D==="normal"){var X=F.nodeName,Q=document.createElement(X);Q.innerHTML="&nbsp;",X.toUpperCase()==="TEXTAREA"&&Q.setAttribute("rows","1");var ne=As(F,"font-size");Q.style.fontSize=ne,Q.style.padding="0px",Q.style.border="0px";var se=document.body;se.appendChild(Q);var de=Q.offsetHeight;q=de,se.removeChild(Q)}return q}var $v=Kv,Zv=fi&&fi.__extends||function(){var F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(D,q){D.__proto__=q}||function(D,q){for(var G in q)q.hasOwnProperty(G)&&(D[G]=q[G])};return function(D,q){F(D,q);function G(){this.constructor=D}D.prototype=q===null?Object.create(q):(G.prototype=q.prototype,new G)}}(),Ps=fi&&fi.__assign||Object.assign||function(F){for(var D,q=1,G=arguments.length;q<G;q++){D=arguments[q];for(var X in D)Object.prototype.hasOwnProperty.call(D,X)&&(F[X]=D[X])}return F},Jv=fi&&fi.__rest||function(F,D){var q={};for(var G in F)Object.prototype.hasOwnProperty.call(F,G)&&D.indexOf(G)<0&&(q[G]=F[G]);if(F!=null&&typeof Object.getOwnPropertySymbols=="function")for(var X=0,G=Object.getOwnPropertySymbols(F);X<G.length;X++)D.indexOf(G[X])<0&&(q[G[X]]=F[G[X]]);return q};Cs.__esModule=!0;var qr=Pi,nr=Xi.exports,Gr=Ts.exports,Qv=$v,ey=Qv,Gu="autosize:resized",ty=function(F){Zv(D,F);function D(){var q=F!==null&&F.apply(this,arguments)||this;return q.state={lineHeight:null},q.textarea=null,q.onResize=function(G){q.props.onResize&&q.props.onResize(G)},q.updateLineHeight=function(){q.textarea&&q.setState({lineHeight:ey(q.textarea)})},q.onChange=function(G){var X=q.props.onChange;q.currentValue=G.currentTarget.value,X&&X(G)},q}return D.prototype.componentDidMount=function(){var q=this,G=this.props,X=G.maxRows,Q=G.async;typeof X=="number"&&this.updateLineHeight(),typeof X=="number"||Q?setTimeout(function(){return q.textarea&&Gr(q.textarea)}):this.textarea&&Gr(this.textarea),this.textarea&&this.textarea.addEventListener(Gu,this.onResize)},D.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(Gu,this.onResize),Gr.destroy(this.textarea))},D.prototype.render=function(){var q=this,G=this,X=G.props;X.onResize;var Q=X.maxRows;X.onChange;var ne=X.style;X.innerRef;var se=X.children,de=Jv(X,["onResize","maxRows","onChange","style","innerRef","children"]),he=G.state.lineHeight,ue=Q&&he?he*Q:null;return qr.createElement("textarea",Ps({},de,{onChange:this.onChange,style:ue?Ps({},ne,{maxHeight:ue}):ne,ref:function(be){q.textarea=be,typeof q.props.innerRef=="function"?q.props.innerRef(be):q.props.innerRef&&(q.props.innerRef.current=be)}}),se)},D.prototype.componentDidUpdate=function(){this.textarea&&Gr.update(this.textarea)},D.defaultProps={rows:1,async:!1},D.propTypes={rows:nr.number,maxRows:nr.number,onResize:nr.func,innerRef:nr.any,async:nr.bool},D}(qr.Component);Cs.TextareaAutosize=qr.forwardRef(function(F,D){return qr.createElement(ty,Ps({},F,{innerRef:D}))}),function(F){F.__esModule=!0;var D=Cs;F.default=D.TextareaAutosize}(qu);var ny=oh(qu);class Xu extends gt{constructor(D){super(D),le(this,"onKeyDown",q=>{q.which===13&&q.ctrlKey&&this.props.onSaveAndClose()}),this.element=ft()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return Fe(ny,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||Fn.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function Ct(){return Ct=Object.assign||function(F){for(var D=1;D<arguments.length;D++){var q=arguments[D];for(var G in q)Object.prototype.hasOwnProperty.call(q,G)&&(F[G]=q[G])}return F},Ct.apply(this,arguments)}function iy(F){if(F.sheet)return F.sheet;for(var D=0;D<document.styleSheets.length;D++)if(document.styleSheets[D].ownerNode===F)return document.styleSheets[D]}function ry(F){var D=document.createElement("style");return D.setAttribute("data-emotion",F.key),F.nonce!==void 0&&D.setAttribute("nonce",F.nonce),D.appendChild(document.createTextNode("")),D.setAttribute("data-s",""),D}var oy=function(){function F(q){var G=this;this._insertTag=function(X){var Q;G.tags.length===0?G.insertionPoint?Q=G.insertionPoint.nextSibling:G.prepend?Q=G.container.firstChild:Q=G.before:Q=G.tags[G.tags.length-1].nextSibling,G.container.insertBefore(X,Q),G.tags.push(X)},this.isSpeedy=q.speedy===void 0?!0:q.speedy,this.tags=[],this.ctr=0,this.nonce=q.nonce,this.key=q.key,this.container=q.container,this.prepend=q.prepend,this.insertionPoint=q.insertionPoint,this.before=null}var D=F.prototype;return D.hydrate=function(q){q.forEach(this._insertTag)},D.insert=function(q){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(ry(this));var G=this.tags[this.tags.length-1];if(this.isSpeedy){var X=iy(G);try{X.insertRule(q,X.cssRules.length)}catch{}}else G.appendChild(document.createTextNode(q));this.ctr++},D.flush=function(){this.tags.forEach(function(q){return q.parentNode&&q.parentNode.removeChild(q)}),this.tags=[],this.ctr=0},F}(),Sn="-ms-",Xr="-moz-",Vt="-webkit-",Yu="comm",ks="rule",Os="decl",sy="@import",ay="@keyframes",ly=Math.abs,Yr=String.fromCharCode;function uy(F,D){return(((D<<2^kn(F,0))<<2^kn(F,1))<<2^kn(F,2))<<2^kn(F,3)}function Ku(F){return F.trim()}function cy(F,D){return(F=D.exec(F))?F[0]:F}function Ut(F,D,q){return F.replace(D,q)}function $u(F,D){return F.indexOf(D)}function kn(F,D){return F.charCodeAt(D)|0}function ir(F,D,q){return F.slice(D,q)}function Zn(F){return F.length}function Rs(F){return F.length}function Kr(F,D){return D.push(F),F}function dy(F,D){return F.map(D).join("")}var $r=1,Ni=1,Zu=0,On=0,an=0,Li="";function Zr(F,D,q,G,X,Q,ne){return{value:F,root:D,parent:q,type:G,props:X,children:Q,line:$r,column:Ni,length:ne,return:""}}function rr(F,D,q){return Zr(F,D.root,D.parent,q,D.props,D.children,0)}function hy(){return an}function fy(){return an=On>0?kn(Li,--On):0,Ni--,an===10&&(Ni=1,$r--),an}function Dn(){return an=On<Zu?kn(Li,On++):0,Ni++,an===10&&(Ni=1,$r++),an}function Jn(){return kn(Li,On)}function Jr(){return On}function or(F,D){return ir(Li,F,D)}function sr(F){switch(F){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Ju(F){return $r=Ni=1,Zu=Zn(Li=F),On=0,[]}function Qu(F){return Li="",F}function Ms(F){return Ku(or(On-1,Bs(F===91?F+2:F===40?F+1:F)))}function py(F){for(;(an=Jn())&&an<33;)Dn();return sr(F)>2||sr(an)>3?"":" "}function gy(F,D){for(;--D&&Dn()&&!(an<48||an>102||an>57&&an<65||an>70&&an<97););return or(F,Jr()+(D<6&&Jn()==32&&Dn()==32))}function Bs(F){for(;Dn();)switch(an){case F:return On;case 34:case 39:return Bs(F===34||F===39?F:an);case 40:F===41&&Bs(F);break;case 92:Dn();break}return On}function my(F,D){for(;Dn()&&F+an!==47+10&&!(F+an===42+42&&Jn()===47););return"/*"+or(D,On-1)+"*"+Yr(F===47?F:Dn())}function vy(F){for(;!sr(Jn());)Dn();return or(F,On)}function yy(F){return Qu(Qr("",null,null,null,[""],F=Ju(F),0,[0],F))}function Qr(F,D,q,G,X,Q,ne,se,de){for(var he=0,ue=0,be=ne,Ee=0,Oe=0,De=0,Ge=1,We=1,tt=1,at=0,At="",xt=X,bt=Q,Pt=G,Et=At;We;)switch(De=at,at=Dn()){case 34:case 39:case 91:case 40:Et+=Ms(at);break;case 9:case 10:case 13:case 32:Et+=py(De);break;case 92:Et+=gy(Jr()-1,7);continue;case 47:switch(Jn()){case 42:case 47:Kr(by(my(Dn(),Jr()),D,q),de);break;default:Et+="/"}break;case 123*Ge:se[he++]=Zn(Et)*tt;case 125*Ge:case 59:case 0:switch(at){case 0:case 125:We=0;case 59+ue:Oe>0&&Zn(Et)-be&&Kr(Oe>32?tc(Et+";",G,q,be-1):tc(Ut(Et," ","")+";",G,q,be-2),de);break;case 59:Et+=";";default:if(Kr(Pt=ec(Et,D,q,he,ue,X,se,At,xt=[],bt=[],be),Q),at===123)if(ue===0)Qr(Et,D,Pt,Pt,xt,Q,be,se,bt);else switch(Ee){case 100:case 109:case 115:Qr(F,Pt,Pt,G&&Kr(ec(F,Pt,Pt,0,0,X,se,At,X,xt=[],be),bt),X,bt,be,se,G?xt:bt);break;default:Qr(Et,Pt,Pt,Pt,[""],bt,be,se,bt)}}he=ue=Oe=0,Ge=tt=1,At=Et="",be=ne;break;case 58:be=1+Zn(Et),Oe=De;default:if(Ge<1){if(at==123)--Ge;else if(at==125&&Ge++==0&&fy()==125)continue}switch(Et+=Yr(at),at*Ge){case 38:tt=ue>0?1:(Et+="\f",-1);break;case 44:se[he++]=(Zn(Et)-1)*tt,tt=1;break;case 64:Jn()===45&&(Et+=Ms(Dn())),Ee=Jn(),ue=Zn(At=Et+=vy(Jr())),at++;break;case 45:De===45&&Zn(Et)==2&&(Ge=0)}}return Q}function ec(F,D,q,G,X,Q,ne,se,de,he,ue){for(var be=X-1,Ee=X===0?Q:[""],Oe=Rs(Ee),De=0,Ge=0,We=0;De<G;++De)for(var tt=0,at=ir(F,be+1,be=ly(Ge=ne[De])),At=F;tt<Oe;++tt)(At=Ku(Ge>0?Ee[tt]+" "+at:Ut(at,/&\f/g,Ee[tt])))&&(de[We++]=At);return Zr(F,D,q,X===0?ks:se,de,he,ue)}function by(F,D,q){return Zr(F,D,q,Yu,Yr(hy()),ir(F,2,-2),0)}function tc(F,D,q,G){return Zr(F,D,q,Os,ir(F,0,G),ir(F,G+1,-1),G)}function nc(F,D){switch(uy(F,D)){case 5103:return Vt+"print-"+F+F;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Vt+F+F;case 5349:case 4246:case 4810:case 6968:case 2756:return Vt+F+Xr+F+Sn+F+F;case 6828:case 4268:return Vt+F+Sn+F+F;case 6165:return Vt+F+Sn+"flex-"+F+F;case 5187:return Vt+F+Ut(F,/(\w+).+(:[^]+)/,Vt+"box-$1$2"+Sn+"flex-$1$2")+F;case 5443:return Vt+F+Sn+"flex-item-"+Ut(F,/flex-|-self/,"")+F;case 4675:return Vt+F+Sn+"flex-line-pack"+Ut(F,/align-content|flex-|-self/,"")+F;case 5548:return Vt+F+Sn+Ut(F,"shrink","negative")+F;case 5292:return Vt+F+Sn+Ut(F,"basis","preferred-size")+F;case 6060:return Vt+"box-"+Ut(F,"-grow","")+Vt+F+Sn+Ut(F,"grow","positive")+F;case 4554:return Vt+Ut(F,/([^-])(transform)/g,"$1"+Vt+"$2")+F;case 6187:return Ut(Ut(Ut(F,/(zoom-|grab)/,Vt+"$1"),/(image-set)/,Vt+"$1"),F,"")+F;case 5495:case 3959:return Ut(F,/(image-set\([^]*)/,Vt+"$1$`$1");case 4968:return Ut(Ut(F,/(.+:)(flex-)?(.*)/,Vt+"box-pack:$3"+Sn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Vt+F+F;case 4095:case 3583:case 4068:case 2532:return Ut(F,/(.+)-inline(.+)/,Vt+"$1$2")+F;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Zn(F)-1-D>6)switch(kn(F,D+1)){case 109:if(kn(F,D+4)!==45)break;case 102:return Ut(F,/(.+:)(.+)-([^]+)/,"$1"+Vt+"$2-$3$1"+Xr+(kn(F,D+3)==108?"$3":"$2-$3"))+F;case 115:return~$u(F,"stretch")?nc(Ut(F,"stretch","fill-available"),D)+F:F}break;case 4949:if(kn(F,D+1)!==115)break;case 6444:switch(kn(F,Zn(F)-3-(~$u(F,"!important")&&10))){case 107:return Ut(F,":",":"+Vt)+F;case 101:return Ut(F,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Vt+(kn(F,14)===45?"inline-":"")+"box$3$1"+Vt+"$2$3$1"+Sn+"$2box$3")+F}break;case 5936:switch(kn(F,D+11)){case 114:return Vt+F+Sn+Ut(F,/[svh]\w+-[tblr]{2}/,"tb")+F;case 108:return Vt+F+Sn+Ut(F,/[svh]\w+-[tblr]{2}/,"tb-rl")+F;case 45:return Vt+F+Sn+Ut(F,/[svh]\w+-[tblr]{2}/,"lr")+F}return Vt+F+Sn+F+F}return F}function ar(F,D){for(var q="",G=Rs(F),X=0;X<G;X++)q+=D(F[X],X,F,D)||"";return q}function wy(F,D,q,G){switch(F.type){case sy:case Os:return F.return=F.return||F.value;case Yu:return"";case ks:F.value=F.props.join(",")}return Zn(q=ar(F.children,G))?F.return=F.value+"{"+q+"}":""}function _y(F){var D=Rs(F);return function(q,G,X,Q){for(var ne="",se=0;se<D;se++)ne+=F[se](q,G,X,Q)||"";return ne}}function xy(F){return function(D){D.root||(D=D.return)&&F(D)}}function Ey(F,D,q,G){if(!F.return)switch(F.type){case Os:F.return=nc(F.value,F.length);break;case ay:return ar([rr(Ut(F.value,"@","@"+Vt),F,"")],G);case ks:if(F.length)return dy(F.props,function(X){switch(cy(X,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return ar([rr(Ut(X,/:(read-\w+)/,":"+Xr+"$1"),F,"")],G);case"::placeholder":return ar([rr(Ut(X,/:(plac\w+)/,":"+Vt+"input-$1"),F,""),rr(Ut(X,/:(plac\w+)/,":"+Xr+"$1"),F,""),rr(Ut(X,/:(plac\w+)/,Sn+"input-$1"),F,"")],G)}return""})}}function Sy(F){var D=Object.create(null);return function(q){return D[q]===void 0&&(D[q]=F(q)),D[q]}}var Cy=function(F,D,q){for(var G=0,X=0;G=X,X=Jn(),G===38&&X===12&&(D[q]=1),!sr(X);)Dn();return or(F,On)},Ty=function(F,D){var q=-1,G=44;do switch(sr(G)){case 0:G===38&&Jn()===12&&(D[q]=1),F[q]+=Cy(On-1,D,q);break;case 2:F[q]+=Ms(G);break;case 4:if(G===44){F[++q]=Jn()===58?"&\f":"",D[q]=F[q].length;break}default:F[q]+=Yr(G)}while(G=Dn());return F},Ay=function(F,D){return Qu(Ty(Ju(F),D))},ic=new WeakMap,Py=function(F){if(!(F.type!=="rule"||!F.parent||!F.length)){for(var D=F.value,q=F.parent,G=F.column===q.column&&F.line===q.line;q.type!=="rule";)if(q=q.parent,!q)return;if(!(F.props.length===1&&D.charCodeAt(0)!==58&&!ic.get(q))&&!G){ic.set(F,!0);for(var X=[],Q=Ay(D,X),ne=q.props,se=0,de=0;se<Q.length;se++)for(var he=0;he<ne.length;he++,de++)F.props[de]=X[se]?Q[se].replace(/&\f/g,ne[he]):ne[he]+" "+Q[se]}}},ky=function(F){if(F.type==="decl"){var D=F.value;D.charCodeAt(0)===108&&D.charCodeAt(2)===98&&(F.return="",F.value="")}},Oy=[Ey],Ry=function(F){var D=F.key;if(D==="css"){var q=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(q,function(De){var Ge=De.getAttribute("data-emotion");Ge.indexOf(" ")!==-1&&(document.head.appendChild(De),De.setAttribute("data-s",""))})}var G=F.stylisPlugins||Oy,X={},Q,ne=[];Q=F.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+D+' "]'),function(De){for(var Ge=De.getAttribute("data-emotion").split(" "),We=1;We<Ge.length;We++)X[Ge[We]]=!0;ne.push(De)});var se,de=[Py,ky];{var he,ue=[wy,xy(function(De){he.insert(De)})],be=_y(de.concat(G,ue)),Ee=function(De){return ar(yy(De),be)};se=function(De,Ge,We,tt){he=We,Ee(De?De+"{"+Ge.styles+"}":Ge.styles),tt&&(Oe.inserted[Ge.name]=!0)}}var Oe={key:D,sheet:new oy({key:D,container:Q,nonce:F.nonce,speedy:F.speedy,prepend:F.prepend,insertionPoint:F.insertionPoint}),nonce:F.nonce,inserted:X,registered:{},insert:se};return Oe.sheet.hydrate(ne),Oe},rc={exports:{}},Wt={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var gn=typeof Symbol=="function"&&Symbol.for,Fs=gn?Symbol.for("react.element"):60103,Ds=gn?Symbol.for("react.portal"):60106,eo=gn?Symbol.for("react.fragment"):60107,to=gn?Symbol.for("react.strict_mode"):60108,no=gn?Symbol.for("react.profiler"):60114,io=gn?Symbol.for("react.provider"):60109,ro=gn?Symbol.for("react.context"):60110,Is=gn?Symbol.for("react.async_mode"):60111,oo=gn?Symbol.for("react.concurrent_mode"):60111,so=gn?Symbol.for("react.forward_ref"):60112,ao=gn?Symbol.for("react.suspense"):60113,My=gn?Symbol.for("react.suspense_list"):60120,lo=gn?Symbol.for("react.memo"):60115,uo=gn?Symbol.for("react.lazy"):60116,By=gn?Symbol.for("react.block"):60121,Fy=gn?Symbol.for("react.fundamental"):60117,Dy=gn?Symbol.for("react.responder"):60118,Iy=gn?Symbol.for("react.scope"):60119;function In(F){if(typeof F=="object"&&F!==null){var D=F.$$typeof;switch(D){case Fs:switch(F=F.type,F){case Is:case oo:case eo:case no:case to:case ao:return F;default:switch(F=F&&F.$$typeof,F){case ro:case so:case uo:case lo:case io:return F;default:return D}}case Ds:return D}}}function oc(F){return In(F)===oo}Wt.AsyncMode=Is,Wt.ConcurrentMode=oo,Wt.ContextConsumer=ro,Wt.ContextProvider=io,Wt.Element=Fs,Wt.ForwardRef=so,Wt.Fragment=eo,Wt.Lazy=uo,Wt.Memo=lo,Wt.Portal=Ds,Wt.Profiler=no,Wt.StrictMode=to,Wt.Suspense=ao,Wt.isAsyncMode=function(F){return oc(F)||In(F)===Is},Wt.isConcurrentMode=oc,Wt.isContextConsumer=function(F){return In(F)===ro},Wt.isContextProvider=function(F){return In(F)===io},Wt.isElement=function(F){return typeof F=="object"&&F!==null&&F.$$typeof===Fs},Wt.isForwardRef=function(F){return In(F)===so},Wt.isFragment=function(F){return In(F)===eo},Wt.isLazy=function(F){return In(F)===uo},Wt.isMemo=function(F){return In(F)===lo},Wt.isPortal=function(F){return In(F)===Ds},Wt.isProfiler=function(F){return In(F)===no},Wt.isStrictMode=function(F){return In(F)===to},Wt.isSuspense=function(F){return In(F)===ao},Wt.isValidElementType=function(F){return typeof F=="string"||typeof F=="function"||F===eo||F===oo||F===no||F===to||F===ao||F===My||typeof F=="object"&&F!==null&&(F.$$typeof===uo||F.$$typeof===lo||F.$$typeof===io||F.$$typeof===ro||F.$$typeof===so||F.$$typeof===Fy||F.$$typeof===Dy||F.$$typeof===Iy||F.$$typeof===By)},Wt.typeOf=In,rc.exports=Wt;var sc=rc.exports,Ny={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ly={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ac={};ac[sc.ForwardRef]=Ny,ac[sc.Memo]=Ly;var Hy=!0;function lc(F,D,q){var G="";return q.split(" ").forEach(function(X){F[X]!==void 0?D.push(F[X]+";"):G+=X+" "}),G}var uc=function(F,D,q){var G=F.key+"-"+D.name;if((q===!1||Hy===!1)&&F.registered[G]===void 0&&(F.registered[G]=D.styles),F.inserted[D.name]===void 0){var X=D;do F.insert(D===X?"."+G:"",X,F.sheet,!0),X=X.next;while(X!==void 0)}};function zy(F){for(var D=0,q,G=0,X=F.length;X>=4;++G,X-=4)q=F.charCodeAt(G)&255|(F.charCodeAt(++G)&255)<<8|(F.charCodeAt(++G)&255)<<16|(F.charCodeAt(++G)&255)<<24,q=(q&65535)*1540483477+((q>>>16)*59797<<16),q^=q>>>24,D=(q&65535)*1540483477+((q>>>16)*59797<<16)^(D&65535)*1540483477+((D>>>16)*59797<<16);switch(X){case 3:D^=(F.charCodeAt(G+2)&255)<<16;case 2:D^=(F.charCodeAt(G+1)&255)<<8;case 1:D^=F.charCodeAt(G)&255,D=(D&65535)*1540483477+((D>>>16)*59797<<16)}return D^=D>>>13,D=(D&65535)*1540483477+((D>>>16)*59797<<16),((D^D>>>15)>>>0).toString(36)}var Vy={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jy=/[A-Z]|^ms/g,Uy=/_EMO_([^_]+?)_([^]*?)_EMO_/g,cc=function(F){return F.charCodeAt(1)===45},dc=function(F){return F!=null&&typeof F!="boolean"},Ns=Sy(function(F){return cc(F)?F:F.replace(jy,"-$&").toLowerCase()}),hc=function(F,D){switch(F){case"animation":case"animationName":if(typeof D=="string")return D.replace(Uy,function(q,G,X){return Qn={name:G,styles:X,next:Qn},G})}return Vy[F]!==1&&!cc(F)&&typeof D=="number"&&D!==0?D+"px":D};function lr(F,D,q){if(q==null)return"";if(q.__emotion_styles!==void 0)return q;switch(typeof q){case"boolean":return"";case"object":{if(q.anim===1)return Qn={name:q.name,styles:q.styles,next:Qn},q.name;if(q.styles!==void 0){var G=q.next;if(G!==void 0)for(;G!==void 0;)Qn={name:G.name,styles:G.styles,next:Qn},G=G.next;var X=q.styles+";";return X}return Wy(F,D,q)}case"function":{if(F!==void 0){var Q=Qn,ne=q(F);return Qn=Q,lr(F,D,ne)}break}}if(D==null)return q;var se=D[q];return se!==void 0?se:q}function Wy(F,D,q){var G="";if(Array.isArray(q))for(var X=0;X<q.length;X++)G+=lr(F,D,q[X])+";";else for(var Q in q){var ne=q[Q];if(typeof ne!="object")D!=null&&D[ne]!==void 0?G+=Q+"{"+D[ne]+"}":dc(ne)&&(G+=Ns(Q)+":"+hc(Q,ne)+";");else if(Array.isArray(ne)&&typeof ne[0]=="string"&&(D==null||D[ne[0]]===void 0))for(var se=0;se<ne.length;se++)dc(ne[se])&&(G+=Ns(Q)+":"+hc(Q,ne[se])+";");else{var de=lr(F,D,ne);switch(Q){case"animation":case"animationName":{G+=Ns(Q)+":"+de+";";break}default:G+=Q+"{"+de+"}"}}}return G}var fc=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Qn,Ls=function(F,D,q){if(F.length===1&&typeof F[0]=="object"&&F[0]!==null&&F[0].styles!==void 0)return F[0];var G=!0,X="";Qn=void 0;var Q=F[0];Q==null||Q.raw===void 0?(G=!1,X+=lr(q,D,Q)):X+=Q[0];for(var ne=1;ne<F.length;ne++)X+=lr(q,D,F[ne]),G&&(X+=Q[ne]);fc.lastIndex=0;for(var se="",de;(de=fc.exec(X))!==null;)se+="-"+de[1];var he=zy(X)+se;return{name:he,styles:X,next:Qn}},Hs={}.hasOwnProperty,pc=Ne(typeof HTMLElement<"u"?Ry({key:"css"}):null);pc.Provider;var gc=function(F){return en(function(D,q){var G=Qe(pc);return F(D,G,q)})},mc=Ne({}),zs="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qy=function(F,D){var q={};for(var G in D)Hs.call(D,G)&&(q[G]=D[G]);return q[zs]=F,q},Gy=function(){return null},Xy=gc(function(F,D,q){var G=F.css;typeof G=="string"&&D.registered[G]!==void 0&&(G=D.registered[G]);var X=F[zs],Q=[G],ne="";typeof F.className=="string"?ne=lc(D.registered,Q,F.className):F.className!=null&&(ne=F.className+" ");var se=Ls(Q,void 0,Qe(mc));uc(D,se,typeof X=="string"),ne+=D.key+"-"+se.name;var de={};for(var he in F)Hs.call(F,he)&&he!=="css"&&he!==zs&&(de[he]=F[he]);de.ref=q,de.className=ne;var ue=Fe(X,de),be=Fe(Gy,null);return Fe(St,null,be,ue)}),Tt=function(F,D){var q=arguments;if(D==null||!Hs.call(D,"css"))return Fe.apply(void 0,q);var G=q.length,X=new Array(G);X[0]=Xy,X[1]=qy(F,D);for(var Q=2;Q<G;Q++)X[Q]=q[Q];return Fe.apply(null,X)};function Vs(){for(var F=arguments.length,D=new Array(F),q=0;q<F;q++)D[q]=arguments[q];return Ls(D)}var Yy=function(){var F=Vs.apply(void 0,arguments),D="animation-"+F.name;return{name:D,styles:"@keyframes "+D+"{"+F.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Ky=function F(D){for(var q=D.length,G=0,X="";G<q;G++){var Q=D[G];if(Q!=null){var ne=void 0;switch(typeof Q){case"boolean":break;case"object":{if(Array.isArray(Q))ne=F(Q);else{ne="";for(var se in Q)Q[se]&&se&&(ne&&(ne+=" "),ne+=se)}break}default:ne=Q}ne&&(X&&(X+=" "),X+=ne)}}return X};function $y(F,D,q){var G=[],X=lc(F,G,q);return G.length<2?q:X+D(G)}var Zy=function(){return null},Jy=gc(function(F,D){var q=function(){for(var se=arguments.length,de=new Array(se),he=0;he<se;he++)de[he]=arguments[he];var ue=Ls(de,D.registered);return uc(D,ue,!1),D.key+"-"+ue.name},G=function(){for(var se=arguments.length,de=new Array(se),he=0;he<se;he++)de[he]=arguments[he];return $y(D.registered,q,Ky(de))},X={css:q,cx:G,theme:Qe(mc)},Q=F.children(X),ne=Fe(Zy,null);return Fe(St,null,ne,Q)});function Qy(F,D){return D||(D=F.slice(0)),Object.freeze(Object.defineProperties(F,{raw:{value:Object.freeze(D)}}))}function js(F,D){if(F==null)return{};var q={},G=Object.keys(F),X,Q;for(Q=0;Q<G.length;Q++)X=G[Q],!(D.indexOf(X)>=0)&&(q[X]=F[X]);return q}function Hi(F,D){if(F==null)return{};var q=js(F,D),G,X;if(Object.getOwnPropertySymbols){var Q=Object.getOwnPropertySymbols(F);for(X=0;X<Q.length;X++)G=Q[X],!(D.indexOf(G)>=0)&&(!Object.prototype.propertyIsEnumerable.call(F,G)||(q[G]=F[G]))}return q}function co(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?co=function(D){return typeof D}:co=function(D){return D&&typeof Symbol=="function"&&D.constructor===Symbol&&D!==Symbol.prototype?"symbol":typeof D},co(F)}var vc={};Object.defineProperty(vc,"__esModule",{value:!0});var Us=Object.assign||function(F){for(var D=1;D<arguments.length;D++){var q=arguments[D];for(var G in q)Object.prototype.hasOwnProperty.call(q,G)&&(F[G]=q[G])}return F},yc=function(){function F(D,q){for(var G=0;G<q.length;G++){var X=q[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(D,X.key,X)}}return function(D,q,G){return q&&F(D.prototype,q),G&&F(D,G),D}}(),bc=Pi,ur=wc(bc),eb=Xi.exports,dn=wc(eb);function wc(F){return F&&F.__esModule?F:{default:F}}function tb(F,D){var q={};for(var G in F)D.indexOf(G)>=0||!Object.prototype.hasOwnProperty.call(F,G)||(q[G]=F[G]);return q}function nb(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function ib(F,D){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D&&(typeof D=="object"||typeof D=="function")?D:F}function rb(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(F,D):F.__proto__=D)}var _c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},ob=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],sb=function(F){return ob.forEach(function(D){return delete F[D]}),F},xc=function(F,D){D.style.fontSize=F.fontSize,D.style.fontFamily=F.fontFamily,D.style.fontWeight=F.fontWeight,D.style.fontStyle=F.fontStyle,D.style.letterSpacing=F.letterSpacing,D.style.textTransform=F.textTransform},Ec=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,Sc=function(){return Ec?"_"+Math.random().toString(36).substr(2,12):void 0},Ws=function(F){rb(D,F),yc(D,null,[{key:"getDerivedStateFromProps",value:function(q,G){var X=q.id;return X!==G.prevId?{inputId:X||Sc(),prevId:X}:null}}]);function D(q){nb(this,D);var G=ib(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,q));return G.inputRef=function(X){G.input=X,typeof G.props.inputRef=="function"&&G.props.inputRef(X)},G.placeHolderSizerRef=function(X){G.placeHolderSizer=X},G.sizerRef=function(X){G.sizer=X},G.state={inputWidth:q.minWidth,inputId:q.id||Sc(),prevId:q.id},G}return yc(D,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(q,G){G.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var q=this.input&&window.getComputedStyle(this.input);!q||(xc(q,this.sizer),this.placeHolderSizer&&xc(q,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var q=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?q=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:q=this.sizer.scrollWidth+2;var G=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;q+=G,q<this.props.minWidth&&(q=this.props.minWidth),q!==this.state.inputWidth&&this.setState({inputWidth:q})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var q=this.props.injectStyles;return Ec&&q?ur.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var q=[this.props.defaultValue,this.props.value,""].reduce(function(ne,se){return ne!=null?ne:se}),G=Us({},this.props.style);G.display||(G.display="inline-block");var X=Us({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),Q=tb(this.props,[]);return sb(Q),Q.className=this.props.inputClassName,Q.id=this.state.inputId,Q.style=X,ur.default.createElement("div",{className:this.props.className,style:G},this.renderStyles(),ur.default.createElement("input",Us({},Q,{ref:this.inputRef})),ur.default.createElement("div",{ref:this.sizerRef,style:_c},q),this.props.placeholder?ur.default.createElement("div",{ref:this.placeHolderSizerRef,style:_c},this.props.placeholder):null)}}]),D}(bc.Component);Ws.propTypes={className:dn.default.string,defaultValue:dn.default.any,extraWidth:dn.default.oneOfType([dn.default.number,dn.default.string]),id:dn.default.string,injectStyles:dn.default.bool,inputClassName:dn.default.string,inputRef:dn.default.func,inputStyle:dn.default.object,minWidth:dn.default.oneOfType([dn.default.number,dn.default.string]),onAutosize:dn.default.func,onChange:dn.default.func,placeholder:dn.default.string,placeholderIsMinWidth:dn.default.bool,style:dn.default.object,value:dn.default.any},Ws.defaultProps={minWidth:1,injectStyles:!0};var ab=vc.default=Ws;function ho(F,D){if(!(F instanceof D))throw new TypeError("Cannot call a class as a function")}function Cc(F,D){for(var q=0;q<D.length;q++){var G=D[q];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(F,G.key,G)}}function fo(F,D,q){return D&&Cc(F.prototype,D),q&&Cc(F,q),F}function po(F,D){return po=Object.setPrototypeOf||function(q,G){return q.__proto__=G,q},po(F,D)}function go(F,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(D&&D.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),D&&po(F,D)}function ni(F,D,q){return D in F?Object.defineProperty(F,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[D]=q,F}function lb(F,D,q){return D in F?Object.defineProperty(F,D,{value:q,enumerable:!0,configurable:!0,writable:!0}):F[D]=q,F}function Tc(F,D){var q=Object.keys(F);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(F);D&&(G=G.filter(function(X){return Object.getOwnPropertyDescriptor(F,X).enumerable})),q.push.apply(q,G)}return q}function vn(F){for(var D=1;D<arguments.length;D++){var q=arguments[D]!=null?arguments[D]:{};D%2?Tc(Object(q),!0).forEach(function(G){lb(F,G,q[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(F,Object.getOwnPropertyDescriptors(q)):Tc(Object(q)).forEach(function(G){Object.defineProperty(F,G,Object.getOwnPropertyDescriptor(q,G))})}return F}function mo(F){return mo=Object.setPrototypeOf?Object.getPrototypeOf:function(D){return D.__proto__||Object.getPrototypeOf(D)},mo(F)}function ub(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function cb(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function db(F,D){return D&&(typeof D=="object"||typeof D=="function")?D:cb(F)}function vo(F){var D=ub();return function(){var q=mo(F),G;if(D){var X=mo(this).constructor;G=Reflect.construct(q,arguments,X)}else G=q.apply(this,arguments);return db(this,G)}}var yo=function(){};function hb(F,D){return D?D[0]==="-"?F+D:F+"__"+D:F}function fb(F,D,q){var G=[q];if(D&&F)for(var X in D)D.hasOwnProperty(X)&&D[X]&&G.push("".concat(hb(F,X)));return G.filter(function(Q){return Q}).map(function(Q){return String(Q).trim()}).join(" ")}var Ac=function(F){return Array.isArray(F)?F.filter(Boolean):co(F)==="object"&&F!==null?[F]:[]},Pc=function(F){F.className,F.clearValue,F.cx,F.getStyles,F.getValue,F.hasValue,F.isMulti,F.isRtl,F.options,F.selectOption,F.selectProps,F.setValue,F.theme;var D=Hi(F,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return vn({},D)};function qs(F){return[document.documentElement,document.body,window].indexOf(F)>-1}function kc(F){return qs(F)?window.pageYOffset:F.scrollTop}function bo(F,D){if(qs(F)){window.scrollTo(0,D);return}F.scrollTop=D}function pb(F){var D=getComputedStyle(F),q=D.position==="absolute",G=/(auto|scroll)/,X=document.documentElement;if(D.position==="fixed")return X;for(var Q=F;Q=Q.parentElement;)if(D=getComputedStyle(Q),!(q&&D.position==="static")&&G.test(D.overflow+D.overflowY+D.overflowX))return Q;return X}function gb(F,D,q,G){return q*((F=F/G-1)*F*F+1)+D}function wo(F,D){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,G=arguments.length>3&&arguments[3]!==void 0?arguments[3]:yo,X=kc(F),Q=D-X,ne=10,se=0;function de(){se+=ne;var he=gb(se,X,Q,q);bo(F,he),se<q?window.requestAnimationFrame(de):G(F)}de()}function mb(F,D){var q=F.getBoundingClientRect(),G=D.getBoundingClientRect(),X=D.offsetHeight/3;G.bottom+X>q.bottom?bo(F,Math.min(D.offsetTop+D.clientHeight-F.offsetHeight+X,F.scrollHeight)):G.top-X<q.top&&bo(F,Math.max(D.offsetTop-X,0))}function vb(F){var D=F.getBoundingClientRect();return{bottom:D.bottom,height:D.height,left:D.left,right:D.right,top:D.top,width:D.width}}function Oc(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function yb(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var Rc=!1,bb={get passive(){return Rc=!0}},_o=typeof window<"u"?window:{};_o.addEventListener&&_o.removeEventListener&&(_o.addEventListener("p",yo,bb),_o.removeEventListener("p",yo,!1));var wb=Rc;function _b(F){var D=F.maxHeight,q=F.menuEl,G=F.minHeight,X=F.placement,Q=F.shouldScroll,ne=F.isFixedPosition,se=F.theme,de=se.spacing,he=pb(q),ue={placement:"bottom",maxHeight:D};if(!q||!q.offsetParent)return ue;var be=he.getBoundingClientRect(),Ee=be.height,Oe=q.getBoundingClientRect(),De=Oe.bottom,Ge=Oe.height,We=Oe.top,tt=q.offsetParent.getBoundingClientRect(),at=tt.top,At=window.innerHeight,xt=kc(he),bt=parseInt(getComputedStyle(q).marginBottom,10),Pt=parseInt(getComputedStyle(q).marginTop,10),Et=at-Pt,Zt=At-We,Qt=Et+xt,Gt=Ee-xt-We,Xt=De-At+xt+bt,zn=xt+We-Pt,An=160;switch(X){case"auto":case"bottom":if(Zt>=Ge)return{placement:"bottom",maxHeight:D};if(Gt>=Ge&&!ne)return Q&&wo(he,Xt,An),{placement:"bottom",maxHeight:D};if(!ne&&Gt>=G||ne&&Zt>=G){Q&&wo(he,Xt,An);var ri=ne?Zt-bt:Gt-bt;return{placement:"bottom",maxHeight:ri}}if(X==="auto"||ne){var Vn=D,Xn=ne?Et:Qt;return Xn>=G&&(Vn=Math.min(Xn-bt-de.controlHeight,D)),{placement:"top",maxHeight:Vn}}if(X==="bottom")return Q&&bo(he,Xt),{placement:"bottom",maxHeight:D};break;case"top":if(Et>=Ge)return{placement:"top",maxHeight:D};if(Qt>=Ge&&!ne)return Q&&wo(he,zn,An),{placement:"top",maxHeight:D};if(!ne&&Qt>=G||ne&&Et>=G){var bn=D;return(!ne&&Qt>=G||ne&&Et>=G)&&(bn=ne?Et-Pt:Qt-Pt),Q&&wo(he,zn,An),{placement:"top",maxHeight:bn}}return{placement:"bottom",maxHeight:D};default:throw new Error('Invalid placement provided "'.concat(X,'".'))}return ue}function xb(F){var D={bottom:"top",top:"bottom"};return F?D[F]:"bottom"}var Gs=function(F){return F==="auto"?"bottom":F},Eb=function(F){var D,q=F.placement,G=F.theme,X=G.borderRadius,Q=G.spacing,ne=G.colors;return D={label:"menu"},ni(D,xb(q),"100%"),ni(D,"backgroundColor",ne.neutral0),ni(D,"borderRadius",X),ni(D,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ni(D,"marginBottom",Q.menuGutter),ni(D,"marginTop",Q.menuGutter),ni(D,"position","absolute"),ni(D,"width","100%"),ni(D,"zIndex",1),D},Mc=Ne({getPortalPlacement:null}),Bc=function(F){go(q,F);var D=vo(q);function q(){var G;ho(this,q);for(var X=arguments.length,Q=new Array(X),ne=0;ne<X;ne++)Q[ne]=arguments[ne];return G=D.call.apply(D,[this].concat(Q)),G.state={maxHeight:G.props.maxMenuHeight,placement:null},G.getPlacement=function(se){var de=G.props,he=de.minMenuHeight,ue=de.maxMenuHeight,be=de.menuPlacement,Ee=de.menuPosition,Oe=de.menuShouldScrollIntoView,De=de.theme;if(se){var Ge=Ee==="fixed",We=Oe&&!Ge,tt=_b({maxHeight:ue,menuEl:se,minHeight:he,placement:be,shouldScroll:We,isFixedPosition:Ge,theme:De}),at=G.context.getPortalPlacement;at&&at(tt),G.setState(tt)}},G.getUpdatedProps=function(){var se=G.props.menuPlacement,de=G.state.placement||Gs(se);return vn(vn({},G.props),{},{placement:de,maxHeight:G.state.maxHeight})},G}return fo(q,[{key:"render",value:function(){var G=this.props.children;return G({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),q}(gt);Bc.contextType=Mc;var Sb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerRef,ne=F.innerProps;return Tt("div",Ct({css:X("menu",F),className:G({menu:!0},q),ref:Q},ne),D)},Cb=function(F){var D=F.maxHeight,q=F.theme.spacing.baseUnit;return{maxHeight:D,overflowY:"auto",paddingBottom:q,paddingTop:q,position:"relative",WebkitOverflowScrolling:"touch"}},Tb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps,ne=F.innerRef,se=F.isMulti;return Tt("div",Ct({css:X("menuList",F),className:G({"menu-list":!0,"menu-list--is-multi":se},q),ref:ne},Q),D)},Fc=function(F){var D=F.theme,q=D.spacing.baseUnit,G=D.colors;return{color:G.neutral40,padding:"".concat(q*2,"px ").concat(q*3,"px"),textAlign:"center"}},Ab=Fc,Pb=Fc,Dc=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps;return Tt("div",Ct({css:X("noOptionsMessage",F),className:G({"menu-notice":!0,"menu-notice--no-options":!0},q)},Q),D)};Dc.defaultProps={children:"No options"};var Ic=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps;return Tt("div",Ct({css:X("loadingMessage",F),className:G({"menu-notice":!0,"menu-notice--loading":!0},q)},Q),D)};Ic.defaultProps={children:"Loading..."};var kb=function(F){var D=F.rect,q=F.offset,G=F.position;return{left:D.left,position:G,top:q,width:D.width,zIndex:1}},Ob=function(F){go(q,F);var D=vo(q);function q(){var G;ho(this,q);for(var X=arguments.length,Q=new Array(X),ne=0;ne<X;ne++)Q[ne]=arguments[ne];return G=D.call.apply(D,[this].concat(Q)),G.state={placement:null},G.getPortalPlacement=function(se){var de=se.placement,he=Gs(G.props.menuPlacement);de!==he&&G.setState({placement:de})},G}return fo(q,[{key:"render",value:function(){var G=this.props,X=G.appendTo,Q=G.children,ne=G.className,se=G.controlElement,de=G.cx,he=G.innerProps,ue=G.menuPlacement,be=G.menuPosition,Ee=G.getStyles,Oe=be==="fixed";if(!X&&!Oe||!se)return null;var De=this.state.placement||Gs(ue),Ge=vb(se),We=Oe?0:window.pageYOffset,tt=Ge[De]+We,at={offset:tt,position:be,rect:Ge},At=Tt("div",Ct({css:Ee("menuPortal",at),className:de({"menu-portal":!0},ne)},he),Q);return Tt(Mc.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},X?wr(At,X):At)}}]),q}(gt),Rb=function(F){var D=F.isDisabled,q=F.isRtl;return{label:"container",direction:q?"rtl":null,pointerEvents:D?"none":null,position:"relative"}},Mb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps,ne=F.isDisabled,se=F.isRtl;return Tt("div",Ct({css:X("container",F),className:G({"--is-disabled":ne,"--is-rtl":se},q)},Q),D)},Bb=function(F){var D=F.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(D.baseUnit/2,"px ").concat(D.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},Fb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.innerProps,Q=F.isMulti,ne=F.getStyles,se=F.hasValue;return Tt("div",Ct({css:ne("valueContainer",F),className:G({"value-container":!0,"value-container--is-multi":Q,"value-container--has-value":se},q)},X),D)},Db=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Ib=function(F){var D=F.children,q=F.className,G=F.cx,X=F.innerProps,Q=F.getStyles;return Tt("div",Ct({css:Q("indicatorsContainer",F),className:G({indicators:!0},q)},X),D)},Nc,Nb={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Lc=function(F){var D=F.size,q=Hi(F,["size"]);return Tt("svg",Ct({height:D,width:D,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Nb},q))},Xs=function(F){return Tt(Lc,Ct({size:20},F),Tt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Hc=function(F){return Tt(Lc,Ct({size:20},F),Tt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},zc=function(F){var D=F.isFocused,q=F.theme,G=q.spacing.baseUnit,X=q.colors;return{label:"indicatorContainer",color:D?X.neutral60:X.neutral20,display:"flex",padding:G*2,transition:"color 150ms",":hover":{color:D?X.neutral80:X.neutral40}}},Lb=zc,Hb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps;return Tt("div",Ct({css:X("dropdownIndicator",F),className:G({indicator:!0,"dropdown-indicator":!0},q)},Q),D||Tt(Hc,null))},zb=zc,Vb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps;return Tt("div",Ct({css:X("clearIndicator",F),className:G({indicator:!0,"clear-indicator":!0},q)},Q),D||Tt(Xs,null))},jb=function(F){var D=F.isDisabled,q=F.theme,G=q.spacing.baseUnit,X=q.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:D?X.neutral10:X.neutral20,marginBottom:G*2,marginTop:G*2,width:1}},Ub=function(F){var D=F.className,q=F.cx,G=F.getStyles,X=F.innerProps;return Tt("span",Ct({},X,{css:G("indicatorSeparator",F),className:q({"indicator-separator":!0},D)}))},Wb=Yy(Nc||(Nc=Qy([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),qb=function(F){var D=F.isFocused,q=F.size,G=F.theme,X=G.colors,Q=G.spacing.baseUnit;return{label:"loadingIndicator",color:D?X.neutral60:X.neutral20,display:"flex",padding:Q*2,transition:"color 150ms",alignSelf:"center",fontSize:q,lineHeight:1,marginRight:q,textAlign:"center",verticalAlign:"middle"}},Ys=function(F){var D=F.delay,q=F.offset;return Tt("span",{css:Vs({animation:"".concat(Wb," 1s ease-in-out ").concat(D,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:q?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Vc=function(F){var D=F.className,q=F.cx,G=F.getStyles,X=F.innerProps,Q=F.isRtl;return Tt("div",Ct({css:G("loadingIndicator",F),className:q({indicator:!0,"loading-indicator":!0},D)},X),Tt(Ys,{delay:0,offset:Q}),Tt(Ys,{delay:160,offset:!0}),Tt(Ys,{delay:320,offset:!Q}))};Vc.defaultProps={size:4};var Gb=function(F){var D=F.isDisabled,q=F.isFocused,G=F.theme,X=G.colors,Q=G.borderRadius,ne=G.spacing;return{label:"control",alignItems:"center",backgroundColor:D?X.neutral5:X.neutral0,borderColor:D?X.neutral10:q?X.primary:X.neutral20,borderRadius:Q,borderStyle:"solid",borderWidth:1,boxShadow:q?"0 0 0 1px ".concat(X.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:ne.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:q?X.primary:X.neutral30}}},Xb=function(F){var D=F.children,q=F.cx,G=F.getStyles,X=F.className,Q=F.isDisabled,ne=F.isFocused,se=F.innerRef,de=F.innerProps,he=F.menuIsOpen;return Tt("div",Ct({ref:se,css:G("control",F),className:q({control:!0,"control--is-disabled":Q,"control--is-focused":ne,"control--menu-is-open":he},X)},de),D)},Yb=function(F){var D=F.theme.spacing;return{paddingBottom:D.baseUnit*2,paddingTop:D.baseUnit*2}},Kb=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.Heading,ne=F.headingProps,se=F.innerProps,de=F.label,he=F.theme,ue=F.selectProps;return Tt("div",Ct({css:X("group",F),className:G({group:!0},q)},se),Tt(Q,Ct({},ne,{selectProps:ue,theme:he,getStyles:X,cx:G}),de),Tt("div",null,D))},$b=function(F){var D=F.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:D.baseUnit*3,paddingRight:D.baseUnit*3,textTransform:"uppercase"}},Zb=function(F){var D=F.getStyles,q=F.cx,G=F.className,X=Pc(F);X.data;var Q=Hi(X,["data"]);return Tt("div",Ct({css:D("groupHeading",F),className:q({"group-heading":!0},G)},Q))},Jb=function(F){var D=F.isDisabled,q=F.theme,G=q.spacing,X=q.colors;return{margin:G.baseUnit/2,paddingBottom:G.baseUnit/2,paddingTop:G.baseUnit/2,visibility:D?"hidden":"visible",color:X.neutral80}},Qb=function(F){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:F?0:1,outline:0,padding:0,color:"inherit"}},ew=function(F){var D=F.className,q=F.cx,G=F.getStyles,X=Pc(F),Q=X.innerRef,ne=X.isDisabled,se=X.isHidden,de=Hi(X,["innerRef","isDisabled","isHidden"]);return Tt("div",{css:G("input",F)},Tt(ab,Ct({className:q({input:!0},D),inputRef:Q,inputStyle:Qb(se),disabled:ne},de)))},tw=function(F){var D=F.theme,q=D.spacing,G=D.borderRadius,X=D.colors;return{label:"multiValue",backgroundColor:X.neutral10,borderRadius:G/2,display:"flex",margin:q.baseUnit/2,minWidth:0}},nw=function(F){var D=F.theme,q=D.borderRadius,G=D.colors,X=F.cropWithEllipsis;return{borderRadius:q/2,color:G.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:X?"ellipsis":null,whiteSpace:"nowrap"}},iw=function(F){var D=F.theme,q=D.spacing,G=D.borderRadius,X=D.colors,Q=F.isFocused;return{alignItems:"center",borderRadius:G/2,backgroundColor:Q&&X.dangerLight,display:"flex",paddingLeft:q.baseUnit,paddingRight:q.baseUnit,":hover":{backgroundColor:X.dangerLight,color:X.danger}}},jc=function(F){var D=F.children,q=F.innerProps;return Tt("div",q,D)},rw=jc,ow=jc;function sw(F){var D=F.children,q=F.innerProps;return Tt("div",q,D||Tt(Xs,{size:14}))}var Uc=function(F){var D=F.children,q=F.className,G=F.components,X=F.cx,Q=F.data,ne=F.getStyles,se=F.innerProps,de=F.isDisabled,he=F.removeProps,ue=F.selectProps,be=G.Container,Ee=G.Label,Oe=G.Remove;return Tt(Jy,null,function(De){var Ge=De.css,We=De.cx;return Tt(be,{data:Q,innerProps:vn({className:We(Ge(ne("multiValue",F)),X({"multi-value":!0,"multi-value--is-disabled":de},q))},se),selectProps:ue},Tt(Ee,{data:Q,innerProps:{className:We(Ge(ne("multiValueLabel",F)),X({"multi-value__label":!0},q))},selectProps:ue},D),Tt(Oe,{data:Q,innerProps:vn({className:We(Ge(ne("multiValueRemove",F)),X({"multi-value__remove":!0},q))},he),selectProps:ue}))})};Uc.defaultProps={cropWithEllipsis:!0};var aw=function(F){var D=F.isDisabled,q=F.isFocused,G=F.isSelected,X=F.theme,Q=X.spacing,ne=X.colors;return{label:"option",backgroundColor:G?ne.primary:q?ne.primary25:"transparent",color:D?ne.neutral20:G?ne.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(Q.baseUnit*2,"px ").concat(Q.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!D&&(G?ne.primary:ne.primary50)}}},lw=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.isDisabled,ne=F.isFocused,se=F.isSelected,de=F.innerRef,he=F.innerProps;return Tt("div",Ct({css:X("option",F),className:G({option:!0,"option--is-disabled":Q,"option--is-focused":ne,"option--is-selected":se},q),ref:de},he),D)},uw=function(F){var D=F.theme,q=D.spacing,G=D.colors;return{label:"placeholder",color:G.neutral50,marginLeft:q.baseUnit/2,marginRight:q.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},cw=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.innerProps;return Tt("div",Ct({css:X("placeholder",F),className:G({placeholder:!0},q)},Q),D)},dw=function(F){var D=F.isDisabled,q=F.theme,G=q.spacing,X=q.colors;return{label:"singleValue",color:D?X.neutral40:X.neutral80,marginLeft:G.baseUnit/2,marginRight:G.baseUnit/2,maxWidth:"calc(100% - ".concat(G.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},hw=function(F){var D=F.children,q=F.className,G=F.cx,X=F.getStyles,Q=F.isDisabled,ne=F.innerProps;return Tt("div",Ct({css:X("singleValue",F),className:G({"single-value":!0,"single-value--is-disabled":Q},q)},ne),D)},fw={ClearIndicator:Vb,Control:Xb,DropdownIndicator:Hb,DownChevron:Hc,CrossIcon:Xs,Group:Kb,GroupHeading:Zb,IndicatorsContainer:Ib,IndicatorSeparator:Ub,Input:ew,LoadingIndicator:Vc,Menu:Sb,MenuList:Tb,MenuPortal:Ob,LoadingMessage:Ic,NoOptionsMessage:Dc,MultiValue:Uc,MultiValueContainer:rw,MultiValueLabel:ow,MultiValueRemove:sw,Option:lw,Placeholder:cw,SelectContainer:Mb,SingleValue:hw,ValueContainer:Fb},pw=function(F){return vn(vn({},fw),F.components)};function Ks(F,D){(D==null||D>F.length)&&(D=F.length);for(var q=0,G=new Array(D);q<D;q++)G[q]=F[q];return G}function gw(F){if(Array.isArray(F))return Ks(F)}function mw(F){if(typeof Symbol<"u"&&F[Symbol.iterator]!=null||F["@@iterator"]!=null)return Array.from(F)}function vw(F,D){if(F){if(typeof F=="string")return Ks(F,D);var q=Object.prototype.toString.call(F).slice(8,-1);if(q==="Object"&&F.constructor&&(q=F.constructor.name),q==="Map"||q==="Set")return Array.from(F);if(q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(q))return Ks(F,D)}}function yw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wc(F){return gw(F)||mw(F)||vw(F)||yw()}var qc=Number.isNaN||function(F){return typeof F=="number"&&F!==F};function bw(F,D){return!!(F===D||qc(F)&&qc(D))}function ww(F,D){if(F.length!==D.length)return!1;for(var q=0;q<F.length;q++)if(!bw(F[q],D[q]))return!1;return!0}function _w(F,D){D===void 0&&(D=ww);var q,G=[],X,Q=!1;function ne(){for(var se=[],de=0;de<arguments.length;de++)se[de]=arguments[de];return Q&&q===this&&D(se,G)||(X=F.apply(this,se),Q=!0,q=this,G=se),X}return ne}for(var xw={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Ew=function(F){return Tt("span",Ct({css:xw},F))},Sw={guidance:function(F){var D=F.isSearchable,q=F.isMulti,G=F.isDisabled,X=F.tabSelectsValue,Q=F.context;switch(Q){case"menu":return"Use Up and Down to choose options".concat(G?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(X?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(F["aria-label"]||"Select"," is focused ").concat(D?",type to refine list":"",", press Down to open the menu, ").concat(q?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(F){var D=F.action,q=F.label,G=q===void 0?"":q,X=F.isDisabled;switch(D){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(G,", deselected.");case"select-option":return X?"option ".concat(G," is disabled. Select another option."):"option ".concat(G,", selected.");default:return""}},onFocus:function(F){var D=F.context,q=F.focused,G=q===void 0?{}:q,X=F.options,Q=F.label,ne=Q===void 0?"":Q,se=F.selectValue,de=F.isDisabled,he=F.isSelected,ue=function(Oe,De){return Oe&&Oe.length?"".concat(Oe.indexOf(De)+1," of ").concat(Oe.length):""};if(D==="value"&&se)return"value ".concat(ne," focused, ").concat(ue(se,G),".");if(D==="menu"){var be=de?" disabled":"",Ee="".concat(he?"selected":"focused").concat(be);return"option ".concat(ne," ").concat(Ee,", ").concat(ue(X,G),".")}return""},onFilter:function(F){var D=F.inputValue,q=F.resultsMessage;return"".concat(q).concat(D?" for search term "+D:"",".")}},Cw=function(F){var D=F.ariaSelection,q=F.focusedOption,G=F.focusedValue,X=F.focusableOptions,Q=F.isFocused,ne=F.selectValue,se=F.selectProps,de=se.ariaLiveMessages,he=se.getOptionLabel,ue=se.inputValue,be=se.isMulti,Ee=se.isOptionDisabled,Oe=se.isSearchable,De=se.menuIsOpen,Ge=se.options,We=se.screenReaderStatus,tt=se.tabSelectsValue,at=se["aria-label"],At=se["aria-live"],xt=Se(function(){return vn(vn({},Sw),de||{})},[de]),bt=Se(function(){var Gt="";if(D&&xt.onChange){var Xt=D.option,zn=D.removedValue,An=D.value,ri=function(bn){return Array.isArray(bn)?null:bn},Vn=zn||Xt||ri(An),Xn=vn({isDisabled:Vn&&Ee(Vn),label:Vn?he(Vn):""},D);Gt=xt.onChange(Xn)}return Gt},[D,Ee,he,xt]),Pt=Se(function(){var Gt="",Xt=q||G,zn=!!(q&&ne&&ne.includes(q));if(Xt&&xt.onFocus){var An={focused:Xt,label:he(Xt),isDisabled:Ee(Xt),isSelected:zn,options:Ge,context:Xt===q?"menu":"value",selectValue:ne};Gt=xt.onFocus(An)}return Gt},[q,G,he,Ee,xt,Ge,ne]),Et=Se(function(){var Gt="";if(De&&Ge.length&&xt.onFilter){var Xt=We({count:X.length});Gt=xt.onFilter({inputValue:ue,resultsMessage:Xt})}return Gt},[X,ue,De,xt,Ge,We]),Zt=Se(function(){var Gt="";if(xt.guidance){var Xt=G?"value":De?"menu":"input";Gt=xt.guidance({"aria-label":at,context:Xt,isDisabled:q&&Ee(q),isMulti:be,isSearchable:Oe,tabSelectsValue:tt})}return Gt},[at,q,G,be,Ee,Oe,De,xt,tt]),Qt="".concat(Pt," ").concat(Et," ").concat(Zt);return Tt(Ew,{"aria-live":At,"aria-atomic":"false","aria-relevant":"additions text"},Q&&Tt(_t.Fragment,null,Tt("span",{id:"aria-selection"},bt),Tt("span",{id:"aria-context"},Qt)))},$s=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],Tw=new RegExp("["+$s.map(function(F){return F.letters}).join("")+"]","g"),Gc={},Zs=0;Zs<$s.length;Zs++)for(var Js=$s[Zs],Qs=0;Qs<Js.letters.length;Qs++)Gc[Js.letters[Qs]]=Js.base;var Xc=function(F){return F.replace(Tw,function(D){return Gc[D]})},Aw=_w(Xc),Yc=function(F){return F.replace(/^\s+|\s+$/g,"")},Pw=function(F){return"".concat(F.label," ").concat(F.value)},kw=function(F){return function(D,q){var G=vn({ignoreCase:!0,ignoreAccents:!0,stringify:Pw,trim:!0,matchFrom:"any"},F),X=G.ignoreCase,Q=G.ignoreAccents,ne=G.stringify,se=G.trim,de=G.matchFrom,he=se?Yc(q):q,ue=se?Yc(ne(D)):ne(D);return X&&(he=he.toLowerCase(),ue=ue.toLowerCase()),Q&&(he=Aw(he),ue=Xc(ue)),de==="start"?ue.substr(0,he.length)===he:ue.indexOf(he)>-1}};function Ow(F){F.in,F.out,F.onExited,F.appear,F.enter,F.exit;var D=F.innerRef;F.emotion;var q=Hi(F,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Tt("input",Ct({ref:D},q,{css:Vs({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var Rw=function(F){F.preventDefault(),F.stopPropagation()};function Mw(F){var D=F.isEnabled,q=F.onBottomArrive,G=F.onBottomLeave,X=F.onTopArrive,Q=F.onTopLeave,ne=ge(!1),se=ge(!1),de=ge(0),he=ge(null),ue=Te(function(We,tt){if(he.current!==null){var at=he.current,At=at.scrollTop,xt=at.scrollHeight,bt=at.clientHeight,Pt=he.current,Et=tt>0,Zt=xt-bt-At,Qt=!1;Zt>tt&&ne.current&&(G&&G(We),ne.current=!1),Et&&se.current&&(Q&&Q(We),se.current=!1),Et&&tt>Zt?(q&&!ne.current&&q(We),Pt.scrollTop=xt,Qt=!0,ne.current=!0):!Et&&-tt>At&&(X&&!se.current&&X(We),Pt.scrollTop=0,Qt=!0,se.current=!0),Qt&&Rw(We)}},[]),be=Te(function(We){ue(We,We.deltaY)},[ue]),Ee=Te(function(We){de.current=We.changedTouches[0].clientY},[]),Oe=Te(function(We){var tt=de.current-We.changedTouches[0].clientY;ue(We,tt)},[ue]),De=Te(function(We){if(We){var tt=wb?{passive:!1}:!1;typeof We.addEventListener=="function"&&We.addEventListener("wheel",be,tt),typeof We.addEventListener=="function"&&We.addEventListener("touchstart",Ee,tt),typeof We.addEventListener=="function"&&We.addEventListener("touchmove",Oe,tt)}},[Oe,Ee,be]),Ge=Te(function(We){!We||(typeof We.removeEventListener=="function"&&We.removeEventListener("wheel",be,!1),typeof We.removeEventListener=="function"&&We.removeEventListener("touchstart",Ee,!1),typeof We.removeEventListener=="function"&&We.removeEventListener("touchmove",Oe,!1))},[Oe,Ee,be]);return sn(function(){if(D){var We=he.current;return De(We),function(){Ge(We)}}},[D,De,Ge]),function(We){he.current=We}}var Kc=["boxSizing","height","overflow","paddingRight","position"],$c={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Zc(F){F.preventDefault()}function Jc(F){F.stopPropagation()}function Qc(){var F=this.scrollTop,D=this.scrollHeight,q=F+this.offsetHeight;F===0?this.scrollTop=1:q===D&&(this.scrollTop=F-1)}function ed(){return"ontouchstart"in window||navigator.maxTouchPoints}var td=!!(typeof window<"u"&&window.document&&window.document.createElement),cr=0,zi={capture:!1,passive:!1};function Bw(F){var D=F.isEnabled,q=F.accountForScrollbars,G=q===void 0?!0:q,X=ge({}),Q=ge(null),ne=Te(function(de){if(td){var he=document.body,ue=he&&he.style;if(G&&Kc.forEach(function(De){var Ge=ue&&ue[De];X.current[De]=Ge}),G&&cr<1){var be=parseInt(X.current.paddingRight,10)||0,Ee=document.body?document.body.clientWidth:0,Oe=window.innerWidth-Ee+be||0;Object.keys($c).forEach(function(De){var Ge=$c[De];ue&&(ue[De]=Ge)}),ue&&(ue.paddingRight="".concat(Oe,"px"))}he&&ed()&&(he.addEventListener("touchmove",Zc,zi),de&&(de.addEventListener("touchstart",Qc,zi),de.addEventListener("touchmove",Jc,zi))),cr+=1}},[]),se=Te(function(de){if(td){var he=document.body,ue=he&&he.style;cr=Math.max(cr-1,0),G&&cr<1&&Kc.forEach(function(be){var Ee=X.current[be];ue&&(ue[be]=Ee)}),he&&ed()&&(he.removeEventListener("touchmove",Zc,zi),de&&(de.removeEventListener("touchstart",Qc,zi),de.removeEventListener("touchmove",Jc,zi)))}},[]);return sn(function(){if(D){var de=Q.current;return ne(de),function(){se(de)}}},[D,ne,se]),function(de){Q.current=de}}var Fw=function(){return document.activeElement&&document.activeElement.blur()},Dw={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Iw(F){var D=F.children,q=F.lockEnabled,G=F.captureEnabled,X=G===void 0?!0:G,Q=F.onBottomArrive,ne=F.onBottomLeave,se=F.onTopArrive,de=F.onTopLeave,he=Mw({isEnabled:X,onBottomArrive:Q,onBottomLeave:ne,onTopArrive:se,onTopLeave:de}),ue=Bw({isEnabled:q}),be=function(Ee){he(Ee),ue(Ee)};return Tt(_t.Fragment,null,q&&Tt("div",{onClick:Fw,css:Dw}),D(be))}var Nw=function(F){return F.label},Lw=function(F){return F.label},Hw=function(F){return F.value},zw=function(F){return!!F.isDisabled},Vw={clearIndicator:zb,container:Rb,control:Gb,dropdownIndicator:Lb,group:Yb,groupHeading:$b,indicatorsContainer:Db,indicatorSeparator:jb,input:Jb,loadingIndicator:qb,loadingMessage:Pb,menu:Eb,menuList:Cb,menuPortal:kb,multiValue:tw,multiValueLabel:nw,multiValueRemove:iw,noOptionsMessage:Ab,option:aw,placeholder:uw,singleValue:dw,valueContainer:Bb},jw={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Uw=4,nd=4,Ww=38,qw=nd*2,Gw={baseUnit:nd,controlHeight:Ww,menuGutter:qw},ea={borderRadius:Uw,colors:jw,spacing:Gw},Xw={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Oc(),captureMenuScroll:!Oc(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:kw(),formatGroupLabel:Nw,getOptionLabel:Lw,getOptionValue:Hw,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:zw,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!yb(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(F){var D=F.count;return"".concat(D," result").concat(D!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function id(F,D,q,G){var X=ld(F,D,q),Q=ud(F,D,q),ne=ad(F,D),se=xo(F,D);return{type:"option",data:D,isDisabled:X,isSelected:Q,label:ne,value:se,index:G}}function rd(F,D){return F.options.map(function(q,G){if(q.options){var X=q.options.map(function(ne,se){return id(F,ne,D,se)}).filter(function(ne){return sd(F,ne)});return X.length>0?{type:"group",data:q,options:X,index:G}:void 0}var Q=id(F,q,D,G);return sd(F,Q)?Q:void 0}).filter(function(q){return!!q})}function od(F){return F.reduce(function(D,q){return q.type==="group"?D.push.apply(D,Wc(q.options.map(function(G){return G.data}))):D.push(q.data),D},[])}function Yw(F,D){return od(rd(F,D))}function sd(F,D){var q=F.inputValue,G=q===void 0?"":q,X=D.data,Q=D.isSelected,ne=D.label,se=D.value;return(!dd(F)||!Q)&&cd(F,{label:ne,value:se,data:X},G)}function Kw(F,D){var q=F.focusedValue,G=F.selectValue,X=G.indexOf(q);if(X>-1){var Q=D.indexOf(q);if(Q>-1)return q;if(X<D.length)return D[X]}return null}function $w(F,D){var q=F.focusedOption;return q&&D.indexOf(q)>-1?q:D[0]}var ad=function(F,D){return F.getOptionLabel(D)},xo=function(F,D){return F.getOptionValue(D)};function ld(F,D,q){return typeof F.isOptionDisabled=="function"?F.isOptionDisabled(D,q):!1}function ud(F,D,q){if(q.indexOf(D)>-1)return!0;if(typeof F.isOptionSelected=="function")return F.isOptionSelected(D,q);var G=xo(F,D);return q.some(function(X){return xo(F,X)===G})}function cd(F,D,q){return F.filterOption?F.filterOption(D,q):!0}var dd=function(F){var D=F.hideSelectedOptions,q=F.isMulti;return D===void 0?q:D},Zw=1,hd=function(F){go(q,F);var D=vo(q);function q(G){var X;return ho(this,q),X=D.call(this,G),X.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},X.blockOptionHover=!1,X.isComposing=!1,X.commonProps=void 0,X.initialTouchX=0,X.initialTouchY=0,X.instancePrefix="",X.openAfterFocus=!1,X.scrollToFocusedOptionOnUpdate=!1,X.userIsDragging=void 0,X.controlRef=null,X.getControlRef=function(Q){X.controlRef=Q},X.focusedOptionRef=null,X.getFocusedOptionRef=function(Q){X.focusedOptionRef=Q},X.menuListRef=null,X.getMenuListRef=function(Q){X.menuListRef=Q},X.inputRef=null,X.getInputRef=function(Q){X.inputRef=Q},X.focus=X.focusInput,X.blur=X.blurInput,X.onChange=function(Q,ne){var se=X.props,de=se.onChange,he=se.name;ne.name=he,X.ariaOnChange(Q,ne),de(Q,ne)},X.setValue=function(Q){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",se=arguments.length>2?arguments[2]:void 0,de=X.props,he=de.closeMenuOnSelect,ue=de.isMulti;X.onInputChange("",{action:"set-value"}),he&&(X.setState({inputIsHiddenAfterUpdate:!ue}),X.onMenuClose()),X.setState({clearFocusValueOnUpdate:!0}),X.onChange(Q,{action:ne,option:se})},X.selectOption=function(Q){var ne=X.props,se=ne.blurInputOnSelect,de=ne.isMulti,he=ne.name,ue=X.state.selectValue,be=de&&X.isOptionSelected(Q,ue),Ee=X.isOptionDisabled(Q,ue);if(be){var Oe=X.getOptionValue(Q);X.setValue(ue.filter(function(De){return X.getOptionValue(De)!==Oe}),"deselect-option",Q)}else if(!Ee)de?X.setValue([].concat(Wc(ue),[Q]),"select-option",Q):X.setValue(Q,"select-option");else{X.ariaOnChange(Q,{action:"select-option",name:he});return}se&&X.blurInput()},X.removeValue=function(Q){var ne=X.props.isMulti,se=X.state.selectValue,de=X.getOptionValue(Q),he=se.filter(function(be){return X.getOptionValue(be)!==de}),ue=ne?he:he[0]||null;X.onChange(ue,{action:"remove-value",removedValue:Q}),X.focusInput()},X.clearValue=function(){var Q=X.state.selectValue;X.onChange(X.props.isMulti?[]:null,{action:"clear",removedValues:Q})},X.popValue=function(){var Q=X.props.isMulti,ne=X.state.selectValue,se=ne[ne.length-1],de=ne.slice(0,ne.length-1),he=Q?de:de[0]||null;X.onChange(he,{action:"pop-value",removedValue:se})},X.getValue=function(){return X.state.selectValue},X.cx=function(){for(var Q=arguments.length,ne=new Array(Q),se=0;se<Q;se++)ne[se]=arguments[se];return fb.apply(void 0,[X.props.classNamePrefix].concat(ne))},X.getOptionLabel=function(Q){return ad(X.props,Q)},X.getOptionValue=function(Q){return xo(X.props,Q)},X.getStyles=function(Q,ne){var se=Vw[Q](ne);se.boxSizing="border-box";var de=X.props.styles[Q];return de?de(se,ne):se},X.getElementId=function(Q){return"".concat(X.instancePrefix,"-").concat(Q)},X.getComponents=function(){return pw(X.props)},X.buildCategorizedOptions=function(){return rd(X.props,X.state.selectValue)},X.getCategorizedOptions=function(){return X.props.menuIsOpen?X.buildCategorizedOptions():[]},X.buildFocusableOptions=function(){return od(X.buildCategorizedOptions())},X.getFocusableOptions=function(){return X.props.menuIsOpen?X.buildFocusableOptions():[]},X.ariaOnChange=function(Q,ne){X.setState({ariaSelection:vn({value:Q},ne)})},X.onMenuMouseDown=function(Q){Q.button===0&&(Q.stopPropagation(),Q.preventDefault(),X.focusInput())},X.onMenuMouseMove=function(Q){X.blockOptionHover=!1},X.onControlMouseDown=function(Q){var ne=X.props.openMenuOnClick;X.state.isFocused?X.props.menuIsOpen?Q.target.tagName!=="INPUT"&&Q.target.tagName!=="TEXTAREA"&&X.onMenuClose():ne&&X.openMenu("first"):(ne&&(X.openAfterFocus=!0),X.focusInput()),Q.target.tagName!=="INPUT"&&Q.target.tagName!=="TEXTAREA"&&Q.preventDefault()},X.onDropdownIndicatorMouseDown=function(Q){if(!(Q&&Q.type==="mousedown"&&Q.button!==0)&&!X.props.isDisabled){var ne=X.props,se=ne.isMulti,de=ne.menuIsOpen;X.focusInput(),de?(X.setState({inputIsHiddenAfterUpdate:!se}),X.onMenuClose()):X.openMenu("first"),Q.preventDefault(),Q.stopPropagation()}},X.onClearIndicatorMouseDown=function(Q){Q&&Q.type==="mousedown"&&Q.button!==0||(X.clearValue(),Q.stopPropagation(),X.openAfterFocus=!1,Q.type==="touchend"?X.focusInput():setTimeout(function(){return X.focusInput()}))},X.onScroll=function(Q){typeof X.props.closeMenuOnScroll=="boolean"?Q.target instanceof HTMLElement&&qs(Q.target)&&X.props.onMenuClose():typeof X.props.closeMenuOnScroll=="function"&&X.props.closeMenuOnScroll(Q)&&X.props.onMenuClose()},X.onCompositionStart=function(){X.isComposing=!0},X.onCompositionEnd=function(){X.isComposing=!1},X.onTouchStart=function(Q){var ne=Q.touches,se=ne&&ne.item(0);!se||(X.initialTouchX=se.clientX,X.initialTouchY=se.clientY,X.userIsDragging=!1)},X.onTouchMove=function(Q){var ne=Q.touches,se=ne&&ne.item(0);if(se){var de=Math.abs(se.clientX-X.initialTouchX),he=Math.abs(se.clientY-X.initialTouchY),ue=5;X.userIsDragging=de>ue||he>ue}},X.onTouchEnd=function(Q){X.userIsDragging||(X.controlRef&&!X.controlRef.contains(Q.target)&&X.menuListRef&&!X.menuListRef.contains(Q.target)&&X.blurInput(),X.initialTouchX=0,X.initialTouchY=0)},X.onControlTouchEnd=function(Q){X.userIsDragging||X.onControlMouseDown(Q)},X.onClearIndicatorTouchEnd=function(Q){X.userIsDragging||X.onClearIndicatorMouseDown(Q)},X.onDropdownIndicatorTouchEnd=function(Q){X.userIsDragging||X.onDropdownIndicatorMouseDown(Q)},X.handleInputChange=function(Q){var ne=Q.currentTarget.value;X.setState({inputIsHiddenAfterUpdate:!1}),X.onInputChange(ne,{action:"input-change"}),X.props.menuIsOpen||X.onMenuOpen()},X.onInputFocus=function(Q){X.props.onFocus&&X.props.onFocus(Q),X.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(X.openAfterFocus||X.props.openMenuOnFocus)&&X.openMenu("first"),X.openAfterFocus=!1},X.onInputBlur=function(Q){if(X.menuListRef&&X.menuListRef.contains(document.activeElement)){X.inputRef.focus();return}X.props.onBlur&&X.props.onBlur(Q),X.onInputChange("",{action:"input-blur"}),X.onMenuClose(),X.setState({focusedValue:null,isFocused:!1})},X.onOptionHover=function(Q){X.blockOptionHover||X.state.focusedOption===Q||X.setState({focusedOption:Q})},X.shouldHideSelectedOptions=function(){return dd(X.props)},X.onKeyDown=function(Q){var ne=X.props,se=ne.isMulti,de=ne.backspaceRemovesValue,he=ne.escapeClearsValue,ue=ne.inputValue,be=ne.isClearable,Ee=ne.isDisabled,Oe=ne.menuIsOpen,De=ne.onKeyDown,Ge=ne.tabSelectsValue,We=ne.openMenuOnFocus,tt=X.state,at=tt.focusedOption,At=tt.focusedValue,xt=tt.selectValue;if(!Ee&&!(typeof De=="function"&&(De(Q),Q.defaultPrevented))){switch(X.blockOptionHover=!0,Q.key){case"ArrowLeft":if(!se||ue)return;X.focusValue("previous");break;case"ArrowRight":if(!se||ue)return;X.focusValue("next");break;case"Delete":case"Backspace":if(ue)return;if(At)X.removeValue(At);else{if(!de)return;se?X.popValue():be&&X.clearValue()}break;case"Tab":if(X.isComposing||Q.shiftKey||!Oe||!Ge||!at||We&&X.isOptionSelected(at,xt))return;X.selectOption(at);break;case"Enter":if(Q.keyCode===229)break;if(Oe){if(!at||X.isComposing)return;X.selectOption(at);break}return;case"Escape":Oe?(X.setState({inputIsHiddenAfterUpdate:!1}),X.onInputChange("",{action:"menu-close"}),X.onMenuClose()):be&&he&&X.clearValue();break;case" ":if(ue)return;if(!Oe){X.openMenu("first");break}if(!at)return;X.selectOption(at);break;case"ArrowUp":Oe?X.focusOption("up"):X.openMenu("last");break;case"ArrowDown":Oe?X.focusOption("down"):X.openMenu("first");break;case"PageUp":if(!Oe)return;X.focusOption("pageup");break;case"PageDown":if(!Oe)return;X.focusOption("pagedown");break;case"Home":if(!Oe)return;X.focusOption("first");break;case"End":if(!Oe)return;X.focusOption("last");break;default:return}Q.preventDefault()}},X.instancePrefix="react-select-"+(X.props.instanceId||++Zw),X.state.selectValue=Ac(G.value),X}return fo(q,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(G){var X=this.props,Q=X.isDisabled,ne=X.menuIsOpen,se=this.state.isFocused;(se&&!Q&&G.isDisabled||se&&ne&&!G.menuIsOpen)&&this.focusInput(),se&&Q&&!G.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(mb(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(G,X){this.props.onInputChange(G,X)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(G){var X=this,Q=this.state,ne=Q.selectValue,se=Q.isFocused,de=this.buildFocusableOptions(),he=G==="first"?0:de.length-1;if(!this.props.isMulti){var ue=de.indexOf(ne[0]);ue>-1&&(he=ue)}this.scrollToFocusedOptionOnUpdate=!(se&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:de[he]},function(){return X.onMenuOpen()})}},{key:"focusValue",value:function(G){var X=this.state,Q=X.selectValue,ne=X.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var se=Q.indexOf(ne);ne||(se=-1);var de=Q.length-1,he=-1;if(Q.length){switch(G){case"previous":se===0?he=0:se===-1?he=de:he=se-1;break;case"next":se>-1&&se<de&&(he=se+1);break}this.setState({inputIsHidden:he!==-1,focusedValue:Q[he]})}}}},{key:"focusOption",value:function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",X=this.props.pageSize,Q=this.state.focusedOption,ne=this.getFocusableOptions();if(ne.length){var se=0,de=ne.indexOf(Q);Q||(de=-1),G==="up"?se=de>0?de-1:ne.length-1:G==="down"?se=(de+1)%ne.length:G==="pageup"?(se=de-X,se<0&&(se=0)):G==="pagedown"?(se=de+X,se>ne.length-1&&(se=ne.length-1)):G==="last"&&(se=ne.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:ne[se],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(ea):vn(vn({},ea),this.props.theme):ea}},{key:"getCommonProps",value:function(){var G=this.clearValue,X=this.cx,Q=this.getStyles,ne=this.getValue,se=this.selectOption,de=this.setValue,he=this.props,ue=he.isMulti,be=he.isRtl,Ee=he.options,Oe=this.hasValue();return{clearValue:G,cx:X,getStyles:Q,getValue:ne,hasValue:Oe,isMulti:ue,isRtl:be,options:Ee,selectOption:se,selectProps:he,setValue:de,theme:this.getTheme()}}},{key:"hasValue",value:function(){var G=this.state.selectValue;return G.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var G=this.props,X=G.isClearable,Q=G.isMulti;return X===void 0?Q:X}},{key:"isOptionDisabled",value:function(G,X){return ld(this.props,G,X)}},{key:"isOptionSelected",value:function(G,X){return ud(this.props,G,X)}},{key:"filterOption",value:function(G,X){return cd(this.props,G,X)}},{key:"formatOptionLabel",value:function(G,X){if(typeof this.props.formatOptionLabel=="function"){var Q=this.props.inputValue,ne=this.state.selectValue;return this.props.formatOptionLabel(G,{context:X,inputValue:Q,selectValue:ne})}else return this.getOptionLabel(G)}},{key:"formatGroupLabel",value:function(G){return this.props.formatGroupLabel(G)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var G=this.props,X=G.isDisabled,Q=G.isSearchable,ne=G.inputId,se=G.inputValue,de=G.tabIndex,he=G.form,ue=this.getComponents(),be=ue.Input,Ee=this.state.inputIsHidden,Oe=this.commonProps,De=ne||this.getElementId("input"),Ge={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return Q?_t.createElement(be,Ct({},Oe,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:De,innerRef:this.getInputRef,isDisabled:X,isHidden:Ee,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:de,form:he,type:"text",value:se},Ge)):_t.createElement(Ow,Ct({id:De,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:yo,onFocus:this.onInputFocus,readOnly:!0,disabled:X,tabIndex:de,form:he,value:""},Ge))}},{key:"renderPlaceholderOrValue",value:function(){var G=this,X=this.getComponents(),Q=X.MultiValue,ne=X.MultiValueContainer,se=X.MultiValueLabel,de=X.MultiValueRemove,he=X.SingleValue,ue=X.Placeholder,be=this.commonProps,Ee=this.props,Oe=Ee.controlShouldRenderValue,De=Ee.isDisabled,Ge=Ee.isMulti,We=Ee.inputValue,tt=Ee.placeholder,at=this.state,At=at.selectValue,xt=at.focusedValue,bt=at.isFocused;if(!this.hasValue()||!Oe)return We?null:_t.createElement(ue,Ct({},be,{key:"placeholder",isDisabled:De,isFocused:bt}),tt);if(Ge){var Pt=At.map(function(Zt,Qt){var Gt=Zt===xt;return _t.createElement(Q,Ct({},be,{components:{Container:ne,Label:se,Remove:de},isFocused:Gt,isDisabled:De,key:"".concat(G.getOptionValue(Zt)).concat(Qt),index:Qt,removeProps:{onClick:function(){return G.removeValue(Zt)},onTouchEnd:function(){return G.removeValue(Zt)},onMouseDown:function(Xt){Xt.preventDefault(),Xt.stopPropagation()}},data:Zt}),G.formatOptionLabel(Zt,"value"))});return Pt}if(We)return null;var Et=At[0];return _t.createElement(he,Ct({},be,{data:Et,isDisabled:De}),this.formatOptionLabel(Et,"value"))}},{key:"renderClearIndicator",value:function(){var G=this.getComponents(),X=G.ClearIndicator,Q=this.commonProps,ne=this.props,se=ne.isDisabled,de=ne.isLoading,he=this.state.isFocused;if(!this.isClearable()||!X||se||!this.hasValue()||de)return null;var ue={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return _t.createElement(X,Ct({},Q,{innerProps:ue,isFocused:he}))}},{key:"renderLoadingIndicator",value:function(){var G=this.getComponents(),X=G.LoadingIndicator,Q=this.commonProps,ne=this.props,se=ne.isDisabled,de=ne.isLoading,he=this.state.isFocused;if(!X||!de)return null;var ue={"aria-hidden":"true"};return _t.createElement(X,Ct({},Q,{innerProps:ue,isDisabled:se,isFocused:he}))}},{key:"renderIndicatorSeparator",value:function(){var G=this.getComponents(),X=G.DropdownIndicator,Q=G.IndicatorSeparator;if(!X||!Q)return null;var ne=this.commonProps,se=this.props.isDisabled,de=this.state.isFocused;return _t.createElement(Q,Ct({},ne,{isDisabled:se,isFocused:de}))}},{key:"renderDropdownIndicator",value:function(){var G=this.getComponents(),X=G.DropdownIndicator;if(!X)return null;var Q=this.commonProps,ne=this.props.isDisabled,se=this.state.isFocused,de={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return _t.createElement(X,Ct({},Q,{innerProps:de,isDisabled:ne,isFocused:se}))}},{key:"renderMenu",value:function(){var G=this,X=this.getComponents(),Q=X.Group,ne=X.GroupHeading,se=X.Menu,de=X.MenuList,he=X.MenuPortal,ue=X.LoadingMessage,be=X.NoOptionsMessage,Ee=X.Option,Oe=this.commonProps,De=this.state.focusedOption,Ge=this.props,We=Ge.captureMenuScroll,tt=Ge.inputValue,at=Ge.isLoading,At=Ge.loadingMessage,xt=Ge.minMenuHeight,bt=Ge.maxMenuHeight,Pt=Ge.menuIsOpen,Et=Ge.menuPlacement,Zt=Ge.menuPosition,Qt=Ge.menuPortalTarget,Gt=Ge.menuShouldBlockScroll,Xt=Ge.menuShouldScrollIntoView,zn=Ge.noOptionsMessage,An=Ge.onMenuScrollToTop,ri=Ge.onMenuScrollToBottom;if(!Pt)return null;var Vn=function(Kt,$e){var ot=Kt.type,ut=Kt.data,st=Kt.isDisabled,pt=Kt.isSelected,Ot=Kt.label,Jt=Kt.value,hn=De===ut,Yt=st?void 0:function(){return G.onOptionHover(ut)},Ti=st?void 0:function(){return G.selectOption(ut)},ei="".concat(G.getElementId("option"),"-").concat($e),di={id:ei,onClick:Ti,onMouseMove:Yt,onMouseOver:Yt,tabIndex:-1};return _t.createElement(Ee,Ct({},Oe,{innerProps:di,data:ut,isDisabled:st,isSelected:pt,key:ei,label:Ot,type:ot,value:Jt,isFocused:hn,innerRef:hn?G.getFocusedOptionRef:void 0}),G.formatOptionLabel(Kt.data,"menu"))},Xn;if(this.hasOptions())Xn=this.getCategorizedOptions().map(function(Kt){if(Kt.type==="group"){var $e=Kt.data,ot=Kt.options,ut=Kt.index,st="".concat(G.getElementId("group"),"-").concat(ut),pt="".concat(st,"-heading");return _t.createElement(Q,Ct({},Oe,{key:st,data:$e,options:ot,Heading:ne,headingProps:{id:pt,data:Kt.data},label:G.formatGroupLabel(Kt.data)}),Kt.options.map(function(Ot){return Vn(Ot,"".concat(ut,"-").concat(Ot.index))}))}else if(Kt.type==="option")return Vn(Kt,"".concat(Kt.index))});else if(at){var bn=At({inputValue:tt});if(bn===null)return null;Xn=_t.createElement(ue,Oe,bn)}else{var Ro=zn({inputValue:tt});if(Ro===null)return null;Xn=_t.createElement(be,Oe,Ro)}var Ci={minMenuHeight:xt,maxMenuHeight:bt,menuPlacement:Et,menuPosition:Zt,menuShouldScrollIntoView:Xt},jn=_t.createElement(Bc,Ct({},Oe,Ci),function(Kt){var $e=Kt.ref,ot=Kt.placerProps,ut=ot.placement,st=ot.maxHeight;return _t.createElement(se,Ct({},Oe,Ci,{innerRef:$e,innerProps:{onMouseDown:G.onMenuMouseDown,onMouseMove:G.onMenuMouseMove},isLoading:at,placement:ut}),_t.createElement(Iw,{captureEnabled:We,onTopArrive:An,onBottomArrive:ri,lockEnabled:Gt},function(pt){return _t.createElement(de,Ct({},Oe,{innerRef:function(Ot){G.getMenuListRef(Ot),pt(Ot)},isLoading:at,maxHeight:st,focusedOption:De}),Xn)}))});return Qt||Zt==="fixed"?_t.createElement(he,Ct({},Oe,{appendTo:Qt,controlElement:this.controlRef,menuPlacement:Et,menuPosition:Zt}),jn):jn}},{key:"renderFormField",value:function(){var G=this,X=this.props,Q=X.delimiter,ne=X.isDisabled,se=X.isMulti,de=X.name,he=this.state.selectValue;if(!(!de||ne))if(se)if(Q){var ue=he.map(function(Oe){return G.getOptionValue(Oe)}).join(Q);return _t.createElement("input",{name:de,type:"hidden",value:ue})}else{var be=he.length>0?he.map(function(Oe,De){return _t.createElement("input",{key:"i-".concat(De),name:de,type:"hidden",value:G.getOptionValue(Oe)})}):_t.createElement("input",{name:de,type:"hidden"});return _t.createElement("div",null,be)}else{var Ee=he[0]?this.getOptionValue(he[0]):"";return _t.createElement("input",{name:de,type:"hidden",value:Ee})}}},{key:"renderLiveRegion",value:function(){var G=this.commonProps,X=this.state,Q=X.ariaSelection,ne=X.focusedOption,se=X.focusedValue,de=X.isFocused,he=X.selectValue,ue=this.getFocusableOptions();return _t.createElement(Cw,Ct({},G,{ariaSelection:Q,focusedOption:ne,focusedValue:se,isFocused:de,selectValue:he,focusableOptions:ue}))}},{key:"render",value:function(){var G=this.getComponents(),X=G.Control,Q=G.IndicatorsContainer,ne=G.SelectContainer,se=G.ValueContainer,de=this.props,he=de.className,ue=de.id,be=de.isDisabled,Ee=de.menuIsOpen,Oe=this.state.isFocused,De=this.commonProps=this.getCommonProps();return _t.createElement(ne,Ct({},De,{className:he,innerProps:{id:ue,onKeyDown:this.onKeyDown},isDisabled:be,isFocused:Oe}),this.renderLiveRegion(),_t.createElement(X,Ct({},De,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:be,isFocused:Oe,menuIsOpen:Ee}),_t.createElement(se,Ct({},De,{isDisabled:be}),this.renderPlaceholderOrValue(),this.renderInput()),_t.createElement(Q,Ct({},De,{isDisabled:be}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(G,X){var Q=X.prevProps,ne=X.clearFocusValueOnUpdate,se=X.inputIsHiddenAfterUpdate,de=G.options,he=G.value,ue=G.menuIsOpen,be=G.inputValue,Ee={};if(Q&&(he!==Q.value||de!==Q.options||ue!==Q.menuIsOpen||be!==Q.inputValue)){var Oe=Ac(he),De=ue?Yw(G,Oe):[],Ge=ne?Kw(X,Oe):null,We=$w(X,De);Ee={selectValue:Oe,focusedOption:We,focusedValue:Ge,clearFocusValueOnUpdate:!1}}var tt=se!=null&&G!==Q?{inputIsHidden:se,inputIsHiddenAfterUpdate:void 0}:{};return vn(vn(vn({},Ee),tt),{},{prevProps:G})}}]),q}(gt);hd.defaultProps=Xw;var Jw={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Qw=function(F){var D,q;return q=D=function(G){go(Q,G);var X=vo(Q);function Q(){var ne;ho(this,Q);for(var se=arguments.length,de=new Array(se),he=0;he<se;he++)de[he]=arguments[he];return ne=X.call.apply(X,[this].concat(de)),ne.select=void 0,ne.state={inputValue:ne.props.inputValue!==void 0?ne.props.inputValue:ne.props.defaultInputValue,menuIsOpen:ne.props.menuIsOpen!==void 0?ne.props.menuIsOpen:ne.props.defaultMenuIsOpen,value:ne.props.value!==void 0?ne.props.value:ne.props.defaultValue},ne.onChange=function(ue,be){ne.callProp("onChange",ue,be),ne.setState({value:ue})},ne.onInputChange=function(ue,be){var Ee=ne.callProp("onInputChange",ue,be);ne.setState({inputValue:Ee!==void 0?Ee:ue})},ne.onMenuOpen=function(){ne.callProp("onMenuOpen"),ne.setState({menuIsOpen:!0})},ne.onMenuClose=function(){ne.callProp("onMenuClose"),ne.setState({menuIsOpen:!1})},ne}return fo(Q,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(ne){return this.props[ne]!==void 0?this.props[ne]:this.state[ne]}},{key:"callProp",value:function(ne){if(typeof this.props[ne]=="function"){for(var se,de=arguments.length,he=new Array(de>1?de-1:0),ue=1;ue<de;ue++)he[ue-1]=arguments[ue];return(se=this.props)[ne].apply(se,he)}}},{key:"render",value:function(){var ne=this,se=this.props;se.defaultInputValue,se.defaultMenuIsOpen,se.defaultValue;var de=Hi(se,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return _t.createElement(F,Ct({},de,{ref:function(he){ne.select=he},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),Q}(gt),D.defaultProps=Jw,q},e1=Qw(hd),t1=e1;const ta=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var fd=F=>{const D=F.content?ta.find(q=>q.value===F.content):null;return Fe("div",{className:"r6o-purposedropdown"},Fe(t1,{value:D,onChange:F.onChange,options:ta,isDisabled:!F.editable}))};const n1=F=>Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:F.width},Fe("metadata",null,"IcoFont Icons"),Fe("title",null,"simple-down"),Fe("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),Fe("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),i1=F=>Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:F.width},Fe("metadata",null,"IcoFont Icons"),Fe("title",null,"close"),Fe("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),Fe("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),r1=F=>Fe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:F.width},Fe("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var o1=F=>{const[D,q]=qt(!1),[G,X]=qt(!1),Q=be=>{q(!0),X(!1)},ne=be=>{F.onDelete(F.body),X(!1)},se=be=>F.onUpdate(F.body,ce(ie({},F.body),{value:be.target.value})),de=be=>F.onUpdate(F.body,ce(ie({},F.body),{purpose:be.value})),he=F.body.modified||F.body.created,ue=F.body.creator&&Fe("div",{className:"r6o-lastmodified"},Fe("span",{className:"r6o-lastmodified-by"},F.body.creator.name||F.body.creator.id),F.body.created&&Fe("span",{className:"r6o-lastmodified-at"},Fe(bf,{datetime:F.env.toClientTime(he),locale:Fn.locale()})));return F.readOnly?Fe("div",{className:"r6o-widget comment"},Fe("div",{className:"r6o-readonly-comment"},F.body.value),ue):Fe("div",{className:D?"r6o-widget comment editable":"r6o-widget comment"},Fe(Xu,{editable:D,content:F.body.value,onChange:se,onSaveAndClose:F.onSaveAndClose}),!D&&ue,F.purposeSelector&&Fe(fd,{editable:D,content:F.body.purpose,onChange:de,onSaveAndClose:F.onSaveAndClose}),Fe("div",{className:G?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>X(!G)},Fe(n1,{width:12})),G&&Fe(Gv,{onEdit:Q,onDelete:ne,onClickOutside:()=>X(!1)}))};const s1=ta.map(F=>F.value),pd=(F,D)=>{const q=D?s1.indexOf(F.purpose)>-1:F.purpose=="commenting"||F.purpose=="replying";return F.type==="TextualBody"&&(!F.hasOwnProperty("purpose")||q)},gd=(F,D)=>{var q,G;if(D.editable===!0)return!1;if(D.editable===!1)return!0;if(D.editable==="MINE_ONLY"){const X=(q=F.creator)==null?void 0:q.id;return((G=D.env.user)==null?void 0:G.id)!==X}return D.readOnly},a1=(F,D)=>F||{type:"TextualBody",value:"",purpose:D?"replying":"commenting",draft:!0},md=F=>{const D=F.annotation?F.annotation.bodies.filter(ne=>pd(ne,F.purposeSelector)):[],q=a1(D.find(ne=>ne.draft==!0),D.length>1),G=D.filter(ne=>ne!=q),X=ne=>{const se=q.value,de=ne.target.value;se.length===0&&de.length>0?F.onAppendBody(ce(ie({},q),{value:de})):se.length>0&&de.length===0?F.onRemoveBody(q):F.onUpdateBody(q,ce(ie({},q),{value:de}))},Q=ne=>F.onUpdateBody(q,ce(ie({},q),{purpose:ne.value}));return Fe(St,null,G.map((ne,se)=>Fe(o1,{key:se,env:F.env,purposeSelector:F.purposeSelector,readOnly:gd(ne,F),body:ne,onUpdate:F.onUpdateBody,onDelete:F.onRemoveBody,onSaveAndClose:F.onSaveAndClose})),!F.readOnly&&F.annotation&&Fe("div",{className:"r6o-widget comment editable"},Fe(Xu,{focus:F.focus,content:q.value,editable:!0,placeholder:G.length>0?Fn.t("Add a reply..."):Fn.t("Add a comment..."),onChange:X,onSaveAndClose:()=>F.onSaveAndClose()}),F.purposeSelector&&q.value.length>0&&Fe(fd,{editable:!0,content:q.purpose,onChange:Q,onSaveAndClose:()=>F.onSaveAndClose()})))};md.disableDelete=(F,D)=>F.bodies.filter(q=>pd(q,D.purposeSelector)).some(q=>gd(q,D));var vd=md;function yd(F,D){F.prototype=Object.create(D.prototype),F.prototype.constructor=F,po(F,D)}function l1(F,D){return F.classList?!!D&&F.classList.contains(D):(" "+(F.className.baseVal||F.className)+" ").indexOf(" "+D+" ")!==-1}function u1(F,D){F.classList?F.classList.add(D):l1(F,D)||(typeof F.className=="string"?F.className=F.className+" "+D:F.setAttribute("class",(F.className&&F.className.baseVal||"")+" "+D))}function bd(F,D){return F.replace(new RegExp("(^|\\s)"+D+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function c1(F,D){F.classList?F.classList.remove(D):typeof F.className=="string"?F.className=bd(F.className,D):F.setAttribute("class",bd(F.className&&F.className.baseVal||"",D))}var wd={disabled:!1},_d=_t.createContext(null),dr="unmounted",_i="exited",xi="entering",Vi="entered",na="exiting",ii=function(F){yd(D,F);function D(G,X){var Q;Q=F.call(this,G,X)||this;var ne=X,se=ne&&!ne.isMounting?G.enter:G.appear,de;return Q.appearStatus=null,G.in?se?(de=_i,Q.appearStatus=xi):de=Vi:G.unmountOnExit||G.mountOnEnter?de=dr:de=_i,Q.state={status:de},Q.nextCallback=null,Q}D.getDerivedStateFromProps=function(G,X){var Q=G.in;return Q&&X.status===dr?{status:_i}:null};var q=D.prototype;return q.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},q.componentDidUpdate=function(G){var X=null;if(G!==this.props){var Q=this.state.status;this.props.in?Q!==xi&&Q!==Vi&&(X=xi):(Q===xi||Q===Vi)&&(X=na)}this.updateStatus(!1,X)},q.componentWillUnmount=function(){this.cancelNextCallback()},q.getTimeouts=function(){var G=this.props.timeout,X,Q,ne;return X=Q=ne=G,G!=null&&typeof G!="number"&&(X=G.exit,Q=G.enter,ne=G.appear!==void 0?G.appear:Q),{exit:X,enter:Q,appear:ne}},q.updateStatus=function(G,X){G===void 0&&(G=!1),X!==null?(this.cancelNextCallback(),X===xi?this.performEnter(G):this.performExit()):this.props.unmountOnExit&&this.state.status===_i&&this.setState({status:dr})},q.performEnter=function(G){var X=this,Q=this.props.enter,ne=this.context?this.context.isMounting:G,se=this.props.nodeRef?[ne]:[_t.findDOMNode(this),ne],de=se[0],he=se[1],ue=this.getTimeouts(),be=ne?ue.appear:ue.enter;if(!G&&!Q||wd.disabled){this.safeSetState({status:Vi},function(){X.props.onEntered(de)});return}this.props.onEnter(de,he),this.safeSetState({status:xi},function(){X.props.onEntering(de,he),X.onTransitionEnd(be,function(){X.safeSetState({status:Vi},function(){X.props.onEntered(de,he)})})})},q.performExit=function(){var G=this,X=this.props.exit,Q=this.getTimeouts(),ne=this.props.nodeRef?void 0:_t.findDOMNode(this);if(!X||wd.disabled){this.safeSetState({status:_i},function(){G.props.onExited(ne)});return}this.props.onExit(ne),this.safeSetState({status:na},function(){G.props.onExiting(ne),G.onTransitionEnd(Q.exit,function(){G.safeSetState({status:_i},function(){G.props.onExited(ne)})})})},q.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},q.safeSetState=function(G,X){X=this.setNextCallback(X),this.setState(G,X)},q.setNextCallback=function(G){var X=this,Q=!0;return this.nextCallback=function(ne){Q&&(Q=!1,X.nextCallback=null,G(ne))},this.nextCallback.cancel=function(){Q=!1},this.nextCallback},q.onTransitionEnd=function(G,X){this.setNextCallback(X);var Q=this.props.nodeRef?this.props.nodeRef.current:_t.findDOMNode(this),ne=G==null&&!this.props.addEndListener;if(!Q||ne){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var se=this.props.nodeRef?[this.nextCallback]:[Q,this.nextCallback],de=se[0],he=se[1];this.props.addEndListener(de,he)}G!=null&&setTimeout(this.nextCallback,G)},q.render=function(){var G=this.state.status;if(G===dr)return null;var X=this.props,Q=X.children;X.in,X.mountOnEnter,X.unmountOnExit,X.appear,X.enter,X.exit,X.timeout,X.addEndListener,X.onEnter,X.onEntering,X.onEntered,X.onExit,X.onExiting,X.onExited,X.nodeRef;var ne=js(X,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return _t.createElement(_d.Provider,{value:null},typeof Q=="function"?Q(G,ne):_t.cloneElement(_t.Children.only(Q),ne))},D}(_t.Component);ii.contextType=_d,ii.propTypes={};function ji(){}ii.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ji,onEntering:ji,onEntered:ji,onExit:ji,onExiting:ji,onExited:ji},ii.UNMOUNTED=dr,ii.EXITED=_i,ii.ENTERING=xi,ii.ENTERED=Vi,ii.EXITING=na;var d1=ii,h1=function(F,D){return F&&D&&D.split(" ").forEach(function(q){return u1(F,q)})},ia=function(F,D){return F&&D&&D.split(" ").forEach(function(q){return c1(F,q)})},ra=function(F){yd(D,F);function D(){for(var G,X=arguments.length,Q=new Array(X),ne=0;ne<X;ne++)Q[ne]=arguments[ne];return G=F.call.apply(F,[this].concat(Q))||this,G.appliedClasses={appear:{},enter:{},exit:{}},G.onEnter=function(se,de){var he=G.resolveArguments(se,de),ue=he[0],be=he[1];G.removeClasses(ue,"exit"),G.addClass(ue,be?"appear":"enter","base"),G.props.onEnter&&G.props.onEnter(se,de)},G.onEntering=function(se,de){var he=G.resolveArguments(se,de),ue=he[0],be=he[1],Ee=be?"appear":"enter";G.addClass(ue,Ee,"active"),G.props.onEntering&&G.props.onEntering(se,de)},G.onEntered=function(se,de){var he=G.resolveArguments(se,de),ue=he[0],be=he[1],Ee=be?"appear":"enter";G.removeClasses(ue,Ee),G.addClass(ue,Ee,"done"),G.props.onEntered&&G.props.onEntered(se,de)},G.onExit=function(se){var de=G.resolveArguments(se),he=de[0];G.removeClasses(he,"appear"),G.removeClasses(he,"enter"),G.addClass(he,"exit","base"),G.props.onExit&&G.props.onExit(se)},G.onExiting=function(se){var de=G.resolveArguments(se),he=de[0];G.addClass(he,"exit","active"),G.props.onExiting&&G.props.onExiting(se)},G.onExited=function(se){var de=G.resolveArguments(se),he=de[0];G.removeClasses(he,"exit"),G.addClass(he,"exit","done"),G.props.onExited&&G.props.onExited(se)},G.resolveArguments=function(se,de){return G.props.nodeRef?[G.props.nodeRef.current,se]:[se,de]},G.getClassNames=function(se){var de=G.props.classNames,he=typeof de=="string",ue=he&&de?de+"-":"",be=he?""+ue+se:de[se],Ee=he?be+"-active":de[se+"Active"],Oe=he?be+"-done":de[se+"Done"];return{baseClassName:be,activeClassName:Ee,doneClassName:Oe}},G}var q=D.prototype;return q.addClass=function(G,X,Q){var ne=this.getClassNames(X)[Q+"ClassName"],se=this.getClassNames("enter"),de=se.doneClassName;X==="appear"&&Q==="done"&&de&&(ne+=" "+de),Q==="active"&&G&&G.scrollTop,ne&&(this.appliedClasses[X][Q]=ne,h1(G,ne))},q.removeClasses=function(G,X){var Q=this.appliedClasses[X],ne=Q.base,se=Q.active,de=Q.done;this.appliedClasses[X]={},ne&&ia(G,ne),se&&ia(G,se),de&&ia(G,de)},q.render=function(){var G=this.props;G.classNames;var X=js(G,["classNames"]);return _t.createElement(d1,Ct({},X,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},D}(_t.Component);ra.defaultProps={classNames:""},ra.propTypes={};var f1=ra;const p1=(F,D)=>D.filter(q=>(q.label?q.label:q).toLowerCase().startsWith(F.toLowerCase())),g1=(F,D)=>D(F);var m1=F=>{const D=ge(),[q,G]=qt(F.initialValue||""),[X,Q]=qt([]),[ne,se]=qt(null);sn(()=>{F.focus&&D.current.querySelector("input").focus({preventScroll:!0})},[]),sn(()=>{F.onChange&&F.onChange(q)},[q]);const de=ue=>{if(typeof F.vocabulary=="function"){const be=g1(ue,F.vocabulary);be.then?be.then(Q):Q(be)}else{const be=p1(ue,F.vocabulary);Q(be)}},he=()=>{if(ne!==null)F.onSubmit(X[ne]);else{const ue=q.trim();if(ue){const be=Array.isArray(F.vocabulary)?F.vocabulary.find(Ee=>(Ee.label||Ee).toLowerCase()===ue.toLowerCase()):null;be?F.onSubmit(be):F.onSubmit(ue)}}G(""),Q([]),se(null)};return Fe("div",{ref:D,className:"r6o-autocomplete"},Fe("div",null,Fe("input",{onKeyDown:ue=>{if(ue.which===13)he();else if(ue.which===27)F.onCancel&&F.onCancel();else if(X.length>0){if(ue.which===38)if(ne===null)se(0);else{const be=Math.max(0,ne-1);se(be)}else if(ue.which===40)if(ne===null)se(0);else{const be=Math.min(X.length-1,ne+1);se(be)}}else ue.which===40&&Array.isArray(F.vocabulary)&&Q(F.vocabulary)},onChange:ue=>{const{value:be}=ue.target;G(be),se(null),be?de(be):Q([])},value:q,placeholder:F.placeholder})),Fe("ul",null,X.length>0&&X.map((ue,be)=>Fe("li",{key:`${ue.label?ue.label:ue}${be}`,onClick:he,onMouseEnter:()=>se(be),style:ne===be?{backgroundColor:"#bde4ff"}:{}},ue.label?ue.label:ue))))};const v1=F=>F||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var xd=F=>{const D=F.annotation?F.annotation.bodies.filter(ue=>ue.type==="TextualBody"&&ue.purpose==="tagging"):[],q=v1(D.slice().reverse().find(ue=>ue.draft)),G=D.filter(ue=>ue!=q),[X,Q]=qt(!1),ne=ue=>be=>{Q(X===ue?!1:ue)},se=ue=>{const be=q.value.trim(),Ee=ue.trim();be.length===0&&Ee.length>0?F.onAppendBody(ce(ie({},q),{value:Ee})):be.length>0&&Ee.length===0?F.onRemoveBody(q):F.onUpdateBody(q,ce(ie({},q),{value:Ee}))},de=ue=>be=>{be.stopPropagation(),F.onRemoveBody(ue)},he=ue=>{const be=ue.label?ce(ie({},q),{value:ue.label,source:ue.uri}):ce(ie({},q),{value:ue}),Ee=fe(be,["draft"]);q.value.trim().length===0?F.onAppendBody(Ee):F.onUpdateBody(q,Ee)};return Fe("div",{className:"r6o-widget r6o-tag"},G.length>0&&Fe("ul",{className:"r6o-taglist"},G.map(ue=>Fe("li",{key:ue.value,onClick:ne(ue.value)},Fe("span",{className:"r6o-label"},ue.value),!F.readOnly&&Fe(f1,{in:X===ue.value,timeout:200,classNames:"r6o-delete"},Fe("span",{className:"r6o-delete-wrapper",onClick:de(ue)},Fe("span",{className:"r6o-delete"},Fe(i1,{width:12}))))))),!F.readOnly&&Fe(m1,{focus:F.focus,placeholder:Fn.t("Add tag..."),vocabulary:F.vocabulary||[],onChange:se,onSubmit:he}))};class Ed extends gt{constructor(D){super(D),this.element=_t.createRef()}renderWidget(D){const q=this.props.widget(ce(ie({annotation:D.annotation,readOnly:D.readOnly},D.config),{onAppendBody:(G,X)=>D.onAppendBody(G,X),onUpdateBody:(G,X,Q)=>D.onUpdateBody(G,X,Q),onUpsertBody:(G,X,Q)=>D.onUpsertBody(G,X,Q),onRemoveBody:(G,X)=>D.onRemoveBody(G,X),onBatchModify:(G,X)=>D.onBatchModify(G,X),onSetProperty:(G,X)=>D.onSetProperty(G,X),onSaveAndClose:()=>D.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(q)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(D){this.element.current&&this.props.annotation!==D.annotation&&this.renderWidget(D)}render(){return Fe("div",{ref:this.element,className:"widget"})}}window.React=_t,window.ReactDOM=_t;const y1={COMMENT:vd,TAG:xd},b1=[Fe(vd,null),Fe(xd,null)],w1=F=>{const D=G=>{var X;return typeof G=="function"&&!!((X=G.prototype)!=null&&X.isReactComponent)},q=G=>typeof G=="function"&&(String(G).match(/return .+\(['|"].+['|"],\s*\{/g)||String(G).match(/return .+preact_compat/)||String(G).match(/return .+\.createElement/g));return D(F)||q(F)},_1=F=>{const D=(q,G,X)=>{if(typeof q=="string"||q instanceof String)return _t.createElement(y1[q],G);if((X==null?void 0:X.toLowerCase())==="react")return _t.createElement(q,G);if((X==null?void 0:X.toLowerCase())==="plainjs")return Fe(Ed,{widget:q,config:G});if(w1(q))return _t.createElement(q,G);if(typeof q=="function"||q instanceof Function)return Fe(Ed,{widget:q,config:G});throw`${q} is not a valid plugin`};if(F.widget){const q=F,{widget:G,force:X}=q,Q=fe(q,["widget","force"]);return D(G,Q,X)}else return D(F)},Sd=14;var Cd=(F,D,q,G)=>{const X=F.getBoundingClientRect();D.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:Q,top:ne,right:se,bottom:de}=q.getBoundingClientRect();if(D.style.top=`${de-X.top+Sd}px`,D.style.left=`${Q-X.left}px`,G){const he=D.children[1].getBoundingClientRect();if(he.right>window.innerWidth&&(D.classList.remove("r6o-arrow-left"),D.classList.add("r6o-arrow-right"),D.style.left=`${se-he.width-X.left}px`),he.bottom>window.innerHeight){D.classList.remove("r6o-arrow-top"),D.classList.add("r6o-arrow-bottom");const be=D.children[1].getBoundingClientRect().height;D.style.top=`${ne-X.top-be-Sd}px`}const ue=D.children[1].getBoundingClientRect();if(ue.top<0){D.classList.add("pushed","down"),D.style.top=`${-X.top}px`;const be=de-X.top;ue.height-X.top>be&&D.classList.remove("r6o-arrow-bottom")}ue.left<0&&(D.classList.add("pushed","right"),D.style.left=`${-X.left}px`),requestAnimationFrame(()=>D.style.opacity=1)}};const Td=F=>{const{top:D,left:q,width:G,height:X}=F.getBoundingClientRect();return`${D}, ${q}, ${G}, ${X}`};class x1 extends gt{constructor(D){super(D),le(this,"initResizeObserver",()=>{const q=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const G=new ResizeObserver(()=>{this.state.dragged||Cd(this.props.wrapperEl,this.element.current,this.props.selectedElement,q)});return G.observe(this.props.wrapperEl),()=>G.disconnect()}else this.state.dragged||Cd(this.props.wrapperEl,this.element.current,this.props.selectedElement,q)}),le(this,"creationMeta",q=>{const G={},{user:X}=this.props.env;return X&&(G.creator={},X.id&&(G.creator.id=X.id),X.displayName&&(G.creator.name=X.displayName),G[q.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),G}),le(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),le(this,"updateCurrentAnnotation",(q,G)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(q)},()=>{G&&this.onOk()})),le(this,"onAppendBody",(q,G)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,ie(ie({},q),this.creationMeta(q))]},G)),le(this,"onUpdateBody",(q,G,X)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(Q=>Q===q?ie(ie({},G),this.creationMeta(G)):Q)},X)),le(this,"onRemoveBody",(q,G)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(X=>X!==q)},G)),le(this,"onUpsertBody",(q,G,X)=>{if(q==null&&G!=null)this.onAppendBody(G,X);else if(q!=null&&G!=null)this.onUpdateBody(q,G,X);else if(q!=null&&G==null){const Q=this.state.currentAnnotation.bodies.find(ne=>ne.purpose===q.purpose);Q?this.onUpdateBody(Q,q,X):this.onAppendBody(q,X)}}),le(this,"onBatchModify",(q,G)=>{const X=q.filter(he=>he.action==="upsert"&&he.body).map(he=>({previous:this.state.currentAnnotation.bodies.find(ue=>ue.purpose===he.body.purpose),updated:ie(ie({},he.body),this.creationMeta(he.body))})),Q=q.filter(he=>he.action==="remove").map(he=>he.body),ne=[...q.filter(he=>he.action==="append"||he.action==="upsert"&&he.updated&&!he.previous).map(he=>ie(ie({},he.body),this.creationMeta(he.body))),...X.filter(he=>!he.previous).map(he=>he.updated)],se=[...q.filter(he=>he.action==="update"||he.action==="upsert"&&he.updated&&he.previous).map(he=>({previous:he.previous,updated:ie(ie({},he.updated),this.creationMeta(he.updated))})),...X.filter(he=>he.previous)],de=[...this.state.currentAnnotation.bodies.filter(he=>!Q.includes(he)).map(he=>{const ue=se.find(be=>be.previous===he);return ue?ue.updated:he}),...ne];this.updateCurrentAnnotation({body:de},G)}),le(this,"onSetProperty",(q,G)=>{if(["@context","id","type","body","target"].includes(q))throw new Exception(`Cannot set ${q} - not allowed`);if(G)this.updateCurrentAnnotation({[q]:G});else{const X=this.currentAnnotation.clone();delete X[q],this.setState({currentAnnotation:X})}}),le(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),le(this,"onOk",()=>{const q=X=>X.clone({body:X.bodies.map(Q=>{var ne=Q,se=fe(ne,["draft"]);return se})}),{currentAnnotation:G}=this.state;G.bodies.length===0&&!this.props.allowEmpty?G.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):G.isSelection?this.props.onAnnotationCreated(q(G).toAnnotation()):this.props.onAnnotationUpdated(q(G),this.props.annotation)}),le(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=_t.createRef(),this.state={currentAnnotation:D.annotation,dragged:!1,selectionBounds:Td(D.selectedElement)}}componentWillReceiveProps(D){var q;const{selectionBounds:G}=this.state,X=Td(D.selectedElement);(q=this.props.annotation)!=null&&q.isEqual(D.annotation)?this.setState({selectionBounds:X}):this.setState({currentAnnotation:D.annotation,selectionBounds:X}),this.props.modifiedTarget!=D.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),G!=X&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:D}=this.state,q=this.props.widgets?this.props.widgets.map(_1):b1,G=Q=>Q.type.disableDelete?Q.type.disableDelete(D,ce(ie({},Q.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,X=D&&(D.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!D.isSelection&&!q.some(G);return Fe(sf,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},Fe("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},Fe("div",{className:"r6o-arrow"}),Fe("div",{className:"r6o-editor-inner"},q.map((Q,ne)=>_t.cloneElement(Q,{key:`${ne}`,focus:ne===0,annotation:D,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?Fe("div",{className:"r6o-footer"},Fe("button",{className:"r6o-btn",onClick:this.onCancel},Fn.t("Close"))):Fe("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},X&&Fe("button",{className:"r6o-btn left delete-annotation",title:Fn.t("Delete"),onClick:this.onDelete},Fe(r1,{width:12})),Fe("button",{className:"r6o-btn outline",onClick:this.onCancel},Fn.t("Cancel")),Fe("button",{className:"r6o-btn ",onClick:this.onOk},Fn.t("Ok"))))))}}var Eo,E1=new Uint8Array(16);function S1(){if(!Eo&&(Eo=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Eo))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Eo(E1)}var C1=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function T1(F){return typeof F=="string"&&C1.test(F)}for(var yn=[],oa=0;oa<256;++oa)yn.push((oa+256).toString(16).substr(1));function A1(F){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,q=(yn[F[D+0]]+yn[F[D+1]]+yn[F[D+2]]+yn[F[D+3]]+"-"+yn[F[D+4]]+yn[F[D+5]]+"-"+yn[F[D+6]]+yn[F[D+7]]+"-"+yn[F[D+8]]+yn[F[D+9]]+"-"+yn[F[D+10]]+yn[F[D+11]]+yn[F[D+12]]+yn[F[D+13]]+yn[F[D+14]]+yn[F[D+15]]).toLowerCase();if(!T1(q))throw TypeError("Stringified UUID is invalid");return q}function Ad(F,D,q){F=F||{};var G=F.random||(F.rng||S1)();if(G[6]=G[6]&15|64,G[8]=G[8]&63|128,D){q=q||0;for(var X=0;X<16;++X)D[q+X]=G[X];return D}return A1(G)}var P1=function F(D,q){if(D===q)return!0;if(D&&q&&typeof D=="object"&&typeof q=="object"){if(D.constructor!==q.constructor)return!1;var G,X,Q;if(Array.isArray(D)){if(G=D.length,G!=q.length)return!1;for(X=G;X--!=0;)if(!F(D[X],q[X]))return!1;return!0}if(D.constructor===RegExp)return D.source===q.source&&D.flags===q.flags;if(D.valueOf!==Object.prototype.valueOf)return D.valueOf()===q.valueOf();if(D.toString!==Object.prototype.toString)return D.toString()===q.toString();if(Q=Object.keys(D),G=Q.length,G!==Object.keys(q).length)return!1;for(X=G;X--!=0;)if(!Object.prototype.hasOwnProperty.call(q,Q[X]))return!1;for(X=G;X--!=0;){var ne=Q[X];if(!F(D[ne],q[ne]))return!1}return!0}return D!==D&&q!==q},Pd=P1;const sa=class{constructor(F,D){le(this,"clone",(q,G)=>new sa(ie(ie({},this.underlying),q),ie(ie({},this.opts),G))),le(this,"selector",q=>{const{target:G}=this.underlying;if(G.selector)return(Array.isArray(G.selector)?G.selector:[G.selector]).find(X=>X.type===q)}),this.underlying=F,this.opts=D}isEqual(F){return(F==null?void 0:F.type)!=="Annotation"?!1:this.underlying===F.underlying?!0:!this.underlying.id||!F.underlying.id?!1:Pd(this.underlying,F.underlying)}get readOnly(){var F;return(F=this.opts)==null?void 0:F.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(F){this.underlying.body=F}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let Ei=sa;le(Ei,"create",F=>{const D={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Ad()}`,body:[]};return new sa(ie(ie({},D),F))});class hr{constructor(D,q){le(this,"clone",G=>{const X=new hr;return X.underlying=JSON.parse(JSON.stringify(this.underlying)),G&&(X.underlying=ie(ie({},X.underlying),G)),X}),le(this,"selector",G=>{const{target:X}=this.underlying;if(X.selector)return(Array.isArray(X.selector)?X.selector:[X.selector]).find(Q=>Q.type===G)}),le(this,"toAnnotation",()=>{const G=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Ad()}`});return new Ei(G)}),this.underlying={type:"Selection",body:q||[],target:D}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(D){return D?Pd(this.underlying,D.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let aa=0;var k1=()=>({setServerTime:F=>{const D=Date.now();aa=F-D},getCurrentTimeAdjusted:()=>new Date(Date.now()+aa).toISOString(),toClientTime:F=>Date.parse(F)-aa});const O1=(F,D)=>{if(F){const q=F==="auto"?window.navigator.userLanguage||window.navigator.language:F;try{Fn.init(q.split("-")[0].toLowerCase(),D)}catch{console.warn(`Unsupported locale '${q}'. Falling back to default en.`)}}else Fn.init(null,D)},Lt="http://www.w3.org/2000/svg",la=F=>{const D=F.getAttribute("class");return D?new Set(D.split(" ")):new Set},ci=(F,D)=>{const q=la(F);q.add(D),F.setAttribute("class",Array.from(q).join(" "))},R1=(F,D)=>{const q=la(F);q.delete(D),q.size===0?F.removeAttribute("class"):F.setAttribute("class",Array.from(q).join(" "))},ua=(F,D)=>la(F).has(D),Si=(F,D)=>{const q=F.selector("FragmentSelector");if(q!=null&&q.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:G}=q,X=G.includes(":")?G.substring(G.indexOf("=")+1,G.indexOf(":")):"pixel",Q=G.includes(":")?G.substring(G.indexOf(":")+1):G.substring(G.indexOf("=")+1);let[ne,se,de,he]=Q.split(",").map(parseFloat);return X.toLowerCase()==="percent"&&(ne=ne*D.naturalWidth/100,se=se*D.naturalHeight/100,de=de*D.naturalWidth/100,he=he*D.naturalHeight/100),{x:ne,y:se,w:de,h:he}}},M1=(F,D,q,G,X)=>({source:X==null?void 0:X.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${F},${D},${q},${G}`}}),B1=(F,D,q,G,X)=>{const Q=F/X.naturalWidth*100,ne=D/X.naturalHeight*100,se=q/X.naturalWidth*100,de=G/X.naturalHeight*100;return{source:X.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${Q},${ne},${se},${de}`}}},fr=(F,D,q,G,X,Q)=>(Q==null?void 0:Q.toLowerCase())==="percent"?B1(F,D,q,G,X):M1(F,D,q,G,X),So=(F,D,q,G,X)=>{F.setAttribute("x",D),F.setAttribute("y",q),F.setAttribute("width",G),F.setAttribute("height",X)},Co=(F,D,q)=>{F.setAttribute("cx",D),F.setAttribute("cy",q),F.setAttribute("r",7)},kd=(F,D,q,G,X)=>{const Q=document.createElementNS(Lt,"path");Q.setAttribute("fill-rule","evenodd");const{naturalWidth:ne,naturalHeight:se}=F;return Q.setAttribute("d",`M0 0 h${ne} v${se} h-${ne} z M${D} ${q} h${G} v${X} h-${G} z`),Q},ca=(F,D,q,G,X,Q)=>{const{naturalWidth:ne,naturalHeight:se}=D;F.setAttribute("d",`M0 0 h${ne} v${se} h-${ne} z M${q} ${G} h${X} v${Q} h-${X} z`)},da=(F,D,q,G)=>{const{x:X,y:Q,w:ne,h:se}=F.type==="Annotation"||F.type==="Selection"?Si(F,D):{x:F,y:D,w:q,h:G},de=document.createElementNS(Lt,"g");if(ne===0&&se===0){ci(de,"a9s-point"),ci(de,"a9s-non-scaling"),de.setAttribute("transform-origin",`${X} ${Q}`);const he=document.createElementNS(Lt,"circle"),ue=document.createElementNS(Lt,"circle");ue.setAttribute("class","a9s-inner"),Co(ue,X,Q),he.setAttribute("class","a9s-outer"),Co(he,X,Q),de.appendChild(he),de.appendChild(ue)}else{const he=document.createElementNS(Lt,"rect"),ue=document.createElementNS(Lt,"rect");ue.setAttribute("class","a9s-inner"),So(ue,X,Q,ne,se),he.setAttribute("class","a9s-outer"),So(he,X,Q,ne,se),de.appendChild(he),de.appendChild(ue)}return de},Od=F=>{const D=F.querySelector(".a9s-outer");if(D.nodeName==="rect"){const q=parseFloat(D.getAttribute("x")),G=parseFloat(D.getAttribute("y")),X=parseFloat(D.getAttribute("width")),Q=parseFloat(D.getAttribute("height"));return{x:q,y:G,w:X,h:Q}}else{const q=parseFloat(D.getAttribute("cx")),G=parseFloat(D.getAttribute("cy"));return{x:q,y:G,w:0,h:0}}},ha=(F,D,q,G,X)=>{const Q=F.querySelector(".a9s-inner"),ne=F.querySelector(".a9s-outer");ne.nodeName==="rect"?(So(Q,D,q,G,X),So(ne,D,q,G,X)):(Co(Q,D,q),Co(ne,D,q))},F1=(F,D)=>{const{w:q,h:G}=Si(F,D);return q*G};class D1{constructor(D,q,G,X,Q){le(this,"dragTo",(ne,se)=>{this.group.style.display=null,this.opposite=[ne,se];const{x:de,y:he,w:ue,h:be}=this.bbox;ca(this.mask,this.env.image,de,he,ue,be),ha(this.rect,de,he,ue,be)}),le(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),le(this,"toSelection",()=>{const{x:ne,y:se,w:de,h:he}=this.bbox;return new hr(fr(ne,se,de,he,this.env.image,this.config.fragmentUnit))}),le(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[D,q],this.opposite=[D,q],this.config=X,this.env=Q,this.group=document.createElementNS(Lt,"g"),this.mask=kd(Q.image,D,q,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=da(D,q,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),G.appendChild(this.group)}get bbox(){const D=this.opposite[0]-this.anchor[0],q=this.opposite[1]-this.anchor[1];return{x:D>0?this.anchor[0]:this.opposite[0],y:q>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(D)),h:Math.max(1,Math.abs(q))}}get element(){return this.rect}}const I1={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},fa=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,N1=F=>{let D=null;const q=(X,Q)=>new MouseEvent(X,{screenX:Q.screenX,screenY:Q.screenY,clientX:Q.clientX,clientY:Q.clientY,pageX:Q.pageX,pageY:Q.pageY,bubbles:!0}),G=X=>{const Q=X.changedTouches[0],ne=q(I1[X.type],Q);Q.target.dispatchEvent(ne),X.preventDefault(),(X.type==="touchstart"||X.type==="touchmove")&&(D&&clearTimeout(D),D=setTimeout(()=>{const se=q("dblclick",Q);Q.target.dispatchEvent(se)},800)),X.type==="touchend"&&D&&clearTimeout(D)};F.addEventListener("touchstart",G,!0),F.addEventListener("touchmove",G,!0),F.addEventListener("touchend",G,!0),F.addEventListener("touchcancel",G,!0)},To="An implementation is missing",L1=fa();class Rd extends xr{constructor(D,q,G){super(),le(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const Q=this.svg.getBoundingClientRect(),{width:ne,height:se}=this.svg.viewBox.baseVal;this.scale=Math.max(ne/Q.width,se/Q.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),le(this,"getSVGPoint",Q=>{const ne=this.svg.createSVGPoint();if(L1){const se=this.svg.getBoundingClientRect(),de=Q.clientX-se.x,he=Q.clientY-se.y,{left:ue,top:be}=this.svg.getBoundingClientRect();return ne.x=de+ue,ne.y=he+be,ne.matrixTransform(this.g.getScreenCTM().inverse())}else return ne.x=Q.offsetX,ne.y=Q.offsetY,ne.matrixTransform(this.g.getCTM().inverse())}),le(this,"drawHandle",(Q,ne)=>{const se=document.createElementNS(Lt,"g");se.setAttribute("class","a9s-handle");const de=document.createElementNS(Lt,"g"),he=Oe=>{const De=document.createElementNS(Lt,"circle");return De.setAttribute("cx",Q),De.setAttribute("cy",ne),De.setAttribute("r",Oe),De},ue=this.config.handleRadius||6,be=he(ue);be.setAttribute("class","a9s-handle-inner");const Ee=he(ue+1);return Ee.setAttribute("class","a9s-handle-outer"),de.appendChild(Ee),de.appendChild(be),se.appendChild(de),se}),le(this,"setHandleXY",(Q,ne,se)=>{const de=Q.querySelector(".a9s-handle-inner");de.setAttribute("cx",ne),de.setAttribute("cy",se);const he=Q.querySelector(".a9s-handle-outer");he.setAttribute("cx",ne),he.setAttribute("cy",se)}),le(this,"getHandleXY",Q=>{const ne=Q.querySelector(".a9s-handle-outer");return{x:parseFloat(ne.getAttribute("cx")),y:parseFloat(ne.getAttribute("cy"))}}),le(this,"scaleHandle",Q=>{const ne=Q.querySelector(".a9s-handle-inner"),se=Q.querySelector(".a9s-handle-outer"),de=this.scale*(this.config.handleRadius||6);ne.setAttribute("r",de),se.setAttribute("r",de)}),this.svg=D.closest("svg"),this.g=D,this.config=q,this.env=G,this.scale=1;const{image:X}=G;(X instanceof Element||X instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class pa extends Rd{constructor(D,q,G){super(D,q,G),le(this,"attachListeners",({mouseMove:X,mouseUp:Q,dblClick:ne})=>{X&&(this.mouseMove=se=>{const{x:de,y:he}=this.getSVGPoint(se);this.started||(this.emit("startSelection",{x:de,y:he}),this.started=!0),X(de,he,se)},this.svg.addEventListener("mousemove",this.mouseMove)),Q&&(this.mouseUp=se=>{if(se.button!==0)return;const{x:de,y:he}=this.getSVGPoint(se);Q(de,he,se)},document.addEventListener("mouseup",this.mouseUp)),ne&&(this.dblClick=se=>{const{x:de,y:he}=this.getSVGPoint(se);ne(de,he,se)},document.addEventListener("dblclick",this.dblClick))}),le(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),le(this,"start",(X,Q)=>{const{x:ne,y:se}=this.getSVGPoint(X);this.startDrawing(ne,se,Q,X)}),le(this,"startDrawing",X=>{throw new Error(To)}),le(this,"createEditableShape",X=>{throw new Error(To)}),this.started=!1}get isDrawing(){throw new Error(To)}}pa.supports=F=>{throw new Error(To)};const Md="An implementation is missing";class Bd extends Rd{constructor(D,q,G,X){super(q,G,X),le(this,"updateState",Q=>{throw new Error(Md)}),this.annotation=D}get element(){throw new Error(Md)}}const H1=/firefox/i.test(navigator.userAgent),Fd=(F,D,q,G,X)=>{F.setAttribute("width",G),F.setAttribute("height",X),H1?(F.setAttribute("x",0),F.setAttribute("y",0),F.setAttribute("transform",`translate(${D}, ${q})`)):(F.setAttribute("x",D),F.setAttribute("y",q))},Dd=(F,D)=>{const{x:q,y:G,width:X,height:Q}=D.getBBox(),ne=document.createElementNS(Lt,"svg");ne.setAttribute("class","a9s-formatter-el"),Fd(ne,q,G,X,Q);const se=document.createElementNS(Lt,"g");se.appendChild(F),ne.appendChild(se),D.append(ne)},Ao=(F,D,q)=>{if(!q)return F;const G=q(D);if(!G)return F;if(typeof G=="string"||G instanceof String)ci(F,G);else if(G.nodeType===Node.ELEMENT_NODE)Dd(G,F);else{const{className:X,style:Q,element:ne}=G;if(X&&ci(F,X),Q){const se=F.querySelector(".a9s-outer"),de=F.querySelector(".a9s-inner");se&&de?(se.setAttribute("style","display:none"),de.setAttribute("style",Q)):F.setAttribute("style",Q)}ne&&Dd(ne,F);for(const se in G)G.hasOwnProperty(se)&&se.startsWith("data-")&&F.setAttribute(se,G[se])}},ga=(F,D,q,G,X)=>{const Q=F.querySelector(".a9s-formatter-el");Q&&Fd(Q,D,q,G,X)};class z1 extends Bd{constructor(D,q,G,X){super(D,q,G,X),le(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),le(this,"setSize",(he,ue,be,Ee)=>{ha(this.rectangle,he,ue,be,Ee),ca(this.mask,this.env.image,he,ue,be,Ee),ga(this.elementGroup,he,ue,be,Ee);const[Oe,De,Ge,We]=this.handles;this.setHandleXY(Oe,he,ue),this.setHandleXY(De,he+be,ue),this.setHandleXY(Ge,he+be,ue+Ee),this.setHandleXY(We,he,ue+Ee)}),le(this,"stretchCorners",(he,ue,be)=>{const Ee=this.getHandleXY(ue),Oe=be.x-Ee.x,De=be.y-Ee.y,Ge=Oe>0?Ee.x:be.x,We=De>0?Ee.y:be.y,tt=Math.abs(Oe),at=Math.abs(De);ha(this.rectangle,Ge,We,tt,at),ca(this.mask,this.env.image,Ge,We,tt,at),ga(this.elementGroup,Ge,We,tt,at),this.setHandleXY(this.handles[he],be.x,be.y);const At=this.handles[(he+3)%4];this.setHandleXY(At,Ee.x,be.y);const xt=this.handles[(he+5)%4];return this.setHandleXY(xt,be.x,Ee.y),{x:Ge,y:We,w:tt,h:at}}),le(this,"onGrab",he=>ue=>{if(ue.button!==0)return;this.grabbedElem=he;const be=this.getSVGPoint(ue),{x:Ee,y:Oe}=Od(this.rectangle);this.mouseOffset={x:be.x-Ee,y:be.y-Oe}}),le(this,"onMouseMove",he=>{if(he.button!==0)return;const ue=(be,Ee)=>be<0?0:be>Ee?Ee:be;if(this.grabbedElem){const be=this.getSVGPoint(he);if(this.grabbedElem===this.rectangle){const{w:Ee,h:Oe}=Od(this.rectangle),{naturalWidth:De,naturalHeight:Ge}=this.env.image,We=ue(be.x-this.mouseOffset.x,De-Ee),tt=ue(be.y-this.mouseOffset.y,Ge-Oe);this.setSize(We,tt,Ee,Oe),this.emit("update",fr(We,tt,Ee,Oe,this.env.image,this.config.fragmentUnit))}else{const Ee=this.handles.indexOf(this.grabbedElem),Oe=Ee<2?this.handles[Ee+2]:this.handles[Ee-2],{x:De,y:Ge,w:We,h:tt}=this.stretchCorners(Ee,Oe,be);this.emit("update",fr(De,Ge,We,tt,this.env.image,this.config.fragmentUnit))}}}),le(this,"onMouseUp",he=>{this.grabbedElem=null,this.mouseOffset=null}),le(this,"updateState",he=>{const{x:ue,y:be,w:Ee,h:Oe}=Si(he,this.env.image);this.setSize(ue,be,Ee,Oe)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:Q,y:ne,w:se,h:de}=Si(D,X.image);this.containerGroup=document.createElementNS(Lt,"g"),this.mask=kd(X.image,Q,ne,se,de),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Lt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=da(Q,ne,se,de),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[Q,ne],[Q+se,ne],[Q+se,ne+de],[Q,ne+de]].map(he=>{const[ue,be]=he,Ee=this.drawHandle(ue,be);return Ee.addEventListener("mousedown",this.onGrab(Ee)),this.elementGroup.appendChild(Ee),Ee}),this.containerGroup.appendChild(this.elementGroup),q.appendChild(this.containerGroup),Ao(this.rectangle,D,G.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class Po extends pa{constructor(D,q,G){super(D,q,G),le(this,"startDrawing",(X,Q)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new D1(X,Q,this.g,this.config,this.env)}),le(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),le(this,"onMouseMove",(X,Q)=>this.rubberband.dragTo(X,Q)),le(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:X,height:Q}=this.rubberband.getBoundingClientRect(),ne=this.config.minSelectionWidth||4,se=this.config.minSelectionHeight||4;if(X>=ne&&Q>=se){const{element:de}=this.rubberband;de.annotation=this.rubberband.toSelection(),this.emit("complete",de)}else this.emit("cancel");this.stop()}),le(this,"createEditableShape",X=>new z1(X,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}Po.identifier="rect",Po.supports=F=>{const D=F.selector("FragmentSelector");return D==null?void 0:D.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const V1=F=>{const D=new XMLSerializer().serializeToString(F.documentElement).replace("<svg>",`<svg xmlns="${Lt}">`);return new DOMParser().parseFromString(D,"image/svg+xml").documentElement},Id=F=>{const D=G=>{Array.from(G.attributes).forEach(X=>{X.name.startsWith("on")&&G.removeAttribute(X.name)})},q=F.getElementsByTagName("script");return Array.from(q).reverse().forEach(G=>G.parentNode.removeChild(G)),D(F),Array.from(F.querySelectorAll("*")).forEach(D),F},Ui=F=>{const D=F.selector("SvgSelector");if(D){const q=new DOMParser,{value:G}=D,X=q.parseFromString(G,"image/svg+xml"),Q=X.lookupPrefix(Lt),ne=X.lookupNamespaceURI(null);return Q||ne?Id(X).firstChild:Id(V1(X)).firstChild}},Nd=F=>{const D=Ui(F),q=document.createElementNS(Lt,"g"),G=D.cloneNode(!0);G.setAttribute("class","a9s-inner");const X=D.cloneNode(!0);return X.setAttribute("class","a9s-outer"),q.appendChild(X),q.appendChild(G),q},ma=(F,D)=>{const q=F.querySelector(".a9s-inner").cloneNode(!0);q.removeAttribute("class"),q.removeAttribute("xmlns");let G=q.outerHTML||new XMLSerializer().serializeToString(q);return G=G.replace(` xmlns="${Lt}"`,""),{source:D==null?void 0:D.src,selector:{type:"SvgSelector",value:`<svg>${G}</svg>`}}},j1=F=>{const D=Ui(F),q=D.nodeName.toLowerCase();if(q==="polygon")return U1(D);if(q==="circle")return W1(D);if(q==="ellipse")return q1(D);if(q=="path")return G1(D);throw`Unsupported SVG shape type: ${q}`},U1=F=>{const D=F.getAttribute("points").split(" ").map(X=>X.split(",").map(Q=>parseFloat(Q.trim())));let q=0,G=D.length-1;for(let X=0;X<D.length;X++)q+=(D[G][0]+D[X][0])*(D[G][1]-D[X][1]),G=X;return Math.abs(.5*q)},W1=F=>{const D=F.getAttribute("r");return D*D*Math.PI},q1=F=>{const D=F.getAttribute("rx"),q=F.getAttribute("ry");return D*q*Math.PI},G1=F=>{const D=F.getAttribute("d").split("L");let q=0;if(D.length>1){var G=D[D.length-1].trim().split(" ");let X=parseFloat(G[0]),Q=parseFloat(G[1]);G=D[0].substring(1).trim().split(" ");let ne=parseFloat(G[0]),se=parseFloat(G[1]);q+=(X+ne)*(Q-se),X=ne,Q=se;for(let de=1;de<D.length;de++)G=D[de].trim().split(" "),ne=parseFloat(G[0]),se=parseFloat(G[1]),q+=(X+ne)*(Q-se),X=ne,Q=se}return Math.abs(.5*q)};class Ld{constructor(D,q){le(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),le(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=D.naturalWidth,this.h=D.naturalHeight,this.polygon=q,this.mask=document.createElementNS(Lt,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class X1{constructor(D,q,G){le(this,"setPoints",X=>{const Q=X.map(ne=>`${ne[0]},${ne[1]}`).join(" ");this.outer.setAttribute("points",Q),this.inner.setAttribute("points",Q)}),le(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),le(this,"dragTo",X=>{this.group.style.display=null,this.mousepos=X;const Q=[...this.points,X];this.setPoints(Q),this.mask.redraw()}),le(this,"addPoint",()=>{const[X,Q]=this.mousepos,ne=this.points[this.points.length-1];Math.pow(X-ne[0],2)+Math.pow(Q-ne[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),le(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),le(this,"toSelection",()=>new hr(ma(this.group,this.env.image))),this.points=[D],this.env=G,this.mousepos=D,this.group=document.createElementNS(Lt,"g"),this.polygon=document.createElementNS(Lt,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Lt,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Lt,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new Ld(G.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),q.appendChild(this.group)}get element(){return this.polygon}}const va=F=>{const D=F.querySelector(".a9s-inner").points,q=[];for(let G=0;G<D.numberOfItems;G++)q.push(D.getItem(G));return q},Y1=F=>F.querySelector(".a9s-inner").getBBox();class K1 extends Bd{constructor(D,q,G,X){super(D,q,G,X),le(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),le(this,"setPoints",Q=>{const ne=Oe=>Math.round(10*Oe)/10,se=Q.map(Oe=>`${ne(Oe.x)},${ne(Oe.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",se);const de=this.shape.querySelector(".a9s-outer");de.setAttribute("points",se),this.mask.redraw();const{x:he,y:ue,width:be,height:Ee}=de.getBBox();ga(this.elementGroup,he,ue,be,Ee)}),le(this,"onGrab",Q=>ne=>{ne.button===0&&(this.grabbedElem=Q,this.grabbedAt=this.getSVGPoint(ne))}),le(this,"onMouseMove",Q=>{const ne=(se,de,he)=>se+de<0?-se:se+de>he?he-se:de;if(this.grabbedElem){const se=this.getSVGPoint(Q);if(this.grabbedElem===this.shape){const{x:de,y:he,width:ue,height:be}=Y1(this.shape),{naturalWidth:Ee,naturalHeight:Oe}=this.env.image,De=ne(de,se.x-this.grabbedAt.x,Ee-ue),Ge=ne(he,se.y-this.grabbedAt.y,Oe-be),We=va(this.shape).map(tt=>({x:tt.x+De,y:tt.y+Ge}));this.grabbedAt=se,this.setPoints(We),We.forEach((tt,at)=>this.setHandleXY(this.handles[at],tt.x,tt.y)),this.emit("update",ma(this.shape,this.env.image))}else{const de=this.handles.indexOf(this.grabbedElem),he=va(this.shape).map((ue,be)=>be===de?se:ue);this.setPoints(he),this.setHandleXY(this.handles[de],se.x,se.y),this.emit("update",ma(this.shape,this.env.image))}}}),le(this,"onMouseUp",Q=>{this.grabbedElem=null,this.grabbedAt=null}),le(this,"updateState",Q=>{const ne=Ui(Q).getAttribute("points").split(" ").map(se=>{const[de,he]=se.split(",").map(ue=>parseFloat(ue.trim()));return{x:de,y:he}});this.setPoints(ne),ne.forEach((se,de)=>this.setHandleXY(this.handles[de],se.x,se.y))}),le(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Lt,"g"),this.shape=Nd(D),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new Ld(X.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Lt,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=va(this.shape).map(Q=>{const ne=this.drawHandle(Q.x,Q.y);return ne.addEventListener("mousedown",this.onGrab(ne)),this.elementGroup.appendChild(ne),ne}),this.containerGroup.appendChild(this.elementGroup),q.appendChild(this.containerGroup),Ao(this.shape,D,G.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class ya extends pa{constructor(D,q,G){super(D,q,G),le(this,"startDrawing",(X,Q,ne)=>{this._isDrawing=!0,this._startOnSingleClick=ne,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new X1([X,Q],this.g,this.env)}),le(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),le(this,"onMouseMove",(X,Q)=>this.rubberband.dragTo([X,Q])),le(this,"onMouseUp",()=>{const{width:X,height:Q}=this.rubberband.getBoundingClientRect(),ne=this.config.minSelectionWidth||4,se=this.config.minSelectionHeight||4;X>=ne||Q>=se?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),le(this,"onDblClick",()=>{this._isDrawing=!1;const X=this.rubberband.element;X.annotation=this.rubberband.toSelection(),this.emit("complete",X),this.stop()}),le(this,"createEditableShape",X=>new K1(X,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}ya.identifier="polygon",ya.supports=F=>{var D;const q=F.selector("SvgSelector");if(q)return(D=q.value)==null?void 0:D.match(/^<svg.*<polygon/g)};class $1 extends xr{constructor(D,q,G){super(),le(this,"listTools",()=>this._registered.map(X=>X.identifier)),le(this,"registerTool",X=>{const Q=X.identifier;this.listTools().includes(Q)&&this.unregisterTool(Q),this._registered.push(X)}),le(this,"unregisterTool",X=>this._registered=this._registered.filter(Q=>Q.identifier!==X)),le(this,"setCurrent",X=>{const Q=typeof X=="string"||X instanceof String?this._registered.find(ne=>ne.identifier===X):X;this._current=new Q(this._g,this._config,this._env),this._current.on("startSelection",ne=>this.emit("startSelection",ne)),this._current.on("complete",ne=>this.emit("complete",ne)),this._current.on("cancel",ne=>this.emit("cancel",ne))}),le(this,"forAnnotation",X=>{var Q;const[ne,...se]=X.targets,de=(Q=ne.renderedVia)==null?void 0:Q.name,he=de?this._registered.find(ue=>ue.identifier===de):this._registered.find(ue=>ue.supports(X));return he?new he(this._g,this._config,this._env):null}),this._g=D,this._config=q,this._env=G,this._registered=[Po,ya],this.setCurrent(Po)}get current(){return this._current}}class Z1{constructor(D,q,G){this.svg=D.closest("svg"),this.g=document.createElementNS(Lt,"g"),this.g.setAttribute("class","a9s-crosshair");const X=document.createElementNS(Lt,"line"),Q=document.createElementNS(Lt,"line");this.g.appendChild(X),this.g.appendChild(Q),D.appendChild(this.g);const ne=se=>{const de=this.svg.getBoundingClientRect(),he=se.clientX-de.x,ue=se.clientY-de.y,be=this.svg.createSVGPoint(),{left:Ee,top:Oe}=this.svg.getBoundingClientRect();return be.x=he+Ee,be.y=ue+Oe,be.matrixTransform(D.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",se=>{const{x:de,y:he}=ne(se);X.setAttribute("x1",0),X.setAttribute("y1",he),X.setAttribute("x2",q),X.setAttribute("y2",he),Q.setAttribute("x1",de),Q.setAttribute("y1",0),Q.setAttribute("x2",de),Q.setAttribute("y2",G)})}}const J1={FragmentSelector:da,SvgSelector:Nd},Q1={FragmentSelector:F1,SvgSelector:j1},Hd=F=>{const D=F.targets[0];if(D)return Array.isArray(D.selector)?D.selector[0]:D.selector},ba=(F,D)=>J1[Hd(F).type](F,D),zd=(F,D)=>Q1[Hd(F).type](F,D);function e_(F,D,q,G,X){Vd(F,D,q||0,G||F.length-1,X||t_)}function Vd(F,D,q,G,X){for(;G>q;){if(G-q>600){var Q=G-q+1,ne=D-q+1,se=Math.log(Q),de=.5*Math.exp(2*se/3),he=.5*Math.sqrt(se*de*(Q-de)/Q)*(ne-Q/2<0?-1:1),ue=Math.max(q,Math.floor(D-ne*de/Q+he)),be=Math.min(G,Math.floor(D+(Q-ne)*de/Q+he));Vd(F,D,ue,be,X)}var Ee=F[D],Oe=q,De=G;for(pr(F,q,D),X(F[G],Ee)>0&&pr(F,q,G);Oe<De;){for(pr(F,Oe,De),Oe++,De--;X(F[Oe],Ee)<0;)Oe++;for(;X(F[De],Ee)>0;)De--}X(F[q],Ee)===0?pr(F,q,De):(De++,pr(F,De,G)),De<=D&&(q=De+1),D<=De&&(G=De-1)}}function pr(F,D,q){var G=F[D];F[D]=F[q],F[q]=G}function t_(F,D){return F<D?-1:F>D?1:0}class n_{constructor(D=9){this._maxEntries=Math.max(4,D),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(D){let q=this.data;const G=[];if(!Oo(D,q))return G;const X=this.toBBox,Q=[];for(;q;){for(let ne=0;ne<q.children.length;ne++){const se=q.children[ne],de=q.leaf?X(se):se;Oo(D,de)&&(q.leaf?G.push(se):xa(D,de)?this._all(se,G):Q.push(se))}q=Q.pop()}return G}collides(D){let q=this.data;if(!Oo(D,q))return!1;const G=[];for(;q;){for(let X=0;X<q.children.length;X++){const Q=q.children[X],ne=q.leaf?this.toBBox(Q):Q;if(Oo(D,ne)){if(q.leaf||xa(D,ne))return!0;G.push(Q)}}q=G.pop()}return!1}load(D){if(!(D&&D.length))return this;if(D.length<this._minEntries){for(let G=0;G<D.length;G++)this.insert(D[G]);return this}let q=this._build(D.slice(),0,D.length-1,0);if(!this.data.children.length)this.data=q;else if(this.data.height===q.height)this._splitRoot(this.data,q);else{if(this.data.height<q.height){const G=this.data;this.data=q,q=G}this._insert(q,this.data.height-q.height-1,!0)}return this}insert(D){return D&&this._insert(D,this.data.height-1),this}clear(){return this.data=qi([]),this}remove(D,q){if(!D)return this;let G=this.data;const X=this.toBBox(D),Q=[],ne=[];let se,de,he;for(;G||Q.length;){if(G||(G=Q.pop(),de=Q[Q.length-1],se=ne.pop(),he=!0),G.leaf){const ue=i_(D,G.children,q);if(ue!==-1)return G.children.splice(ue,1),Q.push(G),this._condense(Q),this}!he&&!G.leaf&&xa(G,X)?(Q.push(G),ne.push(se),se=0,de=G,G=G.children[0]):de?(se++,G=de.children[se],he=!1):G=null}return this}toBBox(D){return D}compareMinX(D,q){return D.minX-q.minX}compareMinY(D,q){return D.minY-q.minY}toJSON(){return this.data}fromJSON(D){return this.data=D,this}_all(D,q){const G=[];for(;D;)D.leaf?q.push(...D.children):G.push(...D.children),D=G.pop();return q}_build(D,q,G,X){const Q=G-q+1;let ne=this._maxEntries,se;if(Q<=ne)return se=qi(D.slice(q,G+1)),Wi(se,this.toBBox),se;X||(X=Math.ceil(Math.log(Q)/Math.log(ne)),ne=Math.ceil(Q/Math.pow(ne,X-1))),se=qi([]),se.leaf=!1,se.height=X;const de=Math.ceil(Q/ne),he=de*Math.ceil(Math.sqrt(ne));jd(D,q,G,he,this.compareMinX);for(let ue=q;ue<=G;ue+=he){const be=Math.min(ue+he-1,G);jd(D,ue,be,de,this.compareMinY);for(let Ee=ue;Ee<=be;Ee+=de){const Oe=Math.min(Ee+de-1,be);se.children.push(this._build(D,Ee,Oe,X-1))}}return Wi(se,this.toBBox),se}_chooseSubtree(D,q,G,X){for(;X.push(q),!(q.leaf||X.length-1===G);){let Q=1/0,ne=1/0,se;for(let de=0;de<q.children.length;de++){const he=q.children[de],ue=wa(he),be=s_(D,he)-ue;be<ne?(ne=be,Q=ue<Q?ue:Q,se=he):be===ne&&ue<Q&&(Q=ue,se=he)}q=se||q.children[0]}return q}_insert(D,q,G){const X=G?D:this.toBBox(D),Q=[],ne=this._chooseSubtree(X,this.data,q,Q);for(ne.children.push(D),mr(ne,X);q>=0&&Q[q].children.length>this._maxEntries;)this._split(Q,q),q--;this._adjustParentBBoxes(X,Q,q)}_split(D,q){const G=D[q],X=G.children.length,Q=this._minEntries;this._chooseSplitAxis(G,Q,X);const ne=this._chooseSplitIndex(G,Q,X),se=qi(G.children.splice(ne,G.children.length-ne));se.height=G.height,se.leaf=G.leaf,Wi(G,this.toBBox),Wi(se,this.toBBox),q?D[q-1].children.push(se):this._splitRoot(G,se)}_splitRoot(D,q){this.data=qi([D,q]),this.data.height=D.height+1,this.data.leaf=!1,Wi(this.data,this.toBBox)}_chooseSplitIndex(D,q,G){let X,Q=1/0,ne=1/0;for(let se=q;se<=G-q;se++){const de=gr(D,0,se,this.toBBox),he=gr(D,se,G,this.toBBox),ue=a_(de,he),be=wa(de)+wa(he);ue<Q?(Q=ue,X=se,ne=be<ne?be:ne):ue===Q&&be<ne&&(ne=be,X=se)}return X||G-q}_chooseSplitAxis(D,q,G){const X=D.leaf?this.compareMinX:r_,Q=D.leaf?this.compareMinY:o_,ne=this._allDistMargin(D,q,G,X),se=this._allDistMargin(D,q,G,Q);ne<se&&D.children.sort(X)}_allDistMargin(D,q,G,X){D.children.sort(X);const Q=this.toBBox,ne=gr(D,0,q,Q),se=gr(D,G-q,G,Q);let de=ko(ne)+ko(se);for(let he=q;he<G-q;he++){const ue=D.children[he];mr(ne,D.leaf?Q(ue):ue),de+=ko(ne)}for(let he=G-q-1;he>=q;he--){const ue=D.children[he];mr(se,D.leaf?Q(ue):ue),de+=ko(se)}return de}_adjustParentBBoxes(D,q,G){for(let X=G;X>=0;X--)mr(q[X],D)}_condense(D){for(let q=D.length-1,G;q>=0;q--)D[q].children.length===0?q>0?(G=D[q-1].children,G.splice(G.indexOf(D[q]),1)):this.clear():Wi(D[q],this.toBBox)}}function i_(F,D,q){if(!q)return D.indexOf(F);for(let G=0;G<D.length;G++)if(q(F,D[G]))return G;return-1}function Wi(F,D){gr(F,0,F.children.length,D,F)}function gr(F,D,q,G,X){X||(X=qi(null)),X.minX=1/0,X.minY=1/0,X.maxX=-1/0,X.maxY=-1/0;for(let Q=D;Q<q;Q++){const ne=F.children[Q];mr(X,F.leaf?G(ne):ne)}return X}function mr(F,D){return F.minX=Math.min(F.minX,D.minX),F.minY=Math.min(F.minY,D.minY),F.maxX=Math.max(F.maxX,D.maxX),F.maxY=Math.max(F.maxY,D.maxY),F}function r_(F,D){return F.minX-D.minX}function o_(F,D){return F.minY-D.minY}function wa(F){return(F.maxX-F.minX)*(F.maxY-F.minY)}function ko(F){return F.maxX-F.minX+(F.maxY-F.minY)}function s_(F,D){return(Math.max(D.maxX,F.maxX)-Math.min(D.minX,F.minX))*(Math.max(D.maxY,F.maxY)-Math.min(D.minY,F.minY))}function a_(F,D){const q=Math.max(F.minX,D.minX),G=Math.max(F.minY,D.minY),X=Math.min(F.maxX,D.maxX),Q=Math.min(F.maxY,D.maxY);return Math.max(0,X-q)*Math.max(0,Q-G)}function xa(F,D){return F.minX<=D.minX&&F.minY<=D.minY&&D.maxX<=F.maxX&&D.maxY<=F.maxY}function Oo(F,D){return D.minX<=F.maxX&&D.minY<=F.maxY&&D.maxX>=F.minX&&D.maxY>=F.minY}function qi(F){return{children:F,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function jd(F,D,q,G,X){const Q=[D,q];for(;Q.length;){if(q=Q.pop(),D=Q.pop(),q-D<=G)continue;const ne=D+Math.ceil((q-D)/G/2)*G;e_(F,ne,D,q,X),Q.push(D,ne,ne,q)}}const Ud=F=>{const D=ba(F),q=document.createElementNS(Lt,"svg");q.style.position="absolute",q.style.opacity=0,q.style.top=0,q.style.left=0,q.appendChild(D),document.body.appendChild(q);const{x:G,y:X,width:Q,height:ne}=D.getBBox();return document.body.removeChild(q),{minX:G,minY:X,maxX:G+Q,maxY:X+ne}};class l_{constructor(D){le(this,"getAnnotationAt",(q,G,X)=>{const Q=X?5/X:5,ne=this.spatial_index.search({minX:q-Q,minY:G-Q,maxX:q+Q,maxY:G+Q}).map(se=>se.annotation);if(ne.length>0)return ne.sort((se,de)=>zd(se,this.env.image)-zd(de,this.env.image)),ne[0]}),le(this,"getAnnotationsIntersecting",q=>this.spatial_index.search(q).map(G=>G.annotation)),le(this,"insert",q=>{(Array.isArray(q)?q:[q]).forEach(G=>{this.spatial_index.insert(ce(ie({},Ud(G)),{annotation:G}))})}),le(this,"remove",q=>{const G=ce(ie({},Ud(q)),{annotation:q});this.spatial_index.remove(G,(X,Q)=>X.annotation.id===Q.annotation.id)}),this.env=D,this.spatial_index=new n_}}const u_=(F,D)=>{const q=ua(D,".a9s-annotation")?D:D.querySelector(".a9s-annotation"),{canvas:G}=F.drawer,X=G.getBoundingClientRect(),Q=G.width/X.width,ne=G.height/X.height,se=q.getBoundingClientRect(),de=se.x-X.x,he=se.y-X.y,{width:ue,height:be}=se,Ee=document.createElement("CANVAS"),Oe=Ee.getContext("2d");Ee.width=ue,Ee.height=be,Oe.drawImage(G,de*Q,he*ne,ue*Q,be*ne,0,0,ue,be);const De=F.viewport.viewportToImageCoordinates(se.x,se.y),Ge=F.viewport.viewportToImageZoom(F.viewport.getZoom());return{snippet:Ee,transform:We=>{const tt=De.x+We[0]/Q/Ge,at=De.y+We[1]/ne/Ge;return[tt,at]}}},c_=fa();class Wd extends xr{constructor(D){super(),le(this,"_getShapeAt",G=>{const X=de=>{const he=this.svg.createSVGPoint();if(window.TouchEvent&&de instanceof TouchEvent){const ue=this.svg.getBoundingClientRect(),be=de.touches[0],Ee=be.clientX-ue.x,Oe=be.clientY-ue.y,{left:De,top:Ge}=this.svg.getBoundingClientRect();return he.x=Ee+De,he.y=Oe+Ge,he.matrixTransform(this.g.getScreenCTM().inverse())}else return he.x=de.offsetX,he.y=de.offsetY,he.matrixTransform(this.g.getCTM().inverse())},{x:Q,y:ne}=X(G),se=this.store.getAnnotationAt(Q,ne,this.currentScale());if(se)return this.findShape(se)}),le(this,"_initDrawingTools",G=>{this.tools=new $1(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let X=!1;this.mouseTracker=new Ce.default.MouseTracker({element:this.svg,pressHandler:Q=>{this.tools.current.isDrawing||(this.tools.current.start(Q.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),G||this.scaleTool(this.tools.current))},moveHandler:Q=>{if(this.tools.current.isDrawing){const{x:ne,y:se}=this.tools.current.getSVGPoint(Q.originalEvent);this.tools.current.onMouseMove(ne,se,Q.originalEvent),X||(this.emit("startSelection",{x:ne,y:se}),X=!0)}},releaseHandler:Q=>{if(this.tools.current.isDrawing){const{x:ne,y:se}=this.tools.current.getSVGPoint(Q.originalEvent);this.tools.current.onMouseUp(ne,se,Q.originalEvent)}X=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=Q=>{Q.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=Q=>{Q.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),le(this,"_initMouseEvents",()=>{let G=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",ne=>{var se,de;if(!((se=this.tools)!=null&&se.current.isDrawing)&&!ne.target.closest(".a9s-annotation.editable.selected")){const he=this._getShapeAt(ne);if((he==null?void 0:he.annotation)!==((de=this.hoveredShape)==null?void 0:de.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=G;const ue=this.hoveredShape.element||this.hoveredShape;R1(ue,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}he&&(G=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,ci(he,"hover"),this.emit("mouseEnterAnnotation",he.annotation,he))}this.hoveredShape=he}});let X=null;new Ce.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{X=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{X=new Date().getTime()});const Q=ne=>{var se;if(!(((se=this.tools.current)==null?void 0:se.isDrawing)||this.disableSelect)&&new Date().getTime()-X<250){const de=ne.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(ne);de?this.selectShape(de):de||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",Q),this.svg.addEventListener("touchstart",Q)}),le(this,"_refreshNonScalingAnnotations",()=>{const G=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(X=>X.setAttribute("transform",`scale(${1/G})`))}),le(this,"addAnnotation",(G,X)=>{const Q=X||this.g,ne=ba(G,this.env.image);return ci(ne,"a9s-annotation"),ne.setAttribute("data-id",G.id),ne.annotation=G,Q.appendChild(ne),Ao(ne,G,this.formatter),this.scaleFormatterElements(ne),ne}),le(this,"addDrawingTool",G=>this.tools.registerTool(G)),le(this,"addOrUpdateAnnotation",(G,X)=>{var Q,ne;(((Q=this.selectedShape)==null?void 0:Q.annotation)===G||((ne=this.selectedShape)==null?void 0:ne.annotation)==X)&&this.deselect(),X&&this.removeAnnotation(G),this.removeAnnotation(G);const se=this.addAnnotation(G);ua(se,"a9s-non-scaling")&&se.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(G)}),le(this,"currentScale",()=>{const G=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*G/this.viewer.world.getContentFactor()}),le(this,"deselect",()=>{var G;if((G=this.tools)==null||G.current.stop(),this.selectedShape){const{annotation:X}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!X.isSelection)){const Q=this.addAnnotation(X);ua(Q,"a9s-non-scaling")&&Q.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),le(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),le(this,"findShape",G=>{const X=G!=null&&G.id?G.id:G;return this.g.querySelector(`.a9s-annotation[data-id="${X}"]`)}),le(this,"fitBounds",(G,X)=>{const Q=this.findShape(G);if(Q){const{x:ne,y:se,width:de,height:he}=Q.getBBox(),ue=this.viewer.viewport.imageToViewportRectangle(ne,se,de,he);this.viewer.viewport.fitBounds(ue,X)}}),le(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(G=>G.annotation)),le(this,"getSelectedImageSnippet",()=>{var G;if(this.selectedShape){const X=(G=this.selectedShape.element)!=null?G:this.selectedShape;return u_(this.viewer,X)}}),le(this,"init",G=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(X=>this.g.removeChild(X)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),G.forEach(X=>this.addAnnotation(X)),console.log("Indexing..."),this.store.insert(G),console.timeEnd("Took"),this.resize()}),le(this,"listDrawingTools",()=>this.tools.listTools()),le(this,"overrideId",(G,X)=>{const Q=this.findShape(G);Q.setAttribute("data-id",X);const{annotation:ne}=Q,se=ne.clone({id:X});return Q.annotation=se,this.store.remove(ne),this.store.insert(se),se}),le(this,"panTo",(G,X)=>{const Q=this.findShape(G);if(Q){const{top:ne,left:se,width:de,height:he}=Q.getBoundingClientRect(),ue=se+de/2+window.scrollX,be=ne+he/2+window.scrollY,Ee=this.viewer.viewport.windowToViewportCoordinates(new Ce.default.Point(ue,be));this.viewer.viewport.panTo(Ee,X)}}),le(this,"removeAnnotation",G=>{var X,Q;const ne=G.type?G.id:G;((X=this.selectedShape)==null?void 0:X.annotation.id)===ne&&this.deselect();const se=this.findShape(G);if(se){const{annotation:de}=se;((Q=this.selectedShape)==null?void 0:Q.annotation)===de&&this.deselect(),se.parentNode.removeChild(se),this.store.remove(de)}}),le(this,"removeDrawingTool",G=>{var X;return(X=this.tools)==null?void 0:X.unregisterTool(G)}),le(this,"scaleFormatterElements",G=>{const X=1/this.currentScale();if(G){const Q=G.querySelector(".a9s-formatter-el");Q&&Q.firstChild.setAttribute("transform",`scale(${X})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(Q=>Q.firstChild.setAttribute("transform",`scale(${X})`))}),le(this,"scaleTool",G=>{if(G){const X=1/this.currentScale();G.scale=X,G.onScaleChanged&&G.onScaleChanged(X)}}),le(this,"selectAnnotation",(G,X)=>{this.selectedShape&&this.deselect();const Q=this.findShape(G);if(Q){this.selectShape(Q,X);const ne=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:Q.annotation,element:ne}}else this.deselect()}),le(this,"selectShape",(G,X)=>{var Q;if(!X&&!G.annotation.isSelection&&this.emit("clickAnnotation",G.annotation,G),((Q=this.selectedShape)==null?void 0:Q.annotation)===G.annotation)return;this.selectedShape&&this.selectedShape.annotation!==G.annotation&&this.deselect();const{annotation:ne}=G;if(this.readOnly||ne.readOnly||this.headless)this.selectedShape=G,X||this.emit("select",{annotation:ne,element:G,skipEvent:X});else{const se=this.tools.forAnnotation(ne);if(se){setTimeout(()=>{G.parentNode.removeChild(G),X||this.emit("select",{annotation:ne,element:this.selectedShape.element})},1),this.selectedShape=se.createEditableShape(ne),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=ne;const de=new Ce.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,de.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,de.setTracking(!1)}),this.selectedShape.mouseTracker=de,this.selectedShape.on("update",he=>this.emit("updateTarget",this.selectedShape.element,he))}else this.selectedShape=G,X||this.emit("select",{annotation:ne,element:this.selectedShape})}}),le(this,"setDrawingEnabled",G=>{var X;return(X=this.mouseTracker)==null?void 0:X.setTracking(G&&!this.readOnly)}),le(this,"setDrawingTool",G=>{var X;this.tools&&((X=this.tools.current)==null||X.stop(),this.tools.setCurrent(G))}),le(this,"setVisible",G=>{G?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),le(this,"stopDrawing",()=>{var G,X;return(X=(G=this.tools)==null?void 0:G.current)==null?void 0:X.stop()}),this.viewer=D.viewer,this.config=D.config,this.env=D.env,this.readOnly=D.config.readOnly,this.headless=D.config.headless,this.formatter=D.config.formatter,this.disableSelect=D.disableSelect,this.drawOnSingleClick=D.config.drawOnSingleClick,this.svg=document.createElementNS(Lt,"svg"),c_?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),N1(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Lt,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const q=()=>{const{x:G,y:X}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:G,naturalHeight:X},D.config.crosshair&&(this.crosshair=new Z1(this.g,G,X),ci(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",q),this.viewer.world.addHandler("add-item",q),this.viewer.world.getItemAt(0)&&q(),this.store=new l_(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var D;const q=this.viewer.viewport.getFlip(),G=this.viewer.viewport.pixelFromPoint(new Ce.default.Point(0,0),!0);q&&(G.x=this.viewer.viewport._containerInnerSize.x-G.x);const X=this.currentScale(),Q=q?-X:X,ne=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${G.x}, ${G.y}) scale(${Q}, ${X}) rotate(${ne})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(D=this.tools)!=null&&D.current.isDrawing&&this.scaleTool(this.tools.current)}}class d_ extends Wd{constructor(D){super(D),le(this,"onDrawingComplete",q=>{this.selectShape(q),this.emit("createSelection",q.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const Ea=F=>{const D=F.viewport.viewportToImageRectangle(F.viewport.getBounds(!0)),q=F.viewport.getContainerSize().x,G=F.viewport.getZoom(!0)*q/F.world.getContentFactor();return{extent:D,scale:G}},h_=F=>{var D;const q=F.targets[0];return q?Array.isArray(q.selector)?q.selector[0].type:(D=q.selector)==null?void 0:D.type:null},qd=(F,D)=>{const{extent:q,scale:G}=Ea(F),{selector:X}=D,Q=Ei.create({target:D});if(X.type==="SvgSelector"){const ne=Ui(Q),se=ne.nodeName.toLowerCase();let de=null;if(se==="polygon")de=f_(ne,q,G);else if(se==="circle")de=p_(ne,q,G);else if(se==="ellipse")de=g_(ne,q,G);else if(se==="path")de=m_(ne,q,G);else throw`Unsupported SVG shape type: ${se}`;let he=de.outerHTML||new XMLSerializer().serializeToString(de);return he=he.replace(` xmlns="${Lt}"`,""),ce(ie({},D),{selector:{type:"SvgSelector",value:`<svg>${he}</svg>`}})}else if(X.type==="FragmentSelector"){const{x:ne,y:se,w:de,h:he}=Si(Q),ue=q.x+ne/G,be=q.y+se/G,Ee=de/G,Oe=he/G;return fr(ue,be,Ee,Oe)}else throw`Unsupported selector type: ${X.type}`},f_=(F,D,q)=>{const G=Array.from(F.points).map(X=>{const Q=D.x+X.x/q,ne=D.y+X.y/q;return Q+","+ne}).join(" ");return F.setAttribute("points",G),F},p_=(F,D,q)=>{const G=parseFloat(F.getAttribute("cx")),X=parseFloat(F.getAttribute("cy")),Q=parseFloat(F.getAttribute("r"));return F.setAttribute("cx",D.x+G/q),F.setAttribute("cy",D.y+X/q),F.setAttribute("r",Q/q),F},g_=(F,D,q)=>{const G=parseFloat(F.getAttribute("cx")),X=parseFloat(F.getAttribute("cy")),Q=parseFloat(F.getAttribute("rx")),ne=parseFloat(F.getAttribute("ry"));return F.setAttribute("cx",D.x+G/q),F.setAttribute("cy",D.y+X/q),F.setAttribute("rx",Q/q),F.setAttribute("ry",ne/q),F},m_=(F,D,q)=>{const G=F.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(X=>X.trim()).map(X=>{const Q=X.substring(0,1);if(Q.toLowerCase()==="z")return Q;{const ne=X.substring(1).split(" ").map(ue=>parseFloat(ue.trim())),se=Q===Q.toUpperCase(),de=se?D.x+ne[0]/q:ne[0]/q,he=se?D.y+ne[1]/q:ne[1]/q;return Q+" "+de+" "+he}}).join(" ");return F.setAttribute("d",G),F},Gd=(F,D)=>{const{extent:q,scale:G}=Ea(F),X=D.selector("FragmentSelector");if(D.selector("SvgSelector")){const Q=Ui(D),ne=Q.nodeName.toLowerCase();let se=null;if(ne==="polygon")se=v_(Q,q,G);else if(ne==="circle")se=y_(Q,q,G);else if(ne==="ellipse")se=b_(Q,q,G);else if(ne==="path")se=w_(Q,q,G);else throw`Unsupported SVG shape type: ${ne}`;let de=se.outerHTML||new XMLSerializer().serializeToString(se);de=de.replace(` xmlns="${Lt}"`,"");const he={selector:{type:"SvgSelector",value:`<svg>${de}</svg>`}};return D.clone({target:he})}else if(X){const{x:Q,y:ne,w:se,h:de}=Si(D),he=(Q-q.x)*G,ue=(ne-q.y)*G,be=fr(he,ue,se*G,de*G);return D.clone({target:be})}},v_=(F,D,q)=>{const G=Array.from(F.points).map(X=>{const Q=q*(X.x-D.x),ne=q*(X.y-D.y);return Q+","+ne}).join(" ");return F.setAttribute("points",G),F},y_=(F,D,q)=>{const G=F.getAttribute("cx"),X=F.getAttribute("cy"),Q=F.getAttribute("r");return F.setAttribute("cx",q*(G-D.x)),F.setAttribute("cy",q*(X-D.y)),F.setAttribute("r",Q*q),F},b_=(F,D,q)=>{const G=F.getAttribute("cx"),X=F.getAttribute("cy"),Q=F.getAttribute("rx"),ne=F.getAttribute("ry");return F.setAttribute("cx",q*(G-D.x)),F.setAttribute("cy",q*(X-D.y)),F.setAttribute("rx",Q*q),F.setAttribute("ry",ne*q),F},w_=(F,D,q)=>{const G=F.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(X=>X.trim()).map(X=>{const Q=X.substring(0,1);if(Q.toLowerCase()==="z")return Q;{const ne=X.substring(1).split(" ").filter(ue=>ue).map(ue=>parseFloat(ue.trim())),se=Q===Q.toUpperCase(),de=se?q*(ne[0]-D.x):q*ne[0],he=se?q*(ne[1]-D.y):q*ne[1];return Q+" "+de+" "+he}}).join(" ");return F.setAttribute("d",G),F},Xd=(F,D)=>{const{extent:q,scale:G}=Ea(F),X=h_(D.annotation);if(X==="FragmentSelector")__(D,q,G);else if(X==="SvgSelector")x_(D,q,G);else throw`Unsupported selector type type: ${X}`},__=(F,D,q)=>{const{x:G,y:X,w:Q,h:ne}=Si(F.annotation),se=F.querySelector(".a9s-outer"),de=F.querySelector(".a9s-inner"),he=q*(G-D.x),ue=q*(X-D.y);Q===0&&ne===0?[se,de].forEach(be=>{be.setAttribute("cx",he),be.setAttribute("cy",ue)}):[se,de].forEach(be=>{be.setAttribute("x",he),be.setAttribute("y",ue),be.setAttribute("width",Q*q),be.setAttribute("height",ne*q)})},x_=(F,D,q)=>{const G=Ui(F.annotation),X=G.nodeName.toLowerCase();if(X==="polygon")E_(F,G,D,q);else if(X==="circle")S_(F,G,D,q);else if(X==="ellipse")C_(F,G,D,q);else if(X==="path")T_(F,G,D,q);else throw`Unsupported SVG shape type: ${X}`},E_=(F,D,q,G)=>{const X=Array.from(D.points).map(Q=>{const ne=G*(Q.x-q.x),se=G*(Q.y-q.y);return ne+","+se}).join(" ");F.querySelector(".a9s-outer").setAttribute("points",X),F.querySelector(".a9s-inner").setAttribute("points",X)},S_=(F,D,q,G)=>{const X=G*(D.getAttribute("cx")-q.x),Q=G*(D.getAttribute("cy")-q.y),ne=G*D.getAttribute("r"),se=F.querySelector(".a9s-outer");se.setAttribute("cx",X),se.setAttribute("cy",Q),se.setAttribute("r",ne);const de=F.querySelector(".a9s-inner");de.setAttribute("cx",X),de.setAttribute("cy",Q),de.setAttribute("r",ne)},C_=(F,D,q,G)=>{const X=G*(D.getAttribute("cx")-q.x),Q=G*(D.getAttribute("cy")-q.y),ne=G*D.getAttribute("rx"),se=G*D.getAttribute("ry"),de=F.querySelector(".a9s-outer");de.setAttribute("cx",X),de.setAttribute("cy",Q),de.setAttribute("rx",ne),de.setAttribute("ry",se);const he=F.querySelector(".a9s-inner");he.setAttribute("cx",X),he.setAttribute("cy",Q),he.setAttribute("rx",ne),he.setAttribute("ry",se)},T_=(F,D,q,G)=>{const X=D.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Q=>Q.trim()).map(Q=>{const ne=Q.substring(0,1);if(ne.toLowerCase()==="z")return ne;{const se=Q.substring(1).split(" ").filter(be=>be).map(be=>parseFloat(be.trim())),de=ne===ne.toUpperCase(),he=de?G*(se[0]-q.x):G*se[0],ue=de?G*(se[1]-q.y):G*se[1];return ne+" "+he+" "+ue}}).join(" ");F.querySelector(".a9s-inner").setAttribute("d",X),F.querySelector(".a9s-outer").setAttribute("d",X)},A_=fa();class P_ extends Wd{constructor(D){super(D),le(this,"onDrawingComplete",q=>{const G=q.annotation.clone({target:qd(this.viewer,q.annotation.target)});q.annotation=G,this.selectShape(q),this.emit("createSelection",q.annotation),this.mouseTracker.setTracking(!1)}),le(this,"addAnnotation",(q,G)=>{const X=G||this.g,Q=ba(q,this.env.image);return ci(Q,"a9s-annotation"),Q.setAttribute("data-id",q.id),Q.annotation=q,Xd(this.viewer,Q),X.appendChild(Q),Ao(Q,q,this.formatter),Q}),le(this,"_getShapeAt",q=>{const G=de=>{if(A_){const he=this.svg.getBoundingClientRect(),ue=de.clientX-he.x,be=de.clientY-he.y;return new Ce.default.Point(ue,be)}else return new Ce.default.Point(de.offsetX,de.offsetY)},X=this.viewer.viewport.viewerElementToViewportCoordinates(G(q)),{x:Q,y:ne}=this.viewer.viewport.viewportToImageCoordinates(X.x,X.y),se=this.store.getAnnotationAt(Q,ne,this.currentScale());if(se)return this.findShape(se)}),le(this,"selectShape",(q,G)=>{var X;if(!G&&!q.annotation.isSelection&&this.emit("clickAnnotation",q.annotation,q),((X=this.selectedShape)==null?void 0:X.annotation)===q.annotation)return;this.selectedShape&&this.selectedShape.annotation!==q.annotation&&this.deselect(!0);const{annotation:Q}=q;if(this.readOnly||Q.readOnly||this.headless)this.selectedShape=q,G||this.emit("select",{annotation:Q,element:q,skipEvent:G});else{setTimeout(()=>{q.parentNode.removeChild(q),G||this.emit("select",{annotation:Q,element:this.selectedShape.element})},1);const ne=this.tools.forAnnotation(Q);this.selectedShape=ne.createEditableShape(Q),this.selectedShape.element.annotation=Q;const se=Gd(this.viewer,Q);this.selectedShape.updateState(se);const de=new Ce.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",he=>de.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",he=>de.setTracking(!1)),this.selectedShape.mouseTracker=de,this.selectedShape.on("update",he=>{const ue=qd(this.viewer,he);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:ue}),this.emit("updateTarget",this.selectedShape.element,ue)})}}),this._initDrawingTools(!0)}resize(){const D=this.viewer.viewport.getBounds(!0),{x:q,y:G,width:X,height:Q}=this.viewer.viewport.viewportToImageRectangle(D),ne={minX:q,minY:G,maxX:q+X,maxY:G+Q},se=new Set(this.store.getAnnotationsIntersecting(ne).map(de=>de.id));if(se.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(de=>{se.has(de.annotation.id)?(de.removeAttribute("visibility"),Xd(this.viewer,de)):de.hasAttribute("visibility")||de.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const de=Gd(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(de),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class k_ extends gt{constructor(D){super(D),le(this,"clearState",q=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},q)),le(this,"forwardEvent",(q,G)=>{this.annotationLayer.on(q,(X,Q)=>{this.props[G](X.clone(),Q)})}),le(this,"escapeKeyCancel",q=>{if(q.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:G}=this.state;G&&(this.cancelSelected(),this.props.onCancelSelected(G))}}),le(this,"handleStartSelect",q=>this.props.onSelectionStarted(q)),le(this,"handleSelect",(q,G)=>{this.state.editorDisabled?this.onHeadlessSelect(q,G):this.onNormalSelect(q,G)}),le(this,"onNormalSelect",(q,G)=>{const{annotation:X,element:Q}=q;if(X){const ne=()=>{this.setState({selectedAnnotation:X,selectedDOMElement:Q,modifiedTarget:null},()=>{G||(X.isSelection?this.props.onSelectionCreated(X.clone()):this.props.onAnnotationSelected(X.clone(),Q))})},{selectedAnnotation:se}=this.state;se&&!se.isEqual(X)?this.clearState(()=>{this.props.onCancelSelected(se),ne()}):ne()}else{const{selectedAnnotation:ne}=this.state;ne?this.clearState(()=>this.props.onCancelSelected(ne)):this.clearState()}}),le(this,"onHeadlessSelect",(q,G)=>{this.saveSelected().then(()=>{this.onNormalSelect(q,G)})}),le(this,"handleUpdateTarget",(q,G)=>{this.setState({selectedDOMElement:q,modifiedTarget:G});const X=JSON.parse(JSON.stringify(G));this.props.onSelectionTargetChanged(X)}),le(this,"handleViewportChange",q=>this.setState({selectedDOMElement:q})),le(this,"overrideAnnotationId",q=>G=>{const{id:X}=q;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(X,G)}):this.annotationLayer.overrideId(X,G)}),le(this,"onCreateOrUpdateAnnotation",(q,G)=>(X,Q)=>{let ne=X.isSelection?X.toAnnotation():X;ne=this.state.modifiedTarget?ne.clone({target:this.state.modifiedTarget}):ne.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(ne,Q),Q?this.props[q](ne,Q.clone()):this.props[q](ne,this.overrideAnnotationId(X)),G&&G()})}),le(this,"onDeleteAnnotation",q=>{this.clearState(),this.annotationLayer.removeAnnotation(q),this.props.onAnnotationDeleted(q)}),le(this,"onCancelAnnotation",(q,G)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(q),this.clearState(G)}),le(this,"addAnnotation",q=>{var G;q.id===((G=this.state.selectedAnnotation)==null?void 0:G.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(q.clone())}),le(this,"addDrawingTool",q=>this.annotationLayer.addDrawingTool(q)),le(this,"cancelSelected",()=>new Promise(q=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(q):q()})),le(this,"fitBounds",(q,G)=>this.annotationLayer.fitBounds(q,G)),le(this,"getAnnotationById",q=>{var G;return(G=this.annotationLayer.findShape(q))==null?void 0:G.annotation}),le(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(q=>q.clone())),le(this,"getSelected",()=>{var q;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(q=this._editor.current)==null?void 0:q.getCurrentAnnotation()}),le(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),le(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),le(this,"panTo",(q,G)=>this.annotationLayer.panTo(q,G)),le(this,"removeAnnotation",q=>this.annotationLayer.removeAnnotation(q)),le(this,"removeDrawingTool",q=>this.annotationLayer.removeDrawingTool(q)),le(this,"saveSelected",()=>new Promise(q=>{const G=this.state.selectedAnnotation;if(G)if(G.isSelection)G.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",q)(G,G):(this.annotationLayer.deselect(),q());else{const{beforeHeadlessModify:X,modifiedTarget:Q}=this.state;X?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",q)(G,X):Q?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",q)(G,G):this.onCancelAnnotation(G,q)}else q()})),le(this,"selectAnnotation",q=>{const G=this.annotationLayer.selectAnnotation(q,!0);if(G)return this.handleSelect(G,!0),G.annotation.clone();this.clearState()}),le(this,"setAnnotations",q=>this.annotationLayer.init(q.map(G=>G.clone()))),le(this,"setDrawingEnabled",q=>this.annotationLayer.setDrawingEnabled(q)),le(this,"setDrawingTool",q=>this.annotationLayer.setDrawingTool(q)),le(this,"setVisible",q=>{this.annotationLayer.setVisible(q),q||this.clearState()}),le(this,"updateSelected",(q,G)=>new Promise(X=>{this.state.selectedAnnotation&&(G?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",X)(q):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",X)(q,this.state.selectedAnnotation):this.setState({selectedAnnotation:q,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},X))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:D.config.readOnly,editorDisabled:D.config.disableEditor,widgets:D.config.widgets,beforeHeadlessModify:null},this._editor=_t.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new P_(this.props):new d_(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(D){this.setState({editorDisabled:D},()=>{D?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(D){this.annotationLayer.disableSelect=D}get readOnly(){return this.state.readOnly}set readOnly(D){this.annotationLayer.readOnly=D,this.setState({readOnly:D})}get widgets(){return this.state.widgets}set widgets(D){this.setState({widgets:D})}render(){var D;const q=this.state.selectedAnnotation&&!this.state.editorDisabled,G=this.state.readOnly||((D=this.state.selectedAnnotation)==null?void 0:D.readOnly);return q&&Fe(x1,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:G,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class O_{constructor(D,q){le(this,"handleAnnotationCreated",(X,Q)=>this._emitter.emit("createAnnotation",X.underlying,Q)),le(this,"handleAnnotationDeleted",X=>this._emitter.emit("deleteAnnotation",X.underlying)),le(this,"handleAnnotationSelected",(X,Q)=>this._emitter.emit("selectAnnotation",X.underlying,Q)),le(this,"handleAnnotationUpdated",(X,Q)=>this._emitter.emit("updateAnnotation",X.underlying,Q.underlying)),le(this,"handleCancelSelected",X=>this._emitter.emit("cancelSelected",X.underlying)),le(this,"handleClickAnnotation",(X,Q)=>this._emitter.emit("clickAnnotation",X.underlying,Q)),le(this,"handleSelectionCreated",X=>this._emitter.emit("createSelection",X.underlying)),le(this,"handleSelectionStarted",X=>this._emitter.emit("startSelection",X)),le(this,"handleSelectionTargetChanged",X=>this._emitter.emit("changeSelectionTarget",X)),le(this,"handleMouseEnterAnnotation",(X,Q)=>this._emitter.emit("mouseEnterAnnotation",X.underlying,Q)),le(this,"handleMouseLeaveAnnotation",(X,Q)=>this._emitter.emit("mouseLeaveAnnotation",X.underlying,Q)),le(this,"_wrap",X=>(X==null?void 0:X.type)==="Annotation"?new Ei(X):X),le(this,"addAnnotation",X=>this._app.current.addAnnotation(new Ei(X))),le(this,"addDrawingTool",X=>this._app.current.addDrawingTool(X)),le(this,"cancelSelected",()=>this._app.current.cancelSelected()),le(this,"clearAnnotations",()=>this.setAnnotations([])),le(this,"clearAuthInfo",()=>this._env.user=null),le(this,"destroy",()=>_t.unmountComponentAtNode(this.appContainerEl)),le(this,"fitBounds",(X,Q)=>this._app.current.fitBounds(this._wrap(X),Q)),le(this,"getAnnotationById",X=>{const Q=this._app.current.getAnnotationById(X);return Q==null?void 0:Q.underlying}),le(this,"getAnnotations",()=>this._app.current.getAnnotations().map(X=>X.underlying)),le(this,"getSelected",()=>{const X=this._app.current.getSelected();return X==null?void 0:X.underlying}),le(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),le(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),le(this,"loadAnnotations",X=>fetch(X).then(Q=>Q.json()).then(Q=>(this.setAnnotations(Q),Q))),le(this,"off",(X,Q)=>this._emitter.off(X,Q)),le(this,"on",(X,Q)=>this._emitter.on(X,Q)),le(this,"once",(X,Q)=>this._emitter.once(X,Q)),le(this,"panTo",(X,Q)=>this._app.current.panTo(this._wrap(X),Q)),le(this,"removeAnnotation",X=>this._app.current.removeAnnotation(this._wrap(X))),le(this,"removeDrawingTool",X=>this._app.current.removeDrawingTool(X)),le(this,"saveSelected",()=>this._app.current.saveSelected()),le(this,"selectAnnotation",X=>{const Q=this._app.current.selectAnnotation(this._wrap(X));return Q==null?void 0:Q.underlying}),le(this,"setAnnotations",X=>{const Q=(X||[]).map(ne=>new Ei(ne));this._app.current.setAnnotations(Q)}),le(this,"setAuthInfo",X=>this._env.user=X),le(this,"setDrawingEnabled",X=>this._app.current.setDrawingEnabled(X)),le(this,"setDrawingTool",X=>this._app.current.setDrawingTool(X)),le(this,"setServerTime",X=>this._env.setServerTime(X)),le(this,"setVisible",X=>this._app.current.setVisible(X)),le(this,"updateSelected",(X,Q)=>{let ne=null;X.type==="Annotation"?ne=new Ei(X):X.type==="Selection"&&(ne=new hr(X.target,X.body)),ne&&this._app.current.updateSelected(ne,Q)});const G=q||{};this._app=_t.createRef(),this._emitter=new xr,this._env=k1(),this._element=D.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),O1(G.locale,G.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),_t.render(Fe(k_,{ref:this._app,viewer:D,wrapperEl:this._element,config:G,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(D){this._app.current.disableEditor=D}get disableSelect(){return this._app.current.disableSelect}set disableSelect(D){this._app.current.disableSelect=D}get readOnly(){return this._app.current.readOnly}set readOnly(D){this._app.current.readOnly=D}get widgets(){return this._app.current.widgets}set widgets(D){this._app.current.widgets=D}}var R_=(F,D)=>new O_(F,D);return R_})})(openseadragonAnnotorious_min);const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_min.exports),annotationsEndpoint="https://api.juncture-digital.org";class Annotator{constructor(B,j="",U=!0){hi(this,"osd");hi(this,"base");hi(this,"imageId","");hi(this,"annotorious");hi(this,"visible",!1);hi(this,"ghAuthToken","");hi(this,"selected",null);this.osd=B,this.base=j,this.annotorious=Annotorious(B,{readOnly:!U}),this.annotorious.on("createAnnotation",async Y=>this.createAnnotation(Y)),this.annotorious.on("updateAnnotation",async Y=>this.updateAnnotation(Y)),this.annotorious.on("deleteAnnotation",async Y=>this.deleteAnnotation(Y)),this.annotorious.on("selectAnnotation",async Y=>this.onSelect(Y)),this.setVisible(!1),this.ghAuthToken=localStorage.getItem("gh-auth-token")||""}async loadAnnotations(B){this.imageId=B,this.setVisible(!1);let j=[],U=`${annotationsEndpoint}/annotations/${this.base}/${B}/`,Y=await fetch(U);return Y.ok&&(Y=await Y.json(),j=Y.annotations,Y.annotations.length>0&&(j=Y.annotations.map(J=>(J.id=J.id.split("/").filter(ee=>ee).pop(),J)),console.log(`Adding ${Y.annotations.length} annotations`),this.annotorious.setAnnotations(j),this.annotorious.readOnly&&j.forEach(J=>{let ee=this.annoEl(J.id);ee&&(ee.addEventListener("mouseenter",()=>this.select(J.id)),ee.addEventListener("mouseleave",()=>this.deselect()))}))),j}setVisible(B){if(this.selected)this.deselect();else{this.visible=B;let j=this.osd.element.querySelector(".a9s-annotationlayer");j&&(j.style.visibility=this.visible?"visible":"hidden"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(U=>U.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(B){B&&B.stopPropagation(),this.setVisible(!this.visible)}onSelect(B){this.selected=B.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(B){return this.osd.element.querySelector(`[data-id="${B}"]`)}select(B){if(B.indexOf("/")>0||`${annotationsEndpoint}${this.base}${this.imageId}${B}`,this.selected&&this.selected.id==B)this.deselect();else if(this.selected=this.annotorious.selectAnnotation(B),this.selected){let j=this.annoEl(B);j&&(j.style.visibility="visible")}}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(B=>B.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=null}async createAnnotation(B){B.id=sha256(B.id).slice(0,8),B.target.id=this.imageId,console.log("createAnnotation",B);let j=await fetch(`${annotationsEndpoint}/annotation/`,{method:"POST",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Token: ${this.ghAuthToken}`},body:JSON.stringify({annotation:B,path:`${this.base}/${this.imageId}`})});if(j.ok&&j.status===201){let U=await j.json();this.annotorious.addAnnotation(U)}else console.log(`createAnnotation: unexpected resp_code=${j.status}`)}async updateAnnotation(B){B.target.id=this.imageId;let j=`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${B.id.split("/").pop()}/`;console.log(`updateAnnotation: url=${j}`);let U=await fetch(j,{method:"PUT",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Bearer: ${this.ghAuthToken}`},body:JSON.stringify(B)});U.status!==202&&console.log(`updateAnnotation: unexpected resp_code=${U.status}`)}async deleteAnnotation(B){let j=await fetch(`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${B.id.split("/").pop()}/`,{method:"DELETE",headers:{Authorization:`Bearer: ${this.ghAuthToken}`}});j.status!==204&&console.log(`deleteAnnotation: unexpected resp_code=${j.status}`)}}var t$3=window,e$3=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$2=Symbol(),n$3=new WeakMap,o$2=class{constructor(w,B,j){if(this._$cssResult$=!0,j!==s$2)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=w,this.t=B}get styleSheet(){let w=this.o;const B=this.t;if(e$3&&w===void 0){const j=B!==void 0&&B.length===1;j&&(w=n$3.get(B)),w===void 0&&((this.o=w=new CSSStyleSheet).replaceSync(this.cssText),j&&n$3.set(B,w))}return w}toString(){return this.cssText}},r$1=w=>new o$2(typeof w=="string"?w:w+"",void 0,s$2),i$3=(w,...B)=>{const j=w.length===1?w[0]:B.reduce((U,Y,J)=>U+(ee=>{if(ee._$cssResult$===!0)return ee.cssText;if(typeof ee=="number")return ee;throw Error("Value passed to 'css' function must be a 'css' function result: "+ee+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(Y)+w[J+1],w[0]);return new o$2(j,w,s$2)},S=(w,B)=>{e$3?w.adoptedStyleSheets=B.map(j=>j instanceof CSSStyleSheet?j:j.styleSheet):B.forEach(j=>{const U=document.createElement("style"),Y=t$3.litNonce;Y!==void 0&&U.setAttribute("nonce",Y),U.textContent=j.cssText,w.appendChild(U)})},c$1=e$3?w=>w:w=>w instanceof CSSStyleSheet?(B=>{let j="";for(const U of B.cssRules)j+=U.cssText;return r$1(j)})(w):w,s2$1,e2$1=window,r2$1=e2$1.trustedTypes,h$1=r2$1?r2$1.emptyScript:"",o2$2=e2$1.reactiveElementPolyfillSupport,n2$1={toAttribute(w,B){switch(B){case Boolean:w=w?h$1:null;break;case Object:case Array:w=w==null?w:JSON.stringify(w)}return w},fromAttribute(w,B){let j=w;switch(B){case Boolean:j=w!==null;break;case Number:j=w===null?null:Number(w);break;case Object:case Array:try{j=JSON.parse(w)}catch{j=null}}return j}},a$2=(w,B)=>B!==w&&(B==B||w==w),l$3={attribute:!0,type:String,converter:n2$1,reflect:!1,hasChanged:a$2},d$1=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(w){var B;this.finalize(),((B=this.h)!==null&&B!==void 0?B:this.h=[]).push(w)}static get observedAttributes(){this.finalize();const w=[];return this.elementProperties.forEach((B,j)=>{const U=this._$Ep(j,B);U!==void 0&&(this._$Ev.set(U,j),w.push(U))}),w}static createProperty(w,B=l$3){if(B.state&&(B.attribute=!1),this.finalize(),this.elementProperties.set(w,B),!B.noAccessor&&!this.prototype.hasOwnProperty(w)){const j=typeof w=="symbol"?Symbol():"__"+w,U=this.getPropertyDescriptor(w,j,B);U!==void 0&&Object.defineProperty(this.prototype,w,U)}}static getPropertyDescriptor(w,B,j){return{get(){return this[B]},set(U){const Y=this[w];this[B]=U,this.requestUpdate(w,Y,j)},configurable:!0,enumerable:!0}}static getPropertyOptions(w){return this.elementProperties.get(w)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const w=Object.getPrototypeOf(this);if(w.finalize(),w.h!==void 0&&(this.h=[...w.h]),this.elementProperties=new Map(w.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const B=this.properties,j=[...Object.getOwnPropertyNames(B),...Object.getOwnPropertySymbols(B)];for(const U of j)this.createProperty(U,B[U])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(w){const B=[];if(Array.isArray(w)){const j=new Set(w.flat(1/0).reverse());for(const U of j)B.unshift(c$1(U))}else w!==void 0&&B.push(c$1(w));return B}static _$Ep(w,B){const j=B.attribute;return j===!1?void 0:typeof j=="string"?j:typeof w=="string"?w.toLowerCase():void 0}u(){var w;this._$E_=new Promise(B=>this.enableUpdating=B),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(w=this.constructor.h)===null||w===void 0||w.forEach(B=>B(this))}addController(w){var B,j;((B=this._$ES)!==null&&B!==void 0?B:this._$ES=[]).push(w),this.renderRoot!==void 0&&this.isConnected&&((j=w.hostConnected)===null||j===void 0||j.call(w))}removeController(w){var B;(B=this._$ES)===null||B===void 0||B.splice(this._$ES.indexOf(w)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((w,B)=>{this.hasOwnProperty(B)&&(this._$Ei.set(B,this[B]),delete this[B])})}createRenderRoot(){var w;const B=(w=this.shadowRoot)!==null&&w!==void 0?w:this.attachShadow(this.constructor.shadowRootOptions);return S(B,this.constructor.elementStyles),B}connectedCallback(){var w;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(w=this._$ES)===null||w===void 0||w.forEach(B=>{var j;return(j=B.hostConnected)===null||j===void 0?void 0:j.call(B)})}enableUpdating(w){}disconnectedCallback(){var w;(w=this._$ES)===null||w===void 0||w.forEach(B=>{var j;return(j=B.hostDisconnected)===null||j===void 0?void 0:j.call(B)})}attributeChangedCallback(w,B,j){this._$AK(w,j)}_$EO(w,B,j=l$3){var U;const Y=this.constructor._$Ep(w,j);if(Y!==void 0&&j.reflect===!0){const J=(((U=j.converter)===null||U===void 0?void 0:U.toAttribute)!==void 0?j.converter:n2$1).toAttribute(B,j.type);this._$El=w,J==null?this.removeAttribute(Y):this.setAttribute(Y,J),this._$El=null}}_$AK(w,B){var j;const U=this.constructor,Y=U._$Ev.get(w);if(Y!==void 0&&this._$El!==Y){const J=U.getPropertyOptions(Y),ee=typeof J.converter=="function"?{fromAttribute:J.converter}:((j=J.converter)===null||j===void 0?void 0:j.fromAttribute)!==void 0?J.converter:n2$1;this._$El=Y,this[Y]=ee.fromAttribute(B,J.type),this._$El=null}}requestUpdate(w,B,j){let U=!0;w!==void 0&&(((j=j||this.constructor.getPropertyOptions(w)).hasChanged||a$2)(this[w],B)?(this._$AL.has(w)||this._$AL.set(w,B),j.reflect===!0&&this._$El!==w&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(w,j))):U=!1),!this.isUpdatePending&&U&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(B){Promise.reject(B)}const w=this.scheduleUpdate();return w!=null&&await w,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var w;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((U,Y)=>this[Y]=U),this._$Ei=void 0);let B=!1;const j=this._$AL;try{B=this.shouldUpdate(j),B?(this.willUpdate(j),(w=this._$ES)===null||w===void 0||w.forEach(U=>{var Y;return(Y=U.hostUpdate)===null||Y===void 0?void 0:Y.call(U)}),this.update(j)):this._$Ek()}catch(U){throw B=!1,this._$Ek(),U}B&&this._$AE(j)}willUpdate(w){}_$AE(w){var B;(B=this._$ES)===null||B===void 0||B.forEach(j=>{var U;return(U=j.hostUpdated)===null||U===void 0?void 0:U.call(j)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(w)),this.updated(w)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(w){return!0}update(w){this._$EC!==void 0&&(this._$EC.forEach((B,j)=>this._$EO(j,this[j],B)),this._$EC=void 0),this._$Ek()}updated(w){}firstUpdated(w){}};d$1.finalized=!0,d$1.elementProperties=new Map,d$1.elementStyles=[],d$1.shadowRootOptions={mode:"open"},o2$2==null||o2$2({ReactiveElement:d$1}),((s2$1=e2$1.reactiveElementVersions)!==null&&s2$1!==void 0?s2$1:e2$1.reactiveElementVersions=[]).push("1.4.2");var t2,i2$3=window,s3=i2$3.trustedTypes,e3$1=s3?s3.createPolicy("lit-html",{createHTML:w=>w}):void 0,o3$1=`lit$${(Math.random()+"").slice(9)}$`,n3="?"+o3$1,l2$1=`<${n3}>`,h2$1=document,r3=(w="")=>h2$1.createComment(w),d2$1=w=>w===null||typeof w!="object"&&typeof w!="function",u$1=Array.isArray,c2$1=w=>u$1(w)||typeof(w==null?void 0:w[Symbol.iterator])=="function",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a2$1=/-->/g,f$1=/>/g,_=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m$1=/'/g,p$1=/"/g,$=/^(?:script|style|textarea|title)$/i,g$1=w=>(B,...j)=>({_$litType$:w,strings:B,values:j}),y=g$1(1),x$1=Symbol.for("lit-noChange"),b$1=Symbol.for("lit-nothing"),T$1=new WeakMap,A$1=h2$1.createTreeWalker(h2$1,129,null,!1),E=(w,B)=>{const j=w.length-1,U=[];let Y,J=B===2?"<svg>":"",ee=v;for(let re=0;re<j;re++){const ie=w[re];let ce,fe,le=-1,ye=0;for(;ye<ie.length&&(ee.lastIndex=ye,fe=ee.exec(ie),fe!==null);)ye=ee.lastIndex,ee===v?fe[1]==="!--"?ee=a2$1:fe[1]!==void 0?ee=f$1:fe[2]!==void 0?($.test(fe[2])&&(Y=RegExp("</"+fe[2],"g")),ee=_):fe[3]!==void 0&&(ee=_):ee===_?fe[0]===">"?(ee=Y!=null?Y:v,le=-1):fe[1]===void 0?le=-2:(le=ee.lastIndex-fe[2].length,ce=fe[1],ee=fe[3]===void 0?_:fe[3]==='"'?p$1:m$1):ee===p$1||ee===m$1?ee=_:ee===a2$1||ee===f$1?ee=v:(ee=_,Y=void 0);const we=ee===_&&w[re+1].startsWith("/>")?" ":"";J+=ee===v?ie+l2$1:le>=0?(U.push(ce),ie.slice(0,le)+"$lit$"+ie.slice(le)+o3$1+we):ie+o3$1+(le===-2?(U.push(void 0),re):we)}const te=J+(w[j]||"<?>")+(B===2?"</svg>":"");if(!Array.isArray(w)||!w.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e3$1!==void 0?e3$1.createHTML(te):te,U]},C$1=class{constructor({strings:w,_$litType$:B},j){let U;this.parts=[];let Y=0,J=0;const ee=w.length-1,te=this.parts,[re,ie]=E(w,B);if(this.el=C$1.createElement(re,j),A$1.currentNode=this.el.content,B===2){const ce=this.el.content,fe=ce.firstChild;fe.remove(),ce.append(...fe.childNodes)}for(;(U=A$1.nextNode())!==null&&te.length<ee;){if(U.nodeType===1){if(U.hasAttributes()){const ce=[];for(const fe of U.getAttributeNames())if(fe.endsWith("$lit$")||fe.startsWith(o3$1)){const le=ie[J++];if(ce.push(fe),le!==void 0){const ye=U.getAttribute(le.toLowerCase()+"$lit$").split(o3$1),we=/([.?@])?(.*)/.exec(le);te.push({type:1,index:Y,name:we[2],strings:ye,ctor:we[1]==="."?M:we[1]==="?"?k$1:we[1]==="@"?H$1:S2})}else te.push({type:6,index:Y})}for(const fe of ce)U.removeAttribute(fe)}if($.test(U.tagName)){const ce=U.textContent.split(o3$1),fe=ce.length-1;if(fe>0){U.textContent=s3?s3.emptyScript:"";for(let le=0;le<fe;le++)U.append(ce[le],r3()),A$1.nextNode(),te.push({type:2,index:++Y});U.append(ce[fe],r3())}}}else if(U.nodeType===8)if(U.data===n3)te.push({type:2,index:Y});else{let ce=-1;for(;(ce=U.data.indexOf(o3$1,ce+1))!==-1;)te.push({type:7,index:Y}),ce+=o3$1.length-1}Y++}}static createElement(w,B){const j=h2$1.createElement("template");return j.innerHTML=w,j}};function P(w,B,j=w,U){var Y,J,ee,te;if(B===x$1)return B;let re=U!==void 0?(Y=j._$Co)===null||Y===void 0?void 0:Y[U]:j._$Cl;const ie=d2$1(B)?void 0:B._$litDirective$;return(re==null?void 0:re.constructor)!==ie&&((J=re==null?void 0:re._$AO)===null||J===void 0||J.call(re,!1),ie===void 0?re=void 0:(re=new ie(w),re._$AT(w,j,U)),U!==void 0?((ee=(te=j)._$Co)!==null&&ee!==void 0?ee:te._$Co=[])[U]=re:j._$Cl=re),re!==void 0&&(B=P(w,re._$AS(w,B.values),re,U)),B}var V=class{constructor(w,B){this.u=[],this._$AN=void 0,this._$AD=w,this._$AM=B}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(w){var B;const{el:{content:j},parts:U}=this._$AD,Y=((B=w==null?void 0:w.creationScope)!==null&&B!==void 0?B:h2$1).importNode(j,!0);A$1.currentNode=Y;let J=A$1.nextNode(),ee=0,te=0,re=U[0];for(;re!==void 0;){if(ee===re.index){let ie;re.type===2?ie=new N(J,J.nextSibling,this,w):re.type===1?ie=new re.ctor(J,re.name,re.strings,this,w):re.type===6&&(ie=new I(J,this,w)),this.u.push(ie),re=U[++te]}ee!==(re==null?void 0:re.index)&&(J=A$1.nextNode(),ee++)}return Y}p(w){let B=0;for(const j of this.u)j!==void 0&&(j.strings!==void 0?(j._$AI(w,j,B),B+=j.strings.length-2):j._$AI(w[B])),B++}},N=class{constructor(w,B,j,U){var Y;this.type=2,this._$AH=b$1,this._$AN=void 0,this._$AA=w,this._$AB=B,this._$AM=j,this.options=U,this._$Cm=(Y=U==null?void 0:U.isConnected)===null||Y===void 0||Y}get _$AU(){var w,B;return(B=(w=this._$AM)===null||w===void 0?void 0:w._$AU)!==null&&B!==void 0?B:this._$Cm}get parentNode(){let w=this._$AA.parentNode;const B=this._$AM;return B!==void 0&&w.nodeType===11&&(w=B.parentNode),w}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(w,B=this){w=P(this,w,B),d2$1(w)?w===b$1||w==null||w===""?(this._$AH!==b$1&&this._$AR(),this._$AH=b$1):w!==this._$AH&&w!==x$1&&this.g(w):w._$litType$!==void 0?this.$(w):w.nodeType!==void 0?this.T(w):c2$1(w)?this.k(w):this.g(w)}O(w,B=this._$AB){return this._$AA.parentNode.insertBefore(w,B)}T(w){this._$AH!==w&&(this._$AR(),this._$AH=this.O(w))}g(w){this._$AH!==b$1&&d2$1(this._$AH)?this._$AA.nextSibling.data=w:this.T(h2$1.createTextNode(w)),this._$AH=w}$(w){var B;const{values:j,_$litType$:U}=w,Y=typeof U=="number"?this._$AC(w):(U.el===void 0&&(U.el=C$1.createElement(U.h,this.options)),U);if(((B=this._$AH)===null||B===void 0?void 0:B._$AD)===Y)this._$AH.p(j);else{const J=new V(Y,this),ee=J.v(this.options);J.p(j),this.T(ee),this._$AH=J}}_$AC(w){let B=T$1.get(w.strings);return B===void 0&&T$1.set(w.strings,B=new C$1(w)),B}k(w){u$1(this._$AH)||(this._$AH=[],this._$AR());const B=this._$AH;let j,U=0;for(const Y of w)U===B.length?B.push(j=new N(this.O(r3()),this.O(r3()),this,this.options)):j=B[U],j._$AI(Y),U++;U<B.length&&(this._$AR(j&&j._$AB.nextSibling,U),B.length=U)}_$AR(w=this._$AA.nextSibling,B){var j;for((j=this._$AP)===null||j===void 0||j.call(this,!1,!0,B);w&&w!==this._$AB;){const U=w.nextSibling;w.remove(),w=U}}setConnected(w){var B;this._$AM===void 0&&(this._$Cm=w,(B=this._$AP)===null||B===void 0||B.call(this,w))}},S2=class{constructor(w,B,j,U,Y){this.type=1,this._$AH=b$1,this._$AN=void 0,this.element=w,this.name=B,this._$AM=U,this.options=Y,j.length>2||j[0]!==""||j[1]!==""?(this._$AH=Array(j.length-1).fill(new String),this.strings=j):this._$AH=b$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(w,B=this,j,U){const Y=this.strings;let J=!1;if(Y===void 0)w=P(this,w,B,0),J=!d2$1(w)||w!==this._$AH&&w!==x$1,J&&(this._$AH=w);else{const ee=w;let te,re;for(w=Y[0],te=0;te<Y.length-1;te++)re=P(this,ee[j+te],B,te),re===x$1&&(re=this._$AH[te]),J||(J=!d2$1(re)||re!==this._$AH[te]),re===b$1?w=b$1:w!==b$1&&(w+=(re!=null?re:"")+Y[te+1]),this._$AH[te]=re}J&&!U&&this.j(w)}j(w){w===b$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,w!=null?w:"")}},M=class extends S2{constructor(){super(...arguments),this.type=3}j(w){this.element[this.name]=w===b$1?void 0:w}},R$1=s3?s3.emptyScript:"",k$1=class extends S2{constructor(){super(...arguments),this.type=4}j(w){w&&w!==b$1?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}},H$1=class extends S2{constructor(w,B,j,U,Y){super(w,B,j,U,Y),this.type=5}_$AI(w,B=this){var j;if((w=(j=P(this,w,B,0))!==null&&j!==void 0?j:b$1)===x$1)return;const U=this._$AH,Y=w===b$1&&U!==b$1||w.capture!==U.capture||w.once!==U.once||w.passive!==U.passive,J=w!==b$1&&(U===b$1||Y);Y&&this.element.removeEventListener(this.name,this,U),J&&this.element.addEventListener(this.name,this,w),this._$AH=w}handleEvent(w){var B,j;typeof this._$AH=="function"?this._$AH.call((j=(B=this.options)===null||B===void 0?void 0:B.host)!==null&&j!==void 0?j:this.element,w):this._$AH.handleEvent(w)}},I=class{constructor(w,B,j){this.element=w,this.type=6,this._$AN=void 0,this._$AM=B,this.options=j}get _$AU(){return this._$AM._$AU}_$AI(w){P(this,w)}},z=i2$3.litHtmlPolyfillSupport;z==null||z(C$1,N),((t2=i2$3.litHtmlVersions)!==null&&t2!==void 0?t2:i2$3.litHtmlVersions=[]).push("2.4.0");var Z=(w,B,j)=>{var U,Y;const J=(U=j==null?void 0:j.renderBefore)!==null&&U!==void 0?U:B;let ee=J._$litPart$;if(ee===void 0){const te=(Y=j==null?void 0:j.renderBefore)!==null&&Y!==void 0?Y:null;J._$litPart$=ee=new N(B.insertBefore(r3(),te),te,void 0,j!=null?j:{})}return ee._$AI(w),ee},l3,o4,s4=class extends d$1{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var w,B;const j=super.createRenderRoot();return(w=(B=this.renderOptions).renderBefore)!==null&&w!==void 0||(B.renderBefore=j.firstChild),j}update(w){const B=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(w),this._$Dt=Z(B,this.renderRoot,this.renderOptions)}connectedCallback(){var w;super.connectedCallback(),(w=this._$Dt)===null||w===void 0||w.setConnected(!0)}disconnectedCallback(){var w;super.disconnectedCallback(),(w=this._$Dt)===null||w===void 0||w.setConnected(!1)}render(){return x$1}};s4.finalized=!0,s4._$litElement$=!0,(l3=globalThis.litElementHydrateSupport)===null||l3===void 0||l3.call(globalThis,{LitElement:s4});var n4=globalThis.litElementPolyfillSupport;n4==null||n4({LitElement:s4});((o4=globalThis.litElementVersions)!==null&&o4!==void 0?o4:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var component_styles_default=i$3`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,badge_styles_default=i$3`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,t$2={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=w=>(...B)=>({_$litDirective$:w,values:B}),i$2=class{constructor(w){}get _$AU(){return this._$AM._$AU}_$AT(w,B,j){this._$Ct=w,this._$AM=B,this._$Ci=j}_$AS(w,B){return this.update(w,B)}update(w,B){return this.render(...B)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=e$2(class extends i$2{constructor(w){var B;if(super(w),w.type!==t$2.ATTRIBUTE||w.name!=="class"||((B=w.strings)===null||B===void 0?void 0:B.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(w){return" "+Object.keys(w).filter(B=>w[B]).join(" ")+" "}update(w,[B]){var j,U;if(this.nt===void 0){this.nt=new Set,w.strings!==void 0&&(this.st=new Set(w.strings.join(" ").split(/\s/).filter(J=>J!=="")));for(const J in B)B[J]&&!(!((j=this.st)===null||j===void 0)&&j.has(J))&&this.nt.add(J);return this.render(B)}const Y=w.element.classList;this.nt.forEach(J=>{J in B||(Y.remove(J),this.nt.delete(J))});for(const J in B){const ee=!!B[J];ee===this.nt.has(J)||((U=this.st)===null||U===void 0?void 0:U.has(J))||(ee?(Y.add(J),this.nt.add(J)):(Y.remove(J),this.nt.delete(J)))}return x$1}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var e$1=w=>B=>typeof B=="function"?((j,U)=>(customElements.define(j,U),U))(w,B):((j,U)=>{const{kind:Y,elements:J}=U;return{kind:Y,elements:J,finisher(ee){customElements.define(j,ee)}}})(w,B),i$1=(w,B)=>B.kind==="method"&&B.descriptor&&!("value"in B.descriptor)?__spreadProps(__spreadValues({},B),{finisher(j){j.createProperty(B.key,w)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:B.key,initializer(){typeof B.initializer=="function"&&(this[B.key]=B.initializer.call(this))},finisher(j){j.createProperty(B.key,w)}};function e2(w){return(B,j)=>j!==void 0?((U,Y,J)=>{Y.constructor.createProperty(J,U)})(w,B,j):i$1(w,B)}function t$1(w){return e2(__spreadProps(__spreadValues({},w),{state:!0}))}var o=({finisher:w,descriptor:B})=>(j,U)=>{var Y;if(U===void 0){const J=(Y=j.originalKey)!==null&&Y!==void 0?Y:j.key,ee=B!=null?{kind:"method",placement:"prototype",key:J,descriptor:B(j.key)}:__spreadProps(__spreadValues({},j),{key:J});return w!=null&&(ee.finisher=function(te){w(te,J)}),ee}{const J=j.constructor;B!==void 0&&Object.defineProperty(j,U,B(U)),w==null||w(J,U)}};function i2$2(w,B){return o({descriptor:j=>{const U={get(){var Y,J;return(J=(Y=this.renderRoot)===null||Y===void 0?void 0:Y.querySelector(w))!==null&&J!==void 0?J:null},enumerable:!0,configurable:!0};if(B){const Y=typeof j=="symbol"?Symbol():"__"+j;U.get=function(){var J,ee;return this[Y]===void 0&&(this[Y]=(ee=(J=this.renderRoot)===null||J===void 0?void 0:J.querySelector(w))!==null&&ee!==void 0?ee:null),this[Y]}}return U}})}var n$2;((n$2=window.HTMLSlotElement)===null||n$2===void 0?void 0:n$2.prototype.assignedElements)!=null;var ShoelaceElement=class extends s4{emit(w,B){const j=new CustomEvent(w,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},B));return this.dispatchEvent(j),j}};__decorateClass([e2()],ShoelaceElement.prototype,"dir",2);__decorateClass([e2()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return y`
      <slot
        part="base"
        class=${o$1({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      ></slot>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([e2({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge=__decorateClass([e$1("sl-badge")],SlBadge);var button_styles_default=i$3`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition: var(--sl-transition-x-fast) background-color, var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border, var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    font-size: var(--sl-button-font-size-small);
    height: var(--sl-input-height-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    font-size: var(--sl-button-font-size-medium);
    height: var(--sl-input-height-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    font-size: var(--sl-button-font-size-large);
    height: var(--sl-input-height-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(.sl-button-group__button:not(.sl-button-group__button--first, .sl-button-group__button--radio, [variant='default']):not(:hover))
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,formCollections=new WeakMap,userInteractedControls=new WeakMap,reportValidityOverloads=new WeakMap,FormSubmitController=class{constructor(w,B){(this.host=w).addController(this),this.options=__spreadValues({form:j=>j.closest("form"),name:j=>j.name,value:j=>j.value,defaultValue:j=>j.defaultValue,disabled:j=>{var U;return(U=j.disabled)!=null?U:!1},reportValidity:j=>typeof j.reportValidity=="function"?j.reportValidity():!0,setValue:(j,U)=>j.value=U},B),this.handleFormData=this.handleFormData.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFormReset=this.handleFormReset.bind(this),this.reportFormValidity=this.reportFormValidity.bind(this),this.handleUserInput=this.handleUserInput.bind(this)}hostConnected(){this.form=this.options.form(this.host),this.form&&(formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity())),this.host.addEventListener("sl-input",this.handleUserInput)}hostDisconnected(){var w;this.form&&((w=formCollections.get(this.form))==null||w.delete(this.host),this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),this.form=void 0),this.host.removeEventListener("sl-input",this.handleUserInput)}hostUpdated(){var w;const B=this.host,j=Boolean(userInteractedControls.get(B)),U=Boolean(B.invalid),Y=Boolean(B.required);(w=this.form)!=null&&w.noValidate?(B.removeAttribute("data-required"),B.removeAttribute("data-optional"),B.removeAttribute("data-invalid"),B.removeAttribute("data-valid"),B.removeAttribute("data-user-invalid"),B.removeAttribute("data-user-valid")):(B.toggleAttribute("data-required",Y),B.toggleAttribute("data-optional",!Y),B.toggleAttribute("data-invalid",U),B.toggleAttribute("data-valid",!U),B.toggleAttribute("data-user-invalid",U&&j),B.toggleAttribute("data-user-valid",!U&&j))}handleFormData(w){const B=this.options.disabled(this.host),j=this.options.name(this.host),U=this.options.value(this.host),Y=this.host.tagName.toLowerCase()==="sl-button";!B&&!Y&&typeof j=="string"&&typeof U<"u"&&(Array.isArray(U)?U.forEach(J=>{w.formData.append(j,J.toString())}):w.formData.append(j,U.toString()))}handleFormSubmit(w){var B;const j=this.options.disabled(this.host),U=this.options.reportValidity;this.form&&!this.form.noValidate&&((B=formCollections.get(this.form))==null||B.forEach(Y=>{this.setUserInteracted(Y,!0)})),this.form&&!this.form.noValidate&&!j&&!U(this.host)&&(w.preventDefault(),w.stopImmediatePropagation())}handleFormReset(){this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1)}async handleUserInput(){await this.host.updateComplete,this.setUserInteracted(this.host,!0)}reportFormValidity(){if(this.form&&!this.form.noValidate){const w=this.form.querySelectorAll("*");for(const B of w)if(typeof B.reportValidity=="function"&&!B.reportValidity())return!1}return!0}setUserInteracted(w,B){userInteractedControls.set(w,B),w.requestUpdate()}doAction(w,B){if(this.form){const j=document.createElement("button");j.type=w,j.style.position="absolute",j.style.width="0",j.style.height="0",j.style.clipPath="inset(50%)",j.style.overflow="hidden",j.style.whiteSpace="nowrap",B&&(j.name=B.name,j.value=B.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(U=>{B.hasAttribute(U)&&j.setAttribute(U,B.getAttribute(U))})),this.form.append(j),j.click(),j.remove()}}reset(w){this.doAction("reset",w)}submit(w){this.doAction("submit",w)}},e=Symbol.for(""),l$2=w=>{if((w==null?void 0:w.r)===e)return w==null?void 0:w._$litStatic$},i=(w,...B)=>({_$litStatic$:B.reduce((j,U,Y)=>j+(J=>{if(J._$litStatic$!==void 0)return J._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${J}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(U)+w[Y+1],w[0]),r:e}),s$1=new Map,a$1=w=>(B,...j)=>{const U=j.length;let Y,J;const ee=[],te=[];let re,ie=0,ce=!1;for(;ie<U;){for(re=B[ie];ie<U&&(J=j[ie],(Y=l$2(J))!==void 0);)re+=Y+B[++ie],ce=!0;te.push(J),ee.push(re),ie++}if(ie===U&&ee.push(B[U]),ce){const fe=ee.join("$$lit$$");(B=s$1.get(fe))===void 0&&(ee.raw=ee,s$1.set(fe,B=ee)),j=te}return w(B,...j)},n$1=a$1(y);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map,documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...w){w.map(B=>{const j=B.$code.toLowerCase();translations.has(j)?translations.set(j,Object.assign(Object.assign({},translations.get(j)),B)):translations.set(j,B),fallback||(fallback=B)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(w=>{typeof w.requestUpdate=="function"&&w.requestUpdate()})}var LocalizeController=class{constructor(w){this.host=w,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}term(w,...B){var j,U;const Y=new Intl.Locale(this.lang()),J=Y==null?void 0:Y.language.toLowerCase(),ee=(U=(j=Y==null?void 0:Y.region)===null||j===void 0?void 0:j.toLowerCase())!==null&&U!==void 0?U:"",te=translations.get(`${J}-${ee}`),re=translations.get(J);let ie;if(te&&te[w])ie=te[w];else if(re&&re[w])ie=re[w];else if(fallback&&fallback[w])ie=fallback[w];else return console.error(`No translation found for: ${String(w)}`),w;return typeof ie=="function"?ie(...B):ie}date(w,B){return w=new Date(w),new Intl.DateTimeFormat(this.lang(),B).format(w)}number(w,B){return w=Number(w),isNaN(w)?"":new Intl.NumberFormat(this.lang(),B).format(w)}relativeTime(w,B,j){return new Intl.RelativeTimeFormat(this.lang(),j).format(w,B)}},LocalizeController2=class extends LocalizeController{},translation={$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",currentValue:"Current value",hidePassword:"Hide password",loading:"Loading",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"};registerTranslation(translation);var HasSlotController=class{constructor(w,...B){this.slotNames=[],(this.host=w).addController(this),this.slotNames=B,this.handleSlotChange=this.handleSlotChange.bind(this)}hasDefaultSlot(){return[...this.host.childNodes].some(w=>{if(w.nodeType===w.TEXT_NODE&&w.textContent.trim()!=="")return!0;if(w.nodeType===w.ELEMENT_NODE){const B=w;if(B.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!B.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(w){return this.host.querySelector(`:scope > [slot="${w}"]`)!==null}test(w){return w==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(w)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}handleSlotChange(w){const B=w.target;(this.slotNames.includes("[default]")&&!B.name||B.name&&this.slotNames.includes(B.name))&&this.host.requestUpdate()}},l$1=w=>w!=null?w:b$1;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function watch(w,B){const j=__spreadValues({waitUntilFirstUpdate:!1},B);return(U,Y)=>{const{update:J}=U;if(w in U){const ee=w;U.update=function(te){if(te.has(ee)){const re=te.get(ee),ie=this[ee];re!==ie&&(!j.waitUntilFirstUpdate||this.hasUpdated)&&this[Y](re,ie)}J.call(this,te)}}}}var SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this,{form:w=>{if(w.hasAttribute("form")){const B=w.getRootNode(),j=w.getAttribute("form");return B.getElementById(j)}return w.closest("form")}}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href=""}firstUpdated(){this.isButton()&&(this.invalid=!this.button.checkValidity())}click(){this.button.click()}focus(w){this.button.focus(w)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(w){this.isButton()&&(this.button.setCustomValidity(w),this.invalid=!this.button.checkValidity())}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(w){if(this.disabled||this.loading){w.preventDefault(),w.stopPropagation();return}this.type==="submit"&&this.formSubmitController.submit(this),this.type==="reset"&&this.formSubmitController.reset(this)}handleDisabledChange(){this.isButton()&&(this.button.disabled=this.disabled,this.invalid=!this.button.checkValidity())}isButton(){return!this.href}isLink(){return!!this.href}render(){const w=this.isLink(),B=w?i`a`:i`button`;return n$1`
      <${B}
        part="base"
        class=${o$1({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${l$1(w?void 0:this.disabled)}
        type=${l$1(w?void 0:this.type)}
        title=${this.title}
        name=${l$1(w?void 0:this.name)}
        value=${l$1(w?void 0:this.value)}
        href=${l$1(w?this.href:void 0)}
        target=${l$1(w?this.target:void 0)}
        download=${l$1(w?this.download:void 0)}
        rel=${l$1(w&&this.target?"noreferrer noopener":void 0)}
        role=${l$1(w?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$1` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$1`<sl-spinner></sl-spinner>`:""}
      </${B}>
    `}};SlButton.styles=button_styles_default;__decorateClass([i2$2(".button")],SlButton.prototype,"button",2);__decorateClass([t$1()],SlButton.prototype,"hasFocus",2);__decorateClass([t$1()],SlButton.prototype,"invalid",2);__decorateClass([e2()],SlButton.prototype,"title",2);__decorateClass([e2({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([e2({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([e2()],SlButton.prototype,"type",2);__decorateClass([e2()],SlButton.prototype,"name",2);__decorateClass([e2()],SlButton.prototype,"value",2);__decorateClass([e2()],SlButton.prototype,"href",2);__decorateClass([e2()],SlButton.prototype,"target",2);__decorateClass([e2()],SlButton.prototype,"download",2);__decorateClass([e2()],SlButton.prototype,"form",2);__decorateClass([e2({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([e2({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([e2({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([e2({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([e2({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton=__decorateClass([e$1("sl-button")],SlButton);var spinner_styles_default=i$3`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
    mix-blend-mode: multiply;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      rotate: 0deg;
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      rotate: 450deg;
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      rotate: 1080deg;
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this)}render(){return y`
      <svg part="base" class="spinner" role="progressbar" aria-valuetext=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;SlSpinner=__decorateClass([e$1("sl-spinner")],SlSpinner);var library={name:"default",resolver:w=>`${getBasePath()}/assets/icons/${w}.svg`},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:w=>w in icons?`data:image/svg+xml,${encodeURIComponent(icons[w])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(w){watchedIcons.push(w)}function unwatchIcon(w){watchedIcons=watchedIcons.filter(B=>B!==w)}function getIconLibrary(w){return registry.find(B=>B.name===w)}var includeFiles=new Map;function requestInclude(w,B="cors"){if(includeFiles.has(w))return includeFiles.get(w);const j=fetch(w,{mode:B}).then(async U=>({ok:U.ok,status:U.status,html:await U.text()}));return includeFiles.set(w,j),j}var iconFiles=new Map;async function requestIcon(w){if(iconFiles.has(w))return iconFiles.get(w);const B=await requestInclude(w),j={ok:B.ok,status:B.status,svg:null};if(B.ok){const U=document.createElement("div");U.innerHTML=B.html;const Y=U.firstElementChild;j.svg=(Y==null?void 0:Y.tagName.toLowerCase())==="svg"?Y.outerHTML:""}return iconFiles.set(w,j),j}var icon_styles_default=i$3`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,e4=class extends i$2{constructor(w){if(super(w),this.it=b$1,w.type!==t$2.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(w){if(w===b$1||w==null)return this._t=void 0,this.it=w;if(w===x$1)return w;if(typeof w!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(w===this.it)return this._t;this.it=w;const B=[w];return B.raw=B,this._t={_$litType$:this.constructor.resultType,strings:B,values:[]}}};e4.directiveName="unsafeHTML",e4.resultType=1;var t3=class extends e4{};t3.directiveName="unsafeSVG",t3.resultType=2;var o2$1=e$2(t3),parser,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getUrl(){const w=getIconLibrary(this.library);return this.name&&w?w.resolver(this.name):this.src}redraw(){this.setIcon()}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var w;const B=getIconLibrary(this.library),j=this.getUrl();if(parser||(parser=new DOMParser),j)try{const U=await requestIcon(j);if(j!==this.getUrl())return;if(U.ok){const J=parser.parseFromString(U.svg,"text/html").body.querySelector("svg");J!==null?((w=B==null?void 0:B.mutator)==null||w.call(B,J),this.svg=J.outerHTML,this.emit("sl-load")):(this.svg="",this.emit("sl-error"))}else this.svg="",this.emit("sl-error")}catch{this.emit("sl-error")}else this.svg.length>0&&(this.svg="")}handleChange(){this.setIcon()}render(){return y` ${o2$1(this.svg)} `}};SlIcon.styles=icon_styles_default;__decorateClass([t$1()],SlIcon.prototype,"svg",2);__decorateClass([e2({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([e2()],SlIcon.prototype,"src",2);__decorateClass([e2()],SlIcon.prototype,"label",2);__decorateClass([e2({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch("name"),watch("src"),watch("library")],SlIcon.prototype,"setIcon",1);SlIcon=__decorateClass([e$1("sl-icon")],SlIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function isTabbable(w){const B=w.tagName.toLowerCase();return w.getAttribute("tabindex")==="-1"||w.hasAttribute("disabled")||w.hasAttribute("aria-disabled")&&w.getAttribute("aria-disabled")!=="false"||B==="input"&&w.getAttribute("type")==="radio"&&!w.hasAttribute("checked")||w.offsetParent===null||window.getComputedStyle(w).visibility==="hidden"?!1:(B==="audio"||B==="video")&&w.hasAttribute("controls")||w.hasAttribute("tabindex")||w.hasAttribute("contenteditable")&&w.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(B)}function getTabbableBoundary(w){var B,j;const U=[];function Y(te){te instanceof HTMLElement&&(U.push(te),te.shadowRoot!==null&&te.shadowRoot.mode==="open"&&Y(te.shadowRoot)),[...te.children].forEach(re=>Y(re))}Y(w);const J=(B=U.find(te=>isTabbable(te)))!=null?B:null,ee=(j=U.reverse().find(te=>isTabbable(te)))!=null?j:null;return{start:J,end:ee}}var activeModals=[],Modal=class{constructor(w){this.tabDirection="forward",this.element=w,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(w=>w!==this.element),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}checkFocus(){if(this.isActive()&&!this.element.matches(":focus-within")){const{start:w,end:B}=getTabbableBoundary(this.element),j=this.tabDirection==="forward"?w:B;typeof(j==null?void 0:j.focus)=="function"&&j.focus({preventScroll:!0})}}handleFocusIn(){this.checkFocus()}handleKeyDown(w){w.key==="Tab"&&w.shiftKey&&(this.tabDirection="backward",requestAnimationFrame(()=>this.checkFocus()))}handleKeyUp(){this.tabDirection="forward"}},locks=new Set;function lockBodyScrolling(w){locks.add(w),document.body.classList.add("sl-scroll-lock")}function unlockBodyScrolling(w){locks.delete(w),locks.size===0&&document.body.classList.remove("sl-scroll-lock")}var dialog_styles_default=i$3`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function waitForEvent(w,B){return new Promise(j=>{function U(Y){Y.target===w&&(w.removeEventListener(B,U),j())}w.addEventListener(B,U)})}function animateTo(w,B,j){return new Promise(U=>{if((j==null?void 0:j.duration)===1/0)throw new Error("Promise-based animations must be finite.");const Y=w.animate(B,__spreadProps(__spreadValues({},j),{duration:prefersReducedMotion()?0:j.duration}));Y.addEventListener("cancel",U,{once:!0}),Y.addEventListener("finish",U,{once:!0})})}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(w){return Promise.all(w.getAnimations().map(B=>new Promise(j=>{const U=requestAnimationFrame(j);B.addEventListener("cancel",()=>U,{once:!0}),B.addEventListener("finish",()=>U,{once:!0}),B.cancel()})))}var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(w){return w!=null?w:{keyframes:[],options:{duration:0}}}function getLogicalAnimation(w,B){return B.toLowerCase()==="rtl"?{keyframes:w.rtlKeyframes||w.keyframes,options:w.options}:w}function setDefaultAnimation(w,B){defaultAnimationRegistry.set(w,ensureAnimation(B))}function getAnimation(w,B,j){const U=customAnimationRegistry.get(w);if(U!=null&&U[B])return getLogicalAnimation(U[B],j.dir);const Y=defaultAnimationRegistry.get(B);return Y?getLogicalAnimation(Y,j.dir):{keyframes:[],options:{duration:0}}}var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController2(this),this.open=!1,this.label="",this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.modal=new Modal(this)}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){super.disconnectedCallback(),unlockBodyScrolling(this)}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}requestClose(w){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:w}}).defaultPrevented){const j=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,j.keyframes,j.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}handleDocumentKeyDown(w){this.open&&w.key==="Escape"&&(w.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const w=this.querySelector("[autofocus]");w&&w.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(w?w.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),w&&w.setAttribute("autofocus","")});const B=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),j=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,B.keyframes,B.options),animateTo(this.overlay,j.keyframes,j.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const w=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),B=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,B.keyframes,B.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,w.keyframes,w.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const j=this.originalTrigger;typeof(j==null?void 0:j.focus)=="function"&&setTimeout(()=>j.focus()),this.emit("sl-after-hide")}}render(){return y`
      <div
        part="base"
        class=${o$1({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${l$1(this.noHeader?this.label:void 0)}
          aria-labelledby=${l$1(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":y`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="dialog__body"></slot>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;__decorateClass([i2$2(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([i2$2(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([i2$2(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([e2({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([e2({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);SlDialog=__decorateClass([e$1("sl-dialog")],SlDialog);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var icon_button_styles_default=i$3`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-medium) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}click(){this.button.click()}focus(w){this.button.focus(w)}blur(){this.button.blur()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(w){this.disabled&&(w.preventDefault(),w.stopPropagation())}render(){const w=!!this.href,B=w?i`a`:i`button`;return n$1`
      <${B}
        part="base"
        class=${o$1({"icon-button":!0,"icon-button--disabled":!w&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${l$1(w?void 0:this.disabled)}
        type=${l$1(w?void 0:"button")}
        href=${l$1(w?this.href:void 0)}
        target=${l$1(w?this.target:void 0)}
        download=${l$1(w?this.download:void 0)}
        rel=${l$1(w&&this.target?"noreferrer noopener":void 0)}
        role=${l$1(w?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${l$1(this.name)}
          library=${l$1(this.library)}
          src=${l$1(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${B}>
    `}};SlIconButton.styles=icon_button_styles_default;__decorateClass([t$1()],SlIconButton.prototype,"hasFocus",2);__decorateClass([i2$2(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([e2()],SlIconButton.prototype,"name",2);__decorateClass([e2()],SlIconButton.prototype,"library",2);__decorateClass([e2()],SlIconButton.prototype,"src",2);__decorateClass([e2()],SlIconButton.prototype,"href",2);__decorateClass([e2()],SlIconButton.prototype,"target",2);__decorateClass([e2()],SlIconButton.prototype,"download",2);__decorateClass([e2()],SlIconButton.prototype,"label",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);SlIconButton=__decorateClass([e$1("sl-icon-button")],SlIconButton);var image_comparer_styles_default=i$3`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(w,B){function j(Y){const J=w.getBoundingClientRect(),ee=w.ownerDocument.defaultView,te=J.left+ee.pageXOffset,re=J.top+ee.pageYOffset,ie=Y.pageX-te,ce=Y.pageY-re;B!=null&&B.onMove&&B.onMove(ie,ce)}function U(){document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",U),B!=null&&B.onStop&&B.onStop()}document.addEventListener("pointermove",j,{passive:!0}),document.addEventListener("pointerup",U),(B==null?void 0:B.initialEvent)instanceof PointerEvent&&j(B.initialEvent)}function clamp(w,B,j){return w<B?B:w>j?j:w}var i2$1=e$2(class extends i$2{constructor(w){var B;if(super(w),w.type!==t$2.ATTRIBUTE||w.name!=="style"||((B=w.strings)===null||B===void 0?void 0:B.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(w){return Object.keys(w).reduce((B,j)=>{const U=w[j];return U==null?B:B+`${j=j.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${U};`},"")}update(w,[B]){const{style:j}=w.element;if(this.vt===void 0){this.vt=new Set;for(const U in B)this.vt.add(U);return this.render(B)}this.vt.forEach(U=>{B[U]==null&&(this.vt.delete(U),U.includes("-")?j.removeProperty(U):j[U]="")});for(const U in B){const Y=B[U];Y!=null&&(this.vt.add(U),U.includes("-")?j.setProperty(U,Y):j[U]=Y)}return x$1}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.position=50}handleDrag(w){const{width:B}=this.base.getBoundingClientRect(),j=this.localize.dir()==="rtl";w.preventDefault(),drag(this.base,{onMove:U=>{this.position=parseFloat(clamp(U/B*100,0,100).toFixed(2)),j&&(this.position=100-this.position)},initialEvent:w})}handleKeyDown(w){const B=this.localize.dir()==="ltr",j=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(w.key)){const U=w.shiftKey?10:1;let Y=this.position;w.preventDefault(),(B&&w.key==="ArrowLeft"||j&&w.key==="ArrowRight")&&(Y-=U),(B&&w.key==="ArrowRight"||j&&w.key==="ArrowLeft")&&(Y+=U),w.key==="Home"&&(Y=0),w.key==="End"&&(Y=100),Y=clamp(Y,0,100),this.position=Y}}handlePositionChange(){this.emit("sl-change")}render(){const w=this.localize.dir()==="rtl";return y`
      <div
        part="base"
        id="image-comparer"
        class=${o$1({"image-comparer":!0,"image-comparer--rtl":w})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <slot name="before" part="before" class="image-comparer__before"></slot>

          <slot
            name="after"
            part="after"
            class="image-comparer__after"
            style=${i2$1({clipPath:w?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          ></slot>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${i2$1({left:w?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <slot
            name="handle"
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <sl-icon library="system" name="grip-vertical"></sl-icon>
          </slot>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;__decorateClass([i2$2(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([i2$2(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([e2({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer=__decorateClass([e$1("sl-image-comparer")],SlImageComparer);var popup_styles_default=i$3`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;function t(w){return w.split("-")[0]}function e3(w){return w.split("-")[1]}function n(w){return["top","bottom"].includes(t(w))?"x":"y"}function r(w){return w==="y"?"height":"width"}function i2(w,B,j){let{reference:U,floating:Y}=w;const J=U.x+U.width/2-Y.width/2,ee=U.y+U.height/2-Y.height/2,te=n(B),re=r(te),ie=U[re]/2-Y[re]/2,ce=te==="x";let fe;switch(t(B)){case"top":fe={x:J,y:U.y-Y.height};break;case"bottom":fe={x:J,y:U.y+U.height};break;case"right":fe={x:U.x+U.width,y:ee};break;case"left":fe={x:U.x-Y.width,y:ee};break;default:fe={x:U.x,y:U.y}}switch(e3(B)){case"start":fe[te]-=ie*(j&&ce?-1:1);break;case"end":fe[te]+=ie*(j&&ce?-1:1)}return fe}var o2=async(w,B,j)=>{const{placement:U="bottom",strategy:Y="absolute",middleware:J=[],platform:ee}=j,te=J.filter(Boolean),re=await(ee.isRTL==null?void 0:ee.isRTL(B));let ie=await ee.getElementRects({reference:w,floating:B,strategy:Y}),{x:ce,y:fe}=i2(ie,U,re),le=U,ye={},we=0;for(let Ce=0;Ce<te.length;Ce++){const{name:ae,fn:ve}=te[Ce],{x:xe,y:_e,data:Pe,reset:Me}=await ve({x:ce,y:fe,initialPlacement:U,placement:le,strategy:Y,middlewareData:ye,rects:ie,platform:ee,elements:{reference:w,floating:B}});ce=xe!=null?xe:ce,fe=_e!=null?_e:fe,ye=__spreadProps(__spreadValues({},ye),{[ae]:__spreadValues(__spreadValues({},ye[ae]),Pe)}),Me&&we<=50&&(we++,typeof Me=="object"&&(Me.placement&&(le=Me.placement),Me.rects&&(ie=Me.rects===!0?await ee.getElementRects({reference:w,floating:B,strategy:Y}):Me.rects),{x:ce,y:fe}=i2(ie,le,re)),Ce=-1)}return{x:ce,y:fe,placement:le,strategy:Y,middlewareData:ye}};function a(w){return typeof w!="number"?function(B){return __spreadValues({top:0,right:0,bottom:0,left:0},B)}(w):{top:w,right:w,bottom:w,left:w}}function l(w){return __spreadProps(__spreadValues({},w),{top:w.y,left:w.x,right:w.x+w.width,bottom:w.y+w.height})}async function s(w,B){var j;B===void 0&&(B={});const{x:U,y:Y,platform:J,rects:ee,elements:te,strategy:re}=w,{boundary:ie="clippingAncestors",rootBoundary:ce="viewport",elementContext:fe="floating",altBoundary:le=!1,padding:ye=0}=B,we=a(ye),Ce=te[le?fe==="floating"?"reference":"floating":fe],ae=l(await J.getClippingRect({element:(j=await(J.isElement==null?void 0:J.isElement(Ce)))==null||j?Ce:Ce.contextElement||await(J.getDocumentElement==null?void 0:J.getDocumentElement(te.floating)),boundary:ie,rootBoundary:ce,strategy:re})),ve=l(J.convertOffsetParentRelativeRectToViewportRelativeRect?await J.convertOffsetParentRelativeRectToViewportRelativeRect({rect:fe==="floating"?__spreadProps(__spreadValues({},ee.floating),{x:U,y:Y}):ee.reference,offsetParent:await(J.getOffsetParent==null?void 0:J.getOffsetParent(te.floating)),strategy:re}):ee[fe]);return{top:ae.top-ve.top+we.top,bottom:ve.bottom-ae.bottom+we.bottom,left:ae.left-ve.left+we.left,right:ve.right-ae.right+we.right}}var c=Math.min,f=Math.max;function u(w,B,j){return f(w,c(B,j))}var m=w=>({name:"arrow",options:w,async fn(B){const{element:j,padding:U=0}=w!=null?w:{},{x:Y,y:J,placement:ee,rects:te,platform:re}=B;if(j==null)return{};const ie=a(U),ce={x:Y,y:J},fe=n(ee),le=e3(ee),ye=r(fe),we=await re.getDimensions(j),Ce=fe==="y"?"top":"left",ae=fe==="y"?"bottom":"right",ve=te.reference[ye]+te.reference[fe]-ce[fe]-te.floating[ye],xe=ce[fe]-te.reference[fe],_e=await(re.getOffsetParent==null?void 0:re.getOffsetParent(j));let Pe=_e?fe==="y"?_e.clientHeight||0:_e.clientWidth||0:0;Pe===0&&(Pe=te.floating[ye]);const Me=ve/2-xe/2,je=ie[Ce],Ve=Pe-we[ye]-ie[ae],He=Pe/2-we[ye]/2+Me,Ze=u(je,He,Ve),Ue=(le==="start"?ie[Ce]:ie[ae])>0&&He!==Ze&&te.reference[ye]<=te.floating[ye];return{[fe]:ce[fe]-(Ue?He<je?je-He:Ve-He:0),data:{[fe]:Ze,centerOffset:He-Ze}}}}),g={left:"right",right:"left",bottom:"top",top:"bottom"};function d(w){return w.replace(/left|right|bottom|top/g,B=>g[B])}function p(w,B,j){j===void 0&&(j=!1);const U=e3(w),Y=n(w),J=r(Y);let ee=Y==="x"?U===(j?"end":"start")?"right":"left":U==="start"?"bottom":"top";return B.reference[J]>B.floating[J]&&(ee=d(ee)),{main:ee,cross:d(ee)}}var h={start:"end",end:"start"};function y2(w){return w.replace(/start|end/g,B=>h[B])}var x=["top","right","bottom","left"];x.reduce((w,B)=>w.concat(B,B+"-start",B+"-end"),[]);var b=function(w){return w===void 0&&(w={}),{name:"flip",options:w,async fn(B){var j;const{placement:U,middlewareData:Y,rects:J,initialPlacement:ee,platform:te,elements:re}=B,ie=w,{mainAxis:ce=!0,crossAxis:fe=!0,fallbackPlacements:le,fallbackStrategy:ye="bestFit",flipAlignment:we=!0}=ie,Ce=__objRest(ie,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),ae=t(U),ve=le||(ae===ee||!we?[d(ee)]:function(Ze){const Ue=d(Ze);return[y2(Ze),Ue,y2(Ue)]}(ee)),xe=[ee,...ve],_e=await s(B,Ce),Pe=[];let Me=((j=Y.flip)==null?void 0:j.overflows)||[];if(ce&&Pe.push(_e[ae]),fe){const{main:Ze,cross:Ue}=p(U,J,await(te.isRTL==null?void 0:te.isRTL(re.floating)));Pe.push(_e[Ze],_e[Ue])}if(Me=[...Me,{placement:U,overflows:Pe}],!Pe.every(Ze=>Ze<=0)){var je,Ve;const Ze=((je=(Ve=Y.flip)==null?void 0:Ve.index)!=null?je:0)+1,Ue=xe[Ze];if(Ue)return{data:{index:Ze,overflows:Me},reset:{placement:Ue}};let it="bottom";switch(ye){case"bestFit":{var He;const Fe=(He=Me.map(ht=>[ht,ht.overflows.filter(ft=>ft>0).reduce((ft,St)=>ft+St,0)]).sort((ht,ft)=>ht[1]-ft[1])[0])==null?void 0:He[0].placement;Fe&&(it=Fe);break}case"initialPlacement":it=ee}if(U!==it)return{reset:{placement:it}}}return{}}}},T=function(w){return w===void 0&&(w=0),{name:"offset",options:w,async fn(B){const{x:j,y:U}=B,Y=await async function(J,ee){const{placement:te,platform:re,elements:ie}=J,ce=await(re.isRTL==null?void 0:re.isRTL(ie.floating)),fe=t(te),le=e3(te),ye=n(te)==="x",we=["left","top"].includes(fe)?-1:1,Ce=ce&&ye?-1:1,ae=typeof ee=="function"?ee(J):ee;let{mainAxis:ve,crossAxis:xe,alignmentAxis:_e}=typeof ae=="number"?{mainAxis:ae,crossAxis:0,alignmentAxis:null}:__spreadValues({mainAxis:0,crossAxis:0,alignmentAxis:null},ae);return le&&typeof _e=="number"&&(xe=le==="end"?-1*_e:_e),ye?{x:xe*Ce,y:ve*we}:{x:ve*we,y:xe*Ce}}(B,w);return{x:j+Y.x,y:U+Y.y,data:Y}}}};function O(w){return w==="x"?"y":"x"}var L=function(w){return w===void 0&&(w={}),{name:"shift",options:w,async fn(B){const{x:j,y:U,placement:Y}=B,J=w,{mainAxis:ee=!0,crossAxis:te=!1,limiter:re={fn:ve=>{let{x:xe,y:_e}=ve;return{x:xe,y:_e}}}}=J,ie=__objRest(J,["mainAxis","crossAxis","limiter"]),ce={x:j,y:U},fe=await s(B,ie),le=n(t(Y)),ye=O(le);let we=ce[le],Ce=ce[ye];if(ee){const ve=le==="y"?"bottom":"right";we=u(we+fe[le==="y"?"top":"left"],we,we-fe[ve])}if(te){const ve=ye==="y"?"bottom":"right";Ce=u(Ce+fe[ye==="y"?"top":"left"],Ce,Ce-fe[ve])}const ae=re.fn(__spreadProps(__spreadValues({},B),{[le]:we,[ye]:Ce}));return __spreadProps(__spreadValues({},ae),{data:{x:ae.x-j,y:ae.y-U}})}}},k=function(w){return w===void 0&&(w={}),{name:"size",options:w,async fn(B){const{placement:j,rects:U,platform:Y,elements:J}=B,ee=w,{apply:te=()=>{}}=ee,re=__objRest(ee,["apply"]),ie=await s(B,re),ce=t(j),fe=e3(j);let le,ye;ce==="top"||ce==="bottom"?(le=ce,ye=fe===(await(Y.isRTL==null?void 0:Y.isRTL(J.floating))?"start":"end")?"left":"right"):(ye=ce,le=fe==="end"?"top":"bottom");const we=f(ie.left,0),Ce=f(ie.right,0),ae=f(ie.top,0),ve=f(ie.bottom,0),xe={availableHeight:U.floating.height-(["left","right"].includes(j)?2*(ae!==0||ve!==0?ae+ve:f(ie.top,ie.bottom)):ie[le]),availableWidth:U.floating.width-(["top","bottom"].includes(j)?2*(we!==0||Ce!==0?we+Ce:f(ie.left,ie.right)):ie[ye])};await te(__spreadValues(__spreadValues({},B),xe));const _e=await Y.getDimensions(J.floating);return U.floating.width!==_e.width||U.floating.height!==_e.height?{reset:{rects:!0}}:{}}}};function n2(w){return w&&w.document&&w.location&&w.alert&&w.setInterval}function o3(w){if(w==null)return window;if(!n2(w)){const B=w.ownerDocument;return B&&B.defaultView||window}return w}function i3(w){return o3(w).getComputedStyle(w)}function r2(w){return n2(w)?"":w?(w.nodeName||"").toLowerCase():""}function l2(){const w=navigator.userAgentData;return w&&Array.isArray(w.brands)?w.brands.map(B=>B.brand+"/"+B.version).join(" "):navigator.userAgent}function c2(w){return w instanceof o3(w).HTMLElement}function s2(w){return w instanceof o3(w).Element}function f2(w){return typeof ShadowRoot>"u"?!1:w instanceof o3(w).ShadowRoot||w instanceof ShadowRoot}function u2(w){const{overflow:B,overflowX:j,overflowY:U,display:Y}=i3(w);return/auto|scroll|overlay|hidden/.test(B+U+j)&&!["inline","contents"].includes(Y)}function a2(w){return["table","td","th"].includes(r2(w))}function d2(w){const B=/firefox/i.test(l2()),j=i3(w),U=j.backdropFilter||j.WebkitBackdropFilter;return j.transform!=="none"||j.perspective!=="none"||!!U&&U!=="none"||B&&j.willChange==="filter"||B&&!!j.filter&&j.filter!=="none"||["transform","perspective"].some(Y=>j.willChange.includes(Y))||["paint","layout","strict","content"].some(Y=>{const J=j.contain;return J!=null&&J.includes(Y)})}function h2(){return!/^((?!chrome|android).)*safari/i.test(l2())}function g2(w){return["html","body","#document"].includes(r2(w))}var m2=Math.min,p2=Math.max,w2=Math.round;function v2(w,B,j){var U,Y,J,ee;B===void 0&&(B=!1),j===void 0&&(j=!1);const te=w.getBoundingClientRect();let re=1,ie=1;B&&c2(w)&&(re=w.offsetWidth>0&&w2(te.width)/w.offsetWidth||1,ie=w.offsetHeight>0&&w2(te.height)/w.offsetHeight||1);const ce=s2(w)?o3(w):window,fe=!h2()&&j,le=(te.left+(fe&&(U=(Y=ce.visualViewport)==null?void 0:Y.offsetLeft)!=null?U:0))/re,ye=(te.top+(fe&&(J=(ee=ce.visualViewport)==null?void 0:ee.offsetTop)!=null?J:0))/ie,we=te.width/re,Ce=te.height/ie;return{width:we,height:Ce,top:ye,right:le+we,bottom:ye+Ce,left:le,x:le,y:ye}}function y3(w){return(B=w,(B instanceof o3(B).Node?w.ownerDocument:w.document)||window.document).documentElement;var B}function x2(w){return s2(w)?{scrollLeft:w.scrollLeft,scrollTop:w.scrollTop}:{scrollLeft:w.pageXOffset,scrollTop:w.pageYOffset}}function b2(w){return v2(y3(w)).left+x2(w).scrollLeft}function L2(w,B,j){const U=c2(B),Y=y3(B),J=v2(w,U&&function(re){const ie=v2(re);return w2(ie.width)!==re.offsetWidth||w2(ie.height)!==re.offsetHeight}(B),j==="fixed");let ee={scrollLeft:0,scrollTop:0};const te={x:0,y:0};if(U||!U&&j!=="fixed")if((r2(B)!=="body"||u2(Y))&&(ee=x2(B)),c2(B)){const re=v2(B,!0);te.x=re.x+B.clientLeft,te.y=re.y+B.clientTop}else Y&&(te.x=b2(Y));return{x:J.left+ee.scrollLeft-te.x,y:J.top+ee.scrollTop-te.y,width:J.width,height:J.height}}function E2(w){if(r2(w)==="html")return w;const B=w.assignedSlot||w.parentNode||(f2(w)?w.host:null)||y3(w);return f2(B)?B.host:B}function R(w){return c2(w)&&i3(w).position!=="fixed"?w.offsetParent:null}function T2(w){const B=o3(w);let j=R(w);for(;j&&a2(j)&&i3(j).position==="static";)j=R(j);return j&&(r2(j)==="html"||r2(j)==="body"&&i3(j).position==="static"&&!d2(j))?B:j||function(U){let Y=E2(U);for(;c2(Y)&&!g2(Y);){if(d2(Y))return Y;Y=E2(Y)}return null}(w)||B}function W(w){const B=E2(w);return g2(B)?w.ownerDocument.body:c2(B)&&u2(B)?B:W(B)}function H(w,B){var j;B===void 0&&(B=[]);const U=W(w),Y=U===((j=w.ownerDocument)==null?void 0:j.body),J=o3(U),ee=Y?[J].concat(J.visualViewport||[],u2(U)?U:[]):U,te=B.concat(ee);return Y?te:te.concat(H(ee))}function D2(w,B,j){return B==="viewport"?l(function(U,Y){const J=o3(U),ee=y3(U),te=J.visualViewport;let re=ee.clientWidth,ie=ee.clientHeight,ce=0,fe=0;if(te){re=te.width,ie=te.height;const le=h2();(le||!le&&Y==="fixed")&&(ce=te.offsetLeft,fe=te.offsetTop)}return{width:re,height:ie,x:ce,y:fe}}(w,j)):s2(B)?function(U,Y){const J=v2(U,!1,Y==="fixed"),ee=J.top+U.clientTop,te=J.left+U.clientLeft;return{top:ee,left:te,x:te,y:ee,right:te+U.clientWidth,bottom:ee+U.clientHeight,width:U.clientWidth,height:U.clientHeight}}(B,j):l(function(U){var Y;const J=y3(U),ee=x2(U),te=(Y=U.ownerDocument)==null?void 0:Y.body,re=p2(J.scrollWidth,J.clientWidth,te?te.scrollWidth:0,te?te.clientWidth:0),ie=p2(J.scrollHeight,J.clientHeight,te?te.scrollHeight:0,te?te.clientHeight:0);let ce=-ee.scrollLeft+b2(U);const fe=-ee.scrollTop;return i3(te||J).direction==="rtl"&&(ce+=p2(J.clientWidth,te?te.clientWidth:0)-re),{width:re,height:ie,x:ce,y:fe}}(y3(w)))}var A={getClippingRect:function(w){let{element:B,boundary:j,rootBoundary:U,strategy:Y}=w;const J=j==="clippingAncestors"?function(ie){let ce=H(ie).filter(we=>s2(we)&&r2(we)!=="body"),fe=null;const le=i3(ie).position==="fixed";let ye=le?E2(ie):ie;for(;s2(ye)&&!g2(ye);){const we=i3(ye),Ce=d2(ye);(le?Ce||fe:Ce||we.position!=="static"||!fe||!["absolute","fixed"].includes(fe.position))?fe=we:ce=ce.filter(ae=>ae!==ye),ye=E2(ye)}return ce}(B):[].concat(j),ee=[...J,U],te=ee[0],re=ee.reduce((ie,ce)=>{const fe=D2(B,ce,Y);return ie.top=p2(fe.top,ie.top),ie.right=m2(fe.right,ie.right),ie.bottom=m2(fe.bottom,ie.bottom),ie.left=p2(fe.left,ie.left),ie},D2(B,te,Y));return{width:re.right-re.left,height:re.bottom-re.top,x:re.left,y:re.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(w){let{rect:B,offsetParent:j,strategy:U}=w;const Y=c2(j),J=y3(j);if(j===J)return B;let ee={scrollLeft:0,scrollTop:0};const te={x:0,y:0};if((Y||!Y&&U!=="fixed")&&((r2(j)!=="body"||u2(J))&&(ee=x2(j)),c2(j))){const re=v2(j,!0);te.x=re.x+j.clientLeft,te.y=re.y+j.clientTop}return __spreadProps(__spreadValues({},B),{x:B.x-ee.scrollLeft+te.x,y:B.y-ee.scrollTop+te.y})},isElement:s2,getDimensions:function(w){if(c2(w))return{width:w.offsetWidth,height:w.offsetHeight};const B=v2(w);return{width:B.width,height:B.height}},getOffsetParent:T2,getDocumentElement:y3,async getElementRects(w){let{reference:B,floating:j,strategy:U}=w;const Y=this.getOffsetParent||T2,J=this.getDimensions;return{reference:L2(B,await Y(j),U),floating:__spreadValues({x:0,y:0},await J(j))}},getClientRects:w=>Array.from(w.getClientRects()),isRTL:w=>i3(w).direction==="rtl"};function C(w,B,j,U){U===void 0&&(U={});const{ancestorScroll:Y=!0,ancestorResize:J=!0,elementResize:ee=!0,animationFrame:te=!1}=U,re=Y&&!te,ie=re||J?[...s2(w)?H(w):w.contextElement?H(w.contextElement):[],...H(B)]:[];ie.forEach(ye=>{re&&ye.addEventListener("scroll",j,{passive:!0}),J&&ye.addEventListener("resize",j)});let ce,fe=null;if(ee){let ye=!0;fe=new ResizeObserver(()=>{ye||j(),ye=!1}),s2(w)&&!te&&fe.observe(w),s2(w)||!w.contextElement||te||fe.observe(w.contextElement),fe.observe(B)}let le=te?v2(w):null;return te&&function ye(){const we=v2(w);!le||we.x===le.x&&we.y===le.y&&we.width===le.width&&we.height===le.height||j(),le=we,ce=requestAnimationFrame(ye)}(),j(),()=>{var ye;ie.forEach(we=>{re&&we.removeEventListener("scroll",j),J&&we.removeEventListener("resize",j)}),(ye=fe)==null||ye.disconnect(),fe=null,te&&cancelAnimationFrame(ce)}}var O2=(w,B,j)=>o2(w,B,__spreadValues({platform:A},j)),SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const w=this.getRootNode();this.anchorEl=w.getElementById(this.anchor)}else this.anchor instanceof HTMLElement?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){!this.anchorEl||(this.cleanup=C(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(w=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>w())):w()})}async updated(w){super.updated(w),w.has("active")&&(this.active?this.start():this.stop()),w.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}reposition(){if(!this.active||!this.anchorEl)return;const w=[T({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?w.push(k({apply:({rects:B})=>{const j=this.sync==="width"||this.sync==="both",U=this.sync==="height"||this.sync==="both";this.popup.style.width=j?`${B.reference.width}px`:"",this.popup.style.height=U?`${B.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&w.push(b({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&w.push(L({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?w.push(k({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:B,availableHeight:j})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${j}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${B}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&w.push(m({element:this.arrowEl,padding:this.arrowPadding})),O2(this.anchorEl,this.popup,{placement:this.placement,middleware:w,strategy:this.strategy}).then(({x:B,y:j,middlewareData:U,placement:Y})=>{const J=getComputedStyle(this).direction==="rtl",ee={top:"bottom",right:"left",bottom:"top",left:"right"}[Y.split("-")[0]];if(this.setAttribute("data-current-placement",Y),Object.assign(this.popup.style,{left:`${B}px`,top:`${j}px`}),this.arrow){const te=U.arrow.x,re=U.arrow.y;let ie="",ce="",fe="",le="";if(this.arrowPlacement==="start"){const ye=typeof te=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";ie=typeof re=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",ce=J?ye:"",le=J?"":ye}else if(this.arrowPlacement==="end"){const ye=typeof te=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";ce=J?"":ye,le=J?ye:"",fe=typeof re=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(le=typeof te=="number"?"calc(50% - var(--arrow-size-diagonal))":"",ie=typeof re=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(le=typeof te=="number"?`${te}px`:"",ie=typeof re=="number"?`${re}px`:"");Object.assign(this.arrowEl.style,{top:ie,right:ce,bottom:fe,left:le,[ee]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return y`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${o$1({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?y`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([i2$2(".popup")],SlPopup.prototype,"popup",2);__decorateClass([i2$2(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([e2()],SlPopup.prototype,"anchor",2);__decorateClass([e2({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([e2({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([e2({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([e2({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([e2({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([e2({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([e2({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([e2({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([e2({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([e2({attribute:"flip-fallback-placements",converter:{fromAttribute:w=>w.split(" ").map(B=>B.trim()).filter(B=>B!==""),toAttribute:w=>w.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([e2({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([e2({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([e2({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([e2({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([e2({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([e2({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([e2({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([e2()],SlPopup.prototype,"sync",2);__decorateClass([e2({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([e2({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);SlPopup=__decorateClass([e$1("sl-popup")],SlPopup);const _hoisted_1$3={id:"inner"},_hoisted_2$3={id:"content"},_hoisted_3$3={key:0,class:"image-wrapper media-item"},_hoisted_4$3=createBaseVNode("div",{id:"osd"},null,-1),_hoisted_5$2={class:"manifest-popover"},_hoisted_6$2=["manifest"],_hoisted_7$2={key:1,class:"grid-wrapper"},_hoisted_8$2=["manifest"],_hoisted_9$2={key:1},_hoisted_10$1={class:"media-item"},_hoisted_11$1=["src","onClick"],_hoisted_12$1={class:"manifest-popover"},_hoisted_13$1=["manifest"],_hoisted_14$1={key:2},_hoisted_15$1=["slot","src","alt"],_hoisted_16$1={key:3,class:"media-item"},_hoisted_17$1={id:"html5-player",controls:""},_hoisted_18$1=["src","type"],_hoisted_19$1={class:"manifest-popover"},_hoisted_20$1=["manifest"],_hoisted_21$1={key:4,class:"media-item"},_hoisted_22$1={key:0,id:"youtube-placeholder"},_hoisted_23$1={key:1,id:"ve-video-vimeo","data-vimeo-playsinline":"true"},_hoisted_24$1=["muted","autoplay"],_hoisted_25$1=["src","type"],_hoisted_26$1={class:"manifest-popover"},_hoisted_27$1=["manifest"],_hoisted_28$1=["total","current"],_hoisted_29$1=["innerHTML"],_hoisted_30$1=["innerHTML"],_hoisted_31$1=["manifest"],_sfc_main$3=defineComponent({__name:"MediaViewer.ce",props:{manifest:{type:String},src:{type:String},seq:{type:Number,default:1},base:{type:String},region:{type:String},size:{type:String},rotation:{type:String},quality:{type:String},format:{type:String},editable:{type:Boolean,default:!1},options:{type:String},alt:{type:String},caption:{type:String},fit:{type:String},entities:{type:String},zoomOnScroll:{type:Boolean,default:!1},grid:{type:Boolean,default:!1},cards:{type:Boolean,default:!1},compare:{type:Boolean,default:!1},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},start:{type:Number},end:{type:Number},class:{type:String}},setup(w){const B=w,j=ref(null),U=computed(()=>{var Ie;return(Ie=j==null?void 0:j.value)==null?void 0:Ie.parentNode}),Y=computed(()=>{var Ie,Le;return(Le=(Ie=j.value)==null?void 0:Ie.getRootNode())==null?void 0:Le.host});watch$1(Y,()=>{var Ie;if(B.src)if(((Ie=B.src)==null?void 0:Ie.indexOf("http"))===0){let Le=new URL(B.src),Je=Le.hostname.replace(/^www\./,"");et.has(Je)?(ft.value="video",Bt=!0,rt.value=Le.searchParams.get("v"),nextTick(()=>ge())):Ye.has(Je)?(ft.value="video",It=!0,rt.value=Le.pathname.slice(1),nextTick(()=>pe())):Ue.value=Un()}else Ue.value=Un();else Ue.value=Un()});function J(Ie){const Le=Ie.target.parentElement;Le.active=!Le.active}const ee=ref();watch$1(ee,()=>{if(ee.value){let Ie=ee.value;setTimeout(()=>we(),100),Ie.addHandler("viewport-change",()=>ye()),B.base&&(ie.value=new Annotator(Ie,B.base,gt.value));let Le=Ie.world.getItemAt(0);Le?Le.getFullyLoaded()?re():Le.addHandler("fully-loaded-change",Je=>{Je.fullyLoaded&&re()}):Ie.world.addHandler("add-item",()=>{let Je=Ie.world.getItemAt(0);Je.getFullyLoaded()?re():Je.addHandler("fully-loaded-change",lt=>{lt.fullyLoaded&&re()})})}});let te;function re(){var Je;let Ie=Ue.value[0],Le=sha256(ht.value.id||ht.value["@id"]).slice(0,8);Le!==te&&(ie.value&&ie.value.loadAnnotations(Le).then(lt=>ce.value=lt),!te&&Ie.seq===Pe.value&&Ie.region&&((Je=ee.value)==null||Je.viewport.fitBounds(parseRegionString(Ie.region,ee.value),!0)),te=Le)}const ie=ref(),ce=ref([]),fe=ref();let le=null;function ye(){le!==null&&(clearTimeout(le),le=null),le=window.setTimeout(()=>we(),100)}function we(){var Le,Je;const Ie=ee&&((Le=ee.value)==null?void 0:Le.world.getItemAt(0));if(Ie){let lt=(Je=ee.value)==null?void 0:Je.viewport.getBounds();const Mt=lt?Ie.viewportToImageRectangle(lt):null;fe.value=Mt?`${Math.ceil(Mt.x)},${Math.ceil(Mt.y)},${Math.ceil(Mt.width)},${Math.ceil(Mt.height)}`:""}}const Ce=ref();watch$1(Ce,Ie=>{Ie==null||Ie.addEventListener("sl-after-hide",()=>ae.value=null),Ie==null||Ie.addEventListener("sl-show",()=>{Ce.value&&(Ce.value.panel.style.width=`${xe()}px`)})});const ae=ref();watch$1(ae,Ie=>{var Le,Je;Ie?(Le=Ce.value)==null||Le.show():(Je=Ce.value)==null||Je.hide()});function ve(Ie=null){ae.value=ae.value?null:Ie}function xe(){var Mt;let Ie=Math.round(window.innerWidth-100),Le=Math.round(window.innerHeight-150),Je=((Mt=ae.value)==null?void 0:Mt.indexOf("http"))===0?ae.value:`https://iiif.juncture-digital.org/${ae.value}/manifest.json`,lt=it.value.find(Dt=>Dt.id===Je);if(lt){let Dt=getItemInfo(lt),Ht=Number((Dt.width/Dt.height).toFixed(4));Ie=Ht>=1?Ie/Ht>Le?Ie=Le*Ht:Ie:Math.round(Le*Ht)}return Ie}const _e=ref(B.caption),Pe=ref(B.seq),Me=ref(B.seq);function je(Ie){Pe.value=Ie.detail}const Ve=ref(0),He=ref(0),Ze=ref(0),Ue=ref([]),it=ref([]),Fe=ref(null),ht=ref(null),ft=ref(null),St=ref(null);watch$1(Ue,()=>{let Ie=Ue.value.map(Le=>Le.manifest);loadManifests(Ie).then(Le=>{it.value=Le,it.value.length>1&&(ft.value=it.value.length===2?"image-compare":"image-grid")})}),watch$1(it,()=>Fe.value=it.value.length>0&&it.value[0]),watch$1(Fe,()=>{Me.value=imageCount(Fe.value),ht.value=Fe.value?getItemInfo(Fe.value,Pe.value):null,!_e.value&&it.value.length===1&&(_e.value=label(Fe.value))}),watch$1(Pe,()=>ht.value=Fe.value?getItemInfo(Fe.value,Pe.value):null);const gt=computed(()=>B.editable===!0||window.location.pathname.indexOf("/editor")===0),nt=ref([]),yt=computed(()=>{var Ie;return(Ie=ht.value)==null?void 0:Ie.id}),$t=computed(()=>{var Le;let Ie=(Le=yt.value)==null?void 0:Le.split("#")[0].split(".").pop();return Ie==="mp4"?"video/mp4":Ie==="webm"?"video/webm":"application/ogg"});watch$1(ht,()=>{var Ie,Le;ft.value=ft.value||((Le=(Ie=ht.value)==null?void 0:Ie.type)==null?void 0:Le.toLowerCase()),St.value=ft.value&&ft.value==="image"?ht.value.service?`${ht.value.service[0].id||ht.value.service[0]["@id"]}/info.json`:{url:ht.value.id,type:"image",buildPyramid:!0}:null,ee.value&&ee.value.open(St.value),Ve.value||nextTick(()=>wn())}),watch$1(ft,()=>{Re(),nextTick(()=>{ft.value==="image"?Cn():ft.value==="image-compare"?nt.value=fn():(ft.value==="video"&&Ue.value.length>0||ft.value==="audio")&&Se()})});const ln=RegExp(/^(?<region>(pct:)?([0-9.]+,[0-9.]+,[0-9.]+,[0-9.]+)|full|square)(\/(?<size>full|max|((pct:)?[\d,.!]+)))?(\/(?<rotation>!?\d+))?(\/(?<quality>color|gray|bitonal|default))?(\/(?<format>jpg|tif|png|gif|jp2|pdf|webp))?/),un=RegExp(/^(?<mirror>!?)(?<rotation>0|90|180|270){1}/);function on(Ie){return ln.test(Ie)}function tn(Ie){return/^[0-9]+$/.test(Ie)}function Yn(Ie){return un.test(Ie)}function Un(){let Ie=[],Le=B.manifest||B.src;if(Le){let Je={id:sha256(Le).slice(0,8),manifest:Le};Je.seq=B.seq,Je.region=B.region,Je.size=B.size,Je.rotation=B.rotation,Je.quality=B.quality,Je.format=B.format,Je.fit=B.fit,Ie.push(Je)}else Ie=Array.from(Y.value.querySelectorAll("li")).map(Je=>{var Ht,cn;let lt=[],Mt=(Ht=Je.textContent)==null?void 0:Ht.replace(//,'"').replace(//,'"').replace(//,"'").trim();(cn=Mt==null?void 0:Mt.match(/[^\s"]+|"([^"]*)"/gmi))==null||cn.forEach(en=>{lt.length>0&&lt[lt.length-1].indexOf("=")===lt[lt.length-1].length-1?lt[lt.length-1]=`${lt[lt.length-1]}${en}`:lt.push(en)});let Dt={id:sha256(lt[0]).slice(0,8),manifest:lt[0]};for(let en=1;en<lt.length;en++){let zt=lt[en];if(zt.indexOf("=")>0){let mn=zt.split("=");Dt[mn[0]]=mn[1]}else if(tn(zt))Dt.seq=zt;else if(on(zt)){let mn=zt.match(ln);mn&&(Dt={...Dt,...mn.groups})}else if(zt==="cover"||zt==="contain")Dt.fit=zt;else if(Yn(zt)){let mn=zt.match(un);mn&&(Dt={...Dt,...mn.groups})}else zt==="mirror"?Dt.mirror=!0:Dt.caption=zt[0]==='"'&&zt[zt.length-1]==='"'?zt.slice(1,-1):zt}return Dt});return Ie}function fn(){let Ie=Ve.value,Le=He.value,Je=Ze.value;return Ue.value.map((lt,Mt)=>{let Dt=getItemInfo(it.value[Mt],lt.seq),Ht,cn,en,zt;lt.region&&([Ht,cn,en,zt]=lt.region.split(":").pop().split(",").map(_r=>parseFloat(_r)),lt.region.split(":")[0]==="pct"&&(Ht=Math.round(Ht*Dt.width/100),cn=Math.round(cn*Dt.height/100),en=Math.round(en*Dt.width/100),zt=Math.round(zt*Dt.height/100)));const mn=en||Dt.width,Ai=zt||Dt.height,vr=Number((mn/Ai).toFixed(4));let qn=mn,oi=Ai;vr>Je?(qn=Math.round(Ai*Je),oi=Math.round(qn/Je)):(oi=Math.round(mn/Je),qn=Math.round(oi*Je));let yr=Dt.service[0].id||Dt.service[0]["@id"];const si=(Ht||0)+Math.abs(Math.round((qn-mn)*.5)),br=(cn||0)+Math.abs(Math.round((oi-Ai)*.5));let Fo=`${si},${br},${qn},${oi}`;return`${yr}/${Fo}/${Ie},${Le}/${lt.mirror?"!":""}${lt.rotation||0}/${lt.quality||"default"}.${lt.format||"jpg"}`})}const nn=B.position||(B.right?"right":B.left?"left":"full");function wn(Ie=16/9){var Mt,Dt,Ht;let Le=(Mt=U==null?void 0:U.value)==null?void 0:Mt.querySelector("#outer"),Je=(Dt=U==null?void 0:U.value)==null?void 0:Dt.querySelector("#inner"),lt=(Ht=U==null?void 0:U.value)==null?void 0:Ht.querySelector("#content");if(Ze.value=ht.value?Number((ht.value.width/ht.value.height).toFixed(4)):Ie,Le.classList.add(nn),Y.value.classList.add("ve-component"),Y.value.classList.add(nn),B.sticky&&makeSticky(Y.value),(nn==="left"||nn==="right")&&(Le.style.float=nn,Le.style.width="50%",Le.style.margin=nn==="left"?"0 12px 6px 0":"0 0 6px 12px"),Je.style.width=B.width||"100%",Ve.value=parseInt(window.getComputedStyle(lt).width.slice(0,-2)),lt.style.height=B.height||(ft.value==="image-grid"?"":ft.value==="audio"?"80px":`${Math.round(Ve.value/Ze.value)}px`),He.value=parseInt(window.getComputedStyle(lt).height.slice(0,-2))||(Ze.value>=1?Math.round(Ve.value/Ze.value):Math.round(Ve.value*Ze.value)),nn==="full"&&(B.compare||B.sticky)){let cn=Math.round(window.innerHeight*.5);He.value>cn&&(He.value=cn,lt.style.height=`${He.value}px`,Je.style.width=`${Math.round(He.value/Ze.value)}px`)}}function Cn(){ee.value=Pn(),Nn(),St.value&&ee.value.open(St.value)}function Pn(){var lt;const Je={element:((lt=j.value)==null?void 0:lt.parentNode).querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",showNavigationControl:!0,minZoomImageRatio:1,maxZoomPixelRatio:10,showRotationControl:!0,showHomeControl:!0,showZoomControl:!0,showFullPageControl:!0,showNavigator:!1,sequenceMode:!0,showReferenceStrip:!0,animationTime:.5,springStiffness:10,visibilityRatio:1,constrainDuringPan:!0};return openseadragonExports(Je)}function Nn(){B.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:ee.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:Ie=>{var Le;return!((Le=ee.value)!=null&&Le.isFullPage())&&!Ie.originalEvent.ctrlKey&&(Ie.preventDefaultAction=!0,Ie.stopHandlers=!0),!0}}]})}function ke(Ie){navigator.clipboard&&navigator.clipboard.writeText(Ie)}function oe(Ie){let Le=Ie.name.toLowerCase(),Je=Ie.value;return(Le==="enter"||Le==="exit")&&Je.indexOf("|")>0&&([Le,Je]=Je.split("|")),["zoom","zoomto"].indexOf(Le.toLowerCase())===0||/^((pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?\|?([0-9a-f]{8})?$/.test(Je)}function me(Ie){let Le=Ie.name.toLowerCase(),Je=Ie.value;return(Le==="enter"||Le==="exit")&&Je.indexOf("|")>0&&([Le,Je]=Je.split("|")),Le.toLowerCase()==="play"||/^([0-9:]+)+,?([0-9:]+)?$/.test(Je)}function Ae(Ie){let Le=Ie.name.toLowerCase(),Je=Ie.value.toLowerCase();return Le==="pause"||Je==="pause"}function Re(){Array.from(Y.value.querySelectorAll("[enter],[exit]")).forEach(Ie=>{Be(Ie)&&Xe(Ie)}),Array.from(document.querySelectorAll("mark")).forEach(Ie=>{Array.from(Ie.attributes).forEach(Le=>{(ft.value==="image"&&oe(Le)||ft.value!=="image"&&(me(Le)||Ae(Le)))&&Be(Ie.parentElement)&&(Ie.classList.add(ft.value==="image"?"zoom":"play"),Ie.addEventListener("click",()=>{ft.value==="image"?ze(Le.value):me(Le)?Ne(Le.value):qe()}))})})}function Be(Ie){let Le=Ie.previousSibling;for(;Le;){if(Le.nodeName==="VE-MEDIA")return Le===Y.value?Le:null;Le=Le.previousSibling}for(;Ie.parentElement&&Ie.tagName!=="MAIN";){Ie=Ie.parentElement;let Je=Ie.querySelector(":scope > ve-media");if(Je)return Je===Y.value?Je:null}}function Xe(Ie){let Le=Ie.classList.contains("active");new MutationObserver(lt=>{lt.forEach(Mt=>{if(Mt.attributeName=="class"){let Dt=Mt.target.classList.contains("active");if(Le!==Dt){Le=Dt;let Ht=Ie.attributes.getNamedItem(Dt?"enter":"exit");Ht&&(ft.value==="image"&&oe(Ht)&&ze(Ht.value),ft.value!=="image"&&(me(Ht)?Ne(Ht.value):Ae(Ht)&&qe()))}}})}).observe(Ie,{attributes:!0})}function Ne(Ie){Ie=Ie.replace(/^play\|/i,"");const Le=Ie.match(/^([0-9:]+)+,?([0-9:]+)?$/);Le&&Ft(Le[1],Le[2])}function qe(){Qe()}function ze(Ie){var Je,lt,Mt,Dt;Ie=Ie.replace(/^zoomto\|/i,"");const Le=Ie==null?void 0:Ie.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?\|?(?<annoid>[0-9a-f]{8})?$/);if(Le){let Ht=(Je=Le==null?void 0:Le.groups)==null?void 0:Je.region,cn=(lt=Le==null?void 0:Le.groups)==null?void 0:lt.annoid;cn&&ie.value.selected&&ie.value.selected.id===cn?(Mt=ee.value)==null||Mt.viewport.goHome():Ht&&((Dt=ee.value)==null||Dt.viewport.fitBounds(parseRegionString(Ht,ee.value),!1)),cn&&ie.value.select(cn)}}const et=new Set(["youtube.com","youtube.co.uk","youtu.be"]),Ye=new Set(["vimeo.com"]);let Ke=null;const rt=ref(),vt=ref(!0),kt=ref(!1);let Bt=!1,It=!1,jt=!1,qt=null,Ln=!0,sn={},Wn=!1;function ge(){var Je;wn(1.39);let Ie=(Je=U.value)==null?void 0:Je.querySelector("#youtube-placeholder"),Le={color:"white",rel:0,modestbranding:1,playsinline:1,autoplay:B.autoplay?1:0,start:B.start};Ke=YouTubePlayer(Ie,{videoId:rt.value,playerVars:Le}),Ke.on("ready",lt=>{let Mt=lt.target.getSize();wn(Mt.width/Mt.height),Te()})}async function pe(){var Le;wn();let Ie=(Le=U.value)==null?void 0:Le.querySelector("#ve-video-vimeo");Ke=new Player(Ie,{id:rt.value,width:parseInt(window.getComputedStyle(Ie).width.slice(0,-2))}),Ke.on("loaded",()=>{wn(Ie.clientWidth/Ie.clientHeight-5),Te()})}function Se(){jt=!0,nextTick(()=>{var Ie;Ke=(Ie=U.value)==null?void 0:Ie.querySelector("#html5-player"),Te()}),wn()}async function Te(){let Ie=document.querySelector("ve-video"),Le=!1;setInterval(async()=>{if(vt.value=await ct(),kt.value=await dt(),kt.value&&Wn&&sn.length>0&&!Le){let Je=Ie.getBoundingClientRect().top+window.scrollY-top();window.scrollTo(0,Je)}kt.value&&mt().then(Je=>{if(Je=Math.round(Je),sn[Je]){let lt=sn[Je].getBoundingClientRect();window.scrollTo(0,lt.top+window.scrollY-Ie.getBoundingClientRect().bottom)}})},1e3)}function Qe(){Bt?Ke.pauseVideo():(It||jt)&&Ke.pause()}async function mt(){if(Bt)return Ke.getCurrentTime();if(It)return await Ke.getCurrentTime();if(jt)return Ke.currentTime}async function dt(){return Bt?await Ke.getPlayerState()===1:It?!(await Ke.getEnded()||await Ke.getPaused()):jt?!(Ke.ended||Ke.paused):!1}async function ct(){return Bt?await Ke.isMuted():It?await Ke.getMuted():await B.muted}function wt(Ie){Bt?Ie?Ke.mute():Ke.unMute():It?Ke.setMuted(Ie):jt&&(Ke.muted=Ie)}function Rt(Ie){var Le=Ie.split(":").slice(0,3).map(Mt=>parseInt(Mt,10));let Je=0,lt=1;for(;Le.length>0;){let Mt=Le.pop()||0;Je+=lt*Mt,lt*=60}return Je}function Ft(Ie,Le){console.log(`seekTo: start=${Ie} end=${Le}`);let Je=Rt(Ie),lt=Le?Rt(Le)+1:-1;qt&&(clearTimeout(qt),qt=null);let Mt=vt.value;wt(!0),Bt?(Ke.playVideo(),Ke.seekTo(Je).then(Dt=>{lt>=Je&&(qt=setTimeout(()=>{Ke.pauseVideo().then(Ht=>{qt=null,!Mt&&Ln&&wt(!1)})},lt===Je?200:(lt-Je)*1e3))})):It?(Ke.setCurrentTime(Je),Ke.play().then(Dt=>{lt>=Je&&(qt=setTimeout(()=>{Ke.pause().then(Ht=>{qt=null,!Mt&&Ln&&wt(!1)})},lt===Je?200:(lt-Je)*1e3))})):jt&&setTimeout(()=>{Ke.play(),Ke.currentTime=Je,lt>=Je&&(qt=setTimeout(()=>{qt=null,Ke.pause(),!Mt&&Ln&&wt(!1)},lt===Je?200:(lt-Je)*1e3))},200)}return(Ie,Le)=>{const Je=resolveComponent("sl-icon-button"),lt=resolveComponent("sl-popup"),Mt=resolveComponent("sl-image-comparer"),Dt=resolveComponent("sl-badge"),Ht=resolveComponent("sl-button"),cn=resolveComponent("sl-dialog");return openBlock(),createElementBlock("div",{ref_key:"root",ref:j,id:"outer",class:normalizeClass(unref(gt)?"edit":"view")},[createBaseVNode("div",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$3,[ft.value==="image"?(openBlock(),createElementBlock("div",_hoisted_3$3,[_hoisted_4$3,createVNode(lt,{placement:"left-start",distance:"8"},{default:withCtx(()=>[createVNode(Je,{slot:"anchor",class:"info-icon",onClick:J,name:"info-circle-fill",label:"Media Info"}),createBaseVNode("div",_hoisted_5$2,[createBaseVNode("ve-manifest",{manifest:it.value[0]},null,8,_hoisted_6$2)])]),_:1})])):ft.value==="image-grid"?(openBlock(),createElementBlock("div",_hoisted_7$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ue.value,(en,zt)=>(openBlock(),createElementBlock(Fragment,null,[B.cards?(openBlock(),createElementBlock("ve-media-card",{key:0,style:{width:"100%"},manifest:en.manifest},null,8,_hoisted_8$2)):(openBlock(),createElementBlock("div",_hoisted_9$2,[createBaseVNode("div",_hoisted_10$1,[createBaseVNode("img",{src:unref(thumbnail)(it.value[zt]),onClick:mn=>ve(en.manifest)},null,8,_hoisted_11$1),createVNode(lt,{placement:"left",distance:"8",arrow:""},{default:withCtx(()=>[createVNode(Je,{slot:"anchor",class:"info-icon",onClick:J,name:"info-circle-fill",label:"Media Info"}),createBaseVNode("div",_hoisted_12$1,[createBaseVNode("ve-manifest",{manifest:it.value[zt]},null,8,_hoisted_13$1)])]),_:2},1024)])]))],64))),256))])):ft.value==="image-compare"?(openBlock(),createElementBlock("div",_hoisted_14$1,[createVNode(Mt,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(nt.value,(en,zt)=>(openBlock(),createElementBlock("img",{key:`img-${zt}`,slot:zt===0?"before":"after",src:en,alt:unref(label)(it.value[zt])},null,8,_hoisted_15$1))),128))]),_:1})])):ft.value==="audio"?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("audio",_hoisted_17$1,[createBaseVNode("source",{src:unref(yt),type:unref($t)},null,8,_hoisted_18$1)]),createVNode(lt,{placement:"left-start",distance:"8"},{default:withCtx(()=>[createVNode(Je,{slot:"anchor",class:"info-icon",onClick:J,name:"info-circle-fill",label:"Media Info"}),createBaseVNode("div",_hoisted_19$1,[createBaseVNode("ve-manifest",{manifest:it.value[0]},null,8,_hoisted_20$1)])]),_:1})])):ft.value==="video"?(openBlock(),createElementBlock("div",_hoisted_21$1,[unref(Bt)?(openBlock(),createElementBlock("div",_hoisted_22$1)):unref(It)?(openBlock(),createElementBlock("div",_hoisted_23$1)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("video",{id:"html5-player",controls:"",playsinline:"",muted:B.muted,autoplay:B.autoplay},[createBaseVNode("source",{src:unref(yt),type:unref($t)},null,8,_hoisted_25$1)],8,_hoisted_24$1),createVNode(lt,{placement:"left-start",distance:"8"},{default:withCtx(()=>[createVNode(Je,{slot:"anchor",class:"info-icon",onClick:J,name:"info-circle-fill",label:"Media Info"}),createBaseVNode("div",_hoisted_26$1,[createBaseVNode("ve-manifest",{manifest:it.value[0]},null,8,_hoisted_27$1)])]),_:1})],64))])):createCommentVNode("",!0)]),ft.value==="image"&&Me.value>1?(openBlock(),createElementBlock("ve-pager",{key:0,total:Me.value,current:Pe.value,onImageSelected:je},null,40,_hoisted_28$1)):createCommentVNode("",!0),_e.value?(openBlock(),createElementBlock("div",{key:1,id:"caption-bar",onClick:J},[ce.value.length>0?(openBlock(),createElementBlock("div",{key:0,class:"button-icon-with-badge",onClick:Le[0]||(Le[0]=(...en)=>ie.value.toggleVisibility&&ie.value.toggleVisibility(...en))},[createVNode(Je,{id:"annotations-icon",name:"chat-square-text",label:"Show annotations"}),createVNode(Dt,{variant:"danger",pill:""},{default:withCtx(()=>[createTextVNode(toDisplayString(ce.value.length),1)]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",{class:"label",innerHTML:_e.value},null,8,_hoisted_29$1)])):createCommentVNode("",!0),fe.value?(openBlock(),createElementBlock("div",{key:2,id:"coords",innerHTML:fe.value,onClick:Le[1]||(Le[1]=en=>ke(fe.value||""))},null,8,_hoisted_30$1)):createCommentVNode("",!0)]),createVNode(cn,{ref_key:"dialog",ref:Ce,id:"image-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},{default:withCtx(()=>[ae.value?(openBlock(),createElementBlock("ve-media",{key:0,manifest:ae.value,"zoom-on-scroll":""},null,8,_hoisted_31$1)):createCommentVNode("",!0),createVNode(Ht,{slot:"footer",class:"close",onClick:ve,variant:"primary"},{default:withCtx(()=>[createTextVNode("Close")]),_:1})]),_:1},512)],2)}}}),_style_0$3=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}*{box-sizing:border-box}.info-icon{position:absolute;top:12px;right:12px;width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center;visibility:hidden}.media-item:hover .info-icon{visibility:visible;transition:all .3s ease-in}.manifest-popover{background-color:#fff;border-radius:6px;width:300px;height:400px;overflow-y:scroll;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#outer{position:relative;width:100%;background-color:#fff;display:flex;justify-items:center}#content{width:100%}#osd,video{width:100%;height:100%}#caption-bar{display:flex;gap:6px;width:100%;align-items:center;height:32px;background-color:#555}#caption-bar .label{color:#fff;padding:0 9px;font-size:1.1rem;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.image-wrapper{position:relative;height:100%;width:100%}.grid-wrapper{display:grid;grid-template-columns:repeat(auto-fill,minmax(245px,1fr));grid-gap:12px;align-items:flex-start;justify-items:center;padding:12px 0;width:100%}.grid-wrapper>.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}.grid-wrapper img{border:1px solid #ccc;box-shadow:2px 2px 6px #0000004d;width:240px;max-width:100%}#coords{position:absolute;display:flex;align-items:center;justify-content:flex-end;font-family:sans-serif;bottom:0;right:0;width:130px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#coords:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy}.info-icon span{position:absolute;top:20px;right:20px;font-size:24px;z-index:2;opacity:0;border-radius:50%;border:1px solid white;background-color:#0003}.media-item{position:relative}.media-item:hover .info-icon span{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:pointer;color:#fff}.info-icon:hover svg{fill:#000}.view .r6o-footer{display:none}.r6o-readonly-comment{display:inline}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}ul.annotations{list-style:none;padding-left:0}.annotations li{display:flex;align-items:center;gap:6px;padding:6px 0}.annotations li:hover{background-color:#fff3;cursor:pointer}.compare{height:100%;width:100%;position:relative;overflow:hidden;border:5px solid #bfc0c1;box-shadow:-3px 5px 15px #000}.compare img{width:100%;height:100%;position:absolute}#compare-img-2{clip-path:polygon(0 0,50% 0,50% 100%,0 100%)}#slider{position:relative;-webkit-appearance:none;width:calc(100% + 40px);height:100%;margin-left:-20px;background-color:transparent;outline:none}#slider::-webkit-slider-thumb{-webkit-appearance:none;height:45px;width:45px;background:rgba(255,255,255,.3);border:4px solid white;border-radius:50%;background-size:contain;cursor:pointer}audio#html5-player{width:calc(100% - 60px);max-width:50vh}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.popup-overview sl-popup{--arrow-color: var(--sl-color-primary-600)}.popup-overview span[slot=anchor]{display:inline-block;width:150px;height:150px;border:dashed 2px var(--sl-color-neutral-600);margin:50px}.popup-overview .box{width:100px;height:50px;background:var(--sl-color-primary-600);border-radius:var(--sl-border-radius-medium)}.popup-overview-options{display:flex;flex-wrap:wrap;align-items:end;gap:1rem}.popup-overview-options sl-select{width:160px}.popup-overview-options sl-input{width:100px}.popup-overview-options+.popup-overview-options{margin-top:1rem}sl-popup{--arrow-color: var(--sl-color-primary-600)}.media-item .box{width:300px;height:600px;background:white;border-radius:var(--sl-border-radius-medium)}#annotations-icon{position:relative;cursor:pointer}#annotations-icon::part(base){color:#fff;font-size:1.2rem;padding:3px}.button-icon-with-badge{display:inline-block;position:relative;margin:0 6px}.button-icon-with-badge sl-badge{position:absolute;left:70%;top:0;cursor:pointer}.button-icon-with-badge sl-badge::part(base){font-size:.7rem;background-color:#ff0;color:#000;font-weight:700;padding:4px 5px 1px;border:unset}#youtube-placeholder,#ve-video-vimeo{width:100%}
`,_export_sfc=(w,B)=>{const j=w.__vccOpts||w;for(const[U,Y]of B)j[U]=Y;return j},MediaViewer=_export_sfc(_sfc_main$3,[["styles",[_style_0$3]]]),_hoisted_1$2=["innerHTML"],_hoisted_2$2={class:"card-metadata"},_hoisted_3$2=["innerHTML"],_hoisted_4$2=["innerHTML","onClick"],_hoisted_5$1={key:1},_hoisted_6$1=["innerHTML","onClick"],_hoisted_7$1=["innerHTML"],_hoisted_8$1={class:"card-links"},_hoisted_9$1=["manifest"],_sfc_main$2=defineComponent({__name:"MediaCard.ce",props:{manifest:{type:String,required:!0}},setup(w){const B=w,j=ref(null);computed(()=>{var ye;return(ye=j==null?void 0:j.value)==null?void 0:ye.parentNode}),computed(()=>{var ye,we;return(we=(ye=j.value)==null?void 0:ye.getRootNode())==null?void 0:we.host});const U=ref(),Y=computed(()=>U.value&&getItemInfo(U.value)),J=computed(()=>Y.value&&`${Y.value.width.toLocaleString()} x ${Y.value.height.toLocaleString()}`),ee=computed(()=>U.value&&te());function te(){let ye=new Set(["created","updated"]),we=new Set(["image_url","size"]),Ce=getMetadata(U.value).filter(ae=>!we.has(ae.label));return U.value.navDate&&Ce.push({label:"navDate",value:[U.value.navDate]}),Ce.push({label:"dimensions",value:[J.value]}),Ce=Ce.map(ae=>ye.has(ae.label)?{label:ae.label,value:[ae.value[0].split("T")[0]]}:ae).map(ae=>{if(ae.label==="source_url"){let ve=ae.value[0].split("/").pop();ae={label:"source",value:[`<a href="${ae.value[0]}" target="_blank">${ve}</a>`]}}return ae}),Ce.sort()}getManifest(B.manifest).then(ye=>U.value=ye);function re(ye){console.log("copyTextToClipboard",ye),navigator.clipboard&&navigator.clipboard.writeText(ye)}const ie=ref();watch$1(ie,ye=>{ye==null||ye.addEventListener("sl-show",()=>{ie.value&&(ie.value.panel.style.width=`${le()}px`)})});const ce=ref(!1);watch$1(ce,()=>{var ye,we;ce.value?(ye=ie.value)==null||ye.show():(we=ie.value)==null||we.hide()});function fe(){ce.value=!ce.value}function le(){let ye=Math.round(window.innerWidth-100),we=Math.round(window.innerHeight-150),Ce=U.value;if(Ce){let ae=getItemInfo(Ce),ve=Number((ae.width/ae.height).toFixed(4));ye=ve>=1?ye/ve>we?ye=we*ve:ye:Math.round(we*ve)}return ye}return(ye,we)=>{const Ce=resolveComponent("sl-button"),ae=resolveComponent("sl-dialog");return U.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"root",ref:j,class:"card"},[createBaseVNode("div",{class:"card-title",innerHTML:unref(label)(U.value)},null,8,_hoisted_1$2),createBaseVNode("div",{class:"card-image",style:normalizeStyle({backgroundImage:`url(${unref(thumbnail)(U.value)})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"center"}),onClick:fe},null,4),createBaseVNode("div",_hoisted_2$2,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(ee),ve=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-label",innerHTML:ve.label},null,8,_hoisted_3$2),ve.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"md-value",innerHTML:ve.value[0],onClick:xe=>re(ve.value)},null,8,_hoisted_4$2)):(openBlock(),createElementBlock("ul",_hoisted_5$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ve.value,xe=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-value",innerHTML:xe,onClick:_e=>re(xe)},null,8,_hoisted_6$1)]))),256))]))]))),256))])]),createBaseVNode("div",{class:"card-abstract",innerHTML:unref(summary)(U.value)},null,8,_hoisted_7$1),createBaseVNode("div",_hoisted_8$1,[createBaseVNode("img",{onClick:we[0]||(we[0]=ve=>re(U.value.id)),src:"https://juncture-digital.github.io/web-app/static/iiif.png",alt:"IIIF manifest icon"})]),createVNode(ae,{ref_key:"dialog",ref:ie,id:"image-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},{default:withCtx(()=>[ce.value?(openBlock(),createElementBlock("ve-media",{key:0,manifest:U.value.id,"zoom-on-scroll":""},null,8,_hoisted_9$1)):createCommentVNode("",!0),createVNode(Ce,{slot:"footer",class:"close",onClick:fe,variant:"primary"},{default:withCtx(()=>[createTextVNode("Close")]),_:1})]),_:1},512)],512)):createCommentVNode("",!0)}}}),_style_0$2=`.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto 1fr auto;border:.5px solid #ddd;border-radius:4px;padding:0;height:100%;width:100%}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:244px;cursor:pointer}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.3rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:1rem .5rem;margin:0;font-size:.9rem;font-weight:400;max-height:260px;overflow-y:scroll}.card-metadata ul{list-style:none;margin:0;padding:0}.card-links{grid-area:4 / 1 / 5 / 2;display:flex;gap:9px;align-items:center;align-self:flex-end;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-links a{height:24px}.card-links img{height:24px;cursor:pointer}.card-links sl-icon{font-size:20px;color:#999}.card-abstract{grid-area:5 / 1 / 6 / 2;align-self:flex-start;height:110px;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.md-label{font-weight:700;margin-right:6px}.md-value{display:inline;line-height:1.2rem;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;color:#444;cursor:copy}.md-value:hover{text-decoration:underline}.md-label:after{content:":"}.card-metadata ul ul{margin-left:18px}@media (max-width: 480px){.card-image{height:72vw}}
`,MediaCard=_export_sfc(_sfc_main$2,[["styles",[_style_0$2]]]),_sfc_main$1={components:{},props:{manifest:{required:!0}},setup(w){const B=ref(null),j=ref(null),U=ref(null);watch$1(j,()=>U.value=ee(j.value));const Y=computed(()=>U.value&&te(U.value));typeof w.manifest=="object"?j.value=w.manifest:getManifest(w.manifest).then(re=>j.value=re);function J(re,ie="en"){return typeof re=="object"&&!Array.isArray(re)?re[ie]||re.none||re[Object.keys(re).sort()[0]]:re}function ee(re){let ie={};if(ie.id=J(re.id),ie.label=J(re.label),re.summary&&(ie.summary=J(re.summary)),re.rights&&(ie.rights=re.rights),re.thumbnail&&(ie.thumbnail=re.thumbnail[0].id||re.thumbnail),re.metadata){ie.metadata=re.metadata.map(le=>({label:J(le.label)[0],value:J(le.value)}));let ce=ie.metadata.find(le=>le.label=="source_url");ie.sourceUrl=ce?ce.value[0]:null;let fe=ie.metadata.find(le=>le.label==="depicts");fe&&(ie.depicts=fe.value)}if(re.provider&&(ie.provider=re.provider.map(ce=>{let fe={label:J(ce.label),href:ce.id};return ce.logo&&(fe.logo={src:ce.logo[0].id}),fe})),re.logo&&(ie.logo=re.logo.map(ce=>{let fe={src:typeof ce=="object"?ce.id||ce["@id"]:ce};return typeof ce=="object"&&(ce.width&&(fe.width=ce.width),ce.height&&(fe.height=ce.height)),fe})),ie.imageData=getItemInfo(re),ie.service=ie.imageData.service&&`${(ie.imageData.service[0].id||ie.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,re.requiredStatement){let ce=re.requiredStatement;ie.requiredStatement={label:J(ce.label),value:J(ce.value)}}return re.homepage&&(ie.homepage={label:re.homepage.label?J(re.homepage.label):re.homepage.id,href:re.homepage.id}),re.seeAlso&&(ie.seeAlso=re.seeAlso.map(ce=>({label:ce.label?J(ce.label):ce.id,href:ce.id}))),ie}function te(re){let ie={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const ce=function(ve,xe){return new Function("return `"+ve+"`;").call(xe)};let fe=re.rights||"",le="",[ye,we,Ce,ae]=fe.split("/").slice(2);return ye==="creativecommons.org"?(Ce=Ce==="zero"?"publicdomain":Ce,le=`<img src="${ce(ie.cc.badgeTemplate,{...ie.cc,rightsCode:Ce,version:ae})}"/>`):ye==="rightsstatements.org"&&(le=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${ie.rs.backgroundColor};"><img style="height:100%;" src="${ce(ie.rs.badgeTemplate,{...ie.rs,rightsCode:Ce})}"/></div>`),le}return{licenseBadge:Y,parsed:U,props:w,root:B}}},_style_0$1=`*[data-v-18a30f58]{box-sizing:border-box}.manifest[data-v-18a30f58]{width:100%;height:100%;overflow-y:scroll}.main[data-v-18a30f58],.detail[data-v-18a30f58]{display:flow-root;margin:6px}.main>*[data-v-18a30f58]{margin-bottom:6px}.detail>div[data-v-18a30f58]{margin-top:12px}.main .label[data-v-18a30f58]{font-size:1.2em;font-weight:700}.thumbnail[data-v-18a30f58]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}ul[data-v-18a30f58]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-18a30f58]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-18a30f58]:after{content:":"}.detail .value[data-v-18a30f58],.main .label[data-v-18a30f58]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-18a30f58]{padding-right:6px}img.logo[data-v-18a30f58]{height:40px}.manifest-id[data-v-18a30f58],.manifest-label[data-v-18a30f58],.summary[data-v-18a30f58],.provider[data-v-18a30f58],.rights[data-v-18a30f58],.service[data-v-18a30f58],.imageData div[data-v-18a30f58],.thumbnail[data-v-18a30f58]{display:flex;align-items:flex-start}.metadata>ul[data-v-18a30f58],.requiredStatement ul[data-v-18a30f58]{padding-left:24px}.metadata ul li[data-v-18a30f58],.requiredStatement ul li[data-v-18a30f58]{display:flex}.metadata ul ul[data-v-18a30f58]{padding-left:0}a[data-v-18a30f58]:link,a[data-v-18a30f58]:visited{color:#00e}
`,_withScopeId=w=>(pushScopeId("data-v-18a30f58"),w=w(),popScopeId(),w),_hoisted_1$1={ref:"root",class:"manifest"},_hoisted_2$1={class:"main"},_hoisted_3$1=["src"],_hoisted_4$1=["innerHTML"],_hoisted_5=["innerHTML"],_hoisted_6=["href","innerHTML"],_hoisted_7={class:"detail"},_hoisted_8={key:0,class:"provider"},_hoisted_9=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11=["src"],_hoisted_12=["href","innerHTML"],_hoisted_13={key:1},_hoisted_14=["src"],_hoisted_15=["href","innerHTML"],_hoisted_16={key:1,class:"rights"},_hoisted_17=_withScopeId(()=>createBaseVNode("span",{class:"label"},"rights",-1)),_hoisted_18=["href","innerHTML"],_hoisted_19={key:2,class:"metadata"},_hoisted_20=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_21=["innerHTML"],_hoisted_22=["innerHTML"],_hoisted_23={key:1},_hoisted_24=["innerHTML"],_hoisted_25={key:3,class:"navDate"},_hoisted_26=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_27=["innerHTML"],_hoisted_28={key:4,class:"homepage"},_hoisted_29=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_30=["href","innerHTML"],_hoisted_31={key:5,class:"seeAlso"},_hoisted_32=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_33=["href","innerHTML"],_hoisted_34={key:6,class:"logo"},_hoisted_35=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_36=["href","innerHTML"],_hoisted_37={key:7,class:"requiredStatement"},_hoisted_38=_withScopeId(()=>createBaseVNode("span",{class:"label"},"requiredStatement",-1)),_hoisted_39=["innerHTML"],_hoisted_40=["innerHTML"],_hoisted_41={key:8,class:"imageData"},_hoisted_42=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_43=["href","innerHTML"],_hoisted_44=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_45=["innerHTML"],_hoisted_46=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_47=["innerHTML"],_hoisted_48=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_49=["innerHTML"],_hoisted_50={key:9},_hoisted_51=_withScopeId(()=>createBaseVNode("span",{class:"label"},"thumbnail",-1)),_hoisted_52=["href","innerHTML"],_hoisted_53={key:10,class:"service"},_hoisted_54=_withScopeId(()=>createBaseVNode("span",{class:"label"},"service",-1)),_hoisted_55=["href","innerHTML"];function _sfc_render(w,B,j,U,Y,J){var ee,te,re,ie,ce,fe,le,ye,we,Ce,ae,ve,xe,_e,Pe,Me,je;return openBlock(),createElementBlock("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("img",{class:"thumbnail",src:(ee=U.parsed)==null?void 0:ee.thumbnail},null,8,_hoisted_3$1),createBaseVNode("div",{class:"label",innerHTML:(te=U.parsed)==null?void 0:te.label},null,8,_hoisted_4$1),(re=U.parsed)!=null&&re.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(ie=U.parsed)==null?void 0:ie.summary},null,8,_hoisted_5)):createCommentVNode("",!0),(ce=U.parsed)!=null&&ce.rights?(openBlock(),createElementBlock("a",{key:1,href:(fe=U.parsed)==null?void 0:fe.rights,innerHTML:U.licenseBadge},null,8,_hoisted_6)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7,[(le=U.parsed)!=null&&le.provider?(openBlock(),createElementBlock("div",_hoisted_8,[_hoisted_9,U.parsed.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10,[U.parsed.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:U.parsed.provider[0].logo.src},null,8,_hoisted_11)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:U.parsed.provider[0].href,innerHTML:U.parsed.provider[0].label},null,8,_hoisted_12)])):(openBlock(),createElementBlock("ul",_hoisted_13,[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.parsed.provider,(Ve,He)=>(openBlock(),createElementBlock("li",{key:`provider-${He}`},[Ve.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:Ve.logo.src},null,8,_hoisted_14)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:Ve.href,innerHTML:Ve.label},null,8,_hoisted_15)]))),128))]))])):createCommentVNode("",!0),(ye=U.parsed)!=null&&ye.rights?(openBlock(),createElementBlock("div",_hoisted_16,[_hoisted_17,createBaseVNode("a",{class:"value",href:U.parsed.rights,innerHTML:U.parsed.rights},null,8,_hoisted_18)])):createCommentVNode("",!0),(we=U.parsed)!=null&&we.metadata?(openBlock(),createElementBlock("div",_hoisted_19,[_hoisted_20,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(U.parsed.metadata,(Ve,He)=>(openBlock(),createElementBlock("li",{key:`md-${He}`},[createBaseVNode("span",{class:"label",innerHTML:Ve.label},null,8,_hoisted_21),Ve.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:Ve.value[0]},null,8,_hoisted_22)):(openBlock(),createElementBlock("ul",_hoisted_23,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ve.value,Ze=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:Ze},null,8,_hoisted_24))),256))]))]))),128))])])):createCommentVNode("",!0),(Ce=U.parsed)!=null&&Ce.navDate?(openBlock(),createElementBlock("div",_hoisted_25,[_hoisted_26,createBaseVNode("span",{class:"value",innerHTML:U.parsed.navDate},null,8,_hoisted_27)])):createCommentVNode("",!0),(ae=U.parsed)!=null&&ae.homepage?(openBlock(),createElementBlock("div",_hoisted_28,[_hoisted_29,createBaseVNode("a",{class:"value",href:U.parsed.homepage.href,innerHTML:U.parsed.homepage.label},null,8,_hoisted_30)])):createCommentVNode("",!0),(ve=U.parsed)!=null&&ve.seeAlso?(openBlock(),createElementBlock("div",_hoisted_31,[_hoisted_32,createBaseVNode("a",{class:"value",href:U.parsed.seeAlso[0].href,innerHTML:U.parsed.seeAlso[0].label},null,8,_hoisted_33)])):createCommentVNode("",!0),(xe=U.parsed)!=null&&xe.logo?(openBlock(),createElementBlock("div",_hoisted_34,[_hoisted_35,createBaseVNode("a",{class:"value",href:U.parsed.logo[0].src,innerHTML:U.parsed.logo[0].src},null,8,_hoisted_36)])):createCommentVNode("",!0),(_e=U.parsed)!=null&&_e.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_37,[_hoisted_38,createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("span",{class:"label",innerHTML:U.parsed.requiredStatement.label},null,8,_hoisted_39),createBaseVNode("span",{class:"value",innerHTML:U.parsed.requiredStatement.value},null,8,_hoisted_40)])])])):createCommentVNode("",!0),(Pe=U.parsed)!=null&&Pe.imageData?(openBlock(),createElementBlock("div",_hoisted_41,[createBaseVNode("div",null,[_hoisted_42,createBaseVNode("a",{class:"value",href:U.parsed.imageData.id,innerHTML:U.parsed.imageData.id},null,8,_hoisted_43)]),createBaseVNode("div",null,[_hoisted_44,createBaseVNode("span",{class:"value",innerHTML:U.parsed.imageData.format},null,8,_hoisted_45)]),createBaseVNode("div",null,[_hoisted_46,createBaseVNode("span",{class:"value",innerHTML:U.parsed.imageData.width},null,8,_hoisted_47)]),createBaseVNode("div",null,[_hoisted_48,createBaseVNode("span",{class:"value",innerHTML:U.parsed.imageData.height},null,8,_hoisted_49)])])):createCommentVNode("",!0),(Me=U.parsed)!=null&&Me.thumbnail?(openBlock(),createElementBlock("div",_hoisted_50,[_hoisted_51,createBaseVNode("a",{class:"value",href:U.parsed.thumbnail,innerHTML:U.parsed.thumbnail},null,8,_hoisted_52)])):createCommentVNode("",!0),(je=U.parsed)!=null&&je.service?(openBlock(),createElementBlock("div",_hoisted_53,[_hoisted_54,createBaseVNode("a",{class:"value",href:U.parsed.service,innerHTML:U.parsed.service},null,8,_hoisted_55)])):createCommentVNode("",!0)])],512)}const Manifest=_export_sfc(_sfc_main$1,[["render",_sfc_render],["styles",[_style_0$1]],["__scopeId","data-v-18a30f58"]]),_hoisted_1={ref:"root",class:"pagination"},_hoisted_2=["disabled"],_hoisted_3=["innerHTML","onClick"],_hoisted_4=["disabled"],_sfc_main=defineComponent({__name:"Pager.ce",props:{total:{type:Number,required:!0},current:{type:Number,default:1}},emits:["image-selected"],setup(w,{emit:B}){const j=w,U=ref();return U.value=j.current,watch$1(U,()=>B("image-selected",U.value)),(Y,J)=>(openBlock(),createElementBlock("div",_hoisted_1,[createBaseVNode("span",{onClick:J[0]||(J[0]=ee=>U.value>1&&--U.value),disabled:U.value===1},"\xAB",8,_hoisted_2),(openBlock(!0),createElementBlock(Fragment,null,renderList(j.total,ee=>(openBlock(),createElementBlock("span",{key:`item-${ee}`,class:normalizeClass({active:U.value===ee}),innerHTML:ee,onClick:te=>U.value=ee},null,10,_hoisted_3))),128)),createBaseVNode("span",{onClick:J[1]||(J[1]=ee=>U.value<j.total&&++U.value),disabled:U.value===j.total},"\xBB",8,_hoisted_4)],512))}}),_style_0=`.pagination{display:flex}.pagination span[disabled=true]{color:#ccc;cursor:unset}.pagination span{color:#000;float:left;padding:8px 16px;text-decoration:none;transition:background-color .3s;border:1px solid #ddd;margin:0 4px;cursor:pointer}.pagination span.active{background-color:#4caf50;color:#fff;border:1px solid #4CAF50}.pagination span:hover:not(.active){background-color:#ddd}
`,Pager=_export_sfc(_sfc_main,[["styles",[_style_0]]]);setBasePath("https://juncture-digital.github.io/web-components/src");customElements.define("current-time",defineCustomElement(_sfc_main$4));customElements.define("ve-media",defineCustomElement(MediaViewer));customElements.define("ve-media-card",defineCustomElement(MediaCard));customElements.define("ve-manifest",defineCustomElement(Manifest));customElements.define("ve-pager",defineCustomElement(Pager));
