var Vx=Object.defineProperty;var Ux=(it,nt,rt)=>nt in it?Vx(it,nt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):it[nt]=rt;var jx=(it,nt)=>()=>(nt||it((nt={exports:{}}).exports,nt),nt.exports);var Ha=(it,nt,rt)=>(Ux(it,typeof nt!="symbol"?nt+"":nt,rt),rt);var Wx=jx((exports,module)=>{(function(){const nt=document.createElement("link").relList;if(nt&&nt.supports&&nt.supports("modulepreload"))return;for(const vt of document.querySelectorAll('link[rel="modulepreload"]'))st(vt);new MutationObserver(vt=>{for(const bt of vt)if(bt.type==="childList")for(const _t of bt.addedNodes)_t.tagName==="LINK"&&_t.rel==="modulepreload"&&st(_t)}).observe(document,{childList:!0,subtree:!0});function rt(vt){const bt={};return vt.integrity&&(bt.integrity=vt.integrity),vt.referrerpolicy&&(bt.referrerPolicy=vt.referrerpolicy),vt.crossorigin==="use-credentials"?bt.credentials="include":vt.crossorigin==="anonymous"?bt.credentials="omit":bt.credentials="same-origin",bt}function st(vt){if(vt.ep)return;vt.ep=!0;const bt=rt(vt);fetch(vt.href,bt)}})();const style="";function makeMap(it,nt){const rt=Object.create(null),st=it.split(",");for(let vt=0;vt<st.length;vt++)rt[st[vt]]=!0;return nt?vt=>!!rt[vt.toLowerCase()]:vt=>!!rt[vt]}function normalizeStyle(it){if(isArray$2(it)){const nt={};for(let rt=0;rt<it.length;rt++){const st=it[rt],vt=isString(st)?parseStringStyle(st):normalizeStyle(st);if(vt)for(const bt in vt)nt[bt]=vt[bt]}return nt}else{if(isString(it))return it;if(isObject$3(it))return it}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*.*?\*\//gs;function parseStringStyle(it){const nt={};return it.replace(styleCommentRE,"").split(listDelimiterRE).forEach(rt=>{if(rt){const st=rt.split(propertyDelimiterRE);st.length>1&&(nt[st[0].trim()]=st[1].trim())}}),nt}function normalizeClass(it){let nt="";if(isString(it))nt=it;else if(isArray$2(it))for(let rt=0;rt<it.length;rt++){const st=normalizeClass(it[rt]);st&&(nt+=st+" ")}else if(isObject$3(it))for(const rt in it)it[rt]&&(nt+=rt+" ");return nt.trim()}function normalizeProps(it){if(!it)return null;let{class:nt,style:rt}=it;return nt&&!isString(nt)&&(it.class=normalizeClass(nt)),rt&&(it.style=normalizeStyle(rt)),it}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(it){return!!it||it===""}const toDisplayString=it=>isString(it)?it:it==null?"":isArray$2(it)||isObject$3(it)&&(it.toString===objectToString$1||!isFunction$1(it.toString))?JSON.stringify(it,replacer,2):String(it),replacer=(it,nt)=>nt&&nt.__v_isRef?replacer(it,nt.value):isMap$2(nt)?{[`Map(${nt.size})`]:[...nt.entries()].reduce((rt,[st,vt])=>(rt[`${st} =>`]=vt,rt),{})}:isSet$2(nt)?{[`Set(${nt.size})`]:[...nt.values()]}:isObject$3(nt)&&!isArray$2(nt)&&!isPlainObject$1(nt)?String(nt):nt,EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=it=>onRE.test(it),isModelListener=it=>it.startsWith("onUpdate:"),extend$3=Object.assign,remove$1=(it,nt)=>{const rt=it.indexOf(nt);rt>-1&&it.splice(rt,1)},hasOwnProperty$h=Object.prototype.hasOwnProperty,hasOwn=(it,nt)=>hasOwnProperty$h.call(it,nt),isArray$2=Array.isArray,isMap$2=it=>toTypeString(it)==="[object Map]",isSet$2=it=>toTypeString(it)==="[object Set]",isFunction$1=it=>typeof it=="function",isString=it=>typeof it=="string",isSymbol$1=it=>typeof it=="symbol",isObject$3=it=>it!==null&&typeof it=="object",isPromise=it=>isObject$3(it)&&isFunction$1(it.then)&&isFunction$1(it.catch),objectToString$1=Object.prototype.toString,toTypeString=it=>objectToString$1.call(it),toRawType=it=>toTypeString(it).slice(8,-1),isPlainObject$1=it=>toTypeString(it)==="[object Object]",isIntegerKey=it=>isString(it)&&it!=="NaN"&&it[0]!=="-"&&""+parseInt(it,10)===it,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=it=>{const nt=Object.create(null);return rt=>nt[rt]||(nt[rt]=it(rt))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(it=>it.replace(camelizeRE,(nt,rt)=>rt?rt.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(it=>it.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(it=>it.charAt(0).toUpperCase()+it.slice(1)),toHandlerKey=cacheStringFunction(it=>it?`on${capitalize(it)}`:""),hasChanged=(it,nt)=>!Object.is(it,nt),invokeArrayFns=(it,nt)=>{for(let rt=0;rt<it.length;rt++)it[rt](nt)},def=(it,nt,rt)=>{Object.defineProperty(it,nt,{configurable:!0,enumerable:!1,value:rt})},toNumber$1=it=>{const nt=parseFloat(it);return isNaN(nt)?it:nt};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let activeEffectScope;class EffectScope{constructor(nt=!1){this.detached=nt,this.active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!nt&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}run(nt){if(this.active){const rt=activeEffectScope;try{return activeEffectScope=this,nt()}finally{activeEffectScope=rt}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(nt){if(this.active){let rt,st;for(rt=0,st=this.effects.length;rt<st;rt++)this.effects[rt].stop();for(rt=0,st=this.cleanups.length;rt<st;rt++)this.cleanups[rt]();if(this.scopes)for(rt=0,st=this.scopes.length;rt<st;rt++)this.scopes[rt].stop(!0);if(!this.detached&&this.parent&&!nt){const vt=this.parent.scopes.pop();vt&&vt!==this&&(this.parent.scopes[this.index]=vt,vt.index=this.index)}this.parent=void 0,this.active=!1}}}function recordEffectScope(it,nt=activeEffectScope){nt&&nt.active&&nt.effects.push(it)}const createDep=it=>{const nt=new Set(it);return nt.w=0,nt.n=0,nt},wasTracked=it=>(it.w&trackOpBit)>0,newTracked=it=>(it.n&trackOpBit)>0,initDepMarkers=({deps:it})=>{if(it.length)for(let nt=0;nt<it.length;nt++)it[nt].w|=trackOpBit},finalizeDepMarkers=it=>{const{deps:nt}=it;if(nt.length){let rt=0;for(let st=0;st<nt.length;st++){const vt=nt[st];wasTracked(vt)&&!newTracked(vt)?vt.delete(it):nt[rt++]=vt,vt.w&=~trackOpBit,vt.n&=~trackOpBit}nt.length=rt}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(nt,rt=null,st){this.fn=nt,this.scheduler=rt,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,st)}run(){if(!this.active)return this.fn();let nt=activeEffect,rt=shouldTrack;for(;nt;){if(nt===this)return;nt=nt.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=rt,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(it){const{deps:nt}=it;if(nt.length){for(let rt=0;rt<nt.length;rt++)nt[rt].delete(it);nt.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const it=trackStack.pop();shouldTrack=it===void 0?!0:it}function track(it,nt,rt){if(shouldTrack&&activeEffect){let st=targetMap.get(it);st||targetMap.set(it,st=new Map);let vt=st.get(rt);vt||st.set(rt,vt=createDep()),trackEffects(vt)}}function trackEffects(it,nt){let rt=!1;effectTrackDepth<=maxMarkerBits?newTracked(it)||(it.n|=trackOpBit,rt=!wasTracked(it)):rt=!it.has(activeEffect),rt&&(it.add(activeEffect),activeEffect.deps.push(it))}function trigger(it,nt,rt,st,vt,bt){const _t=targetMap.get(it);if(!_t)return;let wt=[];if(nt==="clear")wt=[..._t.values()];else if(rt==="length"&&isArray$2(it)){const Et=toNumber$1(st);_t.forEach((Tt,$t)=>{($t==="length"||$t>=Et)&&wt.push(Tt)})}else switch(rt!==void 0&&wt.push(_t.get(rt)),nt){case"add":isArray$2(it)?isIntegerKey(rt)&&wt.push(_t.get("length")):(wt.push(_t.get(ITERATE_KEY)),isMap$2(it)&&wt.push(_t.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(it)||(wt.push(_t.get(ITERATE_KEY)),isMap$2(it)&&wt.push(_t.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(it)&&wt.push(_t.get(ITERATE_KEY));break}if(wt.length===1)wt[0]&&triggerEffects(wt[0]);else{const Et=[];for(const Tt of wt)Tt&&Et.push(...Tt);triggerEffects(createDep(Et))}}function triggerEffects(it,nt){const rt=isArray$2(it)?it:[...it];for(const st of rt)st.computed&&triggerEffect(st);for(const st of rt)st.computed||triggerEffect(st)}function triggerEffect(it,nt){(it!==activeEffect||it.allowRecurse)&&(it.scheduler?it.scheduler():it.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(it=>it!=="arguments"&&it!=="caller").map(it=>Symbol[it]).filter(isSymbol$1)),get$3=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const it={};return["includes","indexOf","lastIndexOf"].forEach(nt=>{it[nt]=function(...rt){const st=toRaw(this);for(let bt=0,_t=this.length;bt<_t;bt++)track(st,"get",bt+"");const vt=st[nt](...rt);return vt===-1||vt===!1?st[nt](...rt.map(toRaw)):vt}}),["push","pop","shift","unshift","splice"].forEach(nt=>{it[nt]=function(...rt){pauseTracking();const st=toRaw(this)[nt].apply(this,rt);return resetTracking(),st}}),it}function createGetter(it=!1,nt=!1){return function(st,vt,bt){if(vt==="__v_isReactive")return!it;if(vt==="__v_isReadonly")return it;if(vt==="__v_isShallow")return nt;if(vt==="__v_raw"&&bt===(it?nt?shallowReadonlyMap:readonlyMap:nt?shallowReactiveMap:reactiveMap).get(st))return st;const _t=isArray$2(st);if(!it&&_t&&hasOwn(arrayInstrumentations,vt))return Reflect.get(arrayInstrumentations,vt,bt);const wt=Reflect.get(st,vt,bt);return(isSymbol$1(vt)?builtInSymbols.has(vt):isNonTrackableKeys(vt))||(it||track(st,"get",vt),nt)?wt:isRef(wt)?_t&&isIntegerKey(vt)?wt:wt.value:isObject$3(wt)?it?readonly(wt):reactive(wt):wt}}const set$4=createSetter(),shallowSet=createSetter(!0);function createSetter(it=!1){return function(rt,st,vt,bt){let _t=rt[st];if(isReadonly(_t)&&isRef(_t)&&!isRef(vt))return!1;if(!it&&(!isShallow(vt)&&!isReadonly(vt)&&(_t=toRaw(_t),vt=toRaw(vt)),!isArray$2(rt)&&isRef(_t)&&!isRef(vt)))return _t.value=vt,!0;const wt=isArray$2(rt)&&isIntegerKey(st)?Number(st)<rt.length:hasOwn(rt,st),Et=Reflect.set(rt,st,vt,bt);return rt===toRaw(bt)&&(wt?hasChanged(vt,_t)&&trigger(rt,"set",st,vt):trigger(rt,"add",st,vt)),Et}}function deleteProperty(it,nt){const rt=hasOwn(it,nt);it[nt];const st=Reflect.deleteProperty(it,nt);return st&&rt&&trigger(it,"delete",nt,void 0),st}function has$1(it,nt){const rt=Reflect.has(it,nt);return(!isSymbol$1(nt)||!builtInSymbols.has(nt))&&track(it,"has",nt),rt}function ownKeys(it){return track(it,"iterate",isArray$2(it)?"length":ITERATE_KEY),Reflect.ownKeys(it)}const mutableHandlers={get:get$3,set:set$4,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(it,nt){return!0},deleteProperty(it,nt){return!0}},shallowReactiveHandlers=extend$3({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=it=>it,getProto=it=>Reflect.getPrototypeOf(it);function get$1$1(it,nt,rt=!1,st=!1){it=it.__v_raw;const vt=toRaw(it),bt=toRaw(nt);rt||(nt!==bt&&track(vt,"get",nt),track(vt,"get",bt));const{has:_t}=getProto(vt),wt=st?toShallow:rt?toReadonly:toReactive;if(_t.call(vt,nt))return wt(it.get(nt));if(_t.call(vt,bt))return wt(it.get(bt));it!==vt&&it.get(nt)}function has$1$1(it,nt=!1){const rt=this.__v_raw,st=toRaw(rt),vt=toRaw(it);return nt||(it!==vt&&track(st,"has",it),track(st,"has",vt)),it===vt?rt.has(it):rt.has(it)||rt.has(vt)}function size(it,nt=!1){return it=it.__v_raw,!nt&&track(toRaw(it),"iterate",ITERATE_KEY),Reflect.get(it,"size",it)}function add(it){it=toRaw(it);const nt=toRaw(this);return getProto(nt).has.call(nt,it)||(nt.add(it),trigger(nt,"add",it,it)),this}function set$1$1(it,nt){nt=toRaw(nt);const rt=toRaw(this),{has:st,get:vt}=getProto(rt);let bt=st.call(rt,it);bt||(it=toRaw(it),bt=st.call(rt,it));const _t=vt.call(rt,it);return rt.set(it,nt),bt?hasChanged(nt,_t)&&trigger(rt,"set",it,nt):trigger(rt,"add",it,nt),this}function deleteEntry(it){const nt=toRaw(this),{has:rt,get:st}=getProto(nt);let vt=rt.call(nt,it);vt||(it=toRaw(it),vt=rt.call(nt,it)),st&&st.call(nt,it);const bt=nt.delete(it);return vt&&trigger(nt,"delete",it,void 0),bt}function clear$h(){const it=toRaw(this),nt=it.size!==0,rt=it.clear();return nt&&trigger(it,"clear",void 0,void 0),rt}function createForEach(it,nt){return function(st,vt){const bt=this,_t=bt.__v_raw,wt=toRaw(_t),Et=nt?toShallow:it?toReadonly:toReactive;return!it&&track(wt,"iterate",ITERATE_KEY),_t.forEach((Tt,$t)=>st.call(vt,Et(Tt),Et($t),bt))}}function createIterableMethod(it,nt,rt){return function(...st){const vt=this.__v_raw,bt=toRaw(vt),_t=isMap$2(bt),wt=it==="entries"||it===Symbol.iterator&&_t,Et=it==="keys"&&_t,Tt=vt[it](...st),$t=rt?toShallow:nt?toReadonly:toReactive;return!nt&&track(bt,"iterate",Et?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:Dt,done:Lt}=Tt.next();return Lt?{value:Dt,done:Lt}:{value:wt?[$t(Dt[0]),$t(Dt[1])]:$t(Dt),done:Lt}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(it){return function(...nt){return it==="delete"?!1:this}}function createInstrumentations(){const it={get(bt){return get$1$1(this,bt)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!1)},nt={get(bt){return get$1$1(this,bt,!1,!0)},get size(){return size(this)},has:has$1$1,add,set:set$1$1,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!0)},rt={get(bt){return get$1$1(this,bt,!0)},get size(){return size(this,!0)},has(bt){return has$1$1.call(this,bt,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},st={get(bt){return get$1$1(this,bt,!0,!0)},get size(){return size(this,!0)},has(bt){return has$1$1.call(this,bt,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(bt=>{it[bt]=createIterableMethod(bt,!1,!1),rt[bt]=createIterableMethod(bt,!0,!1),nt[bt]=createIterableMethod(bt,!1,!0),st[bt]=createIterableMethod(bt,!0,!0)}),[it,rt,nt,st]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(it,nt){const rt=nt?it?shallowReadonlyInstrumentations:shallowInstrumentations:it?readonlyInstrumentations:mutableInstrumentations;return(st,vt,bt)=>vt==="__v_isReactive"?!it:vt==="__v_isReadonly"?it:vt==="__v_raw"?st:Reflect.get(hasOwn(rt,vt)&&vt in st?rt:st,vt,bt)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(it){switch(it){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(it){return it.__v_skip||!Object.isExtensible(it)?0:targetTypeMap(toRawType(it))}function reactive(it){return isReadonly(it)?it:createReactiveObject(it,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(it){return createReactiveObject(it,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(it){return createReactiveObject(it,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(it,nt,rt,st,vt){if(!isObject$3(it)||it.__v_raw&&!(nt&&it.__v_isReactive))return it;const bt=vt.get(it);if(bt)return bt;const _t=getTargetType(it);if(_t===0)return it;const wt=new Proxy(it,_t===2?st:rt);return vt.set(it,wt),wt}function isReactive(it){return isReadonly(it)?isReactive(it.__v_raw):!!(it&&it.__v_isReactive)}function isReadonly(it){return!!(it&&it.__v_isReadonly)}function isShallow(it){return!!(it&&it.__v_isShallow)}function isProxy(it){return isReactive(it)||isReadonly(it)}function toRaw(it){const nt=it&&it.__v_raw;return nt?toRaw(nt):it}function markRaw(it){return def(it,"__v_skip",!0),it}const toReactive=it=>isObject$3(it)?reactive(it):it,toReadonly=it=>isObject$3(it)?readonly(it):it;function trackRefValue(it){shouldTrack&&activeEffect&&(it=toRaw(it),trackEffects(it.dep||(it.dep=createDep())))}function triggerRefValue(it,nt){it=toRaw(it),it.dep&&triggerEffects(it.dep)}function isRef(it){return!!(it&&it.__v_isRef===!0)}function ref(it){return createRef(it,!1)}function createRef(it,nt){return isRef(it)?it:new RefImpl(it,nt)}class RefImpl{constructor(nt,rt){this.__v_isShallow=rt,this.dep=void 0,this.__v_isRef=!0,this._rawValue=rt?nt:toRaw(nt),this._value=rt?nt:toReactive(nt)}get value(){return trackRefValue(this),this._value}set value(nt){const rt=this.__v_isShallow||isShallow(nt)||isReadonly(nt);nt=rt?nt:toRaw(nt),hasChanged(nt,this._rawValue)&&(this._rawValue=nt,this._value=rt?nt:toReactive(nt),triggerRefValue(this))}}function unref(it){return isRef(it)?it.value:it}const shallowUnwrapHandlers={get:(it,nt,rt)=>unref(Reflect.get(it,nt,rt)),set:(it,nt,rt,st)=>{const vt=it[nt];return isRef(vt)&&!isRef(rt)?(vt.value=rt,!0):Reflect.set(it,nt,rt,st)}};function proxyRefs(it){return isReactive(it)?it:new Proxy(it,shallowUnwrapHandlers)}var _a$1;class ComputedRefImpl{constructor(nt,rt,st,vt){this._setter=rt,this.dep=void 0,this.__v_isRef=!0,this[_a$1]=!1,this._dirty=!0,this.effect=new ReactiveEffect(nt,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!vt,this.__v_isReadonly=st}get value(){const nt=toRaw(this);return trackRefValue(nt),(nt._dirty||!nt._cacheable)&&(nt._dirty=!1,nt._value=nt.effect.run()),nt._value}set value(nt){this._setter(nt)}}_a$1="__v_isReadonly";function computed$1(it,nt,rt=!1){let st,vt;const bt=isFunction$1(it);return bt?(st=it,vt=NOOP):(st=it.get,vt=it.set),new ComputedRefImpl(st,vt,bt||!vt,rt)}function warn(it,...nt){}function callWithErrorHandling(it,nt,rt,st){let vt;try{vt=st?it(...st):it()}catch(bt){handleError$1(bt,nt,rt)}return vt}function callWithAsyncErrorHandling(it,nt,rt,st){if(isFunction$1(it)){const bt=callWithErrorHandling(it,nt,rt,st);return bt&&isPromise(bt)&&bt.catch(_t=>{handleError$1(_t,nt,rt)}),bt}const vt=[];for(let bt=0;bt<it.length;bt++)vt.push(callWithAsyncErrorHandling(it[bt],nt,rt,st));return vt}function handleError$1(it,nt,rt,st=!0){const vt=nt?nt.vnode:null;if(nt){let bt=nt.parent;const _t=nt.proxy,wt=rt;for(;bt;){const Tt=bt.ec;if(Tt){for(let $t=0;$t<Tt.length;$t++)if(Tt[$t](it,_t,wt)===!1)return}bt=bt.parent}const Et=nt.appContext.config.errorHandler;if(Et){callWithErrorHandling(Et,null,10,[it,_t,wt]);return}}logError(it,rt,vt,st)}function logError(it,nt,rt,st=!0){console.error(it)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(it){const nt=currentFlushPromise||resolvedPromise;return it?nt.then(this?it.bind(this):it):nt}function findInsertionIndex(it){let nt=flushIndex+1,rt=queue.length;for(;nt<rt;){const st=nt+rt>>>1;getId$1(queue[st])<it?nt=st+1:rt=st}return nt}function queueJob(it){(!queue.length||!queue.includes(it,isFlushing&&it.allowRecurse?flushIndex+1:flushIndex))&&(it.id==null?queue.push(it):queue.splice(findInsertionIndex(it.id),0,it),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(it){const nt=queue.indexOf(it);nt>flushIndex&&queue.splice(nt,1)}function queuePostFlushCb(it){isArray$2(it)?pendingPostFlushCbs.push(...it):(!activePostFlushCbs||!activePostFlushCbs.includes(it,it.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(it),queueFlush()}function flushPreFlushCbs(it,nt=isFlushing?flushIndex+1:0){for(;nt<queue.length;nt++){const rt=queue[nt];rt&&rt.pre&&(queue.splice(nt,1),nt--,rt())}}function flushPostFlushCbs(it){if(pendingPostFlushCbs.length){const nt=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...nt);return}for(activePostFlushCbs=nt,activePostFlushCbs.sort((rt,st)=>getId$1(rt)-getId$1(st)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=it=>it.id==null?1/0:it.id,comparator=(it,nt)=>{const rt=getId$1(it)-getId$1(nt);if(rt===0){if(it.pre&&!nt.pre)return-1;if(nt.pre&&!it.pre)return 1}return rt};function flushJobs(it){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const nt=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const rt=queue[flushIndex];rt&&rt.active!==!1&&callWithErrorHandling(rt,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit$1(it,nt,...rt){if(it.isUnmounted)return;const st=it.vnode.props||EMPTY_OBJ;let vt=rt;const bt=nt.startsWith("update:"),_t=bt&&nt.slice(7);if(_t&&_t in st){const $t=`${_t==="modelValue"?"model":_t}Modifiers`,{number:Dt,trim:Lt}=st[$t]||EMPTY_OBJ;Lt&&(vt=rt.map(Bt=>isString(Bt)?Bt.trim():Bt)),Dt&&(vt=rt.map(toNumber$1))}let wt,Et=st[wt=toHandlerKey(nt)]||st[wt=toHandlerKey(camelize(nt))];!Et&&bt&&(Et=st[wt=toHandlerKey(hyphenate(nt))]),Et&&callWithAsyncErrorHandling(Et,it,6,vt);const Tt=st[wt+"Once"];if(Tt){if(!it.emitted)it.emitted={};else if(it.emitted[wt])return;it.emitted[wt]=!0,callWithAsyncErrorHandling(Tt,it,6,vt)}}function normalizeEmitsOptions(it,nt,rt=!1){const st=nt.emitsCache,vt=st.get(it);if(vt!==void 0)return vt;const bt=it.emits;let _t={},wt=!1;if(!isFunction$1(it)){const Et=Tt=>{const $t=normalizeEmitsOptions(Tt,nt,!0);$t&&(wt=!0,extend$3(_t,$t))};!rt&&nt.mixins.length&&nt.mixins.forEach(Et),it.extends&&Et(it.extends),it.mixins&&it.mixins.forEach(Et)}return!bt&&!wt?(isObject$3(it)&&st.set(it,null),null):(isArray$2(bt)?bt.forEach(Et=>_t[Et]=null):extend$3(_t,bt),isObject$3(it)&&st.set(it,_t),_t)}function isEmitListener(it,nt){return!it||!isOn(nt)?!1:(nt=nt.slice(2).replace(/Once$/,""),hasOwn(it,nt[0].toLowerCase()+nt.slice(1))||hasOwn(it,hyphenate(nt))||hasOwn(it,nt))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(it){const nt=currentRenderingInstance;return currentRenderingInstance=it,currentScopeId=it&&it.type.__scopeId||null,nt}function pushScopeId(it){currentScopeId=it}function popScopeId(){currentScopeId=null}function withCtx(it,nt=currentRenderingInstance,rt){if(!nt||it._n)return it;const st=(...vt)=>{st._d&&setBlockTracking(-1);const bt=setCurrentRenderingInstance(nt);let _t;try{_t=it(...vt)}finally{setCurrentRenderingInstance(bt),st._d&&setBlockTracking(1)}return _t};return st._n=!0,st._c=!0,st._d=!0,st}function markAttrsAccessed(){}function renderComponentRoot(it){const{type:nt,vnode:rt,proxy:st,withProxy:vt,props:bt,propsOptions:[_t],slots:wt,attrs:Et,emit:Tt,render:$t,renderCache:Dt,data:Lt,setupState:Bt,ctx:Ht,inheritAttrs:Ut}=it;let It,jt;const Wt=setCurrentRenderingInstance(it);try{if(rt.shapeFlag&4){const Yt=vt||st;It=normalizeVNode($t.call(Yt,Yt,Dt,bt,Bt,Lt,Ht)),jt=Et}else{const Yt=nt;It=normalizeVNode(Yt.length>1?Yt(bt,{attrs:Et,slots:wt,emit:Tt}):Yt(bt,null)),jt=nt.props?Et:getFunctionalFallthrough(Et)}}catch(Yt){blockStack.length=0,handleError$1(Yt,it,1),It=createVNode(Comment)}let qt=It;if(jt&&Ut!==!1){const Yt=Object.keys(jt),{shapeFlag:ti}=qt;Yt.length&&ti&7&&(_t&&Yt.some(isModelListener)&&(jt=filterModelListeners(jt,_t)),qt=cloneVNode(qt,jt))}return rt.dirs&&(qt=cloneVNode(qt),qt.dirs=qt.dirs?qt.dirs.concat(rt.dirs):rt.dirs),rt.transition&&(qt.transition=rt.transition),It=qt,setCurrentRenderingInstance(Wt),It}const getFunctionalFallthrough=it=>{let nt;for(const rt in it)(rt==="class"||rt==="style"||isOn(rt))&&((nt||(nt={}))[rt]=it[rt]);return nt},filterModelListeners=(it,nt)=>{const rt={};for(const st in it)(!isModelListener(st)||!(st.slice(9)in nt))&&(rt[st]=it[st]);return rt};function shouldUpdateComponent(it,nt,rt){const{props:st,children:vt,component:bt}=it,{props:_t,children:wt,patchFlag:Et}=nt,Tt=bt.emitsOptions;if(nt.dirs||nt.transition)return!0;if(rt&&Et>=0){if(Et&1024)return!0;if(Et&16)return st?hasPropsChanged(st,_t,Tt):!!_t;if(Et&8){const $t=nt.dynamicProps;for(let Dt=0;Dt<$t.length;Dt++){const Lt=$t[Dt];if(_t[Lt]!==st[Lt]&&!isEmitListener(Tt,Lt))return!0}}}else return(vt||wt)&&(!wt||!wt.$stable)?!0:st===_t?!1:st?_t?hasPropsChanged(st,_t,Tt):!0:!!_t;return!1}function hasPropsChanged(it,nt,rt){const st=Object.keys(nt);if(st.length!==Object.keys(it).length)return!0;for(let vt=0;vt<st.length;vt++){const bt=st[vt];if(nt[bt]!==it[bt]&&!isEmitListener(rt,bt))return!0}return!1}function updateHOCHostEl({vnode:it,parent:nt},rt){for(;nt&&nt.subTree===it;)(it=nt.vnode).el=rt,nt=nt.parent}const isSuspense=it=>it.__isSuspense;function queueEffectWithSuspense(it,nt){nt&&nt.pendingBranch?isArray$2(it)?nt.effects.push(...it):nt.effects.push(it):queuePostFlushCb(it)}function provide(it,nt){if(currentInstance){let rt=currentInstance.provides;const st=currentInstance.parent&&currentInstance.parent.provides;st===rt&&(rt=currentInstance.provides=Object.create(st)),rt[it]=nt}}function inject(it,nt,rt=!1){const st=currentInstance||currentRenderingInstance;if(st){const vt=st.parent==null?st.vnode.appContext&&st.vnode.appContext.provides:st.parent.provides;if(vt&&it in vt)return vt[it];if(arguments.length>1)return rt&&isFunction$1(nt)?nt.call(st.proxy):nt}}const INITIAL_WATCHER_VALUE={};function watch$1(it,nt,rt){return doWatch(it,nt,rt)}function doWatch(it,nt,{immediate:rt,deep:st,flush:vt,onTrack:bt,onTrigger:_t}=EMPTY_OBJ){const wt=currentInstance;let Et,Tt=!1,$t=!1;if(isRef(it)?(Et=()=>it.value,Tt=isShallow(it)):isReactive(it)?(Et=()=>it,st=!0):isArray$2(it)?($t=!0,Tt=it.some(qt=>isReactive(qt)||isShallow(qt)),Et=()=>it.map(qt=>{if(isRef(qt))return qt.value;if(isReactive(qt))return traverse(qt);if(isFunction$1(qt))return callWithErrorHandling(qt,wt,2)})):isFunction$1(it)?nt?Et=()=>callWithErrorHandling(it,wt,2):Et=()=>{if(!(wt&&wt.isUnmounted))return Dt&&Dt(),callWithAsyncErrorHandling(it,wt,3,[Lt])}:Et=NOOP,nt&&st){const qt=Et;Et=()=>traverse(qt())}let Dt,Lt=qt=>{Dt=jt.onStop=()=>{callWithErrorHandling(qt,wt,4)}},Bt;if(isInSSRComponentSetup)if(Lt=NOOP,nt?rt&&callWithAsyncErrorHandling(nt,wt,3,[Et(),$t?[]:void 0,Lt]):Et(),vt==="sync"){const qt=useSSRContext();Bt=qt.__watcherHandles||(qt.__watcherHandles=[])}else return NOOP;let Ht=$t?new Array(it.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Ut=()=>{if(!!jt.active)if(nt){const qt=jt.run();(st||Tt||($t?qt.some((Yt,ti)=>hasChanged(Yt,Ht[ti])):hasChanged(qt,Ht)))&&(Dt&&Dt(),callWithAsyncErrorHandling(nt,wt,3,[qt,Ht===INITIAL_WATCHER_VALUE?void 0:$t&&Ht[0]===INITIAL_WATCHER_VALUE?[]:Ht,Lt]),Ht=qt)}else jt.run()};Ut.allowRecurse=!!nt;let It;vt==="sync"?It=Ut:vt==="post"?It=()=>queuePostRenderEffect(Ut,wt&&wt.suspense):(Ut.pre=!0,wt&&(Ut.id=wt.uid),It=()=>queueJob(Ut));const jt=new ReactiveEffect(Et,It);nt?rt?Ut():Ht=jt.run():vt==="post"?queuePostRenderEffect(jt.run.bind(jt),wt&&wt.suspense):jt.run();const Wt=()=>{jt.stop(),wt&&wt.scope&&remove$1(wt.scope.effects,jt)};return Bt&&Bt.push(Wt),Wt}function instanceWatch(it,nt,rt){const st=this.proxy,vt=isString(it)?it.includes(".")?createPathGetter(st,it):()=>st[it]:it.bind(st,st);let bt;isFunction$1(nt)?bt=nt:(bt=nt.handler,rt=nt);const _t=currentInstance;setCurrentInstance(this);const wt=doWatch(vt,bt.bind(st),rt);return _t?setCurrentInstance(_t):unsetCurrentInstance(),wt}function createPathGetter(it,nt){const rt=nt.split(".");return()=>{let st=it;for(let vt=0;vt<rt.length&&st;vt++)st=st[rt[vt]];return st}}function traverse(it,nt){if(!isObject$3(it)||it.__v_skip||(nt=nt||new Set,nt.has(it)))return it;if(nt.add(it),isRef(it))traverse(it.value,nt);else if(isArray$2(it))for(let rt=0;rt<it.length;rt++)traverse(it[rt],nt);else if(isSet$2(it)||isMap$2(it))it.forEach(rt=>{traverse(rt,nt)});else if(isPlainObject$1(it))for(const rt in it)traverse(it[rt],nt);return it}function useTransitionState(){const it={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return onMounted(()=>{it.isMounted=!0}),onBeforeUnmount(()=>{it.isUnmounting=!0}),it}const TransitionHookValidator=[Function,Array],BaseTransitionImpl={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator},setup(it,{slots:nt}){const rt=getCurrentInstance(),st=useTransitionState();let vt;return()=>{const bt=nt.default&&getTransitionRawChildren(nt.default(),!0);if(!bt||!bt.length)return;let _t=bt[0];if(bt.length>1){for(const Ut of bt)if(Ut.type!==Comment){_t=Ut;break}}const wt=toRaw(it),{mode:Et}=wt;if(st.isLeaving)return emptyPlaceholder(_t);const Tt=getKeepAliveChild(_t);if(!Tt)return emptyPlaceholder(_t);const $t=resolveTransitionHooks(Tt,wt,st,rt);setTransitionHooks(Tt,$t);const Dt=rt.subTree,Lt=Dt&&getKeepAliveChild(Dt);let Bt=!1;const{getTransitionKey:Ht}=Tt.type;if(Ht){const Ut=Ht();vt===void 0?vt=Ut:Ut!==vt&&(vt=Ut,Bt=!0)}if(Lt&&Lt.type!==Comment&&(!isSameVNodeType(Tt,Lt)||Bt)){const Ut=resolveTransitionHooks(Lt,wt,st,rt);if(setTransitionHooks(Lt,Ut),Et==="out-in")return st.isLeaving=!0,Ut.afterLeave=()=>{st.isLeaving=!1,rt.update.active!==!1&&rt.update()},emptyPlaceholder(_t);Et==="in-out"&&Tt.type!==Comment&&(Ut.delayLeave=(It,jt,Wt)=>{const qt=getLeavingNodesForType(st,Lt);qt[String(Lt.key)]=Lt,It._leaveCb=()=>{jt(),It._leaveCb=void 0,delete $t.delayedLeave},$t.delayedLeave=Wt})}return _t}}},BaseTransition=BaseTransitionImpl;function getLeavingNodesForType(it,nt){const{leavingVNodes:rt}=it;let st=rt.get(nt.type);return st||(st=Object.create(null),rt.set(nt.type,st)),st}function resolveTransitionHooks(it,nt,rt,st){const{appear:vt,mode:bt,persisted:_t=!1,onBeforeEnter:wt,onEnter:Et,onAfterEnter:Tt,onEnterCancelled:$t,onBeforeLeave:Dt,onLeave:Lt,onAfterLeave:Bt,onLeaveCancelled:Ht,onBeforeAppear:Ut,onAppear:It,onAfterAppear:jt,onAppearCancelled:Wt}=nt,qt=String(it.key),Yt=getLeavingNodesForType(rt,it),ti=(di,ui)=>{di&&callWithAsyncErrorHandling(di,st,9,ui)},oi=(di,ui)=>{const ci=ui[1];ti(di,ui),isArray$2(di)?di.every(hi=>hi.length<=1)&&ci():di.length<=1&&ci()},si={mode:bt,persisted:_t,beforeEnter(di){let ui=wt;if(!rt.isMounted)if(vt)ui=Ut||wt;else return;di._leaveCb&&di._leaveCb(!0);const ci=Yt[qt];ci&&isSameVNodeType(it,ci)&&ci.el._leaveCb&&ci.el._leaveCb(),ti(ui,[di])},enter(di){let ui=Et,ci=Tt,hi=$t;if(!rt.isMounted)if(vt)ui=It||Et,ci=jt||Tt,hi=Wt||$t;else return;let ei=!1;const wi=di._enterCb=Kt=>{ei||(ei=!0,Kt?ti(hi,[di]):ti(ci,[di]),si.delayedLeave&&si.delayedLeave(),di._enterCb=void 0)};ui?oi(ui,[di,wi]):wi()},leave(di,ui){const ci=String(it.key);if(di._enterCb&&di._enterCb(!0),rt.isUnmounting)return ui();ti(Dt,[di]);let hi=!1;const ei=di._leaveCb=wi=>{hi||(hi=!0,ui(),wi?ti(Ht,[di]):ti(Bt,[di]),di._leaveCb=void 0,Yt[ci]===it&&delete Yt[ci])};Yt[ci]=it,Lt?oi(Lt,[di,ei]):ei()},clone(di){return resolveTransitionHooks(di,nt,rt,st)}};return si}function emptyPlaceholder(it){if(isKeepAlive(it))return it=cloneVNode(it),it.children=null,it}function getKeepAliveChild(it){return isKeepAlive(it)?it.children?it.children[0]:void 0:it}function setTransitionHooks(it,nt){it.shapeFlag&6&&it.component?setTransitionHooks(it.component.subTree,nt):it.shapeFlag&128?(it.ssContent.transition=nt.clone(it.ssContent),it.ssFallback.transition=nt.clone(it.ssFallback)):it.transition=nt}function getTransitionRawChildren(it,nt=!1,rt){let st=[],vt=0;for(let bt=0;bt<it.length;bt++){let _t=it[bt];const wt=rt==null?_t.key:String(rt)+String(_t.key!=null?_t.key:bt);_t.type===Fragment?(_t.patchFlag&128&&vt++,st=st.concat(getTransitionRawChildren(_t.children,nt,wt))):(nt||_t.type!==Comment)&&st.push(wt!=null?cloneVNode(_t,{key:wt}):_t)}if(vt>1)for(let bt=0;bt<st.length;bt++)st[bt].patchFlag=-2;return st}function defineComponent(it){return isFunction$1(it)?{setup:it,name:it.name}:it}const isAsyncWrapper=it=>!!it.type.__asyncLoader,isKeepAlive=it=>it.type.__isKeepAlive;function onActivated(it,nt){registerKeepAliveHook(it,"a",nt)}function onDeactivated(it,nt){registerKeepAliveHook(it,"da",nt)}function registerKeepAliveHook(it,nt,rt=currentInstance){const st=it.__wdc||(it.__wdc=()=>{let vt=rt;for(;vt;){if(vt.isDeactivated)return;vt=vt.parent}return it()});if(injectHook(nt,st,rt),rt){let vt=rt.parent;for(;vt&&vt.parent;)isKeepAlive(vt.parent.vnode)&&injectToKeepAliveRoot(st,nt,rt,vt),vt=vt.parent}}function injectToKeepAliveRoot(it,nt,rt,st){const vt=injectHook(nt,it,st,!0);onUnmounted(()=>{remove$1(st[nt],vt)},rt)}function injectHook(it,nt,rt=currentInstance,st=!1){if(rt){const vt=rt[it]||(rt[it]=[]),bt=nt.__weh||(nt.__weh=(..._t)=>{if(rt.isUnmounted)return;pauseTracking(),setCurrentInstance(rt);const wt=callWithAsyncErrorHandling(nt,rt,it,_t);return unsetCurrentInstance(),resetTracking(),wt});return st?vt.unshift(bt):vt.push(bt),bt}}const createHook=it=>(nt,rt=currentInstance)=>(!isInSSRComponentSetup||it==="sp")&&injectHook(it,(...st)=>nt(...st),rt),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(it,nt=currentInstance){injectHook("ec",it,nt)}function invokeDirectiveHook(it,nt,rt,st){const vt=it.dirs,bt=nt&&nt.dirs;for(let _t=0;_t<vt.length;_t++){const wt=vt[_t];bt&&(wt.oldValue=bt[_t].value);let Et=wt.dir[st];Et&&(pauseTracking(),callWithAsyncErrorHandling(Et,rt,8,[it.el,wt,it,nt]),resetTracking())}}const NULL_DYNAMIC_COMPONENT=Symbol();function renderList(it,nt,rt,st){let vt;const bt=rt&&rt[st];if(isArray$2(it)||isString(it)){vt=new Array(it.length);for(let _t=0,wt=it.length;_t<wt;_t++)vt[_t]=nt(it[_t],_t,void 0,bt&&bt[_t])}else if(typeof it=="number"){vt=new Array(it);for(let _t=0;_t<it;_t++)vt[_t]=nt(_t+1,_t,void 0,bt&&bt[_t])}else if(isObject$3(it))if(it[Symbol.iterator])vt=Array.from(it,(_t,wt)=>nt(_t,wt,void 0,bt&&bt[wt]));else{const _t=Object.keys(it);vt=new Array(_t.length);for(let wt=0,Et=_t.length;wt<Et;wt++){const Tt=_t[wt];vt[wt]=nt(it[Tt],Tt,wt,bt&&bt[wt])}}else vt=[];return rt&&(rt[st]=vt),vt}const getPublicInstance=it=>it?isStatefulComponent(it)?getExposeProxy(it)||it.proxy:getPublicInstance(it.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:it=>it,$el:it=>it.vnode.el,$data:it=>it.data,$props:it=>it.props,$attrs:it=>it.attrs,$slots:it=>it.slots,$refs:it=>it.refs,$parent:it=>getPublicInstance(it.parent),$root:it=>getPublicInstance(it.root),$emit:it=>it.emit,$options:it=>resolveMergedOptions(it),$forceUpdate:it=>it.f||(it.f=()=>queueJob(it.update)),$nextTick:it=>it.n||(it.n=nextTick.bind(it.proxy)),$watch:it=>instanceWatch.bind(it)}),hasSetupBinding=(it,nt)=>it!==EMPTY_OBJ&&!it.__isScriptSetup&&hasOwn(it,nt),PublicInstanceProxyHandlers={get({_:it},nt){const{ctx:rt,setupState:st,data:vt,props:bt,accessCache:_t,type:wt,appContext:Et}=it;let Tt;if(nt[0]!=="$"){const Bt=_t[nt];if(Bt!==void 0)switch(Bt){case 1:return st[nt];case 2:return vt[nt];case 4:return rt[nt];case 3:return bt[nt]}else{if(hasSetupBinding(st,nt))return _t[nt]=1,st[nt];if(vt!==EMPTY_OBJ&&hasOwn(vt,nt))return _t[nt]=2,vt[nt];if((Tt=it.propsOptions[0])&&hasOwn(Tt,nt))return _t[nt]=3,bt[nt];if(rt!==EMPTY_OBJ&&hasOwn(rt,nt))return _t[nt]=4,rt[nt];shouldCacheAccess&&(_t[nt]=0)}}const $t=publicPropertiesMap[nt];let Dt,Lt;if($t)return nt==="$attrs"&&track(it,"get",nt),$t(it);if((Dt=wt.__cssModules)&&(Dt=Dt[nt]))return Dt;if(rt!==EMPTY_OBJ&&hasOwn(rt,nt))return _t[nt]=4,rt[nt];if(Lt=Et.config.globalProperties,hasOwn(Lt,nt))return Lt[nt]},set({_:it},nt,rt){const{data:st,setupState:vt,ctx:bt}=it;return hasSetupBinding(vt,nt)?(vt[nt]=rt,!0):st!==EMPTY_OBJ&&hasOwn(st,nt)?(st[nt]=rt,!0):hasOwn(it.props,nt)||nt[0]==="$"&&nt.slice(1)in it?!1:(bt[nt]=rt,!0)},has({_:{data:it,setupState:nt,accessCache:rt,ctx:st,appContext:vt,propsOptions:bt}},_t){let wt;return!!rt[_t]||it!==EMPTY_OBJ&&hasOwn(it,_t)||hasSetupBinding(nt,_t)||(wt=bt[0])&&hasOwn(wt,_t)||hasOwn(st,_t)||hasOwn(publicPropertiesMap,_t)||hasOwn(vt.config.globalProperties,_t)},defineProperty(it,nt,rt){return rt.get!=null?it._.accessCache[nt]=0:hasOwn(rt,"value")&&this.set(it,nt,rt.value,null),Reflect.defineProperty(it,nt,rt)}};let shouldCacheAccess=!0;function applyOptions(it){const nt=resolveMergedOptions(it),rt=it.proxy,st=it.ctx;shouldCacheAccess=!1,nt.beforeCreate&&callHook(nt.beforeCreate,it,"bc");const{data:vt,computed:bt,methods:_t,watch:wt,provide:Et,inject:Tt,created:$t,beforeMount:Dt,mounted:Lt,beforeUpdate:Bt,updated:Ht,activated:Ut,deactivated:It,beforeDestroy:jt,beforeUnmount:Wt,destroyed:qt,unmounted:Yt,render:ti,renderTracked:oi,renderTriggered:si,errorCaptured:di,serverPrefetch:ui,expose:ci,inheritAttrs:hi,components:ei,directives:wi,filters:Kt}=nt;if(Tt&&resolveInjections(Tt,st,null,it.appContext.config.unwrapInjectedRef),_t)for(const Fi in _t){const Xi=_t[Fi];isFunction$1(Xi)&&(st[Fi]=Xi.bind(rt))}if(vt){const Fi=vt.call(rt,rt);isObject$3(Fi)&&(it.data=reactive(Fi))}if(shouldCacheAccess=!0,bt)for(const Fi in bt){const Xi=bt[Fi],nn=isFunction$1(Xi)?Xi.bind(rt,rt):isFunction$1(Xi.get)?Xi.get.bind(rt,rt):NOOP,Ai=!isFunction$1(Xi)&&isFunction$1(Xi.set)?Xi.set.bind(rt):NOOP,ji=computed({get:nn,set:Ai});Object.defineProperty(st,Fi,{enumerable:!0,configurable:!0,get:()=>ji.value,set:Ri=>ji.value=Ri})}if(wt)for(const Fi in wt)createWatcher(wt[Fi],st,rt,Fi);if(Et){const Fi=isFunction$1(Et)?Et.call(rt):Et;Reflect.ownKeys(Fi).forEach(Xi=>{provide(Xi,Fi[Xi])})}$t&&callHook($t,it,"c");function ni(Fi,Xi){isArray$2(Xi)?Xi.forEach(nn=>Fi(nn.bind(rt))):Xi&&Fi(Xi.bind(rt))}if(ni(onBeforeMount,Dt),ni(onMounted,Lt),ni(onBeforeUpdate,Bt),ni(onUpdated,Ht),ni(onActivated,Ut),ni(onDeactivated,It),ni(onErrorCaptured,di),ni(onRenderTracked,oi),ni(onRenderTriggered,si),ni(onBeforeUnmount,Wt),ni(onUnmounted,Yt),ni(onServerPrefetch,ui),isArray$2(ci))if(ci.length){const Fi=it.exposed||(it.exposed={});ci.forEach(Xi=>{Object.defineProperty(Fi,Xi,{get:()=>rt[Xi],set:nn=>rt[Xi]=nn})})}else it.exposed||(it.exposed={});ti&&it.render===NOOP&&(it.render=ti),hi!=null&&(it.inheritAttrs=hi),ei&&(it.components=ei),wi&&(it.directives=wi)}function resolveInjections(it,nt,rt=NOOP,st=!1){isArray$2(it)&&(it=normalizeInject(it));for(const vt in it){const bt=it[vt];let _t;isObject$3(bt)?"default"in bt?_t=inject(bt.from||vt,bt.default,!0):_t=inject(bt.from||vt):_t=inject(bt),isRef(_t)&&st?Object.defineProperty(nt,vt,{enumerable:!0,configurable:!0,get:()=>_t.value,set:wt=>_t.value=wt}):nt[vt]=_t}}function callHook(it,nt,rt){callWithAsyncErrorHandling(isArray$2(it)?it.map(st=>st.bind(nt.proxy)):it.bind(nt.proxy),nt,rt)}function createWatcher(it,nt,rt,st){const vt=st.includes(".")?createPathGetter(rt,st):()=>rt[st];if(isString(it)){const bt=nt[it];isFunction$1(bt)&&watch$1(vt,bt)}else if(isFunction$1(it))watch$1(vt,it.bind(rt));else if(isObject$3(it))if(isArray$2(it))it.forEach(bt=>createWatcher(bt,nt,rt,st));else{const bt=isFunction$1(it.handler)?it.handler.bind(rt):nt[it.handler];isFunction$1(bt)&&watch$1(vt,bt,it)}}function resolveMergedOptions(it){const nt=it.type,{mixins:rt,extends:st}=nt,{mixins:vt,optionsCache:bt,config:{optionMergeStrategies:_t}}=it.appContext,wt=bt.get(nt);let Et;return wt?Et=wt:!vt.length&&!rt&&!st?Et=nt:(Et={},vt.length&&vt.forEach(Tt=>mergeOptions(Et,Tt,_t,!0)),mergeOptions(Et,nt,_t)),isObject$3(nt)&&bt.set(nt,Et),Et}function mergeOptions(it,nt,rt,st=!1){const{mixins:vt,extends:bt}=nt;bt&&mergeOptions(it,bt,rt,!0),vt&&vt.forEach(_t=>mergeOptions(it,_t,rt,!0));for(const _t in nt)if(!(st&&_t==="expose")){const wt=internalOptionMergeStrats[_t]||rt&&rt[_t];it[_t]=wt?wt(it[_t],nt[_t]):nt[_t]}return it}const internalOptionMergeStrats={data:mergeDataFn,props:mergeObjectOptions,emits:mergeObjectOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(it,nt){return nt?it?function(){return extend$3(isFunction$1(it)?it.call(this,this):it,isFunction$1(nt)?nt.call(this,this):nt)}:nt:it}function mergeInject(it,nt){return mergeObjectOptions(normalizeInject(it),normalizeInject(nt))}function normalizeInject(it){if(isArray$2(it)){const nt={};for(let rt=0;rt<it.length;rt++)nt[it[rt]]=it[rt];return nt}return it}function mergeAsArray(it,nt){return it?[...new Set([].concat(it,nt))]:nt}function mergeObjectOptions(it,nt){return it?extend$3(extend$3(Object.create(null),it),nt):nt}function mergeWatchOptions(it,nt){if(!it)return nt;if(!nt)return it;const rt=extend$3(Object.create(null),it);for(const st in nt)rt[st]=mergeAsArray(it[st],nt[st]);return rt}function initProps(it,nt,rt,st=!1){const vt={},bt={};def(bt,InternalObjectKey,1),it.propsDefaults=Object.create(null),setFullProps(it,nt,vt,bt);for(const _t in it.propsOptions[0])_t in vt||(vt[_t]=void 0);rt?it.props=st?vt:shallowReactive(vt):it.type.props?it.props=vt:it.props=bt,it.attrs=bt}function updateProps(it,nt,rt,st){const{props:vt,attrs:bt,vnode:{patchFlag:_t}}=it,wt=toRaw(vt),[Et]=it.propsOptions;let Tt=!1;if((st||_t>0)&&!(_t&16)){if(_t&8){const $t=it.vnode.dynamicProps;for(let Dt=0;Dt<$t.length;Dt++){let Lt=$t[Dt];if(isEmitListener(it.emitsOptions,Lt))continue;const Bt=nt[Lt];if(Et)if(hasOwn(bt,Lt))Bt!==bt[Lt]&&(bt[Lt]=Bt,Tt=!0);else{const Ht=camelize(Lt);vt[Ht]=resolvePropValue(Et,wt,Ht,Bt,it,!1)}else Bt!==bt[Lt]&&(bt[Lt]=Bt,Tt=!0)}}}else{setFullProps(it,nt,vt,bt)&&(Tt=!0);let $t;for(const Dt in wt)(!nt||!hasOwn(nt,Dt)&&(($t=hyphenate(Dt))===Dt||!hasOwn(nt,$t)))&&(Et?rt&&(rt[Dt]!==void 0||rt[$t]!==void 0)&&(vt[Dt]=resolvePropValue(Et,wt,Dt,void 0,it,!0)):delete vt[Dt]);if(bt!==wt)for(const Dt in bt)(!nt||!hasOwn(nt,Dt)&&!0)&&(delete bt[Dt],Tt=!0)}Tt&&trigger(it,"set","$attrs")}function setFullProps(it,nt,rt,st){const[vt,bt]=it.propsOptions;let _t=!1,wt;if(nt)for(let Et in nt){if(isReservedProp(Et))continue;const Tt=nt[Et];let $t;vt&&hasOwn(vt,$t=camelize(Et))?!bt||!bt.includes($t)?rt[$t]=Tt:(wt||(wt={}))[$t]=Tt:isEmitListener(it.emitsOptions,Et)||(!(Et in st)||Tt!==st[Et])&&(st[Et]=Tt,_t=!0)}if(bt){const Et=toRaw(rt),Tt=wt||EMPTY_OBJ;for(let $t=0;$t<bt.length;$t++){const Dt=bt[$t];rt[Dt]=resolvePropValue(vt,Et,Dt,Tt[Dt],it,!hasOwn(Tt,Dt))}}return _t}function resolvePropValue(it,nt,rt,st,vt,bt){const _t=it[rt];if(_t!=null){const wt=hasOwn(_t,"default");if(wt&&st===void 0){const Et=_t.default;if(_t.type!==Function&&isFunction$1(Et)){const{propsDefaults:Tt}=vt;rt in Tt?st=Tt[rt]:(setCurrentInstance(vt),st=Tt[rt]=Et.call(null,nt),unsetCurrentInstance())}else st=Et}_t[0]&&(bt&&!wt?st=!1:_t[1]&&(st===""||st===hyphenate(rt))&&(st=!0))}return st}function normalizePropsOptions(it,nt,rt=!1){const st=nt.propsCache,vt=st.get(it);if(vt)return vt;const bt=it.props,_t={},wt=[];let Et=!1;if(!isFunction$1(it)){const $t=Dt=>{Et=!0;const[Lt,Bt]=normalizePropsOptions(Dt,nt,!0);extend$3(_t,Lt),Bt&&wt.push(...Bt)};!rt&&nt.mixins.length&&nt.mixins.forEach($t),it.extends&&$t(it.extends),it.mixins&&it.mixins.forEach($t)}if(!bt&&!Et)return isObject$3(it)&&st.set(it,EMPTY_ARR),EMPTY_ARR;if(isArray$2(bt))for(let $t=0;$t<bt.length;$t++){const Dt=camelize(bt[$t]);validatePropName(Dt)&&(_t[Dt]=EMPTY_OBJ)}else if(bt)for(const $t in bt){const Dt=camelize($t);if(validatePropName(Dt)){const Lt=bt[$t],Bt=_t[Dt]=isArray$2(Lt)||isFunction$1(Lt)?{type:Lt}:Object.assign({},Lt);if(Bt){const Ht=getTypeIndex(Boolean,Bt.type),Ut=getTypeIndex(String,Bt.type);Bt[0]=Ht>-1,Bt[1]=Ut<0||Ht<Ut,(Ht>-1||hasOwn(Bt,"default"))&&wt.push(Dt)}}}const Tt=[_t,wt];return isObject$3(it)&&st.set(it,Tt),Tt}function validatePropName(it){return it[0]!=="$"}function getType(it){const nt=it&&it.toString().match(/^\s*function (\w+)/);return nt?nt[1]:it===null?"null":""}function isSameType(it,nt){return getType(it)===getType(nt)}function getTypeIndex(it,nt){return isArray$2(nt)?nt.findIndex(rt=>isSameType(rt,it)):isFunction$1(nt)&&isSameType(nt,it)?0:-1}const isInternalKey=it=>it[0]==="_"||it==="$stable",normalizeSlotValue=it=>isArray$2(it)?it.map(normalizeVNode):[normalizeVNode(it)],normalizeSlot=(it,nt,rt)=>{if(nt._n)return nt;const st=withCtx((...vt)=>normalizeSlotValue(nt(...vt)),rt);return st._c=!1,st},normalizeObjectSlots=(it,nt,rt)=>{const st=it._ctx;for(const vt in it){if(isInternalKey(vt))continue;const bt=it[vt];if(isFunction$1(bt))nt[vt]=normalizeSlot(vt,bt,st);else if(bt!=null){const _t=normalizeSlotValue(bt);nt[vt]=()=>_t}}},normalizeVNodeSlots=(it,nt)=>{const rt=normalizeSlotValue(nt);it.slots.default=()=>rt},initSlots=(it,nt)=>{if(it.vnode.shapeFlag&32){const rt=nt._;rt?(it.slots=toRaw(nt),def(nt,"_",rt)):normalizeObjectSlots(nt,it.slots={})}else it.slots={},nt&&normalizeVNodeSlots(it,nt);def(it.slots,InternalObjectKey,1)},updateSlots=(it,nt,rt)=>{const{vnode:st,slots:vt}=it;let bt=!0,_t=EMPTY_OBJ;if(st.shapeFlag&32){const wt=nt._;wt?rt&&wt===1?bt=!1:(extend$3(vt,nt),!rt&&wt===1&&delete vt._):(bt=!nt.$stable,normalizeObjectSlots(nt,vt)),_t=nt}else nt&&(normalizeVNodeSlots(it,nt),_t={default:1});if(bt)for(const wt in vt)!isInternalKey(wt)&&!(wt in _t)&&delete vt[wt]};function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid=0;function createAppAPI(it,nt){return function(st,vt=null){isFunction$1(st)||(st=Object.assign({},st)),vt!=null&&!isObject$3(vt)&&(vt=null);const bt=createAppContext(),_t=new Set;let wt=!1;const Et=bt.app={_uid:uid++,_component:st,_props:vt,_container:null,_context:bt,_instance:null,version:version$2,get config(){return bt.config},set config(Tt){},use(Tt,...$t){return _t.has(Tt)||(Tt&&isFunction$1(Tt.install)?(_t.add(Tt),Tt.install(Et,...$t)):isFunction$1(Tt)&&(_t.add(Tt),Tt(Et,...$t))),Et},mixin(Tt){return bt.mixins.includes(Tt)||bt.mixins.push(Tt),Et},component(Tt,$t){return $t?(bt.components[Tt]=$t,Et):bt.components[Tt]},directive(Tt,$t){return $t?(bt.directives[Tt]=$t,Et):bt.directives[Tt]},mount(Tt,$t,Dt){if(!wt){const Lt=createVNode(st,vt);return Lt.appContext=bt,$t&&nt?nt(Lt,Tt):it(Lt,Tt,Dt),wt=!0,Et._container=Tt,Tt.__vue_app__=Et,getExposeProxy(Lt.component)||Lt.component.proxy}},unmount(){wt&&(it(null,Et._container),delete Et._container.__vue_app__)},provide(Tt,$t){return bt.provides[Tt]=$t,Et}};return Et}}function setRef(it,nt,rt,st,vt=!1){if(isArray$2(it)){it.forEach((Lt,Bt)=>setRef(Lt,nt&&(isArray$2(nt)?nt[Bt]:nt),rt,st,vt));return}if(isAsyncWrapper(st)&&!vt)return;const bt=st.shapeFlag&4?getExposeProxy(st.component)||st.component.proxy:st.el,_t=vt?null:bt,{i:wt,r:Et}=it,Tt=nt&&nt.r,$t=wt.refs===EMPTY_OBJ?wt.refs={}:wt.refs,Dt=wt.setupState;if(Tt!=null&&Tt!==Et&&(isString(Tt)?($t[Tt]=null,hasOwn(Dt,Tt)&&(Dt[Tt]=null)):isRef(Tt)&&(Tt.value=null)),isFunction$1(Et))callWithErrorHandling(Et,wt,12,[_t,$t]);else{const Lt=isString(Et),Bt=isRef(Et);if(Lt||Bt){const Ht=()=>{if(it.f){const Ut=Lt?hasOwn(Dt,Et)?Dt[Et]:$t[Et]:Et.value;vt?isArray$2(Ut)&&remove$1(Ut,bt):isArray$2(Ut)?Ut.includes(bt)||Ut.push(bt):Lt?($t[Et]=[bt],hasOwn(Dt,Et)&&(Dt[Et]=$t[Et])):(Et.value=[bt],it.k&&($t[it.k]=Et.value))}else Lt?($t[Et]=_t,hasOwn(Dt,Et)&&(Dt[Et]=_t)):Bt&&(Et.value=_t,it.k&&($t[it.k]=_t))};_t?(Ht.id=-1,queuePostRenderEffect(Ht,rt)):Ht()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(it){return baseCreateRenderer(it)}function baseCreateRenderer(it,nt){const rt=getGlobalThis();rt.__VUE__=!0;const{insert:st,remove:vt,patchProp:bt,createElement:_t,createText:wt,createComment:Et,setText:Tt,setElementText:$t,parentNode:Dt,nextSibling:Lt,setScopeId:Bt=NOOP,insertStaticContent:Ht}=it,Ut=(ii,Nt,Qt,Jt=null,Si=null,vi=null,Mi=!1,_i=null,Li=!!Nt.dynamicChildren)=>{if(ii===Nt)return;ii&&!isSameVNodeType(ii,Nt)&&(Jt=bn(ii),Ri(ii,Si,vi,!0),ii=null),Nt.patchFlag===-2&&(Li=!1,Nt.dynamicChildren=null);const{type:Ti,ref:zi,shapeFlag:Hi}=Nt;switch(Ti){case Text:It(ii,Nt,Qt,Jt);break;case Comment:jt(ii,Nt,Qt,Jt);break;case Static:ii==null&&Wt(Nt,Qt,Jt,Mi);break;case Fragment:ei(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li);break;default:Hi&1?ti(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li):Hi&6?wi(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li):(Hi&64||Hi&128)&&Ti.process(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li,Ii)}zi!=null&&Si&&setRef(zi,ii&&ii.ref,vi,Nt||ii,!Nt)},It=(ii,Nt,Qt,Jt)=>{if(ii==null)st(Nt.el=wt(Nt.children),Qt,Jt);else{const Si=Nt.el=ii.el;Nt.children!==ii.children&&Tt(Si,Nt.children)}},jt=(ii,Nt,Qt,Jt)=>{ii==null?st(Nt.el=Et(Nt.children||""),Qt,Jt):Nt.el=ii.el},Wt=(ii,Nt,Qt,Jt)=>{[ii.el,ii.anchor]=Ht(ii.children,Nt,Qt,Jt,ii.el,ii.anchor)},qt=({el:ii,anchor:Nt},Qt,Jt)=>{let Si;for(;ii&&ii!==Nt;)Si=Lt(ii),st(ii,Qt,Jt),ii=Si;st(Nt,Qt,Jt)},Yt=({el:ii,anchor:Nt})=>{let Qt;for(;ii&&ii!==Nt;)Qt=Lt(ii),vt(ii),ii=Qt;vt(Nt)},ti=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li)=>{Mi=Mi||Nt.type==="svg",ii==null?oi(Nt,Qt,Jt,Si,vi,Mi,_i,Li):ui(ii,Nt,Si,vi,Mi,_i,Li)},oi=(ii,Nt,Qt,Jt,Si,vi,Mi,_i)=>{let Li,Ti;const{type:zi,props:Hi,shapeFlag:tn,transition:qi,dirs:Wi}=ii;if(Li=ii.el=_t(ii.type,vi,Hi&&Hi.is,Hi),tn&8?$t(Li,ii.children):tn&16&&di(ii.children,Li,null,Jt,Si,vi&&zi!=="foreignObject",Mi,_i),Wi&&invokeDirectiveHook(ii,null,Jt,"created"),Hi){for(const En in Hi)En!=="value"&&!isReservedProp(En)&&bt(Li,En,null,Hi[En],vi,ii.children,Jt,Si,Pi);"value"in Hi&&bt(Li,"value",null,Hi.value),(Ti=Hi.onVnodeBeforeMount)&&invokeVNodeHook(Ti,Jt,ii)}si(Li,ii,ii.scopeId,Mi,Jt),Wi&&invokeDirectiveHook(ii,null,Jt,"beforeMount");const Cn=(!Si||Si&&!Si.pendingBranch)&&qi&&!qi.persisted;Cn&&qi.beforeEnter(Li),st(Li,Nt,Qt),((Ti=Hi&&Hi.onVnodeMounted)||Cn||Wi)&&queuePostRenderEffect(()=>{Ti&&invokeVNodeHook(Ti,Jt,ii),Cn&&qi.enter(Li),Wi&&invokeDirectiveHook(ii,null,Jt,"mounted")},Si)},si=(ii,Nt,Qt,Jt,Si)=>{if(Qt&&Bt(ii,Qt),Jt)for(let vi=0;vi<Jt.length;vi++)Bt(ii,Jt[vi]);if(Si){let vi=Si.subTree;if(Nt===vi){const Mi=Si.vnode;si(ii,Mi,Mi.scopeId,Mi.slotScopeIds,Si.parent)}}},di=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li=0)=>{for(let Ti=Li;Ti<ii.length;Ti++){const zi=ii[Ti]=_i?cloneIfMounted(ii[Ti]):normalizeVNode(ii[Ti]);Ut(null,zi,Nt,Qt,Jt,Si,vi,Mi,_i)}},ui=(ii,Nt,Qt,Jt,Si,vi,Mi)=>{const _i=Nt.el=ii.el;let{patchFlag:Li,dynamicChildren:Ti,dirs:zi}=Nt;Li|=ii.patchFlag&16;const Hi=ii.props||EMPTY_OBJ,tn=Nt.props||EMPTY_OBJ;let qi;Qt&&toggleRecurse(Qt,!1),(qi=tn.onVnodeBeforeUpdate)&&invokeVNodeHook(qi,Qt,Nt,ii),zi&&invokeDirectiveHook(Nt,ii,Qt,"beforeUpdate"),Qt&&toggleRecurse(Qt,!0);const Wi=Si&&Nt.type!=="foreignObject";if(Ti?ci(ii.dynamicChildren,Ti,_i,Qt,Jt,Wi,vi):Mi||Xi(ii,Nt,_i,null,Qt,Jt,Wi,vi,!1),Li>0){if(Li&16)hi(_i,Nt,Hi,tn,Qt,Jt,Si);else if(Li&2&&Hi.class!==tn.class&&bt(_i,"class",null,tn.class,Si),Li&4&&bt(_i,"style",Hi.style,tn.style,Si),Li&8){const Cn=Nt.dynamicProps;for(let En=0;En<Cn.length;En++){const $n=Cn[En],Fn=Hi[$n],Rn=tn[$n];(Rn!==Fn||$n==="value")&&bt(_i,$n,Fn,Rn,Si,ii.children,Qt,Jt,Pi)}}Li&1&&ii.children!==Nt.children&&$t(_i,Nt.children)}else!Mi&&Ti==null&&hi(_i,Nt,Hi,tn,Qt,Jt,Si);((qi=tn.onVnodeUpdated)||zi)&&queuePostRenderEffect(()=>{qi&&invokeVNodeHook(qi,Qt,Nt,ii),zi&&invokeDirectiveHook(Nt,ii,Qt,"updated")},Jt)},ci=(ii,Nt,Qt,Jt,Si,vi,Mi)=>{for(let _i=0;_i<Nt.length;_i++){const Li=ii[_i],Ti=Nt[_i],zi=Li.el&&(Li.type===Fragment||!isSameVNodeType(Li,Ti)||Li.shapeFlag&70)?Dt(Li.el):Qt;Ut(Li,Ti,zi,null,Jt,Si,vi,Mi,!0)}},hi=(ii,Nt,Qt,Jt,Si,vi,Mi)=>{if(Qt!==Jt){if(Qt!==EMPTY_OBJ)for(const _i in Qt)!isReservedProp(_i)&&!(_i in Jt)&&bt(ii,_i,Qt[_i],null,Mi,Nt.children,Si,vi,Pi);for(const _i in Jt){if(isReservedProp(_i))continue;const Li=Jt[_i],Ti=Qt[_i];Li!==Ti&&_i!=="value"&&bt(ii,_i,Ti,Li,Mi,Nt.children,Si,vi,Pi)}"value"in Jt&&bt(ii,"value",Qt.value,Jt.value)}},ei=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li)=>{const Ti=Nt.el=ii?ii.el:wt(""),zi=Nt.anchor=ii?ii.anchor:wt("");let{patchFlag:Hi,dynamicChildren:tn,slotScopeIds:qi}=Nt;qi&&(_i=_i?_i.concat(qi):qi),ii==null?(st(Ti,Qt,Jt),st(zi,Qt,Jt),di(Nt.children,Qt,zi,Si,vi,Mi,_i,Li)):Hi>0&&Hi&64&&tn&&ii.dynamicChildren?(ci(ii.dynamicChildren,tn,Qt,Si,vi,Mi,_i),(Nt.key!=null||Si&&Nt===Si.subTree)&&traverseStaticChildren(ii,Nt,!0)):Xi(ii,Nt,Qt,zi,Si,vi,Mi,_i,Li)},wi=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li)=>{Nt.slotScopeIds=_i,ii==null?Nt.shapeFlag&512?Si.ctx.activate(Nt,Qt,Jt,Mi,Li):Kt(Nt,Qt,Jt,Si,vi,Mi,Li):Ni(ii,Nt,Li)},Kt=(ii,Nt,Qt,Jt,Si,vi,Mi)=>{const _i=ii.component=createComponentInstance(ii,Jt,Si);if(isKeepAlive(ii)&&(_i.ctx.renderer=Ii),setupComponent(_i),_i.asyncDep){if(Si&&Si.registerDep(_i,ni),!ii.el){const Li=_i.subTree=createVNode(Comment);jt(null,Li,Nt,Qt)}return}ni(_i,ii,Nt,Qt,Si,vi,Mi)},Ni=(ii,Nt,Qt)=>{const Jt=Nt.component=ii.component;if(shouldUpdateComponent(ii,Nt,Qt))if(Jt.asyncDep&&!Jt.asyncResolved){Fi(Jt,Nt,Qt);return}else Jt.next=Nt,invalidateJob(Jt.update),Jt.update();else Nt.el=ii.el,Jt.vnode=Nt},ni=(ii,Nt,Qt,Jt,Si,vi,Mi)=>{const _i=()=>{if(ii.isMounted){let{next:zi,bu:Hi,u:tn,parent:qi,vnode:Wi}=ii,Cn=zi,En;toggleRecurse(ii,!1),zi?(zi.el=Wi.el,Fi(ii,zi,Mi)):zi=Wi,Hi&&invokeArrayFns(Hi),(En=zi.props&&zi.props.onVnodeBeforeUpdate)&&invokeVNodeHook(En,qi,zi,Wi),toggleRecurse(ii,!0);const $n=renderComponentRoot(ii),Fn=ii.subTree;ii.subTree=$n,Ut(Fn,$n,Dt(Fn.el),bn(Fn),ii,Si,vi),zi.el=$n.el,Cn===null&&updateHOCHostEl(ii,$n.el),tn&&queuePostRenderEffect(tn,Si),(En=zi.props&&zi.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(En,qi,zi,Wi),Si)}else{let zi;const{el:Hi,props:tn}=Nt,{bm:qi,m:Wi,parent:Cn}=ii,En=isAsyncWrapper(Nt);if(toggleRecurse(ii,!1),qi&&invokeArrayFns(qi),!En&&(zi=tn&&tn.onVnodeBeforeMount)&&invokeVNodeHook(zi,Cn,Nt),toggleRecurse(ii,!0),Hi&&$i){const $n=()=>{ii.subTree=renderComponentRoot(ii),$i(Hi,ii.subTree,ii,Si,null)};En?Nt.type.__asyncLoader().then(()=>!ii.isUnmounted&&$n()):$n()}else{const $n=ii.subTree=renderComponentRoot(ii);Ut(null,$n,Qt,Jt,ii,Si,vi),Nt.el=$n.el}if(Wi&&queuePostRenderEffect(Wi,Si),!En&&(zi=tn&&tn.onVnodeMounted)){const $n=Nt;queuePostRenderEffect(()=>invokeVNodeHook(zi,Cn,$n),Si)}(Nt.shapeFlag&256||Cn&&isAsyncWrapper(Cn.vnode)&&Cn.vnode.shapeFlag&256)&&ii.a&&queuePostRenderEffect(ii.a,Si),ii.isMounted=!0,Nt=Qt=Jt=null}},Li=ii.effect=new ReactiveEffect(_i,()=>queueJob(Ti),ii.scope),Ti=ii.update=()=>Li.run();Ti.id=ii.uid,toggleRecurse(ii,!0),Ti()},Fi=(ii,Nt,Qt)=>{Nt.component=ii;const Jt=ii.vnode.props;ii.vnode=Nt,ii.next=null,updateProps(ii,Nt.props,Jt,Qt),updateSlots(ii,Nt.children,Qt),pauseTracking(),flushPreFlushCbs(),resetTracking()},Xi=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li=!1)=>{const Ti=ii&&ii.children,zi=ii?ii.shapeFlag:0,Hi=Nt.children,{patchFlag:tn,shapeFlag:qi}=Nt;if(tn>0){if(tn&128){Ai(Ti,Hi,Qt,Jt,Si,vi,Mi,_i,Li);return}else if(tn&256){nn(Ti,Hi,Qt,Jt,Si,vi,Mi,_i,Li);return}}qi&8?(zi&16&&Pi(Ti,Si,vi),Hi!==Ti&&$t(Qt,Hi)):zi&16?qi&16?Ai(Ti,Hi,Qt,Jt,Si,vi,Mi,_i,Li):Pi(Ti,Si,vi,!0):(zi&8&&$t(Qt,""),qi&16&&di(Hi,Qt,Jt,Si,vi,Mi,_i,Li))},nn=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li)=>{ii=ii||EMPTY_ARR,Nt=Nt||EMPTY_ARR;const Ti=ii.length,zi=Nt.length,Hi=Math.min(Ti,zi);let tn;for(tn=0;tn<Hi;tn++){const qi=Nt[tn]=Li?cloneIfMounted(Nt[tn]):normalizeVNode(Nt[tn]);Ut(ii[tn],qi,Qt,null,Si,vi,Mi,_i,Li)}Ti>zi?Pi(ii,Si,vi,!0,!1,Hi):di(Nt,Qt,Jt,Si,vi,Mi,_i,Li,Hi)},Ai=(ii,Nt,Qt,Jt,Si,vi,Mi,_i,Li)=>{let Ti=0;const zi=Nt.length;let Hi=ii.length-1,tn=zi-1;for(;Ti<=Hi&&Ti<=tn;){const qi=ii[Ti],Wi=Nt[Ti]=Li?cloneIfMounted(Nt[Ti]):normalizeVNode(Nt[Ti]);if(isSameVNodeType(qi,Wi))Ut(qi,Wi,Qt,null,Si,vi,Mi,_i,Li);else break;Ti++}for(;Ti<=Hi&&Ti<=tn;){const qi=ii[Hi],Wi=Nt[tn]=Li?cloneIfMounted(Nt[tn]):normalizeVNode(Nt[tn]);if(isSameVNodeType(qi,Wi))Ut(qi,Wi,Qt,null,Si,vi,Mi,_i,Li);else break;Hi--,tn--}if(Ti>Hi){if(Ti<=tn){const qi=tn+1,Wi=qi<zi?Nt[qi].el:Jt;for(;Ti<=tn;)Ut(null,Nt[Ti]=Li?cloneIfMounted(Nt[Ti]):normalizeVNode(Nt[Ti]),Qt,Wi,Si,vi,Mi,_i,Li),Ti++}}else if(Ti>tn)for(;Ti<=Hi;)Ri(ii[Ti],Si,vi,!0),Ti++;else{const qi=Ti,Wi=Ti,Cn=new Map;for(Ti=Wi;Ti<=tn;Ti++){const li=Nt[Ti]=Li?cloneIfMounted(Nt[Ti]):normalizeVNode(Nt[Ti]);li.key!=null&&Cn.set(li.key,Ti)}let En,$n=0;const Fn=tn-Wi+1;let Rn=!1,br=0;const Bn=new Array(Fn);for(Ti=0;Ti<Fn;Ti++)Bn[Ti]=0;for(Ti=qi;Ti<=Hi;Ti++){const li=ii[Ti];if($n>=Fn){Ri(li,Si,vi,!0);continue}let ai;if(li.key!=null)ai=Cn.get(li.key);else for(En=Wi;En<=tn;En++)if(Bn[En-Wi]===0&&isSameVNodeType(li,Nt[En])){ai=En;break}ai===void 0?Ri(li,Si,vi,!0):(Bn[ai-Wi]=Ti+1,ai>=br?br=ai:Rn=!0,Ut(li,Nt[ai],Qt,null,Si,vi,Mi,_i,Li),$n++)}const on=Rn?getSequence(Bn):EMPTY_ARR;for(En=on.length-1,Ti=Fn-1;Ti>=0;Ti--){const li=Wi+Ti,ai=Nt[li],xi=li+1<zi?Nt[li+1].el:Jt;Bn[Ti]===0?Ut(null,ai,Qt,xi,Si,vi,Mi,_i,Li):Rn&&(En<0||Ti!==on[En]?ji(ai,Qt,xi,2):En--)}}},ji=(ii,Nt,Qt,Jt,Si=null)=>{const{el:vi,type:Mi,transition:_i,children:Li,shapeFlag:Ti}=ii;if(Ti&6){ji(ii.component.subTree,Nt,Qt,Jt);return}if(Ti&128){ii.suspense.move(Nt,Qt,Jt);return}if(Ti&64){Mi.move(ii,Nt,Qt,Ii);return}if(Mi===Fragment){st(vi,Nt,Qt);for(let Hi=0;Hi<Li.length;Hi++)ji(Li[Hi],Nt,Qt,Jt);st(ii.anchor,Nt,Qt);return}if(Mi===Static){qt(ii,Nt,Qt);return}if(Jt!==2&&Ti&1&&_i)if(Jt===0)_i.beforeEnter(vi),st(vi,Nt,Qt),queuePostRenderEffect(()=>_i.enter(vi),Si);else{const{leave:Hi,delayLeave:tn,afterLeave:qi}=_i,Wi=()=>st(vi,Nt,Qt),Cn=()=>{Hi(vi,()=>{Wi(),qi&&qi()})};tn?tn(vi,Wi,Cn):Cn()}else st(vi,Nt,Qt)},Ri=(ii,Nt,Qt,Jt=!1,Si=!1)=>{const{type:vi,props:Mi,ref:_i,children:Li,dynamicChildren:Ti,shapeFlag:zi,patchFlag:Hi,dirs:tn}=ii;if(_i!=null&&setRef(_i,null,Qt,ii,!0),zi&256){Nt.ctx.deactivate(ii);return}const qi=zi&1&&tn,Wi=!isAsyncWrapper(ii);let Cn;if(Wi&&(Cn=Mi&&Mi.onVnodeBeforeUnmount)&&invokeVNodeHook(Cn,Nt,ii),zi&6)rn(ii.component,Qt,Jt);else{if(zi&128){ii.suspense.unmount(Qt,Jt);return}qi&&invokeDirectiveHook(ii,null,Nt,"beforeUnmount"),zi&64?ii.type.remove(ii,Nt,Qt,Si,Ii,Jt):Ti&&(vi!==Fragment||Hi>0&&Hi&64)?Pi(Ti,Nt,Qt,!1,!0):(vi===Fragment&&Hi&384||!Si&&zi&16)&&Pi(Li,Nt,Qt),Jt&&Vi(ii)}(Wi&&(Cn=Mi&&Mi.onVnodeUnmounted)||qi)&&queuePostRenderEffect(()=>{Cn&&invokeVNodeHook(Cn,Nt,ii),qi&&invokeDirectiveHook(ii,null,Nt,"unmounted")},Qt)},Vi=ii=>{const{type:Nt,el:Qt,anchor:Jt,transition:Si}=ii;if(Nt===Fragment){Qi(Qt,Jt);return}if(Nt===Static){Yt(ii);return}const vi=()=>{vt(Qt),Si&&!Si.persisted&&Si.afterLeave&&Si.afterLeave()};if(ii.shapeFlag&1&&Si&&!Si.persisted){const{leave:Mi,delayLeave:_i}=Si,Li=()=>Mi(Qt,vi);_i?_i(ii.el,vi,Li):Li()}else vi()},Qi=(ii,Nt)=>{let Qt;for(;ii!==Nt;)Qt=Lt(ii),vt(ii),ii=Qt;vt(Nt)},rn=(ii,Nt,Qt)=>{const{bum:Jt,scope:Si,update:vi,subTree:Mi,um:_i}=ii;Jt&&invokeArrayFns(Jt),Si.stop(),vi&&(vi.active=!1,Ri(Mi,ii,Nt,Qt)),_i&&queuePostRenderEffect(_i,Nt),queuePostRenderEffect(()=>{ii.isUnmounted=!0},Nt),Nt&&Nt.pendingBranch&&!Nt.isUnmounted&&ii.asyncDep&&!ii.asyncResolved&&ii.suspenseId===Nt.pendingId&&(Nt.deps--,Nt.deps===0&&Nt.resolve())},Pi=(ii,Nt,Qt,Jt=!1,Si=!1,vi=0)=>{for(let Mi=vi;Mi<ii.length;Mi++)Ri(ii[Mi],Nt,Qt,Jt,Si)},bn=ii=>ii.shapeFlag&6?bn(ii.component.subTree):ii.shapeFlag&128?ii.suspense.next():Lt(ii.anchor||ii.el),Oi=(ii,Nt,Qt)=>{ii==null?Nt._vnode&&Ri(Nt._vnode,null,null,!0):Ut(Nt._vnode||null,ii,Nt,null,null,null,Qt),flushPreFlushCbs(),flushPostFlushCbs(),Nt._vnode=ii},Ii={p:Ut,um:Ri,m:ji,r:Vi,mt:Kt,mc:di,pc:Xi,pbc:ci,n:bn,o:it};let Gi,$i;return nt&&([Gi,$i]=nt(Ii)),{render:Oi,hydrate:Gi,createApp:createAppAPI(Oi,Gi)}}function toggleRecurse({effect:it,update:nt},rt){it.allowRecurse=nt.allowRecurse=rt}function traverseStaticChildren(it,nt,rt=!1){const st=it.children,vt=nt.children;if(isArray$2(st)&&isArray$2(vt))for(let bt=0;bt<st.length;bt++){const _t=st[bt];let wt=vt[bt];wt.shapeFlag&1&&!wt.dynamicChildren&&((wt.patchFlag<=0||wt.patchFlag===32)&&(wt=vt[bt]=cloneIfMounted(vt[bt]),wt.el=_t.el),rt||traverseStaticChildren(_t,wt)),wt.type===Text&&(wt.el=_t.el)}}function getSequence(it){const nt=it.slice(),rt=[0];let st,vt,bt,_t,wt;const Et=it.length;for(st=0;st<Et;st++){const Tt=it[st];if(Tt!==0){if(vt=rt[rt.length-1],it[vt]<Tt){nt[st]=vt,rt.push(st);continue}for(bt=0,_t=rt.length-1;bt<_t;)wt=bt+_t>>1,it[rt[wt]]<Tt?bt=wt+1:_t=wt;Tt<it[rt[bt]]&&(bt>0&&(nt[st]=rt[bt-1]),rt[bt]=st)}}for(bt=rt.length,_t=rt[bt-1];bt-- >0;)rt[bt]=_t,_t=nt[_t];return rt}const isTeleport=it=>it.__isTeleport,Fragment=Symbol(void 0),Text=Symbol(void 0),Comment=Symbol(void 0),Static=Symbol(void 0),blockStack=[];let currentBlock=null;function openBlock(it=!1){blockStack.push(currentBlock=it?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(it){isBlockTreeEnabled+=it}function setupBlock(it){return it.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(it),it}function createElementBlock(it,nt,rt,st,vt,bt){return setupBlock(createBaseVNode(it,nt,rt,st,vt,bt,!0))}function createBlock(it,nt,rt,st,vt){return setupBlock(createVNode(it,nt,rt,st,vt,!0))}function isVNode(it){return it?it.__v_isVNode===!0:!1}function isSameVNodeType(it,nt){return it.type===nt.type&&it.key===nt.key}const InternalObjectKey="__vInternal",normalizeKey=({key:it})=>it!=null?it:null,normalizeRef=({ref:it,ref_key:nt,ref_for:rt})=>it!=null?isString(it)||isRef(it)||isFunction$1(it)?{i:currentRenderingInstance,r:it,k:nt,f:!!rt}:it:null;function createBaseVNode(it,nt=null,rt=null,st=0,vt=null,bt=it===Fragment?0:1,_t=!1,wt=!1){const Et={__v_isVNode:!0,__v_skip:!0,type:it,props:nt,key:nt&&normalizeKey(nt),ref:nt&&normalizeRef(nt),scopeId:currentScopeId,slotScopeIds:null,children:rt,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:bt,patchFlag:st,dynamicProps:vt,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return wt?(normalizeChildren(Et,rt),bt&128&&it.normalize(Et)):rt&&(Et.shapeFlag|=isString(rt)?8:16),isBlockTreeEnabled>0&&!_t&&currentBlock&&(Et.patchFlag>0||bt&6)&&Et.patchFlag!==32&&currentBlock.push(Et),Et}const createVNode=_createVNode;function _createVNode(it,nt=null,rt=null,st=0,vt=null,bt=!1){if((!it||it===NULL_DYNAMIC_COMPONENT)&&(it=Comment),isVNode(it)){const wt=cloneVNode(it,nt,!0);return rt&&normalizeChildren(wt,rt),isBlockTreeEnabled>0&&!bt&&currentBlock&&(wt.shapeFlag&6?currentBlock[currentBlock.indexOf(it)]=wt:currentBlock.push(wt)),wt.patchFlag|=-2,wt}if(isClassComponent(it)&&(it=it.__vccOpts),nt){nt=guardReactiveProps(nt);let{class:wt,style:Et}=nt;wt&&!isString(wt)&&(nt.class=normalizeClass(wt)),isObject$3(Et)&&(isProxy(Et)&&!isArray$2(Et)&&(Et=extend$3({},Et)),nt.style=normalizeStyle(Et))}const _t=isString(it)?1:isSuspense(it)?128:isTeleport(it)?64:isObject$3(it)?4:isFunction$1(it)?2:0;return createBaseVNode(it,nt,rt,st,vt,_t,bt,!0)}function guardReactiveProps(it){return it?isProxy(it)||InternalObjectKey in it?extend$3({},it):it:null}function cloneVNode(it,nt,rt=!1){const{props:st,ref:vt,patchFlag:bt,children:_t}=it,wt=nt?mergeProps(st||{},nt):st;return{__v_isVNode:!0,__v_skip:!0,type:it.type,props:wt,key:wt&&normalizeKey(wt),ref:nt&&nt.ref?rt&&vt?isArray$2(vt)?vt.concat(normalizeRef(nt)):[vt,normalizeRef(nt)]:normalizeRef(nt):vt,scopeId:it.scopeId,slotScopeIds:it.slotScopeIds,children:_t,target:it.target,targetAnchor:it.targetAnchor,staticCount:it.staticCount,shapeFlag:it.shapeFlag,patchFlag:nt&&it.type!==Fragment?bt===-1?16:bt|16:bt,dynamicProps:it.dynamicProps,dynamicChildren:it.dynamicChildren,appContext:it.appContext,dirs:it.dirs,transition:it.transition,component:it.component,suspense:it.suspense,ssContent:it.ssContent&&cloneVNode(it.ssContent),ssFallback:it.ssFallback&&cloneVNode(it.ssFallback),el:it.el,anchor:it.anchor,ctx:it.ctx}}function createTextVNode(it=" ",nt=0){return createVNode(Text,null,it,nt)}function createCommentVNode(it="",nt=!1){return nt?(openBlock(),createBlock(Comment,null,it)):createVNode(Comment,null,it)}function normalizeVNode(it){return it==null||typeof it=="boolean"?createVNode(Comment):isArray$2(it)?createVNode(Fragment,null,it.slice()):typeof it=="object"?cloneIfMounted(it):createVNode(Text,null,String(it))}function cloneIfMounted(it){return it.el===null&&it.patchFlag!==-1||it.memo?it:cloneVNode(it)}function normalizeChildren(it,nt){let rt=0;const{shapeFlag:st}=it;if(nt==null)nt=null;else if(isArray$2(nt))rt=16;else if(typeof nt=="object")if(st&65){const vt=nt.default;vt&&(vt._c&&(vt._d=!1),normalizeChildren(it,vt()),vt._c&&(vt._d=!0));return}else{rt=32;const vt=nt._;!vt&&!(InternalObjectKey in nt)?nt._ctx=currentRenderingInstance:vt===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?nt._=1:(nt._=2,it.patchFlag|=1024))}else isFunction$1(nt)?(nt={default:nt,_ctx:currentRenderingInstance},rt=32):(nt=String(nt),st&64?(rt=16,nt=[createTextVNode(nt)]):rt=8);it.children=nt,it.shapeFlag|=rt}function mergeProps(...it){const nt={};for(let rt=0;rt<it.length;rt++){const st=it[rt];for(const vt in st)if(vt==="class")nt.class!==st.class&&(nt.class=normalizeClass([nt.class,st.class]));else if(vt==="style")nt.style=normalizeStyle([nt.style,st.style]);else if(isOn(vt)){const bt=nt[vt],_t=st[vt];_t&&bt!==_t&&!(isArray$2(bt)&&bt.includes(_t))&&(nt[vt]=bt?[].concat(bt,_t):_t)}else vt!==""&&(nt[vt]=st[vt])}return nt}function invokeVNodeHook(it,nt,rt,st=null){callWithAsyncErrorHandling(it,nt,7,[rt,st])}const emptyAppContext=createAppContext();let uid$1=0;function createComponentInstance(it,nt,rt){const st=it.type,vt=(nt?nt.appContext:it.appContext)||emptyAppContext,bt={uid:uid$1++,vnode:it,type:st,parent:nt,appContext:vt,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:nt?nt.provides:Object.create(vt.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(st,vt),emitsOptions:normalizeEmitsOptions(st,vt),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:st.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,suspense:rt,suspenseId:rt?rt.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return bt.ctx={_:bt},bt.root=nt?nt.root:bt,bt.emit=emit$1.bind(null,bt),it.ce&&it.ce(bt),bt}let currentInstance=null;const getCurrentInstance=()=>currentInstance||currentRenderingInstance,setCurrentInstance=it=>{currentInstance=it,it.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),currentInstance=null};function isStatefulComponent(it){return it.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(it,nt=!1){isInSSRComponentSetup=nt;const{props:rt,children:st}=it.vnode,vt=isStatefulComponent(it);initProps(it,rt,vt,nt),initSlots(it,st);const bt=vt?setupStatefulComponent(it,nt):void 0;return isInSSRComponentSetup=!1,bt}function setupStatefulComponent(it,nt){const rt=it.type;it.accessCache=Object.create(null),it.proxy=markRaw(new Proxy(it.ctx,PublicInstanceProxyHandlers));const{setup:st}=rt;if(st){const vt=it.setupContext=st.length>1?createSetupContext(it):null;setCurrentInstance(it),pauseTracking();const bt=callWithErrorHandling(st,it,0,[it.props,vt]);if(resetTracking(),unsetCurrentInstance(),isPromise(bt)){if(bt.then(unsetCurrentInstance,unsetCurrentInstance),nt)return bt.then(_t=>{handleSetupResult(it,_t,nt)}).catch(_t=>{handleError$1(_t,it,0)});it.asyncDep=bt}else handleSetupResult(it,bt,nt)}else finishComponentSetup(it,nt)}function handleSetupResult(it,nt,rt){isFunction$1(nt)?it.type.__ssrInlineRender?it.ssrRender=nt:it.render=nt:isObject$3(nt)&&(it.setupState=proxyRefs(nt)),finishComponentSetup(it,rt)}let compile$1;function finishComponentSetup(it,nt,rt){const st=it.type;if(!it.render){if(!nt&&compile$1&&!st.render){const vt=st.template||resolveMergedOptions(it).template;if(vt){const{isCustomElement:bt,compilerOptions:_t}=it.appContext.config,{delimiters:wt,compilerOptions:Et}=st,Tt=extend$3(extend$3({isCustomElement:bt,delimiters:wt},_t),Et);st.render=compile$1(vt,Tt)}}it.render=st.render||NOOP}setCurrentInstance(it),pauseTracking(),applyOptions(it),resetTracking(),unsetCurrentInstance()}function createAttrsProxy(it){return new Proxy(it.attrs,{get(nt,rt){return track(it,"get","$attrs"),nt[rt]}})}function createSetupContext(it){const nt=st=>{it.exposed=st||{}};let rt;return{get attrs(){return rt||(rt=createAttrsProxy(it))},slots:it.slots,emit:it.emit,expose:nt}}function getExposeProxy(it){if(it.exposed)return it.exposeProxy||(it.exposeProxy=new Proxy(proxyRefs(markRaw(it.exposed)),{get(nt,rt){if(rt in nt)return nt[rt];if(rt in publicPropertiesMap)return publicPropertiesMap[rt](it)},has(nt,rt){return rt in nt||rt in publicPropertiesMap}}))}function isClassComponent(it){return isFunction$1(it)&&"__vccOpts"in it}const computed=(it,nt)=>computed$1(it,nt,isInSSRComponentSetup),ssrContextKey=Symbol(""),useSSRContext=()=>inject(ssrContextKey),version$2="3.2.45",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(it,nt,rt)=>{nt.insertBefore(it,rt||null)},remove:it=>{const nt=it.parentNode;nt&&nt.removeChild(it)},createElement:(it,nt,rt,st)=>{const vt=nt?doc.createElementNS(svgNS,it):doc.createElement(it,rt?{is:rt}:void 0);return it==="select"&&st&&st.multiple!=null&&vt.setAttribute("multiple",st.multiple),vt},createText:it=>doc.createTextNode(it),createComment:it=>doc.createComment(it),setText:(it,nt)=>{it.nodeValue=nt},setElementText:(it,nt)=>{it.textContent=nt},parentNode:it=>it.parentNode,nextSibling:it=>it.nextSibling,querySelector:it=>doc.querySelector(it),setScopeId(it,nt){it.setAttribute(nt,"")},insertStaticContent(it,nt,rt,st,vt,bt){const _t=rt?rt.previousSibling:nt.lastChild;if(vt&&(vt===bt||vt.nextSibling))for(;nt.insertBefore(vt.cloneNode(!0),rt),!(vt===bt||!(vt=vt.nextSibling)););else{templateContainer.innerHTML=st?`<svg>${it}</svg>`:it;const wt=templateContainer.content;if(st){const Et=wt.firstChild;for(;Et.firstChild;)wt.appendChild(Et.firstChild);wt.removeChild(Et)}nt.insertBefore(wt,rt)}return[_t?_t.nextSibling:nt.firstChild,rt?rt.previousSibling:nt.lastChild]}};function patchClass(it,nt,rt){const st=it._vtc;st&&(nt=(nt?[nt,...st]:[...st]).join(" ")),nt==null?it.removeAttribute("class"):rt?it.setAttribute("class",nt):it.className=nt}function patchStyle(it,nt,rt){const st=it.style,vt=isString(rt);if(rt&&!vt){for(const bt in rt)setStyle$1(st,bt,rt[bt]);if(nt&&!isString(nt))for(const bt in nt)rt[bt]==null&&setStyle$1(st,bt,"")}else{const bt=st.display;vt?nt!==rt&&(st.cssText=rt):nt&&it.removeAttribute("style"),"_vod"in it&&(st.display=bt)}}const importantRE=/\s*!important$/;function setStyle$1(it,nt,rt){if(isArray$2(rt))rt.forEach(st=>setStyle$1(it,nt,st));else if(rt==null&&(rt=""),nt.startsWith("--"))it.setProperty(nt,rt);else{const st=autoPrefix(it,nt);importantRE.test(rt)?it.setProperty(hyphenate(st),rt.replace(importantRE,""),"important"):it[st]=rt}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(it,nt){const rt=prefixCache[nt];if(rt)return rt;let st=camelize(nt);if(st!=="filter"&&st in it)return prefixCache[nt]=st;st=capitalize(st);for(let vt=0;vt<prefixes$1.length;vt++){const bt=prefixes$1[vt]+st;if(bt in it)return prefixCache[nt]=bt}return nt}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(it,nt,rt,st,vt){if(st&&nt.startsWith("xlink:"))rt==null?it.removeAttributeNS(xlinkNS,nt.slice(6,nt.length)):it.setAttributeNS(xlinkNS,nt,rt);else{const bt=isSpecialBooleanAttr(nt);rt==null||bt&&!includeBooleanAttr(rt)?it.removeAttribute(nt):it.setAttribute(nt,bt?"":rt)}}function patchDOMProp(it,nt,rt,st,vt,bt,_t){if(nt==="innerHTML"||nt==="textContent"){st&&_t(st,vt,bt),it[nt]=rt==null?"":rt;return}if(nt==="value"&&it.tagName!=="PROGRESS"&&!it.tagName.includes("-")){it._value=rt;const Et=rt==null?"":rt;(it.value!==Et||it.tagName==="OPTION")&&(it.value=Et),rt==null&&it.removeAttribute(nt);return}let wt=!1;if(rt===""||rt==null){const Et=typeof it[nt];Et==="boolean"?rt=includeBooleanAttr(rt):rt==null&&Et==="string"?(rt="",wt=!0):Et==="number"&&(rt=0,wt=!0)}try{it[nt]=rt}catch{}wt&&it.removeAttribute(nt)}function addEventListener(it,nt,rt,st){it.addEventListener(nt,rt,st)}function removeEventListener(it,nt,rt,st){it.removeEventListener(nt,rt,st)}function patchEvent(it,nt,rt,st,vt=null){const bt=it._vei||(it._vei={}),_t=bt[nt];if(st&&_t)_t.value=st;else{const[wt,Et]=parseName(nt);if(st){const Tt=bt[nt]=createInvoker(st,vt);addEventListener(it,wt,Tt,Et)}else _t&&(removeEventListener(it,wt,_t,Et),bt[nt]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(it){let nt;if(optionsModifierRE.test(it)){nt={};let st;for(;st=it.match(optionsModifierRE);)it=it.slice(0,it.length-st[0].length),nt[st[0].toLowerCase()]=!0}return[it[2]===":"?it.slice(3):hyphenate(it.slice(2)),nt]}let cachedNow=0;const p$3=Promise.resolve(),getNow=()=>cachedNow||(p$3.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(it,nt){const rt=st=>{if(!st._vts)st._vts=Date.now();else if(st._vts<=rt.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(st,rt.value),nt,5,[st])};return rt.value=it,rt.attached=getNow(),rt}function patchStopImmediatePropagation(it,nt){if(isArray$2(nt)){const rt=it.stopImmediatePropagation;return it.stopImmediatePropagation=()=>{rt.call(it),it._stopped=!0},nt.map(st=>vt=>!vt._stopped&&st&&st(vt))}else return nt}const nativeOnRE=/^on[a-z]/,patchProp=(it,nt,rt,st,vt=!1,bt,_t,wt,Et)=>{nt==="class"?patchClass(it,st,vt):nt==="style"?patchStyle(it,rt,st):isOn(nt)?isModelListener(nt)||patchEvent(it,nt,rt,st,_t):(nt[0]==="."?(nt=nt.slice(1),!0):nt[0]==="^"?(nt=nt.slice(1),!1):shouldSetAsProp(it,nt,st,vt))?patchDOMProp(it,nt,st,bt,_t,wt,Et):(nt==="true-value"?it._trueValue=st:nt==="false-value"&&(it._falseValue=st),patchAttr(it,nt,st,vt))};function shouldSetAsProp(it,nt,rt,st){return st?!!(nt==="innerHTML"||nt==="textContent"||nt in it&&nativeOnRE.test(nt)&&isFunction$1(rt)):nt==="spellcheck"||nt==="draggable"||nt==="translate"||nt==="form"||nt==="list"&&it.tagName==="INPUT"||nt==="type"&&it.tagName==="TEXTAREA"||nativeOnRE.test(nt)&&isString(rt)?!1:nt in it}function defineCustomElement(it,nt){const rt=defineComponent(it);class st extends VueElement{constructor(bt){super(rt,bt,nt)}}return st.def=rt,st}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(nt,rt={},st){super(),this._def=nt,this._props=rt,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&st?st(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let st=0;st<this.attributes.length;st++)this._setAttr(this.attributes[st].name);new MutationObserver(st=>{for(const vt of st)this._setAttr(vt.attributeName)}).observe(this,{attributes:!0});const nt=(st,vt=!1)=>{const{props:bt,styles:_t}=st;let wt;if(bt&&!isArray$2(bt))for(const Et in bt){const Tt=bt[Et];(Tt===Number||Tt&&Tt.type===Number)&&(Et in this._props&&(this._props[Et]=toNumber$1(this._props[Et])),(wt||(wt=Object.create(null)))[camelize(Et)]=!0)}this._numberProps=wt,vt&&this._resolveProps(st),this._applyStyles(_t),this._update()},rt=this._def.__asyncLoader;rt?rt().then(st=>nt(st,!0)):nt(this._def)}_resolveProps(nt){const{props:rt}=nt,st=isArray$2(rt)?rt:Object.keys(rt||{});for(const vt of Object.keys(this))vt[0]!=="_"&&st.includes(vt)&&this._setProp(vt,this[vt],!0,!1);for(const vt of st.map(camelize))Object.defineProperty(this,vt,{get(){return this._getProp(vt)},set(bt){this._setProp(vt,bt)}})}_setAttr(nt){let rt=this.getAttribute(nt);const st=camelize(nt);this._numberProps&&this._numberProps[st]&&(rt=toNumber$1(rt)),this._setProp(st,rt,!1)}_getProp(nt){return this._props[nt]}_setProp(nt,rt,st=!0,vt=!0){rt!==this._props[nt]&&(this._props[nt]=rt,vt&&this._instance&&this._update(),st&&(rt===!0?this.setAttribute(hyphenate(nt),""):typeof rt=="string"||typeof rt=="number"?this.setAttribute(hyphenate(nt),rt+""):rt||this.removeAttribute(hyphenate(nt))))}_update(){render$4(this._createVNode(),this.shadowRoot)}_createVNode(){const nt=createVNode(this._def,extend$3({},this._props));return this._instance||(nt.ce=rt=>{this._instance=rt,rt.isCE=!0;const st=(bt,_t)=>{this.dispatchEvent(new CustomEvent(bt,{detail:_t}))};rt.emit=(bt,..._t)=>{st(bt,_t),hyphenate(bt)!==bt&&st(hyphenate(bt),_t)};let vt=this;for(;vt=vt&&(vt.parentNode||vt.host);)if(vt instanceof VueElement){rt.parent=vt._instance,rt.provides=vt._instance.provides;break}}),nt}_applyStyles(nt){nt&&nt.forEach(rt=>{const st=document.createElement("style");st.textContent=rt,this.shadowRoot.appendChild(st)})}}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};BaseTransition.props;const systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:it=>it.stopPropagation(),prevent:it=>it.preventDefault(),self:it=>it.target!==it.currentTarget,ctrl:it=>!it.ctrlKey,shift:it=>!it.shiftKey,alt:it=>!it.altKey,meta:it=>!it.metaKey,left:it=>"button"in it&&it.button!==0,middle:it=>"button"in it&&it.button!==1,right:it=>"button"in it&&it.button!==2,exact:(it,nt)=>systemModifiers.some(rt=>it[`${rt}Key`]&&!nt.includes(rt))},withModifiers=(it,nt)=>(rt,...st)=>{for(let vt=0;vt<nt.length;vt++){const bt=modifierGuards[nt[vt]];if(bt&&bt(rt,nt))return}return it(rt,...st)},rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$4=(...it)=>{ensureRenderer().render(...it)},light="";var basePath="";function setBasePath(it){basePath=it}function getBasePath(){if(!basePath){const it=[...document.getElementsByTagName("script")],nt=it.find(rt=>rt.hasAttribute("data-shoelace"));if(nt)setBasePath(nt.getAttribute("data-shoelace"));else{const rt=it.find(vt=>/shoelace(\.min)?\.js($|\?)/.test(vt.src));let st="";rt&&(st=rt.getAttribute("src")),setBasePath(st.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")}var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(it,nt,rt)=>nt in it?__defProp$1(it,nt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):it[nt]=rt,__spreadValues=(it,nt)=>{for(var rt in nt||(nt={}))__hasOwnProp.call(nt,rt)&&__defNormalProp$1(it,rt,nt[rt]);if(__getOwnPropSymbols)for(var rt of __getOwnPropSymbols(nt))__propIsEnum.call(nt,rt)&&__defNormalProp$1(it,rt,nt[rt]);return it},__spreadProps=(it,nt)=>__defProps(it,__getOwnPropDescs(nt)),__objRest=(it,nt)=>{var rt={};for(var st in it)__hasOwnProp.call(it,st)&&nt.indexOf(st)<0&&(rt[st]=it[st]);if(it!=null&&__getOwnPropSymbols)for(var st of __getOwnPropSymbols(it))nt.indexOf(st)<0&&__propIsEnum.call(it,st)&&(rt[st]=it[st]);return rt},__decorateClass=(it,nt,rt,st)=>{for(var vt=st>1?void 0:st?__getOwnPropDesc(nt,rt):nt,bt=it.length-1,_t;bt>=0;bt--)(_t=it[bt])&&(vt=(st?_t(nt,rt,vt):_t(vt))||vt);return st&&vt&&__defProp$1(nt,rt,vt),vt};const scriptRel="modulepreload",assetsURL=function(it){return"/"+it},seen={},__vitePreload=function(nt,rt,st){if(!rt||rt.length===0)return nt();const vt=document.getElementsByTagName("link");return Promise.all(rt.map(bt=>{if(bt=assetsURL(bt),bt in seen)return;seen[bt]=!0;const _t=bt.endsWith(".css"),wt=_t?'[rel="stylesheet"]':"";if(!!st)for(let $t=vt.length-1;$t>=0;$t--){const Dt=vt[$t];if(Dt.href===bt&&(!_t||Dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${bt}"]${wt}`))return;const Tt=document.createElement("link");if(Tt.rel=_t?"stylesheet":scriptRel,_t||(Tt.as="script",Tt.crossOrigin=""),Tt.href=bt,document.head.appendChild(Tt),_t)return new Promise(($t,Dt)=>{Tt.addEventListener("load",$t),Tt.addEventListener("error",()=>Dt(new Error(`Unable to preload CSS for ${bt}`)))})})).then(()=>nt())};var e$4=typeof self<"u"?self:global;const t$4=typeof navigator<"u",i$6=t$4&&typeof HTMLImageElement>"u",n$4=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),s$5=e$4.Buffer,r$2=e$4.BigInt,a$3=!!s$5,o$3=it=>it;function l$4(it,nt=o$3){if(n$4)try{return typeof require=="function"?Promise.resolve(nt(require(it))):__vitePreload(()=>import(it),[]).then(nt)}catch{console.warn(`Couldn't load ${it}`)}}let h$3=e$4.fetch;const u$2=it=>h$3=it;if(!e$4.fetch){const it=l$4("http",st=>st),nt=l$4("https",st=>st),rt=(st,{headers:vt}={})=>new Promise(async(bt,_t)=>{let{port:wt,hostname:Et,pathname:Tt,protocol:$t,search:Dt}=new URL(st);const Lt={method:"GET",hostname:Et,path:encodeURI(Tt)+Dt,headers:vt};wt!==""&&(Lt.port=Number(wt));const Bt=($t==="https:"?await nt:await it).request(Lt,Ht=>{if(Ht.statusCode===301||Ht.statusCode===302){let Ut=new URL(Ht.headers.location,st).toString();return rt(Ut,{headers:vt}).then(bt).catch(_t)}bt({status:Ht.statusCode,arrayBuffer:()=>new Promise(Ut=>{let It=[];Ht.on("data",jt=>It.push(jt)),Ht.on("end",()=>Ut(Buffer.concat(It)))})})});Bt.on("error",_t),Bt.end()});u$2(rt)}function c$3(it,nt,rt){return nt in it?Object.defineProperty(it,nt,{value:rt,enumerable:!0,configurable:!0,writable:!0}):it[nt]=rt,it}const f$3=it=>p$2(it)?void 0:it,d$3=it=>it!==void 0;function p$2(it){return it===void 0||(it instanceof Map?it.size===0:Object.values(it).filter(d$3).length===0)}function g$2(it){let nt=new Error(it);throw delete nt.stack,nt}function m$3(it){return(it=function(nt){for(;nt.endsWith("\0");)nt=nt.slice(0,-1);return nt}(it).trim())===""?void 0:it}function S$1(it){let nt=function(rt){let st=0;return rt.ifd0.enabled&&(st+=1024),rt.exif.enabled&&(st+=2048),rt.makerNote&&(st+=2048),rt.userComment&&(st+=1024),rt.gps.enabled&&(st+=512),rt.interop.enabled&&(st+=100),rt.ifd1.enabled&&(st+=1024),st+2048}(it);return it.jfif.enabled&&(nt+=50),it.xmp.enabled&&(nt+=2e4),it.iptc.enabled&&(nt+=14e3),it.icc.enabled&&(nt+=6e3),nt}const C$2=it=>String.fromCharCode.apply(null,it),y$3=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function b$2(it){return y$3?y$3.decode(it):a$3?Buffer.from(it).toString("utf8"):decodeURIComponent(escape(C$2(it)))}class I$1{static from(nt,rt){return nt instanceof this&&nt.le===rt?nt:new I$1(nt,void 0,void 0,rt)}constructor(nt,rt=0,st,vt){if(typeof vt=="boolean"&&(this.le=vt),Array.isArray(nt)&&(nt=new Uint8Array(nt)),nt===0)this.byteOffset=0,this.byteLength=0;else if(nt instanceof ArrayBuffer){st===void 0&&(st=nt.byteLength-rt);let bt=new DataView(nt,rt,st);this._swapDataView(bt)}else if(nt instanceof Uint8Array||nt instanceof DataView||nt instanceof I$1){st===void 0&&(st=nt.byteLength-rt),(rt+=nt.byteOffset)+st>nt.byteOffset+nt.byteLength&&g$2("Creating view outside of available memory in ArrayBuffer");let bt=new DataView(nt.buffer,rt,st);this._swapDataView(bt)}else if(typeof nt=="number"){let bt=new DataView(new ArrayBuffer(nt));this._swapDataView(bt)}else g$2("Invalid input argument for BufferView: "+nt)}_swapArrayBuffer(nt){this._swapDataView(new DataView(nt))}_swapBuffer(nt){this._swapDataView(new DataView(nt.buffer,nt.byteOffset,nt.byteLength))}_swapDataView(nt){this.dataView=nt,this.buffer=nt.buffer,this.byteOffset=nt.byteOffset,this.byteLength=nt.byteLength}_lengthToEnd(nt){return this.byteLength-nt}set(nt,rt,st=I$1){return nt instanceof DataView||nt instanceof I$1?nt=new Uint8Array(nt.buffer,nt.byteOffset,nt.byteLength):nt instanceof ArrayBuffer&&(nt=new Uint8Array(nt)),nt instanceof Uint8Array||g$2("BufferView.set(): Invalid data argument."),this.toUint8().set(nt,rt),new st(this,rt,nt.byteLength)}subarray(nt,rt){return rt=rt||this._lengthToEnd(nt),new I$1(this,nt,rt)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(nt,rt){return new Uint8Array(this.buffer,this.byteOffset+nt,rt)}getString(nt=0,rt=this.byteLength){return b$2(this.getUint8Array(nt,rt))}getLatin1String(nt=0,rt=this.byteLength){let st=this.getUint8Array(nt,rt);return C$2(st)}getUnicodeString(nt=0,rt=this.byteLength){const st=[];for(let vt=0;vt<rt&&nt+vt<this.byteLength;vt+=2)st.push(this.getUint16(nt+vt));return C$2(st)}getInt8(nt){return this.dataView.getInt8(nt)}getUint8(nt){return this.dataView.getUint8(nt)}getInt16(nt,rt=this.le){return this.dataView.getInt16(nt,rt)}getInt32(nt,rt=this.le){return this.dataView.getInt32(nt,rt)}getUint16(nt,rt=this.le){return this.dataView.getUint16(nt,rt)}getUint32(nt,rt=this.le){return this.dataView.getUint32(nt,rt)}getFloat32(nt,rt=this.le){return this.dataView.getFloat32(nt,rt)}getFloat64(nt,rt=this.le){return this.dataView.getFloat64(nt,rt)}getFloat(nt,rt=this.le){return this.dataView.getFloat32(nt,rt)}getDouble(nt,rt=this.le){return this.dataView.getFloat64(nt,rt)}getUintBytes(nt,rt,st){switch(rt){case 1:return this.getUint8(nt,st);case 2:return this.getUint16(nt,st);case 4:return this.getUint32(nt,st);case 8:return this.getUint64&&this.getUint64(nt,st)}}getUint(nt,rt,st){switch(rt){case 8:return this.getUint8(nt,st);case 16:return this.getUint16(nt,st);case 32:return this.getUint32(nt,st);case 64:return this.getUint64&&this.getUint64(nt,st)}}toString(nt){return this.dataView.toString(nt,this.constructor.name)}ensureChunk(){}}function P$1(it,nt){g$2(`${it} '${nt}' was not loaded, try using full build of exifr.`)}class k$2 extends Map{constructor(nt){super(),this.kind=nt}get(nt,rt){return this.has(nt)||P$1(this.kind,nt),rt&&(nt in rt||function(st,vt){g$2(`Unknown ${st} '${vt}'.`)}(this.kind,nt),rt[nt].enabled||P$1(this.kind,nt)),super.get(nt)}keyList(){return Array.from(this.keys())}}var w$1=new k$2("file parser"),T$2=new k$2("segment parser"),A$2=new k$2("file reader");function D(it,nt){return typeof it=="string"?O$1(it,nt):t$4&&!i$6&&it instanceof HTMLImageElement?O$1(it.src,nt):it instanceof Uint8Array||it instanceof ArrayBuffer||it instanceof DataView?new I$1(it):t$4&&it instanceof Blob?x$3(it,nt,"blob",R$2):void g$2("Invalid input argument")}function O$1(it,nt){return(rt=it).startsWith("data:")||rt.length>1e4?v$1(it,nt,"base64"):n$4&&it.includes("://")?x$3(it,nt,"url",M$1):n$4?v$1(it,nt,"fs"):t$4?x$3(it,nt,"url",M$1):void g$2("Invalid input argument");var rt}async function x$3(it,nt,rt,st){return A$2.has(rt)?v$1(it,nt,rt):st?async function(vt,bt){let _t=await bt(vt);return new I$1(_t)}(it,st):void g$2(`Parser ${rt} is not loaded`)}async function v$1(it,nt,rt){let st=new(A$2.get(rt))(it,nt);return await st.read(),st}const M$1=it=>h$3(it).then(nt=>nt.arrayBuffer()),R$2=it=>new Promise((nt,rt)=>{let st=new FileReader;st.onloadend=()=>nt(st.result||new ArrayBuffer),st.onerror=rt,st.readAsArrayBuffer(it)});class L$3 extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function U(it,nt,rt){let st=new L$3;for(let[vt,bt]of rt)st.set(vt,bt);if(Array.isArray(nt))for(let vt of nt)it.set(vt,st);else it.set(nt,st);return st}function F(it,nt,rt){let st,vt=it.get(nt);for(st of rt)vt.set(st[0],st[1])}const E$1=new Map,B=new Map,N$1=new Map,G=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],V$1=["jfif","xmp","icc","iptc","ihdr"],z$1=["tiff",...V$1],H$2=["ifd0","ifd1","exif","gps","interop"],j=[...z$1,...H$2],W$1=["makerNote","userComment"],K$1=["translateKeys","translateValues","reviveValues","multiSegment"],X=[...K$1,"sanitize","mergeOutput","silentErrors"];class _$2{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Y extends _$2{get needed(){return this.enabled||this.deps.size>0}constructor(nt,rt,st,vt){if(super(),c$3(this,"enabled",!1),c$3(this,"skip",new Set),c$3(this,"pick",new Set),c$3(this,"deps",new Set),c$3(this,"translateKeys",!1),c$3(this,"translateValues",!1),c$3(this,"reviveValues",!1),this.key=nt,this.enabled=rt,this.parse=this.enabled,this.applyInheritables(vt),this.canBeFiltered=H$2.includes(nt),this.canBeFiltered&&(this.dict=E$1.get(nt)),st!==void 0)if(Array.isArray(st))this.parse=this.enabled=!0,this.canBeFiltered&&st.length>0&&this.translateTagSet(st,this.pick);else if(typeof st=="object"){if(this.enabled=!0,this.parse=st.parse!==!1,this.canBeFiltered){let{pick:bt,skip:_t}=st;bt&&bt.length>0&&this.translateTagSet(bt,this.pick),_t&&_t.length>0&&this.translateTagSet(_t,this.skip)}this.applyInheritables(st)}else st===!0||st===!1?this.parse=this.enabled=st:g$2(`Invalid options argument: ${st}`)}applyInheritables(nt){let rt,st;for(rt of K$1)st=nt[rt],st!==void 0&&(this[rt]=st)}translateTagSet(nt,rt){if(this.dict){let st,vt,{tagKeys:bt,tagValues:_t}=this.dict;for(st of nt)typeof st=="string"?(vt=_t.indexOf(st),vt===-1&&(vt=bt.indexOf(Number(st))),vt!==-1&&rt.add(Number(bt[vt]))):rt.add(st)}else for(let st of nt)rt.add(st)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ee(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ee(this.pick,this.deps)}}var $$1={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},J=new Map;class q extends _$2{static useCached(nt){let rt=J.get(nt);return rt!==void 0||(rt=new this(nt),J.set(nt,rt)),rt}constructor(nt){super(),nt===!0?this.setupFromTrue():nt===void 0?this.setupFromUndefined():Array.isArray(nt)?this.setupFromArray(nt):typeof nt=="object"?this.setupFromObject(nt):g$2(`Invalid options argument ${nt}`),this.firstChunkSize===void 0&&(this.firstChunkSize=t$4?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let nt;for(nt of G)this[nt]=$$1[nt];for(nt of X)this[nt]=$$1[nt];for(nt of W$1)this[nt]=$$1[nt];for(nt of j)this[nt]=new Y(nt,$$1[nt],void 0,this)}setupFromTrue(){let nt;for(nt of G)this[nt]=$$1[nt];for(nt of X)this[nt]=$$1[nt];for(nt of W$1)this[nt]=!0;for(nt of j)this[nt]=new Y(nt,!0,void 0,this)}setupFromArray(nt){let rt;for(rt of G)this[rt]=$$1[rt];for(rt of X)this[rt]=$$1[rt];for(rt of W$1)this[rt]=$$1[rt];for(rt of j)this[rt]=new Y(rt,!1,void 0,this);this.setupGlobalFilters(nt,void 0,H$2)}setupFromObject(nt){let rt;for(rt of(H$2.ifd0=H$2.ifd0||H$2.image,H$2.ifd1=H$2.ifd1||H$2.thumbnail,Object.assign(this,nt),G))this[rt]=Z$1(nt[rt],$$1[rt]);for(rt of X)this[rt]=Z$1(nt[rt],$$1[rt]);for(rt of W$1)this[rt]=Z$1(nt[rt],$$1[rt]);for(rt of z$1)this[rt]=new Y(rt,$$1[rt],nt[rt],this);for(rt of H$2)this[rt]=new Y(rt,$$1[rt],nt[rt],this.tiff);this.setupGlobalFilters(nt.pick,nt.skip,H$2,j),nt.tiff===!0?this.batchEnableWithBool(H$2,!0):nt.tiff===!1?this.batchEnableWithUserValue(H$2,nt):Array.isArray(nt.tiff)?this.setupGlobalFilters(nt.tiff,void 0,H$2):typeof nt.tiff=="object"&&this.setupGlobalFilters(nt.tiff.pick,nt.tiff.skip,H$2)}batchEnableWithBool(nt,rt){for(let st of nt)this[st].enabled=rt}batchEnableWithUserValue(nt,rt){for(let st of nt){let vt=rt[st];this[st].enabled=vt!==!1&&vt!==void 0}}setupGlobalFilters(nt,rt,st,vt=st){if(nt&&nt.length){for(let _t of vt)this[_t].enabled=!1;let bt=Q(nt,st);for(let[_t,wt]of bt)ee(this[_t].pick,wt),this[_t].enabled=!0}else if(rt&&rt.length){let bt=Q(rt,st);for(let[_t,wt]of bt)ee(this[_t].skip,wt)}}filterNestedSegmentTags(){let{ifd0:nt,exif:rt,xmp:st,iptc:vt,icc:bt}=this;this.makerNote?rt.deps.add(37500):rt.skip.add(37500),this.userComment?rt.deps.add(37510):rt.skip.add(37510),st.enabled||nt.skip.add(700),vt.enabled||nt.skip.add(33723),bt.enabled||nt.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:nt,exif:rt,gps:st,interop:vt}=this;vt.needed&&(rt.deps.add(40965),nt.deps.add(40965)),rt.needed&&nt.deps.add(34665),st.needed&&nt.deps.add(34853),this.tiff.enabled=H$2.some(bt=>this[bt].enabled===!0)||this.makerNote||this.userComment;for(let bt of H$2)this[bt].finalizeFilters()}get onlyTiff(){return!V$1.map(nt=>this[nt].enabled).some(nt=>nt===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let nt of z$1)this[nt].enabled&&!T$2.has(nt)&&P$1("segment parser",nt)}}function Q(it,nt){let rt,st,vt,bt,_t=[];for(vt of nt){for(bt of(rt=E$1.get(vt),st=[],rt))(it.includes(bt[0])||it.includes(bt[1]))&&st.push(bt[0]);st.length&&_t.push([vt,st])}return _t}function Z$1(it,nt){return it!==void 0?it:nt!==void 0?nt:void 0}function ee(it,nt){for(let rt of nt)it.add(rt)}c$3(q,"default",$$1);class te{constructor(nt){c$3(this,"parsers",{}),c$3(this,"output",{}),c$3(this,"errors",[]),c$3(this,"pushToErrors",rt=>this.errors.push(rt)),this.options=q.useCached(nt)}async read(nt){this.file=await D(nt,this.options)}setup(){if(this.fileParser)return;let{file:nt}=this,rt=nt.getUint16(0);for(let[st,vt]of w$1)if(vt.canHandle(nt,rt))return this.fileParser=new vt(this.options,this.file,this.parsers),nt[st]=!0;this.file.close&&this.file.close(),g$2("Unknown file format")}async parse(){let{output:nt,errors:rt}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),rt.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&rt.length>0&&(nt.errors=rt),f$3(nt)}async executeParsers(){let{output:nt}=this;await this.fileParser.parse();let rt=Object.values(this.parsers).map(async st=>{let vt=await st.parse();st.assignToOutput(nt,vt)});this.options.silentErrors&&(rt=rt.map(st=>st.catch(this.pushToErrors))),await Promise.all(rt)}async extractThumbnail(){this.setup();let{options:nt,file:rt}=this,st=T$2.get("tiff",nt);var vt;if(rt.tiff?vt={start:0,type:"tiff"}:rt.jpeg&&(vt=await this.fileParser.getOrFindSegment("tiff")),vt===void 0)return;let bt=await this.fileParser.ensureSegmentChunk(vt),_t=this.parsers.tiff=new st(bt,nt,rt),wt=await _t.extractThumbnail();return rt.close&&rt.close(),wt}}async function ie(it,nt){let rt=new te(nt);return await rt.read(it),rt.parse()}var ne=Object.freeze({__proto__:null,parse:ie,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q});class se{constructor(nt,rt,st){c$3(this,"errors",[]),c$3(this,"ensureSegmentChunk",async vt=>{let bt=vt.start,_t=vt.size||65536;if(this.file.chunked)if(this.file.available(bt,_t))vt.chunk=this.file.subarray(bt,_t);else try{vt.chunk=await this.file.readChunk(bt,_t)}catch(wt){g$2(`Couldn't read segment: ${JSON.stringify(vt)}. ${wt.message}`)}else this.file.byteLength>bt+_t?vt.chunk=this.file.subarray(bt,_t):vt.size===void 0?vt.chunk=this.file.subarray(bt):g$2("Segment unreachable: "+JSON.stringify(vt));return vt.chunk}),this.extendOptions&&this.extendOptions(nt),this.options=nt,this.file=rt,this.parsers=st}injectSegment(nt,rt){this.options[nt].enabled&&this.createParser(nt,rt)}createParser(nt,rt){let st=new(T$2.get(nt))(rt,this.options,this.file);return this.parsers[nt]=st}createParsers(nt){for(let rt of nt){let{type:st,chunk:vt}=rt,bt=this.options[st];if(bt&&bt.enabled){let _t=this.parsers[st];_t&&_t.append||_t||this.createParser(st,vt)}}}async readSegments(nt){let rt=nt.map(this.ensureSegmentChunk);await Promise.all(rt)}}class re$1{static findPosition(nt,rt){let st=nt.getUint16(rt+2)+2,vt=typeof this.headerLength=="function"?this.headerLength(nt,rt,st):this.headerLength,bt=rt+vt,_t=st-vt;return{offset:rt,length:st,headerLength:vt,start:bt,size:_t,end:bt+_t}}static parse(nt,rt={}){return new this(nt,new q({[this.type]:rt}),nt).parse()}normalizeInput(nt){return nt instanceof I$1?nt:new I$1(nt)}constructor(nt,rt={},st){c$3(this,"errors",[]),c$3(this,"raw",new Map),c$3(this,"handleError",vt=>{if(!this.options.silentErrors)throw vt;this.errors.push(vt.message)}),this.chunk=this.normalizeInput(nt),this.file=st,this.type=this.constructor.type,this.globalOptions=this.options=rt,this.localOptions=rt[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(nt,rt){let st=N$1.get(rt),vt=B.get(rt),bt=E$1.get(rt),_t=this.options[rt],wt=_t.reviveValues&&!!st,Et=_t.translateValues&&!!vt,Tt=_t.translateKeys&&!!bt,$t={};for(let[Dt,Lt]of nt)wt&&st.has(Dt)?Lt=st.get(Dt)(Lt):Et&&vt.has(Dt)&&(Lt=this.translateValue(Lt,vt.get(Dt))),Tt&&bt.has(Dt)&&(Dt=bt.get(Dt)||Dt),$t[Dt]=Lt;return $t}translateValue(nt,rt){return rt[nt]||rt.DEFAULT||nt}assignToOutput(nt,rt){this.assignObjectToOutput(nt,this.constructor.type,rt)}assignObjectToOutput(nt,rt,st){if(this.globalOptions.mergeOutput)return Object.assign(nt,st);nt[rt]?Object.assign(nt[rt],st):nt[rt]=st}}c$3(re$1,"headerLength",4),c$3(re$1,"type",void 0),c$3(re$1,"multiSegment",!1),c$3(re$1,"canHandle",()=>!1);function ae(it){return it===192||it===194||it===196||it===219||it===221||it===218||it===254}function oe(it){return it>=224&&it<=239}function le(it,nt,rt){for(let[st,vt]of T$2)if(vt.canHandle(it,nt,rt))return st}class he extends se{constructor(...nt){super(...nt),c$3(this,"appSegments",[]),c$3(this,"jpegSegments",[]),c$3(this,"unknownSegments",[])}static canHandle(nt,rt){return rt===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(nt){nt===!0?(this.findAll=!0,this.wanted=new Set(T$2.keyList())):(nt=nt===void 0?T$2.keyList().filter(rt=>this.options[rt].enabled):nt.filter(rt=>this.options[rt].enabled&&T$2.has(rt)),this.findAll=!1,this.remaining=new Set(nt),this.wanted=new Set(nt)),this.unfinishedMultiSegment=!1}async findAppSegments(nt=0,rt){this.setupSegmentFinderArgs(rt);let{file:st,findAll:vt,wanted:bt,remaining:_t}=this;if(!vt&&this.file.chunked&&(vt=Array.from(bt).some(wt=>{let Et=T$2.get(wt),Tt=this.options[wt];return Et.multiSegment&&Tt.multiSegment}),vt&&await this.file.readWhole()),nt=this.findAppSegmentsInRange(nt,st.byteLength),!this.options.onlyTiff&&st.chunked){let wt=!1;for(;_t.size>0&&!wt&&(st.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:Et}=st,Tt=this.appSegments.some($t=>!this.file.available($t.offset||$t.start,$t.length||$t.size));if(wt=nt>Et&&!Tt?!await st.readNextChunk(nt):!await st.readNextChunk(Et),(nt=this.findAppSegmentsInRange(nt,st.byteLength))===void 0)return}}}findAppSegmentsInRange(nt,rt){rt-=2;let st,vt,bt,_t,wt,Et,{file:Tt,findAll:$t,wanted:Dt,remaining:Lt,options:Bt}=this;for(;nt<rt;nt++)if(Tt.getUint8(nt)===255){if(st=Tt.getUint8(nt+1),oe(st)){if(vt=Tt.getUint16(nt+2),bt=le(Tt,nt,vt),bt&&Dt.has(bt)&&(_t=T$2.get(bt),wt=_t.findPosition(Tt,nt),Et=Bt[bt],wt.type=bt,this.appSegments.push(wt),!$t&&(_t.multiSegment&&Et.multiSegment?(this.unfinishedMultiSegment=wt.chunkNumber<wt.chunkCount,this.unfinishedMultiSegment||Lt.delete(bt)):Lt.delete(bt),Lt.size===0)))break;Bt.recordUnknownSegments&&(wt=re$1.findPosition(Tt,nt),wt.marker=st,this.unknownSegments.push(wt)),nt+=vt+1}else if(ae(st)){if(vt=Tt.getUint16(nt+2),st===218&&Bt.stopAfterSos!==!1)return;Bt.recordJpegSegments&&this.jpegSegments.push({offset:nt,length:vt,marker:st}),nt+=vt+1}}return nt}mergeMultiSegments(){if(!this.appSegments.some(rt=>rt.multiSegment))return;let nt=function(rt,st){let vt,bt,_t,wt=new Map;for(let Et=0;Et<rt.length;Et++)vt=rt[Et],bt=vt[st],wt.has(bt)?_t=wt.get(bt):wt.set(bt,_t=[]),_t.push(vt);return Array.from(wt)}(this.appSegments,"type");this.mergedAppSegments=nt.map(([rt,st])=>{let vt=T$2.get(rt,this.options);return vt.handleMultiSegments?{type:rt,chunk:vt.handleMultiSegments(st)}:st[0]})}getSegment(nt){return this.appSegments.find(rt=>rt.type===nt)}async getOrFindSegment(nt){let rt=this.getSegment(nt);return rt===void 0&&(await this.findAppSegments(0,[nt]),rt=this.getSegment(nt)),rt}}c$3(he,"type","jpeg"),w$1.set("jpeg",he);const ue=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class ce extends re$1{parseHeader(){var nt=this.chunk.getUint16();nt===18761?this.le=!0:nt===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(nt,rt,st=new Map){let{pick:vt,skip:bt}=this.options[rt];vt=new Set(vt);let _t=vt.size>0,wt=bt.size===0,Et=this.chunk.getUint16(nt);nt+=2;for(let Tt=0;Tt<Et;Tt++){let $t=this.chunk.getUint16(nt);if(_t){if(vt.has($t)&&(st.set($t,this.parseTag(nt,$t,rt)),vt.delete($t),vt.size===0))break}else!wt&&bt.has($t)||st.set($t,this.parseTag(nt,$t,rt));nt+=12}return st}parseTag(nt,rt,st){let{chunk:vt}=this,bt=vt.getUint16(nt+2),_t=vt.getUint32(nt+4),wt=ue[bt];if(wt*_t<=4?nt+=8:nt=vt.getUint32(nt+8),(bt<1||bt>13)&&g$2(`Invalid TIFF value type. block: ${st.toUpperCase()}, tag: ${rt.toString(16)}, type: ${bt}, offset ${nt}`),nt>vt.byteLength&&g$2(`Invalid TIFF value offset. block: ${st.toUpperCase()}, tag: ${rt.toString(16)}, type: ${bt}, offset ${nt} is outside of chunk size ${vt.byteLength}`),bt===1)return vt.getUint8Array(nt,_t);if(bt===2)return m$3(vt.getString(nt,_t));if(bt===7)return vt.getUint8Array(nt,_t);if(_t===1)return this.parseTagValue(bt,nt);{let Et=new(function($t){switch($t){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(bt))(_t),Tt=wt;for(let $t=0;$t<_t;$t++)Et[$t]=this.parseTagValue(bt,nt),nt+=Tt;return Et}}parseTagValue(nt,rt){let{chunk:st}=this;switch(nt){case 1:return st.getUint8(rt);case 3:return st.getUint16(rt);case 4:return st.getUint32(rt);case 5:return st.getUint32(rt)/st.getUint32(rt+4);case 6:return st.getInt8(rt);case 8:return st.getInt16(rt);case 9:return st.getInt32(rt);case 10:return st.getInt32(rt)/st.getInt32(rt+4);case 11:return st.getFloat(rt);case 12:return st.getDouble(rt);case 13:return st.getUint32(rt);default:g$2(`Invalid tiff type ${nt}`)}}}class fe extends ce{static canHandle(nt,rt){return nt.getUint8(rt+1)===225&&nt.getUint32(rt+4)===1165519206&&nt.getUint16(rt+8)===0}async parse(){this.parseHeader();let{options:nt}=this;return nt.ifd0.enabled&&await this.parseIfd0Block(),nt.exif.enabled&&await this.safeParse("parseExifBlock"),nt.gps.enabled&&await this.safeParse("parseGpsBlock"),nt.interop.enabled&&await this.safeParse("parseInteropBlock"),nt.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(nt){let rt=this[nt]();return rt.catch!==void 0&&(rt=rt.catch(this.handleError)),rt}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let nt=this.chunk.getUint16(this.ifd0Offset),rt=this.ifd0Offset+2+12*nt;this.ifd1Offset=this.chunk.getUint32(rt)}}parseBlock(nt,rt){let st=new Map;return this[rt]=st,this.parseTags(nt,rt,st),st}async parseIfd0Block(){if(this.ifd0)return;let{file:nt}=this;this.findIfd0Offset(),this.ifd0Offset<8&&g$2("Malformed EXIF data"),!nt.chunked&&this.ifd0Offset>nt.byteLength&&g$2(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${nt.byteLength}`),nt.tiff&&await nt.ensureChunk(this.ifd0Offset,S$1(this.options));let rt=this.parseBlock(this.ifd0Offset,"ifd0");return rt.size!==0?(this.exifOffset=rt.get(34665),this.interopOffset=rt.get(40965),this.gpsOffset=rt.get(34853),this.xmp=rt.get(700),this.iptc=rt.get(33723),this.icc=rt.get(34675),this.options.sanitize&&(rt.delete(34665),rt.delete(40965),rt.delete(34853),rt.delete(700),rt.delete(33723),rt.delete(34675)),rt):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,S$1(this.options));let nt=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=nt.get(40965)),this.makerNote=nt.get(37500),this.userComment=nt.get(37510),this.options.sanitize&&(nt.delete(40965),nt.delete(37500),nt.delete(37510)),this.unpack(nt,41728),this.unpack(nt,41729),nt}unpack(nt,rt){let st=nt.get(rt);st&&st.length===1&&nt.set(rt,st[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let nt=this.parseBlock(this.gpsOffset,"gps");return nt&&nt.has(2)&&nt.has(4)&&(nt.set("latitude",de(...nt.get(2),nt.get(1))),nt.set("longitude",de(...nt.get(4),nt.get(3)))),nt}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(nt=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||nt))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let nt=this.ifd1.get(513),rt=this.ifd1.get(514);return this.chunk.getUint8Array(nt,rt)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let nt,rt,st,vt={};for(rt of H$2)if(nt=this[rt],!p$2(nt))if(st=this.canTranslate?this.translateBlock(nt,rt):Object.fromEntries(nt),this.options.mergeOutput){if(rt==="ifd1")continue;Object.assign(vt,st)}else vt[rt]=st;return this.makerNote&&(vt.makerNote=this.makerNote),this.userComment&&(vt.userComment=this.userComment),vt}assignToOutput(nt,rt){if(this.globalOptions.mergeOutput)Object.assign(nt,rt);else for(let[st,vt]of Object.entries(rt))this.assignObjectToOutput(nt,st,vt)}}function de(it,nt,rt,st){var vt=it+nt/60+rt/3600;return st!=="S"&&st!=="W"||(vt*=-1),vt}c$3(fe,"type","tiff"),c$3(fe,"headerLength",10),T$2.set("tiff",fe);var pe=Object.freeze({__proto__:null,default:ne,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie});const ge={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},me=Object.assign({},ge,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Se(it){let nt=new te(me);await nt.read(it);let rt=await nt.parse();if(rt&&rt.gps){let{latitude:st,longitude:vt}=rt.gps;return{latitude:st,longitude:vt}}}const Ce=Object.assign({},ge,{tiff:!1,ifd1:!0,mergeOutput:!1});async function ye(it){let nt=new te(Ce);await nt.read(it);let rt=await nt.extractThumbnail();return rt&&a$3?s$5.from(rt):rt}async function be(it){let nt=await this.thumbnail(it);if(nt!==void 0){let rt=new Blob([nt]);return URL.createObjectURL(rt)}}const Ie=Object.assign({},ge,{firstChunkSize:4e4,ifd0:[274]});async function Pe(it){let nt=new te(Ie);await nt.read(it);let rt=await nt.parse();if(rt&&rt.ifd0)return rt.ifd0[274]}const ke=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let we=!0,Te=!0;if(typeof navigator=="object"){let it=navigator.userAgent;if(it.includes("iPad")||it.includes("iPhone")){let nt=it.match(/OS (\d+)_(\d+)/);if(nt){let[,rt,st]=nt;we=Number(rt)+.1*Number(st)<13.4,Te=!1}}else if(it.includes("OS X 10")){let[,nt]=it.match(/OS X 10[_.](\d+)/);we=Te=Number(nt)<15}if(it.includes("Chrome/")){let[,nt]=it.match(/Chrome\/(\d+)/);we=Te=Number(nt)<81}else if(it.includes("Firefox/")){let[,nt]=it.match(/Firefox\/(\d+)/);we=Te=Number(nt)<77}}async function Ae(it){let nt=await Pe(it);return Object.assign({canvas:we,css:Te},ke[nt])}class De extends I$1{constructor(...nt){super(...nt),c$3(this,"ranges",new Oe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(nt,rt,st){if(nt===0&&this.byteLength===0&&st){let vt=new DataView(st.buffer||st,st.byteOffset,st.byteLength);this._swapDataView(vt)}else{let vt=nt+rt;if(vt>this.byteLength){let{dataView:bt}=this._extend(vt);this._swapDataView(bt)}}}_extend(nt){let rt;rt=a$3?s$5.allocUnsafe(nt):new Uint8Array(nt);let st=new DataView(rt.buffer,rt.byteOffset,rt.byteLength);return rt.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:rt,dataView:st}}subarray(nt,rt,st=!1){return rt=rt||this._lengthToEnd(nt),st&&this._tryExtend(nt,rt),this.ranges.add(nt,rt),super.subarray(nt,rt)}set(nt,rt,st=!1){st&&this._tryExtend(rt,nt.byteLength,nt);let vt=super.set(nt,rt);return this.ranges.add(rt,vt.byteLength),vt}async ensureChunk(nt,rt){this.chunked&&(this.ranges.available(nt,rt)||await this.readChunk(nt,rt))}available(nt,rt){return this.ranges.available(nt,rt)}}class Oe{constructor(){c$3(this,"list",[])}get length(){return this.list.length}add(nt,rt,st=0){let vt=nt+rt,bt=this.list.filter(_t=>xe(nt,_t.offset,vt)||xe(nt,_t.end,vt));if(bt.length>0){nt=Math.min(nt,...bt.map(wt=>wt.offset)),vt=Math.max(vt,...bt.map(wt=>wt.end)),rt=vt-nt;let _t=bt.shift();_t.offset=nt,_t.length=rt,_t.end=vt,this.list=this.list.filter(wt=>!bt.includes(wt))}else this.list.push({offset:nt,length:rt,end:vt})}available(nt,rt){let st=nt+rt;return this.list.some(vt=>vt.offset<=nt&&st<=vt.end)}}function xe(it,nt,rt){return it<=nt&&nt<=rt}class ve extends De{constructor(nt,rt){super(0),c$3(this,"chunksRead",0),this.input=nt,this.options=rt}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(nt=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let rt=this.options.chunkSize,st=await this.readChunk(nt,rt);return!!st&&st.byteLength===rt}async readChunk(nt,rt){if(this.chunksRead++,(rt=this.safeWrapAddress(nt,rt))!==0)return this._readChunk(nt,rt)}safeWrapAddress(nt,rt){return this.size!==void 0&&nt+rt>this.size?Math.max(0,this.size-nt):rt}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}A$2.set("blob",class extends ve{async readWhole(){this.chunked=!1;let it=await R$2(this.input);this._swapArrayBuffer(it)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(it,nt){let rt=nt?it+nt:void 0,st=this.input.slice(it,rt),vt=await R$2(st);return this.set(vt,it,!0)}});var Me=Object.freeze({__proto__:null,default:pe,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie,gpsOnlyOptions:me,gps:Se,thumbnailOnlyOptions:Ce,thumbnail:ye,thumbnailUrl:be,orientationOnlyOptions:Ie,orientation:Pe,rotations:ke,get rotateCanvas(){return we},get rotateCss(){return Te},rotation:Ae});A$2.set("url",class extends ve{async readWhole(){this.chunked=!1;let it=await M$1(this.input);it instanceof ArrayBuffer?this._swapArrayBuffer(it):it instanceof Uint8Array&&this._swapBuffer(it)}async _readChunk(it,nt){let rt=nt?it+nt-1:void 0,st=this.options.httpHeaders||{};(it||rt)&&(st.range=`bytes=${[it,rt].join("-")}`);let vt=await h$3(this.input,{headers:st}),bt=await vt.arrayBuffer(),_t=bt.byteLength;if(vt.status!==416)return _t!==nt&&(this.size=it+_t),this.set(bt,it,!0)}});I$1.prototype.getUint64=function(it){let nt=this.getUint32(it),rt=this.getUint32(it+4);return nt<1048575?nt<<32|rt:typeof r$2!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),r$2(nt)<<r$2(32)|r$2(rt)):void g$2("Trying to read 64b value but JS can only handle 53b numbers.")};class Re extends se{parseBoxes(nt=0){let rt=[];for(;nt<this.file.byteLength-4;){let st=this.parseBoxHead(nt);if(rt.push(st),st.length===0)break;nt+=st.length}return rt}parseSubBoxes(nt){nt.boxes=this.parseBoxes(nt.start)}findBox(nt,rt){return nt.boxes===void 0&&this.parseSubBoxes(nt),nt.boxes.find(st=>st.kind===rt)}parseBoxHead(nt){let rt=this.file.getUint32(nt),st=this.file.getString(nt+4,4),vt=nt+8;return rt===1&&(rt=this.file.getUint64(nt+8),vt+=8),{offset:nt,length:rt,kind:st,start:vt}}parseBoxFullHead(nt){if(nt.version!==void 0)return;let rt=this.file.getUint32(nt.start);nt.version=rt>>24,nt.start+=4}}class Le extends Re{static canHandle(nt,rt){if(rt!==0)return!1;let st=nt.getUint16(2);if(st>50)return!1;let vt=16,bt=[];for(;vt<st;)bt.push(nt.getString(vt,4)),vt+=4;return bt.includes(this.type)}async parse(){let nt=this.file.getUint32(0),rt=this.parseBoxHead(nt);for(;rt.kind!=="meta";)nt+=rt.length,await this.file.ensureChunk(nt,16),rt=this.parseBoxHead(nt);await this.file.ensureChunk(rt.offset,rt.length),this.parseBoxFullHead(rt),this.parseSubBoxes(rt),this.options.icc.enabled&&await this.findIcc(rt),this.options.tiff.enabled&&await this.findExif(rt)}async registerSegment(nt,rt,st){await this.file.ensureChunk(rt,st);let vt=this.file.subarray(rt,st);this.createParser(nt,vt)}async findIcc(nt){let rt=this.findBox(nt,"iprp");if(rt===void 0)return;let st=this.findBox(rt,"ipco");if(st===void 0)return;let vt=this.findBox(st,"colr");vt!==void 0&&await this.registerSegment("icc",vt.offset+12,vt.length)}async findExif(nt){let rt=this.findBox(nt,"iinf");if(rt===void 0)return;let st=this.findBox(nt,"iloc");if(st===void 0)return;let vt=this.findExifLocIdInIinf(rt),bt=this.findExtentInIloc(st,vt);if(bt===void 0)return;let[_t,wt]=bt;await this.file.ensureChunk(_t,wt);let Et=4+this.file.getUint32(_t);_t+=Et,wt-=Et,await this.registerSegment("tiff",_t,wt)}findExifLocIdInIinf(nt){this.parseBoxFullHead(nt);let rt,st,vt,bt,_t=nt.start,wt=this.file.getUint16(_t);for(_t+=2;wt--;){if(rt=this.parseBoxHead(_t),this.parseBoxFullHead(rt),st=rt.start,rt.version>=2&&(vt=rt.version===3?4:2,bt=this.file.getString(st+vt+2,4),bt==="Exif"))return this.file.getUintBytes(st,vt);_t+=rt.length}}get8bits(nt){let rt=this.file.getUint8(nt);return[rt>>4,15&rt]}findExtentInIloc(nt,rt){this.parseBoxFullHead(nt);let st=nt.start,[vt,bt]=this.get8bits(st++),[_t,wt]=this.get8bits(st++),Et=nt.version===2?4:2,Tt=nt.version===1||nt.version===2?2:0,$t=wt+vt+bt,Dt=nt.version===2?4:2,Lt=this.file.getUintBytes(st,Dt);for(st+=Dt;Lt--;){let Bt=this.file.getUintBytes(st,Et);st+=Et+Tt+2+_t;let Ht=this.file.getUint16(st);if(st+=2,Bt===rt)return Ht>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(st+wt,vt),this.file.getUintBytes(st+wt+vt,bt)];st+=Ht*$t}}}class Ue extends Le{}c$3(Ue,"type","heic");class Fe extends Le{}c$3(Fe,"type","avif"),w$1.set("heic",Ue),w$1.set("avif",Fe),U(E$1,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),U(E$1,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),U(E$1,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),U(B,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Ee=U(B,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Be={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Ee.set(37392,Be),Ee.set(41488,Be);const Ne={0:"Normal",1:"Low",2:"High"};function Ge(it){return typeof it=="object"&&it.length!==void 0?it[0]:it}function Ve(it){let nt=Array.from(it).slice(1);return nt[1]>15&&(nt=nt.map(rt=>String.fromCharCode(rt))),nt[2]!=="0"&&nt[2]!==0||nt.pop(),nt.join(".")}function ze(it){if(typeof it=="string"){var[nt,rt,st,vt,bt,_t]=it.trim().split(/[-: ]/g).map(Number),wt=new Date(nt,rt-1,st);return Number.isNaN(vt)||Number.isNaN(bt)||Number.isNaN(_t)||(wt.setHours(vt),wt.setMinutes(bt),wt.setSeconds(_t)),Number.isNaN(+wt)?it:wt}}function He(it){if(typeof it=="string")return it;let nt=[];if(it[1]===0&&it[it.length-1]===0)for(let rt=0;rt<it.length;rt+=2)nt.push(je(it[rt+1],it[rt]));else for(let rt=0;rt<it.length;rt+=2)nt.push(je(it[rt],it[rt+1]));return m$3(String.fromCodePoint(...nt))}function je(it,nt){return it<<8|nt}Ee.set(41992,Ne),Ee.set(41993,Ne),Ee.set(41994,Ne),U(N$1,["ifd0","ifd1"],[[50827,function(it){return typeof it!="string"?b$2(it):it}],[306,ze],[40091,He],[40092,He],[40093,He],[40094,He],[40095,He]]),U(N$1,"exif",[[40960,Ve],[36864,Ve],[36867,ze],[36868,ze],[40962,Ge],[40963,Ge]]),U(N$1,"gps",[[0,it=>Array.from(it).join(".")],[7,it=>Array.from(it).join(":")]]);class We extends re$1{static canHandle(nt,rt){return nt.getUint8(rt+1)===225&&nt.getUint32(rt+4)===1752462448&&nt.getString(rt+4,20)==="http://ns.adobe.com/"}static headerLength(nt,rt){return nt.getString(rt+4,34)==="http://ns.adobe.com/xmp/extension/"?79:4+28+1}static findPosition(nt,rt){let st=super.findPosition(nt,rt);return st.multiSegment=st.extended=st.headerLength===79,st.multiSegment?(st.chunkCount=nt.getUint8(rt+72),st.chunkNumber=nt.getUint8(rt+76),nt.getUint8(rt+77)!==0&&st.chunkNumber++):(st.chunkCount=1/0,st.chunkNumber=-1),st}static handleMultiSegments(nt){return nt.map(rt=>rt.chunk.getString()).join("")}normalizeInput(nt){return typeof nt=="string"?nt:I$1.from(nt).getString()}parse(nt=this.chunk){if(!this.localOptions.parse)return nt;nt=function(bt){let _t={},wt={};for(let Et of Ze)_t[Et]=[],wt[Et]=0;return bt.replace(et,(Et,Tt,$t)=>{if(Tt==="<"){let Dt=++wt[$t];return _t[$t].push(Dt),`${Et}#${Dt}`}return`${Et}#${_t[$t].pop()}`})}(nt);let rt=Xe.findAll(nt,"rdf","Description");rt.length===0&&rt.push(new Xe("rdf","Description",void 0,nt));let st,vt={};for(let bt of rt)for(let _t of bt.properties)st=Je(_t.ns,vt),_e(_t,st);return function(bt){let _t;for(let wt in bt)_t=bt[wt]=f$3(bt[wt]),_t===void 0&&delete bt[wt];return f$3(bt)}(vt)}assignToOutput(nt,rt){if(this.localOptions.parse)for(let[st,vt]of Object.entries(rt))switch(st){case"tiff":this.assignObjectToOutput(nt,"ifd0",vt);break;case"exif":this.assignObjectToOutput(nt,"exif",vt);break;case"xmlns":break;default:this.assignObjectToOutput(nt,st,vt)}else nt.xmp=rt}}c$3(We,"type","xmp"),c$3(We,"multiSegment",!0),T$2.set("xmp",We);class Ke{static findAll(nt){return qe(nt,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Ke.unpackMatch)}static unpackMatch(nt){let rt=nt[1],st=nt[2],vt=nt[3].slice(1,-1);return vt=Qe(vt),new Ke(rt,st,vt)}constructor(nt,rt,st){this.ns=nt,this.name=rt,this.value=st}serialize(){return this.value}}class Xe{static findAll(nt,rt,st){if(rt!==void 0||st!==void 0){rt=rt||"[\\w\\d-]+",st=st||"[\\w\\d-]+";var vt=new RegExp(`<(${rt}):(${st})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else vt=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return qe(nt,vt).map(Xe.unpackMatch)}static unpackMatch(nt){let rt=nt[1],st=nt[2],vt=nt[4],bt=nt[8];return new Xe(rt,st,vt,bt)}constructor(nt,rt,st,vt){this.ns=nt,this.name=rt,this.attrString=st,this.innerXml=vt,this.attrs=Ke.findAll(st),this.children=Xe.findAll(vt),this.value=this.children.length===0?Qe(vt):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:nt,name:rt}=this;return nt==="rdf"&&(rt==="Seq"||rt==="Bag"||rt==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return $e(this.children.map(Ye));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let nt={};for(let rt of this.properties)_e(rt,nt);return this.value!==void 0&&(nt.value=this.value),f$3(nt)}}function _e(it,nt){let rt=it.serialize();rt!==void 0&&(nt[it.name]=rt)}var Ye=it=>it.serialize(),$e=it=>it.length===1?it[0]:it,Je=(it,nt)=>nt[it]?nt[it]:nt[it]={};function qe(it,nt){let rt,st=[];if(!it)return st;for(;(rt=nt.exec(it))!==null;)st.push(rt);return st}function Qe(it){if(function(st){return st==null||st==="null"||st==="undefined"||st===""||st.trim()===""}(it))return;let nt=Number(it);if(!Number.isNaN(nt))return nt;let rt=it.toLowerCase();return rt==="true"||rt!=="false"&&it.trim()}const Ze=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],et=new RegExp(`(<|\\/)(${Ze.join("|")})`,"g");var tt=Object.freeze({__proto__:null,default:Me,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie,gpsOnlyOptions:me,gps:Se,thumbnailOnlyOptions:Ce,thumbnail:ye,thumbnailUrl:be,orientationOnlyOptions:Ie,orientation:Pe,rotations:ke,get rotateCanvas(){return we},get rotateCss(){return Te},rotation:Ae});let at=l$4("fs",it=>it.promises);A$2.set("fs",class extends ve{async readWhole(){this.chunked=!1,this.fs=await at;let it=await this.fs.readFile(this.input);this._swapBuffer(it)}async readChunked(){this.chunked=!0,this.fs=await at,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(it,nt){this.fh===void 0&&await this.open(),it+nt>this.size&&(nt=this.size-it);var rt=this.subarray(it,nt,!0);return await this.fh.read(rt.dataView,0,nt,it),rt}async close(){if(this.fh){let it=this.fh;this.fh=void 0,await it.close()}}});A$2.set("base64",class extends ve{constructor(...it){super(...it),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(it,nt){let rt,st,vt=this.input;it===void 0?(it=0,rt=0,st=0):(rt=4*Math.floor(it/3),st=it-rt/4*3),nt===void 0&&(nt=this.size);let bt=it+nt,_t=rt+4*Math.ceil(bt/3);vt=vt.slice(rt,_t);let wt=Math.min(nt,this.size-it);if(a$3){let Et=s$5.from(vt,"base64").slice(st,st+wt);return this.set(Et,it,!0)}{let Et=this.subarray(it,wt,!0),Tt=atob(vt),$t=Et.toUint8();for(let Dt=0;Dt<wt;Dt++)$t[Dt]=Tt.charCodeAt(st+Dt);return Et}}});class ot extends se{static canHandle(nt,rt){return rt===18761||rt===19789}extendOptions(nt){let{ifd0:rt,xmp:st,iptc:vt,icc:bt}=nt;st.enabled&&rt.deps.add(700),vt.enabled&&rt.deps.add(33723),bt.enabled&&rt.deps.add(34675),rt.finalizeFilters()}async parse(){let{tiff:nt,xmp:rt,iptc:st,icc:vt}=this.options;if(nt.enabled||rt.enabled||st.enabled||vt.enabled){let bt=Math.max(S$1(this.options),this.options.chunkSize);await this.file.ensureChunk(0,bt),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(nt){if(this.parsers.tiff[nt]){let rt=this.parsers.tiff[nt];this.injectSegment(nt,rt)}}}c$3(ot,"type","tiff"),w$1.set("tiff",ot);let lt=l$4("zlib");const ht=["ihdr","iccp","text","itxt","exif"];class ut extends se{constructor(...nt){super(...nt),c$3(this,"catchError",rt=>this.errors.push(rt)),c$3(this,"metaChunks",[]),c$3(this,"unknownChunks",[])}static canHandle(nt,rt){return rt===35152&&nt.getUint32(0)===2303741511&&nt.getUint32(4)===218765834}async parse(){let{file:nt}=this;await this.findPngChunksInRange(8,nt.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(nt,rt){let{file:st}=this;for(;nt<rt;){let vt=st.getUint32(nt),bt=st.getUint32(nt+4),_t=st.getString(nt+4,4).toLowerCase(),wt=vt+4+4+4,Et={type:_t,offset:nt,length:wt,start:nt+4+4,size:vt,marker:bt};ht.includes(_t)?this.metaChunks.push(Et):this.unknownChunks.push(Et),nt+=wt}}parseTextChunks(){let nt=this.metaChunks.filter(rt=>rt.type==="text");for(let rt of nt){let[st,vt]=this.file.getString(rt.start,rt.size).split("\0");this.injectKeyValToIhdr(st,vt)}}injectKeyValToIhdr(nt,rt){let st=this.parsers.ihdr;st&&st.raw.set(nt,rt)}findIhdr(){let nt=this.metaChunks.find(rt=>rt.type==="ihdr");nt&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",nt.chunk)}async findExif(){let nt=this.metaChunks.find(rt=>rt.type==="exif");nt&&this.injectSegment("tiff",nt.chunk)}async findXmp(){let nt=this.metaChunks.filter(rt=>rt.type==="itxt");for(let rt of nt)rt.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",rt.chunk)}async findIcc(){let nt=this.metaChunks.find(wt=>wt.type==="iccp");if(!nt)return;let{chunk:rt}=nt,st=rt.getUint8Array(0,81),vt=0;for(;vt<80&&st[vt]!==0;)vt++;let bt=vt+2,_t=rt.getString(0,vt);if(this.injectKeyValToIhdr("ProfileName",_t),n$4){let wt=await lt,Et=rt.getUint8Array(bt);Et=wt.inflateSync(Et),this.injectSegment("icc",Et)}}}c$3(ut,"type","png"),w$1.set("png",ut),U(E$1,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),F(E$1,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let ct=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];F(E$1,"ifd0",ct),F(E$1,"exif",ct),U(B,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class ft extends re$1{static canHandle(nt,rt){return nt.getUint8(rt+1)===224&&nt.getUint32(rt+4)===1246120262&&nt.getUint8(rt+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}c$3(ft,"type","jfif"),c$3(ft,"headerLength",9),T$2.set("jfif",ft),U(E$1,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class dt extends re$1{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}c$3(dt,"type","ihdr"),T$2.set("ihdr",dt),U(E$1,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),U(B,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class pt extends re$1{static canHandle(nt,rt){return nt.getUint8(rt+1)===226&&nt.getUint32(rt+4)===1229144927}static findPosition(nt,rt){let st=super.findPosition(nt,rt);return st.chunkNumber=nt.getUint8(rt+16),st.chunkCount=nt.getUint8(rt+17),st.multiSegment=st.chunkCount>1,st}static handleMultiSegments(nt){return function(rt){let st=function(vt){let bt=vt[0].constructor,_t=0;for(let Tt of vt)_t+=Tt.length;let wt=new bt(_t),Et=0;for(let Tt of vt)wt.set(Tt,Et),Et+=Tt.length;return wt}(rt.map(vt=>vt.chunk.toUint8()));return new I$1(st)}(nt)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:nt}=this;this.chunk.byteLength<84&&g$2("ICC header is too short");for(let[rt,st]of Object.entries(gt)){rt=parseInt(rt,10);let vt=st(this.chunk,rt);vt!=="\0\0\0\0"&&nt.set(rt,vt)}}parseTags(){let nt,rt,st,vt,bt,{raw:_t}=this,wt=this.chunk.getUint32(128),Et=132,Tt=this.chunk.byteLength;for(;wt--;){if(nt=this.chunk.getString(Et,4),rt=this.chunk.getUint32(Et+4),st=this.chunk.getUint32(Et+8),vt=this.chunk.getString(rt,4),rt+st>Tt)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");bt=this.parseTag(vt,rt,st),bt!==void 0&&bt!=="\0\0\0\0"&&_t.set(nt,bt),Et+=12}}parseTag(nt,rt,st){switch(nt){case"desc":return this.parseDesc(rt);case"mluc":return this.parseMluc(rt);case"text":return this.parseText(rt,st);case"sig ":return this.parseSig(rt)}if(!(rt+st>this.chunk.byteLength))return this.chunk.getUint8Array(rt,st)}parseDesc(nt){let rt=this.chunk.getUint32(nt+8)-1;return m$3(this.chunk.getString(nt+12,rt))}parseText(nt,rt){return m$3(this.chunk.getString(nt+8,rt-8))}parseSig(nt){return m$3(this.chunk.getString(nt+8,4))}parseMluc(nt){let{chunk:rt}=this,st=rt.getUint32(nt+8),vt=rt.getUint32(nt+12),bt=nt+16,_t=[];for(let wt=0;wt<st;wt++){let Et=rt.getString(bt+0,2),Tt=rt.getString(bt+2,2),$t=rt.getUint32(bt+4),Dt=rt.getUint32(bt+8)+nt,Lt=m$3(rt.getUnicodeString(Dt,$t));_t.push({lang:Et,country:Tt,text:Lt}),bt+=vt}return st===1?_t[0].text:_t}translateValue(nt,rt){return typeof nt=="string"?rt[nt]||rt[nt.toLowerCase()]||nt:rt[nt]||nt}}c$3(pt,"type","icc"),c$3(pt,"multiSegment",!0),c$3(pt,"headerLength",18);const gt={4:mt,8:function(it,nt){return[it.getUint8(nt),it.getUint8(nt+1)>>4,it.getUint8(nt+1)%16].map(rt=>rt.toString(10)).join(".")},12:mt,16:mt,20:mt,24:function(it,nt){const rt=it.getUint16(nt),st=it.getUint16(nt+2)-1,vt=it.getUint16(nt+4),bt=it.getUint16(nt+6),_t=it.getUint16(nt+8),wt=it.getUint16(nt+10);return new Date(Date.UTC(rt,st,vt,bt,_t,wt))},36:mt,40:mt,48:mt,52:mt,64:(it,nt)=>it.getUint32(nt),80:mt};function mt(it,nt){return m$3(it.getString(nt,4))}T$2.set("icc",pt),U(E$1,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const St={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Ct={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};U(B,"icc",[[4,St],[12,Ct],[40,Object.assign({},St,Ct)],[48,St],[80,St],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class yt extends re$1{static canHandle(nt,rt,st){return nt.getUint8(rt+1)===237&&nt.getString(rt+4,9)==="Photoshop"&&this.containsIptc8bim(nt,rt,st)!==void 0}static headerLength(nt,rt,st){let vt,bt=this.containsIptc8bim(nt,rt,st);if(bt!==void 0)return vt=nt.getUint8(rt+bt+7),vt%2!=0&&(vt+=1),vt===0&&(vt=4),bt+8+vt}static containsIptc8bim(nt,rt,st){for(let vt=0;vt<st;vt++)if(this.isIptcSegmentHead(nt,rt+vt))return vt}static isIptcSegmentHead(nt,rt){return nt.getUint8(rt)===56&&nt.getUint32(rt)===943868237&&nt.getUint16(rt+4)===1028}parse(){let{raw:nt}=this,rt=this.chunk.byteLength-1,st=!1;for(let vt=0;vt<rt;vt++)if(this.chunk.getUint8(vt)===28&&this.chunk.getUint8(vt+1)===2){st=!0;let bt=this.chunk.getUint16(vt+3),_t=this.chunk.getUint8(vt+2),wt=this.chunk.getLatin1String(vt+5,bt);nt.set(_t,this.pluralizeValue(nt.get(_t),wt)),vt+=4+bt}else if(st)break;return this.translate(),this.output}pluralizeValue(nt,rt){return nt!==void 0?nt instanceof Array?(nt.push(rt),nt):[nt,rt]:rt}}c$3(yt,"type","iptc"),c$3(yt,"translateValues",!1),c$3(yt,"reviveValues",!1),T$2.set("iptc",yt),U(E$1,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),U(B,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);class GithubClient{constructor(nt){Ha(this,"authToken");Ha(this,"_shas",{});this.authToken=nt}b64EncodeUnicode(nt){return btoa(encodeURIComponent(nt).replace(/%([0-9A-F]{2})/g,function(rt,st){return String.fromCharCode(parseInt(st,16))}))}b64DecodeUnicode(nt){return decodeURIComponent(Array.prototype.map.call(atob(nt),function(rt){return"%"+("00"+rt.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(nt=>nt.json())}async isCollaborator(nt,rt,st){let vt=`https://api.github.com/repos/${nt}/${rt}/collaborators/${st}`,bt=await fetch(vt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return bt.ok&&bt.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(nt=>nt.json())}repos(nt="",rt=""){let st=nt?`users/${nt}`:rt?`orgs/${rt}`:"user";return fetch(`https://api.github.com/${st}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(vt=>vt.json())}async createRepository({org:nt=null,name:rt="",description:st="",auto_init:vt=!0}){let bt=nt?`https://api.github.com/orgs/${nt}/repos`:"https://api.github.com/user/repos";console.log(`createUserRepository: org=${nt} name=${rt} description=${st} auto_init=${vt} url=${bt}`);let _t=await fetch(bt,{method:"POST",body:JSON.stringify({name:rt,description:st,auto_init:vt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:_t.status,statusText:_t.statusText}}branches(nt,rt){return fetch(`https://api.github.com/repos/${nt}/${rt}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(st=>st.json())}async getFile(nt,rt,st,vt){let bt,_t=`https://api.github.com/repos/${nt}/${rt}/contents/${st}`;vt&&(_t+=`?ref=${vt}`);let wt=await fetch(_t,{cache:"no-cache",headers:{Authorization:`Token ${this.authToken}`}});return wt.ok&&(wt=await wt.json(),bt=decodeURIComponent(escape(atob(wt.content)))),Promise.resolve({content:bt,sha:wt.sha})}async getSha(nt,rt,st,vt){console.log(`getSha: acct=${nt} repo=${rt} path=${st} ref=${vt}`);let bt=`https://api.github.com/repos/${nt}/${rt}/contents/${st}`;vt&&(bt+=`?ref=${vt}`);let _t=await fetch(bt,{headers:{Authorization:`Token ${this.authToken}`}});return _t.ok&&(_t=await _t.json()),_t.sha}async putFile(nt,rt,st,vt,bt,_t=!1,wt=""){let Et=`https://api.github.com/repos/${nt}/${rt}/contents/${st}`,Tt=`${nt}/${rt}/${bt}/${st}`;wt=wt||this._shas[Tt]||await this.getSha(nt,rt,st,bt),console.log(`putFile: acct=${nt} repo=${rt} path=${st} ref=${bt} sha=${wt} isBinaryString=${_t}`);let $t={message:"API commit",content:_t?btoa(vt):this.b64EncodeUnicode(vt)};bt&&($t.branch=bt),wt&&($t.sha=wt);let Dt=await fetch(Et,{method:"PUT",body:JSON.stringify($t),headers:{Authorization:`Token ${this.authToken}`}});if(Dt.ok){let Lt=await Dt.json();this._shas[Tt]=Lt.content.sha}else console.log(Dt);return{status:Dt.status,statusText:Dt.statusText}}async deleteFile(nt,rt,st,vt,bt=""){console.log(`deleteFile: acct=${nt} repo=${rt} path=${st} sha=${bt}`),bt=bt||await this.getSha(nt,rt,st,vt);let _t=`https://api.github.com/repos/${nt}/${rt}/contents/${st}`,wt={message:"API commit",sha:bt},Et=await fetch(_t,{method:"DELETE",body:JSON.stringify(wt),headers:{Authorization:`Token ${this.authToken}`}});Et=await Et.json()}async defaultBranch(nt,rt){let st=null,vt=`https://api.github.com/repos/${nt}/${rt}`,bt=await fetch(vt,{headers:{Authorization:`Token ${this.authToken}`}});return bt.ok&&(bt=await bt.json(),st=bt.default_branch),st}async dirlist(nt,rt,st,vt){var Tt;st=st||"",vt=vt||await this.defaultBranch(nt,rt);let bt=[],_t=`https://api.github.com/repos/${nt}/${rt}/git/trees/${vt}`,wt={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},Et=st.split("/").filter($t=>$t);for(let $t=0;$t<Et.length;$t++){let Dt=await fetch(_t,{headers:wt}),Lt=Dt.ok?await Dt.json():{},Bt=Lt?(Tt=Lt.tree)==null?void 0:Tt.find(Ht=>Ht.path===Et[$t]):null;if(_t=Bt?Bt.url:null,!_t)break}if(_t){let $t=await fetch(_t,{headers:wt});bt=(($t.ok?await $t.json():{}).tree||[]).map(Lt=>({name:Lt.path,sha:Lt.sha,type:Lt.type==="tree"?"dir":"file"}))}return bt}async fullPath(nt,rt,st,vt,bt=!1){let _t=st.split("/").filter($t=>$t),wt=_t[_t.length-1],Et=await this.dirlist(nt,rt,_t.join("/"),vt);if(Et.length===0&&(_t.pop(),Et=await this.dirlist(nt,rt,_t.join("/"),vt)),!bt){let $t=[wt,`${wt}.md`,"README.md"];for(let Dt=0;Dt<$t.length;Dt++)if(Et.find(Lt=>Lt.type==="file"&&Lt.name===$t[Dt])){_t.push($t[Dt]);break}}return _t.join("/")}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing$1(it){return typeof it>"u"||it===null}function isObject$2(it){return typeof it=="object"&&it!==null}function toArray$1(it){return Array.isArray(it)?it:isNothing$1(it)?[]:[it]}function extend$2(it,nt){var rt,st,vt,bt;if(nt)for(bt=Object.keys(nt),rt=0,st=bt.length;rt<st;rt+=1)vt=bt[rt],it[vt]=nt[vt];return it}function repeat$1(it,nt){var rt="",st;for(st=0;st<nt;st+=1)rt+=it;return rt}function isNegativeZero$1(it){return it===0&&Number.NEGATIVE_INFINITY===1/it}var isNothing_1$1=isNothing$1,isObject_1$1=isObject$2,toArray_1$1=toArray$1,repeat_1$1=repeat$1,isNegativeZero_1$1=isNegativeZero$1,extend_1$1=extend$2,common$2={isNothing:isNothing_1$1,isObject:isObject_1$1,toArray:toArray_1$1,repeat:repeat_1$1,isNegativeZero:isNegativeZero_1$1,extend:extend_1$1};function formatError$1(it,nt){var rt="",st=it.reason||"(unknown reason)";return it.mark?(it.mark.name&&(rt+='in "'+it.mark.name+'" '),rt+="("+(it.mark.line+1)+":"+(it.mark.column+1)+")",!nt&&it.mark.snippet&&(rt+=`

`+it.mark.snippet),st+" "+rt):st}function YAMLException$1$1(it,nt){Error.call(this),this.name="YAMLException",this.reason=it,this.mark=nt,this.message=formatError$1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1$1.prototype=Object.create(Error.prototype);YAMLException$1$1.prototype.constructor=YAMLException$1$1;YAMLException$1$1.prototype.toString=function(nt){return this.name+": "+formatError$1(this,nt)};var exception$1=YAMLException$1$1;function getLine$1(it,nt,rt,st,vt){var bt="",_t="",wt=Math.floor(vt/2)-1;return st-nt>wt&&(bt=" ... ",nt=st-wt+bt.length),rt-st>wt&&(_t=" ...",rt=st+wt-_t.length),{str:bt+it.slice(nt,rt).replace(/\t/g,"\u2192")+_t,pos:st-nt+bt.length}}function padStart$1(it,nt){return common$2.repeat(" ",nt-it.length)+it}function makeSnippet$1(it,nt){if(nt=Object.create(nt||null),!it.buffer)return null;nt.maxLength||(nt.maxLength=79),typeof nt.indent!="number"&&(nt.indent=1),typeof nt.linesBefore!="number"&&(nt.linesBefore=3),typeof nt.linesAfter!="number"&&(nt.linesAfter=2);for(var rt=/\r?\n|\r|\0/g,st=[0],vt=[],bt,_t=-1;bt=rt.exec(it.buffer);)vt.push(bt.index),st.push(bt.index+bt[0].length),it.position<=bt.index&&_t<0&&(_t=st.length-2);_t<0&&(_t=st.length-1);var wt="",Et,Tt,$t=Math.min(it.line+nt.linesAfter,vt.length).toString().length,Dt=nt.maxLength-(nt.indent+$t+3);for(Et=1;Et<=nt.linesBefore&&!(_t-Et<0);Et++)Tt=getLine$1(it.buffer,st[_t-Et],vt[_t-Et],it.position-(st[_t]-st[_t-Et]),Dt),wt=common$2.repeat(" ",nt.indent)+padStart$1((it.line-Et+1).toString(),$t)+" | "+Tt.str+`
`+wt;for(Tt=getLine$1(it.buffer,st[_t],vt[_t],it.position,Dt),wt+=common$2.repeat(" ",nt.indent)+padStart$1((it.line+1).toString(),$t)+" | "+Tt.str+`
`,wt+=common$2.repeat("-",nt.indent+$t+3+Tt.pos)+`^
`,Et=1;Et<=nt.linesAfter&&!(_t+Et>=vt.length);Et++)Tt=getLine$1(it.buffer,st[_t+Et],vt[_t+Et],it.position-(st[_t]-st[_t+Et]),Dt),wt+=common$2.repeat(" ",nt.indent)+padStart$1((it.line+Et+1).toString(),$t)+" | "+Tt.str+`
`;return wt.replace(/\n$/,"")}var snippet$1=makeSnippet$1,TYPE_CONSTRUCTOR_OPTIONS$1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS$1=["scalar","sequence","mapping"];function compileStyleAliases$1(it){var nt={};return it!==null&&Object.keys(it).forEach(function(rt){it[rt].forEach(function(st){nt[String(st)]=rt})}),nt}function Type$1$1(it,nt){if(nt=nt||{},Object.keys(nt).forEach(function(rt){if(TYPE_CONSTRUCTOR_OPTIONS$1.indexOf(rt)===-1)throw new exception$1('Unknown option "'+rt+'" is met in definition of "'+it+'" YAML type.')}),this.options=nt,this.tag=it,this.kind=nt.kind||null,this.resolve=nt.resolve||function(){return!0},this.construct=nt.construct||function(rt){return rt},this.instanceOf=nt.instanceOf||null,this.predicate=nt.predicate||null,this.represent=nt.represent||null,this.representName=nt.representName||null,this.defaultStyle=nt.defaultStyle||null,this.multi=nt.multi||!1,this.styleAliases=compileStyleAliases$1(nt.styleAliases||null),YAML_NODE_KINDS$1.indexOf(this.kind)===-1)throw new exception$1('Unknown kind "'+this.kind+'" is specified for "'+it+'" YAML type.')}var type$1=Type$1$1;function compileList$1(it,nt){var rt=[];return it[nt].forEach(function(st){var vt=rt.length;rt.forEach(function(bt,_t){bt.tag===st.tag&&bt.kind===st.kind&&bt.multi===st.multi&&(vt=_t)}),rt[vt]=st}),rt}function compileMap$1(){var it={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},nt,rt;function st(vt){vt.multi?(it.multi[vt.kind].push(vt),it.multi.fallback.push(vt)):it[vt.kind][vt.tag]=it.fallback[vt.tag]=vt}for(nt=0,rt=arguments.length;nt<rt;nt+=1)arguments[nt].forEach(st);return it}function Schema$1$1(it){return this.extend(it)}Schema$1$1.prototype.extend=function(nt){var rt=[],st=[];if(nt instanceof type$1)st.push(nt);else if(Array.isArray(nt))st=st.concat(nt);else if(nt&&(Array.isArray(nt.implicit)||Array.isArray(nt.explicit)))nt.implicit&&(rt=rt.concat(nt.implicit)),nt.explicit&&(st=st.concat(nt.explicit));else throw new exception$1("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");rt.forEach(function(bt){if(!(bt instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(bt.loadKind&&bt.loadKind!=="scalar")throw new exception$1("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(bt.multi)throw new exception$1("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),st.forEach(function(bt){if(!(bt instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var vt=Object.create(Schema$1$1.prototype);return vt.implicit=(this.implicit||[]).concat(rt),vt.explicit=(this.explicit||[]).concat(st),vt.compiledImplicit=compileList$1(vt,"implicit"),vt.compiledExplicit=compileList$1(vt,"explicit"),vt.compiledTypeMap=compileMap$1(vt.compiledImplicit,vt.compiledExplicit),vt};var schema$1=Schema$1$1,str$1=new type$1("tag:yaml.org,2002:str",{kind:"scalar",construct:function(it){return it!==null?it:""}}),seq$2=new type$1("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(it){return it!==null?it:[]}}),map$3=new type$1("tag:yaml.org,2002:map",{kind:"mapping",construct:function(it){return it!==null?it:{}}}),failsafe$1=new schema$1({explicit:[str$1,seq$2,map$3]});function resolveYamlNull$1(it){if(it===null)return!0;var nt=it.length;return nt===1&&it==="~"||nt===4&&(it==="null"||it==="Null"||it==="NULL")}function constructYamlNull$1(){return null}function isNull$1(it){return it===null}var _null$1=new type$1("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull$1,construct:constructYamlNull$1,predicate:isNull$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean$1(it){if(it===null)return!1;var nt=it.length;return nt===4&&(it==="true"||it==="True"||it==="TRUE")||nt===5&&(it==="false"||it==="False"||it==="FALSE")}function constructYamlBoolean$1(it){return it==="true"||it==="True"||it==="TRUE"}function isBoolean$1(it){return Object.prototype.toString.call(it)==="[object Boolean]"}var bool$1=new type$1("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean$1,construct:constructYamlBoolean$1,predicate:isBoolean$1,represent:{lowercase:function(it){return it?"true":"false"},uppercase:function(it){return it?"TRUE":"FALSE"},camelcase:function(it){return it?"True":"False"}},defaultStyle:"lowercase"});function isHexCode$1(it){return 48<=it&&it<=57||65<=it&&it<=70||97<=it&&it<=102}function isOctCode$1(it){return 48<=it&&it<=55}function isDecCode$1(it){return 48<=it&&it<=57}function resolveYamlInteger$1(it){if(it===null)return!1;var nt=it.length,rt=0,st=!1,vt;if(!nt)return!1;if(vt=it[rt],(vt==="-"||vt==="+")&&(vt=it[++rt]),vt==="0"){if(rt+1===nt)return!0;if(vt=it[++rt],vt==="b"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(vt!=="0"&&vt!=="1")return!1;st=!0}return st&&vt!=="_"}if(vt==="x"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isHexCode$1(it.charCodeAt(rt)))return!1;st=!0}return st&&vt!=="_"}if(vt==="o"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isOctCode$1(it.charCodeAt(rt)))return!1;st=!0}return st&&vt!=="_"}}if(vt==="_")return!1;for(;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isDecCode$1(it.charCodeAt(rt)))return!1;st=!0}return!(!st||vt==="_")}function constructYamlInteger$1(it){var nt=it,rt=1,st;if(nt.indexOf("_")!==-1&&(nt=nt.replace(/_/g,"")),st=nt[0],(st==="-"||st==="+")&&(st==="-"&&(rt=-1),nt=nt.slice(1),st=nt[0]),nt==="0")return 0;if(st==="0"){if(nt[1]==="b")return rt*parseInt(nt.slice(2),2);if(nt[1]==="x")return rt*parseInt(nt.slice(2),16);if(nt[1]==="o")return rt*parseInt(nt.slice(2),8)}return rt*parseInt(nt,10)}function isInteger$2(it){return Object.prototype.toString.call(it)==="[object Number]"&&it%1===0&&!common$2.isNegativeZero(it)}var int$1=new type$1("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger$1,construct:constructYamlInteger$1,predicate:isInteger$2,represent:{binary:function(it){return it>=0?"0b"+it.toString(2):"-0b"+it.toString(2).slice(1)},octal:function(it){return it>=0?"0o"+it.toString(8):"-0o"+it.toString(8).slice(1)},decimal:function(it){return it.toString(10)},hexadecimal:function(it){return it>=0?"0x"+it.toString(16).toUpperCase():"-0x"+it.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN$1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat$1(it){return!(it===null||!YAML_FLOAT_PATTERN$1.test(it)||it[it.length-1]==="_")}function constructYamlFloat$1(it){var nt,rt;return nt=it.replace(/_/g,"").toLowerCase(),rt=nt[0]==="-"?-1:1,"+-".indexOf(nt[0])>=0&&(nt=nt.slice(1)),nt===".inf"?rt===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:nt===".nan"?NaN:rt*parseFloat(nt,10)}var SCIENTIFIC_WITHOUT_DOT$1=/^[-+]?[0-9]+e/;function representYamlFloat$1(it,nt){var rt;if(isNaN(it))switch(nt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===it)switch(nt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===it)switch(nt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(it))return"-0.0";return rt=it.toString(10),SCIENTIFIC_WITHOUT_DOT$1.test(rt)?rt.replace("e",".e"):rt}function isFloat$1(it){return Object.prototype.toString.call(it)==="[object Number]"&&(it%1!==0||common$2.isNegativeZero(it))}var float$1=new type$1("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat$1,construct:constructYamlFloat$1,predicate:isFloat$1,represent:representYamlFloat$1,defaultStyle:"lowercase"}),json$1=failsafe$1.extend({implicit:[_null$1,bool$1,int$1,float$1]}),core$1=json$1,YAML_DATE_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp$1(it){return it===null?!1:YAML_DATE_REGEXP$1.exec(it)!==null||YAML_TIMESTAMP_REGEXP$1.exec(it)!==null}function constructYamlTimestamp$1(it){var nt,rt,st,vt,bt,_t,wt,Et=0,Tt=null,$t,Dt,Lt;if(nt=YAML_DATE_REGEXP$1.exec(it),nt===null&&(nt=YAML_TIMESTAMP_REGEXP$1.exec(it)),nt===null)throw new Error("Date resolve error");if(rt=+nt[1],st=+nt[2]-1,vt=+nt[3],!nt[4])return new Date(Date.UTC(rt,st,vt));if(bt=+nt[4],_t=+nt[5],wt=+nt[6],nt[7]){for(Et=nt[7].slice(0,3);Et.length<3;)Et+="0";Et=+Et}return nt[9]&&($t=+nt[10],Dt=+(nt[11]||0),Tt=($t*60+Dt)*6e4,nt[9]==="-"&&(Tt=-Tt)),Lt=new Date(Date.UTC(rt,st,vt,bt,_t,wt,Et)),Tt&&Lt.setTime(Lt.getTime()-Tt),Lt}function representYamlTimestamp$1(it){return it.toISOString()}var timestamp$1=new type$1("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp$1,construct:constructYamlTimestamp$1,instanceOf:Date,represent:representYamlTimestamp$1});function resolveYamlMerge$1(it){return it==="<<"||it===null}var merge$4=new type$1("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge$1}),BASE64_MAP$1=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary$1(it){if(it===null)return!1;var nt,rt,st=0,vt=it.length,bt=BASE64_MAP$1;for(rt=0;rt<vt;rt++)if(nt=bt.indexOf(it.charAt(rt)),!(nt>64)){if(nt<0)return!1;st+=6}return st%8===0}function constructYamlBinary$1(it){var nt,rt,st=it.replace(/[\r\n=]/g,""),vt=st.length,bt=BASE64_MAP$1,_t=0,wt=[];for(nt=0;nt<vt;nt++)nt%4===0&&nt&&(wt.push(_t>>16&255),wt.push(_t>>8&255),wt.push(_t&255)),_t=_t<<6|bt.indexOf(st.charAt(nt));return rt=vt%4*6,rt===0?(wt.push(_t>>16&255),wt.push(_t>>8&255),wt.push(_t&255)):rt===18?(wt.push(_t>>10&255),wt.push(_t>>2&255)):rt===12&&wt.push(_t>>4&255),new Uint8Array(wt)}function representYamlBinary$1(it){var nt="",rt=0,st,vt,bt=it.length,_t=BASE64_MAP$1;for(st=0;st<bt;st++)st%3===0&&st&&(nt+=_t[rt>>18&63],nt+=_t[rt>>12&63],nt+=_t[rt>>6&63],nt+=_t[rt&63]),rt=(rt<<8)+it[st];return vt=bt%3,vt===0?(nt+=_t[rt>>18&63],nt+=_t[rt>>12&63],nt+=_t[rt>>6&63],nt+=_t[rt&63]):vt===2?(nt+=_t[rt>>10&63],nt+=_t[rt>>4&63],nt+=_t[rt<<2&63],nt+=_t[64]):vt===1&&(nt+=_t[rt>>2&63],nt+=_t[rt<<4&63],nt+=_t[64],nt+=_t[64]),nt}function isBinary$1(it){return Object.prototype.toString.call(it)==="[object Uint8Array]"}var binary$1=new type$1("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary$1,construct:constructYamlBinary$1,predicate:isBinary$1,represent:representYamlBinary$1}),_hasOwnProperty$3$1=Object.prototype.hasOwnProperty,_toString$2$1=Object.prototype.toString;function resolveYamlOmap$1(it){if(it===null)return!0;var nt=[],rt,st,vt,bt,_t,wt=it;for(rt=0,st=wt.length;rt<st;rt+=1){if(vt=wt[rt],_t=!1,_toString$2$1.call(vt)!=="[object Object]")return!1;for(bt in vt)if(_hasOwnProperty$3$1.call(vt,bt))if(!_t)_t=!0;else return!1;if(!_t)return!1;if(nt.indexOf(bt)===-1)nt.push(bt);else return!1}return!0}function constructYamlOmap$1(it){return it!==null?it:[]}var omap$1=new type$1("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap$1,construct:constructYamlOmap$1}),_toString$1$1=Object.prototype.toString;function resolveYamlPairs$1(it){if(it===null)return!0;var nt,rt,st,vt,bt,_t=it;for(bt=new Array(_t.length),nt=0,rt=_t.length;nt<rt;nt+=1){if(st=_t[nt],_toString$1$1.call(st)!=="[object Object]"||(vt=Object.keys(st),vt.length!==1))return!1;bt[nt]=[vt[0],st[vt[0]]]}return!0}function constructYamlPairs$1(it){if(it===null)return[];var nt,rt,st,vt,bt,_t=it;for(bt=new Array(_t.length),nt=0,rt=_t.length;nt<rt;nt+=1)st=_t[nt],vt=Object.keys(st),bt[nt]=[vt[0],st[vt[0]]];return bt}var pairs$1=new type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs$1,construct:constructYamlPairs$1}),_hasOwnProperty$2$1=Object.prototype.hasOwnProperty;function resolveYamlSet$1(it){if(it===null)return!0;var nt,rt=it;for(nt in rt)if(_hasOwnProperty$2$1.call(rt,nt)&&rt[nt]!==null)return!1;return!0}function constructYamlSet$1(it){return it!==null?it:{}}var set$3=new type$1("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet$1,construct:constructYamlSet$1}),_default$1=core$1.extend({implicit:[timestamp$1,merge$4],explicit:[binary$1,omap$1,pairs$1,set$3]}),_hasOwnProperty$1$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN$1=1,CONTEXT_FLOW_OUT$1=2,CONTEXT_BLOCK_IN$1=3,CONTEXT_BLOCK_OUT$1=4,CHOMPING_CLIP$1=1,CHOMPING_STRIP$1=2,CHOMPING_KEEP$1=3,PATTERN_NON_PRINTABLE$1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS$1=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS$1=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE$1=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI$1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class$1(it){return Object.prototype.toString.call(it)}function is_EOL$1(it){return it===10||it===13}function is_WHITE_SPACE$1(it){return it===9||it===32}function is_WS_OR_EOL$1(it){return it===9||it===32||it===10||it===13}function is_FLOW_INDICATOR$1(it){return it===44||it===91||it===93||it===123||it===125}function fromHexCode$1(it){var nt;return 48<=it&&it<=57?it-48:(nt=it|32,97<=nt&&nt<=102?nt-97+10:-1)}function escapedHexLen$1(it){return it===120?2:it===117?4:it===85?8:0}function fromDecimalCode$1(it){return 48<=it&&it<=57?it-48:-1}function simpleEscapeSequence$1(it){return it===48?"\0":it===97?"\x07":it===98?"\b":it===116||it===9?"	":it===110?`
`:it===118?"\v":it===102?"\f":it===114?"\r":it===101?"\x1B":it===32?" ":it===34?'"':it===47?"/":it===92?"\\":it===78?"\x85":it===95?"\xA0":it===76?"\u2028":it===80?"\u2029":""}function charFromCodepoint$1(it){return it<=65535?String.fromCharCode(it):String.fromCharCode((it-65536>>10)+55296,(it-65536&1023)+56320)}var simpleEscapeCheck$1=new Array(256),simpleEscapeMap$1=new Array(256);for(var i$5=0;i$5<256;i$5++)simpleEscapeCheck$1[i$5]=simpleEscapeSequence$1(i$5)?1:0,simpleEscapeMap$1[i$5]=simpleEscapeSequence$1(i$5);function State$1$1(it,nt){this.input=it,this.filename=nt.filename||null,this.schema=nt.schema||_default$1,this.onWarning=nt.onWarning||null,this.legacy=nt.legacy||!1,this.json=nt.json||!1,this.listener=nt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=it.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError$1(it,nt){var rt={name:it.filename,buffer:it.input.slice(0,-1),position:it.position,line:it.line,column:it.position-it.lineStart};return rt.snippet=snippet$1(rt),new exception$1(nt,rt)}function throwError$1(it,nt){throw generateError$1(it,nt)}function throwWarning$1(it,nt){it.onWarning&&it.onWarning.call(null,generateError$1(it,nt))}var directiveHandlers$1={YAML:function(nt,rt,st){var vt,bt,_t;nt.version!==null&&throwError$1(nt,"duplication of %YAML directive"),st.length!==1&&throwError$1(nt,"YAML directive accepts exactly one argument"),vt=/^([0-9]+)\.([0-9]+)$/.exec(st[0]),vt===null&&throwError$1(nt,"ill-formed argument of the YAML directive"),bt=parseInt(vt[1],10),_t=parseInt(vt[2],10),bt!==1&&throwError$1(nt,"unacceptable YAML version of the document"),nt.version=st[0],nt.checkLineBreaks=_t<2,_t!==1&&_t!==2&&throwWarning$1(nt,"unsupported YAML version of the document")},TAG:function(nt,rt,st){var vt,bt;st.length!==2&&throwError$1(nt,"TAG directive accepts exactly two arguments"),vt=st[0],bt=st[1],PATTERN_TAG_HANDLE$1.test(vt)||throwError$1(nt,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1$1.call(nt.tagMap,vt)&&throwError$1(nt,'there is a previously declared suffix for "'+vt+'" tag handle'),PATTERN_TAG_URI$1.test(bt)||throwError$1(nt,"ill-formed tag prefix (second argument) of the TAG directive");try{bt=decodeURIComponent(bt)}catch{throwError$1(nt,"tag prefix is malformed: "+bt)}nt.tagMap[vt]=bt}};function captureSegment$1(it,nt,rt,st){var vt,bt,_t,wt;if(nt<rt){if(wt=it.input.slice(nt,rt),st)for(vt=0,bt=wt.length;vt<bt;vt+=1)_t=wt.charCodeAt(vt),_t===9||32<=_t&&_t<=1114111||throwError$1(it,"expected valid JSON character");else PATTERN_NON_PRINTABLE$1.test(wt)&&throwError$1(it,"the stream contains non-printable characters");it.result+=wt}}function mergeMappings$1(it,nt,rt,st){var vt,bt,_t,wt;for(common$2.isObject(rt)||throwError$1(it,"cannot merge mappings; the provided source object is unacceptable"),vt=Object.keys(rt),_t=0,wt=vt.length;_t<wt;_t+=1)bt=vt[_t],_hasOwnProperty$1$1.call(nt,bt)||(nt[bt]=rt[bt],st[bt]=!0)}function storeMappingPair$1(it,nt,rt,st,vt,bt,_t,wt,Et){var Tt,$t;if(Array.isArray(vt))for(vt=Array.prototype.slice.call(vt),Tt=0,$t=vt.length;Tt<$t;Tt+=1)Array.isArray(vt[Tt])&&throwError$1(it,"nested arrays are not supported inside keys"),typeof vt=="object"&&_class$1(vt[Tt])==="[object Object]"&&(vt[Tt]="[object Object]");if(typeof vt=="object"&&_class$1(vt)==="[object Object]"&&(vt="[object Object]"),vt=String(vt),nt===null&&(nt={}),st==="tag:yaml.org,2002:merge")if(Array.isArray(bt))for(Tt=0,$t=bt.length;Tt<$t;Tt+=1)mergeMappings$1(it,nt,bt[Tt],rt);else mergeMappings$1(it,nt,bt,rt);else!it.json&&!_hasOwnProperty$1$1.call(rt,vt)&&_hasOwnProperty$1$1.call(nt,vt)&&(it.line=_t||it.line,it.lineStart=wt||it.lineStart,it.position=Et||it.position,throwError$1(it,"duplicated mapping key")),vt==="__proto__"?Object.defineProperty(nt,vt,{configurable:!0,enumerable:!0,writable:!0,value:bt}):nt[vt]=bt,delete rt[vt];return nt}function readLineBreak$1(it){var nt;nt=it.input.charCodeAt(it.position),nt===10?it.position++:nt===13?(it.position++,it.input.charCodeAt(it.position)===10&&it.position++):throwError$1(it,"a line break is expected"),it.line+=1,it.lineStart=it.position,it.firstTabInLine=-1}function skipSeparationSpace$1(it,nt,rt){for(var st=0,vt=it.input.charCodeAt(it.position);vt!==0;){for(;is_WHITE_SPACE$1(vt);)vt===9&&it.firstTabInLine===-1&&(it.firstTabInLine=it.position),vt=it.input.charCodeAt(++it.position);if(nt&&vt===35)do vt=it.input.charCodeAt(++it.position);while(vt!==10&&vt!==13&&vt!==0);if(is_EOL$1(vt))for(readLineBreak$1(it),vt=it.input.charCodeAt(it.position),st++,it.lineIndent=0;vt===32;)it.lineIndent++,vt=it.input.charCodeAt(++it.position);else break}return rt!==-1&&st!==0&&it.lineIndent<rt&&throwWarning$1(it,"deficient indentation"),st}function testDocumentSeparator$1(it){var nt=it.position,rt;return rt=it.input.charCodeAt(nt),!!((rt===45||rt===46)&&rt===it.input.charCodeAt(nt+1)&&rt===it.input.charCodeAt(nt+2)&&(nt+=3,rt=it.input.charCodeAt(nt),rt===0||is_WS_OR_EOL$1(rt)))}function writeFoldedLines$1(it,nt){nt===1?it.result+=" ":nt>1&&(it.result+=common$2.repeat(`
`,nt-1))}function readPlainScalar$1(it,nt,rt){var st,vt,bt,_t,wt,Et,Tt,$t,Dt=it.kind,Lt=it.result,Bt;if(Bt=it.input.charCodeAt(it.position),is_WS_OR_EOL$1(Bt)||is_FLOW_INDICATOR$1(Bt)||Bt===35||Bt===38||Bt===42||Bt===33||Bt===124||Bt===62||Bt===39||Bt===34||Bt===37||Bt===64||Bt===96||(Bt===63||Bt===45)&&(vt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL$1(vt)||rt&&is_FLOW_INDICATOR$1(vt)))return!1;for(it.kind="scalar",it.result="",bt=_t=it.position,wt=!1;Bt!==0;){if(Bt===58){if(vt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL$1(vt)||rt&&is_FLOW_INDICATOR$1(vt))break}else if(Bt===35){if(st=it.input.charCodeAt(it.position-1),is_WS_OR_EOL$1(st))break}else{if(it.position===it.lineStart&&testDocumentSeparator$1(it)||rt&&is_FLOW_INDICATOR$1(Bt))break;if(is_EOL$1(Bt))if(Et=it.line,Tt=it.lineStart,$t=it.lineIndent,skipSeparationSpace$1(it,!1,-1),it.lineIndent>=nt){wt=!0,Bt=it.input.charCodeAt(it.position);continue}else{it.position=_t,it.line=Et,it.lineStart=Tt,it.lineIndent=$t;break}}wt&&(captureSegment$1(it,bt,_t,!1),writeFoldedLines$1(it,it.line-Et),bt=_t=it.position,wt=!1),is_WHITE_SPACE$1(Bt)||(_t=it.position+1),Bt=it.input.charCodeAt(++it.position)}return captureSegment$1(it,bt,_t,!1),it.result?!0:(it.kind=Dt,it.result=Lt,!1)}function readSingleQuotedScalar$1(it,nt){var rt,st,vt;if(rt=it.input.charCodeAt(it.position),rt!==39)return!1;for(it.kind="scalar",it.result="",it.position++,st=vt=it.position;(rt=it.input.charCodeAt(it.position))!==0;)if(rt===39)if(captureSegment$1(it,st,it.position,!0),rt=it.input.charCodeAt(++it.position),rt===39)st=it.position,it.position++,vt=it.position;else return!0;else is_EOL$1(rt)?(captureSegment$1(it,st,vt,!0),writeFoldedLines$1(it,skipSeparationSpace$1(it,!1,nt)),st=vt=it.position):it.position===it.lineStart&&testDocumentSeparator$1(it)?throwError$1(it,"unexpected end of the document within a single quoted scalar"):(it.position++,vt=it.position);throwError$1(it,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar$1(it,nt){var rt,st,vt,bt,_t,wt;if(wt=it.input.charCodeAt(it.position),wt!==34)return!1;for(it.kind="scalar",it.result="",it.position++,rt=st=it.position;(wt=it.input.charCodeAt(it.position))!==0;){if(wt===34)return captureSegment$1(it,rt,it.position,!0),it.position++,!0;if(wt===92){if(captureSegment$1(it,rt,it.position,!0),wt=it.input.charCodeAt(++it.position),is_EOL$1(wt))skipSeparationSpace$1(it,!1,nt);else if(wt<256&&simpleEscapeCheck$1[wt])it.result+=simpleEscapeMap$1[wt],it.position++;else if((_t=escapedHexLen$1(wt))>0){for(vt=_t,bt=0;vt>0;vt--)wt=it.input.charCodeAt(++it.position),(_t=fromHexCode$1(wt))>=0?bt=(bt<<4)+_t:throwError$1(it,"expected hexadecimal character");it.result+=charFromCodepoint$1(bt),it.position++}else throwError$1(it,"unknown escape sequence");rt=st=it.position}else is_EOL$1(wt)?(captureSegment$1(it,rt,st,!0),writeFoldedLines$1(it,skipSeparationSpace$1(it,!1,nt)),rt=st=it.position):it.position===it.lineStart&&testDocumentSeparator$1(it)?throwError$1(it,"unexpected end of the document within a double quoted scalar"):(it.position++,st=it.position)}throwError$1(it,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection$1(it,nt){var rt=!0,st,vt,bt,_t=it.tag,wt,Et=it.anchor,Tt,$t,Dt,Lt,Bt,Ht=Object.create(null),Ut,It,jt,Wt;if(Wt=it.input.charCodeAt(it.position),Wt===91)$t=93,Bt=!1,wt=[];else if(Wt===123)$t=125,Bt=!0,wt={};else return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=wt),Wt=it.input.charCodeAt(++it.position);Wt!==0;){if(skipSeparationSpace$1(it,!0,nt),Wt=it.input.charCodeAt(it.position),Wt===$t)return it.position++,it.tag=_t,it.anchor=Et,it.kind=Bt?"mapping":"sequence",it.result=wt,!0;rt?Wt===44&&throwError$1(it,"expected the node content, but found ','"):throwError$1(it,"missed comma between flow collection entries"),It=Ut=jt=null,Dt=Lt=!1,Wt===63&&(Tt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL$1(Tt)&&(Dt=Lt=!0,it.position++,skipSeparationSpace$1(it,!0,nt))),st=it.line,vt=it.lineStart,bt=it.position,composeNode$1(it,nt,CONTEXT_FLOW_IN$1,!1,!0),It=it.tag,Ut=it.result,skipSeparationSpace$1(it,!0,nt),Wt=it.input.charCodeAt(it.position),(Lt||it.line===st)&&Wt===58&&(Dt=!0,Wt=it.input.charCodeAt(++it.position),skipSeparationSpace$1(it,!0,nt),composeNode$1(it,nt,CONTEXT_FLOW_IN$1,!1,!0),jt=it.result),Bt?storeMappingPair$1(it,wt,Ht,It,Ut,jt,st,vt,bt):Dt?wt.push(storeMappingPair$1(it,null,Ht,It,Ut,jt,st,vt,bt)):wt.push(Ut),skipSeparationSpace$1(it,!0,nt),Wt=it.input.charCodeAt(it.position),Wt===44?(rt=!0,Wt=it.input.charCodeAt(++it.position)):rt=!1}throwError$1(it,"unexpected end of the stream within a flow collection")}function readBlockScalar$1(it,nt){var rt,st,vt=CHOMPING_CLIP$1,bt=!1,_t=!1,wt=nt,Et=0,Tt=!1,$t,Dt;if(Dt=it.input.charCodeAt(it.position),Dt===124)st=!1;else if(Dt===62)st=!0;else return!1;for(it.kind="scalar",it.result="";Dt!==0;)if(Dt=it.input.charCodeAt(++it.position),Dt===43||Dt===45)CHOMPING_CLIP$1===vt?vt=Dt===43?CHOMPING_KEEP$1:CHOMPING_STRIP$1:throwError$1(it,"repeat of a chomping mode identifier");else if(($t=fromDecimalCode$1(Dt))>=0)$t===0?throwError$1(it,"bad explicit indentation width of a block scalar; it cannot be less than one"):_t?throwError$1(it,"repeat of an indentation width identifier"):(wt=nt+$t-1,_t=!0);else break;if(is_WHITE_SPACE$1(Dt)){do Dt=it.input.charCodeAt(++it.position);while(is_WHITE_SPACE$1(Dt));if(Dt===35)do Dt=it.input.charCodeAt(++it.position);while(!is_EOL$1(Dt)&&Dt!==0)}for(;Dt!==0;){for(readLineBreak$1(it),it.lineIndent=0,Dt=it.input.charCodeAt(it.position);(!_t||it.lineIndent<wt)&&Dt===32;)it.lineIndent++,Dt=it.input.charCodeAt(++it.position);if(!_t&&it.lineIndent>wt&&(wt=it.lineIndent),is_EOL$1(Dt)){Et++;continue}if(it.lineIndent<wt){vt===CHOMPING_KEEP$1?it.result+=common$2.repeat(`
`,bt?1+Et:Et):vt===CHOMPING_CLIP$1&&bt&&(it.result+=`
`);break}for(st?is_WHITE_SPACE$1(Dt)?(Tt=!0,it.result+=common$2.repeat(`
`,bt?1+Et:Et)):Tt?(Tt=!1,it.result+=common$2.repeat(`
`,Et+1)):Et===0?bt&&(it.result+=" "):it.result+=common$2.repeat(`
`,Et):it.result+=common$2.repeat(`
`,bt?1+Et:Et),bt=!0,_t=!0,Et=0,rt=it.position;!is_EOL$1(Dt)&&Dt!==0;)Dt=it.input.charCodeAt(++it.position);captureSegment$1(it,rt,it.position,!1)}return!0}function readBlockSequence$1(it,nt){var rt,st=it.tag,vt=it.anchor,bt=[],_t,wt=!1,Et;if(it.firstTabInLine!==-1)return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=bt),Et=it.input.charCodeAt(it.position);Et!==0&&(it.firstTabInLine!==-1&&(it.position=it.firstTabInLine,throwError$1(it,"tab characters must not be used in indentation")),!(Et!==45||(_t=it.input.charCodeAt(it.position+1),!is_WS_OR_EOL$1(_t))));){if(wt=!0,it.position++,skipSeparationSpace$1(it,!0,-1)&&it.lineIndent<=nt){bt.push(null),Et=it.input.charCodeAt(it.position);continue}if(rt=it.line,composeNode$1(it,nt,CONTEXT_BLOCK_IN$1,!1,!0),bt.push(it.result),skipSeparationSpace$1(it,!0,-1),Et=it.input.charCodeAt(it.position),(it.line===rt||it.lineIndent>nt)&&Et!==0)throwError$1(it,"bad indentation of a sequence entry");else if(it.lineIndent<nt)break}return wt?(it.tag=st,it.anchor=vt,it.kind="sequence",it.result=bt,!0):!1}function readBlockMapping$1(it,nt,rt){var st,vt,bt,_t,wt,Et,Tt=it.tag,$t=it.anchor,Dt={},Lt=Object.create(null),Bt=null,Ht=null,Ut=null,It=!1,jt=!1,Wt;if(it.firstTabInLine!==-1)return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=Dt),Wt=it.input.charCodeAt(it.position);Wt!==0;){if(!It&&it.firstTabInLine!==-1&&(it.position=it.firstTabInLine,throwError$1(it,"tab characters must not be used in indentation")),st=it.input.charCodeAt(it.position+1),bt=it.line,(Wt===63||Wt===58)&&is_WS_OR_EOL$1(st))Wt===63?(It&&(storeMappingPair$1(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),Bt=Ht=Ut=null),jt=!0,It=!0,vt=!0):It?(It=!1,vt=!0):throwError$1(it,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),it.position+=1,Wt=st;else{if(_t=it.line,wt=it.lineStart,Et=it.position,!composeNode$1(it,rt,CONTEXT_FLOW_OUT$1,!1,!0))break;if(it.line===bt){for(Wt=it.input.charCodeAt(it.position);is_WHITE_SPACE$1(Wt);)Wt=it.input.charCodeAt(++it.position);if(Wt===58)Wt=it.input.charCodeAt(++it.position),is_WS_OR_EOL$1(Wt)||throwError$1(it,"a whitespace character is expected after the key-value separator within a block mapping"),It&&(storeMappingPair$1(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),Bt=Ht=Ut=null),jt=!0,It=!1,vt=!1,Bt=it.tag,Ht=it.result;else if(jt)throwError$1(it,"can not read an implicit mapping pair; a colon is missed");else return it.tag=Tt,it.anchor=$t,!0}else if(jt)throwError$1(it,"can not read a block mapping entry; a multiline key may not be an implicit key");else return it.tag=Tt,it.anchor=$t,!0}if((it.line===bt||it.lineIndent>nt)&&(It&&(_t=it.line,wt=it.lineStart,Et=it.position),composeNode$1(it,nt,CONTEXT_BLOCK_OUT$1,!0,vt)&&(It?Ht=it.result:Ut=it.result),It||(storeMappingPair$1(it,Dt,Lt,Bt,Ht,Ut,_t,wt,Et),Bt=Ht=Ut=null),skipSeparationSpace$1(it,!0,-1),Wt=it.input.charCodeAt(it.position)),(it.line===bt||it.lineIndent>nt)&&Wt!==0)throwError$1(it,"bad indentation of a mapping entry");else if(it.lineIndent<nt)break}return It&&storeMappingPair$1(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),jt&&(it.tag=Tt,it.anchor=$t,it.kind="mapping",it.result=Dt),jt}function readTagProperty$1(it){var nt,rt=!1,st=!1,vt,bt,_t;if(_t=it.input.charCodeAt(it.position),_t!==33)return!1;if(it.tag!==null&&throwError$1(it,"duplication of a tag property"),_t=it.input.charCodeAt(++it.position),_t===60?(rt=!0,_t=it.input.charCodeAt(++it.position)):_t===33?(st=!0,vt="!!",_t=it.input.charCodeAt(++it.position)):vt="!",nt=it.position,rt){do _t=it.input.charCodeAt(++it.position);while(_t!==0&&_t!==62);it.position<it.length?(bt=it.input.slice(nt,it.position),_t=it.input.charCodeAt(++it.position)):throwError$1(it,"unexpected end of the stream within a verbatim tag")}else{for(;_t!==0&&!is_WS_OR_EOL$1(_t);)_t===33&&(st?throwError$1(it,"tag suffix cannot contain exclamation marks"):(vt=it.input.slice(nt-1,it.position+1),PATTERN_TAG_HANDLE$1.test(vt)||throwError$1(it,"named tag handle cannot contain such characters"),st=!0,nt=it.position+1)),_t=it.input.charCodeAt(++it.position);bt=it.input.slice(nt,it.position),PATTERN_FLOW_INDICATORS$1.test(bt)&&throwError$1(it,"tag suffix cannot contain flow indicator characters")}bt&&!PATTERN_TAG_URI$1.test(bt)&&throwError$1(it,"tag name cannot contain such characters: "+bt);try{bt=decodeURIComponent(bt)}catch{throwError$1(it,"tag name is malformed: "+bt)}return rt?it.tag=bt:_hasOwnProperty$1$1.call(it.tagMap,vt)?it.tag=it.tagMap[vt]+bt:vt==="!"?it.tag="!"+bt:vt==="!!"?it.tag="tag:yaml.org,2002:"+bt:throwError$1(it,'undeclared tag handle "'+vt+'"'),!0}function readAnchorProperty$1(it){var nt,rt;if(rt=it.input.charCodeAt(it.position),rt!==38)return!1;for(it.anchor!==null&&throwError$1(it,"duplication of an anchor property"),rt=it.input.charCodeAt(++it.position),nt=it.position;rt!==0&&!is_WS_OR_EOL$1(rt)&&!is_FLOW_INDICATOR$1(rt);)rt=it.input.charCodeAt(++it.position);return it.position===nt&&throwError$1(it,"name of an anchor node must contain at least one character"),it.anchor=it.input.slice(nt,it.position),!0}function readAlias$1(it){var nt,rt,st;if(st=it.input.charCodeAt(it.position),st!==42)return!1;for(st=it.input.charCodeAt(++it.position),nt=it.position;st!==0&&!is_WS_OR_EOL$1(st)&&!is_FLOW_INDICATOR$1(st);)st=it.input.charCodeAt(++it.position);return it.position===nt&&throwError$1(it,"name of an alias node must contain at least one character"),rt=it.input.slice(nt,it.position),_hasOwnProperty$1$1.call(it.anchorMap,rt)||throwError$1(it,'unidentified alias "'+rt+'"'),it.result=it.anchorMap[rt],skipSeparationSpace$1(it,!0,-1),!0}function composeNode$1(it,nt,rt,st,vt){var bt,_t,wt,Et=1,Tt=!1,$t=!1,Dt,Lt,Bt,Ht,Ut,It;if(it.listener!==null&&it.listener("open",it),it.tag=null,it.anchor=null,it.kind=null,it.result=null,bt=_t=wt=CONTEXT_BLOCK_OUT$1===rt||CONTEXT_BLOCK_IN$1===rt,st&&skipSeparationSpace$1(it,!0,-1)&&(Tt=!0,it.lineIndent>nt?Et=1:it.lineIndent===nt?Et=0:it.lineIndent<nt&&(Et=-1)),Et===1)for(;readTagProperty$1(it)||readAnchorProperty$1(it);)skipSeparationSpace$1(it,!0,-1)?(Tt=!0,wt=bt,it.lineIndent>nt?Et=1:it.lineIndent===nt?Et=0:it.lineIndent<nt&&(Et=-1)):wt=!1;if(wt&&(wt=Tt||vt),(Et===1||CONTEXT_BLOCK_OUT$1===rt)&&(CONTEXT_FLOW_IN$1===rt||CONTEXT_FLOW_OUT$1===rt?Ut=nt:Ut=nt+1,It=it.position-it.lineStart,Et===1?wt&&(readBlockSequence$1(it,It)||readBlockMapping$1(it,It,Ut))||readFlowCollection$1(it,Ut)?$t=!0:(_t&&readBlockScalar$1(it,Ut)||readSingleQuotedScalar$1(it,Ut)||readDoubleQuotedScalar$1(it,Ut)?$t=!0:readAlias$1(it)?($t=!0,(it.tag!==null||it.anchor!==null)&&throwError$1(it,"alias node should not have any properties")):readPlainScalar$1(it,Ut,CONTEXT_FLOW_IN$1===rt)&&($t=!0,it.tag===null&&(it.tag="?")),it.anchor!==null&&(it.anchorMap[it.anchor]=it.result)):Et===0&&($t=wt&&readBlockSequence$1(it,It))),it.tag===null)it.anchor!==null&&(it.anchorMap[it.anchor]=it.result);else if(it.tag==="?"){for(it.result!==null&&it.kind!=="scalar"&&throwError$1(it,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+it.kind+'"'),Dt=0,Lt=it.implicitTypes.length;Dt<Lt;Dt+=1)if(Ht=it.implicitTypes[Dt],Ht.resolve(it.result)){it.result=Ht.construct(it.result),it.tag=Ht.tag,it.anchor!==null&&(it.anchorMap[it.anchor]=it.result);break}}else if(it.tag!=="!"){if(_hasOwnProperty$1$1.call(it.typeMap[it.kind||"fallback"],it.tag))Ht=it.typeMap[it.kind||"fallback"][it.tag];else for(Ht=null,Bt=it.typeMap.multi[it.kind||"fallback"],Dt=0,Lt=Bt.length;Dt<Lt;Dt+=1)if(it.tag.slice(0,Bt[Dt].tag.length)===Bt[Dt].tag){Ht=Bt[Dt];break}Ht||throwError$1(it,"unknown tag !<"+it.tag+">"),it.result!==null&&Ht.kind!==it.kind&&throwError$1(it,"unacceptable node kind for !<"+it.tag+'> tag; it should be "'+Ht.kind+'", not "'+it.kind+'"'),Ht.resolve(it.result,it.tag)?(it.result=Ht.construct(it.result,it.tag),it.anchor!==null&&(it.anchorMap[it.anchor]=it.result)):throwError$1(it,"cannot resolve a node with !<"+it.tag+"> explicit tag")}return it.listener!==null&&it.listener("close",it),it.tag!==null||it.anchor!==null||$t}function readDocument$1(it){var nt=it.position,rt,st,vt,bt=!1,_t;for(it.version=null,it.checkLineBreaks=it.legacy,it.tagMap=Object.create(null),it.anchorMap=Object.create(null);(_t=it.input.charCodeAt(it.position))!==0&&(skipSeparationSpace$1(it,!0,-1),_t=it.input.charCodeAt(it.position),!(it.lineIndent>0||_t!==37));){for(bt=!0,_t=it.input.charCodeAt(++it.position),rt=it.position;_t!==0&&!is_WS_OR_EOL$1(_t);)_t=it.input.charCodeAt(++it.position);for(st=it.input.slice(rt,it.position),vt=[],st.length<1&&throwError$1(it,"directive name must not be less than one character in length");_t!==0;){for(;is_WHITE_SPACE$1(_t);)_t=it.input.charCodeAt(++it.position);if(_t===35){do _t=it.input.charCodeAt(++it.position);while(_t!==0&&!is_EOL$1(_t));break}if(is_EOL$1(_t))break;for(rt=it.position;_t!==0&&!is_WS_OR_EOL$1(_t);)_t=it.input.charCodeAt(++it.position);vt.push(it.input.slice(rt,it.position))}_t!==0&&readLineBreak$1(it),_hasOwnProperty$1$1.call(directiveHandlers$1,st)?directiveHandlers$1[st](it,st,vt):throwWarning$1(it,'unknown document directive "'+st+'"')}if(skipSeparationSpace$1(it,!0,-1),it.lineIndent===0&&it.input.charCodeAt(it.position)===45&&it.input.charCodeAt(it.position+1)===45&&it.input.charCodeAt(it.position+2)===45?(it.position+=3,skipSeparationSpace$1(it,!0,-1)):bt&&throwError$1(it,"directives end mark is expected"),composeNode$1(it,it.lineIndent-1,CONTEXT_BLOCK_OUT$1,!1,!0),skipSeparationSpace$1(it,!0,-1),it.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS$1.test(it.input.slice(nt,it.position))&&throwWarning$1(it,"non-ASCII line breaks are interpreted as content"),it.documents.push(it.result),it.position===it.lineStart&&testDocumentSeparator$1(it)){it.input.charCodeAt(it.position)===46&&(it.position+=3,skipSeparationSpace$1(it,!0,-1));return}if(it.position<it.length-1)throwError$1(it,"end of the stream or a document separator is expected");else return}function loadDocuments$1(it,nt){it=String(it),nt=nt||{},it.length!==0&&(it.charCodeAt(it.length-1)!==10&&it.charCodeAt(it.length-1)!==13&&(it+=`
`),it.charCodeAt(0)===65279&&(it=it.slice(1)));var rt=new State$1$1(it,nt),st=it.indexOf("\0");for(st!==-1&&(rt.position=st,throwError$1(rt,"null byte is not allowed in input")),rt.input+="\0";rt.input.charCodeAt(rt.position)===32;)rt.lineIndent+=1,rt.position+=1;for(;rt.position<rt.length-1;)readDocument$1(rt);return rt.documents}function loadAll$1$1(it,nt,rt){nt!==null&&typeof nt=="object"&&typeof rt>"u"&&(rt=nt,nt=null);var st=loadDocuments$1(it,rt);if(typeof nt!="function")return st;for(var vt=0,bt=st.length;vt<bt;vt+=1)nt(st[vt])}function load$1$1(it,nt){var rt=loadDocuments$1(it,nt);if(rt.length!==0){if(rt.length===1)return rt[0];throw new exception$1("expected a single document in the stream, but found more")}}var loadAll_1$1=loadAll$1$1,load_1$1=load$1$1,loader$1={loadAll:loadAll_1$1,load:load_1$1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(it,nt){var rt,st,vt,bt,_t,wt,Et;if(nt===null)return{};for(rt={},st=Object.keys(nt),vt=0,bt=st.length;vt<bt;vt+=1)_t=st[vt],wt=String(nt[_t]),_t.slice(0,2)==="!!"&&(_t="tag:yaml.org,2002:"+_t.slice(2)),Et=it.compiledTypeMap.fallback[_t],Et&&_hasOwnProperty.call(Et.styleAliases,wt)&&(wt=Et.styleAliases[wt]),rt[_t]=wt;return rt}function encodeHex(it){var nt,rt,st;if(nt=it.toString(16).toUpperCase(),it<=255)rt="x",st=2;else if(it<=65535)rt="u",st=4;else if(it<=4294967295)rt="U",st=8;else throw new exception$1("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+rt+common$2.repeat("0",st-nt.length)+nt}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(it){this.schema=it.schema||_default$1,this.indent=Math.max(1,it.indent||2),this.noArrayIndent=it.noArrayIndent||!1,this.skipInvalid=it.skipInvalid||!1,this.flowLevel=common$2.isNothing(it.flowLevel)?-1:it.flowLevel,this.styleMap=compileStyleMap(this.schema,it.styles||null),this.sortKeys=it.sortKeys||!1,this.lineWidth=it.lineWidth||80,this.noRefs=it.noRefs||!1,this.noCompatMode=it.noCompatMode||!1,this.condenseFlow=it.condenseFlow||!1,this.quotingType=it.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=it.forceQuotes||!1,this.replacer=typeof it.replacer=="function"?it.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(it,nt){for(var rt=common$2.repeat(" ",nt),st=0,vt=-1,bt="",_t,wt=it.length;st<wt;)vt=it.indexOf(`
`,st),vt===-1?(_t=it.slice(st),st=wt):(_t=it.slice(st,vt+1),st=vt+1),_t.length&&_t!==`
`&&(bt+=rt),bt+=_t;return bt}function generateNextLine(it,nt){return`
`+common$2.repeat(" ",it.indent*nt)}function testImplicitResolving(it,nt){var rt,st,vt;for(rt=0,st=it.implicitTypes.length;rt<st;rt+=1)if(vt=it.implicitTypes[rt],vt.resolve(nt))return!0;return!1}function isWhitespace(it){return it===CHAR_SPACE||it===CHAR_TAB}function isPrintable(it){return 32<=it&&it<=126||161<=it&&it<=55295&&it!==8232&&it!==8233||57344<=it&&it<=65533&&it!==CHAR_BOM||65536<=it&&it<=1114111}function isNsCharOrWhitespace(it){return isPrintable(it)&&it!==CHAR_BOM&&it!==CHAR_CARRIAGE_RETURN&&it!==CHAR_LINE_FEED}function isPlainSafe(it,nt,rt){var st=isNsCharOrWhitespace(it),vt=st&&!isWhitespace(it);return(rt?st:st&&it!==CHAR_COMMA&&it!==CHAR_LEFT_SQUARE_BRACKET&&it!==CHAR_RIGHT_SQUARE_BRACKET&&it!==CHAR_LEFT_CURLY_BRACKET&&it!==CHAR_RIGHT_CURLY_BRACKET)&&it!==CHAR_SHARP&&!(nt===CHAR_COLON&&!vt)||isNsCharOrWhitespace(nt)&&!isWhitespace(nt)&&it===CHAR_SHARP||nt===CHAR_COLON&&vt}function isPlainSafeFirst(it){return isPrintable(it)&&it!==CHAR_BOM&&!isWhitespace(it)&&it!==CHAR_MINUS&&it!==CHAR_QUESTION&&it!==CHAR_COLON&&it!==CHAR_COMMA&&it!==CHAR_LEFT_SQUARE_BRACKET&&it!==CHAR_RIGHT_SQUARE_BRACKET&&it!==CHAR_LEFT_CURLY_BRACKET&&it!==CHAR_RIGHT_CURLY_BRACKET&&it!==CHAR_SHARP&&it!==CHAR_AMPERSAND&&it!==CHAR_ASTERISK&&it!==CHAR_EXCLAMATION&&it!==CHAR_VERTICAL_LINE&&it!==CHAR_EQUALS&&it!==CHAR_GREATER_THAN&&it!==CHAR_SINGLE_QUOTE&&it!==CHAR_DOUBLE_QUOTE&&it!==CHAR_PERCENT&&it!==CHAR_COMMERCIAL_AT&&it!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(it){return!isWhitespace(it)&&it!==CHAR_COLON}function codePointAt(it,nt){var rt=it.charCodeAt(nt),st;return rt>=55296&&rt<=56319&&nt+1<it.length&&(st=it.charCodeAt(nt+1),st>=56320&&st<=57343)?(rt-55296)*1024+st-56320+65536:rt}function needIndentIndicator(it){var nt=/^\n* /;return nt.test(it)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(it,nt,rt,st,vt,bt,_t,wt){var Et,Tt=0,$t=null,Dt=!1,Lt=!1,Bt=st!==-1,Ht=-1,Ut=isPlainSafeFirst(codePointAt(it,0))&&isPlainSafeLast(codePointAt(it,it.length-1));if(nt||_t)for(Et=0;Et<it.length;Tt>=65536?Et+=2:Et++){if(Tt=codePointAt(it,Et),!isPrintable(Tt))return STYLE_DOUBLE;Ut=Ut&&isPlainSafe(Tt,$t,wt),$t=Tt}else{for(Et=0;Et<it.length;Tt>=65536?Et+=2:Et++){if(Tt=codePointAt(it,Et),Tt===CHAR_LINE_FEED)Dt=!0,Bt&&(Lt=Lt||Et-Ht-1>st&&it[Ht+1]!==" ",Ht=Et);else if(!isPrintable(Tt))return STYLE_DOUBLE;Ut=Ut&&isPlainSafe(Tt,$t,wt),$t=Tt}Lt=Lt||Bt&&Et-Ht-1>st&&it[Ht+1]!==" "}return!Dt&&!Lt?Ut&&!_t&&!vt(it)?STYLE_PLAIN:bt===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:rt>9&&needIndentIndicator(it)?STYLE_DOUBLE:_t?bt===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:Lt?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(it,nt,rt,st,vt){it.dump=function(){if(nt.length===0)return it.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!it.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(nt)!==-1||DEPRECATED_BASE60_SYNTAX.test(nt)))return it.quotingType===QUOTING_TYPE_DOUBLE?'"'+nt+'"':"'"+nt+"'";var bt=it.indent*Math.max(1,rt),_t=it.lineWidth===-1?-1:Math.max(Math.min(it.lineWidth,40),it.lineWidth-bt),wt=st||it.flowLevel>-1&&rt>=it.flowLevel;function Et(Tt){return testImplicitResolving(it,Tt)}switch(chooseScalarStyle(nt,wt,it.indent,_t,Et,it.quotingType,it.forceQuotes&&!st,vt)){case STYLE_PLAIN:return nt;case STYLE_SINGLE:return"'"+nt.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(nt,it.indent)+dropEndingNewline(indentString(nt,bt));case STYLE_FOLDED:return">"+blockHeader(nt,it.indent)+dropEndingNewline(indentString(foldString(nt,_t),bt));case STYLE_DOUBLE:return'"'+escapeString(nt)+'"';default:throw new exception$1("impossible error: invalid scalar style")}}()}function blockHeader(it,nt){var rt=needIndentIndicator(it)?String(nt):"",st=it[it.length-1]===`
`,vt=st&&(it[it.length-2]===`
`||it===`
`),bt=vt?"+":st?"":"-";return rt+bt+`
`}function dropEndingNewline(it){return it[it.length-1]===`
`?it.slice(0,-1):it}function foldString(it,nt){for(var rt=/(\n+)([^\n]*)/g,st=function(){var Tt=it.indexOf(`
`);return Tt=Tt!==-1?Tt:it.length,rt.lastIndex=Tt,foldLine(it.slice(0,Tt),nt)}(),vt=it[0]===`
`||it[0]===" ",bt,_t;_t=rt.exec(it);){var wt=_t[1],Et=_t[2];bt=Et[0]===" ",st+=wt+(!vt&&!bt&&Et!==""?`
`:"")+foldLine(Et,nt),vt=bt}return st}function foldLine(it,nt){if(it===""||it[0]===" ")return it;for(var rt=/ [^ ]/g,st,vt=0,bt,_t=0,wt=0,Et="";st=rt.exec(it);)wt=st.index,wt-vt>nt&&(bt=_t>vt?_t:wt,Et+=`
`+it.slice(vt,bt),vt=bt+1),_t=wt;return Et+=`
`,it.length-vt>nt&&_t>vt?Et+=it.slice(vt,_t)+`
`+it.slice(_t+1):Et+=it.slice(vt),Et.slice(1)}function escapeString(it){for(var nt="",rt=0,st,vt=0;vt<it.length;rt>=65536?vt+=2:vt++)rt=codePointAt(it,vt),st=ESCAPE_SEQUENCES[rt],!st&&isPrintable(rt)?(nt+=it[vt],rt>=65536&&(nt+=it[vt+1])):nt+=st||encodeHex(rt);return nt}function writeFlowSequence(it,nt,rt){var st="",vt=it.tag,bt,_t,wt;for(bt=0,_t=rt.length;bt<_t;bt+=1)wt=rt[bt],it.replacer&&(wt=it.replacer.call(rt,String(bt),wt)),(writeNode(it,nt,wt,!1,!1)||typeof wt>"u"&&writeNode(it,nt,null,!1,!1))&&(st!==""&&(st+=","+(it.condenseFlow?"":" ")),st+=it.dump);it.tag=vt,it.dump="["+st+"]"}function writeBlockSequence(it,nt,rt,st){var vt="",bt=it.tag,_t,wt,Et;for(_t=0,wt=rt.length;_t<wt;_t+=1)Et=rt[_t],it.replacer&&(Et=it.replacer.call(rt,String(_t),Et)),(writeNode(it,nt+1,Et,!0,!0,!1,!0)||typeof Et>"u"&&writeNode(it,nt+1,null,!0,!0,!1,!0))&&((!st||vt!=="")&&(vt+=generateNextLine(it,nt)),it.dump&&CHAR_LINE_FEED===it.dump.charCodeAt(0)?vt+="-":vt+="- ",vt+=it.dump);it.tag=bt,it.dump=vt||"[]"}function writeFlowMapping(it,nt,rt){var st="",vt=it.tag,bt=Object.keys(rt),_t,wt,Et,Tt,$t;for(_t=0,wt=bt.length;_t<wt;_t+=1)$t="",st!==""&&($t+=", "),it.condenseFlow&&($t+='"'),Et=bt[_t],Tt=rt[Et],it.replacer&&(Tt=it.replacer.call(rt,Et,Tt)),writeNode(it,nt,Et,!1,!1)&&(it.dump.length>1024&&($t+="? "),$t+=it.dump+(it.condenseFlow?'"':"")+":"+(it.condenseFlow?"":" "),writeNode(it,nt,Tt,!1,!1)&&($t+=it.dump,st+=$t));it.tag=vt,it.dump="{"+st+"}"}function writeBlockMapping(it,nt,rt,st){var vt="",bt=it.tag,_t=Object.keys(rt),wt,Et,Tt,$t,Dt,Lt;if(it.sortKeys===!0)_t.sort();else if(typeof it.sortKeys=="function")_t.sort(it.sortKeys);else if(it.sortKeys)throw new exception$1("sortKeys must be a boolean or a function");for(wt=0,Et=_t.length;wt<Et;wt+=1)Lt="",(!st||vt!=="")&&(Lt+=generateNextLine(it,nt)),Tt=_t[wt],$t=rt[Tt],it.replacer&&($t=it.replacer.call(rt,Tt,$t)),writeNode(it,nt+1,Tt,!0,!0,!0)&&(Dt=it.tag!==null&&it.tag!=="?"||it.dump&&it.dump.length>1024,Dt&&(it.dump&&CHAR_LINE_FEED===it.dump.charCodeAt(0)?Lt+="?":Lt+="? "),Lt+=it.dump,Dt&&(Lt+=generateNextLine(it,nt)),writeNode(it,nt+1,$t,!0,Dt)&&(it.dump&&CHAR_LINE_FEED===it.dump.charCodeAt(0)?Lt+=":":Lt+=": ",Lt+=it.dump,vt+=Lt));it.tag=bt,it.dump=vt||"{}"}function detectType$1(it,nt,rt){var st,vt,bt,_t,wt,Et;for(vt=rt?it.explicitTypes:it.implicitTypes,bt=0,_t=vt.length;bt<_t;bt+=1)if(wt=vt[bt],(wt.instanceOf||wt.predicate)&&(!wt.instanceOf||typeof nt=="object"&&nt instanceof wt.instanceOf)&&(!wt.predicate||wt.predicate(nt))){if(rt?wt.multi&&wt.representName?it.tag=wt.representName(nt):it.tag=wt.tag:it.tag="?",wt.represent){if(Et=it.styleMap[wt.tag]||wt.defaultStyle,_toString.call(wt.represent)==="[object Function]")st=wt.represent(nt,Et);else if(_hasOwnProperty.call(wt.represent,Et))st=wt.represent[Et](nt,Et);else throw new exception$1("!<"+wt.tag+'> tag resolver accepts not "'+Et+'" style');it.dump=st}return!0}return!1}function writeNode(it,nt,rt,st,vt,bt,_t){it.tag=null,it.dump=rt,detectType$1(it,rt,!1)||detectType$1(it,rt,!0);var wt=_toString.call(it.dump),Et=st,Tt;st&&(st=it.flowLevel<0||it.flowLevel>nt);var $t=wt==="[object Object]"||wt==="[object Array]",Dt,Lt;if($t&&(Dt=it.duplicates.indexOf(rt),Lt=Dt!==-1),(it.tag!==null&&it.tag!=="?"||Lt||it.indent!==2&&nt>0)&&(vt=!1),Lt&&it.usedDuplicates[Dt])it.dump="*ref_"+Dt;else{if($t&&Lt&&!it.usedDuplicates[Dt]&&(it.usedDuplicates[Dt]=!0),wt==="[object Object]")st&&Object.keys(it.dump).length!==0?(writeBlockMapping(it,nt,it.dump,vt),Lt&&(it.dump="&ref_"+Dt+it.dump)):(writeFlowMapping(it,nt,it.dump),Lt&&(it.dump="&ref_"+Dt+" "+it.dump));else if(wt==="[object Array]")st&&it.dump.length!==0?(it.noArrayIndent&&!_t&&nt>0?writeBlockSequence(it,nt-1,it.dump,vt):writeBlockSequence(it,nt,it.dump,vt),Lt&&(it.dump="&ref_"+Dt+it.dump)):(writeFlowSequence(it,nt,it.dump),Lt&&(it.dump="&ref_"+Dt+" "+it.dump));else if(wt==="[object String]")it.tag!=="?"&&writeScalar(it,it.dump,nt,bt,Et);else{if(wt==="[object Undefined]")return!1;if(it.skipInvalid)return!1;throw new exception$1("unacceptable kind of an object to dump "+wt)}it.tag!==null&&it.tag!=="?"&&(Tt=encodeURI(it.tag[0]==="!"?it.tag.slice(1):it.tag).replace(/!/g,"%21"),it.tag[0]==="!"?Tt="!"+Tt:Tt.slice(0,18)==="tag:yaml.org,2002:"?Tt="!!"+Tt.slice(18):Tt="!<"+Tt+">",it.dump=Tt+" "+it.dump)}return!0}function getDuplicateReferences(it,nt){var rt=[],st=[],vt,bt;for(inspectNode(it,rt,st),vt=0,bt=st.length;vt<bt;vt+=1)nt.duplicates.push(rt[st[vt]]);nt.usedDuplicates=new Array(bt)}function inspectNode(it,nt,rt){var st,vt,bt;if(it!==null&&typeof it=="object")if(vt=nt.indexOf(it),vt!==-1)rt.indexOf(vt)===-1&&rt.push(vt);else if(nt.push(it),Array.isArray(it))for(vt=0,bt=it.length;vt<bt;vt+=1)inspectNode(it[vt],nt,rt);else for(st=Object.keys(it),vt=0,bt=st.length;vt<bt;vt+=1)inspectNode(it[st[vt]],nt,rt)}function dump$1(it,nt){nt=nt||{};var rt=new State(nt);rt.noRefs||getDuplicateReferences(it,rt);var st=it;return rt.replacer&&(st=rt.replacer.call({"":st},"",st)),writeNode(rt,0,st,!0,!0)?rt.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1};function renamed(it,nt){return function(){throw new Error("Function yaml."+it+" is removed in js-yaml 4. Use yaml."+nt+" instead, which is now safe by default.")}}var Type$3=type$1,Schema=schema$1,FAILSAFE_SCHEMA$1=failsafe$1,JSON_SCHEMA=json$1,CORE_SCHEMA=core$1,DEFAULT_SCHEMA=_default$1,load$2=loader$1.load,loadAll=loader$1.loadAll,dump=dumper.dump,YAMLException=exception$1,types$1={binary:binary$1,float:float$1,map:map$3,null:_null$1,pairs:pairs$1,set:set$3,timestamp:timestamp$1,bool:bool$1,int:int$1,merge:merge$4,omap:omap$1,seq:seq$2,str:str$1},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type:Type$3,Schema,FAILSAFE_SCHEMA:FAILSAFE_SCHEMA$1,JSON_SCHEMA,CORE_SCHEMA,DEFAULT_SCHEMA,load:load$2,loadAll,dump,YAMLException,types:types$1,safeLoad,safeLoadAll,safeDump};function isTabbable(it){const nt=it.tagName.toLowerCase();return it.getAttribute("tabindex")==="-1"||it.hasAttribute("disabled")||it.hasAttribute("aria-disabled")&&it.getAttribute("aria-disabled")!=="false"||nt==="input"&&it.getAttribute("type")==="radio"&&!it.hasAttribute("checked")||it.offsetParent===null||window.getComputedStyle(it).visibility==="hidden"?!1:(nt==="audio"||nt==="video")&&it.hasAttribute("controls")||it.hasAttribute("tabindex")||it.hasAttribute("contenteditable")&&it.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(nt)}function getTabbableBoundary(it){var nt,rt;const st=[];function vt(wt){wt instanceof HTMLElement&&(st.push(wt),wt.shadowRoot!==null&&wt.shadowRoot.mode==="open"&&vt(wt.shadowRoot)),[...wt.children].forEach(Et=>vt(Et))}vt(it);const bt=(nt=st.find(wt=>isTabbable(wt)))!=null?nt:null,_t=(rt=st.reverse().find(wt=>isTabbable(wt)))!=null?rt:null;return{start:bt,end:_t}}var activeModals=[],Modal$1=class{constructor(it){this.tabDirection="forward",this.element=it,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(it=>it!==this.element),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}checkFocus(){if(this.isActive()&&!this.element.matches(":focus-within")){const{start:it,end:nt}=getTabbableBoundary(this.element),rt=this.tabDirection==="forward"?it:nt;typeof(rt==null?void 0:rt.focus)=="function"&&rt.focus({preventScroll:!0})}}handleFocusIn(){this.checkFocus()}handleKeyDown(it){it.key==="Tab"&&it.shiftKey&&(this.tabDirection="backward",requestAnimationFrame(()=>this.checkFocus()))}handleKeyUp(){this.tabDirection="forward"}};function getOffset(it,nt){return{top:Math.round(it.getBoundingClientRect().top-nt.getBoundingClientRect().top),left:Math.round(it.getBoundingClientRect().left-nt.getBoundingClientRect().left)}}var locks=new Set;function lockBodyScrolling(it){locks.add(it),document.body.classList.add("sl-scroll-lock")}function unlockBodyScrolling(it){locks.delete(it),locks.size===0&&document.body.classList.remove("sl-scroll-lock")}function scrollIntoView(it,nt,rt="vertical",st="smooth"){const vt=getOffset(it,nt),bt=vt.top+nt.scrollTop,_t=vt.left+nt.scrollLeft,wt=nt.scrollLeft,Et=nt.scrollLeft+nt.offsetWidth,Tt=nt.scrollTop,$t=nt.scrollTop+nt.offsetHeight;(rt==="horizontal"||rt==="both")&&(_t<wt?nt.scrollTo({left:_t,behavior:st}):_t+it.clientWidth>Et&&nt.scrollTo({left:_t-nt.offsetWidth+it.clientWidth,behavior:st})),(rt==="vertical"||rt==="both")&&(bt<Tt?nt.scrollTo({top:bt,behavior:st}):bt+it.clientHeight>$t&&nt.scrollTo({top:bt-nt.offsetHeight+it.clientHeight,behavior:st}))}var t$3=window,e$3=t$3.ShadowRoot&&(t$3.ShadyCSS===void 0||t$3.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),n$3=new WeakMap,o$2=class{constructor(it,nt,rt){if(this._$cssResult$=!0,rt!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=it,this.t=nt}get styleSheet(){let it=this.o;const nt=this.t;if(e$3&&it===void 0){const rt=nt!==void 0&&nt.length===1;rt&&(it=n$3.get(nt)),it===void 0&&((this.o=it=new CSSStyleSheet).replaceSync(this.cssText),rt&&n$3.set(nt,it))}return it}toString(){return this.cssText}},r$1=it=>new o$2(typeof it=="string"?it:it+"",void 0,s$4),i$4=(it,...nt)=>{const rt=it.length===1?it[0]:nt.reduce((st,vt,bt)=>st+(_t=>{if(_t._$cssResult$===!0)return _t.cssText;if(typeof _t=="number")return _t;throw Error("Value passed to 'css' function must be a 'css' function result: "+_t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(vt)+it[bt+1],it[0]);return new o$2(rt,it,s$4)},S=(it,nt)=>{e$3?it.adoptedStyleSheets=nt.map(rt=>rt instanceof CSSStyleSheet?rt:rt.styleSheet):nt.forEach(rt=>{const st=document.createElement("style"),vt=t$3.litNonce;vt!==void 0&&st.setAttribute("nonce",vt),st.textContent=rt.cssText,it.appendChild(st)})},c$2=e$3?it=>it:it=>it instanceof CSSStyleSheet?(nt=>{let rt="";for(const st of nt.cssRules)rt+=st.cssText;return r$1(rt)})(it):it,s2$1,e2$3=window,r2$1=e2$3.trustedTypes,h$2=r2$1?r2$1.emptyScript:"",o2$2=e2$3.reactiveElementPolyfillSupport,n2$1={toAttribute(it,nt){switch(nt){case Boolean:it=it?h$2:null;break;case Object:case Array:it=it==null?it:JSON.stringify(it)}return it},fromAttribute(it,nt){let rt=it;switch(nt){case Boolean:rt=it!==null;break;case Number:rt=it===null?null:Number(it);break;case Object:case Array:try{rt=JSON.parse(it)}catch{rt=null}}return rt}},a$2=(it,nt)=>nt!==it&&(nt==nt||it==it),l$3={attribute:!0,type:String,converter:n2$1,reflect:!1,hasChanged:a$2},d$2=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(it){var nt;this.finalize(),((nt=this.h)!==null&&nt!==void 0?nt:this.h=[]).push(it)}static get observedAttributes(){this.finalize();const it=[];return this.elementProperties.forEach((nt,rt)=>{const st=this._$Ep(rt,nt);st!==void 0&&(this._$Ev.set(st,rt),it.push(st))}),it}static createProperty(it,nt=l$3){if(nt.state&&(nt.attribute=!1),this.finalize(),this.elementProperties.set(it,nt),!nt.noAccessor&&!this.prototype.hasOwnProperty(it)){const rt=typeof it=="symbol"?Symbol():"__"+it,st=this.getPropertyDescriptor(it,rt,nt);st!==void 0&&Object.defineProperty(this.prototype,it,st)}}static getPropertyDescriptor(it,nt,rt){return{get(){return this[nt]},set(st){const vt=this[it];this[nt]=st,this.requestUpdate(it,vt,rt)},configurable:!0,enumerable:!0}}static getPropertyOptions(it){return this.elementProperties.get(it)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const it=Object.getPrototypeOf(this);if(it.finalize(),it.h!==void 0&&(this.h=[...it.h]),this.elementProperties=new Map(it.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const nt=this.properties,rt=[...Object.getOwnPropertyNames(nt),...Object.getOwnPropertySymbols(nt)];for(const st of rt)this.createProperty(st,nt[st])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(it){const nt=[];if(Array.isArray(it)){const rt=new Set(it.flat(1/0).reverse());for(const st of rt)nt.unshift(c$2(st))}else it!==void 0&&nt.push(c$2(it));return nt}static _$Ep(it,nt){const rt=nt.attribute;return rt===!1?void 0:typeof rt=="string"?rt:typeof it=="string"?it.toLowerCase():void 0}u(){var it;this._$E_=new Promise(nt=>this.enableUpdating=nt),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(it=this.constructor.h)===null||it===void 0||it.forEach(nt=>nt(this))}addController(it){var nt,rt;((nt=this._$ES)!==null&&nt!==void 0?nt:this._$ES=[]).push(it),this.renderRoot!==void 0&&this.isConnected&&((rt=it.hostConnected)===null||rt===void 0||rt.call(it))}removeController(it){var nt;(nt=this._$ES)===null||nt===void 0||nt.splice(this._$ES.indexOf(it)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((it,nt)=>{this.hasOwnProperty(nt)&&(this._$Ei.set(nt,this[nt]),delete this[nt])})}createRenderRoot(){var it;const nt=(it=this.shadowRoot)!==null&&it!==void 0?it:this.attachShadow(this.constructor.shadowRootOptions);return S(nt,this.constructor.elementStyles),nt}connectedCallback(){var it;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(it=this._$ES)===null||it===void 0||it.forEach(nt=>{var rt;return(rt=nt.hostConnected)===null||rt===void 0?void 0:rt.call(nt)})}enableUpdating(it){}disconnectedCallback(){var it;(it=this._$ES)===null||it===void 0||it.forEach(nt=>{var rt;return(rt=nt.hostDisconnected)===null||rt===void 0?void 0:rt.call(nt)})}attributeChangedCallback(it,nt,rt){this._$AK(it,rt)}_$EO(it,nt,rt=l$3){var st;const vt=this.constructor._$Ep(it,rt);if(vt!==void 0&&rt.reflect===!0){const bt=(((st=rt.converter)===null||st===void 0?void 0:st.toAttribute)!==void 0?rt.converter:n2$1).toAttribute(nt,rt.type);this._$El=it,bt==null?this.removeAttribute(vt):this.setAttribute(vt,bt),this._$El=null}}_$AK(it,nt){var rt;const st=this.constructor,vt=st._$Ev.get(it);if(vt!==void 0&&this._$El!==vt){const bt=st.getPropertyOptions(vt),_t=typeof bt.converter=="function"?{fromAttribute:bt.converter}:((rt=bt.converter)===null||rt===void 0?void 0:rt.fromAttribute)!==void 0?bt.converter:n2$1;this._$El=vt,this[vt]=_t.fromAttribute(nt,bt.type),this._$El=null}}requestUpdate(it,nt,rt){let st=!0;it!==void 0&&(((rt=rt||this.constructor.getPropertyOptions(it)).hasChanged||a$2)(this[it],nt)?(this._$AL.has(it)||this._$AL.set(it,nt),rt.reflect===!0&&this._$El!==it&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(it,rt))):st=!1),!this.isUpdatePending&&st&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(nt){Promise.reject(nt)}const it=this.scheduleUpdate();return it!=null&&await it,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var it;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((st,vt)=>this[vt]=st),this._$Ei=void 0);let nt=!1;const rt=this._$AL;try{nt=this.shouldUpdate(rt),nt?(this.willUpdate(rt),(it=this._$ES)===null||it===void 0||it.forEach(st=>{var vt;return(vt=st.hostUpdate)===null||vt===void 0?void 0:vt.call(st)}),this.update(rt)):this._$Ek()}catch(st){throw nt=!1,this._$Ek(),st}nt&&this._$AE(rt)}willUpdate(it){}_$AE(it){var nt;(nt=this._$ES)===null||nt===void 0||nt.forEach(rt=>{var st;return(st=rt.hostUpdated)===null||st===void 0?void 0:st.call(rt)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(it)),this.updated(it)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(it){return!0}update(it){this._$EC!==void 0&&(this._$EC.forEach((nt,rt)=>this._$EO(rt,this[rt],nt)),this._$EC=void 0),this._$Ek()}updated(it){}firstUpdated(it){}};d$2.finalized=!0,d$2.elementProperties=new Map,d$2.elementStyles=[],d$2.shadowRootOptions={mode:"open"},o2$2==null||o2$2({ReactiveElement:d$2}),((s2$1=e2$3.reactiveElementVersions)!==null&&s2$1!==void 0?s2$1:e2$3.reactiveElementVersions=[]).push("1.4.2");var t2$1,i2$3=window,s3=i2$3.trustedTypes,e3$1=s3?s3.createPolicy("lit-html",{createHTML:it=>it}):void 0,o3$1=`lit$${(Math.random()+"").slice(9)}$`,n3="?"+o3$1,l2$2=`<${n3}>`,h2$1=document,r3=(it="")=>h2$1.createComment(it),d2$1=it=>it===null||typeof it!="object"&&typeof it!="function",u$1=Array.isArray,c2$1=it=>u$1(it)||typeof(it==null?void 0:it[Symbol.iterator])=="function",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a2$1=/-->/g,f$2=/>/g,_$1=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m$2=/'/g,p$1=/"/g,$=/^(?:script|style|textarea|title)$/i,g$1=it=>(nt,...rt)=>({_$litType$:it,strings:nt,values:rt}),y$2=g$1(1),x$2=Symbol.for("lit-noChange"),b$1=Symbol.for("lit-nothing"),T$1=new WeakMap,A$1=h2$1.createTreeWalker(h2$1,129,null,!1),E=(it,nt)=>{const rt=it.length-1,st=[];let vt,bt=nt===2?"<svg>":"",_t=v;for(let Et=0;Et<rt;Et++){const Tt=it[Et];let $t,Dt,Lt=-1,Bt=0;for(;Bt<Tt.length&&(_t.lastIndex=Bt,Dt=_t.exec(Tt),Dt!==null);)Bt=_t.lastIndex,_t===v?Dt[1]==="!--"?_t=a2$1:Dt[1]!==void 0?_t=f$2:Dt[2]!==void 0?($.test(Dt[2])&&(vt=RegExp("</"+Dt[2],"g")),_t=_$1):Dt[3]!==void 0&&(_t=_$1):_t===_$1?Dt[0]===">"?(_t=vt!=null?vt:v,Lt=-1):Dt[1]===void 0?Lt=-2:(Lt=_t.lastIndex-Dt[2].length,$t=Dt[1],_t=Dt[3]===void 0?_$1:Dt[3]==='"'?p$1:m$2):_t===p$1||_t===m$2?_t=_$1:_t===a2$1||_t===f$2?_t=v:(_t=_$1,vt=void 0);const Ht=_t===_$1&&it[Et+1].startsWith("/>")?" ":"";bt+=_t===v?Tt+l2$2:Lt>=0?(st.push($t),Tt.slice(0,Lt)+"$lit$"+Tt.slice(Lt)+o3$1+Ht):Tt+o3$1+(Lt===-2?(st.push(void 0),Et):Ht)}const wt=bt+(it[rt]||"<?>")+(nt===2?"</svg>":"");if(!Array.isArray(it)||!it.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e3$1!==void 0?e3$1.createHTML(wt):wt,st]},C$1=class{constructor({strings:it,_$litType$:nt},rt){let st;this.parts=[];let vt=0,bt=0;const _t=it.length-1,wt=this.parts,[Et,Tt]=E(it,nt);if(this.el=C$1.createElement(Et,rt),A$1.currentNode=this.el.content,nt===2){const $t=this.el.content,Dt=$t.firstChild;Dt.remove(),$t.append(...Dt.childNodes)}for(;(st=A$1.nextNode())!==null&&wt.length<_t;){if(st.nodeType===1){if(st.hasAttributes()){const $t=[];for(const Dt of st.getAttributeNames())if(Dt.endsWith("$lit$")||Dt.startsWith(o3$1)){const Lt=Tt[bt++];if($t.push(Dt),Lt!==void 0){const Bt=st.getAttribute(Lt.toLowerCase()+"$lit$").split(o3$1),Ht=/([.?@])?(.*)/.exec(Lt);wt.push({type:1,index:vt,name:Ht[2],strings:Bt,ctor:Ht[1]==="."?M:Ht[1]==="?"?k$1:Ht[1]==="@"?H$1:S2})}else wt.push({type:6,index:vt})}for(const Dt of $t)st.removeAttribute(Dt)}if($.test(st.tagName)){const $t=st.textContent.split(o3$1),Dt=$t.length-1;if(Dt>0){st.textContent=s3?s3.emptyScript:"";for(let Lt=0;Lt<Dt;Lt++)st.append($t[Lt],r3()),A$1.nextNode(),wt.push({type:2,index:++vt});st.append($t[Dt],r3())}}}else if(st.nodeType===8)if(st.data===n3)wt.push({type:2,index:vt});else{let $t=-1;for(;($t=st.data.indexOf(o3$1,$t+1))!==-1;)wt.push({type:7,index:vt}),$t+=o3$1.length-1}vt++}}static createElement(it,nt){const rt=h2$1.createElement("template");return rt.innerHTML=it,rt}};function P(it,nt,rt=it,st){var vt,bt,_t,wt;if(nt===x$2)return nt;let Et=st!==void 0?(vt=rt._$Co)===null||vt===void 0?void 0:vt[st]:rt._$Cl;const Tt=d2$1(nt)?void 0:nt._$litDirective$;return(Et==null?void 0:Et.constructor)!==Tt&&((bt=Et==null?void 0:Et._$AO)===null||bt===void 0||bt.call(Et,!1),Tt===void 0?Et=void 0:(Et=new Tt(it),Et._$AT(it,rt,st)),st!==void 0?((_t=(wt=rt)._$Co)!==null&&_t!==void 0?_t:wt._$Co=[])[st]=Et:rt._$Cl=Et),Et!==void 0&&(nt=P(it,Et._$AS(it,nt.values),Et,st)),nt}var V=class{constructor(it,nt){this.u=[],this._$AN=void 0,this._$AD=it,this._$AM=nt}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(it){var nt;const{el:{content:rt},parts:st}=this._$AD,vt=((nt=it==null?void 0:it.creationScope)!==null&&nt!==void 0?nt:h2$1).importNode(rt,!0);A$1.currentNode=vt;let bt=A$1.nextNode(),_t=0,wt=0,Et=st[0];for(;Et!==void 0;){if(_t===Et.index){let Tt;Et.type===2?Tt=new N(bt,bt.nextSibling,this,it):Et.type===1?Tt=new Et.ctor(bt,Et.name,Et.strings,this,it):Et.type===6&&(Tt=new I(bt,this,it)),this.u.push(Tt),Et=st[++wt]}_t!==(Et==null?void 0:Et.index)&&(bt=A$1.nextNode(),_t++)}return vt}p(it){let nt=0;for(const rt of this.u)rt!==void 0&&(rt.strings!==void 0?(rt._$AI(it,rt,nt),nt+=rt.strings.length-2):rt._$AI(it[nt])),nt++}},N=class{constructor(it,nt,rt,st){var vt;this.type=2,this._$AH=b$1,this._$AN=void 0,this._$AA=it,this._$AB=nt,this._$AM=rt,this.options=st,this._$Cm=(vt=st==null?void 0:st.isConnected)===null||vt===void 0||vt}get _$AU(){var it,nt;return(nt=(it=this._$AM)===null||it===void 0?void 0:it._$AU)!==null&&nt!==void 0?nt:this._$Cm}get parentNode(){let it=this._$AA.parentNode;const nt=this._$AM;return nt!==void 0&&it.nodeType===11&&(it=nt.parentNode),it}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(it,nt=this){it=P(this,it,nt),d2$1(it)?it===b$1||it==null||it===""?(this._$AH!==b$1&&this._$AR(),this._$AH=b$1):it!==this._$AH&&it!==x$2&&this.g(it):it._$litType$!==void 0?this.$(it):it.nodeType!==void 0?this.T(it):c2$1(it)?this.k(it):this.g(it)}O(it,nt=this._$AB){return this._$AA.parentNode.insertBefore(it,nt)}T(it){this._$AH!==it&&(this._$AR(),this._$AH=this.O(it))}g(it){this._$AH!==b$1&&d2$1(this._$AH)?this._$AA.nextSibling.data=it:this.T(h2$1.createTextNode(it)),this._$AH=it}$(it){var nt;const{values:rt,_$litType$:st}=it,vt=typeof st=="number"?this._$AC(it):(st.el===void 0&&(st.el=C$1.createElement(st.h,this.options)),st);if(((nt=this._$AH)===null||nt===void 0?void 0:nt._$AD)===vt)this._$AH.p(rt);else{const bt=new V(vt,this),_t=bt.v(this.options);bt.p(rt),this.T(_t),this._$AH=bt}}_$AC(it){let nt=T$1.get(it.strings);return nt===void 0&&T$1.set(it.strings,nt=new C$1(it)),nt}k(it){u$1(this._$AH)||(this._$AH=[],this._$AR());const nt=this._$AH;let rt,st=0;for(const vt of it)st===nt.length?nt.push(rt=new N(this.O(r3()),this.O(r3()),this,this.options)):rt=nt[st],rt._$AI(vt),st++;st<nt.length&&(this._$AR(rt&&rt._$AB.nextSibling,st),nt.length=st)}_$AR(it=this._$AA.nextSibling,nt){var rt;for((rt=this._$AP)===null||rt===void 0||rt.call(this,!1,!0,nt);it&&it!==this._$AB;){const st=it.nextSibling;it.remove(),it=st}}setConnected(it){var nt;this._$AM===void 0&&(this._$Cm=it,(nt=this._$AP)===null||nt===void 0||nt.call(this,it))}},S2=class{constructor(it,nt,rt,st,vt){this.type=1,this._$AH=b$1,this._$AN=void 0,this.element=it,this.name=nt,this._$AM=st,this.options=vt,rt.length>2||rt[0]!==""||rt[1]!==""?(this._$AH=Array(rt.length-1).fill(new String),this.strings=rt):this._$AH=b$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(it,nt=this,rt,st){const vt=this.strings;let bt=!1;if(vt===void 0)it=P(this,it,nt,0),bt=!d2$1(it)||it!==this._$AH&&it!==x$2,bt&&(this._$AH=it);else{const _t=it;let wt,Et;for(it=vt[0],wt=0;wt<vt.length-1;wt++)Et=P(this,_t[rt+wt],nt,wt),Et===x$2&&(Et=this._$AH[wt]),bt||(bt=!d2$1(Et)||Et!==this._$AH[wt]),Et===b$1?it=b$1:it!==b$1&&(it+=(Et!=null?Et:"")+vt[wt+1]),this._$AH[wt]=Et}bt&&!st&&this.j(it)}j(it){it===b$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,it!=null?it:"")}},M=class extends S2{constructor(){super(...arguments),this.type=3}j(it){this.element[this.name]=it===b$1?void 0:it}},R$1=s3?s3.emptyScript:"",k$1=class extends S2{constructor(){super(...arguments),this.type=4}j(it){it&&it!==b$1?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}},H$1=class extends S2{constructor(it,nt,rt,st,vt){super(it,nt,rt,st,vt),this.type=5}_$AI(it,nt=this){var rt;if((it=(rt=P(this,it,nt,0))!==null&&rt!==void 0?rt:b$1)===x$2)return;const st=this._$AH,vt=it===b$1&&st!==b$1||it.capture!==st.capture||it.once!==st.once||it.passive!==st.passive,bt=it!==b$1&&(st===b$1||vt);vt&&this.element.removeEventListener(this.name,this,st),bt&&this.element.addEventListener(this.name,this,it),this._$AH=it}handleEvent(it){var nt,rt;typeof this._$AH=="function"?this._$AH.call((rt=(nt=this.options)===null||nt===void 0?void 0:nt.host)!==null&&rt!==void 0?rt:this.element,it):this._$AH.handleEvent(it)}},I=class{constructor(it,nt,rt){this.element=it,this.type=6,this._$AN=void 0,this._$AM=nt,this.options=rt}get _$AU(){return this._$AM._$AU}_$AI(it){P(this,it)}},z=i2$3.litHtmlPolyfillSupport;z==null||z(C$1,N),((t2$1=i2$3.litHtmlVersions)!==null&&t2$1!==void 0?t2$1:i2$3.litHtmlVersions=[]).push("2.4.0");var Z=(it,nt,rt)=>{var st,vt;const bt=(st=rt==null?void 0:rt.renderBefore)!==null&&st!==void 0?st:nt;let _t=bt._$litPart$;if(_t===void 0){const wt=(vt=rt==null?void 0:rt.renderBefore)!==null&&vt!==void 0?vt:null;bt._$litPart$=_t=new N(nt.insertBefore(r3(),wt),wt,void 0,rt!=null?rt:{})}return _t._$AI(it),_t},l3,o4,s4=class extends d$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var it,nt;const rt=super.createRenderRoot();return(it=(nt=this.renderOptions).renderBefore)!==null&&it!==void 0||(nt.renderBefore=rt.firstChild),rt}update(it){const nt=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(it),this._$Dt=Z(nt,this.renderRoot,this.renderOptions)}connectedCallback(){var it;super.connectedCallback(),(it=this._$Dt)===null||it===void 0||it.setConnected(!0)}disconnectedCallback(){var it;super.disconnectedCallback(),(it=this._$Dt)===null||it===void 0||it.setConnected(!1)}render(){return x$2}};s4.finalized=!0,s4._$litElement$=!0,(l3=globalThis.litElementHydrateSupport)===null||l3===void 0||l3.call(globalThis,{LitElement:s4});var n4=globalThis.litElementPolyfillSupport;n4==null||n4({LitElement:s4});((o4=globalThis.litElementVersions)!==null&&o4!==void 0?o4:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var component_styles_default=i$4`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,dialog_styles_default=i$4`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function waitForEvent(it,nt){return new Promise(rt=>{function st(vt){vt.target===it&&(it.removeEventListener(nt,st),rt())}it.addEventListener(nt,st)})}function animateTo(it,nt,rt){return new Promise(st=>{if((rt==null?void 0:rt.duration)===1/0)throw new Error("Promise-based animations must be finite.");const vt=it.animate(nt,__spreadProps(__spreadValues({},rt),{duration:prefersReducedMotion()?0:rt.duration}));vt.addEventListener("cancel",st,{once:!0}),vt.addEventListener("finish",st,{once:!0})})}function parseDuration$1(it){return it=it.toString().toLowerCase(),it.indexOf("ms")>-1?parseFloat(it):it.indexOf("s")>-1?parseFloat(it)*1e3:parseFloat(it)}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(it){return Promise.all(it.getAnimations().map(nt=>new Promise(rt=>{const st=requestAnimationFrame(rt);nt.addEventListener("cancel",()=>st,{once:!0}),nt.addEventListener("finish",()=>st,{once:!0}),nt.cancel()})))}function shimKeyframesHeightAuto(it,nt){return it.map(rt=>__spreadProps(__spreadValues({},rt),{height:rt.height==="auto"?`${nt}px`:rt.height}))}var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(it){return it!=null?it:{keyframes:[],options:{duration:0}}}function getLogicalAnimation(it,nt){return nt.toLowerCase()==="rtl"?{keyframes:it.rtlKeyframes||it.keyframes,options:it.options}:it}function setDefaultAnimation(it,nt){defaultAnimationRegistry.set(it,ensureAnimation(nt))}function getAnimation(it,nt,rt){const st=customAnimationRegistry.get(it);if(st!=null&&st[nt])return getLogicalAnimation(st[nt],rt.dir);const vt=defaultAnimationRegistry.get(nt);return vt?getLogicalAnimation(vt,rt.dir):{keyframes:[],options:{duration:0}}}var connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map,documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...it){it.map(nt=>{const rt=nt.$code.toLowerCase();translations.has(rt)?translations.set(rt,Object.assign(Object.assign({},translations.get(rt)),nt)):translations.set(rt,nt),fallback||(fallback=nt)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(it=>{typeof it.requestUpdate=="function"&&it.requestUpdate()})}var LocalizeController=class{constructor(it){this.host=it,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}term(it,...nt){var rt,st;const vt=new Intl.Locale(this.lang()),bt=vt==null?void 0:vt.language.toLowerCase(),_t=(st=(rt=vt==null?void 0:vt.region)===null||rt===void 0?void 0:rt.toLowerCase())!==null&&st!==void 0?st:"",wt=translations.get(`${bt}-${_t}`),Et=translations.get(bt);let Tt;if(wt&&wt[it])Tt=wt[it];else if(Et&&Et[it])Tt=Et[it];else if(fallback&&fallback[it])Tt=fallback[it];else return console.error(`No translation found for: ${String(it)}`),String(it);return typeof Tt=="function"?Tt(...nt):Tt}date(it,nt){return it=new Date(it),new Intl.DateTimeFormat(this.lang(),nt).format(it)}number(it,nt){return it=Number(it),isNaN(it)?"":new Intl.NumberFormat(this.lang(),nt).format(it)}relativeTime(it,nt,rt){return new Intl.RelativeTimeFormat(this.lang(),rt).format(it,nt)}},LocalizeController2=class extends LocalizeController{},translation={$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",numOptionsSelected:it=>it===0?"No options selected":it===1?"1 option selected":`${it} options selected`,currentValue:"Current value",hidePassword:"Hide password",loading:"Loading",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"};registerTranslation(translation);var HasSlotController=class{constructor(it,...nt){this.slotNames=[],(this.host=it).addController(this),this.slotNames=nt,this.handleSlotChange=this.handleSlotChange.bind(this)}hasDefaultSlot(){return[...this.host.childNodes].some(it=>{if(it.nodeType===it.TEXT_NODE&&it.textContent.trim()!=="")return!0;if(it.nodeType===it.ELEMENT_NODE){const nt=it;if(nt.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!nt.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(it){return this.host.querySelector(`:scope > [slot="${it}"]`)!==null}test(it){return it==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(it)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}handleSlotChange(it){const nt=it.target;(this.slotNames.includes("[default]")&&!nt.name||nt.name&&this.slotNames.includes(nt.name))&&this.host.requestUpdate()}};function getTextContent(it){if(!it)return"";const nt=it.assignedNodes({flatten:!0});let rt="";return[...nt].forEach(st=>{st.nodeType===Node.TEXT_NODE&&(rt+=st.textContent)}),rt}var l$2=it=>it!=null?it:b$1;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$2={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$2=it=>(...nt)=>({_$litDirective$:it,values:nt}),i$3=class{constructor(it){}get _$AU(){return this._$AM._$AU}_$AT(it,nt,rt){this._$Ct=it,this._$AM=nt,this._$Ci=rt}_$AS(it,nt){return this.update(it,nt)}update(it,nt){return this.render(...nt)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$1=e$2(class extends i$3{constructor(it){var nt;if(super(it),it.type!==t$2.ATTRIBUTE||it.name!=="class"||((nt=it.strings)===null||nt===void 0?void 0:nt.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(it){return" "+Object.keys(it).filter(nt=>it[nt]).join(" ")+" "}update(it,[nt]){var rt,st;if(this.nt===void 0){this.nt=new Set,it.strings!==void 0&&(this.st=new Set(it.strings.join(" ").split(/\s/).filter(bt=>bt!=="")));for(const bt in nt)nt[bt]&&!(!((rt=this.st)===null||rt===void 0)&&rt.has(bt))&&this.nt.add(bt);return this.render(nt)}const vt=it.element.classList;this.nt.forEach(bt=>{bt in nt||(vt.remove(bt),this.nt.delete(bt))});for(const bt in nt){const _t=!!nt[bt];_t===this.nt.has(bt)||((st=this.st)===null||st===void 0?void 0:st.has(bt))||(_t?(vt.add(bt),this.nt.add(bt)):(vt.remove(bt),this.nt.delete(bt)))}return x$2}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function watch(it,nt){const rt=__spreadValues({waitUntilFirstUpdate:!1},nt);return(st,vt)=>{const{update:bt}=st;if(it in st){const _t=it;st.update=function(wt){if(wt.has(_t)){const Et=wt.get(_t),Tt=this[_t];Et!==Tt&&(!rt.waitUntilFirstUpdate||this.hasUpdated)&&this[vt](Et,Tt)}bt.call(this,wt)}}}}var e$1=it=>nt=>typeof nt=="function"?((rt,st)=>(customElements.define(rt,st),st))(it,nt):((rt,st)=>{const{kind:vt,elements:bt}=st;return{kind:vt,elements:bt,finisher(_t){customElements.define(rt,_t)}}})(it,nt),i$2=(it,nt)=>nt.kind==="method"&&nt.descriptor&&!("value"in nt.descriptor)?__spreadProps(__spreadValues({},nt),{finisher(rt){rt.createProperty(nt.key,it)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:nt.key,initializer(){typeof nt.initializer=="function"&&(this[nt.key]=nt.initializer.call(this))},finisher(rt){rt.createProperty(nt.key,it)}};function e2$2(it){return(nt,rt)=>rt!==void 0?((st,vt,bt)=>{vt.constructor.createProperty(bt,st)})(it,nt,rt):i$2(it,nt)}function t$1(it){return e2$2(__spreadProps(__spreadValues({},it),{state:!0}))}var o=({finisher:it,descriptor:nt})=>(rt,st)=>{var vt;if(st===void 0){const bt=(vt=rt.originalKey)!==null&&vt!==void 0?vt:rt.key,_t=nt!=null?{kind:"method",placement:"prototype",key:bt,descriptor:nt(rt.key)}:__spreadProps(__spreadValues({},rt),{key:bt});return it!=null&&(_t.finisher=function(wt){it(wt,bt)}),_t}{const bt=rt.constructor;nt!==void 0&&Object.defineProperty(rt,st,nt(st)),it==null||it(bt,st)}};function i2$2(it,nt){return o({descriptor:rt=>{const st={get(){var vt,bt;return(bt=(vt=this.renderRoot)===null||vt===void 0?void 0:vt.querySelector(it))!==null&&bt!==void 0?bt:null},enumerable:!0,configurable:!0};if(nt){const vt=typeof rt=="symbol"?Symbol():"__"+rt;st.get=function(){var bt,_t;return this[vt]===void 0&&(this[vt]=(_t=(bt=this.renderRoot)===null||bt===void 0?void 0:bt.querySelector(it))!==null&&_t!==void 0?_t:null),this[vt]}}return st}})}var n$2;((n$2=window.HTMLSlotElement)===null||n$2===void 0?void 0:n$2.prototype.assignedElements)!=null;var ShoelaceElement=class extends s4{emit(it,nt){const rt=new CustomEvent(it,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},nt));return this.dispatchEvent(rt),rt}};__decorateClass([e2$2()],ShoelaceElement.prototype,"dir",2);__decorateClass([e2$2()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController2(this),this.open=!1,this.label="",this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.modal=new Modal$1(this)}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){super.disconnectedCallback(),unlockBodyScrolling(this)}requestClose(it){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:it}}).defaultPrevented){const rt=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,rt.keyframes,rt.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}handleDocumentKeyDown(it){this.open&&it.key==="Escape"&&(it.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const it=this.querySelector("[autofocus]");it&&it.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(it?it.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),it&&it.setAttribute("autofocus","")});const nt=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),rt=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,nt.keyframes,nt.options),animateTo(this.overlay,rt.keyframes,rt.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const it=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),nt=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,nt.keyframes,nt.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,it.keyframes,it.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const rt=this.originalTrigger;typeof(rt==null?void 0:rt.focus)=="function"&&setTimeout(()=>rt.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <div
        part="base"
        class=${o$1({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${l$2(this.noHeader?this.label:void 0)}
          aria-labelledby=${l$2(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":y$2`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="dialog__body"></slot>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;__decorateClass([i2$2(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([i2$2(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([i2$2(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([e2$2({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);SlDialog=__decorateClass([e$1("sl-dialog")],SlDialog);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var icon_button_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,e=Symbol.for(""),l$1=it=>{if((it==null?void 0:it.r)===e)return it==null?void 0:it._$litStatic$},i$1=(it,...nt)=>({_$litStatic$:nt.reduce((rt,st,vt)=>rt+(bt=>{if(bt._$litStatic$!==void 0)return bt._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${bt}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(st)+it[vt+1],it[0]),r:e}),s$3=new Map,a$1=it=>(nt,...rt)=>{const st=rt.length;let vt,bt;const _t=[],wt=[];let Et,Tt=0,$t=!1;for(;Tt<st;){for(Et=nt[Tt];Tt<st&&(bt=rt[Tt],(vt=l$1(bt))!==void 0);)Et+=vt+nt[++Tt],$t=!0;wt.push(bt),_t.push(Et),Tt++}if(Tt===st&&_t.push(nt[st]),$t){const Dt=_t.join("$$lit$$");(nt=s$3.get(Dt))===void 0&&(_t.raw=_t,s$3.set(Dt,nt=_t)),rt=wt}return it(nt,...rt)},n$1=a$1(y$2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(it){this.disabled&&(it.preventDefault(),it.stopPropagation())}click(){this.button.click()}focus(it){this.button.focus(it)}blur(){this.button.blur()}render(){const it=!!this.href,nt=it?i$1`a`:i$1`button`;return n$1`
      <${nt}
        part="base"
        class=${o$1({"icon-button":!0,"icon-button--disabled":!it&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${l$2(it?void 0:this.disabled)}
        type=${l$2(it?void 0:"button")}
        href=${l$2(it?this.href:void 0)}
        target=${l$2(it?this.target:void 0)}
        download=${l$2(it?this.download:void 0)}
        rel=${l$2(it&&this.target?"noreferrer noopener":void 0)}
        role=${l$2(it?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${l$2(this.name)}
          library=${l$2(this.library)}
          src=${l$2(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${nt}>
    `}};SlIconButton.styles=icon_button_styles_default;__decorateClass([i2$2(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([t$1()],SlIconButton.prototype,"hasFocus",2);__decorateClass([e2$2()],SlIconButton.prototype,"name",2);__decorateClass([e2$2()],SlIconButton.prototype,"library",2);__decorateClass([e2$2()],SlIconButton.prototype,"src",2);__decorateClass([e2$2()],SlIconButton.prototype,"href",2);__decorateClass([e2$2()],SlIconButton.prototype,"target",2);__decorateClass([e2$2()],SlIconButton.prototype,"download",2);__decorateClass([e2$2()],SlIconButton.prototype,"label",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);SlIconButton=__decorateClass([e$1("sl-icon-button")],SlIconButton);var library={name:"default",resolver:it=>`${getBasePath()}/assets/icons/${it}.svg`},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:it=>it in icons?`data:image/svg+xml,${encodeURIComponent(icons[it])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(it){watchedIcons.push(it)}function unwatchIcon(it){watchedIcons=watchedIcons.filter(nt=>nt!==it)}function getIconLibrary(it){return registry.find(nt=>nt.name===it)}var includeFiles=new Map;function requestInclude(it,nt="cors"){if(includeFiles.has(it))return includeFiles.get(it);const rt=fetch(it,{mode:nt}).then(async st=>({ok:st.ok,status:st.status,html:await st.text()}));return includeFiles.set(it,rt),rt}var iconFiles=new Map;async function requestIcon(it){if(iconFiles.has(it))return iconFiles.get(it);const nt=await requestInclude(it),rt={ok:nt.ok,status:nt.status,svg:null};if(nt.ok){const st=document.createElement("div");st.innerHTML=nt.html;const vt=st.firstElementChild;rt.svg=(vt==null?void 0:vt.tagName.toLowerCase())==="svg"?vt.outerHTML:""}return iconFiles.set(it,rt),rt}var icon_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,e4=class extends i$3{constructor(it){if(super(it),this.it=b$1,it.type!==t$2.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(it){if(it===b$1||it==null)return this._t=void 0,this.it=it;if(it===x$2)return it;if(typeof it!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(it===this.it)return this._t;this.it=it;const nt=[it];return nt.raw=nt,this._t={_$litType$:this.constructor.resultType,strings:nt,values:[]}}};e4.directiveName="unsafeHTML",e4.resultType=1;var t3$1=class extends e4{};t3$1.directiveName="unsafeSVG",t3$1.resultType=2;var o2$1=e$2(t3$1),parser$d,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getUrl(){const it=getIconLibrary(this.library);return this.name&&it?it.resolver(this.name):this.src}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var it;const nt=getIconLibrary(this.library),rt=this.getUrl();if(parser$d||(parser$d=new DOMParser),rt)try{const st=await requestIcon(rt);if(rt!==this.getUrl())return;if(st.ok){const bt=parser$d.parseFromString(st.svg,"text/html").body.querySelector("svg");bt!==null?((it=nt==null?void 0:nt.mutator)==null||it.call(nt,bt),this.svg=bt.outerHTML,this.emit("sl-load")):(this.svg="",this.emit("sl-error"))}else this.svg="",this.emit("sl-error")}catch{this.emit("sl-error")}else this.svg.length>0&&(this.svg="")}render(){return y$2` ${o2$1(this.svg)} `}};SlIcon.styles=icon_styles_default;__decorateClass([t$1()],SlIcon.prototype,"svg",2);__decorateClass([e2$2({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([e2$2()],SlIcon.prototype,"src",2);__decorateClass([e2$2()],SlIcon.prototype,"label",2);__decorateClass([e2$2({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch("name"),watch("src"),watch("library")],SlIcon.prototype,"setIcon",1);SlIcon=__decorateClass([e$1("sl-icon")],SlIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var formCollections=new WeakMap,userInteractedControls=new WeakMap,reportValidityOverloads=new WeakMap,FormSubmitController=class{constructor(it,nt){(this.host=it).addController(this),this.options=__spreadValues({form:rt=>rt.closest("form"),name:rt=>rt.name,value:rt=>rt.value,defaultValue:rt=>rt.defaultValue,disabled:rt=>{var st;return(st=rt.disabled)!=null?st:!1},reportValidity:rt=>typeof rt.reportValidity=="function"?rt.reportValidity():!0,setValue:(rt,st)=>rt.value=st},nt),this.handleFormData=this.handleFormData.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFormReset=this.handleFormReset.bind(this),this.reportFormValidity=this.reportFormValidity.bind(this),this.handleUserInput=this.handleUserInput.bind(this)}hostConnected(){this.form=this.options.form(this.host),this.form&&(formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity())),this.host.addEventListener("sl-input",this.handleUserInput)}hostDisconnected(){var it;this.form&&((it=formCollections.get(this.form))==null||it.delete(this.host),this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),this.form=void 0),this.host.removeEventListener("sl-input",this.handleUserInput)}hostUpdated(){var it;const nt=this.host,rt=Boolean(userInteractedControls.get(nt)),st=Boolean(nt.invalid),vt=Boolean(nt.required);(it=this.form)!=null&&it.noValidate?(nt.removeAttribute("data-required"),nt.removeAttribute("data-optional"),nt.removeAttribute("data-invalid"),nt.removeAttribute("data-valid"),nt.removeAttribute("data-user-invalid"),nt.removeAttribute("data-user-valid")):(nt.toggleAttribute("data-required",vt),nt.toggleAttribute("data-optional",!vt),nt.toggleAttribute("data-invalid",st),nt.toggleAttribute("data-valid",!st),nt.toggleAttribute("data-user-invalid",st&&rt),nt.toggleAttribute("data-user-valid",!st&&rt))}handleFormData(it){const nt=this.options.disabled(this.host),rt=this.options.name(this.host),st=this.options.value(this.host),vt=this.host.tagName.toLowerCase()==="sl-button";!nt&&!vt&&typeof rt=="string"&&rt.length>0&&typeof st<"u"&&(Array.isArray(st)?st.forEach(bt=>{it.formData.append(rt,bt.toString())}):it.formData.append(rt,st.toString()))}handleFormSubmit(it){var nt;const rt=this.options.disabled(this.host),st=this.options.reportValidity;this.form&&!this.form.noValidate&&((nt=formCollections.get(this.form))==null||nt.forEach(vt=>{this.setUserInteracted(vt,!0)})),this.form&&!this.form.noValidate&&!rt&&!st(this.host)&&(it.preventDefault(),it.stopImmediatePropagation())}handleFormReset(){this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1)}async handleUserInput(){await this.host.updateComplete,this.setUserInteracted(this.host,!0)}reportFormValidity(){if(this.form&&!this.form.noValidate){const it=this.form.querySelectorAll("*");for(const nt of it)if(typeof nt.reportValidity=="function"&&!nt.reportValidity())return!1}return!0}setUserInteracted(it,nt){userInteractedControls.set(it,nt),it.requestUpdate()}doAction(it,nt){if(this.form){const rt=document.createElement("button");rt.type=it,rt.style.position="absolute",rt.style.width="0",rt.style.height="0",rt.style.clipPath="inset(50%)",rt.style.overflow="hidden",rt.style.whiteSpace="nowrap",nt&&(rt.name=nt.name,rt.value=nt.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(st=>{nt.hasAttribute(st)&&rt.setAttribute(st,nt.getAttribute(st))})),this.form.append(rt),rt.click(),rt.remove()}}reset(it){this.doAction("reset",it)}submit(it){this.doAction("submit",it)}},button_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition: var(--sl-transition-x-fast) background-color, var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border, var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    font-size: var(--sl-button-font-size-small);
    height: var(--sl-input-height-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    font-size: var(--sl-button-font-size-medium);
    height: var(--sl-input-height-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    font-size: var(--sl-button-font-size-large);
    height: var(--sl-input-height-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(.sl-button-group__button:not(.sl-button-group__button--first, .sl-button-group__button--radio, [variant='default']):not(:hover))
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this,{form:it=>{if(it.hasAttribute("form")){const nt=it.getRootNode(),rt=it.getAttribute("form");return nt.getElementById(rt)}return it.closest("form")}}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href=""}firstUpdated(){this.isButton()&&(this.invalid=!this.button.checkValidity())}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(it){if(this.disabled||this.loading){it.preventDefault(),it.stopPropagation();return}this.type==="submit"&&this.formSubmitController.submit(this),this.type==="reset"&&this.formSubmitController.reset(this)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&(this.button.disabled=this.disabled,this.invalid=!this.button.checkValidity())}click(){this.button.click()}focus(it){this.button.focus(it)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(it){this.isButton()&&(this.button.setCustomValidity(it),this.invalid=!this.button.checkValidity())}render(){const it=this.isLink(),nt=it?i$1`a`:i$1`button`;return n$1`
      <${nt}
        part="base"
        class=${o$1({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${l$2(it?void 0:this.disabled)}
        type=${l$2(it?void 0:this.type)}
        title=${this.title}
        name=${l$2(it?void 0:this.name)}
        value=${l$2(it?void 0:this.value)}
        href=${l$2(it?this.href:void 0)}
        target=${l$2(it?this.target:void 0)}
        download=${l$2(it?this.download:void 0)}
        rel=${l$2(it&&this.target?"noreferrer noopener":void 0)}
        role=${l$2(it?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$1` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$1`<sl-spinner></sl-spinner>`:""}
      </${nt}>
    `}};SlButton.styles=button_styles_default;__decorateClass([i2$2(".button")],SlButton.prototype,"button",2);__decorateClass([t$1()],SlButton.prototype,"hasFocus",2);__decorateClass([t$1()],SlButton.prototype,"invalid",2);__decorateClass([e2$2()],SlButton.prototype,"title",2);__decorateClass([e2$2({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([e2$2({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([e2$2()],SlButton.prototype,"type",2);__decorateClass([e2$2()],SlButton.prototype,"name",2);__decorateClass([e2$2()],SlButton.prototype,"value",2);__decorateClass([e2$2()],SlButton.prototype,"href",2);__decorateClass([e2$2()],SlButton.prototype,"target",2);__decorateClass([e2$2()],SlButton.prototype,"download",2);__decorateClass([e2$2()],SlButton.prototype,"form",2);__decorateClass([e2$2({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([e2$2({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([e2$2({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([e2$2({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([e2$2({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton=__decorateClass([e$1("sl-button")],SlButton);var spinner_styles_default=i$4`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
    mix-blend-mode: multiply;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      rotate: 0deg;
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      rotate: 450deg;
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      rotate: 1080deg;
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this)}render(){return y$2`
      <svg part="base" class="spinner" role="progressbar" aria-valuetext=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;SlSpinner=__decorateClass([e$1("sl-spinner")],SlSpinner);var form_control_styles_default=i$4`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control_label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,input_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix::slotted(sl-icon),
  .input__suffix::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide Firefox's clear button on date and time inputs */
  .input--is-firefox input[type='date'],
  .input--is-firefox input[type='time'] {
    clip-path: inset(0 2em 0 0);
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,e2$1=it=>it.strings===void 0,f$1={},s$2=(it,nt=f$1)=>it._$AH=nt,l2$1=e$2(class extends i$3{constructor(it){if(super(it),it.type!==t$2.PROPERTY&&it.type!==t$2.ATTRIBUTE&&it.type!==t$2.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!e2$1(it))throw Error("`live` bindings can only contain a single expression")}render(it){return it}update(it,[nt]){if(nt===x$2||nt===b$1)return nt;const rt=it.element,st=it.name;if(it.type===t$2.PROPERTY){if(nt===rt[st])return x$2}else if(it.type===t$2.BOOLEAN_ATTRIBUTE){if(!!nt===rt.hasAttribute(st))return x$2}else if(it.type===t$2.ATTRIBUTE&&rt.getAttribute(st)===nt+"")return x$2;return s$2(it),nt}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var defaultValue=(it="value")=>(nt,rt)=>{const st=nt.constructor,vt=st.prototype.attributeChangedCallback;st.prototype.attributeChangedCallback=function(bt,_t,wt){var Et;const Tt=st.getPropertyOptions(it),$t=typeof Tt.attribute=="string"?Tt.attribute:it;if(bt===$t){const Dt=Tt.converter||n2$1,Bt=(typeof Dt=="function"?Dt:(Et=Dt==null?void 0:Dt.fromAttribute)!=null?Et:n2$1.fromAttribute)(wt,Tt.type);this[it]!==Bt&&(this[rt]=Bt)}vt.call(this,bt,_t,wt)}},_a,isChromium=(_a=navigator.userAgentData)==null?void 0:_a.brands.some(it=>it.brand.includes("Chromium")),isFirefox=isChromium?!1:navigator.userAgent.includes("Firefox"),SlInput=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.required=!1,this.spellcheck=!0}get valueAsDate(){var it,nt;return(nt=(it=this.input)==null?void 0:it.valueAsDate)!=null?nt:null}set valueAsDate(it){const nt=document.createElement("input");nt.type="date",nt.valueAsDate=it,this.value=nt.value}get valueAsNumber(){var it,nt;return(nt=(it=this.input)==null?void 0:it.valueAsNumber)!=null?nt:parseFloat(this.value)}set valueAsNumber(it){const nt=document.createElement("input");nt.type="number",nt.valueAsNumber=it,this.value=nt.value}firstUpdated(){this.invalid=!this.checkValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(it){this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change"),this.input.focus(),it.stopPropagation()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.invalid=!this.checkValidity(),this.emit("sl-input")}handleInvalid(){this.invalid=!0}handleKeyDown(it){const nt=it.metaKey||it.ctrlKey||it.shiftKey||it.altKey;it.key==="Enter"&&!nt&&setTimeout(()=>{!it.defaultPrevented&&!it.isComposing&&this.formSubmitController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}handleStepChange(){this.input.step=String(this.step),this.invalid=!this.checkValidity()}async handleValueChange(){await this.updateComplete,this.invalid=!this.checkValidity()}focus(it){this.input.focus(it)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(it,nt,rt="none"){this.input.setSelectionRange(it,nt,rt)}setRangeText(it,nt,rt,st){this.input.setRangeText(it,nt,rt,st),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(it){this.input.setCustomValidity(it),this.invalid=!this.checkValidity()}render(){const it=this.hasSlotController.test("label"),nt=this.hasSlotController.test("help-text"),rt=this.label?!0:!!it,st=this.helpText?!0:!!nt,vt=this.clearable&&!this.disabled&&!this.readonly&&(typeof this.value=="number"||this.value.length>0);return y$2`
      <div
        part="form-control"
        class=${o$1({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":rt,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${rt?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$1({input:!0,"input--small":this.size==="small","input--medium":this.size==="medium","input--large":this.size==="large","input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--invalid":this.invalid,"input--no-spin-buttons":this.noSpinButtons,"input--is-firefox":isFirefox})}
          >
            <slot name="prefix" part="prefix" class="input__prefix"></slot>
            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type==="password"&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${l$2(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${l$2(this.placeholder)}
              minlength=${l$2(this.minlength)}
              maxlength=${l$2(this.maxlength)}
              min=${l$2(this.min)}
              max=${l$2(this.max)}
              step=${l$2(this.step)}
              .value=${l2$1(this.value)}
              autocapitalize=${l$2(this.type==="password"?"off":this.autocapitalize)}
              autocomplete=${l$2(this.type==="password"?"off":this.autocomplete)}
              autocorrect=${l$2(this.type==="password"?"off":this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${l$2(this.pattern)}
              enterkeyhint=${l$2(this.enterkeyhint)}
              inputmode=${l$2(this.inputmode)}
              aria-describedby="help-text"
              aria-invalid=${this.invalid?"true":"false"}
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${vt?y$2`
                    <button
                      part="clear-button"
                      class="input__clear"
                      type="button"
                      aria-label=${this.localize.term("clearEntry")}
                      @click=${this.handleClearClick}
                      tabindex="-1"
                    >
                      <slot name="clear-icon">
                        <sl-icon name="x-circle-fill" library="system"></sl-icon>
                      </slot>
                    </button>
                  `:""}
            ${this.passwordToggle&&!this.disabled?y$2`
                    <button
                      part="password-toggle-button"
                      class="input__password-toggle"
                      type="button"
                      aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                      @click=${this.handlePasswordToggle}
                      tabindex="-1"
                    >
                      ${this.passwordVisible?y$2`
                            <slot name="show-password-icon">
                              <sl-icon name="eye-slash" library="system"></sl-icon>
                            </slot>
                          `:y$2`
                            <slot name="hide-password-icon">
                              <sl-icon name="eye" library="system"></sl-icon>
                            </slot>
                          `}
                    </button>
                  `:""}

            <slot name="suffix" part="suffix" class="input__suffix"></slot>
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
        </div>
      </div>
    `}};SlInput.styles=input_styles_default;__decorateClass([i2$2(".input__control")],SlInput.prototype,"input",2);__decorateClass([t$1()],SlInput.prototype,"hasFocus",2);__decorateClass([t$1()],SlInput.prototype,"invalid",2);__decorateClass([e2$2()],SlInput.prototype,"title",2);__decorateClass([e2$2({reflect:!0})],SlInput.prototype,"type",2);__decorateClass([e2$2()],SlInput.prototype,"name",2);__decorateClass([e2$2()],SlInput.prototype,"value",2);__decorateClass([defaultValue()],SlInput.prototype,"defaultValue",2);__decorateClass([e2$2({reflect:!0})],SlInput.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"filled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"pill",2);__decorateClass([e2$2()],SlInput.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlInput.prototype,"helpText",2);__decorateClass([e2$2({type:Boolean})],SlInput.prototype,"clearable",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"disabled",2);__decorateClass([e2$2()],SlInput.prototype,"placeholder",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"readonly",2);__decorateClass([e2$2({attribute:"password-toggle",type:Boolean})],SlInput.prototype,"passwordToggle",2);__decorateClass([e2$2({attribute:"password-visible",type:Boolean})],SlInput.prototype,"passwordVisible",2);__decorateClass([e2$2({attribute:"no-spin-buttons",type:Boolean})],SlInput.prototype,"noSpinButtons",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"required",2);__decorateClass([e2$2()],SlInput.prototype,"pattern",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"minlength",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"maxlength",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"min",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"max",2);__decorateClass([e2$2()],SlInput.prototype,"step",2);__decorateClass([e2$2()],SlInput.prototype,"autocapitalize",2);__decorateClass([e2$2()],SlInput.prototype,"autocorrect",2);__decorateClass([e2$2()],SlInput.prototype,"autocomplete",2);__decorateClass([e2$2({type:Boolean})],SlInput.prototype,"autofocus",2);__decorateClass([e2$2()],SlInput.prototype,"enterkeyhint",2);__decorateClass([e2$2({type:Boolean,converter:{fromAttribute:it=>!(!it||it==="false"),toAttribute:it=>it?"true":"false"}})],SlInput.prototype,"spellcheck",2);__decorateClass([e2$2()],SlInput.prototype,"inputmode",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleDisabledChange",1);__decorateClass([watch("step",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleStepChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleValueChange",1);SlInput=__decorateClass([e$1("sl-input")],SlInput);var tooltip_styles_default=i$4`
  ${component_styles_default}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    pointer-events: none;
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
  }
`,SlTooltip=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.updateComplete.then(()=>{this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)})}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this.handleBlur,!0),this.removeEventListener("focus",this.handleFocus,!0),this.removeEventListener("click",this.handleClick),this.removeEventListener("keydown",this.handleKeyDown),this.removeEventListener("mouseover",this.handleMouseOver),this.removeEventListener("mouseout",this.handleMouseOut)}handleBlur(){this.hasTrigger("focus")&&this.hide()}handleClick(){this.hasTrigger("click")&&(this.open?this.hide():this.show())}handleFocus(){this.hasTrigger("focus")&&this.show()}handleKeyDown(it){this.open&&it.key==="Escape"&&(it.stopPropagation(),this.hide())}handleMouseOver(){if(this.hasTrigger("hover")){const it=parseDuration$1(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),it)}}handleMouseOut(){if(this.hasTrigger("hover")){const it=parseDuration$1(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),it)}}hasTrigger(it){return this.trigger.split(" ").includes(it)}async handleOpenChange(){if(this.open){if(this.disabled)return;this.emit("sl-show"),await stopAnimations(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:it,options:nt}=getAnimation(this,"tooltip.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,it,nt),this.emit("sl-after-show")}else{this.emit("sl-hide"),await stopAnimations(this.body);const{keyframes:it,options:nt}=getAnimation(this,"tooltip.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,it,nt),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${o$1({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
      >
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        <slot
          name="content"
          part="body"
          id="tooltip"
          class="tooltip__body"
          role="tooltip"
          aria-live=${this.open?"polite":"off"}
        >
          ${this.content}
        </slot>
      </sl-popup>
    `}};SlTooltip.styles=tooltip_styles_default;__decorateClass([i2$2("slot:not([name])")],SlTooltip.prototype,"defaultSlot",2);__decorateClass([i2$2(".tooltip__body")],SlTooltip.prototype,"body",2);__decorateClass([i2$2("sl-popup")],SlTooltip.prototype,"popup",2);__decorateClass([e2$2()],SlTooltip.prototype,"content",2);__decorateClass([e2$2()],SlTooltip.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTooltip.prototype,"disabled",2);__decorateClass([e2$2({type:Number})],SlTooltip.prototype,"distance",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTooltip.prototype,"open",2);__decorateClass([e2$2({type:Number})],SlTooltip.prototype,"skidding",2);__decorateClass([e2$2()],SlTooltip.prototype,"trigger",2);__decorateClass([e2$2({type:Boolean})],SlTooltip.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlTooltip.prototype,"handleOpenChange",1);__decorateClass([watch("content"),watch("distance"),watch("hoist"),watch("placement"),watch("skidding")],SlTooltip.prototype,"handleOptionsChange",1);__decorateClass([watch("disabled")],SlTooltip.prototype,"handleDisabledChange",1);SlTooltip=__decorateClass([e$1("sl-tooltip")],SlTooltip);setDefaultAnimation("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});setDefaultAnimation("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});var popup_styles_default=i$4`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;function t(it){return it.split("-")[0]}function e3(it){return it.split("-")[1]}function n(it){return["top","bottom"].includes(t(it))?"x":"y"}function r(it){return it==="y"?"height":"width"}function i2$1(it,nt,rt){let{reference:st,floating:vt}=it;const bt=st.x+st.width/2-vt.width/2,_t=st.y+st.height/2-vt.height/2,wt=n(nt),Et=r(wt),Tt=st[Et]/2-vt[Et]/2,$t=wt==="x";let Dt;switch(t(nt)){case"top":Dt={x:bt,y:st.y-vt.height};break;case"bottom":Dt={x:bt,y:st.y+st.height};break;case"right":Dt={x:st.x+st.width,y:_t};break;case"left":Dt={x:st.x-vt.width,y:_t};break;default:Dt={x:st.x,y:st.y}}switch(e3(nt)){case"start":Dt[wt]-=Tt*(rt&&$t?-1:1);break;case"end":Dt[wt]+=Tt*(rt&&$t?-1:1)}return Dt}var o2=async(it,nt,rt)=>{const{placement:st="bottom",strategy:vt="absolute",middleware:bt=[],platform:_t}=rt,wt=bt.filter(Boolean),Et=await(_t.isRTL==null?void 0:_t.isRTL(nt));let Tt=await _t.getElementRects({reference:it,floating:nt,strategy:vt}),{x:$t,y:Dt}=i2$1(Tt,st,Et),Lt=st,Bt={},Ht=0;for(let Ut=0;Ut<wt.length;Ut++){const{name:It,fn:jt}=wt[Ut],{x:Wt,y:qt,data:Yt,reset:ti}=await jt({x:$t,y:Dt,initialPlacement:st,placement:Lt,strategy:vt,middlewareData:Bt,rects:Tt,platform:_t,elements:{reference:it,floating:nt}});$t=Wt!=null?Wt:$t,Dt=qt!=null?qt:Dt,Bt=__spreadProps(__spreadValues({},Bt),{[It]:__spreadValues(__spreadValues({},Bt[It]),Yt)}),ti&&Ht<=50&&(Ht++,typeof ti=="object"&&(ti.placement&&(Lt=ti.placement),ti.rects&&(Tt=ti.rects===!0?await _t.getElementRects({reference:it,floating:nt,strategy:vt}):ti.rects),{x:$t,y:Dt}=i2$1(Tt,Lt,Et)),Ut=-1)}return{x:$t,y:Dt,placement:Lt,strategy:vt,middlewareData:Bt}};function a(it){return typeof it!="number"?function(nt){return __spreadValues({top:0,right:0,bottom:0,left:0},nt)}(it):{top:it,right:it,bottom:it,left:it}}function l(it){return __spreadProps(__spreadValues({},it),{top:it.y,left:it.x,right:it.x+it.width,bottom:it.y+it.height})}async function s$1(it,nt){var rt;nt===void 0&&(nt={});const{x:st,y:vt,platform:bt,rects:_t,elements:wt,strategy:Et}=it,{boundary:Tt="clippingAncestors",rootBoundary:$t="viewport",elementContext:Dt="floating",altBoundary:Lt=!1,padding:Bt=0}=nt,Ht=a(Bt),Ut=wt[Lt?Dt==="floating"?"reference":"floating":Dt],It=l(await bt.getClippingRect({element:(rt=await(bt.isElement==null?void 0:bt.isElement(Ut)))==null||rt?Ut:Ut.contextElement||await(bt.getDocumentElement==null?void 0:bt.getDocumentElement(wt.floating)),boundary:Tt,rootBoundary:$t,strategy:Et})),jt=l(bt.convertOffsetParentRelativeRectToViewportRelativeRect?await bt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:Dt==="floating"?__spreadProps(__spreadValues({},_t.floating),{x:st,y:vt}):_t.reference,offsetParent:await(bt.getOffsetParent==null?void 0:bt.getOffsetParent(wt.floating)),strategy:Et}):_t[Dt]);return{top:It.top-jt.top+Ht.top,bottom:jt.bottom-It.bottom+Ht.bottom,left:It.left-jt.left+Ht.left,right:jt.right-It.right+Ht.right}}var c$1=Math.min,f=Math.max;function u(it,nt,rt){return f(it,c$1(nt,rt))}var m$1=it=>({name:"arrow",options:it,async fn(nt){const{element:rt,padding:st=0}=it!=null?it:{},{x:vt,y:bt,placement:_t,rects:wt,platform:Et}=nt;if(rt==null)return{};const Tt=a(st),$t={x:vt,y:bt},Dt=n(_t),Lt=e3(_t),Bt=r(Dt),Ht=await Et.getDimensions(rt),Ut=Dt==="y"?"top":"left",It=Dt==="y"?"bottom":"right",jt=wt.reference[Bt]+wt.reference[Dt]-$t[Dt]-wt.floating[Bt],Wt=$t[Dt]-wt.reference[Dt],qt=await(Et.getOffsetParent==null?void 0:Et.getOffsetParent(rt));let Yt=qt?Dt==="y"?qt.clientHeight||0:qt.clientWidth||0:0;Yt===0&&(Yt=wt.floating[Bt]);const ti=jt/2-Wt/2,oi=Tt[Ut],si=Yt-Ht[Bt]-Tt[It],di=Yt/2-Ht[Bt]/2+ti,ui=u(oi,di,si),ci=(Lt==="start"?Tt[Ut]:Tt[It])>0&&di!==ui&&wt.reference[Bt]<=wt.floating[Bt];return{[Dt]:$t[Dt]-(ci?di<oi?oi-di:si-di:0),data:{[Dt]:ui,centerOffset:di-ui}}}}),g={left:"right",right:"left",bottom:"top",top:"bottom"};function d$1(it){return it.replace(/left|right|bottom|top/g,nt=>g[nt])}function p(it,nt,rt){rt===void 0&&(rt=!1);const st=e3(it),vt=n(it),bt=r(vt);let _t=vt==="x"?st===(rt?"end":"start")?"right":"left":st==="start"?"bottom":"top";return nt.reference[bt]>nt.floating[bt]&&(_t=d$1(_t)),{main:_t,cross:d$1(_t)}}var h$1={start:"end",end:"start"};function y2(it){return it.replace(/start|end/g,nt=>h$1[nt])}var x$1=["top","right","bottom","left"];x$1.reduce((it,nt)=>it.concat(nt,nt+"-start",nt+"-end"),[]);var b=function(it){return it===void 0&&(it={}),{name:"flip",options:it,async fn(nt){var rt;const{placement:st,middlewareData:vt,rects:bt,initialPlacement:_t,platform:wt,elements:Et}=nt,Tt=it,{mainAxis:$t=!0,crossAxis:Dt=!0,fallbackPlacements:Lt,fallbackStrategy:Bt="bestFit",flipAlignment:Ht=!0}=Tt,Ut=__objRest(Tt,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),It=t(st),jt=Lt||(It===_t||!Ht?[d$1(_t)]:function(ui){const ci=d$1(ui);return[y2(ui),ci,y2(ci)]}(_t)),Wt=[_t,...jt],qt=await s$1(nt,Ut),Yt=[];let ti=((rt=vt.flip)==null?void 0:rt.overflows)||[];if($t&&Yt.push(qt[It]),Dt){const{main:ui,cross:ci}=p(st,bt,await(wt.isRTL==null?void 0:wt.isRTL(Et.floating)));Yt.push(qt[ui],qt[ci])}if(ti=[...ti,{placement:st,overflows:Yt}],!Yt.every(ui=>ui<=0)){var oi,si;const ui=((oi=(si=vt.flip)==null?void 0:si.index)!=null?oi:0)+1,ci=Wt[ui];if(ci)return{data:{index:ui,overflows:ti},reset:{placement:ci}};let hi="bottom";switch(Bt){case"bestFit":{var di;const ei=(di=ti.map(wi=>[wi,wi.overflows.filter(Kt=>Kt>0).reduce((Kt,Ni)=>Kt+Ni,0)]).sort((wi,Kt)=>wi[1]-Kt[1])[0])==null?void 0:di[0].placement;ei&&(hi=ei);break}case"initialPlacement":hi=_t}if(st!==hi)return{reset:{placement:hi}}}return{}}}},T=function(it){return it===void 0&&(it=0),{name:"offset",options:it,async fn(nt){const{x:rt,y:st}=nt,vt=await async function(bt,_t){const{placement:wt,platform:Et,elements:Tt}=bt,$t=await(Et.isRTL==null?void 0:Et.isRTL(Tt.floating)),Dt=t(wt),Lt=e3(wt),Bt=n(wt)==="x",Ht=["left","top"].includes(Dt)?-1:1,Ut=$t&&Bt?-1:1,It=typeof _t=="function"?_t(bt):_t;let{mainAxis:jt,crossAxis:Wt,alignmentAxis:qt}=typeof It=="number"?{mainAxis:It,crossAxis:0,alignmentAxis:null}:__spreadValues({mainAxis:0,crossAxis:0,alignmentAxis:null},It);return Lt&&typeof qt=="number"&&(Wt=Lt==="end"?-1*qt:qt),Bt?{x:Wt*Ut,y:jt*Ht}:{x:jt*Ht,y:Wt*Ut}}(nt,it);return{x:rt+vt.x,y:st+vt.y,data:vt}}}};function O(it){return it==="x"?"y":"x"}var L$2=function(it){return it===void 0&&(it={}),{name:"shift",options:it,async fn(nt){const{x:rt,y:st,placement:vt}=nt,bt=it,{mainAxis:_t=!0,crossAxis:wt=!1,limiter:Et={fn:jt=>{let{x:Wt,y:qt}=jt;return{x:Wt,y:qt}}}}=bt,Tt=__objRest(bt,["mainAxis","crossAxis","limiter"]),$t={x:rt,y:st},Dt=await s$1(nt,Tt),Lt=n(t(vt)),Bt=O(Lt);let Ht=$t[Lt],Ut=$t[Bt];if(_t){const jt=Lt==="y"?"bottom":"right";Ht=u(Ht+Dt[Lt==="y"?"top":"left"],Ht,Ht-Dt[jt])}if(wt){const jt=Bt==="y"?"bottom":"right";Ut=u(Ut+Dt[Bt==="y"?"top":"left"],Ut,Ut-Dt[jt])}const It=Et.fn(__spreadProps(__spreadValues({},nt),{[Lt]:Ht,[Bt]:Ut}));return __spreadProps(__spreadValues({},It),{data:{x:It.x-rt,y:It.y-st}})}}},k=function(it){return it===void 0&&(it={}),{name:"size",options:it,async fn(nt){const{placement:rt,rects:st,platform:vt,elements:bt}=nt,_t=it,{apply:wt=()=>{}}=_t,Et=__objRest(_t,["apply"]),Tt=await s$1(nt,Et),$t=t(rt),Dt=e3(rt);let Lt,Bt;$t==="top"||$t==="bottom"?(Lt=$t,Bt=Dt===(await(vt.isRTL==null?void 0:vt.isRTL(bt.floating))?"start":"end")?"left":"right"):(Bt=$t,Lt=Dt==="end"?"top":"bottom");const Ht=f(Tt.left,0),Ut=f(Tt.right,0),It=f(Tt.top,0),jt=f(Tt.bottom,0),Wt={availableHeight:st.floating.height-(["left","right"].includes(rt)?2*(It!==0||jt!==0?It+jt:f(Tt.top,Tt.bottom)):Tt[Lt]),availableWidth:st.floating.width-(["top","bottom"].includes(rt)?2*(Ht!==0||Ut!==0?Ht+Ut:f(Tt.left,Tt.right)):Tt[Bt])};await wt(__spreadValues(__spreadValues({},nt),Wt));const qt=await vt.getDimensions(bt.floating);return st.floating.width!==qt.width||st.floating.height!==qt.height?{reset:{rects:!0}}:{}}}};function n2(it){return it&&it.document&&it.location&&it.alert&&it.setInterval}function o3(it){if(it==null)return window;if(!n2(it)){const nt=it.ownerDocument;return nt&&nt.defaultView||window}return it}function i3(it){return o3(it).getComputedStyle(it)}function r2(it){return n2(it)?"":it?(it.nodeName||"").toLowerCase():""}function l2(){const it=navigator.userAgentData;return it&&Array.isArray(it.brands)?it.brands.map(nt=>nt.brand+"/"+nt.version).join(" "):navigator.userAgent}function c2(it){return it instanceof o3(it).HTMLElement}function s2(it){return it instanceof o3(it).Element}function f2(it){return typeof ShadowRoot>"u"?!1:it instanceof o3(it).ShadowRoot||it instanceof ShadowRoot}function u2(it){const{overflow:nt,overflowX:rt,overflowY:st,display:vt}=i3(it);return/auto|scroll|overlay|hidden/.test(nt+st+rt)&&!["inline","contents"].includes(vt)}function a2(it){return["table","td","th"].includes(r2(it))}function d2(it){const nt=/firefox/i.test(l2()),rt=i3(it),st=rt.backdropFilter||rt.WebkitBackdropFilter;return rt.transform!=="none"||rt.perspective!=="none"||!!st&&st!=="none"||nt&&rt.willChange==="filter"||nt&&!!rt.filter&&rt.filter!=="none"||["transform","perspective"].some(vt=>rt.willChange.includes(vt))||["paint","layout","strict","content"].some(vt=>{const bt=rt.contain;return bt!=null&&bt.includes(vt)})}function h2(){return!/^((?!chrome|android).)*safari/i.test(l2())}function g2(it){return["html","body","#document"].includes(r2(it))}var m2=Math.min,p2=Math.max,w2=Math.round;function v2(it,nt,rt){var st,vt,bt,_t;nt===void 0&&(nt=!1),rt===void 0&&(rt=!1);const wt=it.getBoundingClientRect();let Et=1,Tt=1;nt&&c2(it)&&(Et=it.offsetWidth>0&&w2(wt.width)/it.offsetWidth||1,Tt=it.offsetHeight>0&&w2(wt.height)/it.offsetHeight||1);const $t=s2(it)?o3(it):window,Dt=!h2()&&rt,Lt=(wt.left+(Dt&&(st=(vt=$t.visualViewport)==null?void 0:vt.offsetLeft)!=null?st:0))/Et,Bt=(wt.top+(Dt&&(bt=(_t=$t.visualViewport)==null?void 0:_t.offsetTop)!=null?bt:0))/Tt,Ht=wt.width/Et,Ut=wt.height/Tt;return{width:Ht,height:Ut,top:Bt,right:Lt+Ht,bottom:Bt+Ut,left:Lt,x:Lt,y:Bt}}function y3(it){return(nt=it,(nt instanceof o3(nt).Node?it.ownerDocument:it.document)||window.document).documentElement;var nt}function x2(it){return s2(it)?{scrollLeft:it.scrollLeft,scrollTop:it.scrollTop}:{scrollLeft:it.pageXOffset,scrollTop:it.pageYOffset}}function b2(it){return v2(y3(it)).left+x2(it).scrollLeft}function L2(it,nt,rt){const st=c2(nt),vt=y3(nt),bt=v2(it,st&&function(Et){const Tt=v2(Et);return w2(Tt.width)!==Et.offsetWidth||w2(Tt.height)!==Et.offsetHeight}(nt),rt==="fixed");let _t={scrollLeft:0,scrollTop:0};const wt={x:0,y:0};if(st||!st&&rt!=="fixed")if((r2(nt)!=="body"||u2(vt))&&(_t=x2(nt)),c2(nt)){const Et=v2(nt,!0);wt.x=Et.x+nt.clientLeft,wt.y=Et.y+nt.clientTop}else vt&&(wt.x=b2(vt));return{x:bt.left+_t.scrollLeft-wt.x,y:bt.top+_t.scrollTop-wt.y,width:bt.width,height:bt.height}}function E2(it){if(r2(it)==="html")return it;const nt=it.assignedSlot||it.parentNode||(f2(it)?it.host:null)||y3(it);return f2(nt)?nt.host:nt}function R(it){return c2(it)&&i3(it).position!=="fixed"?it.offsetParent:null}function T2(it){const nt=o3(it);let rt=R(it);for(;rt&&a2(rt)&&i3(rt).position==="static";)rt=R(rt);return rt&&(r2(rt)==="html"||r2(rt)==="body"&&i3(rt).position==="static"&&!d2(rt))?nt:rt||function(st){let vt=E2(st);for(;c2(vt)&&!g2(vt);){if(d2(vt))return vt;vt=E2(vt)}return null}(it)||nt}function W(it){const nt=E2(it);return g2(nt)?it.ownerDocument.body:c2(nt)&&u2(nt)?nt:W(nt)}function H(it,nt){var rt;nt===void 0&&(nt=[]);const st=W(it),vt=st===((rt=it.ownerDocument)==null?void 0:rt.body),bt=o3(st),_t=vt?[bt].concat(bt.visualViewport||[],u2(st)?st:[]):st,wt=nt.concat(_t);return vt?wt:wt.concat(H(_t))}function D2(it,nt,rt){return nt==="viewport"?l(function(st,vt){const bt=o3(st),_t=y3(st),wt=bt.visualViewport;let Et=_t.clientWidth,Tt=_t.clientHeight,$t=0,Dt=0;if(wt){Et=wt.width,Tt=wt.height;const Lt=h2();(Lt||!Lt&&vt==="fixed")&&($t=wt.offsetLeft,Dt=wt.offsetTop)}return{width:Et,height:Tt,x:$t,y:Dt}}(it,rt)):s2(nt)?function(st,vt){const bt=v2(st,!1,vt==="fixed"),_t=bt.top+st.clientTop,wt=bt.left+st.clientLeft;return{top:_t,left:wt,x:wt,y:_t,right:wt+st.clientWidth,bottom:_t+st.clientHeight,width:st.clientWidth,height:st.clientHeight}}(nt,rt):l(function(st){var vt;const bt=y3(st),_t=x2(st),wt=(vt=st.ownerDocument)==null?void 0:vt.body,Et=p2(bt.scrollWidth,bt.clientWidth,wt?wt.scrollWidth:0,wt?wt.clientWidth:0),Tt=p2(bt.scrollHeight,bt.clientHeight,wt?wt.scrollHeight:0,wt?wt.clientHeight:0);let $t=-_t.scrollLeft+b2(st);const Dt=-_t.scrollTop;return i3(wt||bt).direction==="rtl"&&($t+=p2(bt.clientWidth,wt?wt.clientWidth:0)-Et),{width:Et,height:Tt,x:$t,y:Dt}}(y3(it)))}var A={getClippingRect:function(it){let{element:nt,boundary:rt,rootBoundary:st,strategy:vt}=it;const bt=rt==="clippingAncestors"?function(Tt){let $t=H(Tt).filter(Ht=>s2(Ht)&&r2(Ht)!=="body"),Dt=null;const Lt=i3(Tt).position==="fixed";let Bt=Lt?E2(Tt):Tt;for(;s2(Bt)&&!g2(Bt);){const Ht=i3(Bt),Ut=d2(Bt);(Lt?Ut||Dt:Ut||Ht.position!=="static"||!Dt||!["absolute","fixed"].includes(Dt.position))?Dt=Ht:$t=$t.filter(It=>It!==Bt),Bt=E2(Bt)}return $t}(nt):[].concat(rt),_t=[...bt,st],wt=_t[0],Et=_t.reduce((Tt,$t)=>{const Dt=D2(nt,$t,vt);return Tt.top=p2(Dt.top,Tt.top),Tt.right=m2(Dt.right,Tt.right),Tt.bottom=m2(Dt.bottom,Tt.bottom),Tt.left=p2(Dt.left,Tt.left),Tt},D2(nt,wt,vt));return{width:Et.right-Et.left,height:Et.bottom-Et.top,x:Et.left,y:Et.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(it){let{rect:nt,offsetParent:rt,strategy:st}=it;const vt=c2(rt),bt=y3(rt);if(rt===bt)return nt;let _t={scrollLeft:0,scrollTop:0};const wt={x:0,y:0};if((vt||!vt&&st!=="fixed")&&((r2(rt)!=="body"||u2(bt))&&(_t=x2(rt)),c2(rt))){const Et=v2(rt,!0);wt.x=Et.x+rt.clientLeft,wt.y=Et.y+rt.clientTop}return __spreadProps(__spreadValues({},nt),{x:nt.x-_t.scrollLeft+wt.x,y:nt.y-_t.scrollTop+wt.y})},isElement:s2,getDimensions:function(it){if(c2(it))return{width:it.offsetWidth,height:it.offsetHeight};const nt=v2(it);return{width:nt.width,height:nt.height}},getOffsetParent:T2,getDocumentElement:y3,async getElementRects(it){let{reference:nt,floating:rt,strategy:st}=it;const vt=this.getOffsetParent||T2,bt=this.getDimensions;return{reference:L2(nt,await vt(rt),st),floating:__spreadValues({x:0,y:0},await bt(rt))}},getClientRects:it=>Array.from(it.getClientRects()),isRTL:it=>i3(it).direction==="rtl"};function C(it,nt,rt,st){st===void 0&&(st={});const{ancestorScroll:vt=!0,ancestorResize:bt=!0,elementResize:_t=!0,animationFrame:wt=!1}=st,Et=vt&&!wt,Tt=Et||bt?[...s2(it)?H(it):it.contextElement?H(it.contextElement):[],...H(nt)]:[];Tt.forEach(Bt=>{Et&&Bt.addEventListener("scroll",rt,{passive:!0}),bt&&Bt.addEventListener("resize",rt)});let $t,Dt=null;if(_t){let Bt=!0;Dt=new ResizeObserver(()=>{Bt||rt(),Bt=!1}),s2(it)&&!wt&&Dt.observe(it),s2(it)||!it.contextElement||wt||Dt.observe(it.contextElement),Dt.observe(nt)}let Lt=wt?v2(it):null;return wt&&function Bt(){const Ht=v2(it);!Lt||Ht.x===Lt.x&&Ht.y===Lt.y&&Ht.width===Lt.width&&Ht.height===Lt.height||rt(),Lt=Ht,$t=requestAnimationFrame(Bt)}(),rt(),()=>{var Bt;Tt.forEach(Ht=>{Et&&Ht.removeEventListener("scroll",rt),bt&&Ht.removeEventListener("resize",rt)}),(Bt=Dt)==null||Bt.disconnect(),Dt=null,wt&&cancelAnimationFrame($t)}}var O2=(it,nt,rt)=>o2(it,nt,__spreadValues({platform:A},rt)),SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(it){super.updated(it),it.has("active")&&(this.active?this.start():this.stop()),it.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const it=this.getRootNode();this.anchorEl=it.getElementById(this.anchor)}else this.anchor instanceof HTMLElement?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){!this.anchorEl||(this.cleanup=C(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(it=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>it())):it()})}reposition(){if(!this.active||!this.anchorEl)return;const it=[T({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?it.push(k({apply:({rects:nt})=>{const rt=this.sync==="width"||this.sync==="both",st=this.sync==="height"||this.sync==="both";this.popup.style.width=rt?`${nt.reference.width}px`:"",this.popup.style.height=st?`${nt.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&it.push(b({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&it.push(L$2({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?it.push(k({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:nt,availableHeight:rt})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${rt}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${nt}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&it.push(m$1({element:this.arrowEl,padding:this.arrowPadding})),O2(this.anchorEl,this.popup,{placement:this.placement,middleware:it,strategy:this.strategy}).then(({x:nt,y:rt,middlewareData:st,placement:vt})=>{const bt=getComputedStyle(this).direction==="rtl",_t={top:"bottom",right:"left",bottom:"top",left:"right"}[vt.split("-")[0]];if(this.setAttribute("data-current-placement",vt),Object.assign(this.popup.style,{left:`${nt}px`,top:`${rt}px`}),this.arrow){const wt=st.arrow.x,Et=st.arrow.y;let Tt="",$t="",Dt="",Lt="";if(this.arrowPlacement==="start"){const Bt=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";Tt=typeof Et=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",$t=bt?Bt:"",Lt=bt?"":Bt}else if(this.arrowPlacement==="end"){const Bt=typeof wt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";$t=bt?"":Bt,Lt=bt?Bt:"",Dt=typeof Et=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?(Lt=typeof wt=="number"?"calc(50% - var(--arrow-size-diagonal))":"",Tt=typeof Et=="number"?"calc(50% - var(--arrow-size-diagonal))":""):(Lt=typeof wt=="number"?`${wt}px`:"",Tt=typeof Et=="number"?`${Et}px`:"");Object.assign(this.arrowEl.style,{top:Tt,right:$t,bottom:Dt,left:Lt,[_t]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return y$2`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${o$1({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?y$2`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([i2$2(".popup")],SlPopup.prototype,"popup",2);__decorateClass([i2$2(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([e2$2()],SlPopup.prototype,"anchor",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([e2$2({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([e2$2({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([e2$2({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([e2$2({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([e2$2({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([e2$2({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([e2$2({attribute:"flip-fallback-placements",converter:{fromAttribute:it=>it.split(" ").map(nt=>nt.trim()).filter(nt=>nt!==""),toAttribute:it=>it.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([e2$2({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([e2$2({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([e2$2({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([e2$2({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([e2$2()],SlPopup.prototype,"sync",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([e2$2({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);SlPopup=__decorateClass([e$1("sl-popup")],SlPopup);const _hoisted_1$v={id:"add-media-resource-dialog",label:"Add Media Resource"},_hoisted_2$q=createBaseVNode("img",{id:"img",style:{paddingLeft:"16px",height:"100%"}},null,-1),_hoisted_3$k=[_hoisted_2$q],_hoisted_4$g=createBaseVNode("div",{class:"fields"},[createBaseVNode("sl-input",{autocomplete:"off",id:"resource-folder",placeholder:"Folder",pattern:"^[A-z0-9\\/\\-_]+$"}),createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"resource-name",placeholder:"Name",pattern:"^[A-z0-9\\-_ ]+$"}),createBaseVNode("sl-input",{autocomplete:"off",id:"resource-summary",placeholder:"Summary"})],-1),_hoisted_5$e={class:"metadata"},_hoisted_6$b={class:"exif-data"},_hoisted_7$9=["innerHTML"],_hoisted_8$9=["innerHTML"],_hoisted_9$7={class:"depicted"},_hoisted_10$6={class:"search"},_hoisted_11$5=createBaseVNode("div",null,"Entities:",-1),_hoisted_12$4=["data-entity"],_hoisted_13$4=["innerHTML"],_hoisted_14$4=["innerHTML"],_hoisted_15$4=["onClick"],_hoisted_16$4=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_sfc_main$x=defineComponent({__name:"AddMediaResourceDialog.ce",props:{path:{type:String},show:{type:Boolean}},setup(it,{expose:nt}){const rt=it;nt({isOpen:wi,show:Xi});const st=ref(""),vt=ref(),bt=ref(),_t=ref(),wt=ref(),Et=ref([]),Tt=ref(),$t=ref(),Dt=ref(),Lt=ref(),Bt=ref(),Ht=ref(),Ut=ref(),It=ref(),jt=ref(),Wt=ref({}),qt=ref([]),Yt=ref(!1),ti=ref(null),oi=computed(()=>{var nn;return(nn=ti==null?void 0:ti.value)==null?void 0:nn.parentNode});computed(()=>{var nn,Ai;return(Ai=(nn=ti.value)==null?void 0:nn.getRootNode())==null?void 0:Ai.host}),onMounted(()=>si()),watch$1(Yt,()=>{Tt.value&&(Tt.value.open=Yt.value)}),watch$1(st,()=>{vt.value=new GithubClient(st.value)}),watch$1($t,()=>{vt.value=new GithubClient(st.value)}),watch$1(Et,()=>{Bt.value&&(Bt.value.value=Et.value.join("/"))}),watch$1(rt,()=>{di()});function si(){var Ai,ji,Ri,Vi,Qi,rn,Pi;let nn=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token");nn&&(st.value=nn),rt.path&&di(),Tt.value=(Ai=oi.value)==null?void 0:Ai.querySelector("#add-media-resource-dialog"),Tt.value.addEventListener("sl-hide",()=>ui()),Lt.value=(ji=oi.value)==null?void 0:ji.querySelector("#add-media-resource-form"),Bt.value=(Ri=oi.value)==null?void 0:Ri.querySelector("#resource-folder"),Bt.value.value=Et.value.join("/"),Ht.value=(Vi=oi.value)==null?void 0:Vi.querySelector("#resource-name"),Ut.value=(Qi=oi.value)==null?void 0:Qi.querySelector("#resource-summary"),It.value=(rn=oi.value)==null?void 0:rn.querySelector("#img"),jt.value=(Pi=oi.value)==null?void 0:Pi.querySelector("#filePicker"),rt.show&&ci()}function di(){var nn;if(rt.path){let[Ai,ji]=((nn=rt.path.split(":").pop())==null?void 0:nn.split("?"))||[],Ri=ji?Object.fromEntries(ji.split("&").map(Qi=>Qi.split("="))):{},Vi=Ai.split("/").filter(Qi=>Qi);Vi.length>0&&(bt.value=Vi[0]),Vi.length>1&&(_t.value=Vi[1]),Vi.length>2&&(Et.value=Vi.slice(2)),Ri.ref&&(wt.value=Ri.ref||"main")}}function ui(){Bt.value&&(Bt.value.value=Et.value.join("/")),Ht.value&&(Ht.value.value=""),$t.value=void 0,jt.value&&(jt.value.value=""),Yt.value=!1}async function ci(){let nn=Lt.value;nn&&(nn.onclick||(nn.onclick=function(){},nn.addEventListener("submit",async Ai=>{var Vi,Qi,rn;Ai.preventDefault(),console.log(`Add resource: folder="${(Vi=Bt.value)==null?void 0:Vi.value}" name="${(Qi=Ht.value)==null?void 0:Qi.value}" summary="${(rn=Ut.value)==null?void 0:rn.value}"`);let ji=await Ni();const Ri=new FileReader;Ri.onloadend=async()=>{var Oi,Ii;const Pi=Ri.result;let bn=(Oi=Ht.value)==null?void 0:Oi.value.trim().replace(/ /g,"_");if(Bt.value){let Gi=[...(Ii=Bt.value)==null?void 0:Ii.value.split("/").filter($i=>$i),bn].join("/");await vt.value.putFile(bt.value,_t.value,`${Gi}.${Dt.value}`,Pi,wt.value,!0),Object.keys(ji).length>0&&await vt.value.putFile(bt.value,_t.value,`${Gi}.yaml`,jsYaml.dump(ji),wt.value),Yt.value=!1}},$t.value&&Ri.readAsBinaryString($t.value)})),Yt.value=!0)}function hi(nn){qt.value=qt.value.filter(Ai=>Ai.id!==nn)}function ei(nn){qt.value=[...qt.value,nn.detail[0]]}function wi(){return Yt.value}function Kt(){var nn;if(((nn=jt.value)==null?void 0:nn.files)&&jt.value.files.length>0){$t.value=jt.value.files[0];let Ai=$t.value.name.split(".");Dt.value=Ai.slice(-1)[0].toLowerCase();let ji=window.URL||window.webkitURL;It.value&&(It.value.onload=()=>ni().then(Ri=>{Wt.value=Ri}),It.value.src=ji.createObjectURL($t.value)),setTimeout(()=>{var Ri;return((Ri=oi.value)==null?void 0:Ri.querySelector("#resource-name")).focus()},100)}}async function Ni(){let nn={};Ut.value&&(nn.summary=Ut.value.value.trim());let Ai=oi.value?Array.from(oi.value.querySelectorAll(".depicted [data-entity]")).map(Ri=>Ri.dataset.entity):[];Ai.length>0&&(nn.depicts=Ai);let ji=await ni();return ji&&(nn={...nn,...ji}),nn}async function ni(){var Ai,ji,Ri;let nn={};try{let Vi=await tt.parse((Ai=It.value)==null?void 0:Ai.src,!0);Vi.CreateDate&&(nn.created=Vi.CreateDate.toISOString());let Qi=await tt.orientation((ji=It.value)==null?void 0:ji.src);Qi&&(nn.orientation=Qi);let rn=await tt.gps((Ri=It.value)==null?void 0:Ri.src);if(rn){let{latitude:Pi,longitude:bn}=rn;Pi&&(nn.location=`${Pi.toFixed(7)},${bn.toFixed(7)}`)}}catch(Vi){console.log(Vi)}return nn}function Fi(){Yt.value=!1}function Xi(nn){nn?ci():ui()}return(nn,Ai)=>{var ji,Ri,Vi;return openBlock(),createElementBlock("div",{ref_key:"root",ref:ti,class:"main"},[createBaseVNode("sl-dialog",_hoisted_1$v,[createBaseVNode("form",{style:normalizeStyle({display:(ji=$t.value)!=null&&ji.name?"grid":"none"}),id:"add-media-resource-form",class:"input-validation-pattern"},[createBaseVNode("div",{style:normalizeStyle({height:`${(Ri=$t.value)!=null&&Ri.name?120:0}px`})},_hoisted_3$k,4),_hoisted_4$g,createBaseVNode("div",_hoisted_5$e,[createBaseVNode("div",_hoisted_6$b,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Wt.value,(Qi,rn,Pi)=>(openBlock(),createElementBlock("li",{key:`exif-${Pi}`},[createBaseVNode("span",{class:"label",innerHTML:rn},null,8,_hoisted_7$9),createBaseVNode("span",{class:"value",innerHTML:Qi},null,8,_hoisted_8$9)]))),128))])]),createBaseVNode("div",_hoisted_9$7,[createBaseVNode("div",_hoisted_10$6,[_hoisted_11$5,createBaseVNode("ve-wikidata-search",{onEntitySelected:ei},null,32)]),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(qt.value,Qi=>(openBlock(),createElementBlock("li",{key:Qi.id,"data-entity":Qi.id},[createBaseVNode("span",{class:"entity-label",innerHTML:Qi.label},null,8,_hoisted_13$4),createBaseVNode("span",{class:"entity-description",innerHTML:Qi.description||""},null,8,_hoisted_14$4),createBaseVNode("sl-icon-button",{class:"remove-entity",onClick:rn=>hi(Qi.id),id:"remove-icon",name:"trash",label:"Remove entity"},null,8,_hoisted_15$4)],8,_hoisted_12$4))),128))])])]),createBaseVNode("div",{class:"buttons"},[createBaseVNode("sl-button",{onClick:Fi},"Cancel"),_hoisted_16$4])],4),createBaseVNode("input",{style:normalizeStyle({display:(Vi=$t.value)!=null&&Vi.name?"none":"block"}),id:"filePicker",type:"file",accept:"image/x-png,image/jpeg,image/gif",onChange:Kt},null,36)])],512)}}}),_style_0$q=`:host{font-family:Roboto,sans-serif}*{box-sizing:border-box}input[type=file]{font-size:1.2rem}form{margin:12px}form .buttons{display:flex;gap:12px;justify-content:center}form{display:grid;height:60vh;grid-template-columns:1fr;grid-template-rows:auto auto 1fr auto;margin:0;gap:12px}.metadata{height:100%;overflow-y:scroll;overflow-x:hidden;margin:0}.exif-data ul{list-style:none;margin:0;padding:0}.label{font-weight:700;margin-right:12px}.label:after{content:":"}.fields{display:flex;flex-direction:column;gap:6px}.search{display:flex;align-items:center;gap:12px}.search div{font-size:1.1rem;font-weight:700}ve-wikidata-search{width:100%}.depicted{margin-top:12px}.depicted ul{list-style:none;margin:12px 0;padding:0;width:95%}.depicted ul li{display:flex;align-items:flex-start;gap:6px;margin-bottom:9px;width:100%}.entity-label{width:30%}.entity-description{width:50%}.remove-entity{margin-left:auto}.value{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}
`,_export_sfc=(it,nt)=>{const rt=it.__vccOpts||it;for(const[st,vt]of nt)rt[st]=vt;return rt},AddMediaResourceDialog=_export_sfc(_sfc_main$x,[["styles",[_style_0$q]]]),_hoisted_1$u={ref:"root",class:"main"},_hoisted_2$p=["content"],_hoisted_3$j=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"20px"}},null,-1),_hoisted_4$f={key:1,content:"Click to Login with Github",placement:"top"},_hoisted_5$d=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"20px"}},null,-1),_sfc_main$w=defineComponent({__name:"Auth.ce",setup(it){const nt={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","beta.juncture-digital.org":"f30ce4168a0bb95ecaa3","dev.juncture-digital.org":"bb290b5a738cb6fe31c7"},rt=ref(""),st=ref(),vt=computed(()=>rt.value!==null),bt=ref(null),_t=ref(null);onMounted(()=>{rt.value=window.localStorage.getItem("gh-auth-token"),_t.value=window.localStorage.getItem("gh-username"),window.addEventListener("storage",()=>rt.value=window.localStorage.getItem("gh-auth-token"));let $t=new URL(window.location.href).searchParams.get("code");if($t){let Dt=`${location.pathname}${location.hash}`;window.history.replaceState({},"",Dt);let Bt=window.location.hostname==="localhost"||window.location.hostname.indexOf("192.168.")===0?`http://${window.location.hostname}:8000/gh-token?code=${$t}&hostname=${window.location.hostname}`:`https://api.juncture-digital.org/gh-token?code=${$t}&hostname=${window.location.hostname}`;fetch(Bt).then(Ht=>Ht.text()).then(Ht=>{Ht&&(localStorage.setItem("gh-auth-token",Ht),window.dispatchEvent(new Event("storage")),rt.value=window.localStorage.getItem("gh-auth-token"),Tt())}).catch(Ht=>console.log("err",Ht))}});function wt(){let $t=new URL(window.location.href).hostname,Dt=$t==="localhost"||$t.indexOf("192.168.")===0,Lt=`${window.location.href}`,Bt=Dt?`${window.location.origin}${window.location.pathname}?code=testing&redirect_uri=${location.pathname}${location.hash}`:nt[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${nt[location.hostname]}&scope=repo&state=juncture&redirect_uri=${Lt}`:null;Bt&&(window.location.href=Bt)}function Et(){Object.keys(localStorage).forEach($t=>localStorage.removeItem($t)),window.dispatchEvent(new Event("storage")),rt.value=window.localStorage.getItem("gh-auth-token"),bt.value=null,location.href=""}function Tt(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${rt.value}`}}).then($t=>$t.json()).then($t=>bt.value=$t)}return watch$1(bt,()=>{bt.value&&localStorage.setItem("gh-username",bt.value.login),_t.value=window.localStorage.getItem("gh-username")}),watch$1(rt,()=>{st.value=new GithubClient(rt.value||"")}),watch$1(st,async()=>{if(vt.value){let $t=await st.value.user().then(Dt=>Dt.login);await st.value.repos($t).then(Dt=>{Dt.find(Lt=>Lt.name==="essays")||st.value.createRepository({name:"essays",description:"Juncture visual essays"}),Dt.find(Lt=>Lt.name==="media")||st.value.createRepository({name:"media",description:"Juncture media"})})}}),($t,Dt)=>(openBlock(),createElementBlock("div",_hoisted_1$u,[unref(vt)?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Logged in as ${_t.value}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",onClick:Et},[_hoisted_3$j,createTextVNode(" Logout ")])],8,_hoisted_2$p)):(openBlock(),createElementBlock("sl-tooltip",_hoisted_4$f,[createBaseVNode("sl-button",{variant:"default",onClick:wt},[_hoisted_5$d,createTextVNode(" Login with Github ")])]))],512))}}),_style_0$p=`:host{display:inline-block}div{color:#00f}div:hover{text-decoration:underline;cursor:pointer}
`,Auth=_export_sfc(_sfc_main$w,[["styles",[_style_0$p]]]),_hoisted_1$t=["name"],_sfc_main$v=defineComponent({__name:"Button.ce",props:{href:{type:String},target:{type:String},width:{type:Number},height:{type:Number},top:{type:Number,default:0},left:{type:Number,default:0},label:{type:String},icon:{type:String},authRequired:{type:Boolean,default:!1}},setup(it){const nt=it,rt=window,st=ref(null),vt=computed(()=>{var Et,Tt;return(Tt=(Et=st.value)==null?void 0:Et.getRootNode())==null?void 0:Tt.host}),bt=ref(""),_t=computed(()=>bt.value!==null);onMounted(()=>{bt.value=window.localStorage.getItem("gh-auth-token"),window.addEventListener("storage",()=>bt.value=window.localStorage.getItem("gh-auth-token"))}),watch$1(vt,()=>{var Et;((Et=vt.value)==null?void 0:Et.parentElement.tagName)==="LI"&&vt.value.parentElement.children.length===1&&(vt.value.parentElement.style.display=!nt.authRequired||_t.value?"block":"none")}),watch$1(_t,()=>{var Et;((Et=vt.value)==null?void 0:Et.parentElement.tagName)==="LI"&&vt.value.parentElement.children.length===1&&(vt.value.parentElement.style.display=!nt.authRequired||_t.value?"block":"none")});function wt(){if(nt.target==="_blank"){let Et=nt.width||1040,Tt=nt.height||Math.max(window.innerHeight,1500);rt.junctureWindow&&rt.junctureWindow.close();let $t=`toolbar=yes,location=yes,left=${nt.left},top=${nt.top},width=${Et},height=${Tt},scrollbars=yes,status=yes`;rt.junctureWindow=window.open(nt.href,"_blank",$t)}else nt.href&&(location.href=nt.href)}return(Et,Tt)=>!nt.authRequired||unref(_t)?(openBlock(),createElementBlock("sl-button",{key:0,ref_key:"root",ref:st,onClick:wt},[nt.icon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:nt.icon},null,8,_hoisted_1$t)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(nt.label),1)],512)):createCommentVNode("",!0)}}),_style_0$o=`*{box-sizing:border-box}.ve-component{z-index:2;position:relative}ve-media-card{height:100%}.manifest-popup{border:1px solid #555;background-color:#fff;width:350px;max-height:500px;overflow-y:scroll;border-radius:6px;padding:4px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}main>p:first-of-type{padding-top:24px}.markdown-section h1,.markdown-section h2,.markdown-section h3,.markdown-section h4,.markdown-section h5,.markdown-section h6{line-height:1.2}.right{float:right;top:0;width:calc(50% - 12px)}.visible{visibility:visible;opacity:1;transition:opacity .5s linear}.hidden{visibility:hidden;opacity:0;transition:visibility 0s .5s,opacity .5s linear}#juncture section{display:flow-root;position:relative}#juncture>section{margin-top:2rem}#juncture>section>section,#juncture>section>section>section{margin-top:2rem}#juncture>section>section>section>section,#juncture>section>section>section>section>section,#juncture>section>section>section>section>section>section{margin-top:1rem;padding-top:0}#juncture section>h1,#juncture section>h2,#juncture section>h3,#juncture section>h4,#juncture section>h5,#juncture section>h6{padding-top:0;margin-top:unset;margin-bottom:1.5rem;padding-bottom:0}#juncture section ol,#juncture section ul{padding:.5em .5em .5em 1.4em}#juncture section li>p{margin:0}body{font-family:Roboto,sans-serif;margin:0;background-color:#fff}.clear{clear:both}#juncture section.sticky{position:sticky;top:0;z-index:3;background-color:#fff;padding-top:6px}ve-footer ul{display:none}#juncture section{background-color:inherit}#juncture .section1,#juncture .section2{width:100%;clear:both;background-color:inherit}.noclear{clear:none}.drop-shadow{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.hide{display:none}.show-active p{border-left:8px solid transparent}.show-active p.active{border-left:4px solid #ccc;padding-left:4px}ve-header>ul{display:none}ve-footer{clear:both}main{background-color:inherit}:target:before{content:"";display:block;height:80px;margin:-32px 0 0}section.no-offset:target:before{display:none}#juncture section.footnote{font-size:80%;margin-top:1rem}.ve-component.sticky+div.footnote,.ve-component.sticky~div.footnote{width:100%}@media (max-width: 480px){#juncture{font-size:1.2rem;line-height:1.3;padding:0 0 40vh}#juncture h1{font-size:1.5em}#juncture h2{font-size:1.4em}#juncture h3{font-size:1.3em}#juncture>section{padding:0 6px}#juncture section.sticky.right{display:none}}@media (min-width: 481px){body{margin:0 2rem}#juncture{font-size:1.3rem;line-height:1.4;padding:0;max-width:1200px;margin:auto}.ve-component{z-index:2}.ve-component[grid]{z-index:3}ve-map.full{padding-bottom:12px}.right{margin-left:12px}.left{margin-right:12px}.sticky.right+section,.sticky.right~section,.sticky.right+div,.sticky.right~div,.sticky.right+p,.sticky.right~p,.sticky.right+ol,.sticky.right~ol .sticky.right+ul,.sticky.right~ul,.sticky.right+blockquote,.sticky.right~blockquote{width:50%;margin-left:0;padding-right:9px}.ve-component.sticky.left+section,.ve-component.sticky.left~section,.ve-component.sticky.left+div,.ve-component.sticky.left~div,.ve-component.sticky.left+p,.ve-component.sticky.left~p,.ve-component.sticky.left+ol,.ve-component.sticky.left~ol .ve-component.sticky.left+ul,.ve-component.sticky.left~ul,.ve-component.sticky.left+blockquote,.ve-component.sticky.left~blockquote{margin-left:50%;padding-left:9px}.ve-component.sticky+section,.ve-component.sticky~section,#juncture section.sticky+section,#juncture section.sticky~section{clear:none}.ve-component.sticky.left.text-left+section,.ve-component.sticky.left.text-left~section{margin-left:0}.ve-component.sticky.left.text-left+div,.ve-component.sticky.left.text-left~div,.ve-component.sticky.left.text-left+p,.ve-component.sticky.left.text-left~p,.ve-component.sticky.left.text-left+ol,.ve-component.sticky.left.text-left~ol .ve-component.sticky.left.text-left+ul,.ve-component.sticky.left.text-left~ul,.ve-component.sticky.left.text-left+blockquote,.ve-component.sticky.left.text-left~blockquote{width:50%;margin-left:0;padding-right:9px}.ve-component.sticky.right.text-right+section,.ve-component.sticky.right.text-right~section,.ve-component.sticky.right.text-right+div,.ve-component.sticky.right.text-right~div,.ve-component.sticky.right.text-right+p,.ve-component.sticky.right.text-right~p,.ve-component.sticky.right.text-right+ol,.ve-component.sticky.right.text-right~ol .ve-component.sticky.right.text-right+ul,.ve-component.sticky.right.text-right~ul,.ve-component.sticky.right.text-right+blockquote,.ve-component.sticky.right.text-right~blockquote{margin-left:50%;padding-left:9px}}#juncture section.tab{height:calc(100% - 84px);overflow-y:scroll;border:1px solid #ccc}#juncture .tabs label{margin-bottom:0}#juncture input{display:none}#juncture input+label{display:inline-block}#juncture input~.tab{visibility:hidden}#juncture #tab1:checked~.tab.content1,#juncture #tab2:checked~.tab.content2,#juncture #tab3:checked~.tab.content3,#juncture #tab4:checked~.tab.content4,#juncture #tab5:checked~.tab.content5,#juncture #tab6:checked~.tab.content6{visibility:visible}#juncture input+label{border:1px solid #999;background:#EEE;padding:4px 12px;border-radius:4px 4px 0 0;position:relative;top:1px;cursor:pointer}#juncture input:checked+label{background:#FFF;border-bottom:1px solid white;z-index:2}#juncture input~.tab{border-top:1px solid #999;padding:12px}#juncture h1{margin-bottom:32px}#juncture .tab{position:absolute;visibility:hidden;width:100%;height:100%;padding:1rem 0}#juncture .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(265px,1fr));grid-auto-rows:1fr;row-gap:2rem;column-gap:2rem}#juncture .cards.wrapper>section{padding:0}#juncture .card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;padding:0;border:1px solid #ddd;border-radius:6px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#juncture .card p{border:none}#juncture .card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:300px}#juncture .card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}#juncture .card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.4rem .5rem;margin:0;font-size:1.1rem;font-weight:700;max-height:260px;overflow-y:scroll}#juncture .card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-start;min-height:110px;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;margin:0 0 .5rem;-webkit-line-clamp:12}.clamp5{-webkit-line-clamp:5}#juncture .hero{display:flex;flex-direction:column;height:400px;margin-top:0}#juncture .hero-text{color:#fff;text-align:center;font-size:2.5rem;max-width:60%;margin:auto;font-family:Georgia;hyphens:unset}#juncture .cta{background-color:#ffe55a;border-radius:50px;font-family:Roboto;font-size:2rem;padding:16px 72px;margin:0 auto auto;text-align:center}@media (max-width: 480px){#juncture .hero-text{font-size:2rem;max-width:80%}#juncture .cta{font-size:1.5rem;padding:12px 60px}}mark{cursor:pointer;background:unset;border-bottom:1px solid #ccc;color:#444}mark:hover{border-bottom:2px solid #444;background:#eee}mark:after{color:#aaa;font-size:50%;line-height:0;position:relative;vertical-align:baseline;top:-.3em;padding-left:2px;padding-right:4px}mark.anno:after,mark.zoomto:after{content:"\\1f50e"}mark.play:after{content:"\\25b6"}mark.flyto:after{content:"\\2708";font-size:120%;top:0}#juncture a{color:#0645ad;text-decoration:none}#juncture a:visited{color:#0b0080}#juncture a:hover{color:#06e}#juncture a:active{color:#faa700}#juncture a:focus{outline:thin dotted}#juncture a:hover,#juncture a:active{outline:0}::-moz-selection{background:rgba(255,255,0,.3);color:#000}::selection{background:rgba(255,255,0,.3);color:#000}#juncture a::-moz-selection{background:rgba(255,255,0,.3);color:#0645ad}#juncture a::selection{background:rgba(255,255,0,.3);color:#0645ad}#juncture p,#juncture li{line-height:1.4;color:#444;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}#juncture p{margin:0 0 1rem}#juncture img{max-width:100%}#juncture h1,#juncture h2,#juncture h3,#juncture h4,#juncture h5,#juncture h6{font-weight:500;color:#444;line-height:1em}#juncture h4,#juncture h5 #juncture h6{font-weight:500}#juncture h1{font-size:1.8em}#juncture h2{font-size:1.6em}#juncture h3{font-size:1.5em}#juncture h4{font-size:1.2em}#juncture h5{font-size:1em}#juncture h6{font-size:.9em}#juncture blockquote{color:#666;margin:0;padding-left:1em;border-left:.5em #EEE solid}#juncture hr{display:block;height:2px;border:0;border-top:1px solid #aaa;border-bottom:1px solid #eee;margin:1em 0;padding:0}#juncture pre,#juncture code,#juncture kbd,#juncture samp{color:#900;background-color:#eee;padding:0;font-family:monospace,monospace;_font-family:"courier new",monospace;font-size:1em}#juncture pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}#juncture b,#juncture strong{font-weight:700}#juncture dfn{font-style:italic}#juncture ins{background:#ff9;color:#000;text-decoration:none}#juncture sub,#juncture sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#juncture sup{top:-.5em}#juncture sub{bottom:-.25em}#juncture ul,#juncture ol{margin:0;padding:0 0 0 2em}#juncture li p:last-child{margin:0}#juncture dd{margin:0 0 0 2em}#juncture img{border:0;-ms-interpolation-mode:bicubic;vertical-align:middle}#juncture table{border-collapse:collapse;border-spacing:0;width:100%}#juncture th{border-bottom:1px solid black}#juncture td{vertical-align:top}#juncture table{border:1px solid #555}#juncture td,#juncture th{border:1px solid #555;padding:8px;line-height:1.2}#juncture th{background-color:#e2f0f7;font-weight:700;text-align:center}
`,_style_1$6=`:host{display:inline-block}
`,Button=_export_sfc(_sfc_main$v,[["styles",[_style_0$o,_style_1$6]]]);var alert_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: contents;

    /* For better DX, we'll reset the margin here so the base part can inherit it */
    margin: 0;
  }

  .alert {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-top-width: calc(var(--sl-panel-border-width) * 3);
    border-radius: var(--sl-border-radius-medium);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-normal);
    line-height: 1.6;
    color: var(--sl-color-neutral-700);
    margin: inherit;
  }

  .alert:not(.alert--has-icon) .alert__icon,
  .alert:not(.alert--closable) .alert__close-button {
    display: none;
  }

  .alert__icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-inline-start: var(--sl-spacing-large);
  }

  .alert--primary {
    border-top-color: var(--sl-color-primary-600);
  }

  .alert--primary .alert__icon {
    color: var(--sl-color-primary-600);
  }

  .alert--success {
    border-top-color: var(--sl-color-success-600);
  }

  .alert--success .alert__icon {
    color: var(--sl-color-success-600);
  }

  .alert--neutral {
    border-top-color: var(--sl-color-neutral-600);
  }

  .alert--neutral .alert__icon {
    color: var(--sl-color-neutral-600);
  }

  .alert--warning {
    border-top-color: var(--sl-color-warning-600);
  }

  .alert--warning .alert__icon {
    color: var(--sl-color-warning-600);
  }

  .alert--danger {
    border-top-color: var(--sl-color-danger-600);
  }

  .alert--danger .alert__icon {
    color: var(--sl-color-danger-600);
  }

  .alert__message {
    flex: 1 1 auto;
    display: block;
    padding: var(--sl-spacing-large);
    overflow: hidden;
  }

  .alert__close-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
    padding-inline-end: var(--sl-spacing-medium);
  }
`,toastStack=Object.assign(document.createElement("div"),{className:"sl-toast-stack"}),SlAlert=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"icon","suffix"),this.localize=new LocalizeController2(this),this.open=!1,this.closable=!1,this.variant="primary",this.duration=1/0}firstUpdated(){this.base.hidden=!this.open}restartAutoHide(){clearTimeout(this.autoHideTimeout),this.open&&this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.duration))}handleCloseClick(){this.hide()}handleMouseMove(){this.restartAutoHide()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.duration<1/0&&this.restartAutoHide(),await stopAnimations(this.base),this.base.hidden=!1;const{keyframes:it,options:nt}=getAnimation(this,"alert.show",{dir:this.localize.dir()});await animateTo(this.base,it,nt),this.emit("sl-after-show")}else{this.emit("sl-hide"),clearTimeout(this.autoHideTimeout),await stopAnimations(this.base);const{keyframes:it,options:nt}=getAnimation(this,"alert.hide",{dir:this.localize.dir()});await animateTo(this.base,it,nt),this.base.hidden=!0,this.emit("sl-after-hide")}}handleDurationChange(){this.restartAutoHide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}async toast(){return new Promise(it=>{toastStack.parentElement===null&&document.body.append(toastStack),toastStack.appendChild(this),requestAnimationFrame(()=>{this.clientWidth,this.show()}),this.addEventListener("sl-after-hide",()=>{toastStack.removeChild(this),it(),toastStack.querySelector("sl-alert")===null&&toastStack.remove()},{once:!0})})}render(){return y$2`
      <div
        part="base"
        class=${o$1({alert:!0,"alert--open":this.open,"alert--closable":this.closable,"alert--has-icon":this.hasSlotController.test("icon"),"alert--primary":this.variant==="primary","alert--success":this.variant==="success","alert--neutral":this.variant==="neutral","alert--warning":this.variant==="warning","alert--danger":this.variant==="danger"})}
        role="alert"
        aria-hidden=${this.open?"false":"true"}
        @mousemove=${this.handleMouseMove}
      >
        <slot name="icon" part="icon" class="alert__icon"></slot>

        <slot part="message" class="alert__message" aria-live="polite"></slot>

        ${this.closable?y$2`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                class="alert__close-button"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                @click=${this.handleCloseClick}
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlAlert.styles=alert_styles_default;__decorateClass([i2$2('[part~="base"]')],SlAlert.prototype,"base",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlAlert.prototype,"open",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlAlert.prototype,"closable",2);__decorateClass([e2$2({reflect:!0})],SlAlert.prototype,"variant",2);__decorateClass([e2$2({type:Number})],SlAlert.prototype,"duration",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlAlert.prototype,"handleOpenChange",1);__decorateClass([watch("duration")],SlAlert.prototype,"handleDurationChange",1);SlAlert=__decorateClass([e$1("sl-alert")],SlAlert);setDefaultAnimation("alert.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("alert.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});var textarea_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .textarea {
    display: flex;
    align-items: center;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
    cursor: text;
  }

  /* Standard textareas */
  .textarea--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .textarea--standard:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }
  .textarea--standard:hover:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-hover);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    color: var(--sl-input-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-focus);
  }

  .textarea--standard.textarea--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea--standard.textarea--disabled .textarea__control {
    color: var(--sl-input-color-disabled);
  }

  .textarea--standard.textarea--disabled .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled textareas */
  .textarea--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .textarea--filled:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .textarea--filled.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .textarea--filled.textarea--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: 1.4;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .textarea__control::-webkit-search-decoration,
  .textarea__control::-webkit-search-cancel-button,
  .textarea__control::-webkit-search-results-button,
  .textarea__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .textarea__control:focus {
    outline: none;
  }

  /*
   * Size modifiers
   */

  .textarea--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
  }

  .textarea--small .textarea__control {
    padding: 0.5em var(--sl-input-spacing-small);
  }

  .textarea--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .textarea--medium .textarea__control {
    padding: 0.5em var(--sl-input-spacing-medium);
  }

  .textarea--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
  }

  .textarea--large .textarea__control {
    padding: 0.5em var(--sl-input-spacing-large);
  }

  /*
   * Resize types
   */

  .textarea--resize-none .textarea__control {
    resize: none;
  }

  .textarea--resize-vertical .textarea__control {
    resize: vertical;
  }

  .textarea--resize-auto .textarea__control {
    height: auto;
    resize: none;
    overflow-y: hidden;
  }
`,SlTextarea=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.hasFocus=!1,this.invalid=!1,this.title="",this.name="",this.value="",this.size="medium",this.filled=!1,this.label="",this.helpText="",this.placeholder="",this.rows=4,this.resize="vertical",this.disabled=!1,this.readonly=!1,this.required=!1,this.spellcheck=!0,this.defaultValue=""}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.setTextareaHeight()),this.updateComplete.then(()=>{this.setTextareaHeight(),this.resizeObserver.observe(this.input)})}firstUpdated(){this.invalid=!this.checkValidity()}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this.input)}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.setTextareaHeight(),this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.emit("sl-input")}setTextareaHeight(){this.resize==="auto"?(this.input.style.height="auto",this.input.style.height=`${this.input.scrollHeight}px`):this.input.style.height=void 0}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}handleRowsChange(){this.setTextareaHeight()}async handleValueChange(){await this.updateComplete,this.invalid=!this.checkValidity(),this.setTextareaHeight()}focus(it){this.input.focus(it)}blur(){this.input.blur()}select(){this.input.select()}scrollPosition(it){if(it){typeof it.top=="number"&&(this.input.scrollTop=it.top),typeof it.left=="number"&&(this.input.scrollLeft=it.left);return}return{top:this.input.scrollTop,left:this.input.scrollTop}}setSelectionRange(it,nt,rt="none"){this.input.setSelectionRange(it,nt,rt)}setRangeText(it,nt,rt,st){this.input.setRangeText(it,nt,rt,st),this.value!==this.input.value&&(this.value=this.input.value),this.value!==this.input.value&&(this.value=this.input.value,this.setTextareaHeight())}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(it){this.input.setCustomValidity(it),this.invalid=!this.checkValidity()}render(){const it=this.hasSlotController.test("label"),nt=this.hasSlotController.test("help-text"),rt=this.label?!0:!!it,st=this.helpText?!0:!!nt;return y$2`
      <div
        part="form-control"
        class=${o$1({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":rt,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${rt?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$1({textarea:!0,"textarea--small":this.size==="small","textarea--medium":this.size==="medium","textarea--large":this.size==="large","textarea--standard":!this.filled,"textarea--filled":this.filled,"textarea--disabled":this.disabled,"textarea--focused":this.hasFocus,"textarea--empty":!this.value,"textarea--invalid":this.invalid,"textarea--resize-none":this.resize==="none","textarea--resize-vertical":this.resize==="vertical","textarea--resize-auto":this.resize==="auto"})}
          >
            <textarea
              part="textarea"
              id="input"
              class="textarea__control"
              title=${this.title}
              name=${l$2(this.name)}
              .value=${l2$1(this.value)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${l$2(this.placeholder)}
              rows=${l$2(this.rows)}
              minlength=${l$2(this.minlength)}
              maxlength=${l$2(this.maxlength)}
              autocapitalize=${l$2(this.autocapitalize)}
              autocorrect=${l$2(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${l$2(this.spellcheck)}
              enterkeyhint=${l$2(this.enterkeyhint)}
              inputmode=${l$2(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            ></textarea>
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
      </div>
    `}};SlTextarea.styles=textarea_styles_default;__decorateClass([i2$2(".textarea__control")],SlTextarea.prototype,"input",2);__decorateClass([t$1()],SlTextarea.prototype,"hasFocus",2);__decorateClass([t$1()],SlTextarea.prototype,"invalid",2);__decorateClass([e2$2()],SlTextarea.prototype,"title",2);__decorateClass([e2$2()],SlTextarea.prototype,"name",2);__decorateClass([e2$2()],SlTextarea.prototype,"value",2);__decorateClass([e2$2({reflect:!0})],SlTextarea.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"filled",2);__decorateClass([e2$2()],SlTextarea.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlTextarea.prototype,"helpText",2);__decorateClass([e2$2()],SlTextarea.prototype,"placeholder",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"rows",2);__decorateClass([e2$2()],SlTextarea.prototype,"resize",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"disabled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"readonly",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"required",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"minlength",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"maxlength",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocapitalize",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocorrect",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocomplete",2);__decorateClass([e2$2({type:Boolean})],SlTextarea.prototype,"autofocus",2);__decorateClass([e2$2()],SlTextarea.prototype,"enterkeyhint",2);__decorateClass([e2$2({type:Boolean,converter:{fromAttribute:it=>!(!it||it==="false"),toAttribute:it=>it?"true":"false"}})],SlTextarea.prototype,"spellcheck",2);__decorateClass([e2$2()],SlTextarea.prototype,"inputmode",2);__decorateClass([defaultValue()],SlTextarea.prototype,"defaultValue",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleDisabledChange",1);__decorateClass([watch("rows",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleRowsChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleValueChange",1);SlTextarea=__decorateClass([e$1("sl-textarea")],SlTextarea);const _hoisted_1$s=["innerHTML"],_hoisted_2$o=["label"],_hoisted_3$i=createBaseVNode("sl-input",{id:"from",type:"email",label:"Email address"},null,-1),_hoisted_4$e=createBaseVNode("sl-alert",{id:"bad-email-alert",variant:"danger"},[createBaseVNode("sl-icon",{slot:"icon",name:"exclamation-octagon"}),createBaseVNode("strong",null,"Invalid email address"),createBaseVNode("br"),createTextVNode("Please fix and resubmit ")],-1),_hoisted_5$c=createBaseVNode("sl-textarea",{id:"message",label:"Message"},null,-1),_hoisted_6$a=createBaseVNode("sl-alert",{id:"no-message-alert",variant:"danger"},[createBaseVNode("sl-icon",{slot:"icon",name:"exclamation-octagon"}),createBaseVNode("strong",null,"No message entered"),createBaseVNode("br")],-1),_sfc_main$u=defineComponent({__name:"Contact.ce",props:{contact:{type:String},title:{type:String},subject:{type:String},show:{type:Boolean}},setup(it,{expose:nt}){const rt=it,st=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,vt="https://api.juncture-digital.org/sendmail/",bt=ref(null),_t=computed(()=>{var jt,Wt;return(Wt=(jt=bt.value)==null?void 0:jt.getRootNode())==null?void 0:Wt.host}),wt=computed(()=>{var jt;return(jt=bt==null?void 0:bt.value)==null?void 0:jt.parentNode}),Et=computed(()=>{var jt;return(jt=_t.value)==null?void 0:jt.innerHTML}),Tt=ref(!1);nt({show:Tt}),watch$1(Tt,()=>$t.open=Tt.value);let $t,Dt,Lt,Bt,Ht;onMounted(()=>{Tt.value=rt.show}),watch$1(rt,()=>{Tt.value=rt.show}),watch$1(_t,()=>{var jt,Wt,qt,Yt,ti;$t=(jt=wt.value)==null?void 0:jt.querySelector(".contact-dialog"),Dt=(Wt=wt.value)==null?void 0:Wt.querySelector("#from"),Bt=(qt=wt.value)==null?void 0:qt.querySelector("#message"),Lt=(Yt=wt.value)==null?void 0:Yt.querySelector("#bad-email-alert"),Ht=(ti=wt.value)==null?void 0:ti.querySelector("#no-message-alert"),$t.addEventListener("sl-hide",()=>Tt.value=!1)});function Ut(){$t.hide(),Dt.value="",Bt.value="",Lt.hide(),Ht.hide()}async function It(){let jt=st.test(Dt.value);jt?Lt.hide():Lt.show();let Wt=Bt.value.trim().length>0;if(Wt?Ht.hide():Ht.show(),jt&&Wt){let qt={to:rt.contact,from:Dt.value,subject:rt.subject||"Contact Us",message:Bt.value};Ut(),await fetch(vt,{method:"POST",body:JSON.stringify(qt)})}}return(jt,Wt)=>(openBlock(),createElementBlock("section",{ref_key:"root",ref:bt,class:"main"},[unref(Et)?(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:Wt[0]||(Wt[0]=withModifiers(qt=>Tt.value=!Tt.value,["prevent"])),innerHTML:unref(Et)},null,8,_hoisted_1$s)):createCommentVNode("",!0),createBaseVNode("sl-dialog",{label:rt.title||"Contact Us",class:"contact-dialog"},[_hoisted_3$i,_hoisted_4$e,_hoisted_5$c,_hoisted_6$a,createBaseVNode("sl-button",{id:"cancel",slot:"footer",onClick:Ut},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:It},"Submit")],8,_hoisted_2$o)],512))}}),_style_0$n=`*{box-sizing:border-box}:host{display:inline-block}sl-input,sl-textarea{padding:12px 0}sl-dialog::part(title),sl-input::part(form-control),sl-textarea::part(form-control){text-align:left}
`,Contact=_export_sfc(_sfc_main$u,[["styles",[_style_0$n]]]);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(it){return it&&it.__esModule&&Object.prototype.hasOwnProperty.call(it,"default")?it.default:it}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(it){return Object.prototype.toString.call(it)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(it){return typeof it=="object"&&it.buffer&&it.buffer.constructor===ArrayBuffer});var createOutputMethod=function(it,nt){return function(rt){return new Sha256(nt,!0).update(rt)[it]()}},createMethod=function(it){var nt=createOutputMethod("hex",it);NODE_JS&&(nt=nodeWrap(nt,it)),nt.create=function(){return new Sha256(it)},nt.update=function(vt){return nt.create().update(vt)};for(var rt=0;rt<OUTPUT_TYPES.length;++rt){var st=OUTPUT_TYPES[rt];nt[st]=createOutputMethod(st,it)}return nt},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(it){if(typeof it=="string")return crypto.createHash(algorithm).update(it,"utf8").digest("hex");if(it==null)throw new Error(ERROR);return it.constructor===ArrayBuffer&&(it=new Uint8Array(it)),Array.isArray(it)||ArrayBuffer.isView(it)||it.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(it)).digest("hex"):method(it)};return nodeMethod},createHmacOutputMethod=function(it,nt){return function(rt,st){return new HmacSha256(rt,nt,!0).update(st)[it]()}},createHmacMethod=function(it){var nt=createHmacOutputMethod("hex",it);nt.create=function(vt){return new HmacSha256(vt,it)},nt.update=function(vt,bt){return nt.create(vt).update(bt)};for(var rt=0;rt<OUTPUT_TYPES.length;++rt){var st=OUTPUT_TYPES[rt];nt[st]=createHmacOutputMethod(st,it)}return nt};function Sha256(it,nt){nt?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],it?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=it}Sha256.prototype.update=function(it){if(!this.finalized){var nt,rt=typeof it;if(rt!=="string"){if(rt==="object"){if(it===null)throw new Error(ERROR);if(ARRAY_BUFFER&&it.constructor===ArrayBuffer)it=new Uint8Array(it);else if(!Array.isArray(it)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(it)))throw new Error(ERROR)}else throw new Error(ERROR);nt=!0}for(var st,vt=0,bt,_t=it.length,wt=this.blocks;vt<_t;){if(this.hashed&&(this.hashed=!1,wt[0]=this.block,wt[16]=wt[1]=wt[2]=wt[3]=wt[4]=wt[5]=wt[6]=wt[7]=wt[8]=wt[9]=wt[10]=wt[11]=wt[12]=wt[13]=wt[14]=wt[15]=0),nt)for(bt=this.start;vt<_t&&bt<64;++vt)wt[bt>>2]|=it[vt]<<SHIFT[bt++&3];else for(bt=this.start;vt<_t&&bt<64;++vt)st=it.charCodeAt(vt),st<128?wt[bt>>2]|=st<<SHIFT[bt++&3]:st<2048?(wt[bt>>2]|=(192|st>>6)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]):st<55296||st>=57344?(wt[bt>>2]|=(224|st>>12)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>6&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]):(st=65536+((st&1023)<<10|it.charCodeAt(++vt)&1023),wt[bt>>2]|=(240|st>>18)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>12&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>6&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]);this.lastByteIndex=bt,this.bytes+=bt-this.start,bt>=64?(this.block=wt[16],this.start=bt-64,this.hash(),this.hashed=!0):this.start=bt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var it=this.blocks,nt=this.lastByteIndex;it[16]=this.block,it[nt>>2]|=EXTRA[nt&3],this.block=it[16],nt>=56&&(this.hashed||this.hash(),it[0]=this.block,it[16]=it[1]=it[2]=it[3]=it[4]=it[5]=it[6]=it[7]=it[8]=it[9]=it[10]=it[11]=it[12]=it[13]=it[14]=it[15]=0),it[14]=this.hBytes<<3|this.bytes>>>29,it[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var it=this.h0,nt=this.h1,rt=this.h2,st=this.h3,vt=this.h4,bt=this.h5,_t=this.h6,wt=this.h7,Et=this.blocks,Tt,$t,Dt,Lt,Bt,Ht,Ut,It,jt,Wt,qt;for(Tt=16;Tt<64;++Tt)Bt=Et[Tt-15],$t=(Bt>>>7|Bt<<25)^(Bt>>>18|Bt<<14)^Bt>>>3,Bt=Et[Tt-2],Dt=(Bt>>>17|Bt<<15)^(Bt>>>19|Bt<<13)^Bt>>>10,Et[Tt]=Et[Tt-16]+$t+Et[Tt-7]+Dt<<0;for(qt=nt&rt,Tt=0;Tt<64;Tt+=4)this.first?(this.is224?(It=300032,Bt=Et[0]-1413257819,wt=Bt-150054599<<0,st=Bt+24177077<<0):(It=704751109,Bt=Et[0]-210244248,wt=Bt-1521486534<<0,st=Bt+143694565<<0),this.first=!1):($t=(it>>>2|it<<30)^(it>>>13|it<<19)^(it>>>22|it<<10),Dt=(vt>>>6|vt<<26)^(vt>>>11|vt<<21)^(vt>>>25|vt<<7),It=it&nt,Lt=It^it&rt^qt,Ut=vt&bt^~vt&_t,Bt=wt+Dt+Ut+K[Tt]+Et[Tt],Ht=$t+Lt,wt=st+Bt<<0,st=Bt+Ht<<0),$t=(st>>>2|st<<30)^(st>>>13|st<<19)^(st>>>22|st<<10),Dt=(wt>>>6|wt<<26)^(wt>>>11|wt<<21)^(wt>>>25|wt<<7),jt=st&it,Lt=jt^st&nt^It,Ut=wt&vt^~wt&bt,Bt=_t+Dt+Ut+K[Tt+1]+Et[Tt+1],Ht=$t+Lt,_t=rt+Bt<<0,rt=Bt+Ht<<0,$t=(rt>>>2|rt<<30)^(rt>>>13|rt<<19)^(rt>>>22|rt<<10),Dt=(_t>>>6|_t<<26)^(_t>>>11|_t<<21)^(_t>>>25|_t<<7),Wt=rt&st,Lt=Wt^rt&it^jt,Ut=_t&wt^~_t&vt,Bt=bt+Dt+Ut+K[Tt+2]+Et[Tt+2],Ht=$t+Lt,bt=nt+Bt<<0,nt=Bt+Ht<<0,$t=(nt>>>2|nt<<30)^(nt>>>13|nt<<19)^(nt>>>22|nt<<10),Dt=(bt>>>6|bt<<26)^(bt>>>11|bt<<21)^(bt>>>25|bt<<7),qt=nt&rt,Lt=qt^nt&st^Wt,Ut=bt&_t^~bt&wt,Bt=vt+Dt+Ut+K[Tt+3]+Et[Tt+3],Ht=$t+Lt,vt=it+Bt<<0,it=Bt+Ht<<0;this.h0=this.h0+it<<0,this.h1=this.h1+nt<<0,this.h2=this.h2+rt<<0,this.h3=this.h3+st<<0,this.h4=this.h4+vt<<0,this.h5=this.h5+bt<<0,this.h6=this.h6+_t<<0,this.h7=this.h7+wt<<0},Sha256.prototype.hex=function(){this.finalize();var it=this.h0,nt=this.h1,rt=this.h2,st=this.h3,vt=this.h4,bt=this.h5,_t=this.h6,wt=this.h7,Et=HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[st>>28&15]+HEX_CHARS[st>>24&15]+HEX_CHARS[st>>20&15]+HEX_CHARS[st>>16&15]+HEX_CHARS[st>>12&15]+HEX_CHARS[st>>8&15]+HEX_CHARS[st>>4&15]+HEX_CHARS[st&15]+HEX_CHARS[vt>>28&15]+HEX_CHARS[vt>>24&15]+HEX_CHARS[vt>>20&15]+HEX_CHARS[vt>>16&15]+HEX_CHARS[vt>>12&15]+HEX_CHARS[vt>>8&15]+HEX_CHARS[vt>>4&15]+HEX_CHARS[vt&15]+HEX_CHARS[bt>>28&15]+HEX_CHARS[bt>>24&15]+HEX_CHARS[bt>>20&15]+HEX_CHARS[bt>>16&15]+HEX_CHARS[bt>>12&15]+HEX_CHARS[bt>>8&15]+HEX_CHARS[bt>>4&15]+HEX_CHARS[bt&15]+HEX_CHARS[_t>>28&15]+HEX_CHARS[_t>>24&15]+HEX_CHARS[_t>>20&15]+HEX_CHARS[_t>>16&15]+HEX_CHARS[_t>>12&15]+HEX_CHARS[_t>>8&15]+HEX_CHARS[_t>>4&15]+HEX_CHARS[_t&15];return this.is224||(Et+=HEX_CHARS[wt>>28&15]+HEX_CHARS[wt>>24&15]+HEX_CHARS[wt>>20&15]+HEX_CHARS[wt>>16&15]+HEX_CHARS[wt>>12&15]+HEX_CHARS[wt>>8&15]+HEX_CHARS[wt>>4&15]+HEX_CHARS[wt&15]),Et},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var it=this.h0,nt=this.h1,rt=this.h2,st=this.h3,vt=this.h4,bt=this.h5,_t=this.h6,wt=this.h7,Et=[it>>24&255,it>>16&255,it>>8&255,it&255,nt>>24&255,nt>>16&255,nt>>8&255,nt&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,st>>24&255,st>>16&255,st>>8&255,st&255,vt>>24&255,vt>>16&255,vt>>8&255,vt&255,bt>>24&255,bt>>16&255,bt>>8&255,bt&255,_t>>24&255,_t>>16&255,_t>>8&255,_t&255];return this.is224||Et.push(wt>>24&255,wt>>16&255,wt>>8&255,wt&255),Et},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var it=new ArrayBuffer(this.is224?28:32),nt=new DataView(it);return nt.setUint32(0,this.h0),nt.setUint32(4,this.h1),nt.setUint32(8,this.h2),nt.setUint32(12,this.h3),nt.setUint32(16,this.h4),nt.setUint32(20,this.h5),nt.setUint32(24,this.h6),this.is224||nt.setUint32(28,this.h7),it};function HmacSha256(it,nt,rt){var st,vt=typeof it;if(vt==="string"){var bt=[],_t=it.length,wt=0,Et;for(st=0;st<_t;++st)Et=it.charCodeAt(st),Et<128?bt[wt++]=Et:Et<2048?(bt[wt++]=192|Et>>6,bt[wt++]=128|Et&63):Et<55296||Et>=57344?(bt[wt++]=224|Et>>12,bt[wt++]=128|Et>>6&63,bt[wt++]=128|Et&63):(Et=65536+((Et&1023)<<10|it.charCodeAt(++st)&1023),bt[wt++]=240|Et>>18,bt[wt++]=128|Et>>12&63,bt[wt++]=128|Et>>6&63,bt[wt++]=128|Et&63);it=bt}else if(vt==="object"){if(it===null)throw new Error(ERROR);if(ARRAY_BUFFER&&it.constructor===ArrayBuffer)it=new Uint8Array(it);else if(!Array.isArray(it)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(it)))throw new Error(ERROR)}else throw new Error(ERROR);it.length>64&&(it=new Sha256(nt,!0).update(it).array());var Tt=[],$t=[];for(st=0;st<64;++st){var Dt=it[st]||0;Tt[st]=92^Dt,$t[st]=54^Dt}Sha256.call(this,nt,rt),this.update($t),this.oKeyPad=Tt,this.inner=!0,this.sharedMemory=rt}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var it=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(it),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var md5$1={exports:{}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(it){return Object.prototype.toString.call(it)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(it){return typeof it=="object"&&it.buffer&&it.buffer.constructor===ArrayBuffer});var createOutputMethod=function(it){return function(nt){return new Md5(!0).update(nt)[it]()}},createMethod=function(){var it=createOutputMethod("hex");NODE_JS&&(it=nodeWrap(it)),it.create=function(){return new Md5},it.update=function(st){return it.create().update(st)};for(var nt=0;nt<OUTPUT_TYPES.length;++nt){var rt=OUTPUT_TYPES[nt];it[rt]=createOutputMethod(rt)}return it},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(it){if(typeof it=="string")return crypto.createHash("md5").update(it,"utf8").digest("hex");if(it==null)throw ERROR;return it.constructor===ArrayBuffer&&(it=new Uint8Array(it)),Array.isArray(it)||ArrayBuffer.isView(it)||it.constructor===Buffer?crypto.createHash("md5").update(new Buffer(it)).digest("hex"):method(it)};return nodeMethod};function Md5(it){if(it)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var nt=new ArrayBuffer(68);this.buffer8=new Uint8Array(nt),this.blocks=new Uint32Array(nt)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(it){if(!this.finalized){var nt,rt=typeof it;if(rt!=="string"){if(rt==="object"){if(it===null)throw ERROR;if(ARRAY_BUFFER&&it.constructor===ArrayBuffer)it=new Uint8Array(it);else if(!Array.isArray(it)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(it)))throw ERROR}else throw ERROR;nt=!0}for(var st,vt=0,bt,_t=it.length,wt=this.blocks,Et=this.buffer8;vt<_t;){if(this.hashed&&(this.hashed=!1,wt[0]=wt[16],wt[16]=wt[1]=wt[2]=wt[3]=wt[4]=wt[5]=wt[6]=wt[7]=wt[8]=wt[9]=wt[10]=wt[11]=wt[12]=wt[13]=wt[14]=wt[15]=0),nt)if(ARRAY_BUFFER)for(bt=this.start;vt<_t&&bt<64;++vt)Et[bt++]=it[vt];else for(bt=this.start;vt<_t&&bt<64;++vt)wt[bt>>2]|=it[vt]<<SHIFT[bt++&3];else if(ARRAY_BUFFER)for(bt=this.start;vt<_t&&bt<64;++vt)st=it.charCodeAt(vt),st<128?Et[bt++]=st:st<2048?(Et[bt++]=192|st>>6,Et[bt++]=128|st&63):st<55296||st>=57344?(Et[bt++]=224|st>>12,Et[bt++]=128|st>>6&63,Et[bt++]=128|st&63):(st=65536+((st&1023)<<10|it.charCodeAt(++vt)&1023),Et[bt++]=240|st>>18,Et[bt++]=128|st>>12&63,Et[bt++]=128|st>>6&63,Et[bt++]=128|st&63);else for(bt=this.start;vt<_t&&bt<64;++vt)st=it.charCodeAt(vt),st<128?wt[bt>>2]|=st<<SHIFT[bt++&3]:st<2048?(wt[bt>>2]|=(192|st>>6)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]):st<55296||st>=57344?(wt[bt>>2]|=(224|st>>12)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>6&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]):(st=65536+((st&1023)<<10|it.charCodeAt(++vt)&1023),wt[bt>>2]|=(240|st>>18)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>12&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st>>6&63)<<SHIFT[bt++&3],wt[bt>>2]|=(128|st&63)<<SHIFT[bt++&3]);this.lastByteIndex=bt,this.bytes+=bt-this.start,bt>=64?(this.start=bt-64,this.hash(),this.hashed=!0):this.start=bt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var it=this.blocks,nt=this.lastByteIndex;it[nt>>2]|=EXTRA[nt&3],nt>=56&&(this.hashed||this.hash(),it[0]=it[16],it[16]=it[1]=it[2]=it[3]=it[4]=it[5]=it[6]=it[7]=it[8]=it[9]=it[10]=it[11]=it[12]=it[13]=it[14]=it[15]=0),it[14]=this.bytes<<3,it[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var it,nt,rt,st,vt,bt,_t=this.blocks;this.first?(it=_t[0]-680876937,it=(it<<7|it>>>25)-271733879<<0,st=(-1732584194^it&2004318071)+_t[1]-117830708,st=(st<<12|st>>>20)+it<<0,rt=(-271733879^st&(it^-271733879))+_t[2]-1126478375,rt=(rt<<17|rt>>>15)+st<<0,nt=(it^rt&(st^it))+_t[3]-1316259209,nt=(nt<<22|nt>>>10)+rt<<0):(it=this.h0,nt=this.h1,rt=this.h2,st=this.h3,it+=(st^nt&(rt^st))+_t[0]-680876936,it=(it<<7|it>>>25)+nt<<0,st+=(rt^it&(nt^rt))+_t[1]-389564586,st=(st<<12|st>>>20)+it<<0,rt+=(nt^st&(it^nt))+_t[2]+606105819,rt=(rt<<17|rt>>>15)+st<<0,nt+=(it^rt&(st^it))+_t[3]-1044525330,nt=(nt<<22|nt>>>10)+rt<<0),it+=(st^nt&(rt^st))+_t[4]-176418897,it=(it<<7|it>>>25)+nt<<0,st+=(rt^it&(nt^rt))+_t[5]+1200080426,st=(st<<12|st>>>20)+it<<0,rt+=(nt^st&(it^nt))+_t[6]-1473231341,rt=(rt<<17|rt>>>15)+st<<0,nt+=(it^rt&(st^it))+_t[7]-45705983,nt=(nt<<22|nt>>>10)+rt<<0,it+=(st^nt&(rt^st))+_t[8]+1770035416,it=(it<<7|it>>>25)+nt<<0,st+=(rt^it&(nt^rt))+_t[9]-1958414417,st=(st<<12|st>>>20)+it<<0,rt+=(nt^st&(it^nt))+_t[10]-42063,rt=(rt<<17|rt>>>15)+st<<0,nt+=(it^rt&(st^it))+_t[11]-1990404162,nt=(nt<<22|nt>>>10)+rt<<0,it+=(st^nt&(rt^st))+_t[12]+1804603682,it=(it<<7|it>>>25)+nt<<0,st+=(rt^it&(nt^rt))+_t[13]-40341101,st=(st<<12|st>>>20)+it<<0,rt+=(nt^st&(it^nt))+_t[14]-1502002290,rt=(rt<<17|rt>>>15)+st<<0,nt+=(it^rt&(st^it))+_t[15]+1236535329,nt=(nt<<22|nt>>>10)+rt<<0,it+=(rt^st&(nt^rt))+_t[1]-165796510,it=(it<<5|it>>>27)+nt<<0,st+=(nt^rt&(it^nt))+_t[6]-1069501632,st=(st<<9|st>>>23)+it<<0,rt+=(it^nt&(st^it))+_t[11]+643717713,rt=(rt<<14|rt>>>18)+st<<0,nt+=(st^it&(rt^st))+_t[0]-373897302,nt=(nt<<20|nt>>>12)+rt<<0,it+=(rt^st&(nt^rt))+_t[5]-701558691,it=(it<<5|it>>>27)+nt<<0,st+=(nt^rt&(it^nt))+_t[10]+38016083,st=(st<<9|st>>>23)+it<<0,rt+=(it^nt&(st^it))+_t[15]-660478335,rt=(rt<<14|rt>>>18)+st<<0,nt+=(st^it&(rt^st))+_t[4]-405537848,nt=(nt<<20|nt>>>12)+rt<<0,it+=(rt^st&(nt^rt))+_t[9]+568446438,it=(it<<5|it>>>27)+nt<<0,st+=(nt^rt&(it^nt))+_t[14]-1019803690,st=(st<<9|st>>>23)+it<<0,rt+=(it^nt&(st^it))+_t[3]-187363961,rt=(rt<<14|rt>>>18)+st<<0,nt+=(st^it&(rt^st))+_t[8]+1163531501,nt=(nt<<20|nt>>>12)+rt<<0,it+=(rt^st&(nt^rt))+_t[13]-1444681467,it=(it<<5|it>>>27)+nt<<0,st+=(nt^rt&(it^nt))+_t[2]-51403784,st=(st<<9|st>>>23)+it<<0,rt+=(it^nt&(st^it))+_t[7]+1735328473,rt=(rt<<14|rt>>>18)+st<<0,nt+=(st^it&(rt^st))+_t[12]-1926607734,nt=(nt<<20|nt>>>12)+rt<<0,vt=nt^rt,it+=(vt^st)+_t[5]-378558,it=(it<<4|it>>>28)+nt<<0,st+=(vt^it)+_t[8]-2022574463,st=(st<<11|st>>>21)+it<<0,bt=st^it,rt+=(bt^nt)+_t[11]+1839030562,rt=(rt<<16|rt>>>16)+st<<0,nt+=(bt^rt)+_t[14]-35309556,nt=(nt<<23|nt>>>9)+rt<<0,vt=nt^rt,it+=(vt^st)+_t[1]-1530992060,it=(it<<4|it>>>28)+nt<<0,st+=(vt^it)+_t[4]+1272893353,st=(st<<11|st>>>21)+it<<0,bt=st^it,rt+=(bt^nt)+_t[7]-155497632,rt=(rt<<16|rt>>>16)+st<<0,nt+=(bt^rt)+_t[10]-1094730640,nt=(nt<<23|nt>>>9)+rt<<0,vt=nt^rt,it+=(vt^st)+_t[13]+681279174,it=(it<<4|it>>>28)+nt<<0,st+=(vt^it)+_t[0]-358537222,st=(st<<11|st>>>21)+it<<0,bt=st^it,rt+=(bt^nt)+_t[3]-722521979,rt=(rt<<16|rt>>>16)+st<<0,nt+=(bt^rt)+_t[6]+76029189,nt=(nt<<23|nt>>>9)+rt<<0,vt=nt^rt,it+=(vt^st)+_t[9]-640364487,it=(it<<4|it>>>28)+nt<<0,st+=(vt^it)+_t[12]-421815835,st=(st<<11|st>>>21)+it<<0,bt=st^it,rt+=(bt^nt)+_t[15]+530742520,rt=(rt<<16|rt>>>16)+st<<0,nt+=(bt^rt)+_t[2]-995338651,nt=(nt<<23|nt>>>9)+rt<<0,it+=(rt^(nt|~st))+_t[0]-198630844,it=(it<<6|it>>>26)+nt<<0,st+=(nt^(it|~rt))+_t[7]+1126891415,st=(st<<10|st>>>22)+it<<0,rt+=(it^(st|~nt))+_t[14]-1416354905,rt=(rt<<15|rt>>>17)+st<<0,nt+=(st^(rt|~it))+_t[5]-57434055,nt=(nt<<21|nt>>>11)+rt<<0,it+=(rt^(nt|~st))+_t[12]+1700485571,it=(it<<6|it>>>26)+nt<<0,st+=(nt^(it|~rt))+_t[3]-1894986606,st=(st<<10|st>>>22)+it<<0,rt+=(it^(st|~nt))+_t[10]-1051523,rt=(rt<<15|rt>>>17)+st<<0,nt+=(st^(rt|~it))+_t[1]-2054922799,nt=(nt<<21|nt>>>11)+rt<<0,it+=(rt^(nt|~st))+_t[8]+1873313359,it=(it<<6|it>>>26)+nt<<0,st+=(nt^(it|~rt))+_t[15]-30611744,st=(st<<10|st>>>22)+it<<0,rt+=(it^(st|~nt))+_t[6]-1560198380,rt=(rt<<15|rt>>>17)+st<<0,nt+=(st^(rt|~it))+_t[13]+1309151649,nt=(nt<<21|nt>>>11)+rt<<0,it+=(rt^(nt|~st))+_t[4]-145523070,it=(it<<6|it>>>26)+nt<<0,st+=(nt^(it|~rt))+_t[11]-1120210379,st=(st<<10|st>>>22)+it<<0,rt+=(it^(st|~nt))+_t[2]+718787259,rt=(rt<<15|rt>>>17)+st<<0,nt+=(st^(rt|~it))+_t[9]-343485551,nt=(nt<<21|nt>>>11)+rt<<0,this.first?(this.h0=it+1732584193<<0,this.h1=nt-271733879<<0,this.h2=rt-1732584194<<0,this.h3=st+271733878<<0,this.first=!1):(this.h0=this.h0+it<<0,this.h1=this.h1+nt<<0,this.h2=this.h2+rt<<0,this.h3=this.h3+st<<0)},Md5.prototype.hex=function(){this.finalize();var it=this.h0,nt=this.h1,rt=this.h2,st=this.h3;return HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[st>>4&15]+HEX_CHARS[st&15]+HEX_CHARS[st>>12&15]+HEX_CHARS[st>>8&15]+HEX_CHARS[st>>20&15]+HEX_CHARS[st>>16&15]+HEX_CHARS[st>>28&15]+HEX_CHARS[st>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var it=this.h0,nt=this.h1,rt=this.h2,st=this.h3;return[it&255,it>>8&255,it>>16&255,it>>24&255,nt&255,nt>>8&255,nt>>16&255,nt>>24&255,rt&255,rt>>8&255,rt>>16&255,rt>>24&255,st&255,st>>8&255,st>>16&255,st>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var it=new ArrayBuffer(16),nt=new Uint32Array(it);return nt[0]=this.h0,nt[1]=this.h1,nt[2]=this.h2,nt[3]=this.h3,it},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var it,nt,rt,st="",vt=this.array(),bt=0;bt<15;)it=vt[bt++],nt=vt[bt++],rt=vt[bt++],st+=BASE64_ENCODE_CHAR[it>>>2]+BASE64_ENCODE_CHAR[(it<<4|nt>>>4)&63]+BASE64_ENCODE_CHAR[(nt<<2|rt>>>6)&63]+BASE64_ENCODE_CHAR[rt&63];return it=vt[bt],st+=BASE64_ENCODE_CHAR[it>>>2]+BASE64_ENCODE_CHAR[it<<4&63]+"==",st};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()})(md5$1);const md5=md5$1.exports;var top$2="top",bottom$1="bottom",right$1="right",left$1="left",auto="auto",basePlacements=[top$2,bottom$1,right$1,left$1],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(it,nt){return it.concat([nt+"-"+start$2,nt+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(it,nt){return it.concat([nt,nt+"-"+start$2,nt+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write$1="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write$1,afterWrite];function getNodeName(it){return it?(it.nodeName||"").toLowerCase():null}function getWindow(it){if(it==null)return window;if(it.toString()!=="[object Window]"){var nt=it.ownerDocument;return nt&&nt.defaultView||window}return it}function isElement$1(it){var nt=getWindow(it).Element;return it instanceof nt||it instanceof Element}function isHTMLElement(it){var nt=getWindow(it).HTMLElement;return it instanceof nt||it instanceof HTMLElement}function isShadowRoot(it){if(typeof ShadowRoot>"u")return!1;var nt=getWindow(it).ShadowRoot;return it instanceof nt||it instanceof ShadowRoot}function applyStyles(it){var nt=it.state;Object.keys(nt.elements).forEach(function(rt){var st=nt.styles[rt]||{},vt=nt.attributes[rt]||{},bt=nt.elements[rt];!isHTMLElement(bt)||!getNodeName(bt)||(Object.assign(bt.style,st),Object.keys(vt).forEach(function(_t){var wt=vt[_t];wt===!1?bt.removeAttribute(_t):bt.setAttribute(_t,wt===!0?"":wt)}))})}function effect$2(it){var nt=it.state,rt={popper:{position:nt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(nt.elements.popper.style,rt.popper),nt.styles=rt,nt.elements.arrow&&Object.assign(nt.elements.arrow.style,rt.arrow),function(){Object.keys(nt.elements).forEach(function(st){var vt=nt.elements[st],bt=nt.attributes[st]||{},_t=Object.keys(nt.styles.hasOwnProperty(st)?nt.styles[st]:rt[st]),wt=_t.reduce(function(Et,Tt){return Et[Tt]="",Et},{});!isHTMLElement(vt)||!getNodeName(vt)||(Object.assign(vt.style,wt),Object.keys(bt).forEach(function(Et){vt.removeAttribute(Et)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(it){return it.split("-")[0]}var max$3=Math.max,min$3=Math.min,round=Math.round;function getUAString(){var it=navigator.userAgentData;return it!=null&&it.brands?it.brands.map(function(nt){return nt.brand+"/"+nt.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(it,nt,rt){nt===void 0&&(nt=!1),rt===void 0&&(rt=!1);var st=it.getBoundingClientRect(),vt=1,bt=1;nt&&isHTMLElement(it)&&(vt=it.offsetWidth>0&&round(st.width)/it.offsetWidth||1,bt=it.offsetHeight>0&&round(st.height)/it.offsetHeight||1);var _t=isElement$1(it)?getWindow(it):window,wt=_t.visualViewport,Et=!isLayoutViewport()&&rt,Tt=(st.left+(Et&&wt?wt.offsetLeft:0))/vt,$t=(st.top+(Et&&wt?wt.offsetTop:0))/bt,Dt=st.width/vt,Lt=st.height/bt;return{width:Dt,height:Lt,top:$t,right:Tt+Dt,bottom:$t+Lt,left:Tt,x:Tt,y:$t}}function getLayoutRect(it){var nt=getBoundingClientRect(it),rt=it.offsetWidth,st=it.offsetHeight;return Math.abs(nt.width-rt)<=1&&(rt=nt.width),Math.abs(nt.height-st)<=1&&(st=nt.height),{x:it.offsetLeft,y:it.offsetTop,width:rt,height:st}}function contains(it,nt){var rt=nt.getRootNode&&nt.getRootNode();if(it.contains(nt))return!0;if(rt&&isShadowRoot(rt)){var st=nt;do{if(st&&it.isSameNode(st))return!0;st=st.parentNode||st.host}while(st)}return!1}function getComputedStyle$1(it){return getWindow(it).getComputedStyle(it)}function isTableElement(it){return["table","td","th"].indexOf(getNodeName(it))>=0}function getDocumentElement(it){return((isElement$1(it)?it.ownerDocument:it.document)||window.document).documentElement}function getParentNode(it){return getNodeName(it)==="html"?it:it.assignedSlot||it.parentNode||(isShadowRoot(it)?it.host:null)||getDocumentElement(it)}function getTrueOffsetParent(it){return!isHTMLElement(it)||getComputedStyle$1(it).position==="fixed"?null:it.offsetParent}function getContainingBlock(it){var nt=/firefox/i.test(getUAString()),rt=/Trident/i.test(getUAString());if(rt&&isHTMLElement(it)){var st=getComputedStyle$1(it);if(st.position==="fixed")return null}var vt=getParentNode(it);for(isShadowRoot(vt)&&(vt=vt.host);isHTMLElement(vt)&&["html","body"].indexOf(getNodeName(vt))<0;){var bt=getComputedStyle$1(vt);if(bt.transform!=="none"||bt.perspective!=="none"||bt.contain==="paint"||["transform","perspective"].indexOf(bt.willChange)!==-1||nt&&bt.willChange==="filter"||nt&&bt.filter&&bt.filter!=="none")return vt;vt=vt.parentNode}return null}function getOffsetParent(it){for(var nt=getWindow(it),rt=getTrueOffsetParent(it);rt&&isTableElement(rt)&&getComputedStyle$1(rt).position==="static";)rt=getTrueOffsetParent(rt);return rt&&(getNodeName(rt)==="html"||getNodeName(rt)==="body"&&getComputedStyle$1(rt).position==="static")?nt:rt||getContainingBlock(it)||nt}function getMainAxisFromPlacement(it){return["top","bottom"].indexOf(it)>=0?"x":"y"}function within(it,nt,rt){return max$3(it,min$3(nt,rt))}function withinMaxClamp(it,nt,rt){var st=within(it,nt,rt);return st>rt?rt:st}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(it){return Object.assign({},getFreshSideObject(),it)}function expandToHashMap(it,nt){return nt.reduce(function(rt,st){return rt[st]=it,rt},{})}var toPaddingObject=function it(nt,rt){return nt=typeof nt=="function"?nt(Object.assign({},rt.rects,{placement:rt.placement})):nt,mergePaddingObject(typeof nt!="number"?nt:expandToHashMap(nt,basePlacements))};function arrow(it){var nt,rt=it.state,st=it.name,vt=it.options,bt=rt.elements.arrow,_t=rt.modifiersData.popperOffsets,wt=getBasePlacement$1(rt.placement),Et=getMainAxisFromPlacement(wt),Tt=[left$1,right$1].indexOf(wt)>=0,$t=Tt?"height":"width";if(!(!bt||!_t)){var Dt=toPaddingObject(vt.padding,rt),Lt=getLayoutRect(bt),Bt=Et==="y"?top$2:left$1,Ht=Et==="y"?bottom$1:right$1,Ut=rt.rects.reference[$t]+rt.rects.reference[Et]-_t[Et]-rt.rects.popper[$t],It=_t[Et]-rt.rects.reference[Et],jt=getOffsetParent(bt),Wt=jt?Et==="y"?jt.clientHeight||0:jt.clientWidth||0:0,qt=Ut/2-It/2,Yt=Dt[Bt],ti=Wt-Lt[$t]-Dt[Ht],oi=Wt/2-Lt[$t]/2+qt,si=within(Yt,oi,ti),di=Et;rt.modifiersData[st]=(nt={},nt[di]=si,nt.centerOffset=si-oi,nt)}}function effect$1(it){var nt=it.state,rt=it.options,st=rt.element,vt=st===void 0?"[data-popper-arrow]":st;vt!=null&&(typeof vt=="string"&&(vt=nt.elements.popper.querySelector(vt),!vt)||!contains(nt.elements.popper,vt)||(nt.elements.arrow=vt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(it){return it.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(it){var nt=it.x,rt=it.y,st=window,vt=st.devicePixelRatio||1;return{x:round(nt*vt)/vt||0,y:round(rt*vt)/vt||0}}function mapToStyles(it){var nt,rt=it.popper,st=it.popperRect,vt=it.placement,bt=it.variation,_t=it.offsets,wt=it.position,Et=it.gpuAcceleration,Tt=it.adaptive,$t=it.roundOffsets,Dt=it.isFixed,Lt=_t.x,Bt=Lt===void 0?0:Lt,Ht=_t.y,Ut=Ht===void 0?0:Ht,It=typeof $t=="function"?$t({x:Bt,y:Ut}):{x:Bt,y:Ut};Bt=It.x,Ut=It.y;var jt=_t.hasOwnProperty("x"),Wt=_t.hasOwnProperty("y"),qt=left$1,Yt=top$2,ti=window;if(Tt){var oi=getOffsetParent(rt),si="clientHeight",di="clientWidth";if(oi===getWindow(rt)&&(oi=getDocumentElement(rt),getComputedStyle$1(oi).position!=="static"&&wt==="absolute"&&(si="scrollHeight",di="scrollWidth")),oi=oi,vt===top$2||(vt===left$1||vt===right$1)&&bt===end$1){Yt=bottom$1;var ui=Dt&&oi===ti&&ti.visualViewport?ti.visualViewport.height:oi[si];Ut-=ui-st.height,Ut*=Et?1:-1}if(vt===left$1||(vt===top$2||vt===bottom$1)&&bt===end$1){qt=right$1;var ci=Dt&&oi===ti&&ti.visualViewport?ti.visualViewport.width:oi[di];Bt-=ci-st.width,Bt*=Et?1:-1}}var hi=Object.assign({position:wt},Tt&&unsetSides),ei=$t===!0?roundOffsetsByDPR({x:Bt,y:Ut}):{x:Bt,y:Ut};if(Bt=ei.x,Ut=ei.y,Et){var wi;return Object.assign({},hi,(wi={},wi[Yt]=Wt?"0":"",wi[qt]=jt?"0":"",wi.transform=(ti.devicePixelRatio||1)<=1?"translate("+Bt+"px, "+Ut+"px)":"translate3d("+Bt+"px, "+Ut+"px, 0)",wi))}return Object.assign({},hi,(nt={},nt[Yt]=Wt?Ut+"px":"",nt[qt]=jt?Bt+"px":"",nt.transform="",nt))}function computeStyles(it){var nt=it.state,rt=it.options,st=rt.gpuAcceleration,vt=st===void 0?!0:st,bt=rt.adaptive,_t=bt===void 0?!0:bt,wt=rt.roundOffsets,Et=wt===void 0?!0:wt,Tt={placement:getBasePlacement$1(nt.placement),variation:getVariation(nt.placement),popper:nt.elements.popper,popperRect:nt.rects.popper,gpuAcceleration:vt,isFixed:nt.options.strategy==="fixed"};nt.modifiersData.popperOffsets!=null&&(nt.styles.popper=Object.assign({},nt.styles.popper,mapToStyles(Object.assign({},Tt,{offsets:nt.modifiersData.popperOffsets,position:nt.options.strategy,adaptive:_t,roundOffsets:Et})))),nt.modifiersData.arrow!=null&&(nt.styles.arrow=Object.assign({},nt.styles.arrow,mapToStyles(Object.assign({},Tt,{offsets:nt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:Et})))),nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-placement":nt.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(it){var nt=it.state,rt=it.instance,st=it.options,vt=st.scroll,bt=vt===void 0?!0:vt,_t=st.resize,wt=_t===void 0?!0:_t,Et=getWindow(nt.elements.popper),Tt=[].concat(nt.scrollParents.reference,nt.scrollParents.popper);return bt&&Tt.forEach(function($t){$t.addEventListener("scroll",rt.update,passive)}),wt&&Et.addEventListener("resize",rt.update,passive),function(){bt&&Tt.forEach(function($t){$t.removeEventListener("scroll",rt.update,passive)}),wt&&Et.removeEventListener("resize",rt.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function it(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(it){return it.replace(/left|right|bottom|top/g,function(nt){return hash$1[nt]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(it){return it.replace(/start|end/g,function(nt){return hash[nt]})}function getWindowScroll(it){var nt=getWindow(it),rt=nt.pageXOffset,st=nt.pageYOffset;return{scrollLeft:rt,scrollTop:st}}function getWindowScrollBarX(it){return getBoundingClientRect(getDocumentElement(it)).left+getWindowScroll(it).scrollLeft}function getViewportRect(it,nt){var rt=getWindow(it),st=getDocumentElement(it),vt=rt.visualViewport,bt=st.clientWidth,_t=st.clientHeight,wt=0,Et=0;if(vt){bt=vt.width,_t=vt.height;var Tt=isLayoutViewport();(Tt||!Tt&&nt==="fixed")&&(wt=vt.offsetLeft,Et=vt.offsetTop)}return{width:bt,height:_t,x:wt+getWindowScrollBarX(it),y:Et}}function getDocumentRect(it){var nt,rt=getDocumentElement(it),st=getWindowScroll(it),vt=(nt=it.ownerDocument)==null?void 0:nt.body,bt=max$3(rt.scrollWidth,rt.clientWidth,vt?vt.scrollWidth:0,vt?vt.clientWidth:0),_t=max$3(rt.scrollHeight,rt.clientHeight,vt?vt.scrollHeight:0,vt?vt.clientHeight:0),wt=-st.scrollLeft+getWindowScrollBarX(it),Et=-st.scrollTop;return getComputedStyle$1(vt||rt).direction==="rtl"&&(wt+=max$3(rt.clientWidth,vt?vt.clientWidth:0)-bt),{width:bt,height:_t,x:wt,y:Et}}function isScrollParent(it){var nt=getComputedStyle$1(it),rt=nt.overflow,st=nt.overflowX,vt=nt.overflowY;return/auto|scroll|overlay|hidden/.test(rt+vt+st)}function getScrollParent(it){return["html","body","#document"].indexOf(getNodeName(it))>=0?it.ownerDocument.body:isHTMLElement(it)&&isScrollParent(it)?it:getScrollParent(getParentNode(it))}function listScrollParents(it,nt){var rt;nt===void 0&&(nt=[]);var st=getScrollParent(it),vt=st===((rt=it.ownerDocument)==null?void 0:rt.body),bt=getWindow(st),_t=vt?[bt].concat(bt.visualViewport||[],isScrollParent(st)?st:[]):st,wt=nt.concat(_t);return vt?wt:wt.concat(listScrollParents(getParentNode(_t)))}function rectToClientRect(it){return Object.assign({},it,{left:it.x,top:it.y,right:it.x+it.width,bottom:it.y+it.height})}function getInnerBoundingClientRect(it,nt){var rt=getBoundingClientRect(it,!1,nt==="fixed");return rt.top=rt.top+it.clientTop,rt.left=rt.left+it.clientLeft,rt.bottom=rt.top+it.clientHeight,rt.right=rt.left+it.clientWidth,rt.width=it.clientWidth,rt.height=it.clientHeight,rt.x=rt.left,rt.y=rt.top,rt}function getClientRectFromMixedType(it,nt,rt){return nt===viewport?rectToClientRect(getViewportRect(it,rt)):isElement$1(nt)?getInnerBoundingClientRect(nt,rt):rectToClientRect(getDocumentRect(getDocumentElement(it)))}function getClippingParents(it){var nt=listScrollParents(getParentNode(it)),rt=["absolute","fixed"].indexOf(getComputedStyle$1(it).position)>=0,st=rt&&isHTMLElement(it)?getOffsetParent(it):it;return isElement$1(st)?nt.filter(function(vt){return isElement$1(vt)&&contains(vt,st)&&getNodeName(vt)!=="body"}):[]}function getClippingRect(it,nt,rt,st){var vt=nt==="clippingParents"?getClippingParents(it):[].concat(nt),bt=[].concat(vt,[rt]),_t=bt[0],wt=bt.reduce(function(Et,Tt){var $t=getClientRectFromMixedType(it,Tt,st);return Et.top=max$3($t.top,Et.top),Et.right=min$3($t.right,Et.right),Et.bottom=min$3($t.bottom,Et.bottom),Et.left=max$3($t.left,Et.left),Et},getClientRectFromMixedType(it,_t,st));return wt.width=wt.right-wt.left,wt.height=wt.bottom-wt.top,wt.x=wt.left,wt.y=wt.top,wt}function computeOffsets(it){var nt=it.reference,rt=it.element,st=it.placement,vt=st?getBasePlacement$1(st):null,bt=st?getVariation(st):null,_t=nt.x+nt.width/2-rt.width/2,wt=nt.y+nt.height/2-rt.height/2,Et;switch(vt){case top$2:Et={x:_t,y:nt.y-rt.height};break;case bottom$1:Et={x:_t,y:nt.y+nt.height};break;case right$1:Et={x:nt.x+nt.width,y:wt};break;case left$1:Et={x:nt.x-rt.width,y:wt};break;default:Et={x:nt.x,y:nt.y}}var Tt=vt?getMainAxisFromPlacement(vt):null;if(Tt!=null){var $t=Tt==="y"?"height":"width";switch(bt){case start$2:Et[Tt]=Et[Tt]-(nt[$t]/2-rt[$t]/2);break;case end$1:Et[Tt]=Et[Tt]+(nt[$t]/2-rt[$t]/2);break}}return Et}function detectOverflow(it,nt){nt===void 0&&(nt={});var rt=nt,st=rt.placement,vt=st===void 0?it.placement:st,bt=rt.strategy,_t=bt===void 0?it.strategy:bt,wt=rt.boundary,Et=wt===void 0?clippingParents:wt,Tt=rt.rootBoundary,$t=Tt===void 0?viewport:Tt,Dt=rt.elementContext,Lt=Dt===void 0?popper:Dt,Bt=rt.altBoundary,Ht=Bt===void 0?!1:Bt,Ut=rt.padding,It=Ut===void 0?0:Ut,jt=mergePaddingObject(typeof It!="number"?It:expandToHashMap(It,basePlacements)),Wt=Lt===popper?reference:popper,qt=it.rects.popper,Yt=it.elements[Ht?Wt:Lt],ti=getClippingRect(isElement$1(Yt)?Yt:Yt.contextElement||getDocumentElement(it.elements.popper),Et,$t,_t),oi=getBoundingClientRect(it.elements.reference),si=computeOffsets({reference:oi,element:qt,strategy:"absolute",placement:vt}),di=rectToClientRect(Object.assign({},qt,si)),ui=Lt===popper?di:oi,ci={top:ti.top-ui.top+jt.top,bottom:ui.bottom-ti.bottom+jt.bottom,left:ti.left-ui.left+jt.left,right:ui.right-ti.right+jt.right},hi=it.modifiersData.offset;if(Lt===popper&&hi){var ei=hi[vt];Object.keys(ci).forEach(function(wi){var Kt=[right$1,bottom$1].indexOf(wi)>=0?1:-1,Ni=[top$2,bottom$1].indexOf(wi)>=0?"y":"x";ci[wi]+=ei[Ni]*Kt})}return ci}function computeAutoPlacement(it,nt){nt===void 0&&(nt={});var rt=nt,st=rt.placement,vt=rt.boundary,bt=rt.rootBoundary,_t=rt.padding,wt=rt.flipVariations,Et=rt.allowedAutoPlacements,Tt=Et===void 0?placements:Et,$t=getVariation(st),Dt=$t?wt?variationPlacements:variationPlacements.filter(function(Ht){return getVariation(Ht)===$t}):basePlacements,Lt=Dt.filter(function(Ht){return Tt.indexOf(Ht)>=0});Lt.length===0&&(Lt=Dt);var Bt=Lt.reduce(function(Ht,Ut){return Ht[Ut]=detectOverflow(it,{placement:Ut,boundary:vt,rootBoundary:bt,padding:_t})[getBasePlacement$1(Ut)],Ht},{});return Object.keys(Bt).sort(function(Ht,Ut){return Bt[Ht]-Bt[Ut]})}function getExpandedFallbackPlacements(it){if(getBasePlacement$1(it)===auto)return[];var nt=getOppositePlacement(it);return[getOppositeVariationPlacement(it),nt,getOppositeVariationPlacement(nt)]}function flip(it){var nt=it.state,rt=it.options,st=it.name;if(!nt.modifiersData[st]._skip){for(var vt=rt.mainAxis,bt=vt===void 0?!0:vt,_t=rt.altAxis,wt=_t===void 0?!0:_t,Et=rt.fallbackPlacements,Tt=rt.padding,$t=rt.boundary,Dt=rt.rootBoundary,Lt=rt.altBoundary,Bt=rt.flipVariations,Ht=Bt===void 0?!0:Bt,Ut=rt.allowedAutoPlacements,It=nt.options.placement,jt=getBasePlacement$1(It),Wt=jt===It,qt=Et||(Wt||!Ht?[getOppositePlacement(It)]:getExpandedFallbackPlacements(It)),Yt=[It].concat(qt).reduce(function(Qi,rn){return Qi.concat(getBasePlacement$1(rn)===auto?computeAutoPlacement(nt,{placement:rn,boundary:$t,rootBoundary:Dt,padding:Tt,flipVariations:Ht,allowedAutoPlacements:Ut}):rn)},[]),ti=nt.rects.reference,oi=nt.rects.popper,si=new Map,di=!0,ui=Yt[0],ci=0;ci<Yt.length;ci++){var hi=Yt[ci],ei=getBasePlacement$1(hi),wi=getVariation(hi)===start$2,Kt=[top$2,bottom$1].indexOf(ei)>=0,Ni=Kt?"width":"height",ni=detectOverflow(nt,{placement:hi,boundary:$t,rootBoundary:Dt,altBoundary:Lt,padding:Tt}),Fi=Kt?wi?right$1:left$1:wi?bottom$1:top$2;ti[Ni]>oi[Ni]&&(Fi=getOppositePlacement(Fi));var Xi=getOppositePlacement(Fi),nn=[];if(bt&&nn.push(ni[ei]<=0),wt&&nn.push(ni[Fi]<=0,ni[Xi]<=0),nn.every(function(Qi){return Qi})){ui=hi,di=!1;break}si.set(hi,nn)}if(di)for(var Ai=Ht?3:1,ji=function(rn){var Pi=Yt.find(function(bn){var Oi=si.get(bn);if(Oi)return Oi.slice(0,rn).every(function(Ii){return Ii})});if(Pi)return ui=Pi,"break"},Ri=Ai;Ri>0;Ri--){var Vi=ji(Ri);if(Vi==="break")break}nt.placement!==ui&&(nt.modifiersData[st]._skip=!0,nt.placement=ui,nt.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(it,nt,rt){return rt===void 0&&(rt={x:0,y:0}),{top:it.top-nt.height-rt.y,right:it.right-nt.width+rt.x,bottom:it.bottom-nt.height+rt.y,left:it.left-nt.width-rt.x}}function isAnySideFullyClipped(it){return[top$2,right$1,bottom$1,left$1].some(function(nt){return it[nt]>=0})}function hide(it){var nt=it.state,rt=it.name,st=nt.rects.reference,vt=nt.rects.popper,bt=nt.modifiersData.preventOverflow,_t=detectOverflow(nt,{elementContext:"reference"}),wt=detectOverflow(nt,{altBoundary:!0}),Et=getSideOffsets(_t,st),Tt=getSideOffsets(wt,vt,bt),$t=isAnySideFullyClipped(Et),Dt=isAnySideFullyClipped(Tt);nt.modifiersData[rt]={referenceClippingOffsets:Et,popperEscapeOffsets:Tt,isReferenceHidden:$t,hasPopperEscaped:Dt},nt.attributes.popper=Object.assign({},nt.attributes.popper,{"data-popper-reference-hidden":$t,"data-popper-escaped":Dt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(it,nt,rt){var st=getBasePlacement$1(it),vt=[left$1,top$2].indexOf(st)>=0?-1:1,bt=typeof rt=="function"?rt(Object.assign({},nt,{placement:it})):rt,_t=bt[0],wt=bt[1];return _t=_t||0,wt=(wt||0)*vt,[left$1,right$1].indexOf(st)>=0?{x:wt,y:_t}:{x:_t,y:wt}}function offset$1(it){var nt=it.state,rt=it.options,st=it.name,vt=rt.offset,bt=vt===void 0?[0,0]:vt,_t=placements.reduce(function($t,Dt){return $t[Dt]=distanceAndSkiddingToXY(Dt,nt.rects,bt),$t},{}),wt=_t[nt.placement],Et=wt.x,Tt=wt.y;nt.modifiersData.popperOffsets!=null&&(nt.modifiersData.popperOffsets.x+=Et,nt.modifiersData.popperOffsets.y+=Tt),nt.modifiersData[st]=_t}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(it){var nt=it.state,rt=it.name;nt.modifiersData[rt]=computeOffsets({reference:nt.rects.reference,element:nt.rects.popper,strategy:"absolute",placement:nt.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(it){return it==="x"?"y":"x"}function preventOverflow(it){var nt=it.state,rt=it.options,st=it.name,vt=rt.mainAxis,bt=vt===void 0?!0:vt,_t=rt.altAxis,wt=_t===void 0?!1:_t,Et=rt.boundary,Tt=rt.rootBoundary,$t=rt.altBoundary,Dt=rt.padding,Lt=rt.tether,Bt=Lt===void 0?!0:Lt,Ht=rt.tetherOffset,Ut=Ht===void 0?0:Ht,It=detectOverflow(nt,{boundary:Et,rootBoundary:Tt,padding:Dt,altBoundary:$t}),jt=getBasePlacement$1(nt.placement),Wt=getVariation(nt.placement),qt=!Wt,Yt=getMainAxisFromPlacement(jt),ti=getAltAxis(Yt),oi=nt.modifiersData.popperOffsets,si=nt.rects.reference,di=nt.rects.popper,ui=typeof Ut=="function"?Ut(Object.assign({},nt.rects,{placement:nt.placement})):Ut,ci=typeof ui=="number"?{mainAxis:ui,altAxis:ui}:Object.assign({mainAxis:0,altAxis:0},ui),hi=nt.modifiersData.offset?nt.modifiersData.offset[nt.placement]:null,ei={x:0,y:0};if(!!oi){if(bt){var wi,Kt=Yt==="y"?top$2:left$1,Ni=Yt==="y"?bottom$1:right$1,ni=Yt==="y"?"height":"width",Fi=oi[Yt],Xi=Fi+It[Kt],nn=Fi-It[Ni],Ai=Bt?-di[ni]/2:0,ji=Wt===start$2?si[ni]:di[ni],Ri=Wt===start$2?-di[ni]:-si[ni],Vi=nt.elements.arrow,Qi=Bt&&Vi?getLayoutRect(Vi):{width:0,height:0},rn=nt.modifiersData["arrow#persistent"]?nt.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Pi=rn[Kt],bn=rn[Ni],Oi=within(0,si[ni],Qi[ni]),Ii=qt?si[ni]/2-Ai-Oi-Pi-ci.mainAxis:ji-Oi-Pi-ci.mainAxis,Gi=qt?-si[ni]/2+Ai+Oi+bn+ci.mainAxis:Ri+Oi+bn+ci.mainAxis,$i=nt.elements.arrow&&getOffsetParent(nt.elements.arrow),ii=$i?Yt==="y"?$i.clientTop||0:$i.clientLeft||0:0,Nt=(wi=hi==null?void 0:hi[Yt])!=null?wi:0,Qt=Fi+Ii-Nt-ii,Jt=Fi+Gi-Nt,Si=within(Bt?min$3(Xi,Qt):Xi,Fi,Bt?max$3(nn,Jt):nn);oi[Yt]=Si,ei[Yt]=Si-Fi}if(wt){var vi,Mi=Yt==="x"?top$2:left$1,_i=Yt==="x"?bottom$1:right$1,Li=oi[ti],Ti=ti==="y"?"height":"width",zi=Li+It[Mi],Hi=Li-It[_i],tn=[top$2,left$1].indexOf(jt)!==-1,qi=(vi=hi==null?void 0:hi[ti])!=null?vi:0,Wi=tn?zi:Li-si[Ti]-di[Ti]-qi+ci.altAxis,Cn=tn?Li+si[Ti]+di[Ti]-qi-ci.altAxis:Hi,En=Bt&&tn?withinMaxClamp(Wi,Li,Cn):within(Bt?Wi:zi,Li,Bt?Cn:Hi);oi[ti]=En,ei[ti]=En-Li}nt.modifiersData[st]=ei}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(it){return{scrollLeft:it.scrollLeft,scrollTop:it.scrollTop}}function getNodeScroll(it){return it===getWindow(it)||!isHTMLElement(it)?getWindowScroll(it):getHTMLElementScroll(it)}function isElementScaled(it){var nt=it.getBoundingClientRect(),rt=round(nt.width)/it.offsetWidth||1,st=round(nt.height)/it.offsetHeight||1;return rt!==1||st!==1}function getCompositeRect(it,nt,rt){rt===void 0&&(rt=!1);var st=isHTMLElement(nt),vt=isHTMLElement(nt)&&isElementScaled(nt),bt=getDocumentElement(nt),_t=getBoundingClientRect(it,vt,rt),wt={scrollLeft:0,scrollTop:0},Et={x:0,y:0};return(st||!st&&!rt)&&((getNodeName(nt)!=="body"||isScrollParent(bt))&&(wt=getNodeScroll(nt)),isHTMLElement(nt)?(Et=getBoundingClientRect(nt,!0),Et.x+=nt.clientLeft,Et.y+=nt.clientTop):bt&&(Et.x=getWindowScrollBarX(bt))),{x:_t.left+wt.scrollLeft-Et.x,y:_t.top+wt.scrollTop-Et.y,width:_t.width,height:_t.height}}function order$1(it){var nt=new Map,rt=new Set,st=[];it.forEach(function(bt){nt.set(bt.name,bt)});function vt(bt){rt.add(bt.name);var _t=[].concat(bt.requires||[],bt.requiresIfExists||[]);_t.forEach(function(wt){if(!rt.has(wt)){var Et=nt.get(wt);Et&&vt(Et)}}),st.push(bt)}return it.forEach(function(bt){rt.has(bt.name)||vt(bt)}),st}function orderModifiers(it){var nt=order$1(it);return modifierPhases.reduce(function(rt,st){return rt.concat(nt.filter(function(vt){return vt.phase===st}))},[])}function debounce$1(it){var nt;return function(){return nt||(nt=new Promise(function(rt){Promise.resolve().then(function(){nt=void 0,rt(it())})})),nt}}function mergeByName(it){var nt=it.reduce(function(rt,st){var vt=rt[st.name];return rt[st.name]=vt?Object.assign({},vt,st,{options:Object.assign({},vt.options,st.options),data:Object.assign({},vt.data,st.data)}):st,rt},{});return Object.keys(nt).map(function(rt){return nt[rt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var it=arguments.length,nt=new Array(it),rt=0;rt<it;rt++)nt[rt]=arguments[rt];return!nt.some(function(st){return!(st&&typeof st.getBoundingClientRect=="function")})}function popperGenerator(it){it===void 0&&(it={});var nt=it,rt=nt.defaultModifiers,st=rt===void 0?[]:rt,vt=nt.defaultOptions,bt=vt===void 0?DEFAULT_OPTIONS:vt;return function(wt,Et,Tt){Tt===void 0&&(Tt=bt);var $t={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,bt),modifiersData:{},elements:{reference:wt,popper:Et},attributes:{},styles:{}},Dt=[],Lt=!1,Bt={state:$t,setOptions:function(jt){var Wt=typeof jt=="function"?jt($t.options):jt;Ut(),$t.options=Object.assign({},bt,$t.options,Wt),$t.scrollParents={reference:isElement$1(wt)?listScrollParents(wt):wt.contextElement?listScrollParents(wt.contextElement):[],popper:listScrollParents(Et)};var qt=orderModifiers(mergeByName([].concat(st,$t.options.modifiers)));return $t.orderedModifiers=qt.filter(function(Yt){return Yt.enabled}),Ht(),Bt.update()},forceUpdate:function(){if(!Lt){var jt=$t.elements,Wt=jt.reference,qt=jt.popper;if(!!areValidElements(Wt,qt)){$t.rects={reference:getCompositeRect(Wt,getOffsetParent(qt),$t.options.strategy==="fixed"),popper:getLayoutRect(qt)},$t.reset=!1,$t.placement=$t.options.placement,$t.orderedModifiers.forEach(function(ci){return $t.modifiersData[ci.name]=Object.assign({},ci.data)});for(var Yt=0;Yt<$t.orderedModifiers.length;Yt++){if($t.reset===!0){$t.reset=!1,Yt=-1;continue}var ti=$t.orderedModifiers[Yt],oi=ti.fn,si=ti.options,di=si===void 0?{}:si,ui=ti.name;typeof oi=="function"&&($t=oi({state:$t,options:di,name:ui,instance:Bt})||$t)}}}},update:debounce$1(function(){return new Promise(function(It){Bt.forceUpdate(),It($t)})}),destroy:function(){Ut(),Lt=!0}};if(!areValidElements(wt,Et))return Bt;Bt.setOptions(Tt).then(function(It){!Lt&&Tt.onFirstUpdate&&Tt.onFirstUpdate(It)});function Ht(){$t.orderedModifiers.forEach(function(It){var jt=It.name,Wt=It.options,qt=Wt===void 0?{}:Wt,Yt=It.effect;if(typeof Yt=="function"){var ti=Yt({state:$t,name:jt,instance:Bt,options:qt}),oi=function(){};Dt.push(ti||oi)}})}function Ut(){Dt.forEach(function(It){return It()}),Dt=[]}return Bt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function it(){return document.body};function getValueAtIndexOrReturn(it,nt,rt){if(Array.isArray(it)){var st=it[nt];return st==null?Array.isArray(rt)?rt[nt]:rt:st}return it}function isType(it,nt){var rt={}.toString.call(it);return rt.indexOf("[object")===0&&rt.indexOf(nt+"]")>-1}function invokeWithArgsOrReturn(it,nt){return typeof it=="function"?it.apply(void 0,nt):it}function debounce(it,nt){if(nt===0)return it;var rt;return function(st){clearTimeout(rt),rt=setTimeout(function(){it(st)},nt)}}function splitBySpaces(it){return it.split(/\s+/).filter(Boolean)}function normalizeToArray(it){return[].concat(it)}function pushIfUnique(it,nt){it.indexOf(nt)===-1&&it.push(nt)}function unique(it){return it.filter(function(nt,rt){return it.indexOf(nt)===rt})}function getBasePlacement(it){return it.split("-")[0]}function arrayFrom(it){return[].slice.call(it)}function removeUndefinedProps(it){return Object.keys(it).reduce(function(nt,rt){return it[rt]!==void 0&&(nt[rt]=it[rt]),nt},{})}function div(){return document.createElement("div")}function isElement(it){return["Element","Fragment"].some(function(nt){return isType(it,nt)})}function isNodeList(it){return isType(it,"NodeList")}function isMouseEvent(it){return isType(it,"MouseEvent")}function isReferenceElement(it){return!!(it&&it._tippy&&it._tippy.reference===it)}function getArrayOfElements(it){return isElement(it)?[it]:isNodeList(it)?arrayFrom(it):Array.isArray(it)?it:arrayFrom(document.querySelectorAll(it))}function setTransitionDuration(it,nt){it.forEach(function(rt){rt&&(rt.style.transitionDuration=nt+"ms")})}function setVisibilityState(it,nt){it.forEach(function(rt){rt&&rt.setAttribute("data-state",nt)})}function getOwnerDocument(it){var nt,rt=normalizeToArray(it),st=rt[0];return st!=null&&(nt=st.ownerDocument)!=null&&nt.body?st.ownerDocument:document}function isCursorOutsideInteractiveBorder(it,nt){var rt=nt.clientX,st=nt.clientY;return it.every(function(vt){var bt=vt.popperRect,_t=vt.popperState,wt=vt.props,Et=wt.interactiveBorder,Tt=getBasePlacement(_t.placement),$t=_t.modifiersData.offset;if(!$t)return!0;var Dt=Tt==="bottom"?$t.top.y:0,Lt=Tt==="top"?$t.bottom.y:0,Bt=Tt==="right"?$t.left.x:0,Ht=Tt==="left"?$t.right.x:0,Ut=bt.top-st+Dt>Et,It=st-bt.bottom-Lt>Et,jt=bt.left-rt+Bt>Et,Wt=rt-bt.right-Ht>Et;return Ut||It||jt||Wt})}function updateTransitionEndListener(it,nt,rt){var st=nt+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(vt){it[st](vt,rt)})}function actualContains(it,nt){for(var rt=nt;rt;){var st;if(it.contains(rt))return!0;rt=rt.getRootNode==null||(st=rt.getRootNode())==null?void 0:st.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var it=performance.now();it-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=it}function onWindowBlur(){var it=document.activeElement;if(isReferenceElement(it)){var nt=it._tippy;it.blur&&!nt.state.isVisible&&it.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function it(){},onBeforeUpdate:function it(){},onCreate:function it(){},onDestroy:function it(){},onHidden:function it(){},onHide:function it(){},onMount:function it(){},onShow:function it(){},onShown:function it(){},onTrigger:function it(){},onUntrigger:function it(){},onClickOutside:function it(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function it(nt){var rt=Object.keys(nt);rt.forEach(function(st){defaultProps[st]=nt[st]})};function getExtendedPassedProps(it){var nt=it.plugins||[],rt=nt.reduce(function(st,vt){var bt=vt.name,_t=vt.defaultValue;if(bt){var wt;st[bt]=it[bt]!==void 0?it[bt]:(wt=defaultProps[bt])!=null?wt:_t}return st},{});return Object.assign({},it,rt)}function getDataAttributeProps(it,nt){var rt=nt?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:nt}))):defaultKeys,st=rt.reduce(function(vt,bt){var _t=(it.getAttribute("data-tippy-"+bt)||"").trim();if(!_t)return vt;if(bt==="content")vt[bt]=_t;else try{vt[bt]=JSON.parse(_t)}catch{vt[bt]=_t}return vt},{});return st}function evaluateProps(it,nt){var rt=Object.assign({},nt,{content:invokeWithArgsOrReturn(nt.content,[it])},nt.ignoreAttributes?{}:getDataAttributeProps(it,nt.plugins));return rt.aria=Object.assign({},defaultProps.aria,rt.aria),rt.aria={expanded:rt.aria.expanded==="auto"?nt.interactive:rt.aria.expanded,content:rt.aria.content==="auto"?nt.interactive?null:"describedby":rt.aria.content},rt}var innerHTML=function it(){return"innerHTML"};function dangerouslySetInnerHTML(it,nt){it[innerHTML()]=nt}function createArrowElement(it){var nt=div();return it===!0?nt.className=ARROW_CLASS:(nt.className=SVG_ARROW_CLASS,isElement(it)?nt.appendChild(it):dangerouslySetInnerHTML(nt,it)),nt}function setContent(it,nt){isElement(nt.content)?(dangerouslySetInnerHTML(it,""),it.appendChild(nt.content)):typeof nt.content!="function"&&(nt.allowHTML?dangerouslySetInnerHTML(it,nt.content):it.textContent=nt.content)}function getChildren(it){var nt=it.firstElementChild,rt=arrayFrom(nt.children);return{box:nt,content:rt.find(function(st){return st.classList.contains(CONTENT_CLASS)}),arrow:rt.find(function(st){return st.classList.contains(ARROW_CLASS)||st.classList.contains(SVG_ARROW_CLASS)}),backdrop:rt.find(function(st){return st.classList.contains(BACKDROP_CLASS)})}}function render$3(it){var nt=div(),rt=div();rt.className=BOX_CLASS,rt.setAttribute("data-state","hidden"),rt.setAttribute("tabindex","-1");var st=div();st.className=CONTENT_CLASS,st.setAttribute("data-state","hidden"),setContent(st,it.props),nt.appendChild(rt),rt.appendChild(st),vt(it.props,it.props);function vt(bt,_t){var wt=getChildren(nt),Et=wt.box,Tt=wt.content,$t=wt.arrow;_t.theme?Et.setAttribute("data-theme",_t.theme):Et.removeAttribute("data-theme"),typeof _t.animation=="string"?Et.setAttribute("data-animation",_t.animation):Et.removeAttribute("data-animation"),_t.inertia?Et.setAttribute("data-inertia",""):Et.removeAttribute("data-inertia"),Et.style.maxWidth=typeof _t.maxWidth=="number"?_t.maxWidth+"px":_t.maxWidth,_t.role?Et.setAttribute("role",_t.role):Et.removeAttribute("role"),(bt.content!==_t.content||bt.allowHTML!==_t.allowHTML)&&setContent(Tt,it.props),_t.arrow?$t?bt.arrow!==_t.arrow&&(Et.removeChild($t),Et.appendChild(createArrowElement(_t.arrow))):Et.appendChild(createArrowElement(_t.arrow)):$t&&Et.removeChild($t)}return{popper:nt,onUpdate:vt}}render$3.$$tippy=!0;var idCounter$1=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(it,nt){var rt=evaluateProps(it,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(nt)))),st,vt,bt,_t=!1,wt=!1,Et=!1,Tt=!1,$t,Dt,Lt,Bt=[],Ht=debounce(Qt,rt.interactiveDebounce),Ut,It=idCounter$1++,jt=null,Wt=unique(rt.plugins),qt={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},Yt={id:It,reference:it,popper:div(),popperInstance:jt,props:rt,state:qt,plugins:Wt,clearDelayTimeouts:Wi,setProps:Cn,setContent:En,show:$n,hide:Fn,hideWithInteractivity:Rn,enable:tn,disable:qi,unmount:br,destroy:Bn};if(!rt.render)return Yt;var ti=rt.render(Yt),oi=ti.popper,si=ti.onUpdate;oi.setAttribute("data-tippy-root",""),oi.id="tippy-"+Yt.id,Yt.popper=oi,it._tippy=Yt,oi._tippy=Yt;var di=Wt.map(function(on){return on.fn(Yt)}),ui=it.hasAttribute("aria-expanded");return $i(),Ai(),Fi(),Xi("onCreate",[Yt]),rt.showOnCreate&&zi(),oi.addEventListener("mouseenter",function(){Yt.props.interactive&&Yt.state.isVisible&&Yt.clearDelayTimeouts()}),oi.addEventListener("mouseleave",function(){Yt.props.interactive&&Yt.props.trigger.indexOf("mouseenter")>=0&&Kt().addEventListener("mousemove",Ht)}),Yt;function ci(){var on=Yt.props.touch;return Array.isArray(on)?on:[on,0]}function hi(){return ci()[0]==="hold"}function ei(){var on;return!!((on=Yt.props.render)!=null&&on.$$tippy)}function wi(){return Ut||it}function Kt(){var on=wi().parentNode;return on?getOwnerDocument(on):document}function Ni(){return getChildren(oi)}function ni(on){return Yt.state.isMounted&&!Yt.state.isVisible||currentInput.isTouch||$t&&$t.type==="focus"?0:getValueAtIndexOrReturn(Yt.props.delay,on?0:1,defaultProps.delay)}function Fi(on){on===void 0&&(on=!1),oi.style.pointerEvents=Yt.props.interactive&&!on?"":"none",oi.style.zIndex=""+Yt.props.zIndex}function Xi(on,li,ai){if(ai===void 0&&(ai=!0),di.forEach(function(ki){ki[on]&&ki[on].apply(ki,li)}),ai){var xi;(xi=Yt.props)[on].apply(xi,li)}}function nn(){var on=Yt.props.aria;if(!!on.content){var li="aria-"+on.content,ai=oi.id,xi=normalizeToArray(Yt.props.triggerTarget||it);xi.forEach(function(ki){var Ki=ki.getAttribute(li);if(Yt.state.isVisible)ki.setAttribute(li,Ki?Ki+" "+ai:ai);else{var gn=Ki&&Ki.replace(ai,"").trim();gn?ki.setAttribute(li,gn):ki.removeAttribute(li)}})}}function Ai(){if(!(ui||!Yt.props.aria.expanded)){var on=normalizeToArray(Yt.props.triggerTarget||it);on.forEach(function(li){Yt.props.interactive?li.setAttribute("aria-expanded",Yt.state.isVisible&&li===wi()?"true":"false"):li.removeAttribute("aria-expanded")})}}function ji(){Kt().removeEventListener("mousemove",Ht),mouseMoveListeners=mouseMoveListeners.filter(function(on){return on!==Ht})}function Ri(on){if(!(currentInput.isTouch&&(Et||on.type==="mousedown"))){var li=on.composedPath&&on.composedPath()[0]||on.target;if(!(Yt.props.interactive&&actualContains(oi,li))){if(normalizeToArray(Yt.props.triggerTarget||it).some(function(ai){return actualContains(ai,li)})){if(currentInput.isTouch||Yt.state.isVisible&&Yt.props.trigger.indexOf("click")>=0)return}else Xi("onClickOutside",[Yt,on]);Yt.props.hideOnClick===!0&&(Yt.clearDelayTimeouts(),Yt.hide(),wt=!0,setTimeout(function(){wt=!1}),Yt.state.isMounted||Pi())}}}function Vi(){Et=!0}function Qi(){Et=!1}function rn(){var on=Kt();on.addEventListener("mousedown",Ri,!0),on.addEventListener("touchend",Ri,TOUCH_OPTIONS),on.addEventListener("touchstart",Qi,TOUCH_OPTIONS),on.addEventListener("touchmove",Vi,TOUCH_OPTIONS)}function Pi(){var on=Kt();on.removeEventListener("mousedown",Ri,!0),on.removeEventListener("touchend",Ri,TOUCH_OPTIONS),on.removeEventListener("touchstart",Qi,TOUCH_OPTIONS),on.removeEventListener("touchmove",Vi,TOUCH_OPTIONS)}function bn(on,li){Ii(on,function(){!Yt.state.isVisible&&oi.parentNode&&oi.parentNode.contains(oi)&&li()})}function Oi(on,li){Ii(on,li)}function Ii(on,li){var ai=Ni().box;function xi(ki){ki.target===ai&&(updateTransitionEndListener(ai,"remove",xi),li())}if(on===0)return li();updateTransitionEndListener(ai,"remove",Dt),updateTransitionEndListener(ai,"add",xi),Dt=xi}function Gi(on,li,ai){ai===void 0&&(ai=!1);var xi=normalizeToArray(Yt.props.triggerTarget||it);xi.forEach(function(ki){ki.addEventListener(on,li,ai),Bt.push({node:ki,eventType:on,handler:li,options:ai})})}function $i(){hi()&&(Gi("touchstart",Nt,{passive:!0}),Gi("touchend",Jt,{passive:!0})),splitBySpaces(Yt.props.trigger).forEach(function(on){if(on!=="manual")switch(Gi(on,Nt),on){case"mouseenter":Gi("mouseleave",Jt);break;case"focus":Gi(isIE11?"focusout":"blur",Si);break;case"focusin":Gi("focusout",Si);break}})}function ii(){Bt.forEach(function(on){var li=on.node,ai=on.eventType,xi=on.handler,ki=on.options;li.removeEventListener(ai,xi,ki)}),Bt=[]}function Nt(on){var li,ai=!1;if(!(!Yt.state.isEnabled||vi(on)||wt)){var xi=((li=$t)==null?void 0:li.type)==="focus";$t=on,Ut=on.currentTarget,Ai(),!Yt.state.isVisible&&isMouseEvent(on)&&mouseMoveListeners.forEach(function(ki){return ki(on)}),on.type==="click"&&(Yt.props.trigger.indexOf("mouseenter")<0||_t)&&Yt.props.hideOnClick!==!1&&Yt.state.isVisible?ai=!0:zi(on),on.type==="click"&&(_t=!ai),ai&&!xi&&Hi(on)}}function Qt(on){var li=on.target,ai=wi().contains(li)||oi.contains(li);if(!(on.type==="mousemove"&&ai)){var xi=Ti().concat(oi).map(function(ki){var Ki,gn=ki._tippy,Ui=(Ki=gn.popperInstance)==null?void 0:Ki.state;return Ui?{popperRect:ki.getBoundingClientRect(),popperState:Ui,props:rt}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(xi,on)&&(ji(),Hi(on))}}function Jt(on){var li=vi(on)||Yt.props.trigger.indexOf("click")>=0&&_t;if(!li){if(Yt.props.interactive){Yt.hideWithInteractivity(on);return}Hi(on)}}function Si(on){Yt.props.trigger.indexOf("focusin")<0&&on.target!==wi()||Yt.props.interactive&&on.relatedTarget&&oi.contains(on.relatedTarget)||Hi(on)}function vi(on){return currentInput.isTouch?hi()!==on.type.indexOf("touch")>=0:!1}function Mi(){_i();var on=Yt.props,li=on.popperOptions,ai=on.placement,xi=on.offset,ki=on.getReferenceClientRect,Ki=on.moveTransition,gn=ei()?getChildren(oi).arrow:null,Ui=ki?{getBoundingClientRect:ki,contextElement:ki.contextElement||wi()}:it,yn={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Dn){var Hn=Dn.state;if(ei()){var Mn=Ni(),sr=Mn.box;["placement","reference-hidden","escaped"].forEach(function(jn){jn==="placement"?sr.setAttribute("data-placement",Hn.placement):Hn.attributes.popper["data-popper-"+jn]?sr.setAttribute("data-"+jn,""):sr.removeAttribute("data-"+jn)}),Hn.attributes.popper={}}}},an=[{name:"offset",options:{offset:xi}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Ki}},yn];ei()&&gn&&an.push({name:"arrow",options:{element:gn,padding:3}}),an.push.apply(an,(li==null?void 0:li.modifiers)||[]),Yt.popperInstance=createPopper(Ui,oi,Object.assign({},li,{placement:ai,onFirstUpdate:Lt,modifiers:an}))}function _i(){Yt.popperInstance&&(Yt.popperInstance.destroy(),Yt.popperInstance=null)}function Li(){var on=Yt.props.appendTo,li,ai=wi();Yt.props.interactive&&on===TIPPY_DEFAULT_APPEND_TO||on==="parent"?li=ai.parentNode:li=invokeWithArgsOrReturn(on,[ai]),li.contains(oi)||li.appendChild(oi),Yt.state.isMounted=!0,Mi()}function Ti(){return arrayFrom(oi.querySelectorAll("[data-tippy-root]"))}function zi(on){Yt.clearDelayTimeouts(),on&&Xi("onTrigger",[Yt,on]),rn();var li=ni(!0),ai=ci(),xi=ai[0],ki=ai[1];currentInput.isTouch&&xi==="hold"&&ki&&(li=ki),li?st=setTimeout(function(){Yt.show()},li):Yt.show()}function Hi(on){if(Yt.clearDelayTimeouts(),Xi("onUntrigger",[Yt,on]),!Yt.state.isVisible){Pi();return}if(!(Yt.props.trigger.indexOf("mouseenter")>=0&&Yt.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(on.type)>=0&&_t)){var li=ni(!1);li?vt=setTimeout(function(){Yt.state.isVisible&&Yt.hide()},li):bt=requestAnimationFrame(function(){Yt.hide()})}}function tn(){Yt.state.isEnabled=!0}function qi(){Yt.hide(),Yt.state.isEnabled=!1}function Wi(){clearTimeout(st),clearTimeout(vt),cancelAnimationFrame(bt)}function Cn(on){if(!Yt.state.isDestroyed){Xi("onBeforeUpdate",[Yt,on]),ii();var li=Yt.props,ai=evaluateProps(it,Object.assign({},li,removeUndefinedProps(on),{ignoreAttributes:!0}));Yt.props=ai,$i(),li.interactiveDebounce!==ai.interactiveDebounce&&(ji(),Ht=debounce(Qt,ai.interactiveDebounce)),li.triggerTarget&&!ai.triggerTarget?normalizeToArray(li.triggerTarget).forEach(function(xi){xi.removeAttribute("aria-expanded")}):ai.triggerTarget&&it.removeAttribute("aria-expanded"),Ai(),Fi(),si&&si(li,ai),Yt.popperInstance&&(Mi(),Ti().forEach(function(xi){requestAnimationFrame(xi._tippy.popperInstance.forceUpdate)})),Xi("onAfterUpdate",[Yt,on])}}function En(on){Yt.setProps({content:on})}function $n(){var on=Yt.state.isVisible,li=Yt.state.isDestroyed,ai=!Yt.state.isEnabled,xi=currentInput.isTouch&&!Yt.props.touch,ki=getValueAtIndexOrReturn(Yt.props.duration,0,defaultProps.duration);if(!(on||li||ai||xi)&&!wi().hasAttribute("disabled")&&(Xi("onShow",[Yt],!1),Yt.props.onShow(Yt)!==!1)){if(Yt.state.isVisible=!0,ei()&&(oi.style.visibility="visible"),Fi(),rn(),Yt.state.isMounted||(oi.style.transition="none"),ei()){var Ki=Ni(),gn=Ki.box,Ui=Ki.content;setTransitionDuration([gn,Ui],0)}Lt=function(){var an;if(!(!Yt.state.isVisible||Tt)){if(Tt=!0,oi.offsetHeight,oi.style.transition=Yt.props.moveTransition,ei()&&Yt.props.animation){var Tn=Ni(),Dn=Tn.box,Hn=Tn.content;setTransitionDuration([Dn,Hn],ki),setVisibilityState([Dn,Hn],"visible")}nn(),Ai(),pushIfUnique(mountedInstances,Yt),(an=Yt.popperInstance)==null||an.forceUpdate(),Xi("onMount",[Yt]),Yt.props.animation&&ei()&&Oi(ki,function(){Yt.state.isShown=!0,Xi("onShown",[Yt])})}},Li()}}function Fn(){var on=!Yt.state.isVisible,li=Yt.state.isDestroyed,ai=!Yt.state.isEnabled,xi=getValueAtIndexOrReturn(Yt.props.duration,1,defaultProps.duration);if(!(on||li||ai)&&(Xi("onHide",[Yt],!1),Yt.props.onHide(Yt)!==!1)){if(Yt.state.isVisible=!1,Yt.state.isShown=!1,Tt=!1,_t=!1,ei()&&(oi.style.visibility="hidden"),ji(),Pi(),Fi(!0),ei()){var ki=Ni(),Ki=ki.box,gn=ki.content;Yt.props.animation&&(setTransitionDuration([Ki,gn],xi),setVisibilityState([Ki,gn],"hidden"))}nn(),Ai(),Yt.props.animation?ei()&&bn(xi,Yt.unmount):Yt.unmount()}}function Rn(on){Kt().addEventListener("mousemove",Ht),pushIfUnique(mouseMoveListeners,Ht),Ht(on)}function br(){Yt.state.isVisible&&Yt.hide(),Yt.state.isMounted&&(_i(),Ti().forEach(function(on){on._tippy.unmount()}),oi.parentNode&&oi.parentNode.removeChild(oi),mountedInstances=mountedInstances.filter(function(on){return on!==Yt}),Yt.state.isMounted=!1,Xi("onHidden",[Yt]))}function Bn(){Yt.state.isDestroyed||(Yt.clearDelayTimeouts(),Yt.unmount(),ii(),delete it._tippy,Yt.state.isDestroyed=!0,Xi("onDestroy",[Yt]))}}function tippy(it,nt){nt===void 0&&(nt={});var rt=defaultProps.plugins.concat(nt.plugins||[]);bindGlobalEventListeners();var st=Object.assign({},nt,{plugins:rt}),vt=getArrayOfElements(it),bt=vt.reduce(function(_t,wt){var Et=wt&&createTippy(wt,st);return Et&&_t.push(Et),_t},[]);return isElement(it)?bt[0]:bt}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function it(nt){var rt=nt.state,st={popper:{position:rt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(rt.elements.popper.style,st.popper),rt.styles=st,rt.elements.arrow&&Object.assign(rt.elements.arrow.style,st.arrow)}});tippy.setDefaultProps({render:render$3});const iiifServer="https://iiif.juncture-digital.org";function isURL(it){return/^https*:\/\//.test(it)}function sha256(it){return sha256$1.exports.sha256(it)}function isMobile(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}let tippyEntities;function initTippy(it=null,nt=!1){nt&&(tippyEntities=null),it=it||document;let rt=Array.from(it.querySelectorAll("mark")).filter(st=>Array.from(st.attributes).find(vt=>{let bt=vt.name.toLowerCase();return bt==="qid"||isQID(vt.value)&&bt!=="flyto"}));!tippyEntities&&rt.length>0&&(tippyEntities=rt,tippy(tippyEntities,{interactive:!0,allowHTML:!0,delay:[null,null],onShow:st=>{let vt=Array.from(st.reference.attributes).filter(bt=>bt.name.toLowerCase()==="qid"||isQID(bt.value)).map(bt=>bt.value).flat().join();vt&&st.setContent(`<ve-entity-card qid="${vt}" style="width:600px;max-width:90vw;"></ve-entity-card>`)}}))}async function getManifest(it,nt=!1){let rt=it.indexOf("http")===0?it:`${iiifServer}/${it}/manifest.json`;return(await loadManifests([rt],nt))[0]}function observeNavbar(it,nt){const rt=()=>{let vt=parseInt(it.style.top.replace(/^-/,"").replace(/px$/,"")),_t=parseInt(it.style.height.replace(/px$/,""))-vt;nt.style.top=`${_t}px`};rt(),new MutationObserver(rt).observe(it,{attributes:!0})}function makeSticky(it){var rt;it.classList.add("sticky"),it.style.position="sticky",it.style.marginTop="6px";let nt=document.querySelector('ve-navbar[sticky="true"]');if(nt)observeNavbar(nt,it);else{let st=document.querySelector("ve-header[sticky]");st?(nt=(rt=st==null?void 0:st.shadowRoot)==null?void 0:rt.querySelector("ve-navbar"),nt?observeNavbar(nt,it):new MutationObserver(()=>{var bt;nt=(bt=st==null?void 0:st.shadowRoot)==null?void 0:bt.querySelector("ve-navbar"),nt&&observeNavbar(nt,it)}).observe(st,{childList:!0,subtree:!0,attributes:!0})):it.style.top="0"}}function findItem(it,nt,rt=1){const st=_findItems(it,nt);return st.length>=rt?st[rt-1]:null}function _findItems(it,nt,rt=[]){if(rt=rt||[],nt.items)for(let st=0;st<nt.items.length;st++){let vt=nt.items[st];!Object.entries(it).find(([_t,wt])=>vt[_t]&&vt[_t]!==wt)?rt.push(vt):_findItems(it,vt,rt)}return rt}function getItemInfo(it,nt=1){return findItem({type:"Annotation",motivation:"painting"},it,nt).body}function imageCount(it){return _findItems({type:"Annotation",motivation:"painting"},it).length}const _manifestCache={};async function loadManifests(it,nt=!1){let rt=it.map(vt=>vt.indexOf("http")===0?vt:`${iiifServer}/${vt}/manifest.json`),st=rt.filter(vt=>!_manifestCache[vt]);if(st.length>0){let vt=st.map(wt=>(nt&&["localhost","iiif.juncture-digital.org"].includes(new URL(wt).hostname)&&(wt+="?refresh"),fetch(wt))),bt=await Promise.all(vt),_t=await Promise.all(bt.map(wt=>wt.json()));if(vt=_t.filter(wt=>!Array.isArray(wt["@context"])&&parseFloat(wt["@context"].split("/").slice(-2,-1).pop())<3).map(wt=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(wt)})),vt.length>0){bt=await Promise.all(vt);let wt=await Promise.all(bt.map(Et=>Et.json()));for(let Et=0;Et<_t.length;Et++){let Tt=wt.find($t=>$t["@id"]===_t[Et].id);Tt&&(_t[Et]=Tt)}}return _t.forEach((wt,Et)=>_manifestCache[st[Et]]=wt),rt.map(wt=>_manifestCache[wt])}else return rt.map(vt=>_manifestCache[vt])}function _value(it,nt="en"){return typeof it=="object"?it[nt]||it.none||it[Object.keys(it).sort()[0]]:it}function label(it,nt="en"){return it?_value(it.label,nt):null}function summary(it,nt="en"){return it?_value(it.summary,nt):null}function staticImage(it,nt,rt=0,st=0){let vt=getItemInfo(it),bt=nt.region||"full",_t=nt.size?nt.size:rt?st?`${rt},${st}`:`${rt},`:st?`,${st}`:"400,",wt=nt.rotation||"0",Et=nt.quality||"default",Tt=nt.format||"jpg";return`${vt.service[0].id||vt.service[0]["@id"]}/${bt}/${_t}/${wt}/${Et}.${Tt}`}function thumbnail(it,nt=400){if(!it)return null;let rt=getItemInfo(it);return rt.service?`${rt.service[0].id||rt.service[0]["@id"]}/full/${nt},/0/default.jpg`:rt.type==="Video"?`https://iiif.juncture-digital.org/thumbnail?url=${rt.id}`:rt.id}function parseRegionString(it,nt){let rt;const st=it.split(":");let[vt,bt,_t,wt]=st[st.length-1].split(",").map(Tt=>parseInt(Tt));const Et=nt.world.getItemAt(0).getContentSize();return st.length===2&&(st[0]==="pct"||st[0]==="percent")&&(vt=Math.round(Et.x*vt/100),bt=Math.round(Et.y*bt/100),_t=Math.round(Et.x*_t/100),wt=Math.round(Et.y*wt/100)),rt=nt.viewport.imageToViewportRectangle(vt,bt,_t,wt),rt}function getMetadata(it,nt="en"){let rt=[];return it.metadata&&it.metadata.forEach(st=>{rt.push({label:_value(st.label,nt)[0],value:_value(st.value,nt)})}),rt}function metadataAsObj(it,nt="en"){return Object.fromEntries(getMetadata(it,nt).map(rt=>[rt.label,rt.value]))}function top$1(){return stickyElems.length>0&&stickyElems[0].localName.toLowerCase()==="ve-navbar"?parseInt(window.getComputedStyle(stickyElems[0]).height.slice(0,-2)):0}function findStickyElems(){var rt,st;initTippy();let it=Array.from(document.querySelectorAll(".sticky")),nt=it.findIndex(vt=>vt.localName.toLowerCase()==="ve-navbar");if(nt<0){let vt=it.findIndex(bt=>bt.localName.toLowerCase()==="ve-header");if(vt>=0){let bt=(st=(rt=it[vt])==null?void 0:rt.shadowRoot)==null?void 0:st.querySelector("ve-navbar.sticky");bt&&(it[vt]=bt,nt=vt)}}return it.forEach(vt=>setTop(vt)),it}function activeRegionOffset(){let it=stickyElems.find(rt=>rt.localName.toLowerCase()==="ve-navbar"),nt=it?it.getBoundingClientRect().top:0;return stickyElems.forEach(rt=>{let st=rt.getBoundingClientRect();if((st.x<st.width?0:1)===0&&st.top===nt){let bt=window.getComputedStyle(rt).height;bt.length>=3&&bt.slice(-2)==="px"&&(nt+=parseInt(window.getComputedStyle(rt).height.slice(0,-2)))}}),nt}function setTop(it){if(it.localName.toLowerCase()==="section"){let nt=stickyElems.find(st=>st.localName.toLowerCase()==="ve-navbar"),rt=nt?nt.clientHeight:0;it.style.top=`${rt}px`}}let stickyElems=[];const mutationObserver=new MutationObserver(it=>{let nt=it.filter(rt=>{let st=Array.from(rt.addedNodes).filter(bt=>{var _t;return((_t=bt.id)==null?void 0:_t.indexOf("tippy"))<0}).length,vt=Array.from(rt.removedNodes).filter(bt=>{var _t;return((_t=bt.id)==null?void 0:_t.indexOf("tippy"))<0}).length;return st+vt>0});(!tippyEntities||nt.length>0)&&(stickyElems=findStickyElems())});mutationObserver.observe(document,{childList:!0,subtree:!0});let targets={},active,offset=0;const intersectionObserver=new IntersectionObserver(it=>{offset=activeRegionOffset(),it.forEach(st=>targets[domPath(st.target)]=st);let nt=Object.values(targets).filter(st=>st.isIntersecting).filter(st=>st.target.getBoundingClientRect().y>=offset).sort((st,vt)=>st.target.getBoundingClientRect().y>vt.target.getBoundingClientRect().y?1:-1),rt=nt.find(st=>st.intersectionRatio===1)||nt[0];if(rt){let st=rt.target;Array.from(st.classList).indexOf("active")<0&&(active&&active.classList.remove("active"),st.classList.add("active"),active=st)}},{root:null,threshold:[0,.25,.5,.75,1],rootMargin:`-${offset}px 0px 0px 0px`});Array.from(document.querySelectorAll("p")).forEach(it=>intersectionObserver.observe(it));function observeActive(it){Array.from(it.querySelectorAll("p")).forEach(nt=>intersectionObserver.observe(nt))}function domPath(it){for(var nt=[];it.parentNode!=null;){let st=0,vt=0;for(var rt=0;rt<it.parentNode.childNodes.length;rt++){let bt=it.parentNode.childNodes[rt];bt.nodeName==it.nodeName&&(bt===it&&(vt=st),st++)}it.hasAttribute("id")&&it.id!=""?nt.unshift(it.nodeName.toLowerCase()+`#${it.id}`):st>1?nt.unshift(it.nodeName.toLowerCase()+(vt>0?`[${vt}]`:"")):nt.unshift(it.nodeName.toLowerCase()),it=it.parentNode}return nt.join(".")}let entityData={};async function getEntityData(it=[],nt="en"){let rt=it.filter(st=>!entityData[st]).map(st=>`(<http://www.wikidata.org/entity/${st}>)`);if(rt.length>0){let st=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${rt.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${nt}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${nt}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${nt}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${nt}.wikipedia.org/> . }
    }`,vt=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(st)}`});if(vt.ok)return(await vt.json()).results.bindings.forEach(_t=>{let wt=_t.item.value.split("/").pop();entityData[wt]?_t.alias&&entityData[wt].aliases.push(_t.alias.value):(entityData[wt]={id:wt,label:_t.label.value},_t.description&&(entityData[wt].description=_t.description.value),_t.alias&&(entityData[wt].aliases=[_t.alias.value]),_t.coords&&(entityData[wt].coords=_t.coords.value.slice(6,-1).split(" ").reverse().join(",")),_t.wikipedia&&(entityData[wt].wikipedia=_t.wikipedia.value),_t.pageBanner&&(entityData[wt].pageBanner=_t.pageBanner.value),_t.image&&(entityData[wt].image=_t.image.value,entityData[wt].thumbnail=mwImage(_t.image.value,300)),_t.logoImage&&(entityData[wt].logoImage=_t.logoImage.value,entityData[wt].thumbnail||(entityData[wt].thumbnail=mwImage(_t.logoImage.value,300))),_t.whosOnFirst&&(entityData[wt].geojson=whosOnFirstUrl(_t.whosOnFirst.value)))}),Object.fromEntries(it.filter(_t=>entityData[_t]).map(_t=>[_t,entityData[_t]]))}return Object.fromEntries(it.filter(st=>entityData[st]).map(st=>[st,entityData[st]]))}function isQID(it){return it[0]==="Q"&&isNum(it.slice(1))}async function getEntity(it,nt="en"){return(await getEntityData([it],nt))[it]}function mwImage(it,nt){it=(Array.isArray(it)?it[0]:it).replace(/Special:FilePath\//,"File:").split("File:").pop(),it=decodeURIComponent(it).replace(/ /g,"_");const rt=md5(it),st=it.split(".").pop();let vt=`https://upload.wikimedia.org/wikipedia/commons${nt?"/thumb":""}`;return vt+=`/${rt.slice(0,1)}/${rt.slice(0,2)}/${it}`,nt&&(vt+=`/${nt}px-${it}`,st==="svg"?vt+=".png":(st==="tif"||st==="tiff")&&(vt+=".jpg")),vt}function whosOnFirstUrl(it){let nt=[];for(let rt=0;rt<it.length;rt+=3)nt.push(it.slice(rt,rt+3));return`https://data.whosonfirst.org/${nt.join("/")}/${it}.geojson`}function isNum(it){return it&&!isNaN(it)}function parseImageOptions(it){let nt=(it==null?void 0:it.split("/"))||[],rt="full",st="full",vt="0",bt="default",_t="jpg",wt=0;return{region:nt.length>wt&&nt[wt]?nt[wt]:rt,size:nt.length>wt+1&&nt[wt+1]?nt[wt+1]:st,rotation:nt.length>wt+2&&nt[wt+2]?nt[wt+2]:vt,quality:nt.length>wt+3&&nt[wt+3]?nt[wt+3]:bt,format:nt.length>wt+4&&nt[wt+4]?nt[wt+4]:_t}}async function imageDataUrl(it,nt,rt){return new Promise(st=>{let{x:vt,y:bt,w:_t,h:wt}=nt,{width:Et,height:Tt}=rt,$t=new Image;$t.crossOrigin="anonymous",vt=vt?vt/100:0,bt=bt?bt/100:0,_t=_t?_t/100:0,wt=wt?wt/100:0,$t.onload=()=>{let Dt=$t.width,Lt=$t.height,Bt=_t>0?Dt*_t:Dt-Dt*vt,Ht=wt>0?Lt*wt:Lt-Lt*bt,Ut=Bt/Ht;Ut>1?Tt=Et/Ut:Et=Tt*Ut;const It=document.createElement("canvas"),jt=It.getContext("2d");It.width=Et,It.height=Tt,vt=vt*Dt,bt=bt*Lt,jt==null||jt.drawImage($t,vt,bt,Bt,Ht,0,0,Et,Tt);let Wt=It.toDataURL();st(Wt)},$t.src=it})}let summaryText={};async function getSummaryText(it,nt="en"){if(summaryText[nt]||(summaryText[nt]={}),!summaryText[nt][it]&&entityData[it]&&entityData[it].wikipedia){let st=entityData[it].wikipedia.replace(/\/w\//,"/wiki").split("/wiki/").pop(),vt=`https://${nt}.wikipedia.org/api/rest_v1/page/summary/${st}`,bt=await fetch(vt);return bt.ok&&(bt=await bt.json(),summaryText[nt][it]=bt.extract_html||bt.extract),summaryText[nt][it]}else return summaryText[nt][it]}var breadcrumb_styles_default=i$4`
  ${component_styles_default}

  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,SlBreadcrumb=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const nt=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[nt,...nt.querySelectorAll("[id]")].forEach(rt=>rt.removeAttribute("id")),nt.setAttribute("data-default",""),nt.slot="separator",nt}handleSlotChange(){const it=[...this.defaultSlot.assignedElements({flatten:!0})].filter(nt=>nt.tagName.toLowerCase()==="sl-breadcrumb-item");it.forEach((nt,rt)=>{const st=nt.querySelector('[slot="separator"]');st===null?nt.append(this.getSeparator()):st.hasAttribute("data-default")&&st.replaceWith(this.getSeparator()),rt===it.length-1?nt.setAttribute("aria-current","page"):nt.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),y$2`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <slot name="separator" hidden aria-hidden="true">
        <sl-icon name=${this.localize.dir()==="rtl"?"chevron-left":"chevron-right"} library="system"></sl-icon>
      </slot>
    `}};SlBreadcrumb.styles=breadcrumb_styles_default;__decorateClass([i2$2("slot")],SlBreadcrumb.prototype,"defaultSlot",2);__decorateClass([i2$2('slot[name="separator"]')],SlBreadcrumb.prototype,"separatorSlot",2);__decorateClass([e2$2()],SlBreadcrumb.prototype,"label",2);SlBreadcrumb=__decorateClass([e$1("sl-breadcrumb")],SlBreadcrumb);var breadcrumb_item_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
  }
`,SlBreadcrumbItem=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"prefix","suffix"),this.rel="noreferrer noopener"}render(){const it=!!this.href;return y$2`
      <div
        part="base"
        class=${o$1({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <slot name="prefix" part="prefix" class="breadcrumb-item__prefix"></slot>

        ${it?y$2`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${l$2(this.target?this.target:void 0)}"
                rel=${l$2(this.target?this.rel:void 0)}
              >
                <slot></slot>
              </a>
            `:y$2`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot></slot>
              </button>
            `}

        <slot name="suffix" part="suffix" class="breadcrumb-item__suffix"></slot>

        <slot name="separator" part="separator" class="breadcrumb-item__separator" aria-hidden="true"></slot>
      </div>
    `}};SlBreadcrumbItem.styles=breadcrumb_item_styles_default;__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"href",2);__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"target",2);__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"rel",2);SlBreadcrumbItem=__decorateClass([e$1("sl-breadcrumb-item")],SlBreadcrumbItem);var details_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    cursor: pointer;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,SlDetails=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.hidden=!this.open,this.body.style.height=this.open?"auto":"0"}handleSummaryClick(){this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(it){(it.key==="Enter"||it.key===" ")&&(it.preventDefault(),this.open?this.hide():this.show()),(it.key==="ArrowUp"||it.key==="ArrowLeft")&&(it.preventDefault(),this.hide()),(it.key==="ArrowDown"||it.key==="ArrowRight")&&(it.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.emit("sl-show",{cancelable:!0}).defaultPrevented){this.open=!1;return}await stopAnimations(this.body),this.body.hidden=!1;const{keyframes:nt,options:rt}=getAnimation(this,"details.show",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(nt,this.body.scrollHeight),rt),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented){this.open=!0;return}await stopAnimations(this.body);const{keyframes:nt,options:rt}=getAnimation(this,"details.hide",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(nt,this.body.scrollHeight),rt),this.body.hidden=!0,this.body.style.height="auto",this.emit("sl-after-hide")}}async show(){if(!(this.open||this.disabled))return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!(!this.open||this.disabled))return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){const it=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        class=${o$1({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":it})}
      >
        <header
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${it?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${it?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </header>

        <div class="details__body">
          <slot part="content" id="content" class="details__content" role="region" aria-labelledby="header"></slot>
        </div>
      </div>
    `}};SlDetails.styles=details_styles_default;__decorateClass([i2$2(".details")],SlDetails.prototype,"details",2);__decorateClass([i2$2(".details__header")],SlDetails.prototype,"header",2);__decorateClass([i2$2(".details__body")],SlDetails.prototype,"body",2);__decorateClass([i2$2(".details__expand-icon-slot")],SlDetails.prototype,"expandIconSlot",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDetails.prototype,"open",2);__decorateClass([e2$2()],SlDetails.prototype,"summary",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDetails.prototype,"disabled",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDetails.prototype,"handleOpenChange",1);SlDetails=__decorateClass([e$1("sl-details")],SlDetails);setDefaultAnimation("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}});setDefaultAnimation("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}});var drawer_styles_default=i$4`
  ${component_styles_default}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function uppercaseFirstLetter(it){return it.charAt(0).toUpperCase()+it.slice(1)}var SlDrawer=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController2(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.modal=new Modal$1(this)}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),lockBodyScrolling(this)))}disconnectedCallback(){super.disconnectedCallback(),unlockBodyScrolling(this)}requestClose(it){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:it}}).defaultPrevented){const rt=getAnimation(this,"drawer.denyClose",{dir:this.localize.dir()});animateTo(this.panel,rt.keyframes,rt.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}handleDocumentKeyDown(it){this.open&&!this.contained&&it.key==="Escape"&&(it.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),lockBodyScrolling(this));const it=this.querySelector("[autofocus]");it&&it.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(it?it.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),it&&it.setAttribute("autofocus","")});const nt=getAnimation(this,`drawer.show${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),rt=getAnimation(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,nt.keyframes,nt.options),animateTo(this.overlay,rt.keyframes,rt.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),unlockBodyScrolling(this)),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]);const it=getAnimation(this,`drawer.hide${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),nt=getAnimation(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,nt.keyframes,nt.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,it.keyframes,it.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const rt=this.originalTrigger;typeof(rt==null?void 0:rt.focus)=="function"&&setTimeout(()=>rt.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),lockBodyScrolling(this)),this.open&&this.contained&&(this.modal.deactivate(),unlockBodyScrolling(this))}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <div
        part="base"
        class=${o$1({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${l$2(this.noHeader?this.label:void 0)}
          aria-labelledby=${l$2(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":y$2`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDrawer.styles=drawer_styles_default;__decorateClass([i2$2(".drawer")],SlDrawer.prototype,"drawer",2);__decorateClass([i2$2(".drawer__panel")],SlDrawer.prototype,"panel",2);__decorateClass([i2$2(".drawer__overlay")],SlDrawer.prototype,"overlay",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDrawer.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDrawer.prototype,"label",2);__decorateClass([e2$2({reflect:!0})],SlDrawer.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDrawer.prototype,"contained",2);__decorateClass([e2$2({attribute:"no-header",type:Boolean,reflect:!0})],SlDrawer.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleOpenChange",1);__decorateClass([watch("contained",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleNoModalChange",1);SlDrawer=__decorateClass([e$1("sl-drawer")],SlDrawer);setDefaultAnimation("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var divider_styles_default=i$4`
  ${component_styles_default}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,SlDivider=class extends ShoelaceElement{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};SlDivider.styles=divider_styles_default;__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDivider.prototype,"vertical",2);__decorateClass([watch("vertical")],SlDivider.prototype,"handleVerticalChange",1);SlDivider=__decorateClass([e$1("sl-divider")],SlDivider);var dropdown_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,SlDropdown=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const it=this.trigger.assignedElements({flatten:!0})[0];typeof(it==null?void 0:it.focus)=="function"&&it.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(it=>it.tagName.toLowerCase()==="sl-menu")}handleKeyDown(it){this.open&&it.key==="Escape"&&(it.stopPropagation(),this.hide(),this.focusOnTrigger())}handleDocumentKeyDown(it){var nt;if(it.key==="Tab"){if(this.open&&((nt=document.activeElement)==null?void 0:nt.tagName.toLowerCase())==="sl-menu-item"){it.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var rt,st,vt;const bt=((rt=this.containingElement)==null?void 0:rt.getRootNode())instanceof ShadowRoot?(vt=(st=document.activeElement)==null?void 0:st.shadowRoot)==null?void 0:vt.activeElement:document.activeElement;(!this.containingElement||(bt==null?void 0:bt.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}}handleDocumentMouseDown(it){const nt=it.composedPath();this.containingElement&&!nt.includes(this.containingElement)&&this.hide()}handleMenuItemActivate(it){const nt=it.target;scrollIntoView(nt,this.panel)}handlePanelSelect(it){const nt=it.target;!this.stayOpenOnSelect&&nt.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(it){if(it.key==="Escape"&&this.open){it.stopPropagation(),this.focusOnTrigger(),this.hide();return}if([" ","Enter"].includes(it.key)){it.preventDefault(),this.handleTriggerClick();return}const nt=this.getMenu();if(nt){const rt=nt.defaultSlot.assignedElements({flatten:!0}),st=rt[0],vt=rt[rt.length-1];["ArrowDown","ArrowUp","Home","End"].includes(it.key)&&(it.preventDefault(),this.open||this.show(),rt.length>0&&requestAnimationFrame(()=>{(it.key==="ArrowDown"||it.key==="Home")&&(nt.setCurrentItem(st),st.focus()),(it.key==="ArrowUp"||it.key==="End")&&(nt.setCurrentItem(vt),vt.focus())}))}}handleTriggerKeyUp(it){it.key===" "&&it.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const nt=this.trigger.assignedElements({flatten:!0}).find(st=>getTabbableBoundary(st).start);let rt;if(nt){switch(nt.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":rt=nt.button;break;default:rt=nt}rt.setAttribute("aria-haspopup","true"),rt.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){this.panel.addEventListener("sl-activate",this.handleMenuItemActivate),this.panel.addEventListener("sl-select",this.handlePanelSelect),this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel&&(this.panel.removeEventListener("sl-activate",this.handleMenuItemActivate),this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await stopAnimations(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:it,options:nt}=getAnimation(this,"dropdown.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,it,nt),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await stopAnimations(this);const{keyframes:it,options:nt}=getAnimation(this,"dropdown.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,it,nt),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return y$2`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${o$1({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <slot
          part="panel"
          class="dropdown__panel"
          aria-hidden=${this.open?"false":"true"}
          aria-labelledby="dropdown"
        ></slot>
      </sl-popup>
    `}};SlDropdown.styles=dropdown_styles_default;__decorateClass([i2$2(".dropdown")],SlDropdown.prototype,"popup",2);__decorateClass([i2$2(".dropdown__trigger")],SlDropdown.prototype,"trigger",2);__decorateClass([i2$2(".dropdown__panel")],SlDropdown.prototype,"panel",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDropdown.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDropdown.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDropdown.prototype,"disabled",2);__decorateClass([e2$2({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],SlDropdown.prototype,"stayOpenOnSelect",2);__decorateClass([e2$2({attribute:!1})],SlDropdown.prototype,"containingElement",2);__decorateClass([e2$2({type:Number})],SlDropdown.prototype,"distance",2);__decorateClass([e2$2({type:Number})],SlDropdown.prototype,"skidding",2);__decorateClass([e2$2({type:Boolean})],SlDropdown.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDropdown.prototype,"handleOpenChange",1);SlDropdown=__decorateClass([e$1("sl-dropdown")],SlDropdown);setDefaultAnimation("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});setDefaultAnimation("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});var menu_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,SlMenu=class extends ShoelaceElement{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(it=>!!this.isMenuItem(it))}handleClick(it){const rt=it.target.closest("sl-menu-item");(rt==null?void 0:rt.disabled)===!1&&(rt.type==="checkbox"&&(rt.checked=!rt.checked),this.emit("sl-select",{detail:{item:rt}}))}handleKeyDown(it){if(it.key==="Enter"){const nt=this.getCurrentItem();it.preventDefault(),nt==null||nt.click()}if(it.key===" "&&it.preventDefault(),["ArrowDown","ArrowUp","Home","End"].includes(it.key)){const nt=this.getAllItems(),rt=this.getCurrentItem();let st=rt?nt.indexOf(rt):0;nt.length>0&&(it.preventDefault(),it.key==="ArrowDown"?st++:it.key==="ArrowUp"?st--:it.key==="Home"?st=0:it.key==="End"&&(st=nt.length-1),st<0&&(st=nt.length-1),st>nt.length-1&&(st=0),this.setCurrentItem(nt[st]),nt[st].focus())}}handleMouseDown(it){const nt=it.target;this.isMenuItem(nt)&&this.setCurrentItem(nt)}handleSlotChange(){const it=this.getAllItems();it.length>0&&this.setCurrentItem(it[0])}isMenuItem(it){var nt;return it.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((nt=it.getAttribute("role"))!=null?nt:"")}getCurrentItem(){return this.getAllItems().find(it=>it.getAttribute("tabindex")==="0")}setCurrentItem(it){this.getAllItems().forEach(rt=>{rt.setAttribute("tabindex",rt===it?"0":"-1")})}render(){return y$2`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};SlMenu.styles=menu_styles_default;__decorateClass([i2$2("slot")],SlMenu.prototype,"defaultSlot",2);SlMenu=__decorateClass([e$1("sl-menu")],SlMenu);var menu_item_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:focus) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'])) .menu-item {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`,SlMenuItem=class extends ShoelaceElement{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.disabled=!1}handleDefaultSlotChange(){const it=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=it;return}it!==this.cachedTextLabel&&(this.cachedTextLabel=it,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return getTextContent(this.defaultSlot)}render(){return y$2`
      <div
        part="base"
        class=${o$1({"menu-item":!0,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--has-submenu":!1})}
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span class="menu-item__chevron">
          <sl-icon name="chevron-right" library="system" aria-hidden="true"></sl-icon>
        </span>
      </div>
    `}};SlMenuItem.styles=menu_item_styles_default;__decorateClass([i2$2("slot:not([name])")],SlMenuItem.prototype,"defaultSlot",2);__decorateClass([i2$2(".menu-item")],SlMenuItem.prototype,"menuItem",2);__decorateClass([e2$2()],SlMenuItem.prototype,"type",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlMenuItem.prototype,"checked",2);__decorateClass([e2$2()],SlMenuItem.prototype,"value",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlMenuItem.prototype,"disabled",2);__decorateClass([watch("checked")],SlMenuItem.prototype,"handleCheckedChange",1);__decorateClass([watch("disabled")],SlMenuItem.prototype,"handleDisabledChange",1);__decorateClass([watch("type")],SlMenuItem.prototype,"handleTypeChange",1);SlMenuItem=__decorateClass([e$1("sl-menu-item")],SlMenuItem);var tag_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,SlTag=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return y$2`
      <span
        part="base"
        class=${o$1({tag:!0,"tag--primary":this.variant==="primary","tag--success":this.variant==="success","tag--neutral":this.variant==="neutral","tag--warning":this.variant==="warning","tag--danger":this.variant==="danger","tag--text":this.variant==="text","tag--small":this.size==="small","tag--medium":this.size==="medium","tag--large":this.size==="large","tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?y$2`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};SlTag.styles=tag_styles_default;__decorateClass([e2$2({reflect:!0})],SlTag.prototype,"variant",2);__decorateClass([e2$2({reflect:!0})],SlTag.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTag.prototype,"pill",2);__decorateClass([e2$2({type:Boolean})],SlTag.prototype,"removable",2);SlTag=__decorateClass([e$1("sl-tag")],SlTag);const _hoisted_1$r={class:"content-path",style:{position:"relative"}},_hoisted_2$n={class:"workspace"},_hoisted_3$h=["content","disabled"],_hoisted_4$d=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_5$b=[_hoisted_4$d],_hoisted_6$9={class:"ws-path"},_hoisted_7$8={class:"breadcrumbs"},_hoisted_8$8=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{fontSize:"24px"}},null,-1),_hoisted_9$6=["innerHTML","onClick"],_hoisted_10$5=["onClick"],_hoisted_11$4=createBaseVNode("sl-icon",{slot:"prefix",name:"filetype-md",style:{fontSize:"24px"}},null,-1),_hoisted_12$3={slot:"suffix"},_hoisted_13$3=createBaseVNode("sl-icon-button",{slot:"trigger",name:"caret-down",label:"File actions"},null,-1),_hoisted_14$3=["onClick"],_hoisted_15$3=createBaseVNode("sl-icon",{slot:"prefix",name:"trash"},null,-1),_hoisted_16$3=["innerHTML","onClick"],_hoisted_17$3=["onClick"],_hoisted_18$3=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{fontSize:"24px"}},null,-1),_hoisted_19$3=["content"],_hoisted_20$3=["size","name"],_hoisted_21$3=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_22$3=[_hoisted_21$3],_hoisted_23$3={noHeader:"",label:"Workspace",placement:"bottom",contained:"",class:"workspace-selector",style:{"--size":"100%"}},_hoisted_24$3={style:{display:"flex",height:"100%","align-items":"center"}},_hoisted_25$3={key:0,class:"github-select"},_hoisted_26$3={key:1,name:"chevron-double-right",style:{fontSize:"24px"}},_hoisted_27$3={style:{"margin-left":"12px"}},_hoisted_28$3=["disabled"],_hoisted_29$2={key:0},_hoisted_30$2={key:0,slot:"trigger",class:"path-elem"},_hoisted_31$2={key:1,slot:"trigger",pill:"",size:"medium",class:"folder"},_hoisted_32$2=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_33$2=["checked","onClick","innerHTML"],_hoisted_34$2={key:0,class:"path-elem"},_hoisted_35$2={key:1,pill:"",size:"medium",class:"folder"},_hoisted_36$2=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_37$1=["disabled"],_hoisted_38$1={key:0},_hoisted_39$1={key:0,slot:"trigger",class:"path-elem"},_hoisted_40$1={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_41$1=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{fontSize:"24px"}},null,-1),_hoisted_42=["checked","onClick","innerHTML"],_hoisted_43=createBaseVNode("sl-divider",null,null,-1),_hoisted_44=createBaseVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1),_hoisted_45={key:0,class:"path-elem"},_hoisted_46={key:1,pill:"",size:"medium"},_hoisted_47=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{fontSize:"24px"}},null,-1),_hoisted_48=["disabled"],_hoisted_49={key:0},_hoisted_50={key:0,slot:"trigger",class:"path-elem"},_hoisted_51={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_52=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{fontSize:"24px"}},null,-1),_hoisted_53=["checked","onClick","innerHTML"],_hoisted_54={key:0,class:"path-elem"},_hoisted_55={key:1,pill:"",size:"medium"},_hoisted_56=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{fontSize:"24px"}},null,-1),_hoisted_57={key:0},_hoisted_58={key:1,class:"dirs"},_hoisted_59=["onClick"],_hoisted_60=["name"],_hoisted_61=["content"],_hoisted_62=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_63=[_hoisted_62],_hoisted_64=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-repo-input",placeholder:"Enter name",pattern:"^[A-z0-9\\-_]+$"},null,-1),_hoisted_65=createBaseVNode("br",null,null,-1),_hoisted_66=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_67=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-file-input",placeholder:"Enter file path",pattern:"^\\/?([A-z0-9-_+]+\\/)*([A-z0-9\\-]+(\\.(css|md|json|yaml|yml))?)$"},null,-1),_hoisted_68=createBaseVNode("br",null,null,-1),_hoisted_69=createBaseVNode("sl-button",{type:"reset",variant:"default"},"Reset",-1),_hoisted_70=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_71={id:"delete-file-dialog",label:"Confirm file delete"},_hoisted_72=["innerHTML"],_sfc_main$t=defineComponent({__name:"ContentSelector.ce",props:{contentPath:{type:String},sticky:{type:Boolean,default:!1},mode:{type:String,default:"media"},compact:{type:Boolean}},emits:["accessChanged","addMediaResource","contentPathChanged"],setup(it,{expose:nt,emit:rt}){const st=it;nt({getDirList:nn,getFile:ji,putFile:Ri,repositoryIsWriteable:Ai});const vt=new Set(["config.yaml","CNAME","index.html","404.html",".nojekyll"]),bt=ref("");watch$1(bt,()=>{console.log(`contentPath=${toRaw(bt.value)}`),rt("contentPathChanged",bt.value)});const _t=ref(null),wt=computed(()=>{var _i;return(_i=_t==null?void 0:_t.value)==null?void 0:_i.parentNode});let Et,Tt="",$t=!0;const Dt=ref();watch$1(Dt,()=>{Dt.value&&ii()});const Lt=ref(isMobile()),Bt=ref(""),Ht=ref(),Ut=ref(!1),It=ref(!1);watch$1(Bt,()=>{Ut.value=window.localStorage.getItem("gh-auth-token")!==null,Ht.value=new GithubClient(Bt.value||"")}),watch$1(Ut,()=>{Ut||(Tt="",It.value=!1)}),watch$1(It,()=>{rt("accessChanged",{acct:Wt.value,repo:Yt.value,canUpdate:It.value})}),watch$1(Ht,async()=>{hi(),Ut.value&&(jt.value=await Ni(),Tt=await Ht.value.user().then(_i=>_i.login),await Ht.value.repos(Tt).then(_i=>{_i.find(Li=>Li.name==="essays")||Ht.value.createRepository({name:"essays",description:"Juncture visual essays"}),_i.find(Li=>Li.name==="media")||Ht.value.createRepository({name:"media",description:"Juncture media"})}),Wt.value&&Yt.value&&Tt&&Ht.value.isCollaborator(Wt.value,Yt.value,Tt).then(_i=>It.value=_i))});const jt=ref([]),Wt=ref("");watch$1(jt,()=>{Wt.value=Wt.value||(jt.value.length>0?jt.value[0].login:null)}),watch$1(Wt,(_i,Li)=>{Li&&(Yt.value=""),ni().then(Ti=>qt.value=Ti)});const qt=ref([]),Yt=ref("");watch$1(qt,()=>{if(!Yt.value&&qt.value.length>0)if(qt.value.length===1)Yt.value=qt.value[0].name;else{let _i=st.mode==="media"?"media":"essays";Yt.value=qt.value.find(Li=>Li.name===_i)?_i:qt.value[0].name}});const ti=ref([]),oi=ref("");watch$1(Yt,(_i,Li)=>{Li&&(di.value=[]),Xi().then(Ti=>ei()),oi.value="",Yt.value&&(Ut.value&&Wt.value&&Ht.value.user().then(Ti=>Ti.login).then(Ti=>Yt.value?Ht.value.isCollaborator(Wt.value,Yt.value,Ti):!1).then(Ti=>It.value=Ti),Fi().then(Ti=>ti.value=Ti))});let si;watch$1(ti,async()=>{!si&&Wt.value&&Yt.value&&(si=await Ht.value.defaultBranch(Wt.value,Yt.value)),si&&(oi.value=si)}),watch$1(oi,()=>{oi.value&&di.value&&ui&&Xi().then(_i=>ei())});const di=ref([]);watch$1(di,()=>{oi.value&&Xi().then(_i=>ei())});let ui=!0;const ci=ref([]);watch$1(ci,()=>{ui=di.value.length===0||ci.value.length>0}),onMounted(()=>{var _i;Kt(),window.addEventListener("storage",()=>Kt()),Et=(_i=wt==null?void 0:wt.value)==null?void 0:_i.querySelector(".workspace-selector")});function hi(_i=""){var Li;if(_i=_i||st.contentPath||"",_i){let[Ti,zi]=((Li=_i.split(":").pop())==null?void 0:Li.split("?"))||[],Hi=zi?Object.fromEntries(zi.split("&").map(qi=>qi.split("="))):{},tn=Ti.split("/").filter(qi=>qi);tn.length>0&&(Wt.value=tn[0]),tn.length>1&&(Yt.value=tn[1]),tn.length>2&&(di.value=tn.slice(2)),Hi.ref&&(oi.value=Hi.ref||"main")}}function ei(){if(Wt.value&&Yt.value){let _i=`gh:${Wt.value}/${Yt.value}`;di.value.length>0&&(_i+=`/${di.value.join("/")}`),oi.value&&oi.value!==si&&(_i+=`?ref=${oi.value}`),bt.value=_i}}async function wi(){let Li=await fetch("https://api.juncture-digital.org/gh-token");if(Li.ok){let Ti=await Li.text();window.localStorage.setItem("gh-unscoped-token",Ti)}}async function Kt(){window.localStorage.getItem("gh-unscoped-token")||await wi(),Bt.value=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token"),Ut.value=window.localStorage.getItem("gh-auth-token")!==null}async function Ni(){return await Promise.all([Ht.value.user(),Ht.value.organizations()]).then(_i=>_i.flat())}async function ni(){return Ht.value.repos(Wt.value)}async function Fi(){return Ht.value.branches(Wt.value,Yt.value)}async function Xi(){ci.value=[];let _i=await Ht.value.dirlist(Wt.value,Yt.value,di.value.join("/"),oi.value),Li=_i.filter(zi=>zi.type==="dir"),Ti=_i.filter(zi=>zi.type==="file"&&!vt.has(zi.name));$t&&Ti.find(zi=>zi.name==="README.md")&&Li.length===0&&(di.value.length===0||di.value[di.value.length-1]!=="README.md")&&(di.value=[...di.value,"README.md"]),ci.value=[...Li,...Ti]}function nn(){return ci.value}function Ai(){return It.value}async function ji(_i){var Wi;let[Li,Ti]=((Wi=_i.split(":").pop())==null?void 0:Wi.split("?"))||[],zi=Ti?Object.fromEntries(Ti.split("&").map(Cn=>Cn.split("="))):{},Hi=Li.split("/").filter(Cn=>Cn),[tn,qi]=Hi.slice(0,2);return Li=Hi.slice(2).filter(Cn=>Cn).join("/"),Ht.value.getFile(tn,qi,Li,zi.ref||oi.value)}async function Ri(_i,Li){var En;let[Ti,zi]=((En=_i.split(":").pop())==null?void 0:En.split("?"))||[],Hi=zi?Object.fromEntries(zi.split("&").map($n=>$n.split("="))):{},tn=Ti.split("/").filter($n=>$n),[qi,Wi]=tn.slice(0,2);Ti=tn.slice(2).filter($n=>$n).join("/");let Cn=Hi.ref||oi.value;return Ht.value.putFile(qi,Wi,Ti,Li,Cn)}function Vi(_i){Wt.value=_i.login}function Qi(_i){Yt.value=_i.name}function rn(_i){oi.value=_i.name}function Pi(_i){Et.hide(),$t=!0;let Li=[...di.value];ui||(Li=Li.slice(0,-1)),(Li.length===0||Li[Li.length-1]!==_i.name)&&(Li=[...Li,_i.name]),di.value=Li}function bn(_i){Et.hide(),$t=!1,di.value=_i===0?[]:di.value.slice(0,_i)}function Oi(_i){st.mode==="essays"?Gi():vi(_i)}function Ii(_i){return _i.toLowerCase().split("-").map(function(Li){return Li.charAt(0).toUpperCase()+Li.slice(1)}).join(" ")}function Gi(){var Ti,zi;let _i=(Ti=wt.value)==null?void 0:Ti.querySelector("#add-file-form");_i.onclick||(_i.onclick=function(){},_i.addEventListener("submit",async Hi=>{var En;Hi.preventDefault();let tn=(En=wt.value)==null?void 0:En.querySelector("#add-file-input"),qi=[...di.value,...tn.value.split("/").filter($n=>$n)],Wi=qi[qi.length-1];qi[qi.length-1].indexOf(".")>0?qi[qi.length-1]=qi[qi.length-1].replace(/readme\.md/,"README.md"):qi.push("README.md");let Cn=qi.join("/");Wi=Ii(Wi),await Ht.value.putFile(Wt.value,Yt.value,Cn,`# ${Wi}

`,oi.value),di.value=qi,$i()}));let Li=(zi=wt.value)==null?void 0:zi.querySelector("#add-file-dialog");Li.addEventListener("sl-after-show",()=>{var Hi;((Hi=wt.value)==null?void 0:Hi.querySelector("#add-file-input")).focus()}),Li.show()}function $i(){var _i,Li;((_i=wt.value)==null?void 0:_i.querySelector("#add-file-input")).value="",((Li=wt.value)==null?void 0:Li.querySelector("#add-file-dialog")).hide()}function ii(){var Li;((Li=wt.value)==null?void 0:Li.querySelector("#delete-file-dialog")).show()}function Nt(){var Li;((Li=wt.value)==null?void 0:Li.querySelector("#delete-file-dialog")).hide()}async function Qt(){var Ti,zi;let _i=(Ti=wt.value)==null?void 0:Ti.querySelector("#add-repo-form");_i.onclick||(_i.onclick=function(){},_i.addEventListener("submit",async Hi=>{var Cn;Hi.preventDefault();let qi=((Cn=wt.value)==null?void 0:Cn.querySelector("#add-repo-input")).value;(await Ht.value.createRepository({name:qi,org:Tt===Wt.value?null:Wt.value})).status===201&&ni().then(En=>{Yt.value=qi,qt.value=En}),Jt()}));let Li=(zi=wt.value)==null?void 0:zi.querySelector("#add-repo-dialog");Li.addEventListener("sl-after-show",()=>{var Hi;((Hi=wt.value)==null?void 0:Hi.querySelector("#add-repo-input")).focus()}),Li.show()}function Jt(){var Li,Ti;((Li=wt.value)==null?void 0:Li.querySelector("#add-repo-dialog")).hide(),((Ti=wt.value)==null?void 0:Ti.querySelector("#add-repo-input")).value=""}async function Si(){let _i=di.value.join("/");await Ht.value.deleteFile(Wt.value,Yt.value,_i,oi.value),await Xi(),bn(di.value.length-(ci.value.length===0?2:1)),Dt.value=null,Nt()}function vi(_i){rt("addMediaResource",_i)}function Mi(){Et.open?Et.hide():Et.show()}return(_i,Li)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:_t},[createBaseVNode("section",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$n,[createBaseVNode("sl-tooltip",{content:`${Wt.value}: ${Yt.value} (${oi.value})`,disabled:Lt.value,placement:"bottom"},[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:Mi},_hoisted_5$b)],8,_hoisted_3$h),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("div",_hoisted_7$8,[createBaseVNode("sl-breadcrumb",null,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:Li[0]||(Li[0]=Ti=>bn(0))},[createTextVNode("/ "),_hoisted_8$8])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(di.value,(Ti,zi)=>(openBlock(),createElementBlock("sl-breadcrumb-item",{key:`bci-${zi}`},[zi===di.value.length-1?(openBlock(),createElementBlock(Fragment,{key:0},[it.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Ti,onClick:Hi=>bn(zi+1)},null,8,_hoisted_9$6)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Hi=>bn(zi+1)},[createTextVNode(toDisplayString(Ti)+" ",1),_hoisted_11$4],8,_hoisted_10$5)),createBaseVNode("sl-dropdown",_hoisted_12$3,[_hoisted_13$3,createBaseVNode("sl-menu",null,[createBaseVNode("sl-menu-item",{onClick:()=>Dt.value=Ti},[createTextVNode("Delete file"),_hoisted_15$3],8,_hoisted_14$3)])])],64)):(openBlock(),createElementBlock(Fragment,{key:1},[it.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Ti,onClick:Hi=>bn(zi+1)},null,8,_hoisted_16$3)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:Hi=>bn(zi+1)},[createTextVNode(toDisplayString(Ti)+" ",1),_hoisted_18$3],8,_hoisted_17$3))],64))]))),128))]),Ut.value&&it.mode==="media"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${st.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:it.mode==="media"?"medium":"small",class:"add-item",name:`Add ${it.mode==="media"?"resource":"file"}`,circle:"",onClick:Oi},_hoisted_22$3,8,_hoisted_20$3)],8,_hoisted_19$3)):createCommentVNode("",!0)]),createBaseVNode("sl-drawer",_hoisted_23$3,[createBaseVNode("div",_hoisted_24$3,[it.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$3,"Select GitHub Repository")),it.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("sl-icon",_hoisted_26$3)),createBaseVNode("sl-breadcrumb",_hoisted_27$3,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Account",hoist:"",disabled:Lt.value,placement:"left"},[jt.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_29$2,[it.compact?(openBlock(),createElementBlock("span",_hoisted_30$2,toDisplayString(Wt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_31$2,[createTextVNode(toDisplayString(Wt.value)+" ",1),_hoisted_32$2])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(jt.value,(Ti,zi)=>(openBlock(),createElementBlock("sl-menu-item",{key:`acct-${zi}`,checked:Ti.login===Wt.value,onClick:Hi=>Vi(Ti),type:"checkbox",innerHTML:Ti.login},null,8,_hoisted_33$2))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[it.compact?(openBlock(),createElementBlock("span",_hoisted_34$2,toDisplayString(oi.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_35$2,[createTextVNode(toDisplayString(Wt.value)+" ",1),_hoisted_36$2]))],64))],8,_hoisted_28$3)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Repository",hoist:"",disabled:Lt.value,placement:"left"},[qt.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_38$1,[it.compact?(openBlock(),createElementBlock("span",_hoisted_39$1,toDisplayString(Yt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_40$1,[createTextVNode(toDisplayString(Yt.value)+" ",1),_hoisted_41$1])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(qt.value,(Ti,zi)=>(openBlock(),createElementBlock("sl-menu-item",{key:`repo-${zi}`,checked:Ti.name===Yt.value,onClick:Hi=>Qi(Ti),type:"checkbox",innerHTML:Ti.name},null,8,_hoisted_42))),128)),_hoisted_43,createBaseVNode("sl-menu-item",{class:"add-repo",onClick:Qt},[_hoisted_44,createTextVNode(" New repository ")])])])):(openBlock(),createElementBlock(Fragment,{key:1},[it.compact?(openBlock(),createElementBlock("span",_hoisted_45,toDisplayString(Yt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_46,[createTextVNode(toDisplayString(Yt.value)+" ",1),_hoisted_47]))],64))],8,_hoisted_37$1)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Branch",hoist:"",disabled:Lt.value,placement:"left"},[ti.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_49,[it.compact?(openBlock(),createElementBlock("span",_hoisted_50,toDisplayString(oi.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_51,[createTextVNode(toDisplayString(oi.value)+" ",1),_hoisted_52])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ti.value,(Ti,zi)=>(openBlock(),createElementBlock("sl-menu-item",{key:`branch-${zi}`,checked:Ti.name===oi.value,onClick:Hi=>rn(Ti),type:"checkbox",innerHTML:Ti.name},null,8,_hoisted_53))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[it.compact?(openBlock(),createElementBlock("span",_hoisted_54,toDisplayString(oi.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_55,[createTextVNode(toDisplayString(oi.value)+" ",1),_hoisted_56]))],64))],8,_hoisted_48)])])])])])]),ci.value.filter(Ti=>st.mode==="essays"||Ti.type==="dir").length>0?(openBlock(),createElementBlock("sl-divider",_hoisted_57)):createCommentVNode("",!0),ci.value.length>0?(openBlock(),createElementBlock("div",_hoisted_58,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ci.value.filter(Ti=>st.mode==="essays"||Ti.type==="dir"),(Ti,zi)=>(openBlock(),createElementBlock("sl-button",{key:`child-${zi}`,onClick:Hi=>Pi(Ti),pill:"",size:"small",class:normalizeClass(Ti.type)},[createBaseVNode("sl-icon",{slot:"prefix",name:Ti.type==="dir"?"folder2":"file-earmark"},null,8,_hoisted_60),createTextVNode(" "+toDisplayString(Ti.name),1)],10,_hoisted_59))),128)),di.value&&(di.value.length===0||di.value[di.value.length-1].split(".").pop()!=="md")&&st.mode==="essays"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${it.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:"small",class:"add-item",name:"`Add file",circle:"",onClick:Oi},_hoisted_63)],8,_hoisted_61)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("sl-dialog",{id:"add-repo-dialog",label:"Add Repository"},[createBaseVNode("form",{id:"add-repo-form",class:"input-validation-pattern"},[_hoisted_64,_hoisted_65,createBaseVNode("sl-button",{onClick:Jt},"Cancel"),_hoisted_66])]),createBaseVNode("sl-dialog",{id:"add-file-dialog",label:"Add File"},[createBaseVNode("form",{id:"add-file-form",class:"input-validation-pattern"},[_hoisted_67,_hoisted_68,createBaseVNode("sl-button",{onClick:$i},"Cancel"),_hoisted_69,_hoisted_70])]),createBaseVNode("sl-dialog",_hoisted_71,[createBaseVNode("div",null,[createTextVNode("Delete file "),createBaseVNode("span",{innerHTML:Dt.value},null,8,_hoisted_72),createTextVNode("?")]),createBaseVNode("sl-button",{slot:"footer",onClick:Nt},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:Si},"Confirm")])],512))}}),_style_1$5=`*{box-sizing:border-box}:host{display:block;width:100%;border:1px solid #444;padding:6px;z-index:9;background-color:#fff}span.path-elem{font-family:Archivo Narrow,Roboto,sans-serif;font-size:1.2rem}.workspace{display:flex;align-items:center}.workspace-selector{display:flex;gap:12px}.workspace-selector div{display:inline-flex;position:relative;padding-left:6px;font-size:1rem}.selectors{display:flex;gap:6px}.ws-path{position:relative;display:flex;align-items:center;width:100%;height:100%;margin:3px}.workspace-selector>sl-icon{vertical-align:middle;padding-right:6px}sl-drawer::part(base),sl-drawer::part(panel),sl-drawer::part(body){padding:0;overflow:visible}.github-select{font-weight:700;font-size:1.2em;color:#5a162e}sl-divider{margin:6px}.values{display:flex;flex-direction:column;gap:1rem}.values>div{display:flex;align-items:center;gap:1rem}.label{font-weight:700}.value{display:inline-block}sl-breadcrumb-item::part(label){font-size:1rem;color:var(--sl-color-primary-600)}.dir-items li{cursor:pointer}.dir-items{height:40vh;overflow-y:scroll}.dir-items li:hover{color:var(--sl-color-primary-600)}sl-icon-button::part(base){padding:0}.content-path{display:flex;flex-direction:column}sl-icon-button{align-self:start;margin-top:6px}sl-menu::part(base){max-height:300px;overflow-y:scroll}.dirs{display:flex;flex-wrap:wrap;gap:6px}.dirs sl-button::part(base){border-radius:12px;font-weight:500;font-family:Archivo Narrow,Roboto,sans-serif;font-size:1rem}sl-button.dir::part(base){background-color:#eee}sl-button.add-item::part(base){background-color:#eee;color:#000}.delete{margin-left:18px}sl-icon-button.delete::part(base){color:red}.add-repo{background-color:#ddd}sl-menu{text-align:left}sl-breadcrumb{display:inline-block}.breadcrumbs{display:flex;align-items:center;gap:12px;padding-left:12px}
`,ContentSelector=_export_sfc(_sfc_main$t,[["styles",[_style_0$o,_style_1$5]]]),_hoisted_1$q={class:"content"},_hoisted_2$m={class:"buttons"},_hoisted_3$g=["onClick"],_hoisted_4$c=["qid"],_hoisted_5$a={key:0,class:"caption"},_sfc_main$s=defineComponent({__name:"Entities.ce",props:{caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Ht;return(Ht=rt==null?void 0:rt.value)==null?void 0:Ht.parentNode}),vt=computed(()=>{var Ht,Ut;return(Ut=(Ht=rt.value)==null?void 0:Ht.getRootNode())==null?void 0:Ut.host}),bt=computed(()=>{var Ht;return(Ht=st.value)==null?void 0:Ht.querySelector(".content")}),_t=ref({}),wt=ref(null),Et=computed(()=>{var Ht,Ut;return((Ut=(Ht=wt.value)==null?void 0:Ht.getAttribute("entities"))==null?void 0:Ut.split(/\s/).filter(It=>It))||[]}),Tt=ref();watch$1(Et,()=>{Et.value.length>0?getEntityData(Et.value).then(Ht=>{_t.value=Ht,Tt.value=Et.value[0]}):(_t.value={},Tt.value=void 0)}),watch$1(vt,()=>$t());function $t(){Lt(),Bt()}const Dt=isMobile()?"full":nt.right?"right":nt.left?"left":"full";function Lt(){vt.value.classList.add("ve-component"),vt.value.classList.add(Dt),Dt==="full"?vt.value.style.width="100%":(vt.value.style.float=Dt,vt.value.style.width="calc(50% - 16px)"),vt.value.style.width=window.getComputedStyle(vt.value).width,nt.sticky&&makeSticky(vt.value),bt.value.style.width=nt.width||"100%",nextTick(()=>{let Ht=parseInt(window.getComputedStyle(bt.value).width.slice(0,-2));nt.sticky,bt.value.style.width=`${Ht}px`})}function Bt(){wt.value=document.querySelector(".active"),new MutationObserver(Ut=>{Ut.forEach(It=>{if(It.type==="attributes"){let jt=It.target;Array.from(jt.classList).indexOf("active")>=0&&(wt.value=jt)}})}).observe(document,{subtree:!0,attributes:!0})}return(Ht,Ut)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"main"},[createBaseVNode("div",_hoisted_1$q,[createBaseVNode("div",_hoisted_2$m,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(Et),It=>{var jt;return openBlock(),createElementBlock("sl-button",{key:It,onClick:Wt=>Tt.value=It,pill:"",size:"small",class:normalizeClass({selected:It===Tt.value})},toDisplayString((jt=_t.value[It])==null?void 0:jt.label),11,_hoisted_3$g)}),128))]),Tt.value?(openBlock(),createElementBlock("ve-entity-card",{key:0,qid:Tt.value},null,8,_hoisted_4$c)):createCommentVNode("",!0)]),nt.caption&&Tt.value?(openBlock(),createElementBlock("div",_hoisted_5$a,toDisplayString(nt.caption),1)):createCommentVNode("",!0)],512))}}),_style_0$m=`*{box-sizing:border-box}.main{margin-bottom:3rem}.buttons{display:flex;flex-wrap:wrap;gap:6px;padding:0 0 12px}.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}sl-button.selected::part(base){background-color:#ddd;font-weight:700}
`,Entities=_export_sfc(_sfc_main$s,[["styles",[_style_0$m]]]),_hoisted_1$p=["innerHTML"],_hoisted_2$l=["innerHTML"],_hoisted_3$f={class:"links"},_hoisted_4$b={key:0,class:"logo",title:"Wikipedia"},_hoisted_5$9=["href"],_hoisted_6$8=createBaseVNode("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),_hoisted_7$7=[_hoisted_6$8],_hoisted_8$7=["innerHTML"],_sfc_main$r=defineComponent({__name:"EntityCard.ce",props:{qid:{type:String,required:!0}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Lt,Bt;return(Bt=(Lt=rt.value)==null?void 0:Lt.getRootNode())==null?void 0:Bt.host}),vt=ref(nt.qid),bt=ref(),_t=computed(()=>{var Lt;return((Lt=bt.value)==null?void 0:Lt.thumbnail)&&`url('${$t(bt.value.thumbnail)}')`}),wt=computed(()=>`${st.value.clientWidth*.33}px`);watch$1(st,()=>Et()),watch$1(nt,()=>{vt.value!==nt.qid&&(vt.value=nt.qid)});function Et(){Tt()}watch$1(vt,()=>Tt());async function Tt(){if(!bt.value||bt.value.id!==nt.qid){let Lt=await getEntity(vt.value),Bt=await getSummaryText(vt.value);Bt&&(Lt={...Lt,summaryText:Bt}),bt.value=Lt}}function $t(Lt){let Bt=Lt.split("/");return`${Bt.slice(0,-1).join("/")}/${encodeURIComponent(Bt[Bt.length-1])}`}function Dt(Lt){return new DOMParser().parseFromString(Lt,"text/html").children[0].children[1].children[0].innerHTML}return(Lt,Bt)=>{var Ht,Ut,It,jt;return openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:(Ht=bt.value)==null?void 0:Ht.label},null,8,_hoisted_1$p),createBaseVNode("div",{class:"description",innerHTML:(Ut=bt.value)==null?void 0:Ut.description},null,8,_hoisted_2$l),unref(_t)?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:unref(_t),width:unref(wt)})},null,4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$f,[(It=bt.value)!=null&&It.wikipedia?(openBlock(),createElementBlock("span",_hoisted_4$b,[createBaseVNode("a",{target:"_blank",href:bt.value.wikipedia},_hoisted_7$7,8,_hoisted_5$9)])):createCommentVNode("",!0)]),(jt=bt.value)!=null&&jt.summaryText?(openBlock(),createElementBlock("p",{key:1,class:"summary",innerHTML:Dt(bt.value.summaryText)},null,8,_hoisted_8$7)):createCommentVNode("",!0)],512)}}}),_style_0$l=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border:1px solid #444;border-radius:6px;min-height:150px;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;object-fit:cover;background-repeat:no-repeat;background-size:contain;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}
`,EntityCard=_export_sfc(_sfc_main$r,[["styles",[_style_0$l]]]),_hoisted_1$o=["innerHTML"],_sfc_main$q=defineComponent({__name:"Essay.ce",props:{src:{type:String},prefix:{type:String}},setup(it){const nt=it,rt=location.hostname==="localhost"?"http://localhost:8000":"https://api.juncture-digital.org",st=ref(null),vt=computed(()=>{var $t,Dt;return(Dt=($t=st.value)==null?void 0:$t.getRootNode())==null?void 0:Dt.host}),bt=computed(()=>{var $t;return($t=st==null?void 0:st.value)==null?void 0:$t.parentNode}),_t=computed(()=>{var $t,Dt;return(Dt=($t=vt.value)==null?void 0:$t.querySelector("pre"))==null?void 0:Dt.textContent}),wt=ref(),Et=ref();watch$1(_t,()=>{let $t=_t.value.split(`
`),Dt=[];if($t.forEach(Lt=>{(Lt.trim().length>0||Dt.length>0)&&Dt.push(Lt)}),Dt.length>0){let Lt=(Dt[0].match(/(^\s+)/)||[""])[0].length;wt.value=Dt.map(Bt=>(Bt.match(/(^\s+)/)||[""])[0].length>=Lt?Bt.slice(Lt):Bt).join(`
`)}}),watch$1(wt,()=>Tt()),watch$1(vt,()=>{let $t=vt.value.textContent.split(`
`),Dt=[];if($t.forEach(Lt=>{(Lt.trim().length>0||Dt.length>0)&&Dt.push(Lt)}),Dt.length>0){let Lt=(Dt[0].match(/(^\s+)/)||[""])[0].length;wt.value=Dt.map(Bt=>(Bt.match(/(^\s+)/)||[""])[0].length>=Lt?Bt.slice(Lt):Bt).join(`
`)}});function Tt(){Et.value="";let $t=`${rt}/html/?inline=true`;fetch($t,{method:"POST",body:JSON.stringify({prefix:`${nt.prefix||""}`,path:"",markdown:wt.value})}).then(Dt=>Dt.text()).then(Dt=>{let Bt=new DOMParser().parseFromString(Dt,"text/html").children[0].children[1].querySelector("main");Bt&&(Bt.id="juncture"),Bt&&(Et.value=Bt.innerHTML),nextTick(()=>{var Ut;let Ht=(Ut=bt.value)==null?void 0:Ut.querySelector("#juncture");Ht&&observeActive(Ht)})})}return($t,Dt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,id:"main"},[Et.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",innerHTML:Et.value},null,8,_hoisted_1$o)):createCommentVNode("",!0)],512))}}),_style_1$4=`[v-cloak]{display:none}*{box-sizing:border-box}#main{font-family:Roboto,sans-serif;margin-top:0}#juncture{padding:12px;font-size:1.2em;line-height:1.3}
`,Essay=_export_sfc(_sfc_main$q,[["styles",[_style_0$o,_style_1$4]]]),_hoisted_1$n=["content","disabled"],_hoisted_2$k=["name"],_sfc_main$p=defineComponent({__name:"FAB.ce",props:{color:{type:String,default:"red"},label:{type:String},icon:{type:String},action:{type:String},right:{type:String,default:"35px"},bottom:{type:String,default:"35px"},disabled:{type:Boolean}},emits:["fabClicked"],setup(it,{emit:nt}){const rt=it,st=ref(null),vt=ref(isMobile());function bt(){nt("fabClicked",rt.action)}return(_t,wt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,class:"fab-wrapper",style:normalizeStyle({right:rt.right,bottom:rt.bottom})},[createBaseVNode("sl-tooltip",{content:rt.label,placement:"top",disabled:vt.value||rt.disabled},[createBaseVNode("span",{"data-action":"props.action",class:"fab-button",onClick:bt,style:normalizeStyle({visibility:rt.disabled?"hidden":"visible",backgroundColor:rt.color})},[createBaseVNode("sl-icon",{name:rt.icon,style:{"font-size":"36px"}},null,8,_hoisted_2$k)],4)],8,_hoisted_1$n)],4))}}),_style_0$k=`.fab-wrapper{position:absolute;bottom:35px;right:35px}.fab-button{height:56px;width:56px;background-color:red;border-radius:50%;color:#fff;z-index:1;display:flex;align-items:center;justify-content:center;text-decoration:none;opacity:.4}.fab-button:hover{opacity:1;transition:all .4s;cursor:pointer}.fab-button i{font-size:16px;transform:rotate(0);transition:all .4s}
`,FAB=_export_sfc(_sfc_main$p,[["styles",[_style_0$k]]]),_hoisted_1$m=["name","label","onClick"],_hoisted_2$j=["innerHTML","onClick"],_hoisted_3$e=["src"],_sfc_main$o=defineComponent({__name:"Footer.ce",props:{sticky:{type:Boolean}},setup(it){const nt=it,rt={"view-code":{icon:"markdown",label:"View Page Code"}},st=ref([]),vt=ref(null),bt=computed(()=>{var Ut,It;return(It=(Ut=vt.value)==null?void 0:Ut.getRootNode())==null?void 0:It.host}),_t=computed(()=>{var Ut;return(Ut=vt==null?void 0:vt.value)==null?void 0:Ut.parentNode}),wt=ref(!1);watch$1(wt,()=>Et.open=wt.value);let Et;const Tt=ref();watch$1(bt,()=>{var Ut;Et=(Ut=_t.value)==null?void 0:Ut.querySelector(".page-source-dialog"),Et.addEventListener("sl-hide",()=>wt.value=!1)}),watch$1(bt,()=>$t());function $t(){var Ut;bt.value.style.clear="both",nt.sticky&&Dt(),st.value=Array.from((Ut=bt.value)==null?void 0:Ut.querySelectorAll("li"))}function Dt(){bt.value.classList.add("sticky");let Ut=bt.value.offsetHeight;Ut+=parseInt(window.getComputedStyle(bt.value).getPropertyValue("margin-top")),Ut+=parseInt(window.getComputedStyle(bt.value).getPropertyValue("margin-bottom"));let It=document.querySelector("main");It&&(It.style.paddingBottom=`${Ut}px`),bt.value.style.width=`${bt.value.parentElement.clientWidth}px`,document.body.style.marginBottom="80px"}function Lt(Ut){return Ut?Object.fromEntries(Ut.split(";").filter(It=>It.trim()).map(It=>It.split(":").map(jt=>jt.trim()))):{}}function Bt(){let Ut=window.PREFIX,It=location.pathname.split("/").filter(jt=>jt).filter(jt=>jt!=="editor").join("/");Tt.value=Ut&&It.indexOf(Ut)!==0?`${Ut}/${It}`:location.pathname.split("/").filter(jt=>jt).filter(jt=>jt!=="editor").join("/"),wt.value=!0}function Ht(Ut,It){Ut.innerHTML==="view-code"&&(It.stopPropagation(),Bt())}return(Ut,It)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:vt,class:"main"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(st.value,(jt,Wt)=>(openBlock(),createElementBlock(Fragment,{key:`li-${Wt}`},[rt[jt.innerHTML]?(openBlock(),createElementBlock("sl-icon",{key:0,name:rt[jt.innerHTML].icon,label:rt[jt.innerHTML].label,onClick:qt=>Ht(jt,qt),style:{"font-size":"24px"}},null,8,_hoisted_1$m)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(jt.className),style:normalizeStyle(Lt(jt.getAttribute("style")||"")),innerHTML:jt.innerHTML,onClick:qt=>Ht(jt,qt)},null,14,_hoisted_2$j))],64))),128)),createBaseVNode("sl-dialog",{label:"Page Source",class:"page-source-dialog",style:normalizeStyle({"--width":unref(isMobile)()?"100vw":"80vw"})},[Tt.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,src:Tt.value,draggable:"false"},null,8,_hoisted_3$e)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:It[0]||(It[0]=jt=>wt.value=!1)},"Close")],4)],512))}}),_style_0$j=`*{box-sizing:border-box}.main{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:9px 12px;margin:36px auto auto;font-family:Roboto,sans-serif;font-size:.9rem;z-index:100;background-color:#eee;color:#444;border-radius:3px}a,sl-icon{color:#0645ad;text-decoration:none}a:visited{color:#0b0080}a:hover,sl-icon:hover{color:#06e;cursor:pointer}a:active{color:#faa700}a:focus{outline:thin dotted}a:hover,a:active{outline:0}.main.sticky{position:fixed;bottom:0}div{display:flex;align-items:center;gap:12px}.main div{cursor:pointer}img{height:36px;vertical-align:middle}a{color:inherit;text-decoration:none}.logo,.logo img{height:20px}.push{margin-left:auto}sl-dialog::part(panel){color:#444;font-size:medium}
`,Footer=_export_sfc(_sfc_main$o,[["styles",[_style_0$j]]]),_hoisted_1$l=["src","alt"],_hoisted_2$i=["name","data-state"],_sfc_main$n=defineComponent({__name:"GIF.ce",props:{src:{type:String,required:!0},alt:{type:String},initiallyPaused:{type:Boolean},restartOnPlay:{type:Boolean}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Lt;return(Lt=rt==null?void 0:rt.value)==null?void 0:Lt.parentNode}),vt=computed(()=>{var Lt;return(Lt=st.value)==null?void 0:Lt.querySelector("#gif")}),bt=ref(!1),_t=ref(!1),wt=ref(),Et={buttonPlayIconID:"",buttonPauseIconID:"",buttonPlayIconHTML:"",buttonPauseIconHTML:"",inheritClasses:!0,initiallyPaused:!1,restartOnPlay:!1,langPause:"Pause animation:",langPlay:"Play animation:",langPauseAllButton:"Pause all animations",langPlayAllButton:"Play all animations",langMissingAlt:"Animated GIF."};watch$1(vt,()=>{nextTick(()=>Tt())});function Tt(){wt.value={...Et,initiallyPaused:nt.initiallyPaused,restartOnPlay:nt.restartOnPlay},$t()}function $t(){let Lt=()=>{bt.value=!0;let Bt;if(Bt=vt.value.src.split("."),Bt=Bt[Bt.length-1].toLowerCase(),Bt=Bt.substring(0,4),Bt==="gif"){const Ht=document.createElement("canvas");let Ut=parseFloat(getComputedStyle(vt.value,null).getPropertyValue("border-left-width")),It=parseFloat(getComputedStyle(vt.value,null).getPropertyValue("border-right-width")),jt=Ut+It,Wt=vt.value.getAttribute("width");Wt!==null?(Ht.width=parseInt(Wt),Ht.setAttribute("style","width:"+Wt+"px !important;")):vt.value.clientWidth==0?Ht.width=vt.value.naturalWidth+.5+jt:Ht.width=vt.value.clientWidth+.5+jt;const qt=vt.value.naturalHeight/vt.value.naturalWidth*Ht.width;if(Ht.height=qt+.5,Ht.setAttribute("role","img"),wt.value.inheritClasses===!0){let di=vt.value.getAttribute("class");di==null&&(di=""),Ht.setAttribute("class","gifa11y-canvas "+di)}else Ht.setAttribute("class","gifa11y-canvas");let Yt=vt.value.getAttribute("alt")||wt.value.langMissingAlt;Ht.setAttribute("aria-label",Yt);const ti=vt.value.src,oi=window.matchMedia("(prefers-reduced-motion: reduce)");!oi||oi.matches||vt.value.classList.contains("gifa11y-paused")||ti.indexOf("gifa11y-paused")>-1||wt.value.initiallyPaused===!0?vt.value.style.display="none":Ht.style.display="none",Ht.getContext("2d").drawImage(vt.value,0,0,Ht.width,Ht.height),vt.value.after(Ht)}};vt.value.complete?Lt():vt.value.addEventListener("load",()=>{console.log(`onLoad gif.complete=${vt.value.complete}`),bt.value||nextTick(()=>Lt())})}function Dt(Lt,Bt){console.log(`onClick from=${Lt} isPlaying=${_t.value} restartOnPlay=${wt.value.restartOnPlay}`,Bt),_t.value=!_t.value;const Ht=vt.value.nextElementSibling;_t.value?(wt.value.restartOnPlay&&(vt.value.src=nt.src),vt.value.style.display="block",Ht.style.display="none"):(wt.value.restartOnPlay&&(vt.value.src=nt.src),vt.value.style.display="none",Ht.style.display="block"),Bt.preventDefault()}return(Lt,Bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"main"},[createBaseVNode("img",{src:nt.src,i:"",id:"gif",style:{width:"100%"},alt:nt.alt||"Animated GIF",onClick:Bt[0]||(Bt[0]=Ht=>Dt("image",Ht))},null,8,_hoisted_1$l),bt.value?(openBlock(),createElementBlock("sl-icon",{key:0,id:"play-button",name:_t.value?"pause-circle":"play-circle","data-state":_t.value?"playing":"paused",style:{"font-size":"100px"},onClick:Bt[1]||(Bt[1]=Ht=>Dt("icon",Ht))},null,8,_hoisted_2$i)):createCommentVNode("",!0)],512))}}),_style_0$i=`.main{position:relative}canvas.gifa11y-canvas{object-fit:contain;max-width:100%}#play-button{position:absolute;top:calc(50% - 50px);left:calc(50% - 50px);color:#fff;visibility:hidden;background-color:#0006;border-radius:50%}#play-button:hover{cursor:pointer}#play-button[data-state=paused],.main:hover #play-button{visibility:visible}
`,GIF=_export_sfc(_sfc_main$n,[["styles",[_style_0$i]]]),_hoisted_1$k=["background","options","position","sticky","height","top"],_hoisted_2$h=["label","subtitle","logo","url","sticky","search-domain","contact","height","background","alpha","offset"],_hoisted_3$d=["innerHTML"],_sfc_main$m=defineComponent({__name:"Header.ce",props:{label:{type:String},subtitle:{type:String},logo:{type:String},url:{type:String},contact:{type:String},searchDomain:{type:String},entities:{type:String},sticky:{type:Boolean},background:{type:String},options:{type:String},height:{type:Number},position:{type:String}},setup(it){const nt=it,rt=80,st=400,vt=/^\w+:/,bt=ref(null),_t=computed(()=>{var Ut,It;return(It=(Ut=bt.value)==null?void 0:Ut.getRootNode())==null?void 0:It.host}),wt=ref(!1),Et=ref(),Tt=ref([]),$t=ref(),Dt=ref(),Lt=computed(()=>nt.height||(wt.value?st:rt));onMounted(()=>Bt()),onUpdated(()=>Bt());function Bt(){var Ut;Tt.value=nt.entities?nt.entities.split(/\s+/).filter(It=>It):[],wt.value=nt.background!==void 0&&(isURL(nt.background)||Ht(nt.background)),bt.value&&(bt.value.style.height=`${nt.height||rt}px`),nt.sticky&&_t.value.classList.add("sticky"),Et.value=(Ut=_t.value.querySelector("ul"))==null?void 0:Ut.innerHTML}watch$1(Tt,async()=>{Tt.value.length>0&&($t.value=await getEntity(Tt.value[0]),$t.value&&$t.value.pageBanner&&(Dt.value=`https://iiif.juncture-digital.org/wc:${decodeURIComponent($t.value.pageBanner.split("/Special:FilePath/").pop()).replace(/\s/,"_")}/manifest.json`))});function Ht(Ut){return vt.test(Ut)}return(Ut,It)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",normalizeProps(guardReactiveProps(Ut.$attrs)),null,16),wt.value?(openBlock(),createElementBlock("ve-hero",{key:0,background:nt.background,options:nt.options,position:nt.position,sticky:nt.sticky?"":null,height:unref(Lt),top:it.sticky?unref(Lt)-rt:0},null,8,_hoisted_1$k)):createCommentVNode("",!0),createBaseVNode("ve-navbar",{ref_key:"navbar",ref:bt,label:nt.label,subtitle:nt.subtitle,logo:nt.logo,url:nt.url,sticky:nt.sticky?"":null,"search-domain":nt.searchDomain,contact:nt.contact,height:wt.value?rt:unref(Lt),background:wt.value?null:nt.background||"#444",alpha:wt.value?.2:0,offset:wt.value?rt:0},[Et.value?(openBlock(),createElementBlock("ul",{key:0,innerHTML:Et.value},null,8,_hoisted_3$d)):createCommentVNode("",!0)],8,_hoisted_2$h)],64))}}),_style_0$h=`.main{width:100%}
`,Header=_export_sfc(_sfc_main$m,[["styles",[_style_0$h]]]),_hoisted_1$j=["manifest"],_sfc_main$l=defineComponent({__name:"Hero.ce",props:{background:{type:String},options:{type:String},position:{type:String,default:"center"},sticky:{type:Boolean,default:!1},height:{type:Number,default:300},top:{type:Number,default:0}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Tt,$t;return($t=(Tt=rt.value)==null?void 0:Tt.getRootNode())==null?void 0:$t.host}),vt=ref(),bt=ref(),_t=ref(),wt=ref();watch$1(nt,()=>{nt.sticky&&(st.value.style.position="sticky",st.value.style.top="-320px")}),watch$1(st,()=>{bt.value=parseImageOptions(nt.options||""),nt.background&&getManifest(nt.background).then(Tt=>vt.value=Tt),st.value.style.height=`${nt.height}px`,nt.sticky&&(st.value.style.position="sticky"),nt.top&&(st.value.style.top=`-${nt.top}px`)}),watch$1(vt,(Tt,$t)=>{Tt!==$t&&(_t.value=getItemInfo(Tt))}),watch$1(_t,async(Tt,$t)=>{Tt!==$t&&(wt.value=Tt.service?Et(Tt.service[0].id||Tt.service[0]["@id"],bt.value):await imageDataUrl(_t.value.id,bt.value.region,{width:st.value.clientWidth,height:nt.height}))}),watch$1(wt,()=>{st.value.style.backgroundImage=`url("${wt.value}")`,st.value.style.backgroundPosition=nt.position});function Et(Tt,$t){let Dt=`${st.value.clientWidth},`;return`${Tt.replace(/\/info.json$/,"")}/${$t.region}/${Dt}/${$t.rotation}/${$t.quality}.${$t.format}`}return(Tt,$t)=>{var Dt;return openBlock(),createElementBlock("section",{ref_key:"root",ref:rt,class:"ve-hero media-item"},[createBaseVNode("ve-manifest-popup",{manifest:(Dt=vt.value)==null?void 0:Dt.id},null,8,_hoisted_1$j)],512)}}}),_style_0$g=`*{box-sizing:border-box}:host{display:block;position:relative;width:100%;z-index:10}.ve-hero{background-repeat:no-repeat;background-size:cover;background-position:center;z-index:8}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,Hero=_export_sfc(_sfc_main$l,[["styles",[_style_0$g]]]),_hoisted_1$i={class:"content"},_hoisted_2$g=["src","width","height"],_sfc_main$k=defineComponent({__name:"IFrame.ce",props:{allow:{type:String},allowfullscreen:{type:Boolean},allowpaymentrequest:{type:Boolean},height:{type:String},loading:{type:String},name:{type:String},referrerpolicy:{type:String},sandbox:{type:String},src:{type:String},srcdoc:{type:String},width:{type:String},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Lt;return(Lt=rt==null?void 0:rt.value)==null?void 0:Lt.parentNode}),vt=computed(()=>{var Lt,Bt;return(Bt=(Lt=rt.value)==null?void 0:Lt.getRootNode())==null?void 0:Bt.host}),bt=computed(()=>{var Lt;return(Lt=st.value)==null?void 0:Lt.querySelector(".content")}),_t=ref(),wt=ref(0),Et=ref(0),Tt=nt.position||(isMobile()?"full":nt.right?"right":nt.left?"left":"full");onMounted(()=>$t());function $t(){nt.src&&(_t.value=nt.src),Dt()}function Dt(){nt.sticky&&makeSticky(vt.value),vt.value.classList.add("ve-component"),vt.value.classList.add(Tt),Tt==="full"?vt.value.style.width="100%":(vt.value.style.float=Tt,vt.value.style.width="50%"),nextTick(()=>{vt.value.style.width=window.getComputedStyle(vt.value).width,vt.value.style.height=nt.height||window.getComputedStyle(vt.value).width,console.log(`host: width=${vt.value.style.width} height=${vt.value.style.height}`),bt.value.style.width=nt.width||window.getComputedStyle(vt.value).width,bt.value.style.height=nt.height||window.getComputedStyle(vt.value).width,nextTick(()=>{wt.value=parseInt(window.getComputedStyle(bt.value).width.slice(0,-2)),Et.value=parseInt(window.getComputedStyle(bt.value).height.slice(0,-2)),console.log(`content: width=${wt.value} height=${Et.value}`)})})}return(Lt,Bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"main"},[createBaseVNode("div",_hoisted_1$i,[createBaseVNode("iframe",{src:_t.value,width:wt.value,height:Et.value},null,8,_hoisted_2$g)])],512))}}),_style_0$f=`*{box-sizing:border-box}.main{height:500px}:host{display:block;width:100%;background-color:#fff}.content{margin:auto}iframe{border:none}
`,IFrame=_export_sfc(_sfc_main$k,[["styles",[_style_0$f]]]),_hoisted_1$h=["innerHTML"],_hoisted_2$f=["innerHTML"],_sfc_main$j=defineComponent({__name:"InfoCard.ce",props:{label:{type:String},description:{type:String},image:{type:String},href:{type:String},data:{type:String}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Dt,Lt;return(Lt=(Dt=rt.value)==null?void 0:Dt.getRootNode())==null?void 0:Lt.host}),vt=computed(()=>nt.data?JSON.parse(nt.data):{}),bt=computed(()=>vt.value.label||nt.label),_t=computed(()=>vt.value.description||nt.description),wt=computed(()=>vt.value.image||nt.image);computed(()=>vt.value.href||nt.href);const Et=computed(()=>wt.value&&`url('${$t(wt.value)}')`),Tt=computed(()=>{var Dt;return`${((Dt=st.value)==null?void 0:Dt.clientWidth)*.33}px`});function $t(Dt){let Lt=Dt.split("/");return`${Lt.slice(0,-1).join("/")}/${encodeURIComponent(Lt[Lt.length-1])}`}return(Dt,Lt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:unref(bt)},null,8,_hoisted_1$h),createBaseVNode("div",{class:"description",innerHTML:unref(_t)},null,8,_hoisted_2$f),unref(wt)?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:unref(Et),width:unref(Tt)})},null,4)):createCommentVNode("",!0)],512))}}),_style_0$e=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}
`,InfoCard=_export_sfc(_sfc_main$j,[["styles",[_style_0$e]]]),_withScopeId=it=>(pushScopeId("data-v-6fd8566f"),it=it(),popScopeId(),it),_hoisted_1$g={class:"main"},_hoisted_2$e=["src"],_hoisted_3$c=["innerHTML"],_hoisted_4$a=["innerHTML"],_hoisted_5$8=["href","innerHTML"],_hoisted_6$7={class:"links"},_hoisted_7$6={class:"detail"},_hoisted_8$6={key:0,class:"provider"},_hoisted_9$5=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10$4={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11$3=["src"],_hoisted_12$2=["href","innerHTML"],_hoisted_13$2={key:1},_hoisted_14$2=["src"],_hoisted_15$2=["href","innerHTML"],_hoisted_16$2={key:1,class:"requiredStatement"},_hoisted_17$2=["innerHTML"],_hoisted_18$2={key:2,class:"rights"},_hoisted_19$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"Reuse rights",-1)),_hoisted_20$2=["href","innerHTML"],_hoisted_21$2={key:3,class:"navDate"},_hoisted_22$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_23$2=["innerHTML"],_hoisted_24$2={key:4,class:"homepage"},_hoisted_25$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_26$2=["href","innerHTML"],_hoisted_27$2={key:5,class:"seeAlso"},_hoisted_28$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_29$1=["href","innerHTML"],_hoisted_30$1={key:6,class:"logo"},_hoisted_31$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_32$1=["href","innerHTML"],_hoisted_33$1={key:7,class:"imageData"},_hoisted_34$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_35$1=["href","innerHTML"],_hoisted_36$1=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_37=["innerHTML"],_hoisted_38=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_39=["innerHTML"],_hoisted_40=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_41=["innerHTML"],_sfc_main$i=defineComponent({__name:"Manifest.ce",props:{manifest:{type:String}},setup(it){const nt=it,rt=ref(null);computed(()=>{var Dt,Lt;return(Lt=(Dt=rt.value)==null?void 0:Dt.getRootNode())==null?void 0:Lt.host});const st=ref(null),vt=ref(null);watch$1(st,()=>vt.value=Et(st.value));const bt=computed(()=>vt.value&&$t(vt.value));onMounted(()=>_t());function _t(){typeof nt.manifest=="object"?st.value=nt.manifest:getManifest(nt.manifest).then(Dt=>st.value=Dt)}function wt(Dt,Lt="en"){return typeof Dt=="object"&&!Array.isArray(Dt)?Dt[Lt]||Dt.none||Dt[Object.keys(Dt).sort()[0]]:Dt}function Et(Dt){let Lt={};if(Lt.id=wt(Dt.id),Lt.label=wt(Dt.label),Dt.summary&&(Lt.summary=wt(Dt.summary)),Dt.rights&&(Lt.rights=Dt.rights),Dt.thumbnail&&(Lt.thumbnail=Dt.thumbnail[0].id||Dt.thumbnail),Dt.metadata){Lt.metadata=Dt.metadata.map(Ut=>({label:wt(Ut.label)[0],value:wt(Ut.value)}));let Bt=Lt.metadata.find(Ut=>Ut.label=="source_url");Lt.sourceUrl=Bt?Bt.value[0]:null;let Ht=Lt.metadata.find(Ut=>Ut.label==="depicts");Ht&&(Lt.depicts=Ht.value)}if(Dt.provider&&(Lt.provider=Dt.provider.map(Bt=>{let Ht={label:wt(Bt.label),href:Bt.id};return Bt.logo&&(Ht.logo={src:Bt.logo[0].id}),Ht})),Dt.logo&&(Lt.logo=Dt.logo.map(Bt=>{let Ht={src:typeof Bt=="object"?Bt.id||Bt["@id"]:Bt};return typeof Bt=="object"&&(Bt.width&&(Ht.width=Bt.width),Bt.height&&(Ht.height=Bt.height)),Ht})),Lt.imageData=getItemInfo(Dt),Lt.service=Lt.imageData.service&&`${(Lt.imageData.service[0].id||Lt.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,Dt.requiredStatement){let Bt=Dt.requiredStatement;Lt.requiredStatement={label:wt(Bt.label),value:wt(Bt.value)}}return Dt.homepage&&(Lt.homepage={label:Dt.homepage.label?wt(Dt.homepage.label):Dt.homepage.id,href:Dt.homepage.id}),Dt.seeAlso&&(Lt.seeAlso=Dt.seeAlso.map(Bt=>({label:Bt.label?wt(Bt.label):Bt.id,href:Bt.id}))),Lt}function Tt(Dt){navigator.clipboard&&navigator.clipboard.writeText(Dt)}function $t(Dt){let Lt={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const Bt=function(Yt,ti){return new Function("return `"+Yt+"`;").call(ti)};let Ht=Dt.rights||"",Ut="",[It,jt,Wt,qt]=Ht.split("/").slice(2);return It==="creativecommons.org"?(Wt=Wt==="zero"?"publicdomain":Wt,Ut=`<img src="${Bt(Lt.cc.badgeTemplate,{...Lt.cc,rightsCode:Wt,version:qt})}"/>`):It==="rightsstatements.org"&&(Ut=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${Lt.rs.backgroundColor};"><img style="height:100%;" src="${Bt(Lt.rs.badgeTemplate,{...Lt.rs,rightsCode:Wt})}"/></div>`),Ut}return(Dt,Lt)=>{var Bt,Ht,Ut,It,jt,Wt,qt,Yt,ti,oi,si,di,ui,ci;return openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"manifest"},[createBaseVNode("div",_hoisted_1$g,[createBaseVNode("img",{class:"thumbnail",src:(Bt=vt.value)==null?void 0:Bt.thumbnail},null,8,_hoisted_2$e),createBaseVNode("div",{class:"label",innerHTML:(Ht=vt.value)==null?void 0:Ht.label},null,8,_hoisted_3$c),(Ut=vt.value)!=null&&Ut.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(It=vt.value)==null?void 0:It.summary},null,8,_hoisted_4$a)):createCommentVNode("",!0),(jt=vt.value)!=null&&jt.rights?(openBlock(),createElementBlock("a",{key:1,href:(Wt=vt.value)==null?void 0:Wt.rights,innerHTML:unref(bt)},null,8,_hoisted_5$8)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$7,[createBaseVNode("img",{src:"https://juncture-digital.github.io/web-app/static/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:Lt[0]||(Lt[0]=hi=>Tt(st.value.id))})])]),createBaseVNode("div",_hoisted_7$6,[(qt=vt.value)!=null&&qt.provider?(openBlock(),createElementBlock("div",_hoisted_8$6,[_hoisted_9$5,vt.value.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10$4,[vt.value.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:vt.value.provider[0].logo.src},null,8,_hoisted_11$3)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:vt.value.provider[0].href,innerHTML:vt.value.provider[0].label},null,8,_hoisted_12$2)])):(openBlock(),createElementBlock("ul",_hoisted_13$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(vt.value.provider,(hi,ei)=>(openBlock(),createElementBlock("li",{key:`provider-${ei}`},[hi.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:hi.logo.src},null,8,_hoisted_14$2)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:hi.href,innerHTML:hi.label},null,8,_hoisted_15$2)]))),128))]))])):createCommentVNode("",!0),(Yt=vt.value)!=null&&Yt.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_16$2,[createBaseVNode("span",{class:"value",innerHTML:vt.value.requiredStatement.value},null,8,_hoisted_17$2)])):createCommentVNode("",!0),(ti=vt.value)!=null&&ti.rights?(openBlock(),createElementBlock("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("a",{class:"value",href:vt.value.rights,innerHTML:vt.value.rights},null,8,_hoisted_20$2)])):createCommentVNode("",!0),(oi=vt.value)!=null&&oi.navDate?(openBlock(),createElementBlock("div",_hoisted_21$2,[_hoisted_22$2,createBaseVNode("span",{class:"value",innerHTML:vt.value.navDate},null,8,_hoisted_23$2)])):createCommentVNode("",!0),(si=vt.value)!=null&&si.homepage?(openBlock(),createElementBlock("div",_hoisted_24$2,[_hoisted_25$2,createBaseVNode("a",{class:"value",href:vt.value.homepage.href,innerHTML:vt.value.homepage.label},null,8,_hoisted_26$2)])):createCommentVNode("",!0),(di=vt.value)!=null&&di.seeAlso?(openBlock(),createElementBlock("div",_hoisted_27$2,[_hoisted_28$2,createBaseVNode("a",{class:"value",href:vt.value.seeAlso[0].href,innerHTML:vt.value.seeAlso[0].label},null,8,_hoisted_29$1)])):createCommentVNode("",!0),(ui=vt.value)!=null&&ui.logo?(openBlock(),createElementBlock("div",_hoisted_30$1,[_hoisted_31$1,createBaseVNode("a",{class:"value",href:vt.value.logo[0].src,innerHTML:vt.value.logo[0].src},null,8,_hoisted_32$1)])):createCommentVNode("",!0),(ci=vt.value)!=null&&ci.imageData?(openBlock(),createElementBlock("div",_hoisted_33$1,[createBaseVNode("div",null,[_hoisted_34$1,createBaseVNode("a",{class:"value",href:vt.value.imageData.id,innerHTML:vt.value.imageData.id.split("/").pop()},null,8,_hoisted_35$1)]),createBaseVNode("div",null,[_hoisted_36$1,createBaseVNode("span",{class:"value",innerHTML:vt.value.imageData.format},null,8,_hoisted_37)]),createBaseVNode("div",null,[_hoisted_38,createBaseVNode("span",{class:"value",innerHTML:vt.value.imageData.width},null,8,_hoisted_39)]),createBaseVNode("div",null,[_hoisted_40,createBaseVNode("span",{class:"value",innerHTML:vt.value.imageData.height},null,8,_hoisted_41)])])):createCommentVNode("",!0)])],512)}}}),_style_0$d=`*[data-v-6fd8566f]{box-sizing:border-box}.manifest[data-v-6fd8566f]{width:100%;height:100%;overflow-y:scroll;background-color:#fff}.main[data-v-6fd8566f],.detail[data-v-6fd8566f]{display:flow-root;margin:6px}.main>*[data-v-6fd8566f]{margin-bottom:6px}.detail>div[data-v-6fd8566f]{margin-top:12px}.main .label[data-v-6fd8566f]{font-size:1.2em;font-weight:700}.thumbnail[data-v-6fd8566f]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-6fd8566f]{margin-top:6px}img.iiif[data-v-6fd8566f]{height:24px;cursor:copy}ul[data-v-6fd8566f]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-6fd8566f]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-6fd8566f]:after{content:":"}.detail .value[data-v-6fd8566f],.main .label[data-v-6fd8566f]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-6fd8566f]{padding-right:6px}img.logo[data-v-6fd8566f]{height:40px}.manifest-id[data-v-6fd8566f],.manifest-label[data-v-6fd8566f],.summary[data-v-6fd8566f],.provider[data-v-6fd8566f],.rights[data-v-6fd8566f],.service[data-v-6fd8566f],.imageData div[data-v-6fd8566f],.thumbnail[data-v-6fd8566f]{display:flex;align-items:flex-start}.metadata>ul[data-v-6fd8566f],.requiredStatement ul[data-v-6fd8566f]{padding-left:24px}.metadata ul li[data-v-6fd8566f],.requiredStatement ul li[data-v-6fd8566f]{display:flex}.metadata ul ul[data-v-6fd8566f]{padding-left:0}a[data-v-6fd8566f]:link,a[data-v-6fd8566f]:visited{color:#00e}
`,Manifest=_export_sfc(_sfc_main$i,[["styles",[_style_0$d]],["__scopeId","data-v-6fd8566f"]]),_hoisted_1$f=createBaseVNode("sl-icon",{id:"tippy",name:"info-circle-fill"},null,-1),_hoisted_2$d=[_hoisted_1$f],_sfc_main$h=defineComponent({__name:"ManifestPopup.ce",props:{manifest:{type:String}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var vt,bt;return(bt=(vt=rt.value)==null?void 0:vt.getRootNode())==null?void 0:bt.host});return watch$1(st,()=>{tippy(st.value,{theme:"light-border",allowHTML:!0,interactive:!0,appendTo:document.body,placement:"bottom-end",arrow:!0,delay:[null,null],onShow:vt=>vt.setContent(`<div class="manifest-popup"><ve-manifest manifest="${nt.manifest}"></ve-manifest></div>`)})}),(vt,bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt},_hoisted_2$d,512))}}),_style_0$c=`#tippy{width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center}
`,ManifestPopup=_export_sfc(_sfc_main$h,[["styles",[_style_0$c]]]);var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(it,nt){(function(rt,st){st(nt)})(commonjsGlobal$1,function(rt){var st="1.9.3";function vt(kt){var Mt,Vt,Zt,mi;for(Vt=1,Zt=arguments.length;Vt<Zt;Vt++){mi=arguments[Vt];for(Mt in mi)kt[Mt]=mi[Mt]}return kt}var bt=Object.create||function(){function kt(){}return function(Mt){return kt.prototype=Mt,new kt}}();function _t(kt,Mt){var Vt=Array.prototype.slice;if(kt.bind)return kt.bind.apply(kt,Vt.call(arguments,1));var Zt=Vt.call(arguments,2);return function(){return kt.apply(Mt,Zt.length?Zt.concat(Vt.call(arguments)):arguments)}}var wt=0;function Et(kt){return"_leaflet_id"in kt||(kt._leaflet_id=++wt),kt._leaflet_id}function Tt(kt,Mt,Vt){var Zt,mi,Ci,en;return en=function(){Zt=!1,mi&&(Ci.apply(Vt,mi),mi=!1)},Ci=function(){Zt?mi=arguments:(kt.apply(Vt,arguments),setTimeout(en,Mt),Zt=!0)},Ci}function $t(kt,Mt,Vt){var Zt=Mt[1],mi=Mt[0],Ci=Zt-mi;return kt===Zt&&Vt?kt:((kt-mi)%Ci+Ci)%Ci+mi}function Dt(){return!1}function Lt(kt,Mt){if(Mt===!1)return kt;var Vt=Math.pow(10,Mt===void 0?6:Mt);return Math.round(kt*Vt)/Vt}function Bt(kt){return kt.trim?kt.trim():kt.replace(/^\s+|\s+$/g,"")}function Ht(kt){return Bt(kt).split(/\s+/)}function Ut(kt,Mt){Object.prototype.hasOwnProperty.call(kt,"options")||(kt.options=kt.options?bt(kt.options):{});for(var Vt in Mt)kt.options[Vt]=Mt[Vt];return kt.options}function It(kt,Mt,Vt){var Zt=[];for(var mi in kt)Zt.push(encodeURIComponent(Vt?mi.toUpperCase():mi)+"="+encodeURIComponent(kt[mi]));return(!Mt||Mt.indexOf("?")===-1?"?":"&")+Zt.join("&")}var jt=/\{ *([\w_ -]+) *\}/g;function Wt(kt,Mt){return kt.replace(jt,function(Vt,Zt){var mi=Mt[Zt];if(mi===void 0)throw new Error("No value provided for variable "+Vt);return typeof mi=="function"&&(mi=mi(Mt)),mi})}var qt=Array.isArray||function(kt){return Object.prototype.toString.call(kt)==="[object Array]"};function Yt(kt,Mt){for(var Vt=0;Vt<kt.length;Vt++)if(kt[Vt]===Mt)return Vt;return-1}var ti="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oi(kt){return window["webkit"+kt]||window["moz"+kt]||window["ms"+kt]}var si=0;function di(kt){var Mt=+new Date,Vt=Math.max(0,16-(Mt-si));return si=Mt+Vt,window.setTimeout(kt,Vt)}var ui=window.requestAnimationFrame||oi("RequestAnimationFrame")||di,ci=window.cancelAnimationFrame||oi("CancelAnimationFrame")||oi("CancelRequestAnimationFrame")||function(kt){window.clearTimeout(kt)};function hi(kt,Mt,Vt){if(Vt&&ui===di)kt.call(Mt);else return ui.call(window,_t(kt,Mt))}function ei(kt){kt&&ci.call(window,kt)}var wi={__proto__:null,extend:vt,create:bt,bind:_t,get lastId(){return wt},stamp:Et,throttle:Tt,wrapNum:$t,falseFn:Dt,formatNum:Lt,trim:Bt,splitWords:Ht,setOptions:Ut,getParamString:It,template:Wt,isArray:qt,indexOf:Yt,emptyImageUrl:ti,requestFn:ui,cancelFn:ci,requestAnimFrame:hi,cancelAnimFrame:ei};function Kt(){}Kt.extend=function(kt){var Mt=function(){Ut(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},Vt=Mt.__super__=this.prototype,Zt=bt(Vt);Zt.constructor=Mt,Mt.prototype=Zt;for(var mi in this)Object.prototype.hasOwnProperty.call(this,mi)&&mi!=="prototype"&&mi!=="__super__"&&(Mt[mi]=this[mi]);return kt.statics&&vt(Mt,kt.statics),kt.includes&&(Ni(kt.includes),vt.apply(null,[Zt].concat(kt.includes))),vt(Zt,kt),delete Zt.statics,delete Zt.includes,Zt.options&&(Zt.options=Vt.options?bt(Vt.options):{},vt(Zt.options,kt.options)),Zt._initHooks=[],Zt.callInitHooks=function(){if(!this._initHooksCalled){Vt.callInitHooks&&Vt.callInitHooks.call(this),this._initHooksCalled=!0;for(var Ci=0,en=Zt._initHooks.length;Ci<en;Ci++)Zt._initHooks[Ci].call(this)}},Mt},Kt.include=function(kt){var Mt=this.prototype.options;return vt(this.prototype,kt),kt.options&&(this.prototype.options=Mt,this.mergeOptions(kt.options)),this},Kt.mergeOptions=function(kt){return vt(this.prototype.options,kt),this},Kt.addInitHook=function(kt){var Mt=Array.prototype.slice.call(arguments,1),Vt=typeof kt=="function"?kt:function(){this[kt].apply(this,Mt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(Vt),this};function Ni(kt){if(!(typeof L>"u"||!L||!L.Mixin)){kt=qt(kt)?kt:[kt];for(var Mt=0;Mt<kt.length;Mt++)kt[Mt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ni={on:function(kt,Mt,Vt){if(typeof kt=="object")for(var Zt in kt)this._on(Zt,kt[Zt],Mt);else{kt=Ht(kt);for(var mi=0,Ci=kt.length;mi<Ci;mi++)this._on(kt[mi],Mt,Vt)}return this},off:function(kt,Mt,Vt){if(!arguments.length)delete this._events;else if(typeof kt=="object")for(var Zt in kt)this._off(Zt,kt[Zt],Mt);else{kt=Ht(kt);for(var mi=arguments.length===1,Ci=0,en=kt.length;Ci<en;Ci++)mi?this._off(kt[Ci]):this._off(kt[Ci],Mt,Vt)}return this},_on:function(kt,Mt,Vt,Zt){if(typeof Mt!="function"){console.warn("wrong listener type: "+typeof Mt);return}if(this._listens(kt,Mt,Vt)===!1){Vt===this&&(Vt=void 0);var mi={fn:Mt,ctx:Vt};Zt&&(mi.once=!0),this._events=this._events||{},this._events[kt]=this._events[kt]||[],this._events[kt].push(mi)}},_off:function(kt,Mt,Vt){var Zt,mi,Ci;if(!!this._events&&(Zt=this._events[kt],!!Zt)){if(arguments.length===1){if(this._firingCount)for(mi=0,Ci=Zt.length;mi<Ci;mi++)Zt[mi].fn=Dt;delete this._events[kt];return}if(typeof Mt!="function"){console.warn("wrong listener type: "+typeof Mt);return}var en=this._listens(kt,Mt,Vt);if(en!==!1){var fn=Zt[en];this._firingCount&&(fn.fn=Dt,this._events[kt]=Zt=Zt.slice()),Zt.splice(en,1)}}},fire:function(kt,Mt,Vt){if(!this.listens(kt,Vt))return this;var Zt=vt({},Mt,{type:kt,target:this,sourceTarget:Mt&&Mt.sourceTarget||this});if(this._events){var mi=this._events[kt];if(mi){this._firingCount=this._firingCount+1||1;for(var Ci=0,en=mi.length;Ci<en;Ci++){var fn=mi[Ci],mn=fn.fn;fn.once&&this.off(kt,mn,fn.ctx),mn.call(fn.ctx||this,Zt)}this._firingCount--}}return Vt&&this._propagateEvent(Zt),this},listens:function(kt,Mt,Vt,Zt){typeof kt!="string"&&console.warn('"string" type argument expected');var mi=Mt;typeof Mt!="function"&&(Zt=!!Mt,mi=void 0,Vt=void 0);var Ci=this._events&&this._events[kt];if(Ci&&Ci.length&&this._listens(kt,mi,Vt)!==!1)return!0;if(Zt){for(var en in this._eventParents)if(this._eventParents[en].listens(kt,Mt,Vt,Zt))return!0}return!1},_listens:function(kt,Mt,Vt){if(!this._events)return!1;var Zt=this._events[kt]||[];if(!Mt)return!!Zt.length;Vt===this&&(Vt=void 0);for(var mi=0,Ci=Zt.length;mi<Ci;mi++)if(Zt[mi].fn===Mt&&Zt[mi].ctx===Vt)return mi;return!1},once:function(kt,Mt,Vt){if(typeof kt=="object")for(var Zt in kt)this._on(Zt,kt[Zt],Mt,!0);else{kt=Ht(kt);for(var mi=0,Ci=kt.length;mi<Ci;mi++)this._on(kt[mi],Mt,Vt,!0)}return this},addEventParent:function(kt){return this._eventParents=this._eventParents||{},this._eventParents[Et(kt)]=kt,this},removeEventParent:function(kt){return this._eventParents&&delete this._eventParents[Et(kt)],this},_propagateEvent:function(kt){for(var Mt in this._eventParents)this._eventParents[Mt].fire(kt.type,vt({layer:kt.target,propagatedFrom:kt.target},kt),!0)}};ni.addEventListener=ni.on,ni.removeEventListener=ni.clearAllEventListeners=ni.off,ni.addOneTimeEventListener=ni.once,ni.fireEvent=ni.fire,ni.hasEventListeners=ni.listens;var Fi=Kt.extend(ni);function Xi(kt,Mt,Vt){this.x=Vt?Math.round(kt):kt,this.y=Vt?Math.round(Mt):Mt}var nn=Math.trunc||function(kt){return kt>0?Math.floor(kt):Math.ceil(kt)};Xi.prototype={clone:function(){return new Xi(this.x,this.y)},add:function(kt){return this.clone()._add(Ai(kt))},_add:function(kt){return this.x+=kt.x,this.y+=kt.y,this},subtract:function(kt){return this.clone()._subtract(Ai(kt))},_subtract:function(kt){return this.x-=kt.x,this.y-=kt.y,this},divideBy:function(kt){return this.clone()._divideBy(kt)},_divideBy:function(kt){return this.x/=kt,this.y/=kt,this},multiplyBy:function(kt){return this.clone()._multiplyBy(kt)},_multiplyBy:function(kt){return this.x*=kt,this.y*=kt,this},scaleBy:function(kt){return new Xi(this.x*kt.x,this.y*kt.y)},unscaleBy:function(kt){return new Xi(this.x/kt.x,this.y/kt.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=nn(this.x),this.y=nn(this.y),this},distanceTo:function(kt){kt=Ai(kt);var Mt=kt.x-this.x,Vt=kt.y-this.y;return Math.sqrt(Mt*Mt+Vt*Vt)},equals:function(kt){return kt=Ai(kt),kt.x===this.x&&kt.y===this.y},contains:function(kt){return kt=Ai(kt),Math.abs(kt.x)<=Math.abs(this.x)&&Math.abs(kt.y)<=Math.abs(this.y)},toString:function(){return"Point("+Lt(this.x)+", "+Lt(this.y)+")"}};function Ai(kt,Mt,Vt){return kt instanceof Xi?kt:qt(kt)?new Xi(kt[0],kt[1]):kt==null?kt:typeof kt=="object"&&"x"in kt&&"y"in kt?new Xi(kt.x,kt.y):new Xi(kt,Mt,Vt)}function ji(kt,Mt){if(!!kt)for(var Vt=Mt?[kt,Mt]:kt,Zt=0,mi=Vt.length;Zt<mi;Zt++)this.extend(Vt[Zt])}ji.prototype={extend:function(kt){var Mt,Vt;if(!kt)return this;if(kt instanceof Xi||typeof kt[0]=="number"||"x"in kt)Mt=Vt=Ai(kt);else if(kt=Ri(kt),Mt=kt.min,Vt=kt.max,!Mt||!Vt)return this;return!this.min&&!this.max?(this.min=Mt.clone(),this.max=Vt.clone()):(this.min.x=Math.min(Mt.x,this.min.x),this.max.x=Math.max(Vt.x,this.max.x),this.min.y=Math.min(Mt.y,this.min.y),this.max.y=Math.max(Vt.y,this.max.y)),this},getCenter:function(kt){return Ai((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,kt)},getBottomLeft:function(){return Ai(this.min.x,this.max.y)},getTopRight:function(){return Ai(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(kt){var Mt,Vt;return typeof kt[0]=="number"||kt instanceof Xi?kt=Ai(kt):kt=Ri(kt),kt instanceof ji?(Mt=kt.min,Vt=kt.max):Mt=Vt=kt,Mt.x>=this.min.x&&Vt.x<=this.max.x&&Mt.y>=this.min.y&&Vt.y<=this.max.y},intersects:function(kt){kt=Ri(kt);var Mt=this.min,Vt=this.max,Zt=kt.min,mi=kt.max,Ci=mi.x>=Mt.x&&Zt.x<=Vt.x,en=mi.y>=Mt.y&&Zt.y<=Vt.y;return Ci&&en},overlaps:function(kt){kt=Ri(kt);var Mt=this.min,Vt=this.max,Zt=kt.min,mi=kt.max,Ci=mi.x>Mt.x&&Zt.x<Vt.x,en=mi.y>Mt.y&&Zt.y<Vt.y;return Ci&&en},isValid:function(){return!!(this.min&&this.max)},pad:function(kt){var Mt=this.min,Vt=this.max,Zt=Math.abs(Mt.x-Vt.x)*kt,mi=Math.abs(Mt.y-Vt.y)*kt;return Ri(Ai(Mt.x-Zt,Mt.y-mi),Ai(Vt.x+Zt,Vt.y+mi))},equals:function(kt){return kt?(kt=Ri(kt),this.min.equals(kt.getTopLeft())&&this.max.equals(kt.getBottomRight())):!1}};function Ri(kt,Mt){return!kt||kt instanceof ji?kt:new ji(kt,Mt)}function Vi(kt,Mt){if(!!kt)for(var Vt=Mt?[kt,Mt]:kt,Zt=0,mi=Vt.length;Zt<mi;Zt++)this.extend(Vt[Zt])}Vi.prototype={extend:function(kt){var Mt=this._southWest,Vt=this._northEast,Zt,mi;if(kt instanceof rn)Zt=kt,mi=kt;else if(kt instanceof Vi){if(Zt=kt._southWest,mi=kt._northEast,!Zt||!mi)return this}else return kt?this.extend(Pi(kt)||Qi(kt)):this;return!Mt&&!Vt?(this._southWest=new rn(Zt.lat,Zt.lng),this._northEast=new rn(mi.lat,mi.lng)):(Mt.lat=Math.min(Zt.lat,Mt.lat),Mt.lng=Math.min(Zt.lng,Mt.lng),Vt.lat=Math.max(mi.lat,Vt.lat),Vt.lng=Math.max(mi.lng,Vt.lng)),this},pad:function(kt){var Mt=this._southWest,Vt=this._northEast,Zt=Math.abs(Mt.lat-Vt.lat)*kt,mi=Math.abs(Mt.lng-Vt.lng)*kt;return new Vi(new rn(Mt.lat-Zt,Mt.lng-mi),new rn(Vt.lat+Zt,Vt.lng+mi))},getCenter:function(){return new rn((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new rn(this.getNorth(),this.getWest())},getSouthEast:function(){return new rn(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(kt){typeof kt[0]=="number"||kt instanceof rn||"lat"in kt?kt=Pi(kt):kt=Qi(kt);var Mt=this._southWest,Vt=this._northEast,Zt,mi;return kt instanceof Vi?(Zt=kt.getSouthWest(),mi=kt.getNorthEast()):Zt=mi=kt,Zt.lat>=Mt.lat&&mi.lat<=Vt.lat&&Zt.lng>=Mt.lng&&mi.lng<=Vt.lng},intersects:function(kt){kt=Qi(kt);var Mt=this._southWest,Vt=this._northEast,Zt=kt.getSouthWest(),mi=kt.getNorthEast(),Ci=mi.lat>=Mt.lat&&Zt.lat<=Vt.lat,en=mi.lng>=Mt.lng&&Zt.lng<=Vt.lng;return Ci&&en},overlaps:function(kt){kt=Qi(kt);var Mt=this._southWest,Vt=this._northEast,Zt=kt.getSouthWest(),mi=kt.getNorthEast(),Ci=mi.lat>Mt.lat&&Zt.lat<Vt.lat,en=mi.lng>Mt.lng&&Zt.lng<Vt.lng;return Ci&&en},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(kt,Mt){return kt?(kt=Qi(kt),this._southWest.equals(kt.getSouthWest(),Mt)&&this._northEast.equals(kt.getNorthEast(),Mt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Qi(kt,Mt){return kt instanceof Vi?kt:new Vi(kt,Mt)}function rn(kt,Mt,Vt){if(isNaN(kt)||isNaN(Mt))throw new Error("Invalid LatLng object: ("+kt+", "+Mt+")");this.lat=+kt,this.lng=+Mt,Vt!==void 0&&(this.alt=+Vt)}rn.prototype={equals:function(kt,Mt){if(!kt)return!1;kt=Pi(kt);var Vt=Math.max(Math.abs(this.lat-kt.lat),Math.abs(this.lng-kt.lng));return Vt<=(Mt===void 0?1e-9:Mt)},toString:function(kt){return"LatLng("+Lt(this.lat,kt)+", "+Lt(this.lng,kt)+")"},distanceTo:function(kt){return Oi.distance(this,Pi(kt))},wrap:function(){return Oi.wrapLatLng(this)},toBounds:function(kt){var Mt=180*kt/40075017,Vt=Mt/Math.cos(Math.PI/180*this.lat);return Qi([this.lat-Mt,this.lng-Vt],[this.lat+Mt,this.lng+Vt])},clone:function(){return new rn(this.lat,this.lng,this.alt)}};function Pi(kt,Mt,Vt){return kt instanceof rn?kt:qt(kt)&&typeof kt[0]!="object"?kt.length===3?new rn(kt[0],kt[1],kt[2]):kt.length===2?new rn(kt[0],kt[1]):null:kt==null?kt:typeof kt=="object"&&"lat"in kt?new rn(kt.lat,"lng"in kt?kt.lng:kt.lon,kt.alt):Mt===void 0?null:new rn(kt,Mt,Vt)}var bn={latLngToPoint:function(kt,Mt){var Vt=this.projection.project(kt),Zt=this.scale(Mt);return this.transformation._transform(Vt,Zt)},pointToLatLng:function(kt,Mt){var Vt=this.scale(Mt),Zt=this.transformation.untransform(kt,Vt);return this.projection.unproject(Zt)},project:function(kt){return this.projection.project(kt)},unproject:function(kt){return this.projection.unproject(kt)},scale:function(kt){return 256*Math.pow(2,kt)},zoom:function(kt){return Math.log(kt/256)/Math.LN2},getProjectedBounds:function(kt){if(this.infinite)return null;var Mt=this.projection.bounds,Vt=this.scale(kt),Zt=this.transformation.transform(Mt.min,Vt),mi=this.transformation.transform(Mt.max,Vt);return new ji(Zt,mi)},infinite:!1,wrapLatLng:function(kt){var Mt=this.wrapLng?$t(kt.lng,this.wrapLng,!0):kt.lng,Vt=this.wrapLat?$t(kt.lat,this.wrapLat,!0):kt.lat,Zt=kt.alt;return new rn(Vt,Mt,Zt)},wrapLatLngBounds:function(kt){var Mt=kt.getCenter(),Vt=this.wrapLatLng(Mt),Zt=Mt.lat-Vt.lat,mi=Mt.lng-Vt.lng;if(Zt===0&&mi===0)return kt;var Ci=kt.getSouthWest(),en=kt.getNorthEast(),fn=new rn(Ci.lat-Zt,Ci.lng-mi),mn=new rn(en.lat-Zt,en.lng-mi);return new Vi(fn,mn)}},Oi=vt({},bn,{wrapLng:[-180,180],R:6371e3,distance:function(kt,Mt){var Vt=Math.PI/180,Zt=kt.lat*Vt,mi=Mt.lat*Vt,Ci=Math.sin((Mt.lat-kt.lat)*Vt/2),en=Math.sin((Mt.lng-kt.lng)*Vt/2),fn=Ci*Ci+Math.cos(Zt)*Math.cos(mi)*en*en,mn=2*Math.atan2(Math.sqrt(fn),Math.sqrt(1-fn));return this.R*mn}}),Ii=6378137,Gi={R:Ii,MAX_LATITUDE:85.0511287798,project:function(kt){var Mt=Math.PI/180,Vt=this.MAX_LATITUDE,Zt=Math.max(Math.min(Vt,kt.lat),-Vt),mi=Math.sin(Zt*Mt);return new Xi(this.R*kt.lng*Mt,this.R*Math.log((1+mi)/(1-mi))/2)},unproject:function(kt){var Mt=180/Math.PI;return new rn((2*Math.atan(Math.exp(kt.y/this.R))-Math.PI/2)*Mt,kt.x*Mt/this.R)},bounds:function(){var kt=Ii*Math.PI;return new ji([-kt,-kt],[kt,kt])}()};function $i(kt,Mt,Vt,Zt){if(qt(kt)){this._a=kt[0],this._b=kt[1],this._c=kt[2],this._d=kt[3];return}this._a=kt,this._b=Mt,this._c=Vt,this._d=Zt}$i.prototype={transform:function(kt,Mt){return this._transform(kt.clone(),Mt)},_transform:function(kt,Mt){return Mt=Mt||1,kt.x=Mt*(this._a*kt.x+this._b),kt.y=Mt*(this._c*kt.y+this._d),kt},untransform:function(kt,Mt){return Mt=Mt||1,new Xi((kt.x/Mt-this._b)/this._a,(kt.y/Mt-this._d)/this._c)}};function ii(kt,Mt,Vt,Zt){return new $i(kt,Mt,Vt,Zt)}var Nt=vt({},Oi,{code:"EPSG:3857",projection:Gi,transformation:function(){var kt=.5/(Math.PI*Gi.R);return ii(kt,.5,-kt,.5)}()}),Qt=vt({},Nt,{code:"EPSG:900913"});function Jt(kt){return document.createElementNS("http://www.w3.org/2000/svg",kt)}function Si(kt,Mt){var Vt="",Zt,mi,Ci,en,fn,mn;for(Zt=0,Ci=kt.length;Zt<Ci;Zt++){for(fn=kt[Zt],mi=0,en=fn.length;mi<en;mi++)mn=fn[mi],Vt+=(mi?"L":"M")+mn.x+" "+mn.y;Vt+=Mt?zn.svg?"z":"x":""}return Vt||"M0 0"}var vi=document.documentElement.style,Mi="ActiveXObject"in window,_i=Mi&&!document.addEventListener,Li="msLaunchUri"in navigator&&!("documentMode"in document),Ti=Wr("webkit"),zi=Wr("android"),Hi=Wr("android 2")||Wr("android 3"),tn=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),qi=zi&&Wr("Google")&&tn<537&&!("AudioNode"in window),Wi=!!window.opera,Cn=!Li&&Wr("chrome"),En=Wr("gecko")&&!Ti&&!Wi&&!Mi,$n=!Cn&&Wr("safari"),Fn=Wr("phantom"),Rn="OTransition"in vi,br=navigator.platform.indexOf("Win")===0,Bn=Mi&&"transition"in vi,on="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Hi,li="MozPerspective"in vi,ai=!window.L_DISABLE_3D&&(Bn||on||li)&&!Rn&&!Fn,xi=typeof orientation<"u"||Wr("mobile"),ki=xi&&Ti,Ki=xi&&on,gn=!window.PointerEvent&&window.MSPointerEvent,Ui=!!(window.PointerEvent||gn),yn="ontouchstart"in window||!!window.TouchEvent,an=!window.L_NO_TOUCH&&(yn||Ui),Tn=xi&&Wi,Dn=xi&&En,Hn=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Mn=function(){var kt=!1;try{var Mt=Object.defineProperty({},"passive",{get:function(){kt=!0}});window.addEventListener("testPassiveEventSupport",Dt,Mt),window.removeEventListener("testPassiveEventSupport",Dt,Mt)}catch{}return kt}(),sr=function(){return!!document.createElement("canvas").getContext}(),jn=!!(document.createElementNS&&Jt("svg").createSVGRect),ir=!!jn&&function(){var kt=document.createElement("div");return kt.innerHTML="<svg/>",(kt.firstChild&&kt.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gr=!jn&&function(){try{var kt=document.createElement("div");kt.innerHTML='<v:shape adj="1"/>';var Mt=kt.firstChild;return Mt.style.behavior="url(#default#VML)",Mt&&typeof Mt.adj=="object"}catch{return!1}}(),nr=navigator.platform.indexOf("Mac")===0,Po=navigator.platform.indexOf("Linux")===0;function Wr(kt){return navigator.userAgent.toLowerCase().indexOf(kt)>=0}var zn={ie:Mi,ielt9:_i,edge:Li,webkit:Ti,android:zi,android23:Hi,androidStock:qi,opera:Wi,chrome:Cn,gecko:En,safari:$n,phantom:Fn,opera12:Rn,win:br,ie3d:Bn,webkit3d:on,gecko3d:li,any3d:ai,mobile:xi,mobileWebkit:ki,mobileWebkit3d:Ki,msPointer:gn,pointer:Ui,touch:an,touchNative:yn,mobileOpera:Tn,mobileGecko:Dn,retina:Hn,passiveEvents:Mn,canvas:sr,svg:jn,vml:gr,inlineSvg:ir,mac:nr,linux:Po},ur=zn.msPointer?"MSPointerDown":"pointerdown",Nr=zn.msPointer?"MSPointerMove":"pointermove",Fr=zn.msPointer?"MSPointerUp":"pointerup",Ir=zn.msPointer?"MSPointerCancel":"pointercancel",sn={touchstart:ur,touchmove:Nr,touchend:Fr,touchcancel:Ir},dn={touchstart:wr,touchmove:_r,touchend:_r,touchcancel:_r},hn={},Ln=!1;function wn(kt,Mt,Vt){return Mt==="touchstart"&&Dr(),dn[Mt]?(Vt=dn[Mt].bind(this,Vt),kt.addEventListener(sn[Mt],Vt,!1),Vt):(console.warn("wrong event specified:",Mt),Dt)}function Yi(kt,Mt,Vt){if(!sn[Mt]){console.warn("wrong event specified:",Mt);return}kt.removeEventListener(sn[Mt],Vt,!1)}function vn(kt){hn[kt.pointerId]=kt}function An(kt){hn[kt.pointerId]&&(hn[kt.pointerId]=kt)}function lr(kt){delete hn[kt.pointerId]}function Dr(){Ln||(document.addEventListener(ur,vn,!0),document.addEventListener(Nr,An,!0),document.addEventListener(Fr,lr,!0),document.addEventListener(Ir,lr,!0),Ln=!0)}function _r(kt,Mt){if(Mt.pointerType!==(Mt.MSPOINTER_TYPE_MOUSE||"mouse")){Mt.touches=[];for(var Vt in hn)Mt.touches.push(hn[Vt]);Mt.changedTouches=[Mt],kt(Mt)}}function wr(kt,Mt){Mt.MSPOINTER_TYPE_TOUCH&&Mt.pointerType===Mt.MSPOINTER_TYPE_TOUCH&&lo(Mt),_r(kt,Mt)}function cr(kt){var Mt={},Vt,Zt;for(Zt in kt)Vt=kt[Zt],Mt[Zt]=Vt&&Vt.bind?Vt.bind(kt):Vt;return kt=Mt,Mt.type="dblclick",Mt.detail=2,Mt.isTrusted=!1,Mt._simulated=!0,Mt}var Rr=200;function Ao(kt,Mt){kt.addEventListener("dblclick",Mt);var Vt=0,Zt;function mi(Ci){if(Ci.detail!==1){Zt=Ci.detail;return}if(!(Ci.pointerType==="mouse"||Ci.sourceCapabilities&&!Ci.sourceCapabilities.firesTouchEvents)){var en=ha(Ci);if(!(en.some(function(mn){return mn instanceof HTMLLabelElement&&mn.attributes.for})&&!en.some(function(mn){return mn instanceof HTMLInputElement||mn instanceof HTMLSelectElement}))){var fn=Date.now();fn-Vt<=Rr?(Zt++,Zt===2&&Mt(cr(Ci))):Zt=1,Vt=fn}}}return kt.addEventListener("click",mi),{dblclick:Mt,simDblclick:mi}}function Yo(kt,Mt){kt.removeEventListener("dblclick",Mt.dblclick),kt.removeEventListener("click",Mt.simDblclick)}var ho=Go(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Qn=Go(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),rr=Qn==="webkitTransition"||Qn==="OTransition"?Qn+"End":"transitionend";function hr(kt){return typeof kt=="string"?document.getElementById(kt):kt}function In(kt,Mt){var Vt=kt.style[Mt]||kt.currentStyle&&kt.currentStyle[Mt];if((!Vt||Vt==="auto")&&document.defaultView){var Zt=document.defaultView.getComputedStyle(kt,null);Vt=Zt?Zt[Mt]:null}return Vt==="auto"?null:Vt}function or(kt,Mt,Vt){var Zt=document.createElement(kt);return Zt.className=Mt||"",Vt&&Vt.appendChild(Zt),Zt}function Zi(kt){var Mt=kt.parentNode;Mt&&Mt.removeChild(kt)}function Bo(kt){for(;kt.firstChild;)kt.removeChild(kt.firstChild)}function cn(kt){var Mt=kt.parentNode;Mt&&Mt.lastChild!==kt&&Mt.appendChild(kt)}function eo(kt){var Mt=kt.parentNode;Mt&&Mt.firstChild!==kt&&Mt.insertBefore(kt,Mt.firstChild)}function ba(kt,Mt){if(kt.classList!==void 0)return kt.classList.contains(Mt);var Vt=Kn(kt);return Vt.length>0&&new RegExp("(^|\\s)"+Mt+"(\\s|$)").test(Vt)}function Tr(kt,Mt){if(kt.classList!==void 0)for(var Vt=Ht(Mt),Zt=0,mi=Vt.length;Zt<mi;Zt++)kt.classList.add(Vt[Zt]);else if(!ba(kt,Mt)){var Ci=Kn(kt);Oa(kt,(Ci?Ci+" ":"")+Mt)}}function Yr(kt,Mt){kt.classList!==void 0?kt.classList.remove(Mt):Oa(kt,Bt((" "+Kn(kt)+" ").replace(" "+Mt+" "," ")))}function Oa(kt,Mt){kt.className.baseVal===void 0?kt.className=Mt:kt.className.baseVal=Mt}function Kn(kt){return kt.correspondingElement&&(kt=kt.correspondingElement),kt.className.baseVal===void 0?kt.className:kt.className.baseVal}function no(kt,Mt){"opacity"in kt.style?kt.style.opacity=Mt:"filter"in kt.style&&bo(kt,Mt)}function bo(kt,Mt){var Vt=!1,Zt="DXImageTransform.Microsoft.Alpha";try{Vt=kt.filters.item(Zt)}catch{if(Mt===1)return}Mt=Math.round(Mt*100),Vt?(Vt.Enabled=Mt!==100,Vt.Opacity=Mt):kt.style.filter+=" progid:"+Zt+"(opacity="+Mt+")"}function Go(kt){for(var Mt=document.documentElement.style,Vt=0;Vt<kt.length;Vt++)if(kt[Vt]in Mt)return kt[Vt];return!1}function Oo(kt,Mt,Vt){var Zt=Mt||new Xi(0,0);kt.style[ho]=(zn.ie3d?"translate("+Zt.x+"px,"+Zt.y+"px)":"translate3d("+Zt.x+"px,"+Zt.y+"px,0)")+(Vt?" scale("+Vt+")":"")}function Gr(kt,Mt){kt._leaflet_pos=Mt,zn.any3d?Oo(kt,Mt):(kt.style.left=Mt.x+"px",kt.style.top=Mt.y+"px")}function qr(kt){return kt._leaflet_pos||new Xi(0,0)}var Or,to,Io;if("onselectstart"in document)Or=function(){$r(window,"selectstart",lo)},to=function(){dr(window,"selectstart",lo)};else{var ao=Go(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Or=function(){if(ao){var kt=document.documentElement.style;Io=kt[ao],kt[ao]="none"}},to=function(){ao&&(document.documentElement.style[ao]=Io,Io=void 0)}}function So(){$r(window,"dragstart",lo)}function Eo(){dr(window,"dragstart",lo)}var ca,ua;function qo(kt){for(;kt.tabIndex===-1;)kt=kt.parentNode;!kt.style||(mo(),ca=kt,ua=kt.style.outline,kt.style.outline="none",$r(window,"keydown",mo))}function mo(){!ca||(ca.style.outline=ua,ca=void 0,ua=void 0,dr(window,"keydown",mo))}function Za(kt){do kt=kt.parentNode;while((!kt.offsetWidth||!kt.offsetHeight)&&kt!==document.body);return kt}function Va(kt){var Mt=kt.getBoundingClientRect();return{x:Mt.width/kt.offsetWidth||1,y:Mt.height/kt.offsetHeight||1,boundingClientRect:Mt}}var ul={__proto__:null,TRANSFORM:ho,TRANSITION:Qn,TRANSITION_END:rr,get:hr,getStyle:In,create:or,remove:Zi,empty:Bo,toFront:cn,toBack:eo,hasClass:ba,addClass:Tr,removeClass:Yr,setClass:Oa,getClass:Kn,setOpacity:no,testProp:Go,setTransform:Oo,setPosition:Gr,getPosition:qr,get disableTextSelection(){return Or},get enableTextSelection(){return to},disableImageDrag:So,enableImageDrag:Eo,preventOutline:qo,restoreOutline:mo,getSizedParentNode:Za,getScale:Va};function $r(kt,Mt,Vt,Zt){if(Mt&&typeof Mt=="object")for(var mi in Mt)Ja(kt,mi,Mt[mi],Vt);else{Mt=Ht(Mt);for(var Ci=0,en=Mt.length;Ci<en;Ci++)Ja(kt,Mt[Ci],Vt,Zt)}return this}var so="_leaflet_events";function dr(kt,Mt,Vt,Zt){if(arguments.length===1)No(kt),delete kt[so];else if(Mt&&typeof Mt=="object")for(var mi in Mt)Qa(kt,mi,Mt[mi],Vt);else if(Mt=Ht(Mt),arguments.length===2)No(kt,function(fn){return Yt(Mt,fn)!==-1});else for(var Ci=0,en=Mt.length;Ci<en;Ci++)Qa(kt,Mt[Ci],Vt,Zt);return this}function No(kt,Mt){for(var Vt in kt[so]){var Zt=Vt.split(/\d/)[0];(!Mt||Mt(Zt))&&Qa(kt,Zt,null,null,Vt)}}var Ka={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ja(kt,Mt,Vt,Zt){var mi=Mt+Et(Vt)+(Zt?"_"+Et(Zt):"");if(kt[so]&&kt[so][mi])return this;var Ci=function(fn){return Vt.call(Zt||kt,fn||window.event)},en=Ci;!zn.touchNative&&zn.pointer&&Mt.indexOf("touch")===0?Ci=wn(kt,Mt,Ci):zn.touch&&Mt==="dblclick"?Ci=Ao(kt,Ci):"addEventListener"in kt?Mt==="touchstart"||Mt==="touchmove"||Mt==="wheel"||Mt==="mousewheel"?kt.addEventListener(Ka[Mt]||Mt,Ci,zn.passiveEvents?{passive:!1}:!1):Mt==="mouseenter"||Mt==="mouseleave"?(Ci=function(fn){fn=fn||window.event,da(kt,fn)&&en(fn)},kt.addEventListener(Ka[Mt],Ci,!1)):kt.addEventListener(Mt,en,!1):kt.attachEvent("on"+Mt,Ci),kt[so]=kt[so]||{},kt[so][mi]=Ci}function Qa(kt,Mt,Vt,Zt,mi){mi=mi||Mt+Et(Vt)+(Zt?"_"+Et(Zt):"");var Ci=kt[so]&&kt[so][mi];if(!Ci)return this;!zn.touchNative&&zn.pointer&&Mt.indexOf("touch")===0?Yi(kt,Mt,Ci):zn.touch&&Mt==="dblclick"?Yo(kt,Ci):"removeEventListener"in kt?kt.removeEventListener(Ka[Mt]||Mt,Ci,!1):kt.detachEvent("on"+Mt,Ci),kt[so][mi]=null}function wa(kt){return kt.stopPropagation?kt.stopPropagation():kt.originalEvent?kt.originalEvent._stopped=!0:kt.cancelBubble=!0,this}function La(kt){return Ja(kt,"wheel",wa),this}function Fo(kt){return $r(kt,"mousedown touchstart dblclick contextmenu",wa),kt._leaflet_disable_click=!0,this}function lo(kt){return kt.preventDefault?kt.preventDefault():kt.returnValue=!1,this}function ea(kt){return lo(kt),wa(kt),this}function ha(kt){if(kt.composedPath)return kt.composedPath();for(var Mt=[],Vt=kt.target;Vt;)Mt.push(Vt),Vt=Vt.parentNode;return Mt}function ps(kt,Mt){if(!Mt)return new Xi(kt.clientX,kt.clientY);var Vt=Va(Mt),Zt=Vt.boundingClientRect;return new Xi((kt.clientX-Zt.left)/Vt.x-Mt.clientLeft,(kt.clientY-Zt.top)/Vt.y-Mt.clientTop)}var Is=zn.linux&&zn.chrome?window.devicePixelRatio:zn.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function es(kt){return zn.edge?kt.wheelDeltaY/2:kt.deltaY&&kt.deltaMode===0?-kt.deltaY/Is:kt.deltaY&&kt.deltaMode===1?-kt.deltaY*20:kt.deltaY&&kt.deltaMode===2?-kt.deltaY*60:kt.deltaX||kt.deltaZ?0:kt.wheelDelta?(kt.wheelDeltaY||kt.wheelDelta)/2:kt.detail&&Math.abs(kt.detail)<32765?-kt.detail*20:kt.detail?kt.detail/-32765*60:0}function da(kt,Mt){var Vt=Mt.relatedTarget;if(!Vt)return!0;try{for(;Vt&&Vt!==kt;)Vt=Vt.parentNode}catch{return!1}return Vt!==kt}var _o={__proto__:null,on:$r,off:dr,stopPropagation:wa,disableScrollPropagation:La,disableClickPropagation:Fo,preventDefault:lo,stop:ea,getPropagationPath:ha,getMousePosition:ps,getWheelDelta:es,isExternalTarget:da,addListener:$r,removeListener:dr},ts=Fi.extend({run:function(kt,Mt,Vt,Zt){this.stop(),this._el=kt,this._inProgress=!0,this._duration=Vt||.25,this._easeOutPower=1/Math.max(Zt||.5,.2),this._startPos=qr(kt),this._offset=Mt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=hi(this._animate,this),this._step()},_step:function(kt){var Mt=+new Date-this._startTime,Vt=this._duration*1e3;Mt<Vt?this._runFrame(this._easeOut(Mt/Vt),kt):(this._runFrame(1),this._complete())},_runFrame:function(kt,Mt){var Vt=this._startPos.add(this._offset.multiplyBy(kt));Mt&&Vt._round(),Gr(this._el,Vt),this.fire("step")},_complete:function(){ei(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(kt){return 1-Math.pow(1-kt,this._easeOutPower)}}),Pr=Fi.extend({options:{crs:Nt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(kt,Mt){Mt=Ut(this,Mt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(kt),this._initLayout(),this._onResize=_t(this._onResize,this),this._initEvents(),Mt.maxBounds&&this.setMaxBounds(Mt.maxBounds),Mt.zoom!==void 0&&(this._zoom=this._limitZoom(Mt.zoom)),Mt.center&&Mt.zoom!==void 0&&this.setView(Pi(Mt.center),Mt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Qn&&zn.any3d&&!zn.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),$r(this._proxy,rr,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(kt,Mt,Vt){if(Mt=Mt===void 0?this._zoom:this._limitZoom(Mt),kt=this._limitCenter(Pi(kt),Mt,this.options.maxBounds),Vt=Vt||{},this._stop(),this._loaded&&!Vt.reset&&Vt!==!0){Vt.animate!==void 0&&(Vt.zoom=vt({animate:Vt.animate},Vt.zoom),Vt.pan=vt({animate:Vt.animate,duration:Vt.duration},Vt.pan));var Zt=this._zoom!==Mt?this._tryAnimatedZoom&&this._tryAnimatedZoom(kt,Mt,Vt.zoom):this._tryAnimatedPan(kt,Vt.pan);if(Zt)return clearTimeout(this._sizeTimer),this}return this._resetView(kt,Mt,Vt.pan&&Vt.pan.noMoveStart),this},setZoom:function(kt,Mt){return this._loaded?this.setView(this.getCenter(),kt,{zoom:Mt}):(this._zoom=kt,this)},zoomIn:function(kt,Mt){return kt=kt||(zn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+kt,Mt)},zoomOut:function(kt,Mt){return kt=kt||(zn.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-kt,Mt)},setZoomAround:function(kt,Mt,Vt){var Zt=this.getZoomScale(Mt),mi=this.getSize().divideBy(2),Ci=kt instanceof Xi?kt:this.latLngToContainerPoint(kt),en=Ci.subtract(mi).multiplyBy(1-1/Zt),fn=this.containerPointToLatLng(mi.add(en));return this.setView(fn,Mt,{zoom:Vt})},_getBoundsCenterZoom:function(kt,Mt){Mt=Mt||{},kt=kt.getBounds?kt.getBounds():Qi(kt);var Vt=Ai(Mt.paddingTopLeft||Mt.padding||[0,0]),Zt=Ai(Mt.paddingBottomRight||Mt.padding||[0,0]),mi=this.getBoundsZoom(kt,!1,Vt.add(Zt));if(mi=typeof Mt.maxZoom=="number"?Math.min(Mt.maxZoom,mi):mi,mi===1/0)return{center:kt.getCenter(),zoom:mi};var Ci=Zt.subtract(Vt).divideBy(2),en=this.project(kt.getSouthWest(),mi),fn=this.project(kt.getNorthEast(),mi),mn=this.unproject(en.add(fn).divideBy(2).add(Ci),mi);return{center:mn,zoom:mi}},fitBounds:function(kt,Mt){if(kt=Qi(kt),!kt.isValid())throw new Error("Bounds are not valid.");var Vt=this._getBoundsCenterZoom(kt,Mt);return this.setView(Vt.center,Vt.zoom,Mt)},fitWorld:function(kt){return this.fitBounds([[-90,-180],[90,180]],kt)},panTo:function(kt,Mt){return this.setView(kt,this._zoom,{pan:Mt})},panBy:function(kt,Mt){if(kt=Ai(kt).round(),Mt=Mt||{},!kt.x&&!kt.y)return this.fire("moveend");if(Mt.animate!==!0&&!this.getSize().contains(kt))return this._resetView(this.unproject(this.project(this.getCenter()).add(kt)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new ts,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Mt.noMoveStart||this.fire("movestart"),Mt.animate!==!1){Tr(this._mapPane,"leaflet-pan-anim");var Vt=this._getMapPanePos().subtract(kt).round();this._panAnim.run(this._mapPane,Vt,Mt.duration||.25,Mt.easeLinearity)}else this._rawPanBy(kt),this.fire("move").fire("moveend");return this},flyTo:function(kt,Mt,Vt){if(Vt=Vt||{},Vt.animate===!1||!zn.any3d)return this.setView(kt,Mt,Vt);this._stop();var Zt=this.project(this.getCenter()),mi=this.project(kt),Ci=this.getSize(),en=this._zoom;kt=Pi(kt),Mt=Mt===void 0?en:Mt;var fn=Math.max(Ci.x,Ci.y),mn=fn*this.getZoomScale(en,Mt),On=mi.distanceTo(Zt)||1,er=1.42,kr=er*er;function Br(co){var qs=co?-1:1,wu=co?mn:fn,xu=mn*mn-fn*fn+qs*kr*kr*On*On,Su=2*wu*kr*On,Cs=xu/Su,xl=Math.sqrt(Cs*Cs+1)-Cs,uc=xl<1e-9?-18:Math.log(xl);return uc}function Ko(co){return(Math.exp(co)-Math.exp(-co))/2}function ja(co){return(Math.exp(co)+Math.exp(-co))/2}function ls(co){return Ko(co)/ja(co)}var Ba=Br(0);function wl(co){return fn*(ja(Ba)/ja(Ba+er*co))}function sc(co){return fn*(ja(Ba)*ls(Ba+er*co)-Ko(Ba))/kr}function _u(co){return 1-Math.pow(1-co,1.5)}var lc=Date.now(),Wa=(Br(1)-Ba)/er,cs=Vt.duration?1e3*Vt.duration:1e3*Wa*.8;function cc(){var co=(Date.now()-lc)/cs,qs=_u(co)*Wa;co<=1?(this._flyToFrame=hi(cc,this),this._move(this.unproject(Zt.add(mi.subtract(Zt).multiplyBy(sc(qs)/On)),en),this.getScaleZoom(fn/wl(qs),en),{flyTo:!0})):this._move(kt,Mt)._moveEnd(!0)}return this._moveStart(!0,Vt.noMoveStart),cc.call(this),this},flyToBounds:function(kt,Mt){var Vt=this._getBoundsCenterZoom(kt,Mt);return this.flyTo(Vt.center,Vt.zoom,Mt)},setMaxBounds:function(kt){return kt=Qi(kt),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),kt.isValid()?(this.options.maxBounds=kt,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(kt){var Mt=this.options.minZoom;return this.options.minZoom=kt,this._loaded&&Mt!==kt&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(kt):this},setMaxZoom:function(kt){var Mt=this.options.maxZoom;return this.options.maxZoom=kt,this._loaded&&Mt!==kt&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(kt):this},panInsideBounds:function(kt,Mt){this._enforcingBounds=!0;var Vt=this.getCenter(),Zt=this._limitCenter(Vt,this._zoom,Qi(kt));return Vt.equals(Zt)||this.panTo(Zt,Mt),this._enforcingBounds=!1,this},panInside:function(kt,Mt){Mt=Mt||{};var Vt=Ai(Mt.paddingTopLeft||Mt.padding||[0,0]),Zt=Ai(Mt.paddingBottomRight||Mt.padding||[0,0]),mi=this.project(this.getCenter()),Ci=this.project(kt),en=this.getPixelBounds(),fn=Ri([en.min.add(Vt),en.max.subtract(Zt)]),mn=fn.getSize();if(!fn.contains(Ci)){this._enforcingBounds=!0;var On=Ci.subtract(fn.getCenter()),er=fn.extend(Ci).getSize().subtract(mn);mi.x+=On.x<0?-er.x:er.x,mi.y+=On.y<0?-er.y:er.y,this.panTo(this.unproject(mi),Mt),this._enforcingBounds=!1}return this},invalidateSize:function(kt){if(!this._loaded)return this;kt=vt({animate:!1,pan:!0},kt===!0?{animate:!0}:kt);var Mt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var Vt=this.getSize(),Zt=Mt.divideBy(2).round(),mi=Vt.divideBy(2).round(),Ci=Zt.subtract(mi);return!Ci.x&&!Ci.y?this:(kt.animate&&kt.pan?this.panBy(Ci):(kt.pan&&this._rawPanBy(Ci),this.fire("move"),kt.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(_t(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Mt,newSize:Vt}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(kt){if(kt=this._locateOptions=vt({timeout:1e4,watch:!1},kt),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Mt=_t(this._handleGeolocationResponse,this),Vt=_t(this._handleGeolocationError,this);return kt.watch?this._locationWatchId=navigator.geolocation.watchPosition(Mt,Vt,kt):navigator.geolocation.getCurrentPosition(Mt,Vt,kt),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(kt){if(!!this._container._leaflet_id){var Mt=kt.code,Vt=kt.message||(Mt===1?"permission denied":Mt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Mt,message:"Geolocation error: "+Vt+"."})}},_handleGeolocationResponse:function(kt){if(!!this._container._leaflet_id){var Mt=kt.coords.latitude,Vt=kt.coords.longitude,Zt=new rn(Mt,Vt),mi=Zt.toBounds(kt.coords.accuracy*2),Ci=this._locateOptions;if(Ci.setView){var en=this.getBoundsZoom(mi);this.setView(Zt,Ci.maxZoom?Math.min(en,Ci.maxZoom):en)}var fn={latlng:Zt,bounds:mi,timestamp:kt.timestamp};for(var mn in kt.coords)typeof kt.coords[mn]=="number"&&(fn[mn]=kt.coords[mn]);this.fire("locationfound",fn)}},addHandler:function(kt,Mt){if(!Mt)return this;var Vt=this[kt]=new Mt(this);return this._handlers.push(Vt),this.options[kt]&&Vt.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Zi(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ei(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var kt;for(kt in this._layers)this._layers[kt].remove();for(kt in this._panes)Zi(this._panes[kt]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(kt,Mt){var Vt="leaflet-pane"+(kt?" leaflet-"+kt.replace("Pane","")+"-pane":""),Zt=or("div",Vt,Mt||this._mapPane);return kt&&(this._panes[kt]=Zt),Zt},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var kt=this.getPixelBounds(),Mt=this.unproject(kt.getBottomLeft()),Vt=this.unproject(kt.getTopRight());return new Vi(Mt,Vt)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(kt,Mt,Vt){kt=Qi(kt),Vt=Ai(Vt||[0,0]);var Zt=this.getZoom()||0,mi=this.getMinZoom(),Ci=this.getMaxZoom(),en=kt.getNorthWest(),fn=kt.getSouthEast(),mn=this.getSize().subtract(Vt),On=Ri(this.project(fn,Zt),this.project(en,Zt)).getSize(),er=zn.any3d?this.options.zoomSnap:1,kr=mn.x/On.x,Br=mn.y/On.y,Ko=Mt?Math.max(kr,Br):Math.min(kr,Br);return Zt=this.getScaleZoom(Ko,Zt),er&&(Zt=Math.round(Zt/(er/100))*(er/100),Zt=Mt?Math.ceil(Zt/er)*er:Math.floor(Zt/er)*er),Math.max(mi,Math.min(Ci,Zt))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new Xi(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(kt,Mt){var Vt=this._getTopLeftPoint(kt,Mt);return new ji(Vt,Vt.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(kt){return this.options.crs.getProjectedBounds(kt===void 0?this.getZoom():kt)},getPane:function(kt){return typeof kt=="string"?this._panes[kt]:kt},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(kt,Mt){var Vt=this.options.crs;return Mt=Mt===void 0?this._zoom:Mt,Vt.scale(kt)/Vt.scale(Mt)},getScaleZoom:function(kt,Mt){var Vt=this.options.crs;Mt=Mt===void 0?this._zoom:Mt;var Zt=Vt.zoom(kt*Vt.scale(Mt));return isNaN(Zt)?1/0:Zt},project:function(kt,Mt){return Mt=Mt===void 0?this._zoom:Mt,this.options.crs.latLngToPoint(Pi(kt),Mt)},unproject:function(kt,Mt){return Mt=Mt===void 0?this._zoom:Mt,this.options.crs.pointToLatLng(Ai(kt),Mt)},layerPointToLatLng:function(kt){var Mt=Ai(kt).add(this.getPixelOrigin());return this.unproject(Mt)},latLngToLayerPoint:function(kt){var Mt=this.project(Pi(kt))._round();return Mt._subtract(this.getPixelOrigin())},wrapLatLng:function(kt){return this.options.crs.wrapLatLng(Pi(kt))},wrapLatLngBounds:function(kt){return this.options.crs.wrapLatLngBounds(Qi(kt))},distance:function(kt,Mt){return this.options.crs.distance(Pi(kt),Pi(Mt))},containerPointToLayerPoint:function(kt){return Ai(kt).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(kt){return Ai(kt).add(this._getMapPanePos())},containerPointToLatLng:function(kt){var Mt=this.containerPointToLayerPoint(Ai(kt));return this.layerPointToLatLng(Mt)},latLngToContainerPoint:function(kt){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Pi(kt)))},mouseEventToContainerPoint:function(kt){return ps(kt,this._container)},mouseEventToLayerPoint:function(kt){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(kt))},mouseEventToLatLng:function(kt){return this.layerPointToLatLng(this.mouseEventToLayerPoint(kt))},_initContainer:function(kt){var Mt=this._container=hr(kt);if(Mt){if(Mt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");$r(Mt,"scroll",this._onScroll,this),this._containerId=Et(Mt)},_initLayout:function(){var kt=this._container;this._fadeAnimated=this.options.fadeAnimation&&zn.any3d,Tr(kt,"leaflet-container"+(zn.touch?" leaflet-touch":"")+(zn.retina?" leaflet-retina":"")+(zn.ielt9?" leaflet-oldie":"")+(zn.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Mt=In(kt,"position");Mt!=="absolute"&&Mt!=="relative"&&Mt!=="fixed"&&Mt!=="sticky"&&(kt.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var kt=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Gr(this._mapPane,new Xi(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Tr(kt.markerPane,"leaflet-zoom-hide"),Tr(kt.shadowPane,"leaflet-zoom-hide"))},_resetView:function(kt,Mt,Vt){Gr(this._mapPane,new Xi(0,0));var Zt=!this._loaded;this._loaded=!0,Mt=this._limitZoom(Mt),this.fire("viewprereset");var mi=this._zoom!==Mt;this._moveStart(mi,Vt)._move(kt,Mt)._moveEnd(mi),this.fire("viewreset"),Zt&&this.fire("load")},_moveStart:function(kt,Mt){return kt&&this.fire("zoomstart"),Mt||this.fire("movestart"),this},_move:function(kt,Mt,Vt,Zt){Mt===void 0&&(Mt=this._zoom);var mi=this._zoom!==Mt;return this._zoom=Mt,this._lastCenter=kt,this._pixelOrigin=this._getNewPixelOrigin(kt),Zt?Vt&&Vt.pinch&&this.fire("zoom",Vt):((mi||Vt&&Vt.pinch)&&this.fire("zoom",Vt),this.fire("move",Vt)),this},_moveEnd:function(kt){return kt&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ei(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(kt){Gr(this._mapPane,this._getMapPanePos().subtract(kt))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(kt){this._targets={},this._targets[Et(this._container)]=this;var Mt=kt?dr:$r;Mt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Mt(window,"resize",this._onResize,this),zn.any3d&&this.options.transform3DLimit&&(kt?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ei(this._resizeRequest),this._resizeRequest=hi(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var kt=this._getMapPanePos();Math.max(Math.abs(kt.x),Math.abs(kt.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(kt,Mt){for(var Vt=[],Zt,mi=Mt==="mouseout"||Mt==="mouseover",Ci=kt.target||kt.srcElement,en=!1;Ci;){if(Zt=this._targets[Et(Ci)],Zt&&(Mt==="click"||Mt==="preclick")&&this._draggableMoved(Zt)){en=!0;break}if(Zt&&Zt.listens(Mt,!0)&&(mi&&!da(Ci,kt)||(Vt.push(Zt),mi))||Ci===this._container)break;Ci=Ci.parentNode}return!Vt.length&&!en&&!mi&&this.listens(Mt,!0)&&(Vt=[this]),Vt},_isClickDisabled:function(kt){for(;kt&&kt!==this._container;){if(kt._leaflet_disable_click)return!0;kt=kt.parentNode}},_handleDOMEvent:function(kt){var Mt=kt.target||kt.srcElement;if(!(!this._loaded||Mt._leaflet_disable_events||kt.type==="click"&&this._isClickDisabled(Mt))){var Vt=kt.type;Vt==="mousedown"&&qo(Mt),this._fireDOMEvent(kt,Vt)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(kt,Mt,Vt){if(kt.type==="click"){var Zt=vt({},kt);Zt.type="preclick",this._fireDOMEvent(Zt,Zt.type,Vt)}var mi=this._findEventTargets(kt,Mt);if(Vt){for(var Ci=[],en=0;en<Vt.length;en++)Vt[en].listens(Mt,!0)&&Ci.push(Vt[en]);mi=Ci.concat(mi)}if(!!mi.length){Mt==="contextmenu"&&lo(kt);var fn=mi[0],mn={originalEvent:kt};if(kt.type!=="keypress"&&kt.type!=="keydown"&&kt.type!=="keyup"){var On=fn.getLatLng&&(!fn._radius||fn._radius<=10);mn.containerPoint=On?this.latLngToContainerPoint(fn.getLatLng()):this.mouseEventToContainerPoint(kt),mn.layerPoint=this.containerPointToLayerPoint(mn.containerPoint),mn.latlng=On?fn.getLatLng():this.layerPointToLatLng(mn.layerPoint)}for(en=0;en<mi.length;en++)if(mi[en].fire(Mt,mn,!0),mn.originalEvent._stopped||mi[en].options.bubblingMouseEvents===!1&&Yt(this._mouseEvents,Mt)!==-1)return}},_draggableMoved:function(kt){return kt=kt.dragging&&kt.dragging.enabled()?kt:this,kt.dragging&&kt.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var kt=0,Mt=this._handlers.length;kt<Mt;kt++)this._handlers[kt].disable()},whenReady:function(kt,Mt){return this._loaded?kt.call(Mt||this,{target:this}):this.on("load",kt,Mt),this},_getMapPanePos:function(){return qr(this._mapPane)||new Xi(0,0)},_moved:function(){var kt=this._getMapPanePos();return kt&&!kt.equals([0,0])},_getTopLeftPoint:function(kt,Mt){var Vt=kt&&Mt!==void 0?this._getNewPixelOrigin(kt,Mt):this.getPixelOrigin();return Vt.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(kt,Mt){var Vt=this.getSize()._divideBy(2);return this.project(kt,Mt)._subtract(Vt)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(kt,Mt,Vt){var Zt=this._getNewPixelOrigin(Vt,Mt);return this.project(kt,Mt)._subtract(Zt)},_latLngBoundsToNewLayerBounds:function(kt,Mt,Vt){var Zt=this._getNewPixelOrigin(Vt,Mt);return Ri([this.project(kt.getSouthWest(),Mt)._subtract(Zt),this.project(kt.getNorthWest(),Mt)._subtract(Zt),this.project(kt.getSouthEast(),Mt)._subtract(Zt),this.project(kt.getNorthEast(),Mt)._subtract(Zt)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(kt){return this.latLngToLayerPoint(kt).subtract(this._getCenterLayerPoint())},_limitCenter:function(kt,Mt,Vt){if(!Vt)return kt;var Zt=this.project(kt,Mt),mi=this.getSize().divideBy(2),Ci=new ji(Zt.subtract(mi),Zt.add(mi)),en=this._getBoundsOffset(Ci,Vt,Mt);return Math.abs(en.x)<=1&&Math.abs(en.y)<=1?kt:this.unproject(Zt.add(en),Mt)},_limitOffset:function(kt,Mt){if(!Mt)return kt;var Vt=this.getPixelBounds(),Zt=new ji(Vt.min.add(kt),Vt.max.add(kt));return kt.add(this._getBoundsOffset(Zt,Mt))},_getBoundsOffset:function(kt,Mt,Vt){var Zt=Ri(this.project(Mt.getNorthEast(),Vt),this.project(Mt.getSouthWest(),Vt)),mi=Zt.min.subtract(kt.min),Ci=Zt.max.subtract(kt.max),en=this._rebound(mi.x,-Ci.x),fn=this._rebound(mi.y,-Ci.y);return new Xi(en,fn)},_rebound:function(kt,Mt){return kt+Mt>0?Math.round(kt-Mt)/2:Math.max(0,Math.ceil(kt))-Math.max(0,Math.floor(Mt))},_limitZoom:function(kt){var Mt=this.getMinZoom(),Vt=this.getMaxZoom(),Zt=zn.any3d?this.options.zoomSnap:1;return Zt&&(kt=Math.round(kt/Zt)*Zt),Math.max(Mt,Math.min(Vt,kt))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Yr(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(kt,Mt){var Vt=this._getCenterOffset(kt)._trunc();return(Mt&&Mt.animate)!==!0&&!this.getSize().contains(Vt)?!1:(this.panBy(Vt,Mt),!0)},_createAnimProxy:function(){var kt=this._proxy=or("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(kt),this.on("zoomanim",function(Mt){var Vt=ho,Zt=this._proxy.style[Vt];Oo(this._proxy,this.project(Mt.center,Mt.zoom),this.getZoomScale(Mt.zoom,1)),Zt===this._proxy.style[Vt]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Zi(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var kt=this.getCenter(),Mt=this.getZoom();Oo(this._proxy,this.project(kt,Mt),this.getZoomScale(Mt,1))},_catchTransitionEnd:function(kt){this._animatingZoom&&kt.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(kt,Mt,Vt){if(this._animatingZoom)return!0;if(Vt=Vt||{},!this._zoomAnimated||Vt.animate===!1||this._nothingToAnimate()||Math.abs(Mt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Zt=this.getZoomScale(Mt),mi=this._getCenterOffset(kt)._divideBy(1-1/Zt);return Vt.animate!==!0&&!this.getSize().contains(mi)?!1:(hi(function(){this._moveStart(!0,!1)._animateZoom(kt,Mt,!0)},this),!0)},_animateZoom:function(kt,Mt,Vt,Zt){!this._mapPane||(Vt&&(this._animatingZoom=!0,this._animateToCenter=kt,this._animateToZoom=Mt,Tr(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:kt,zoom:Mt,noUpdate:Zt}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(_t(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&Yr(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function xa(kt,Mt){return new Pr(kt,Mt)}var fo=Kt.extend({options:{position:"topright"},initialize:function(kt){Ut(this,kt)},getPosition:function(){return this.options.position},setPosition:function(kt){var Mt=this._map;return Mt&&Mt.removeControl(this),this.options.position=kt,Mt&&Mt.addControl(this),this},getContainer:function(){return this._container},addTo:function(kt){this.remove(),this._map=kt;var Mt=this._container=this.onAdd(kt),Vt=this.getPosition(),Zt=kt._controlCorners[Vt];return Tr(Mt,"leaflet-control"),Vt.indexOf("bottom")!==-1?Zt.insertBefore(Mt,Zt.firstChild):Zt.appendChild(Mt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Zi(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(kt){this._map&&kt&&kt.screenX>0&&kt.screenY>0&&this._map.getContainer().focus()}}),Da=function(kt){return new fo(kt)};Pr.include({addControl:function(kt){return kt.addTo(this),this},removeControl:function(kt){return kt.remove(),this},_initControlPos:function(){var kt=this._controlCorners={},Mt="leaflet-",Vt=this._controlContainer=or("div",Mt+"control-container",this._container);function Zt(mi,Ci){var en=Mt+mi+" "+Mt+Ci;kt[mi+Ci]=or("div",en,Vt)}Zt("top","left"),Zt("top","right"),Zt("bottom","left"),Zt("bottom","right")},_clearControlPos:function(){for(var kt in this._controlCorners)Zi(this._controlCorners[kt]);Zi(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var is=fo.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(kt,Mt,Vt,Zt){return Vt<Zt?-1:Zt<Vt?1:0}},initialize:function(kt,Mt,Vt){Ut(this,Vt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var Zt in kt)this._addLayer(kt[Zt],Zt);for(Zt in Mt)this._addLayer(Mt[Zt],Zt,!0)},onAdd:function(kt){this._initLayout(),this._update(),this._map=kt,kt.on("zoomend",this._checkDisabledLayers,this);for(var Mt=0;Mt<this._layers.length;Mt++)this._layers[Mt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(kt){return fo.prototype.addTo.call(this,kt),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var kt=0;kt<this._layers.length;kt++)this._layers[kt].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(kt,Mt){return this._addLayer(kt,Mt),this._map?this._update():this},addOverlay:function(kt,Mt){return this._addLayer(kt,Mt,!0),this._map?this._update():this},removeLayer:function(kt){kt.off("add remove",this._onLayerChange,this);var Mt=this._getLayer(Et(kt));return Mt&&this._layers.splice(this._layers.indexOf(Mt),1),this._map?this._update():this},expand:function(){Tr(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var kt=this._map.getSize().y-(this._container.offsetTop+50);return kt<this._section.clientHeight?(Tr(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=kt+"px"):Yr(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Yr(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var kt="leaflet-control-layers",Mt=this._container=or("div",kt),Vt=this.options.collapsed;Mt.setAttribute("aria-haspopup",!0),Fo(Mt),La(Mt);var Zt=this._section=or("section",kt+"-list");Vt&&(this._map.on("click",this.collapse,this),$r(Mt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var mi=this._layersLink=or("a",kt+"-toggle",Mt);mi.href="#",mi.title="Layers",mi.setAttribute("role","button"),$r(mi,{keydown:function(Ci){Ci.keyCode===13&&this._expandSafely()},click:function(Ci){lo(Ci),this._expandSafely()}},this),Vt||this.expand(),this._baseLayersList=or("div",kt+"-base",Zt),this._separator=or("div",kt+"-separator",Zt),this._overlaysList=or("div",kt+"-overlays",Zt),Mt.appendChild(Zt)},_getLayer:function(kt){for(var Mt=0;Mt<this._layers.length;Mt++)if(this._layers[Mt]&&Et(this._layers[Mt].layer)===kt)return this._layers[Mt]},_addLayer:function(kt,Mt,Vt){this._map&&kt.on("add remove",this._onLayerChange,this),this._layers.push({layer:kt,name:Mt,overlay:Vt}),this.options.sortLayers&&this._layers.sort(_t(function(Zt,mi){return this.options.sortFunction(Zt.layer,mi.layer,Zt.name,mi.name)},this)),this.options.autoZIndex&&kt.setZIndex&&(this._lastZIndex++,kt.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Bo(this._baseLayersList),Bo(this._overlaysList),this._layerControlInputs=[];var kt,Mt,Vt,Zt,mi=0;for(Vt=0;Vt<this._layers.length;Vt++)Zt=this._layers[Vt],this._addItem(Zt),Mt=Mt||Zt.overlay,kt=kt||!Zt.overlay,mi+=Zt.overlay?0:1;return this.options.hideSingleBase&&(kt=kt&&mi>1,this._baseLayersList.style.display=kt?"":"none"),this._separator.style.display=Mt&&kt?"":"none",this},_onLayerChange:function(kt){this._handlingClick||this._update();var Mt=this._getLayer(Et(kt.target)),Vt=Mt.overlay?kt.type==="add"?"overlayadd":"overlayremove":kt.type==="add"?"baselayerchange":null;Vt&&this._map.fire(Vt,Mt)},_createRadioElement:function(kt,Mt){var Vt='<input type="radio" class="leaflet-control-layers-selector" name="'+kt+'"'+(Mt?' checked="checked"':"")+"/>",Zt=document.createElement("div");return Zt.innerHTML=Vt,Zt.firstChild},_addItem:function(kt){var Mt=document.createElement("label"),Vt=this._map.hasLayer(kt.layer),Zt;kt.overlay?(Zt=document.createElement("input"),Zt.type="checkbox",Zt.className="leaflet-control-layers-selector",Zt.defaultChecked=Vt):Zt=this._createRadioElement("leaflet-base-layers_"+Et(this),Vt),this._layerControlInputs.push(Zt),Zt.layerId=Et(kt.layer),$r(Zt,"click",this._onInputClick,this);var mi=document.createElement("span");mi.innerHTML=" "+kt.name;var Ci=document.createElement("span");Mt.appendChild(Ci),Ci.appendChild(Zt),Ci.appendChild(mi);var en=kt.overlay?this._overlaysList:this._baseLayersList;return en.appendChild(Mt),this._checkDisabledLayers(),Mt},_onInputClick:function(){var kt=this._layerControlInputs,Mt,Vt,Zt=[],mi=[];this._handlingClick=!0;for(var Ci=kt.length-1;Ci>=0;Ci--)Mt=kt[Ci],Vt=this._getLayer(Mt.layerId).layer,Mt.checked?Zt.push(Vt):Mt.checked||mi.push(Vt);for(Ci=0;Ci<mi.length;Ci++)this._map.hasLayer(mi[Ci])&&this._map.removeLayer(mi[Ci]);for(Ci=0;Ci<Zt.length;Ci++)this._map.hasLayer(Zt[Ci])||this._map.addLayer(Zt[Ci]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var kt=this._layerControlInputs,Mt,Vt,Zt=this._map.getZoom(),mi=kt.length-1;mi>=0;mi--)Mt=kt[mi],Vt=this._getLayer(Mt.layerId).layer,Mt.disabled=Vt.options.minZoom!==void 0&&Zt<Vt.options.minZoom||Vt.options.maxZoom!==void 0&&Zt>Vt.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var kt=this._section;$r(kt,"click",lo),this.expand(),setTimeout(function(){dr(kt,"click",lo)})}}),Sa=function(kt,Mt,Vt){return new is(kt,Mt,Vt)},Ua=fo.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(kt){var Mt="leaflet-control-zoom",Vt=or("div",Mt+" leaflet-bar"),Zt=this.options;return this._zoomInButton=this._createButton(Zt.zoomInText,Zt.zoomInTitle,Mt+"-in",Vt,this._zoomIn),this._zoomOutButton=this._createButton(Zt.zoomOutText,Zt.zoomOutTitle,Mt+"-out",Vt,this._zoomOut),this._updateDisabled(),kt.on("zoomend zoomlevelschange",this._updateDisabled,this),Vt},onRemove:function(kt){kt.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(kt){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(kt.shiftKey?3:1))},_zoomOut:function(kt){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(kt.shiftKey?3:1))},_createButton:function(kt,Mt,Vt,Zt,mi){var Ci=or("a",Vt,Zt);return Ci.innerHTML=kt,Ci.href="#",Ci.title=Mt,Ci.setAttribute("role","button"),Ci.setAttribute("aria-label",Mt),Fo(Ci),$r(Ci,"click",ea),$r(Ci,"click",mi,this),$r(Ci,"click",this._refocusOnMap,this),Ci},_updateDisabled:function(){var kt=this._map,Mt="leaflet-disabled";Yr(this._zoomInButton,Mt),Yr(this._zoomOutButton,Mt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||kt._zoom===kt.getMinZoom())&&(Tr(this._zoomOutButton,Mt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||kt._zoom===kt.getMaxZoom())&&(Tr(this._zoomInButton,Mt),this._zoomInButton.setAttribute("aria-disabled","true"))}});Pr.mergeOptions({zoomControl:!0}),Pr.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ua,this.addControl(this.zoomControl))});var gs=function(kt){return new Ua(kt)},Xo=fo.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(kt){var Mt="leaflet-control-scale",Vt=or("div",Mt),Zt=this.options;return this._addScales(Zt,Mt+"-line",Vt),kt.on(Zt.updateWhenIdle?"moveend":"move",this._update,this),kt.whenReady(this._update,this),Vt},onRemove:function(kt){kt.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(kt,Mt,Vt){kt.metric&&(this._mScale=or("div",Mt,Vt)),kt.imperial&&(this._iScale=or("div",Mt,Vt))},_update:function(){var kt=this._map,Mt=kt.getSize().y/2,Vt=kt.distance(kt.containerPointToLatLng([0,Mt]),kt.containerPointToLatLng([this.options.maxWidth,Mt]));this._updateScales(Vt)},_updateScales:function(kt){this.options.metric&&kt&&this._updateMetric(kt),this.options.imperial&&kt&&this._updateImperial(kt)},_updateMetric:function(kt){var Mt=this._getRoundNum(kt),Vt=Mt<1e3?Mt+" m":Mt/1e3+" km";this._updateScale(this._mScale,Vt,Mt/kt)},_updateImperial:function(kt){var Mt=kt*3.2808399,Vt,Zt,mi;Mt>5280?(Vt=Mt/5280,Zt=this._getRoundNum(Vt),this._updateScale(this._iScale,Zt+" mi",Zt/Vt)):(mi=this._getRoundNum(Mt),this._updateScale(this._iScale,mi+" ft",mi/Mt))},_updateScale:function(kt,Mt,Vt){kt.style.width=Math.round(this.options.maxWidth*Vt)+"px",kt.innerHTML=Mt},_getRoundNum:function(kt){var Mt=Math.pow(10,(Math.floor(kt)+"").length-1),Vt=kt/Mt;return Vt=Vt>=10?10:Vt>=5?5:Vt>=3?3:Vt>=2?2:1,Mt*Vt}}),Ns=function(kt){return new Xo(kt)},Fs='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ns=fo.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(zn.inlineSvg?Fs+" ":"")+"Leaflet</a>"},initialize:function(kt){Ut(this,kt),this._attributions={}},onAdd:function(kt){kt.attributionControl=this,this._container=or("div","leaflet-control-attribution"),Fo(this._container);for(var Mt in kt._layers)kt._layers[Mt].getAttribution&&this.addAttribution(kt._layers[Mt].getAttribution());return this._update(),kt.on("layeradd",this._addAttribution,this),this._container},onRemove:function(kt){kt.off("layeradd",this._addAttribution,this)},_addAttribution:function(kt){kt.layer.getAttribution&&(this.addAttribution(kt.layer.getAttribution()),kt.layer.once("remove",function(){this.removeAttribution(kt.layer.getAttribution())},this))},setPrefix:function(kt){return this.options.prefix=kt,this._update(),this},addAttribution:function(kt){return kt?(this._attributions[kt]||(this._attributions[kt]=0),this._attributions[kt]++,this._update(),this):this},removeAttribution:function(kt){return kt?(this._attributions[kt]&&(this._attributions[kt]--,this._update()),this):this},_update:function(){if(!!this._map){var kt=[];for(var Mt in this._attributions)this._attributions[Mt]&&kt.push(Mt);var Vt=[];this.options.prefix&&Vt.push(this.options.prefix),kt.length&&Vt.push(kt.join(", ")),this._container.innerHTML=Vt.join(' <span aria-hidden="true">|</span> ')}}});Pr.mergeOptions({attributionControl:!0}),Pr.addInitHook(function(){this.options.attributionControl&&new ns().addTo(this)});var ys=function(kt){return new ns(kt)};fo.Layers=is,fo.Zoom=Ua,fo.Scale=Xo,fo.Attribution=ns,Da.layers=Sa,Da.zoom=gs,Da.scale=Ns,Da.attribution=ys;var po=Kt.extend({initialize:function(kt){this._map=kt},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});po.addTo=function(kt,Mt){return kt.addHandler(Mt,this),this};var Ea={Events:ni},ta=zn.touch?"touchstart mousedown":"mousedown",ko=Fi.extend({options:{clickTolerance:3},initialize:function(kt,Mt,Vt,Zt){Ut(this,Zt),this._element=kt,this._dragStartTarget=Mt||kt,this._preventOutline=Vt},enable:function(){this._enabled||($r(this._dragStartTarget,ta,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(ko._dragging===this&&this.finishDrag(!0),dr(this._dragStartTarget,ta,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(kt){if(!!this._enabled&&(this._moved=!1,!ba(this._element,"leaflet-zoom-anim"))){if(kt.touches&&kt.touches.length!==1){ko._dragging===this&&this.finishDrag();return}if(!(ko._dragging||kt.shiftKey||kt.which!==1&&kt.button!==1&&!kt.touches)&&(ko._dragging=this,this._preventOutline&&qo(this._element),So(),Or(),!this._moving)){this.fire("down");var Mt=kt.touches?kt.touches[0]:kt,Vt=Za(this._element);this._startPoint=new Xi(Mt.clientX,Mt.clientY),this._startPos=qr(this._element),this._parentScale=Va(Vt);var Zt=kt.type==="mousedown";$r(document,Zt?"mousemove":"touchmove",this._onMove,this),$r(document,Zt?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(kt){if(!!this._enabled){if(kt.touches&&kt.touches.length>1){this._moved=!0;return}var Mt=kt.touches&&kt.touches.length===1?kt.touches[0]:kt,Vt=new Xi(Mt.clientX,Mt.clientY)._subtract(this._startPoint);!Vt.x&&!Vt.y||Math.abs(Vt.x)+Math.abs(Vt.y)<this.options.clickTolerance||(Vt.x/=this._parentScale.x,Vt.y/=this._parentScale.y,lo(kt),this._moved||(this.fire("dragstart"),this._moved=!0,Tr(document.body,"leaflet-dragging"),this._lastTarget=kt.target||kt.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Tr(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(Vt),this._moving=!0,this._lastEvent=kt,this._updatePosition())}},_updatePosition:function(){var kt={originalEvent:this._lastEvent};this.fire("predrag",kt),Gr(this._element,this._newPos),this.fire("drag",kt)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(kt){Yr(document.body,"leaflet-dragging"),this._lastTarget&&(Yr(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),dr(document,"mousemove touchmove",this._onMove,this),dr(document,"mouseup touchend touchcancel",this._onUp,this),Eo(),to(),this._moved&&this._moving&&this.fire("dragend",{noInertia:kt,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,ko._dragging=!1}});function ka(kt,Mt){if(!Mt||!kt.length)return kt.slice();var Vt=Mt*Mt;return kt=Zo(kt,Vt),kt=dl(kt,Vt),kt}function vr(kt,Mt,Vt){return Math.sqrt(Lr(kt,Mt,Vt,!0))}function hl(kt,Mt,Vt){return Lr(kt,Mt,Vt)}function dl(kt,Mt){var Vt=kt.length,Zt=typeof Uint8Array!=void 0+""?Uint8Array:Array,mi=new Zt(Vt);mi[0]=mi[Vt-1]=1,vs(kt,mi,Mt,0,Vt-1);var Ci,en=[];for(Ci=0;Ci<Vt;Ci++)mi[Ci]&&en.push(kt[Ci]);return en}function vs(kt,Mt,Vt,Zt,mi){var Ci=0,en,fn,mn;for(fn=Zt+1;fn<=mi-1;fn++)mn=Lr(kt[fn],kt[Zt],kt[mi],!0),mn>Ci&&(en=fn,Ci=mn);Ci>Vt&&(Mt[en]=1,vs(kt,Mt,Vt,Zt,en),vs(kt,Mt,Vt,en,mi))}function Zo(kt,Mt){for(var Vt=[kt[0]],Zt=1,mi=0,Ci=kt.length;Zt<Ci;Zt++)rs(kt[Zt],kt[mi])>Mt&&(Vt.push(kt[Zt]),mi=Zt);return mi<Ci-1&&Vt.push(kt[Ci-1]),Vt}var fa;function Vo(kt,Mt,Vt,Zt,mi){var Ci=Zt?fa:yo(kt,Vt),en=yo(Mt,Vt),fn,mn,On;for(fa=en;;){if(!(Ci|en))return[kt,Mt];if(Ci&en)return!1;fn=Ci||en,mn=go(kt,Mt,fn,Vt,mi),On=yo(mn,Vt),fn===Ci?(kt=mn,Ci=On):(Mt=mn,en=On)}}function go(kt,Mt,Vt,Zt,mi){var Ci=Mt.x-kt.x,en=Mt.y-kt.y,fn=Zt.min,mn=Zt.max,On,er;return Vt&8?(On=kt.x+Ci*(mn.y-kt.y)/en,er=mn.y):Vt&4?(On=kt.x+Ci*(fn.y-kt.y)/en,er=fn.y):Vt&2?(On=mn.x,er=kt.y+en*(mn.x-kt.x)/Ci):Vt&1&&(On=fn.x,er=kt.y+en*(fn.x-kt.x)/Ci),new Xi(On,er,mi)}function yo(kt,Mt){var Vt=0;return kt.x<Mt.min.x?Vt|=1:kt.x>Mt.max.x&&(Vt|=2),kt.y<Mt.min.y?Vt|=4:kt.y>Mt.max.y&&(Vt|=8),Vt}function rs(kt,Mt){var Vt=Mt.x-kt.x,Zt=Mt.y-kt.y;return Vt*Vt+Zt*Zt}function Lr(kt,Mt,Vt,Zt){var mi=Mt.x,Ci=Mt.y,en=Vt.x-mi,fn=Vt.y-Ci,mn=en*en+fn*fn,On;return mn>0&&(On=((kt.x-mi)*en+(kt.y-Ci)*fn)/mn,On>1?(mi=Vt.x,Ci=Vt.y):On>0&&(mi+=en*On,Ci+=fn*On)),en=kt.x-mi,fn=kt.y-Ci,Zt?en*en+fn*fn:new Xi(mi,Ci)}function Ft(kt){return!qt(kt[0])||typeof kt[0][0]!="object"&&typeof kt[0][0]<"u"}function Xt(kt){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Ft(kt)}function gi(kt,Mt){var Vt,Zt,mi,Ci,en,fn,mn,On;if(!kt||kt.length===0)throw new Error("latlngs not passed");Ft(kt)||(console.warn("latlngs are not flat! Only the first ring will be used"),kt=kt[0]);var er=[];for(var kr in kt)er.push(Mt.project(Pi(kt[kr])));var Br=er.length;for(Vt=0,Zt=0;Vt<Br-1;Vt++)Zt+=er[Vt].distanceTo(er[Vt+1])/2;if(Zt===0)On=er[0];else for(Vt=0,Ci=0;Vt<Br-1;Vt++)if(en=er[Vt],fn=er[Vt+1],mi=en.distanceTo(fn),Ci+=mi,Ci>Zt){mn=(Ci-Zt)/mi,On=[fn.x-mn*(fn.x-en.x),fn.y-mn*(fn.y-en.y)];break}return Mt.unproject(Ai(On))}var Ei={__proto__:null,simplify:ka,pointToSegmentDistance:vr,closestPointOnSegment:hl,clipSegment:Vo,_getEdgeIntersection:go,_getBitCode:yo,_sqClosestPointOnSegment:Lr,isFlat:Ft,_flat:Xt,polylineCenter:gi};function Bi(kt,Mt,Vt){var Zt,mi=[1,4,2,8],Ci,en,fn,mn,On,er,kr,Br;for(Ci=0,er=kt.length;Ci<er;Ci++)kt[Ci]._code=yo(kt[Ci],Mt);for(fn=0;fn<4;fn++){for(kr=mi[fn],Zt=[],Ci=0,er=kt.length,en=er-1;Ci<er;en=Ci++)mn=kt[Ci],On=kt[en],mn._code&kr?On._code&kr||(Br=go(On,mn,kr,Mt,Vt),Br._code=yo(Br,Mt),Zt.push(Br)):(On._code&kr&&(Br=go(On,mn,kr,Mt,Vt),Br._code=yo(Br,Mt),Zt.push(Br)),Zt.push(mn));kt=Zt}return kt}function un(kt,Mt){var Vt,Zt,mi,Ci,en,fn,mn,On,er;if(!kt||kt.length===0)throw new Error("latlngs not passed");Ft(kt)||(console.warn("latlngs are not flat! Only the first ring will be used"),kt=kt[0]);var kr=[];for(var Br in kt)kr.push(Mt.project(Pi(kt[Br])));var Ko=kr.length;for(fn=mn=On=0,Vt=0,Zt=Ko-1;Vt<Ko;Zt=Vt++)mi=kr[Vt],Ci=kr[Zt],en=mi.y*Ci.x-Ci.y*mi.x,mn+=(mi.x+Ci.x)*en,On+=(mi.y+Ci.y)*en,fn+=en*3;return fn===0?er=kr[0]:er=[mn/fn,On/fn],Mt.unproject(Ai(er))}var _n={__proto__:null,clipPolygon:Bi,polygonCenter:un},xn={project:function(kt){return new Xi(kt.lng,kt.lat)},unproject:function(kt){return new rn(kt.y,kt.x)},bounds:new ji([-180,-90],[180,90])},Un={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ji([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(kt){var Mt=Math.PI/180,Vt=this.R,Zt=kt.lat*Mt,mi=this.R_MINOR/Vt,Ci=Math.sqrt(1-mi*mi),en=Ci*Math.sin(Zt),fn=Math.tan(Math.PI/4-Zt/2)/Math.pow((1-en)/(1+en),Ci/2);return Zt=-Vt*Math.log(Math.max(fn,1e-10)),new Xi(kt.lng*Mt*Vt,Zt)},unproject:function(kt){for(var Mt=180/Math.PI,Vt=this.R,Zt=this.R_MINOR/Vt,mi=Math.sqrt(1-Zt*Zt),Ci=Math.exp(-kt.y/Vt),en=Math.PI/2-2*Math.atan(Ci),fn=0,mn=.1,On;fn<15&&Math.abs(mn)>1e-7;fn++)On=mi*Math.sin(en),On=Math.pow((1-On)/(1+On),mi/2),mn=Math.PI/2-2*Math.atan(Ci*On)-en,en+=mn;return new rn(en*Mt,kt.x*Mt/Vt)}},Vn={__proto__:null,LonLat:xn,Mercator:Un,SphericalMercator:Gi},fr=vt({},Oi,{code:"EPSG:3395",projection:Un,transformation:function(){var kt=.5/(Math.PI*Un.R);return ii(kt,.5,-kt,.5)}()}),ar=vt({},Oi,{code:"EPSG:4326",projection:xn,transformation:ii(1/180,1,-1/180,.5)}),Mr=vt({},bn,{projection:xn,transformation:ii(1,0,-1,0),scale:function(kt){return Math.pow(2,kt)},zoom:function(kt){return Math.log(kt)/Math.LN2},distance:function(kt,Mt){var Vt=Mt.lng-kt.lng,Zt=Mt.lat-kt.lat;return Math.sqrt(Vt*Vt+Zt*Zt)},infinite:!0});bn.Earth=Oi,bn.EPSG3395=fr,bn.EPSG3857=Nt,bn.EPSG900913=Qt,bn.EPSG4326=ar,bn.Simple=Mr;var Hr=Fi.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(kt){return kt.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(kt){return kt&&kt.removeLayer(this),this},getPane:function(kt){return this._map.getPane(kt?this.options[kt]||kt:this.options.pane)},addInteractiveTarget:function(kt){return this._map._targets[Et(kt)]=this,this},removeInteractiveTarget:function(kt){return delete this._map._targets[Et(kt)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(kt){var Mt=kt.target;if(!!Mt.hasLayer(this)){if(this._map=Mt,this._zoomAnimated=Mt._zoomAnimated,this.getEvents){var Vt=this.getEvents();Mt.on(Vt,this),this.once("remove",function(){Mt.off(Vt,this)},this)}this.onAdd(Mt),this.fire("add"),Mt.fire("layeradd",{layer:this})}}});Pr.include({addLayer:function(kt){if(!kt._layerAdd)throw new Error("The provided object is not a Layer.");var Mt=Et(kt);return this._layers[Mt]?this:(this._layers[Mt]=kt,kt._mapToAdd=this,kt.beforeAdd&&kt.beforeAdd(this),this.whenReady(kt._layerAdd,kt),this)},removeLayer:function(kt){var Mt=Et(kt);return this._layers[Mt]?(this._loaded&&kt.onRemove(this),delete this._layers[Mt],this._loaded&&(this.fire("layerremove",{layer:kt}),kt.fire("remove")),kt._map=kt._mapToAdd=null,this):this},hasLayer:function(kt){return Et(kt)in this._layers},eachLayer:function(kt,Mt){for(var Vt in this._layers)kt.call(Mt,this._layers[Vt]);return this},_addLayers:function(kt){kt=kt?qt(kt)?kt:[kt]:[];for(var Mt=0,Vt=kt.length;Mt<Vt;Mt++)this.addLayer(kt[Mt])},_addZoomLimit:function(kt){(!isNaN(kt.options.maxZoom)||!isNaN(kt.options.minZoom))&&(this._zoomBoundLayers[Et(kt)]=kt,this._updateZoomLevels())},_removeZoomLimit:function(kt){var Mt=Et(kt);this._zoomBoundLayers[Mt]&&(delete this._zoomBoundLayers[Mt],this._updateZoomLevels())},_updateZoomLevels:function(){var kt=1/0,Mt=-1/0,Vt=this._getZoomSpan();for(var Zt in this._zoomBoundLayers){var mi=this._zoomBoundLayers[Zt].options;kt=mi.minZoom===void 0?kt:Math.min(kt,mi.minZoom),Mt=mi.maxZoom===void 0?Mt:Math.max(Mt,mi.maxZoom)}this._layersMaxZoom=Mt===-1/0?void 0:Mt,this._layersMinZoom=kt===1/0?void 0:kt,Vt!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var zr=Hr.extend({initialize:function(kt,Mt){Ut(this,Mt),this._layers={};var Vt,Zt;if(kt)for(Vt=0,Zt=kt.length;Vt<Zt;Vt++)this.addLayer(kt[Vt])},addLayer:function(kt){var Mt=this.getLayerId(kt);return this._layers[Mt]=kt,this._map&&this._map.addLayer(kt),this},removeLayer:function(kt){var Mt=kt in this._layers?kt:this.getLayerId(kt);return this._map&&this._layers[Mt]&&this._map.removeLayer(this._layers[Mt]),delete this._layers[Mt],this},hasLayer:function(kt){var Mt=typeof kt=="number"?kt:this.getLayerId(kt);return Mt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(kt){var Mt=Array.prototype.slice.call(arguments,1),Vt,Zt;for(Vt in this._layers)Zt=this._layers[Vt],Zt[kt]&&Zt[kt].apply(Zt,Mt);return this},onAdd:function(kt){this.eachLayer(kt.addLayer,kt)},onRemove:function(kt){this.eachLayer(kt.removeLayer,kt)},eachLayer:function(kt,Mt){for(var Vt in this._layers)kt.call(Mt,this._layers[Vt]);return this},getLayer:function(kt){return this._layers[kt]},getLayers:function(){var kt=[];return this.eachLayer(kt.push,kt),kt},setZIndex:function(kt){return this.invoke("setZIndex",kt)},getLayerId:function(kt){return Et(kt)}}),ia=function(kt,Mt){return new zr(kt,Mt)},na=zr.extend({addLayer:function(kt){return this.hasLayer(kt)?this:(kt.addEventParent(this),zr.prototype.addLayer.call(this,kt),this.fire("layeradd",{layer:kt}))},removeLayer:function(kt){return this.hasLayer(kt)?(kt in this._layers&&(kt=this._layers[kt]),kt.removeEventParent(this),zr.prototype.removeLayer.call(this,kt),this.fire("layerremove",{layer:kt})):this},setStyle:function(kt){return this.invoke("setStyle",kt)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var kt=new Vi;for(var Mt in this._layers){var Vt=this._layers[Mt];kt.extend(Vt.getBounds?Vt.getBounds():Vt.getLatLng())}return kt}}),bs=function(kt,Mt){return new na(kt,Mt)},Ma=Kt.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(kt){Ut(this,kt)},createIcon:function(kt){return this._createIcon("icon",kt)},createShadow:function(kt){return this._createIcon("shadow",kt)},_createIcon:function(kt,Mt){var Vt=this._getIconUrl(kt);if(!Vt){if(kt==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Zt=this._createImg(Vt,Mt&&Mt.tagName==="IMG"?Mt:null);return this._setIconStyles(Zt,kt),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Zt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Zt},_setIconStyles:function(kt,Mt){var Vt=this.options,Zt=Vt[Mt+"Size"];typeof Zt=="number"&&(Zt=[Zt,Zt]);var mi=Ai(Zt),Ci=Ai(Mt==="shadow"&&Vt.shadowAnchor||Vt.iconAnchor||mi&&mi.divideBy(2,!0));kt.className="leaflet-marker-"+Mt+" "+(Vt.className||""),Ci&&(kt.style.marginLeft=-Ci.x+"px",kt.style.marginTop=-Ci.y+"px"),mi&&(kt.style.width=mi.x+"px",kt.style.height=mi.y+"px")},_createImg:function(kt,Mt){return Mt=Mt||document.createElement("img"),Mt.src=kt,Mt},_getIconUrl:function(kt){return zn.retina&&this.options[kt+"RetinaUrl"]||this.options[kt+"Url"]}});function jl(kt){return new Ma(kt)}var _s=Ma.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(kt){return typeof _s.imagePath!="string"&&(_s.imagePath=this._detectIconPath()),(this.options.imagePath||_s.imagePath)+Ma.prototype._getIconUrl.call(this,kt)},_stripUrl:function(kt){var Mt=function(Vt,Zt,mi){var Ci=Zt.exec(Vt);return Ci&&Ci[mi]};return kt=Mt(kt,/^url\((['"])?(.+)\1\)$/,2),kt&&Mt(kt,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var kt=or("div","leaflet-default-icon-path",document.body),Mt=In(kt,"background-image")||In(kt,"backgroundImage");if(document.body.removeChild(kt),Mt=this._stripUrl(Mt),Mt)return Mt;var Vt=document.querySelector('link[href$="leaflet.css"]');return Vt?Vt.href.substring(0,Vt.href.length-11-1):""}}),Wl=po.extend({initialize:function(kt){this._marker=kt},addHooks:function(){var kt=this._marker._icon;this._draggable||(this._draggable=new ko(kt,kt,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Tr(kt,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Yr(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(kt){var Mt=this._marker,Vt=Mt._map,Zt=this._marker.options.autoPanSpeed,mi=this._marker.options.autoPanPadding,Ci=qr(Mt._icon),en=Vt.getPixelBounds(),fn=Vt.getPixelOrigin(),mn=Ri(en.min._subtract(fn).add(mi),en.max._subtract(fn).subtract(mi));if(!mn.contains(Ci)){var On=Ai((Math.max(mn.max.x,Ci.x)-mn.max.x)/(en.max.x-mn.max.x)-(Math.min(mn.min.x,Ci.x)-mn.min.x)/(en.min.x-mn.min.x),(Math.max(mn.max.y,Ci.y)-mn.max.y)/(en.max.y-mn.max.y)-(Math.min(mn.min.y,Ci.y)-mn.min.y)/(en.min.y-mn.min.y)).multiplyBy(Zt);Vt.panBy(On,{animate:!1}),this._draggable._newPos._add(On),this._draggable._startPos._add(On),Gr(Mt._icon,this._draggable._newPos),this._onDrag(kt),this._panRequest=hi(this._adjustPan.bind(this,kt))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(kt){this._marker.options.autoPan&&(ei(this._panRequest),this._panRequest=hi(this._adjustPan.bind(this,kt)))},_onDrag:function(kt){var Mt=this._marker,Vt=Mt._shadow,Zt=qr(Mt._icon),mi=Mt._map.layerPointToLatLng(Zt);Vt&&Gr(Vt,Zt),Mt._latlng=mi,kt.latlng=mi,kt.oldLatLng=this._oldLatLng,Mt.fire("move",kt).fire("drag",kt)},_onDragEnd:function(kt){ei(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",kt)}}),zs=Hr.extend({options:{icon:new _s,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(kt,Mt){Ut(this,Mt),this._latlng=Pi(kt)},onAdd:function(kt){this._zoomAnimated=this._zoomAnimated&&kt.options.markerZoomAnimation,this._zoomAnimated&&kt.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(kt){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&kt.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(kt){var Mt=this._latlng;return this._latlng=Pi(kt),this.update(),this.fire("move",{oldLatLng:Mt,latlng:this._latlng})},setZIndexOffset:function(kt){return this.options.zIndexOffset=kt,this.update()},getIcon:function(){return this.options.icon},setIcon:function(kt){return this.options.icon=kt,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var kt=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(kt)}return this},_initIcon:function(){var kt=this.options,Mt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),Vt=kt.icon.createIcon(this._icon),Zt=!1;Vt!==this._icon&&(this._icon&&this._removeIcon(),Zt=!0,kt.title&&(Vt.title=kt.title),Vt.tagName==="IMG"&&(Vt.alt=kt.alt||"")),Tr(Vt,Mt),kt.keyboard&&(Vt.tabIndex="0",Vt.setAttribute("role","button")),this._icon=Vt,kt.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&$r(Vt,"focus",this._panOnFocus,this);var mi=kt.icon.createShadow(this._shadow),Ci=!1;mi!==this._shadow&&(this._removeShadow(),Ci=!0),mi&&(Tr(mi,Mt),mi.alt=""),this._shadow=mi,kt.opacity<1&&this._updateOpacity(),Zt&&this.getPane().appendChild(this._icon),this._initInteraction(),mi&&Ci&&this.getPane(kt.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&dr(this._icon,"focus",this._panOnFocus,this),Zi(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Zi(this._shadow),this._shadow=null},_setPos:function(kt){this._icon&&Gr(this._icon,kt),this._shadow&&Gr(this._shadow,kt),this._zIndex=kt.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(kt){this._icon&&(this._icon.style.zIndex=this._zIndex+kt)},_animateZoom:function(kt){var Mt=this._map._latLngToNewLayerPoint(this._latlng,kt.zoom,kt.center).round();this._setPos(Mt)},_initInteraction:function(){if(!!this.options.interactive&&(Tr(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Wl)){var kt=this.options.draggable;this.dragging&&(kt=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Wl(this),kt&&this.dragging.enable()}},setOpacity:function(kt){return this.options.opacity=kt,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var kt=this.options.opacity;this._icon&&no(this._icon,kt),this._shadow&&no(this._shadow,kt)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var kt=this._map;if(!!kt){var Mt=this.options.icon.options,Vt=Mt.iconSize?Ai(Mt.iconSize):Ai(0,0),Zt=Mt.iconAnchor?Ai(Mt.iconAnchor):Ai(0,0);kt.panInside(this._latlng,{paddingTopLeft:Zt,paddingBottomRight:Vt.subtract(Zt)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hu(kt,Mt){return new zs(kt,Mt)}var Ca=Hr.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(kt){this._renderer=kt.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(kt){return Ut(this,kt),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&kt&&Object.prototype.hasOwnProperty.call(kt,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Hs=Ca.extend({options:{fill:!0,radius:10},initialize:function(kt,Mt){Ut(this,Mt),this._latlng=Pi(kt),this._radius=this.options.radius},setLatLng:function(kt){var Mt=this._latlng;return this._latlng=Pi(kt),this.redraw(),this.fire("move",{oldLatLng:Mt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(kt){return this.options.radius=this._radius=kt,this.redraw()},getRadius:function(){return this._radius},setStyle:function(kt){var Mt=kt&&kt.radius||this._radius;return Ca.prototype.setStyle.call(this,kt),this.setRadius(Mt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var kt=this._radius,Mt=this._radiusY||kt,Vt=this._clickTolerance(),Zt=[kt+Vt,Mt+Vt];this._pxBounds=new ji(this._point.subtract(Zt),this._point.add(Zt))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(kt){return kt.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function du(kt,Mt){return new Hs(kt,Mt)}var fl=Hs.extend({initialize:function(kt,Mt,Vt){if(typeof Mt=="number"&&(Mt=vt({},Vt,{radius:Mt})),Ut(this,Mt),this._latlng=Pi(kt),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(kt){return this._mRadius=kt,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var kt=[this._radius,this._radiusY||this._radius];return new Vi(this._map.layerPointToLatLng(this._point.subtract(kt)),this._map.layerPointToLatLng(this._point.add(kt)))},setStyle:Ca.prototype.setStyle,_project:function(){var kt=this._latlng.lng,Mt=this._latlng.lat,Vt=this._map,Zt=Vt.options.crs;if(Zt.distance===Oi.distance){var mi=Math.PI/180,Ci=this._mRadius/Oi.R/mi,en=Vt.project([Mt+Ci,kt]),fn=Vt.project([Mt-Ci,kt]),mn=en.add(fn).divideBy(2),On=Vt.unproject(mn).lat,er=Math.acos((Math.cos(Ci*mi)-Math.sin(Mt*mi)*Math.sin(On*mi))/(Math.cos(Mt*mi)*Math.cos(On*mi)))/mi;(isNaN(er)||er===0)&&(er=Ci/Math.cos(Math.PI/180*Mt)),this._point=mn.subtract(Vt.getPixelOrigin()),this._radius=isNaN(er)?0:mn.x-Vt.project([On,kt-er]).x,this._radiusY=mn.y-en.y}else{var kr=Zt.unproject(Zt.project(this._latlng).subtract([this._mRadius,0]));this._point=Vt.latLngToLayerPoint(this._latlng),this._radius=this._point.x-Vt.latLngToLayerPoint(kr).x}this._updateBounds()}});function Yl(kt,Mt,Vt){return new fl(kt,Mt,Vt)}var Ta=Ca.extend({options:{smoothFactor:1,noClip:!1},initialize:function(kt,Mt){Ut(this,Mt),this._setLatLngs(kt)},getLatLngs:function(){return this._latlngs},setLatLngs:function(kt){return this._setLatLngs(kt),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(kt){for(var Mt=1/0,Vt=null,Zt=Lr,mi,Ci,en=0,fn=this._parts.length;en<fn;en++)for(var mn=this._parts[en],On=1,er=mn.length;On<er;On++){mi=mn[On-1],Ci=mn[On];var kr=Zt(kt,mi,Ci,!0);kr<Mt&&(Mt=kr,Vt=Zt(kt,mi,Ci))}return Vt&&(Vt.distance=Math.sqrt(Mt)),Vt},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return gi(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(kt,Mt){return Mt=Mt||this._defaultShape(),kt=Pi(kt),Mt.push(kt),this._bounds.extend(kt),this.redraw()},_setLatLngs:function(kt){this._bounds=new Vi,this._latlngs=this._convertLatLngs(kt)},_defaultShape:function(){return Ft(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(kt){for(var Mt=[],Vt=Ft(kt),Zt=0,mi=kt.length;Zt<mi;Zt++)Vt?(Mt[Zt]=Pi(kt[Zt]),this._bounds.extend(Mt[Zt])):Mt[Zt]=this._convertLatLngs(kt[Zt]);return Mt},_project:function(){var kt=new ji;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,kt),this._bounds.isValid()&&kt.isValid()&&(this._rawPxBounds=kt,this._updateBounds())},_updateBounds:function(){var kt=this._clickTolerance(),Mt=new Xi(kt,kt);!this._rawPxBounds||(this._pxBounds=new ji([this._rawPxBounds.min.subtract(Mt),this._rawPxBounds.max.add(Mt)]))},_projectLatlngs:function(kt,Mt,Vt){var Zt=kt[0]instanceof rn,mi=kt.length,Ci,en;if(Zt){for(en=[],Ci=0;Ci<mi;Ci++)en[Ci]=this._map.latLngToLayerPoint(kt[Ci]),Vt.extend(en[Ci]);Mt.push(en)}else for(Ci=0;Ci<mi;Ci++)this._projectLatlngs(kt[Ci],Mt,Vt)},_clipPoints:function(){var kt=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(kt))){if(this.options.noClip){this._parts=this._rings;return}var Mt=this._parts,Vt,Zt,mi,Ci,en,fn,mn;for(Vt=0,mi=0,Ci=this._rings.length;Vt<Ci;Vt++)for(mn=this._rings[Vt],Zt=0,en=mn.length;Zt<en-1;Zt++)fn=Vo(mn[Zt],mn[Zt+1],kt,Zt,!0),fn&&(Mt[mi]=Mt[mi]||[],Mt[mi].push(fn[0]),(fn[1]!==mn[Zt+1]||Zt===en-2)&&(Mt[mi].push(fn[1]),mi++))}},_simplifyPoints:function(){for(var kt=this._parts,Mt=this.options.smoothFactor,Vt=0,Zt=kt.length;Vt<Zt;Vt++)kt[Vt]=ka(kt[Vt],Mt)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(kt,Mt){var Vt,Zt,mi,Ci,en,fn,mn=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(kt))return!1;for(Vt=0,Ci=this._parts.length;Vt<Ci;Vt++)for(fn=this._parts[Vt],Zt=0,en=fn.length,mi=en-1;Zt<en;mi=Zt++)if(!(!Mt&&Zt===0)&&vr(kt,fn[mi],fn[Zt])<=mn)return!0;return!1}});function fu(kt,Mt){return new Ta(kt,Mt)}Ta._flat=Xt;var Ra=Ta.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return un(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(kt){var Mt=Ta.prototype._convertLatLngs.call(this,kt),Vt=Mt.length;return Vt>=2&&Mt[0]instanceof rn&&Mt[0].equals(Mt[Vt-1])&&Mt.pop(),Mt},_setLatLngs:function(kt){Ta.prototype._setLatLngs.call(this,kt),Ft(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Ft(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var kt=this._renderer._bounds,Mt=this.options.weight,Vt=new Xi(Mt,Mt);if(kt=new ji(kt.min.subtract(Vt),kt.max.add(Vt)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(kt))){if(this.options.noClip){this._parts=this._rings;return}for(var Zt=0,mi=this._rings.length,Ci;Zt<mi;Zt++)Ci=Bi(this._rings[Zt],kt,!0),Ci.length&&this._parts.push(Ci)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(kt){var Mt=!1,Vt,Zt,mi,Ci,en,fn,mn,On;if(!this._pxBounds||!this._pxBounds.contains(kt))return!1;for(Ci=0,mn=this._parts.length;Ci<mn;Ci++)for(Vt=this._parts[Ci],en=0,On=Vt.length,fn=On-1;en<On;fn=en++)Zt=Vt[en],mi=Vt[fn],Zt.y>kt.y!=mi.y>kt.y&&kt.x<(mi.x-Zt.x)*(kt.y-Zt.y)/(mi.y-Zt.y)+Zt.x&&(Mt=!Mt);return Mt||Ta.prototype._containsPoint.call(this,kt,!0)}});function pu(kt,Mt){return new Ra(kt,Mt)}var Aa=na.extend({initialize:function(kt,Mt){Ut(this,Mt),this._layers={},kt&&this.addData(kt)},addData:function(kt){var Mt=qt(kt)?kt:kt.features,Vt,Zt,mi;if(Mt){for(Vt=0,Zt=Mt.length;Vt<Zt;Vt++)mi=Mt[Vt],(mi.geometries||mi.geometry||mi.features||mi.coordinates)&&this.addData(mi);return this}var Ci=this.options;if(Ci.filter&&!Ci.filter(kt))return this;var en=vo(kt,Ci);return en?(en.feature=ws(kt),en.defaultOptions=en.options,this.resetStyle(en),Ci.onEachFeature&&Ci.onEachFeature(kt,en),this.addLayer(en)):this},resetStyle:function(kt){return kt===void 0?this.eachLayer(this.resetStyle,this):(kt.options=vt({},kt.defaultOptions),this._setLayerStyle(kt,this.options.style),this)},setStyle:function(kt){return this.eachLayer(function(Mt){this._setLayerStyle(Mt,kt)},this)},_setLayerStyle:function(kt,Mt){kt.setStyle&&(typeof Mt=="function"&&(Mt=Mt(kt.feature)),kt.setStyle(Mt))}});function vo(kt,Mt){var Vt=kt.type==="Feature"?kt.geometry:kt,Zt=Vt?Vt.coordinates:null,mi=[],Ci=Mt&&Mt.pointToLayer,en=Mt&&Mt.coordsToLatLng||os,fn,mn,On,er;if(!Zt&&!Vt)return null;switch(Vt.type){case"Point":return fn=en(Zt),Gl(Ci,kt,fn,Mt);case"MultiPoint":for(On=0,er=Zt.length;On<er;On++)fn=en(Zt[On]),mi.push(Gl(Ci,kt,fn,Mt));return new na(mi);case"LineString":case"MultiLineString":return mn=Lo(Zt,Vt.type==="LineString"?0:1,en),new Ta(mn,Mt);case"Polygon":case"MultiPolygon":return mn=Lo(Zt,Vt.type==="Polygon"?1:2,en),new Ra(mn,Mt);case"GeometryCollection":for(On=0,er=Vt.geometries.length;On<er;On++){var kr=vo({geometry:Vt.geometries[On],type:"Feature",properties:kt.properties},Mt);kr&&mi.push(kr)}return new na(mi);case"FeatureCollection":for(On=0,er=Vt.features.length;On<er;On++){var Br=vo(Vt.features[On],Mt);Br&&mi.push(Br)}return new na(mi);default:throw new Error("Invalid GeoJSON object.")}}function Gl(kt,Mt,Vt,Zt){return kt?kt(Mt,Vt):new zs(Vt,Zt&&Zt.markersInheritOptions&&Zt)}function os(kt){return new rn(kt[1],kt[0],kt[2])}function Lo(kt,Mt,Vt){for(var Zt=[],mi=0,Ci=kt.length,en;mi<Ci;mi++)en=Mt?Lo(kt[mi],Mt-1,Vt):(Vt||os)(kt[mi]),Zt.push(en);return Zt}function Uo(kt,Mt){return kt=Pi(kt),kt.alt!==void 0?[Lt(kt.lng,Mt),Lt(kt.lat,Mt),Lt(kt.alt,Mt)]:[Lt(kt.lng,Mt),Lt(kt.lat,Mt)]}function ra(kt,Mt,Vt,Zt){for(var mi=[],Ci=0,en=kt.length;Ci<en;Ci++)mi.push(Mt?ra(kt[Ci],Ft(kt[Ci])?0:Mt-1,Vt,Zt):Uo(kt[Ci],Zt));return!Mt&&Vt&&mi.push(mi[0].slice()),mi}function $a(kt,Mt){return kt.feature?vt({},kt.feature,{geometry:Mt}):ws(Mt)}function ws(kt){return kt.type==="Feature"||kt.type==="FeatureCollection"?kt:{type:"Feature",properties:{},geometry:kt}}var Vs={toGeoJSON:function(kt){return $a(this,{type:"Point",coordinates:Uo(this.getLatLng(),kt)})}};zs.include(Vs),fl.include(Vs),Hs.include(Vs),Ta.include({toGeoJSON:function(kt){var Mt=!Ft(this._latlngs),Vt=ra(this._latlngs,Mt?1:0,!1,kt);return $a(this,{type:(Mt?"Multi":"")+"LineString",coordinates:Vt})}}),Ra.include({toGeoJSON:function(kt){var Mt=!Ft(this._latlngs),Vt=Mt&&!Ft(this._latlngs[0]),Zt=ra(this._latlngs,Vt?2:Mt?1:0,!0,kt);return Mt||(Zt=[Zt]),$a(this,{type:(Vt?"Multi":"")+"Polygon",coordinates:Zt})}}),zr.include({toMultiPoint:function(kt){var Mt=[];return this.eachLayer(function(Vt){Mt.push(Vt.toGeoJSON(kt).geometry.coordinates)}),$a(this,{type:"MultiPoint",coordinates:Mt})},toGeoJSON:function(kt){var Mt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Mt==="MultiPoint")return this.toMultiPoint(kt);var Vt=Mt==="GeometryCollection",Zt=[];return this.eachLayer(function(mi){if(mi.toGeoJSON){var Ci=mi.toGeoJSON(kt);if(Vt)Zt.push(Ci.geometry);else{var en=ws(Ci);en.type==="FeatureCollection"?Zt.push.apply(Zt,en.features):Zt.push(en)}}}),Vt?$a(this,{geometries:Zt,type:"GeometryCollection"}):{type:"FeatureCollection",features:Zt}}});function ql(kt,Mt){return new Aa(kt,Mt)}var gu=ql,Us=Hr.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(kt,Mt,Vt){this._url=kt,this._bounds=Qi(Mt),Ut(this,Vt)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Tr(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Zi(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(kt){return this.options.opacity=kt,this._image&&this._updateOpacity(),this},setStyle:function(kt){return kt.opacity&&this.setOpacity(kt.opacity),this},bringToFront:function(){return this._map&&cn(this._image),this},bringToBack:function(){return this._map&&eo(this._image),this},setUrl:function(kt){return this._url=kt,this._image&&(this._image.src=kt),this},setBounds:function(kt){return this._bounds=Qi(kt),this._map&&this._reset(),this},getEvents:function(){var kt={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(kt.zoomanim=this._animateZoom),kt},setZIndex:function(kt){return this.options.zIndex=kt,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var kt=this._url.tagName==="IMG",Mt=this._image=kt?this._url:or("img");if(Tr(Mt,"leaflet-image-layer"),this._zoomAnimated&&Tr(Mt,"leaflet-zoom-animated"),this.options.className&&Tr(Mt,this.options.className),Mt.onselectstart=Dt,Mt.onmousemove=Dt,Mt.onload=_t(this.fire,this,"load"),Mt.onerror=_t(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Mt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),kt){this._url=Mt.src;return}Mt.src=this._url,Mt.alt=this.options.alt},_animateZoom:function(kt){var Mt=this._map.getZoomScale(kt.zoom),Vt=this._map._latLngBoundsToNewLayerBounds(this._bounds,kt.zoom,kt.center).min;Oo(this._image,Vt,Mt)},_reset:function(){var kt=this._image,Mt=new ji(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),Vt=Mt.getSize();Gr(kt,Mt.min),kt.style.width=Vt.x+"px",kt.style.height=Vt.y+"px"},_updateOpacity:function(){no(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var kt=this.options.errorOverlayUrl;kt&&this._url!==kt&&(this._url=kt,this._image.src=kt)},getCenter:function(){return this._bounds.getCenter()}}),mu=function(kt,Mt,Vt){return new Us(kt,Mt,Vt)},Xl=Us.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var kt=this._url.tagName==="VIDEO",Mt=this._image=kt?this._url:or("video");if(Tr(Mt,"leaflet-image-layer"),this._zoomAnimated&&Tr(Mt,"leaflet-zoom-animated"),this.options.className&&Tr(Mt,this.options.className),Mt.onselectstart=Dt,Mt.onmousemove=Dt,Mt.onloadeddata=_t(this.fire,this,"load"),kt){for(var Vt=Mt.getElementsByTagName("source"),Zt=[],mi=0;mi<Vt.length;mi++)Zt.push(Vt[mi].src);this._url=Vt.length>0?Zt:[Mt.src];return}qt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Mt.style,"objectFit")&&(Mt.style.objectFit="fill"),Mt.autoplay=!!this.options.autoplay,Mt.loop=!!this.options.loop,Mt.muted=!!this.options.muted,Mt.playsInline=!!this.options.playsInline;for(var Ci=0;Ci<this._url.length;Ci++){var en=or("source");en.src=this._url[Ci],Mt.appendChild(en)}}});function yu(kt,Mt,Vt){return new Xl(kt,Mt,Vt)}var js=Us.extend({_initImage:function(){var kt=this._image=this._url;Tr(kt,"leaflet-image-layer"),this._zoomAnimated&&Tr(kt,"leaflet-zoom-animated"),this.options.className&&Tr(kt,this.options.className),kt.onselectstart=Dt,kt.onmousemove=Dt}});function wo(kt,Mt,Vt){return new js(kt,Mt,Vt)}var oa=Hr.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(kt,Mt){kt&&(kt instanceof rn||qt(kt))?(this._latlng=Pi(kt),Ut(this,Mt)):(Ut(this,kt),this._source=Mt),this.options.content&&(this._content=this.options.content)},openOn:function(kt){return kt=arguments.length?kt:this._source._map,kt.hasLayer(this)||kt.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(kt){return this._map?this.close():(arguments.length?this._source=kt:kt=this._source,this._prepareOpen(),this.openOn(kt._map)),this},onAdd:function(kt){this._zoomAnimated=kt._zoomAnimated,this._container||this._initLayout(),kt._fadeAnimated&&no(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),kt._fadeAnimated&&no(this._container,1),this.bringToFront(),this.options.interactive&&(Tr(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(kt){kt._fadeAnimated?(no(this._container,0),this._removeTimeout=setTimeout(_t(Zi,void 0,this._container),200)):Zi(this._container),this.options.interactive&&(Yr(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(kt){return this._latlng=Pi(kt),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(kt){return this._content=kt,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var kt={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(kt.zoomanim=this._animateZoom),kt},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&cn(this._container),this},bringToBack:function(){return this._map&&eo(this._container),this},_prepareOpen:function(kt){var Mt=this._source;if(!Mt._map)return!1;if(Mt instanceof na){Mt=null;var Vt=this._source._layers;for(var Zt in Vt)if(Vt[Zt]._map){Mt=Vt[Zt];break}if(!Mt)return!1;this._source=Mt}if(!kt)if(Mt.getCenter)kt=Mt.getCenter();else if(Mt.getLatLng)kt=Mt.getLatLng();else if(Mt.getBounds)kt=Mt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(kt),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var kt=this._contentNode,Mt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Mt=="string")kt.innerHTML=Mt;else{for(;kt.hasChildNodes();)kt.removeChild(kt.firstChild);kt.appendChild(Mt)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var kt=this._map.latLngToLayerPoint(this._latlng),Mt=Ai(this.options.offset),Vt=this._getAnchor();this._zoomAnimated?Gr(this._container,kt.add(Vt)):Mt=Mt.add(kt).add(Vt);var Zt=this._containerBottom=-Mt.y,mi=this._containerLeft=-Math.round(this._containerWidth/2)+Mt.x;this._container.style.bottom=Zt+"px",this._container.style.left=mi+"px"}},_getAnchor:function(){return[0,0]}});Pr.include({_initOverlay:function(kt,Mt,Vt,Zt){var mi=Mt;return mi instanceof kt||(mi=new kt(Zt).setContent(Mt)),Vt&&mi.setLatLng(Vt),mi}}),Hr.include({_initOverlay:function(kt,Mt,Vt,Zt){var mi=Vt;return mi instanceof kt?(Ut(mi,Zt),mi._source=this):(mi=Mt&&!Zt?Mt:new kt(Zt,this),mi.setContent(Vt)),mi}});var pa=oa.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(kt){return kt=arguments.length?kt:this._source._map,!kt.hasLayer(this)&&kt._popup&&kt._popup.options.autoClose&&kt.removeLayer(kt._popup),kt._popup=this,oa.prototype.openOn.call(this,kt)},onAdd:function(kt){oa.prototype.onAdd.call(this,kt),kt.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Ca||this._source.on("preclick",wa))},onRemove:function(kt){oa.prototype.onRemove.call(this,kt),kt.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Ca||this._source.off("preclick",wa))},getEvents:function(){var kt=oa.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(kt.preclick=this.close),this.options.keepInView&&(kt.moveend=this._adjustPan),kt},_initLayout:function(){var kt="leaflet-popup",Mt=this._container=or("div",kt+" "+(this.options.className||"")+" leaflet-zoom-animated"),Vt=this._wrapper=or("div",kt+"-content-wrapper",Mt);if(this._contentNode=or("div",kt+"-content",Vt),Fo(Mt),La(this._contentNode),$r(Mt,"contextmenu",wa),this._tipContainer=or("div",kt+"-tip-container",Mt),this._tip=or("div",kt+"-tip",this._tipContainer),this.options.closeButton){var Zt=this._closeButton=or("a",kt+"-close-button",Mt);Zt.setAttribute("role","button"),Zt.setAttribute("aria-label","Close popup"),Zt.href="#close",Zt.innerHTML='<span aria-hidden="true">&#215;</span>',$r(Zt,"click",function(mi){lo(mi),this.close()},this)}},_updateLayout:function(){var kt=this._contentNode,Mt=kt.style;Mt.width="",Mt.whiteSpace="nowrap";var Vt=kt.offsetWidth;Vt=Math.min(Vt,this.options.maxWidth),Vt=Math.max(Vt,this.options.minWidth),Mt.width=Vt+1+"px",Mt.whiteSpace="",Mt.height="";var Zt=kt.offsetHeight,mi=this.options.maxHeight,Ci="leaflet-popup-scrolled";mi&&Zt>mi?(Mt.height=mi+"px",Tr(kt,Ci)):Yr(kt,Ci),this._containerWidth=this._container.offsetWidth},_animateZoom:function(kt){var Mt=this._map._latLngToNewLayerPoint(this._latlng,kt.zoom,kt.center),Vt=this._getAnchor();Gr(this._container,Mt.add(Vt))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var kt=this._map,Mt=parseInt(In(this._container,"marginBottom"),10)||0,Vt=this._container.offsetHeight+Mt,Zt=this._containerWidth,mi=new Xi(this._containerLeft,-Vt-this._containerBottom);mi._add(qr(this._container));var Ci=kt.layerPointToContainerPoint(mi),en=Ai(this.options.autoPanPadding),fn=Ai(this.options.autoPanPaddingTopLeft||en),mn=Ai(this.options.autoPanPaddingBottomRight||en),On=kt.getSize(),er=0,kr=0;Ci.x+Zt+mn.x>On.x&&(er=Ci.x+Zt-On.x+mn.x),Ci.x-er-fn.x<0&&(er=Ci.x-fn.x),Ci.y+Vt+mn.y>On.y&&(kr=Ci.y+Vt-On.y+mn.y),Ci.y-kr-fn.y<0&&(kr=Ci.y-fn.y),(er||kr)&&(this.options.keepInView&&(this._autopanning=!0),kt.fire("autopanstart").panBy([er,kr]))}},_getAnchor:function(){return Ai(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Zl=function(kt,Mt){return new pa(kt,Mt)};Pr.mergeOptions({closePopupOnClick:!0}),Pr.include({openPopup:function(kt,Mt,Vt){return this._initOverlay(pa,kt,Mt,Vt).openOn(this),this},closePopup:function(kt){return kt=arguments.length?kt:this._popup,kt&&kt.close(),this}}),Hr.include({bindPopup:function(kt,Mt){return this._popup=this._initOverlay(pa,this._popup,kt,Mt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(kt){return this._popup&&(this instanceof na||(this._popup._source=this),this._popup._prepareOpen(kt||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(kt){return this._popup&&this._popup.setContent(kt),this},getPopup:function(){return this._popup},_openPopup:function(kt){if(!(!this._popup||!this._map)){ea(kt);var Mt=kt.layer||kt.target;if(this._popup._source===Mt&&!(Mt instanceof Ca)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(kt.latlng);return}this._popup._source=Mt,this.openPopup(kt.latlng)}},_movePopup:function(kt){this._popup.setLatLng(kt.latlng)},_onKeyPress:function(kt){kt.originalEvent.keyCode===13&&this._openPopup(kt)}});var xs=oa.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(kt){oa.prototype.onAdd.call(this,kt),this.setOpacity(this.options.opacity),kt.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(kt){oa.prototype.onRemove.call(this,kt),kt.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var kt=oa.prototype.getEvents.call(this);return this.options.permanent||(kt.preclick=this.close),kt},_initLayout:function(){var kt="leaflet-tooltip",Mt=kt+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=or("div",Mt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Et(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(kt){var Mt,Vt,Zt=this._map,mi=this._container,Ci=Zt.latLngToContainerPoint(Zt.getCenter()),en=Zt.layerPointToContainerPoint(kt),fn=this.options.direction,mn=mi.offsetWidth,On=mi.offsetHeight,er=Ai(this.options.offset),kr=this._getAnchor();fn==="top"?(Mt=mn/2,Vt=On):fn==="bottom"?(Mt=mn/2,Vt=0):fn==="center"?(Mt=mn/2,Vt=On/2):fn==="right"?(Mt=0,Vt=On/2):fn==="left"?(Mt=mn,Vt=On/2):en.x<Ci.x?(fn="right",Mt=0,Vt=On/2):(fn="left",Mt=mn+(er.x+kr.x)*2,Vt=On/2),kt=kt.subtract(Ai(Mt,Vt,!0)).add(er).add(kr),Yr(mi,"leaflet-tooltip-right"),Yr(mi,"leaflet-tooltip-left"),Yr(mi,"leaflet-tooltip-top"),Yr(mi,"leaflet-tooltip-bottom"),Tr(mi,"leaflet-tooltip-"+fn),Gr(mi,kt)},_updatePosition:function(){var kt=this._map.latLngToLayerPoint(this._latlng);this._setPosition(kt)},setOpacity:function(kt){this.options.opacity=kt,this._container&&no(this._container,kt)},_animateZoom:function(kt){var Mt=this._map._latLngToNewLayerPoint(this._latlng,kt.zoom,kt.center);this._setPosition(Mt)},_getAnchor:function(){return Ai(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Kl=function(kt,Mt){return new xs(kt,Mt)};Pr.include({openTooltip:function(kt,Mt,Vt){return this._initOverlay(xs,kt,Mt,Vt).openOn(this),this},closeTooltip:function(kt){return kt.close(),this}}),Hr.include({bindTooltip:function(kt,Mt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(xs,this._tooltip,kt,Mt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(kt){if(!(!kt&&this._tooltipHandlersAdded)){var Mt=kt?"off":"on",Vt={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?Vt.add=this._openTooltip:(Vt.mouseover=this._openTooltip,Vt.mouseout=this.closeTooltip,Vt.click=this._openTooltip,this._map?this._addFocusListeners():Vt.add=this._addFocusListeners),this._tooltip.options.sticky&&(Vt.mousemove=this._moveTooltip),this[Mt](Vt),this._tooltipHandlersAdded=!kt}},openTooltip:function(kt){return this._tooltip&&(this instanceof na||(this._tooltip._source=this),this._tooltip._prepareOpen(kt)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(kt){return this._tooltip&&this._tooltip.setContent(kt),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(kt){var Mt=kt.getElement();Mt&&($r(Mt,"focus",function(){this._tooltip._source=kt,this.openTooltip()},this),$r(Mt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(kt){var Mt=kt.getElement();Mt&&Mt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(kt){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=kt.layer||kt.target,this.openTooltip(this._tooltip.options.sticky?kt.latlng:void 0))},_moveTooltip:function(kt){var Mt=kt.latlng,Vt,Zt;this._tooltip.options.sticky&&kt.originalEvent&&(Vt=this._map.mouseEventToContainerPoint(kt.originalEvent),Zt=this._map.containerPointToLayerPoint(Vt),Mt=this._map.layerPointToLatLng(Zt)),this._tooltip.setLatLng(Mt)}});var Jl=Ma.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(kt){var Mt=kt&&kt.tagName==="DIV"?kt:document.createElement("div"),Vt=this.options;if(Vt.html instanceof Element?(Bo(Mt),Mt.appendChild(Vt.html)):Mt.innerHTML=Vt.html!==!1?Vt.html:"",Vt.bgPos){var Zt=Ai(Vt.bgPos);Mt.style.backgroundPosition=-Zt.x+"px "+-Zt.y+"px"}return this._setIconStyles(Mt,"icon"),Mt},createShadow:function(){return null}});function vu(kt){return new Jl(kt)}Ma.Default=_s;var as=Hr.extend({options:{tileSize:256,opacity:1,updateWhenIdle:zn.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(kt){Ut(this,kt)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(kt){kt._addZoomLimit(this)},onRemove:function(kt){this._removeAllTiles(),Zi(this._container),kt._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(cn(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(eo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(kt){return this.options.opacity=kt,this._updateOpacity(),this},setZIndex:function(kt){return this.options.zIndex=kt,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var kt=this._clampZoom(this._map.getZoom());kt!==this._tileZoom&&(this._tileZoom=kt,this._updateLevels()),this._update()}return this},getEvents:function(){var kt={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Tt(this._onMoveEnd,this.options.updateInterval,this)),kt.move=this._onMove),this._zoomAnimated&&(kt.zoomanim=this._animateZoom),kt},createTile:function(){return document.createElement("div")},getTileSize:function(){var kt=this.options.tileSize;return kt instanceof Xi?kt:new Xi(kt,kt)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(kt){for(var Mt=this.getPane().children,Vt=-kt(-1/0,1/0),Zt=0,mi=Mt.length,Ci;Zt<mi;Zt++)Ci=Mt[Zt].style.zIndex,Mt[Zt]!==this._container&&Ci&&(Vt=kt(Vt,+Ci));isFinite(Vt)&&(this.options.zIndex=Vt+kt(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!zn.ielt9){no(this._container,this.options.opacity);var kt=+new Date,Mt=!1,Vt=!1;for(var Zt in this._tiles){var mi=this._tiles[Zt];if(!(!mi.current||!mi.loaded)){var Ci=Math.min(1,(kt-mi.loaded)/200);no(mi.el,Ci),Ci<1?Mt=!0:(mi.active?Vt=!0:this._onOpaqueTile(mi),mi.active=!0)}}Vt&&!this._noPrune&&this._pruneTiles(),Mt&&(ei(this._fadeFrame),this._fadeFrame=hi(this._updateOpacity,this))}},_onOpaqueTile:Dt,_initContainer:function(){this._container||(this._container=or("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var kt=this._tileZoom,Mt=this.options.maxZoom;if(kt!==void 0){for(var Vt in this._levels)Vt=Number(Vt),this._levels[Vt].el.children.length||Vt===kt?(this._levels[Vt].el.style.zIndex=Mt-Math.abs(kt-Vt),this._onUpdateLevel(Vt)):(Zi(this._levels[Vt].el),this._removeTilesAtZoom(Vt),this._onRemoveLevel(Vt),delete this._levels[Vt]);var Zt=this._levels[kt],mi=this._map;return Zt||(Zt=this._levels[kt]={},Zt.el=or("div","leaflet-tile-container leaflet-zoom-animated",this._container),Zt.el.style.zIndex=Mt,Zt.origin=mi.project(mi.unproject(mi.getPixelOrigin()),kt).round(),Zt.zoom=kt,this._setZoomTransform(Zt,mi.getCenter(),mi.getZoom()),Dt(Zt.el.offsetWidth),this._onCreateLevel(Zt)),this._level=Zt,Zt}},_onUpdateLevel:Dt,_onRemoveLevel:Dt,_onCreateLevel:Dt,_pruneTiles:function(){if(!!this._map){var kt,Mt,Vt=this._map.getZoom();if(Vt>this.options.maxZoom||Vt<this.options.minZoom){this._removeAllTiles();return}for(kt in this._tiles)Mt=this._tiles[kt],Mt.retain=Mt.current;for(kt in this._tiles)if(Mt=this._tiles[kt],Mt.current&&!Mt.active){var Zt=Mt.coords;this._retainParent(Zt.x,Zt.y,Zt.z,Zt.z-5)||this._retainChildren(Zt.x,Zt.y,Zt.z,Zt.z+2)}for(kt in this._tiles)this._tiles[kt].retain||this._removeTile(kt)}},_removeTilesAtZoom:function(kt){for(var Mt in this._tiles)this._tiles[Mt].coords.z===kt&&this._removeTile(Mt)},_removeAllTiles:function(){for(var kt in this._tiles)this._removeTile(kt)},_invalidateAll:function(){for(var kt in this._levels)Zi(this._levels[kt].el),this._onRemoveLevel(Number(kt)),delete this._levels[kt];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(kt,Mt,Vt,Zt){var mi=Math.floor(kt/2),Ci=Math.floor(Mt/2),en=Vt-1,fn=new Xi(+mi,+Ci);fn.z=+en;var mn=this._tileCoordsToKey(fn),On=this._tiles[mn];return On&&On.active?(On.retain=!0,!0):(On&&On.loaded&&(On.retain=!0),en>Zt?this._retainParent(mi,Ci,en,Zt):!1)},_retainChildren:function(kt,Mt,Vt,Zt){for(var mi=2*kt;mi<2*kt+2;mi++)for(var Ci=2*Mt;Ci<2*Mt+2;Ci++){var en=new Xi(mi,Ci);en.z=Vt+1;var fn=this._tileCoordsToKey(en),mn=this._tiles[fn];if(mn&&mn.active){mn.retain=!0;continue}else mn&&mn.loaded&&(mn.retain=!0);Vt+1<Zt&&this._retainChildren(mi,Ci,Vt+1,Zt)}},_resetView:function(kt){var Mt=kt&&(kt.pinch||kt.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Mt,Mt)},_animateZoom:function(kt){this._setView(kt.center,kt.zoom,!0,kt.noUpdate)},_clampZoom:function(kt){var Mt=this.options;return Mt.minNativeZoom!==void 0&&kt<Mt.minNativeZoom?Mt.minNativeZoom:Mt.maxNativeZoom!==void 0&&Mt.maxNativeZoom<kt?Mt.maxNativeZoom:kt},_setView:function(kt,Mt,Vt,Zt){var mi=Math.round(Mt);this.options.maxZoom!==void 0&&mi>this.options.maxZoom||this.options.minZoom!==void 0&&mi<this.options.minZoom?mi=void 0:mi=this._clampZoom(mi);var Ci=this.options.updateWhenZooming&&mi!==this._tileZoom;(!Zt||Ci)&&(this._tileZoom=mi,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),mi!==void 0&&this._update(kt),Vt||this._pruneTiles(),this._noPrune=!!Vt),this._setZoomTransforms(kt,Mt)},_setZoomTransforms:function(kt,Mt){for(var Vt in this._levels)this._setZoomTransform(this._levels[Vt],kt,Mt)},_setZoomTransform:function(kt,Mt,Vt){var Zt=this._map.getZoomScale(Vt,kt.zoom),mi=kt.origin.multiplyBy(Zt).subtract(this._map._getNewPixelOrigin(Mt,Vt)).round();zn.any3d?Oo(kt.el,mi,Zt):Gr(kt.el,mi)},_resetGrid:function(){var kt=this._map,Mt=kt.options.crs,Vt=this._tileSize=this.getTileSize(),Zt=this._tileZoom,mi=this._map.getPixelWorldBounds(this._tileZoom);mi&&(this._globalTileRange=this._pxBoundsToTileRange(mi)),this._wrapX=Mt.wrapLng&&!this.options.noWrap&&[Math.floor(kt.project([0,Mt.wrapLng[0]],Zt).x/Vt.x),Math.ceil(kt.project([0,Mt.wrapLng[1]],Zt).x/Vt.y)],this._wrapY=Mt.wrapLat&&!this.options.noWrap&&[Math.floor(kt.project([Mt.wrapLat[0],0],Zt).y/Vt.x),Math.ceil(kt.project([Mt.wrapLat[1],0],Zt).y/Vt.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(kt){var Mt=this._map,Vt=Mt._animatingZoom?Math.max(Mt._animateToZoom,Mt.getZoom()):Mt.getZoom(),Zt=Mt.getZoomScale(Vt,this._tileZoom),mi=Mt.project(kt,this._tileZoom).floor(),Ci=Mt.getSize().divideBy(Zt*2);return new ji(mi.subtract(Ci),mi.add(Ci))},_update:function(kt){var Mt=this._map;if(!!Mt){var Vt=this._clampZoom(Mt.getZoom());if(kt===void 0&&(kt=Mt.getCenter()),this._tileZoom!==void 0){var Zt=this._getTiledPixelBounds(kt),mi=this._pxBoundsToTileRange(Zt),Ci=mi.getCenter(),en=[],fn=this.options.keepBuffer,mn=new ji(mi.getBottomLeft().subtract([fn,-fn]),mi.getTopRight().add([fn,-fn]));if(!(isFinite(mi.min.x)&&isFinite(mi.min.y)&&isFinite(mi.max.x)&&isFinite(mi.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var On in this._tiles){var er=this._tiles[On].coords;(er.z!==this._tileZoom||!mn.contains(new Xi(er.x,er.y)))&&(this._tiles[On].current=!1)}if(Math.abs(Vt-this._tileZoom)>1){this._setView(kt,Vt);return}for(var kr=mi.min.y;kr<=mi.max.y;kr++)for(var Br=mi.min.x;Br<=mi.max.x;Br++){var Ko=new Xi(Br,kr);if(Ko.z=this._tileZoom,!!this._isValidTile(Ko)){var ja=this._tiles[this._tileCoordsToKey(Ko)];ja?ja.current=!0:en.push(Ko)}}if(en.sort(function(Ba,wl){return Ba.distanceTo(Ci)-wl.distanceTo(Ci)}),en.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var ls=document.createDocumentFragment();for(Br=0;Br<en.length;Br++)this._addTile(en[Br],ls);this._level.el.appendChild(ls)}}}},_isValidTile:function(kt){var Mt=this._map.options.crs;if(!Mt.infinite){var Vt=this._globalTileRange;if(!Mt.wrapLng&&(kt.x<Vt.min.x||kt.x>Vt.max.x)||!Mt.wrapLat&&(kt.y<Vt.min.y||kt.y>Vt.max.y))return!1}if(!this.options.bounds)return!0;var Zt=this._tileCoordsToBounds(kt);return Qi(this.options.bounds).overlaps(Zt)},_keyToBounds:function(kt){return this._tileCoordsToBounds(this._keyToTileCoords(kt))},_tileCoordsToNwSe:function(kt){var Mt=this._map,Vt=this.getTileSize(),Zt=kt.scaleBy(Vt),mi=Zt.add(Vt),Ci=Mt.unproject(Zt,kt.z),en=Mt.unproject(mi,kt.z);return[Ci,en]},_tileCoordsToBounds:function(kt){var Mt=this._tileCoordsToNwSe(kt),Vt=new Vi(Mt[0],Mt[1]);return this.options.noWrap||(Vt=this._map.wrapLatLngBounds(Vt)),Vt},_tileCoordsToKey:function(kt){return kt.x+":"+kt.y+":"+kt.z},_keyToTileCoords:function(kt){var Mt=kt.split(":"),Vt=new Xi(+Mt[0],+Mt[1]);return Vt.z=+Mt[2],Vt},_removeTile:function(kt){var Mt=this._tiles[kt];!Mt||(Zi(Mt.el),delete this._tiles[kt],this.fire("tileunload",{tile:Mt.el,coords:this._keyToTileCoords(kt)}))},_initTile:function(kt){Tr(kt,"leaflet-tile");var Mt=this.getTileSize();kt.style.width=Mt.x+"px",kt.style.height=Mt.y+"px",kt.onselectstart=Dt,kt.onmousemove=Dt,zn.ielt9&&this.options.opacity<1&&no(kt,this.options.opacity)},_addTile:function(kt,Mt){var Vt=this._getTilePos(kt),Zt=this._tileCoordsToKey(kt),mi=this.createTile(this._wrapCoords(kt),_t(this._tileReady,this,kt));this._initTile(mi),this.createTile.length<2&&hi(_t(this._tileReady,this,kt,null,mi)),Gr(mi,Vt),this._tiles[Zt]={el:mi,coords:kt,current:!0},Mt.appendChild(mi),this.fire("tileloadstart",{tile:mi,coords:kt})},_tileReady:function(kt,Mt,Vt){Mt&&this.fire("tileerror",{error:Mt,tile:Vt,coords:kt});var Zt=this._tileCoordsToKey(kt);Vt=this._tiles[Zt],Vt&&(Vt.loaded=+new Date,this._map._fadeAnimated?(no(Vt.el,0),ei(this._fadeFrame),this._fadeFrame=hi(this._updateOpacity,this)):(Vt.active=!0,this._pruneTiles()),Mt||(Tr(Vt.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:Vt.el,coords:kt})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),zn.ielt9||!this._map._fadeAnimated?hi(this._pruneTiles,this):setTimeout(_t(this._pruneTiles,this),250)))},_getTilePos:function(kt){return kt.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(kt){var Mt=new Xi(this._wrapX?$t(kt.x,this._wrapX):kt.x,this._wrapY?$t(kt.y,this._wrapY):kt.y);return Mt.z=kt.z,Mt},_pxBoundsToTileRange:function(kt){var Mt=this.getTileSize();return new ji(kt.min.unscaleBy(Mt).floor(),kt.max.unscaleBy(Mt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var kt in this._tiles)if(!this._tiles[kt].loaded)return!1;return!0}});function bu(kt){return new as(kt)}var ss=as.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(kt,Mt){this._url=kt,Mt=Ut(this,Mt),Mt.detectRetina&&zn.retina&&Mt.maxZoom>0?(Mt.tileSize=Math.floor(Mt.tileSize/2),Mt.zoomReverse?(Mt.zoomOffset--,Mt.minZoom=Math.min(Mt.maxZoom,Mt.minZoom+1)):(Mt.zoomOffset++,Mt.maxZoom=Math.max(Mt.minZoom,Mt.maxZoom-1)),Mt.minZoom=Math.max(0,Mt.minZoom)):Mt.zoomReverse?Mt.minZoom=Math.min(Mt.maxZoom,Mt.minZoom):Mt.maxZoom=Math.max(Mt.minZoom,Mt.maxZoom),typeof Mt.subdomains=="string"&&(Mt.subdomains=Mt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(kt,Mt){return this._url===kt&&Mt===void 0&&(Mt=!0),this._url=kt,Mt||this.redraw(),this},createTile:function(kt,Mt){var Vt=document.createElement("img");return $r(Vt,"load",_t(this._tileOnLoad,this,Mt,Vt)),$r(Vt,"error",_t(this._tileOnError,this,Mt,Vt)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Vt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(Vt.referrerPolicy=this.options.referrerPolicy),Vt.alt="",Vt.src=this.getTileUrl(kt),Vt},getTileUrl:function(kt){var Mt={r:zn.retina?"@2x":"",s:this._getSubdomain(kt),x:kt.x,y:kt.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var Vt=this._globalTileRange.max.y-kt.y;this.options.tms&&(Mt.y=Vt),Mt["-y"]=Vt}return Wt(this._url,vt(Mt,this.options))},_tileOnLoad:function(kt,Mt){zn.ielt9?setTimeout(_t(kt,this,null,Mt),0):kt(null,Mt)},_tileOnError:function(kt,Mt,Vt){var Zt=this.options.errorTileUrl;Zt&&Mt.getAttribute("src")!==Zt&&(Mt.src=Zt),kt(Vt,Mt)},_onTileRemove:function(kt){kt.tile.onload=null},_getZoomForUrl:function(){var kt=this._tileZoom,Mt=this.options.maxZoom,Vt=this.options.zoomReverse,Zt=this.options.zoomOffset;return Vt&&(kt=Mt-kt),kt+Zt},_getSubdomain:function(kt){var Mt=Math.abs(kt.x+kt.y)%this.options.subdomains.length;return this.options.subdomains[Mt]},_abortLoading:function(){var kt,Mt;for(kt in this._tiles)if(this._tiles[kt].coords.z!==this._tileZoom&&(Mt=this._tiles[kt].el,Mt.onload=Dt,Mt.onerror=Dt,!Mt.complete)){Mt.src=ti;var Vt=this._tiles[kt].coords;Zi(Mt),delete this._tiles[kt],this.fire("tileabort",{tile:Mt,coords:Vt})}},_removeTile:function(kt){var Mt=this._tiles[kt];if(!!Mt)return Mt.el.setAttribute("src",ti),as.prototype._removeTile.call(this,kt)},_tileReady:function(kt,Mt,Vt){if(!(!this._map||Vt&&Vt.getAttribute("src")===ti))return as.prototype._tileReady.call(this,kt,Mt,Vt)}});function pl(kt,Mt){return new ss(kt,Mt)}var Ws=ss.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(kt,Mt){this._url=kt;var Vt=vt({},this.defaultWmsParams);for(var Zt in Mt)Zt in this.options||(Vt[Zt]=Mt[Zt]);Mt=Ut(this,Mt);var mi=Mt.detectRetina&&zn.retina?2:1,Ci=this.getTileSize();Vt.width=Ci.x*mi,Vt.height=Ci.y*mi,this.wmsParams=Vt},onAdd:function(kt){this._crs=this.options.crs||kt.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Mt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Mt]=this._crs.code,ss.prototype.onAdd.call(this,kt)},getTileUrl:function(kt){var Mt=this._tileCoordsToNwSe(kt),Vt=this._crs,Zt=Ri(Vt.project(Mt[0]),Vt.project(Mt[1])),mi=Zt.min,Ci=Zt.max,en=(this._wmsVersion>=1.3&&this._crs===ar?[mi.y,mi.x,Ci.y,Ci.x]:[mi.x,mi.y,Ci.x,Ci.y]).join(","),fn=ss.prototype.getTileUrl.call(this,kt);return fn+It(this.wmsParams,fn,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+en},setParams:function(kt,Mt){return vt(this.wmsParams,kt),Mt||this.redraw(),this}});function gl(kt,Mt){return new Ws(kt,Mt)}ss.WMS=Ws,pl.wms=gl;var ga=Hr.extend({options:{padding:.1},initialize:function(kt){Ut(this,kt),Et(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Tr(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var kt={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(kt.zoomanim=this._onAnimZoom),kt},_onAnimZoom:function(kt){this._updateTransform(kt.center,kt.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(kt,Mt){var Vt=this._map.getZoomScale(Mt,this._zoom),Zt=this._map.getSize().multiplyBy(.5+this.options.padding),mi=this._map.project(this._center,Mt),Ci=Zt.multiplyBy(-Vt).add(mi).subtract(this._map._getNewPixelOrigin(kt,Mt));zn.any3d?Oo(this._container,Ci,Vt):Gr(this._container,Ci)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var kt in this._layers)this._layers[kt]._reset()},_onZoomEnd:function(){for(var kt in this._layers)this._layers[kt]._project()},_updatePaths:function(){for(var kt in this._layers)this._layers[kt]._update()},_update:function(){var kt=this.options.padding,Mt=this._map.getSize(),Vt=this._map.containerPointToLayerPoint(Mt.multiplyBy(-kt)).round();this._bounds=new ji(Vt,Vt.add(Mt.multiplyBy(1+kt*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ml=ga.extend({options:{tolerance:0},getEvents:function(){var kt=ga.prototype.getEvents.call(this);return kt.viewprereset=this._onViewPreReset,kt},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ga.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var kt=this._container=document.createElement("canvas");$r(kt,"mousemove",this._onMouseMove,this),$r(kt,"click dblclick mousedown mouseup contextmenu",this._onClick,this),$r(kt,"mouseout",this._handleMouseOut,this),kt._leaflet_disable_events=!0,this._ctx=kt.getContext("2d")},_destroyContainer:function(){ei(this._redrawRequest),delete this._ctx,Zi(this._container),dr(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var kt;this._redrawBounds=null;for(var Mt in this._layers)kt=this._layers[Mt],kt._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ga.prototype._update.call(this);var kt=this._bounds,Mt=this._container,Vt=kt.getSize(),Zt=zn.retina?2:1;Gr(Mt,kt.min),Mt.width=Zt*Vt.x,Mt.height=Zt*Vt.y,Mt.style.width=Vt.x+"px",Mt.style.height=Vt.y+"px",zn.retina&&this._ctx.scale(2,2),this._ctx.translate(-kt.min.x,-kt.min.y),this.fire("update")}},_reset:function(){ga.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(kt){this._updateDashArray(kt),this._layers[Et(kt)]=kt;var Mt=kt._order={layer:kt,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Mt),this._drawLast=Mt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(kt){this._requestRedraw(kt)},_removePath:function(kt){var Mt=kt._order,Vt=Mt.next,Zt=Mt.prev;Vt?Vt.prev=Zt:this._drawLast=Zt,Zt?Zt.next=Vt:this._drawFirst=Vt,delete kt._order,delete this._layers[Et(kt)],this._requestRedraw(kt)},_updatePath:function(kt){this._extendRedrawBounds(kt),kt._project(),kt._update(),this._requestRedraw(kt)},_updateStyle:function(kt){this._updateDashArray(kt),this._requestRedraw(kt)},_updateDashArray:function(kt){if(typeof kt.options.dashArray=="string"){var Mt=kt.options.dashArray.split(/[, ]+/),Vt=[],Zt,mi;for(mi=0;mi<Mt.length;mi++){if(Zt=Number(Mt[mi]),isNaN(Zt))return;Vt.push(Zt)}kt.options._dashArray=Vt}else kt.options._dashArray=kt.options.dashArray},_requestRedraw:function(kt){!this._map||(this._extendRedrawBounds(kt),this._redrawRequest=this._redrawRequest||hi(this._redraw,this))},_extendRedrawBounds:function(kt){if(kt._pxBounds){var Mt=(kt.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ji,this._redrawBounds.extend(kt._pxBounds.min.subtract([Mt,Mt])),this._redrawBounds.extend(kt._pxBounds.max.add([Mt,Mt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var kt=this._redrawBounds;if(kt){var Mt=kt.getSize();this._ctx.clearRect(kt.min.x,kt.min.y,Mt.x,Mt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var kt,Mt=this._redrawBounds;if(this._ctx.save(),Mt){var Vt=Mt.getSize();this._ctx.beginPath(),this._ctx.rect(Mt.min.x,Mt.min.y,Vt.x,Vt.y),this._ctx.clip()}this._drawing=!0;for(var Zt=this._drawFirst;Zt;Zt=Zt.next)kt=Zt.layer,(!Mt||kt._pxBounds&&kt._pxBounds.intersects(Mt))&&kt._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(kt,Mt){if(!!this._drawing){var Vt,Zt,mi,Ci,en=kt._parts,fn=en.length,mn=this._ctx;if(!!fn){for(mn.beginPath(),Vt=0;Vt<fn;Vt++){for(Zt=0,mi=en[Vt].length;Zt<mi;Zt++)Ci=en[Vt][Zt],mn[Zt?"lineTo":"moveTo"](Ci.x,Ci.y);Mt&&mn.closePath()}this._fillStroke(mn,kt)}}},_updateCircle:function(kt){if(!(!this._drawing||kt._empty())){var Mt=kt._point,Vt=this._ctx,Zt=Math.max(Math.round(kt._radius),1),mi=(Math.max(Math.round(kt._radiusY),1)||Zt)/Zt;mi!==1&&(Vt.save(),Vt.scale(1,mi)),Vt.beginPath(),Vt.arc(Mt.x,Mt.y/mi,Zt,0,Math.PI*2,!1),mi!==1&&Vt.restore(),this._fillStroke(Vt,kt)}},_fillStroke:function(kt,Mt){var Vt=Mt.options;Vt.fill&&(kt.globalAlpha=Vt.fillOpacity,kt.fillStyle=Vt.fillColor||Vt.color,kt.fill(Vt.fillRule||"evenodd")),Vt.stroke&&Vt.weight!==0&&(kt.setLineDash&&kt.setLineDash(Mt.options&&Mt.options._dashArray||[]),kt.globalAlpha=Vt.opacity,kt.lineWidth=Vt.weight,kt.strokeStyle=Vt.color,kt.lineCap=Vt.lineCap,kt.lineJoin=Vt.lineJoin,kt.stroke())},_onClick:function(kt){for(var Mt=this._map.mouseEventToLayerPoint(kt),Vt,Zt,mi=this._drawFirst;mi;mi=mi.next)Vt=mi.layer,Vt.options.interactive&&Vt._containsPoint(Mt)&&(!(kt.type==="click"||kt.type==="preclick")||!this._map._draggableMoved(Vt))&&(Zt=Vt);this._fireEvent(Zt?[Zt]:!1,kt)},_onMouseMove:function(kt){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Mt=this._map.mouseEventToLayerPoint(kt);this._handleMouseHover(kt,Mt)}},_handleMouseOut:function(kt){var Mt=this._hoveredLayer;Mt&&(Yr(this._container,"leaflet-interactive"),this._fireEvent([Mt],kt,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(kt,Mt){if(!this._mouseHoverThrottled){for(var Vt,Zt,mi=this._drawFirst;mi;mi=mi.next)Vt=mi.layer,Vt.options.interactive&&Vt._containsPoint(Mt)&&(Zt=Vt);Zt!==this._hoveredLayer&&(this._handleMouseOut(kt),Zt&&(Tr(this._container,"leaflet-interactive"),this._fireEvent([Zt],kt,"mouseover"),this._hoveredLayer=Zt)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,kt),this._mouseHoverThrottled=!0,setTimeout(_t(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(kt,Mt,Vt){this._map._fireDOMEvent(Mt,Vt||Mt.type,kt)},_bringToFront:function(kt){var Mt=kt._order;if(!!Mt){var Vt=Mt.next,Zt=Mt.prev;if(Vt)Vt.prev=Zt;else return;Zt?Zt.next=Vt:Vt&&(this._drawFirst=Vt),Mt.prev=this._drawLast,this._drawLast.next=Mt,Mt.next=null,this._drawLast=Mt,this._requestRedraw(kt)}},_bringToBack:function(kt){var Mt=kt._order;if(!!Mt){var Vt=Mt.next,Zt=Mt.prev;if(Zt)Zt.next=Vt;else return;Vt?Vt.prev=Zt:Zt&&(this._drawLast=Zt),Mt.prev=null,Mt.next=this._drawFirst,this._drawFirst.prev=Mt,this._drawFirst=Mt,this._requestRedraw(kt)}}});function Ql(kt){return zn.canvas?new ml(kt):null}var Ss=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(kt){return document.createElement("<lvml:"+kt+' class="lvml">')}}catch{}return function(kt){return document.createElement("<"+kt+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),yl={_initContainer:function(){this._container=or("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ga.prototype._update.call(this),this.fire("update"))},_initPath:function(kt){var Mt=kt._container=Ss("shape");Tr(Mt,"leaflet-vml-shape "+(this.options.className||"")),Mt.coordsize="1 1",kt._path=Ss("path"),Mt.appendChild(kt._path),this._updateStyle(kt),this._layers[Et(kt)]=kt},_addPath:function(kt){var Mt=kt._container;this._container.appendChild(Mt),kt.options.interactive&&kt.addInteractiveTarget(Mt)},_removePath:function(kt){var Mt=kt._container;Zi(Mt),kt.removeInteractiveTarget(Mt),delete this._layers[Et(kt)]},_updateStyle:function(kt){var Mt=kt._stroke,Vt=kt._fill,Zt=kt.options,mi=kt._container;mi.stroked=!!Zt.stroke,mi.filled=!!Zt.fill,Zt.stroke?(Mt||(Mt=kt._stroke=Ss("stroke")),mi.appendChild(Mt),Mt.weight=Zt.weight+"px",Mt.color=Zt.color,Mt.opacity=Zt.opacity,Zt.dashArray?Mt.dashStyle=qt(Zt.dashArray)?Zt.dashArray.join(" "):Zt.dashArray.replace(/( *, *)/g," "):Mt.dashStyle="",Mt.endcap=Zt.lineCap.replace("butt","flat"),Mt.joinstyle=Zt.lineJoin):Mt&&(mi.removeChild(Mt),kt._stroke=null),Zt.fill?(Vt||(Vt=kt._fill=Ss("fill")),mi.appendChild(Vt),Vt.color=Zt.fillColor||Zt.color,Vt.opacity=Zt.fillOpacity):Vt&&(mi.removeChild(Vt),kt._fill=null)},_updateCircle:function(kt){var Mt=kt._point.round(),Vt=Math.round(kt._radius),Zt=Math.round(kt._radiusY||Vt);this._setPath(kt,kt._empty()?"M0 0":"AL "+Mt.x+","+Mt.y+" "+Vt+","+Zt+" 0,"+65535*360)},_setPath:function(kt,Mt){kt._path.v=Mt},_bringToFront:function(kt){cn(kt._container)},_bringToBack:function(kt){eo(kt._container)}},Ys=zn.vml?Ss:Jt,Es=ga.extend({_initContainer:function(){this._container=Ys("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ys("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Zi(this._container),dr(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ga.prototype._update.call(this);var kt=this._bounds,Mt=kt.getSize(),Vt=this._container;(!this._svgSize||!this._svgSize.equals(Mt))&&(this._svgSize=Mt,Vt.setAttribute("width",Mt.x),Vt.setAttribute("height",Mt.y)),Gr(Vt,kt.min),Vt.setAttribute("viewBox",[kt.min.x,kt.min.y,Mt.x,Mt.y].join(" ")),this.fire("update")}},_initPath:function(kt){var Mt=kt._path=Ys("path");kt.options.className&&Tr(Mt,kt.options.className),kt.options.interactive&&Tr(Mt,"leaflet-interactive"),this._updateStyle(kt),this._layers[Et(kt)]=kt},_addPath:function(kt){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(kt._path),kt.addInteractiveTarget(kt._path)},_removePath:function(kt){Zi(kt._path),kt.removeInteractiveTarget(kt._path),delete this._layers[Et(kt)]},_updatePath:function(kt){kt._project(),kt._update()},_updateStyle:function(kt){var Mt=kt._path,Vt=kt.options;!Mt||(Vt.stroke?(Mt.setAttribute("stroke",Vt.color),Mt.setAttribute("stroke-opacity",Vt.opacity),Mt.setAttribute("stroke-width",Vt.weight),Mt.setAttribute("stroke-linecap",Vt.lineCap),Mt.setAttribute("stroke-linejoin",Vt.lineJoin),Vt.dashArray?Mt.setAttribute("stroke-dasharray",Vt.dashArray):Mt.removeAttribute("stroke-dasharray"),Vt.dashOffset?Mt.setAttribute("stroke-dashoffset",Vt.dashOffset):Mt.removeAttribute("stroke-dashoffset")):Mt.setAttribute("stroke","none"),Vt.fill?(Mt.setAttribute("fill",Vt.fillColor||Vt.color),Mt.setAttribute("fill-opacity",Vt.fillOpacity),Mt.setAttribute("fill-rule",Vt.fillRule||"evenodd")):Mt.setAttribute("fill","none"))},_updatePoly:function(kt,Mt){this._setPath(kt,Si(kt._parts,Mt))},_updateCircle:function(kt){var Mt=kt._point,Vt=Math.max(Math.round(kt._radius),1),Zt=Math.max(Math.round(kt._radiusY),1)||Vt,mi="a"+Vt+","+Zt+" 0 1,0 ",Ci=kt._empty()?"M0 0":"M"+(Mt.x-Vt)+","+Mt.y+mi+Vt*2+",0 "+mi+-Vt*2+",0 ";this._setPath(kt,Ci)},_setPath:function(kt,Mt){kt._path.setAttribute("d",Mt)},_bringToFront:function(kt){cn(kt._path)},_bringToBack:function(kt){eo(kt._path)}});zn.vml&&Es.include(yl);function ec(kt){return zn.svg||zn.vml?new Es(kt):null}Pr.include({getRenderer:function(kt){var Mt=kt.options.renderer||this._getPaneRenderer(kt.options.pane)||this.options.renderer||this._renderer;return Mt||(Mt=this._renderer=this._createRenderer()),this.hasLayer(Mt)||this.addLayer(Mt),Mt},_getPaneRenderer:function(kt){if(kt==="overlayPane"||kt===void 0)return!1;var Mt=this._paneRenderers[kt];return Mt===void 0&&(Mt=this._createRenderer({pane:kt}),this._paneRenderers[kt]=Mt),Mt},_createRenderer:function(kt){return this.options.preferCanvas&&Ql(kt)||ec(kt)}});var tc=Ra.extend({initialize:function(kt,Mt){Ra.prototype.initialize.call(this,this._boundsToLatLngs(kt),Mt)},setBounds:function(kt){return this.setLatLngs(this._boundsToLatLngs(kt))},_boundsToLatLngs:function(kt){return kt=Qi(kt),[kt.getSouthWest(),kt.getNorthWest(),kt.getNorthEast(),kt.getSouthEast()]}});function ic(kt,Mt){return new tc(kt,Mt)}Es.create=Ys,Es.pointsToPath=Si,Aa.geometryToLayer=vo,Aa.coordsToLatLng=os,Aa.coordsToLatLngs=Lo,Aa.latLngToCoords=Uo,Aa.latLngsToCoords=ra,Aa.getFeature=$a,Aa.asFeature=ws,Pr.mergeOptions({boxZoom:!0});var vl=po.extend({initialize:function(kt){this._map=kt,this._container=kt._container,this._pane=kt._panes.overlayPane,this._resetStateTimeout=0,kt.on("unload",this._destroy,this)},addHooks:function(){$r(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dr(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Zi(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(kt){if(!kt.shiftKey||kt.which!==1&&kt.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Or(),So(),this._startPoint=this._map.mouseEventToContainerPoint(kt),$r(document,{contextmenu:ea,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(kt){this._moved||(this._moved=!0,this._box=or("div","leaflet-zoom-box",this._container),Tr(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(kt);var Mt=new ji(this._point,this._startPoint),Vt=Mt.getSize();Gr(this._box,Mt.min),this._box.style.width=Vt.x+"px",this._box.style.height=Vt.y+"px"},_finish:function(){this._moved&&(Zi(this._box),Yr(this._container,"leaflet-crosshair")),to(),Eo(),dr(document,{contextmenu:ea,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(kt){if(!(kt.which!==1&&kt.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(_t(this._resetState,this),0);var Mt=new Vi(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Mt).fire("boxzoomend",{boxZoomBounds:Mt})}},_onKeyDown:function(kt){kt.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Pr.addInitHook("addHandler","boxZoom",vl),Pr.mergeOptions({doubleClickZoom:!0});var bl=po.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(kt){var Mt=this._map,Vt=Mt.getZoom(),Zt=Mt.options.zoomDelta,mi=kt.originalEvent.shiftKey?Vt-Zt:Vt+Zt;Mt.options.doubleClickZoom==="center"?Mt.setZoom(mi):Mt.setZoomAround(kt.containerPoint,mi)}});Pr.addInitHook("addHandler","doubleClickZoom",bl),Pr.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ks=po.extend({addHooks:function(){if(!this._draggable){var kt=this._map;this._draggable=new ko(kt._mapPane,kt._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),kt.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),kt.on("zoomend",this._onZoomEnd,this),kt.whenReady(this._onZoomEnd,this))}Tr(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Yr(this._map._container,"leaflet-grab"),Yr(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var kt=this._map;if(kt._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Mt=Qi(this._map.options.maxBounds);this._offsetLimit=Ri(this._map.latLngToContainerPoint(Mt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Mt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;kt.fire("movestart").fire("dragstart"),kt.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(kt){if(this._map.options.inertia){var Mt=this._lastTime=+new Date,Vt=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(Vt),this._times.push(Mt),this._prunePositions(Mt)}this._map.fire("move",kt).fire("drag",kt)},_prunePositions:function(kt){for(;this._positions.length>1&&kt-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var kt=this._map.getSize().divideBy(2),Mt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Mt.subtract(kt).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(kt,Mt){return kt-(kt-Mt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var kt=this._draggable._newPos.subtract(this._draggable._startPos),Mt=this._offsetLimit;kt.x<Mt.min.x&&(kt.x=this._viscousLimit(kt.x,Mt.min.x)),kt.y<Mt.min.y&&(kt.y=this._viscousLimit(kt.y,Mt.min.y)),kt.x>Mt.max.x&&(kt.x=this._viscousLimit(kt.x,Mt.max.x)),kt.y>Mt.max.y&&(kt.y=this._viscousLimit(kt.y,Mt.max.y)),this._draggable._newPos=this._draggable._startPos.add(kt)}},_onPreDragWrap:function(){var kt=this._worldWidth,Mt=Math.round(kt/2),Vt=this._initialWorldOffset,Zt=this._draggable._newPos.x,mi=(Zt-Mt+Vt)%kt+Mt-Vt,Ci=(Zt+Mt+Vt)%kt-Mt-Vt,en=Math.abs(mi+Vt)<Math.abs(Ci+Vt)?mi:Ci;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=en},_onDragEnd:function(kt){var Mt=this._map,Vt=Mt.options,Zt=!Vt.inertia||kt.noInertia||this._times.length<2;if(Mt.fire("dragend",kt),Zt)Mt.fire("moveend");else{this._prunePositions(+new Date);var mi=this._lastPos.subtract(this._positions[0]),Ci=(this._lastTime-this._times[0])/1e3,en=Vt.easeLinearity,fn=mi.multiplyBy(en/Ci),mn=fn.distanceTo([0,0]),On=Math.min(Vt.inertiaMaxSpeed,mn),er=fn.multiplyBy(On/mn),kr=On/(Vt.inertiaDeceleration*en),Br=er.multiplyBy(-kr/2).round();!Br.x&&!Br.y?Mt.fire("moveend"):(Br=Mt._limitOffset(Br,Mt.options.maxBounds),hi(function(){Mt.panBy(Br,{duration:kr,easeLinearity:en,noMoveStart:!0,animate:!0})}))}}});Pr.addInitHook("addHandler","dragging",ks),Pr.mergeOptions({keyboard:!0,keyboardPanDelta:80});var _l=po.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(kt){this._map=kt,this._setPanDelta(kt.options.keyboardPanDelta),this._setZoomDelta(kt.options.zoomDelta)},addHooks:function(){var kt=this._map._container;kt.tabIndex<=0&&(kt.tabIndex="0"),$r(kt,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),dr(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var kt=document.body,Mt=document.documentElement,Vt=kt.scrollTop||Mt.scrollTop,Zt=kt.scrollLeft||Mt.scrollLeft;this._map._container.focus(),window.scrollTo(Zt,Vt)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(kt){var Mt=this._panKeys={},Vt=this.keyCodes,Zt,mi;for(Zt=0,mi=Vt.left.length;Zt<mi;Zt++)Mt[Vt.left[Zt]]=[-1*kt,0];for(Zt=0,mi=Vt.right.length;Zt<mi;Zt++)Mt[Vt.right[Zt]]=[kt,0];for(Zt=0,mi=Vt.down.length;Zt<mi;Zt++)Mt[Vt.down[Zt]]=[0,kt];for(Zt=0,mi=Vt.up.length;Zt<mi;Zt++)Mt[Vt.up[Zt]]=[0,-1*kt]},_setZoomDelta:function(kt){var Mt=this._zoomKeys={},Vt=this.keyCodes,Zt,mi;for(Zt=0,mi=Vt.zoomIn.length;Zt<mi;Zt++)Mt[Vt.zoomIn[Zt]]=kt;for(Zt=0,mi=Vt.zoomOut.length;Zt<mi;Zt++)Mt[Vt.zoomOut[Zt]]=-kt},_addHooks:function(){$r(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dr(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(kt){if(!(kt.altKey||kt.ctrlKey||kt.metaKey)){var Mt=kt.keyCode,Vt=this._map,Zt;if(Mt in this._panKeys){if(!Vt._panAnim||!Vt._panAnim._inProgress)if(Zt=this._panKeys[Mt],kt.shiftKey&&(Zt=Ai(Zt).multiplyBy(3)),Vt.options.maxBounds&&(Zt=Vt._limitOffset(Ai(Zt),Vt.options.maxBounds)),Vt.options.worldCopyJump){var mi=Vt.wrapLatLng(Vt.unproject(Vt.project(Vt.getCenter()).add(Zt)));Vt.panTo(mi)}else Vt.panBy(Zt)}else if(Mt in this._zoomKeys)Vt.setZoom(Vt.getZoom()+(kt.shiftKey?3:1)*this._zoomKeys[Mt]);else if(Mt===27&&Vt._popup&&Vt._popup.options.closeOnEscapeKey)Vt.closePopup();else return;ea(kt)}}});Pr.addInitHook("addHandler","keyboard",_l),Pr.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nc=po.extend({addHooks:function(){$r(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){dr(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(kt){var Mt=es(kt),Vt=this._map.options.wheelDebounceTime;this._delta+=Mt,this._lastMousePos=this._map.mouseEventToContainerPoint(kt),this._startTime||(this._startTime=+new Date);var Zt=Math.max(Vt-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(_t(this._performZoom,this),Zt),ea(kt)},_performZoom:function(){var kt=this._map,Mt=kt.getZoom(),Vt=this._map.options.zoomSnap||0;kt._stop();var Zt=this._delta/(this._map.options.wheelPxPerZoomLevel*4),mi=4*Math.log(2/(1+Math.exp(-Math.abs(Zt))))/Math.LN2,Ci=Vt?Math.ceil(mi/Vt)*Vt:mi,en=kt._limitZoom(Mt+(this._delta>0?Ci:-Ci))-Mt;this._delta=0,this._startTime=null,en&&(kt.options.scrollWheelZoom==="center"?kt.setZoom(Mt+en):kt.setZoomAround(this._lastMousePos,Mt+en))}});Pr.addInitHook("addHandler","scrollWheelZoom",nc);var rc=600;Pr.mergeOptions({tapHold:zn.touchNative&&zn.safari&&zn.mobile,tapTolerance:15});var oc=po.extend({addHooks:function(){$r(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dr(this._map._container,"touchstart",this._onDown,this)},_onDown:function(kt){if(clearTimeout(this._holdTimeout),kt.touches.length===1){var Mt=kt.touches[0];this._startPos=this._newPos=new Xi(Mt.clientX,Mt.clientY),this._holdTimeout=setTimeout(_t(function(){this._cancel(),this._isTapValid()&&($r(document,"touchend",lo),$r(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Mt))},this),rc),$r(document,"touchend touchcancel contextmenu",this._cancel,this),$r(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function kt(){dr(document,"touchend",lo),dr(document,"touchend touchcancel",kt)},_cancel:function(){clearTimeout(this._holdTimeout),dr(document,"touchend touchcancel contextmenu",this._cancel,this),dr(document,"touchmove",this._onMove,this)},_onMove:function(kt){var Mt=kt.touches[0];this._newPos=new Xi(Mt.clientX,Mt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(kt,Mt){var Vt=new MouseEvent(kt,{bubbles:!0,cancelable:!0,view:window,screenX:Mt.screenX,screenY:Mt.screenY,clientX:Mt.clientX,clientY:Mt.clientY});Vt._simulated=!0,Mt.target.dispatchEvent(Vt)}});Pr.addInitHook("addHandler","tapHold",oc),Pr.mergeOptions({touchZoom:zn.touch,bounceAtZoomLimits:!0});var ac=po.extend({addHooks:function(){Tr(this._map._container,"leaflet-touch-zoom"),$r(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Yr(this._map._container,"leaflet-touch-zoom"),dr(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(kt){var Mt=this._map;if(!(!kt.touches||kt.touches.length!==2||Mt._animatingZoom||this._zooming)){var Vt=Mt.mouseEventToContainerPoint(kt.touches[0]),Zt=Mt.mouseEventToContainerPoint(kt.touches[1]);this._centerPoint=Mt.getSize()._divideBy(2),this._startLatLng=Mt.containerPointToLatLng(this._centerPoint),Mt.options.touchZoom!=="center"&&(this._pinchStartLatLng=Mt.containerPointToLatLng(Vt.add(Zt)._divideBy(2))),this._startDist=Vt.distanceTo(Zt),this._startZoom=Mt.getZoom(),this._moved=!1,this._zooming=!0,Mt._stop(),$r(document,"touchmove",this._onTouchMove,this),$r(document,"touchend touchcancel",this._onTouchEnd,this),lo(kt)}},_onTouchMove:function(kt){if(!(!kt.touches||kt.touches.length!==2||!this._zooming)){var Mt=this._map,Vt=Mt.mouseEventToContainerPoint(kt.touches[0]),Zt=Mt.mouseEventToContainerPoint(kt.touches[1]),mi=Vt.distanceTo(Zt)/this._startDist;if(this._zoom=Mt.getScaleZoom(mi,this._startZoom),!Mt.options.bounceAtZoomLimits&&(this._zoom<Mt.getMinZoom()&&mi<1||this._zoom>Mt.getMaxZoom()&&mi>1)&&(this._zoom=Mt._limitZoom(this._zoom)),Mt.options.touchZoom==="center"){if(this._center=this._startLatLng,mi===1)return}else{var Ci=Vt._add(Zt)._divideBy(2)._subtract(this._centerPoint);if(mi===1&&Ci.x===0&&Ci.y===0)return;this._center=Mt.unproject(Mt.project(this._pinchStartLatLng,this._zoom).subtract(Ci),this._zoom)}this._moved||(Mt._moveStart(!0,!1),this._moved=!0),ei(this._animRequest);var en=_t(Mt._move,Mt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=hi(en,this,!0),lo(kt)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ei(this._animRequest),dr(document,"touchmove",this._onTouchMove,this),dr(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Pr.addInitHook("addHandler","touchZoom",ac),Pr.BoxZoom=vl,Pr.DoubleClickZoom=bl,Pr.Drag=ks,Pr.Keyboard=_l,Pr.ScrollWheelZoom=nc,Pr.TapHold=oc,Pr.TouchZoom=ac,rt.Bounds=ji,rt.Browser=zn,rt.CRS=bn,rt.Canvas=ml,rt.Circle=fl,rt.CircleMarker=Hs,rt.Class=Kt,rt.Control=fo,rt.DivIcon=Jl,rt.DivOverlay=oa,rt.DomEvent=_o,rt.DomUtil=ul,rt.Draggable=ko,rt.Evented=Fi,rt.FeatureGroup=na,rt.GeoJSON=Aa,rt.GridLayer=as,rt.Handler=po,rt.Icon=Ma,rt.ImageOverlay=Us,rt.LatLng=rn,rt.LatLngBounds=Vi,rt.Layer=Hr,rt.LayerGroup=zr,rt.LineUtil=Ei,rt.Map=Pr,rt.Marker=zs,rt.Mixin=Ea,rt.Path=Ca,rt.Point=Xi,rt.PolyUtil=_n,rt.Polygon=Ra,rt.Polyline=Ta,rt.Popup=pa,rt.PosAnimation=ts,rt.Projection=Vn,rt.Rectangle=tc,rt.Renderer=ga,rt.SVG=Es,rt.SVGOverlay=js,rt.TileLayer=ss,rt.Tooltip=xs,rt.Transformation=$i,rt.Util=wi,rt.VideoOverlay=Xl,rt.bind=_t,rt.bounds=Ri,rt.canvas=Ql,rt.circle=Yl,rt.circleMarker=du,rt.control=Da,rt.divIcon=vu,rt.extend=vt,rt.featureGroup=bs,rt.geoJSON=ql,rt.geoJson=gu,rt.gridLayer=bu,rt.icon=jl,rt.imageOverlay=mu,rt.latLng=Pi,rt.latLngBounds=Qi,rt.layerGroup=ia,rt.map=xa,rt.marker=hu,rt.point=Ai,rt.polygon=pu,rt.polyline=fu,rt.popup=Zl,rt.rectangle=ic,rt.setOptions=Ut,rt.stamp=Et,rt.svg=ec,rt.svgOverlay=wo,rt.tileLayer=pl,rt.tooltip=Kl,rt.transformation=ii,rt.version=st,rt.videoOverlay=yu;var Gs=window.L;rt.noConflict=function(){return window.L=Gs,this},window.L=rt})})(leafletSrc,leafletSrc.exports);const L$1=leafletSrc.exports;var range_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    --thumb-size: 20px;
    --tooltip-offset: 10px;
    --track-color-active: var(--sl-color-neutral-200);
    --track-color-inactive: var(--sl-color-neutral-200);
    --track-active-offset: 0%;
    --track-height: 6px;

    display: block;
  }

  .range {
    position: relative;
  }

  .range__control {
    --percent: 0%;
    -webkit-appearance: none;
    border-radius: 3px;
    width: 100%;
    height: var(--track-height);
    background: transparent;
    line-height: var(--sl-input-height-medium);
    vertical-align: middle;
    margin: 0;

    background-image: linear-gradient(
      to right,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  .range--rtl .range__control {
    background-image: linear-gradient(
      to left,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  /* Webkit */
  .range__control::-webkit-slider-runnable-track {
    width: 100%;
    height: var(--track-height);
    border-radius: 3px;
    border: none;
  }

  .range__control::-webkit-slider-thumb {
    border: none;
    width: var(--thumb-size);
    height: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border: solid var(--sl-input-border-width) var(--sl-color-primary-600);
    -webkit-appearance: none;
    margin-top: calc(var(--thumb-size) / -2 + var(--track-height) / 2);
    cursor: pointer;
  }

  .range__control:enabled::-webkit-slider-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-webkit-slider-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-webkit-slider-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* Firefox */
  .range__control::-moz-focus-outer {
    border: 0;
  }

  .range__control::-moz-range-progress {
    background-color: var(--track-color-active);
    border-radius: 3px;
    height: var(--track-height);
  }

  .range__control::-moz-range-track {
    width: 100%;
    height: var(--track-height);
    background-color: var(--track-color-inactive);
    border-radius: 3px;
    border: none;
  }

  .range__control::-moz-range-thumb {
    border: none;
    height: var(--thumb-size);
    width: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    transition: var(--sl-transition-fast) border-color, var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color, var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .range__control:enabled::-moz-range-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-moz-range-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-moz-range-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* States */
  .range__control:focus-visible {
    outline: none;
  }

  .range__control:disabled {
    opacity: 0.5;
  }

  .range__control:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  .range__control:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }

  /* Tooltip output */
  .range__tooltip {
    position: absolute;
    z-index: var(--sl-z-index-tooltip);
    left: 0;
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    opacity: 0;
    padding: var(--sl-tooltip-padding);
    transition: var(--sl-transition-fast) opacity;
    pointer-events: none;
  }

  .range__tooltip:after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    left: 50%;
    translate: calc(-1 * var(--sl-tooltip-arrow-size));
  }

  .range--tooltip-visible .range__tooltip {
    opacity: 1;
  }

  /* Tooltip on top */
  .range--tooltip-top .range__tooltip {
    top: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-top .range__tooltip:after {
    border-top: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    top: 100%;
  }

  /* Tooltip on bottom */
  .range--tooltip-bottom .range__tooltip {
    bottom: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-bottom .range__tooltip:after {
    border-bottom: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    bottom: 100%;
  }

  @media (forced-colors: active) {
    .range__control,
    .range__tooltip {
      border: solid 1px transparent;
    }

    .range__control::-webkit-slider-thumb {
      border: solid 1px transparent;
    }

    .range__control::-moz-range-thumb {
      border: solid 1px transparent;
    }

    .range__tooltip:after {
      display: none;
    }
  }
`,SlRange=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.hasTooltip=!1,this.invalid=!1,this.title="",this.name="",this.value=0,this.label="",this.helpText="",this.disabled=!1,this.min=0,this.max=100,this.step=1,this.tooltip="top",this.tooltipFormatter=it=>it.toString(),this.defaultValue=0}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.syncRange()),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.updateComplete.then(()=>{this.syncRange(),this.resizeObserver.observe(this.input)})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this.input)}handleChange(){this.emit("sl-change")}handleInput(){this.value=parseFloat(this.input.value),this.emit("sl-input"),this.syncRange()}handleBlur(){this.hasFocus=!1,this.hasTooltip=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.hasTooltip=!0,this.emit("sl-focus")}handleThumbDragStart(){this.hasTooltip=!0}handleThumbDragEnd(){this.hasTooltip=!1}syncProgress(it){this.input.style.setProperty("--percent",`${it*100}%`)}syncTooltip(it){if(this.output!==null){const nt=this.input.offsetWidth,rt=this.output.offsetWidth,st=getComputedStyle(this.input).getPropertyValue("--thumb-size"),vt=this.localize.dir()==="rtl",bt=nt*it;if(vt){const _t=`${nt-bt}px + ${it} * ${st}`;this.output.style.translate=`calc((${_t} - ${rt/2}px - ${st} / 2))`}else{const _t=`${bt}px - ${it} * ${st}`;this.output.style.translate=`calc(${_t} - ${rt/2}px + ${st} / 2)`}}}handleValueChange(){this.invalid=!this.checkValidity(),this.input.value=this.value.toString(),this.value=parseFloat(this.input.value),this.syncRange()}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}syncRange(){const it=Math.max(0,(this.value-this.min)/(this.max-this.min));this.syncProgress(it),this.tooltip!=="none"&&this.syncTooltip(it)}focus(it){this.input.focus(it)}blur(){this.input.blur()}stepUp(){this.input.stepUp(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}stepDown(){this.input.stepDown(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(it){this.input.setCustomValidity(it),this.invalid=!this.checkValidity()}render(){const it=this.hasSlotController.test("label"),nt=this.hasSlotController.test("help-text"),rt=this.label?!0:!!it,st=this.helpText?!0:!!nt;return y$2`
      <div
        part="form-control"
        class=${o$1({"form-control":!0,"form-control--medium":!0,"form-control--has-label":rt,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${rt?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$1({range:!0,"range--disabled":this.disabled,"range--focused":this.hasFocus,"range--rtl":this.localize.dir()==="rtl","range--tooltip-visible":this.hasTooltip,"range--tooltip-top":this.tooltip==="top","range--tooltip-bottom":this.tooltip==="bottom"})}
            @mousedown=${this.handleThumbDragStart}
            @mouseup=${this.handleThumbDragEnd}
            @touchstart=${this.handleThumbDragStart}
            @touchend=${this.handleThumbDragEnd}
          >
            <input
              part="input"
              id="input"
              class="range__control"
              title=${this.title}
              type="range"
              name=${l$2(this.name)}
              ?disabled=${this.disabled}
              min=${l$2(this.min)}
              max=${l$2(this.max)}
              step=${l$2(this.step)}
              .value=${l2$1(this.value.toString())}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />
            ${this.tooltip!=="none"&&!this.disabled?y$2`
                  <output part="tooltip" class="range__tooltip">
                    ${typeof this.tooltipFormatter=="function"?this.tooltipFormatter(this.value):this.value}
                  </output>
                `:""}
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
      </div>
    `}};SlRange.styles=range_styles_default;__decorateClass([i2$2(".range__control")],SlRange.prototype,"input",2);__decorateClass([i2$2(".range__tooltip")],SlRange.prototype,"output",2);__decorateClass([t$1()],SlRange.prototype,"hasFocus",2);__decorateClass([t$1()],SlRange.prototype,"hasTooltip",2);__decorateClass([t$1()],SlRange.prototype,"invalid",2);__decorateClass([e2$2()],SlRange.prototype,"title",2);__decorateClass([e2$2()],SlRange.prototype,"name",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"value",2);__decorateClass([e2$2()],SlRange.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlRange.prototype,"helpText",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlRange.prototype,"disabled",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"min",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"max",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"step",2);__decorateClass([e2$2()],SlRange.prototype,"tooltip",2);__decorateClass([e2$2({attribute:!1})],SlRange.prototype,"tooltipFormatter",2);__decorateClass([defaultValue()],SlRange.prototype,"defaultValue",2);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleValueChange",1);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleDisabledChange",1);__decorateClass([watch("hasTooltip",{waitUntilFirstUpdate:!0})],SlRange.prototype,"syncRange",1);SlRange=__decorateClass([e$1("sl-range")],SlRange);const _hoisted_1$e={class:"content"},_hoisted_2$c=["innerHTML"],_hoisted_3$b=createBaseVNode("div",{id:"map"},null,-1),_hoisted_4$9=["innerHTML"],_sfc_main$g=defineComponent({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"55.4,6.7"},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},entities:{type:String},preferGeojson:{type:Boolean},cards:{type:String},base:{type:String}},setup(it){const nt=it,rt={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},st={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},vt=ref(null),bt=computed(()=>{var ii,Nt;return(Nt=(ii=vt.value)==null?void 0:ii.getRootNode())==null?void 0:Nt.host}),_t=computed(()=>{var ii;return(ii=vt==null?void 0:vt.value)==null?void 0:ii.parentNode}),wt=computed(()=>{var ii;return(ii=_t.value)==null?void 0:ii.querySelector(".content")}),Et=ref(),Tt=ref(),$t=ref([]),Dt=ref(),Lt=ref([]),Bt=ref(),Ht=ref(),Ut=ref(),It=ref(10),jt=ref(),Wt=ref(!1),qt=ref(),Yt=ref();watch$1(bt,()=>nextTick(()=>oi())),onMounted(()=>{si(),oi()});const ti=isMobile()?"full":nt.right?"right":nt.left?"left":"full";function oi(){bt.value.classList.add("ve-component"),bt.value.classList.add(ti),ti==="full"?bt.value.style.width="100%":(bt.value.style.float=ti,bt.value.style.width="calc(50% - 16px)"),bt.value.style.width=window.getComputedStyle(bt.value).width,nt.sticky&&makeSticky(bt.value),wt.value.style.width=nt.width||"100%",nextTick(()=>{let ii=parseInt(window.getComputedStyle(wt.value).width.slice(0,-2)),Nt=ii;if(nt.sticky&&ti==="full"){let Qt=Math.round(window.innerHeight*.4);Nt=Math.min(Qt,ii)}wt.value.style.width=`${ii}px`,wt.value.style.height=`${Nt}px`,ui()})}watch$1(nt,()=>si());function si(){It.value=nt.zoom,nt.cards&&di()}function di(){let ii=[];if(nt.cards){let Nt=document.getElementById(nt.cards);Nt&&Nt.querySelectorAll(".card").forEach(async Qt=>{var Si;let Jt=Array.from(Qt.querySelectorAll("li")).filter(vi=>vi.innerHTML.trim().indexOf("coords:")===0).map(vi=>vi.innerHTML.split(":")[1].trim()).pop()||"";if(Jt){let vi=Qt.querySelector("ul.card-metadata");vi&&((Si=vi.parentElement)==null||Si.removeChild(vi)),ii.push({coords:Qi(Jt),caption:Qt.innerHTML})}})}ii.length>0&&(Lt.value=[...Lt.value,...ii])}watch$1(Lt,async()=>{let ii=await Promise.all(Lt.value);console.log(toRaw(ii));let Nt=ii.filter(Mi=>Mi.geojson&&Mi.preferGeojson).map(Mi=>(Mi.geojson.indexOf("http")===-1&&(Mi.geojson=`https://raw.githubusercontent.com/${nt.base}/${Mi.geojson}`),Mi)).map(Mi=>({url:Mi.geojson,item:Mi})),Qt=await Promise.all(Nt.map(Mi=>fetch(Mi.url))),Jt=await Promise.all(Qt.map(Mi=>Mi.json())),Si={};for(let Mi=0;Mi<Nt.length;Mi++){Nt[Mi].item.id&&/^Q[0-9]+$/.test(Nt[Mi].item.id)?Jt[Mi].properties.qid=Nt[Mi].item.id:Jt[Mi].properties={...Jt[Mi].properties,...Nt[Mi].item};let _i=Nt[Mi].item.layer||"Default";Si[_i]||(Si[_i]=[]),Si[_i].push(Jt[Mi])}let vi={};ii.filter(Mi=>!Mi.geojson||!Mi.preferGeojson).forEach(Mi=>{let _i=Mi.layer||"Default";vi[_i]||(vi[_i]=[]),vi[_i].push(Mi)}),ii.forEach(Mi=>{let _i=Mi.layer||"Default";Si[_i]?vi[_i]&&(Si[_i].push(Ni(vi[_i])),delete vi[_i]):(Si[_i]=[Ni(vi[_i])],delete vi[_i])}),Ut.value=Si,Ht.value=ii.filter(Mi=>Mi.allmaps).map(Mi=>L$1.tileLayer(`https://allmaps.xyz/maps/${Mi.allmaps}/{z}/{x}/{y}.png`,{maxZoom:19,attribution:"Allmaps"}))}),watch$1(Ut,()=>Kt());function ui(){var Qt;if(Wt.value)return;if(Wt.value=!0,ci(),$t.value=nt.entities?nt.entities.split(/\s+/).filter(Jt=>Jt):[],nt.cards){let Jt=[],Si=document.getElementById(nt.cards);Si&&Si.querySelectorAll(".card").forEach(async vi=>{var _i;let Mi=Array.from(vi.querySelectorAll("li")).filter(Li=>Li.innerHTML.trim().indexOf("coords:")===0).map(Li=>Li.innerHTML.split(":")[1].trim()).pop()||"";if(Mi){let Li=vi.querySelector("ul.card-metadata");Li&&((_i=Li.parentElement)==null||_i.removeChild(Li)),Jt.push({coords:Qi(Mi),caption:vi.innerHTML})}}),Lt.value=[...Lt.value,...Jt]}ni(),Fi();const ii=new ResizeObserver(()=>hi());let Nt=(Qt=_t.value)==null?void 0:Qt.querySelector("#map");Nt&&ii.observe(Nt),hi(),bn()}function ci(){var ii;Tt.value||(Tt.value=(ii=_t.value)==null?void 0:ii.querySelector("sl-range"),Tt.value.addEventListener("sl-input",Nt=>{Nt.stopPropagation(),Nt.preventDefault(),Et.value.eachLayer(Jt=>{var Si;Jt.options.attribution==="Allmaps"&&Jt.setOpacity((Si=Tt.value)==null?void 0:Si.value)})}))}async function hi(){var Qt,Jt;let ii;if(nt.center)if(isQID(nt.center)){let Si=await getEntity(nt.center);ii=Qi(Si.coords)}else ii=Qi(nt.center);else if(nt.entities){let Si=await getEntity($t.value[0]);ii=Qi(Si.coords),It.value=9}else ii=new L$1.LatLng(0,0),It.value=6;if(Et.value){Et.value.off(),Et.value.remove();let Si=(Qt=_t.value)==null?void 0:Qt.querySelector("#map"),vi=document.createElement("div");vi.id="map",Si.replaceWith(vi)}let Nt=(Jt=_t.value)==null?void 0:Jt.querySelector("#map");if(Nt){let Si=nt.basemaps.split(",").map(Mi=>{let[_i,Li]=st[Mi];return[Mi.replace(/_/," "),L$1.tileLayer(_i,Li)]});Et.value=L$1.map(Nt,{preferCanvas:!1,zoomSnap:.1,center:ii,zoom:It.value,zoomAnimation:!0,scrollWheelZoom:!1,layers:[Si[0][1]]});let vi={};Bt.value=L$1.control.layers(Object.fromEntries(Si),vi).addTo(Et.value),Et.value.on("click",Mi=>{ei(Mi),$i()}),Et.value.on("zoomend",Mi=>{ei(Mi),Yt.value&&Yt.value.layer.openPopup()}),Et.value.on("moveend",Mi=>ei(Mi)),Et.value.on("layeradd",Mi=>{var _i,Li;if(Mi.layer.feature){let Ti=Mi.layer;((_i=Ti.feature)==null?void 0:_i.type)=="Feature"&&((Li=Ti.feature)==null?void 0:Li.properties.qid)&&Ti.feature}}),Dt.value=`${Number(ii.lat.toFixed(5))},${Number(ii.lng.toFixed(5))} ${It.value}`,jt.value=`${Number(ii.lat.toFixed(5))},${Number(ii.lng.toFixed(5))},${It.value}`}}function ei(ii){let Nt=ii.type==="click"?ii.latlng:ii.target.getCenter(),Qt=ii.target.getZoom(),Jt=[Nt.lat,Nt.lng,Qt];return Dt.value=`${Number(Nt.lat.toFixed(5))},${Number(Nt.lng.toFixed(5))} ${Qt}`,qt.value||(jt.value=`${Number(Nt.lat.toFixed(5))},${Number(Nt.lng.toFixed(5))},${Qt}`),Jt}function wi(ii){return L$1.geoJSON(ii,{pointToLayer:(Nt,Qt)=>{const Jt=Nt.properties;let Si={...rt};return Nt.properties.icon&&(Si.iconUrl=Nt.properties.icon),Nt.properties.shadowUrl&&(Si.shadowUrl=Nt.properties.shadowUrl),Nt.properties.iconRetinaUrl&&(Si.iconRetinaUrl=Nt.properties.iconRetinaUrl),Jt.markerType==="circle"?L$1.circleMarker(Qt,{radius:Jt.radius||4}):L$1.marker(Qt,{icon:new L$1.Icon(Si)})},onEachFeature:async(Nt,Qt)=>{var Si;let Jt=Qt;if(!Nt.properties.coords&&((Si=Jt.feature)==null?void 0:Si.bbox)){let vi=Jt.getBounds().getCenter();Nt.properties.coords=`${vi.lat},${vi.lng}`}if(Nt.properties.qid){let vi=await getEntity(Nt.properties.qid);Nt.properties.entityData=vi;let _i=`<ve-info-card data="${JSON.stringify(vi).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Qt.bindPopup(_i)}else{let Mi=`<ve-info-card data="${JSON.stringify(Nt.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;Qt.bindPopup(Mi)}Qt.on("mouseover",()=>Qt.openPopup()),Qt.on("mouseout",()=>Qt.closePopup()),Qt.on("click",()=>{qt.value?Qt.closePopup():(Qt.openPopup(),Gi(Nt.properties.coords))})},style:Nt=>{const Qt=Nt==null?void 0:Nt.properties;console.log(toRaw(Qt));const Jt=Nt==null?void 0:Nt.geometry.type;for(let[vi,Mi]of Object.entries(Qt))Mi==="null"&&(Qt[vi]=null);return{color:Qt.color||"#FB683F",weight:Qt.weight||(Jt==="Polygon"||Jt==="MultiPolygon"?0:4),opacity:Qt.opacity||1,fillColor:Qt.fillColor||"#32C125",fillOpacity:Qt.fillOpacity||.5}}})}function Kt(){var ii;Et.value&&((ii=Ht.value)==null||ii.forEach(Nt=>{var Qt;(Qt=Et.value)==null||Qt.addLayer(Nt),Nt.setOpacity(1)}),Object.keys(Ut.value).forEach(Nt=>{var Jt;let Qt=new L$1.LayerGroup;Ut.value[Nt].forEach(Si=>{let vi=wi(Si);Qt.addLayer(vi)}),(Jt=Et.value)==null||Jt.addLayer(Qt),Bt.value&&Bt.value.addOverlay(Qt,Nt)}))}function Ni(ii){const Nt={type:"FeatureCollection",features:[]};return ii.filter(Qt=>Qt.coords).forEach(Qt=>{let[Jt,Si]=Qt.coords.split(",").map(vi=>parseFloat(vi.trim()));Nt.features.push({type:"Feature",properties:Qt,geometry:{type:"Point",coordinates:[Si,Jt]}})}),Nt}async function ni(){let ii=Array.from(bt.value.querySelectorAll("li")).map(Nt=>{var Qt;return Vi((Qt=Nt.firstChild)==null?void 0:Qt.textContent)});if(nt.marker&&nt.center)if(isQID(nt.center)){let Nt=await getEntity(nt.center);ii.push(Promise.resolve(Ri(Nt)))}else ii.push(Promise.resolve({coords:nt.center,zoom:nt.zoom||10}));Lt.value=[...Lt.value,...ii]}function Fi(){const ii=Qt=>{for(let Jt of Qt)Jt.type==="childList"&&Array.from(Jt.target.classList).indexOf("hydrated")>=0&&ni()};new MutationObserver(ii).observe(bt.value,{childList:!0,subtree:!0,characterData:!0})}function Xi(ii){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(ii)}function nn(ii){return/^\d{1,2}(\.\d{1})?$/.test(ii)}function Ai(ii){ii=ii||"";let Nt=[];ii=ii.replace(//,'"').replace(//,'"').replace(//,"'");let Qt=ii.match(/[^\s"]+|"([^"]*)"/gmi);return Qt&&Qt.forEach(Jt=>{Nt.length>0&&Nt[Nt.length-1].indexOf("=")===Nt[Nt.length-1].length-1?Nt[Nt.length-1]=`${Nt[Nt.length-1]}${Jt}`:Nt.push(Jt)}),Nt}function ji(ii,Nt){let Qt={id:Nt},Jt=metadataAsObj(ii);return Jt.location&&(Qt.coords=Jt.location[0]),Jt.coordinates_of_the_point_of_view&&(Qt.coords=Jt.coordinates_of_the_point_of_view[0]),ii.label&&(Qt.label=ii.label.en),ii.summary&&(Qt.description=ii.summary.en[0]),ii.thumbnail&&(Qt.image=ii.thumbnail[0].id),Qt}function Ri(ii,Nt=""){let Qt={id:Nt||ii.id};return ii.coords&&(Qt.coords=ii.coords),ii.geojson&&(Qt.geojson=ii.geojson),ii.label&&(Qt.label=ii.label),ii.description&&(Qt.description=ii.description),ii.thumbnail&&(Qt.image=ii.thumbnail),Qt}async function Vi(ii){let Nt=Ai(ii),Qt=/\.(geo)?json$/i,Jt=/^[a-z0-9\-]+:.+/,Si={};for(let vi=0;vi<Nt.length;vi++){let Mi=Nt[vi];if(Mi.indexOf("=")>0){let[_i,Li]=Mi.split("=");Li=Li[Li.length-1]==='"'?Li.slice(1,-1):Li,Si[_i]=Li}else if(nn(Mi))Si.zoom=parseInt(Mi);else if(Xi(Mi))Si.coords=Mi,Si.id=Mi;else if(isQID(Mi)){let _i=await getEntity(Mi);Si={...Ri(_i,Mi),...Si}}else if(Qt.test(Mi))Si.geojson=Mi;else if(Jt.test(Mi)){let _i=await getManifest(Mi);Si={...ji(_i,Mi),...Si}}else if(Mi==="prefer-geojson")Si.preferGeojson=!0;else{let _i=Mi[0]==='"'&&Mi[Mi.length-1]==='"'?Mi.slice(1,-1):Mi;Si.label?Si.description=_i:Si.label=_i}}return Si.preferGeojson=(Si.preferGeojson||nt.preferGeojson)&&Si.geojson||Si.geojson&&!Si.coords,Si}function Qi(ii){let[Nt,Qt]=ii.split(",").map(Jt=>parseFloat(Jt.trim()));return new leafletSrc.exports.LatLng(Nt,Qt)}function rn(ii){navigator.clipboard&&navigator.clipboard.writeText(ii)}function Pi(ii=""){var vi,Mi;ii=ii.replace(/^flyto\|/i,"");let Nt="",Qt=10,Jt=ii.split(",");Jt.length===1?Nt=Jt[0]:Jt.length===2?/^[+-]?\d+(.\d*|\d*)$/.test(Jt[0])?Nt=Jt.join(","):(Nt=Jt[0],Qt=parseFloat(Jt[1])):(Nt=Jt.slice(0,2).join(","),Qt=parseFloat(Jt[2]));let Si;return(vi=Et.value)==null||vi.eachLayer(_i=>{var Li,Ti,zi,Hi;(((Ti=(Li=_i==null?void 0:_i.feature)==null?void 0:Li.properties)==null?void 0:Ti.id)===Nt||((Hi=(zi=_i==null?void 0:_i.feature)==null?void 0:zi.properties)==null?void 0:Hi.coords)===Nt)&&(Si=_i)}),Si||(Mi=Et.value)==null||Mi.eachLayer(_i=>Si=_i),{id:Nt,zoom:Qt,layer:Si}}function bn(){let ii=bt.value.parentElement;for(;ii.parentElement&&ii.tagName!=="MAIN";)ii=ii.parentElement,Array.from(ii.querySelectorAll("[enter],[exit]")).forEach(Qt=>{Ii(Qt)&&Oi(Qt)});let Nt=bt.value.parentElement;for(;(Nt==null?void 0:Nt.parentElement)&&Nt.tagName!=="BODY";)Nt=Nt.parentElement;Nt&&Array.from(Nt.querySelectorAll("mark")).forEach(Qt=>{let Jt=Array.from(Qt.attributes).find(Si=>Si.name==="flyto");if(Jt&&Ii(Qt.parentElement)){let vi=Jt==null?void 0:Jt.value;Qt.classList.add(Jt.name),Qt.addEventListener("click",()=>Gi(vi)),Qt.addEventListener("mouseover",()=>{let Mi=Pi(vi).layer;Mi.openPopup(),isMobile()&&setTimeout(()=>Mi.closePopup(),2e3)}),Qt.addEventListener("mouseleave",()=>{var Mi;Yt.value=Pi(vi),Yt.value.id!==qt.value&&((Mi=Yt.value.layer)==null||Mi.closePopup())})}})}function Oi(ii){let Nt=ii.classList.contains("active");new MutationObserver(Jt=>{Jt.forEach(Si=>{if(Si.attributeName=="class"){let vi=Si.target.classList.contains("active");if(Nt!==vi){Nt=vi;let Mi=ii.attributes.getNamedItem(vi?"enter":"exit");if(Mi){const[_i,...Li]=Mi.value.split(":");_i==="flyto"&&Gi(Li.join(":"),!0),Mi.name==="exit"&&$i()}}}})}).observe(ii,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function Ii(ii){let Nt=ii.previousSibling;for(;Nt;){if(Nt.nodeName==="VE-MAP")return Nt===bt.value?Nt:null;Nt=Nt.previousSibling}for(;ii.parentElement&&ii.tagName!=="MAIN";){ii=ii.parentElement;let Qt=ii.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(Qt)return Qt===bt.value?Qt:null}}async function Gi(ii,Nt=!1){var Qt,Jt;if(Yt.value=Pi(ii),Yt.value.layer){if(Yt.value.id===qt.value&&!Nt)Yt.value.layer.closePopup(),$i();else if(qt.value=Yt.value.id,(Qt=Yt.value.layer.feature)!=null&&Qt.properties){let Si=Qi(Yt.value.layer.feature.properties.coords);(Jt=Et.value)==null||Jt.flyTo(Si,Yt.value.zoom)}}else $i()}function $i(){var ii,Nt;if(Yt.value=null,jt.value){let[Qt,Jt,Si]=jt.value.split(",").map(Mi=>parseFloat(Mi)),vi=new L$1.LatLng(Qt,Jt);(ii=Et.value)==null||ii.flyTo(vi,Si),(Nt=Et.value)==null||Nt.closePopup()}qt.value=void 0}return(ii,Nt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:vt,style:{width:"100%",height:"100%"}},[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("div",{id:"lat-lng-zoom",innerHTML:Dt.value,onClick:Nt[0]||(Nt[0]=Qt=>rn(`${Dt.value}`))},null,8,_hoisted_2$c),createBaseVNode("sl-range",{id:"opacity-slider",value:"1",min:"0",max:"1",step:"0.01",tooltip:"none",style:normalizeStyle({display:Ht.value&&Ht.value.length>0?"block":"none"})},null,4),_hoisted_3$b,it.caption?(openBlock(),createElementBlock("div",{key:0,id:"caption",innerHTML:it.caption},null,8,_hoisted_4$9)):createCommentVNode("",!0)])],512))}}),_style_0$b=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;font-family:Roboto,sans-serif;background-color:#fff;margin-bottom:1rem}.content{margin:auto}#map{border:1px solid #ccc;width:100%;height:100%}#caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px}#opacity-slider{position:absolute;bottom:15px;left:15px;width:33%;z-index:1000;padding:3px 6px;border-radius:6px}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}
`,Map$3=_export_sfc(_sfc_main$g,[["styles",[_style_0$b]]]),_hoisted_1$d=["innerHTML"],_hoisted_2$b=["innerHTML"],_hoisted_3$a={class:"card-metadata"},_hoisted_4$8=["innerHTML"],_hoisted_5$7=["innerHTML","onClick"],_hoisted_6$6={key:1},_hoisted_7$5=["innerHTML","onClick"],_hoisted_8$5={class:"card-links",style:{"margin-top":"auto"}},_hoisted_9$4=["manifest"],_hoisted_10$3=["center","zoom"],_hoisted_11$2={key:0},_sfc_main$f=defineComponent({__name:"MediaCard.ce",props:{manifest:{type:String,required:!0}},setup(it){const nt=it,rt=computed(()=>`"${thumbnail(vt.value)}"`),st=ref(null);computed(()=>{var ti;return(ti=st==null?void 0:st.value)==null?void 0:ti.parentNode}),computed(()=>{var ti,oi;return(oi=(ti=st.value)==null?void 0:ti.getRootNode())==null?void 0:oi.host});const vt=ref(),bt=computed(()=>vt.value&&getItemInfo(vt.value)),_t=computed(()=>bt.value&&`${bt.value.width.toLocaleString()} x ${bt.value.height.toLocaleString()}`),wt=computed(()=>vt.value&&Dt()),Et=computed(()=>{let ti=wt.value.find(oi=>oi.label.toLowerCase()==="location");return ti?`${ti.value}`:null}),Tt=computed(()=>{let ti=wt.value.find(oi=>oi.label.toLowerCase()==="allmapsid");return ti?`${ti.value}`:null}),$t=computed(()=>{let ti=wt.value.find(oi=>oi.label.toLowerCase()==="zoom");return ti?`${parseFloat(ti.value)}`:9});onUpdated(()=>{getManifest(nt.manifest).then(ti=>vt.value=ti)});function Dt(){let ti=new Set(["created","updated"]),oi=new Set(["image_url","size"]),si=getMetadata(vt.value).filter(di=>!oi.has(di.label));return vt.value.navDate&&si.push({label:"navDate",value:[vt.value.navDate]}),si.push({label:"dimensions",value:[_t.value]}),si=si.map(di=>ti.has(di.label)?{label:di.label,value:[di.value[0].split("T")[0]]}:di).map(di=>{if(di.label==="source_url"){let ui=di.value[0].split("/").pop();di={label:"source",value:[`<a href="${di.value[0]}" target="_blank">${ui}</a>`]}}return di}),si.sort()}getManifest(nt.manifest).then(ti=>vt.value=ti);function Lt(ti){console.log("copyTextToClipboard",ti),navigator.clipboard&&navigator.clipboard.writeText(ti)}const Bt=ref();watch$1(Bt,ti=>{ti==null||ti.addEventListener("sl-show",()=>{Bt.value&&(Bt.value.panel.style.width=`${qt()}px`)})});const Ht=ref(!1);watch$1(Ht,()=>{var ti,oi;Ht.value?(ti=Bt.value)==null||ti.show():(oi=Bt.value)==null||oi.hide()});function Ut(){Ht.value=!Ht.value}const It=ref();watch$1(It,ti=>{ti==null||ti.addEventListener("sl-show",()=>{It.value&&(It.value.panel.style.width=`${qt()}px`)})});const jt=ref(!1);watch$1(jt,()=>{var ti,oi;jt.value?(ti=It.value)==null||ti.show():(oi=It.value)==null||oi.hide()});function Wt(){jt.value=!jt.value}function qt(){let ti=Math.round(window.innerWidth-100),oi=Math.round(window.innerHeight-150),si=vt.value;if(si){let di=getItemInfo(si),ui=Number((di.width/di.height).toFixed(4));ti=ui>=1?ti/ui>oi?ti=oi*ui:ti:Math.round(oi*ui)}return ti}function Yt(ti){var si;ti.stopPropagation();let oi=`https://iiif.juncture-digital.org/#${vt.value.id}?manifest=${vt.value.id}`;(si=ti.dataTransfer)==null||si.setData("text/uri-list",oi)}return(ti,oi)=>vt.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"root",ref:st},[createBaseVNode("div",{class:"card",draggable:"true",onDragstart:Yt},[createBaseVNode("div",{class:"card-image",style:normalizeStyle({backgroundImage:`url(${unref(rt)})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"top"}),onClick:Ut},null,4),createBaseVNode("div",{class:"card-title",innerHTML:unref(label)(vt.value)},null,8,_hoisted_1$d),createBaseVNode("div",{class:"card-abstract",innerHTML:unref(summary)(vt.value)},null,8,_hoisted_2$b),createBaseVNode("ul",_hoisted_3$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(wt),si=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-label",innerHTML:si.label},null,8,_hoisted_4$8),si.value.length===1?(openBlock(),createElementBlock(Fragment,{key:0},[si.label==="location"?(openBlock(),createElementBlock("sl-icon-button",{key:0,name:"chat-square-text",label:"Show Location",onClick:Wt})):createCommentVNode("",!0),createBaseVNode("span",{class:"md-value",innerHTML:si.value[0],onClick:di=>Lt(si.value)},null,8,_hoisted_5$7)],64)):(openBlock(),createElementBlock("ul",_hoisted_6$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(si.value,di=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-value",innerHTML:di,onClick:ui=>Lt(di)},null,8,_hoisted_7$5)]))),256))]))]))),256))]),createBaseVNode("div",_hoisted_8$5,[createBaseVNode("img",{src:"https://juncture-digital.github.io/web-app/static/iiif.png",class:"draggable-iiif",alt:"IIIF manifest icon",onClick:oi[0]||(oi[0]=si=>Lt(vt.value.id)),onDragstart:Yt},null,32)])],32),createBaseVNode("sl-dialog",{ref_key:"imageDialog",ref:Bt,id:"image-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},[Ht.value?(openBlock(),createElementBlock("ve-media",{key:0,manifest:vt.value.id,"zoom-on-scroll":""},null,8,_hoisted_9$4)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:Ut,variant:"primary"},"Close")],512),createBaseVNode("sl-dialog",{ref_key:"mapDialog",ref:It,id:"map-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},[jt.value?(openBlock(),createElementBlock("ve-map",{key:0,center:unref(Et),zoom:unref($t)},[createBaseVNode("ul",null,[createBaseVNode("li",null,toDisplayString(unref(Et)),1),unref(Tt)?(openBlock(),createElementBlock("li",_hoisted_11$2,"allmaps="+toDisplayString(unref(Tt)),1)):createCommentVNode("",!0)])],8,_hoisted_10$3)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:Wt,variant:"primary"},"Close")],512)],512)):createCommentVNode("",!0)}}),_style_0$a=`*{box-sizing:border-box}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.md-label{font-weight:700;margin-right:6px;color:#444}.md-value{display:inline;line-height:1.2rem;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;color:#444;cursor:copy}.md-value:hover{text-decoration:underline}.md-label:after{content:":"}.card-metadata ul ul{margin-left:18px}@media (max-width: 480px){.card-image{height:72vw}}.card{display:flex;flex-flow:column nowrap;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border:1px solid #ccc;border-radius:4px;padding:0;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.card p{border:none}.card-image{align-self:flex-start;width:100%;height:300px;cursor:pointer}.card-title{font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none;color:#444}.card-metadata{list-style:none;padding:.2rem .5rem;margin:12px 0 0;font-size:.9em;font-weight:400;max-height:260px;overflow-y:scroll}.card-abstract{align-self:flex-start;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;margin:0 0 .5rem;-webkit-line-clamp:8}.card-links{padding:6px}.card-links img{height:24px}.draggable-iiif{cursor:grab}.clamp5{-webkit-line-clamp:5}
`,MediaCard=_export_sfc(_sfc_main$f,[["styles",[_style_0$a]]]),_hoisted_1$c={class:"content"},_hoisted_2$a=["caption"],_sfc_main$e=defineComponent({__name:"MediaSelector.ce",props:{caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Bt;return(Bt=rt==null?void 0:rt.value)==null?void 0:Bt.parentNode}),vt=computed(()=>{var Bt,Ht;return(Ht=(Bt=rt.value)==null?void 0:Bt.getRootNode())==null?void 0:Ht.host}),bt=computed(()=>{var Bt;return(Bt=st.value)==null?void 0:Bt.querySelector(".content")}),_t=ref(null),wt=computed(()=>{var Bt,Ht;return((Ht=(Bt=_t.value)==null?void 0:Bt.getAttribute("data-media"))==null?void 0:Ht.split(/\s/).filter(Ut=>Ut))||[]}),Et=ref();watch$1(vt,()=>Tt()),watch$1(Et,()=>console.log(`selected=${toRaw(Et.value)}`));function Tt(){Dt(),Lt()}const $t=isMobile()?"full":nt.right?"right":nt.left?"left":"full";function Dt(){vt.value.classList.add("ve-component"),vt.value.classList.add($t),$t==="full"?vt.value.style.width="100%":(vt.value.style.float=$t,vt.value.style.width="calc(50% - 16px)"),vt.value.style.width=window.getComputedStyle(vt.value).width,nt.sticky&&makeSticky(vt.value),bt.value.style.width=nt.width||"100%",nextTick(()=>{let Bt=parseInt(window.getComputedStyle(bt.value).width.slice(0,-2)),Ht=Bt;if(nt.sticky&&$t==="full"){let Ut=Math.round(window.innerHeight*.4);Ht=Math.min(Ut,Bt)}bt.value.style.width=`${Bt}px`,bt.value.style.height=`${Ht}px`})}function Lt(){_t.value=document.querySelector(".active"),new MutationObserver(Ht=>{Ht.forEach(Ut=>{if(Ut.type==="attributes"){let It=Ut.target;Array.from(It.classList).indexOf("active")>=0&&(_t.value=It)}})}).observe(document,{subtree:!0,attributes:!0})}return(Bt,Ht)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"main"},[createBaseVNode("div",_hoisted_1$c,[unref(wt).length>0?(openBlock(),createElementBlock("ve-media",{key:0,grid:"",small:"",caption:Bt.$props.caption},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(wt),(Ut,It)=>(openBlock(),createElementBlock("li",{key:`item-${It}`},toDisplayString(Ut),1))),128))])],8,_hoisted_2$a)):createCommentVNode("",!0)])],512))}}),_style_0$9=`sl-button{margin:6px 3px}
`,MediaSelector=_export_sfc(_sfc_main$e,[["styles",[_style_0$9]]]);var dist$1={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var it={},nt={};return it.on=function(rt,st){var vt={name:rt,handler:st};return nt[rt]=nt[rt]||[],nt[rt].unshift(vt),vt},it.off=function(rt){var st=nt[rt.name].indexOf(rt);st!==-1&&nt[rt.name].splice(st,1)},it.trigger=function(rt,st){var vt=nt[rt],bt;if(vt)for(bt=vt.length;bt--;)vt[bt].handler(st)},it};var sister=Sister,loadYouTubeIframeApi={exports:{}},loadScript=function it(nt,rt,st){var vt=document.head||document.getElementsByTagName("head")[0],bt=document.createElement("script");typeof rt=="function"&&(st=rt,rt={}),rt=rt||{},st=st||function(){},bt.type=rt.type||"text/javascript",bt.charset=rt.charset||"utf8",bt.async="async"in rt?!!rt.async:!0,bt.src=nt,rt.attrs&&setAttributes(bt,rt.attrs),rt.text&&(bt.text=""+rt.text);var _t="onload"in bt?stdOnEnd:ieOnEnd;_t(bt,st),bt.onload||stdOnEnd(bt,st),vt.appendChild(bt)};function setAttributes(it,nt){for(var rt in nt)it.setAttribute(rt,nt[rt])}function stdOnEnd(it,nt){it.onload=function(){this.onerror=this.onload=null,nt(null,it)},it.onerror=function(){this.onerror=this.onload=null,nt(new Error("Failed to load "+this.src),it)}}function ieOnEnd(it,nt){it.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,nt(null,it))}}(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0});var rt=loadScript,st=vt(rt);function vt(bt){return bt&&bt.__esModule?bt:{default:bt}}nt.default=function(bt){var _t=new Promise(function(wt){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){wt(window.YT);return}else{var Et=window.location.protocol==="http:"?"http:":"https:";(0,st.default)(Et+"//www.youtube.com/iframe_api",function($t){$t&&bt.trigger("error",$t)})}var Tt=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){Tt&&Tt(),wt(window.YT)}});return _t},it.exports=nt.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var YouTubePlayer$1={exports:{}},browser={exports:{}},debug={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,y$1=d*365.25,ms=function(it,nt){nt=nt||{};var rt=typeof it;if(rt==="string"&&it.length>0)return parse$3(it);if(rt==="number"&&isNaN(it)===!1)return nt.long?fmtLong(it):fmtShort(it);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(it))};function parse$3(it){if(it=String(it),!(it.length>100)){var nt=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(it);if(!!nt){var rt=parseFloat(nt[1]),st=(nt[2]||"ms").toLowerCase();switch(st){case"years":case"year":case"yrs":case"yr":case"y":return rt*y$1;case"days":case"day":case"d":return rt*d;case"hours":case"hour":case"hrs":case"hr":case"h":return rt*h;case"minutes":case"minute":case"mins":case"min":case"m":return rt*m;case"seconds":case"second":case"secs":case"sec":case"s":return rt*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return rt;default:return}}}}function fmtShort(it){return it>=d?Math.round(it/d)+"d":it>=h?Math.round(it/h)+"h":it>=m?Math.round(it/m)+"m":it>=s?Math.round(it/s)+"s":it+"ms"}function fmtLong(it){return plural(it,d,"day")||plural(it,h,"hour")||plural(it,m,"minute")||plural(it,s,"second")||it+" ms"}function plural(it,nt,rt){if(!(it<nt))return it<nt*1.5?Math.floor(it/nt)+" "+rt:Math.ceil(it/nt)+" "+rt+"s"}(function(it,nt){nt=it.exports=vt.debug=vt.default=vt,nt.coerce=Et,nt.disable=_t,nt.enable=bt,nt.enabled=wt,nt.humanize=ms,nt.names=[],nt.skips=[],nt.formatters={};var rt;function st(Tt){var $t=0,Dt;for(Dt in Tt)$t=($t<<5)-$t+Tt.charCodeAt(Dt),$t|=0;return nt.colors[Math.abs($t)%nt.colors.length]}function vt(Tt){function $t(){if(!!$t.enabled){var Dt=$t,Lt=+new Date,Bt=Lt-(rt||Lt);Dt.diff=Bt,Dt.prev=rt,Dt.curr=Lt,rt=Lt;for(var Ht=new Array(arguments.length),Ut=0;Ut<Ht.length;Ut++)Ht[Ut]=arguments[Ut];Ht[0]=nt.coerce(Ht[0]),typeof Ht[0]!="string"&&Ht.unshift("%O");var It=0;Ht[0]=Ht[0].replace(/%([a-zA-Z%])/g,function(Wt,qt){if(Wt==="%%")return Wt;It++;var Yt=nt.formatters[qt];if(typeof Yt=="function"){var ti=Ht[It];Wt=Yt.call(Dt,ti),Ht.splice(It,1),It--}return Wt}),nt.formatArgs.call(Dt,Ht);var jt=$t.log||nt.log||console.log.bind(console);jt.apply(Dt,Ht)}}return $t.namespace=Tt,$t.enabled=nt.enabled(Tt),$t.useColors=nt.useColors(),$t.color=st(Tt),typeof nt.init=="function"&&nt.init($t),$t}function bt(Tt){nt.save(Tt),nt.names=[],nt.skips=[];for(var $t=(typeof Tt=="string"?Tt:"").split(/[\s,]+/),Dt=$t.length,Lt=0;Lt<Dt;Lt++)!$t[Lt]||(Tt=$t[Lt].replace(/\*/g,".*?"),Tt[0]==="-"?nt.skips.push(new RegExp("^"+Tt.substr(1)+"$")):nt.names.push(new RegExp("^"+Tt+"$")))}function _t(){nt.enable("")}function wt(Tt){var $t,Dt;for($t=0,Dt=nt.skips.length;$t<Dt;$t++)if(nt.skips[$t].test(Tt))return!1;for($t=0,Dt=nt.names.length;$t<Dt;$t++)if(nt.names[$t].test(Tt))return!0;return!1}function Et(Tt){return Tt instanceof Error?Tt.stack||Tt.message:Tt}})(debug,debug.exports);(function(it,nt){nt=it.exports=debug.exports,nt.log=vt,nt.formatArgs=st,nt.save=bt,nt.load=_t,nt.useColors=rt,nt.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:wt(),nt.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function rt(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}nt.formatters.j=function(Et){try{return JSON.stringify(Et)}catch(Tt){return"[UnexpectedJSONParseError]: "+Tt.message}};function st(Et){var Tt=this.useColors;if(Et[0]=(Tt?"%c":"")+this.namespace+(Tt?" %c":" ")+Et[0]+(Tt?"%c ":" ")+"+"+nt.humanize(this.diff),!!Tt){var $t="color: "+this.color;Et.splice(1,0,$t,"color: inherit");var Dt=0,Lt=0;Et[0].replace(/%[a-zA-Z%]/g,function(Bt){Bt!=="%%"&&(Dt++,Bt==="%c"&&(Lt=Dt))}),Et.splice(Lt,0,$t)}}function vt(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function bt(Et){try{Et==null?nt.storage.removeItem("debug"):nt.storage.debug=Et}catch{}}function _t(){var Et;try{Et=nt.storage.debug}catch{}return!Et&&typeof process<"u"&&"env"in process&&(Et={version:"2.0.0-beta.19"}.DEBUG),Et}nt.enable(_t());function wt(){try{return window.localStorage}catch{}}})(browser,browser.exports);var functionNames={exports:{}};(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],it.exports=nt.default})(functionNames,functionNames.exports);var eventNames={exports:{}};(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],it.exports=nt.default})(eventNames,eventNames.exports);var FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0}),nt.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},it.exports=nt.default})(PlayerStates,PlayerStates.exports);(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0});var rt=PlayerStates.exports,st=vt(rt);function vt(bt){return bt&&bt.__esModule?bt:{default:bt}}nt.default={pauseVideo:{acceptableStates:[st.default.ENDED,st.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[st.default.ENDED,st.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[st.default.ENDED,st.default.PLAYING,st.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},it.exports=nt.default})(FunctionStateMap,FunctionStateMap.exports);(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0});var rt=browser.exports,st=$t(rt),vt=functionNames.exports,bt=$t(vt),_t=eventNames.exports,wt=$t(_t),Et=FunctionStateMap.exports,Tt=$t(Et);function $t(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}var Dt=(0,st.default)("youtube-player"),Lt={};Lt.proxyEvents=function(Bt){var Ht={},Ut=function(si){var di="on"+si.slice(0,1).toUpperCase()+si.slice(1);Ht[di]=function(ui){Dt('event "%s"',di,ui),Bt.trigger(si,ui)}},It=!0,jt=!1,Wt=void 0;try{for(var qt=wt.default[Symbol.iterator](),Yt;!(It=(Yt=qt.next()).done);It=!0){var ti=Yt.value;Ut(ti)}}catch(oi){jt=!0,Wt=oi}finally{try{!It&&qt.return&&qt.return()}finally{if(jt)throw Wt}}return Ht},Lt.promisifyPlayer=function(Bt){var Ht=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Ut={},It=function(di){Ht&&Tt.default[di]?Ut[di]=function(){for(var ui=arguments.length,ci=Array(ui),hi=0;hi<ui;hi++)ci[hi]=arguments[hi];return Bt.then(function(ei){var wi=Tt.default[di],Kt=ei.getPlayerState(),Ni=ei[di].apply(ei,ci);return wi.stateChangeRequired||Array.isArray(wi.acceptableStates)&&wi.acceptableStates.indexOf(Kt)===-1?new Promise(function(ni){var Fi=function Xi(){var nn=ei.getPlayerState(),Ai=void 0;typeof wi.timeout=="number"&&(Ai=setTimeout(function(){ei.removeEventListener("onStateChange",Xi),ni()},wi.timeout)),Array.isArray(wi.acceptableStates)&&wi.acceptableStates.indexOf(nn)!==-1&&(ei.removeEventListener("onStateChange",Xi),clearTimeout(Ai),ni())};ei.addEventListener("onStateChange",Fi)}).then(function(){return Ni}):Ni})}:Ut[di]=function(){for(var ui=arguments.length,ci=Array(ui),hi=0;hi<ui;hi++)ci[hi]=arguments[hi];return Bt.then(function(ei){return ei[di].apply(ei,ci)})}},jt=!0,Wt=!1,qt=void 0;try{for(var Yt=bt.default[Symbol.iterator](),ti;!(jt=(ti=Yt.next()).done);jt=!0){var oi=ti.value;It(oi)}}catch(si){Wt=!0,qt=si}finally{try{!jt&&Yt.return&&Yt.return()}finally{if(Wt)throw qt}}return Ut},nt.default=Lt,it.exports=nt.default})(YouTubePlayer$1,YouTubePlayer$1.exports);(function(it,nt){Object.defineProperty(nt,"__esModule",{value:!0});var rt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Dt){return typeof Dt}:function(Dt){return Dt&&typeof Symbol=="function"&&Dt.constructor===Symbol&&Dt!==Symbol.prototype?"symbol":typeof Dt},st=sister,vt=Tt(st),bt=loadYouTubeIframeApi.exports,_t=Tt(bt),wt=YouTubePlayer$1.exports,Et=Tt(wt);function Tt(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}var $t=void 0;nt.default=function(Dt){var Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Ht=(0,vt.default)();if($t||($t=(0,_t.default)(Ht)),Lt.events)throw new Error("Event handlers cannot be overwritten.");if(typeof Dt=="string"&&!document.getElementById(Dt))throw new Error('Element "'+Dt+'" does not exist.');Lt.events=Et.default.proxyEvents(Ht);var Ut=new Promise(function(jt){if((typeof Dt>"u"?"undefined":rt(Dt))==="object"&&Dt.playVideo instanceof Function){var Wt=Dt;jt(Wt)}else $t.then(function(qt){var Yt=new qt.Player(Dt,Lt);return Ht.on("ready",function(){jt(Yt)}),null})}),It=Et.default.promisifyPlayer(Ut,Bt);return It.on=Ht.on,It.off=Ht.off,It},it.exports=nt.default})(dist$1,dist$1.exports);const YouTubePlayer=getDefaultExportFromCjs(dist$1.exports);/*! @vimeo/player v2.18.0 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */function _classCallCheck(it,nt){if(!(it instanceof nt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(it,nt){for(var rt=0;rt<nt.length;rt++){var st=nt[rt];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(it,st.key,st)}}function _createClass(it,nt,rt){return nt&&_defineProperties(it.prototype,nt),rt&&_defineProperties(it,rt),it}var isNode=typeof global<"u"&&{}.toString.call(global)==="[object global]";function getMethodName(it,nt){return it.indexOf(nt.toLowerCase())===0?it:"".concat(nt.toLowerCase()).concat(it.substr(0,1).toUpperCase()).concat(it.substr(1))}function isDomElement(it){return Boolean(it&&it.nodeType===1&&"nodeName"in it&&it.ownerDocument&&it.ownerDocument.defaultView)}function isInteger$1(it){return!isNaN(parseFloat(it))&&isFinite(it)&&Math.floor(it)==it}function isVimeoUrl(it){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(it)}function isVimeoEmbed(it){var nt=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return nt.test(it)}function getVimeoUrl(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},nt=it.id,rt=it.url,st=nt||rt;if(!st)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger$1(st))return"https://vimeo.com/".concat(st);if(isVimeoUrl(st))return st.replace("http:","https:");throw nt?new TypeError("\u201C".concat(nt,"\u201D is not a valid video id.")):new TypeError("\u201C".concat(st,"\u201D is not a vimeo.com url."))}var arrayIndexOfSupport=typeof Array.prototype.indexOf<"u",postMessageSupport=typeof window<"u"&&typeof window.postMessage<"u";if(!isNode&&(!arrayIndexOfSupport||!postMessageSupport))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(it,nt){return nt={exports:{}},it(nt,nt.exports),nt.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(it){if(it.WeakMap)return;var nt=Object.prototype.hasOwnProperty,rt=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),st=function(bt,_t,wt){rt?Object.defineProperty(bt,_t,{configurable:!0,writable:!0,value:wt}):bt[_t]=wt};it.WeakMap=function(){function bt(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(st(this,"_id",wt("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}st(bt.prototype,"delete",function(Tt){if(_t(this,"delete"),!vt(Tt))return!1;var $t=Tt[this._id];return $t&&$t[0]===Tt?(delete Tt[this._id],!0):!1}),st(bt.prototype,"get",function(Tt){if(_t(this,"get"),!!vt(Tt)){var $t=Tt[this._id];if($t&&$t[0]===Tt)return $t[1]}}),st(bt.prototype,"has",function(Tt){if(_t(this,"has"),!vt(Tt))return!1;var $t=Tt[this._id];return!!($t&&$t[0]===Tt)}),st(bt.prototype,"set",function(Tt,$t){if(_t(this,"set"),!vt(Tt))throw new TypeError("Invalid value used as weak map key");var Dt=Tt[this._id];return Dt&&Dt[0]===Tt?(Dt[1]=$t,this):(st(Tt,this._id,[Tt,$t]),this)});function _t(Tt,$t){if(!vt(Tt)||!nt.call(Tt,"_id"))throw new TypeError($t+" method called on incompatible receiver "+typeof Tt)}function wt(Tt){return Tt+"_"+Et()+"."+Et()}function Et(){return Math.random().toString().substring(2)}return st(bt,"_polyfill",!0),bt}();function vt(bt){return Object(bt)===bt}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal);var npo_src=createCommonjsModule(function(it){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(rt,st,vt){st[rt]=st[rt]||vt(),it.exports&&(it.exports=st[rt])})("Promise",commonjsGlobal,function(){var rt,st,vt,bt=Object.prototype.toString,_t=typeof setImmediate<"u"?function(qt){return setImmediate(qt)}:setTimeout;try{Object.defineProperty({},"x",{}),rt=function(qt,Yt,ti,oi){return Object.defineProperty(qt,Yt,{value:ti,writable:!0,configurable:oi!==!1})}}catch{rt=function(Yt,ti,oi){return Yt[ti]=oi,Yt}}vt=function(){var qt,Yt,ti;function oi(si,di){this.fn=si,this.self=di,this.next=void 0}return{add:function(di,ui){ti=new oi(di,ui),Yt?Yt.next=ti:qt=ti,Yt=ti,ti=void 0},drain:function(){var di=qt;for(qt=Yt=st=void 0;di;)di.fn.call(di.self),di=di.next}}}();function wt(Wt,qt){vt.add(Wt,qt),st||(st=_t(vt.drain))}function Et(Wt){var qt,Yt=typeof Wt;return Wt!=null&&(Yt=="object"||Yt=="function")&&(qt=Wt.then),typeof qt=="function"?qt:!1}function Tt(){for(var Wt=0;Wt<this.chain.length;Wt++)$t(this,this.state===1?this.chain[Wt].success:this.chain[Wt].failure,this.chain[Wt]);this.chain.length=0}function $t(Wt,qt,Yt){var ti,oi;try{qt===!1?Yt.reject(Wt.msg):(qt===!0?ti=Wt.msg:ti=qt.call(void 0,Wt.msg),ti===Yt.promise?Yt.reject(TypeError("Promise-chain cycle")):(oi=Et(ti))?oi.call(ti,Yt.resolve,Yt.reject):Yt.resolve(ti))}catch(si){Yt.reject(si)}}function Dt(Wt){var qt,Yt=this;if(!Yt.triggered){Yt.triggered=!0,Yt.def&&(Yt=Yt.def);try{(qt=Et(Wt))?wt(function(){var ti=new Ht(Yt);try{qt.call(Wt,function(){Dt.apply(ti,arguments)},function(){Lt.apply(ti,arguments)})}catch(oi){Lt.call(ti,oi)}}):(Yt.msg=Wt,Yt.state=1,Yt.chain.length>0&&wt(Tt,Yt))}catch(ti){Lt.call(new Ht(Yt),ti)}}}function Lt(Wt){var qt=this;qt.triggered||(qt.triggered=!0,qt.def&&(qt=qt.def),qt.msg=Wt,qt.state=2,qt.chain.length>0&&wt(Tt,qt))}function Bt(Wt,qt,Yt,ti){for(var oi=0;oi<qt.length;oi++)(function(di){Wt.resolve(qt[di]).then(function(ci){Yt(di,ci)},ti)})(oi)}function Ht(Wt){this.def=Wt,this.triggered=!1}function Ut(Wt){this.promise=Wt,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function It(Wt){if(typeof Wt!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var qt=new Ut(this);this.then=function(ti,oi){var si={success:typeof ti=="function"?ti:!0,failure:typeof oi=="function"?oi:!1};return si.promise=new this.constructor(function(ui,ci){if(typeof ui!="function"||typeof ci!="function")throw TypeError("Not a function");si.resolve=ui,si.reject=ci}),qt.chain.push(si),qt.state!==0&&wt(Tt,qt),si.promise},this.catch=function(ti){return this.then(void 0,ti)};try{Wt.call(void 0,function(ti){Dt.call(qt,ti)},function(ti){Lt.call(qt,ti)})}catch(Yt){Lt.call(qt,Yt)}}var jt=rt({},"constructor",It,!1);return It.prototype=jt,rt(jt,"__NPO__",0,!1),rt(It,"resolve",function(qt){var Yt=this;return qt&&typeof qt=="object"&&qt.__NPO__===1?qt:new Yt(function(oi,si){if(typeof oi!="function"||typeof si!="function")throw TypeError("Not a function");oi(qt)})}),rt(It,"reject",function(qt){return new this(function(ti,oi){if(typeof ti!="function"||typeof oi!="function")throw TypeError("Not a function");oi(qt)})}),rt(It,"all",function(qt){var Yt=this;return bt.call(qt)!="[object Array]"?Yt.reject(TypeError("Not an array")):qt.length===0?Yt.resolve([]):new Yt(function(oi,si){if(typeof oi!="function"||typeof si!="function")throw TypeError("Not a function");var di=qt.length,ui=Array(di),ci=0;Bt(Yt,qt,function(ei,wi){ui[ei]=wi,++ci===di&&oi(ui)},si)})}),rt(It,"race",function(qt){var Yt=this;return bt.call(qt)!="[object Array]"?Yt.reject(TypeError("Not an array")):new Yt(function(oi,si){if(typeof oi!="function"||typeof si!="function")throw TypeError("Not a function");Bt(Yt,qt,function(ui,ci){oi(ci)},si)})}),It})}),callbackMap=new WeakMap;function storeCallback(it,nt,rt){var st=callbackMap.get(it.element)||{};nt in st||(st[nt]=[]),st[nt].push(rt),callbackMap.set(it.element,st)}function getCallbacks(it,nt){var rt=callbackMap.get(it.element)||{};return rt[nt]||[]}function removeCallback(it,nt,rt){var st=callbackMap.get(it.element)||{};if(!st[nt])return!0;if(!rt)return st[nt]=[],callbackMap.set(it.element,st),!0;var vt=st[nt].indexOf(rt);return vt!==-1&&st[nt].splice(vt,1),callbackMap.set(it.element,st),st[nt]&&st[nt].length===0}function shiftCallbacks(it,nt){var rt=getCallbacks(it,nt);if(rt.length<1)return!1;var st=rt.shift();return removeCallback(it,nt,st),st}function swapCallbacks(it,nt){var rt=callbackMap.get(it);callbackMap.set(nt,rt),callbackMap.delete(it)}function parseMessageData(it){if(typeof it=="string")try{it=JSON.parse(it)}catch(nt){return console.warn(nt),{}}return it}function postMessage(it,nt,rt){if(!(!it.element.contentWindow||!it.element.contentWindow.postMessage)){var st={method:nt};rt!==void 0&&(st.value=rt);var vt=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));vt>=8&&vt<10&&(st=JSON.stringify(st)),it.element.contentWindow.postMessage(st,it.origin)}}function processData(it,nt){nt=parseMessageData(nt);var rt=[],st;if(nt.event){if(nt.event==="error"){var vt=getCallbacks(it,nt.data.method);vt.forEach(function(_t){var wt=new Error(nt.data.message);wt.name=nt.data.name,_t.reject(wt),removeCallback(it,nt.data.method,_t)})}rt=getCallbacks(it,"event:".concat(nt.event)),st=nt.data}else if(nt.method){var bt=shiftCallbacks(it,nt.method);bt&&(rt.push(bt),st=nt.value)}rt.forEach(function(_t){try{if(typeof _t=="function"){_t.call(it,st);return}_t.resolve(st)}catch{}})}var oEmbedParameters=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function getOEmbedParameters(it){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oEmbedParameters.reduce(function(rt,st){var vt=it.getAttribute("data-vimeo-".concat(st));return(vt||vt==="")&&(rt[st]=vt===""?1:vt),rt},nt)}function createEmbed(it,nt){var rt=it.html;if(!nt)throw new TypeError("An element must be provided");if(nt.getAttribute("data-vimeo-initialized")!==null)return nt.querySelector("iframe");var st=document.createElement("div");return st.innerHTML=rt,nt.appendChild(st.firstChild),nt.setAttribute("data-vimeo-initialized","true"),nt.querySelector("iframe")}function getOEmbedData(it){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=arguments.length>2?arguments[2]:void 0;return new Promise(function(st,vt){if(!isVimeoUrl(it))throw new TypeError("\u201C".concat(it,"\u201D is not a vimeo.com url."));var bt="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(it));for(var _t in nt)nt.hasOwnProperty(_t)&&(bt+="&".concat(_t,"=").concat(encodeURIComponent(nt[_t])));var wt="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;wt.open("GET",bt,!0),wt.onload=function(){if(wt.status===404){vt(new Error("\u201C".concat(it,"\u201D was not found.")));return}if(wt.status===403){vt(new Error("\u201C".concat(it,"\u201D is not embeddable.")));return}try{var Et=JSON.parse(wt.responseText);if(Et.domain_status_code===403){createEmbed(Et,rt),vt(new Error("\u201C".concat(it,"\u201D is not embeddable.")));return}st(Et)}catch(Tt){vt(Tt)}},wt.onerror=function(){var Et=wt.status?" (".concat(wt.status,")"):"";vt(new Error("There was an error fetching the embed code from Vimeo".concat(Et,".")))},wt.send()})}function initializeEmbeds(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,nt=[].slice.call(it.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),rt=function(vt){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(vt))};nt.forEach(function(st){try{if(st.getAttribute("data-vimeo-defer")!==null)return;var vt=getOEmbedParameters(st),bt=getVimeoUrl(vt);getOEmbedData(bt,vt,st).then(function(_t){return createEmbed(_t,st)}).catch(rt)}catch(_t){rt(_t)}})}function resizeEmbeds(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var nt=function(st){if(!!isVimeoUrl(st.origin)&&!(!st.data||st.data.event!=="spacechange")){for(var vt=it.querySelectorAll("iframe"),bt=0;bt<vt.length;bt++)if(vt[bt].contentWindow===st.source){var _t=vt[bt].parentElement;_t.style.paddingBottom="".concat(st.data.data[0].bottom,"px");break}}};window.addEventListener("message",nt)}}function initAppendVideoMetadata(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var nt=function(st){if(!!isVimeoUrl(st.origin)){var vt=parseMessageData(st.data);if(!(!vt||vt.event!=="ready"))for(var bt=it.querySelectorAll("iframe"),_t=0;_t<bt.length;_t++){var wt=bt[_t],Et=wt.contentWindow===st.source;if(isVimeoEmbed(wt.src)&&Et){var Tt=new Player(wt);Tt.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",nt)}}function checkUrlTimeParam(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var nt=function(vt){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(vt))},rt=function(vt){if(!!isVimeoUrl(vt.origin)){var bt=parseMessageData(vt.data);if(!(!bt||bt.event!=="ready"))for(var _t=it.querySelectorAll("iframe"),wt=0;wt<_t.length;wt++){var Et=_t[wt],Tt=Et.contentWindow===vt.source;isVimeoEmbed(Et.src)&&Tt&&function(){var $t=new Player(Et);$t.getVideoId().then(function(Dt){var Lt=new RegExp("[?&]vimeo_t_".concat(Dt,"=([^&#]*)")).exec(window.location.href);if(Lt&&Lt[1]){var Bt=decodeURI(Lt[1]);$t.setCurrentTime(Bt)}}).catch(nt)}()}}};window.addEventListener("message",rt)}}function initializeScreenfull(){var it=function(){for(var st,vt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],bt=0,_t=vt.length,wt={};bt<_t;bt++)if(st=vt[bt],st&&st[1]in document){for(bt=0;bt<st.length;bt++)wt[vt[0][bt]]=st[bt];return wt}return!1}(),nt={fullscreenchange:it.fullscreenchange,fullscreenerror:it.fullscreenerror},rt={request:function(vt){return new Promise(function(bt,_t){var wt=function Tt(){rt.off("fullscreenchange",Tt),bt()};rt.on("fullscreenchange",wt),vt=vt||document.documentElement;var Et=vt[it.requestFullscreen]();Et instanceof Promise&&Et.then(wt).catch(_t)})},exit:function(){return new Promise(function(vt,bt){if(!rt.isFullscreen){vt();return}var _t=function Et(){rt.off("fullscreenchange",Et),vt()};rt.on("fullscreenchange",_t);var wt=document[it.exitFullscreen]();wt instanceof Promise&&wt.then(_t).catch(bt)})},on:function(vt,bt){var _t=nt[vt];_t&&document.addEventListener(_t,bt)},off:function(vt,bt){var _t=nt[vt];_t&&document.removeEventListener(_t,bt)}};return Object.defineProperties(rt,{isFullscreen:{get:function(){return Boolean(document[it.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[it.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[it.fullscreenEnabled])}}}),rt}var playerMap=new WeakMap,readyMap=new WeakMap,screenfull={},Player=function(){function it(nt){var rt=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,it),window.jQuery&&nt instanceof jQuery&&(nt.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),nt=nt[0]),typeof document<"u"&&typeof nt=="string"&&(nt=document.getElementById(nt)),!isDomElement(nt))throw new TypeError("You must pass either a valid element or a valid id.");if(nt.nodeName!=="IFRAME"){var vt=nt.querySelector("iframe");vt&&(nt=vt)}if(nt.nodeName==="IFRAME"&&!isVimeoUrl(nt.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(playerMap.has(nt))return playerMap.get(nt);this._window=nt.ownerDocument.defaultView,this.element=nt,this.origin="*";var bt=new npo_src(function(wt,Et){if(rt._onMessage=function(Dt){if(!(!isVimeoUrl(Dt.origin)||rt.element.contentWindow!==Dt.source)){rt.origin==="*"&&(rt.origin=Dt.origin);var Lt=parseMessageData(Dt.data),Bt=Lt&&Lt.event==="error",Ht=Bt&&Lt.data&&Lt.data.method==="ready";if(Ht){var Ut=new Error(Lt.data.message);Ut.name=Lt.data.name,Et(Ut);return}var It=Lt&&Lt.event==="ready",jt=Lt&&Lt.method==="ping";if(It||jt){rt.element.setAttribute("data-ready","true"),wt();return}processData(rt,Lt)}},rt._window.addEventListener("message",rt._onMessage),rt.element.nodeName!=="IFRAME"){var Tt=getOEmbedParameters(nt,st),$t=getVimeoUrl(Tt);getOEmbedData($t,Tt,nt).then(function(Dt){var Lt=createEmbed(Dt,nt);return rt.element=Lt,rt._originalElement=nt,swapCallbacks(nt,Lt),playerMap.set(rt.element,rt),Dt}).catch(Et)}});if(readyMap.set(this,bt),playerMap.set(this.element,this),this.element.nodeName==="IFRAME"&&postMessage(this,"ping"),screenfull.isEnabled){var _t=function(){return screenfull.exit()};this.fullscreenchangeHandler=function(){screenfull.isFullscreen?storeCallback(rt,"event:exitFullscreen",_t):removeCallback(rt,"event:exitFullscreen",_t),rt.ready().then(function(){postMessage(rt,"fullscreenchange",screenfull.isFullscreen)})},screenfull.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return _createClass(it,[{key:"callMethod",value:function(rt){var st=this,vt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new npo_src(function(bt,_t){return st.ready().then(function(){storeCallback(st,rt,{resolve:bt,reject:_t}),postMessage(st,rt,vt)}).catch(_t)})}},{key:"get",value:function(rt){var st=this;return new npo_src(function(vt,bt){return rt=getMethodName(rt,"get"),st.ready().then(function(){storeCallback(st,rt,{resolve:vt,reject:bt}),postMessage(st,rt)}).catch(bt)})}},{key:"set",value:function(rt,st){var vt=this;return new npo_src(function(bt,_t){if(rt=getMethodName(rt,"set"),st==null)throw new TypeError("There must be a value to set.");return vt.ready().then(function(){storeCallback(vt,rt,{resolve:bt,reject:_t}),postMessage(vt,rt,st)}).catch(_t)})}},{key:"on",value:function(rt,st){if(!rt)throw new TypeError("You must pass an event name.");if(!st)throw new TypeError("You must pass a callback function.");if(typeof st!="function")throw new TypeError("The callback must be a function.");var vt=getCallbacks(this,"event:".concat(rt));vt.length===0&&this.callMethod("addEventListener",rt).catch(function(){}),storeCallback(this,"event:".concat(rt),st)}},{key:"off",value:function(rt,st){if(!rt)throw new TypeError("You must pass an event name.");if(st&&typeof st!="function")throw new TypeError("The callback must be a function.");var vt=removeCallback(this,"event:".concat(rt),st);vt&&this.callMethod("removeEventListener",rt).catch(function(bt){})}},{key:"loadVideo",value:function(rt){return this.callMethod("loadVideo",rt)}},{key:"ready",value:function(){var rt=readyMap.get(this)||new npo_src(function(st,vt){vt(new Error("Unknown player. Probably unloaded."))});return npo_src.resolve(rt)}},{key:"addCuePoint",value:function(rt){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:rt,data:st})}},{key:"removeCuePoint",value:function(rt){return this.callMethod("removeCuePoint",rt)}},{key:"enableTextTrack",value:function(rt,st){if(!rt)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:rt,kind:st})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return screenfull.isEnabled?screenfull.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return screenfull.isEnabled?screenfull.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return screenfull.isEnabled?npo_src.resolve(screenfull.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var rt=this;return new npo_src(function(st){if(readyMap.delete(rt),playerMap.delete(rt.element),rt._originalElement&&(playerMap.delete(rt._originalElement),rt._originalElement.removeAttribute("data-vimeo-initialized")),rt.element&&rt.element.nodeName==="IFRAME"&&rt.element.parentNode&&(rt.element.parentNode.parentNode&&rt._originalElement&&rt._originalElement!==rt.element.parentNode?rt.element.parentNode.parentNode.removeChild(rt.element.parentNode):rt.element.parentNode.removeChild(rt.element)),rt.element&&rt.element.nodeName==="DIV"&&rt.element.parentNode){rt.element.removeAttribute("data-vimeo-initialized");var vt=rt.element.querySelector("iframe");vt&&vt.parentNode&&(vt.parentNode.parentNode&&rt._originalElement&&rt._originalElement!==vt.parentNode?vt.parentNode.parentNode.removeChild(vt.parentNode):vt.parentNode.removeChild(vt))}rt._window.removeEventListener("message",rt._onMessage),screenfull.isEnabled&&screenfull.off("fullscreenchange",rt.fullscreenchangeHandler),st()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(rt){return this.set("autopause",rt)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(rt){return this.set("cameraProps",rt)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(rt){return this.set("color",rt)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(rt){return this.set("currentTime",rt)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(rt){return this.set("loop",rt)}},{key:"setMuted",value:function(rt){return this.set("muted",rt)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(rt){return this.set("playbackRate",rt)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(rt){return this.set("quality",rt)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(rt){return this.set("volume",rt)}}]),it}();isNode||(screenfull=initializeScreenfull(),initializeEmbeds(),resizeEmbeds(),initAppendVideoMetadata(),checkUrlTimeParam());var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(it){return new OpenSeadragon.Viewer(it)}(function(it){it.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var nt={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},rt=Object.prototype.toString,st=Object.prototype.hasOwnProperty;it.isFunction=function(vt){return it.type(vt)==="function"},it.isArray=Array.isArray||function(vt){return it.type(vt)==="array"},it.isWindow=function(vt){return vt&&typeof vt=="object"&&"setInterval"in vt},it.type=function(vt){return vt==null?String(vt):nt[rt.call(vt)]||"object"},it.isPlainObject=function(vt){if(!vt||OpenSeadragon.type(vt)!=="object"||vt.nodeType||it.isWindow(vt)||vt.constructor&&!st.call(vt,"constructor")&&!st.call(vt.constructor.prototype,"isPrototypeOf"))return!1;var bt;for(var _t in vt)bt=_t;return bt===void 0||st.call(vt,bt)},it.isEmptyObject=function(vt){for(var bt in vt)return!1;return!0},it.freezeObject=function(vt){return Object.freeze?it.freezeObject=Object.freeze:it.freezeObject=function(bt){return bt},it.freezeObject(vt)},it.supportsCanvas=function(){var vt=document.createElement("canvas");return!!(it.isFunction(vt.getContext)&&vt.getContext("2d"))}(),it.isCanvasTainted=function(vt){var bt=!1;try{vt.getContext("2d").getImageData(0,0,1,1)}catch{bt=!0}return bt},it.pixelDensityRatio=function(){if(it.supportsCanvas){var vt=document.createElement("canvas").getContext("2d"),bt=window.devicePixelRatio||1,_t=vt.webkitBackingStorePixelRatio||vt.mozBackingStorePixelRatio||vt.msBackingStorePixelRatio||vt.oBackingStorePixelRatio||vt.backingStorePixelRatio||1;return Math.max(bt,1)/_t}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var it,nt,rt,st,vt,bt,_t=arguments[0]||{},wt=arguments.length,Et=!1,Tt=1;for(typeof _t=="boolean"&&(Et=_t,_t=arguments[1]||{},Tt=2),typeof _t!="object"&&!OpenSeadragon.isFunction(_t)&&(_t={}),wt===Tt&&(_t=this,--Tt);Tt<wt;Tt++)if(it=arguments[Tt],it!==null||it!==void 0)for(nt in it)rt=_t[nt],st=it[nt],_t!==st&&(Et&&st&&(OpenSeadragon.isPlainObject(st)||(vt=OpenSeadragon.isArray(st)))?(vt?(vt=!1,bt=rt&&OpenSeadragon.isArray(rt)?rt:[]):bt=rt&&OpenSeadragon.isPlainObject(rt)?rt:{},_t[nt]=OpenSeadragon.extend(Et,bt,st)):st!==void 0&&(_t[nt]=st));return _t};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var it=navigator.userAgent;return typeof it!="string"?!1:it.indexOf("iPhone")!==-1||it.indexOf("iPad")!==-1||it.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(it,nt){return function(){var rt=arguments;return rt===void 0&&(rt=[]),nt.apply(it,rt)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(it){return typeof it=="string"&&(it=document.getElementById(it)),it},getElementPosition:function(it){var nt=new $.Point,rt,st;for(it=$.getElement(it),rt=$.getElementStyle(it).position=="fixed",st=getOffsetParent(it,rt);st;)nt.x+=it.offsetLeft,nt.y+=it.offsetTop,rt&&(nt=nt.plus($.getPageScroll())),it=st,rt=$.getElementStyle(it).position=="fixed",st=getOffsetParent(it,rt);return nt},getElementOffset:function(it){it=$.getElement(it);var nt=it&&it.ownerDocument,rt,st,vt={top:0,left:0};return nt?(rt=nt.documentElement,typeof it.getBoundingClientRect<"u"&&(vt=it.getBoundingClientRect()),st=nt==nt.window?nt:nt.nodeType===9?nt.defaultView||nt.parentWindow:!1,new $.Point(vt.left+(st.pageXOffset||rt.scrollLeft)-(rt.clientLeft||0),vt.top+(st.pageYOffset||rt.scrollTop)-(rt.clientTop||0))):new $.Point},getElementSize:function(it){return it=$.getElement(it),new $.Point(it.clientWidth,it.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(it){return it=$.getElement(it),it.currentStyle}:function(it){return it=$.getElement(it),window.getComputedStyle(it,"")},getCssPropertyWithVendorPrefix:function(it){var nt={};return $.getCssPropertyWithVendorPrefix=function(rt){if(nt[rt]!==void 0)return nt[rt];var st=document.createElement("div").style,vt=null;if(st[rt]!==void 0)vt=rt;else for(var bt=["Webkit","Moz","MS","O","webkit","moz","ms","o"],_t=$.capitalizeFirstLetter(rt),wt=0;wt<bt.length;wt++){var Et=bt[wt]+_t;if(st[Et]!==void 0){vt=Et;break}}return nt[rt]=vt,vt},$.getCssPropertyWithVendorPrefix(it)},capitalizeFirstLetter:function(it){return it.charAt(0).toUpperCase()+it.slice(1)},positiveModulo:function(it,nt){var rt=it%nt;return rt<0&&(rt+=nt),rt},pointInElement:function(it,nt){it=$.getElement(it);var rt=$.getElementOffset(it),st=$.getElementSize(it);return nt.x>=rt.x&&nt.x<rt.x+st.x&&nt.y<rt.y+st.y&&nt.y>=rt.y},getEvent:function(it){return it?$.getEvent=function(nt){return nt}:$.getEvent=function(){return window.event},$.getEvent(it)},getMousePosition:function(it){if(typeof it.pageX=="number")$.getMousePosition=function(nt){var rt=new $.Point;return nt=$.getEvent(nt),rt.x=nt.pageX,rt.y=nt.pageY,rt};else if(typeof it.clientX=="number")$.getMousePosition=function(nt){var rt=new $.Point;return nt=$.getEvent(nt),rt.x=nt.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,rt.y=nt.clientY+document.body.scrollTop+document.documentElement.scrollTop,rt};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(it)},getPageScroll:function(){var it=document.documentElement||{},nt=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(nt.scrollLeft||nt.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(it.scrollLeft||it.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(it){if(typeof window.scrollTo<"u")$.setPageScroll=function(st){window.scrollTo(st.x,st.y)};else{var nt=$.getPageScroll();if(nt.x===it.x&&nt.y===it.y)return;document.body.scrollLeft=it.x,document.body.scrollTop=it.y;var rt=$.getPageScroll();if(rt.x!==nt.x&&rt.y!==nt.y){$.setPageScroll=function(st){document.body.scrollLeft=st.x,document.body.scrollTop=st.y};return}if(document.documentElement.scrollLeft=it.x,document.documentElement.scrollTop=it.y,rt=$.getPageScroll(),rt.x!==nt.x&&rt.y!==nt.y){$.setPageScroll=function(st){document.documentElement.scrollLeft=st.x,document.documentElement.scrollTop=st.y};return}$.setPageScroll=function(st){}}return $.setPageScroll(it)},getWindowSize:function(){var it=document.documentElement||{},nt=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(it.clientWidth||it.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(nt.clientWidth||nt.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(it){it=$.getElement(it);var nt=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(nt[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(nt[1].style,{display:"table-row"}),$.extend(nt[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),nt[0].appendChild(nt[1]),nt[1].appendChild(nt[2]),nt[2].appendChild(it),nt[0]},makeNeutralElement:function(it){var nt=document.createElement(it),rt=nt.style;return rt.background="transparent none",rt.border="none",rt.margin="0px",rt.padding="0px",rt.position="static",nt},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(it){return $.makeTransparentImage=function(nt){var rt=$.makeNeutralElement("img");return rt.src=nt,rt},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(nt){var rt=$.makeNeutralElement("img"),st=null;return st=$.makeNeutralElement("span"),st.style.display="inline-block",rt.onload=function(){st.style.width=st.style.width||rt.width+"px",st.style.height=st.style.height||rt.height+"px",rt.onload=null,rt=null},rt.src=nt,st.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+nt+"', sizingMethod='scale')",st}),$.makeTransparentImage(it)},setElementOpacity:function(it,nt,rt){var st,vt;it=$.getElement(it),rt&&!$.Browser.alpha&&(nt=Math.round(nt)),$.Browser.opacity?it.style.opacity=nt<1?nt:"":nt<1?(st=Math.round(100*nt),vt="alpha(opacity="+st+")",it.style.filter=vt):it.style.filter=""},setElementTouchActionNone:function(it){it=$.getElement(it),typeof it.style.touchAction<"u"?it.style.touchAction="none":typeof it.style.msTouchAction<"u"&&(it.style.msTouchAction="none")},addClass:function(it,nt){it=$.getElement(it),it.className?(" "+it.className+" ").indexOf(" "+nt+" ")===-1&&(it.className+=" "+nt):it.className=nt},indexOf:function(it,nt,rt){return Array.prototype.indexOf?this.indexOf=function(st,vt,bt){return st.indexOf(vt,bt)}:this.indexOf=function(st,vt,bt){var _t,wt=bt||0,Et;if(!st)throw new TypeError;if(Et=st.length,Et===0||wt>=Et)return-1;for(wt<0&&(wt=Et-Math.abs(wt)),_t=wt;_t<Et;_t++)if(st[_t]===vt)return _t;return-1},this.indexOf(it,nt,rt)},removeClass:function(it,nt){var rt,st=[],vt;for(it=$.getElement(it),rt=it.className.split(/\s+/),vt=0;vt<rt.length;vt++)rt[vt]&&rt[vt]!==nt&&st.push(rt[vt]);it.className=st.join(" ")},addEvent:function(){if(window.addEventListener)return function(it,nt,rt,st){it=$.getElement(it),it.addEventListener(nt,rt,st)};if(window.attachEvent)return function(it,nt,rt,st){it=$.getElement(it),it.attachEvent("on"+nt,rt)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(it,nt,rt,st){it=$.getElement(it),it.removeEventListener(nt,rt,st)};if(window.detachEvent)return function(it,nt,rt,st){it=$.getElement(it),it.detachEvent("on"+nt,rt)};throw new Error("No known event model.")}(),cancelEvent:function(it){it=$.getEvent(it),it.preventDefault?$.cancelEvent=function(nt){nt.preventDefault()}:$.cancelEvent=function(nt){nt=$.getEvent(nt),nt.cancel=!0,nt.returnValue=!1},$.cancelEvent(it)},stopEvent:function(it){it=$.getEvent(it),it.stopPropagation?$.stopEvent=function(nt){nt.stopPropagation()}:$.stopEvent=function(nt){nt=$.getEvent(nt),nt.cancelBubble=!0},$.stopEvent(it)},createCallback:function(it,nt){var rt=[],st;for(st=2;st<arguments.length;st++)rt.push(arguments[st]);return function(){var vt=rt.concat([]),bt;for(bt=0;bt<arguments.length;bt++)vt.push(arguments[bt]);return nt.apply(it,vt)}},getUrlParameter:function(it){var nt=URLPARAMS[it];return nt||null},getUrlProtocol:function(it){var nt=it.match(/^([a-z]+:)\/\//i);return nt===null?window.location.protocol:nt[1].toLowerCase()},createAjaxRequest:function(it){var nt;try{nt=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{nt=!1}if(nt)window.XMLHttpRequest?$.createAjaxRequest=function(rt){return rt?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(it)},makeAjaxRequest:function(it,nt,rt){var st,vt,bt;$.isPlainObject(it)&&(nt=it.success,rt=it.error,st=it.withCredentials,vt=it.headers,bt=it.responseType||null,it=it.url);var _t=$.getUrlProtocol(it),wt=$.createAjaxRequest(_t==="file:");if(!$.isFunction(nt))throw new Error("makeAjaxRequest requires a success callback");wt.onreadystatechange=function(){wt.readyState==4&&(wt.onreadystatechange=function(){},wt.status>=200&&wt.status<300||wt.status===0&&_t!=="http:"&&_t!=="https:"?nt(wt):($.console.log("AJAX request returned %d: %s",wt.status,it),$.isFunction(rt)&&rt(wt)))};try{if(wt.open("GET",it,!0),bt&&(wt.responseType=bt),vt)for(var Et in vt)Object.prototype.hasOwnProperty.call(vt,Et)&&vt[Et]&&wt.setRequestHeader(Et,vt[Et]);st&&(wt.withCredentials=!0),wt.send(null)}catch(Lt){var Tt=Lt.message,$t=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if($t&&typeof Lt.number<"u"&&Lt.number==-2147024891&&(Tt+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",Lt.name,Tt),wt.onreadystatechange=function(){},window.XDomainRequest){var Dt=new window.XDomainRequest;if(Dt){Dt.onload=function(Bt){$.isFunction(nt)&&nt({responseText:Dt.responseText,status:200,statusText:"OK"})},Dt.onerror=function(Bt){$.isFunction(rt)&&rt({responseText:Dt.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{Dt.open("GET",it),Dt.send()}catch{$.isFunction(rt)&&rt(wt,Lt)}}}else $.isFunction(rt)&&rt(wt,Lt)}return wt},jsonp:function(it){var nt,rt=it.url,st=document.head||document.getElementsByTagName("head")[0]||document.documentElement,vt=it.callbackName||"openseadragon"+$.now(),bt=window[vt],_t="$1"+vt+"$2",wt=it.param||"callback",Et=it.callback;rt=rt.replace(/(\=)\?(&|$)|\?\?/i,_t),rt+=(/\?/.test(rt)?"&":"?")+wt+"="+vt,window[vt]=function(Tt){if(bt)window[vt]=bt;else try{delete window[vt]}catch{}Et&&$.isFunction(Et)&&Et(Tt)},nt=document.createElement("script"),(it.async!==void 0||it.async!==!1)&&(nt.async="async"),it.scriptCharset&&(nt.charset=it.scriptCharset),nt.src=rt,nt.onload=nt.onreadystatechange=function(Tt,$t){($t||!nt.readyState||/loaded|complete/.test(nt.readyState))&&(nt.onload=nt.onreadystatechange=null,st&&nt.parentNode&&st.removeChild(nt),nt=void 0)},st.insertBefore(nt,st.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(it){if(window.DOMParser)$.parseXml=function(nt){var rt=null,st;return st=new DOMParser,rt=st.parseFromString(nt,"text/xml"),rt};else if(window.ActiveXObject)$.parseXml=function(nt){var rt=null;return rt=new ActiveXObject("Microsoft.XMLDOM"),rt.async=!1,rt.loadXML(nt),rt};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(it)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(it){return it=it||"",!!FILEFORMATS[it.toLowerCase()]}});var nullfunction=function(it){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var it=navigator.appVersion,nt=navigator.userAgent,rt;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(nt.substring(nt.indexOf("MSIE")+5,nt.indexOf(";",nt.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(nt.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(nt.substring(nt.indexOf("Firefox")+8))):nt.indexOf("Safari")>=0?($.Browser.vendor=nt.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(nt.substring(nt.substring(0,nt.indexOf("Safari")).lastIndexOf("/")+1,nt.indexOf("Safari")))):(rt=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),rt.exec(nt)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(it);break}var st=window.location.search.substring(1),vt=st.split("&"),bt,_t,wt;for(wt=0;wt<vt.length;wt++)if(bt=vt[wt],_t=bt.indexOf("="),_t>0){var Et=bt.substring(0,_t),Tt=bt.substring(_t+1);try{URLPARAMS[Et]=decodeURIComponent(Tt)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",Et,Tt)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(it){var nt=it.requestAnimationFrame||it.mozRequestAnimationFrame||it.webkitRequestAnimationFrame||it.msRequestAnimationFrame,rt=it.cancelAnimationFrame||it.mozCancelAnimationFrame||it.webkitCancelAnimationFrame||it.msCancelAnimationFrame;if(nt&&rt)$.requestAnimationFrame=function(){return nt.apply(it,arguments)},$.cancelAnimationFrame=function(){return rt.apply(it,arguments)};else{var st=[],vt=[],bt=0,_t;$.requestAnimationFrame=function(wt){return st.push([++bt,wt]),_t||(_t=setInterval(function(){if(st.length){var Et=$.now(),Tt=vt;for(vt=st,st=Tt;vt.length;)vt.shift()[1](Et)}else clearInterval(_t),_t=void 0},1e3/50)),bt},$.cancelAnimationFrame=function(wt){var Et,Tt;for(Et=0,Tt=st.length;Et<Tt;Et+=1)if(st[Et][0]===wt){st.splice(Et,1);return}for(Et=0,Tt=vt.length;Et<Tt;Et+=1)if(vt[Et][0]===wt){vt.splice(Et,1);return}}}}(window);function getOffsetParent(it,nt){return nt&&it!=document.body?document.body:it.offsetParent}}(OpenSeadragon),function(it,nt){module.exports?module.exports=nt():it.OpenSeadragon=nt()}(commonjsGlobal$1,function(){return OpenSeadragon}),function(it){var nt={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(nt.supportsFullScreen=!0,nt.getFullScreenElement=function(){return document.fullscreenElement},nt.requestFullScreen=function(rt){return rt.requestFullscreen()},nt.exitFullScreen=function(){document.exitFullscreen()},nt.fullScreenEventName="fullscreenchange",nt.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(nt.supportsFullScreen=!0,nt.getFullScreenElement=function(){return document.msFullscreenElement},nt.requestFullScreen=function(rt){return rt.msRequestFullscreen()},nt.exitFullScreen=function(){document.msExitFullscreen()},nt.fullScreenEventName="MSFullscreenChange",nt.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(nt.supportsFullScreen=!0,nt.getFullScreenElement=function(){return document.webkitFullscreenElement},nt.requestFullScreen=function(rt){return rt.webkitRequestFullscreen()},nt.exitFullScreen=function(){document.webkitExitFullscreen()},nt.fullScreenEventName="webkitfullscreenchange",nt.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(nt.supportsFullScreen=!0,nt.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},nt.requestFullScreen=function(rt){return rt.webkitRequestFullScreen()},nt.exitFullScreen=function(){document.webkitCancelFullScreen()},nt.fullScreenEventName="webkitfullscreenchange",nt.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(nt.supportsFullScreen=!0,nt.getFullScreenElement=function(){return document.mozFullScreenElement},nt.requestFullScreen=function(rt){return rt.mozRequestFullScreen()},nt.exitFullScreen=function(){document.mozCancelFullScreen()},nt.fullScreenEventName="mozfullscreenchange",nt.fullScreenErrorEventName="mozfullscreenerror"),nt.isFullScreen=function(){return nt.getFullScreenElement()!==null},nt.cancelFullScreen=function(){it.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),nt.exitFullScreen()},it.extend(it,nt)}(OpenSeadragon),function(it){it.EventSource=function(){this.events={}},it.EventSource.prototype={addOnceHandler:function(nt,rt,st,vt){var bt=this;vt=vt||1;var _t=0,wt=function(Et){_t++,_t===vt&&bt.removeHandler(nt,wt),rt(Et)};this.addHandler(nt,wt,st)},addHandler:function(nt,rt,st){var vt=this.events[nt];vt||(this.events[nt]=vt=[]),rt&&it.isFunction(rt)&&(vt[vt.length]={handler:rt,userData:st||null})},removeHandler:function(nt,rt){var st=this.events[nt],vt=[],bt;if(!!st&&it.isArray(st)){for(bt=0;bt<st.length;bt++)st[bt].handler!==rt&&vt.push(st[bt]);this.events[nt]=vt}},removeAllHandlers:function(nt){if(nt)this.events[nt]=[];else for(var rt in this.events)this.events[rt]=[]},getHandler:function(nt){var rt=this.events[nt];return!rt||!rt.length?null:(rt=rt.length===1?[rt[0]]:Array.apply(null,rt),function(st,vt){var bt,_t=rt.length;for(bt=0;bt<_t;bt++)rt[bt]&&(vt.eventSource=st,vt.userData=rt[bt].userData,rt[bt].handler(vt))})},raiseEvent:function(nt,rt){var st=this.getHandler(nt);st&&(rt||(rt={}),st(this,rt))}}}(OpenSeadragon),function(it){var nt=[],rt={};it.MouseTracker=function(li){nt.push(this);var ai=arguments;it.isPlainObject(li)||(li={element:ai[0],clickTimeThreshold:ai[1],clickDistThreshold:ai[2]}),this.hash=Math.random(),this.element=it.getElement(li.element),this.clickTimeThreshold=li.clickTimeThreshold||it.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=li.clickDistThreshold||it.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=li.dblClickTimeThreshold||it.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=li.dblClickDistThreshold||it.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=li.userData||null,this.stopDelay=li.stopDelay||50,this.enterHandler=li.enterHandler||null,this.exitHandler=li.exitHandler||null,this.pressHandler=li.pressHandler||null,this.nonPrimaryPressHandler=li.nonPrimaryPressHandler||null,this.releaseHandler=li.releaseHandler||null,this.nonPrimaryReleaseHandler=li.nonPrimaryReleaseHandler||null,this.moveHandler=li.moveHandler||null,this.scrollHandler=li.scrollHandler||null,this.clickHandler=li.clickHandler||null,this.dblClickHandler=li.dblClickHandler||null,this.dragHandler=li.dragHandler||null,this.dragEndHandler=li.dragEndHandler||null,this.pinchHandler=li.pinchHandler||null,this.stopHandler=li.stopHandler||null,this.keyDownHandler=li.keyDownHandler||null,this.keyUpHandler=li.keyUpHandler||null,this.keyHandler=li.keyHandler||null,this.focusHandler=li.focusHandler||null,this.blurHandler=li.blurHandler||null;var xi=this;rt[this.hash]={click:function(ki){Ht(xi,ki)},dblclick:function(ki){Ut(xi,ki)},keydown:function(ki){It(xi,ki)},keyup:function(ki){jt(xi,ki)},keypress:function(ki){Wt(xi,ki)},focus:function(ki){qt(xi,ki)},blur:function(ki){Yt(xi,ki)},wheel:function(ki){ti(xi,ki)},mousewheel:function(ki){oi(xi,ki)},DOMMouseScroll:function(ki){oi(xi,ki)},MozMousePixelScroll:function(ki){oi(xi,ki)},mouseenter:function(ki){ui(xi,ki)},mouseleave:function(ki){ei(xi,ki)},mouseover:function(ki){ci(xi,ki)},mouseout:function(ki){wi(xi,ki)},mousedown:function(ki){ni(xi,ki)},mouseup:function(ki){Fi(xi,ki)},mouseupcaptured:function(ki){Xi(xi,ki)},mousemove:function(ki){Ai(xi,ki)},mousemovecaptured:function(ki){ji(xi,ki)},touchstart:function(ki){Qi(xi,ki)},touchend:function(ki){rn(xi,ki)},touchendcaptured:function(ki){Pi(xi,ki)},touchmove:function(ki){Oi(xi,ki)},touchmovecaptured:function(ki){Ii(xi,ki)},touchcancel:function(ki){$i(xi,ki)},gesturestart:function(ki){ii(xi,ki)},gesturechange:function(ki){Nt(xi,ki)},pointerover:function(ki){Qt(xi,ki)},MSPointerOver:function(ki){Qt(xi,ki)},pointerout:function(ki){Jt(xi,ki)},MSPointerOut:function(ki){Jt(xi,ki)},pointerdown:function(ki){Si(xi,ki)},MSPointerDown:function(ki){Si(xi,ki)},pointerup:function(ki){vi(xi,ki)},MSPointerUp:function(ki){vi(xi,ki)},pointermove:function(ki){Li(xi,ki)},MSPointerMove:function(ki){Li(xi,ki)},pointercancel:function(ki){Hi(xi,ki)},MSPointerCancel:function(ki){Hi(xi,ki)},pointerupcaptured:function(ki){Mi(xi,ki)},pointermovecaptured:function(ki){Ti(xi,ki)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},li.startDisabled||this.setTracking(!0)},it.MouseTracker.prototype={destroy:function(){var li;for(bt(this),this.element=null,li=0;li<nt.length;li++)if(nt[li]===this){nt.splice(li,1);break}rt[this.hash]=null,delete rt[this.hash]},isTracking:function(){return rt[this.hash].tracking},setTracking:function(li){return li?vt(this):bt(this),this},getActivePointersListsExceptType:function(li){for(var ai=rt[this.hash],xi=[],ki=0;ki<ai.activePointersLists.length;++ki)ai.activePointersLists[ki].type!==li&&xi.push(ai.activePointersLists[ki]);return xi},getActivePointersListByType:function(li){var ai=rt[this.hash],xi,ki=ai.activePointersLists.length,Ki;for(xi=0;xi<ki;xi++)if(ai.activePointersLists[xi].type===li)return ai.activePointersLists[xi];return Ki=new it.MouseTracker.GesturePointList(li),ai.activePointersLists.push(Ki),Ki},getActivePointerCount:function(){var li=rt[this.hash],ai,xi=li.activePointersLists.length,ki=0;for(ai=0;ai<xi;ai++)ki+=li.activePointersLists[ai].getLength();return ki},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},it.MouseTracker.resetAllMouseTrackers=function(){for(var li=0;li<nt.length;li++)nt[li].isTracking()&&(nt[li].setTracking(!1),nt[li].setTracking(!0))},it.MouseTracker.gesturePointVelocityTracker=function(){var li=[],ai=0,xi=0,ki=function(yn,an){return yn.hash.toString()+an.type+an.id.toString()},Ki=function(){var yn,an=li.length,Tn,Dn,Hn=it.now(),Mn,sr,jn;for(Mn=Hn-xi,xi=Hn,yn=0;yn<an;yn++)Tn=li[yn],Dn=Tn.gPoint,Dn.direction=Math.atan2(Dn.currentPos.y-Tn.lastPos.y,Dn.currentPos.x-Tn.lastPos.x),sr=Tn.lastPos.distanceTo(Dn.currentPos),Tn.lastPos=Dn.currentPos,jn=1e3*sr/(Mn+1),Dn.speed=.75*jn+.25*Dn.speed},gn=function(yn,an){var Tn=ki(yn,an);li.push({guid:Tn,gPoint:an,lastPos:an.currentPos}),li.length===1&&(xi=it.now(),ai=window.setInterval(Ki,50))},Ui=function(yn,an){var Tn=ki(yn,an),Dn,Hn=li.length;for(Dn=0;Dn<Hn;Dn++)if(li[Dn].guid===Tn){li.splice(Dn,1),Hn--,Hn===0&&window.clearInterval(ai);break}};return{addPoint:gn,removePoint:Ui}}(),it.MouseTracker.captureElement=document,it.MouseTracker.wheelEventName=it.Browser.vendor==it.BROWSERS.IE&&it.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",it.MouseTracker.supportsMouseCapture=function(){var li=document.createElement("div");return it.isFunction(li.setCapture)&&it.isFunction(li.releaseCapture)}(),it.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",it.MouseTracker.wheelEventName],it.MouseTracker.wheelEventName=="DOMMouseScroll"&&it.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||it.Browser.vendor!==it.BROWSERS.IE)?(it.MouseTracker.havePointerEvents=!0,it.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),it.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?it.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:it.MouseTracker.maxTouchPoints=0,it.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(it.MouseTracker.havePointerEvents=!0,it.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),it.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?it.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:it.MouseTracker.maxTouchPoints=0,it.MouseTracker.haveMouseEnter=!1):(it.MouseTracker.havePointerEvents=!1,it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?(it.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),it.MouseTracker.haveMouseEnter=!0):(it.MouseTracker.subscribeEvents.push("mouseover","mouseout"),it.MouseTracker.haveMouseEnter=!1),it.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&it.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&it.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),it.MouseTracker.mousePointerId="legacy-mouse",it.MouseTracker.maxTouchPoints=10),it.MouseTracker.GesturePointList=function(li){this._gPoints=[],this.type=li,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},it.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(li){return this._gPoints.push(li)},removeById:function(li){var ai,xi=this._gPoints.length;for(ai=0;ai<xi;ai++)if(this._gPoints[ai].id===li){this._gPoints.splice(ai,1);break}return this._gPoints.length},getByIndex:function(li){return li<this._gPoints.length?this._gPoints[li]:null},getById:function(li){var ai,xi=this._gPoints.length;for(ai=0;ai<xi;ai++)if(this._gPoints[ai].id===li)return this._gPoints[ai];return null},getPrimary:function(li){var ai,xi=this._gPoints.length;for(ai=0;ai<xi;ai++)if(this._gPoints[ai].isPrimary)return this._gPoints[ai];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function st(li){var ai=rt[li.hash],xi,ki=ai.activePointersLists.length;for(xi=0;xi<ki;xi++)ai.activePointersLists[xi].captureCount>0&&(it.removeEvent(it.MouseTracker.captureElement,"mousemove",ai.mousemovecaptured,!0),it.removeEvent(it.MouseTracker.captureElement,"mouseup",ai.mouseupcaptured,!0),it.removeEvent(it.MouseTracker.captureElement,it.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",ai.pointermovecaptured,!0),it.removeEvent(it.MouseTracker.captureElement,it.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",ai.pointerupcaptured,!0),it.removeEvent(it.MouseTracker.captureElement,"touchmove",ai.touchmovecaptured,!0),it.removeEvent(it.MouseTracker.captureElement,"touchend",ai.touchendcaptured,!0),ai.activePointersLists[xi].captureCount=0);for(xi=0;xi<ki;xi++)ai.activePointersLists.pop()}function vt(li){var ai=rt[li.hash],xi,ki;if(!ai.tracking){for(ki=0;ki<it.MouseTracker.subscribeEvents.length;ki++)xi=it.MouseTracker.subscribeEvents[ki],it.addEvent(li.element,xi,ai[xi],!1);st(li),ai.tracking=!0}}function bt(li){var ai=rt[li.hash],xi,ki;if(ai.tracking){for(ki=0;ki<it.MouseTracker.subscribeEvents.length;ki++)xi=it.MouseTracker.subscribeEvents[ki],it.removeEvent(li.element,xi,ai[xi],!1);st(li),ai.tracking=!1}}function _t(li,ai){var xi=rt[li.hash];if(ai==="pointerevent")return{upName:it.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:xi.pointerupcaptured,moveName:it.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:xi.pointermovecaptured};if(ai==="mouse")return{upName:"mouseup",upHandler:xi.mouseupcaptured,moveName:"mousemove",moveHandler:xi.mousemovecaptured};if(ai==="touch")return{upName:"touchend",upHandler:xi.touchendcaptured,moveName:"touchmove",moveHandler:xi.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function wt(li,ai,xi){var ki=li.getActivePointersListByType(ai),Ki;ki.captureCount+=xi||1,ki.captureCount===1&&(it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?li.element.setCapture(!0):(Ki=_t(li,it.MouseTracker.havePointerEvents?"pointerevent":ai),Bn&&on(window.top)&&it.addEvent(window.top,Ki.upName,Ki.upHandler,!0),it.addEvent(it.MouseTracker.captureElement,Ki.upName,Ki.upHandler,!0),it.addEvent(it.MouseTracker.captureElement,Ki.moveName,Ki.moveHandler,!0)))}function Et(li,ai,xi){var ki=li.getActivePointersListByType(ai),Ki;ki.captureCount-=xi||1,ki.captureCount===0&&(it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?li.element.releaseCapture():(Ki=_t(li,it.MouseTracker.havePointerEvents?"pointerevent":ai),Bn&&on(window.top)&&it.removeEvent(window.top,Ki.upName,Ki.upHandler,!0),it.removeEvent(it.MouseTracker.captureElement,Ki.moveName,Ki.moveHandler,!0),it.removeEvent(it.MouseTracker.captureElement,Ki.upName,Ki.upHandler,!0)))}function Tt(li){var ai;if(it.MouseTracker.unprefixedPointerEvents)ai=li.pointerType;else switch(li.pointerType){case 2:ai="touch";break;case 3:ai="pen";break;case 4:ai="mouse";break;default:ai=""}return ai}function $t(li){return it.getMousePosition(li)}function Dt(li,ai){return Lt($t(li),ai)}function Lt(li,ai){var xi=it.getElementOffset(ai);return li.minus(xi)}function Bt(li,ai){return new it.Point((li.x+ai.x)/2,(li.y+ai.y)/2)}function Ht(li,ai){li.clickHandler&&it.cancelEvent(ai)}function Ut(li,ai){li.dblClickHandler&&it.cancelEvent(ai)}function It(li,ai){var xi;li.keyDownHandler&&(ai=it.getEvent(ai),xi=li.keyDownHandler({eventSource:li,keyCode:ai.keyCode?ai.keyCode:ai.charCode,ctrl:ai.ctrlKey,shift:ai.shiftKey,alt:ai.altKey,meta:ai.metaKey,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),xi||it.cancelEvent(ai))}function jt(li,ai){var xi;li.keyUpHandler&&(ai=it.getEvent(ai),xi=li.keyUpHandler({eventSource:li,keyCode:ai.keyCode?ai.keyCode:ai.charCode,ctrl:ai.ctrlKey,shift:ai.shiftKey,alt:ai.altKey,meta:ai.metaKey,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),xi||it.cancelEvent(ai))}function Wt(li,ai){var xi;li.keyHandler&&(ai=it.getEvent(ai),xi=li.keyHandler({eventSource:li,keyCode:ai.keyCode?ai.keyCode:ai.charCode,ctrl:ai.ctrlKey,shift:ai.shiftKey,alt:ai.altKey,meta:ai.metaKey,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),xi||it.cancelEvent(ai))}function qt(li,ai){var xi;li.focusHandler&&(ai=it.getEvent(ai),xi=li.focusHandler({eventSource:li,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),xi===!1&&it.cancelEvent(ai))}function Yt(li,ai){var xi;li.blurHandler&&(ai=it.getEvent(ai),xi=li.blurHandler({eventSource:li,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),xi===!1&&it.cancelEvent(ai))}function ti(li,ai){si(li,ai,ai)}function oi(li,ai){ai=it.getEvent(ai);var xi={target:ai.target||ai.srcElement,type:"wheel",shiftKey:ai.shiftKey||!1,clientX:ai.clientX,clientY:ai.clientY,pageX:ai.pageX?ai.pageX:ai.clientX,pageY:ai.pageY?ai.pageY:ai.clientY,deltaMode:ai.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};it.MouseTracker.wheelEventName=="mousewheel"?xi.deltaY=-ai.wheelDelta/it.DEFAULT_SETTINGS.pixelsPerWheelLine:xi.deltaY=ai.detail,si(li,xi,ai)}function si(li,ai,xi){var ki=0,Ki;ki=ai.deltaY<0?1:-1,li.scrollHandler&&(Ki=li.scrollHandler({eventSource:li,pointerType:"mouse",position:Dt(ai,li.element),scroll:ki,shift:ai.shiftKey,isTouchEvent:!1,originalEvent:xi,preventDefaultAction:!1,userData:li.userData}),Ki===!1&&it.cancelEvent(xi))}function di(li,ai){if(li===ai)return!1;for(;ai&&ai!==li;)ai=ai.parentNode;return ai===li}function ui(li,ai){ai=it.getEvent(ai),hi(li,ai)}function ci(li,ai){ai=it.getEvent(ai),!(ai.currentTarget===ai.relatedTarget||di(ai.currentTarget,ai.relatedTarget))&&hi(li,ai)}function hi(li,ai){var xi={id:it.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:$t(ai),currentTime:it.now()};Wi(li,ai,[xi])}function ei(li,ai){ai=it.getEvent(ai),Kt(li,ai)}function wi(li,ai){ai=it.getEvent(ai),!(ai.currentTarget===ai.relatedTarget||di(ai.currentTarget,ai.relatedTarget))&&Kt(li,ai)}function Kt(li,ai){var xi={id:it.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:$t(ai),currentTime:it.now()};Cn(li,ai,[xi])}function Ni(li){return it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?li===1?0:li===2?2:li===4?1:-1:li}function ni(li,ai){var xi;ai=it.getEvent(ai),xi={id:it.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:$t(ai),currentTime:it.now()},En(li,ai,[xi],Ni(ai.button))&&(it.stopEvent(ai),wt(li,"mouse")),(li.clickHandler||li.dblClickHandler||li.pressHandler||li.dragHandler||li.dragEndHandler)&&it.cancelEvent(ai)}function Fi(li,ai){nn(li,ai)}function Xi(li,ai){nn(li,ai),it.stopEvent(ai)}function nn(li,ai){var xi;ai=it.getEvent(ai),xi={id:it.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:$t(ai),currentTime:it.now()},$n(li,ai,[xi],Ni(ai.button))&&Et(li,"mouse")}function Ai(li,ai){Ri(li,ai)}function ji(li,ai){Ri(li,ai),it.stopEvent(ai)}function Ri(li,ai){var xi;ai=it.getEvent(ai),xi={id:it.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:$t(ai),currentTime:it.now()},Fn(li,ai,[xi])}function Vi(li,ai,xi){var ki,Ki=xi.getLength(),gn=[];if(xi.type==="touch"||xi.contacts>0){for(ki=0;ki<Ki;ki++)gn.push(xi.getByIndex(ki));gn.length>0&&($n(li,ai,gn,0),xi.captureCount=1,Et(li,xi.type),Cn(li,ai,gn))}}function Qi(li,ai){var xi,ki,Ki,gn=ai.changedTouches.length,Ui=[],yn,an=li.getActivePointersListByType("touch");for(xi=it.now(),an.getLength()>ai.touches.length-gn&&(it.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),Vi(li,ai,an)),ki=0;ki<gn;ki++)Ui.push({id:ai.changedTouches[ki].identifier,type:"touch",currentPos:$t(ai.changedTouches[ki]),currentTime:xi});for(Wi(li,ai,Ui),ki=0;ki<nt.length;ki++)if(nt[ki]!==li&&nt[ki].isTracking()&&di(nt[ki].element,li.element)){for(yn=[],Ki=0;Ki<gn;Ki++)yn.push({id:ai.changedTouches[Ki].identifier,type:"touch",currentPos:$t(ai.changedTouches[Ki]),currentTime:xi});Wi(nt[ki],ai,yn)}En(li,ai,Ui,0)&&(it.stopEvent(ai),wt(li,"touch",gn)),it.cancelEvent(ai)}function rn(li,ai){bn(li,ai)}function Pi(li,ai){bn(li,ai),it.stopEvent(ai)}function bn(li,ai){var xi,ki,Ki,gn=ai.changedTouches.length,Ui=[],yn;for(xi=it.now(),ki=0;ki<gn;ki++)Ui.push({id:ai.changedTouches[ki].identifier,type:"touch",currentPos:$t(ai.changedTouches[ki]),currentTime:xi});for($n(li,ai,Ui,0)&&Et(li,"touch",gn),Cn(li,ai,Ui),ki=0;ki<nt.length;ki++)if(nt[ki]!==li&&nt[ki].isTracking()&&di(nt[ki].element,li.element)){for(yn=[],Ki=0;Ki<gn;Ki++)yn.push({id:ai.changedTouches[Ki].identifier,type:"touch",currentPos:$t(ai.changedTouches[Ki]),currentTime:xi});Cn(nt[ki],ai,yn)}it.cancelEvent(ai)}function Oi(li,ai){Gi(li,ai)}function Ii(li,ai){Gi(li,ai),it.stopEvent(ai)}function Gi(li,ai){var xi,ki=ai.changedTouches.length,Ki=[];for(xi=0;xi<ki;xi++)Ki.push({id:ai.changedTouches[xi].identifier,type:"touch",currentPos:$t(ai.changedTouches[xi]),currentTime:it.now()});Fn(li,ai,Ki),it.cancelEvent(ai)}function $i(li,ai){var xi=li.getActivePointersListByType("touch");Vi(li,ai,xi)}function ii(li,ai){return ai.stopPropagation(),ai.preventDefault(),!1}function Nt(li,ai){return ai.stopPropagation(),ai.preventDefault(),!1}function Qt(li,ai){var xi;ai.currentTarget===ai.relatedTarget||di(ai.currentTarget,ai.relatedTarget)||(xi={id:ai.pointerId,type:Tt(ai),isPrimary:ai.isPrimary,currentPos:$t(ai),currentTime:it.now()},Wi(li,ai,[xi]))}function Jt(li,ai){var xi;ai.currentTarget===ai.relatedTarget||di(ai.currentTarget,ai.relatedTarget)||(xi={id:ai.pointerId,type:Tt(ai),isPrimary:ai.isPrimary,currentPos:$t(ai),currentTime:it.now()},Cn(li,ai,[xi]))}function Si(li,ai){var xi;xi={id:ai.pointerId,type:Tt(ai),isPrimary:ai.isPrimary,currentPos:$t(ai),currentTime:it.now()},En(li,ai,[xi],ai.button)&&(it.stopEvent(ai),wt(li,xi.type)),(li.clickHandler||li.dblClickHandler||li.pressHandler||li.dragHandler||li.dragEndHandler||li.pinchHandler)&&it.cancelEvent(ai)}function vi(li,ai){_i(li,ai)}function Mi(li,ai){var xi=li.getActivePointersListByType(Tt(ai));xi.getById(ai.pointerId)&&_i(li,ai),it.stopEvent(ai)}function _i(li,ai){var xi;xi={id:ai.pointerId,type:Tt(ai),isPrimary:ai.isPrimary,currentPos:$t(ai),currentTime:it.now()},$n(li,ai,[xi],ai.button)&&Et(li,xi.type)}function Li(li,ai){zi(li,ai)}function Ti(li,ai){var xi=li.getActivePointersListByType(Tt(ai));xi.getById(ai.pointerId)&&zi(li,ai),it.stopEvent(ai)}function zi(li,ai){var xi;xi={id:ai.pointerId,type:Tt(ai),isPrimary:ai.isPrimary,currentPos:$t(ai),currentTime:it.now()},Fn(li,ai,[xi])}function Hi(li,ai){var xi;xi={id:ai.pointerId,type:Tt(ai)},Rn(li,ai,[xi])}function tn(li,ai){return Object.prototype.hasOwnProperty.call(ai,"isPrimary")||(li.getLength()===0?ai.isPrimary=!0:ai.isPrimary=!1),ai.speed=0,ai.direction=0,ai.contactPos=ai.currentPos,ai.contactTime=ai.currentTime,ai.lastPos=ai.currentPos,ai.lastTime=ai.currentTime,li.add(ai)}function qi(li,ai){var xi,ki;return li.getById(ai.id)?(xi=li.removeById(ai.id),Object.prototype.hasOwnProperty.call(ai,"isPrimary")||(ki=li.getPrimary(),ki||(ki=li.getByIndex(0),ki&&(ki.isPrimary=!0)))):xi=li.getLength(),xi}function Wi(li,ai,xi){var ki=li.getActivePointersListByType(xi[0].type),Ki,gn=xi.length,Ui,yn,an;for(Ki=0;Ki<gn;Ki++)Ui=xi[Ki],yn=ki.getById(Ui.id),yn?(yn.insideElement=!0,yn.lastPos=yn.currentPos,yn.lastTime=yn.currentTime,yn.currentPos=Ui.currentPos,yn.currentTime=Ui.currentTime,Ui=yn):(Ui.captured=!1,Ui.insideElementPressed=!1,Ui.insideElement=!0,tn(ki,Ui)),li.enterHandler&&(an=li.enterHandler({eventSource:li,pointerType:Ui.type,position:Lt(Ui.currentPos,li.element),buttons:ki.buttons,pointers:li.getActivePointerCount(),insideElementPressed:Ui.insideElementPressed,buttonDownAny:ki.buttons!==0,isTouchEvent:Ui.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),an===!1&&it.cancelEvent(ai))}function Cn(li,ai,xi){var ki=li.getActivePointersListByType(xi[0].type),Ki,gn=xi.length,Ui,yn,an;for(Ki=0;Ki<gn;Ki++)Ui=xi[Ki],yn=ki.getById(Ui.id),yn&&(yn.captured?(yn.insideElement=!1,yn.lastPos=yn.currentPos,yn.lastTime=yn.currentTime,yn.currentPos=Ui.currentPos,yn.currentTime=Ui.currentTime):qi(ki,yn),Ui=yn),li.exitHandler&&(an=li.exitHandler({eventSource:li,pointerType:Ui.type,position:Ui.currentPos&&Lt(Ui.currentPos,li.element),buttons:ki.buttons,pointers:li.getActivePointerCount(),insideElementPressed:yn?yn.insideElementPressed:!1,buttonDownAny:ki.buttons!==0,isTouchEvent:Ui.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),an===!1&&it.cancelEvent(ai))}function En(li,ai,xi,ki){var Ki=rt[li.hash],gn,Ui=li.getActivePointersListByType(xi[0].type),yn,an=xi.length,Tn,Dn;typeof ai.buttons<"u"?Ui.buttons=ai.buttons:it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?ki===0?Ui.buttons+=1:ki===1?Ui.buttons+=4:ki===2?Ui.buttons+=2:ki===3?Ui.buttons+=8:ki===4?Ui.buttons+=16:ki===5&&(Ui.buttons+=32):ki===0?Ui.buttons|=1:ki===1?Ui.buttons|=4:ki===2?Ui.buttons|=2:ki===3?Ui.buttons|=8:ki===4?Ui.buttons|=16:ki===5&&(Ui.buttons|=32);var Hn=li.getActivePointersListsExceptType(xi[0].type);for(yn=0;yn<Hn.length;yn++)Vi(li,ai,Hn[yn]);if(ki!==0)return li.nonPrimaryPressHandler&&(gn=li.nonPrimaryPressHandler({eventSource:li,pointerType:xi[0].type,position:Lt(xi[0].currentPos,li.element),button:ki,buttons:Ui.buttons,isTouchEvent:xi[0].type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),gn===!1&&it.cancelEvent(ai)),!1;for(yn=0;yn<an;yn++)Tn=xi[yn],Dn=Ui.getById(Tn.id),Dn?(Dn.captured=!0,Dn.insideElementPressed=!0,Dn.insideElement=!0,Dn.contactPos=Tn.currentPos,Dn.contactTime=Tn.currentTime,Dn.lastPos=Dn.currentPos,Dn.lastTime=Dn.currentTime,Dn.currentPos=Tn.currentPos,Dn.currentTime=Tn.currentTime,Tn=Dn):(Tn.captured=!0,Tn.insideElementPressed=!0,Tn.insideElement=!0,tn(Ui,Tn)),Ui.addContact(),(li.dragHandler||li.dragEndHandler||li.pinchHandler)&&it.MouseTracker.gesturePointVelocityTracker.addPoint(li,Tn),Ui.contacts===1?li.pressHandler&&(gn=li.pressHandler({eventSource:li,pointerType:Tn.type,position:Lt(Tn.contactPos,li.element),buttons:Ui.buttons,isTouchEvent:Tn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),gn===!1&&it.cancelEvent(ai)):Ui.contacts===2&&li.pinchHandler&&Tn.type==="touch"&&(Ki.pinchGPoints=Ui.asArray(),Ki.lastPinchDist=Ki.currentPinchDist=Ki.pinchGPoints[0].currentPos.distanceTo(Ki.pinchGPoints[1].currentPos),Ki.lastPinchCenter=Ki.currentPinchCenter=Bt(Ki.pinchGPoints[0].currentPos,Ki.pinchGPoints[1].currentPos));return!0}function $n(li,ai,xi,ki){var Ki=rt[li.hash],gn=li.getActivePointersListByType(xi[0].type),Ui,yn,an,Tn,Dn=xi.length,Hn,Mn,sr=!1,jn=!1,ir;if(typeof ai.buttons<"u"?gn.buttons=ai.buttons:it.Browser.vendor===it.BROWSERS.IE&&it.Browser.version<9?ki===0?gn.buttons-=1:ki===1?gn.buttons-=4:ki===2?gn.buttons-=2:ki===3?gn.buttons-=8:ki===4?gn.buttons-=16:ki===5&&(gn.buttons-=32):ki===0?gn.buttons^=-2:ki===1?gn.buttons^=-5:ki===2?gn.buttons^=-3:ki===3?gn.buttons^=-9:ki===4?gn.buttons^=-17:ki===5&&(gn.buttons^=-33),ki!==0){li.nonPrimaryReleaseHandler&&(Ui=li.nonPrimaryReleaseHandler({eventSource:li,pointerType:xi[0].type,position:Lt(xi[0].currentPos,li.element),button:ki,buttons:gn.buttons,isTouchEvent:xi[0].type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai));var gr=li.getActivePointersListByType("mouse");return Vi(li,ai,gr),!1}if(typeof xi[0].currentPos>"u")return Vi(li,ai,gn),!1;for(Tn=0;Tn<Dn;Tn++)Hn=xi[Tn],Mn=gn.getById(Hn.id),Mn&&(Mn.captured&&(Mn.captured=!1,sr=!0,jn=!0),Mn.lastPos=Mn.currentPos,Mn.lastTime=Mn.currentTime,Mn.currentPos=Hn.currentPos,Mn.currentTime=Hn.currentTime,Mn.insideElement||qi(gn,Mn),yn=Mn.currentPos,an=Mn.currentTime,jn?(gn.removeContact(),(li.dragHandler||li.dragEndHandler||li.pinchHandler)&&it.MouseTracker.gesturePointVelocityTracker.removePoint(li,Mn),gn.contacts===0?(li.releaseHandler&&(Ui=li.releaseHandler({eventSource:li,pointerType:Mn.type,position:Lt(yn,li.element),buttons:gn.buttons,insideElementPressed:Mn.insideElementPressed,insideElementReleased:Mn.insideElement,isTouchEvent:Mn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai)),li.dragEndHandler&&!Mn.currentPos.equals(Mn.contactPos)&&(Ui=li.dragEndHandler({eventSource:li,pointerType:Mn.type,position:Lt(Mn.currentPos,li.element),speed:Mn.speed,direction:Mn.direction,shift:ai.shiftKey,isTouchEvent:Mn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai)),(li.clickHandler||li.dblClickHandler)&&Mn.insideElement&&(ir=an-Mn.contactTime<=li.clickTimeThreshold&&Mn.contactPos.distanceTo(yn)<=li.clickDistThreshold,li.clickHandler&&(Ui=li.clickHandler({eventSource:li,pointerType:Mn.type,position:Lt(Mn.currentPos,li.element),quick:ir,shift:ai.shiftKey,isTouchEvent:Mn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai)),li.dblClickHandler&&ir&&(gn.clicks++,gn.clicks===1?(Ki.lastClickPos=yn,Ki.dblClickTimeOut=setTimeout(function(){gn.clicks=0},li.dblClickTimeThreshold)):gn.clicks===2&&(clearTimeout(Ki.dblClickTimeOut),gn.clicks=0,Ki.lastClickPos.distanceTo(yn)<=li.dblClickDistThreshold&&(Ui=li.dblClickHandler({eventSource:li,pointerType:Mn.type,position:Lt(Mn.currentPos,li.element),shift:ai.shiftKey,isTouchEvent:Mn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai)),Ki.lastClickPos=null)))):gn.contacts===2&&li.pinchHandler&&Mn.type==="touch"&&(Ki.pinchGPoints=gn.asArray(),Ki.lastPinchDist=Ki.currentPinchDist=Ki.pinchGPoints[0].currentPos.distanceTo(Ki.pinchGPoints[1].currentPos),Ki.lastPinchCenter=Ki.currentPinchCenter=Bt(Ki.pinchGPoints[0].currentPos,Ki.pinchGPoints[1].currentPos))):li.releaseHandler&&(Ui=li.releaseHandler({eventSource:li,pointerType:Mn.type,position:Lt(yn,li.element),buttons:gn.buttons,insideElementPressed:Mn.insideElementPressed,insideElementReleased:Mn.insideElement,isTouchEvent:Mn.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Ui===!1&&it.cancelEvent(ai)));return sr}function Fn(li,ai,xi){var ki=rt[li.hash],Ki=li.getActivePointersListByType(xi[0].type),gn,Ui=xi.length,yn,an,Tn,Dn,Hn;for(typeof ai.buttons<"u"&&(Ki.buttons=ai.buttons),gn=0;gn<Ui;gn++)yn=xi[gn],an=Ki.getById(yn.id),an?(Object.prototype.hasOwnProperty.call(yn,"isPrimary")&&(an.isPrimary=yn.isPrimary),an.lastPos=an.currentPos,an.lastTime=an.currentTime,an.currentPos=yn.currentPos,an.currentTime=yn.currentTime):(yn.captured=!1,yn.insideElementPressed=!1,yn.insideElement=!0,tn(Ki,yn));li.stopHandler&&xi[0].type==="mouse"&&(clearTimeout(li.stopTimeOut),li.stopTimeOut=setTimeout(function(){br(li,ai,xi[0].type)},li.stopDelay)),Ki.contacts===0?li.moveHandler&&(Hn=li.moveHandler({eventSource:li,pointerType:xi[0].type,position:Lt(xi[0].currentPos,li.element),buttons:Ki.buttons,isTouchEvent:xi[0].type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Hn===!1&&it.cancelEvent(ai)):Ki.contacts===1?(li.moveHandler&&(an=Ki.asArray()[0],Hn=li.moveHandler({eventSource:li,pointerType:an.type,position:Lt(an.currentPos,li.element),buttons:Ki.buttons,isTouchEvent:an.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Hn===!1&&it.cancelEvent(ai)),li.dragHandler&&(an=Ki.asArray()[0],Dn=an.currentPos.minus(an.lastPos),Hn=li.dragHandler({eventSource:li,pointerType:an.type,position:Lt(an.currentPos,li.element),buttons:Ki.buttons,delta:Dn,speed:an.speed,direction:an.direction,shift:ai.shiftKey,isTouchEvent:an.type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Hn===!1&&it.cancelEvent(ai))):Ki.contacts===2&&(li.moveHandler&&(Tn=Ki.asArray(),Hn=li.moveHandler({eventSource:li,pointerType:Tn[0].type,position:Lt(Bt(Tn[0].currentPos,Tn[1].currentPos),li.element),buttons:Ki.buttons,isTouchEvent:Tn[0].type==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Hn===!1&&it.cancelEvent(ai)),li.pinchHandler&&xi[0].type==="touch"&&(Dn=ki.pinchGPoints[0].currentPos.distanceTo(ki.pinchGPoints[1].currentPos),Dn!=ki.currentPinchDist&&(ki.lastPinchDist=ki.currentPinchDist,ki.currentPinchDist=Dn,ki.lastPinchCenter=ki.currentPinchCenter,ki.currentPinchCenter=Bt(ki.pinchGPoints[0].currentPos,ki.pinchGPoints[1].currentPos),Hn=li.pinchHandler({eventSource:li,pointerType:"touch",gesturePoints:ki.pinchGPoints,lastCenter:Lt(ki.lastPinchCenter,li.element),center:Lt(ki.currentPinchCenter,li.element),lastDistance:ki.lastPinchDist,distance:ki.currentPinchDist,shift:ai.shiftKey,originalEvent:ai,preventDefaultAction:!1,userData:li.userData}),Hn===!1&&it.cancelEvent(ai))))}function Rn(li,ai,xi){$n(li,ai,xi,0),Cn(li,ai,xi)}function br(li,ai,xi){li.stopHandler&&li.stopHandler({eventSource:li,pointerType:xi,position:Dt(ai,li.element),buttons:li.getActivePointersListByType(xi).buttons,isTouchEvent:xi==="touch",originalEvent:ai,preventDefaultAction:!1,userData:li.userData})}var Bn=function(){try{return window.self!==window.top}catch{return!0}}();function on(li){try{return li.addEventListener&&li.removeEventListener}catch{return!1}}}(OpenSeadragon),function(it){it.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},it.Control=function(nt,rt,st){var vt=nt.parentNode;typeof rt=="number"&&(it.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),rt={anchor:rt}),rt.attachToViewer=typeof rt.attachToViewer>"u"?!0:rt.attachToViewer,this.autoFade=typeof rt.autoFade>"u"?!0:rt.autoFade,this.element=nt,this.anchor=rt.anchor,this.container=st,this.anchor==it.ControlAnchor.ABSOLUTE?(this.wrapper=it.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof rt.top=="number"?rt.top+"px":rt.top,this.wrapper.style.left=typeof rt.left=="number"?rt.left+"px":rt.left,this.wrapper.style.height=typeof rt.height=="number"?rt.height+"px":rt.height,this.wrapper.style.width=typeof rt.width=="number"?rt.width+"px":rt.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=it.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==it.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),rt.attachToViewer?this.anchor==it.ControlAnchor.TOP_RIGHT||this.anchor==it.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):vt.appendChild(this.wrapper)},it.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(nt){this.wrapper.style.display=nt?this.anchor==it.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(nt){this.element[it.SIGNAL]&&it.Browser.vendor==it.BROWSERS.IE?it.setElementOpacity(this.element,nt,!0):it.setElementOpacity(this.wrapper,nt,!0)}}}(OpenSeadragon),function(it){it.ControlDock=function(rt){var st=["topleft","topright","bottomright","bottomleft"],vt,bt;for(it.extend(!0,this,{id:"controldock-"+it.now()+"-"+Math.floor(Math.random()*1e6),container:it.makeNeutralElement("div"),controls:[]},rt),this.container.onsubmit=function(){return!1},this.element&&(this.element=it.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),bt=0;bt<st.length;bt++)vt=st[bt],this.controls[vt]=it.makeNeutralElement("div"),this.controls[vt].style.position="absolute",vt.match("left")&&(this.controls[vt].style.left="0px"),vt.match("right")&&(this.controls[vt].style.right="0px"),vt.match("top")&&(this.controls[vt].style.top="0px"),vt.match("bottom")&&(this.controls[vt].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},it.ControlDock.prototype={addControl:function(rt,st){rt=it.getElement(rt);var vt=null;if(!(nt(this,rt)>=0)){switch(st.anchor){case it.ControlAnchor.TOP_RIGHT:vt=this.controls.topright,rt.style.position="relative",rt.style.paddingRight="0px",rt.style.paddingTop="0px";break;case it.ControlAnchor.BOTTOM_RIGHT:vt=this.controls.bottomright,rt.style.position="relative",rt.style.paddingRight="0px",rt.style.paddingBottom="0px";break;case it.ControlAnchor.BOTTOM_LEFT:vt=this.controls.bottomleft,rt.style.position="relative",rt.style.paddingLeft="0px",rt.style.paddingBottom="0px";break;case it.ControlAnchor.TOP_LEFT:vt=this.controls.topleft,rt.style.position="relative",rt.style.paddingLeft="0px",rt.style.paddingTop="0px";break;case it.ControlAnchor.ABSOLUTE:vt=this.container,rt.style.margin="0px",rt.style.padding="0px";break;default:case it.ControlAnchor.NONE:vt=this.container,rt.style.margin="0px",rt.style.padding="0px";break}this.controls.push(new it.Control(rt,st,vt)),rt.style.display="inline-block"}},removeControl:function(rt){rt=it.getElement(rt);var st=nt(this,rt);return st>=0&&(this.controls[st].destroy(),this.controls.splice(st,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var rt;for(rt=this.controls.length-1;rt>=0;rt--)if(this.controls[rt].isVisible())return!0;return!1},setControlsEnabled:function(rt){var st;for(st=this.controls.length-1;st>=0;st--)this.controls[st].setVisible(rt);return this}};function nt(rt,st){var vt=rt.controls,bt;for(bt=vt.length-1;bt>=0;bt--)if(vt[bt].element==st)return bt;return-1}}(OpenSeadragon),function(it){it.Placement=it.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(it){var nt={},rt=1;it.Viewer=function(Nt){var Qt=arguments,Jt=this,Si;if(it.isPlainObject(Nt)||(Nt={id:Qt[0],xmlPath:Qt.length>1?Qt[1]:void 0,prefixUrl:Qt.length>2?Qt[2]:void 0,controls:Qt.length>3?Qt[3]:void 0,overlays:Qt.length>4?Qt[4]:void 0}),Nt.config&&(it.extend(!0,Nt,Nt.config),delete Nt.config),it.extend(!0,this,{id:Nt.id,hash:Nt.hash||rt++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},it.DEFAULT_SETTINGS,Nt),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof nt[this.hash]<"u"&&it.console.warn("Hash "+this.hash+" has already been used."),nt[this.hash]={fsBoundsDelta:new it.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=it.now(),it.EventSource.call(this),this.addHandler("open-failed",function(vi){var Mi=it.getString("Errors.OpenFailed",vi.eventSource,vi.message);Jt._showMessage(Mi)}),it.ControlDock.call(this,Nt),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=it.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(vi){vi.width="100%",vi.height="100%",vi.overflow="hidden",vi.position="absolute",vi.top="0px",vi.left="0px"}(this.canvas.style),it.setElementTouchActionNone(this.canvas),Nt.tabIndex!==""&&(this.canvas.tabIndex=Nt.tabIndex===void 0?0:Nt.tabIndex),this.container.className="openseadragon-container",function(vi){vi.width="100%",vi.height="100%",vi.position="relative",vi.overflow="hidden",vi.left="0px",vi.top="0px",vi.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new it.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:it.delegate(this,Ht),keyHandler:it.delegate(this,Ut),clickHandler:it.delegate(this,It),dblClickHandler:it.delegate(this,jt),dragHandler:it.delegate(this,Wt),dragEndHandler:it.delegate(this,qt),enterHandler:it.delegate(this,Yt),exitHandler:it.delegate(this,ti),pressHandler:it.delegate(this,oi),releaseHandler:it.delegate(this,si),nonPrimaryPressHandler:it.delegate(this,di),nonPrimaryReleaseHandler:it.delegate(this,ui),scrollHandler:it.delegate(this,hi),pinchHandler:it.delegate(this,ci)}),this.outerTracker=new it.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:it.delegate(this,ei),exitHandler:it.delegate(this,wi)}),this.toolbar&&(this.toolbar=new it.ControlDock({element:this.toolbar})),this.bindStandardControls(),nt[this.hash].prevContainerSize=st(this.container),this.world=new it.World({viewer:this}),this.world.addHandler("add-item",function(vi){Jt.source=Jt.world.getItemAt(0).source,nt[Jt.hash].forceRedraw=!0,Jt._updateRequestId||(Jt._updateRequestId=wt(Jt,Kt))}),this.world.addHandler("remove-item",function(vi){Jt.world.getItemCount()?Jt.source=Jt.world.getItemAt(0).source:Jt.source=null,nt[Jt.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(vi){Jt.viewport&&Jt.viewport._setContentBounds(Jt.world.getHomeBounds(),Jt.world.getContentFactor())}),this.world.addHandler("item-index-change",function(vi){Jt.source=Jt.world.getItemAt(0).source}),this.viewport=new it.Viewport({containerSize:nt[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new it.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:Nt.timeout}),this.tileCache=new it.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new it.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=it.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(Si=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(Si,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(Si=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(Si,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new it.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),Si=0;Si<this.customControls.length;Si++)this.addControl(this.customControls[Si].id,{anchor:this.customControls[Si].anchor});it.requestAnimationFrame(function(){Tt(Jt)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},it.extend(it.Viewer.prototype,it.EventSource.prototype,it.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(Nt){return it.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(Nt)},openTileSource:function(Nt){return it.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(Nt)},open:function(Nt,Qt){var Jt=this;if(this.close(),!!Nt){if(this.sequenceMode&&it.isArray(Nt)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof Qt<"u"&&!isNaN(Qt)&&(this.initialPage=Qt),this.tileSources=Nt,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(it.isArray(Nt)||(Nt=[Nt]),!!Nt.length){this._opening=!0;for(var Si=Nt.length,vi=0,Mi=0,_i,Li=function(){if(vi+Mi===Si)if(vi){(Jt._firstOpen||!Jt.preserveViewport)&&(Jt.viewport.goHome(!0),Jt.viewport.update()),Jt._firstOpen=!1;var Hi=Nt[0];if(Hi.tileSource&&(Hi=Hi.tileSource),Jt.overlays&&!Jt.preserveOverlays)for(var tn=0;tn<Jt.overlays.length;tn++)Jt.currentOverlays[tn]=bt(Jt,Jt.overlays[tn]);Jt._drawOverlays(),Jt._opening=!1,Jt.raiseEvent("open",{source:Hi})}else Jt._opening=!1,Jt.raiseEvent("open-failed",_i)},Ti=function(Hi){(!it.isPlainObject(Hi)||!Hi.tileSource)&&(Hi={tileSource:Hi}),Hi.index!==void 0&&(it.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete Hi.index),Hi.collectionImmediately===void 0&&(Hi.collectionImmediately=!0);var tn=Hi.success;Hi.success=function(Wi){if(vi++,Hi.tileSource.overlays)for(var Cn=0;Cn<Hi.tileSource.overlays.length;Cn++)Jt.addOverlay(Hi.tileSource.overlays[Cn]);tn&&tn(Wi),Li()};var qi=Hi.error;Hi.error=function(Wi){Mi++,_i||(_i=Wi),qi&&qi(Wi),Li()},Jt.addTiledImage(Hi)},zi=0;zi<Nt.length;zi++)Ti(Nt[zi]);return this}}},close:function(){return nt[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),nt[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!nt[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(it.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),nt[this.hash]=null,delete nt[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(Nt){return this.innerTracker.setTracking(Nt),this.outerTracker.setTracking(Nt),this.raiseEvent("mouse-enabled",{enabled:Nt}),this},areControlsEnabled:function(){var Nt=this.controls.length,Qt;for(Qt=0;Qt<this.controls.length;Qt++)Nt=Nt&&this.controls[Qt].isVisible();return Nt},setControlsEnabled:function(Nt){return Nt?Dt(this):Tt(this),this.raiseEvent("controls-enabled",{enabled:Nt}),this},setDebugMode:function(Nt){for(var Qt=0;Qt<this.world.getItemCount();Qt++)this.world.getItemAt(Qt).debugMode=Nt;this.debugMode=Nt,this.forceRedraw()},isFullPage:function(){return nt[this.hash].fullPage},setFullPage:function(Nt){var Qt=document.body,Jt=Qt.style,Si=document.documentElement.style,vi=this,Mi,_i;if(Nt==this.isFullPage())return this;var Li={fullPage:Nt,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",Li),Li.preventDefaultAction)return this;if(Nt){for(this.elementSize=it.getElementSize(this.element),this.pageScroll=it.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=Jt.margin,this.docMargin=Si.margin,Jt.margin="0",Si.margin="0",this.bodyPadding=Jt.padding,this.docPadding=Si.padding,Jt.padding="0",Si.padding="0",this.bodyWidth=Jt.width,this.docWidth=Si.width,Jt.width="100%",Si.width="100%",this.bodyHeight=Jt.height,this.docHeight=Si.height,Jt.height="100%",Si.height="100%",this.previousBody=[],nt[this.hash].prevElementParent=this.element.parentNode,nt[this.hash].prevNextSibling=this.element.nextSibling,nt[this.hash].prevElementWidth=this.element.style.width,nt[this.hash].prevElementHeight=this.element.style.height,Mi=Qt.childNodes.length,_i=0;_i<Mi;_i++)this.previousBody.push(Qt.childNodes[0]),Qt.removeChild(Qt.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,Qt.appendChild(this.toolbar.element),it.addClass(this.toolbar.element,"fullpage")),it.addClass(this.element,"fullpage"),Qt.appendChild(this.element),this.element.style.height=it.getWindowSize().y+"px",this.element.style.width=it.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=it.getElementSize(this.element).y-it.getElementSize(this.toolbar.element).y+"px"),nt[this.hash].fullPage=!0,it.delegate(this,ei)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,Jt.margin=this.bodyMargin,Si.margin=this.docMargin,Jt.padding=this.bodyPadding,Si.padding=this.docPadding,Jt.width=this.bodyWidth,Si.width=this.docWidth,Jt.height=this.bodyHeight,Si.height=this.docHeight,Qt.removeChild(this.element),Mi=this.previousBody.length,_i=0;_i<Mi;_i++)Qt.appendChild(this.previousBody.shift());it.removeClass(this.element,"fullpage"),nt[this.hash].prevElementParent.insertBefore(this.element,nt[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(Qt.removeChild(this.toolbar.element),it.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=nt[this.hash].prevElementWidth,this.element.style.height=nt[this.hash].prevElementHeight;var Ti=0,zi=function(){it.setPageScroll(vi.pageScroll);var Hi=it.getPageScroll();Ti++,Ti<10&&(Hi.x!==vi.pageScroll.x||Hi.y!==vi.pageScroll.y)&&it.requestAnimationFrame(zi)};it.requestAnimationFrame(zi),nt[this.hash].fullPage=!1,it.delegate(this,wi)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:Nt}),this},setFullScreen:function(Nt){var Qt=this;if(!it.supportsFullScreen)return this.setFullPage(Nt);if(it.isFullScreen()===Nt)return this;var Jt={fullScreen:Nt,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",Jt),Jt.preventDefaultAction)return this;if(Nt){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var Si=function(){var vi=it.isFullScreen();vi||(it.removeEvent(document,it.fullScreenEventName,Si),it.removeEvent(document,it.fullScreenErrorEventName,Si),Qt.setFullPage(!1),Qt.isFullPage()&&(Qt.element.style.width=Qt.fullPageStyleWidth,Qt.element.style.height=Qt.fullPageStyleHeight)),Qt.navigator&&Qt.viewport&&setTimeout(function(){Qt.navigator.update(Qt.viewport)}),Qt.raiseEvent("full-screen",{fullScreen:vi})};it.addEvent(document,it.fullScreenEventName,Si),it.addEvent(document,it.fullScreenErrorEventName,Si),it.requestFullScreen(document.body)}else it.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function(Nt){return this.container.style.visibility=Nt?"":"hidden",this.raiseEvent("visible",{visible:Nt}),this},addTiledImage:function(Nt){it.console.assert(Nt,"[Viewer.addTiledImage] options is required"),it.console.assert(Nt.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),it.console.assert(!Nt.replace||Nt.index>-1&&Nt.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var Qt=this;Nt.replace&&(Nt.replaceItem=Qt.world.getItemAt(Nt.index)),this._hideMessage(),Nt.placeholderFillStyle===void 0&&(Nt.placeholderFillStyle=this.placeholderFillStyle),Nt.opacity===void 0&&(Nt.opacity=this.opacity),Nt.preload===void 0&&(Nt.preload=this.preload),Nt.compositeOperation===void 0&&(Nt.compositeOperation=this.compositeOperation),Nt.crossOriginPolicy===void 0&&(Nt.crossOriginPolicy=Nt.tileSource.crossOriginPolicy!==void 0?Nt.tileSource.crossOriginPolicy:this.crossOriginPolicy),Nt.ajaxWithCredentials===void 0&&(Nt.ajaxWithCredentials=this.ajaxWithCredentials),Nt.loadTilesWithAjax===void 0&&(Nt.loadTilesWithAjax=this.loadTilesWithAjax),Nt.ajaxHeaders===void 0||Nt.ajaxHeaders===null?Nt.ajaxHeaders=this.ajaxHeaders:it.isPlainObject(Nt.ajaxHeaders)&&it.isPlainObject(this.ajaxHeaders)&&(Nt.ajaxHeaders=it.extend({},this.ajaxHeaders,Nt.ajaxHeaders));var Jt={options:Nt};function Si(_i){for(var Li=0;Li<Qt._loadQueue.length;Li++)if(Qt._loadQueue[Li]===Jt){Qt._loadQueue.splice(Li,1);break}Qt._loadQueue.length===0&&vi(Jt),Qt.raiseEvent("add-item-failed",_i),Nt.error&&Nt.error(_i)}function vi(_i){Qt.collectionMode&&(Qt.world.arrange({immediately:_i.options.collectionImmediately,rows:Qt.collectionRows,columns:Qt.collectionColumns,layout:Qt.collectionLayout,tileSize:Qt.collectionTileSize,tileMargin:Qt.collectionTileMargin}),Qt.world.setAutoRefigureSizes(!0))}if(it.isArray(Nt.tileSource)){setTimeout(function(){Si({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:Nt.tileSource,options:Nt})});return}this._loadQueue.push(Jt);function Mi(){for(var _i,Li,Ti;Qt._loadQueue.length&&(_i=Qt._loadQueue[0],!!_i.tileSource);){if(Qt._loadQueue.splice(0,1),_i.options.replace){var zi=Qt.world.getIndexOfItem(_i.options.replaceItem);zi!=-1&&(_i.options.index=zi),Qt.world.removeItem(_i.options.replaceItem)}Li=new it.TiledImage({viewer:Qt,source:_i.tileSource,viewport:Qt.viewport,drawer:Qt.drawer,tileCache:Qt.tileCache,imageLoader:Qt.imageLoader,x:_i.options.x,y:_i.options.y,width:_i.options.width,height:_i.options.height,fitBounds:_i.options.fitBounds,fitBoundsPlacement:_i.options.fitBoundsPlacement,clip:_i.options.clip,placeholderFillStyle:_i.options.placeholderFillStyle,opacity:_i.options.opacity,preload:_i.options.preload,degrees:_i.options.degrees,compositeOperation:_i.options.compositeOperation,springStiffness:Qt.springStiffness,animationTime:Qt.animationTime,minZoomImageRatio:Qt.minZoomImageRatio,wrapHorizontal:Qt.wrapHorizontal,wrapVertical:Qt.wrapVertical,immediateRender:Qt.immediateRender,blendTime:Qt.blendTime,alwaysBlend:Qt.alwaysBlend,minPixelRatio:Qt.minPixelRatio,smoothTileEdgesMinZoom:Qt.smoothTileEdgesMinZoom,iOSDevice:Qt.iOSDevice,crossOriginPolicy:_i.options.crossOriginPolicy,ajaxWithCredentials:_i.options.ajaxWithCredentials,loadTilesWithAjax:_i.options.loadTilesWithAjax,ajaxHeaders:_i.options.ajaxHeaders,debugMode:Qt.debugMode}),Qt.collectionMode&&Qt.world.setAutoRefigureSizes(!1),Qt.world.addItem(Li,{index:_i.options.index}),Qt._loadQueue.length===0&&vi(_i),Qt.world.getItemCount()===1&&!Qt.preserveViewport&&Qt.viewport.goHome(!0),Qt.navigator&&(Ti=it.extend({},_i.options,{replace:!1,originalTiledImage:Li,tileSource:_i.tileSource}),Qt.navigator.addTiledImage(Ti)),_i.options.success&&_i.options.success({item:Li})}}vt(this,Nt.tileSource,Nt,function(_i){Jt.tileSource=_i,Mi()},function(_i){_i.options=Nt,Si(_i),Mi()})},addSimpleImage:function(Nt){it.console.assert(Nt,"[Viewer.addSimpleImage] options is required"),it.console.assert(Nt.url,"[Viewer.addSimpleImage] options.url is required");var Qt=it.extend({},Nt,{tileSource:{type:"image",url:Nt.url}});delete Qt.url,this.addTiledImage(Qt)},addLayer:function(Nt){var Qt=this;it.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var Jt=it.extend({},Nt,{success:function(Si){Qt.raiseEvent("add-layer",{options:Nt,drawer:Si.item})},error:function(Si){Qt.raiseEvent("add-layer-failed",Si)}});return this.addTiledImage(Jt),this},getLayerAtLevel:function(Nt){return it.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(Nt)},getLevelOfLayer:function(Nt){return it.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(Nt)},getLayersCount:function(){return it.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(Nt,Qt){return it.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(Nt,Qt)},removeLayer:function(Nt){return it.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(Nt)},forceRedraw:function(){return nt[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var Nt=it.delegate(this,Lt),Qt=it.delegate(this,Bt),Jt=it.delegate(this,ii),Si=it.delegate(this,$i),vi=this.navImages,Mi=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Mi=!1),this.previousButton=new it.Button({element:this.previousButton?it.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.PreviousPage"),srcRest:Fi(this.prefixUrl,vi.previous.REST),srcGroup:Fi(this.prefixUrl,vi.previous.GROUP),srcHover:Fi(this.prefixUrl,vi.previous.HOVER),srcDown:Fi(this.prefixUrl,vi.previous.DOWN),onRelease:Si,onFocus:Nt,onBlur:Qt}),this.nextButton=new it.Button({element:this.nextButton?it.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.NextPage"),srcRest:Fi(this.prefixUrl,vi.next.REST),srcGroup:Fi(this.prefixUrl,vi.next.GROUP),srcHover:Fi(this.prefixUrl,vi.next.HOVER),srcDown:Fi(this.prefixUrl,vi.next.DOWN),onRelease:Jt,onFocus:Nt,onBlur:Qt}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Mi&&(this.paging=new it.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:it.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||it.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var Nt=it.delegate(this,Xi),Qt=it.delegate(this,Ai),Jt=it.delegate(this,Vi),Si=it.delegate(this,nn),vi=it.delegate(this,Qi),Mi=it.delegate(this,Pi),_i=it.delegate(this,bn),Li=it.delegate(this,Oi),Ti=it.delegate(this,Ii),zi=it.delegate(this,Gi),Hi=it.delegate(this,Lt),tn=it.delegate(this,Bt),qi=this.navImages,Wi=[],Cn=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(Cn=!1),this.showZoomControl&&(Wi.push(this.zoomInButton=new it.Button({element:this.zoomInButton?it.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.ZoomIn"),srcRest:Fi(this.prefixUrl,qi.zoomIn.REST),srcGroup:Fi(this.prefixUrl,qi.zoomIn.GROUP),srcHover:Fi(this.prefixUrl,qi.zoomIn.HOVER),srcDown:Fi(this.prefixUrl,qi.zoomIn.DOWN),onPress:Nt,onRelease:Qt,onClick:Jt,onEnter:Nt,onExit:Qt,onFocus:Hi,onBlur:tn})),Wi.push(this.zoomOutButton=new it.Button({element:this.zoomOutButton?it.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.ZoomOut"),srcRest:Fi(this.prefixUrl,qi.zoomOut.REST),srcGroup:Fi(this.prefixUrl,qi.zoomOut.GROUP),srcHover:Fi(this.prefixUrl,qi.zoomOut.HOVER),srcDown:Fi(this.prefixUrl,qi.zoomOut.DOWN),onPress:Si,onRelease:Qt,onClick:vi,onEnter:Si,onExit:Qt,onFocus:Hi,onBlur:tn}))),this.showHomeControl&&Wi.push(this.homeButton=new it.Button({element:this.homeButton?it.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.Home"),srcRest:Fi(this.prefixUrl,qi.home.REST),srcGroup:Fi(this.prefixUrl,qi.home.GROUP),srcHover:Fi(this.prefixUrl,qi.home.HOVER),srcDown:Fi(this.prefixUrl,qi.home.DOWN),onRelease:Mi,onFocus:Hi,onBlur:tn})),this.showFullPageControl&&Wi.push(this.fullPageButton=new it.Button({element:this.fullPageButton?it.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.FullPage"),srcRest:Fi(this.prefixUrl,qi.fullpage.REST),srcGroup:Fi(this.prefixUrl,qi.fullpage.GROUP),srcHover:Fi(this.prefixUrl,qi.fullpage.HOVER),srcDown:Fi(this.prefixUrl,qi.fullpage.DOWN),onRelease:_i,onFocus:Hi,onBlur:tn})),this.showRotationControl&&(Wi.push(this.rotateLeftButton=new it.Button({element:this.rotateLeftButton?it.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.RotateLeft"),srcRest:Fi(this.prefixUrl,qi.rotateleft.REST),srcGroup:Fi(this.prefixUrl,qi.rotateleft.GROUP),srcHover:Fi(this.prefixUrl,qi.rotateleft.HOVER),srcDown:Fi(this.prefixUrl,qi.rotateleft.DOWN),onRelease:Li,onFocus:Hi,onBlur:tn})),Wi.push(this.rotateRightButton=new it.Button({element:this.rotateRightButton?it.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.RotateRight"),srcRest:Fi(this.prefixUrl,qi.rotateright.REST),srcGroup:Fi(this.prefixUrl,qi.rotateright.GROUP),srcHover:Fi(this.prefixUrl,qi.rotateright.HOVER),srcDown:Fi(this.prefixUrl,qi.rotateright.DOWN),onRelease:Ti,onFocus:Hi,onBlur:tn}))),this.showFlipControl&&Wi.push(this.flipButton=new it.Button({element:this.flipButton?it.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:it.getString("Tooltips.Flip"),srcRest:Fi(this.prefixUrl,qi.flip.REST),srcGroup:Fi(this.prefixUrl,qi.flip.GROUP),srcHover:Fi(this.prefixUrl,qi.flip.HOVER),srcDown:Fi(this.prefixUrl,qi.flip.DOWN),onRelease:zi,onFocus:Hi,onBlur:tn})),Cn&&(this.buttons=new it.ButtonGroup({buttons:Wi,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",it.delegate(this,rn)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||it.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||it.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(Nt){return this.tileSources&&Nt>=0&&Nt<this.tileSources.length&&(this._sequenceIndex=Nt,this._updateSequenceButtons(Nt),this.open(this.tileSources[Nt]),this.referenceStrip&&this.referenceStrip.setFocus(Nt),this.raiseEvent("page",{page:Nt})),this},addOverlay:function(Nt,Qt,Jt,Si){var vi;if(it.isPlainObject(Nt)?vi=Nt:vi={element:Nt,location:Qt,placement:Jt,onDraw:Si},Nt=it.getElement(vi.element),_t(this.currentOverlays,Nt)>=0)return this;var Mi=bt(this,vi);return this.currentOverlays.push(Mi),Mi.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:Nt,location:vi.location,placement:vi.placement}),this},updateOverlay:function(Nt,Qt,Jt){var Si;return Nt=it.getElement(Nt),Si=_t(this.currentOverlays,Nt),Si>=0&&(this.currentOverlays[Si].update(Qt,Jt),nt[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:Nt,location:Qt,placement:Jt})),this},removeOverlay:function(Nt){var Qt;return Nt=it.getElement(Nt),Qt=_t(this.currentOverlays,Nt),Qt>=0&&(this.currentOverlays[Qt].destroy(),this.currentOverlays.splice(Qt,1),nt[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:Nt})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return nt[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(Nt){var Qt;return Nt=it.getElement(Nt),Qt=_t(this.currentOverlays,Nt),Qt>=0?this.currentOverlays[Qt]:null},_updateSequenceButtons:function(Nt){this.nextButton&&(!this.tileSources||this.tileSources.length-1===Nt?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(Nt>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(Nt){this._hideMessage();var Qt=it.makeNeutralElement("div");Qt.appendChild(document.createTextNode(Nt)),this.messageDiv=it.makeCenteredNode(Qt),it.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var Nt=this.messageDiv;Nt&&(Nt.parentNode.removeChild(Nt),delete this.messageDiv)},gestureSettingsByDeviceType:function(Nt){switch(Nt){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var Nt,Qt=this.currentOverlays.length;for(Nt=0;Nt<Qt;Nt++)this.currentOverlays[Nt].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new it.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else it.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function st(Nt){return Nt=it.getElement(Nt),new it.Point(Nt.clientWidth===0?1:Nt.clientWidth,Nt.clientHeight===0?1:Nt.clientHeight)}function vt(Nt,Qt,Jt,Si,vi){var Mi=Nt;if(it.type(Qt)=="string"){if(Qt.match(/^\s*<.*>\s*$/))Qt=it.parseXml(Qt);else if(Qt.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var _i=it.parseJSON(Qt);Qt=_i}catch{}}function Li(Ti,zi){Ti.ready?Si(Ti):(Ti.addHandler("ready",function(){Si(Ti)}),Ti.addHandler("open-failed",function(Hi){vi({message:Hi.message,source:zi})}))}setTimeout(function(){if(it.type(Qt)=="string")Qt=new it.TileSource({url:Qt,crossOriginPolicy:Jt.crossOriginPolicy!==void 0?Jt.crossOriginPolicy:Nt.crossOriginPolicy,ajaxWithCredentials:Nt.ajaxWithCredentials,ajaxHeaders:Nt.ajaxHeaders,useCanvas:Nt.useCanvas,success:function(tn){Si(tn.tileSource)}}),Qt.addHandler("open-failed",function(tn){vi(tn)});else if(it.isPlainObject(Qt)||Qt.nodeType)if(Qt.crossOriginPolicy===void 0&&(Jt.crossOriginPolicy!==void 0||Nt.crossOriginPolicy!==void 0)&&(Qt.crossOriginPolicy=Jt.crossOriginPolicy!==void 0?Jt.crossOriginPolicy:Nt.crossOriginPolicy),Qt.ajaxWithCredentials===void 0&&(Qt.ajaxWithCredentials=Nt.ajaxWithCredentials),Qt.useCanvas===void 0&&(Qt.useCanvas=Nt.useCanvas),it.isFunction(Qt.getTileUrl)){var Ti=new it.TileSource(Qt);Ti.getTileUrl=Qt.getTileUrl,Si(Ti)}else{var zi=it.TileSource.determineType(Mi,Qt);if(!zi){vi({message:"Unable to load TileSource",source:Qt});return}var Hi=zi.prototype.configure.apply(Mi,[Qt]);Li(new zi(Hi),Qt)}else Li(Qt,Qt)})}function bt(Nt,Qt){if(Qt instanceof it.Overlay)return Qt;var Jt=null;if(Qt.element)Jt=it.getElement(Qt.element);else{var Si=Qt.id?Qt.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);Jt=it.getElement(Qt.id),Jt||(Jt=document.createElement("a"),Jt.href="#/overlay/"+Si),Jt.id=Si,it.addClass(Jt,Qt.className?Qt.className:"openseadragon-overlay")}var vi=Qt.location,Mi=Qt.width,_i=Qt.height;if(!vi){var Li=Qt.x,Ti=Qt.y;if(Qt.px!==void 0){var zi=Nt.viewport.imageToViewportRectangle(new it.Rect(Qt.px,Qt.py,Mi||0,_i||0));Li=zi.x,Ti=zi.y,Mi=Mi!==void 0?zi.width:void 0,_i=_i!==void 0?zi.height:void 0}vi=new it.Point(Li,Ti)}var Hi=Qt.placement;return Hi&&it.type(Hi)==="string"&&(Hi=it.Placement[Qt.placement.toUpperCase()]),new it.Overlay({element:Jt,location:vi,placement:Hi,onDraw:Qt.onDraw,checkResize:Qt.checkResize,width:Mi,height:_i,rotationMode:Qt.rotationMode})}function _t(Nt,Qt){var Jt;for(Jt=Nt.length-1;Jt>=0;Jt--)if(Nt[Jt].element===Qt)return Jt;return-1}function wt(Nt,Qt){return it.requestAnimationFrame(function(){Qt(Nt)})}function Et(Nt){it.requestAnimationFrame(function(){$t(Nt)})}function Tt(Nt){!Nt.autoHideControls||(Nt.controlsShouldFade=!0,Nt.controlsFadeBeginTime=it.now()+Nt.controlsFadeDelay,window.setTimeout(function(){Et(Nt)},Nt.controlsFadeDelay))}function $t(Nt){var Qt,Jt,Si,vi;if(Nt.controlsShouldFade){for(Qt=it.now(),Jt=Qt-Nt.controlsFadeBeginTime,Si=1-Jt/Nt.controlsFadeLength,Si=Math.min(1,Si),Si=Math.max(0,Si),vi=Nt.controls.length-1;vi>=0;vi--)Nt.controls[vi].autoFade&&Nt.controls[vi].setOpacity(Si);Si>0&&Et(Nt)}}function Dt(Nt){var Qt;for(Nt.controlsShouldFade=!1,Qt=Nt.controls.length-1;Qt>=0;Qt--)Nt.controls[Qt].setOpacity(1)}function Lt(){Dt(this)}function Bt(){Tt(this)}function Ht(Nt){var Qt={originalEvent:Nt.originalEvent,preventDefaultAction:Nt.preventDefaultAction,preventVerticalPan:Nt.preventVerticalPan,preventHorizontalPan:Nt.preventHorizontalPan};if(this.raiseEvent("canvas-key",Qt),!Qt.preventDefaultAction&&!Nt.ctrl&&!Nt.alt&&!Nt.meta)switch(Nt.keyCode){case 38:return Qt.preventVerticalPan||(Nt.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return Qt.preventVerticalPan||(Nt.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return Qt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return Qt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function Ut(Nt){var Qt={originalEvent:Nt.originalEvent,preventDefaultAction:Nt.preventDefaultAction,preventVerticalPan:Nt.preventVerticalPan,preventHorizontalPan:Nt.preventHorizontalPan};if(this.raiseEvent("canvas-key",Qt),!Qt.preventDefaultAction&&!Nt.ctrl&&!Nt.alt&&!Nt.meta)switch(Nt.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return Qt.preventVerticalPan||(Nt.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return Qt.preventVerticalPan||(Nt.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return Qt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return Qt.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new it.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(it.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(it.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(it.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(it.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function It(Nt){var Qt,Jt=document.activeElement==this.canvas;Jt||this.canvas.focus(),this.viewport.flipped&&(Nt.position.x=this.viewport.getContainerSize().x-Nt.position.x);var Si={tracker:Nt.eventSource,position:Nt.position,quick:Nt.quick,shift:Nt.shift,originalEvent:Nt.originalEvent,preventDefaultAction:Nt.preventDefaultAction};this.raiseEvent("canvas-click",Si),!Si.preventDefaultAction&&this.viewport&&Nt.quick&&(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),Qt.clickToZoom&&(this.viewport.zoomBy(Nt.shift?1/this.zoomPerClick:this.zoomPerClick,Qt.zoomToRefPoint?this.viewport.pointFromPixel(Nt.position,!0):null),this.viewport.applyConstraints()))}function jt(Nt){var Qt,Jt={tracker:Nt.eventSource,position:Nt.position,shift:Nt.shift,originalEvent:Nt.originalEvent,preventDefaultAction:Nt.preventDefaultAction};this.raiseEvent("canvas-double-click",Jt),!Jt.preventDefaultAction&&this.viewport&&(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),Qt.dblClickToZoom&&(this.viewport.zoomBy(Nt.shift?1/this.zoomPerClick:this.zoomPerClick,Qt.zoomToRefPoint?this.viewport.pointFromPixel(Nt.position,!0):null),this.viewport.applyConstraints()))}function Wt(Nt){var Qt,Jt={tracker:Nt.eventSource,position:Nt.position,delta:Nt.delta,speed:Nt.speed,direction:Nt.direction,shift:Nt.shift,originalEvent:Nt.originalEvent,preventDefaultAction:Nt.preventDefaultAction};if(this.raiseEvent("canvas-drag",Jt),!Jt.preventDefaultAction&&this.viewport){if(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),this.panHorizontal||(Nt.delta.x=0),this.panVertical||(Nt.delta.y=0),this.viewport.flipped&&(Nt.delta.x=-Nt.delta.x),this.constrainDuringPan){var Si=this.viewport.deltaPointsFromPixels(Nt.delta.negate());this.viewport.centerSpringX.target.value+=Si.x,this.viewport.centerSpringY.target.value+=Si.y;var vi=this.viewport.getBounds(),Mi=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=Si.x,this.viewport.centerSpringY.target.value-=Si.y,vi.x!=Mi.x&&(Nt.delta.x=0),vi.y!=Mi.y&&(Nt.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(Nt.delta.negate()),Qt.flickEnabled&&!this.constrainDuringPan)}}function qt(Nt){if(!Nt.preventDefaultAction&&this.viewport){var Qt=this.gestureSettingsByDeviceType(Nt.pointerType);if(Qt.flickEnabled&&Nt.speed>=Qt.flickMinSpeed){var Jt=0;this.panHorizontal&&(Jt=Qt.flickMomentum*Nt.speed*Math.cos(Nt.direction));var Si=0;this.panVertical&&(Si=Qt.flickMomentum*Nt.speed*Math.sin(Nt.direction));var vi=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Mi=this.viewport.pointFromPixel(new it.Point(vi.x-Jt,vi.y-Si));this.viewport.panTo(Mi,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:Nt.eventSource,position:Nt.position,speed:Nt.speed,direction:Nt.direction,shift:Nt.shift,originalEvent:Nt.originalEvent})}function Yt(Nt){this.raiseEvent("canvas-enter",{tracker:Nt.eventSource,pointerType:Nt.pointerType,position:Nt.position,buttons:Nt.buttons,pointers:Nt.pointers,insideElementPressed:Nt.insideElementPressed,buttonDownAny:Nt.buttonDownAny,originalEvent:Nt.originalEvent})}function ti(Nt){window.location!=window.parent.location&&it.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:Nt.eventSource,pointerType:Nt.pointerType,position:Nt.position,buttons:Nt.buttons,pointers:Nt.pointers,insideElementPressed:Nt.insideElementPressed,buttonDownAny:Nt.buttonDownAny,originalEvent:Nt.originalEvent})}function oi(Nt){this.raiseEvent("canvas-press",{tracker:Nt.eventSource,pointerType:Nt.pointerType,position:Nt.position,insideElementPressed:Nt.insideElementPressed,insideElementReleased:Nt.insideElementReleased,originalEvent:Nt.originalEvent})}function si(Nt){this.raiseEvent("canvas-release",{tracker:Nt.eventSource,pointerType:Nt.pointerType,position:Nt.position,insideElementPressed:Nt.insideElementPressed,insideElementReleased:Nt.insideElementReleased,originalEvent:Nt.originalEvent})}function di(Nt){this.raiseEvent("canvas-nonprimary-press",{tracker:Nt.eventSource,position:Nt.position,pointerType:Nt.pointerType,button:Nt.button,buttons:Nt.buttons,originalEvent:Nt.originalEvent})}function ui(Nt){this.raiseEvent("canvas-nonprimary-release",{tracker:Nt.eventSource,position:Nt.position,pointerType:Nt.pointerType,button:Nt.button,buttons:Nt.buttons,originalEvent:Nt.originalEvent})}function ci(Nt){var Qt,Jt,Si,vi;if(!Nt.preventDefaultAction&&this.viewport&&(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),Qt.pinchToZoom&&(Jt=this.viewport.pointFromPixel(Nt.center,!0),Si=this.viewport.pointFromPixel(Nt.lastCenter,!0),vi=Si.minus(Jt),this.panHorizontal||(vi.x=0),this.panVertical||(vi.y=0),this.viewport.zoomBy(Nt.distance/Nt.lastDistance,Jt,!0),Qt.zoomToRefPoint&&this.viewport.panBy(vi,!0),this.viewport.applyConstraints()),Qt.pinchRotate)){var Mi=Math.atan2(Nt.gesturePoints[0].currentPos.y-Nt.gesturePoints[1].currentPos.y,Nt.gesturePoints[0].currentPos.x-Nt.gesturePoints[1].currentPos.x),_i=Math.atan2(Nt.gesturePoints[0].lastPos.y-Nt.gesturePoints[1].lastPos.y,Nt.gesturePoints[0].lastPos.x-Nt.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Mi-_i)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:Nt.eventSource,gesturePoints:Nt.gesturePoints,lastCenter:Nt.lastCenter,center:Nt.center,lastDistance:Nt.lastDistance,distance:Nt.distance,shift:Nt.shift,originalEvent:Nt.originalEvent}),!1}function hi(Nt){var Qt,Jt,Si,vi;if(Si=it.now(),vi=Si-this._lastScrollTime,vi>this.minScrollDeltaTime){if(this._lastScrollTime=Si,this.viewport.flipped&&(Nt.position.x=this.viewport.getContainerSize().x-Nt.position.x),!Nt.preventDefaultAction&&this.viewport&&(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),Qt.scrollToZoom&&(Jt=Math.pow(this.zoomPerScroll,Nt.scroll),this.viewport.zoomBy(Jt,Qt.zoomToRefPoint?this.viewport.pointFromPixel(Nt.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:Nt.eventSource,position:Nt.position,scroll:Nt.scroll,shift:Nt.shift,originalEvent:Nt.originalEvent}),Qt&&Qt.scrollToZoom)return!1}else if(Qt=this.gestureSettingsByDeviceType(Nt.pointerType),Qt&&Qt.scrollToZoom)return!1}function ei(Nt){nt[this.hash].mouseInside=!0,Dt(this),this.raiseEvent("container-enter",{tracker:Nt.eventSource,position:Nt.position,buttons:Nt.buttons,pointers:Nt.pointers,insideElementPressed:Nt.insideElementPressed,buttonDownAny:Nt.buttonDownAny,originalEvent:Nt.originalEvent})}function wi(Nt){Nt.pointers<1&&(nt[this.hash].mouseInside=!1,nt[this.hash].animating||Tt(this)),this.raiseEvent("container-exit",{tracker:Nt.eventSource,position:Nt.position,buttons:Nt.buttons,pointers:Nt.pointers,insideElementPressed:Nt.insideElementPressed,buttonDownAny:Nt.buttonDownAny,originalEvent:Nt.originalEvent})}function Kt(Nt){Ni(Nt),Nt.isOpen()?Nt._updateRequestId=wt(Nt,Kt):Nt._updateRequestId=!1}function Ni(Nt){if(!Nt._opening){if(Nt.autoResize){var Qt=st(Nt.container),Jt=nt[Nt.hash].prevContainerSize;if(!Qt.equals(Jt)){var Si=Nt.viewport;if(Nt.preserveImageSizeOnResize){var vi=Jt.x/Qt.x,Mi=Si.getZoom()*vi,_i=Si.getCenter();Si.resize(Qt,!1),Si.zoomTo(Mi,null,!0),Si.panTo(_i,!0)}else{var Li=Si.getBounds();Si.resize(Qt,!0),Si.fitBoundsWithConstraints(Li,!0)}nt[Nt.hash].prevContainerSize=Qt,nt[Nt.hash].forceRedraw=!0}}var Ti=Nt.viewport.update(),zi=Nt.world.update()||Ti;Ti&&Nt.raiseEvent("viewport-change"),Nt.referenceStrip&&(zi=Nt.referenceStrip.update(Nt.viewport)||zi),!nt[Nt.hash].animating&&zi&&(Nt.raiseEvent("animation-start"),Dt(Nt)),(zi||nt[Nt.hash].forceRedraw||Nt.world.needsDraw())&&(ni(Nt),Nt._drawOverlays(),Nt.navigator&&Nt.navigator.update(Nt.viewport),nt[Nt.hash].forceRedraw=!1,zi&&Nt.raiseEvent("animation")),nt[Nt.hash].animating&&!zi&&(Nt.raiseEvent("animation-finish"),nt[Nt.hash].mouseInside||Tt(Nt)),nt[Nt.hash].animating=zi}}function ni(Nt){Nt.imageLoader.clear(),Nt.drawer.clear(),Nt.world.draw(),Nt.raiseEvent("update-viewport",{})}function Fi(Nt,Qt){return Nt?Nt+Qt:Qt}function Xi(){nt[this.hash].lastZoomTime=it.now(),nt[this.hash].zoomFactor=this.zoomPerSecond,nt[this.hash].zooming=!0,ji(this)}function nn(){nt[this.hash].lastZoomTime=it.now(),nt[this.hash].zoomFactor=1/this.zoomPerSecond,nt[this.hash].zooming=!0,ji(this)}function Ai(){nt[this.hash].zooming=!1}function ji(Nt){it.requestAnimationFrame(it.delegate(Nt,Ri))}function Ri(){var Nt,Qt,Jt;nt[this.hash].zooming&&this.viewport&&(Nt=it.now(),Qt=Nt-nt[this.hash].lastZoomTime,Jt=Math.pow(nt[this.hash].zoomFactor,Qt/1e3),this.viewport.zoomBy(Jt),this.viewport.applyConstraints(),nt[this.hash].lastZoomTime=Nt,ji(this))}function Vi(){this.viewport&&(nt[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Qi(){this.viewport&&(nt[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function rn(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function Pi(){this.viewport&&this.viewport.goHome()}function bn(){this.isFullPage()&&!it.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function Oi(){if(this.viewport){var Nt=this.viewport.getRotation();this.viewport.flipped?Nt=it.positiveModulo(Nt+this.rotationIncrement,360):Nt=it.positiveModulo(Nt-this.rotationIncrement,360),this.viewport.setRotation(Nt)}}function Ii(){if(this.viewport){var Nt=this.viewport.getRotation();this.viewport.flipped?Nt=it.positiveModulo(Nt-this.rotationIncrement,360):Nt=it.positiveModulo(Nt+this.rotationIncrement,360),this.viewport.setRotation(Nt)}}function Gi(){this.viewport.toggleFlip()}function $i(){var Nt=this._sequenceIndex-1;this.navPrevNextWrap&&Nt<0&&(Nt+=this.tileSources.length),this.goToPage(Nt)}function ii(){var Nt=this._sequenceIndex+1;this.navPrevNextWrap&&Nt>=this.tileSources.length&&(Nt=0),this.goToPage(Nt)}}(OpenSeadragon),function(it){it.Navigator=function(wt){var Et=wt.viewer,Tt=this,$t,Dt;wt.id?(this.element=document.getElementById(wt.id),wt.controlOptions={anchor:it.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(wt.id="navigator-"+it.now(),this.element=it.makeNeutralElement("div"),wt.controlOptions={anchor:it.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:wt.autoFade},wt.position&&(wt.position=="BOTTOM_RIGHT"?wt.controlOptions.anchor=it.ControlAnchor.BOTTOM_RIGHT:wt.position=="BOTTOM_LEFT"?wt.controlOptions.anchor=it.ControlAnchor.BOTTOM_LEFT:wt.position=="TOP_RIGHT"?wt.controlOptions.anchor=it.ControlAnchor.TOP_RIGHT:wt.position=="TOP_LEFT"?wt.controlOptions.anchor=it.ControlAnchor.TOP_LEFT:wt.position=="ABSOLUTE"&&(wt.controlOptions.anchor=it.ControlAnchor.ABSOLUTE,wt.controlOptions.top=wt.top,wt.controlOptions.left=wt.left,wt.controlOptions.height=wt.height,wt.controlOptions.width=wt.width))),this.element.id=wt.id,this.element.className+=" navigator",wt=it.extend(!0,{sizeRatio:it.DEFAULT_SETTINGS.navigatorSizeRatio},wt,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:wt.autoResize,minZoomImageRatio:1,background:wt.background,opacity:wt.opacity,borderColor:wt.borderColor,displayRegionColor:wt.displayRegionColor}),wt.minPixelRatio=this.minPixelRatio=Et.minPixelRatio,it.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new it.Point(1,1),this.totalBorderWidths=new it.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),wt.controlOptions.anchor!=it.ControlAnchor.NONE&&function(Ht,Ut){Ht.margin="0px",Ht.border=Ut+"px solid "+wt.borderColor,Ht.padding="0px",Ht.background=wt.background,Ht.opacity=wt.opacity,Ht.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=it.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(Ht,Ut){Ht.position="relative",Ht.top="0px",Ht.left="0px",Ht.fontSize="0px",Ht.overflow="hidden",Ht.border=Ut+"px solid "+wt.displayRegionColor,Ht.margin="0px",Ht.padding="0px",Ht.background="transparent",Ht.float="left",Ht.cssFloat="left",Ht.styleFloat="left",Ht.zIndex=999999999,Ht.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=it.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",Et.addControl(this.element,wt.controlOptions),this._resizeWithViewer=wt.controlOptions.anchor!=it.ControlAnchor.ABSOLUTE&&wt.controlOptions.anchor!=it.ControlAnchor.NONE,wt.width&&wt.height?(this.setWidth(wt.width),this.setHeight(wt.height)):this._resizeWithViewer&&($t=it.getElementSize(Et.element),this.element.style.height=Math.round($t.y*wt.sizeRatio)+"px",this.element.style.width=Math.round($t.x*wt.sizeRatio)+"px",this.oldViewerSize=$t,Dt=it.getElementSize(this.element),this.elementArea=Dt.x*Dt.y),this.oldContainerSize=new it.Point(0,0),it.Viewer.apply(this,[wt]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function Lt(Ht){bt(Tt.displayRegionContainer,Ht),bt(Tt.displayRegion,-Ht),Tt.viewport.setRotation(Ht)}if(wt.navigatorRotate){var Bt=wt.viewer.viewport?wt.viewer.viewport.getRotation():wt.viewer.degrees||0;Lt(Bt),wt.viewer.addHandler("rotate",function(Ht){Lt(Ht.degrees)})}this.innerTracker.destroy(),this.innerTracker=new it.MouseTracker({element:this.element,dragHandler:it.delegate(this,rt),clickHandler:it.delegate(this,nt),releaseHandler:it.delegate(this,st),scrollHandler:it.delegate(this,vt)}),this.addHandler("reset-size",function(){Tt.viewport&&Tt.viewport.goHome(!0)}),Et.world.addHandler("item-index-change",function(Ht){window.setTimeout(function(){var Ut=Tt.world.getItemAt(Ht.previousIndex);Tt.world.setItemIndex(Ut,Ht.newIndex)},1)}),Et.world.addHandler("remove-item",function(Ht){var Ut=Ht.item,It=Tt._getMatchingItem(Ut);It&&Tt.world.removeItem(It)}),this.update(Et.viewport)},it.extend(it.Navigator.prototype,it.EventSource.prototype,it.Viewer.prototype,{updateSize:function(){if(this.viewport){var wt=new it.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);wt.equals(this.oldContainerSize)||(this.viewport.resize(wt,!0),this.viewport.goHome(!0),this.oldContainerSize=wt,this.drawer.clear(),this.world.draw())}},setWidth:function(wt){this.width=wt,this.element.style.width=typeof wt=="number"?wt+"px":wt,this._resizeWithViewer=!1},setHeight:function(wt){this.height=wt,this.element.style.height=typeof wt=="number"?wt+"px":wt,this._resizeWithViewer=!1},setFlip:function(wt){return this.viewport.setFlip(wt),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(wt){_t(this.displayRegion,wt),_t(this.canvas,wt),_t(this.element,wt)},update:function(wt){var Et,Tt,$t,Dt,Lt,Bt;if(Et=it.getElementSize(this.viewer.element),this._resizeWithViewer&&Et.x&&Et.y&&!Et.equals(this.oldViewerSize)&&(this.oldViewerSize=Et,this.maintainSizeRatio||!this.elementArea?(Tt=Et.x*this.sizeRatio,$t=Et.y*this.sizeRatio):(Tt=Math.sqrt(this.elementArea*(Et.x/Et.y)),$t=this.elementArea/Tt),this.element.style.width=Math.round(Tt)+"px",this.element.style.height=Math.round($t)+"px",this.elementArea||(this.elementArea=Tt*$t),this.updateSize()),wt&&this.viewport){Dt=wt.getBoundsNoRotate(!0),Lt=this.viewport.pixelFromPointNoRotate(Dt.getTopLeft(),!1),Bt=this.viewport.pixelFromPointNoRotate(Dt.getBottomRight(),!1).minus(this.totalBorderWidths);var Ht=this.displayRegion.style;Ht.display=this.world.getItemCount()?"block":"none",Ht.top=Math.round(Lt.y)+"px",Ht.left=Math.round(Lt.x)+"px";var Ut=Math.abs(Lt.x-Bt.x),It=Math.abs(Lt.y-Bt.y);Ht.width=Math.round(Math.max(Ut,0))+"px",Ht.height=Math.round(Math.max(It,0))+"px"}},addTiledImage:function(wt){var Et=this,Tt=wt.originalTiledImage;delete wt.original;var $t=it.extend({},wt,{success:function(Dt){var Lt=Dt.item;Lt._originalForNavigator=Tt,Et._matchBounds(Lt,Tt,!0);function Bt(){Et._matchBounds(Lt,Tt)}function Ht(){Et._matchOpacity(Lt,Tt)}function Ut(){Et._matchCompositeOperation(Lt,Tt)}Tt.addHandler("bounds-change",Bt),Tt.addHandler("clip-change",Bt),Tt.addHandler("opacity-change",Ht),Tt.addHandler("composite-operation-change",Ut)}});return it.Viewer.prototype.addTiledImage.apply(this,[$t])},_getMatchingItem:function(wt){for(var Et=this.world.getItemCount(),Tt,$t=0;$t<Et;$t++)if(Tt=this.world.getItemAt($t),Tt._originalForNavigator===wt)return Tt;return null},_matchBounds:function(wt,Et,Tt){var $t=Et.getBoundsNoRotate();wt.setPosition($t.getTopLeft(),Tt),wt.setWidth($t.width,Tt),wt.setRotation(Et.getRotation(),Tt),wt.setClip(Et.getClip())},_matchOpacity:function(wt,Et){wt.setOpacity(Et.opacity)},_matchCompositeOperation:function(wt,Et){wt.setCompositeOperation(Et.compositeOperation)}});function nt(wt){var Et={tracker:wt.eventSource,position:wt.position,quick:wt.quick,shift:wt.shift,originalEvent:wt.originalEvent,preventDefaultAction:wt.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",Et),!Et.preventDefaultAction&&wt.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(wt.position.x=this.viewport.getContainerSize().x-wt.position.x);var Tt=this.viewport.pointFromPixel(wt.position);this.panVertical?this.panHorizontal||(Tt.x=this.viewer.viewport.getCenter(!0).x):Tt.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(Tt),this.viewer.viewport.applyConstraints()}}function rt(wt){var Et={tracker:wt.eventSource,position:wt.position,delta:wt.delta,speed:wt.speed,direction:wt.direction,shift:wt.shift,originalEvent:wt.originalEvent,preventDefaultAction:wt.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",Et),!Et.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(wt.delta.x=0),this.panVertical||(wt.delta.y=0),this.viewer.viewport.flipped&&(wt.delta.x=-wt.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(wt.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function st(wt){wt.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function vt(wt){return this.viewer.raiseEvent("navigator-scroll",{tracker:wt.eventSource,position:wt.position,scroll:wt.scroll,shift:wt.shift,originalEvent:wt.originalEvent}),!1}function bt(wt,Et){_t(wt,"rotate("+Et+"deg)")}function _t(wt,Et){wt.style.webkitTransform=Et,wt.style.mozTransform=Et,wt.style.msTransform=Et,wt.style.oTransform=Et,wt.style.transform=Et}}(OpenSeadragon),function(it){var nt={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};it.extend(it,{getString:function(rt){var st=rt.split("."),vt=null,bt=arguments,_t=nt,wt;for(wt=0;wt<st.length-1;wt++)_t=_t[st[wt]]||{};return vt=_t[st[wt]],typeof vt!="string"&&(it.console.log("Untranslated source string:",rt),vt=""),vt.replace(/\{\d+\}/g,function(Et){var Tt=parseInt(Et.match(/\d+/),10)+1;return Tt<bt.length?bt[Tt]:""})},setString:function(rt,st){var vt=rt.split("."),bt=nt,_t;for(_t=0;_t<vt.length-1;_t++)bt[vt[_t]]||(bt[vt[_t]]={}),bt=bt[vt[_t]];bt[vt[_t]]=st}})}(OpenSeadragon),function(it){it.Point=function(nt,rt){this.x=typeof nt=="number"?nt:0,this.y=typeof rt=="number"?rt:0},it.Point.prototype={clone:function(){return new it.Point(this.x,this.y)},plus:function(nt){return new it.Point(this.x+nt.x,this.y+nt.y)},minus:function(nt){return new it.Point(this.x-nt.x,this.y-nt.y)},times:function(nt){return new it.Point(this.x*nt,this.y*nt)},divide:function(nt){return new it.Point(this.x/nt,this.y/nt)},negate:function(){return new it.Point(-this.x,-this.y)},distanceTo:function(nt){return Math.sqrt(Math.pow(this.x-nt.x,2)+Math.pow(this.y-nt.y,2))},squaredDistanceTo:function(nt){return Math.pow(this.x-nt.x,2)+Math.pow(this.y-nt.y,2)},apply:function(nt){return new it.Point(nt(this.x),nt(this.y))},equals:function(nt){return nt instanceof it.Point&&this.x===nt.x&&this.y===nt.y},rotate:function(nt,rt){rt=rt||new it.Point(0,0);var st,vt;if(nt%90===0){var bt=it.positiveModulo(nt,360);switch(bt){case 0:st=1,vt=0;break;case 90:st=0,vt=1;break;case 180:st=-1,vt=0;break;case 270:st=0,vt=-1;break}}else{var _t=nt*Math.PI/180;st=Math.cos(_t),vt=Math.sin(_t)}var wt=st*(this.x-rt.x)-vt*(this.y-rt.y)+rt.x,Et=vt*(this.x-rt.x)+st*(this.y-rt.y)+rt.y;return new it.Point(wt,Et)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(it){it.TileSource=function(rt,st,vt,bt,_t,wt){var Et=this,Tt=arguments,$t,Dt;if(it.isPlainObject(rt)?$t=rt:$t={width:Tt[0],height:Tt[1],tileSize:Tt[2],tileOverlap:Tt[3],minLevel:Tt[4],maxLevel:Tt[5]},it.EventSource.call(this),it.extend(!0,this,$t),!this.success){for(Dt=0;Dt<arguments.length;Dt++)if(it.isFunction(arguments[Dt])){this.success=arguments[Dt];break}}this.success&&this.addHandler("ready",function(Lt){Et.success(Lt)}),it.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new it.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=$t.width&&$t.height?$t.width/$t.height:1,this.dimensions=new it.Point($t.width,$t.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=$t.tileOverlap?$t.tileOverlap:0,this.minLevel=$t.minLevel?$t.minLevel:0,this.maxLevel=$t.maxLevel!==void 0&&$t.maxLevel!==null?$t.maxLevel:$t.width&&$t.height?Math.ceil(Math.log(Math.max($t.width,$t.height))/Math.log(2)):0,this.success&&it.isFunction(this.success)&&this.success(this))},it.TileSource.prototype={getTileSize:function(rt){return it.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(rt){return this._tileWidth?this._tileWidth:this.getTileSize(rt)},getTileHeight:function(rt){return this._tileHeight?this._tileHeight:this.getTileSize(rt)},getLevelScale:function(rt){var st={},vt;for(vt=0;vt<=this.maxLevel;vt++)st[vt]=1/Math.pow(2,this.maxLevel-vt);return this.getLevelScale=function(bt){return st[bt]},this.getLevelScale(rt)},getNumTiles:function(rt){var st=this.getLevelScale(rt),vt=Math.ceil(st*this.dimensions.x/this.getTileWidth(rt)),bt=Math.ceil(st*this.dimensions.y/this.getTileHeight(rt));return new it.Point(vt,bt)},getPixelRatio:function(rt){var st=this.dimensions.times(this.getLevelScale(rt)),vt=1/st.x,bt=1/st.y;return new it.Point(vt,bt)},getClosestLevel:function(){var rt,st;for(rt=this.minLevel+1;rt<=this.maxLevel&&(st=this.getNumTiles(rt),!(st.x>1||st.y>1));rt++);return rt-1},getTileAtPoint:function(rt,st){var vt=st.x>=0&&st.x<=1&&st.y>=0&&st.y<=1/this.aspectRatio;it.console.assert(vt,"[TileSource.getTileAtPoint] must be called with a valid point.");var bt=this.dimensions.x*this.getLevelScale(rt),_t=st.x*bt,wt=st.y*bt,Et=Math.floor(_t/this.getTileWidth(rt)),Tt=Math.floor(wt/this.getTileHeight(rt));st.x>=1&&(Et=this.getNumTiles(rt).x-1);var $t=1e-15;return st.y>=1/this.aspectRatio-$t&&(Tt=this.getNumTiles(rt).y-1),new it.Point(Et,Tt)},getTileBounds:function(rt,st,vt,bt){var _t=this.dimensions.times(this.getLevelScale(rt)),wt=this.getTileWidth(rt),Et=this.getTileHeight(rt),Tt=st===0?0:wt*st-this.tileOverlap,$t=vt===0?0:Et*vt-this.tileOverlap,Dt=wt+(st===0?1:2)*this.tileOverlap,Lt=Et+(vt===0?1:2)*this.tileOverlap,Bt=1/_t.x;return Dt=Math.min(Dt,_t.x-Tt),Lt=Math.min(Lt,_t.y-$t),bt?new it.Rect(0,0,Dt,Lt):new it.Rect(Tt*Bt,$t*Bt,Dt*Bt,Lt*Bt)},getImageInfo:function(rt){var st=this,vt,bt,_t,wt,Et,Tt,$t;rt&&(Et=rt.split("/"),Tt=Et[Et.length-1],$t=Tt.lastIndexOf("."),$t>-1&&(Et[Et.length-1]=Tt.slice(0,$t))),bt=function(Dt){typeof Dt=="string"&&(Dt=it.parseXml(Dt));var Lt=it.TileSource.determineType(st,Dt,rt);if(!Lt){st.raiseEvent("open-failed",{message:"Unable to load TileSource",source:rt});return}wt=Lt.prototype.configure.apply(st,[Dt,rt]),wt.ajaxWithCredentials===void 0&&(wt.ajaxWithCredentials=st.ajaxWithCredentials),_t=new Lt(wt),st.ready=!0,st.raiseEvent("ready",{tileSource:_t})},rt.match(/\.js$/)?(vt=rt.split("/").pop().replace(".js",""),it.jsonp({url:rt,async:!1,callbackName:vt,callback:bt})):it.makeAjaxRequest({url:rt,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(Dt){var Lt=nt(Dt);bt(Lt)},error:function(Dt,Lt){var Bt;try{Bt="HTTP "+Dt.status+" attempting to load TileSource"}catch{var Ht;typeof Lt>"u"||!Lt.toString?Ht="Unknown error":Ht=Lt.toString(),Bt=Ht+" attempting to load TileSource"}st.raiseEvent("open-failed",{message:Bt,source:rt})}})},supports:function(rt,st){return!1},configure:function(rt,st){throw new Error("Method not implemented.")},getTileUrl:function(rt,st,vt){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(rt,st,vt){return{}},tileExists:function(rt,st,vt){var bt=this.getNumTiles(rt);return rt>=this.minLevel&&rt<=this.maxLevel&&st>=0&&vt>=0&&st<bt.x&&vt<bt.y}},it.extend(!0,it.TileSource.prototype,it.EventSource.prototype);function nt(rt){var st=rt.responseText,vt=rt.status,bt,_t;if(rt){if(rt.status!==200&&rt.status!==0)throw vt=rt.status,bt=vt==404?"Not Found":rt.statusText,new Error(it.getString("Errors.Status",vt,bt))}else throw new Error(it.getString("Errors.Security"));if(st.match(/\s*<.*/))try{_t=rt.responseXML&&rt.responseXML.documentElement?rt.responseXML:it.parseXml(st)}catch{_t=rt.responseText}else if(st.match(/\s*[\{\[].*/))try{_t=it.parseJSON(st)}catch{_t=st}else _t=st;return _t}it.TileSource.determineType=function(rt,st,vt){var bt;for(bt in OpenSeadragon)if(bt.match(/.+TileSource$/)&&it.isFunction(OpenSeadragon[bt])&&it.isFunction(OpenSeadragon[bt].prototype.supports)&&OpenSeadragon[bt].prototype.supports.call(rt,st,vt))return OpenSeadragon[bt];it.console.error("No TileSource was able to open %s %s",vt,st)}}(OpenSeadragon),function(it){it.DziTileSource=function(st,vt,bt,_t,wt,Et,Tt,$t,Dt){var Lt,Bt,Ht,Ut;if(it.isPlainObject(st)?Ut=st:Ut={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=Ut.tilesUrl,this.fileFormat=Ut.fileFormat,this.displayRects=Ut.displayRects,this.displayRects)for(Lt=this.displayRects.length-1;Lt>=0;Lt--)for(Bt=this.displayRects[Lt],Ht=Bt.minLevel;Ht<=Bt.maxLevel;Ht++)this._levelRects[Ht]||(this._levelRects[Ht]=[]),this._levelRects[Ht].push(Bt);it.TileSource.apply(this,[Ut])},it.extend(it.DziTileSource.prototype,it.TileSource.prototype,{supports:function(st,vt){var bt;return st.Image?bt=st.Image.xmlns:st.documentElement&&(st.documentElement.localName=="Image"||st.documentElement.tagName=="Image")&&(bt=st.documentElement.namespaceURI),bt=(bt||"").toLowerCase(),bt.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||bt.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(st,vt){var bt;return it.isPlainObject(st)?bt=rt(this,st):bt=nt(this,st),vt&&!bt.tilesUrl&&(bt.tilesUrl=vt.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),vt.search(/\.(dzi|xml|js)\?/)!=-1?bt.queryParams=vt.match(/\?.*/):bt.queryParams=""),bt},getTileUrl:function(st,vt,bt){return[this.tilesUrl,st,"/",vt,"_",bt,".",this.fileFormat,this.queryParams].join("")},tileExists:function(st,vt,bt){var _t=this._levelRects[st],wt,Et,Tt,$t,Dt,Lt,Bt;if(this.minLevel&&st<this.minLevel||this.maxLevel&&st>this.maxLevel)return!1;if(!_t||!_t.length)return!0;for(Bt=_t.length-1;Bt>=0;Bt--)if(wt=_t[Bt],!(st<wt.minLevel||st>wt.maxLevel)&&(Et=this.getLevelScale(st),Tt=wt.x*Et,$t=wt.y*Et,Dt=Tt+wt.width*Et,Lt=$t+wt.height*Et,Tt=Math.floor(Tt/this._tileWidth),$t=Math.floor($t/this._tileWidth),Dt=Math.ceil(Dt/this._tileWidth),Lt=Math.ceil(Lt/this._tileWidth),Tt<=vt&&vt<Dt&&$t<=bt&&bt<Lt))return!0;return!1}});function nt(st,vt){if(!vt||!vt.documentElement)throw new Error(it.getString("Errors.Xml"));var bt=vt.documentElement,_t=bt.localName||bt.tagName,wt=vt.documentElement.namespaceURI,Et=null,Tt=[],$t,Dt,Lt,Bt,Ht;if(_t=="Image")try{if(Bt=bt.getElementsByTagName("Size")[0],Bt===void 0&&(Bt=bt.getElementsByTagNameNS(wt,"Size")[0]),Et={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:bt.getAttribute("Url"),Format:bt.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(bt.getAttribute("Overlap"),10),TileSize:parseInt(bt.getAttribute("TileSize"),10),Size:{Height:parseInt(Bt.getAttribute("Height"),10),Width:parseInt(Bt.getAttribute("Width"),10)}}},!it.imageFormatSupported(Et.Image.Format))throw new Error(it.getString("Errors.ImageFormat",Et.Image.Format.toUpperCase()));for($t=bt.getElementsByTagName("DisplayRect"),$t===void 0&&($t=bt.getElementsByTagNameNS(wt,"DisplayRect")[0]),Ht=0;Ht<$t.length;Ht++)Dt=$t[Ht],Lt=Dt.getElementsByTagName("Rect")[0],Lt===void 0&&(Lt=Dt.getElementsByTagNameNS(wt,"Rect")[0]),Tt.push({Rect:{X:parseInt(Lt.getAttribute("X"),10),Y:parseInt(Lt.getAttribute("Y"),10),Width:parseInt(Lt.getAttribute("Width"),10),Height:parseInt(Lt.getAttribute("Height"),10),MinLevel:parseInt(Dt.getAttribute("MinLevel"),10),MaxLevel:parseInt(Dt.getAttribute("MaxLevel"),10)}});return Tt.length&&(Et.Image.DisplayRect=Tt),rt(st,Et)}catch(jt){throw jt instanceof Error?jt:new Error(it.getString("Errors.Dzi"))}else{if(_t=="Collection")throw new Error(it.getString("Errors.Dzc"));if(_t=="Error"){var Ut=bt.getElementsByTagName("Message")[0],It=Ut.firstChild.nodeValue;throw new Error(It)}}throw new Error(it.getString("Errors.Dzi"))}function rt(st,vt){var bt=vt.Image,_t=bt.Url,wt=bt.Format,Et=bt.Size,Tt=bt.DisplayRect||[],$t=parseInt(Et.Width,10),Dt=parseInt(Et.Height,10),Lt=parseInt(bt.TileSize,10),Bt=parseInt(bt.Overlap,10),Ht=[],Ut,It;for(It=0;It<Tt.length;It++)Ut=Tt[It].Rect,Ht.push(new it.DisplayRect(parseInt(Ut.X,10),parseInt(Ut.Y,10),parseInt(Ut.Width,10),parseInt(Ut.Height,10),parseInt(Ut.MinLevel,10),parseInt(Ut.MaxLevel,10)));return it.extend(!0,{width:$t,height:Dt,tileSize:Lt,tileOverlap:Bt,minLevel:null,maxLevel:null,tilesUrl:_t,fileFormat:wt,displayRects:Ht},vt)}}(OpenSeadragon),function(it){it.IIIFTileSource=function(bt){if(it.extend(!0,this,bt),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(bt.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=bt.version,this.tile_width&&this.tile_height)bt.tileWidth=this.tile_width,bt.tileHeight=this.tile_height;else if(this.tile_width)bt.tileSize=this.tile_width;else if(this.tile_height)bt.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)bt.tileWidth=this.tiles[0].width,bt.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var _t=0;_t<this.tiles.length;_t++)for(var wt=0;wt<this.tiles[_t].scaleFactors.length;wt++){var Et=this.tiles[_t].scaleFactors[wt];this.scale_factors.push(Et),bt.tileSizePerScaleFactor[Et]={width:this.tiles[_t].width,height:this.tiles[_t].height||this.tiles[_t].width}}}else if(nt(bt)){for(var Tt=Math.min(this.height,this.width),$t=[256,512,1024],Dt=[],Lt=0;Lt<$t.length;Lt++)$t[Lt]<=Tt&&Dt.push($t[Lt]);Dt.length>0?bt.tileSize=Math.max.apply(null,Dt):bt.tileSize=Tt}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,bt.levels=rt(this),it.extend(!0,bt,{width:bt.levels[bt.levels.length-1].width,height:bt.levels[bt.levels.length-1].height,tileSize:Math.max(bt.height,bt.width),tileOverlap:0,minLevel:0,maxLevel:bt.levels.length-1}),this.levels=bt.levels):it.console.error("Nothing in the info.json to construct image pyramids from");if(!bt.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)bt.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var Bt=Math.max.apply(null,this.scale_factors);bt.maxLevel=Math.round(Math.log(Bt)*Math.LOG2E)}it.TileSource.apply(this,[bt])},it.extend(it.IIIFTileSource.prototype,it.TileSource.prototype,{supports:function(bt,_t){return bt.protocol&&bt.protocol=="http://iiif.io/api/image"||bt["@context"]&&(bt["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||bt["@context"]=="http://iiif.io/api/image/1/context.json")||bt.profile&&bt.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||bt.identifier&&bt.width&&bt.height?!0:!!(bt.documentElement&&bt.documentElement.tagName=="info"&&bt.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(bt,_t){if(it.isPlainObject(bt)){if(!bt["@context"])bt["@context"]="http://iiif.io/api/image/1.0/context.json",bt["@id"]=_t.replace("/info.json",""),bt.version=1;else{var Et=bt["@context"];if(Array.isArray(Et)){for(var Tt=0;Tt<Et.length;Tt++)if(typeof Et[Tt]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(Et[Tt])||Et[Tt]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){Et=Et[Tt];break}}switch(Et){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":bt.version=1;break;case"http://iiif.io/api/image/2/context.json":bt.version=2;break;case"http://iiif.io/api/image/3/context.json":bt.version=3;break;default:it.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!bt["@id"]&&bt.id&&(bt["@id"]=bt.id),bt.preferredFormats){for(var $t=0;$t<bt.preferredFormats.length;$t++)if(OpenSeadragon.imageFormatSupported(bt.preferredFormats[$t])){bt.tileFormat=bt.preferredFormats[$t];break}}return bt}else{var wt=st(bt);return wt["@context"]="http://iiif.io/api/image/1.0/context.json",wt["@id"]=_t.replace("/info.xml",""),wt.version=1,wt}},getTileWidth:function(bt){if(this.emulateLegacyImagePyramid)return it.TileSource.prototype.getTileWidth.call(this,bt);var _t=Math.pow(2,this.maxLevel-bt);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[_t]?this.tileSizePerScaleFactor[_t].width:this._tileWidth},getTileHeight:function(bt){if(this.emulateLegacyImagePyramid)return it.TileSource.prototype.getTileHeight.call(this,bt);var _t=Math.pow(2,this.maxLevel-bt);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[_t]?this.tileSizePerScaleFactor[_t].height:this._tileHeight},getLevelScale:function(bt){if(this.emulateLegacyImagePyramid){var _t=NaN;return this.levels.length>0&&bt>=this.minLevel&&bt<=this.maxLevel&&(_t=this.levels[bt].width/this.levels[this.maxLevel].width),_t}return it.TileSource.prototype.getLevelScale.call(this,bt)},getNumTiles:function(bt){if(this.emulateLegacyImagePyramid){var _t=this.getLevelScale(bt);return _t?new it.Point(1,1):new it.Point(0,0)}return it.TileSource.prototype.getNumTiles.call(this,bt)},getTileAtPoint:function(bt,_t){return this.emulateLegacyImagePyramid?new it.Point(0,0):it.TileSource.prototype.getTileAtPoint.call(this,bt,_t)},getTileUrl:function(bt,_t,wt){if(this.emulateLegacyImagePyramid){var Et=null;return this.levels.length>0&&bt>=this.minLevel&&bt<=this.maxLevel&&(Et=this.levels[bt].url),Et}var Tt="0",$t=Math.pow(.5,this.maxLevel-bt),Dt=Math.ceil(this.width*$t),Lt=Math.ceil(this.height*$t),Bt,Ht,Ut,It,jt,Wt,qt,Yt,ti,oi,si,di,ui,ci;return Bt=this.getTileWidth(bt),Ht=this.getTileHeight(bt),Ut=Math.ceil(Bt/$t),It=Math.ceil(Ht/$t),this.version===1?ui="native."+this.tileFormat:ui="default."+this.tileFormat,Dt<Bt&&Lt<Ht?(this.version===2&&Dt===this.width||this.version===3&&Dt===this.width&&Lt===this.height?oi="max":this.version===3?oi=Dt+","+Lt:oi=Dt+",",jt="full"):(Wt=_t*Ut,qt=wt*It,Yt=Math.min(Ut,this.width-Wt),ti=Math.min(It,this.height-qt),_t===0&&wt===0&&Yt===this.width&&ti===this.height?jt="full":jt=[Wt,qt,Yt,ti].join(","),si=Math.ceil(Yt*$t),di=Math.ceil(ti*$t),this.version===2&&si===this.width||this.version===3&&si===this.width&&di===this.height?oi="max":this.version===3?oi=si+","+di:oi=si+","),ci=[this["@id"],jt,oi,Tt,ui].join("/"),ci},__testonly__:{canBeTiled:nt,constructLevels:rt}});function nt(bt){var _t=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],wt=Array.isArray(bt.profile)?bt.profile[0]:bt.profile,Et=_t.indexOf(wt)!==-1,Tt=!1;return bt.version===2&&bt.profile.length>1&&bt.profile[1].supports&&(Tt=bt.profile[1].supports.indexOf("sizeByW")!==-1),bt.version===3&&bt.extraFeatures&&(Tt=bt.extraFeatures.indexOf("sizeByWh")!==-1),!Et||Tt}function rt(bt){for(var _t=[],wt=0;wt<bt.sizes.length;wt++)_t.push({url:bt["@id"]+"/full/"+bt.sizes[wt].width+","+(bt.version===3?bt.sizes[wt].height:"")+"/0/default."+bt.tileFormat,width:bt.sizes[wt].width,height:bt.sizes[wt].height});return _t.sort(function(Et,Tt){return Et.width-Tt.width})}function st(bt){if(!bt||!bt.documentElement)throw new Error(it.getString("Errors.Xml"));var _t=bt.documentElement,wt=_t.tagName,Et=null;if(wt=="info")try{return Et={},vt(_t,Et),Et}catch(Tt){throw Tt instanceof Error?Tt:new Error(it.getString("Errors.IIIF"))}throw new Error(it.getString("Errors.IIIF"))}function vt(bt,_t,wt){var Et,Tt;if(bt.nodeType==3&&wt)Tt=bt.nodeValue.trim(),Tt.match(/^\d*$/)&&(Tt=Number(Tt)),_t[wt]?(it.isArray(_t[wt])||(_t[wt]=[_t[wt]]),_t[wt].push(Tt)):_t[wt]=Tt;else if(bt.nodeType==1)for(Et=0;Et<bt.childNodes.length;Et++)vt(bt.childNodes[Et],_t,bt.nodeName)}}(OpenSeadragon),function(it){it.OsmTileSource=function(nt,rt,st,vt,bt){var _t;it.isPlainObject(nt)?_t=nt:_t={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!_t.width||!_t.height)&&(_t.width=65572864,_t.height=65572864),_t.tileSize||(_t.tileSize=256,_t.tileOverlap=0),_t.tilesUrl||(_t.tilesUrl="http://tile.openstreetmap.org/"),_t.minLevel=8,it.TileSource.apply(this,[_t])},it.extend(it.OsmTileSource.prototype,it.TileSource.prototype,{supports:function(nt,rt){return nt.type&&nt.type=="openstreetmaps"},configure:function(nt,rt){return nt},getTileUrl:function(nt,rt,st){return this.tilesUrl+(nt-8)+"/"+rt+"/"+st+".png"}})}(OpenSeadragon),function(it){it.TmsTileSource=function(nt,rt,st,vt,bt){var _t;it.isPlainObject(nt)?_t=nt:_t={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var wt=Math.ceil(_t.width/256)*256,Et=Math.ceil(_t.height/256)*256,Tt;wt>Et?Tt=wt/256:Tt=Et/256,_t.maxLevel=Math.ceil(Math.log(Tt)/Math.log(2))-1,_t.tileSize=256,_t.width=wt,_t.height=Et,it.TileSource.apply(this,[_t])},it.extend(it.TmsTileSource.prototype,it.TileSource.prototype,{supports:function(nt,rt){return nt.type&&nt.type=="tiledmapservice"},configure:function(nt,rt){return nt},getTileUrl:function(nt,rt,st){var vt=this.getNumTiles(nt).y-1;return this.tilesUrl+nt+"/"+rt+"/"+(vt-st)+".png"}})}(OpenSeadragon),function(it){it.ZoomifyTileSource=function(nt){nt.tileSize=256;var rt={x:nt.width,y:nt.height};for(nt.imageSizes=[{x:nt.width,y:nt.height}],nt.gridSize=[this._getGridSize(nt.width,nt.height,nt.tileSize)];parseInt(rt.x,10)>nt.tileSize||parseInt(rt.y,10)>nt.tileSize;)rt.x=Math.floor(rt.x/2),rt.y=Math.floor(rt.y/2),nt.imageSizes.push({x:rt.x,y:rt.y}),nt.gridSize.push(this._getGridSize(rt.x,rt.y,nt.tileSize));nt.imageSizes.reverse(),nt.gridSize.reverse(),nt.minLevel=0,nt.maxLevel=nt.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[nt])},it.extend(it.ZoomifyTileSource.prototype,it.TileSource.prototype,{_getGridSize:function(nt,rt,st){return{x:Math.ceil(nt/st),y:Math.ceil(rt/st)}},_calculateAbsoluteTileNumber:function(nt,rt,st){for(var vt=0,bt={},_t=0;_t<nt;_t++)bt=this.gridSize[_t],vt+=bt.x*bt.y;return bt=this.gridSize[nt],vt+=bt.x*st+rt,vt},supports:function(nt,rt){return nt.type&&nt.type=="zoomifytileservice"},configure:function(nt,rt){return nt},getTileUrl:function(nt,rt,st){var vt=0,bt=this._calculateAbsoluteTileNumber(nt,rt,st);return vt=Math.floor(bt/256),this.tilesUrl+"TileGroup"+vt+"/"+nt+"-"+rt+"-"+st+".jpg"}})}(OpenSeadragon),function(it){it.LegacyTileSource=function(vt){var bt,_t,wt;it.isArray(vt)&&(bt={type:"legacy-image-pyramid",levels:vt}),bt.levels=nt(bt.levels),bt.levels.length>0?(_t=bt.levels[bt.levels.length-1].width,wt=bt.levels[bt.levels.length-1].height):(_t=0,wt=0,it.console.error("No supported image formats found")),it.extend(!0,bt,{width:_t,height:wt,tileSize:Math.max(wt,_t),tileOverlap:0,minLevel:0,maxLevel:bt.levels.length>0?bt.levels.length-1:0}),it.TileSource.apply(this,[bt]),this.levels=bt.levels},it.extend(it.LegacyTileSource.prototype,it.TileSource.prototype,{supports:function(vt,bt){return vt.type&&vt.type=="legacy-image-pyramid"||vt.documentElement&&vt.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(vt,bt){var _t;return it.isPlainObject(vt)?_t=st(this,vt):_t=rt(this,vt),_t},getLevelScale:function(vt){var bt=NaN;return this.levels.length>0&&vt>=this.minLevel&&vt<=this.maxLevel&&(bt=this.levels[vt].width/this.levels[this.maxLevel].width),bt},getNumTiles:function(vt){var bt=this.getLevelScale(vt);return bt?new it.Point(1,1):new it.Point(0,0)},getTileUrl:function(vt,bt,_t){var wt=null;return this.levels.length>0&&vt>=this.minLevel&&vt<=this.maxLevel&&(wt=this.levels[vt].url),wt}});function nt(vt){var bt=[],_t,wt;for(wt=0;wt<vt.length;wt++)_t=vt[wt],_t.height&&_t.width&&_t.url?bt.push({url:_t.url,width:Number(_t.width),height:Number(_t.height)}):it.console.error("Unsupported image format: %s",_t.url?_t.url:"<no URL>");return bt.sort(function(Et,Tt){return Et.height-Tt.height})}function rt(vt,bt){if(!bt||!bt.documentElement)throw new Error(it.getString("Errors.Xml"));var _t=bt.documentElement,wt=_t.tagName,Et=null,Tt=[],$t,Dt;if(wt=="image")try{for(Et={type:_t.getAttribute("type"),levels:[]},Tt=_t.getElementsByTagName("level"),Dt=0;Dt<Tt.length;Dt++)$t=Tt[Dt],Et.levels.push({url:$t.getAttribute("url"),width:parseInt($t.getAttribute("width"),10),height:parseInt($t.getAttribute("height"),10)});return st(vt,Et)}catch(Lt){throw Lt instanceof Error?Lt:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(wt=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(wt=="error")throw new Error("Error: "+bt)}throw new Error("Unknown element "+wt)}function st(vt,bt){return bt.levels}}(OpenSeadragon),function(it){it.ImageTileSource=function(nt){nt=it.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},nt),it.TileSource.apply(this,[nt])},it.extend(it.ImageTileSource.prototype,it.TileSource.prototype,{supports:function(nt,rt){return nt.type&&nt.type==="image"},configure:function(nt,rt){return nt},getImageInfo:function(nt){var rt=this._image=new Image,st=this;this.crossOriginPolicy&&(rt.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(rt.useCredentials=this.ajaxWithCredentials),it.addEvent(rt,"load",function(){st.width=Object.prototype.hasOwnProperty.call(rt,"naturalWidth")?rt.naturalWidth:rt.width,st.height=Object.prototype.hasOwnProperty.call(rt,"naturalHeight")?rt.naturalHeight:rt.height,st.aspectRatio=st.width/st.height,st.dimensions=new it.Point(st.width,st.height),st._tileWidth=st.width,st._tileHeight=st.height,st.tileOverlap=0,st.minLevel=0,st.levels=st._buildLevels(),st.maxLevel=st.levels.length-1,st.ready=!0,st.raiseEvent("ready",{tileSource:st})}),it.addEvent(rt,"error",function(){st.raiseEvent("open-failed",{message:"Error loading image at "+nt,source:nt})}),rt.src=nt},getLevelScale:function(nt){var rt=NaN;return nt>=this.minLevel&&nt<=this.maxLevel&&(rt=this.levels[nt].width/this.levels[this.maxLevel].width),rt},getNumTiles:function(nt){var rt=this.getLevelScale(nt);return rt?new it.Point(1,1):new it.Point(0,0)},getTileUrl:function(nt,rt,st){var vt=null;return nt>=this.minLevel&&nt<=this.maxLevel&&(vt=this.levels[nt].url),vt},getContext2D:function(nt,rt,st){var vt=null;return nt>=this.minLevel&&nt<=this.maxLevel&&(vt=this.levels[nt].context2D),vt},_buildLevels:function(){var nt=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!it.supportsCanvas||!this.useCanvas)return delete this._image,nt;var rt=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,st=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,vt=document.createElement("canvas"),bt=vt.getContext("2d");if(vt.width=rt,vt.height=st,bt.drawImage(this._image,0,0,rt,st),nt[0].context2D=bt,delete this._image,it.isCanvasTainted(vt))return nt;for(;rt>=2&&st>=2;){rt=Math.floor(rt/2),st=Math.floor(st/2);var _t=document.createElement("canvas"),wt=_t.getContext("2d");_t.width=rt,_t.height=st,wt.drawImage(vt,0,0,rt,st),nt.splice(0,0,{context2D:wt,width:rt,height:st}),vt=_t,bt=wt}return nt}})}(OpenSeadragon),function(it){it.TileSourceCollection=function(nt,rt,st,vt){it.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(it){it.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},it.Button=function(wt){var Et=this;it.EventSource.call(this),it.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:it.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:it.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},wt),this.element=wt.element||it.makeNeutralElement("div"),wt.element||(this.imgRest=it.makeTransparentImage(this.srcRest),this.imgGroup=it.makeTransparentImage(this.srcGroup),this.imgHover=it.makeTransparentImage(this.srcHover),this.imgDown=it.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",it.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",it.Browser.vendor==it.BROWSERS.FIREFOX&&it.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=it.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new it.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(Tt){Tt.insideElementPressed?(bt(Et,it.ButtonState.DOWN),Et.raiseEvent("enter",{originalEvent:Tt.originalEvent})):Tt.buttonDownAny||bt(Et,it.ButtonState.HOVER)},focusHandler:function(Tt){this.enterHandler(Tt),Et.raiseEvent("focus",{originalEvent:Tt.originalEvent})},exitHandler:function(Tt){_t(Et,it.ButtonState.GROUP),Tt.insideElementPressed&&Et.raiseEvent("exit",{originalEvent:Tt.originalEvent})},blurHandler:function(Tt){this.exitHandler(Tt),Et.raiseEvent("blur",{originalEvent:Tt.originalEvent})},pressHandler:function(Tt){bt(Et,it.ButtonState.DOWN),Et.raiseEvent("press",{originalEvent:Tt.originalEvent})},releaseHandler:function(Tt){Tt.insideElementPressed&&Tt.insideElementReleased?(_t(Et,it.ButtonState.HOVER),Et.raiseEvent("release",{originalEvent:Tt.originalEvent})):Tt.insideElementPressed?_t(Et,it.ButtonState.GROUP):bt(Et,it.ButtonState.HOVER)},clickHandler:function(Tt){Tt.quick&&Et.raiseEvent("click",{originalEvent:Tt.originalEvent})},keyHandler:function(Tt){return Tt.keyCode===13?(Et.raiseEvent("click",{originalEvent:Tt.originalEvent}),Et.raiseEvent("release",{originalEvent:Tt.originalEvent}),!1):!0}}),_t(this,it.ButtonState.REST)},it.extend(it.Button.prototype,it.EventSource.prototype,{notifyGroupEnter:function(){bt(this,it.ButtonState.GROUP)},notifyGroupExit:function(){_t(this,it.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,it.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,it.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function nt(wt){it.requestAnimationFrame(function(){rt(wt)})}function rt(wt){var Et,Tt,$t;wt.shouldFade&&(Et=it.now(),Tt=Et-wt.fadeBeginTime,$t=1-Tt/wt.fadeLength,$t=Math.min(1,$t),$t=Math.max(0,$t),wt.imgGroup&&it.setElementOpacity(wt.imgGroup,$t,!0),$t>0&&nt(wt))}function st(wt){wt.shouldFade=!0,wt.fadeBeginTime=it.now()+wt.fadeDelay,window.setTimeout(function(){nt(wt)},wt.fadeDelay)}function vt(wt){wt.shouldFade=!1,wt.imgGroup&&it.setElementOpacity(wt.imgGroup,1,!0)}function bt(wt,Et){wt.element.disabled||(Et>=it.ButtonState.GROUP&&wt.currentState==it.ButtonState.REST&&(vt(wt),wt.currentState=it.ButtonState.GROUP),Et>=it.ButtonState.HOVER&&wt.currentState==it.ButtonState.GROUP&&(wt.imgHover&&(wt.imgHover.style.visibility=""),wt.currentState=it.ButtonState.HOVER),Et>=it.ButtonState.DOWN&&wt.currentState==it.ButtonState.HOVER&&(wt.imgDown&&(wt.imgDown.style.visibility=""),wt.currentState=it.ButtonState.DOWN))}function _t(wt,Et){wt.element.disabled||(Et<=it.ButtonState.HOVER&&wt.currentState==it.ButtonState.DOWN&&(wt.imgDown&&(wt.imgDown.style.visibility="hidden"),wt.currentState=it.ButtonState.HOVER),Et<=it.ButtonState.GROUP&&wt.currentState==it.ButtonState.HOVER&&(wt.imgHover&&(wt.imgHover.style.visibility="hidden"),wt.currentState=it.ButtonState.GROUP),Et<=it.ButtonState.REST&&wt.currentState==it.ButtonState.GROUP&&(st(wt),wt.currentState=it.ButtonState.REST))}}(OpenSeadragon),function(it){it.ButtonGroup=function(nt){it.extend(!0,this,{buttons:[],clickTimeThreshold:it.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:it.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},nt);var rt=this.buttons.concat([]),st=this,vt;if(this.element=nt.element||it.makeNeutralElement("div"),!nt.group)for(this.element.style.display="inline-block",vt=0;vt<rt.length;vt++)this.element.appendChild(rt[vt].element);it.setElementTouchActionNone(this.element),this.tracker=new it.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(bt){var _t;for(_t=0;_t<st.buttons.length;_t++)st.buttons[_t].notifyGroupEnter()},exitHandler:function(bt){var _t;if(!bt.insideElementPressed)for(_t=0;_t<st.buttons.length;_t++)st.buttons[_t].notifyGroupExit()}})},it.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(it){it.Rect=function(nt,rt,st,vt,bt){this.x=typeof nt=="number"?nt:0,this.y=typeof rt=="number"?rt:0,this.width=typeof st=="number"?st:0,this.height=typeof vt=="number"?vt:0,this.degrees=typeof bt=="number"?bt:0,this.degrees=it.positiveModulo(this.degrees,360);var _t,wt;this.degrees>=270?(_t=this.getTopRight(),this.x=_t.x,this.y=_t.y,wt=this.height,this.height=this.width,this.width=wt,this.degrees-=270):this.degrees>=180?(_t=this.getBottomRight(),this.x=_t.x,this.y=_t.y,this.degrees-=180):this.degrees>=90&&(_t=this.getBottomLeft(),this.x=_t.x,this.y=_t.y,wt=this.height,this.height=this.width,this.width=wt,this.degrees-=90)},it.Rect.fromSummits=function(nt,rt,st){var vt=nt.distanceTo(rt),bt=nt.distanceTo(st),_t=rt.minus(nt),wt=Math.atan(_t.y/_t.x);return _t.x<0?wt+=Math.PI:_t.y<0&&(wt+=2*Math.PI),new it.Rect(nt.x,nt.y,vt,bt,wt/Math.PI*180)},it.Rect.prototype={clone:function(){return new it.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new it.Point(this.x,this.y)},getBottomRight:function(){return new it.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new it.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new it.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new it.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new it.Point(this.width,this.height)},equals:function(nt){return nt instanceof it.Rect&&this.x===nt.x&&this.y===nt.y&&this.width===nt.width&&this.height===nt.height&&this.degrees===nt.degrees},times:function(nt){return new it.Rect(this.x*nt,this.y*nt,this.width*nt,this.height*nt,this.degrees)},translate:function(nt){return new it.Rect(this.x+nt.x,this.y+nt.y,this.width,this.height,this.degrees)},union:function(nt){var rt=this.getBoundingBox(),st=nt.getBoundingBox(),vt=Math.min(rt.x,st.x),bt=Math.min(rt.y,st.y),_t=Math.max(rt.x+rt.width,st.x+st.width),wt=Math.max(rt.y+rt.height,st.y+st.height);return new it.Rect(vt,bt,_t-vt,wt-bt)},intersection:function(nt){var rt=1e-10,st=[],vt=this.getTopLeft();nt.containsPoint(vt,rt)&&st.push(vt);var bt=this.getTopRight();nt.containsPoint(bt,rt)&&st.push(bt);var _t=this.getBottomLeft();nt.containsPoint(_t,rt)&&st.push(_t);var wt=this.getBottomRight();nt.containsPoint(wt,rt)&&st.push(wt);var Et=nt.getTopLeft();this.containsPoint(Et,rt)&&st.push(Et);var Tt=nt.getTopRight();this.containsPoint(Tt,rt)&&st.push(Tt);var $t=nt.getBottomLeft();this.containsPoint($t,rt)&&st.push($t);var Dt=nt.getBottomRight();this.containsPoint(Dt,rt)&&st.push(Dt);for(var Lt=this._getSegments(),Bt=nt._getSegments(),Ht=0;Ht<Lt.length;Ht++)for(var Ut=Lt[Ht],It=0;It<Bt.length;It++){var jt=Bt[It],Wt=qt(Ut[0],Ut[1],jt[0],jt[1]);Wt&&st.push(Wt)}function qt(ci,hi,ei,wi){var Kt=hi.minus(ci),Ni=wi.minus(ei),ni=-Ni.x*Kt.y+Kt.x*Ni.y;if(ni===0)return null;var Fi=(Kt.x*(ci.y-ei.y)-Kt.y*(ci.x-ei.x))/ni,Xi=(Ni.x*(ci.y-ei.y)-Ni.y*(ci.x-ei.x))/ni;return-rt<=Fi&&Fi<=1-rt&&-rt<=Xi&&Xi<=1-rt?new it.Point(ci.x+Xi*Kt.x,ci.y+Xi*Kt.y):null}if(st.length===0)return null;for(var Yt=st[0].x,ti=st[0].x,oi=st[0].y,si=st[0].y,di=1;di<st.length;di++){var ui=st[di];ui.x<Yt&&(Yt=ui.x),ui.x>ti&&(ti=ui.x),ui.y<oi&&(oi=ui.y),ui.y>si&&(si=ui.y)}return new it.Rect(Yt,oi,ti-Yt,si-oi)},_getSegments:function(){var nt=this.getTopLeft(),rt=this.getTopRight(),st=this.getBottomLeft(),vt=this.getBottomRight();return[[nt,rt],[rt,vt],[vt,st],[st,nt]]},rotate:function(nt,rt){if(nt=it.positiveModulo(nt,360),nt===0)return this.clone();rt=rt||this.getCenter();var st=this.getTopLeft().rotate(nt,rt),vt=this.getTopRight().rotate(nt,rt),bt=vt.minus(st);bt=bt.apply(function(wt){var Et=1e-15;return Math.abs(wt)<Et?0:wt});var _t=Math.atan(bt.y/bt.x);return bt.x<0?_t+=Math.PI:bt.y<0&&(_t+=2*Math.PI),new it.Rect(st.x,st.y,this.width,this.height,_t/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var nt=this.getTopLeft(),rt=this.getTopRight(),st=this.getBottomLeft(),vt=this.getBottomRight(),bt=Math.min(nt.x,rt.x,st.x,vt.x),_t=Math.max(nt.x,rt.x,st.x,vt.x),wt=Math.min(nt.y,rt.y,st.y,vt.y),Et=Math.max(nt.y,rt.y,st.y,vt.y);return new it.Rect(bt,wt,_t-bt,Et-wt)},getIntegerBoundingBox:function(){var nt=this.getBoundingBox(),rt=Math.floor(nt.x),st=Math.floor(nt.y),vt=Math.ceil(nt.width+nt.x-rt),bt=Math.ceil(nt.height+nt.y-st);return new it.Rect(rt,st,vt,bt)},containsPoint:function(nt,rt){rt=rt||0;var st=this.getTopLeft(),vt=this.getTopRight(),bt=this.getBottomLeft(),_t=vt.minus(st),wt=bt.minus(st);return(nt.x-st.x)*_t.x+(nt.y-st.y)*_t.y>=-rt&&(nt.x-vt.x)*_t.x+(nt.y-vt.y)*_t.y<=rt&&(nt.x-st.x)*wt.x+(nt.y-st.y)*wt.y>=-rt&&(nt.x-bt.x)*wt.x+(nt.y-bt.y)*wt.y<=rt},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(it){var nt={};it.ReferenceStrip=function(Tt){var $t=this,Dt=Tt.viewer,Lt=it.getElementSize(Dt.element),Bt,Ht,Ut;for(Tt.id||(Tt.id="referencestrip-"+it.now(),this.element=it.makeNeutralElement("div"),this.element.id=Tt.id,this.element.className="referencestrip"),Tt=it.extend(!0,{sizeRatio:it.DEFAULT_SETTINGS.referenceStripSizeRatio,position:it.DEFAULT_SETTINGS.referenceStripPosition,scroll:it.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:it.DEFAULT_SETTINGS.clickTimeThreshold},Tt,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),it.extend(this,Tt),nt[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,Ht=this.element.style,Ht.marginTop="0px",Ht.marginRight="0px",Ht.marginBottom="0px",Ht.marginLeft="0px",Ht.left="0px",Ht.bottom="0px",Ht.border="0px",Ht.background="#000",Ht.position="relative",it.setElementTouchActionNone(this.element),it.setElementOpacity(this.element,.8),this.viewer=Dt,this.innerTracker=new it.MouseTracker({element:this.element,dragHandler:it.delegate(this,rt),scrollHandler:it.delegate(this,st),enterHandler:it.delegate(this,bt),exitHandler:it.delegate(this,_t),keyDownHandler:it.delegate(this,wt),keyHandler:it.delegate(this,Et)}),Tt.width&&Tt.height?(this.element.style.width=Tt.width+"px",this.element.style.height=Tt.height+"px",Dt.addControl(this.element,{anchor:it.ControlAnchor.BOTTOM_LEFT})):Tt.scroll=="horizontal"?(this.element.style.width=Lt.x*Tt.sizeRatio*Dt.tileSources.length+12*Dt.tileSources.length+"px",this.element.style.height=Lt.y*Tt.sizeRatio+"px",Dt.addControl(this.element,{anchor:it.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=Lt.y*Tt.sizeRatio*Dt.tileSources.length+12*Dt.tileSources.length+"px",this.element.style.width=Lt.x*Tt.sizeRatio+"px",Dt.addControl(this.element,{anchor:it.ControlAnchor.TOP_LEFT})),this.panelWidth=Lt.x*this.sizeRatio+8,this.panelHeight=Lt.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},Ut=0;Ut<Dt.tileSources.length;Ut++)Bt=it.makeNeutralElement("div"),Bt.id=this.element.id+"-"+Ut,Bt.style.width=$t.panelWidth+"px",Bt.style.height=$t.panelHeight+"px",Bt.style.display="inline",Bt.style.float="left",Bt.style.cssFloat="left",Bt.style.styleFloat="left",Bt.style.padding="2px",it.setElementTouchActionNone(Bt),Bt.innerTracker=new it.MouseTracker({element:Bt,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(It){It.eventSource.dragging=it.now()},releaseHandler:function(It){var jt=It.eventSource,Wt=jt.element.id,qt=Number(Wt.split("-")[2]),Yt=it.now();It.insideElementPressed&&It.insideElementReleased&&jt.dragging&&Yt-jt.dragging<jt.clickTimeThreshold&&(jt.dragging=null,Dt.goToPage(qt))}}),this.element.appendChild(Bt),Bt.activePanel=!1,this.panels.push(Bt);vt(this,this.scroll=="vertical"?Lt.y:Lt.x,0),this.setFocus(0)},it.extend(it.ReferenceStrip.prototype,it.EventSource.prototype,it.Viewer.prototype,{setFocus:function(Tt){var $t=this.element.querySelector("#"+this.element.id+"-"+Tt),Dt=it.getElementSize(this.viewer.canvas),Lt=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Ht=-Number(this.element.style.marginLeft.replace("px","")),Ut=-Number(this.element.style.marginTop.replace("px","")),It;this.currentSelected!==$t&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=$t,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(It=Number(Tt)*(this.panelWidth+3),It>Ht+Dt.x-this.panelWidth?(It=Math.min(It,Lt-Dt.x),this.element.style.marginLeft=-It+"px",vt(this,Dt.x,-It)):It<Ht&&(It=Math.max(0,It-Dt.x/2),this.element.style.marginLeft=-It+"px",vt(this,Dt.x,-It))):(It=Number(Tt)*(this.panelHeight+3),It>Ut+Dt.y-this.panelHeight?(It=Math.min(It,Bt-Dt.y),this.element.style.marginTop=-It+"px",vt(this,Dt.y,-It)):It<Ut&&(It=Math.max(0,It-Dt.y/2),this.element.style.marginTop=-It+"px",vt(this,Dt.y,-It))),this.currentPage=Tt,bt.call(this,{eventSource:this.innerTracker}))},update:function(){return nt[this.id].animating?(it.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var Tt in this.miniViewers)this.miniViewers[Tt].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function rt(Tt){var $t=Number(this.element.style.marginLeft.replace("px","")),Dt=Number(this.element.style.marginTop.replace("px","")),Lt=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Ht=it.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-Tt.delta.x>0?$t>-(Lt-Ht.x)&&(this.element.style.marginLeft=$t+Tt.delta.x*2+"px",vt(this,Ht.x,$t+Tt.delta.x*2)):-Tt.delta.x<0&&$t<0&&(this.element.style.marginLeft=$t+Tt.delta.x*2+"px",vt(this,Ht.x,$t+Tt.delta.x*2)):-Tt.delta.y>0?Dt>-(Bt-Ht.y)&&(this.element.style.marginTop=Dt+Tt.delta.y*2+"px",vt(this,Ht.y,Dt+Tt.delta.y*2)):-Tt.delta.y<0&&Dt<0&&(this.element.style.marginTop=Dt+Tt.delta.y*2+"px",vt(this,Ht.y,Dt+Tt.delta.y*2))),!1}function st(Tt){var $t=Number(this.element.style.marginLeft.replace("px","")),Dt=Number(this.element.style.marginTop.replace("px","")),Lt=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Ht=it.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?Tt.scroll>0?$t>-(Lt-Ht.x)&&(this.element.style.marginLeft=$t-Tt.scroll*60+"px",vt(this,Ht.x,$t-Tt.scroll*60)):Tt.scroll<0&&$t<0&&(this.element.style.marginLeft=$t-Tt.scroll*60+"px",vt(this,Ht.x,$t-Tt.scroll*60)):Tt.scroll<0?Dt>Ht.y-Bt&&(this.element.style.marginTop=Dt+Tt.scroll*60+"px",vt(this,Ht.y,Dt+Tt.scroll*60)):Tt.scroll>0&&Dt<0&&(this.element.style.marginTop=Dt+Tt.scroll*60+"px",vt(this,Ht.y,Dt+Tt.scroll*60))),!1}function vt(Tt,$t,Dt){var Lt,Bt,Ht,Ut,It,jt,Wt;for(Tt.scroll=="horizontal"?Lt=Tt.panelWidth:Lt=Tt.panelHeight,Bt=Math.ceil($t/Lt)+5,Ht=Math.ceil((Math.abs(Dt)+$t)/Lt)+1,Bt=Ht-Bt,Bt=Bt<0?0:Bt,jt=Bt;jt<Ht&&jt<Tt.panels.length;jt++)if(Wt=Tt.panels[jt],!Wt.activePanel){var qt,Yt=Tt.viewer.tileSources[jt];Yt.referenceStripThumbnailUrl?qt={type:"image",url:Yt.referenceStripThumbnailUrl}:qt=Yt,Ut=new it.Viewer({id:Wt.id,tileSources:[qt],element:Wt,navigatorSizeRatio:Tt.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:Tt.viewer.loadTilesWithAjax,ajaxHeaders:Tt.viewer.ajaxHeaders,useCanvas:Tt.useCanvas}),Ut.displayRegion=it.makeNeutralElement("div"),Ut.displayRegion.id=Wt.id+"-displayregion",Ut.displayRegion.className="displayregion",It=Ut.displayRegion.style,It.position="relative",It.top="0px",It.left="0px",It.fontSize="0px",It.overflow="hidden",It.float="left",It.cssFloat="left",It.styleFloat="left",It.zIndex=999999999,It.cursor="default",It.width=Tt.panelWidth-4+"px",It.height=Tt.panelHeight-4+"px",Ut.displayRegion.innerTracker=new it.MouseTracker({element:Ut.displayRegion,startDisabled:!0}),Wt.getElementsByTagName("div")[0].appendChild(Ut.displayRegion),Tt.miniViewers[Wt.id]=Ut,Wt.activePanel=!0}}function bt(Tt){var $t=Tt.eventSource.element;return this.scroll=="horizontal"?$t.style.marginBottom="0px":$t.style.marginLeft="0px",!1}function _t(Tt){var $t=Tt.eventSource.element;return this.scroll=="horizontal"?$t.style.marginBottom="-"+it.getElementSize($t).y/2+"px":$t.style.marginLeft="-"+it.getElementSize($t).x/2+"px",!1}function wt(Tt){if(!Tt.preventDefaultAction&&!Tt.ctrl&&!Tt.alt&&!Tt.meta)switch(Tt.keyCode){case 38:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function Et(Tt){if(!Tt.preventDefaultAction&&!Tt.ctrl&&!Tt.alt&&!Tt.meta)switch(Tt.keyCode){case 61:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(it){it.DisplayRect=function(nt,rt,st,vt,bt,_t){it.Rect.apply(this,[nt,rt,st,vt]),this.minLevel=bt,this.maxLevel=_t},it.extend(it.DisplayRect.prototype,it.Rect.prototype)}(OpenSeadragon),function(it){it.Spring=function(rt){var st=arguments;typeof rt!="object"&&(rt={initial:st.length&&typeof st[0]=="number"?st[0]:void 0,springStiffness:st.length>1?st[1].springStiffness:5,animationTime:st.length>1?st[1].animationTime:1.5}),it.console.assert(typeof rt.springStiffness=="number"&&rt.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),it.console.assert(typeof rt.animationTime=="number"&&rt.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),rt.exponential&&(this._exponential=!0,delete rt.exponential),it.extend(!0,this,rt),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:it.now()},it.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},it.Spring.prototype={resetTo:function(rt){it.console.assert(!this._exponential||rt!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=rt,this.start.time=this.target.time=this.current.time=it.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(rt){it.console.assert(!this._exponential||rt!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=rt,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(rt){this.start.value+=rt,this.target.value+=rt,this._exponential&&(it.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(rt){this._exponential=rt,this._exponential&&(it.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=it.now();var rt,st;this._exponential?(rt=this.start._logValue,st=this.target._logValue):(rt=this.start.value,st=this.target.value);var vt=this.current.time>=this.target.time?st:rt+(st-rt)*nt(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),bt=this.current.value;return this._exponential?this.current.value=Math.exp(vt):this.current.value=vt,bt!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function nt(rt,st){return(1-Math.exp(rt*-st))/(1-Math.exp(-rt))}}(OpenSeadragon),function(it){function nt(st){it.extend(!0,this,{timeout:it.DEFAULT_SETTINGS.timeout,jobId:null},st),this.image=null}nt.prototype={errorMsg:null,start:function(){var st=this,vt=this.abort;this.image=new Image,this.image.onload=function(){st.finish(!0)},this.image.onabort=this.image.onerror=function(){st.errorMsg="Image load aborted",st.finish(!1)},this.jobId=window.setTimeout(function(){st.errorMsg="Image load exceeded timeout ("+st.timeout+" ms)",st.finish(!1)},this.timeout),this.loadWithAjax?(this.request=it.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(bt){var _t;try{_t=new window.Blob([bt.response])}catch($t){var wt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if($t.name==="TypeError"&&wt){var Et=new wt;Et.append(bt.response),_t=Et.getBlob()}}_t.size===0&&(st.errorMsg="Empty image response.",st.finish(!1));var Tt=(window.URL||window.webkitURL).createObjectURL(_t);st.image.src=Tt},error:function(bt){st.errorMsg="Image load aborted - XHR error",st.finish(!1)}}),this.abort=function(){st.request.abort(),typeof vt=="function"&&vt()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(st){this.image.onload=this.image.onerror=this.image.onabort=null,st||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},it.ImageLoader=function(st){it.extend(!0,this,{jobLimit:it.DEFAULT_SETTINGS.imageLoaderLimit,timeout:it.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},st)},it.ImageLoader.prototype={addJob:function(st){var vt=this,bt=function(Et){rt(vt,Et,st.callback)},_t={src:st.src,loadWithAjax:st.loadWithAjax,ajaxHeaders:st.loadWithAjax?st.ajaxHeaders:null,crossOriginPolicy:st.crossOriginPolicy,ajaxWithCredentials:st.ajaxWithCredentials,callback:bt,abort:st.abort,timeout:this.timeout},wt=new nt(_t);!this.jobLimit||this.jobsInProgress<this.jobLimit?(wt.start(),this.jobsInProgress++):this.jobQueue.push(wt)},clear:function(){for(var st=0;st<this.jobQueue.length;st++){var vt=this.jobQueue[st];typeof vt.abort=="function"&&vt.abort()}this.jobQueue=[]}};function rt(st,vt,bt){var _t;st.jobsInProgress--,(!st.jobLimit||st.jobsInProgress<st.jobLimit)&&st.jobQueue.length>0&&(_t=st.jobQueue.shift(),_t.start(),st.jobsInProgress++),bt(vt.image,vt.errorMsg,vt.request)}}(OpenSeadragon),function(it){it.Tile=function(nt,rt,st,vt,bt,_t,wt,Et,Tt,$t){this.level=nt,this.x=rt,this.y=st,this.bounds=vt,this.sourceBounds=$t,this.exists=bt,this.url=_t,this.context2D=wt,this.loadWithAjax=Et,this.ajaxHeaders=Tt,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},it.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(nt){if(!this.cacheImageRecord){it.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){it.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=it.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=nt&&nt.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",it.setElementOpacity(this.element,this.opacity)},drawCanvas:function(nt,rt,st,vt){var bt=this.position.times(it.pixelDensityRatio),_t=this.size.times(it.pixelDensityRatio),wt;if(!this.context2D&&!this.cacheImageRecord){it.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(wt=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!wt){it.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}nt.save(),nt.globalAlpha=this.opacity,typeof st=="number"&&st!==1&&(bt=bt.times(st),_t=_t.times(st)),vt instanceof it.Point&&(bt=bt.plus(vt)),nt.globalAlpha===1&&this._hasTransparencyChannel()&&nt.clearRect(bt.x,bt.y,_t.x,_t.y),rt({context:nt,tile:this,rendered:wt});var Et,Tt;this.sourceBounds?(Et=Math.min(this.sourceBounds.width,wt.canvas.width),Tt=Math.min(this.sourceBounds.height,wt.canvas.height)):(Et=wt.canvas.width,Tt=wt.canvas.height),nt.drawImage(wt.canvas,0,0,Et,Tt,bt.x,bt.y,_t.x,_t.y),nt.restore()},getScaleForEdgeSmoothing:function(){var nt;if(this.cacheImageRecord)nt=this.cacheImageRecord.getRenderedContext();else if(this.context2D)nt=this.context2D;else return it.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return nt.canvas.width/(this.size.x*it.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(nt,rt,st){var vt=Math.max(1,Math.ceil((st.x-rt.x)/2)),bt=Math.max(1,Math.ceil((st.y-rt.y)/2));return new it.Point(vt,bt).minus(this.position.times(it.pixelDensityRatio).times(nt||1).apply(function(_t){return _t%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(it){it.OverlayPlacement=it.Placement,it.OverlayRotationMode=it.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),it.Overlay=function(nt,rt,st){var vt;it.isPlainObject(nt)?vt=nt:vt={element:nt,location:rt,placement:st},this.element=vt.element,this.style=vt.element.style,this._init(vt)},it.Overlay.prototype={_init:function(nt){this.location=nt.location,this.placement=nt.placement===void 0?it.Placement.TOP_LEFT:nt.placement,this.onDraw=nt.onDraw,this.checkResize=nt.checkResize===void 0?!0:nt.checkResize,this.width=nt.width===void 0?null:nt.width,this.height=nt.height===void 0?null:nt.height,this.rotationMode=nt.rotationMode||it.OverlayRotationMode.EXACT,this.location instanceof it.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=it.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new it.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(nt,rt){var st=it.Placement.properties[this.placement];!st||(st.isHorizontallyCentered?nt.x-=rt.x/2:st.isRight&&(nt.x-=rt.x),st.isVerticallyCentered?nt.y-=rt.y/2:st.isBottom&&(nt.y-=rt.y))},destroy:function(){var nt=this.element,rt=this.style;nt.parentNode&&(nt.parentNode.removeChild(nt),nt.prevElementParent&&(rt.display="none",document.body.appendChild(nt))),this.onDraw=null,rt.top="",rt.left="",rt.position="",this.width!==null&&(rt.width=""),this.height!==null&&(rt.height="");var st=it.getCssPropertyWithVendorPrefix("transformOrigin"),vt=it.getCssPropertyWithVendorPrefix("transform");st&&vt&&(rt[st]="",rt[vt]="")},drawHTML:function(nt,rt){var st=this.element;st.parentNode!==nt&&(st.prevElementParent=st.parentNode,st.prevNextSibling=st.nextSibling,nt.appendChild(st),this.style.position="absolute",this.size=it.getElementSize(st));var vt=this._getOverlayPositionAndSize(rt),bt=vt.position,_t=this.size=vt.size,wt=vt.rotate;if(this.onDraw)this.onDraw(bt,_t,this.element);else{var Et=this.style;Et.left=bt.x+"px",Et.top=bt.y+"px",this.width!==null&&(Et.width=_t.x+"px"),this.height!==null&&(Et.height=_t.y+"px");var Tt=it.getCssPropertyWithVendorPrefix("transformOrigin"),$t=it.getCssPropertyWithVendorPrefix("transform");Tt&&$t&&(wt?(Et[Tt]=this._getTransformOrigin(),Et[$t]="rotate("+wt+"deg)"):(Et[Tt]="",Et[$t]="")),Et.display!=="none"&&(Et.display="block")}},_getOverlayPositionAndSize:function(nt){var rt=nt.pixelFromPoint(this.location,!0),st=this._getSizeInPixels(nt);this.adjust(rt,st);var vt=0;if(nt.degrees&&this.rotationMode!==it.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===it.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var bt=new it.Rect(rt.x,rt.y,st.x,st.y),_t=this._getBoundingBox(bt,nt.degrees);rt=_t.getTopLeft(),st=_t.getSize()}else vt=nt.degrees;return{position:rt,size:st,rotate:vt}},_getSizeInPixels:function(nt){var rt=this.size.x,st=this.size.y;if(this.width!==null||this.height!==null){var vt=nt.deltaPixelsFromPointsNoRotate(new it.Point(this.width||0,this.height||0),!0);this.width!==null&&(rt=vt.x),this.height!==null&&(st=vt.y)}if(this.checkResize&&(this.width===null||this.height===null)){var bt=this.size=it.getElementSize(this.element);this.width===null&&(rt=bt.x),this.height===null&&(st=bt.y)}return new it.Point(rt,st)},_getBoundingBox:function(nt,rt){var st=this._getPlacementPoint(nt);return nt.rotate(rt,st).getBoundingBox()},_getPlacementPoint:function(nt){var rt=new it.Point(nt.x,nt.y),st=it.Placement.properties[this.placement];return st&&(st.isHorizontallyCentered?rt.x+=nt.width/2:st.isRight&&(rt.x+=nt.width),st.isVerticallyCentered?rt.y+=nt.height/2:st.isBottom&&(rt.y+=nt.height)),rt},_getTransformOrigin:function(){var nt="",rt=it.Placement.properties[this.placement];return rt&&(rt.isLeft?nt="left":rt.isRight&&(nt="right"),rt.isTop?nt+=" top":rt.isBottom&&(nt+=" bottom")),nt},update:function(nt,rt){var st=it.isPlainObject(nt)?nt:{location:nt,placement:rt};this._init({location:st.location||this.location,placement:st.placement!==void 0?st.placement:this.placement,onDraw:st.onDraw||this.onDraw,checkResize:st.checkResize||this.checkResize,width:st.width!==void 0?st.width:this.width,height:st.height!==void 0?st.height:this.height,rotationMode:st.rotationMode||this.rotationMode})},getBounds:function(nt){it.console.assert(nt,"A viewport must now be passed to Overlay.getBounds.");var rt=this.width,st=this.height;if(rt===null||st===null){var vt=nt.deltaPointsFromPixelsNoRotate(this.size,!0);rt===null&&(rt=vt.x),st===null&&(st=vt.y)}var bt=this.location.clone();return this.adjust(bt,new it.Point(rt,st)),this._adjustBoundsForRotation(nt,new it.Rect(bt.x,bt.y,rt,st))},_adjustBoundsForRotation:function(nt,rt){if(!nt||nt.degrees===0||this.rotationMode===it.OverlayRotationMode.EXACT)return rt;if(this.rotationMode===it.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return rt;var st=this._getOverlayPositionAndSize(nt);return nt.viewerElementToViewportRectangle(new it.Rect(st.position.x,st.position.y,st.size.x,st.size.y))}return rt.rotate(-nt.degrees,this._getPlacementPoint(rt))}}}(OpenSeadragon),function(it){it.Drawer=function(nt){it.console.assert(nt.viewer,"[Drawer] options.viewer is required");var rt=arguments;if(it.isPlainObject(nt)||(nt={source:rt[0],viewport:rt[1],element:rt[2]}),it.console.assert(nt.viewport,"[Drawer] options.viewport is required"),it.console.assert(nt.element,"[Drawer] options.element is required"),nt.source&&it.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=nt.viewer,this.viewport=nt.viewport,this.debugGridColor=typeof nt.debugGridColor=="string"?[nt.debugGridColor]:nt.debugGridColor||it.DEFAULT_SETTINGS.debugGridColor,nt.opacity&&it.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=it.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=it.getElement(nt.element),this.canvas=it.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var st=this._calculateCanvasSize();this.canvas.width=st.x,this.canvas.height=st.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",it.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},it.Drawer.prototype={addOverlay:function(nt,rt,st,vt){return it.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(nt,rt,st,vt),this},updateOverlay:function(nt,rt,st){return it.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(nt,rt,st),this},removeOverlay:function(nt){return it.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(nt),this},clearOverlays:function(){return it.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(nt){var rt=this.viewport.pixelFromPointNoRotate(nt,!0);return new it.Point(rt.x*it.pixelDensityRatio,rt.y*it.pixelDensityRatio)},clipWithPolygons:function(nt,rt){if(!!this.useCanvas){var st=this._getContext(rt);st.beginPath(),nt.forEach(function(vt){vt.forEach(function(bt,_t){st[_t===0?"moveTo":"lineTo"](bt.x,bt.y)})}),st.clip()}},setOpacity:function(nt){it.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var rt=this.viewer.world,st=0;st<rt.getItemCount();st++)rt.getItemAt(st).setOpacity(nt);return this},getOpacity:function(){it.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var nt=this.viewer.world,rt=0,st=0;st<nt.getItemCount();st++){var vt=nt.getItemAt(st).getOpacity();vt>rt&&(rt=vt)}return rt},needsUpdate:function(){return it.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return it.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return it.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return it.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var nt=this._calculateCanvasSize();if((this.canvas.width!=nt.x||this.canvas.height!=nt.y)&&(this.canvas.width=nt.x,this.canvas.height=nt.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var rt=this._calculateSketchCanvasSize();this.sketchCanvas.width=rt.x,this.sketchCanvas.height=rt.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(nt,rt){if(!!this.useCanvas){var st=this._getContext(nt);if(rt)st.clearRect(rt.x,rt.y,rt.width,rt.height);else{var vt=st.canvas;st.clearRect(0,0,vt.width,vt.height)}}},viewportToDrawerRectangle:function(nt){var rt=this.viewport.pixelFromPointNoRotate(nt.getTopLeft(),!0),st=this.viewport.deltaPixelsFromPointsNoRotate(nt.getSize(),!0);return new it.Rect(rt.x*it.pixelDensityRatio,rt.y*it.pixelDensityRatio,st.x*it.pixelDensityRatio,st.y*it.pixelDensityRatio)},drawTile:function(nt,rt,st,vt,bt){if(it.console.assert(nt,"[Drawer.drawTile] tile is required"),it.console.assert(rt,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var _t=this._getContext(st);vt=vt||1,nt.drawCanvas(_t,rt,vt,bt)}else nt.drawHTML(this.canvas)},_getContext:function(nt){var rt=this.context;if(nt){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var st=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=st.x,this.sketchCanvas.height=st.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var vt=this;this.viewer.addHandler("rotate",function bt(){if(vt.viewport.getRotation()!==0){vt.viewer.removeHandler("rotate",bt);var _t=vt._calculateSketchCanvasSize();vt.sketchCanvas.width=_t.x,vt.sketchCanvas.height=_t.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}rt=this.sketchContext}return rt},saveContext:function(nt){!this.useCanvas||this._getContext(nt).save()},restoreContext:function(nt){!this.useCanvas||this._getContext(nt).restore()},setClip:function(nt,rt){if(!!this.useCanvas){var st=this._getContext(rt);st.beginPath(),st.rect(nt.x,nt.y,nt.width,nt.height),st.clip()}},drawRectangle:function(nt,rt,st){if(!!this.useCanvas){var vt=this._getContext(st);vt.save(),vt.fillStyle=rt,vt.fillRect(nt.x,nt.y,nt.width,nt.height),vt.restore()}},blendSketch:function(nt,rt,st,vt){var bt=nt;if(it.isPlainObject(bt)||(bt={opacity:nt,scale:rt,translate:st,compositeOperation:vt}),!(!this.useCanvas||!this.sketchCanvas)){nt=bt.opacity,vt=bt.compositeOperation;var _t=bt.bounds;if(this.context.save(),this.context.globalAlpha=nt,vt&&(this.context.globalCompositeOperation=vt),_t)_t.x<0&&(_t.width+=_t.x,_t.x=0),_t.x+_t.width>this.canvas.width&&(_t.width=this.canvas.width-_t.x),_t.y<0&&(_t.height+=_t.y,_t.y=0),_t.y+_t.height>this.canvas.height&&(_t.height=this.canvas.height-_t.y),this.context.drawImage(this.sketchCanvas,_t.x,_t.y,_t.width,_t.height,_t.x,_t.y,_t.width,_t.height);else{rt=bt.scale||1,st=bt.translate;var wt=st instanceof it.Point?st:new it.Point(0,0),Et=0,Tt=0;if(st){var $t=this.sketchCanvas.width-this.canvas.width,Dt=this.sketchCanvas.height-this.canvas.height;Et=Math.round($t/2),Tt=Math.round(Dt/2)}this.context.drawImage(this.sketchCanvas,wt.x-Et*rt,wt.y-Tt*rt,(this.canvas.width+2*Et)*rt,(this.canvas.height+2*Tt)*rt,-Et,-Tt,this.canvas.width+2*Et,this.canvas.height+2*Tt)}this.context.restore()}},drawDebugInfo:function(nt,rt,st,vt){if(!!this.useCanvas){var bt=this.viewer.world.getIndexOfItem(vt)%this.debugGridColor.length,_t=this.context;_t.save(),_t.lineWidth=2*it.pixelDensityRatio,_t.font="small-caps bold "+13*it.pixelDensityRatio+"px arial",_t.strokeStyle=this.debugGridColor[bt],_t.fillStyle=this.debugGridColor[bt],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),vt.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:vt.getRotation(!0),point:vt.viewport.pixelFromPointNoRotate(vt._getRotationPoint(!0),!0)}),vt.viewport.degrees===0&&vt.getRotation(!0)%360===0&&vt._drawer.viewer.viewport.getFlip()&&vt._drawer._flip(),_t.strokeRect(nt.position.x*it.pixelDensityRatio,nt.position.y*it.pixelDensityRatio,nt.size.x*it.pixelDensityRatio,nt.size.y*it.pixelDensityRatio);var wt=(nt.position.x+nt.size.x/2)*it.pixelDensityRatio,Et=(nt.position.y+nt.size.y/2)*it.pixelDensityRatio;_t.translate(wt,Et),_t.rotate(Math.PI/180*-this.viewport.degrees),_t.translate(-wt,-Et),nt.x===0&&nt.y===0&&(_t.fillText("Zoom: "+this.viewport.getZoom(),nt.position.x*it.pixelDensityRatio,(nt.position.y-30)*it.pixelDensityRatio),_t.fillText("Pan: "+this.viewport.getBounds().toString(),nt.position.x*it.pixelDensityRatio,(nt.position.y-20)*it.pixelDensityRatio)),_t.fillText("Level: "+nt.level,(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+20)*it.pixelDensityRatio),_t.fillText("Column: "+nt.x,(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+30)*it.pixelDensityRatio),_t.fillText("Row: "+nt.y,(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+40)*it.pixelDensityRatio),_t.fillText("Order: "+st+" of "+rt,(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+50)*it.pixelDensityRatio),_t.fillText("Size: "+nt.size.toString(),(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+60)*it.pixelDensityRatio),_t.fillText("Position: "+nt.position.toString(),(nt.position.x+10)*it.pixelDensityRatio,(nt.position.y+70)*it.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),vt.getRotation(!0)%360!==0&&this._restoreRotationChanges(),vt.viewport.degrees===0&&vt.getRotation(!0)%360===0&&vt._drawer.viewer.viewport.getFlip()&&vt._drawer._flip(),_t.restore()}},debugRect:function(nt){if(this.useCanvas){var rt=this.context;rt.save(),rt.lineWidth=2*it.pixelDensityRatio,rt.strokeStyle=this.debugGridColor[0],rt.fillStyle=this.debugGridColor[0],rt.strokeRect(nt.x*it.pixelDensityRatio,nt.y*it.pixelDensityRatio,nt.width*it.pixelDensityRatio,nt.height*it.pixelDensityRatio),rt.restore()}},setImageSmoothingEnabled:function(nt){this.useCanvas&&(this._imageSmoothingEnabled=nt,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(nt){nt.msImageSmoothingEnabled=this._imageSmoothingEnabled,nt.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(nt){var rt=this._getContext(nt).canvas;return new it.Point(rt.width,rt.height)},getCanvasCenter:function(){return new it.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(nt){var rt=nt.point?nt.point.times(it.pixelDensityRatio):this.getCanvasCenter(),st=this._getContext(nt.useSketch);st.save(),st.translate(rt.x,rt.y),this.viewer.viewport.flipped?(st.rotate(Math.PI/180*-nt.degrees),st.scale(-1,1)):st.rotate(Math.PI/180*nt.degrees),st.translate(-rt.x,-rt.y)},_flip:function(nt){nt=nt||{};var rt=nt.point?nt.point.times(it.pixelDensityRatio):this.getCanvasCenter(),st=this._getContext(nt.useSketch);st.translate(rt.x,0),st.scale(-1,1),st.translate(-rt.x,0)},_restoreRotationChanges:function(nt){var rt=this._getContext(nt);rt.restore()},_calculateCanvasSize:function(){var nt=it.pixelDensityRatio,rt=this.viewport.getContainerSize();return{x:Math.round(rt.x*nt),y:Math.round(rt.y*nt)}},_calculateSketchCanvasSize:function(){var nt=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return nt;var rt=Math.ceil(Math.sqrt(nt.x*nt.x+nt.y*nt.y));return{x:rt,y:rt}}}}(OpenSeadragon),function(it){it.Viewport=function(nt){var rt=arguments;rt.length&&rt[0]instanceof it.Point&&(nt={containerSize:rt[0],contentSize:rt[1],config:rt[2]}),nt.config&&(it.extend(!0,nt,nt.config),delete nt.config),this._margins=it.extend({left:0,top:0,right:0,bottom:0},nt.margins||{}),delete nt.margins,it.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:it.DEFAULT_SETTINGS.springStiffness,animationTime:it.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:it.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:it.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:it.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:it.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:it.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:it.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:it.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:it.DEFAULT_SETTINGS.maxZoomLevel,degrees:it.DEFAULT_SETTINGS.degrees,flipped:it.DEFAULT_SETTINGS.flipped,homeFillsViewer:it.DEFAULT_SETTINGS.homeFillsViewer},nt),this._updateContainerInnerSize(),this.centerSpringX=new it.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new it.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new it.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new it.Rect(0,0,1,1),1),this.goHome(!0),this.update()},it.Viewport.prototype={resetContentSize:function(nt){return it.console.assert(nt,"[Viewport.resetContentSize] contentSize is required"),it.console.assert(nt instanceof it.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),it.console.assert(nt.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),it.console.assert(nt.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new it.Rect(0,0,1,nt.y/nt.x),nt.x),this},setHomeBounds:function(nt,rt){it.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(nt,rt)},_setContentBounds:function(nt,rt){it.console.assert(nt,"[Viewport._setContentBounds] bounds is required"),it.console.assert(nt instanceof it.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),it.console.assert(nt.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),it.console.assert(nt.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=nt.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(rt),this._contentBounds=nt.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(rt),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:rt,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var nt=this._contentAspectRatio/this.getAspectRatio(),rt;return this.homeFillsViewer?rt=nt>=1?nt:1:rt=nt>=1?1:nt,rt/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var nt=this._contentBounds.getCenter(),rt=1/this.getHomeZoom(),st=rt/this.getAspectRatio();return new it.Rect(nt.x-rt/2,nt.y-st/2,rt,st)},goHome:function(nt){return this.viewer&&this.viewer.raiseEvent("home",{immediately:nt}),this.fitBounds(this.getHomeBounds(),nt)},getMinZoom:function(){var nt=this.getHomeZoom(),rt=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*nt;return rt},getMaxZoom:function(){var nt=this.maxZoomLevel;return nt||(nt=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,nt/=this._contentBounds.width),Math.max(nt,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new it.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return it.extend({},this._margins)},setMargins:function(nt){it.console.assert(it.type(nt)==="object","[Viewport.setMargins] margins must be an object"),this._margins=it.extend({left:0,top:0,right:0,bottom:0},nt),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(nt){return this.getBoundsNoRotate(nt).rotate(-this.getRotation())},getBoundsNoRotate:function(nt){var rt=this.getCenter(nt),st=1/this.getZoom(nt),vt=st/this.getAspectRatio();return new it.Rect(rt.x-st/2,rt.y-vt/2,st,vt)},getBoundsWithMargins:function(nt){return this.getBoundsNoRotateWithMargins(nt).rotate(-this.getRotation(),this.getCenter(nt))},getBoundsNoRotateWithMargins:function(nt){var rt=this.getBoundsNoRotate(nt),st=this._containerInnerSize.x*this.getZoom(nt);return rt.x-=this._margins.left/st,rt.y-=this._margins.top/st,rt.width+=(this._margins.left+this._margins.right)/st,rt.height+=(this._margins.top+this._margins.bottom)/st,rt},getCenter:function(nt){var rt=new it.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),st=new it.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),vt,bt,_t,wt,Et,Tt,$t,Dt;return nt?rt:this.zoomPoint?(vt=this.pixelFromPoint(this.zoomPoint,!0),bt=this.getZoom(),_t=1/bt,wt=_t/this.getAspectRatio(),Et=new it.Rect(rt.x-_t/2,rt.y-wt/2,_t,wt),Tt=this._pixelFromPoint(this.zoomPoint,Et),$t=Tt.minus(vt),Dt=$t.divide(this._containerInnerSize.x*bt),st.plus(Dt)):st},getZoom:function(nt){return nt?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(nt){return Math.max(Math.min(nt,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(nt){var rt=new it.Rect(nt.x,nt.y,nt.width,nt.height);if(!this.wrapHorizontal){var st=this.visibilityRatio*rt.width,vt=rt.x+rt.width,bt=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,_t=this._contentBoundsNoRotate.x-vt+st,wt=bt-rt.x-st;st>this._contentBoundsNoRotate.width?rt.x+=(_t+wt)/2:wt<0?rt.x+=wt:_t>0&&(rt.x+=_t)}if(!this.wrapVertical){var Et=this.visibilityRatio*rt.height,Tt=rt.y+rt.height,$t=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,Dt=this._contentBoundsNoRotate.y-Tt+Et,Lt=$t-rt.y-Et;Et>this._contentBoundsNoRotate.height?rt.y+=(Dt+Lt)/2:Lt<0?rt.y+=Lt:Dt>0&&(rt.y+=Dt)}return rt},_raiseConstraintsEvent:function(nt){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:nt})},applyConstraints:function(nt){var rt=this.getZoom(),st=this._applyZoomConstraints(rt);rt!==st&&this.zoomTo(st,this.zoomPoint,nt);var vt=this.getBoundsNoRotate(),bt=this._applyBoundaryConstraints(vt);return this._raiseConstraintsEvent(nt),(vt.x!==bt.x||vt.y!==bt.y||nt)&&this.fitBounds(bt.rotate(-this.getRotation()),nt),this},ensureVisible:function(nt){return this.applyConstraints(nt)},_fitBounds:function(nt,rt){rt=rt||{};var st=rt.immediately||!1,vt=rt.constraints||!1,bt=this.getAspectRatio(),_t=nt.getCenter(),wt=new it.Rect(nt.x,nt.y,nt.width,nt.height,nt.degrees+this.getRotation()).getBoundingBox();wt.getAspectRatio()>=bt?wt.height=wt.width/bt:wt.width=wt.height*bt,wt.x=_t.x-wt.width/2,wt.y=_t.y-wt.height/2;var Et=1/wt.width;if(vt){var Tt=wt.getAspectRatio(),$t=this._applyZoomConstraints(Et);Et!==$t&&(Et=$t,wt.width=1/Et,wt.x=_t.x-wt.width/2,wt.height=wt.width/Tt,wt.y=_t.y-wt.height/2),wt=this._applyBoundaryConstraints(wt),_t=wt.getCenter(),this._raiseConstraintsEvent(st)}if(st)return this.panTo(_t,!0),this.zoomTo(Et,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var Dt=this.getBounds(),Lt=this.getZoom();if(Lt===0||Math.abs(Et/Lt-1)<1e-8)return this.zoomTo(Et,!0),this.panTo(_t,st);wt=wt.rotate(-this.getRotation());var Bt=wt.getTopLeft().times(Et).minus(Dt.getTopLeft().times(Lt)).divide(Et-Lt);return this.zoomTo(Et,Bt,st)},fitBounds:function(nt,rt){return this._fitBounds(nt,{immediately:rt,constraints:!1})},fitBoundsWithConstraints:function(nt,rt){return this._fitBounds(nt,{immediately:rt,constraints:!0})},fitVertically:function(nt){var rt=new it.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(rt,nt)},fitHorizontally:function(nt){var rt=new it.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(rt,nt)},getConstrainedBounds:function(nt){var rt,st;return rt=this.getBounds(nt),st=this._applyBoundaryConstraints(rt),st},panBy:function(nt,rt){var st=new it.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(st.plus(nt),rt)},panTo:function(nt,rt){return rt?(this.centerSpringX.resetTo(nt.x),this.centerSpringY.resetTo(nt.y)):(this.centerSpringX.springTo(nt.x),this.centerSpringY.springTo(nt.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:nt,immediately:rt}),this},zoomBy:function(nt,rt,st){return this.zoomTo(this.zoomSpring.target.value*nt,rt,st)},zoomTo:function(nt,rt,st){var vt=this;return this.zoomPoint=rt instanceof it.Point&&!isNaN(rt.x)&&!isNaN(rt.y)?rt:null,st?this._adjustCenterSpringsForZoomPoint(function(){vt.zoomSpring.resetTo(nt)}):this.zoomSpring.springTo(nt),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:nt,refPoint:rt,immediately:st}),this},setRotation:function(nt){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=it.positiveModulo(nt,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:nt}),this)},getRotation:function(){return this.degrees},resize:function(nt,rt){var st=this.getBoundsNoRotate(),vt=st,bt;return this.containerSize.x=nt.x,this.containerSize.y=nt.y,this._updateContainerInnerSize(),rt&&(bt=nt.x/this.containerSize.x,vt.width=st.width*bt,vt.height=vt.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:nt,maintain:rt}),this.fitBounds(vt,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new it.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var nt=this;this._adjustCenterSpringsForZoomPoint(function(){nt.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var rt=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,rt},_adjustCenterSpringsForZoomPoint:function(nt){if(this.zoomPoint){var rt=this.pixelFromPoint(this.zoomPoint,!0);nt();var st=this.pixelFromPoint(this.zoomPoint,!0),vt=st.minus(rt),bt=this.deltaPointsFromPixels(vt,!0);this.centerSpringX.shiftBy(bt.x),this.centerSpringY.shiftBy(bt.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else nt()},deltaPixelsFromPointsNoRotate:function(nt,rt){return nt.times(this._containerInnerSize.x*this.getZoom(rt))},deltaPixelsFromPoints:function(nt,rt){return this.deltaPixelsFromPointsNoRotate(nt.rotate(this.getRotation()),rt)},deltaPointsFromPixelsNoRotate:function(nt,rt){return nt.divide(this._containerInnerSize.x*this.getZoom(rt))},deltaPointsFromPixels:function(nt,rt){return this.deltaPointsFromPixelsNoRotate(nt,rt).rotate(-this.getRotation())},pixelFromPointNoRotate:function(nt,rt){return this._pixelFromPointNoRotate(nt,this.getBoundsNoRotate(rt))},pixelFromPoint:function(nt,rt){return this._pixelFromPoint(nt,this.getBoundsNoRotate(rt))},_pixelFromPointNoRotate:function(nt,rt){return nt.minus(rt.getTopLeft()).times(this._containerInnerSize.x/rt.width).plus(new it.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(nt,rt){return this._pixelFromPointNoRotate(nt.rotate(this.getRotation(),this.getCenter(!0)),rt)},pointFromPixelNoRotate:function(nt,rt){var st=this.getBoundsNoRotate(rt);return nt.minus(new it.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/st.width).plus(st.getTopLeft())},pointFromPixel:function(nt,rt){return this.pointFromPixelNoRotate(nt,rt).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(nt,rt){var st=this._contentBoundsNoRotate.width;return new it.Point(nt*this._contentSizeNoRotate.x/st,rt*this._contentSizeNoRotate.x/st)},viewportToImageCoordinates:function(nt,rt){if(nt instanceof it.Point)return this.viewportToImageCoordinates(nt.x,nt.y);if(this.viewer){var st=this.viewer.world.getItemCount();if(st>1)it.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(st===1){var vt=this.viewer.world.getItemAt(0);return vt.viewportToImageCoordinates(nt,rt,!0)}}return this._viewportToImageDelta(nt-this._contentBoundsNoRotate.x,rt-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(nt,rt){var st=this._contentBoundsNoRotate.width;return new it.Point(nt/this._contentSizeNoRotate.x*st,rt/this._contentSizeNoRotate.x*st)},imageToViewportCoordinates:function(nt,rt){if(nt instanceof it.Point)return this.imageToViewportCoordinates(nt.x,nt.y);if(this.viewer){var st=this.viewer.world.getItemCount();if(st>1)it.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(st===1){var vt=this.viewer.world.getItemAt(0);return vt.imageToViewportCoordinates(nt,rt,!0)}}var bt=this._imageToViewportDelta(nt,rt);return bt.x+=this._contentBoundsNoRotate.x,bt.y+=this._contentBoundsNoRotate.y,bt},imageToViewportRectangle:function(nt,rt,st,vt){var bt=nt;if(bt instanceof it.Rect||(bt=new it.Rect(nt,rt,st,vt)),this.viewer){var _t=this.viewer.world.getItemCount();if(_t>1)it.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(_t===1){var wt=this.viewer.world.getItemAt(0);return wt.imageToViewportRectangle(nt,rt,st,vt,!0)}}var Et=this.imageToViewportCoordinates(bt.x,bt.y),Tt=this._imageToViewportDelta(bt.width,bt.height);return new it.Rect(Et.x,Et.y,Tt.x,Tt.y,bt.degrees)},viewportToImageRectangle:function(nt,rt,st,vt){var bt=nt;if(bt instanceof it.Rect||(bt=new it.Rect(nt,rt,st,vt)),this.viewer){var _t=this.viewer.world.getItemCount();if(_t>1)it.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(_t===1){var wt=this.viewer.world.getItemAt(0);return wt.viewportToImageRectangle(nt,rt,st,vt,!0)}}var Et=this.viewportToImageCoordinates(bt.x,bt.y),Tt=this._viewportToImageDelta(bt.width,bt.height);return new it.Rect(Et.x,Et.y,Tt.x,Tt.y,bt.degrees)},viewerElementToImageCoordinates:function(nt){var rt=this.pointFromPixel(nt,!0);return this.viewportToImageCoordinates(rt)},imageToViewerElementCoordinates:function(nt){var rt=this.imageToViewportCoordinates(nt);return this.pixelFromPoint(rt,!0)},windowToImageCoordinates:function(nt){it.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var rt=nt.minus(it.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(rt)},imageToWindowCoordinates:function(nt){it.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var rt=this.imageToViewerElementCoordinates(nt);return rt.plus(it.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(nt){return this.pointFromPixel(nt,!0)},viewportToViewerElementCoordinates:function(nt){return this.pixelFromPoint(nt,!0)},viewerElementToViewportRectangle:function(nt){return it.Rect.fromSummits(this.pointFromPixel(nt.getTopLeft(),!0),this.pointFromPixel(nt.getTopRight(),!0),this.pointFromPixel(nt.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(nt){return it.Rect.fromSummits(this.pixelFromPoint(nt.getTopLeft(),!0),this.pixelFromPoint(nt.getTopRight(),!0),this.pixelFromPoint(nt.getBottomLeft(),!0))},windowToViewportCoordinates:function(nt){it.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var rt=nt.minus(it.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(rt)},viewportToWindowCoordinates:function(nt){it.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var rt=this.viewportToViewerElementCoordinates(nt);return rt.plus(it.getElementPosition(this.viewer.element))},viewportToImageZoom:function(nt){if(this.viewer){var rt=this.viewer.world.getItemCount();if(rt>1)it.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(rt===1){var st=this.viewer.world.getItemAt(0);return st.viewportToImageZoom(nt)}}var vt=this._contentSizeNoRotate.x,bt=this._containerInnerSize.x,_t=this._contentBoundsNoRotate.width,wt=bt/vt*_t;return nt*wt},imageToViewportZoom:function(nt){if(this.viewer){var rt=this.viewer.world.getItemCount();if(rt>1)it.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(rt===1){var st=this.viewer.world.getItemAt(0);return st.imageToViewportZoom(nt)}}var vt=this._contentSizeNoRotate.x,bt=this._containerInnerSize.x,_t=this._contentBoundsNoRotate.width,wt=vt/bt/_t;return nt*wt},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(nt){return this.flipped===nt?this:(this.flipped=nt,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:nt}),this)}}}(OpenSeadragon),function(it){it.TiledImage=function(It){var jt=this;it.console.assert(It.tileCache,"[TiledImage] options.tileCache is required"),it.console.assert(It.drawer,"[TiledImage] options.drawer is required"),it.console.assert(It.viewer,"[TiledImage] options.viewer is required"),it.console.assert(It.imageLoader,"[TiledImage] options.imageLoader is required"),it.console.assert(It.source,"[TiledImage] options.source is required"),it.console.assert(!It.clip||It.clip instanceof it.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),it.EventSource.call(this),this._tileCache=It.tileCache,delete It.tileCache,this._drawer=It.drawer,delete It.drawer,this._imageLoader=It.imageLoader,delete It.imageLoader,It.clip instanceof it.Rect&&(this._clip=It.clip.clone()),delete It.clip;var Wt=It.x||0;delete It.x;var qt=It.y||0;delete It.y,this.normHeight=It.source.dimensions.y/It.source.dimensions.x,this.contentAspectX=It.source.dimensions.x/It.source.dimensions.y;var Yt=1;It.width?(Yt=It.width,delete It.width,It.height&&(it.console.error("specifying both width and height to a tiledImage is not supported"),delete It.height)):It.height&&(Yt=It.height/this.normHeight,delete It.height);var ti=It.fitBounds;delete It.fitBounds;var oi=It.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete It.fitBoundsPlacement;var si=It.degrees||0;delete It.degrees,it.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:it.DEFAULT_SETTINGS.springStiffness,animationTime:it.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:it.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:it.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:it.DEFAULT_SETTINGS.wrapVertical,immediateRender:it.DEFAULT_SETTINGS.immediateRender,blendTime:it.DEFAULT_SETTINGS.blendTime,alwaysBlend:it.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:it.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:it.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:it.DEFAULT_SETTINGS.iOSDevice,debugMode:it.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:it.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:it.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:it.DEFAULT_SETTINGS.placeholderFillStyle,opacity:it.DEFAULT_SETTINGS.opacity,preload:it.DEFAULT_SETTINGS.preload,compositeOperation:it.DEFAULT_SETTINGS.compositeOperation},It),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new it.Spring({initial:Wt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new it.Spring({initial:qt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new it.Spring({initial:Yt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new it.Spring({initial:si,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),ti&&this.fitBounds(ti,oi,!0),this._drawingHandler=function(di){jt.viewer.raiseEvent("tile-drawing",it.extend({tiledImage:jt},di))}},it.extend(it.TiledImage.prototype,it.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(It){It!==this._fullyLoaded&&(this._fullyLoaded=It,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=it.now(),this._needsDraw=!0},update:function(){var It=this._xSpring.update(),jt=this._ySpring.update(),Wt=this._scaleSpring.update(),qt=this._degreesSpring.update();return It||jt||Wt||qt?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(It){return this.getBoundsNoRotate(It).rotate(this.getRotation(It),this._getRotationPoint(It))},getBoundsNoRotate:function(It){return It?new it.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new it.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return it.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(It){var jt=this.getBoundsNoRotate(It);if(this._clip){var Wt=It?this._worldWidthCurrent:this._worldWidthTarget,qt=Wt/this.source.dimensions.x,Yt=this._clip.times(qt);jt=new it.Rect(jt.x+Yt.x,jt.y+Yt.y,Yt.width,Yt.height)}return jt.rotate(this.getRotation(It),this._getRotationPoint(It))},getContentSize:function(){return new it.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(It,jt,Wt){var qt=Wt?this._scaleSpring.current.value:this._scaleSpring.target.value;return new it.Point(It*(this.source.dimensions.x/qt),jt*(this.source.dimensions.y*this.contentAspectX/qt))},viewportToImageCoordinates:function(It,jt,Wt){var qt;return It instanceof it.Point?(Wt=jt,qt=It):qt=new it.Point(It,jt),qt=qt.rotate(-this.getRotation(Wt),this._getRotationPoint(Wt)),Wt?this._viewportToImageDelta(qt.x-this._xSpring.current.value,qt.y-this._ySpring.current.value):this._viewportToImageDelta(qt.x-this._xSpring.target.value,qt.y-this._ySpring.target.value)},_imageToViewportDelta:function(It,jt,Wt){var qt=Wt?this._scaleSpring.current.value:this._scaleSpring.target.value;return new it.Point(It/this.source.dimensions.x*qt,jt/this.source.dimensions.y/this.contentAspectX*qt)},imageToViewportCoordinates:function(It,jt,Wt){It instanceof it.Point&&(Wt=jt,jt=It.y,It=It.x);var qt=this._imageToViewportDelta(It,jt);return Wt?(qt.x+=this._xSpring.current.value,qt.y+=this._ySpring.current.value):(qt.x+=this._xSpring.target.value,qt.y+=this._ySpring.target.value),qt.rotate(this.getRotation(Wt),this._getRotationPoint(Wt))},imageToViewportRectangle:function(It,jt,Wt,qt,Yt){var ti=It;ti instanceof it.Rect?Yt=jt:ti=new it.Rect(It,jt,Wt,qt);var oi=this.imageToViewportCoordinates(ti.getTopLeft(),Yt),si=this._imageToViewportDelta(ti.width,ti.height,Yt);return new it.Rect(oi.x,oi.y,si.x,si.y,ti.degrees+this.getRotation(Yt))},viewportToImageRectangle:function(It,jt,Wt,qt,Yt){var ti=It;It instanceof it.Rect?Yt=jt:ti=new it.Rect(It,jt,Wt,qt);var oi=this.viewportToImageCoordinates(ti.getTopLeft(),Yt),si=this._viewportToImageDelta(ti.width,ti.height,Yt);return new it.Rect(oi.x,oi.y,si.x,si.y,ti.degrees-this.getRotation(Yt))},viewerElementToImageCoordinates:function(It){var jt=this.viewport.pointFromPixel(It,!0);return this.viewportToImageCoordinates(jt)},imageToViewerElementCoordinates:function(It){var jt=this.imageToViewportCoordinates(It);return this.viewport.pixelFromPoint(jt,!0)},windowToImageCoordinates:function(It){var jt=It.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(jt)},imageToWindowCoordinates:function(It){var jt=this.imageToViewerElementCoordinates(It);return jt.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(It){var jt=this._scaleSpring.current.value;return It=It.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new it.Rect((It.x-this._xSpring.current.value)/jt,(It.y-this._ySpring.current.value)/jt,It.width/jt,It.height/jt,It.degrees)},viewportToImageZoom:function(It){var jt=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return jt*It},imageToViewportZoom:function(It){var jt=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return It/jt},setPosition:function(It,jt){var Wt=this._xSpring.target.value===It.x&&this._ySpring.target.value===It.y;if(jt){if(Wt&&this._xSpring.current.value===It.x&&this._ySpring.current.value===It.y)return;this._xSpring.resetTo(It.x),this._ySpring.resetTo(It.y),this._needsDraw=!0}else{if(Wt)return;this._xSpring.springTo(It.x),this._ySpring.springTo(It.y),this._needsDraw=!0}Wt||this._raiseBoundsChange()},setWidth:function(It,jt){this._setScale(It,jt)},setHeight:function(It,jt){this._setScale(It/this.normHeight,jt)},setCroppingPolygons:function(It){var jt=function(qt){return qt instanceof it.Point||typeof qt.x=="number"&&typeof qt.y=="number"},Wt=function(qt){return qt.map(function(Yt){try{if(jt(Yt))return{x:Yt.x,y:Yt.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!it.isArray(It))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=It.map(function(qt){return Wt(qt)})}catch(qt){it.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),it.console.error(qt),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(It,jt,Wt){jt=jt||it.Placement.CENTER;var qt=it.Placement.properties[jt],Yt=this.contentAspectX,ti=0,oi=0,si=1,di=1;if(this._clip&&(Yt=this._clip.getAspectRatio(),si=this._clip.width/this.source.dimensions.x,di=this._clip.height/this.source.dimensions.y,It.getAspectRatio()>Yt?(ti=this._clip.x/this._clip.height*It.height,oi=this._clip.y/this._clip.height*It.height):(ti=this._clip.x/this._clip.width*It.width,oi=this._clip.y/this._clip.width*It.width)),It.getAspectRatio()>Yt){var ui=It.height/di,ci=0;qt.isHorizontallyCentered?ci=(It.width-It.height*Yt)/2:qt.isRight&&(ci=It.width-It.height*Yt),this.setPosition(new it.Point(It.x-ti+ci,It.y-oi),Wt),this.setHeight(ui,Wt)}else{var hi=It.width/si,ei=0;qt.isVerticallyCentered?ei=(It.height-It.width/Yt)/2:qt.isBottom&&(ei=It.height-It.width/Yt),this.setPosition(new it.Point(It.x-ti,It.y-oi+ei),Wt),this.setWidth(hi,Wt)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(It){it.console.assert(!It||It instanceof it.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),It instanceof it.Rect?this._clip=It.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(It){It!==this.opacity&&(this.opacity=It,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(It){this._preload=!!It,this._needsDraw=!0},getRotation:function(It){return It?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(It,jt){this._degreesSpring.target.value===It&&this._degreesSpring.isAtTargetValue()||(jt?this._degreesSpring.resetTo(It):this._degreesSpring.springTo(It),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(It){return this.getBoundsNoRotate(It).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(It){It!==this.compositeOperation&&(this.compositeOperation=It,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(It,jt){var Wt=this._scaleSpring.target.value===It;if(jt){if(Wt&&this._scaleSpring.current.value===It)return;this._scaleSpring.resetTo(It),this._updateForScale(),this._needsDraw=!0}else{if(Wt)return;this._scaleSpring.springTo(It),this._updateForScale(),this._needsDraw=!0}Wt||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var It=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),jt=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,Wt=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(jt/this.minPixelRatio)/Math.log(2))));return Wt=Math.max(Wt,this.source.minLevel||0),It=Math.min(It,Wt),{lowestLevel:It,highestLevel:Wt}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var It=this.lastDrawn.pop();It.beingDrawn=!1}var jt=this.viewport,Wt=this._viewportToTiledImageRectangle(jt.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var qt=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(Wt=Wt.intersection(qt),Wt===null)return}for(var Yt=this._getLevelsInterval(),ti=Yt.lowestLevel,oi=Yt.highestLevel,si=null,di=!1,ui=it.now(),ci=oi;ci>=ti;ci--){var hi=!1,ei=jt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ci),!0).x*this._scaleSpring.current.value;if(ci===ti||!di&&ei>=this.minPixelRatio)hi=!0,di=!0;else if(!di)continue;var wi=jt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(ci),!1).x*this._scaleSpring.current.value,Kt=jt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,Ni=this.immediateRender?1:Kt,ni=Math.min(1,(ei-.5)/.5),Fi=Ni/Math.abs(Ni-wi);if(si=nt(this,di,hi,ci,ni,Fi,Wt,ui,si),Tt(this.coverage,ci))break}Ht(this,this.lastDrawn),si&&!si.context2D?(vt(this,si,ui),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(It,jt,Wt){var qt,Yt;this.wrapHorizontal?(qt=it.positiveModulo(jt.x,1),Yt=it.positiveModulo(Wt.x,1)):(qt=Math.max(0,jt.x),Yt=Math.min(1,Wt.x));var ti,oi,si=1/this.source.aspectRatio;this.wrapVertical?(ti=it.positiveModulo(jt.y,si),oi=it.positiveModulo(Wt.y,si)):(ti=Math.max(0,jt.y),oi=Math.min(si,Wt.y));var di=this.source.getTileAtPoint(It,new it.Point(qt,ti)),ui=this.source.getTileAtPoint(It,new it.Point(Yt,oi)),ci=this.source.getNumTiles(It);return this.wrapHorizontal&&(di.x+=ci.x*Math.floor(jt.x),ui.x+=ci.x*Math.floor(Wt.x)),this.wrapVertical&&(di.y+=ci.y*Math.floor(jt.y/si),ui.y+=ci.y*Math.floor(Wt.y/si)),{topLeft:di,bottomRight:ui}}});function nt(It,jt,Wt,qt,Yt,ti,oi,si,di){var ui=oi.getBoundingBox().getTopLeft(),ci=oi.getBoundingBox().getBottomRight();It.viewer&&It.viewer.raiseEvent("update-level",{tiledImage:It,havedrawn:jt,level:qt,opacity:Yt,visibility:ti,drawArea:oi,topleft:ui,bottomright:ci,currenttime:si,best:di}),Lt(It.coverage,qt),Lt(It.loadingCoverage,qt);for(var hi=It._getCornerTiles(qt,ui,ci),ei=hi.topLeft,wi=hi.bottomRight,Kt=It.source.getNumTiles(qt),Ni=It.viewport.pixelFromPoint(It.viewport.getCenter()),ni=ei.x;ni<=wi.x;ni++)for(var Fi=ei.y;Fi<=wi.y;Fi++){if(!It.wrapHorizontal&&!It.wrapVertical){var Xi=It.source.getTileBounds(qt,ni,Fi);if(oi.intersection(Xi)===null)continue}di=rt(It,Wt,jt,ni,Fi,qt,Yt,ti,Ni,Kt,si,di)}return di}function rt(It,jt,Wt,qt,Yt,ti,oi,si,di,ui,ci,hi){var ei=st(qt,Yt,ti,It,It.source,It.tilesMatrix,ci,ui,It._worldWidthCurrent,It._worldHeightCurrent),wi=Wt;It.viewer&&It.viewer.raiseEvent("update-tile",{tiledImage:It,tile:ei}),Dt(It.coverage,ti,qt,Yt,!1);var Kt=ei.loaded||ei.loading||$t(It.loadingCoverage,ti,qt,Yt);if(Dt(It.loadingCoverage,ti,qt,Yt,Kt),!ei.exists||(jt&&!wi&&($t(It.coverage,ti,qt,Yt)?Dt(It.coverage,ti,qt,Yt,!0):wi=!0),!wi))return hi;if(wt(ei,It.source.tileOverlap,It.viewport,di,si,It),!ei.loaded)if(ei.context2D)_t(It,ei);else{var Ni=It._tileCache.getImageRecord(ei.cacheKey);if(Ni){var ni=Ni.getImage();_t(It,ei,ni)}}if(ei.loaded){var Fi=Et(It,ei,qt,Yt,ti,oi,ci);Fi&&(It._needsDraw=!0)}else ei.loading?It._tilesLoading++:Kt||(hi=Bt(hi,ei));return hi}function st(It,jt,Wt,qt,Yt,ti,oi,si,di,ui){var ci,hi,ei,wi,Kt,Ni,ni,Fi,Xi;return ti[Wt]||(ti[Wt]={}),ti[Wt][It]||(ti[Wt][It]={}),ti[Wt][It][jt]||(ci=(si.x+It%si.x)%si.x,hi=(si.y+jt%si.y)%si.y,ei=Yt.getTileBounds(Wt,ci,hi),wi=Yt.getTileBounds(Wt,ci,hi,!0),Kt=Yt.tileExists(Wt,ci,hi),Ni=Yt.getTileUrl(Wt,ci,hi),qt.loadTilesWithAjax?(ni=Yt.getTileAjaxHeaders(Wt,ci,hi),it.isPlainObject(qt.ajaxHeaders)&&(ni=it.extend({},qt.ajaxHeaders,ni))):ni=null,Fi=Yt.getContext2D?Yt.getContext2D(Wt,ci,hi):void 0,ei.x+=(It-ci)/si.x,ei.y+=ui/di*((jt-hi)/si.y),Xi=new it.Tile(Wt,It,jt,ei,Kt,Ni,Fi,qt.loadTilesWithAjax,ni,wi),ci===si.x-1&&(Xi.isRightMost=!0),hi===si.y-1&&(Xi.isBottomMost=!0),ti[Wt][It][jt]=Xi),Xi=ti[Wt][It][jt],Xi.lastTouchTime=oi,Xi}function vt(It,jt,Wt){jt.loading=!0,It._imageLoader.addJob({src:jt.url,loadWithAjax:jt.loadWithAjax,ajaxHeaders:jt.ajaxHeaders,crossOriginPolicy:It.crossOriginPolicy,ajaxWithCredentials:It.ajaxWithCredentials,callback:function(qt,Yt,ti){bt(It,jt,Wt,qt,Yt,ti)},abort:function(){jt.loading=!1}})}function bt(It,jt,Wt,qt,Yt,ti){if(!qt){it.console.log("Tile %s failed to load: %s - error: %s",jt,jt.url,Yt),It.viewer.raiseEvent("tile-load-failed",{tile:jt,tiledImage:It,time:Wt,message:Yt,tileRequest:ti}),jt.loading=!1,jt.exists=!1;return}if(Wt<It.lastResetTime){it.console.log("Ignoring tile %s loaded before reset: %s",jt,jt.url),jt.loading=!1;return}var oi=function(){var si=It.source.getClosestLevel();_t(It,jt,qt,si,ti)};It._midDraw?window.setTimeout(oi,1):oi()}function _t(It,jt,Wt,qt,Yt){var ti=0;function oi(){return ti++,si}function si(){ti--,ti===0&&(jt.loading=!1,jt.loaded=!0,jt.context2D||It._tileCache.cacheTile({image:Wt,tile:jt,cutoff:qt,tiledImage:It}),It._needsDraw=!0)}It.viewer.raiseEvent("tile-loaded",{tile:jt,tiledImage:It,tileRequest:Yt,image:Wt,getCompletionCallback:oi}),oi()()}function wt(It,jt,Wt,qt,Yt,ti){var oi=It.bounds.getTopLeft();oi.x*=ti._scaleSpring.current.value,oi.y*=ti._scaleSpring.current.value,oi.x+=ti._xSpring.current.value,oi.y+=ti._ySpring.current.value;var si=It.bounds.getSize();si.x*=ti._scaleSpring.current.value,si.y*=ti._scaleSpring.current.value;var di=Wt.pixelFromPointNoRotate(oi,!0),ui=Wt.pixelFromPointNoRotate(oi,!1),ci=Wt.deltaPixelsFromPointsNoRotate(si,!0),hi=Wt.deltaPixelsFromPointsNoRotate(si,!1),ei=ui.plus(hi.divide(2)),wi=qt.squaredDistanceTo(ei);jt||(ci=ci.plus(new it.Point(1,1))),It.isRightMost&&ti.wrapHorizontal&&(ci.x+=.75),It.isBottomMost&&ti.wrapVertical&&(ci.y+=.75),It.position=di,It.size=ci,It.squaredDistance=wi,It.visibility=Yt}function Et(It,jt,Wt,qt,Yt,ti,oi){var si=1e3*It.blendTime,di,ui;if(jt.blendStart||(jt.blendStart=oi),di=oi-jt.blendStart,ui=si?Math.min(1,di/si):1,It.alwaysBlend&&(ui*=ti),jt.opacity=ui,It.lastDrawn.push(jt),ui===1)Dt(It.coverage,Yt,Wt,qt,!0),It._hasOpaqueTile=!0;else if(di<si)return!0;return!1}function Tt(It,jt,Wt,qt){var Yt,ti,oi,si;if(!It[jt])return!1;if(Wt===void 0||qt===void 0){Yt=It[jt];for(oi in Yt)if(Object.prototype.hasOwnProperty.call(Yt,oi)){ti=Yt[oi];for(si in ti)if(Object.prototype.hasOwnProperty.call(ti,si)&&!ti[si])return!1}return!0}return It[jt][Wt]===void 0||It[jt][Wt][qt]===void 0||It[jt][Wt][qt]===!0}function $t(It,jt,Wt,qt){return Wt===void 0||qt===void 0?Tt(It,jt+1):Tt(It,jt+1,2*Wt,2*qt)&&Tt(It,jt+1,2*Wt,2*qt+1)&&Tt(It,jt+1,2*Wt+1,2*qt)&&Tt(It,jt+1,2*Wt+1,2*qt+1)}function Dt(It,jt,Wt,qt,Yt){if(!It[jt]){it.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",jt);return}It[jt][Wt]||(It[jt][Wt]={}),It[jt][Wt][qt]=Yt}function Lt(It,jt){It[jt]={}}function Bt(It,jt){return!It||jt.visibility>It.visibility||jt.visibility==It.visibility&&jt.squaredDistance<It.squaredDistance?jt:It}function Ht(It,jt){if(!(It.opacity===0||jt.length===0&&!It.placeholderFillStyle)){var Wt=jt[0],qt;Wt&&(qt=It.opacity<1||It.compositeOperation&&It.compositeOperation!=="source-over"||!It._isBottomItem()&&Wt._hasTransparencyChannel());var Yt,ti,oi=It.viewport.getZoom(!0),si=It.viewportToImageZoom(oi);jt.length>1&&si>It.smoothTileEdgesMinZoom&&!It.iOSDevice&&It.getRotation(!0)%360===0&&it.supportsCanvas&&(qt=!0,Yt=Wt.getScaleForEdgeSmoothing(),ti=Wt.getTranslationForEdgeSmoothing(Yt,It._drawer.getCanvasSize(!1),It._drawer.getCanvasSize(!0)));var di;qt&&(Yt||(di=It.viewport.viewportToViewerElementRectangle(It.getClippedBounds(!0)).getIntegerBoundingBox(),It._drawer.viewer.viewport.getFlip()&&(It.viewport.degrees!==0||It.getRotation(!0)%360!==0)&&(di.x=It._drawer.viewer.container.clientWidth-(di.x+di.width)),di=di.times(it.pixelDensityRatio)),It._drawer._clear(!0,di)),Yt||(It.viewport.degrees!==0&&It._drawer._offsetForRotation({degrees:It.viewport.degrees,useSketch:qt}),It.getRotation(!0)%360!==0&&It._drawer._offsetForRotation({degrees:It.getRotation(!0),point:It.viewport.pixelFromPointNoRotate(It._getRotationPoint(!0),!0),useSketch:qt}),It.viewport.degrees===0&&It.getRotation(!0)%360===0&&It._drawer.viewer.viewport.getFlip()&&It._drawer._flip());var ui=!1;if(It._clip){It._drawer.saveContext(qt);var ci=It.imageToViewportRectangle(It._clip,!0);ci=ci.rotate(-It.getRotation(!0),It._getRotationPoint(!0));var hi=It._drawer.viewportToDrawerRectangle(ci);Yt&&(hi=hi.times(Yt)),ti&&(hi=hi.translate(ti)),It._drawer.setClip(hi,qt),ui=!0}if(It._croppingPolygons){It._drawer.saveContext(qt);try{var ei=It._croppingPolygons.map(function(ni){return ni.map(function(Fi){var Xi=It.imageToViewportCoordinates(Fi.x,Fi.y,!0).rotate(-It.getRotation(!0),It._getRotationPoint(!0)),nn=It._drawer.viewportCoordToDrawerCoord(Xi);return Yt&&(nn=nn.times(Yt)),nn})});It._drawer.clipWithPolygons(ei,qt)}catch(ni){it.console.error(ni)}ui=!0}if(It.placeholderFillStyle&&It._hasOpaqueTile===!1){var wi=It._drawer.viewportToDrawerRectangle(It.getBounds(!0));Yt&&(wi=wi.times(Yt)),ti&&(wi=wi.translate(ti));var Kt=null;typeof It.placeholderFillStyle=="function"?Kt=It.placeholderFillStyle(It,It._drawer.context):Kt=It.placeholderFillStyle,It._drawer.drawRectangle(wi,Kt,qt)}for(var Ni=jt.length-1;Ni>=0;Ni--)Wt=jt[Ni],It._drawer.drawTile(Wt,It._drawingHandler,qt,Yt,ti),Wt.beingDrawn=!0,It.viewer&&It.viewer.raiseEvent("tile-drawn",{tiledImage:It,tile:Wt});ui&&It._drawer.restoreContext(qt),Yt||(It.getRotation(!0)%360!==0&&It._drawer._restoreRotationChanges(qt),It.viewport.degrees!==0&&It._drawer._restoreRotationChanges(qt)),qt&&(Yt&&(It.viewport.degrees!==0&&It._drawer._offsetForRotation({degrees:It.viewport.degrees,useSketch:!1}),It.getRotation(!0)%360!==0&&It._drawer._offsetForRotation({degrees:It.getRotation(!0),point:It.viewport.pixelFromPointNoRotate(It._getRotationPoint(!0),!0),useSketch:!1})),It._drawer.blendSketch({opacity:It.opacity,scale:Yt,translate:ti,compositeOperation:It.compositeOperation,bounds:di}),Yt&&(It.getRotation(!0)%360!==0&&It._drawer._restoreRotationChanges(!1),It.viewport.degrees!==0&&It._drawer._restoreRotationChanges(!1))),Yt||It.viewport.degrees===0&&It.getRotation(!0)%360===0&&It._drawer.viewer.viewport.getFlip()&&It._drawer._flip(),Ut(It,jt)}}function Ut(It,jt){if(It.debugMode)for(var Wt=jt.length-1;Wt>=0;Wt--){var qt=jt[Wt];try{It._drawer.drawDebugInfo(qt,jt.length,Wt,It)}catch(Yt){it.console.error(Yt)}}}}(OpenSeadragon),function(it){var nt=function(st){it.console.assert(st,"[TileCache.cacheTile] options is required"),it.console.assert(st.tile,"[TileCache.cacheTile] options.tile is required"),it.console.assert(st.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=st.tile,this.tiledImage=st.tiledImage},rt=function(st){it.console.assert(st,"[ImageRecord] options is required"),it.console.assert(st.image,"[ImageRecord] options.image is required"),this._image=st.image,this._tiles=[]};rt.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var st=document.createElement("canvas");st.width=this._image.width,st.height=this._image.height,this._renderedContext=st.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(st){it.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=st},addTile:function(st){it.console.assert(st,"[ImageRecord.addTile] tile is required"),this._tiles.push(st)},removeTile:function(st){for(var vt=0;vt<this._tiles.length;vt++)if(this._tiles[vt]===st){this._tiles.splice(vt,1);return}it.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",st)},getTileCount:function(){return this._tiles.length}},it.TileCache=function(st){st=st||{},this._maxImageCacheCount=st.maxImageCacheCount||it.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},it.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(st){it.console.assert(st,"[TileCache.cacheTile] options is required"),it.console.assert(st.tile,"[TileCache.cacheTile] options.tile is required"),it.console.assert(st.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),it.console.assert(st.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var vt=st.cutoff||0,bt=this._tilesLoaded.length,_t=this._imagesLoaded[st.tile.cacheKey];if(_t||(it.console.assert(st.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),_t=this._imagesLoaded[st.tile.cacheKey]=new rt({image:st.image}),this._imagesLoadedCount++),_t.addTile(st.tile),st.tile.cacheImageRecord=_t,this._imagesLoadedCount>this._maxImageCacheCount){for(var wt=null,Et=-1,Tt=null,$t,Dt,Lt,Bt,Ht,Ut,It=this._tilesLoaded.length-1;It>=0;It--)if(Ut=this._tilesLoaded[It],$t=Ut.tile,!($t.level<=vt||$t.beingDrawn)){if(!wt){wt=$t,Et=It,Tt=Ut;continue}Bt=$t.lastTouchTime,Dt=wt.lastTouchTime,Ht=$t.level,Lt=wt.level,(Bt<Dt||Bt==Dt&&Ht>Lt)&&(wt=$t,Et=It,Tt=Ut)}wt&&Et>=0&&(this._unloadTile(Tt),bt=Et)}this._tilesLoaded[bt]=new nt({tile:st.tile,tiledImage:st.tiledImage})},clearTilesFor:function(st){it.console.assert(st,"[TileCache.clearTilesFor] tiledImage is required");for(var vt,bt=0;bt<this._tilesLoaded.length;++bt)vt=this._tilesLoaded[bt],vt.tiledImage===st&&(this._unloadTile(vt),this._tilesLoaded.splice(bt,1),bt--)},getImageRecord:function(st){return it.console.assert(st,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[st]},_unloadTile:function(st){it.console.assert(st,"[TileCache._unloadTile] tileRecord is required");var vt=st.tile,bt=st.tiledImage;vt.unload(),vt.cacheImageRecord=null;var _t=this._imagesLoaded[vt.cacheKey];_t.removeTile(vt),_t.getTileCount()||(_t.destroy(),delete this._imagesLoaded[vt.cacheKey],this._imagesLoadedCount--),bt.viewer.raiseEvent("tile-unloaded",{tile:vt,tiledImage:bt})}}}(OpenSeadragon),function(it){it.World=function(nt){var rt=this;it.console.assert(nt.viewer,"[World] options.viewer is required"),it.EventSource.call(this),this.viewer=nt.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(st){rt._autoRefigureSizes?rt._figureSizes():rt._needsSizesFigured=!0},this._figureSizes()},it.extend(it.World.prototype,it.EventSource.prototype,{addItem:function(nt,rt){if(it.console.assert(nt,"[World.addItem] item is required"),it.console.assert(nt instanceof it.TiledImage,"[World.addItem] only TiledImages supported at this time"),rt=rt||{},rt.index!==void 0){var st=Math.max(0,Math.min(this._items.length,rt.index));this._items.splice(st,0,nt)}else this._items.push(nt);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,nt.addHandler("bounds-change",this._delegatedFigureSizes),nt.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:nt})},getItemAt:function(nt){return it.console.assert(nt!==void 0,"[World.getItemAt] index is required"),this._items[nt]},getIndexOfItem:function(nt){return it.console.assert(nt,"[World.getIndexOfItem] item is required"),it.indexOf(this._items,nt)},getItemCount:function(){return this._items.length},setItemIndex:function(nt,rt){it.console.assert(nt,"[World.setItemIndex] item is required"),it.console.assert(rt!==void 0,"[World.setItemIndex] index is required");var st=this.getIndexOfItem(nt);if(rt>=this._items.length)throw new Error("Index bigger than number of layers.");rt===st||st===-1||(this._items.splice(st,1),this._items.splice(rt,0,nt),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:nt,previousIndex:st,newIndex:rt}))},removeItem:function(nt){it.console.assert(nt,"[World.removeItem] item is required");var rt=it.indexOf(this._items,nt);rt!==-1&&(nt.removeHandler("bounds-change",this._delegatedFigureSizes),nt.removeHandler("clip-change",this._delegatedFigureSizes),nt.destroy(),this._items.splice(rt,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(nt))},removeAll:function(){this.viewer._cancelPendingImages();var nt,rt;for(rt=0;rt<this._items.length;rt++)nt=this._items[rt],nt.removeHandler("bounds-change",this._delegatedFigureSizes),nt.removeHandler("clip-change",this._delegatedFigureSizes),nt.destroy();var st=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,rt=0;rt<st.length;rt++)nt=st[rt],this._raiseRemoveItem(nt)},resetItems:function(){for(var nt=0;nt<this._items.length;nt++)this._items[nt].reset()},update:function(){for(var nt=!1,rt=0;rt<this._items.length;rt++)nt=this._items[rt].update()||nt;return nt},draw:function(){for(var nt=0;nt<this._items.length;nt++)this._items[nt].draw();this._needsDraw=!1},needsDraw:function(){for(var nt=0;nt<this._items.length;nt++)if(this._items[nt].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(nt){this._autoRefigureSizes=nt,nt&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(nt){nt=nt||{};var rt=nt.immediately||!1,st=nt.layout||it.DEFAULT_SETTINGS.collectionLayout,vt=nt.rows||it.DEFAULT_SETTINGS.collectionRows,bt=nt.columns||it.DEFAULT_SETTINGS.collectionColumns,_t=nt.tileSize||it.DEFAULT_SETTINGS.collectionTileSize,wt=nt.tileMargin||it.DEFAULT_SETTINGS.collectionTileMargin,Et=_t+wt,Tt;!nt.rows&&bt?Tt=bt:Tt=Math.ceil(this._items.length/vt);var $t=0,Dt=0,Lt,Bt,Ht,Ut,It;this.setAutoRefigureSizes(!1);for(var jt=0;jt<this._items.length;jt++)jt&&jt%Tt===0&&(st==="horizontal"?(Dt+=Et,$t=0):($t+=Et,Dt=0)),Lt=this._items[jt],Bt=Lt.getBounds(),Bt.width>Bt.height?Ht=_t:Ht=_t*(Bt.width/Bt.height),Ut=Ht*(Bt.height/Bt.width),It=new it.Point($t+(_t-Ht)/2,Dt+(_t-Ut)/2),Lt.setPosition(It,rt),Lt.setWidth(Ht,rt),st==="horizontal"?$t+=Et:Dt+=Et;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var nt=this._homeBounds?this._homeBounds.clone():null,rt=this._contentSize?this._contentSize.clone():null,st=this._contentFactor||0;if(!this._items.length)this._homeBounds=new it.Rect(0,0,1,1),this._contentSize=new it.Point(1,1),this._contentFactor=1;else{var vt=this._items[0],bt=vt.getBounds();this._contentFactor=vt.getContentSize().x/bt.width;for(var _t=vt.getClippedBounds().getBoundingBox(),wt=_t.x,Et=_t.y,Tt=_t.x+_t.width,$t=_t.y+_t.height,Dt=1;Dt<this._items.length;Dt++)vt=this._items[Dt],bt=vt.getBounds(),this._contentFactor=Math.max(this._contentFactor,vt.getContentSize().x/bt.width),_t=vt.getClippedBounds().getBoundingBox(),wt=Math.min(wt,_t.x),Et=Math.min(Et,_t.y),Tt=Math.max(Tt,_t.x+_t.width),$t=Math.max($t,_t.y+_t.height);this._homeBounds=new it.Rect(wt,Et,Tt-wt,$t-Et),this._contentSize=new it.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==st||!this._homeBounds.equals(nt)||!this._contentSize.equals(rt))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(nt){this.raiseEvent("remove-item",{item:nt})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon(),openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(it,nt){(function(rt,st){it.exports=st(requireOpenseadragon())})(window,function(rt){return function(st){function vt(_t){if(bt[_t])return bt[_t].exports;var wt=bt[_t]={i:_t,l:!1,exports:{}};return st[_t].call(wt.exports,wt,wt.exports,vt),wt.l=!0,wt.exports}var bt={};return vt.m=st,vt.c=bt,vt.d=function(_t,wt,Et){vt.o(_t,wt)||Object.defineProperty(_t,wt,{enumerable:!0,get:Et})},vt.r=function(_t){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_t,"__esModule",{value:!0})},vt.t=function(_t,wt){if(1&wt&&(_t=vt(_t)),8&wt||4&wt&&typeof _t=="object"&&_t&&_t.__esModule)return _t;var Et=Object.create(null);if(vt.r(Et),Object.defineProperty(Et,"default",{enumerable:!0,value:_t}),2&wt&&typeof _t!="string")for(var Tt in _t)vt.d(Et,Tt,function($t){return _t[$t]}.bind(null,Tt));return Et},vt.n=function(_t){var wt=_t&&_t.__esModule?function(){return _t.default}:function(){return _t};return vt.d(wt,"a",wt),wt},vt.o=function(_t,wt){return Object.prototype.hasOwnProperty.call(_t,wt)},vt.p="",vt(vt.s=1)}([function(st){st.exports=rt},function(st,vt,bt){bt.r(vt);var _t=bt(0),wt=bt.n(_t);vt.default=function(Et,Tt){if(!Et.version||1>Et.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return Et.Viewer.prototype.addViewerInputHook=function($t){return($t=$t||{}).viewer=this,new Tt.ViewerInputHook($t)},Tt.ViewerInputHook=function($t){var Dt,Lt;for(($t=$t||{}).hooks=$t.hooks||[],this.viewer=$t.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),Dt=0;Dt<$t.hooks.length;Dt++){if(typeof $t.hooks[Dt].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if((Lt=this.viewerTrackers[$t.hooks[Dt].tracker])===void 0)throw new Error("Unknown tracker specified: "+$t.hooks[Dt].tracker)}else Lt=$t.hooks[Dt].tracker;this.hooks.push({tracker:Lt,handlerName:$t.hooks[Dt].handler,origHandler:Lt[$t.hooks[Dt].handler],hookHandler:$t.hooks[Dt].hookHandler}),function(Bt,Ht,Ut,It){var jt=Ht[Ut];Ht[Ut]=function(Wt){return Bt._callHandlers(It,jt,Wt)}}(this,Lt,$t.hooks[Dt].handler,$t.hooks[Dt].hookHandler)}},Tt.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},Tt.ViewerInputHook.prototype._callHandlers=function($t,Dt,Lt){var Bt=$t(Lt);return Dt&&!Lt.stopHandlers&&(Bt=Dt(Lt)),!Lt.stopBubbling&&Bt},Tt.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var $t=this.hooks.pop();$t.tracker[$t.handlerName]=$t.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},Tt.ViewerInputHook}(wt.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhook.exports);var openseadragonAnnotorious_min={exports:{}};(function(it,nt){var rt=Object.defineProperty,st=Object.defineProperties,vt=Object.getOwnPropertyDescriptors,bt=Object.getOwnPropertySymbols,_t=Object.prototype.hasOwnProperty,wt=Object.prototype.propertyIsEnumerable,Et=(Bt,Ht,Ut)=>Ht in Bt?rt(Bt,Ht,{enumerable:!0,configurable:!0,writable:!0,value:Ut}):Bt[Ht]=Ut,Tt=(Bt,Ht)=>{for(var Ut in Ht||(Ht={}))_t.call(Ht,Ut)&&Et(Bt,Ut,Ht[Ut]);if(bt)for(var Ut of bt(Ht))wt.call(Ht,Ut)&&Et(Bt,Ut,Ht[Ut]);return Bt},$t=(Bt,Ht)=>st(Bt,vt(Ht)),Dt=(Bt,Ht)=>{var Ut={};for(var It in Bt)_t.call(Bt,It)&&Ht.indexOf(It)<0&&(Ut[It]=Bt[It]);if(Bt!=null&&bt)for(var It of bt(Bt))Ht.indexOf(It)<0&&wt.call(Bt,It)&&(Ut[It]=Bt[It]);return Ut},Lt=(Bt,Ht,Ut)=>(Et(Bt,typeof Ht!="symbol"?Ht+"":Ht,Ut),Ut);(function(Bt,Ht){it.exports=Ht(requireOpenseadragon())})(commonjsGlobal$1,function(Bt){function Ht(xt){return xt&&typeof xt=="object"&&"default"in xt?xt:{default:xt}}var Ut=Ht(Bt),It,jt,Wt,qt,Yt,ti,oi,si={},di=[],ui=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ci(xt,At){for(var Pt in At)xt[Pt]=At[Pt];return xt}function hi(xt){var At=xt.parentNode;At&&At.removeChild(xt)}function ei(xt,At,Pt){var Ot,Rt,zt,Gt={};for(zt in At)zt=="key"?Ot=At[zt]:zt=="ref"?Rt=At[zt]:Gt[zt]=At[zt];if(arguments.length>2&&(Gt.children=arguments.length>3?It.call(arguments,2):Pt),typeof xt=="function"&&xt.defaultProps!=null)for(zt in xt.defaultProps)Gt[zt]===void 0&&(Gt[zt]=xt.defaultProps[zt]);return wi(xt,Gt,Ot,Rt,null)}function wi(xt,At,Pt,Ot,Rt){var zt={type:xt,props:At,key:Pt,ref:Ot,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Rt==null?++Wt:Rt};return jt.vnode!=null&&jt.vnode(zt),zt}function Kt(){return{current:null}}function Ni(xt){return xt.children}function ni(xt,At){this.props=xt,this.context=At}function Fi(xt,At){if(At==null)return xt.__?Fi(xt.__,xt.__.__k.indexOf(xt)+1):null;for(var Pt;At<xt.__k.length;At++)if((Pt=xt.__k[At])!=null&&Pt.__e!=null)return Pt.__e;return typeof xt.type=="function"?Fi(xt):null}function Xi(xt){var At,Pt;if((xt=xt.__)!=null&&xt.__c!=null){for(xt.__e=xt.__c.base=null,At=0;At<xt.__k.length;At++)if((Pt=xt.__k[At])!=null&&Pt.__e!=null){xt.__e=xt.__c.base=Pt.__e;break}return Xi(xt)}}function nn(xt){(!xt.__d&&(xt.__d=!0)&&qt.push(xt)&&!Ai.__r++||ti!==jt.debounceRendering)&&((ti=jt.debounceRendering)||Yt)(Ai)}function Ai(){for(var xt;Ai.__r=qt.length;)xt=qt.sort(function(At,Pt){return At.__v.__b-Pt.__v.__b}),qt=[],xt.some(function(At){var Pt,Ot,Rt,zt,Gt,ri;At.__d&&(Gt=(zt=(Pt=At).__v).__e,(ri=Pt.__P)&&(Ot=[],(Rt=ci({},zt)).__v=zt.__v+1,Gi(ri,zt,Rt,Pt.__n,ri.ownerSVGElement!==void 0,zt.__h!=null?[Gt]:null,Ot,Gt==null?Fi(zt):Gt,zt.__h),$i(Ot,zt),zt.__e!=Gt&&Xi(zt)))})}function ji(xt,At,Pt,Ot,Rt,zt,Gt,ri,yi,bi){var fi,Di,Ji,ln,pn,kn,Sn,Nn=Ot&&Ot.__k||di,qn=Nn.length;for(Pt.__k=[],fi=0;fi<At.length;fi++)if((ln=Pt.__k[fi]=(ln=At[fi])==null||typeof ln=="boolean"?null:typeof ln=="string"||typeof ln=="number"||typeof ln=="bigint"?wi(null,ln,null,null,ln):Array.isArray(ln)?wi(Ni,{children:ln},null,null,null):ln.__b>0?wi(ln.type,ln.props,ln.key,null,ln.__v):ln)!=null){if(ln.__=Pt,ln.__b=Pt.__b+1,(Ji=Nn[fi])===null||Ji&&ln.key==Ji.key&&ln.type===Ji.type)Nn[fi]=void 0;else for(Di=0;Di<qn;Di++){if((Ji=Nn[Di])&&ln.key==Ji.key&&ln.type===Ji.type){Nn[Di]=void 0;break}Ji=null}Gi(xt,ln,Ji=Ji||si,Rt,zt,Gt,ri,yi,bi),pn=ln.__e,(Di=ln.ref)&&Ji.ref!=Di&&(Sn||(Sn=[]),Ji.ref&&Sn.push(Ji.ref,null,ln),Sn.push(Di,ln.__c||pn,ln)),pn!=null?(kn==null&&(kn=pn),typeof ln.type=="function"&&ln.__k!=null&&ln.__k===Ji.__k?ln.__d=yi=Ri(ln,yi,xt):yi=Qi(xt,ln,Ji,Nn,pn,yi),bi||Pt.type!=="option"?typeof Pt.type=="function"&&(Pt.__d=yi):xt.value=""):yi&&Ji.__e==yi&&yi.parentNode!=xt&&(yi=Fi(Ji))}for(Pt.__e=kn,fi=qn;fi--;)Nn[fi]!=null&&(typeof Pt.type=="function"&&Nn[fi].__e!=null&&Nn[fi].__e==Pt.__d&&(Pt.__d=Fi(Ot,fi+1)),Qt(Nn[fi],Nn[fi]));if(Sn)for(fi=0;fi<Sn.length;fi++)Nt(Sn[fi],Sn[++fi],Sn[++fi])}function Ri(xt,At,Pt){var Ot,Rt;for(Ot=0;Ot<xt.__k.length;Ot++)(Rt=xt.__k[Ot])&&(Rt.__=xt,At=typeof Rt.type=="function"?Ri(Rt,At,Pt):Qi(Pt,Rt,Rt,xt.__k,Rt.__e,At));return At}function Vi(xt,At){return At=At||[],xt==null||typeof xt=="boolean"||(Array.isArray(xt)?xt.some(function(Pt){Vi(Pt,At)}):At.push(xt)),At}function Qi(xt,At,Pt,Ot,Rt,zt){var Gt,ri,yi;if(At.__d!==void 0)Gt=At.__d,At.__d=void 0;else if(Pt==null||Rt!=zt||Rt.parentNode==null)e:if(zt==null||zt.parentNode!==xt)xt.appendChild(Rt),Gt=null;else{for(ri=zt,yi=0;(ri=ri.nextSibling)&&yi<Ot.length;yi+=2)if(ri==Rt)break e;xt.insertBefore(Rt,zt),Gt=zt}return Gt!==void 0?Gt:Rt.nextSibling}function rn(xt,At,Pt,Ot,Rt){var zt;for(zt in Pt)zt==="children"||zt==="key"||zt in At||bn(xt,zt,null,Pt[zt],Ot);for(zt in At)Rt&&typeof At[zt]!="function"||zt==="children"||zt==="key"||zt==="value"||zt==="checked"||Pt[zt]===At[zt]||bn(xt,zt,At[zt],Pt[zt],Ot)}function Pi(xt,At,Pt){At[0]==="-"?xt.setProperty(At,Pt):xt[At]=Pt==null?"":typeof Pt!="number"||ui.test(At)?Pt:Pt+"px"}function bn(xt,At,Pt,Ot,Rt){var zt;e:if(At==="style")if(typeof Pt=="string")xt.style.cssText=Pt;else{if(typeof Ot=="string"&&(xt.style.cssText=Ot=""),Ot)for(At in Ot)Pt&&At in Pt||Pi(xt.style,At,"");if(Pt)for(At in Pt)Ot&&Pt[At]===Ot[At]||Pi(xt.style,At,Pt[At])}else if(At[0]==="o"&&At[1]==="n")zt=At!==(At=At.replace(/Capture$/,"")),At=At.toLowerCase()in xt?At.toLowerCase().slice(2):At.slice(2),xt.l||(xt.l={}),xt.l[At+zt]=Pt,Pt?Ot||xt.addEventListener(At,zt?Ii:Oi,zt):xt.removeEventListener(At,zt?Ii:Oi,zt);else if(At!=="dangerouslySetInnerHTML"){if(Rt)At=At.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(At!=="href"&&At!=="list"&&At!=="form"&&At!=="tabIndex"&&At!=="download"&&At in xt)try{xt[At]=Pt==null?"":Pt;break e}catch{}typeof Pt=="function"||(Pt!=null&&(Pt!==!1||At[0]==="a"&&At[1]==="r")?xt.setAttribute(At,Pt):xt.removeAttribute(At))}}function Oi(xt){this.l[xt.type+!1](jt.event?jt.event(xt):xt)}function Ii(xt){this.l[xt.type+!0](jt.event?jt.event(xt):xt)}function Gi(xt,At,Pt,Ot,Rt,zt,Gt,ri,yi){var bi,fi,Di,Ji,ln,pn,kn,Sn,Nn,qn,Er,mr=At.type;if(At.constructor!==void 0)return null;Pt.__h!=null&&(yi=Pt.__h,ri=At.__e=Pt.__e,At.__h=null,zt=[ri]),(bi=jt.__b)&&bi(At);try{e:if(typeof mr=="function"){if(Sn=At.props,Nn=(bi=mr.contextType)&&Ot[bi.__c],qn=bi?Nn?Nn.props.value:bi.__:Ot,Pt.__c?kn=(fi=At.__c=Pt.__c).__=fi.__E:("prototype"in mr&&mr.prototype.render?At.__c=fi=new mr(Sn,qn):(At.__c=fi=new ni(Sn,qn),fi.constructor=mr,fi.render=Jt),Nn&&Nn.sub(fi),fi.props=Sn,fi.state||(fi.state={}),fi.context=qn,fi.__n=Ot,Di=fi.__d=!0,fi.__h=[]),fi.__s==null&&(fi.__s=fi.state),mr.getDerivedStateFromProps!=null&&(fi.__s==fi.state&&(fi.__s=ci({},fi.__s)),ci(fi.__s,mr.getDerivedStateFromProps(Sn,fi.__s))),Ji=fi.props,ln=fi.state,Di)mr.getDerivedStateFromProps==null&&fi.componentWillMount!=null&&fi.componentWillMount(),fi.componentDidMount!=null&&fi.__h.push(fi.componentDidMount);else{if(mr.getDerivedStateFromProps==null&&Sn!==Ji&&fi.componentWillReceiveProps!=null&&fi.componentWillReceiveProps(Sn,qn),!fi.__e&&fi.shouldComponentUpdate!=null&&fi.shouldComponentUpdate(Sn,fi.__s,qn)===!1||At.__v===Pt.__v){fi.props=Sn,fi.state=fi.__s,At.__v!==Pt.__v&&(fi.__d=!1),fi.__v=At,At.__e=Pt.__e,At.__k=Pt.__k,At.__k.forEach(function(pr){pr&&(pr.__=At)}),fi.__h.length&&Gt.push(fi);break e}fi.componentWillUpdate!=null&&fi.componentWillUpdate(Sn,fi.__s,qn),fi.componentDidUpdate!=null&&fi.__h.push(function(){fi.componentDidUpdate(Ji,ln,pn)})}fi.context=qn,fi.props=Sn,fi.state=fi.__s,(bi=jt.__r)&&bi(At),fi.__d=!1,fi.__v=At,fi.__P=xt,bi=fi.render(fi.props,fi.state,fi.context),fi.state=fi.__s,fi.getChildContext!=null&&(Ot=ci(ci({},Ot),fi.getChildContext())),Di||fi.getSnapshotBeforeUpdate==null||(pn=fi.getSnapshotBeforeUpdate(Ji,ln)),Er=bi!=null&&bi.type===Ni&&bi.key==null?bi.props.children:bi,ji(xt,Array.isArray(Er)?Er:[Er],At,Pt,Ot,Rt,zt,Gt,ri,yi),fi.base=At.__e,At.__h=null,fi.__h.length&&Gt.push(fi),kn&&(fi.__E=fi.__=null),fi.__e=!1}else zt==null&&At.__v===Pt.__v?(At.__k=Pt.__k,At.__e=Pt.__e):At.__e=ii(Pt.__e,At,Pt,Ot,Rt,zt,Gt,yi);(bi=jt.diffed)&&bi(At)}catch(pr){At.__v=null,(yi||zt!=null)&&(At.__e=ri,At.__h=!!yi,zt[zt.indexOf(ri)]=null),jt.__e(pr,At,Pt)}}function $i(xt,At){jt.__c&&jt.__c(At,xt),xt.some(function(Pt){try{xt=Pt.__h,Pt.__h=[],xt.some(function(Ot){Ot.call(Pt)})}catch(Ot){jt.__e(Ot,Pt.__v)}})}function ii(xt,At,Pt,Ot,Rt,zt,Gt,ri){var yi,bi,fi,Di=Pt.props,Ji=At.props,ln=At.type,pn=0;if(ln==="svg"&&(Rt=!0),zt!=null){for(;pn<zt.length;pn++)if((yi=zt[pn])&&(yi===xt||(ln?yi.localName==ln:yi.nodeType==3))){xt=yi,zt[pn]=null;break}}if(xt==null){if(ln===null)return document.createTextNode(Ji);xt=Rt?document.createElementNS("http://www.w3.org/2000/svg",ln):document.createElement(ln,Ji.is&&Ji),zt=null,ri=!1}if(ln===null)Di===Ji||ri&&xt.data===Ji||(xt.data=Ji);else{if(zt=zt&&It.call(xt.childNodes),bi=(Di=Pt.props||si).dangerouslySetInnerHTML,fi=Ji.dangerouslySetInnerHTML,!ri){if(zt!=null)for(Di={},pn=0;pn<xt.attributes.length;pn++)Di[xt.attributes[pn].name]=xt.attributes[pn].value;(fi||bi)&&(fi&&(bi&&fi.__html==bi.__html||fi.__html===xt.innerHTML)||(xt.innerHTML=fi&&fi.__html||""))}if(rn(xt,Ji,Di,Rt,ri),fi)At.__k=[];else if(pn=At.props.children,ji(xt,Array.isArray(pn)?pn:[pn],At,Pt,Ot,Rt&&ln!=="foreignObject",zt,Gt,zt?zt[0]:Pt.__k&&Fi(Pt,0),ri),zt!=null)for(pn=zt.length;pn--;)zt[pn]!=null&&hi(zt[pn]);ri||("value"in Ji&&(pn=Ji.value)!==void 0&&(pn!==xt.value||ln==="progress"&&!pn)&&bn(xt,"value",pn,Di.value,!1),"checked"in Ji&&(pn=Ji.checked)!==void 0&&pn!==xt.checked&&bn(xt,"checked",pn,Di.checked,!1))}return xt}function Nt(xt,At,Pt){try{typeof xt=="function"?xt(At):xt.current=At}catch(Ot){jt.__e(Ot,Pt)}}function Qt(xt,At,Pt){var Ot,Rt;if(jt.unmount&&jt.unmount(xt),(Ot=xt.ref)&&(Ot.current&&Ot.current!==xt.__e||Nt(Ot,null,At)),(Ot=xt.__c)!=null){if(Ot.componentWillUnmount)try{Ot.componentWillUnmount()}catch(zt){jt.__e(zt,At)}Ot.base=Ot.__P=null}if(Ot=xt.__k)for(Rt=0;Rt<Ot.length;Rt++)Ot[Rt]&&Qt(Ot[Rt],At,typeof xt.type!="function");Pt||xt.__e==null||hi(xt.__e),xt.__e=xt.__d=void 0}function Jt(xt,At,Pt){return this.constructor(xt,Pt)}function Si(xt,At,Pt){var Ot,Rt,zt;jt.__&&jt.__(xt,At),Rt=(Ot=typeof Pt=="function")?null:Pt&&Pt.__k||At.__k,zt=[],Gi(At,xt=(!Ot&&Pt||At).__k=ei(Ni,null,[xt]),Rt||si,si,At.ownerSVGElement!==void 0,!Ot&&Pt?[Pt]:Rt?null:At.firstChild?It.call(At.childNodes):null,zt,!Ot&&Pt?Pt:Rt?Rt.__e:At.firstChild,Ot),$i(zt,xt)}function vi(xt,At){Si(xt,At,vi)}function Mi(xt,At,Pt){var Ot,Rt,zt,Gt=ci({},xt.props);for(zt in At)zt=="key"?Ot=At[zt]:zt=="ref"?Rt=At[zt]:Gt[zt]=At[zt];return arguments.length>2&&(Gt.children=arguments.length>3?It.call(arguments,2):Pt),wi(xt.type,Gt,Ot||xt.key,Rt||xt.ref,null)}function _i(xt,At){var Pt={__c:At="__cC"+oi++,__:xt,Consumer:function(Ot,Rt){return Ot.children(Rt)},Provider:function(Ot){var Rt,zt;return this.getChildContext||(Rt=[],(zt={})[At]=this,this.getChildContext=function(){return zt},this.shouldComponentUpdate=function(Gt){this.props.value!==Gt.value&&Rt.some(nn)},this.sub=function(Gt){Rt.push(Gt);var ri=Gt.componentWillUnmount;Gt.componentWillUnmount=function(){Rt.splice(Rt.indexOf(Gt),1),ri&&ri.call(Gt)}}),Ot.children}};return Pt.Provider.__=Pt.Consumer.contextType=Pt}It=di.slice,jt={__e:function(xt,At){for(var Pt,Ot,Rt;At=At.__;)if((Pt=At.__c)&&!Pt.__)try{if((Ot=Pt.constructor)&&Ot.getDerivedStateFromError!=null&&(Pt.setState(Ot.getDerivedStateFromError(xt)),Rt=Pt.__d),Pt.componentDidCatch!=null&&(Pt.componentDidCatch(xt),Rt=Pt.__d),Rt)return Pt.__E=Pt}catch(zt){xt=zt}throw xt}},Wt=0,ni.prototype.setState=function(xt,At){var Pt;Pt=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ci({},this.state),typeof xt=="function"&&(xt=xt(ci({},Pt),this.props)),xt&&ci(Pt,xt),xt!=null&&this.__v&&(At&&this.__h.push(At),nn(this))},ni.prototype.forceUpdate=function(xt){this.__v&&(this.__e=!0,xt&&this.__h.push(xt),nn(this))},ni.prototype.render=Ni,qt=[],Yt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ai.__r=0,oi=0;var Li,Ti,zi,Hi=0,tn=[],qi=jt.__b,Wi=jt.__r,Cn=jt.diffed,En=jt.__c,$n=jt.unmount;function Fn(xt,At){jt.__h&&jt.__h(Ti,xt,Hi||At),Hi=0;var Pt=Ti.__H||(Ti.__H={__:[],__h:[]});return xt>=Pt.__.length&&Pt.__.push({}),Pt.__[xt]}function Rn(xt){return Hi=1,br(Mn,xt)}function br(xt,At,Pt){var Ot=Fn(Li++,2);return Ot.t=xt,Ot.__c||(Ot.__=[Pt?Pt(At):Mn(void 0,At),function(Rt){var zt=Ot.t(Ot.__[0],Rt);Ot.__[0]!==zt&&(Ot.__=[zt,Ot.__[1]],Ot.__c.setState({}))}],Ot.__c=Ti),Ot.__}function Bn(xt,At){var Pt=Fn(Li++,3);!jt.__s&&Hn(Pt.__H,At)&&(Pt.__=xt,Pt.__H=At,Ti.__H.__h.push(Pt))}function on(xt,At){var Pt=Fn(Li++,4);!jt.__s&&Hn(Pt.__H,At)&&(Pt.__=xt,Pt.__H=At,Ti.__h.push(Pt))}function li(xt){return Hi=5,xi(function(){return{current:xt}},[])}function ai(xt,At,Pt){Hi=6,on(function(){typeof xt=="function"?xt(At()):xt&&(xt.current=At())},Pt==null?Pt:Pt.concat(xt))}function xi(xt,At){var Pt=Fn(Li++,7);return Hn(Pt.__H,At)&&(Pt.__=xt(),Pt.__H=At,Pt.__h=xt),Pt.__}function ki(xt,At){return Hi=8,xi(function(){return xt},At)}function Ki(xt){var At=Ti.context[xt.__c],Pt=Fn(Li++,9);return Pt.c=xt,At?(Pt.__==null&&(Pt.__=!0,At.sub(Ti)),At.props.value):xt.__}function gn(xt,At){jt.useDebugValue&&jt.useDebugValue(At?At(xt):xt)}function Ui(xt){var At=Fn(Li++,10),Pt=Rn();return At.__=xt,Ti.componentDidCatch||(Ti.componentDidCatch=function(Ot){At.__&&At.__(Ot),Pt[1](Ot)}),[Pt[0],function(){Pt[1](void 0)}]}function yn(){tn.forEach(function(xt){if(xt.__P)try{xt.__H.__h.forEach(Tn),xt.__H.__h.forEach(Dn),xt.__H.__h=[]}catch(At){xt.__H.__h=[],jt.__e(At,xt.__v)}}),tn=[]}jt.__b=function(xt){Ti=null,qi&&qi(xt)},jt.__r=function(xt){Wi&&Wi(xt),Li=0;var At=(Ti=xt.__c).__H;At&&(At.__h.forEach(Tn),At.__h.forEach(Dn),At.__h=[])},jt.diffed=function(xt){Cn&&Cn(xt);var At=xt.__c;At&&At.__H&&At.__H.__h.length&&(tn.push(At)!==1&&zi===jt.requestAnimationFrame||((zi=jt.requestAnimationFrame)||function(Pt){var Ot,Rt=function(){clearTimeout(zt),an&&cancelAnimationFrame(Ot),setTimeout(Pt)},zt=setTimeout(Rt,100);an&&(Ot=requestAnimationFrame(Rt))})(yn)),Ti=void 0},jt.__c=function(xt,At){At.some(function(Pt){try{Pt.__h.forEach(Tn),Pt.__h=Pt.__h.filter(function(Ot){return!Ot.__||Dn(Ot)})}catch(Ot){At.some(function(Rt){Rt.__h&&(Rt.__h=[])}),At=[],jt.__e(Ot,Pt.__v)}}),En&&En(xt,At)},jt.unmount=function(xt){$n&&$n(xt);var At=xt.__c;if(At&&At.__H)try{At.__H.__.forEach(Tn)}catch(Pt){jt.__e(Pt,At.__v)}};var an=typeof requestAnimationFrame=="function";function Tn(xt){var At=Ti;typeof xt.__c=="function"&&xt.__c(),Ti=At}function Dn(xt){var At=Ti;xt.__c=xt.__(),Ti=At}function Hn(xt,At){return!xt||xt.length!==At.length||At.some(function(Pt,Ot){return Pt!==xt[Ot]})}function Mn(xt,At){return typeof At=="function"?At(xt):At}function sr(xt,At){for(var Pt in At)xt[Pt]=At[Pt];return xt}function jn(xt,At){for(var Pt in xt)if(Pt!=="__source"&&!(Pt in At))return!0;for(var Ot in At)if(Ot!=="__source"&&xt[Ot]!==At[Ot])return!0;return!1}function ir(xt){this.props=xt}function gr(xt,At){function Pt(Rt){var zt=this.props.ref,Gt=zt==Rt.ref;return!Gt&&zt&&(zt.call?zt(null):zt.current=null),At?!At(this.props,Rt)||!Gt:jn(this.props,Rt)}function Ot(Rt){return this.shouldComponentUpdate=Pt,ei(xt,Rt)}return Ot.displayName="Memo("+(xt.displayName||xt.name)+")",Ot.prototype.isReactComponent=!0,Ot.__f=!0,Ot}(ir.prototype=new ni).isPureReactComponent=!0,ir.prototype.shouldComponentUpdate=function(xt,At){return jn(this.props,xt)||jn(this.state,At)};var nr=jt.__b;jt.__b=function(xt){xt.type&&xt.type.__f&&xt.ref&&(xt.props.ref=xt.ref,xt.ref=null),nr&&nr(xt)};var Po=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Wr(xt){function At(Pt,Ot){var Rt=sr({},Pt);return delete Rt.ref,xt(Rt,(Ot=Pt.ref||Ot)&&(typeof Ot!="object"||"current"in Ot)?Ot:null)}return At.$$typeof=Po,At.render=At,At.prototype.isReactComponent=At.__f=!0,At.displayName="ForwardRef("+(xt.displayName||xt.name)+")",At}var zn=function(xt,At){return xt==null?null:Vi(Vi(xt).map(At))},ur={map:zn,forEach:zn,count:function(xt){return xt?Vi(xt).length:0},only:function(xt){var At=Vi(xt);if(At.length!==1)throw"Children.only";return At[0]},toArray:Vi},Nr=jt.__e;jt.__e=function(xt,At,Pt){if(xt.then){for(var Ot,Rt=At;Rt=Rt.__;)if((Ot=Rt.__c)&&Ot.__c)return At.__e==null&&(At.__e=Pt.__e,At.__k=Pt.__k),Ot.__c(xt,At)}Nr(xt,At,Pt)};var Fr=jt.unmount;function Ir(){this.__u=0,this.t=null,this.__b=null}function sn(xt){var At=xt.__.__c;return At&&At.__e&&At.__e(xt)}function dn(xt){var At,Pt,Ot;function Rt(zt){if(At||(At=xt()).then(function(Gt){Pt=Gt.default||Gt},function(Gt){Ot=Gt}),Ot)throw Ot;if(!Pt)throw At;return ei(Pt,zt)}return Rt.displayName="Lazy",Rt.__f=!0,Rt}function hn(){this.u=null,this.o=null}jt.unmount=function(xt){var At=xt.__c;At&&At.__R&&At.__R(),At&&xt.__h===!0&&(xt.type=null),Fr&&Fr(xt)},(Ir.prototype=new ni).__c=function(xt,At){var Pt=At.__c,Ot=this;Ot.t==null&&(Ot.t=[]),Ot.t.push(Pt);var Rt=sn(Ot.__v),zt=!1,Gt=function(){zt||(zt=!0,Pt.__R=null,Rt?Rt(ri):ri())};Pt.__R=Gt;var ri=function(){if(!--Ot.__u){if(Ot.state.__e){var bi=Ot.state.__e;Ot.__v.__k[0]=function Di(Ji,ln,pn){return Ji&&(Ji.__v=null,Ji.__k=Ji.__k&&Ji.__k.map(function(kn){return Di(kn,ln,pn)}),Ji.__c&&Ji.__c.__P===ln&&(Ji.__e&&pn.insertBefore(Ji.__e,Ji.__d),Ji.__c.__e=!0,Ji.__c.__P=pn)),Ji}(bi,bi.__c.__P,bi.__c.__O)}var fi;for(Ot.setState({__e:Ot.__b=null});fi=Ot.t.pop();)fi.forceUpdate()}},yi=At.__h===!0;Ot.__u++||yi||Ot.setState({__e:Ot.__b=Ot.__v.__k[0]}),xt.then(Gt,Gt)},Ir.prototype.componentWillUnmount=function(){this.t=[]},Ir.prototype.render=function(xt,At){if(this.__b){if(this.__v.__k){var Pt=document.createElement("div"),Ot=this.__v.__k[0].__c;this.__v.__k[0]=function zt(Gt,ri,yi){return Gt&&(Gt.__c&&Gt.__c.__H&&(Gt.__c.__H.__.forEach(function(bi){typeof bi.__c=="function"&&bi.__c()}),Gt.__c.__H=null),(Gt=sr({},Gt)).__c!=null&&(Gt.__c.__P===yi&&(Gt.__c.__P=ri),Gt.__c=null),Gt.__k=Gt.__k&&Gt.__k.map(function(bi){return zt(bi,ri,yi)})),Gt}(this.__b,Pt,Ot.__O=Ot.__P)}this.__b=null}var Rt=At.__e&&ei(Ni,null,xt.fallback);return Rt&&(Rt.__h=null),[ei(Ni,null,At.__e?null:xt.children),Rt]};var Ln=function(xt,At,Pt){if(++Pt[1]===Pt[0]&&xt.o.delete(At),xt.props.revealOrder&&(xt.props.revealOrder[0]!=="t"||!xt.o.size))for(Pt=xt.u;Pt;){for(;Pt.length>3;)Pt.pop()();if(Pt[1]<Pt[0])break;xt.u=Pt=Pt[2]}};function wn(xt){return this.getChildContext=function(){return xt.context},xt.children}function Yi(xt){var At=this,Pt=xt.i;At.componentWillUnmount=function(){Si(null,At.l),At.l=null,At.i=null},At.i&&At.i!==Pt&&At.componentWillUnmount(),xt.__v?(At.l||(At.i=Pt,At.l={nodeType:1,parentNode:Pt,childNodes:[],appendChild:function(Ot){this.childNodes.push(Ot),At.i.appendChild(Ot)},insertBefore:function(Ot,Rt){this.childNodes.push(Ot),At.i.appendChild(Ot)},removeChild:function(Ot){this.childNodes.splice(this.childNodes.indexOf(Ot)>>>1,1),At.i.removeChild(Ot)}}),Si(ei(wn,{context:At.context},xt.__v),At.l)):At.l&&At.componentWillUnmount()}function vn(xt,At){return ei(Yi,{__v:xt,i:At})}(hn.prototype=new ni).__e=function(xt){var At=this,Pt=sn(At.__v),Ot=At.o.get(xt);return Ot[0]++,function(Rt){var zt=function(){At.props.revealOrder?(Ot.push(Rt),Ln(At,xt,Ot)):Rt()};Pt?Pt(zt):zt()}},hn.prototype.render=function(xt){this.u=null,this.o=new Map;var At=Vi(xt.children);xt.revealOrder&&xt.revealOrder[0]==="b"&&At.reverse();for(var Pt=At.length;Pt--;)this.o.set(At[Pt],this.u=[1,0,this.u]);return xt.children},hn.prototype.componentDidUpdate=hn.prototype.componentDidMount=function(){var xt=this;this.o.forEach(function(At,Pt){Ln(xt,Pt,At)})};var An=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,lr=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Dr=function(xt){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(xt)};function _r(xt,At,Pt){return At.__k==null&&(At.textContent=""),Si(xt,At),typeof Pt=="function"&&Pt(),xt?xt.__c:null}function wr(xt,At,Pt){return vi(xt,At),typeof Pt=="function"&&Pt(),xt?xt.__c:null}ni.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(xt){Object.defineProperty(ni.prototype,xt,{configurable:!0,get:function(){return this["UNSAFE_"+xt]},set:function(At){Object.defineProperty(this,xt,{configurable:!0,writable:!0,value:At})}})});var cr=jt.event;function Rr(){}function Ao(){return this.cancelBubble}function Yo(){return this.defaultPrevented}jt.event=function(xt){return cr&&(xt=cr(xt)),xt.persist=Rr,xt.isPropagationStopped=Ao,xt.isDefaultPrevented=Yo,xt.nativeEvent=xt};var ho,Qn={configurable:!0,get:function(){return this.class}},rr=jt.vnode;jt.vnode=function(xt){var At=xt.type,Pt=xt.props,Ot=Pt;if(typeof At=="string"){for(var Rt in Ot={},Pt){var zt=Pt[Rt];Rt==="value"&&"defaultValue"in Pt&&zt==null||(Rt==="defaultValue"&&"value"in Pt&&Pt.value==null?Rt="value":Rt==="download"&&zt===!0?zt="":/ondoubleclick/i.test(Rt)?Rt="ondblclick":/^onchange(textarea|input)/i.test(Rt+At)&&!Dr(Pt.type)?Rt="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(Rt)?Rt=Rt.toLowerCase():lr.test(Rt)?Rt=Rt.replace(/[A-Z0-9]/,"-$&").toLowerCase():zt===null&&(zt=void 0),Ot[Rt]=zt)}At=="select"&&Ot.multiple&&Array.isArray(Ot.value)&&(Ot.value=Vi(Pt.children).forEach(function(Gt){Gt.props.selected=Ot.value.indexOf(Gt.props.value)!=-1})),At=="select"&&Ot.defaultValue!=null&&(Ot.value=Vi(Pt.children).forEach(function(Gt){Gt.props.selected=Ot.multiple?Ot.defaultValue.indexOf(Gt.props.value)!=-1:Ot.defaultValue==Gt.props.value})),xt.props=Ot}At&&Pt.class!=Pt.className&&(Qn.enumerable="className"in Pt,Pt.className!=null&&(Ot.class=Pt.className),Object.defineProperty(Ot,"className",Qn)),xt.$$typeof=An,rr&&rr(xt)};var hr=jt.__r;jt.__r=function(xt){hr&&hr(xt),ho=xt.__c};var In={ReactCurrentDispatcher:{current:{readContext:function(xt){return ho.__n[xt.__c].props.value}}}},or="17.0.2";function Zi(xt){return ei.bind(null,xt)}function Bo(xt){return!!xt&&xt.$$typeof===An}function cn(xt){return Bo(xt)?Mi.apply(null,arguments):xt}function eo(xt){return!!xt.__k&&(Si(null,xt),!0)}function ba(xt){return xt&&(xt.base||xt.nodeType===1&&xt)||null}var Tr=function(xt,At){return xt(At)},Yr=function(xt,At){return xt(At)},Oa=Ni,Kn={useState:Rn,useReducer:br,useEffect:Bn,useLayoutEffect:on,useRef:li,useImperativeHandle:ai,useMemo:xi,useCallback:ki,useContext:Ki,useDebugValue:gn,version:"17.0.2",Children:ur,render:_r,hydrate:wr,unmountComponentAtNode:eo,createPortal:vn,createElement:ei,createContext:_i,createFactory:Zi,cloneElement:cn,createRef:Kt,Fragment:Ni,isValidElement:Bo,findDOMNode:ba,Component:ni,PureComponent:ir,memo:gr,forwardRef:Wr,flushSync:Yr,unstable_batchedUpdates:Tr,StrictMode:Ni,Suspense:Ir,SuspenseList:hn,lazy:dn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:In},no=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Kn,version:or,Children:ur,render:_r,hydrate:wr,unmountComponentAtNode:eo,createPortal:vn,createFactory:Zi,cloneElement:cn,isValidElement:Bo,findDOMNode:ba,PureComponent:ir,memo:gr,forwardRef:Wr,flushSync:Yr,unstable_batchedUpdates:Tr,StrictMode:Oa,Suspense:Ir,SuspenseList:hn,lazy:dn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:In,createElement:ei,createContext:_i,createRef:Kt,Fragment:Ni,Component:ni,useState:Rn,useReducer:br,useEffect:Bn,useLayoutEffect:on,useRef:li,useImperativeHandle:ai,useMemo:xi,useCallback:ki,useContext:Ki,useDebugValue:gn,useErrorBoundary:Ui}),bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{};function Go(xt){return xt&&xt.__esModule&&Object.prototype.hasOwnProperty.call(xt,"default")?xt.default:xt}function Oo(xt){if(xt.__esModule)return xt;var At=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(xt).forEach(function(Pt){var Ot=Object.getOwnPropertyDescriptor(xt,Pt);Object.defineProperty(At,Pt,Ot.get?Ot:{enumerable:!0,get:function(){return xt[Pt]}})}),At}var Gr={exports:{}};function qr(){}qr.prototype={on:function(xt,At,Pt){var Ot=this.e||(this.e={});return(Ot[xt]||(Ot[xt]=[])).push({fn:At,ctx:Pt}),this},once:function(xt,At,Pt){var Ot=this;function Rt(){Ot.off(xt,Rt),At.apply(Pt,arguments)}return Rt._=At,this.on(xt,Rt,Pt)},emit:function(xt){var At=[].slice.call(arguments,1),Pt=((this.e||(this.e={}))[xt]||[]).slice(),Ot=0,Rt=Pt.length;for(Ot;Ot<Rt;Ot++)Pt[Ot].fn.apply(Pt[Ot].ctx,At);return this},off:function(xt,At){var Pt=this.e||(this.e={}),Ot=Pt[xt],Rt=[];if(Ot&&At)for(var zt=0,Gt=Ot.length;zt<Gt;zt++)Ot[zt].fn!==At&&Ot[zt].fn._!==At&&Rt.push(Ot[zt]);return Rt.length?Pt[xt]=Rt:delete Pt[xt],this}},Gr.exports=qr,Gr.exports.TinyEmitter=qr;var Or=Gr.exports,to={exports:{}},Io={},ao=Oo(no),So={exports:{}},Eo="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ca=Eo,ua=ca;function qo(){}function mo(){}mo.resetWarningCache=qo;var Za=function(){function xt(Ot,Rt,zt,Gt,ri,yi){if(yi!==ua){var bi=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw bi.name="Invariant Violation",bi}}xt.isRequired=xt;function At(){return xt}var Pt={array:xt,bool:xt,func:xt,number:xt,object:xt,string:xt,symbol:xt,any:xt,arrayOf:At,element:xt,elementType:xt,instanceOf:At,node:xt,objectOf:At,oneOf:At,oneOfType:At,shape:At,exact:At,checkPropTypes:mo,resetWarningCache:qo};return Pt.PropTypes=Pt,Pt};So.exports=Za();function Va(xt){var At,Pt,Ot="";if(typeof xt=="string"||typeof xt=="number")Ot+=xt;else if(typeof xt=="object")if(Array.isArray(xt))for(At=0;At<xt.length;At++)xt[At]&&(Pt=Va(xt[At]))&&(Ot&&(Ot+=" "),Ot+=Pt);else for(At in xt)xt[At]&&(Ot&&(Ot+=" "),Ot+=At);return Ot}function ul(){for(var xt=0,At,Pt,Ot="";xt<arguments.length;)(At=arguments[xt++])&&(Pt=Va(At))&&(Ot&&(Ot+=" "),Ot+=Pt);return Ot}var $r=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ul}),so=Oo($r),dr={},No={};Object.defineProperty(No,"__esModule",{value:!0}),No.findInArray=Ka,No.isFunction=Ja,No.isNum=Qa,No.int=wa,No.dontSetMe=La;function Ka(xt,At){for(var Pt=0,Ot=xt.length;Pt<Ot;Pt++)if(At.apply(At,[xt[Pt],Pt,xt]))return xt[Pt]}function Ja(xt){return typeof xt=="function"||Object.prototype.toString.call(xt)==="[object Function]"}function Qa(xt){return typeof xt=="number"&&!isNaN(xt)}function wa(xt){return parseInt(xt,10)}function La(xt,At,Pt){if(xt[At])return new Error("Invalid prop ".concat(At," passed to ").concat(Pt," - do not set this, set it on the child."))}var Fo={};Object.defineProperty(Fo,"__esModule",{value:!0}),Fo.getPrefix=ea,Fo.browserPrefixToKey=ha,Fo.browserPrefixToStyle=ps,Fo.default=void 0;var lo=["Moz","Webkit","O","ms"];function ea(){var xt,At,Pt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var Ot=(xt=window.document)===null||xt===void 0||(At=xt.documentElement)===null||At===void 0?void 0:At.style;if(!Ot||Pt in Ot)return"";for(var Rt=0;Rt<lo.length;Rt++)if(ha(Pt,lo[Rt])in Ot)return lo[Rt];return""}function ha(xt,At){return At?"".concat(At).concat(Is(xt)):xt}function ps(xt,At){return At?"-".concat(At.toLowerCase(),"-").concat(xt):xt}function Is(xt){for(var At="",Pt=!0,Ot=0;Ot<xt.length;Ot++)Pt?(At+=xt[Ot].toUpperCase(),Pt=!1):xt[Ot]==="-"?Pt=!0:At+=xt[Ot];return At}var es=ea();Fo.default=es;function da(xt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(At){return typeof At}:da=function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},da(xt)}Object.defineProperty(dr,"__esModule",{value:!0}),dr.matchesSelector=Ua,dr.matchesSelectorAndParentsTo=gs,dr.addEvent=Xo,dr.removeEvent=Ns,dr.outerHeight=Fs,dr.outerWidth=ns,dr.innerHeight=ys,dr.innerWidth=po,dr.offsetXYFromParent=Ea,dr.createCSSTransform=ta,dr.createSVGTransform=ko,dr.getTranslation=ka,dr.getTouch=vr,dr.getTouchIdentifier=hl,dr.addUserSelectStyles=dl,dr.removeUserSelectStyles=vs,dr.addClassName=Zo,dr.removeClassName=fa;var _o=No,ts=xa(Fo);function Pr(xt){if(typeof WeakMap!="function")return null;var At=new WeakMap,Pt=new WeakMap;return(Pr=function(Ot){return Ot?Pt:At})(xt)}function xa(xt,At){if(!At&&xt&&xt.__esModule)return xt;if(xt===null||da(xt)!=="object"&&typeof xt!="function")return{default:xt};var Pt=Pr(At);if(Pt&&Pt.has(xt))return Pt.get(xt);var Ot={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in xt)if(zt!=="default"&&Object.prototype.hasOwnProperty.call(xt,zt)){var Gt=Rt?Object.getOwnPropertyDescriptor(xt,zt):null;Gt&&(Gt.get||Gt.set)?Object.defineProperty(Ot,zt,Gt):Ot[zt]=xt[zt]}return Ot.default=xt,Pt&&Pt.set(xt,Ot),Ot}function fo(xt,At){var Pt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(xt);At&&(Ot=Ot.filter(function(Rt){return Object.getOwnPropertyDescriptor(xt,Rt).enumerable})),Pt.push.apply(Pt,Ot)}return Pt}function Da(xt){for(var At=1;At<arguments.length;At++){var Pt=arguments[At]!=null?arguments[At]:{};At%2?fo(Object(Pt),!0).forEach(function(Ot){is(xt,Ot,Pt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Pt)):fo(Object(Pt)).forEach(function(Ot){Object.defineProperty(xt,Ot,Object.getOwnPropertyDescriptor(Pt,Ot))})}return xt}function is(xt,At,Pt){return At in xt?Object.defineProperty(xt,At,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):xt[At]=Pt,xt}var Sa="";function Ua(xt,At){return Sa||(Sa=(0,_o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(Pt){return(0,_o.isFunction)(xt[Pt])})),(0,_o.isFunction)(xt[Sa])?xt[Sa](At):!1}function gs(xt,At,Pt){var Ot=xt;do{if(Ua(Ot,At))return!0;if(Ot===Pt)return!1;Ot=Ot.parentNode}while(Ot);return!1}function Xo(xt,At,Pt,Ot){if(xt){var Rt=Da({capture:!0},Ot);xt.addEventListener?xt.addEventListener(At,Pt,Rt):xt.attachEvent?xt.attachEvent("on"+At,Pt):xt["on"+At]=Pt}}function Ns(xt,At,Pt,Ot){if(xt){var Rt=Da({capture:!0},Ot);xt.removeEventListener?xt.removeEventListener(At,Pt,Rt):xt.detachEvent?xt.detachEvent("on"+At,Pt):xt["on"+At]=null}}function Fs(xt){var At=xt.clientHeight,Pt=xt.ownerDocument.defaultView.getComputedStyle(xt);return At+=(0,_o.int)(Pt.borderTopWidth),At+=(0,_o.int)(Pt.borderBottomWidth),At}function ns(xt){var At=xt.clientWidth,Pt=xt.ownerDocument.defaultView.getComputedStyle(xt);return At+=(0,_o.int)(Pt.borderLeftWidth),At+=(0,_o.int)(Pt.borderRightWidth),At}function ys(xt){var At=xt.clientHeight,Pt=xt.ownerDocument.defaultView.getComputedStyle(xt);return At-=(0,_o.int)(Pt.paddingTop),At-=(0,_o.int)(Pt.paddingBottom),At}function po(xt){var At=xt.clientWidth,Pt=xt.ownerDocument.defaultView.getComputedStyle(xt);return At-=(0,_o.int)(Pt.paddingLeft),At-=(0,_o.int)(Pt.paddingRight),At}function Ea(xt,At,Pt){var Ot=At===At.ownerDocument.body,Rt=Ot?{left:0,top:0}:At.getBoundingClientRect(),zt=(xt.clientX+At.scrollLeft-Rt.left)/Pt,Gt=(xt.clientY+At.scrollTop-Rt.top)/Pt;return{x:zt,y:Gt}}function ta(xt,At){var Pt=ka(xt,At,"px");return is({},(0,ts.browserPrefixToKey)("transform",ts.default),Pt)}function ko(xt,At){var Pt=ka(xt,At,"");return Pt}function ka(xt,At,Pt){var Ot=xt.x,Rt=xt.y,zt="translate(".concat(Ot).concat(Pt,",").concat(Rt).concat(Pt,")");if(At){var Gt="".concat(typeof At.x=="string"?At.x:At.x+Pt),ri="".concat(typeof At.y=="string"?At.y:At.y+Pt);zt="translate(".concat(Gt,", ").concat(ri,")")+zt}return zt}function vr(xt,At){return xt.targetTouches&&(0,_o.findInArray)(xt.targetTouches,function(Pt){return At===Pt.identifier})||xt.changedTouches&&(0,_o.findInArray)(xt.changedTouches,function(Pt){return At===Pt.identifier})}function hl(xt){if(xt.targetTouches&&xt.targetTouches[0])return xt.targetTouches[0].identifier;if(xt.changedTouches&&xt.changedTouches[0])return xt.changedTouches[0].identifier}function dl(xt){if(xt){var At=xt.getElementById("react-draggable-style-el");At||(At=xt.createElement("style"),At.type="text/css",At.id="react-draggable-style-el",At.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,At.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,xt.getElementsByTagName("head")[0].appendChild(At)),xt.body&&Zo(xt.body,"react-draggable-transparent-selection")}}function vs(xt){if(xt)try{if(xt.body&&fa(xt.body,"react-draggable-transparent-selection"),xt.selection)xt.selection.empty();else{var At=(xt.defaultView||window).getSelection();At&&At.type!=="Caret"&&At.removeAllRanges()}}catch{}}function Zo(xt,At){xt.classList?xt.classList.add(At):xt.className.match(new RegExp("(?:^|\\s)".concat(At,"(?!\\S)")))||(xt.className+=" ".concat(At))}function fa(xt,At){xt.classList?xt.classList.remove(At):xt.className=xt.className.replace(new RegExp("(?:^|\\s)".concat(At,"(?!\\S)"),"g"),"")}var Vo={};Object.defineProperty(Vo,"__esModule",{value:!0}),Vo.getBoundPosition=rs,Vo.snapToGrid=Lr,Vo.canDragX=Ft,Vo.canDragY=Xt,Vo.getControlPosition=gi,Vo.createCoreData=Ei,Vo.createDraggableData=Bi;var go=No,yo=dr;function rs(xt,At,Pt){if(!xt.props.bounds)return[At,Pt];var Ot=xt.props.bounds;Ot=typeof Ot=="string"?Ot:un(Ot);var Rt=_n(xt);if(typeof Ot=="string"){var zt=Rt.ownerDocument,Gt=zt.defaultView,ri;if(Ot==="parent"?ri=Rt.parentNode:ri=zt.querySelector(Ot),!(ri instanceof Gt.HTMLElement))throw new Error('Bounds selector "'+Ot+'" could not find an element.');var yi=ri,bi=Gt.getComputedStyle(Rt),fi=Gt.getComputedStyle(yi);Ot={left:-Rt.offsetLeft+(0,go.int)(fi.paddingLeft)+(0,go.int)(bi.marginLeft),top:-Rt.offsetTop+(0,go.int)(fi.paddingTop)+(0,go.int)(bi.marginTop),right:(0,yo.innerWidth)(yi)-(0,yo.outerWidth)(Rt)-Rt.offsetLeft+(0,go.int)(fi.paddingRight)-(0,go.int)(bi.marginRight),bottom:(0,yo.innerHeight)(yi)-(0,yo.outerHeight)(Rt)-Rt.offsetTop+(0,go.int)(fi.paddingBottom)-(0,go.int)(bi.marginBottom)}}return(0,go.isNum)(Ot.right)&&(At=Math.min(At,Ot.right)),(0,go.isNum)(Ot.bottom)&&(Pt=Math.min(Pt,Ot.bottom)),(0,go.isNum)(Ot.left)&&(At=Math.max(At,Ot.left)),(0,go.isNum)(Ot.top)&&(Pt=Math.max(Pt,Ot.top)),[At,Pt]}function Lr(xt,At,Pt){var Ot=Math.round(At/xt[0])*xt[0],Rt=Math.round(Pt/xt[1])*xt[1];return[Ot,Rt]}function Ft(xt){return xt.props.axis==="both"||xt.props.axis==="x"}function Xt(xt){return xt.props.axis==="both"||xt.props.axis==="y"}function gi(xt,At,Pt){var Ot=typeof At=="number"?(0,yo.getTouch)(xt,At):null;if(typeof At=="number"&&!Ot)return null;var Rt=_n(Pt),zt=Pt.props.offsetParent||Rt.offsetParent||Rt.ownerDocument.body;return(0,yo.offsetXYFromParent)(Ot||xt,zt,Pt.props.scale)}function Ei(xt,At,Pt){var Ot=xt.state,Rt=!(0,go.isNum)(Ot.lastX),zt=_n(xt);return Rt?{node:zt,deltaX:0,deltaY:0,lastX:At,lastY:Pt,x:At,y:Pt}:{node:zt,deltaX:At-Ot.lastX,deltaY:Pt-Ot.lastY,lastX:Ot.lastX,lastY:Ot.lastY,x:At,y:Pt}}function Bi(xt,At){var Pt=xt.props.scale;return{node:At.node,x:xt.state.x+At.deltaX/Pt,y:xt.state.y+At.deltaY/Pt,deltaX:At.deltaX/Pt,deltaY:At.deltaY/Pt,lastX:xt.state.x,lastY:xt.state.y}}function un(xt){return{left:xt.left,top:xt.top,right:xt.right,bottom:xt.bottom}}function _n(xt){var At=xt.findDOMNode();if(!At)throw new Error("<DraggableCore>: Unmounted during event!");return At}var xn={},Un={};Object.defineProperty(Un,"__esModule",{value:!0}),Un.default=Vn;function Vn(){}function fr(xt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?fr=function(At){return typeof At}:fr=function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},fr(xt)}Object.defineProperty(xn,"__esModule",{value:!0}),xn.default=void 0;var ar=_s(ao),Mr=Ma(So.exports),Hr=Ma(ao),zr=dr,ia=Vo,na=No,bs=Ma(Un);function Ma(xt){return xt&&xt.__esModule?xt:{default:xt}}function jl(xt){if(typeof WeakMap!="function")return null;var At=new WeakMap,Pt=new WeakMap;return(jl=function(Ot){return Ot?Pt:At})(xt)}function _s(xt,At){if(!At&&xt&&xt.__esModule)return xt;if(xt===null||fr(xt)!=="object"&&typeof xt!="function")return{default:xt};var Pt=jl(At);if(Pt&&Pt.has(xt))return Pt.get(xt);var Ot={},Rt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var zt in xt)if(zt!=="default"&&Object.prototype.hasOwnProperty.call(xt,zt)){var Gt=Rt?Object.getOwnPropertyDescriptor(xt,zt):null;Gt&&(Gt.get||Gt.set)?Object.defineProperty(Ot,zt,Gt):Ot[zt]=xt[zt]}return Ot.default=xt,Pt&&Pt.set(xt,Ot),Ot}function Wl(xt,At){return du(xt)||Hs(xt,At)||hu(xt,At)||zs()}function zs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hu(xt,At){if(xt){if(typeof xt=="string")return Ca(xt,At);var Pt=Object.prototype.toString.call(xt).slice(8,-1);if(Pt==="Object"&&xt.constructor&&(Pt=xt.constructor.name),Pt==="Map"||Pt==="Set")return Array.from(xt);if(Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt))return Ca(xt,At)}}function Ca(xt,At){(At==null||At>xt.length)&&(At=xt.length);for(var Pt=0,Ot=new Array(At);Pt<At;Pt++)Ot[Pt]=xt[Pt];return Ot}function Hs(xt,At){var Pt=xt==null?null:typeof Symbol<"u"&&xt[Symbol.iterator]||xt["@@iterator"];if(Pt!=null){var Ot=[],Rt=!0,zt=!1,Gt,ri;try{for(Pt=Pt.call(xt);!(Rt=(Gt=Pt.next()).done)&&(Ot.push(Gt.value),!(At&&Ot.length===At));Rt=!0);}catch(yi){zt=!0,ri=yi}finally{try{!Rt&&Pt.return!=null&&Pt.return()}finally{if(zt)throw ri}}return Ot}}function du(xt){if(Array.isArray(xt))return xt}function fl(xt,At){if(!(xt instanceof At))throw new TypeError("Cannot call a class as a function")}function Yl(xt,At){for(var Pt=0;Pt<At.length;Pt++){var Ot=At[Pt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(xt,Ot.key,Ot)}}function Ta(xt,At,Pt){return At&&Yl(xt.prototype,At),Pt&&Yl(xt,Pt),xt}function fu(xt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");xt.prototype=Object.create(At&&At.prototype,{constructor:{value:xt,writable:!0,configurable:!0}}),At&&Ra(xt,At)}function Ra(xt,At){return Ra=Object.setPrototypeOf||function(Pt,Ot){return Pt.__proto__=Ot,Pt},Ra(xt,At)}function pu(xt){var At=Gl();return function(){var Pt=os(xt),Ot;if(At){var Rt=os(this).constructor;Ot=Reflect.construct(Pt,arguments,Rt)}else Ot=Pt.apply(this,arguments);return Aa(this,Ot)}}function Aa(xt,At){if(At&&(fr(At)==="object"||typeof At=="function"))return At;if(At!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vo(xt)}function vo(xt){if(xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt}function Gl(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function os(xt){return os=Object.setPrototypeOf?Object.getPrototypeOf:function(At){return At.__proto__||Object.getPrototypeOf(At)},os(xt)}function Lo(xt,At,Pt){return At in xt?Object.defineProperty(xt,At,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):xt[At]=Pt,xt}var Uo={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},ra=Uo.mouse,$a=function(xt){fu(Pt,xt);var At=pu(Pt);function Pt(){var Ot;fl(this,Pt);for(var Rt=arguments.length,zt=new Array(Rt),Gt=0;Gt<Rt;Gt++)zt[Gt]=arguments[Gt];return Ot=At.call.apply(At,[this].concat(zt)),Lo(vo(Ot),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Lo(vo(Ot),"mounted",!1),Lo(vo(Ot),"handleDragStart",function(ri){if(Ot.props.onMouseDown(ri),!Ot.props.allowAnyClick&&typeof ri.button=="number"&&ri.button!==0)return!1;var yi=Ot.findDOMNode();if(!yi||!yi.ownerDocument||!yi.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var bi=yi.ownerDocument;if(!(Ot.props.disabled||!(ri.target instanceof bi.defaultView.Node)||Ot.props.handle&&!(0,zr.matchesSelectorAndParentsTo)(ri.target,Ot.props.handle,yi)||Ot.props.cancel&&(0,zr.matchesSelectorAndParentsTo)(ri.target,Ot.props.cancel,yi))){ri.type==="touchstart"&&ri.preventDefault();var fi=(0,zr.getTouchIdentifier)(ri);Ot.setState({touchIdentifier:fi});var Di=(0,ia.getControlPosition)(ri,fi,vo(Ot));if(Di!=null){var Ji=Di.x,ln=Di.y,pn=(0,ia.createCoreData)(vo(Ot),Ji,ln);(0,bs.default)("DraggableCore: handleDragStart: %j",pn),(0,bs.default)("calling",Ot.props.onStart);var kn=Ot.props.onStart(ri,pn);kn===!1||Ot.mounted===!1||(Ot.props.enableUserSelectHack&&(0,zr.addUserSelectStyles)(bi),Ot.setState({dragging:!0,lastX:Ji,lastY:ln}),(0,zr.addEvent)(bi,ra.move,Ot.handleDrag),(0,zr.addEvent)(bi,ra.stop,Ot.handleDragStop))}}}),Lo(vo(Ot),"handleDrag",function(ri){var yi=(0,ia.getControlPosition)(ri,Ot.state.touchIdentifier,vo(Ot));if(yi!=null){var bi=yi.x,fi=yi.y;if(Array.isArray(Ot.props.grid)){var Di=bi-Ot.state.lastX,Ji=fi-Ot.state.lastY,ln=(0,ia.snapToGrid)(Ot.props.grid,Di,Ji),pn=Wl(ln,2);if(Di=pn[0],Ji=pn[1],!Di&&!Ji)return;bi=Ot.state.lastX+Di,fi=Ot.state.lastY+Ji}var kn=(0,ia.createCoreData)(vo(Ot),bi,fi);(0,bs.default)("DraggableCore: handleDrag: %j",kn);var Sn=Ot.props.onDrag(ri,kn);if(Sn===!1||Ot.mounted===!1){try{Ot.handleDragStop(new MouseEvent("mouseup"))}catch{var Nn=document.createEvent("MouseEvents");Nn.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Ot.handleDragStop(Nn)}return}Ot.setState({lastX:bi,lastY:fi})}}),Lo(vo(Ot),"handleDragStop",function(ri){if(Ot.state.dragging){var yi=(0,ia.getControlPosition)(ri,Ot.state.touchIdentifier,vo(Ot));if(yi!=null){var bi=yi.x,fi=yi.y,Di=(0,ia.createCoreData)(vo(Ot),bi,fi),Ji=Ot.props.onStop(ri,Di);if(Ji===!1||Ot.mounted===!1)return!1;var ln=Ot.findDOMNode();ln&&Ot.props.enableUserSelectHack&&(0,zr.removeUserSelectStyles)(ln.ownerDocument),(0,bs.default)("DraggableCore: handleDragStop: %j",Di),Ot.setState({dragging:!1,lastX:NaN,lastY:NaN}),ln&&((0,bs.default)("DraggableCore: Removing handlers"),(0,zr.removeEvent)(ln.ownerDocument,ra.move,Ot.handleDrag),(0,zr.removeEvent)(ln.ownerDocument,ra.stop,Ot.handleDragStop))}}}),Lo(vo(Ot),"onMouseDown",function(ri){return ra=Uo.mouse,Ot.handleDragStart(ri)}),Lo(vo(Ot),"onMouseUp",function(ri){return ra=Uo.mouse,Ot.handleDragStop(ri)}),Lo(vo(Ot),"onTouchStart",function(ri){return ra=Uo.touch,Ot.handleDragStart(ri)}),Lo(vo(Ot),"onTouchEnd",function(ri){return ra=Uo.touch,Ot.handleDragStop(ri)}),Ot}return Ta(Pt,[{key:"componentDidMount",value:function(){this.mounted=!0;var Ot=this.findDOMNode();Ot&&(0,zr.addEvent)(Ot,Uo.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Ot=this.findDOMNode();if(Ot){var Rt=Ot.ownerDocument;(0,zr.removeEvent)(Rt,Uo.mouse.move,this.handleDrag),(0,zr.removeEvent)(Rt,Uo.touch.move,this.handleDrag),(0,zr.removeEvent)(Rt,Uo.mouse.stop,this.handleDragStop),(0,zr.removeEvent)(Rt,Uo.touch.stop,this.handleDragStop),(0,zr.removeEvent)(Ot,Uo.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,zr.removeUserSelectStyles)(Rt)}}},{key:"findDOMNode",value:function(){var Ot,Rt,zt;return(Ot=(Rt=this.props)===null||Rt===void 0||(zt=Rt.nodeRef)===null||zt===void 0?void 0:zt.current)!==null&&Ot!==void 0?Ot:Hr.default.findDOMNode(this)}},{key:"render",value:function(){return ar.cloneElement(ar.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),Pt}(ar.Component);xn.default=$a,Lo($a,"displayName","DraggableCore"),Lo($a,"propTypes",{allowAnyClick:Mr.default.bool,disabled:Mr.default.bool,enableUserSelectHack:Mr.default.bool,offsetParent:function(xt,At){if(xt[At]&&xt[At].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:Mr.default.arrayOf(Mr.default.number),handle:Mr.default.string,cancel:Mr.default.string,nodeRef:Mr.default.object,onStart:Mr.default.func,onDrag:Mr.default.func,onStop:Mr.default.func,onMouseDown:Mr.default.func,scale:Mr.default.number,className:na.dontSetMe,style:na.dontSetMe,transform:na.dontSetMe}),Lo($a,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(xt){function At(Pn){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?At=function(Wn){return typeof Wn}:At=function(Wn){return Wn&&typeof Symbol=="function"&&Wn.constructor===Symbol&&Wn!==Symbol.prototype?"symbol":typeof Wn},At(Pn)}Object.defineProperty(xt,"__esModule",{value:!0}),Object.defineProperty(xt,"DraggableCore",{enumerable:!0,get:function(){return bi.default}}),xt.default=void 0;var Pt=pn(ao),Ot=Ji(So.exports),Rt=Ji(ao),zt=Ji(so),Gt=dr,ri=Vo,yi=No,bi=Ji(xn),fi=Ji(Un),Di=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function Ji(Pn){return Pn&&Pn.__esModule?Pn:{default:Pn}}function ln(Pn){if(typeof WeakMap!="function")return null;var Wn=new WeakMap,Jn=new WeakMap;return(ln=function(Gn){return Gn?Jn:Wn})(Pn)}function pn(Pn,Wn){if(!Wn&&Pn&&Pn.__esModule)return Pn;if(Pn===null||At(Pn)!=="object"&&typeof Pn!="function")return{default:Pn};var Jn=ln(Wn);if(Jn&&Jn.has(Pn))return Jn.get(Pn);var Gn={},tr=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Ar in Pn)if(Ar!=="default"&&Object.prototype.hasOwnProperty.call(Pn,Ar)){var oo=tr?Object.getOwnPropertyDescriptor(Pn,Ar):null;oo&&(oo.get||oo.set)?Object.defineProperty(Gn,Ar,oo):Gn[Ar]=Pn[Ar]}return Gn.default=Pn,Jn&&Jn.set(Pn,Gn),Gn}function kn(){return kn=Object.assign||function(Pn){for(var Wn=1;Wn<arguments.length;Wn++){var Jn=arguments[Wn];for(var Gn in Jn)Object.prototype.hasOwnProperty.call(Jn,Gn)&&(Pn[Gn]=Jn[Gn])}return Pn},kn.apply(this,arguments)}function Sn(Pn,Wn){if(Pn==null)return{};var Jn=Nn(Pn,Wn),Gn,tr;if(Object.getOwnPropertySymbols){var Ar=Object.getOwnPropertySymbols(Pn);for(tr=0;tr<Ar.length;tr++)Gn=Ar[tr],!(Wn.indexOf(Gn)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Pn,Gn)||(Jn[Gn]=Pn[Gn]))}return Jn}function Nn(Pn,Wn){if(Pn==null)return{};var Jn={},Gn=Object.keys(Pn),tr,Ar;for(Ar=0;Ar<Gn.length;Ar++)tr=Gn[Ar],!(Wn.indexOf(tr)>=0)&&(Jn[tr]=Pn[tr]);return Jn}function qn(Pn,Wn){var Jn=Object.keys(Pn);if(Object.getOwnPropertySymbols){var Gn=Object.getOwnPropertySymbols(Pn);Wn&&(Gn=Gn.filter(function(tr){return Object.getOwnPropertyDescriptor(Pn,tr).enumerable})),Jn.push.apply(Jn,Gn)}return Jn}function Er(Pn){for(var Wn=1;Wn<arguments.length;Wn++){var Jn=arguments[Wn]!=null?arguments[Wn]:{};Wn%2?qn(Object(Jn),!0).forEach(function(Gn){va(Pn,Gn,Jn[Gn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Pn,Object.getOwnPropertyDescriptors(Jn)):qn(Object(Jn)).forEach(function(Gn){Object.defineProperty(Pn,Gn,Object.getOwnPropertyDescriptor(Jn,Gn))})}return Pn}function mr(Pn,Wn){return uo(Pn)||ro(Pn,Wn)||Cr(Pn,Wn)||pr()}function pr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cr(Pn,Wn){if(Pn){if(typeof Pn=="string")return yr(Pn,Wn);var Jn=Object.prototype.toString.call(Pn).slice(8,-1);if(Jn==="Object"&&Pn.constructor&&(Jn=Pn.constructor.name),Jn==="Map"||Jn==="Set")return Array.from(Pn);if(Jn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Jn))return yr(Pn,Wn)}}function yr(Pn,Wn){(Wn==null||Wn>Pn.length)&&(Wn=Pn.length);for(var Jn=0,Gn=new Array(Wn);Jn<Wn;Jn++)Gn[Jn]=Pn[Jn];return Gn}function ro(Pn,Wn){var Jn=Pn==null?null:typeof Symbol<"u"&&Pn[Symbol.iterator]||Pn["@@iterator"];if(Jn!=null){var Gn=[],tr=!0,Ar=!1,oo,To;try{for(Jn=Jn.call(Pn);!(tr=(oo=Jn.next()).done)&&(Gn.push(oo.value),!(Wn&&Gn.length===Wn));tr=!0);}catch(Qr){Ar=!0,To=Qr}finally{try{!tr&&Jn.return!=null&&Jn.return()}finally{if(Ar)throw To}}return Gn}}function uo(Pn){if(Array.isArray(Pn))return Pn}function Kr(Pn,Wn){if(!(Pn instanceof Wn))throw new TypeError("Cannot call a class as a function")}function Jr(Pn,Wn){for(var Jn=0;Jn<Wn.length;Jn++){var Gn=Wn[Jn];Gn.enumerable=Gn.enumerable||!1,Gn.configurable=!0,"value"in Gn&&(Gn.writable=!0),Object.defineProperty(Pn,Gn.key,Gn)}}function ma(Pn,Wn,Jn){return Wn&&Jr(Pn.prototype,Wn),Jn&&Jr(Pn,Jn),Pn}function Wo(Pn,Wn){if(typeof Wn!="function"&&Wn!==null)throw new TypeError("Super expression must either be null or a function");Pn.prototype=Object.create(Wn&&Wn.prototype,{constructor:{value:Pn,writable:!0,configurable:!0}}),Wn&&Xa(Pn,Wn)}function Xa(Pn,Wn){return Xa=Object.setPrototypeOf||function(Jn,Gn){return Jn.__proto__=Gn,Jn},Xa(Pn,Wn)}function ya(Pn){var Wn=lu();return function(){var Jn=Rs(Pn),Gn;if(Wn){var tr=Rs(this).constructor;Gn=Reflect.construct(Jn,arguments,tr)}else Gn=Jn.apply(this,arguments);return Pa(this,Gn)}}function Pa(Pn,Wn){if(Wn&&(At(Wn)==="object"||typeof Wn=="function"))return Wn;if(Wn!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ro(Pn)}function Ro(Pn){if(Pn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pn}function lu(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rs(Pn){return Rs=Object.setPrototypeOf?Object.getPrototypeOf:function(Wn){return Wn.__proto__||Object.getPrototypeOf(Wn)},Rs(Pn)}function va(Pn,Wn,Jn){return Wn in Pn?Object.defineProperty(Pn,Wn,{value:Jn,enumerable:!0,configurable:!0,writable:!0}):Pn[Wn]=Jn,Pn}var io=function(Pn){Wo(Jn,Pn);var Wn=ya(Jn);function Jn(Gn){var tr;return Kr(this,Jn),tr=Wn.call(this,Gn),va(Ro(tr),"onDragStart",function(Ar,oo){(0,fi.default)("Draggable: onDragStart: %j",oo);var To=tr.props.onStart(Ar,(0,ri.createDraggableData)(Ro(tr),oo));if(To===!1)return!1;tr.setState({dragging:!0,dragged:!0})}),va(Ro(tr),"onDrag",function(Ar,oo){if(!tr.state.dragging)return!1;(0,fi.default)("Draggable: onDrag: %j",oo);var To=(0,ri.createDraggableData)(Ro(tr),oo),Qr={x:To.x,y:To.y};if(tr.props.bounds){var Bs=Qr.x,za=Qr.y;Qr.x+=tr.state.slackX,Qr.y+=tr.state.slackY;var fs=(0,ri.getBoundPosition)(Ro(tr),Qr.x,Qr.y),cl=mr(fs,2),cu=cl[0],uu=cl[1];Qr.x=cu,Qr.y=uu,Qr.slackX=tr.state.slackX+(Bs-Qr.x),Qr.slackY=tr.state.slackY+(za-Qr.y),To.x=Qr.x,To.y=Qr.y,To.deltaX=Qr.x-tr.state.x,To.deltaY=Qr.y-tr.state.y}var Yh=tr.props.onDrag(Ar,To);if(Yh===!1)return!1;tr.setState(Qr)}),va(Ro(tr),"onDragStop",function(Ar,oo){if(!tr.state.dragging)return!1;var To=tr.props.onStop(Ar,(0,ri.createDraggableData)(Ro(tr),oo));if(To===!1)return!1;(0,fi.default)("Draggable: onDragStop: %j",oo);var Qr={dragging:!1,slackX:0,slackY:0},Bs=Boolean(tr.props.position);if(Bs){var za=tr.props.position,fs=za.x,cl=za.y;Qr.x=fs,Qr.y=cl}tr.setState(Qr)}),tr.state={dragging:!1,dragged:!1,x:Gn.position?Gn.position.x:Gn.defaultPosition.x,y:Gn.position?Gn.position.y:Gn.defaultPosition.y,prevPropsPosition:Er({},Gn.position),slackX:0,slackY:0,isElementSVG:!1},Gn.position&&!(Gn.onDrag||Gn.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),tr}return ma(Jn,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Gn,tr,Ar;return(Gn=(tr=this.props)===null||tr===void 0||(Ar=tr.nodeRef)===null||Ar===void 0?void 0:Ar.current)!==null&&Gn!==void 0?Gn:Rt.default.findDOMNode(this)}},{key:"render",value:function(){var Gn,tr=this.props;tr.axis,tr.bounds;var Ar=tr.children,oo=tr.defaultPosition,To=tr.defaultClassName,Qr=tr.defaultClassNameDragging,Bs=tr.defaultClassNameDragged,za=tr.position,fs=tr.positionOffset;tr.scale;var cl=Sn(tr,Di),cu={},uu=null,Yh=Boolean(za),bg=!Yh||this.state.dragging,_g=za||oo,wg={x:(0,ri.canDragX)(this)&&bg?this.state.x:_g.x,y:(0,ri.canDragY)(this)&&bg?this.state.y:_g.y};this.state.isElementSVG?uu=(0,Gt.createSVGTransform)(wg,fs):cu=(0,Gt.createCSSTransform)(wg,fs);var Hx=(0,zt.default)(Ar.props.className||"",To,(Gn={},va(Gn,Qr,this.state.dragging),va(Gn,Bs,this.state.dragged),Gn));return Pt.createElement(bi.default,kn({},cl,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Pt.cloneElement(Pt.Children.only(Ar),{className:Hx,style:Er(Er({},Ar.props.style),cu),transform:uu}))}}],[{key:"getDerivedStateFromProps",value:function(Gn,tr){var Ar=Gn.position,oo=tr.prevPropsPosition;return Ar&&(!oo||Ar.x!==oo.x||Ar.y!==oo.y)?((0,fi.default)("Draggable: getDerivedStateFromProps %j",{position:Ar,prevPropsPosition:oo}),{x:Ar.x,y:Ar.y,prevPropsPosition:Er({},Ar)}):null}}]),Jn}(Pt.Component);xt.default=io,va(io,"displayName","Draggable"),va(io,"propTypes",Er(Er({},bi.default.propTypes),{},{axis:Ot.default.oneOf(["both","x","y","none"]),bounds:Ot.default.oneOfType([Ot.default.shape({left:Ot.default.number,right:Ot.default.number,top:Ot.default.number,bottom:Ot.default.number}),Ot.default.string,Ot.default.oneOf([!1])]),defaultClassName:Ot.default.string,defaultClassNameDragging:Ot.default.string,defaultClassNameDragged:Ot.default.string,defaultPosition:Ot.default.shape({x:Ot.default.number,y:Ot.default.number}),positionOffset:Ot.default.shape({x:Ot.default.oneOfType([Ot.default.number,Ot.default.string]),y:Ot.default.oneOfType([Ot.default.number,Ot.default.string])}),position:Ot.default.shape({x:Ot.default.number,y:Ot.default.number}),className:yi.dontSetMe,style:yi.dontSetMe,transform:yi.dontSetMe})),va(io,"defaultProps",Er(Er({},bi.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Io);var ws=Io,Vs=ws.default,ql=ws.DraggableCore;to.exports=Vs,to.exports.default=Vs,to.exports.DraggableCore=ql;var gu=to.exports,Us=["second","minute","hour","day","week","month","year"];function mu(xt,At){if(At===0)return["just now","right now"];var Pt=Us[Math.floor(At/2)];return xt>1&&(Pt+="s"),[xt+" "+Pt+" ago","in "+xt+" "+Pt]}var Xl=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function yu(xt,At){if(At===0)return["\u521A\u521A","\u7247\u523B\u540E"];var Pt=Xl[~~(At/2)];return[xt+" "+Pt+"\u524D",xt+" "+Pt+"\u540E"]}var js={},wo=function(xt,At){js[xt]=At},oa=function(xt){return js[xt]||js.en_US},pa=[60,60,24,7,365/7/12,12];function Zl(xt){return xt instanceof Date?xt:!isNaN(xt)||/^\d+$/.test(xt)?new Date(parseInt(xt)):(xt=(xt||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(xt))}function xs(xt,At){var Pt=xt<0?1:0;xt=Math.abs(xt);for(var Ot=xt,Rt=0;xt>=pa[Rt]&&Rt<pa.length;Rt++)xt/=pa[Rt];return xt=Math.floor(xt),Rt*=2,xt>(Rt===0?9:1)&&(Rt+=1),At(xt,Rt,Ot)[Pt].replace("%s",xt.toString())}function Kl(xt,At){var Pt=At?Zl(At):new Date;return(+Pt-+Zl(xt))/1e3}function Jl(xt){for(var At=1,Pt=0,Ot=Math.abs(xt);xt>=pa[Pt]&&Pt<pa.length;Pt++)xt/=pa[Pt],At*=pa[Pt];return Ot=Ot%At,Ot=Ot?At-Ot:At,Math.ceil(Ot)}var vu=function(xt,At,Pt){var Ot=Kl(xt,Pt&&Pt.relativeDate);return xs(Ot,oa(At))},as="timeago-id";function bu(xt){return xt.getAttribute("datetime")}function ss(xt,At){xt.setAttribute(as,At)}function pl(xt){return parseInt(xt.getAttribute(as))}var Ws={},gl=function(xt){clearTimeout(xt),delete Ws[xt]};function ga(xt,At,Pt,Ot){gl(pl(xt));var Rt=Ot.relativeDate,zt=Ot.minInterval,Gt=Kl(At,Rt);xt.innerText=xs(Gt,Pt);var ri=setTimeout(function(){ga(xt,At,Pt,Ot)},Math.min(Math.max(Jl(Gt),zt||1)*1e3,2147483647));Ws[ri]=0,ss(xt,ri)}function ml(xt){xt?gl(pl(xt)):Object.keys(Ws).forEach(gl)}function Ql(xt,At,Pt){var Ot=xt.length?xt:[xt];return Ot.forEach(function(Rt){ga(Rt,bu(Rt),oa(At),Pt||{})}),Ot}wo("en_US",mu),wo("zh_CN",yu);var Ss=function(){var xt=function(At,Pt){return xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ot,Rt){Ot.__proto__=Rt}||function(Ot,Rt){for(var zt in Rt)Rt.hasOwnProperty(zt)&&(Ot[zt]=Rt[zt])},xt(At,Pt)};return function(At,Pt){xt(At,Pt);function Ot(){this.constructor=At}At.prototype=Pt===null?Object.create(Pt):(Ot.prototype=Pt.prototype,new Ot)}}(),yl=function(){return yl=Object.assign||function(xt){for(var At,Pt=1,Ot=arguments.length;Pt<Ot;Pt++){At=arguments[Pt];for(var Rt in At)Object.prototype.hasOwnProperty.call(At,Rt)&&(xt[Rt]=At[Rt])}return xt},yl.apply(this,arguments)},Ys=function(xt,At){var Pt={};for(var Ot in xt)Object.prototype.hasOwnProperty.call(xt,Ot)&&At.indexOf(Ot)<0&&(Pt[Ot]=xt[Ot]);if(xt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Rt=0,Ot=Object.getOwnPropertySymbols(xt);Rt<Ot.length;Rt++)At.indexOf(Ot[Rt])<0&&Object.prototype.propertyIsEnumerable.call(xt,Ot[Rt])&&(Pt[Ot[Rt]]=xt[Ot[Rt]]);return Pt},Es=function(xt){return""+(xt instanceof Date?xt.getTime():xt)},ec=function(xt){Ss(At,xt);function At(){var Pt=xt!==null&&xt.apply(this,arguments)||this;return Pt.dom=null,Pt}return At.prototype.componentDidMount=function(){this.renderTimeAgo()},At.prototype.componentDidUpdate=function(){this.renderTimeAgo()},At.prototype.renderTimeAgo=function(){var Pt=this.props,Ot=Pt.live,Rt=Pt.datetime,zt=Pt.locale,Gt=Pt.opts;ml(this.dom),Ot!==!1&&(this.dom.setAttribute("datetime",Es(Rt)),Ql(this.dom,zt,Gt))},At.prototype.componentWillUnmount=function(){ml(this.dom)},At.prototype.render=function(){var Pt=this,Ot=this.props,Rt=Ot.datetime;Ot.live;var zt=Ot.locale,Gt=Ot.opts,ri=Ys(Ot,["datetime","live","locale","opts"]);return ei("time",yl({ref:function(yi){Pt.dom=yi}},ri),vu(Rt,zt,Gt))},At.defaultProps={live:!0,className:""},At}(ir);function tc(xt,At){const Pt=Ot=>{xt.current&&!xt.current.contains(event.target)&&At()};Bn(()=>(document.addEventListener("mousedown",Pt),()=>document.removeEventListener("mousedown",Pt)))}var ic=Object.prototype.toString,vl=function(xt){var At=ic.call(xt),Pt=At==="[object Arguments]";return Pt||(Pt=At!=="[object Array]"&&xt!==null&&typeof xt=="object"&&typeof xt.length=="number"&&xt.length>=0&&ic.call(xt.callee)==="[object Function]"),Pt},bl;if(!Object.keys){var ks=Object.prototype.hasOwnProperty,_l=Object.prototype.toString,nc=vl,rc=Object.prototype.propertyIsEnumerable,oc=!rc.call({toString:null},"toString"),ac=rc.call(function(){},"prototype"),Gs=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],kt=function(xt){var At=xt.constructor;return At&&At.prototype===xt},Mt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Vt=function(){if(typeof window>"u")return!1;for(var xt in window)try{if(!Mt["$"+xt]&&ks.call(window,xt)&&window[xt]!==null&&typeof window[xt]=="object")try{kt(window[xt])}catch{return!0}}catch{return!0}return!1}(),Zt=function(xt){if(typeof window>"u"||!Vt)return kt(xt);try{return kt(xt)}catch{return!1}};bl=function(xt){var At=xt!==null&&typeof xt=="object",Pt=_l.call(xt)==="[object Function]",Ot=nc(xt),Rt=At&&_l.call(xt)==="[object String]",zt=[];if(!At&&!Pt&&!Ot)throw new TypeError("Object.keys called on a non-object");var Gt=ac&&Pt;if(Rt&&xt.length>0&&!ks.call(xt,0))for(var ri=0;ri<xt.length;++ri)zt.push(String(ri));if(Ot&&xt.length>0)for(var yi=0;yi<xt.length;++yi)zt.push(String(yi));else for(var bi in xt)!(Gt&&bi==="prototype")&&ks.call(xt,bi)&&zt.push(String(bi));if(oc)for(var fi=Zt(xt),Di=0;Di<Gs.length;++Di)!(fi&&Gs[Di]==="constructor")&&ks.call(xt,Gs[Di])&&zt.push(Gs[Di]);return zt}}var mi=bl,Ci=Array.prototype.slice,en=vl,fn=Object.keys,mn=fn?function(xt){return fn(xt)}:mi,On=Object.keys;mn.shim=function(){if(Object.keys){var xt=function(){var At=Object.keys(arguments);return At&&At.length===arguments.length}(1,2);xt||(Object.keys=function(At){return en(At)?On(Ci.call(At)):On(At)})}else Object.keys=mn;return Object.keys||mn};var er=mn,kr=er,Br=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",Ko=Object.prototype.toString,ja=Array.prototype.concat,ls=Object.defineProperty,Ba=function(xt){return typeof xt=="function"&&Ko.call(xt)==="[object Function]"},wl=function(){var xt={};try{ls(xt,"x",{enumerable:!1,value:xt});for(var At in xt)return!1;return xt.x===xt}catch{return!1}},sc=ls&&wl(),_u=function(xt,At,Pt,Ot){At in xt&&(!Ba(Ot)||!Ot())||(sc?ls(xt,At,{configurable:!0,enumerable:!1,value:Pt,writable:!0}):xt[At]=Pt)},lc=function(xt,At){var Pt=arguments.length>2?arguments[2]:{},Ot=kr(At);Br&&(Ot=ja.call(Ot,Object.getOwnPropertySymbols(At)));for(var Rt=0;Rt<Ot.length;Rt+=1)_u(xt,Ot[Rt],At[Ot[Rt]],Pt[Ot[Rt]])};lc.supportsDescriptors=!!sc;var Wa=lc,cs={exports:{}},cc="Function.prototype.bind called on incompatible ",co=Array.prototype.slice,qs=Object.prototype.toString,wu="[object Function]",xu=function(xt){var At=this;if(typeof At!="function"||qs.call(At)!==wu)throw new TypeError(cc+At);for(var Pt=co.call(arguments,1),Ot,Rt=function(){if(this instanceof Ot){var bi=At.apply(this,Pt.concat(co.call(arguments)));return Object(bi)===bi?bi:this}else return At.apply(xt,Pt.concat(co.call(arguments)))},zt=Math.max(0,At.length-Pt.length),Gt=[],ri=0;ri<zt;ri++)Gt.push("$"+ri);if(Ot=Function("binder","return function ("+Gt.join(",")+"){ return binder.apply(this,arguments); }")(Rt),At.prototype){var yi=function(){};yi.prototype=At.prototype,Ot.prototype=new yi,yi.prototype=null}return Ot},Su=xu,Cs=Function.prototype.bind||Su,xl=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var xt={},At=Symbol("test"),Pt=Object(At);if(typeof At=="string"||Object.prototype.toString.call(At)!=="[object Symbol]"||Object.prototype.toString.call(Pt)!=="[object Symbol]")return!1;var Ot=42;xt[At]=Ot;for(At in xt)return!1;if(typeof Object.keys=="function"&&Object.keys(xt).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(xt).length!==0)return!1;var Rt=Object.getOwnPropertySymbols(xt);if(Rt.length!==1||Rt[0]!==At||!Object.prototype.propertyIsEnumerable.call(xt,At))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var zt=Object.getOwnPropertyDescriptor(xt,At);if(zt.value!==Ot||zt.enumerable!==!0)return!1}return!0},uc=typeof Symbol<"u"&&Symbol,xg=xl,Gh=function(){return typeof uc!="function"||typeof Symbol!="function"||typeof uc("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:xg()},Sg=Cs,qh=Sg.call(Function.call,Object.prototype.hasOwnProperty),Vr,Sl=SyntaxError,Xh=Function,Xs=TypeError,Eu=function(xt){try{return Xh('"use strict"; return ('+xt+").constructor;")()}catch{}},Ts=Object.getOwnPropertyDescriptor;if(Ts)try{Ts({},"")}catch{Ts=null}var ku=function(){throw new Xs},Eg=Ts?function(){try{return arguments.callee,ku}catch{try{return Ts(arguments,"callee").get}catch{return ku}}}():ku,Zs=Gh(),us=Object.getPrototypeOf||function(xt){return xt.__proto__},Ks={},kg=typeof Uint8Array>"u"?Vr:us(Uint8Array),Js={"%AggregateError%":typeof AggregateError>"u"?Vr:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Vr:ArrayBuffer,"%ArrayIteratorPrototype%":Zs?us([][Symbol.iterator]()):Vr,"%AsyncFromSyncIteratorPrototype%":Vr,"%AsyncFunction%":Ks,"%AsyncGenerator%":Ks,"%AsyncGeneratorFunction%":Ks,"%AsyncIteratorPrototype%":Ks,"%Atomics%":typeof Atomics>"u"?Vr:Atomics,"%BigInt%":typeof BigInt>"u"?Vr:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Vr:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Vr:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Vr:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Vr:FinalizationRegistry,"%Function%":Xh,"%GeneratorFunction%":Ks,"%Int8Array%":typeof Int8Array>"u"?Vr:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Vr:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Vr:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Zs?us(us([][Symbol.iterator]())):Vr,"%JSON%":typeof JSON=="object"?JSON:Vr,"%Map%":typeof Map>"u"?Vr:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Zs?Vr:us(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Vr:Promise,"%Proxy%":typeof Proxy>"u"?Vr:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Vr:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Vr:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Zs?Vr:us(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Vr:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Zs?us(""[Symbol.iterator]()):Vr,"%Symbol%":Zs?Symbol:Vr,"%SyntaxError%":Sl,"%ThrowTypeError%":Eg,"%TypedArray%":kg,"%TypeError%":Xs,"%Uint8Array%":typeof Uint8Array>"u"?Vr:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Vr:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Vr:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Vr:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Vr:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Vr:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Vr:WeakSet},Cg=function xt(At){var Pt;if(At==="%AsyncFunction%")Pt=Eu("async function () {}");else if(At==="%GeneratorFunction%")Pt=Eu("function* () {}");else if(At==="%AsyncGeneratorFunction%")Pt=Eu("async function* () {}");else if(At==="%AsyncGenerator%"){var Ot=xt("%AsyncGeneratorFunction%");Ot&&(Pt=Ot.prototype)}else if(At==="%AsyncIteratorPrototype%"){var Rt=xt("%AsyncGenerator%");Rt&&(Pt=us(Rt.prototype))}return Js[At]=Pt,Pt},Zh={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},hc=Cs,dc=qh,Tg=hc.call(Function.call,Array.prototype.concat),Ag=hc.call(Function.apply,Array.prototype.splice),Kh=hc.call(Function.call,String.prototype.replace),fc=hc.call(Function.call,String.prototype.slice),$g=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Pg=/\\(\\)?/g,Og=function(xt){var At=fc(xt,0,1),Pt=fc(xt,-1);if(At==="%"&&Pt!=="%")throw new Sl("invalid intrinsic syntax, expected closing `%`");if(Pt==="%"&&At!=="%")throw new Sl("invalid intrinsic syntax, expected opening `%`");var Ot=[];return Kh(xt,$g,function(Rt,zt,Gt,ri){Ot[Ot.length]=Gt?Kh(ri,Pg,"$1"):zt||Rt}),Ot},Lg=function(xt,At){var Pt=xt,Ot;if(dc(Zh,Pt)&&(Ot=Zh[Pt],Pt="%"+Ot[0]+"%"),dc(Js,Pt)){var Rt=Js[Pt];if(Rt===Ks&&(Rt=Cg(Pt)),typeof Rt>"u"&&!At)throw new Xs("intrinsic "+xt+" exists, but is not available. Please file an issue!");return{alias:Ot,name:Pt,value:Rt}}throw new Sl("intrinsic "+xt+" does not exist!")},jo=function(xt,At){if(typeof xt!="string"||xt.length===0)throw new Xs("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof At!="boolean")throw new Xs('"allowMissing" argument must be a boolean');var Pt=Og(xt),Ot=Pt.length>0?Pt[0]:"",Rt=Lg("%"+Ot+"%",At),zt=Rt.name,Gt=Rt.value,ri=!1,yi=Rt.alias;yi&&(Ot=yi[0],Ag(Pt,Tg([0,1],yi)));for(var bi=1,fi=!0;bi<Pt.length;bi+=1){var Di=Pt[bi],Ji=fc(Di,0,1),ln=fc(Di,-1);if((Ji==='"'||Ji==="'"||Ji==="`"||ln==='"'||ln==="'"||ln==="`")&&Ji!==ln)throw new Sl("property names with quotes must have matching quotes");if((Di==="constructor"||!fi)&&(ri=!0),Ot+="."+Di,zt="%"+Ot+"%",dc(Js,zt))Gt=Js[zt];else if(Gt!=null){if(!(Di in Gt)){if(!At)throw new Xs("base intrinsic for "+xt+" exists, but the property is not available.");return}if(Ts&&bi+1>=Pt.length){var pn=Ts(Gt,Di);fi=!!pn,fi&&"get"in pn&&!("originalValue"in pn.get)?Gt=pn.get:Gt=Gt[Di]}else fi=dc(Gt,Di),Gt=Gt[Di];fi&&!ri&&(Js[zt]=Gt)}}return Gt};(function(xt){var At=Cs,Pt=jo,Ot=Pt("%Function.prototype.apply%"),Rt=Pt("%Function.prototype.call%"),zt=Pt("%Reflect.apply%",!0)||At.call(Rt,Ot),Gt=Pt("%Object.getOwnPropertyDescriptor%",!0),ri=Pt("%Object.defineProperty%",!0),yi=Pt("%Math.max%");if(ri)try{ri({},"a",{value:1})}catch{ri=null}xt.exports=function(fi){var Di=zt(At,Rt,arguments);if(Gt&&ri){var Ji=Gt(Di,"length");Ji.configurable&&ri(Di,"length",{value:1+yi(0,fi.length-(arguments.length-1))})}return Di};var bi=function(){return zt(At,Ot,arguments)};ri?ri(xt.exports,"apply",{value:bi}):xt.exports.apply=bi})(cs);var Jh=jo,Qh=cs.exports,Dg=Qh(Jh("String.prototype.indexOf")),As=function(xt,At){var Pt=Jh(xt,!!At);return typeof Pt=="function"&&Dg(xt,".prototype.")>-1?Qh(Pt):Pt},Mg=jo,Rg=Mg("%TypeError%"),Bg=function(xt,At){if(xt==null)throw new Rg(At||"Cannot call method on "+xt);return xt},pc=Bg,Ig=jo,ed=Ig("%Array%"),Ng=!ed.isArray&&As("Object.prototype.toString"),Fg=ed.isArray||function(xt){return Ng(xt)==="[object Array]"},td=jo,zg=As,Hg=td("%TypeError%"),Vg=Fg,Ug=td("%Reflect.apply%",!0)||zg("%Function.prototype.apply%"),jg=function(xt,At){var Pt=arguments.length>2?arguments[2]:[];if(!Vg(Pt))throw new Hg("Assertion failed: optional `argumentsList`, if provided, must be a List");return Ug(xt,At,Pt)},Wg={},Yg=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wg}),Gg=Oo(Yg),Cu=typeof Map=="function"&&Map.prototype,Tu=Object.getOwnPropertyDescriptor&&Cu?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,gc=Cu&&Tu&&typeof Tu.get=="function"?Tu.get:null,qg=Cu&&Map.prototype.forEach,Au=typeof Set=="function"&&Set.prototype,$u=Object.getOwnPropertyDescriptor&&Au?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,mc=Au&&$u&&typeof $u.get=="function"?$u.get:null,Xg=Au&&Set.prototype.forEach,Zg=typeof WeakMap=="function"&&WeakMap.prototype,El=Zg?WeakMap.prototype.has:null,Kg=typeof WeakSet=="function"&&WeakSet.prototype,kl=Kg?WeakSet.prototype.has:null,Jg=typeof WeakRef=="function"&&WeakRef.prototype,nd=Jg?WeakRef.prototype.deref:null,Qg=Boolean.prototype.valueOf,em=Object.prototype.toString,tm=Function.prototype.toString,im=String.prototype.match,Pu=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Ou=Object.getOwnPropertySymbols,Lu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Cl=typeof Symbol=="function"&&typeof Symbol.iterator=="object",nm=Object.prototype.propertyIsEnumerable,rd=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(xt){return xt.__proto__}:null),Du=Gg.custom,Mu=Du&&ad(Du)?Du:null,zo=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,rm=function xt(At,Pt,Ot,Rt){var zt=Pt||{};if($s(zt,"quoteStyle")&&zt.quoteStyle!=="single"&&zt.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if($s(zt,"maxStringLength")&&(typeof zt.maxStringLength=="number"?zt.maxStringLength<0&&zt.maxStringLength!==1/0:zt.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var Gt=$s(zt,"customInspect")?zt.customInspect:!0;if(typeof Gt!="boolean"&&Gt!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($s(zt,"indent")&&zt.indent!==null&&zt.indent!=="	"&&!(parseInt(zt.indent,10)===zt.indent&&zt.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof At>"u")return"undefined";if(At===null)return"null";if(typeof At=="boolean")return At?"true":"false";if(typeof At=="string")return ld(At,zt);if(typeof At=="number")return At===0?1/0/At>0?"0":"-0":String(At);if(typeof At=="bigint")return String(At)+"n";var ri=typeof zt.depth>"u"?5:zt.depth;if(typeof Ot>"u"&&(Ot=0),Ot>=ri&&ri>0&&typeof At=="object")return Ru(At)?"[Array]":"[Object]";var yi=Sm(zt,Ot);if(typeof Rt>"u")Rt=[];else if(sd(Rt,At)>=0)return"[Circular]";function bi(Kr,Jr,ma){if(Jr&&(Rt=Rt.slice(),Rt.push(Jr)),ma){var Wo={depth:zt.depth};return $s(zt,"quoteStyle")&&(Wo.quoteStyle=zt.quoteStyle),xt(Kr,Wo,Ot+1,Rt)}return xt(Kr,zt,Ot+1,Rt)}if(typeof At=="function"){var fi=pm(At),Di=yc(At,bi);return"[Function"+(fi?": "+fi:" (anonymous)")+"]"+(Di.length>0?" { "+Di.join(", ")+" }":"")}if(ad(At)){var Ji=Cl?String(At).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Lu.call(At);return typeof At=="object"&&!Cl?Tl(Ji):Ji}if(_m(At)){for(var ln="<"+String(At.nodeName).toLowerCase(),pn=At.attributes||[],kn=0;kn<pn.length;kn++)ln+=" "+pn[kn].name+"="+od(om(pn[kn].value),"double",zt);return ln+=">",At.childNodes&&At.childNodes.length&&(ln+="..."),ln+="</"+String(At.nodeName).toLowerCase()+">",ln}if(Ru(At)){if(At.length===0)return"[]";var Sn=yc(At,bi);return yi&&!xm(Sn)?"["+Iu(Sn,yi)+"]":"[ "+Sn.join(", ")+" ]"}if(lm(At)){var Nn=yc(At,bi);return Nn.length===0?"["+String(At)+"]":"{ ["+String(At)+"] "+Nn.join(", ")+" }"}if(typeof At=="object"&&Gt){if(Mu&&typeof At[Mu]=="function")return At[Mu]();if(Gt!=="symbol"&&typeof At.inspect=="function")return At.inspect()}if(gm(At)){var qn=[];return qg.call(At,function(Kr,Jr){qn.push(bi(Jr,At,!0)+" => "+bi(Kr,At))}),cd("Map",gc.call(At),qn,yi)}if(vm(At)){var Er=[];return Xg.call(At,function(Kr){Er.push(bi(Kr,At))}),cd("Set",mc.call(At),Er,yi)}if(mm(At))return Bu("WeakMap");if(bm(At))return Bu("WeakSet");if(ym(At))return Bu("WeakRef");if(um(At))return Tl(bi(Number(At)));if(dm(At))return Tl(bi(Pu.call(At)));if(hm(At))return Tl(Qg.call(At));if(cm(At))return Tl(bi(String(At)));if(!am(At)&&!sm(At)){var mr=yc(At,bi),pr=rd?rd(At)===Object.prototype:At instanceof Object||At.constructor===Object,Cr=At instanceof Object?"":"null prototype",yr=!pr&&zo&&Object(At)===At&&zo in At?hs(At).slice(8,-1):Cr?"Object":"",ro=pr||typeof At.constructor!="function"?"":At.constructor.name?At.constructor.name+" ":"",uo=ro+(yr||Cr?"["+[].concat(yr||[],Cr||[]).join(": ")+"] ":"");return mr.length===0?uo+"{}":yi?uo+"{"+Iu(mr,yi)+"}":uo+"{ "+mr.join(", ")+" }"}return String(At)};function od(xt,At,Pt){var Ot=(Pt.quoteStyle||At)==="double"?'"':"'";return Ot+xt+Ot}function om(xt){return String(xt).replace(/"/g,"&quot;")}function Ru(xt){return hs(xt)==="[object Array]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function am(xt){return hs(xt)==="[object Date]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function sm(xt){return hs(xt)==="[object RegExp]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function lm(xt){return hs(xt)==="[object Error]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function cm(xt){return hs(xt)==="[object String]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function um(xt){return hs(xt)==="[object Number]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function hm(xt){return hs(xt)==="[object Boolean]"&&(!zo||!(typeof xt=="object"&&zo in xt))}function ad(xt){if(Cl)return xt&&typeof xt=="object"&&xt instanceof Symbol;if(typeof xt=="symbol")return!0;if(!xt||typeof xt!="object"||!Lu)return!1;try{return Lu.call(xt),!0}catch{}return!1}function dm(xt){if(!xt||typeof xt!="object"||!Pu)return!1;try{return Pu.call(xt),!0}catch{}return!1}var fm=Object.prototype.hasOwnProperty||function(xt){return xt in this};function $s(xt,At){return fm.call(xt,At)}function hs(xt){return em.call(xt)}function pm(xt){if(xt.name)return xt.name;var At=im.call(tm.call(xt),/^function\s*([\w$]+)/);return At?At[1]:null}function sd(xt,At){if(xt.indexOf)return xt.indexOf(At);for(var Pt=0,Ot=xt.length;Pt<Ot;Pt++)if(xt[Pt]===At)return Pt;return-1}function gm(xt){if(!gc||!xt||typeof xt!="object")return!1;try{gc.call(xt);try{mc.call(xt)}catch{return!0}return xt instanceof Map}catch{}return!1}function mm(xt){if(!El||!xt||typeof xt!="object")return!1;try{El.call(xt,El);try{kl.call(xt,kl)}catch{return!0}return xt instanceof WeakMap}catch{}return!1}function ym(xt){if(!nd||!xt||typeof xt!="object")return!1;try{return nd.call(xt),!0}catch{}return!1}function vm(xt){if(!mc||!xt||typeof xt!="object")return!1;try{mc.call(xt);try{gc.call(xt)}catch{return!0}return xt instanceof Set}catch{}return!1}function bm(xt){if(!kl||!xt||typeof xt!="object")return!1;try{kl.call(xt,kl);try{El.call(xt,El)}catch{return!0}return xt instanceof WeakSet}catch{}return!1}function _m(xt){return!xt||typeof xt!="object"?!1:typeof HTMLElement<"u"&&xt instanceof HTMLElement?!0:typeof xt.nodeName=="string"&&typeof xt.getAttribute=="function"}function ld(xt,At){if(xt.length>At.maxStringLength){var Pt=xt.length-At.maxStringLength,Ot="... "+Pt+" more character"+(Pt>1?"s":"");return ld(xt.slice(0,At.maxStringLength),At)+Ot}var Rt=xt.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,wm);return od(Rt,"single",At)}function wm(xt){var At=xt.charCodeAt(0),Pt={8:"b",9:"t",10:"n",12:"f",13:"r"}[At];return Pt?"\\"+Pt:"\\x"+(At<16?"0":"")+At.toString(16).toUpperCase()}function Tl(xt){return"Object("+xt+")"}function Bu(xt){return xt+" { ? }"}function cd(xt,At,Pt,Ot){var Rt=Ot?Iu(Pt,Ot):Pt.join(", ");return xt+" ("+At+") {"+Rt+"}"}function xm(xt){for(var At=0;At<xt.length;At++)if(sd(xt[At],`
`)>=0)return!1;return!0}function Sm(xt,At){var Pt;if(xt.indent==="	")Pt="	";else if(typeof xt.indent=="number"&&xt.indent>0)Pt=Array(xt.indent+1).join(" ");else return null;return{base:Pt,prev:Array(At+1).join(Pt)}}function Iu(xt,At){if(xt.length===0)return"";var Pt=`
`+At.prev+At.base;return Pt+xt.join(","+Pt)+`
`+At.prev}function yc(xt,At){var Pt=Ru(xt),Ot=[];if(Pt){Ot.length=xt.length;for(var Rt=0;Rt<xt.length;Rt++)Ot[Rt]=$s(xt,Rt)?At(xt[Rt],xt):""}var zt=typeof Ou=="function"?Ou(xt):[],Gt;if(Cl){Gt={};for(var ri=0;ri<zt.length;ri++)Gt["$"+zt[ri]]=zt[ri]}for(var yi in xt)!$s(xt,yi)||Pt&&String(Number(yi))===yi&&yi<xt.length||Cl&&Gt["$"+yi]instanceof Symbol||(/[^\w$]/.test(yi)?Ot.push(At(yi,xt)+": "+At(xt[yi],xt)):Ot.push(yi+": "+At(xt[yi],xt)));if(typeof Ou=="function")for(var bi=0;bi<zt.length;bi++)nm.call(xt,zt[bi])&&Ot.push("["+At(zt[bi])+"]: "+At(xt[zt[bi]],xt));return Ot}var ud=function(xt){return typeof xt=="string"||typeof xt=="symbol"},Em=function(xt){if(xt===null)return"Null";if(typeof xt>"u")return"Undefined";if(typeof xt=="function"||typeof xt=="object")return"Object";if(typeof xt=="number")return"Number";if(typeof xt=="boolean")return"Boolean";if(typeof xt=="string")return"String"},km=Em,Nu=function(xt){return typeof xt=="symbol"?"Symbol":typeof xt=="bigint"?"BigInt":km(xt)},Cm=jo,hd=Cm("%TypeError%"),Tm=rm,Am=ud,$m=Nu,dd=function(xt,At){if($m(xt)!=="Object")throw new hd("Assertion failed: Type(O) is not Object");if(!Am(At))throw new hd("Assertion failed: IsPropertyKey(P) is not true, got "+Tm(At));return xt[At]},Pm=jo,fd=Pm("%TypeError%"),Om=ud,Lm=Nu,Dm=function(xt,At){if(Lm(xt)!=="Object")throw new fd("Assertion failed: `O` must be an Object");if(!Om(At))throw new fd("Assertion failed: `P` must be a Property Key");return At in xt},pd=Function.prototype.toString,Qs=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,Fu,vc;if(typeof Qs=="function"&&typeof Object.defineProperty=="function")try{Fu=Object.defineProperty({},"length",{get:function(){throw vc}}),vc={},Qs(function(){throw 42},null,Fu)}catch(xt){xt!==vc&&(Qs=null)}else Qs=null;var Mm=/^\s*class\b/,zu=function(xt){try{var At=pd.call(xt);return Mm.test(At)}catch{return!1}},Rm=function(xt){try{return zu(xt)?!1:(pd.call(xt),!0)}catch{return!1}},Bm=Object.prototype.toString,Im="[object Function]",Nm="[object GeneratorFunction]",Fm=typeof Symbol=="function"&&!!Symbol.toStringTag,gd=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},Hu=Qs?function(xt){if(xt===gd)return!0;if(!xt||typeof xt!="function"&&typeof xt!="object")return!1;if(typeof xt=="function"&&!xt.prototype)return!0;try{Qs(xt,null,Fu)}catch(At){if(At!==vc)return!1}return!zu(xt)}:function(xt){if(xt===gd)return!0;if(!xt||typeof xt!="function"&&typeof xt!="object")return!1;if(typeof xt=="function"&&!xt.prototype)return!0;if(Fm)return Rm(xt);if(zu(xt))return!1;var At=Bm.call(xt);return At===Im||At===Nm},zm=Hu,md=jo,Hm=md("%Math%"),Vm=md("%Number%"),Um=Vm.MAX_SAFE_INTEGER||Hm.pow(2,53)-1,jm=jo,Wm=jm("%Math.abs%"),Ym=function(xt){return Wm(xt)},Gm=Math.floor,qm=function(xt){return Gm(xt)},yd=function(xt){return xt===null||typeof xt!="function"&&typeof xt!="object"},Xm=Object.prototype.toString,vd=yd,Zm=Hu,bd={"[[DefaultValue]]":function(xt){var At;if(arguments.length>1?At=arguments[1]:At=Xm.call(xt)==="[object Date]"?String:Number,At===String||At===Number){var Pt=At===String?["toString","valueOf"]:["valueOf","toString"],Ot,Rt;for(Rt=0;Rt<Pt.length;++Rt)if(Zm(xt[Pt[Rt]])&&(Ot=xt[Pt[Rt]](),vd(Ot)))return Ot;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},Km=function(xt){return vd(xt)?xt:arguments.length>1?bd["[[DefaultValue]]"](xt,arguments[1]):bd["[[DefaultValue]]"](xt)},Jm=Km,Qm=Jm,e0=function(xt){var At=Qm(xt,Number);if(typeof At!="string")return+At;var Pt=At.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(Pt)?NaN:+Pt},i0=Number.isNaN||function(xt){return xt!==xt},n0=Number.isNaN||function(xt){return xt!==xt},r0=Number.isFinite||function(xt){return typeof xt=="number"&&!n0(xt)&&xt!==1/0&&xt!==-1/0},o0=function(xt){return xt>=0?1:-1},a0=Ym,s0=qm,l0=e0,c0=i0,u0=r0,h0=o0,d0=function(xt){var At=l0(xt);return c0(At)?0:At===0||!u0(At)?At:h0(At)*s0(a0(At))},f0=jo,p0=f0("RegExp.prototype.test"),g0=cs.exports,m0=function(xt){return g0(p0,xt)},y0=function(xt){return xt===null||typeof xt!="function"&&typeof xt!="object"},v0=xl,_d=function(){return v0()&&!!Symbol.toStringTag},b0=Date.prototype.getDay,_0=function(xt){try{return b0.call(xt),!0}catch{return!1}},w0=Object.prototype.toString,x0="[object Date]",S0=_d(),E0=function(xt){return typeof xt!="object"||xt===null?!1:S0?_0(xt):w0.call(xt)===x0},Vu={exports:{}},k0=Object.prototype.toString,C0=Gh();if(C0){var T0=Symbol.prototype.toString,A0=/^Symbol\(.*\)$/,$0=function(xt){return typeof xt.valueOf()!="symbol"?!1:A0.test(T0.call(xt))};Vu.exports=function(xt){if(typeof xt=="symbol")return!0;if(k0.call(xt)!=="[object Symbol]")return!1;try{return $0(xt)}catch{return!1}}}else Vu.exports=function(xt){return!1};var P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",Uu=yd,wd=Hu,O0=E0,xd=Vu.exports,L0=function(xt,At){if(typeof xt>"u"||xt===null)throw new TypeError("Cannot call method on "+xt);if(typeof At!="string"||At!=="number"&&At!=="string")throw new TypeError('hint must be "string" or "number"');var Pt=At==="string"?["toString","valueOf"]:["valueOf","toString"],Ot,Rt,zt;for(zt=0;zt<Pt.length;++zt)if(Ot=xt[Pt[zt]],wd(Ot)&&(Rt=Ot.call(xt),Uu(Rt)))return Rt;throw new TypeError("No default value")},D0=function(xt,At){var Pt=xt[At];if(Pt!==null&&typeof Pt<"u"){if(!wd(Pt))throw new TypeError(Pt+" returned for property "+At+" of object "+xt+" is not a function");return Pt}},M0=function(xt){if(Uu(xt))return xt;var At="default";arguments.length>1&&(arguments[1]===String?At="string":arguments[1]===Number&&(At="number"));var Pt;if(P0&&(Symbol.toPrimitive?Pt=D0(xt,Symbol.toPrimitive):xd(xt)&&(Pt=Symbol.prototype.valueOf)),typeof Pt<"u"){var Ot=Pt.call(xt,At);if(Uu(Ot))return Ot;throw new TypeError("unable to convert exotic object to primitive")}return At==="default"&&(O0(xt)||xd(xt))&&(At="string"),L0(xt,At==="default"?"number":At)},Sd=M0,R0=function(xt){return arguments.length>1?Sd(xt,arguments[1]):Sd(xt)},bc=jo,Ed=bc("%TypeError%"),kd=bc("%Number%"),B0=bc("%RegExp%"),Cd=bc("%parseInt%"),Td=As,_c=m0,I0=y0,Ad=Td("String.prototype.slice"),N0=_c(/^0b[01]+$/i),F0=_c(/^0o[0-7]+$/i),z0=_c(/^[-+]0x[0-9a-f]+$/i),H0=["\x85","\u200B","\uFFFE"].join(""),V0=new B0("["+H0+"]","g"),U0=_c(V0),$d=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),j0=new RegExp("(^["+$d+"]+)|(["+$d+"]+$)","g"),W0=Td("String.prototype.replace"),Y0=function(xt){return W0(xt,j0,"")},G0=R0,q0=function xt(At){var Pt=I0(At)?At:G0(At,kd);if(typeof Pt=="symbol")throw new Ed("Cannot convert a Symbol value to a number");if(typeof Pt=="bigint")throw new Ed("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof Pt=="string"){if(N0(Pt))return xt(Cd(Ad(Pt,2),2));if(F0(Pt))return xt(Cd(Ad(Pt,2),8));if(U0(Pt)||z0(Pt))return NaN;var Ot=Y0(Pt);if(Ot!==Pt)return xt(Ot)}return kd(Pt)},X0=d0,Z0=q0,K0=function(xt){var At=Z0(xt);return At!==0&&(At=X0(At)),At===0?0:At},Pd=Um,J0=K0,Q0=function(xt){var At=J0(xt);return At<=0?0:At>Pd?Pd:At},e1=jo,i1=e1("%TypeError%"),n1=dd,r1=Q0,o1=Nu,a1=function(xt){if(o1(xt)!=="Object")throw new i1("Assertion failed: `obj` must be an Object");return r1(n1(xt,"length"))},s1=jo,l1=s1("%Object%"),c1=pc,u1=function(xt){return c1(xt),l1(xt)},Od=jo,h1=Od("%String%"),d1=Od("%TypeError%"),Ld=function(xt){if(typeof xt=="symbol")throw new d1("Cannot convert a Symbol value to a string");return h1(xt)},f1=String.prototype.valueOf,p1=function(xt){try{return f1.call(xt),!0}catch{return!1}},g1=Object.prototype.toString,m1="[object String]",y1=_d(),v1=function(xt){return typeof xt=="string"?!0:typeof xt!="object"?!1:y1?p1(xt):g1.call(xt)===m1},b1=jo,_1=As,w1=b1("%TypeError%"),x1=jg,S1=dd,E1=Dm,k1=zm,C1=a1,T1=u1,A1=Ld,$1=v1,P1=_1("String.prototype.split"),Dd=Object("a"),O1=Dd[0]!=="a"||!(0 in Dd),Md=function(xt){var At=T1(this),Pt=O1&&$1(this)?P1(this,""):At,Ot=C1(Pt);if(!k1(xt))throw new w1("Array.prototype.forEach callback must be a function");var Rt;arguments.length>1&&(Rt=arguments[1]);for(var zt=0;zt<Ot;){var Gt=A1(zt),ri=E1(Pt,Gt);if(ri){var yi=S1(Pt,Gt);x1(xt,Rt,[yi,zt,Pt])}zt+=1}},L1=function(xt){var At=!0,Pt=!0,Ot=!1;if(typeof xt=="function"){try{xt.call("f",function(Rt,zt,Gt){typeof Gt!="object"&&(At=!1)}),xt.call([null],function(){"use strict";Pt=typeof this=="string"},"x")}catch{Ot=!0}return!Ot&&At&&Pt}return!1},D1=L1,M1=Md,Rd=function(){var xt=Array.prototype.forEach;return D1(xt)?xt:M1},R1=Wa,B1=Rd,I1=function(){var xt=B1();return R1(Array.prototype,{forEach:xt},{forEach:function(){return Array.prototype.forEach!==xt}}),xt},N1=Wa,F1=cs.exports,z1=As,H1=pc,V1=Md,Bd=Rd,U1=Bd(),j1=I1,W1=z1("Array.prototype.slice"),Y1=F1.apply(U1),Id=function(xt,At){return H1(xt),Y1(xt,W1(arguments,1))};N1(Id,{getPolyfill:Bd,implementation:V1,shim:j1});var G1=Id,q1=pc,Nd=As,X1=Nd("Object.prototype.propertyIsEnumerable"),Z1=Nd("Array.prototype.push"),Fd=function(xt){var At=q1(xt),Pt=[];for(var Ot in At)X1(At,Ot)&&Z1(Pt,[Ot,At[Ot]]);return Pt},K1=Fd,zd=function(){return typeof Object.entries=="function"?Object.entries:K1},J1=zd,Q1=Wa,ey=function(){var xt=J1();return Q1(Object,{entries:xt},{entries:function(){return Object.entries!==xt}}),xt},ty=Wa,iy=cs.exports,ny=Fd,Hd=zd,ry=ey,Vd=iy(Hd(),Object);ty(Vd,{getPolyfill:Hd,implementation:ny,shim:ry});var oy=Vd,ay=pc,sy=Ld,ly=As,Ud=ly("String.prototype.replace"),cy=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,uy=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,jd=function(){var xt=sy(ay(this));return Ud(Ud(xt,cy,""),uy,"")},hy=jd,Wd="\u200B",Yd=function(){return String.prototype.trim&&Wd.trim()===Wd?String.prototype.trim:hy},dy=Wa,fy=Yd,py=function(){var xt=fy();return dy(String.prototype,{trim:xt},{trim:function(){return String.prototype.trim!==xt}}),xt},gy=cs.exports,my=Wa,yy=jd,Gd=Yd,vy=py,qd=gy(Gd());my(qd,{getPolyfill:Gd,implementation:yy,shim:vy});var by=qd,wc=G1,ju=oy,Xd=qh,_y=by,wy=function(xt){},xy=String.prototype.replace,Zd=String.prototype.split,xc="||||",Wu=function(xt){var At=xt%100,Pt=At%10;return At!==11&&Pt===1?0:2<=Pt&&Pt<=4&&!(At>=12&&At<=14)?1:2},Kd={pluralTypes:{arabic:function(xt){if(xt<3)return xt;var At=xt%100;return At>=3&&At<=10?3:At>=11?4:5},bosnian_serbian:Wu,chinese:function(){return 0},croatian:Wu,french:function(xt){return xt>=2?1:0},german:function(xt){return xt!==1?1:0},russian:Wu,lithuanian:function(xt){return xt%10==1&&xt%100!=11?0:xt%10>=2&&xt%10<=9&&(xt%100<11||xt%100>19)?1:2},czech:function(xt){return xt===1?0:xt>=2&&xt<=4?1:2},polish:function(xt){if(xt===1)return 0;var At=xt%10;return 2<=At&&At<=4&&(xt%100<10||xt%100>=20)?1:2},icelandic:function(xt){return xt%10!=1||xt%100==11?1:0},slovenian:function(xt){var At=xt%100;return At===1?0:At===2?1:At===3||At===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function Sy(xt){var At={};return wc(ju(xt),function(Pt){var Ot=Pt[0],Rt=Pt[1];wc(Rt,function(zt){At[zt]=Ot})}),At}function Ey(xt,At){var Pt=Sy(xt.pluralTypeToLanguages);return Pt[At]||Pt[Zd.call(At,/-/,1)[0]]||Pt.en}function ky(xt,At,Pt){return xt.pluralTypes[At](Pt)}function Cy(){var xt={};return function(At,Pt){var Ot=xt[Pt];return Ot&&!At.pluralTypes[Ot]&&(Ot=null,xt[Pt]=Ot),Ot||(Ot=Ey(At,Pt),Ot&&(xt[Pt]=Ot)),Ot}}function Jd(xt){return xt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Ty(xt){var At=xt&&xt.prefix||"%{",Pt=xt&&xt.suffix||"}";if(At===xc||Pt===xc)throw new RangeError('"'+xc+'" token is reserved for pluralization');return new RegExp(Jd(At)+"(.*?)"+Jd(Pt),"g")}var Ay=Cy(),$y=/%\{(.*?)\}/g;function Yu(xt,At,Pt,Ot,Rt){if(typeof xt!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(At==null)return xt;var zt=xt,Gt=Ot||$y,ri=typeof At=="number"?{smart_count:At}:At;if(ri.smart_count!=null&&xt){var yi=Rt||Kd,bi=Zd.call(xt,xc),fi=Pt||"en",Di=Ay(yi,fi),Ji=ky(yi,Di,ri.smart_count);zt=_y(bi[Ji]||bi[0])}return zt=xy.call(zt,Gt,function(ln,pn){return!Xd(ri,pn)||ri[pn]==null?ln:ri[pn]}),zt}function Ya(xt){var At=xt||{};this.phrases={},this.extend(At.phrases||{}),this.currentLocale=At.locale||"en";var Pt=At.allowMissing?Yu:null;this.onMissingKey=typeof At.onMissingKey=="function"?At.onMissingKey:Pt,this.warn=At.warn||wy,this.tokenRegex=Ty(At.interpolation),this.pluralRules=At.pluralRules||Kd}Ya.prototype.locale=function(xt){return xt&&(this.currentLocale=xt),this.currentLocale},Ya.prototype.extend=function(xt,At){wc(ju(xt||{}),function(Pt){var Ot=Pt[0],Rt=Pt[1],zt=At?At+"."+Ot:Ot;typeof Rt=="object"?this.extend(Rt,zt):this.phrases[zt]=Rt},this)},Ya.prototype.unset=function(xt,At){typeof xt=="string"?delete this.phrases[xt]:wc(ju(xt||{}),function(Pt){var Ot=Pt[0],Rt=Pt[1],zt=At?At+"."+Ot:Ot;typeof Rt=="object"?this.unset(Rt,zt):delete this.phrases[zt]},this)},Ya.prototype.clear=function(){this.phrases={}},Ya.prototype.replace=function(xt){this.clear(),this.extend(xt)},Ya.prototype.t=function(xt,At){var Pt,Ot,Rt=At==null?{}:At;if(typeof this.phrases[xt]=="string")Pt=this.phrases[xt];else if(typeof Rt._=="string")Pt=Rt._;else if(this.onMissingKey){var zt=this.onMissingKey;Ot=zt(xt,Rt,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+xt+'"'),Ot=xt;return typeof Pt=="string"&&(Ot=Yu(Pt,Rt,this.currentLocale,this.tokenRegex,this.pluralRules)),Ot},Ya.prototype.has=function(xt){return Xd(this.phrases,xt)},Ya.transformPhrase=function(xt,At,Pt){return Yu(xt,At,Pt)};var Py=Ya,Oy={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},Ly={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},Dy={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},My={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},Ry={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},By={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},Iy={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},Ny={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Fy={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},zy={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Hy={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},Vy={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},Uy={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},jy={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Wy={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},Yy={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},Gy={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},Qd={};Object.defineProperty(Qd,"__esModule",{value:!0});var Gu=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function qy(xt,At){return At<3?Gu[xt][At-1]:At>=3&&At<=10?Gu[xt][2]:Gu[xt][3]}function Xy(xt,At){if(At===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var Pt=qy(Math.floor(At/2),xt);return["\u0645\u0646\u0630 "+Pt,"\u0628\u0639\u062F "+Pt]}var Zy=Qd.default=Xy,ef={};Object.defineProperty(ef,"__esModule",{value:!0});function Ky(xt,At){var Pt=0,Ot=At==1||At==3||At==5||At==7||At==9||At==11||At==13;return Ot&&xt>=5&&(Pt=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][At][Pt]}var Jy=ef.default=Ky,tf={};Object.defineProperty(tf,"__esModule",{value:!0});function Qy(xt,At){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][At]}var ev=tf.default=Qy,nf={};Object.defineProperty(nf,"__esModule",{value:!0});function tv(xt,At){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][At]}var iv=nf.default=tv,rf={};Object.defineProperty(rf,"__esModule",{value:!0});function nv(xt,At){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][At]}var rv=rf.default=nv,of={};Object.defineProperty(of,"__esModule",{value:!0});function ov(xt,At){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][At]}var av=of.default=ov,af={};Object.defineProperty(af,"__esModule",{value:!0});function sv(xt,At){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][At]}var lv=af.default=sv,sf={};Object.defineProperty(sf,"__esModule",{value:!0});function cv(xt,At){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][At]}var uv=sf.default=cv,lf={};Object.defineProperty(lf,"__esModule",{value:!0});function hv(xt,At){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][At]}var dv=lf.default=hv,cf={};Object.defineProperty(cf,"__esModule",{value:!0});function fv(xt,At){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][At]}var pv=cf.default=fv,uf={};Object.defineProperty(uf,"__esModule",{value:!0});function gv(xt,At){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][At]}var mv=uf.default=gv,hf={};Object.defineProperty(hf,"__esModule",{value:!0});function yv(xt,At){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][At]}var vv=hf.default=yv,df={};Object.defineProperty(df,"__esModule",{value:!0});function bv(xt,At){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][At]}var _v=df.default=bv,ff={};Object.defineProperty(ff,"__esModule",{value:!0});function wv(xt,At){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][At]}var xv=ff.default=wv,pf={};Object.defineProperty(pf,"__esModule",{value:!0});function Sv(xt,At){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][At]}var Ev=pf.default=Sv,gf={};Object.defineProperty(gf,"__esModule",{value:!0});function kv(xt,At){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][At]}var Cv=gf.default=kv;const Al={ar:Oy,cs:Ly,de:Dy,el:My,es:Ry,fi:By,fr:Iy,gl:Ny,hi:Fy,it:zy,ko:Hy,nl:Vy,pt:Uy,sv:jy,th:Wy,tr:Yy,ur:Gy},Ps=new Py({allowMissing:!0});Ps.init=(xt,At)=>{Ps.clear(),xt&&(Ps.locale(xt),Ps.extend(Al[xt])),At&&Ps.extend(At)},wo("ar",Zy),wo("cs",Jy),wo("de",ev),wo("el",iv),wo("es",rv),wo("fi",av),wo("fr",lv),wo("gl",uv),wo("hi",dv),wo("it",pv),wo("ko",mv),wo("nl",vv),wo("pt",_v),wo("sv",xv),wo("th",Ev),wo("tr",Cv),Ps.registerMessages=(xt,At)=>{Al[xt]?Al[xt]=Tt(Tt({},Al[xt]),At):Al[xt]=At};var aa=Ps,Tv=xt=>{const At=li();return tc(At,()=>xt.onClickOutside()),ei("ul",{ref:At,className:"r6o-comment-dropdown-menu"},ei("li",{onClick:xt.onEdit},aa.t("Edit")),ei("li",{onClick:xt.onDelete},aa.t("Delete")))},mf={},qu={},Xu={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(xt,At){(function(Pt,Ot){Ot(xt,At)})(bo,function(Pt,Ot){var Rt=typeof Map=="function"?new Map:function(){var fi=[],Di=[];return{has:function(Ji){return fi.indexOf(Ji)>-1},get:function(Ji){return Di[fi.indexOf(Ji)]},set:function(Ji,ln){fi.indexOf(Ji)===-1&&(fi.push(Ji),Di.push(ln))},delete:function(Ji){var ln=fi.indexOf(Ji);ln>-1&&(fi.splice(ln,1),Di.splice(ln,1))}}}(),zt=function(fi){return new Event(fi,{bubbles:!0})};try{new Event("test")}catch{zt=function(Di){var Ji=document.createEvent("Event");return Ji.initEvent(Di,!0,!1),Ji}}function Gt(fi){if(!fi||!fi.nodeName||fi.nodeName!=="TEXTAREA"||Rt.has(fi))return;var Di=null,Ji=null,ln=null;function pn(){var pr=window.getComputedStyle(fi,null);pr.resize==="vertical"?fi.style.resize="none":pr.resize==="both"&&(fi.style.resize="horizontal"),pr.boxSizing==="content-box"?Di=-(parseFloat(pr.paddingTop)+parseFloat(pr.paddingBottom)):Di=parseFloat(pr.borderTopWidth)+parseFloat(pr.borderBottomWidth),isNaN(Di)&&(Di=0),qn()}function kn(pr){{var Cr=fi.style.width;fi.style.width="0px",fi.offsetWidth,fi.style.width=Cr}fi.style.overflowY=pr}function Sn(pr){for(var Cr=[];pr&&pr.parentNode&&pr.parentNode instanceof Element;)pr.parentNode.scrollTop&&Cr.push({node:pr.parentNode,scrollTop:pr.parentNode.scrollTop}),pr=pr.parentNode;return Cr}function Nn(){if(fi.scrollHeight!==0){var pr=Sn(fi),Cr=document.documentElement&&document.documentElement.scrollTop;fi.style.height="",fi.style.height=fi.scrollHeight+Di+"px",Ji=fi.clientWidth,pr.forEach(function(yr){yr.node.scrollTop=yr.scrollTop}),Cr&&(document.documentElement.scrollTop=Cr)}}function qn(){Nn();var pr=Math.round(parseFloat(fi.style.height)),Cr=window.getComputedStyle(fi,null),yr=Cr.boxSizing==="content-box"?Math.round(parseFloat(Cr.height)):fi.offsetHeight;if(yr<pr?Cr.overflowY==="hidden"&&(kn("scroll"),Nn(),yr=Cr.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(fi,null).height)):fi.offsetHeight):Cr.overflowY!=="hidden"&&(kn("hidden"),Nn(),yr=Cr.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(fi,null).height)):fi.offsetHeight),ln!==yr){ln=yr;var ro=zt("autosize:resized");try{fi.dispatchEvent(ro)}catch{}}}var Er=function(){fi.clientWidth!==Ji&&qn()},mr=function(pr){window.removeEventListener("resize",Er,!1),fi.removeEventListener("input",qn,!1),fi.removeEventListener("keyup",qn,!1),fi.removeEventListener("autosize:destroy",mr,!1),fi.removeEventListener("autosize:update",qn,!1),Object.keys(pr).forEach(function(Cr){fi.style[Cr]=pr[Cr]}),Rt.delete(fi)}.bind(fi,{height:fi.style.height,resize:fi.style.resize,overflowY:fi.style.overflowY,overflowX:fi.style.overflowX,wordWrap:fi.style.wordWrap});fi.addEventListener("autosize:destroy",mr,!1),"onpropertychange"in fi&&"oninput"in fi&&fi.addEventListener("keyup",qn,!1),window.addEventListener("resize",Er,!1),fi.addEventListener("input",qn,!1),fi.addEventListener("autosize:update",qn,!1),fi.style.overflowX="hidden",fi.style.wordWrap="break-word",Rt.set(fi,{destroy:mr,update:qn}),pn()}function ri(fi){var Di=Rt.get(fi);Di&&Di.destroy()}function yi(fi){var Di=Rt.get(fi);Di&&Di.update()}var bi=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(bi=function(fi){return fi},bi.destroy=function(fi){return fi},bi.update=function(fi){return fi}):(bi=function(fi,Di){return fi&&Array.prototype.forEach.call(fi.length?fi:[fi],function(Ji){return Gt(Ji)}),fi},bi.destroy=function(fi){return fi&&Array.prototype.forEach.call(fi.length?fi:[fi],ri),fi},bi.update=function(fi){return fi&&Array.prototype.forEach.call(fi.length?fi:[fi],yi),fi}),Ot.default=bi,Pt.exports=Ot.default})})(Xu,Xu.exports);var Av=function(xt,At,Pt){return Pt=window.getComputedStyle,(Pt?Pt(xt):xt.currentStyle)[At.replace(/-(\w)/gi,function(Ot,Rt){return Rt.toUpperCase()})]},$v=Av,Zu=$v;function Pv(xt){var At=Zu(xt,"line-height"),Pt=parseFloat(At,10);if(At===Pt+""){var Ot=xt.style.lineHeight;xt.style.lineHeight=At+"em",At=Zu(xt,"line-height"),Pt=parseFloat(At,10),Ot?xt.style.lineHeight=Ot:delete xt.style.lineHeight}if(At.indexOf("pt")!==-1?(Pt*=4,Pt/=3):At.indexOf("mm")!==-1?(Pt*=96,Pt/=25.4):At.indexOf("cm")!==-1?(Pt*=96,Pt/=2.54):At.indexOf("in")!==-1?Pt*=96:At.indexOf("pc")!==-1&&(Pt*=16),Pt=Math.round(Pt),At==="normal"){var Rt=xt.nodeName,zt=document.createElement(Rt);zt.innerHTML="&nbsp;",Rt.toUpperCase()==="TEXTAREA"&&zt.setAttribute("rows","1");var Gt=Zu(xt,"font-size");zt.style.fontSize=Gt,zt.style.padding="0px",zt.style.border="0px";var ri=document.body;ri.appendChild(zt);var yi=zt.offsetHeight;Pt=yi,ri.removeChild(zt)}return Pt}var Ov=Pv,Lv=bo&&bo.__extends||function(){var xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(At,Pt){At.__proto__=Pt}||function(At,Pt){for(var Ot in Pt)Pt.hasOwnProperty(Ot)&&(At[Ot]=Pt[Ot])};return function(At,Pt){xt(At,Pt);function Ot(){this.constructor=At}At.prototype=Pt===null?Object.create(Pt):(Ot.prototype=Pt.prototype,new Ot)}}(),Ku=bo&&bo.__assign||Object.assign||function(xt){for(var At,Pt=1,Ot=arguments.length;Pt<Ot;Pt++){At=arguments[Pt];for(var Rt in At)Object.prototype.hasOwnProperty.call(At,Rt)&&(xt[Rt]=At[Rt])}return xt},Dv=bo&&bo.__rest||function(xt,At){var Pt={};for(var Ot in xt)Object.prototype.hasOwnProperty.call(xt,Ot)&&At.indexOf(Ot)<0&&(Pt[Ot]=xt[Ot]);if(xt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Rt=0,Ot=Object.getOwnPropertySymbols(xt);Rt<Ot.length;Rt++)At.indexOf(Ot[Rt])<0&&(Pt[Ot[Rt]]=xt[Ot[Rt]]);return Pt};qu.__esModule=!0;var Sc=ao,$l=So.exports,Ec=Xu.exports,Mv=Ov,Rv=Mv,yf="autosize:resized",Bv=function(xt){Lv(At,xt);function At(){var Pt=xt!==null&&xt.apply(this,arguments)||this;return Pt.state={lineHeight:null},Pt.textarea=null,Pt.onResize=function(Ot){Pt.props.onResize&&Pt.props.onResize(Ot)},Pt.updateLineHeight=function(){Pt.textarea&&Pt.setState({lineHeight:Rv(Pt.textarea)})},Pt.onChange=function(Ot){var Rt=Pt.props.onChange;Pt.currentValue=Ot.currentTarget.value,Rt&&Rt(Ot)},Pt}return At.prototype.componentDidMount=function(){var Pt=this,Ot=this.props,Rt=Ot.maxRows,zt=Ot.async;typeof Rt=="number"&&this.updateLineHeight(),typeof Rt=="number"||zt?setTimeout(function(){return Pt.textarea&&Ec(Pt.textarea)}):this.textarea&&Ec(this.textarea),this.textarea&&this.textarea.addEventListener(yf,this.onResize)},At.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(yf,this.onResize),Ec.destroy(this.textarea))},At.prototype.render=function(){var Pt=this,Ot=this,Rt=Ot.props;Rt.onResize;var zt=Rt.maxRows;Rt.onChange;var Gt=Rt.style;Rt.innerRef;var ri=Rt.children,yi=Dv(Rt,["onResize","maxRows","onChange","style","innerRef","children"]),bi=Ot.state.lineHeight,fi=zt&&bi?bi*zt:null;return Sc.createElement("textarea",Ku({},yi,{onChange:this.onChange,style:fi?Ku({},Gt,{maxHeight:fi}):Gt,ref:function(Di){Pt.textarea=Di,typeof Pt.props.innerRef=="function"?Pt.props.innerRef(Di):Pt.props.innerRef&&(Pt.props.innerRef.current=Di)}}),ri)},At.prototype.componentDidUpdate=function(){this.textarea&&Ec.update(this.textarea)},At.defaultProps={rows:1,async:!1},At.propTypes={rows:$l.number,maxRows:$l.number,onResize:$l.func,innerRef:$l.any,async:$l.bool},At}(Sc.Component);qu.TextareaAutosize=Sc.forwardRef(function(xt,At){return Sc.createElement(Bv,Ku({},xt,{innerRef:At}))}),function(xt){xt.__esModule=!0;var At=qu;xt.default=At.TextareaAutosize}(mf);var Iv=Go(mf);class vf extends ni{constructor(At){super(At),Lt(this,"onKeyDown",Pt=>{Pt.which===13&&Pt.ctrlKey&&this.props.onSaveAndClose()}),this.element=Kt()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return ei(Iv,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||aa.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function xr(){return xr=Object.assign||function(xt){for(var At=1;At<arguments.length;At++){var Pt=arguments[At];for(var Ot in Pt)Object.prototype.hasOwnProperty.call(Pt,Ot)&&(xt[Ot]=Pt[Ot])}return xt},xr.apply(this,arguments)}function Nv(xt){if(xt.sheet)return xt.sheet;for(var At=0;At<document.styleSheets.length;At++)if(document.styleSheets[At].ownerNode===xt)return document.styleSheets[At]}function Fv(xt){var At=document.createElement("style");return At.setAttribute("data-emotion",xt.key),xt.nonce!==void 0&&At.setAttribute("nonce",xt.nonce),At.appendChild(document.createTextNode("")),At.setAttribute("data-s",""),At}var zv=function(){function xt(Pt){var Ot=this;this._insertTag=function(Rt){var zt;Ot.tags.length===0?Ot.insertionPoint?zt=Ot.insertionPoint.nextSibling:Ot.prepend?zt=Ot.container.firstChild:zt=Ot.before:zt=Ot.tags[Ot.tags.length-1].nextSibling,Ot.container.insertBefore(Rt,zt),Ot.tags.push(Rt)},this.isSpeedy=Pt.speedy===void 0?!0:Pt.speedy,this.tags=[],this.ctr=0,this.nonce=Pt.nonce,this.key=Pt.key,this.container=Pt.container,this.prepend=Pt.prepend,this.insertionPoint=Pt.insertionPoint,this.before=null}var At=xt.prototype;return At.hydrate=function(Pt){Pt.forEach(this._insertTag)},At.insert=function(Pt){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(Fv(this));var Ot=this.tags[this.tags.length-1];if(this.isSpeedy){var Rt=Nv(Ot);try{Rt.insertRule(Pt,Rt.cssRules.length)}catch{}}else Ot.appendChild(document.createTextNode(Pt));this.ctr++},At.flush=function(){this.tags.forEach(function(Pt){return Pt.parentNode&&Pt.parentNode.removeChild(Pt)}),this.tags=[],this.ctr=0},xt}(),Ho="-ms-",kc="-moz-",jr="-webkit-",bf="comm",Ju="rule",Qu="decl",Hv="@import",Vv="@keyframes",Uv=Math.abs,Cc=String.fromCharCode;function jv(xt,At){return(((At<<2^Jo(xt,0))<<2^Jo(xt,1))<<2^Jo(xt,2))<<2^Jo(xt,3)}function _f(xt){return xt.trim()}function Wv(xt,At){return(xt=At.exec(xt))?xt[0]:xt}function Xr(xt,At,Pt){return xt.replace(At,Pt)}function wf(xt,At){return xt.indexOf(At)}function Jo(xt,At){return xt.charCodeAt(At)|0}function Pl(xt,At,Pt){return xt.slice(At,Pt)}function Ia(xt){return xt.length}function eh(xt){return xt.length}function Tc(xt,At){return At.push(xt),xt}function Yv(xt,At){return xt.map(At).join("")}var Ac=1,el=1,xf=0,Qo=0,xo=0,tl="";function $c(xt,At,Pt,Ot,Rt,zt,Gt){return{value:xt,root:At,parent:Pt,type:Ot,props:Rt,children:zt,line:Ac,column:el,length:Gt,return:""}}function Ol(xt,At,Pt){return $c(xt,At.root,At.parent,Pt,At.props,At.children,0)}function Gv(){return xo}function qv(){return xo=Qo>0?Jo(tl,--Qo):0,el--,xo===10&&(el=1,Ac--),xo}function sa(){return xo=Qo<xf?Jo(tl,Qo++):0,el++,xo===10&&(el=1,Ac++),xo}function Na(){return Jo(tl,Qo)}function Pc(){return Qo}function Ll(xt,At){return Pl(tl,xt,At)}function Dl(xt){switch(xt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Sf(xt){return Ac=el=1,xf=Ia(tl=xt),Qo=0,[]}function Ef(xt){return tl="",xt}function th(xt){return _f(Ll(Qo-1,ih(xt===91?xt+2:xt===40?xt+1:xt)))}function Xv(xt){for(;(xo=Na())&&xo<33;)sa();return Dl(xt)>2||Dl(xo)>3?"":" "}function Zv(xt,At){for(;--At&&sa()&&!(xo<48||xo>102||xo>57&&xo<65||xo>70&&xo<97););return Ll(xt,Pc()+(At<6&&Na()==32&&sa()==32))}function ih(xt){for(;sa();)switch(xo){case xt:return Qo;case 34:case 39:return ih(xt===34||xt===39?xt:xo);case 40:xt===41&&ih(xt);break;case 92:sa();break}return Qo}function Kv(xt,At){for(;sa()&&xt+xo!==47+10&&!(xt+xo===42+42&&Na()===47););return"/*"+Ll(At,Qo-1)+"*"+Cc(xt===47?xt:sa())}function Jv(xt){for(;!Dl(Na());)sa();return Ll(xt,Qo)}function Qv(xt){return Ef(Oc("",null,null,null,[""],xt=Sf(xt),0,[0],xt))}function Oc(xt,At,Pt,Ot,Rt,zt,Gt,ri,yi){for(var bi=0,fi=0,Di=Gt,Ji=0,ln=0,pn=0,kn=1,Sn=1,Nn=1,qn=0,Er="",mr=Rt,pr=zt,Cr=Ot,yr=Er;Sn;)switch(pn=qn,qn=sa()){case 34:case 39:case 91:case 40:yr+=th(qn);break;case 9:case 10:case 13:case 32:yr+=Xv(pn);break;case 92:yr+=Zv(Pc()-1,7);continue;case 47:switch(Na()){case 42:case 47:Tc(eb(Kv(sa(),Pc()),At,Pt),yi);break;default:yr+="/"}break;case 123*kn:ri[bi++]=Ia(yr)*Nn;case 125*kn:case 59:case 0:switch(qn){case 0:case 125:Sn=0;case 59+fi:ln>0&&Ia(yr)-Di&&Tc(ln>32?Cf(yr+";",Ot,Pt,Di-1):Cf(Xr(yr," ","")+";",Ot,Pt,Di-2),yi);break;case 59:yr+=";";default:if(Tc(Cr=kf(yr,At,Pt,bi,fi,Rt,ri,Er,mr=[],pr=[],Di),zt),qn===123)if(fi===0)Oc(yr,At,Cr,Cr,mr,zt,Di,ri,pr);else switch(Ji){case 100:case 109:case 115:Oc(xt,Cr,Cr,Ot&&Tc(kf(xt,Cr,Cr,0,0,Rt,ri,Er,Rt,mr=[],Di),pr),Rt,pr,Di,ri,Ot?mr:pr);break;default:Oc(yr,Cr,Cr,Cr,[""],pr,Di,ri,pr)}}bi=fi=ln=0,kn=Nn=1,Er=yr="",Di=Gt;break;case 58:Di=1+Ia(yr),ln=pn;default:if(kn<1){if(qn==123)--kn;else if(qn==125&&kn++==0&&qv()==125)continue}switch(yr+=Cc(qn),qn*kn){case 38:Nn=fi>0?1:(yr+="\f",-1);break;case 44:ri[bi++]=(Ia(yr)-1)*Nn,Nn=1;break;case 64:Na()===45&&(yr+=th(sa())),Ji=Na(),fi=Ia(Er=yr+=Jv(Pc())),qn++;break;case 45:pn===45&&Ia(yr)==2&&(kn=0)}}return zt}function kf(xt,At,Pt,Ot,Rt,zt,Gt,ri,yi,bi,fi){for(var Di=Rt-1,Ji=Rt===0?zt:[""],ln=eh(Ji),pn=0,kn=0,Sn=0;pn<Ot;++pn)for(var Nn=0,qn=Pl(xt,Di+1,Di=Uv(kn=Gt[pn])),Er=xt;Nn<ln;++Nn)(Er=_f(kn>0?Ji[Nn]+" "+qn:Xr(qn,/&\f/g,Ji[Nn])))&&(yi[Sn++]=Er);return $c(xt,At,Pt,Rt===0?Ju:ri,yi,bi,fi)}function eb(xt,At,Pt){return $c(xt,At,Pt,bf,Cc(Gv()),Pl(xt,2,-2),0)}function Cf(xt,At,Pt,Ot){return $c(xt,At,Pt,Qu,Pl(xt,0,Ot),Pl(xt,Ot+1,-1),Ot)}function Tf(xt,At){switch(jv(xt,At)){case 5103:return jr+"print-"+xt+xt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return jr+xt+xt;case 5349:case 4246:case 4810:case 6968:case 2756:return jr+xt+kc+xt+Ho+xt+xt;case 6828:case 4268:return jr+xt+Ho+xt+xt;case 6165:return jr+xt+Ho+"flex-"+xt+xt;case 5187:return jr+xt+Xr(xt,/(\w+).+(:[^]+)/,jr+"box-$1$2"+Ho+"flex-$1$2")+xt;case 5443:return jr+xt+Ho+"flex-item-"+Xr(xt,/flex-|-self/,"")+xt;case 4675:return jr+xt+Ho+"flex-line-pack"+Xr(xt,/align-content|flex-|-self/,"")+xt;case 5548:return jr+xt+Ho+Xr(xt,"shrink","negative")+xt;case 5292:return jr+xt+Ho+Xr(xt,"basis","preferred-size")+xt;case 6060:return jr+"box-"+Xr(xt,"-grow","")+jr+xt+Ho+Xr(xt,"grow","positive")+xt;case 4554:return jr+Xr(xt,/([^-])(transform)/g,"$1"+jr+"$2")+xt;case 6187:return Xr(Xr(Xr(xt,/(zoom-|grab)/,jr+"$1"),/(image-set)/,jr+"$1"),xt,"")+xt;case 5495:case 3959:return Xr(xt,/(image-set\([^]*)/,jr+"$1$`$1");case 4968:return Xr(Xr(xt,/(.+:)(flex-)?(.*)/,jr+"box-pack:$3"+Ho+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+jr+xt+xt;case 4095:case 3583:case 4068:case 2532:return Xr(xt,/(.+)-inline(.+)/,jr+"$1$2")+xt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ia(xt)-1-At>6)switch(Jo(xt,At+1)){case 109:if(Jo(xt,At+4)!==45)break;case 102:return Xr(xt,/(.+:)(.+)-([^]+)/,"$1"+jr+"$2-$3$1"+kc+(Jo(xt,At+3)==108?"$3":"$2-$3"))+xt;case 115:return~wf(xt,"stretch")?Tf(Xr(xt,"stretch","fill-available"),At)+xt:xt}break;case 4949:if(Jo(xt,At+1)!==115)break;case 6444:switch(Jo(xt,Ia(xt)-3-(~wf(xt,"!important")&&10))){case 107:return Xr(xt,":",":"+jr)+xt;case 101:return Xr(xt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+jr+(Jo(xt,14)===45?"inline-":"")+"box$3$1"+jr+"$2$3$1"+Ho+"$2box$3")+xt}break;case 5936:switch(Jo(xt,At+11)){case 114:return jr+xt+Ho+Xr(xt,/[svh]\w+-[tblr]{2}/,"tb")+xt;case 108:return jr+xt+Ho+Xr(xt,/[svh]\w+-[tblr]{2}/,"tb-rl")+xt;case 45:return jr+xt+Ho+Xr(xt,/[svh]\w+-[tblr]{2}/,"lr")+xt}return jr+xt+Ho+xt+xt}return xt}function Ml(xt,At){for(var Pt="",Ot=eh(xt),Rt=0;Rt<Ot;Rt++)Pt+=At(xt[Rt],Rt,xt,At)||"";return Pt}function tb(xt,At,Pt,Ot){switch(xt.type){case Hv:case Qu:return xt.return=xt.return||xt.value;case bf:return"";case Ju:xt.value=xt.props.join(",")}return Ia(Pt=Ml(xt.children,Ot))?xt.return=xt.value+"{"+Pt+"}":""}function ib(xt){var At=eh(xt);return function(Pt,Ot,Rt,zt){for(var Gt="",ri=0;ri<At;ri++)Gt+=xt[ri](Pt,Ot,Rt,zt)||"";return Gt}}function nb(xt){return function(At){At.root||(At=At.return)&&xt(At)}}function rb(xt,At,Pt,Ot){if(!xt.return)switch(xt.type){case Qu:xt.return=Tf(xt.value,xt.length);break;case Vv:return Ml([Ol(Xr(xt.value,"@","@"+jr),xt,"")],Ot);case Ju:if(xt.length)return Yv(xt.props,function(Rt){switch(Wv(Rt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Ml([Ol(Xr(Rt,/:(read-\w+)/,":"+kc+"$1"),xt,"")],Ot);case"::placeholder":return Ml([Ol(Xr(Rt,/:(plac\w+)/,":"+jr+"input-$1"),xt,""),Ol(Xr(Rt,/:(plac\w+)/,":"+kc+"$1"),xt,""),Ol(Xr(Rt,/:(plac\w+)/,Ho+"input-$1"),xt,"")],Ot)}return""})}}function ob(xt){var At=Object.create(null);return function(Pt){return At[Pt]===void 0&&(At[Pt]=xt(Pt)),At[Pt]}}var ab=function(xt,At,Pt){for(var Ot=0,Rt=0;Ot=Rt,Rt=Na(),Ot===38&&Rt===12&&(At[Pt]=1),!Dl(Rt);)sa();return Ll(xt,Qo)},sb=function(xt,At){var Pt=-1,Ot=44;do switch(Dl(Ot)){case 0:Ot===38&&Na()===12&&(At[Pt]=1),xt[Pt]+=ab(Qo-1,At,Pt);break;case 2:xt[Pt]+=th(Ot);break;case 4:if(Ot===44){xt[++Pt]=Na()===58?"&\f":"",At[Pt]=xt[Pt].length;break}default:xt[Pt]+=Cc(Ot)}while(Ot=sa());return xt},lb=function(xt,At){return Ef(sb(Sf(xt),At))},Af=new WeakMap,cb=function(xt){if(!(xt.type!=="rule"||!xt.parent||!xt.length)){for(var At=xt.value,Pt=xt.parent,Ot=xt.column===Pt.column&&xt.line===Pt.line;Pt.type!=="rule";)if(Pt=Pt.parent,!Pt)return;if(!(xt.props.length===1&&At.charCodeAt(0)!==58&&!Af.get(Pt))&&!Ot){Af.set(xt,!0);for(var Rt=[],zt=lb(At,Rt),Gt=Pt.props,ri=0,yi=0;ri<zt.length;ri++)for(var bi=0;bi<Gt.length;bi++,yi++)xt.props[yi]=Rt[ri]?zt[ri].replace(/&\f/g,Gt[bi]):Gt[bi]+" "+zt[ri]}}},ub=function(xt){if(xt.type==="decl"){var At=xt.value;At.charCodeAt(0)===108&&At.charCodeAt(2)===98&&(xt.return="",xt.value="")}},hb=[rb],db=function(xt){var At=xt.key;if(At==="css"){var Pt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(Pt,function(pn){var kn=pn.getAttribute("data-emotion");kn.indexOf(" ")!==-1&&(document.head.appendChild(pn),pn.setAttribute("data-s",""))})}var Ot=xt.stylisPlugins||hb,Rt={},zt,Gt=[];zt=xt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+At+' "]'),function(pn){for(var kn=pn.getAttribute("data-emotion").split(" "),Sn=1;Sn<kn.length;Sn++)Rt[kn[Sn]]=!0;Gt.push(pn)});var ri,yi=[cb,ub];{var bi,fi=[tb,nb(function(pn){bi.insert(pn)})],Di=ib(yi.concat(Ot,fi)),Ji=function(pn){return Ml(Qv(pn),Di)};ri=function(pn,kn,Sn,Nn){bi=Sn,Ji(pn?pn+"{"+kn.styles+"}":kn.styles),Nn&&(ln.inserted[kn.name]=!0)}}var ln={key:At,sheet:new zv({key:At,container:zt,nonce:xt.nonce,speedy:xt.speedy,prepend:xt.prepend,insertionPoint:xt.insertionPoint}),nonce:xt.nonce,inserted:Rt,registered:{},insert:ri};return ln.sheet.hydrate(Gt),ln},$f={exports:{}},Zr={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var $o=typeof Symbol=="function"&&Symbol.for,nh=$o?Symbol.for("react.element"):60103,rh=$o?Symbol.for("react.portal"):60106,Lc=$o?Symbol.for("react.fragment"):60107,Dc=$o?Symbol.for("react.strict_mode"):60108,Mc=$o?Symbol.for("react.profiler"):60114,Rc=$o?Symbol.for("react.provider"):60109,Bc=$o?Symbol.for("react.context"):60110,oh=$o?Symbol.for("react.async_mode"):60111,Ic=$o?Symbol.for("react.concurrent_mode"):60111,Nc=$o?Symbol.for("react.forward_ref"):60112,Fc=$o?Symbol.for("react.suspense"):60113,fb=$o?Symbol.for("react.suspense_list"):60120,zc=$o?Symbol.for("react.memo"):60115,Hc=$o?Symbol.for("react.lazy"):60116,pb=$o?Symbol.for("react.block"):60121,gb=$o?Symbol.for("react.fundamental"):60117,mb=$o?Symbol.for("react.responder"):60118,yb=$o?Symbol.for("react.scope"):60119;function la(xt){if(typeof xt=="object"&&xt!==null){var At=xt.$$typeof;switch(At){case nh:switch(xt=xt.type,xt){case oh:case Ic:case Lc:case Mc:case Dc:case Fc:return xt;default:switch(xt=xt&&xt.$$typeof,xt){case Bc:case Nc:case Hc:case zc:case Rc:return xt;default:return At}}case rh:return At}}}function Pf(xt){return la(xt)===Ic}Zr.AsyncMode=oh,Zr.ConcurrentMode=Ic,Zr.ContextConsumer=Bc,Zr.ContextProvider=Rc,Zr.Element=nh,Zr.ForwardRef=Nc,Zr.Fragment=Lc,Zr.Lazy=Hc,Zr.Memo=zc,Zr.Portal=rh,Zr.Profiler=Mc,Zr.StrictMode=Dc,Zr.Suspense=Fc,Zr.isAsyncMode=function(xt){return Pf(xt)||la(xt)===oh},Zr.isConcurrentMode=Pf,Zr.isContextConsumer=function(xt){return la(xt)===Bc},Zr.isContextProvider=function(xt){return la(xt)===Rc},Zr.isElement=function(xt){return typeof xt=="object"&&xt!==null&&xt.$$typeof===nh},Zr.isForwardRef=function(xt){return la(xt)===Nc},Zr.isFragment=function(xt){return la(xt)===Lc},Zr.isLazy=function(xt){return la(xt)===Hc},Zr.isMemo=function(xt){return la(xt)===zc},Zr.isPortal=function(xt){return la(xt)===rh},Zr.isProfiler=function(xt){return la(xt)===Mc},Zr.isStrictMode=function(xt){return la(xt)===Dc},Zr.isSuspense=function(xt){return la(xt)===Fc},Zr.isValidElementType=function(xt){return typeof xt=="string"||typeof xt=="function"||xt===Lc||xt===Ic||xt===Mc||xt===Dc||xt===Fc||xt===fb||typeof xt=="object"&&xt!==null&&(xt.$$typeof===Hc||xt.$$typeof===zc||xt.$$typeof===Rc||xt.$$typeof===Bc||xt.$$typeof===Nc||xt.$$typeof===gb||xt.$$typeof===mb||xt.$$typeof===yb||xt.$$typeof===pb)},Zr.typeOf=la,$f.exports=Zr;var Of=$f.exports,vb={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},bb={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lf={};Lf[Of.ForwardRef]=vb,Lf[Of.Memo]=bb;var _b=!0;function Df(xt,At,Pt){var Ot="";return Pt.split(" ").forEach(function(Rt){xt[Rt]!==void 0?At.push(xt[Rt]+";"):Ot+=Rt+" "}),Ot}var Mf=function(xt,At,Pt){var Ot=xt.key+"-"+At.name;if((Pt===!1||_b===!1)&&xt.registered[Ot]===void 0&&(xt.registered[Ot]=At.styles),xt.inserted[At.name]===void 0){var Rt=At;do xt.insert(At===Rt?"."+Ot:"",Rt,xt.sheet,!0),Rt=Rt.next;while(Rt!==void 0)}};function wb(xt){for(var At=0,Pt,Ot=0,Rt=xt.length;Rt>=4;++Ot,Rt-=4)Pt=xt.charCodeAt(Ot)&255|(xt.charCodeAt(++Ot)&255)<<8|(xt.charCodeAt(++Ot)&255)<<16|(xt.charCodeAt(++Ot)&255)<<24,Pt=(Pt&65535)*1540483477+((Pt>>>16)*59797<<16),Pt^=Pt>>>24,At=(Pt&65535)*1540483477+((Pt>>>16)*59797<<16)^(At&65535)*1540483477+((At>>>16)*59797<<16);switch(Rt){case 3:At^=(xt.charCodeAt(Ot+2)&255)<<16;case 2:At^=(xt.charCodeAt(Ot+1)&255)<<8;case 1:At^=xt.charCodeAt(Ot)&255,At=(At&65535)*1540483477+((At>>>16)*59797<<16)}return At^=At>>>13,At=(At&65535)*1540483477+((At>>>16)*59797<<16),((At^At>>>15)>>>0).toString(36)}var xb={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Sb=/[A-Z]|^ms/g,Eb=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Rf=function(xt){return xt.charCodeAt(1)===45},Bf=function(xt){return xt!=null&&typeof xt!="boolean"},ah=ob(function(xt){return Rf(xt)?xt:xt.replace(Sb,"-$&").toLowerCase()}),If=function(xt,At){switch(xt){case"animation":case"animationName":if(typeof At=="string")return At.replace(Eb,function(Pt,Ot,Rt){return Fa={name:Ot,styles:Rt,next:Fa},Ot})}return xb[xt]!==1&&!Rf(xt)&&typeof At=="number"&&At!==0?At+"px":At};function Rl(xt,At,Pt){if(Pt==null)return"";if(Pt.__emotion_styles!==void 0)return Pt;switch(typeof Pt){case"boolean":return"";case"object":{if(Pt.anim===1)return Fa={name:Pt.name,styles:Pt.styles,next:Fa},Pt.name;if(Pt.styles!==void 0){var Ot=Pt.next;if(Ot!==void 0)for(;Ot!==void 0;)Fa={name:Ot.name,styles:Ot.styles,next:Fa},Ot=Ot.next;var Rt=Pt.styles+";";return Rt}return kb(xt,At,Pt)}case"function":{if(xt!==void 0){var zt=Fa,Gt=Pt(xt);return Fa=zt,Rl(xt,At,Gt)}break}}if(At==null)return Pt;var ri=At[Pt];return ri!==void 0?ri:Pt}function kb(xt,At,Pt){var Ot="";if(Array.isArray(Pt))for(var Rt=0;Rt<Pt.length;Rt++)Ot+=Rl(xt,At,Pt[Rt])+";";else for(var zt in Pt){var Gt=Pt[zt];if(typeof Gt!="object")At!=null&&At[Gt]!==void 0?Ot+=zt+"{"+At[Gt]+"}":Bf(Gt)&&(Ot+=ah(zt)+":"+If(zt,Gt)+";");else if(Array.isArray(Gt)&&typeof Gt[0]=="string"&&(At==null||At[Gt[0]]===void 0))for(var ri=0;ri<Gt.length;ri++)Bf(Gt[ri])&&(Ot+=ah(zt)+":"+If(zt,Gt[ri])+";");else{var yi=Rl(xt,At,Gt);switch(zt){case"animation":case"animationName":{Ot+=ah(zt)+":"+yi+";";break}default:Ot+=zt+"{"+yi+"}"}}}return Ot}var Nf=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Fa,sh=function(xt,At,Pt){if(xt.length===1&&typeof xt[0]=="object"&&xt[0]!==null&&xt[0].styles!==void 0)return xt[0];var Ot=!0,Rt="";Fa=void 0;var zt=xt[0];zt==null||zt.raw===void 0?(Ot=!1,Rt+=Rl(Pt,At,zt)):Rt+=zt[0];for(var Gt=1;Gt<xt.length;Gt++)Rt+=Rl(Pt,At,xt[Gt]),Ot&&(Rt+=zt[Gt]);Nf.lastIndex=0;for(var ri="",yi;(yi=Nf.exec(Rt))!==null;)ri+="-"+yi[1];var bi=wb(Rt)+ri;return{name:bi,styles:Rt,next:Fa}},lh={}.hasOwnProperty,Ff=_i(typeof HTMLElement<"u"?db({key:"css"}):null);Ff.Provider;var zf=function(xt){return Wr(function(At,Pt){var Ot=Ki(Ff);return xt(At,Ot,Pt)})},Hf=_i({}),ch="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Cb=function(xt,At){var Pt={};for(var Ot in At)lh.call(At,Ot)&&(Pt[Ot]=At[Ot]);return Pt[ch]=xt,Pt},Tb=function(){return null},Ab=zf(function(xt,At,Pt){var Ot=xt.css;typeof Ot=="string"&&At.registered[Ot]!==void 0&&(Ot=At.registered[Ot]);var Rt=xt[ch],zt=[Ot],Gt="";typeof xt.className=="string"?Gt=Df(At.registered,zt,xt.className):xt.className!=null&&(Gt=xt.className+" ");var ri=sh(zt,void 0,Ki(Hf));Mf(At,ri,typeof Rt=="string"),Gt+=At.key+"-"+ri.name;var yi={};for(var bi in xt)lh.call(xt,bi)&&bi!=="css"&&bi!==ch&&(yi[bi]=xt[bi]);yi.ref=Pt,yi.className=Gt;var fi=ei(Rt,yi),Di=ei(Tb,null);return ei(Ni,null,Di,fi)}),Sr=function(xt,At){var Pt=arguments;if(At==null||!lh.call(At,"css"))return ei.apply(void 0,Pt);var Ot=Pt.length,Rt=new Array(Ot);Rt[0]=Ab,Rt[1]=Cb(xt,At);for(var zt=2;zt<Ot;zt++)Rt[zt]=Pt[zt];return ei.apply(null,Rt)};function uh(){for(var xt=arguments.length,At=new Array(xt),Pt=0;Pt<xt;Pt++)At[Pt]=arguments[Pt];return sh(At)}var $b=function(){var xt=uh.apply(void 0,arguments),At="animation-"+xt.name;return{name:At,styles:"@keyframes "+At+"{"+xt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},Pb=function xt(At){for(var Pt=At.length,Ot=0,Rt="";Ot<Pt;Ot++){var zt=At[Ot];if(zt!=null){var Gt=void 0;switch(typeof zt){case"boolean":break;case"object":{if(Array.isArray(zt))Gt=xt(zt);else{Gt="";for(var ri in zt)zt[ri]&&ri&&(Gt&&(Gt+=" "),Gt+=ri)}break}default:Gt=zt}Gt&&(Rt&&(Rt+=" "),Rt+=Gt)}}return Rt};function Ob(xt,At,Pt){var Ot=[],Rt=Df(xt,Ot,Pt);return Ot.length<2?Pt:Rt+At(Ot)}var Lb=function(){return null},Db=zf(function(xt,At){var Pt=function(){for(var ri=arguments.length,yi=new Array(ri),bi=0;bi<ri;bi++)yi[bi]=arguments[bi];var fi=sh(yi,At.registered);return Mf(At,fi,!1),At.key+"-"+fi.name},Ot=function(){for(var ri=arguments.length,yi=new Array(ri),bi=0;bi<ri;bi++)yi[bi]=arguments[bi];return Ob(At.registered,Pt,Pb(yi))},Rt={css:Pt,cx:Ot,theme:Ki(Hf)},zt=xt.children(Rt),Gt=ei(Lb,null);return ei(Ni,null,Gt,zt)});function Mb(xt,At){return At||(At=xt.slice(0)),Object.freeze(Object.defineProperties(xt,{raw:{value:Object.freeze(At)}}))}function hh(xt,At){if(xt==null)return{};var Pt={},Ot=Object.keys(xt),Rt,zt;for(zt=0;zt<Ot.length;zt++)Rt=Ot[zt],!(At.indexOf(Rt)>=0)&&(Pt[Rt]=xt[Rt]);return Pt}function il(xt,At){if(xt==null)return{};var Pt=hh(xt,At),Ot,Rt;if(Object.getOwnPropertySymbols){var zt=Object.getOwnPropertySymbols(xt);for(Rt=0;Rt<zt.length;Rt++)Ot=zt[Rt],!(At.indexOf(Ot)>=0)&&(!Object.prototype.propertyIsEnumerable.call(xt,Ot)||(Pt[Ot]=xt[Ot]))}return Pt}function Vc(xt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Vc=function(At){return typeof At}:Vc=function(At){return At&&typeof Symbol=="function"&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At},Vc(xt)}var Vf={};Object.defineProperty(Vf,"__esModule",{value:!0});var dh=Object.assign||function(xt){for(var At=1;At<arguments.length;At++){var Pt=arguments[At];for(var Ot in Pt)Object.prototype.hasOwnProperty.call(Pt,Ot)&&(xt[Ot]=Pt[Ot])}return xt},Uf=function(){function xt(At,Pt){for(var Ot=0;Ot<Pt.length;Ot++){var Rt=Pt[Ot];Rt.enumerable=Rt.enumerable||!1,Rt.configurable=!0,"value"in Rt&&(Rt.writable=!0),Object.defineProperty(At,Rt.key,Rt)}}return function(At,Pt,Ot){return Pt&&xt(At.prototype,Pt),Ot&&xt(At,Ot),At}}(),jf=ao,Bl=Wf(jf),Rb=So.exports,Co=Wf(Rb);function Wf(xt){return xt&&xt.__esModule?xt:{default:xt}}function Bb(xt,At){var Pt={};for(var Ot in xt)At.indexOf(Ot)>=0||!Object.prototype.hasOwnProperty.call(xt,Ot)||(Pt[Ot]=xt[Ot]);return Pt}function Ib(xt,At){if(!(xt instanceof At))throw new TypeError("Cannot call a class as a function")}function Nb(xt,At){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:xt}function Fb(xt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);xt.prototype=Object.create(At&&At.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,At):xt.__proto__=At)}var Yf={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},zb=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Hb=function(xt){return zb.forEach(function(At){return delete xt[At]}),xt},Gf=function(xt,At){At.style.fontSize=xt.fontSize,At.style.fontFamily=xt.fontFamily,At.style.fontWeight=xt.fontWeight,At.style.fontStyle=xt.fontStyle,At.style.letterSpacing=xt.letterSpacing,At.style.textTransform=xt.textTransform},qf=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,Xf=function(){return qf?"_"+Math.random().toString(36).substr(2,12):void 0},fh=function(xt){Fb(At,xt),Uf(At,null,[{key:"getDerivedStateFromProps",value:function(Pt,Ot){var Rt=Pt.id;return Rt!==Ot.prevId?{inputId:Rt||Xf(),prevId:Rt}:null}}]);function At(Pt){Ib(this,At);var Ot=Nb(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,Pt));return Ot.inputRef=function(Rt){Ot.input=Rt,typeof Ot.props.inputRef=="function"&&Ot.props.inputRef(Rt)},Ot.placeHolderSizerRef=function(Rt){Ot.placeHolderSizer=Rt},Ot.sizerRef=function(Rt){Ot.sizer=Rt},Ot.state={inputWidth:Pt.minWidth,inputId:Pt.id||Xf(),prevId:Pt.id},Ot}return Uf(At,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(Pt,Ot){Ot.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var Pt=this.input&&window.getComputedStyle(this.input);!Pt||(Gf(Pt,this.sizer),this.placeHolderSizer&&Gf(Pt,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var Pt=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Pt=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:Pt=this.sizer.scrollWidth+2;var Ot=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;Pt+=Ot,Pt<this.props.minWidth&&(Pt=this.props.minWidth),Pt!==this.state.inputWidth&&this.setState({inputWidth:Pt})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var Pt=this.props.injectStyles;return qf&&Pt?Bl.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var Pt=[this.props.defaultValue,this.props.value,""].reduce(function(Gt,ri){return Gt!=null?Gt:ri}),Ot=dh({},this.props.style);Ot.display||(Ot.display="inline-block");var Rt=dh({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),zt=Bb(this.props,[]);return Hb(zt),zt.className=this.props.inputClassName,zt.id=this.state.inputId,zt.style=Rt,Bl.default.createElement("div",{className:this.props.className,style:Ot},this.renderStyles(),Bl.default.createElement("input",dh({},zt,{ref:this.inputRef})),Bl.default.createElement("div",{ref:this.sizerRef,style:Yf},Pt),this.props.placeholder?Bl.default.createElement("div",{ref:this.placeHolderSizerRef,style:Yf},this.props.placeholder):null)}}]),At}(jf.Component);fh.propTypes={className:Co.default.string,defaultValue:Co.default.any,extraWidth:Co.default.oneOfType([Co.default.number,Co.default.string]),id:Co.default.string,injectStyles:Co.default.bool,inputClassName:Co.default.string,inputRef:Co.default.func,inputStyle:Co.default.object,minWidth:Co.default.oneOfType([Co.default.number,Co.default.string]),onAutosize:Co.default.func,onChange:Co.default.func,placeholder:Co.default.string,placeholderIsMinWidth:Co.default.bool,style:Co.default.object,value:Co.default.any},fh.defaultProps={minWidth:1,injectStyles:!0};var Vb=Vf.default=fh;function Uc(xt,At){if(!(xt instanceof At))throw new TypeError("Cannot call a class as a function")}function Zf(xt,At){for(var Pt=0;Pt<At.length;Pt++){var Ot=At[Pt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(xt,Ot.key,Ot)}}function jc(xt,At,Pt){return At&&Zf(xt.prototype,At),Pt&&Zf(xt,Pt),xt}function Wc(xt,At){return Wc=Object.setPrototypeOf||function(Pt,Ot){return Pt.__proto__=Ot,Pt},Wc(xt,At)}function Yc(xt,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function");xt.prototype=Object.create(At&&At.prototype,{constructor:{value:xt,writable:!0,configurable:!0}}),At&&Wc(xt,At)}function Ga(xt,At,Pt){return At in xt?Object.defineProperty(xt,At,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):xt[At]=Pt,xt}function Ub(xt,At,Pt){return At in xt?Object.defineProperty(xt,At,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):xt[At]=Pt,xt}function Kf(xt,At){var Pt=Object.keys(xt);if(Object.getOwnPropertySymbols){var Ot=Object.getOwnPropertySymbols(xt);At&&(Ot=Ot.filter(function(Rt){return Object.getOwnPropertyDescriptor(xt,Rt).enumerable})),Pt.push.apply(Pt,Ot)}return Pt}function Do(xt){for(var At=1;At<arguments.length;At++){var Pt=arguments[At]!=null?arguments[At]:{};At%2?Kf(Object(Pt),!0).forEach(function(Ot){Ub(xt,Ot,Pt[Ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xt,Object.getOwnPropertyDescriptors(Pt)):Kf(Object(Pt)).forEach(function(Ot){Object.defineProperty(xt,Ot,Object.getOwnPropertyDescriptor(Pt,Ot))})}return xt}function Gc(xt){return Gc=Object.setPrototypeOf?Object.getPrototypeOf:function(At){return At.__proto__||Object.getPrototypeOf(At)},Gc(xt)}function jb(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Wb(xt){if(xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt}function Yb(xt,At){return At&&(typeof At=="object"||typeof At=="function")?At:Wb(xt)}function qc(xt){var At=jb();return function(){var Pt=Gc(xt),Ot;if(At){var Rt=Gc(this).constructor;Ot=Reflect.construct(Pt,arguments,Rt)}else Ot=Pt.apply(this,arguments);return Yb(this,Ot)}}var Xc=function(){};function Gb(xt,At){return At?At[0]==="-"?xt+At:xt+"__"+At:xt}function qb(xt,At,Pt){var Ot=[Pt];if(At&&xt)for(var Rt in At)At.hasOwnProperty(Rt)&&At[Rt]&&Ot.push("".concat(Gb(xt,Rt)));return Ot.filter(function(zt){return zt}).map(function(zt){return String(zt).trim()}).join(" ")}var Jf=function(xt){return Array.isArray(xt)?xt.filter(Boolean):Vc(xt)==="object"&&xt!==null?[xt]:[]},Qf=function(xt){xt.className,xt.clearValue,xt.cx,xt.getStyles,xt.getValue,xt.hasValue,xt.isMulti,xt.isRtl,xt.options,xt.selectOption,xt.selectProps,xt.setValue,xt.theme;var At=il(xt,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return Do({},At)};function ph(xt){return[document.documentElement,document.body,window].indexOf(xt)>-1}function ep(xt){return ph(xt)?window.pageYOffset:xt.scrollTop}function Zc(xt,At){if(ph(xt)){window.scrollTo(0,At);return}xt.scrollTop=At}function Xb(xt){var At=getComputedStyle(xt),Pt=At.position==="absolute",Ot=/(auto|scroll)/,Rt=document.documentElement;if(At.position==="fixed")return Rt;for(var zt=xt;zt=zt.parentElement;)if(At=getComputedStyle(zt),!(Pt&&At.position==="static")&&Ot.test(At.overflow+At.overflowY+At.overflowX))return zt;return Rt}function Zb(xt,At,Pt,Ot){return Pt*((xt=xt/Ot-1)*xt*xt+1)+At}function Kc(xt,At){var Pt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Ot=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Xc,Rt=ep(xt),zt=At-Rt,Gt=10,ri=0;function yi(){ri+=Gt;var bi=Zb(ri,Rt,zt,Pt);Zc(xt,bi),ri<Pt?window.requestAnimationFrame(yi):Ot(xt)}yi()}function Kb(xt,At){var Pt=xt.getBoundingClientRect(),Ot=At.getBoundingClientRect(),Rt=At.offsetHeight/3;Ot.bottom+Rt>Pt.bottom?Zc(xt,Math.min(At.offsetTop+At.clientHeight-xt.offsetHeight+Rt,xt.scrollHeight)):Ot.top-Rt<Pt.top&&Zc(xt,Math.max(At.offsetTop-Rt,0))}function Jb(xt){var At=xt.getBoundingClientRect();return{bottom:At.bottom,height:At.height,left:At.left,right:At.right,top:At.top,width:At.width}}function tp(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function Qb(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ip=!1,e_={get passive(){return ip=!0}},Jc=typeof window<"u"?window:{};Jc.addEventListener&&Jc.removeEventListener&&(Jc.addEventListener("p",Xc,e_),Jc.removeEventListener("p",Xc,!1));var t_=ip;function i_(xt){var At=xt.maxHeight,Pt=xt.menuEl,Ot=xt.minHeight,Rt=xt.placement,zt=xt.shouldScroll,Gt=xt.isFixedPosition,ri=xt.theme,yi=ri.spacing,bi=Xb(Pt),fi={placement:"bottom",maxHeight:At};if(!Pt||!Pt.offsetParent)return fi;var Di=bi.getBoundingClientRect(),Ji=Di.height,ln=Pt.getBoundingClientRect(),pn=ln.bottom,kn=ln.height,Sn=ln.top,Nn=Pt.offsetParent.getBoundingClientRect(),qn=Nn.top,Er=window.innerHeight,mr=ep(bi),pr=parseInt(getComputedStyle(Pt).marginBottom,10),Cr=parseInt(getComputedStyle(Pt).marginTop,10),yr=qn-Cr,ro=Er-Sn,uo=yr+mr,Kr=Ji-mr-Sn,Jr=pn-Er+mr+pr,ma=mr+Sn-Cr,Wo=160;switch(Rt){case"auto":case"bottom":if(ro>=kn)return{placement:"bottom",maxHeight:At};if(Kr>=kn&&!Gt)return zt&&Kc(bi,Jr,Wo),{placement:"bottom",maxHeight:At};if(!Gt&&Kr>=Ot||Gt&&ro>=Ot){zt&&Kc(bi,Jr,Wo);var Xa=Gt?ro-pr:Kr-pr;return{placement:"bottom",maxHeight:Xa}}if(Rt==="auto"||Gt){var ya=At,Pa=Gt?yr:uo;return Pa>=Ot&&(ya=Math.min(Pa-pr-yi.controlHeight,At)),{placement:"top",maxHeight:ya}}if(Rt==="bottom")return zt&&Zc(bi,Jr),{placement:"bottom",maxHeight:At};break;case"top":if(yr>=kn)return{placement:"top",maxHeight:At};if(uo>=kn&&!Gt)return zt&&Kc(bi,ma,Wo),{placement:"top",maxHeight:At};if(!Gt&&uo>=Ot||Gt&&yr>=Ot){var Ro=At;return(!Gt&&uo>=Ot||Gt&&yr>=Ot)&&(Ro=Gt?yr-Cr:uo-Cr),zt&&Kc(bi,ma,Wo),{placement:"top",maxHeight:Ro}}return{placement:"bottom",maxHeight:At};default:throw new Error('Invalid placement provided "'.concat(Rt,'".'))}return fi}function n_(xt){var At={bottom:"top",top:"bottom"};return xt?At[xt]:"bottom"}var gh=function(xt){return xt==="auto"?"bottom":xt},r_=function(xt){var At,Pt=xt.placement,Ot=xt.theme,Rt=Ot.borderRadius,zt=Ot.spacing,Gt=Ot.colors;return At={label:"menu"},Ga(At,n_(Pt),"100%"),Ga(At,"backgroundColor",Gt.neutral0),Ga(At,"borderRadius",Rt),Ga(At,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Ga(At,"marginBottom",zt.menuGutter),Ga(At,"marginTop",zt.menuGutter),Ga(At,"position","absolute"),Ga(At,"width","100%"),Ga(At,"zIndex",1),At},np=_i({getPortalPlacement:null}),rp=function(xt){Yc(Pt,xt);var At=qc(Pt);function Pt(){var Ot;Uc(this,Pt);for(var Rt=arguments.length,zt=new Array(Rt),Gt=0;Gt<Rt;Gt++)zt[Gt]=arguments[Gt];return Ot=At.call.apply(At,[this].concat(zt)),Ot.state={maxHeight:Ot.props.maxMenuHeight,placement:null},Ot.getPlacement=function(ri){var yi=Ot.props,bi=yi.minMenuHeight,fi=yi.maxMenuHeight,Di=yi.menuPlacement,Ji=yi.menuPosition,ln=yi.menuShouldScrollIntoView,pn=yi.theme;if(ri){var kn=Ji==="fixed",Sn=ln&&!kn,Nn=i_({maxHeight:fi,menuEl:ri,minHeight:bi,placement:Di,shouldScroll:Sn,isFixedPosition:kn,theme:pn}),qn=Ot.context.getPortalPlacement;qn&&qn(Nn),Ot.setState(Nn)}},Ot.getUpdatedProps=function(){var ri=Ot.props.menuPlacement,yi=Ot.state.placement||gh(ri);return Do(Do({},Ot.props),{},{placement:yi,maxHeight:Ot.state.maxHeight})},Ot}return jc(Pt,[{key:"render",value:function(){var Ot=this.props.children;return Ot({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),Pt}(ni);rp.contextType=np;var o_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerRef,Gt=xt.innerProps;return Sr("div",xr({css:Rt("menu",xt),className:Ot({menu:!0},Pt),ref:zt},Gt),At)},a_=function(xt){var At=xt.maxHeight,Pt=xt.theme.spacing.baseUnit;return{maxHeight:At,overflowY:"auto",paddingBottom:Pt,paddingTop:Pt,position:"relative",WebkitOverflowScrolling:"touch"}},s_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps,Gt=xt.innerRef,ri=xt.isMulti;return Sr("div",xr({css:Rt("menuList",xt),className:Ot({"menu-list":!0,"menu-list--is-multi":ri},Pt),ref:Gt},zt),At)},op=function(xt){var At=xt.theme,Pt=At.spacing.baseUnit,Ot=At.colors;return{color:Ot.neutral40,padding:"".concat(Pt*2,"px ").concat(Pt*3,"px"),textAlign:"center"}},l_=op,c_=op,ap=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps;return Sr("div",xr({css:Rt("noOptionsMessage",xt),className:Ot({"menu-notice":!0,"menu-notice--no-options":!0},Pt)},zt),At)};ap.defaultProps={children:"No options"};var sp=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps;return Sr("div",xr({css:Rt("loadingMessage",xt),className:Ot({"menu-notice":!0,"menu-notice--loading":!0},Pt)},zt),At)};sp.defaultProps={children:"Loading..."};var u_=function(xt){var At=xt.rect,Pt=xt.offset,Ot=xt.position;return{left:At.left,position:Ot,top:Pt,width:At.width,zIndex:1}},h_=function(xt){Yc(Pt,xt);var At=qc(Pt);function Pt(){var Ot;Uc(this,Pt);for(var Rt=arguments.length,zt=new Array(Rt),Gt=0;Gt<Rt;Gt++)zt[Gt]=arguments[Gt];return Ot=At.call.apply(At,[this].concat(zt)),Ot.state={placement:null},Ot.getPortalPlacement=function(ri){var yi=ri.placement,bi=gh(Ot.props.menuPlacement);yi!==bi&&Ot.setState({placement:yi})},Ot}return jc(Pt,[{key:"render",value:function(){var Ot=this.props,Rt=Ot.appendTo,zt=Ot.children,Gt=Ot.className,ri=Ot.controlElement,yi=Ot.cx,bi=Ot.innerProps,fi=Ot.menuPlacement,Di=Ot.menuPosition,Ji=Ot.getStyles,ln=Di==="fixed";if(!Rt&&!ln||!ri)return null;var pn=this.state.placement||gh(fi),kn=Jb(ri),Sn=ln?0:window.pageYOffset,Nn=kn[pn]+Sn,qn={offset:Nn,position:Di,rect:kn},Er=Sr("div",xr({css:Ji("menuPortal",qn),className:yi({"menu-portal":!0},Gt)},bi),zt);return Sr(np.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},Rt?vn(Er,Rt):Er)}}]),Pt}(ni),d_=function(xt){var At=xt.isDisabled,Pt=xt.isRtl;return{label:"container",direction:Pt?"rtl":null,pointerEvents:At?"none":null,position:"relative"}},f_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps,Gt=xt.isDisabled,ri=xt.isRtl;return Sr("div",xr({css:Rt("container",xt),className:Ot({"--is-disabled":Gt,"--is-rtl":ri},Pt)},zt),At)},p_=function(xt){var At=xt.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(At.baseUnit/2,"px ").concat(At.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},g_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.innerProps,zt=xt.isMulti,Gt=xt.getStyles,ri=xt.hasValue;return Sr("div",xr({css:Gt("valueContainer",xt),className:Ot({"value-container":!0,"value-container--is-multi":zt,"value-container--has-value":ri},Pt)},Rt),At)},m_=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},y_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.innerProps,zt=xt.getStyles;return Sr("div",xr({css:zt("indicatorsContainer",xt),className:Ot({indicators:!0},Pt)},Rt),At)},lp,v_={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},cp=function(xt){var At=xt.size,Pt=il(xt,["size"]);return Sr("svg",xr({height:At,width:At,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:v_},Pt))},mh=function(xt){return Sr(cp,xr({size:20},xt),Sr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},up=function(xt){return Sr(cp,xr({size:20},xt),Sr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},hp=function(xt){var At=xt.isFocused,Pt=xt.theme,Ot=Pt.spacing.baseUnit,Rt=Pt.colors;return{label:"indicatorContainer",color:At?Rt.neutral60:Rt.neutral20,display:"flex",padding:Ot*2,transition:"color 150ms",":hover":{color:At?Rt.neutral80:Rt.neutral40}}},b_=hp,__=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps;return Sr("div",xr({css:Rt("dropdownIndicator",xt),className:Ot({indicator:!0,"dropdown-indicator":!0},Pt)},zt),At||Sr(up,null))},w_=hp,x_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps;return Sr("div",xr({css:Rt("clearIndicator",xt),className:Ot({indicator:!0,"clear-indicator":!0},Pt)},zt),At||Sr(mh,null))},S_=function(xt){var At=xt.isDisabled,Pt=xt.theme,Ot=Pt.spacing.baseUnit,Rt=Pt.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:At?Rt.neutral10:Rt.neutral20,marginBottom:Ot*2,marginTop:Ot*2,width:1}},E_=function(xt){var At=xt.className,Pt=xt.cx,Ot=xt.getStyles,Rt=xt.innerProps;return Sr("span",xr({},Rt,{css:Ot("indicatorSeparator",xt),className:Pt({"indicator-separator":!0},At)}))},k_=$b(lp||(lp=Mb([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),C_=function(xt){var At=xt.isFocused,Pt=xt.size,Ot=xt.theme,Rt=Ot.colors,zt=Ot.spacing.baseUnit;return{label:"loadingIndicator",color:At?Rt.neutral60:Rt.neutral20,display:"flex",padding:zt*2,transition:"color 150ms",alignSelf:"center",fontSize:Pt,lineHeight:1,marginRight:Pt,textAlign:"center",verticalAlign:"middle"}},yh=function(xt){var At=xt.delay,Pt=xt.offset;return Sr("span",{css:uh({animation:"".concat(k_," 1s ease-in-out ").concat(At,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:Pt?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},dp=function(xt){var At=xt.className,Pt=xt.cx,Ot=xt.getStyles,Rt=xt.innerProps,zt=xt.isRtl;return Sr("div",xr({css:Ot("loadingIndicator",xt),className:Pt({indicator:!0,"loading-indicator":!0},At)},Rt),Sr(yh,{delay:0,offset:zt}),Sr(yh,{delay:160,offset:!0}),Sr(yh,{delay:320,offset:!zt}))};dp.defaultProps={size:4};var T_=function(xt){var At=xt.isDisabled,Pt=xt.isFocused,Ot=xt.theme,Rt=Ot.colors,zt=Ot.borderRadius,Gt=Ot.spacing;return{label:"control",alignItems:"center",backgroundColor:At?Rt.neutral5:Rt.neutral0,borderColor:At?Rt.neutral10:Pt?Rt.primary:Rt.neutral20,borderRadius:zt,borderStyle:"solid",borderWidth:1,boxShadow:Pt?"0 0 0 1px ".concat(Rt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:Gt.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:Pt?Rt.primary:Rt.neutral30}}},A_=function(xt){var At=xt.children,Pt=xt.cx,Ot=xt.getStyles,Rt=xt.className,zt=xt.isDisabled,Gt=xt.isFocused,ri=xt.innerRef,yi=xt.innerProps,bi=xt.menuIsOpen;return Sr("div",xr({ref:ri,css:Ot("control",xt),className:Pt({control:!0,"control--is-disabled":zt,"control--is-focused":Gt,"control--menu-is-open":bi},Rt)},yi),At)},$_=function(xt){var At=xt.theme.spacing;return{paddingBottom:At.baseUnit*2,paddingTop:At.baseUnit*2}},P_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.Heading,Gt=xt.headingProps,ri=xt.innerProps,yi=xt.label,bi=xt.theme,fi=xt.selectProps;return Sr("div",xr({css:Rt("group",xt),className:Ot({group:!0},Pt)},ri),Sr(zt,xr({},Gt,{selectProps:fi,theme:bi,getStyles:Rt,cx:Ot}),yi),Sr("div",null,At))},O_=function(xt){var At=xt.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:At.baseUnit*3,paddingRight:At.baseUnit*3,textTransform:"uppercase"}},L_=function(xt){var At=xt.getStyles,Pt=xt.cx,Ot=xt.className,Rt=Qf(xt);Rt.data;var zt=il(Rt,["data"]);return Sr("div",xr({css:At("groupHeading",xt),className:Pt({"group-heading":!0},Ot)},zt))},D_=function(xt){var At=xt.isDisabled,Pt=xt.theme,Ot=Pt.spacing,Rt=Pt.colors;return{margin:Ot.baseUnit/2,paddingBottom:Ot.baseUnit/2,paddingTop:Ot.baseUnit/2,visibility:At?"hidden":"visible",color:Rt.neutral80}},M_=function(xt){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:xt?0:1,outline:0,padding:0,color:"inherit"}},R_=function(xt){var At=xt.className,Pt=xt.cx,Ot=xt.getStyles,Rt=Qf(xt),zt=Rt.innerRef,Gt=Rt.isDisabled,ri=Rt.isHidden,yi=il(Rt,["innerRef","isDisabled","isHidden"]);return Sr("div",{css:Ot("input",xt)},Sr(Vb,xr({className:Pt({input:!0},At),inputRef:zt,inputStyle:M_(ri),disabled:Gt},yi)))},B_=function(xt){var At=xt.theme,Pt=At.spacing,Ot=At.borderRadius,Rt=At.colors;return{label:"multiValue",backgroundColor:Rt.neutral10,borderRadius:Ot/2,display:"flex",margin:Pt.baseUnit/2,minWidth:0}},I_=function(xt){var At=xt.theme,Pt=At.borderRadius,Ot=At.colors,Rt=xt.cropWithEllipsis;return{borderRadius:Pt/2,color:Ot.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:Rt?"ellipsis":null,whiteSpace:"nowrap"}},N_=function(xt){var At=xt.theme,Pt=At.spacing,Ot=At.borderRadius,Rt=At.colors,zt=xt.isFocused;return{alignItems:"center",borderRadius:Ot/2,backgroundColor:zt&&Rt.dangerLight,display:"flex",paddingLeft:Pt.baseUnit,paddingRight:Pt.baseUnit,":hover":{backgroundColor:Rt.dangerLight,color:Rt.danger}}},fp=function(xt){var At=xt.children,Pt=xt.innerProps;return Sr("div",Pt,At)},F_=fp,z_=fp;function H_(xt){var At=xt.children,Pt=xt.innerProps;return Sr("div",Pt,At||Sr(mh,{size:14}))}var pp=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.components,Rt=xt.cx,zt=xt.data,Gt=xt.getStyles,ri=xt.innerProps,yi=xt.isDisabled,bi=xt.removeProps,fi=xt.selectProps,Di=Ot.Container,Ji=Ot.Label,ln=Ot.Remove;return Sr(Db,null,function(pn){var kn=pn.css,Sn=pn.cx;return Sr(Di,{data:zt,innerProps:Do({className:Sn(kn(Gt("multiValue",xt)),Rt({"multi-value":!0,"multi-value--is-disabled":yi},Pt))},ri),selectProps:fi},Sr(Ji,{data:zt,innerProps:{className:Sn(kn(Gt("multiValueLabel",xt)),Rt({"multi-value__label":!0},Pt))},selectProps:fi},At),Sr(ln,{data:zt,innerProps:Do({className:Sn(kn(Gt("multiValueRemove",xt)),Rt({"multi-value__remove":!0},Pt))},bi),selectProps:fi}))})};pp.defaultProps={cropWithEllipsis:!0};var V_=function(xt){var At=xt.isDisabled,Pt=xt.isFocused,Ot=xt.isSelected,Rt=xt.theme,zt=Rt.spacing,Gt=Rt.colors;return{label:"option",backgroundColor:Ot?Gt.primary:Pt?Gt.primary25:"transparent",color:At?Gt.neutral20:Ot?Gt.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(zt.baseUnit*2,"px ").concat(zt.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!At&&(Ot?Gt.primary:Gt.primary50)}}},U_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.isDisabled,Gt=xt.isFocused,ri=xt.isSelected,yi=xt.innerRef,bi=xt.innerProps;return Sr("div",xr({css:Rt("option",xt),className:Ot({option:!0,"option--is-disabled":zt,"option--is-focused":Gt,"option--is-selected":ri},Pt),ref:yi},bi),At)},j_=function(xt){var At=xt.theme,Pt=At.spacing,Ot=At.colors;return{label:"placeholder",color:Ot.neutral50,marginLeft:Pt.baseUnit/2,marginRight:Pt.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},W_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.innerProps;return Sr("div",xr({css:Rt("placeholder",xt),className:Ot({placeholder:!0},Pt)},zt),At)},Y_=function(xt){var At=xt.isDisabled,Pt=xt.theme,Ot=Pt.spacing,Rt=Pt.colors;return{label:"singleValue",color:At?Rt.neutral40:Rt.neutral80,marginLeft:Ot.baseUnit/2,marginRight:Ot.baseUnit/2,maxWidth:"calc(100% - ".concat(Ot.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},G_=function(xt){var At=xt.children,Pt=xt.className,Ot=xt.cx,Rt=xt.getStyles,zt=xt.isDisabled,Gt=xt.innerProps;return Sr("div",xr({css:Rt("singleValue",xt),className:Ot({"single-value":!0,"single-value--is-disabled":zt},Pt)},Gt),At)},q_={ClearIndicator:x_,Control:A_,DropdownIndicator:__,DownChevron:up,CrossIcon:mh,Group:P_,GroupHeading:L_,IndicatorsContainer:y_,IndicatorSeparator:E_,Input:R_,LoadingIndicator:dp,Menu:o_,MenuList:s_,MenuPortal:h_,LoadingMessage:sp,NoOptionsMessage:ap,MultiValue:pp,MultiValueContainer:F_,MultiValueLabel:z_,MultiValueRemove:H_,Option:U_,Placeholder:W_,SelectContainer:f_,SingleValue:G_,ValueContainer:g_},X_=function(xt){return Do(Do({},q_),xt.components)};function vh(xt,At){(At==null||At>xt.length)&&(At=xt.length);for(var Pt=0,Ot=new Array(At);Pt<At;Pt++)Ot[Pt]=xt[Pt];return Ot}function Z_(xt){if(Array.isArray(xt))return vh(xt)}function K_(xt){if(typeof Symbol<"u"&&xt[Symbol.iterator]!=null||xt["@@iterator"]!=null)return Array.from(xt)}function J_(xt,At){if(xt){if(typeof xt=="string")return vh(xt,At);var Pt=Object.prototype.toString.call(xt).slice(8,-1);if(Pt==="Object"&&xt.constructor&&(Pt=xt.constructor.name),Pt==="Map"||Pt==="Set")return Array.from(xt);if(Pt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt))return vh(xt,At)}}function Q_(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gp(xt){return Z_(xt)||K_(xt)||J_(xt)||Q_()}var mp=Number.isNaN||function(xt){return typeof xt=="number"&&xt!==xt};function _2(xt,At){return!!(xt===At||mp(xt)&&mp(At))}function k2(xt,At){if(xt.length!==At.length)return!1;for(var Pt=0;Pt<xt.length;Pt++)if(!_2(xt[Pt],At[Pt]))return!1;return!0}function C2(xt,At){At===void 0&&(At=k2);var Pt,Ot=[],Rt,zt=!1;function Gt(){for(var ri=[],yi=0;yi<arguments.length;yi++)ri[yi]=arguments[yi];return zt&&Pt===this&&At(ri,Ot)||(Rt=xt.apply(this,ri),zt=!0,Pt=this,Ot=ri),Rt}return Gt}for(var A2={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},$2=function(xt){return Sr("span",xr({css:A2},xt))},P2={guidance:function(xt){var At=xt.isSearchable,Pt=xt.isMulti,Ot=xt.isDisabled,Rt=xt.tabSelectsValue,zt=xt.context;switch(zt){case"menu":return"Use Up and Down to choose options".concat(Ot?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(Rt?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(xt["aria-label"]||"Select"," is focused ").concat(At?",type to refine list":"",", press Down to open the menu, ").concat(Pt?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(xt){var At=xt.action,Pt=xt.label,Ot=Pt===void 0?"":Pt,Rt=xt.isDisabled;switch(At){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(Ot,", deselected.");case"select-option":return Rt?"option ".concat(Ot," is disabled. Select another option."):"option ".concat(Ot,", selected.");default:return""}},onFocus:function(xt){var At=xt.context,Pt=xt.focused,Ot=Pt===void 0?{}:Pt,Rt=xt.options,zt=xt.label,Gt=zt===void 0?"":zt,ri=xt.selectValue,yi=xt.isDisabled,bi=xt.isSelected,fi=function(ln,pn){return ln&&ln.length?"".concat(ln.indexOf(pn)+1," of ").concat(ln.length):""};if(At==="value"&&ri)return"value ".concat(Gt," focused, ").concat(fi(ri,Ot),".");if(At==="menu"){var Di=yi?" disabled":"",Ji="".concat(bi?"selected":"focused").concat(Di);return"option ".concat(Gt," ").concat(Ji,", ").concat(fi(Rt,Ot),".")}return""},onFilter:function(xt){var At=xt.inputValue,Pt=xt.resultsMessage;return"".concat(Pt).concat(At?" for search term "+At:"",".")}},M2=function(xt){var At=xt.ariaSelection,Pt=xt.focusedOption,Ot=xt.focusedValue,Rt=xt.focusableOptions,zt=xt.isFocused,Gt=xt.selectValue,ri=xt.selectProps,yi=ri.ariaLiveMessages,bi=ri.getOptionLabel,fi=ri.inputValue,Di=ri.isMulti,Ji=ri.isOptionDisabled,ln=ri.isSearchable,pn=ri.menuIsOpen,kn=ri.options,Sn=ri.screenReaderStatus,Nn=ri.tabSelectsValue,qn=ri["aria-label"],Er=ri["aria-live"],mr=xi(function(){return Do(Do({},P2),yi||{})},[yi]),pr=xi(function(){var Kr="";if(At&&mr.onChange){var Jr=At.option,ma=At.removedValue,Wo=At.value,Xa=function(Ro){return Array.isArray(Ro)?null:Ro},ya=ma||Jr||Xa(Wo),Pa=Do({isDisabled:ya&&Ji(ya),label:ya?bi(ya):""},At);Kr=mr.onChange(Pa)}return Kr},[At,Ji,bi,mr]),Cr=xi(function(){var Kr="",Jr=Pt||Ot,ma=!!(Pt&&Gt&&Gt.includes(Pt));if(Jr&&mr.onFocus){var Wo={focused:Jr,label:bi(Jr),isDisabled:Ji(Jr),isSelected:ma,options:kn,context:Jr===Pt?"menu":"value",selectValue:Gt};Kr=mr.onFocus(Wo)}return Kr},[Pt,Ot,bi,Ji,mr,kn,Gt]),yr=xi(function(){var Kr="";if(pn&&kn.length&&mr.onFilter){var Jr=Sn({count:Rt.length});Kr=mr.onFilter({inputValue:fi,resultsMessage:Jr})}return Kr},[Rt,fi,pn,mr,kn,Sn]),ro=xi(function(){var Kr="";if(mr.guidance){var Jr=Ot?"value":pn?"menu":"input";Kr=mr.guidance({"aria-label":qn,context:Jr,isDisabled:Pt&&Ji(Pt),isMulti:Di,isSearchable:ln,tabSelectsValue:Nn})}return Kr},[qn,Pt,Ot,Di,Ji,ln,pn,mr,Nn]),uo="".concat(Cr," ").concat(yr," ").concat(ro);return Sr($2,{"aria-live":Er,"aria-atomic":"false","aria-relevant":"additions text"},zt&&Sr(Kn.Fragment,null,Sr("span",{id:"aria-selection"},pr),Sr("span",{id:"aria-context"},uo)))},bh=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],R2=new RegExp("["+bh.map(function(xt){return xt.letters}).join("")+"]","g"),yp={},_h=0;_h<bh.length;_h++)for(var wh=bh[_h],xh=0;xh<wh.letters.length;xh++)yp[wh.letters[xh]]=wh.base;var vp=function(xt){return xt.replace(R2,function(At){return yp[At]})},B2=C2(vp),bp=function(xt){return xt.replace(/^\s+|\s+$/g,"")},I2=function(xt){return"".concat(xt.label," ").concat(xt.value)},N2=function(xt){return function(At,Pt){var Ot=Do({ignoreCase:!0,ignoreAccents:!0,stringify:I2,trim:!0,matchFrom:"any"},xt),Rt=Ot.ignoreCase,zt=Ot.ignoreAccents,Gt=Ot.stringify,ri=Ot.trim,yi=Ot.matchFrom,bi=ri?bp(Pt):Pt,fi=ri?bp(Gt(At)):Gt(At);return Rt&&(bi=bi.toLowerCase(),fi=fi.toLowerCase()),zt&&(bi=B2(bi),fi=vp(fi)),yi==="start"?fi.substr(0,bi.length)===bi:fi.indexOf(bi)>-1}};function F2(xt){xt.in,xt.out,xt.onExited,xt.appear,xt.enter,xt.exit;var At=xt.innerRef;xt.emotion;var Pt=il(xt,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Sr("input",xr({ref:At},Pt,{css:uh({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var z2=function(xt){xt.preventDefault(),xt.stopPropagation()};function H2(xt){var At=xt.isEnabled,Pt=xt.onBottomArrive,Ot=xt.onBottomLeave,Rt=xt.onTopArrive,zt=xt.onTopLeave,Gt=li(!1),ri=li(!1),yi=li(0),bi=li(null),fi=ki(function(Sn,Nn){if(bi.current!==null){var qn=bi.current,Er=qn.scrollTop,mr=qn.scrollHeight,pr=qn.clientHeight,Cr=bi.current,yr=Nn>0,ro=mr-pr-Er,uo=!1;ro>Nn&&Gt.current&&(Ot&&Ot(Sn),Gt.current=!1),yr&&ri.current&&(zt&&zt(Sn),ri.current=!1),yr&&Nn>ro?(Pt&&!Gt.current&&Pt(Sn),Cr.scrollTop=mr,uo=!0,Gt.current=!0):!yr&&-Nn>Er&&(Rt&&!ri.current&&Rt(Sn),Cr.scrollTop=0,uo=!0,ri.current=!0),uo&&z2(Sn)}},[]),Di=ki(function(Sn){fi(Sn,Sn.deltaY)},[fi]),Ji=ki(function(Sn){yi.current=Sn.changedTouches[0].clientY},[]),ln=ki(function(Sn){var Nn=yi.current-Sn.changedTouches[0].clientY;fi(Sn,Nn)},[fi]),pn=ki(function(Sn){if(Sn){var Nn=t_?{passive:!1}:!1;typeof Sn.addEventListener=="function"&&Sn.addEventListener("wheel",Di,Nn),typeof Sn.addEventListener=="function"&&Sn.addEventListener("touchstart",Ji,Nn),typeof Sn.addEventListener=="function"&&Sn.addEventListener("touchmove",ln,Nn)}},[ln,Ji,Di]),kn=ki(function(Sn){!Sn||(typeof Sn.removeEventListener=="function"&&Sn.removeEventListener("wheel",Di,!1),typeof Sn.removeEventListener=="function"&&Sn.removeEventListener("touchstart",Ji,!1),typeof Sn.removeEventListener=="function"&&Sn.removeEventListener("touchmove",ln,!1))},[ln,Ji,Di]);return Bn(function(){if(At){var Sn=bi.current;return pn(Sn),function(){kn(Sn)}}},[At,pn,kn]),function(Sn){bi.current=Sn}}var _p=["boxSizing","height","overflow","paddingRight","position"],wp={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xp(xt){xt.preventDefault()}function Sp(xt){xt.stopPropagation()}function Ep(){var xt=this.scrollTop,At=this.scrollHeight,Pt=xt+this.offsetHeight;xt===0?this.scrollTop=1:Pt===At&&(this.scrollTop=xt-1)}function kp(){return"ontouchstart"in window||navigator.maxTouchPoints}var Cp=!!(typeof window<"u"&&window.document&&window.document.createElement),Il=0,nl={capture:!1,passive:!1};function V2(xt){var At=xt.isEnabled,Pt=xt.accountForScrollbars,Ot=Pt===void 0?!0:Pt,Rt=li({}),zt=li(null),Gt=ki(function(yi){if(Cp){var bi=document.body,fi=bi&&bi.style;if(Ot&&_p.forEach(function(pn){var kn=fi&&fi[pn];Rt.current[pn]=kn}),Ot&&Il<1){var Di=parseInt(Rt.current.paddingRight,10)||0,Ji=document.body?document.body.clientWidth:0,ln=window.innerWidth-Ji+Di||0;Object.keys(wp).forEach(function(pn){var kn=wp[pn];fi&&(fi[pn]=kn)}),fi&&(fi.paddingRight="".concat(ln,"px"))}bi&&kp()&&(bi.addEventListener("touchmove",xp,nl),yi&&(yi.addEventListener("touchstart",Ep,nl),yi.addEventListener("touchmove",Sp,nl))),Il+=1}},[]),ri=ki(function(yi){if(Cp){var bi=document.body,fi=bi&&bi.style;Il=Math.max(Il-1,0),Ot&&Il<1&&_p.forEach(function(Di){var Ji=Rt.current[Di];fi&&(fi[Di]=Ji)}),bi&&kp()&&(bi.removeEventListener("touchmove",xp,nl),yi&&(yi.removeEventListener("touchstart",Ep,nl),yi.removeEventListener("touchmove",Sp,nl)))}},[]);return Bn(function(){if(At){var yi=zt.current;return Gt(yi),function(){ri(yi)}}},[At,Gt,ri]),function(yi){zt.current=yi}}var U2=function(){return document.activeElement&&document.activeElement.blur()},j2={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function W2(xt){var At=xt.children,Pt=xt.lockEnabled,Ot=xt.captureEnabled,Rt=Ot===void 0?!0:Ot,zt=xt.onBottomArrive,Gt=xt.onBottomLeave,ri=xt.onTopArrive,yi=xt.onTopLeave,bi=H2({isEnabled:Rt,onBottomArrive:zt,onBottomLeave:Gt,onTopArrive:ri,onTopLeave:yi}),fi=V2({isEnabled:Pt}),Di=function(Ji){bi(Ji),fi(Ji)};return Sr(Kn.Fragment,null,Pt&&Sr("div",{onClick:U2,css:j2}),At(Di))}var Y2=function(xt){return xt.label},G2=function(xt){return xt.label},q2=function(xt){return xt.value},X2=function(xt){return!!xt.isDisabled},Z2={clearIndicator:w_,container:d_,control:T_,dropdownIndicator:b_,group:$_,groupHeading:O_,indicatorsContainer:m_,indicatorSeparator:S_,input:D_,loadingIndicator:C_,loadingMessage:c_,menu:r_,menuList:a_,menuPortal:u_,multiValue:B_,multiValueLabel:I_,multiValueRemove:N_,noOptionsMessage:l_,option:V_,placeholder:j_,singleValue:Y_,valueContainer:p_},K2={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},J2=4,Tp=4,Q2=38,ew=Tp*2,tw={baseUnit:Tp,controlHeight:Q2,menuGutter:ew},Sh={borderRadius:J2,colors:K2,spacing:tw},iw={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:tp(),captureMenuScroll:!tp(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:N2(),formatGroupLabel:Y2,getOptionLabel:G2,getOptionValue:q2,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:X2,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!Qb(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(xt){var At=xt.count;return"".concat(At," result").concat(At!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function Ap(xt,At,Pt,Ot){var Rt=Dp(xt,At,Pt),zt=Mp(xt,At,Pt),Gt=Lp(xt,At),ri=Qc(xt,At);return{type:"option",data:At,isDisabled:Rt,isSelected:zt,label:Gt,value:ri,index:Ot}}function $p(xt,At){return xt.options.map(function(Pt,Ot){if(Pt.options){var Rt=Pt.options.map(function(Gt,ri){return Ap(xt,Gt,At,ri)}).filter(function(Gt){return Op(xt,Gt)});return Rt.length>0?{type:"group",data:Pt,options:Rt,index:Ot}:void 0}var zt=Ap(xt,Pt,At,Ot);return Op(xt,zt)?zt:void 0}).filter(function(Pt){return!!Pt})}function Pp(xt){return xt.reduce(function(At,Pt){return Pt.type==="group"?At.push.apply(At,gp(Pt.options.map(function(Ot){return Ot.data}))):At.push(Pt.data),At},[])}function nw(xt,At){return Pp($p(xt,At))}function Op(xt,At){var Pt=xt.inputValue,Ot=Pt===void 0?"":Pt,Rt=At.data,zt=At.isSelected,Gt=At.label,ri=At.value;return(!Bp(xt)||!zt)&&Rp(xt,{label:Gt,value:ri,data:Rt},Ot)}function rw(xt,At){var Pt=xt.focusedValue,Ot=xt.selectValue,Rt=Ot.indexOf(Pt);if(Rt>-1){var zt=At.indexOf(Pt);if(zt>-1)return Pt;if(Rt<At.length)return At[Rt]}return null}function ow(xt,At){var Pt=xt.focusedOption;return Pt&&At.indexOf(Pt)>-1?Pt:At[0]}var Lp=function(xt,At){return xt.getOptionLabel(At)},Qc=function(xt,At){return xt.getOptionValue(At)};function Dp(xt,At,Pt){return typeof xt.isOptionDisabled=="function"?xt.isOptionDisabled(At,Pt):!1}function Mp(xt,At,Pt){if(Pt.indexOf(At)>-1)return!0;if(typeof xt.isOptionSelected=="function")return xt.isOptionSelected(At,Pt);var Ot=Qc(xt,At);return Pt.some(function(Rt){return Qc(xt,Rt)===Ot})}function Rp(xt,At,Pt){return xt.filterOption?xt.filterOption(At,Pt):!0}var Bp=function(xt){var At=xt.hideSelectedOptions,Pt=xt.isMulti;return At===void 0?Pt:At},aw=1,Ip=function(xt){Yc(Pt,xt);var At=qc(Pt);function Pt(Ot){var Rt;return Uc(this,Pt),Rt=At.call(this,Ot),Rt.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},Rt.blockOptionHover=!1,Rt.isComposing=!1,Rt.commonProps=void 0,Rt.initialTouchX=0,Rt.initialTouchY=0,Rt.instancePrefix="",Rt.openAfterFocus=!1,Rt.scrollToFocusedOptionOnUpdate=!1,Rt.userIsDragging=void 0,Rt.controlRef=null,Rt.getControlRef=function(zt){Rt.controlRef=zt},Rt.focusedOptionRef=null,Rt.getFocusedOptionRef=function(zt){Rt.focusedOptionRef=zt},Rt.menuListRef=null,Rt.getMenuListRef=function(zt){Rt.menuListRef=zt},Rt.inputRef=null,Rt.getInputRef=function(zt){Rt.inputRef=zt},Rt.focus=Rt.focusInput,Rt.blur=Rt.blurInput,Rt.onChange=function(zt,Gt){var ri=Rt.props,yi=ri.onChange,bi=ri.name;Gt.name=bi,Rt.ariaOnChange(zt,Gt),yi(zt,Gt)},Rt.setValue=function(zt){var Gt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",ri=arguments.length>2?arguments[2]:void 0,yi=Rt.props,bi=yi.closeMenuOnSelect,fi=yi.isMulti;Rt.onInputChange("",{action:"set-value"}),bi&&(Rt.setState({inputIsHiddenAfterUpdate:!fi}),Rt.onMenuClose()),Rt.setState({clearFocusValueOnUpdate:!0}),Rt.onChange(zt,{action:Gt,option:ri})},Rt.selectOption=function(zt){var Gt=Rt.props,ri=Gt.blurInputOnSelect,yi=Gt.isMulti,bi=Gt.name,fi=Rt.state.selectValue,Di=yi&&Rt.isOptionSelected(zt,fi),Ji=Rt.isOptionDisabled(zt,fi);if(Di){var ln=Rt.getOptionValue(zt);Rt.setValue(fi.filter(function(pn){return Rt.getOptionValue(pn)!==ln}),"deselect-option",zt)}else if(!Ji)yi?Rt.setValue([].concat(gp(fi),[zt]),"select-option",zt):Rt.setValue(zt,"select-option");else{Rt.ariaOnChange(zt,{action:"select-option",name:bi});return}ri&&Rt.blurInput()},Rt.removeValue=function(zt){var Gt=Rt.props.isMulti,ri=Rt.state.selectValue,yi=Rt.getOptionValue(zt),bi=ri.filter(function(Di){return Rt.getOptionValue(Di)!==yi}),fi=Gt?bi:bi[0]||null;Rt.onChange(fi,{action:"remove-value",removedValue:zt}),Rt.focusInput()},Rt.clearValue=function(){var zt=Rt.state.selectValue;Rt.onChange(Rt.props.isMulti?[]:null,{action:"clear",removedValues:zt})},Rt.popValue=function(){var zt=Rt.props.isMulti,Gt=Rt.state.selectValue,ri=Gt[Gt.length-1],yi=Gt.slice(0,Gt.length-1),bi=zt?yi:yi[0]||null;Rt.onChange(bi,{action:"pop-value",removedValue:ri})},Rt.getValue=function(){return Rt.state.selectValue},Rt.cx=function(){for(var zt=arguments.length,Gt=new Array(zt),ri=0;ri<zt;ri++)Gt[ri]=arguments[ri];return qb.apply(void 0,[Rt.props.classNamePrefix].concat(Gt))},Rt.getOptionLabel=function(zt){return Lp(Rt.props,zt)},Rt.getOptionValue=function(zt){return Qc(Rt.props,zt)},Rt.getStyles=function(zt,Gt){var ri=Z2[zt](Gt);ri.boxSizing="border-box";var yi=Rt.props.styles[zt];return yi?yi(ri,Gt):ri},Rt.getElementId=function(zt){return"".concat(Rt.instancePrefix,"-").concat(zt)},Rt.getComponents=function(){return X_(Rt.props)},Rt.buildCategorizedOptions=function(){return $p(Rt.props,Rt.state.selectValue)},Rt.getCategorizedOptions=function(){return Rt.props.menuIsOpen?Rt.buildCategorizedOptions():[]},Rt.buildFocusableOptions=function(){return Pp(Rt.buildCategorizedOptions())},Rt.getFocusableOptions=function(){return Rt.props.menuIsOpen?Rt.buildFocusableOptions():[]},Rt.ariaOnChange=function(zt,Gt){Rt.setState({ariaSelection:Do({value:zt},Gt)})},Rt.onMenuMouseDown=function(zt){zt.button===0&&(zt.stopPropagation(),zt.preventDefault(),Rt.focusInput())},Rt.onMenuMouseMove=function(zt){Rt.blockOptionHover=!1},Rt.onControlMouseDown=function(zt){var Gt=Rt.props.openMenuOnClick;Rt.state.isFocused?Rt.props.menuIsOpen?zt.target.tagName!=="INPUT"&&zt.target.tagName!=="TEXTAREA"&&Rt.onMenuClose():Gt&&Rt.openMenu("first"):(Gt&&(Rt.openAfterFocus=!0),Rt.focusInput()),zt.target.tagName!=="INPUT"&&zt.target.tagName!=="TEXTAREA"&&zt.preventDefault()},Rt.onDropdownIndicatorMouseDown=function(zt){if(!(zt&&zt.type==="mousedown"&&zt.button!==0)&&!Rt.props.isDisabled){var Gt=Rt.props,ri=Gt.isMulti,yi=Gt.menuIsOpen;Rt.focusInput(),yi?(Rt.setState({inputIsHiddenAfterUpdate:!ri}),Rt.onMenuClose()):Rt.openMenu("first"),zt.preventDefault(),zt.stopPropagation()}},Rt.onClearIndicatorMouseDown=function(zt){zt&&zt.type==="mousedown"&&zt.button!==0||(Rt.clearValue(),zt.stopPropagation(),Rt.openAfterFocus=!1,zt.type==="touchend"?Rt.focusInput():setTimeout(function(){return Rt.focusInput()}))},Rt.onScroll=function(zt){typeof Rt.props.closeMenuOnScroll=="boolean"?zt.target instanceof HTMLElement&&ph(zt.target)&&Rt.props.onMenuClose():typeof Rt.props.closeMenuOnScroll=="function"&&Rt.props.closeMenuOnScroll(zt)&&Rt.props.onMenuClose()},Rt.onCompositionStart=function(){Rt.isComposing=!0},Rt.onCompositionEnd=function(){Rt.isComposing=!1},Rt.onTouchStart=function(zt){var Gt=zt.touches,ri=Gt&&Gt.item(0);!ri||(Rt.initialTouchX=ri.clientX,Rt.initialTouchY=ri.clientY,Rt.userIsDragging=!1)},Rt.onTouchMove=function(zt){var Gt=zt.touches,ri=Gt&&Gt.item(0);if(ri){var yi=Math.abs(ri.clientX-Rt.initialTouchX),bi=Math.abs(ri.clientY-Rt.initialTouchY),fi=5;Rt.userIsDragging=yi>fi||bi>fi}},Rt.onTouchEnd=function(zt){Rt.userIsDragging||(Rt.controlRef&&!Rt.controlRef.contains(zt.target)&&Rt.menuListRef&&!Rt.menuListRef.contains(zt.target)&&Rt.blurInput(),Rt.initialTouchX=0,Rt.initialTouchY=0)},Rt.onControlTouchEnd=function(zt){Rt.userIsDragging||Rt.onControlMouseDown(zt)},Rt.onClearIndicatorTouchEnd=function(zt){Rt.userIsDragging||Rt.onClearIndicatorMouseDown(zt)},Rt.onDropdownIndicatorTouchEnd=function(zt){Rt.userIsDragging||Rt.onDropdownIndicatorMouseDown(zt)},Rt.handleInputChange=function(zt){var Gt=zt.currentTarget.value;Rt.setState({inputIsHiddenAfterUpdate:!1}),Rt.onInputChange(Gt,{action:"input-change"}),Rt.props.menuIsOpen||Rt.onMenuOpen()},Rt.onInputFocus=function(zt){Rt.props.onFocus&&Rt.props.onFocus(zt),Rt.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(Rt.openAfterFocus||Rt.props.openMenuOnFocus)&&Rt.openMenu("first"),Rt.openAfterFocus=!1},Rt.onInputBlur=function(zt){if(Rt.menuListRef&&Rt.menuListRef.contains(document.activeElement)){Rt.inputRef.focus();return}Rt.props.onBlur&&Rt.props.onBlur(zt),Rt.onInputChange("",{action:"input-blur"}),Rt.onMenuClose(),Rt.setState({focusedValue:null,isFocused:!1})},Rt.onOptionHover=function(zt){Rt.blockOptionHover||Rt.state.focusedOption===zt||Rt.setState({focusedOption:zt})},Rt.shouldHideSelectedOptions=function(){return Bp(Rt.props)},Rt.onKeyDown=function(zt){var Gt=Rt.props,ri=Gt.isMulti,yi=Gt.backspaceRemovesValue,bi=Gt.escapeClearsValue,fi=Gt.inputValue,Di=Gt.isClearable,Ji=Gt.isDisabled,ln=Gt.menuIsOpen,pn=Gt.onKeyDown,kn=Gt.tabSelectsValue,Sn=Gt.openMenuOnFocus,Nn=Rt.state,qn=Nn.focusedOption,Er=Nn.focusedValue,mr=Nn.selectValue;if(!Ji&&!(typeof pn=="function"&&(pn(zt),zt.defaultPrevented))){switch(Rt.blockOptionHover=!0,zt.key){case"ArrowLeft":if(!ri||fi)return;Rt.focusValue("previous");break;case"ArrowRight":if(!ri||fi)return;Rt.focusValue("next");break;case"Delete":case"Backspace":if(fi)return;if(Er)Rt.removeValue(Er);else{if(!yi)return;ri?Rt.popValue():Di&&Rt.clearValue()}break;case"Tab":if(Rt.isComposing||zt.shiftKey||!ln||!kn||!qn||Sn&&Rt.isOptionSelected(qn,mr))return;Rt.selectOption(qn);break;case"Enter":if(zt.keyCode===229)break;if(ln){if(!qn||Rt.isComposing)return;Rt.selectOption(qn);break}return;case"Escape":ln?(Rt.setState({inputIsHiddenAfterUpdate:!1}),Rt.onInputChange("",{action:"menu-close"}),Rt.onMenuClose()):Di&&bi&&Rt.clearValue();break;case" ":if(fi)return;if(!ln){Rt.openMenu("first");break}if(!qn)return;Rt.selectOption(qn);break;case"ArrowUp":ln?Rt.focusOption("up"):Rt.openMenu("last");break;case"ArrowDown":ln?Rt.focusOption("down"):Rt.openMenu("first");break;case"PageUp":if(!ln)return;Rt.focusOption("pageup");break;case"PageDown":if(!ln)return;Rt.focusOption("pagedown");break;case"Home":if(!ln)return;Rt.focusOption("first");break;case"End":if(!ln)return;Rt.focusOption("last");break;default:return}zt.preventDefault()}},Rt.instancePrefix="react-select-"+(Rt.props.instanceId||++aw),Rt.state.selectValue=Jf(Ot.value),Rt}return jc(Pt,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(Ot){var Rt=this.props,zt=Rt.isDisabled,Gt=Rt.menuIsOpen,ri=this.state.isFocused;(ri&&!zt&&Ot.isDisabled||ri&&Gt&&!Ot.menuIsOpen)&&this.focusInput(),ri&&zt&&!Ot.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(Kb(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(Ot,Rt){this.props.onInputChange(Ot,Rt)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(Ot){var Rt=this,zt=this.state,Gt=zt.selectValue,ri=zt.isFocused,yi=this.buildFocusableOptions(),bi=Ot==="first"?0:yi.length-1;if(!this.props.isMulti){var fi=yi.indexOf(Gt[0]);fi>-1&&(bi=fi)}this.scrollToFocusedOptionOnUpdate=!(ri&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:yi[bi]},function(){return Rt.onMenuOpen()})}},{key:"focusValue",value:function(Ot){var Rt=this.state,zt=Rt.selectValue,Gt=Rt.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var ri=zt.indexOf(Gt);Gt||(ri=-1);var yi=zt.length-1,bi=-1;if(zt.length){switch(Ot){case"previous":ri===0?bi=0:ri===-1?bi=yi:bi=ri-1;break;case"next":ri>-1&&ri<yi&&(bi=ri+1);break}this.setState({inputIsHidden:bi!==-1,focusedValue:zt[bi]})}}}},{key:"focusOption",value:function(){var Ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",Rt=this.props.pageSize,zt=this.state.focusedOption,Gt=this.getFocusableOptions();if(Gt.length){var ri=0,yi=Gt.indexOf(zt);zt||(yi=-1),Ot==="up"?ri=yi>0?yi-1:Gt.length-1:Ot==="down"?ri=(yi+1)%Gt.length:Ot==="pageup"?(ri=yi-Rt,ri<0&&(ri=0)):Ot==="pagedown"?(ri=yi+Rt,ri>Gt.length-1&&(ri=Gt.length-1)):Ot==="last"&&(ri=Gt.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:Gt[ri],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(Sh):Do(Do({},Sh),this.props.theme):Sh}},{key:"getCommonProps",value:function(){var Ot=this.clearValue,Rt=this.cx,zt=this.getStyles,Gt=this.getValue,ri=this.selectOption,yi=this.setValue,bi=this.props,fi=bi.isMulti,Di=bi.isRtl,Ji=bi.options,ln=this.hasValue();return{clearValue:Ot,cx:Rt,getStyles:zt,getValue:Gt,hasValue:ln,isMulti:fi,isRtl:Di,options:Ji,selectOption:ri,selectProps:bi,setValue:yi,theme:this.getTheme()}}},{key:"hasValue",value:function(){var Ot=this.state.selectValue;return Ot.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var Ot=this.props,Rt=Ot.isClearable,zt=Ot.isMulti;return Rt===void 0?zt:Rt}},{key:"isOptionDisabled",value:function(Ot,Rt){return Dp(this.props,Ot,Rt)}},{key:"isOptionSelected",value:function(Ot,Rt){return Mp(this.props,Ot,Rt)}},{key:"filterOption",value:function(Ot,Rt){return Rp(this.props,Ot,Rt)}},{key:"formatOptionLabel",value:function(Ot,Rt){if(typeof this.props.formatOptionLabel=="function"){var zt=this.props.inputValue,Gt=this.state.selectValue;return this.props.formatOptionLabel(Ot,{context:Rt,inputValue:zt,selectValue:Gt})}else return this.getOptionLabel(Ot)}},{key:"formatGroupLabel",value:function(Ot){return this.props.formatGroupLabel(Ot)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var Ot=this.props,Rt=Ot.isDisabled,zt=Ot.isSearchable,Gt=Ot.inputId,ri=Ot.inputValue,yi=Ot.tabIndex,bi=Ot.form,fi=this.getComponents(),Di=fi.Input,Ji=this.state.inputIsHidden,ln=this.commonProps,pn=Gt||this.getElementId("input"),kn={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return zt?Kn.createElement(Di,xr({},ln,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:pn,innerRef:this.getInputRef,isDisabled:Rt,isHidden:Ji,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:yi,form:bi,type:"text",value:ri},kn)):Kn.createElement(F2,xr({id:pn,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Xc,onFocus:this.onInputFocus,readOnly:!0,disabled:Rt,tabIndex:yi,form:bi,value:""},kn))}},{key:"renderPlaceholderOrValue",value:function(){var Ot=this,Rt=this.getComponents(),zt=Rt.MultiValue,Gt=Rt.MultiValueContainer,ri=Rt.MultiValueLabel,yi=Rt.MultiValueRemove,bi=Rt.SingleValue,fi=Rt.Placeholder,Di=this.commonProps,Ji=this.props,ln=Ji.controlShouldRenderValue,pn=Ji.isDisabled,kn=Ji.isMulti,Sn=Ji.inputValue,Nn=Ji.placeholder,qn=this.state,Er=qn.selectValue,mr=qn.focusedValue,pr=qn.isFocused;if(!this.hasValue()||!ln)return Sn?null:Kn.createElement(fi,xr({},Di,{key:"placeholder",isDisabled:pn,isFocused:pr}),Nn);if(kn){var Cr=Er.map(function(ro,uo){var Kr=ro===mr;return Kn.createElement(zt,xr({},Di,{components:{Container:Gt,Label:ri,Remove:yi},isFocused:Kr,isDisabled:pn,key:"".concat(Ot.getOptionValue(ro)).concat(uo),index:uo,removeProps:{onClick:function(){return Ot.removeValue(ro)},onTouchEnd:function(){return Ot.removeValue(ro)},onMouseDown:function(Jr){Jr.preventDefault(),Jr.stopPropagation()}},data:ro}),Ot.formatOptionLabel(ro,"value"))});return Cr}if(Sn)return null;var yr=Er[0];return Kn.createElement(bi,xr({},Di,{data:yr,isDisabled:pn}),this.formatOptionLabel(yr,"value"))}},{key:"renderClearIndicator",value:function(){var Ot=this.getComponents(),Rt=Ot.ClearIndicator,zt=this.commonProps,Gt=this.props,ri=Gt.isDisabled,yi=Gt.isLoading,bi=this.state.isFocused;if(!this.isClearable()||!Rt||ri||!this.hasValue()||yi)return null;var fi={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Kn.createElement(Rt,xr({},zt,{innerProps:fi,isFocused:bi}))}},{key:"renderLoadingIndicator",value:function(){var Ot=this.getComponents(),Rt=Ot.LoadingIndicator,zt=this.commonProps,Gt=this.props,ri=Gt.isDisabled,yi=Gt.isLoading,bi=this.state.isFocused;if(!Rt||!yi)return null;var fi={"aria-hidden":"true"};return Kn.createElement(Rt,xr({},zt,{innerProps:fi,isDisabled:ri,isFocused:bi}))}},{key:"renderIndicatorSeparator",value:function(){var Ot=this.getComponents(),Rt=Ot.DropdownIndicator,zt=Ot.IndicatorSeparator;if(!Rt||!zt)return null;var Gt=this.commonProps,ri=this.props.isDisabled,yi=this.state.isFocused;return Kn.createElement(zt,xr({},Gt,{isDisabled:ri,isFocused:yi}))}},{key:"renderDropdownIndicator",value:function(){var Ot=this.getComponents(),Rt=Ot.DropdownIndicator;if(!Rt)return null;var zt=this.commonProps,Gt=this.props.isDisabled,ri=this.state.isFocused,yi={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Kn.createElement(Rt,xr({},zt,{innerProps:yi,isDisabled:Gt,isFocused:ri}))}},{key:"renderMenu",value:function(){var Ot=this,Rt=this.getComponents(),zt=Rt.Group,Gt=Rt.GroupHeading,ri=Rt.Menu,yi=Rt.MenuList,bi=Rt.MenuPortal,fi=Rt.LoadingMessage,Di=Rt.NoOptionsMessage,Ji=Rt.Option,ln=this.commonProps,pn=this.state.focusedOption,kn=this.props,Sn=kn.captureMenuScroll,Nn=kn.inputValue,qn=kn.isLoading,Er=kn.loadingMessage,mr=kn.minMenuHeight,pr=kn.maxMenuHeight,Cr=kn.menuIsOpen,yr=kn.menuPlacement,ro=kn.menuPosition,uo=kn.menuPortalTarget,Kr=kn.menuShouldBlockScroll,Jr=kn.menuShouldScrollIntoView,ma=kn.noOptionsMessage,Wo=kn.onMenuScrollToTop,Xa=kn.onMenuScrollToBottom;if(!Cr)return null;var ya=function(io,Pn){var Wn=io.type,Jn=io.data,Gn=io.isDisabled,tr=io.isSelected,Ar=io.label,oo=io.value,To=pn===Jn,Qr=Gn?void 0:function(){return Ot.onOptionHover(Jn)},Bs=Gn?void 0:function(){return Ot.selectOption(Jn)},za="".concat(Ot.getElementId("option"),"-").concat(Pn),fs={id:za,onClick:Bs,onMouseMove:Qr,onMouseOver:Qr,tabIndex:-1};return Kn.createElement(Ji,xr({},ln,{innerProps:fs,data:Jn,isDisabled:Gn,isSelected:tr,key:za,label:Ar,type:Wn,value:oo,isFocused:To,innerRef:To?Ot.getFocusedOptionRef:void 0}),Ot.formatOptionLabel(io.data,"menu"))},Pa;if(this.hasOptions())Pa=this.getCategorizedOptions().map(function(io){if(io.type==="group"){var Pn=io.data,Wn=io.options,Jn=io.index,Gn="".concat(Ot.getElementId("group"),"-").concat(Jn),tr="".concat(Gn,"-heading");return Kn.createElement(zt,xr({},ln,{key:Gn,data:Pn,options:Wn,Heading:Gt,headingProps:{id:tr,data:io.data},label:Ot.formatGroupLabel(io.data)}),io.options.map(function(Ar){return ya(Ar,"".concat(Jn,"-").concat(Ar.index))}))}else if(io.type==="option")return ya(io,"".concat(io.index))});else if(qn){var Ro=Er({inputValue:Nn});if(Ro===null)return null;Pa=Kn.createElement(fi,ln,Ro)}else{var lu=ma({inputValue:Nn});if(lu===null)return null;Pa=Kn.createElement(Di,ln,lu)}var Rs={minMenuHeight:mr,maxMenuHeight:pr,menuPlacement:yr,menuPosition:ro,menuShouldScrollIntoView:Jr},va=Kn.createElement(rp,xr({},ln,Rs),function(io){var Pn=io.ref,Wn=io.placerProps,Jn=Wn.placement,Gn=Wn.maxHeight;return Kn.createElement(ri,xr({},ln,Rs,{innerRef:Pn,innerProps:{onMouseDown:Ot.onMenuMouseDown,onMouseMove:Ot.onMenuMouseMove},isLoading:qn,placement:Jn}),Kn.createElement(W2,{captureEnabled:Sn,onTopArrive:Wo,onBottomArrive:Xa,lockEnabled:Kr},function(tr){return Kn.createElement(yi,xr({},ln,{innerRef:function(Ar){Ot.getMenuListRef(Ar),tr(Ar)},isLoading:qn,maxHeight:Gn,focusedOption:pn}),Pa)}))});return uo||ro==="fixed"?Kn.createElement(bi,xr({},ln,{appendTo:uo,controlElement:this.controlRef,menuPlacement:yr,menuPosition:ro}),va):va}},{key:"renderFormField",value:function(){var Ot=this,Rt=this.props,zt=Rt.delimiter,Gt=Rt.isDisabled,ri=Rt.isMulti,yi=Rt.name,bi=this.state.selectValue;if(!(!yi||Gt))if(ri)if(zt){var fi=bi.map(function(ln){return Ot.getOptionValue(ln)}).join(zt);return Kn.createElement("input",{name:yi,type:"hidden",value:fi})}else{var Di=bi.length>0?bi.map(function(ln,pn){return Kn.createElement("input",{key:"i-".concat(pn),name:yi,type:"hidden",value:Ot.getOptionValue(ln)})}):Kn.createElement("input",{name:yi,type:"hidden"});return Kn.createElement("div",null,Di)}else{var Ji=bi[0]?this.getOptionValue(bi[0]):"";return Kn.createElement("input",{name:yi,type:"hidden",value:Ji})}}},{key:"renderLiveRegion",value:function(){var Ot=this.commonProps,Rt=this.state,zt=Rt.ariaSelection,Gt=Rt.focusedOption,ri=Rt.focusedValue,yi=Rt.isFocused,bi=Rt.selectValue,fi=this.getFocusableOptions();return Kn.createElement(M2,xr({},Ot,{ariaSelection:zt,focusedOption:Gt,focusedValue:ri,isFocused:yi,selectValue:bi,focusableOptions:fi}))}},{key:"render",value:function(){var Ot=this.getComponents(),Rt=Ot.Control,zt=Ot.IndicatorsContainer,Gt=Ot.SelectContainer,ri=Ot.ValueContainer,yi=this.props,bi=yi.className,fi=yi.id,Di=yi.isDisabled,Ji=yi.menuIsOpen,ln=this.state.isFocused,pn=this.commonProps=this.getCommonProps();return Kn.createElement(Gt,xr({},pn,{className:bi,innerProps:{id:fi,onKeyDown:this.onKeyDown},isDisabled:Di,isFocused:ln}),this.renderLiveRegion(),Kn.createElement(Rt,xr({},pn,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Di,isFocused:ln,menuIsOpen:Ji}),Kn.createElement(ri,xr({},pn,{isDisabled:Di}),this.renderPlaceholderOrValue(),this.renderInput()),Kn.createElement(zt,xr({},pn,{isDisabled:Di}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(Ot,Rt){var zt=Rt.prevProps,Gt=Rt.clearFocusValueOnUpdate,ri=Rt.inputIsHiddenAfterUpdate,yi=Ot.options,bi=Ot.value,fi=Ot.menuIsOpen,Di=Ot.inputValue,Ji={};if(zt&&(bi!==zt.value||yi!==zt.options||fi!==zt.menuIsOpen||Di!==zt.inputValue)){var ln=Jf(bi),pn=fi?nw(Ot,ln):[],kn=Gt?rw(Rt,ln):null,Sn=ow(Rt,pn);Ji={selectValue:ln,focusedOption:Sn,focusedValue:kn,clearFocusValueOnUpdate:!1}}var Nn=ri!=null&&Ot!==zt?{inputIsHidden:ri,inputIsHiddenAfterUpdate:void 0}:{};return Do(Do(Do({},Ji),Nn),{},{prevProps:Ot})}}]),Pt}(ni);Ip.defaultProps=iw;var sw={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},lw=function(xt){var At,Pt;return Pt=At=function(Ot){Yc(zt,Ot);var Rt=qc(zt);function zt(){var Gt;Uc(this,zt);for(var ri=arguments.length,yi=new Array(ri),bi=0;bi<ri;bi++)yi[bi]=arguments[bi];return Gt=Rt.call.apply(Rt,[this].concat(yi)),Gt.select=void 0,Gt.state={inputValue:Gt.props.inputValue!==void 0?Gt.props.inputValue:Gt.props.defaultInputValue,menuIsOpen:Gt.props.menuIsOpen!==void 0?Gt.props.menuIsOpen:Gt.props.defaultMenuIsOpen,value:Gt.props.value!==void 0?Gt.props.value:Gt.props.defaultValue},Gt.onChange=function(fi,Di){Gt.callProp("onChange",fi,Di),Gt.setState({value:fi})},Gt.onInputChange=function(fi,Di){var Ji=Gt.callProp("onInputChange",fi,Di);Gt.setState({inputValue:Ji!==void 0?Ji:fi})},Gt.onMenuOpen=function(){Gt.callProp("onMenuOpen"),Gt.setState({menuIsOpen:!0})},Gt.onMenuClose=function(){Gt.callProp("onMenuClose"),Gt.setState({menuIsOpen:!1})},Gt}return jc(zt,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(Gt){return this.props[Gt]!==void 0?this.props[Gt]:this.state[Gt]}},{key:"callProp",value:function(Gt){if(typeof this.props[Gt]=="function"){for(var ri,yi=arguments.length,bi=new Array(yi>1?yi-1:0),fi=1;fi<yi;fi++)bi[fi-1]=arguments[fi];return(ri=this.props)[Gt].apply(ri,bi)}}},{key:"render",value:function(){var Gt=this,ri=this.props;ri.defaultInputValue,ri.defaultMenuIsOpen,ri.defaultValue;var yi=il(ri,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Kn.createElement(xt,xr({},yi,{ref:function(bi){Gt.select=bi},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),zt}(ni),At.defaultProps=sw,Pt},cw=lw(Ip),uw=cw;const Eh=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var Np=xt=>{const At=xt.content?Eh.find(Pt=>Pt.value===xt.content):null;return ei("div",{className:"r6o-purposedropdown"},ei(uw,{value:At,onChange:xt.onChange,options:Eh,isDisabled:!xt.editable}))};const hw=xt=>ei("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:xt.width},ei("metadata",null,"IcoFont Icons"),ei("title",null,"simple-down"),ei("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),ei("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),dw=xt=>ei("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:xt.width},ei("metadata",null,"IcoFont Icons"),ei("title",null,"close"),ei("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),ei("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),fw=xt=>ei("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:xt.width},ei("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var pw=xt=>{const[At,Pt]=Rn(!1),[Ot,Rt]=Rn(!1),zt=Di=>{Pt(!0),Rt(!1)},Gt=Di=>{xt.onDelete(xt.body),Rt(!1)},ri=Di=>xt.onUpdate(xt.body,$t(Tt({},xt.body),{value:Di.target.value})),yi=Di=>xt.onUpdate(xt.body,$t(Tt({},xt.body),{purpose:Di.value})),bi=xt.body.modified||xt.body.created,fi=xt.body.creator&&ei("div",{className:"r6o-lastmodified"},ei("span",{className:"r6o-lastmodified-by"},xt.body.creator.name||xt.body.creator.id),xt.body.created&&ei("span",{className:"r6o-lastmodified-at"},ei(ec,{datetime:xt.env.toClientTime(bi),locale:aa.locale()})));return xt.readOnly?ei("div",{className:"r6o-widget comment"},ei("div",{className:"r6o-readonly-comment"},xt.body.value),fi):ei("div",{className:At?"r6o-widget comment editable":"r6o-widget comment"},ei(vf,{editable:At,content:xt.body.value,onChange:ri,onSaveAndClose:xt.onSaveAndClose}),!At&&fi,xt.purposeSelector&&ei(Np,{editable:At,content:xt.body.purpose,onChange:yi,onSaveAndClose:xt.onSaveAndClose}),ei("div",{className:Ot?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>Rt(!Ot)},ei(hw,{width:12})),Ot&&ei(Tv,{onEdit:zt,onDelete:Gt,onClickOutside:()=>Rt(!1)}))};const gw=Eh.map(xt=>xt.value),Fp=(xt,At)=>{const Pt=At?gw.indexOf(xt.purpose)>-1:xt.purpose=="commenting"||xt.purpose=="replying";return xt.type==="TextualBody"&&(!xt.hasOwnProperty("purpose")||Pt)},zp=(xt,At)=>{var Pt,Ot;if(At.editable===!0)return!1;if(At.editable===!1)return!0;if(At.editable==="MINE_ONLY"){const Rt=(Pt=xt.creator)==null?void 0:Pt.id;return((Ot=At.env.user)==null?void 0:Ot.id)!==Rt}return At.readOnly},mw=(xt,At)=>xt||{type:"TextualBody",value:"",purpose:At?"replying":"commenting",draft:!0},Hp=xt=>{const At=xt.annotation?xt.annotation.bodies.filter(Gt=>Fp(Gt,xt.purposeSelector)):[],Pt=mw(At.find(Gt=>Gt.draft==!0),At.length>1),Ot=At.filter(Gt=>Gt!=Pt),Rt=Gt=>{const ri=Pt.value,yi=Gt.target.value;ri.length===0&&yi.length>0?xt.onAppendBody($t(Tt({},Pt),{value:yi})):ri.length>0&&yi.length===0?xt.onRemoveBody(Pt):xt.onUpdateBody(Pt,$t(Tt({},Pt),{value:yi}))},zt=Gt=>xt.onUpdateBody(Pt,$t(Tt({},Pt),{purpose:Gt.value}));return ei(Ni,null,Ot.map((Gt,ri)=>ei(pw,{key:ri,env:xt.env,purposeSelector:xt.purposeSelector,readOnly:zp(Gt,xt),body:Gt,onUpdate:xt.onUpdateBody,onDelete:xt.onRemoveBody,onSaveAndClose:xt.onSaveAndClose})),!xt.readOnly&&xt.annotation&&ei("div",{className:"r6o-widget comment editable"},ei(vf,{focus:xt.focus,content:Pt.value,editable:!0,placeholder:Ot.length>0?aa.t("Add a reply..."):aa.t("Add a comment..."),onChange:Rt,onSaveAndClose:()=>xt.onSaveAndClose()}),xt.purposeSelector&&Pt.value.length>0&&ei(Np,{editable:!0,content:Pt.purpose,onChange:zt,onSaveAndClose:()=>xt.onSaveAndClose()})))};Hp.disableDelete=(xt,At)=>xt.bodies.filter(Pt=>Fp(Pt,At.purposeSelector)).some(Pt=>zp(Pt,At));var Vp=Hp;function Up(xt,At){xt.prototype=Object.create(At.prototype),xt.prototype.constructor=xt,Wc(xt,At)}function yw(xt,At){return xt.classList?!!At&&xt.classList.contains(At):(" "+(xt.className.baseVal||xt.className)+" ").indexOf(" "+At+" ")!==-1}function vw(xt,At){xt.classList?xt.classList.add(At):yw(xt,At)||(typeof xt.className=="string"?xt.className=xt.className+" "+At:xt.setAttribute("class",(xt.className&&xt.className.baseVal||"")+" "+At))}function jp(xt,At){return xt.replace(new RegExp("(^|\\s)"+At+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function bw(xt,At){xt.classList?xt.classList.remove(At):typeof xt.className=="string"?xt.className=jp(xt.className,At):xt.setAttribute("class",jp(xt.className&&xt.className.baseVal||"",At))}var Wp={disabled:!1},Yp=Kn.createContext(null),Nl="unmounted",Os="exited",Ls="entering",rl="entered",kh="exiting",qa=function(xt){Up(At,xt);function At(Ot,Rt){var zt;zt=xt.call(this,Ot,Rt)||this;var Gt=Rt,ri=Gt&&!Gt.isMounting?Ot.enter:Ot.appear,yi;return zt.appearStatus=null,Ot.in?ri?(yi=Os,zt.appearStatus=Ls):yi=rl:Ot.unmountOnExit||Ot.mountOnEnter?yi=Nl:yi=Os,zt.state={status:yi},zt.nextCallback=null,zt}At.getDerivedStateFromProps=function(Ot,Rt){var zt=Ot.in;return zt&&Rt.status===Nl?{status:Os}:null};var Pt=At.prototype;return Pt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},Pt.componentDidUpdate=function(Ot){var Rt=null;if(Ot!==this.props){var zt=this.state.status;this.props.in?zt!==Ls&&zt!==rl&&(Rt=Ls):(zt===Ls||zt===rl)&&(Rt=kh)}this.updateStatus(!1,Rt)},Pt.componentWillUnmount=function(){this.cancelNextCallback()},Pt.getTimeouts=function(){var Ot=this.props.timeout,Rt,zt,Gt;return Rt=zt=Gt=Ot,Ot!=null&&typeof Ot!="number"&&(Rt=Ot.exit,zt=Ot.enter,Gt=Ot.appear!==void 0?Ot.appear:zt),{exit:Rt,enter:zt,appear:Gt}},Pt.updateStatus=function(Ot,Rt){Ot===void 0&&(Ot=!1),Rt!==null?(this.cancelNextCallback(),Rt===Ls?this.performEnter(Ot):this.performExit()):this.props.unmountOnExit&&this.state.status===Os&&this.setState({status:Nl})},Pt.performEnter=function(Ot){var Rt=this,zt=this.props.enter,Gt=this.context?this.context.isMounting:Ot,ri=this.props.nodeRef?[Gt]:[Kn.findDOMNode(this),Gt],yi=ri[0],bi=ri[1],fi=this.getTimeouts(),Di=Gt?fi.appear:fi.enter;if(!Ot&&!zt||Wp.disabled){this.safeSetState({status:rl},function(){Rt.props.onEntered(yi)});return}this.props.onEnter(yi,bi),this.safeSetState({status:Ls},function(){Rt.props.onEntering(yi,bi),Rt.onTransitionEnd(Di,function(){Rt.safeSetState({status:rl},function(){Rt.props.onEntered(yi,bi)})})})},Pt.performExit=function(){var Ot=this,Rt=this.props.exit,zt=this.getTimeouts(),Gt=this.props.nodeRef?void 0:Kn.findDOMNode(this);if(!Rt||Wp.disabled){this.safeSetState({status:Os},function(){Ot.props.onExited(Gt)});return}this.props.onExit(Gt),this.safeSetState({status:kh},function(){Ot.props.onExiting(Gt),Ot.onTransitionEnd(zt.exit,function(){Ot.safeSetState({status:Os},function(){Ot.props.onExited(Gt)})})})},Pt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},Pt.safeSetState=function(Ot,Rt){Rt=this.setNextCallback(Rt),this.setState(Ot,Rt)},Pt.setNextCallback=function(Ot){var Rt=this,zt=!0;return this.nextCallback=function(Gt){zt&&(zt=!1,Rt.nextCallback=null,Ot(Gt))},this.nextCallback.cancel=function(){zt=!1},this.nextCallback},Pt.onTransitionEnd=function(Ot,Rt){this.setNextCallback(Rt);var zt=this.props.nodeRef?this.props.nodeRef.current:Kn.findDOMNode(this),Gt=Ot==null&&!this.props.addEndListener;if(!zt||Gt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var ri=this.props.nodeRef?[this.nextCallback]:[zt,this.nextCallback],yi=ri[0],bi=ri[1];this.props.addEndListener(yi,bi)}Ot!=null&&setTimeout(this.nextCallback,Ot)},Pt.render=function(){var Ot=this.state.status;if(Ot===Nl)return null;var Rt=this.props,zt=Rt.children;Rt.in,Rt.mountOnEnter,Rt.unmountOnExit,Rt.appear,Rt.enter,Rt.exit,Rt.timeout,Rt.addEndListener,Rt.onEnter,Rt.onEntering,Rt.onEntered,Rt.onExit,Rt.onExiting,Rt.onExited,Rt.nodeRef;var Gt=hh(Rt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Kn.createElement(Yp.Provider,{value:null},typeof zt=="function"?zt(Ot,Gt):Kn.cloneElement(Kn.Children.only(zt),Gt))},At}(Kn.Component);qa.contextType=Yp,qa.propTypes={};function ol(){}qa.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ol,onEntering:ol,onEntered:ol,onExit:ol,onExiting:ol,onExited:ol},qa.UNMOUNTED=Nl,qa.EXITED=Os,qa.ENTERING=Ls,qa.ENTERED=rl,qa.EXITING=kh;var _w=qa,ww=function(xt,At){return xt&&At&&At.split(" ").forEach(function(Pt){return vw(xt,Pt)})},Ch=function(xt,At){return xt&&At&&At.split(" ").forEach(function(Pt){return bw(xt,Pt)})},Th=function(xt){Up(At,xt);function At(){for(var Ot,Rt=arguments.length,zt=new Array(Rt),Gt=0;Gt<Rt;Gt++)zt[Gt]=arguments[Gt];return Ot=xt.call.apply(xt,[this].concat(zt))||this,Ot.appliedClasses={appear:{},enter:{},exit:{}},Ot.onEnter=function(ri,yi){var bi=Ot.resolveArguments(ri,yi),fi=bi[0],Di=bi[1];Ot.removeClasses(fi,"exit"),Ot.addClass(fi,Di?"appear":"enter","base"),Ot.props.onEnter&&Ot.props.onEnter(ri,yi)},Ot.onEntering=function(ri,yi){var bi=Ot.resolveArguments(ri,yi),fi=bi[0],Di=bi[1],Ji=Di?"appear":"enter";Ot.addClass(fi,Ji,"active"),Ot.props.onEntering&&Ot.props.onEntering(ri,yi)},Ot.onEntered=function(ri,yi){var bi=Ot.resolveArguments(ri,yi),fi=bi[0],Di=bi[1],Ji=Di?"appear":"enter";Ot.removeClasses(fi,Ji),Ot.addClass(fi,Ji,"done"),Ot.props.onEntered&&Ot.props.onEntered(ri,yi)},Ot.onExit=function(ri){var yi=Ot.resolveArguments(ri),bi=yi[0];Ot.removeClasses(bi,"appear"),Ot.removeClasses(bi,"enter"),Ot.addClass(bi,"exit","base"),Ot.props.onExit&&Ot.props.onExit(ri)},Ot.onExiting=function(ri){var yi=Ot.resolveArguments(ri),bi=yi[0];Ot.addClass(bi,"exit","active"),Ot.props.onExiting&&Ot.props.onExiting(ri)},Ot.onExited=function(ri){var yi=Ot.resolveArguments(ri),bi=yi[0];Ot.removeClasses(bi,"exit"),Ot.addClass(bi,"exit","done"),Ot.props.onExited&&Ot.props.onExited(ri)},Ot.resolveArguments=function(ri,yi){return Ot.props.nodeRef?[Ot.props.nodeRef.current,ri]:[ri,yi]},Ot.getClassNames=function(ri){var yi=Ot.props.classNames,bi=typeof yi=="string",fi=bi&&yi?yi+"-":"",Di=bi?""+fi+ri:yi[ri],Ji=bi?Di+"-active":yi[ri+"Active"],ln=bi?Di+"-done":yi[ri+"Done"];return{baseClassName:Di,activeClassName:Ji,doneClassName:ln}},Ot}var Pt=At.prototype;return Pt.addClass=function(Ot,Rt,zt){var Gt=this.getClassNames(Rt)[zt+"ClassName"],ri=this.getClassNames("enter"),yi=ri.doneClassName;Rt==="appear"&&zt==="done"&&yi&&(Gt+=" "+yi),zt==="active"&&Ot&&Ot.scrollTop,Gt&&(this.appliedClasses[Rt][zt]=Gt,ww(Ot,Gt))},Pt.removeClasses=function(Ot,Rt){var zt=this.appliedClasses[Rt],Gt=zt.base,ri=zt.active,yi=zt.done;this.appliedClasses[Rt]={},Gt&&Ch(Ot,Gt),ri&&Ch(Ot,ri),yi&&Ch(Ot,yi)},Pt.render=function(){var Ot=this.props;Ot.classNames;var Rt=hh(Ot,["classNames"]);return Kn.createElement(_w,xr({},Rt,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},At}(Kn.Component);Th.defaultProps={classNames:""},Th.propTypes={};var xw=Th;const Sw=(xt,At)=>At.filter(Pt=>(Pt.label?Pt.label:Pt).toLowerCase().startsWith(xt.toLowerCase())),Ew=(xt,At)=>At(xt);var kw=xt=>{const At=li(),[Pt,Ot]=Rn(xt.initialValue||""),[Rt,zt]=Rn([]),[Gt,ri]=Rn(null);Bn(()=>{xt.focus&&At.current.querySelector("input").focus({preventScroll:!0})},[]),Bn(()=>{xt.onChange&&xt.onChange(Pt)},[Pt]);const yi=fi=>{if(typeof xt.vocabulary=="function"){const Di=Ew(fi,xt.vocabulary);Di.then?Di.then(zt):zt(Di)}else{const Di=Sw(fi,xt.vocabulary);zt(Di)}},bi=()=>{if(Gt!==null)xt.onSubmit(Rt[Gt]);else{const fi=Pt.trim();if(fi){const Di=Array.isArray(xt.vocabulary)?xt.vocabulary.find(Ji=>(Ji.label||Ji).toLowerCase()===fi.toLowerCase()):null;Di?xt.onSubmit(Di):xt.onSubmit(fi)}}Ot(""),zt([]),ri(null)};return ei("div",{ref:At,className:"r6o-autocomplete"},ei("div",null,ei("input",{onKeyDown:fi=>{if(fi.which===13)bi();else if(fi.which===27)xt.onCancel&&xt.onCancel();else if(Rt.length>0){if(fi.which===38)if(Gt===null)ri(0);else{const Di=Math.max(0,Gt-1);ri(Di)}else if(fi.which===40)if(Gt===null)ri(0);else{const Di=Math.min(Rt.length-1,Gt+1);ri(Di)}}else fi.which===40&&Array.isArray(xt.vocabulary)&&zt(xt.vocabulary)},onChange:fi=>{const{value:Di}=fi.target;Ot(Di),ri(null),Di?yi(Di):zt([])},value:Pt,placeholder:xt.placeholder})),ei("ul",null,Rt.length>0&&Rt.map((fi,Di)=>ei("li",{key:`${fi.label?fi.label:fi}${Di}`,onClick:bi,onMouseEnter:()=>ri(Di),style:Gt===Di?{backgroundColor:"#bde4ff"}:{}},fi.label?fi.label:fi))))};const Cw=xt=>xt||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var Gp=xt=>{const At=xt.annotation?xt.annotation.bodies.filter(fi=>fi.type==="TextualBody"&&fi.purpose==="tagging"):[],Pt=Cw(At.slice().reverse().find(fi=>fi.draft)),Ot=At.filter(fi=>fi!=Pt),[Rt,zt]=Rn(!1),Gt=fi=>Di=>{zt(Rt===fi?!1:fi)},ri=fi=>{const Di=Pt.value.trim(),Ji=fi.trim();Di.length===0&&Ji.length>0?xt.onAppendBody($t(Tt({},Pt),{value:Ji})):Di.length>0&&Ji.length===0?xt.onRemoveBody(Pt):xt.onUpdateBody(Pt,$t(Tt({},Pt),{value:Ji}))},yi=fi=>Di=>{Di.stopPropagation(),xt.onRemoveBody(fi)},bi=fi=>{const Di=fi.label?$t(Tt({},Pt),{value:fi.label,source:fi.uri}):$t(Tt({},Pt),{value:fi}),Ji=Dt(Di,["draft"]);Pt.value.trim().length===0?xt.onAppendBody(Ji):xt.onUpdateBody(Pt,Ji)};return ei("div",{className:"r6o-widget r6o-tag"},Ot.length>0&&ei("ul",{className:"r6o-taglist"},Ot.map(fi=>ei("li",{key:fi.value,onClick:Gt(fi.value)},ei("span",{className:"r6o-label"},fi.value),!xt.readOnly&&ei(xw,{in:Rt===fi.value,timeout:200,classNames:"r6o-delete"},ei("span",{className:"r6o-delete-wrapper",onClick:yi(fi)},ei("span",{className:"r6o-delete"},ei(dw,{width:12}))))))),!xt.readOnly&&ei(kw,{focus:xt.focus,placeholder:aa.t("Add tag..."),vocabulary:xt.vocabulary||[],onChange:ri,onSubmit:bi}))};class qp extends ni{constructor(At){super(At),this.element=Kn.createRef()}renderWidget(At){const Pt=this.props.widget($t(Tt({annotation:At.annotation,readOnly:At.readOnly},At.config),{onAppendBody:(Ot,Rt)=>At.onAppendBody(Ot,Rt),onUpdateBody:(Ot,Rt,zt)=>At.onUpdateBody(Ot,Rt,zt),onUpsertBody:(Ot,Rt,zt)=>At.onUpsertBody(Ot,Rt,zt),onRemoveBody:(Ot,Rt)=>At.onRemoveBody(Ot,Rt),onBatchModify:(Ot,Rt)=>At.onBatchModify(Ot,Rt),onSetProperty:(Ot,Rt)=>At.onSetProperty(Ot,Rt),onSaveAndClose:()=>At.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(Pt)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(At){this.element.current&&this.props.annotation!==At.annotation&&this.renderWidget(At)}render(){return ei("div",{ref:this.element,className:"widget"})}}window.React=Kn,window.ReactDOM=Kn;const Tw={COMMENT:Vp,TAG:Gp},Aw=[ei(Vp,null),ei(Gp,null)],$w=xt=>{const At=Ot=>{var Rt;return typeof Ot=="function"&&!!((Rt=Ot.prototype)!=null&&Rt.isReactComponent)},Pt=Ot=>typeof Ot=="function"&&(String(Ot).match(/return .+\(['|"].+['|"],\s*\{/g)||String(Ot).match(/return .+preact_compat/)||String(Ot).match(/return .+\.createElement/g));return At(xt)||Pt(xt)},Pw=xt=>{const At=(Pt,Ot,Rt)=>{if(typeof Pt=="string"||Pt instanceof String)return Kn.createElement(Tw[Pt],Ot);if((Rt==null?void 0:Rt.toLowerCase())==="react")return Kn.createElement(Pt,Ot);if((Rt==null?void 0:Rt.toLowerCase())==="plainjs")return ei(qp,{widget:Pt,config:Ot});if($w(Pt))return Kn.createElement(Pt,Ot);if(typeof Pt=="function"||Pt instanceof Function)return ei(qp,{widget:Pt,config:Ot});throw`${Pt} is not a valid plugin`};if(xt.widget){const Pt=xt,{widget:Ot,force:Rt}=Pt,zt=Dt(Pt,["widget","force"]);return At(Ot,zt,Rt)}else return At(xt)},Xp=14;var Zp=(xt,At,Pt,Ot)=>{const Rt=xt.getBoundingClientRect();At.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:zt,top:Gt,right:ri,bottom:yi}=Pt.getBoundingClientRect();if(At.style.top=`${yi-Rt.top+Xp}px`,At.style.left=`${zt-Rt.left}px`,Ot){const bi=At.children[1].getBoundingClientRect();if(bi.right>window.innerWidth&&(At.classList.remove("r6o-arrow-left"),At.classList.add("r6o-arrow-right"),At.style.left=`${ri-bi.width-Rt.left}px`),bi.bottom>window.innerHeight){At.classList.remove("r6o-arrow-top"),At.classList.add("r6o-arrow-bottom");const Di=At.children[1].getBoundingClientRect().height;At.style.top=`${Gt-Rt.top-Di-Xp}px`}const fi=At.children[1].getBoundingClientRect();if(fi.top<0){At.classList.add("pushed","down"),At.style.top=`${-Rt.top}px`;const Di=yi-Rt.top;fi.height-Rt.top>Di&&At.classList.remove("r6o-arrow-bottom")}fi.left<0&&(At.classList.add("pushed","right"),At.style.left=`${-Rt.left}px`),requestAnimationFrame(()=>At.style.opacity=1)}};const Kp=xt=>{const{top:At,left:Pt,width:Ot,height:Rt}=xt.getBoundingClientRect();return`${At}, ${Pt}, ${Ot}, ${Rt}`};class Ow extends ni{constructor(At){super(At),Lt(this,"initResizeObserver",()=>{const Pt=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const Ot=new ResizeObserver(()=>{this.state.dragged||Zp(this.props.wrapperEl,this.element.current,this.props.selectedElement,Pt)});return Ot.observe(this.props.wrapperEl),()=>Ot.disconnect()}else this.state.dragged||Zp(this.props.wrapperEl,this.element.current,this.props.selectedElement,Pt)}),Lt(this,"creationMeta",Pt=>{const Ot={},{user:Rt}=this.props.env;return Rt&&(Ot.creator={},Rt.id&&(Ot.creator.id=Rt.id),Rt.displayName&&(Ot.creator.name=Rt.displayName),Ot[Pt.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),Ot}),Lt(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),Lt(this,"updateCurrentAnnotation",(Pt,Ot)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(Pt)},()=>{Ot&&this.onOk()})),Lt(this,"onAppendBody",(Pt,Ot)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,Tt(Tt({},Pt),this.creationMeta(Pt))]},Ot)),Lt(this,"onUpdateBody",(Pt,Ot,Rt)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(zt=>zt===Pt?Tt(Tt({},Ot),this.creationMeta(Ot)):zt)},Rt)),Lt(this,"onRemoveBody",(Pt,Ot)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(Rt=>Rt!==Pt)},Ot)),Lt(this,"onUpsertBody",(Pt,Ot,Rt)=>{if(Pt==null&&Ot!=null)this.onAppendBody(Ot,Rt);else if(Pt!=null&&Ot!=null)this.onUpdateBody(Pt,Ot,Rt);else if(Pt!=null&&Ot==null){const zt=this.state.currentAnnotation.bodies.find(Gt=>Gt.purpose===Pt.purpose);zt?this.onUpdateBody(zt,Pt,Rt):this.onAppendBody(Pt,Rt)}}),Lt(this,"onBatchModify",(Pt,Ot)=>{const Rt=Pt.filter(bi=>bi.action==="upsert"&&bi.body).map(bi=>({previous:this.state.currentAnnotation.bodies.find(fi=>fi.purpose===bi.body.purpose),updated:Tt(Tt({},bi.body),this.creationMeta(bi.body))})),zt=Pt.filter(bi=>bi.action==="remove").map(bi=>bi.body),Gt=[...Pt.filter(bi=>bi.action==="append"||bi.action==="upsert"&&bi.updated&&!bi.previous).map(bi=>Tt(Tt({},bi.body),this.creationMeta(bi.body))),...Rt.filter(bi=>!bi.previous).map(bi=>bi.updated)],ri=[...Pt.filter(bi=>bi.action==="update"||bi.action==="upsert"&&bi.updated&&bi.previous).map(bi=>({previous:bi.previous,updated:Tt(Tt({},bi.updated),this.creationMeta(bi.updated))})),...Rt.filter(bi=>bi.previous)],yi=[...this.state.currentAnnotation.bodies.filter(bi=>!zt.includes(bi)).map(bi=>{const fi=ri.find(Di=>Di.previous===bi);return fi?fi.updated:bi}),...Gt];this.updateCurrentAnnotation({body:yi},Ot)}),Lt(this,"onSetProperty",(Pt,Ot)=>{if(["@context","id","type","body","target"].includes(Pt))throw new Exception(`Cannot set ${Pt} - not allowed`);if(Ot)this.updateCurrentAnnotation({[Pt]:Ot});else{const Rt=this.currentAnnotation.clone();delete Rt[Pt],this.setState({currentAnnotation:Rt})}}),Lt(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),Lt(this,"onOk",()=>{const Pt=Rt=>Rt.clone({body:Rt.bodies.map(zt=>{var Gt=zt,ri=Dt(Gt,["draft"]);return ri})}),{currentAnnotation:Ot}=this.state;Ot.bodies.length===0&&!this.props.allowEmpty?Ot.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):Ot.isSelection?this.props.onAnnotationCreated(Pt(Ot).toAnnotation()):this.props.onAnnotationUpdated(Pt(Ot),this.props.annotation)}),Lt(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Kn.createRef(),this.state={currentAnnotation:At.annotation,dragged:!1,selectionBounds:Kp(At.selectedElement)}}componentWillReceiveProps(At){var Pt;const{selectionBounds:Ot}=this.state,Rt=Kp(At.selectedElement);(Pt=this.props.annotation)!=null&&Pt.isEqual(At.annotation)?this.setState({selectionBounds:Rt}):this.setState({currentAnnotation:At.annotation,selectionBounds:Rt}),this.props.modifiedTarget!=At.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),Ot!=Rt&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:At}=this.state,Pt=this.props.widgets?this.props.widgets.map(Pw):Aw,Ot=zt=>zt.type.disableDelete?zt.type.disableDelete(At,$t(Tt({},zt.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,Rt=At&&(At.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!At.isSelection&&!Pt.some(Ot);return ei(gu,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},ei("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},ei("div",{className:"r6o-arrow"}),ei("div",{className:"r6o-editor-inner"},Pt.map((zt,Gt)=>Kn.cloneElement(zt,{key:`${Gt}`,focus:Gt===0,annotation:At,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?ei("div",{className:"r6o-footer"},ei("button",{className:"r6o-btn",onClick:this.onCancel},aa.t("Close"))):ei("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},Rt&&ei("button",{className:"r6o-btn left delete-annotation",title:aa.t("Delete"),onClick:this.onDelete},ei(fw,{width:12})),ei("button",{className:"r6o-btn outline",onClick:this.onCancel},aa.t("Cancel")),ei("button",{className:"r6o-btn ",onClick:this.onOk},aa.t("Ok"))))))}}var eu,Lw=new Uint8Array(16);function Dw(){if(!eu&&(eu=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!eu))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return eu(Lw)}var Mw=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function Rw(xt){return typeof xt=="string"&&Mw.test(xt)}for(var Mo=[],Ah=0;Ah<256;++Ah)Mo.push((Ah+256).toString(16).substr(1));function Bw(xt){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Pt=(Mo[xt[At+0]]+Mo[xt[At+1]]+Mo[xt[At+2]]+Mo[xt[At+3]]+"-"+Mo[xt[At+4]]+Mo[xt[At+5]]+"-"+Mo[xt[At+6]]+Mo[xt[At+7]]+"-"+Mo[xt[At+8]]+Mo[xt[At+9]]+"-"+Mo[xt[At+10]]+Mo[xt[At+11]]+Mo[xt[At+12]]+Mo[xt[At+13]]+Mo[xt[At+14]]+Mo[xt[At+15]]).toLowerCase();if(!Rw(Pt))throw TypeError("Stringified UUID is invalid");return Pt}function Jp(xt,At,Pt){xt=xt||{};var Ot=xt.random||(xt.rng||Dw)();if(Ot[6]=Ot[6]&15|64,Ot[8]=Ot[8]&63|128,At){Pt=Pt||0;for(var Rt=0;Rt<16;++Rt)At[Pt+Rt]=Ot[Rt];return At}return Bw(Ot)}var Iw=function xt(At,Pt){if(At===Pt)return!0;if(At&&Pt&&typeof At=="object"&&typeof Pt=="object"){if(At.constructor!==Pt.constructor)return!1;var Ot,Rt,zt;if(Array.isArray(At)){if(Ot=At.length,Ot!=Pt.length)return!1;for(Rt=Ot;Rt--!=0;)if(!xt(At[Rt],Pt[Rt]))return!1;return!0}if(At.constructor===RegExp)return At.source===Pt.source&&At.flags===Pt.flags;if(At.valueOf!==Object.prototype.valueOf)return At.valueOf()===Pt.valueOf();if(At.toString!==Object.prototype.toString)return At.toString()===Pt.toString();if(zt=Object.keys(At),Ot=zt.length,Ot!==Object.keys(Pt).length)return!1;for(Rt=Ot;Rt--!=0;)if(!Object.prototype.hasOwnProperty.call(Pt,zt[Rt]))return!1;for(Rt=Ot;Rt--!=0;){var Gt=zt[Rt];if(!xt(At[Gt],Pt[Gt]))return!1}return!0}return At!==At&&Pt!==Pt},Qp=Iw;const $h=class{constructor(xt,At){Lt(this,"clone",(Pt,Ot)=>new $h(Tt(Tt({},this.underlying),Pt),Tt(Tt({},this.opts),Ot))),Lt(this,"selector",Pt=>{const{target:Ot}=this.underlying;if(Ot.selector)return(Array.isArray(Ot.selector)?Ot.selector:[Ot.selector]).find(Rt=>Rt.type===Pt)}),this.underlying=xt,this.opts=At}isEqual(xt){return(xt==null?void 0:xt.type)!=="Annotation"?!1:this.underlying===xt.underlying?!0:!this.underlying.id||!xt.underlying.id?!1:Qp(this.underlying,xt.underlying)}get readOnly(){var xt;return(xt=this.opts)==null?void 0:xt.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(xt){this.underlying.body=xt}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let Ds=$h;Lt(Ds,"create",xt=>{const At={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Jp()}`,body:[]};return new $h(Tt(Tt({},At),xt))});class Fl{constructor(At,Pt){Lt(this,"clone",Ot=>{const Rt=new Fl;return Rt.underlying=JSON.parse(JSON.stringify(this.underlying)),Ot&&(Rt.underlying=Tt(Tt({},Rt.underlying),Ot)),Rt}),Lt(this,"selector",Ot=>{const{target:Rt}=this.underlying;if(Rt.selector)return(Array.isArray(Rt.selector)?Rt.selector:[Rt.selector]).find(zt=>zt.type===Ot)}),Lt(this,"toAnnotation",()=>{const Ot=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${Jp()}`});return new Ds(Ot)}),this.underlying={type:"Selection",body:Pt||[],target:At}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(At){return At?Qp(this.underlying,At.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let Ph=0;var Nw=()=>({setServerTime:xt=>{const At=Date.now();Ph=xt-At},getCurrentTimeAdjusted:()=>new Date(Date.now()+Ph).toISOString(),toClientTime:xt=>Date.parse(xt)-Ph});const Fw=(xt,At)=>{if(xt){const Pt=xt==="auto"?window.navigator.userLanguage||window.navigator.language:xt;try{aa.init(Pt.split("-")[0].toLowerCase(),At)}catch{console.warn(`Unsupported locale '${Pt}'. Falling back to default en.`)}}else aa.init(null,At)},Ur="http://www.w3.org/2000/svg",Oh=xt=>{const At=xt.getAttribute("class");return At?new Set(At.split(" ")):new Set},ds=(xt,At)=>{const Pt=Oh(xt);Pt.add(At),xt.setAttribute("class",Array.from(Pt).join(" "))},zw=(xt,At)=>{const Pt=Oh(xt);Pt.delete(At),Pt.size===0?xt.removeAttribute("class"):xt.setAttribute("class",Array.from(Pt).join(" "))},Lh=(xt,At)=>Oh(xt).has(At),Ms=(xt,At)=>{const Pt=xt.selector("FragmentSelector");if(Pt!=null&&Pt.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:Ot}=Pt,Rt=Ot.includes(":")?Ot.substring(Ot.indexOf("=")+1,Ot.indexOf(":")):"pixel",zt=Ot.includes(":")?Ot.substring(Ot.indexOf(":")+1):Ot.substring(Ot.indexOf("=")+1);let[Gt,ri,yi,bi]=zt.split(",").map(parseFloat);return Rt.toLowerCase()==="percent"&&(Gt=Gt*At.naturalWidth/100,ri=ri*At.naturalHeight/100,yi=yi*At.naturalWidth/100,bi=bi*At.naturalHeight/100),{x:Gt,y:ri,w:yi,h:bi}}},Hw=(xt,At,Pt,Ot,Rt)=>({source:Rt==null?void 0:Rt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${xt},${At},${Pt},${Ot}`}}),Vw=(xt,At,Pt,Ot,Rt)=>{const zt=xt/Rt.naturalWidth*100,Gt=At/Rt.naturalHeight*100,ri=Pt/Rt.naturalWidth*100,yi=Ot/Rt.naturalHeight*100;return{source:Rt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${zt},${Gt},${ri},${yi}`}}},zl=(xt,At,Pt,Ot,Rt,zt)=>(zt==null?void 0:zt.toLowerCase())==="percent"?Vw(xt,At,Pt,Ot,Rt):Hw(xt,At,Pt,Ot,Rt),tu=(xt,At,Pt,Ot,Rt)=>{xt.setAttribute("x",At),xt.setAttribute("y",Pt),xt.setAttribute("width",Ot),xt.setAttribute("height",Rt)},iu=(xt,At,Pt)=>{xt.setAttribute("cx",At),xt.setAttribute("cy",Pt),xt.setAttribute("r",7)},eg=(xt,At,Pt,Ot,Rt)=>{const zt=document.createElementNS(Ur,"path");zt.setAttribute("fill-rule","evenodd");const{naturalWidth:Gt,naturalHeight:ri}=xt;return zt.setAttribute("d",`M0 0 h${Gt} v${ri} h-${Gt} z M${At} ${Pt} h${Ot} v${Rt} h-${Ot} z`),zt},Dh=(xt,At,Pt,Ot,Rt,zt)=>{const{naturalWidth:Gt,naturalHeight:ri}=At;xt.setAttribute("d",`M0 0 h${Gt} v${ri} h-${Gt} z M${Pt} ${Ot} h${Rt} v${zt} h-${Rt} z`)},Mh=(xt,At,Pt,Ot)=>{const{x:Rt,y:zt,w:Gt,h:ri}=xt.type==="Annotation"||xt.type==="Selection"?Ms(xt,At):{x:xt,y:At,w:Pt,h:Ot},yi=document.createElementNS(Ur,"g");if(Gt===0&&ri===0){ds(yi,"a9s-point"),ds(yi,"a9s-non-scaling"),yi.setAttribute("transform-origin",`${Rt} ${zt}`);const bi=document.createElementNS(Ur,"circle"),fi=document.createElementNS(Ur,"circle");fi.setAttribute("class","a9s-inner"),iu(fi,Rt,zt),bi.setAttribute("class","a9s-outer"),iu(bi,Rt,zt),yi.appendChild(bi),yi.appendChild(fi)}else{const bi=document.createElementNS(Ur,"rect"),fi=document.createElementNS(Ur,"rect");fi.setAttribute("class","a9s-inner"),tu(fi,Rt,zt,Gt,ri),bi.setAttribute("class","a9s-outer"),tu(bi,Rt,zt,Gt,ri),yi.appendChild(bi),yi.appendChild(fi)}return yi},tg=xt=>{const At=xt.querySelector(".a9s-outer");if(At.nodeName==="rect"){const Pt=parseFloat(At.getAttribute("x")),Ot=parseFloat(At.getAttribute("y")),Rt=parseFloat(At.getAttribute("width")),zt=parseFloat(At.getAttribute("height"));return{x:Pt,y:Ot,w:Rt,h:zt}}else{const Pt=parseFloat(At.getAttribute("cx")),Ot=parseFloat(At.getAttribute("cy"));return{x:Pt,y:Ot,w:0,h:0}}},Rh=(xt,At,Pt,Ot,Rt)=>{const zt=xt.querySelector(".a9s-inner"),Gt=xt.querySelector(".a9s-outer");Gt.nodeName==="rect"?(tu(zt,At,Pt,Ot,Rt),tu(Gt,At,Pt,Ot,Rt)):(iu(zt,At,Pt),iu(Gt,At,Pt))},Uw=(xt,At)=>{const{w:Pt,h:Ot}=Ms(xt,At);return Pt*Ot};class jw{constructor(At,Pt,Ot,Rt,zt){Lt(this,"dragTo",(Gt,ri)=>{this.group.style.display=null,this.opposite=[Gt,ri];const{x:yi,y:bi,w:fi,h:Di}=this.bbox;Dh(this.mask,this.env.image,yi,bi,fi,Di),Rh(this.rect,yi,bi,fi,Di)}),Lt(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),Lt(this,"toSelection",()=>{const{x:Gt,y:ri,w:yi,h:bi}=this.bbox;return new Fl(zl(Gt,ri,yi,bi,this.env.image,this.config.fragmentUnit))}),Lt(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[At,Pt],this.opposite=[At,Pt],this.config=Rt,this.env=zt,this.group=document.createElementNS(Ur,"g"),this.mask=eg(zt.image,At,Pt,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Mh(At,Pt,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),Ot.appendChild(this.group)}get bbox(){const At=this.opposite[0]-this.anchor[0],Pt=this.opposite[1]-this.anchor[1];return{x:At>0?this.anchor[0]:this.opposite[0],y:Pt>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(At)),h:Math.max(1,Math.abs(Pt))}}get element(){return this.rect}}const Ww={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Bh=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,Yw=xt=>{let At=null;const Pt=(Rt,zt)=>new MouseEvent(Rt,{screenX:zt.screenX,screenY:zt.screenY,clientX:zt.clientX,clientY:zt.clientY,pageX:zt.pageX,pageY:zt.pageY,bubbles:!0}),Ot=Rt=>{const zt=Rt.changedTouches[0],Gt=Pt(Ww[Rt.type],zt);zt.target.dispatchEvent(Gt),Rt.preventDefault(),(Rt.type==="touchstart"||Rt.type==="touchmove")&&(At&&clearTimeout(At),At=setTimeout(()=>{const ri=Pt("dblclick",zt);zt.target.dispatchEvent(ri)},800)),Rt.type==="touchend"&&At&&clearTimeout(At)};xt.addEventListener("touchstart",Ot,!0),xt.addEventListener("touchmove",Ot,!0),xt.addEventListener("touchend",Ot,!0),xt.addEventListener("touchcancel",Ot,!0)},nu="An implementation is missing",Gw=Bh();class ig extends Or{constructor(At,Pt,Ot){super(),Lt(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const zt=this.svg.getBoundingClientRect(),{width:Gt,height:ri}=this.svg.viewBox.baseVal;this.scale=Math.max(Gt/zt.width,ri/zt.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),Lt(this,"getSVGPoint",zt=>{const Gt=this.svg.createSVGPoint();if(Gw){const ri=this.svg.getBoundingClientRect(),yi=zt.clientX-ri.x,bi=zt.clientY-ri.y,{left:fi,top:Di}=this.svg.getBoundingClientRect();return Gt.x=yi+fi,Gt.y=bi+Di,Gt.matrixTransform(this.g.getScreenCTM().inverse())}else return Gt.x=zt.offsetX,Gt.y=zt.offsetY,Gt.matrixTransform(this.g.getCTM().inverse())}),Lt(this,"drawHandle",(zt,Gt)=>{const ri=document.createElementNS(Ur,"g");ri.setAttribute("class","a9s-handle");const yi=document.createElementNS(Ur,"g"),bi=ln=>{const pn=document.createElementNS(Ur,"circle");return pn.setAttribute("cx",zt),pn.setAttribute("cy",Gt),pn.setAttribute("r",ln),pn},fi=this.config.handleRadius||6,Di=bi(fi);Di.setAttribute("class","a9s-handle-inner");const Ji=bi(fi+1);return Ji.setAttribute("class","a9s-handle-outer"),yi.appendChild(Ji),yi.appendChild(Di),ri.appendChild(yi),ri}),Lt(this,"setHandleXY",(zt,Gt,ri)=>{const yi=zt.querySelector(".a9s-handle-inner");yi.setAttribute("cx",Gt),yi.setAttribute("cy",ri);const bi=zt.querySelector(".a9s-handle-outer");bi.setAttribute("cx",Gt),bi.setAttribute("cy",ri)}),Lt(this,"getHandleXY",zt=>{const Gt=zt.querySelector(".a9s-handle-outer");return{x:parseFloat(Gt.getAttribute("cx")),y:parseFloat(Gt.getAttribute("cy"))}}),Lt(this,"scaleHandle",zt=>{const Gt=zt.querySelector(".a9s-handle-inner"),ri=zt.querySelector(".a9s-handle-outer"),yi=this.scale*(this.config.handleRadius||6);Gt.setAttribute("r",yi),ri.setAttribute("r",yi)}),this.svg=At.closest("svg"),this.g=At,this.config=Pt,this.env=Ot,this.scale=1;const{image:Rt}=Ot;(Rt instanceof Element||Rt instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Ih extends ig{constructor(At,Pt,Ot){super(At,Pt,Ot),Lt(this,"attachListeners",({mouseMove:Rt,mouseUp:zt,dblClick:Gt})=>{Rt&&(this.mouseMove=ri=>{const{x:yi,y:bi}=this.getSVGPoint(ri);this.started||(this.emit("startSelection",{x:yi,y:bi}),this.started=!0),Rt(yi,bi,ri)},this.svg.addEventListener("mousemove",this.mouseMove)),zt&&(this.mouseUp=ri=>{if(ri.button!==0)return;const{x:yi,y:bi}=this.getSVGPoint(ri);zt(yi,bi,ri)},document.addEventListener("mouseup",this.mouseUp)),Gt&&(this.dblClick=ri=>{const{x:yi,y:bi}=this.getSVGPoint(ri);Gt(yi,bi,ri)},document.addEventListener("dblclick",this.dblClick))}),Lt(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),Lt(this,"start",(Rt,zt)=>{const{x:Gt,y:ri}=this.getSVGPoint(Rt);this.startDrawing(Gt,ri,zt,Rt)}),Lt(this,"startDrawing",Rt=>{throw new Error(nu)}),Lt(this,"createEditableShape",Rt=>{throw new Error(nu)}),this.started=!1}get isDrawing(){throw new Error(nu)}}Ih.supports=xt=>{throw new Error(nu)};const ng="An implementation is missing";class rg extends ig{constructor(At,Pt,Ot,Rt){super(Pt,Ot,Rt),Lt(this,"updateState",zt=>{throw new Error(ng)}),this.annotation=At}get element(){throw new Error(ng)}}const qw=/firefox/i.test(navigator.userAgent),og=(xt,At,Pt,Ot,Rt)=>{xt.setAttribute("width",Ot),xt.setAttribute("height",Rt),qw?(xt.setAttribute("x",0),xt.setAttribute("y",0),xt.setAttribute("transform",`translate(${At}, ${Pt})`)):(xt.setAttribute("x",At),xt.setAttribute("y",Pt))},ag=(xt,At)=>{const{x:Pt,y:Ot,width:Rt,height:zt}=At.getBBox(),Gt=document.createElementNS(Ur,"svg");Gt.setAttribute("class","a9s-formatter-el"),og(Gt,Pt,Ot,Rt,zt);const ri=document.createElementNS(Ur,"g");ri.appendChild(xt),Gt.appendChild(ri),At.append(Gt)},ru=(xt,At,Pt)=>{if(!Pt)return xt;const Ot=Pt(At);if(!Ot)return xt;if(typeof Ot=="string"||Ot instanceof String)ds(xt,Ot);else if(Ot.nodeType===Node.ELEMENT_NODE)ag(Ot,xt);else{const{className:Rt,style:zt,element:Gt}=Ot;if(Rt&&ds(xt,Rt),zt){const ri=xt.querySelector(".a9s-outer"),yi=xt.querySelector(".a9s-inner");ri&&yi?(ri.setAttribute("style","display:none"),yi.setAttribute("style",zt)):xt.setAttribute("style",zt)}Gt&&ag(Gt,xt);for(const ri in Ot)Ot.hasOwnProperty(ri)&&ri.startsWith("data-")&&xt.setAttribute(ri,Ot[ri])}},Nh=(xt,At,Pt,Ot,Rt)=>{const zt=xt.querySelector(".a9s-formatter-el");zt&&og(zt,At,Pt,Ot,Rt)};class Xw extends rg{constructor(At,Pt,Ot,Rt){super(At,Pt,Ot,Rt),Lt(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),Lt(this,"setSize",(bi,fi,Di,Ji)=>{Rh(this.rectangle,bi,fi,Di,Ji),Dh(this.mask,this.env.image,bi,fi,Di,Ji),Nh(this.elementGroup,bi,fi,Di,Ji);const[ln,pn,kn,Sn]=this.handles;this.setHandleXY(ln,bi,fi),this.setHandleXY(pn,bi+Di,fi),this.setHandleXY(kn,bi+Di,fi+Ji),this.setHandleXY(Sn,bi,fi+Ji)}),Lt(this,"stretchCorners",(bi,fi,Di)=>{const Ji=this.getHandleXY(fi),ln=Di.x-Ji.x,pn=Di.y-Ji.y,kn=ln>0?Ji.x:Di.x,Sn=pn>0?Ji.y:Di.y,Nn=Math.abs(ln),qn=Math.abs(pn);Rh(this.rectangle,kn,Sn,Nn,qn),Dh(this.mask,this.env.image,kn,Sn,Nn,qn),Nh(this.elementGroup,kn,Sn,Nn,qn),this.setHandleXY(this.handles[bi],Di.x,Di.y);const Er=this.handles[(bi+3)%4];this.setHandleXY(Er,Ji.x,Di.y);const mr=this.handles[(bi+5)%4];return this.setHandleXY(mr,Di.x,Ji.y),{x:kn,y:Sn,w:Nn,h:qn}}),Lt(this,"onGrab",bi=>fi=>{if(fi.button!==0)return;this.grabbedElem=bi;const Di=this.getSVGPoint(fi),{x:Ji,y:ln}=tg(this.rectangle);this.mouseOffset={x:Di.x-Ji,y:Di.y-ln}}),Lt(this,"onMouseMove",bi=>{if(bi.button!==0)return;const fi=(Di,Ji)=>Di<0?0:Di>Ji?Ji:Di;if(this.grabbedElem){const Di=this.getSVGPoint(bi);if(this.grabbedElem===this.rectangle){const{w:Ji,h:ln}=tg(this.rectangle),{naturalWidth:pn,naturalHeight:kn}=this.env.image,Sn=fi(Di.x-this.mouseOffset.x,pn-Ji),Nn=fi(Di.y-this.mouseOffset.y,kn-ln);this.setSize(Sn,Nn,Ji,ln),this.emit("update",zl(Sn,Nn,Ji,ln,this.env.image,this.config.fragmentUnit))}else{const Ji=this.handles.indexOf(this.grabbedElem),ln=Ji<2?this.handles[Ji+2]:this.handles[Ji-2],{x:pn,y:kn,w:Sn,h:Nn}=this.stretchCorners(Ji,ln,Di);this.emit("update",zl(pn,kn,Sn,Nn,this.env.image,this.config.fragmentUnit))}}}),Lt(this,"onMouseUp",bi=>{this.grabbedElem=null,this.mouseOffset=null}),Lt(this,"updateState",bi=>{const{x:fi,y:Di,w:Ji,h:ln}=Ms(bi,this.env.image);this.setSize(fi,Di,Ji,ln)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:zt,y:Gt,w:ri,h:yi}=Ms(At,Rt.image);this.containerGroup=document.createElementNS(Ur,"g"),this.mask=eg(Rt.image,zt,Gt,ri,yi),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(Ur,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=Mh(zt,Gt,ri,yi),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[zt,Gt],[zt+ri,Gt],[zt+ri,Gt+yi],[zt,Gt+yi]].map(bi=>{const[fi,Di]=bi,Ji=this.drawHandle(fi,Di);return Ji.addEventListener("mousedown",this.onGrab(Ji)),this.elementGroup.appendChild(Ji),Ji}),this.containerGroup.appendChild(this.elementGroup),Pt.appendChild(this.containerGroup),ru(this.rectangle,At,Ot.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class ou extends Ih{constructor(At,Pt,Ot){super(At,Pt,Ot),Lt(this,"startDrawing",(Rt,zt)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new jw(Rt,zt,this.g,this.config,this.env)}),Lt(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),Lt(this,"onMouseMove",(Rt,zt)=>this.rubberband.dragTo(Rt,zt)),Lt(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:Rt,height:zt}=this.rubberband.getBoundingClientRect(),Gt=this.config.minSelectionWidth||4,ri=this.config.minSelectionHeight||4;if(Rt>=Gt&&zt>=ri){const{element:yi}=this.rubberband;yi.annotation=this.rubberband.toSelection(),this.emit("complete",yi)}else this.emit("cancel");this.stop()}),Lt(this,"createEditableShape",Rt=>new Xw(Rt,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}ou.identifier="rect",ou.supports=xt=>{const At=xt.selector("FragmentSelector");return At==null?void 0:At.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const Zw=xt=>{const At=new XMLSerializer().serializeToString(xt.documentElement).replace("<svg>",`<svg xmlns="${Ur}">`);return new DOMParser().parseFromString(At,"image/svg+xml").documentElement},sg=xt=>{const At=Ot=>{Array.from(Ot.attributes).forEach(Rt=>{Rt.name.startsWith("on")&&Ot.removeAttribute(Rt.name)})},Pt=xt.getElementsByTagName("script");return Array.from(Pt).reverse().forEach(Ot=>Ot.parentNode.removeChild(Ot)),At(xt),Array.from(xt.querySelectorAll("*")).forEach(At),xt},al=xt=>{const At=xt.selector("SvgSelector");if(At){const Pt=new DOMParser,{value:Ot}=At,Rt=Pt.parseFromString(Ot,"image/svg+xml"),zt=Rt.lookupPrefix(Ur),Gt=Rt.lookupNamespaceURI(null);return zt||Gt?sg(Rt).firstChild:sg(Zw(Rt)).firstChild}},lg=xt=>{const At=al(xt),Pt=document.createElementNS(Ur,"g"),Ot=At.cloneNode(!0);Ot.setAttribute("class","a9s-inner");const Rt=At.cloneNode(!0);return Rt.setAttribute("class","a9s-outer"),Pt.appendChild(Rt),Pt.appendChild(Ot),Pt},Fh=(xt,At)=>{const Pt=xt.querySelector(".a9s-inner").cloneNode(!0);Pt.removeAttribute("class"),Pt.removeAttribute("xmlns");let Ot=Pt.outerHTML||new XMLSerializer().serializeToString(Pt);return Ot=Ot.replace(` xmlns="${Ur}"`,""),{source:At==null?void 0:At.src,selector:{type:"SvgSelector",value:`<svg>${Ot}</svg>`}}},Kw=xt=>{const At=al(xt),Pt=At.nodeName.toLowerCase();if(Pt==="polygon")return Jw(At);if(Pt==="circle")return Qw(At);if(Pt==="ellipse")return ex(At);if(Pt=="path")return tx(At);throw`Unsupported SVG shape type: ${Pt}`},Jw=xt=>{const At=xt.getAttribute("points").split(" ").map(Rt=>Rt.split(",").map(zt=>parseFloat(zt.trim())));let Pt=0,Ot=At.length-1;for(let Rt=0;Rt<At.length;Rt++)Pt+=(At[Ot][0]+At[Rt][0])*(At[Ot][1]-At[Rt][1]),Ot=Rt;return Math.abs(.5*Pt)},Qw=xt=>{const At=xt.getAttribute("r");return At*At*Math.PI},ex=xt=>{const At=xt.getAttribute("rx"),Pt=xt.getAttribute("ry");return At*Pt*Math.PI},tx=xt=>{const At=xt.getAttribute("d").split("L");let Pt=0;if(At.length>1){var Ot=At[At.length-1].trim().split(" ");let Rt=parseFloat(Ot[0]),zt=parseFloat(Ot[1]);Ot=At[0].substring(1).trim().split(" ");let Gt=parseFloat(Ot[0]),ri=parseFloat(Ot[1]);Pt+=(Rt+Gt)*(zt-ri),Rt=Gt,zt=ri;for(let yi=1;yi<At.length;yi++)Ot=At[yi].trim().split(" "),Gt=parseFloat(Ot[0]),ri=parseFloat(Ot[1]),Pt+=(Rt+Gt)*(zt-ri),Rt=Gt,zt=ri}return Math.abs(.5*Pt)};class cg{constructor(At,Pt){Lt(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),Lt(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=At.naturalWidth,this.h=At.naturalHeight,this.polygon=Pt,this.mask=document.createElementNS(Ur,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class ix{constructor(At,Pt,Ot){Lt(this,"setPoints",Rt=>{const zt=Rt.map(Gt=>`${Gt[0]},${Gt[1]}`).join(" ");this.outer.setAttribute("points",zt),this.inner.setAttribute("points",zt)}),Lt(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),Lt(this,"dragTo",Rt=>{this.group.style.display=null,this.mousepos=Rt;const zt=[...this.points,Rt];this.setPoints(zt),this.mask.redraw()}),Lt(this,"addPoint",()=>{const[Rt,zt]=this.mousepos,Gt=this.points[this.points.length-1];Math.pow(Rt-Gt[0],2)+Math.pow(zt-Gt[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),Lt(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),Lt(this,"toSelection",()=>new Fl(Fh(this.group,this.env.image))),this.points=[At],this.env=Ot,this.mousepos=At,this.group=document.createElementNS(Ur,"g"),this.polygon=document.createElementNS(Ur,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(Ur,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(Ur,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new cg(Ot.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),Pt.appendChild(this.group)}get element(){return this.polygon}}const zh=xt=>{const At=xt.querySelector(".a9s-inner").points,Pt=[];for(let Ot=0;Ot<At.numberOfItems;Ot++)Pt.push(At.getItem(Ot));return Pt},nx=xt=>xt.querySelector(".a9s-inner").getBBox();class rx extends rg{constructor(At,Pt,Ot,Rt){super(At,Pt,Ot,Rt),Lt(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),Lt(this,"setPoints",zt=>{const Gt=ln=>Math.round(10*ln)/10,ri=zt.map(ln=>`${Gt(ln.x)},${Gt(ln.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",ri);const yi=this.shape.querySelector(".a9s-outer");yi.setAttribute("points",ri),this.mask.redraw();const{x:bi,y:fi,width:Di,height:Ji}=yi.getBBox();Nh(this.elementGroup,bi,fi,Di,Ji)}),Lt(this,"onGrab",zt=>Gt=>{Gt.button===0&&(this.grabbedElem=zt,this.grabbedAt=this.getSVGPoint(Gt))}),Lt(this,"onMouseMove",zt=>{const Gt=(ri,yi,bi)=>ri+yi<0?-ri:ri+yi>bi?bi-ri:yi;if(this.grabbedElem){const ri=this.getSVGPoint(zt);if(this.grabbedElem===this.shape){const{x:yi,y:bi,width:fi,height:Di}=nx(this.shape),{naturalWidth:Ji,naturalHeight:ln}=this.env.image,pn=Gt(yi,ri.x-this.grabbedAt.x,Ji-fi),kn=Gt(bi,ri.y-this.grabbedAt.y,ln-Di),Sn=zh(this.shape).map(Nn=>({x:Nn.x+pn,y:Nn.y+kn}));this.grabbedAt=ri,this.setPoints(Sn),Sn.forEach((Nn,qn)=>this.setHandleXY(this.handles[qn],Nn.x,Nn.y)),this.emit("update",Fh(this.shape,this.env.image))}else{const yi=this.handles.indexOf(this.grabbedElem),bi=zh(this.shape).map((fi,Di)=>Di===yi?ri:fi);this.setPoints(bi),this.setHandleXY(this.handles[yi],ri.x,ri.y),this.emit("update",Fh(this.shape,this.env.image))}}}),Lt(this,"onMouseUp",zt=>{this.grabbedElem=null,this.grabbedAt=null}),Lt(this,"updateState",zt=>{const Gt=al(zt).getAttribute("points").split(" ").map(ri=>{const[yi,bi]=ri.split(",").map(fi=>parseFloat(fi.trim()));return{x:yi,y:bi}});this.setPoints(Gt),Gt.forEach((ri,yi)=>this.setHandleXY(this.handles[yi],ri.x,ri.y))}),Lt(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(Ur,"g"),this.shape=lg(At),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new cg(Rt.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(Ur,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=zh(this.shape).map(zt=>{const Gt=this.drawHandle(zt.x,zt.y);return Gt.addEventListener("mousedown",this.onGrab(Gt)),this.elementGroup.appendChild(Gt),Gt}),this.containerGroup.appendChild(this.elementGroup),Pt.appendChild(this.containerGroup),ru(this.shape,At,Ot.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class Hh extends Ih{constructor(At,Pt,Ot){super(At,Pt,Ot),Lt(this,"startDrawing",(Rt,zt,Gt)=>{this._isDrawing=!0,this._startOnSingleClick=Gt,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new ix([Rt,zt],this.g,this.env)}),Lt(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),Lt(this,"onMouseMove",(Rt,zt)=>this.rubberband.dragTo([Rt,zt])),Lt(this,"onMouseUp",()=>{const{width:Rt,height:zt}=this.rubberband.getBoundingClientRect(),Gt=this.config.minSelectionWidth||4,ri=this.config.minSelectionHeight||4;Rt>=Gt||zt>=ri?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),Lt(this,"onDblClick",()=>{this._isDrawing=!1;const Rt=this.rubberband.element;Rt.annotation=this.rubberband.toSelection(),this.emit("complete",Rt),this.stop()}),Lt(this,"createEditableShape",Rt=>new rx(Rt,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}Hh.identifier="polygon",Hh.supports=xt=>{var At;const Pt=xt.selector("SvgSelector");if(Pt)return(At=Pt.value)==null?void 0:At.match(/^<svg.*<polygon/g)};class ox extends Or{constructor(At,Pt,Ot){super(),Lt(this,"listTools",()=>this._registered.map(Rt=>Rt.identifier)),Lt(this,"registerTool",Rt=>{const zt=Rt.identifier;this.listTools().includes(zt)&&this.unregisterTool(zt),this._registered.push(Rt)}),Lt(this,"unregisterTool",Rt=>this._registered=this._registered.filter(zt=>zt.identifier!==Rt)),Lt(this,"setCurrent",Rt=>{const zt=typeof Rt=="string"||Rt instanceof String?this._registered.find(Gt=>Gt.identifier===Rt):Rt;this._current=new zt(this._g,this._config,this._env),this._current.on("startSelection",Gt=>this.emit("startSelection",Gt)),this._current.on("complete",Gt=>this.emit("complete",Gt)),this._current.on("cancel",Gt=>this.emit("cancel",Gt))}),Lt(this,"forAnnotation",Rt=>{var zt;const[Gt,...ri]=Rt.targets,yi=(zt=Gt.renderedVia)==null?void 0:zt.name,bi=yi?this._registered.find(fi=>fi.identifier===yi):this._registered.find(fi=>fi.supports(Rt));return bi?new bi(this._g,this._config,this._env):null}),this._g=At,this._config=Pt,this._env=Ot,this._registered=[ou,Hh],this.setCurrent(ou)}get current(){return this._current}}class ax{constructor(At,Pt,Ot){this.svg=At.closest("svg"),this.g=document.createElementNS(Ur,"g"),this.g.setAttribute("class","a9s-crosshair");const Rt=document.createElementNS(Ur,"line"),zt=document.createElementNS(Ur,"line");this.g.appendChild(Rt),this.g.appendChild(zt),At.appendChild(this.g);const Gt=ri=>{const yi=this.svg.getBoundingClientRect(),bi=ri.clientX-yi.x,fi=ri.clientY-yi.y,Di=this.svg.createSVGPoint(),{left:Ji,top:ln}=this.svg.getBoundingClientRect();return Di.x=bi+Ji,Di.y=fi+ln,Di.matrixTransform(At.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",ri=>{const{x:yi,y:bi}=Gt(ri);Rt.setAttribute("x1",0),Rt.setAttribute("y1",bi),Rt.setAttribute("x2",Pt),Rt.setAttribute("y2",bi),zt.setAttribute("x1",yi),zt.setAttribute("y1",0),zt.setAttribute("x2",yi),zt.setAttribute("y2",Ot)})}}const sx={FragmentSelector:Mh,SvgSelector:lg},lx={FragmentSelector:Uw,SvgSelector:Kw},ug=xt=>{const At=xt.targets[0];if(At)return Array.isArray(At.selector)?At.selector[0]:At.selector},Vh=(xt,At)=>sx[ug(xt).type](xt,At),hg=(xt,At)=>lx[ug(xt).type](xt,At);function cx(xt,At,Pt,Ot,Rt){dg(xt,At,Pt||0,Ot||xt.length-1,Rt||ux)}function dg(xt,At,Pt,Ot,Rt){for(;Ot>Pt;){if(Ot-Pt>600){var zt=Ot-Pt+1,Gt=At-Pt+1,ri=Math.log(zt),yi=.5*Math.exp(2*ri/3),bi=.5*Math.sqrt(ri*yi*(zt-yi)/zt)*(Gt-zt/2<0?-1:1),fi=Math.max(Pt,Math.floor(At-Gt*yi/zt+bi)),Di=Math.min(Ot,Math.floor(At+(zt-Gt)*yi/zt+bi));dg(xt,At,fi,Di,Rt)}var Ji=xt[At],ln=Pt,pn=Ot;for(Hl(xt,Pt,At),Rt(xt[Ot],Ji)>0&&Hl(xt,Pt,Ot);ln<pn;){for(Hl(xt,ln,pn),ln++,pn--;Rt(xt[ln],Ji)<0;)ln++;for(;Rt(xt[pn],Ji)>0;)pn--}Rt(xt[Pt],Ji)===0?Hl(xt,Pt,pn):(pn++,Hl(xt,pn,Ot)),pn<=At&&(Pt=pn+1),At<=pn&&(Ot=pn-1)}}function Hl(xt,At,Pt){var Ot=xt[At];xt[At]=xt[Pt],xt[Pt]=Ot}function ux(xt,At){return xt<At?-1:xt>At?1:0}class hx{constructor(At=9){this._maxEntries=Math.max(4,At),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(At){let Pt=this.data;const Ot=[];if(!su(At,Pt))return Ot;const Rt=this.toBBox,zt=[];for(;Pt;){for(let Gt=0;Gt<Pt.children.length;Gt++){const ri=Pt.children[Gt],yi=Pt.leaf?Rt(ri):ri;su(At,yi)&&(Pt.leaf?Ot.push(ri):jh(At,yi)?this._all(ri,Ot):zt.push(ri))}Pt=zt.pop()}return Ot}collides(At){let Pt=this.data;if(!su(At,Pt))return!1;const Ot=[];for(;Pt;){for(let Rt=0;Rt<Pt.children.length;Rt++){const zt=Pt.children[Rt],Gt=Pt.leaf?this.toBBox(zt):zt;if(su(At,Gt)){if(Pt.leaf||jh(At,Gt))return!0;Ot.push(zt)}}Pt=Ot.pop()}return!1}load(At){if(!(At&&At.length))return this;if(At.length<this._minEntries){for(let Ot=0;Ot<At.length;Ot++)this.insert(At[Ot]);return this}let Pt=this._build(At.slice(),0,At.length-1,0);if(!this.data.children.length)this.data=Pt;else if(this.data.height===Pt.height)this._splitRoot(this.data,Pt);else{if(this.data.height<Pt.height){const Ot=this.data;this.data=Pt,Pt=Ot}this._insert(Pt,this.data.height-Pt.height-1,!0)}return this}insert(At){return At&&this._insert(At,this.data.height-1),this}clear(){return this.data=ll([]),this}remove(At,Pt){if(!At)return this;let Ot=this.data;const Rt=this.toBBox(At),zt=[],Gt=[];let ri,yi,bi;for(;Ot||zt.length;){if(Ot||(Ot=zt.pop(),yi=zt[zt.length-1],ri=Gt.pop(),bi=!0),Ot.leaf){const fi=dx(At,Ot.children,Pt);if(fi!==-1)return Ot.children.splice(fi,1),zt.push(Ot),this._condense(zt),this}!bi&&!Ot.leaf&&jh(Ot,Rt)?(zt.push(Ot),Gt.push(ri),ri=0,yi=Ot,Ot=Ot.children[0]):yi?(ri++,Ot=yi.children[ri],bi=!1):Ot=null}return this}toBBox(At){return At}compareMinX(At,Pt){return At.minX-Pt.minX}compareMinY(At,Pt){return At.minY-Pt.minY}toJSON(){return this.data}fromJSON(At){return this.data=At,this}_all(At,Pt){const Ot=[];for(;At;)At.leaf?Pt.push(...At.children):Ot.push(...At.children),At=Ot.pop();return Pt}_build(At,Pt,Ot,Rt){const zt=Ot-Pt+1;let Gt=this._maxEntries,ri;if(zt<=Gt)return ri=ll(At.slice(Pt,Ot+1)),sl(ri,this.toBBox),ri;Rt||(Rt=Math.ceil(Math.log(zt)/Math.log(Gt)),Gt=Math.ceil(zt/Math.pow(Gt,Rt-1))),ri=ll([]),ri.leaf=!1,ri.height=Rt;const yi=Math.ceil(zt/Gt),bi=yi*Math.ceil(Math.sqrt(Gt));fg(At,Pt,Ot,bi,this.compareMinX);for(let fi=Pt;fi<=Ot;fi+=bi){const Di=Math.min(fi+bi-1,Ot);fg(At,fi,Di,yi,this.compareMinY);for(let Ji=fi;Ji<=Di;Ji+=yi){const ln=Math.min(Ji+yi-1,Di);ri.children.push(this._build(At,Ji,ln,Rt-1))}}return sl(ri,this.toBBox),ri}_chooseSubtree(At,Pt,Ot,Rt){for(;Rt.push(Pt),!(Pt.leaf||Rt.length-1===Ot);){let zt=1/0,Gt=1/0,ri;for(let yi=0;yi<Pt.children.length;yi++){const bi=Pt.children[yi],fi=Uh(bi),Di=gx(At,bi)-fi;Di<Gt?(Gt=Di,zt=fi<zt?fi:zt,ri=bi):Di===Gt&&fi<zt&&(zt=fi,ri=bi)}Pt=ri||Pt.children[0]}return Pt}_insert(At,Pt,Ot){const Rt=Ot?At:this.toBBox(At),zt=[],Gt=this._chooseSubtree(Rt,this.data,Pt,zt);for(Gt.children.push(At),Ul(Gt,Rt);Pt>=0&&zt[Pt].children.length>this._maxEntries;)this._split(zt,Pt),Pt--;this._adjustParentBBoxes(Rt,zt,Pt)}_split(At,Pt){const Ot=At[Pt],Rt=Ot.children.length,zt=this._minEntries;this._chooseSplitAxis(Ot,zt,Rt);const Gt=this._chooseSplitIndex(Ot,zt,Rt),ri=ll(Ot.children.splice(Gt,Ot.children.length-Gt));ri.height=Ot.height,ri.leaf=Ot.leaf,sl(Ot,this.toBBox),sl(ri,this.toBBox),Pt?At[Pt-1].children.push(ri):this._splitRoot(Ot,ri)}_splitRoot(At,Pt){this.data=ll([At,Pt]),this.data.height=At.height+1,this.data.leaf=!1,sl(this.data,this.toBBox)}_chooseSplitIndex(At,Pt,Ot){let Rt,zt=1/0,Gt=1/0;for(let ri=Pt;ri<=Ot-Pt;ri++){const yi=Vl(At,0,ri,this.toBBox),bi=Vl(At,ri,Ot,this.toBBox),fi=mx(yi,bi),Di=Uh(yi)+Uh(bi);fi<zt?(zt=fi,Rt=ri,Gt=Di<Gt?Di:Gt):fi===zt&&Di<Gt&&(Gt=Di,Rt=ri)}return Rt||Ot-Pt}_chooseSplitAxis(At,Pt,Ot){const Rt=At.leaf?this.compareMinX:fx,zt=At.leaf?this.compareMinY:px,Gt=this._allDistMargin(At,Pt,Ot,Rt),ri=this._allDistMargin(At,Pt,Ot,zt);Gt<ri&&At.children.sort(Rt)}_allDistMargin(At,Pt,Ot,Rt){At.children.sort(Rt);const zt=this.toBBox,Gt=Vl(At,0,Pt,zt),ri=Vl(At,Ot-Pt,Ot,zt);let yi=au(Gt)+au(ri);for(let bi=Pt;bi<Ot-Pt;bi++){const fi=At.children[bi];Ul(Gt,At.leaf?zt(fi):fi),yi+=au(Gt)}for(let bi=Ot-Pt-1;bi>=Pt;bi--){const fi=At.children[bi];Ul(ri,At.leaf?zt(fi):fi),yi+=au(ri)}return yi}_adjustParentBBoxes(At,Pt,Ot){for(let Rt=Ot;Rt>=0;Rt--)Ul(Pt[Rt],At)}_condense(At){for(let Pt=At.length-1,Ot;Pt>=0;Pt--)At[Pt].children.length===0?Pt>0?(Ot=At[Pt-1].children,Ot.splice(Ot.indexOf(At[Pt]),1)):this.clear():sl(At[Pt],this.toBBox)}}function dx(xt,At,Pt){if(!Pt)return At.indexOf(xt);for(let Ot=0;Ot<At.length;Ot++)if(Pt(xt,At[Ot]))return Ot;return-1}function sl(xt,At){Vl(xt,0,xt.children.length,At,xt)}function Vl(xt,At,Pt,Ot,Rt){Rt||(Rt=ll(null)),Rt.minX=1/0,Rt.minY=1/0,Rt.maxX=-1/0,Rt.maxY=-1/0;for(let zt=At;zt<Pt;zt++){const Gt=xt.children[zt];Ul(Rt,xt.leaf?Ot(Gt):Gt)}return Rt}function Ul(xt,At){return xt.minX=Math.min(xt.minX,At.minX),xt.minY=Math.min(xt.minY,At.minY),xt.maxX=Math.max(xt.maxX,At.maxX),xt.maxY=Math.max(xt.maxY,At.maxY),xt}function fx(xt,At){return xt.minX-At.minX}function px(xt,At){return xt.minY-At.minY}function Uh(xt){return(xt.maxX-xt.minX)*(xt.maxY-xt.minY)}function au(xt){return xt.maxX-xt.minX+(xt.maxY-xt.minY)}function gx(xt,At){return(Math.max(At.maxX,xt.maxX)-Math.min(At.minX,xt.minX))*(Math.max(At.maxY,xt.maxY)-Math.min(At.minY,xt.minY))}function mx(xt,At){const Pt=Math.max(xt.minX,At.minX),Ot=Math.max(xt.minY,At.minY),Rt=Math.min(xt.maxX,At.maxX),zt=Math.min(xt.maxY,At.maxY);return Math.max(0,Rt-Pt)*Math.max(0,zt-Ot)}function jh(xt,At){return xt.minX<=At.minX&&xt.minY<=At.minY&&At.maxX<=xt.maxX&&At.maxY<=xt.maxY}function su(xt,At){return At.minX<=xt.maxX&&At.minY<=xt.maxY&&At.maxX>=xt.minX&&At.maxY>=xt.minY}function ll(xt){return{children:xt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function fg(xt,At,Pt,Ot,Rt){const zt=[At,Pt];for(;zt.length;){if(Pt=zt.pop(),At=zt.pop(),Pt-At<=Ot)continue;const Gt=At+Math.ceil((Pt-At)/Ot/2)*Ot;cx(xt,Gt,At,Pt,Rt),zt.push(At,Gt,Gt,Pt)}}const pg=xt=>{const At=Vh(xt),Pt=document.createElementNS(Ur,"svg");Pt.style.position="absolute",Pt.style.opacity=0,Pt.style.top=0,Pt.style.left=0,Pt.appendChild(At),document.body.appendChild(Pt);const{x:Ot,y:Rt,width:zt,height:Gt}=At.getBBox();return document.body.removeChild(Pt),{minX:Ot,minY:Rt,maxX:Ot+zt,maxY:Rt+Gt}};class yx{constructor(At){Lt(this,"getAnnotationAt",(Pt,Ot,Rt)=>{const zt=Rt?5/Rt:5,Gt=this.spatial_index.search({minX:Pt-zt,minY:Ot-zt,maxX:Pt+zt,maxY:Ot+zt}).map(ri=>ri.annotation);if(Gt.length>0)return Gt.sort((ri,yi)=>hg(ri,this.env.image)-hg(yi,this.env.image)),Gt[0]}),Lt(this,"getAnnotationsIntersecting",Pt=>this.spatial_index.search(Pt).map(Ot=>Ot.annotation)),Lt(this,"insert",Pt=>{(Array.isArray(Pt)?Pt:[Pt]).forEach(Ot=>{this.spatial_index.insert($t(Tt({},pg(Ot)),{annotation:Ot}))})}),Lt(this,"remove",Pt=>{const Ot=$t(Tt({},pg(Pt)),{annotation:Pt});this.spatial_index.remove(Ot,(Rt,zt)=>Rt.annotation.id===zt.annotation.id)}),this.env=At,this.spatial_index=new hx}}const vx=(xt,At)=>{const Pt=Lh(At,".a9s-annotation")?At:At.querySelector(".a9s-annotation"),{canvas:Ot}=xt.drawer,Rt=Ot.getBoundingClientRect(),zt=Ot.width/Rt.width,Gt=Ot.height/Rt.height,ri=Pt.getBoundingClientRect(),yi=ri.x-Rt.x,bi=ri.y-Rt.y,{width:fi,height:Di}=ri,Ji=document.createElement("CANVAS"),ln=Ji.getContext("2d");Ji.width=fi,Ji.height=Di,ln.drawImage(Ot,yi*zt,bi*Gt,fi*zt,Di*Gt,0,0,fi,Di);const pn=xt.viewport.viewportToImageCoordinates(ri.x,ri.y),kn=xt.viewport.viewportToImageZoom(xt.viewport.getZoom());return{snippet:Ji,transform:Sn=>{const Nn=pn.x+Sn[0]/zt/kn,qn=pn.y+Sn[1]/Gt/kn;return[Nn,qn]}}},bx=Bh();class gg extends Or{constructor(At){super(),Lt(this,"_getShapeAt",Ot=>{const Rt=yi=>{const bi=this.svg.createSVGPoint();if(window.TouchEvent&&yi instanceof TouchEvent){const fi=this.svg.getBoundingClientRect(),Di=yi.touches[0],Ji=Di.clientX-fi.x,ln=Di.clientY-fi.y,{left:pn,top:kn}=this.svg.getBoundingClientRect();return bi.x=Ji+pn,bi.y=ln+kn,bi.matrixTransform(this.g.getScreenCTM().inverse())}else return bi.x=yi.offsetX,bi.y=yi.offsetY,bi.matrixTransform(this.g.getCTM().inverse())},{x:zt,y:Gt}=Rt(Ot),ri=this.store.getAnnotationAt(zt,Gt,this.currentScale());if(ri)return this.findShape(ri)}),Lt(this,"_initDrawingTools",Ot=>{this.tools=new ox(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let Rt=!1;this.mouseTracker=new Ut.default.MouseTracker({element:this.svg,pressHandler:zt=>{this.tools.current.isDrawing||(this.tools.current.start(zt.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),Ot||this.scaleTool(this.tools.current))},moveHandler:zt=>{if(this.tools.current.isDrawing){const{x:Gt,y:ri}=this.tools.current.getSVGPoint(zt.originalEvent);this.tools.current.onMouseMove(Gt,ri,zt.originalEvent),Rt||(this.emit("startSelection",{x:Gt,y:ri}),Rt=!0)}},releaseHandler:zt=>{if(this.tools.current.isDrawing){const{x:Gt,y:ri}=this.tools.current.getSVGPoint(zt.originalEvent);this.tools.current.onMouseUp(Gt,ri,zt.originalEvent)}Rt=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=zt=>{zt.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=zt=>{zt.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),Lt(this,"_initMouseEvents",()=>{let Ot=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",Gt=>{var ri,yi;if(!((ri=this.tools)!=null&&ri.current.isDrawing)&&!Gt.target.closest(".a9s-annotation.editable.selected")){const bi=this._getShapeAt(Gt);if((bi==null?void 0:bi.annotation)!==((yi=this.hoveredShape)==null?void 0:yi.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=Ot;const fi=this.hoveredShape.element||this.hoveredShape;zw(fi,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}bi&&(Ot=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,ds(bi,"hover"),this.emit("mouseEnterAnnotation",bi.annotation,bi))}this.hoveredShape=bi}});let Rt=null;new Ut.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{Rt=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{Rt=new Date().getTime()});const zt=Gt=>{var ri;if(!(((ri=this.tools.current)==null?void 0:ri.isDrawing)||this.disableSelect)&&new Date().getTime()-Rt<250){const yi=Gt.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(Gt);yi?this.selectShape(yi):yi||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",zt),this.svg.addEventListener("touchstart",zt)}),Lt(this,"_refreshNonScalingAnnotations",()=>{const Ot=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(Rt=>Rt.setAttribute("transform",`scale(${1/Ot})`))}),Lt(this,"addAnnotation",(Ot,Rt)=>{const zt=Rt||this.g,Gt=Vh(Ot,this.env.image);return ds(Gt,"a9s-annotation"),Gt.setAttribute("data-id",Ot.id),Gt.annotation=Ot,zt.appendChild(Gt),ru(Gt,Ot,this.formatter),this.scaleFormatterElements(Gt),Gt}),Lt(this,"addDrawingTool",Ot=>this.tools.registerTool(Ot)),Lt(this,"addOrUpdateAnnotation",(Ot,Rt)=>{var zt,Gt;(((zt=this.selectedShape)==null?void 0:zt.annotation)===Ot||((Gt=this.selectedShape)==null?void 0:Gt.annotation)==Rt)&&this.deselect(),Rt&&this.removeAnnotation(Ot),this.removeAnnotation(Ot);const ri=this.addAnnotation(Ot);Lh(ri,"a9s-non-scaling")&&ri.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(Ot)}),Lt(this,"currentScale",()=>{const Ot=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*Ot/this.viewer.world.getContentFactor()}),Lt(this,"deselect",()=>{var Ot;if((Ot=this.tools)==null||Ot.current.stop(),this.selectedShape){const{annotation:Rt}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!Rt.isSelection)){const zt=this.addAnnotation(Rt);Lh(zt,"a9s-non-scaling")&&zt.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),Lt(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),Lt(this,"findShape",Ot=>{const Rt=Ot!=null&&Ot.id?Ot.id:Ot;return this.g.querySelector(`.a9s-annotation[data-id="${Rt}"]`)}),Lt(this,"fitBounds",(Ot,Rt)=>{const zt=this.findShape(Ot);if(zt){const{x:Gt,y:ri,width:yi,height:bi}=zt.getBBox(),fi=this.viewer.viewport.imageToViewportRectangle(Gt,ri,yi,bi);this.viewer.viewport.fitBounds(fi,Rt)}}),Lt(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(Ot=>Ot.annotation)),Lt(this,"getSelectedImageSnippet",()=>{var Ot;if(this.selectedShape){const Rt=(Ot=this.selectedShape.element)!=null?Ot:this.selectedShape;return vx(this.viewer,Rt)}}),Lt(this,"init",Ot=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(Rt=>this.g.removeChild(Rt)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),Ot.forEach(Rt=>this.addAnnotation(Rt)),console.log("Indexing..."),this.store.insert(Ot),console.timeEnd("Took"),this.resize()}),Lt(this,"listDrawingTools",()=>this.tools.listTools()),Lt(this,"overrideId",(Ot,Rt)=>{const zt=this.findShape(Ot);zt.setAttribute("data-id",Rt);const{annotation:Gt}=zt,ri=Gt.clone({id:Rt});return zt.annotation=ri,this.store.remove(Gt),this.store.insert(ri),ri}),Lt(this,"panTo",(Ot,Rt)=>{const zt=this.findShape(Ot);if(zt){const{top:Gt,left:ri,width:yi,height:bi}=zt.getBoundingClientRect(),fi=ri+yi/2+window.scrollX,Di=Gt+bi/2+window.scrollY,Ji=this.viewer.viewport.windowToViewportCoordinates(new Ut.default.Point(fi,Di));this.viewer.viewport.panTo(Ji,Rt)}}),Lt(this,"removeAnnotation",Ot=>{var Rt,zt;const Gt=Ot.type?Ot.id:Ot;((Rt=this.selectedShape)==null?void 0:Rt.annotation.id)===Gt&&this.deselect();const ri=this.findShape(Ot);if(ri){const{annotation:yi}=ri;((zt=this.selectedShape)==null?void 0:zt.annotation)===yi&&this.deselect(),ri.parentNode.removeChild(ri),this.store.remove(yi)}}),Lt(this,"removeDrawingTool",Ot=>{var Rt;return(Rt=this.tools)==null?void 0:Rt.unregisterTool(Ot)}),Lt(this,"scaleFormatterElements",Ot=>{const Rt=1/this.currentScale();if(Ot){const zt=Ot.querySelector(".a9s-formatter-el");zt&&zt.firstChild.setAttribute("transform",`scale(${Rt})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(zt=>zt.firstChild.setAttribute("transform",`scale(${Rt})`))}),Lt(this,"scaleTool",Ot=>{if(Ot){const Rt=1/this.currentScale();Ot.scale=Rt,Ot.onScaleChanged&&Ot.onScaleChanged(Rt)}}),Lt(this,"selectAnnotation",(Ot,Rt)=>{this.selectedShape&&this.deselect();const zt=this.findShape(Ot);if(zt){this.selectShape(zt,Rt);const Gt=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:zt.annotation,element:Gt}}else this.deselect()}),Lt(this,"selectShape",(Ot,Rt)=>{var zt;if(!Rt&&!Ot.annotation.isSelection&&this.emit("clickAnnotation",Ot.annotation,Ot),((zt=this.selectedShape)==null?void 0:zt.annotation)===Ot.annotation)return;this.selectedShape&&this.selectedShape.annotation!==Ot.annotation&&this.deselect();const{annotation:Gt}=Ot;if(this.readOnly||Gt.readOnly||this.headless)this.selectedShape=Ot,Rt||this.emit("select",{annotation:Gt,element:Ot,skipEvent:Rt});else{const ri=this.tools.forAnnotation(Gt);if(ri){setTimeout(()=>{Ot.parentNode.removeChild(Ot),Rt||this.emit("select",{annotation:Gt,element:this.selectedShape.element})},1),this.selectedShape=ri.createEditableShape(Gt),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=Gt;const yi=new Ut.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,yi.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,yi.setTracking(!1)}),this.selectedShape.mouseTracker=yi,this.selectedShape.on("update",bi=>this.emit("updateTarget",this.selectedShape.element,bi))}else this.selectedShape=Ot,Rt||this.emit("select",{annotation:Gt,element:this.selectedShape})}}),Lt(this,"setDrawingEnabled",Ot=>{var Rt;return(Rt=this.mouseTracker)==null?void 0:Rt.setTracking(Ot&&!this.readOnly)}),Lt(this,"setDrawingTool",Ot=>{var Rt;this.tools&&((Rt=this.tools.current)==null||Rt.stop(),this.tools.setCurrent(Ot))}),Lt(this,"setVisible",Ot=>{Ot?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),Lt(this,"stopDrawing",()=>{var Ot,Rt;return(Rt=(Ot=this.tools)==null?void 0:Ot.current)==null?void 0:Rt.stop()}),this.viewer=At.viewer,this.config=At.config,this.env=At.env,this.readOnly=At.config.readOnly,this.headless=At.config.headless,this.formatter=At.config.formatter,this.disableSelect=At.disableSelect,this.drawOnSingleClick=At.config.drawOnSingleClick,this.svg=document.createElementNS(Ur,"svg"),bx?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),Yw(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(Ur,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const Pt=()=>{const{x:Ot,y:Rt}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:Ot,naturalHeight:Rt},At.config.crosshair&&(this.crosshair=new ax(this.g,Ot,Rt),ds(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",Pt),this.viewer.world.addHandler("add-item",Pt),this.viewer.world.getItemAt(0)&&Pt(),this.store=new yx(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var At;const Pt=this.viewer.viewport.getFlip(),Ot=this.viewer.viewport.pixelFromPoint(new Ut.default.Point(0,0),!0);Pt&&(Ot.x=this.viewer.viewport._containerInnerSize.x-Ot.x);const Rt=this.currentScale(),zt=Pt?-Rt:Rt,Gt=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${Ot.x}, ${Ot.y}) scale(${zt}, ${Rt}) rotate(${Gt})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(At=this.tools)!=null&&At.current.isDrawing&&this.scaleTool(this.tools.current)}}class _x extends gg{constructor(At){super(At),Lt(this,"onDrawingComplete",Pt=>{this.selectShape(Pt),this.emit("createSelection",Pt.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const Wh=xt=>{const At=xt.viewport.viewportToImageRectangle(xt.viewport.getBounds(!0)),Pt=xt.viewport.getContainerSize().x,Ot=xt.viewport.getZoom(!0)*Pt/xt.world.getContentFactor();return{extent:At,scale:Ot}},wx=xt=>{var At;const Pt=xt.targets[0];return Pt?Array.isArray(Pt.selector)?Pt.selector[0].type:(At=Pt.selector)==null?void 0:At.type:null},mg=(xt,At)=>{const{extent:Pt,scale:Ot}=Wh(xt),{selector:Rt}=At,zt=Ds.create({target:At});if(Rt.type==="SvgSelector"){const Gt=al(zt),ri=Gt.nodeName.toLowerCase();let yi=null;if(ri==="polygon")yi=xx(Gt,Pt,Ot);else if(ri==="circle")yi=Sx(Gt,Pt,Ot);else if(ri==="ellipse")yi=Ex(Gt,Pt,Ot);else if(ri==="path")yi=kx(Gt,Pt,Ot);else throw`Unsupported SVG shape type: ${ri}`;let bi=yi.outerHTML||new XMLSerializer().serializeToString(yi);return bi=bi.replace(` xmlns="${Ur}"`,""),$t(Tt({},At),{selector:{type:"SvgSelector",value:`<svg>${bi}</svg>`}})}else if(Rt.type==="FragmentSelector"){const{x:Gt,y:ri,w:yi,h:bi}=Ms(zt),fi=Pt.x+Gt/Ot,Di=Pt.y+ri/Ot,Ji=yi/Ot,ln=bi/Ot;return zl(fi,Di,Ji,ln)}else throw`Unsupported selector type: ${Rt.type}`},xx=(xt,At,Pt)=>{const Ot=Array.from(xt.points).map(Rt=>{const zt=At.x+Rt.x/Pt,Gt=At.y+Rt.y/Pt;return zt+","+Gt}).join(" ");return xt.setAttribute("points",Ot),xt},Sx=(xt,At,Pt)=>{const Ot=parseFloat(xt.getAttribute("cx")),Rt=parseFloat(xt.getAttribute("cy")),zt=parseFloat(xt.getAttribute("r"));return xt.setAttribute("cx",At.x+Ot/Pt),xt.setAttribute("cy",At.y+Rt/Pt),xt.setAttribute("r",zt/Pt),xt},Ex=(xt,At,Pt)=>{const Ot=parseFloat(xt.getAttribute("cx")),Rt=parseFloat(xt.getAttribute("cy")),zt=parseFloat(xt.getAttribute("rx")),Gt=parseFloat(xt.getAttribute("ry"));return xt.setAttribute("cx",At.x+Ot/Pt),xt.setAttribute("cy",At.y+Rt/Pt),xt.setAttribute("rx",zt/Pt),xt.setAttribute("ry",Gt/Pt),xt},kx=(xt,At,Pt)=>{const Ot=xt.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Rt=>Rt.trim()).map(Rt=>{const zt=Rt.substring(0,1);if(zt.toLowerCase()==="z")return zt;{const Gt=Rt.substring(1).split(" ").map(fi=>parseFloat(fi.trim())),ri=zt===zt.toUpperCase(),yi=ri?At.x+Gt[0]/Pt:Gt[0]/Pt,bi=ri?At.y+Gt[1]/Pt:Gt[1]/Pt;return zt+" "+yi+" "+bi}}).join(" ");return xt.setAttribute("d",Ot),xt},yg=(xt,At)=>{const{extent:Pt,scale:Ot}=Wh(xt),Rt=At.selector("FragmentSelector");if(At.selector("SvgSelector")){const zt=al(At),Gt=zt.nodeName.toLowerCase();let ri=null;if(Gt==="polygon")ri=Cx(zt,Pt,Ot);else if(Gt==="circle")ri=Tx(zt,Pt,Ot);else if(Gt==="ellipse")ri=Ax(zt,Pt,Ot);else if(Gt==="path")ri=$x(zt,Pt,Ot);else throw`Unsupported SVG shape type: ${Gt}`;let yi=ri.outerHTML||new XMLSerializer().serializeToString(ri);yi=yi.replace(` xmlns="${Ur}"`,"");const bi={selector:{type:"SvgSelector",value:`<svg>${yi}</svg>`}};return At.clone({target:bi})}else if(Rt){const{x:zt,y:Gt,w:ri,h:yi}=Ms(At),bi=(zt-Pt.x)*Ot,fi=(Gt-Pt.y)*Ot,Di=zl(bi,fi,ri*Ot,yi*Ot);return At.clone({target:Di})}},Cx=(xt,At,Pt)=>{const Ot=Array.from(xt.points).map(Rt=>{const zt=Pt*(Rt.x-At.x),Gt=Pt*(Rt.y-At.y);return zt+","+Gt}).join(" ");return xt.setAttribute("points",Ot),xt},Tx=(xt,At,Pt)=>{const Ot=xt.getAttribute("cx"),Rt=xt.getAttribute("cy"),zt=xt.getAttribute("r");return xt.setAttribute("cx",Pt*(Ot-At.x)),xt.setAttribute("cy",Pt*(Rt-At.y)),xt.setAttribute("r",zt*Pt),xt},Ax=(xt,At,Pt)=>{const Ot=xt.getAttribute("cx"),Rt=xt.getAttribute("cy"),zt=xt.getAttribute("rx"),Gt=xt.getAttribute("ry");return xt.setAttribute("cx",Pt*(Ot-At.x)),xt.setAttribute("cy",Pt*(Rt-At.y)),xt.setAttribute("rx",zt*Pt),xt.setAttribute("ry",Gt*Pt),xt},$x=(xt,At,Pt)=>{const Ot=xt.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Rt=>Rt.trim()).map(Rt=>{const zt=Rt.substring(0,1);if(zt.toLowerCase()==="z")return zt;{const Gt=Rt.substring(1).split(" ").filter(fi=>fi).map(fi=>parseFloat(fi.trim())),ri=zt===zt.toUpperCase(),yi=ri?Pt*(Gt[0]-At.x):Pt*Gt[0],bi=ri?Pt*(Gt[1]-At.y):Pt*Gt[1];return zt+" "+yi+" "+bi}}).join(" ");return xt.setAttribute("d",Ot),xt},vg=(xt,At)=>{const{extent:Pt,scale:Ot}=Wh(xt),Rt=wx(At.annotation);if(Rt==="FragmentSelector")Px(At,Pt,Ot);else if(Rt==="SvgSelector")Ox(At,Pt,Ot);else throw`Unsupported selector type type: ${Rt}`},Px=(xt,At,Pt)=>{const{x:Ot,y:Rt,w:zt,h:Gt}=Ms(xt.annotation),ri=xt.querySelector(".a9s-outer"),yi=xt.querySelector(".a9s-inner"),bi=Pt*(Ot-At.x),fi=Pt*(Rt-At.y);zt===0&&Gt===0?[ri,yi].forEach(Di=>{Di.setAttribute("cx",bi),Di.setAttribute("cy",fi)}):[ri,yi].forEach(Di=>{Di.setAttribute("x",bi),Di.setAttribute("y",fi),Di.setAttribute("width",zt*Pt),Di.setAttribute("height",Gt*Pt)})},Ox=(xt,At,Pt)=>{const Ot=al(xt.annotation),Rt=Ot.nodeName.toLowerCase();if(Rt==="polygon")Lx(xt,Ot,At,Pt);else if(Rt==="circle")Dx(xt,Ot,At,Pt);else if(Rt==="ellipse")Mx(xt,Ot,At,Pt);else if(Rt==="path")Rx(xt,Ot,At,Pt);else throw`Unsupported SVG shape type: ${Rt}`},Lx=(xt,At,Pt,Ot)=>{const Rt=Array.from(At.points).map(zt=>{const Gt=Ot*(zt.x-Pt.x),ri=Ot*(zt.y-Pt.y);return Gt+","+ri}).join(" ");xt.querySelector(".a9s-outer").setAttribute("points",Rt),xt.querySelector(".a9s-inner").setAttribute("points",Rt)},Dx=(xt,At,Pt,Ot)=>{const Rt=Ot*(At.getAttribute("cx")-Pt.x),zt=Ot*(At.getAttribute("cy")-Pt.y),Gt=Ot*At.getAttribute("r"),ri=xt.querySelector(".a9s-outer");ri.setAttribute("cx",Rt),ri.setAttribute("cy",zt),ri.setAttribute("r",Gt);const yi=xt.querySelector(".a9s-inner");yi.setAttribute("cx",Rt),yi.setAttribute("cy",zt),yi.setAttribute("r",Gt)},Mx=(xt,At,Pt,Ot)=>{const Rt=Ot*(At.getAttribute("cx")-Pt.x),zt=Ot*(At.getAttribute("cy")-Pt.y),Gt=Ot*At.getAttribute("rx"),ri=Ot*At.getAttribute("ry"),yi=xt.querySelector(".a9s-outer");yi.setAttribute("cx",Rt),yi.setAttribute("cy",zt),yi.setAttribute("rx",Gt),yi.setAttribute("ry",ri);const bi=xt.querySelector(".a9s-inner");bi.setAttribute("cx",Rt),bi.setAttribute("cy",zt),bi.setAttribute("rx",Gt),bi.setAttribute("ry",ri)},Rx=(xt,At,Pt,Ot)=>{const Rt=At.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(zt=>zt.trim()).map(zt=>{const Gt=zt.substring(0,1);if(Gt.toLowerCase()==="z")return Gt;{const ri=zt.substring(1).split(" ").filter(Di=>Di).map(Di=>parseFloat(Di.trim())),yi=Gt===Gt.toUpperCase(),bi=yi?Ot*(ri[0]-Pt.x):Ot*ri[0],fi=yi?Ot*(ri[1]-Pt.y):Ot*ri[1];return Gt+" "+bi+" "+fi}}).join(" ");xt.querySelector(".a9s-inner").setAttribute("d",Rt),xt.querySelector(".a9s-outer").setAttribute("d",Rt)},Bx=Bh();class Ix extends gg{constructor(At){super(At),Lt(this,"onDrawingComplete",Pt=>{const Ot=Pt.annotation.clone({target:mg(this.viewer,Pt.annotation.target)});Pt.annotation=Ot,this.selectShape(Pt),this.emit("createSelection",Pt.annotation),this.mouseTracker.setTracking(!1)}),Lt(this,"addAnnotation",(Pt,Ot)=>{const Rt=Ot||this.g,zt=Vh(Pt,this.env.image);return ds(zt,"a9s-annotation"),zt.setAttribute("data-id",Pt.id),zt.annotation=Pt,vg(this.viewer,zt),Rt.appendChild(zt),ru(zt,Pt,this.formatter),zt}),Lt(this,"_getShapeAt",Pt=>{const Ot=yi=>{if(Bx){const bi=this.svg.getBoundingClientRect(),fi=yi.clientX-bi.x,Di=yi.clientY-bi.y;return new Ut.default.Point(fi,Di)}else return new Ut.default.Point(yi.offsetX,yi.offsetY)},Rt=this.viewer.viewport.viewerElementToViewportCoordinates(Ot(Pt)),{x:zt,y:Gt}=this.viewer.viewport.viewportToImageCoordinates(Rt.x,Rt.y),ri=this.store.getAnnotationAt(zt,Gt,this.currentScale());if(ri)return this.findShape(ri)}),Lt(this,"selectShape",(Pt,Ot)=>{var Rt;if(!Ot&&!Pt.annotation.isSelection&&this.emit("clickAnnotation",Pt.annotation,Pt),((Rt=this.selectedShape)==null?void 0:Rt.annotation)===Pt.annotation)return;this.selectedShape&&this.selectedShape.annotation!==Pt.annotation&&this.deselect(!0);const{annotation:zt}=Pt;if(this.readOnly||zt.readOnly||this.headless)this.selectedShape=Pt,Ot||this.emit("select",{annotation:zt,element:Pt,skipEvent:Ot});else{setTimeout(()=>{Pt.parentNode.removeChild(Pt),Ot||this.emit("select",{annotation:zt,element:this.selectedShape.element})},1);const Gt=this.tools.forAnnotation(zt);this.selectedShape=Gt.createEditableShape(zt),this.selectedShape.element.annotation=zt;const ri=yg(this.viewer,zt);this.selectedShape.updateState(ri);const yi=new Ut.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",bi=>yi.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",bi=>yi.setTracking(!1)),this.selectedShape.mouseTracker=yi,this.selectedShape.on("update",bi=>{const fi=mg(this.viewer,bi);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:fi}),this.emit("updateTarget",this.selectedShape.element,fi)})}}),this._initDrawingTools(!0)}resize(){const At=this.viewer.viewport.getBounds(!0),{x:Pt,y:Ot,width:Rt,height:zt}=this.viewer.viewport.viewportToImageRectangle(At),Gt={minX:Pt,minY:Ot,maxX:Pt+Rt,maxY:Ot+zt},ri=new Set(this.store.getAnnotationsIntersecting(Gt).map(yi=>yi.id));if(ri.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(yi=>{ri.has(yi.annotation.id)?(yi.removeAttribute("visibility"),vg(this.viewer,yi)):yi.hasAttribute("visibility")||yi.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const yi=yg(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(yi),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class Nx extends ni{constructor(At){super(At),Lt(this,"clearState",Pt=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},Pt)),Lt(this,"forwardEvent",(Pt,Ot)=>{this.annotationLayer.on(Pt,(Rt,zt)=>{this.props[Ot](Rt.clone(),zt)})}),Lt(this,"escapeKeyCancel",Pt=>{if(Pt.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:Ot}=this.state;Ot&&(this.cancelSelected(),this.props.onCancelSelected(Ot))}}),Lt(this,"handleStartSelect",Pt=>this.props.onSelectionStarted(Pt)),Lt(this,"handleSelect",(Pt,Ot)=>{this.state.editorDisabled?this.onHeadlessSelect(Pt,Ot):this.onNormalSelect(Pt,Ot)}),Lt(this,"onNormalSelect",(Pt,Ot)=>{const{annotation:Rt,element:zt}=Pt;if(Rt){const Gt=()=>{this.setState({selectedAnnotation:Rt,selectedDOMElement:zt,modifiedTarget:null},()=>{Ot||(Rt.isSelection?this.props.onSelectionCreated(Rt.clone()):this.props.onAnnotationSelected(Rt.clone(),zt))})},{selectedAnnotation:ri}=this.state;ri&&!ri.isEqual(Rt)?this.clearState(()=>{this.props.onCancelSelected(ri),Gt()}):Gt()}else{const{selectedAnnotation:Gt}=this.state;Gt?this.clearState(()=>this.props.onCancelSelected(Gt)):this.clearState()}}),Lt(this,"onHeadlessSelect",(Pt,Ot)=>{this.saveSelected().then(()=>{this.onNormalSelect(Pt,Ot)})}),Lt(this,"handleUpdateTarget",(Pt,Ot)=>{this.setState({selectedDOMElement:Pt,modifiedTarget:Ot});const Rt=JSON.parse(JSON.stringify(Ot));this.props.onSelectionTargetChanged(Rt)}),Lt(this,"handleViewportChange",Pt=>this.setState({selectedDOMElement:Pt})),Lt(this,"overrideAnnotationId",Pt=>Ot=>{const{id:Rt}=Pt;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(Rt,Ot)}):this.annotationLayer.overrideId(Rt,Ot)}),Lt(this,"onCreateOrUpdateAnnotation",(Pt,Ot)=>(Rt,zt)=>{let Gt=Rt.isSelection?Rt.toAnnotation():Rt;Gt=this.state.modifiedTarget?Gt.clone({target:this.state.modifiedTarget}):Gt.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(Gt,zt),zt?this.props[Pt](Gt,zt.clone()):this.props[Pt](Gt,this.overrideAnnotationId(Rt)),Ot&&Ot()})}),Lt(this,"onDeleteAnnotation",Pt=>{this.clearState(),this.annotationLayer.removeAnnotation(Pt),this.props.onAnnotationDeleted(Pt)}),Lt(this,"onCancelAnnotation",(Pt,Ot)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(Pt),this.clearState(Ot)}),Lt(this,"addAnnotation",Pt=>{var Ot;Pt.id===((Ot=this.state.selectedAnnotation)==null?void 0:Ot.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(Pt.clone())}),Lt(this,"addDrawingTool",Pt=>this.annotationLayer.addDrawingTool(Pt)),Lt(this,"cancelSelected",()=>new Promise(Pt=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(Pt):Pt()})),Lt(this,"fitBounds",(Pt,Ot)=>this.annotationLayer.fitBounds(Pt,Ot)),Lt(this,"getAnnotationById",Pt=>{var Ot;return(Ot=this.annotationLayer.findShape(Pt))==null?void 0:Ot.annotation}),Lt(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(Pt=>Pt.clone())),Lt(this,"getSelected",()=>{var Pt;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(Pt=this._editor.current)==null?void 0:Pt.getCurrentAnnotation()}),Lt(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),Lt(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),Lt(this,"panTo",(Pt,Ot)=>this.annotationLayer.panTo(Pt,Ot)),Lt(this,"removeAnnotation",Pt=>this.annotationLayer.removeAnnotation(Pt)),Lt(this,"removeDrawingTool",Pt=>this.annotationLayer.removeDrawingTool(Pt)),Lt(this,"saveSelected",()=>new Promise(Pt=>{const Ot=this.state.selectedAnnotation;if(Ot)if(Ot.isSelection)Ot.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",Pt)(Ot,Ot):(this.annotationLayer.deselect(),Pt());else{const{beforeHeadlessModify:Rt,modifiedTarget:zt}=this.state;Rt?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Pt)(Ot,Rt):zt?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Pt)(Ot,Ot):this.onCancelAnnotation(Ot,Pt)}else Pt()})),Lt(this,"selectAnnotation",Pt=>{const Ot=this.annotationLayer.selectAnnotation(Pt,!0);if(Ot)return this.handleSelect(Ot,!0),Ot.annotation.clone();this.clearState()}),Lt(this,"setAnnotations",Pt=>this.annotationLayer.init(Pt.map(Ot=>Ot.clone()))),Lt(this,"setDrawingEnabled",Pt=>this.annotationLayer.setDrawingEnabled(Pt)),Lt(this,"setDrawingTool",Pt=>this.annotationLayer.setDrawingTool(Pt)),Lt(this,"setVisible",Pt=>{this.annotationLayer.setVisible(Pt),Pt||this.clearState()}),Lt(this,"updateSelected",(Pt,Ot)=>new Promise(Rt=>{this.state.selectedAnnotation&&(Ot?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",Rt)(Pt):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Rt)(Pt,this.state.selectedAnnotation):this.setState({selectedAnnotation:Pt,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},Rt))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:At.config.readOnly,editorDisabled:At.config.disableEditor,widgets:At.config.widgets,beforeHeadlessModify:null},this._editor=Kn.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new Ix(this.props):new _x(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(At){this.setState({editorDisabled:At},()=>{At?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(At){this.annotationLayer.disableSelect=At}get readOnly(){return this.state.readOnly}set readOnly(At){this.annotationLayer.readOnly=At,this.setState({readOnly:At})}get widgets(){return this.state.widgets}set widgets(At){this.setState({widgets:At})}render(){var At;const Pt=this.state.selectedAnnotation&&!this.state.editorDisabled,Ot=this.state.readOnly||((At=this.state.selectedAnnotation)==null?void 0:At.readOnly);return Pt&&ei(Ow,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:Ot,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class Fx{constructor(At,Pt){Lt(this,"handleAnnotationCreated",(Rt,zt)=>this._emitter.emit("createAnnotation",Rt.underlying,zt)),Lt(this,"handleAnnotationDeleted",Rt=>this._emitter.emit("deleteAnnotation",Rt.underlying)),Lt(this,"handleAnnotationSelected",(Rt,zt)=>this._emitter.emit("selectAnnotation",Rt.underlying,zt)),Lt(this,"handleAnnotationUpdated",(Rt,zt)=>this._emitter.emit("updateAnnotation",Rt.underlying,zt.underlying)),Lt(this,"handleCancelSelected",Rt=>this._emitter.emit("cancelSelected",Rt.underlying)),Lt(this,"handleClickAnnotation",(Rt,zt)=>this._emitter.emit("clickAnnotation",Rt.underlying,zt)),Lt(this,"handleSelectionCreated",Rt=>this._emitter.emit("createSelection",Rt.underlying)),Lt(this,"handleSelectionStarted",Rt=>this._emitter.emit("startSelection",Rt)),Lt(this,"handleSelectionTargetChanged",Rt=>this._emitter.emit("changeSelectionTarget",Rt)),Lt(this,"handleMouseEnterAnnotation",(Rt,zt)=>this._emitter.emit("mouseEnterAnnotation",Rt.underlying,zt)),Lt(this,"handleMouseLeaveAnnotation",(Rt,zt)=>this._emitter.emit("mouseLeaveAnnotation",Rt.underlying,zt)),Lt(this,"_wrap",Rt=>(Rt==null?void 0:Rt.type)==="Annotation"?new Ds(Rt):Rt),Lt(this,"addAnnotation",Rt=>this._app.current.addAnnotation(new Ds(Rt))),Lt(this,"addDrawingTool",Rt=>this._app.current.addDrawingTool(Rt)),Lt(this,"cancelSelected",()=>this._app.current.cancelSelected()),Lt(this,"clearAnnotations",()=>this.setAnnotations([])),Lt(this,"clearAuthInfo",()=>this._env.user=null),Lt(this,"destroy",()=>Kn.unmountComponentAtNode(this.appContainerEl)),Lt(this,"fitBounds",(Rt,zt)=>this._app.current.fitBounds(this._wrap(Rt),zt)),Lt(this,"getAnnotationById",Rt=>{const zt=this._app.current.getAnnotationById(Rt);return zt==null?void 0:zt.underlying}),Lt(this,"getAnnotations",()=>this._app.current.getAnnotations().map(Rt=>Rt.underlying)),Lt(this,"getSelected",()=>{const Rt=this._app.current.getSelected();return Rt==null?void 0:Rt.underlying}),Lt(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),Lt(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),Lt(this,"loadAnnotations",Rt=>fetch(Rt).then(zt=>zt.json()).then(zt=>(this.setAnnotations(zt),zt))),Lt(this,"off",(Rt,zt)=>this._emitter.off(Rt,zt)),Lt(this,"on",(Rt,zt)=>this._emitter.on(Rt,zt)),Lt(this,"once",(Rt,zt)=>this._emitter.once(Rt,zt)),Lt(this,"panTo",(Rt,zt)=>this._app.current.panTo(this._wrap(Rt),zt)),Lt(this,"removeAnnotation",Rt=>this._app.current.removeAnnotation(this._wrap(Rt))),Lt(this,"removeDrawingTool",Rt=>this._app.current.removeDrawingTool(Rt)),Lt(this,"saveSelected",()=>this._app.current.saveSelected()),Lt(this,"selectAnnotation",Rt=>{const zt=this._app.current.selectAnnotation(this._wrap(Rt));return zt==null?void 0:zt.underlying}),Lt(this,"setAnnotations",Rt=>{const zt=(Rt||[]).map(Gt=>new Ds(Gt));this._app.current.setAnnotations(zt)}),Lt(this,"setAuthInfo",Rt=>this._env.user=Rt),Lt(this,"setDrawingEnabled",Rt=>this._app.current.setDrawingEnabled(Rt)),Lt(this,"setDrawingTool",Rt=>this._app.current.setDrawingTool(Rt)),Lt(this,"setServerTime",Rt=>this._env.setServerTime(Rt)),Lt(this,"setVisible",Rt=>this._app.current.setVisible(Rt)),Lt(this,"updateSelected",(Rt,zt)=>{let Gt=null;Rt.type==="Annotation"?Gt=new Ds(Rt):Rt.type==="Selection"&&(Gt=new Fl(Rt.target,Rt.body)),Gt&&this._app.current.updateSelected(Gt,zt)});const Ot=Pt||{};this._app=Kn.createRef(),this._emitter=new Or,this._env=Nw(),this._element=At.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),Fw(Ot.locale,Ot.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Kn.render(ei(Nx,{ref:this._app,viewer:At,wrapperEl:this._element,config:Ot,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(At){this._app.current.disableEditor=At}get disableSelect(){return this._app.current.disableSelect}set disableSelect(At){this._app.current.disableSelect=At}get readOnly(){return this._app.current.readOnly}set readOnly(At){this._app.current.readOnly=At}get widgets(){return this._app.current.widgets}set widgets(At){this._app.current.widgets=At}}var zx=(xt,At)=>new Fx(xt,At);return zx})})(openseadragonAnnotorious_min);const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_min.exports),annotationsEndpoint="https://api.juncture-digital.org";class Annotator{constructor(nt,rt="",st=!0){Ha(this,"osd");Ha(this,"base");Ha(this,"imageId","");Ha(this,"annotorious");Ha(this,"visible",!1);Ha(this,"ghAuthToken","");Ha(this,"selected",null);this.osd=nt,this.base=rt,this.annotorious=Annotorious(nt,{readOnly:!st}),this.annotorious.on("createAnnotation",async vt=>this.createAnnotation(vt)),this.annotorious.on("updateAnnotation",async vt=>this.updateAnnotation(vt)),this.annotorious.on("deleteAnnotation",async vt=>this.deleteAnnotation(vt)),this.annotorious.on("selectAnnotation",async vt=>this.onSelect(vt)),this.setVisible(!0),this.ghAuthToken=localStorage.getItem("gh-auth-token")||""}async loadAnnotations(nt){this.imageId=nt,this.setVisible(!1);let rt=[],st=`${annotationsEndpoint}/annotations/${this.base}/${nt}/`;console.log(`Annotator.loadAnnotations: ${st}`);let vt=await fetch(st);return vt.ok&&(vt=await vt.json(),rt=vt.annotations,vt.annotations.length>0&&(rt=vt.annotations.map(bt=>(bt.id=bt.id.split("/").filter(_t=>_t).pop(),bt)),console.log(`Adding ${vt.annotations.length} annotations`))),this.annotorious.setAnnotations(rt),this.annotorious.readOnly&&rt.forEach(bt=>{let _t=this.annoEl(bt.id);_t&&(_t.addEventListener("mouseenter",()=>this.select(bt.id)),_t.addEventListener("mouseleave",()=>this.deselect()),_t.addEventListener("click",()=>navigator.clipboard.writeText(bt.id)))}),rt}setVisible(nt){if(this.selected)this.deselect();else{this.visible=nt;let rt=this.osd.element.querySelector(".a9s-annotationlayer");rt&&(rt.style.visibility=this.visible?"visible":"hidden"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(st=>st.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(nt){console.log("toggleVisibility"),nt&&nt.stopPropagation(),this.setVisible(!this.visible)}onSelect(nt){this.selected=nt.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(nt){return this.osd.element.querySelector(`[data-id="${nt}"]`)}select(nt){var rt;if(nt!==((rt=this.selected)==null?void 0:rt.id)){if(this.deselect(),this.selected=this.annotorious.selectAnnotation(nt),this.selected){let st=this.annoEl(nt);st&&(st.style.visibility="visible")}}else this.deselect()}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(nt=>nt.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=void 0}async createAnnotation(nt){nt.id=sha256(nt.id).slice(0,8),nt.target.id=this.imageId,console.log("createAnnotation",nt);let rt=await fetch(`${annotationsEndpoint}/annotation/`,{method:"POST",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Token: ${this.ghAuthToken}`},body:JSON.stringify({annotation:nt,path:`${this.base}/${this.imageId}`})});if(rt.ok&&rt.status===201){let st=await rt.json();this.annotorious.addAnnotation(st)}else console.log(`createAnnotation: unexpected resp_code=${rt.status}`)}async updateAnnotation(nt){nt.target.id=this.imageId;let rt=`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${nt.id.split("/").pop()}/`;console.log(`updateAnnotation: url=${rt}`);let st=await fetch(rt,{method:"PUT",headers:{"Content-Type":'application/ld+json;profile="http://www.w3.org/ns/anno.jsonld',Authorization:`Bearer: ${this.ghAuthToken}`},body:JSON.stringify(nt)});st.status!==202&&console.log(`updateAnnotation: unexpected resp_code=${st.status}`)}async deleteAnnotation(nt){let rt=await fetch(`${annotationsEndpoint}/annotation/${this.base}/${this.imageId}/${nt.id.split("/").pop()}/`,{method:"DELETE",headers:{Authorization:`Bearer: ${this.ghAuthToken}`}});rt.status!==204&&console.log(`deleteAnnotation: unexpected resp_code=${rt.status}`)}}var badge_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return y$2`
      <slot
        part="base"
        class=${o$1({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      ></slot>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([e2$2({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge=__decorateClass([e$1("sl-badge")],SlBadge);var image_comparer_styles_default=i$4`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(it,nt){function rt(vt){const bt=it.getBoundingClientRect(),_t=it.ownerDocument.defaultView,wt=bt.left+_t.pageXOffset,Et=bt.top+_t.pageYOffset,Tt=vt.pageX-wt,$t=vt.pageY-Et;nt!=null&&nt.onMove&&nt.onMove(Tt,$t)}function st(){document.removeEventListener("pointermove",rt),document.removeEventListener("pointerup",st),nt!=null&&nt.onStop&&nt.onStop()}document.addEventListener("pointermove",rt,{passive:!0}),document.addEventListener("pointerup",st),(nt==null?void 0:nt.initialEvent)instanceof PointerEvent&&rt(nt.initialEvent)}function clamp(it,nt,rt){return it<nt?nt:it>rt?rt:it}var i2=e$2(class extends i$3{constructor(it){var nt;if(super(it),it.type!==t$2.ATTRIBUTE||it.name!=="style"||((nt=it.strings)===null||nt===void 0?void 0:nt.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(it){return Object.keys(it).reduce((nt,rt)=>{const st=it[rt];return st==null?nt:nt+`${rt=rt.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${st};`},"")}update(it,[nt]){const{style:rt}=it.element;if(this.vt===void 0){this.vt=new Set;for(const st in nt)this.vt.add(st);return this.render(nt)}this.vt.forEach(st=>{nt[st]==null&&(this.vt.delete(st),st.includes("-")?rt.removeProperty(st):rt[st]="")});for(const st in nt){const vt=nt[st];vt!=null&&(this.vt.add(st),st.includes("-")?rt.setProperty(st,vt):rt[st]=vt)}return x$2}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.position=50}handleDrag(it){const{width:nt}=this.base.getBoundingClientRect(),rt=this.localize.dir()==="rtl";it.preventDefault(),drag(this.base,{onMove:st=>{this.position=parseFloat(clamp(st/nt*100,0,100).toFixed(2)),rt&&(this.position=100-this.position)},initialEvent:it})}handleKeyDown(it){const nt=this.localize.dir()==="ltr",rt=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(it.key)){const st=it.shiftKey?10:1;let vt=this.position;it.preventDefault(),(nt&&it.key==="ArrowLeft"||rt&&it.key==="ArrowRight")&&(vt-=st),(nt&&it.key==="ArrowRight"||rt&&it.key==="ArrowLeft")&&(vt+=st),it.key==="Home"&&(vt=0),it.key==="End"&&(vt=100),vt=clamp(vt,0,100),this.position=vt}}handlePositionChange(){this.emit("sl-change")}render(){const it=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        id="image-comparer"
        class=${o$1({"image-comparer":!0,"image-comparer--rtl":it})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <slot name="before" part="before" class="image-comparer__before"></slot>

          <slot
            name="after"
            part="after"
            class="image-comparer__after"
            style=${i2({clipPath:it?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          ></slot>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${i2({left:it?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <slot
            name="handle"
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <sl-icon library="system" name="grip-vertical"></sl-icon>
          </slot>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;__decorateClass([i2$2(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([i2$2(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([e2$2({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer=__decorateClass([e$1("sl-image-comparer")],SlImageComparer);const _hoisted_1$b=["draggable"],_hoisted_2$9={id:"content"},_hoisted_3$9={key:0,class:"image-wrapper media-item"},_hoisted_4$7=["src"],_hoisted_5$6=["src"],_hoisted_6$5={key:2,id:"osd"},_hoisted_7$4=["manifest"],_hoisted_8$4=["manifest"],_hoisted_9$3={key:1},_hoisted_10$2=["draggable","onDragstart"],_hoisted_11$1=["src","onClick"],_hoisted_12$1=["src","onClick"],_hoisted_13$1=["manifest"],_hoisted_14$1={key:2},_hoisted_15$1=["slot","src","alt"],_hoisted_16$1={key:3,class:"media-item"},_hoisted_17$1={id:"html5-player",controls:""},_hoisted_18$1=["src","type"],_hoisted_19$1=["manifest"],_hoisted_20$1={key:4,class:"media-item"},_hoisted_21$1={key:0,id:"youtube-placeholder"},_hoisted_22$1={key:1,id:"ve-video-vimeo","data-vimeo-playsinline":"true"},_hoisted_23$1=["muted","autoplay","poster"],_hoisted_24$1=["src","type"],_hoisted_25$1=["manifest"],_hoisted_26$1=["total","current"],_hoisted_27$1={key:0,name:"chat-square",label:"Hide annotations"},_hoisted_28$1={key:1,name:"pencil",label:"Edit annotations"},_hoisted_29={key:2,variant:"danger",pill:""},_hoisted_30={key:0,name:"chat-square",label:"Hide annotations"},_hoisted_31={key:1,name:"chat-square-text",label:"Show annotations"},_hoisted_32={key:2,variant:"danger",pill:""},_hoisted_33=["innerHTML"],_hoisted_34=["innerHTML"],_hoisted_35={id:"media-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},_hoisted_36=["src"],_sfc_main$d=defineComponent({__name:"MediaViewer.ce",props:{manifest:{type:String},src:{type:String},seq:{type:Number,default:1},annoBase:{type:String},base:{type:String},region:{type:String},size:{type:String},rotation:{type:String},quality:{type:String},format:{type:String},options:{type:String},alt:{type:String},caption:{type:String},fit:{type:String},entities:{type:String},zoomOnScroll:{type:Boolean},noCaption:{type:Boolean},noInfoIcon:{type:Boolean},static:{type:Boolean},grid:{type:Boolean},cards:{type:Boolean},compare:{type:Boolean},small:{type:Boolean},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},start:{type:Number},end:{type:Number},poster:{type:String},class:{type:String}},setup(it){const nt=it;function rt(sn,dn){var Ln;dn.stopPropagation(),console.log(sn,dn);let hn=`https://iiif.juncture-digital.org/?manifest=${sn.id}`;console.log("onDrag",hn),(Ln=dn.dataTransfer)==null||Ln.setData("text/uri-list",hn)}const st=ref(null),vt=computed(()=>{var sn;return(sn=st==null?void 0:st.value)==null?void 0:sn.parentNode}),bt=computed(()=>{var sn,dn;return(dn=(sn=st.value)==null?void 0:sn.getRootNode())==null?void 0:dn.host}),_t=computed(()=>{var sn;return(sn=vt.value)==null?void 0:sn.querySelector("#content")}),wt=computed(()=>{var sn;return(sn=vt.value)==null?void 0:sn.querySelector("#outer")}),Et=computed(()=>{var sn;return(sn=vt.value)==null?void 0:sn.querySelector("#inner")});onMounted(()=>Dt());const Tt=nt.position||(isMobile()?"full":nt.right?"right":nt.left?"left":"full");function $t(sn=16/9){nt.sticky&&(makeSticky(bt.value),Et.value.style.paddingTop="6px",wt.value.style.paddingBottom="6px"),Ai.value=rn.value?Number((rn.value.width/rn.value.height).toFixed(4)):sn,bt.value.classList.add("ve-component"),bt.value.classList.add(Tt),Tt==="full"||(bt.value.style.float=Tt,bt.value.style.width="calc(50% - 12px)"),bt.value.style.width=window.getComputedStyle(bt.value).width,_t.value&&(Et.value.style.width=nt.width||"100%"),nextTick(()=>{if(Xi.value=parseInt(window.getComputedStyle(_t.value).width.slice(0,-2)),_t.value.style.width=`${Xi.value}px`,_t.value.style.height=nt.height||(Pi.value==="image-grid"?"":Pi.value==="audio"?"80px":`${Math.round((Xi==null?void 0:Xi.value)/Ai.value)}px`),nn.value=parseInt(window.getComputedStyle(_t.value).height.slice(0,-2)),nt.sticky&&Tt==="full"&&!(nt.width||nt.height)){let dn=Math.round(window.innerHeight*.4),hn=Math.ceil(dn*Ai.value);Pi.value==="image"&&(_t.value.style.height=`${dn}px`),Pi.value!=="image-grid"&&Et.value.classList.add("drop-shadow"),Et.value.style.width=`${hn}px`}nextTick(()=>{Xi.value=parseInt(window.getComputedStyle(Et.value).width.slice(0,-2)),nn.value=parseInt(window.getComputedStyle(_t.value).height.slice(0,-2))})})}function Dt(){var sn;if(nt.src)if(((sn=nt.src)==null?void 0:sn.indexOf("http"))===0){let dn=new URL(nt.src),hn=dn.hostname.replace(/^www\./,"");li.has(hn)?(Pi.value="video",Ui=!0,ki.value=dn.searchParams.get("v"),nextTick(()=>jn())):ai.has(hn)?(Pi.value="video",yn=!0,ki.value=dn.pathname.slice(1),nextTick(()=>ir())):ji.value=Mi()}else ji.value=Mi();else ji.value=Mi();ii()}function Lt(sn){const dn=sn.target.parentElement;dn&&(dn.active=!dn.active)}const Bt=ref();watch$1(Bt,()=>{if(Bt.value){let sn=Bt.value;setTimeout(()=>ui(),100),sn.addHandler("viewport-change",()=>di()),(nt.base||nt.annoBase)&&(jt.value=new Annotator(sn,nt.base||nt.annoBase,Yt.value));let dn=sn.world.getItemAt(0);dn?(nt.rotation&&dn.setRotation(parseInt(nt.rotation),!0),dn.getFullyLoaded()?Ut():dn.addHandler("fully-loaded-change",hn=>{hn.fullyLoaded&&Ut()})):sn.world.addHandler("add-item",()=>{let hn=sn.world.getItemAt(0);nt.rotation&&hn.setRotation(parseInt(nt.rotation),!0),hn.getFullyLoaded()?Ut():hn.addHandler("fully-loaded-change",Ln=>{Ln.fullyLoaded&&Ut()})})}});let Ht;function Ut(sn){var Ln;let dn=ji.value[0],hn=sha256(rn.value.id||rn.value["@id"]).slice(0,8);hn!==Ht&&(jt.value&&jt.value.loadAnnotations(hn).then(wn=>Wt.value=wn),!Ht&&dn.seq===Ni.value&&dn.region&&((Ln=Bt.value)==null||Ln.viewport.fitBounds(parseRegionString(dn.region,Bt.value),!0)),Ht=hn)}function It(sn){return getItemInfo(sn).format==="image/gif"}const jt=ref(),Wt=ref([]),qt=ref(!1),Yt=ref(window.location.pathname.split("/")[1]==="editor");function ti(){qt.value=!qt.value}watch$1(qt,()=>{var dn;jt.value.setVisible(qt.value);let sn=(dn=vt.value)==null?void 0:dn.querySelector("#annotations-icon");Yt.value&&qt.value?sn==null||sn.classList.add("editable"):sn==null||sn.classList.remove("editable")});const oi=ref();let si=null;function di(){si!==null&&(clearTimeout(si),si=null),si=window.setTimeout(()=>ui(),100)}function ui(){var dn,hn;const sn=Bt&&((dn=Bt.value)==null?void 0:dn.world.getItemAt(0));if(sn){let Ln=(hn=Bt.value)==null?void 0:hn.viewport.getBounds();const wn=Ln?sn.viewportToImageRectangle(Ln):null;oi.value=wn?`${Math.ceil(wn.x)},${Math.ceil(wn.y)},${Math.ceil(wn.width)},${Math.ceil(wn.height)}`:""}}const ci=ref();watch$1(vt,()=>{var sn;ci.value=(sn=vt.value)==null?void 0:sn.querySelector("#media-dialog")}),watch$1(ci,sn=>{sn==null||sn.addEventListener("sl-after-hide",()=>hi.value=null),sn==null||sn.addEventListener("sl-show",()=>{ci.value&&(ci.value.panel.style.width=`${wi()}px`)})});const hi=ref();watch$1(hi,sn=>{var dn,hn;sn?(dn=ci.value)==null||dn.show():(hn=ci.value)==null||hn.hide()});function ei(sn=null){hi.value=hi.value?null:sn.src||sn.id}function wi(){var wn;let sn=Math.round(window.innerWidth-100),dn=Math.round(window.innerHeight-150),hn=((wn=hi.value)==null?void 0:wn.indexOf("http"))===0?hi.value:`https://iiif.juncture-digital.org/${hi.value}/manifest.json`,Ln=Ri.value.find(Yi=>decodeURIComponent(Yi.id)===hn);if(Ln){let Yi=getItemInfo(Ln),vn=Number((Yi.width/Yi.height).toFixed(4));sn=vn>=1?sn/vn>dn?sn=dn*vn:sn:Math.round(dn*vn)}return sn}const Kt=ref(nt.caption),Ni=ref(nt.seq),ni=ref(nt.seq);function Fi(sn){Ni.value=sn.detail}const Xi=ref(0),nn=ref(0),Ai=ref(0),ji=ref([]),Ri=ref([]),Vi=ref(null),Qi=ref(null),rn=ref(null),Pi=ref(null),bn=ref(null),Oi=computed(()=>Object.fromEntries(Ri.value.map(sn=>[sha256(decodeURIComponent(sn.id)).slice(0,8),sn])));watch$1(ji,()=>{let sn=ji.value.filter(dn=>dn.iiif).map(dn=>dn.src);loadManifests(sn).then(dn=>{Ri.value=dn,nt.grid?Pi.value="image-grid":Ri.value.length>1&&(Pi.value=Ri.value.length===2?"image-compare":"image-grid")})}),watch$1(Ri,()=>{Vi.value=Ri.value.length>0&&Ri.value[0],Qi.value=ji.value[0]}),watch$1(Vi,()=>{ni.value=imageCount(Vi.value),rn.value=Vi.value?getItemInfo(Vi.value,Ni.value):null}),watch$1(Ni,()=>rn.value=Vi.value?getItemInfo(Vi.value,Ni.value):null);const Ii=ref([]),Gi=computed(()=>{var sn;return(sn=rn.value)==null?void 0:sn.id}),$i=computed(()=>{var dn;let sn=(dn=Gi.value)==null?void 0:dn.split("#")[0].split(".").pop();return sn==="mp4"?"video/mp4":sn==="webm"?"video/webm":"application/ogg"});watch$1(rn,()=>{var sn,dn;Pi.value=Pi.value||((dn=(sn=rn.value)==null?void 0:sn.type)==null?void 0:dn.toLowerCase()),bn.value=Pi.value&&Pi.value==="image"?rn.value.service?`${rn.value.service[0].id||rn.value.service[0]["@id"]}/info.json`:{url:rn.value.id,type:"image",buildPyramid:!0}:null,Bt.value&&Bt.value.open(bn.value),Xi.value||nextTick(()=>$t())}),watch$1(Pi,()=>{En(),nextTick(()=>{Pi.value==="image"&&!It(Vi.value)&&!nt.static?Li():(Pi.value==="video"&&ji.value.length>0||Pi.value==="audio")&&gr(),!Kt.value&&Pi.value==="image"&&(Kt.value=label(Vi.value))})}),watch$1(nn,()=>{Pi.value==="image-compare"&&(Ii.value=_i())});function ii(){let sn=bt.value.parentElement.querySelector("ve-media > ul, ve-media > span");if(sn){const dn=Ln=>{for(let wn of Ln)wn.type==="childList"||wn.type;ji.value=Mi()};new MutationObserver(dn).observe(sn,{childList:!0,subtree:!0,characterData:!0})}}const Nt=RegExp(/^(?<region>(pct:)?([0-9.]+,[0-9.]+,[0-9.]+,[0-9.]+)|full|square)(\/(?<size>full|max|((pct:)?[\d,.!]+)))?(\/(?<rotation>!?\d+))?(\/(?<quality>color|gray|bitonal|default))?(\/(?<format>jpg|tif|png|gif|jp2|pdf|webp))?/),Qt=RegExp(/^(?<mirror>!?)(?<rotation>0|90|180|270){1}/);function Jt(sn){return Nt.test(sn)}function Si(sn){return/^[0-9]+$/.test(sn)}function vi(sn){return Qt.test(sn)}function Mi(){let sn=[],dn=nt.manifest||nt.src;if(dn){let hn={};hn.src=dn,hn.src=hn.src.indexOf("http")===0?hn.src:`https://iiif.juncture-digital.org/${hn.src}/manifest.json`,hn.id=sha256(hn.src).slice(0,8);let wn=new URL(hn.src).hostname.replace(/^www\./,"");if(hn.iiif=!li.has(wn)&&!ai.has(wn),nt.options&&Jt(nt.options)){let Yi=nt.options.match(Nt);Yi&&(hn={...hn,...Yi.groups})}hn.seq=nt.seq,hn.region=nt.region||hn.region,hn.size=nt.size||hn.size,hn.rotation=nt.rotation||hn.rotation,hn.quality=nt.quality||hn.quality,hn.format=nt.format||hn.format,hn.fit=nt.fit,sn.push(hn)}else sn=Array.from(bt.value.querySelectorAll("li")).filter(hn=>hn.innerHTML).map(hn=>{var lr,Dr;let Ln=[],wn=(lr=hn.textContent)==null?void 0:lr.replace(//,'"').replace(//,'"').replace(//,"'").trim();(Dr=wn==null?void 0:wn.match(/[^\s"]+|"([^"]*)"/gmi))==null||Dr.forEach(_r=>{Ln.length>0&&Ln[Ln.length-1].indexOf("=")===Ln[Ln.length-1].length-1?Ln[Ln.length-1]=`${Ln[Ln.length-1]}${_r}`:Ln.push(_r)});let Yi={};Yi.src=Ln[0].indexOf("http")===0?Ln[0]:`https://iiif.juncture-digital.org/${Ln[0]}/manifest.json`,Yi.id=sha256(decodeURIComponent(Yi.src)).slice(0,8);let vn=new URL(Ln[0]),An=vn.hostname.replace(/^www\./,"");li.has(An)?(Yi.youtube=!0,Yi.videoid=vn.searchParams.get("v")):ai.has(An)?Yi.vimeo=!0:Yi.iiif=!0,Yi.iiif=!li.has(An)&&!ai.has(An);for(let _r=1;_r<Ln.length;_r++){let wr=Ln[_r];if(wr.indexOf("=")>0){let cr=wr.split("=");Yi[cr[0]]=cr[1]}else if(Si(wr))Yi.seq=wr;else if(Jt(wr)){let cr=wr.match(Nt);cr&&(Yi={...Yi,...cr.groups})}else if(wr==="cover"||wr==="contain")Yi.fit=wr;else if(vi(wr)){let cr=wr.match(Qt);cr&&(Yi={...Yi,...cr.groups})}else wr==="mirror"?Yi.mirror=!0:Yi.caption=wr[0]==='"'&&wr[wr.length-1]==='"'?wr.slice(1,-1):wr}return Yi});return sn}function _i(){let sn=Xi.value,dn=nn.value,hn=Ai.value;return ji.value.map((Ln,wn)=>{let Yi=getItemInfo(Ri.value[wn],Ln.seq),vn,An,lr,Dr;Ln.region&&([vn,An,lr,Dr]=Ln.region.split(":").pop().split(",").map(or=>parseFloat(or)),Ln.region.split(":")[0]==="pct"&&(vn=Math.round(vn*Yi.width/100),An=Math.round(An*Yi.height/100),lr=Math.round(lr*Yi.width/100),Dr=Math.round(Dr*Yi.height/100)));const _r=lr||Yi.width,wr=Dr||Yi.height,cr=Number((_r/wr).toFixed(4));let Rr=_r,Ao=wr;cr>hn?(Rr=Math.round(wr*hn),Ao=Math.round(Rr/hn)):(Ao=Math.round(_r/hn),Rr=Math.round(Ao*hn));let Yo=Yi.service[0].id||Yi.service[0]["@id"];const ho=(vn||0)+Math.abs(Math.round((Rr-_r)*.5)),Qn=(An||0)+Math.abs(Math.round((Ao-wr)*.5));let rr=`${ho},${Qn},${Rr},${Ao}`;return`${Yo}/${rr}/${sn},${dn}/${Ln.mirror?"!":""}${Ln.rotation||0}/${Ln.quality||"default"}.${Ln.format||"jpg"}`})}function Li(){Bt.value=Ti(),zi(),bn.value&&Bt.value.open(bn.value)}function Ti(){var Ln;const hn={element:((Ln=st.value)==null?void 0:Ln.parentNode).querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:nt.fit==="cover",showNavigationControl:!0,minZoomImageRatio:1,maxZoomPixelRatio:10,showRotationControl:!0,showHomeControl:!0,showZoomControl:!0,showFullPageControl:!0,showNavigator:!1,sequenceMode:!0,showReferenceStrip:!0,animationTime:.5,springStiffness:10,visibilityRatio:1,constrainDuringPan:!0};return openseadragonExports(hn)}function zi(){nt.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:Bt.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:sn=>{var dn;return!((dn=Bt.value)!=null&&dn.isFullPage())&&!sn.originalEvent.ctrlKey&&(sn.preventDefaultAction=!0,sn.stopHandlers=!0),!0}}]})}function Hi(sn){navigator.clipboard&&navigator.clipboard.writeText(sn)}function tn(sn){let dn=sn.name.toLowerCase(),hn=sn.value;return(dn==="enter"||dn==="exit")&&hn.indexOf("|")>0&&([dn,hn]=hn.split("|")),["zoom","zoomto"].indexOf(dn.toLowerCase())===0||/^((pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?\|?([0-9a-f]{8})?$/.test(hn)}function qi(sn){let dn=sn.name.toLowerCase(),hn=sn.value;return(dn==="enter"||dn==="exit")&&hn.indexOf("|")>0&&([dn,hn]=hn.split("|")),dn.toLowerCase()==="play"||/^([0-9:]+)+,?([0-9:]+)?$/.test(hn)}function Wi(sn){let dn=sn.name.toLowerCase(),hn=sn.value.toLowerCase();return dn==="pause"||hn==="pause"}const Cn=new Set(["anno","play","start","zoomto"]);function En(){Array.from(bt.value.querySelectorAll("[enter],[exit]")).forEach(dn=>{$n(dn)&&Fn(dn)});let sn=bt.value.parentElement;for(;sn.parentElement&&sn.tagName!=="BODY";)sn=sn.parentElement;Array.from(sn.querySelectorAll("mark")).forEach(dn=>{let hn=Array.from(dn.attributes).find(Ln=>Cn.has(Ln.name));hn&&$n(dn.parentElement)&&(dn.classList.add(hn.name),dn.addEventListener("click",()=>{(hn==null?void 0:hn.name)==="anno"?on(hn.value):(hn==null?void 0:hn.name)==="zoomto"?Bn(hn.value):(hn==null?void 0:hn.name)==="play"?Rn(hn.value):br()}))})}function $n(sn){let dn=sn.previousSibling;for(;dn;){if(dn.nodeName==="VE-MEDIA")return dn===bt.value?dn:null;dn=dn.previousSibling}for(;sn.parentElement&&sn.tagName!=="MAIN";){sn=sn.parentElement;let hn=sn.querySelector(":scope > ve-media, :scope > p > ve-media");if(hn)return hn===bt.value?hn:null}}function Fn(sn){let dn=sn.classList.contains("active");new MutationObserver(Ln=>{Ln.forEach(wn=>{if(wn.attributeName=="class"){let Yi=wn.target.classList.contains("active");if(dn!==Yi){dn=Yi;let vn=sn.attributes.getNamedItem(Yi?"enter":"exit");vn&&(Pi.value==="image"&&tn(vn)&&Bn(vn.value),Pi.value!=="image"&&(qi(vn)?Rn(vn.value):Wi(vn)&&br()))}}})}).observe(sn,{attributes:!0})}function Rn(sn){sn=sn.replace(/^play\|/i,"");const dn=sn.match(/^([0-9:]+)+,?([0-9:]+)?$/);dn&&Ir(dn[1],dn[2])}function br(){Po()}function Bn(sn){var hn,Ln,wn,Yi;sn=sn.replace(/^zoomto\|/i,"");const dn=sn==null?void 0:sn.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?,?(?<annoid>[0-9a-f]{8})?$/);if(dn){let vn=(hn=dn==null?void 0:dn.groups)==null?void 0:hn.region,An=(Ln=dn==null?void 0:dn.groups)==null?void 0:Ln.annoid;An&&jt.value.selected&&jt.value.selected.id===An?(wn=Bt.value)==null||wn.viewport.goHome():vn&&((Yi=Bt.value)==null||Yi.viewport.fitBounds(parseRegionString(vn,Bt.value),!1)),An&&jt.value.select(An)}}function on(sn){var hn,Ln;const dn=sn==null?void 0:sn.match(/^(?<annoid>[0-9a-f]{8})$/);if(dn){let wn=(hn=dn==null?void 0:dn.groups)==null?void 0:hn.annoid;wn&&jt.value.selected&&jt.value.selected.id===wn?(Ln=Bt.value)==null||Ln.viewport.goHome():jt.value.select(wn)}}const li=new Set(["youtube.com","youtube.co.uk","youtu.be"]),ai=new Set(["vimeo.com"]);let xi=null;const ki=ref(),Ki=ref(!0),gn=ref(!1);let Ui=!1,yn=!1,an=!1,Tn=null,Dn=!0,Hn={};function Mn(){Hn.value=Object.fromEntries(Array.from(bt.value.parentElement.querySelectorAll("p[data-start]")).map(sn=>[Fr(sn.dataset.start||"0"),sn]))}async function sr(sn){let hn=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${sn}`)}&format=json`,wn=await(await fetch(hn)).json();return wn.aspect=wn.width/wn.height,wn}async function jn(){let sn=await sr(ki.value);Mn(),nextTick(()=>{$t(sn.aspect),nextTick(()=>{var wn;let dn=(wn=vt.value)==null?void 0:wn.querySelector("#youtube-placeholder"),hn=parseInt(window.getComputedStyle(dn).width.slice(0,-2));dn.style.height=`${hn/sn.aspect}px`;let Ln={color:"white",rel:0,modestbranding:1,playsinline:1};xi=YouTubePlayer(dn,{videoId:ki.value,width:hn,playerVars:Ln}),xi.on("ready",Yi=>{nr(),nt.autoplay&&Ir(`${nt.start||""}`,`${nt.end||""}`)})})})}async function ir(){var dn;$t();let sn=(dn=vt.value)==null?void 0:dn.querySelector("#ve-video-vimeo");xi=new Player(sn,{id:ki.value,width:parseInt(window.getComputedStyle(sn).width.slice(0,-2))}),xi.on("loaded",()=>{$t(sn.clientWidth/sn.clientHeight-5),nr()})}function gr(){Mn(),an=!0,nextTick(()=>{var sn;xi=(sn=vt.value)==null?void 0:sn.querySelector("#html5-player"),nr()}),$t()}async function nr(){let sn=bt.value.parentElement.querySelector("ve-media"),dn=!1;setInterval(async()=>{if(Ki.value=await ur(),gn.value=await zn(),gn.value&&nt.sticky&&Object.keys(Hn.value).length>0&&!dn){let hn=sn.getBoundingClientRect().top+window.scrollY-top$1();window.scrollTo(0,hn),dn=!0}gn.value&&Wr().then(hn=>{if(hn=Math.round(hn),Hn.value[hn]){let wn=Hn.value[hn].getBoundingClientRect();window.scrollTo(0,wn.top+window.scrollY-sn.getBoundingClientRect().bottom)}})},1e3)}function Po(){Ui?xi.pauseVideo():(yn||an)&&xi.pause()}async function Wr(){if(Ui)return xi.getCurrentTime();if(yn)return await xi.getCurrentTime();if(an)return xi.currentTime}async function zn(){return Ui?await xi.getPlayerState()===1:yn?!(await xi.getEnded()||await xi.getPaused()):an?!(xi.ended||xi.paused):!1}async function ur(){return Ui?await xi.isMuted():yn?await xi.getMuted():await nt.muted}function Nr(sn){Ui?sn?xi.mute():xi.unMute():yn?xi.setMuted(sn):an&&(xi.muted=sn)}function Fr(sn){var dn=sn.split(":").slice(0,3).map(wn=>parseInt(wn,10));let hn=0,Ln=1;for(;dn.length>0;){let wn=dn.pop()||0;hn+=Ln*wn,Ln*=60}return hn}function Ir(sn,dn=""){console.log(`seekTo: start=${sn} end=${dn}`);let hn=Fr(sn),Ln=dn?Fr(dn)+1:-1;Tn&&(clearTimeout(Tn),Tn=null);let wn=Ki.value;if(Ui?(xi.playVideo(),xi.seekTo(hn).then(Yi=>{Ln>=hn&&(Tn=setTimeout(()=>{xi.pauseVideo().then(vn=>{Tn=null,!wn&&Dn&&Nr(!1)})},Ln===hn?200:(Ln-hn)*1e3))})):yn?(xi.setCurrentTime(hn),xi.play().then(Yi=>{Ln>=hn&&(Tn=setTimeout(()=>{xi.pause().then(vn=>{Tn=null,!wn&&Dn&&Nr(!1)})},Ln===hn?200:(Ln-hn)*1e3))})):an&&setTimeout(()=>{xi.play(),xi.currentTime=hn,Ln>=hn&&(Tn=setTimeout(()=>{Tn=null,xi.pause(),!wn&&Dn&&Nr(!1)},Ln===hn?200:(Ln-hn)*1e3))},200),Hn.value[hn]){let vn=Hn.value[hn].getBoundingClientRect(),An=bt.value.parentElement.querySelector("ve-media");window.scrollTo(0,vn.top+window.scrollY-An.getBoundingClientRect().bottom)}}return(sn,dn)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"root",ref:st},sn.$attrs),null,16),createBaseVNode("div",{id:"outer",class:normalizeClass(Yt.value?"edit":"view"),draggable:Pi.value==="image",onDragstart:dn[2]||(dn[2]=hn=>rt(Vi.value,hn))},[createBaseVNode("div",{id:"inner",class:normalizeClass(Pi.value)},[createBaseVNode("div",_hoisted_2$9,[Pi.value==="image"?(openBlock(),createElementBlock("div",_hoisted_3$9,[It(Ri.value[0])?(openBlock(),createElementBlock("ve-gif",{key:0,src:rn.value.id,alt:"Animated GIF","initially-paused":"","restart-on-play":""},null,8,_hoisted_4$7)):it.static?(openBlock(),createElementBlock("img",{key:1,src:unref(staticImage)(Vi.value,Qi.value,Xi.value),style:{width:"100%"},onClick:dn[0]||(dn[0]=hn=>ei(Vi.value))},null,8,_hoisted_5$6)):(openBlock(),createElementBlock("div",_hoisted_6$5)),nt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:3,manifest:Ri.value[0].id},null,8,_hoisted_7$4))])):Pi.value==="image-grid"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`grid-wrapper${nt.small?" small":""}`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ji.value,(hn,Ln)=>(openBlock(),createElementBlock(Fragment,null,[nt.cards?(openBlock(),createElementBlock("ve-media-card",{key:0,style:{width:"100%",height:"100%"},manifest:hn.src},null,8,_hoisted_8$4)):(openBlock(),createElementBlock("div",_hoisted_9$3,[createBaseVNode("div",{class:"media-item",draggable:Pi.value==="image",onDragstart:wn=>rt(unref(Oi)[hn.id],wn)},[hn.iiif?(openBlock(),createElementBlock("img",{key:0,src:unref(thumbnail)(unref(Oi)[hn.id]),onClick:wn=>ei(hn)},null,8,_hoisted_11$1)):hn.youtube?(openBlock(),createElementBlock("img",{key:1,src:`https://img.youtube.com/vi/${hn.videoid}/0.jpg`,onClick:wn=>ei(hn)},null,8,_hoisted_12$1)):createCommentVNode("",!0),hn.iiif?(openBlock(),createElementBlock("ve-manifest-popup",{key:2,manifest:hn.src},null,8,_hoisted_13$1)):createCommentVNode("",!0)],40,_hoisted_10$2)]))],64))),256))],2)):Pi.value==="image-compare"?(openBlock(),createElementBlock("div",_hoisted_14$1,[createBaseVNode("sl-image-comparer",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Ii.value,(hn,Ln)=>(openBlock(),createElementBlock("img",{key:`img-${Ln}`,slot:Ln===0?"before":"after",src:hn,alt:unref(label)(Ri.value[Ln])},null,8,_hoisted_15$1))),128))])])):Pi.value==="audio"?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("audio",_hoisted_17$1,[createBaseVNode("source",{src:unref(Gi),type:unref($i)},null,8,_hoisted_18$1)]),nt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:Ri.value[0].id},null,8,_hoisted_19$1))])):Pi.value==="video"?(openBlock(),createElementBlock("div",_hoisted_20$1,[unref(Ui)?(openBlock(),createElementBlock("div",_hoisted_21$1)):unref(yn)?(openBlock(),createElementBlock("div",_hoisted_22$1)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("video",{id:"html5-player",controls:"",playsinline:"",muted:nt.muted,autoplay:nt.autoplay,poster:nt.poster},[createBaseVNode("source",{src:unref(Gi),type:unref($i)},null,8,_hoisted_24$1)],8,_hoisted_23$1),nt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:Ri.value[0].id},null,8,_hoisted_25$1))],64))])):createCommentVNode("",!0)]),Pi.value==="image"&&ni.value>1?(openBlock(),createElementBlock("ve-pager",{key:0,total:ni.value,current:Ni.value,onImageSelected:Fi},null,40,_hoisted_26$1)):createCommentVNode("",!0),Kt.value&&!nt.noCaption?(openBlock(),createElementBlock("div",{key:1,id:"caption-bar",onClick:Lt},[Pi.value==="image"?(openBlock(),createElementBlock("div",{key:0,id:"annotations-icon",class:"button-icon-with-badge",onClick:ti},[Yt.value?(openBlock(),createElementBlock(Fragment,{key:0},[qt.value?(openBlock(),createElementBlock("sl-icon-button",_hoisted_27$1)):(openBlock(),createElementBlock("sl-icon-button",_hoisted_28$1)),!qt.value&&Wt.value.length>0?(openBlock(),createElementBlock("sl-badge",_hoisted_29,toDisplayString(Wt.value.length),1)):createCommentVNode("",!0)],64)):Wt.value.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[qt.value?(openBlock(),createElementBlock("sl-icon-button",_hoisted_30)):(openBlock(),createElementBlock("sl-icon-button",_hoisted_31)),qt.value?createCommentVNode("",!0):(openBlock(),createElementBlock("sl-badge",_hoisted_32,toDisplayString(Wt.value.length),1))],64)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",{class:"label",innerHTML:Kt.value},null,8,_hoisted_33)])):createCommentVNode("",!0),oi.value?(openBlock(),createElementBlock("div",{key:2,id:"coords",innerHTML:oi.value,onClick:dn[1]||(dn[1]=hn=>Hi(oi.value||""))},null,8,_hoisted_34)):createCommentVNode("",!0)],2),createBaseVNode("sl-dialog",_hoisted_35,[hi.value?(openBlock(),createElementBlock("ve-media",{key:0,src:hi.value,"zoom-on-scroll":""},null,8,_hoisted_36)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:ei,variant:"primary"},"Close")])],42,_hoisted_1$b)],64))}}),_style_0$8=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}*{box-sizing:border-box}:host{display:block;padding-bottom:6px}.info-icon{position:absolute;top:12px;right:12px;width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center;visibility:hidden}.media-item:hover .info-icon{visibility:visible;transition:all .3s ease-in}.manifest-popover{background-color:#fff;border-radius:6px;width:300px;height:400px;overflow-y:scroll;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#outer{position:relative;width:100%;background-color:#fff;display:flex;justify-items:center}#outer{margin-bottom:12px}#inner{margin:auto;width:100%}#inner.image,.drop-shadow{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#content{width:100%}#osd,video{width:100%;height:100%}#caption-bar{display:flex;gap:6px;width:100%;align-items:center;height:32px;background-color:#555}#caption-bar .label{color:#fff;padding:0 9px;font-size:1.1rem;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.image-wrapper{position:relative;height:100%;width:100%}.grid-wrapper{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper.small{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper>.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}.grid-wrapper img{border:1px solid #ccc;box-shadow:2px 2px 6px #0000004d;max-width:100%;cursor:pointer}#coords{position:absolute;display:flex;align-items:center;justify-content:flex-end;font-family:sans-serif;bottom:0;right:0;width:130px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#coords:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy}.info-icon span{position:absolute;top:20px;right:20px;font-size:24px;z-index:2;opacity:0;border-radius:50%;border:1px solid white;background-color:#0003}.media-item{position:relative}.media-item:hover .info-icon span{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:pointer;color:#fff}.info-icon:hover svg{fill:#000}.view .r6o-footer{display:none}.r6o-readonly-comment{display:inline}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important;line-height:1.4;padding:9px;border-bottom:none}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}ul.annotations{list-style:none;padding-left:0}.annotations li{display:flex;align-items:center;gap:6px;padding:6px 0}.annotations li:hover{background-color:#fff3;cursor:pointer}.compare{height:100%;width:100%;position:relative;overflow:hidden;border:5px solid #bfc0c1;box-shadow:-3px 5px 15px #000}.compare img{width:100%;height:100%;position:absolute}#compare-img-2{clip-path:polygon(0 0,50% 0,50% 100%,0 100%)}#slider{position:relative;-webkit-appearance:none;width:calc(100% + 40px);height:100%;margin-left:-20px;background-color:transparent;outline:none}#slider::-webkit-slider-thumb{-webkit-appearance:none;height:45px;width:45px;background:rgba(255,255,255,.3);border:4px solid white;border-radius:50%;background-size:contain;cursor:pointer}audio#html5-player{width:calc(100% - 60px);max-width:50vh}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.popup-overview sl-popup{--arrow-color: var(--sl-color-primary-600)}.popup-overview span[slot=anchor]{display:inline-block;width:150px;height:150px;border:dashed 2px var(--sl-color-neutral-600);margin:50px}.popup-overview .box{width:100px;height:50px;background:var(--sl-color-primary-600);border-radius:var(--sl-border-radius-medium)}.popup-overview-options{display:flex;flex-wrap:wrap;align-items:end;gap:1rem}.popup-overview-options sl-select{width:160px}.popup-overview-options sl-input{width:100px}.popup-overview-options+.popup-overview-options{margin-top:1rem}sl-popup{--arrow-color: var(--sl-color-primary-600)}.media-item .box{width:300px;height:600px;background:white;border-radius:var(--sl-border-radius-medium)}#annotations-icon{position:relative;cursor:pointer}#annotations-icon sl-icon-button::part(base){color:#fff;font-size:1.2rem;padding:3px}.button-icon-with-badge{display:inline-block;position:relative;margin:0 6px}.button-icon-with-badge sl-badge{position:absolute;left:70%;top:0;cursor:pointer}.button-icon-with-badge sl-badge::part(base){font-size:.7rem;background-color:#ff0;color:#000;font-weight:700;padding:4px 5px 1px;border:unset}#youtube-placeholder,#ve-video-vimeo{width:100%}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,MediaViewer=_export_sfc(_sfc_main$d,[["styles",[_style_0$8]]]),_hoisted_1$a=createBaseVNode("input",{class:"menu-btn",type:"checkbox",id:"menu-btn"},null,-1),_hoisted_2$8={key:0,class:"wrapper"},_hoisted_3$8=createBaseVNode("label",{class:"menu-icon",htmlFor:"menu-btn"},[createBaseVNode("span",{class:"navicon"})],-1),_hoisted_4$6=["onClick"],_hoisted_5$5=["name"],_hoisted_6$4=["contact"],_sfc_main$c=defineComponent({__name:"Menu.ce",props:{background:{type:String},position:{type:String,default:"left"},contact:{type:String}},setup(it){const nt=it,rt={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","beta.juncture-digital.org":"f30ce4168a0bb95ecaa3","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","tools.juncture-digital.org":"0b40086fe912d97c03e6"},st={about:{icon:"info-circle-fill"},contact:{icon:"envelope-fill"},documentation:{icon:"book"},docs:{icon:"book"},editor:{icon:"pencil",loginRequired:!0},essays:{icon:"pencil"},help:{icon:"question-circle"},home:{icon:"house-fill"},"how to":{icon:"book-fill"},link:{icon:"link-45deg"},login:{icon:"person-circle"},logout:{icon:"person-circle"},markdown:{icon:"markdown"},media:{icon:"images",loginRequired:!0},showcase:{icon:"easel2"},tools:{icon:"tools",loginRequired:!0}},vt=ref(null),bt=computed(()=>{var ti,oi;return(oi=(ti=vt.value)==null?void 0:ti.getRootNode())==null?void 0:oi.host}),_t=computed(()=>{var ti;return(ti=vt==null?void 0:vt.value)==null?void 0:ti.parentNode}),wt=ref(!1),Et=ref([]),Tt=ref();let $t,Dt;onMounted(()=>{Lt(),nextTick(()=>{var oi;let ti=Array.from(((oi=bt.value.children[0])==null?void 0:oi.children)||[]);ti.length>0&&(Et.value=ti.map(si=>{if(si.firstChild.nodeName==="A"){let di=si.firstChild;return{label:di.textContent,href:di.href,newWindow:di.getAttribute("target")==="_blank"}}else{let di=si.firstChild.textContent;return di.toLowerCase()==="auth"?{label:wt.value?"Logout":"Login",href:wt.value?"logout":"login"}:{label:di}}}).filter(si=>si.label.toLowerCase().indexOf("contact")!==0||nt.contact))})});function Lt(){wt.value=Bt()!==null;let ti=new URL(window.location.href).searchParams.get("code");if(ti){window.history.replaceState({},"",window.location.pathname);let si=window.location.hostname==="localhost"||window.location.hostname.indexOf("192.168.")===0?`http://${window.location.hostname}:8000/gh-token?code=${ti}&hostname=${window.location.hostname}`:`https://api.juncture-digital.org/gh-token?code=${ti}&hostname=${window.location.hostname}`;console.log("token url:",si),fetch(si).then(di=>di.text()).then(di=>{di&&(wt.value=!0,localStorage.setItem("gh-auth-token",di),window.dispatchEvent(new Event("storage")))}).catch(di=>console.log("err",di))}bt.value.classList.add(nt.position)}watch$1(Et,()=>{Tt.value=Et.value.filter(ti=>{var si;let oi=ti.href?ti.href.split("/").filter(di=>di).pop().toLowerCase():"link";return!st[oi]||!((si=st[oi])!=null&&si.loginRequired)||wt.value}).map(ti=>ti.label==="Login"||ti.label==="Logout"?{label:wt.value?"Logout":"Login",href:wt.value?"logout":"login"}:ti)}),watch$1(wt,()=>{Tt.value=Et.value.filter(ti=>{var si;let oi=ti.href?ti.href.split("/").filter(di=>di).pop().toLowerCase():"link";return!st[oi]||!((si=st[oi])!=null&&si.loginRequired)||wt.value}).map(ti=>ti.label==="Login"||ti.label==="Logout"?{label:wt.value?"Logout":"Login",href:wt.value?"logout":"login"}:ti)});function Bt(){return localStorage.getItem("gh-auth-token")}function Ht(){var oi;let ti=(oi=_t.value)==null?void 0:oi.querySelector("ve-contact");ti._instance.exposed.show.value=!0}function Ut(){$t&&$t.close();let oi=window.location.hostname==="localhost"||window.location.hostname.indexOf("192.168.")===0?`http://${window.location.hostname}:8080/help`:"https://beta.juncture-digital.org/help",si="toolbar=yes,location=yes,left=0,top=0,width=1040,height=1200,scrollbars=yes,status=yes";$t=window.open(oi,"_blank",si)}function It(){var oi;let ti=(oi=_t.value)==null?void 0:oi.querySelector("#markdown");ti.show=!ti.show}function jt(){let ti=new URL(window.location.href).hostname,oi=ti==="localhost"||ti.indexOf("192.168.")===0,si=oi?`${window.location.origin}${window.location.pathname}?code=testing`:rt[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${rt[location.hostname]}&scope=repo&state=juncture&redirect_uri=${location.href}`:null;console.log(`login: hostname=${ti} isDev=${oi} href=${si}`),si&&(window.location.href=si)}function Wt(){console.log("logout"),Object.keys(localStorage).forEach(ti=>localStorage.removeItem(ti)),window.dispatchEvent(new Event("storage")),wt.value=!1}function qt(ti){let oi="",si=ti.label.toLowerCase();return Object.keys(st).forEach(di=>{si.indexOf(di)>=0&&(oi=st[di].icon)}),oi||"link"}function Yt(ti){var si;console.log("menuItemSelected",ti);let oi=ti.href?ti.href.split("/").pop().toLowerCase():"";if((oi.indexOf("contact")===0||ti.label.toLowerCase().indexOf("contact")===0)&&nt.contact)Ht();else if(oi==="login")jt();else if(oi==="logout")Wt();else if(oi==="help")Ut();else if(oi==="markdown")It();else if(ti.href)if(ti.newWindow)Dt&&Dt.close(),Dt=window.open(ti.href,"_blank","toolbar=yes,location=yes,left=0,top=0,width=1024,height=1200,scrollbars=yes,status=yes");else if(ti.href.indexOf("/window.")>0){let di=ti.href.split("/window.").pop();window[di]()}else location.href=ti.href;((si=_t.value)==null?void 0:si.querySelector("#menu-btn")).checked=!1}return(ti,oi)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:vt},[createBaseVNode("div",{class:"nav",style:normalizeStyle({backgroundColor:nt.background})},[_hoisted_1$a,Tt.value?(openBlock(),createElementBlock("div",_hoisted_2$8,[_hoisted_3$8,createBaseVNode("ul",{class:"menu",style:normalizeStyle({backgroundColor:nt.background||"#444"})},[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tt.value,(si,di)=>(openBlock(),createElementBlock("li",{key:`nav-${di}`,onClick:ui=>Yt(si)},[createBaseVNode("sl-icon",{slot:"prefix",name:qt(si),label:"item.label"},null,8,_hoisted_5$5),createTextVNode(" "+toDisplayString(si.label),1)],8,_hoisted_4$6))),128))],4)])):createCommentVNode("",!0)],4),createBaseVNode("ve-contact",{contact:nt.contact},null,8,_hoisted_6$4)],512))}}),_style_0$7=`:host,ve-menu{height:100%}:host(.right) .menu,ve-menu.right .menu{right:0}.hydrated ul{display:none}.nav{display:inline-block;position:relative;z-index:10;height:100%;background-color:inherit}.menu{display:none;clear:both;max-height:0;transition:max-height .2s ease-out;position:absolute;top:58px;width:200px;background-color:#0009;color:#fff}ul.menu{padding:0;list-style:none}.menu li{display:flex;padding:10px 20px;text-decoration:none;cursor:pointer;font-size:1rem}.menu li:hover{text-decoration:underline;background-color:inherit;filter:brightness(150%)}.menu-icon{cursor:pointer;display:inline-block;padding:34px 20px;position:relative;user-select:none}.menu-icon .navicon,.menu-icon .navicon:before,.menu-icon .navicon:after{background:#fff}.menu-icon .navicon{display:block;height:4px;border-radius:2px;position:relative;transition:background .2s ease-out;width:32px}.menu-icon .navicon:before,.menu-icon .navicon:after{content:"";display:block;height:100%;position:absolute;transition:all .2s ease-out;width:100%;border-radius:2px}.menu-icon .navicon:before{top:10px}.menu-icon .navicon:after{top:-10px}.menu sl-icon{padding-right:12px}.menu-btn{display:none}.menu-btn:checked~.wrapper{filter:brightness(150%);background-color:inherit}.menu-btn:checked~.wrapper .menu{max-height:unset;display:block}.menu-btn:checked~.wrapper .menu-icon .navicon{background:transparent}.menu-btn:checked~.wrapper .menu-icon .navicon:before{transform:rotate(-45deg)}.menu-btn:checked~.wrapper .menu-icon .navicon:after{transform:rotate(45deg)}.menu-btn:checked~.wrapper .menu-icon:not(.steps) .navicon:before,.menu-btn:checked~.wrapper .menu-icon:not(.steps) .navicon:after{top:0}
`,Menu=_export_sfc(_sfc_main$c,[["styles",[_style_0$7]]]);function commonjsRequire(it){throw new Error('Could not dynamically require "'+it+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var moment_min={exports:{}};(function(it,nt){(function(rt,st){it.exports=st()})(commonjsGlobal$1,function(){var rt;function st(){return rt.apply(null,arguments)}function vt(Ft){return Ft instanceof Array||Object.prototype.toString.call(Ft)==="[object Array]"}function bt(Ft){return Ft!=null&&Object.prototype.toString.call(Ft)==="[object Object]"}function _t(Ft,Xt){return Object.prototype.hasOwnProperty.call(Ft,Xt)}function wt(Ft){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(Ft).length===0;for(var Xt in Ft)if(_t(Ft,Xt))return;return 1}function Et(Ft){return Ft===void 0}function Tt(Ft){return typeof Ft=="number"||Object.prototype.toString.call(Ft)==="[object Number]"}function $t(Ft){return Ft instanceof Date||Object.prototype.toString.call(Ft)==="[object Date]"}function Dt(Ft,Xt){for(var gi=[],Ei=Ft.length,Bi=0;Bi<Ei;++Bi)gi.push(Xt(Ft[Bi],Bi));return gi}function Lt(Ft,Xt){for(var gi in Xt)_t(Xt,gi)&&(Ft[gi]=Xt[gi]);return _t(Xt,"toString")&&(Ft.toString=Xt.toString),_t(Xt,"valueOf")&&(Ft.valueOf=Xt.valueOf),Ft}function Bt(Ft,Xt,gi,Ei){return qr(Ft,Xt,gi,Ei,!0).utc()}function Ht(Ft){return Ft._pf==null&&(Ft._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),Ft._pf}function Ut(Ft){if(Ft._isValid==null){var Xt=Ht(Ft),gi=jt.call(Xt.parsedDateParts,function(Ei){return Ei!=null}),gi=!isNaN(Ft._d.getTime())&&Xt.overflow<0&&!Xt.empty&&!Xt.invalidEra&&!Xt.invalidMonth&&!Xt.invalidWeekday&&!Xt.weekdayMismatch&&!Xt.nullInput&&!Xt.invalidFormat&&!Xt.userInvalidated&&(!Xt.meridiem||Xt.meridiem&&gi);if(Ft._strict&&(gi=gi&&Xt.charsLeftOver===0&&Xt.unusedTokens.length===0&&Xt.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(Ft))return gi;Ft._isValid=gi}return Ft._isValid}function It(Ft){var Xt=Bt(NaN);return Ft!=null?Lt(Ht(Xt),Ft):Ht(Xt).userInvalidated=!0,Xt}var jt=Array.prototype.some||function(Ft){for(var Xt=Object(this),gi=Xt.length>>>0,Ei=0;Ei<gi;Ei++)if(Ei in Xt&&Ft.call(this,Xt[Ei],Ei,Xt))return!0;return!1},Wt=st.momentProperties=[],qt=!1;function Yt(Ft,Xt){var gi,Ei,Bi,un=Wt.length;if(Et(Xt._isAMomentObject)||(Ft._isAMomentObject=Xt._isAMomentObject),Et(Xt._i)||(Ft._i=Xt._i),Et(Xt._f)||(Ft._f=Xt._f),Et(Xt._l)||(Ft._l=Xt._l),Et(Xt._strict)||(Ft._strict=Xt._strict),Et(Xt._tzm)||(Ft._tzm=Xt._tzm),Et(Xt._isUTC)||(Ft._isUTC=Xt._isUTC),Et(Xt._offset)||(Ft._offset=Xt._offset),Et(Xt._pf)||(Ft._pf=Ht(Xt)),Et(Xt._locale)||(Ft._locale=Xt._locale),0<un)for(gi=0;gi<un;gi++)Et(Bi=Xt[Ei=Wt[gi]])||(Ft[Ei]=Bi);return Ft}function ti(Ft){Yt(this,Ft),this._d=new Date(Ft._d!=null?Ft._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),qt===!1&&(qt=!0,st.updateOffset(this),qt=!1)}function oi(Ft){return Ft instanceof ti||Ft!=null&&Ft._isAMomentObject!=null}function si(Ft){st.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+Ft)}function di(Ft,Xt){var gi=!0;return Lt(function(){if(st.deprecationHandler!=null&&st.deprecationHandler(null,Ft),gi){for(var Ei,Bi,un=[],_n=arguments.length,xn=0;xn<_n;xn++){if(Ei="",typeof arguments[xn]=="object"){for(Bi in Ei+=`
[`+xn+"] ",arguments[0])_t(arguments[0],Bi)&&(Ei+=Bi+": "+arguments[0][Bi]+", ");Ei=Ei.slice(0,-2)}else Ei=arguments[xn];un.push(Ei)}si(Ft+`
Arguments: `+Array.prototype.slice.call(un).join("")+`
`+new Error().stack),gi=!1}return Xt.apply(this,arguments)},Xt)}var ui={};function ci(Ft,Xt){st.deprecationHandler!=null&&st.deprecationHandler(Ft,Xt),ui[Ft]||(si(Xt),ui[Ft]=!0)}function hi(Ft){return typeof Function<"u"&&Ft instanceof Function||Object.prototype.toString.call(Ft)==="[object Function]"}function ei(Ft,Xt){var gi,Ei=Lt({},Ft);for(gi in Xt)_t(Xt,gi)&&(bt(Ft[gi])&&bt(Xt[gi])?(Ei[gi]={},Lt(Ei[gi],Ft[gi]),Lt(Ei[gi],Xt[gi])):Xt[gi]!=null?Ei[gi]=Xt[gi]:delete Ei[gi]);for(gi in Ft)_t(Ft,gi)&&!_t(Xt,gi)&&bt(Ft[gi])&&(Ei[gi]=Lt({},Ei[gi]));return Ei}function wi(Ft){Ft!=null&&this.set(Ft)}st.suppressDeprecationWarnings=!1,st.deprecationHandler=null;var Kt=Object.keys||function(Ft){var Xt,gi=[];for(Xt in Ft)_t(Ft,Xt)&&gi.push(Xt);return gi};function Ni(Ft,Xt,gi){var Ei=""+Math.abs(Ft);return(0<=Ft?gi?"+":"":"-")+Math.pow(10,Math.max(0,Xt-Ei.length)).toString().substr(1)+Ei}var ni=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Fi=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Xi={},nn={};function Ai(Ft,Xt,gi,Ei){var Bi=typeof Ei=="string"?function(){return this[Ei]()}:Ei;Ft&&(nn[Ft]=Bi),Xt&&(nn[Xt[0]]=function(){return Ni(Bi.apply(this,arguments),Xt[1],Xt[2])}),gi&&(nn[gi]=function(){return this.localeData().ordinal(Bi.apply(this,arguments),Ft)})}function ji(Ft,Xt){return Ft.isValid()?(Xt=Ri(Xt,Ft.localeData()),Xi[Xt]=Xi[Xt]||function(gi){for(var Ei,Bi=gi.match(ni),un=0,_n=Bi.length;un<_n;un++)nn[Bi[un]]?Bi[un]=nn[Bi[un]]:Bi[un]=(Ei=Bi[un]).match(/\[[\s\S]/)?Ei.replace(/^\[|\]$/g,""):Ei.replace(/\\/g,"");return function(xn){for(var Un="",Vn=0;Vn<_n;Vn++)Un+=hi(Bi[Vn])?Bi[Vn].call(xn,gi):Bi[Vn];return Un}}(Xt),Xi[Xt](Ft)):Ft.localeData().invalidDate()}function Ri(Ft,Xt){var gi=5;function Ei(Bi){return Xt.longDateFormat(Bi)||Bi}for(Fi.lastIndex=0;0<=gi&&Fi.test(Ft);)Ft=Ft.replace(Fi,Ei),Fi.lastIndex=0,--gi;return Ft}var Vi={};function Qi(Ft,Xt){var gi=Ft.toLowerCase();Vi[gi]=Vi[gi+"s"]=Vi[Xt]=Ft}function rn(Ft){return typeof Ft=="string"?Vi[Ft]||Vi[Ft.toLowerCase()]:void 0}function Pi(Ft){var Xt,gi,Ei={};for(gi in Ft)_t(Ft,gi)&&(Xt=rn(gi))&&(Ei[Xt]=Ft[gi]);return Ei}var bn={};function Oi(Ft,Xt){bn[Ft]=Xt}function Ii(Ft){return Ft%4==0&&Ft%100!=0||Ft%400==0}function Gi(Ft){return Ft<0?Math.ceil(Ft)||0:Math.floor(Ft)}function $i(Xt){var Xt=+Xt,gi=0;return gi=Xt!=0&&isFinite(Xt)?Gi(Xt):gi}function ii(Ft,Xt){return function(gi){return gi!=null?(Qt(this,Ft,gi),st.updateOffset(this,Xt),this):Nt(this,Ft)}}function Nt(Ft,Xt){return Ft.isValid()?Ft._d["get"+(Ft._isUTC?"UTC":"")+Xt]():NaN}function Qt(Ft,Xt,gi){Ft.isValid()&&!isNaN(gi)&&(Xt==="FullYear"&&Ii(Ft.year())&&Ft.month()===1&&Ft.date()===29?(gi=$i(gi),Ft._d["set"+(Ft._isUTC?"UTC":"")+Xt](gi,Ft.month(),an(gi,Ft.month()))):Ft._d["set"+(Ft._isUTC?"UTC":"")+Xt](gi))}var Jt=/\d/,vr=/\d\d/,Si=/\d{3}/,xa=/\d{4}/,ta=/[+-]?\d{6}/,vi=/\d\d?/,Mi=/\d\d\d\d?/,_i=/\d\d\d\d\d\d?/,Li=/\d{1,3}/,ko=/\d{1,4}/,fo=/[+-]?\d{1,6}/,Ti=/\d+/,zi=/[+-]?\d+/,Hi=/Z|[+-]\d\d:?\d\d/gi,tn=/Z|[+-]\d\d(?::?\d\d)?/gi,qi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Wi(Ft,Xt,gi){$n[Ft]=hi(Xt)?Xt:function(Ei,Bi){return Ei&&gi?gi:Xt}}function Cn(Ft,Xt){return _t($n,Ft)?$n[Ft](Xt._strict,Xt._locale):new RegExp(En(Ft.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(gi,Ei,Bi,un,_n){return Ei||Bi||un||_n})))}function En(Ft){return Ft.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var $n={},Fn={};function Rn(Ft,Xt){var gi,Ei,Bi=Xt;for(typeof Ft=="string"&&(Ft=[Ft]),Tt(Xt)&&(Bi=function(un,_n){_n[Xt]=$i(un)}),Ei=Ft.length,gi=0;gi<Ei;gi++)Fn[Ft[gi]]=Bi}function br(Ft,Xt){Rn(Ft,function(gi,Ei,Bi,un){Bi._w=Bi._w||{},Xt(gi,Bi._w,Bi,un)})}var Bn,on=0,li=1,ai=2,xi=3,ki=4,Ki=5,gn=6,Ui=7,yn=8;function an(Ft,Xt){if(isNaN(Ft)||isNaN(Xt))return NaN;var gi=(Xt%(gi=12)+gi)%gi;return Ft+=(Xt-gi)/12,gi==1?Ii(Ft)?29:28:31-gi%7%2}Bn=Array.prototype.indexOf||function(Ft){for(var Xt=0;Xt<this.length;++Xt)if(this[Xt]===Ft)return Xt;return-1},Ai("M",["MM",2],"Mo",function(){return this.month()+1}),Ai("MMM",0,0,function(Ft){return this.localeData().monthsShort(this,Ft)}),Ai("MMMM",0,0,function(Ft){return this.localeData().months(this,Ft)}),Qi("month","M"),Oi("month",8),Wi("M",vi),Wi("MM",vi,vr),Wi("MMM",function(Ft,Xt){return Xt.monthsShortRegex(Ft)}),Wi("MMMM",function(Ft,Xt){return Xt.monthsRegex(Ft)}),Rn(["M","MM"],function(Ft,Xt){Xt[li]=$i(Ft)-1}),Rn(["MMM","MMMM"],function(Ft,Xt,gi,Ei){Ei=gi._locale.monthsParse(Ft,Ei,gi._strict),Ei!=null?Xt[li]=Ei:Ht(gi).invalidMonth=Ft});var Tn="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Dn="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Hn=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mn=qi,sr=qi;function jn(Ft,Xt){var gi;if(Ft.isValid()){if(typeof Xt=="string"){if(/^\d+$/.test(Xt))Xt=$i(Xt);else if(!Tt(Xt=Ft.localeData().monthsParse(Xt)))return}gi=Math.min(Ft.date(),an(Ft.year(),Xt)),Ft._d["set"+(Ft._isUTC?"UTC":"")+"Month"](Xt,gi)}}function ir(Ft){return Ft!=null?(jn(this,Ft),st.updateOffset(this,!0),this):Nt(this,"Month")}function gr(){function Ft(_n,xn){return xn.length-_n.length}for(var Xt,gi=[],Ei=[],Bi=[],un=0;un<12;un++)Xt=Bt([2e3,un]),gi.push(this.monthsShort(Xt,"")),Ei.push(this.months(Xt,"")),Bi.push(this.months(Xt,"")),Bi.push(this.monthsShort(Xt,""));for(gi.sort(Ft),Ei.sort(Ft),Bi.sort(Ft),un=0;un<12;un++)gi[un]=En(gi[un]),Ei[un]=En(Ei[un]);for(un=0;un<24;un++)Bi[un]=En(Bi[un]);this._monthsRegex=new RegExp("^("+Bi.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+Ei.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+gi.join("|")+")","i")}function nr(Ft){return Ii(Ft)?366:365}Ai("Y",0,0,function(){var Ft=this.year();return Ft<=9999?Ni(Ft,4):"+"+Ft}),Ai(0,["YY",2],0,function(){return this.year()%100}),Ai(0,["YYYY",4],0,"year"),Ai(0,["YYYYY",5],0,"year"),Ai(0,["YYYYYY",6,!0],0,"year"),Qi("year","y"),Oi("year",1),Wi("Y",zi),Wi("YY",vi,vr),Wi("YYYY",ko,xa),Wi("YYYYY",fo,ta),Wi("YYYYYY",fo,ta),Rn(["YYYYY","YYYYYY"],on),Rn("YYYY",function(Ft,Xt){Xt[on]=Ft.length===2?st.parseTwoDigitYear(Ft):$i(Ft)}),Rn("YY",function(Ft,Xt){Xt[on]=st.parseTwoDigitYear(Ft)}),Rn("Y",function(Ft,Xt){Xt[on]=parseInt(Ft,10)}),st.parseTwoDigitYear=function(Ft){return $i(Ft)+(68<$i(Ft)?1900:2e3)};var ka=ii("FullYear",!0);function Po(Ft,Xt,gi,Ei,Bi,un,_n){var xn;return Ft<100&&0<=Ft?(xn=new Date(Ft+400,Xt,gi,Ei,Bi,un,_n),isFinite(xn.getFullYear())&&xn.setFullYear(Ft)):xn=new Date(Ft,Xt,gi,Ei,Bi,un,_n),xn}function Wr(Ft){var Xt;return Ft<100&&0<=Ft?((Xt=Array.prototype.slice.call(arguments))[0]=Ft+400,Xt=new Date(Date.UTC.apply(null,Xt)),isFinite(Xt.getUTCFullYear())&&Xt.setUTCFullYear(Ft)):Xt=new Date(Date.UTC.apply(null,arguments)),Xt}function zn(Ft,Xt,gi){return gi=7+Xt-gi,gi-(7+Wr(Ft,0,gi).getUTCDay()-Xt)%7-1}function ur(Ft,_n,xn,Ei,Bi){var un,_n=1+7*(_n-1)+(7+xn-Ei)%7+zn(Ft,Ei,Bi),xn=_n<=0?nr(un=Ft-1)+_n:_n>nr(Ft)?(un=Ft+1,_n-nr(Ft)):(un=Ft,_n);return{year:un,dayOfYear:xn}}function Nr(Ft,Xt,gi){var Ei,Bi,un=zn(Ft.year(),Xt,gi),un=Math.floor((Ft.dayOfYear()-un-1)/7)+1;return un<1?Ei=un+Fr(Bi=Ft.year()-1,Xt,gi):un>Fr(Ft.year(),Xt,gi)?(Ei=un-Fr(Ft.year(),Xt,gi),Bi=Ft.year()+1):(Bi=Ft.year(),Ei=un),{week:Ei,year:Bi}}function Fr(Ft,Bi,gi){var Ei=zn(Ft,Bi,gi),Bi=zn(Ft+1,Bi,gi);return(nr(Ft)-Ei+Bi)/7}Ai("w",["ww",2],"wo","week"),Ai("W",["WW",2],"Wo","isoWeek"),Qi("week","w"),Qi("isoWeek","W"),Oi("week",5),Oi("isoWeek",5),Wi("w",vi),Wi("ww",vi,vr),Wi("W",vi),Wi("WW",vi,vr),br(["w","ww","W","WW"],function(Ft,Xt,gi,Ei){Xt[Ei.substr(0,1)]=$i(Ft)});function Ir(Ft,Xt){return Ft.slice(Xt,7).concat(Ft.slice(0,Xt))}Ai("d",0,"do","day"),Ai("dd",0,0,function(Ft){return this.localeData().weekdaysMin(this,Ft)}),Ai("ddd",0,0,function(Ft){return this.localeData().weekdaysShort(this,Ft)}),Ai("dddd",0,0,function(Ft){return this.localeData().weekdays(this,Ft)}),Ai("e",0,0,"weekday"),Ai("E",0,0,"isoWeekday"),Qi("day","d"),Qi("weekday","e"),Qi("isoWeekday","E"),Oi("day",11),Oi("weekday",11),Oi("isoWeekday",11),Wi("d",vi),Wi("e",vi),Wi("E",vi),Wi("dd",function(Ft,Xt){return Xt.weekdaysMinRegex(Ft)}),Wi("ddd",function(Ft,Xt){return Xt.weekdaysShortRegex(Ft)}),Wi("dddd",function(Ft,Xt){return Xt.weekdaysRegex(Ft)}),br(["dd","ddd","dddd"],function(Ft,Xt,gi,Ei){Ei=gi._locale.weekdaysParse(Ft,Ei,gi._strict),Ei!=null?Xt.d=Ei:Ht(gi).invalidWeekday=Ft}),br(["d","e","E"],function(Ft,Xt,gi,Ei){Xt[Ei]=$i(Ft)});var sn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),dn="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),hn="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Ln=qi,wn=qi,Yi=qi;function vn(){function Ft(Vn,fr){return fr.length-Vn.length}for(var Xt,gi,Ei,Bi=[],un=[],_n=[],xn=[],Un=0;Un<7;Un++)Ei=Bt([2e3,1]).day(Un),Xt=En(this.weekdaysMin(Ei,"")),gi=En(this.weekdaysShort(Ei,"")),Ei=En(this.weekdays(Ei,"")),Bi.push(Xt),un.push(gi),_n.push(Ei),xn.push(Xt),xn.push(gi),xn.push(Ei);Bi.sort(Ft),un.sort(Ft),_n.sort(Ft),xn.sort(Ft),this._weekdaysRegex=new RegExp("^("+xn.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+_n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+un.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+Bi.join("|")+")","i")}function An(){return this.hours()%12||12}function lr(Ft,Xt){Ai(Ft,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),Xt)})}function Dr(Ft,Xt){return Xt._meridiemParse}Ai("H",["HH",2],0,"hour"),Ai("h",["hh",2],0,An),Ai("k",["kk",2],0,function(){return this.hours()||24}),Ai("hmm",0,0,function(){return""+An.apply(this)+Ni(this.minutes(),2)}),Ai("hmmss",0,0,function(){return""+An.apply(this)+Ni(this.minutes(),2)+Ni(this.seconds(),2)}),Ai("Hmm",0,0,function(){return""+this.hours()+Ni(this.minutes(),2)}),Ai("Hmmss",0,0,function(){return""+this.hours()+Ni(this.minutes(),2)+Ni(this.seconds(),2)}),lr("a",!0),lr("A",!1),Qi("hour","h"),Oi("hour",13),Wi("a",Dr),Wi("A",Dr),Wi("H",vi),Wi("h",vi),Wi("k",vi),Wi("HH",vi,vr),Wi("hh",vi,vr),Wi("kk",vi,vr),Wi("hmm",Mi),Wi("hmmss",_i),Wi("Hmm",Mi),Wi("Hmmss",_i),Rn(["H","HH"],xi),Rn(["k","kk"],function(Ft,Xt,gi){Ft=$i(Ft),Xt[xi]=Ft===24?0:Ft}),Rn(["a","A"],function(Ft,Xt,gi){gi._isPm=gi._locale.isPM(Ft),gi._meridiem=Ft}),Rn(["h","hh"],function(Ft,Xt,gi){Xt[xi]=$i(Ft),Ht(gi).bigHour=!0}),Rn("hmm",function(Ft,Xt,gi){var Ei=Ft.length-2;Xt[xi]=$i(Ft.substr(0,Ei)),Xt[ki]=$i(Ft.substr(Ei)),Ht(gi).bigHour=!0}),Rn("hmmss",function(Ft,Xt,gi){var Ei=Ft.length-4,Bi=Ft.length-2;Xt[xi]=$i(Ft.substr(0,Ei)),Xt[ki]=$i(Ft.substr(Ei,2)),Xt[Ki]=$i(Ft.substr(Bi)),Ht(gi).bigHour=!0}),Rn("Hmm",function(Ft,Xt,gi){var Ei=Ft.length-2;Xt[xi]=$i(Ft.substr(0,Ei)),Xt[ki]=$i(Ft.substr(Ei))}),Rn("Hmmss",function(Ft,Xt,gi){var Ei=Ft.length-4,Bi=Ft.length-2;Xt[xi]=$i(Ft.substr(0,Ei)),Xt[ki]=$i(Ft.substr(Ei,2)),Xt[Ki]=$i(Ft.substr(Bi))}),qi=ii("Hours",!0);var _r,wr={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Tn,monthsShort:Dn,week:{dow:0,doy:6},weekdays:sn,weekdaysMin:hn,weekdaysShort:dn,meridiemParse:/[ap]\.?m?\.?/i},cr={},Rr={};function Ao(Ft){return Ft&&Ft.toLowerCase().replace("_","-")}function Yo(Ft){for(var Xt,gi,Ei,Bi,un=0;un<Ft.length;){for(Xt=(Bi=Ao(Ft[un]).split("-")).length,gi=(gi=Ao(Ft[un+1]))?gi.split("-"):null;0<Xt;){if(Ei=ho(Bi.slice(0,Xt).join("-")))return Ei;if(gi&&gi.length>=Xt&&function(_n,xn){for(var Un=Math.min(_n.length,xn.length),Vn=0;Vn<Un;Vn+=1)if(_n[Vn]!==xn[Vn])return Vn;return Un}(Bi,gi)>=Xt-1)break;Xt--}un++}return _r}function ho(Ft){var Xt;if(cr[Ft]===void 0&&!0&&it&&it.exports&&Ft.match("^[^/\\\\]*$")!=null)try{Xt=_r._abbr,commonjsRequire("./locale/"+Ft),Qn(Xt)}catch{cr[Ft]=null}return cr[Ft]}function Qn(Ft,Xt){return Ft&&((Xt=Et(Xt)?hr(Ft):rr(Ft,Xt))?_r=Xt:typeof console<"u"&&console.warn&&console.warn("Locale "+Ft+" not found. Did you forget to load it?")),_r._abbr}function rr(Ft,Xt){if(Xt===null)return delete cr[Ft],null;var gi,Ei=wr;if(Xt.abbr=Ft,cr[Ft]!=null)ci("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),Ei=cr[Ft]._config;else if(Xt.parentLocale!=null)if(cr[Xt.parentLocale]!=null)Ei=cr[Xt.parentLocale]._config;else{if((gi=ho(Xt.parentLocale))==null)return Rr[Xt.parentLocale]||(Rr[Xt.parentLocale]=[]),Rr[Xt.parentLocale].push({name:Ft,config:Xt}),null;Ei=gi._config}return cr[Ft]=new wi(ei(Ei,Xt)),Rr[Ft]&&Rr[Ft].forEach(function(Bi){rr(Bi.name,Bi.config)}),Qn(Ft),cr[Ft]}function hr(Ft){var Xt;if(!(Ft=Ft&&Ft._locale&&Ft._locale._abbr?Ft._locale._abbr:Ft))return _r;if(!vt(Ft)){if(Xt=ho(Ft))return Xt;Ft=[Ft]}return Yo(Ft)}function In(Ft){var Xt=Ft._a;return Xt&&Ht(Ft).overflow===-2&&(Xt=Xt[li]<0||11<Xt[li]?li:Xt[ai]<1||Xt[ai]>an(Xt[on],Xt[li])?ai:Xt[xi]<0||24<Xt[xi]||Xt[xi]===24&&(Xt[ki]!==0||Xt[Ki]!==0||Xt[gn]!==0)?xi:Xt[ki]<0||59<Xt[ki]?ki:Xt[Ki]<0||59<Xt[Ki]?Ki:Xt[gn]<0||999<Xt[gn]?gn:-1,Ht(Ft)._overflowDayOfYear&&(Xt<on||ai<Xt)&&(Xt=ai),Ht(Ft)._overflowWeeks&&Xt===-1&&(Xt=Ui),Ht(Ft)._overflowWeekday&&Xt===-1&&(Xt=yn),Ht(Ft).overflow=Xt),Ft}var or=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Zi=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Bo=/Z|[+-]\d\d(?::?\d\d)?/,cn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],eo=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ba=/^\/?Date\((-?\d+)/i,Tr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Yr={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Oa(Ft){var Xt,gi,Ei,Bi,un,_n,Un=Ft._i,xn=or.exec(Un)||Zi.exec(Un),Un=cn.length,Vn=eo.length;if(xn){for(Ht(Ft).iso=!0,Xt=0,gi=Un;Xt<gi;Xt++)if(cn[Xt][1].exec(xn[1])){Bi=cn[Xt][0],Ei=cn[Xt][2]!==!1;break}if(Bi==null)Ft._isValid=!1;else{if(xn[3]){for(Xt=0,gi=Vn;Xt<gi;Xt++)if(eo[Xt][1].exec(xn[3])){un=(xn[2]||" ")+eo[Xt][0];break}if(un==null)return void(Ft._isValid=!1)}if(Ei||un==null){if(xn[4]){if(!Bo.exec(xn[4]))return void(Ft._isValid=!1);_n="Z"}Ft._f=Bi+(un||"")+(_n||""),Oo(Ft)}else Ft._isValid=!1}}else Ft._isValid=!1}function Kn(Ft,Xt,gi,Ei,Bi,un){return Ft=[function(_n){_n=parseInt(_n,10);{if(_n<=49)return 2e3+_n;if(_n<=999)return 1900+_n}return _n}(Ft),Dn.indexOf(Xt),parseInt(gi,10),parseInt(Ei,10),parseInt(Bi,10)],un&&Ft.push(parseInt(un,10)),Ft}function no(Ft){var Xt,gi,Ei,Bi,un=Tr.exec(Ft._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));un?(Xt=Kn(un[4],un[3],un[2],un[5],un[6],un[7]),gi=un[1],Ei=Xt,Bi=Ft,gi&&dn.indexOf(gi)!==new Date(Ei[0],Ei[1],Ei[2]).getDay()?(Ht(Bi).weekdayMismatch=!0,Bi._isValid=!1):(Ft._a=Xt,Ft._tzm=(gi=un[8],Ei=un[9],Bi=un[10],gi?Yr[gi]:Ei?0:60*(((gi=parseInt(Bi,10))-(Ei=gi%100))/100)+Ei),Ft._d=Wr.apply(null,Ft._a),Ft._d.setUTCMinutes(Ft._d.getUTCMinutes()-Ft._tzm),Ht(Ft).rfc2822=!0)):Ft._isValid=!1}function bo(Ft,Xt,gi){return Ft!=null?Ft:Xt!=null?Xt:gi}function Go(Ft){var Xt,gi,Ei,Bi,un,_n,xn,Un,Vn,fr,ar,Mr=[];if(!Ft._d){for(Ei=Ft,Bi=new Date(st.now()),gi=Ei._useUTC?[Bi.getUTCFullYear(),Bi.getUTCMonth(),Bi.getUTCDate()]:[Bi.getFullYear(),Bi.getMonth(),Bi.getDate()],Ft._w&&Ft._a[ai]==null&&Ft._a[li]==null&&((Bi=(Ei=Ft)._w).GG!=null||Bi.W!=null||Bi.E!=null?(Un=1,Vn=4,un=bo(Bi.GG,Ei._a[on],Nr(Or(),1,4).year),_n=bo(Bi.W,1),((xn=bo(Bi.E,1))<1||7<xn)&&(fr=!0)):(Un=Ei._locale._week.dow,Vn=Ei._locale._week.doy,ar=Nr(Or(),Un,Vn),un=bo(Bi.gg,Ei._a[on],ar.year),_n=bo(Bi.w,ar.week),Bi.d!=null?((xn=Bi.d)<0||6<xn)&&(fr=!0):Bi.e!=null?(xn=Bi.e+Un,(Bi.e<0||6<Bi.e)&&(fr=!0)):xn=Un),_n<1||_n>Fr(un,Un,Vn)?Ht(Ei)._overflowWeeks=!0:fr!=null?Ht(Ei)._overflowWeekday=!0:(ar=ur(un,_n,xn,Un,Vn),Ei._a[on]=ar.year,Ei._dayOfYear=ar.dayOfYear)),Ft._dayOfYear!=null&&(Bi=bo(Ft._a[on],gi[on]),(Ft._dayOfYear>nr(Bi)||Ft._dayOfYear===0)&&(Ht(Ft)._overflowDayOfYear=!0),fr=Wr(Bi,0,Ft._dayOfYear),Ft._a[li]=fr.getUTCMonth(),Ft._a[ai]=fr.getUTCDate()),Xt=0;Xt<3&&Ft._a[Xt]==null;++Xt)Ft._a[Xt]=Mr[Xt]=gi[Xt];for(;Xt<7;Xt++)Ft._a[Xt]=Mr[Xt]=Ft._a[Xt]==null?Xt===2?1:0:Ft._a[Xt];Ft._a[xi]===24&&Ft._a[ki]===0&&Ft._a[Ki]===0&&Ft._a[gn]===0&&(Ft._nextDay=!0,Ft._a[xi]=0),Ft._d=(Ft._useUTC?Wr:Po).apply(null,Mr),un=Ft._useUTC?Ft._d.getUTCDay():Ft._d.getDay(),Ft._tzm!=null&&Ft._d.setUTCMinutes(Ft._d.getUTCMinutes()-Ft._tzm),Ft._nextDay&&(Ft._a[xi]=24),Ft._w&&Ft._w.d!==void 0&&Ft._w.d!==un&&(Ht(Ft).weekdayMismatch=!0)}}function Oo(Ft){if(Ft._f===st.ISO_8601)Oa(Ft);else if(Ft._f===st.RFC_2822)no(Ft);else{Ft._a=[],Ht(Ft).empty=!0;for(var Xt,gi,Ei,Bi,un,_n=""+Ft._i,xn=_n.length,Un=0,Vn=Ri(Ft._f,Ft._locale).match(ni)||[],fr=Vn.length,ar=0;ar<fr;ar++)gi=Vn[ar],(Xt=(_n.match(Cn(gi,Ft))||[])[0])&&(0<(Ei=_n.substr(0,_n.indexOf(Xt))).length&&Ht(Ft).unusedInput.push(Ei),_n=_n.slice(_n.indexOf(Xt)+Xt.length),Un+=Xt.length),nn[gi]?(Xt?Ht(Ft).empty=!1:Ht(Ft).unusedTokens.push(gi),Ei=gi,un=Ft,(Bi=Xt)!=null&&_t(Fn,Ei)&&Fn[Ei](Bi,un._a,un,Ei)):Ft._strict&&!Xt&&Ht(Ft).unusedTokens.push(gi);Ht(Ft).charsLeftOver=xn-Un,0<_n.length&&Ht(Ft).unusedInput.push(_n),Ft._a[xi]<=12&&Ht(Ft).bigHour===!0&&0<Ft._a[xi]&&(Ht(Ft).bigHour=void 0),Ht(Ft).parsedDateParts=Ft._a.slice(0),Ht(Ft).meridiem=Ft._meridiem,Ft._a[xi]=function(Mr,Hr,zr){return zr==null?Hr:Mr.meridiemHour!=null?Mr.meridiemHour(Hr,zr):Mr.isPM!=null?((Mr=Mr.isPM(zr))&&Hr<12&&(Hr+=12),Hr=Mr||Hr!==12?Hr:0):Hr}(Ft._locale,Ft._a[xi],Ft._meridiem),(xn=Ht(Ft).era)!==null&&(Ft._a[on]=Ft._locale.erasConvertYear(xn,Ft._a[on])),Go(Ft),In(Ft)}}function Gr(Ft){var Xt,gi,Ei,Bi=Ft._i,un=Ft._f;return Ft._locale=Ft._locale||hr(Ft._l),Bi===null||un===void 0&&Bi===""?It({nullInput:!0}):(typeof Bi=="string"&&(Ft._i=Bi=Ft._locale.preparse(Bi)),oi(Bi)?new ti(In(Bi)):($t(Bi)?Ft._d=Bi:vt(un)?function(_n){var xn,Un,Vn,fr,ar,Mr,Hr=!1,zr=_n._f.length;if(zr===0)return Ht(_n).invalidFormat=!0,_n._d=new Date(NaN);for(fr=0;fr<zr;fr++)ar=0,Mr=!1,xn=Yt({},_n),_n._useUTC!=null&&(xn._useUTC=_n._useUTC),xn._f=_n._f[fr],Oo(xn),Ut(xn)&&(Mr=!0),ar=(ar+=Ht(xn).charsLeftOver)+10*Ht(xn).unusedTokens.length,Ht(xn).score=ar,Hr?ar<Vn&&(Vn=ar,Un=xn):(Vn==null||ar<Vn||Mr)&&(Vn=ar,Un=xn,Mr&&(Hr=!0));Lt(_n,Un||xn)}(Ft):un?Oo(Ft):Et(un=(Bi=Ft)._i)?Bi._d=new Date(st.now()):$t(un)?Bi._d=new Date(un.valueOf()):typeof un=="string"?(gi=Bi,(Xt=ba.exec(gi._i))!==null?gi._d=new Date(+Xt[1]):(Oa(gi),gi._isValid===!1&&(delete gi._isValid,no(gi),gi._isValid===!1&&(delete gi._isValid,gi._strict?gi._isValid=!1:st.createFromInputFallback(gi))))):vt(un)?(Bi._a=Dt(un.slice(0),function(_n){return parseInt(_n,10)}),Go(Bi)):bt(un)?(Xt=Bi)._d||(Ei=(gi=Pi(Xt._i)).day===void 0?gi.date:gi.day,Xt._a=Dt([gi.year,gi.month,Ei,gi.hour,gi.minute,gi.second,gi.millisecond],function(_n){return _n&&parseInt(_n,10)}),Go(Xt)):Tt(un)?Bi._d=new Date(un):st.createFromInputFallback(Bi),Ut(Ft)||(Ft._d=null),Ft))}function qr(Ft,Xt,gi,Ei,Bi){var un={};return Xt!==!0&&Xt!==!1||(Ei=Xt,Xt=void 0),gi!==!0&&gi!==!1||(Ei=gi,gi=void 0),(bt(Ft)&&wt(Ft)||vt(Ft)&&Ft.length===0)&&(Ft=void 0),un._isAMomentObject=!0,un._useUTC=un._isUTC=Bi,un._l=gi,un._i=Ft,un._f=Xt,un._strict=Ei,(Bi=new ti(In(Gr(Bi=un))))._nextDay&&(Bi.add(1,"d"),Bi._nextDay=void 0),Bi}function Or(Ft,Xt,gi,Ei){return qr(Ft,Xt,gi,Ei,!1)}st.createFromInputFallback=di("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(Ft){Ft._d=new Date(Ft._i+(Ft._useUTC?" UTC":""))}),st.ISO_8601=function(){},st.RFC_2822=function(){},Mi=di("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ft=Or.apply(null,arguments);return this.isValid()&&Ft.isValid()?Ft<this?this:Ft:It()}),_i=di("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var Ft=Or.apply(null,arguments);return this.isValid()&&Ft.isValid()?this<Ft?this:Ft:It()});function to(Ft,Xt){var gi,Ei;if(!(Xt=Xt.length===1&&vt(Xt[0])?Xt[0]:Xt).length)return Or();for(gi=Xt[0],Ei=1;Ei<Xt.length;++Ei)Xt[Ei].isValid()&&!Xt[Ei][Ft](gi)||(gi=Xt[Ei]);return gi}var Io=["year","quarter","month","week","day","hour","minute","second","millisecond"];function ao(Xt){var Xt=Pi(Xt),gi=Xt.year||0,Ei=Xt.quarter||0,Bi=Xt.month||0,un=Xt.week||Xt.isoWeek||0,_n=Xt.day||0,xn=Xt.hour||0,Un=Xt.minute||0,Vn=Xt.second||0,fr=Xt.millisecond||0;this._isValid=function(ar){var Mr,Hr,zr=!1,ia=Io.length;for(Mr in ar)if(_t(ar,Mr)&&(Bn.call(Io,Mr)===-1||ar[Mr]!=null&&isNaN(ar[Mr])))return!1;for(Hr=0;Hr<ia;++Hr)if(ar[Io[Hr]]){if(zr)return!1;parseFloat(ar[Io[Hr]])!==$i(ar[Io[Hr]])&&(zr=!0)}return!0}(Xt),this._milliseconds=+fr+1e3*Vn+6e4*Un+1e3*xn*60*60,this._days=+_n+7*un,this._months=+Bi+3*Ei+12*gi,this._data={},this._locale=hr(),this._bubble()}function So(Ft){return Ft instanceof ao}function Eo(Ft){return Ft<0?-1*Math.round(-1*Ft):Math.round(Ft)}function ca(Ft,Xt){Ai(Ft,0,0,function(){var gi=this.utcOffset(),Ei="+";return gi<0&&(gi=-gi,Ei="-"),Ei+Ni(~~(gi/60),2)+Xt+Ni(~~gi%60,2)})}ca("Z",":"),ca("ZZ",""),Wi("Z",tn),Wi("ZZ",tn),Rn(["Z","ZZ"],function(Ft,Xt,gi){gi._useUTC=!0,gi._tzm=qo(tn,Ft)});var ua=/([\+\-]|\d\d)/gi;function qo(Ft,gi){var gi=(gi||"").match(Ft);return gi===null?null:(gi=60*(Ft=((gi[gi.length-1]||[])+"").match(ua)||["-",0,0])[1]+$i(Ft[2]))===0?0:Ft[0]==="+"?gi:-gi}function mo(Ft,Xt){var gi;return Xt._isUTC?(Xt=Xt.clone(),gi=(oi(Ft)||$t(Ft)?Ft:Or(Ft)).valueOf()-Xt.valueOf(),Xt._d.setTime(Xt._d.valueOf()+gi),st.updateOffset(Xt,!1),Xt):Or(Ft).local()}function Za(Ft){return-Math.round(Ft._d.getTimezoneOffset())}function Va(){return!!this.isValid()&&this._isUTC&&this._offset===0}st.updateOffset=function(){};var ul=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,$r=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function so(Ft,Xt){var gi,Ei=Ft,Bi=null;return So(Ft)?Ei={ms:Ft._milliseconds,d:Ft._days,M:Ft._months}:Tt(Ft)||!isNaN(+Ft)?(Ei={},Xt?Ei[Xt]=+Ft:Ei.milliseconds=+Ft):(Bi=ul.exec(Ft))?(gi=Bi[1]==="-"?-1:1,Ei={y:0,d:$i(Bi[ai])*gi,h:$i(Bi[xi])*gi,m:$i(Bi[ki])*gi,s:$i(Bi[Ki])*gi,ms:$i(Eo(1e3*Bi[gn]))*gi}):(Bi=$r.exec(Ft))?(gi=Bi[1]==="-"?-1:1,Ei={y:dr(Bi[2],gi),M:dr(Bi[3],gi),w:dr(Bi[4],gi),d:dr(Bi[5],gi),h:dr(Bi[6],gi),m:dr(Bi[7],gi),s:dr(Bi[8],gi)}):Ei==null?Ei={}:typeof Ei=="object"&&("from"in Ei||"to"in Ei)&&(Xt=function(un,_n){var xn;return!un.isValid()||!_n.isValid()?{milliseconds:0,months:0}:(_n=mo(_n,un),un.isBefore(_n)?xn=No(un,_n):((xn=No(_n,un)).milliseconds=-xn.milliseconds,xn.months=-xn.months),xn)}(Or(Ei.from),Or(Ei.to)),(Ei={}).ms=Xt.milliseconds,Ei.M=Xt.months),Bi=new ao(Ei),So(Ft)&&_t(Ft,"_locale")&&(Bi._locale=Ft._locale),So(Ft)&&_t(Ft,"_isValid")&&(Bi._isValid=Ft._isValid),Bi}function dr(Ft,Xt){return Ft=Ft&&parseFloat(Ft.replace(",",".")),(isNaN(Ft)?0:Ft)*Xt}function No(Ft,Xt){var gi={};return gi.months=Xt.month()-Ft.month()+12*(Xt.year()-Ft.year()),Ft.clone().add(gi.months,"M").isAfter(Xt)&&--gi.months,gi.milliseconds=+Xt-+Ft.clone().add(gi.months,"M"),gi}function Ka(Ft,Xt){return function(gi,Ei){var Bi;return Ei===null||isNaN(+Ei)||(ci(Xt,"moment()."+Xt+"(period, number) is deprecated. Please use moment()."+Xt+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),Bi=gi,gi=Ei,Ei=Bi),Ja(this,so(gi,Ei),Ft),this}}function Ja(Ft,_n,gi,Ei){var Bi=_n._milliseconds,un=Eo(_n._days),_n=Eo(_n._months);Ft.isValid()&&(Ei=Ei==null||Ei,_n&&jn(Ft,Nt(Ft,"Month")+_n*gi),un&&Qt(Ft,"Date",Nt(Ft,"Date")+un*gi),Bi&&Ft._d.setTime(Ft._d.valueOf()+Bi*gi),Ei&&st.updateOffset(Ft,un||_n))}so.fn=ao.prototype,so.invalid=function(){return so(NaN)},Tn=Ka(1,"add"),sn=Ka(-1,"subtract");function Qa(Ft){return typeof Ft=="string"||Ft instanceof String}function wa(Ft){return oi(Ft)||$t(Ft)||Qa(Ft)||Tt(Ft)||function(Xt){var gi=vt(Xt),Ei=!1;return gi&&(Ei=Xt.filter(function(Bi){return!Tt(Bi)&&Qa(Xt)}).length===0),gi&&Ei}(Ft)||function(Xt){var gi,Ei,Bi=bt(Xt)&&!wt(Xt),un=!1,_n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],xn=_n.length;for(gi=0;gi<xn;gi+=1)Ei=_n[gi],un=un||_t(Xt,Ei);return Bi&&un}(Ft)||Ft==null}function La(Ft,Bi){if(Ft.date()<Bi.date())return-La(Bi,Ft);var gi=12*(Bi.year()-Ft.year())+(Bi.month()-Ft.month()),Ei=Ft.clone().add(gi,"months"),Bi=Bi-Ei<0?(Bi-Ei)/(Ei-Ft.clone().add(gi-1,"months")):(Bi-Ei)/(Ft.clone().add(1+gi,"months")-Ei);return-(gi+Bi)||0}function Fo(Ft){return Ft===void 0?this._locale._abbr:((Ft=hr(Ft))!=null&&(this._locale=Ft),this)}st.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",st.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",hn=di("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(Ft){return Ft===void 0?this.localeData():this.locale(Ft)});function lo(){return this._locale}var ea=126227808e5;function ha(Ft,Xt){return(Ft%Xt+Xt)%Xt}function ps(Ft,Xt,gi){return Ft<100&&0<=Ft?new Date(Ft+400,Xt,gi)-ea:new Date(Ft,Xt,gi).valueOf()}function Is(Ft,Xt,gi){return Ft<100&&0<=Ft?Date.UTC(Ft+400,Xt,gi)-ea:Date.UTC(Ft,Xt,gi)}function es(Ft,Xt){return Xt.erasAbbrRegex(Ft)}function da(){for(var Ft=[],Xt=[],gi=[],Ei=[],Bi=this.eras(),un=0,_n=Bi.length;un<_n;++un)Xt.push(En(Bi[un].name)),Ft.push(En(Bi[un].abbr)),gi.push(En(Bi[un].narrow)),Ei.push(En(Bi[un].name)),Ei.push(En(Bi[un].abbr)),Ei.push(En(Bi[un].narrow));this._erasRegex=new RegExp("^("+Ei.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+Xt.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+Ft.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+gi.join("|")+")","i")}function _o(Ft,Xt){Ai(0,[Ft,Ft.length],0,Xt)}function ts(Ft,Xt,gi,Ei,Bi){var un;return Ft==null?Nr(this,Ei,Bi).year:(un=Fr(Ft,Ei,Bi),function(_n,xn,Un,Vn,fr){return _n=ur(_n,xn,Un,Vn,fr),xn=Wr(_n.year,0,_n.dayOfYear),this.year(xn.getUTCFullYear()),this.month(xn.getUTCMonth()),this.date(xn.getUTCDate()),this}.call(this,Ft,Xt=un<Xt?un:Xt,gi,Ei,Bi))}Ai("N",0,0,"eraAbbr"),Ai("NN",0,0,"eraAbbr"),Ai("NNN",0,0,"eraAbbr"),Ai("NNNN",0,0,"eraName"),Ai("NNNNN",0,0,"eraNarrow"),Ai("y",["y",1],"yo","eraYear"),Ai("y",["yy",2],0,"eraYear"),Ai("y",["yyy",3],0,"eraYear"),Ai("y",["yyyy",4],0,"eraYear"),Wi("N",es),Wi("NN",es),Wi("NNN",es),Wi("NNNN",function(Ft,Xt){return Xt.erasNameRegex(Ft)}),Wi("NNNNN",function(Ft,Xt){return Xt.erasNarrowRegex(Ft)}),Rn(["N","NN","NNN","NNNN","NNNNN"],function(Ft,Xt,gi,Ei){Ei=gi._locale.erasParse(Ft,Ei,gi._strict),Ei?Ht(gi).era=Ei:Ht(gi).invalidEra=Ft}),Wi("y",Ti),Wi("yy",Ti),Wi("yyy",Ti),Wi("yyyy",Ti),Wi("yo",function(Ft,Xt){return Xt._eraYearOrdinalRegex||Ti}),Rn(["y","yy","yyy","yyyy"],on),Rn(["yo"],function(Ft,Xt,gi,Ei){var Bi;gi._locale._eraYearOrdinalRegex&&(Bi=Ft.match(gi._locale._eraYearOrdinalRegex)),gi._locale.eraYearOrdinalParse?Xt[on]=gi._locale.eraYearOrdinalParse(Ft,Bi):Xt[on]=parseInt(Ft,10)}),Ai(0,["gg",2],0,function(){return this.weekYear()%100}),Ai(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_o("gggg","weekYear"),_o("ggggg","weekYear"),_o("GGGG","isoWeekYear"),_o("GGGGG","isoWeekYear"),Qi("weekYear","gg"),Qi("isoWeekYear","GG"),Oi("weekYear",1),Oi("isoWeekYear",1),Wi("G",zi),Wi("g",zi),Wi("GG",vi,vr),Wi("gg",vi,vr),Wi("GGGG",ko,xa),Wi("gggg",ko,xa),Wi("GGGGG",fo,ta),Wi("ggggg",fo,ta),br(["gggg","ggggg","GGGG","GGGGG"],function(Ft,Xt,gi,Ei){Xt[Ei.substr(0,2)]=$i(Ft)}),br(["gg","GG"],function(Ft,Xt,gi,Ei){Xt[Ei]=st.parseTwoDigitYear(Ft)}),Ai("Q",0,"Qo","quarter"),Qi("quarter","Q"),Oi("quarter",7),Wi("Q",Jt),Rn("Q",function(Ft,Xt){Xt[li]=3*($i(Ft)-1)}),Ai("D",["DD",2],"Do","date"),Qi("date","D"),Oi("date",9),Wi("D",vi),Wi("DD",vi,vr),Wi("Do",function(Ft,Xt){return Ft?Xt._dayOfMonthOrdinalParse||Xt._ordinalParse:Xt._dayOfMonthOrdinalParseLenient}),Rn(["D","DD"],ai),Rn("Do",function(Ft,Xt){Xt[ai]=$i(Ft.match(vi)[0])}),ko=ii("Date",!0),Ai("DDD",["DDDD",3],"DDDo","dayOfYear"),Qi("dayOfYear","DDD"),Oi("dayOfYear",4),Wi("DDD",Li),Wi("DDDD",Si),Rn(["DDD","DDDD"],function(Ft,Xt,gi){gi._dayOfYear=$i(Ft)}),Ai("m",["mm",2],0,"minute"),Qi("minute","m"),Oi("minute",14),Wi("m",vi),Wi("mm",vi,vr),Rn(["m","mm"],ki);var Pr,xa=ii("Minutes",!1),fo=(Ai("s",["ss",2],0,"second"),Qi("second","s"),Oi("second",15),Wi("s",vi),Wi("ss",vi,vr),Rn(["s","ss"],Ki),ii("Seconds",!1));for(Ai("S",0,0,function(){return~~(this.millisecond()/100)}),Ai(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Ai(0,["SSS",3],0,"millisecond"),Ai(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Ai(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Ai(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Ai(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Ai(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Ai(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Qi("millisecond","ms"),Oi("millisecond",16),Wi("S",Li,Jt),Wi("SS",Li,vr),Wi("SSS",Li,Si),Pr="SSSS";Pr.length<=9;Pr+="S")Wi(Pr,Ti);function Da(Ft,Xt){Xt[gn]=$i(1e3*("0."+Ft))}for(Pr="S";Pr.length<=9;Pr+="S")Rn(Pr,Da);ta=ii("Milliseconds",!1),Ai("z",0,0,"zoneAbbr"),Ai("zz",0,0,"zoneName"),Jt=ti.prototype;function is(Ft){return Ft}Jt.add=Tn,Jt.calendar=function(gi,Bi){arguments.length===1&&(arguments[0]?wa(arguments[0])?(gi=arguments[0],Bi=void 0):function(un){for(var _n=bt(un)&&!wt(un),xn=!1,Un=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],Vn=0;Vn<Un.length;Vn+=1)xn=xn||_t(un,Un[Vn]);return _n&&xn}(arguments[0])&&(Bi=arguments[0],gi=void 0):Bi=gi=void 0);var gi=gi||Or(),Ei=mo(gi,this).startOf("day"),Ei=st.calendarFormat(this,Ei)||"sameElse",Bi=Bi&&(hi(Bi[Ei])?Bi[Ei].call(this,gi):Bi[Ei]);return this.format(Bi||this.localeData().calendar(Ei,this,Or(gi)))},Jt.clone=function(){return new ti(this)},Jt.diff=function(Ft,Xt,gi){var Ei,Bi,un;if(!this.isValid())return NaN;if(!(Ei=mo(Ft,this)).isValid())return NaN;switch(Bi=6e4*(Ei.utcOffset()-this.utcOffset()),Xt=rn(Xt)){case"year":un=La(this,Ei)/12;break;case"month":un=La(this,Ei);break;case"quarter":un=La(this,Ei)/3;break;case"second":un=(this-Ei)/1e3;break;case"minute":un=(this-Ei)/6e4;break;case"hour":un=(this-Ei)/36e5;break;case"day":un=(this-Ei-Bi)/864e5;break;case"week":un=(this-Ei-Bi)/6048e5;break;default:un=this-Ei}return gi?un:Gi(un)},Jt.endOf=function(Ft){var Xt,gi;if((Ft=rn(Ft))===void 0||Ft==="millisecond"||!this.isValid())return this;switch(gi=this._isUTC?Is:ps,Ft){case"year":Xt=gi(this.year()+1,0,1)-1;break;case"quarter":Xt=gi(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":Xt=gi(this.year(),this.month()+1,1)-1;break;case"week":Xt=gi(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":Xt=gi(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":Xt=gi(this.year(),this.month(),this.date()+1)-1;break;case"hour":Xt=this._d.valueOf(),Xt+=36e5-ha(Xt+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":Xt=this._d.valueOf(),Xt+=6e4-ha(Xt,6e4)-1;break;case"second":Xt=this._d.valueOf(),Xt+=1e3-ha(Xt,1e3)-1;break}return this._d.setTime(Xt),st.updateOffset(this,!0),this},Jt.format=function(Ft){return Ft=Ft||(this.isUtc()?st.defaultFormatUtc:st.defaultFormat),Ft=ji(this,Ft),this.localeData().postformat(Ft)},Jt.from=function(Ft,Xt){return this.isValid()&&(oi(Ft)&&Ft.isValid()||Or(Ft).isValid())?so({to:this,from:Ft}).locale(this.locale()).humanize(!Xt):this.localeData().invalidDate()},Jt.fromNow=function(Ft){return this.from(Or(),Ft)},Jt.to=function(Ft,Xt){return this.isValid()&&(oi(Ft)&&Ft.isValid()||Or(Ft).isValid())?so({from:this,to:Ft}).locale(this.locale()).humanize(!Xt):this.localeData().invalidDate()},Jt.toNow=function(Ft){return this.to(Or(),Ft)},Jt.get=function(Ft){return hi(this[Ft=rn(Ft)])?this[Ft]():this},Jt.invalidAt=function(){return Ht(this).overflow},Jt.isAfter=function(Ft,Xt){return Ft=oi(Ft)?Ft:Or(Ft),!(!this.isValid()||!Ft.isValid())&&((Xt=rn(Xt)||"millisecond")==="millisecond"?this.valueOf()>Ft.valueOf():Ft.valueOf()<this.clone().startOf(Xt).valueOf())},Jt.isBefore=function(Ft,Xt){return Ft=oi(Ft)?Ft:Or(Ft),!(!this.isValid()||!Ft.isValid())&&((Xt=rn(Xt)||"millisecond")==="millisecond"?this.valueOf()<Ft.valueOf():this.clone().endOf(Xt).valueOf()<Ft.valueOf())},Jt.isBetween=function(Ft,Xt,gi,Ei){return Ft=oi(Ft)?Ft:Or(Ft),Xt=oi(Xt)?Xt:Or(Xt),!!(this.isValid()&&Ft.isValid()&&Xt.isValid())&&((Ei=Ei||"()")[0]==="("?this.isAfter(Ft,gi):!this.isBefore(Ft,gi))&&(Ei[1]===")"?this.isBefore(Xt,gi):!this.isAfter(Xt,gi))},Jt.isSame=function(gi,Xt){var gi=oi(gi)?gi:Or(gi);return!(!this.isValid()||!gi.isValid())&&((Xt=rn(Xt)||"millisecond")==="millisecond"?this.valueOf()===gi.valueOf():(gi=gi.valueOf(),this.clone().startOf(Xt).valueOf()<=gi&&gi<=this.clone().endOf(Xt).valueOf()))},Jt.isSameOrAfter=function(Ft,Xt){return this.isSame(Ft,Xt)||this.isAfter(Ft,Xt)},Jt.isSameOrBefore=function(Ft,Xt){return this.isSame(Ft,Xt)||this.isBefore(Ft,Xt)},Jt.isValid=function(){return Ut(this)},Jt.lang=hn,Jt.locale=Fo,Jt.localeData=lo,Jt.max=_i,Jt.min=Mi,Jt.parsingFlags=function(){return Lt({},Ht(this))},Jt.set=function(Ft,Xt){if(typeof Ft=="object")for(var gi=function(un){var _n,xn=[];for(_n in un)_t(un,_n)&&xn.push({unit:_n,priority:bn[_n]});return xn.sort(function(Un,Vn){return Un.priority-Vn.priority}),xn}(Ft=Pi(Ft)),Ei=gi.length,Bi=0;Bi<Ei;Bi++)this[gi[Bi].unit](Ft[gi[Bi].unit]);else if(hi(this[Ft=rn(Ft)]))return this[Ft](Xt);return this},Jt.startOf=function(Ft){var Xt,gi;if((Ft=rn(Ft))===void 0||Ft==="millisecond"||!this.isValid())return this;switch(gi=this._isUTC?Is:ps,Ft){case"year":Xt=gi(this.year(),0,1);break;case"quarter":Xt=gi(this.year(),this.month()-this.month()%3,1);break;case"month":Xt=gi(this.year(),this.month(),1);break;case"week":Xt=gi(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":Xt=gi(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":Xt=gi(this.year(),this.month(),this.date());break;case"hour":Xt=this._d.valueOf(),Xt-=ha(Xt+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":Xt=this._d.valueOf(),Xt-=ha(Xt,6e4);break;case"second":Xt=this._d.valueOf(),Xt-=ha(Xt,1e3);break}return this._d.setTime(Xt),st.updateOffset(this,!0),this},Jt.subtract=sn,Jt.toArray=function(){var Ft=this;return[Ft.year(),Ft.month(),Ft.date(),Ft.hour(),Ft.minute(),Ft.second(),Ft.millisecond()]},Jt.toObject=function(){var Ft=this;return{years:Ft.year(),months:Ft.month(),date:Ft.date(),hours:Ft.hours(),minutes:Ft.minutes(),seconds:Ft.seconds(),milliseconds:Ft.milliseconds()}},Jt.toDate=function(){return new Date(this.valueOf())},Jt.toISOString=function(Ft){if(!this.isValid())return null;var Xt=(Ft=Ft!==!0)?this.clone().utc():this;return Xt.year()<0||9999<Xt.year()?ji(Xt,Ft?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):hi(Date.prototype.toISOString)?Ft?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",ji(Xt,"Z")):ji(Xt,Ft?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},Jt.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var Ft,Xt="moment",gi="";return this.isLocal()||(Xt=this.utcOffset()===0?"moment.utc":"moment.parseZone",gi="Z"),Xt="["+Xt+'("]',Ft=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(Xt+Ft+"-MM-DD[T]HH:mm:ss.SSS"+(gi+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(Jt[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),Jt.toJSON=function(){return this.isValid()?this.toISOString():null},Jt.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Jt.unix=function(){return Math.floor(this.valueOf()/1e3)},Jt.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},Jt.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Jt.eraName=function(){for(var Ft,Xt=this.localeData().eras(),gi=0,Ei=Xt.length;gi<Ei;++gi)if(Ft=this.clone().startOf("day").valueOf(),Xt[gi].since<=Ft&&Ft<=Xt[gi].until||Xt[gi].until<=Ft&&Ft<=Xt[gi].since)return Xt[gi].name;return""},Jt.eraNarrow=function(){for(var Ft,Xt=this.localeData().eras(),gi=0,Ei=Xt.length;gi<Ei;++gi)if(Ft=this.clone().startOf("day").valueOf(),Xt[gi].since<=Ft&&Ft<=Xt[gi].until||Xt[gi].until<=Ft&&Ft<=Xt[gi].since)return Xt[gi].narrow;return""},Jt.eraAbbr=function(){for(var Ft,Xt=this.localeData().eras(),gi=0,Ei=Xt.length;gi<Ei;++gi)if(Ft=this.clone().startOf("day").valueOf(),Xt[gi].since<=Ft&&Ft<=Xt[gi].until||Xt[gi].until<=Ft&&Ft<=Xt[gi].since)return Xt[gi].abbr;return""},Jt.eraYear=function(){for(var Ft,Xt,gi=this.localeData().eras(),Ei=0,Bi=gi.length;Ei<Bi;++Ei)if(Ft=gi[Ei].since<=gi[Ei].until?1:-1,Xt=this.clone().startOf("day").valueOf(),gi[Ei].since<=Xt&&Xt<=gi[Ei].until||gi[Ei].until<=Xt&&Xt<=gi[Ei].since)return(this.year()-st(gi[Ei].since).year())*Ft+gi[Ei].offset;return this.year()},Jt.year=ka,Jt.isLeapYear=function(){return Ii(this.year())},Jt.weekYear=function(Ft){return ts.call(this,Ft,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Jt.isoWeekYear=function(Ft){return ts.call(this,Ft,this.isoWeek(),this.isoWeekday(),1,4)},Jt.quarter=Jt.quarters=function(Ft){return Ft==null?Math.ceil((this.month()+1)/3):this.month(3*(Ft-1)+this.month()%3)},Jt.month=ir,Jt.daysInMonth=function(){return an(this.year(),this.month())},Jt.week=Jt.weeks=function(Ft){var Xt=this.localeData().week(this);return Ft==null?Xt:this.add(7*(Ft-Xt),"d")},Jt.isoWeek=Jt.isoWeeks=function(Ft){var Xt=Nr(this,1,4).week;return Ft==null?Xt:this.add(7*(Ft-Xt),"d")},Jt.weeksInYear=function(){var Ft=this.localeData()._week;return Fr(this.year(),Ft.dow,Ft.doy)},Jt.weeksInWeekYear=function(){var Ft=this.localeData()._week;return Fr(this.weekYear(),Ft.dow,Ft.doy)},Jt.isoWeeksInYear=function(){return Fr(this.year(),1,4)},Jt.isoWeeksInISOWeekYear=function(){return Fr(this.isoWeekYear(),1,4)},Jt.date=ko,Jt.day=Jt.days=function(Ft){if(!this.isValid())return Ft!=null?this:NaN;var Xt,gi,Ei=this._isUTC?this._d.getUTCDay():this._d.getDay();return Ft!=null?(Xt=Ft,gi=this.localeData(),Ft=typeof Xt!="string"?Xt:isNaN(Xt)?typeof(Xt=gi.weekdaysParse(Xt))=="number"?Xt:null:parseInt(Xt,10),this.add(Ft-Ei,"d")):Ei},Jt.weekday=function(Ft){if(!this.isValid())return Ft!=null?this:NaN;var Xt=(this.day()+7-this.localeData()._week.dow)%7;return Ft==null?Xt:this.add(Ft-Xt,"d")},Jt.isoWeekday=function(Ft){return this.isValid()?Ft!=null?(Xt=Ft,gi=this.localeData(),gi=typeof Xt=="string"?gi.weekdaysParse(Xt)%7||7:isNaN(Xt)?null:Xt,this.day(this.day()%7?gi:gi-7)):this.day()||7:Ft!=null?this:NaN;var Xt,gi},Jt.dayOfYear=function(Ft){var Xt=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return Ft==null?Xt:this.add(Ft-Xt,"d")},Jt.hour=Jt.hours=qi,Jt.minute=Jt.minutes=xa,Jt.second=Jt.seconds=fo,Jt.millisecond=Jt.milliseconds=ta,Jt.utcOffset=function(Ft,Xt,gi){var Ei,Bi=this._offset||0;if(!this.isValid())return Ft!=null?this:NaN;if(Ft==null)return this._isUTC?Bi:Za(this);if(typeof Ft=="string"){if((Ft=qo(tn,Ft))===null)return this}else Math.abs(Ft)<16&&!gi&&(Ft*=60);return!this._isUTC&&Xt&&(Ei=Za(this)),this._offset=Ft,this._isUTC=!0,Ei!=null&&this.add(Ei,"m"),Bi!==Ft&&(!Xt||this._changeInProgress?Ja(this,so(Ft-Bi,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,st.updateOffset(this,!0),this._changeInProgress=null)),this},Jt.utc=function(Ft){return this.utcOffset(0,Ft)},Jt.local=function(Ft){return this._isUTC&&(this.utcOffset(0,Ft),this._isUTC=!1,Ft&&this.subtract(Za(this),"m")),this},Jt.parseZone=function(){var Ft;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((Ft=qo(Hi,this._i))!=null?this.utcOffset(Ft):this.utcOffset(0,!0)),this},Jt.hasAlignedHourOffset=function(Ft){return!!this.isValid()&&(Ft=Ft?Or(Ft).utcOffset():0,(this.utcOffset()-Ft)%60==0)},Jt.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Jt.isLocal=function(){return!!this.isValid()&&!this._isUTC},Jt.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},Jt.isUtc=Va,Jt.isUTC=Va,Jt.zoneAbbr=function(){return this._isUTC?"UTC":""},Jt.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},Jt.dates=di("dates accessor is deprecated. Use date instead.",ko),Jt.months=di("months accessor is deprecated. Use month instead",ir),Jt.years=di("years accessor is deprecated. Use year instead",ka),Jt.zone=di("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(Ft,Xt){return Ft!=null?(this.utcOffset(Ft=typeof Ft!="string"?-Ft:Ft,Xt),this):-this.utcOffset()}),Jt.isDSTShifted=di("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!Et(this._isDSTShifted))return this._isDSTShifted;var Ft,Xt={};return Yt(Xt,this),(Xt=Gr(Xt))._a?(Ft=(Xt._isUTC?Bt:Or)(Xt._a),this._isDSTShifted=this.isValid()&&0<function(gi,Ei,Bi){for(var un=Math.min(gi.length,Ei.length),_n=Math.abs(gi.length-Ei.length),xn=0,Un=0;Un<un;Un++)(Bi&&gi[Un]!==Ei[Un]||!Bi&&$i(gi[Un])!==$i(Ei[Un]))&&xn++;return xn+_n}(Xt._a,Ft.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),vr=wi.prototype;function Sa(Ft,Xt,gi,un){var Bi=hr(),un=Bt().set(un,Xt);return Bi[gi](un,Ft)}function Ua(Ft,Xt,gi){if(Tt(Ft)&&(Xt=Ft,Ft=void 0),Ft=Ft||"",Xt!=null)return Sa(Ft,Xt,gi,"month");for(var Ei=[],Bi=0;Bi<12;Bi++)Ei[Bi]=Sa(Ft,Bi,gi,"month");return Ei}function gs(Ft,Xt,gi,Ei){Xt=(typeof Ft=="boolean"?Tt(Xt)&&(gi=Xt,Xt=void 0):(Xt=Ft,Ft=!1,Tt(gi=Xt)&&(gi=Xt,Xt=void 0)),Xt||"");var Bi,un=hr(),_n=Ft?un._week.dow:0,xn=[];if(gi!=null)return Sa(Xt,(gi+_n)%7,Ei,"day");for(Bi=0;Bi<7;Bi++)xn[Bi]=Sa(Xt,(Bi+_n)%7,Ei,"day");return xn}vr.calendar=function(Ft,Xt,gi){return hi(Ft=this._calendar[Ft]||this._calendar.sameElse)?Ft.call(Xt,gi):Ft},vr.longDateFormat=function(Ft){var Xt=this._longDateFormat[Ft],gi=this._longDateFormat[Ft.toUpperCase()];return Xt||!gi?Xt:(this._longDateFormat[Ft]=gi.match(ni).map(function(Ei){return Ei==="MMMM"||Ei==="MM"||Ei==="DD"||Ei==="dddd"?Ei.slice(1):Ei}).join(""),this._longDateFormat[Ft])},vr.invalidDate=function(){return this._invalidDate},vr.ordinal=function(Ft){return this._ordinal.replace("%d",Ft)},vr.preparse=is,vr.postformat=is,vr.relativeTime=function(Ft,Xt,gi,Ei){var Bi=this._relativeTime[gi];return hi(Bi)?Bi(Ft,Xt,gi,Ei):Bi.replace(/%d/i,Ft)},vr.pastFuture=function(Ft,Xt){return hi(Ft=this._relativeTime[0<Ft?"future":"past"])?Ft(Xt):Ft.replace(/%s/i,Xt)},vr.set=function(Ft){var Xt,gi;for(gi in Ft)_t(Ft,gi)&&(hi(Xt=Ft[gi])?this[gi]=Xt:this["_"+gi]=Xt);this._config=Ft,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},vr.eras=function(Ft,Xt){for(var gi,Ei=this._eras||hr("en")._eras,Bi=0,un=Ei.length;Bi<un;++Bi){switch(typeof Ei[Bi].since){case"string":gi=st(Ei[Bi].since).startOf("day"),Ei[Bi].since=gi.valueOf();break}switch(typeof Ei[Bi].until){case"undefined":Ei[Bi].until=1/0;break;case"string":gi=st(Ei[Bi].until).startOf("day").valueOf(),Ei[Bi].until=gi.valueOf();break}}return Ei},vr.erasParse=function(Ft,Xt,gi){var Ei,Bi,un,_n,xn,Un=this.eras();for(Ft=Ft.toUpperCase(),Ei=0,Bi=Un.length;Ei<Bi;++Ei)if(un=Un[Ei].name.toUpperCase(),_n=Un[Ei].abbr.toUpperCase(),xn=Un[Ei].narrow.toUpperCase(),gi)switch(Xt){case"N":case"NN":case"NNN":if(_n===Ft)return Un[Ei];break;case"NNNN":if(un===Ft)return Un[Ei];break;case"NNNNN":if(xn===Ft)return Un[Ei];break}else if(0<=[un,_n,xn].indexOf(Ft))return Un[Ei]},vr.erasConvertYear=function(Ft,Xt){var gi=Ft.since<=Ft.until?1:-1;return Xt===void 0?st(Ft.since).year():st(Ft.since).year()+(Xt-Ft.offset)*gi},vr.erasAbbrRegex=function(Ft){return _t(this,"_erasAbbrRegex")||da.call(this),Ft?this._erasAbbrRegex:this._erasRegex},vr.erasNameRegex=function(Ft){return _t(this,"_erasNameRegex")||da.call(this),Ft?this._erasNameRegex:this._erasRegex},vr.erasNarrowRegex=function(Ft){return _t(this,"_erasNarrowRegex")||da.call(this),Ft?this._erasNarrowRegex:this._erasRegex},vr.months=function(Ft,Xt){return Ft?(vt(this._months)?this._months:this._months[(this._months.isFormat||Hn).test(Xt)?"format":"standalone"])[Ft.month()]:vt(this._months)?this._months:this._months.standalone},vr.monthsShort=function(Ft,Xt){return Ft?(vt(this._monthsShort)?this._monthsShort:this._monthsShort[Hn.test(Xt)?"format":"standalone"])[Ft.month()]:vt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},vr.monthsParse=function(Ft,Xt,gi){var Ei,Bi;if(this._monthsParseExact)return function(ar,_n,xn){var Un,Vn,fr,ar=ar.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Un=0;Un<12;++Un)fr=Bt([2e3,Un]),this._shortMonthsParse[Un]=this.monthsShort(fr,"").toLocaleLowerCase(),this._longMonthsParse[Un]=this.months(fr,"").toLocaleLowerCase();return xn?_n==="MMM"?(Vn=Bn.call(this._shortMonthsParse,ar))!==-1?Vn:null:(Vn=Bn.call(this._longMonthsParse,ar))!==-1?Vn:null:_n==="MMM"?(Vn=Bn.call(this._shortMonthsParse,ar))!==-1||(Vn=Bn.call(this._longMonthsParse,ar))!==-1?Vn:null:(Vn=Bn.call(this._longMonthsParse,ar))!==-1||(Vn=Bn.call(this._shortMonthsParse,ar))!==-1?Vn:null}.call(this,Ft,Xt,gi);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),Ei=0;Ei<12;Ei++)if(Bi=Bt([2e3,Ei]),gi&&!this._longMonthsParse[Ei]&&(this._longMonthsParse[Ei]=new RegExp("^"+this.months(Bi,"").replace(".","")+"$","i"),this._shortMonthsParse[Ei]=new RegExp("^"+this.monthsShort(Bi,"").replace(".","")+"$","i")),gi||this._monthsParse[Ei]||(Bi="^"+this.months(Bi,"")+"|^"+this.monthsShort(Bi,""),this._monthsParse[Ei]=new RegExp(Bi.replace(".",""),"i")),gi&&Xt==="MMMM"&&this._longMonthsParse[Ei].test(Ft)||gi&&Xt==="MMM"&&this._shortMonthsParse[Ei].test(Ft)||!gi&&this._monthsParse[Ei].test(Ft))return Ei},vr.monthsRegex=function(Ft){return this._monthsParseExact?(_t(this,"_monthsRegex")||gr.call(this),Ft?this._monthsStrictRegex:this._monthsRegex):(_t(this,"_monthsRegex")||(this._monthsRegex=sr),this._monthsStrictRegex&&Ft?this._monthsStrictRegex:this._monthsRegex)},vr.monthsShortRegex=function(Ft){return this._monthsParseExact?(_t(this,"_monthsRegex")||gr.call(this),Ft?this._monthsShortStrictRegex:this._monthsShortRegex):(_t(this,"_monthsShortRegex")||(this._monthsShortRegex=Mn),this._monthsShortStrictRegex&&Ft?this._monthsShortStrictRegex:this._monthsShortRegex)},vr.week=function(Ft){return Nr(Ft,this._week.dow,this._week.doy).week},vr.firstDayOfYear=function(){return this._week.doy},vr.firstDayOfWeek=function(){return this._week.dow},vr.weekdays=function(Ft,Xt){return Xt=vt(this._weekdays)?this._weekdays:this._weekdays[Ft&&Ft!==!0&&this._weekdays.isFormat.test(Xt)?"format":"standalone"],Ft===!0?Ir(Xt,this._week.dow):Ft?Xt[Ft.day()]:Xt},vr.weekdaysMin=function(Ft){return Ft===!0?Ir(this._weekdaysMin,this._week.dow):Ft?this._weekdaysMin[Ft.day()]:this._weekdaysMin},vr.weekdaysShort=function(Ft){return Ft===!0?Ir(this._weekdaysShort,this._week.dow):Ft?this._weekdaysShort[Ft.day()]:this._weekdaysShort},vr.weekdaysParse=function(Ft,Xt,gi){var Ei,Bi;if(this._weekdaysParseExact)return function(ar,_n,xn){var Un,Vn,fr,ar=ar.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Un=0;Un<7;++Un)fr=Bt([2e3,1]).day(Un),this._minWeekdaysParse[Un]=this.weekdaysMin(fr,"").toLocaleLowerCase(),this._shortWeekdaysParse[Un]=this.weekdaysShort(fr,"").toLocaleLowerCase(),this._weekdaysParse[Un]=this.weekdays(fr,"").toLocaleLowerCase();return xn?_n==="dddd"?(Vn=Bn.call(this._weekdaysParse,ar))!==-1?Vn:null:_n==="ddd"?(Vn=Bn.call(this._shortWeekdaysParse,ar))!==-1?Vn:null:(Vn=Bn.call(this._minWeekdaysParse,ar))!==-1?Vn:null:_n==="dddd"?(Vn=Bn.call(this._weekdaysParse,ar))!==-1||(Vn=Bn.call(this._shortWeekdaysParse,ar))!==-1||(Vn=Bn.call(this._minWeekdaysParse,ar))!==-1?Vn:null:_n==="ddd"?(Vn=Bn.call(this._shortWeekdaysParse,ar))!==-1||(Vn=Bn.call(this._weekdaysParse,ar))!==-1||(Vn=Bn.call(this._minWeekdaysParse,ar))!==-1?Vn:null:(Vn=Bn.call(this._minWeekdaysParse,ar))!==-1||(Vn=Bn.call(this._weekdaysParse,ar))!==-1||(Vn=Bn.call(this._shortWeekdaysParse,ar))!==-1?Vn:null}.call(this,Ft,Xt,gi);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),Ei=0;Ei<7;Ei++)if(Bi=Bt([2e3,1]).day(Ei),gi&&!this._fullWeekdaysParse[Ei]&&(this._fullWeekdaysParse[Ei]=new RegExp("^"+this.weekdays(Bi,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[Ei]=new RegExp("^"+this.weekdaysShort(Bi,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[Ei]=new RegExp("^"+this.weekdaysMin(Bi,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[Ei]||(Bi="^"+this.weekdays(Bi,"")+"|^"+this.weekdaysShort(Bi,"")+"|^"+this.weekdaysMin(Bi,""),this._weekdaysParse[Ei]=new RegExp(Bi.replace(".",""),"i")),gi&&Xt==="dddd"&&this._fullWeekdaysParse[Ei].test(Ft)||gi&&Xt==="ddd"&&this._shortWeekdaysParse[Ei].test(Ft)||gi&&Xt==="dd"&&this._minWeekdaysParse[Ei].test(Ft)||!gi&&this._weekdaysParse[Ei].test(Ft))return Ei},vr.weekdaysRegex=function(Ft){return this._weekdaysParseExact?(_t(this,"_weekdaysRegex")||vn.call(this),Ft?this._weekdaysStrictRegex:this._weekdaysRegex):(_t(this,"_weekdaysRegex")||(this._weekdaysRegex=Ln),this._weekdaysStrictRegex&&Ft?this._weekdaysStrictRegex:this._weekdaysRegex)},vr.weekdaysShortRegex=function(Ft){return this._weekdaysParseExact?(_t(this,"_weekdaysRegex")||vn.call(this),Ft?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_t(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=wn),this._weekdaysShortStrictRegex&&Ft?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},vr.weekdaysMinRegex=function(Ft){return this._weekdaysParseExact?(_t(this,"_weekdaysRegex")||vn.call(this),Ft?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_t(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Yi),this._weekdaysMinStrictRegex&&Ft?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},vr.isPM=function(Ft){return(Ft+"").toLowerCase().charAt(0)==="p"},vr.meridiem=function(Ft,Xt,gi){return 11<Ft?gi?"pm":"PM":gi?"am":"AM"},Qn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(Ft){var Xt=Ft%10;return Ft+($i(Ft%100/10)===1?"th":Xt==1?"st":Xt==2?"nd":Xt==3?"rd":"th")}}),st.lang=di("moment.lang is deprecated. Use moment.locale instead.",Qn),st.langData=di("moment.langData is deprecated. Use moment.localeData instead.",hr);var Xo=Math.abs;function Ns(Ft,Xt,gi,Ei){return Xt=so(Xt,gi),Ft._milliseconds+=Ei*Xt._milliseconds,Ft._days+=Ei*Xt._days,Ft._months+=Ei*Xt._months,Ft._bubble()}function Fs(Ft){return Ft<0?Math.floor(Ft):Math.ceil(Ft)}function ns(Ft){return 4800*Ft/146097}function ys(Ft){return 146097*Ft/4800}function po(Ft){return function(){return this.as(Ft)}}Li=po("ms"),Si=po("s"),Tn=po("m"),_i=po("h"),Mi=po("d"),sn=po("w"),qi=po("M"),xa=po("Q"),fo=po("y");function Ea(Ft){return function(){return this.isValid()?this._data[Ft]:NaN}}var ta=Ea("milliseconds"),ko=Ea("seconds"),ka=Ea("minutes"),vr=Ea("hours"),hl=Ea("days"),dl=Ea("months"),vs=Ea("years"),Zo=Math.round,fa={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Vo(Ft,Xt,gi,Ei){var Vn=so(Ft).abs(),fr=Zo(Vn.as("s")),Bi=Zo(Vn.as("m")),un=Zo(Vn.as("h")),_n=Zo(Vn.as("d")),xn=Zo(Vn.as("M")),Un=Zo(Vn.as("w")),Vn=Zo(Vn.as("y")),fr=(fr<=gi.ss?["s",fr]:fr<gi.s&&["ss",fr])||Bi<=1&&["m"]||Bi<gi.m&&["mm",Bi]||un<=1&&["h"]||un<gi.h&&["hh",un]||_n<=1&&["d"]||_n<gi.d&&["dd",_n];return(fr=(fr=gi.w!=null?fr||Un<=1&&["w"]||Un<gi.w&&["ww",Un]:fr)||xn<=1&&["M"]||xn<gi.M&&["MM",xn]||Vn<=1&&["y"]||["yy",Vn])[2]=Xt,fr[3]=0<+Ft,fr[4]=Ei,function(ar,Mr,Hr,zr,ia){return ia.relativeTime(Mr||1,!!Hr,ar,zr)}.apply(null,fr)}var go=Math.abs;function yo(Ft){return(0<Ft)-(Ft<0)||+Ft}function rs(){if(!this.isValid())return this.localeData().invalidDate();var Ft,Xt,gi,Ei,Bi,un,_n,xn=go(this._milliseconds)/1e3,Un=go(this._days),Vn=go(this._months),fr=this.asSeconds();return fr?(Ft=Gi(xn/60),Xt=Gi(Ft/60),xn%=60,Ft%=60,gi=Gi(Vn/12),Vn%=12,Ei=xn?xn.toFixed(3).replace(/\.?0+$/,""):"",Bi=yo(this._months)!==yo(fr)?"-":"",un=yo(this._days)!==yo(fr)?"-":"",_n=yo(this._milliseconds)!==yo(fr)?"-":"",(fr<0?"-":"")+"P"+(gi?Bi+gi+"Y":"")+(Vn?Bi+Vn+"M":"")+(Un?un+Un+"D":"")+(Xt||Ft||xn?"T":"")+(Xt?_n+Xt+"H":"")+(Ft?_n+Ft+"M":"")+(xn?_n+Ei+"S":"")):"P0D"}var Lr=ao.prototype;return Lr.isValid=function(){return this._isValid},Lr.abs=function(){var Ft=this._data;return this._milliseconds=Xo(this._milliseconds),this._days=Xo(this._days),this._months=Xo(this._months),Ft.milliseconds=Xo(Ft.milliseconds),Ft.seconds=Xo(Ft.seconds),Ft.minutes=Xo(Ft.minutes),Ft.hours=Xo(Ft.hours),Ft.months=Xo(Ft.months),Ft.years=Xo(Ft.years),this},Lr.add=function(Ft,Xt){return Ns(this,Ft,Xt,1)},Lr.subtract=function(Ft,Xt){return Ns(this,Ft,Xt,-1)},Lr.as=function(Ft){if(!this.isValid())return NaN;var Xt,gi,Ei=this._milliseconds;if((Ft=rn(Ft))==="month"||Ft==="quarter"||Ft==="year")switch(Xt=this._days+Ei/864e5,gi=this._months+ns(Xt),Ft){case"month":return gi;case"quarter":return gi/3;case"year":return gi/12}else switch(Xt=this._days+Math.round(ys(this._months)),Ft){case"week":return Xt/7+Ei/6048e5;case"day":return Xt+Ei/864e5;case"hour":return 24*Xt+Ei/36e5;case"minute":return 1440*Xt+Ei/6e4;case"second":return 86400*Xt+Ei/1e3;case"millisecond":return Math.floor(864e5*Xt)+Ei;default:throw new Error("Unknown unit "+Ft)}},Lr.asMilliseconds=Li,Lr.asSeconds=Si,Lr.asMinutes=Tn,Lr.asHours=_i,Lr.asDays=Mi,Lr.asWeeks=sn,Lr.asMonths=qi,Lr.asQuarters=xa,Lr.asYears=fo,Lr.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$i(this._months/12):NaN},Lr._bubble=function(){var Ft=this._milliseconds,Xt=this._days,gi=this._months,Ei=this._data;return 0<=Ft&&0<=Xt&&0<=gi||Ft<=0&&Xt<=0&&gi<=0||(Ft+=864e5*Fs(ys(gi)+Xt),gi=Xt=0),Ei.milliseconds=Ft%1e3,Ft=Gi(Ft/1e3),Ei.seconds=Ft%60,Ft=Gi(Ft/60),Ei.minutes=Ft%60,Ft=Gi(Ft/60),Ei.hours=Ft%24,Xt+=Gi(Ft/24),gi+=Ft=Gi(ns(Xt)),Xt-=Fs(ys(Ft)),Ft=Gi(gi/12),gi%=12,Ei.days=Xt,Ei.months=gi,Ei.years=Ft,this},Lr.clone=function(){return so(this)},Lr.get=function(Ft){return Ft=rn(Ft),this.isValid()?this[Ft+"s"]():NaN},Lr.milliseconds=ta,Lr.seconds=ko,Lr.minutes=ka,Lr.hours=vr,Lr.days=hl,Lr.weeks=function(){return Gi(this.days()/7)},Lr.months=dl,Lr.years=vs,Lr.humanize=function(Ft,Xt){if(!this.isValid())return this.localeData().invalidDate();var gi=!1,Ei=fa;return typeof Ft=="object"&&(Xt=Ft,Ft=!1),typeof Ft=="boolean"&&(gi=Ft),typeof Xt=="object"&&(Ei=Object.assign({},fa,Xt),Xt.s!=null&&Xt.ss==null&&(Ei.ss=Xt.s-1)),Ft=this.localeData(),Xt=Vo(this,!gi,Ei,Ft),gi&&(Xt=Ft.pastFuture(+this,Xt)),Ft.postformat(Xt)},Lr.toISOString=rs,Lr.toString=rs,Lr.toJSON=rs,Lr.locale=Fo,Lr.localeData=lo,Lr.toIsoString=di("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",rs),Lr.lang=hn,Ai("X",0,0,"unix"),Ai("x",0,0,"valueOf"),Wi("x",zi),Wi("X",/[+-]?\d+(\.\d{1,3})?/),Rn("X",function(Ft,Xt,gi){gi._d=new Date(1e3*parseFloat(Ft))}),Rn("x",function(Ft,Xt,gi){gi._d=new Date($i(Ft))}),st.version="2.29.4",rt=Or,st.fn=Jt,st.min=function(){return to("isBefore",[].slice.call(arguments,0))},st.max=function(){return to("isAfter",[].slice.call(arguments,0))},st.now=function(){return Date.now?Date.now():+new Date},st.utc=Bt,st.unix=function(Ft){return Or(1e3*Ft)},st.months=function(Ft,Xt){return Ua(Ft,Xt,"months")},st.isDate=$t,st.locale=Qn,st.invalid=It,st.duration=so,st.isMoment=oi,st.weekdays=function(Ft,Xt,gi){return gs(Ft,Xt,gi,"weekdays")},st.parseZone=function(){return Or.apply(null,arguments).parseZone()},st.localeData=hr,st.isDuration=So,st.monthsShort=function(Ft,Xt){return Ua(Ft,Xt,"monthsShort")},st.weekdaysMin=function(Ft,Xt,gi){return gs(Ft,Xt,gi,"weekdaysMin")},st.defineLocale=rr,st.updateLocale=function(Ft,Xt){var gi,Ei;return Xt!=null?(Ei=wr,cr[Ft]!=null&&cr[Ft].parentLocale!=null?cr[Ft].set(ei(cr[Ft]._config,Xt)):(Xt=ei(Ei=(gi=ho(Ft))!=null?gi._config:Ei,Xt),gi==null&&(Xt.abbr=Ft),(Ei=new wi(Xt)).parentLocale=cr[Ft],cr[Ft]=Ei),Qn(Ft)):cr[Ft]!=null&&(cr[Ft].parentLocale!=null?(cr[Ft]=cr[Ft].parentLocale,Ft===Qn()&&Qn(Ft)):cr[Ft]!=null&&delete cr[Ft]),cr[Ft]},st.locales=function(){return Kt(cr)},st.weekdaysShort=function(Ft,Xt,gi){return gs(Ft,Xt,gi,"weekdaysShort")},st.normalizeUnits=rn,st.relativeTimeRounding=function(Ft){return Ft===void 0?Zo:typeof Ft=="function"&&(Zo=Ft,!0)},st.relativeTimeThreshold=function(Ft,Xt){return fa[Ft]!==void 0&&(Xt===void 0?fa[Ft]:(fa[Ft]=Xt,Ft==="s"&&(fa.ss=Xt-1),!0))},st.calendarFormat=function(Ft,Xt){return(Ft=Ft.diff(Xt,"days",!0))<-6?"sameElse":Ft<-1?"lastWeek":Ft<0?"lastDay":Ft<1?"sameDay":Ft<2?"nextDay":Ft<7?"nextWeek":"sameElse"},st.prototype=Jt,st.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},st})})(moment_min);const moment=moment_min.exports;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});var sanitizeUrl_1=dist.sanitizeUrl=void 0,invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,htmlCtrlEntityRegex=/&(newline|tab);/gi,ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,urlSchemeRegex=/^.+(:|&colon;)/gim,relativeFirstCharacters=[".","/"];function isRelativeUrlWithoutProtocol(it){return relativeFirstCharacters.indexOf(it[0])>-1}function decodeHtmlCharacters(it){return it.replace(htmlEntitiesRegex,function(nt,rt){return String.fromCharCode(rt)})}function sanitizeUrl(it){var nt=decodeHtmlCharacters(it||"").replace(htmlCtrlEntityRegex,"").replace(ctrlCharactersRegex,"").trim();if(!nt)return"about:blank";if(isRelativeUrlWithoutProtocol(nt))return nt;var rt=nt.match(urlSchemeRegex);if(!rt)return nt;var st=rt[0];return invalidProtocolRegex.test(st)?"about:blank":nt}sanitizeUrl_1=dist.sanitizeUrl=sanitizeUrl;function ascending$1(it,nt){return it==null||nt==null?NaN:it<nt?-1:it>nt?1:it>=nt?0:NaN}function descending$1(it,nt){return it==null||nt==null?NaN:nt<it?-1:nt>it?1:nt>=it?0:NaN}function bisector(it){let nt,rt,st;it.length!==2?(nt=ascending$1,rt=(wt,Et)=>ascending$1(it(wt),Et),st=(wt,Et)=>it(wt)-Et):(nt=it===ascending$1||it===descending$1?it:zero$1,rt=it,st=it);function vt(wt,Et,Tt=0,$t=wt.length){if(Tt<$t){if(nt(Et,Et)!==0)return $t;do{const Dt=Tt+$t>>>1;rt(wt[Dt],Et)<0?Tt=Dt+1:$t=Dt}while(Tt<$t)}return Tt}function bt(wt,Et,Tt=0,$t=wt.length){if(Tt<$t){if(nt(Et,Et)!==0)return $t;do{const Dt=Tt+$t>>>1;rt(wt[Dt],Et)<=0?Tt=Dt+1:$t=Dt}while(Tt<$t)}return Tt}function _t(wt,Et,Tt=0,$t=wt.length){const Dt=vt(wt,Et,Tt,$t-1);return Dt>Tt&&st(wt[Dt-1],Et)>-st(wt[Dt],Et)?Dt-1:Dt}return{left:vt,center:_t,right:bt}}function zero$1(){return 0}function number$3(it){return it===null?NaN:+it}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$3).center;const bisect=bisectRight;class InternMap extends Map{constructor(nt,rt=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:rt}}),nt!=null)for(const[st,vt]of nt)this.set(st,vt)}get(nt){return super.get(intern_get(this,nt))}has(nt){return super.has(intern_get(this,nt))}set(nt,rt){return super.set(intern_set(this,nt),rt)}delete(nt){return super.delete(intern_delete(this,nt))}}function intern_get({_intern:it,_key:nt},rt){const st=nt(rt);return it.has(st)?it.get(st):rt}function intern_set({_intern:it,_key:nt},rt){const st=nt(rt);return it.has(st)?it.get(st):(it.set(st,rt),rt)}function intern_delete({_intern:it,_key:nt},rt){const st=nt(rt);return it.has(st)&&(rt=it.get(st),it.delete(st)),rt}function keyof(it){return it!==null&&typeof it=="object"?it.valueOf():it}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(it,nt,rt){var st,vt=-1,bt,_t,wt;if(nt=+nt,it=+it,rt=+rt,it===nt&&rt>0)return[it];if((st=nt<it)&&(bt=it,it=nt,nt=bt),(wt=tickIncrement(it,nt,rt))===0||!isFinite(wt))return[];if(wt>0){let Et=Math.round(it/wt),Tt=Math.round(nt/wt);for(Et*wt<it&&++Et,Tt*wt>nt&&--Tt,_t=new Array(bt=Tt-Et+1);++vt<bt;)_t[vt]=(Et+vt)*wt}else{wt=-wt;let Et=Math.round(it*wt),Tt=Math.round(nt*wt);for(Et/wt<it&&++Et,Tt/wt>nt&&--Tt,_t=new Array(bt=Tt-Et+1);++vt<bt;)_t[vt]=(Et+vt)/wt}return st&&_t.reverse(),_t}function tickIncrement(it,nt,rt){var st=(nt-it)/Math.max(0,rt),vt=Math.floor(Math.log(st)/Math.LN10),bt=st/Math.pow(10,vt);return vt>=0?(bt>=e10?10:bt>=e5?5:bt>=e2?2:1)*Math.pow(10,vt):-Math.pow(10,-vt)/(bt>=e10?10:bt>=e5?5:bt>=e2?2:1)}function tickStep(it,nt,rt){var st=Math.abs(nt-it)/Math.max(0,rt),vt=Math.pow(10,Math.floor(Math.log(st)/Math.LN10)),bt=st/vt;return bt>=e10?vt*=10:bt>=e5?vt*=5:bt>=e2&&(vt*=2),nt<it?-vt:vt}function max$2(it,nt){let rt;if(nt===void 0)for(const st of it)st!=null&&(rt<st||rt===void 0&&st>=st)&&(rt=st);else{let st=-1;for(let vt of it)(vt=nt(vt,++st,it))!=null&&(rt<vt||rt===void 0&&vt>=vt)&&(rt=vt)}return rt}function min$2(it,nt){let rt;if(nt===void 0)for(const st of it)st!=null&&(rt>st||rt===void 0&&st>=st)&&(rt=st);else{let st=-1;for(let vt of it)(vt=nt(vt,++st,it))!=null&&(rt>vt||rt===void 0&&vt>=vt)&&(rt=vt)}return rt}function identity$5(it){return it}var top=1,right=2,bottom=3,left=4,epsilon$2=1e-6;function translateX(it){return"translate("+it+",0)"}function translateY(it){return"translate(0,"+it+")"}function number$2(it){return nt=>+it(nt)}function center(it,nt){return nt=Math.max(0,it.bandwidth()-nt*2)/2,it.round()&&(nt=Math.round(nt)),rt=>+it(rt)+nt}function entering(){return!this.__axis}function axis(it,nt){var rt=[],st=null,vt=null,bt=6,_t=6,wt=3,Et=typeof window<"u"&&window.devicePixelRatio>1?0:.5,Tt=it===top||it===left?-1:1,$t=it===left||it===right?"x":"y",Dt=it===top||it===bottom?translateX:translateY;function Lt(Bt){var Ht=st==null?nt.ticks?nt.ticks.apply(nt,rt):nt.domain():st,Ut=vt==null?nt.tickFormat?nt.tickFormat.apply(nt,rt):identity$5:vt,It=Math.max(bt,0)+wt,jt=nt.range(),Wt=+jt[0]+Et,qt=+jt[jt.length-1]+Et,Yt=(nt.bandwidth?center:number$2)(nt.copy(),Et),ti=Bt.selection?Bt.selection():Bt,oi=ti.selectAll(".domain").data([null]),si=ti.selectAll(".tick").data(Ht,nt).order(),di=si.exit(),ui=si.enter().append("g").attr("class","tick"),ci=si.select("line"),hi=si.select("text");oi=oi.merge(oi.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),si=si.merge(ui),ci=ci.merge(ui.append("line").attr("stroke","currentColor").attr($t+"2",Tt*bt)),hi=hi.merge(ui.append("text").attr("fill","currentColor").attr($t,Tt*It).attr("dy",it===top?"0em":it===bottom?"0.71em":"0.32em")),Bt!==ti&&(oi=oi.transition(Bt),si=si.transition(Bt),ci=ci.transition(Bt),hi=hi.transition(Bt),di=di.transition(Bt).attr("opacity",epsilon$2).attr("transform",function(ei){return isFinite(ei=Yt(ei))?Dt(ei+Et):this.getAttribute("transform")}),ui.attr("opacity",epsilon$2).attr("transform",function(ei){var wi=this.parentNode.__axis;return Dt((wi&&isFinite(wi=wi(ei))?wi:Yt(ei))+Et)})),di.remove(),oi.attr("d",it===left||it===right?_t?"M"+Tt*_t+","+Wt+"H"+Et+"V"+qt+"H"+Tt*_t:"M"+Et+","+Wt+"V"+qt:_t?"M"+Wt+","+Tt*_t+"V"+Et+"H"+qt+"V"+Tt*_t:"M"+Wt+","+Et+"H"+qt),si.attr("opacity",1).attr("transform",function(ei){return Dt(Yt(ei)+Et)}),ci.attr($t+"2",Tt*bt),hi.attr($t,Tt*It).text(Ut),ti.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",it===right?"start":it===left?"end":"middle"),ti.each(function(){this.__axis=Yt})}return Lt.scale=function(Bt){return arguments.length?(nt=Bt,Lt):nt},Lt.ticks=function(){return rt=Array.from(arguments),Lt},Lt.tickArguments=function(Bt){return arguments.length?(rt=Bt==null?[]:Array.from(Bt),Lt):rt.slice()},Lt.tickValues=function(Bt){return arguments.length?(st=Bt==null?null:Array.from(Bt),Lt):st&&st.slice()},Lt.tickFormat=function(Bt){return arguments.length?(vt=Bt,Lt):vt},Lt.tickSize=function(Bt){return arguments.length?(bt=_t=+Bt,Lt):bt},Lt.tickSizeInner=function(Bt){return arguments.length?(bt=+Bt,Lt):bt},Lt.tickSizeOuter=function(Bt){return arguments.length?(_t=+Bt,Lt):_t},Lt.tickPadding=function(Bt){return arguments.length?(wt=+Bt,Lt):wt},Lt.offset=function(Bt){return arguments.length?(Et=+Bt,Lt):Et},Lt}function axisTop(it){return axis(top,it)}function axisBottom(it){return axis(bottom,it)}var noop$2={value:()=>{}};function dispatch(){for(var it=0,nt=arguments.length,rt={},st;it<nt;++it){if(!(st=arguments[it]+"")||st in rt||/[\s.]/.test(st))throw new Error("illegal type: "+st);rt[st]=[]}return new Dispatch(rt)}function Dispatch(it){this._=it}function parseTypenames$1(it,nt){return it.trim().split(/^|\s+/).map(function(rt){var st="",vt=rt.indexOf(".");if(vt>=0&&(st=rt.slice(vt+1),rt=rt.slice(0,vt)),rt&&!nt.hasOwnProperty(rt))throw new Error("unknown type: "+rt);return{type:rt,name:st}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(it,nt){var rt=this._,st=parseTypenames$1(it+"",rt),vt,bt=-1,_t=st.length;if(arguments.length<2){for(;++bt<_t;)if((vt=(it=st[bt]).type)&&(vt=get$2(rt[vt],it.name)))return vt;return}if(nt!=null&&typeof nt!="function")throw new Error("invalid callback: "+nt);for(;++bt<_t;)if(vt=(it=st[bt]).type)rt[vt]=set$2(rt[vt],it.name,nt);else if(nt==null)for(vt in rt)rt[vt]=set$2(rt[vt],it.name,null);return this},copy:function(){var it={},nt=this._;for(var rt in nt)it[rt]=nt[rt].slice();return new Dispatch(it)},call:function(it,nt){if((vt=arguments.length-2)>0)for(var rt=new Array(vt),st=0,vt,bt;st<vt;++st)rt[st]=arguments[st+2];if(!this._.hasOwnProperty(it))throw new Error("unknown type: "+it);for(bt=this._[it],st=0,vt=bt.length;st<vt;++st)bt[st].value.apply(nt,rt)},apply:function(it,nt,rt){if(!this._.hasOwnProperty(it))throw new Error("unknown type: "+it);for(var st=this._[it],vt=0,bt=st.length;vt<bt;++vt)st[vt].value.apply(nt,rt)}};function get$2(it,nt){for(var rt=0,st=it.length,vt;rt<st;++rt)if((vt=it[rt]).name===nt)return vt.value}function set$2(it,nt,rt){for(var st=0,vt=it.length;st<vt;++st)if(it[st].name===nt){it[st]=noop$2,it=it.slice(0,st).concat(it.slice(st+1));break}return rt!=null&&it.push({name:nt,value:rt}),it}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(it){var nt=it+="",rt=nt.indexOf(":");return rt>=0&&(nt=it.slice(0,rt))!=="xmlns"&&(it=it.slice(rt+1)),namespaces.hasOwnProperty(nt)?{space:namespaces[nt],local:it}:it}function creatorInherit(it){return function(){var nt=this.ownerDocument,rt=this.namespaceURI;return rt===xhtml&&nt.documentElement.namespaceURI===xhtml?nt.createElement(it):nt.createElementNS(rt,it)}}function creatorFixed(it){return function(){return this.ownerDocument.createElementNS(it.space,it.local)}}function creator(it){var nt=namespace(it);return(nt.local?creatorFixed:creatorInherit)(nt)}function none(){}function selector(it){return it==null?none:function(){return this.querySelector(it)}}function selection_select(it){typeof it!="function"&&(it=selector(it));for(var nt=this._groups,rt=nt.length,st=new Array(rt),vt=0;vt<rt;++vt)for(var bt=nt[vt],_t=bt.length,wt=st[vt]=new Array(_t),Et,Tt,$t=0;$t<_t;++$t)(Et=bt[$t])&&(Tt=it.call(Et,Et.__data__,$t,bt))&&("__data__"in Et&&(Tt.__data__=Et.__data__),wt[$t]=Tt);return new Selection$1(st,this._parents)}function array$1(it){return it==null?[]:Array.isArray(it)?it:Array.from(it)}function empty(){return[]}function selectorAll(it){return it==null?empty:function(){return this.querySelectorAll(it)}}function arrayAll(it){return function(){return array$1(it.apply(this,arguments))}}function selection_selectAll(it){typeof it=="function"?it=arrayAll(it):it=selectorAll(it);for(var nt=this._groups,rt=nt.length,st=[],vt=[],bt=0;bt<rt;++bt)for(var _t=nt[bt],wt=_t.length,Et,Tt=0;Tt<wt;++Tt)(Et=_t[Tt])&&(st.push(it.call(Et,Et.__data__,Tt,_t)),vt.push(Et));return new Selection$1(st,vt)}function matcher(it){return function(){return this.matches(it)}}function childMatcher(it){return function(nt){return nt.matches(it)}}var find$2=Array.prototype.find;function childFind(it){return function(){return find$2.call(this.children,it)}}function childFirst(){return this.firstElementChild}function selection_selectChild(it){return this.select(it==null?childFirst:childFind(typeof it=="function"?it:childMatcher(it)))}var filter$1=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(it){return function(){return filter$1.call(this.children,it)}}function selection_selectChildren(it){return this.selectAll(it==null?children:childrenFilter(typeof it=="function"?it:childMatcher(it)))}function selection_filter(it){typeof it!="function"&&(it=matcher(it));for(var nt=this._groups,rt=nt.length,st=new Array(rt),vt=0;vt<rt;++vt)for(var bt=nt[vt],_t=bt.length,wt=st[vt]=[],Et,Tt=0;Tt<_t;++Tt)(Et=bt[Tt])&&it.call(Et,Et.__data__,Tt,bt)&&wt.push(Et);return new Selection$1(st,this._parents)}function sparse(it){return new Array(it.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(it,nt){this.ownerDocument=it.ownerDocument,this.namespaceURI=it.namespaceURI,this._next=null,this._parent=it,this.__data__=nt}EnterNode.prototype={constructor:EnterNode,appendChild:function(it){return this._parent.insertBefore(it,this._next)},insertBefore:function(it,nt){return this._parent.insertBefore(it,nt)},querySelector:function(it){return this._parent.querySelector(it)},querySelectorAll:function(it){return this._parent.querySelectorAll(it)}};function constant$3(it){return function(){return it}}function bindIndex(it,nt,rt,st,vt,bt){for(var _t=0,wt,Et=nt.length,Tt=bt.length;_t<Tt;++_t)(wt=nt[_t])?(wt.__data__=bt[_t],st[_t]=wt):rt[_t]=new EnterNode(it,bt[_t]);for(;_t<Et;++_t)(wt=nt[_t])&&(vt[_t]=wt)}function bindKey(it,nt,rt,st,vt,bt,_t){var wt,Et,Tt=new Map,$t=nt.length,Dt=bt.length,Lt=new Array($t),Bt;for(wt=0;wt<$t;++wt)(Et=nt[wt])&&(Lt[wt]=Bt=_t.call(Et,Et.__data__,wt,nt)+"",Tt.has(Bt)?vt[wt]=Et:Tt.set(Bt,Et));for(wt=0;wt<Dt;++wt)Bt=_t.call(it,bt[wt],wt,bt)+"",(Et=Tt.get(Bt))?(st[wt]=Et,Et.__data__=bt[wt],Tt.delete(Bt)):rt[wt]=new EnterNode(it,bt[wt]);for(wt=0;wt<$t;++wt)(Et=nt[wt])&&Tt.get(Lt[wt])===Et&&(vt[wt]=Et)}function datum(it){return it.__data__}function selection_data(it,nt){if(!arguments.length)return Array.from(this,datum);var rt=nt?bindKey:bindIndex,st=this._parents,vt=this._groups;typeof it!="function"&&(it=constant$3(it));for(var bt=vt.length,_t=new Array(bt),wt=new Array(bt),Et=new Array(bt),Tt=0;Tt<bt;++Tt){var $t=st[Tt],Dt=vt[Tt],Lt=Dt.length,Bt=arraylike(it.call($t,$t&&$t.__data__,Tt,st)),Ht=Bt.length,Ut=wt[Tt]=new Array(Ht),It=_t[Tt]=new Array(Ht),jt=Et[Tt]=new Array(Lt);rt($t,Dt,Ut,It,jt,Bt,nt);for(var Wt=0,qt=0,Yt,ti;Wt<Ht;++Wt)if(Yt=Ut[Wt]){for(Wt>=qt&&(qt=Wt+1);!(ti=It[qt])&&++qt<Ht;);Yt._next=ti||null}}return _t=new Selection$1(_t,st),_t._enter=wt,_t._exit=Et,_t}function arraylike(it){return typeof it=="object"&&"length"in it?it:Array.from(it)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(it,nt,rt){var st=this.enter(),vt=this,bt=this.exit();return typeof it=="function"?(st=it(st),st&&(st=st.selection())):st=st.append(it+""),nt!=null&&(vt=nt(vt),vt&&(vt=vt.selection())),rt==null?bt.remove():rt(bt),st&&vt?st.merge(vt).order():vt}function selection_merge(it){for(var nt=it.selection?it.selection():it,rt=this._groups,st=nt._groups,vt=rt.length,bt=st.length,_t=Math.min(vt,bt),wt=new Array(vt),Et=0;Et<_t;++Et)for(var Tt=rt[Et],$t=st[Et],Dt=Tt.length,Lt=wt[Et]=new Array(Dt),Bt,Ht=0;Ht<Dt;++Ht)(Bt=Tt[Ht]||$t[Ht])&&(Lt[Ht]=Bt);for(;Et<vt;++Et)wt[Et]=rt[Et];return new Selection$1(wt,this._parents)}function selection_order(){for(var it=this._groups,nt=-1,rt=it.length;++nt<rt;)for(var st=it[nt],vt=st.length-1,bt=st[vt],_t;--vt>=0;)(_t=st[vt])&&(bt&&_t.compareDocumentPosition(bt)^4&&bt.parentNode.insertBefore(_t,bt),bt=_t);return this}function selection_sort(it){it||(it=ascending);function nt(Dt,Lt){return Dt&&Lt?it(Dt.__data__,Lt.__data__):!Dt-!Lt}for(var rt=this._groups,st=rt.length,vt=new Array(st),bt=0;bt<st;++bt){for(var _t=rt[bt],wt=_t.length,Et=vt[bt]=new Array(wt),Tt,$t=0;$t<wt;++$t)(Tt=_t[$t])&&(Et[$t]=Tt);Et.sort(nt)}return new Selection$1(vt,this._parents).order()}function ascending(it,nt){return it<nt?-1:it>nt?1:it>=nt?0:NaN}function selection_call(){var it=arguments[0];return arguments[0]=this,it.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var it=this._groups,nt=0,rt=it.length;nt<rt;++nt)for(var st=it[nt],vt=0,bt=st.length;vt<bt;++vt){var _t=st[vt];if(_t)return _t}return null}function selection_size(){let it=0;for(const nt of this)++it;return it}function selection_empty(){return!this.node()}function selection_each(it){for(var nt=this._groups,rt=0,st=nt.length;rt<st;++rt)for(var vt=nt[rt],bt=0,_t=vt.length,wt;bt<_t;++bt)(wt=vt[bt])&&it.call(wt,wt.__data__,bt,vt);return this}function attrRemove$1(it){return function(){this.removeAttribute(it)}}function attrRemoveNS$1(it){return function(){this.removeAttributeNS(it.space,it.local)}}function attrConstant$1(it,nt){return function(){this.setAttribute(it,nt)}}function attrConstantNS$1(it,nt){return function(){this.setAttributeNS(it.space,it.local,nt)}}function attrFunction$1(it,nt){return function(){var rt=nt.apply(this,arguments);rt==null?this.removeAttribute(it):this.setAttribute(it,rt)}}function attrFunctionNS$1(it,nt){return function(){var rt=nt.apply(this,arguments);rt==null?this.removeAttributeNS(it.space,it.local):this.setAttributeNS(it.space,it.local,rt)}}function selection_attr(it,nt){var rt=namespace(it);if(arguments.length<2){var st=this.node();return rt.local?st.getAttributeNS(rt.space,rt.local):st.getAttribute(rt)}return this.each((nt==null?rt.local?attrRemoveNS$1:attrRemove$1:typeof nt=="function"?rt.local?attrFunctionNS$1:attrFunction$1:rt.local?attrConstantNS$1:attrConstant$1)(rt,nt))}function defaultView(it){return it.ownerDocument&&it.ownerDocument.defaultView||it.document&&it||it.defaultView}function styleRemove$1(it){return function(){this.style.removeProperty(it)}}function styleConstant$1(it,nt,rt){return function(){this.style.setProperty(it,nt,rt)}}function styleFunction$1(it,nt,rt){return function(){var st=nt.apply(this,arguments);st==null?this.style.removeProperty(it):this.style.setProperty(it,st,rt)}}function selection_style(it,nt,rt){return arguments.length>1?this.each((nt==null?styleRemove$1:typeof nt=="function"?styleFunction$1:styleConstant$1)(it,nt,rt==null?"":rt)):styleValue(this.node(),it)}function styleValue(it,nt){return it.style.getPropertyValue(nt)||defaultView(it).getComputedStyle(it,null).getPropertyValue(nt)}function propertyRemove(it){return function(){delete this[it]}}function propertyConstant(it,nt){return function(){this[it]=nt}}function propertyFunction(it,nt){return function(){var rt=nt.apply(this,arguments);rt==null?delete this[it]:this[it]=rt}}function selection_property(it,nt){return arguments.length>1?this.each((nt==null?propertyRemove:typeof nt=="function"?propertyFunction:propertyConstant)(it,nt)):this.node()[it]}function classArray(it){return it.trim().split(/^|\s+/)}function classList(it){return it.classList||new ClassList(it)}function ClassList(it){this._node=it,this._names=classArray(it.getAttribute("class")||"")}ClassList.prototype={add:function(it){var nt=this._names.indexOf(it);nt<0&&(this._names.push(it),this._node.setAttribute("class",this._names.join(" ")))},remove:function(it){var nt=this._names.indexOf(it);nt>=0&&(this._names.splice(nt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(it){return this._names.indexOf(it)>=0}};function classedAdd(it,nt){for(var rt=classList(it),st=-1,vt=nt.length;++st<vt;)rt.add(nt[st])}function classedRemove(it,nt){for(var rt=classList(it),st=-1,vt=nt.length;++st<vt;)rt.remove(nt[st])}function classedTrue(it){return function(){classedAdd(this,it)}}function classedFalse(it){return function(){classedRemove(this,it)}}function classedFunction(it,nt){return function(){(nt.apply(this,arguments)?classedAdd:classedRemove)(this,it)}}function selection_classed(it,nt){var rt=classArray(it+"");if(arguments.length<2){for(var st=classList(this.node()),vt=-1,bt=rt.length;++vt<bt;)if(!st.contains(rt[vt]))return!1;return!0}return this.each((typeof nt=="function"?classedFunction:nt?classedTrue:classedFalse)(rt,nt))}function textRemove(){this.textContent=""}function textConstant$1(it){return function(){this.textContent=it}}function textFunction$1(it){return function(){var nt=it.apply(this,arguments);this.textContent=nt==null?"":nt}}function selection_text(it){return arguments.length?this.each(it==null?textRemove:(typeof it=="function"?textFunction$1:textConstant$1)(it)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(it){return function(){this.innerHTML=it}}function htmlFunction(it){return function(){var nt=it.apply(this,arguments);this.innerHTML=nt==null?"":nt}}function selection_html(it){return arguments.length?this.each(it==null?htmlRemove:(typeof it=="function"?htmlFunction:htmlConstant)(it)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(it){var nt=typeof it=="function"?it:creator(it);return this.select(function(){return this.appendChild(nt.apply(this,arguments))})}function constantNull(){return null}function selection_insert(it,nt){var rt=typeof it=="function"?it:creator(it),st=nt==null?constantNull:typeof nt=="function"?nt:selector(nt);return this.select(function(){return this.insertBefore(rt.apply(this,arguments),st.apply(this,arguments)||null)})}function remove(){var it=this.parentNode;it&&it.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var it=this.cloneNode(!1),nt=this.parentNode;return nt?nt.insertBefore(it,this.nextSibling):it}function selection_cloneDeep(){var it=this.cloneNode(!0),nt=this.parentNode;return nt?nt.insertBefore(it,this.nextSibling):it}function selection_clone(it){return this.select(it?selection_cloneDeep:selection_cloneShallow)}function selection_datum(it){return arguments.length?this.property("__data__",it):this.node().__data__}function contextListener(it){return function(nt){it.call(this,nt,this.__data__)}}function parseTypenames(it){return it.trim().split(/^|\s+/).map(function(nt){var rt="",st=nt.indexOf(".");return st>=0&&(rt=nt.slice(st+1),nt=nt.slice(0,st)),{type:nt,name:rt}})}function onRemove(it){return function(){var nt=this.__on;if(!!nt){for(var rt=0,st=-1,vt=nt.length,bt;rt<vt;++rt)bt=nt[rt],(!it.type||bt.type===it.type)&&bt.name===it.name?this.removeEventListener(bt.type,bt.listener,bt.options):nt[++st]=bt;++st?nt.length=st:delete this.__on}}}function onAdd(it,nt,rt){return function(){var st=this.__on,vt,bt=contextListener(nt);if(st){for(var _t=0,wt=st.length;_t<wt;++_t)if((vt=st[_t]).type===it.type&&vt.name===it.name){this.removeEventListener(vt.type,vt.listener,vt.options),this.addEventListener(vt.type,vt.listener=bt,vt.options=rt),vt.value=nt;return}}this.addEventListener(it.type,bt,rt),vt={type:it.type,name:it.name,value:nt,listener:bt,options:rt},st?st.push(vt):this.__on=[vt]}}function selection_on(it,nt,rt){var st=parseTypenames(it+""),vt,bt=st.length,_t;if(arguments.length<2){var wt=this.node().__on;if(wt){for(var Et=0,Tt=wt.length,$t;Et<Tt;++Et)for(vt=0,$t=wt[Et];vt<bt;++vt)if((_t=st[vt]).type===$t.type&&_t.name===$t.name)return $t.value}return}for(wt=nt?onAdd:onRemove,vt=0;vt<bt;++vt)this.each(wt(st[vt],nt,rt));return this}function dispatchEvent(it,nt,rt){var st=defaultView(it),vt=st.CustomEvent;typeof vt=="function"?vt=new vt(nt,rt):(vt=st.document.createEvent("Event"),rt?(vt.initEvent(nt,rt.bubbles,rt.cancelable),vt.detail=rt.detail):vt.initEvent(nt,!1,!1)),it.dispatchEvent(vt)}function dispatchConstant(it,nt){return function(){return dispatchEvent(this,it,nt)}}function dispatchFunction(it,nt){return function(){return dispatchEvent(this,it,nt.apply(this,arguments))}}function selection_dispatch(it,nt){return this.each((typeof nt=="function"?dispatchFunction:dispatchConstant)(it,nt))}function*selection_iterator(){for(var it=this._groups,nt=0,rt=it.length;nt<rt;++nt)for(var st=it[nt],vt=0,bt=st.length,_t;vt<bt;++vt)(_t=st[vt])&&(yield _t)}var root$2=[null];function Selection$1(it,nt){this._groups=it,this._parents=nt}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(it){return typeof it=="string"?new Selection$1([[document.querySelector(it)]],[document.documentElement]):new Selection$1([[it]],root$2)}function selectAll(it){return typeof it=="string"?new Selection$1([document.querySelectorAll(it)],[document.documentElement]):new Selection$1([array$1(it)],root$2)}function define(it,nt,rt){it.prototype=nt.prototype=rt,rt.constructor=it}function extend$1(it,nt){var rt=Object.create(it.prototype);for(var st in nt)rt[st]=nt[st];return rt}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define(Color$2,color,{copy(it){return Object.assign(new this.constructor,this,it)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(it){var nt,rt;return it=(it+"").trim().toLowerCase(),(nt=reHex.exec(it))?(rt=nt[1].length,nt=parseInt(nt[1],16),rt===6?rgbn(nt):rt===3?new Rgb(nt>>8&15|nt>>4&240,nt>>4&15|nt&240,(nt&15)<<4|nt&15,1):rt===8?rgba$2(nt>>24&255,nt>>16&255,nt>>8&255,(nt&255)/255):rt===4?rgba$2(nt>>12&15|nt>>8&240,nt>>8&15|nt>>4&240,nt>>4&15|nt&240,((nt&15)<<4|nt&15)/255):null):(nt=reRgbInteger.exec(it))?new Rgb(nt[1],nt[2],nt[3],1):(nt=reRgbPercent.exec(it))?new Rgb(nt[1]*255/100,nt[2]*255/100,nt[3]*255/100,1):(nt=reRgbaInteger.exec(it))?rgba$2(nt[1],nt[2],nt[3],nt[4]):(nt=reRgbaPercent.exec(it))?rgba$2(nt[1]*255/100,nt[2]*255/100,nt[3]*255/100,nt[4]):(nt=reHslPercent.exec(it))?hsla(nt[1],nt[2]/100,nt[3]/100,1):(nt=reHslaPercent.exec(it))?hsla(nt[1],nt[2]/100,nt[3]/100,nt[4]):named.hasOwnProperty(it)?rgbn(named[it]):it==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(it){return new Rgb(it>>16&255,it>>8&255,it&255,1)}function rgba$2(it,nt,rt,st){return st<=0&&(it=nt=rt=NaN),new Rgb(it,nt,rt,st)}function rgbConvert(it){return it instanceof Color$2||(it=color(it)),it?(it=it.rgb(),new Rgb(it.r,it.g,it.b,it.opacity)):new Rgb}function rgb(it,nt,rt,st){return arguments.length===1?rgbConvert(it):new Rgb(it,nt,rt,st==null?1:st)}function Rgb(it,nt,rt,st){this.r=+it,this.g=+nt,this.b=+rt,this.opacity=+st}define(Rgb,rgb,extend$1(Color$2,{brighter(it){return it=it==null?brighter:Math.pow(brighter,it),new Rgb(this.r*it,this.g*it,this.b*it,this.opacity)},darker(it){return it=it==null?darker:Math.pow(darker,it),new Rgb(this.r*it,this.g*it,this.b*it,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const it=clampa(this.opacity);return`${it===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${it===1?")":`, ${it})`}`}function clampa(it){return isNaN(it)?1:Math.max(0,Math.min(1,it))}function clampi(it){return Math.max(0,Math.min(255,Math.round(it)||0))}function hex(it){return it=clampi(it),(it<16?"0":"")+it.toString(16)}function hsla(it,nt,rt,st){return st<=0?it=nt=rt=NaN:rt<=0||rt>=1?it=nt=NaN:nt<=0&&(it=NaN),new Hsl(it,nt,rt,st)}function hslConvert(it){if(it instanceof Hsl)return new Hsl(it.h,it.s,it.l,it.opacity);if(it instanceof Color$2||(it=color(it)),!it)return new Hsl;if(it instanceof Hsl)return it;it=it.rgb();var nt=it.r/255,rt=it.g/255,st=it.b/255,vt=Math.min(nt,rt,st),bt=Math.max(nt,rt,st),_t=NaN,wt=bt-vt,Et=(bt+vt)/2;return wt?(nt===bt?_t=(rt-st)/wt+(rt<st)*6:rt===bt?_t=(st-nt)/wt+2:_t=(nt-rt)/wt+4,wt/=Et<.5?bt+vt:2-bt-vt,_t*=60):wt=Et>0&&Et<1?0:_t,new Hsl(_t,wt,Et,it.opacity)}function hsl(it,nt,rt,st){return arguments.length===1?hslConvert(it):new Hsl(it,nt,rt,st==null?1:st)}function Hsl(it,nt,rt,st){this.h=+it,this.s=+nt,this.l=+rt,this.opacity=+st}define(Hsl,hsl,extend$1(Color$2,{brighter(it){return it=it==null?brighter:Math.pow(brighter,it),new Hsl(this.h,this.s,this.l*it,this.opacity)},darker(it){return it=it==null?darker:Math.pow(darker,it),new Hsl(this.h,this.s,this.l*it,this.opacity)},rgb(){var it=this.h%360+(this.h<0)*360,nt=isNaN(it)||isNaN(this.s)?0:this.s,rt=this.l,st=rt+(rt<.5?rt:1-rt)*nt,vt=2*rt-st;return new Rgb(hsl2rgb(it>=240?it-240:it+120,vt,st),hsl2rgb(it,vt,st),hsl2rgb(it<120?it+240:it-120,vt,st),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const it=clampa(this.opacity);return`${it===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${it===1?")":`, ${it})`}`}}));function clamph(it){return it=(it||0)%360,it<0?it+360:it}function clampt(it){return Math.max(0,Math.min(1,it||0))}function hsl2rgb(it,nt,rt){return(it<60?nt+(rt-nt)*it/60:it<180?rt:it<240?nt+(rt-nt)*(240-it)/60:nt)*255}const radians=Math.PI/180,degrees$1=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(it){if(it instanceof Lab)return new Lab(it.l,it.a,it.b,it.opacity);if(it instanceof Hcl)return hcl2lab(it);it instanceof Rgb||(it=rgbConvert(it));var nt=rgb2lrgb(it.r),rt=rgb2lrgb(it.g),st=rgb2lrgb(it.b),vt=xyz2lab((.2225045*nt+.7168786*rt+.0606169*st)/Yn),bt,_t;return nt===rt&&rt===st?bt=_t=vt:(bt=xyz2lab((.4360747*nt+.3850649*rt+.1430804*st)/Xn),_t=xyz2lab((.0139322*nt+.0971045*rt+.7141733*st)/Zn)),new Lab(116*vt-16,500*(bt-vt),200*(vt-_t),it.opacity)}function lab(it,nt,rt,st){return arguments.length===1?labConvert(it):new Lab(it,nt,rt,st==null?1:st)}function Lab(it,nt,rt,st){this.l=+it,this.a=+nt,this.b=+rt,this.opacity=+st}define(Lab,lab,extend$1(Color$2,{brighter(it){return new Lab(this.l+K*(it==null?1:it),this.a,this.b,this.opacity)},darker(it){return new Lab(this.l-K*(it==null?1:it),this.a,this.b,this.opacity)},rgb(){var it=(this.l+16)/116,nt=isNaN(this.a)?it:it+this.a/500,rt=isNaN(this.b)?it:it-this.b/200;return nt=Xn*lab2xyz(nt),it=Yn*lab2xyz(it),rt=Zn*lab2xyz(rt),new Rgb(lrgb2rgb(3.1338561*nt-1.6168667*it-.4906146*rt),lrgb2rgb(-.9787684*nt+1.9161415*it+.033454*rt),lrgb2rgb(.0719453*nt-.2289914*it+1.4052427*rt),this.opacity)}}));function xyz2lab(it){return it>t3?Math.pow(it,1/3):it/t2+t0$1}function lab2xyz(it){return it>t1$1?it*it*it:t2*(it-t0$1)}function lrgb2rgb(it){return 255*(it<=.0031308?12.92*it:1.055*Math.pow(it,1/2.4)-.055)}function rgb2lrgb(it){return(it/=255)<=.04045?it/12.92:Math.pow((it+.055)/1.055,2.4)}function hclConvert(it){if(it instanceof Hcl)return new Hcl(it.h,it.c,it.l,it.opacity);if(it instanceof Lab||(it=labConvert(it)),it.a===0&&it.b===0)return new Hcl(NaN,0<it.l&&it.l<100?0:NaN,it.l,it.opacity);var nt=Math.atan2(it.b,it.a)*degrees$1;return new Hcl(nt<0?nt+360:nt,Math.sqrt(it.a*it.a+it.b*it.b),it.l,it.opacity)}function hcl$1(it,nt,rt,st){return arguments.length===1?hclConvert(it):new Hcl(it,nt,rt,st==null?1:st)}function Hcl(it,nt,rt,st){this.h=+it,this.c=+nt,this.l=+rt,this.opacity=+st}function hcl2lab(it){if(isNaN(it.h))return new Lab(it.l,0,0,it.opacity);var nt=it.h*radians;return new Lab(it.l,Math.cos(nt)*it.c,Math.sin(nt)*it.c,it.opacity)}define(Hcl,hcl$1,extend$1(Color$2,{brighter(it){return new Hcl(this.h,this.c,this.l+K*(it==null?1:it),this.opacity)},darker(it){return new Hcl(this.h,this.c,this.l-K*(it==null?1:it),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));const constant$2=it=>()=>it;function linear$1(it,nt){return function(rt){return it+rt*nt}}function exponential(it,nt,rt){return it=Math.pow(it,rt),nt=Math.pow(nt,rt)-it,rt=1/rt,function(st){return Math.pow(it+st*nt,rt)}}function hue(it,nt){var rt=nt-it;return rt?linear$1(it,rt>180||rt<-180?rt-360*Math.round(rt/360):rt):constant$2(isNaN(it)?nt:it)}function gamma(it){return(it=+it)==1?nogamma:function(nt,rt){return rt-nt?exponential(nt,rt,it):constant$2(isNaN(nt)?rt:nt)}}function nogamma(it,nt){var rt=nt-it;return rt?linear$1(it,rt):constant$2(isNaN(it)?nt:it)}const interpolateRgb=function it(nt){var rt=gamma(nt);function st(vt,bt){var _t=rt((vt=rgb(vt)).r,(bt=rgb(bt)).r),wt=rt(vt.g,bt.g),Et=rt(vt.b,bt.b),Tt=nogamma(vt.opacity,bt.opacity);return function($t){return vt.r=_t($t),vt.g=wt($t),vt.b=Et($t),vt.opacity=Tt($t),vt+""}}return st.gamma=it,st}(1);function numberArray(it,nt){nt||(nt=[]);var rt=it?Math.min(nt.length,it.length):0,st=nt.slice(),vt;return function(bt){for(vt=0;vt<rt;++vt)st[vt]=it[vt]*(1-bt)+nt[vt]*bt;return st}}function isNumberArray(it){return ArrayBuffer.isView(it)&&!(it instanceof DataView)}function genericArray(it,nt){var rt=nt?nt.length:0,st=it?Math.min(rt,it.length):0,vt=new Array(st),bt=new Array(rt),_t;for(_t=0;_t<st;++_t)vt[_t]=interpolate$1(it[_t],nt[_t]);for(;_t<rt;++_t)bt[_t]=nt[_t];return function(wt){for(_t=0;_t<st;++_t)bt[_t]=vt[_t](wt);return bt}}function date$1(it,nt){var rt=new Date;return it=+it,nt=+nt,function(st){return rt.setTime(it*(1-st)+nt*st),rt}}function interpolateNumber(it,nt){return it=+it,nt=+nt,function(rt){return it*(1-rt)+nt*rt}}function object(it,nt){var rt={},st={},vt;(it===null||typeof it!="object")&&(it={}),(nt===null||typeof nt!="object")&&(nt={});for(vt in nt)vt in it?rt[vt]=interpolate$1(it[vt],nt[vt]):st[vt]=nt[vt];return function(bt){for(vt in rt)st[vt]=rt[vt](bt);return st}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(it){return function(){return it}}function one(it){return function(nt){return it(nt)+""}}function interpolateString(it,nt){var rt=reA.lastIndex=reB.lastIndex=0,st,vt,bt,_t=-1,wt=[],Et=[];for(it=it+"",nt=nt+"";(st=reA.exec(it))&&(vt=reB.exec(nt));)(bt=vt.index)>rt&&(bt=nt.slice(rt,bt),wt[_t]?wt[_t]+=bt:wt[++_t]=bt),(st=st[0])===(vt=vt[0])?wt[_t]?wt[_t]+=vt:wt[++_t]=vt:(wt[++_t]=null,Et.push({i:_t,x:interpolateNumber(st,vt)})),rt=reB.lastIndex;return rt<nt.length&&(bt=nt.slice(rt),wt[_t]?wt[_t]+=bt:wt[++_t]=bt),wt.length<2?Et[0]?one(Et[0].x):zero(nt):(nt=Et.length,function(Tt){for(var $t=0,Dt;$t<nt;++$t)wt[(Dt=Et[$t]).i]=Dt.x(Tt);return wt.join("")})}function interpolate$1(it,nt){var rt=typeof nt,st;return nt==null||rt==="boolean"?constant$2(nt):(rt==="number"?interpolateNumber:rt==="string"?(st=color(nt))?(nt=st,interpolateRgb):interpolateString:nt instanceof color?interpolateRgb:nt instanceof Date?date$1:isNumberArray(nt)?numberArray:Array.isArray(nt)?genericArray:typeof nt.valueOf!="function"&&typeof nt.toString!="function"||isNaN(nt)?object:interpolateNumber)(it,nt)}function interpolateRound(it,nt){return it=+it,nt=+nt,function(rt){return Math.round(it*(1-rt)+nt*rt)}}var degrees=180/Math.PI,identity$4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(it,nt,rt,st,vt,bt){var _t,wt,Et;return(_t=Math.sqrt(it*it+nt*nt))&&(it/=_t,nt/=_t),(Et=it*rt+nt*st)&&(rt-=it*Et,st-=nt*Et),(wt=Math.sqrt(rt*rt+st*st))&&(rt/=wt,st/=wt,Et/=wt),it*st<nt*rt&&(it=-it,nt=-nt,Et=-Et,_t=-_t),{translateX:vt,translateY:bt,rotate:Math.atan2(nt,it)*degrees,skewX:Math.atan(Et)*degrees,scaleX:_t,scaleY:wt}}var svgNode;function parseCss(it){const nt=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(it+"");return nt.isIdentity?identity$4:decompose(nt.a,nt.b,nt.c,nt.d,nt.e,nt.f)}function parseSvg(it){return it==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",it),!(it=svgNode.transform.baseVal.consolidate()))?identity$4:(it=it.matrix,decompose(it.a,it.b,it.c,it.d,it.e,it.f))}function interpolateTransform(it,nt,rt,st){function vt(Tt){return Tt.length?Tt.pop()+" ":""}function bt(Tt,$t,Dt,Lt,Bt,Ht){if(Tt!==Dt||$t!==Lt){var Ut=Bt.push("translate(",null,nt,null,rt);Ht.push({i:Ut-4,x:interpolateNumber(Tt,Dt)},{i:Ut-2,x:interpolateNumber($t,Lt)})}else(Dt||Lt)&&Bt.push("translate("+Dt+nt+Lt+rt)}function _t(Tt,$t,Dt,Lt){Tt!==$t?(Tt-$t>180?$t+=360:$t-Tt>180&&(Tt+=360),Lt.push({i:Dt.push(vt(Dt)+"rotate(",null,st)-2,x:interpolateNumber(Tt,$t)})):$t&&Dt.push(vt(Dt)+"rotate("+$t+st)}function wt(Tt,$t,Dt,Lt){Tt!==$t?Lt.push({i:Dt.push(vt(Dt)+"skewX(",null,st)-2,x:interpolateNumber(Tt,$t)}):$t&&Dt.push(vt(Dt)+"skewX("+$t+st)}function Et(Tt,$t,Dt,Lt,Bt,Ht){if(Tt!==Dt||$t!==Lt){var Ut=Bt.push(vt(Bt)+"scale(",null,",",null,")");Ht.push({i:Ut-4,x:interpolateNumber(Tt,Dt)},{i:Ut-2,x:interpolateNumber($t,Lt)})}else(Dt!==1||Lt!==1)&&Bt.push(vt(Bt)+"scale("+Dt+","+Lt+")")}return function(Tt,$t){var Dt=[],Lt=[];return Tt=it(Tt),$t=it($t),bt(Tt.translateX,Tt.translateY,$t.translateX,$t.translateY,Dt,Lt),_t(Tt.rotate,$t.rotate,Dt,Lt),wt(Tt.skewX,$t.skewX,Dt,Lt),Et(Tt.scaleX,Tt.scaleY,$t.scaleX,$t.scaleY,Dt,Lt),Tt=$t=null,function(Bt){for(var Ht=-1,Ut=Lt.length,It;++Ht<Ut;)Dt[(It=Lt[Ht]).i]=It.x(Bt);return Dt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hcl(it){return function(nt,rt){var st=it((nt=hcl$1(nt)).h,(rt=hcl$1(rt)).h),vt=nogamma(nt.c,rt.c),bt=nogamma(nt.l,rt.l),_t=nogamma(nt.opacity,rt.opacity);return function(wt){return nt.h=st(wt),nt.c=vt(wt),nt.l=bt(wt),nt.opacity=_t(wt),nt+""}}}const interpolateHcl=hcl(hue);var frame=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(it){setTimeout(it,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(it,nt,rt){if(typeof it!="function")throw new TypeError("callback is not a function");rt=(rt==null?now$2():+rt)+(nt==null?0:+nt),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=it,this._time=rt,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(it,nt,rt){var st=new Timer;return st.restart(it,nt,rt),st}function timerFlush(){now$2(),++frame;for(var it=taskHead,nt;it;)(nt=clockNow-it._time)>=0&&it._call.call(void 0,nt),it=it._next;--frame}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame=timeout$1=0;try{timerFlush()}finally{frame=0,nap(),clockNow=0}}function poke(){var it=clock.now(),nt=it-clockLast;nt>pokeDelay&&(clockSkew-=nt,clockLast=it)}function nap(){for(var it,nt=taskHead,rt,st=1/0;nt;)nt._call?(st>nt._time&&(st=nt._time),it=nt,nt=nt._next):(rt=nt._next,nt._next=null,nt=it?it._next=rt:taskHead=rt);taskTail=it,sleep(st)}function sleep(it){if(!frame){timeout$1&&(timeout$1=clearTimeout(timeout$1));var nt=it-clockNow;nt>24?(it<1/0&&(timeout$1=setTimeout(wake,it-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame=1,setFrame(wake))}}function timeout(it,nt,rt){var st=new Timer;return nt=nt==null?0:+nt,st.restart(vt=>{st.stop(),it(vt+nt)},nt,rt),st}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(it,nt,rt,st,vt,bt){var _t=it.__transition;if(!_t)it.__transition={};else if(rt in _t)return;create$1(it,rt,{name:nt,index:st,group:vt,on:emptyOn,tween:emptyTween,time:bt.time,delay:bt.delay,duration:bt.duration,ease:bt.ease,timer:null,state:CREATED})}function init$2(it,nt){var rt=get$1(it,nt);if(rt.state>CREATED)throw new Error("too late; already scheduled");return rt}function set(it,nt){var rt=get$1(it,nt);if(rt.state>STARTED)throw new Error("too late; already running");return rt}function get$1(it,nt){var rt=it.__transition;if(!rt||!(rt=rt[nt]))throw new Error("transition not found");return rt}function create$1(it,nt,rt){var st=it.__transition,vt;st[nt]=rt,rt.timer=timer(bt,0,rt.time);function bt(Tt){rt.state=SCHEDULED,rt.timer.restart(_t,rt.delay,rt.time),rt.delay<=Tt&&_t(Tt-rt.delay)}function _t(Tt){var $t,Dt,Lt,Bt;if(rt.state!==SCHEDULED)return Et();for($t in st)if(Bt=st[$t],Bt.name===rt.name){if(Bt.state===STARTED)return timeout(_t);Bt.state===RUNNING?(Bt.state=ENDED,Bt.timer.stop(),Bt.on.call("interrupt",it,it.__data__,Bt.index,Bt.group),delete st[$t]):+$t<nt&&(Bt.state=ENDED,Bt.timer.stop(),Bt.on.call("cancel",it,it.__data__,Bt.index,Bt.group),delete st[$t])}if(timeout(function(){rt.state===STARTED&&(rt.state=RUNNING,rt.timer.restart(wt,rt.delay,rt.time),wt(Tt))}),rt.state=STARTING,rt.on.call("start",it,it.__data__,rt.index,rt.group),rt.state===STARTING){for(rt.state=STARTED,vt=new Array(Lt=rt.tween.length),$t=0,Dt=-1;$t<Lt;++$t)(Bt=rt.tween[$t].value.call(it,it.__data__,rt.index,rt.group))&&(vt[++Dt]=Bt);vt.length=Dt+1}}function wt(Tt){for(var $t=Tt<rt.duration?rt.ease.call(null,Tt/rt.duration):(rt.timer.restart(Et),rt.state=ENDING,1),Dt=-1,Lt=vt.length;++Dt<Lt;)vt[Dt].call(it,$t);rt.state===ENDING&&(rt.on.call("end",it,it.__data__,rt.index,rt.group),Et())}function Et(){rt.state=ENDED,rt.timer.stop(),delete st[nt];for(var Tt in st)return;delete it.__transition}}function interrupt(it,nt){var rt=it.__transition,st,vt,bt=!0,_t;if(!!rt){nt=nt==null?null:nt+"";for(_t in rt){if((st=rt[_t]).name!==nt){bt=!1;continue}vt=st.state>STARTING&&st.state<ENDING,st.state=ENDED,st.timer.stop(),st.on.call(vt?"interrupt":"cancel",it,it.__data__,st.index,st.group),delete rt[_t]}bt&&delete it.__transition}}function selection_interrupt(it){return this.each(function(){interrupt(this,it)})}function tweenRemove(it,nt){var rt,st;return function(){var vt=set(this,it),bt=vt.tween;if(bt!==rt){st=rt=bt;for(var _t=0,wt=st.length;_t<wt;++_t)if(st[_t].name===nt){st=st.slice(),st.splice(_t,1);break}}vt.tween=st}}function tweenFunction(it,nt,rt){var st,vt;if(typeof rt!="function")throw new Error;return function(){var bt=set(this,it),_t=bt.tween;if(_t!==st){vt=(st=_t).slice();for(var wt={name:nt,value:rt},Et=0,Tt=vt.length;Et<Tt;++Et)if(vt[Et].name===nt){vt[Et]=wt;break}Et===Tt&&vt.push(wt)}bt.tween=vt}}function transition_tween(it,nt){var rt=this._id;if(it+="",arguments.length<2){for(var st=get$1(this.node(),rt).tween,vt=0,bt=st.length,_t;vt<bt;++vt)if((_t=st[vt]).name===it)return _t.value;return null}return this.each((nt==null?tweenRemove:tweenFunction)(rt,it,nt))}function tweenValue(it,nt,rt){var st=it._id;return it.each(function(){var vt=set(this,st);(vt.value||(vt.value={}))[nt]=rt.apply(this,arguments)}),function(vt){return get$1(vt,st).value[nt]}}function interpolate(it,nt){var rt;return(typeof nt=="number"?interpolateNumber:nt instanceof color?interpolateRgb:(rt=color(nt))?(nt=rt,interpolateRgb):interpolateString)(it,nt)}function attrRemove(it){return function(){this.removeAttribute(it)}}function attrRemoveNS(it){return function(){this.removeAttributeNS(it.space,it.local)}}function attrConstant(it,nt,rt){var st,vt=rt+"",bt;return function(){var _t=this.getAttribute(it);return _t===vt?null:_t===st?bt:bt=nt(st=_t,rt)}}function attrConstantNS(it,nt,rt){var st,vt=rt+"",bt;return function(){var _t=this.getAttributeNS(it.space,it.local);return _t===vt?null:_t===st?bt:bt=nt(st=_t,rt)}}function attrFunction(it,nt,rt){var st,vt,bt;return function(){var _t,wt=rt(this),Et;return wt==null?void this.removeAttribute(it):(_t=this.getAttribute(it),Et=wt+"",_t===Et?null:_t===st&&Et===vt?bt:(vt=Et,bt=nt(st=_t,wt)))}}function attrFunctionNS(it,nt,rt){var st,vt,bt;return function(){var _t,wt=rt(this),Et;return wt==null?void this.removeAttributeNS(it.space,it.local):(_t=this.getAttributeNS(it.space,it.local),Et=wt+"",_t===Et?null:_t===st&&Et===vt?bt:(vt=Et,bt=nt(st=_t,wt)))}}function transition_attr(it,nt){var rt=namespace(it),st=rt==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(it,typeof nt=="function"?(rt.local?attrFunctionNS:attrFunction)(rt,st,tweenValue(this,"attr."+it,nt)):nt==null?(rt.local?attrRemoveNS:attrRemove)(rt):(rt.local?attrConstantNS:attrConstant)(rt,st,nt))}function attrInterpolate(it,nt){return function(rt){this.setAttribute(it,nt.call(this,rt))}}function attrInterpolateNS(it,nt){return function(rt){this.setAttributeNS(it.space,it.local,nt.call(this,rt))}}function attrTweenNS(it,nt){var rt,st;function vt(){var bt=nt.apply(this,arguments);return bt!==st&&(rt=(st=bt)&&attrInterpolateNS(it,bt)),rt}return vt._value=nt,vt}function attrTween(it,nt){var rt,st;function vt(){var bt=nt.apply(this,arguments);return bt!==st&&(rt=(st=bt)&&attrInterpolate(it,bt)),rt}return vt._value=nt,vt}function transition_attrTween(it,nt){var rt="attr."+it;if(arguments.length<2)return(rt=this.tween(rt))&&rt._value;if(nt==null)return this.tween(rt,null);if(typeof nt!="function")throw new Error;var st=namespace(it);return this.tween(rt,(st.local?attrTweenNS:attrTween)(st,nt))}function delayFunction(it,nt){return function(){init$2(this,it).delay=+nt.apply(this,arguments)}}function delayConstant(it,nt){return nt=+nt,function(){init$2(this,it).delay=nt}}function transition_delay(it){var nt=this._id;return arguments.length?this.each((typeof it=="function"?delayFunction:delayConstant)(nt,it)):get$1(this.node(),nt).delay}function durationFunction(it,nt){return function(){set(this,it).duration=+nt.apply(this,arguments)}}function durationConstant(it,nt){return nt=+nt,function(){set(this,it).duration=nt}}function transition_duration(it){var nt=this._id;return arguments.length?this.each((typeof it=="function"?durationFunction:durationConstant)(nt,it)):get$1(this.node(),nt).duration}function easeConstant(it,nt){if(typeof nt!="function")throw new Error;return function(){set(this,it).ease=nt}}function transition_ease(it){var nt=this._id;return arguments.length?this.each(easeConstant(nt,it)):get$1(this.node(),nt).ease}function easeVarying(it,nt){return function(){var rt=nt.apply(this,arguments);if(typeof rt!="function")throw new Error;set(this,it).ease=rt}}function transition_easeVarying(it){if(typeof it!="function")throw new Error;return this.each(easeVarying(this._id,it))}function transition_filter(it){typeof it!="function"&&(it=matcher(it));for(var nt=this._groups,rt=nt.length,st=new Array(rt),vt=0;vt<rt;++vt)for(var bt=nt[vt],_t=bt.length,wt=st[vt]=[],Et,Tt=0;Tt<_t;++Tt)(Et=bt[Tt])&&it.call(Et,Et.__data__,Tt,bt)&&wt.push(Et);return new Transition(st,this._parents,this._name,this._id)}function transition_merge(it){if(it._id!==this._id)throw new Error;for(var nt=this._groups,rt=it._groups,st=nt.length,vt=rt.length,bt=Math.min(st,vt),_t=new Array(st),wt=0;wt<bt;++wt)for(var Et=nt[wt],Tt=rt[wt],$t=Et.length,Dt=_t[wt]=new Array($t),Lt,Bt=0;Bt<$t;++Bt)(Lt=Et[Bt]||Tt[Bt])&&(Dt[Bt]=Lt);for(;wt<st;++wt)_t[wt]=nt[wt];return new Transition(_t,this._parents,this._name,this._id)}function start$1(it){return(it+"").trim().split(/^|\s+/).every(function(nt){var rt=nt.indexOf(".");return rt>=0&&(nt=nt.slice(0,rt)),!nt||nt==="start"})}function onFunction(it,nt,rt){var st,vt,bt=start$1(nt)?init$2:set;return function(){var _t=bt(this,it),wt=_t.on;wt!==st&&(vt=(st=wt).copy()).on(nt,rt),_t.on=vt}}function transition_on(it,nt){var rt=this._id;return arguments.length<2?get$1(this.node(),rt).on.on(it):this.each(onFunction(rt,it,nt))}function removeFunction(it){return function(){var nt=this.parentNode;for(var rt in this.__transition)if(+rt!==it)return;nt&&nt.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(it){var nt=this._name,rt=this._id;typeof it!="function"&&(it=selector(it));for(var st=this._groups,vt=st.length,bt=new Array(vt),_t=0;_t<vt;++_t)for(var wt=st[_t],Et=wt.length,Tt=bt[_t]=new Array(Et),$t,Dt,Lt=0;Lt<Et;++Lt)($t=wt[Lt])&&(Dt=it.call($t,$t.__data__,Lt,wt))&&("__data__"in $t&&(Dt.__data__=$t.__data__),Tt[Lt]=Dt,schedule(Tt[Lt],nt,rt,Lt,Tt,get$1($t,rt)));return new Transition(bt,this._parents,nt,rt)}function transition_selectAll(it){var nt=this._name,rt=this._id;typeof it!="function"&&(it=selectorAll(it));for(var st=this._groups,vt=st.length,bt=[],_t=[],wt=0;wt<vt;++wt)for(var Et=st[wt],Tt=Et.length,$t,Dt=0;Dt<Tt;++Dt)if($t=Et[Dt]){for(var Lt=it.call($t,$t.__data__,Dt,Et),Bt,Ht=get$1($t,rt),Ut=0,It=Lt.length;Ut<It;++Ut)(Bt=Lt[Ut])&&schedule(Bt,nt,rt,Ut,Lt,Ht);bt.push(Lt),_t.push($t)}return new Transition(bt,_t,nt,rt)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(it,nt){var rt,st,vt;return function(){var bt=styleValue(this,it),_t=(this.style.removeProperty(it),styleValue(this,it));return bt===_t?null:bt===rt&&_t===st?vt:vt=nt(rt=bt,st=_t)}}function styleRemove(it){return function(){this.style.removeProperty(it)}}function styleConstant(it,nt,rt){var st,vt=rt+"",bt;return function(){var _t=styleValue(this,it);return _t===vt?null:_t===st?bt:bt=nt(st=_t,rt)}}function styleFunction(it,nt,rt){var st,vt,bt;return function(){var _t=styleValue(this,it),wt=rt(this),Et=wt+"";return wt==null&&(Et=wt=(this.style.removeProperty(it),styleValue(this,it))),_t===Et?null:_t===st&&Et===vt?bt:(vt=Et,bt=nt(st=_t,wt))}}function styleMaybeRemove(it,nt){var rt,st,vt,bt="style."+nt,_t="end."+bt,wt;return function(){var Et=set(this,it),Tt=Et.on,$t=Et.value[bt]==null?wt||(wt=styleRemove(nt)):void 0;(Tt!==rt||vt!==$t)&&(st=(rt=Tt).copy()).on(_t,vt=$t),Et.on=st}}function transition_style(it,nt,rt){var st=(it+="")=="transform"?interpolateTransformCss:interpolate;return nt==null?this.styleTween(it,styleNull(it,st)).on("end.style."+it,styleRemove(it)):typeof nt=="function"?this.styleTween(it,styleFunction(it,st,tweenValue(this,"style."+it,nt))).each(styleMaybeRemove(this._id,it)):this.styleTween(it,styleConstant(it,st,nt),rt).on("end.style."+it,null)}function styleInterpolate(it,nt,rt){return function(st){this.style.setProperty(it,nt.call(this,st),rt)}}function styleTween(it,nt,rt){var st,vt;function bt(){var _t=nt.apply(this,arguments);return _t!==vt&&(st=(vt=_t)&&styleInterpolate(it,_t,rt)),st}return bt._value=nt,bt}function transition_styleTween(it,nt,rt){var st="style."+(it+="");if(arguments.length<2)return(st=this.tween(st))&&st._value;if(nt==null)return this.tween(st,null);if(typeof nt!="function")throw new Error;return this.tween(st,styleTween(it,nt,rt==null?"":rt))}function textConstant(it){return function(){this.textContent=it}}function textFunction(it){return function(){var nt=it(this);this.textContent=nt==null?"":nt}}function transition_text(it){return this.tween("text",typeof it=="function"?textFunction(tweenValue(this,"text",it)):textConstant(it==null?"":it+""))}function textInterpolate(it){return function(nt){this.textContent=it.call(this,nt)}}function textTween(it){var nt,rt;function st(){var vt=it.apply(this,arguments);return vt!==rt&&(nt=(rt=vt)&&textInterpolate(vt)),nt}return st._value=it,st}function transition_textTween(it){var nt="text";if(arguments.length<1)return(nt=this.tween(nt))&&nt._value;if(it==null)return this.tween(nt,null);if(typeof it!="function")throw new Error;return this.tween(nt,textTween(it))}function transition_transition(){for(var it=this._name,nt=this._id,rt=newId(),st=this._groups,vt=st.length,bt=0;bt<vt;++bt)for(var _t=st[bt],wt=_t.length,Et,Tt=0;Tt<wt;++Tt)if(Et=_t[Tt]){var $t=get$1(Et,nt);schedule(Et,it,rt,Tt,_t,{time:$t.time+$t.delay+$t.duration,delay:0,duration:$t.duration,ease:$t.ease})}return new Transition(st,this._parents,it,rt)}function transition_end(){var it,nt,rt=this,st=rt._id,vt=rt.size();return new Promise(function(bt,_t){var wt={value:_t},Et={value:function(){--vt===0&&bt()}};rt.each(function(){var Tt=set(this,st),$t=Tt.on;$t!==it&&(nt=(it=$t).copy(),nt._.cancel.push(wt),nt._.interrupt.push(wt),nt._.end.push(Et)),Tt.on=nt}),vt===0&&bt()})}var id$2=0;function Transition(it,nt,rt,st){this._groups=it,this._parents=nt,this._name=rt,this._id=st}function newId(){return++id$2}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(it){return((it*=2)<=1?it*it*it:(it-=2)*it*it+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(it,nt){for(var rt;!(rt=it.__transition)||!(rt=rt[nt]);)if(!(it=it.parentNode))throw new Error(`transition ${nt} not found`);return rt}function selection_transition(it){var nt,rt;it instanceof Transition?(nt=it._id,it=it._name):(nt=newId(),(rt=defaultTiming).time=now$2(),it=it==null?null:it+"");for(var st=this._groups,vt=st.length,bt=0;bt<vt;++bt)for(var _t=st[bt],wt=_t.length,Et,Tt=0;Tt<wt;++Tt)(Et=_t[Tt])&&schedule(Et,it,nt,Tt,_t,rt||inherit(Et,nt));return new Transition(st,this._parents,it,nt)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(it){this._+=it[0];for(let nt=1,rt=it.length;nt<rt;++nt)this._+=arguments[nt]+it[nt]}function appendRound(it){let nt=Math.floor(it);if(!(nt>=0))throw new Error(`invalid digits: ${it}`);if(nt>15)return append$1;const rt=10**nt;return function(st){this._+=st[0];for(let vt=1,bt=st.length;vt<bt;++vt)this._+=Math.round(arguments[vt]*rt)/rt+st[vt]}}class Path{constructor(nt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=nt==null?append$1:appendRound(nt)}moveTo(nt,rt){this._append`M${this._x0=this._x1=+nt},${this._y0=this._y1=+rt}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(nt,rt){this._append`L${this._x1=+nt},${this._y1=+rt}`}quadraticCurveTo(nt,rt,st,vt){this._append`Q${+nt},${+rt},${this._x1=+st},${this._y1=+vt}`}bezierCurveTo(nt,rt,st,vt,bt,_t){this._append`C${+nt},${+rt},${+st},${+vt},${this._x1=+bt},${this._y1=+_t}`}arcTo(nt,rt,st,vt,bt){if(nt=+nt,rt=+rt,st=+st,vt=+vt,bt=+bt,bt<0)throw new Error(`negative radius: ${bt}`);let _t=this._x1,wt=this._y1,Et=st-nt,Tt=vt-rt,$t=_t-nt,Dt=wt-rt,Lt=$t*$t+Dt*Dt;if(this._x1===null)this._append`M${this._x1=nt},${this._y1=rt}`;else if(Lt>epsilon$1)if(!(Math.abs(Dt*Et-Tt*$t)>epsilon$1)||!bt)this._append`L${this._x1=nt},${this._y1=rt}`;else{let Bt=st-_t,Ht=vt-wt,Ut=Et*Et+Tt*Tt,It=Bt*Bt+Ht*Ht,jt=Math.sqrt(Ut),Wt=Math.sqrt(Lt),qt=bt*Math.tan((pi$1-Math.acos((Ut+Lt-It)/(2*jt*Wt)))/2),Yt=qt/Wt,ti=qt/jt;Math.abs(Yt-1)>epsilon$1&&this._append`L${nt+Yt*$t},${rt+Yt*Dt}`,this._append`A${bt},${bt},0,0,${+(Dt*Bt>$t*Ht)},${this._x1=nt+ti*Et},${this._y1=rt+ti*Tt}`}}arc(nt,rt,st,vt,bt,_t){if(nt=+nt,rt=+rt,st=+st,_t=!!_t,st<0)throw new Error(`negative radius: ${st}`);let wt=st*Math.cos(vt),Et=st*Math.sin(vt),Tt=nt+wt,$t=rt+Et,Dt=1^_t,Lt=_t?vt-bt:bt-vt;this._x1===null?this._append`M${Tt},${$t}`:(Math.abs(this._x1-Tt)>epsilon$1||Math.abs(this._y1-$t)>epsilon$1)&&this._append`L${Tt},${$t}`,st&&(Lt<0&&(Lt=Lt%tau$1+tau$1),Lt>tauEpsilon?this._append`A${st},${st},0,1,${Dt},${nt-wt},${rt-Et}A${st},${st},0,1,${Dt},${this._x1=Tt},${this._y1=$t}`:Lt>epsilon$1&&this._append`A${st},${st},0,${+(Lt>=pi$1)},${Dt},${this._x1=nt+st*Math.cos(bt)},${this._y1=rt+st*Math.sin(bt)}`)}rect(nt,rt,st,vt){this._append`M${this._x0=this._x1=+nt},${this._y0=this._y1=+rt}h${st=+st}v${+vt}h${-st}Z`}toString(){return this._}}function responseText(it){if(!it.ok)throw new Error(it.status+" "+it.statusText);return it.text()}function text$1(it,nt){return fetch(it,nt).then(responseText)}function parser$c(it){return(nt,rt)=>text$1(nt,rt).then(st=>new DOMParser().parseFromString(st,it))}var svg$2=parser$c("image/svg+xml");function formatDecimal(it){return Math.abs(it=Math.round(it))>=1e21?it.toLocaleString("en").replace(/,/g,""):it.toString(10)}function formatDecimalParts(it,nt){if((rt=(it=nt?it.toExponential(nt-1):it.toExponential()).indexOf("e"))<0)return null;var rt,st=it.slice(0,rt);return[st.length>1?st[0]+st.slice(2):st,+it.slice(rt+1)]}function exponent(it){return it=formatDecimalParts(Math.abs(it)),it?it[1]:NaN}function formatGroup(it,nt){return function(rt,st){for(var vt=rt.length,bt=[],_t=0,wt=it[0],Et=0;vt>0&&wt>0&&(Et+wt+1>st&&(wt=Math.max(1,st-Et)),bt.push(rt.substring(vt-=wt,vt+wt)),!((Et+=wt+1)>st));)wt=it[_t=(_t+1)%it.length];return bt.reverse().join(nt)}}function formatNumerals(it){return function(nt){return nt.replace(/[0-9]/g,function(rt){return it[+rt]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(it){if(!(nt=re.exec(it)))throw new Error("invalid format: "+it);var nt;return new FormatSpecifier({fill:nt[1],align:nt[2],sign:nt[3],symbol:nt[4],zero:nt[5],width:nt[6],comma:nt[7],precision:nt[8]&&nt[8].slice(1),trim:nt[9],type:nt[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(it){this.fill=it.fill===void 0?" ":it.fill+"",this.align=it.align===void 0?">":it.align+"",this.sign=it.sign===void 0?"-":it.sign+"",this.symbol=it.symbol===void 0?"":it.symbol+"",this.zero=!!it.zero,this.width=it.width===void 0?void 0:+it.width,this.comma=!!it.comma,this.precision=it.precision===void 0?void 0:+it.precision,this.trim=!!it.trim,this.type=it.type===void 0?"":it.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(it){e:for(var nt=it.length,rt=1,st=-1,vt;rt<nt;++rt)switch(it[rt]){case".":st=vt=rt;break;case"0":st===0&&(st=rt),vt=rt;break;default:if(!+it[rt])break e;st>0&&(st=0);break}return st>0?it.slice(0,st)+it.slice(vt+1):it}var prefixExponent;function formatPrefixAuto(it,nt){var rt=formatDecimalParts(it,nt);if(!rt)return it+"";var st=rt[0],vt=rt[1],bt=vt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(vt/3)))*3)+1,_t=st.length;return bt===_t?st:bt>_t?st+new Array(bt-_t+1).join("0"):bt>0?st.slice(0,bt)+"."+st.slice(bt):"0."+new Array(1-bt).join("0")+formatDecimalParts(it,Math.max(0,nt+bt-1))[0]}function formatRounded(it,nt){var rt=formatDecimalParts(it,nt);if(!rt)return it+"";var st=rt[0],vt=rt[1];return vt<0?"0."+new Array(-vt).join("0")+st:st.length>vt+1?st.slice(0,vt+1)+"."+st.slice(vt+1):st+new Array(vt-st.length+2).join("0")}const formatTypes={"%":(it,nt)=>(it*100).toFixed(nt),b:it=>Math.round(it).toString(2),c:it=>it+"",d:formatDecimal,e:(it,nt)=>it.toExponential(nt),f:(it,nt)=>it.toFixed(nt),g:(it,nt)=>it.toPrecision(nt),o:it=>Math.round(it).toString(8),p:(it,nt)=>formatRounded(it*100,nt),r:formatRounded,s:formatPrefixAuto,X:it=>Math.round(it).toString(16).toUpperCase(),x:it=>Math.round(it).toString(16)};function identity$3(it){return it}var map$2=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(it){var nt=it.grouping===void 0||it.thousands===void 0?identity$3:formatGroup(map$2.call(it.grouping,Number),it.thousands+""),rt=it.currency===void 0?"":it.currency[0]+"",st=it.currency===void 0?"":it.currency[1]+"",vt=it.decimal===void 0?".":it.decimal+"",bt=it.numerals===void 0?identity$3:formatNumerals(map$2.call(it.numerals,String)),_t=it.percent===void 0?"%":it.percent+"",wt=it.minus===void 0?"\u2212":it.minus+"",Et=it.nan===void 0?"NaN":it.nan+"";function Tt(Dt){Dt=formatSpecifier(Dt);var Lt=Dt.fill,Bt=Dt.align,Ht=Dt.sign,Ut=Dt.symbol,It=Dt.zero,jt=Dt.width,Wt=Dt.comma,qt=Dt.precision,Yt=Dt.trim,ti=Dt.type;ti==="n"?(Wt=!0,ti="g"):formatTypes[ti]||(qt===void 0&&(qt=12),Yt=!0,ti="g"),(It||Lt==="0"&&Bt==="=")&&(It=!0,Lt="0",Bt="=");var oi=Ut==="$"?rt:Ut==="#"&&/[boxX]/.test(ti)?"0"+ti.toLowerCase():"",si=Ut==="$"?st:/[%p]/.test(ti)?_t:"",di=formatTypes[ti],ui=/[defgprs%]/.test(ti);qt=qt===void 0?6:/[gprs]/.test(ti)?Math.max(1,Math.min(21,qt)):Math.max(0,Math.min(20,qt));function ci(hi){var ei=oi,wi=si,Kt,Ni,ni;if(ti==="c")wi=di(hi)+wi,hi="";else{hi=+hi;var Fi=hi<0||1/hi<0;if(hi=isNaN(hi)?Et:di(Math.abs(hi),qt),Yt&&(hi=formatTrim(hi)),Fi&&+hi==0&&Ht!=="+"&&(Fi=!1),ei=(Fi?Ht==="("?Ht:wt:Ht==="-"||Ht==="("?"":Ht)+ei,wi=(ti==="s"?prefixes[8+prefixExponent/3]:"")+wi+(Fi&&Ht==="("?")":""),ui){for(Kt=-1,Ni=hi.length;++Kt<Ni;)if(ni=hi.charCodeAt(Kt),48>ni||ni>57){wi=(ni===46?vt+hi.slice(Kt+1):hi.slice(Kt))+wi,hi=hi.slice(0,Kt);break}}}Wt&&!It&&(hi=nt(hi,1/0));var Xi=ei.length+hi.length+wi.length,nn=Xi<jt?new Array(jt-Xi+1).join(Lt):"";switch(Wt&&It&&(hi=nt(nn+hi,nn.length?jt-wi.length:1/0),nn=""),Bt){case"<":hi=ei+hi+wi+nn;break;case"=":hi=ei+nn+hi+wi;break;case"^":hi=nn.slice(0,Xi=nn.length>>1)+ei+hi+wi+nn.slice(Xi);break;default:hi=nn+ei+hi+wi;break}return bt(hi)}return ci.toString=function(){return Dt+""},ci}function $t(Dt,Lt){var Bt=Tt((Dt=formatSpecifier(Dt),Dt.type="f",Dt)),Ht=Math.max(-8,Math.min(8,Math.floor(exponent(Lt)/3)))*3,Ut=Math.pow(10,-Ht),It=prefixes[8+Ht/3];return function(jt){return Bt(Ut*jt)+It}}return{format:Tt,formatPrefix:$t}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(it){return locale$1=formatLocale$1(it),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(it){return Math.max(0,-exponent(Math.abs(it)))}function precisionPrefix(it,nt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(nt)/3)))*3-exponent(Math.abs(it)))}function precisionRound(it,nt){return it=Math.abs(it),nt=Math.abs(nt)-it,Math.max(0,exponent(nt)-exponent(it))+1}function initRange(it,nt){switch(arguments.length){case 0:break;case 1:this.range(it);break;default:this.range(nt).domain(it);break}return this}const implicit=Symbol("implicit");function ordinal(){var it=new InternMap,nt=[],rt=[],st=implicit;function vt(bt){let _t=it.get(bt);if(_t===void 0){if(st!==implicit)return st;it.set(bt,_t=nt.push(bt)-1)}return rt[_t%rt.length]}return vt.domain=function(bt){if(!arguments.length)return nt.slice();nt=[],it=new InternMap;for(const _t of bt)it.has(_t)||it.set(_t,nt.push(_t)-1);return vt},vt.range=function(bt){return arguments.length?(rt=Array.from(bt),vt):rt.slice()},vt.unknown=function(bt){return arguments.length?(st=bt,vt):st},vt.copy=function(){return ordinal(nt,rt).unknown(st)},initRange.apply(vt,arguments),vt}function constants(it){return function(){return it}}function number$1(it){return+it}var unit$1=[0,1];function identity$2(it){return it}function normalize(it,nt){return(nt-=it=+it)?function(rt){return(rt-it)/nt}:constants(isNaN(nt)?NaN:.5)}function clamper(it,nt){var rt;return it>nt&&(rt=it,it=nt,nt=rt),function(st){return Math.max(it,Math.min(nt,st))}}function bimap(it,nt,rt){var st=it[0],vt=it[1],bt=nt[0],_t=nt[1];return vt<st?(st=normalize(vt,st),bt=rt(_t,bt)):(st=normalize(st,vt),bt=rt(bt,_t)),function(wt){return bt(st(wt))}}function polymap(it,nt,rt){var st=Math.min(it.length,nt.length)-1,vt=new Array(st),bt=new Array(st),_t=-1;for(it[st]<it[0]&&(it=it.slice().reverse(),nt=nt.slice().reverse());++_t<st;)vt[_t]=normalize(it[_t],it[_t+1]),bt[_t]=rt(nt[_t],nt[_t+1]);return function(wt){var Et=bisect(it,wt,1,st)-1;return bt[Et](vt[Et](wt))}}function copy$1(it,nt){return nt.domain(it.domain()).range(it.range()).interpolate(it.interpolate()).clamp(it.clamp()).unknown(it.unknown())}function transformer(){var it=unit$1,nt=unit$1,rt=interpolate$1,st,vt,bt,_t=identity$2,wt,Et,Tt;function $t(){var Lt=Math.min(it.length,nt.length);return _t!==identity$2&&(_t=clamper(it[0],it[Lt-1])),wt=Lt>2?polymap:bimap,Et=Tt=null,Dt}function Dt(Lt){return Lt==null||isNaN(Lt=+Lt)?bt:(Et||(Et=wt(it.map(st),nt,rt)))(st(_t(Lt)))}return Dt.invert=function(Lt){return _t(vt((Tt||(Tt=wt(nt,it.map(st),interpolateNumber)))(Lt)))},Dt.domain=function(Lt){return arguments.length?(it=Array.from(Lt,number$1),$t()):it.slice()},Dt.range=function(Lt){return arguments.length?(nt=Array.from(Lt),$t()):nt.slice()},Dt.rangeRound=function(Lt){return nt=Array.from(Lt),rt=interpolateRound,$t()},Dt.clamp=function(Lt){return arguments.length?(_t=Lt?!0:identity$2,$t()):_t!==identity$2},Dt.interpolate=function(Lt){return arguments.length?(rt=Lt,$t()):rt},Dt.unknown=function(Lt){return arguments.length?(bt=Lt,Dt):bt},function(Lt,Bt){return st=Lt,vt=Bt,$t()}}function continuous(){return transformer()(identity$2,identity$2)}function tickFormat(it,nt,rt,st){var vt=tickStep(it,nt,rt),bt;switch(st=formatSpecifier(st==null?",f":st),st.type){case"s":{var _t=Math.max(Math.abs(it),Math.abs(nt));return st.precision==null&&!isNaN(bt=precisionPrefix(vt,_t))&&(st.precision=bt),formatPrefix(st,_t)}case"":case"e":case"g":case"p":case"r":{st.precision==null&&!isNaN(bt=precisionRound(vt,Math.max(Math.abs(it),Math.abs(nt))))&&(st.precision=bt-(st.type==="e"));break}case"f":case"%":{st.precision==null&&!isNaN(bt=precisionFixed(vt))&&(st.precision=bt-(st.type==="%")*2);break}}return format$1(st)}function linearish(it){var nt=it.domain;return it.ticks=function(rt){var st=nt();return ticks(st[0],st[st.length-1],rt==null?10:rt)},it.tickFormat=function(rt,st){var vt=nt();return tickFormat(vt[0],vt[vt.length-1],rt==null?10:rt,st)},it.nice=function(rt){rt==null&&(rt=10);var st=nt(),vt=0,bt=st.length-1,_t=st[vt],wt=st[bt],Et,Tt,$t=10;for(wt<_t&&(Tt=_t,_t=wt,wt=Tt,Tt=vt,vt=bt,bt=Tt);$t-- >0;){if(Tt=tickIncrement(_t,wt,rt),Tt===Et)return st[vt]=_t,st[bt]=wt,nt(st);if(Tt>0)_t=Math.floor(_t/Tt)*Tt,wt=Math.ceil(wt/Tt)*Tt;else if(Tt<0)_t=Math.ceil(_t*Tt)/Tt,wt=Math.floor(wt*Tt)/Tt;else break;Et=Tt}return it},it}function linear(){var it=continuous();return it.copy=function(){return copy$1(it,linear())},initRange.apply(it,arguments),linearish(it)}function nice(it,nt){it=it.slice();var rt=0,st=it.length-1,vt=it[rt],bt=it[st],_t;return bt<vt&&(_t=rt,rt=st,st=_t,_t=vt,vt=bt,bt=_t),it[rt]=nt.floor(vt),it[st]=nt.ceil(bt),it}const t0=new Date,t1=new Date;function timeInterval(it,nt,rt,st){function vt(bt){return it(bt=arguments.length===0?new Date:new Date(+bt)),bt}return vt.floor=bt=>(it(bt=new Date(+bt)),bt),vt.ceil=bt=>(it(bt=new Date(bt-1)),nt(bt,1),it(bt),bt),vt.round=bt=>{const _t=vt(bt),wt=vt.ceil(bt);return bt-_t<wt-bt?_t:wt},vt.offset=(bt,_t)=>(nt(bt=new Date(+bt),_t==null?1:Math.floor(_t)),bt),vt.range=(bt,_t,wt)=>{const Et=[];if(bt=vt.ceil(bt),wt=wt==null?1:Math.floor(wt),!(bt<_t)||!(wt>0))return Et;let Tt;do Et.push(Tt=new Date(+bt)),nt(bt,wt),it(bt);while(Tt<bt&&bt<_t);return Et},vt.filter=bt=>timeInterval(_t=>{if(_t>=_t)for(;it(_t),!bt(_t);)_t.setTime(_t-1)},(_t,wt)=>{if(_t>=_t)if(wt<0)for(;++wt<=0;)for(;nt(_t,-1),!bt(_t););else for(;--wt>=0;)for(;nt(_t,1),!bt(_t););}),rt&&(vt.count=(bt,_t)=>(t0.setTime(+bt),t1.setTime(+_t),it(t0),it(t1),Math.floor(rt(t0,t1))),vt.every=bt=>(bt=Math.floor(bt),!isFinite(bt)||!(bt>0)?null:bt>1?vt.filter(st?_t=>st(_t)%bt===0:_t=>vt.count(0,_t)%bt===0):vt)),vt}const millisecond=timeInterval(()=>{},(it,nt)=>{it.setTime(+it+nt)},(it,nt)=>nt-it);millisecond.every=it=>(it=Math.floor(it),!isFinite(it)||!(it>0)?null:it>1?timeInterval(nt=>{nt.setTime(Math.floor(nt/it)*it)},(nt,rt)=>{nt.setTime(+nt+rt*it)},(nt,rt)=>(rt-nt)/it):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(it=>{it.setTime(it-it.getMilliseconds())},(it,nt)=>{it.setTime(+it+nt*durationSecond)},(it,nt)=>(nt-it)/durationSecond,it=>it.getUTCSeconds());second.range;const timeMinute=timeInterval(it=>{it.setTime(it-it.getMilliseconds()-it.getSeconds()*durationSecond)},(it,nt)=>{it.setTime(+it+nt*durationMinute)},(it,nt)=>(nt-it)/durationMinute,it=>it.getMinutes());timeMinute.range;const utcMinute=timeInterval(it=>{it.setUTCSeconds(0,0)},(it,nt)=>{it.setTime(+it+nt*durationMinute)},(it,nt)=>(nt-it)/durationMinute,it=>it.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(it=>{it.setTime(it-it.getMilliseconds()-it.getSeconds()*durationSecond-it.getMinutes()*durationMinute)},(it,nt)=>{it.setTime(+it+nt*durationHour)},(it,nt)=>(nt-it)/durationHour,it=>it.getHours());timeHour.range;const utcHour=timeInterval(it=>{it.setUTCMinutes(0,0,0)},(it,nt)=>{it.setTime(+it+nt*durationHour)},(it,nt)=>(nt-it)/durationHour,it=>it.getUTCHours());utcHour.range;const timeDay=timeInterval(it=>it.setHours(0,0,0,0),(it,nt)=>it.setDate(it.getDate()+nt),(it,nt)=>(nt-it-(nt.getTimezoneOffset()-it.getTimezoneOffset())*durationMinute)/durationDay,it=>it.getDate()-1);timeDay.range;const utcDay=timeInterval(it=>{it.setUTCHours(0,0,0,0)},(it,nt)=>{it.setUTCDate(it.getUTCDate()+nt)},(it,nt)=>(nt-it)/durationDay,it=>it.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(it=>{it.setUTCHours(0,0,0,0)},(it,nt)=>{it.setUTCDate(it.getUTCDate()+nt)},(it,nt)=>(nt-it)/durationDay,it=>Math.floor(it/durationDay));unixDay.range;function timeWeekday(it){return timeInterval(nt=>{nt.setDate(nt.getDate()-(nt.getDay()+7-it)%7),nt.setHours(0,0,0,0)},(nt,rt)=>{nt.setDate(nt.getDate()+rt*7)},(nt,rt)=>(rt-nt-(rt.getTimezoneOffset()-nt.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(it){return timeInterval(nt=>{nt.setUTCDate(nt.getUTCDate()-(nt.getUTCDay()+7-it)%7),nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCDate(nt.getUTCDate()+rt*7)},(nt,rt)=>(rt-nt)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(it=>{it.setDate(1),it.setHours(0,0,0,0)},(it,nt)=>{it.setMonth(it.getMonth()+nt)},(it,nt)=>nt.getMonth()-it.getMonth()+(nt.getFullYear()-it.getFullYear())*12,it=>it.getMonth());timeMonth.range;const utcMonth=timeInterval(it=>{it.setUTCDate(1),it.setUTCHours(0,0,0,0)},(it,nt)=>{it.setUTCMonth(it.getUTCMonth()+nt)},(it,nt)=>nt.getUTCMonth()-it.getUTCMonth()+(nt.getUTCFullYear()-it.getUTCFullYear())*12,it=>it.getUTCMonth());utcMonth.range;const timeYear=timeInterval(it=>{it.setMonth(0,1),it.setHours(0,0,0,0)},(it,nt)=>{it.setFullYear(it.getFullYear()+nt)},(it,nt)=>nt.getFullYear()-it.getFullYear(),it=>it.getFullYear());timeYear.every=it=>!isFinite(it=Math.floor(it))||!(it>0)?null:timeInterval(nt=>{nt.setFullYear(Math.floor(nt.getFullYear()/it)*it),nt.setMonth(0,1),nt.setHours(0,0,0,0)},(nt,rt)=>{nt.setFullYear(nt.getFullYear()+rt*it)});timeYear.range;const utcYear=timeInterval(it=>{it.setUTCMonth(0,1),it.setUTCHours(0,0,0,0)},(it,nt)=>{it.setUTCFullYear(it.getUTCFullYear()+nt)},(it,nt)=>nt.getUTCFullYear()-it.getUTCFullYear(),it=>it.getUTCFullYear());utcYear.every=it=>!isFinite(it=Math.floor(it))||!(it>0)?null:timeInterval(nt=>{nt.setUTCFullYear(Math.floor(nt.getUTCFullYear()/it)*it),nt.setUTCMonth(0,1),nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCFullYear(nt.getUTCFullYear()+rt*it)});utcYear.range;function ticker(it,nt,rt,st,vt,bt){const _t=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[bt,1,durationMinute],[bt,5,5*durationMinute],[bt,15,15*durationMinute],[bt,30,30*durationMinute],[vt,1,durationHour],[vt,3,3*durationHour],[vt,6,6*durationHour],[vt,12,12*durationHour],[st,1,durationDay],[st,2,2*durationDay],[rt,1,durationWeek],[nt,1,durationMonth],[nt,3,3*durationMonth],[it,1,durationYear]];function wt(Tt,$t,Dt){const Lt=$t<Tt;Lt&&([Tt,$t]=[$t,Tt]);const Bt=Dt&&typeof Dt.range=="function"?Dt:Et(Tt,$t,Dt),Ht=Bt?Bt.range(Tt,+$t+1):[];return Lt?Ht.reverse():Ht}function Et(Tt,$t,Dt){const Lt=Math.abs($t-Tt)/Dt,Bt=bisector(([,,It])=>It).right(_t,Lt);if(Bt===_t.length)return it.every(tickStep(Tt/durationYear,$t/durationYear,Dt));if(Bt===0)return millisecond.every(Math.max(tickStep(Tt,$t,Dt),1));const[Ht,Ut]=_t[Lt/_t[Bt-1][2]<_t[Bt][2]/Lt?Bt-1:Bt];return Ht.every(Ut)}return[wt,Et]}ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute);const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(it){if(0<=it.y&&it.y<100){var nt=new Date(-1,it.m,it.d,it.H,it.M,it.S,it.L);return nt.setFullYear(it.y),nt}return new Date(it.y,it.m,it.d,it.H,it.M,it.S,it.L)}function utcDate(it){if(0<=it.y&&it.y<100){var nt=new Date(Date.UTC(-1,it.m,it.d,it.H,it.M,it.S,it.L));return nt.setUTCFullYear(it.y),nt}return new Date(Date.UTC(it.y,it.m,it.d,it.H,it.M,it.S,it.L))}function newDate(it,nt,rt){return{y:it,m:nt,d:rt,H:0,M:0,S:0,L:0}}function formatLocale(it){var nt=it.dateTime,rt=it.date,st=it.time,vt=it.periods,bt=it.days,_t=it.shortDays,wt=it.months,Et=it.shortMonths,Tt=formatRe(vt),$t=formatLookup(vt),Dt=formatRe(bt),Lt=formatLookup(bt),Bt=formatRe(_t),Ht=formatLookup(_t),Ut=formatRe(wt),It=formatLookup(wt),jt=formatRe(Et),Wt=formatLookup(Et),qt={a:Fi,A:Xi,b:nn,B:Ai,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:ji,q:Ri,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Yt={a:Vi,A:Qi,b:rn,B:Pi,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:bn,q:Oi,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},ti={a:ci,A:hi,b:ei,B:wi,c:Kt,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:ui,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:Ni,X:ni,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};qt.x=oi(rt,qt),qt.X=oi(st,qt),qt.c=oi(nt,qt),Yt.x=oi(rt,Yt),Yt.X=oi(st,Yt),Yt.c=oi(nt,Yt);function oi(Ii,Gi){return function($i){var ii=[],Nt=-1,Qt=0,Jt=Ii.length,Si,vi,Mi;for($i instanceof Date||($i=new Date(+$i));++Nt<Jt;)Ii.charCodeAt(Nt)===37&&(ii.push(Ii.slice(Qt,Nt)),(vi=pads[Si=Ii.charAt(++Nt)])!=null?Si=Ii.charAt(++Nt):vi=Si==="e"?" ":"0",(Mi=Gi[Si])&&(Si=Mi($i,vi)),ii.push(Si),Qt=Nt+1);return ii.push(Ii.slice(Qt,Nt)),ii.join("")}}function si(Ii,Gi){return function($i){var ii=newDate(1900,void 0,1),Nt=di(ii,Ii,$i+="",0),Qt,Jt;if(Nt!=$i.length)return null;if("Q"in ii)return new Date(ii.Q);if("s"in ii)return new Date(ii.s*1e3+("L"in ii?ii.L:0));if(Gi&&!("Z"in ii)&&(ii.Z=0),"p"in ii&&(ii.H=ii.H%12+ii.p*12),ii.m===void 0&&(ii.m="q"in ii?ii.q:0),"V"in ii){if(ii.V<1||ii.V>53)return null;"w"in ii||(ii.w=1),"Z"in ii?(Qt=utcDate(newDate(ii.y,0,1)),Jt=Qt.getUTCDay(),Qt=Jt>4||Jt===0?utcMonday.ceil(Qt):utcMonday(Qt),Qt=utcDay.offset(Qt,(ii.V-1)*7),ii.y=Qt.getUTCFullYear(),ii.m=Qt.getUTCMonth(),ii.d=Qt.getUTCDate()+(ii.w+6)%7):(Qt=localDate(newDate(ii.y,0,1)),Jt=Qt.getDay(),Qt=Jt>4||Jt===0?timeMonday.ceil(Qt):timeMonday(Qt),Qt=timeDay.offset(Qt,(ii.V-1)*7),ii.y=Qt.getFullYear(),ii.m=Qt.getMonth(),ii.d=Qt.getDate()+(ii.w+6)%7)}else("W"in ii||"U"in ii)&&("w"in ii||(ii.w="u"in ii?ii.u%7:"W"in ii?1:0),Jt="Z"in ii?utcDate(newDate(ii.y,0,1)).getUTCDay():localDate(newDate(ii.y,0,1)).getDay(),ii.m=0,ii.d="W"in ii?(ii.w+6)%7+ii.W*7-(Jt+5)%7:ii.w+ii.U*7-(Jt+6)%7);return"Z"in ii?(ii.H+=ii.Z/100|0,ii.M+=ii.Z%100,utcDate(ii)):localDate(ii)}}function di(Ii,Gi,$i,ii){for(var Nt=0,Qt=Gi.length,Jt=$i.length,Si,vi;Nt<Qt;){if(ii>=Jt)return-1;if(Si=Gi.charCodeAt(Nt++),Si===37){if(Si=Gi.charAt(Nt++),vi=ti[Si in pads?Gi.charAt(Nt++):Si],!vi||(ii=vi(Ii,$i,ii))<0)return-1}else if(Si!=$i.charCodeAt(ii++))return-1}return ii}function ui(Ii,Gi,$i){var ii=Tt.exec(Gi.slice($i));return ii?(Ii.p=$t.get(ii[0].toLowerCase()),$i+ii[0].length):-1}function ci(Ii,Gi,$i){var ii=Bt.exec(Gi.slice($i));return ii?(Ii.w=Ht.get(ii[0].toLowerCase()),$i+ii[0].length):-1}function hi(Ii,Gi,$i){var ii=Dt.exec(Gi.slice($i));return ii?(Ii.w=Lt.get(ii[0].toLowerCase()),$i+ii[0].length):-1}function ei(Ii,Gi,$i){var ii=jt.exec(Gi.slice($i));return ii?(Ii.m=Wt.get(ii[0].toLowerCase()),$i+ii[0].length):-1}function wi(Ii,Gi,$i){var ii=Ut.exec(Gi.slice($i));return ii?(Ii.m=It.get(ii[0].toLowerCase()),$i+ii[0].length):-1}function Kt(Ii,Gi,$i){return di(Ii,nt,Gi,$i)}function Ni(Ii,Gi,$i){return di(Ii,rt,Gi,$i)}function ni(Ii,Gi,$i){return di(Ii,st,Gi,$i)}function Fi(Ii){return _t[Ii.getDay()]}function Xi(Ii){return bt[Ii.getDay()]}function nn(Ii){return Et[Ii.getMonth()]}function Ai(Ii){return wt[Ii.getMonth()]}function ji(Ii){return vt[+(Ii.getHours()>=12)]}function Ri(Ii){return 1+~~(Ii.getMonth()/3)}function Vi(Ii){return _t[Ii.getUTCDay()]}function Qi(Ii){return bt[Ii.getUTCDay()]}function rn(Ii){return Et[Ii.getUTCMonth()]}function Pi(Ii){return wt[Ii.getUTCMonth()]}function bn(Ii){return vt[+(Ii.getUTCHours()>=12)]}function Oi(Ii){return 1+~~(Ii.getUTCMonth()/3)}return{format:function(Ii){var Gi=oi(Ii+="",qt);return Gi.toString=function(){return Ii},Gi},parse:function(Ii){var Gi=si(Ii+="",!1);return Gi.toString=function(){return Ii},Gi},utcFormat:function(Ii){var Gi=oi(Ii+="",Yt);return Gi.toString=function(){return Ii},Gi},utcParse:function(Ii){var Gi=si(Ii+="",!0);return Gi.toString=function(){return Ii},Gi}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(it,nt,rt){var st=it<0?"-":"",vt=(st?-it:it)+"",bt=vt.length;return st+(bt<rt?new Array(rt-bt+1).join(nt)+vt:vt)}function requote(it){return it.replace(requoteRe,"\\$&")}function formatRe(it){return new RegExp("^(?:"+it.map(requote).join("|")+")","i")}function formatLookup(it){return new Map(it.map((nt,rt)=>[nt.toLowerCase(),rt]))}function parseWeekdayNumberSunday(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+1));return st?(it.w=+st[0],rt+st[0].length):-1}function parseWeekdayNumberMonday(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+1));return st?(it.u=+st[0],rt+st[0].length):-1}function parseWeekNumberSunday(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.U=+st[0],rt+st[0].length):-1}function parseWeekNumberISO(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.V=+st[0],rt+st[0].length):-1}function parseWeekNumberMonday(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.W=+st[0],rt+st[0].length):-1}function parseFullYear(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+4));return st?(it.y=+st[0],rt+st[0].length):-1}function parseYear(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.y=+st[0]+(+st[0]>68?1900:2e3),rt+st[0].length):-1}function parseZone(it,nt,rt){var st=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(nt.slice(rt,rt+6));return st?(it.Z=st[1]?0:-(st[2]+(st[3]||"00")),rt+st[0].length):-1}function parseQuarter(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+1));return st?(it.q=st[0]*3-3,rt+st[0].length):-1}function parseMonthNumber(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.m=st[0]-1,rt+st[0].length):-1}function parseDayOfMonth(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.d=+st[0],rt+st[0].length):-1}function parseDayOfYear(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+3));return st?(it.m=0,it.d=+st[0],rt+st[0].length):-1}function parseHour24(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.H=+st[0],rt+st[0].length):-1}function parseMinutes(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.M=+st[0],rt+st[0].length):-1}function parseSeconds(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+2));return st?(it.S=+st[0],rt+st[0].length):-1}function parseMilliseconds(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+3));return st?(it.L=+st[0],rt+st[0].length):-1}function parseMicroseconds(it,nt,rt){var st=numberRe.exec(nt.slice(rt,rt+6));return st?(it.L=Math.floor(st[0]/1e3),rt+st[0].length):-1}function parseLiteralPercent(it,nt,rt){var st=percentRe.exec(nt.slice(rt,rt+1));return st?rt+st[0].length:-1}function parseUnixTimestamp(it,nt,rt){var st=numberRe.exec(nt.slice(rt));return st?(it.Q=+st[0],rt+st[0].length):-1}function parseUnixTimestampSeconds(it,nt,rt){var st=numberRe.exec(nt.slice(rt));return st?(it.s=+st[0],rt+st[0].length):-1}function formatDayOfMonth(it,nt){return pad(it.getDate(),nt,2)}function formatHour24(it,nt){return pad(it.getHours(),nt,2)}function formatHour12(it,nt){return pad(it.getHours()%12||12,nt,2)}function formatDayOfYear(it,nt){return pad(1+timeDay.count(timeYear(it),it),nt,3)}function formatMilliseconds(it,nt){return pad(it.getMilliseconds(),nt,3)}function formatMicroseconds(it,nt){return formatMilliseconds(it,nt)+"000"}function formatMonthNumber(it,nt){return pad(it.getMonth()+1,nt,2)}function formatMinutes(it,nt){return pad(it.getMinutes(),nt,2)}function formatSeconds(it,nt){return pad(it.getSeconds(),nt,2)}function formatWeekdayNumberMonday(it){var nt=it.getDay();return nt===0?7:nt}function formatWeekNumberSunday(it,nt){return pad(timeSunday.count(timeYear(it)-1,it),nt,2)}function dISO(it){var nt=it.getDay();return nt>=4||nt===0?timeThursday(it):timeThursday.ceil(it)}function formatWeekNumberISO(it,nt){return it=dISO(it),pad(timeThursday.count(timeYear(it),it)+(timeYear(it).getDay()===4),nt,2)}function formatWeekdayNumberSunday(it){return it.getDay()}function formatWeekNumberMonday(it,nt){return pad(timeMonday.count(timeYear(it)-1,it),nt,2)}function formatYear(it,nt){return pad(it.getFullYear()%100,nt,2)}function formatYearISO(it,nt){return it=dISO(it),pad(it.getFullYear()%100,nt,2)}function formatFullYear(it,nt){return pad(it.getFullYear()%1e4,nt,4)}function formatFullYearISO(it,nt){var rt=it.getDay();return it=rt>=4||rt===0?timeThursday(it):timeThursday.ceil(it),pad(it.getFullYear()%1e4,nt,4)}function formatZone(it){var nt=it.getTimezoneOffset();return(nt>0?"-":(nt*=-1,"+"))+pad(nt/60|0,"0",2)+pad(nt%60,"0",2)}function formatUTCDayOfMonth(it,nt){return pad(it.getUTCDate(),nt,2)}function formatUTCHour24(it,nt){return pad(it.getUTCHours(),nt,2)}function formatUTCHour12(it,nt){return pad(it.getUTCHours()%12||12,nt,2)}function formatUTCDayOfYear(it,nt){return pad(1+utcDay.count(utcYear(it),it),nt,3)}function formatUTCMilliseconds(it,nt){return pad(it.getUTCMilliseconds(),nt,3)}function formatUTCMicroseconds(it,nt){return formatUTCMilliseconds(it,nt)+"000"}function formatUTCMonthNumber(it,nt){return pad(it.getUTCMonth()+1,nt,2)}function formatUTCMinutes(it,nt){return pad(it.getUTCMinutes(),nt,2)}function formatUTCSeconds(it,nt){return pad(it.getUTCSeconds(),nt,2)}function formatUTCWeekdayNumberMonday(it){var nt=it.getUTCDay();return nt===0?7:nt}function formatUTCWeekNumberSunday(it,nt){return pad(utcSunday.count(utcYear(it)-1,it),nt,2)}function UTCdISO(it){var nt=it.getUTCDay();return nt>=4||nt===0?utcThursday(it):utcThursday.ceil(it)}function formatUTCWeekNumberISO(it,nt){return it=UTCdISO(it),pad(utcThursday.count(utcYear(it),it)+(utcYear(it).getUTCDay()===4),nt,2)}function formatUTCWeekdayNumberSunday(it){return it.getUTCDay()}function formatUTCWeekNumberMonday(it,nt){return pad(utcMonday.count(utcYear(it)-1,it),nt,2)}function formatUTCYear(it,nt){return pad(it.getUTCFullYear()%100,nt,2)}function formatUTCYearISO(it,nt){return it=UTCdISO(it),pad(it.getUTCFullYear()%100,nt,2)}function formatUTCFullYear(it,nt){return pad(it.getUTCFullYear()%1e4,nt,4)}function formatUTCFullYearISO(it,nt){var rt=it.getUTCDay();return it=rt>=4||rt===0?utcThursday(it):utcThursday.ceil(it),pad(it.getUTCFullYear()%1e4,nt,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(it){return+it}function formatUnixTimestampSeconds(it){return Math.floor(+it/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(it){return locale=formatLocale(it),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(it){return new Date(it)}function number(it){return it instanceof Date?+it:+new Date(+it)}function calendar(it,nt,rt,st,vt,bt,_t,wt,Et,Tt){var $t=continuous(),Dt=$t.invert,Lt=$t.domain,Bt=Tt(".%L"),Ht=Tt(":%S"),Ut=Tt("%I:%M"),It=Tt("%I %p"),jt=Tt("%a %d"),Wt=Tt("%b %d"),qt=Tt("%B"),Yt=Tt("%Y");function ti(oi){return(Et(oi)<oi?Bt:wt(oi)<oi?Ht:_t(oi)<oi?Ut:bt(oi)<oi?It:st(oi)<oi?vt(oi)<oi?jt:Wt:rt(oi)<oi?qt:Yt)(oi)}return $t.invert=function(oi){return new Date(Dt(oi))},$t.domain=function(oi){return arguments.length?Lt(Array.from(oi,number)):Lt().map(date)},$t.ticks=function(oi){var si=Lt();return it(si[0],si[si.length-1],oi==null?10:oi)},$t.tickFormat=function(oi,si){return si==null?ti:Tt(si)},$t.nice=function(oi){var si=Lt();return(!oi||typeof oi.range!="function")&&(oi=nt(si[0],si[si.length-1],oi==null?10:oi)),oi?Lt(nice(si,oi)):$t},$t.copy=function(){return copy$1($t,calendar(it,nt,rt,st,vt,bt,_t,wt,Et,Tt))},$t}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function constant$1(it){return function(){return it}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$1=Math.max,min$1=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(it){return it>1?0:it<-1?pi:Math.acos(it)}function asin(it){return it>=1?halfPi:it<=-1?-halfPi:Math.asin(it)}function withPath(it){let nt=3;return it.digits=function(rt){if(!arguments.length)return nt;if(rt==null)nt=null;else{const st=Math.floor(rt);if(!(st>=0))throw new RangeError(`invalid digits: ${rt}`);nt=st}return it},()=>new Path(nt)}function arcInnerRadius(it){return it.innerRadius}function arcOuterRadius(it){return it.outerRadius}function arcStartAngle(it){return it.startAngle}function arcEndAngle(it){return it.endAngle}function arcPadAngle(it){return it&&it.padAngle}function intersect$1(it,nt,rt,st,vt,bt,_t,wt){var Et=rt-it,Tt=st-nt,$t=_t-vt,Dt=wt-bt,Lt=Dt*Et-$t*Tt;if(!(Lt*Lt<epsilon))return Lt=($t*(nt-bt)-Dt*(it-vt))/Lt,[it+Lt*Et,nt+Lt*Tt]}function cornerTangents(it,nt,rt,st,vt,bt,_t){var wt=it-rt,Et=nt-st,Tt=(_t?bt:-bt)/sqrt(wt*wt+Et*Et),$t=Tt*Et,Dt=-Tt*wt,Lt=it+$t,Bt=nt+Dt,Ht=rt+$t,Ut=st+Dt,It=(Lt+Ht)/2,jt=(Bt+Ut)/2,Wt=Ht-Lt,qt=Ut-Bt,Yt=Wt*Wt+qt*qt,ti=vt-bt,oi=Lt*Ut-Ht*Bt,si=(qt<0?-1:1)*sqrt(max$1(0,ti*ti*Yt-oi*oi)),di=(oi*qt-Wt*si)/Yt,ui=(-oi*Wt-qt*si)/Yt,ci=(oi*qt+Wt*si)/Yt,hi=(-oi*Wt+qt*si)/Yt,ei=di-It,wi=ui-jt,Kt=ci-It,Ni=hi-jt;return ei*ei+wi*wi>Kt*Kt+Ni*Ni&&(di=ci,ui=hi),{cx:di,cy:ui,x01:-$t,y01:-Dt,x11:di*(vt/ti-1),y11:ui*(vt/ti-1)}}function arc(){var it=arcInnerRadius,nt=arcOuterRadius,rt=constant$1(0),st=null,vt=arcStartAngle,bt=arcEndAngle,_t=arcPadAngle,wt=null,Et=withPath(Tt);function Tt(){var $t,Dt,Lt=+it.apply(this,arguments),Bt=+nt.apply(this,arguments),Ht=vt.apply(this,arguments)-halfPi,Ut=bt.apply(this,arguments)-halfPi,It=abs$1(Ut-Ht),jt=Ut>Ht;if(wt||(wt=$t=Et()),Bt<Lt&&(Dt=Bt,Bt=Lt,Lt=Dt),!(Bt>epsilon))wt.moveTo(0,0);else if(It>tau-epsilon)wt.moveTo(Bt*cos(Ht),Bt*sin(Ht)),wt.arc(0,0,Bt,Ht,Ut,!jt),Lt>epsilon&&(wt.moveTo(Lt*cos(Ut),Lt*sin(Ut)),wt.arc(0,0,Lt,Ut,Ht,jt));else{var Wt=Ht,qt=Ut,Yt=Ht,ti=Ut,oi=It,si=It,di=_t.apply(this,arguments)/2,ui=di>epsilon&&(st?+st.apply(this,arguments):sqrt(Lt*Lt+Bt*Bt)),ci=min$1(abs$1(Bt-Lt)/2,+rt.apply(this,arguments)),hi=ci,ei=ci,wi,Kt;if(ui>epsilon){var Ni=asin(ui/Lt*sin(di)),ni=asin(ui/Bt*sin(di));(oi-=Ni*2)>epsilon?(Ni*=jt?1:-1,Yt+=Ni,ti-=Ni):(oi=0,Yt=ti=(Ht+Ut)/2),(si-=ni*2)>epsilon?(ni*=jt?1:-1,Wt+=ni,qt-=ni):(si=0,Wt=qt=(Ht+Ut)/2)}var Fi=Bt*cos(Wt),Xi=Bt*sin(Wt),nn=Lt*cos(ti),Ai=Lt*sin(ti);if(ci>epsilon){var ji=Bt*cos(qt),Ri=Bt*sin(qt),Vi=Lt*cos(Yt),Qi=Lt*sin(Yt),rn;if(It<pi)if(rn=intersect$1(Fi,Xi,Vi,Qi,ji,Ri,nn,Ai)){var Pi=Fi-rn[0],bn=Xi-rn[1],Oi=ji-rn[0],Ii=Ri-rn[1],Gi=1/sin(acos((Pi*Oi+bn*Ii)/(sqrt(Pi*Pi+bn*bn)*sqrt(Oi*Oi+Ii*Ii)))/2),$i=sqrt(rn[0]*rn[0]+rn[1]*rn[1]);hi=min$1(ci,(Lt-$i)/(Gi-1)),ei=min$1(ci,(Bt-$i)/(Gi+1))}else hi=ei=0}si>epsilon?ei>epsilon?(wi=cornerTangents(Vi,Qi,Fi,Xi,Bt,ei,jt),Kt=cornerTangents(ji,Ri,nn,Ai,Bt,ei,jt),wt.moveTo(wi.cx+wi.x01,wi.cy+wi.y01),ei<ci?wt.arc(wi.cx,wi.cy,ei,atan2(wi.y01,wi.x01),atan2(Kt.y01,Kt.x01),!jt):(wt.arc(wi.cx,wi.cy,ei,atan2(wi.y01,wi.x01),atan2(wi.y11,wi.x11),!jt),wt.arc(0,0,Bt,atan2(wi.cy+wi.y11,wi.cx+wi.x11),atan2(Kt.cy+Kt.y11,Kt.cx+Kt.x11),!jt),wt.arc(Kt.cx,Kt.cy,ei,atan2(Kt.y11,Kt.x11),atan2(Kt.y01,Kt.x01),!jt))):(wt.moveTo(Fi,Xi),wt.arc(0,0,Bt,Wt,qt,!jt)):wt.moveTo(Fi,Xi),!(Lt>epsilon)||!(oi>epsilon)?wt.lineTo(nn,Ai):hi>epsilon?(wi=cornerTangents(nn,Ai,ji,Ri,Lt,-hi,jt),Kt=cornerTangents(Fi,Xi,Vi,Qi,Lt,-hi,jt),wt.lineTo(wi.cx+wi.x01,wi.cy+wi.y01),hi<ci?wt.arc(wi.cx,wi.cy,hi,atan2(wi.y01,wi.x01),atan2(Kt.y01,Kt.x01),!jt):(wt.arc(wi.cx,wi.cy,hi,atan2(wi.y01,wi.x01),atan2(wi.y11,wi.x11),!jt),wt.arc(0,0,Lt,atan2(wi.cy+wi.y11,wi.cx+wi.x11),atan2(Kt.cy+Kt.y11,Kt.cx+Kt.x11),jt),wt.arc(Kt.cx,Kt.cy,hi,atan2(Kt.y11,Kt.x11),atan2(Kt.y01,Kt.x01),!jt))):wt.arc(0,0,Lt,ti,Yt,jt)}if(wt.closePath(),$t)return wt=null,$t+""||null}return Tt.centroid=function(){var $t=(+it.apply(this,arguments)+ +nt.apply(this,arguments))/2,Dt=(+vt.apply(this,arguments)+ +bt.apply(this,arguments))/2-pi/2;return[cos(Dt)*$t,sin(Dt)*$t]},Tt.innerRadius=function($t){return arguments.length?(it=typeof $t=="function"?$t:constant$1(+$t),Tt):it},Tt.outerRadius=function($t){return arguments.length?(nt=typeof $t=="function"?$t:constant$1(+$t),Tt):nt},Tt.cornerRadius=function($t){return arguments.length?(rt=typeof $t=="function"?$t:constant$1(+$t),Tt):rt},Tt.padRadius=function($t){return arguments.length?(st=$t==null?null:typeof $t=="function"?$t:constant$1(+$t),Tt):st},Tt.startAngle=function($t){return arguments.length?(vt=typeof $t=="function"?$t:constant$1(+$t),Tt):vt},Tt.endAngle=function($t){return arguments.length?(bt=typeof $t=="function"?$t:constant$1(+$t),Tt):bt},Tt.padAngle=function($t){return arguments.length?(_t=typeof $t=="function"?$t:constant$1(+$t),Tt):_t},Tt.context=function($t){return arguments.length?(wt=$t==null?null:$t,Tt):wt},Tt}function array(it){return typeof it=="object"&&"length"in it?it:Array.from(it)}function Linear(it){this._context=it}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(it,nt){switch(it=+it,nt=+nt,this._point){case 0:this._point=1,this._line?this._context.lineTo(it,nt):this._context.moveTo(it,nt);break;case 1:this._point=2;default:this._context.lineTo(it,nt);break}}};function curveLinear(it){return new Linear(it)}function x(it){return it[0]}function y(it){return it[1]}function line$1(it,nt){var rt=constant$1(!0),st=null,vt=curveLinear,bt=null,_t=withPath(wt);it=typeof it=="function"?it:it===void 0?x:constant$1(it),nt=typeof nt=="function"?nt:nt===void 0?y:constant$1(nt);function wt(Et){var Tt,$t=(Et=array(Et)).length,Dt,Lt=!1,Bt;for(st==null&&(bt=vt(Bt=_t())),Tt=0;Tt<=$t;++Tt)!(Tt<$t&&rt(Dt=Et[Tt],Tt,Et))===Lt&&((Lt=!Lt)?bt.lineStart():bt.lineEnd()),Lt&&bt.point(+it(Dt,Tt,Et),+nt(Dt,Tt,Et));if(Bt)return bt=null,Bt+""||null}return wt.x=function(Et){return arguments.length?(it=typeof Et=="function"?Et:constant$1(+Et),wt):it},wt.y=function(Et){return arguments.length?(nt=typeof Et=="function"?Et:constant$1(+Et),wt):nt},wt.defined=function(Et){return arguments.length?(rt=typeof Et=="function"?Et:constant$1(!!Et),wt):rt},wt.curve=function(Et){return arguments.length?(vt=Et,st!=null&&(bt=vt(st)),wt):vt},wt.context=function(Et){return arguments.length?(Et==null?st=bt=null:bt=vt(st=Et),wt):st},wt}function descending(it,nt){return nt<it?-1:nt>it?1:nt>=it?0:NaN}function identity$1(it){return it}function pie(){var it=identity$1,nt=descending,rt=null,st=constant$1(0),vt=constant$1(tau),bt=constant$1(0);function _t(wt){var Et,Tt=(wt=array(wt)).length,$t,Dt,Lt=0,Bt=new Array(Tt),Ht=new Array(Tt),Ut=+st.apply(this,arguments),It=Math.min(tau,Math.max(-tau,vt.apply(this,arguments)-Ut)),jt,Wt=Math.min(Math.abs(It)/Tt,bt.apply(this,arguments)),qt=Wt*(It<0?-1:1),Yt;for(Et=0;Et<Tt;++Et)(Yt=Ht[Bt[Et]=Et]=+it(wt[Et],Et,wt))>0&&(Lt+=Yt);for(nt!=null?Bt.sort(function(ti,oi){return nt(Ht[ti],Ht[oi])}):rt!=null&&Bt.sort(function(ti,oi){return rt(wt[ti],wt[oi])}),Et=0,Dt=Lt?(It-Tt*qt)/Lt:0;Et<Tt;++Et,Ut=jt)$t=Bt[Et],Yt=Ht[$t],jt=Ut+(Yt>0?Yt*Dt:0)+qt,Ht[$t]={data:wt[$t],index:Et,value:Yt,startAngle:Ut,endAngle:jt,padAngle:Wt};return Ht}return _t.value=function(wt){return arguments.length?(it=typeof wt=="function"?wt:constant$1(+wt),_t):it},_t.sortValues=function(wt){return arguments.length?(nt=wt,rt=null,_t):nt},_t.sort=function(wt){return arguments.length?(rt=wt,nt=null,_t):rt},_t.startAngle=function(wt){return arguments.length?(st=typeof wt=="function"?wt:constant$1(+wt),_t):st},_t.endAngle=function(wt){return arguments.length?(vt=typeof wt=="function"?wt:constant$1(+wt),_t):vt},_t.padAngle=function(wt){return arguments.length?(bt=typeof wt=="function"?wt:constant$1(+wt),_t):bt},_t}function noop$1(){}function point$2(it,nt,rt){it._context.bezierCurveTo((2*it._x0+it._x1)/3,(2*it._y0+it._y1)/3,(it._x0+2*it._x1)/3,(it._y0+2*it._y1)/3,(it._x0+4*it._x1+nt)/6,(it._y0+4*it._y1+rt)/6)}function Basis(it){this._context=it}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(it,nt){switch(it=+it,nt=+nt,this._point){case 0:this._point=1,this._line?this._context.lineTo(it,nt):this._context.moveTo(it,nt);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,it,nt);break}this._x0=this._x1,this._x1=it,this._y0=this._y1,this._y1=nt}};function curveBasis(it){return new Basis(it)}function BasisClosed(it){this._context=it}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(it,nt){switch(it=+it,nt=+nt,this._point){case 0:this._point=1,this._x2=it,this._y2=nt;break;case 1:this._point=2,this._x3=it,this._y3=nt;break;case 2:this._point=3,this._x4=it,this._y4=nt,this._context.moveTo((this._x0+4*this._x1+it)/6,(this._y0+4*this._y1+nt)/6);break;default:point$2(this,it,nt);break}this._x0=this._x1,this._x1=it,this._y0=this._y1,this._y1=nt}};function curveBasisClosed(it){return new BasisClosed(it)}function BasisOpen(it){this._context=it}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(it,nt){switch(it=+it,nt=+nt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var rt=(this._x0+4*this._x1+it)/6,st=(this._y0+4*this._y1+nt)/6;this._line?this._context.lineTo(rt,st):this._context.moveTo(rt,st);break;case 3:this._point=4;default:point$2(this,it,nt);break}this._x0=this._x1,this._x1=it,this._y0=this._y1,this._y1=nt}};function curveBasisOpen(it){return new BasisOpen(it)}function LinearClosed(it){this._context=it}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(it,nt){it=+it,nt=+nt,this._point?this._context.lineTo(it,nt):(this._point=1,this._context.moveTo(it,nt))}};function curveLinearClosed(it){return new LinearClosed(it)}function sign(it){return it<0?-1:1}function slope3(it,nt,rt){var st=it._x1-it._x0,vt=nt-it._x1,bt=(it._y1-it._y0)/(st||vt<0&&-0),_t=(rt-it._y1)/(vt||st<0&&-0),wt=(bt*vt+_t*st)/(st+vt);return(sign(bt)+sign(_t))*Math.min(Math.abs(bt),Math.abs(_t),.5*Math.abs(wt))||0}function slope2(it,nt){var rt=it._x1-it._x0;return rt?(3*(it._y1-it._y0)/rt-nt)/2:nt}function point$1(it,nt,rt){var st=it._x0,vt=it._y0,bt=it._x1,_t=it._y1,wt=(bt-st)/3;it._context.bezierCurveTo(st+wt,vt+wt*nt,bt-wt,_t-wt*rt,bt,_t)}function MonotoneX(it){this._context=it}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(it,nt){var rt=NaN;if(it=+it,nt=+nt,!(it===this._x1&&nt===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(it,nt):this._context.moveTo(it,nt);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,rt=slope3(this,it,nt)),rt);break;default:point$1(this,this._t0,rt=slope3(this,it,nt));break}this._x0=this._x1,this._x1=it,this._y0=this._y1,this._y1=nt,this._t0=rt}}};function MonotoneY(it){this._context=new ReflectContext(it)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(it,nt){MonotoneX.prototype.point.call(this,nt,it)};function ReflectContext(it){this._context=it}ReflectContext.prototype={moveTo:function(it,nt){this._context.moveTo(nt,it)},closePath:function(){this._context.closePath()},lineTo:function(it,nt){this._context.lineTo(nt,it)},bezierCurveTo:function(it,nt,rt,st,vt,bt){this._context.bezierCurveTo(nt,it,st,rt,bt,vt)}};function monotoneX(it){return new MonotoneX(it)}function monotoneY(it){return new MonotoneY(it)}function Natural(it){this._context=it}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var it=this._x,nt=this._y,rt=it.length;if(rt)if(this._line?this._context.lineTo(it[0],nt[0]):this._context.moveTo(it[0],nt[0]),rt===2)this._context.lineTo(it[1],nt[1]);else for(var st=controlPoints(it),vt=controlPoints(nt),bt=0,_t=1;_t<rt;++bt,++_t)this._context.bezierCurveTo(st[0][bt],vt[0][bt],st[1][bt],vt[1][bt],it[_t],nt[_t]);(this._line||this._line!==0&&rt===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(it,nt){this._x.push(+it),this._y.push(+nt)}};function controlPoints(it){var nt,rt=it.length-1,st,vt=new Array(rt),bt=new Array(rt),_t=new Array(rt);for(vt[0]=0,bt[0]=2,_t[0]=it[0]+2*it[1],nt=1;nt<rt-1;++nt)vt[nt]=1,bt[nt]=4,_t[nt]=4*it[nt]+2*it[nt+1];for(vt[rt-1]=2,bt[rt-1]=7,_t[rt-1]=8*it[rt-1]+it[rt],nt=1;nt<rt;++nt)st=vt[nt]/bt[nt-1],bt[nt]-=st,_t[nt]-=st*_t[nt-1];for(vt[rt-1]=_t[rt-1]/bt[rt-1],nt=rt-2;nt>=0;--nt)vt[nt]=(_t[nt]-vt[nt+1])/bt[nt];for(bt[rt-1]=(it[rt]+vt[rt-1])/2,nt=0;nt<rt-1;++nt)bt[nt]=2*it[nt+1]-vt[nt+1];return[vt,bt]}function curveNatural(it){return new Natural(it)}function Step(it,nt){this._context=it,this._t=nt}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(it,nt){switch(it=+it,nt=+nt,this._point){case 0:this._point=1,this._line?this._context.lineTo(it,nt):this._context.moveTo(it,nt);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,nt),this._context.lineTo(it,nt);else{var rt=this._x*(1-this._t)+it*this._t;this._context.lineTo(rt,this._y),this._context.lineTo(rt,nt)}break}}this._x=it,this._y=nt}};function curveStep(it){return new Step(it,.5)}function stepBefore(it){return new Step(it,0)}function stepAfter(it){return new Step(it,1)}function Transform(it,nt,rt){this.k=it,this.x=nt,this.y=rt}Transform.prototype={constructor:Transform,scale:function(it){return it===1?this:new Transform(this.k*it,this.x,this.y)},translate:function(it,nt){return it===0&nt===0?this:new Transform(this.k,this.x+this.k*it,this.y+this.k*nt)},apply:function(it){return[it[0]*this.k+this.x,it[1]*this.k+this.y]},applyX:function(it){return it*this.k+this.x},applyY:function(it){return it*this.k+this.y},invert:function(it){return[(it[0]-this.x)/this.k,(it[1]-this.y)/this.k]},invertX:function(it){return(it-this.x)/this.k},invertY:function(it){return(it-this.y)/this.k},rescaleX:function(it){return it.copy().domain(it.range().map(this.invertX,this).map(it.invert,it))},rescaleY:function(it){return it.copy().domain(it.range().map(this.invertY,this).map(it.invert,it))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Transform(1,0,0);Transform.prototype;/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function _typeof(it){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(nt){return typeof nt}:function(nt){return nt&&typeof Symbol=="function"&&nt.constructor===Symbol&&nt!==Symbol.prototype?"symbol":typeof nt},_typeof(it)}function _setPrototypeOf(it,nt){return _setPrototypeOf=Object.setPrototypeOf||function(st,vt){return st.__proto__=vt,st},_setPrototypeOf(it,nt)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(it,nt,rt){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(vt,bt,_t){var wt=[null];wt.push.apply(wt,bt);var Et=Function.bind.apply(vt,wt),Tt=new Et;return _t&&_setPrototypeOf(Tt,_t.prototype),Tt},_construct.apply(null,arguments)}function _toConsumableArray(it){return _arrayWithoutHoles(it)||_iterableToArray(it)||_unsupportedIterableToArray(it)||_nonIterableSpread()}function _arrayWithoutHoles(it){if(Array.isArray(it))return _arrayLikeToArray(it)}function _iterableToArray(it){if(typeof Symbol<"u"&&it[Symbol.iterator]!=null||it["@@iterator"]!=null)return Array.from(it)}function _unsupportedIterableToArray(it,nt){if(!!it){if(typeof it=="string")return _arrayLikeToArray(it,nt);var rt=Object.prototype.toString.call(it).slice(8,-1);if(rt==="Object"&&it.constructor&&(rt=it.constructor.name),rt==="Map"||rt==="Set")return Array.from(it);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray(it,nt)}}function _arrayLikeToArray(it,nt){(nt==null||nt>it.length)&&(nt=it.length);for(var rt=0,st=new Array(nt);rt<nt;rt++)st[rt]=it[rt];return st}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hasOwnProperty$g=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply$2=_ref.apply,construct=_ref.construct;apply$2||(apply$2=function(nt,rt,st){return nt.apply(rt,st)});freeze||(freeze=function(nt){return nt});seal||(seal=function(nt){return nt});construct||(construct=function(nt,rt){return _construct(nt,_toConsumableArray(rt))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush$1=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(it){return function(nt){for(var rt=arguments.length,st=new Array(rt>1?rt-1:0),vt=1;vt<rt;vt++)st[vt-1]=arguments[vt];return apply$2(it,nt,st)}}function unconstruct(it){return function(){for(var nt=arguments.length,rt=new Array(nt),st=0;st<nt;st++)rt[st]=arguments[st];return construct(it,rt)}}function addToSet(it,nt,rt){rt=rt||stringToLowerCase,setPrototypeOf&&setPrototypeOf(it,null);for(var st=nt.length;st--;){var vt=nt[st];if(typeof vt=="string"){var bt=rt(vt);bt!==vt&&(isFrozen(nt)||(nt[st]=bt),vt=bt)}it[vt]=!0}return it}function clone$2(it){var nt=create(null),rt;for(rt in it)apply$2(hasOwnProperty$g,it,[rt])&&(nt[rt]=it[rt]);return nt}function lookupGetter(it,nt){for(;it!==null;){var rt=getOwnPropertyDescriptor(it,nt);if(rt){if(rt.get)return unapply(rt.get);if(typeof rt.value=="function")return unapply(rt.value)}it=getPrototypeOf(it)}function st(vt){return console.warn("fallback value for",vt),null}return st}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function it(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function it(nt,rt){if(_typeof(nt)!=="object"||typeof nt.createPolicy!="function")return null;var st=null,vt="data-tt-policy-suffix";rt.currentScript&&rt.currentScript.hasAttribute(vt)&&(st=rt.currentScript.getAttribute(vt));var bt="dompurify"+(st?"#"+st:"");try{return nt.createPolicy(bt,{createHTML:function(wt){return wt},createScriptURL:function(wt){return wt}})}catch{return console.warn("TrustedTypes policy "+bt+" could not be created."),null}};function createDOMPurify(){var it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),nt=function(Yi){return createDOMPurify(Yi)};if(nt.version="2.4.1",nt.removed=[],!it||!it.document||it.document.nodeType!==9)return nt.isSupported=!1,nt;var rt=it.document,st=it.document,vt=it.DocumentFragment,bt=it.HTMLTemplateElement,_t=it.Node,wt=it.Element,Et=it.NodeFilter,Tt=it.NamedNodeMap,$t=Tt===void 0?it.NamedNodeMap||it.MozNamedAttrMap:Tt,Dt=it.HTMLFormElement,Lt=it.DOMParser,Bt=it.trustedTypes,Ht=wt.prototype,Ut=lookupGetter(Ht,"cloneNode"),It=lookupGetter(Ht,"nextSibling"),jt=lookupGetter(Ht,"childNodes"),Wt=lookupGetter(Ht,"parentNode");if(typeof bt=="function"){var qt=st.createElement("template");qt.content&&qt.content.ownerDocument&&(st=qt.content.ownerDocument)}var Yt=_createTrustedTypesPolicy(Bt,rt),ti=Yt?Yt.createHTML(""):"",oi=st,si=oi.implementation,di=oi.createNodeIterator,ui=oi.createDocumentFragment,ci=oi.getElementsByTagName,hi=rt.importNode,ei={};try{ei=clone$2(st).documentMode?st.documentMode:{}}catch{}var wi={};nt.isSupported=typeof Wt=="function"&&si&&typeof si.createHTMLDocument<"u"&&ei!==9;var Kt=MUSTACHE_EXPR,Ni=ERB_EXPR,ni=TMPLIT_EXPR,Fi=DATA_ATTR,Xi=ARIA_ATTR,nn=IS_SCRIPT_OR_DATA,Ai=ATTR_WHITESPACE,ji=IS_ALLOWED_URI,Ri=null,Vi=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text))),Qi=null,rn=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(mathMl),_toConsumableArray(xml))),Pi=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),bn=null,Oi=null,Ii=!0,Gi=!0,$i=!1,ii=!1,Nt=!1,Qt=!1,Jt=!1,Si=!1,vi=!1,Mi=!1,_i=!0,Li=!1,Ti="user-content-",zi=!0,Hi=!1,tn={},qi=null,Wi=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Cn=null,En=addToSet({},["audio","video","img","source","image","track"]),$n=null,Fn=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Rn="http://www.w3.org/1998/Math/MathML",br="http://www.w3.org/2000/svg",Bn="http://www.w3.org/1999/xhtml",on=Bn,li=!1,ai=null,xi=addToSet({},[Rn,br,Bn],stringToString),ki,Ki=["application/xhtml+xml","text/html"],gn="text/html",Ui,yn=null,an=st.createElement("form"),Tn=function(Yi){return Yi instanceof RegExp||Yi instanceof Function},Dn=function(Yi){yn&&yn===Yi||((!Yi||_typeof(Yi)!=="object")&&(Yi={}),Yi=clone$2(Yi),ki=Ki.indexOf(Yi.PARSER_MEDIA_TYPE)===-1?ki=gn:ki=Yi.PARSER_MEDIA_TYPE,Ui=ki==="application/xhtml+xml"?stringToString:stringToLowerCase,Ri="ALLOWED_TAGS"in Yi?addToSet({},Yi.ALLOWED_TAGS,Ui):Vi,Qi="ALLOWED_ATTR"in Yi?addToSet({},Yi.ALLOWED_ATTR,Ui):rn,ai="ALLOWED_NAMESPACES"in Yi?addToSet({},Yi.ALLOWED_NAMESPACES,stringToString):xi,$n="ADD_URI_SAFE_ATTR"in Yi?addToSet(clone$2(Fn),Yi.ADD_URI_SAFE_ATTR,Ui):Fn,Cn="ADD_DATA_URI_TAGS"in Yi?addToSet(clone$2(En),Yi.ADD_DATA_URI_TAGS,Ui):En,qi="FORBID_CONTENTS"in Yi?addToSet({},Yi.FORBID_CONTENTS,Ui):Wi,bn="FORBID_TAGS"in Yi?addToSet({},Yi.FORBID_TAGS,Ui):{},Oi="FORBID_ATTR"in Yi?addToSet({},Yi.FORBID_ATTR,Ui):{},tn="USE_PROFILES"in Yi?Yi.USE_PROFILES:!1,Ii=Yi.ALLOW_ARIA_ATTR!==!1,Gi=Yi.ALLOW_DATA_ATTR!==!1,$i=Yi.ALLOW_UNKNOWN_PROTOCOLS||!1,ii=Yi.SAFE_FOR_TEMPLATES||!1,Nt=Yi.WHOLE_DOCUMENT||!1,Si=Yi.RETURN_DOM||!1,vi=Yi.RETURN_DOM_FRAGMENT||!1,Mi=Yi.RETURN_TRUSTED_TYPE||!1,Jt=Yi.FORCE_BODY||!1,_i=Yi.SANITIZE_DOM!==!1,Li=Yi.SANITIZE_NAMED_PROPS||!1,zi=Yi.KEEP_CONTENT!==!1,Hi=Yi.IN_PLACE||!1,ji=Yi.ALLOWED_URI_REGEXP||ji,on=Yi.NAMESPACE||Bn,Yi.CUSTOM_ELEMENT_HANDLING&&Tn(Yi.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Pi.tagNameCheck=Yi.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Yi.CUSTOM_ELEMENT_HANDLING&&Tn(Yi.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Pi.attributeNameCheck=Yi.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Yi.CUSTOM_ELEMENT_HANDLING&&typeof Yi.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Pi.allowCustomizedBuiltInElements=Yi.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),ii&&(Gi=!1),vi&&(Si=!0),tn&&(Ri=addToSet({},_toConsumableArray(text)),Qi=[],tn.html===!0&&(addToSet(Ri,html$1),addToSet(Qi,html)),tn.svg===!0&&(addToSet(Ri,svg$1),addToSet(Qi,svg),addToSet(Qi,xml)),tn.svgFilters===!0&&(addToSet(Ri,svgFilters),addToSet(Qi,svg),addToSet(Qi,xml)),tn.mathMl===!0&&(addToSet(Ri,mathMl$1),addToSet(Qi,mathMl),addToSet(Qi,xml))),Yi.ADD_TAGS&&(Ri===Vi&&(Ri=clone$2(Ri)),addToSet(Ri,Yi.ADD_TAGS,Ui)),Yi.ADD_ATTR&&(Qi===rn&&(Qi=clone$2(Qi)),addToSet(Qi,Yi.ADD_ATTR,Ui)),Yi.ADD_URI_SAFE_ATTR&&addToSet($n,Yi.ADD_URI_SAFE_ATTR,Ui),Yi.FORBID_CONTENTS&&(qi===Wi&&(qi=clone$2(qi)),addToSet(qi,Yi.FORBID_CONTENTS,Ui)),zi&&(Ri["#text"]=!0),Nt&&addToSet(Ri,["html","head","body"]),Ri.table&&(addToSet(Ri,["tbody"]),delete bn.tbody),freeze&&freeze(Yi),yn=Yi)},Hn=addToSet({},["mi","mo","mn","ms","mtext"]),Mn=addToSet({},["foreignobject","desc","title","annotation-xml"]),sr=addToSet({},["title","style","font","a","script"]),jn=addToSet({},svg$1);addToSet(jn,svgFilters),addToSet(jn,svgDisallowed);var ir=addToSet({},mathMl$1);addToSet(ir,mathMlDisallowed);var gr=function(Yi){var vn=Wt(Yi);(!vn||!vn.tagName)&&(vn={namespaceURI:on,tagName:"template"});var An=stringToLowerCase(Yi.tagName),lr=stringToLowerCase(vn.tagName);return ai[Yi.namespaceURI]?Yi.namespaceURI===br?vn.namespaceURI===Bn?An==="svg":vn.namespaceURI===Rn?An==="svg"&&(lr==="annotation-xml"||Hn[lr]):Boolean(jn[An]):Yi.namespaceURI===Rn?vn.namespaceURI===Bn?An==="math":vn.namespaceURI===br?An==="math"&&Mn[lr]:Boolean(ir[An]):Yi.namespaceURI===Bn?vn.namespaceURI===br&&!Mn[lr]||vn.namespaceURI===Rn&&!Hn[lr]?!1:!ir[An]&&(sr[An]||!jn[An]):!!(ki==="application/xhtml+xml"&&ai[Yi.namespaceURI]):!1},nr=function(Yi){arrayPush$1(nt.removed,{element:Yi});try{Yi.parentNode.removeChild(Yi)}catch{try{Yi.outerHTML=ti}catch{Yi.remove()}}},Po=function(Yi,vn){try{arrayPush$1(nt.removed,{attribute:vn.getAttributeNode(Yi),from:vn})}catch{arrayPush$1(nt.removed,{attribute:null,from:vn})}if(vn.removeAttribute(Yi),Yi==="is"&&!Qi[Yi])if(Si||vi)try{nr(vn)}catch{}else try{vn.setAttribute(Yi,"")}catch{}},Wr=function(Yi){var vn,An;if(Jt)Yi="<remove></remove>"+Yi;else{var lr=stringMatch(Yi,/^[\r\n\t ]+/);An=lr&&lr[0]}ki==="application/xhtml+xml"&&on===Bn&&(Yi='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Yi+"</body></html>");var Dr=Yt?Yt.createHTML(Yi):Yi;if(on===Bn)try{vn=new Lt().parseFromString(Dr,ki)}catch{}if(!vn||!vn.documentElement){vn=si.createDocument(on,"template",null);try{vn.documentElement.innerHTML=li?"":Dr}catch{}}var _r=vn.body||vn.documentElement;return Yi&&An&&_r.insertBefore(st.createTextNode(An),_r.childNodes[0]||null),on===Bn?ci.call(vn,Nt?"html":"body")[0]:Nt?vn.documentElement:_r},zn=function(Yi){return di.call(Yi.ownerDocument||Yi,Yi,Et.SHOW_ELEMENT|Et.SHOW_COMMENT|Et.SHOW_TEXT,null,!1)},ur=function(Yi){return Yi instanceof Dt&&(typeof Yi.nodeName!="string"||typeof Yi.textContent!="string"||typeof Yi.removeChild!="function"||!(Yi.attributes instanceof $t)||typeof Yi.removeAttribute!="function"||typeof Yi.setAttribute!="function"||typeof Yi.namespaceURI!="string"||typeof Yi.insertBefore!="function"||typeof Yi.hasChildNodes!="function")},Nr=function(Yi){return _typeof(_t)==="object"?Yi instanceof _t:Yi&&_typeof(Yi)==="object"&&typeof Yi.nodeType=="number"&&typeof Yi.nodeName=="string"},Fr=function(Yi,vn,An){!wi[Yi]||arrayForEach(wi[Yi],function(lr){lr.call(nt,vn,An,yn)})},Ir=function(Yi){var vn;if(Fr("beforeSanitizeElements",Yi,null),ur(Yi)||regExpTest(/[\u0080-\uFFFF]/,Yi.nodeName))return nr(Yi),!0;var An=Ui(Yi.nodeName);if(Fr("uponSanitizeElement",Yi,{tagName:An,allowedTags:Ri}),Yi.hasChildNodes()&&!Nr(Yi.firstElementChild)&&(!Nr(Yi.content)||!Nr(Yi.content.firstElementChild))&&regExpTest(/<[/\w]/g,Yi.innerHTML)&&regExpTest(/<[/\w]/g,Yi.textContent)||An==="select"&&regExpTest(/<template/i,Yi.innerHTML))return nr(Yi),!0;if(!Ri[An]||bn[An]){if(!bn[An]&&dn(An)&&(Pi.tagNameCheck instanceof RegExp&&regExpTest(Pi.tagNameCheck,An)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(An)))return!1;if(zi&&!qi[An]){var lr=Wt(Yi)||Yi.parentNode,Dr=jt(Yi)||Yi.childNodes;if(Dr&&lr)for(var _r=Dr.length,wr=_r-1;wr>=0;--wr)lr.insertBefore(Ut(Dr[wr],!0),It(Yi))}return nr(Yi),!0}return Yi instanceof wt&&!gr(Yi)||(An==="noscript"||An==="noembed")&&regExpTest(/<\/no(script|embed)/i,Yi.innerHTML)?(nr(Yi),!0):(ii&&Yi.nodeType===3&&(vn=Yi.textContent,vn=stringReplace(vn,Kt," "),vn=stringReplace(vn,Ni," "),vn=stringReplace(vn,ni," "),Yi.textContent!==vn&&(arrayPush$1(nt.removed,{element:Yi.cloneNode()}),Yi.textContent=vn)),Fr("afterSanitizeElements",Yi,null),!1)},sn=function(Yi,vn,An){if(_i&&(vn==="id"||vn==="name")&&(An in st||An in an))return!1;if(!(Gi&&!Oi[vn]&&regExpTest(Fi,vn))){if(!(Ii&&regExpTest(Xi,vn))){if(!Qi[vn]||Oi[vn]){if(!(dn(Yi)&&(Pi.tagNameCheck instanceof RegExp&&regExpTest(Pi.tagNameCheck,Yi)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(Yi))&&(Pi.attributeNameCheck instanceof RegExp&&regExpTest(Pi.attributeNameCheck,vn)||Pi.attributeNameCheck instanceof Function&&Pi.attributeNameCheck(vn))||vn==="is"&&Pi.allowCustomizedBuiltInElements&&(Pi.tagNameCheck instanceof RegExp&&regExpTest(Pi.tagNameCheck,An)||Pi.tagNameCheck instanceof Function&&Pi.tagNameCheck(An))))return!1}else if(!$n[vn]){if(!regExpTest(ji,stringReplace(An,Ai,""))){if(!((vn==="src"||vn==="xlink:href"||vn==="href")&&Yi!=="script"&&stringIndexOf(An,"data:")===0&&Cn[Yi])){if(!($i&&!regExpTest(nn,stringReplace(An,Ai,"")))){if(An)return!1}}}}}}return!0},dn=function(Yi){return Yi.indexOf("-")>0},hn=function(Yi){var vn,An,lr,Dr;Fr("beforeSanitizeAttributes",Yi,null);var _r=Yi.attributes;if(!!_r){var wr={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Qi};for(Dr=_r.length;Dr--;){vn=_r[Dr];var cr=vn,Rr=cr.name,Ao=cr.namespaceURI;if(An=Rr==="value"?vn.value:stringTrim(vn.value),lr=Ui(Rr),wr.attrName=lr,wr.attrValue=An,wr.keepAttr=!0,wr.forceKeepAttr=void 0,Fr("uponSanitizeAttribute",Yi,wr),An=wr.attrValue,!wr.forceKeepAttr&&(Po(Rr,Yi),!!wr.keepAttr)){if(regExpTest(/\/>/i,An)){Po(Rr,Yi);continue}ii&&(An=stringReplace(An,Kt," "),An=stringReplace(An,Ni," "),An=stringReplace(An,ni," "));var Yo=Ui(Yi.nodeName);if(!!sn(Yo,lr,An)){if(Li&&(lr==="id"||lr==="name")&&(Po(Rr,Yi),An=Ti+An),Yt&&_typeof(Bt)==="object"&&typeof Bt.getAttributeType=="function"&&!Ao)switch(Bt.getAttributeType(Yo,lr)){case"TrustedHTML":An=Yt.createHTML(An);break;case"TrustedScriptURL":An=Yt.createScriptURL(An);break}try{Ao?Yi.setAttributeNS(Ao,Rr,An):Yi.setAttribute(Rr,An),arrayPop(nt.removed)}catch{}}}}Fr("afterSanitizeAttributes",Yi,null)}},Ln=function wn(Yi){var vn,An=zn(Yi);for(Fr("beforeSanitizeShadowDOM",Yi,null);vn=An.nextNode();)Fr("uponSanitizeShadowNode",vn,null),!Ir(vn)&&(vn.content instanceof vt&&wn(vn.content),hn(vn));Fr("afterSanitizeShadowDOM",Yi,null)};return nt.sanitize=function(wn){var Yi=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},vn,An,lr,Dr,_r;if(li=!wn,li&&(wn="<!-->"),typeof wn!="string"&&!Nr(wn)){if(typeof wn.toString!="function")throw typeErrorCreate("toString is not a function");if(wn=wn.toString(),typeof wn!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!nt.isSupported){if(_typeof(it.toStaticHTML)==="object"||typeof it.toStaticHTML=="function"){if(typeof wn=="string")return it.toStaticHTML(wn);if(Nr(wn))return it.toStaticHTML(wn.outerHTML)}return wn}if(Qt||Dn(Yi),nt.removed=[],typeof wn=="string"&&(Hi=!1),Hi){if(wn.nodeName){var wr=Ui(wn.nodeName);if(!Ri[wr]||bn[wr])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(wn instanceof _t)vn=Wr("<!---->"),An=vn.ownerDocument.importNode(wn,!0),An.nodeType===1&&An.nodeName==="BODY"||An.nodeName==="HTML"?vn=An:vn.appendChild(An);else{if(!Si&&!ii&&!Nt&&wn.indexOf("<")===-1)return Yt&&Mi?Yt.createHTML(wn):wn;if(vn=Wr(wn),!vn)return Si?null:Mi?ti:""}vn&&Jt&&nr(vn.firstChild);for(var cr=zn(Hi?wn:vn);lr=cr.nextNode();)lr.nodeType===3&&lr===Dr||Ir(lr)||(lr.content instanceof vt&&Ln(lr.content),hn(lr),Dr=lr);if(Dr=null,Hi)return wn;if(Si){if(vi)for(_r=ui.call(vn.ownerDocument);vn.firstChild;)_r.appendChild(vn.firstChild);else _r=vn;return Qi.shadowroot&&(_r=hi.call(rt,_r,!0)),_r}var Rr=Nt?vn.outerHTML:vn.innerHTML;return Nt&&Ri["!doctype"]&&vn.ownerDocument&&vn.ownerDocument.doctype&&vn.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,vn.ownerDocument.doctype.name)&&(Rr="<!DOCTYPE "+vn.ownerDocument.doctype.name+`>
`+Rr),ii&&(Rr=stringReplace(Rr,Kt," "),Rr=stringReplace(Rr,Ni," "),Rr=stringReplace(Rr,ni," ")),Yt&&Mi?Yt.createHTML(Rr):Rr},nt.setConfig=function(wn){Dn(wn),Qt=!0},nt.clearConfig=function(){yn=null,Qt=!1},nt.isValidAttribute=function(wn,Yi,vn){yn||Dn({});var An=Ui(wn),lr=Ui(Yi);return sn(An,lr,vn)},nt.addHook=function(wn,Yi){typeof Yi=="function"&&(wi[wn]=wi[wn]||[],arrayPush$1(wi[wn],Yi))},nt.removeHook=function(wn){if(wi[wn])return arrayPop(wi[wn])},nt.removeHooks=function(wn){wi[wn]&&(wi[wn]=[])},nt.removeAllHooks=function(){wi={}},nt}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:it=>it>=255?255:it<0?0:it,g:it=>it>=255?255:it<0?0:it,b:it=>it>=255?255:it<0?0:it,h:it=>it%360,s:it=>it>=100?100:it<0?0:it,l:it=>it>=100?100:it<0?0:it,a:it=>it>=1?1:it<0?0:it},toLinear:it=>{const nt=it/255;return it>.03928?Math.pow((nt+.055)/1.055,2.4):nt/12.92},hue2rgb:(it,nt,rt)=>(rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?it+(nt-it)*6*rt:rt<1/2?nt:rt<2/3?it+(nt-it)*(2/3-rt)*6:it),hsl2rgb:({h:it,s:nt,l:rt},st)=>{if(!nt)return rt*2.55;it/=360,nt/=100,rt/=100;const vt=rt<.5?rt*(1+nt):rt+nt-rt*nt,bt=2*rt-vt;switch(st){case"r":return Channel.hue2rgb(bt,vt,it+1/3)*255;case"g":return Channel.hue2rgb(bt,vt,it)*255;case"b":return Channel.hue2rgb(bt,vt,it-1/3)*255}},rgb2hsl:({r:it,g:nt,b:rt},st)=>{it/=255,nt/=255,rt/=255;const vt=Math.max(it,nt,rt),bt=Math.min(it,nt,rt),_t=(vt+bt)/2;if(st==="l")return _t*100;if(vt===bt)return 0;const wt=vt-bt,Et=_t>.5?wt/(2-vt-bt):wt/(vt+bt);if(st==="s")return Et*100;switch(vt){case it:return((nt-rt)/wt+(nt<rt?6:0))*60;case nt:return((rt-it)/wt+2)*60;case rt:return((it-nt)/wt+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(it,nt,rt)=>nt>rt?Math.min(nt,Math.max(rt,it)):Math.min(rt,Math.max(nt,it)),round:it=>Math.round(it*1e10)/1e10},lang=Lang,Unit={dec2hex:it=>{const nt=Math.round(it).toString(16);return nt.length>1?nt:`0${nt}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let it=0;it<=255;it++)DEC2HEX[it]=_.unit.dec2hex(it);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(nt){if(this.type&&this.type!==nt)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=nt}reset(){this.type=TYPE.ALL}is(nt){return this.type===nt}}const Type$2=Type;class Channels{constructor(nt,rt){this.color=rt,this.changed=!1,this.data=nt,this.type=new Type$2}set(nt,rt){return this.color=rt,this.changed=!1,this.data=nt,this.type.type=TYPE.ALL,this}_ensureHSL(){const nt=this.data,{h:rt,s:st,l:vt}=nt;rt===void 0&&(nt.h=_.channel.rgb2hsl(nt,"h")),st===void 0&&(nt.s=_.channel.rgb2hsl(nt,"s")),vt===void 0&&(nt.l=_.channel.rgb2hsl(nt,"l"))}_ensureRGB(){const nt=this.data,{r:rt,g:st,b:vt}=nt;rt===void 0&&(nt.r=_.channel.hsl2rgb(nt,"r")),st===void 0&&(nt.g=_.channel.hsl2rgb(nt,"g")),vt===void 0&&(nt.b=_.channel.hsl2rgb(nt,"b"))}get r(){const nt=this.data,rt=nt.r;return!this.type.is(TYPE.HSL)&&rt!==void 0?rt:(this._ensureHSL(),_.channel.hsl2rgb(nt,"r"))}get g(){const nt=this.data,rt=nt.g;return!this.type.is(TYPE.HSL)&&rt!==void 0?rt:(this._ensureHSL(),_.channel.hsl2rgb(nt,"g"))}get b(){const nt=this.data,rt=nt.b;return!this.type.is(TYPE.HSL)&&rt!==void 0?rt:(this._ensureHSL(),_.channel.hsl2rgb(nt,"b"))}get h(){const nt=this.data,rt=nt.h;return!this.type.is(TYPE.RGB)&&rt!==void 0?rt:(this._ensureRGB(),_.channel.rgb2hsl(nt,"h"))}get s(){const nt=this.data,rt=nt.s;return!this.type.is(TYPE.RGB)&&rt!==void 0?rt:(this._ensureRGB(),_.channel.rgb2hsl(nt,"s"))}get l(){const nt=this.data,rt=nt.l;return!this.type.is(TYPE.RGB)&&rt!==void 0?rt:(this._ensureRGB(),_.channel.rgb2hsl(nt,"l"))}get a(){return this.data.a}set r(nt){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=nt}set g(nt){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=nt}set b(nt){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=nt}set h(nt){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=nt}set s(nt){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=nt}set l(nt){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=nt}set a(nt){this.changed=!0,this.data.a=nt}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:it=>{if(it.charCodeAt(0)!==35)return;const nt=it.match(Hex.re);if(!nt)return;const rt=nt[1],st=parseInt(rt,16),vt=rt.length,bt=vt%4===0,_t=vt>4,wt=_t?1:17,Et=_t?8:4,Tt=bt?0:-1,$t=_t?255:15;return ChannelsReusable.set({r:(st>>Et*(Tt+3)&$t)*wt,g:(st>>Et*(Tt+2)&$t)*wt,b:(st>>Et*(Tt+1)&$t)*wt,a:bt?(st&$t)*wt/255:1},it)},stringify:it=>{const{r:nt,g:rt,b:st,a:vt}=it;return vt<1?`#${DEC2HEX[Math.round(nt)]}${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(st)]}${DEC2HEX[Math.round(vt*255)]}`:`#${DEC2HEX[Math.round(nt)]}${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(st)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:it=>{const nt=it.match(HSL.hueRe);if(nt){const[,rt,st]=nt;switch(st){case"grad":return _.channel.clamp.h(parseFloat(rt)*.9);case"rad":return _.channel.clamp.h(parseFloat(rt)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat(rt)*360)}}return _.channel.clamp.h(parseFloat(it))},parse:it=>{const nt=it.charCodeAt(0);if(nt!==104&&nt!==72)return;const rt=it.match(HSL.re);if(!rt)return;const[,st,vt,bt,_t,wt]=rt;return ChannelsReusable.set({h:HSL._hue2deg(st),s:_.channel.clamp.s(parseFloat(vt)),l:_.channel.clamp.l(parseFloat(bt)),a:_t?_.channel.clamp.a(wt?parseFloat(_t)/100:parseFloat(_t)):1},it)},stringify:it=>{const{h:nt,s:rt,l:st,a:vt}=it;return vt<1?`hsla(${_.lang.round(nt)}, ${_.lang.round(rt)}%, ${_.lang.round(st)}%, ${vt})`:`hsl(${_.lang.round(nt)}, ${_.lang.round(rt)}%, ${_.lang.round(st)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:it=>{it=it.toLowerCase();const nt=Keyword.colors[it];if(!!nt)return Hex$1.parse(nt)},stringify:it=>{const nt=Hex$1.stringify(it);for(const rt in Keyword.colors)if(Keyword.colors[rt]===nt)return rt}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:it=>{const nt=it.charCodeAt(0);if(nt!==114&&nt!==82)return;const rt=it.match(RGB.re);if(!rt)return;const[,st,vt,bt,_t,wt,Et,Tt,$t]=rt;return ChannelsReusable.set({r:_.channel.clamp.r(vt?parseFloat(st)*2.55:parseFloat(st)),g:_.channel.clamp.g(_t?parseFloat(bt)*2.55:parseFloat(bt)),b:_.channel.clamp.b(Et?parseFloat(wt)*2.55:parseFloat(wt)),a:Tt?_.channel.clamp.a($t?parseFloat(Tt)/100:parseFloat(Tt)):1},it)},stringify:it=>{const{r:nt,g:rt,b:st,a:vt}=it;return vt<1?`rgba(${_.lang.round(nt)}, ${_.lang.round(rt)}, ${_.lang.round(st)}, ${_.lang.round(vt)})`:`rgb(${_.lang.round(nt)}, ${_.lang.round(rt)}, ${_.lang.round(st)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:it=>{if(typeof it!="string")return it;const nt=Hex$1.parse(it)||RGB$1.parse(it)||HSL$1.parse(it)||Keyword$1.parse(it);if(nt)return nt;throw new Error(`Unsupported color format: "${it}"`)},stringify:it=>!it.changed&&it.color?it.color:it.type.is(TYPE.HSL)||it.data.r===void 0?HSL$1.stringify(it):it.a<1||!Number.isInteger(it.r)||!Number.isInteger(it.g)||!Number.isInteger(it.b)?RGB$1.stringify(it):Hex$1.stringify(it)},Color$1=Color,change=(it,nt)=>{const rt=Color$1.parse(it);for(const st in nt)rt[st]=_.channel.clamp[st](nt[st]);return Color$1.stringify(rt)},change$1=change,rgba=(it,nt,rt=0,st=1)=>{if(typeof it!="number")return change$1(it,{a:nt});const vt=ChannelsReusable.set({r:_.channel.clamp.r(it),g:_.channel.clamp.g(nt),b:_.channel.clamp.b(rt),a:_.channel.clamp.a(st)});return Color$1.stringify(vt)},rgba$1=rgba,adjustChannel=(it,nt,rt)=>{const st=Color$1.parse(it),vt=st[nt],bt=_.channel.clamp[nt](vt+rt);return vt!==bt&&(st[nt]=bt),Color$1.stringify(st)},adjustChannel$1=adjustChannel,lighten=(it,nt)=>adjustChannel$1(it,"l",nt),lighten$1=lighten,darken=(it,nt)=>adjustChannel$1(it,"l",-nt),darken$1=darken,adjust$1=(it,nt)=>{const rt=Color$1.parse(it),st={};for(const vt in nt)!nt[vt]||(st[vt]=rt[vt]+nt[vt]);return change$1(it,st)},adjust$2=adjust$1,mix=(it,nt,rt=50)=>{const{r:st,g:vt,b:bt,a:_t}=Color$1.parse(it),{r:wt,g:Et,b:Tt,a:$t}=Color$1.parse(nt),Dt=rt/100,Lt=Dt*2-1,Bt=_t-$t,Ut=((Lt*Bt===-1?Lt:(Lt+Bt)/(1+Lt*Bt))+1)/2,It=1-Ut,jt=st*Ut+wt*It,Wt=vt*Ut+Et*It,qt=bt*Ut+Tt*It,Yt=_t*Dt+$t*(1-Dt);return rgba$1(jt,Wt,qt,Yt)},mix$1=mix,invert=(it,nt=100)=>{const rt=Color$1.parse(it);return rt.r=255-rt.r,rt.g=255-rt.g,rt.b=255-rt.b,mix$1(rt,it,nt)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty,nativeObjectToString$1=objectProto$i.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(it){var nt=hasOwnProperty$f.call(it,symToStringTag$1),rt=it[symToStringTag$1];try{it[symToStringTag$1]=void 0;var st=!0}catch{}var vt=nativeObjectToString$1.call(it);return st&&(nt?it[symToStringTag$1]=rt:delete it[symToStringTag$1]),vt}var objectProto$h=Object.prototype,nativeObjectToString=objectProto$h.toString;function objectToString(it){return nativeObjectToString.call(it)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(it){return it==null?it===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(it)?getRawTag(it):objectToString(it)}function isObject$1(it){var nt=typeof it;return it!=null&&(nt=="object"||nt=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(it){if(!isObject$1(it))return!1;var nt=baseGetTag(it);return nt==funcTag$2||nt==genTag$1||nt==asyncTag||nt==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var it=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return it?"Symbol(src)_1."+it:""}();function isMasked(it){return!!maskSrcKey&&maskSrcKey in it}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(it){if(it!=null){try{return funcToString$2.call(it)}catch{}try{return it+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$g=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$e=objectProto$g.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$e).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(it){if(!isObject$1(it)||isMasked(it))return!1;var nt=isFunction(it)?reIsNative:reIsHostCtor;return nt.test(toSource(it))}function getValue(it,nt){return it==null?void 0:it[nt]}function getNative(it,nt){var rt=getValue(it,nt);return baseIsNative(rt)?rt:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(it){var nt=this.has(it)&&delete this.__data__[it];return this.size-=nt?1:0,nt}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty;function hashGet(it){var nt=this.__data__;if(nativeCreate$1){var rt=nt[it];return rt===HASH_UNDEFINED$2?void 0:rt}return hasOwnProperty$d.call(nt,it)?nt[it]:void 0}var objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty;function hashHas(it){var nt=this.__data__;return nativeCreate$1?nt[it]!==void 0:hasOwnProperty$c.call(nt,it)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(it,nt){var rt=this.__data__;return this.size+=this.has(it)?0:1,rt[it]=nativeCreate$1&&nt===void 0?HASH_UNDEFINED$1:nt,this}function Hash(it){var nt=-1,rt=it==null?0:it.length;for(this.clear();++nt<rt;){var st=it[nt];this.set(st[0],st[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(it,nt){return it===nt||it!==it&&nt!==nt}function assocIndexOf(it,nt){for(var rt=it.length;rt--;)if(eq(it[rt][0],nt))return rt;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(it){var nt=this.__data__,rt=assocIndexOf(nt,it);if(rt<0)return!1;var st=nt.length-1;return rt==st?nt.pop():splice.call(nt,rt,1),--this.size,!0}function listCacheGet(it){var nt=this.__data__,rt=assocIndexOf(nt,it);return rt<0?void 0:nt[rt][1]}function listCacheHas(it){return assocIndexOf(this.__data__,it)>-1}function listCacheSet(it,nt){var rt=this.__data__,st=assocIndexOf(rt,it);return st<0?(++this.size,rt.push([it,nt])):rt[st][1]=nt,this}function ListCache(it){var nt=-1,rt=it==null?0:it.length;for(this.clear();++nt<rt;){var st=it[nt];this.set(st[0],st[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(it){var nt=typeof it;return nt=="string"||nt=="number"||nt=="symbol"||nt=="boolean"?it!=="__proto__":it===null}function getMapData(it,nt){var rt=it.__data__;return isKeyable(nt)?rt[typeof nt=="string"?"string":"hash"]:rt.map}function mapCacheDelete(it){var nt=getMapData(this,it).delete(it);return this.size-=nt?1:0,nt}function mapCacheGet(it){return getMapData(this,it).get(it)}function mapCacheHas(it){return getMapData(this,it).has(it)}function mapCacheSet(it,nt){var rt=getMapData(this,it),st=rt.size;return rt.set(it,nt),this.size+=rt.size==st?0:1,this}function MapCache(it){var nt=-1,rt=it==null?0:it.length;for(this.clear();++nt<rt;){var st=it[nt];this.set(st[0],st[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(it,nt){if(typeof it!="function"||nt!=null&&typeof nt!="function")throw new TypeError(FUNC_ERROR_TEXT);var rt=function(){var st=arguments,vt=nt?nt.apply(this,st):st[0],bt=rt.cache;if(bt.has(vt))return bt.get(vt);var _t=it.apply(this,st);return rt.cache=bt.set(vt,_t)||bt,_t};return rt.cache=new(memoize.Cache||MapCache),rt}memoize.Cache=MapCache;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode;function trim(it){return it.trim()}function replace(it,nt,rt){return it.replace(nt,rt)}function indexof(it,nt){return it.indexOf(nt)}function charat(it,nt){return it.charCodeAt(nt)|0}function substr(it,nt,rt){return it.slice(nt,rt)}function strlen(it){return it.length}function sizeof(it){return it.length}function append(it,nt){return nt.push(it),it}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(it,nt,rt,st,vt,bt,_t){return{value:it,root:nt,parent:rt,type:st,props:vt,children:bt,line,column,length:_t,return:""}}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(it,nt){return substr(characters,it,nt)}function token(it){switch(it){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(it){return line=column=1,length=strlen(characters=it),position$1=0,[]}function dealloc(it){return characters="",it}function delimit(it){return trim(slice(position$1-1,delimiter(it===91?it+2:it===40?it+1:it)))}function whitespace(it){for(;(character=peek())&&character<33;)next();return token(it)>2||token(character)>3?"":" "}function escaping(it,nt){for(;--nt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(it,caret()+(nt<6&&peek()==32&&next()==32))}function delimiter(it){for(;next();)switch(character){case it:return position$1;case 34:case 39:it!==34&&it!==39&&delimiter(character);break;case 40:it===41&&delimiter(it);break;case 92:next();break}return position$1}function commenter(it,nt){for(;next()&&it+character!==47+10;)if(it+character===42+42&&peek()===47)break;return"/*"+slice(nt,position$1-1)+"*"+from(it===47?it:next())}function identifier(it){for(;!token(peek());)next();return slice(it,position$1)}function compile(it){return dealloc(parse$2("",null,null,null,[""],it=alloc(it),0,[0],it))}function parse$2(it,nt,rt,st,vt,bt,_t,wt,Et){for(var Tt=0,$t=0,Dt=_t,Lt=0,Bt=0,Ht=0,Ut=1,It=1,jt=1,Wt=0,qt="",Yt=vt,ti=bt,oi=st,si=qt;It;)switch(Ht=Wt,Wt=next()){case 40:if(Ht!=108&&charat(si,Dt-1)==58){indexof(si+=replace(delimit(Wt),"&","&\f"),"&\f")!=-1&&(jt=-1);break}case 34:case 39:case 91:si+=delimit(Wt);break;case 9:case 10:case 13:case 32:si+=whitespace(Ht);break;case 92:si+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),nt,rt),Et);break;default:si+="/"}break;case 123*Ut:wt[Tt++]=strlen(si)*jt;case 125*Ut:case 59:case 0:switch(Wt){case 0:case 125:It=0;case 59+$t:Bt>0&&strlen(si)-Dt&&append(Bt>32?declaration(si+";",st,rt,Dt-1):declaration(replace(si," ","")+";",st,rt,Dt-2),Et);break;case 59:si+=";";default:if(append(oi=ruleset(si,nt,rt,Tt,$t,vt,wt,qt,Yt=[],ti=[],Dt),bt),Wt===123)if($t===0)parse$2(si,nt,oi,oi,Yt,bt,Dt,wt,ti);else switch(Lt===99&&charat(si,3)===110?100:Lt){case 100:case 109:case 115:parse$2(it,oi,oi,st&&append(ruleset(it,oi,oi,0,0,vt,wt,qt,vt,Yt=[],Dt),ti),vt,ti,Dt,wt,st?Yt:ti);break;default:parse$2(si,oi,oi,oi,[""],ti,0,wt,ti)}}Tt=$t=Bt=0,Ut=jt=1,qt=si="",Dt=_t;break;case 58:Dt=1+strlen(si),Bt=Ht;default:if(Ut<1){if(Wt==123)--Ut;else if(Wt==125&&Ut++==0&&prev()==125)continue}switch(si+=from(Wt),Wt*Ut){case 38:jt=$t>0?1:(si+="\f",-1);break;case 44:wt[Tt++]=(strlen(si)-1)*jt,jt=1;break;case 64:peek()===45&&(si+=delimit(next())),Lt=peek(),$t=Dt=strlen(qt=si+=identifier(caret())),Wt++;break;case 45:Ht===45&&strlen(si)==2&&(Ut=0)}}return bt}function ruleset(it,nt,rt,st,vt,bt,_t,wt,Et,Tt,$t){for(var Dt=vt-1,Lt=vt===0?bt:[""],Bt=sizeof(Lt),Ht=0,Ut=0,It=0;Ht<st;++Ht)for(var jt=0,Wt=substr(it,Dt+1,Dt=abs(Ut=_t[Ht])),qt=it;jt<Bt;++jt)(qt=trim(Ut>0?Lt[jt]+" "+Wt:replace(Wt,/&\f/g,Lt[jt])))&&(Et[It++]=qt);return node(it,nt,rt,vt===0?RULESET:wt,Et,Tt,$t)}function comment(it,nt,rt){return node(it,nt,rt,COMMENT,from(char()),substr(it,2,-2),0)}function declaration(it,nt,rt,st){return node(it,nt,rt,DECLARATION,substr(it,0,st),substr(it,st+1,-1),st)}function serialize(it,nt){for(var rt="",st=sizeof(it),vt=0;vt<st;vt++)rt+=nt(it[vt],vt,it,nt)||"";return rt}function stringify(it,nt,rt,st){switch(it.type){case IMPORT:case DECLARATION:return it.return=it.return||it.value;case COMMENT:return"";case KEYFRAMES:return it.return=it.value+"{"+serialize(it.children,st)+"}";case RULESET:it.value=it.props.join(",")}return strlen(rt=serialize(it.children,st))?it.return=it.value+"{"+rt+"}":""}function isObjectLike(it){return it!=null&&typeof it=="object"}var symbolTag$3="[object Symbol]";function isSymbol(it){return typeof it=="symbol"||isObjectLike(it)&&baseGetTag(it)==symbolTag$3}function arrayMap(it,nt){for(var rt=-1,st=it==null?0:it.length,vt=Array(st);++rt<st;)vt[rt]=nt(it[rt],rt,it);return vt}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$3=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(it){if(typeof it=="string")return it;if(isArray$1(it))return arrayMap(it,baseToString)+"";if(isSymbol(it))return symbolToString?symbolToString.call(it):"";var nt=it+"";return nt=="0"&&1/it==-INFINITY$3?"-0":nt}var reWhitespace=/\s/;function trimmedEndIndex(it){for(var nt=it.length;nt--&&reWhitespace.test(it.charAt(nt)););return nt}var reTrimStart=/^\s+/;function baseTrim(it){return it&&it.slice(0,trimmedEndIndex(it)+1).replace(reTrimStart,"")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(it){if(typeof it=="number")return it;if(isSymbol(it))return NAN;if(isObject$1(it)){var nt=typeof it.valueOf=="function"?it.valueOf():it;it=isObject$1(nt)?nt+"":nt}if(typeof it!="string")return it===0?it:+it;it=baseTrim(it);var rt=reIsBinary.test(it);return rt||reIsOctal.test(it)?freeParseInt(it.slice(2),rt?2:8):reIsBadHex.test(it)?NAN:+it}var INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(it){if(!it)return it===0?it:0;if(it=toNumber(it),it===INFINITY$2||it===-INFINITY$2){var nt=it<0?-1:1;return nt*MAX_INTEGER}return it===it?it:0}function toInteger(it){var nt=toFinite(it),rt=nt%1;return nt===nt?rt?nt-rt:nt:0}function identity(it){return it}var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var objectCreate=Object.create,baseCreate=function(){function it(){}return function(nt){if(!isObject$1(nt))return{};if(objectCreate)return objectCreate(nt);it.prototype=nt;var rt=new it;return it.prototype=void 0,rt}}();const baseCreate$1=baseCreate;function apply$1(it,nt,rt){switch(rt.length){case 0:return it.call(nt);case 1:return it.call(nt,rt[0]);case 2:return it.call(nt,rt[0],rt[1]);case 3:return it.call(nt,rt[0],rt[1],rt[2])}return it.apply(nt,rt)}function noop(){}function copyArray(it,nt){var rt=-1,st=it.length;for(nt||(nt=Array(st));++rt<st;)nt[rt]=it[rt];return nt}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(it){var nt=0,rt=0;return function(){var st=nativeNow(),vt=HOT_SPAN-(st-rt);if(rt=st,vt>0){if(++nt>=HOT_COUNT)return arguments[0]}else nt=0;return it.apply(void 0,arguments)}}function constant(it){return function(){return it}}var defineProperty=function(){try{var it=getNative(Object,"defineProperty");return it({},"",{}),it}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(it,nt){return defineProperty$1(it,"toString",{configurable:!0,enumerable:!1,value:constant(nt),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(it,nt){for(var rt=-1,st=it==null?0:it.length;++rt<st&&nt(it[rt],rt,it)!==!1;);return it}function baseFindIndex(it,nt,rt,st){for(var vt=it.length,bt=rt+(st?1:-1);st?bt--:++bt<vt;)if(nt(it[bt],bt,it))return bt;return-1}function baseIsNaN(it){return it!==it}function strictIndexOf(it,nt,rt){for(var st=rt-1,vt=it.length;++st<vt;)if(it[st]===nt)return st;return-1}function baseIndexOf(it,nt,rt){return nt===nt?strictIndexOf(it,nt,rt):baseFindIndex(it,baseIsNaN,rt)}function arrayIncludes(it,nt){var rt=it==null?0:it.length;return!!rt&&baseIndexOf(it,nt,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(it,nt){var rt=typeof it;return nt=nt==null?MAX_SAFE_INTEGER$1:nt,!!nt&&(rt=="number"||rt!="symbol"&&reIsUint.test(it))&&it>-1&&it%1==0&&it<nt}function baseAssignValue(it,nt,rt){nt=="__proto__"&&defineProperty$1?defineProperty$1(it,nt,{configurable:!0,enumerable:!0,value:rt,writable:!0}):it[nt]=rt}var objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function assignValue(it,nt,rt){var st=it[nt];(!(hasOwnProperty$b.call(it,nt)&&eq(st,rt))||rt===void 0&&!(nt in it))&&baseAssignValue(it,nt,rt)}function copyObject(it,nt,rt,st){var vt=!rt;rt||(rt={});for(var bt=-1,_t=nt.length;++bt<_t;){var wt=nt[bt],Et=st?st(rt[wt],it[wt],wt,rt,it):void 0;Et===void 0&&(Et=it[wt]),vt?baseAssignValue(rt,wt,Et):assignValue(rt,wt,Et)}return rt}var nativeMax$2=Math.max;function overRest(it,nt,rt){return nt=nativeMax$2(nt===void 0?it.length-1:nt,0),function(){for(var st=arguments,vt=-1,bt=nativeMax$2(st.length-nt,0),_t=Array(bt);++vt<bt;)_t[vt]=st[nt+vt];vt=-1;for(var wt=Array(nt+1);++vt<nt;)wt[vt]=st[vt];return wt[nt]=rt(_t),apply$1(it,this,wt)}}function baseRest(it,nt){return setToString$1(overRest(it,nt,identity),it+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(it){return typeof it=="number"&&it>-1&&it%1==0&&it<=MAX_SAFE_INTEGER}function isArrayLike(it){return it!=null&&isLength(it.length)&&!isFunction(it)}function isIterateeCall(it,nt,rt){if(!isObject$1(rt))return!1;var st=typeof nt;return(st=="number"?isArrayLike(rt)&&isIndex(nt,rt.length):st=="string"&&nt in rt)?eq(rt[nt],it):!1}function createAssigner(it){return baseRest(function(nt,rt){var st=-1,vt=rt.length,bt=vt>1?rt[vt-1]:void 0,_t=vt>2?rt[2]:void 0;for(bt=it.length>3&&typeof bt=="function"?(vt--,bt):void 0,_t&&isIterateeCall(rt[0],rt[1],_t)&&(bt=vt<3?void 0:bt,vt=1),nt=Object(nt);++st<vt;){var wt=rt[st];wt&&it(nt,wt,st,bt)}return nt})}var objectProto$c=Object.prototype;function isPrototype(it){var nt=it&&it.constructor,rt=typeof nt=="function"&&nt.prototype||objectProto$c;return it===rt}function baseTimes(it,nt){for(var rt=-1,st=Array(it);++rt<it;)st[rt]=nt(rt);return st}var argsTag$3="[object Arguments]";function baseIsArguments(it){return isObjectLike(it)&&baseGetTag(it)==argsTag$3}var objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(it){return isObjectLike(it)&&hasOwnProperty$a.call(it,"callee")&&!propertyIsEnumerable$1.call(it,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(it){return isObjectLike(it)&&isLength(it.length)&&!!typedArrayTags[baseGetTag(it)]}function baseUnary(it){return function(nt){return it(nt)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var it=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return it||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function arrayLikeKeys(it,nt){var rt=isArray$1(it),st=!rt&&isArguments$1(it),vt=!rt&&!st&&isBuffer$1(it),bt=!rt&&!st&&!vt&&isTypedArray$1(it),_t=rt||st||vt||bt,wt=_t?baseTimes(it.length,String):[],Et=wt.length;for(var Tt in it)(nt||hasOwnProperty$9.call(it,Tt))&&!(_t&&(Tt=="length"||vt&&(Tt=="offset"||Tt=="parent")||bt&&(Tt=="buffer"||Tt=="byteLength"||Tt=="byteOffset")||isIndex(Tt,Et)))&&wt.push(Tt);return wt}function overArg(it,nt){return function(rt){return it(nt(rt))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function baseKeys(it){if(!isPrototype(it))return nativeKeys$1(it);var nt=[];for(var rt in Object(it))hasOwnProperty$8.call(it,rt)&&rt!="constructor"&&nt.push(rt);return nt}function keys(it){return isArrayLike(it)?arrayLikeKeys(it):baseKeys(it)}function nativeKeysIn(it){var nt=[];if(it!=null)for(var rt in Object(it))nt.push(rt);return nt}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeysIn(it){if(!isObject$1(it))return nativeKeysIn(it);var nt=isPrototype(it),rt=[];for(var st in it)st=="constructor"&&(nt||!hasOwnProperty$7.call(it,st))||rt.push(st);return rt}function keysIn(it){return isArrayLike(it)?arrayLikeKeys(it,!0):baseKeysIn(it)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(it,nt){if(isArray$1(it))return!1;var rt=typeof it;return rt=="number"||rt=="symbol"||rt=="boolean"||it==null||isSymbol(it)?!0:reIsPlainProp.test(it)||!reIsDeepProp.test(it)||nt!=null&&it in Object(nt)}var MAX_MEMOIZE_SIZE=500;function memoizeCapped(it){var nt=memoize(it,function(st){return rt.size===MAX_MEMOIZE_SIZE&&rt.clear(),st}),rt=nt.cache;return nt}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(it){var nt=[];return it.charCodeAt(0)===46&&nt.push(""),it.replace(rePropName,function(rt,st,vt,bt){nt.push(vt?bt.replace(reEscapeChar,"$1"):st||rt)}),nt});const stringToPath$1=stringToPath;function toString(it){return it==null?"":baseToString(it)}function castPath(it,nt){return isArray$1(it)?it:isKey(it,nt)?[it]:stringToPath$1(toString(it))}var INFINITY$1=1/0;function toKey(it){if(typeof it=="string"||isSymbol(it))return it;var nt=it+"";return nt=="0"&&1/it==-INFINITY$1?"-0":nt}function baseGet(it,nt){nt=castPath(nt,it);for(var rt=0,st=nt.length;it!=null&&rt<st;)it=it[toKey(nt[rt++])];return rt&&rt==st?it:void 0}function get(it,nt,rt){var st=it==null?void 0:baseGet(it,nt);return st===void 0?rt:st}function arrayPush(it,nt){for(var rt=-1,st=nt.length,vt=it.length;++rt<st;)it[vt+rt]=nt[rt];return it}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(it){return isArray$1(it)||isArguments$1(it)||!!(spreadableSymbol&&it&&it[spreadableSymbol])}function baseFlatten(it,nt,rt,st,vt){var bt=-1,_t=it.length;for(rt||(rt=isFlattenable),vt||(vt=[]);++bt<_t;){var wt=it[bt];nt>0&&rt(wt)?nt>1?baseFlatten(wt,nt-1,rt,st,vt):arrayPush(vt,wt):st||(vt[vt.length]=wt)}return vt}function flatten(it){var nt=it==null?0:it.length;return nt?baseFlatten(it,1):[]}function flatRest(it){return setToString$1(overRest(it,void 0,flatten),it+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(it){if(!isObjectLike(it)||baseGetTag(it)!=objectTag$3)return!1;var nt=getPrototype$1(it);if(nt===null)return!0;var rt=hasOwnProperty$6.call(nt,"constructor")&&nt.constructor;return typeof rt=="function"&&rt instanceof rt&&funcToString.call(rt)==objectCtorString}function arrayReduce(it,nt,rt,st){var vt=-1,bt=it==null?0:it.length;for(st&&bt&&(rt=it[++vt]);++vt<bt;)rt=nt(rt,it[vt],vt,it);return rt}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(it){var nt=this.__data__,rt=nt.delete(it);return this.size=nt.size,rt}function stackGet(it){return this.__data__.get(it)}function stackHas(it){return this.__data__.has(it)}var LARGE_ARRAY_SIZE$1=200;function stackSet(it,nt){var rt=this.__data__;if(rt instanceof ListCache){var st=rt.__data__;if(!Map$2||st.length<LARGE_ARRAY_SIZE$1-1)return st.push([it,nt]),this.size=++rt.size,this;rt=this.__data__=new MapCache(st)}return rt.set(it,nt),this.size=rt.size,this}function Stack(it){var nt=this.__data__=new ListCache(it);this.size=nt.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(it,nt){return it&&copyObject(nt,keys(nt),it)}function baseAssignIn(it,nt){return it&&copyObject(nt,keysIn(nt),it)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(it,nt){if(nt)return it.slice();var rt=it.length,st=allocUnsafe?allocUnsafe(rt):new it.constructor(rt);return it.copy(st),st}function arrayFilter(it,nt){for(var rt=-1,st=it==null?0:it.length,vt=0,bt=[];++rt<st;){var _t=it[rt];nt(_t,rt,it)&&(bt[vt++]=_t)}return bt}function stubArray(){return[]}var objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(it){return it==null?[]:(it=Object(it),arrayFilter(nativeGetSymbols$1(it),function(nt){return propertyIsEnumerable.call(it,nt)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(it,nt){return copyObject(it,getSymbols$1(it),nt)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(it){for(var nt=[];it;)arrayPush(nt,getSymbols$1(it)),it=getPrototype$1(it);return nt}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(it,nt){return copyObject(it,getSymbolsIn$1(it),nt)}function baseGetAllKeys(it,nt,rt){var st=nt(it);return isArray$1(it)?st:arrayPush(st,rt(it))}function getAllKeys(it){return baseGetAllKeys(it,keys,getSymbols$1)}function getAllKeysIn(it){return baseGetAllKeys(it,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$5="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$5||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$5||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(it){var nt=baseGetTag(it),rt=nt==objectTag$2?it.constructor:void 0,st=rt?toSource(rt):"";if(st)switch(st){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return nt});const getTag$1=getTag;var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function initCloneArray(it){var nt=it.length,rt=new it.constructor(nt);return nt&&typeof it[0]=="string"&&hasOwnProperty$5.call(it,"index")&&(rt.index=it.index,rt.input=it.input),rt}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(it){var nt=new it.constructor(it.byteLength);return new Uint8Array$2(nt).set(new Uint8Array$2(it)),nt}function cloneDataView(it,nt){var rt=nt?cloneArrayBuffer(it.buffer):it.buffer;return new it.constructor(rt,it.byteOffset,it.byteLength)}var reFlags=/\w*$/;function cloneRegExp(it){var nt=new it.constructor(it.source,reFlags.exec(it));return nt.lastIndex=it.lastIndex,nt}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(it){return symbolValueOf$1?Object(symbolValueOf$1.call(it)):{}}function cloneTypedArray(it,nt){var rt=nt?cloneArrayBuffer(it.buffer):it.buffer;return new it.constructor(rt,it.byteOffset,it.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(it,nt,rt){var st=it.constructor;switch(nt){case arrayBufferTag$2:return cloneArrayBuffer(it);case boolTag$2:case dateTag$2:return new st(+it);case dataViewTag$2:return cloneDataView(it,rt);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(it,rt);case mapTag$4:return new st;case numberTag$2:case stringTag$2:return new st(it);case regexpTag$2:return cloneRegExp(it);case setTag$4:return new st;case symbolTag$2:return cloneSymbol(it)}}function initCloneObject(it){return typeof it.constructor=="function"&&!isPrototype(it)?baseCreate$1(getPrototype$1(it)):{}}var mapTag$3="[object Map]";function baseIsMap(it){return isObjectLike(it)&&getTag$1(it)==mapTag$3}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$3="[object Set]";function baseIsSet(it){return isObjectLike(it)&&getTag$1(it)==setTag$3}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(it,nt,rt,st,vt,bt){var _t,wt=nt&CLONE_DEEP_FLAG$1,Et=nt&CLONE_FLAT_FLAG,Tt=nt&CLONE_SYMBOLS_FLAG$2;if(rt&&(_t=vt?rt(it,st,vt,bt):rt(it)),_t!==void 0)return _t;if(!isObject$1(it))return it;var $t=isArray$1(it);if($t){if(_t=initCloneArray(it),!wt)return copyArray(it,_t)}else{var Dt=getTag$1(it),Lt=Dt==funcTag||Dt==genTag;if(isBuffer$1(it))return cloneBuffer(it,wt);if(Dt==objectTag$1||Dt==argsTag$1||Lt&&!vt){if(_t=Et||Lt?{}:initCloneObject(it),!wt)return Et?copySymbolsIn(it,baseAssignIn(_t,it)):copySymbols(it,baseAssign(_t,it))}else{if(!cloneableTags[Dt])return vt?it:{};_t=initCloneByTag(it,Dt,wt)}}bt||(bt=new Stack);var Bt=bt.get(it);if(Bt)return Bt;bt.set(it,_t),isSet$1(it)?it.forEach(function(It){_t.add(baseClone(It,nt,rt,It,it,bt))}):isMap$1(it)&&it.forEach(function(It,jt){_t.set(jt,baseClone(It,nt,rt,jt,it,bt))});var Ht=Tt?Et?getAllKeysIn:getAllKeys:Et?keysIn:keys,Ut=$t?void 0:Ht(it);return arrayEach(Ut||it,function(It,jt){Ut&&(jt=It,It=it[jt]),assignValue(_t,jt,baseClone(It,nt,rt,jt,it,bt))}),_t}var CLONE_SYMBOLS_FLAG$1=4;function clone$1(it){return baseClone(it,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(it){return baseClone(it,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(it){return this.__data__.set(it,HASH_UNDEFINED),this}function setCacheHas(it){return this.__data__.has(it)}function SetCache(it){var nt=-1,rt=it==null?0:it.length;for(this.__data__=new MapCache;++nt<rt;)this.add(it[nt])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(it,nt){for(var rt=-1,st=it==null?0:it.length;++rt<st;)if(nt(it[rt],rt,it))return!0;return!1}function cacheHas(it,nt){return it.has(nt)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(it,nt,rt,st,vt,bt){var _t=rt&COMPARE_PARTIAL_FLAG$5,wt=it.length,Et=nt.length;if(wt!=Et&&!(_t&&Et>wt))return!1;var Tt=bt.get(it),$t=bt.get(nt);if(Tt&&$t)return Tt==nt&&$t==it;var Dt=-1,Lt=!0,Bt=rt&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(bt.set(it,nt),bt.set(nt,it);++Dt<wt;){var Ht=it[Dt],Ut=nt[Dt];if(st)var It=_t?st(Ut,Ht,Dt,nt,it,bt):st(Ht,Ut,Dt,it,nt,bt);if(It!==void 0){if(It)continue;Lt=!1;break}if(Bt){if(!arraySome(nt,function(jt,Wt){if(!cacheHas(Bt,Wt)&&(Ht===jt||vt(Ht,jt,rt,st,bt)))return Bt.push(Wt)})){Lt=!1;break}}else if(!(Ht===Ut||vt(Ht,Ut,rt,st,bt))){Lt=!1;break}}return bt.delete(it),bt.delete(nt),Lt}function mapToArray(it){var nt=-1,rt=Array(it.size);return it.forEach(function(st,vt){rt[++nt]=[vt,st]}),rt}function setToArray(it){var nt=-1,rt=Array(it.size);return it.forEach(function(st){rt[++nt]=st}),rt}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(it,nt,rt,st,vt,bt,_t){switch(rt){case dataViewTag:if(it.byteLength!=nt.byteLength||it.byteOffset!=nt.byteOffset)return!1;it=it.buffer,nt=nt.buffer;case arrayBufferTag:return!(it.byteLength!=nt.byteLength||!bt(new Uint8Array$2(it),new Uint8Array$2(nt)));case boolTag:case dateTag:case numberTag:return eq(+it,+nt);case errorTag:return it.name==nt.name&&it.message==nt.message;case regexpTag:case stringTag:return it==nt+"";case mapTag$1:var wt=mapToArray;case setTag$1:var Et=st&COMPARE_PARTIAL_FLAG$4;if(wt||(wt=setToArray),it.size!=nt.size&&!Et)return!1;var Tt=_t.get(it);if(Tt)return Tt==nt;st|=COMPARE_UNORDERED_FLAG$2,_t.set(it,nt);var $t=equalArrays(wt(it),wt(nt),st,vt,bt,_t);return _t.delete(it),$t;case symbolTag:if(symbolValueOf)return symbolValueOf.call(it)==symbolValueOf.call(nt)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function equalObjects(it,nt,rt,st,vt,bt){var _t=rt&COMPARE_PARTIAL_FLAG$3,wt=getAllKeys(it),Et=wt.length,Tt=getAllKeys(nt),$t=Tt.length;if(Et!=$t&&!_t)return!1;for(var Dt=Et;Dt--;){var Lt=wt[Dt];if(!(_t?Lt in nt:hasOwnProperty$4.call(nt,Lt)))return!1}var Bt=bt.get(it),Ht=bt.get(nt);if(Bt&&Ht)return Bt==nt&&Ht==it;var Ut=!0;bt.set(it,nt),bt.set(nt,it);for(var It=_t;++Dt<Et;){Lt=wt[Dt];var jt=it[Lt],Wt=nt[Lt];if(st)var qt=_t?st(Wt,jt,Lt,nt,it,bt):st(jt,Wt,Lt,it,nt,bt);if(!(qt===void 0?jt===Wt||vt(jt,Wt,rt,st,bt):qt)){Ut=!1;break}It||(It=Lt=="constructor")}if(Ut&&!It){var Yt=it.constructor,ti=nt.constructor;Yt!=ti&&"constructor"in it&&"constructor"in nt&&!(typeof Yt=="function"&&Yt instanceof Yt&&typeof ti=="function"&&ti instanceof ti)&&(Ut=!1)}return bt.delete(it),bt.delete(nt),Ut}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseIsEqualDeep(it,nt,rt,st,vt,bt){var _t=isArray$1(it),wt=isArray$1(nt),Et=_t?arrayTag:getTag$1(it),Tt=wt?arrayTag:getTag$1(nt);Et=Et==argsTag?objectTag:Et,Tt=Tt==argsTag?objectTag:Tt;var $t=Et==objectTag,Dt=Tt==objectTag,Lt=Et==Tt;if(Lt&&isBuffer$1(it)){if(!isBuffer$1(nt))return!1;_t=!0,$t=!1}if(Lt&&!$t)return bt||(bt=new Stack),_t||isTypedArray$1(it)?equalArrays(it,nt,rt,st,vt,bt):equalByTag(it,nt,Et,rt,st,vt,bt);if(!(rt&COMPARE_PARTIAL_FLAG$2)){var Bt=$t&&hasOwnProperty$3.call(it,"__wrapped__"),Ht=Dt&&hasOwnProperty$3.call(nt,"__wrapped__");if(Bt||Ht){var Ut=Bt?it.value():it,It=Ht?nt.value():nt;return bt||(bt=new Stack),vt(Ut,It,rt,st,bt)}}return Lt?(bt||(bt=new Stack),equalObjects(it,nt,rt,st,vt,bt)):!1}function baseIsEqual(it,nt,rt,st,vt){return it===nt?!0:it==null||nt==null||!isObjectLike(it)&&!isObjectLike(nt)?it!==it&&nt!==nt:baseIsEqualDeep(it,nt,rt,st,baseIsEqual,vt)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(it,nt,rt,st){var vt=rt.length,bt=vt,_t=!st;if(it==null)return!bt;for(it=Object(it);vt--;){var wt=rt[vt];if(_t&&wt[2]?wt[1]!==it[wt[0]]:!(wt[0]in it))return!1}for(;++vt<bt;){wt=rt[vt];var Et=wt[0],Tt=it[Et],$t=wt[1];if(_t&&wt[2]){if(Tt===void 0&&!(Et in it))return!1}else{var Dt=new Stack;if(st)var Lt=st(Tt,$t,Et,it,nt,Dt);if(!(Lt===void 0?baseIsEqual($t,Tt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,st,Dt):Lt))return!1}}return!0}function isStrictComparable(it){return it===it&&!isObject$1(it)}function getMatchData(it){for(var nt=keys(it),rt=nt.length;rt--;){var st=nt[rt],vt=it[st];nt[rt]=[st,vt,isStrictComparable(vt)]}return nt}function matchesStrictComparable(it,nt){return function(rt){return rt==null?!1:rt[it]===nt&&(nt!==void 0||it in Object(rt))}}function baseMatches(it){var nt=getMatchData(it);return nt.length==1&&nt[0][2]?matchesStrictComparable(nt[0][0],nt[0][1]):function(rt){return rt===it||baseIsMatch(rt,it,nt)}}function baseHasIn(it,nt){return it!=null&&nt in Object(it)}function hasPath(it,nt,rt){nt=castPath(nt,it);for(var st=-1,vt=nt.length,bt=!1;++st<vt;){var _t=toKey(nt[st]);if(!(bt=it!=null&&rt(it,_t)))break;it=it[_t]}return bt||++st!=vt?bt:(vt=it==null?0:it.length,!!vt&&isLength(vt)&&isIndex(_t,vt)&&(isArray$1(it)||isArguments$1(it)))}function hasIn(it,nt){return it!=null&&hasPath(it,nt,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(it,nt){return isKey(it)&&isStrictComparable(nt)?matchesStrictComparable(toKey(it),nt):function(rt){var st=get(rt,it);return st===void 0&&st===nt?hasIn(rt,it):baseIsEqual(nt,st,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(it){return function(nt){return nt==null?void 0:nt[it]}}function basePropertyDeep(it){return function(nt){return baseGet(nt,it)}}function property(it){return isKey(it)?baseProperty(toKey(it)):basePropertyDeep(it)}function baseIteratee(it){return typeof it=="function"?it:it==null?identity:typeof it=="object"?isArray$1(it)?baseMatchesProperty(it[0],it[1]):baseMatches(it):property(it)}function createBaseFor(it){return function(nt,rt,st){for(var vt=-1,bt=Object(nt),_t=st(nt),wt=_t.length;wt--;){var Et=_t[it?wt:++vt];if(rt(bt[Et],Et,bt)===!1)break}return nt}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(it,nt){return it&&baseFor$1(it,nt,keys)}function createBaseEach(it,nt){return function(rt,st){if(rt==null)return rt;if(!isArrayLike(rt))return it(rt,st);for(var vt=rt.length,bt=nt?vt:-1,_t=Object(rt);(nt?bt--:++bt<vt)&&st(_t[bt],bt,_t)!==!1;);return rt}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;var now=function(){return root$1.Date.now()};const now$1=now;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,defaults=baseRest(function(it,nt){it=Object(it);var rt=-1,st=nt.length,vt=st>2?nt[2]:void 0;for(vt&&isIterateeCall(nt[0],nt[1],vt)&&(st=1);++rt<st;)for(var bt=nt[rt],_t=keysIn(bt),wt=-1,Et=_t.length;++wt<Et;){var Tt=_t[wt],$t=it[Tt];($t===void 0||eq($t,objectProto$2[Tt])&&!hasOwnProperty$2.call(it,Tt))&&(it[Tt]=bt[Tt])}return it});const defaults$1=defaults;function assignMergeValue(it,nt,rt){(rt!==void 0&&!eq(it[nt],rt)||rt===void 0&&!(nt in it))&&baseAssignValue(it,nt,rt)}function isArrayLikeObject(it){return isObjectLike(it)&&isArrayLike(it)}function safeGet(it,nt){if(!(nt==="constructor"&&typeof it[nt]=="function")&&nt!="__proto__")return it[nt]}function toPlainObject(it){return copyObject(it,keysIn(it))}function baseMergeDeep(it,nt,rt,st,vt,bt,_t){var wt=safeGet(it,rt),Et=safeGet(nt,rt),Tt=_t.get(Et);if(Tt){assignMergeValue(it,rt,Tt);return}var $t=bt?bt(wt,Et,rt+"",it,nt,_t):void 0,Dt=$t===void 0;if(Dt){var Lt=isArray$1(Et),Bt=!Lt&&isBuffer$1(Et),Ht=!Lt&&!Bt&&isTypedArray$1(Et);$t=Et,Lt||Bt||Ht?isArray$1(wt)?$t=wt:isArrayLikeObject(wt)?$t=copyArray(wt):Bt?(Dt=!1,$t=cloneBuffer(Et,!0)):Ht?(Dt=!1,$t=cloneTypedArray(Et,!0)):$t=[]:isPlainObject(Et)||isArguments$1(Et)?($t=wt,isArguments$1(wt)?$t=toPlainObject(wt):(!isObject$1(wt)||isFunction(wt))&&($t=initCloneObject(Et))):Dt=!1}Dt&&(_t.set(Et,$t),vt($t,Et,st,bt,_t),_t.delete(Et)),assignMergeValue(it,rt,$t)}function baseMerge(it,nt,rt,st,vt){it!==nt&&baseFor$1(nt,function(bt,_t){if(vt||(vt=new Stack),isObject$1(bt))baseMergeDeep(it,nt,_t,rt,baseMerge,st,vt);else{var wt=st?st(safeGet(it,_t),bt,_t+"",it,nt,vt):void 0;wt===void 0&&(wt=bt),assignMergeValue(it,_t,wt)}},keysIn)}function arrayIncludesWith(it,nt,rt){for(var st=-1,vt=it==null?0:it.length;++st<vt;)if(rt(nt,it[st]))return!0;return!1}function last(it){var nt=it==null?0:it.length;return nt?it[nt-1]:void 0}function castFunction(it){return typeof it=="function"?it:identity}function forEach(it,nt){var rt=isArray$1(it)?arrayEach:baseEach$1;return rt(it,castFunction(nt))}function baseFilter(it,nt){var rt=[];return baseEach$1(it,function(st,vt,bt){nt(st,vt,bt)&&rt.push(st)}),rt}function filter(it,nt){var rt=isArray$1(it)?arrayFilter:baseFilter;return rt(it,baseIteratee(nt))}function createFind(it){return function(nt,rt,st){var vt=Object(nt);if(!isArrayLike(nt)){var bt=baseIteratee(rt);nt=keys(nt),rt=function(wt){return bt(vt[wt],wt,vt)}}var _t=it(nt,rt,st);return _t>-1?vt[bt?nt[_t]:_t]:void 0}}var nativeMax$1=Math.max;function findIndex(it,nt,rt){var st=it==null?0:it.length;if(!st)return-1;var vt=rt==null?0:toInteger(rt);return vt<0&&(vt=nativeMax$1(st+vt,0)),baseFindIndex(it,baseIteratee(nt),vt)}var find=createFind(findIndex);const find$1=find;function baseMap(it,nt){var rt=-1,st=isArrayLike(it)?Array(it.length):[];return baseEach$1(it,function(vt,bt,_t){st[++rt]=nt(vt,bt,_t)}),st}function map$1(it,nt){var rt=isArray$1(it)?arrayMap:baseMap;return rt(it,baseIteratee(nt))}function forIn(it,nt){return it==null?it:baseFor$1(it,castFunction(nt),keysIn)}function baseGt(it,nt){return it>nt}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseHas(it,nt){return it!=null&&hasOwnProperty$1.call(it,nt)}function has(it,nt){return it!=null&&hasPath(it,nt,baseHas)}function baseValues(it,nt){return arrayMap(nt,function(rt){return it[rt]})}function values(it){return it==null?[]:baseValues(it,keys(it))}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(it){if(it==null)return!0;if(isArrayLike(it)&&(isArray$1(it)||typeof it=="string"||typeof it.splice=="function"||isBuffer$1(it)||isTypedArray$1(it)||isArguments$1(it)))return!it.length;var nt=getTag$1(it);if(nt==mapTag||nt==setTag)return!it.size;if(isPrototype(it))return!baseKeys(it).length;for(var rt in it)if(hasOwnProperty.call(it,rt))return!1;return!0}function isUndefined(it){return it===void 0}function baseLt(it,nt){return it<nt}function mapValues(it,nt){var rt={};return nt=baseIteratee(nt),baseForOwn(it,function(st,vt,bt){baseAssignValue(rt,vt,nt(st,vt,bt))}),rt}function baseExtremum(it,nt,rt){for(var st=-1,vt=it.length;++st<vt;){var bt=it[st],_t=nt(bt);if(_t!=null&&(wt===void 0?_t===_t&&!isSymbol(_t):rt(_t,wt)))var wt=_t,Et=bt}return Et}function max(it){return it&&it.length?baseExtremum(it,identity,baseGt):void 0}var merge$2=createAssigner(function(it,nt,rt){baseMerge(it,nt,rt)});const merge$3=merge$2;function min(it){return it&&it.length?baseExtremum(it,identity,baseLt):void 0}function minBy(it,nt){return it&&it.length?baseExtremum(it,baseIteratee(nt),baseLt):void 0}function baseSet(it,nt,rt,st){if(!isObject$1(it))return it;nt=castPath(nt,it);for(var vt=-1,bt=nt.length,_t=bt-1,wt=it;wt!=null&&++vt<bt;){var Et=toKey(nt[vt]),Tt=rt;if(Et==="__proto__"||Et==="constructor"||Et==="prototype")return it;if(vt!=_t){var $t=wt[Et];Tt=st?st($t,Et,wt):void 0,Tt===void 0&&(Tt=isObject$1($t)?$t:isIndex(nt[vt+1])?[]:{})}assignValue(wt,Et,Tt),wt=wt[Et]}return it}function basePickBy(it,nt,rt){for(var st=-1,vt=nt.length,bt={};++st<vt;){var _t=nt[st],wt=baseGet(it,_t);rt(wt,_t)&&baseSet(bt,castPath(_t,it),wt)}return bt}function baseSortBy(it,nt){var rt=it.length;for(it.sort(nt);rt--;)it[rt]=it[rt].value;return it}function compareAscending(it,nt){if(it!==nt){var rt=it!==void 0,st=it===null,vt=it===it,bt=isSymbol(it),_t=nt!==void 0,wt=nt===null,Et=nt===nt,Tt=isSymbol(nt);if(!wt&&!Tt&&!bt&&it>nt||bt&&_t&&Et&&!wt&&!Tt||st&&_t&&Et||!rt&&Et||!vt)return 1;if(!st&&!bt&&!Tt&&it<nt||Tt&&rt&&vt&&!st&&!bt||wt&&rt&&vt||!_t&&vt||!Et)return-1}return 0}function compareMultiple(it,nt,rt){for(var st=-1,vt=it.criteria,bt=nt.criteria,_t=vt.length,wt=rt.length;++st<_t;){var Et=compareAscending(vt[st],bt[st]);if(Et){if(st>=wt)return Et;var Tt=rt[st];return Et*(Tt=="desc"?-1:1)}}return it.index-nt.index}function baseOrderBy(it,nt,rt){nt.length?nt=arrayMap(nt,function(bt){return isArray$1(bt)?function(_t){return baseGet(_t,bt.length===1?bt[0]:bt)}:bt}):nt=[identity];var st=-1;nt=arrayMap(nt,baseUnary(baseIteratee));var vt=baseMap(it,function(bt,_t,wt){var Et=arrayMap(nt,function(Tt){return Tt(bt)});return{criteria:Et,index:++st,value:bt}});return baseSortBy(vt,function(bt,_t){return compareMultiple(bt,_t,rt)})}function basePick(it,nt){return basePickBy(it,nt,function(rt,st){return hasIn(it,st)})}var pick=flatRest(function(it,nt){return it==null?{}:basePick(it,nt)});const pick$1=pick;var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(it,nt,rt,st){for(var vt=-1,bt=nativeMax(nativeCeil((nt-it)/(rt||1)),0),_t=Array(bt);bt--;)_t[st?bt:++vt]=it,it+=rt;return _t}function createRange(it){return function(nt,rt,st){return st&&typeof st!="number"&&isIterateeCall(nt,rt,st)&&(rt=st=void 0),nt=toFinite(nt),rt===void 0?(rt=nt,nt=0):rt=toFinite(rt),st=st===void 0?nt<rt?1:-1:toFinite(st),baseRange(nt,rt,st,it)}}var range=createRange();const range$1=range;function baseReduce(it,nt,rt,st,vt){return vt(it,function(bt,_t,wt){rt=st?(st=!1,bt):nt(rt,bt,_t,wt)}),rt}function reduce(it,nt,rt){var st=isArray$1(it)?arrayReduce:baseReduce,vt=arguments.length<3;return st(it,baseIteratee(nt),rt,vt,baseEach$1)}var sortBy=baseRest(function(it,nt){if(it==null)return[];var rt=nt.length;return rt>1&&isIterateeCall(it,nt[0],nt[1])?nt=[]:rt>2&&isIterateeCall(nt[0],nt[1],nt[2])&&(nt=[nt[0]]),baseOrderBy(it,baseFlatten(nt,1),[])});const sortBy$1=sortBy;var INFINITY=1/0,createSet=Set$2&&1/setToArray(new Set$2([,-0]))[1]==INFINITY?function(it){return new Set$2(it)}:noop;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(it,nt,rt){var st=-1,vt=arrayIncludes,bt=it.length,_t=!0,wt=[],Et=wt;if(rt)_t=!1,vt=arrayIncludesWith;else if(bt>=LARGE_ARRAY_SIZE){var Tt=nt?null:createSet$1(it);if(Tt)return setToArray(Tt);_t=!1,vt=cacheHas,Et=new SetCache}else Et=nt?[]:wt;e:for(;++st<bt;){var $t=it[st],Dt=nt?nt($t):$t;if($t=rt||$t!==0?$t:0,_t&&Dt===Dt){for(var Lt=Et.length;Lt--;)if(Et[Lt]===Dt)continue e;nt&&Et.push(Dt),wt.push($t)}else vt(Et,Dt,rt)||(Et!==wt&&Et.push(Dt),wt.push($t))}return wt}var union=baseRest(function(it){return baseUniq(baseFlatten(it,1,isArrayLikeObject,!0))});const union$1=union;var idCounter=0;function uniqueId(it){var nt=++idCounter;return toString(it)+nt}function baseZipObject(it,nt,rt){for(var st=-1,vt=it.length,bt=nt.length,_t={};++st<vt;){var wt=st<bt?nt[st]:void 0;rt(_t,it[st],wt)}return _t}function zipObject(it,nt){return baseZipObject(it||[],nt||[],assignValue)}var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";class Graph{constructor(nt={}){this._isDirected=has(nt,"directed")?nt.directed:!0,this._isMultigraph=has(nt,"multigraph")?nt.multigraph:!1,this._isCompound=has(nt,"compound")?nt.compound:!1,this._label=void 0,this._defaultNodeLabelFn=constant(void 0),this._defaultEdgeLabelFn=constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(nt){return this._label=nt,this}graph(){return this._label}setDefaultNodeLabel(nt){return isFunction(nt)||(nt=constant(nt)),this._defaultNodeLabelFn=nt,this}nodeCount(){return this._nodeCount}nodes(){return keys(this._nodes)}sources(){var nt=this;return filter(this.nodes(),function(rt){return isEmpty(nt._in[rt])})}sinks(){var nt=this;return filter(this.nodes(),function(rt){return isEmpty(nt._out[rt])})}setNodes(nt,rt){var st=arguments,vt=this;return forEach(nt,function(bt){st.length>1?vt.setNode(bt,rt):vt.setNode(bt)}),this}setNode(nt,rt){return has(this._nodes,nt)?(arguments.length>1&&(this._nodes[nt]=rt),this):(this._nodes[nt]=arguments.length>1?rt:this._defaultNodeLabelFn(nt),this._isCompound&&(this._parent[nt]=GRAPH_NODE,this._children[nt]={},this._children[GRAPH_NODE][nt]=!0),this._in[nt]={},this._preds[nt]={},this._out[nt]={},this._sucs[nt]={},++this._nodeCount,this)}node(nt){return this._nodes[nt]}hasNode(nt){return has(this._nodes,nt)}removeNode(nt){var rt=this;if(has(this._nodes,nt)){var st=function(vt){rt.removeEdge(rt._edgeObjs[vt])};delete this._nodes[nt],this._isCompound&&(this._removeFromParentsChildList(nt),delete this._parent[nt],forEach(this.children(nt),function(vt){rt.setParent(vt)}),delete this._children[nt]),forEach(keys(this._in[nt]),st),delete this._in[nt],delete this._preds[nt],forEach(keys(this._out[nt]),st),delete this._out[nt],delete this._sucs[nt],--this._nodeCount}return this}setParent(nt,rt){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(isUndefined(rt))rt=GRAPH_NODE;else{rt+="";for(var st=rt;!isUndefined(st);st=this.parent(st))if(st===nt)throw new Error("Setting "+rt+" as parent of "+nt+" would create a cycle");this.setNode(rt)}return this.setNode(nt),this._removeFromParentsChildList(nt),this._parent[nt]=rt,this._children[rt][nt]=!0,this}_removeFromParentsChildList(nt){delete this._children[this._parent[nt]][nt]}parent(nt){if(this._isCompound){var rt=this._parent[nt];if(rt!==GRAPH_NODE)return rt}}children(nt){if(isUndefined(nt)&&(nt=GRAPH_NODE),this._isCompound){var rt=this._children[nt];if(rt)return keys(rt)}else{if(nt===GRAPH_NODE)return this.nodes();if(this.hasNode(nt))return[]}}predecessors(nt){var rt=this._preds[nt];if(rt)return keys(rt)}successors(nt){var rt=this._sucs[nt];if(rt)return keys(rt)}neighbors(nt){var rt=this.predecessors(nt);if(rt)return union$1(rt,this.successors(nt))}isLeaf(nt){var rt;return this.isDirected()?rt=this.successors(nt):rt=this.neighbors(nt),rt.length===0}filterNodes(nt){var rt=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});rt.setGraph(this.graph());var st=this;forEach(this._nodes,function(_t,wt){nt(wt)&&rt.setNode(wt,_t)}),forEach(this._edgeObjs,function(_t){rt.hasNode(_t.v)&&rt.hasNode(_t.w)&&rt.setEdge(_t,st.edge(_t))});var vt={};function bt(_t){var wt=st.parent(_t);return wt===void 0||rt.hasNode(wt)?(vt[_t]=wt,wt):wt in vt?vt[wt]:bt(wt)}return this._isCompound&&forEach(rt.nodes(),function(_t){rt.setParent(_t,bt(_t))}),rt}setDefaultEdgeLabel(nt){return isFunction(nt)||(nt=constant(nt)),this._defaultEdgeLabelFn=nt,this}edgeCount(){return this._edgeCount}edges(){return values(this._edgeObjs)}setPath(nt,rt){var st=this,vt=arguments;return reduce(nt,function(bt,_t){return vt.length>1?st.setEdge(bt,_t,rt):st.setEdge(bt,_t),_t}),this}setEdge(){var nt,rt,st,vt,bt=!1,_t=arguments[0];typeof _t=="object"&&_t!==null&&"v"in _t?(nt=_t.v,rt=_t.w,st=_t.name,arguments.length===2&&(vt=arguments[1],bt=!0)):(nt=_t,rt=arguments[1],st=arguments[3],arguments.length>2&&(vt=arguments[2],bt=!0)),nt=""+nt,rt=""+rt,isUndefined(st)||(st=""+st);var wt=edgeArgsToId(this._isDirected,nt,rt,st);if(has(this._edgeLabels,wt))return bt&&(this._edgeLabels[wt]=vt),this;if(!isUndefined(st)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(nt),this.setNode(rt),this._edgeLabels[wt]=bt?vt:this._defaultEdgeLabelFn(nt,rt,st);var Et=edgeArgsToObj(this._isDirected,nt,rt,st);return nt=Et.v,rt=Et.w,Object.freeze(Et),this._edgeObjs[wt]=Et,incrementOrInitEntry(this._preds[rt],nt),incrementOrInitEntry(this._sucs[nt],rt),this._in[rt][wt]=Et,this._out[nt][wt]=Et,this._edgeCount++,this}edge(nt,rt,st){var vt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,nt,rt,st);return this._edgeLabels[vt]}hasEdge(nt,rt,st){var vt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,nt,rt,st);return has(this._edgeLabels,vt)}removeEdge(nt,rt,st){var vt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,nt,rt,st),bt=this._edgeObjs[vt];return bt&&(nt=bt.v,rt=bt.w,delete this._edgeLabels[vt],delete this._edgeObjs[vt],decrementOrRemoveEntry(this._preds[rt],nt),decrementOrRemoveEntry(this._sucs[nt],rt),delete this._in[rt][vt],delete this._out[nt][vt],this._edgeCount--),this}inEdges(nt,rt){var st=this._in[nt];if(st){var vt=values(st);return rt?filter(vt,function(bt){return bt.v===rt}):vt}}outEdges(nt,rt){var st=this._out[nt];if(st){var vt=values(st);return rt?filter(vt,function(bt){return bt.w===rt}):vt}}nodeEdges(nt,rt){var st=this.inEdges(nt,rt);if(st)return st.concat(this.outEdges(nt,rt))}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;function incrementOrInitEntry(it,nt){it[nt]?it[nt]++:it[nt]=1}function decrementOrRemoveEntry(it,nt){--it[nt]||delete it[nt]}function edgeArgsToId(it,nt,rt,st){var vt=""+nt,bt=""+rt;if(!it&&vt>bt){var _t=vt;vt=bt,bt=_t}return vt+EDGE_KEY_DELIM+bt+EDGE_KEY_DELIM+(isUndefined(st)?DEFAULT_EDGE_NAME:st)}function edgeArgsToObj(it,nt,rt,st){var vt=""+nt,bt=""+rt;if(!it&&vt>bt){var _t=vt;vt=bt,bt=_t}var wt={v:vt,w:bt};return st&&(wt.name=st),wt}function edgeObjToId(it,nt){return edgeArgsToId(it,nt.v,nt.w,nt.name)}class List{constructor(){var nt={};nt._next=nt._prev=nt,this._sentinel=nt}dequeue(){var nt=this._sentinel,rt=nt._prev;if(rt!==nt)return unlink(rt),rt}enqueue(nt){var rt=this._sentinel;nt._prev&&nt._next&&unlink(nt),nt._next=rt._next,rt._next._prev=nt,rt._next=nt,nt._prev=rt}toString(){for(var nt=[],rt=this._sentinel,st=rt._prev;st!==rt;)nt.push(JSON.stringify(st,filterOutLinks)),st=st._prev;return"["+nt.join(", ")+"]"}}function unlink(it){it._prev._next=it._next,it._next._prev=it._prev,delete it._next,delete it._prev}function filterOutLinks(it,nt){if(it!=="_next"&&it!=="_prev")return nt}var DEFAULT_WEIGHT_FN=constant(1);function greedyFAS(it,nt){if(it.nodeCount()<=1)return[];var rt=buildState(it,nt||DEFAULT_WEIGHT_FN),st=doGreedyFAS(rt.graph,rt.buckets,rt.zeroIdx);return flatten(map$1(st,function(vt){return it.outEdges(vt.v,vt.w)}))}function doGreedyFAS(it,nt,rt){for(var st=[],vt=nt[nt.length-1],bt=nt[0],_t;it.nodeCount();){for(;_t=bt.dequeue();)removeNode(it,nt,rt,_t);for(;_t=vt.dequeue();)removeNode(it,nt,rt,_t);if(it.nodeCount()){for(var wt=nt.length-2;wt>0;--wt)if(_t=nt[wt].dequeue(),_t){st=st.concat(removeNode(it,nt,rt,_t,!0));break}}}return st}function removeNode(it,nt,rt,st,vt){var bt=vt?[]:void 0;return forEach(it.inEdges(st.v),function(_t){var wt=it.edge(_t),Et=it.node(_t.v);vt&&bt.push({v:_t.v,w:_t.w}),Et.out-=wt,assignBucket(nt,rt,Et)}),forEach(it.outEdges(st.v),function(_t){var wt=it.edge(_t),Et=_t.w,Tt=it.node(Et);Tt.in-=wt,assignBucket(nt,rt,Tt)}),it.removeNode(st.v),bt}function buildState(it,nt){var rt=new Graph,st=0,vt=0;forEach(it.nodes(),function(wt){rt.setNode(wt,{v:wt,in:0,out:0})}),forEach(it.edges(),function(wt){var Et=rt.edge(wt.v,wt.w)||0,Tt=nt(wt),$t=Et+Tt;rt.setEdge(wt.v,wt.w,$t),vt=Math.max(vt,rt.node(wt.v).out+=Tt),st=Math.max(st,rt.node(wt.w).in+=Tt)});var bt=range$1(vt+st+3).map(function(){return new List}),_t=st+1;return forEach(rt.nodes(),function(wt){assignBucket(bt,_t,rt.node(wt))}),{graph:rt,buckets:bt,zeroIdx:_t}}function assignBucket(it,nt,rt){rt.out?rt.in?it[rt.out-rt.in+nt].enqueue(rt):it[it.length-1].enqueue(rt):it[0].enqueue(rt)}function run$2(it){var nt=it.graph().acyclicer==="greedy"?greedyFAS(it,rt(it)):dfsFAS(it);forEach(nt,function(st){var vt=it.edge(st);it.removeEdge(st),vt.forwardName=st.name,vt.reversed=!0,it.setEdge(st.w,st.v,vt,uniqueId("rev"))});function rt(st){return function(vt){return st.edge(vt).weight}}}function dfsFAS(it){var nt=[],rt={},st={};function vt(bt){has(st,bt)||(st[bt]=!0,rt[bt]=!0,forEach(it.outEdges(bt),function(_t){has(rt,_t.w)?nt.push(_t):vt(_t.w)}),delete rt[bt])}return forEach(it.nodes(),vt),nt}function undo$2(it){forEach(it.edges(),function(nt){var rt=it.edge(nt);if(rt.reversed){it.removeEdge(nt);var st=rt.forwardName;delete rt.reversed,delete rt.forwardName,it.setEdge(nt.w,nt.v,rt,st)}})}function addDummyNode(it,nt,rt,st){var vt;do vt=uniqueId(st);while(it.hasNode(vt));return rt.dummy=nt,it.setNode(vt,rt),vt}function simplify(it){var nt=new Graph().setGraph(it.graph());return forEach(it.nodes(),function(rt){nt.setNode(rt,it.node(rt))}),forEach(it.edges(),function(rt){var st=nt.edge(rt.v,rt.w)||{weight:0,minlen:1},vt=it.edge(rt);nt.setEdge(rt.v,rt.w,{weight:st.weight+vt.weight,minlen:Math.max(st.minlen,vt.minlen)})}),nt}function asNonCompoundGraph(it){var nt=new Graph({multigraph:it.isMultigraph()}).setGraph(it.graph());return forEach(it.nodes(),function(rt){it.children(rt).length||nt.setNode(rt,it.node(rt))}),forEach(it.edges(),function(rt){nt.setEdge(rt,it.edge(rt))}),nt}function intersectRect$3(it,nt){var rt=it.x,st=it.y,vt=nt.x-rt,bt=nt.y-st,_t=it.width/2,wt=it.height/2;if(!vt&&!bt)throw new Error("Not possible to find intersection inside of the rectangle");var Et,Tt;return Math.abs(bt)*_t>Math.abs(vt)*wt?(bt<0&&(wt=-wt),Et=wt*vt/bt,Tt=wt):(vt<0&&(_t=-_t),Et=_t,Tt=_t*bt/vt),{x:rt+Et,y:st+Tt}}function buildLayerMatrix(it){var nt=map$1(range$1(maxRank(it)+1),function(){return[]});return forEach(it.nodes(),function(rt){var st=it.node(rt),vt=st.rank;isUndefined(vt)||(nt[vt][st.order]=rt)}),nt}function normalizeRanks(it){var nt=min(map$1(it.nodes(),function(rt){return it.node(rt).rank}));forEach(it.nodes(),function(rt){var st=it.node(rt);has(st,"rank")&&(st.rank-=nt)})}function removeEmptyRanks(it){var nt=min(map$1(it.nodes(),function(bt){return it.node(bt).rank})),rt=[];forEach(it.nodes(),function(bt){var _t=it.node(bt).rank-nt;rt[_t]||(rt[_t]=[]),rt[_t].push(bt)});var st=0,vt=it.graph().nodeRankFactor;forEach(rt,function(bt,_t){isUndefined(bt)&&_t%vt!==0?--st:st&&forEach(bt,function(wt){it.node(wt).rank+=st})})}function addBorderNode$1(it,nt,rt,st){var vt={width:0,height:0};return arguments.length>=4&&(vt.rank=rt,vt.order=st),addDummyNode(it,"border",vt,nt)}function maxRank(it){return max(map$1(it.nodes(),function(nt){var rt=it.node(nt).rank;if(!isUndefined(rt))return rt}))}function partition(it,nt){var rt={lhs:[],rhs:[]};return forEach(it,function(st){nt(st)?rt.lhs.push(st):rt.rhs.push(st)}),rt}function time(it,nt){var rt=now$1();try{return nt()}finally{console.log(it+" time: "+(now$1()-rt)+"ms")}}function notime(it,nt){return nt()}function addBorderSegments(it){function nt(rt){var st=it.children(rt),vt=it.node(rt);if(st.length&&forEach(st,nt),has(vt,"minRank")){vt.borderLeft=[],vt.borderRight=[];for(var bt=vt.minRank,_t=vt.maxRank+1;bt<_t;++bt)addBorderNode(it,"borderLeft","_bl",rt,vt,bt),addBorderNode(it,"borderRight","_br",rt,vt,bt)}}forEach(it.children(),nt)}function addBorderNode(it,nt,rt,st,vt,bt){var _t={width:0,height:0,rank:bt,borderType:nt},wt=vt[nt][bt-1],Et=addDummyNode(it,"border",_t,rt);vt[nt][bt]=Et,it.setParent(Et,st),wt&&it.setEdge(wt,Et,{weight:1})}function adjust(it){var nt=it.graph().rankdir.toLowerCase();(nt==="lr"||nt==="rl")&&swapWidthHeight(it)}function undo$1(it){var nt=it.graph().rankdir.toLowerCase();(nt==="bt"||nt==="rl")&&reverseY(it),(nt==="lr"||nt==="rl")&&(swapXY(it),swapWidthHeight(it))}function swapWidthHeight(it){forEach(it.nodes(),function(nt){swapWidthHeightOne(it.node(nt))}),forEach(it.edges(),function(nt){swapWidthHeightOne(it.edge(nt))})}function swapWidthHeightOne(it){var nt=it.width;it.width=it.height,it.height=nt}function reverseY(it){forEach(it.nodes(),function(nt){reverseYOne(it.node(nt))}),forEach(it.edges(),function(nt){var rt=it.edge(nt);forEach(rt.points,reverseYOne),has(rt,"y")&&reverseYOne(rt)})}function reverseYOne(it){it.y=-it.y}function swapXY(it){forEach(it.nodes(),function(nt){swapXYOne(it.node(nt))}),forEach(it.edges(),function(nt){var rt=it.edge(nt);forEach(rt.points,swapXYOne),has(rt,"x")&&swapXYOne(rt)})}function swapXYOne(it){var nt=it.x;it.x=it.y,it.y=nt}function run$1(it){var nt=addDummyNode(it,"root",{},"_root"),rt=treeDepths(it),st=max(values(rt))-1,vt=2*st+1;it.graph().nestingRoot=nt,forEach(it.edges(),function(_t){it.edge(_t).minlen*=vt});var bt=sumWeights(it)+1;forEach(it.children(),function(_t){dfs$1(it,nt,vt,bt,st,rt,_t)}),it.graph().nodeRankFactor=vt}function dfs$1(it,nt,rt,st,vt,bt,_t){var wt=it.children(_t);if(!wt.length){_t!==nt&&it.setEdge(nt,_t,{weight:0,minlen:rt});return}var Et=addBorderNode$1(it,"_bt"),Tt=addBorderNode$1(it,"_bb"),$t=it.node(_t);it.setParent(Et,_t),$t.borderTop=Et,it.setParent(Tt,_t),$t.borderBottom=Tt,forEach(wt,function(Dt){dfs$1(it,nt,rt,st,vt,bt,Dt);var Lt=it.node(Dt),Bt=Lt.borderTop?Lt.borderTop:Dt,Ht=Lt.borderBottom?Lt.borderBottom:Dt,Ut=Lt.borderTop?st:2*st,It=Bt!==Ht?1:vt-bt[_t]+1;it.setEdge(Et,Bt,{weight:Ut,minlen:It,nestingEdge:!0}),it.setEdge(Ht,Tt,{weight:Ut,minlen:It,nestingEdge:!0})}),it.parent(_t)||it.setEdge(nt,Et,{weight:0,minlen:vt+bt[_t]})}function treeDepths(it){var nt={};function rt(st,vt){var bt=it.children(st);bt&&bt.length&&forEach(bt,function(_t){rt(_t,vt+1)}),nt[st]=vt}return forEach(it.children(),function(st){rt(st,1)}),nt}function sumWeights(it){return reduce(it.edges(),function(nt,rt){return nt+it.edge(rt).weight},0)}function cleanup(it){var nt=it.graph();it.removeNode(nt.nestingRoot),delete nt.nestingRoot,forEach(it.edges(),function(rt){var st=it.edge(rt);st.nestingEdge&&it.removeEdge(rt)})}function addSubgraphConstraints(it,nt,rt){var st={},vt;forEach(rt,function(bt){for(var _t=it.parent(bt),wt,Et;_t;){if(wt=it.parent(_t),wt?(Et=st[wt],st[wt]=_t):(Et=vt,vt=_t),Et&&Et!==_t){nt.setEdge(Et,_t);return}_t=wt}})}function buildLayerGraph(it,nt,rt){var st=createRootNode(it),vt=new Graph({compound:!0}).setGraph({root:st}).setDefaultNodeLabel(function(bt){return it.node(bt)});return forEach(it.nodes(),function(bt){var _t=it.node(bt),wt=it.parent(bt);(_t.rank===nt||_t.minRank<=nt&&nt<=_t.maxRank)&&(vt.setNode(bt),vt.setParent(bt,wt||st),forEach(it[rt](bt),function(Et){var Tt=Et.v===bt?Et.w:Et.v,$t=vt.edge(Tt,bt),Dt=isUndefined($t)?0:$t.weight;vt.setEdge(Tt,bt,{weight:it.edge(Et).weight+Dt})}),has(_t,"minRank")&&vt.setNode(bt,{borderLeft:_t.borderLeft[nt],borderRight:_t.borderRight[nt]}))}),vt}function createRootNode(it){for(var nt;it.hasNode(nt=uniqueId("_root")););return nt}function crossCount(it,nt){for(var rt=0,st=1;st<nt.length;++st)rt+=twoLayerCrossCount(it,nt[st-1],nt[st]);return rt}function twoLayerCrossCount(it,nt,rt){for(var st=zipObject(rt,map$1(rt,function(Tt,$t){return $t})),vt=flatten(map$1(nt,function(Tt){return sortBy$1(map$1(it.outEdges(Tt),function($t){return{pos:st[$t.w],weight:it.edge($t).weight}}),"pos")})),bt=1;bt<rt.length;)bt<<=1;var _t=2*bt-1;bt-=1;var wt=map$1(new Array(_t),function(){return 0}),Et=0;return forEach(vt.forEach(function(Tt){var $t=Tt.pos+bt;wt[$t]+=Tt.weight;for(var Dt=0;$t>0;)$t%2&&(Dt+=wt[$t+1]),$t=$t-1>>1,wt[$t]+=Tt.weight;Et+=Tt.weight*Dt})),Et}function initOrder(it){var nt={},rt=filter(it.nodes(),function(wt){return!it.children(wt).length}),st=max(map$1(rt,function(wt){return it.node(wt).rank})),vt=map$1(range$1(st+1),function(){return[]});function bt(wt){if(!has(nt,wt)){nt[wt]=!0;var Et=it.node(wt);vt[Et.rank].push(wt),forEach(it.successors(wt),bt)}}var _t=sortBy$1(rt,function(wt){return it.node(wt).rank});return forEach(_t,bt),vt}function barycenter(it,nt){return map$1(nt,function(rt){var st=it.inEdges(rt);if(st.length){var vt=reduce(st,function(bt,_t){var wt=it.edge(_t),Et=it.node(_t.v);return{sum:bt.sum+wt.weight*Et.order,weight:bt.weight+wt.weight}},{sum:0,weight:0});return{v:rt,barycenter:vt.sum/vt.weight,weight:vt.weight}}else return{v:rt}})}function resolveConflicts(it,nt){var rt={};forEach(it,function(vt,bt){var _t=rt[vt.v]={indegree:0,in:[],out:[],vs:[vt.v],i:bt};isUndefined(vt.barycenter)||(_t.barycenter=vt.barycenter,_t.weight=vt.weight)}),forEach(nt.edges(),function(vt){var bt=rt[vt.v],_t=rt[vt.w];!isUndefined(bt)&&!isUndefined(_t)&&(_t.indegree++,bt.out.push(rt[vt.w]))});var st=filter(rt,function(vt){return!vt.indegree});return doResolveConflicts(st)}function doResolveConflicts(it){var nt=[];function rt(bt){return function(_t){_t.merged||(isUndefined(_t.barycenter)||isUndefined(bt.barycenter)||_t.barycenter>=bt.barycenter)&&mergeEntries(bt,_t)}}function st(bt){return function(_t){_t.in.push(bt),--_t.indegree===0&&it.push(_t)}}for(;it.length;){var vt=it.pop();nt.push(vt),forEach(vt.in.reverse(),rt(vt)),forEach(vt.out,st(vt))}return map$1(filter(nt,function(bt){return!bt.merged}),function(bt){return pick$1(bt,["vs","i","barycenter","weight"])})}function mergeEntries(it,nt){var rt=0,st=0;it.weight&&(rt+=it.barycenter*it.weight,st+=it.weight),nt.weight&&(rt+=nt.barycenter*nt.weight,st+=nt.weight),it.vs=nt.vs.concat(it.vs),it.barycenter=rt/st,it.weight=st,it.i=Math.min(nt.i,it.i),nt.merged=!0}function sort(it,nt){var rt=partition(it,function($t){return has($t,"barycenter")}),st=rt.lhs,vt=sortBy$1(rt.rhs,function($t){return-$t.i}),bt=[],_t=0,wt=0,Et=0;st.sort(compareWithBias(!!nt)),Et=consumeUnsortable(bt,vt,Et),forEach(st,function($t){Et+=$t.vs.length,bt.push($t.vs),_t+=$t.barycenter*$t.weight,wt+=$t.weight,Et=consumeUnsortable(bt,vt,Et)});var Tt={vs:flatten(bt)};return wt&&(Tt.barycenter=_t/wt,Tt.weight=wt),Tt}function consumeUnsortable(it,nt,rt){for(var st;nt.length&&(st=last(nt)).i<=rt;)nt.pop(),it.push(st.vs),rt++;return rt}function compareWithBias(it){return function(nt,rt){return nt.barycenter<rt.barycenter?-1:nt.barycenter>rt.barycenter?1:it?rt.i-nt.i:nt.i-rt.i}}function sortSubgraph(it,nt,rt,st){var vt=it.children(nt),bt=it.node(nt),_t=bt?bt.borderLeft:void 0,wt=bt?bt.borderRight:void 0,Et={};_t&&(vt=filter(vt,function(Ht){return Ht!==_t&&Ht!==wt}));var Tt=barycenter(it,vt);forEach(Tt,function(Ht){if(it.children(Ht.v).length){var Ut=sortSubgraph(it,Ht.v,rt,st);Et[Ht.v]=Ut,has(Ut,"barycenter")&&mergeBarycenters(Ht,Ut)}});var $t=resolveConflicts(Tt,rt);expandSubgraphs($t,Et);var Dt=sort($t,st);if(_t&&(Dt.vs=flatten([_t,Dt.vs,wt]),it.predecessors(_t).length)){var Lt=it.node(it.predecessors(_t)[0]),Bt=it.node(it.predecessors(wt)[0]);has(Dt,"barycenter")||(Dt.barycenter=0,Dt.weight=0),Dt.barycenter=(Dt.barycenter*Dt.weight+Lt.order+Bt.order)/(Dt.weight+2),Dt.weight+=2}return Dt}function expandSubgraphs(it,nt){forEach(it,function(rt){rt.vs=flatten(rt.vs.map(function(st){return nt[st]?nt[st].vs:st}))})}function mergeBarycenters(it,nt){isUndefined(it.barycenter)?(it.barycenter=nt.barycenter,it.weight=nt.weight):(it.barycenter=(it.barycenter*it.weight+nt.barycenter*nt.weight)/(it.weight+nt.weight),it.weight+=nt.weight)}function order(it){var nt=maxRank(it),rt=buildLayerGraphs(it,range$1(1,nt+1),"inEdges"),st=buildLayerGraphs(it,range$1(nt-1,-1,-1),"outEdges"),vt=initOrder(it);assignOrder(it,vt);for(var bt=Number.POSITIVE_INFINITY,_t,wt=0,Et=0;Et<4;++wt,++Et){sweepLayerGraphs(wt%2?rt:st,wt%4>=2),vt=buildLayerMatrix(it);var Tt=crossCount(it,vt);Tt<bt&&(Et=0,_t=cloneDeep(vt),bt=Tt)}assignOrder(it,_t)}function buildLayerGraphs(it,nt,rt){return map$1(nt,function(st){return buildLayerGraph(it,st,rt)})}function sweepLayerGraphs(it,nt){var rt=new Graph;forEach(it,function(st){var vt=st.graph().root,bt=sortSubgraph(st,vt,rt,nt);forEach(bt.vs,function(_t,wt){st.node(_t).order=wt}),addSubgraphConstraints(st,rt,bt.vs)})}function assignOrder(it,nt){forEach(nt,function(rt){forEach(rt,function(st,vt){it.node(st).order=vt})})}function parentDummyChains(it){var nt=postorder$1(it);forEach(it.graph().dummyChains,function(rt){for(var st=it.node(rt),vt=st.edgeObj,bt=findPath(it,nt,vt.v,vt.w),_t=bt.path,wt=bt.lca,Et=0,Tt=_t[Et],$t=!0;rt!==vt.w;){if(st=it.node(rt),$t){for(;(Tt=_t[Et])!==wt&&it.node(Tt).maxRank<st.rank;)Et++;Tt===wt&&($t=!1)}if(!$t){for(;Et<_t.length-1&&it.node(Tt=_t[Et+1]).minRank<=st.rank;)Et++;Tt=_t[Et]}it.setParent(rt,Tt),rt=it.successors(rt)[0]}})}function findPath(it,nt,rt,st){var vt=[],bt=[],_t=Math.min(nt[rt].low,nt[st].low),wt=Math.max(nt[rt].lim,nt[st].lim),Et,Tt;Et=rt;do Et=it.parent(Et),vt.push(Et);while(Et&&(nt[Et].low>_t||wt>nt[Et].lim));for(Tt=Et,Et=st;(Et=it.parent(Et))!==Tt;)bt.push(Et);return{path:vt.concat(bt.reverse()),lca:Tt}}function postorder$1(it){var nt={},rt=0;function st(vt){var bt=rt;forEach(it.children(vt),st),nt[vt]={low:bt,lim:rt++}}return forEach(it.children(),st),nt}function findType1Conflicts(it,nt){var rt={};function st(vt,bt){var _t=0,wt=0,Et=vt.length,Tt=last(bt);return forEach(bt,function($t,Dt){var Lt=findOtherInnerSegmentNode(it,$t),Bt=Lt?it.node(Lt).order:Et;(Lt||$t===Tt)&&(forEach(bt.slice(wt,Dt+1),function(Ht){forEach(it.predecessors(Ht),function(Ut){var It=it.node(Ut),jt=It.order;(jt<_t||Bt<jt)&&!(It.dummy&&it.node(Ht).dummy)&&addConflict(rt,Ut,Ht)})}),wt=Dt+1,_t=Bt)}),bt}return reduce(nt,st),rt}function findType2Conflicts(it,nt){var rt={};function st(bt,_t,wt,Et,Tt){var $t;forEach(range$1(_t,wt),function(Dt){$t=bt[Dt],it.node($t).dummy&&forEach(it.predecessors($t),function(Lt){var Bt=it.node(Lt);Bt.dummy&&(Bt.order<Et||Bt.order>Tt)&&addConflict(rt,Lt,$t)})})}function vt(bt,_t){var wt=-1,Et,Tt=0;return forEach(_t,function($t,Dt){if(it.node($t).dummy==="border"){var Lt=it.predecessors($t);Lt.length&&(Et=it.node(Lt[0]).order,st(_t,Tt,Dt,wt,Et),Tt=Dt,wt=Et)}st(_t,Tt,_t.length,Et,bt.length)}),_t}return reduce(nt,vt),rt}function findOtherInnerSegmentNode(it,nt){if(it.node(nt).dummy)return find$1(it.predecessors(nt),function(rt){return it.node(rt).dummy})}function addConflict(it,nt,rt){if(nt>rt){var st=nt;nt=rt,rt=st}var vt=it[nt];vt||(it[nt]=vt={}),vt[rt]=!0}function hasConflict(it,nt,rt){if(nt>rt){var st=nt;nt=rt,rt=st}return has(it[nt],rt)}function verticalAlignment(it,nt,rt,st){var vt={},bt={},_t={};return forEach(nt,function(wt){forEach(wt,function(Et,Tt){vt[Et]=Et,bt[Et]=Et,_t[Et]=Tt})}),forEach(nt,function(wt){var Et=-1;forEach(wt,function(Tt){var $t=st(Tt);if($t.length){$t=sortBy$1($t,function(Ut){return _t[Ut]});for(var Dt=($t.length-1)/2,Lt=Math.floor(Dt),Bt=Math.ceil(Dt);Lt<=Bt;++Lt){var Ht=$t[Lt];bt[Tt]===Tt&&Et<_t[Ht]&&!hasConflict(rt,Tt,Ht)&&(bt[Ht]=Tt,bt[Tt]=vt[Tt]=vt[Ht],Et=_t[Ht])}}})}),{root:vt,align:bt}}function horizontalCompaction(it,nt,rt,st,vt){var bt={},_t=buildBlockGraph(it,nt,rt,vt),wt=vt?"borderLeft":"borderRight";function Et(Dt,Lt){for(var Bt=_t.nodes(),Ht=Bt.pop(),Ut={};Ht;)Ut[Ht]?Dt(Ht):(Ut[Ht]=!0,Bt.push(Ht),Bt=Bt.concat(Lt(Ht))),Ht=Bt.pop()}function Tt(Dt){bt[Dt]=_t.inEdges(Dt).reduce(function(Lt,Bt){return Math.max(Lt,bt[Bt.v]+_t.edge(Bt))},0)}function $t(Dt){var Lt=_t.outEdges(Dt).reduce(function(Ht,Ut){return Math.min(Ht,bt[Ut.w]-_t.edge(Ut))},Number.POSITIVE_INFINITY),Bt=it.node(Dt);Lt!==Number.POSITIVE_INFINITY&&Bt.borderType!==wt&&(bt[Dt]=Math.max(bt[Dt],Lt))}return Et(Tt,_t.predecessors.bind(_t)),Et($t,_t.successors.bind(_t)),forEach(st,function(Dt){bt[Dt]=bt[rt[Dt]]}),bt}function buildBlockGraph(it,nt,rt,st){var vt=new Graph,bt=it.graph(),_t=sep(bt.nodesep,bt.edgesep,st);return forEach(nt,function(wt){var Et;forEach(wt,function(Tt){var $t=rt[Tt];if(vt.setNode($t),Et){var Dt=rt[Et],Lt=vt.edge(Dt,$t);vt.setEdge(Dt,$t,Math.max(_t(it,Tt,Et),Lt||0))}Et=Tt})}),vt}function findSmallestWidthAlignment(it,nt){return minBy(values(nt),function(rt){var st=Number.NEGATIVE_INFINITY,vt=Number.POSITIVE_INFINITY;return forIn(rt,function(bt,_t){var wt=width$1(it,_t)/2;st=Math.max(bt+wt,st),vt=Math.min(bt-wt,vt)}),st-vt})}function alignCoordinates(it,nt){var rt=values(nt),st=min(rt),vt=max(rt);forEach(["u","d"],function(bt){forEach(["l","r"],function(_t){var wt=bt+_t,Et=it[wt],Tt;if(Et!==nt){var $t=values(Et);Tt=_t==="l"?st-min($t):vt-max($t),Tt&&(it[wt]=mapValues(Et,function(Dt){return Dt+Tt}))}})})}function balance(it,nt){return mapValues(it.ul,function(rt,st){if(nt)return it[nt.toLowerCase()][st];var vt=sortBy$1(map$1(it,st));return(vt[1]+vt[2])/2})}function positionX(it){var nt=buildLayerMatrix(it),rt=merge$3(findType1Conflicts(it,nt),findType2Conflicts(it,nt)),st={},vt;forEach(["u","d"],function(_t){vt=_t==="u"?nt:values(nt).reverse(),forEach(["l","r"],function(wt){wt==="r"&&(vt=map$1(vt,function(Dt){return values(Dt).reverse()}));var Et=(_t==="u"?it.predecessors:it.successors).bind(it),Tt=verticalAlignment(it,vt,rt,Et),$t=horizontalCompaction(it,vt,Tt.root,Tt.align,wt==="r");wt==="r"&&($t=mapValues($t,function(Dt){return-Dt})),st[_t+wt]=$t})});var bt=findSmallestWidthAlignment(it,st);return alignCoordinates(st,bt),balance(st,it.graph().align)}function sep(it,nt,rt){return function(st,vt,bt){var _t=st.node(vt),wt=st.node(bt),Et=0,Tt;if(Et+=_t.width/2,has(_t,"labelpos"))switch(_t.labelpos.toLowerCase()){case"l":Tt=-_t.width/2;break;case"r":Tt=_t.width/2;break}if(Tt&&(Et+=rt?Tt:-Tt),Tt=0,Et+=(_t.dummy?nt:it)/2,Et+=(wt.dummy?nt:it)/2,Et+=wt.width/2,has(wt,"labelpos"))switch(wt.labelpos.toLowerCase()){case"l":Tt=wt.width/2;break;case"r":Tt=-wt.width/2;break}return Tt&&(Et+=rt?Tt:-Tt),Tt=0,Et}}function width$1(it,nt){return it.node(nt).width}function position(it){it=asNonCompoundGraph(it),positionY(it),forEach(positionX(it),function(nt,rt){it.node(rt).x=nt})}function positionY(it){var nt=buildLayerMatrix(it),rt=it.graph().ranksep,st=0;forEach(nt,function(vt){var bt=max(map$1(vt,function(_t){return it.node(_t).height}));forEach(vt,function(_t){it.node(_t).y=st+bt/2}),st+=bt+rt})}function layout(it,nt){var rt=nt&&nt.debugTiming?time:notime;rt("layout",function(){var st=rt("  buildLayoutGraph",function(){return buildLayoutGraph(it)});rt("  runLayout",function(){runLayout(st,rt)}),rt("  updateInputGraph",function(){updateInputGraph(it,st)})})}function runLayout(it,nt){nt("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(it)}),nt("    removeSelfEdges",function(){removeSelfEdges(it)}),nt("    acyclic",function(){run$2(it)}),nt("    nestingGraph.run",function(){run$1(it)}),nt("    rank",function(){rank(asNonCompoundGraph(it))}),nt("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(it)}),nt("    removeEmptyRanks",function(){removeEmptyRanks(it)}),nt("    nestingGraph.cleanup",function(){cleanup(it)}),nt("    normalizeRanks",function(){normalizeRanks(it)}),nt("    assignRankMinMax",function(){assignRankMinMax(it)}),nt("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(it)}),nt("    normalize.run",function(){run(it)}),nt("    parentDummyChains",function(){parentDummyChains(it)}),nt("    addBorderSegments",function(){addBorderSegments(it)}),nt("    order",function(){order(it)}),nt("    insertSelfEdges",function(){insertSelfEdges(it)}),nt("    adjustCoordinateSystem",function(){adjust(it)}),nt("    position",function(){position(it)}),nt("    positionSelfEdges",function(){positionSelfEdges(it)}),nt("    removeBorderNodes",function(){removeBorderNodes(it)}),nt("    normalize.undo",function(){undo(it)}),nt("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(it)}),nt("    undoCoordinateSystem",function(){undo$1(it)}),nt("    translateGraph",function(){translateGraph(it)}),nt("    assignNodeIntersects",function(){assignNodeIntersects(it)}),nt("    reversePoints",function(){reversePointsForReversedEdges(it)}),nt("    acyclic.undo",function(){undo$2(it)})}function updateInputGraph(it,nt){forEach(it.nodes(),function(rt){var st=it.node(rt),vt=nt.node(rt);st&&(st.x=vt.x,st.y=vt.y,nt.children(rt).length&&(st.width=vt.width,st.height=vt.height))}),forEach(it.edges(),function(rt){var st=it.edge(rt),vt=nt.edge(rt);st.points=vt.points,has(vt,"x")&&(st.x=vt.x,st.y=vt.y)}),it.graph().width=nt.graph().width,it.graph().height=nt.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(it){var nt=new Graph({multigraph:!0,compound:!0}),rt=canonicalize(it.graph());return nt.setGraph(merge$3({},graphDefaults,selectNumberAttrs(rt,graphNumAttrs),pick$1(rt,graphAttrs))),forEach(it.nodes(),function(st){var vt=canonicalize(it.node(st));nt.setNode(st,defaults$1(selectNumberAttrs(vt,nodeNumAttrs),nodeDefaults)),nt.setParent(st,it.parent(st))}),forEach(it.edges(),function(st){var vt=canonicalize(it.edge(st));nt.setEdge(st,merge$3({},edgeDefaults,selectNumberAttrs(vt,edgeNumAttrs),pick$1(vt,edgeAttrs)))}),nt}function makeSpaceForEdgeLabels(it){var nt=it.graph();nt.ranksep/=2,forEach(it.edges(),function(rt){var st=it.edge(rt);st.minlen*=2,st.labelpos.toLowerCase()!=="c"&&(nt.rankdir==="TB"||nt.rankdir==="BT"?st.width+=st.labeloffset:st.height+=st.labeloffset)})}function injectEdgeLabelProxies(it){forEach(it.edges(),function(nt){var rt=it.edge(nt);if(rt.width&&rt.height){var st=it.node(nt.v),vt=it.node(nt.w),bt={rank:(vt.rank-st.rank)/2+st.rank,e:nt};addDummyNode(it,"edge-proxy",bt,"_ep")}})}function assignRankMinMax(it){var nt=0;forEach(it.nodes(),function(rt){var st=it.node(rt);st.borderTop&&(st.minRank=it.node(st.borderTop).rank,st.maxRank=it.node(st.borderBottom).rank,nt=max(nt,st.maxRank))}),it.graph().maxRank=nt}function removeEdgeLabelProxies(it){forEach(it.nodes(),function(nt){var rt=it.node(nt);rt.dummy==="edge-proxy"&&(it.edge(rt.e).labelRank=rt.rank,it.removeNode(nt))})}function translateGraph(it){var nt=Number.POSITIVE_INFINITY,rt=0,st=Number.POSITIVE_INFINITY,vt=0,bt=it.graph(),_t=bt.marginx||0,wt=bt.marginy||0;function Et(Tt){var $t=Tt.x,Dt=Tt.y,Lt=Tt.width,Bt=Tt.height;nt=Math.min(nt,$t-Lt/2),rt=Math.max(rt,$t+Lt/2),st=Math.min(st,Dt-Bt/2),vt=Math.max(vt,Dt+Bt/2)}forEach(it.nodes(),function(Tt){Et(it.node(Tt))}),forEach(it.edges(),function(Tt){var $t=it.edge(Tt);has($t,"x")&&Et($t)}),nt-=_t,st-=wt,forEach(it.nodes(),function(Tt){var $t=it.node(Tt);$t.x-=nt,$t.y-=st}),forEach(it.edges(),function(Tt){var $t=it.edge(Tt);forEach($t.points,function(Dt){Dt.x-=nt,Dt.y-=st}),has($t,"x")&&($t.x-=nt),has($t,"y")&&($t.y-=st)}),bt.width=rt-nt+_t,bt.height=vt-st+wt}function assignNodeIntersects(it){forEach(it.edges(),function(nt){var rt=it.edge(nt),st=it.node(nt.v),vt=it.node(nt.w),bt,_t;rt.points?(bt=rt.points[0],_t=rt.points[rt.points.length-1]):(rt.points=[],bt=vt,_t=st),rt.points.unshift(intersectRect$3(st,bt)),rt.points.push(intersectRect$3(vt,_t))})}function fixupEdgeLabelCoords(it){forEach(it.edges(),function(nt){var rt=it.edge(nt);if(has(rt,"x"))switch((rt.labelpos==="l"||rt.labelpos==="r")&&(rt.width-=rt.labeloffset),rt.labelpos){case"l":rt.x-=rt.width/2+rt.labeloffset;break;case"r":rt.x+=rt.width/2+rt.labeloffset;break}})}function reversePointsForReversedEdges(it){forEach(it.edges(),function(nt){var rt=it.edge(nt);rt.reversed&&rt.points.reverse()})}function removeBorderNodes(it){forEach(it.nodes(),function(nt){if(it.children(nt).length){var rt=it.node(nt),st=it.node(rt.borderTop),vt=it.node(rt.borderBottom),bt=it.node(last(rt.borderLeft)),_t=it.node(last(rt.borderRight));rt.width=Math.abs(_t.x-bt.x),rt.height=Math.abs(vt.y-st.y),rt.x=bt.x+rt.width/2,rt.y=st.y+rt.height/2}}),forEach(it.nodes(),function(nt){it.node(nt).dummy==="border"&&it.removeNode(nt)})}function removeSelfEdges(it){forEach(it.edges(),function(nt){if(nt.v===nt.w){var rt=it.node(nt.v);rt.selfEdges||(rt.selfEdges=[]),rt.selfEdges.push({e:nt,label:it.edge(nt)}),it.removeEdge(nt)}})}function insertSelfEdges(it){var nt=buildLayerMatrix(it);forEach(nt,function(rt){var st=0;forEach(rt,function(vt,bt){var _t=it.node(vt);_t.order=bt+st,forEach(_t.selfEdges,function(wt){addDummyNode(it,"selfedge",{width:wt.label.width,height:wt.label.height,rank:_t.rank,order:bt+ ++st,e:wt.e,label:wt.label},"_se")}),delete _t.selfEdges})})}function positionSelfEdges(it){forEach(it.nodes(),function(nt){var rt=it.node(nt);if(rt.dummy==="selfedge"){var st=it.node(rt.e.v),vt=st.x+st.width/2,bt=st.y,_t=rt.x-vt,wt=st.height/2;it.setEdge(rt.e,rt.label),it.removeNode(nt),rt.label.points=[{x:vt+2*_t/3,y:bt-wt},{x:vt+5*_t/6,y:bt-wt},{x:vt+_t,y:bt},{x:vt+5*_t/6,y:bt+wt},{x:vt+2*_t/3,y:bt+wt}],rt.label.x=rt.x,rt.label.y=rt.y}})}function selectNumberAttrs(it,nt){return mapValues(pick$1(it,nt),Number)}function canonicalize(it){var nt={};return forEach(it,function(rt,st){nt[st.toLowerCase()]=rt}),nt}function run(it){it.graph().dummyChains=[],forEach(it.edges(),function(nt){normalizeEdge(it,nt)})}function normalizeEdge(it,nt){var rt=nt.v,st=it.node(rt).rank,vt=nt.w,bt=it.node(vt).rank,_t=nt.name,wt=it.edge(nt),Et=wt.labelRank;if(bt!==st+1){it.removeEdge(nt);var Tt,$t,Dt;for(Dt=0,++st;st<bt;++Dt,++st)wt.points=[],$t={width:0,height:0,edgeLabel:wt,edgeObj:nt,rank:st},Tt=addDummyNode(it,"edge",$t,"_d"),st===Et&&($t.width=wt.width,$t.height=wt.height,$t.dummy="edge-label",$t.labelpos=wt.labelpos),it.setEdge(rt,Tt,{weight:wt.weight},_t),Dt===0&&it.graph().dummyChains.push(Tt),rt=Tt;it.setEdge(rt,vt,{weight:wt.weight},_t)}}function undo(it){forEach(it.graph().dummyChains,function(nt){var rt=it.node(nt),st=rt.edgeLabel,vt;for(it.setEdge(rt.edgeObj,st);rt.dummy;)vt=it.successors(nt)[0],it.removeNode(nt),st.points.push({x:rt.x,y:rt.y}),rt.dummy==="edge-label"&&(st.x=rt.x,st.y=rt.y,st.width=rt.width,st.height=rt.height),nt=vt,rt=it.node(nt)})}function longestPath(it){var nt={};function rt(st){var vt=it.node(st);if(has(nt,st))return vt.rank;nt[st]=!0;var bt=min(map$1(it.outEdges(st),function(_t){return rt(_t.w)-it.edge(_t).minlen}));return(bt===Number.POSITIVE_INFINITY||bt===void 0||bt===null)&&(bt=0),vt.rank=bt}forEach(it.sources(),rt)}function slack(it,nt){return it.node(nt.w).rank-it.node(nt.v).rank-it.edge(nt).minlen}function feasibleTree(it){var nt=new Graph({directed:!1}),rt=it.nodes()[0],st=it.nodeCount();nt.setNode(rt,{});for(var vt,bt;tightTree(nt,it)<st;)vt=findMinSlackEdge(nt,it),bt=nt.hasNode(vt.v)?slack(it,vt):-slack(it,vt),shiftRanks(nt,it,bt);return nt}function tightTree(it,nt){function rt(st){forEach(nt.nodeEdges(st),function(vt){var bt=vt.v,_t=st===bt?vt.w:bt;!it.hasNode(_t)&&!slack(nt,vt)&&(it.setNode(_t,{}),it.setEdge(st,_t,{}),rt(_t))})}return forEach(it.nodes(),rt),it.nodeCount()}function findMinSlackEdge(it,nt){return minBy(nt.edges(),function(rt){if(it.hasNode(rt.v)!==it.hasNode(rt.w))return slack(nt,rt)})}function shiftRanks(it,nt,rt){forEach(it.nodes(),function(st){nt.node(st).rank+=rt})}function CycleException(){}CycleException.prototype=new Error;function dfs(it,nt,rt){isArray$1(nt)||(nt=[nt]);var st=(it.isDirected()?it.successors:it.neighbors).bind(it),vt=[],bt={};return forEach(nt,function(_t){if(!it.hasNode(_t))throw new Error("Graph does not have node: "+_t);doDfs(it,_t,rt==="post",bt,st,vt)}),vt}function doDfs(it,nt,rt,st,vt,bt){has(st,nt)||(st[nt]=!0,rt||bt.push(nt),forEach(vt(nt),function(_t){doDfs(it,_t,rt,st,vt,bt)}),rt&&bt.push(nt))}function postorder(it,nt){return dfs(it,nt,"post")}function preorder(it,nt){return dfs(it,nt,"pre")}networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(it){it=simplify(it),longestPath(it);var nt=feasibleTree(it);initLowLimValues(nt),initCutValues(nt,it);for(var rt,st;rt=leaveEdge(nt);)st=enterEdge(nt,it,rt),exchangeEdges(nt,it,rt,st)}function initCutValues(it,nt){var rt=postorder(it,it.nodes());rt=rt.slice(0,rt.length-1),forEach(rt,function(st){assignCutValue(it,nt,st)})}function assignCutValue(it,nt,rt){var st=it.node(rt),vt=st.parent;it.edge(rt,vt).cutvalue=calcCutValue(it,nt,rt)}function calcCutValue(it,nt,rt){var st=it.node(rt),vt=st.parent,bt=!0,_t=nt.edge(rt,vt),wt=0;return _t||(bt=!1,_t=nt.edge(vt,rt)),wt=_t.weight,forEach(nt.nodeEdges(rt),function(Et){var Tt=Et.v===rt,$t=Tt?Et.w:Et.v;if($t!==vt){var Dt=Tt===bt,Lt=nt.edge(Et).weight;if(wt+=Dt?Lt:-Lt,isTreeEdge(it,rt,$t)){var Bt=it.edge(rt,$t).cutvalue;wt+=Dt?-Bt:Bt}}}),wt}function initLowLimValues(it,nt){arguments.length<2&&(nt=it.nodes()[0]),dfsAssignLowLim(it,{},1,nt)}function dfsAssignLowLim(it,nt,rt,st,vt){var bt=rt,_t=it.node(st);return nt[st]=!0,forEach(it.neighbors(st),function(wt){has(nt,wt)||(rt=dfsAssignLowLim(it,nt,rt,wt,st))}),_t.low=bt,_t.lim=rt++,vt?_t.parent=vt:delete _t.parent,rt}function leaveEdge(it){return find$1(it.edges(),function(nt){return it.edge(nt).cutvalue<0})}function enterEdge(it,nt,rt){var st=rt.v,vt=rt.w;nt.hasEdge(st,vt)||(st=rt.w,vt=rt.v);var bt=it.node(st),_t=it.node(vt),wt=bt,Et=!1;bt.lim>_t.lim&&(wt=_t,Et=!0);var Tt=filter(nt.edges(),function($t){return Et===isDescendant$1(it,it.node($t.v),wt)&&Et!==isDescendant$1(it,it.node($t.w),wt)});return minBy(Tt,function($t){return slack(nt,$t)})}function exchangeEdges(it,nt,rt,st){var vt=rt.v,bt=rt.w;it.removeEdge(vt,bt),it.setEdge(st.v,st.w,{}),initLowLimValues(it),initCutValues(it,nt),updateRanks(it,nt)}function updateRanks(it,nt){var rt=find$1(it.nodes(),function(vt){return!nt.node(vt).parent}),st=preorder(it,rt);st=st.slice(1),forEach(st,function(vt){var bt=it.node(vt).parent,_t=nt.edge(vt,bt),wt=!1;_t||(_t=nt.edge(bt,vt),wt=!0),nt.node(vt).rank=nt.node(bt).rank+(wt?_t.minlen:-_t.minlen)})}function isTreeEdge(it,nt,rt){return it.hasEdge(nt,rt)}function isDescendant$1(it,nt,rt){return rt.low<=nt.lim&&nt.lim<=rt.lim}function rank(it){switch(it.graph().ranker){case"network-simplex":networkSimplexRanker(it);break;case"tight-tree":tightTreeRanker(it);break;case"longest-path":longestPathRanker(it);break;default:networkSimplexRanker(it)}}var longestPathRanker=longestPath;function tightTreeRanker(it){longestPath(it),feasibleTree(it)}function networkSimplexRanker(it){networkSimplex(it)}function write(it){var nt={options:{directed:it.isDirected(),multigraph:it.isMultigraph(),compound:it.isCompound()},nodes:writeNodes(it),edges:writeEdges(it)};return isUndefined(it.graph())||(nt.value=clone$1(it.graph())),nt}function writeNodes(it){return map$1(it.nodes(),function(nt){var rt=it.node(nt),st=it.parent(nt),vt={v:nt};return isUndefined(rt)||(vt.value=rt),isUndefined(st)||(vt.parent=st),vt})}function writeEdges(it){return map$1(it.edges(),function(nt){var rt=it.edge(nt),st={v:nt.v,w:nt.w};return isUndefined(nt.name)||(st.name=nt.name),isUndefined(rt)||(st.value=rt),st})}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let it=0;it<256;++it)byteToHex.push((it+256).toString(16).slice(1));function unsafeStringify(it,nt=0){return(byteToHex[it[nt+0]]+byteToHex[it[nt+1]]+byteToHex[it[nt+2]]+byteToHex[it[nt+3]]+"-"+byteToHex[it[nt+4]]+byteToHex[it[nt+5]]+"-"+byteToHex[it[nt+6]]+byteToHex[it[nt+7]]+"-"+byteToHex[it[nt+8]]+byteToHex[it[nt+9]]+"-"+byteToHex[it[nt+10]]+byteToHex[it[nt+11]]+byteToHex[it[nt+12]]+byteToHex[it[nt+13]]+byteToHex[it[nt+14]]+byteToHex[it[nt+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(it,nt,rt){if(native.randomUUID&&!nt&&!it)return native.randomUUID();it=it||{};const st=it.random||(it.rng||rng)();if(st[6]=st[6]&15|64,st[8]=st[8]&63|128,nt){rt=rt||0;for(let vt=0;vt<16;++vt)nt[rt+vt]=st[vt];return nt}return unsafeStringify(st)}function isSubgraph(it,nt){return!!it.children(nt).length}function edgeToId(it){return escapeId(it.v)+":"+escapeId(it.w)+":"+escapeId(it.name)}var ID_DELIM=/:/g;function escapeId(it){return it?String(it).replace(ID_DELIM,"\\:"):""}function applyStyle$1(it,nt){nt&&it.attr("style",nt)}function applyClass(it,nt,rt){nt&&it.attr("class",nt).attr("class",rt+" "+it.attr("class"))}function applyTransition(it,nt){var rt=nt.graph();if(isPlainObject(rt)){var st=rt.transition;if(isFunction(st))return st(it)}return it}var arrows={normal,vee,undirected};function setArrows(it){arrows=it}function normal(it,nt,rt,st){var vt=it.append("marker").attr("id",nt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),bt=vt.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(bt,rt[st+"Style"]),rt[st+"Class"]&&bt.attr("class",rt[st+"Class"])}function vee(it,nt,rt,st){var vt=it.append("marker").attr("id",nt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),bt=vt.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(bt,rt[st+"Style"]),rt[st+"Class"]&&bt.attr("class",rt[st+"Class"])}function undirected(it,nt,rt,st){var vt=it.append("marker").attr("id",nt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),bt=vt.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(bt,rt[st+"Style"]),rt[st+"Class"]&&bt.attr("class",rt[st+"Class"])}function addHtmlLabel$1(it,nt){var rt=it.append("foreignObject").attr("width","100000"),st=rt.append("xhtml:div");st.attr("xmlns","http://www.w3.org/1999/xhtml");var vt=nt.label;switch(typeof vt){case"function":st.insert(vt);break;case"object":st.insert(function(){return vt});break;default:st.html(vt)}applyStyle$1(st,nt.labelStyle),st.style("display","inline-block"),st.style("white-space","nowrap");var bt=st.node().getBoundingClientRect();return rt.attr("width",bt.width).attr("height",bt.height),rt}function addSVGLabel(it,nt){var rt=it;return rt.node().appendChild(nt.label),applyStyle$1(rt,nt.labelStyle),rt}function addTextLabel(it,nt){for(var rt=it.append("text"),st=processEscapeSequences(nt.label).split(`
`),vt=0;vt<st.length;vt++)rt.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(st[vt]);return applyStyle$1(rt,nt.labelStyle),rt}function processEscapeSequences(it){for(var nt="",rt=!1,st,vt=0;vt<it.length;++vt)if(st=it[vt],rt){switch(st){case"n":nt+=`
`;break;default:nt+=st}rt=!1}else st==="\\"?rt=!0:nt+=st;return nt}function addLabel(it,nt,rt){var st=nt.label,vt=it.append("g");nt.labelType==="svg"?addSVGLabel(vt,nt):typeof st!="string"||nt.labelType==="html"?addHtmlLabel$1(vt,nt):addTextLabel(vt,nt);var bt=vt.node().getBBox(),_t;switch(rt){case"top":_t=-nt.height/2;break;case"bottom":_t=nt.height/2-bt.height;break;default:_t=-bt.height/2}return vt.attr("transform","translate("+-bt.width/2+","+_t+")"),vt}var createClusters=function(it,nt){var rt=nt.nodes().filter(function(bt){return isSubgraph(nt,bt)}),st=it.selectAll("g.cluster").data(rt,function(bt){return bt});applyTransition(st.exit(),nt).style("opacity",0).remove();var vt=st.enter().append("g").attr("class","cluster").attr("id",function(bt){var _t=nt.node(bt);return _t.id}).style("opacity",0).each(function(bt){var _t=nt.node(bt),wt=select(this);select(this).append("rect");var Et=wt.append("g").attr("class","label");addLabel(Et,_t,_t.clusterLabelPos)});return st=st.merge(vt),st=applyTransition(st,nt).style("opacity",1),st.selectAll("rect").each(function(bt){var _t=nt.node(bt),wt=select(this);applyStyle$1(wt,_t.style)}),st};function setCreateClusters(it){createClusters=it}let createEdgeLabels=function(it,nt){var rt=it.selectAll("g.edgeLabel").data(nt.edges(),function(vt){return edgeToId(vt)}).classed("update",!0);rt.exit().remove(),rt.enter().append("g").classed("edgeLabel",!0).style("opacity",0),rt=it.selectAll("g.edgeLabel"),rt.each(function(vt){var bt=select(this);bt.select(".label").remove();var _t=nt.edge(vt),wt=addLabel(bt,nt.edge(vt),0).classed("label",!0),Et=wt.node().getBBox();_t.labelId&&wt.attr("id",_t.labelId),has(_t,"width")||(_t.width=Et.width),has(_t,"height")||(_t.height=Et.height)});var st;return rt.exit?st=rt.exit():st=rt.selectAll(null),applyTransition(st,nt).style("opacity",0).remove(),rt};function setCreateEdgeLabels(it){createEdgeLabels=it}function intersectNode$1(it,nt){return it.intersect(nt)}var createEdgePaths=function(it,nt,rt){var st=it.selectAll("g.edgePath").data(nt.edges(),function(_t){return edgeToId(_t)}).classed("update",!0),vt=enter(st,nt);exit(st,nt);var bt=st.merge!==void 0?st.merge(vt):st;return applyTransition(bt,nt).style("opacity",1),bt.each(function(_t){var wt=select(this),Et=nt.edge(_t);Et.elem=this,Et.id&&wt.attr("id",Et.id),applyClass(wt,Et.class,(wt.classed("update")?"update ":"")+"edgePath")}),bt.selectAll("path.path").each(function(_t){var wt=nt.edge(_t);wt.arrowheadId=uniqueId("arrowhead");var Et=select(this).attr("marker-end",function(){return"url("+makeFragmentRef(location.href,wt.arrowheadId)+")"}).style("fill","none");applyTransition(Et,nt).attr("d",function(Tt){return calcPoints(nt,Tt)}),applyStyle$1(Et,wt.style)}),bt.selectAll("defs *").remove(),bt.selectAll("defs").each(function(_t){var wt=nt.edge(_t),Et=rt[wt.arrowhead];Et(select(this),wt.arrowheadId,wt,"arrowhead")}),bt};function setCreateEdgePaths(it){createEdgePaths=it}function makeFragmentRef(it,nt){var rt=it.split("#")[0];return rt+"#"+nt}function calcPoints(it,nt){var rt=it.edge(nt),st=it.node(nt.v),vt=it.node(nt.w),bt=rt.points.slice(1,rt.points.length-1);return bt.unshift(intersectNode$1(st,bt[0])),bt.push(intersectNode$1(vt,bt[bt.length-1])),createLine(rt,bt)}function createLine(it,nt){var rt=(line$1||svg$2.line)().x(function(st){return st.x}).y(function(st){return st.y});return(rt.curve||rt.interpolate)(it.curve),rt(nt)}function getCoords(it){var nt=it.getBBox(),rt=it.ownerSVGElement.getScreenCTM().inverse().multiply(it.getScreenCTM()).translate(nt.width/2,nt.height/2);return{x:rt.e,y:rt.f}}function enter(it,nt){var rt=it.enter().append("g").attr("class","edgePath").style("opacity",0);return rt.append("path").attr("class","path").attr("d",function(st){var vt=nt.edge(st),bt=nt.node(st.v).elem,_t=range$1(vt.points.length).map(function(){return getCoords(bt)});return createLine(vt,_t)}),rt.append("defs"),rt}function exit(it,nt){var rt=it.exit();applyTransition(rt,nt).style("opacity",0).remove()}var createNodes=function(it,nt,rt){var st=nt.nodes().filter(function(_t){return!isSubgraph(nt,_t)}),vt=it.selectAll("g.node").data(st,function(_t){return _t}).classed("update",!0);vt.exit().remove(),vt.enter().append("g").attr("class","node").style("opacity",0),vt=it.selectAll("g.node"),vt.each(function(_t){var wt=nt.node(_t),Et=select(this);applyClass(Et,wt.class,(Et.classed("update")?"update ":"")+"node"),Et.select("g.label").remove();var Tt=Et.append("g").attr("class","label"),$t=addLabel(Tt,wt),Dt=rt[wt.shape],Lt=pick$1($t.node().getBBox(),"width","height");wt.elem=this,wt.id&&Et.attr("id",wt.id),wt.labelId&&Tt.attr("id",wt.labelId),has(wt,"width")&&(Lt.width=wt.width),has(wt,"height")&&(Lt.height=wt.height),Lt.width+=wt.paddingLeft+wt.paddingRight,Lt.height+=wt.paddingTop+wt.paddingBottom,Tt.attr("transform","translate("+(wt.paddingLeft-wt.paddingRight)/2+","+(wt.paddingTop-wt.paddingBottom)/2+")");var Bt=select(this);Bt.select(".label-container").remove();var Ht=Dt(Bt,Lt,wt).classed("label-container",!0);applyStyle$1(Ht,wt.style);var Ut=Ht.node().getBBox();wt.width=Ut.width,wt.height=Ut.height});var bt;return vt.exit?bt=vt.exit():bt=vt.selectAll(null),applyTransition(bt,nt).style("opacity",0).remove(),vt};function setCreateNodes(it){createNodes=it}function positionClusters(it,nt){var rt=it.filter(function(){return!select(this).classed("update")});function st(vt){var bt=nt.node(vt);return"translate("+bt.x+","+bt.y+")"}rt.attr("transform",st),applyTransition(it,nt).style("opacity",1).attr("transform",st),applyTransition(rt.selectAll("rect"),nt).attr("width",function(vt){return nt.node(vt).width}).attr("height",function(vt){return nt.node(vt).height}).attr("x",function(vt){var bt=nt.node(vt);return-bt.width/2}).attr("y",function(vt){var bt=nt.node(vt);return-bt.height/2})}function positionEdgeLabels(it,nt){var rt=it.filter(function(){return!select(this).classed("update")});function st(vt){var bt=nt.edge(vt);return has(bt,"x")?"translate("+bt.x+","+bt.y+")":""}rt.attr("transform",st),applyTransition(it,nt).style("opacity",1).attr("transform",st)}function positionNodes(it,nt){var rt=it.filter(function(){return!select(this).classed("update")});function st(vt){var bt=nt.node(vt);return"translate("+bt.x+","+bt.y+")"}rt.attr("transform",st),applyTransition(it,nt).style("opacity",1).attr("transform",st)}function intersectEllipse$1(it,nt,rt,st){var vt=it.x,bt=it.y,_t=vt-st.x,wt=bt-st.y,Et=Math.sqrt(nt*nt*wt*wt+rt*rt*_t*_t),Tt=Math.abs(nt*rt*_t/Et);st.x<vt&&(Tt=-Tt);var $t=Math.abs(nt*rt*wt/Et);return st.y<bt&&($t=-$t),{x:vt+Tt,y:bt+$t}}function intersectCircle$1(it,nt,rt){return intersectEllipse$1(it,nt,nt,rt)}function intersectLine$1(it,nt,rt,st){var vt,bt,_t,wt,Et,Tt,$t,Dt,Lt,Bt,Ht,Ut,It,jt,Wt;if(vt=nt.y-it.y,_t=it.x-nt.x,Et=nt.x*it.y-it.x*nt.y,Lt=vt*rt.x+_t*rt.y+Et,Bt=vt*st.x+_t*st.y+Et,!(Lt!==0&&Bt!==0&&sameSign$1(Lt,Bt))&&(bt=st.y-rt.y,wt=rt.x-st.x,Tt=st.x*rt.y-rt.x*st.y,$t=bt*it.x+wt*it.y+Tt,Dt=bt*nt.x+wt*nt.y+Tt,!($t!==0&&Dt!==0&&sameSign$1($t,Dt))&&(Ht=vt*wt-bt*_t,Ht!==0)))return Ut=Math.abs(Ht/2),It=_t*Tt-wt*Et,jt=It<0?(It-Ut)/Ht:(It+Ut)/Ht,It=bt*Et-vt*Tt,Wt=It<0?(It-Ut)/Ht:(It+Ut)/Ht,{x:jt,y:Wt}}function sameSign$1(it,nt){return it*nt>0}function intersectPolygon$1(it,nt,rt){var st=it.x,vt=it.y,bt=[],_t=Number.POSITIVE_INFINITY,wt=Number.POSITIVE_INFINITY;nt.forEach(function(Ht){_t=Math.min(_t,Ht.x),wt=Math.min(wt,Ht.y)});for(var Et=st-it.width/2-_t,Tt=vt-it.height/2-wt,$t=0;$t<nt.length;$t++){var Dt=nt[$t],Lt=nt[$t<nt.length-1?$t+1:0],Bt=intersectLine$1(it,rt,{x:Et+Dt.x,y:Tt+Dt.y},{x:Et+Lt.x,y:Tt+Lt.y});Bt&&bt.push(Bt)}return bt.length?(bt.length>1&&bt.sort(function(Ht,Ut){var It=Ht.x-rt.x,jt=Ht.y-rt.y,Wt=Math.sqrt(It*It+jt*jt),qt=Ut.x-rt.x,Yt=Ut.y-rt.y,ti=Math.sqrt(qt*qt+Yt*Yt);return Wt<ti?-1:Wt===ti?0:1}),bt[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",it),it)}function intersectRect$2(it,nt){var rt=it.x,st=it.y,vt=nt.x-rt,bt=nt.y-st,_t=it.width/2,wt=it.height/2,Et,Tt;return Math.abs(bt)*_t>Math.abs(vt)*wt?(bt<0&&(wt=-wt),Et=bt===0?0:wt*vt/bt,Tt=wt):(vt<0&&(_t=-_t),Et=_t,Tt=vt===0?0:_t*bt/vt),{x:rt+Et,y:st+Tt}}var shapes$2={rect:rect$2,ellipse,circle:circle$2,diamond};function setShapes(it){shapes$2=it}function rect$2(it,nt,rt){var st=it.insert("rect",":first-child").attr("rx",rt.rx).attr("ry",rt.ry).attr("x",-nt.width/2).attr("y",-nt.height/2).attr("width",nt.width).attr("height",nt.height);return rt.intersect=function(vt){return intersectRect$2(rt,vt)},st}function ellipse(it,nt,rt){var st=nt.width/2,vt=nt.height/2,bt=it.insert("ellipse",":first-child").attr("x",-nt.width/2).attr("y",-nt.height/2).attr("rx",st).attr("ry",vt);return rt.intersect=function(_t){return intersectEllipse$1(rt,st,vt,_t)},bt}function circle$2(it,nt,rt){var st=Math.max(nt.width,nt.height)/2,vt=it.insert("circle",":first-child").attr("x",-nt.width/2).attr("y",-nt.height/2).attr("r",st);return rt.intersect=function(bt){return intersectCircle$1(rt,st,bt)},vt}function diamond(it,nt,rt){var st=nt.width*Math.SQRT2/2,vt=nt.height*Math.SQRT2/2,bt=[{x:0,y:-vt},{x:-st,y:0},{x:0,y:vt},{x:st,y:0}],_t=it.insert("polygon",":first-child").attr("points",bt.map(function(wt){return wt.x+","+wt.y}).join(" "));return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function render$2(){var it=function(nt,rt){preProcessGraph(rt);var st=createOrSelectGroup(nt,"output"),vt=createOrSelectGroup(st,"clusters"),bt=createOrSelectGroup(st,"edgePaths"),_t=createEdgeLabels(createOrSelectGroup(st,"edgeLabels"),rt),wt=createNodes(createOrSelectGroup(st,"nodes"),rt,shapes$2);layout(rt),positionNodes(wt,rt),positionEdgeLabels(_t,rt),createEdgePaths(bt,rt,arrows);var Et=createClusters(vt,rt);positionClusters(Et,rt),postProcessGraph(rt)};return it.createNodes=function(nt){return arguments.length?(setCreateNodes(nt),it):createNodes},it.createClusters=function(nt){return arguments.length?(setCreateClusters(nt),it):createClusters},it.createEdgeLabels=function(nt){return arguments.length?(setCreateEdgeLabels(nt),it):createEdgeLabels},it.createEdgePaths=function(nt){return arguments.length?(setCreateEdgePaths(nt),it):createEdgePaths},it.shapes=function(nt){return arguments.length?(setShapes(nt),it):shapes$2},it.arrows=function(nt){return arguments.length?(setArrows(nt),it):arrows},it}var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:curveLinear};function preProcessGraph(it){it.nodes().forEach(function(nt){var rt=it.node(nt);!has(rt,"label")&&!it.children(nt).length&&(rt.label=nt),has(rt,"paddingX")&&defaults$1(rt,{paddingLeft:rt.paddingX,paddingRight:rt.paddingX}),has(rt,"paddingY")&&defaults$1(rt,{paddingTop:rt.paddingY,paddingBottom:rt.paddingY}),has(rt,"padding")&&defaults$1(rt,{paddingLeft:rt.padding,paddingRight:rt.padding,paddingTop:rt.padding,paddingBottom:rt.padding}),defaults$1(rt,NODE_DEFAULT_ATTRS),forEach(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(st){rt[st]=Number(rt[st])}),has(rt,"width")&&(rt._prevWidth=rt.width),has(rt,"height")&&(rt._prevHeight=rt.height)}),it.edges().forEach(function(nt){var rt=it.edge(nt);has(rt,"label")||(rt.label=""),defaults$1(rt,EDGE_DEFAULT_ATTRS)})}function postProcessGraph(it){forEach(it.nodes(),function(nt){var rt=it.node(nt);has(rt,"_prevWidth")?rt.width=rt._prevWidth:delete rt.width,has(rt,"_prevHeight")?rt.height=rt._prevHeight:delete rt.height,delete rt._prevWidth,delete rt._prevHeight})}function createOrSelectGroup(it,nt){var rt=it.select("g."+nt);return rt.empty()&&(rt=it.append("g").attr("class",nt)),rt}var __defProp=Object.defineProperty,__defNormalProp=(it,nt,rt)=>nt in it?__defProp(it,nt,{enumerable:!0,configurable:!0,writable:!0,value:rt}):it[nt]=rt,__publicField=(it,nt,rt)=>(__defNormalProp(it,typeof nt!="symbol"?nt+"":nt,rt),rt);const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...it)=>{},debug:(...it)=>{},info:(...it)=>{},warn:(...it)=>{},error:(...it)=>{},fatal:(...it)=>{}},setLogLevel$1=function(it="fatal"){let nt=LEVELS.fatal;typeof it=="string"?(it=it.toLowerCase(),it in LEVELS&&(nt=LEVELS[it])):typeof it=="number"&&(nt=it),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},nt<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),nt<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),nt<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),nt<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),nt<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),nt<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=it=>`%c${moment().format("ss.SSS")} : ${it} : `,getRows=it=>it?breakToPlaceholder(it).replace(/\\n/g,"#br#").split("#br#"):[""],removeScript=it=>purify.sanitize(it),sanitizeMore=(it,nt)=>{var rt;if(((rt=nt.flowchart)==null?void 0:rt.htmlLabels)!==!1){const st=nt.securityLevel;st==="antiscript"||st==="strict"?it=removeScript(it):st!=="loose"&&(it=breakToPlaceholder(it),it=it.replace(/</g,"&lt;").replace(/>/g,"&gt;"),it=it.replace(/=/g,"&equals;"),it=placeholderToBreak(it))}return it},sanitizeText$5=(it,nt)=>it&&(nt.dompurifyConfig?it=purify.sanitize(sanitizeMore(it,nt),nt.dompurifyConfig).toString():it=purify.sanitize(sanitizeMore(it,nt),{FORBID_TAGS:["style"]}).toString(),it),sanitizeTextOrArray=(it,nt)=>typeof it=="string"?sanitizeText$5(it,nt):it.flat().map(rt=>sanitizeText$5(rt,nt)),lineBreakRegex=/<br\s*\/?>/gi,hasBreaks=it=>lineBreakRegex.test(it),splitBreaks=it=>it.split(lineBreakRegex),placeholderToBreak=it=>it.replace(/#br#/g,"<br/>"),breakToPlaceholder=it=>it.replace(lineBreakRegex,"#br#"),getUrl=it=>{let nt="";return it&&(nt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,nt=nt.replaceAll(/\(/g,"\\("),nt=nt.replaceAll(/\)/g,"\\)")),nt},evaluate=it=>!(it===!1||["false","null","0"].includes(String(it).trim().toLowerCase())),parseGenericTypes=function(it){let nt=it;return it.includes("~")?(nt=nt.replace(/~([^~].*)/,"<$1"),nt=nt.replace(/~([^~]*)$/,">$1"),parseGenericTypes(nt)):nt},common$1={getRows,sanitizeText:sanitizeText$5,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate},mkBorder=(it,nt)=>nt?adjust$2(it,{s:-40,l:10}):adjust$2(it,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";class Theme$4{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$2(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$2(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this.darkMode)for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScale"+nt]=darken$1(this["cScale"+nt],75);else for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScale"+nt]=darken$1(this["cScale"+nt],25);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleInv"+nt]=this["cScaleInv"+nt]||invert$1(this["cScale"+nt]);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this.darkMode?this["cScalePeer"+nt]=this["cScalePeer"+nt]||lighten$1(this["cScale"+nt],10):this["cScalePeer"+nt]=this["cScalePeer"+nt]||darken$1(this["cScale"+nt],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleLabel"+nt]=this["cScaleLabel"+nt]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$2(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$2(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$2(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$2(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$2(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(nt){if(typeof nt!="object"){this.updateColors();return}const rt=Object.keys(nt);rt.forEach(st=>{this[st]=nt[st]}),this.updateColors(),rt.forEach(st=>{this[st]=nt[st]})}}const getThemeVariables$4=it=>{const nt=new Theme$4;return nt.calculate(it),nt};class Theme$3{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330});for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleInv"+nt]=this["cScaleInv"+nt]||invert$1(this["cScale"+nt]);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScalePeer"+nt]=this["cScalePeer"+nt]||lighten$1(this["cScale"+nt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleLabel"+nt]=this["cScaleLabel"+nt]||this.scaleLabelColor;for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["pie"+nt]=this["cScale"+nt];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$2(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$2(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$2(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$2(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$2(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(nt){if(typeof nt!="object"){this.updateColors();return}const rt=Object.keys(nt);rt.forEach(st=>{this[st]=nt[st]}),this.updateColors(),rt.forEach(st=>{this[st]=nt[st]})}}const getThemeVariables$3=it=>{const nt=new Theme$3;return nt.calculate(it),nt};class Theme$2{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$2(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScale"+nt]=darken$1(this["cScale"+nt],10),this["cScalePeer"+nt]=this["cScalePeer"+nt]||darken$1(this["cScale"+nt],25);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleInv"+nt]=this["cScaleInv"+nt]||adjust$2(this["cScale"+nt],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleLabel"+nt]=this["cScaleLabel"+nt]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$2(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(nt){if(typeof nt!="object"){this.updateColors();return}const rt=Object.keys(nt);rt.forEach(st=>{this[st]=nt[st]}),this.updateColors(),rt.forEach(st=>{this[st]=nt[st]})}}const getThemeVariables$2=it=>{const nt=new Theme$2;return nt.calculate(it),nt};class Theme$1{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScale"+nt]=darken$1(this["cScale"+nt],10),this["cScalePeer"+nt]=this["cScalePeer"+nt]||darken$1(this["cScale"+nt],25);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleInv"+nt]=this["cScaleInv"+nt]||adjust$2(this["cScale"+nt],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleLabel"+nt]=this["cScaleLabel"+nt]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(nt){if(typeof nt!="object"){this.updateColors();return}const rt=Object.keys(nt);rt.forEach(st=>{this[st]=nt[st]}),this.updateColors(),rt.forEach(st=>{this[st]=nt[st]})}}const getThemeVariables$1=it=>{const nt=new Theme$1;return nt.calculate(it),nt};class Theme{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleInv"+nt]=this["cScaleInv"+nt]||invert$1(this["cScale"+nt]);for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this.darkMode?this["cScalePeer"+nt]=this["cScalePeer"+nt]||lighten$1(this["cScale"+nt],10):this["cScalePeer"+nt]=this["cScalePeer"+nt]||darken$1(this["cScale"+nt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["cScaleLabel"+nt]=this["cScaleLabel"+nt]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128});for(let nt=0;nt<this.THEME_COLOR_LIMIT;nt++)this["pie"+nt]=this["cScale"+nt];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$2(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$2(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$2(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$2(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$2(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(nt){if(typeof nt!="object"){this.updateColors();return}const rt=Object.keys(nt);rt.forEach(st=>{this[st]=nt[st]}),this.updateColors(),rt.forEach(st=>{this[st]=nt[st]})}}const getThemeVariables=it=>{const nt=new Theme;return nt.calculate(it),nt},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},config$1={theme:"default",themeVariables:theme.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};config$1.class&&(config$1.class.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);config$1.gitGraph&&(config$1.gitGraph.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);const keyify=(it,nt="")=>Object.keys(it).reduce((rt,st)=>Array.isArray(it[st])?rt:typeof it[st]=="object"&&it[st]!==null?[...rt,nt+st,...keyify(it[st],"")]:[...rt,nt+st],[]),configKeys=keyify(config$1,""),config$2=config$1;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(it){return typeof it>"u"||it===null}function isObject(it){return typeof it=="object"&&it!==null}function toArray(it){return Array.isArray(it)?it:isNothing(it)?[]:[it]}function extend(it,nt){var rt,st,vt,bt;if(nt)for(bt=Object.keys(nt),rt=0,st=bt.length;rt<st;rt+=1)vt=bt[rt],it[vt]=nt[vt];return it}function repeat(it,nt){var rt="",st;for(st=0;st<nt;st+=1)rt+=it;return rt}function isNegativeZero(it){return it===0&&Number.NEGATIVE_INFINITY===1/it}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(it,nt){var rt="",st=it.reason||"(unknown reason)";return it.mark?(it.mark.name&&(rt+='in "'+it.mark.name+'" '),rt+="("+(it.mark.line+1)+":"+(it.mark.column+1)+")",!nt&&it.mark.snippet&&(rt+=`

`+it.mark.snippet),st+" "+rt):st}function YAMLException$1(it,nt){Error.call(this),this.name="YAMLException",this.reason=it,this.mark=nt,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function it(nt){return this.name+": "+formatError(this,nt)};var exception=YAMLException$1;function getLine(it,nt,rt,st,vt){var bt="",_t="",wt=Math.floor(vt/2)-1;return st-nt>wt&&(bt=" ... ",nt=st-wt+bt.length),rt-st>wt&&(_t=" ...",rt=st+wt-_t.length),{str:bt+it.slice(nt,rt).replace(/\t/g,"\u2192")+_t,pos:st-nt+bt.length}}function padStart(it,nt){return common.repeat(" ",nt-it.length)+it}function makeSnippet(it,nt){if(nt=Object.create(nt||null),!it.buffer)return null;nt.maxLength||(nt.maxLength=79),typeof nt.indent!="number"&&(nt.indent=1),typeof nt.linesBefore!="number"&&(nt.linesBefore=3),typeof nt.linesAfter!="number"&&(nt.linesAfter=2);for(var rt=/\r?\n|\r|\0/g,st=[0],vt=[],bt,_t=-1;bt=rt.exec(it.buffer);)vt.push(bt.index),st.push(bt.index+bt[0].length),it.position<=bt.index&&_t<0&&(_t=st.length-2);_t<0&&(_t=st.length-1);var wt="",Et,Tt,$t=Math.min(it.line+nt.linesAfter,vt.length).toString().length,Dt=nt.maxLength-(nt.indent+$t+3);for(Et=1;Et<=nt.linesBefore&&!(_t-Et<0);Et++)Tt=getLine(it.buffer,st[_t-Et],vt[_t-Et],it.position-(st[_t]-st[_t-Et]),Dt),wt=common.repeat(" ",nt.indent)+padStart((it.line-Et+1).toString(),$t)+" | "+Tt.str+`
`+wt;for(Tt=getLine(it.buffer,st[_t],vt[_t],it.position,Dt),wt+=common.repeat(" ",nt.indent)+padStart((it.line+1).toString(),$t)+" | "+Tt.str+`
`,wt+=common.repeat("-",nt.indent+$t+3+Tt.pos)+`^
`,Et=1;Et<=nt.linesAfter&&!(_t+Et>=vt.length);Et++)Tt=getLine(it.buffer,st[_t+Et],vt[_t+Et],it.position-(st[_t]-st[_t+Et]),Dt),wt+=common.repeat(" ",nt.indent)+padStart((it.line+Et+1).toString(),$t)+" | "+Tt.str+`
`;return wt.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(it){var nt={};return it!==null&&Object.keys(it).forEach(function(rt){it[rt].forEach(function(st){nt[String(st)]=rt})}),nt}function Type$1(it,nt){if(nt=nt||{},Object.keys(nt).forEach(function(rt){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(rt)===-1)throw new exception('Unknown option "'+rt+'" is met in definition of "'+it+'" YAML type.')}),this.options=nt,this.tag=it,this.kind=nt.kind||null,this.resolve=nt.resolve||function(){return!0},this.construct=nt.construct||function(rt){return rt},this.instanceOf=nt.instanceOf||null,this.predicate=nt.predicate||null,this.represent=nt.represent||null,this.representName=nt.representName||null,this.defaultStyle=nt.defaultStyle||null,this.multi=nt.multi||!1,this.styleAliases=compileStyleAliases(nt.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+it+'" YAML type.')}var type=Type$1;function compileList(it,nt){var rt=[];return it[nt].forEach(function(st){var vt=rt.length;rt.forEach(function(bt,_t){bt.tag===st.tag&&bt.kind===st.kind&&bt.multi===st.multi&&(vt=_t)}),rt[vt]=st}),rt}function compileMap(){var it={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},nt,rt;function st(vt){vt.multi?(it.multi[vt.kind].push(vt),it.multi.fallback.push(vt)):it[vt.kind][vt.tag]=it.fallback[vt.tag]=vt}for(nt=0,rt=arguments.length;nt<rt;nt+=1)arguments[nt].forEach(st);return it}function Schema$1(it){return this.extend(it)}Schema$1.prototype.extend=function it(nt){var rt=[],st=[];if(nt instanceof type)st.push(nt);else if(Array.isArray(nt))st=st.concat(nt);else if(nt&&(Array.isArray(nt.implicit)||Array.isArray(nt.explicit)))nt.implicit&&(rt=rt.concat(nt.implicit)),nt.explicit&&(st=st.concat(nt.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");rt.forEach(function(bt){if(!(bt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(bt.loadKind&&bt.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(bt.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),st.forEach(function(bt){if(!(bt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var vt=Object.create(Schema$1.prototype);return vt.implicit=(this.implicit||[]).concat(rt),vt.explicit=(this.explicit||[]).concat(st),vt.compiledImplicit=compileList(vt,"implicit"),vt.compiledExplicit=compileList(vt,"explicit"),vt.compiledTypeMap=compileMap(vt.compiledImplicit,vt.compiledExplicit),vt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(it){return it!==null?it:""}}),seq$1=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(it){return it!==null?it:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(it){return it!==null?it:{}}}),failsafe=new schema({explicit:[str,seq$1,map]});function resolveYamlNull(it){if(it===null)return!0;var nt=it.length;return nt===1&&it==="~"||nt===4&&(it==="null"||it==="Null"||it==="NULL")}function constructYamlNull(){return null}function isNull(it){return it===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(it){if(it===null)return!1;var nt=it.length;return nt===4&&(it==="true"||it==="True"||it==="TRUE")||nt===5&&(it==="false"||it==="False"||it==="FALSE")}function constructYamlBoolean(it){return it==="true"||it==="True"||it==="TRUE"}function isBoolean(it){return Object.prototype.toString.call(it)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(it){return it?"true":"false"},uppercase:function(it){return it?"TRUE":"FALSE"},camelcase:function(it){return it?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(it){return 48<=it&&it<=57||65<=it&&it<=70||97<=it&&it<=102}function isOctCode(it){return 48<=it&&it<=55}function isDecCode(it){return 48<=it&&it<=57}function resolveYamlInteger(it){if(it===null)return!1;var nt=it.length,rt=0,st=!1,vt;if(!nt)return!1;if(vt=it[rt],(vt==="-"||vt==="+")&&(vt=it[++rt]),vt==="0"){if(rt+1===nt)return!0;if(vt=it[++rt],vt==="b"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(vt!=="0"&&vt!=="1")return!1;st=!0}return st&&vt!=="_"}if(vt==="x"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isHexCode(it.charCodeAt(rt)))return!1;st=!0}return st&&vt!=="_"}if(vt==="o"){for(rt++;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isOctCode(it.charCodeAt(rt)))return!1;st=!0}return st&&vt!=="_"}}if(vt==="_")return!1;for(;rt<nt;rt++)if(vt=it[rt],vt!=="_"){if(!isDecCode(it.charCodeAt(rt)))return!1;st=!0}return!(!st||vt==="_")}function constructYamlInteger(it){var nt=it,rt=1,st;if(nt.indexOf("_")!==-1&&(nt=nt.replace(/_/g,"")),st=nt[0],(st==="-"||st==="+")&&(st==="-"&&(rt=-1),nt=nt.slice(1),st=nt[0]),nt==="0")return 0;if(st==="0"){if(nt[1]==="b")return rt*parseInt(nt.slice(2),2);if(nt[1]==="x")return rt*parseInt(nt.slice(2),16);if(nt[1]==="o")return rt*parseInt(nt.slice(2),8)}return rt*parseInt(nt,10)}function isInteger(it){return Object.prototype.toString.call(it)==="[object Number]"&&it%1===0&&!common.isNegativeZero(it)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(it){return it>=0?"0b"+it.toString(2):"-0b"+it.toString(2).slice(1)},octal:function(it){return it>=0?"0o"+it.toString(8):"-0o"+it.toString(8).slice(1)},decimal:function(it){return it.toString(10)},hexadecimal:function(it){return it>=0?"0x"+it.toString(16).toUpperCase():"-0x"+it.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(it){return!(it===null||!YAML_FLOAT_PATTERN.test(it)||it[it.length-1]==="_")}function constructYamlFloat(it){var nt,rt;return nt=it.replace(/_/g,"").toLowerCase(),rt=nt[0]==="-"?-1:1,"+-".indexOf(nt[0])>=0&&(nt=nt.slice(1)),nt===".inf"?rt===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:nt===".nan"?NaN:rt*parseFloat(nt,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(it,nt){var rt;if(isNaN(it))switch(nt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===it)switch(nt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===it)switch(nt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(it))return"-0.0";return rt=it.toString(10),SCIENTIFIC_WITHOUT_DOT.test(rt)?rt.replace("e",".e"):rt}function isFloat(it){return Object.prototype.toString.call(it)==="[object Number]"&&(it%1!==0||common.isNegativeZero(it))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(it){return it===null?!1:YAML_DATE_REGEXP.exec(it)!==null||YAML_TIMESTAMP_REGEXP.exec(it)!==null}function constructYamlTimestamp(it){var nt,rt,st,vt,bt,_t,wt,Et=0,Tt=null,$t,Dt,Lt;if(nt=YAML_DATE_REGEXP.exec(it),nt===null&&(nt=YAML_TIMESTAMP_REGEXP.exec(it)),nt===null)throw new Error("Date resolve error");if(rt=+nt[1],st=+nt[2]-1,vt=+nt[3],!nt[4])return new Date(Date.UTC(rt,st,vt));if(bt=+nt[4],_t=+nt[5],wt=+nt[6],nt[7]){for(Et=nt[7].slice(0,3);Et.length<3;)Et+="0";Et=+Et}return nt[9]&&($t=+nt[10],Dt=+(nt[11]||0),Tt=($t*60+Dt)*6e4,nt[9]==="-"&&(Tt=-Tt)),Lt=new Date(Date.UTC(rt,st,vt,bt,_t,wt,Et)),Tt&&Lt.setTime(Lt.getTime()-Tt),Lt}function representYamlTimestamp(it){return it.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(it){return it==="<<"||it===null}var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(it){if(it===null)return!1;var nt,rt,st=0,vt=it.length,bt=BASE64_MAP;for(rt=0;rt<vt;rt++)if(nt=bt.indexOf(it.charAt(rt)),!(nt>64)){if(nt<0)return!1;st+=6}return st%8===0}function constructYamlBinary(it){var nt,rt,st=it.replace(/[\r\n=]/g,""),vt=st.length,bt=BASE64_MAP,_t=0,wt=[];for(nt=0;nt<vt;nt++)nt%4===0&&nt&&(wt.push(_t>>16&255),wt.push(_t>>8&255),wt.push(_t&255)),_t=_t<<6|bt.indexOf(st.charAt(nt));return rt=vt%4*6,rt===0?(wt.push(_t>>16&255),wt.push(_t>>8&255),wt.push(_t&255)):rt===18?(wt.push(_t>>10&255),wt.push(_t>>2&255)):rt===12&&wt.push(_t>>4&255),new Uint8Array(wt)}function representYamlBinary(it){var nt="",rt=0,st,vt,bt=it.length,_t=BASE64_MAP;for(st=0;st<bt;st++)st%3===0&&st&&(nt+=_t[rt>>18&63],nt+=_t[rt>>12&63],nt+=_t[rt>>6&63],nt+=_t[rt&63]),rt=(rt<<8)+it[st];return vt=bt%3,vt===0?(nt+=_t[rt>>18&63],nt+=_t[rt>>12&63],nt+=_t[rt>>6&63],nt+=_t[rt&63]):vt===2?(nt+=_t[rt>>10&63],nt+=_t[rt>>4&63],nt+=_t[rt<<2&63],nt+=_t[64]):vt===1&&(nt+=_t[rt>>2&63],nt+=_t[rt<<4&63],nt+=_t[64],nt+=_t[64]),nt}function isBinary(it){return Object.prototype.toString.call(it)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(it){if(it===null)return!0;var nt=[],rt,st,vt,bt,_t,wt=it;for(rt=0,st=wt.length;rt<st;rt+=1){if(vt=wt[rt],_t=!1,_toString$2.call(vt)!=="[object Object]")return!1;for(bt in vt)if(_hasOwnProperty$3.call(vt,bt))if(!_t)_t=!0;else return!1;if(!_t)return!1;if(nt.indexOf(bt)===-1)nt.push(bt);else return!1}return!0}function constructYamlOmap(it){return it!==null?it:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(it){if(it===null)return!0;var nt,rt,st,vt,bt,_t=it;for(bt=new Array(_t.length),nt=0,rt=_t.length;nt<rt;nt+=1){if(st=_t[nt],_toString$1.call(st)!=="[object Object]"||(vt=Object.keys(st),vt.length!==1))return!1;bt[nt]=[vt[0],st[vt[0]]]}return!0}function constructYamlPairs(it){if(it===null)return[];var nt,rt,st,vt,bt,_t=it;for(bt=new Array(_t.length),nt=0,rt=_t.length;nt<rt;nt+=1)st=_t[nt],vt=Object.keys(st),bt[nt]=[vt[0],st[vt[0]]];return bt}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(it){if(it===null)return!0;var nt,rt=it;for(nt in rt)if(_hasOwnProperty$2.call(rt,nt)&&rt[nt]!==null)return!1;return!0}function constructYamlSet(it){return it!==null?it:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(it){return Object.prototype.toString.call(it)}function is_EOL(it){return it===10||it===13}function is_WHITE_SPACE(it){return it===9||it===32}function is_WS_OR_EOL(it){return it===9||it===32||it===10||it===13}function is_FLOW_INDICATOR(it){return it===44||it===91||it===93||it===123||it===125}function fromHexCode(it){var nt;return 48<=it&&it<=57?it-48:(nt=it|32,97<=nt&&nt<=102?nt-97+10:-1)}function escapedHexLen(it){return it===120?2:it===117?4:it===85?8:0}function fromDecimalCode(it){return 48<=it&&it<=57?it-48:-1}function simpleEscapeSequence(it){return it===48?"\0":it===97?"\x07":it===98?"\b":it===116||it===9?"	":it===110?`
`:it===118?"\v":it===102?"\f":it===114?"\r":it===101?"\x1B":it===32?" ":it===34?'"':it===47?"/":it===92?"\\":it===78?"\x85":it===95?"\xA0":it===76?"\u2028":it===80?"\u2029":""}function charFromCodepoint(it){return it<=65535?String.fromCharCode(it):String.fromCharCode((it-65536>>10)+55296,(it-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(it,nt){this.input=it,this.filename=nt.filename||null,this.schema=nt.schema||_default,this.onWarning=nt.onWarning||null,this.legacy=nt.legacy||!1,this.json=nt.json||!1,this.listener=nt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=it.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(it,nt){var rt={name:it.filename,buffer:it.input.slice(0,-1),position:it.position,line:it.line,column:it.position-it.lineStart};return rt.snippet=snippet(rt),new exception(nt,rt)}function throwError(it,nt){throw generateError(it,nt)}function throwWarning(it,nt){it.onWarning&&it.onWarning.call(null,generateError(it,nt))}var directiveHandlers={YAML:function it(nt,rt,st){var vt,bt,_t;nt.version!==null&&throwError(nt,"duplication of %YAML directive"),st.length!==1&&throwError(nt,"YAML directive accepts exactly one argument"),vt=/^([0-9]+)\.([0-9]+)$/.exec(st[0]),vt===null&&throwError(nt,"ill-formed argument of the YAML directive"),bt=parseInt(vt[1],10),_t=parseInt(vt[2],10),bt!==1&&throwError(nt,"unacceptable YAML version of the document"),nt.version=st[0],nt.checkLineBreaks=_t<2,_t!==1&&_t!==2&&throwWarning(nt,"unsupported YAML version of the document")},TAG:function it(nt,rt,st){var vt,bt;st.length!==2&&throwError(nt,"TAG directive accepts exactly two arguments"),vt=st[0],bt=st[1],PATTERN_TAG_HANDLE.test(vt)||throwError(nt,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(nt.tagMap,vt)&&throwError(nt,'there is a previously declared suffix for "'+vt+'" tag handle'),PATTERN_TAG_URI.test(bt)||throwError(nt,"ill-formed tag prefix (second argument) of the TAG directive");try{bt=decodeURIComponent(bt)}catch{throwError(nt,"tag prefix is malformed: "+bt)}nt.tagMap[vt]=bt}};function captureSegment(it,nt,rt,st){var vt,bt,_t,wt;if(nt<rt){if(wt=it.input.slice(nt,rt),st)for(vt=0,bt=wt.length;vt<bt;vt+=1)_t=wt.charCodeAt(vt),_t===9||32<=_t&&_t<=1114111||throwError(it,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(wt)&&throwError(it,"the stream contains non-printable characters");it.result+=wt}}function mergeMappings(it,nt,rt,st){var vt,bt,_t,wt;for(common.isObject(rt)||throwError(it,"cannot merge mappings; the provided source object is unacceptable"),vt=Object.keys(rt),_t=0,wt=vt.length;_t<wt;_t+=1)bt=vt[_t],_hasOwnProperty$1.call(nt,bt)||(nt[bt]=rt[bt],st[bt]=!0)}function storeMappingPair(it,nt,rt,st,vt,bt,_t,wt,Et){var Tt,$t;if(Array.isArray(vt))for(vt=Array.prototype.slice.call(vt),Tt=0,$t=vt.length;Tt<$t;Tt+=1)Array.isArray(vt[Tt])&&throwError(it,"nested arrays are not supported inside keys"),typeof vt=="object"&&_class(vt[Tt])==="[object Object]"&&(vt[Tt]="[object Object]");if(typeof vt=="object"&&_class(vt)==="[object Object]"&&(vt="[object Object]"),vt=String(vt),nt===null&&(nt={}),st==="tag:yaml.org,2002:merge")if(Array.isArray(bt))for(Tt=0,$t=bt.length;Tt<$t;Tt+=1)mergeMappings(it,nt,bt[Tt],rt);else mergeMappings(it,nt,bt,rt);else!it.json&&!_hasOwnProperty$1.call(rt,vt)&&_hasOwnProperty$1.call(nt,vt)&&(it.line=_t||it.line,it.lineStart=wt||it.lineStart,it.position=Et||it.position,throwError(it,"duplicated mapping key")),vt==="__proto__"?Object.defineProperty(nt,vt,{configurable:!0,enumerable:!0,writable:!0,value:bt}):nt[vt]=bt,delete rt[vt];return nt}function readLineBreak(it){var nt;nt=it.input.charCodeAt(it.position),nt===10?it.position++:nt===13?(it.position++,it.input.charCodeAt(it.position)===10&&it.position++):throwError(it,"a line break is expected"),it.line+=1,it.lineStart=it.position,it.firstTabInLine=-1}function skipSeparationSpace(it,nt,rt){for(var st=0,vt=it.input.charCodeAt(it.position);vt!==0;){for(;is_WHITE_SPACE(vt);)vt===9&&it.firstTabInLine===-1&&(it.firstTabInLine=it.position),vt=it.input.charCodeAt(++it.position);if(nt&&vt===35)do vt=it.input.charCodeAt(++it.position);while(vt!==10&&vt!==13&&vt!==0);if(is_EOL(vt))for(readLineBreak(it),vt=it.input.charCodeAt(it.position),st++,it.lineIndent=0;vt===32;)it.lineIndent++,vt=it.input.charCodeAt(++it.position);else break}return rt!==-1&&st!==0&&it.lineIndent<rt&&throwWarning(it,"deficient indentation"),st}function testDocumentSeparator(it){var nt=it.position,rt;return rt=it.input.charCodeAt(nt),!!((rt===45||rt===46)&&rt===it.input.charCodeAt(nt+1)&&rt===it.input.charCodeAt(nt+2)&&(nt+=3,rt=it.input.charCodeAt(nt),rt===0||is_WS_OR_EOL(rt)))}function writeFoldedLines(it,nt){nt===1?it.result+=" ":nt>1&&(it.result+=common.repeat(`
`,nt-1))}function readPlainScalar(it,nt,rt){var st,vt,bt,_t,wt,Et,Tt,$t,Dt=it.kind,Lt=it.result,Bt;if(Bt=it.input.charCodeAt(it.position),is_WS_OR_EOL(Bt)||is_FLOW_INDICATOR(Bt)||Bt===35||Bt===38||Bt===42||Bt===33||Bt===124||Bt===62||Bt===39||Bt===34||Bt===37||Bt===64||Bt===96||(Bt===63||Bt===45)&&(vt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL(vt)||rt&&is_FLOW_INDICATOR(vt)))return!1;for(it.kind="scalar",it.result="",bt=_t=it.position,wt=!1;Bt!==0;){if(Bt===58){if(vt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL(vt)||rt&&is_FLOW_INDICATOR(vt))break}else if(Bt===35){if(st=it.input.charCodeAt(it.position-1),is_WS_OR_EOL(st))break}else{if(it.position===it.lineStart&&testDocumentSeparator(it)||rt&&is_FLOW_INDICATOR(Bt))break;if(is_EOL(Bt))if(Et=it.line,Tt=it.lineStart,$t=it.lineIndent,skipSeparationSpace(it,!1,-1),it.lineIndent>=nt){wt=!0,Bt=it.input.charCodeAt(it.position);continue}else{it.position=_t,it.line=Et,it.lineStart=Tt,it.lineIndent=$t;break}}wt&&(captureSegment(it,bt,_t,!1),writeFoldedLines(it,it.line-Et),bt=_t=it.position,wt=!1),is_WHITE_SPACE(Bt)||(_t=it.position+1),Bt=it.input.charCodeAt(++it.position)}return captureSegment(it,bt,_t,!1),it.result?!0:(it.kind=Dt,it.result=Lt,!1)}function readSingleQuotedScalar(it,nt){var rt,st,vt;if(rt=it.input.charCodeAt(it.position),rt!==39)return!1;for(it.kind="scalar",it.result="",it.position++,st=vt=it.position;(rt=it.input.charCodeAt(it.position))!==0;)if(rt===39)if(captureSegment(it,st,it.position,!0),rt=it.input.charCodeAt(++it.position),rt===39)st=it.position,it.position++,vt=it.position;else return!0;else is_EOL(rt)?(captureSegment(it,st,vt,!0),writeFoldedLines(it,skipSeparationSpace(it,!1,nt)),st=vt=it.position):it.position===it.lineStart&&testDocumentSeparator(it)?throwError(it,"unexpected end of the document within a single quoted scalar"):(it.position++,vt=it.position);throwError(it,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(it,nt){var rt,st,vt,bt,_t,wt;if(wt=it.input.charCodeAt(it.position),wt!==34)return!1;for(it.kind="scalar",it.result="",it.position++,rt=st=it.position;(wt=it.input.charCodeAt(it.position))!==0;){if(wt===34)return captureSegment(it,rt,it.position,!0),it.position++,!0;if(wt===92){if(captureSegment(it,rt,it.position,!0),wt=it.input.charCodeAt(++it.position),is_EOL(wt))skipSeparationSpace(it,!1,nt);else if(wt<256&&simpleEscapeCheck[wt])it.result+=simpleEscapeMap[wt],it.position++;else if((_t=escapedHexLen(wt))>0){for(vt=_t,bt=0;vt>0;vt--)wt=it.input.charCodeAt(++it.position),(_t=fromHexCode(wt))>=0?bt=(bt<<4)+_t:throwError(it,"expected hexadecimal character");it.result+=charFromCodepoint(bt),it.position++}else throwError(it,"unknown escape sequence");rt=st=it.position}else is_EOL(wt)?(captureSegment(it,rt,st,!0),writeFoldedLines(it,skipSeparationSpace(it,!1,nt)),rt=st=it.position):it.position===it.lineStart&&testDocumentSeparator(it)?throwError(it,"unexpected end of the document within a double quoted scalar"):(it.position++,st=it.position)}throwError(it,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(it,nt){var rt=!0,st,vt,bt,_t=it.tag,wt,Et=it.anchor,Tt,$t,Dt,Lt,Bt,Ht=Object.create(null),Ut,It,jt,Wt;if(Wt=it.input.charCodeAt(it.position),Wt===91)$t=93,Bt=!1,wt=[];else if(Wt===123)$t=125,Bt=!0,wt={};else return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=wt),Wt=it.input.charCodeAt(++it.position);Wt!==0;){if(skipSeparationSpace(it,!0,nt),Wt=it.input.charCodeAt(it.position),Wt===$t)return it.position++,it.tag=_t,it.anchor=Et,it.kind=Bt?"mapping":"sequence",it.result=wt,!0;rt?Wt===44&&throwError(it,"expected the node content, but found ','"):throwError(it,"missed comma between flow collection entries"),It=Ut=jt=null,Dt=Lt=!1,Wt===63&&(Tt=it.input.charCodeAt(it.position+1),is_WS_OR_EOL(Tt)&&(Dt=Lt=!0,it.position++,skipSeparationSpace(it,!0,nt))),st=it.line,vt=it.lineStart,bt=it.position,composeNode(it,nt,CONTEXT_FLOW_IN,!1,!0),It=it.tag,Ut=it.result,skipSeparationSpace(it,!0,nt),Wt=it.input.charCodeAt(it.position),(Lt||it.line===st)&&Wt===58&&(Dt=!0,Wt=it.input.charCodeAt(++it.position),skipSeparationSpace(it,!0,nt),composeNode(it,nt,CONTEXT_FLOW_IN,!1,!0),jt=it.result),Bt?storeMappingPair(it,wt,Ht,It,Ut,jt,st,vt,bt):Dt?wt.push(storeMappingPair(it,null,Ht,It,Ut,jt,st,vt,bt)):wt.push(Ut),skipSeparationSpace(it,!0,nt),Wt=it.input.charCodeAt(it.position),Wt===44?(rt=!0,Wt=it.input.charCodeAt(++it.position)):rt=!1}throwError(it,"unexpected end of the stream within a flow collection")}function readBlockScalar(it,nt){var rt,st,vt=CHOMPING_CLIP,bt=!1,_t=!1,wt=nt,Et=0,Tt=!1,$t,Dt;if(Dt=it.input.charCodeAt(it.position),Dt===124)st=!1;else if(Dt===62)st=!0;else return!1;for(it.kind="scalar",it.result="";Dt!==0;)if(Dt=it.input.charCodeAt(++it.position),Dt===43||Dt===45)CHOMPING_CLIP===vt?vt=Dt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(it,"repeat of a chomping mode identifier");else if(($t=fromDecimalCode(Dt))>=0)$t===0?throwError(it,"bad explicit indentation width of a block scalar; it cannot be less than one"):_t?throwError(it,"repeat of an indentation width identifier"):(wt=nt+$t-1,_t=!0);else break;if(is_WHITE_SPACE(Dt)){do Dt=it.input.charCodeAt(++it.position);while(is_WHITE_SPACE(Dt));if(Dt===35)do Dt=it.input.charCodeAt(++it.position);while(!is_EOL(Dt)&&Dt!==0)}for(;Dt!==0;){for(readLineBreak(it),it.lineIndent=0,Dt=it.input.charCodeAt(it.position);(!_t||it.lineIndent<wt)&&Dt===32;)it.lineIndent++,Dt=it.input.charCodeAt(++it.position);if(!_t&&it.lineIndent>wt&&(wt=it.lineIndent),is_EOL(Dt)){Et++;continue}if(it.lineIndent<wt){vt===CHOMPING_KEEP?it.result+=common.repeat(`
`,bt?1+Et:Et):vt===CHOMPING_CLIP&&bt&&(it.result+=`
`);break}for(st?is_WHITE_SPACE(Dt)?(Tt=!0,it.result+=common.repeat(`
`,bt?1+Et:Et)):Tt?(Tt=!1,it.result+=common.repeat(`
`,Et+1)):Et===0?bt&&(it.result+=" "):it.result+=common.repeat(`
`,Et):it.result+=common.repeat(`
`,bt?1+Et:Et),bt=!0,_t=!0,Et=0,rt=it.position;!is_EOL(Dt)&&Dt!==0;)Dt=it.input.charCodeAt(++it.position);captureSegment(it,rt,it.position,!1)}return!0}function readBlockSequence(it,nt){var rt,st=it.tag,vt=it.anchor,bt=[],_t,wt=!1,Et;if(it.firstTabInLine!==-1)return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=bt),Et=it.input.charCodeAt(it.position);Et!==0&&(it.firstTabInLine!==-1&&(it.position=it.firstTabInLine,throwError(it,"tab characters must not be used in indentation")),!(Et!==45||(_t=it.input.charCodeAt(it.position+1),!is_WS_OR_EOL(_t))));){if(wt=!0,it.position++,skipSeparationSpace(it,!0,-1)&&it.lineIndent<=nt){bt.push(null),Et=it.input.charCodeAt(it.position);continue}if(rt=it.line,composeNode(it,nt,CONTEXT_BLOCK_IN,!1,!0),bt.push(it.result),skipSeparationSpace(it,!0,-1),Et=it.input.charCodeAt(it.position),(it.line===rt||it.lineIndent>nt)&&Et!==0)throwError(it,"bad indentation of a sequence entry");else if(it.lineIndent<nt)break}return wt?(it.tag=st,it.anchor=vt,it.kind="sequence",it.result=bt,!0):!1}function readBlockMapping(it,nt,rt){var st,vt,bt,_t,wt,Et,Tt=it.tag,$t=it.anchor,Dt={},Lt=Object.create(null),Bt=null,Ht=null,Ut=null,It=!1,jt=!1,Wt;if(it.firstTabInLine!==-1)return!1;for(it.anchor!==null&&(it.anchorMap[it.anchor]=Dt),Wt=it.input.charCodeAt(it.position);Wt!==0;){if(!It&&it.firstTabInLine!==-1&&(it.position=it.firstTabInLine,throwError(it,"tab characters must not be used in indentation")),st=it.input.charCodeAt(it.position+1),bt=it.line,(Wt===63||Wt===58)&&is_WS_OR_EOL(st))Wt===63?(It&&(storeMappingPair(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),Bt=Ht=Ut=null),jt=!0,It=!0,vt=!0):It?(It=!1,vt=!0):throwError(it,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),it.position+=1,Wt=st;else{if(_t=it.line,wt=it.lineStart,Et=it.position,!composeNode(it,rt,CONTEXT_FLOW_OUT,!1,!0))break;if(it.line===bt){for(Wt=it.input.charCodeAt(it.position);is_WHITE_SPACE(Wt);)Wt=it.input.charCodeAt(++it.position);if(Wt===58)Wt=it.input.charCodeAt(++it.position),is_WS_OR_EOL(Wt)||throwError(it,"a whitespace character is expected after the key-value separator within a block mapping"),It&&(storeMappingPair(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),Bt=Ht=Ut=null),jt=!0,It=!1,vt=!1,Bt=it.tag,Ht=it.result;else if(jt)throwError(it,"can not read an implicit mapping pair; a colon is missed");else return it.tag=Tt,it.anchor=$t,!0}else if(jt)throwError(it,"can not read a block mapping entry; a multiline key may not be an implicit key");else return it.tag=Tt,it.anchor=$t,!0}if((it.line===bt||it.lineIndent>nt)&&(It&&(_t=it.line,wt=it.lineStart,Et=it.position),composeNode(it,nt,CONTEXT_BLOCK_OUT,!0,vt)&&(It?Ht=it.result:Ut=it.result),It||(storeMappingPair(it,Dt,Lt,Bt,Ht,Ut,_t,wt,Et),Bt=Ht=Ut=null),skipSeparationSpace(it,!0,-1),Wt=it.input.charCodeAt(it.position)),(it.line===bt||it.lineIndent>nt)&&Wt!==0)throwError(it,"bad indentation of a mapping entry");else if(it.lineIndent<nt)break}return It&&storeMappingPair(it,Dt,Lt,Bt,Ht,null,_t,wt,Et),jt&&(it.tag=Tt,it.anchor=$t,it.kind="mapping",it.result=Dt),jt}function readTagProperty(it){var nt,rt=!1,st=!1,vt,bt,_t;if(_t=it.input.charCodeAt(it.position),_t!==33)return!1;if(it.tag!==null&&throwError(it,"duplication of a tag property"),_t=it.input.charCodeAt(++it.position),_t===60?(rt=!0,_t=it.input.charCodeAt(++it.position)):_t===33?(st=!0,vt="!!",_t=it.input.charCodeAt(++it.position)):vt="!",nt=it.position,rt){do _t=it.input.charCodeAt(++it.position);while(_t!==0&&_t!==62);it.position<it.length?(bt=it.input.slice(nt,it.position),_t=it.input.charCodeAt(++it.position)):throwError(it,"unexpected end of the stream within a verbatim tag")}else{for(;_t!==0&&!is_WS_OR_EOL(_t);)_t===33&&(st?throwError(it,"tag suffix cannot contain exclamation marks"):(vt=it.input.slice(nt-1,it.position+1),PATTERN_TAG_HANDLE.test(vt)||throwError(it,"named tag handle cannot contain such characters"),st=!0,nt=it.position+1)),_t=it.input.charCodeAt(++it.position);bt=it.input.slice(nt,it.position),PATTERN_FLOW_INDICATORS.test(bt)&&throwError(it,"tag suffix cannot contain flow indicator characters")}bt&&!PATTERN_TAG_URI.test(bt)&&throwError(it,"tag name cannot contain such characters: "+bt);try{bt=decodeURIComponent(bt)}catch{throwError(it,"tag name is malformed: "+bt)}return rt?it.tag=bt:_hasOwnProperty$1.call(it.tagMap,vt)?it.tag=it.tagMap[vt]+bt:vt==="!"?it.tag="!"+bt:vt==="!!"?it.tag="tag:yaml.org,2002:"+bt:throwError(it,'undeclared tag handle "'+vt+'"'),!0}function readAnchorProperty(it){var nt,rt;if(rt=it.input.charCodeAt(it.position),rt!==38)return!1;for(it.anchor!==null&&throwError(it,"duplication of an anchor property"),rt=it.input.charCodeAt(++it.position),nt=it.position;rt!==0&&!is_WS_OR_EOL(rt)&&!is_FLOW_INDICATOR(rt);)rt=it.input.charCodeAt(++it.position);return it.position===nt&&throwError(it,"name of an anchor node must contain at least one character"),it.anchor=it.input.slice(nt,it.position),!0}function readAlias(it){var nt,rt,st;if(st=it.input.charCodeAt(it.position),st!==42)return!1;for(st=it.input.charCodeAt(++it.position),nt=it.position;st!==0&&!is_WS_OR_EOL(st)&&!is_FLOW_INDICATOR(st);)st=it.input.charCodeAt(++it.position);return it.position===nt&&throwError(it,"name of an alias node must contain at least one character"),rt=it.input.slice(nt,it.position),_hasOwnProperty$1.call(it.anchorMap,rt)||throwError(it,'unidentified alias "'+rt+'"'),it.result=it.anchorMap[rt],skipSeparationSpace(it,!0,-1),!0}function composeNode(it,nt,rt,st,vt){var bt,_t,wt,Et=1,Tt=!1,$t=!1,Dt,Lt,Bt,Ht,Ut,It;if(it.listener!==null&&it.listener("open",it),it.tag=null,it.anchor=null,it.kind=null,it.result=null,bt=_t=wt=CONTEXT_BLOCK_OUT===rt||CONTEXT_BLOCK_IN===rt,st&&skipSeparationSpace(it,!0,-1)&&(Tt=!0,it.lineIndent>nt?Et=1:it.lineIndent===nt?Et=0:it.lineIndent<nt&&(Et=-1)),Et===1)for(;readTagProperty(it)||readAnchorProperty(it);)skipSeparationSpace(it,!0,-1)?(Tt=!0,wt=bt,it.lineIndent>nt?Et=1:it.lineIndent===nt?Et=0:it.lineIndent<nt&&(Et=-1)):wt=!1;if(wt&&(wt=Tt||vt),(Et===1||CONTEXT_BLOCK_OUT===rt)&&(CONTEXT_FLOW_IN===rt||CONTEXT_FLOW_OUT===rt?Ut=nt:Ut=nt+1,It=it.position-it.lineStart,Et===1?wt&&(readBlockSequence(it,It)||readBlockMapping(it,It,Ut))||readFlowCollection(it,Ut)?$t=!0:(_t&&readBlockScalar(it,Ut)||readSingleQuotedScalar(it,Ut)||readDoubleQuotedScalar(it,Ut)?$t=!0:readAlias(it)?($t=!0,(it.tag!==null||it.anchor!==null)&&throwError(it,"alias node should not have any properties")):readPlainScalar(it,Ut,CONTEXT_FLOW_IN===rt)&&($t=!0,it.tag===null&&(it.tag="?")),it.anchor!==null&&(it.anchorMap[it.anchor]=it.result)):Et===0&&($t=wt&&readBlockSequence(it,It))),it.tag===null)it.anchor!==null&&(it.anchorMap[it.anchor]=it.result);else if(it.tag==="?"){for(it.result!==null&&it.kind!=="scalar"&&throwError(it,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+it.kind+'"'),Dt=0,Lt=it.implicitTypes.length;Dt<Lt;Dt+=1)if(Ht=it.implicitTypes[Dt],Ht.resolve(it.result)){it.result=Ht.construct(it.result),it.tag=Ht.tag,it.anchor!==null&&(it.anchorMap[it.anchor]=it.result);break}}else if(it.tag!=="!"){if(_hasOwnProperty$1.call(it.typeMap[it.kind||"fallback"],it.tag))Ht=it.typeMap[it.kind||"fallback"][it.tag];else for(Ht=null,Bt=it.typeMap.multi[it.kind||"fallback"],Dt=0,Lt=Bt.length;Dt<Lt;Dt+=1)if(it.tag.slice(0,Bt[Dt].tag.length)===Bt[Dt].tag){Ht=Bt[Dt];break}Ht||throwError(it,"unknown tag !<"+it.tag+">"),it.result!==null&&Ht.kind!==it.kind&&throwError(it,"unacceptable node kind for !<"+it.tag+'> tag; it should be "'+Ht.kind+'", not "'+it.kind+'"'),Ht.resolve(it.result,it.tag)?(it.result=Ht.construct(it.result,it.tag),it.anchor!==null&&(it.anchorMap[it.anchor]=it.result)):throwError(it,"cannot resolve a node with !<"+it.tag+"> explicit tag")}return it.listener!==null&&it.listener("close",it),it.tag!==null||it.anchor!==null||$t}function readDocument(it){var nt=it.position,rt,st,vt,bt=!1,_t;for(it.version=null,it.checkLineBreaks=it.legacy,it.tagMap=Object.create(null),it.anchorMap=Object.create(null);(_t=it.input.charCodeAt(it.position))!==0&&(skipSeparationSpace(it,!0,-1),_t=it.input.charCodeAt(it.position),!(it.lineIndent>0||_t!==37));){for(bt=!0,_t=it.input.charCodeAt(++it.position),rt=it.position;_t!==0&&!is_WS_OR_EOL(_t);)_t=it.input.charCodeAt(++it.position);for(st=it.input.slice(rt,it.position),vt=[],st.length<1&&throwError(it,"directive name must not be less than one character in length");_t!==0;){for(;is_WHITE_SPACE(_t);)_t=it.input.charCodeAt(++it.position);if(_t===35){do _t=it.input.charCodeAt(++it.position);while(_t!==0&&!is_EOL(_t));break}if(is_EOL(_t))break;for(rt=it.position;_t!==0&&!is_WS_OR_EOL(_t);)_t=it.input.charCodeAt(++it.position);vt.push(it.input.slice(rt,it.position))}_t!==0&&readLineBreak(it),_hasOwnProperty$1.call(directiveHandlers,st)?directiveHandlers[st](it,st,vt):throwWarning(it,'unknown document directive "'+st+'"')}if(skipSeparationSpace(it,!0,-1),it.lineIndent===0&&it.input.charCodeAt(it.position)===45&&it.input.charCodeAt(it.position+1)===45&&it.input.charCodeAt(it.position+2)===45?(it.position+=3,skipSeparationSpace(it,!0,-1)):bt&&throwError(it,"directives end mark is expected"),composeNode(it,it.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(it,!0,-1),it.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(it.input.slice(nt,it.position))&&throwWarning(it,"non-ASCII line breaks are interpreted as content"),it.documents.push(it.result),it.position===it.lineStart&&testDocumentSeparator(it)){it.input.charCodeAt(it.position)===46&&(it.position+=3,skipSeparationSpace(it,!0,-1));return}if(it.position<it.length-1)throwError(it,"end of the stream or a document separator is expected");else return}function loadDocuments(it,nt){it=String(it),nt=nt||{},it.length!==0&&(it.charCodeAt(it.length-1)!==10&&it.charCodeAt(it.length-1)!==13&&(it+=`
`),it.charCodeAt(0)===65279&&(it=it.slice(1)));var rt=new State$1(it,nt),st=it.indexOf("\0");for(st!==-1&&(rt.position=st,throwError(rt,"null byte is not allowed in input")),rt.input+="\0";rt.input.charCodeAt(rt.position)===32;)rt.lineIndent+=1,rt.position+=1;for(;rt.position<rt.length-1;)readDocument(rt);return rt.documents}function loadAll$1(it,nt,rt){nt!==null&&typeof nt=="object"&&typeof rt>"u"&&(rt=nt,nt=null);var st=loadDocuments(it,rt);if(typeof nt!="function")return st;for(var vt=0,bt=st.length;vt<bt;vt+=1)nt(st[vt])}function load$1(it,nt){var rt=loadDocuments(it,nt);if(rt.length!==0){if(rt.length===1)return rt[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},FAILSAFE_SCHEMA=failsafe,load=loader.load;const frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function extractFrontMatter(it,nt){var rt;const st=it.match(frontMatterRegex);if(st){const vt=load(st[1],{schema:FAILSAFE_SCHEMA});return vt!=null&&vt.title&&((rt=nt.setDiagramTitle)==null||rt.call(nt,vt.title)),it.slice(st[0].length)}else return it}const directive$1=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyComment=/\s*%%.*\n/gm,detectors={},detectType=function(it,nt){it=it.replace(frontMatterRegex,"").replace(directive$1,"").replace(anyComment,`
`);for(const[rt,{detector:st}]of Object.entries(detectors))if(st(it,nt))return rt;throw new Error(`No diagram type detected for text: ${it}`)},addDetector=(it,nt,rt)=>{if(detectors[it])throw new Error(`Detector with key ${it} already exists`);detectors[it]={detector:nt,loader:rt},log$1.debug(`Detector with key ${it} added${rt?" with loader":""}`)},getDiagramLoader=it=>detectors[it].loader,assignWithDepth=function(it,nt,rt){const{depth:st,clobber:vt}=Object.assign({depth:2,clobber:!1},rt);return Array.isArray(nt)&&!Array.isArray(it)?(nt.forEach(bt=>assignWithDepth(it,bt,rt)),it):Array.isArray(nt)&&Array.isArray(it)?(nt.forEach(bt=>{it.includes(bt)||it.push(bt)}),it):it===void 0||st<=0?it!=null&&typeof it=="object"&&typeof nt=="object"?Object.assign(it,nt):nt:(nt!==void 0&&typeof it=="object"&&typeof nt=="object"&&Object.keys(nt).forEach(bt=>{typeof nt[bt]=="object"&&(it[bt]===void 0||typeof it[bt]=="object")?(it[bt]===void 0&&(it[bt]=Array.isArray(nt[bt])?[]:{}),it[bt]=assignWithDepth(it[bt],nt[bt],{depth:st-1,clobber:vt})):(vt||typeof it[bt]!="object"&&typeof nt[bt]!="object")&&(it[bt]=nt[bt])}),it)},assignWithDepth$1=assignWithDepth,d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directive=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(it,nt){const rt=detectDirective(it,/(?:init\b)|(?:initialize\b)/);let st={};if(Array.isArray(rt)){const vt=rt.map(bt=>bt.args);directiveSanitizer(vt),st=assignWithDepth$1(st,[...vt])}else st=rt.args;if(st){let vt=detectType(it,nt);["config"].forEach(bt=>{st[bt]!==void 0&&(vt==="flowchart-v2"&&(vt="flowchart"),st[vt]=st[bt],delete st[bt])})}return st},detectDirective=function(it,nt=null){try{const rt=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");it=it.trim().replace(rt,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${nt!==null?" type:"+nt:""} based on the text:${it}`);let st;const vt=[];for(;(st=directive.exec(it))!==null;)if(st.index===directive.lastIndex&&directive.lastIndex++,st&&!nt||nt&&st[1]&&st[1].match(nt)||nt&&st[2]&&st[2].match(nt)){const bt=st[1]?st[1]:st[2],_t=st[3]?st[3].trim():st[4]?JSON.parse(st[4].trim()):null;vt.push({type:bt,args:_t})}return vt.length===0&&vt.push({type:it,args:null}),vt.length===1?vt[0]:vt}catch(rt){return log$1.error(`ERROR: ${rt.message} - Unable to parse directive
      ${nt!==null?" type:"+nt:""} based on the text:${it}`),{type:null,args:null}}},isSubstringInArray=function(it,nt){for(const[rt,st]of nt.entries())if(st.match(it))return rt;return-1};function interpolateToCurve(it,nt){if(!it)return nt;const rt=`curve${it.charAt(0).toUpperCase()+it.slice(1)}`;return d3CurveTypes[rt]||nt}function formatUrl(it,nt){const rt=it.trim();if(rt)return nt.securityLevel!=="loose"?sanitizeUrl_1(rt):rt}const runFunc=(it,...nt)=>{const rt=it.split("."),st=rt.length-1,vt=rt[st];let bt=window;for(let _t=0;_t<st;_t++)if(bt=bt[rt[_t]],!bt)return;bt[vt](...nt)};function distance(it,nt){return it&&nt?Math.sqrt(Math.pow(nt.x-it.x,2)+Math.pow(nt.y-it.y,2)):0}function traverseEdge(it){let nt,rt=0;it.forEach(bt=>{rt+=distance(bt,nt),nt=bt});let st=rt/2,vt;return nt=void 0,it.forEach(bt=>{if(nt&&!vt){const _t=distance(bt,nt);if(_t<st)st-=_t;else{const wt=st/_t;wt<=0&&(vt=nt),wt>=1&&(vt={x:bt.x,y:bt.y}),wt>0&&wt<1&&(vt={x:(1-wt)*nt.x+wt*bt.x,y:(1-wt)*nt.y+wt*bt.y})}}nt=bt}),vt}function calcLabelPosition(it){return it.length===1?it[0]:traverseEdge(it)}const calcCardinalityPosition=(it,nt,rt)=>{let st;log$1.info(`our points ${JSON.stringify(nt)}`),nt[0]!==rt&&(nt=nt.reverse());let bt=25,_t;st=void 0,nt.forEach($t=>{if(st&&!_t){const Dt=distance($t,st);if(Dt<bt)bt-=Dt;else{const Lt=bt/Dt;Lt<=0&&(_t=st),Lt>=1&&(_t={x:$t.x,y:$t.y}),Lt>0&&Lt<1&&(_t={x:(1-Lt)*st.x+Lt*$t.x,y:(1-Lt)*st.y+Lt*$t.y})}}st=$t});const wt=it?10:5,Et=Math.atan2(nt[0].y-_t.y,nt[0].x-_t.x),Tt={x:0,y:0};return Tt.x=Math.sin(Et)*wt+(nt[0].x+_t.x)/2,Tt.y=-Math.cos(Et)*wt+(nt[0].y+_t.y)/2,Tt};function calcTerminalLabelPosition(it,nt,rt){let st=JSON.parse(JSON.stringify(rt)),vt;log$1.info("our points",st),nt!=="start_left"&&nt!=="start_right"&&(st=st.reverse()),st.forEach(Dt=>{vt=Dt});let _t=25+it,wt;vt=void 0,st.forEach(Dt=>{if(vt&&!wt){const Lt=distance(Dt,vt);if(Lt<_t)_t-=Lt;else{const Bt=_t/Lt;Bt<=0&&(wt=vt),Bt>=1&&(wt={x:Dt.x,y:Dt.y}),Bt>0&&Bt<1&&(wt={x:(1-Bt)*vt.x+Bt*Dt.x,y:(1-Bt)*vt.y+Bt*Dt.y})}}vt=Dt});const Et=10+it*.5,Tt=Math.atan2(st[0].y-wt.y,st[0].x-wt.x),$t={x:0,y:0};return $t.x=Math.sin(Tt)*Et+(st[0].x+wt.x)/2,$t.y=-Math.cos(Tt)*Et+(st[0].y+wt.y)/2,nt==="start_left"&&($t.x=Math.sin(Tt+Math.PI)*Et+(st[0].x+wt.x)/2,$t.y=-Math.cos(Tt+Math.PI)*Et+(st[0].y+wt.y)/2),nt==="end_right"&&($t.x=Math.sin(Tt-Math.PI)*Et+(st[0].x+wt.x)/2-5,$t.y=-Math.cos(Tt-Math.PI)*Et+(st[0].y+wt.y)/2-5),nt==="end_left"&&($t.x=Math.sin(Tt)*Et+(st[0].x+wt.x)/2-5,$t.y=-Math.cos(Tt)*Et+(st[0].y+wt.y)/2-5),$t}function getStylesFromArray(it){let nt="",rt="";for(const st of it)st!==void 0&&(st.startsWith("color:")||st.startsWith("text-align:")?rt=rt+st+";":nt=nt+st+";");return{style:nt,labelStyle:rt}}let cnt=0;const generateId$1=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeid(it){let nt="";const rt="0123456789abcdef",st=rt.length;for(let vt=0;vt<it;vt++)nt+=rt.charAt(Math.floor(Math.random()*st));return nt}const random=it=>makeid(it.length),getTextObj$2=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},drawSimpleText=function(it,nt){const rt=nt.text.replace(common$1.lineBreakRegex," "),st=it.append("text");st.attr("x",nt.x),st.attr("y",nt.y),st.style("text-anchor",nt.anchor),st.style("font-family",nt.fontFamily),st.style("font-size",nt.fontSize),st.style("font-weight",nt.fontWeight),st.attr("fill",nt.fill),nt.class!==void 0&&st.attr("class",nt.class);const vt=st.append("tspan");return vt.attr("x",nt.x+nt.textMargin*2),vt.attr("fill",nt.fill),vt.text(rt),st},wrapLabel=memoize((it,nt,rt)=>{if(!it||(rt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},rt),common$1.lineBreakRegex.test(it)))return it;const st=it.split(" "),vt=[];let bt="";return st.forEach((_t,wt)=>{const Et=calculateTextWidth(`${_t} `,rt),Tt=calculateTextWidth(bt,rt);if(Et>nt){const{hyphenatedStrings:Lt,remainingWord:Bt}=breakString(_t,nt,"-",rt);vt.push(bt,...Lt),bt=Bt}else Tt+Et>=nt?(vt.push(bt),bt=_t):bt=[bt,_t].filter(Boolean).join(" ");wt+1===st.length&&vt.push(bt)}),vt.filter(_t=>_t!=="").join(rt.joinWith)},(it,nt,rt)=>`${it}${nt}${rt.fontSize}${rt.fontWeight}${rt.fontFamily}${rt.joinWith}`),breakString=memoize((it,nt,rt="-",st)=>{st=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},st);const vt=[...it],bt=[];let _t="";return vt.forEach((wt,Et)=>{const Tt=`${_t}${wt}`;if(calculateTextWidth(Tt,st)>=nt){const Dt=Et+1,Lt=vt.length===Dt,Bt=`${Tt}${rt}`;bt.push(Lt?Tt:Bt),_t=""}else _t=Tt}),{hyphenatedStrings:bt,remainingWord:_t}},(it,nt,rt="-",st)=>`${it}${nt}${rt}${st.fontSize}${st.fontWeight}${st.fontFamily}`);function calculateTextHeight(it,nt){return nt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},nt),calculateTextDimensions(it,nt).height}function calculateTextWidth(it,nt){return nt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},nt),calculateTextDimensions(it,nt).width}const calculateTextDimensions=memoize((it,nt)=>{nt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},nt);const{fontSize:rt,fontFamily:st,fontWeight:vt}=nt;if(!it)return{width:0,height:0};const bt=["sans-serif",st],_t=it.split(common$1.lineBreakRegex),wt=[],Et=select("body");if(!Et.remove)return{width:0,height:0,lineHeight:0};const Tt=Et.append("svg");for(const Dt of bt){let Lt=0;const Bt={width:0,height:0,lineHeight:0};for(const Ht of _t){const Ut=getTextObj$2();Ut.text=Ht;const It=drawSimpleText(Tt,Ut).style("font-size",rt).style("font-weight",vt).style("font-family",Dt),jt=(It._groups||It)[0][0].getBBox();Bt.width=Math.round(Math.max(Bt.width,jt.width)),Lt=Math.round(jt.height),Bt.height+=Lt,Bt.lineHeight=Math.round(Math.max(Bt.lineHeight,Lt))}wt.push(Bt)}Tt.remove();const $t=isNaN(wt[1].height)||isNaN(wt[1].width)||isNaN(wt[1].lineHeight)||wt[0].height>wt[1].height&&wt[0].width>wt[1].width&&wt[0].lineHeight>wt[1].lineHeight?0:1;return wt[$t]},(it,nt)=>`${it}${nt.fontSize}${nt.fontWeight}${nt.fontFamily}`),initIdGenerator=class{constructor(nt,rt){this.deterministic=nt,this.seed=rt,this.count=rt?rt.length:0}next(){return this.deterministic?this.count++:Date.now()}};let decoder;const entityDecode=function(it){return decoder=decoder||document.createElement("div"),it=escape(it).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=it,unescape(decoder.textContent)},directiveSanitizer=it=>{if(log$1.debug("directiveSanitizer called with",it),typeof it=="object"&&(it.length?it.forEach(nt=>directiveSanitizer(nt)):Object.keys(it).forEach(nt=>{log$1.debug("Checking key",nt),nt.startsWith("__")&&(log$1.debug("sanitize deleting __ option",nt),delete it[nt]),nt.includes("proto")&&(log$1.debug("sanitize deleting proto option",nt),delete it[nt]),nt.includes("constr")&&(log$1.debug("sanitize deleting constr option",nt),delete it[nt]),nt.includes("themeCSS")&&(log$1.debug("sanitizing themeCss option"),it[nt]=sanitizeCss(it[nt])),nt.includes("fontFamily")&&(log$1.debug("sanitizing fontFamily option"),it[nt]=sanitizeCss(it[nt])),nt.includes("altFontFamily")&&(log$1.debug("sanitizing altFontFamily option"),it[nt]=sanitizeCss(it[nt])),configKeys.includes(nt)?typeof it[nt]=="object"&&(log$1.debug("sanitize deleting object",nt),directiveSanitizer(it[nt])):(log$1.debug("sanitize deleting option",nt),delete it[nt])})),it.themeVariables){const nt=Object.keys(it.themeVariables);for(const rt of nt){const st=it.themeVariables[rt];st&&st.match&&!st.match(/^[\d "#%(),.;A-Za-z]+$/)&&(it.themeVariables[rt]="")}}log$1.debug("After sanitization",it)},sanitizeCss=it=>{let nt=0,rt=0;for(const st of it){if(nt<rt)return"{ /* ERROR: Unbalanced CSS */ }";st==="{"?nt++:st==="}"&&rt++}return nt!==rt?"{ /* ERROR: Unbalanced CSS */ }":it};function isDetailedError(it){return"str"in it}function getErrorMessage(it){return it instanceof Error?it.message:String(it)}const insertTitle=(it,nt,rt,st)=>{if(!st)return;const vt=it.node().getBBox();it.append("text").text(st).attr("x",vt.x+vt.width/2).attr("y",-rt).attr("class",nt)},utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId:generateId$1,random,runFunc,entityDecode,initIdGenerator,directiveSanitizer,sanitizeCss,insertTitle},name="mermaid",version$1="9.3.0",description$1="Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main="./dist/mermaid.min.js",module$1="./dist/mermaid.core.mjs",types="./dist/mermaid.d.ts",exports$1={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts={clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository={type:"git",url:"https://github.com/mermaid-js/mermaid"},author="Knut Sveidqvist",license="MIT",standard={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies={"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},files=["dist","README.md"],sideEffects=["**/*.css","**/*.scss"],pkg={name,version:version$1,description:description$1,main,module:module$1,types,exports:exports$1,keywords,scripts,repository,author,license,standard,dependencies,devDependencies,files,sideEffects},defaultConfig=Object.freeze(config$2);let siteConfig=assignWithDepth$1({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig);const updateCurrentConfig=(it,nt)=>{let rt=assignWithDepth$1({},it),st={};for(const vt of nt)sanitize(vt),st=assignWithDepth$1(st,vt);if(rt=assignWithDepth$1(rt,st),st.theme&&st.theme in theme){const vt=assignWithDepth$1({},configFromInitialize),bt=assignWithDepth$1(vt.themeVariables||{},st.themeVariables);rt.theme&&rt.theme in theme&&(rt.themeVariables=theme[rt.theme].getThemeVariables(bt))}return currentConfig=rt,checkConfig(currentConfig),currentConfig},setSiteConfig=it=>(siteConfig=assignWithDepth$1({},defaultConfig),siteConfig=assignWithDepth$1(siteConfig,it),it.theme&&theme[it.theme]&&(siteConfig.themeVariables=theme[it.theme].getThemeVariables(it.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=it=>{configFromInitialize=assignWithDepth$1({},it)},updateSiteConfig=it=>(siteConfig=assignWithDepth$1(siteConfig,it),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig=it=>(checkConfig(it),assignWithDepth$1(currentConfig,it),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=it=>{var nt;["secure",...(nt=siteConfig.secure)!=null?nt:[]].forEach(rt=>{it[rt]!==void 0&&(log$1.debug(`Denied attempt to modify a secure key ${rt}`,it[rt]),delete it[rt])}),Object.keys(it).forEach(rt=>{rt.indexOf("__")===0&&delete it[rt]}),Object.keys(it).forEach(rt=>{typeof it[rt]=="string"&&(it[rt].includes("<")||it[rt].includes(">")||it[rt].includes("url(data:"))&&delete it[rt],typeof it[rt]=="object"&&sanitize(it[rt])})},addDirective=it=>{it.fontFamily&&(it.themeVariables?it.themeVariables.fontFamily||(it.themeVariables={fontFamily:it.fontFamily}):it.themeVariables={fontFamily:it.fontFamily}),directives.push(it),updateCurrentConfig(siteConfig,directives)},reset=(it=siteConfig)=>{directives=[],updateCurrentConfig(it,directives)};var ConfigWarning=(it=>(it.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",it))(ConfigWarning||{});const issuedWarnings={},issueWarning=it=>{issuedWarnings[it]||(log$1.warn(ConfigWarning[it]),issuedWarnings[it]=!0)},checkConfig=it=>{!it||(it.lazyLoadedDiagrams||it.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},d3Attrs=function(it,nt){for(let rt of nt)it.attr(rt[0],rt[1])},calculateSvgSizeAttrs=function(it,nt,rt){let st=new Map;return rt?(st.set("width","100%"),st.set("style",`max-width: ${nt}px;`)):(st.set("height",it),st.set("width",nt)),st},configureSvgSize=function(it,nt,rt,st){const vt=calculateSvgSizeAttrs(nt,rt,st);d3Attrs(it,vt)},setupGraphViewbox$1=function(it,nt,rt,st){const vt=nt.node().getBBox(),bt=vt.width,_t=vt.height;log$1.info(`SVG bounds: ${bt}x${_t}`,vt);let wt=0,Et=0;log$1.info(`Graph bounds: ${wt}x${Et}`,it),wt=bt+rt*2,Et=_t+rt*2,log$1.info(`Calculated bounds: ${wt}x${Et}`),configureSvgSize(nt,Et,wt,st);const Tt=`${vt.x-rt} ${vt.y-rt} ${vt.width+2*rt} ${vt.height+2*rt}`;nt.attr("viewBox",Tt)},getStyles$e=it=>`g.classGroup text {
  fill: ${it.nodeBorder};
  fill: ${it.classText};
  stroke: none;
  font-family: ${it.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${it.classText};
}
.edgeLabel .label rect {
  fill: ${it.mainBkg};
}
.label text {
  fill: ${it.classText};
}
.edgeLabel .label span {
  background: ${it.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${it.mainBkg};
    stroke: ${it.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${it.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${it.mainBkg};
  stroke: ${it.nodeBorder};
}

g.classGroup line {
  stroke: ${it.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${it.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${it.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${it.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${it.lineColor} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${it.lineColor} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${it.lineColor} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${it.lineColor} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${it.mainBkg} !important;
  stroke: ${it.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${it.textColor};
}
`,classStyles=getStyles$e,getStyles$d=it=>`
  .entityBox {
    fill: ${it.mainBkg};
    stroke: ${it.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${it.attributeBackgroundColorOdd};
    stroke: ${it.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${it.attributeBackgroundColorEven};
    stroke: ${it.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${it.tertiaryColor};
    opacity: 0.7;
    background-color: ${it.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${it.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${it.textColor};
  }    
`,erStyles=getStyles$d,getStyles$c=()=>"",errorStyles=getStyles$c,getStyles$b=it=>`.label {
    font-family: ${it.fontFamily};
    color: ${it.nodeTextColor||it.textColor};
  }
  .cluster-label text {
    fill: ${it.titleColor};
  }
  .cluster-label span {
    color: ${it.titleColor};
  }

  .label text,span {
    fill: ${it.nodeTextColor||it.textColor};
    color: ${it.nodeTextColor||it.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${it.mainBkg};
    stroke: ${it.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${it.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${it.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${it.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${it.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${it.edgeLabelBackground};
      fill: ${it.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${it.clusterBkg};
    stroke: ${it.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${it.titleColor};
  }

  .cluster span {
    color: ${it.titleColor};
  }
  /* .cluster div {
    color: ${it.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${it.fontFamily};
    font-size: 12px;
    background: ${it.tertiaryColor};
    border: 1px solid ${it.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${it.textColor};
  }
`,flowStyles=getStyles$b,getStyles$a=it=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${it.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${it.sectionBkgColor};
  }

  .section2 {
    fill: ${it.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${it.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${it.titleColor};
  }

  .sectionTitle1 {
    fill: ${it.titleColor};
  }

  .sectionTitle2 {
    fill: ${it.titleColor};
  }

  .sectionTitle3 {
    fill: ${it.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${it.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${it.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${it.fontFamily};
      fill: ${it.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${it.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${it.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${it.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${it.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${it.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${it.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${it.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${it.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${it.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${it.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${it.taskBkgColor};
    stroke: ${it.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${it.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${it.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${it.activeTaskBkgColor};
    stroke: ${it.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${it.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${it.doneTaskBorderColor};
    fill: ${it.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${it.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${it.critBorderColor};
    fill: ${it.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${it.critBorderColor};
    fill: ${it.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${it.critBorderColor};
    fill: ${it.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${it.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${it.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${it.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,ganttStyles=getStyles$a,getStyles$9=()=>"",infoStyles=getStyles$9,getStyles$8=it=>`
  .pieCircle{
    stroke: ${it.pieStrokeColor};
    stroke-width : ${it.pieStrokeWidth};
    opacity : ${it.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${it.pieTitleTextSize};
    fill: ${it.pieTitleTextColor};
    font-family: ${it.fontFamily};
  }
  .slice {
    font-family: ${it.fontFamily};
    fill: ${it.pieSectionTextColor};
    font-size:${it.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${it.pieLegendTextColor};
    font-family: ${it.fontFamily};
    font-size: ${it.pieLegendTextSize};
  }
`,pieStyles=getStyles$8,getStyles$7=it=>`

  marker {
    fill: ${it.relationColor};
    stroke: ${it.relationColor};
  }

  marker.cross {
    stroke: ${it.lineColor};
  }

  svg {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
  }

  .reqBox {
    fill: ${it.requirementBackground};
    fill-opacity: 100%;
    stroke: ${it.requirementBorderColor};
    stroke-width: ${it.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${it.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${it.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${it.requirementBorderColor};
    stroke-width: ${it.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${it.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${it.relationLabelColor};
  }

`,requirementStyles=getStyles$7,getStyles$6=it=>`.actor {
    stroke: ${it.actorBorder};
    fill: ${it.actorBkg};
  }

  text.actor > tspan {
    fill: ${it.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${it.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${it.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${it.signalColor};
  }

  #arrowhead path {
    fill: ${it.signalColor};
    stroke: ${it.signalColor};
  }

  .sequenceNumber {
    fill: ${it.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${it.signalColor};
  }

  #crosshead path {
    fill: ${it.signalColor};
    stroke: ${it.signalColor};
  }

  .messageText {
    fill: ${it.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${it.labelBoxBorderColor};
    fill: ${it.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${it.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${it.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${it.labelBoxBorderColor};
    fill: ${it.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${it.noteBorderColor};
    fill: ${it.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${it.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${it.activationBkgColor};
    stroke: ${it.activationBorderColor};
  }

  .activation1 {
    fill: ${it.activationBkgColor};
    stroke: ${it.activationBorderColor};
  }

  .activation2 {
    fill: ${it.activationBkgColor};
    stroke: ${it.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${it.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${it.actorBorder};
    fill: ${it.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${it.actorBorder};
    fill: ${it.actorBkg};
    stroke-width: 2px;
  }
`,sequenceStyles=getStyles$6,getStyles$5=it=>`
defs #statediagram-barbEnd {
    fill: ${it.transitionColor};
    stroke: ${it.transitionColor};
  }
g.stateGroup text {
  fill: ${it.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${it.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${it.stateLabelColor};
}

g.stateGroup rect {
  fill: ${it.mainBkg};
  stroke: ${it.nodeBorder};
}

g.stateGroup line {
  stroke: ${it.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${it.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${it.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${it.noteBorderColor};
  fill: ${it.noteBkgColor};

  text {
    fill: ${it.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${it.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${it.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${it.transitionLabelColor||it.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${it.transitionLabelColor||it.tertiaryTextColor};
}

.stateLabel text {
  fill: ${it.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${it.specialStateColor};
  stroke: ${it.specialStateColor};
}

.node .fork-join {
  fill: ${it.specialStateColor};
  stroke: ${it.specialStateColor};
}

.node circle.state-end {
  fill: ${it.innerEndBackground};
  stroke: ${it.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${it.compositeBackground||it.background};
  // stroke: ${it.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${it.stateBkg||it.mainBkg};
  stroke: ${it.stateBorder||it.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${it.mainBkg};
  stroke: ${it.stateBorder||it.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${it.lineColor};
}

.statediagram-cluster rect {
  fill: ${it.compositeTitleBackground};
  stroke: ${it.stateBorder||it.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${it.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${it.stateBorder||it.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${it.compositeBackground||it.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${it.altBackground?it.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${it.altBackground?it.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${it.noteBkgColor};
  stroke: ${it.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${it.noteBkgColor};
  stroke: ${it.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${it.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${it.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${it.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${it.lineColor};
  stroke: ${it.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${it.textColor};
}
`,stateStyles=getStyles$5,getStyles$4=it=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${it.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${it.textColor}
  }

  .legend {
    fill: ${it.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${it.textColor}
  }

  .face {
    ${it.faceColor?`fill: ${it.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${it.mainBkg};
    stroke: ${it.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${it.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${it.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${it.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${it.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${it.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${it.tertiaryColor};
    border: 1px solid ${it.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${it.fillType0?`fill: ${it.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${it.fillType0?`fill: ${it.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${it.fillType0?`fill: ${it.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${it.fillType0?`fill: ${it.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${it.fillType0?`fill: ${it.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${it.fillType0?`fill: ${it.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${it.fillType0?`fill: ${it.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${it.fillType0?`fill: ${it.fillType7}`:""};
  }

  .actor-0 {
    ${it.actor0?`fill: ${it.actor0}`:""};
  }
  .actor-1 {
    ${it.actor1?`fill: ${it.actor1}`:""};
  }
  .actor-2 {
    ${it.actor2?`fill: ${it.actor2}`:""};
  }
  .actor-3 {
    ${it.actor3?`fill: ${it.actor3}`:""};
  }
  .actor-4 {
    ${it.actor4?`fill: ${it.actor4}`:""};
  }
  .actor-5 {
    ${it.actor5?`fill: ${it.actor5}`:""};
  }
`,journeyStyles=getStyles$4,getStyles$3=it=>`.person {
    stroke: ${it.personBorder};
    fill: ${it.personBkg};
  }
`,c4Styles=getStyles$3,themes={flowchart:flowStyles,"flowchart-v2":flowStyles,sequence:sequenceStyles,gantt:ganttStyles,classDiagram:classStyles,"classDiagram-v2":classStyles,class:classStyles,stateDiagram:stateStyles,state:stateStyles,info:infoStyles,pie:pieStyles,er:erStyles,error:errorStyles,journey:journeyStyles,requirement:requirementStyles,c4:c4Styles},getStyles$1=(it,nt,rt)=>{let st="";return it in themes&&themes[it]?st=themes[it](rt):log$1.warn(`No theme found for ${it}`),` & {
    font-family: ${rt.fontFamily};
    font-size: ${rt.fontSize};
    fill: ${rt.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${rt.errorBkgColor};
  }
  & .error-text {
    fill: ${rt.errorTextColor};
    stroke: ${rt.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${rt.lineColor};
    stroke: ${rt.lineColor};
  }
  & .marker.cross {
    stroke: ${rt.lineColor};
  }

  & svg {
    font-family: ${rt.fontFamily};
    font-size: ${rt.fontSize};
  }

  ${st}

  ${nt}
`},addStylesForDiagram=(it,nt)=>{themes[it]=nt},getStyles$2=getStyles$1,log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,sanitizeText$4=it=>sanitizeText$5(it,getConfig()),setupGraphViewbox=setupGraphViewbox$1,diagrams={},registerDiagram=(it,nt,rt)=>{if(diagrams[it])throw new Error(`Diagram ${it} already registered.`);diagrams[it]=nt,rt&&addDetector(it,rt),addStylesForDiagram(it,nt.styles),nt.injectUtils&&nt.injectUtils(log,setLogLevel,getConfig,sanitizeText$4,setupGraphViewbox)},getDiagram=it=>{if(it in diagrams)return diagrams[it];throw new Error(`Diagram ${it} not found.`)};var parser$b=function(){var it=function(di,ui,ci,hi){for(ci=ci||{},hi=di.length;hi--;ci[di[hi]]=ui);return ci},nt=[1,4],rt=[1,7],st=[1,5],vt=[1,9],bt=[1,6],_t=[2,6],wt=[1,16],Et=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],Tt=[8,14,20,22,24,25,27,29,32,37,40],$t=[8,13,14,20,22,24,25,27,29,32,37,40],Dt=[1,26],Lt=[6,8,14,50,55],Bt=[8,14,55],Ht=[1,53],Ut=[1,52],It=[8,14,30,33,35,38,55],jt=[1,67],Wt=[1,68],qt=[1,69],Yt=[8,14,33,35,42,55],ti={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(ui,ci,hi,ei,wi,Kt,Ni){var ni=Kt.length-1;switch(wi){case 3:return Kt[ni];case 4:return Kt[ni-1];case 5:return ei.setDirection(Kt[ni-3]),Kt[ni-1];case 7:ei.setOptions(Kt[ni-1]),this.$=Kt[ni];break;case 8:Kt[ni-1]+=Kt[ni],this.$=Kt[ni-1];break;case 10:this.$=[];break;case 11:Kt[ni-1].push(Kt[ni]),this.$=Kt[ni-1];break;case 12:this.$=Kt[ni-1];break;case 17:this.$=Kt[ni].trim(),ei.setAccTitle(this.$);break;case 18:case 19:this.$=Kt[ni].trim(),ei.setAccDescription(this.$);break;case 20:ei.addSection(Kt[ni].substr(8)),this.$=Kt[ni].substr(8);break;case 22:ei.checkout(Kt[ni]);break;case 23:ei.branch(Kt[ni]);break;case 24:ei.branch(Kt[ni-2],Kt[ni]);break;case 25:ei.cherryPick(Kt[ni],"",void 0);break;case 26:ei.cherryPick(Kt[ni-2],"",Kt[ni]);break;case 27:case 29:ei.cherryPick(Kt[ni-2],"","");break;case 28:ei.cherryPick(Kt[ni],"",Kt[ni-2]);break;case 30:ei.merge(Kt[ni],"","","");break;case 31:ei.merge(Kt[ni-2],Kt[ni],"","");break;case 32:ei.merge(Kt[ni-2],"",Kt[ni],"");break;case 33:ei.merge(Kt[ni-2],"","",Kt[ni]);break;case 34:ei.merge(Kt[ni-4],Kt[ni],"",Kt[ni-2]);break;case 35:ei.merge(Kt[ni-4],"",Kt[ni],Kt[ni-2]);break;case 36:ei.merge(Kt[ni-4],"",Kt[ni-2],Kt[ni]);break;case 37:ei.merge(Kt[ni-4],Kt[ni-2],Kt[ni],"");break;case 38:ei.merge(Kt[ni-4],Kt[ni-2],"",Kt[ni]);break;case 39:ei.merge(Kt[ni-4],Kt[ni],Kt[ni-2],"");break;case 40:ei.merge(Kt[ni-6],Kt[ni-4],Kt[ni-2],Kt[ni]);break;case 41:ei.merge(Kt[ni-6],Kt[ni],Kt[ni-4],Kt[ni-2]);break;case 42:ei.merge(Kt[ni-6],Kt[ni-4],Kt[ni],Kt[ni-2]);break;case 43:ei.merge(Kt[ni-6],Kt[ni-2],Kt[ni-4],Kt[ni]);break;case 44:ei.merge(Kt[ni-6],Kt[ni],Kt[ni-2],Kt[ni-4]);break;case 45:ei.merge(Kt[ni-6],Kt[ni-2],Kt[ni],Kt[ni-4]);break;case 46:ei.commit(Kt[ni]);break;case 47:ei.commit("","",ei.commitType.NORMAL,Kt[ni]);break;case 48:ei.commit("","",Kt[ni],"");break;case 49:ei.commit("","",Kt[ni],Kt[ni-2]);break;case 50:ei.commit("","",Kt[ni-2],Kt[ni]);break;case 51:ei.commit("",Kt[ni],ei.commitType.NORMAL,"");break;case 52:ei.commit("",Kt[ni-2],ei.commitType.NORMAL,Kt[ni]);break;case 53:ei.commit("",Kt[ni],ei.commitType.NORMAL,Kt[ni-2]);break;case 54:ei.commit("",Kt[ni-2],Kt[ni],"");break;case 55:ei.commit("",Kt[ni],Kt[ni-2],"");break;case 56:ei.commit("",Kt[ni-4],Kt[ni-2],Kt[ni]);break;case 57:ei.commit("",Kt[ni-4],Kt[ni],Kt[ni-2]);break;case 58:ei.commit("",Kt[ni-2],Kt[ni-4],Kt[ni]);break;case 59:ei.commit("",Kt[ni],Kt[ni-4],Kt[ni-2]);break;case 60:ei.commit("",Kt[ni],Kt[ni-2],Kt[ni-4]);break;case 61:ei.commit("",Kt[ni-2],Kt[ni],Kt[ni-4]);break;case 62:ei.commit(Kt[ni],"",ei.commitType.NORMAL,"");break;case 63:ei.commit(Kt[ni],"",ei.commitType.NORMAL,Kt[ni-2]);break;case 64:ei.commit(Kt[ni-2],"",ei.commitType.NORMAL,Kt[ni]);break;case 65:ei.commit(Kt[ni-2],"",Kt[ni],"");break;case 66:ei.commit(Kt[ni],"",Kt[ni-2],"");break;case 67:ei.commit(Kt[ni],Kt[ni-2],ei.commitType.NORMAL,"");break;case 68:ei.commit(Kt[ni-2],Kt[ni],ei.commitType.NORMAL,"");break;case 69:ei.commit(Kt[ni-4],"",Kt[ni-2],Kt[ni]);break;case 70:ei.commit(Kt[ni-4],"",Kt[ni],Kt[ni-2]);break;case 71:ei.commit(Kt[ni-2],"",Kt[ni-4],Kt[ni]);break;case 72:ei.commit(Kt[ni],"",Kt[ni-4],Kt[ni-2]);break;case 73:ei.commit(Kt[ni],"",Kt[ni-2],Kt[ni-4]);break;case 74:ei.commit(Kt[ni-2],"",Kt[ni],Kt[ni-4]);break;case 75:ei.commit(Kt[ni-4],Kt[ni],Kt[ni-2],"");break;case 76:ei.commit(Kt[ni-4],Kt[ni-2],Kt[ni],"");break;case 77:ei.commit(Kt[ni-2],Kt[ni],Kt[ni-4],"");break;case 78:ei.commit(Kt[ni],Kt[ni-2],Kt[ni-4],"");break;case 79:ei.commit(Kt[ni],Kt[ni-4],Kt[ni-2],"");break;case 80:ei.commit(Kt[ni-2],Kt[ni-4],Kt[ni],"");break;case 81:ei.commit(Kt[ni-4],Kt[ni],ei.commitType.NORMAL,Kt[ni-2]);break;case 82:ei.commit(Kt[ni-4],Kt[ni-2],ei.commitType.NORMAL,Kt[ni]);break;case 83:ei.commit(Kt[ni-2],Kt[ni],ei.commitType.NORMAL,Kt[ni-4]);break;case 84:ei.commit(Kt[ni],Kt[ni-2],ei.commitType.NORMAL,Kt[ni-4]);break;case 85:ei.commit(Kt[ni],Kt[ni-4],ei.commitType.NORMAL,Kt[ni-2]);break;case 86:ei.commit(Kt[ni-2],Kt[ni-4],ei.commitType.NORMAL,Kt[ni]);break;case 87:ei.commit(Kt[ni-6],Kt[ni-4],Kt[ni-2],Kt[ni]);break;case 88:ei.commit(Kt[ni-6],Kt[ni-4],Kt[ni],Kt[ni-2]);break;case 89:ei.commit(Kt[ni-6],Kt[ni-2],Kt[ni-4],Kt[ni]);break;case 90:ei.commit(Kt[ni-6],Kt[ni],Kt[ni-4],Kt[ni-2]);break;case 91:ei.commit(Kt[ni-6],Kt[ni-2],Kt[ni],Kt[ni-4]);break;case 92:ei.commit(Kt[ni-6],Kt[ni],Kt[ni-2],Kt[ni-4]);break;case 93:ei.commit(Kt[ni-4],Kt[ni-6],Kt[ni-2],Kt[ni]);break;case 94:ei.commit(Kt[ni-4],Kt[ni-6],Kt[ni],Kt[ni-2]);break;case 95:ei.commit(Kt[ni-2],Kt[ni-6],Kt[ni-4],Kt[ni]);break;case 96:ei.commit(Kt[ni],Kt[ni-6],Kt[ni-4],Kt[ni-2]);break;case 97:ei.commit(Kt[ni-2],Kt[ni-6],Kt[ni],Kt[ni-4]);break;case 98:ei.commit(Kt[ni],Kt[ni-6],Kt[ni-2],Kt[ni-4]);break;case 99:ei.commit(Kt[ni],Kt[ni-4],Kt[ni-2],Kt[ni-6]);break;case 100:ei.commit(Kt[ni-2],Kt[ni-4],Kt[ni],Kt[ni-6]);break;case 101:ei.commit(Kt[ni],Kt[ni-2],Kt[ni-4],Kt[ni-6]);break;case 102:ei.commit(Kt[ni-2],Kt[ni],Kt[ni-4],Kt[ni-6]);break;case 103:ei.commit(Kt[ni-4],Kt[ni-2],Kt[ni],Kt[ni-6]);break;case 104:ei.commit(Kt[ni-4],Kt[ni],Kt[ni-2],Kt[ni-6]);break;case 105:ei.commit(Kt[ni-2],Kt[ni-4],Kt[ni-6],Kt[ni]);break;case 106:ei.commit(Kt[ni],Kt[ni-4],Kt[ni-6],Kt[ni-2]);break;case 107:ei.commit(Kt[ni-2],Kt[ni],Kt[ni-6],Kt[ni-4]);break;case 108:ei.commit(Kt[ni],Kt[ni-2],Kt[ni-6],Kt[ni-4]);break;case 109:ei.commit(Kt[ni-4],Kt[ni-2],Kt[ni-6],Kt[ni]);break;case 110:ei.commit(Kt[ni-4],Kt[ni],Kt[ni-6],Kt[ni-2]);break;case 111:this.$="";break;case 112:this.$=Kt[ni];break;case 113:this.$=ei.commitType.NORMAL;break;case 114:this.$=ei.commitType.REVERSE;break;case 115:this.$=ei.commitType.HIGHLIGHT;break;case 118:ei.parseDirective("%%{","open_directive");break;case 119:ei.parseDirective(Kt[ni],"type_directive");break;case 120:Kt[ni]=Kt[ni].trim().replace(/'/g,'"'),ei.parseDirective(Kt[ni],"arg_directive");break;case 121:ei.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:nt,8:rt,14:st,46:8,50:vt,55:bt},{1:[3]},{3:10,4:2,5:3,6:nt,8:rt,14:st,46:8,50:vt,55:bt},{3:11,4:2,5:3,6:nt,8:rt,14:st,46:8,50:vt,55:bt},{7:12,8:_t,9:[1,13],10:[1,14],11:15,14:wt},it(Et,[2,124]),it(Et,[2,125]),it(Et,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:_t,11:15,14:wt},{9:[1,21]},it(Tt,[2,10],{12:22,13:[1,23]}),it($t,[2,9]),{9:[1,25],48:24,53:Dt},it([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:_t,11:15,14:wt},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},it($t,[2,8]),it(Lt,[2,116]),{49:45,52:[1,46]},it(Lt,[2,121]),{1:[2,4]},{8:[1,47]},it(Tt,[2,11]),{4:48,8:rt,14:st,55:bt},it(Tt,[2,13]),it(Bt,[2,14]),it(Bt,[2,15]),it(Bt,[2,16]),{21:[1,49]},{23:[1,50]},it(Bt,[2,19]),it(Bt,[2,20]),it(Bt,[2,21]),{28:51,34:Ht,54:Ut},it(Bt,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:Ht,54:Ut},{33:[1,61],35:[1,62]},{28:63,34:Ht,54:Ut},{48:64,53:Dt},{53:[2,120]},{1:[2,5]},it(Tt,[2,12]),it(Bt,[2,17]),it(Bt,[2,18]),it(Bt,[2,22]),it(It,[2,122]),it(It,[2,123]),it(Bt,[2,46]),{34:[1,65]},{39:66,43:jt,44:Wt,45:qt},{34:[1,70]},{34:[1,71]},it(Bt,[2,112]),it(Bt,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},it(Bt,[2,23],{30:[1,78]}),it(Lt,[2,117]),it(Bt,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),it(Bt,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),it(Yt,[2,113]),it(Yt,[2,114]),it(Yt,[2,115]),it(Bt,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),it(Bt,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:jt,44:Wt,45:qt},{34:[1,93]},it(Bt,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:jt,44:Wt,45:qt},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:jt,44:Wt,45:qt},{34:[1,106]},{34:[1,107]},{39:108,43:jt,44:Wt,45:qt},{34:[1,109]},it(Bt,[2,31],{35:[1,111],38:[1,110]}),it(Bt,[2,32],{33:[1,113],35:[1,112]}),it(Bt,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},it(Bt,[2,24]),it(Bt,[2,49],{33:[1,120],42:[1,121]}),it(Bt,[2,53],{38:[1,122],42:[1,123]}),it(Bt,[2,63],{33:[1,125],38:[1,124]}),it(Bt,[2,50],{33:[1,126],42:[1,127]}),it(Bt,[2,55],{35:[1,128],42:[1,129]}),it(Bt,[2,66],{33:[1,131],35:[1,130]}),it(Bt,[2,52],{38:[1,132],42:[1,133]}),it(Bt,[2,54],{35:[1,134],42:[1,135]}),it(Bt,[2,67],{35:[1,137],38:[1,136]}),it(Bt,[2,64],{33:[1,139],38:[1,138]}),it(Bt,[2,65],{33:[1,141],35:[1,140]}),it(Bt,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:jt,44:Wt,45:qt},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:jt,44:Wt,45:qt},it(Bt,[2,26]),it(Bt,[2,27]),it(Bt,[2,28]),it(Bt,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:jt,44:Wt,45:qt},{34:[1,153]},{39:154,43:jt,44:Wt,45:qt},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:jt,44:Wt,45:qt},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:jt,44:Wt,45:qt},{34:[1,167]},{39:168,43:jt,44:Wt,45:qt},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:jt,44:Wt,45:qt},{34:[1,173]},it(Bt,[2,37],{35:[1,174]}),it(Bt,[2,38],{38:[1,175]}),it(Bt,[2,36],{33:[1,176]}),it(Bt,[2,39],{35:[1,177]}),it(Bt,[2,34],{38:[1,178]}),it(Bt,[2,35],{33:[1,179]}),it(Bt,[2,60],{42:[1,180]}),it(Bt,[2,73],{33:[1,181]}),it(Bt,[2,61],{42:[1,182]}),it(Bt,[2,84],{38:[1,183]}),it(Bt,[2,74],{33:[1,184]}),it(Bt,[2,83],{38:[1,185]}),it(Bt,[2,59],{42:[1,186]}),it(Bt,[2,72],{33:[1,187]}),it(Bt,[2,58],{42:[1,188]}),it(Bt,[2,78],{35:[1,189]}),it(Bt,[2,71],{33:[1,190]}),it(Bt,[2,77],{35:[1,191]}),it(Bt,[2,57],{42:[1,192]}),it(Bt,[2,85],{38:[1,193]}),it(Bt,[2,56],{42:[1,194]}),it(Bt,[2,79],{35:[1,195]}),it(Bt,[2,80],{35:[1,196]}),it(Bt,[2,86],{38:[1,197]}),it(Bt,[2,70],{33:[1,198]}),it(Bt,[2,81],{38:[1,199]}),it(Bt,[2,69],{33:[1,200]}),it(Bt,[2,75],{35:[1,201]}),it(Bt,[2,76],{35:[1,202]}),it(Bt,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:jt,44:Wt,45:qt},{34:[1,206]},{34:[1,207]},{39:208,43:jt,44:Wt,45:qt},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:jt,44:Wt,45:qt},{34:[1,214]},{39:215,43:jt,44:Wt,45:qt},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:jt,44:Wt,45:qt},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:jt,44:Wt,45:qt},{34:[1,228]},{39:229,43:jt,44:Wt,45:qt},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:jt,44:Wt,45:qt},it(Bt,[2,40]),it(Bt,[2,42]),it(Bt,[2,41]),it(Bt,[2,43]),it(Bt,[2,45]),it(Bt,[2,44]),it(Bt,[2,101]),it(Bt,[2,102]),it(Bt,[2,99]),it(Bt,[2,100]),it(Bt,[2,104]),it(Bt,[2,103]),it(Bt,[2,108]),it(Bt,[2,107]),it(Bt,[2,106]),it(Bt,[2,105]),it(Bt,[2,110]),it(Bt,[2,109]),it(Bt,[2,98]),it(Bt,[2,97]),it(Bt,[2,96]),it(Bt,[2,95]),it(Bt,[2,93]),it(Bt,[2,94]),it(Bt,[2,92]),it(Bt,[2,91]),it(Bt,[2,90]),it(Bt,[2,89]),it(Bt,[2,87]),it(Bt,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(ui,ci){if(ci.recoverable)this.trace(ui);else{var hi=new Error(ui);throw hi.hash=ci,hi}},parse:function(ui){var ci=this,hi=[0],ei=[],wi=[null],Kt=[],Ni=this.table,ni="",Fi=0,Xi=0,nn=2,Ai=1,ji=Kt.slice.call(arguments,1),Ri=Object.create(this.lexer),Vi={yy:{}};for(var Qi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qi)&&(Vi.yy[Qi]=this.yy[Qi]);Ri.setInput(ui,Vi.yy),Vi.yy.lexer=Ri,Vi.yy.parser=this,typeof Ri.yylloc>"u"&&(Ri.yylloc={});var rn=Ri.yylloc;Kt.push(rn);var Pi=Ri.options&&Ri.options.ranges;typeof Vi.yy.parseError=="function"?this.parseError=Vi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function bn(){var Mi;return Mi=ei.pop()||Ri.lex()||Ai,typeof Mi!="number"&&(Mi instanceof Array&&(ei=Mi,Mi=ei.pop()),Mi=ci.symbols_[Mi]||Mi),Mi}for(var Oi,Ii,Gi,$i,ii={},Nt,Qt,Jt,Si;;){if(Ii=hi[hi.length-1],this.defaultActions[Ii]?Gi=this.defaultActions[Ii]:((Oi===null||typeof Oi>"u")&&(Oi=bn()),Gi=Ni[Ii]&&Ni[Ii][Oi]),typeof Gi>"u"||!Gi.length||!Gi[0]){var vi="";Si=[];for(Nt in Ni[Ii])this.terminals_[Nt]&&Nt>nn&&Si.push("'"+this.terminals_[Nt]+"'");Ri.showPosition?vi="Parse error on line "+(Fi+1)+`:
`+Ri.showPosition()+`
Expecting `+Si.join(", ")+", got '"+(this.terminals_[Oi]||Oi)+"'":vi="Parse error on line "+(Fi+1)+": Unexpected "+(Oi==Ai?"end of input":"'"+(this.terminals_[Oi]||Oi)+"'"),this.parseError(vi,{text:Ri.match,token:this.terminals_[Oi]||Oi,line:Ri.yylineno,loc:rn,expected:Si})}if(Gi[0]instanceof Array&&Gi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ii+", token: "+Oi);switch(Gi[0]){case 1:hi.push(Oi),wi.push(Ri.yytext),Kt.push(Ri.yylloc),hi.push(Gi[1]),Oi=null,Xi=Ri.yyleng,ni=Ri.yytext,Fi=Ri.yylineno,rn=Ri.yylloc;break;case 2:if(Qt=this.productions_[Gi[1]][1],ii.$=wi[wi.length-Qt],ii._$={first_line:Kt[Kt.length-(Qt||1)].first_line,last_line:Kt[Kt.length-1].last_line,first_column:Kt[Kt.length-(Qt||1)].first_column,last_column:Kt[Kt.length-1].last_column},Pi&&(ii._$.range=[Kt[Kt.length-(Qt||1)].range[0],Kt[Kt.length-1].range[1]]),$i=this.performAction.apply(ii,[ni,Xi,Fi,Vi.yy,Gi[1],wi,Kt].concat(ji)),typeof $i<"u")return $i;Qt&&(hi=hi.slice(0,-1*Qt*2),wi=wi.slice(0,-1*Qt),Kt=Kt.slice(0,-1*Qt)),hi.push(this.productions_[Gi[1]][0]),wi.push(ii.$),Kt.push(ii._$),Jt=Ni[hi[hi.length-2]][hi[hi.length-1]],hi.push(Jt);break;case 3:return!0}}return!0}},oi=function(){var di={EOF:1,parseError:function(ci,hi){if(this.yy.parser)this.yy.parser.parseError(ci,hi);else throw new Error(ci)},setInput:function(ui,ci){return this.yy=ci||this.yy||{},this._input=ui,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ui=this._input[0];this.yytext+=ui,this.yyleng++,this.offset++,this.match+=ui,this.matched+=ui;var ci=ui.match(/(?:\r\n?|\n).*/g);return ci?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ui},unput:function(ui){var ci=ui.length,hi=ui.split(/(?:\r\n?|\n)/g);this._input=ui+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ci),this.offset-=ci;var ei=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),hi.length-1&&(this.yylineno-=hi.length-1);var wi=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:hi?(hi.length===ei.length?this.yylloc.first_column:0)+ei[ei.length-hi.length].length-hi[0].length:this.yylloc.first_column-ci},this.options.ranges&&(this.yylloc.range=[wi[0],wi[0]+this.yyleng-ci]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ui){this.unput(this.match.slice(ui))},pastInput:function(){var ui=this.matched.substr(0,this.matched.length-this.match.length);return(ui.length>20?"...":"")+ui.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ui=this.match;return ui.length<20&&(ui+=this._input.substr(0,20-ui.length)),(ui.substr(0,20)+(ui.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ui=this.pastInput(),ci=new Array(ui.length+1).join("-");return ui+this.upcomingInput()+`
`+ci+"^"},test_match:function(ui,ci){var hi,ei,wi;if(this.options.backtrack_lexer&&(wi={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(wi.yylloc.range=this.yylloc.range.slice(0))),ei=ui[0].match(/(?:\r\n?|\n).*/g),ei&&(this.yylineno+=ei.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ei?ei[ei.length-1].length-ei[ei.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ui[0].length},this.yytext+=ui[0],this.match+=ui[0],this.matches=ui,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ui[0].length),this.matched+=ui[0],hi=this.performAction.call(this,this.yy,this,ci,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),hi)return hi;if(this._backtrack){for(var Kt in wi)this[Kt]=wi[Kt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ui,ci,hi,ei;this._more||(this.yytext="",this.match="");for(var wi=this._currentRules(),Kt=0;Kt<wi.length;Kt++)if(hi=this._input.match(this.rules[wi[Kt]]),hi&&(!ci||hi[0].length>ci[0].length)){if(ci=hi,ei=Kt,this.options.backtrack_lexer){if(ui=this.test_match(hi,wi[Kt]),ui!==!1)return ui;if(this._backtrack){ci=!1;continue}else return!1}else if(!this.options.flex)break}return ci?(ui=this.test_match(ci,wi[ei]),ui!==!1?ui:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ci=this.next();return ci||this.lex()},begin:function(ci){this.conditionStack.push(ci)},popState:function(){var ci=this.conditionStack.length-1;return ci>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ci){return ci=this.conditionStack.length-1-Math.abs(ci||0),ci>=0?this.conditionStack[ci]:"INITIAL"},pushState:function(ci){this.begin(ci)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ci,hi,ei,wi){switch(ei){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return di}();ti.lexer=oi;function si(){this.yy={}}return si.prototype=ti,ti.Parser=si,new si}();parser$b.parser=parser$b;const gitGraphParser=parser$b,gitGraphDetector=it=>it.match(/^\s*gitGraph/)!==null;let title$1="",diagramTitle="",description="";const sanitizeText$3=it=>sanitizeText$5(it,getConfig$1()),clear$g=function(){title$1="",description="",diagramTitle=""},setAccTitle=function(it){title$1=sanitizeText$3(it).replace(/^\s+/g,"")},getAccTitle=function(){return title$1||diagramTitle},setAccDescription=function(it){description=sanitizeText$3(it).replace(/\n\s+/g,`
`)},getAccDescription=function(){return description},setDiagramTitle=function(it){diagramTitle=sanitizeText$3(it)},getDiagramTitle=function(){return diagramTitle};let mainBranchName=getConfig$1().gitGraph.mainBranchName,mainBranchOrder=getConfig$1().gitGraph.mainBranchOrder,commits={},head=null,branchesConfig={};branchesConfig[mainBranchName]={name:mainBranchName,order:mainBranchOrder};let branches={};branches[mainBranchName]=head;let curBranch=mainBranchName,direction$3="LR",seq=0;function getId(){return random({length:7})}const parseDirective$b=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)};function uniqBy(it,nt){const rt=Object.create(null);return it.reduce((st,vt)=>{const bt=nt(vt);return rt[bt]||(rt[bt]=!0,st.push(vt)),st},[])}const setDirection$3=function(it){direction$3=it};let options={};const setOptions=function(it){log$1.debug("options str",it),it=it&&it.trim(),it=it||"{}";try{options=JSON.parse(it)}catch(nt){log$1.error("error while parsing gitGraph options",nt.message)}},getOptions=function(){return options},commit=function(it,nt,rt,st){log$1.debug("Entering commit:",it,nt,rt,st),nt=common$1.sanitizeText(nt,getConfig$1()),it=common$1.sanitizeText(it,getConfig$1()),st=common$1.sanitizeText(st,getConfig$1());const vt={id:nt||seq+"-"+getId(),message:it,seq:seq++,type:rt||commitType$1.NORMAL,tag:st||"",parents:head==null?[]:[head.id],branch:curBranch};head=vt,commits[vt.id]=vt,branches[curBranch]=vt.id,log$1.debug("in pushCommit "+vt.id)},branch=function(it,nt){if(it=common$1.sanitizeText(it,getConfig$1()),branches[it]===void 0)branches[it]=head!=null?head.id:null,branchesConfig[it]={name:it,order:nt?parseInt(nt,10):null},checkout(it),log$1.debug("in createBranch");else{let rt=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+it+'")');throw rt.hash={text:"branch "+it,token:"branch "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+it+'"']},rt}},merge=function(it,nt,rt,st){it=common$1.sanitizeText(it,getConfig$1()),nt=common$1.sanitizeText(nt,getConfig$1());const vt=commits[branches[curBranch]],bt=commits[branches[it]];if(curBranch===it){let wt=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw wt.hash={text:"merge "+it,token:"merge "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},wt}else if(vt===void 0||!vt){let wt=new Error('Incorrect usage of "merge". Current branch ('+curBranch+")has no commits");throw wt.hash={text:"merge "+it,token:"merge "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},wt}else if(branches[it]===void 0){let wt=new Error('Incorrect usage of "merge". Branch to be merged ('+it+") does not exist");throw wt.hash={text:"merge "+it,token:"merge "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+it]},wt}else if(bt===void 0||!bt){let wt=new Error('Incorrect usage of "merge". Branch to be merged ('+it+") has no commits");throw wt.hash={text:"merge "+it,token:"merge "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},wt}else if(vt===bt){let wt=new Error('Incorrect usage of "merge". Both branches have same head');throw wt.hash={text:"merge "+it,token:"merge "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},wt}else if(nt&&commits[nt]!==void 0){let wt=new Error('Incorrect usage of "merge". Commit with id:'+nt+" already exists, use different custom Id");throw wt.hash={text:"merge "+it+nt+rt+st,token:"merge "+it+nt+rt+st,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+it+" "+nt+"_UNIQUE "+rt+" "+st]},wt}const _t={id:nt||seq+"-"+getId(),message:"merged branch "+it+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,branches[it]],branch:curBranch,type:commitType$1.MERGE,customType:rt,customId:!!nt,tag:st||""};head=_t,commits[_t.id]=_t,branches[curBranch]=_t.id,log$1.debug(branches),log$1.debug("in mergeBranch")},cherryPick=function(it,nt,rt){if(log$1.debug("Entering cherryPick:",it,nt,rt),it=common$1.sanitizeText(it,getConfig$1()),nt=common$1.sanitizeText(nt,getConfig$1()),rt=common$1.sanitizeText(rt,getConfig$1()),!it||commits[it]===void 0){let bt=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw bt.hash={text:"cherryPick "+it+" "+nt,token:"cherryPick "+it+" "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},bt}let st=commits[it],vt=st.branch;if(st.type===commitType$1.MERGE){let bt=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw bt.hash={text:"cherryPick "+it+" "+nt,token:"cherryPick "+it+" "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},bt}if(!nt||commits[nt]===void 0){if(vt===curBranch){let wt=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw wt.hash={text:"cherryPick "+it+" "+nt,token:"cherryPick "+it+" "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},wt}const bt=commits[branches[curBranch]];if(bt===void 0||!bt){let wt=new Error('Incorrect usage of "cherry-pick". Current branch ('+curBranch+")has no commits");throw wt.hash={text:"cherryPick "+it+" "+nt,token:"cherryPick "+it+" "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},wt}const _t={id:seq+"-"+getId(),message:"cherry-picked "+st+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,st.id],branch:curBranch,type:commitType$1.CHERRY_PICK,tag:rt!=null?rt:"cherry-pick:"+st.id};head=_t,commits[_t.id]=_t,branches[curBranch]=_t.id,log$1.debug(branches),log$1.debug("in cherryPick")}},checkout=function(it){if(it=common$1.sanitizeText(it,getConfig$1()),branches[it]===void 0){let nt=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+it+'")');throw nt.hash={text:"checkout "+it,token:"checkout "+it,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+it+'"']},nt}else{curBranch=it;const nt=branches[curBranch];head=commits[nt]}};function upsert(it,nt,rt){const st=it.indexOf(nt);st===-1?it.push(rt):it.splice(st,1,rt)}function prettyPrintCommitHistory(it){const nt=it.reduce((vt,bt)=>vt.seq>bt.seq?vt:bt,it[0]);let rt="";it.forEach(function(vt){vt===nt?rt+="	*":rt+="	|"});const st=[rt,nt.id,nt.seq];for(let vt in branches)branches[vt]===nt.id&&st.push(vt);if(log$1.debug(st.join(" ")),nt.parents&&nt.parents.length==2){const vt=commits[nt.parents[0]];upsert(it,nt,vt),it.push(commits[nt.parents[1]])}else{if(nt.parents.length==0)return;{const vt=commits[nt.parents];upsert(it,nt,vt)}}it=uniqBy(it,vt=>vt.id),prettyPrintCommitHistory(it)}const prettyPrint=function(){log$1.debug(commits);const it=getCommitsArray()[0];prettyPrintCommitHistory([it])},clear$f=function(){commits={},head=null;let it=getConfig$1().gitGraph.mainBranchName,nt=getConfig$1().gitGraph.mainBranchOrder;branches={},branches[it]=null,branchesConfig={},branchesConfig[it]={name:it,order:nt},curBranch=it,seq=0,clear$g()},getBranchesAsObjArray=function(){return Object.values(branchesConfig).map((nt,rt)=>nt.order!==null?nt:{...nt,order:parseFloat(`0.${rt}`,10)}).sort((nt,rt)=>nt.order-rt.order).map(({name:nt})=>({name:nt}))},getBranches=function(){return branches},getCommits=function(){return commits},getCommitsArray=function(){const it=Object.keys(commits).map(function(nt){return commits[nt]});return it.forEach(function(nt){log$1.debug(nt.id)}),it.sort((nt,rt)=>nt.seq-rt.seq),it},getCurrentBranch=function(){return curBranch},getDirection$3=function(){return direction$3},getHead=function(){return head},commitType$1={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},gitGraphDb={parseDirective:parseDirective$b,getConfig:()=>getConfig$1().gitGraph,setDirection:setDirection$3,setOptions,getOptions,commit,branch,merge,cherryPick,checkout,prettyPrint,clear:clear$f,getBranchesAsObjArray,getBranches,getCommits,getCommitsArray,getCurrentBranch,getDirection:getDirection$3,getHead,setAccTitle,getAccTitle,getAccDescription,setAccDescription,setDiagramTitle,getDiagramTitle,commitType:commitType$1};let allCommitsDict={};const commitType={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},THEME_COLOR_LIMIT=8;let branchPos={},commitPos={},lanes=[],maxPos=0;const clear$e=()=>{branchPos={},commitPos={},allCommitsDict={},maxPos=0,lanes=[]},drawText$2=it=>{const nt=document.createElementNS("http://www.w3.org/2000/svg","text");let rt=[];typeof it=="string"?rt=it.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(it)?rt=it:rt=[];for(const st of rt){const vt=document.createElementNS("http://www.w3.org/2000/svg","tspan");vt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),vt.setAttribute("dy","1em"),vt.setAttribute("x","0"),vt.setAttribute("class","row"),vt.textContent=st.trim(),nt.appendChild(vt)}return nt},drawCommits=(it,nt,rt)=>{const st=getConfig().gitGraph,vt=it.append("g").attr("class","commit-bullets"),bt=it.append("g").attr("class","commit-labels");let _t=0;Object.keys(nt).sort((Tt,$t)=>nt[Tt].seq-nt[$t].seq).forEach(Tt=>{const $t=nt[Tt],Dt=branchPos[$t.branch].pos,Lt=_t+10;if(rt){let Bt,Ht=$t.customType!==void 0&&$t.customType!==""?$t.customType:$t.type;switch(Ht){case commitType.NORMAL:Bt="commit-normal";break;case commitType.REVERSE:Bt="commit-reverse";break;case commitType.HIGHLIGHT:Bt="commit-highlight";break;case commitType.MERGE:Bt="commit-merge";break;case commitType.CHERRY_PICK:Bt="commit-cherry-pick";break;default:Bt="commit-normal"}if(Ht===commitType.HIGHLIGHT){const Ut=vt.append("rect");Ut.attr("x",Lt-10),Ut.attr("y",Dt-10),Ut.attr("height",20),Ut.attr("width",20),Ut.attr("class",`commit ${$t.id} commit-highlight${branchPos[$t.branch].index%THEME_COLOR_LIMIT} ${Bt}-outer`),vt.append("rect").attr("x",Lt-6).attr("y",Dt-6).attr("height",12).attr("width",12).attr("class",`commit ${$t.id} commit${branchPos[$t.branch].index%THEME_COLOR_LIMIT} ${Bt}-inner`)}else if(Ht===commitType.CHERRY_PICK)vt.append("circle").attr("cx",Lt).attr("cy",Dt).attr("r",10).attr("class",`commit ${$t.id} ${Bt}`),vt.append("circle").attr("cx",Lt-3).attr("cy",Dt+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${$t.id} ${Bt}`),vt.append("circle").attr("cx",Lt+3).attr("cy",Dt+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${$t.id} ${Bt}`),vt.append("line").attr("x1",Lt+3).attr("y1",Dt+1).attr("x2",Lt).attr("y2",Dt-5).attr("stroke","#fff").attr("class",`commit ${$t.id} ${Bt}`),vt.append("line").attr("x1",Lt-3).attr("y1",Dt+1).attr("x2",Lt).attr("y2",Dt-5).attr("stroke","#fff").attr("class",`commit ${$t.id} ${Bt}`);else{const Ut=vt.append("circle");if(Ut.attr("cx",Lt),Ut.attr("cy",Dt),Ut.attr("r",$t.type===commitType.MERGE?9:10),Ut.attr("class",`commit ${$t.id} commit${branchPos[$t.branch].index%THEME_COLOR_LIMIT}`),Ht===commitType.MERGE){const It=vt.append("circle");It.attr("cx",Lt),It.attr("cy",Dt),It.attr("r",6),It.attr("class",`commit ${Bt} ${$t.id} commit${branchPos[$t.branch].index%THEME_COLOR_LIMIT}`)}Ht===commitType.REVERSE&&vt.append("path").attr("d",`M ${Lt-5},${Dt-5}L${Lt+5},${Dt+5}M${Lt-5},${Dt+5}L${Lt+5},${Dt-5}`).attr("class",`commit ${Bt} ${$t.id} commit${branchPos[$t.branch].index%THEME_COLOR_LIMIT}`)}}if(commitPos[$t.id]={x:_t+10,y:Dt},rt){if($t.type!==commitType.CHERRY_PICK&&($t.customId&&$t.type===commitType.MERGE||$t.type!==commitType.MERGE)&&st.showCommitLabel){const Ut=bt.append("g"),It=Ut.insert("rect").attr("class","commit-label-bkg"),jt=Ut.append("text").attr("x",_t).attr("y",Dt+25).attr("class","commit-label").text($t.id);let Wt=jt.node().getBBox();if(It.attr("x",_t+10-Wt.width/2-2).attr("y",Dt+13.5).attr("width",Wt.width+2*2).attr("height",Wt.height+2*2),jt.attr("x",_t+10-Wt.width/2),st.rotateCommitLabel){let qt=-7.5-(Wt.width+10)/25*9.5,Yt=10+Wt.width/25*8.5;Ut.attr("transform","translate("+qt+", "+Yt+") rotate("+-45+", "+_t+", "+Dt+")")}}if($t.tag){const Ut=bt.insert("polygon"),It=bt.append("circle"),jt=bt.append("text").attr("y",Dt-16).attr("class","tag-label").text($t.tag);let Wt=jt.node().getBBox();jt.attr("x",_t+10-Wt.width/2);const qt=Wt.height/2,Yt=Dt-19.2;Ut.attr("class","tag-label-bkg").attr("points",`
          ${_t-Wt.width/2-4/2},${Yt+2}
          ${_t-Wt.width/2-4/2},${Yt-2}
          ${_t+10-Wt.width/2-4},${Yt-qt-2}
          ${_t+10+Wt.width/2+4},${Yt-qt-2}
          ${_t+10+Wt.width/2+4},${Yt+qt+2}
          ${_t+10-Wt.width/2-4},${Yt+qt+2}`),It.attr("cx",_t-Wt.width/2+4/2).attr("cy",Yt).attr("r",1.5).attr("class","tag-hole")}}_t+=50,_t>maxPos&&(maxPos=_t)})},hasOverlappingCommits=(it,nt,rt)=>Object.keys(rt).filter(bt=>rt[bt].branch===nt.branch&&rt[bt].seq>it.seq&&rt[bt].seq<nt.seq).length>0,findLane=(it,nt,rt=0)=>{const st=it+Math.abs(it-nt)/2;if(rt>5)return st;if(lanes.every(_t=>Math.abs(_t-st)>=10))return lanes.push(st),st;const bt=Math.abs(it-nt);return findLane(it,nt-bt/5,rt+1)},drawArrow=(it,nt,rt,st)=>{const vt=commitPos[nt.id],bt=commitPos[rt.id],_t=hasOverlappingCommits(nt,rt,st);let wt="",Et="",Tt=0,$t=0,Dt=branchPos[rt.branch].index,Lt;if(_t){wt="A 10 10, 0, 0, 0,",Et="A 10 10, 0, 0, 1,",Tt=10,$t=10,Dt=branchPos[rt.branch].index;const Bt=vt.y<bt.y?findLane(vt.y,bt.y):findLane(bt.y,vt.y);vt.y<bt.y?Lt=`M ${vt.x} ${vt.y} L ${vt.x} ${Bt-Tt} ${wt} ${vt.x+$t} ${Bt} L ${bt.x-Tt} ${Bt} ${Et} ${bt.x} ${Bt+$t} L ${bt.x} ${bt.y}`:Lt=`M ${vt.x} ${vt.y} L ${vt.x} ${Bt+Tt} ${Et} ${vt.x+$t} ${Bt} L ${bt.x-Tt} ${Bt} ${wt} ${bt.x} ${Bt-$t} L ${bt.x} ${bt.y}`}else vt.y<bt.y&&(wt="A 20 20, 0, 0, 0,",Tt=20,$t=20,Dt=branchPos[rt.branch].index,Lt=`M ${vt.x} ${vt.y} L ${vt.x} ${bt.y-Tt} ${wt} ${vt.x+$t} ${bt.y} L ${bt.x} ${bt.y}`),vt.y>bt.y&&(wt="A 20 20, 0, 0, 0,",Tt=20,$t=20,Dt=branchPos[nt.branch].index,Lt=`M ${vt.x} ${vt.y} L ${bt.x-Tt} ${vt.y} ${wt} ${bt.x} ${vt.y-$t} L ${bt.x} ${bt.y}`),vt.y===bt.y&&(Dt=branchPos[nt.branch].index,Lt=`M ${vt.x} ${vt.y} L ${vt.x} ${bt.y-Tt} ${wt} ${vt.x+$t} ${bt.y} L ${bt.x} ${bt.y}`);it.append("path").attr("d",Lt).attr("class","arrow arrow"+Dt%THEME_COLOR_LIMIT)},drawArrows=(it,nt)=>{const rt=it.append("g").attr("class","commit-arrows");Object.keys(nt).forEach(st=>{const vt=nt[st];vt.parents&&vt.parents.length>0&&vt.parents.forEach(bt=>{drawArrow(rt,nt[bt],vt,nt)})})},drawBranches=(it,nt)=>{const rt=getConfig().gitGraph,st=it.append("g");nt.forEach((vt,bt)=>{const _t=bt%THEME_COLOR_LIMIT,wt=branchPos[vt.name].pos,Et=st.append("line");Et.attr("x1",0),Et.attr("y1",wt),Et.attr("x2",maxPos),Et.attr("y2",wt),Et.attr("class","branch branch"+_t),lanes.push(wt);let Tt=vt.name;const $t=drawText$2(Tt),Dt=st.insert("rect"),Bt=st.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+_t);Bt.node().appendChild($t);let Ht=$t.getBBox();Dt.attr("class","branchLabelBkg label"+_t).attr("rx",4).attr("ry",4).attr("x",-Ht.width-4-(rt.rotateCommitLabel===!0?30:0)).attr("y",-Ht.height/2+8).attr("width",Ht.width+18).attr("height",Ht.height+4),Bt.attr("transform","translate("+(-Ht.width-14-(rt.rotateCommitLabel===!0?30:0))+", "+(wt-Ht.height/2-1)+")"),Dt.attr("transform","translate("+-19+", "+(wt-Ht.height/2)+")")})},draw$f=function(it,nt,rt,st){var vt;clear$e();const bt=getConfig(),_t=bt.gitGraph;log$1.debug("in gitgraph renderer",it+`
`,"id:",nt,rt),allCommitsDict=st.db.getCommits();const wt=st.db.getBranchesAsObjArray();let Et=0;wt.forEach(($t,Dt)=>{branchPos[$t.name]={pos:Et,index:Dt},Et+=50+(_t.rotateCommitLabel?40:0)});const Tt=select(`[id="${nt}"]`);drawCommits(Tt,allCommitsDict,!1),_t.showBranches&&drawBranches(Tt,wt),drawArrows(Tt,allCommitsDict),drawCommits(Tt,allCommitsDict,!0),utils.insertTitle(Tt,"gitTitleText",_t.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox(void 0,Tt,_t.diagramPadding,(vt=_t.useMaxWidth)!=null?vt:bt.useMaxWidth)},gitGraphRenderer={draw:draw$f},getStyles=it=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(nt=>`
        .branch-label${nt} { fill: ${it["gitBranchLabel"+nt]}; }
        .commit${nt} { stroke: ${it["git"+nt]}; fill: ${it["git"+nt]}; }
        .commit-highlight${nt} { stroke: ${it["gitInv"+nt]}; fill: ${it["gitInv"+nt]}; }
        .label${nt}  { fill: ${it["git"+nt]}; }
        .arrow${nt} { stroke: ${it["git"+nt]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${it.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${it.commitLabelFontSize}; fill: ${it.commitLabelColor};}
  .commit-label-bkg { font-size: ${it.commitLabelFontSize}; fill: ${it.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${it.tagLabelFontSize}; fill: ${it.tagLabelColor};}
  .tag-label-bkg { fill: ${it.tagLabelBackground}; stroke: ${it.tagLabelBorder}; }
  .tag-hole { fill: ${it.textColor}; }

  .commit-merge {
    stroke: ${it.primaryColor};
    fill: ${it.primaryColor};
  }
  .commit-reverse {
    stroke: ${it.primaryColor};
    fill: ${it.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${it.primaryColor};
    fill: ${it.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${it.textColor};
  }
  }
`,gitGraphStyles=getStyles;var parser$a=function(){var it=function(li,ai,xi,ki){for(xi=xi||{},ki=li.length;ki--;xi[li[ki]]=ai);return xi},nt=[1,6],rt=[1,7],st=[1,8],vt=[1,9],bt=[1,16],_t=[1,11],wt=[1,12],Et=[1,13],Tt=[1,14],$t=[1,15],Dt=[1,27],Lt=[1,33],Bt=[1,34],Ht=[1,35],Ut=[1,36],It=[1,37],jt=[1,72],Wt=[1,73],qt=[1,74],Yt=[1,75],ti=[1,76],oi=[1,77],si=[1,78],di=[1,38],ui=[1,39],ci=[1,40],hi=[1,41],ei=[1,42],wi=[1,43],Kt=[1,44],Ni=[1,45],ni=[1,46],Fi=[1,47],Xi=[1,48],nn=[1,49],Ai=[1,50],ji=[1,51],Ri=[1,52],Vi=[1,53],Qi=[1,54],rn=[1,55],Pi=[1,56],bn=[1,57],Oi=[1,59],Ii=[1,60],Gi=[1,61],$i=[1,62],ii=[1,63],Nt=[1,64],Qt=[1,65],Jt=[1,66],Si=[1,67],vi=[1,68],Mi=[1,69],_i=[24,52],Li=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Ti=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],zi=[1,94],Hi=[1,95],tn=[1,96],qi=[1,97],Wi=[15,24,52],Cn=[7,8,9,10,18,22,25,26,27,28],En=[15,24,43,52],$n=[15,24,43,52,86,87,89,90],Fn=[15,43],Rn=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],br={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(ai,xi,ki,Ki,gn,Ui,yn){var an=Ui.length-1;switch(gn){case 4:Ki.setDirection("TB");break;case 5:Ki.setDirection("BT");break;case 6:Ki.setDirection("RL");break;case 7:Ki.setDirection("LR");break;case 11:Ki.parseDirective("%%{","open_directive");break;case 12:break;case 13:Ui[an]=Ui[an].trim().replace(/'/g,'"'),Ki.parseDirective(Ui[an],"arg_directive");break;case 14:Ki.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Ki.setC4Type(Ui[an-3]);break;case 26:Ki.setTitle(Ui[an].substring(6)),this.$=Ui[an].substring(6);break;case 27:Ki.setAccDescription(Ui[an].substring(15)),this.$=Ui[an].substring(15);break;case 28:this.$=Ui[an].trim(),Ki.setTitle(this.$);break;case 29:case 30:this.$=Ui[an].trim(),Ki.setAccDescription(this.$);break;case 35:case 36:Ui[an].splice(2,0,"ENTERPRISE"),Ki.addPersonOrSystemBoundary(...Ui[an]),this.$=Ui[an];break;case 37:Ki.addPersonOrSystemBoundary(...Ui[an]),this.$=Ui[an];break;case 38:Ui[an].splice(2,0,"CONTAINER"),Ki.addContainerBoundary(...Ui[an]),this.$=Ui[an];break;case 39:Ki.addDeploymentNode("node",...Ui[an]),this.$=Ui[an];break;case 40:Ki.addDeploymentNode("nodeL",...Ui[an]),this.$=Ui[an];break;case 41:Ki.addDeploymentNode("nodeR",...Ui[an]),this.$=Ui[an];break;case 42:Ki.popBoundaryParseStack();break;case 46:Ki.addPersonOrSystem("person",...Ui[an]),this.$=Ui[an];break;case 47:Ki.addPersonOrSystem("external_person",...Ui[an]),this.$=Ui[an];break;case 48:Ki.addPersonOrSystem("system",...Ui[an]),this.$=Ui[an];break;case 49:Ki.addPersonOrSystem("system_db",...Ui[an]),this.$=Ui[an];break;case 50:Ki.addPersonOrSystem("system_queue",...Ui[an]),this.$=Ui[an];break;case 51:Ki.addPersonOrSystem("external_system",...Ui[an]),this.$=Ui[an];break;case 52:Ki.addPersonOrSystem("external_system_db",...Ui[an]),this.$=Ui[an];break;case 53:Ki.addPersonOrSystem("external_system_queue",...Ui[an]),this.$=Ui[an];break;case 54:Ki.addContainer("container",...Ui[an]),this.$=Ui[an];break;case 55:Ki.addContainer("container_db",...Ui[an]),this.$=Ui[an];break;case 56:Ki.addContainer("container_queue",...Ui[an]),this.$=Ui[an];break;case 57:Ki.addContainer("external_container",...Ui[an]),this.$=Ui[an];break;case 58:Ki.addContainer("external_container_db",...Ui[an]),this.$=Ui[an];break;case 59:Ki.addContainer("external_container_queue",...Ui[an]),this.$=Ui[an];break;case 60:Ki.addComponent("component",...Ui[an]),this.$=Ui[an];break;case 61:Ki.addComponent("component_db",...Ui[an]),this.$=Ui[an];break;case 62:Ki.addComponent("component_queue",...Ui[an]),this.$=Ui[an];break;case 63:Ki.addComponent("external_component",...Ui[an]),this.$=Ui[an];break;case 64:Ki.addComponent("external_component_db",...Ui[an]),this.$=Ui[an];break;case 65:Ki.addComponent("external_component_queue",...Ui[an]),this.$=Ui[an];break;case 67:Ki.addRel("rel",...Ui[an]),this.$=Ui[an];break;case 68:Ki.addRel("birel",...Ui[an]),this.$=Ui[an];break;case 69:Ki.addRel("rel_u",...Ui[an]),this.$=Ui[an];break;case 70:Ki.addRel("rel_d",...Ui[an]),this.$=Ui[an];break;case 71:Ki.addRel("rel_l",...Ui[an]),this.$=Ui[an];break;case 72:Ki.addRel("rel_r",...Ui[an]),this.$=Ui[an];break;case 73:Ki.addRel("rel_b",...Ui[an]),this.$=Ui[an];break;case 74:Ui[an].splice(0,1),Ki.addRel("rel",...Ui[an]),this.$=Ui[an];break;case 75:Ki.updateElStyle("update_el_style",...Ui[an]),this.$=Ui[an];break;case 76:Ki.updateRelStyle("update_rel_style",...Ui[an]),this.$=Ui[an];break;case 77:Ki.updateLayoutConfig("update_layout_config",...Ui[an]),this.$=Ui[an];break;case 78:this.$=[Ui[an]];break;case 79:Ui[an].unshift(Ui[an-1]),this.$=Ui[an];break;case 80:case 82:this.$=Ui[an].trim();break;case 81:let Tn={};Tn[Ui[an-1].trim()]=Ui[an].trim(),this.$=Tn;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:nt,8:rt,9:st,10:vt,11:5,12:10,18:bt,22:_t,25:wt,26:Et,27:Tt,28:$t},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:nt,8:rt,9:st,10:vt,11:5,12:10,18:bt,22:_t,25:wt,26:Et,27:Tt,28:$t},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:Dt},it([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:Lt,33:Bt,34:Ht,36:Ut,38:It,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{23:79,29:29,30:30,31:31,32:Lt,33:Bt,34:Ht,36:Ut,38:It,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{23:80,29:29,30:30,31:31,32:Lt,33:Bt,34:Ht,36:Ut,38:It,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{23:81,29:29,30:30,31:31,32:Lt,33:Bt,34:Ht,36:Ut,38:It,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{23:82,29:29,30:30,31:31,32:Lt,33:Bt,34:Ht,36:Ut,38:It,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},it(_i,[2,20],{53:32,39:58,40:70,42:71,30:87,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi}),it(_i,[2,21]),it(Li,[2,23],{15:[1,88]}),it(_i,[2,43],{15:[1,89]}),it(Ti,[2,26]),it(Ti,[2,27]),{35:[1,90]},{37:[1,91]},it(Ti,[2,30]),{45:92,85:93,86:zi,87:Hi,89:tn,90:qi},{45:98,85:93,86:zi,87:Hi,89:tn,90:qi},{45:99,85:93,86:zi,87:Hi,89:tn,90:qi},{45:100,85:93,86:zi,87:Hi,89:tn,90:qi},{45:101,85:93,86:zi,87:Hi,89:tn,90:qi},{45:102,85:93,86:zi,87:Hi,89:tn,90:qi},{45:103,85:93,86:zi,87:Hi,89:tn,90:qi},{45:104,85:93,86:zi,87:Hi,89:tn,90:qi},{45:105,85:93,86:zi,87:Hi,89:tn,90:qi},{45:106,85:93,86:zi,87:Hi,89:tn,90:qi},{45:107,85:93,86:zi,87:Hi,89:tn,90:qi},{45:108,85:93,86:zi,87:Hi,89:tn,90:qi},{45:109,85:93,86:zi,87:Hi,89:tn,90:qi},{45:110,85:93,86:zi,87:Hi,89:tn,90:qi},{45:111,85:93,86:zi,87:Hi,89:tn,90:qi},{45:112,85:93,86:zi,87:Hi,89:tn,90:qi},{45:113,85:93,86:zi,87:Hi,89:tn,90:qi},{45:114,85:93,86:zi,87:Hi,89:tn,90:qi},{45:115,85:93,86:zi,87:Hi,89:tn,90:qi},{45:116,85:93,86:zi,87:Hi,89:tn,90:qi},it(Wi,[2,66]),{45:117,85:93,86:zi,87:Hi,89:tn,90:qi},{45:118,85:93,86:zi,87:Hi,89:tn,90:qi},{45:119,85:93,86:zi,87:Hi,89:tn,90:qi},{45:120,85:93,86:zi,87:Hi,89:tn,90:qi},{45:121,85:93,86:zi,87:Hi,89:tn,90:qi},{45:122,85:93,86:zi,87:Hi,89:tn,90:qi},{45:123,85:93,86:zi,87:Hi,89:tn,90:qi},{45:124,85:93,86:zi,87:Hi,89:tn,90:qi},{45:125,85:93,86:zi,87:Hi,89:tn,90:qi},{45:126,85:93,86:zi,87:Hi,89:tn,90:qi},{45:127,85:93,86:zi,87:Hi,89:tn,90:qi},{30:128,39:58,40:70,42:71,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,53:32,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi},{15:[1,130],43:[1,129]},{45:131,85:93,86:zi,87:Hi,89:tn,90:qi},{45:132,85:93,86:zi,87:Hi,89:tn,90:qi},{45:133,85:93,86:zi,87:Hi,89:tn,90:qi},{45:134,85:93,86:zi,87:Hi,89:tn,90:qi},{45:135,85:93,86:zi,87:Hi,89:tn,90:qi},{45:136,85:93,86:zi,87:Hi,89:tn,90:qi},{45:137,85:93,86:zi,87:Hi,89:tn,90:qi},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},it(Cn,[2,9]),{14:142,21:Dt},{21:[2,13]},{1:[2,15]},it(_i,[2,22]),it(Li,[2,24],{31:31,29:143,32:Lt,33:Bt,34:Ht,36:Ut,38:It}),it(_i,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:Lt,33:Bt,34:Ht,36:Ut,38:It,44:jt,46:Wt,47:qt,48:Yt,49:ti,50:oi,51:si,54:di,55:ui,56:ci,57:hi,58:ei,59:wi,60:Kt,61:Ni,62:ni,63:Fi,64:Xi,65:nn,66:Ai,67:ji,68:Ri,69:Vi,70:Qi,71:rn,72:Pi,73:bn,74:Oi,75:Ii,76:Gi,77:$i,78:ii,79:Nt,80:Qt,81:Jt,82:Si,83:vi,84:Mi}),it(Ti,[2,28]),it(Ti,[2,29]),it(Wi,[2,46]),it(En,[2,78],{85:93,45:145,86:zi,87:Hi,89:tn,90:qi}),it($n,[2,80]),{88:[1,146]},it($n,[2,82]),it($n,[2,83]),it(Wi,[2,47]),it(Wi,[2,48]),it(Wi,[2,49]),it(Wi,[2,50]),it(Wi,[2,51]),it(Wi,[2,52]),it(Wi,[2,53]),it(Wi,[2,54]),it(Wi,[2,55]),it(Wi,[2,56]),it(Wi,[2,57]),it(Wi,[2,58]),it(Wi,[2,59]),it(Wi,[2,60]),it(Wi,[2,61]),it(Wi,[2,62]),it(Wi,[2,63]),it(Wi,[2,64]),it(Wi,[2,65]),it(Wi,[2,67]),it(Wi,[2,68]),it(Wi,[2,69]),it(Wi,[2,70]),it(Wi,[2,71]),it(Wi,[2,72]),it(Wi,[2,73]),it(Wi,[2,74]),it(Wi,[2,75]),it(Wi,[2,76]),it(Wi,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},it(Fn,[2,35]),it(Fn,[2,36]),it(Fn,[2,37]),it(Fn,[2,38]),it(Fn,[2,39]),it(Fn,[2,40]),it(Fn,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},it(Li,[2,25]),it(_i,[2,45]),it(En,[2,79]),it($n,[2,81]),it(Wi,[2,31]),it(Wi,[2,42]),it(Rn,[2,32]),it(Rn,[2,33],{15:[1,152]}),it(Cn,[2,10]),it(Rn,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(ai,xi){if(xi.recoverable)this.trace(ai);else{var ki=new Error(ai);throw ki.hash=xi,ki}},parse:function(ai){var xi=this,ki=[0],Ki=[],gn=[null],Ui=[],yn=this.table,an="",Tn=0,Dn=0,Hn=2,Mn=1,sr=Ui.slice.call(arguments,1),jn=Object.create(this.lexer),ir={yy:{}};for(var gr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,gr)&&(ir.yy[gr]=this.yy[gr]);jn.setInput(ai,ir.yy),ir.yy.lexer=jn,ir.yy.parser=this,typeof jn.yylloc>"u"&&(jn.yylloc={});var nr=jn.yylloc;Ui.push(nr);var Po=jn.options&&jn.options.ranges;typeof ir.yy.parseError=="function"?this.parseError=ir.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Wr(){var Yi;return Yi=Ki.pop()||jn.lex()||Mn,typeof Yi!="number"&&(Yi instanceof Array&&(Ki=Yi,Yi=Ki.pop()),Yi=xi.symbols_[Yi]||Yi),Yi}for(var zn,ur,Nr,Fr,Ir={},sn,dn,hn,Ln;;){if(ur=ki[ki.length-1],this.defaultActions[ur]?Nr=this.defaultActions[ur]:((zn===null||typeof zn>"u")&&(zn=Wr()),Nr=yn[ur]&&yn[ur][zn]),typeof Nr>"u"||!Nr.length||!Nr[0]){var wn="";Ln=[];for(sn in yn[ur])this.terminals_[sn]&&sn>Hn&&Ln.push("'"+this.terminals_[sn]+"'");jn.showPosition?wn="Parse error on line "+(Tn+1)+`:
`+jn.showPosition()+`
Expecting `+Ln.join(", ")+", got '"+(this.terminals_[zn]||zn)+"'":wn="Parse error on line "+(Tn+1)+": Unexpected "+(zn==Mn?"end of input":"'"+(this.terminals_[zn]||zn)+"'"),this.parseError(wn,{text:jn.match,token:this.terminals_[zn]||zn,line:jn.yylineno,loc:nr,expected:Ln})}if(Nr[0]instanceof Array&&Nr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ur+", token: "+zn);switch(Nr[0]){case 1:ki.push(zn),gn.push(jn.yytext),Ui.push(jn.yylloc),ki.push(Nr[1]),zn=null,Dn=jn.yyleng,an=jn.yytext,Tn=jn.yylineno,nr=jn.yylloc;break;case 2:if(dn=this.productions_[Nr[1]][1],Ir.$=gn[gn.length-dn],Ir._$={first_line:Ui[Ui.length-(dn||1)].first_line,last_line:Ui[Ui.length-1].last_line,first_column:Ui[Ui.length-(dn||1)].first_column,last_column:Ui[Ui.length-1].last_column},Po&&(Ir._$.range=[Ui[Ui.length-(dn||1)].range[0],Ui[Ui.length-1].range[1]]),Fr=this.performAction.apply(Ir,[an,Dn,Tn,ir.yy,Nr[1],gn,Ui].concat(sr)),typeof Fr<"u")return Fr;dn&&(ki=ki.slice(0,-1*dn*2),gn=gn.slice(0,-1*dn),Ui=Ui.slice(0,-1*dn)),ki.push(this.productions_[Nr[1]][0]),gn.push(Ir.$),Ui.push(Ir._$),hn=yn[ki[ki.length-2]][ki[ki.length-1]],ki.push(hn);break;case 3:return!0}}return!0}},Bn=function(){var li={EOF:1,parseError:function(xi,ki){if(this.yy.parser)this.yy.parser.parseError(xi,ki);else throw new Error(xi)},setInput:function(ai,xi){return this.yy=xi||this.yy||{},this._input=ai,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ai=this._input[0];this.yytext+=ai,this.yyleng++,this.offset++,this.match+=ai,this.matched+=ai;var xi=ai.match(/(?:\r\n?|\n).*/g);return xi?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ai},unput:function(ai){var xi=ai.length,ki=ai.split(/(?:\r\n?|\n)/g);this._input=ai+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-xi),this.offset-=xi;var Ki=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ki.length-1&&(this.yylineno-=ki.length-1);var gn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ki?(ki.length===Ki.length?this.yylloc.first_column:0)+Ki[Ki.length-ki.length].length-ki[0].length:this.yylloc.first_column-xi},this.options.ranges&&(this.yylloc.range=[gn[0],gn[0]+this.yyleng-xi]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ai){this.unput(this.match.slice(ai))},pastInput:function(){var ai=this.matched.substr(0,this.matched.length-this.match.length);return(ai.length>20?"...":"")+ai.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ai=this.match;return ai.length<20&&(ai+=this._input.substr(0,20-ai.length)),(ai.substr(0,20)+(ai.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ai=this.pastInput(),xi=new Array(ai.length+1).join("-");return ai+this.upcomingInput()+`
`+xi+"^"},test_match:function(ai,xi){var ki,Ki,gn;if(this.options.backtrack_lexer&&(gn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(gn.yylloc.range=this.yylloc.range.slice(0))),Ki=ai[0].match(/(?:\r\n?|\n).*/g),Ki&&(this.yylineno+=Ki.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ki?Ki[Ki.length-1].length-Ki[Ki.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ai[0].length},this.yytext+=ai[0],this.match+=ai[0],this.matches=ai,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ai[0].length),this.matched+=ai[0],ki=this.performAction.call(this,this.yy,this,xi,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ki)return ki;if(this._backtrack){for(var Ui in gn)this[Ui]=gn[Ui];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ai,xi,ki,Ki;this._more||(this.yytext="",this.match="");for(var gn=this._currentRules(),Ui=0;Ui<gn.length;Ui++)if(ki=this._input.match(this.rules[gn[Ui]]),ki&&(!xi||ki[0].length>xi[0].length)){if(xi=ki,Ki=Ui,this.options.backtrack_lexer){if(ai=this.test_match(ki,gn[Ui]),ai!==!1)return ai;if(this._backtrack){xi=!1;continue}else return!1}else if(!this.options.flex)break}return xi?(ai=this.test_match(xi,gn[Ki]),ai!==!1?ai:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var xi=this.next();return xi||this.lex()},begin:function(xi){this.conditionStack.push(xi)},popState:function(){var xi=this.conditionStack.length-1;return xi>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(xi){return xi=this.conditionStack.length-1-Math.abs(xi||0),xi>=0?this.conditionStack[xi]:"INITIAL"},pushState:function(xi){this.begin(xi)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(xi,ki,Ki,gn){switch(Ki){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return li}();br.lexer=Bn;function on(){this.yy={}}return on.prototype=br,br.Parser=on,new on}();parser$a.parser=parser$a;const c4Parser=parser$a,c4Detector=it=>it.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let c4ShapeArray=[],boundaryParseStack=[""],currentBoundaryParse="global",parentBoundaryParse="",boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rels=[],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2;var c4Type;const getC4Type=function(){return c4Type},setC4Type=function(it){c4Type=sanitizeText$5(it,getConfig$1())},parseDirective$a=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},addRel=function(it,nt,rt,st,vt,bt,_t,wt,Et){if(it==null||nt===void 0||nt===null||rt===void 0||rt===null||st===void 0||st===null)return;let Tt={};const $t=rels.find(Dt=>Dt.from===nt&&Dt.to===rt);if($t?Tt=$t:rels.push(Tt),Tt.type=it,Tt.from=nt,Tt.to=rt,Tt.label={text:st},vt==null)Tt.techn={text:""};else if(typeof vt=="object"){let[Dt,Lt]=Object.entries(vt)[0];Tt[Dt]={text:Lt}}else Tt.techn={text:vt};if(bt==null)Tt.descr={text:""};else if(typeof bt=="object"){let[Dt,Lt]=Object.entries(bt)[0];Tt[Dt]={text:Lt}}else Tt.descr={text:bt};if(typeof _t=="object"){let[Dt,Lt]=Object.entries(_t)[0];Tt[Dt]=Lt}else Tt.sprite=_t;if(typeof wt=="object"){let[Dt,Lt]=Object.entries(wt)[0];Tt[Dt]=Lt}else Tt.tags=wt;if(typeof Et=="object"){let[Dt,Lt]=Object.entries(Et)[0];Tt[Dt]=Lt}else Tt.link=Et;Tt.wrap=autoWrap$1()},addPersonOrSystem=function(it,nt,rt,st,vt,bt,_t){if(nt===null||rt===null)return;let wt={};const Et=c4ShapeArray.find(Tt=>Tt.alias===nt);if(Et&&nt===Et.alias?wt=Et:(wt.alias=nt,c4ShapeArray.push(wt)),rt==null?wt.label={text:""}:wt.label={text:rt},st==null)wt.descr={text:""};else if(typeof st=="object"){let[Tt,$t]=Object.entries(st)[0];wt[Tt]={text:$t}}else wt.descr={text:st};if(typeof vt=="object"){let[Tt,$t]=Object.entries(vt)[0];wt[Tt]=$t}else wt.sprite=vt;if(typeof bt=="object"){let[Tt,$t]=Object.entries(bt)[0];wt[Tt]=$t}else wt.tags=bt;if(typeof _t=="object"){let[Tt,$t]=Object.entries(_t)[0];wt[Tt]=$t}else wt.link=_t;wt.typeC4Shape={text:it},wt.parentBoundary=currentBoundaryParse,wt.wrap=autoWrap$1()},addContainer=function(it,nt,rt,st,vt,bt,_t,wt){if(nt===null||rt===null)return;let Et={};const Tt=c4ShapeArray.find($t=>$t.alias===nt);if(Tt&&nt===Tt.alias?Et=Tt:(Et.alias=nt,c4ShapeArray.push(Et)),rt==null?Et.label={text:""}:Et.label={text:rt},st==null)Et.techn={text:""};else if(typeof st=="object"){let[$t,Dt]=Object.entries(st)[0];Et[$t]={text:Dt}}else Et.techn={text:st};if(vt==null)Et.descr={text:""};else if(typeof vt=="object"){let[$t,Dt]=Object.entries(vt)[0];Et[$t]={text:Dt}}else Et.descr={text:vt};if(typeof bt=="object"){let[$t,Dt]=Object.entries(bt)[0];Et[$t]=Dt}else Et.sprite=bt;if(typeof _t=="object"){let[$t,Dt]=Object.entries(_t)[0];Et[$t]=Dt}else Et.tags=_t;if(typeof wt=="object"){let[$t,Dt]=Object.entries(wt)[0];Et[$t]=Dt}else Et.link=wt;Et.wrap=autoWrap$1(),Et.typeC4Shape={text:it},Et.parentBoundary=currentBoundaryParse},addComponent=function(it,nt,rt,st,vt,bt,_t,wt){if(nt===null||rt===null)return;let Et={};const Tt=c4ShapeArray.find($t=>$t.alias===nt);if(Tt&&nt===Tt.alias?Et=Tt:(Et.alias=nt,c4ShapeArray.push(Et)),rt==null?Et.label={text:""}:Et.label={text:rt},st==null)Et.techn={text:""};else if(typeof st=="object"){let[$t,Dt]=Object.entries(st)[0];Et[$t]={text:Dt}}else Et.techn={text:st};if(vt==null)Et.descr={text:""};else if(typeof vt=="object"){let[$t,Dt]=Object.entries(vt)[0];Et[$t]={text:Dt}}else Et.descr={text:vt};if(typeof bt=="object"){let[$t,Dt]=Object.entries(bt)[0];Et[$t]=Dt}else Et.sprite=bt;if(typeof _t=="object"){let[$t,Dt]=Object.entries(_t)[0];Et[$t]=Dt}else Et.tags=_t;if(typeof wt=="object"){let[$t,Dt]=Object.entries(wt)[0];Et[$t]=Dt}else Et.link=wt;Et.wrap=autoWrap$1(),Et.typeC4Shape={text:it},Et.parentBoundary=currentBoundaryParse},addPersonOrSystemBoundary=function(it,nt,rt,st,vt){if(it===null||nt===null)return;let bt={};const _t=boundarys.find(wt=>wt.alias===it);if(_t&&it===_t.alias?bt=_t:(bt.alias=it,boundarys.push(bt)),nt==null?bt.label={text:""}:bt.label={text:nt},rt==null)bt.type={text:"system"};else if(typeof rt=="object"){let[wt,Et]=Object.entries(rt)[0];bt[wt]={text:Et}}else bt.type={text:rt};if(typeof st=="object"){let[wt,Et]=Object.entries(st)[0];bt[wt]=Et}else bt.tags=st;if(typeof vt=="object"){let[wt,Et]=Object.entries(vt)[0];bt[wt]=Et}else bt.link=vt;bt.parentBoundary=currentBoundaryParse,bt.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=it,boundaryParseStack.push(parentBoundaryParse)},addContainerBoundary=function(it,nt,rt,st,vt){if(it===null||nt===null)return;let bt={};const _t=boundarys.find(wt=>wt.alias===it);if(_t&&it===_t.alias?bt=_t:(bt.alias=it,boundarys.push(bt)),nt==null?bt.label={text:""}:bt.label={text:nt},rt==null)bt.type={text:"container"};else if(typeof rt=="object"){let[wt,Et]=Object.entries(rt)[0];bt[wt]={text:Et}}else bt.type={text:rt};if(typeof st=="object"){let[wt,Et]=Object.entries(st)[0];bt[wt]=Et}else bt.tags=st;if(typeof vt=="object"){let[wt,Et]=Object.entries(vt)[0];bt[wt]=Et}else bt.link=vt;bt.parentBoundary=currentBoundaryParse,bt.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=it,boundaryParseStack.push(parentBoundaryParse)},addDeploymentNode=function(it,nt,rt,st,vt,bt,_t,wt){if(nt===null||rt===null)return;let Et={};const Tt=boundarys.find($t=>$t.alias===nt);if(Tt&&nt===Tt.alias?Et=Tt:(Et.alias=nt,boundarys.push(Et)),rt==null?Et.label={text:""}:Et.label={text:rt},st==null)Et.type={text:"node"};else if(typeof st=="object"){let[$t,Dt]=Object.entries(st)[0];Et[$t]={text:Dt}}else Et.type={text:st};if(vt==null)Et.descr={text:""};else if(typeof vt=="object"){let[$t,Dt]=Object.entries(vt)[0];Et[$t]={text:Dt}}else Et.descr={text:vt};if(typeof _t=="object"){let[$t,Dt]=Object.entries(_t)[0];Et[$t]=Dt}else Et.tags=_t;if(typeof wt=="object"){let[$t,Dt]=Object.entries(wt)[0];Et[$t]=Dt}else Et.link=wt;Et.nodeType=it,Et.parentBoundary=currentBoundaryParse,Et.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=nt,boundaryParseStack.push(parentBoundaryParse)},popBoundaryParseStack=function(){currentBoundaryParse=parentBoundaryParse,boundaryParseStack.pop(),parentBoundaryParse=boundaryParseStack.pop(),boundaryParseStack.push(parentBoundaryParse)},updateElStyle=function(it,nt,rt,st,vt,bt,_t,wt,Et,Tt,$t){let Dt=c4ShapeArray.find(Lt=>Lt.alias===nt);if(!(Dt===void 0&&(Dt=boundarys.find(Lt=>Lt.alias===nt),Dt===void 0))){if(rt!=null)if(typeof rt=="object"){let[Lt,Bt]=Object.entries(rt)[0];Dt[Lt]=Bt}else Dt.bgColor=rt;if(st!=null)if(typeof st=="object"){let[Lt,Bt]=Object.entries(st)[0];Dt[Lt]=Bt}else Dt.fontColor=st;if(vt!=null)if(typeof vt=="object"){let[Lt,Bt]=Object.entries(vt)[0];Dt[Lt]=Bt}else Dt.borderColor=vt;if(bt!=null)if(typeof bt=="object"){let[Lt,Bt]=Object.entries(bt)[0];Dt[Lt]=Bt}else Dt.shadowing=bt;if(_t!=null)if(typeof _t=="object"){let[Lt,Bt]=Object.entries(_t)[0];Dt[Lt]=Bt}else Dt.shape=_t;if(wt!=null)if(typeof wt=="object"){let[Lt,Bt]=Object.entries(wt)[0];Dt[Lt]=Bt}else Dt.sprite=wt;if(Et!=null)if(typeof Et=="object"){let[Lt,Bt]=Object.entries(Et)[0];Dt[Lt]=Bt}else Dt.techn=Et;if(Tt!=null)if(typeof Tt=="object"){let[Lt,Bt]=Object.entries(Tt)[0];Dt[Lt]=Bt}else Dt.legendText=Tt;if($t!=null)if(typeof $t=="object"){let[Lt,Bt]=Object.entries($t)[0];Dt[Lt]=Bt}else Dt.legendSprite=$t}},updateRelStyle=function(it,nt,rt,st,vt,bt,_t){const wt=rels.find(Et=>Et.from===nt&&Et.to===rt);if(wt!==void 0){if(st!=null)if(typeof st=="object"){let[Et,Tt]=Object.entries(st)[0];wt[Et]=Tt}else wt.textColor=st;if(vt!=null)if(typeof vt=="object"){let[Et,Tt]=Object.entries(vt)[0];wt[Et]=Tt}else wt.lineColor=vt;if(bt!=null)if(typeof bt=="object"){let[Et,Tt]=Object.entries(bt)[0];wt[Et]=parseInt(Tt)}else wt.offsetX=parseInt(bt);if(_t!=null)if(typeof _t=="object"){let[Et,Tt]=Object.entries(_t)[0];wt[Et]=parseInt(Tt)}else wt.offsetY=parseInt(_t)}},updateLayoutConfig=function(it,nt,rt){let st=c4ShapeInRow$1,vt=c4BoundaryInRow$1;if(typeof nt=="object"){const bt=Object.values(nt)[0];st=parseInt(bt)}else st=parseInt(nt);if(typeof rt=="object"){const bt=Object.values(rt)[0];vt=parseInt(bt)}else vt=parseInt(rt);st>=1&&(c4ShapeInRow$1=st),vt>=1&&(c4BoundaryInRow$1=vt)},getC4ShapeInRow=function(){return c4ShapeInRow$1},getC4BoundaryInRow=function(){return c4BoundaryInRow$1},getCurrentBoundaryParse=function(){return currentBoundaryParse},getParentBoundaryParse=function(){return parentBoundaryParse},getC4ShapeArray=function(it){return it==null?c4ShapeArray:c4ShapeArray.filter(nt=>nt.parentBoundary===it)},getC4Shape=function(it){return c4ShapeArray.find(nt=>nt.alias===it)},getC4ShapeKeys=function(it){return Object.keys(getC4ShapeArray(it))},getBoundarys=function(it){return it==null?boundarys:boundarys.filter(nt=>nt.parentBoundary===it)},getRels=function(){return rels},getTitle=function(){return title},setWrap$1=function(it){wrapEnabled$1=it},autoWrap$1=function(){return wrapEnabled$1},clear$d=function(){c4ShapeArray=[],boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],parentBoundaryParse="",currentBoundaryParse="global",boundaryParseStack=[""],rels=[],boundaryParseStack=[""],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2},LINETYPE$1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE$1={FILLED:0,OPEN:1},PLACEMENT$1={LEFTOF:0,RIGHTOF:1,OVER:2},setTitle=function(it){title=sanitizeText$5(it,getConfig$1())},c4Db={addPersonOrSystem,addPersonOrSystemBoundary,addContainer,addContainerBoundary,addComponent,addDeploymentNode,popBoundaryParseStack,addRel,updateElStyle,updateRelStyle,updateLayoutConfig,autoWrap:autoWrap$1,setWrap:setWrap$1,getC4ShapeArray,getC4Shape,getC4ShapeKeys,getBoundarys,getCurrentBoundaryParse,getParentBoundaryParse,getRels,getTitle,getC4Type,getC4ShapeInRow,getC4BoundaryInRow,setAccTitle,getAccTitle,getAccDescription,setAccDescription,parseDirective:parseDirective$a,getConfig:()=>getConfig$1().c4,clear:clear$d,LINETYPE:LINETYPE$1,ARROWTYPE:ARROWTYPE$1,PLACEMENT:PLACEMENT$1,setTitle,setC4Type},drawRect$2=function(it,nt){const rt=it.append("rect");if(rt.attr("x",nt.x),rt.attr("y",nt.y),rt.attr("fill",nt.fill),rt.attr("stroke",nt.stroke),rt.attr("width",nt.width),rt.attr("height",nt.height),rt.attr("rx",nt.rx),rt.attr("ry",nt.ry),nt.attrs!=="undefined"&&nt.attrs!==null)for(let st in nt.attrs)rt.attr(st,nt.attrs[st]);return nt.class!=="undefined"&&rt.attr("class",nt.class),rt},drawImage$1=function(it,nt,rt,st,vt,bt){const _t=it.append("image");_t.attr("width",nt),_t.attr("height",rt),_t.attr("x",st),_t.attr("y",vt);let wt=bt.startsWith("data:image/png;base64")?bt:sanitizeUrl_1(bt);_t.attr("xlink:href",wt)},drawRels$1=(it,nt,rt)=>{const st=it.append("g");let vt=0;for(let bt of nt){let _t=bt.textColor?bt.textColor:"#444444",wt=bt.lineColor?bt.lineColor:"#444444",Et=bt.offsetX?parseInt(bt.offsetX):0,Tt=bt.offsetY?parseInt(bt.offsetY):0,$t="";if(vt===0){let Lt=st.append("line");Lt.attr("x1",bt.startPoint.x),Lt.attr("y1",bt.startPoint.y),Lt.attr("x2",bt.endPoint.x),Lt.attr("y2",bt.endPoint.y),Lt.attr("stroke-width","1"),Lt.attr("stroke",wt),Lt.style("fill","none"),bt.type!=="rel_b"&&Lt.attr("marker-end","url("+$t+"#arrowhead)"),(bt.type==="birel"||bt.type==="rel_b")&&Lt.attr("marker-start","url("+$t+"#arrowend)"),vt=-1}else{let Lt=st.append("path");Lt.attr("fill","none").attr("stroke-width","1").attr("stroke",wt).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",bt.startPoint.x).replaceAll("starty",bt.startPoint.y).replaceAll("controlx",bt.startPoint.x+(bt.endPoint.x-bt.startPoint.x)/2-(bt.endPoint.x-bt.startPoint.x)/4).replaceAll("controly",bt.startPoint.y+(bt.endPoint.y-bt.startPoint.y)/2).replaceAll("stopx",bt.endPoint.x).replaceAll("stopy",bt.endPoint.y)),bt.type!=="rel_b"&&Lt.attr("marker-end","url("+$t+"#arrowhead)"),(bt.type==="birel"||bt.type==="rel_b")&&Lt.attr("marker-start","url("+$t+"#arrowend)")}let Dt=rt.messageFont();_drawTextCandidateFunc$2(rt)(bt.label.text,st,Math.min(bt.startPoint.x,bt.endPoint.x)+Math.abs(bt.endPoint.x-bt.startPoint.x)/2+Et,Math.min(bt.startPoint.y,bt.endPoint.y)+Math.abs(bt.endPoint.y-bt.startPoint.y)/2+Tt,bt.label.width,bt.label.height,{fill:_t},Dt),bt.techn&&bt.techn.text!==""&&(Dt=rt.messageFont(),_drawTextCandidateFunc$2(rt)("["+bt.techn.text+"]",st,Math.min(bt.startPoint.x,bt.endPoint.x)+Math.abs(bt.endPoint.x-bt.startPoint.x)/2+Et,Math.min(bt.startPoint.y,bt.endPoint.y)+Math.abs(bt.endPoint.y-bt.startPoint.y)/2+rt.messageFontSize+5+Tt,Math.max(bt.label.width,bt.techn.width),bt.techn.height,{fill:_t,"font-style":"italic"},Dt))}},drawBoundary$1=function(it,nt,rt){const st=it.append("g");let vt=nt.bgColor?nt.bgColor:"none",bt=nt.borderColor?nt.borderColor:"#444444",_t=nt.fontColor?nt.fontColor:"black",wt={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};nt.nodeType&&(wt={"stroke-width":1});let Et={x:nt.x,y:nt.y,fill:vt,stroke:bt,width:nt.width,height:nt.height,rx:2.5,ry:2.5,attrs:wt};drawRect$2(st,Et);let Tt=rt.boundaryFont();Tt.fontWeight="bold",Tt.fontSize=Tt.fontSize+2,Tt.fontColor=_t,_drawTextCandidateFunc$2(rt)(nt.label.text,st,nt.x,nt.y+nt.label.Y,nt.width,nt.height,{fill:"#444444"},Tt),nt.type&&nt.type.text!==""&&(Tt=rt.boundaryFont(),Tt.fontColor=_t,_drawTextCandidateFunc$2(rt)(nt.type.text,st,nt.x,nt.y+nt.type.Y,nt.width,nt.height,{fill:"#444444"},Tt)),nt.descr&&nt.descr.text!==""&&(Tt=rt.boundaryFont(),Tt.fontSize=Tt.fontSize-2,Tt.fontColor=_t,_drawTextCandidateFunc$2(rt)(nt.descr.text,st,nt.x,nt.y+nt.descr.Y,nt.width,nt.height,{fill:"#444444"},Tt))},drawC4Shape=function(it,nt,rt){let st=nt.bgColor?nt.bgColor:rt[nt.typeC4Shape.text+"_bg_color"],vt=nt.borderColor?nt.borderColor:rt[nt.typeC4Shape.text+"_border_color"],bt=nt.fontColor?nt.fontColor:"#FFFFFF",_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(nt.typeC4Shape.text){case"person":_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":_t="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const wt=it.append("g");wt.attr("class","person-man");const Et=getNoteRect$2();switch(nt.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":Et.x=nt.x,Et.y=nt.y,Et.fill=st,Et.width=nt.width,Et.height=nt.height,Et.style="stroke:"+vt+";stroke-width:0.5;",Et.rx=2.5,Et.ry=2.5,drawRect$2(wt,Et);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":wt.append("path").attr("fill",st).attr("stroke-width","0.5").attr("stroke",vt).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",nt.x).replaceAll("starty",nt.y).replaceAll("half",nt.width/2).replaceAll("height",nt.height)),wt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",vt).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",nt.x).replaceAll("starty",nt.y).replaceAll("half",nt.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":wt.append("path").attr("fill",st).attr("stroke-width","0.5").attr("stroke",vt).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",nt.x).replaceAll("starty",nt.y).replaceAll("width",nt.width).replaceAll("half",nt.height/2)),wt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",vt).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",nt.x+nt.width).replaceAll("starty",nt.y).replaceAll("half",nt.height/2));break}let Tt=getC4ShapeFont(rt,nt.typeC4Shape.text);switch(wt.append("text").attr("fill",bt).attr("font-family",Tt.fontFamily).attr("font-size",Tt.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",nt.typeC4Shape.width).attr("x",nt.x+nt.width/2-nt.typeC4Shape.width/2).attr("y",nt.y+nt.typeC4Shape.Y).text("<<"+nt.typeC4Shape.text+">>"),nt.typeC4Shape.text){case"person":case"external_person":drawImage$1(wt,48,48,nt.x+nt.width/2-24,nt.y+nt.image.Y,_t);break}let $t=rt[nt.typeC4Shape.text+"Font"]();return $t.fontWeight="bold",$t.fontSize=$t.fontSize+2,$t.fontColor=bt,_drawTextCandidateFunc$2(rt)(nt.label.text,wt,nt.x,nt.y+nt.label.Y,nt.width,nt.height,{fill:bt},$t),$t=rt[nt.typeC4Shape.text+"Font"](),$t.fontColor=bt,nt.thchn&&nt.thchn.text!==""?_drawTextCandidateFunc$2(rt)(nt.thchn.text,wt,nt.x,nt.y+nt.thchn.Y,nt.width,nt.height,{fill:bt,"font-style":"italic"},$t):nt.type&&nt.type.text!==""&&_drawTextCandidateFunc$2(rt)(nt.type.text,wt,nt.x,nt.y+nt.type.Y,nt.width,nt.height,{fill:bt,"font-style":"italic"},$t),nt.descr&&nt.descr.text!==""&&($t=rt.personFont(),$t.fontColor=bt,_drawTextCandidateFunc$2(rt)(nt.descr.text,wt,nt.x,nt.y+nt.descr.Y,nt.width,nt.height,{fill:bt},$t)),nt.height},insertDatabaseIcon$1=function(it){it.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon$1=function(it){it.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon$1=function(it){it.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead$1=function(it){it.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowEnd=function(it){it.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},insertArrowFilledHead$1=function(it){it.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertDynamicNumber=function(it){it.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead$1=function(it){const rt=it.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);rt.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),rt.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getNoteRect$2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},getC4ShapeFont=(it,nt)=>({fontFamily:it[nt+"FontFamily"],fontSize:it[nt+"FontSize"],fontWeight:it[nt+"FontWeight"]}),_drawTextCandidateFunc$2=function(){function it(vt,bt,_t,wt,Et,Tt,$t){const Dt=bt.append("text").attr("x",_t+Et/2).attr("y",wt+Tt/2+5).style("text-anchor","middle").text(vt);st(Dt,$t)}function nt(vt,bt,_t,wt,Et,Tt,$t,Dt){const{fontSize:Lt,fontFamily:Bt,fontWeight:Ht}=Dt,Ut=vt.split(common$1.lineBreakRegex);for(let It=0;It<Ut.length;It++){const jt=It*Lt-Lt*(Ut.length-1)/2,Wt=bt.append("text").attr("x",_t+Et/2).attr("y",wt).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",Lt).style("font-weight",Ht).style("font-family",Bt);Wt.append("tspan").attr("dy",jt).text(Ut[It]).attr("alignment-baseline","mathematical"),st(Wt,$t)}}function rt(vt,bt,_t,wt,Et,Tt,$t,Dt){const Lt=bt.append("switch"),Ht=Lt.append("foreignObject").attr("x",_t).attr("y",wt).attr("width",Et).attr("height",Tt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ht.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(vt),nt(vt,Lt,_t,wt,Et,Tt,$t,Dt),st(Ht,$t)}function st(vt,bt){for(const _t in bt)bt.hasOwnProperty(_t)&&vt.attr(_t,bt[_t])}return function(vt){return vt.textPlacement==="fo"?rt:vt.textPlacement==="old"?it:nt}}(),svgDraw$3={drawRect:drawRect$2,drawBoundary:drawBoundary$1,drawC4Shape,drawRels:drawRels$1,drawImage:drawImage$1,insertArrowHead:insertArrowHead$1,insertArrowEnd,insertArrowFilledHead:insertArrowFilledHead$1,insertDynamicNumber,insertArrowCrossHead:insertArrowCrossHead$1,insertDatabaseIcon:insertDatabaseIcon$1,insertComputerIcon:insertComputerIcon$1,insertClockIcon:insertClockIcon$1,getNoteRect:getNoteRect$2,sanitizeUrl:sanitizeUrl_1};let globalBoundaryMaxX=0,globalBoundaryMaxY=0,c4ShapeInRow=4,c4BoundaryInRow=2;parser$a.yy=c4Db;let conf$a={};class Bounds{constructor(nt){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,setConf$a(nt.db.getConfig())}setData(nt,rt,st,vt){this.nextData.startx=this.data.startx=nt,this.nextData.stopx=this.data.stopx=rt,this.nextData.starty=this.data.starty=st,this.nextData.stopy=this.data.stopy=vt}updateVal(nt,rt,st,vt){nt[rt]===void 0?nt[rt]=st:nt[rt]=vt(st,nt[rt])}insert(nt){this.nextData.cnt=this.nextData.cnt+1;let rt=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+nt.margin:this.nextData.stopx+nt.margin*2,st=rt+nt.width,vt=this.nextData.starty+nt.margin*2,bt=vt+nt.height;(rt>=this.data.widthLimit||st>=this.data.widthLimit||this.nextData.cnt>c4ShapeInRow)&&(rt=this.nextData.startx+nt.margin+conf$a.nextLinePaddingX,vt=this.nextData.stopy+nt.margin*2,this.nextData.stopx=st=rt+nt.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=bt=vt+nt.height,this.nextData.cnt=1),nt.x=rt,nt.y=vt,this.updateVal(this.data,"startx",rt,Math.min),this.updateVal(this.data,"starty",vt,Math.min),this.updateVal(this.data,"stopx",st,Math.max),this.updateVal(this.data,"stopy",bt,Math.max),this.updateVal(this.nextData,"startx",rt,Math.min),this.updateVal(this.nextData,"starty",vt,Math.min),this.updateVal(this.nextData,"stopx",st,Math.max),this.updateVal(this.nextData,"stopy",bt,Math.max)}init(nt){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},setConf$a(nt.db.getConfig())}bumpLastMargin(nt){this.data.stopx+=nt,this.data.stopy+=nt}}const setConf$a=function(it){assignWithDepth$1(conf$a,it),it.fontFamily&&(conf$a.personFontFamily=conf$a.systemFontFamily=conf$a.messageFontFamily=it.fontFamily),it.fontSize&&(conf$a.personFontSize=conf$a.systemFontSize=conf$a.messageFontSize=it.fontSize),it.fontWeight&&(conf$a.personFontWeight=conf$a.systemFontWeight=conf$a.messageFontWeight=it.fontWeight)},c4ShapeFont=(it,nt)=>({fontFamily:it[nt+"FontFamily"],fontSize:it[nt+"FontSize"],fontWeight:it[nt+"FontWeight"]}),boundaryFont=it=>({fontFamily:it.boundaryFontFamily,fontSize:it.boundaryFontSize,fontWeight:it.boundaryFontWeight}),messageFont$1=it=>({fontFamily:it.messageFontFamily,fontSize:it.messageFontSize,fontWeight:it.messageFontWeight});function calcC4ShapeTextWH(it,nt,rt,st,vt){if(!nt[it].width)if(rt)nt[it].text=wrapLabel(nt[it].text,vt,st),nt[it].textLines=nt[it].text.split(common$1.lineBreakRegex).length,nt[it].width=vt,nt[it].height=calculateTextHeight(nt[it].text,st);else{let bt=nt[it].text.split(common$1.lineBreakRegex);nt[it].textLines=bt.length;let _t=0;nt[it].height=0,nt[it].width=0;for(const wt of bt)nt[it].width=Math.max(calculateTextWidth(wt,st),nt[it].width),_t=calculateTextHeight(wt,st),nt[it].height=nt[it].height+_t}}const drawBoundary=function(it,nt,rt){nt.x=rt.data.startx,nt.y=rt.data.starty,nt.width=rt.data.stopx-rt.data.startx,nt.height=rt.data.stopy-rt.data.starty,nt.label.y=conf$a.c4ShapeMargin-35;let st=nt.wrap&&conf$a.wrap,vt=boundaryFont(conf$a);vt.fontSize=vt.fontSize+2,vt.fontWeight="bold";let bt=calculateTextWidth(nt.label.text,vt);calcC4ShapeTextWH("label",nt,st,vt,bt),svgDraw$3.drawBoundary(it,nt,conf$a)},drawC4ShapeArray=function(it,nt,rt,st){let vt=0;for(const bt of st){vt=0;const _t=rt[bt];let wt=c4ShapeFont(conf$a,_t.typeC4Shape.text);switch(wt.fontSize=wt.fontSize-2,_t.typeC4Shape.width=calculateTextWidth("<<"+_t.typeC4Shape.text+">>",wt),_t.typeC4Shape.height=wt.fontSize+2,_t.typeC4Shape.Y=conf$a.c4ShapePadding,vt=_t.typeC4Shape.Y+_t.typeC4Shape.height-4,_t.image={width:0,height:0,Y:0},_t.typeC4Shape.text){case"person":case"external_person":_t.image.width=48,_t.image.height=48,_t.image.Y=vt,vt=_t.image.Y+_t.image.height;break}_t.sprite&&(_t.image.width=48,_t.image.height=48,_t.image.Y=vt,vt=_t.image.Y+_t.image.height);let Et=_t.wrap&&conf$a.wrap,Tt=conf$a.width-conf$a.c4ShapePadding*2,$t=c4ShapeFont(conf$a,_t.typeC4Shape.text);if($t.fontSize=$t.fontSize+2,$t.fontWeight="bold",calcC4ShapeTextWH("label",_t,Et,$t,Tt),_t.label.Y=vt+8,vt=_t.label.Y+_t.label.height,_t.type&&_t.type.text!==""){_t.type.text="["+_t.type.text+"]";let Bt=c4ShapeFont(conf$a,_t.typeC4Shape.text);calcC4ShapeTextWH("type",_t,Et,Bt,Tt),_t.type.Y=vt+5,vt=_t.type.Y+_t.type.height}else if(_t.techn&&_t.techn.text!==""){_t.techn.text="["+_t.techn.text+"]";let Bt=c4ShapeFont(conf$a,_t.techn.text);calcC4ShapeTextWH("techn",_t,Et,Bt,Tt),_t.techn.Y=vt+5,vt=_t.techn.Y+_t.techn.height}let Dt=vt,Lt=_t.label.width;if(_t.descr&&_t.descr.text!==""){let Bt=c4ShapeFont(conf$a,_t.typeC4Shape.text);calcC4ShapeTextWH("descr",_t,Et,Bt,Tt),_t.descr.Y=vt+20,vt=_t.descr.Y+_t.descr.height,Lt=Math.max(_t.label.width,_t.descr.width),Dt=vt-_t.descr.textLines*5}Lt=Lt+conf$a.c4ShapePadding,_t.width=Math.max(_t.width||conf$a.width,Lt,conf$a.width),_t.height=Math.max(_t.height||conf$a.height,Dt,conf$a.height),_t.margin=_t.margin||conf$a.c4ShapeMargin,it.insert(_t),svgDraw$3.drawC4Shape(nt,_t,conf$a)}it.bumpLastMargin(conf$a.c4ShapeMargin)};class Point{constructor(nt,rt){this.x=nt,this.y=rt}}let getIntersectPoint=function(it,nt){let rt=it.x,st=it.y,vt=nt.x,bt=nt.y,_t=rt+it.width/2,wt=st+it.height/2,Et=Math.abs(rt-vt),Tt=Math.abs(st-bt),$t=Tt/Et,Dt=it.height/it.width,Lt=null;return st==bt&&rt<vt?Lt=new Point(rt+it.width,wt):st==bt&&rt>vt?Lt=new Point(rt,wt):rt==vt&&st<bt?Lt=new Point(_t,st+it.height):rt==vt&&st>bt&&(Lt=new Point(_t,st)),rt>vt&&st<bt?Dt>=$t?Lt=new Point(rt,wt+$t*it.width/2):Lt=new Point(_t-Et/Tt*it.height/2,st+it.height):rt<vt&&st<bt?Dt>=$t?Lt=new Point(rt+it.width,wt+$t*it.width/2):Lt=new Point(_t+Et/Tt*it.height/2,st+it.height):rt<vt&&st>bt?Dt>=$t?Lt=new Point(rt+it.width,wt-$t*it.width/2):Lt=new Point(_t+it.height/2*Et/Tt,st):rt>vt&&st>bt&&(Dt>=$t?Lt=new Point(rt,wt-it.width/2*$t):Lt=new Point(_t-it.height/2*Et/Tt,st)),Lt},getIntersectPoints=function(it,nt){let rt={x:0,y:0};rt.x=nt.x+nt.width/2,rt.y=nt.y+nt.height/2;let st=getIntersectPoint(it,rt);rt.x=it.x+it.width/2,rt.y=it.y+it.height/2;let vt=getIntersectPoint(nt,rt);return{startPoint:st,endPoint:vt}};const drawRels=function(it,nt,rt,st){let vt=0;for(let bt of nt){vt=vt+1;let _t=bt.wrap&&conf$a.wrap,wt=messageFont$1(conf$a);st.db.getC4Type()==="C4Dynamic"&&(bt.label.text=vt+": "+bt.label.text);let Tt=calculateTextWidth(bt.label.text,wt);calcC4ShapeTextWH("label",bt,_t,wt,Tt),bt.techn&&bt.techn.text!==""&&(Tt=calculateTextWidth(bt.techn.text,wt),calcC4ShapeTextWH("techn",bt,_t,wt,Tt)),bt.descr&&bt.descr.text!==""&&(Tt=calculateTextWidth(bt.descr.text,wt),calcC4ShapeTextWH("descr",bt,_t,wt,Tt));let $t=rt(bt.from),Dt=rt(bt.to),Lt=getIntersectPoints($t,Dt);bt.startPoint=Lt.startPoint,bt.endPoint=Lt.endPoint}svgDraw$3.drawRels(it,nt,conf$a)};function drawInsideBoundary(it,nt,rt,st,vt){let bt=new Bounds(vt);bt.data.widthLimit=rt.data.widthLimit/Math.min(c4BoundaryInRow,st.length);for(let[_t,wt]of st.entries()){let Et=0;wt.image={width:0,height:0,Y:0},wt.sprite&&(wt.image.width=48,wt.image.height=48,wt.image.Y=Et,Et=wt.image.Y+wt.image.height);let Tt=wt.wrap&&conf$a.wrap,$t=boundaryFont(conf$a);if($t.fontSize=$t.fontSize+2,$t.fontWeight="bold",calcC4ShapeTextWH("label",wt,Tt,$t,bt.data.widthLimit),wt.label.Y=Et+8,Et=wt.label.Y+wt.label.height,wt.type&&wt.type.text!==""){wt.type.text="["+wt.type.text+"]";let Ht=boundaryFont(conf$a);calcC4ShapeTextWH("type",wt,Tt,Ht,bt.data.widthLimit),wt.type.Y=Et+5,Et=wt.type.Y+wt.type.height}if(wt.descr&&wt.descr.text!==""){let Ht=boundaryFont(conf$a);Ht.fontSize=Ht.fontSize-2,calcC4ShapeTextWH("descr",wt,Tt,Ht,bt.data.widthLimit),wt.descr.Y=Et+20,Et=wt.descr.Y+wt.descr.height}if(_t==0||_t%c4BoundaryInRow===0){let Ht=rt.data.startx+conf$a.diagramMarginX,Ut=rt.data.stopy+conf$a.diagramMarginY+Et;bt.setData(Ht,Ht,Ut,Ut)}else{let Ht=bt.data.stopx!==bt.data.startx?bt.data.stopx+conf$a.diagramMarginX:bt.data.startx,Ut=bt.data.starty;bt.setData(Ht,Ht,Ut,Ut)}bt.name=wt.alias;let Dt=vt.db.getC4ShapeArray(wt.alias),Lt=vt.db.getC4ShapeKeys(wt.alias);Lt.length>0&&drawC4ShapeArray(bt,it,Dt,Lt),nt=wt.alias;let Bt=vt.db.getBoundarys(nt);Bt.length>0&&drawInsideBoundary(it,nt,bt,Bt,vt),wt.alias!=="global"&&drawBoundary(it,wt,bt),rt.data.stopy=Math.max(bt.data.stopy+conf$a.c4ShapeMargin,rt.data.stopy),rt.data.stopx=Math.max(bt.data.stopx+conf$a.c4ShapeMargin,rt.data.stopx),globalBoundaryMaxX=Math.max(globalBoundaryMaxX,rt.data.stopx),globalBoundaryMaxY=Math.max(globalBoundaryMaxY,rt.data.stopy)}}const draw$e=function(it,nt,rt,st){conf$a=getConfig$1().c4;const vt=getConfig$1().securityLevel;let bt;vt==="sandbox"&&(bt=select("#i"+nt));const _t=select(vt==="sandbox"?bt.nodes()[0].contentDocument.body:"body");let wt=st.db;st.db.setWrap(conf$a.wrap),c4ShapeInRow=wt.getC4ShapeInRow(),c4BoundaryInRow=wt.getC4BoundaryInRow(),log$1.debug(`C:${JSON.stringify(conf$a,null,2)}`);const Et=vt==="sandbox"?_t.select(`[id="${nt}"]`):select(`[id="${nt}"]`);svgDraw$3.insertComputerIcon(Et),svgDraw$3.insertDatabaseIcon(Et),svgDraw$3.insertClockIcon(Et);let Tt=new Bounds(st);Tt.setData(conf$a.diagramMarginX,conf$a.diagramMarginX,conf$a.diagramMarginY,conf$a.diagramMarginY),Tt.data.widthLimit=screen.availWidth,globalBoundaryMaxX=conf$a.diagramMarginX,globalBoundaryMaxY=conf$a.diagramMarginY;const $t=st.db.getTitle();let Dt=st.db.getBoundarys("");drawInsideBoundary(Et,"",Tt,Dt,st),svgDraw$3.insertArrowHead(Et),svgDraw$3.insertArrowEnd(Et),svgDraw$3.insertArrowCrossHead(Et),svgDraw$3.insertArrowFilledHead(Et),drawRels(Et,st.db.getRels(),st.db.getC4Shape,st),Tt.data.stopx=globalBoundaryMaxX,Tt.data.stopy=globalBoundaryMaxY;const Lt=Tt.data;let Ht=Lt.stopy-Lt.starty+2*conf$a.diagramMarginY;const It=Lt.stopx-Lt.startx+2*conf$a.diagramMarginX;$t&&Et.append("text").text($t).attr("x",(Lt.stopx-Lt.startx)/2-4*conf$a.diagramMarginX).attr("y",Lt.starty+conf$a.diagramMarginY),configureSvgSize(Et,Ht,It,conf$a.useMaxWidth);const jt=$t?60:0;Et.attr("viewBox",Lt.startx-conf$a.diagramMarginX+" -"+(conf$a.diagramMarginY+jt)+" "+It+" "+(Ht+jt)),log$1.debug("models:",Lt)},c4Renderer={drawPersonOrSystemArray:drawC4ShapeArray,drawBoundary,setConf:setConf$a,draw:draw$e};var parser$9=function(){var it=function($i,ii,Nt,Qt){for(Nt=Nt||{},Qt=$i.length;Qt--;Nt[$i[Qt]]=ii);return Nt},nt=[1,3],rt=[1,7],st=[1,8],vt=[1,9],bt=[1,10],_t=[1,13],wt=[1,12],Et=[1,16,25],Tt=[1,20],$t=[1,32],Dt=[1,33],Lt=[1,34],Bt=[1,36],Ht=[1,39],Ut=[1,37],It=[1,38],jt=[1,44],Wt=[1,45],qt=[1,40],Yt=[1,41],ti=[1,42],oi=[1,43],si=[1,48],di=[1,49],ui=[1,50],ci=[1,51],hi=[16,25],ei=[1,65],wi=[1,66],Kt=[1,67],Ni=[1,68],ni=[1,69],Fi=[1,70],Xi=[1,71],nn=[1,80],Ai=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],ji=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],Ri=[5,8,9,10,11,16,19,23,25],Vi=[54,88,89,90,91],Qi=[54,65,66,88,89,90,91],rn=[54,60,61,62,63,64,88,89,90,91],Pi=[16,25,32],bn=[1,107],Oi={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(ii,Nt,Qt,Jt,Si,vi,Mi){var _i=vi.length-1;switch(Si){case 5:Jt.setDirection("TB");break;case 6:Jt.setDirection("BT");break;case 7:Jt.setDirection("RL");break;case 8:Jt.setDirection("LR");break;case 12:Jt.parseDirective("%%{","open_directive");break;case 13:Jt.parseDirective(vi[_i],"type_directive");break;case 14:vi[_i]=vi[_i].trim().replace(/'/g,'"'),Jt.parseDirective(vi[_i],"arg_directive");break;case 15:Jt.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=vi[_i];break;case 22:this.$=vi[_i-1]+vi[_i];break;case 23:case 24:this.$=vi[_i-1]+"~"+vi[_i];break;case 25:Jt.addRelation(vi[_i]);break;case 26:vi[_i-1].title=Jt.cleanupLabel(vi[_i]),Jt.addRelation(vi[_i-1]);break;case 35:this.$=vi[_i].trim(),Jt.setAccTitle(this.$);break;case 36:case 37:this.$=vi[_i].trim(),Jt.setAccDescription(this.$);break;case 38:Jt.addClass(vi[_i]);break;case 39:Jt.addClass(vi[_i-2]),Jt.setCssClass(vi[_i-2],vi[_i]);break;case 40:Jt.addClass(vi[_i-3]),Jt.addMembers(vi[_i-3],vi[_i-1]);break;case 41:Jt.addClass(vi[_i-5]),Jt.setCssClass(vi[_i-5],vi[_i-3]),Jt.addMembers(vi[_i-5],vi[_i-1]);break;case 42:Jt.addAnnotation(vi[_i],vi[_i-2]);break;case 43:this.$=[vi[_i]];break;case 44:vi[_i].push(vi[_i-1]),this.$=vi[_i];break;case 45:break;case 46:Jt.addMember(vi[_i-1],Jt.cleanupLabel(vi[_i]));break;case 47:break;case 48:break;case 49:this.$={id1:vi[_i-2],id2:vi[_i],relation:vi[_i-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:vi[_i-3],id2:vi[_i],relation:vi[_i-1],relationTitle1:vi[_i-2],relationTitle2:"none"};break;case 51:this.$={id1:vi[_i-3],id2:vi[_i],relation:vi[_i-2],relationTitle1:"none",relationTitle2:vi[_i-1]};break;case 52:this.$={id1:vi[_i-4],id2:vi[_i],relation:vi[_i-2],relationTitle1:vi[_i-3],relationTitle2:vi[_i-1]};break;case 53:Jt.addNote(vi[_i],vi[_i-1]);break;case 54:Jt.addNote(vi[_i]);break;case 55:this.$={type1:vi[_i-2],type2:vi[_i],lineType:vi[_i-1]};break;case 56:this.$={type1:"none",type2:vi[_i],lineType:vi[_i-1]};break;case 57:this.$={type1:vi[_i-1],type2:"none",lineType:vi[_i]};break;case 58:this.$={type1:"none",type2:"none",lineType:vi[_i]};break;case 59:this.$=Jt.relationType.AGGREGATION;break;case 60:this.$=Jt.relationType.EXTENSION;break;case 61:this.$=Jt.relationType.COMPOSITION;break;case 62:this.$=Jt.relationType.DEPENDENCY;break;case 63:this.$=Jt.relationType.LOLLIPOP;break;case 64:this.$=Jt.lineType.LINE;break;case 65:this.$=Jt.lineType.DOTTED_LINE;break;case 66:case 72:this.$=vi[_i-2],Jt.setClickEvent(vi[_i-1],vi[_i]);break;case 67:case 73:this.$=vi[_i-3],Jt.setClickEvent(vi[_i-2],vi[_i-1]),Jt.setTooltip(vi[_i-2],vi[_i]);break;case 68:case 76:this.$=vi[_i-2],Jt.setLink(vi[_i-1],vi[_i]);break;case 69:this.$=vi[_i-3],Jt.setLink(vi[_i-2],vi[_i-1],vi[_i]);break;case 70:case 78:this.$=vi[_i-3],Jt.setLink(vi[_i-2],vi[_i-1]),Jt.setTooltip(vi[_i-2],vi[_i]);break;case 71:case 79:this.$=vi[_i-4],Jt.setLink(vi[_i-3],vi[_i-2],vi[_i]),Jt.setTooltip(vi[_i-3],vi[_i-1]);break;case 74:this.$=vi[_i-3],Jt.setClickEvent(vi[_i-2],vi[_i-1],vi[_i]);break;case 75:this.$=vi[_i-4],Jt.setClickEvent(vi[_i-3],vi[_i-2],vi[_i-1]),Jt.setTooltip(vi[_i-3],vi[_i]);break;case 77:this.$=vi[_i-3],Jt.setLink(vi[_i-2],vi[_i-1],vi[_i]);break;case 80:Jt.setCssClass(vi[_i-1],vi[_i]);break}},table:[{3:1,4:2,5:nt,6:4,7:5,8:rt,9:st,10:vt,11:bt,12:6,13:11,19:_t,23:wt},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:nt,6:4,7:5,8:rt,9:st,10:vt,11:bt,12:6,13:11,19:_t,23:wt},{1:[2,9]},it(Et,[2,5]),it(Et,[2,6]),it(Et,[2,7]),it(Et,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:Tt},it([17,22],[2,13]),{6:31,7:30,8:rt,9:st,10:vt,11:bt,13:11,19:_t,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:$t,41:Dt,43:Lt,44:Bt,49:Ht,51:Ut,52:It,55:jt,57:Wt,67:qt,68:Yt,70:ti,74:oi,88:si,89:di,90:ui,91:ci},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},it(hi,[2,25],{32:[1,57]}),it(hi,[2,27]),it(hi,[2,28]),it(hi,[2,29]),it(hi,[2,30]),it(hi,[2,31]),it(hi,[2,32]),it(hi,[2,33]),it(hi,[2,34]),{40:[1,58]},{42:[1,59]},it(hi,[2,37]),it(hi,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:ei,61:wi,62:Kt,63:Ni,64:ni,65:Fi,66:Xi}),{27:72,28:46,29:47,88:si,89:di,90:ui,91:ci},it(hi,[2,47]),it(hi,[2,48]),{28:73,88:si,89:di,90:ui},{27:74,28:46,29:47,88:si,89:di,90:ui,91:ci},{27:75,28:46,29:47,88:si,89:di,90:ui,91:ci},{27:76,28:46,29:47,88:si,89:di,90:ui,91:ci},{54:[1,77]},{27:78,28:46,29:47,88:si,89:di,90:ui,91:ci},{54:nn,56:79},it(Ai,[2,20],{28:46,29:47,27:81,30:[1,82],88:si,89:di,90:ui,91:ci}),it(Ai,[2,21],{30:[1,83]}),it(ji,[2,94]),it(ji,[2,95]),it(ji,[2,96]),it([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),it(Ri,[2,10]),{15:84,22:Tt},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:rt,9:st,10:vt,11:bt,13:11,19:_t,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:$t,41:Dt,43:Lt,44:Bt,49:Ht,51:Ut,52:It,55:jt,57:Wt,67:qt,68:Yt,70:ti,74:oi,88:si,89:di,90:ui,91:ci},it(hi,[2,26]),it(hi,[2,35]),it(hi,[2,36]),{27:86,28:46,29:47,54:[1,87],88:si,89:di,90:ui,91:ci},{53:88,58:63,59:64,60:ei,61:wi,62:Kt,63:Ni,64:ni,65:Fi,66:Xi},it(hi,[2,46]),{59:89,65:Fi,66:Xi},it(Vi,[2,58],{58:90,60:ei,61:wi,62:Kt,63:Ni,64:ni}),it(Qi,[2,59]),it(Qi,[2,60]),it(Qi,[2,61]),it(Qi,[2,62]),it(Qi,[2,63]),it(rn,[2,64]),it(rn,[2,65]),it(hi,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:si,89:di,90:ui},{54:nn,56:99},it(hi,[2,54]),it(hi,[2,98]),it(Ai,[2,22]),it(Ai,[2,23]),it(Ai,[2,24]),{16:[1,100]},{25:[2,19]},it(Pi,[2,49]),{27:101,28:46,29:47,88:si,89:di,90:ui,91:ci},{27:102,28:46,29:47,54:[1,103],88:si,89:di,90:ui,91:ci},it(Vi,[2,57],{58:104,60:ei,61:wi,62:Kt,63:Ni,64:ni}),it(Vi,[2,56]),{28:105,88:si,89:di,90:ui},{47:106,51:bn},{27:108,28:46,29:47,88:si,89:di,90:ui,91:ci},it(hi,[2,66],{54:[1,109]}),it(hi,[2,68],{54:[1,111],69:[1,110]}),it(hi,[2,72],{54:[1,112],72:[1,113]}),it(hi,[2,76],{54:[1,115],69:[1,114]}),it(hi,[2,80]),it(hi,[2,53]),it(Ri,[2,11]),it(Pi,[2,51]),it(Pi,[2,50]),{27:116,28:46,29:47,88:si,89:di,90:ui,91:ci},it(Vi,[2,55]),it(hi,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:bn},it(hi,[2,42]),it(hi,[2,67]),it(hi,[2,69]),it(hi,[2,70],{69:[1,120]}),it(hi,[2,73]),it(hi,[2,74],{54:[1,121]}),it(hi,[2,77]),it(hi,[2,78],{69:[1,122]}),it(Pi,[2,52]),{47:123,51:bn},it(hi,[2,40]),{48:[2,44]},it(hi,[2,71]),it(hi,[2,75]),it(hi,[2,79]),{48:[1,124]},it(hi,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(ii,Nt){if(Nt.recoverable)this.trace(ii);else{var Qt=new Error(ii);throw Qt.hash=Nt,Qt}},parse:function(ii){var Nt=this,Qt=[0],Jt=[],Si=[null],vi=[],Mi=this.table,_i="",Li=0,Ti=0,zi=2,Hi=1,tn=vi.slice.call(arguments,1),qi=Object.create(this.lexer),Wi={yy:{}};for(var Cn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Cn)&&(Wi.yy[Cn]=this.yy[Cn]);qi.setInput(ii,Wi.yy),Wi.yy.lexer=qi,Wi.yy.parser=this,typeof qi.yylloc>"u"&&(qi.yylloc={});var En=qi.yylloc;vi.push(En);var $n=qi.options&&qi.options.ranges;typeof Wi.yy.parseError=="function"?this.parseError=Wi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Fn(){var Ui;return Ui=Jt.pop()||qi.lex()||Hi,typeof Ui!="number"&&(Ui instanceof Array&&(Jt=Ui,Ui=Jt.pop()),Ui=Nt.symbols_[Ui]||Ui),Ui}for(var Rn,br,Bn,on,li={},ai,xi,ki,Ki;;){if(br=Qt[Qt.length-1],this.defaultActions[br]?Bn=this.defaultActions[br]:((Rn===null||typeof Rn>"u")&&(Rn=Fn()),Bn=Mi[br]&&Mi[br][Rn]),typeof Bn>"u"||!Bn.length||!Bn[0]){var gn="";Ki=[];for(ai in Mi[br])this.terminals_[ai]&&ai>zi&&Ki.push("'"+this.terminals_[ai]+"'");qi.showPosition?gn="Parse error on line "+(Li+1)+`:
`+qi.showPosition()+`
Expecting `+Ki.join(", ")+", got '"+(this.terminals_[Rn]||Rn)+"'":gn="Parse error on line "+(Li+1)+": Unexpected "+(Rn==Hi?"end of input":"'"+(this.terminals_[Rn]||Rn)+"'"),this.parseError(gn,{text:qi.match,token:this.terminals_[Rn]||Rn,line:qi.yylineno,loc:En,expected:Ki})}if(Bn[0]instanceof Array&&Bn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+br+", token: "+Rn);switch(Bn[0]){case 1:Qt.push(Rn),Si.push(qi.yytext),vi.push(qi.yylloc),Qt.push(Bn[1]),Rn=null,Ti=qi.yyleng,_i=qi.yytext,Li=qi.yylineno,En=qi.yylloc;break;case 2:if(xi=this.productions_[Bn[1]][1],li.$=Si[Si.length-xi],li._$={first_line:vi[vi.length-(xi||1)].first_line,last_line:vi[vi.length-1].last_line,first_column:vi[vi.length-(xi||1)].first_column,last_column:vi[vi.length-1].last_column},$n&&(li._$.range=[vi[vi.length-(xi||1)].range[0],vi[vi.length-1].range[1]]),on=this.performAction.apply(li,[_i,Ti,Li,Wi.yy,Bn[1],Si,vi].concat(tn)),typeof on<"u")return on;xi&&(Qt=Qt.slice(0,-1*xi*2),Si=Si.slice(0,-1*xi),vi=vi.slice(0,-1*xi)),Qt.push(this.productions_[Bn[1]][0]),Si.push(li.$),vi.push(li._$),ki=Mi[Qt[Qt.length-2]][Qt[Qt.length-1]],Qt.push(ki);break;case 3:return!0}}return!0}},Ii=function(){var $i={EOF:1,parseError:function(Nt,Qt){if(this.yy.parser)this.yy.parser.parseError(Nt,Qt);else throw new Error(Nt)},setInput:function(ii,Nt){return this.yy=Nt||this.yy||{},this._input=ii,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ii=this._input[0];this.yytext+=ii,this.yyleng++,this.offset++,this.match+=ii,this.matched+=ii;var Nt=ii.match(/(?:\r\n?|\n).*/g);return Nt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ii},unput:function(ii){var Nt=ii.length,Qt=ii.split(/(?:\r\n?|\n)/g);this._input=ii+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Nt),this.offset-=Nt;var Jt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Qt.length-1&&(this.yylineno-=Qt.length-1);var Si=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Qt?(Qt.length===Jt.length?this.yylloc.first_column:0)+Jt[Jt.length-Qt.length].length-Qt[0].length:this.yylloc.first_column-Nt},this.options.ranges&&(this.yylloc.range=[Si[0],Si[0]+this.yyleng-Nt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ii){this.unput(this.match.slice(ii))},pastInput:function(){var ii=this.matched.substr(0,this.matched.length-this.match.length);return(ii.length>20?"...":"")+ii.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ii=this.match;return ii.length<20&&(ii+=this._input.substr(0,20-ii.length)),(ii.substr(0,20)+(ii.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ii=this.pastInput(),Nt=new Array(ii.length+1).join("-");return ii+this.upcomingInput()+`
`+Nt+"^"},test_match:function(ii,Nt){var Qt,Jt,Si;if(this.options.backtrack_lexer&&(Si={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Si.yylloc.range=this.yylloc.range.slice(0))),Jt=ii[0].match(/(?:\r\n?|\n).*/g),Jt&&(this.yylineno+=Jt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Jt?Jt[Jt.length-1].length-Jt[Jt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ii[0].length},this.yytext+=ii[0],this.match+=ii[0],this.matches=ii,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ii[0].length),this.matched+=ii[0],Qt=this.performAction.call(this,this.yy,this,Nt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Qt)return Qt;if(this._backtrack){for(var vi in Si)this[vi]=Si[vi];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ii,Nt,Qt,Jt;this._more||(this.yytext="",this.match="");for(var Si=this._currentRules(),vi=0;vi<Si.length;vi++)if(Qt=this._input.match(this.rules[Si[vi]]),Qt&&(!Nt||Qt[0].length>Nt[0].length)){if(Nt=Qt,Jt=vi,this.options.backtrack_lexer){if(ii=this.test_match(Qt,Si[vi]),ii!==!1)return ii;if(this._backtrack){Nt=!1;continue}else return!1}else if(!this.options.flex)break}return Nt?(ii=this.test_match(Nt,Si[Jt]),ii!==!1?ii:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Nt=this.next();return Nt||this.lex()},begin:function(Nt){this.conditionStack.push(Nt)},popState:function(){var Nt=this.conditionStack.length-1;return Nt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Nt){return Nt=this.conditionStack.length-1-Math.abs(Nt||0),Nt>=0?this.conditionStack[Nt]:"INITIAL"},pushState:function(Nt){this.begin(Nt)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(Nt,Qt,Jt,Si){switch(Jt){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return $i}();Oi.lexer=Ii;function Gi(){this.yy={}}return Gi.prototype=Oi,Oi.Parser=Gi,new Gi}();parser$9.parser=parser$9;const classParser=parser$9,classDetector=(it,nt)=>{var rt;return((rt=nt==null?void 0:nt.class)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"?!1:it.match(/^\s*classDiagram/)!==null},classDetectorV2=(it,nt)=>{var rt;return it.match(/^\s*classDiagram/)!==null&&((rt=nt==null?void 0:nt.class)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"?!0:it.match(/^\s*classDiagram-v2/)!==null},MERMAID_DOM_ID_PREFIX$1="classid-";let relations$1=[],classes$2={},notes=[],classCounter=0,funs$2=[];const sanitizeText$2=it=>common$1.sanitizeText(it,getConfig$1()),parseDirective$9=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},splitClassNameAndType=function(it){let nt="",rt=it;if(it.indexOf("~")>0){let st=it.split("~");rt=st[0],nt=common$1.sanitizeText(st[1],getConfig$1())}return{className:rt,type:nt}},addClass$1=function(it){let nt=splitClassNameAndType(it);classes$2[nt.className]===void 0&&(classes$2[nt.className]={id:nt.className,type:nt.type,cssClasses:[],methods:[],members:[],annotations:[],domId:MERMAID_DOM_ID_PREFIX$1+nt.className+"-"+classCounter},classCounter++)},lookUpDomId$1=function(it){const nt=Object.keys(classes$2);for(const rt of nt)if(classes$2[rt].id===it)return classes$2[rt].domId},clear$c=function(){relations$1=[],classes$2={},notes=[],funs$2=[],funs$2.push(setupToolTips$1),clear$g()},getClass=function(it){return classes$2[it]},getClasses$5=function(){return classes$2},getRelations$1=function(){return relations$1},getNotes=function(){return notes},addRelation$1=function(it){log$1.debug("Adding relation: "+JSON.stringify(it)),addClass$1(it.id1),addClass$1(it.id2),it.id1=splitClassNameAndType(it.id1).className,it.id2=splitClassNameAndType(it.id2).className,it.relationTitle1=common$1.sanitizeText(it.relationTitle1.trim(),getConfig$1()),it.relationTitle2=common$1.sanitizeText(it.relationTitle2.trim(),getConfig$1()),relations$1.push(it)},addAnnotation=function(it,nt){const rt=splitClassNameAndType(it).className;classes$2[rt].annotations.push(nt)},addMember=function(it,nt){const rt=splitClassNameAndType(it).className,st=classes$2[rt];if(typeof nt=="string"){const vt=nt.trim();vt.startsWith("<<")&&vt.endsWith(">>")?st.annotations.push(sanitizeText$2(vt.substring(2,vt.length-2))):vt.indexOf(")")>0?st.methods.push(sanitizeText$2(vt)):vt&&st.members.push(sanitizeText$2(vt))}},addMembers=function(it,nt){Array.isArray(nt)&&(nt.reverse(),nt.forEach(rt=>addMember(it,rt)))},addNote$1=function(it,nt){const rt={id:`note${notes.length}`,class:nt,text:it};notes.push(rt)},cleanupLabel$1=function(it){return it.substring(0,1)===":"?common$1.sanitizeText(it.substr(1).trim(),getConfig$1()):sanitizeText$2(it.trim())},setCssClass$1=function(it,nt){it.split(",").forEach(function(rt){let st=rt;rt[0].match(/\d/)&&(st=MERMAID_DOM_ID_PREFIX$1+st),classes$2[st]!==void 0&&classes$2[st].cssClasses.push(nt)})},setTooltip$1=function(it,nt){const rt=getConfig$1();it.split(",").forEach(function(st){nt!==void 0&&(classes$2[st].tooltip=common$1.sanitizeText(nt,rt))})},getTooltip$1=function(it){return classes$2[it].tooltip},setLink$2=function(it,nt,rt){const st=getConfig$1();it.split(",").forEach(function(vt){let bt=vt;vt[0].match(/\d/)&&(bt=MERMAID_DOM_ID_PREFIX$1+bt),classes$2[bt]!==void 0&&(classes$2[bt].link=utils.formatUrl(nt,st),st.securityLevel==="sandbox"?classes$2[bt].linkTarget="_top":typeof rt=="string"?classes$2[bt].linkTarget=sanitizeText$2(rt):classes$2[bt].linkTarget="_blank")}),setCssClass$1(it,"clickable")},setClickEvent$2=function(it,nt,rt){it.split(",").forEach(function(st){setClickFunc(st,nt,rt),classes$2[st].haveCallback=!0}),setCssClass$1(it,"clickable")},setClickFunc=function(it,nt,rt){const st=getConfig$1();let vt=it,bt=lookUpDomId$1(vt);if(st.securityLevel==="loose"&&nt!==void 0&&classes$2[vt]!==void 0){let _t=[];if(typeof rt=="string"){_t=rt.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let wt=0;wt<_t.length;wt++){let Et=_t[wt].trim();Et.charAt(0)==='"'&&Et.charAt(Et.length-1)==='"'&&(Et=Et.substr(1,Et.length-2)),_t[wt]=Et}}_t.length===0&&_t.push(bt),funs$2.push(function(){const wt=document.querySelector(`[id="${bt}"]`);wt!==null&&wt.addEventListener("click",function(){utils.runFunc(nt,..._t)},!1)})}},bindFunctions$2=function(it){funs$2.forEach(function(nt){nt(it)})},lineType$1={LINE:0,DOTTED_LINE:1},relationType$1={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setupToolTips$1=function(it){let nt=select(".mermaidTooltip");(nt._groups||nt)[0][0]===null&&(nt=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(it).select("svg").selectAll("g.node").on("mouseover",function(){const vt=select(this);if(vt.attr("title")===null)return;const _t=this.getBoundingClientRect();nt.transition().duration(200).style("opacity",".9"),nt.text(vt.attr("title")).style("left",window.scrollX+_t.left+(_t.right-_t.left)/2+"px").style("top",window.scrollY+_t.top-14+document.body.scrollTop+"px"),nt.html(nt.html().replace(/&lt;br\/&gt;/g,"<br/>")),vt.classed("hover",!0)}).on("mouseout",function(){nt.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$2.push(setupToolTips$1);let direction$2="TB";const getDirection$2=()=>direction$2,setDirection$2=it=>{direction$2=it},classDb={parseDirective:parseDirective$9,setAccTitle,getAccTitle,getAccDescription,setAccDescription,getConfig:()=>getConfig$1().class,addClass:addClass$1,bindFunctions:bindFunctions$2,clear:clear$c,getClass,getClasses:getClasses$5,getNotes,addAnnotation,addNote:addNote$1,getRelations:getRelations$1,addRelation:addRelation$1,getDirection:getDirection$2,setDirection:setDirection$2,addMember,addMembers,cleanupLabel:cleanupLabel$1,lineType:lineType$1,relationType:relationType$1,setClickEvent:setClickEvent$2,setCssClass:setCssClass$1,setLink:setLink$2,getTooltip:getTooltip$1,setTooltip:setTooltip$1,lookUpDomId:lookUpDomId$1,setDiagramTitle,getDiagramTitle};let edgeCount$1=0;const drawEdge$1=function(it,nt,rt,st,vt){const bt=function(Wt){switch(Wt){case vt.db.relationType.AGGREGATION:return"aggregation";case vt.db.relationType.EXTENSION:return"extension";case vt.db.relationType.COMPOSITION:return"composition";case vt.db.relationType.DEPENDENCY:return"dependency";case vt.db.relationType.LOLLIPOP:return"lollipop"}};nt.points=nt.points.filter(Wt=>!Number.isNaN(Wt.y));const _t=nt.points,wt=line$1().x(function(Wt){return Wt.x}).y(function(Wt){return Wt.y}).curve(curveBasis),Et=it.append("path").attr("d",wt(_t)).attr("id","edge"+edgeCount$1).attr("class","relation");let Tt="";st.arrowMarkerAbsolute&&(Tt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Tt=Tt.replace(/\(/g,"\\("),Tt=Tt.replace(/\)/g,"\\)")),rt.relation.lineType==1&&Et.attr("class","relation dashed-line"),rt.relation.lineType==10&&Et.attr("class","relation dotted-line"),rt.relation.type1!=="none"&&Et.attr("marker-start","url("+Tt+"#"+bt(rt.relation.type1)+"Start)"),rt.relation.type2!=="none"&&Et.attr("marker-end","url("+Tt+"#"+bt(rt.relation.type2)+"End)");let $t,Dt;const Lt=nt.points.length;let Bt=utils.calcLabelPosition(nt.points);$t=Bt.x,Dt=Bt.y;let Ht,Ut,It,jt;if(Lt%2!==0&&Lt>1){let Wt=utils.calcCardinalityPosition(rt.relation.type1!=="none",nt.points,nt.points[0]),qt=utils.calcCardinalityPosition(rt.relation.type2!=="none",nt.points,nt.points[Lt-1]);log$1.debug("cardinality_1_point "+JSON.stringify(Wt)),log$1.debug("cardinality_2_point "+JSON.stringify(qt)),Ht=Wt.x,Ut=Wt.y,It=qt.x,jt=qt.y}if(rt.title!==void 0){const Wt=it.append("g").attr("class","classLabel"),qt=Wt.append("text").attr("class","label").attr("x",$t).attr("y",Dt).attr("fill","red").attr("text-anchor","middle").text(rt.title);window.label=qt;const Yt=qt.node().getBBox();Wt.insert("rect",":first-child").attr("class","box").attr("x",Yt.x-st.padding/2).attr("y",Yt.y-st.padding/2).attr("width",Yt.width+st.padding).attr("height",Yt.height+st.padding)}log$1.info("Rendering relation "+JSON.stringify(rt)),rt.relationTitle1!==void 0&&rt.relationTitle1!=="none"&&it.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",Ht).attr("y",Ut).attr("fill","black").attr("font-size","6").text(rt.relationTitle1),rt.relationTitle2!==void 0&&rt.relationTitle2!=="none"&&it.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",It).attr("y",jt).attr("fill","black").attr("font-size","6").text(rt.relationTitle2),edgeCount$1++},drawClass=function(it,nt,rt,st){log$1.debug("Rendering class ",nt,rt);const vt=nt.id,bt={id:vt,label:nt.id,width:0,height:0},_t=it.append("g").attr("id",st.db.lookUpDomId(vt)).attr("class","classGroup");let wt;nt.link?wt=_t.append("svg:a").attr("xlink:href",nt.link).attr("target",nt.linkTarget).append("text").attr("y",rt.textHeight+rt.padding).attr("x",0):wt=_t.append("text").attr("y",rt.textHeight+rt.padding).attr("x",0);let Et=!0;nt.annotations.forEach(function(ti){const oi=wt.append("tspan").text("\xAB"+ti+"\xBB");Et||oi.attr("dy",rt.textHeight),Et=!1});let Tt=nt.id;nt.type!==void 0&&nt.type!==""&&(Tt+="<"+nt.type+">");const $t=wt.append("tspan").text(Tt).attr("class","title");Et||$t.attr("dy",rt.textHeight);const Dt=wt.node().getBBox().height,Lt=_t.append("line").attr("x1",0).attr("y1",rt.padding+Dt+rt.dividerMargin/2).attr("y2",rt.padding+Dt+rt.dividerMargin/2),Bt=_t.append("text").attr("x",rt.padding).attr("y",Dt+rt.dividerMargin+rt.textHeight).attr("fill","white").attr("class","classText");Et=!0,nt.members.forEach(function(ti){addTspan(Bt,ti,Et,rt),Et=!1});const Ht=Bt.node().getBBox(),Ut=_t.append("line").attr("x1",0).attr("y1",rt.padding+Dt+rt.dividerMargin+Ht.height).attr("y2",rt.padding+Dt+rt.dividerMargin+Ht.height),It=_t.append("text").attr("x",rt.padding).attr("y",Dt+2*rt.dividerMargin+Ht.height+rt.textHeight).attr("fill","white").attr("class","classText");Et=!0,nt.methods.forEach(function(ti){addTspan(It,ti,Et,rt),Et=!1});const jt=_t.node().getBBox();var Wt=" ";nt.cssClasses.length>0&&(Wt=Wt+nt.cssClasses.join(" "));const Yt=_t.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",jt.width+2*rt.padding).attr("height",jt.height+rt.padding+.5*rt.dividerMargin).attr("class",Wt).node().getBBox().width;return wt.node().childNodes.forEach(function(ti){ti.setAttribute("x",(Yt-ti.getBBox().width)/2)}),nt.tooltip&&wt.insert("title").text(nt.tooltip),Lt.attr("x2",Yt),Ut.attr("x2",Yt),bt.width=Yt,bt.height=jt.height+rt.padding+.5*rt.dividerMargin,bt},drawNote$2=function(it,nt,rt,st){log$1.debug("Rendering note ",nt,rt);const vt=nt.id,bt={id:vt,text:nt.text,width:0,height:0},_t=it.append("g").attr("id",vt).attr("class","classGroup");let wt=_t.append("text").attr("y",rt.textHeight+rt.padding).attr("x",0);const Et=JSON.parse(`"${nt.text}"`).split(`
`);Et.forEach(function(Lt){log$1.debug(`Adding line: ${Lt}`),wt.append("tspan").text(Lt).attr("class","title").attr("dy",rt.textHeight)});const Tt=_t.node().getBBox(),Dt=_t.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Tt.width+2*rt.padding).attr("height",Tt.height+Et.length*rt.textHeight+rt.padding+.5*rt.dividerMargin).node().getBBox().width;return wt.node().childNodes.forEach(function(Lt){Lt.setAttribute("x",(Dt-Lt.getBBox().width)/2)}),bt.width=Dt,bt.height=Tt.height+Et.length*rt.textHeight+rt.padding+.5*rt.dividerMargin,bt},parseMember=function(it){const nt=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,rt=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let st=it.match(nt),vt=it.match(rt);return st&&!vt?buildFieldDisplay(st):vt?buildMethodDisplay(vt):buildLegacyDisplay(it)},buildFieldDisplay=function(it){let nt="",rt="";try{let st=it[1]?it[1].trim():"",vt=it[2]?it[2].trim():"",bt=it[3]?parseGenericTypes(it[3].trim()):"",_t=it[4]?it[4].trim():"",wt=it[5]?it[5].trim():"";rt=st+vt+bt+" "+_t,nt=parseClassifier(wt)}catch{rt=it}return{displayText:rt,cssStyle:nt}},buildMethodDisplay=function(it){let nt="",rt="";try{let st=it[1]?it[1].trim():"",vt=it[2]?it[2].trim():"",bt=it[3]?parseGenericTypes(it[3].trim()):"",_t=it[4]?it[4].trim():"",wt=it[5]?" : "+parseGenericTypes(it[5]).trim():"";rt=st+vt+"("+bt+")"+wt,nt=parseClassifier(_t)}catch{rt=it}return{displayText:rt,cssStyle:nt}},buildLegacyDisplay=function(it){let nt="",rt="",st="",vt=it.indexOf("("),bt=it.indexOf(")");if(vt>1&&bt>vt&&bt<=it.length){let _t="",wt="",Et=it.substring(0,1);Et.match(/\w/)?wt=it.substring(0,vt).trim():(Et.match(/[#+~-]/)&&(_t=Et),wt=it.substring(1,vt).trim());const Tt=it.substring(vt+1,bt);it.substring(bt+1,1),rt=parseClassifier(it.substring(bt+1,bt+2)),nt=_t+wt+"("+parseGenericTypes(Tt.trim())+")",bt<it.length&&(st=it.substring(bt+2).trim(),st!==""&&(st=" : "+parseGenericTypes(st),nt+=st))}else nt=parseGenericTypes(it);return{displayText:nt,cssStyle:rt}},addTspan=function(it,nt,rt,st){let vt=parseMember(nt);const bt=it.append("tspan").attr("x",st.padding).text(vt.displayText);vt.cssStyle!==""&&bt.attr("style",vt.cssStyle),rt||bt.attr("dy",st.textHeight)},parseClassifier=function(it){switch(it){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},svgDraw$2={drawClass,drawEdge:drawEdge$1,drawNote:drawNote$2,parseMember};let idCache$2={};const padding=20,getGraphId=function(it){const nt=Object.entries(idCache$2).find(rt=>rt[1].label===it);if(nt)return nt[0]},insertMarkers$4=function(it){it.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),it.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),it.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},draw$d=function(it,nt,rt,st){const vt=getConfig$1().class;idCache$2={},log$1.info("Rendering diagram "+it);const bt=getConfig$1().securityLevel;let _t;bt==="sandbox"&&(_t=select("#i"+nt));const wt=select(bt==="sandbox"?_t.nodes()[0].contentDocument.body:"body"),Et=wt.select(`[id='${nt}']`);insertMarkers$4(Et);const Tt=new Graph({multigraph:!0});Tt.setGraph({isMultiGraph:!0}),Tt.setDefaultEdgeLabel(function(){return{}});const $t=st.db.getClasses(),Dt=Object.keys($t);for(const Wt of Dt){const qt=$t[Wt],Yt=svgDraw$2.drawClass(Et,qt,vt,st);idCache$2[Yt.id]=Yt,Tt.setNode(Yt.id,Yt),log$1.info("Org height: "+Yt.height)}st.db.getRelations().forEach(function(Wt){log$1.info("tjoho"+getGraphId(Wt.id1)+getGraphId(Wt.id2)+JSON.stringify(Wt)),Tt.setEdge(getGraphId(Wt.id1),getGraphId(Wt.id2),{relation:Wt},Wt.title||"DEFAULT")}),st.db.getNotes().forEach(function(Wt){log$1.debug(`Adding note: ${JSON.stringify(Wt)}`);const qt=svgDraw$2.drawNote(Et,Wt,vt,st);idCache$2[qt.id]=qt,Tt.setNode(qt.id,qt),Wt.class&&Wt.class in $t&&Tt.setEdge(Wt.id,getGraphId(Wt.class),{relation:{id1:Wt.id,id2:Wt.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),layout(Tt),Tt.nodes().forEach(function(Wt){Wt!==void 0&&Tt.node(Wt)!==void 0&&(log$1.debug("Node "+Wt+": "+JSON.stringify(Tt.node(Wt))),wt.select("#"+(st.db.lookUpDomId(Wt)||Wt)).attr("transform","translate("+(Tt.node(Wt).x-Tt.node(Wt).width/2)+","+(Tt.node(Wt).y-Tt.node(Wt).height/2)+" )"))}),Tt.edges().forEach(function(Wt){Wt!==void 0&&Tt.edge(Wt)!==void 0&&(log$1.debug("Edge "+Wt.v+" -> "+Wt.w+": "+JSON.stringify(Tt.edge(Wt))),svgDraw$2.drawEdge(Et,Tt.edge(Wt),Tt.edge(Wt).relation,vt,st))});const Ht=Et.node().getBBox(),Ut=Ht.width+padding*2,It=Ht.height+padding*2;configureSvgSize(Et,It,Ut,vt.useMaxWidth);const jt=`${Ht.x-padding} ${Ht.y-padding} ${Ut} ${It}`;log$1.debug(`viewBox ${jt}`),Et.attr("viewBox",jt)},classRenderer={draw:draw$d},insertMarkers$2=(it,nt,rt,st)=>{nt.forEach(vt=>{markers$1[vt](it,rt,st)})},extension=(it,nt,rt)=>{log$1.trace("Making markers for ",rt),it.append("defs").append("marker").attr("id",nt+"-extensionStart").attr("class","marker extension "+nt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),it.append("defs").append("marker").attr("id",nt+"-extensionEnd").attr("class","marker extension "+nt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition=(it,nt)=>{it.append("defs").append("marker").attr("id",nt+"-compositionStart").attr("class","marker composition "+nt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id",nt+"-compositionEnd").attr("class","marker composition "+nt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation=(it,nt)=>{it.append("defs").append("marker").attr("id",nt+"-aggregationStart").attr("class","marker aggregation "+nt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id",nt+"-aggregationEnd").attr("class","marker aggregation "+nt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency=(it,nt)=>{it.append("defs").append("marker").attr("id",nt+"-dependencyStart").attr("class","marker dependency "+nt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),it.append("defs").append("marker").attr("id",nt+"-dependencyEnd").attr("class","marker dependency "+nt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop=(it,nt)=>{it.append("defs").append("marker").attr("id",nt+"-lollipopStart").attr("class","marker lollipop "+nt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point=(it,nt)=>{it.append("marker").attr("id",nt+"-pointEnd").attr("class","marker "+nt).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),it.append("marker").attr("id",nt+"-pointStart").attr("class","marker "+nt).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle$1=(it,nt)=>{it.append("marker").attr("id",nt+"-circleEnd").attr("class","marker "+nt).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),it.append("marker").attr("id",nt+"-circleStart").attr("class","marker "+nt).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross=(it,nt)=>{it.append("marker").attr("id",nt+"-crossEnd").attr("class","marker cross "+nt).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),it.append("marker").attr("id",nt+"-crossStart").attr("class","marker cross "+nt).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb=(it,nt)=>{it.append("defs").append("marker").attr("id",nt+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},markers$1={extension,composition,aggregation,dependency,lollipop,point,circle:circle$1,cross,barb},insertMarkers$3=insertMarkers$2;function applyStyle(it,nt){nt&&it.attr("style",nt)}function addHtmlLabel(it){const nt=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),rt=nt.append("xhtml:div"),st=it.label,vt=it.isNode?"nodeLabel":"edgeLabel";return rt.html('<span class="'+vt+'" '+(it.labelStyle?'style="'+it.labelStyle+'"':"")+">"+st+"</span>"),applyStyle(rt,it.labelStyle),rt.style("display","inline-block"),rt.style("white-space","nowrap"),rt.attr("xmlns","http://www.w3.org/1999/xhtml"),nt.node()}const createLabel=(it,nt,rt,st)=>{let vt=it||"";if(typeof vt=="object"&&(vt=vt[0]),evaluate(getConfig$1().flowchart.htmlLabels)){vt=vt.replace(/\\n|\n/g,"<br />"),log$1.info("vertexText"+vt);const bt={isNode:st,label:decodeEntities(vt).replace(/fa[blrs]?:fa-[\w-]+/g,wt=>`<i class='${wt.replace(":"," ")}'></i>`),labelStyle:nt.replace("fill:","color:")};return addHtmlLabel(bt)}else{const bt=document.createElementNS("http://www.w3.org/2000/svg","text");bt.setAttribute("style",nt.replace("color:","fill:"));let _t=[];typeof vt=="string"?_t=vt.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(vt)?_t=vt:_t=[];for(const wt of _t){const Et=document.createElementNS("http://www.w3.org/2000/svg","tspan");Et.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Et.setAttribute("dy","1em"),Et.setAttribute("x","0"),rt?Et.setAttribute("class","title-row"):Et.setAttribute("class","row"),Et.textContent=wt.trim(),bt.appendChild(Et)}return bt}},createLabel$1=createLabel,labelHelper=(it,nt,rt,st)=>{let vt;rt?vt=rt:vt="node default";const bt=it.insert("g").attr("class",vt).attr("id",nt.domId||nt.id),_t=bt.insert("g").attr("class","label").attr("style",nt.labelStyle);let wt;nt.labelText===void 0?wt="":wt=typeof nt.labelText=="string"?nt.labelText:nt.labelText[0];const Et=_t.node().appendChild(createLabel$1(sanitizeText$5(decodeEntities(wt),getConfig$1()),nt.labelStyle,!1,st));let Tt=Et.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Dt=Et.children[0],Lt=select(Et);Tt=Dt.getBoundingClientRect(),Lt.attr("width",Tt.width),Lt.attr("height",Tt.height)}const $t=nt.padding/2;return _t.attr("transform","translate("+-Tt.width/2+", "+-Tt.height/2+")"),{shapeSvg:bt,bbox:Tt,halfPadding:$t,label:_t}},updateNodeBounds=(it,nt)=>{const rt=nt.node().getBBox();it.width=rt.width,it.height=rt.height};function insertPolygonShape$1(it,nt,rt,st){return it.insert("polygon",":first-child").attr("points",st.map(function(vt){return vt.x+","+vt.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-nt/2+","+rt/2+")")}let clusterDb={},descendants={},parents={};const clear$b=()=>{descendants={},parents={},clusterDb={}},isDescendant=(it,nt)=>(log$1.trace("In isDecendant",nt," ",it," = ",descendants[nt].includes(it)),!!descendants[nt].includes(it)),edgeInCluster=(it,nt)=>(log$1.info("Decendants of ",nt," is ",descendants[nt]),log$1.info("Edge is ",it),it.v===nt||it.w===nt?!1:descendants[nt]?descendants[nt].includes(it.v)||isDescendant(it.v,nt)||isDescendant(it.w,nt)||descendants[nt].includes(it.w):(log$1.debug("Tilt, ",nt,",not in decendants"),!1)),copy=(it,nt,rt,st)=>{log$1.warn("Copying children of ",it,"root",st,"data",nt.node(it),st);const vt=nt.children(it)||[];it!==st&&vt.push(it),log$1.warn("Copying (nodes) clusterId",it,"nodes",vt),vt.forEach(bt=>{if(nt.children(bt).length>0)copy(bt,nt,rt,st);else{const _t=nt.node(bt);log$1.info("cp ",bt," to ",st," with parent ",it),rt.setNode(bt,_t),st!==nt.parent(bt)&&(log$1.warn("Setting parent",bt,nt.parent(bt)),rt.setParent(bt,nt.parent(bt))),it!==st&&bt!==it?(log$1.debug("Setting parent",bt,it),rt.setParent(bt,it)):(log$1.info("In copy ",it,"root",st,"data",nt.node(it),st),log$1.debug("Not Setting parent for node=",bt,"cluster!==rootId",it!==st,"node!==clusterId",bt!==it));const wt=nt.edges(bt);log$1.debug("Copying Edges",wt),wt.forEach(Et=>{log$1.info("Edge",Et);const Tt=nt.edge(Et.v,Et.w,Et.name);log$1.info("Edge data",Tt,st);try{edgeInCluster(Et,st)?(log$1.info("Copying as ",Et.v,Et.w,Tt,Et.name),rt.setEdge(Et.v,Et.w,Tt,Et.name),log$1.info("newGraph edges ",rt.edges(),rt.edge(rt.edges()[0]))):log$1.info("Skipping copy of edge ",Et.v,"-->",Et.w," rootId: ",st," clusterId:",it)}catch($t){log$1.error($t)}})}log$1.debug("Removing node",bt),nt.removeNode(bt)})},extractDescendants=(it,nt)=>{const rt=nt.children(it);let st=[...rt];for(const vt of rt)parents[vt]=it,st=[...st,...extractDescendants(vt,nt)];return st},findNonClusterChild=(it,nt)=>{log$1.trace("Searching",it);const rt=nt.children(it);if(log$1.trace("Searching children of id ",it,rt),rt.length<1)return log$1.trace("This is a valid node",it),it;for(const st of rt){const vt=findNonClusterChild(st,nt);if(vt)return log$1.trace("Found replacement for",it," => ",vt),vt}},getAnchorId=it=>!clusterDb[it]||!clusterDb[it].externalConnections?it:clusterDb[it]?clusterDb[it].id:it,adjustClustersAndEdges=(it,nt)=>{if(!it||nt>10){log$1.debug("Opting out, no graph ");return}else log$1.debug("Opting in, graph ");it.nodes().forEach(function(rt){it.children(rt).length>0&&(log$1.warn("Cluster identified",rt," Replacement id in edges: ",findNonClusterChild(rt,it)),descendants[rt]=extractDescendants(rt,it),clusterDb[rt]={id:findNonClusterChild(rt,it),clusterData:it.node(rt)})}),it.nodes().forEach(function(rt){const st=it.children(rt),vt=it.edges();st.length>0?(log$1.debug("Cluster identified",rt,descendants),vt.forEach(bt=>{if(bt.v!==rt&&bt.w!==rt){const _t=isDescendant(bt.v,rt),wt=isDescendant(bt.w,rt);_t^wt&&(log$1.warn("Edge: ",bt," leaves cluster ",rt),log$1.warn("Decendants of XXX ",rt,": ",descendants[rt]),clusterDb[rt].externalConnections=!0)}})):log$1.debug("Not a cluster ",rt,descendants)}),it.edges().forEach(function(rt){const st=it.edge(rt);log$1.warn("Edge "+rt.v+" -> "+rt.w+": "+JSON.stringify(rt)),log$1.warn("Edge "+rt.v+" -> "+rt.w+": "+JSON.stringify(it.edge(rt)));let vt=rt.v,bt=rt.w;if(log$1.warn("Fix XXX",clusterDb,"ids:",rt.v,rt.w,"Translating: ",clusterDb[rt.v]," --- ",clusterDb[rt.w]),clusterDb[rt.v]&&clusterDb[rt.w]&&clusterDb[rt.v]===clusterDb[rt.w]){log$1.warn("Fixing and trixing link to self - removing XXX",rt.v,rt.w,rt.name),log$1.warn("Fixing and trixing - removing XXX",rt.v,rt.w,rt.name),vt=getAnchorId(rt.v),bt=getAnchorId(rt.w),it.removeEdge(rt.v,rt.w,rt.name);const _t=rt.w+"---"+rt.v;it.setNode(_t,{domId:_t,id:_t,labelStyle:"",labelText:st.label,padding:0,shape:"labelRect",style:""});const wt=JSON.parse(JSON.stringify(st)),Et=JSON.parse(JSON.stringify(st));wt.label="",wt.arrowTypeEnd="none",Et.label="",wt.fromCluster=rt.v,Et.toCluster=rt.v,it.setEdge(vt,_t,wt,rt.name+"-cyclic-special"),it.setEdge(_t,bt,Et,rt.name+"-cyclic-special")}else(clusterDb[rt.v]||clusterDb[rt.w])&&(log$1.warn("Fixing and trixing - removing XXX",rt.v,rt.w,rt.name),vt=getAnchorId(rt.v),bt=getAnchorId(rt.w),it.removeEdge(rt.v,rt.w,rt.name),vt!==rt.v&&(st.fromCluster=rt.v),bt!==rt.w&&(st.toCluster=rt.w),log$1.warn("Fix Replacing with XXX",vt,bt,rt.name),it.setEdge(vt,bt,st,rt.name))}),log$1.warn("Adjusted Graph",write(it)),extractor(it,0),log$1.trace(clusterDb)},extractor=(it,nt)=>{if(log$1.warn("extractor - ",nt,write(it),it.children("D")),nt>10){log$1.error("Bailing out");return}let rt=it.nodes(),st=!1;for(const vt of rt){const bt=it.children(vt);st=st||bt.length>0}if(!st){log$1.debug("Done, no node has children",it.nodes());return}log$1.debug("Nodes = ",rt,nt);for(const vt of rt)if(log$1.debug("Extracting node",vt,clusterDb,clusterDb[vt]&&!clusterDb[vt].externalConnections,!it.parent(vt),it.node(vt),it.children("D")," Depth ",nt),!clusterDb[vt])log$1.debug("Not a cluster",vt,nt);else if(!clusterDb[vt].externalConnections&&it.children(vt)&&it.children(vt).length>0){log$1.warn("Cluster without external connections, without a parent and with children",vt,nt);let _t=it.graph().rankdir==="TB"?"LR":"TB";clusterDb[vt]&&clusterDb[vt].clusterData&&clusterDb[vt].clusterData.dir&&(_t=clusterDb[vt].clusterData.dir,log$1.warn("Fixing dir",clusterDb[vt].clusterData.dir,_t));const wt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:_t,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});log$1.warn("Old graph before copy",write(it)),copy(vt,it,wt,vt),it.setNode(vt,{clusterNode:!0,id:vt,clusterData:clusterDb[vt].clusterData,labelText:clusterDb[vt].labelText,graph:wt}),log$1.warn("New graph after copy node: (",vt,")",write(wt)),log$1.debug("Old graph after copy",write(it))}else log$1.warn("Cluster ** ",vt," **not meeting the criteria !externalConnections:",!clusterDb[vt].externalConnections," no parent: ",!it.parent(vt)," children ",it.children(vt)&&it.children(vt).length>0,it.children("D"),nt),log$1.debug(clusterDb);rt=it.nodes(),log$1.warn("New list of nodes",rt);for(const vt of rt){const bt=it.node(vt);log$1.warn(" Now next level",vt,bt),bt.clusterNode&&extractor(bt.graph,nt+1)}},sorter=(it,nt)=>{if(nt.length===0)return[];let rt=Object.assign(nt);return nt.forEach(st=>{const vt=it.children(st),bt=sorter(it,vt);rt=[...rt,...bt]}),rt},sortNodesByHierarchy=it=>sorter(it,it.children());function intersectNode(it,nt){return it.intersect(nt)}function intersectEllipse(it,nt,rt,st){var vt=it.x,bt=it.y,_t=vt-st.x,wt=bt-st.y,Et=Math.sqrt(nt*nt*wt*wt+rt*rt*_t*_t),Tt=Math.abs(nt*rt*_t/Et);st.x<vt&&(Tt=-Tt);var $t=Math.abs(nt*rt*wt/Et);return st.y<bt&&($t=-$t),{x:vt+Tt,y:bt+$t}}function intersectCircle(it,nt,rt){return intersectEllipse(it,nt,nt,rt)}function intersectLine(it,nt,rt,st){var vt,bt,_t,wt,Et,Tt,$t,Dt,Lt,Bt,Ht,Ut,It,jt,Wt;if(vt=nt.y-it.y,_t=it.x-nt.x,Et=nt.x*it.y-it.x*nt.y,Lt=vt*rt.x+_t*rt.y+Et,Bt=vt*st.x+_t*st.y+Et,!(Lt!==0&&Bt!==0&&sameSign(Lt,Bt))&&(bt=st.y-rt.y,wt=rt.x-st.x,Tt=st.x*rt.y-rt.x*st.y,$t=bt*it.x+wt*it.y+Tt,Dt=bt*nt.x+wt*nt.y+Tt,!($t!==0&&Dt!==0&&sameSign($t,Dt))&&(Ht=vt*wt-bt*_t,Ht!==0)))return Ut=Math.abs(Ht/2),It=_t*Tt-wt*Et,jt=It<0?(It-Ut)/Ht:(It+Ut)/Ht,It=bt*Et-vt*Tt,Wt=It<0?(It-Ut)/Ht:(It+Ut)/Ht,{x:jt,y:Wt}}function sameSign(it,nt){return it*nt>0}function intersectPolygon(it,nt,rt){var st=it.x,vt=it.y,bt=[],_t=Number.POSITIVE_INFINITY,wt=Number.POSITIVE_INFINITY;typeof nt.forEach=="function"?nt.forEach(function(Ht){_t=Math.min(_t,Ht.x),wt=Math.min(wt,Ht.y)}):(_t=Math.min(_t,nt.x),wt=Math.min(wt,nt.y));for(var Et=st-it.width/2-_t,Tt=vt-it.height/2-wt,$t=0;$t<nt.length;$t++){var Dt=nt[$t],Lt=nt[$t<nt.length-1?$t+1:0],Bt=intersectLine(it,rt,{x:Et+Dt.x,y:Tt+Dt.y},{x:Et+Lt.x,y:Tt+Lt.y});Bt&&bt.push(Bt)}return bt.length?(bt.length>1&&bt.sort(function(Ht,Ut){var It=Ht.x-rt.x,jt=Ht.y-rt.y,Wt=Math.sqrt(It*It+jt*jt),qt=Ut.x-rt.x,Yt=Ut.y-rt.y,ti=Math.sqrt(qt*qt+Yt*Yt);return Wt<ti?-1:Wt===ti?0:1}),bt[0]):it}const intersectRect=(it,nt)=>{var rt=it.x,st=it.y,vt=nt.x-rt,bt=nt.y-st,_t=it.width/2,wt=it.height/2,Et,Tt;return Math.abs(bt)*_t>Math.abs(vt)*wt?(bt<0&&(wt=-wt),Et=bt===0?0:wt*vt/bt,Tt=wt):(vt<0&&(_t=-_t),Et=_t,Tt=vt===0?0:_t*bt/vt),{x:rt+Et,y:st+Tt}},intersectRect$1=intersectRect,intersect={node:intersectNode,circle:intersectCircle,ellipse:intersectEllipse,polygon:intersectPolygon,rect:intersectRect$1},note=(it,nt)=>{const{shapeSvg:rt,bbox:st,halfPadding:vt}=labelHelper(it,nt,"node "+nt.classes,!0);log$1.info("Classes = ",nt.classes);const bt=rt.insert("rect",":first-child");return bt.attr("rx",nt.rx).attr("ry",nt.ry).attr("x",-st.width/2-vt).attr("y",-st.height/2-vt).attr("width",st.width+nt.padding).attr("height",st.height+nt.padding),updateNodeBounds(nt,bt),nt.intersect=function(_t){return intersect.rect(nt,_t)},rt},note$1=note,question$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=vt+bt,wt=[{x:_t/2,y:0},{x:_t,y:-_t/2},{x:_t/2,y:-_t},{x:0,y:-_t/2}];log$1.info("Question main (Circle)");const Et=insertPolygonShape$1(rt,_t,_t,wt);return Et.attr("style",nt.style),updateNodeBounds(nt,Et),nt.intersect=function(Tt){return log$1.warn("Intersect called"),intersect.polygon(nt,wt,Tt)},rt},choice=(it,nt)=>{const rt=it.insert("g").attr("class","node default").attr("id",nt.domId||nt.id),st=28,vt=[{x:0,y:st/2},{x:st/2,y:0},{x:0,y:-st/2},{x:-st/2,y:0}];return rt.insert("polygon",":first-child").attr("points",vt.map(function(_t){return _t.x+","+_t.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),nt.width=28,nt.height=28,nt.intersect=function(_t){return intersect.circle(nt,14,_t)},rt},hexagon$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=4,bt=st.height+nt.padding,_t=bt/vt,wt=st.width+2*_t+nt.padding,Et=[{x:_t,y:0},{x:wt-_t,y:0},{x:wt,y:-bt/2},{x:wt-_t,y:-bt},{x:_t,y:-bt},{x:0,y:-bt/2}],Tt=insertPolygonShape$1(rt,wt,bt,Et);return Tt.attr("style",nt.style),updateNodeBounds(nt,Tt),nt.intersect=function($t){return intersect.polygon(nt,Et,$t)},rt},rect_left_inv_arrow$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:-bt/2,y:0},{x:vt,y:0},{x:vt,y:-bt},{x:-bt/2,y:-bt},{x:0,y:-bt/2}];return insertPolygonShape$1(rt,vt,bt,_t).attr("style",nt.style),nt.width=vt+bt,nt.height=bt,nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},lean_right$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:-2*bt/6,y:0},{x:vt-bt/6,y:0},{x:vt+2*bt/6,y:-bt},{x:bt/6,y:-bt}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},lean_left$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:2*bt/6,y:0},{x:vt+bt/6,y:0},{x:vt-2*bt/6,y:-bt},{x:-bt/6,y:-bt}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},trapezoid$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:-2*bt/6,y:0},{x:vt+2*bt/6,y:0},{x:vt-bt/6,y:-bt},{x:bt/6,y:-bt}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},inv_trapezoid$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:bt/6,y:0},{x:vt-bt/6,y:0},{x:vt+2*bt/6,y:-bt},{x:-2*bt/6,y:-bt}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},rect_right_inv_arrow$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:0,y:0},{x:vt+bt/2,y:0},{x:vt,y:-bt/2},{x:vt+bt/2,y:-bt},{x:0,y:-bt}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},cylinder$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=vt/2,_t=bt/(2.5+vt/50),wt=st.height+_t+nt.padding,Et="M 0,"+_t+" a "+bt+","+_t+" 0,0,0 "+vt+" 0 a "+bt+","+_t+" 0,0,0 "+-vt+" 0 l 0,"+wt+" a "+bt+","+_t+" 0,0,0 "+vt+" 0 l 0,"+-wt,Tt=rt.attr("label-offset-y",_t).insert("path",":first-child").attr("style",nt.style).attr("d",Et).attr("transform","translate("+-vt/2+","+-(wt/2+_t)+")");return updateNodeBounds(nt,Tt),nt.intersect=function($t){const Dt=intersect.rect(nt,$t),Lt=Dt.x-nt.x;if(bt!=0&&(Math.abs(Lt)<nt.width/2||Math.abs(Lt)==nt.width/2&&Math.abs(Dt.y-nt.y)>nt.height/2-_t)){let Bt=_t*_t*(1-Lt*Lt/(bt*bt));Bt!=0&&(Bt=Math.sqrt(Bt)),Bt=_t-Bt,$t.y-nt.y>0&&(Bt=-Bt),Dt.y+=Bt}return Dt},rt},rect$1=(it,nt)=>{const{shapeSvg:rt,bbox:st,halfPadding:vt}=labelHelper(it,nt,"node "+nt.classes,!0);log$1.trace("Classes = ",nt.classes);const bt=rt.insert("rect",":first-child"),_t=st.width+nt.padding,wt=st.height+nt.padding;if(bt.attr("class","basic label-container").attr("style",nt.style).attr("rx",nt.rx).attr("ry",nt.ry).attr("x",-st.width/2-vt).attr("y",-st.height/2-vt).attr("width",_t).attr("height",wt),nt.props){const Et=new Set(Object.keys(nt.props));nt.props.borders&&(applyNodePropertyBorders(bt,nt.props.borders,_t,wt),Et.delete("borders")),Et.forEach(Tt=>{log$1.warn(`Unknown node property ${Tt}`)})}return updateNodeBounds(nt,bt),nt.intersect=function(Et){return intersect.rect(nt,Et)},rt},labelRect=(it,nt)=>{const{shapeSvg:rt}=labelHelper(it,nt,"label",!0);log$1.trace("Classes = ",nt.classes);const st=rt.insert("rect",":first-child"),vt=0,bt=0;if(st.attr("width",vt).attr("height",bt),rt.attr("class","label edgeLabel"),nt.props){const _t=new Set(Object.keys(nt.props));nt.props.borders&&(applyNodePropertyBorders(st,nt.props.borders,vt,bt),_t.delete("borders")),_t.forEach(wt=>{log$1.warn(`Unknown node property ${wt}`)})}return updateNodeBounds(nt,st),nt.intersect=function(_t){return intersect.rect(nt,_t)},rt};function applyNodePropertyBorders(it,nt,rt,st){const vt=[],bt=wt=>{vt.push(wt,0)},_t=wt=>{vt.push(0,wt)};nt.includes("t")?(log$1.debug("add top border"),bt(rt)):_t(rt),nt.includes("r")?(log$1.debug("add right border"),bt(st)):_t(st),nt.includes("b")?(log$1.debug("add bottom border"),bt(rt)):_t(rt),nt.includes("l")?(log$1.debug("add left border"),bt(st)):_t(st),it.attr("stroke-dasharray",vt.join(" "))}const rectWithTitle=(it,nt)=>{let rt;nt.classes?rt="node "+nt.classes:rt="node default";const st=it.insert("g").attr("class",rt).attr("id",nt.domId||nt.id),vt=st.insert("rect",":first-child"),bt=st.insert("line"),_t=st.insert("g").attr("class","label"),wt=nt.labelText.flat?nt.labelText.flat():nt.labelText;let Et="";typeof wt=="object"?Et=wt[0]:Et=wt,log$1.info("Label text abc79",Et,wt,typeof wt=="object");const Tt=_t.node().appendChild(createLabel$1(Et,nt.labelStyle,!0,!0));let $t={width:0,height:0};if(evaluate(getConfig$1().flowchart.htmlLabels)){const Ut=Tt.children[0],It=select(Tt);$t=Ut.getBoundingClientRect(),It.attr("width",$t.width),It.attr("height",$t.height)}log$1.info("Text 2",wt);const Dt=wt.slice(1,wt.length);let Lt=Tt.getBBox();const Bt=_t.node().appendChild(createLabel$1(Dt.join?Dt.join("<br/>"):Dt,nt.labelStyle,!0,!0));if(evaluate(getConfig$1().flowchart.htmlLabels)){const Ut=Bt.children[0],It=select(Bt);$t=Ut.getBoundingClientRect(),It.attr("width",$t.width),It.attr("height",$t.height)}const Ht=nt.padding/2;return select(Bt).attr("transform","translate( "+($t.width>Lt.width?0:(Lt.width-$t.width)/2)+", "+(Lt.height+Ht+5)+")"),select(Tt).attr("transform","translate( "+($t.width<Lt.width?0:-(Lt.width-$t.width)/2)+", "+0+")"),$t=_t.node().getBBox(),_t.attr("transform","translate("+-$t.width/2+", "+(-$t.height/2-Ht+3)+")"),vt.attr("class","outer title-state").attr("x",-$t.width/2-Ht).attr("y",-$t.height/2-Ht).attr("width",$t.width+nt.padding).attr("height",$t.height+nt.padding),bt.attr("class","divider").attr("x1",-$t.width/2-Ht).attr("x2",$t.width/2+Ht).attr("y1",-$t.height/2-Ht+Lt.height+Ht).attr("y2",-$t.height/2-Ht+Lt.height+Ht),updateNodeBounds(nt,vt),nt.intersect=function(Ut){return intersect.rect(nt,Ut)},st},stadium$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.height+nt.padding,bt=st.width+vt/4+nt.padding,_t=rt.insert("rect",":first-child").attr("style",nt.style).attr("rx",vt/2).attr("ry",vt/2).attr("x",-bt/2).attr("y",-vt/2).attr("width",bt).attr("height",vt);return updateNodeBounds(nt,_t),nt.intersect=function(wt){return intersect.rect(nt,wt)},rt},circle=(it,nt)=>{const{shapeSvg:rt,bbox:st,halfPadding:vt}=labelHelper(it,nt,void 0,!0),bt=rt.insert("circle",":first-child");return bt.attr("style",nt.style).attr("rx",nt.rx).attr("ry",nt.ry).attr("r",st.width/2+vt).attr("width",st.width+nt.padding).attr("height",st.height+nt.padding),log$1.info("Circle main"),updateNodeBounds(nt,bt),nt.intersect=function(_t){return log$1.info("Circle intersect",nt,st.width/2+vt,_t),intersect.circle(nt,st.width/2+vt,_t)},rt},doublecircle=(it,nt)=>{const{shapeSvg:rt,bbox:st,halfPadding:vt}=labelHelper(it,nt,void 0,!0),bt=5,_t=rt.insert("g",":first-child"),wt=_t.insert("circle"),Et=_t.insert("circle");return wt.attr("style",nt.style).attr("rx",nt.rx).attr("ry",nt.ry).attr("r",st.width/2+vt+bt).attr("width",st.width+nt.padding+bt*2).attr("height",st.height+nt.padding+bt*2),Et.attr("style",nt.style).attr("rx",nt.rx).attr("ry",nt.ry).attr("r",st.width/2+vt).attr("width",st.width+nt.padding).attr("height",st.height+nt.padding),log$1.info("DoubleCircle main"),updateNodeBounds(nt,wt),nt.intersect=function(Tt){return log$1.info("DoubleCircle intersect",nt,st.width/2+vt+bt,Tt),intersect.circle(nt,st.width/2+vt+bt,Tt)},rt},subroutine$1=(it,nt)=>{const{shapeSvg:rt,bbox:st}=labelHelper(it,nt,void 0,!0),vt=st.width+nt.padding,bt=st.height+nt.padding,_t=[{x:0,y:0},{x:vt,y:0},{x:vt,y:-bt},{x:0,y:-bt},{x:0,y:0},{x:-8,y:0},{x:vt+8,y:0},{x:vt+8,y:-bt},{x:-8,y:-bt},{x:-8,y:0}],wt=insertPolygonShape$1(rt,vt,bt,_t);return wt.attr("style",nt.style),updateNodeBounds(nt,wt),nt.intersect=function(Et){return intersect.polygon(nt,_t,Et)},rt},start=(it,nt)=>{const rt=it.insert("g").attr("class","node default").attr("id",nt.domId||nt.id),st=rt.insert("circle",":first-child");return st.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),updateNodeBounds(nt,st),nt.intersect=function(vt){return intersect.circle(nt,7,vt)},rt},forkJoin=(it,nt,rt)=>{const st=it.insert("g").attr("class","node default").attr("id",nt.domId||nt.id);let vt=70,bt=10;rt==="LR"&&(vt=10,bt=70);const _t=st.append("rect").attr("x",-1*vt/2).attr("y",-1*bt/2).attr("width",vt).attr("height",bt).attr("class","fork-join");return updateNodeBounds(nt,_t),nt.height=nt.height+nt.padding/2,nt.width=nt.width+nt.padding/2,nt.intersect=function(wt){return intersect.rect(nt,wt)},st},end=(it,nt)=>{const rt=it.insert("g").attr("class","node default").attr("id",nt.domId||nt.id),st=rt.insert("circle",":first-child"),vt=rt.insert("circle",":first-child");return vt.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),st.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),updateNodeBounds(nt,vt),nt.intersect=function(bt){return intersect.circle(nt,7,bt)},rt},class_box=(it,nt)=>{const rt=nt.padding/2,st=4,vt=8;let bt;nt.classes?bt="node "+nt.classes:bt="node default";const _t=it.insert("g").attr("class",bt).attr("id",nt.domId||nt.id),wt=_t.insert("rect",":first-child"),Et=_t.insert("line"),Tt=_t.insert("line");let $t=0,Dt=st;const Lt=_t.insert("g").attr("class","label");let Bt=0;const Ht=nt.classData.annotations&&nt.classData.annotations[0],Ut=nt.classData.annotations[0]?"\xAB"+nt.classData.annotations[0]+"\xBB":"",It=Lt.node().appendChild(createLabel$1(Ut,nt.labelStyle,!0,!0));let jt=It.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const di=It.children[0],ui=select(It);jt=di.getBoundingClientRect(),ui.attr("width",jt.width),ui.attr("height",jt.height)}nt.classData.annotations[0]&&(Dt+=jt.height+st,$t+=jt.width);let Wt=nt.classData.id;nt.classData.type!==void 0&&nt.classData.type!==""&&(getConfig$1().flowchart.htmlLabels?Wt+="&lt;"+nt.classData.type+"&gt;":Wt+="<"+nt.classData.type+">");const qt=Lt.node().appendChild(createLabel$1(Wt,nt.labelStyle,!0,!0));select(qt).attr("class","classTitle");let Yt=qt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const di=qt.children[0],ui=select(qt);Yt=di.getBoundingClientRect(),ui.attr("width",Yt.width),ui.attr("height",Yt.height)}Dt+=Yt.height+st,Yt.width>$t&&($t=Yt.width);const ti=[];nt.classData.members.forEach(di=>{const ui=parseMember(di);let ci=ui.displayText;getConfig$1().flowchart.htmlLabels&&(ci=ci.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const hi=Lt.node().appendChild(createLabel$1(ci,ui.cssStyle?ui.cssStyle:nt.labelStyle,!0,!0));let ei=hi.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const wi=hi.children[0],Kt=select(hi);ei=wi.getBoundingClientRect(),Kt.attr("width",ei.width),Kt.attr("height",ei.height)}ei.width>$t&&($t=ei.width),Dt+=ei.height+st,ti.push(hi)}),Dt+=vt;const oi=[];if(nt.classData.methods.forEach(di=>{const ui=parseMember(di);let ci=ui.displayText;getConfig$1().flowchart.htmlLabels&&(ci=ci.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const hi=Lt.node().appendChild(createLabel$1(ci,ui.cssStyle?ui.cssStyle:nt.labelStyle,!0,!0));let ei=hi.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const wi=hi.children[0],Kt=select(hi);ei=wi.getBoundingClientRect(),Kt.attr("width",ei.width),Kt.attr("height",ei.height)}ei.width>$t&&($t=ei.width),Dt+=ei.height+st,oi.push(hi)}),Dt+=vt,Ht){let di=($t-jt.width)/2;select(It).attr("transform","translate( "+(-1*$t/2+di)+", "+-1*Dt/2+")"),Bt=jt.height+st}let si=($t-Yt.width)/2;return select(qt).attr("transform","translate( "+(-1*$t/2+si)+", "+(-1*Dt/2+Bt)+")"),Bt+=Yt.height+st,Et.attr("class","divider").attr("x1",-$t/2-rt).attr("x2",$t/2+rt).attr("y1",-Dt/2-rt+vt+Bt).attr("y2",-Dt/2-rt+vt+Bt),Bt+=vt,ti.forEach(di=>{select(di).attr("transform","translate( "+-$t/2+", "+(-1*Dt/2+Bt+vt/2)+")"),Bt+=Yt.height+st}),Bt+=vt,Tt.attr("class","divider").attr("x1",-$t/2-rt).attr("x2",$t/2+rt).attr("y1",-Dt/2-rt+vt+Bt).attr("y2",-Dt/2-rt+vt+Bt),Bt+=vt,oi.forEach(di=>{select(di).attr("transform","translate( "+-$t/2+", "+(-1*Dt/2+Bt)+")"),Bt+=Yt.height+st}),wt.attr("class","outer title-state").attr("x",-$t/2-rt).attr("y",-(Dt/2)-rt).attr("width",$t+nt.padding).attr("height",Dt+nt.padding),updateNodeBounds(nt,wt),nt.intersect=function(di){return intersect.rect(nt,di)},_t},shapes$1={question:question$1,rect:rect$1,labelRect,rectWithTitle,choice,circle,doublecircle,stadium:stadium$1,hexagon:hexagon$1,rect_left_inv_arrow:rect_left_inv_arrow$1,lean_right:lean_right$1,lean_left:lean_left$1,trapezoid:trapezoid$1,inv_trapezoid:inv_trapezoid$1,rect_right_inv_arrow:rect_right_inv_arrow$1,cylinder:cylinder$1,start,end,note:note$1,subroutine:subroutine$1,fork:forkJoin,join:forkJoin,class_box};let nodeElems={};const insertNode=(it,nt,rt)=>{let st,vt;if(nt.link){let bt;getConfig$1().securityLevel==="sandbox"?bt="_top":nt.linkTarget&&(bt=nt.linkTarget||"_blank"),st=it.insert("svg:a").attr("xlink:href",nt.link).attr("target",bt),vt=shapes$1[nt.shape](st,nt,rt)}else vt=shapes$1[nt.shape](it,nt,rt),st=vt;nt.tooltip&&vt.attr("title",nt.tooltip),nt.class&&vt.attr("class","node default "+nt.class),nodeElems[nt.id]=st,nt.haveCallback&&nodeElems[nt.id].attr("class",nodeElems[nt.id].attr("class")+" clickable")},setNodeElem=(it,nt)=>{nodeElems[nt.id]=it},clear$a=()=>{nodeElems={}},positionNode=it=>{const nt=nodeElems[it.id];log$1.trace("Transforming node",it.diff,it,"translate("+(it.x-it.width/2-5)+", "+it.width/2+")");const rt=8,st=it.diff||0;return it.clusterNode?nt.attr("transform","translate("+(it.x+st-it.width/2)+", "+(it.y-it.height/2-rt)+")"):nt.attr("transform","translate("+it.x+", "+it.y+")"),st},rect=(it,nt)=>{log$1.trace("Creating subgraph rect for ",nt.id,nt);const rt=it.insert("g").attr("class","cluster"+(nt.class?" "+nt.class:"")).attr("id",nt.id),st=rt.insert("rect",":first-child"),vt=rt.insert("g").attr("class","cluster-label"),bt=vt.node().appendChild(createLabel$1(nt.labelText,nt.labelStyle,void 0,!0));let _t=bt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Dt=bt.children[0],Lt=select(bt);_t=Dt.getBoundingClientRect(),Lt.attr("width",_t.width),Lt.attr("height",_t.height)}const wt=0*nt.padding,Et=wt/2,Tt=nt.width<=_t.width+wt?_t.width+wt:nt.width;nt.width<=_t.width+wt?nt.diff=(_t.width-nt.width)/2-nt.padding/2:nt.diff=-nt.padding/2,log$1.trace("Data ",nt,JSON.stringify(nt)),st.attr("style",nt.style).attr("rx",nt.rx).attr("ry",nt.ry).attr("x",nt.x-Tt/2).attr("y",nt.y-nt.height/2-Et).attr("width",Tt).attr("height",nt.height+wt),vt.attr("transform","translate("+(nt.x-_t.width/2)+", "+(nt.y-nt.height/2)+")");const $t=st.node().getBBox();return nt.width=$t.width,nt.height=$t.height,nt.intersect=function(Dt){return intersectRect$1(nt,Dt)},rt},noteGroup=(it,nt)=>{const rt=it.insert("g").attr("class","note-cluster").attr("id",nt.id),st=rt.insert("rect",":first-child"),vt=0*nt.padding,bt=vt/2;st.attr("rx",nt.rx).attr("ry",nt.ry).attr("x",nt.x-nt.width/2-bt).attr("y",nt.y-nt.height/2-bt).attr("width",nt.width+vt).attr("height",nt.height+vt).attr("fill","none");const _t=st.node().getBBox();return nt.width=_t.width,nt.height=_t.height,nt.intersect=function(wt){return intersectRect$1(nt,wt)},rt},roundedWithTitle=(it,nt)=>{const rt=it.insert("g").attr("class",nt.classes).attr("id",nt.id),st=rt.insert("rect",":first-child"),vt=rt.insert("g").attr("class","cluster-label"),bt=rt.append("rect"),_t=vt.node().appendChild(createLabel$1(nt.labelText,nt.labelStyle,void 0,!0));let wt=_t.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Lt=_t.children[0],Bt=select(_t);wt=Lt.getBoundingClientRect(),Bt.attr("width",wt.width),Bt.attr("height",wt.height)}wt=_t.getBBox();const Et=0*nt.padding,Tt=Et/2,$t=nt.width<=wt.width+nt.padding?wt.width+nt.padding:nt.width;nt.width<=wt.width+nt.padding?nt.diff=(wt.width+nt.padding*0-nt.width)/2:nt.diff=-nt.padding/2,st.attr("class","outer").attr("x",nt.x-$t/2-Tt).attr("y",nt.y-nt.height/2-Tt).attr("width",$t+Et).attr("height",nt.height+Et),bt.attr("class","inner").attr("x",nt.x-$t/2-Tt).attr("y",nt.y-nt.height/2-Tt+wt.height-1).attr("width",$t+Et).attr("height",nt.height+Et-wt.height-3),vt.attr("transform","translate("+(nt.x-wt.width/2)+", "+(nt.y-nt.height/2-nt.padding/3+(evaluate(getConfig$1().flowchart.htmlLabels)?5:3))+")");const Dt=st.node().getBBox();return nt.height=Dt.height,nt.intersect=function(Lt){return intersectRect$1(nt,Lt)},rt},divider=(it,nt)=>{const rt=it.insert("g").attr("class",nt.classes).attr("id",nt.id),st=rt.insert("rect",":first-child"),vt=0*nt.padding,bt=vt/2;st.attr("class","divider").attr("x",nt.x-nt.width/2-bt).attr("y",nt.y-nt.height/2).attr("width",nt.width+vt).attr("height",nt.height+vt);const _t=st.node().getBBox();return nt.width=_t.width,nt.height=_t.height,nt.diff=-nt.padding/2,nt.intersect=function(wt){return intersectRect$1(nt,wt)},rt},shapes={rect,roundedWithTitle,noteGroup,divider};let clusterElems={};const insertCluster=(it,nt)=>{log$1.trace("Inserting cluster");const rt=nt.shape||"rect";clusterElems[nt.id]=shapes[rt](it,nt)},clear$9=()=>{clusterElems={}};let edgeLabels={},terminalLabels={};const clear$8=()=>{edgeLabels={},terminalLabels={}},insertEdgeLabel=(it,nt)=>{const rt=createLabel$1(nt.label,nt.labelStyle),st=it.insert("g").attr("class","edgeLabel"),vt=st.insert("g").attr("class","label");vt.node().appendChild(rt);let bt=rt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const wt=rt.children[0],Et=select(rt);bt=wt.getBoundingClientRect(),Et.attr("width",bt.width),Et.attr("height",bt.height)}vt.attr("transform","translate("+-bt.width/2+", "+-bt.height/2+")"),edgeLabels[nt.id]=st,nt.width=bt.width,nt.height=bt.height;let _t;if(nt.startLabelLeft){const wt=createLabel$1(nt.startLabelLeft,nt.labelStyle),Et=it.insert("g").attr("class","edgeTerminals"),Tt=Et.insert("g").attr("class","inner");_t=Tt.node().appendChild(wt);const $t=wt.getBBox();Tt.attr("transform","translate("+-$t.width/2+", "+-$t.height/2+")"),terminalLabels[nt.id]||(terminalLabels[nt.id]={}),terminalLabels[nt.id].startLeft=Et,setTerminalWidth(_t,nt.startLabelLeft)}if(nt.startLabelRight){const wt=createLabel$1(nt.startLabelRight,nt.labelStyle),Et=it.insert("g").attr("class","edgeTerminals"),Tt=Et.insert("g").attr("class","inner");_t=Et.node().appendChild(wt),Tt.node().appendChild(wt);const $t=wt.getBBox();Tt.attr("transform","translate("+-$t.width/2+", "+-$t.height/2+")"),terminalLabels[nt.id]||(terminalLabels[nt.id]={}),terminalLabels[nt.id].startRight=Et,setTerminalWidth(_t,nt.startLabelRight)}if(nt.endLabelLeft){const wt=createLabel$1(nt.endLabelLeft,nt.labelStyle),Et=it.insert("g").attr("class","edgeTerminals"),Tt=Et.insert("g").attr("class","inner");_t=Tt.node().appendChild(wt);const $t=wt.getBBox();Tt.attr("transform","translate("+-$t.width/2+", "+-$t.height/2+")"),Et.node().appendChild(wt),terminalLabels[nt.id]||(terminalLabels[nt.id]={}),terminalLabels[nt.id].endLeft=Et,setTerminalWidth(_t,nt.endLabelLeft)}if(nt.endLabelRight){const wt=createLabel$1(nt.endLabelRight,nt.labelStyle),Et=it.insert("g").attr("class","edgeTerminals"),Tt=Et.insert("g").attr("class","inner");_t=Tt.node().appendChild(wt);const $t=wt.getBBox();Tt.attr("transform","translate("+-$t.width/2+", "+-$t.height/2+")"),Et.node().appendChild(wt),terminalLabels[nt.id]||(terminalLabels[nt.id]={}),terminalLabels[nt.id].endRight=Et,setTerminalWidth(_t,nt.endLabelRight)}};function setTerminalWidth(it,nt){getConfig$1().flowchart.htmlLabels&&it&&(it.style.width=nt.length*9+"px",it.style.height="12px")}const positionEdgeLabel=(it,nt)=>{log$1.info("Moving label abc78 ",it.id,it.label,edgeLabels[it.id]);let rt=nt.updatedPath?nt.updatedPath:nt.originalPath;if(it.label){const st=edgeLabels[it.id];let vt=it.x,bt=it.y;if(rt){const _t=utils.calcLabelPosition(rt);log$1.info("Moving label "+it.label+" from (",vt,",",bt,") to (",_t.x,",",_t.y,") abc78"),nt.updatedPath&&(vt=_t.x,bt=_t.y)}st.attr("transform","translate("+vt+", "+bt+")")}if(it.startLabelLeft){const st=terminalLabels[it.id].startLeft;let vt=it.x,bt=it.y;if(rt){const _t=utils.calcTerminalLabelPosition(it.arrowTypeStart?10:0,"start_left",rt);vt=_t.x,bt=_t.y}st.attr("transform","translate("+vt+", "+bt+")")}if(it.startLabelRight){const st=terminalLabels[it.id].startRight;let vt=it.x,bt=it.y;if(rt){const _t=utils.calcTerminalLabelPosition(it.arrowTypeStart?10:0,"start_right",rt);vt=_t.x,bt=_t.y}st.attr("transform","translate("+vt+", "+bt+")")}if(it.endLabelLeft){const st=terminalLabels[it.id].endLeft;let vt=it.x,bt=it.y;if(rt){const _t=utils.calcTerminalLabelPosition(it.arrowTypeEnd?10:0,"end_left",rt);vt=_t.x,bt=_t.y}st.attr("transform","translate("+vt+", "+bt+")")}if(it.endLabelRight){const st=terminalLabels[it.id].endRight;let vt=it.x,bt=it.y;if(rt){const _t=utils.calcTerminalLabelPosition(it.arrowTypeEnd?10:0,"end_right",rt);vt=_t.x,bt=_t.y}st.attr("transform","translate("+vt+", "+bt+")")}},outsideNode=(it,nt)=>{const rt=it.x,st=it.y,vt=Math.abs(nt.x-rt),bt=Math.abs(nt.y-st),_t=it.width/2,wt=it.height/2;return vt>=_t||bt>=wt},intersection=(it,nt,rt)=>{log$1.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(nt)}
  insidePoint : ${JSON.stringify(rt)}
  node        : x:${it.x} y:${it.y} w:${it.width} h:${it.height}`);const st=it.x,vt=it.y,bt=Math.abs(st-rt.x),_t=it.width/2;let wt=rt.x<nt.x?_t-bt:_t+bt;const Et=it.height/2,Tt=Math.abs(nt.y-rt.y),$t=Math.abs(nt.x-rt.x);if(Math.abs(vt-nt.y)*_t>Math.abs(st-nt.x)*Et){let Dt=rt.y<nt.y?nt.y-Et-vt:vt-Et-nt.y;wt=$t*Dt/Tt;const Lt={x:rt.x<nt.x?rt.x+wt:rt.x-$t+wt,y:rt.y<nt.y?rt.y+Tt-Dt:rt.y-Tt+Dt};return wt===0&&(Lt.x=nt.x,Lt.y=nt.y),$t===0&&(Lt.x=nt.x),Tt===0&&(Lt.y=nt.y),log$1.warn(`abc89 topp/bott calc, Q ${Tt}, q ${Dt}, R ${$t}, r ${wt}`,Lt),Lt}else{rt.x<nt.x?wt=nt.x-_t-st:wt=st-_t-nt.x;let Dt=Tt*wt/$t,Lt=rt.x<nt.x?rt.x+$t-wt:rt.x-$t+wt,Bt=rt.y<nt.y?rt.y+Dt:rt.y-Dt;return log$1.warn(`sides calc abc89, Q ${Tt}, q ${Dt}, R ${$t}, r ${wt}`,{_x:Lt,_y:Bt}),wt===0&&(Lt=nt.x,Bt=nt.y),$t===0&&(Lt=nt.x),Tt===0&&(Bt=nt.y),{x:Lt,y:Bt}}},cutPathAtIntersect=(it,nt)=>{log$1.warn("abc88 cutPathAtIntersect",it,nt);let rt=[],st=it[0],vt=!1;return it.forEach(bt=>{if(log$1.info("abc88 checking point",bt,nt),!outsideNode(nt,bt)&&!vt){const _t=intersection(nt,st,bt);log$1.warn("abc88 inside",bt,st,_t),log$1.warn("abc88 intersection",_t);let wt=!1;rt.forEach(Et=>{wt=wt||Et.x===_t.x&&Et.y===_t.y}),rt.some(Et=>Et.x===_t.x&&Et.y===_t.y)?log$1.warn("abc88 no intersect",_t,rt):rt.push(_t),vt=!0}else log$1.warn("abc88 outside",bt,st),st=bt,vt||rt.push(bt)}),log$1.warn("abc88 returning points",rt),rt},insertEdge=function(it,nt,rt,st,vt,bt){let _t=rt.points,wt=!1;const Et=bt.node(nt.v);var Tt=bt.node(nt.w);log$1.info("abc88 InsertEdge: ",rt),Tt.intersect&&Et.intersect&&(_t=_t.slice(1,rt.points.length-1),_t.unshift(Et.intersect(_t[0])),log$1.info("Last point",_t[_t.length-1],Tt,Tt.intersect(_t[_t.length-1])),_t.push(Tt.intersect(_t[_t.length-1]))),rt.toCluster&&(log$1.info("to cluster abc88",st[rt.toCluster]),_t=cutPathAtIntersect(rt.points,st[rt.toCluster].node),wt=!0),rt.fromCluster&&(log$1.info("from cluster abc88",st[rt.fromCluster]),_t=cutPathAtIntersect(_t.reverse(),st[rt.fromCluster].node).reverse(),wt=!0);const $t=_t.filter(jt=>!Number.isNaN(jt.y));let Dt;vt==="graph"||vt==="flowchart"?Dt=rt.curve||curveBasis:Dt=curveBasis;const Lt=line$1().x(function(jt){return jt.x}).y(function(jt){return jt.y}).curve(Dt);let Bt;switch(rt.thickness){case"normal":Bt="edge-thickness-normal";break;case"thick":Bt="edge-thickness-thick";break;default:Bt=""}switch(rt.pattern){case"solid":Bt+=" edge-pattern-solid";break;case"dotted":Bt+=" edge-pattern-dotted";break;case"dashed":Bt+=" edge-pattern-dashed";break}const Ht=it.append("path").attr("d",Lt($t)).attr("id",rt.id).attr("class"," "+Bt+(rt.classes?" "+rt.classes:"")).attr("style",rt.style);let Ut="";switch((getConfig$1().flowchart.arrowMarkerAbsolute||getConfig$1().state.arrowMarkerAbsolute)&&(Ut=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ut=Ut.replace(/\(/g,"\\("),Ut=Ut.replace(/\)/g,"\\)")),log$1.info("arrowTypeStart",rt.arrowTypeStart),log$1.info("arrowTypeEnd",rt.arrowTypeEnd),rt.arrowTypeStart){case"arrow_cross":Ht.attr("marker-start","url("+Ut+"#"+vt+"-crossStart)");break;case"arrow_point":Ht.attr("marker-start","url("+Ut+"#"+vt+"-pointStart)");break;case"arrow_barb":Ht.attr("marker-start","url("+Ut+"#"+vt+"-barbStart)");break;case"arrow_circle":Ht.attr("marker-start","url("+Ut+"#"+vt+"-circleStart)");break;case"aggregation":Ht.attr("marker-start","url("+Ut+"#"+vt+"-aggregationStart)");break;case"extension":Ht.attr("marker-start","url("+Ut+"#"+vt+"-extensionStart)");break;case"composition":Ht.attr("marker-start","url("+Ut+"#"+vt+"-compositionStart)");break;case"dependency":Ht.attr("marker-start","url("+Ut+"#"+vt+"-dependencyStart)");break;case"lollipop":Ht.attr("marker-start","url("+Ut+"#"+vt+"-lollipopStart)");break}switch(rt.arrowTypeEnd){case"arrow_cross":Ht.attr("marker-end","url("+Ut+"#"+vt+"-crossEnd)");break;case"arrow_point":Ht.attr("marker-end","url("+Ut+"#"+vt+"-pointEnd)");break;case"arrow_barb":Ht.attr("marker-end","url("+Ut+"#"+vt+"-barbEnd)");break;case"arrow_circle":Ht.attr("marker-end","url("+Ut+"#"+vt+"-circleEnd)");break;case"aggregation":Ht.attr("marker-end","url("+Ut+"#"+vt+"-aggregationEnd)");break;case"extension":Ht.attr("marker-end","url("+Ut+"#"+vt+"-extensionEnd)");break;case"composition":Ht.attr("marker-end","url("+Ut+"#"+vt+"-compositionEnd)");break;case"dependency":Ht.attr("marker-end","url("+Ut+"#"+vt+"-dependencyEnd)");break;case"lollipop":Ht.attr("marker-end","url("+Ut+"#"+vt+"-lollipopEnd)");break}let It={};return wt&&(It.updatedPath=_t),It.originalPath=rt.points,It},recursiveRender=(it,nt,rt,st)=>{log$1.info("Graph in recursive render: XXX",write(nt),st);const vt=nt.graph().rankdir;log$1.trace("Dir in recursive render - dir:",vt);const bt=it.insert("g").attr("class","root");nt.nodes()?log$1.info("Recursive render XXX",nt.nodes()):log$1.info("No nodes found for",nt),nt.edges().length>0&&log$1.trace("Recursive edges",nt.edge(nt.edges()[0]));const _t=bt.insert("g").attr("class","clusters"),wt=bt.insert("g").attr("class","edgePaths"),Et=bt.insert("g").attr("class","edgeLabels"),Tt=bt.insert("g").attr("class","nodes");nt.nodes().forEach(function(Dt){const Lt=nt.node(Dt);if(st!==void 0){const Bt=JSON.parse(JSON.stringify(st.clusterData));log$1.info("Setting data for cluster XXX (",Dt,") ",Bt,st),nt.setNode(st.id,Bt),nt.parent(Dt)||(log$1.trace("Setting parent",Dt,st.id),nt.setParent(Dt,st.id,Bt))}if(log$1.info("(Insert) Node XXX"+Dt+": "+JSON.stringify(nt.node(Dt))),Lt&&Lt.clusterNode){log$1.info("Cluster identified",Dt,Lt.width,nt.node(Dt));const Bt=recursiveRender(Tt,Lt.graph,rt,nt.node(Dt)),Ht=Bt.elem;updateNodeBounds(Lt,Ht),Lt.diff=Bt.diff||0,log$1.info("Node bounds (abc123)",Dt,Lt,Lt.width,Lt.x,Lt.y),setNodeElem(Ht,Lt),log$1.warn("Recursive render complete ",Ht,Lt)}else nt.children(Dt).length>0?(log$1.info("Cluster - the non recursive path XXX",Dt,Lt.id,Lt,nt),log$1.info(findNonClusterChild(Lt.id,nt)),clusterDb[Lt.id]={id:findNonClusterChild(Lt.id,nt),node:Lt}):(log$1.info("Node - the non recursive path",Dt,Lt.id,Lt),insertNode(Tt,nt.node(Dt),vt))}),nt.edges().forEach(function(Dt){const Lt=nt.edge(Dt.v,Dt.w,Dt.name);log$1.info("Edge "+Dt.v+" -> "+Dt.w+": "+JSON.stringify(Dt)),log$1.info("Edge "+Dt.v+" -> "+Dt.w+": ",Dt," ",JSON.stringify(nt.edge(Dt))),log$1.info("Fix",clusterDb,"ids:",Dt.v,Dt.w,"Translateing: ",clusterDb[Dt.v],clusterDb[Dt.w]),insertEdgeLabel(Et,Lt)}),nt.edges().forEach(function(Dt){log$1.info("Edge "+Dt.v+" -> "+Dt.w+": "+JSON.stringify(Dt))}),log$1.info("#############################################"),log$1.info("###                Layout                 ###"),log$1.info("#############################################"),log$1.info(nt),layout(nt),log$1.info("Graph after layout:",write(nt));let $t=0;return sortNodesByHierarchy(nt).forEach(function(Dt){const Lt=nt.node(Dt);log$1.info("Position "+Dt+": "+JSON.stringify(nt.node(Dt))),log$1.info("Position "+Dt+": ("+Lt.x,","+Lt.y,") width: ",Lt.width," height: ",Lt.height),Lt&&Lt.clusterNode?positionNode(Lt):nt.children(Dt).length>0?(insertCluster(_t,Lt),clusterDb[Lt.id].node=Lt):positionNode(Lt)}),nt.edges().forEach(function(Dt){const Lt=nt.edge(Dt);log$1.info("Edge "+Dt.v+" -> "+Dt.w+": "+JSON.stringify(Lt),Lt);const Bt=insertEdge(wt,Dt,Lt,clusterDb,rt,nt);positionEdgeLabel(Lt,Bt)}),nt.nodes().forEach(function(Dt){const Lt=nt.node(Dt);log$1.info(Dt,Lt.type,Lt.diff),Lt.type==="group"&&($t=Lt.diff)}),{elem:bt,diff:$t}},render$1=(it,nt,rt,st,vt)=>{insertMarkers$3(it,rt,st,vt),clear$a(),clear$8(),clear$9(),clear$b(),log$1.warn("Graph at first:",write(nt)),adjustClustersAndEdges(nt),log$1.warn("Graph after:",write(nt)),recursiveRender(it,nt,st)},sanitizeText$1=it=>common$1.sanitizeText(it,getConfig$1());let conf$9={dividerMargin:10,padding:5,textHeight:10};const addClasses=function(it,nt,rt,st){const vt=Object.keys(it);log$1.info("keys:",vt),log$1.info(it),vt.forEach(function(bt){const _t=it[bt];let wt="";_t.cssClasses.length>0&&(wt=wt+" "+_t.cssClasses.join(" "));const Et={labelStyle:""};let Tt=_t.text!==void 0?_t.text:_t.id,$t=0,Dt="";switch(_t.type){case"class":Dt="class_box";break;default:Dt="class_box"}nt.setNode(_t.id,{labelStyle:Et.labelStyle,shape:Dt,labelText:sanitizeText$1(Tt),classData:_t,rx:$t,ry:$t,class:wt,style:Et.style,id:_t.id,domId:_t.domId,tooltip:st.db.getTooltip(_t.id)||"",haveCallback:_t.haveCallback,link:_t.link,width:_t.type==="group"?500:void 0,type:_t.type,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:Et.labelStyle,shape:Dt,labelText:Tt,rx:$t,ry:$t,class:wt,style:Et.style,id:_t.id,width:_t.type==="group"?500:void 0,type:_t.type,padding:getConfig$1().flowchart.padding})})},addNotes=function(it,nt,rt,st){log$1.info(it),it.forEach(function(vt,bt){const _t=vt;let wt="";const Et={labelStyle:"",style:""};let Tt=_t.text,$t=0,Dt="note";if(nt.setNode(_t.id,{labelStyle:Et.labelStyle,shape:Dt,labelText:sanitizeText$1(Tt),noteData:_t,rx:$t,ry:$t,class:wt,style:Et.style,id:_t.id,domId:_t.id,tooltip:"",type:"note",padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:Et.labelStyle,shape:Dt,labelText:Tt,rx:$t,ry:$t,style:Et.style,id:_t.id,type:"note",padding:getConfig$1().flowchart.padding}),!_t.class||!(_t.class in st))return;const Lt=rt+bt,Bt={};Bt.classes="relation",Bt.pattern="dotted",Bt.id=`edgeNote${Lt}`,Bt.arrowhead="none",log$1.info(`Note edge: ${JSON.stringify(Bt)}, ${JSON.stringify(_t)}`),Bt.startLabelRight="",Bt.endLabelLeft="",Bt.arrowTypeStart="none",Bt.arrowTypeEnd="none";let Ht="fill:none",Ut="";Bt.style=Ht,Bt.labelStyle=Ut,Bt.curve=interpolateToCurve(conf$9.curve,curveLinear),nt.setEdge(_t.id,_t.class,Bt,Lt)})},addRelations=function(it,nt){const rt=getConfig$1().flowchart;let st=0;it.forEach(function(vt){st++;const bt={};bt.classes="relation",bt.pattern=vt.relation.lineType==1?"dashed":"solid",bt.id="id"+st,vt.type==="arrow_open"?bt.arrowhead="none":bt.arrowhead="normal",log$1.info(bt,vt),bt.startLabelRight=vt.relationTitle1==="none"?"":vt.relationTitle1,bt.endLabelLeft=vt.relationTitle2==="none"?"":vt.relationTitle2,bt.arrowTypeStart=getArrowMarker(vt.relation.type1),bt.arrowTypeEnd=getArrowMarker(vt.relation.type2);let _t="",wt="";if(vt.style!==void 0){const Et=getStylesFromArray(vt.style);_t=Et.style,wt=Et.labelStyle}else _t="fill:none";bt.style=_t,bt.labelStyle=wt,vt.interpolate!==void 0?bt.curve=interpolateToCurve(vt.interpolate,curveLinear):it.defaultInterpolate!==void 0?bt.curve=interpolateToCurve(it.defaultInterpolate,curveLinear):bt.curve=interpolateToCurve(rt.curve,curveLinear),vt.text=vt.title,vt.text===void 0?vt.style!==void 0&&(bt.arrowheadStyle="fill: #333"):(bt.arrowheadStyle="fill: #333",bt.labelpos="c",getConfig$1().flowchart.htmlLabels?(bt.labelType="html",bt.label='<span class="edgeLabel">'+vt.text+"</span>"):(bt.labelType="text",bt.label=vt.text.replace(common$1.lineBreakRegex,`
`),vt.style===void 0&&(bt.style=bt.style||"stroke: #333; stroke-width: 1.5px;fill:none"),bt.labelStyle=bt.labelStyle.replace("color:","fill:"))),nt.setEdge(vt.id1,vt.id2,bt,st)})},setConf$9=function(it){Object.keys(it).forEach(function(rt){conf$9[rt]=it[rt]})},draw$c=function(it,nt,rt,st){log$1.info("Drawing class - ",nt);const vt=getConfig$1().flowchart,bt=getConfig$1().securityLevel;log$1.info("config:",vt);const _t=vt.nodeSpacing||50,wt=vt.rankSpacing||50,Et=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:st.db.getDirection(),nodesep:_t,ranksep:wt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),Tt=st.db.getClasses(),$t=st.db.getRelations(),Dt=st.db.getNotes();log$1.info($t),addClasses(Tt,Et,nt,st),addRelations($t,Et),addNotes(Dt,Et,$t.length+1,Tt);let Lt;bt==="sandbox"&&(Lt=select("#i"+nt));const Bt=select(bt==="sandbox"?Lt.nodes()[0].contentDocument.body:"body"),Ht=Bt.select(`[id="${nt}"]`),Ut=Bt.select("#"+nt+" g");if(render$1(Ut,Et,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",nt),utils.insertTitle(Ht,"classTitleText",vt.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox$1(Et,Ht,vt.diagramPadding,vt.useMaxWidth),!vt.htmlLabels){const It=bt==="sandbox"?Lt.nodes()[0].contentDocument:document,jt=It.querySelectorAll('[id="'+nt+'"] .edgeLabel .label');for(const Wt of jt){const qt=Wt.getBBox(),Yt=It.createElementNS("http://www.w3.org/2000/svg","rect");Yt.setAttribute("rx",0),Yt.setAttribute("ry",0),Yt.setAttribute("width",qt.width),Yt.setAttribute("height",qt.height),Wt.insertBefore(Yt,Wt.firstChild)}}};function getArrowMarker(it){let nt;switch(it){case 0:nt="aggregation";break;case 1:nt="extension";break;case 2:nt="composition";break;case 3:nt="dependency";break;case 4:nt="lollipop";break;default:nt="none"}return nt}const classRendererV2={setConf:setConf$9,draw:draw$c};var parser$8=function(){var it=function(ui,ci,hi,ei){for(hi=hi||{},ei=ui.length;ei--;hi[ui[ei]]=ci);return hi},nt=[1,2],rt=[1,5],st=[6,9,11,23,25,27,29,30,31,49],vt=[1,17],bt=[1,18],_t=[1,19],wt=[1,20],Et=[1,21],Tt=[1,22],$t=[1,25],Dt=[1,30],Lt=[1,31],Bt=[1,32],Ht=[1,33],Ut=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],It=[1,45],jt=[30,31,46,47],Wt=[4,6,9,11,23,25,27,29,30,31,49],qt=[42,43,44,45],Yt=[22,37],ti=[1,64],oi={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(ci,hi,ei,wi,Kt,Ni,ni){var Fi=Ni.length-1;switch(Kt){case 1:break;case 3:this.$=[];break;case 4:Ni[Fi-1].push(Ni[Fi]),this.$=Ni[Fi-1];break;case 5:case 6:this.$=Ni[Fi];break;case 7:case 8:this.$=[];break;case 12:wi.addEntity(Ni[Fi-4]),wi.addEntity(Ni[Fi-2]),wi.addRelationship(Ni[Fi-4],Ni[Fi],Ni[Fi-2],Ni[Fi-3]);break;case 13:wi.addEntity(Ni[Fi-3]),wi.addAttributes(Ni[Fi-3],Ni[Fi-1]);break;case 14:wi.addEntity(Ni[Fi-2]);break;case 15:wi.addEntity(Ni[Fi]);break;case 16:case 17:this.$=Ni[Fi].trim(),wi.setAccTitle(this.$);break;case 18:case 19:this.$=Ni[Fi].trim(),wi.setAccDescription(this.$);break;case 20:case 41:this.$=Ni[Fi];break;case 21:case 39:case 40:this.$=Ni[Fi].replace(/"/g,"");break;case 22:this.$=[Ni[Fi]];break;case 23:Ni[Fi].push(Ni[Fi-1]),this.$=Ni[Fi];break;case 24:this.$={attributeType:Ni[Fi-1],attributeName:Ni[Fi]};break;case 25:this.$={attributeType:Ni[Fi-2],attributeName:Ni[Fi-1],attributeKeyType:Ni[Fi]};break;case 26:this.$={attributeType:Ni[Fi-2],attributeName:Ni[Fi-1],attributeComment:Ni[Fi]};break;case 27:this.$={attributeType:Ni[Fi-3],attributeName:Ni[Fi-2],attributeKeyType:Ni[Fi-1],attributeComment:Ni[Fi]};break;case 28:case 29:case 30:this.$=Ni[Fi];break;case 31:this.$=Ni[Fi].replace(/"/g,"");break;case 32:this.$={cardA:Ni[Fi],relType:Ni[Fi-1],cardB:Ni[Fi-2]};break;case 33:this.$=wi.Cardinality.ZERO_OR_ONE;break;case 34:this.$=wi.Cardinality.ZERO_OR_MORE;break;case 35:this.$=wi.Cardinality.ONE_OR_MORE;break;case 36:this.$=wi.Cardinality.ONLY_ONE;break;case 37:this.$=wi.Identification.NON_IDENTIFYING;break;case 38:this.$=wi.Identification.IDENTIFYING;break;case 42:wi.parseDirective("%%{","open_directive");break;case 43:wi.parseDirective(Ni[Fi],"type_directive");break;case 44:Ni[Fi]=Ni[Fi].trim().replace(/'/g,'"'),wi.parseDirective(Ni[Fi],"arg_directive");break;case 45:wi.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:nt,7:3,12:4,49:rt},{1:[3]},it(st,[2,3],{5:6}),{3:7,4:nt,7:3,12:4,49:rt},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:vt,25:bt,27:_t,29:wt,30:Et,31:Tt,49:rt},{1:[2,2]},{14:23,15:[1,24],52:$t},it([15,52],[2,43]),it(st,[2,8],{1:[2,1]}),it(st,[2,4]),{7:15,10:26,12:4,17:16,23:vt,25:bt,27:_t,29:wt,30:Et,31:Tt,49:rt},it(st,[2,6]),it(st,[2,7]),it(st,[2,11]),it(st,[2,15],{18:27,40:29,20:[1,28],42:Dt,43:Lt,44:Bt,45:Ht}),{24:[1,34]},{26:[1,35]},{28:[1,36]},it(st,[2,19]),it(Ut,[2,20]),it(Ut,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},it(st,[2,5]),{17:40,30:Et,31:Tt},{21:41,22:[1,42],32:43,33:44,37:It},{41:46,46:[1,47],47:[1,48]},it(jt,[2,33]),it(jt,[2,34]),it(jt,[2,35]),it(jt,[2,36]),it(st,[2,16]),it(st,[2,17]),it(st,[2,18]),it(Wt,[2,9]),{14:49,52:$t},{52:[2,44]},{15:[1,50]},{22:[1,51]},it(st,[2,14]),{21:52,22:[2,22],32:43,33:44,37:It},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:Dt,43:Lt,44:Bt,45:Ht},it(qt,[2,37]),it(qt,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},it(st,[2,13]),{22:[2,23]},it(Yt,[2,24],{35:61,36:62,38:[1,63],39:ti}),it([22,37,38,39],[2,29]),it([30,31],[2,32]),it(Wt,[2,10]),it(st,[2,12]),it(st,[2,39]),it(st,[2,40]),it(st,[2,41]),it(Yt,[2,25],{36:65,39:ti}),it(Yt,[2,26]),it([22,37,39],[2,30]),it(Yt,[2,31]),it(Yt,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(ci,hi){if(hi.recoverable)this.trace(ci);else{var ei=new Error(ci);throw ei.hash=hi,ei}},parse:function(ci){var hi=this,ei=[0],wi=[],Kt=[null],Ni=[],ni=this.table,Fi="",Xi=0,nn=0,Ai=2,ji=1,Ri=Ni.slice.call(arguments,1),Vi=Object.create(this.lexer),Qi={yy:{}};for(var rn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,rn)&&(Qi.yy[rn]=this.yy[rn]);Vi.setInput(ci,Qi.yy),Qi.yy.lexer=Vi,Qi.yy.parser=this,typeof Vi.yylloc>"u"&&(Vi.yylloc={});var Pi=Vi.yylloc;Ni.push(Pi);var bn=Vi.options&&Vi.options.ranges;typeof Qi.yy.parseError=="function"?this.parseError=Qi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Oi(){var _i;return _i=wi.pop()||Vi.lex()||ji,typeof _i!="number"&&(_i instanceof Array&&(wi=_i,_i=wi.pop()),_i=hi.symbols_[_i]||_i),_i}for(var Ii,Gi,$i,ii,Nt={},Qt,Jt,Si,vi;;){if(Gi=ei[ei.length-1],this.defaultActions[Gi]?$i=this.defaultActions[Gi]:((Ii===null||typeof Ii>"u")&&(Ii=Oi()),$i=ni[Gi]&&ni[Gi][Ii]),typeof $i>"u"||!$i.length||!$i[0]){var Mi="";vi=[];for(Qt in ni[Gi])this.terminals_[Qt]&&Qt>Ai&&vi.push("'"+this.terminals_[Qt]+"'");Vi.showPosition?Mi="Parse error on line "+(Xi+1)+`:
`+Vi.showPosition()+`
Expecting `+vi.join(", ")+", got '"+(this.terminals_[Ii]||Ii)+"'":Mi="Parse error on line "+(Xi+1)+": Unexpected "+(Ii==ji?"end of input":"'"+(this.terminals_[Ii]||Ii)+"'"),this.parseError(Mi,{text:Vi.match,token:this.terminals_[Ii]||Ii,line:Vi.yylineno,loc:Pi,expected:vi})}if($i[0]instanceof Array&&$i.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gi+", token: "+Ii);switch($i[0]){case 1:ei.push(Ii),Kt.push(Vi.yytext),Ni.push(Vi.yylloc),ei.push($i[1]),Ii=null,nn=Vi.yyleng,Fi=Vi.yytext,Xi=Vi.yylineno,Pi=Vi.yylloc;break;case 2:if(Jt=this.productions_[$i[1]][1],Nt.$=Kt[Kt.length-Jt],Nt._$={first_line:Ni[Ni.length-(Jt||1)].first_line,last_line:Ni[Ni.length-1].last_line,first_column:Ni[Ni.length-(Jt||1)].first_column,last_column:Ni[Ni.length-1].last_column},bn&&(Nt._$.range=[Ni[Ni.length-(Jt||1)].range[0],Ni[Ni.length-1].range[1]]),ii=this.performAction.apply(Nt,[Fi,nn,Xi,Qi.yy,$i[1],Kt,Ni].concat(Ri)),typeof ii<"u")return ii;Jt&&(ei=ei.slice(0,-1*Jt*2),Kt=Kt.slice(0,-1*Jt),Ni=Ni.slice(0,-1*Jt)),ei.push(this.productions_[$i[1]][0]),Kt.push(Nt.$),Ni.push(Nt._$),Si=ni[ei[ei.length-2]][ei[ei.length-1]],ei.push(Si);break;case 3:return!0}}return!0}},si=function(){var ui={EOF:1,parseError:function(hi,ei){if(this.yy.parser)this.yy.parser.parseError(hi,ei);else throw new Error(hi)},setInput:function(ci,hi){return this.yy=hi||this.yy||{},this._input=ci,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ci=this._input[0];this.yytext+=ci,this.yyleng++,this.offset++,this.match+=ci,this.matched+=ci;var hi=ci.match(/(?:\r\n?|\n).*/g);return hi?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ci},unput:function(ci){var hi=ci.length,ei=ci.split(/(?:\r\n?|\n)/g);this._input=ci+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-hi),this.offset-=hi;var wi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ei.length-1&&(this.yylineno-=ei.length-1);var Kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ei?(ei.length===wi.length?this.yylloc.first_column:0)+wi[wi.length-ei.length].length-ei[0].length:this.yylloc.first_column-hi},this.options.ranges&&(this.yylloc.range=[Kt[0],Kt[0]+this.yyleng-hi]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ci){this.unput(this.match.slice(ci))},pastInput:function(){var ci=this.matched.substr(0,this.matched.length-this.match.length);return(ci.length>20?"...":"")+ci.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ci=this.match;return ci.length<20&&(ci+=this._input.substr(0,20-ci.length)),(ci.substr(0,20)+(ci.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ci=this.pastInput(),hi=new Array(ci.length+1).join("-");return ci+this.upcomingInput()+`
`+hi+"^"},test_match:function(ci,hi){var ei,wi,Kt;if(this.options.backtrack_lexer&&(Kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Kt.yylloc.range=this.yylloc.range.slice(0))),wi=ci[0].match(/(?:\r\n?|\n).*/g),wi&&(this.yylineno+=wi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:wi?wi[wi.length-1].length-wi[wi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ci[0].length},this.yytext+=ci[0],this.match+=ci[0],this.matches=ci,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ci[0].length),this.matched+=ci[0],ei=this.performAction.call(this,this.yy,this,hi,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ei)return ei;if(this._backtrack){for(var Ni in Kt)this[Ni]=Kt[Ni];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ci,hi,ei,wi;this._more||(this.yytext="",this.match="");for(var Kt=this._currentRules(),Ni=0;Ni<Kt.length;Ni++)if(ei=this._input.match(this.rules[Kt[Ni]]),ei&&(!hi||ei[0].length>hi[0].length)){if(hi=ei,wi=Ni,this.options.backtrack_lexer){if(ci=this.test_match(ei,Kt[Ni]),ci!==!1)return ci;if(this._backtrack){hi=!1;continue}else return!1}else if(!this.options.flex)break}return hi?(ci=this.test_match(hi,Kt[wi]),ci!==!1?ci:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var hi=this.next();return hi||this.lex()},begin:function(hi){this.conditionStack.push(hi)},popState:function(){var hi=this.conditionStack.length-1;return hi>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(hi){return hi=this.conditionStack.length-1-Math.abs(hi||0),hi>=0?this.conditionStack[hi]:"INITIAL"},pushState:function(hi){this.begin(hi)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(hi,ei,wi,Kt){switch(wi){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return ei.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return ei.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return ui}();oi.lexer=si;function di(){this.yy={}}return di.prototype=oi,oi.Parser=di,new di}();parser$8.parser=parser$8;const erParser=parser$8,erDetector=it=>it.match(/^\s*erDiagram/)!==null;let entities={},relationships=[];const Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective$8=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},addEntity=function(it){return entities[it]===void 0&&(entities[it]={attributes:[]},log$1.info("Added new entity :",it)),entities[it]},getEntities=()=>entities,addAttributes=function(it,nt){let rt=addEntity(it),st;for(st=nt.length-1;st>=0;st--)rt.attributes.push(nt[st]),log$1.debug("Added attribute ",nt[st].attributeName)},addRelationship$1=function(it,nt,rt,st){let vt={entityA:it,roleA:nt,entityB:rt,relSpec:st};relationships.push(vt),log$1.debug("Added new relationship :",vt)},getRelationships$1=()=>relationships,clear$7=function(){entities={},relationships=[],clear$g()},erDb={Cardinality,Identification,parseDirective:parseDirective$8,getConfig:()=>getConfig$1().er,addEntity,addAttributes,getEntities,addRelationship:addRelationship$1,getRelationships:getRelationships$1,clear:clear$7,setAccTitle,getAccTitle,setAccDescription,getAccDescription,setDiagramTitle,getDiagramTitle},ERMarkers={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},insertMarkers$1=function(it,nt){let rt;it.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),it.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),rt=it.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),rt.append("circle").attr("stroke",nt.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),rt.append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M9,0 L9,18"),rt=it.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),rt.append("circle").attr("stroke",nt.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),rt.append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M21,0 L21,18"),it.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),it.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),rt=it.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),rt.append("circle").attr("stroke",nt.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),rt.append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),rt=it.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),rt.append("circle").attr("stroke",nt.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),rt.append("path").attr("stroke",nt.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},erMarkers={ERMarkers,insertMarkers:insertMarkers$1},BAD_ID_CHARS_REGEXP=/[^\dA-Za-z](\W)*/g;let conf$8={},entityNameIds=new Map;const setConf$8=function(it){const nt=Object.keys(it);for(const rt of nt)conf$8[rt]=it[rt]},drawAttributes=(it,nt,rt)=>{const st=conf$8.entityPadding/3,vt=conf$8.entityPadding/3,bt=conf$8.fontSize*.85,_t=nt.node().getBBox(),wt=[];let Et=!1,Tt=!1,$t=0,Dt=0,Lt=0,Bt=0,Ht=_t.height+st*2,Ut=1;rt.forEach(qt=>{qt.attributeKeyType!==void 0&&(Et=!0),qt.attributeComment!==void 0&&(Tt=!0)}),rt.forEach(qt=>{const Yt=`${nt.node().id}-attr-${Ut}`;let ti=0;const oi=parseGenericTypes(qt.attributeType),si=it.append("text").classed("er entityLabel",!0).attr("id",`${Yt}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",bt+"px").text(oi),di=it.append("text").classed("er entityLabel",!0).attr("id",`${Yt}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",bt+"px").text(qt.attributeName),ui={};ui.tn=si,ui.nn=di;const ci=si.node().getBBox(),hi=di.node().getBBox();if($t=Math.max($t,ci.width),Dt=Math.max(Dt,hi.width),ti=Math.max(ci.height,hi.height),Et){const ei=it.append("text").classed("er entityLabel",!0).attr("id",`${Yt}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",bt+"px").text(qt.attributeKeyType||"");ui.kn=ei;const wi=ei.node().getBBox();Lt=Math.max(Lt,wi.width),ti=Math.max(ti,wi.height)}if(Tt){const ei=it.append("text").classed("er entityLabel",!0).attr("id",`${Yt}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",bt+"px").text(qt.attributeComment||"");ui.cn=ei;const wi=ei.node().getBBox();Bt=Math.max(Bt,wi.width),ti=Math.max(ti,wi.height)}ui.height=ti,wt.push(ui),Ht+=ti+st*2,Ut+=1});let It=4;Et&&(It+=2),Tt&&(It+=2);const jt=$t+Dt+Lt+Bt,Wt={width:Math.max(conf$8.minEntityWidth,Math.max(_t.width+conf$8.entityPadding*2,jt+vt*It)),height:rt.length>0?Ht:Math.max(conf$8.minEntityHeight,_t.height+conf$8.entityPadding*2)};if(rt.length>0){const qt=Math.max(0,(Wt.width-jt-vt*It)/(It/2));nt.attr("transform","translate("+Wt.width/2+","+(st+_t.height/2)+")");let Yt=_t.height+st*2,ti="attributeBoxOdd";wt.forEach(oi=>{const si=Yt+st+oi.height/2;oi.tn.attr("transform","translate("+vt+","+si+")");const di=it.insert("rect","#"+oi.tn.node().id).classed(`er ${ti}`,!0).attr("x",0).attr("y",Yt).attr("width",$t+vt*2+qt).attr("height",oi.height+st*2),ui=parseFloat(di.attr("x"))+parseFloat(di.attr("width"));oi.nn.attr("transform","translate("+(ui+vt)+","+si+")");const ci=it.insert("rect","#"+oi.nn.node().id).classed(`er ${ti}`,!0).attr("x",ui).attr("y",Yt).attr("width",Dt+vt*2+qt).attr("height",oi.height+st*2);let hi=parseFloat(ci.attr("x"))+parseFloat(ci.attr("width"));if(Et){oi.kn.attr("transform","translate("+(hi+vt)+","+si+")");const ei=it.insert("rect","#"+oi.kn.node().id).classed(`er ${ti}`,!0).attr("x",hi).attr("y",Yt).attr("width",Lt+vt*2+qt).attr("height",oi.height+st*2);hi=parseFloat(ei.attr("x"))+parseFloat(ei.attr("width"))}Tt&&(oi.cn.attr("transform","translate("+(hi+vt)+","+si+")"),it.insert("rect","#"+oi.cn.node().id).classed(`er ${ti}`,"true").attr("x",hi).attr("y",Yt).attr("width",Bt+vt*2+qt).attr("height",oi.height+st*2)),Yt+=oi.height+st*2,ti=ti==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Wt.height=Math.max(conf$8.minEntityHeight,Ht),nt.attr("transform","translate("+Wt.width/2+","+Wt.height/2+")");return Wt},drawEntities=function(it,nt,rt){const st=Object.keys(nt);let vt;return st.forEach(function(bt){const _t=generateId(bt,"entity");entityNameIds.set(bt,_t);const wt=it.append("g").attr("id",_t);vt=vt===void 0?_t:vt;const Et="text-"+_t,Tt=wt.append("text").classed("er entityLabel",!0).attr("id",Et).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(bt),{width:$t,height:Dt}=drawAttributes(wt,Tt,nt[bt].attributes),Bt=wt.insert("rect","#"+Et).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",$t).attr("height",Dt).node().getBBox();rt.setNode(_t,{width:Bt.width,height:Bt.height,shape:"rect",id:_t})}),vt},adjustEntities$1=function(it,nt){nt.nodes().forEach(function(rt){rt!==void 0&&nt.node(rt)!==void 0&&it.select("#"+rt).attr("transform","translate("+(nt.node(rt).x-nt.node(rt).width/2)+","+(nt.node(rt).y-nt.node(rt).height/2)+" )")})},getEdgeName=function(it){return(it.entityA+it.roleA+it.entityB).replace(/\s/g,"")},addRelationships$1=function(it,nt){return it.forEach(function(rt){nt.setEdge(entityNameIds.get(rt.entityA),entityNameIds.get(rt.entityB),{relationship:rt},getEdgeName(rt))}),it};let relCnt$1=0;const drawRelationshipFromLayout$1=function(it,nt,rt,st,vt){relCnt$1++;const bt=rt.edge(entityNameIds.get(nt.entityA),entityNameIds.get(nt.entityB),getEdgeName(nt)),_t=line$1().x(function(Ht){return Ht.x}).y(function(Ht){return Ht.y}).curve(curveBasis),wt=it.insert("path","#"+st).classed("er relationshipLine",!0).attr("d",_t(bt.points)).style("stroke",conf$8.stroke).style("fill","none");nt.relSpec.relType===vt.db.Identification.NON_IDENTIFYING&&wt.attr("stroke-dasharray","8,8");let Et="";switch(conf$8.arrowMarkerAbsolute&&(Et=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Et=Et.replace(/\(/g,"\\("),Et=Et.replace(/\)/g,"\\)")),nt.relSpec.cardA){case vt.db.Cardinality.ZERO_OR_ONE:wt.attr("marker-end","url("+Et+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_END+")");break;case vt.db.Cardinality.ZERO_OR_MORE:wt.attr("marker-end","url("+Et+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_END+")");break;case vt.db.Cardinality.ONE_OR_MORE:wt.attr("marker-end","url("+Et+"#"+erMarkers.ERMarkers.ONE_OR_MORE_END+")");break;case vt.db.Cardinality.ONLY_ONE:wt.attr("marker-end","url("+Et+"#"+erMarkers.ERMarkers.ONLY_ONE_END+")");break}switch(nt.relSpec.cardB){case vt.db.Cardinality.ZERO_OR_ONE:wt.attr("marker-start","url("+Et+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_START+")");break;case vt.db.Cardinality.ZERO_OR_MORE:wt.attr("marker-start","url("+Et+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_START+")");break;case vt.db.Cardinality.ONE_OR_MORE:wt.attr("marker-start","url("+Et+"#"+erMarkers.ERMarkers.ONE_OR_MORE_START+")");break;case vt.db.Cardinality.ONLY_ONE:wt.attr("marker-start","url("+Et+"#"+erMarkers.ERMarkers.ONLY_ONE_START+")");break}const Tt=wt.node().getTotalLength(),$t=wt.node().getPointAtLength(Tt*.5),Dt="rel"+relCnt$1,Bt=it.append("text").classed("er relationshipLabel",!0).attr("id",Dt).attr("x",$t.x).attr("y",$t.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(nt.roleA).node().getBBox();it.insert("rect","#"+Dt).classed("er relationshipLabelBox",!0).attr("x",$t.x-Bt.width/2).attr("y",$t.y-Bt.height/2).attr("width",Bt.width).attr("height",Bt.height)},draw$b=function(it,nt,rt,st){conf$8=getConfig$1().er,log$1.info("Drawing ER diagram");const vt=getConfig$1().securityLevel;let bt;vt==="sandbox"&&(bt=select("#i"+nt));const wt=select(vt==="sandbox"?bt.nodes()[0].contentDocument.body:"body").select(`[id='${nt}']`);erMarkers.insertMarkers(wt,conf$8);let Et;Et=new Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:conf$8.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const Tt=drawEntities(wt,st.db.getEntities(),Et),$t=addRelationships$1(st.db.getRelationships(),Et);layout(Et),adjustEntities$1(wt,Et),$t.forEach(function(Ut){drawRelationshipFromLayout$1(wt,Ut,Et,Tt,st)});const Dt=conf$8.diagramPadding;utils.insertTitle(wt,"entityTitleText",conf$8.titleTopMargin,st.db.getDiagramTitle());const Lt=wt.node().getBBox(),Bt=Lt.width+Dt*2,Ht=Lt.height+Dt*2;configureSvgSize(wt,Ht,Bt,conf$8.useMaxWidth),wt.attr("viewBox",`${Lt.x-Dt} ${Lt.y-Dt} ${Bt} ${Ht}`)};function generateId(it="",nt=""){const rt=it.replace(BAD_ID_CHARS_REGEXP,"");return`${strWithHyphen(nt)}${strWithHyphen(rt)}${v4()}`}function strWithHyphen(it=""){return it.length>0?`${it}-`:""}const erRenderer={setConf:setConf$8,draw:draw$b};var parser$7=function(){var it=function(ho,Qn,rr,hr){for(rr=rr||{},hr=ho.length;hr--;rr[ho[hr]]=Qn);return rr},nt=[1,9],rt=[1,7],st=[1,6],vt=[1,8],bt=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],_t=[2,10],wt=[1,20],Et=[1,21],Tt=[1,22],$t=[1,23],Dt=[1,30],Lt=[1,32],Bt=[1,33],Ht=[1,34],Ut=[1,62],It=[1,48],jt=[1,52],Wt=[1,36],qt=[1,37],Yt=[1,38],ti=[1,39],oi=[1,40],si=[1,56],di=[1,63],ui=[1,51],ci=[1,53],hi=[1,55],ei=[1,59],wi=[1,60],Kt=[1,41],Ni=[1,42],ni=[1,43],Fi=[1,44],Xi=[1,61],nn=[1,50],Ai=[1,54],ji=[1,57],Ri=[1,58],Vi=[1,49],Qi=[1,66],rn=[1,71],Pi=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],bn=[1,75],Oi=[1,74],Ii=[1,76],Gi=[20,21,23,81,82],$i=[1,99],ii=[1,104],Nt=[1,107],Qt=[1,108],Jt=[1,101],Si=[1,106],vi=[1,109],Mi=[1,102],_i=[1,114],Li=[1,113],Ti=[1,103],zi=[1,105],Hi=[1,110],tn=[1,111],qi=[1,112],Wi=[1,115],Cn=[20,21,22,23,81,82],En=[20,21,22,23,53,81,82],$n=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Fn=[20,21,23],Rn=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],br=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Bn=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],on=[1,149],li=[1,157],ai=[1,158],xi=[1,159],ki=[1,160],Ki=[1,144],gn=[1,145],Ui=[1,141],yn=[1,152],an=[1,153],Tn=[1,154],Dn=[1,155],Hn=[1,156],Mn=[1,161],sr=[1,162],jn=[1,147],ir=[1,150],gr=[1,146],nr=[1,143],Po=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Wr=[1,165],zn=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],ur=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Nr=[12,21,22,24],Fr=[22,106],Ir=[1,250],sn=[1,245],dn=[1,246],hn=[1,254],Ln=[1,251],wn=[1,248],Yi=[1,247],vn=[1,249],An=[1,252],lr=[1,253],Dr=[1,255],_r=[1,273],wr=[20,21,23,106],cr=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],Rr={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Qn,rr,hr,In,or,Zi,Bo){var cn=Zi.length-1;switch(or){case 5:In.parseDirective("%%{","open_directive");break;case 6:In.parseDirective(Zi[cn],"type_directive");break;case 7:Zi[cn]=Zi[cn].trim().replace(/'/g,'"'),In.parseDirective(Zi[cn],"arg_directive");break;case 8:In.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Zi[cn])||Zi[cn].length>0)&&Zi[cn-1].push(Zi[cn]),this.$=Zi[cn-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Zi[cn];break;case 19:In.setDirection("TB"),this.$="TB";break;case 20:In.setDirection(Zi[cn-1]),this.$=Zi[cn-1];break;case 35:this.$=Zi[cn-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=In.addSubGraph(Zi[cn-6],Zi[cn-1],Zi[cn-4]);break;case 42:this.$=In.addSubGraph(Zi[cn-3],Zi[cn-1],Zi[cn-3]);break;case 43:this.$=In.addSubGraph(void 0,Zi[cn-1],void 0);break;case 45:this.$=Zi[cn].trim(),In.setAccTitle(this.$);break;case 46:case 47:this.$=Zi[cn].trim(),In.setAccDescription(this.$);break;case 51:In.addLink(Zi[cn-2].stmt,Zi[cn],Zi[cn-1]),this.$={stmt:Zi[cn],nodes:Zi[cn].concat(Zi[cn-2].nodes)};break;case 52:In.addLink(Zi[cn-3].stmt,Zi[cn-1],Zi[cn-2]),this.$={stmt:Zi[cn-1],nodes:Zi[cn-1].concat(Zi[cn-3].nodes)};break;case 53:this.$={stmt:Zi[cn-1],nodes:Zi[cn-1]};break;case 54:this.$={stmt:Zi[cn],nodes:Zi[cn]};break;case 55:this.$=[Zi[cn]];break;case 56:this.$=Zi[cn-4].concat(Zi[cn]);break;case 57:this.$=[Zi[cn-2]],In.setClass(Zi[cn-2],Zi[cn]);break;case 58:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"square");break;case 59:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"doublecircle");break;case 60:this.$=Zi[cn-5],In.addVertex(Zi[cn-5],Zi[cn-2],"circle");break;case 61:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"ellipse");break;case 62:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"stadium");break;case 63:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"subroutine");break;case 64:this.$=Zi[cn-7],In.addVertex(Zi[cn-7],Zi[cn-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Zi[cn-5],Zi[cn-3]]]));break;case 65:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"cylinder");break;case 66:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"round");break;case 67:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"diamond");break;case 68:this.$=Zi[cn-5],In.addVertex(Zi[cn-5],Zi[cn-2],"hexagon");break;case 69:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"odd");break;case 70:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"trapezoid");break;case 71:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"inv_trapezoid");break;case 72:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"lean_right");break;case 73:this.$=Zi[cn-3],In.addVertex(Zi[cn-3],Zi[cn-1],"lean_left");break;case 74:this.$=Zi[cn],In.addVertex(Zi[cn]);break;case 75:Zi[cn-1].text=Zi[cn],this.$=Zi[cn-1];break;case 76:case 77:Zi[cn-2].text=Zi[cn-1],this.$=Zi[cn-2];break;case 78:this.$=Zi[cn];break;case 79:var eo=In.destructLink(Zi[cn],Zi[cn-2]);this.$={type:eo.type,stroke:eo.stroke,length:eo.length,text:Zi[cn-1]};break;case 80:var eo=In.destructLink(Zi[cn]);this.$={type:eo.type,stroke:eo.stroke,length:eo.length};break;case 81:this.$=Zi[cn-1];break;case 83:case 97:case 153:this.$=Zi[cn-1]+""+Zi[cn];break;case 98:case 99:this.$=Zi[cn-4],In.addClass(Zi[cn-2],Zi[cn]);break;case 100:this.$=Zi[cn-4],In.setClass(Zi[cn-2],Zi[cn]);break;case 101:case 109:this.$=Zi[cn-1],In.setClickEvent(Zi[cn-1],Zi[cn]);break;case 102:case 110:this.$=Zi[cn-3],In.setClickEvent(Zi[cn-3],Zi[cn-2]),In.setTooltip(Zi[cn-3],Zi[cn]);break;case 103:this.$=Zi[cn-2],In.setClickEvent(Zi[cn-2],Zi[cn-1],Zi[cn]);break;case 104:this.$=Zi[cn-4],In.setClickEvent(Zi[cn-4],Zi[cn-3],Zi[cn-2]),In.setTooltip(Zi[cn-4],Zi[cn]);break;case 105:case 111:this.$=Zi[cn-1],In.setLink(Zi[cn-1],Zi[cn]);break;case 106:case 112:this.$=Zi[cn-3],In.setLink(Zi[cn-3],Zi[cn-2]),In.setTooltip(Zi[cn-3],Zi[cn]);break;case 107:case 113:this.$=Zi[cn-3],In.setLink(Zi[cn-3],Zi[cn-2],Zi[cn]);break;case 108:case 114:this.$=Zi[cn-5],In.setLink(Zi[cn-5],Zi[cn-4],Zi[cn]),In.setTooltip(Zi[cn-5],Zi[cn-2]);break;case 115:this.$=Zi[cn-4],In.addVertex(Zi[cn-2],void 0,void 0,Zi[cn]);break;case 116:case 118:this.$=Zi[cn-4],In.updateLink(Zi[cn-2],Zi[cn]);break;case 117:this.$=Zi[cn-4],In.updateLink([Zi[cn-2]],Zi[cn]);break;case 119:this.$=Zi[cn-8],In.updateLinkInterpolate([Zi[cn-6]],Zi[cn-2]),In.updateLink([Zi[cn-6]],Zi[cn]);break;case 120:this.$=Zi[cn-8],In.updateLinkInterpolate(Zi[cn-6],Zi[cn-2]),In.updateLink(Zi[cn-6],Zi[cn]);break;case 121:this.$=Zi[cn-6],In.updateLinkInterpolate([Zi[cn-4]],Zi[cn]);break;case 122:this.$=Zi[cn-6],In.updateLinkInterpolate(Zi[cn-4],Zi[cn]);break;case 123:case 125:this.$=[Zi[cn]];break;case 124:case 126:Zi[cn-2].push(Zi[cn]),this.$=Zi[cn-2];break;case 128:this.$=Zi[cn-1]+Zi[cn];break;case 150:this.$=Zi[cn];break;case 151:this.$=Zi[cn-1]+""+Zi[cn];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:nt,16:4,21:rt,22:st,24:vt},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:nt,16:4,21:rt,22:st,24:vt},it(bt,_t,{17:11}),{7:12,13:[1,13]},{16:14,21:rt,22:st,24:vt},{16:15,21:rt,22:st,24:vt},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:wt,21:Et,22:Tt,23:$t,32:24,33:25,34:26,35:27,36:28,37:29,38:Dt,43:31,44:Lt,46:Bt,48:Ht,50:35,51:45,52:Ut,54:46,66:It,67:jt,86:Wt,87:qt,88:Yt,89:ti,90:oi,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,118:Kt,119:Ni,120:ni,121:Fi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},{8:64,10:[1,65],15:Qi},it([10,15],[2,6]),it(bt,[2,17]),it(bt,[2,18]),it(bt,[2,19]),{20:[1,68],21:[1,69],22:rn,27:67,30:70},it(Pi,[2,11]),it(Pi,[2,12]),it(Pi,[2,13]),it(Pi,[2,14]),it(Pi,[2,15]),it(Pi,[2,16]),{9:72,20:bn,21:Oi,23:Ii,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:bn,21:Oi,23:Ii},{9:81,20:bn,21:Oi,23:Ii},{9:82,20:bn,21:Oi,23:Ii},{9:83,20:bn,21:Oi,23:Ii},{9:84,20:bn,21:Oi,23:Ii},{9:86,20:bn,21:Oi,22:[1,85],23:Ii},it(Pi,[2,44]),{45:[1,87]},{47:[1,88]},it(Pi,[2,47]),it(Gi,[2,54],{30:89,22:rn}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:$i,52:ii,66:Nt,67:Qt,84:[1,97],91:Jt,97:96,98:[1,94],100:[1,95],105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Pi,[2,158]),it(Pi,[2,159]),it(Pi,[2,160]),it(Pi,[2,161]),it(Cn,[2,55],{53:[1,116]}),it(En,[2,74],{116:129,40:[1,117],52:Ut,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:It,67:jt,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi}),it($n,[2,150]),it($n,[2,175]),it($n,[2,176]),it($n,[2,177]),it($n,[2,178]),it($n,[2,179]),it($n,[2,180]),it($n,[2,181]),it($n,[2,182]),it($n,[2,183]),it($n,[2,184]),it($n,[2,185]),it($n,[2,186]),it($n,[2,187]),it($n,[2,188]),it($n,[2,189]),it($n,[2,190]),{9:130,20:bn,21:Oi,23:Ii},{11:131,14:[1,132]},it(Fn,[2,8]),it(bt,[2,20]),it(bt,[2,26]),it(bt,[2,27]),{21:[1,133]},it(Rn,[2,34],{30:134,22:rn}),it(Pi,[2,35]),{50:135,51:45,52:Ut,54:46,66:It,67:jt,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},it(br,[2,48]),it(br,[2,49]),it(br,[2,50]),it(Bn,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:on,24:li,26:ai,38:xi,39:139,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),it(Pi,[2,36]),it(Pi,[2,37]),it(Pi,[2,38]),it(Pi,[2,39]),it(Pi,[2,40]),{22:on,24:li,26:ai,38:xi,39:163,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Po,_t,{17:164}),it(Pi,[2,45]),it(Pi,[2,46]),it(Gi,[2,53],{52:Wr}),{26:$i,52:ii,66:Nt,67:Qt,91:Jt,97:166,102:[1,167],105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{95:[1,168],103:169,105:[1,170]},{26:$i,52:ii,66:Nt,67:Qt,91:Jt,95:[1,171],97:172,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{26:$i,52:ii,66:Nt,67:Qt,91:Jt,97:173,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Fn,[2,101],{22:[1,174],99:[1,175]}),it(Fn,[2,105],{22:[1,176]}),it(Fn,[2,109],{115:100,117:178,22:[1,177],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi}),it(Fn,[2,111],{22:[1,179]}),it(zn,[2,152]),it(zn,[2,154]),it(zn,[2,155]),it(zn,[2,156]),it(zn,[2,157]),it(ur,[2,162]),it(ur,[2,163]),it(ur,[2,164]),it(ur,[2,165]),it(ur,[2,166]),it(ur,[2,167]),it(ur,[2,168]),it(ur,[2,169]),it(ur,[2,170]),it(ur,[2,171]),it(ur,[2,172]),it(ur,[2,173]),it(ur,[2,174]),{52:Ut,54:180,66:It,67:jt,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},{22:on,24:li,26:ai,38:xi,39:181,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:182,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:184,42:ki,52:ii,57:[1,183],66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:185,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:186,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:187,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{66:[1,188]},{22:on,24:li,26:ai,38:xi,39:189,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:190,42:ki,52:ii,66:Nt,67:Qt,71:[1,191],73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:192,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:193,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:194,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it($n,[2,151]),it(Nr,[2,3]),{8:195,15:Qi},{15:[2,7]},it(bt,[2,28]),it(Rn,[2,33]),it(Gi,[2,51],{30:196,22:rn}),it(Bn,[2,75],{22:[1,197]}),{22:[1,198]},{22:on,24:li,26:ai,38:xi,39:199,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,82:[1,200],83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(ur,[2,82]),it(ur,[2,84]),it(ur,[2,140]),it(ur,[2,141]),it(ur,[2,142]),it(ur,[2,143]),it(ur,[2,144]),it(ur,[2,145]),it(ur,[2,146]),it(ur,[2,147]),it(ur,[2,148]),it(ur,[2,149]),it(ur,[2,85]),it(ur,[2,86]),it(ur,[2,87]),it(ur,[2,88]),it(ur,[2,89]),it(ur,[2,90]),it(ur,[2,91]),it(ur,[2,92]),it(ur,[2,93]),it(ur,[2,94]),it(ur,[2,95]),{9:203,20:bn,21:Oi,22:on,23:Ii,24:li,26:ai,38:xi,40:[1,202],42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{18:18,19:19,20:wt,21:Et,22:Tt,23:$t,32:24,33:25,34:26,35:27,36:28,37:29,38:Dt,42:[1,204],43:31,44:Lt,46:Bt,48:Ht,50:35,51:45,52:Ut,54:46,66:It,67:jt,86:Wt,87:qt,88:Yt,89:ti,90:oi,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,118:Kt,119:Ni,120:ni,121:Fi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},{22:rn,30:205},{22:[1,206],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:178,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},it(Fr,[2,123]),{22:[1,211]},{22:[1,212],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:178,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:[1,213],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:178,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{84:[1,214]},it(Fn,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},it(zn,[2,153]),{84:[1,219],101:[1,220]},it(Cn,[2,57],{116:129,52:Ut,66:It,67:jt,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi}),{22:on,24:li,26:ai,38:xi,41:[1,221],42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,56:[1,222],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:223,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,58:[1,224],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,60:[1,225],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,62:[1,226],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,64:[1,227],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{67:[1,228]},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,70:[1,229],73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,72:[1,230],73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,39:231,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,41:[1,232],42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,73:Ki,75:[1,233],77:[1,234],81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,73:Ki,75:[1,236],77:[1,235],81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{9:237,20:bn,21:Oi,23:Ii},it(Gi,[2,52],{52:Wr}),it(Bn,[2,77]),it(Bn,[2,76]),{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,68:[1,238],73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Bn,[2,79]),it(ur,[2,83]),{22:on,24:li,26:ai,38:xi,39:239,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Po,_t,{17:240}),it(Pi,[2,43]),{51:241,52:Ut,54:46,66:It,67:jt,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},{22:Ir,66:sn,67:dn,86:hn,96:242,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{22:Ir,66:sn,67:dn,86:hn,96:256,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{22:Ir,66:sn,67:dn,86:hn,96:257,102:Ln,104:[1,258],105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{22:Ir,66:sn,67:dn,86:hn,96:259,102:Ln,104:[1,260],105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{105:[1,261]},{22:Ir,66:sn,67:dn,86:hn,96:262,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{22:Ir,66:sn,67:dn,86:hn,96:263,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{26:$i,52:ii,66:Nt,67:Qt,91:Jt,97:264,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Fn,[2,102]),{84:[1,265]},it(Fn,[2,106],{22:[1,266]}),it(Fn,[2,107]),it(Fn,[2,110]),it(Fn,[2,112],{22:[1,267]}),it(Fn,[2,113]),it(En,[2,58]),it(En,[2,59]),{22:on,24:li,26:ai,38:xi,42:ki,52:ii,58:[1,268],66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(En,[2,66]),it(En,[2,61]),it(En,[2,62]),it(En,[2,63]),{66:[1,269]},it(En,[2,65]),it(En,[2,67]),{22:on,24:li,26:ai,38:xi,42:ki,52:ii,66:Nt,67:Qt,72:[1,270],73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(En,[2,69]),it(En,[2,70]),it(En,[2,72]),it(En,[2,71]),it(En,[2,73]),it(Nr,[2,4]),it([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:on,24:li,26:ai,38:xi,41:[1,271],42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{18:18,19:19,20:wt,21:Et,22:Tt,23:$t,32:24,33:25,34:26,35:27,36:28,37:29,38:Dt,42:[1,272],43:31,44:Lt,46:Bt,48:Ht,50:35,51:45,52:Ut,54:46,66:It,67:jt,86:Wt,87:qt,88:Yt,89:ti,90:oi,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,118:Kt,119:Ni,120:ni,121:Fi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},it(Cn,[2,56]),it(Fn,[2,115],{106:_r}),it(wr,[2,125],{108:274,22:Ir,66:sn,67:dn,86:hn,102:Ln,105:wn,109:Yi,110:vn,111:An,112:lr,113:Dr}),it(cr,[2,127]),it(cr,[2,129]),it(cr,[2,130]),it(cr,[2,131]),it(cr,[2,132]),it(cr,[2,133]),it(cr,[2,134]),it(cr,[2,135]),it(cr,[2,136]),it(cr,[2,137]),it(cr,[2,138]),it(cr,[2,139]),it(Fn,[2,116],{106:_r}),it(Fn,[2,117],{106:_r}),{22:[1,275]},it(Fn,[2,118],{106:_r}),{22:[1,276]},it(Fr,[2,124]),it(Fn,[2,98],{106:_r}),it(Fn,[2,99],{106:_r}),it(Fn,[2,100],{115:100,117:178,26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi}),it(Fn,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:bn,21:Oi,23:Ii},it(Pi,[2,42]),{22:Ir,66:sn,67:dn,86:hn,102:Ln,105:wn,107:283,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},it(cr,[2,128]),{26:$i,52:ii,66:Nt,67:Qt,91:Jt,97:284,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{26:$i,52:ii,66:Nt,67:Qt,91:Jt,97:285,105:Si,106:vi,109:Mi,111:_i,112:Li,115:100,117:98,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(Fn,[2,108]),it(Fn,[2,114]),it(En,[2,60]),{22:on,24:li,26:ai,38:xi,39:286,42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:140,84:Ui,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},it(En,[2,68]),it(Po,_t,{17:287}),it(wr,[2,126],{108:274,22:Ir,66:sn,67:dn,86:hn,102:Ln,105:wn,109:Yi,110:vn,111:An,112:lr,113:Dr}),it(Fn,[2,121],{115:100,117:178,22:[1,288],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi}),it(Fn,[2,122],{115:100,117:178,22:[1,289],26:$i,52:ii,66:Nt,67:Qt,91:Jt,105:Si,106:vi,109:Mi,111:_i,112:Li,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi}),{22:on,24:li,26:ai,38:xi,41:[1,290],42:ki,52:ii,66:Nt,67:Qt,73:Ki,81:gn,83:201,85:151,86:yn,87:an,88:Tn,89:Dn,90:Hn,91:Mn,92:sr,94:142,95:jn,105:Si,106:vi,109:ir,111:_i,112:Li,113:gr,114:nr,115:148,122:Ti,123:zi,124:Hi,125:tn,126:qi,127:Wi},{18:18,19:19,20:wt,21:Et,22:Tt,23:$t,32:24,33:25,34:26,35:27,36:28,37:29,38:Dt,42:[1,291],43:31,44:Lt,46:Bt,48:Ht,50:35,51:45,52:Ut,54:46,66:It,67:jt,86:Wt,87:qt,88:Yt,89:ti,90:oi,91:si,95:di,105:ui,106:ci,109:hi,111:ei,112:wi,116:47,118:Kt,119:Ni,120:ni,121:Fi,122:Xi,123:nn,124:Ai,125:ji,126:Ri,127:Vi},{22:Ir,66:sn,67:dn,86:hn,96:292,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},{22:Ir,66:sn,67:dn,86:hn,96:293,102:Ln,105:wn,107:243,108:244,109:Yi,110:vn,111:An,112:lr,113:Dr},it(En,[2,64]),it(Pi,[2,41]),it(Fn,[2,119],{106:_r}),it(Fn,[2,120],{106:_r})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Qn,rr){if(rr.recoverable)this.trace(Qn);else{var hr=new Error(Qn);throw hr.hash=rr,hr}},parse:function(Qn){var rr=this,hr=[0],In=[],or=[null],Zi=[],Bo=this.table,cn="",eo=0,ba=0,Tr=2,Yr=1,Oa=Zi.slice.call(arguments,1),Kn=Object.create(this.lexer),no={yy:{}};for(var bo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,bo)&&(no.yy[bo]=this.yy[bo]);Kn.setInput(Qn,no.yy),no.yy.lexer=Kn,no.yy.parser=this,typeof Kn.yylloc>"u"&&(Kn.yylloc={});var Go=Kn.yylloc;Zi.push(Go);var Oo=Kn.options&&Kn.options.ranges;typeof no.yy.parseError=="function"?this.parseError=no.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Gr(){var mo;return mo=In.pop()||Kn.lex()||Yr,typeof mo!="number"&&(mo instanceof Array&&(In=mo,mo=In.pop()),mo=rr.symbols_[mo]||mo),mo}for(var qr,Or,to,Io,ao={},So,Eo,ca,ua;;){if(Or=hr[hr.length-1],this.defaultActions[Or]?to=this.defaultActions[Or]:((qr===null||typeof qr>"u")&&(qr=Gr()),to=Bo[Or]&&Bo[Or][qr]),typeof to>"u"||!to.length||!to[0]){var qo="";ua=[];for(So in Bo[Or])this.terminals_[So]&&So>Tr&&ua.push("'"+this.terminals_[So]+"'");Kn.showPosition?qo="Parse error on line "+(eo+1)+`:
`+Kn.showPosition()+`
Expecting `+ua.join(", ")+", got '"+(this.terminals_[qr]||qr)+"'":qo="Parse error on line "+(eo+1)+": Unexpected "+(qr==Yr?"end of input":"'"+(this.terminals_[qr]||qr)+"'"),this.parseError(qo,{text:Kn.match,token:this.terminals_[qr]||qr,line:Kn.yylineno,loc:Go,expected:ua})}if(to[0]instanceof Array&&to.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Or+", token: "+qr);switch(to[0]){case 1:hr.push(qr),or.push(Kn.yytext),Zi.push(Kn.yylloc),hr.push(to[1]),qr=null,ba=Kn.yyleng,cn=Kn.yytext,eo=Kn.yylineno,Go=Kn.yylloc;break;case 2:if(Eo=this.productions_[to[1]][1],ao.$=or[or.length-Eo],ao._$={first_line:Zi[Zi.length-(Eo||1)].first_line,last_line:Zi[Zi.length-1].last_line,first_column:Zi[Zi.length-(Eo||1)].first_column,last_column:Zi[Zi.length-1].last_column},Oo&&(ao._$.range=[Zi[Zi.length-(Eo||1)].range[0],Zi[Zi.length-1].range[1]]),Io=this.performAction.apply(ao,[cn,ba,eo,no.yy,to[1],or,Zi].concat(Oa)),typeof Io<"u")return Io;Eo&&(hr=hr.slice(0,-1*Eo*2),or=or.slice(0,-1*Eo),Zi=Zi.slice(0,-1*Eo)),hr.push(this.productions_[to[1]][0]),or.push(ao.$),Zi.push(ao._$),ca=Bo[hr[hr.length-2]][hr[hr.length-1]],hr.push(ca);break;case 3:return!0}}return!0}},Ao=function(){var ho={EOF:1,parseError:function(rr,hr){if(this.yy.parser)this.yy.parser.parseError(rr,hr);else throw new Error(rr)},setInput:function(Qn,rr){return this.yy=rr||this.yy||{},this._input=Qn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Qn=this._input[0];this.yytext+=Qn,this.yyleng++,this.offset++,this.match+=Qn,this.matched+=Qn;var rr=Qn.match(/(?:\r\n?|\n).*/g);return rr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Qn},unput:function(Qn){var rr=Qn.length,hr=Qn.split(/(?:\r\n?|\n)/g);this._input=Qn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-rr),this.offset-=rr;var In=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),hr.length-1&&(this.yylineno-=hr.length-1);var or=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:hr?(hr.length===In.length?this.yylloc.first_column:0)+In[In.length-hr.length].length-hr[0].length:this.yylloc.first_column-rr},this.options.ranges&&(this.yylloc.range=[or[0],or[0]+this.yyleng-rr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Qn){this.unput(this.match.slice(Qn))},pastInput:function(){var Qn=this.matched.substr(0,this.matched.length-this.match.length);return(Qn.length>20?"...":"")+Qn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Qn=this.match;return Qn.length<20&&(Qn+=this._input.substr(0,20-Qn.length)),(Qn.substr(0,20)+(Qn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Qn=this.pastInput(),rr=new Array(Qn.length+1).join("-");return Qn+this.upcomingInput()+`
`+rr+"^"},test_match:function(Qn,rr){var hr,In,or;if(this.options.backtrack_lexer&&(or={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(or.yylloc.range=this.yylloc.range.slice(0))),In=Qn[0].match(/(?:\r\n?|\n).*/g),In&&(this.yylineno+=In.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:In?In[In.length-1].length-In[In.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Qn[0].length},this.yytext+=Qn[0],this.match+=Qn[0],this.matches=Qn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Qn[0].length),this.matched+=Qn[0],hr=this.performAction.call(this,this.yy,this,rr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),hr)return hr;if(this._backtrack){for(var Zi in or)this[Zi]=or[Zi];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Qn,rr,hr,In;this._more||(this.yytext="",this.match="");for(var or=this._currentRules(),Zi=0;Zi<or.length;Zi++)if(hr=this._input.match(this.rules[or[Zi]]),hr&&(!rr||hr[0].length>rr[0].length)){if(rr=hr,In=Zi,this.options.backtrack_lexer){if(Qn=this.test_match(hr,or[Zi]),Qn!==!1)return Qn;if(this._backtrack){rr=!1;continue}else return!1}else if(!this.options.flex)break}return rr?(Qn=this.test_match(rr,or[In]),Qn!==!1?Qn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var rr=this.next();return rr||this.lex()},begin:function(rr){this.conditionStack.push(rr)},popState:function(){var rr=this.conditionStack.length-1;return rr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(rr){return rr=this.conditionStack.length-1-Math.abs(rr||0),rr>=0?this.conditionStack[rr]:"INITIAL"},pushState:function(rr){this.begin(rr)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(rr,hr,In,or){switch(In){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return rr.lex.firstGraph()&&this.begin("dir"),24;case 36:return rr.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return ho}();Rr.lexer=Ao;function Yo(){this.yy={}}return Yo.prototype=Rr,Rr.Parser=Yo,new Yo}();parser$7.parser=parser$7;const flowParser=parser$7,flowDetector=(it,nt)=>{var rt;return((rt=nt==null?void 0:nt.flowchart)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"?!1:it.match(/^\s*graph/)!==null},flowDetectorV2=(it,nt)=>{var rt;return((rt=nt==null?void 0:nt.flowchart)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"&&it.match(/^\s*graph/)!==null?!0:it.match(/^\s*flowchart/)!==null},MERMAID_DOM_ID_PREFIX="flowchart-";let vertexCounter=0,config=getConfig$1(),vertices={},edges=[],classes$1={},subGraphs=[],subGraphLookup={},tooltips={},subCount=0,firstGraphFlag=!0,direction$1,version,funs$1=[];const sanitizeText=it=>common$1.sanitizeText(it,config),parseDirective$7=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},lookUpDomId=function(it){const nt=Object.keys(vertices);for(const rt of nt)if(vertices[rt].id===it)return vertices[rt].domId;return it},addVertex=function(it,nt,rt,st,vt,bt,_t={}){let wt,Et=it;Et!==void 0&&Et.trim().length!==0&&(vertices[Et]===void 0&&(vertices[Et]={id:Et,domId:MERMAID_DOM_ID_PREFIX+Et+"-"+vertexCounter,styles:[],classes:[]}),vertexCounter++,nt!==void 0?(config=getConfig$1(),wt=sanitizeText(nt.trim()),wt[0]==='"'&&wt[wt.length-1]==='"'&&(wt=wt.substring(1,wt.length-1)),vertices[Et].text=wt):vertices[Et].text===void 0&&(vertices[Et].text=it),rt!==void 0&&(vertices[Et].type=rt),st!=null&&st.forEach(function(Tt){vertices[Et].styles.push(Tt)}),vt!=null&&vt.forEach(function(Tt){vertices[Et].classes.push(Tt)}),bt!==void 0&&(vertices[Et].dir=bt),vertices[Et].props===void 0?vertices[Et].props=_t:_t!==void 0&&Object.assign(vertices[Et].props,_t))},addSingleLink=function(it,nt,rt,st){const _t={start:it,end:nt,type:void 0,text:""};st=rt.text,st!==void 0&&(_t.text=sanitizeText(st.trim()),_t.text[0]==='"'&&_t.text[_t.text.length-1]==='"'&&(_t.text=_t.text.substring(1,_t.text.length-1))),rt!==void 0&&(_t.type=rt.type,_t.stroke=rt.stroke,_t.length=rt.length),edges.push(_t)},addLink=function(it,nt,rt,st){let vt,bt;for(vt=0;vt<it.length;vt++)for(bt=0;bt<nt.length;bt++)addSingleLink(it[vt],nt[bt],rt,st)},updateLinkInterpolate=function(it,nt){it.forEach(function(rt){rt==="default"?edges.defaultInterpolate=nt:edges[rt].interpolate=nt})},updateLink=function(it,nt){it.forEach(function(rt){rt==="default"?edges.defaultStyle=nt:(utils.isSubstringInArray("fill",nt)===-1&&nt.push("fill:none"),edges[rt].style=nt)})},addClass=function(it,nt){classes$1[it]===void 0&&(classes$1[it]={id:it,styles:[],textStyles:[]}),nt!=null&&nt.forEach(function(rt){if(rt.match("color")){const vt=rt.replace("fill","bgFill").replace("color","fill");classes$1[it].textStyles.push(vt)}classes$1[it].styles.push(rt)})},setDirection$1=function(it){direction$1=it,direction$1.match(/.*</)&&(direction$1="RL"),direction$1.match(/.*\^/)&&(direction$1="BT"),direction$1.match(/.*>/)&&(direction$1="LR"),direction$1.match(/.*v/)&&(direction$1="TB")},setClass$1=function(it,nt){it.split(",").forEach(function(rt){let st=rt;vertices[st]!==void 0&&vertices[st].classes.push(nt),subGraphLookup[st]!==void 0&&subGraphLookup[st].classes.push(nt)})},setTooltip=function(it,nt){it.split(",").forEach(function(rt){nt!==void 0&&(tooltips[version==="gen-1"?lookUpDomId(rt):rt]=sanitizeText(nt))})},setClickFun$1=function(it,nt,rt){let st=lookUpDomId(it);if(getConfig$1().securityLevel!=="loose"||nt===void 0)return;let vt=[];if(typeof rt=="string"){vt=rt.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let bt=0;bt<vt.length;bt++){let _t=vt[bt].trim();_t.charAt(0)==='"'&&_t.charAt(_t.length-1)==='"'&&(_t=_t.substr(1,_t.length-2)),vt[bt]=_t}}vt.length===0&&vt.push(it),vertices[it]!==void 0&&(vertices[it].haveCallback=!0,funs$1.push(function(){const bt=document.querySelector(`[id="${st}"]`);bt!==null&&bt.addEventListener("click",function(){utils.runFunc(nt,...vt)},!1)}))},setLink$1=function(it,nt,rt){it.split(",").forEach(function(st){vertices[st]!==void 0&&(vertices[st].link=utils.formatUrl(nt,config),vertices[st].linkTarget=rt)}),setClass$1(it,"clickable")},getTooltip=function(it){return tooltips[it]},setClickEvent$1=function(it,nt,rt){it.split(",").forEach(function(st){setClickFun$1(st,nt,rt)}),setClass$1(it,"clickable")},bindFunctions$1=function(it){funs$1.forEach(function(nt){nt(it)})},getDirection$1=function(){return direction$1.trim()},getVertices=function(){return vertices},getEdges=function(){return edges},getClasses$4=function(){return classes$1},setupToolTips=function(it){let nt=select(".mermaidTooltip");(nt._groups||nt)[0][0]===null&&(nt=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(it).select("svg").selectAll("g.node").on("mouseover",function(){const vt=select(this);if(vt.attr("title")===null)return;const _t=this.getBoundingClientRect();nt.transition().duration(200).style("opacity",".9"),nt.text(vt.attr("title")).style("left",window.scrollX+_t.left+(_t.right-_t.left)/2+"px").style("top",window.scrollY+_t.top-14+document.body.scrollTop+"px"),nt.html(nt.html().replace(/&lt;br\/&gt;/g,"<br/>")),vt.classed("hover",!0)}).on("mouseout",function(){nt.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$1.push(setupToolTips);const clear$6=function(it="gen-1"){vertices={},classes$1={},edges=[],funs$1=[setupToolTips],subGraphs=[],subGraphLookup={},subCount=0,tooltips=[],firstGraphFlag=!0,version=it,clear$g()},setGen=it=>{version=it||"gen-1"},defaultStyle=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph=function(it,nt,rt){let st=it.trim(),vt=rt;it===rt&&rt.match(/\s/)&&(st=void 0);function bt($t){const Dt={boolean:{},number:{},string:{}},Lt=[];let Bt;return{nodeList:$t.filter(function(Ut){const It=typeof Ut;return Ut.stmt&&Ut.stmt==="dir"?(Bt=Ut.value,!1):Ut.trim()===""?!1:It in Dt?Dt[It].hasOwnProperty(Ut)?!1:Dt[It][Ut]=!0:Lt.includes(Ut)?!1:Lt.push(Ut)}),dir:Bt}}let _t=[];const{nodeList:wt,dir:Et}=bt(_t.concat.apply(_t,nt));if(_t=wt,version==="gen-1")for(let $t=0;$t<_t.length;$t++)_t[$t]=lookUpDomId(_t[$t]);st=st||"subGraph"+subCount,vt=vt||"",vt=sanitizeText(vt),subCount=subCount+1;const Tt={id:st,nodes:_t,title:vt.trim(),classes:[],dir:Et};return log$1.info("Adding",Tt.id,Tt.nodes,Tt.dir),Tt.nodes=makeUniq(Tt,subGraphs).nodes,subGraphs.push(Tt),subGraphLookup[st]=Tt,st},getPosForId=function(it){for(const[nt,rt]of subGraphs.entries())if(rt.id===it)return nt;return-1};let secCount=-1;const posCrossRef=[],indexNodes2=function(it,nt){const rt=subGraphs[nt].nodes;if(secCount=secCount+1,secCount>2e3)return;if(posCrossRef[secCount]=nt,subGraphs[nt].id===it)return{result:!0,count:0};let st=0,vt=1;for(;st<rt.length;){const bt=getPosForId(rt[st]);if(bt>=0){const _t=indexNodes2(it,bt);if(_t.result)return{result:!0,count:vt+_t.count};vt=vt+_t.count}st=st+1}return{result:!1,count:vt}},getDepthFirstPos=function(it){return posCrossRef[it]},indexNodes=function(){secCount=-1,subGraphs.length>0&&indexNodes2("none",subGraphs.length-1)},getSubGraphs=function(){return subGraphs},firstGraph=()=>firstGraphFlag?(firstGraphFlag=!1,!0):!1,destructStartLink=it=>{let nt=it.trim(),rt="arrow_open";switch(nt[0]){case"<":rt="arrow_point",nt=nt.slice(1);break;case"x":rt="arrow_cross",nt=nt.slice(1);break;case"o":rt="arrow_circle",nt=nt.slice(1);break}let st="normal";return nt.includes("=")&&(st="thick"),nt.includes(".")&&(st="dotted"),{type:rt,stroke:st}},countChar=(it,nt)=>{const rt=nt.length;let st=0;for(let vt=0;vt<rt;++vt)nt[vt]===it&&++st;return st},destructEndLink=it=>{const nt=it.trim();let rt=nt.slice(0,-1),st="arrow_open";switch(nt.slice(-1)){case"x":st="arrow_cross",nt[0]==="x"&&(st="double_"+st,rt=rt.slice(1));break;case">":st="arrow_point",nt[0]==="<"&&(st="double_"+st,rt=rt.slice(1));break;case"o":st="arrow_circle",nt[0]==="o"&&(st="double_"+st,rt=rt.slice(1));break}let vt="normal",bt=rt.length-1;rt[0]==="="&&(vt="thick");let _t=countChar(".",rt);return _t&&(vt="dotted",bt=_t),{type:st,stroke:vt,length:bt}},destructLink=(it,nt)=>{const rt=destructEndLink(it);let st;if(nt){if(st=destructStartLink(nt),st.stroke!==rt.stroke)return{type:"INVALID",stroke:"INVALID"};if(st.type==="arrow_open")st.type=rt.type;else{if(st.type!==rt.type)return{type:"INVALID",stroke:"INVALID"};st.type="double_"+st.type}return st.type==="double_arrow"&&(st.type="double_arrow_point"),st.length=rt.length,st}return rt},exists=(it,nt)=>{let rt=!1;return it.forEach(st=>{st.nodes.indexOf(nt)>=0&&(rt=!0)}),rt},makeUniq=(it,nt)=>{const rt=[];return it.nodes.forEach((st,vt)=>{exists(nt,st)||rt.push(it.nodes[vt])}),{nodes:rt}},flowDb={parseDirective:parseDirective$7,defaultConfig:()=>defaultConfig.flowchart,setAccTitle,getAccTitle,getAccDescription,setAccDescription,addVertex,lookUpDomId,addLink,updateLinkInterpolate,updateLink,addClass,setDirection:setDirection$1,setClass:setClass$1,setTooltip,getTooltip,setClickEvent:setClickEvent$1,setLink:setLink$1,bindFunctions:bindFunctions$1,getDirection:getDirection$1,getVertices,getEdges,getClasses:getClasses$4,clear:clear$6,setGen,defaultStyle,addSubGraph,getDepthFirstPos,indexNodes,getSubGraphs,destructLink,lex:{firstGraph},exists,makeUniq,setDiagramTitle,getDiagramTitle};function question(it,nt,rt){const st=nt.width,vt=nt.height,bt=(st+vt)*.9,_t=[{x:bt/2,y:0},{x:bt,y:-bt/2},{x:bt/2,y:-bt},{x:0,y:-bt/2}],wt=insertPolygonShape(it,bt,bt,_t);return rt.intersect=function(Et){return intersectPolygon$1(rt,_t,Et)},wt}function hexagon(it,nt,rt){const vt=nt.height,bt=vt/4,_t=nt.width+2*bt,wt=[{x:bt,y:0},{x:_t-bt,y:0},{x:_t,y:-vt/2},{x:_t-bt,y:-vt},{x:bt,y:-vt},{x:0,y:-vt/2}],Et=insertPolygonShape(it,_t,vt,wt);return rt.intersect=function(Tt){return intersectPolygon$1(rt,wt,Tt)},Et}function rect_left_inv_arrow(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:-vt/2,y:0},{x:st,y:0},{x:st,y:-vt},{x:-vt/2,y:-vt},{x:0,y:-vt/2}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function lean_right(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:-2*vt/6,y:0},{x:st-vt/6,y:0},{x:st+2*vt/6,y:-vt},{x:vt/6,y:-vt}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function lean_left(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:2*vt/6,y:0},{x:st+vt/6,y:0},{x:st-2*vt/6,y:-vt},{x:-vt/6,y:-vt}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function trapezoid(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:-2*vt/6,y:0},{x:st+2*vt/6,y:0},{x:st-vt/6,y:-vt},{x:vt/6,y:-vt}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function inv_trapezoid(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:vt/6,y:0},{x:st-vt/6,y:0},{x:st+2*vt/6,y:-vt},{x:-2*vt/6,y:-vt}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function rect_right_inv_arrow(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:0,y:0},{x:st+vt/2,y:0},{x:st,y:-vt/2},{x:st+vt/2,y:-vt},{x:0,y:-vt}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function stadium(it,nt,rt){const st=nt.height,vt=nt.width+st/4,bt=it.insert("rect",":first-child").attr("rx",st/2).attr("ry",st/2).attr("x",-vt/2).attr("y",-st/2).attr("width",vt).attr("height",st);return rt.intersect=function(_t){return intersectRect$2(rt,_t)},bt}function subroutine(it,nt,rt){const st=nt.width,vt=nt.height,bt=[{x:0,y:0},{x:st,y:0},{x:st,y:-vt},{x:0,y:-vt},{x:0,y:0},{x:-8,y:0},{x:st+8,y:0},{x:st+8,y:-vt},{x:-8,y:-vt},{x:-8,y:0}],_t=insertPolygonShape(it,st,vt,bt);return rt.intersect=function(wt){return intersectPolygon$1(rt,bt,wt)},_t}function cylinder(it,nt,rt){const st=nt.width,vt=st/2,bt=vt/(2.5+st/50),_t=nt.height+bt,wt="M 0,"+bt+" a "+vt+","+bt+" 0,0,0 "+st+" 0 a "+vt+","+bt+" 0,0,0 "+-st+" 0 l 0,"+_t+" a "+vt+","+bt+" 0,0,0 "+st+" 0 l 0,"+-_t,Et=it.attr("label-offset-y",bt).insert("path",":first-child").attr("d",wt).attr("transform","translate("+-st/2+","+-(_t/2+bt)+")");return rt.intersect=function(Tt){const $t=intersectRect$2(rt,Tt),Dt=$t.x-rt.x;if(vt!=0&&(Math.abs(Dt)<rt.width/2||Math.abs(Dt)==rt.width/2&&Math.abs($t.y-rt.y)>rt.height/2-bt)){let Lt=bt*bt*(1-Dt*Dt/(vt*vt));Lt!=0&&(Lt=Math.sqrt(Lt)),Lt=bt-Lt,Tt.y-rt.y>0&&(Lt=-Lt),$t.y+=Lt}return $t},Et}function addToRender(it){it.shapes().question=question,it.shapes().hexagon=hexagon,it.shapes().stadium=stadium,it.shapes().subroutine=subroutine,it.shapes().cylinder=cylinder,it.shapes().rect_left_inv_arrow=rect_left_inv_arrow,it.shapes().lean_right=lean_right,it.shapes().lean_left=lean_left,it.shapes().trapezoid=trapezoid,it.shapes().inv_trapezoid=inv_trapezoid,it.shapes().rect_right_inv_arrow=rect_right_inv_arrow}function addToRenderV2(it){it({question}),it({hexagon}),it({stadium}),it({subroutine}),it({cylinder}),it({rect_left_inv_arrow}),it({lean_right}),it({lean_left}),it({trapezoid}),it({inv_trapezoid}),it({rect_right_inv_arrow})}function insertPolygonShape(it,nt,rt,st){return it.insert("polygon",":first-child").attr("points",st.map(function(vt){return vt.x+","+vt.y}).join(" ")).attr("transform","translate("+-nt/2+","+rt/2+")")}const flowChartShapes={addToRender,addToRenderV2},conf$7={},setConf$7=function(it){const nt=Object.keys(it);for(const rt of nt)conf$7[rt]=it[rt]},addVertices$1=function(it,nt,rt,st,vt,bt){const _t=st?st.select(`[id="${rt}"]`):select(`[id="${rt}"]`),wt=vt||document;Object.keys(it).forEach(function(Tt){const $t=it[Tt];let Dt="default";$t.classes.length>0&&(Dt=$t.classes.join(" "));const Lt=getStylesFromArray($t.styles);let Bt=$t.text!==void 0?$t.text:$t.id,Ht;if(evaluate(getConfig$1().flowchart.htmlLabels)){const jt={label:Bt.replace(/fa[blrs]?:fa-[\w-]+/g,Wt=>`<i class='${Wt.replace(":"," ")}'></i>`)};Ht=addHtmlLabel$1(_t,jt).node(),Ht.parentNode.removeChild(Ht)}else{const jt=wt.createElementNS("http://www.w3.org/2000/svg","text");jt.setAttribute("style",Lt.labelStyle.replace("color:","fill:"));const Wt=Bt.split(common$1.lineBreakRegex);for(const qt of Wt){const Yt=wt.createElementNS("http://www.w3.org/2000/svg","tspan");Yt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Yt.setAttribute("dy","1em"),Yt.setAttribute("x","1"),Yt.textContent=qt,jt.appendChild(Yt)}Ht=jt}let Ut=0,It="";switch($t.type){case"round":Ut=5,It="rect";break;case"square":It="rect";break;case"diamond":It="question";break;case"hexagon":It="hexagon";break;case"odd":It="rect_left_inv_arrow";break;case"lean_right":It="lean_right";break;case"lean_left":It="lean_left";break;case"trapezoid":It="trapezoid";break;case"inv_trapezoid":It="inv_trapezoid";break;case"odd_right":It="rect_left_inv_arrow";break;case"circle":It="circle";break;case"ellipse":It="ellipse";break;case"stadium":It="stadium";break;case"subroutine":It="subroutine";break;case"cylinder":It="cylinder";break;case"group":It="rect";break;default:It="rect"}log$1.warn("Adding node",$t.id,$t.domId),nt.setNode(bt.db.lookUpDomId($t.id),{labelType:"svg",labelStyle:Lt.labelStyle,shape:It,label:Ht,rx:Ut,ry:Ut,class:Dt,style:Lt.style,id:bt.db.lookUpDomId($t.id)})})},addEdges$1=function(it,nt,rt){let st=0,vt,bt;if(it.defaultStyle!==void 0){const _t=getStylesFromArray(it.defaultStyle);vt=_t.style,bt=_t.labelStyle}it.forEach(function(_t){st++;var wt="L-"+_t.start+"-"+_t.end,Et="LS-"+_t.start,Tt="LE-"+_t.end;const $t={};_t.type==="arrow_open"?$t.arrowhead="none":$t.arrowhead="normal";let Dt="",Lt="";if(_t.style!==void 0){const Bt=getStylesFromArray(_t.style);Dt=Bt.style,Lt=Bt.labelStyle}else switch(_t.stroke){case"normal":Dt="fill:none",vt!==void 0&&(Dt=vt),bt!==void 0&&(Lt=bt);break;case"dotted":Dt="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Dt=" stroke-width: 3.5px;fill:none";break}$t.style=Dt,$t.labelStyle=Lt,_t.interpolate!==void 0?$t.curve=interpolateToCurve(_t.interpolate,curveLinear):it.defaultInterpolate!==void 0?$t.curve=interpolateToCurve(it.defaultInterpolate,curveLinear):$t.curve=interpolateToCurve(conf$7.curve,curveLinear),_t.text===void 0?_t.style!==void 0&&($t.arrowheadStyle="fill: #333"):($t.arrowheadStyle="fill: #333",$t.labelpos="c",evaluate(getConfig$1().flowchart.htmlLabels)?($t.labelType="html",$t.label=`<span id="L-${wt}" class="edgeLabel L-${Et}' L-${Tt}" style="${$t.labelStyle}">${_t.text.replace(/fa[blrs]?:fa-[\w-]+/g,Bt=>`<i class='${Bt.replace(":"," ")}'></i>`)}</span>`):($t.labelType="text",$t.label=_t.text.replace(common$1.lineBreakRegex,`
`),_t.style===void 0&&($t.style=$t.style||"stroke: #333; stroke-width: 1.5px;fill:none"),$t.labelStyle=$t.labelStyle.replace("color:","fill:"))),$t.id=wt,$t.class=Et+" "+Tt,$t.minlen=_t.length||1,nt.setEdge(rt.db.lookUpDomId(_t.start),rt.db.lookUpDomId(_t.end),$t,st)})},getClasses$3=function(it,nt){log$1.info("Extracting classes"),nt.db.clear();try{return nt.parse(it),nt.db.getClasses()}catch(rt){return log$1.error(rt),{}}},draw$a=function(it,nt,rt,st){log$1.info("Drawing flowchart"),st.db.clear();const{securityLevel:vt,flowchart:bt}=getConfig$1();let _t;vt==="sandbox"&&(_t=select("#i"+nt));const wt=select(vt==="sandbox"?_t.nodes()[0].contentDocument.body:"body"),Et=vt==="sandbox"?_t.nodes()[0].contentDocument:document;try{st.parser.parse(it)}catch{log$1.debug("Parsing failed")}let Tt=st.db.getDirection();Tt===void 0&&(Tt="TD");const $t=bt.nodeSpacing||50,Dt=bt.rankSpacing||50,Lt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Tt,nodesep:$t,ranksep:Dt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let Bt;const Ht=st.db.getSubGraphs();for(let oi=Ht.length-1;oi>=0;oi--)Bt=Ht[oi],st.db.addVertex(Bt.id,Bt.title,"group",void 0,Bt.classes);const Ut=st.db.getVertices();log$1.warn("Get vertices",Ut);const It=st.db.getEdges();let jt=0;for(jt=Ht.length-1;jt>=0;jt--){Bt=Ht[jt],selectAll("cluster").append("text");for(let oi=0;oi<Bt.nodes.length;oi++)log$1.warn("Setting subgraph",Bt.nodes[oi],st.db.lookUpDomId(Bt.nodes[oi]),st.db.lookUpDomId(Bt.id)),Lt.setParent(st.db.lookUpDomId(Bt.nodes[oi]),st.db.lookUpDomId(Bt.id))}addVertices$1(Ut,Lt,nt,wt,Et,st),addEdges$1(It,Lt,st);const Wt=new render$2;flowChartShapes.addToRender(Wt),Wt.arrows().none=function(si,di,ui,ci){const ei=si.append("marker").attr("id",di).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");applyStyle$1(ei,ui[ci+"Style"])},Wt.arrows().normal=function(si,di){si.append("marker").attr("id",di).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const qt=wt.select(`[id="${nt}"]`),Yt=wt.select("#"+nt+" g");for(Wt(Yt,Lt),Yt.selectAll("g.node").attr("title",function(){return st.db.getTooltip(this.id)}),st.db.indexNodes("subGraph"+jt),jt=0;jt<Ht.length;jt++)if(Bt=Ht[jt],Bt.title!=="undefined"){const oi=Et.querySelectorAll("#"+nt+' [id="'+st.db.lookUpDomId(Bt.id)+'"] rect'),si=Et.querySelectorAll("#"+nt+' [id="'+st.db.lookUpDomId(Bt.id)+'"]'),di=oi[0].x.baseVal.value,ui=oi[0].y.baseVal.value,ci=oi[0].width.baseVal.value,ei=select(si[0]).select(".label");ei.attr("transform",`translate(${di+ci/2}, ${ui+14})`),ei.attr("id",nt+"Text");for(let wi=0;wi<Bt.classes.length;wi++)si[0].classList.add(Bt.classes[wi])}if(!bt.htmlLabels){const oi=Et.querySelectorAll('[id="'+nt+'"] .edgeLabel .label');for(const si of oi){const di=si.getBBox(),ui=Et.createElementNS("http://www.w3.org/2000/svg","rect");ui.setAttribute("rx",0),ui.setAttribute("ry",0),ui.setAttribute("width",di.width),ui.setAttribute("height",di.height),si.insertBefore(ui,si.firstChild)}}setupGraphViewbox$1(Lt,qt,bt.diagramPadding,bt.useMaxWidth),Object.keys(Ut).forEach(function(oi){const si=Ut[oi];if(si.link){const di=wt.select("#"+nt+' [id="'+st.db.lookUpDomId(oi)+'"]');if(di){const ui=Et.createElementNS("http://www.w3.org/2000/svg","a");ui.setAttributeNS("http://www.w3.org/2000/svg","class",si.classes.join(" ")),ui.setAttributeNS("http://www.w3.org/2000/svg","href",si.link),ui.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),vt==="sandbox"?ui.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):si.linkTarget&&ui.setAttributeNS("http://www.w3.org/2000/svg","target",si.linkTarget);const ci=di.insert(function(){return ui},":first-child"),hi=di.select(".label-container");hi&&ci.append(function(){return hi.node()});const ei=di.select(".label");ei&&ci.append(function(){return ei.node()})}}})},flowRenderer={setConf:setConf$7,addVertices:addVertices$1,addEdges:addEdges$1,getClasses:getClasses$3,draw:draw$a},conf$6={},setConf$6=function(it){const nt=Object.keys(it);for(const rt of nt)conf$6[rt]=it[rt]},addVertices=function(it,nt,rt,st,vt,bt){const _t=st.select(`[id="${rt}"]`);Object.keys(it).forEach(function(Et){const Tt=it[Et];let $t="default";Tt.classes.length>0&&($t=Tt.classes.join(" "));const Dt=getStylesFromArray(Tt.styles);let Lt=Tt.text!==void 0?Tt.text:Tt.id,Bt;if(evaluate(getConfig$1().flowchart.htmlLabels)){const It={label:Lt.replace(/fa[blrs]?:fa-[\w-]+/g,jt=>`<i class='${jt.replace(":"," ")}'></i>`)};Bt=addHtmlLabel$1(_t,It).node(),Bt.parentNode.removeChild(Bt)}else{const It=vt.createElementNS("http://www.w3.org/2000/svg","text");It.setAttribute("style",Dt.labelStyle.replace("color:","fill:"));const jt=Lt.split(common$1.lineBreakRegex);for(const Wt of jt){const qt=vt.createElementNS("http://www.w3.org/2000/svg","tspan");qt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),qt.setAttribute("dy","1em"),qt.setAttribute("x","1"),qt.textContent=Wt,It.appendChild(qt)}Bt=It}let Ht=0,Ut="";switch(Tt.type){case"round":Ht=5,Ut="rect";break;case"square":Ut="rect";break;case"diamond":Ut="question";break;case"hexagon":Ut="hexagon";break;case"odd":Ut="rect_left_inv_arrow";break;case"lean_right":Ut="lean_right";break;case"lean_left":Ut="lean_left";break;case"trapezoid":Ut="trapezoid";break;case"inv_trapezoid":Ut="inv_trapezoid";break;case"odd_right":Ut="rect_left_inv_arrow";break;case"circle":Ut="circle";break;case"ellipse":Ut="ellipse";break;case"stadium":Ut="stadium";break;case"subroutine":Ut="subroutine";break;case"cylinder":Ut="cylinder";break;case"group":Ut="rect";break;case"doublecircle":Ut="doublecircle";break;default:Ut="rect"}nt.setNode(Tt.id,{labelStyle:Dt.labelStyle,shape:Ut,labelText:Lt,rx:Ht,ry:Ht,class:$t,style:Dt.style,id:Tt.id,link:Tt.link,linkTarget:Tt.linkTarget,tooltip:bt.db.getTooltip(Tt.id)||"",domId:bt.db.lookUpDomId(Tt.id),haveCallback:Tt.haveCallback,width:Tt.type==="group"?500:void 0,dir:Tt.dir,type:Tt.type,props:Tt.props,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:Dt.labelStyle,shape:Ut,labelText:Lt,rx:Ht,ry:Ht,class:$t,style:Dt.style,id:Tt.id,domId:bt.db.lookUpDomId(Tt.id),width:Tt.type==="group"?500:void 0,type:Tt.type,dir:Tt.dir,props:Tt.props,padding:getConfig$1().flowchart.padding})})},addEdges=function(it,nt,rt){log$1.info("abc78 edges = ",it);let st=0,vt={},bt,_t;if(it.defaultStyle!==void 0){const wt=getStylesFromArray(it.defaultStyle);bt=wt.style,_t=wt.labelStyle}it.forEach(function(wt){st++;var Et="L-"+wt.start+"-"+wt.end;vt[Et]===void 0?(vt[Et]=0,log$1.info("abc78 new entry",Et,vt[Et])):(vt[Et]++,log$1.info("abc78 new entry",Et,vt[Et]));let Tt=Et+"-"+vt[Et];log$1.info("abc78 new link id to be used is",Et,Tt,vt[Et]);var $t="LS-"+wt.start,Dt="LE-"+wt.end;const Lt={style:"",labelStyle:""};switch(Lt.minlen=wt.length||1,wt.type==="arrow_open"?Lt.arrowhead="none":Lt.arrowhead="normal",Lt.arrowTypeStart="arrow_open",Lt.arrowTypeEnd="arrow_open",wt.type){case"double_arrow_cross":Lt.arrowTypeStart="arrow_cross";case"arrow_cross":Lt.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":Lt.arrowTypeStart="arrow_point";case"arrow_point":Lt.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":Lt.arrowTypeStart="arrow_circle";case"arrow_circle":Lt.arrowTypeEnd="arrow_circle";break}let Bt="",Ht="";switch(wt.stroke){case"normal":Bt="fill:none;",bt!==void 0&&(Bt=bt),_t!==void 0&&(Ht=_t),Lt.thickness="normal",Lt.pattern="solid";break;case"dotted":Lt.thickness="normal",Lt.pattern="dotted",Lt.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":Lt.thickness="thick",Lt.pattern="solid",Lt.style="stroke-width: 3.5px;fill:none;";break}if(wt.style!==void 0){const Ut=getStylesFromArray(wt.style);Bt=Ut.style,Ht=Ut.labelStyle}Lt.style=Lt.style+=Bt,Lt.labelStyle=Lt.labelStyle+=Ht,wt.interpolate!==void 0?Lt.curve=interpolateToCurve(wt.interpolate,curveLinear):it.defaultInterpolate!==void 0?Lt.curve=interpolateToCurve(it.defaultInterpolate,curveLinear):Lt.curve=interpolateToCurve(conf$6.curve,curveLinear),wt.text===void 0?wt.style!==void 0&&(Lt.arrowheadStyle="fill: #333"):(Lt.arrowheadStyle="fill: #333",Lt.labelpos="c"),Lt.labelType="text",Lt.label=wt.text.replace(common$1.lineBreakRegex,`
`),wt.style===void 0&&(Lt.style=Lt.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),Lt.labelStyle=Lt.labelStyle.replace("color:","fill:"),Lt.id=Tt,Lt.classes="flowchart-link "+$t+" "+Dt,nt.setEdge(wt.start,wt.end,Lt,st)})},getClasses$2=function(it,nt){log$1.info("Extracting classes"),nt.db.clear();try{return nt.parse(it),nt.db.getClasses()}catch{return}},draw$9=function(it,nt,rt,st){log$1.info("Drawing flowchart"),st.db.clear(),flowDb.setGen("gen-2"),st.parser.parse(it);let vt=st.db.getDirection();vt===void 0&&(vt="TD");const{securityLevel:bt,flowchart:_t}=getConfig$1(),wt=_t.nodeSpacing||50,Et=_t.rankSpacing||50;let Tt;bt==="sandbox"&&(Tt=select("#i"+nt));const $t=select(bt==="sandbox"?Tt.nodes()[0].contentDocument.body:"body"),Dt=bt==="sandbox"?Tt.nodes()[0].contentDocument:document,Lt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:vt,nodesep:wt,ranksep:Et,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let Bt;const Ht=st.db.getSubGraphs();log$1.info("Subgraphs - ",Ht);for(let ti=Ht.length-1;ti>=0;ti--)Bt=Ht[ti],log$1.info("Subgraph - ",Bt),st.db.addVertex(Bt.id,Bt.title,"group",void 0,Bt.classes,Bt.dir);const Ut=st.db.getVertices(),It=st.db.getEdges();log$1.info(It);let jt=0;for(jt=Ht.length-1;jt>=0;jt--){Bt=Ht[jt],selectAll("cluster").append("text");for(let ti=0;ti<Bt.nodes.length;ti++)log$1.info("Setting up subgraphs",Bt.nodes[ti],Bt.id),Lt.setParent(Bt.nodes[ti],Bt.id)}addVertices(Ut,Lt,nt,$t,Dt,st),addEdges(It,Lt);const Wt=$t.select(`[id="${nt}"]`),qt=$t.select("#"+nt+" g");if(render$1(qt,Lt,["point","circle","cross"],"flowchart",nt),utils.insertTitle(Wt,"flowchartTitleText",_t.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox$1(Lt,Wt,_t.diagramPadding,_t.useMaxWidth),st.db.indexNodes("subGraph"+jt),!_t.htmlLabels){const ti=Dt.querySelectorAll('[id="'+nt+'"] .edgeLabel .label');for(const oi of ti){const si=oi.getBBox(),di=Dt.createElementNS("http://www.w3.org/2000/svg","rect");di.setAttribute("rx",0),di.setAttribute("ry",0),di.setAttribute("width",si.width),di.setAttribute("height",si.height),oi.insertBefore(di,oi.firstChild)}}Object.keys(Ut).forEach(function(ti){const oi=Ut[ti];if(oi.link){const si=select("#"+nt+' [id="'+ti+'"]');if(si){const di=Dt.createElementNS("http://www.w3.org/2000/svg","a");di.setAttributeNS("http://www.w3.org/2000/svg","class",oi.classes.join(" ")),di.setAttributeNS("http://www.w3.org/2000/svg","href",oi.link),di.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),bt==="sandbox"?di.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):oi.linkTarget&&di.setAttributeNS("http://www.w3.org/2000/svg","target",oi.linkTarget);const ui=si.insert(function(){return di},":first-child"),ci=si.select(".label-container");ci&&ui.append(function(){return ci.node()});const hi=si.select(".label");hi&&ui.append(function(){return hi.node()})}}})},flowRendererV2={setConf:setConf$6,addVertices,addEdges,getClasses:getClasses$2,draw:draw$9};var parser$6=function(){var it=function(di,ui,ci,hi){for(ci=ci||{},hi=di.length;hi--;ci[di[hi]]=ui);return ci},nt=[1,3],rt=[1,5],st=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],vt=[1,15],bt=[1,16],_t=[1,17],wt=[1,18],Et=[1,19],Tt=[1,20],$t=[1,21],Dt=[1,22],Lt=[1,23],Bt=[1,24],Ht=[1,25],Ut=[1,26],It=[1,27],jt=[1,29],Wt=[1,31],qt=[1,34],Yt=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],ti={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(ui,ci,hi,ei,wi,Kt,Ni){var ni=Kt.length-1;switch(wi){case 2:return Kt[ni-1];case 3:this.$=[];break;case 4:Kt[ni-1].push(Kt[ni]),this.$=Kt[ni-1];break;case 5:case 6:this.$=Kt[ni];break;case 7:case 8:this.$=[];break;case 9:ei.setDateFormat(Kt[ni].substr(11)),this.$=Kt[ni].substr(11);break;case 10:ei.enableInclusiveEndDates(),this.$=Kt[ni].substr(18);break;case 11:ei.TopAxis(),this.$=Kt[ni].substr(8);break;case 12:ei.setAxisFormat(Kt[ni].substr(11)),this.$=Kt[ni].substr(11);break;case 13:ei.setTickInterval(Kt[ni].substr(13)),this.$=Kt[ni].substr(13);break;case 14:ei.setExcludes(Kt[ni].substr(9)),this.$=Kt[ni].substr(9);break;case 15:ei.setIncludes(Kt[ni].substr(9)),this.$=Kt[ni].substr(9);break;case 16:ei.setTodayMarker(Kt[ni].substr(12)),this.$=Kt[ni].substr(12);break;case 17:ei.setDiagramTitle(Kt[ni].substr(6)),this.$=Kt[ni].substr(6);break;case 18:this.$=Kt[ni].trim(),ei.setAccTitle(this.$);break;case 19:case 20:this.$=Kt[ni].trim(),ei.setAccDescription(this.$);break;case 21:ei.addSection(Kt[ni].substr(8)),this.$=Kt[ni].substr(8);break;case 23:ei.addTask(Kt[ni-1],Kt[ni]),this.$="task";break;case 27:this.$=Kt[ni-1],ei.setClickEvent(Kt[ni-1],Kt[ni],null);break;case 28:this.$=Kt[ni-2],ei.setClickEvent(Kt[ni-2],Kt[ni-1],Kt[ni]);break;case 29:this.$=Kt[ni-2],ei.setClickEvent(Kt[ni-2],Kt[ni-1],null),ei.setLink(Kt[ni-2],Kt[ni]);break;case 30:this.$=Kt[ni-3],ei.setClickEvent(Kt[ni-3],Kt[ni-2],Kt[ni-1]),ei.setLink(Kt[ni-3],Kt[ni]);break;case 31:this.$=Kt[ni-2],ei.setClickEvent(Kt[ni-2],Kt[ni],null),ei.setLink(Kt[ni-2],Kt[ni-1]);break;case 32:this.$=Kt[ni-3],ei.setClickEvent(Kt[ni-3],Kt[ni-1],Kt[ni]),ei.setLink(Kt[ni-3],Kt[ni-2]);break;case 33:this.$=Kt[ni-1],ei.setLink(Kt[ni-1],Kt[ni]);break;case 34:case 40:this.$=Kt[ni-1]+" "+Kt[ni];break;case 35:case 36:case 38:this.$=Kt[ni-2]+" "+Kt[ni-1]+" "+Kt[ni];break;case 37:case 39:this.$=Kt[ni-3]+" "+Kt[ni-2]+" "+Kt[ni-1]+" "+Kt[ni];break;case 41:ei.parseDirective("%%{","open_directive");break;case 42:ei.parseDirective(Kt[ni],"type_directive");break;case 43:Kt[ni]=Kt[ni].trim().replace(/'/g,'"'),ei.parseDirective(Kt[ni],"arg_directive");break;case 44:ei.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:nt,30:4,40:rt},{1:[3]},{3:6,4:2,5:nt,30:4,40:rt},it(st,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:vt,13:bt,14:_t,15:wt,16:Et,17:Tt,18:$t,19:Dt,20:Lt,21:Bt,23:Ht,25:Ut,26:It,27:28,28:jt,30:4,35:Wt,40:rt},{32:32,33:[1,33],43:qt},it([33,43],[2,42]),it(st,[2,8],{1:[2,2]}),it(st,[2,4]),{4:30,10:35,12:vt,13:bt,14:_t,15:wt,16:Et,17:Tt,18:$t,19:Dt,20:Lt,21:Bt,23:Ht,25:Ut,26:It,27:28,28:jt,30:4,35:Wt,40:rt},it(st,[2,6]),it(st,[2,7]),it(st,[2,9]),it(st,[2,10]),it(st,[2,11]),it(st,[2,12]),it(st,[2,13]),it(st,[2,14]),it(st,[2,15]),it(st,[2,16]),it(st,[2,17]),{22:[1,36]},{24:[1,37]},it(st,[2,20]),it(st,[2,21]),it(st,[2,22]),{29:[1,38]},it(st,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},it(st,[2,5]),it(st,[2,18]),it(st,[2,19]),it(st,[2,23]),it(st,[2,27],{37:[1,44],38:[1,45]}),it(st,[2,33],{36:[1,46]}),it(Yt,[2,25]),{32:47,43:qt},{43:[2,43]},it(st,[2,28],{38:[1,48]}),it(st,[2,29]),it(st,[2,31],{37:[1,49]}),{11:[1,50]},it(st,[2,30]),it(st,[2,32]),it(Yt,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(ui,ci){if(ci.recoverable)this.trace(ui);else{var hi=new Error(ui);throw hi.hash=ci,hi}},parse:function(ui){var ci=this,hi=[0],ei=[],wi=[null],Kt=[],Ni=this.table,ni="",Fi=0,Xi=0,nn=2,Ai=1,ji=Kt.slice.call(arguments,1),Ri=Object.create(this.lexer),Vi={yy:{}};for(var Qi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Qi)&&(Vi.yy[Qi]=this.yy[Qi]);Ri.setInput(ui,Vi.yy),Vi.yy.lexer=Ri,Vi.yy.parser=this,typeof Ri.yylloc>"u"&&(Ri.yylloc={});var rn=Ri.yylloc;Kt.push(rn);var Pi=Ri.options&&Ri.options.ranges;typeof Vi.yy.parseError=="function"?this.parseError=Vi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function bn(){var Mi;return Mi=ei.pop()||Ri.lex()||Ai,typeof Mi!="number"&&(Mi instanceof Array&&(ei=Mi,Mi=ei.pop()),Mi=ci.symbols_[Mi]||Mi),Mi}for(var Oi,Ii,Gi,$i,ii={},Nt,Qt,Jt,Si;;){if(Ii=hi[hi.length-1],this.defaultActions[Ii]?Gi=this.defaultActions[Ii]:((Oi===null||typeof Oi>"u")&&(Oi=bn()),Gi=Ni[Ii]&&Ni[Ii][Oi]),typeof Gi>"u"||!Gi.length||!Gi[0]){var vi="";Si=[];for(Nt in Ni[Ii])this.terminals_[Nt]&&Nt>nn&&Si.push("'"+this.terminals_[Nt]+"'");Ri.showPosition?vi="Parse error on line "+(Fi+1)+`:
`+Ri.showPosition()+`
Expecting `+Si.join(", ")+", got '"+(this.terminals_[Oi]||Oi)+"'":vi="Parse error on line "+(Fi+1)+": Unexpected "+(Oi==Ai?"end of input":"'"+(this.terminals_[Oi]||Oi)+"'"),this.parseError(vi,{text:Ri.match,token:this.terminals_[Oi]||Oi,line:Ri.yylineno,loc:rn,expected:Si})}if(Gi[0]instanceof Array&&Gi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ii+", token: "+Oi);switch(Gi[0]){case 1:hi.push(Oi),wi.push(Ri.yytext),Kt.push(Ri.yylloc),hi.push(Gi[1]),Oi=null,Xi=Ri.yyleng,ni=Ri.yytext,Fi=Ri.yylineno,rn=Ri.yylloc;break;case 2:if(Qt=this.productions_[Gi[1]][1],ii.$=wi[wi.length-Qt],ii._$={first_line:Kt[Kt.length-(Qt||1)].first_line,last_line:Kt[Kt.length-1].last_line,first_column:Kt[Kt.length-(Qt||1)].first_column,last_column:Kt[Kt.length-1].last_column},Pi&&(ii._$.range=[Kt[Kt.length-(Qt||1)].range[0],Kt[Kt.length-1].range[1]]),$i=this.performAction.apply(ii,[ni,Xi,Fi,Vi.yy,Gi[1],wi,Kt].concat(ji)),typeof $i<"u")return $i;Qt&&(hi=hi.slice(0,-1*Qt*2),wi=wi.slice(0,-1*Qt),Kt=Kt.slice(0,-1*Qt)),hi.push(this.productions_[Gi[1]][0]),wi.push(ii.$),Kt.push(ii._$),Jt=Ni[hi[hi.length-2]][hi[hi.length-1]],hi.push(Jt);break;case 3:return!0}}return!0}},oi=function(){var di={EOF:1,parseError:function(ci,hi){if(this.yy.parser)this.yy.parser.parseError(ci,hi);else throw new Error(ci)},setInput:function(ui,ci){return this.yy=ci||this.yy||{},this._input=ui,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ui=this._input[0];this.yytext+=ui,this.yyleng++,this.offset++,this.match+=ui,this.matched+=ui;var ci=ui.match(/(?:\r\n?|\n).*/g);return ci?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ui},unput:function(ui){var ci=ui.length,hi=ui.split(/(?:\r\n?|\n)/g);this._input=ui+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ci),this.offset-=ci;var ei=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),hi.length-1&&(this.yylineno-=hi.length-1);var wi=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:hi?(hi.length===ei.length?this.yylloc.first_column:0)+ei[ei.length-hi.length].length-hi[0].length:this.yylloc.first_column-ci},this.options.ranges&&(this.yylloc.range=[wi[0],wi[0]+this.yyleng-ci]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ui){this.unput(this.match.slice(ui))},pastInput:function(){var ui=this.matched.substr(0,this.matched.length-this.match.length);return(ui.length>20?"...":"")+ui.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ui=this.match;return ui.length<20&&(ui+=this._input.substr(0,20-ui.length)),(ui.substr(0,20)+(ui.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ui=this.pastInput(),ci=new Array(ui.length+1).join("-");return ui+this.upcomingInput()+`
`+ci+"^"},test_match:function(ui,ci){var hi,ei,wi;if(this.options.backtrack_lexer&&(wi={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(wi.yylloc.range=this.yylloc.range.slice(0))),ei=ui[0].match(/(?:\r\n?|\n).*/g),ei&&(this.yylineno+=ei.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ei?ei[ei.length-1].length-ei[ei.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ui[0].length},this.yytext+=ui[0],this.match+=ui[0],this.matches=ui,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ui[0].length),this.matched+=ui[0],hi=this.performAction.call(this,this.yy,this,ci,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),hi)return hi;if(this._backtrack){for(var Kt in wi)this[Kt]=wi[Kt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ui,ci,hi,ei;this._more||(this.yytext="",this.match="");for(var wi=this._currentRules(),Kt=0;Kt<wi.length;Kt++)if(hi=this._input.match(this.rules[wi[Kt]]),hi&&(!ci||hi[0].length>ci[0].length)){if(ci=hi,ei=Kt,this.options.backtrack_lexer){if(ui=this.test_match(hi,wi[Kt]),ui!==!1)return ui;if(this._backtrack){ci=!1;continue}else return!1}else if(!this.options.flex)break}return ci?(ui=this.test_match(ci,wi[ei]),ui!==!1?ui:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ci=this.next();return ci||this.lex()},begin:function(ci){this.conditionStack.push(ci)},popState:function(){var ci=this.conditionStack.length-1;return ci>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ci){return ci=this.conditionStack.length-1-Math.abs(ci||0),ci>=0?this.conditionStack[ci]:"INITIAL"},pushState:function(ci){this.begin(ci)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ci,hi,ei,wi){switch(ei){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return di}();ti.lexer=oi;function si(){this.yy={}}return si.prototype=ti,ti.Parser=si,new si}();parser$6.parser=parser$6;const ganttParser=parser$6,ganttDetector=it=>it.match(/^\s*gantt/)!==null;let dateFormat="",axisFormat="",tickInterval,todayMarker="",includes=[],excludes=[],links={},sections$2=[],tasks$1=[],currentSection$1="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0;const parseDirective$6=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},clear$5=function(){sections$2=[],tasks$1=[],currentSection$1="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks$1=[],dateFormat="",axisFormat="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},clear$g()},setAxisFormat=function(it){axisFormat=it},getAxisFormat=function(){return axisFormat},setTickInterval=function(it){tickInterval=it},getTickInterval=function(){return tickInterval},setTodayMarker=function(it){todayMarker=it},getTodayMarker=function(){return todayMarker},setDateFormat=function(it){dateFormat=it},enableInclusiveEndDates=function(){inclusiveEndDates=!0},endDatesAreInclusive=function(){return inclusiveEndDates},enableTopAxis=function(){topAxis=!0},topAxisEnabled=function(){return topAxis},getDateFormat=function(){return dateFormat},setIncludes=function(it){includes=it.toLowerCase().split(/[\s,]+/)},getIncludes=function(){return includes},setExcludes=function(it){excludes=it.toLowerCase().split(/[\s,]+/)},getExcludes=function(){return excludes},getLinks=function(){return links},addSection$2=function(it){currentSection$1=it,sections$2.push(it)},getSections$2=function(){return sections$2},getTasks$1=function(){let it=compileTasks$1();const nt=10;let rt=0;for(;!it&&rt<nt;)it=compileTasks$1(),rt++;return tasks$1=rawTasks$1,tasks$1},isInvalidDate=function(it,nt,rt,st){return st.includes(it.format(nt.trim()))?!1:it.isoWeekday()>=6&&rt.includes("weekends")||rt.includes(it.format("dddd").toLowerCase())?!0:rt.includes(it.format(nt.trim()))},checkTaskDates=function(it,nt,rt,st){if(!rt.length||it.manualEndTime)return;let vt=moment(it.startTime,nt,!0);vt.add(1,"d");let bt=moment(it.endTime,nt,!0),_t=fixTaskDates(vt,bt,nt,rt,st);it.endTime=bt.toDate(),it.renderEndTime=_t},fixTaskDates=function(it,nt,rt,st,vt){let bt=!1,_t=null;for(;it<=nt;)bt||(_t=nt.toDate()),bt=isInvalidDate(it,rt,st,vt),bt&&nt.add(1,"d"),it.add(1,"d");return _t},getStartDate=function(it,nt,rt){rt=rt.trim();const vt=/^after\s+([\d\w- ]+)/.exec(rt.trim());if(vt!==null){let _t=null;if(vt[1].split(" ").forEach(function(wt){let Et=findTaskById(wt);Et!==void 0&&(_t?Et.endTime>_t.endTime&&(_t=Et):_t=Et)}),_t)return _t.endTime;{const wt=new Date;return wt.setHours(0,0,0,0),wt}}let bt=moment(rt,nt.trim(),!0);if(bt.isValid())return bt.toDate();{log$1.debug("Invalid date:"+rt),log$1.debug("With date format:"+nt.trim());const _t=new Date(rt);if(_t===void 0||isNaN(_t.getTime()))throw new Error("Invalid date:"+rt);return _t}},parseDuration=function(it){const nt=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(it.trim());return nt!==null?moment.duration(Number.parseFloat(nt[1]),nt[2]):moment.duration.invalid()},getEndDate=function(it,nt,rt,st=!1){rt=rt.trim();let vt=moment(rt,nt.trim(),!0);if(vt.isValid())return st&&vt.add(1,"d"),vt.toDate();const bt=moment(it),_t=parseDuration(rt);return _t.isValid()&&bt.add(_t),bt.toDate()};let taskCnt=0;const parseId=function(it){return it===void 0?(taskCnt=taskCnt+1,"task"+taskCnt):it},compileData=function(it,nt){let rt;nt.substr(0,1)===":"?rt=nt.substr(1,nt.length):rt=nt;const st=rt.split(","),vt={};getTaskTags(st,vt,tags);for(let _t=0;_t<st.length;_t++)st[_t]=st[_t].trim();let bt="";switch(st.length){case 1:vt.id=parseId(),vt.startTime=it.endTime,bt=st[0];break;case 2:vt.id=parseId(),vt.startTime=getStartDate(void 0,dateFormat,st[0]),bt=st[1];break;case 3:vt.id=parseId(st[0]),vt.startTime=getStartDate(void 0,dateFormat,st[1]),bt=st[2];break}return bt&&(vt.endTime=getEndDate(vt.startTime,dateFormat,bt,inclusiveEndDates),vt.manualEndTime=moment(bt,"YYYY-MM-DD",!0).isValid(),checkTaskDates(vt,dateFormat,excludes,includes)),vt},parseData=function(it,nt){let rt;nt.substr(0,1)===":"?rt=nt.substr(1,nt.length):rt=nt;const st=rt.split(","),vt={};getTaskTags(st,vt,tags);for(let bt=0;bt<st.length;bt++)st[bt]=st[bt].trim();switch(st.length){case 1:vt.id=parseId(),vt.startTime={type:"prevTaskEnd",id:it},vt.endTime={data:st[0]};break;case 2:vt.id=parseId(),vt.startTime={type:"getStartDate",startData:st[0]},vt.endTime={data:st[1]};break;case 3:vt.id=parseId(st[0]),vt.startTime={type:"getStartDate",startData:st[1]},vt.endTime={data:st[2]};break}return vt};let lastTask,lastTaskID,rawTasks$1=[];const taskDb={},addTask$1=function(it,nt){const rt={section:currentSection$1,type:currentSection$1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:nt},task:it,classes:[]},st=parseData(lastTaskID,nt);rt.raw.startTime=st.startTime,rt.raw.endTime=st.endTime,rt.id=st.id,rt.prevTaskId=lastTaskID,rt.active=st.active,rt.done=st.done,rt.crit=st.crit,rt.milestone=st.milestone,rt.order=lastOrder,lastOrder++;const vt=rawTasks$1.push(rt);lastTaskID=rt.id,taskDb[rt.id]=vt-1},findTaskById=function(it){const nt=taskDb[it];return rawTasks$1[nt]},addTaskOrg$1=function(it,nt){const rt={section:currentSection$1,type:currentSection$1,description:it,task:it,classes:[]},st=compileData(lastTask,nt);rt.startTime=st.startTime,rt.endTime=st.endTime,rt.id=st.id,rt.active=st.active,rt.done=st.done,rt.crit=st.crit,rt.milestone=st.milestone,lastTask=rt,tasks$1.push(rt)},compileTasks$1=function(){const it=function(rt){const st=rawTasks$1[rt];let vt="";switch(rawTasks$1[rt].raw.startTime.type){case"prevTaskEnd":{const bt=findTaskById(st.prevTaskId);st.startTime=bt.endTime;break}case"getStartDate":vt=getStartDate(void 0,dateFormat,rawTasks$1[rt].raw.startTime.startData),vt&&(rawTasks$1[rt].startTime=vt);break}return rawTasks$1[rt].startTime&&(rawTasks$1[rt].endTime=getEndDate(rawTasks$1[rt].startTime,dateFormat,rawTasks$1[rt].raw.endTime.data,inclusiveEndDates),rawTasks$1[rt].endTime&&(rawTasks$1[rt].processed=!0,rawTasks$1[rt].manualEndTime=moment(rawTasks$1[rt].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks$1[rt],dateFormat,excludes,includes))),rawTasks$1[rt].processed};let nt=!0;for(const[rt,st]of rawTasks$1.entries())it(rt),nt=nt&&st.processed;return nt},setLink=function(it,nt){let rt=nt;getConfig$1().securityLevel!=="loose"&&(rt=sanitizeUrl_1(nt)),it.split(",").forEach(function(st){findTaskById(st)!==void 0&&(pushFun(st,()=>{window.open(rt,"_self")}),links[st]=rt)}),setClass(it,"clickable")},setClass=function(it,nt){it.split(",").forEach(function(rt){let st=findTaskById(rt);st!==void 0&&st.classes.push(nt)})},setClickFun=function(it,nt,rt){if(getConfig$1().securityLevel!=="loose"||nt===void 0)return;let st=[];if(typeof rt=="string"){st=rt.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let bt=0;bt<st.length;bt++){let _t=st[bt].trim();_t.charAt(0)==='"'&&_t.charAt(_t.length-1)==='"'&&(_t=_t.substr(1,_t.length-2)),st[bt]=_t}}st.length===0&&st.push(it),findTaskById(it)!==void 0&&pushFun(it,()=>{utils.runFunc(nt,...st)})},pushFun=function(it,nt){funs.push(function(){const rt=document.querySelector(`[id="${it}"]`);rt!==null&&rt.addEventListener("click",function(){nt()})},function(){const rt=document.querySelector(`[id="${it}-text"]`);rt!==null&&rt.addEventListener("click",function(){nt()})})},setClickEvent=function(it,nt,rt){it.split(",").forEach(function(st){setClickFun(st,nt,rt)}),setClass(it,"clickable")},bindFunctions=function(it){funs.forEach(function(nt){nt(it)})},ganttDb={parseDirective:parseDirective$6,getConfig:()=>getConfig$1().gantt,clear:clear$5,setDateFormat,getDateFormat,enableInclusiveEndDates,endDatesAreInclusive,enableTopAxis,topAxisEnabled,setAxisFormat,getAxisFormat,setTickInterval,getTickInterval,setTodayMarker,getTodayMarker,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setAccDescription,getAccDescription,addSection:addSection$2,getSections:getSections$2,getTasks:getTasks$1,addTask:addTask$1,findTaskById,addTaskOrg:addTaskOrg$1,setIncludes,getIncludes,setExcludes,getExcludes,setClickEvent,setLink,getLinks,bindFunctions,parseDuration,isInvalidDate};function getTaskTags(it,nt,rt){let st=!0;for(;st;)st=!1,rt.forEach(function(vt){const bt="^\\s*"+vt+"\\s*$",_t=new RegExp(bt);it[0].match(_t)&&(nt[vt]=!0,it.shift(1),st=!0)})}const setConf$5=function(){log$1.debug("Something is calling, setConf, remove the call")};let w;const draw$8=function(it,nt,rt,st){const vt=getConfig$1().gantt,bt=getConfig$1().securityLevel;let _t;bt==="sandbox"&&(_t=select("#i"+nt));const wt=select(bt==="sandbox"?_t.nodes()[0].contentDocument.body:"body"),Et=bt==="sandbox"?_t.nodes()[0].contentDocument:document,Tt=Et.getElementById(nt);w=Tt.parentElement.offsetWidth,w===void 0&&(w=1200),vt.useWidth!==void 0&&(w=vt.useWidth);const $t=st.db.getTasks(),Dt=$t.length*(vt.barHeight+vt.barGap)+2*vt.topPadding;Tt.setAttribute("viewBox","0 0 "+w+" "+Dt);const Lt=wt.select(`[id="${nt}"]`),Bt=time$1().domain([min$2($t,function(ci){return ci.startTime}),max$2($t,function(ci){return ci.endTime})]).rangeRound([0,w-vt.leftPadding-vt.rightPadding]);let Ht=[];for(const ci of $t)Ht.push(ci.type);const Ut=Ht;Ht=si(Ht);function It(ci,hi){const ei=ci.startTime,wi=hi.startTime;let Kt=0;return ei>wi?Kt=1:ei<wi&&(Kt=-1),Kt}$t.sort(It),jt($t,w,Dt),configureSvgSize(Lt,Dt,w,vt.useMaxWidth),Lt.append("text").text(st.db.getDiagramTitle()).attr("x",w/2).attr("y",vt.titleTopMargin).attr("class","titleText");function jt(ci,hi,ei){const wi=vt.barHeight,Kt=wi+vt.barGap,Ni=vt.topPadding,ni=vt.leftPadding,Fi=linear().domain([0,Ht.length]).range(["#00B9FA","#F95002"]).interpolate(interpolateHcl);qt(Kt,Ni,ni,hi,ei,ci,st.db.getExcludes(),st.db.getIncludes()),Yt(ni,Ni,hi,ei),Wt(ci,Kt,Ni,ni,wi,Fi,hi),ti(Kt,Ni),oi(ni,Ni,hi,ei)}function Wt(ci,hi,ei,wi,Kt,Ni,ni){Lt.append("g").selectAll("rect").data(ci).enter().append("rect").attr("x",0).attr("y",function(Ai,ji){return ji=Ai.order,ji*hi+ei-2}).attr("width",function(){return ni-vt.rightPadding/2}).attr("height",hi).attr("class",function(Ai){for(const[ji,Ri]of Ht.entries())if(Ai.type===Ri)return"section section"+ji%vt.numberSectionStyles;return"section section0"});const Fi=Lt.append("g").selectAll("rect").data(ci).enter(),Xi=st.db.getLinks();if(Fi.append("rect").attr("id",function(Ai){return Ai.id}).attr("rx",3).attr("ry",3).attr("x",function(Ai){return Ai.milestone?Bt(Ai.startTime)+wi+.5*(Bt(Ai.endTime)-Bt(Ai.startTime))-.5*Kt:Bt(Ai.startTime)+wi}).attr("y",function(Ai,ji){return ji=Ai.order,ji*hi+ei}).attr("width",function(Ai){return Ai.milestone?Kt:Bt(Ai.renderEndTime||Ai.endTime)-Bt(Ai.startTime)}).attr("height",Kt).attr("transform-origin",function(Ai,ji){return ji=Ai.order,(Bt(Ai.startTime)+wi+.5*(Bt(Ai.endTime)-Bt(Ai.startTime))).toString()+"px "+(ji*hi+ei+.5*Kt).toString()+"px"}).attr("class",function(Ai){const ji="task";let Ri="";Ai.classes.length>0&&(Ri=Ai.classes.join(" "));let Vi=0;for(const[rn,Pi]of Ht.entries())Ai.type===Pi&&(Vi=rn%vt.numberSectionStyles);let Qi="";return Ai.active?Ai.crit?Qi+=" activeCrit":Qi=" active":Ai.done?Ai.crit?Qi=" doneCrit":Qi=" done":Ai.crit&&(Qi+=" crit"),Qi.length===0&&(Qi=" task"),Ai.milestone&&(Qi=" milestone "+Qi),Qi+=Vi,Qi+=" "+Ri,ji+Qi}),Fi.append("text").attr("id",function(Ai){return Ai.id+"-text"}).text(function(Ai){return Ai.task}).attr("font-size",vt.fontSize).attr("x",function(Ai){let ji=Bt(Ai.startTime),Ri=Bt(Ai.renderEndTime||Ai.endTime);Ai.milestone&&(ji+=.5*(Bt(Ai.endTime)-Bt(Ai.startTime))-.5*Kt),Ai.milestone&&(Ri=ji+Kt);const Vi=this.getBBox().width;return Vi>Ri-ji?Ri+Vi+1.5*vt.leftPadding>ni?ji+wi-5:Ri+wi+5:(Ri-ji)/2+ji+wi}).attr("y",function(Ai,ji){return ji=Ai.order,ji*hi+vt.barHeight/2+(vt.fontSize/2-2)+ei}).attr("text-height",Kt).attr("class",function(Ai){const ji=Bt(Ai.startTime);let Ri=Bt(Ai.endTime);Ai.milestone&&(Ri=ji+Kt);const Vi=this.getBBox().width;let Qi="";Ai.classes.length>0&&(Qi=Ai.classes.join(" "));let rn=0;for(const[bn,Oi]of Ht.entries())Ai.type===Oi&&(rn=bn%vt.numberSectionStyles);let Pi="";return Ai.active&&(Ai.crit?Pi="activeCritText"+rn:Pi="activeText"+rn),Ai.done?Ai.crit?Pi=Pi+" doneCritText"+rn:Pi=Pi+" doneText"+rn:Ai.crit&&(Pi=Pi+" critText"+rn),Ai.milestone&&(Pi+=" milestoneText"),Vi>Ri-ji?Ri+Vi+1.5*vt.leftPadding>ni?Qi+" taskTextOutsideLeft taskTextOutside"+rn+" "+Pi:Qi+" taskTextOutsideRight taskTextOutside"+rn+" "+Pi+" width-"+Vi:Qi+" taskText taskText"+rn+" "+Pi+" width-"+Vi}),getConfig$1().securityLevel==="sandbox"){let Ai;Ai=select("#i"+nt);const ji=Ai.nodes()[0].contentDocument;Fi.filter(function(Ri){return Xi[Ri.id]!==void 0}).each(function(Ri){var Vi=ji.querySelector("#"+Ri.id),Qi=ji.querySelector("#"+Ri.id+"-text");const rn=Vi.parentNode;var Pi=ji.createElement("a");Pi.setAttribute("xlink:href",Xi[Ri.id]),Pi.setAttribute("target","_top"),rn.appendChild(Pi),Pi.appendChild(Vi),Pi.appendChild(Qi)})}}function qt(ci,hi,ei,wi,Kt,Ni,ni,Fi){const Xi=Ni.reduce((rn,{startTime:Pi})=>rn?Math.min(rn,Pi):Pi,0),nn=Ni.reduce((rn,{endTime:Pi})=>rn?Math.max(rn,Pi):Pi,0),Ai=st.db.getDateFormat();if(!Xi||!nn)return;const ji=[];let Ri=null,Vi=moment(Xi);for(;Vi.valueOf()<=nn;)st.db.isInvalidDate(Vi,Ai,ni,Fi)?Ri?Ri.end=Vi.clone():Ri={start:Vi.clone(),end:Vi.clone()}:Ri&&(ji.push(Ri),Ri=null),Vi.add(1,"d");Lt.append("g").selectAll("rect").data(ji).enter().append("rect").attr("id",function(rn){return"exclude-"+rn.start.format("YYYY-MM-DD")}).attr("x",function(rn){return Bt(rn.start)+ei}).attr("y",vt.gridLineStartPadding).attr("width",function(rn){const Pi=rn.end.clone().add(1,"day");return Bt(Pi)-Bt(rn.start)}).attr("height",Kt-hi-vt.gridLineStartPadding).attr("transform-origin",function(rn,Pi){return(Bt(rn.start)+ei+.5*(Bt(rn.end)-Bt(rn.start))).toString()+"px "+(Pi*ci+.5*Kt).toString()+"px"}).attr("class","exclude-range")}function Yt(ci,hi,ei,wi){let Kt=axisBottom(Bt).tickSize(-wi+hi+vt.gridLineStartPadding).tickFormat(timeFormat(st.db.getAxisFormat()||vt.axisFormat||"%Y-%m-%d"));const ni=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(st.db.getTickInterval()||vt.tickInterval);if(ni!==null){const Fi=ni[1];switch(ni[2]){case"minute":Kt.ticks(timeMinute.every(Fi));break;case"hour":Kt.ticks(timeHour.every(Fi));break;case"day":Kt.ticks(timeDay.every(Fi));break;case"week":Kt.ticks(timeSunday.every(Fi));break;case"month":Kt.ticks(timeMonth.every(Fi));break}}if(Lt.append("g").attr("class","grid").attr("transform","translate("+ci+", "+(wi-50)+")").call(Kt).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),st.db.topAxisEnabled()||vt.topAxis){let Fi=axisTop(Bt).tickSize(-wi+hi+vt.gridLineStartPadding).tickFormat(timeFormat(st.db.getAxisFormat()||vt.axisFormat||"%Y-%m-%d"));if(ni!==null){const Xi=ni[1];switch(ni[2]){case"minute":Fi.ticks(timeMinute.every(Xi));break;case"hour":Fi.ticks(timeHour.every(Xi));break;case"day":Fi.ticks(timeDay.every(Xi));break;case"week":Fi.ticks(timeSunday.every(Xi));break;case"month":Fi.ticks(timeMonth.every(Xi));break}}Lt.append("g").attr("class","grid").attr("transform","translate("+ci+", "+hi+")").call(Fi).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function ti(ci,hi){const ei=[];let wi=0;for(const[Kt,Ni]of Ht.entries())ei[Kt]=[Ni,ui(Ni,Ut)];Lt.append("g").selectAll("text").data(ei).enter().append(function(Kt){const Ni=Kt[0].split(common$1.lineBreakRegex),ni=-(Ni.length-1)/2,Fi=Et.createElementNS("http://www.w3.org/2000/svg","text");Fi.setAttribute("dy",ni+"em");for(const[Xi,nn]of Ni.entries()){const Ai=Et.createElementNS("http://www.w3.org/2000/svg","tspan");Ai.setAttribute("alignment-baseline","central"),Ai.setAttribute("x","10"),Xi>0&&Ai.setAttribute("dy","1em"),Ai.textContent=nn,Fi.appendChild(Ai)}return Fi}).attr("x",10).attr("y",function(Kt,Ni){if(Ni>0)for(let ni=0;ni<Ni;ni++)return wi+=ei[Ni-1][1],Kt[1]*ci/2+wi*ci+hi;else return Kt[1]*ci/2+hi}).attr("font-size",vt.sectionFontSize).attr("font-size",vt.sectionFontSize).attr("class",function(Kt){for(const[Ni,ni]of Ht.entries())if(Kt[0]===ni)return"sectionTitle sectionTitle"+Ni%vt.numberSectionStyles;return"sectionTitle"})}function oi(ci,hi,ei,wi){const Kt=st.db.getTodayMarker();if(Kt==="off")return;const Ni=Lt.append("g").attr("class","today"),ni=new Date,Fi=Ni.append("line");Fi.attr("x1",Bt(ni)+ci).attr("x2",Bt(ni)+ci).attr("y1",vt.titleTopMargin).attr("y2",wi-vt.titleTopMargin).attr("class","today"),Kt!==""&&Fi.attr("style",Kt.replace(/,/g,";"))}function si(ci){const hi={},ei=[];for(let wi=0,Kt=ci.length;wi<Kt;++wi)Object.prototype.hasOwnProperty.call(hi,ci[wi])||(hi[ci[wi]]=!0,ei.push(ci[wi]));return ei}function di(ci){let hi=ci.length;const ei={};for(;hi;)ei[ci[--hi]]=(ei[ci[hi]]||0)+1;return ei}function ui(ci,hi){return di(hi)[ci]||0}},ganttRenderer={setConf:setConf$5,draw:draw$8};var parser$5=function(){var it=function(bt,_t,wt,Et){for(wt=wt||{},Et=bt.length;Et--;wt[bt[Et]]=_t);return wt},nt=[6,9,10],rt={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(_t,wt,Et,Tt,$t,Dt,Lt){switch(Dt.length-1,$t){case 1:return Tt;case 4:break;case 6:Tt.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},it(nt,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},it(nt,[2,3]),it(nt,[2,4]),it(nt,[2,5]),it(nt,[2,6])],defaultActions:{4:[2,1]},parseError:function(_t,wt){if(wt.recoverable)this.trace(_t);else{var Et=new Error(_t);throw Et.hash=wt,Et}},parse:function(_t){var wt=this,Et=[0],Tt=[],$t=[null],Dt=[],Lt=this.table,Bt="",Ht=0,Ut=0,It=2,jt=1,Wt=Dt.slice.call(arguments,1),qt=Object.create(this.lexer),Yt={yy:{}};for(var ti in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ti)&&(Yt.yy[ti]=this.yy[ti]);qt.setInput(_t,Yt.yy),Yt.yy.lexer=qt,Yt.yy.parser=this,typeof qt.yylloc>"u"&&(qt.yylloc={});var oi=qt.yylloc;Dt.push(oi);var si=qt.options&&qt.options.ranges;typeof Yt.yy.parseError=="function"?this.parseError=Yt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function di(){var nn;return nn=Tt.pop()||qt.lex()||jt,typeof nn!="number"&&(nn instanceof Array&&(Tt=nn,nn=Tt.pop()),nn=wt.symbols_[nn]||nn),nn}for(var ui,ci,hi,ei,wi={},Kt,Ni,ni,Fi;;){if(ci=Et[Et.length-1],this.defaultActions[ci]?hi=this.defaultActions[ci]:((ui===null||typeof ui>"u")&&(ui=di()),hi=Lt[ci]&&Lt[ci][ui]),typeof hi>"u"||!hi.length||!hi[0]){var Xi="";Fi=[];for(Kt in Lt[ci])this.terminals_[Kt]&&Kt>It&&Fi.push("'"+this.terminals_[Kt]+"'");qt.showPosition?Xi="Parse error on line "+(Ht+1)+`:
`+qt.showPosition()+`
Expecting `+Fi.join(", ")+", got '"+(this.terminals_[ui]||ui)+"'":Xi="Parse error on line "+(Ht+1)+": Unexpected "+(ui==jt?"end of input":"'"+(this.terminals_[ui]||ui)+"'"),this.parseError(Xi,{text:qt.match,token:this.terminals_[ui]||ui,line:qt.yylineno,loc:oi,expected:Fi})}if(hi[0]instanceof Array&&hi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+ci+", token: "+ui);switch(hi[0]){case 1:Et.push(ui),$t.push(qt.yytext),Dt.push(qt.yylloc),Et.push(hi[1]),ui=null,Ut=qt.yyleng,Bt=qt.yytext,Ht=qt.yylineno,oi=qt.yylloc;break;case 2:if(Ni=this.productions_[hi[1]][1],wi.$=$t[$t.length-Ni],wi._$={first_line:Dt[Dt.length-(Ni||1)].first_line,last_line:Dt[Dt.length-1].last_line,first_column:Dt[Dt.length-(Ni||1)].first_column,last_column:Dt[Dt.length-1].last_column},si&&(wi._$.range=[Dt[Dt.length-(Ni||1)].range[0],Dt[Dt.length-1].range[1]]),ei=this.performAction.apply(wi,[Bt,Ut,Ht,Yt.yy,hi[1],$t,Dt].concat(Wt)),typeof ei<"u")return ei;Ni&&(Et=Et.slice(0,-1*Ni*2),$t=$t.slice(0,-1*Ni),Dt=Dt.slice(0,-1*Ni)),Et.push(this.productions_[hi[1]][0]),$t.push(wi.$),Dt.push(wi._$),ni=Lt[Et[Et.length-2]][Et[Et.length-1]],Et.push(ni);break;case 3:return!0}}return!0}},st=function(){var bt={EOF:1,parseError:function(wt,Et){if(this.yy.parser)this.yy.parser.parseError(wt,Et);else throw new Error(wt)},setInput:function(_t,wt){return this.yy=wt||this.yy||{},this._input=_t,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var _t=this._input[0];this.yytext+=_t,this.yyleng++,this.offset++,this.match+=_t,this.matched+=_t;var wt=_t.match(/(?:\r\n?|\n).*/g);return wt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),_t},unput:function(_t){var wt=_t.length,Et=_t.split(/(?:\r\n?|\n)/g);this._input=_t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-wt),this.offset-=wt;var Tt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Et.length-1&&(this.yylineno-=Et.length-1);var $t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Et?(Et.length===Tt.length?this.yylloc.first_column:0)+Tt[Tt.length-Et.length].length-Et[0].length:this.yylloc.first_column-wt},this.options.ranges&&(this.yylloc.range=[$t[0],$t[0]+this.yyleng-wt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(_t){this.unput(this.match.slice(_t))},pastInput:function(){var _t=this.matched.substr(0,this.matched.length-this.match.length);return(_t.length>20?"...":"")+_t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var _t=this.match;return _t.length<20&&(_t+=this._input.substr(0,20-_t.length)),(_t.substr(0,20)+(_t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var _t=this.pastInput(),wt=new Array(_t.length+1).join("-");return _t+this.upcomingInput()+`
`+wt+"^"},test_match:function(_t,wt){var Et,Tt,$t;if(this.options.backtrack_lexer&&($t={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&($t.yylloc.range=this.yylloc.range.slice(0))),Tt=_t[0].match(/(?:\r\n?|\n).*/g),Tt&&(this.yylineno+=Tt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Tt?Tt[Tt.length-1].length-Tt[Tt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+_t[0].length},this.yytext+=_t[0],this.match+=_t[0],this.matches=_t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(_t[0].length),this.matched+=_t[0],Et=this.performAction.call(this,this.yy,this,wt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Et)return Et;if(this._backtrack){for(var Dt in $t)this[Dt]=$t[Dt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var _t,wt,Et,Tt;this._more||(this.yytext="",this.match="");for(var $t=this._currentRules(),Dt=0;Dt<$t.length;Dt++)if(Et=this._input.match(this.rules[$t[Dt]]),Et&&(!wt||Et[0].length>wt[0].length)){if(wt=Et,Tt=Dt,this.options.backtrack_lexer){if(_t=this.test_match(Et,$t[Dt]),_t!==!1)return _t;if(this._backtrack){wt=!1;continue}else return!1}else if(!this.options.flex)break}return wt?(_t=this.test_match(wt,$t[Tt]),_t!==!1?_t:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var wt=this.next();return wt||this.lex()},begin:function(wt){this.conditionStack.push(wt)},popState:function(){var wt=this.conditionStack.length-1;return wt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(wt){return wt=this.conditionStack.length-1-Math.abs(wt||0),wt>=0?this.conditionStack[wt]:"INITIAL"},pushState:function(wt){this.begin(wt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(wt,Et,Tt,$t){switch(Tt){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return bt}();rt.lexer=st;function vt(){this.yy={}}return vt.prototype=rt,rt.Parser=vt,new vt}();parser$5.parser=parser$5;const infoParser=parser$5;var message="",info=!1;const setMessage=it=>{log$1.debug("Setting message to: "+it),message=it},getMessage=()=>message,setInfo=it=>{info=it},getInfo=()=>info,infoDb={setMessage,getMessage,setInfo,getInfo,clear:clear$g},draw$7=(it,nt,rt)=>{try{log$1.debug(`Rendering info diagram
`+it);const st=getConfig$1().securityLevel;let vt;st==="sandbox"&&(vt=select("#i"+nt));const _t=select(st==="sandbox"?vt.nodes()[0].contentDocument.body:"body").select("#"+nt);_t.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+rt),_t.attr("height",100),_t.attr("width",400)}catch(st){log$1.error("Error while rendering info diagram"),log$1.error(st.message)}},infoRenderer={draw:draw$7},infoDetector=it=>it.match(/^\s*info/)!==null;var parser$4=function(){var it=function(oi,si,di,ui){for(di=di||{},ui=oi.length;ui--;di[oi[ui]]=si);return di},nt=[1,4],rt=[1,5],st=[1,6],vt=[1,7],bt=[1,9],_t=[1,11,13,15,17,19,20,26,27,28,29],wt=[2,5],Et=[1,6,11,13,15,17,19,20,26,27,28,29],Tt=[26,27,28],$t=[2,8],Dt=[1,18],Lt=[1,19],Bt=[1,20],Ht=[1,21],Ut=[1,22],It=[1,23],jt=[1,28],Wt=[6,26,27,28,29],qt={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(si,di,ui,ci,hi,ei,wi){var Kt=ei.length-1;switch(hi){case 4:ci.setShowData(!0);break;case 7:this.$=ei[Kt-1];break;case 9:ci.addSection(ei[Kt-1],ci.cleanupValue(ei[Kt]));break;case 10:this.$=ei[Kt].trim(),ci.setDiagramTitle(this.$);break;case 11:this.$=ei[Kt].trim(),ci.setAccTitle(this.$);break;case 12:case 13:this.$=ei[Kt].trim(),ci.setAccDescription(this.$);break;case 14:ci.addSection(ei[Kt].substr(8)),this.$=ei[Kt].substr(8);break;case 21:ci.parseDirective("%%{","open_directive");break;case 22:ci.parseDirective(ei[Kt],"type_directive");break;case 23:ei[Kt]=ei[Kt].trim().replace(/'/g,'"'),ci.parseDirective(ei[Kt],"arg_directive");break;case 24:ci.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:nt,21:8,26:rt,27:st,28:vt,29:bt},{1:[3]},{3:10,4:2,5:3,6:nt,21:8,26:rt,27:st,28:vt,29:bt},{3:11,4:2,5:3,6:nt,21:8,26:rt,27:st,28:vt,29:bt},it(_t,wt,{7:12,8:[1,13]}),it(Et,[2,18]),it(Et,[2,19]),it(Et,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},it(Tt,$t,{21:8,9:16,10:17,5:24,1:[2,3],11:Dt,13:Lt,15:Bt,17:Ht,19:Ut,20:It,29:bt}),it(_t,wt,{7:25}),{23:26,24:[1,27],32:jt},it([24,32],[2,22]),it(_t,[2,6]),{4:29,26:rt,27:st,28:vt},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},it(Tt,[2,13]),it(Tt,[2,14]),it(Tt,[2,15]),it(Tt,$t,{21:8,9:16,10:17,5:24,1:[2,4],11:Dt,13:Lt,15:Bt,17:Ht,19:Ut,20:It,29:bt}),it(Wt,[2,16]),{25:34,31:[1,35]},it(Wt,[2,24]),it(_t,[2,7]),it(Tt,[2,9]),it(Tt,[2,10]),it(Tt,[2,11]),it(Tt,[2,12]),{23:36,32:jt},{32:[2,23]},it(Wt,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(si,di){if(di.recoverable)this.trace(si);else{var ui=new Error(si);throw ui.hash=di,ui}},parse:function(si){var di=this,ui=[0],ci=[],hi=[null],ei=[],wi=this.table,Kt="",Ni=0,ni=0,Fi=2,Xi=1,nn=ei.slice.call(arguments,1),Ai=Object.create(this.lexer),ji={yy:{}};for(var Ri in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ri)&&(ji.yy[Ri]=this.yy[Ri]);Ai.setInput(si,ji.yy),ji.yy.lexer=Ai,ji.yy.parser=this,typeof Ai.yylloc>"u"&&(Ai.yylloc={});var Vi=Ai.yylloc;ei.push(Vi);var Qi=Ai.options&&Ai.options.ranges;typeof ji.yy.parseError=="function"?this.parseError=ji.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function rn(){var Si;return Si=ci.pop()||Ai.lex()||Xi,typeof Si!="number"&&(Si instanceof Array&&(ci=Si,Si=ci.pop()),Si=di.symbols_[Si]||Si),Si}for(var Pi,bn,Oi,Ii,Gi={},$i,ii,Nt,Qt;;){if(bn=ui[ui.length-1],this.defaultActions[bn]?Oi=this.defaultActions[bn]:((Pi===null||typeof Pi>"u")&&(Pi=rn()),Oi=wi[bn]&&wi[bn][Pi]),typeof Oi>"u"||!Oi.length||!Oi[0]){var Jt="";Qt=[];for($i in wi[bn])this.terminals_[$i]&&$i>Fi&&Qt.push("'"+this.terminals_[$i]+"'");Ai.showPosition?Jt="Parse error on line "+(Ni+1)+`:
`+Ai.showPosition()+`
Expecting `+Qt.join(", ")+", got '"+(this.terminals_[Pi]||Pi)+"'":Jt="Parse error on line "+(Ni+1)+": Unexpected "+(Pi==Xi?"end of input":"'"+(this.terminals_[Pi]||Pi)+"'"),this.parseError(Jt,{text:Ai.match,token:this.terminals_[Pi]||Pi,line:Ai.yylineno,loc:Vi,expected:Qt})}if(Oi[0]instanceof Array&&Oi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+bn+", token: "+Pi);switch(Oi[0]){case 1:ui.push(Pi),hi.push(Ai.yytext),ei.push(Ai.yylloc),ui.push(Oi[1]),Pi=null,ni=Ai.yyleng,Kt=Ai.yytext,Ni=Ai.yylineno,Vi=Ai.yylloc;break;case 2:if(ii=this.productions_[Oi[1]][1],Gi.$=hi[hi.length-ii],Gi._$={first_line:ei[ei.length-(ii||1)].first_line,last_line:ei[ei.length-1].last_line,first_column:ei[ei.length-(ii||1)].first_column,last_column:ei[ei.length-1].last_column},Qi&&(Gi._$.range=[ei[ei.length-(ii||1)].range[0],ei[ei.length-1].range[1]]),Ii=this.performAction.apply(Gi,[Kt,ni,Ni,ji.yy,Oi[1],hi,ei].concat(nn)),typeof Ii<"u")return Ii;ii&&(ui=ui.slice(0,-1*ii*2),hi=hi.slice(0,-1*ii),ei=ei.slice(0,-1*ii)),ui.push(this.productions_[Oi[1]][0]),hi.push(Gi.$),ei.push(Gi._$),Nt=wi[ui[ui.length-2]][ui[ui.length-1]],ui.push(Nt);break;case 3:return!0}}return!0}},Yt=function(){var oi={EOF:1,parseError:function(di,ui){if(this.yy.parser)this.yy.parser.parseError(di,ui);else throw new Error(di)},setInput:function(si,di){return this.yy=di||this.yy||{},this._input=si,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var si=this._input[0];this.yytext+=si,this.yyleng++,this.offset++,this.match+=si,this.matched+=si;var di=si.match(/(?:\r\n?|\n).*/g);return di?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),si},unput:function(si){var di=si.length,ui=si.split(/(?:\r\n?|\n)/g);this._input=si+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-di),this.offset-=di;var ci=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ui.length-1&&(this.yylineno-=ui.length-1);var hi=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ui?(ui.length===ci.length?this.yylloc.first_column:0)+ci[ci.length-ui.length].length-ui[0].length:this.yylloc.first_column-di},this.options.ranges&&(this.yylloc.range=[hi[0],hi[0]+this.yyleng-di]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(si){this.unput(this.match.slice(si))},pastInput:function(){var si=this.matched.substr(0,this.matched.length-this.match.length);return(si.length>20?"...":"")+si.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var si=this.match;return si.length<20&&(si+=this._input.substr(0,20-si.length)),(si.substr(0,20)+(si.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var si=this.pastInput(),di=new Array(si.length+1).join("-");return si+this.upcomingInput()+`
`+di+"^"},test_match:function(si,di){var ui,ci,hi;if(this.options.backtrack_lexer&&(hi={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(hi.yylloc.range=this.yylloc.range.slice(0))),ci=si[0].match(/(?:\r\n?|\n).*/g),ci&&(this.yylineno+=ci.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:ci?ci[ci.length-1].length-ci[ci.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+si[0].length},this.yytext+=si[0],this.match+=si[0],this.matches=si,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(si[0].length),this.matched+=si[0],ui=this.performAction.call(this,this.yy,this,di,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ui)return ui;if(this._backtrack){for(var ei in hi)this[ei]=hi[ei];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var si,di,ui,ci;this._more||(this.yytext="",this.match="");for(var hi=this._currentRules(),ei=0;ei<hi.length;ei++)if(ui=this._input.match(this.rules[hi[ei]]),ui&&(!di||ui[0].length>di[0].length)){if(di=ui,ci=ei,this.options.backtrack_lexer){if(si=this.test_match(ui,hi[ei]),si!==!1)return si;if(this._backtrack){di=!1;continue}else return!1}else if(!this.options.flex)break}return di?(si=this.test_match(di,hi[ci]),si!==!1?si:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var di=this.next();return di||this.lex()},begin:function(di){this.conditionStack.push(di)},popState:function(){var di=this.conditionStack.length-1;return di>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(di){return di=this.conditionStack.length-1-Math.abs(di||0),di>=0?this.conditionStack[di]:"INITIAL"},pushState:function(di){this.begin(di)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(di,ui,ci,hi){switch(ci){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return oi}();qt.lexer=Yt;function ti(){this.yy={}}return ti.prototype=qt,qt.Parser=ti,new ti}();parser$4.parser=parser$4;const pieParser=parser$4,pieDetector=it=>it.match(/^\s*pie/)!==null||it.match(/^\s*bar/)!==null;let sections$1={},showData=!1;const parseDirective$5=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},addSection$1=function(it,nt){it=common$1.sanitizeText(it,getConfig$1()),sections$1[it]===void 0&&(sections$1[it]=nt,log$1.debug("Added new section :",it))},getSections$1=()=>sections$1,setShowData=function(it){showData=it},getShowData=function(){return showData},cleanupValue=function(it){return it.substring(0,1)===":"&&(it=it.substring(1).trim()),Number(it.trim())},clear$4=function(){sections$1={},showData=!1,clear$g()},pieDb={parseDirective:parseDirective$5,getConfig:()=>getConfig$1().pie,addSection:addSection$1,getSections:getSections$1,cleanupValue,clear:clear$4,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setShowData,getShowData,getAccDescription,setAccDescription};let conf$5=getConfig$1(),width;const height=450,draw$6=(it,nt,rt,st)=>{try{conf$5=getConfig$1(),log$1.debug(`Rendering info diagram
`+it);const Wt=getConfig$1().securityLevel;let qt;Wt==="sandbox"&&(qt=select("#i"+nt));const Yt=select(Wt==="sandbox"?qt.nodes()[0].contentDocument.body:"body"),ti=Wt==="sandbox"?qt.nodes()[0].contentDocument:document;st.db.clear(),st.parser.parse(it),log$1.debug("Parsed info diagram");const oi=ti.getElementById(nt);width=oi.parentElement.offsetWidth,width===void 0&&(width=1200),conf$5.useWidth!==void 0&&(width=conf$5.useWidth),conf$5.pie.useWidth!==void 0&&(width=conf$5.pie.useWidth);const si=Yt.select("#"+nt);configureSvgSize(si,height,width,conf$5.pie.useMaxWidth),oi.setAttribute("viewBox","0 0 "+width+" "+height);var vt=40,bt=18,_t=4,wt=Math.min(width,height)/2-vt,Et=si.append("g").attr("transform","translate("+width/2+","+height/2+")"),Tt=st.db.getSections(),$t=0;Object.keys(Tt).forEach(function(ui){$t+=Tt[ui]});const di=conf$5.themeVariables;var Dt=[di.pie1,di.pie2,di.pie3,di.pie4,di.pie5,di.pie6,di.pie7,di.pie8,di.pie9,di.pie10,di.pie11,di.pie12],Lt=ordinal().range(Dt),Bt=Object.entries(Tt).map(function(ui,ci){return{order:ci,name:ui[0],value:ui[1]}}),Ht=pie().value(function(ui){return ui.value}).sort(function(ui,ci){return ui.order-ci.order}),Ut=Ht(Bt),It=arc().innerRadius(0).outerRadius(wt);Et.selectAll("mySlices").data(Ut).enter().append("path").attr("d",It).attr("fill",function(ui){return Lt(ui.data.name)}).attr("class","pieCircle"),Et.selectAll("mySlices").data(Ut).enter().append("text").text(function(ui){return(ui.data.value/$t*100).toFixed(0)+"%"}).attr("transform",function(ui){return"translate("+It.centroid(ui)+")"}).style("text-anchor","middle").attr("class","slice"),Et.append("text").text(st.db.getDiagramTitle()).attr("x",0).attr("y",-(height-50)/2).attr("class","pieTitleText");var jt=Et.selectAll(".legend").data(Lt.domain()).enter().append("g").attr("class","legend").attr("transform",function(ui,ci){const hi=bt+_t,ei=hi*Lt.domain().length/2,wi=12*bt,Kt=ci*hi-ei;return"translate("+wi+","+Kt+")"});jt.append("rect").attr("width",bt).attr("height",bt).style("fill",Lt).style("stroke",Lt),jt.data(Ut).append("text").attr("x",bt+_t).attr("y",bt-_t).text(function(ui){return st.db.getShowData()||conf$5.showData||conf$5.pie.showData?ui.data.name+" ["+ui.data.value+"]":ui.data.name})}catch(Wt){log$1.error("Error while rendering info diagram"),log$1.error(Wt)}},pieRenderer={draw:draw$6};var parser$3=function(){var it=function(bn,Oi,Ii,Gi){for(Ii=Ii||{},Gi=bn.length;Gi--;Ii[bn[Gi]]=Oi);return Ii},nt=[1,3],rt=[1,5],st=[1,6],vt=[1,7],bt=[1,8],_t=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],wt=[1,22],Et=[2,13],Tt=[1,26],$t=[1,27],Dt=[1,28],Lt=[1,29],Bt=[1,30],Ht=[1,31],Ut=[1,24],It=[1,32],jt=[1,33],Wt=[1,36],qt=[71,72],Yt=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],ti=[1,56],oi=[1,57],si=[1,58],di=[1,59],ui=[1,60],ci=[1,61],hi=[1,62],ei=[62,63],wi=[1,74],Kt=[1,70],Ni=[1,71],ni=[1,72],Fi=[1,73],Xi=[1,75],nn=[1,79],Ai=[1,80],ji=[1,77],Ri=[1,78],Vi=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Qi={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(Oi,Ii,Gi,$i,ii,Nt,Qt){var Jt=Nt.length-1;switch(ii){case 6:this.$=Nt[Jt].trim(),$i.setAccTitle(this.$);break;case 7:case 8:this.$=Nt[Jt].trim(),$i.setAccDescription(this.$);break;case 9:$i.parseDirective("%%{","open_directive");break;case 10:$i.parseDirective(Nt[Jt],"type_directive");break;case 11:Nt[Jt]=Nt[Jt].trim().replace(/'/g,'"'),$i.parseDirective(Nt[Jt],"arg_directive");break;case 12:$i.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:$i.addRequirement(Nt[Jt-3],Nt[Jt-4]);break;case 20:$i.setNewReqId(Nt[Jt-2]);break;case 21:$i.setNewReqText(Nt[Jt-2]);break;case 22:$i.setNewReqRisk(Nt[Jt-2]);break;case 23:$i.setNewReqVerifyMethod(Nt[Jt-2]);break;case 26:this.$=$i.RequirementType.REQUIREMENT;break;case 27:this.$=$i.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=$i.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=$i.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=$i.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=$i.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=$i.RiskLevel.LOW_RISK;break;case 33:this.$=$i.RiskLevel.MED_RISK;break;case 34:this.$=$i.RiskLevel.HIGH_RISK;break;case 35:this.$=$i.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=$i.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=$i.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=$i.VerifyType.VERIFY_TEST;break;case 39:$i.addElement(Nt[Jt-3]);break;case 40:$i.setNewElementType(Nt[Jt-2]);break;case 41:$i.setNewElementDocRef(Nt[Jt-2]);break;case 44:$i.addRelationship(Nt[Jt-2],Nt[Jt],Nt[Jt-4]);break;case 45:$i.addRelationship(Nt[Jt-2],Nt[Jt-4],Nt[Jt]);break;case 46:this.$=$i.Relationships.CONTAINS;break;case 47:this.$=$i.Relationships.COPIES;break;case 48:this.$=$i.Relationships.DERIVES;break;case 49:this.$=$i.Relationships.SATISFIES;break;case 50:this.$=$i.Relationships.VERIFIES;break;case 51:this.$=$i.Relationships.REFINES;break;case 52:this.$=$i.Relationships.TRACES;break}},table:[{3:1,4:2,6:nt,9:4,14:rt,16:st,18:vt,19:bt},{1:[3]},{3:10,4:2,5:[1,9],6:nt,9:4,14:rt,16:st,18:vt,19:bt},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},it(_t,[2,8]),{20:[2,9]},{3:16,4:2,6:nt,9:4,14:rt,16:st,18:vt,19:bt},{1:[2,2]},{4:21,5:wt,7:17,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{11:34,12:[1,35],22:Wt},it([12,22],[2,10]),it(_t,[2,6]),it(_t,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:wt,7:38,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{4:21,5:wt,7:39,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{4:21,5:wt,7:40,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{4:21,5:wt,7:41,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{4:21,5:wt,7:42,8:Et,9:4,14:rt,16:st,18:vt,19:bt,23:18,24:19,25:20,26:23,32:25,40:Tt,41:$t,42:Dt,43:Lt,44:Bt,45:Ht,53:Ut,71:It,72:jt},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},it(qt,[2,26]),it(qt,[2,27]),it(qt,[2,28]),it(qt,[2,29]),it(qt,[2,30]),it(qt,[2,31]),it(Yt,[2,55]),it(Yt,[2,56]),it(_t,[2,4]),{13:51,21:[1,52]},it(_t,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:ti,65:oi,66:si,67:di,68:ui,69:ci,70:hi},{61:63,64:ti,65:oi,66:si,67:di,68:ui,69:ci,70:hi},{11:64,22:Wt},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},it(ei,[2,46]),it(ei,[2,47]),it(ei,[2,48]),it(ei,[2,49]),it(ei,[2,50]),it(ei,[2,51]),it(ei,[2,52]),{63:[1,68]},it(_t,[2,5]),{5:wi,29:69,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},{5:nn,39:Ai,55:76,56:ji,58:Ri},{32:81,71:It,72:jt},{32:82,71:It,72:jt},it(Vi,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:wi,29:87,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},it(Vi,[2,25]),it(Vi,[2,39]),{31:[1,88]},{31:[1,89]},{5:nn,39:Ai,55:90,56:ji,58:Ri},it(Vi,[2,43]),it(Vi,[2,44]),it(Vi,[2,45]),{32:91,71:It,72:jt},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},it(Vi,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},it(Vi,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:wi,29:116,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},{5:wi,29:117,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},{5:wi,29:118,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},{5:wi,29:119,30:Kt,33:Ni,35:ni,37:Fi,39:Xi},{5:nn,39:Ai,55:120,56:ji,58:Ri},{5:nn,39:Ai,55:121,56:ji,58:Ri},it(Vi,[2,20]),it(Vi,[2,21]),it(Vi,[2,22]),it(Vi,[2,23]),it(Vi,[2,40]),it(Vi,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(Oi,Ii){if(Ii.recoverable)this.trace(Oi);else{var Gi=new Error(Oi);throw Gi.hash=Ii,Gi}},parse:function(Oi){var Ii=this,Gi=[0],$i=[],ii=[null],Nt=[],Qt=this.table,Jt="",Si=0,vi=0,Mi=2,_i=1,Li=Nt.slice.call(arguments,1),Ti=Object.create(this.lexer),zi={yy:{}};for(var Hi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Hi)&&(zi.yy[Hi]=this.yy[Hi]);Ti.setInput(Oi,zi.yy),zi.yy.lexer=Ti,zi.yy.parser=this,typeof Ti.yylloc>"u"&&(Ti.yylloc={});var tn=Ti.yylloc;Nt.push(tn);var qi=Ti.options&&Ti.options.ranges;typeof zi.yy.parseError=="function"?this.parseError=zi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Wi(){var xi;return xi=$i.pop()||Ti.lex()||_i,typeof xi!="number"&&(xi instanceof Array&&($i=xi,xi=$i.pop()),xi=Ii.symbols_[xi]||xi),xi}for(var Cn,En,$n,Fn,Rn={},br,Bn,on,li;;){if(En=Gi[Gi.length-1],this.defaultActions[En]?$n=this.defaultActions[En]:((Cn===null||typeof Cn>"u")&&(Cn=Wi()),$n=Qt[En]&&Qt[En][Cn]),typeof $n>"u"||!$n.length||!$n[0]){var ai="";li=[];for(br in Qt[En])this.terminals_[br]&&br>Mi&&li.push("'"+this.terminals_[br]+"'");Ti.showPosition?ai="Parse error on line "+(Si+1)+`:
`+Ti.showPosition()+`
Expecting `+li.join(", ")+", got '"+(this.terminals_[Cn]||Cn)+"'":ai="Parse error on line "+(Si+1)+": Unexpected "+(Cn==_i?"end of input":"'"+(this.terminals_[Cn]||Cn)+"'"),this.parseError(ai,{text:Ti.match,token:this.terminals_[Cn]||Cn,line:Ti.yylineno,loc:tn,expected:li})}if($n[0]instanceof Array&&$n.length>1)throw new Error("Parse Error: multiple actions possible at state: "+En+", token: "+Cn);switch($n[0]){case 1:Gi.push(Cn),ii.push(Ti.yytext),Nt.push(Ti.yylloc),Gi.push($n[1]),Cn=null,vi=Ti.yyleng,Jt=Ti.yytext,Si=Ti.yylineno,tn=Ti.yylloc;break;case 2:if(Bn=this.productions_[$n[1]][1],Rn.$=ii[ii.length-Bn],Rn._$={first_line:Nt[Nt.length-(Bn||1)].first_line,last_line:Nt[Nt.length-1].last_line,first_column:Nt[Nt.length-(Bn||1)].first_column,last_column:Nt[Nt.length-1].last_column},qi&&(Rn._$.range=[Nt[Nt.length-(Bn||1)].range[0],Nt[Nt.length-1].range[1]]),Fn=this.performAction.apply(Rn,[Jt,vi,Si,zi.yy,$n[1],ii,Nt].concat(Li)),typeof Fn<"u")return Fn;Bn&&(Gi=Gi.slice(0,-1*Bn*2),ii=ii.slice(0,-1*Bn),Nt=Nt.slice(0,-1*Bn)),Gi.push(this.productions_[$n[1]][0]),ii.push(Rn.$),Nt.push(Rn._$),on=Qt[Gi[Gi.length-2]][Gi[Gi.length-1]],Gi.push(on);break;case 3:return!0}}return!0}},rn=function(){var bn={EOF:1,parseError:function(Ii,Gi){if(this.yy.parser)this.yy.parser.parseError(Ii,Gi);else throw new Error(Ii)},setInput:function(Oi,Ii){return this.yy=Ii||this.yy||{},this._input=Oi,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Oi=this._input[0];this.yytext+=Oi,this.yyleng++,this.offset++,this.match+=Oi,this.matched+=Oi;var Ii=Oi.match(/(?:\r\n?|\n).*/g);return Ii?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Oi},unput:function(Oi){var Ii=Oi.length,Gi=Oi.split(/(?:\r\n?|\n)/g);this._input=Oi+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ii),this.offset-=Ii;var $i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Gi.length-1&&(this.yylineno-=Gi.length-1);var ii=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Gi?(Gi.length===$i.length?this.yylloc.first_column:0)+$i[$i.length-Gi.length].length-Gi[0].length:this.yylloc.first_column-Ii},this.options.ranges&&(this.yylloc.range=[ii[0],ii[0]+this.yyleng-Ii]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Oi){this.unput(this.match.slice(Oi))},pastInput:function(){var Oi=this.matched.substr(0,this.matched.length-this.match.length);return(Oi.length>20?"...":"")+Oi.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Oi=this.match;return Oi.length<20&&(Oi+=this._input.substr(0,20-Oi.length)),(Oi.substr(0,20)+(Oi.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Oi=this.pastInput(),Ii=new Array(Oi.length+1).join("-");return Oi+this.upcomingInput()+`
`+Ii+"^"},test_match:function(Oi,Ii){var Gi,$i,ii;if(this.options.backtrack_lexer&&(ii={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ii.yylloc.range=this.yylloc.range.slice(0))),$i=Oi[0].match(/(?:\r\n?|\n).*/g),$i&&(this.yylineno+=$i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$i?$i[$i.length-1].length-$i[$i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Oi[0].length},this.yytext+=Oi[0],this.match+=Oi[0],this.matches=Oi,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Oi[0].length),this.matched+=Oi[0],Gi=this.performAction.call(this,this.yy,this,Ii,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Gi)return Gi;if(this._backtrack){for(var Nt in ii)this[Nt]=ii[Nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Oi,Ii,Gi,$i;this._more||(this.yytext="",this.match="");for(var ii=this._currentRules(),Nt=0;Nt<ii.length;Nt++)if(Gi=this._input.match(this.rules[ii[Nt]]),Gi&&(!Ii||Gi[0].length>Ii[0].length)){if(Ii=Gi,$i=Nt,this.options.backtrack_lexer){if(Oi=this.test_match(Gi,ii[Nt]),Oi!==!1)return Oi;if(this._backtrack){Ii=!1;continue}else return!1}else if(!this.options.flex)break}return Ii?(Oi=this.test_match(Ii,ii[$i]),Oi!==!1?Oi:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ii=this.next();return Ii||this.lex()},begin:function(Ii){this.conditionStack.push(Ii)},popState:function(){var Ii=this.conditionStack.length-1;return Ii>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ii){return Ii=this.conditionStack.length-1-Math.abs(Ii||0),Ii>=0?this.conditionStack[Ii]:"INITIAL"},pushState:function(Ii){this.begin(Ii)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ii,Gi,$i,ii){switch($i){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return Gi.yytext=Gi.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return bn}();Qi.lexer=rn;function Pi(){this.yy={}}return Pi.prototype=Qi,Qi.Parser=Pi,new Pi}();parser$3.parser=parser$3;const requirementParser=parser$3,requirementDetector=it=>it.match(/^\s*requirement(Diagram)?/)!==null;let relations=[],latestRequirement={},requirements={},latestElement={},elements={};const RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective$4=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},addRequirement=(it,nt)=>(requirements[it]===void 0&&(requirements[it]={name:it,type:nt,id:latestRequirement.id,text:latestRequirement.text,risk:latestRequirement.risk,verifyMethod:latestRequirement.verifyMethod}),latestRequirement={},requirements[it]),getRequirements=()=>requirements,setNewReqId=it=>{latestRequirement!==void 0&&(latestRequirement.id=it)},setNewReqText=it=>{latestRequirement!==void 0&&(latestRequirement.text=it)},setNewReqRisk=it=>{latestRequirement!==void 0&&(latestRequirement.risk=it)},setNewReqVerifyMethod=it=>{latestRequirement!==void 0&&(latestRequirement.verifyMethod=it)},addElement=it=>(elements[it]===void 0&&(elements[it]={name:it,type:latestElement.type,docRef:latestElement.docRef},log$1.info("Added new requirement: ",it)),latestElement={},elements[it]),getElements=()=>elements,setNewElementType=it=>{latestElement!==void 0&&(latestElement.type=it)},setNewElementDocRef=it=>{latestElement!==void 0&&(latestElement.docRef=it)},addRelationship=(it,nt,rt)=>{relations.push({type:it,src:nt,dst:rt})},getRelationships=()=>relations,clear$3=()=>{relations=[],latestRequirement={},requirements={},latestElement={},elements={},clear$g()},requirementDb={RequirementType,RiskLevel,VerifyType,Relationships,parseDirective:parseDirective$4,getConfig:()=>getConfig$1().req,addRequirement,getRequirements,setNewReqId,setNewReqText,setNewReqRisk,setNewReqVerifyMethod,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addElement,getElements,setNewElementType,setNewElementDocRef,addRelationship,getRelationships,clear:clear$3},ReqMarkers={CONTAINS:"contains",ARROW:"arrow"},insertLineEndings=(it,nt)=>{let rt=it.append("defs").append("marker").attr("id",ReqMarkers.CONTAINS+"_line_ending").attr("refX",0).attr("refY",nt.line_height/2).attr("markerWidth",nt.line_height).attr("markerHeight",nt.line_height).attr("orient","auto").append("g");rt.append("circle").attr("cx",nt.line_height/2).attr("cy",nt.line_height/2).attr("r",nt.line_height/2).attr("fill","none"),rt.append("line").attr("x1",0).attr("x2",nt.line_height).attr("y1",nt.line_height/2).attr("y2",nt.line_height/2).attr("stroke-width",1),rt.append("line").attr("y1",0).attr("y2",nt.line_height).attr("x1",nt.line_height/2).attr("x2",nt.line_height/2).attr("stroke-width",1),it.append("defs").append("marker").attr("id",ReqMarkers.ARROW+"_line_ending").attr("refX",nt.line_height).attr("refY",.5*nt.line_height).attr("markerWidth",nt.line_height).attr("markerHeight",nt.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${nt.line_height},${nt.line_height/2}
      M${nt.line_height},${nt.line_height/2}
      L0,${nt.line_height}`).attr("stroke-width",1)},markers={ReqMarkers,insertLineEndings};let conf$4={},relCnt=0;const newRectNode=(it,nt)=>it.insert("rect","#"+nt).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",conf$4.rect_min_width+"px").attr("height",conf$4.rect_min_height+"px"),newTitleNode=(it,nt,rt)=>{let st=conf$4.rect_min_width/2,vt=it.append("text").attr("class","req reqLabel reqTitle").attr("id",nt).attr("x",st).attr("y",conf$4.rect_padding).attr("dominant-baseline","hanging"),bt=0;rt.forEach(Tt=>{bt==0?vt.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",0).text(Tt):vt.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",conf$4.line_height*.75).text(Tt),bt++});let _t=1.5*conf$4.rect_padding,wt=bt*conf$4.line_height*.75,Et=_t+wt;return it.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",conf$4.rect_min_width).attr("y1",Et).attr("y2",Et),{titleNode:vt,y:Et}},newBodyNode=(it,nt,rt,st)=>{let vt=it.append("text").attr("class","req reqLabel").attr("id",nt).attr("x",conf$4.rect_padding).attr("y",st).attr("dominant-baseline","hanging"),bt=0;const _t=30;let wt=[];return rt.forEach(Et=>{let Tt=Et.length;for(;Tt>_t&&bt<3;){let $t=Et.substring(0,_t);Et=Et.substring(_t,Et.length),Tt=Et.length,wt[wt.length]=$t,bt++}if(bt==3){let $t=wt[wt.length-1];wt[wt.length-1]=$t.substring(0,$t.length-4)+"..."}else wt[wt.length]=Et;bt=0}),wt.forEach(Et=>{vt.append("tspan").attr("x",conf$4.rect_padding).attr("dy",conf$4.line_height).text(Et)}),vt},addEdgeLabel=(it,nt,rt,st)=>{const vt=nt.node().getTotalLength(),bt=nt.node().getPointAtLength(vt*.5),_t="rel"+relCnt;relCnt++;const Et=it.append("text").attr("class","req relationshipLabel").attr("id",_t).attr("x",bt.x).attr("y",bt.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(st).node().getBBox();it.insert("rect","#"+_t).attr("class","req reqLabelBox").attr("x",bt.x-Et.width/2).attr("y",bt.y-Et.height/2).attr("width",Et.width).attr("height",Et.height).attr("fill","white").attr("fill-opacity","85%")},drawRelationshipFromLayout=function(it,nt,rt,st,vt){const bt=rt.edge(elementString(nt.src),elementString(nt.dst)),_t=line$1().x(function(Et){return Et.x}).y(function(Et){return Et.y}),wt=it.insert("path","#"+st).attr("class","er relationshipLine").attr("d",_t(bt.points)).attr("fill","none");nt.type==vt.db.Relationships.CONTAINS?wt.attr("marker-start","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+nt.type+"_line_ending)"):(wt.attr("stroke-dasharray","10,7"),wt.attr("marker-end","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+markers.ReqMarkers.ARROW+"_line_ending)")),addEdgeLabel(it,wt,conf$4,`<<${nt.type}>>`)},drawReqs=(it,nt,rt)=>{Object.keys(it).forEach(st=>{let vt=it[st];st=elementString(st),log$1.info("Added new requirement: ",st);const bt=rt.append("g").attr("id",st),_t="req-"+st,wt=newRectNode(bt,_t);let Et=newTitleNode(bt,st+"_title",[`<<${vt.type}>>`,`${vt.name}`]);newBodyNode(bt,st+"_body",[`Id: ${vt.id}`,`Text: ${vt.text}`,`Risk: ${vt.risk}`,`Verification: ${vt.verifyMethod}`],Et.y);const Tt=wt.node().getBBox();nt.setNode(st,{width:Tt.width,height:Tt.height,shape:"rect",id:st})})},drawElements=(it,nt,rt)=>{Object.keys(it).forEach(st=>{let vt=it[st];const bt=elementString(st),_t=rt.append("g").attr("id",bt),wt="element-"+bt,Et=newRectNode(_t,wt);let Tt=newTitleNode(_t,wt+"_title",["<<Element>>",`${st}`]);newBodyNode(_t,wt+"_body",[`Type: ${vt.type||"Not Specified"}`,`Doc Ref: ${vt.docRef||"None"}`],Tt.y);const $t=Et.node().getBBox();nt.setNode(bt,{width:$t.width,height:$t.height,shape:"rect",id:bt})})},addRelationships=(it,nt)=>(it.forEach(function(rt){let st=elementString(rt.src),vt=elementString(rt.dst);nt.setEdge(st,vt,{relationship:rt})}),it),adjustEntities=function(it,nt){nt.nodes().forEach(function(rt){rt!==void 0&&nt.node(rt)!==void 0&&(it.select("#"+rt),it.select("#"+rt).attr("transform","translate("+(nt.node(rt).x-nt.node(rt).width/2)+","+(nt.node(rt).y-nt.node(rt).height/2)+" )"))})},elementString=it=>it.replace(/\s/g,"").replace(/\./g,"_"),draw$5=(it,nt,rt,st)=>{conf$4=getConfig$1().requirement,st.db.clear(),st.parser.parse(it);const vt=conf$4.securityLevel;let bt;vt==="sandbox"&&(bt=select("#i"+nt));const wt=select(vt==="sandbox"?bt.nodes()[0].contentDocument.body:"body").select(`[id='${nt}']`);markers.insertLineEndings(wt,conf$4);const Et=new Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:conf$4.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let Tt=st.db.getRequirements(),$t=st.db.getElements(),Dt=st.db.getRelationships();drawReqs(Tt,Et,wt),drawElements($t,Et,wt),addRelationships(Dt,Et),layout(Et),adjustEntities(wt,Et),Dt.forEach(function(It){drawRelationshipFromLayout(wt,It,Et,nt,st)});const Lt=conf$4.rect_padding,Bt=wt.node().getBBox(),Ht=Bt.width+Lt*2,Ut=Bt.height+Lt*2;configureSvgSize(wt,Ut,Ht,conf$4.useMaxWidth),wt.attr("viewBox",`${Bt.x-Lt} ${Bt.y-Lt} ${Ht} ${Ut}`)},requirementRenderer={draw:draw$5};var parser$2=function(){var it=function(bn,Oi,Ii,Gi){for(Ii=Ii||{},Gi=bn.length;Gi--;Ii[bn[Gi]]=Oi);return Ii},nt=[1,2],rt=[1,3],st=[1,5],vt=[1,7],bt=[2,5],_t=[1,15],wt=[1,17],Et=[1,18],Tt=[1,19],$t=[1,21],Dt=[1,22],Lt=[1,23],Bt=[1,29],Ht=[1,30],Ut=[1,31],It=[1,32],jt=[1,33],Wt=[1,34],qt=[1,35],Yt=[1,36],ti=[1,37],oi=[1,38],si=[1,39],di=[1,40],ui=[1,43],ci=[1,44],hi=[1,45],ei=[1,46],wi=[1,47],Kt=[1,48],Ni=[1,51],ni=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Fi=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],Xi=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],nn=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],Ai=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],ji=[67,68,69],Ri=[1,121],Vi=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Qi={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(Oi,Ii,Gi,$i,ii,Nt,Qt){var Jt=Nt.length-1;switch(ii){case 4:return $i.apply(Nt[Jt]),Nt[Jt];case 5:this.$=[];break;case 6:Nt[Jt-1].push(Nt[Jt]),this.$=Nt[Jt-1];break;case 7:case 8:this.$=Nt[Jt];break;case 9:this.$=[];break;case 12:Nt[Jt-3].type="addParticipant",Nt[Jt-3].description=$i.parseMessage(Nt[Jt-1]),this.$=Nt[Jt-3];break;case 13:Nt[Jt-1].type="addParticipant",this.$=Nt[Jt-1];break;case 14:Nt[Jt-3].type="addActor",Nt[Jt-3].description=$i.parseMessage(Nt[Jt-1]),this.$=Nt[Jt-3];break;case 15:Nt[Jt-1].type="addActor",this.$=Nt[Jt-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(Nt[Jt-2]),sequenceIndexStep:Number(Nt[Jt-1]),sequenceVisible:!0,signalType:$i.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(Nt[Jt-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:$i.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:$i.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:$i.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:$i.LINETYPE.ACTIVE_START,actor:Nt[Jt-1]};break;case 22:this.$={type:"activeEnd",signalType:$i.LINETYPE.ACTIVE_END,actor:Nt[Jt-1]};break;case 28:$i.setDiagramTitle(Nt[Jt].substring(6)),this.$=Nt[Jt].substring(6);break;case 29:$i.setDiagramTitle(Nt[Jt].substring(7)),this.$=Nt[Jt].substring(7);break;case 30:this.$=Nt[Jt].trim(),$i.setAccTitle(this.$);break;case 31:case 32:this.$=Nt[Jt].trim(),$i.setAccDescription(this.$);break;case 33:Nt[Jt-1].unshift({type:"loopStart",loopText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.LOOP_START}),Nt[Jt-1].push({type:"loopEnd",loopText:Nt[Jt-2],signalType:$i.LINETYPE.LOOP_END}),this.$=Nt[Jt-1];break;case 34:Nt[Jt-1].unshift({type:"rectStart",color:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.RECT_START}),Nt[Jt-1].push({type:"rectEnd",color:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.RECT_END}),this.$=Nt[Jt-1];break;case 35:Nt[Jt-1].unshift({type:"optStart",optText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.OPT_START}),Nt[Jt-1].push({type:"optEnd",optText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.OPT_END}),this.$=Nt[Jt-1];break;case 36:Nt[Jt-1].unshift({type:"altStart",altText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.ALT_START}),Nt[Jt-1].push({type:"altEnd",signalType:$i.LINETYPE.ALT_END}),this.$=Nt[Jt-1];break;case 37:Nt[Jt-1].unshift({type:"parStart",parText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.PAR_START}),Nt[Jt-1].push({type:"parEnd",signalType:$i.LINETYPE.PAR_END}),this.$=Nt[Jt-1];break;case 38:Nt[Jt-1].unshift({type:"criticalStart",criticalText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.CRITICAL_START}),Nt[Jt-1].push({type:"criticalEnd",signalType:$i.LINETYPE.CRITICAL_END}),this.$=Nt[Jt-1];break;case 39:Nt[Jt-1].unshift({type:"breakStart",breakText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.BREAK_START}),Nt[Jt-1].push({type:"breakEnd",optText:$i.parseMessage(Nt[Jt-2]),signalType:$i.LINETYPE.BREAK_END}),this.$=Nt[Jt-1];break;case 42:this.$=Nt[Jt-3].concat([{type:"option",optionText:$i.parseMessage(Nt[Jt-1]),signalType:$i.LINETYPE.CRITICAL_OPTION},Nt[Jt]]);break;case 44:this.$=Nt[Jt-3].concat([{type:"and",parText:$i.parseMessage(Nt[Jt-1]),signalType:$i.LINETYPE.PAR_AND},Nt[Jt]]);break;case 46:this.$=Nt[Jt-3].concat([{type:"else",altText:$i.parseMessage(Nt[Jt-1]),signalType:$i.LINETYPE.ALT_ELSE},Nt[Jt]]);break;case 47:this.$=[Nt[Jt-1],{type:"addNote",placement:Nt[Jt-2],actor:Nt[Jt-1].actor,text:Nt[Jt]}];break;case 48:Nt[Jt-2]=[].concat(Nt[Jt-1],Nt[Jt-1]).slice(0,2),Nt[Jt-2][0]=Nt[Jt-2][0].actor,Nt[Jt-2][1]=Nt[Jt-2][1].actor,this.$=[Nt[Jt-1],{type:"addNote",placement:$i.PLACEMENT.OVER,actor:Nt[Jt-2].slice(0,2),text:Nt[Jt]}];break;case 49:this.$=[Nt[Jt-1],{type:"addLinks",actor:Nt[Jt-1].actor,text:Nt[Jt]}];break;case 50:this.$=[Nt[Jt-1],{type:"addALink",actor:Nt[Jt-1].actor,text:Nt[Jt]}];break;case 51:this.$=[Nt[Jt-1],{type:"addProperties",actor:Nt[Jt-1].actor,text:Nt[Jt]}];break;case 52:this.$=[Nt[Jt-1],{type:"addDetails",actor:Nt[Jt-1].actor,text:Nt[Jt]}];break;case 55:this.$=[Nt[Jt-2],Nt[Jt]];break;case 56:this.$=Nt[Jt];break;case 57:this.$=$i.PLACEMENT.LEFTOF;break;case 58:this.$=$i.PLACEMENT.RIGHTOF;break;case 59:this.$=[Nt[Jt-4],Nt[Jt-1],{type:"addMessage",from:Nt[Jt-4].actor,to:Nt[Jt-1].actor,signalType:Nt[Jt-3],msg:Nt[Jt]},{type:"activeStart",signalType:$i.LINETYPE.ACTIVE_START,actor:Nt[Jt-1]}];break;case 60:this.$=[Nt[Jt-4],Nt[Jt-1],{type:"addMessage",from:Nt[Jt-4].actor,to:Nt[Jt-1].actor,signalType:Nt[Jt-3],msg:Nt[Jt]},{type:"activeEnd",signalType:$i.LINETYPE.ACTIVE_END,actor:Nt[Jt-4]}];break;case 61:this.$=[Nt[Jt-3],Nt[Jt-1],{type:"addMessage",from:Nt[Jt-3].actor,to:Nt[Jt-1].actor,signalType:Nt[Jt-2],msg:Nt[Jt]}];break;case 62:this.$={type:"addParticipant",actor:Nt[Jt]};break;case 63:this.$=$i.LINETYPE.SOLID_OPEN;break;case 64:this.$=$i.LINETYPE.DOTTED_OPEN;break;case 65:this.$=$i.LINETYPE.SOLID;break;case 66:this.$=$i.LINETYPE.DOTTED;break;case 67:this.$=$i.LINETYPE.SOLID_CROSS;break;case 68:this.$=$i.LINETYPE.DOTTED_CROSS;break;case 69:this.$=$i.LINETYPE.SOLID_POINT;break;case 70:this.$=$i.LINETYPE.DOTTED_POINT;break;case 71:this.$=$i.parseMessage(Nt[Jt].trim().substring(1));break;case 72:$i.parseDirective("%%{","open_directive");break;case 73:$i.parseDirective(Nt[Jt],"type_directive");break;case 74:Nt[Jt]=Nt[Jt].trim().replace(/'/g,'"'),$i.parseDirective(Nt[Jt],"arg_directive");break;case 75:$i.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:nt,5:rt,6:4,7:st,11:6,79:vt},{1:[3]},{3:8,4:nt,5:rt,6:4,7:st,11:6,79:vt},{3:9,4:nt,5:rt,6:4,7:st,11:6,79:vt},{3:10,4:nt,5:rt,6:4,7:st,11:6,79:vt},it([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],bt,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{13:49,14:[1,50],82:Ni},it([14,82],[2,73]),it(ni,[2,6]),{6:41,10:52,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},it(ni,[2,8]),it(ni,[2,9]),{17:53,69:Kt},{17:54,69:Kt},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:Kt},{17:60,69:Kt},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},it(ni,[2,28]),it(ni,[2,29]),{35:[1,66]},{37:[1,67]},it(ni,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},it(ni,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:Kt},{17:89,69:Kt},{17:90,69:Kt},{17:91,69:Kt},it([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},it(ni,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},it(ni,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},it(ni,[2,20]),{5:[1,102]},{5:[1,103]},it(ni,[2,23]),it(ni,[2,24]),it(ni,[2,25]),it(ni,[2,26]),it(ni,[2,27]),it(ni,[2,30]),it(ni,[2,31]),it(Fi,bt,{8:104}),it(Fi,bt,{8:105}),it(Fi,bt,{8:106}),it(Xi,bt,{44:107,8:108}),it(nn,bt,{46:109,8:110}),it(Ai,bt,{48:111,8:112}),it(Fi,bt,{8:113}),{17:116,67:[1,114],68:[1,115],69:Kt},it(ji,[2,63]),it(ji,[2,64]),it(ji,[2,65]),it(ji,[2,66]),it(ji,[2,67]),it(ji,[2,68]),it(ji,[2,69]),it(ji,[2,70]),{17:117,69:Kt},{17:119,57:118,69:Kt},{69:[2,57]},{69:[2,58]},{55:120,78:Ri},{55:122,78:Ri},{55:123,78:Ri},{55:124,78:Ri},it(Vi,[2,10]),{13:125,82:Ni},{82:[2,74]},{19:[1,126]},it(ni,[2,13]),{19:[1,127]},it(ni,[2,15]),{5:[1,128]},it(ni,[2,18]),it(ni,[2,19]),it(ni,[2,21]),it(ni,[2,22]),{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[1,129],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[1,130],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[1,131],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{40:[1,132]},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[2,45],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,52:[1,133],53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{40:[1,134]},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[2,43],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,51:[1,135],53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{40:[1,136]},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[2,41],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,50:[1,137],53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{4:_t,5:wt,6:41,9:14,10:16,11:6,16:Et,17:42,20:Tt,21:20,22:$t,25:Dt,26:Lt,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Ht,34:Ut,36:It,38:jt,39:Wt,40:[1,138],41:qt,42:Yt,43:ti,45:oi,47:si,49:di,53:ui,58:ci,59:hi,60:ei,61:wi,69:Kt,79:vt},{17:139,69:Kt},{17:140,69:Kt},{55:141,78:Ri},{55:142,78:Ri},{55:143,78:Ri},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},it(ni,[2,17]),it(ni,[2,33]),it(ni,[2,34]),it(ni,[2,35]),it(ni,[2,36]),{19:[1,148]},it(ni,[2,37]),{19:[1,149]},it(ni,[2,38]),{19:[1,150]},it(ni,[2,39]),{55:151,78:Ri},{55:152,78:Ri},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:Kt},it(Vi,[2,11]),it(ni,[2,12]),it(ni,[2,14]),it(Xi,bt,{8:108,44:154}),it(nn,bt,{8:110,46:155}),it(Ai,bt,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(Oi,Ii){if(Ii.recoverable)this.trace(Oi);else{var Gi=new Error(Oi);throw Gi.hash=Ii,Gi}},parse:function(Oi){var Ii=this,Gi=[0],$i=[],ii=[null],Nt=[],Qt=this.table,Jt="",Si=0,vi=0,Mi=2,_i=1,Li=Nt.slice.call(arguments,1),Ti=Object.create(this.lexer),zi={yy:{}};for(var Hi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Hi)&&(zi.yy[Hi]=this.yy[Hi]);Ti.setInput(Oi,zi.yy),zi.yy.lexer=Ti,zi.yy.parser=this,typeof Ti.yylloc>"u"&&(Ti.yylloc={});var tn=Ti.yylloc;Nt.push(tn);var qi=Ti.options&&Ti.options.ranges;typeof zi.yy.parseError=="function"?this.parseError=zi.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Wi(){var xi;return xi=$i.pop()||Ti.lex()||_i,typeof xi!="number"&&(xi instanceof Array&&($i=xi,xi=$i.pop()),xi=Ii.symbols_[xi]||xi),xi}for(var Cn,En,$n,Fn,Rn={},br,Bn,on,li;;){if(En=Gi[Gi.length-1],this.defaultActions[En]?$n=this.defaultActions[En]:((Cn===null||typeof Cn>"u")&&(Cn=Wi()),$n=Qt[En]&&Qt[En][Cn]),typeof $n>"u"||!$n.length||!$n[0]){var ai="";li=[];for(br in Qt[En])this.terminals_[br]&&br>Mi&&li.push("'"+this.terminals_[br]+"'");Ti.showPosition?ai="Parse error on line "+(Si+1)+`:
`+Ti.showPosition()+`
Expecting `+li.join(", ")+", got '"+(this.terminals_[Cn]||Cn)+"'":ai="Parse error on line "+(Si+1)+": Unexpected "+(Cn==_i?"end of input":"'"+(this.terminals_[Cn]||Cn)+"'"),this.parseError(ai,{text:Ti.match,token:this.terminals_[Cn]||Cn,line:Ti.yylineno,loc:tn,expected:li})}if($n[0]instanceof Array&&$n.length>1)throw new Error("Parse Error: multiple actions possible at state: "+En+", token: "+Cn);switch($n[0]){case 1:Gi.push(Cn),ii.push(Ti.yytext),Nt.push(Ti.yylloc),Gi.push($n[1]),Cn=null,vi=Ti.yyleng,Jt=Ti.yytext,Si=Ti.yylineno,tn=Ti.yylloc;break;case 2:if(Bn=this.productions_[$n[1]][1],Rn.$=ii[ii.length-Bn],Rn._$={first_line:Nt[Nt.length-(Bn||1)].first_line,last_line:Nt[Nt.length-1].last_line,first_column:Nt[Nt.length-(Bn||1)].first_column,last_column:Nt[Nt.length-1].last_column},qi&&(Rn._$.range=[Nt[Nt.length-(Bn||1)].range[0],Nt[Nt.length-1].range[1]]),Fn=this.performAction.apply(Rn,[Jt,vi,Si,zi.yy,$n[1],ii,Nt].concat(Li)),typeof Fn<"u")return Fn;Bn&&(Gi=Gi.slice(0,-1*Bn*2),ii=ii.slice(0,-1*Bn),Nt=Nt.slice(0,-1*Bn)),Gi.push(this.productions_[$n[1]][0]),ii.push(Rn.$),Nt.push(Rn._$),on=Qt[Gi[Gi.length-2]][Gi[Gi.length-1]],Gi.push(on);break;case 3:return!0}}return!0}},rn=function(){var bn={EOF:1,parseError:function(Ii,Gi){if(this.yy.parser)this.yy.parser.parseError(Ii,Gi);else throw new Error(Ii)},setInput:function(Oi,Ii){return this.yy=Ii||this.yy||{},this._input=Oi,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Oi=this._input[0];this.yytext+=Oi,this.yyleng++,this.offset++,this.match+=Oi,this.matched+=Oi;var Ii=Oi.match(/(?:\r\n?|\n).*/g);return Ii?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Oi},unput:function(Oi){var Ii=Oi.length,Gi=Oi.split(/(?:\r\n?|\n)/g);this._input=Oi+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ii),this.offset-=Ii;var $i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Gi.length-1&&(this.yylineno-=Gi.length-1);var ii=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Gi?(Gi.length===$i.length?this.yylloc.first_column:0)+$i[$i.length-Gi.length].length-Gi[0].length:this.yylloc.first_column-Ii},this.options.ranges&&(this.yylloc.range=[ii[0],ii[0]+this.yyleng-Ii]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Oi){this.unput(this.match.slice(Oi))},pastInput:function(){var Oi=this.matched.substr(0,this.matched.length-this.match.length);return(Oi.length>20?"...":"")+Oi.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Oi=this.match;return Oi.length<20&&(Oi+=this._input.substr(0,20-Oi.length)),(Oi.substr(0,20)+(Oi.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Oi=this.pastInput(),Ii=new Array(Oi.length+1).join("-");return Oi+this.upcomingInput()+`
`+Ii+"^"},test_match:function(Oi,Ii){var Gi,$i,ii;if(this.options.backtrack_lexer&&(ii={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(ii.yylloc.range=this.yylloc.range.slice(0))),$i=Oi[0].match(/(?:\r\n?|\n).*/g),$i&&(this.yylineno+=$i.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:$i?$i[$i.length-1].length-$i[$i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Oi[0].length},this.yytext+=Oi[0],this.match+=Oi[0],this.matches=Oi,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Oi[0].length),this.matched+=Oi[0],Gi=this.performAction.call(this,this.yy,this,Ii,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Gi)return Gi;if(this._backtrack){for(var Nt in ii)this[Nt]=ii[Nt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Oi,Ii,Gi,$i;this._more||(this.yytext="",this.match="");for(var ii=this._currentRules(),Nt=0;Nt<ii.length;Nt++)if(Gi=this._input.match(this.rules[ii[Nt]]),Gi&&(!Ii||Gi[0].length>Ii[0].length)){if(Ii=Gi,$i=Nt,this.options.backtrack_lexer){if(Oi=this.test_match(Gi,ii[Nt]),Oi!==!1)return Oi;if(this._backtrack){Ii=!1;continue}else return!1}else if(!this.options.flex)break}return Ii?(Oi=this.test_match(Ii,ii[$i]),Oi!==!1?Oi:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ii=this.next();return Ii||this.lex()},begin:function(Ii){this.conditionStack.push(Ii)},popState:function(){var Ii=this.conditionStack.length-1;return Ii>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ii){return Ii=this.conditionStack.length-1-Math.abs(Ii||0),Ii>=0?this.conditionStack[Ii]:"INITIAL"},pushState:function(Ii){this.begin(Ii)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ii,Gi,$i,ii){switch($i){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return Gi.yytext=Gi.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return Gi.yytext=Gi.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return bn}();Qi.lexer=rn;function Pi(){this.yy={}}return Pi.prototype=Qi,Qi.Parser=Pi,new Pi}();parser$2.parser=parser$2;const sequenceParser=parser$2,sequenceDetector=it=>it.match(/^\s*sequenceDiagram/)!==null;let prevActor,actors$1={},messages=[],sequenceNumbersEnabled=!1,wrapEnabled;const parseDirective$3=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},addActor=function(it,nt,rt,st){const vt=actors$1[it];vt&&nt===vt.name&&rt==null||((rt==null||rt.text==null)&&(rt={text:nt,wrap:null,type:st}),(st==null||rt.text==null)&&(rt={text:nt,wrap:null,type:st}),actors$1[it]={name:nt,description:rt.text,wrap:rt.wrap===void 0&&autoWrap()||!!rt.wrap,prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:st||"participant"},prevActor&&actors$1[prevActor]&&(actors$1[prevActor].nextActor=it),prevActor=it)},activationCount=it=>{let nt,rt=0;for(nt=0;nt<messages.length;nt++)messages[nt].type===LINETYPE.ACTIVE_START&&messages[nt].from.actor===it&&rt++,messages[nt].type===LINETYPE.ACTIVE_END&&messages[nt].from.actor===it&&rt--;return rt},addMessage=function(it,nt,rt,st){messages.push({from:it,to:nt,message:rt.text,wrap:rt.wrap===void 0&&autoWrap()||!!rt.wrap,answer:st})},addSignal=function(it,nt,rt={text:void 0,wrap:void 0},st){if(st===LINETYPE.ACTIVE_END&&activationCount(it.actor)<1){let bt=new Error("Trying to inactivate an inactive participant ("+it.actor+")");throw bt.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},bt}return messages.push({from:it,to:nt,message:rt.text,wrap:rt.wrap===void 0&&autoWrap()||!!rt.wrap,type:st}),!0},getMessages=function(){return messages},getActors$1=function(){return actors$1},getActor=function(it){return actors$1[it]},getActorKeys=function(){return Object.keys(actors$1)},enableSequenceNumbers=function(){sequenceNumbersEnabled=!0},disableSequenceNumbers=function(){sequenceNumbersEnabled=!1},showSequenceNumbers=()=>sequenceNumbersEnabled,setWrap=function(it){wrapEnabled=it},autoWrap=()=>wrapEnabled!==void 0?wrapEnabled:getConfig$1().sequence.wrap,clear$2=function(){actors$1={},messages=[],sequenceNumbersEnabled=!1,clear$g()},parseMessage=function(it){const nt=it.trim(),rt={text:nt.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:nt.match(/^:?wrap:/)!==null?!0:nt.match(/^:?nowrap:/)!==null?!1:void 0};return log$1.debug("parseMessage:",rt),rt},LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},ARROWTYPE={FILLED:0,OPEN:1},PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},addNote=function(it,nt,rt){rt.text,rt.wrap===void 0&&autoWrap()||rt.wrap;const st=[].concat(it,it);messages.push({from:st[0],to:st[1],message:rt.text,wrap:rt.wrap===void 0&&autoWrap()||!!rt.wrap,type:LINETYPE.NOTE,placement:nt})},addLinks=function(it,nt){const rt=getActor(it);try{let st=sanitizeText$5(nt.text,getConfig$1());st=st.replace(/&amp;/g,"&"),st=st.replace(/&equals;/g,"=");const vt=JSON.parse(st);insertLinks(rt,vt)}catch(st){log$1.error("error while parsing actor link text",st)}},addALink=function(it,nt){const rt=getActor(it);try{const _t={};let wt=sanitizeText$5(nt.text,getConfig$1());var st=wt.indexOf("@");wt=wt.replace(/&amp;/g,"&"),wt=wt.replace(/&equals;/g,"=");var vt=wt.slice(0,st-1).trim(),bt=wt.slice(st+1).trim();_t[vt]=bt,insertLinks(rt,_t)}catch(_t){log$1.error("error while parsing actor link text",_t)}};function insertLinks(it,nt){if(it.links==null)it.links=nt;else for(let rt in nt)it.links[rt]=nt[rt]}const addProperties=function(it,nt){const rt=getActor(it);try{let st=sanitizeText$5(nt.text,getConfig$1());const vt=JSON.parse(st);insertProperties(rt,vt)}catch(st){log$1.error("error while parsing actor properties text",st)}};function insertProperties(it,nt){if(it.properties==null)it.properties=nt;else for(let rt in nt)it.properties[rt]=nt[rt]}const addDetails=function(it,nt){const rt=getActor(it),st=document.getElementById(nt.text);try{const vt=st.innerHTML,bt=JSON.parse(vt);bt.properties&&insertProperties(rt,bt.properties),bt.links&&insertLinks(rt,bt.links)}catch(vt){log$1.error("error while parsing actor details text",vt)}},getActorProperty=function(it,nt){if(it!==void 0&&it.properties!==void 0)return it.properties[nt]},apply=function(it){if(Array.isArray(it))it.forEach(function(nt){apply(nt)});else switch(it.type){case"sequenceIndex":messages.push({from:void 0,to:void 0,message:{start:it.sequenceIndex,step:it.sequenceIndexStep,visible:it.sequenceVisible},wrap:!1,type:it.signalType});break;case"addParticipant":addActor(it.actor,it.actor,it.description,"participant");break;case"addActor":addActor(it.actor,it.actor,it.description,"actor");break;case"activeStart":addSignal(it.actor,void 0,void 0,it.signalType);break;case"activeEnd":addSignal(it.actor,void 0,void 0,it.signalType);break;case"addNote":addNote(it.actor,it.placement,it.text);break;case"addLinks":addLinks(it.actor,it.text);break;case"addALink":addALink(it.actor,it.text);break;case"addProperties":addProperties(it.actor,it.text);break;case"addDetails":addDetails(it.actor,it.text);break;case"addMessage":addSignal(it.from,it.to,it.msg,it.signalType);break;case"loopStart":addSignal(void 0,void 0,it.loopText,it.signalType);break;case"loopEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"rectStart":addSignal(void 0,void 0,it.color,it.signalType);break;case"rectEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"optStart":addSignal(void 0,void 0,it.optText,it.signalType);break;case"optEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"altStart":addSignal(void 0,void 0,it.altText,it.signalType);break;case"else":addSignal(void 0,void 0,it.altText,it.signalType);break;case"altEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"setAccTitle":setAccTitle(it.text);break;case"parStart":addSignal(void 0,void 0,it.parText,it.signalType);break;case"and":addSignal(void 0,void 0,it.parText,it.signalType);break;case"parEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"criticalStart":addSignal(void 0,void 0,it.criticalText,it.signalType);break;case"option":addSignal(void 0,void 0,it.optionText,it.signalType);break;case"criticalEnd":addSignal(void 0,void 0,void 0,it.signalType);break;case"breakStart":addSignal(void 0,void 0,it.breakText,it.signalType);break;case"breakEnd":addSignal(void 0,void 0,void 0,it.signalType);break}},sequenceDb={addActor,addMessage,addSignal,addLinks,addDetails,addProperties,autoWrap,setWrap,enableSequenceNumbers,disableSequenceNumbers,showSequenceNumbers,getMessages,getActors:getActors$1,getActor,getActorKeys,getActorProperty,getAccTitle,getDiagramTitle,setDiagramTitle,parseDirective:parseDirective$3,getConfig:()=>getConfig$1().sequence,clear:clear$2,parseMessage,LINETYPE,ARROWTYPE,PLACEMENT,addNote,setAccTitle,apply,setAccDescription,getAccDescription};let interactionFunctions=[];const addFunction=it=>{interactionFunctions.push(it)},attachFunctions=()=>{interactionFunctions.forEach(it=>{it()}),interactionFunctions=[]},drawRect$1=function(it,nt){const rt=it.append("rect");return rt.attr("x",nt.x),rt.attr("y",nt.y),rt.attr("fill",nt.fill),rt.attr("stroke",nt.stroke),rt.attr("width",nt.width),rt.attr("height",nt.height),rt.attr("rx",nt.rx),rt.attr("ry",nt.ry),nt.class!==void 0&&rt.attr("class",nt.class),rt},addPopupInteraction=(it,nt)=>{addFunction(()=>{const rt=document.querySelectorAll(it);rt.length!==0&&(rt[0].addEventListener("mouseover",function(){popupMenuUpFunc("actor"+nt+"_popup")}),rt[0].addEventListener("mouseout",function(){popupMenuDownFunc("actor"+nt+"_popup")}))})},drawPopup=function(it,nt,rt,st,vt){if(nt.links===void 0||nt.links===null||Object.keys(nt.links).length===0)return{height:0,width:0};const bt=nt.links,_t=nt.actorCnt,wt=nt.rectData;var Et="none";vt&&(Et="block !important");const Tt=it.append("g");Tt.attr("id","actor"+_t+"_popup"),Tt.attr("class","actorPopupMenu"),Tt.attr("display",Et),addPopupInteraction("#actor"+_t+"_popup",_t);var $t="";wt.class!==void 0&&($t=" "+wt.class);let Dt=wt.width>rt?wt.width:rt;const Lt=Tt.append("rect");if(Lt.attr("class","actorPopupMenuPanel"+$t),Lt.attr("x",wt.x),Lt.attr("y",wt.height),Lt.attr("fill",wt.fill),Lt.attr("stroke",wt.stroke),Lt.attr("width",Dt),Lt.attr("height",wt.height),Lt.attr("rx",wt.rx),Lt.attr("ry",wt.ry),bt!=null){var Bt=20;for(let It in bt){var Ht=Tt.append("a"),Ut=sanitizeUrl_1(bt[It]);Ht.attr("xlink:href",Ut),Ht.attr("target","_blank"),_drawMenuItemTextCandidateFunc(st)(It,Ht,wt.x+10,wt.height+Bt,Dt,20,{class:"actor"},st),Bt+=30}}return Lt.attr("height",Bt),{height:wt.height+Bt,width:Dt}},drawImage=function(it,nt,rt,st){const vt=it.append("image");vt.attr("x",nt),vt.attr("y",rt);var bt=sanitizeUrl_1(st);vt.attr("xlink:href",bt)},drawEmbeddedImage=function(it,nt,rt,st){const vt=it.append("use");vt.attr("x",nt),vt.attr("y",rt);var bt=sanitizeUrl_1(st);vt.attr("xlink:href","#"+bt)},popupMenu=function(it){return"var pu = document.getElementById('"+it+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu=function(it){return"var pu = document.getElementById('"+it+"'); if (pu != null) { pu.style.display = 'none'; }"},popupMenuUpFunc=function(it){var nt=document.getElementById(it);nt!=null&&(nt.style.display="block")},popupMenuDownFunc=function(it){var nt=document.getElementById(it);nt!=null&&(nt.style.display="none")},drawText$1=function(it,nt){let rt=0,st=0;const vt=nt.text.split(common$1.lineBreakRegex);let bt=[],_t=0,wt=()=>nt.y;if(nt.valign!==void 0&&nt.textMargin!==void 0&&nt.textMargin>0)switch(nt.valign){case"top":case"start":wt=()=>Math.round(nt.y+nt.textMargin);break;case"middle":case"center":wt=()=>Math.round(nt.y+(rt+st+nt.textMargin)/2);break;case"bottom":case"end":wt=()=>Math.round(nt.y+(rt+st+2*nt.textMargin)-nt.textMargin);break}if(nt.anchor!==void 0&&nt.textMargin!==void 0&&nt.width!==void 0)switch(nt.anchor){case"left":case"start":nt.x=Math.round(nt.x+nt.textMargin),nt.anchor="start",nt.dominantBaseline="middle",nt.alignmentBaseline="middle";break;case"middle":case"center":nt.x=Math.round(nt.x+nt.width/2),nt.anchor="middle",nt.dominantBaseline="middle",nt.alignmentBaseline="middle";break;case"right":case"end":nt.x=Math.round(nt.x+nt.width-nt.textMargin),nt.anchor="end",nt.dominantBaseline="middle",nt.alignmentBaseline="middle";break}for(let[Et,Tt]of vt.entries()){nt.textMargin!==void 0&&nt.textMargin===0&&nt.fontSize!==void 0&&(_t=Et*nt.fontSize);const $t=it.append("text");if($t.attr("x",nt.x),$t.attr("y",wt()),nt.anchor!==void 0&&$t.attr("text-anchor",nt.anchor).attr("dominant-baseline",nt.dominantBaseline).attr("alignment-baseline",nt.alignmentBaseline),nt.fontFamily!==void 0&&$t.style("font-family",nt.fontFamily),nt.fontSize!==void 0&&$t.style("font-size",nt.fontSize),nt.fontWeight!==void 0&&$t.style("font-weight",nt.fontWeight),nt.fill!==void 0&&$t.attr("fill",nt.fill),nt.class!==void 0&&$t.attr("class",nt.class),nt.dy!==void 0?$t.attr("dy",nt.dy):_t!==0&&$t.attr("dy",_t),nt.tspan){const Dt=$t.append("tspan");Dt.attr("x",nt.x),nt.fill!==void 0&&Dt.attr("fill",nt.fill),Dt.text(Tt)}else $t.text(Tt);nt.valign!==void 0&&nt.textMargin!==void 0&&nt.textMargin>0&&(st+=($t._groups||$t)[0][0].getBBox().height,rt=st),bt.push($t)}return bt},drawLabel$1=function(it,nt){function rt(vt,bt,_t,wt,Et){return vt+","+bt+" "+(vt+_t)+","+bt+" "+(vt+_t)+","+(bt+wt-Et)+" "+(vt+_t-Et*1.2)+","+(bt+wt)+" "+vt+","+(bt+wt)}const st=it.append("polygon");return st.attr("points",rt(nt.x,nt.y,nt.width,nt.height,7)),st.attr("class","labelBox"),nt.y=nt.y+nt.height/2,drawText$1(it,nt),st};let actorCnt=-1;const fixLifeLineHeights=(it,nt)=>{!it.selectAll||it.selectAll(".actor-line").attr("class","200").attr("y2",nt-55)},drawActorTypeParticipant=function(it,nt,rt){const st=nt.x+nt.width/2,vt=it.append("g");var bt=vt;nt.y===0&&(actorCnt++,bt.append("line").attr("id","actor"+actorCnt).attr("x1",st).attr("y1",5).attr("x2",st).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),bt=vt.append("g"),nt.actorCnt=actorCnt,nt.links!=null&&(bt.attr("id","root-"+actorCnt),addPopupInteraction("#root-"+actorCnt,actorCnt)));const _t=getNoteRect$1();var wt="actor";nt.properties!=null&&nt.properties.class?wt=nt.properties.class:_t.fill="#eaeaea",_t.x=nt.x,_t.y=nt.y,_t.width=nt.width,_t.height=nt.height,_t.class=wt,_t.rx=3,_t.ry=3;const Et=drawRect$1(bt,_t);if(nt.rectData=_t,nt.properties!=null&&nt.properties.icon){const $t=nt.properties.icon.trim();$t.charAt(0)==="@"?drawEmbeddedImage(bt,_t.x+_t.width-20,_t.y+10,$t.substr(1)):drawImage(bt,_t.x+_t.width-20,_t.y+10,$t)}_drawTextCandidateFunc$1(rt)(nt.description,bt,_t.x,_t.y,_t.width,_t.height,{class:"actor"},rt);let Tt=nt.height;if(Et.node){const $t=Et.node().getBBox();nt.height=$t.height,Tt=$t.height}return Tt},drawActorTypeActor=function(it,nt,rt){const st=nt.x+nt.width/2;nt.y===0&&(actorCnt++,it.append("line").attr("id","actor"+actorCnt).attr("x1",st).attr("y1",80).attr("x2",st).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const vt=it.append("g");vt.attr("class","actor-man");const bt=getNoteRect$1();bt.x=nt.x,bt.y=nt.y,bt.fill="#eaeaea",bt.width=nt.width,bt.height=nt.height,bt.class="actor",bt.rx=3,bt.ry=3,vt.append("line").attr("id","actor-man-torso"+actorCnt).attr("x1",st).attr("y1",nt.y+25).attr("x2",st).attr("y2",nt.y+45),vt.append("line").attr("id","actor-man-arms"+actorCnt).attr("x1",st-18).attr("y1",nt.y+33).attr("x2",st+18).attr("y2",nt.y+33),vt.append("line").attr("x1",st-18).attr("y1",nt.y+60).attr("x2",st).attr("y2",nt.y+45),vt.append("line").attr("x1",st).attr("y1",nt.y+45).attr("x2",st+16).attr("y2",nt.y+60);const _t=vt.append("circle");_t.attr("cx",nt.x+nt.width/2),_t.attr("cy",nt.y+10),_t.attr("r",15),_t.attr("width",nt.width),_t.attr("height",nt.height);const wt=vt.node().getBBox();return nt.height=wt.height,_drawTextCandidateFunc$1(rt)(nt.description,vt,bt.x,bt.y+35,bt.width,bt.height,{class:"actor"},rt),nt.height},drawActor=function(it,nt,rt){switch(nt.type){case"actor":return drawActorTypeActor(it,nt,rt);case"participant":return drawActorTypeParticipant(it,nt,rt)}},anchorElement=function(it){return it.append("g")},drawActivation=function(it,nt,rt,st,vt){const bt=getNoteRect$1(),_t=nt.anchored;bt.x=nt.startx,bt.y=nt.starty,bt.class="activation"+vt%3,bt.width=nt.stopx-nt.startx,bt.height=rt-nt.starty,drawRect$1(_t,bt)},drawLoop=function(it,nt,rt,st){const{boxMargin:vt,boxTextMargin:bt,labelBoxHeight:_t,labelBoxWidth:wt,messageFontFamily:Et,messageFontSize:Tt,messageFontWeight:$t}=st,Dt=it.append("g"),Lt=function(Ut,It,jt,Wt){return Dt.append("line").attr("x1",Ut).attr("y1",It).attr("x2",jt).attr("y2",Wt).attr("class","loopLine")};Lt(nt.startx,nt.starty,nt.stopx,nt.starty),Lt(nt.stopx,nt.starty,nt.stopx,nt.stopy),Lt(nt.startx,nt.stopy,nt.stopx,nt.stopy),Lt(nt.startx,nt.starty,nt.startx,nt.stopy),nt.sections!==void 0&&nt.sections.forEach(function(Ut){Lt(nt.startx,Ut.y,nt.stopx,Ut.y).style("stroke-dasharray","3, 3")});let Bt=getTextObj$1();Bt.text=rt,Bt.x=nt.startx,Bt.y=nt.starty,Bt.fontFamily=Et,Bt.fontSize=Tt,Bt.fontWeight=$t,Bt.anchor="middle",Bt.valign="middle",Bt.tspan=!1,Bt.width=wt||50,Bt.height=_t||20,Bt.textMargin=bt,Bt.class="labelText",drawLabel$1(Dt,Bt),Bt=getTextObj$1(),Bt.text=nt.title,Bt.x=nt.startx+wt/2+(nt.stopx-nt.startx)/2,Bt.y=nt.starty+vt+bt,Bt.anchor="middle",Bt.valign="middle",Bt.textMargin=bt,Bt.class="loopText",Bt.fontFamily=Et,Bt.fontSize=Tt,Bt.fontWeight=$t,Bt.wrap=!0;let Ht=drawText$1(Dt,Bt);return nt.sectionTitles!==void 0&&nt.sectionTitles.forEach(function(Ut,It){if(Ut.message){Bt.text=Ut.message,Bt.x=nt.startx+(nt.stopx-nt.startx)/2,Bt.y=nt.sections[It].y+vt+bt,Bt.class="loopText",Bt.anchor="middle",Bt.valign="middle",Bt.tspan=!1,Bt.fontFamily=Et,Bt.fontSize=Tt,Bt.fontWeight=$t,Bt.wrap=nt.wrap,Ht=drawText$1(Dt,Bt);let jt=Math.round(Ht.map(Wt=>(Wt._groups||Wt)[0][0].getBBox().height).reduce((Wt,qt)=>Wt+qt));nt.sections[It].height+=jt-(vt+bt)}}),nt.height=Math.round(nt.stopy-nt.starty),Dt},drawBackgroundRect$1=function(it,nt){drawRect$1(it,{x:nt.startx,y:nt.starty,width:nt.stopx-nt.startx,height:nt.stopy-nt.starty,fill:nt.fill,class:"rect"}).lower()},insertDatabaseIcon=function(it){it.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon=function(it){it.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon=function(it){it.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead=function(it){it.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead=function(it){it.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber=function(it){it.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead=function(it){it.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},getTextObj$1=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect$1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc$1=function(){function it(vt,bt,_t,wt,Et,Tt,$t){const Dt=bt.append("text").attr("x",_t+Et/2).attr("y",wt+Tt/2+5).style("text-anchor","middle").text(vt);st(Dt,$t)}function nt(vt,bt,_t,wt,Et,Tt,$t,Dt){const{actorFontSize:Lt,actorFontFamily:Bt,actorFontWeight:Ht}=Dt;let Ut=Lt&&Lt.replace?Lt.replace("px",""):Lt;const It=vt.split(common$1.lineBreakRegex);for(let jt=0;jt<It.length;jt++){const Wt=jt*Ut-Ut*(It.length-1)/2,qt=bt.append("text").attr("x",_t+Et/2).attr("y",wt).style("text-anchor","middle").style("font-size",Lt).style("font-weight",Ht).style("font-family",Bt);qt.append("tspan").attr("x",_t+Et/2).attr("dy",Wt).text(It[jt]),qt.attr("y",wt+Tt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(qt,$t)}}function rt(vt,bt,_t,wt,Et,Tt,$t,Dt){const Lt=bt.append("switch"),Ht=Lt.append("foreignObject").attr("x",_t).attr("y",wt).attr("width",Et).attr("height",Tt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ht.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(vt),nt(vt,Lt,_t,wt,Et,Tt,$t,Dt),st(Ht,$t)}function st(vt,bt){for(const _t in bt)bt.hasOwnProperty(_t)&&vt.attr(_t,bt[_t])}return function(vt){return vt.textPlacement==="fo"?rt:vt.textPlacement==="old"?it:nt}}(),_drawMenuItemTextCandidateFunc=function(){function it(vt,bt,_t,wt,Et,Tt,$t){const Dt=bt.append("text").attr("x",_t).attr("y",wt).style("text-anchor","start").text(vt);st(Dt,$t)}function nt(vt,bt,_t,wt,Et,Tt,$t,Dt){const{actorFontSize:Lt,actorFontFamily:Bt,actorFontWeight:Ht}=Dt,Ut=vt.split(common$1.lineBreakRegex);for(let It=0;It<Ut.length;It++){const jt=It*Lt-Lt*(Ut.length-1)/2,Wt=bt.append("text").attr("x",_t).attr("y",wt).style("text-anchor","start").style("font-size",Lt).style("font-weight",Ht).style("font-family",Bt);Wt.append("tspan").attr("x",_t).attr("dy",jt).text(Ut[It]),Wt.attr("y",wt+Tt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(Wt,$t)}}function rt(vt,bt,_t,wt,Et,Tt,$t,Dt){const Lt=bt.append("switch"),Ht=Lt.append("foreignObject").attr("x",_t).attr("y",wt).attr("width",Et).attr("height",Tt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ht.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(vt),nt(vt,Lt,_t,wt,Et,Tt,$t,Dt),st(Ht,$t)}function st(vt,bt){for(const _t in bt)bt.hasOwnProperty(_t)&&vt.attr(_t,bt[_t])}return function(vt){return vt.textPlacement==="fo"?rt:vt.textPlacement==="old"?it:nt}}(),svgDraw$1={drawRect:drawRect$1,drawText:drawText$1,drawLabel:drawLabel$1,drawActor,drawPopup,drawImage,drawEmbeddedImage,anchorElement,drawActivation,drawLoop,drawBackgroundRect:drawBackgroundRect$1,insertArrowHead,insertArrowFilledHead,insertSequenceNumber,insertArrowCrossHead,insertDatabaseIcon,insertComputerIcon,insertClockIcon,getTextObj:getTextObj$1,getNoteRect:getNoteRect$1,popupMenu,popdownMenu,fixLifeLineHeights,sanitizeUrl:sanitizeUrl_1};let conf$3={};const bounds$1={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(it=>it.height||0))+(this.loops.length===0?0:this.loops.map(it=>it.height||0).reduce((it,nt)=>it+nt))+(this.messages.length===0?0:this.messages.map(it=>it.height||0).reduce((it,nt)=>it+nt))+(this.notes.length===0?0:this.notes.map(it=>it.height||0).reduce((it,nt)=>it+nt))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(it){this.actors.push(it)},addLoop:function(it){this.loops.push(it)},addMessage:function(it){this.messages.push(it)},addNote:function(it){this.notes.push(it)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,setConf$4(getConfig$1())},updateVal:function(it,nt,rt,st){it[nt]===void 0?it[nt]=rt:it[nt]=st(rt,it[nt])},updateBounds:function(it,nt,rt,st){const vt=this;let bt=0;function _t(wt){return function(Tt){bt++;const $t=vt.sequenceItems.length-bt+1;vt.updateVal(Tt,"starty",nt-$t*conf$3.boxMargin,Math.min),vt.updateVal(Tt,"stopy",st+$t*conf$3.boxMargin,Math.max),vt.updateVal(bounds$1.data,"startx",it-$t*conf$3.boxMargin,Math.min),vt.updateVal(bounds$1.data,"stopx",rt+$t*conf$3.boxMargin,Math.max),wt!=="activation"&&(vt.updateVal(Tt,"startx",it-$t*conf$3.boxMargin,Math.min),vt.updateVal(Tt,"stopx",rt+$t*conf$3.boxMargin,Math.max),vt.updateVal(bounds$1.data,"starty",nt-$t*conf$3.boxMargin,Math.min),vt.updateVal(bounds$1.data,"stopy",st+$t*conf$3.boxMargin,Math.max))}}this.sequenceItems.forEach(_t()),this.activations.forEach(_t("activation"))},insert:function(it,nt,rt,st){const vt=Math.min(it,rt),bt=Math.max(it,rt),_t=Math.min(nt,st),wt=Math.max(nt,st);this.updateVal(bounds$1.data,"startx",vt,Math.min),this.updateVal(bounds$1.data,"starty",_t,Math.min),this.updateVal(bounds$1.data,"stopx",bt,Math.max),this.updateVal(bounds$1.data,"stopy",wt,Math.max),this.updateBounds(vt,_t,bt,wt)},newActivation:function(it,nt,rt){const st=rt[it.from.actor],vt=actorActivations(it.from.actor).length||0,bt=st.x+st.width/2+(vt-1)*conf$3.activationWidth/2;this.activations.push({startx:bt,starty:this.verticalPos+2,stopx:bt+conf$3.activationWidth,stopy:void 0,actor:it.from.actor,anchored:svgDraw$1.anchorElement(nt)})},endActivation:function(it){const nt=this.activations.map(function(rt){return rt.actor}).lastIndexOf(it.from.actor);return this.activations.splice(nt,1)[0]},createLoop:function(it={message:void 0,wrap:!1,width:void 0},nt){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:it.message,wrap:it.wrap,width:it.width,height:0,fill:nt}},newLoop:function(it={message:void 0,wrap:!1,width:void 0},nt){this.sequenceItems.push(this.createLoop(it,nt))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(it){const nt=this.sequenceItems.pop();nt.sections=nt.sections||[],nt.sectionTitles=nt.sectionTitles||[],nt.sections.push({y:bounds$1.getVerticalPos(),height:0}),nt.sectionTitles.push(it),this.sequenceItems.push(nt)},bumpVerticalPos:function(it){this.verticalPos=this.verticalPos+it,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},drawNote$1=function(it,nt){bounds$1.bumpVerticalPos(conf$3.boxMargin),nt.height=conf$3.boxMargin,nt.starty=bounds$1.getVerticalPos();const rt=svgDraw$1.getNoteRect();rt.x=nt.startx,rt.y=nt.starty,rt.width=nt.width||conf$3.width,rt.class="note";const st=it.append("g"),vt=svgDraw$1.drawRect(st,rt),bt=svgDraw$1.getTextObj();bt.x=nt.startx,bt.y=nt.starty,bt.width=rt.width,bt.dy="1em",bt.text=nt.message,bt.class="noteText",bt.fontFamily=conf$3.noteFontFamily,bt.fontSize=conf$3.noteFontSize,bt.fontWeight=conf$3.noteFontWeight,bt.anchor=conf$3.noteAlign,bt.textMargin=conf$3.noteMargin,bt.valign="center";const _t=drawText$1(st,bt),wt=Math.round(_t.map(Et=>(Et._groups||Et)[0][0].getBBox().height).reduce((Et,Tt)=>Et+Tt));vt.attr("height",wt+2*conf$3.noteMargin),nt.height+=wt+2*conf$3.noteMargin,bounds$1.bumpVerticalPos(wt+2*conf$3.noteMargin),nt.stopy=nt.starty+wt+2*conf$3.noteMargin,nt.stopx=nt.startx+rt.width,bounds$1.insert(nt.startx,nt.starty,nt.stopx,nt.stopy),bounds$1.models.addNote(nt)},messageFont=it=>({fontFamily:it.messageFontFamily,fontSize:it.messageFontSize,fontWeight:it.messageFontWeight}),noteFont=it=>({fontFamily:it.noteFontFamily,fontSize:it.noteFontSize,fontWeight:it.noteFontWeight}),actorFont=it=>({fontFamily:it.actorFontFamily,fontSize:it.actorFontSize,fontWeight:it.actorFontWeight});function boundMessage(it,nt){bounds$1.bumpVerticalPos(10);const{startx:rt,stopx:st,message:vt}=nt,bt=common$1.splitBreaks(vt).length,_t=utils.calculateTextDimensions(vt,messageFont(conf$3)),wt=_t.height/bt;nt.height+=wt,bounds$1.bumpVerticalPos(wt);let Et,Tt=_t.height-10;const $t=_t.width;if(rt===st){Et=bounds$1.getVerticalPos()+Tt,conf$3.rightAngles||(Tt+=conf$3.boxMargin,Et=bounds$1.getVerticalPos()+Tt),Tt+=30;const Dt=Math.max($t/2,conf$3.width/2);bounds$1.insert(rt-Dt,bounds$1.getVerticalPos()-10+Tt,st+Dt,bounds$1.getVerticalPos()+30+Tt)}else Tt+=conf$3.boxMargin,Et=bounds$1.getVerticalPos()+Tt,bounds$1.insert(rt,Et-10,st,Et);return bounds$1.bumpVerticalPos(Tt),nt.height+=Tt,nt.stopy=nt.starty+nt.height,bounds$1.insert(nt.fromBounds,nt.starty,nt.toBounds,nt.stopy),Et}const drawMessage=function(it,nt,rt,st){const{startx:vt,stopx:bt,starty:_t,message:wt,type:Et,sequenceIndex:Tt,sequenceVisible:$t}=nt,Dt=utils.calculateTextDimensions(wt,messageFont(conf$3)),Lt=svgDraw$1.getTextObj();Lt.x=vt,Lt.y=_t+10,Lt.width=bt-vt,Lt.class="messageText",Lt.dy="1em",Lt.text=wt,Lt.fontFamily=conf$3.messageFontFamily,Lt.fontSize=conf$3.messageFontSize,Lt.fontWeight=conf$3.messageFontWeight,Lt.anchor=conf$3.messageAlign,Lt.valign="center",Lt.textMargin=conf$3.wrapPadding,Lt.tspan=!1,drawText$1(it,Lt);const Bt=Dt.width;let Ht;vt===bt?conf$3.rightAngles?Ht=it.append("path").attr("d",`M  ${vt},${rt} H ${vt+Math.max(conf$3.width/2,Bt/2)} V ${rt+25} H ${vt}`):Ht=it.append("path").attr("d","M "+vt+","+rt+" C "+(vt+60)+","+(rt-10)+" "+(vt+60)+","+(rt+30)+" "+vt+","+(rt+20)):(Ht=it.append("line"),Ht.attr("x1",vt),Ht.attr("y1",rt),Ht.attr("x2",bt),Ht.attr("y2",rt)),Et===st.db.LINETYPE.DOTTED||Et===st.db.LINETYPE.DOTTED_CROSS||Et===st.db.LINETYPE.DOTTED_POINT||Et===st.db.LINETYPE.DOTTED_OPEN?(Ht.style("stroke-dasharray","3, 3"),Ht.attr("class","messageLine1")):Ht.attr("class","messageLine0");let Ut="";conf$3.arrowMarkerAbsolute&&(Ut=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Ut=Ut.replace(/\(/g,"\\("),Ut=Ut.replace(/\)/g,"\\)")),Ht.attr("stroke-width",2),Ht.attr("stroke","none"),Ht.style("fill","none"),(Et===st.db.LINETYPE.SOLID||Et===st.db.LINETYPE.DOTTED)&&Ht.attr("marker-end","url("+Ut+"#arrowhead)"),(Et===st.db.LINETYPE.SOLID_POINT||Et===st.db.LINETYPE.DOTTED_POINT)&&Ht.attr("marker-end","url("+Ut+"#filled-head)"),(Et===st.db.LINETYPE.SOLID_CROSS||Et===st.db.LINETYPE.DOTTED_CROSS)&&Ht.attr("marker-end","url("+Ut+"#crosshead)"),($t||conf$3.showSequenceNumbers)&&(Ht.attr("marker-start","url("+Ut+"#sequencenumber)"),it.append("text").attr("x",vt).attr("y",rt+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(Tt))},drawActors=function(it,nt,rt,st,vt,bt){if(vt.hideUnusedParticipants===!0){const Tt=new Set;bt.forEach($t=>{Tt.add($t.from),Tt.add($t.to)}),rt=rt.filter($t=>Tt.has($t))}let _t=0,wt=0,Et=0;for(const Tt of rt){const $t=nt[Tt];$t.width=$t.width||conf$3.width,$t.height=Math.max($t.height||conf$3.height,conf$3.height),$t.margin=$t.margin||conf$3.actorMargin,$t.x=_t+wt,$t.y=st;const Dt=svgDraw$1.drawActor(it,$t,conf$3);Et=Math.max(Et,Dt),bounds$1.insert($t.x,st,$t.x+$t.width,$t.height),_t+=$t.width,wt+=$t.margin,bounds$1.models.addActor($t)}bounds$1.bumpVerticalPos(Et)},drawActorsPopup=function(it,nt,rt,st){let vt=0,bt=0;for(const _t of rt){const wt=nt[_t],Et=getRequiredPopupWidth(wt),Tt=svgDraw$1.drawPopup(it,wt,Et,conf$3,conf$3.forceMenus,st);Tt.height>vt&&(vt=Tt.height),Tt.width+wt.x>bt&&(bt=Tt.width+wt.x)}return{maxHeight:vt,maxWidth:bt}},setConf$4=function(it){assignWithDepth$1(conf$3,it),it.fontFamily&&(conf$3.actorFontFamily=conf$3.noteFontFamily=conf$3.messageFontFamily=it.fontFamily),it.fontSize&&(conf$3.actorFontSize=conf$3.noteFontSize=conf$3.messageFontSize=it.fontSize),it.fontWeight&&(conf$3.actorFontWeight=conf$3.noteFontWeight=conf$3.messageFontWeight=it.fontWeight)},actorActivations=function(it){return bounds$1.activations.filter(function(nt){return nt.actor===it})},activationBounds=function(it,nt){const rt=nt[it],st=actorActivations(it),vt=st.reduce(function(_t,wt){return Math.min(_t,wt.startx)},rt.x+rt.width/2),bt=st.reduce(function(_t,wt){return Math.max(_t,wt.stopx)},rt.x+rt.width/2);return[vt,bt]};function adjustLoopHeightForWrap(it,nt,rt,st,vt){bounds$1.bumpVerticalPos(rt);let bt=st;if(nt.id&&nt.message&&it[nt.id]){const _t=it[nt.id].width,wt=messageFont(conf$3);nt.message=utils.wrapLabel(`[${nt.message}]`,_t-2*conf$3.wrapPadding,wt),nt.width=_t,nt.wrap=!0;const Et=utils.calculateTextDimensions(nt.message,wt),Tt=Math.max(Et.height,conf$3.labelBoxHeight);bt=st+Tt,log$1.debug(`${Tt} - ${nt.message}`)}vt(nt),bounds$1.bumpVerticalPos(bt)}const draw$4=function(it,nt,rt,st){const{securityLevel:vt,sequence:bt}=getConfig$1();conf$3=bt;let _t;vt==="sandbox"&&(_t=select("#i"+nt));const wt=select(vt==="sandbox"?_t.nodes()[0].contentDocument.body:"body"),Et=vt==="sandbox"?_t.nodes()[0].contentDocument:document;bounds$1.init(),log$1.debug(st.db);const Tt=vt==="sandbox"?wt.select(`[id="${nt}"]`):select(`[id="${nt}"]`),$t=st.db.getActors(),Dt=st.db.getActorKeys(),Lt=st.db.getMessages(),Bt=st.db.getDiagramTitle(),Ht=getMaxMessageWidthPerActor($t,Lt,st);conf$3.height=calculateActorMargins($t,Ht),svgDraw$1.insertComputerIcon(Tt),svgDraw$1.insertDatabaseIcon(Tt),svgDraw$1.insertClockIcon(Tt),drawActors(Tt,$t,Dt,0,conf$3,Lt);const Ut=calculateLoopBounds(Lt,$t,Ht,st);svgDraw$1.insertArrowHead(Tt),svgDraw$1.insertArrowCrossHead(Tt),svgDraw$1.insertArrowFilledHead(Tt),svgDraw$1.insertSequenceNumber(Tt);function It(ei,wi){const Kt=bounds$1.endActivation(ei);Kt.starty+18>wi&&(Kt.starty=wi-6,wi+=12),svgDraw$1.drawActivation(Tt,Kt,wi,conf$3,actorActivations(ei.from.actor).length),bounds$1.insert(Kt.startx,wi-10,Kt.stopx,wi)}let jt=1,Wt=1;const qt=[];Lt.forEach(function(ei){let wi,Kt,Ni;switch(ei.type){case st.db.LINETYPE.NOTE:Kt=ei.noteModel,drawNote$1(Tt,Kt);break;case st.db.LINETYPE.ACTIVE_START:bounds$1.newActivation(ei,Tt,$t);break;case st.db.LINETYPE.ACTIVE_END:It(ei,bounds$1.getVerticalPos());break;case st.db.LINETYPE.LOOP_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.LOOP_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"loop",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;case st.db.LINETYPE.RECT_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin,ni=>bounds$1.newLoop(void 0,ni.message));break;case st.db.LINETYPE.RECT_END:wi=bounds$1.endLoop(),svgDraw$1.drawBackgroundRect(Tt,wi),bounds$1.models.addLoop(wi),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos());break;case st.db.LINETYPE.OPT_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.OPT_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"opt",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;case st.db.LINETYPE.ALT_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.ALT_ELSE:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,ni=>bounds$1.addSectionToLoop(ni));break;case st.db.LINETYPE.ALT_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"alt",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;case st.db.LINETYPE.PAR_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.PAR_AND:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,ni=>bounds$1.addSectionToLoop(ni));break;case st.db.LINETYPE.PAR_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"par",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;case st.db.LINETYPE.AUTONUMBER:jt=ei.message.start||jt,Wt=ei.message.step||Wt,ei.message.visible?st.db.enableSequenceNumbers():st.db.disableSequenceNumbers();break;case st.db.LINETYPE.CRITICAL_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.CRITICAL_OPTION:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,ni=>bounds$1.addSectionToLoop(ni));break;case st.db.LINETYPE.CRITICAL_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"critical",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;case st.db.LINETYPE.BREAK_START:adjustLoopHeightForWrap(Ut,ei,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,ni=>bounds$1.newLoop(ni));break;case st.db.LINETYPE.BREAK_END:wi=bounds$1.endLoop(),svgDraw$1.drawLoop(Tt,wi,"break",conf$3),bounds$1.bumpVerticalPos(wi.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(wi);break;default:try{Ni=ei.msgModel,Ni.starty=bounds$1.getVerticalPos(),Ni.sequenceIndex=jt,Ni.sequenceVisible=st.db.showSequenceNumbers();const ni=boundMessage(Tt,Ni);qt.push({messageModel:Ni,lineStartY:ni}),bounds$1.models.addMessage(Ni)}catch(ni){log$1.error("error while drawing message",ni)}}[st.db.LINETYPE.SOLID_OPEN,st.db.LINETYPE.DOTTED_OPEN,st.db.LINETYPE.SOLID,st.db.LINETYPE.DOTTED,st.db.LINETYPE.SOLID_CROSS,st.db.LINETYPE.DOTTED_CROSS,st.db.LINETYPE.SOLID_POINT,st.db.LINETYPE.DOTTED_POINT].includes(ei.type)&&(jt=jt+Wt)}),qt.forEach(ei=>drawMessage(Tt,ei.messageModel,ei.lineStartY,st)),conf$3.mirrorActors&&(bounds$1.bumpVerticalPos(conf$3.boxMargin*2),drawActors(Tt,$t,Dt,bounds$1.getVerticalPos(),conf$3,Lt),bounds$1.bumpVerticalPos(conf$3.boxMargin),fixLifeLineHeights(Tt,bounds$1.getVerticalPos()));const Yt=drawActorsPopup(Tt,$t,Dt,Et),{bounds:ti}=bounds$1.getBounds();log$1.debug("For line height fix Querying: #"+nt+" .actor-line"),selectAll("#"+nt+" .actor-line").attr("y2",ti.stopy);let si=ti.stopy-ti.starty;si<Yt.maxHeight&&(si=Yt.maxHeight);let di=si+2*conf$3.diagramMarginY;conf$3.mirrorActors&&(di=di-conf$3.boxMargin+conf$3.bottomMarginAdj);let ui=ti.stopx-ti.startx;ui<Yt.maxWidth&&(ui=Yt.maxWidth);const ci=ui+2*conf$3.diagramMarginX;Bt&&Tt.append("text").text(Bt).attr("x",(ti.stopx-ti.startx)/2-2*conf$3.diagramMarginX).attr("y",-25),configureSvgSize(Tt,di,ci,conf$3.useMaxWidth);const hi=Bt?40:0;Tt.attr("viewBox",ti.startx-conf$3.diagramMarginX+" -"+(conf$3.diagramMarginY+hi)+" "+ci+" "+(di+hi)),log$1.debug("models:",bounds$1.models)};function getMaxMessageWidthPerActor(it,nt,rt){const st={};return nt.forEach(function(vt){if(it[vt.to]&&it[vt.from]){const bt=it[vt.to];if(vt.placement===rt.db.PLACEMENT.LEFTOF&&!bt.prevActor||vt.placement===rt.db.PLACEMENT.RIGHTOF&&!bt.nextActor)return;const _t=vt.placement!==void 0,wt=!_t,Et=_t?noteFont(conf$3):messageFont(conf$3),Tt=vt.wrap?utils.wrapLabel(vt.message,conf$3.width-2*conf$3.wrapPadding,Et):vt.message,Dt=utils.calculateTextDimensions(Tt,Et).width+2*conf$3.wrapPadding;wt&&vt.from===bt.nextActor?st[vt.to]=Math.max(st[vt.to]||0,Dt):wt&&vt.from===bt.prevActor?st[vt.from]=Math.max(st[vt.from]||0,Dt):wt&&vt.from===vt.to?(st[vt.from]=Math.max(st[vt.from]||0,Dt/2),st[vt.to]=Math.max(st[vt.to]||0,Dt/2)):vt.placement===rt.db.PLACEMENT.RIGHTOF?st[vt.from]=Math.max(st[vt.from]||0,Dt):vt.placement===rt.db.PLACEMENT.LEFTOF?st[bt.prevActor]=Math.max(st[bt.prevActor]||0,Dt):vt.placement===rt.db.PLACEMENT.OVER&&(bt.prevActor&&(st[bt.prevActor]=Math.max(st[bt.prevActor]||0,Dt/2)),bt.nextActor&&(st[vt.from]=Math.max(st[vt.from]||0,Dt/2)))}}),log$1.debug("maxMessageWidthPerActor:",st),st}const getRequiredPopupWidth=function(it){let nt=0;const rt=actorFont(conf$3);for(const st in it.links){const bt=utils.calculateTextDimensions(st,rt).width+2*conf$3.wrapPadding+2*conf$3.boxMargin;nt<bt&&(nt=bt)}return nt};function calculateActorMargins(it,nt){let rt=0;Object.keys(it).forEach(st=>{const vt=it[st];vt.wrap&&(vt.description=utils.wrapLabel(vt.description,conf$3.width-2*conf$3.wrapPadding,actorFont(conf$3)));const bt=utils.calculateTextDimensions(vt.description,actorFont(conf$3));vt.width=vt.wrap?conf$3.width:Math.max(conf$3.width,bt.width+2*conf$3.wrapPadding),vt.height=vt.wrap?Math.max(bt.height,conf$3.height):conf$3.height,rt=Math.max(rt,vt.height)});for(const st in nt){const vt=it[st];if(!vt)continue;const bt=it[vt.nextActor];if(!bt)continue;const wt=nt[st]+conf$3.actorMargin-vt.width/2-bt.width/2;vt.margin=Math.max(wt,conf$3.actorMargin)}return Math.max(rt,conf$3.height)}const buildNoteModel=function(it,nt,rt){const st=nt[it.from].x,vt=nt[it.to].x,bt=it.wrap&&it.message;let _t=utils.calculateTextDimensions(bt?utils.wrapLabel(it.message,conf$3.width,noteFont(conf$3)):it.message,noteFont(conf$3));const wt={width:bt?conf$3.width:Math.max(conf$3.width,_t.width+2*conf$3.noteMargin),height:0,startx:nt[it.from].x,stopx:0,starty:0,stopy:0,message:it.message};return it.placement===rt.db.PLACEMENT.RIGHTOF?(wt.width=bt?Math.max(conf$3.width,_t.width):Math.max(nt[it.from].width/2+nt[it.to].width/2,_t.width+2*conf$3.noteMargin),wt.startx=st+(nt[it.from].width+conf$3.actorMargin)/2):it.placement===rt.db.PLACEMENT.LEFTOF?(wt.width=Math.max(bt?conf$3.width:nt[it.from].width/2+nt[it.to].width/2,_t.width+2*conf$3.noteMargin),wt.startx=st-wt.width+(nt[it.from].width-conf$3.actorMargin)/2):it.to===it.from?(_t=utils.calculateTextDimensions(bt?utils.wrapLabel(it.message,Math.max(conf$3.width,nt[it.from].width),noteFont(conf$3)):it.message,noteFont(conf$3)),wt.width=bt?Math.max(conf$3.width,nt[it.from].width):Math.max(nt[it.from].width,conf$3.width,_t.width+2*conf$3.noteMargin),wt.startx=st+(nt[it.from].width-wt.width)/2):(wt.width=Math.abs(st+nt[it.from].width/2-(vt+nt[it.to].width/2))+conf$3.actorMargin,wt.startx=st<vt?st+nt[it.from].width/2-conf$3.actorMargin/2:vt+nt[it.to].width/2-conf$3.actorMargin/2),bt&&(wt.message=utils.wrapLabel(it.message,wt.width-2*conf$3.wrapPadding,noteFont(conf$3))),log$1.debug(`NM:[${wt.startx},${wt.stopx},${wt.starty},${wt.stopy}:${wt.width},${wt.height}=${it.message}]`),wt},buildMessageModel=function(it,nt,rt){let st=!1;if([rt.db.LINETYPE.SOLID_OPEN,rt.db.LINETYPE.DOTTED_OPEN,rt.db.LINETYPE.SOLID,rt.db.LINETYPE.DOTTED,rt.db.LINETYPE.SOLID_CROSS,rt.db.LINETYPE.DOTTED_CROSS,rt.db.LINETYPE.SOLID_POINT,rt.db.LINETYPE.DOTTED_POINT].includes(it.type)&&(st=!0),!st)return{};const vt=activationBounds(it.from,nt),bt=activationBounds(it.to,nt),_t=vt[0]<=bt[0]?1:0,wt=vt[0]<bt[0]?0:1,Et=[...vt,...bt],Tt=Math.abs(bt[wt]-vt[_t]);it.wrap&&it.message&&(it.message=utils.wrapLabel(it.message,Math.max(Tt+2*conf$3.wrapPadding,conf$3.width),messageFont(conf$3)));const $t=utils.calculateTextDimensions(it.message,messageFont(conf$3));return{width:Math.max(it.wrap?0:$t.width+2*conf$3.wrapPadding,Tt+2*conf$3.wrapPadding,conf$3.width),height:0,startx:vt[_t],stopx:bt[wt],starty:0,stopy:0,message:it.message,type:it.type,wrap:it.wrap,fromBounds:Math.min.apply(null,Et),toBounds:Math.max.apply(null,Et)}},calculateLoopBounds=function(it,nt,rt,st){const vt={},bt=[];let _t,wt,Et;return it.forEach(function(Tt){switch(Tt.id=utils.random({length:10}),Tt.type){case st.db.LINETYPE.LOOP_START:case st.db.LINETYPE.ALT_START:case st.db.LINETYPE.OPT_START:case st.db.LINETYPE.PAR_START:case st.db.LINETYPE.CRITICAL_START:case st.db.LINETYPE.BREAK_START:bt.push({id:Tt.id,msg:Tt.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case st.db.LINETYPE.ALT_ELSE:case st.db.LINETYPE.PAR_AND:case st.db.LINETYPE.CRITICAL_OPTION:Tt.message&&(_t=bt.pop(),vt[_t.id]=_t,vt[Tt.id]=_t,bt.push(_t));break;case st.db.LINETYPE.LOOP_END:case st.db.LINETYPE.ALT_END:case st.db.LINETYPE.OPT_END:case st.db.LINETYPE.PAR_END:case st.db.LINETYPE.CRITICAL_END:case st.db.LINETYPE.BREAK_END:_t=bt.pop(),vt[_t.id]=_t;break;case st.db.LINETYPE.ACTIVE_START:{const Dt=nt[Tt.from?Tt.from.actor:Tt.to.actor],Lt=actorActivations(Tt.from?Tt.from.actor:Tt.to.actor).length,Bt=Dt.x+Dt.width/2+(Lt-1)*conf$3.activationWidth/2,Ht={startx:Bt,stopx:Bt+conf$3.activationWidth,actor:Tt.from.actor,enabled:!0};bounds$1.activations.push(Ht)}break;case st.db.LINETYPE.ACTIVE_END:{const Dt=bounds$1.activations.map(Lt=>Lt.actor).lastIndexOf(Tt.from.actor);delete bounds$1.activations.splice(Dt,1)[0]}break}Tt.placement!==void 0?(wt=buildNoteModel(Tt,nt,st),Tt.noteModel=wt,bt.forEach(Dt=>{_t=Dt,_t.from=Math.min(_t.from,wt.startx),_t.to=Math.max(_t.to,wt.startx+wt.width),_t.width=Math.max(_t.width,Math.abs(_t.from-_t.to))-conf$3.labelBoxWidth})):(Et=buildMessageModel(Tt,nt,st),Tt.msgModel=Et,Et.startx&&Et.stopx&&bt.length>0&&bt.forEach(Dt=>{if(_t=Dt,Et.startx===Et.stopx){const Lt=nt[Tt.from],Bt=nt[Tt.to];_t.from=Math.min(Lt.x-Et.width/2,Lt.x-Lt.width/2,_t.from),_t.to=Math.max(Bt.x+Et.width/2,Bt.x+Lt.width/2,_t.to),_t.width=Math.max(_t.width,Math.abs(_t.to-_t.from))-conf$3.labelBoxWidth}else _t.from=Math.min(Et.startx,_t.from),_t.to=Math.max(Et.stopx,_t.to),_t.width=Math.max(_t.width,Et.width)-conf$3.labelBoxWidth}))}),bounds$1.activations=[],log$1.debug("Loop type widths:",vt),vt},sequenceRenderer={bounds:bounds$1,drawActors,drawActorsPopup,setConf:setConf$4,draw:draw$4};var parser$1=function(){var it=function(Ai,ji,Ri,Vi){for(Ri=Ri||{},Vi=Ai.length;Vi--;Ri[Ai[Vi]]=ji);return Ri},nt=[1,2],rt=[1,3],st=[1,5],vt=[1,7],bt=[2,5],_t=[1,15],wt=[1,17],Et=[1,21],Tt=[1,22],$t=[1,23],Dt=[1,24],Lt=[1,37],Bt=[1,25],Ht=[1,26],Ut=[1,27],It=[1,28],jt=[1,29],Wt=[1,32],qt=[1,33],Yt=[1,34],ti=[1,35],oi=[1,36],si=[1,39],di=[1,40],ui=[1,41],ci=[1,42],hi=[1,38],ei=[1,45],wi=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Kt=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Ni=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],ni=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Fi={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(ji,Ri,Vi,Qi,rn,Pi,bn){var Oi=Pi.length-1;switch(rn){case 4:return Qi.setRootDoc(Pi[Oi]),Pi[Oi];case 5:this.$=[];break;case 6:Pi[Oi]!="nl"&&(Pi[Oi-1].push(Pi[Oi]),this.$=Pi[Oi-1]);break;case 7:case 8:this.$=Pi[Oi];break;case 9:this.$="nl";break;case 12:this.$=Pi[Oi];break;case 13:const ii=Pi[Oi-1];ii.description=Qi.trimColon(Pi[Oi]),this.$=ii;break;case 14:this.$={stmt:"relation",state1:Pi[Oi-2],state2:Pi[Oi]};break;case 15:const Nt=Qi.trimColon(Pi[Oi]);this.$={stmt:"relation",state1:Pi[Oi-3],state2:Pi[Oi-1],description:Nt};break;case 19:this.$={stmt:"state",id:Pi[Oi-3],type:"default",description:"",doc:Pi[Oi-1]};break;case 20:var Ii=Pi[Oi],Gi=Pi[Oi-2].trim();if(Pi[Oi].match(":")){var $i=Pi[Oi].split(":");Ii=$i[0],Gi=[Gi,$i[1]]}this.$={stmt:"state",id:Ii,type:"default",description:Gi};break;case 21:this.$={stmt:"state",id:Pi[Oi-3],type:"default",description:Pi[Oi-5],doc:Pi[Oi-1]};break;case 22:this.$={stmt:"state",id:Pi[Oi],type:"fork"};break;case 23:this.$={stmt:"state",id:Pi[Oi],type:"join"};break;case 24:this.$={stmt:"state",id:Pi[Oi],type:"choice"};break;case 25:this.$={stmt:"state",id:Qi.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:Pi[Oi-1].trim(),note:{position:Pi[Oi-2].trim(),text:Pi[Oi].trim()}};break;case 30:this.$=Pi[Oi].trim(),Qi.setAccTitle(this.$);break;case 31:case 32:this.$=Pi[Oi].trim(),Qi.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:Pi[Oi-1].trim(),classes:Pi[Oi].trim()};break;case 35:this.$={stmt:"applyClass",id:Pi[Oi-1].trim(),styleClass:Pi[Oi].trim()};break;case 38:Qi.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Qi.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Qi.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Qi.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:Pi[Oi].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:Pi[Oi-2].trim(),classes:[Pi[Oi].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:Pi[Oi-2].trim(),classes:[Pi[Oi].trim()],type:"default",description:""};break;case 50:Qi.parseDirective("%%{","open_directive");break;case 51:Qi.parseDirective(Pi[Oi],"type_directive");break;case 52:Pi[Oi]=Pi[Oi].trim().replace(/'/g,'"'),Qi.parseDirective(Pi[Oi],"arg_directive");break;case 53:Qi.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:nt,5:rt,6:4,7:st,45:6,60:vt},{1:[3]},{3:8,4:nt,5:rt,6:4,7:st,45:6,60:vt},{3:9,4:nt,5:rt,6:4,7:st,45:6,60:vt},{3:10,4:nt,5:rt,6:4,7:st,45:6,60:vt},it([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],bt,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:_t,5:wt,6:30,9:14,10:16,11:18,12:19,13:20,16:Et,17:Tt,19:$t,22:Dt,24:Lt,25:Bt,26:Ht,27:Ut,28:It,29:jt,32:31,33:Wt,35:qt,37:Yt,38:ti,42:oi,45:6,50:si,51:di,52:ui,53:ci,56:hi,60:vt},{47:43,48:[1,44],63:ei},it([48,63],[2,51]),it(wi,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:Et,17:Tt,19:$t,22:Dt,24:Lt,25:Bt,26:Ht,27:Ut,28:It,29:jt,32:31,33:Wt,35:qt,37:Yt,38:ti,42:oi,45:6,50:si,51:di,52:ui,53:ci,56:hi,60:vt},it(wi,[2,8]),it(wi,[2,9]),it(wi,[2,10]),it(wi,[2,11]),it(wi,[2,12],{14:[1,47],15:[1,48]}),it(wi,[2,16]),{18:[1,49]},it(wi,[2,18],{20:[1,50]}),{23:[1,51]},it(wi,[2,22]),it(wi,[2,23]),it(wi,[2,24]),it(wi,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},it(wi,[2,28]),it(wi,[2,29]),{34:[1,56]},{36:[1,57]},it(wi,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},it(Kt,[2,44],{57:[1,61]}),it(Kt,[2,45],{57:[1,62]}),it(wi,[2,38]),it(wi,[2,39]),it(wi,[2,40]),it(wi,[2,41]),it(Ni,[2,36]),{49:63,62:[1,64]},it(Ni,[2,53]),it(wi,[2,7]),it(wi,[2,13]),{13:65,24:Lt,56:hi},it(wi,[2,17]),it(ni,bt,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},it(wi,[2,30]),it(wi,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:ei},{63:[2,52]},it(wi,[2,14],{14:[1,76]}),{4:_t,5:wt,6:30,9:14,10:16,11:18,12:19,13:20,16:Et,17:Tt,19:$t,21:[1,77],22:Dt,24:Lt,25:Bt,26:Ht,27:Ut,28:It,29:jt,32:31,33:Wt,35:qt,37:Yt,38:ti,42:oi,45:6,50:si,51:di,52:ui,53:ci,56:hi,60:vt},it(wi,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},it(wi,[2,33]),it(wi,[2,34]),it(wi,[2,35]),it(Kt,[2,46]),it(Kt,[2,47]),it(Ni,[2,37]),it(wi,[2,15]),it(wi,[2,19]),it(ni,bt,{8:81}),it(wi,[2,26]),it(wi,[2,27]),{4:_t,5:wt,6:30,9:14,10:16,11:18,12:19,13:20,16:Et,17:Tt,19:$t,21:[1,82],22:Dt,24:Lt,25:Bt,26:Ht,27:Ut,28:It,29:jt,32:31,33:Wt,35:qt,37:Yt,38:ti,42:oi,45:6,50:si,51:di,52:ui,53:ci,56:hi,60:vt},it(wi,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(ji,Ri){if(Ri.recoverable)this.trace(ji);else{var Vi=new Error(ji);throw Vi.hash=Ri,Vi}},parse:function(ji){var Ri=this,Vi=[0],Qi=[],rn=[null],Pi=[],bn=this.table,Oi="",Ii=0,Gi=0,$i=2,ii=1,Nt=Pi.slice.call(arguments,1),Qt=Object.create(this.lexer),Jt={yy:{}};for(var Si in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Si)&&(Jt.yy[Si]=this.yy[Si]);Qt.setInput(ji,Jt.yy),Jt.yy.lexer=Qt,Jt.yy.parser=this,typeof Qt.yylloc>"u"&&(Qt.yylloc={});var vi=Qt.yylloc;Pi.push(vi);var Mi=Qt.options&&Qt.options.ranges;typeof Jt.yy.parseError=="function"?this.parseError=Jt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function _i(){var Fn;return Fn=Qi.pop()||Qt.lex()||ii,typeof Fn!="number"&&(Fn instanceof Array&&(Qi=Fn,Fn=Qi.pop()),Fn=Ri.symbols_[Fn]||Fn),Fn}for(var Li,Ti,zi,Hi,tn={},qi,Wi,Cn,En;;){if(Ti=Vi[Vi.length-1],this.defaultActions[Ti]?zi=this.defaultActions[Ti]:((Li===null||typeof Li>"u")&&(Li=_i()),zi=bn[Ti]&&bn[Ti][Li]),typeof zi>"u"||!zi.length||!zi[0]){var $n="";En=[];for(qi in bn[Ti])this.terminals_[qi]&&qi>$i&&En.push("'"+this.terminals_[qi]+"'");Qt.showPosition?$n="Parse error on line "+(Ii+1)+`:
`+Qt.showPosition()+`
Expecting `+En.join(", ")+", got '"+(this.terminals_[Li]||Li)+"'":$n="Parse error on line "+(Ii+1)+": Unexpected "+(Li==ii?"end of input":"'"+(this.terminals_[Li]||Li)+"'"),this.parseError($n,{text:Qt.match,token:this.terminals_[Li]||Li,line:Qt.yylineno,loc:vi,expected:En})}if(zi[0]instanceof Array&&zi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ti+", token: "+Li);switch(zi[0]){case 1:Vi.push(Li),rn.push(Qt.yytext),Pi.push(Qt.yylloc),Vi.push(zi[1]),Li=null,Gi=Qt.yyleng,Oi=Qt.yytext,Ii=Qt.yylineno,vi=Qt.yylloc;break;case 2:if(Wi=this.productions_[zi[1]][1],tn.$=rn[rn.length-Wi],tn._$={first_line:Pi[Pi.length-(Wi||1)].first_line,last_line:Pi[Pi.length-1].last_line,first_column:Pi[Pi.length-(Wi||1)].first_column,last_column:Pi[Pi.length-1].last_column},Mi&&(tn._$.range=[Pi[Pi.length-(Wi||1)].range[0],Pi[Pi.length-1].range[1]]),Hi=this.performAction.apply(tn,[Oi,Gi,Ii,Jt.yy,zi[1],rn,Pi].concat(Nt)),typeof Hi<"u")return Hi;Wi&&(Vi=Vi.slice(0,-1*Wi*2),rn=rn.slice(0,-1*Wi),Pi=Pi.slice(0,-1*Wi)),Vi.push(this.productions_[zi[1]][0]),rn.push(tn.$),Pi.push(tn._$),Cn=bn[Vi[Vi.length-2]][Vi[Vi.length-1]],Vi.push(Cn);break;case 3:return!0}}return!0}},Xi=function(){var Ai={EOF:1,parseError:function(Ri,Vi){if(this.yy.parser)this.yy.parser.parseError(Ri,Vi);else throw new Error(Ri)},setInput:function(ji,Ri){return this.yy=Ri||this.yy||{},this._input=ji,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var ji=this._input[0];this.yytext+=ji,this.yyleng++,this.offset++,this.match+=ji,this.matched+=ji;var Ri=ji.match(/(?:\r\n?|\n).*/g);return Ri?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),ji},unput:function(ji){var Ri=ji.length,Vi=ji.split(/(?:\r\n?|\n)/g);this._input=ji+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Ri),this.offset-=Ri;var Qi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Vi.length-1&&(this.yylineno-=Vi.length-1);var rn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Vi?(Vi.length===Qi.length?this.yylloc.first_column:0)+Qi[Qi.length-Vi.length].length-Vi[0].length:this.yylloc.first_column-Ri},this.options.ranges&&(this.yylloc.range=[rn[0],rn[0]+this.yyleng-Ri]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(ji){this.unput(this.match.slice(ji))},pastInput:function(){var ji=this.matched.substr(0,this.matched.length-this.match.length);return(ji.length>20?"...":"")+ji.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var ji=this.match;return ji.length<20&&(ji+=this._input.substr(0,20-ji.length)),(ji.substr(0,20)+(ji.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var ji=this.pastInput(),Ri=new Array(ji.length+1).join("-");return ji+this.upcomingInput()+`
`+Ri+"^"},test_match:function(ji,Ri){var Vi,Qi,rn;if(this.options.backtrack_lexer&&(rn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(rn.yylloc.range=this.yylloc.range.slice(0))),Qi=ji[0].match(/(?:\r\n?|\n).*/g),Qi&&(this.yylineno+=Qi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Qi?Qi[Qi.length-1].length-Qi[Qi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+ji[0].length},this.yytext+=ji[0],this.match+=ji[0],this.matches=ji,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(ji[0].length),this.matched+=ji[0],Vi=this.performAction.call(this,this.yy,this,Ri,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Vi)return Vi;if(this._backtrack){for(var Pi in rn)this[Pi]=rn[Pi];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var ji,Ri,Vi,Qi;this._more||(this.yytext="",this.match="");for(var rn=this._currentRules(),Pi=0;Pi<rn.length;Pi++)if(Vi=this._input.match(this.rules[rn[Pi]]),Vi&&(!Ri||Vi[0].length>Ri[0].length)){if(Ri=Vi,Qi=Pi,this.options.backtrack_lexer){if(ji=this.test_match(Vi,rn[Pi]),ji!==!1)return ji;if(this._backtrack){Ri=!1;continue}else return!1}else if(!this.options.flex)break}return Ri?(ji=this.test_match(Ri,rn[Qi]),ji!==!1?ji:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Ri=this.next();return Ri||this.lex()},begin:function(Ri){this.conditionStack.push(Ri)},popState:function(){var Ri=this.conditionStack.length-1;return Ri>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Ri){return Ri=this.conditionStack.length-1-Math.abs(Ri||0),Ri>=0?this.conditionStack[Ri]:"INITIAL"},pushState:function(Ri){this.begin(Ri)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Ri,Vi,Qi,rn){switch(Qi){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),Vi.yytext=Vi.yytext.substr(2).trim(),31;case 69:return this.popState(),Vi.yytext=Vi.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return Vi.yytext=Vi.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return Ai}();Fi.lexer=Xi;function nn(){this.yy={}}return nn.prototype=Fi,Fi.Parser=nn,new nn}();parser$1.parser=parser$1;const stateParser=parser$1,stateDetector=(it,nt)=>{var rt;return((rt=nt==null?void 0:nt.state)==null?void 0:rt.defaultRenderer)==="dagre-wrapper"?!1:it.match(/^\s*stateDiagram/)!==null},stateDetectorV2=(it,nt)=>{var rt;return!!(it.match(/^\s*stateDiagram-v2/)!==null||it.match(/^\s*stateDiagram/)&&((rt=nt==null?void 0:nt.state)==null?void 0:rt.defaultRenderer)==="dagre-wrapper")},DEFAULT_DIAGRAM_DIRECTION="LR",DEFAULT_NESTED_DOC_DIR="TB",STMT_STATE="state",STMT_RELATION="relation",STMT_CLASSDEF="classDef",STMT_APPLYCLASS="applyClass",DEFAULT_STATE_TYPE="default",DIVIDER_TYPE="divider",START_NODE="[*]",START_TYPE="start",END_NODE=START_NODE,END_TYPE="end",COLOR_KEYWORD="color",FILL_KEYWORD="fill",BG_FILL="bgFill",STYLECLASS_SEP=",";function newClassesList(){return{}}let direction=DEFAULT_DIAGRAM_DIRECTION,rootDoc=[],classes=newClassesList();const newDoc=()=>({relations:[],states:{},documents:{}});let documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,dividerCnt=0;const lineType={LINE:0,DOTTED_LINE:1},relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},clone=it=>JSON.parse(JSON.stringify(it)),parseDirective$2=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},setRootDoc=it=>{log$1.info("Setting root doc",it),rootDoc=it},getRootDoc=()=>rootDoc,docTranslator=(it,nt,rt)=>{if(nt.stmt===STMT_RELATION)docTranslator(it,nt.state1,!0),docTranslator(it,nt.state2,!1);else if(nt.stmt===STMT_STATE&&nt.id==="[*]"&&(nt.id=rt?it.id+"_start":it.id+"_end",nt.start=rt),nt.doc){const st=[];let vt=[],bt;for(bt=0;bt<nt.doc.length;bt++)if(nt.doc[bt].type===DIVIDER_TYPE){const _t=clone(nt.doc[bt]);_t.doc=clone(vt),st.push(_t),vt=[]}else vt.push(nt.doc[bt]);if(st.length>0&&vt.length>0){const _t={stmt:STMT_STATE,id:generateId$1(),type:"divider",doc:clone(vt)};st.push(clone(_t)),nt.doc=st}nt.doc.forEach(_t=>docTranslator(nt,_t,!0))}},getRootDocV2=()=>(docTranslator({id:"root"},{id:"root",doc:rootDoc},!0),{id:"root",doc:rootDoc}),extract=it=>{let nt;it.doc?nt=it.doc:nt=it,log$1.info(nt),clear$1(!0),log$1.info("Extract",nt),nt.forEach(rt=>{switch(rt.stmt){case STMT_STATE:addState(rt.id,rt.type,rt.doc,rt.description,rt.note,rt.classes,rt.styles,rt.textStyles);break;case STMT_RELATION:addRelation(rt.state1,rt.state2,rt.description);break;case STMT_CLASSDEF:addStyleClass(rt.id,rt.classes);break;case STMT_APPLYCLASS:setCssClass(rt.id,rt.styleClass);break}})},addState=function(it,nt=DEFAULT_STATE_TYPE,rt=null,st=null,vt=null,bt=null,_t=null,wt=null){currentDocument.states[it]===void 0?(log$1.info("Adding state ",it,st),currentDocument.states[it]={id:it,descriptions:[],type:nt,doc:rt,note:vt,classes:[],styles:[],textStyles:[]}):(currentDocument.states[it].doc||(currentDocument.states[it].doc=rt),currentDocument.states[it].type||(currentDocument.states[it].type=nt)),st&&(log$1.info("Setting state description",it,st),typeof st=="string"&&addDescription(it,st.trim()),typeof st=="object"&&st.forEach(Et=>addDescription(it,Et.trim()))),vt&&(currentDocument.states[it].note=vt,currentDocument.states[it].note.text=common$1.sanitizeText(currentDocument.states[it].note.text,getConfig$1())),bt&&(log$1.info("Setting state classes",it,bt),(typeof bt=="string"?[bt]:bt).forEach(Tt=>setCssClass(it,Tt.trim()))),_t&&(log$1.info("Setting state styles",it,_t),(typeof _t=="string"?[_t]:_t).forEach(Tt=>setStyle(it,Tt.trim()))),wt&&(log$1.info("Setting state styles",it,_t),(typeof wt=="string"?[wt]:wt).forEach(Tt=>setTextStyle(it,Tt.trim())))},clear$1=function(it){documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,classes=newClassesList(),it||clear$g()},getState=function(it){return currentDocument.states[it]},getStates=function(){return currentDocument.states},logDocuments=function(){log$1.info("Documents = ",documents)},getRelations=function(){return currentDocument.relations};function startIdIfNeeded(it=""){let nt=it;return it===START_NODE&&(startEndCount++,nt=`${START_TYPE}${startEndCount}`),nt}function startTypeIfNeeded(it="",nt=DEFAULT_STATE_TYPE){return it===START_NODE?START_TYPE:nt}function endIdIfNeeded(it=""){let nt=it;return it===END_NODE&&(startEndCount++,nt=`${END_TYPE}${startEndCount}`),nt}function endTypeIfNeeded(it="",nt=DEFAULT_STATE_TYPE){return it===END_NODE?END_TYPE:nt}function addRelationObjs(it,nt,rt){let st=startIdIfNeeded(it.id),vt=startTypeIfNeeded(it.id,it.type),bt=startIdIfNeeded(nt.id),_t=startTypeIfNeeded(nt.id,nt.type);addState(st,vt,it.doc,it.description,it.note,it.classes,it.styles,it.textStyles),addState(bt,_t,nt.doc,nt.description,nt.note,nt.classes,nt.styles,nt.textStyles),currentDocument.relations.push({id1:st,id2:bt,relationTitle:common$1.sanitizeText(rt,getConfig$1())})}const addRelation=function(it,nt,rt){if(typeof it=="object")addRelationObjs(it,nt,rt);else{const st=startIdIfNeeded(it),vt=startTypeIfNeeded(it),bt=endIdIfNeeded(nt),_t=endTypeIfNeeded(nt);addState(st,vt),addState(bt,_t),currentDocument.relations.push({id1:st,id2:bt,title:common$1.sanitizeText(rt,getConfig$1())})}},addDescription=function(it,nt){const rt=currentDocument.states[it],st=nt.startsWith(":")?nt.replace(":","").trim():nt;rt.descriptions.push(common$1.sanitizeText(st,getConfig$1()))},cleanupLabel=function(it){return it.substring(0,1)===":"?it.substr(2).trim():it.trim()},getDividerId=()=>(dividerCnt++,"divider-id-"+dividerCnt),addStyleClass=function(it,nt=""){classes[it]===void 0&&(classes[it]={id:it,styles:[],textStyles:[]});const rt=classes[it];nt!=null&&nt.split(STYLECLASS_SEP).forEach(st=>{const vt=st.replace(/([^;]*);/,"$1").trim();if(st.match(COLOR_KEYWORD)){const _t=vt.replace(FILL_KEYWORD,BG_FILL).replace(COLOR_KEYWORD,FILL_KEYWORD);rt.textStyles.push(_t)}rt.styles.push(vt)})},getClasses$1=function(){return classes},setCssClass=function(it,nt){it.split(",").forEach(function(rt){let st=getState(rt);if(st===void 0){const vt=rt.trim();addState(vt),st=getState(vt)}st.classes.push(nt)})},setStyle=function(it,nt){const rt=getState(it);rt!==void 0&&rt.textStyles.push(nt)},setTextStyle=function(it,nt){const rt=getState(it);rt!==void 0&&rt.textStyles.push(nt)},getDirection=()=>direction,setDirection=it=>{direction=it},trimColon=it=>it&&it[0]===":"?it.substr(1).trim():it.trim(),stateDb={parseDirective:parseDirective$2,getConfig:()=>getConfig$1().state,addState,clear:clear$1,getState,getStates,getRelations,getClasses:getClasses$1,getDirection,addRelation,getDividerId,setDirection,cleanupLabel,lineType,relationType,logDocuments,getRootDoc,setRootDoc,getRootDocV2,extract,trimColon,getAccTitle,setAccTitle,getAccDescription,setAccDescription,addStyleClass,setCssClass,addDescription,setDiagramTitle,getDiagramTitle},drawStartState=it=>it.append("circle").attr("class","start-state").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit),drawDivider=it=>it.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",getConfig$1().state.textHeight).attr("class","divider").attr("x2",getConfig$1().state.textHeight*2).attr("y1",0).attr("y2",0),drawSimpleState=(it,nt)=>{const rt=it.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+2*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(nt.id),st=rt.node().getBBox();return it.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",st.width+2*getConfig$1().state.padding).attr("height",st.height+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),rt},drawDescrState=(it,nt)=>{const rt=function(Lt,Bt,Ht){const Ut=Lt.append("tspan").attr("x",2*getConfig$1().state.padding).text(Bt);Ht||Ut.attr("dy",getConfig$1().state.textHeight)},vt=it.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+1.3*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(nt.descriptions[0]).node().getBBox(),bt=vt.height,_t=it.append("text").attr("x",getConfig$1().state.padding).attr("y",bt+getConfig$1().state.padding*.4+getConfig$1().state.dividerMargin+getConfig$1().state.textHeight).attr("class","state-description");let wt=!0,Et=!0;nt.descriptions.forEach(function(Lt){wt||(rt(_t,Lt,Et),Et=!1),wt=!1});const Tt=it.append("line").attr("x1",getConfig$1().state.padding).attr("y1",getConfig$1().state.padding+bt+getConfig$1().state.dividerMargin/2).attr("y2",getConfig$1().state.padding+bt+getConfig$1().state.dividerMargin/2).attr("class","descr-divider"),$t=_t.node().getBBox(),Dt=Math.max($t.width,vt.width);return Tt.attr("x2",Dt+3*getConfig$1().state.padding),it.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",Dt+2*getConfig$1().state.padding).attr("height",$t.height+bt+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),it},addTitleAndBox=(it,nt,rt)=>{const st=getConfig$1().state.padding,vt=2*getConfig$1().state.padding,bt=it.node().getBBox(),_t=bt.width,wt=bt.x,Et=it.append("text").attr("x",0).attr("y",getConfig$1().state.titleShift).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(nt.id),$t=Et.node().getBBox().width+vt;let Dt=Math.max($t,_t);Dt===_t&&(Dt=Dt+vt);let Lt;const Bt=it.node().getBBox();nt.doc,Lt=wt-st,$t>_t&&(Lt=(_t-Dt)/2+st),Math.abs(wt-Bt.x)<st&&$t>_t&&(Lt=wt-($t-_t)/2);const Ht=1-getConfig$1().state.textHeight;return it.insert("rect",":first-child").attr("x",Lt).attr("y",Ht).attr("class",rt?"alt-composit":"composit").attr("width",Dt).attr("height",Bt.height+getConfig$1().state.textHeight+getConfig$1().state.titleShift+1).attr("rx","0"),Et.attr("x",Lt+st),$t<=_t&&Et.attr("x",wt+(Dt-vt)/2-$t/2+st),it.insert("rect",":first-child").attr("x",Lt).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",Dt).attr("height",getConfig$1().state.textHeight*3).attr("rx",getConfig$1().state.radius),it.insert("rect",":first-child").attr("x",Lt).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",Dt).attr("height",Bt.height+3+2*getConfig$1().state.textHeight).attr("rx",getConfig$1().state.radius),it},drawEndState=it=>(it.append("circle").attr("class","end-state-outer").attr("r",getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding),it.append("circle").attr("class","end-state-inner").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2)),drawForkJoinState=(it,nt)=>{let rt=getConfig$1().state.forkWidth,st=getConfig$1().state.forkHeight;if(nt.parentId){let vt=rt;rt=st,st=vt}return it.append("rect").style("stroke","black").style("fill","black").attr("width",rt).attr("height",st).attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding)},_drawLongText=(it,nt,rt,st)=>{let vt=0;const bt=st.append("text");bt.style("text-anchor","start"),bt.attr("class","noteText");let _t=it.replace(/\r\n/g,"<br/>");_t=_t.replace(/\n/g,"<br/>");const wt=_t.split(common$1.lineBreakRegex);let Et=1.25*getConfig$1().state.noteMargin;for(const Tt of wt){const $t=Tt.trim();if($t.length>0){const Dt=bt.append("tspan");if(Dt.text($t),Et===0){const Lt=Dt.node().getBBox();Et+=Lt.height}vt+=Et,Dt.attr("x",nt+getConfig$1().state.noteMargin),Dt.attr("y",rt+vt+1.25*getConfig$1().state.noteMargin)}}return{textWidth:bt.node().getBBox().width,textHeight:vt}},drawNote=(it,nt)=>{nt.attr("class","state-note");const rt=nt.append("rect").attr("x",0).attr("y",getConfig$1().state.padding),st=nt.append("g"),{textWidth:vt,textHeight:bt}=_drawLongText(it,0,0,st);return rt.attr("height",bt+2*getConfig$1().state.noteMargin),rt.attr("width",vt+getConfig$1().state.noteMargin*2),rt},drawState=function(it,nt){const rt=nt.id,st={id:rt,label:nt.id,width:0,height:0},vt=it.append("g").attr("id",rt).attr("class","stateGroup");nt.type==="start"&&drawStartState(vt),nt.type==="end"&&drawEndState(vt),(nt.type==="fork"||nt.type==="join")&&drawForkJoinState(vt,nt),nt.type==="note"&&drawNote(nt.note.text,vt),nt.type==="divider"&&drawDivider(vt),nt.type==="default"&&nt.descriptions.length===0&&drawSimpleState(vt,nt),nt.type==="default"&&nt.descriptions.length>0&&drawDescrState(vt,nt);const bt=vt.node().getBBox();return st.width=bt.width+2*getConfig$1().state.padding,st.height=bt.height+2*getConfig$1().state.padding,st};let edgeCount=0;const drawEdge=function(it,nt,rt){const st=function(Et){switch(Et){case stateDb.relationType.AGGREGATION:return"aggregation";case stateDb.relationType.EXTENSION:return"extension";case stateDb.relationType.COMPOSITION:return"composition";case stateDb.relationType.DEPENDENCY:return"dependency"}};nt.points=nt.points.filter(Et=>!Number.isNaN(Et.y));const vt=nt.points,bt=line$1().x(function(Et){return Et.x}).y(function(Et){return Et.y}).curve(curveBasis),_t=it.append("path").attr("d",bt(vt)).attr("id","edge"+edgeCount).attr("class","transition");let wt="";if(getConfig$1().state.arrowMarkerAbsolute&&(wt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,wt=wt.replace(/\(/g,"\\("),wt=wt.replace(/\)/g,"\\)")),_t.attr("marker-end","url("+wt+"#"+st(stateDb.relationType.DEPENDENCY)+"End)"),rt.title!==void 0){const Et=it.append("g").attr("class","stateLabel"),{x:Tt,y:$t}=utils.calcLabelPosition(nt.points),Dt=common$1.getRows(rt.title);let Lt=0;const Bt=[];let Ht=0,Ut=0;for(let Wt=0;Wt<=Dt.length;Wt++){const qt=Et.append("text").attr("text-anchor","middle").text(Dt[Wt]).attr("x",Tt).attr("y",$t+Lt),Yt=qt.node().getBBox();Ht=Math.max(Ht,Yt.width),Ut=Math.min(Ut,Yt.x),log$1.info(Yt.x,Tt,$t+Lt),Lt===0&&(Lt=qt.node().getBBox().height,log$1.info("Title height",Lt,$t)),Bt.push(qt)}let It=Lt*Dt.length;if(Dt.length>1){const Wt=(Dt.length-1)*Lt*.5;Bt.forEach((qt,Yt)=>qt.attr("y",$t+Yt*Lt-Wt)),It=Lt*Dt.length}const jt=Et.node().getBBox();Et.insert("rect",":first-child").attr("class","box").attr("x",Tt-Ht/2-getConfig$1().state.padding/2).attr("y",$t-It/2-getConfig$1().state.padding/2-3.5).attr("width",Ht+getConfig$1().state.padding).attr("height",It+getConfig$1().state.padding),log$1.info(jt)}edgeCount++};let conf$2;const transformationLog={},setConf$3=function(){},insertMarkers=function(it){it.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},draw$3=function(it,nt,rt,st){conf$2=getConfig$1().state;const vt=getConfig$1().securityLevel;let bt;vt==="sandbox"&&(bt=select("#i"+nt));const _t=select(vt==="sandbox"?bt.nodes()[0].contentDocument.body:"body"),wt=vt==="sandbox"?bt.nodes()[0].contentDocument:document;log$1.debug("Rendering diagram "+it);const Et=_t.select(`[id='${nt}']`);insertMarkers(Et),new Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const $t=st.db.getRootDoc();renderDoc($t,Et,void 0,!1,_t,wt,st);const Dt=conf$2.padding,Lt=Et.node().getBBox(),Bt=Lt.width+Dt*2,Ht=Lt.height+Dt*2,Ut=Bt*1.75;configureSvgSize(Et,Ht,Ut,conf$2.useMaxWidth),Et.attr("viewBox",`${Lt.x-conf$2.padding}  ${Lt.y-conf$2.padding} `+Bt+" "+Ht)},getLabelWidth=it=>it?it.length*conf$2.fontSizeFactor:1,renderDoc=(it,nt,rt,st,vt,bt,_t)=>{const wt=new Graph({compound:!0,multigraph:!0});let Et,Tt=!0;for(Et=0;Et<it.length;Et++)if(it[Et].stmt==="relation"){Tt=!1;break}rt?wt.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:Tt?1:conf$2.edgeLengthFactor,nodeSep:Tt?1:50,isMultiGraph:!0}):wt.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:Tt?1:conf$2.edgeLengthFactor,nodeSep:Tt?1:50,ranker:"tight-tree",isMultiGraph:!0}),wt.setDefaultEdgeLabel(function(){return{}}),_t.db.extract(it);const $t=_t.db.getStates(),Dt=_t.db.getRelations(),Lt=Object.keys($t);for(const jt of Lt){const Wt=$t[jt];rt&&(Wt.parentId=rt);let qt;if(Wt.doc){let Yt=nt.append("g").attr("id",Wt.id).attr("class","stateGroup");qt=renderDoc(Wt.doc,Yt,Wt.id,!st,vt,bt,_t);{Yt=addTitleAndBox(Yt,Wt,st);let ti=Yt.node().getBBox();qt.width=ti.width,qt.height=ti.height+conf$2.padding/2,transformationLog[Wt.id]={y:conf$2.compositTitleSize}}}else qt=drawState(nt,Wt);if(Wt.note){const Yt={descriptions:[],id:Wt.id+"-note",note:Wt.note,type:"note"},ti=drawState(nt,Yt);Wt.note.position==="left of"?(wt.setNode(qt.id+"-note",ti),wt.setNode(qt.id,qt)):(wt.setNode(qt.id,qt),wt.setNode(qt.id+"-note",ti)),wt.setParent(qt.id,qt.id+"-group"),wt.setParent(qt.id+"-note",qt.id+"-group")}else wt.setNode(qt.id,qt)}log$1.debug("Count=",wt.nodeCount(),wt);let Bt=0;Dt.forEach(function(jt){Bt++,log$1.debug("Setting edge",jt),wt.setEdge(jt.id1,jt.id2,{relation:jt,width:getLabelWidth(jt.title),height:conf$2.labelHeight*common$1.getRows(jt.title).length,labelpos:"c"},"id"+Bt)}),layout(wt),log$1.debug("Graph after layout",wt.nodes());const Ht=nt.node();wt.nodes().forEach(function(jt){jt!==void 0&&wt.node(jt)!==void 0?(log$1.warn("Node "+jt+": "+JSON.stringify(wt.node(jt))),vt.select("#"+Ht.id+" #"+jt).attr("transform","translate("+(wt.node(jt).x-wt.node(jt).width/2)+","+(wt.node(jt).y+(transformationLog[jt]?transformationLog[jt].y:0)-wt.node(jt).height/2)+" )"),vt.select("#"+Ht.id+" #"+jt).attr("data-x-shift",wt.node(jt).x-wt.node(jt).width/2),bt.querySelectorAll("#"+Ht.id+" #"+jt+" .divider").forEach(qt=>{const Yt=qt.parentElement;let ti=0,oi=0;Yt&&(Yt.parentElement&&(ti=Yt.parentElement.getBBox().width),oi=parseInt(Yt.getAttribute("data-x-shift"),10),Number.isNaN(oi)&&(oi=0)),qt.setAttribute("x1",0-oi+8),qt.setAttribute("x2",ti-oi-8)})):log$1.debug("No Node "+jt+": "+JSON.stringify(wt.node(jt)))});let Ut=Ht.getBBox();wt.edges().forEach(function(jt){jt!==void 0&&wt.edge(jt)!==void 0&&(log$1.debug("Edge "+jt.v+" -> "+jt.w+": "+JSON.stringify(wt.edge(jt))),drawEdge(nt,wt.edge(jt),wt.edge(jt).relation))}),Ut=Ht.getBBox();const It={id:rt||"root",label:rt||"root",width:0,height:0};return It.width=Ut.width+2*conf$2.padding,It.height=Ut.height+2*conf$2.padding,log$1.debug("Doc rendered",It,wt),It},stateRenderer={setConf:setConf$3,draw:draw$3},SHAPE_STATE="rect",SHAPE_STATE_WITH_DESC="rectWithTitle",SHAPE_START="start",SHAPE_END="end",SHAPE_DIVIDER="divider",SHAPE_GROUP="roundedWithTitle",SHAPE_NOTE="note",SHAPE_NOTEGROUP="noteGroup",CSS_DIAGRAM="statediagram",CSS_STATE="state",CSS_DIAGRAM_STATE=`${CSS_DIAGRAM}-${CSS_STATE}`,CSS_EDGE="transition",CSS_NOTE="note",CSS_NOTE_EDGE="note-edge",CSS_EDGE_NOTE_EDGE=`${CSS_EDGE} ${CSS_NOTE_EDGE}`,CSS_DIAGRAM_NOTE=`${CSS_DIAGRAM}-${CSS_NOTE}`,CSS_CLUSTER="cluster",CSS_DIAGRAM_CLUSTER=`${CSS_DIAGRAM}-${CSS_CLUSTER}`,CSS_CLUSTER_ALT="cluster-alt",CSS_DIAGRAM_CLUSTER_ALT=`${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`,PARENT="parent",NOTE="note",DOMID_STATE="state",DOMID_TYPE_SPACER="----",NOTE_ID=`${DOMID_TYPE_SPACER}${NOTE}`,PARENT_ID=`${DOMID_TYPE_SPACER}${PARENT}`,G_EDGE_STYLE="fill:none",G_EDGE_ARROWHEADSTYLE="fill: #333",G_EDGE_LABELPOS="c",G_EDGE_LABELTYPE="text",G_EDGE_THICKNESS="normal";let nodeDb={},graphItemCount=0;const setConf$2=function(it){const nt=Object.keys(it);for(const rt of nt)it[rt]},getClasses=function(it,nt){log$1.trace("Extracting classes"),nt.db.clear();try{return nt.parser.parse(it),nt.db.extract(nt.db.getRootDocV2()),nt.db.getClasses()}catch(rt){return rt}};function getClassesFromDbInfo(it){return it==null?"":it.classes?it.classes.join(" "):""}function stateDomId(it="",nt=0,rt="",st=DOMID_TYPE_SPACER){const vt=rt!==null&&rt.length>0?`${st}${rt}`:"";return`${DOMID_STATE}-${it}${vt}-${nt}`}const setupNode=(it,nt,rt,st,vt,bt)=>{const _t=rt.id,wt=getClassesFromDbInfo(st[_t]);if(_t!=="root"){let Et=SHAPE_STATE;rt.start===!0&&(Et=SHAPE_START),rt.start===!1&&(Et=SHAPE_END),rt.type!==DEFAULT_STATE_TYPE&&(Et=rt.type),nodeDb[_t]||(nodeDb[_t]={id:_t,shape:Et,description:common$1.sanitizeText(_t,getConfig$1()),classes:`${wt} ${CSS_DIAGRAM_STATE}`});const Tt=nodeDb[_t];rt.description&&(Array.isArray(Tt.description)?(Tt.shape=SHAPE_STATE_WITH_DESC,Tt.description.push(rt.description)):Tt.description.length>0?(Tt.shape=SHAPE_STATE_WITH_DESC,Tt.description===_t?Tt.description=[rt.description]:Tt.description=[Tt.description,rt.description]):(Tt.shape=SHAPE_STATE,Tt.description=rt.description),Tt.description=common$1.sanitizeTextOrArray(Tt.description,getConfig$1())),Tt.description.length===1&&Tt.shape===SHAPE_STATE_WITH_DESC&&(Tt.shape=SHAPE_STATE),!Tt.type&&rt.doc&&(log$1.info("Setting cluster for ",_t,getDir(rt)),Tt.type="group",Tt.dir=getDir(rt),Tt.shape=rt.type===DIVIDER_TYPE?SHAPE_DIVIDER:SHAPE_GROUP,Tt.classes=Tt.classes+" "+CSS_DIAGRAM_CLUSTER+" "+(bt?CSS_DIAGRAM_CLUSTER_ALT:""));const $t={labelStyle:"",shape:Tt.shape,labelText:Tt.description,classes:Tt.classes,style:"",id:_t,dir:Tt.dir,domId:stateDomId(_t,graphItemCount),type:Tt.type,padding:15};if(rt.note){const Dt={labelStyle:"",shape:SHAPE_NOTE,labelText:rt.note.text,classes:CSS_DIAGRAM_NOTE,style:"",id:_t+NOTE_ID+"-"+graphItemCount,domId:stateDomId(_t,graphItemCount,NOTE),type:Tt.type,padding:15},Lt={labelStyle:"",shape:SHAPE_NOTEGROUP,labelText:rt.note.text,classes:Tt.classes,style:"",id:_t+PARENT_ID,domId:stateDomId(_t,graphItemCount,PARENT),type:"group",padding:0};graphItemCount++;const Bt=_t+PARENT_ID;it.setNode(Bt,Lt),it.setNode(Dt.id,Dt),it.setNode(_t,$t),it.setParent(_t,Bt),it.setParent(Dt.id,Bt);let Ht=_t,Ut=Dt.id;rt.note.position==="left of"&&(Ht=Dt.id,Ut=_t),it.setEdge(Ht,Ut,{arrowhead:"none",arrowType:"",style:G_EDGE_STYLE,labelStyle:"",classes:CSS_EDGE_NOTE_EDGE,arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS})}else it.setNode(_t,$t)}nt&&nt.id!=="root"&&(log$1.trace("Setting node ",_t," to be child of its parent ",nt.id),it.setParent(_t,nt.id)),rt.doc&&(log$1.trace("Adding nodes children "),setupDoc(it,rt,rt.doc,st,vt,!bt))},setupDoc=(it,nt,rt,st,vt,bt)=>{log$1.trace("items",rt),rt.forEach(_t=>{switch(_t.stmt){case STMT_STATE:setupNode(it,nt,_t,st,vt,bt);break;case DEFAULT_STATE_TYPE:setupNode(it,nt,_t,st,vt,bt);break;case STMT_RELATION:{setupNode(it,nt,_t.state1,st,vt,bt),setupNode(it,nt,_t.state2,st,vt,bt);const wt={id:"edge"+graphItemCount,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:G_EDGE_STYLE,labelStyle:"",label:common$1.sanitizeText(_t.description,getConfig$1()),arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS,classes:CSS_EDGE};it.setEdge(_t.state1.id,_t.state2.id,wt,graphItemCount),graphItemCount++}break}})},getDir=(it,nt=DEFAULT_NESTED_DOC_DIR)=>{let rt=nt;if(it.doc)for(let st=0;st<it.doc.length;st++){const vt=it.doc[st];vt.stmt==="dir"&&(rt=vt.value)}return rt},draw$2=function(it,nt,rt,st){log$1.info("Drawing state diagram (v2)",nt),nodeDb={},st.db.getDirection();const{securityLevel:vt,state:bt}=getConfig$1(),_t=bt.nodeSpacing||50,wt=bt.rankSpacing||50;log$1.info(st.db.getRootDocV2()),st.db.extract(st.db.getRootDocV2()),log$1.info(st.db.getRootDocV2());const Et=st.db.getStates(),Tt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:getDir(st.db.getRootDocV2()),nodesep:_t,ranksep:wt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});setupNode(Tt,void 0,st.db.getRootDocV2(),Et,st.db,!0);let $t;vt==="sandbox"&&($t=select("#i"+nt));const Dt=select(vt==="sandbox"?$t.nodes()[0].contentDocument.body:"body"),Lt=Dt.select(`[id="${nt}"]`),Bt=Dt.select("#"+nt+" g");render$1(Bt,Tt,["barb"],CSS_DIAGRAM,nt);const Ht=8;utils.insertTitle(Lt,"statediagramTitleText",bt.titleTopMargin,st.db.getDiagramTitle());const Ut=Lt.node().getBBox(),It=Ut.width+Ht*2,jt=Ut.height+Ht*2;Lt.attr("class",CSS_DIAGRAM);const Wt=Lt.node().getBBox();configureSvgSize(Lt,jt,It,bt.useMaxWidth);const qt=`${Wt.x-Ht} ${Wt.y-Ht} ${It} ${jt}`;log$1.debug(`viewBox ${qt}`),Lt.attr("viewBox",qt);const Yt=document.querySelectorAll('[id="'+nt+'"] .edgeLabel .label');for(const ti of Yt){const oi=ti.getBBox(),si=document.createElementNS("http://www.w3.org/2000/svg",SHAPE_STATE);si.setAttribute("rx",0),si.setAttribute("ry",0),si.setAttribute("width",oi.width),si.setAttribute("height",oi.height),ti.insertBefore(si,ti.firstChild)}},stateRendererV2={setConf:setConf$2,getClasses,draw:draw$2};var parser=function(){var it=function(Ut,It,jt,Wt){for(jt=jt||{},Wt=Ut.length;Wt--;jt[Ut[Wt]]=It);return jt},nt=[1,2],rt=[1,5],st=[6,9,11,17,18,20,22,23,24,26],vt=[1,15],bt=[1,16],_t=[1,17],wt=[1,18],Et=[1,19],Tt=[1,20],$t=[1,24],Dt=[4,6,9,11,17,18,20,22,23,24,26],Lt={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(It,jt,Wt,qt,Yt,ti,oi){var si=ti.length-1;switch(Yt){case 1:return ti[si-1];case 3:this.$=[];break;case 4:ti[si-1].push(ti[si]),this.$=ti[si-1];break;case 5:case 6:this.$=ti[si];break;case 7:case 8:this.$=[];break;case 11:qt.setDiagramTitle(ti[si].substr(6)),this.$=ti[si].substr(6);break;case 12:this.$=ti[si].trim(),qt.setAccTitle(this.$);break;case 13:case 14:this.$=ti[si].trim(),qt.setAccDescription(this.$);break;case 15:qt.addSection(ti[si].substr(8)),this.$=ti[si].substr(8);break;case 16:qt.addTask(ti[si-1],ti[si]),this.$="task";break;case 18:qt.parseDirective("%%{","open_directive");break;case 19:qt.parseDirective(ti[si],"type_directive");break;case 20:ti[si]=ti[si].trim().replace(/'/g,'"'),qt.parseDirective(ti[si],"arg_directive");break;case 21:qt.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:nt,7:3,12:4,26:rt},{1:[3]},it(st,[2,3],{5:6}),{3:7,4:nt,7:3,12:4,26:rt},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:vt,18:bt,20:_t,22:wt,23:Et,24:Tt,26:rt},{1:[2,2]},{14:22,15:[1,23],29:$t},it([15,29],[2,19]),it(st,[2,8],{1:[2,1]}),it(st,[2,4]),{7:21,10:25,12:4,17:vt,18:bt,20:_t,22:wt,23:Et,24:Tt,26:rt},it(st,[2,6]),it(st,[2,7]),it(st,[2,11]),{19:[1,26]},{21:[1,27]},it(st,[2,14]),it(st,[2,15]),{25:[1,28]},it(st,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},it(st,[2,5]),it(st,[2,12]),it(st,[2,13]),it(st,[2,16]),it(Dt,[2,9]),{14:32,29:$t},{29:[2,20]},{11:[1,33]},it(Dt,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(It,jt){if(jt.recoverable)this.trace(It);else{var Wt=new Error(It);throw Wt.hash=jt,Wt}},parse:function(It){var jt=this,Wt=[0],qt=[],Yt=[null],ti=[],oi=this.table,si="",di=0,ui=0,ci=2,hi=1,ei=ti.slice.call(arguments,1),wi=Object.create(this.lexer),Kt={yy:{}};for(var Ni in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ni)&&(Kt.yy[Ni]=this.yy[Ni]);wi.setInput(It,Kt.yy),Kt.yy.lexer=wi,Kt.yy.parser=this,typeof wi.yylloc>"u"&&(wi.yylloc={});var ni=wi.yylloc;ti.push(ni);var Fi=wi.options&&wi.options.ranges;typeof Kt.yy.parseError=="function"?this.parseError=Kt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Xi(){var Ii;return Ii=qt.pop()||wi.lex()||hi,typeof Ii!="number"&&(Ii instanceof Array&&(qt=Ii,Ii=qt.pop()),Ii=jt.symbols_[Ii]||Ii),Ii}for(var nn,Ai,ji,Ri,Vi={},Qi,rn,Pi,bn;;){if(Ai=Wt[Wt.length-1],this.defaultActions[Ai]?ji=this.defaultActions[Ai]:((nn===null||typeof nn>"u")&&(nn=Xi()),ji=oi[Ai]&&oi[Ai][nn]),typeof ji>"u"||!ji.length||!ji[0]){var Oi="";bn=[];for(Qi in oi[Ai])this.terminals_[Qi]&&Qi>ci&&bn.push("'"+this.terminals_[Qi]+"'");wi.showPosition?Oi="Parse error on line "+(di+1)+`:
`+wi.showPosition()+`
Expecting `+bn.join(", ")+", got '"+(this.terminals_[nn]||nn)+"'":Oi="Parse error on line "+(di+1)+": Unexpected "+(nn==hi?"end of input":"'"+(this.terminals_[nn]||nn)+"'"),this.parseError(Oi,{text:wi.match,token:this.terminals_[nn]||nn,line:wi.yylineno,loc:ni,expected:bn})}if(ji[0]instanceof Array&&ji.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Ai+", token: "+nn);switch(ji[0]){case 1:Wt.push(nn),Yt.push(wi.yytext),ti.push(wi.yylloc),Wt.push(ji[1]),nn=null,ui=wi.yyleng,si=wi.yytext,di=wi.yylineno,ni=wi.yylloc;break;case 2:if(rn=this.productions_[ji[1]][1],Vi.$=Yt[Yt.length-rn],Vi._$={first_line:ti[ti.length-(rn||1)].first_line,last_line:ti[ti.length-1].last_line,first_column:ti[ti.length-(rn||1)].first_column,last_column:ti[ti.length-1].last_column},Fi&&(Vi._$.range=[ti[ti.length-(rn||1)].range[0],ti[ti.length-1].range[1]]),Ri=this.performAction.apply(Vi,[si,ui,di,Kt.yy,ji[1],Yt,ti].concat(ei)),typeof Ri<"u")return Ri;rn&&(Wt=Wt.slice(0,-1*rn*2),Yt=Yt.slice(0,-1*rn),ti=ti.slice(0,-1*rn)),Wt.push(this.productions_[ji[1]][0]),Yt.push(Vi.$),ti.push(Vi._$),Pi=oi[Wt[Wt.length-2]][Wt[Wt.length-1]],Wt.push(Pi);break;case 3:return!0}}return!0}},Bt=function(){var Ut={EOF:1,parseError:function(jt,Wt){if(this.yy.parser)this.yy.parser.parseError(jt,Wt);else throw new Error(jt)},setInput:function(It,jt){return this.yy=jt||this.yy||{},this._input=It,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var It=this._input[0];this.yytext+=It,this.yyleng++,this.offset++,this.match+=It,this.matched+=It;var jt=It.match(/(?:\r\n?|\n).*/g);return jt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),It},unput:function(It){var jt=It.length,Wt=It.split(/(?:\r\n?|\n)/g);this._input=It+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-jt),this.offset-=jt;var qt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Wt.length-1&&(this.yylineno-=Wt.length-1);var Yt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Wt?(Wt.length===qt.length?this.yylloc.first_column:0)+qt[qt.length-Wt.length].length-Wt[0].length:this.yylloc.first_column-jt},this.options.ranges&&(this.yylloc.range=[Yt[0],Yt[0]+this.yyleng-jt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(It){this.unput(this.match.slice(It))},pastInput:function(){var It=this.matched.substr(0,this.matched.length-this.match.length);return(It.length>20?"...":"")+It.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var It=this.match;return It.length<20&&(It+=this._input.substr(0,20-It.length)),(It.substr(0,20)+(It.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var It=this.pastInput(),jt=new Array(It.length+1).join("-");return It+this.upcomingInput()+`
`+jt+"^"},test_match:function(It,jt){var Wt,qt,Yt;if(this.options.backtrack_lexer&&(Yt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Yt.yylloc.range=this.yylloc.range.slice(0))),qt=It[0].match(/(?:\r\n?|\n).*/g),qt&&(this.yylineno+=qt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:qt?qt[qt.length-1].length-qt[qt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+It[0].length},this.yytext+=It[0],this.match+=It[0],this.matches=It,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(It[0].length),this.matched+=It[0],Wt=this.performAction.call(this,this.yy,this,jt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Wt)return Wt;if(this._backtrack){for(var ti in Yt)this[ti]=Yt[ti];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var It,jt,Wt,qt;this._more||(this.yytext="",this.match="");for(var Yt=this._currentRules(),ti=0;ti<Yt.length;ti++)if(Wt=this._input.match(this.rules[Yt[ti]]),Wt&&(!jt||Wt[0].length>jt[0].length)){if(jt=Wt,qt=ti,this.options.backtrack_lexer){if(It=this.test_match(Wt,Yt[ti]),It!==!1)return It;if(this._backtrack){jt=!1;continue}else return!1}else if(!this.options.flex)break}return jt?(It=this.test_match(jt,Yt[qt]),It!==!1?It:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var jt=this.next();return jt||this.lex()},begin:function(jt){this.conditionStack.push(jt)},popState:function(){var jt=this.conditionStack.length-1;return jt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(jt){return jt=this.conditionStack.length-1-Math.abs(jt||0),jt>=0?this.conditionStack[jt]:"INITIAL"},pushState:function(jt){this.begin(jt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(jt,Wt,qt,Yt){switch(qt){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return Ut}();Lt.lexer=Bt;function Ht(){this.yy={}}return Ht.prototype=Lt,Lt.Parser=Ht,new Ht}();parser.parser=parser;const journeyParser=parser,journeyDetector=it=>it.match(/^\s*journey/)!==null;let currentSection="";const sections=[],tasks=[],rawTasks=[],parseDirective$1=function(it,nt,rt){mermaidAPI.parseDirective(this,it,nt,rt)},clear=function(){sections.length=0,tasks.length=0,currentSection="",rawTasks.length=0,clear$g()},addSection=function(it){currentSection=it,sections.push(it)},getSections=function(){return sections},getTasks=function(){let it=compileTasks();const nt=100;let rt=0;for(;!it&&rt<nt;)it=compileTasks(),rt++;return tasks.push(...rawTasks),tasks},updateActors=function(){const it=[];return tasks.forEach(rt=>{rt.people&&it.push(...rt.people)}),[...new Set(it)].sort()},addTask=function(it,nt){const rt=nt.substr(1).split(":");let st=0,vt=[];rt.length===1?(st=Number(rt[0]),vt=[]):(st=Number(rt[0]),vt=rt[1].split(","));const bt=vt.map(wt=>wt.trim()),_t={section:currentSection,type:currentSection,people:bt,task:it,score:st};rawTasks.push(_t)},addTaskOrg=function(it){const nt={section:currentSection,type:currentSection,description:it,task:it,classes:[]};tasks.push(nt)},compileTasks=function(){const it=function(rt){return rawTasks[rt].processed};let nt=!0;for(const[rt,st]of rawTasks.entries())it(rt),nt=nt&&st.processed;return nt},getActors=function(){return updateActors()},journeyDb={parseDirective:parseDirective$1,getConfig:()=>getConfig$1().journey,clear,setDiagramTitle,getDiagramTitle,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addSection,getSections,getTasks,addTask,addTaskOrg,getActors},drawRect=function(it,nt){const rt=it.append("rect");return rt.attr("x",nt.x),rt.attr("y",nt.y),rt.attr("fill",nt.fill),rt.attr("stroke",nt.stroke),rt.attr("width",nt.width),rt.attr("height",nt.height),rt.attr("rx",nt.rx),rt.attr("ry",nt.ry),nt.class!==void 0&&rt.attr("class",nt.class),rt},drawFace=function(it,nt){const st=it.append("circle").attr("cx",nt.cx).attr("cy",nt.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),vt=it.append("g");vt.append("circle").attr("cx",nt.cx-15/3).attr("cy",nt.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),vt.append("circle").attr("cx",nt.cx+15/3).attr("cy",nt.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function bt(Et){const Tt=arc().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);Et.append("path").attr("class","mouth").attr("d",Tt).attr("transform","translate("+nt.cx+","+(nt.cy+2)+")")}function _t(Et){const Tt=arc().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);Et.append("path").attr("class","mouth").attr("d",Tt).attr("transform","translate("+nt.cx+","+(nt.cy+7)+")")}function wt(Et){Et.append("line").attr("class","mouth").attr("stroke",2).attr("x1",nt.cx-5).attr("y1",nt.cy+7).attr("x2",nt.cx+5).attr("y2",nt.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return nt.score>3?bt(vt):nt.score<3?_t(vt):wt(vt),st},drawCircle=function(it,nt){const rt=it.append("circle");return rt.attr("cx",nt.cx),rt.attr("cy",nt.cy),rt.attr("class","actor-"+nt.pos),rt.attr("fill",nt.fill),rt.attr("stroke",nt.stroke),rt.attr("r",nt.r),rt.class!==void 0&&rt.attr("class",rt.class),nt.title!==void 0&&rt.append("title").text(nt.title),rt},drawText=function(it,nt){const rt=nt.text.replace(/<br\s*\/?>/gi," "),st=it.append("text");st.attr("x",nt.x),st.attr("y",nt.y),st.attr("class","legend"),st.style("text-anchor",nt.anchor),nt.class!==void 0&&st.attr("class",nt.class);const vt=st.append("tspan");return vt.attr("x",nt.x+nt.textMargin*2),vt.text(rt),st},drawLabel=function(it,nt){function rt(vt,bt,_t,wt,Et){return vt+","+bt+" "+(vt+_t)+","+bt+" "+(vt+_t)+","+(bt+wt-Et)+" "+(vt+_t-Et*1.2)+","+(bt+wt)+" "+vt+","+(bt+wt)}const st=it.append("polygon");st.attr("points",rt(nt.x,nt.y,50,20,7)),st.attr("class","labelBox"),nt.y=nt.y+nt.labelMargin,nt.x=nt.x+.5*nt.labelMargin,drawText(it,nt)},drawSection=function(it,nt,rt){const st=it.append("g"),vt=getNoteRect();vt.x=nt.x,vt.y=nt.y,vt.fill=nt.fill,vt.width=rt.width,vt.height=rt.height,vt.class="journey-section section-type-"+nt.num,vt.rx=3,vt.ry=3,drawRect(st,vt),_drawTextCandidateFunc(rt)(nt.text,st,vt.x,vt.y,vt.width,vt.height,{class:"journey-section section-type-"+nt.num},rt,nt.colour)};let taskCount=-1;const drawTask=function(it,nt,rt){const st=nt.x+rt.width/2,vt=it.append("g");taskCount++;const bt=300+5*30;vt.append("line").attr("id","task"+taskCount).attr("x1",st).attr("y1",nt.y).attr("x2",st).attr("y2",bt).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),drawFace(vt,{cx:st,cy:300+(5-nt.score)*30,score:nt.score});const _t=getNoteRect();_t.x=nt.x,_t.y=nt.y,_t.fill=nt.fill,_t.width=rt.width,_t.height=rt.height,_t.class="task task-type-"+nt.num,_t.rx=3,_t.ry=3,drawRect(vt,_t);let wt=nt.x+14;nt.people.forEach(Et=>{const Tt=nt.actors[Et].color,$t={cx:wt,cy:nt.y,r:7,fill:Tt,stroke:"#000",title:Et,pos:nt.actors[Et].position};drawCircle(vt,$t),wt+=10}),_drawTextCandidateFunc(rt)(nt.task,vt,_t.x,_t.y,_t.width,_t.height,{class:"task"},rt,nt.colour)},drawBackgroundRect=function(it,nt){drawRect(it,{x:nt.startx,y:nt.starty,width:nt.stopx-nt.startx,height:nt.stopy-nt.starty,fill:nt.fill,class:"rect"}).lower()},getTextObj=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},getNoteRect=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function it(vt,bt,_t,wt,Et,Tt,$t,Dt){const Lt=bt.append("text").attr("x",_t+Et/2).attr("y",wt+Tt/2+5).style("font-color",Dt).style("text-anchor","middle").text(vt);st(Lt,$t)}function nt(vt,bt,_t,wt,Et,Tt,$t,Dt,Lt){const{taskFontSize:Bt,taskFontFamily:Ht}=Dt,Ut=vt.split(/<br\s*\/?>/gi);for(let It=0;It<Ut.length;It++){const jt=It*Bt-Bt*(Ut.length-1)/2,Wt=bt.append("text").attr("x",_t+Et/2).attr("y",wt).attr("fill",Lt).style("text-anchor","middle").style("font-size",Bt).style("font-family",Ht);Wt.append("tspan").attr("x",_t+Et/2).attr("dy",jt).text(Ut[It]),Wt.attr("y",wt+Tt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(Wt,$t)}}function rt(vt,bt,_t,wt,Et,Tt,$t,Dt){const Lt=bt.append("switch"),Ht=Lt.append("foreignObject").attr("x",_t).attr("y",wt).attr("width",Et).attr("height",Tt).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Ht.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(vt),nt(vt,Lt,_t,wt,Et,Tt,$t,Dt),st(Ht,$t)}function st(vt,bt){for(const _t in bt)_t in bt&&vt.attr(_t,bt[_t])}return function(vt){return vt.textPlacement==="fo"?rt:vt.textPlacement==="old"?it:nt}}(),initGraphics=function(it){it.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},svgDraw={drawRect,drawCircle,drawSection,drawText,drawLabel,drawTask,drawBackgroundRect,getTextObj,getNoteRect,initGraphics},setConf$1=function(it){Object.keys(it).forEach(function(rt){conf$1[rt]=it[rt]})},actors={};function drawActorLegend(it){const nt=getConfig$1().journey;let rt=60;Object.keys(actors).forEach(st=>{const vt=actors[st].color,bt={cx:20,cy:rt,r:7,fill:vt,stroke:"#000",pos:actors[st].position};svgDraw.drawCircle(it,bt);const _t={x:40,y:rt+7,fill:"#666",text:st,textMargin:nt.boxTextMargin|5};svgDraw.drawText(it,_t),rt+=20})}const conf$1=getConfig$1().journey,LEFT_MARGIN=conf$1.leftMargin,draw$1=function(it,nt,rt,st){const vt=getConfig$1().journey;st.db.clear(),st.parser.parse(it+`
`);const bt=getConfig$1().securityLevel;let _t;bt==="sandbox"&&(_t=select("#i"+nt));const wt=select(bt==="sandbox"?_t.nodes()[0].contentDocument.body:"body");bounds.init();const Et=wt.select("#"+nt);svgDraw.initGraphics(Et);const Tt=st.db.getTasks(),$t=st.db.getDiagramTitle(),Dt=st.db.getActors();for(const jt in actors)delete actors[jt];let Lt=0;Dt.forEach(jt=>{actors[jt]={color:vt.actorColours[Lt%vt.actorColours.length],position:Lt},Lt++}),drawActorLegend(Et),bounds.insert(0,0,LEFT_MARGIN,Object.keys(actors).length*50),drawTasks(Et,Tt,0);const Bt=bounds.getBounds();$t&&Et.append("text").text($t).attr("x",LEFT_MARGIN).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const Ht=Bt.stopy-Bt.starty+2*vt.diagramMarginY,Ut=LEFT_MARGIN+Bt.stopx+2*vt.diagramMarginX;configureSvgSize(Et,Ht,Ut,vt.useMaxWidth),Et.append("line").attr("x1",LEFT_MARGIN).attr("y1",vt.height*4).attr("x2",Ut-LEFT_MARGIN-4).attr("y2",vt.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const It=$t?70:0;Et.attr("viewBox",`${Bt.startx} -25 ${Ut} ${Ht+It}`),Et.attr("preserveAspectRatio","xMinYMin meet"),Et.attr("height",Ht+It+25)},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(it,nt,rt,st){it[nt]===void 0?it[nt]=rt:it[nt]=st(rt,it[nt])},updateBounds:function(it,nt,rt,st){const vt=getConfig$1().journey,bt=this;let _t=0;function wt(Et){return function($t){_t++;const Dt=bt.sequenceItems.length-_t+1;bt.updateVal($t,"starty",nt-Dt*vt.boxMargin,Math.min),bt.updateVal($t,"stopy",st+Dt*vt.boxMargin,Math.max),bt.updateVal(bounds.data,"startx",it-Dt*vt.boxMargin,Math.min),bt.updateVal(bounds.data,"stopx",rt+Dt*vt.boxMargin,Math.max),Et!=="activation"&&(bt.updateVal($t,"startx",it-Dt*vt.boxMargin,Math.min),bt.updateVal($t,"stopx",rt+Dt*vt.boxMargin,Math.max),bt.updateVal(bounds.data,"starty",nt-Dt*vt.boxMargin,Math.min),bt.updateVal(bounds.data,"stopy",st+Dt*vt.boxMargin,Math.max))}}this.sequenceItems.forEach(wt())},insert:function(it,nt,rt,st){const vt=Math.min(it,rt),bt=Math.max(it,rt),_t=Math.min(nt,st),wt=Math.max(nt,st);this.updateVal(bounds.data,"startx",vt,Math.min),this.updateVal(bounds.data,"starty",_t,Math.min),this.updateVal(bounds.data,"stopx",bt,Math.max),this.updateVal(bounds.data,"stopy",wt,Math.max),this.updateBounds(vt,_t,bt,wt)},bumpVerticalPos:function(it){this.verticalPos=this.verticalPos+it,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},fills=conf$1.sectionFills,textColours=conf$1.sectionColours,drawTasks=function(it,nt,rt){const st=getConfig$1().journey;let vt="";const bt=st.height*2+st.diagramMarginY,_t=rt+bt;let wt=0,Et="#CCC",Tt="black",$t=0;for(const[Dt,Lt]of nt.entries()){if(vt!==Lt.section){Et=fills[wt%fills.length],$t=wt%fills.length,Tt=textColours[wt%textColours.length];const Ht={x:Dt*st.taskMargin+Dt*st.width+LEFT_MARGIN,y:50,text:Lt.section,fill:Et,num:$t,colour:Tt};svgDraw.drawSection(it,Ht,st),vt=Lt.section,wt++}const Bt=Lt.people.reduce((Ht,Ut)=>(actors[Ut]&&(Ht[Ut]=actors[Ut]),Ht),{});Lt.x=Dt*st.taskMargin+Dt*st.width+LEFT_MARGIN,Lt.y=_t,Lt.width=st.diagramMarginX,Lt.height=st.diagramMarginY,Lt.colour=Tt,Lt.fill=Et,Lt.num=$t,Lt.actors=Bt,svgDraw.drawTask(it,Lt,st),bounds.insert(Lt.x,Lt.y,Lt.x+Lt.width+st.taskMargin,300+5*30)}},journeyRenderer={setConf:setConf$1,draw:draw$1};let conf={};const setConf=function(it){conf={...conf,...it}},draw=(it,nt,rt)=>{try{log$1.debug(`Renering svg for syntax error
`);const st=select("#"+nt),vt=st.append("g");vt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),vt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),vt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),vt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),vt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),vt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),vt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),vt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+rt),st.attr("height",100),st.attr("width",500),st.attr("viewBox","768 0 912 512")}catch(st){log$1.error("Error while rendering info diagram"),log$1.error(getErrorMessage(st))}},errorRenderer={setConf,draw};let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",{db:{clear:()=>{}},styles:errorStyles,renderer:errorRenderer,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},it=>it.toLowerCase().trim()==="error"),registerDiagram("c4",{parser:c4Parser,db:c4Db,renderer:c4Renderer,styles:c4Styles,init:it=>{c4Renderer.setConf(it.c4)}},c4Detector),registerDiagram("class",{parser:classParser,db:classDb,renderer:classRenderer,styles:classStyles,init:it=>{it.class||(it.class={}),it.class.arrowMarkerAbsolute=it.arrowMarkerAbsolute,classDb.clear()}},classDetector),registerDiagram("classDiagram",{parser:classParser,db:classDb,renderer:classRendererV2,styles:classStyles,init:it=>{it.class||(it.class={}),it.class.arrowMarkerAbsolute=it.arrowMarkerAbsolute,classDb.clear()}},classDetectorV2),registerDiagram("er",{parser:erParser,db:erDb,renderer:erRenderer,styles:erStyles},erDetector),registerDiagram("gantt",{parser:ganttParser,db:ganttDb,renderer:ganttRenderer,styles:ganttStyles},ganttDetector),registerDiagram("info",{parser:infoParser,db:infoDb,renderer:infoRenderer,styles:infoStyles},infoDetector),registerDiagram("pie",{parser:pieParser,db:pieDb,renderer:pieRenderer,styles:pieStyles},pieDetector),registerDiagram("requirement",{parser:requirementParser,db:requirementDb,renderer:requirementRenderer,styles:requirementStyles},requirementDetector),registerDiagram("sequence",{parser:sequenceParser,db:sequenceDb,renderer:sequenceRenderer,styles:sequenceStyles,init:it=>{if(it.sequence||(it.sequence={}),it.sequence.arrowMarkerAbsolute=it.arrowMarkerAbsolute,"sequenceDiagram"in it)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");sequenceDb.setWrap(it.wrap),sequenceRenderer.setConf(it.sequence)}},sequenceDetector),registerDiagram("state",{parser:stateParser,db:stateDb,renderer:stateRenderer,styles:stateStyles,init:it=>{it.state||(it.state={}),it.state.arrowMarkerAbsolute=it.arrowMarkerAbsolute,stateDb.clear()}},stateDetector),registerDiagram("stateDiagram",{parser:stateParser,db:stateDb,renderer:stateRendererV2,styles:stateStyles,init:it=>{it.state||(it.state={}),it.state.arrowMarkerAbsolute=it.arrowMarkerAbsolute,stateDb.clear()}},stateDetectorV2),registerDiagram("journey",{parser:journeyParser,db:journeyDb,renderer:journeyRenderer,styles:journeyStyles,init:it=>{journeyRenderer.setConf(it.journey),journeyDb.clear()}},journeyDetector),registerDiagram("flowchart",{parser:flowParser,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:it=>{it.flowchart||(it.flowchart={}),it.flowchart.arrowMarkerAbsolute=it.arrowMarkerAbsolute,flowRenderer.setConf(it.flowchart),flowDb.clear(),flowDb.setGen("gen-1")}},flowDetector),registerDiagram("flowchart-v2",{parser:flowParser,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:it=>{it.flowchart||(it.flowchart={}),it.flowchart.arrowMarkerAbsolute=it.arrowMarkerAbsolute,setConfig({flowchart:{arrowMarkerAbsolute:it.arrowMarkerAbsolute}}),flowRendererV2.setConf(it.flowchart),flowDb.clear(),flowDb.setGen("gen-2")}},flowDetectorV2),registerDiagram("gitGraph",{parser:gitGraphParser,db:gitGraphDb,renderer:gitGraphRenderer,styles:gitGraphStyles},gitGraphDetector))};class Diagram{constructor(nt,rt){__publicField(this,"type","graph"),__publicField(this,"parser"),__publicField(this,"renderer"),__publicField(this,"db"),__publicField(this,"detectTypeFailed",!1);var st,vt;this.txt=nt;const bt=getConfig$1();this.txt=nt;try{this.type=detectType(nt,bt)}catch(Et){this.handleError(Et,rt),this.type="error",this.detectTypeFailed=!0}const _t=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=_t.db,(vt=(st=this.db).clear)==null||vt.call(st),this.renderer=_t.renderer,this.parser=_t.parser;const wt=this.parser.parse.bind(this.parser);this.parser.parse=Et=>wt(extractFrontMatter(Et,this.db)),this.parser.parser.yy=this.db,_t.init&&(_t.init(bt),log$1.debug("Initialized diagram "+this.type,bt)),this.txt+=`
`,this.parse(this.txt,rt)}parse(nt,rt){var st,vt;if(this.detectTypeFailed)return!1;try{return nt=nt+`
`,(vt=(st=this.db).clear)==null||vt.call(st),this.parser.parse(nt),!0}catch(bt){this.handleError(bt,rt)}return!1}handleError(nt,rt){if(rt===void 0)throw nt;if(isDetailedError(nt)){rt(nt.str,nt.hash);return}rt(nt)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText=(it,nt)=>{const rt=detectType(it,getConfig$1());try{getDiagram(rt)}catch{const vt=getDiagramLoader(rt);if(!vt)throw new Error(`Diagram ${rt} not found.`);return vt().then(({diagram:bt})=>(registerDiagram(rt,bt,void 0),new Diagram(it,nt)))}return new Diagram(it,nt)},Diagram$1=Diagram;function setA11yDiagramInfo(it,nt){isEmpty(nt)||it.attr("aria-roledescription",nt)}function addSVGa11yTitleDescription(it,nt,rt,st){if(it.insert!==void 0)if(nt||rt){if(rt){const vt="chart-desc-"+st;it.attr("aria-describedby",vt),it.insert("desc",":first-child").attr("id",vt).text(rt)}if(nt){const vt="chart-title-"+st;it.attr("aria-labelledby",vt),it.insert("title",":first-child").attr("id",vt).text(nt)}}else return}const CLASSDEF_DIAGRAMS=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function parse$1(it,nt){return addDiagrams(),new Diagram$1(it,nt).parse(it,nt)}async function parseAsync$1(it,nt){return addDiagrams(),(await getDiagramFromText(it,nt)).parse(it,nt)}const encodeEntities=function(it){let nt=it;return nt=nt.replace(/style.*:\S*#.*;/g,function(rt){return rt.substring(0,rt.length-1)}),nt=nt.replace(/classDef.*:\S*#.*;/g,function(rt){return rt.substring(0,rt.length-1)}),nt=nt.replace(/#\w+;/g,function(rt){const st=rt.substring(1,rt.length-1);return/^\+?\d+$/.test(st)?"\uFB02\xB0\xB0"+st+"\xB6\xDF":"\uFB02\xB0"+st+"\xB6\xDF"}),nt},decodeEntities=function(it){let nt=it;return nt=nt.replace(//g,"&#"),nt=nt.replace(//g,"&"),nt=nt.replace(//g,";"),nt},cssImportantStyles=(it,nt,rt=[])=>`
.${it} ${nt} { ${rt.join(" !important; ")} !important; }`,createCssStyles=(it,nt,rt={})=>{var st;let vt="";if(it.themeCSS!==void 0&&(vt+=`
${it.themeCSS}`),it.fontFamily!==void 0&&(vt+=`
:root { --mermaid-font-family: ${it.fontFamily}}`),it.altFontFamily!==void 0&&(vt+=`
:root { --mermaid-alt-font-family: ${it.altFontFamily}}`),!isEmpty(rt)&&CLASSDEF_DIAGRAMS.includes(nt)){const Et=it.htmlLabels||((st=it.flowchart)==null?void 0:st.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const Tt in rt){const $t=rt[Tt];isEmpty($t.styles)||Et.forEach(Dt=>{vt+=cssImportantStyles($t.id,Dt,$t.styles)}),isEmpty($t.textStyles)||(vt+=cssImportantStyles($t.id,"tspan",$t.textStyles))}}return vt},createUserStyles=(it,nt,rt,st)=>{const vt=createCssStyles(it,nt,rt),bt=getStyles$2(nt,vt,it.themeVariables);return serialize(compile(`${st}{${bt}}`),stringify)},cleanUpSvgCode=(it="",nt,rt)=>{let st=it;return!rt&&!nt&&(st=st.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),st=decodeEntities(st),st=st.replace(/<br>/g,"<br/>"),st},putIntoIFrame=(it="",nt)=>{const rt=nt?nt.viewBox.baseVal.height+"px":IFRAME_HEIGHT,st=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+it+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${rt};${IFRAME_STYLES}" src="data:text/html;base64,${st}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(it,nt,rt,st,vt)=>{const bt=it.append("div");bt.attr("id",rt),st&&bt.attr("style",st);const _t=bt.append("svg").attr("id",nt).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return vt&&_t.attr("xmlns:xlink",vt),_t.append("g"),it};function sandboxedIframe(it,nt){return it.append("iframe").attr("id",nt).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(it,nt,rt,st)=>{var vt,bt,_t;(vt=it.getElementById(nt))==null||vt.remove(),(bt=it.getElementById(rt))==null||bt.remove(),(_t=it.getElementById(st))==null||_t.remove()},render=function(it,nt,rt,st){var vt,bt,_t,wt,Et;addDiagrams(),reset();const Tt=utils.detectInit(nt);Tt&&(directiveSanitizer(Tt),addDirective(Tt));const $t=getConfig$1();log$1.debug($t),nt.length>((vt=$t==null?void 0:$t.maxTextSize)!=null?vt:5e4)&&(nt=MAX_TEXTLENGTH_EXCEEDED_MSG),nt=nt.replace(/\r\n?/g,`
`);const Dt="#"+it,Lt="i"+it,Bt="#"+Lt,Ht="d"+it,Ut="#"+Ht;let It=select("body");const jt=$t.securityLevel===SECURITY_LVL_SANDBOX,Wt=$t.securityLevel===SECURITY_LVL_LOOSE,qt=$t.fontFamily;if(st!==void 0){if(st&&(st.innerHTML=""),jt){const nn=sandboxedIframe(select(st),Lt);It=select(nn.nodes()[0].contentDocument.body),It.node().style.margin=0}else It=select(st);appendDivSvgG(It,it,Ht,`font-family: ${qt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,it,Ht,Lt),jt){const nn=sandboxedIframe(select("body"),Lt);It=select(nn.nodes()[0].contentDocument.body),It.node().style.margin=0}else It=select("body");appendDivSvgG(It,it,Ht)}nt=encodeEntities(nt);let Yt,ti;try{if(Yt=getDiagramFromText(nt),"then"in Yt)throw new Error("Diagram is a promise. Use renderAsync.")}catch(nn){Yt=new Diagram$1("error"),ti=nn}const oi=It.select(Ut).node(),si=Yt.type,di=oi.firstChild,ui=di.firstChild,ci=CLASSDEF_DIAGRAMS.includes(si)?Yt.renderer.getClasses(nt,Yt):{},hi=createUserStyles($t,si,ci,Dt),ei=document.createElement("style");ei.innerHTML=hi,di.insertBefore(ei,ui);try{Yt.renderer.draw(nt,it,pkg.version,Yt)}catch(nn){throw errorRenderer.draw(nt,it,pkg.version),nn}const wi=It.select(`${Ut} svg`),Kt=(_t=(bt=Yt.db).getAccTitle)==null?void 0:_t.call(bt),Ni=(Et=(wt=Yt.db).getAccDescription)==null?void 0:Et.call(wt);addA11yInfo(si,wi,Kt,Ni),It.select(`[id="${it}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let ni=It.select(Ut).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",$t.arrowMarkerAbsolute),ni=cleanUpSvgCode(ni,jt,evaluate($t.arrowMarkerAbsolute)),jt){const nn=It.select(Ut+" svg").node();ni=putIntoIFrame(ni,nn)}else Wt||(ni=purify.sanitize(ni,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(rt!==void 0)switch(si){case"flowchart":case"flowchart-v2":rt(ni,flowDb.bindFunctions);break;case"gantt":rt(ni,ganttDb.bindFunctions);break;case"class":case"classDiagram":rt(ni,classDb.bindFunctions);break;default:rt(ni)}else log$1.debug("CB = undefined!");attachFunctions();const Xi=select(jt?Bt:Ut).node();if(Xi&&"remove"in Xi&&Xi.remove(),ti)throw ti;return ni},renderAsync$1=async function(it,nt,rt,st){var vt,bt,_t,wt,Et;addDiagrams(),reset();const Tt=utils.detectInit(nt);Tt&&(directiveSanitizer(Tt),addDirective(Tt));const $t=getConfig$1();log$1.debug($t),nt.length>((vt=$t==null?void 0:$t.maxTextSize)!=null?vt:5e4)&&(nt=MAX_TEXTLENGTH_EXCEEDED_MSG),nt=nt.replace(/\r\n?/g,`
`);const Dt="#"+it,Lt="i"+it,Bt="#"+Lt,Ht="d"+it,Ut="#"+Ht;let It=select("body");const jt=$t.securityLevel===SECURITY_LVL_SANDBOX,Wt=$t.securityLevel===SECURITY_LVL_LOOSE,qt=$t.fontFamily;if(st!==void 0){if(st&&(st.innerHTML=""),jt){const nn=sandboxedIframe(select(st),Lt);It=select(nn.nodes()[0].contentDocument.body),It.node().style.margin=0}else It=select(st);appendDivSvgG(It,it,Ht,`font-family: ${qt}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,it,Ht,Lt),jt){const nn=sandboxedIframe(select("body"),Lt);It=select(nn.nodes()[0].contentDocument.body),It.node().style.margin=0}else It=select("body");appendDivSvgG(It,it,Ht)}nt=encodeEntities(nt);let Yt,ti;try{Yt=await getDiagramFromText(nt)}catch(nn){Yt=new Diagram$1("error"),ti=nn}const oi=It.select(Ut).node(),si=Yt.type,di=oi.firstChild,ui=di.firstChild,ci=CLASSDEF_DIAGRAMS.includes(si)?Yt.renderer.getClasses(nt,Yt):{},hi=createUserStyles($t,si,ci,Dt),ei=document.createElement("style");ei.innerHTML=hi,di.insertBefore(ei,ui);try{await Yt.renderer.draw(nt,it,pkg.version,Yt)}catch(nn){throw errorRenderer.draw(nt,it,pkg.version),nn}const wi=It.select(`${Ut} svg`),Kt=(_t=(bt=Yt.db).getAccTitle)==null?void 0:_t.call(bt),Ni=(Et=(wt=Yt.db).getAccDescription)==null?void 0:Et.call(wt);addA11yInfo(si,wi,Kt,Ni),It.select(`[id="${it}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let ni=It.select(Ut).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",$t.arrowMarkerAbsolute),ni=cleanUpSvgCode(ni,jt,evaluate($t.arrowMarkerAbsolute)),jt){const nn=It.select(Ut+" svg").node();ni=putIntoIFrame(ni,nn)}else Wt||(ni=purify.sanitize(ni,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(rt!==void 0)switch(si){case"flowchart":case"flowchart-v2":rt(ni,flowDb.bindFunctions);break;case"gantt":rt(ni,ganttDb.bindFunctions);break;case"class":case"classDiagram":rt(ni,classDb.bindFunctions);break;default:rt(ni)}else log$1.debug("CB = undefined!");attachFunctions();const Xi=select(jt?Bt:Ut).node();if(Xi&&"remove"in Xi&&Xi.remove(),ti)throw ti;return ni};let currentDirective={};const parseDirective=function(it,nt,rt,st){try{if(nt!==void 0)switch(nt=nt.trim(),rt){case"open_directive":currentDirective={};break;case"type_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.type=nt.toLowerCase();break;case"arg_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.args=JSON.parse(nt);break;case"close_directive":handleDirective(it,currentDirective,st),currentDirective=void 0;break}}catch(vt){log$1.error(`Error while rendering sequenceDiagram directive: ${nt} jison context: ${rt}`),log$1.error(vt.message)}},handleDirective=function(it,nt,rt){switch(log$1.debug(`Directive type=${nt.type} with args:`,nt.args),nt.type){case"init":case"initialize":{["config"].forEach(st=>{nt.args[st]!==void 0&&(rt==="flowchart-v2"&&(rt="flowchart"),nt.args[rt]=nt.args[st],delete nt.args[st])}),log$1.debug("sanitize in handleDirective",nt.args),directiveSanitizer(nt.args),log$1.debug("sanitize in handleDirective (done)",nt.args),addDirective(nt.args);break}case"wrap":case"nowrap":it&&it.setWrap&&it.setWrap(nt.type==="wrap");break;case"themeCss":log$1.warn("themeCss encountered");break;default:log$1.warn(`Unhandled directive: source: '%%{${nt.type}: ${JSON.stringify(nt.args?nt.args:{})}}%%`,nt);break}};function initialize$1(it={}){var nt;(it==null?void 0:it.fontFamily)&&!((nt=it.themeVariables)!=null&&nt.fontFamily)&&(it.themeVariables={fontFamily:it.fontFamily}),saveConfigFromInitialize(it),(it==null?void 0:it.theme)&&it.theme in theme?it.themeVariables=theme[it.theme].getThemeVariables(it.themeVariables):it&&(it.themeVariables=theme.default.getThemeVariables(it.themeVariables));const rt=typeof it=="object"?setSiteConfig(it):getSiteConfig();setLogLevel$1(rt.logLevel),addDiagrams()}function addA11yInfo(it,nt,rt,st){setA11yDiagramInfo(nt,it),addSVGa11yTitleDescription(nt,rt,st,nt.attr("id"))}const mermaidAPI=Object.freeze({render,renderAsync:renderAsync$1,parse:parse$1,parseAsync:parseAsync$1,parseDirective,initialize:initialize$1,getConfig:getConfig$1,setConfig,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig)},defaultConfig});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());let externalDiagramsRegistered=!1;const init$1=async function(it,nt,rt){try{externalDiagramsRegistered?await initThrowsErrorsAsync(it,nt,rt):initThrowsErrors(it,nt,rt)}catch(st){log$1.warn("Syntax Error rendering"),isDetailedError(st)&&log$1.warn(st.str),mermaid.parseError&&mermaid.parseError(st)}},handleError=(it,nt,rt)=>{log$1.warn(it),isDetailedError(it)?(rt&&rt(it.str,it.hash),nt.push({...it,message:it.str,error:it})):(rt&&rt(it),it instanceof Error&&nt.push({str:it.message,message:it.message,hash:it.name,error:it}))},initThrowsErrors=function(it,nt,rt){const st=mermaidAPI.getConfig();it&&(mermaid.sequenceConfig=it),log$1.debug(`${rt?"":"No "}Callback function found`);let vt;if(nt===void 0)vt=document.querySelectorAll(".mermaid");else if(typeof nt=="string")vt=document.querySelectorAll(nt);else if(nt instanceof HTMLElement)vt=[nt];else if(nt instanceof NodeList)vt=nt;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${vt.length} diagrams`),(it==null?void 0:it.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(it==null?void 0:it.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:it==null?void 0:it.startOnLoad}));const bt=new utils.initIdGenerator(st.deterministicIds,st.deterministicIDSeed);let _t;const wt=[];for(const Et of Array.from(vt)){log$1.info("Rendering diagram: "+Et.id);/*! Check if previously processed */if(Et.getAttribute("data-processed"))continue;Et.setAttribute("data-processed","true");const Tt=`mermaid-${bt.next()}`;_t=Et.innerHTML,_t=utils.entityDecode(_t).trim().replace(/<br\s*\/?>/gi,"<br/>");const $t=utils.detectInit(_t);$t&&log$1.debug("Detected early reinit: ",$t);try{mermaidAPI.render(Tt,_t,(Dt,Lt)=>{Et.innerHTML=Dt,rt!==void 0&&rt(Tt),Lt&&Lt(Et)},Et)}catch(Dt){handleError(Dt,wt,mermaid.parseError)}}if(wt.length>0)throw wt[0]},registerLazyLoadedDiagrams=it=>{for(const{id:nt,detector:rt,loader:st}of it)addDetector(nt,rt,st)},loadExternalDiagrams=async it=>{log$1.debug(`Loading ${it.length} external diagrams`);const rt=(await Promise.allSettled(it.map(async({id:st,detector:vt,loader:bt})=>{const{diagram:_t}=await bt();registerDiagram(st,_t,vt)}))).filter(st=>st.status==="rejected");if(rt.length>0){log$1.error(`Failed to load ${rt.length} external diagrams`);for(const st of rt)log$1.error(st);throw new Error(`Failed to load ${rt.length} external diagrams`)}},initThrowsErrorsAsync=async function(it,nt,rt){const st=mermaidAPI.getConfig();it&&(mermaid.sequenceConfig=it),log$1.debug(`${rt?"":"No "}Callback function found`);let vt;if(nt===void 0)vt=document.querySelectorAll(".mermaid");else if(typeof nt=="string")vt=document.querySelectorAll(nt);else if(nt instanceof HTMLElement)vt=[nt];else if(nt instanceof NodeList)vt=nt;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${vt.length} diagrams`),(it==null?void 0:it.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(it==null?void 0:it.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:it==null?void 0:it.startOnLoad}));const bt=new utils.initIdGenerator(st.deterministicIds,st.deterministicIDSeed);let _t;const wt=[];for(const Et of Array.from(vt)){log$1.info("Rendering diagram: "+Et.id);/*! Check if previously processed */if(Et.getAttribute("data-processed"))continue;Et.setAttribute("data-processed","true");const Tt=`mermaid-${bt.next()}`;_t=Et.innerHTML,_t=utils.entityDecode(_t).trim().replace(/<br\s*\/?>/gi,"<br/>");const $t=utils.detectInit(_t);$t&&log$1.debug("Detected early reinit: ",$t);try{await mermaidAPI.renderAsync(Tt,_t,(Dt,Lt)=>{Et.innerHTML=Dt,rt!==void 0&&rt(Tt),Lt&&Lt(Et)},Et)}catch(Dt){handleError(Dt,wt,mermaid.parseError)}}if(wt.length>0)throw wt[0]},initialize=function(it){mermaidAPI.initialize(it)},registerExternalDiagrams=async(it,{lazyLoad:nt=!0}={})=>{nt?registerLazyLoadedDiagrams(it):await loadExternalDiagrams(it),externalDiagramsRegistered=!0},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:it}=mermaidAPI.getConfig();it&&mermaid.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(it){mermaid.parseError=it},parse=it=>mermaidAPI.parse(it,mermaid.parseError),executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const it=executionQueue.shift();if(it)try{await it()}catch(nt){log$1.error("Error executing queue",nt)}}executionQueueRunning=!1}},parseAsync=it=>new Promise((nt,rt)=>{const st=()=>new Promise((vt,bt)=>{mermaidAPI.parseAsync(it,mermaid.parseError).then(_t=>{vt(_t),nt(_t)},_t=>{log$1.error("Error parsing",_t),bt(_t),rt(_t)})});executionQueue.push(st),executeQueue()}),renderAsync=(it,nt,rt,st)=>new Promise((vt,bt)=>{const _t=()=>new Promise((wt,Et)=>{mermaidAPI.renderAsync(it,nt,rt,st).then(Tt=>{wt(Tt),vt(Tt)},Tt=>{log$1.error("Error parsing",Tt),Et(Tt),bt(Tt)})});executionQueue.push(_t),executeQueue()}),mermaid={startOnLoad:!0,diagrams:{},mermaidAPI,parse,parseAsync,render:mermaidAPI.render,renderAsync,init:init$1,initThrowsErrors,initThrowsErrorsAsync,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler},_hoisted_1$9={class:"content"},_hoisted_2$7=createBaseVNode("div",{id:"diagram"},null,-1),_hoisted_3$7={key:0,id:"caption-bar"},_hoisted_4$5=["innerHTML"],_sfc_main$b=defineComponent({__name:"Mermaid.ce",props:{type:{type:String},caption:{type:String},width:{type:String},height:{type:String},position:{type:String},right:{type:Boolean},left:{type:Boolean},full:{type:Boolean},sticky:{type:Boolean}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var Tt;return(Tt=rt==null?void 0:rt.value)==null?void 0:Tt.parentNode}),vt=computed(()=>{var Tt,$t;return($t=(Tt=rt.value)==null?void 0:Tt.getRootNode())==null?void 0:$t.host}),bt=computed(()=>{var Tt;return(Tt=st.value)==null?void 0:Tt.querySelector(".content")});watch$1(vt,()=>wt());const _t=nt.position||(nt.right?"right":nt.left?"left":"full");function wt(){vt.value.classList.add("ve-component"),vt.value.classList.add(_t),_t==="full"?vt.value.style.width="100%":(vt.value.style.float=_t,vt.value.style.width="50%"),vt.value.style.width=window.getComputedStyle(vt.value).width,bt.value.style.width=nt.width||"100%";let Tt=parseInt(window.getComputedStyle(bt.value).width.slice(0,-2));bt.value.style.width=`${Tt}px`,Et()}function Et(){let Tt=vt.value.textContent.trim();mermaid.initialize({startOnLoad:!1}),async function(){var Lt;let $t=(Lt=st.value)==null?void 0:Lt.querySelector("#diagram");const Dt=function(Bt){$t&&($t.innerHTML=Bt)};await mermaid.render("diagram",Tt,Dt)}()}return(Tt,$t)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,id:"main"},[createBaseVNode("div",_hoisted_1$9,[_hoisted_2$7,nt.caption?(openBlock(),createElementBlock("div",_hoisted_3$7,[createBaseVNode("div",{class:"label",innerHTML:it.caption},null,8,_hoisted_4$5)])):createCommentVNode("",!0)])],512))}}),_style_0$6=`*{box-sizing:border-box}.content{display:flex;flex-direction:column;justify-content:center;align-content:center;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#diagram{display:block;margin:auto;width:100%;padding:12px 0}#caption-bar{display:flex;align-items:center;height:32px;width:100%;background-color:#555;color:#fff;padding:0 12px}.entityBox:hover{fill:#ff0}
`,Mermaid=_export_sfc(_sfc_main$b,[["styles",[_style_0$6]]]),_hoisted_1$8=["name"],_hoisted_2$6=["label"],_hoisted_3$6=["innerHTML"],_sfc_main$a=defineComponent({__name:"Modal.ce",props:{src:{type:String},prefix:{type:String},label:{type:String},buttonLabel:{type:String,default:"Show me"},buttonIcon:{type:String},width:{type:String}},setup(it){const nt=it,rt=location.hostname==="localhost"?"http://localhost:8000":"https://api.juncture-digital.org",st=ref(null),vt=computed(()=>{var Ht;return(Ht=st==null?void 0:st.value)==null?void 0:Ht.parentNode}),bt=computed(()=>{var Ht,Ut;return(Ut=(Ht=st.value)==null?void 0:Ht.getRootNode())==null?void 0:Ut.host}),_t=computed(()=>{var Ht;return(Ht=vt.value)==null?void 0:Ht.querySelector("#main")}),wt=ref("80vw"),Et=ref(!1);watch$1(Et,()=>{Tt.open=Et.value,Dt.value||Lt()});let Tt;const $t=ref(),Dt=ref();watch$1(bt,()=>{wt.value=nt.width||(isMobile()?"100vw":"80vh");let Ht=bt.value.textContent.split(`
`),Ut=[];if(Ht.forEach(It=>{(It.trim().length>0||Ut.length>0)&&Ut.push(It)}),Ut.length>0){let It=(Ut[0].match(/(^\s+)/)||[""])[0].length;$t.value=Ut.map(jt=>(jt.match(/(^\s+)/)||[""])[0].length>=It?jt.slice(It):jt).join(`
`)}}),watch$1(_t,()=>{var Ht;Tt=(Ht=vt.value)==null?void 0:Ht.querySelector(".dialog"),Tt.addEventListener("sl-hide",Ut=>{Ut.target===Tt&&(Et.value=!1)})});function Lt(){if(Dt.value="",nt.src){let Ht=`${rt}/html/${nt.src}`,[Ut,It,...jt]=nt.src.split("/");Ut==="juncture-digital"&&It==="juncture"&&(location.hostname==="dev.juncture-digital.org"||location.hostname==="localhost")&&(Ht+="?ref=dev"),fetch(Ht).then(Wt=>Wt.text()).then(Wt=>{var ti;let Yt=(ti=new DOMParser().parseFromString(Wt,"text/html").children[0].children[1].querySelector("main"))==null?void 0:ti.outerHTML;Yt&&(Dt.value=Yt),nextTick(()=>initTippy(vt.value,!0))})}else fetch(`${rt}/html/?inline=true`,{method:"POST",body:JSON.stringify({prefix:`${nt.prefix}`,path:"",markdown:$t.value})}).then(Ht=>Ht.text()).then(Ht=>{var jt;let It=(jt=new DOMParser().parseFromString(Ht,"text/html").children[0].children[1].querySelector("main"))==null?void 0:jt.outerHTML;It&&(Dt.value=It),nextTick(()=>initTippy(vt.value,!0))})}function Bt(Ht){var It;let Ut=$t.value;Ut&&((It=Ht.dataTransfer)==null||It.setData("text/plain",Ut))}return(Ht,Ut)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,id:"main"},[createBaseVNode("sl-button",{onClick:Ut[0]||(Ut[0]=It=>Et.value=!Et.value)},[nt.buttonIcon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:nt.buttonIcon,style:{"font-size":"20px"}},null,8,_hoisted_1$8)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(nt.buttonLabel),1)]),createBaseVNode("sl-dialog",{label:it.label,class:"dialog",style:normalizeStyle({"--width":wt.value})},[createBaseVNode("div",{id:"content",innerHTML:Dt.value,draggable:"true",onDragstart:Bt},null,40,_hoisted_3$6),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:Ut[1]||(Ut[1]=It=>Et.value=!1)},"Close")],12,_hoisted_2$6)],512))}}),_style_1$3=`*{box-sizing:border-box}:host{display:inline-block}sl-dialog::part(body){padding-top:0}sl-dialog::part(panel){max-width:unset}
`,Modal=_export_sfc(_sfc_main$a,[["styles",[_style_0$o,_style_1$3]]]),_hoisted_1$7=["href"],_hoisted_2$5=["src"],_hoisted_3$5=["src"],_hoisted_4$4={class:"title-panel"},_hoisted_5$4=["innerHTML"],_hoisted_6$3=["innerHTML"],_hoisted_7$3={class:"controls"},_hoisted_8$3=["search-domain"],_hoisted_9$2=["background","contact"],_hoisted_10$1=["innerHTML"],_sfc_main$9=defineComponent({__name:"Navbar.ce",props:{label:{type:String},subtitle:{type:String},background:{type:String},logo:{type:String},url:{type:String},alpha:{type:Number},contact:{type:String},sticky:{type:Boolean,default:!1},height:{type:Number,default:80},offset:{type:Number,default:0},searchDomain:{type:String}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var wt,Et;return(Et=(wt=rt.value)==null?void 0:wt.getRootNode())==null?void 0:Et.host}),vt=computed(()=>{var wt,Et;return(Et=(wt=rt==null?void 0:rt.value)==null?void 0:wt.parentNode)==null?void 0:Et.querySelector(".ve-navbar")}),bt=ref();ref([]),onMounted(()=>{_t(),nextTick(()=>{var wt;return bt.value=(wt=st.value.querySelector("ul"))==null?void 0:wt.innerHTML})}),watch$1(nt,()=>_t());function _t(){if(vt.value.style.height=`${nt.height}px`,nt.background&&(st.value.style.backgroundColor=nt.background),nt.offset&&(vt.value.style.marginTop=`-${nt.offset}px`),nt.sticky&&(st.value.classList.add("sticky"),st.value.style.position="sticky",st.value.style.top="0",nt.alpha&&(st.value.style.background=`rgba(0, 0, 0, ${nt.alpha})`),st.value.style.marginTop=`-${nt.offset}px`),nt.label){let wt=document.querySelector("title");wt||(wt=document.createElement("title"),document.head.appendChild(wt)),wt.innerText=nt.label}}return(wt,Et)=>(openBlock(),createElementBlock("section",{ref_key:"root",ref:rt,class:"ve-navbar",style:normalizeStyle({height:`${nt.height}px`})},[nt.logo?(openBlock(),createElementBlock(Fragment,{key:0},[nt.url?(openBlock(),createElementBlock("a",{key:0,href:nt.url},[createBaseVNode("img",{src:nt.logo,alt:"logo",class:"logo"},null,8,_hoisted_2$5)],8,_hoisted_1$7)):(openBlock(),createElementBlock("img",{key:1,src:nt.logo,alt:"logo",class:"logo"},null,8,_hoisted_3$5))],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$4,[createBaseVNode("div",{class:"title",innerHTML:nt.label},null,8,_hoisted_5$4),nt.subtitle?(openBlock(),createElementBlock("div",{key:0,class:"subtitle",innerHTML:nt.subtitle},null,8,_hoisted_6$3)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$3,[nt.searchDomain?(openBlock(),createElementBlock("ve-site-search",{key:0,"search-domain":nt.searchDomain},null,8,_hoisted_8$3)):createCommentVNode("",!0),bt.value?(openBlock(),createElementBlock("ve-menu",{key:1,background:nt.background,position:"right",contact:nt.contact},[createBaseVNode("ul",{innerHTML:bt.value},null,8,_hoisted_10$1)],8,_hoisted_9$2)):createCommentVNode("",!0)])],4))}}),_style_0$5=`*{box-sizing:border-box}:host,ve-navbar{display:block;position:relative;width:100%;z-index:10}.ve-navbar{display:flex;width:100%;height:100%;padding:0;align-items:center;background-color:inherit}.logo{margin-left:20px;background-color:#fff}img.logo{max-height:50px}.controls{display:flex;align-items:center;margin-left:auto}.title-panel{display:flex;flex-direction:column;gap:6px;margin-left:1rem}.title,.subtitle{color:#fff}.title{font-size:2rem;line-height:1.8rem;padding-top:0;font-weight:700}.subtitle{font-size:1.4rem}@media (max-width: 480px){.title{font-size:1.6rem}}
`,Navbar=_export_sfc(_sfc_main$9,[["styles",[_style_0$5]]]),_hoisted_1$6={ref:"root",class:"pagination"},_hoisted_2$4=["disabled"],_hoisted_3$4=["innerHTML"],_hoisted_4$3=["innerHTML"],_hoisted_5$3=["disabled"],_sfc_main$8=defineComponent({__name:"Pager.ce",props:{total:{type:Number,required:!0},current:{type:Number,default:1}},emits:["image-selected"],setup(it,{emit:nt}){const rt=it,st=ref();return st.value=rt.current,watch$1(st,()=>nt("image-selected",st.value)),(vt,bt)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[createBaseVNode("span",{class:"prev",onClick:bt[0]||(bt[0]=_t=>st.value>1&&--st.value),disabled:st.value===1},"\xAB",8,_hoisted_2$4),createBaseVNode("span",{class:"current",innerHTML:st.value},null,8,_hoisted_3$4),createTextVNode(" / "),createBaseVNode("span",{class:"total",innerHTML:rt.total},null,8,_hoisted_4$3),createBaseVNode("span",{class:"next",onClick:bt[1]||(bt[1]=_t=>st.value<rt.total&&++st.value),disabled:st.value===rt.total},"\xBB",8,_hoisted_5$3)],512))}}),_style_0$4=`.pagination{display:flex;align-items:center;justify-content:center;background-color:#eee;height:30px;color:#444}.current,.total{padding:0 12px;font-size:1.3rem}.prev[disabled=true],.next[disabled=true]{color:#ccc;cursor:unset}.prev,.next{height:100%;float:left;padding:0 8px;text-decoration:none;transition:background-color .3s;cursor:pointer;font-size:40px;margin-top:-28px}.prev[disabled=false]:hover,.next[disabled=false]:hover{color:var(--sl-color-primary-700)}
`,Pager=_export_sfc(_sfc_main$8,[["styles",[_style_0$4]]]),_hoisted_1$5=createBaseVNode("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),_hoisted_2$3={class:"wrapper"},_hoisted_3$3={class:"search-form"},_hoisted_4$2={class:"input-wrapper"},_hoisted_5$2={key:0,class:"search-results"},_hoisted_6$2=["href"],_hoisted_7$2=["innerHTML"],_hoisted_8$2=["innerHTML"],_hoisted_9$1={key:0},_sfc_main$7=defineComponent({__name:"SiteSearch.ce",props:{searchDomain:{type:String}},setup(it){const nt=it,rt="/search",st=ref(null),vt=computed(()=>{var It;return(It=st==null?void 0:st.value)==null?void 0:It.parentNode}),bt=ref(),_t=ref(),wt=ref(""),Et=ref([]),Tt=ref(0),$t=ref(!1);onMounted(()=>Dt());function Dt(){var It,jt;bt.value=(It=vt.value)==null?void 0:It.querySelector("#search-input"),bt.value.value="",_t.value=(jt=vt.value)==null?void 0:jt.querySelector("#search-btn"),Et.value=[]}watch$1($t,()=>{var It;_t.value&&(_t.value.checked=$t.value),$t&&((It=bt.value)==null||It.focus())});function Lt(){var qt;let It=(qt=bt.value)==null?void 0:qt.value.replace(/ /,"%20"),jt=It===wt.value?Et.value.length+1:1,Wt=`${rt}?domain=${nt.searchDomain}&q=${It}&start=${jt}`;fetch(Wt).then(Yt=>Yt.json()).then(Yt=>{Tt.value=parseInt(Yt.searchInformation.totalResults);let ti=Yt.items.map(oi=>{let si=new URL(oi.link);return oi.link=`${location.origin}${si.pathname}`,oi});Et.value=It!==wt.value?ti:[...Et.value,...ti],wt.value=It||""})}function Bt(It){It.key==="Enter"&&Lt()}function Ht(){$t.value=!1,bt.value&&(bt.value.value=""),wt.value="",Tt.value=0,Et.value=[]}function Ut(){$t.value=!$t.value}return(It,jt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,class:"search"},[_hoisted_1$5,createBaseVNode("div",_hoisted_2$3,[createBaseVNode("div",_hoisted_3$3,[createBaseVNode("div",_hoisted_4$2,[createBaseVNode("sl-icon-button",{class:"cancel",onClick:Ht,name:"x-circle",label:"Clear"}),createBaseVNode("input",{type:"text",id:"search-input",class:"search-input","on:onKeyUp":Bt,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)])]),Et.value.length>0?(openBlock(),createElementBlock("ul",_hoisted_5$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Et.value,(Wt,qt)=>(openBlock(),createElementBlock("li",{key:`sr=${qt}`},[createBaseVNode("a",{href:Wt.link},[createBaseVNode("h3",{innerHTML:Wt.htmlTitle},null,8,_hoisted_7$2),createBaseVNode("p",{innerHTML:Wt.htmlSnippet},null,8,_hoisted_8$2)],8,_hoisted_6$2)]))),128)),Tt.value>Et.value.length?(openBlock(),createElementBlock("li",_hoisted_9$1,[createBaseVNode("div",{class:"more",onClick:Lt},"More")])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("label",{class:"search-icon",htmlFor:"search-btn"},[createBaseVNode("sl-icon-button",{onClick:Ut,name:"search",label:"Search"})])],512))}}),_style_0$3=`*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:30px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-submit sl-icon{color:#00f;font-size:20px}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(even){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-icon sl-icon-button::part(base){color:#fff}.search-btn:checked~.search-icon sl-icon-button::part(base){visibility:hidden}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}.cancel{position:absolute;right:0;top:4px;font-size:16px;cursor:pointer}
`,SiteSearch=_export_sfc(_sfc_main$7,[["styles",[_style_0$3]]]);var tab_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    cursor: pointer;
    transition: var(--transition-speed) box-shadow, var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,id$1=0,SlTab=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.attrId=++id$1,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(){this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(it){this.tab.focus(it)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,y$2`
      <div
        part="base"
        class=${o$1({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?y$2`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlTab.styles=tab_styles_default;__decorateClass([i2$2(".tab")],SlTab.prototype,"tab",2);__decorateClass([e2$2({reflect:!0})],SlTab.prototype,"panel",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTab.prototype,"active",2);__decorateClass([e2$2({type:Boolean})],SlTab.prototype,"closable",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTab.prototype,"disabled",2);__decorateClass([watch("active")],SlTab.prototype,"handleActiveChange",1);__decorateClass([watch("disabled")],SlTab.prototype,"handleDisabledChange",1);SlTab=__decorateClass([e$1("sl-tab")],SlTab);var tab_group_styles_default=i$4`
  ${component_styles_default}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition: var(--sl-transition-fast) translate ease, var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,SlTabGroup=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(it=>{it.some(nt=>!["aria-labelledby","aria-controls"].includes(nt.attributeName))&&setTimeout(()=>this.setAriaLabels()),it.some(nt=>nt.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),new IntersectionObserver((nt,rt)=>{var st;nt[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((st=this.getActiveTab())!=null?st:this.tabs[0],{emitEvents:!1}),rt.unobserve(nt[0].target))}).observe(this.tabGroup)})}disconnectedCallback(){this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(it={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(rt=>it.includeDisabled?rt.tagName.toLowerCase()==="sl-tab":rt.tagName.toLowerCase()==="sl-tab"&&!rt.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(it=>it.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(it=>it.active)}handleClick(it){const rt=it.target.closest("sl-tab");(rt==null?void 0:rt.closest("sl-tab-group"))===this&&rt!==null&&this.setActiveTab(rt,{scrollBehavior:"smooth"})}handleKeyDown(it){const rt=it.target.closest("sl-tab");if((rt==null?void 0:rt.closest("sl-tab-group"))===this&&(["Enter"," "].includes(it.key)&&rt!==null&&(this.setActiveTab(rt,{scrollBehavior:"smooth"}),it.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(it.key))){const vt=this.tabs.find(_t=>_t.matches(":focus")),bt=this.localize.dir()==="rtl";if((vt==null?void 0:vt.tagName.toLowerCase())==="sl-tab"){let _t=this.tabs.indexOf(vt);it.key==="Home"?_t=0:it.key==="End"?_t=this.tabs.length-1:["top","bottom"].includes(this.placement)&&it.key===(bt?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&it.key==="ArrowUp"?_t--:(["top","bottom"].includes(this.placement)&&it.key===(bt?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&it.key==="ArrowDown")&&_t++,_t<0&&(_t=this.tabs.length-1),_t>this.tabs.length-1&&(_t=0),this.tabs[_t].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[_t],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&scrollIntoView(this.tabs[_t],this.nav,"horizontal"),it.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(it,nt){if(nt=__spreadValues({emitEvents:!0,scrollBehavior:"auto"},nt),it!==this.activeTab&&!it.disabled){const rt=this.activeTab;this.activeTab=it,this.tabs.map(st=>st.active=st===this.activeTab),this.panels.map(st=>{var vt;return st.active=st.name===((vt=this.activeTab)==null?void 0:vt.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&scrollIntoView(this.activeTab,this.nav,"horizontal",nt.scrollBehavior),nt.emitEvents&&(rt&&this.emit("sl-tab-hide",{detail:{name:rt.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(it=>{const nt=this.panels.find(rt=>rt.name===it.panel);nt&&(it.setAttribute("aria-controls",nt.getAttribute("id")),nt.setAttribute("aria-labelledby",it.getAttribute("id")))})}repositionIndicator(){const it=this.getActiveTab();if(!it)return;const nt=it.clientWidth,rt=it.clientHeight,st=this.localize.dir()==="rtl",vt=this.getAllTabs(),_t=vt.slice(0,vt.indexOf(it)).reduce((wt,Et)=>({left:wt.left+Et.clientWidth,top:wt.top+Et.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${nt}px`,this.indicator.style.height="auto",this.indicator.style.translate=st?`${-1*_t.left}px`:`${_t.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${rt}px`,this.indicator.style.translate=`0 ${_t.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator()}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(it){const nt=this.tabs.find(rt=>rt.panel===it);nt&&this.setActiveTab(nt,{scrollBehavior:"smooth"})}render(){const it=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        class=${o$1({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?y$2`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${it?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?y$2`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${it?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};SlTabGroup.styles=tab_group_styles_default;__decorateClass([i2$2(".tab-group")],SlTabGroup.prototype,"tabGroup",2);__decorateClass([i2$2(".tab-group__body")],SlTabGroup.prototype,"body",2);__decorateClass([i2$2(".tab-group__nav")],SlTabGroup.prototype,"nav",2);__decorateClass([i2$2(".tab-group__indicator")],SlTabGroup.prototype,"indicator",2);__decorateClass([t$1()],SlTabGroup.prototype,"hasScrollControls",2);__decorateClass([e2$2()],SlTabGroup.prototype,"placement",2);__decorateClass([e2$2()],SlTabGroup.prototype,"activation",2);__decorateClass([e2$2({attribute:"no-scroll-controls",type:Boolean})],SlTabGroup.prototype,"noScrollControls",2);__decorateClass([watch("noScrollControls",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"updateScrollControls",1);__decorateClass([watch("placement",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"syncIndicator",1);SlTabGroup=__decorateClass([e$1("sl-tab-group")],SlTabGroup);var tab_panel_styles_default=i$4`
  ${component_styles_default}

  :host {
    --padding: 0;

    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }

  .tab-panel:not(.tab-panel--active) {
    display: none;
  }
`,id=0,SlTabPanel=class extends ShoelaceElement{constructor(){super(...arguments),this.attrId=++id,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return y$2`
      <slot
        part="base"
        class=${o$1({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};SlTabPanel.styles=tab_panel_styles_default;__decorateClass([e2$2({reflect:!0})],SlTabPanel.prototype,"name",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTabPanel.prototype,"active",2);__decorateClass([watch("active")],SlTabPanel.prototype,"handleActiveChange",1);SlTabPanel=__decorateClass([e$1("sl-tab-panel")],SlTabPanel);const _hoisted_1$4=["open"],_hoisted_2$2=createBaseVNode("sl-icon",{name:"plus-square",slot:"expand-icon"},null,-1),_hoisted_3$2=createBaseVNode("sl-icon",{name:"dash-square",slot:"collapse-icon"},null,-1),_hoisted_4$1={slot:"summary"},_hoisted_5$1={content:"Show code snippets",placement:"top"},_hoisted_6$1={style:{display:"flex",alignItems:"center",gap:"9px"}},_hoisted_7$1=createBaseVNode("sl-icon",{name:"markdown",style:{"font-size":"24px"}},null,-1),_hoisted_8$1=createBaseVNode("sl-icon",{name:"code-slash",style:{"font-size":"24px"}},null,-1),_hoisted_9=["innerHTML"],_hoisted_10=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("sl-icon",{name:"markdown"}),createTextVNode("Markdown")],-1),_hoisted_11=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("sl-icon",{name:"code-slash"}),createTextVNode("HTML")],-1),_hoisted_12=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("sl-icon",{name:"eye"}),createTextVNode("Rendered")],-1),_hoisted_13={name:"markdown"},_hoisted_14=["innerHTML"],_hoisted_15={name:"html"},_hoisted_16=["innerHTML"],_hoisted_17={name:"preview"},_hoisted_18=["innerHTML"],_hoisted_19={key:1},_hoisted_20=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("sl-icon",{name:"markdown"}),createTextVNode("Markdown")],-1),_hoisted_21=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("sl-icon",{name:"code-slash"}),createTextVNode("HTML")],-1),_hoisted_22=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("sl-icon",{name:"eye"}),createTextVNode("Rendered")],-1),_hoisted_23={name:"markdown"},_hoisted_24=["innerHTML"],_hoisted_25={name:"html"},_hoisted_26=["innerHTML"],_hoisted_27={name:"preview"},_hoisted_28=["innerHTML","draggable"],_sfc_main$6=defineComponent({__name:"Snippet.ce",props:{label:{type:String},collapsible:{type:Boolean,default:!1},open:{type:Boolean,default:!1},prefix:{type:String},right:{type:Boolean},left:{type:Boolean},width:{type:String},height:{type:String},fill:{type:Boolean},showActive:{type:Boolean},disableDrag:{type:Boolean}},setup(it){const nt=it,rt=location.hostname==="localhost"?"http://localhost:8000":"https://api.juncture-digital.org",st=ref(null),vt=computed(()=>{var Ht;return(Ht=st==null?void 0:st.value)==null?void 0:Ht.parentNode}),bt=computed(()=>{var Ht,Ut;return(Ut=(Ht=st.value)==null?void 0:Ht.getRootNode())==null?void 0:Ut.host}),_t=computed(()=>{var Ht;return(Ht=vt.value)==null?void 0:Ht.querySelector("sl-tab-group")}),wt=ref(),Et=ref(),Tt=ref();watch$1(bt,()=>{let Ht=bt.value.textContent.split(`
`),Ut=[];if(Ht.forEach(It=>{(It.trim().length>0||Ut.length>0)&&Ut.push(It)}),Ut.length>0){let It=(Ut[0].match(/(^\s+)/)||[""])[0].length;wt.value=Ut.map(jt=>(jt.match(/(^\s+)/)||[""])[0].length>=It?jt.slice(It):jt).join(`
`)}}),watch$1(Tt,()=>{Tt.value!=="markdown"&&Et.value===void 0&&Lt(),Tt.value==="preview"&&nextTick(()=>{initTippy(vt.value,!0)}),nt.fill&&Et.value&&nextTick(()=>Dt()),nt.height&&nextTick(()=>$t())}),watch$1(_t,()=>{var Ht;(Ht=vt.value)==null||Ht.querySelectorAll("sl-tab").forEach(Ut=>{new MutationObserver(jt=>{var qt;let Wt=jt[0].target;Wt.getAttribute("aria-selected")==="true"&&(Tt.value=(qt=Wt.getAttribute("panel"))==null?void 0:qt.valueOf())}).observe(Ut,{attributes:!0})})});function $t(){var Ut;let Ht=(Ut=vt.value)==null?void 0:Ut.querySelector('sl-tab-panel[name="preview"]');Tt.value==="preview"&&nt.height&&(Ht.style.height=nt.height)}function Dt(){var Ut,It;let Ht=(Ut=vt.value)==null?void 0:Ut.querySelector('sl-tab-panel[name="preview"]');if(Tt.value==="preview"){let jt=(It=vt.value)==null?void 0:It.querySelector("#juncture"),Wt=Ht.clientWidth/2,qt=document.createElement("div");qt.style.height=`${Wt}px`;let Yt=jt.querySelector("ve-footer");Yt?jt.insertBefore(qt,Yt):jt.appendChild(qt),Ht.style.height=nt.height||`${Math.max(Wt/2,500)}px`,Ht.style.overflowY="scroll"}else Ht.style.height=""}function Lt(){Et.value="";let Ht=`${rt}/html/?inline=true`;fetch(Ht,{method:"POST",body:JSON.stringify({prefix:`${nt.prefix||""}`,path:"",markdown:wt.value})}).then(Ut=>Ut.text()).then(Ut=>{let jt=new DOMParser().parseFromString(Ut,"text/html").children[0].children[1].querySelector("main");jt&&(Et.value=jt.innerHTML,Tt.value==="preview"&&nextTick(()=>{var Wt;nt.fill&&Dt(),initTippy(vt.value,!0),observeActive((Wt=vt.value)==null?void 0:Wt.querySelector("#juncture"))}))})}function Bt(Ht){var It;let Ut=wt.value;Ut&&((It=Ht.dataTransfer)==null||It.setData("text/plain",Ut))}return(Ht,Ut)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,id:"main"},[it.collapsible?(openBlock(),createElementBlock("sl-details",{key:0,class:"custom-icons",open:nt.open,draggable:"true",onDragstart:Bt},[_hoisted_2$2,_hoisted_3$2,createBaseVNode("div",_hoisted_4$1,[createBaseVNode("sl-tooltip",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[_hoisted_7$1,_hoisted_8$1,createBaseVNode("span",{innerHTML:nt.label,class:"label"},null,8,_hoisted_9)])])]),createBaseVNode("sl-tab-group",null,[_hoisted_10,_hoisted_11,_hoisted_12,createBaseVNode("sl-tab-panel",_hoisted_13,[Tt.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:wt.value},null,8,_hoisted_14)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_15,[Tt.value==="html"&&Et.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:Et.value,language:"html"},null,8,_hoisted_16)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_17,[Tt.value==="preview"&&Et.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},innerHTML:Et.value,draggable:"true",onDragstart:Bt},null,40,_hoisted_18)):createCommentVNode("",!0)])])],40,_hoisted_1$4)):(openBlock(),createElementBlock("sl-tab-group",_hoisted_19,[_hoisted_20,_hoisted_21,_hoisted_22,createBaseVNode("sl-tab-panel",_hoisted_23,[Tt.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:wt.value},null,8,_hoisted_24)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_25,[Tt.value==="html"&&Et.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:Et.value,language:"html"},null,8,_hoisted_26)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_27,[Tt.value==="preview"&&Et.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},innerHTML:Et.value,draggable:!it.disableDrag,onDragstart:Bt},null,40,_hoisted_28)):createCommentVNode("",!0)])]))],512))}}),_style_1$2=`*{box-sizing:border-box}:host{display:block;margin-top:1.5rem;border-radius:2px;border:.5px solid #ddd;margin-bottom:2rem}:host([collapsible]){border:none}#main{font-family:Roboto,sans-serif;margin-top:0}sl-tab-panel{--padding: 0}sl-tab::part(base){padding:12px}#juncture{padding:12px;font-size:1.2em;line-height:1.3}sl-details::part(header){background-color:#f9f9f9}sl-details::part(summary){font-size:1rem}sl-details::part(content){border-top:1px solid #ddd;padding:0}sl-details.custom-icons::part(summary-icon){rotate:none}sl-tab sl-icon{font-size:24px;margin-right:6px}.label{margin-left:12px;color:#555;font-weight:400}
`,Snippet=_export_sfc(_sfc_main$6,[["styles",[_style_0$o,_style_1$2]]]);var prism$1={exports:{}};(function(it){var nt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var rt=function(st){var vt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,bt=0,_t={},wt={manual:st.Prism&&st.Prism.manual,disableWorkerMessageHandler:st.Prism&&st.Prism.disableWorkerMessageHandler,util:{encode:function Wt(qt){return qt instanceof Et?new Et(qt.type,Wt(qt.content),qt.alias):Array.isArray(qt)?qt.map(Wt):qt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Wt){return Object.prototype.toString.call(Wt).slice(8,-1)},objId:function(Wt){return Wt.__id||Object.defineProperty(Wt,"__id",{value:++bt}),Wt.__id},clone:function Wt(qt,Yt){Yt=Yt||{};var ti,oi;switch(wt.util.type(qt)){case"Object":if(oi=wt.util.objId(qt),Yt[oi])return Yt[oi];ti={},Yt[oi]=ti;for(var si in qt)qt.hasOwnProperty(si)&&(ti[si]=Wt(qt[si],Yt));return ti;case"Array":return oi=wt.util.objId(qt),Yt[oi]?Yt[oi]:(ti=[],Yt[oi]=ti,qt.forEach(function(di,ui){ti[ui]=Wt(di,Yt)}),ti);default:return qt}},getLanguage:function(Wt){for(;Wt;){var qt=vt.exec(Wt.className);if(qt)return qt[1].toLowerCase();Wt=Wt.parentElement}return"none"},setLanguage:function(Wt,qt){Wt.className=Wt.className.replace(RegExp(vt,"gi"),""),Wt.classList.add("language-"+qt)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(ti){var Wt=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ti.stack)||[])[1];if(Wt){var qt=document.getElementsByTagName("script");for(var Yt in qt)if(qt[Yt].src==Wt)return qt[Yt]}return null}},isActive:function(Wt,qt,Yt){for(var ti="no-"+qt;Wt;){var oi=Wt.classList;if(oi.contains(qt))return!0;if(oi.contains(ti))return!1;Wt=Wt.parentElement}return!!Yt}},languages:{plain:_t,plaintext:_t,text:_t,txt:_t,extend:function(Wt,qt){var Yt=wt.util.clone(wt.languages[Wt]);for(var ti in qt)Yt[ti]=qt[ti];return Yt},insertBefore:function(Wt,qt,Yt,ti){ti=ti||wt.languages;var oi=ti[Wt],si={};for(var di in oi)if(oi.hasOwnProperty(di)){if(di==qt)for(var ui in Yt)Yt.hasOwnProperty(ui)&&(si[ui]=Yt[ui]);Yt.hasOwnProperty(di)||(si[di]=oi[di])}var ci=ti[Wt];return ti[Wt]=si,wt.languages.DFS(wt.languages,function(hi,ei){ei===ci&&hi!=Wt&&(this[hi]=si)}),si},DFS:function Wt(qt,Yt,ti,oi){oi=oi||{};var si=wt.util.objId;for(var di in qt)if(qt.hasOwnProperty(di)){Yt.call(qt,di,qt[di],ti||di);var ui=qt[di],ci=wt.util.type(ui);ci==="Object"&&!oi[si(ui)]?(oi[si(ui)]=!0,Wt(ui,Yt,null,oi)):ci==="Array"&&!oi[si(ui)]&&(oi[si(ui)]=!0,Wt(ui,Yt,di,oi))}}},plugins:{},highlightAll:function(Wt,qt){wt.highlightAllUnder(document,Wt,qt)},highlightAllUnder:function(Wt,qt,Yt){var ti={callback:Yt,container:Wt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};wt.hooks.run("before-highlightall",ti),ti.elements=Array.prototype.slice.apply(ti.container.querySelectorAll(ti.selector)),wt.hooks.run("before-all-elements-highlight",ti);for(var oi=0,si;si=ti.elements[oi++];)wt.highlightElement(si,qt===!0,ti.callback)},highlightElement:function(Wt,qt,Yt){var ti=wt.util.getLanguage(Wt),oi=wt.languages[ti];wt.util.setLanguage(Wt,ti);var si=Wt.parentElement;si&&si.nodeName.toLowerCase()==="pre"&&wt.util.setLanguage(si,ti);var di=Wt.textContent,ui={element:Wt,language:ti,grammar:oi,code:di};function ci(ei){ui.highlightedCode=ei,wt.hooks.run("before-insert",ui),ui.element.innerHTML=ui.highlightedCode,wt.hooks.run("after-highlight",ui),wt.hooks.run("complete",ui),Yt&&Yt.call(ui.element)}if(wt.hooks.run("before-sanity-check",ui),si=ui.element.parentElement,si&&si.nodeName.toLowerCase()==="pre"&&!si.hasAttribute("tabindex")&&si.setAttribute("tabindex","0"),!ui.code){wt.hooks.run("complete",ui),Yt&&Yt.call(ui.element);return}if(wt.hooks.run("before-highlight",ui),!ui.grammar){ci(wt.util.encode(ui.code));return}if(qt&&st.Worker){var hi=new Worker(wt.filename);hi.onmessage=function(ei){ci(ei.data)},hi.postMessage(JSON.stringify({language:ui.language,code:ui.code,immediateClose:!0}))}else ci(wt.highlight(ui.code,ui.grammar,ui.language))},highlight:function(Wt,qt,Yt){var ti={code:Wt,grammar:qt,language:Yt};if(wt.hooks.run("before-tokenize",ti),!ti.grammar)throw new Error('The language "'+ti.language+'" has no grammar.');return ti.tokens=wt.tokenize(ti.code,ti.grammar),wt.hooks.run("after-tokenize",ti),Et.stringify(wt.util.encode(ti.tokens),ti.language)},tokenize:function(Wt,qt){var Yt=qt.rest;if(Yt){for(var ti in Yt)qt[ti]=Yt[ti];delete qt.rest}var oi=new Dt;return Lt(oi,oi.head,Wt),$t(Wt,oi,qt,oi.head,0),Ht(oi)},hooks:{all:{},add:function(Wt,qt){var Yt=wt.hooks.all;Yt[Wt]=Yt[Wt]||[],Yt[Wt].push(qt)},run:function(Wt,qt){var Yt=wt.hooks.all[Wt];if(!(!Yt||!Yt.length))for(var ti=0,oi;oi=Yt[ti++];)oi(qt)}},Token:Et};st.Prism=wt;function Et(Wt,qt,Yt,ti){this.type=Wt,this.content=qt,this.alias=Yt,this.length=(ti||"").length|0}Et.stringify=function Wt(qt,Yt){if(typeof qt=="string")return qt;if(Array.isArray(qt)){var ti="";return qt.forEach(function(ci){ti+=Wt(ci,Yt)}),ti}var oi={type:qt.type,content:Wt(qt.content,Yt),tag:"span",classes:["token",qt.type],attributes:{},language:Yt},si=qt.alias;si&&(Array.isArray(si)?Array.prototype.push.apply(oi.classes,si):oi.classes.push(si)),wt.hooks.run("wrap",oi);var di="";for(var ui in oi.attributes)di+=" "+ui+'="'+(oi.attributes[ui]||"").replace(/"/g,"&quot;")+'"';return"<"+oi.tag+' class="'+oi.classes.join(" ")+'"'+di+">"+oi.content+"</"+oi.tag+">"};function Tt(Wt,qt,Yt,ti){Wt.lastIndex=qt;var oi=Wt.exec(Yt);if(oi&&ti&&oi[1]){var si=oi[1].length;oi.index+=si,oi[0]=oi[0].slice(si)}return oi}function $t(Wt,qt,Yt,ti,oi,si){for(var di in Yt)if(!(!Yt.hasOwnProperty(di)||!Yt[di])){var ui=Yt[di];ui=Array.isArray(ui)?ui:[ui];for(var ci=0;ci<ui.length;++ci){if(si&&si.cause==di+","+ci)return;var hi=ui[ci],ei=hi.inside,wi=!!hi.lookbehind,Kt=!!hi.greedy,Ni=hi.alias;if(Kt&&!hi.pattern.global){var ni=hi.pattern.toString().match(/[imsuy]*$/)[0];hi.pattern=RegExp(hi.pattern.source,ni+"g")}for(var Fi=hi.pattern||hi,Xi=ti.next,nn=oi;Xi!==qt.tail&&!(si&&nn>=si.reach);nn+=Xi.value.length,Xi=Xi.next){var Ai=Xi.value;if(qt.length>Wt.length)return;if(!(Ai instanceof Et)){var ji=1,Ri;if(Kt){if(Ri=Tt(Fi,nn,Wt,wi),!Ri||Ri.index>=Wt.length)break;var Pi=Ri.index,Vi=Ri.index+Ri[0].length,Qi=nn;for(Qi+=Xi.value.length;Pi>=Qi;)Xi=Xi.next,Qi+=Xi.value.length;if(Qi-=Xi.value.length,nn=Qi,Xi.value instanceof Et)continue;for(var rn=Xi;rn!==qt.tail&&(Qi<Vi||typeof rn.value=="string");rn=rn.next)ji++,Qi+=rn.value.length;ji--,Ai=Wt.slice(nn,Qi),Ri.index-=nn}else if(Ri=Tt(Fi,0,Ai,wi),!Ri)continue;var Pi=Ri.index,bn=Ri[0],Oi=Ai.slice(0,Pi),Ii=Ai.slice(Pi+bn.length),Gi=nn+Ai.length;si&&Gi>si.reach&&(si.reach=Gi);var $i=Xi.prev;Oi&&($i=Lt(qt,$i,Oi),nn+=Oi.length),Bt(qt,$i,ji);var ii=new Et(di,ei?wt.tokenize(bn,ei):bn,Ni,bn);if(Xi=Lt(qt,$i,ii),Ii&&Lt(qt,Xi,Ii),ji>1){var Nt={cause:di+","+ci,reach:Gi};$t(Wt,qt,Yt,Xi.prev,nn,Nt),si&&Nt.reach>si.reach&&(si.reach=Nt.reach)}}}}}}function Dt(){var Wt={value:null,prev:null,next:null},qt={value:null,prev:Wt,next:null};Wt.next=qt,this.head=Wt,this.tail=qt,this.length=0}function Lt(Wt,qt,Yt){var ti=qt.next,oi={value:Yt,prev:qt,next:ti};return qt.next=oi,ti.prev=oi,Wt.length++,oi}function Bt(Wt,qt,Yt){for(var ti=qt.next,oi=0;oi<Yt&&ti!==Wt.tail;oi++)ti=ti.next;qt.next=ti,ti.prev=qt,Wt.length-=oi}function Ht(Wt){for(var qt=[],Yt=Wt.head.next;Yt!==Wt.tail;)qt.push(Yt.value),Yt=Yt.next;return qt}if(!st.document)return st.addEventListener&&(wt.disableWorkerMessageHandler||st.addEventListener("message",function(Wt){var qt=JSON.parse(Wt.data),Yt=qt.language,ti=qt.code,oi=qt.immediateClose;st.postMessage(wt.highlight(ti,wt.languages[Yt],Yt)),oi&&st.close()},!1)),wt;var Ut=wt.util.currentScript();Ut&&(wt.filename=Ut.src,Ut.hasAttribute("data-manual")&&(wt.manual=!0));function It(){wt.manual||wt.highlightAll()}if(!wt.manual){var jt=document.readyState;jt==="loading"||jt==="interactive"&&Ut&&Ut.defer?document.addEventListener("DOMContentLoaded",It):window.requestAnimationFrame?window.requestAnimationFrame(It):window.setTimeout(It,16)}return wt}(nt);it.exports&&(it.exports=rt),typeof commonjsGlobal$1<"u"&&(commonjsGlobal$1.Prism=rt),rt.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},rt.languages.markup.tag.inside["attr-value"].inside.entity=rt.languages.markup.entity,rt.languages.markup.doctype.inside["internal-subset"].inside=rt.languages.markup,rt.hooks.add("wrap",function(st){st.type==="entity"&&(st.attributes.title=st.content.replace(/&amp;/,"&"))}),Object.defineProperty(rt.languages.markup.tag,"addInlined",{value:function(vt,bt){var _t={};_t["language-"+bt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:rt.languages[bt]},_t.cdata=/^<!\[CDATA\[|\]\]>$/i;var wt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:_t}};wt["language-"+bt]={pattern:/[\s\S]+/,inside:rt.languages[bt]};var Et={};Et[vt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return vt}),"i"),lookbehind:!0,greedy:!0,inside:wt},rt.languages.insertBefore("markup","cdata",Et)}}),Object.defineProperty(rt.languages.markup.tag,"addAttribute",{value:function(st,vt){rt.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+st+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[vt,"language-"+vt],inside:rt.languages[vt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),rt.languages.html=rt.languages.markup,rt.languages.mathml=rt.languages.markup,rt.languages.svg=rt.languages.markup,rt.languages.xml=rt.languages.extend("markup",{}),rt.languages.ssml=rt.languages.xml,rt.languages.atom=rt.languages.xml,rt.languages.rss=rt.languages.xml,function(st){var vt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;st.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+vt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+vt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+vt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+vt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:vt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},st.languages.css.atrule.inside.rest=st.languages.css;var bt=st.languages.markup;bt&&(bt.tag.addInlined("style","css"),bt.tag.addAttribute("style","css"))}(rt),rt.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},rt.languages.javascript=rt.languages.extend("clike",{"class-name":[rt.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),rt.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,rt.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:rt.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:rt.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:rt.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:rt.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:rt.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),rt.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:rt.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),rt.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),rt.languages.markup&&(rt.languages.markup.tag.addInlined("script","javascript"),rt.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),rt.languages.js=rt.languages.javascript,function(){if(typeof rt>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var st="Loading\u2026",vt=function(Ut,It){return"\u2716 Error "+Ut+" while fetching file: "+It},bt="\u2716 Error: File does not exist or is empty",_t={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},wt="data-src-status",Et="loading",Tt="loaded",$t="failed",Dt="pre[data-src]:not(["+wt+'="'+Tt+'"]):not(['+wt+'="'+Et+'"])';function Lt(Ut,It,jt){var Wt=new XMLHttpRequest;Wt.open("GET",Ut,!0),Wt.onreadystatechange=function(){Wt.readyState==4&&(Wt.status<400&&Wt.responseText?It(Wt.responseText):Wt.status>=400?jt(vt(Wt.status,Wt.statusText)):jt(bt))},Wt.send(null)}function Bt(Ut){var It=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Ut||"");if(It){var jt=Number(It[1]),Wt=It[2],qt=It[3];return Wt?qt?[jt,Number(qt)]:[jt,void 0]:[jt,jt]}}rt.hooks.add("before-highlightall",function(Ut){Ut.selector+=", "+Dt}),rt.hooks.add("before-sanity-check",function(Ut){var It=Ut.element;if(It.matches(Dt)){Ut.code="",It.setAttribute(wt,Et);var jt=It.appendChild(document.createElement("CODE"));jt.textContent=st;var Wt=It.getAttribute("data-src"),qt=Ut.language;if(qt==="none"){var Yt=(/\.(\w+)$/.exec(Wt)||[,"none"])[1];qt=_t[Yt]||Yt}rt.util.setLanguage(jt,qt),rt.util.setLanguage(It,qt);var ti=rt.plugins.autoloader;ti&&ti.loadLanguages(qt),Lt(Wt,function(oi){It.setAttribute(wt,Tt);var si=Bt(It.getAttribute("data-range"));if(si){var di=oi.split(/\r\n?|\n/g),ui=si[0],ci=si[1]==null?di.length:si[1];ui<0&&(ui+=di.length),ui=Math.max(0,Math.min(ui-1,di.length)),ci<0&&(ci+=di.length),ci=Math.max(0,Math.min(ci,di.length)),oi=di.slice(ui,ci).join(`
`),It.hasAttribute("data-start")||It.setAttribute("data-start",String(ui+1))}jt.textContent=oi,rt.highlightElement(jt)},function(oi){It.setAttribute(wt,$t),jt.textContent=oi})}}),rt.plugins.fileHighlight={highlight:function(It){for(var jt=(It||document).querySelectorAll(Dt),Wt=0,qt;qt=jt[Wt++];)rt.highlightElement(qt)}};var Ht=!1;rt.fileHighlight=function(){Ht||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),Ht=!0),rt.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(prism$1);const Prism$1=prism$1.exports;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(it){it.type==="entity"&&(it.attributes.title=it.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function it(nt,rt){var st={};st["language-"+rt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[rt]},st.cdata=/^<!\[CDATA\[|\]\]>$/i;var vt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:st}};vt["language-"+rt]={pattern:/[\s\S]+/,inside:Prism.languages[rt]};var bt={};bt[nt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return nt}),"i"),lookbehind:!0,greedy:!0,inside:vt},Prism.languages.insertBefore("markup","cdata",bt)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(it,nt){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+it+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[nt,"language-"+nt],inside:Prism.languages[nt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(it){var nt=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function rt($t){return $t=$t.replace(/<inner>/g,function(){return nt}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+$t+")")}var st=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,vt=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return st}),bt=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;it.languages.markdown=it.languages.extend("markup",{}),it.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:it.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+vt+bt+"(?:"+vt+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+vt+bt+")(?:"+vt+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(st),inside:it.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+vt+")"+bt+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+vt+"$"),inside:{"table-header":{pattern:RegExp(st),alias:"important",inside:it.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:rt(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:rt(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:rt(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:rt(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function($t){["url","bold","italic","strike","code-snippet"].forEach(function(Dt){$t!==Dt&&(it.languages.markdown[$t].inside.content.inside[Dt]=it.languages.markdown[Dt])})}),it.hooks.add("after-tokenize",function($t){if($t.language!=="markdown"&&$t.language!=="md")return;function Dt(Lt){if(!(!Lt||typeof Lt=="string"))for(var Bt=0,Ht=Lt.length;Bt<Ht;Bt++){var Ut=Lt[Bt];if(Ut.type!=="code"){Dt(Ut.content);continue}var It=Ut.content[1],jt=Ut.content[3];if(It&&jt&&It.type==="code-language"&&jt.type==="code-block"&&typeof It.content=="string"){var Wt=It.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");Wt=(/[a-z][\w-]*/i.exec(Wt)||[""])[0].toLowerCase();var qt="language-"+Wt;jt.alias?typeof jt.alias=="string"?jt.alias=[jt.alias,qt]:jt.alias.push(qt):jt.alias=[qt]}}}Dt($t.tokens)}),it.hooks.add("wrap",function($t){if($t.type==="code-block"){for(var Dt="",Lt=0,Bt=$t.classes.length;Lt<Bt;Lt++){var Ht=$t.classes[Lt],Ut=/language-(.+)/.exec(Ht);if(Ut){Dt=Ut[1];break}}var It=it.languages[Dt];if(It)$t.content=it.highlight(Tt($t.content),It,Dt);else if(Dt&&Dt!=="none"&&it.plugins.autoloader){var jt="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);$t.attributes.id=jt,it.plugins.autoloader.loadLanguages(Dt,function(){var Wt=document.getElementById(jt);Wt&&(Wt.innerHTML=it.highlight(Wt.textContent,it.languages[Dt],Dt))})}}});var _t=RegExp(it.languages.markup.tag.pattern.source,"gi"),wt={amp:"&",lt:"<",gt:">",quot:'"'},Et=String.fromCodePoint||String.fromCharCode;function Tt($t){var Dt=$t.replace(_t,"");return Dt=Dt.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(Lt,Bt){if(Bt=Bt.toLowerCase(),Bt[0]==="#"){var Ht;return Bt[1]==="x"?Ht=parseInt(Bt.slice(2),16):Ht=Number(Bt.slice(1)),Et(Ht)}else{var Ut=wt[Bt];return Ut||Lt}}),Dt}it.languages.md=it.languages.markdown})(Prism);const prism="",_hoisted_1$3=["draggable"],_hoisted_2$1={key:0,id:"juncture",class:"language-juncture",style:{margin:"0","white-space":"pre-wrap","word-wrap":"break-word"}},_hoisted_3$1=["innerHTML"],_sfc_main$5=defineComponent({__name:"SourceViewer.ce",props:{src:{type:String},language:{type:String,default:"juncture"},draggable:{type:Boolean,default:!0}},setup(it){const nt=it,rt=ref(null),st=computed(()=>{var $t,Dt;return(Dt=($t=rt.value)==null?void 0:$t.getRootNode())==null?void 0:Dt.host}),vt=computed(()=>{var $t;return($t=rt==null?void 0:rt.value)==null?void 0:$t.parentNode}),bt=ref();watch$1(st,()=>{var Dt;let $t=(Dt=st.value)==null?void 0:Dt.innerHTML.trim();$t&&(bt.value=nt.language==="html"?wt($t):`
${$t}`)}),watch$1(bt,()=>{var Dt;let $t=(Dt=vt.value)==null?void 0:Dt.querySelector(`#${nt.language}`);$t&&bt.value&&nextTick(()=>{Prism$1.highlightElement($t)})}),onMounted(()=>{nt.src&&fetch(`https://api.juncture-digital.org/markdown/${nt.src}`).then($t=>$t.text()).then($t=>bt.value=`
${$t.trim()}`)}),Prism$1.languages.juncture=Prism$1.languages.extend("markdown",{tag:{pattern:/\.ve-[a-z0-9-]+.+/,greedy:!0,inside:{tag:{pattern:/\.ve-[a-z0-9-]+/},string:[{pattern:/[^=]\"(\\.|[^\"])*\"/,alias:"attr-value"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],"manifest-url":[{pattern:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,inside:{url:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,punctuation:/\s+/}}],position:[{pattern:/\s+(full|left|right|sticky)/,alias:"boolean"}],"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},marked:[{pattern:/==[^=]+=={[^}]+}/,alias:"class-name"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],reference:[{pattern:/\[\^[^\]]+\]:?\s*/,alias:"class-name"}]});function _t($t){for(var Dt="",Lt=$t*2;Lt--;)Dt+=" ";return Dt}function wt($t){$t=$t.trim().replace(/&amp;/g,"&");let Dt="",Lt=0,Bt=$t.split(/</);for(var Ht=0,Ut=Bt.length;Ht<Ut;Ht++){var It=Bt[Ht].split(/>/);It.length===2?(Bt[Ht][0]==="/"&&Lt--,Dt+=_t(Lt),Bt[Ht][0]!=="/"&&Lt++,Ht>0&&(Dt+="<"),Dt+=It[0].trim()+`>
`,It[1].trim()!==""&&(Dt+=_t(Lt)+It[1].trim().replace(/\s+/g," ")+`
`),It[0].match(/^(img|hr|br)/)&&Lt--):Dt+=_t(Lt)+It[0]+`
`}return Dt.replace(/\s+<mark([^>]*>)\s+/gm," <mark$1").replace(/\s+<\/mark>\s+/mg,"</mark> ").replace(/<a([^>]*>)\s+/gm," <a$1").replace(/\s+<\/a>/mg,"</a> ").replace(/=""/g,"").replace(/(<ve-[^>]+>)\s(<\/ve-[^>]+>\n)/g,`$1$2
`).replace(/<p>\s+/g,"<p>").replace(/\s+<\/p>\s+/g,`</p>
`).replace(/<ve-/g,`
<ve-`).replace(/ anno-base="undefined\/"/g,"").replace(/^\n\n/g,`
`)}function Et(){var $t,Dt;if(navigator.clipboard){navigator.clipboard.writeText((($t=bt.value)==null?void 0:$t.trim())||"");const Lt=(Dt=vt.value)==null?void 0:Dt.querySelector("sl-tooltip");Lt&&(Lt.open=!0,setTimeout(()=>Lt.open=!1,1e3))}}function Tt($t){var Lt;let Dt=bt.value;console.log(Dt),Dt&&((Lt=$t.dataTransfer)==null||Lt.setData("text/plain",Dt))}return($t,Dt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:rt,class:"main",style:{width:"100%",height:"100%"},draggable:nt.draggable,onDragstart:Tt},[it.language==="juncture"?(openBlock(),createElementBlock("pre",_hoisted_2$1,[createTextVNode("    "),createBaseVNode("code",{innerHTML:bt.value},null,8,_hoisted_3$1),createTextVNode(`
  `)])):createCommentVNode("",!0),it.language==="html"?(openBlock(),createElementBlock("pre",{key:1,id:"html",class:"language-markup",style:normalizeStyle({margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"})},[createTextVNode("    "),createBaseVNode("code",null,toDisplayString(bt.value),1)],4)):createCommentVNode("",!0),createBaseVNode("sl-tooltip",{content:"Text copied to clipboard",placement:"top",hoist:"",trigger:"manual",style:{"--sl-tooltip-arrow-size":"0"}},[createBaseVNode("sl-button",{class:"copy-button",onClick:Et},"Copy Text")])],40,_hoisted_1$3))}}),_style_0$2=`code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
`,_style_1$1=`*{box-sizing:border-box}.main{font-size:.8em;position:relative}.main pre{background-color:#f9f9f9;font-size:1rem}.main:hover .copy-button{opacity:1}.copy-button{position:absolute;top:10px;right:10px;opacity:0;transition:all .3s ease-in}
`,SourceViewer=_export_sfc(_sfc_main$5,[["styles",[_style_0$2,_style_1$1]]]),_sfc_main$4=defineComponent({__name:"Spacer.ce",props:{height:{type:String,default:"50vh"}},setup(it){const nt=it;return(rt,st)=>(openBlock(),createElementBlock("div",{style:normalizeStyle({height:nt.height})},null,4))}}),_sfc_main$3=defineComponent({__name:"Starter.ce",props:{id:{type:String},numProp:{type:Number,default:0},boolProp:{type:Boolean}},emits:["custom-event"],setup(it,{expose:nt,emit:rt}){const st=it;nt({increment:Tt});const vt=ref(st.numProp),bt=ref(null),_t=computed(()=>{var $t;return($t=bt==null?void 0:bt.value)==null?void 0:$t.parentNode}),wt=computed(()=>{var $t,Dt;return(Dt=($t=bt.value)==null?void 0:$t.getRootNode())==null?void 0:Dt.host});watch$1(wt,()=>Et()),watch$1(vt,()=>rt("custom-event",vt.value));function Et(){var $t;console.log(wt.value),console.log(($t=_t.value)==null?void 0:$t.querySelector("h1")),setTimeout(()=>Tt(),2e3)}function Tt(){++vt.value}return($t,Dt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:bt,class:"main"}," <ve-starter></ve-starter> ",512))}}),_style_0$1=`.main{color:red}
`,Starter=_export_sfc(_sfc_main$3,[["styles",[_style_0$1]]]),_hoisted_1$2=["innerHTML"],_sfc_main$2=defineComponent({__name:"Version.ce",setup(it){const nt=ref("2.0.0-beta.19");return(rt,st)=>(openBlock(),createElementBlock("span",{innerHTML:nt.value},null,8,_hoisted_1$2))}}),_hoisted_1$1={id:"autocompleteContainer",class:"autocomplete__container",role:"combobox"},_hoisted_2=createBaseVNode("svg",{"fill-rule":"evenodd",height:"5",viewBox:"0 0 10 5",width:"10"},[createBaseVNode("title",null,"Open drop down"),createBaseVNode("path",{d:"M10 0L5 5 0 0z"})],-1),_hoisted_3=[_hoisted_2],_hoisted_4={id:"autocompleteResults",class:"autocomplete__results",role:"listbox"},_hoisted_5=["onClick"],_hoisted_6=["innerHTML"],_hoisted_7={key:0,class:"aliases"},_hoisted_8=["innerHTML"],_sfc_main$1=defineComponent({__name:"WikidataSearch.ce",props:{language:{type:String,default:"en"}},emits:["entity-selected"],setup(it,{emit:nt}){const rt=it,st=ref([]),vt=ref(),bt=ref(),_t=ref(),wt=ref(),Et=ref(0),Tt=ref(!1),$t=ref(""),Dt=ref(!1),Lt=ref(null),Bt=computed(()=>{var oi;return(oi=Lt==null?void 0:Lt.value)==null?void 0:oi.parentNode}),Ht=computed(()=>{var oi,si;return(si=(oi=Lt.value)==null?void 0:oi.getRootNode())==null?void 0:si.host});watch$1(Ht,()=>Ut()),watch$1(Tt,oi=>{var si,di,ui,ci,hi,ei,wi;oi?((si=vt.value)==null||si.classList.add("visible"),(di=bt.value)==null||di.classList.add("expanded"),(ui=_t.value)==null||ui.setAttribute("aria-expanded","true")):((ci=vt.value)==null||ci.classList.remove("visible"),(hi=bt.value)==null||hi.classList.remove("expanded"),(ei=_t.value)==null||ei.setAttribute("aria-expanded","false"),(wi=wt.value)==null||wi.setAttribute("aria-activedescendant",""))}),watch$1($t,()=>{st.value=[],Et.value=0,Yt()});function Ut(){var oi,si,di,ui;vt.value=(oi=Bt.value)==null?void 0:oi.querySelector("#autocompleteResults"),wt.value=(si=Bt.value)==null?void 0:si.querySelector("#autocompleteInput"),bt.value=(di=Bt.value)==null?void 0:di.querySelector("#autocompleteDropdownArrow"),_t.value=(ui=Bt.value)==null?void 0:ui.querySelector("#autocompleteContainer")}function It(){wt.value&&(wt.value.value=""),st.value=[],Et.value=0,Tt.value=!1}let jt=null;function Wt(){jt!==null&&(clearTimeout(jt),jt=null),jt=window.setTimeout(()=>{wt.value&&($t.value=wt.value.value.trim()),jt=null},500)}function qt(){Tt.value=!Tt.value}function Yt(){if(!$t.value||Dt.value)return;Dt.value=!0;let oi=`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${$t.value}&uselang=${rt.language}&language=${rt.language}&format=json&origin=*&continue=${Et.value}`;fetch(oi).then(si=>si.json()).then(si=>{Et.value=si["search-continue"],st.value=[...st.value,...si.search],Tt.value=!0}).catch(si=>{console.log(si)}).finally(()=>Dt.value=!1)}function ti(oi){nt("entity-selected",oi),It()}return(oi,si)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:Lt,class:"wikidata-search"},[createBaseVNode("div",_hoisted_1$1,[createBaseVNode("input",{id:"autocompleteInput",class:"autocomplete__input",onKeyup:Wt,autocomplete:"off",role:"textbox",placeholder:"Search for entity"},null,32),createBaseVNode("button",{id:"autocompleteDropdownArrow",class:"autocomplete__dropdown-arrow",style:normalizeStyle({visibility:st.value.length>0?"visible":"hidden"}),onClick:qt,"aria-label":"toggle dropdown"},_hoisted_3,4),createBaseVNode("ul",_hoisted_4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(st.value,(di,ui)=>(openBlock(),createElementBlock("li",{key:`result-${ui}`,onClick:ci=>ti(di)},[createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("span",{class:"label",innerHTML:di.label},null,8,_hoisted_6),di.aliases?(openBlock(),createElementBlock("span",_hoisted_7,"({item.aliases.join(', ')})")):createCommentVNode("",!0)]),createBaseVNode("li",{class:"description",innerHTML:di.description},null,8,_hoisted_8)])],8,_hoisted_5))),128)),Et.value?(openBlock(),createElementBlock("li",{key:0,onClick:Yt,class:"continue"},"More...")):createCommentVNode("",!0)])])],512))}}),_style_0=`:host{font-family:Roboto,sans-serif}*{box-sizing:border-box}.autocomplete__container{display:flex;position:relative;align-items:center;justify-content:flex-end;float:left;width:100%;max-width:500px;height:100%}textarea:focus,input:focus{outline:none}.wikidata-search{display:inline-block;height:calc(1.5em + .75rem + 2px);margin-right:3px;border:1px solid #ccc;border-radius:3px;width:100%;background-color:#fff}.wikidata-search i{padding-left:6px;font-size:1.2rem;color:#333}.autocomplete__results.visible{visibility:visible;min-width:320px}.autocomplete__input{display:block;width:100%;min-width:220px;height:100%;border:none;padding-left:.5rem;border-radius:3px;font-size:1.1rem}.autocomplete__input:focus{border-color:#284fa4}.autocomplete__dropdown-arrow{position:absolute;right:0;top:0;background:transparent;border:none;cursor:pointer;height:100%;transition:transform .2s linear}.autocomplete__dropdown-arrow.expanded{transform:rotate(-180deg)}.autocomplete__results{visibility:hidden;position:absolute;top:100%;margin-top:0;width:100%;overflow-y:auto;border:1px solid #999;padding:0;max-height:400px;background:white;z-index:500}.autocomplete__results>li{list-style:none;padding:.3rem .5rem;cursor:pointer;color:#000}.autocomplete__results ul{list-style-type:none;padding-left:0}.autocomplete__results>li:hover{background:hsl(212,10%,60%)}.autocomplete__results>li:focus{background:hsl(212,10%,70%)}.label{font-weight:700}.aliases{font-style:italic}.description{font-size:.9rem;padding:2px 0}.continue{font-weight:700;background-color:#ddd}.search{display:grid;border-radius:0;background-color:#555;color:#fff;width:100%;align-items:center}
`,WikidataSearch=_export_sfc(_sfc_main$1,[["styles",[_style_0]]]),_hoisted_1=["name"],_sfc_main=defineComponent({__name:"Window.ce",props:{href:{type:String},width:{type:Number},height:{type:Number},top:{type:Number,default:0},left:{type:Number,default:0},buttonLabel:{type:String,default:"Open"},buttonIcon:{type:String}},setup(it){const nt=it,rt=window,st=ref(null);function vt(){nt.width;let bt=nt.height||Math.min(window.innerHeight,1600);rt.junctureWindow&&rt.junctureWindow.close();let _t=`toolbar=yes,location=yes,left=${nt.left},top=${nt.top},width=${nt.width},height=${bt},scrollbars=yes,status=yes`;rt.junctureWindow=window.open(nt.href,"_blank",_t)}return(bt,_t)=>(openBlock(),createElementBlock("sl-button",{ref_key:"root",ref:st,onClick:vt},[nt.buttonIcon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:nt.buttonIcon},null,8,_hoisted_1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(nt.buttonLabel),1)],512))}}),_style_1=`:host{display:inline-block}
`,Window=_export_sfc(_sfc_main,[["styles",[_style_0$o,_style_1]]]);setBasePath("https://raw.githubusercontent.com//juncture-digital/web-components/main/src");console.log("juncture.web-components: version=2.0.0-beta.19");function init(){customElements.define("ve-add-media-resource-dialog",defineCustomElement(AddMediaResourceDialog)),customElements.define("ve-auth",defineCustomElement(Auth)),customElements.define("ve-button",defineCustomElement(Button)),customElements.define("ve-contact",defineCustomElement(Contact)),customElements.define("ve-content-selector",defineCustomElement(ContentSelector)),customElements.define("ve-entities",defineCustomElement(Entities)),customElements.define("ve-entity-card",defineCustomElement(EntityCard)),customElements.define("ve-essay",defineCustomElement(Essay)),customElements.define("ve-fab",defineCustomElement(FAB)),customElements.define("ve-footer",defineCustomElement(Footer)),customElements.define("ve-header",defineCustomElement(Header)),customElements.define("ve-gif",defineCustomElement(GIF)),customElements.define("ve-hero",defineCustomElement(Hero)),customElements.define("ve-iframe",defineCustomElement(IFrame)),customElements.define("ve-info-card",defineCustomElement(InfoCard)),customElements.define("ve-manifest",defineCustomElement(Manifest)),customElements.define("ve-manifest-popup",defineCustomElement(ManifestPopup)),customElements.define("ve-map",defineCustomElement(Map$3)),customElements.define("ve-media",defineCustomElement(MediaViewer)),customElements.define("ve-media-card",defineCustomElement(MediaCard)),customElements.define("ve-media-selector",defineCustomElement(MediaSelector)),customElements.define("ve-menu",defineCustomElement(Menu)),customElements.define("ve-mermaid",defineCustomElement(Mermaid)),customElements.define("ve-modal",defineCustomElement(Modal)),customElements.define("ve-navbar",defineCustomElement(Navbar)),customElements.define("ve-pager",defineCustomElement(Pager)),customElements.define("ve-snippet",defineCustomElement(Snippet)),customElements.define("ve-source-viewer",defineCustomElement(SourceViewer)),customElements.define("ve-site-search",defineCustomElement(SiteSearch)),customElements.define("ve-spacer",defineCustomElement(_sfc_main$4)),customElements.define("ve-starter",defineCustomElement(Starter)),customElements.define("ve-version",defineCustomElement(_sfc_main$2)),customElements.define("ve-wikidata-search",defineCustomElement(WikidataSearch)),customElements.define("ve-window",defineCustomElement(Window)),document.body.style.transition="opacity 0.3s linear",document.body.style.visibility="visible",document.body.style.opacity="1"}init()});export default Wx();
