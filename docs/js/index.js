var Vx=Object.defineProperty;var Yx=(nt,rt,it)=>rt in nt?Vx(nt,rt,{enumerable:!0,configurable:!0,writable:!0,value:it}):nt[rt]=it;var Gx=(nt,rt)=>()=>(rt||nt((rt={exports:{}}).exports,rt),rt.exports);var Nc=(nt,rt,it)=>(Yx(nt,typeof rt!="symbol"?rt+"":rt,it),it);var Wx=Gx((exports,module)=>{(function(){const rt=document.createElement("link").relList;if(rt&&rt.supports&&rt.supports("modulepreload"))return;for(const bt of document.querySelectorAll('link[rel="modulepreload"]'))st(bt);new MutationObserver(bt=>{for(const wt of bt)if(wt.type==="childList")for(const Et of wt.addedNodes)Et.tagName==="LINK"&&Et.rel==="modulepreload"&&st(Et)}).observe(document,{childList:!0,subtree:!0});function it(bt){const wt={};return bt.integrity&&(wt.integrity=bt.integrity),bt.referrerpolicy&&(wt.referrerPolicy=bt.referrerpolicy),bt.crossorigin==="use-credentials"?wt.credentials="include":bt.crossorigin==="anonymous"?wt.credentials="omit":wt.credentials="same-origin",wt}function st(bt){if(bt.ep)return;bt.ep=!0;const wt=it(bt);fetch(bt.href,wt)}})();function makeMap(nt,rt){const it=Object.create(null),st=nt.split(",");for(let bt=0;bt<st.length;bt++)it[st[bt]]=!0;return rt?bt=>!!it[bt.toLowerCase()]:bt=>!!it[bt]}const EMPTY_OBJ={},EMPTY_ARR=[],NOOP=()=>{},NO=()=>!1,onRE=/^on[^a-z]/,isOn=nt=>onRE.test(nt),isModelListener=nt=>nt.startsWith("onUpdate:"),extend$3=Object.assign,remove$1=(nt,rt)=>{const it=nt.indexOf(rt);it>-1&&nt.splice(it,1)},hasOwnProperty$i=Object.prototype.hasOwnProperty,hasOwn=(nt,rt)=>hasOwnProperty$i.call(nt,rt),isArray$2=Array.isArray,isMap$2=nt=>toTypeString(nt)==="[object Map]",isSet$2=nt=>toTypeString(nt)==="[object Set]",isFunction$1=nt=>typeof nt=="function",isString=nt=>typeof nt=="string",isSymbol$1=nt=>typeof nt=="symbol",isObject$3=nt=>nt!==null&&typeof nt=="object",isPromise=nt=>isObject$3(nt)&&isFunction$1(nt.then)&&isFunction$1(nt.catch),objectToString$1=Object.prototype.toString,toTypeString=nt=>objectToString$1.call(nt),toRawType=nt=>toTypeString(nt).slice(8,-1),isPlainObject$1=nt=>toTypeString(nt)==="[object Object]",isIntegerKey=nt=>isString(nt)&&nt!=="NaN"&&nt[0]!=="-"&&""+parseInt(nt,10)===nt,isReservedProp=makeMap(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),cacheStringFunction=nt=>{const rt=Object.create(null);return it=>rt[it]||(rt[it]=nt(it))},camelizeRE=/-(\w)/g,camelize=cacheStringFunction(nt=>nt.replace(camelizeRE,(rt,it)=>it?it.toUpperCase():"")),hyphenateRE=/\B([A-Z])/g,hyphenate=cacheStringFunction(nt=>nt.replace(hyphenateRE,"-$1").toLowerCase()),capitalize=cacheStringFunction(nt=>nt.charAt(0).toUpperCase()+nt.slice(1)),toHandlerKey=cacheStringFunction(nt=>nt?`on${capitalize(nt)}`:""),hasChanged=(nt,rt)=>!Object.is(nt,rt),invokeArrayFns=(nt,rt)=>{for(let it=0;it<nt.length;it++)nt[it](rt)},def=(nt,rt,it)=>{Object.defineProperty(nt,rt,{configurable:!0,enumerable:!1,value:it})},looseToNumber=nt=>{const rt=parseFloat(nt);return isNaN(rt)?nt:rt},toNumber$1=nt=>{const rt=isString(nt)?Number(nt):NaN;return isNaN(rt)?nt:rt};let _globalThis;const getGlobalThis=()=>_globalThis||(_globalThis=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function normalizeStyle(nt){if(isArray$2(nt)){const rt={};for(let it=0;it<nt.length;it++){const st=nt[it],bt=isString(st)?parseStringStyle(st):normalizeStyle(st);if(bt)for(const wt in bt)rt[wt]=bt[wt]}return rt}else{if(isString(nt))return nt;if(isObject$3(nt))return nt}}const listDelimiterRE=/;(?![^(]*\))/g,propertyDelimiterRE=/:([^]+)/,styleCommentRE=/\/\*[^]*?\*\//g;function parseStringStyle(nt){const rt={};return nt.replace(styleCommentRE,"").split(listDelimiterRE).forEach(it=>{if(it){const st=it.split(propertyDelimiterRE);st.length>1&&(rt[st[0].trim()]=st[1].trim())}}),rt}function normalizeClass(nt){let rt="";if(isString(nt))rt=nt;else if(isArray$2(nt))for(let it=0;it<nt.length;it++){const st=normalizeClass(nt[it]);st&&(rt+=st+" ")}else if(isObject$3(nt))for(const it in nt)nt[it]&&(rt+=it+" ");return rt.trim()}function normalizeProps(nt){if(!nt)return null;let{class:rt,style:it}=nt;return rt&&!isString(rt)&&(nt.class=normalizeClass(rt)),it&&(nt.style=normalizeStyle(it)),nt}const specialBooleanAttrs="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",isSpecialBooleanAttr=makeMap(specialBooleanAttrs);function includeBooleanAttr(nt){return!!nt||nt===""}const toDisplayString=nt=>isString(nt)?nt:nt==null?"":isArray$2(nt)||isObject$3(nt)&&(nt.toString===objectToString$1||!isFunction$1(nt.toString))?JSON.stringify(nt,replacer,2):String(nt),replacer=(nt,rt)=>rt&&rt.__v_isRef?replacer(nt,rt.value):isMap$2(rt)?{[`Map(${rt.size})`]:[...rt.entries()].reduce((it,[st,bt])=>(it[`${st} =>`]=bt,it),{})}:isSet$2(rt)?{[`Set(${rt.size})`]:[...rt.values()]}:isObject$3(rt)&&!isArray$2(rt)&&!isPlainObject$1(rt)?String(rt):rt;let activeEffectScope;class EffectScope{constructor(rt=!1){this.detached=rt,this._active=!0,this.effects=[],this.cleanups=[],this.parent=activeEffectScope,!rt&&activeEffectScope&&(this.index=(activeEffectScope.scopes||(activeEffectScope.scopes=[])).push(this)-1)}get active(){return this._active}run(rt){if(this._active){const it=activeEffectScope;try{return activeEffectScope=this,rt()}finally{activeEffectScope=it}}}on(){activeEffectScope=this}off(){activeEffectScope=this.parent}stop(rt){if(this._active){let it,st;for(it=0,st=this.effects.length;it<st;it++)this.effects[it].stop();for(it=0,st=this.cleanups.length;it<st;it++)this.cleanups[it]();if(this.scopes)for(it=0,st=this.scopes.length;it<st;it++)this.scopes[it].stop(!0);if(!this.detached&&this.parent&&!rt){const bt=this.parent.scopes.pop();bt&&bt!==this&&(this.parent.scopes[this.index]=bt,bt.index=this.index)}this.parent=void 0,this._active=!1}}}function recordEffectScope(nt,rt=activeEffectScope){rt&&rt.active&&rt.effects.push(nt)}function getCurrentScope(){return activeEffectScope}const createDep=nt=>{const rt=new Set(nt);return rt.w=0,rt.n=0,rt},wasTracked=nt=>(nt.w&trackOpBit)>0,newTracked=nt=>(nt.n&trackOpBit)>0,initDepMarkers=({deps:nt})=>{if(nt.length)for(let rt=0;rt<nt.length;rt++)nt[rt].w|=trackOpBit},finalizeDepMarkers=nt=>{const{deps:rt}=nt;if(rt.length){let it=0;for(let st=0;st<rt.length;st++){const bt=rt[st];wasTracked(bt)&&!newTracked(bt)?bt.delete(nt):rt[it++]=bt,bt.w&=~trackOpBit,bt.n&=~trackOpBit}rt.length=it}},targetMap=new WeakMap;let effectTrackDepth=0,trackOpBit=1;const maxMarkerBits=30;let activeEffect;const ITERATE_KEY=Symbol(""),MAP_KEY_ITERATE_KEY=Symbol("");class ReactiveEffect{constructor(rt,it=null,st){this.fn=rt,this.scheduler=it,this.active=!0,this.deps=[],this.parent=void 0,recordEffectScope(this,st)}run(){if(!this.active)return this.fn();let rt=activeEffect,it=shouldTrack;for(;rt;){if(rt===this)return;rt=rt.parent}try{return this.parent=activeEffect,activeEffect=this,shouldTrack=!0,trackOpBit=1<<++effectTrackDepth,effectTrackDepth<=maxMarkerBits?initDepMarkers(this):cleanupEffect(this),this.fn()}finally{effectTrackDepth<=maxMarkerBits&&finalizeDepMarkers(this),trackOpBit=1<<--effectTrackDepth,activeEffect=this.parent,shouldTrack=it,this.parent=void 0,this.deferStop&&this.stop()}}stop(){activeEffect===this?this.deferStop=!0:this.active&&(cleanupEffect(this),this.onStop&&this.onStop(),this.active=!1)}}function cleanupEffect(nt){const{deps:rt}=nt;if(rt.length){for(let it=0;it<rt.length;it++)rt[it].delete(nt);rt.length=0}}let shouldTrack=!0;const trackStack=[];function pauseTracking(){trackStack.push(shouldTrack),shouldTrack=!1}function resetTracking(){const nt=trackStack.pop();shouldTrack=nt===void 0?!0:nt}function track(nt,rt,it){if(shouldTrack&&activeEffect){let st=targetMap.get(nt);st||targetMap.set(nt,st=new Map);let bt=st.get(it);bt||st.set(it,bt=createDep()),trackEffects(bt)}}function trackEffects(nt,rt){let it=!1;effectTrackDepth<=maxMarkerBits?newTracked(nt)||(nt.n|=trackOpBit,it=!wasTracked(nt)):it=!nt.has(activeEffect),it&&(nt.add(activeEffect),activeEffect.deps.push(nt))}function trigger(nt,rt,it,st,bt,wt){const Et=targetMap.get(nt);if(!Et)return;let Tt=[];if(rt==="clear")Tt=[...Et.values()];else if(it==="length"&&isArray$2(nt)){const At=Number(st);Et.forEach((Dt,Ot)=>{(Ot==="length"||Ot>=At)&&Tt.push(Dt)})}else switch(it!==void 0&&Tt.push(Et.get(it)),rt){case"add":isArray$2(nt)?isIntegerKey(it)&&Tt.push(Et.get("length")):(Tt.push(Et.get(ITERATE_KEY)),isMap$2(nt)&&Tt.push(Et.get(MAP_KEY_ITERATE_KEY)));break;case"delete":isArray$2(nt)||(Tt.push(Et.get(ITERATE_KEY)),isMap$2(nt)&&Tt.push(Et.get(MAP_KEY_ITERATE_KEY)));break;case"set":isMap$2(nt)&&Tt.push(Et.get(ITERATE_KEY));break}if(Tt.length===1)Tt[0]&&triggerEffects(Tt[0]);else{const At=[];for(const Dt of Tt)Dt&&At.push(...Dt);triggerEffects(createDep(At))}}function triggerEffects(nt,rt){const it=isArray$2(nt)?nt:[...nt];for(const st of it)st.computed&&triggerEffect(st);for(const st of it)st.computed||triggerEffect(st)}function triggerEffect(nt,rt){(nt!==activeEffect||nt.allowRecurse)&&(nt.scheduler?nt.scheduler():nt.run())}const isNonTrackableKeys=makeMap("__proto__,__v_isRef,__isVue"),builtInSymbols=new Set(Object.getOwnPropertyNames(Symbol).filter(nt=>nt!=="arguments"&&nt!=="caller").map(nt=>Symbol[nt]).filter(isSymbol$1)),get$1$1=createGetter(),shallowGet=createGetter(!1,!0),readonlyGet=createGetter(!0),arrayInstrumentations=createArrayInstrumentations();function createArrayInstrumentations(){const nt={};return["includes","indexOf","lastIndexOf"].forEach(rt=>{nt[rt]=function(...it){const st=toRaw(this);for(let wt=0,Et=this.length;wt<Et;wt++)track(st,"get",wt+"");const bt=st[rt](...it);return bt===-1||bt===!1?st[rt](...it.map(toRaw)):bt}}),["push","pop","shift","unshift","splice"].forEach(rt=>{nt[rt]=function(...it){pauseTracking();const st=toRaw(this)[rt].apply(this,it);return resetTracking(),st}}),nt}function hasOwnProperty$h(nt){const rt=toRaw(this);return track(rt,"has",nt),rt.hasOwnProperty(nt)}function createGetter(nt=!1,rt=!1){return function(st,bt,wt){if(bt==="__v_isReactive")return!nt;if(bt==="__v_isReadonly")return nt;if(bt==="__v_isShallow")return rt;if(bt==="__v_raw"&&wt===(nt?rt?shallowReadonlyMap:readonlyMap:rt?shallowReactiveMap:reactiveMap).get(st))return st;const Et=isArray$2(st);if(!nt){if(Et&&hasOwn(arrayInstrumentations,bt))return Reflect.get(arrayInstrumentations,bt,wt);if(bt==="hasOwnProperty")return hasOwnProperty$h}const Tt=Reflect.get(st,bt,wt);return(isSymbol$1(bt)?builtInSymbols.has(bt):isNonTrackableKeys(bt))||(nt||track(st,"get",bt),rt)?Tt:isRef(Tt)?Et&&isIntegerKey(bt)?Tt:Tt.value:isObject$3(Tt)?nt?readonly(Tt):reactive(Tt):Tt}}const set$1$1=createSetter(),shallowSet=createSetter(!0);function createSetter(nt=!1){return function(it,st,bt,wt){let Et=it[st];if(isReadonly(Et)&&isRef(Et)&&!isRef(bt))return!1;if(!nt&&(!isShallow(bt)&&!isReadonly(bt)&&(Et=toRaw(Et),bt=toRaw(bt)),!isArray$2(it)&&isRef(Et)&&!isRef(bt)))return Et.value=bt,!0;const Tt=isArray$2(it)&&isIntegerKey(st)?Number(st)<it.length:hasOwn(it,st),At=Reflect.set(it,st,bt,wt);return it===toRaw(wt)&&(Tt?hasChanged(bt,Et)&&trigger(it,"set",st,bt):trigger(it,"add",st,bt)),At}}function deleteProperty(nt,rt){const it=hasOwn(nt,rt);nt[rt];const st=Reflect.deleteProperty(nt,rt);return st&&it&&trigger(nt,"delete",rt,void 0),st}function has$1(nt,rt){const it=Reflect.has(nt,rt);return(!isSymbol$1(rt)||!builtInSymbols.has(rt))&&track(nt,"has",rt),it}function ownKeys(nt){return track(nt,"iterate",isArray$2(nt)?"length":ITERATE_KEY),Reflect.ownKeys(nt)}const mutableHandlers={get:get$1$1,set:set$1$1,deleteProperty,has:has$1,ownKeys},readonlyHandlers={get:readonlyGet,set(nt,rt){return!0},deleteProperty(nt,rt){return!0}},shallowReactiveHandlers=extend$3({},mutableHandlers,{get:shallowGet,set:shallowSet}),toShallow=nt=>nt,getProto=nt=>Reflect.getPrototypeOf(nt);function get$4(nt,rt,it=!1,st=!1){nt=nt.__v_raw;const bt=toRaw(nt),wt=toRaw(rt);it||(rt!==wt&&track(bt,"get",rt),track(bt,"get",wt));const{has:Et}=getProto(bt),Tt=st?toShallow:it?toReadonly:toReactive;if(Et.call(bt,rt))return Tt(nt.get(rt));if(Et.call(bt,wt))return Tt(nt.get(wt));nt!==bt&&nt.get(rt)}function has$2(nt,rt=!1){const it=this.__v_raw,st=toRaw(it),bt=toRaw(nt);return rt||(nt!==bt&&track(st,"has",nt),track(st,"has",bt)),nt===bt?it.has(nt):it.has(nt)||it.has(bt)}function size(nt,rt=!1){return nt=nt.__v_raw,!rt&&track(toRaw(nt),"iterate",ITERATE_KEY),Reflect.get(nt,"size",nt)}function add(nt){nt=toRaw(nt);const rt=toRaw(this);return getProto(rt).has.call(rt,nt)||(rt.add(nt),trigger(rt,"add",nt,nt)),this}function set$4(nt,rt){rt=toRaw(rt);const it=toRaw(this),{has:st,get:bt}=getProto(it);let wt=st.call(it,nt);wt||(nt=toRaw(nt),wt=st.call(it,nt));const Et=bt.call(it,nt);return it.set(nt,rt),wt?hasChanged(rt,Et)&&trigger(it,"set",nt,rt):trigger(it,"add",nt,rt),this}function deleteEntry(nt){const rt=toRaw(this),{has:it,get:st}=getProto(rt);let bt=it.call(rt,nt);bt||(nt=toRaw(nt),bt=it.call(rt,nt)),st&&st.call(rt,nt);const wt=rt.delete(nt);return bt&&trigger(rt,"delete",nt,void 0),wt}function clear$h(){const nt=toRaw(this),rt=nt.size!==0,it=nt.clear();return rt&&trigger(nt,"clear",void 0,void 0),it}function createForEach(nt,rt){return function(st,bt){const wt=this,Et=wt.__v_raw,Tt=toRaw(Et),At=rt?toShallow:nt?toReadonly:toReactive;return!nt&&track(Tt,"iterate",ITERATE_KEY),Et.forEach((Dt,Ot)=>st.call(bt,At(Dt),At(Ot),wt))}}function createIterableMethod(nt,rt,it){return function(...st){const bt=this.__v_raw,wt=toRaw(bt),Et=isMap$2(wt),Tt=nt==="entries"||nt===Symbol.iterator&&Et,At=nt==="keys"&&Et,Dt=bt[nt](...st),Ot=it?toShallow:rt?toReadonly:toReactive;return!rt&&track(wt,"iterate",At?MAP_KEY_ITERATE_KEY:ITERATE_KEY),{next(){const{value:zt,done:$t}=Dt.next();return $t?{value:zt,done:$t}:{value:Tt?[Ot(zt[0]),Ot(zt[1])]:Ot(zt),done:$t}},[Symbol.iterator](){return this}}}}function createReadonlyMethod(nt){return function(...rt){return nt==="delete"?!1:this}}function createInstrumentations(){const nt={get(wt){return get$4(this,wt)},get size(){return size(this)},has:has$2,add,set:set$4,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!1)},rt={get(wt){return get$4(this,wt,!1,!0)},get size(){return size(this)},has:has$2,add,set:set$4,delete:deleteEntry,clear:clear$h,forEach:createForEach(!1,!0)},it={get(wt){return get$4(this,wt,!0)},get size(){return size(this,!0)},has(wt){return has$2.call(this,wt,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!1)},st={get(wt){return get$4(this,wt,!0,!0)},get size(){return size(this,!0)},has(wt){return has$2.call(this,wt,!0)},add:createReadonlyMethod("add"),set:createReadonlyMethod("set"),delete:createReadonlyMethod("delete"),clear:createReadonlyMethod("clear"),forEach:createForEach(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(wt=>{nt[wt]=createIterableMethod(wt,!1,!1),it[wt]=createIterableMethod(wt,!0,!1),rt[wt]=createIterableMethod(wt,!1,!0),st[wt]=createIterableMethod(wt,!0,!0)}),[nt,it,rt,st]}const[mutableInstrumentations,readonlyInstrumentations,shallowInstrumentations,shallowReadonlyInstrumentations]=createInstrumentations();function createInstrumentationGetter(nt,rt){const it=rt?nt?shallowReadonlyInstrumentations:shallowInstrumentations:nt?readonlyInstrumentations:mutableInstrumentations;return(st,bt,wt)=>bt==="__v_isReactive"?!nt:bt==="__v_isReadonly"?nt:bt==="__v_raw"?st:Reflect.get(hasOwn(it,bt)&&bt in st?it:st,bt,wt)}const mutableCollectionHandlers={get:createInstrumentationGetter(!1,!1)},shallowCollectionHandlers={get:createInstrumentationGetter(!1,!0)},readonlyCollectionHandlers={get:createInstrumentationGetter(!0,!1)},reactiveMap=new WeakMap,shallowReactiveMap=new WeakMap,readonlyMap=new WeakMap,shallowReadonlyMap=new WeakMap;function targetTypeMap(nt){switch(nt){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function getTargetType(nt){return nt.__v_skip||!Object.isExtensible(nt)?0:targetTypeMap(toRawType(nt))}function reactive(nt){return isReadonly(nt)?nt:createReactiveObject(nt,!1,mutableHandlers,mutableCollectionHandlers,reactiveMap)}function shallowReactive(nt){return createReactiveObject(nt,!1,shallowReactiveHandlers,shallowCollectionHandlers,shallowReactiveMap)}function readonly(nt){return createReactiveObject(nt,!0,readonlyHandlers,readonlyCollectionHandlers,readonlyMap)}function createReactiveObject(nt,rt,it,st,bt){if(!isObject$3(nt)||nt.__v_raw&&!(rt&&nt.__v_isReactive))return nt;const wt=bt.get(nt);if(wt)return wt;const Et=getTargetType(nt);if(Et===0)return nt;const Tt=new Proxy(nt,Et===2?st:it);return bt.set(nt,Tt),Tt}function isReactive(nt){return isReadonly(nt)?isReactive(nt.__v_raw):!!(nt&&nt.__v_isReactive)}function isReadonly(nt){return!!(nt&&nt.__v_isReadonly)}function isShallow(nt){return!!(nt&&nt.__v_isShallow)}function isProxy(nt){return isReactive(nt)||isReadonly(nt)}function toRaw(nt){const rt=nt&&nt.__v_raw;return rt?toRaw(rt):nt}function markRaw(nt){return def(nt,"__v_skip",!0),nt}const toReactive=nt=>isObject$3(nt)?reactive(nt):nt,toReadonly=nt=>isObject$3(nt)?readonly(nt):nt;function trackRefValue(nt){shouldTrack&&activeEffect&&(nt=toRaw(nt),trackEffects(nt.dep||(nt.dep=createDep())))}function triggerRefValue(nt,rt){nt=toRaw(nt);const it=nt.dep;it&&triggerEffects(it)}function isRef(nt){return!!(nt&&nt.__v_isRef===!0)}function ref(nt){return createRef(nt,!1)}function createRef(nt,rt){return isRef(nt)?nt:new RefImpl(nt,rt)}class RefImpl{constructor(rt,it){this.__v_isShallow=it,this.dep=void 0,this.__v_isRef=!0,this._rawValue=it?rt:toRaw(rt),this._value=it?rt:toReactive(rt)}get value(){return trackRefValue(this),this._value}set value(rt){const it=this.__v_isShallow||isShallow(rt)||isReadonly(rt);rt=it?rt:toRaw(rt),hasChanged(rt,this._rawValue)&&(this._rawValue=rt,this._value=it?rt:toReactive(rt),triggerRefValue(this))}}function unref(nt){return isRef(nt)?nt.value:nt}const shallowUnwrapHandlers={get:(nt,rt,it)=>unref(Reflect.get(nt,rt,it)),set:(nt,rt,it,st)=>{const bt=nt[rt];return isRef(bt)&&!isRef(it)?(bt.value=it,!0):Reflect.set(nt,rt,it,st)}};function proxyRefs(nt){return isReactive(nt)?nt:new Proxy(nt,shallowUnwrapHandlers)}class ComputedRefImpl{constructor(rt,it,st,bt){this._setter=it,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ReactiveEffect(rt,()=>{this._dirty||(this._dirty=!0,triggerRefValue(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!bt,this.__v_isReadonly=st}get value(){const rt=toRaw(this);return trackRefValue(rt),(rt._dirty||!rt._cacheable)&&(rt._dirty=!1,rt._value=rt.effect.run()),rt._value}set value(rt){this._setter(rt)}}function computed$1(nt,rt,it=!1){let st,bt;const wt=isFunction$1(nt);return wt?(st=nt,bt=NOOP):(st=nt.get,bt=nt.set),new ComputedRefImpl(st,bt,wt||!bt,it)}function warn(nt,...rt){}function callWithErrorHandling(nt,rt,it,st){let bt;try{bt=st?nt(...st):nt()}catch(wt){handleError$1(wt,rt,it)}return bt}function callWithAsyncErrorHandling(nt,rt,it,st){if(isFunction$1(nt)){const wt=callWithErrorHandling(nt,rt,it,st);return wt&&isPromise(wt)&&wt.catch(Et=>{handleError$1(Et,rt,it)}),wt}const bt=[];for(let wt=0;wt<nt.length;wt++)bt.push(callWithAsyncErrorHandling(nt[wt],rt,it,st));return bt}function handleError$1(nt,rt,it,st=!0){const bt=rt?rt.vnode:null;if(rt){let wt=rt.parent;const Et=rt.proxy,Tt=it;for(;wt;){const Dt=wt.ec;if(Dt){for(let Ot=0;Ot<Dt.length;Ot++)if(Dt[Ot](nt,Et,Tt)===!1)return}wt=wt.parent}const At=rt.appContext.config.errorHandler;if(At){callWithErrorHandling(At,null,10,[nt,Et,Tt]);return}}logError(nt,it,bt,st)}function logError(nt,rt,it,st=!0){console.error(nt)}let isFlushing=!1,isFlushPending=!1;const queue=[];let flushIndex=0;const pendingPostFlushCbs=[];let activePostFlushCbs=null,postFlushIndex=0;const resolvedPromise=Promise.resolve();let currentFlushPromise=null;function nextTick(nt){const rt=currentFlushPromise||resolvedPromise;return nt?rt.then(this?nt.bind(this):nt):rt}function findInsertionIndex(nt){let rt=flushIndex+1,it=queue.length;for(;rt<it;){const st=rt+it>>>1;getId$1(queue[st])<nt?rt=st+1:it=st}return rt}function queueJob(nt){(!queue.length||!queue.includes(nt,isFlushing&&nt.allowRecurse?flushIndex+1:flushIndex))&&(nt.id==null?queue.push(nt):queue.splice(findInsertionIndex(nt.id),0,nt),queueFlush())}function queueFlush(){!isFlushing&&!isFlushPending&&(isFlushPending=!0,currentFlushPromise=resolvedPromise.then(flushJobs))}function invalidateJob(nt){const rt=queue.indexOf(nt);rt>flushIndex&&queue.splice(rt,1)}function queuePostFlushCb(nt){isArray$2(nt)?pendingPostFlushCbs.push(...nt):(!activePostFlushCbs||!activePostFlushCbs.includes(nt,nt.allowRecurse?postFlushIndex+1:postFlushIndex))&&pendingPostFlushCbs.push(nt),queueFlush()}function flushPreFlushCbs(nt,rt=isFlushing?flushIndex+1:0){for(;rt<queue.length;rt++){const it=queue[rt];it&&it.pre&&(queue.splice(rt,1),rt--,it())}}function flushPostFlushCbs(nt){if(pendingPostFlushCbs.length){const rt=[...new Set(pendingPostFlushCbs)];if(pendingPostFlushCbs.length=0,activePostFlushCbs){activePostFlushCbs.push(...rt);return}for(activePostFlushCbs=rt,activePostFlushCbs.sort((it,st)=>getId$1(it)-getId$1(st)),postFlushIndex=0;postFlushIndex<activePostFlushCbs.length;postFlushIndex++)activePostFlushCbs[postFlushIndex]();activePostFlushCbs=null,postFlushIndex=0}}const getId$1=nt=>nt.id==null?1/0:nt.id,comparator=(nt,rt)=>{const it=getId$1(nt)-getId$1(rt);if(it===0){if(nt.pre&&!rt.pre)return-1;if(rt.pre&&!nt.pre)return 1}return it};function flushJobs(nt){isFlushPending=!1,isFlushing=!0,queue.sort(comparator);const rt=NOOP;try{for(flushIndex=0;flushIndex<queue.length;flushIndex++){const it=queue[flushIndex];it&&it.active!==!1&&callWithErrorHandling(it,null,14)}}finally{flushIndex=0,queue.length=0,flushPostFlushCbs(),isFlushing=!1,currentFlushPromise=null,(queue.length||pendingPostFlushCbs.length)&&flushJobs()}}function emit(nt,rt,...it){if(nt.isUnmounted)return;const st=nt.vnode.props||EMPTY_OBJ;let bt=it;const wt=rt.startsWith("update:"),Et=wt&&rt.slice(7);if(Et&&Et in st){const Ot=`${Et==="modelValue"?"model":Et}Modifiers`,{number:zt,trim:$t}=st[Ot]||EMPTY_OBJ;$t&&(bt=it.map(Bt=>isString(Bt)?Bt.trim():Bt)),zt&&(bt=it.map(looseToNumber))}let Tt,At=st[Tt=toHandlerKey(rt)]||st[Tt=toHandlerKey(camelize(rt))];!At&&wt&&(At=st[Tt=toHandlerKey(hyphenate(rt))]),At&&callWithAsyncErrorHandling(At,nt,6,bt);const Dt=st[Tt+"Once"];if(Dt){if(!nt.emitted)nt.emitted={};else if(nt.emitted[Tt])return;nt.emitted[Tt]=!0,callWithAsyncErrorHandling(Dt,nt,6,bt)}}function normalizeEmitsOptions(nt,rt,it=!1){const st=rt.emitsCache,bt=st.get(nt);if(bt!==void 0)return bt;const wt=nt.emits;let Et={},Tt=!1;if(!isFunction$1(nt)){const At=Dt=>{const Ot=normalizeEmitsOptions(Dt,rt,!0);Ot&&(Tt=!0,extend$3(Et,Ot))};!it&&rt.mixins.length&&rt.mixins.forEach(At),nt.extends&&At(nt.extends),nt.mixins&&nt.mixins.forEach(At)}return!wt&&!Tt?(isObject$3(nt)&&st.set(nt,null),null):(isArray$2(wt)?wt.forEach(At=>Et[At]=null):extend$3(Et,wt),isObject$3(nt)&&st.set(nt,Et),Et)}function isEmitListener(nt,rt){return!nt||!isOn(rt)?!1:(rt=rt.slice(2).replace(/Once$/,""),hasOwn(nt,rt[0].toLowerCase()+rt.slice(1))||hasOwn(nt,hyphenate(rt))||hasOwn(nt,rt))}let currentRenderingInstance=null,currentScopeId=null;function setCurrentRenderingInstance(nt){const rt=currentRenderingInstance;return currentRenderingInstance=nt,currentScopeId=nt&&nt.type.__scopeId||null,rt}function pushScopeId(nt){currentScopeId=nt}function popScopeId(){currentScopeId=null}function withCtx(nt,rt=currentRenderingInstance,it){if(!rt||nt._n)return nt;const st=(...bt)=>{st._d&&setBlockTracking(-1);const wt=setCurrentRenderingInstance(rt);let Et;try{Et=nt(...bt)}finally{setCurrentRenderingInstance(wt),st._d&&setBlockTracking(1)}return Et};return st._n=!0,st._c=!0,st._d=!0,st}function markAttrsAccessed(){}function renderComponentRoot(nt){const{type:rt,vnode:it,proxy:st,withProxy:bt,props:wt,propsOptions:[Et],slots:Tt,attrs:At,emit:Dt,render:Ot,renderCache:zt,data:$t,setupState:Bt,ctx:Yt,inheritAttrs:Xt}=nt;let Ht,Qt;const Zt=setCurrentRenderingInstance(nt);try{if(it.shapeFlag&4){const Kt=bt||st;Ht=normalizeVNode(Ot.call(Kt,Kt,zt,wt,Bt,$t,Yt)),Qt=At}else{const Kt=rt;Ht=normalizeVNode(Kt.length>1?Kt(wt,{attrs:At,slots:Tt,emit:Dt}):Kt(wt,null)),Qt=rt.props?At:getFunctionalFallthrough(At)}}catch(Kt){blockStack.length=0,handleError$1(Kt,nt,1),Ht=createVNode(Comment)}let nn=Ht;if(Qt&&Xt!==!1){const Kt=Object.keys(Qt),{shapeFlag:ln}=nn;Kt.length&&ln&7&&(Et&&Kt.some(isModelListener)&&(Qt=filterModelListeners(Qt,Et)),nn=cloneVNode(nn,Qt))}return it.dirs&&(nn=cloneVNode(nn),nn.dirs=nn.dirs?nn.dirs.concat(it.dirs):it.dirs),it.transition&&(nn.transition=it.transition),Ht=nn,setCurrentRenderingInstance(Zt),Ht}const getFunctionalFallthrough=nt=>{let rt;for(const it in nt)(it==="class"||it==="style"||isOn(it))&&((rt||(rt={}))[it]=nt[it]);return rt},filterModelListeners=(nt,rt)=>{const it={};for(const st in nt)(!isModelListener(st)||!(st.slice(9)in rt))&&(it[st]=nt[st]);return it};function shouldUpdateComponent(nt,rt,it){const{props:st,children:bt,component:wt}=nt,{props:Et,children:Tt,patchFlag:At}=rt,Dt=wt.emitsOptions;if(rt.dirs||rt.transition)return!0;if(it&&At>=0){if(At&1024)return!0;if(At&16)return st?hasPropsChanged(st,Et,Dt):!!Et;if(At&8){const Ot=rt.dynamicProps;for(let zt=0;zt<Ot.length;zt++){const $t=Ot[zt];if(Et[$t]!==st[$t]&&!isEmitListener(Dt,$t))return!0}}}else return(bt||Tt)&&(!Tt||!Tt.$stable)?!0:st===Et?!1:st?Et?hasPropsChanged(st,Et,Dt):!0:!!Et;return!1}function hasPropsChanged(nt,rt,it){const st=Object.keys(rt);if(st.length!==Object.keys(nt).length)return!0;for(let bt=0;bt<st.length;bt++){const wt=st[bt];if(rt[wt]!==nt[wt]&&!isEmitListener(it,wt))return!0}return!1}function updateHOCHostEl({vnode:nt,parent:rt},it){for(;rt&&rt.subTree===nt;)(nt=rt.vnode).el=it,rt=rt.parent}const isSuspense=nt=>nt.__isSuspense;function queueEffectWithSuspense(nt,rt){rt&&rt.pendingBranch?isArray$2(nt)?rt.effects.push(...nt):rt.effects.push(nt):queuePostFlushCb(nt)}const INITIAL_WATCHER_VALUE={};function watch$1(nt,rt,it){return doWatch(nt,rt,it)}function doWatch(nt,rt,{immediate:it,deep:st,flush:bt,onTrack:wt,onTrigger:Et}=EMPTY_OBJ){var Tt;const At=getCurrentScope()===((Tt=currentInstance)==null?void 0:Tt.scope)?currentInstance:null;let Dt,Ot=!1,zt=!1;if(isRef(nt)?(Dt=()=>nt.value,Ot=isShallow(nt)):isReactive(nt)?(Dt=()=>nt,st=!0):isArray$2(nt)?(zt=!0,Ot=nt.some(Kt=>isReactive(Kt)||isShallow(Kt)),Dt=()=>nt.map(Kt=>{if(isRef(Kt))return Kt.value;if(isReactive(Kt))return traverse(Kt);if(isFunction$1(Kt))return callWithErrorHandling(Kt,At,2)})):isFunction$1(nt)?rt?Dt=()=>callWithErrorHandling(nt,At,2):Dt=()=>{if(!(At&&At.isUnmounted))return $t&&$t(),callWithAsyncErrorHandling(nt,At,3,[Bt])}:Dt=NOOP,rt&&st){const Kt=Dt;Dt=()=>traverse(Kt())}let $t,Bt=Kt=>{$t=Zt.onStop=()=>{callWithErrorHandling(Kt,At,4)}},Yt;if(isInSSRComponentSetup)if(Bt=NOOP,rt?it&&callWithAsyncErrorHandling(rt,At,3,[Dt(),zt?[]:void 0,Bt]):Dt(),bt==="sync"){const Kt=useSSRContext();Yt=Kt.__watcherHandles||(Kt.__watcherHandles=[])}else return NOOP;let Xt=zt?new Array(nt.length).fill(INITIAL_WATCHER_VALUE):INITIAL_WATCHER_VALUE;const Ht=()=>{if(!!Zt.active)if(rt){const Kt=Zt.run();(st||Ot||(zt?Kt.some((ln,sn)=>hasChanged(ln,Xt[sn])):hasChanged(Kt,Xt)))&&($t&&$t(),callWithAsyncErrorHandling(rt,At,3,[Kt,Xt===INITIAL_WATCHER_VALUE?void 0:zt&&Xt[0]===INITIAL_WATCHER_VALUE?[]:Xt,Bt]),Xt=Kt)}else Zt.run()};Ht.allowRecurse=!!rt;let Qt;bt==="sync"?Qt=Ht:bt==="post"?Qt=()=>queuePostRenderEffect(Ht,At&&At.suspense):(Ht.pre=!0,At&&(Ht.id=At.uid),Qt=()=>queueJob(Ht));const Zt=new ReactiveEffect(Dt,Qt);rt?it?Ht():Xt=Zt.run():bt==="post"?queuePostRenderEffect(Zt.run.bind(Zt),At&&At.suspense):Zt.run();const nn=()=>{Zt.stop(),At&&At.scope&&remove$1(At.scope.effects,Zt)};return Yt&&Yt.push(nn),nn}function instanceWatch(nt,rt,it){const st=this.proxy,bt=isString(nt)?nt.includes(".")?createPathGetter(st,nt):()=>st[nt]:nt.bind(st,st);let wt;isFunction$1(rt)?wt=rt:(wt=rt.handler,it=rt);const Et=currentInstance;setCurrentInstance(this);const Tt=doWatch(bt,wt.bind(st),it);return Et?setCurrentInstance(Et):unsetCurrentInstance(),Tt}function createPathGetter(nt,rt){const it=rt.split(".");return()=>{let st=nt;for(let bt=0;bt<it.length&&st;bt++)st=st[it[bt]];return st}}function traverse(nt,rt){if(!isObject$3(nt)||nt.__v_skip||(rt=rt||new Set,rt.has(nt)))return nt;if(rt.add(nt),isRef(nt))traverse(nt.value,rt);else if(isArray$2(nt))for(let it=0;it<nt.length;it++)traverse(nt[it],rt);else if(isSet$2(nt)||isMap$2(nt))nt.forEach(it=>{traverse(it,rt)});else if(isPlainObject$1(nt))for(const it in nt)traverse(nt[it],rt);return nt}function invokeDirectiveHook(nt,rt,it,st){const bt=nt.dirs,wt=rt&&rt.dirs;for(let Et=0;Et<bt.length;Et++){const Tt=bt[Et];wt&&(Tt.oldValue=wt[Et].value);let At=Tt.dir[st];At&&(pauseTracking(),callWithAsyncErrorHandling(At,it,8,[nt.el,Tt,nt,rt]),resetTracking())}}const TransitionHookValidator=[Function,Array],BaseTransitionPropsValidators={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:TransitionHookValidator,onEnter:TransitionHookValidator,onAfterEnter:TransitionHookValidator,onEnterCancelled:TransitionHookValidator,onBeforeLeave:TransitionHookValidator,onLeave:TransitionHookValidator,onAfterLeave:TransitionHookValidator,onLeaveCancelled:TransitionHookValidator,onBeforeAppear:TransitionHookValidator,onAppear:TransitionHookValidator,onAfterAppear:TransitionHookValidator,onAppearCancelled:TransitionHookValidator};function defineComponent(nt,rt){return isFunction$1(nt)?(()=>extend$3({name:nt.name},rt,{setup:nt}))():nt}const isAsyncWrapper=nt=>!!nt.type.__asyncLoader,isKeepAlive=nt=>nt.type.__isKeepAlive;function onActivated(nt,rt){registerKeepAliveHook(nt,"a",rt)}function onDeactivated(nt,rt){registerKeepAliveHook(nt,"da",rt)}function registerKeepAliveHook(nt,rt,it=currentInstance){const st=nt.__wdc||(nt.__wdc=()=>{let bt=it;for(;bt;){if(bt.isDeactivated)return;bt=bt.parent}return nt()});if(injectHook(rt,st,it),it){let bt=it.parent;for(;bt&&bt.parent;)isKeepAlive(bt.parent.vnode)&&injectToKeepAliveRoot(st,rt,it,bt),bt=bt.parent}}function injectToKeepAliveRoot(nt,rt,it,st){const bt=injectHook(rt,nt,st,!0);onUnmounted(()=>{remove$1(st[rt],bt)},it)}function injectHook(nt,rt,it=currentInstance,st=!1){if(it){const bt=it[nt]||(it[nt]=[]),wt=rt.__weh||(rt.__weh=(...Et)=>{if(it.isUnmounted)return;pauseTracking(),setCurrentInstance(it);const Tt=callWithAsyncErrorHandling(rt,it,nt,Et);return unsetCurrentInstance(),resetTracking(),Tt});return st?bt.unshift(wt):bt.push(wt),wt}}const createHook=nt=>(rt,it=currentInstance)=>(!isInSSRComponentSetup||nt==="sp")&&injectHook(nt,(...st)=>rt(...st),it),onBeforeMount=createHook("bm"),onMounted=createHook("m"),onBeforeUpdate=createHook("bu"),onUpdated=createHook("u"),onBeforeUnmount=createHook("bum"),onUnmounted=createHook("um"),onServerPrefetch=createHook("sp"),onRenderTriggered=createHook("rtg"),onRenderTracked=createHook("rtc");function onErrorCaptured(nt,rt=currentInstance){injectHook("ec",nt,rt)}const NULL_DYNAMIC_COMPONENT=Symbol.for("v-ndc");function renderList(nt,rt,it,st){let bt;const wt=it&&it[st];if(isArray$2(nt)||isString(nt)){bt=new Array(nt.length);for(let Et=0,Tt=nt.length;Et<Tt;Et++)bt[Et]=rt(nt[Et],Et,void 0,wt&&wt[Et])}else if(typeof nt=="number"){bt=new Array(nt);for(let Et=0;Et<nt;Et++)bt[Et]=rt(Et+1,Et,void 0,wt&&wt[Et])}else if(isObject$3(nt))if(nt[Symbol.iterator])bt=Array.from(nt,(Et,Tt)=>rt(Et,Tt,void 0,wt&&wt[Tt]));else{const Et=Object.keys(nt);bt=new Array(Et.length);for(let Tt=0,At=Et.length;Tt<At;Tt++){const Dt=Et[Tt];bt[Tt]=rt(nt[Dt],Dt,Tt,wt&&wt[Tt])}}else bt=[];return it&&(it[st]=bt),bt}const getPublicInstance=nt=>nt?isStatefulComponent(nt)?getExposeProxy(nt)||nt.proxy:getPublicInstance(nt.parent):null,publicPropertiesMap=extend$3(Object.create(null),{$:nt=>nt,$el:nt=>nt.vnode.el,$data:nt=>nt.data,$props:nt=>nt.props,$attrs:nt=>nt.attrs,$slots:nt=>nt.slots,$refs:nt=>nt.refs,$parent:nt=>getPublicInstance(nt.parent),$root:nt=>getPublicInstance(nt.root),$emit:nt=>nt.emit,$options:nt=>resolveMergedOptions(nt),$forceUpdate:nt=>nt.f||(nt.f=()=>queueJob(nt.update)),$nextTick:nt=>nt.n||(nt.n=nextTick.bind(nt.proxy)),$watch:nt=>instanceWatch.bind(nt)}),hasSetupBinding=(nt,rt)=>nt!==EMPTY_OBJ&&!nt.__isScriptSetup&&hasOwn(nt,rt),PublicInstanceProxyHandlers={get({_:nt},rt){const{ctx:it,setupState:st,data:bt,props:wt,accessCache:Et,type:Tt,appContext:At}=nt;let Dt;if(rt[0]!=="$"){const Bt=Et[rt];if(Bt!==void 0)switch(Bt){case 1:return st[rt];case 2:return bt[rt];case 4:return it[rt];case 3:return wt[rt]}else{if(hasSetupBinding(st,rt))return Et[rt]=1,st[rt];if(bt!==EMPTY_OBJ&&hasOwn(bt,rt))return Et[rt]=2,bt[rt];if((Dt=nt.propsOptions[0])&&hasOwn(Dt,rt))return Et[rt]=3,wt[rt];if(it!==EMPTY_OBJ&&hasOwn(it,rt))return Et[rt]=4,it[rt];shouldCacheAccess&&(Et[rt]=0)}}const Ot=publicPropertiesMap[rt];let zt,$t;if(Ot)return rt==="$attrs"&&track(nt,"get",rt),Ot(nt);if((zt=Tt.__cssModules)&&(zt=zt[rt]))return zt;if(it!==EMPTY_OBJ&&hasOwn(it,rt))return Et[rt]=4,it[rt];if($t=At.config.globalProperties,hasOwn($t,rt))return $t[rt]},set({_:nt},rt,it){const{data:st,setupState:bt,ctx:wt}=nt;return hasSetupBinding(bt,rt)?(bt[rt]=it,!0):st!==EMPTY_OBJ&&hasOwn(st,rt)?(st[rt]=it,!0):hasOwn(nt.props,rt)||rt[0]==="$"&&rt.slice(1)in nt?!1:(wt[rt]=it,!0)},has({_:{data:nt,setupState:rt,accessCache:it,ctx:st,appContext:bt,propsOptions:wt}},Et){let Tt;return!!it[Et]||nt!==EMPTY_OBJ&&hasOwn(nt,Et)||hasSetupBinding(rt,Et)||(Tt=wt[0])&&hasOwn(Tt,Et)||hasOwn(st,Et)||hasOwn(publicPropertiesMap,Et)||hasOwn(bt.config.globalProperties,Et)},defineProperty(nt,rt,it){return it.get!=null?nt._.accessCache[rt]=0:hasOwn(it,"value")&&this.set(nt,rt,it.value,null),Reflect.defineProperty(nt,rt,it)}};function normalizePropsOrEmits(nt){return isArray$2(nt)?nt.reduce((rt,it)=>(rt[it]=null,rt),{}):nt}let shouldCacheAccess=!0;function applyOptions(nt){const rt=resolveMergedOptions(nt),it=nt.proxy,st=nt.ctx;shouldCacheAccess=!1,rt.beforeCreate&&callHook(rt.beforeCreate,nt,"bc");const{data:bt,computed:wt,methods:Et,watch:Tt,provide:At,inject:Dt,created:Ot,beforeMount:zt,mounted:$t,beforeUpdate:Bt,updated:Yt,activated:Xt,deactivated:Ht,beforeDestroy:Qt,beforeUnmount:Zt,destroyed:nn,unmounted:Kt,render:ln,renderTracked:sn,renderTriggered:bn,errorCaptured:wn,serverPrefetch:Mn,expose:Sn,inheritAttrs:Dn,components:gn,directives:Un,filters:pn}=rt;if(Dt&&resolveInjections(Dt,st,null),Et)for(const Mr in Et){const fr=Et[Mr];isFunction$1(fr)&&(st[Mr]=fr.bind(it))}if(bt){const Mr=bt.call(it,it);isObject$3(Mr)&&(nt.data=reactive(Mr))}if(shouldCacheAccess=!0,wt)for(const Mr in wt){const fr=wt[Mr],cr=isFunction$1(fr)?fr.bind(it,it):isFunction$1(fr.get)?fr.get.bind(it,it):NOOP,Gn=!isFunction$1(fr)&&isFunction$1(fr.set)?fr.set.bind(it):NOOP,lr=computed({get:cr,set:Gn});Object.defineProperty(st,Mr,{enumerable:!0,configurable:!0,get:()=>lr.value,set:ur=>lr.value=ur})}if(Tt)for(const Mr in Tt)createWatcher(Tt[Mr],st,it,Mr);if(At){const Mr=isFunction$1(At)?At.call(it):At;Reflect.ownKeys(Mr).forEach(fr=>{provide(fr,Mr[fr])})}Ot&&callHook(Ot,nt,"c");function xn(Mr,fr){isArray$2(fr)?fr.forEach(cr=>Mr(cr.bind(it))):fr&&Mr(fr.bind(it))}if(xn(onBeforeMount,zt),xn(onMounted,$t),xn(onBeforeUpdate,Bt),xn(onUpdated,Yt),xn(onActivated,Xt),xn(onDeactivated,Ht),xn(onErrorCaptured,wn),xn(onRenderTracked,sn),xn(onRenderTriggered,bn),xn(onBeforeUnmount,Zt),xn(onUnmounted,Kt),xn(onServerPrefetch,Mn),isArray$2(Sn))if(Sn.length){const Mr=nt.exposed||(nt.exposed={});Sn.forEach(fr=>{Object.defineProperty(Mr,fr,{get:()=>it[fr],set:cr=>it[fr]=cr})})}else nt.exposed||(nt.exposed={});ln&&nt.render===NOOP&&(nt.render=ln),Dn!=null&&(nt.inheritAttrs=Dn),gn&&(nt.components=gn),Un&&(nt.directives=Un)}function resolveInjections(nt,rt,it=NOOP){isArray$2(nt)&&(nt=normalizeInject(nt));for(const st in nt){const bt=nt[st];let wt;isObject$3(bt)?"default"in bt?wt=inject(bt.from||st,bt.default,!0):wt=inject(bt.from||st):wt=inject(bt),isRef(wt)?Object.defineProperty(rt,st,{enumerable:!0,configurable:!0,get:()=>wt.value,set:Et=>wt.value=Et}):rt[st]=wt}}function callHook(nt,rt,it){callWithAsyncErrorHandling(isArray$2(nt)?nt.map(st=>st.bind(rt.proxy)):nt.bind(rt.proxy),rt,it)}function createWatcher(nt,rt,it,st){const bt=st.includes(".")?createPathGetter(it,st):()=>it[st];if(isString(nt)){const wt=rt[nt];isFunction$1(wt)&&watch$1(bt,wt)}else if(isFunction$1(nt))watch$1(bt,nt.bind(it));else if(isObject$3(nt))if(isArray$2(nt))nt.forEach(wt=>createWatcher(wt,rt,it,st));else{const wt=isFunction$1(nt.handler)?nt.handler.bind(it):rt[nt.handler];isFunction$1(wt)&&watch$1(bt,wt,nt)}}function resolveMergedOptions(nt){const rt=nt.type,{mixins:it,extends:st}=rt,{mixins:bt,optionsCache:wt,config:{optionMergeStrategies:Et}}=nt.appContext,Tt=wt.get(rt);let At;return Tt?At=Tt:!bt.length&&!it&&!st?At=rt:(At={},bt.length&&bt.forEach(Dt=>mergeOptions(At,Dt,Et,!0)),mergeOptions(At,rt,Et)),isObject$3(rt)&&wt.set(rt,At),At}function mergeOptions(nt,rt,it,st=!1){const{mixins:bt,extends:wt}=rt;wt&&mergeOptions(nt,wt,it,!0),bt&&bt.forEach(Et=>mergeOptions(nt,Et,it,!0));for(const Et in rt)if(!(st&&Et==="expose")){const Tt=internalOptionMergeStrats[Et]||it&&it[Et];nt[Et]=Tt?Tt(nt[Et],rt[Et]):rt[Et]}return nt}const internalOptionMergeStrats={data:mergeDataFn,props:mergeEmitsOrPropsOptions,emits:mergeEmitsOrPropsOptions,methods:mergeObjectOptions,computed:mergeObjectOptions,beforeCreate:mergeAsArray,created:mergeAsArray,beforeMount:mergeAsArray,mounted:mergeAsArray,beforeUpdate:mergeAsArray,updated:mergeAsArray,beforeDestroy:mergeAsArray,beforeUnmount:mergeAsArray,destroyed:mergeAsArray,unmounted:mergeAsArray,activated:mergeAsArray,deactivated:mergeAsArray,errorCaptured:mergeAsArray,serverPrefetch:mergeAsArray,components:mergeObjectOptions,directives:mergeObjectOptions,watch:mergeWatchOptions,provide:mergeDataFn,inject:mergeInject};function mergeDataFn(nt,rt){return rt?nt?function(){return extend$3(isFunction$1(nt)?nt.call(this,this):nt,isFunction$1(rt)?rt.call(this,this):rt)}:rt:nt}function mergeInject(nt,rt){return mergeObjectOptions(normalizeInject(nt),normalizeInject(rt))}function normalizeInject(nt){if(isArray$2(nt)){const rt={};for(let it=0;it<nt.length;it++)rt[nt[it]]=nt[it];return rt}return nt}function mergeAsArray(nt,rt){return nt?[...new Set([].concat(nt,rt))]:rt}function mergeObjectOptions(nt,rt){return nt?extend$3(Object.create(null),nt,rt):rt}function mergeEmitsOrPropsOptions(nt,rt){return nt?isArray$2(nt)&&isArray$2(rt)?[...new Set([...nt,...rt])]:extend$3(Object.create(null),normalizePropsOrEmits(nt),normalizePropsOrEmits(rt!=null?rt:{})):rt}function mergeWatchOptions(nt,rt){if(!nt)return rt;if(!rt)return nt;const it=extend$3(Object.create(null),nt);for(const st in rt)it[st]=mergeAsArray(nt[st],rt[st]);return it}function createAppContext(){return{app:null,config:{isNativeTag:NO,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let uid$1=0;function createAppAPI(nt,rt){return function(st,bt=null){isFunction$1(st)||(st=extend$3({},st)),bt!=null&&!isObject$3(bt)&&(bt=null);const wt=createAppContext(),Et=new Set;let Tt=!1;const At=wt.app={_uid:uid$1++,_component:st,_props:bt,_container:null,_context:wt,_instance:null,version:version$2,get config(){return wt.config},set config(Dt){},use(Dt,...Ot){return Et.has(Dt)||(Dt&&isFunction$1(Dt.install)?(Et.add(Dt),Dt.install(At,...Ot)):isFunction$1(Dt)&&(Et.add(Dt),Dt(At,...Ot))),At},mixin(Dt){return wt.mixins.includes(Dt)||wt.mixins.push(Dt),At},component(Dt,Ot){return Ot?(wt.components[Dt]=Ot,At):wt.components[Dt]},directive(Dt,Ot){return Ot?(wt.directives[Dt]=Ot,At):wt.directives[Dt]},mount(Dt,Ot,zt){if(!Tt){const $t=createVNode(st,bt);return $t.appContext=wt,Ot&&rt?rt($t,Dt):nt($t,Dt,zt),Tt=!0,At._container=Dt,Dt.__vue_app__=At,getExposeProxy($t.component)||$t.component.proxy}},unmount(){Tt&&(nt(null,At._container),delete At._container.__vue_app__)},provide(Dt,Ot){return wt.provides[Dt]=Ot,At},runWithContext(Dt){currentApp=At;try{return Dt()}finally{currentApp=null}}};return At}}let currentApp=null;function provide(nt,rt){if(currentInstance){let it=currentInstance.provides;const st=currentInstance.parent&&currentInstance.parent.provides;st===it&&(it=currentInstance.provides=Object.create(st)),it[nt]=rt}}function inject(nt,rt,it=!1){const st=currentInstance||currentRenderingInstance;if(st||currentApp){const bt=st?st.parent==null?st.vnode.appContext&&st.vnode.appContext.provides:st.parent.provides:currentApp._context.provides;if(bt&&nt in bt)return bt[nt];if(arguments.length>1)return it&&isFunction$1(rt)?rt.call(st&&st.proxy):rt}}function initProps(nt,rt,it,st=!1){const bt={},wt={};def(wt,InternalObjectKey,1),nt.propsDefaults=Object.create(null),setFullProps(nt,rt,bt,wt);for(const Et in nt.propsOptions[0])Et in bt||(bt[Et]=void 0);it?nt.props=st?bt:shallowReactive(bt):nt.type.props?nt.props=bt:nt.props=wt,nt.attrs=wt}function updateProps(nt,rt,it,st){const{props:bt,attrs:wt,vnode:{patchFlag:Et}}=nt,Tt=toRaw(bt),[At]=nt.propsOptions;let Dt=!1;if((st||Et>0)&&!(Et&16)){if(Et&8){const Ot=nt.vnode.dynamicProps;for(let zt=0;zt<Ot.length;zt++){let $t=Ot[zt];if(isEmitListener(nt.emitsOptions,$t))continue;const Bt=rt[$t];if(At)if(hasOwn(wt,$t))Bt!==wt[$t]&&(wt[$t]=Bt,Dt=!0);else{const Yt=camelize($t);bt[Yt]=resolvePropValue(At,Tt,Yt,Bt,nt,!1)}else Bt!==wt[$t]&&(wt[$t]=Bt,Dt=!0)}}}else{setFullProps(nt,rt,bt,wt)&&(Dt=!0);let Ot;for(const zt in Tt)(!rt||!hasOwn(rt,zt)&&((Ot=hyphenate(zt))===zt||!hasOwn(rt,Ot)))&&(At?it&&(it[zt]!==void 0||it[Ot]!==void 0)&&(bt[zt]=resolvePropValue(At,Tt,zt,void 0,nt,!0)):delete bt[zt]);if(wt!==Tt)for(const zt in wt)(!rt||!hasOwn(rt,zt)&&!0)&&(delete wt[zt],Dt=!0)}Dt&&trigger(nt,"set","$attrs")}function setFullProps(nt,rt,it,st){const[bt,wt]=nt.propsOptions;let Et=!1,Tt;if(rt)for(let At in rt){if(isReservedProp(At))continue;const Dt=rt[At];let Ot;bt&&hasOwn(bt,Ot=camelize(At))?!wt||!wt.includes(Ot)?it[Ot]=Dt:(Tt||(Tt={}))[Ot]=Dt:isEmitListener(nt.emitsOptions,At)||(!(At in st)||Dt!==st[At])&&(st[At]=Dt,Et=!0)}if(wt){const At=toRaw(it),Dt=Tt||EMPTY_OBJ;for(let Ot=0;Ot<wt.length;Ot++){const zt=wt[Ot];it[zt]=resolvePropValue(bt,At,zt,Dt[zt],nt,!hasOwn(Dt,zt))}}return Et}function resolvePropValue(nt,rt,it,st,bt,wt){const Et=nt[it];if(Et!=null){const Tt=hasOwn(Et,"default");if(Tt&&st===void 0){const At=Et.default;if(Et.type!==Function&&!Et.skipFactory&&isFunction$1(At)){const{propsDefaults:Dt}=bt;it in Dt?st=Dt[it]:(setCurrentInstance(bt),st=Dt[it]=At.call(null,rt),unsetCurrentInstance())}else st=At}Et[0]&&(wt&&!Tt?st=!1:Et[1]&&(st===""||st===hyphenate(it))&&(st=!0))}return st}function normalizePropsOptions(nt,rt,it=!1){const st=rt.propsCache,bt=st.get(nt);if(bt)return bt;const wt=nt.props,Et={},Tt=[];let At=!1;if(!isFunction$1(nt)){const Ot=zt=>{At=!0;const[$t,Bt]=normalizePropsOptions(zt,rt,!0);extend$3(Et,$t),Bt&&Tt.push(...Bt)};!it&&rt.mixins.length&&rt.mixins.forEach(Ot),nt.extends&&Ot(nt.extends),nt.mixins&&nt.mixins.forEach(Ot)}if(!wt&&!At)return isObject$3(nt)&&st.set(nt,EMPTY_ARR),EMPTY_ARR;if(isArray$2(wt))for(let Ot=0;Ot<wt.length;Ot++){const zt=camelize(wt[Ot]);validatePropName(zt)&&(Et[zt]=EMPTY_OBJ)}else if(wt)for(const Ot in wt){const zt=camelize(Ot);if(validatePropName(zt)){const $t=wt[Ot],Bt=Et[zt]=isArray$2($t)||isFunction$1($t)?{type:$t}:extend$3({},$t);if(Bt){const Yt=getTypeIndex(Boolean,Bt.type),Xt=getTypeIndex(String,Bt.type);Bt[0]=Yt>-1,Bt[1]=Xt<0||Yt<Xt,(Yt>-1||hasOwn(Bt,"default"))&&Tt.push(zt)}}}const Dt=[Et,Tt];return isObject$3(nt)&&st.set(nt,Dt),Dt}function validatePropName(nt){return nt[0]!=="$"}function getType(nt){const rt=nt&&nt.toString().match(/^\s*(function|class) (\w+)/);return rt?rt[2]:nt===null?"null":""}function isSameType(nt,rt){return getType(nt)===getType(rt)}function getTypeIndex(nt,rt){return isArray$2(rt)?rt.findIndex(it=>isSameType(it,nt)):isFunction$1(rt)&&isSameType(rt,nt)?0:-1}const isInternalKey=nt=>nt[0]==="_"||nt==="$stable",normalizeSlotValue=nt=>isArray$2(nt)?nt.map(normalizeVNode):[normalizeVNode(nt)],normalizeSlot=(nt,rt,it)=>{if(rt._n)return rt;const st=withCtx((...bt)=>normalizeSlotValue(rt(...bt)),it);return st._c=!1,st},normalizeObjectSlots=(nt,rt,it)=>{const st=nt._ctx;for(const bt in nt){if(isInternalKey(bt))continue;const wt=nt[bt];if(isFunction$1(wt))rt[bt]=normalizeSlot(bt,wt,st);else if(wt!=null){const Et=normalizeSlotValue(wt);rt[bt]=()=>Et}}},normalizeVNodeSlots=(nt,rt)=>{const it=normalizeSlotValue(rt);nt.slots.default=()=>it},initSlots=(nt,rt)=>{if(nt.vnode.shapeFlag&32){const it=rt._;it?(nt.slots=toRaw(rt),def(rt,"_",it)):normalizeObjectSlots(rt,nt.slots={})}else nt.slots={},rt&&normalizeVNodeSlots(nt,rt);def(nt.slots,InternalObjectKey,1)},updateSlots=(nt,rt,it)=>{const{vnode:st,slots:bt}=nt;let wt=!0,Et=EMPTY_OBJ;if(st.shapeFlag&32){const Tt=rt._;Tt?it&&Tt===1?wt=!1:(extend$3(bt,rt),!it&&Tt===1&&delete bt._):(wt=!rt.$stable,normalizeObjectSlots(rt,bt)),Et=rt}else rt&&(normalizeVNodeSlots(nt,rt),Et={default:1});if(wt)for(const Tt in bt)!isInternalKey(Tt)&&!(Tt in Et)&&delete bt[Tt]};function setRef(nt,rt,it,st,bt=!1){if(isArray$2(nt)){nt.forEach(($t,Bt)=>setRef($t,rt&&(isArray$2(rt)?rt[Bt]:rt),it,st,bt));return}if(isAsyncWrapper(st)&&!bt)return;const wt=st.shapeFlag&4?getExposeProxy(st.component)||st.component.proxy:st.el,Et=bt?null:wt,{i:Tt,r:At}=nt,Dt=rt&&rt.r,Ot=Tt.refs===EMPTY_OBJ?Tt.refs={}:Tt.refs,zt=Tt.setupState;if(Dt!=null&&Dt!==At&&(isString(Dt)?(Ot[Dt]=null,hasOwn(zt,Dt)&&(zt[Dt]=null)):isRef(Dt)&&(Dt.value=null)),isFunction$1(At))callWithErrorHandling(At,Tt,12,[Et,Ot]);else{const $t=isString(At),Bt=isRef(At);if($t||Bt){const Yt=()=>{if(nt.f){const Xt=$t?hasOwn(zt,At)?zt[At]:Ot[At]:At.value;bt?isArray$2(Xt)&&remove$1(Xt,wt):isArray$2(Xt)?Xt.includes(wt)||Xt.push(wt):$t?(Ot[At]=[wt],hasOwn(zt,At)&&(zt[At]=Ot[At])):(At.value=[wt],nt.k&&(Ot[nt.k]=At.value))}else $t?(Ot[At]=Et,hasOwn(zt,At)&&(zt[At]=Et)):Bt&&(At.value=Et,nt.k&&(Ot[nt.k]=Et))};Et?(Yt.id=-1,queuePostRenderEffect(Yt,it)):Yt()}}}const queuePostRenderEffect=queueEffectWithSuspense;function createRenderer(nt){return baseCreateRenderer(nt)}function baseCreateRenderer(nt,rt){const it=getGlobalThis();it.__VUE__=!0;const{insert:st,remove:bt,patchProp:wt,createElement:Et,createText:Tt,createComment:At,setText:Dt,setElementText:Ot,parentNode:zt,nextSibling:$t,setScopeId:Bt=NOOP,insertStaticContent:Yt}=nt,Xt=(An,rn,vn,hn=null,zn=null,On=null,Er=!1,Rn=null,rr=!!rn.dynamicChildren)=>{if(An===rn)return;An&&!isSameVNodeType(An,rn)&&(hn=tr(An),ur(An,zn,On,!0),An=null),rn.patchFlag===-2&&(rr=!1,rn.dynamicChildren=null);const{type:Kn,ref:gr,shapeFlag:xr}=rn;switch(Kn){case Text:Ht(An,rn,vn,hn);break;case Comment:Qt(An,rn,vn,hn);break;case Static:An==null&&Zt(rn,vn,hn,Er);break;case Fragment:gn(An,rn,vn,hn,zn,On,Er,Rn,rr);break;default:xr&1?ln(An,rn,vn,hn,zn,On,Er,Rn,rr):xr&6?Un(An,rn,vn,hn,zn,On,Er,Rn,rr):(xr&64||xr&128)&&Kn.process(An,rn,vn,hn,zn,On,Er,Rn,rr,mr)}gr!=null&&zn&&setRef(gr,An&&An.ref,On,rn||An,!rn)},Ht=(An,rn,vn,hn)=>{if(An==null)st(rn.el=Tt(rn.children),vn,hn);else{const zn=rn.el=An.el;rn.children!==An.children&&Dt(zn,rn.children)}},Qt=(An,rn,vn,hn)=>{An==null?st(rn.el=At(rn.children||""),vn,hn):rn.el=An.el},Zt=(An,rn,vn,hn)=>{[An.el,An.anchor]=Yt(An.children,rn,vn,hn,An.el,An.anchor)},nn=({el:An,anchor:rn},vn,hn)=>{let zn;for(;An&&An!==rn;)zn=$t(An),st(An,vn,hn),An=zn;st(rn,vn,hn)},Kt=({el:An,anchor:rn})=>{let vn;for(;An&&An!==rn;)vn=$t(An),bt(An),An=vn;bt(rn)},ln=(An,rn,vn,hn,zn,On,Er,Rn,rr)=>{Er=Er||rn.type==="svg",An==null?sn(rn,vn,hn,zn,On,Er,Rn,rr):Mn(An,rn,zn,On,Er,Rn,rr)},sn=(An,rn,vn,hn,zn,On,Er,Rn)=>{let rr,Kn;const{type:gr,props:xr,shapeFlag:Lr,transition:Cr,dirs:Ar}=An;if(rr=An.el=Et(An.type,On,xr&&xr.is,xr),Lr&8?Ot(rr,An.children):Lr&16&&wn(An.children,rr,null,hn,zn,On&&gr!=="foreignObject",Er,Rn),Ar&&invokeDirectiveHook(An,null,hn,"created"),bn(rr,An,An.scopeId,Er,hn),xr){for(const vi in xr)vi!=="value"&&!isReservedProp(vi)&&wt(rr,vi,null,xr[vi],On,An.children,hn,zn,_r);"value"in xr&&wt(rr,"value",null,xr.value),(Kn=xr.onVnodeBeforeMount)&&invokeVNodeHook(Kn,hn,An)}Ar&&invokeDirectiveHook(An,null,hn,"beforeMount");const mi=(!zn||zn&&!zn.pendingBranch)&&Cr&&!Cr.persisted;mi&&Cr.beforeEnter(rr),st(rr,rn,vn),((Kn=xr&&xr.onVnodeMounted)||mi||Ar)&&queuePostRenderEffect(()=>{Kn&&invokeVNodeHook(Kn,hn,An),mi&&Cr.enter(rr),Ar&&invokeDirectiveHook(An,null,hn,"mounted")},zn)},bn=(An,rn,vn,hn,zn)=>{if(vn&&Bt(An,vn),hn)for(let On=0;On<hn.length;On++)Bt(An,hn[On]);if(zn){let On=zn.subTree;if(rn===On){const Er=zn.vnode;bn(An,Er,Er.scopeId,Er.slotScopeIds,zn.parent)}}},wn=(An,rn,vn,hn,zn,On,Er,Rn,rr=0)=>{for(let Kn=rr;Kn<An.length;Kn++){const gr=An[Kn]=Rn?cloneIfMounted(An[Kn]):normalizeVNode(An[Kn]);Xt(null,gr,rn,vn,hn,zn,On,Er,Rn)}},Mn=(An,rn,vn,hn,zn,On,Er)=>{const Rn=rn.el=An.el;let{patchFlag:rr,dynamicChildren:Kn,dirs:gr}=rn;rr|=An.patchFlag&16;const xr=An.props||EMPTY_OBJ,Lr=rn.props||EMPTY_OBJ;let Cr;vn&&toggleRecurse(vn,!1),(Cr=Lr.onVnodeBeforeUpdate)&&invokeVNodeHook(Cr,vn,rn,An),gr&&invokeDirectiveHook(rn,An,vn,"beforeUpdate"),vn&&toggleRecurse(vn,!0);const Ar=zn&&rn.type!=="foreignObject";if(Kn?Sn(An.dynamicChildren,Kn,Rn,vn,hn,Ar,On):Er||fr(An,rn,Rn,null,vn,hn,Ar,On,!1),rr>0){if(rr&16)Dn(Rn,rn,xr,Lr,vn,hn,zn);else if(rr&2&&xr.class!==Lr.class&&wt(Rn,"class",null,Lr.class,zn),rr&4&&wt(Rn,"style",xr.style,Lr.style,zn),rr&8){const mi=rn.dynamicProps;for(let vi=0;vi<mi.length;vi++){const xi=mi[vi],Ci=xr[xi],Ei=Lr[xi];(Ei!==Ci||xi==="value")&&wt(Rn,xi,Ci,Ei,zn,An.children,vn,hn,_r)}}rr&1&&An.children!==rn.children&&Ot(Rn,rn.children)}else!Er&&Kn==null&&Dn(Rn,rn,xr,Lr,vn,hn,zn);((Cr=Lr.onVnodeUpdated)||gr)&&queuePostRenderEffect(()=>{Cr&&invokeVNodeHook(Cr,vn,rn,An),gr&&invokeDirectiveHook(rn,An,vn,"updated")},hn)},Sn=(An,rn,vn,hn,zn,On,Er)=>{for(let Rn=0;Rn<rn.length;Rn++){const rr=An[Rn],Kn=rn[Rn],gr=rr.el&&(rr.type===Fragment||!isSameVNodeType(rr,Kn)||rr.shapeFlag&70)?zt(rr.el):vn;Xt(rr,Kn,gr,null,hn,zn,On,Er,!0)}},Dn=(An,rn,vn,hn,zn,On,Er)=>{if(vn!==hn){if(vn!==EMPTY_OBJ)for(const Rn in vn)!isReservedProp(Rn)&&!(Rn in hn)&&wt(An,Rn,vn[Rn],null,Er,rn.children,zn,On,_r);for(const Rn in hn){if(isReservedProp(Rn))continue;const rr=hn[Rn],Kn=vn[Rn];rr!==Kn&&Rn!=="value"&&wt(An,Rn,Kn,rr,Er,rn.children,zn,On,_r)}"value"in hn&&wt(An,"value",vn.value,hn.value)}},gn=(An,rn,vn,hn,zn,On,Er,Rn,rr)=>{const Kn=rn.el=An?An.el:Tt(""),gr=rn.anchor=An?An.anchor:Tt("");let{patchFlag:xr,dynamicChildren:Lr,slotScopeIds:Cr}=rn;Cr&&(Rn=Rn?Rn.concat(Cr):Cr),An==null?(st(Kn,vn,hn),st(gr,vn,hn),wn(rn.children,vn,gr,zn,On,Er,Rn,rr)):xr>0&&xr&64&&Lr&&An.dynamicChildren?(Sn(An.dynamicChildren,Lr,vn,zn,On,Er,Rn),(rn.key!=null||zn&&rn===zn.subTree)&&traverseStaticChildren(An,rn,!0)):fr(An,rn,vn,gr,zn,On,Er,Rn,rr)},Un=(An,rn,vn,hn,zn,On,Er,Rn,rr)=>{rn.slotScopeIds=Rn,An==null?rn.shapeFlag&512?zn.ctx.activate(rn,vn,hn,Er,rr):pn(rn,vn,hn,zn,On,Er,rr):yr(An,rn,rr)},pn=(An,rn,vn,hn,zn,On,Er)=>{const Rn=An.component=createComponentInstance(An,hn,zn);if(isKeepAlive(An)&&(Rn.ctx.renderer=mr),setupComponent(Rn),Rn.asyncDep){if(zn&&zn.registerDep(Rn,xn),!An.el){const rr=Rn.subTree=createVNode(Comment);Qt(null,rr,rn,vn)}return}xn(Rn,An,rn,vn,zn,On,Er)},yr=(An,rn,vn)=>{const hn=rn.component=An.component;if(shouldUpdateComponent(An,rn,vn))if(hn.asyncDep&&!hn.asyncResolved){Mr(hn,rn,vn);return}else hn.next=rn,invalidateJob(hn.update),hn.update();else rn.el=An.el,hn.vnode=rn},xn=(An,rn,vn,hn,zn,On,Er)=>{const Rn=()=>{if(An.isMounted){let{next:gr,bu:xr,u:Lr,parent:Cr,vnode:Ar}=An,mi=gr,vi;toggleRecurse(An,!1),gr?(gr.el=Ar.el,Mr(An,gr,Er)):gr=Ar,xr&&invokeArrayFns(xr),(vi=gr.props&&gr.props.onVnodeBeforeUpdate)&&invokeVNodeHook(vi,Cr,gr,Ar),toggleRecurse(An,!0);const xi=renderComponentRoot(An),Ci=An.subTree;An.subTree=xi,Xt(Ci,xi,zt(Ci.el),tr(Ci),An,zn,On),gr.el=xi.el,mi===null&&updateHOCHostEl(An,xi.el),Lr&&queuePostRenderEffect(Lr,zn),(vi=gr.props&&gr.props.onVnodeUpdated)&&queuePostRenderEffect(()=>invokeVNodeHook(vi,Cr,gr,Ar),zn)}else{let gr;const{el:xr,props:Lr}=rn,{bm:Cr,m:Ar,parent:mi}=An,vi=isAsyncWrapper(rn);if(toggleRecurse(An,!1),Cr&&invokeArrayFns(Cr),!vi&&(gr=Lr&&Lr.onVnodeBeforeMount)&&invokeVNodeHook(gr,mi,rn),toggleRecurse(An,!0),xr&&hr){const xi=()=>{An.subTree=renderComponentRoot(An),hr(xr,An.subTree,An,zn,null)};vi?rn.type.__asyncLoader().then(()=>!An.isUnmounted&&xi()):xi()}else{const xi=An.subTree=renderComponentRoot(An);Xt(null,xi,vn,hn,An,zn,On),rn.el=xi.el}if(Ar&&queuePostRenderEffect(Ar,zn),!vi&&(gr=Lr&&Lr.onVnodeMounted)){const xi=rn;queuePostRenderEffect(()=>invokeVNodeHook(gr,mi,xi),zn)}(rn.shapeFlag&256||mi&&isAsyncWrapper(mi.vnode)&&mi.vnode.shapeFlag&256)&&An.a&&queuePostRenderEffect(An.a,zn),An.isMounted=!0,rn=vn=hn=null}},rr=An.effect=new ReactiveEffect(Rn,()=>queueJob(Kn),An.scope),Kn=An.update=()=>rr.run();Kn.id=An.uid,toggleRecurse(An,!0),Kn()},Mr=(An,rn,vn)=>{rn.component=An;const hn=An.vnode.props;An.vnode=rn,An.next=null,updateProps(An,rn.props,hn,vn),updateSlots(An,rn.children,vn),pauseTracking(),flushPreFlushCbs(),resetTracking()},fr=(An,rn,vn,hn,zn,On,Er,Rn,rr=!1)=>{const Kn=An&&An.children,gr=An?An.shapeFlag:0,xr=rn.children,{patchFlag:Lr,shapeFlag:Cr}=rn;if(Lr>0){if(Lr&128){Gn(Kn,xr,vn,hn,zn,On,Er,Rn,rr);return}else if(Lr&256){cr(Kn,xr,vn,hn,zn,On,Er,Rn,rr);return}}Cr&8?(gr&16&&_r(Kn,zn,On),xr!==Kn&&Ot(vn,xr)):gr&16?Cr&16?Gn(Kn,xr,vn,hn,zn,On,Er,Rn,rr):_r(Kn,zn,On,!0):(gr&8&&Ot(vn,""),Cr&16&&wn(xr,vn,hn,zn,On,Er,Rn,rr))},cr=(An,rn,vn,hn,zn,On,Er,Rn,rr)=>{An=An||EMPTY_ARR,rn=rn||EMPTY_ARR;const Kn=An.length,gr=rn.length,xr=Math.min(Kn,gr);let Lr;for(Lr=0;Lr<xr;Lr++){const Cr=rn[Lr]=rr?cloneIfMounted(rn[Lr]):normalizeVNode(rn[Lr]);Xt(An[Lr],Cr,vn,null,zn,On,Er,Rn,rr)}Kn>gr?_r(An,zn,On,!0,!1,xr):wn(rn,vn,hn,zn,On,Er,Rn,rr,xr)},Gn=(An,rn,vn,hn,zn,On,Er,Rn,rr)=>{let Kn=0;const gr=rn.length;let xr=An.length-1,Lr=gr-1;for(;Kn<=xr&&Kn<=Lr;){const Cr=An[Kn],Ar=rn[Kn]=rr?cloneIfMounted(rn[Kn]):normalizeVNode(rn[Kn]);if(isSameVNodeType(Cr,Ar))Xt(Cr,Ar,vn,null,zn,On,Er,Rn,rr);else break;Kn++}for(;Kn<=xr&&Kn<=Lr;){const Cr=An[xr],Ar=rn[Lr]=rr?cloneIfMounted(rn[Lr]):normalizeVNode(rn[Lr]);if(isSameVNodeType(Cr,Ar))Xt(Cr,Ar,vn,null,zn,On,Er,Rn,rr);else break;xr--,Lr--}if(Kn>xr){if(Kn<=Lr){const Cr=Lr+1,Ar=Cr<gr?rn[Cr].el:hn;for(;Kn<=Lr;)Xt(null,rn[Kn]=rr?cloneIfMounted(rn[Kn]):normalizeVNode(rn[Kn]),vn,Ar,zn,On,Er,Rn,rr),Kn++}}else if(Kn>Lr)for(;Kn<=xr;)ur(An[Kn],zn,On,!0),Kn++;else{const Cr=Kn,Ar=Kn,mi=new Map;for(Kn=Ar;Kn<=Lr;Kn++){const Ln=rn[Kn]=rr?cloneIfMounted(rn[Kn]):normalizeVNode(rn[Kn]);Ln.key!=null&&mi.set(Ln.key,Kn)}let vi,xi=0;const Ci=Lr-Ar+1;let Ei=!1,Bi=0;const Ai=new Array(Ci);for(Kn=0;Kn<Ci;Kn++)Ai[Kn]=0;for(Kn=Cr;Kn<=xr;Kn++){const Ln=An[Kn];if(xi>=Ci){ur(Ln,zn,On,!0);continue}let Nn;if(Ln.key!=null)Nn=mi.get(Ln.key);else for(vi=Ar;vi<=Lr;vi++)if(Ai[vi-Ar]===0&&isSameVNodeType(Ln,rn[vi])){Nn=vi;break}Nn===void 0?ur(Ln,zn,On,!0):(Ai[Nn-Ar]=Kn+1,Nn>=Bi?Bi=Nn:Ei=!0,Xt(Ln,rn[Nn],vn,null,zn,On,Er,Rn,rr),xi++)}const Fr=Ei?getSequence(Ai):EMPTY_ARR;for(vi=Fr.length-1,Kn=Ci-1;Kn>=0;Kn--){const Ln=Ar+Kn,Nn=rn[Ln],er=Ln+1<gr?rn[Ln+1].el:hn;Ai[Kn]===0?Xt(null,Nn,vn,er,zn,On,Er,Rn,rr):Ei&&(vi<0||Kn!==Fr[vi]?lr(Nn,vn,er,2):vi--)}}},lr=(An,rn,vn,hn,zn=null)=>{const{el:On,type:Er,transition:Rn,children:rr,shapeFlag:Kn}=An;if(Kn&6){lr(An.component.subTree,rn,vn,hn);return}if(Kn&128){An.suspense.move(rn,vn,hn);return}if(Kn&64){Er.move(An,rn,vn,mr);return}if(Er===Fragment){st(On,rn,vn);for(let xr=0;xr<rr.length;xr++)lr(rr[xr],rn,vn,hn);st(An.anchor,rn,vn);return}if(Er===Static){nn(An,rn,vn);return}if(hn!==2&&Kn&1&&Rn)if(hn===0)Rn.beforeEnter(On),st(On,rn,vn),queuePostRenderEffect(()=>Rn.enter(On),zn);else{const{leave:xr,delayLeave:Lr,afterLeave:Cr}=Rn,Ar=()=>st(On,rn,vn),mi=()=>{xr(On,()=>{Ar(),Cr&&Cr()})};Lr?Lr(On,Ar,mi):mi()}else st(On,rn,vn)},ur=(An,rn,vn,hn=!1,zn=!1)=>{const{type:On,props:Er,ref:Rn,children:rr,dynamicChildren:Kn,shapeFlag:gr,patchFlag:xr,dirs:Lr}=An;if(Rn!=null&&setRef(Rn,null,vn,An,!0),gr&256){rn.ctx.deactivate(An);return}const Cr=gr&1&&Lr,Ar=!isAsyncWrapper(An);let mi;if(Ar&&(mi=Er&&Er.onVnodeBeforeUnmount)&&invokeVNodeHook(mi,rn,An),gr&6)Pr(An.component,vn,hn);else{if(gr&128){An.suspense.unmount(vn,hn);return}Cr&&invokeDirectiveHook(An,null,rn,"beforeUnmount"),gr&64?An.type.remove(An,rn,vn,zn,mr,hn):Kn&&(On!==Fragment||xr>0&&xr&64)?_r(Kn,rn,vn,!1,!0):(On===Fragment&&xr&384||!zn&&gr&16)&&_r(rr,rn,vn),hn&&vr(An)}(Ar&&(mi=Er&&Er.onVnodeUnmounted)||Cr)&&queuePostRenderEffect(()=>{mi&&invokeVNodeHook(mi,rn,An),Cr&&invokeDirectiveHook(An,null,rn,"unmounted")},vn)},vr=An=>{const{type:rn,el:vn,anchor:hn,transition:zn}=An;if(rn===Fragment){Ir(vn,hn);return}if(rn===Static){Kt(An);return}const On=()=>{bt(vn),zn&&!zn.persisted&&zn.afterLeave&&zn.afterLeave()};if(An.shapeFlag&1&&zn&&!zn.persisted){const{leave:Er,delayLeave:Rn}=zn,rr=()=>Er(vn,On);Rn?Rn(An.el,On,rr):rr()}else On()},Ir=(An,rn)=>{let vn;for(;An!==rn;)vn=$t(An),bt(An),An=vn;bt(rn)},Pr=(An,rn,vn)=>{const{bum:hn,scope:zn,update:On,subTree:Er,um:Rn}=An;hn&&invokeArrayFns(hn),zn.stop(),On&&(On.active=!1,ur(Er,An,rn,vn)),Rn&&queuePostRenderEffect(Rn,rn),queuePostRenderEffect(()=>{An.isUnmounted=!0},rn),rn&&rn.pendingBranch&&!rn.isUnmounted&&An.asyncDep&&!An.asyncResolved&&An.suspenseId===rn.pendingId&&(rn.deps--,rn.deps===0&&rn.resolve())},_r=(An,rn,vn,hn=!1,zn=!1,On=0)=>{for(let Er=On;Er<An.length;Er++)ur(An[Er],rn,vn,hn,zn)},tr=An=>An.shapeFlag&6?tr(An.component.subTree):An.shapeFlag&128?An.suspense.next():$t(An.anchor||An.el),qn=(An,rn,vn)=>{An==null?rn._vnode&&ur(rn._vnode,null,null,!0):Xt(rn._vnode||null,An,rn,null,null,null,vn),flushPreFlushCbs(),flushPostFlushCbs(),rn._vnode=An},mr={p:Xt,um:ur,m:lr,r:vr,mt:pn,mc:wn,pc:fr,pbc:Sn,n:tr,o:nt};let br,hr;return rt&&([br,hr]=rt(mr)),{render:qn,hydrate:br,createApp:createAppAPI(qn,br)}}function toggleRecurse({effect:nt,update:rt},it){nt.allowRecurse=rt.allowRecurse=it}function traverseStaticChildren(nt,rt,it=!1){const st=nt.children,bt=rt.children;if(isArray$2(st)&&isArray$2(bt))for(let wt=0;wt<st.length;wt++){const Et=st[wt];let Tt=bt[wt];Tt.shapeFlag&1&&!Tt.dynamicChildren&&((Tt.patchFlag<=0||Tt.patchFlag===32)&&(Tt=bt[wt]=cloneIfMounted(bt[wt]),Tt.el=Et.el),it||traverseStaticChildren(Et,Tt)),Tt.type===Text&&(Tt.el=Et.el)}}function getSequence(nt){const rt=nt.slice(),it=[0];let st,bt,wt,Et,Tt;const At=nt.length;for(st=0;st<At;st++){const Dt=nt[st];if(Dt!==0){if(bt=it[it.length-1],nt[bt]<Dt){rt[st]=bt,it.push(st);continue}for(wt=0,Et=it.length-1;wt<Et;)Tt=wt+Et>>1,nt[it[Tt]]<Dt?wt=Tt+1:Et=Tt;Dt<nt[it[wt]]&&(wt>0&&(rt[st]=it[wt-1]),it[wt]=st)}}for(wt=it.length,Et=it[wt-1];wt-- >0;)it[wt]=Et,Et=rt[Et];return it}const isTeleport=nt=>nt.__isTeleport,Fragment=Symbol.for("v-fgt"),Text=Symbol.for("v-txt"),Comment=Symbol.for("v-cmt"),Static=Symbol.for("v-stc"),blockStack=[];let currentBlock=null;function openBlock(nt=!1){blockStack.push(currentBlock=nt?null:[])}function closeBlock(){blockStack.pop(),currentBlock=blockStack[blockStack.length-1]||null}let isBlockTreeEnabled=1;function setBlockTracking(nt){isBlockTreeEnabled+=nt}function setupBlock(nt){return nt.dynamicChildren=isBlockTreeEnabled>0?currentBlock||EMPTY_ARR:null,closeBlock(),isBlockTreeEnabled>0&&currentBlock&&currentBlock.push(nt),nt}function createElementBlock(nt,rt,it,st,bt,wt){return setupBlock(createBaseVNode(nt,rt,it,st,bt,wt,!0))}function createBlock(nt,rt,it,st,bt){return setupBlock(createVNode(nt,rt,it,st,bt,!0))}function isVNode(nt){return nt?nt.__v_isVNode===!0:!1}function isSameVNodeType(nt,rt){return nt.type===rt.type&&nt.key===rt.key}const InternalObjectKey="__vInternal",normalizeKey=({key:nt})=>nt!=null?nt:null,normalizeRef=({ref:nt,ref_key:rt,ref_for:it})=>(typeof nt=="number"&&(nt=""+nt),nt!=null?isString(nt)||isRef(nt)||isFunction$1(nt)?{i:currentRenderingInstance,r:nt,k:rt,f:!!it}:nt:null);function createBaseVNode(nt,rt=null,it=null,st=0,bt=null,wt=nt===Fragment?0:1,Et=!1,Tt=!1){const At={__v_isVNode:!0,__v_skip:!0,type:nt,props:rt,key:rt&&normalizeKey(rt),ref:rt&&normalizeRef(rt),scopeId:currentScopeId,slotScopeIds:null,children:it,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:wt,patchFlag:st,dynamicProps:bt,dynamicChildren:null,appContext:null,ctx:currentRenderingInstance};return Tt?(normalizeChildren(At,it),wt&128&&nt.normalize(At)):it&&(At.shapeFlag|=isString(it)?8:16),isBlockTreeEnabled>0&&!Et&&currentBlock&&(At.patchFlag>0||wt&6)&&At.patchFlag!==32&&currentBlock.push(At),At}const createVNode=_createVNode;function _createVNode(nt,rt=null,it=null,st=0,bt=null,wt=!1){if((!nt||nt===NULL_DYNAMIC_COMPONENT)&&(nt=Comment),isVNode(nt)){const Tt=cloneVNode(nt,rt,!0);return it&&normalizeChildren(Tt,it),isBlockTreeEnabled>0&&!wt&&currentBlock&&(Tt.shapeFlag&6?currentBlock[currentBlock.indexOf(nt)]=Tt:currentBlock.push(Tt)),Tt.patchFlag|=-2,Tt}if(isClassComponent(nt)&&(nt=nt.__vccOpts),rt){rt=guardReactiveProps(rt);let{class:Tt,style:At}=rt;Tt&&!isString(Tt)&&(rt.class=normalizeClass(Tt)),isObject$3(At)&&(isProxy(At)&&!isArray$2(At)&&(At=extend$3({},At)),rt.style=normalizeStyle(At))}const Et=isString(nt)?1:isSuspense(nt)?128:isTeleport(nt)?64:isObject$3(nt)?4:isFunction$1(nt)?2:0;return createBaseVNode(nt,rt,it,st,bt,Et,wt,!0)}function guardReactiveProps(nt){return nt?isProxy(nt)||InternalObjectKey in nt?extend$3({},nt):nt:null}function cloneVNode(nt,rt,it=!1){const{props:st,ref:bt,patchFlag:wt,children:Et}=nt,Tt=rt?mergeProps(st||{},rt):st;return{__v_isVNode:!0,__v_skip:!0,type:nt.type,props:Tt,key:Tt&&normalizeKey(Tt),ref:rt&&rt.ref?it&&bt?isArray$2(bt)?bt.concat(normalizeRef(rt)):[bt,normalizeRef(rt)]:normalizeRef(rt):bt,scopeId:nt.scopeId,slotScopeIds:nt.slotScopeIds,children:Et,target:nt.target,targetAnchor:nt.targetAnchor,staticCount:nt.staticCount,shapeFlag:nt.shapeFlag,patchFlag:rt&&nt.type!==Fragment?wt===-1?16:wt|16:wt,dynamicProps:nt.dynamicProps,dynamicChildren:nt.dynamicChildren,appContext:nt.appContext,dirs:nt.dirs,transition:nt.transition,component:nt.component,suspense:nt.suspense,ssContent:nt.ssContent&&cloneVNode(nt.ssContent),ssFallback:nt.ssFallback&&cloneVNode(nt.ssFallback),el:nt.el,anchor:nt.anchor,ctx:nt.ctx,ce:nt.ce}}function createTextVNode(nt=" ",rt=0){return createVNode(Text,null,nt,rt)}function createCommentVNode(nt="",rt=!1){return rt?(openBlock(),createBlock(Comment,null,nt)):createVNode(Comment,null,nt)}function normalizeVNode(nt){return nt==null||typeof nt=="boolean"?createVNode(Comment):isArray$2(nt)?createVNode(Fragment,null,nt.slice()):typeof nt=="object"?cloneIfMounted(nt):createVNode(Text,null,String(nt))}function cloneIfMounted(nt){return nt.el===null&&nt.patchFlag!==-1||nt.memo?nt:cloneVNode(nt)}function normalizeChildren(nt,rt){let it=0;const{shapeFlag:st}=nt;if(rt==null)rt=null;else if(isArray$2(rt))it=16;else if(typeof rt=="object")if(st&65){const bt=rt.default;bt&&(bt._c&&(bt._d=!1),normalizeChildren(nt,bt()),bt._c&&(bt._d=!0));return}else{it=32;const bt=rt._;!bt&&!(InternalObjectKey in rt)?rt._ctx=currentRenderingInstance:bt===3&&currentRenderingInstance&&(currentRenderingInstance.slots._===1?rt._=1:(rt._=2,nt.patchFlag|=1024))}else isFunction$1(rt)?(rt={default:rt,_ctx:currentRenderingInstance},it=32):(rt=String(rt),st&64?(it=16,rt=[createTextVNode(rt)]):it=8);nt.children=rt,nt.shapeFlag|=it}function mergeProps(...nt){const rt={};for(let it=0;it<nt.length;it++){const st=nt[it];for(const bt in st)if(bt==="class")rt.class!==st.class&&(rt.class=normalizeClass([rt.class,st.class]));else if(bt==="style")rt.style=normalizeStyle([rt.style,st.style]);else if(isOn(bt)){const wt=rt[bt],Et=st[bt];Et&&wt!==Et&&!(isArray$2(wt)&&wt.includes(Et))&&(rt[bt]=wt?[].concat(wt,Et):Et)}else bt!==""&&(rt[bt]=st[bt])}return rt}function invokeVNodeHook(nt,rt,it,st=null){callWithAsyncErrorHandling(nt,rt,7,[it,st])}const emptyAppContext=createAppContext();let uid=0;function createComponentInstance(nt,rt,it){const st=nt.type,bt=(rt?rt.appContext:nt.appContext)||emptyAppContext,wt={uid:uid++,vnode:nt,type:st,parent:rt,appContext:bt,root:null,next:null,subTree:null,effect:null,update:null,scope:new EffectScope(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:rt?rt.provides:Object.create(bt.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:normalizePropsOptions(st,bt),emitsOptions:normalizeEmitsOptions(st,bt),emit:null,emitted:null,propsDefaults:EMPTY_OBJ,inheritAttrs:st.inheritAttrs,ctx:EMPTY_OBJ,data:EMPTY_OBJ,props:EMPTY_OBJ,attrs:EMPTY_OBJ,slots:EMPTY_OBJ,refs:EMPTY_OBJ,setupState:EMPTY_OBJ,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:it,suspenseId:it?it.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return wt.ctx={_:wt},wt.root=rt?rt.root:wt,wt.emit=emit.bind(null,wt),nt.ce&&nt.ce(wt),wt}let currentInstance=null,internalSetCurrentInstance,globalCurrentInstanceSetters,settersKey="__VUE_INSTANCE_SETTERS__";(globalCurrentInstanceSetters=getGlobalThis()[settersKey])||(globalCurrentInstanceSetters=getGlobalThis()[settersKey]=[]),globalCurrentInstanceSetters.push(nt=>currentInstance=nt),internalSetCurrentInstance=nt=>{globalCurrentInstanceSetters.length>1?globalCurrentInstanceSetters.forEach(rt=>rt(nt)):globalCurrentInstanceSetters[0](nt)};const setCurrentInstance=nt=>{internalSetCurrentInstance(nt),nt.scope.on()},unsetCurrentInstance=()=>{currentInstance&&currentInstance.scope.off(),internalSetCurrentInstance(null)};function isStatefulComponent(nt){return nt.vnode.shapeFlag&4}let isInSSRComponentSetup=!1;function setupComponent(nt,rt=!1){isInSSRComponentSetup=rt;const{props:it,children:st}=nt.vnode,bt=isStatefulComponent(nt);initProps(nt,it,bt,rt),initSlots(nt,st);const wt=bt?setupStatefulComponent(nt,rt):void 0;return isInSSRComponentSetup=!1,wt}function setupStatefulComponent(nt,rt){const it=nt.type;nt.accessCache=Object.create(null),nt.proxy=markRaw(new Proxy(nt.ctx,PublicInstanceProxyHandlers));const{setup:st}=it;if(st){const bt=nt.setupContext=st.length>1?createSetupContext(nt):null;setCurrentInstance(nt),pauseTracking();const wt=callWithErrorHandling(st,nt,0,[nt.props,bt]);if(resetTracking(),unsetCurrentInstance(),isPromise(wt)){if(wt.then(unsetCurrentInstance,unsetCurrentInstance),rt)return wt.then(Et=>{handleSetupResult(nt,Et,rt)}).catch(Et=>{handleError$1(Et,nt,0)});nt.asyncDep=wt}else handleSetupResult(nt,wt,rt)}else finishComponentSetup(nt,rt)}function handleSetupResult(nt,rt,it){isFunction$1(rt)?nt.type.__ssrInlineRender?nt.ssrRender=rt:nt.render=rt:isObject$3(rt)&&(nt.setupState=proxyRefs(rt)),finishComponentSetup(nt,it)}let compile$1;function finishComponentSetup(nt,rt,it){const st=nt.type;if(!nt.render){if(!rt&&compile$1&&!st.render){const bt=st.template||resolveMergedOptions(nt).template;if(bt){const{isCustomElement:wt,compilerOptions:Et}=nt.appContext.config,{delimiters:Tt,compilerOptions:At}=st,Dt=extend$3(extend$3({isCustomElement:wt,delimiters:Tt},Et),At);st.render=compile$1(bt,Dt)}}nt.render=st.render||NOOP}setCurrentInstance(nt),pauseTracking(),applyOptions(nt),resetTracking(),unsetCurrentInstance()}function getAttrsProxy(nt){return nt.attrsProxy||(nt.attrsProxy=new Proxy(nt.attrs,{get(rt,it){return track(nt,"get","$attrs"),rt[it]}}))}function createSetupContext(nt){const rt=it=>{nt.exposed=it||{}};return{get attrs(){return getAttrsProxy(nt)},slots:nt.slots,emit:nt.emit,expose:rt}}function getExposeProxy(nt){if(nt.exposed)return nt.exposeProxy||(nt.exposeProxy=new Proxy(proxyRefs(markRaw(nt.exposed)),{get(rt,it){if(it in rt)return rt[it];if(it in publicPropertiesMap)return publicPropertiesMap[it](nt)},has(rt,it){return it in rt||it in publicPropertiesMap}}))}function isClassComponent(nt){return isFunction$1(nt)&&"__vccOpts"in nt}const computed=(nt,rt)=>computed$1(nt,rt,isInSSRComponentSetup),ssrContextKey=Symbol.for("v-scx"),useSSRContext=()=>inject(ssrContextKey),version$2="3.3.4",svgNS="http://www.w3.org/2000/svg",doc=typeof document<"u"?document:null,templateContainer=doc&&doc.createElement("template"),nodeOps={insert:(nt,rt,it)=>{rt.insertBefore(nt,it||null)},remove:nt=>{const rt=nt.parentNode;rt&&rt.removeChild(nt)},createElement:(nt,rt,it,st)=>{const bt=rt?doc.createElementNS(svgNS,nt):doc.createElement(nt,it?{is:it}:void 0);return nt==="select"&&st&&st.multiple!=null&&bt.setAttribute("multiple",st.multiple),bt},createText:nt=>doc.createTextNode(nt),createComment:nt=>doc.createComment(nt),setText:(nt,rt)=>{nt.nodeValue=rt},setElementText:(nt,rt)=>{nt.textContent=rt},parentNode:nt=>nt.parentNode,nextSibling:nt=>nt.nextSibling,querySelector:nt=>doc.querySelector(nt),setScopeId(nt,rt){nt.setAttribute(rt,"")},insertStaticContent(nt,rt,it,st,bt,wt){const Et=it?it.previousSibling:rt.lastChild;if(bt&&(bt===wt||bt.nextSibling))for(;rt.insertBefore(bt.cloneNode(!0),it),!(bt===wt||!(bt=bt.nextSibling)););else{templateContainer.innerHTML=st?`<svg>${nt}</svg>`:nt;const Tt=templateContainer.content;if(st){const At=Tt.firstChild;for(;At.firstChild;)Tt.appendChild(At.firstChild);Tt.removeChild(At)}rt.insertBefore(Tt,it)}return[Et?Et.nextSibling:rt.firstChild,it?it.previousSibling:rt.lastChild]}};function patchClass(nt,rt,it){const st=nt._vtc;st&&(rt=(rt?[rt,...st]:[...st]).join(" ")),rt==null?nt.removeAttribute("class"):it?nt.setAttribute("class",rt):nt.className=rt}function patchStyle(nt,rt,it){const st=nt.style,bt=isString(it);if(it&&!bt){if(rt&&!isString(rt))for(const wt in rt)it[wt]==null&&setStyle$1(st,wt,"");for(const wt in it)setStyle$1(st,wt,it[wt])}else{const wt=st.display;bt?rt!==it&&(st.cssText=it):rt&&nt.removeAttribute("style"),"_vod"in nt&&(st.display=wt)}}const importantRE=/\s*!important$/;function setStyle$1(nt,rt,it){if(isArray$2(it))it.forEach(st=>setStyle$1(nt,rt,st));else if(it==null&&(it=""),rt.startsWith("--"))nt.setProperty(rt,it);else{const st=autoPrefix(nt,rt);importantRE.test(it)?nt.setProperty(hyphenate(st),it.replace(importantRE,""),"important"):nt[st]=it}}const prefixes$1=["Webkit","Moz","ms"],prefixCache={};function autoPrefix(nt,rt){const it=prefixCache[rt];if(it)return it;let st=camelize(rt);if(st!=="filter"&&st in nt)return prefixCache[rt]=st;st=capitalize(st);for(let bt=0;bt<prefixes$1.length;bt++){const wt=prefixes$1[bt]+st;if(wt in nt)return prefixCache[rt]=wt}return rt}const xlinkNS="http://www.w3.org/1999/xlink";function patchAttr(nt,rt,it,st,bt){if(st&&rt.startsWith("xlink:"))it==null?nt.removeAttributeNS(xlinkNS,rt.slice(6,rt.length)):nt.setAttributeNS(xlinkNS,rt,it);else{const wt=isSpecialBooleanAttr(rt);it==null||wt&&!includeBooleanAttr(it)?nt.removeAttribute(rt):nt.setAttribute(rt,wt?"":it)}}function patchDOMProp(nt,rt,it,st,bt,wt,Et){if(rt==="innerHTML"||rt==="textContent"){st&&Et(st,bt,wt),nt[rt]=it==null?"":it;return}const Tt=nt.tagName;if(rt==="value"&&Tt!=="PROGRESS"&&!Tt.includes("-")){nt._value=it;const Dt=Tt==="OPTION"?nt.getAttribute("value"):nt.value,Ot=it==null?"":it;Dt!==Ot&&(nt.value=Ot),it==null&&nt.removeAttribute(rt);return}let At=!1;if(it===""||it==null){const Dt=typeof nt[rt];Dt==="boolean"?it=includeBooleanAttr(it):it==null&&Dt==="string"?(it="",At=!0):Dt==="number"&&(it=0,At=!0)}try{nt[rt]=it}catch{}At&&nt.removeAttribute(rt)}function addEventListener(nt,rt,it,st){nt.addEventListener(rt,it,st)}function removeEventListener(nt,rt,it,st){nt.removeEventListener(rt,it,st)}function patchEvent(nt,rt,it,st,bt=null){const wt=nt._vei||(nt._vei={}),Et=wt[rt];if(st&&Et)Et.value=st;else{const[Tt,At]=parseName(rt);if(st){const Dt=wt[rt]=createInvoker(st,bt);addEventListener(nt,Tt,Dt,At)}else Et&&(removeEventListener(nt,Tt,Et,At),wt[rt]=void 0)}}const optionsModifierRE=/(?:Once|Passive|Capture)$/;function parseName(nt){let rt;if(optionsModifierRE.test(nt)){rt={};let st;for(;st=nt.match(optionsModifierRE);)nt=nt.slice(0,nt.length-st[0].length),rt[st[0].toLowerCase()]=!0}return[nt[2]===":"?nt.slice(3):hyphenate(nt.slice(2)),rt]}let cachedNow=0;const p$3=Promise.resolve(),getNow=()=>cachedNow||(p$3.then(()=>cachedNow=0),cachedNow=Date.now());function createInvoker(nt,rt){const it=st=>{if(!st._vts)st._vts=Date.now();else if(st._vts<=it.attached)return;callWithAsyncErrorHandling(patchStopImmediatePropagation(st,it.value),rt,5,[st])};return it.value=nt,it.attached=getNow(),it}function patchStopImmediatePropagation(nt,rt){if(isArray$2(rt)){const it=nt.stopImmediatePropagation;return nt.stopImmediatePropagation=()=>{it.call(nt),nt._stopped=!0},rt.map(st=>bt=>!bt._stopped&&st&&st(bt))}else return rt}const nativeOnRE=/^on[a-z]/,patchProp=(nt,rt,it,st,bt=!1,wt,Et,Tt,At)=>{rt==="class"?patchClass(nt,st,bt):rt==="style"?patchStyle(nt,it,st):isOn(rt)?isModelListener(rt)||patchEvent(nt,rt,it,st,Et):(rt[0]==="."?(rt=rt.slice(1),!0):rt[0]==="^"?(rt=rt.slice(1),!1):shouldSetAsProp(nt,rt,st,bt))?patchDOMProp(nt,rt,st,wt,Et,Tt,At):(rt==="true-value"?nt._trueValue=st:rt==="false-value"&&(nt._falseValue=st),patchAttr(nt,rt,st,bt))};function shouldSetAsProp(nt,rt,it,st){return st?!!(rt==="innerHTML"||rt==="textContent"||rt in nt&&nativeOnRE.test(rt)&&isFunction$1(it)):rt==="spellcheck"||rt==="draggable"||rt==="translate"||rt==="form"||rt==="list"&&nt.tagName==="INPUT"||rt==="type"&&nt.tagName==="TEXTAREA"||nativeOnRE.test(rt)&&isString(it)?!1:rt in nt}function defineCustomElement(nt,rt){const it=defineComponent(nt);class st extends VueElement{constructor(wt){super(it,wt,rt)}}return st.def=it,st}const BaseClass=typeof HTMLElement<"u"?HTMLElement:class{};class VueElement extends BaseClass{constructor(rt,it={},st){super(),this._def=rt,this._props=it,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&st?st(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,nextTick(()=>{this._connected||(render$4(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let st=0;st<this.attributes.length;st++)this._setAttr(this.attributes[st].name);new MutationObserver(st=>{for(const bt of st)this._setAttr(bt.attributeName)}).observe(this,{attributes:!0});const rt=(st,bt=!1)=>{const{props:wt,styles:Et}=st;let Tt;if(wt&&!isArray$2(wt))for(const At in wt){const Dt=wt[At];(Dt===Number||Dt&&Dt.type===Number)&&(At in this._props&&(this._props[At]=toNumber$1(this._props[At])),(Tt||(Tt=Object.create(null)))[camelize(At)]=!0)}this._numberProps=Tt,bt&&this._resolveProps(st),this._applyStyles(Et),this._update()},it=this._def.__asyncLoader;it?it().then(st=>rt(st,!0)):rt(this._def)}_resolveProps(rt){const{props:it}=rt,st=isArray$2(it)?it:Object.keys(it||{});for(const bt of Object.keys(this))bt[0]!=="_"&&st.includes(bt)&&this._setProp(bt,this[bt],!0,!1);for(const bt of st.map(camelize))Object.defineProperty(this,bt,{get(){return this._getProp(bt)},set(wt){this._setProp(bt,wt)}})}_setAttr(rt){let it=this.getAttribute(rt);const st=camelize(rt);this._numberProps&&this._numberProps[st]&&(it=toNumber$1(it)),this._setProp(st,it,!1)}_getProp(rt){return this._props[rt]}_setProp(rt,it,st=!0,bt=!0){it!==this._props[rt]&&(this._props[rt]=it,bt&&this._instance&&this._update(),st&&(it===!0?this.setAttribute(hyphenate(rt),""):typeof it=="string"||typeof it=="number"?this.setAttribute(hyphenate(rt),it+""):it||this.removeAttribute(hyphenate(rt))))}_update(){render$4(this._createVNode(),this.shadowRoot)}_createVNode(){const rt=createVNode(this._def,extend$3({},this._props));return this._instance||(rt.ce=it=>{this._instance=it,it.isCE=!0;const st=(wt,Et)=>{this.dispatchEvent(new CustomEvent(wt,{detail:Et}))};it.emit=(wt,...Et)=>{st(wt,Et),hyphenate(wt)!==wt&&st(hyphenate(wt),Et)};let bt=this;for(;bt=bt&&(bt.parentNode||bt.host);)if(bt instanceof VueElement){it.parent=bt._instance,it.provides=bt._instance.provides;break}}),rt}_applyStyles(rt){rt&&rt.forEach(it=>{const st=document.createElement("style");st.textContent=it,this.shadowRoot.appendChild(st)})}}const DOMTransitionPropsValidators={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},systemModifiers=["ctrl","shift","alt","meta"],modifierGuards={stop:nt=>nt.stopPropagation(),prevent:nt=>nt.preventDefault(),self:nt=>nt.target!==nt.currentTarget,ctrl:nt=>!nt.ctrlKey,shift:nt=>!nt.shiftKey,alt:nt=>!nt.altKey,meta:nt=>!nt.metaKey,left:nt=>"button"in nt&&nt.button!==0,middle:nt=>"button"in nt&&nt.button!==1,right:nt=>"button"in nt&&nt.button!==2,exact:(nt,rt)=>systemModifiers.some(it=>nt[`${it}Key`]&&!rt.includes(it))},withModifiers=(nt,rt)=>(it,...st)=>{for(let bt=0;bt<rt.length;bt++){const wt=modifierGuards[rt[bt]];if(wt&&wt(it,rt))return}return nt(it,...st)},rendererOptions=extend$3({patchProp},nodeOps);let renderer;function ensureRenderer(){return renderer||(renderer=createRenderer(rendererOptions))}const render$4=(...nt)=>{ensureRenderer().render(...nt)},light="";var basePath="";function setBasePath(nt){basePath=nt}function getBasePath(){if(!basePath){const nt=[...document.getElementsByTagName("script")],rt=nt.find(it=>it.hasAttribute("data-shoelace"));if(rt)setBasePath(rt.getAttribute("data-shoelace"));else{const it=nt.find(bt=>/shoelace(\.min)?\.js($|\?)/.test(bt.src));let st="";it&&(st=it.getAttribute("src")),setBasePath(st.split("/").slice(0,-1).join("/"))}}return basePath.replace(/\/$/,"")}var __defProp$1=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp$1=(nt,rt,it)=>rt in nt?__defProp$1(nt,rt,{enumerable:!0,configurable:!0,writable:!0,value:it}):nt[rt]=it,__spreadValues=(nt,rt)=>{for(var it in rt||(rt={}))__hasOwnProp.call(rt,it)&&__defNormalProp$1(nt,it,rt[it]);if(__getOwnPropSymbols)for(var it of __getOwnPropSymbols(rt))__propIsEnum.call(rt,it)&&__defNormalProp$1(nt,it,rt[it]);return nt},__spreadProps=(nt,rt)=>__defProps(nt,__getOwnPropDescs(rt)),__objRest=(nt,rt)=>{var it={};for(var st in nt)__hasOwnProp.call(nt,st)&&rt.indexOf(st)<0&&(it[st]=nt[st]);if(nt!=null&&__getOwnPropSymbols)for(var st of __getOwnPropSymbols(nt))rt.indexOf(st)<0&&__propIsEnum.call(nt,st)&&(it[st]=nt[st]);return it},__decorateClass=(nt,rt,it,st)=>{for(var bt=st>1?void 0:st?__getOwnPropDesc(rt,it):rt,wt=nt.length-1,Et;wt>=0;wt--)(Et=nt[wt])&&(bt=(st?Et(rt,it,bt):Et(bt))||bt);return st&&bt&&__defProp$1(rt,it,bt),bt};const scriptRel="modulepreload",assetsURL=function(nt){return"/web-components/"+nt},seen={},__vitePreload=function(rt,it,st){if(!it||it.length===0)return rt();const bt=document.getElementsByTagName("link");return Promise.all(it.map(wt=>{if(wt=assetsURL(wt),wt in seen)return;seen[wt]=!0;const Et=wt.endsWith(".css"),Tt=Et?'[rel="stylesheet"]':"";if(!!st)for(let Ot=bt.length-1;Ot>=0;Ot--){const zt=bt[Ot];if(zt.href===wt&&(!Et||zt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${wt}"]${Tt}`))return;const Dt=document.createElement("link");if(Dt.rel=Et?"stylesheet":scriptRel,Et||(Dt.as="script",Dt.crossOrigin=""),Dt.href=wt,document.head.appendChild(Dt),Et)return new Promise((Ot,zt)=>{Dt.addEventListener("load",Ot),Dt.addEventListener("error",()=>zt(new Error(`Unable to preload CSS for ${wt}`)))})})).then(()=>rt())};var e$5=typeof self<"u"?self:global;const t$5=typeof navigator<"u",i$6=t$5&&typeof HTMLImageElement>"u",n$5=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),s$5=e$5.Buffer,r$3=e$5.BigInt,a$3=!!s$5,o$4=nt=>nt;function l$4(nt,rt=o$4){if(n$5)try{return typeof require=="function"?Promise.resolve(rt(require(nt))):__vitePreload(()=>import(nt),[]).then(rt)}catch{console.warn(`Couldn't load ${nt}`)}}let h$3=e$5.fetch;const u$2=nt=>h$3=nt;if(!e$5.fetch){const nt=l$4("http",st=>st),rt=l$4("https",st=>st),it=(st,{headers:bt}={})=>new Promise(async(wt,Et)=>{let{port:Tt,hostname:At,pathname:Dt,protocol:Ot,search:zt}=new URL(st);const $t={method:"GET",hostname:At,path:encodeURI(Dt)+zt,headers:bt};Tt!==""&&($t.port=Number(Tt));const Bt=(Ot==="https:"?await rt:await nt).request($t,Yt=>{if(Yt.statusCode===301||Yt.statusCode===302){let Xt=new URL(Yt.headers.location,st).toString();return it(Xt,{headers:bt}).then(wt).catch(Et)}wt({status:Yt.statusCode,arrayBuffer:()=>new Promise(Xt=>{let Ht=[];Yt.on("data",Qt=>Ht.push(Qt)),Yt.on("end",()=>Xt(Buffer.concat(Ht)))})})});Bt.on("error",Et),Bt.end()});u$2(it)}function c$3(nt,rt,it){return rt in nt?Object.defineProperty(nt,rt,{value:it,enumerable:!0,configurable:!0,writable:!0}):nt[rt]=it,nt}const f$3=nt=>p$2(nt)?void 0:nt,d$3=nt=>nt!==void 0;function p$2(nt){return nt===void 0||(nt instanceof Map?nt.size===0:Object.values(nt).filter(d$3).length===0)}function g$2(nt){let rt=new Error(nt);throw delete rt.stack,rt}function m$3(nt){return(nt=function(rt){for(;rt.endsWith("\0");)rt=rt.slice(0,-1);return rt}(nt).trim())===""?void 0:nt}function S$1(nt){let rt=function(it){let st=0;return it.ifd0.enabled&&(st+=1024),it.exif.enabled&&(st+=2048),it.makerNote&&(st+=2048),it.userComment&&(st+=1024),it.gps.enabled&&(st+=512),it.interop.enabled&&(st+=100),it.ifd1.enabled&&(st+=1024),st+2048}(nt);return nt.jfif.enabled&&(rt+=50),nt.xmp.enabled&&(rt+=2e4),nt.iptc.enabled&&(rt+=14e3),nt.icc.enabled&&(rt+=6e3),rt}const C$2=nt=>String.fromCharCode.apply(null,nt),y$3=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;function b$2(nt){return y$3?y$3.decode(nt):a$3?Buffer.from(nt).toString("utf8"):decodeURIComponent(escape(C$2(nt)))}class I$1{static from(rt,it){return rt instanceof this&&rt.le===it?rt:new I$1(rt,void 0,void 0,it)}constructor(rt,it=0,st,bt){if(typeof bt=="boolean"&&(this.le=bt),Array.isArray(rt)&&(rt=new Uint8Array(rt)),rt===0)this.byteOffset=0,this.byteLength=0;else if(rt instanceof ArrayBuffer){st===void 0&&(st=rt.byteLength-it);let wt=new DataView(rt,it,st);this._swapDataView(wt)}else if(rt instanceof Uint8Array||rt instanceof DataView||rt instanceof I$1){st===void 0&&(st=rt.byteLength-it),(it+=rt.byteOffset)+st>rt.byteOffset+rt.byteLength&&g$2("Creating view outside of available memory in ArrayBuffer");let wt=new DataView(rt.buffer,it,st);this._swapDataView(wt)}else if(typeof rt=="number"){let wt=new DataView(new ArrayBuffer(rt));this._swapDataView(wt)}else g$2("Invalid input argument for BufferView: "+rt)}_swapArrayBuffer(rt){this._swapDataView(new DataView(rt))}_swapBuffer(rt){this._swapDataView(new DataView(rt.buffer,rt.byteOffset,rt.byteLength))}_swapDataView(rt){this.dataView=rt,this.buffer=rt.buffer,this.byteOffset=rt.byteOffset,this.byteLength=rt.byteLength}_lengthToEnd(rt){return this.byteLength-rt}set(rt,it,st=I$1){return rt instanceof DataView||rt instanceof I$1?rt=new Uint8Array(rt.buffer,rt.byteOffset,rt.byteLength):rt instanceof ArrayBuffer&&(rt=new Uint8Array(rt)),rt instanceof Uint8Array||g$2("BufferView.set(): Invalid data argument."),this.toUint8().set(rt,it),new st(this,it,rt.byteLength)}subarray(rt,it){return it=it||this._lengthToEnd(rt),new I$1(this,rt,it)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(rt,it){return new Uint8Array(this.buffer,this.byteOffset+rt,it)}getString(rt=0,it=this.byteLength){return b$2(this.getUint8Array(rt,it))}getLatin1String(rt=0,it=this.byteLength){let st=this.getUint8Array(rt,it);return C$2(st)}getUnicodeString(rt=0,it=this.byteLength){const st=[];for(let bt=0;bt<it&&rt+bt<this.byteLength;bt+=2)st.push(this.getUint16(rt+bt));return C$2(st)}getInt8(rt){return this.dataView.getInt8(rt)}getUint8(rt){return this.dataView.getUint8(rt)}getInt16(rt,it=this.le){return this.dataView.getInt16(rt,it)}getInt32(rt,it=this.le){return this.dataView.getInt32(rt,it)}getUint16(rt,it=this.le){return this.dataView.getUint16(rt,it)}getUint32(rt,it=this.le){return this.dataView.getUint32(rt,it)}getFloat32(rt,it=this.le){return this.dataView.getFloat32(rt,it)}getFloat64(rt,it=this.le){return this.dataView.getFloat64(rt,it)}getFloat(rt,it=this.le){return this.dataView.getFloat32(rt,it)}getDouble(rt,it=this.le){return this.dataView.getFloat64(rt,it)}getUintBytes(rt,it,st){switch(it){case 1:return this.getUint8(rt,st);case 2:return this.getUint16(rt,st);case 4:return this.getUint32(rt,st);case 8:return this.getUint64&&this.getUint64(rt,st)}}getUint(rt,it,st){switch(it){case 8:return this.getUint8(rt,st);case 16:return this.getUint16(rt,st);case 32:return this.getUint32(rt,st);case 64:return this.getUint64&&this.getUint64(rt,st)}}toString(rt){return this.dataView.toString(rt,this.constructor.name)}ensureChunk(){}}function P$1(nt,rt){g$2(`${nt} '${rt}' was not loaded, try using full build of exifr.`)}class k$2 extends Map{constructor(rt){super(),this.kind=rt}get(rt,it){return this.has(rt)||P$1(this.kind,rt),it&&(rt in it||function(st,bt){g$2(`Unknown ${st} '${bt}'.`)}(this.kind,rt),it[rt].enabled||P$1(this.kind,rt)),super.get(rt)}keyList(){return Array.from(this.keys())}}var w$1=new k$2("file parser"),T$2=new k$2("segment parser"),A$2=new k$2("file reader");function D(nt,rt){return typeof nt=="string"?O$1(nt,rt):t$5&&!i$6&&nt instanceof HTMLImageElement?O$1(nt.src,rt):nt instanceof Uint8Array||nt instanceof ArrayBuffer||nt instanceof DataView?new I$1(nt):t$5&&nt instanceof Blob?x$3(nt,rt,"blob",R$2):void g$2("Invalid input argument")}function O$1(nt,rt){return(it=nt).startsWith("data:")||it.length>1e4?v$1(nt,rt,"base64"):n$5&&nt.includes("://")?x$3(nt,rt,"url",M$1):n$5?v$1(nt,rt,"fs"):t$5?x$3(nt,rt,"url",M$1):void g$2("Invalid input argument");var it}async function x$3(nt,rt,it,st){return A$2.has(it)?v$1(nt,rt,it):st?async function(bt,wt){let Et=await wt(bt);return new I$1(Et)}(nt,st):void g$2(`Parser ${it} is not loaded`)}async function v$1(nt,rt,it){let st=new(A$2.get(it))(nt,rt);return await st.read(),st}const M$1=nt=>h$3(nt).then(rt=>rt.arrayBuffer()),R$2=nt=>new Promise((rt,it)=>{let st=new FileReader;st.onloadend=()=>rt(st.result||new ArrayBuffer),st.onerror=it,st.readAsArrayBuffer(nt)});class L$3 extends Map{get tagKeys(){return this.allKeys||(this.allKeys=Array.from(this.keys())),this.allKeys}get tagValues(){return this.allValues||(this.allValues=Array.from(this.values())),this.allValues}}function U(nt,rt,it){let st=new L$3;for(let[bt,wt]of it)st.set(bt,wt);if(Array.isArray(rt))for(let bt of rt)nt.set(bt,st);else nt.set(rt,st);return st}function F(nt,rt,it){let st,bt=nt.get(rt);for(st of it)bt.set(st[0],st[1])}const E$1=new Map,B=new Map,N$1=new Map,G=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],V$1=["jfif","xmp","icc","iptc","ihdr"],z$1=["tiff",...V$1],H$2=["ifd0","ifd1","exif","gps","interop"],j=[...z$1,...H$2],W$1=["makerNote","userComment"],K$1=["translateKeys","translateValues","reviveValues","multiSegment"],X=[...K$1,"sanitize","mergeOutput","silentErrors"];class _$2{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class Y extends _$2{get needed(){return this.enabled||this.deps.size>0}constructor(rt,it,st,bt){if(super(),c$3(this,"enabled",!1),c$3(this,"skip",new Set),c$3(this,"pick",new Set),c$3(this,"deps",new Set),c$3(this,"translateKeys",!1),c$3(this,"translateValues",!1),c$3(this,"reviveValues",!1),this.key=rt,this.enabled=it,this.parse=this.enabled,this.applyInheritables(bt),this.canBeFiltered=H$2.includes(rt),this.canBeFiltered&&(this.dict=E$1.get(rt)),st!==void 0)if(Array.isArray(st))this.parse=this.enabled=!0,this.canBeFiltered&&st.length>0&&this.translateTagSet(st,this.pick);else if(typeof st=="object"){if(this.enabled=!0,this.parse=st.parse!==!1,this.canBeFiltered){let{pick:wt,skip:Et}=st;wt&&wt.length>0&&this.translateTagSet(wt,this.pick),Et&&Et.length>0&&this.translateTagSet(Et,this.skip)}this.applyInheritables(st)}else st===!0||st===!1?this.parse=this.enabled=st:g$2(`Invalid options argument: ${st}`)}applyInheritables(rt){let it,st;for(it of K$1)st=rt[it],st!==void 0&&(this[it]=st)}translateTagSet(rt,it){if(this.dict){let st,bt,{tagKeys:wt,tagValues:Et}=this.dict;for(st of rt)typeof st=="string"?(bt=Et.indexOf(st),bt===-1&&(bt=wt.indexOf(Number(st))),bt!==-1&&it.add(Number(wt[bt]))):it.add(st)}else for(let st of rt)it.add(st)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,ee(this.pick,this.deps)):this.enabled&&this.pick.size>0&&ee(this.pick,this.deps)}}var $$1={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},J=new Map;class q extends _$2{static useCached(rt){let it=J.get(rt);return it!==void 0||(it=new this(rt),J.set(rt,it)),it}constructor(rt){super(),rt===!0?this.setupFromTrue():rt===void 0?this.setupFromUndefined():Array.isArray(rt)?this.setupFromArray(rt):typeof rt=="object"?this.setupFromObject(rt):g$2(`Invalid options argument ${rt}`),this.firstChunkSize===void 0&&(this.firstChunkSize=t$5?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let rt;for(rt of G)this[rt]=$$1[rt];for(rt of X)this[rt]=$$1[rt];for(rt of W$1)this[rt]=$$1[rt];for(rt of j)this[rt]=new Y(rt,$$1[rt],void 0,this)}setupFromTrue(){let rt;for(rt of G)this[rt]=$$1[rt];for(rt of X)this[rt]=$$1[rt];for(rt of W$1)this[rt]=!0;for(rt of j)this[rt]=new Y(rt,!0,void 0,this)}setupFromArray(rt){let it;for(it of G)this[it]=$$1[it];for(it of X)this[it]=$$1[it];for(it of W$1)this[it]=$$1[it];for(it of j)this[it]=new Y(it,!1,void 0,this);this.setupGlobalFilters(rt,void 0,H$2)}setupFromObject(rt){let it;for(it of(H$2.ifd0=H$2.ifd0||H$2.image,H$2.ifd1=H$2.ifd1||H$2.thumbnail,Object.assign(this,rt),G))this[it]=Z$1(rt[it],$$1[it]);for(it of X)this[it]=Z$1(rt[it],$$1[it]);for(it of W$1)this[it]=Z$1(rt[it],$$1[it]);for(it of z$1)this[it]=new Y(it,$$1[it],rt[it],this);for(it of H$2)this[it]=new Y(it,$$1[it],rt[it],this.tiff);this.setupGlobalFilters(rt.pick,rt.skip,H$2,j),rt.tiff===!0?this.batchEnableWithBool(H$2,!0):rt.tiff===!1?this.batchEnableWithUserValue(H$2,rt):Array.isArray(rt.tiff)?this.setupGlobalFilters(rt.tiff,void 0,H$2):typeof rt.tiff=="object"&&this.setupGlobalFilters(rt.tiff.pick,rt.tiff.skip,H$2)}batchEnableWithBool(rt,it){for(let st of rt)this[st].enabled=it}batchEnableWithUserValue(rt,it){for(let st of rt){let bt=it[st];this[st].enabled=bt!==!1&&bt!==void 0}}setupGlobalFilters(rt,it,st,bt=st){if(rt&&rt.length){for(let Et of bt)this[Et].enabled=!1;let wt=Q(rt,st);for(let[Et,Tt]of wt)ee(this[Et].pick,Tt),this[Et].enabled=!0}else if(it&&it.length){let wt=Q(it,st);for(let[Et,Tt]of wt)ee(this[Et].skip,Tt)}}filterNestedSegmentTags(){let{ifd0:rt,exif:it,xmp:st,iptc:bt,icc:wt}=this;this.makerNote?it.deps.add(37500):it.skip.add(37500),this.userComment?it.deps.add(37510):it.skip.add(37510),st.enabled||rt.skip.add(700),bt.enabled||rt.skip.add(33723),wt.enabled||rt.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:rt,exif:it,gps:st,interop:bt}=this;bt.needed&&(it.deps.add(40965),rt.deps.add(40965)),it.needed&&rt.deps.add(34665),st.needed&&rt.deps.add(34853),this.tiff.enabled=H$2.some(wt=>this[wt].enabled===!0)||this.makerNote||this.userComment;for(let wt of H$2)this[wt].finalizeFilters()}get onlyTiff(){return!V$1.map(rt=>this[rt].enabled).some(rt=>rt===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let rt of z$1)this[rt].enabled&&!T$2.has(rt)&&P$1("segment parser",rt)}}function Q(nt,rt){let it,st,bt,wt,Et=[];for(bt of rt){for(wt of(it=E$1.get(bt),st=[],it))(nt.includes(wt[0])||nt.includes(wt[1]))&&st.push(wt[0]);st.length&&Et.push([bt,st])}return Et}function Z$1(nt,rt){return nt!==void 0?nt:rt!==void 0?rt:void 0}function ee(nt,rt){for(let it of rt)nt.add(it)}c$3(q,"default",$$1);class te{constructor(rt){c$3(this,"parsers",{}),c$3(this,"output",{}),c$3(this,"errors",[]),c$3(this,"pushToErrors",it=>this.errors.push(it)),this.options=q.useCached(rt)}async read(rt){this.file=await D(rt,this.options)}setup(){if(this.fileParser)return;let{file:rt}=this,it=rt.getUint16(0);for(let[st,bt]of w$1)if(bt.canHandle(rt,it))return this.fileParser=new bt(this.options,this.file,this.parsers),rt[st]=!0;this.file.close&&this.file.close(),g$2("Unknown file format")}async parse(){let{output:rt,errors:it}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),it.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&it.length>0&&(rt.errors=it),f$3(rt)}async executeParsers(){let{output:rt}=this;await this.fileParser.parse();let it=Object.values(this.parsers).map(async st=>{let bt=await st.parse();st.assignToOutput(rt,bt)});this.options.silentErrors&&(it=it.map(st=>st.catch(this.pushToErrors))),await Promise.all(it)}async extractThumbnail(){this.setup();let{options:rt,file:it}=this,st=T$2.get("tiff",rt);var bt;if(it.tiff?bt={start:0,type:"tiff"}:it.jpeg&&(bt=await this.fileParser.getOrFindSegment("tiff")),bt===void 0)return;let wt=await this.fileParser.ensureSegmentChunk(bt),Et=this.parsers.tiff=new st(wt,rt,it),Tt=await Et.extractThumbnail();return it.close&&it.close(),Tt}}async function ie(nt,rt){let it=new te(rt);return await it.read(nt),it.parse()}var ne=Object.freeze({__proto__:null,parse:ie,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q});class se{constructor(rt,it,st){c$3(this,"errors",[]),c$3(this,"ensureSegmentChunk",async bt=>{let wt=bt.start,Et=bt.size||65536;if(this.file.chunked)if(this.file.available(wt,Et))bt.chunk=this.file.subarray(wt,Et);else try{bt.chunk=await this.file.readChunk(wt,Et)}catch(Tt){g$2(`Couldn't read segment: ${JSON.stringify(bt)}. ${Tt.message}`)}else this.file.byteLength>wt+Et?bt.chunk=this.file.subarray(wt,Et):bt.size===void 0?bt.chunk=this.file.subarray(wt):g$2("Segment unreachable: "+JSON.stringify(bt));return bt.chunk}),this.extendOptions&&this.extendOptions(rt),this.options=rt,this.file=it,this.parsers=st}injectSegment(rt,it){this.options[rt].enabled&&this.createParser(rt,it)}createParser(rt,it){let st=new(T$2.get(rt))(it,this.options,this.file);return this.parsers[rt]=st}createParsers(rt){for(let it of rt){let{type:st,chunk:bt}=it,wt=this.options[st];if(wt&&wt.enabled){let Et=this.parsers[st];Et&&Et.append||Et||this.createParser(st,bt)}}}async readSegments(rt){let it=rt.map(this.ensureSegmentChunk);await Promise.all(it)}}class re$1{static findPosition(rt,it){let st=rt.getUint16(it+2)+2,bt=typeof this.headerLength=="function"?this.headerLength(rt,it,st):this.headerLength,wt=it+bt,Et=st-bt;return{offset:it,length:st,headerLength:bt,start:wt,size:Et,end:wt+Et}}static parse(rt,it={}){return new this(rt,new q({[this.type]:it}),rt).parse()}normalizeInput(rt){return rt instanceof I$1?rt:new I$1(rt)}constructor(rt,it={},st){c$3(this,"errors",[]),c$3(this,"raw",new Map),c$3(this,"handleError",bt=>{if(!this.options.silentErrors)throw bt;this.errors.push(bt.message)}),this.chunk=this.normalizeInput(rt),this.file=st,this.type=this.constructor.type,this.globalOptions=this.options=it,this.localOptions=it[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(rt,it){let st=N$1.get(it),bt=B.get(it),wt=E$1.get(it),Et=this.options[it],Tt=Et.reviveValues&&!!st,At=Et.translateValues&&!!bt,Dt=Et.translateKeys&&!!wt,Ot={};for(let[zt,$t]of rt)Tt&&st.has(zt)?$t=st.get(zt)($t):At&&bt.has(zt)&&($t=this.translateValue($t,bt.get(zt))),Dt&&wt.has(zt)&&(zt=wt.get(zt)||zt),Ot[zt]=$t;return Ot}translateValue(rt,it){return it[rt]||it.DEFAULT||rt}assignToOutput(rt,it){this.assignObjectToOutput(rt,this.constructor.type,it)}assignObjectToOutput(rt,it,st){if(this.globalOptions.mergeOutput)return Object.assign(rt,st);rt[it]?Object.assign(rt[it],st):rt[it]=st}}c$3(re$1,"headerLength",4),c$3(re$1,"type",void 0),c$3(re$1,"multiSegment",!1),c$3(re$1,"canHandle",()=>!1);function ae(nt){return nt===192||nt===194||nt===196||nt===219||nt===221||nt===218||nt===254}function oe(nt){return nt>=224&&nt<=239}function le(nt,rt,it){for(let[st,bt]of T$2)if(bt.canHandle(nt,rt,it))return st}class he extends se{constructor(...rt){super(...rt),c$3(this,"appSegments",[]),c$3(this,"jpegSegments",[]),c$3(this,"unknownSegments",[])}static canHandle(rt,it){return it===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(rt){rt===!0?(this.findAll=!0,this.wanted=new Set(T$2.keyList())):(rt=rt===void 0?T$2.keyList().filter(it=>this.options[it].enabled):rt.filter(it=>this.options[it].enabled&&T$2.has(it)),this.findAll=!1,this.remaining=new Set(rt),this.wanted=new Set(rt)),this.unfinishedMultiSegment=!1}async findAppSegments(rt=0,it){this.setupSegmentFinderArgs(it);let{file:st,findAll:bt,wanted:wt,remaining:Et}=this;if(!bt&&this.file.chunked&&(bt=Array.from(wt).some(Tt=>{let At=T$2.get(Tt),Dt=this.options[Tt];return At.multiSegment&&Dt.multiSegment}),bt&&await this.file.readWhole()),rt=this.findAppSegmentsInRange(rt,st.byteLength),!this.options.onlyTiff&&st.chunked){let Tt=!1;for(;Et.size>0&&!Tt&&(st.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:At}=st,Dt=this.appSegments.some(Ot=>!this.file.available(Ot.offset||Ot.start,Ot.length||Ot.size));if(Tt=rt>At&&!Dt?!await st.readNextChunk(rt):!await st.readNextChunk(At),(rt=this.findAppSegmentsInRange(rt,st.byteLength))===void 0)return}}}findAppSegmentsInRange(rt,it){it-=2;let st,bt,wt,Et,Tt,At,{file:Dt,findAll:Ot,wanted:zt,remaining:$t,options:Bt}=this;for(;rt<it;rt++)if(Dt.getUint8(rt)===255){if(st=Dt.getUint8(rt+1),oe(st)){if(bt=Dt.getUint16(rt+2),wt=le(Dt,rt,bt),wt&&zt.has(wt)&&(Et=T$2.get(wt),Tt=Et.findPosition(Dt,rt),At=Bt[wt],Tt.type=wt,this.appSegments.push(Tt),!Ot&&(Et.multiSegment&&At.multiSegment?(this.unfinishedMultiSegment=Tt.chunkNumber<Tt.chunkCount,this.unfinishedMultiSegment||$t.delete(wt)):$t.delete(wt),$t.size===0)))break;Bt.recordUnknownSegments&&(Tt=re$1.findPosition(Dt,rt),Tt.marker=st,this.unknownSegments.push(Tt)),rt+=bt+1}else if(ae(st)){if(bt=Dt.getUint16(rt+2),st===218&&Bt.stopAfterSos!==!1)return;Bt.recordJpegSegments&&this.jpegSegments.push({offset:rt,length:bt,marker:st}),rt+=bt+1}}return rt}mergeMultiSegments(){if(!this.appSegments.some(it=>it.multiSegment))return;let rt=function(it,st){let bt,wt,Et,Tt=new Map;for(let At=0;At<it.length;At++)bt=it[At],wt=bt[st],Tt.has(wt)?Et=Tt.get(wt):Tt.set(wt,Et=[]),Et.push(bt);return Array.from(Tt)}(this.appSegments,"type");this.mergedAppSegments=rt.map(([it,st])=>{let bt=T$2.get(it,this.options);return bt.handleMultiSegments?{type:it,chunk:bt.handleMultiSegments(st)}:st[0]})}getSegment(rt){return this.appSegments.find(it=>it.type===rt)}async getOrFindSegment(rt){let it=this.getSegment(rt);return it===void 0&&(await this.findAppSegments(0,[rt]),it=this.getSegment(rt)),it}}c$3(he,"type","jpeg"),w$1.set("jpeg",he);const ue=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class ce extends re$1{parseHeader(){var rt=this.chunk.getUint16();rt===18761?this.le=!0:rt===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(rt,it,st=new Map){let{pick:bt,skip:wt}=this.options[it];bt=new Set(bt);let Et=bt.size>0,Tt=wt.size===0,At=this.chunk.getUint16(rt);rt+=2;for(let Dt=0;Dt<At;Dt++){let Ot=this.chunk.getUint16(rt);if(Et){if(bt.has(Ot)&&(st.set(Ot,this.parseTag(rt,Ot,it)),bt.delete(Ot),bt.size===0))break}else!Tt&&wt.has(Ot)||st.set(Ot,this.parseTag(rt,Ot,it));rt+=12}return st}parseTag(rt,it,st){let{chunk:bt}=this,wt=bt.getUint16(rt+2),Et=bt.getUint32(rt+4),Tt=ue[wt];if(Tt*Et<=4?rt+=8:rt=bt.getUint32(rt+8),(wt<1||wt>13)&&g$2(`Invalid TIFF value type. block: ${st.toUpperCase()}, tag: ${it.toString(16)}, type: ${wt}, offset ${rt}`),rt>bt.byteLength&&g$2(`Invalid TIFF value offset. block: ${st.toUpperCase()}, tag: ${it.toString(16)}, type: ${wt}, offset ${rt} is outside of chunk size ${bt.byteLength}`),wt===1)return bt.getUint8Array(rt,Et);if(wt===2)return m$3(bt.getString(rt,Et));if(wt===7)return bt.getUint8Array(rt,Et);if(Et===1)return this.parseTagValue(wt,rt);{let At=new(function(Ot){switch(Ot){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(wt))(Et),Dt=Tt;for(let Ot=0;Ot<Et;Ot++)At[Ot]=this.parseTagValue(wt,rt),rt+=Dt;return At}}parseTagValue(rt,it){let{chunk:st}=this;switch(rt){case 1:return st.getUint8(it);case 3:return st.getUint16(it);case 4:return st.getUint32(it);case 5:return st.getUint32(it)/st.getUint32(it+4);case 6:return st.getInt8(it);case 8:return st.getInt16(it);case 9:return st.getInt32(it);case 10:return st.getInt32(it)/st.getInt32(it+4);case 11:return st.getFloat(it);case 12:return st.getDouble(it);case 13:return st.getUint32(it);default:g$2(`Invalid tiff type ${rt}`)}}}class fe extends ce{static canHandle(rt,it){return rt.getUint8(it+1)===225&&rt.getUint32(it+4)===1165519206&&rt.getUint16(it+8)===0}async parse(){this.parseHeader();let{options:rt}=this;return rt.ifd0.enabled&&await this.parseIfd0Block(),rt.exif.enabled&&await this.safeParse("parseExifBlock"),rt.gps.enabled&&await this.safeParse("parseGpsBlock"),rt.interop.enabled&&await this.safeParse("parseInteropBlock"),rt.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(rt){let it=this[rt]();return it.catch!==void 0&&(it=it.catch(this.handleError)),it}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let rt=this.chunk.getUint16(this.ifd0Offset),it=this.ifd0Offset+2+12*rt;this.ifd1Offset=this.chunk.getUint32(it)}}parseBlock(rt,it){let st=new Map;return this[it]=st,this.parseTags(rt,it,st),st}async parseIfd0Block(){if(this.ifd0)return;let{file:rt}=this;this.findIfd0Offset(),this.ifd0Offset<8&&g$2("Malformed EXIF data"),!rt.chunked&&this.ifd0Offset>rt.byteLength&&g$2(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${rt.byteLength}`),rt.tiff&&await rt.ensureChunk(this.ifd0Offset,S$1(this.options));let it=this.parseBlock(this.ifd0Offset,"ifd0");return it.size!==0?(this.exifOffset=it.get(34665),this.interopOffset=it.get(40965),this.gpsOffset=it.get(34853),this.xmp=it.get(700),this.iptc=it.get(33723),this.icc=it.get(34675),this.options.sanitize&&(it.delete(34665),it.delete(40965),it.delete(34853),it.delete(700),it.delete(33723),it.delete(34675)),it):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,S$1(this.options));let rt=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=rt.get(40965)),this.makerNote=rt.get(37500),this.userComment=rt.get(37510),this.options.sanitize&&(rt.delete(40965),rt.delete(37500),rt.delete(37510)),this.unpack(rt,41728),this.unpack(rt,41729),rt}unpack(rt,it){let st=rt.get(it);st&&st.length===1&&rt.set(it,st[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let rt=this.parseBlock(this.gpsOffset,"gps");return rt&&rt.has(2)&&rt.has(4)&&(rt.set("latitude",de(...rt.get(2),rt.get(1))),rt.set("longitude",de(...rt.get(4),rt.get(3)))),rt}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(rt=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||rt))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let rt=this.ifd1.get(513),it=this.ifd1.get(514);return this.chunk.getUint8Array(rt,it)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let rt,it,st,bt={};for(it of H$2)if(rt=this[it],!p$2(rt))if(st=this.canTranslate?this.translateBlock(rt,it):Object.fromEntries(rt),this.options.mergeOutput){if(it==="ifd1")continue;Object.assign(bt,st)}else bt[it]=st;return this.makerNote&&(bt.makerNote=this.makerNote),this.userComment&&(bt.userComment=this.userComment),bt}assignToOutput(rt,it){if(this.globalOptions.mergeOutput)Object.assign(rt,it);else for(let[st,bt]of Object.entries(it))this.assignObjectToOutput(rt,st,bt)}}function de(nt,rt,it,st){var bt=nt+rt/60+it/3600;return st!=="S"&&st!=="W"||(bt*=-1),bt}c$3(fe,"type","tiff"),c$3(fe,"headerLength",10),T$2.set("tiff",fe);var pe=Object.freeze({__proto__:null,default:ne,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie});const ge={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1},me=Object.assign({},ge,{firstChunkSize:4e4,gps:[1,2,3,4]});async function Se(nt){let rt=new te(me);await rt.read(nt);let it=await rt.parse();if(it&&it.gps){let{latitude:st,longitude:bt}=it.gps;return{latitude:st,longitude:bt}}}const Ce=Object.assign({},ge,{tiff:!1,ifd1:!0,mergeOutput:!1});async function ye(nt){let rt=new te(Ce);await rt.read(nt);let it=await rt.extractThumbnail();return it&&a$3?s$5.from(it):it}async function be(nt){let rt=await this.thumbnail(nt);if(rt!==void 0){let it=new Blob([rt]);return URL.createObjectURL(it)}}const Ie=Object.assign({},ge,{firstChunkSize:4e4,ifd0:[274]});async function Pe(nt){let rt=new te(Ie);await rt.read(nt);let it=await rt.parse();if(it&&it.ifd0)return it.ifd0[274]}const ke=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let we=!0,Te=!0;if(typeof navigator=="object"){let nt=navigator.userAgent;if(nt.includes("iPad")||nt.includes("iPhone")){let rt=nt.match(/OS (\d+)_(\d+)/);if(rt){let[,it,st]=rt;we=Number(it)+.1*Number(st)<13.4,Te=!1}}else if(nt.includes("OS X 10")){let[,rt]=nt.match(/OS X 10[_.](\d+)/);we=Te=Number(rt)<15}if(nt.includes("Chrome/")){let[,rt]=nt.match(/Chrome\/(\d+)/);we=Te=Number(rt)<81}else if(nt.includes("Firefox/")){let[,rt]=nt.match(/Firefox\/(\d+)/);we=Te=Number(rt)<77}}async function Ae(nt){let rt=await Pe(nt);return Object.assign({canvas:we,css:Te},ke[rt])}class De extends I$1{constructor(...rt){super(...rt),c$3(this,"ranges",new Oe),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(rt,it,st){if(rt===0&&this.byteLength===0&&st){let bt=new DataView(st.buffer||st,st.byteOffset,st.byteLength);this._swapDataView(bt)}else{let bt=rt+it;if(bt>this.byteLength){let{dataView:wt}=this._extend(bt);this._swapDataView(wt)}}}_extend(rt){let it;it=a$3?s$5.allocUnsafe(rt):new Uint8Array(rt);let st=new DataView(it.buffer,it.byteOffset,it.byteLength);return it.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:it,dataView:st}}subarray(rt,it,st=!1){return it=it||this._lengthToEnd(rt),st&&this._tryExtend(rt,it),this.ranges.add(rt,it),super.subarray(rt,it)}set(rt,it,st=!1){st&&this._tryExtend(it,rt.byteLength,rt);let bt=super.set(rt,it);return this.ranges.add(it,bt.byteLength),bt}async ensureChunk(rt,it){this.chunked&&(this.ranges.available(rt,it)||await this.readChunk(rt,it))}available(rt,it){return this.ranges.available(rt,it)}}class Oe{constructor(){c$3(this,"list",[])}get length(){return this.list.length}add(rt,it,st=0){let bt=rt+it,wt=this.list.filter(Et=>xe(rt,Et.offset,bt)||xe(rt,Et.end,bt));if(wt.length>0){rt=Math.min(rt,...wt.map(Tt=>Tt.offset)),bt=Math.max(bt,...wt.map(Tt=>Tt.end)),it=bt-rt;let Et=wt.shift();Et.offset=rt,Et.length=it,Et.end=bt,this.list=this.list.filter(Tt=>!wt.includes(Tt))}else this.list.push({offset:rt,length:it,end:bt})}available(rt,it){let st=rt+it;return this.list.some(bt=>bt.offset<=rt&&st<=bt.end)}}function xe(nt,rt,it){return nt<=rt&&rt<=it}class ve extends De{constructor(rt,it){super(0),c$3(this,"chunksRead",0),this.input=rt,this.options=it}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(rt=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let it=this.options.chunkSize,st=await this.readChunk(rt,it);return!!st&&st.byteLength===it}async readChunk(rt,it){if(this.chunksRead++,(it=this.safeWrapAddress(rt,it))!==0)return this._readChunk(rt,it)}safeWrapAddress(rt,it){return this.size!==void 0&&rt+it>this.size?Math.max(0,this.size-rt):it}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}A$2.set("blob",class extends ve{async readWhole(){this.chunked=!1;let nt=await R$2(this.input);this._swapArrayBuffer(nt)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(nt,rt){let it=rt?nt+rt:void 0,st=this.input.slice(nt,it),bt=await R$2(st);return this.set(bt,nt,!0)}});var Me=Object.freeze({__proto__:null,default:pe,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie,gpsOnlyOptions:me,gps:Se,thumbnailOnlyOptions:Ce,thumbnail:ye,thumbnailUrl:be,orientationOnlyOptions:Ie,orientation:Pe,rotations:ke,get rotateCanvas(){return we},get rotateCss(){return Te},rotation:Ae});A$2.set("url",class extends ve{async readWhole(){this.chunked=!1;let nt=await M$1(this.input);nt instanceof ArrayBuffer?this._swapArrayBuffer(nt):nt instanceof Uint8Array&&this._swapBuffer(nt)}async _readChunk(nt,rt){let it=rt?nt+rt-1:void 0,st=this.options.httpHeaders||{};(nt||it)&&(st.range=`bytes=${[nt,it].join("-")}`);let bt=await h$3(this.input,{headers:st}),wt=await bt.arrayBuffer(),Et=wt.byteLength;if(bt.status!==416)return Et!==rt&&(this.size=nt+Et),this.set(wt,nt,!0)}});I$1.prototype.getUint64=function(nt){let rt=this.getUint32(nt),it=this.getUint32(nt+4);return rt<1048575?rt<<32|it:typeof r$3!==void 0?(console.warn("Using BigInt because of type 64uint but JS can only handle 53b numbers."),r$3(rt)<<r$3(32)|r$3(it)):void g$2("Trying to read 64b value but JS can only handle 53b numbers.")};class Re extends se{parseBoxes(rt=0){let it=[];for(;rt<this.file.byteLength-4;){let st=this.parseBoxHead(rt);if(it.push(st),st.length===0)break;rt+=st.length}return it}parseSubBoxes(rt){rt.boxes=this.parseBoxes(rt.start)}findBox(rt,it){return rt.boxes===void 0&&this.parseSubBoxes(rt),rt.boxes.find(st=>st.kind===it)}parseBoxHead(rt){let it=this.file.getUint32(rt),st=this.file.getString(rt+4,4),bt=rt+8;return it===1&&(it=this.file.getUint64(rt+8),bt+=8),{offset:rt,length:it,kind:st,start:bt}}parseBoxFullHead(rt){if(rt.version!==void 0)return;let it=this.file.getUint32(rt.start);rt.version=it>>24,rt.start+=4}}class Le extends Re{static canHandle(rt,it){if(it!==0)return!1;let st=rt.getUint16(2);if(st>50)return!1;let bt=16,wt=[];for(;bt<st;)wt.push(rt.getString(bt,4)),bt+=4;return wt.includes(this.type)}async parse(){let rt=this.file.getUint32(0),it=this.parseBoxHead(rt);for(;it.kind!=="meta";)rt+=it.length,await this.file.ensureChunk(rt,16),it=this.parseBoxHead(rt);await this.file.ensureChunk(it.offset,it.length),this.parseBoxFullHead(it),this.parseSubBoxes(it),this.options.icc.enabled&&await this.findIcc(it),this.options.tiff.enabled&&await this.findExif(it)}async registerSegment(rt,it,st){await this.file.ensureChunk(it,st);let bt=this.file.subarray(it,st);this.createParser(rt,bt)}async findIcc(rt){let it=this.findBox(rt,"iprp");if(it===void 0)return;let st=this.findBox(it,"ipco");if(st===void 0)return;let bt=this.findBox(st,"colr");bt!==void 0&&await this.registerSegment("icc",bt.offset+12,bt.length)}async findExif(rt){let it=this.findBox(rt,"iinf");if(it===void 0)return;let st=this.findBox(rt,"iloc");if(st===void 0)return;let bt=this.findExifLocIdInIinf(it),wt=this.findExtentInIloc(st,bt);if(wt===void 0)return;let[Et,Tt]=wt;await this.file.ensureChunk(Et,Tt);let At=4+this.file.getUint32(Et);Et+=At,Tt-=At,await this.registerSegment("tiff",Et,Tt)}findExifLocIdInIinf(rt){this.parseBoxFullHead(rt);let it,st,bt,wt,Et=rt.start,Tt=this.file.getUint16(Et);for(Et+=2;Tt--;){if(it=this.parseBoxHead(Et),this.parseBoxFullHead(it),st=it.start,it.version>=2&&(bt=it.version===3?4:2,wt=this.file.getString(st+bt+2,4),wt==="Exif"))return this.file.getUintBytes(st,bt);Et+=it.length}}get8bits(rt){let it=this.file.getUint8(rt);return[it>>4,15&it]}findExtentInIloc(rt,it){this.parseBoxFullHead(rt);let st=rt.start,[bt,wt]=this.get8bits(st++),[Et,Tt]=this.get8bits(st++),At=rt.version===2?4:2,Dt=rt.version===1||rt.version===2?2:0,Ot=Tt+bt+wt,zt=rt.version===2?4:2,$t=this.file.getUintBytes(st,zt);for(st+=zt;$t--;){let Bt=this.file.getUintBytes(st,At);st+=At+Dt+2+Et;let Yt=this.file.getUint16(st);if(st+=2,Bt===it)return Yt>1&&console.warn(`ILOC box has more than one extent but we're only processing one
Please create an issue at https://github.com/MikeKovarik/exifr with this file`),[this.file.getUintBytes(st+Tt,bt),this.file.getUintBytes(st+Tt+bt,wt)];st+=Yt*Ot}}}class Ue extends Le{}c$3(Ue,"type","heic");class Fe extends Le{}c$3(Fe,"type","avif"),w$1.set("heic",Ue),w$1.set("avif",Fe),U(E$1,["ifd0","ifd1"],[[256,"ImageWidth"],[257,"ImageHeight"],[258,"BitsPerSample"],[259,"Compression"],[262,"PhotometricInterpretation"],[270,"ImageDescription"],[271,"Make"],[272,"Model"],[273,"StripOffsets"],[274,"Orientation"],[277,"SamplesPerPixel"],[278,"RowsPerStrip"],[279,"StripByteCounts"],[282,"XResolution"],[283,"YResolution"],[284,"PlanarConfiguration"],[296,"ResolutionUnit"],[301,"TransferFunction"],[305,"Software"],[306,"ModifyDate"],[315,"Artist"],[316,"HostComputer"],[317,"Predictor"],[318,"WhitePoint"],[319,"PrimaryChromaticities"],[513,"ThumbnailOffset"],[514,"ThumbnailLength"],[529,"YCbCrCoefficients"],[530,"YCbCrSubSampling"],[531,"YCbCrPositioning"],[532,"ReferenceBlackWhite"],[700,"ApplicationNotes"],[33432,"Copyright"],[33723,"IPTC"],[34665,"ExifIFD"],[34675,"ICC"],[34853,"GpsIFD"],[330,"SubIFD"],[40965,"InteropIFD"],[40091,"XPTitle"],[40092,"XPComment"],[40093,"XPAuthor"],[40094,"XPKeywords"],[40095,"XPSubject"]]),U(E$1,"exif",[[33434,"ExposureTime"],[33437,"FNumber"],[34850,"ExposureProgram"],[34852,"SpectralSensitivity"],[34855,"ISO"],[34858,"TimeZoneOffset"],[34859,"SelfTimerMode"],[34864,"SensitivityType"],[34865,"StandardOutputSensitivity"],[34866,"RecommendedExposureIndex"],[34867,"ISOSpeed"],[34868,"ISOSpeedLatitudeyyy"],[34869,"ISOSpeedLatitudezzz"],[36864,"ExifVersion"],[36867,"DateTimeOriginal"],[36868,"CreateDate"],[36873,"GooglePlusUploadCode"],[36880,"OffsetTime"],[36881,"OffsetTimeOriginal"],[36882,"OffsetTimeDigitized"],[37121,"ComponentsConfiguration"],[37122,"CompressedBitsPerPixel"],[37377,"ShutterSpeedValue"],[37378,"ApertureValue"],[37379,"BrightnessValue"],[37380,"ExposureCompensation"],[37381,"MaxApertureValue"],[37382,"SubjectDistance"],[37383,"MeteringMode"],[37384,"LightSource"],[37385,"Flash"],[37386,"FocalLength"],[37393,"ImageNumber"],[37394,"SecurityClassification"],[37395,"ImageHistory"],[37396,"SubjectArea"],[37500,"MakerNote"],[37510,"UserComment"],[37520,"SubSecTime"],[37521,"SubSecTimeOriginal"],[37522,"SubSecTimeDigitized"],[37888,"AmbientTemperature"],[37889,"Humidity"],[37890,"Pressure"],[37891,"WaterDepth"],[37892,"Acceleration"],[37893,"CameraElevationAngle"],[40960,"FlashpixVersion"],[40961,"ColorSpace"],[40962,"ExifImageWidth"],[40963,"ExifImageHeight"],[40964,"RelatedSoundFile"],[41483,"FlashEnergy"],[41486,"FocalPlaneXResolution"],[41487,"FocalPlaneYResolution"],[41488,"FocalPlaneResolutionUnit"],[41492,"SubjectLocation"],[41493,"ExposureIndex"],[41495,"SensingMethod"],[41728,"FileSource"],[41729,"SceneType"],[41730,"CFAPattern"],[41985,"CustomRendered"],[41986,"ExposureMode"],[41987,"WhiteBalance"],[41988,"DigitalZoomRatio"],[41989,"FocalLengthIn35mmFormat"],[41990,"SceneCaptureType"],[41991,"GainControl"],[41992,"Contrast"],[41993,"Saturation"],[41994,"Sharpness"],[41996,"SubjectDistanceRange"],[42016,"ImageUniqueID"],[42032,"OwnerName"],[42033,"SerialNumber"],[42034,"LensInfo"],[42035,"LensMake"],[42036,"LensModel"],[42037,"LensSerialNumber"],[42080,"CompositeImage"],[42081,"CompositeImageCount"],[42082,"CompositeImageExposureTimes"],[42240,"Gamma"],[59932,"Padding"],[59933,"OffsetSchema"],[65e3,"OwnerName"],[65001,"SerialNumber"],[65002,"Lens"],[65100,"RawFile"],[65101,"Converter"],[65102,"WhiteBalance"],[65105,"Exposure"],[65106,"Shadows"],[65107,"Brightness"],[65108,"Contrast"],[65109,"Saturation"],[65110,"Sharpness"],[65111,"Smoothness"],[65112,"MoireFilter"],[40965,"InteropIFD"]]),U(E$1,"gps",[[0,"GPSVersionID"],[1,"GPSLatitudeRef"],[2,"GPSLatitude"],[3,"GPSLongitudeRef"],[4,"GPSLongitude"],[5,"GPSAltitudeRef"],[6,"GPSAltitude"],[7,"GPSTimeStamp"],[8,"GPSSatellites"],[9,"GPSStatus"],[10,"GPSMeasureMode"],[11,"GPSDOP"],[12,"GPSSpeedRef"],[13,"GPSSpeed"],[14,"GPSTrackRef"],[15,"GPSTrack"],[16,"GPSImgDirectionRef"],[17,"GPSImgDirection"],[18,"GPSMapDatum"],[19,"GPSDestLatitudeRef"],[20,"GPSDestLatitude"],[21,"GPSDestLongitudeRef"],[22,"GPSDestLongitude"],[23,"GPSDestBearingRef"],[24,"GPSDestBearing"],[25,"GPSDestDistanceRef"],[26,"GPSDestDistance"],[27,"GPSProcessingMethod"],[28,"GPSAreaInformation"],[29,"GPSDateStamp"],[30,"GPSDifferential"],[31,"GPSHPositioningError"]]),U(B,["ifd0","ifd1"],[[274,{1:"Horizontal (normal)",2:"Mirror horizontal",3:"Rotate 180",4:"Mirror vertical",5:"Mirror horizontal and rotate 270 CW",6:"Rotate 90 CW",7:"Mirror horizontal and rotate 90 CW",8:"Rotate 270 CW"}],[296,{1:"None",2:"inches",3:"cm"}]]);let Ee=U(B,"exif",[[34850,{0:"Not defined",1:"Manual",2:"Normal program",3:"Aperture priority",4:"Shutter priority",5:"Creative program",6:"Action program",7:"Portrait mode",8:"Landscape mode"}],[37121,{0:"-",1:"Y",2:"Cb",3:"Cr",4:"R",5:"G",6:"B"}],[37383,{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"}],[37384,{0:"Unknown",1:"Daylight",2:"Fluorescent",3:"Tungsten (incandescent light)",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 - 5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"}],[37385,{0:"Flash did not fire",1:"Flash fired",5:"Strobe return light not detected",7:"Strobe return light detected",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"}],[41495,{1:"Not defined",2:"One-chip color area sensor",3:"Two-chip color area sensor",4:"Three-chip color area sensor",5:"Color sequential area sensor",7:"Trilinear sensor",8:"Color sequential linear sensor"}],[41728,{1:"Film Scanner",2:"Reflection Print Scanner",3:"Digital Camera"}],[41729,{1:"Directly photographed"}],[41985,{0:"Normal",1:"Custom",2:"HDR (no original saved)",3:"HDR (original saved)",4:"Original (for HDR)",6:"Panorama",7:"Portrait HDR",8:"Portrait"}],[41986,{0:"Auto",1:"Manual",2:"Auto bracket"}],[41987,{0:"Auto",1:"Manual"}],[41990,{0:"Standard",1:"Landscape",2:"Portrait",3:"Night",4:"Other"}],[41991,{0:"None",1:"Low gain up",2:"High gain up",3:"Low gain down",4:"High gain down"}],[41996,{0:"Unknown",1:"Macro",2:"Close",3:"Distant"}],[42080,{0:"Unknown",1:"Not a Composite Image",2:"General Composite Image",3:"Composite Image Captured While Shooting"}]]);const Be={1:"No absolute unit of measurement",2:"Inch",3:"Centimeter"};Ee.set(37392,Be),Ee.set(41488,Be);const Ne={0:"Normal",1:"Low",2:"High"};function Ge(nt){return typeof nt=="object"&&nt.length!==void 0?nt[0]:nt}function Ve(nt){let rt=Array.from(nt).slice(1);return rt[1]>15&&(rt=rt.map(it=>String.fromCharCode(it))),rt[2]!=="0"&&rt[2]!==0||rt.pop(),rt.join(".")}function ze(nt){if(typeof nt=="string"){var[rt,it,st,bt,wt,Et]=nt.trim().split(/[-: ]/g).map(Number),Tt=new Date(rt,it-1,st);return Number.isNaN(bt)||Number.isNaN(wt)||Number.isNaN(Et)||(Tt.setHours(bt),Tt.setMinutes(wt),Tt.setSeconds(Et)),Number.isNaN(+Tt)?nt:Tt}}function He(nt){if(typeof nt=="string")return nt;let rt=[];if(nt[1]===0&&nt[nt.length-1]===0)for(let it=0;it<nt.length;it+=2)rt.push(je(nt[it+1],nt[it]));else for(let it=0;it<nt.length;it+=2)rt.push(je(nt[it],nt[it+1]));return m$3(String.fromCodePoint(...rt))}function je(nt,rt){return nt<<8|rt}Ee.set(41992,Ne),Ee.set(41993,Ne),Ee.set(41994,Ne),U(N$1,["ifd0","ifd1"],[[50827,function(nt){return typeof nt!="string"?b$2(nt):nt}],[306,ze],[40091,He],[40092,He],[40093,He],[40094,He],[40095,He]]),U(N$1,"exif",[[40960,Ve],[36864,Ve],[36867,ze],[36868,ze],[40962,Ge],[40963,Ge]]),U(N$1,"gps",[[0,nt=>Array.from(nt).join(".")],[7,nt=>Array.from(nt).join(":")]]);class We extends re$1{static canHandle(rt,it){return rt.getUint8(it+1)===225&&rt.getUint32(it+4)===1752462448&&rt.getString(it+4,20)==="http://ns.adobe.com/"}static headerLength(rt,it){return rt.getString(it+4,34)==="http://ns.adobe.com/xmp/extension/"?79:4+28+1}static findPosition(rt,it){let st=super.findPosition(rt,it);return st.multiSegment=st.extended=st.headerLength===79,st.multiSegment?(st.chunkCount=rt.getUint8(it+72),st.chunkNumber=rt.getUint8(it+76),rt.getUint8(it+77)!==0&&st.chunkNumber++):(st.chunkCount=1/0,st.chunkNumber=-1),st}static handleMultiSegments(rt){return rt.map(it=>it.chunk.getString()).join("")}normalizeInput(rt){return typeof rt=="string"?rt:I$1.from(rt).getString()}parse(rt=this.chunk){if(!this.localOptions.parse)return rt;rt=function(wt){let Et={},Tt={};for(let At of Ze)Et[At]=[],Tt[At]=0;return wt.replace(et,(At,Dt,Ot)=>{if(Dt==="<"){let zt=++Tt[Ot];return Et[Ot].push(zt),`${At}#${zt}`}return`${At}#${Et[Ot].pop()}`})}(rt);let it=Xe.findAll(rt,"rdf","Description");it.length===0&&it.push(new Xe("rdf","Description",void 0,rt));let st,bt={};for(let wt of it)for(let Et of wt.properties)st=Je(Et.ns,bt),_e(Et,st);return function(wt){let Et;for(let Tt in wt)Et=wt[Tt]=f$3(wt[Tt]),Et===void 0&&delete wt[Tt];return f$3(wt)}(bt)}assignToOutput(rt,it){if(this.localOptions.parse)for(let[st,bt]of Object.entries(it))switch(st){case"tiff":this.assignObjectToOutput(rt,"ifd0",bt);break;case"exif":this.assignObjectToOutput(rt,"exif",bt);break;case"xmlns":break;default:this.assignObjectToOutput(rt,st,bt)}else rt.xmp=it}}c$3(We,"type","xmp"),c$3(We,"multiSegment",!0),T$2.set("xmp",We);class Ke{static findAll(rt){return qe(rt,/([a-zA-Z0-9-]+):([a-zA-Z0-9-]+)=("[^"]*"|'[^']*')/gm).map(Ke.unpackMatch)}static unpackMatch(rt){let it=rt[1],st=rt[2],bt=rt[3].slice(1,-1);return bt=Qe(bt),new Ke(it,st,bt)}constructor(rt,it,st){this.ns=rt,this.name=it,this.value=st}serialize(){return this.value}}class Xe{static findAll(rt,it,st){if(it!==void 0||st!==void 0){it=it||"[\\w\\d-]+",st=st||"[\\w\\d-]+";var bt=new RegExp(`<(${it}):(${st})(#\\d+)?((\\s+?[\\w\\d-:]+=("[^"]*"|'[^']*'))*\\s*)(\\/>|>([\\s\\S]*?)<\\/\\1:\\2\\3>)`,"gm")}else bt=/<([\w\d-]+):([\w\d-]+)(#\d+)?((\s+?[\w\d-:]+=("[^"]*"|'[^']*'))*\s*)(\/>|>([\s\S]*?)<\/\1:\2\3>)/gm;return qe(rt,bt).map(Xe.unpackMatch)}static unpackMatch(rt){let it=rt[1],st=rt[2],bt=rt[4],wt=rt[8];return new Xe(it,st,bt,wt)}constructor(rt,it,st,bt){this.ns=rt,this.name=it,this.attrString=st,this.innerXml=bt,this.attrs=Ke.findAll(st),this.children=Xe.findAll(bt),this.value=this.children.length===0?Qe(bt):void 0,this.properties=[...this.attrs,...this.children]}get isPrimitive(){return this.value!==void 0&&this.attrs.length===0&&this.children.length===0}get isListContainer(){return this.children.length===1&&this.children[0].isList}get isList(){let{ns:rt,name:it}=this;return rt==="rdf"&&(it==="Seq"||it==="Bag"||it==="Alt")}get isListItem(){return this.ns==="rdf"&&this.name==="li"}serialize(){if(this.properties.length===0&&this.value===void 0)return;if(this.isPrimitive)return this.value;if(this.isListContainer)return this.children[0].serialize();if(this.isList)return $e(this.children.map(Ye));if(this.isListItem&&this.children.length===1&&this.attrs.length===0)return this.children[0].serialize();let rt={};for(let it of this.properties)_e(it,rt);return this.value!==void 0&&(rt.value=this.value),f$3(rt)}}function _e(nt,rt){let it=nt.serialize();it!==void 0&&(rt[nt.name]=it)}var Ye=nt=>nt.serialize(),$e=nt=>nt.length===1?nt[0]:nt,Je=(nt,rt)=>rt[nt]?rt[nt]:rt[nt]={};function qe(nt,rt){let it,st=[];if(!nt)return st;for(;(it=rt.exec(nt))!==null;)st.push(it);return st}function Qe(nt){if(function(st){return st==null||st==="null"||st==="undefined"||st===""||st.trim()===""}(nt))return;let rt=Number(nt);if(!Number.isNaN(rt))return rt;let it=nt.toLowerCase();return it==="true"||it!=="false"&&nt.trim()}const Ze=["rdf:li","rdf:Seq","rdf:Bag","rdf:Alt","rdf:Description"],et=new RegExp(`(<|\\/)(${Ze.join("|")})`,"g");var tt=Object.freeze({__proto__:null,default:Me,Exifr:te,fileParsers:w$1,segmentParsers:T$2,fileReaders:A$2,tagKeys:E$1,tagValues:B,tagRevivers:N$1,createDictionary:U,extendDictionary:F,fetchUrlAsArrayBuffer:M$1,readBlobAsArrayBuffer:R$2,chunkedProps:G,otherSegments:V$1,segments:z$1,tiffBlocks:H$2,segmentsAndBlocks:j,tiffExtractables:W$1,inheritables:K$1,allFormatters:X,Options:q,parse:ie,gpsOnlyOptions:me,gps:Se,thumbnailOnlyOptions:Ce,thumbnail:ye,thumbnailUrl:be,orientationOnlyOptions:Ie,orientation:Pe,rotations:ke,get rotateCanvas(){return we},get rotateCss(){return Te},rotation:Ae});let at=l$4("fs",nt=>nt.promises);A$2.set("fs",class extends ve{async readWhole(){this.chunked=!1,this.fs=await at;let nt=await this.fs.readFile(this.input);this._swapBuffer(nt)}async readChunked(){this.chunked=!0,this.fs=await at,await this.open(),await this.readChunk(0,this.options.firstChunkSize)}async open(){this.fh===void 0&&(this.fh=await this.fs.open(this.input,"r"),this.size=(await this.fh.stat(this.input)).size)}async _readChunk(nt,rt){this.fh===void 0&&await this.open(),nt+rt>this.size&&(rt=this.size-nt);var it=this.subarray(nt,rt,!0);return await this.fh.read(it.dataView,0,rt,nt),it}async close(){if(this.fh){let nt=this.fh;this.fh=void 0,await nt.close()}}});A$2.set("base64",class extends ve{constructor(...nt){super(...nt),this.input=this.input.replace(/^data:([^;]+);base64,/gim,""),this.size=this.input.length/4*3,this.input.endsWith("==")?this.size-=2:this.input.endsWith("=")&&(this.size-=1)}async _readChunk(nt,rt){let it,st,bt=this.input;nt===void 0?(nt=0,it=0,st=0):(it=4*Math.floor(nt/3),st=nt-it/4*3),rt===void 0&&(rt=this.size);let wt=nt+rt,Et=it+4*Math.ceil(wt/3);bt=bt.slice(it,Et);let Tt=Math.min(rt,this.size-nt);if(a$3){let At=s$5.from(bt,"base64").slice(st,st+Tt);return this.set(At,nt,!0)}{let At=this.subarray(nt,Tt,!0),Dt=atob(bt),Ot=At.toUint8();for(let zt=0;zt<Tt;zt++)Ot[zt]=Dt.charCodeAt(st+zt);return At}}});class ot extends se{static canHandle(rt,it){return it===18761||it===19789}extendOptions(rt){let{ifd0:it,xmp:st,iptc:bt,icc:wt}=rt;st.enabled&&it.deps.add(700),bt.enabled&&it.deps.add(33723),wt.enabled&&it.deps.add(34675),it.finalizeFilters()}async parse(){let{tiff:rt,xmp:it,iptc:st,icc:bt}=this.options;if(rt.enabled||it.enabled||st.enabled||bt.enabled){let wt=Math.max(S$1(this.options),this.options.chunkSize);await this.file.ensureChunk(0,wt),this.createParser("tiff",this.file),this.parsers.tiff.parseHeader(),await this.parsers.tiff.parseIfd0Block(),this.adaptTiffPropAsSegment("xmp"),this.adaptTiffPropAsSegment("iptc"),this.adaptTiffPropAsSegment("icc")}}adaptTiffPropAsSegment(rt){if(this.parsers.tiff[rt]){let it=this.parsers.tiff[rt];this.injectSegment(rt,it)}}}c$3(ot,"type","tiff"),w$1.set("tiff",ot);let lt=l$4("zlib");const ht=["ihdr","iccp","text","itxt","exif"];class ut extends se{constructor(...rt){super(...rt),c$3(this,"catchError",it=>this.errors.push(it)),c$3(this,"metaChunks",[]),c$3(this,"unknownChunks",[])}static canHandle(rt,it){return it===35152&&rt.getUint32(0)===2303741511&&rt.getUint32(4)===218765834}async parse(){let{file:rt}=this;await this.findPngChunksInRange(8,rt.byteLength),await this.readSegments(this.metaChunks),this.findIhdr(),this.parseTextChunks(),await this.findExif().catch(this.catchError),await this.findXmp().catch(this.catchError),await this.findIcc().catch(this.catchError)}async findPngChunksInRange(rt,it){let{file:st}=this;for(;rt<it;){let bt=st.getUint32(rt),wt=st.getUint32(rt+4),Et=st.getString(rt+4,4).toLowerCase(),Tt=bt+4+4+4,At={type:Et,offset:rt,length:Tt,start:rt+4+4,size:bt,marker:wt};ht.includes(Et)?this.metaChunks.push(At):this.unknownChunks.push(At),rt+=Tt}}parseTextChunks(){let rt=this.metaChunks.filter(it=>it.type==="text");for(let it of rt){let[st,bt]=this.file.getString(it.start,it.size).split("\0");this.injectKeyValToIhdr(st,bt)}}injectKeyValToIhdr(rt,it){let st=this.parsers.ihdr;st&&st.raw.set(rt,it)}findIhdr(){let rt=this.metaChunks.find(it=>it.type==="ihdr");rt&&this.options.ihdr.enabled!==!1&&this.createParser("ihdr",rt.chunk)}async findExif(){let rt=this.metaChunks.find(it=>it.type==="exif");rt&&this.injectSegment("tiff",rt.chunk)}async findXmp(){let rt=this.metaChunks.filter(it=>it.type==="itxt");for(let it of rt)it.chunk.getString(0,17)==="XML:com.adobe.xmp"&&this.injectSegment("xmp",it.chunk)}async findIcc(){let rt=this.metaChunks.find(Tt=>Tt.type==="iccp");if(!rt)return;let{chunk:it}=rt,st=it.getUint8Array(0,81),bt=0;for(;bt<80&&st[bt]!==0;)bt++;let wt=bt+2,Et=it.getString(0,bt);if(this.injectKeyValToIhdr("ProfileName",Et),n$5){let Tt=await lt,At=it.getUint8Array(wt);At=Tt.inflateSync(At),this.injectSegment("icc",At)}}}c$3(ut,"type","png"),w$1.set("png",ut),U(E$1,"interop",[[1,"InteropIndex"],[2,"InteropVersion"],[4096,"RelatedImageFileFormat"],[4097,"RelatedImageWidth"],[4098,"RelatedImageHeight"]]),F(E$1,"ifd0",[[11,"ProcessingSoftware"],[254,"SubfileType"],[255,"OldSubfileType"],[263,"Thresholding"],[264,"CellWidth"],[265,"CellLength"],[266,"FillOrder"],[269,"DocumentName"],[280,"MinSampleValue"],[281,"MaxSampleValue"],[285,"PageName"],[286,"XPosition"],[287,"YPosition"],[290,"GrayResponseUnit"],[297,"PageNumber"],[321,"HalftoneHints"],[322,"TileWidth"],[323,"TileLength"],[332,"InkSet"],[337,"TargetPrinter"],[18246,"Rating"],[18249,"RatingPercent"],[33550,"PixelScale"],[34264,"ModelTransform"],[34377,"PhotoshopSettings"],[50706,"DNGVersion"],[50707,"DNGBackwardVersion"],[50708,"UniqueCameraModel"],[50709,"LocalizedCameraModel"],[50736,"DNGLensInfo"],[50739,"ShadowScale"],[50740,"DNGPrivateData"],[33920,"IntergraphMatrix"],[33922,"ModelTiePoint"],[34118,"SEMInfo"],[34735,"GeoTiffDirectory"],[34736,"GeoTiffDoubleParams"],[34737,"GeoTiffAsciiParams"],[50341,"PrintIM"],[50721,"ColorMatrix1"],[50722,"ColorMatrix2"],[50723,"CameraCalibration1"],[50724,"CameraCalibration2"],[50725,"ReductionMatrix1"],[50726,"ReductionMatrix2"],[50727,"AnalogBalance"],[50728,"AsShotNeutral"],[50729,"AsShotWhiteXY"],[50730,"BaselineExposure"],[50731,"BaselineNoise"],[50732,"BaselineSharpness"],[50734,"LinearResponseLimit"],[50735,"CameraSerialNumber"],[50741,"MakerNoteSafety"],[50778,"CalibrationIlluminant1"],[50779,"CalibrationIlluminant2"],[50781,"RawDataUniqueID"],[50827,"OriginalRawFileName"],[50828,"OriginalRawFileData"],[50831,"AsShotICCProfile"],[50832,"AsShotPreProfileMatrix"],[50833,"CurrentICCProfile"],[50834,"CurrentPreProfileMatrix"],[50879,"ColorimetricReference"],[50885,"SRawType"],[50898,"PanasonicTitle"],[50899,"PanasonicTitle2"],[50931,"CameraCalibrationSig"],[50932,"ProfileCalibrationSig"],[50933,"ProfileIFD"],[50934,"AsShotProfileName"],[50936,"ProfileName"],[50937,"ProfileHueSatMapDims"],[50938,"ProfileHueSatMapData1"],[50939,"ProfileHueSatMapData2"],[50940,"ProfileToneCurve"],[50941,"ProfileEmbedPolicy"],[50942,"ProfileCopyright"],[50964,"ForwardMatrix1"],[50965,"ForwardMatrix2"],[50966,"PreviewApplicationName"],[50967,"PreviewApplicationVersion"],[50968,"PreviewSettingsName"],[50969,"PreviewSettingsDigest"],[50970,"PreviewColorSpace"],[50971,"PreviewDateTime"],[50972,"RawImageDigest"],[50973,"OriginalRawFileDigest"],[50981,"ProfileLookTableDims"],[50982,"ProfileLookTableData"],[51043,"TimeCodes"],[51044,"FrameRate"],[51058,"TStop"],[51081,"ReelName"],[51089,"OriginalDefaultFinalSize"],[51090,"OriginalBestQualitySize"],[51091,"OriginalDefaultCropSize"],[51105,"CameraLabel"],[51107,"ProfileHueSatMapEncoding"],[51108,"ProfileLookTableEncoding"],[51109,"BaselineExposureOffset"],[51110,"DefaultBlackRender"],[51111,"NewRawImageDigest"],[51112,"RawToPreviewGain"]]);let ct=[[273,"StripOffsets"],[279,"StripByteCounts"],[288,"FreeOffsets"],[289,"FreeByteCounts"],[291,"GrayResponseCurve"],[292,"T4Options"],[293,"T6Options"],[300,"ColorResponseUnit"],[320,"ColorMap"],[324,"TileOffsets"],[325,"TileByteCounts"],[326,"BadFaxLines"],[327,"CleanFaxData"],[328,"ConsecutiveBadFaxLines"],[330,"SubIFD"],[333,"InkNames"],[334,"NumberofInks"],[336,"DotRange"],[338,"ExtraSamples"],[339,"SampleFormat"],[340,"SMinSampleValue"],[341,"SMaxSampleValue"],[342,"TransferRange"],[343,"ClipPath"],[344,"XClipPathUnits"],[345,"YClipPathUnits"],[346,"Indexed"],[347,"JPEGTables"],[351,"OPIProxy"],[400,"GlobalParametersIFD"],[401,"ProfileType"],[402,"FaxProfile"],[403,"CodingMethods"],[404,"VersionYear"],[405,"ModeNumber"],[433,"Decode"],[434,"DefaultImageColor"],[435,"T82Options"],[437,"JPEGTables"],[512,"JPEGProc"],[515,"JPEGRestartInterval"],[517,"JPEGLosslessPredictors"],[518,"JPEGPointTransforms"],[519,"JPEGQTables"],[520,"JPEGDCTables"],[521,"JPEGACTables"],[559,"StripRowCounts"],[999,"USPTOMiscellaneous"],[18247,"XP_DIP_XML"],[18248,"StitchInfo"],[28672,"SonyRawFileType"],[28688,"SonyToneCurve"],[28721,"VignettingCorrection"],[28722,"VignettingCorrParams"],[28724,"ChromaticAberrationCorrection"],[28725,"ChromaticAberrationCorrParams"],[28726,"DistortionCorrection"],[28727,"DistortionCorrParams"],[29895,"SonyCropTopLeft"],[29896,"SonyCropSize"],[32781,"ImageID"],[32931,"WangTag1"],[32932,"WangAnnotation"],[32933,"WangTag3"],[32934,"WangTag4"],[32953,"ImageReferencePoints"],[32954,"RegionXformTackPoint"],[32955,"WarpQuadrilateral"],[32956,"AffineTransformMat"],[32995,"Matteing"],[32996,"DataType"],[32997,"ImageDepth"],[32998,"TileDepth"],[33300,"ImageFullWidth"],[33301,"ImageFullHeight"],[33302,"TextureFormat"],[33303,"WrapModes"],[33304,"FovCot"],[33305,"MatrixWorldToScreen"],[33306,"MatrixWorldToCamera"],[33405,"Model2"],[33421,"CFARepeatPatternDim"],[33422,"CFAPattern2"],[33423,"BatteryLevel"],[33424,"KodakIFD"],[33445,"MDFileTag"],[33446,"MDScalePixel"],[33447,"MDColorTable"],[33448,"MDLabName"],[33449,"MDSampleInfo"],[33450,"MDPrepDate"],[33451,"MDPrepTime"],[33452,"MDFileUnits"],[33589,"AdventScale"],[33590,"AdventRevision"],[33628,"UIC1Tag"],[33629,"UIC2Tag"],[33630,"UIC3Tag"],[33631,"UIC4Tag"],[33918,"IntergraphPacketData"],[33919,"IntergraphFlagRegisters"],[33921,"INGRReserved"],[34016,"Site"],[34017,"ColorSequence"],[34018,"IT8Header"],[34019,"RasterPadding"],[34020,"BitsPerRunLength"],[34021,"BitsPerExtendedRunLength"],[34022,"ColorTable"],[34023,"ImageColorIndicator"],[34024,"BackgroundColorIndicator"],[34025,"ImageColorValue"],[34026,"BackgroundColorValue"],[34027,"PixelIntensityRange"],[34028,"TransparencyIndicator"],[34029,"ColorCharacterization"],[34030,"HCUsage"],[34031,"TrapIndicator"],[34032,"CMYKEquivalent"],[34152,"AFCP_IPTC"],[34232,"PixelMagicJBIGOptions"],[34263,"JPLCartoIFD"],[34306,"WB_GRGBLevels"],[34310,"LeafData"],[34687,"TIFF_FXExtensions"],[34688,"MultiProfiles"],[34689,"SharedData"],[34690,"T88Options"],[34732,"ImageLayer"],[34750,"JBIGOptions"],[34856,"Opto-ElectricConvFactor"],[34857,"Interlace"],[34908,"FaxRecvParams"],[34909,"FaxSubAddress"],[34910,"FaxRecvTime"],[34929,"FedexEDR"],[34954,"LeafSubIFD"],[37387,"FlashEnergy"],[37388,"SpatialFrequencyResponse"],[37389,"Noise"],[37390,"FocalPlaneXResolution"],[37391,"FocalPlaneYResolution"],[37392,"FocalPlaneResolutionUnit"],[37397,"ExposureIndex"],[37398,"TIFF-EPStandardID"],[37399,"SensingMethod"],[37434,"CIP3DataFile"],[37435,"CIP3Sheet"],[37436,"CIP3Side"],[37439,"StoNits"],[37679,"MSDocumentText"],[37680,"MSPropertySetStorage"],[37681,"MSDocumentTextPosition"],[37724,"ImageSourceData"],[40965,"InteropIFD"],[40976,"SamsungRawPointersOffset"],[40977,"SamsungRawPointersLength"],[41217,"SamsungRawByteOrder"],[41218,"SamsungRawUnknown"],[41484,"SpatialFrequencyResponse"],[41485,"Noise"],[41489,"ImageNumber"],[41490,"SecurityClassification"],[41491,"ImageHistory"],[41494,"TIFF-EPStandardID"],[41995,"DeviceSettingDescription"],[42112,"GDALMetadata"],[42113,"GDALNoData"],[44992,"ExpandSoftware"],[44993,"ExpandLens"],[44994,"ExpandFilm"],[44995,"ExpandFilterLens"],[44996,"ExpandScanner"],[44997,"ExpandFlashLamp"],[46275,"HasselbladRawImage"],[48129,"PixelFormat"],[48130,"Transformation"],[48131,"Uncompressed"],[48132,"ImageType"],[48256,"ImageWidth"],[48257,"ImageHeight"],[48258,"WidthResolution"],[48259,"HeightResolution"],[48320,"ImageOffset"],[48321,"ImageByteCount"],[48322,"AlphaOffset"],[48323,"AlphaByteCount"],[48324,"ImageDataDiscard"],[48325,"AlphaDataDiscard"],[50215,"OceScanjobDesc"],[50216,"OceApplicationSelector"],[50217,"OceIDNumber"],[50218,"OceImageLogic"],[50255,"Annotations"],[50459,"HasselbladExif"],[50547,"OriginalFileName"],[50560,"USPTOOriginalContentType"],[50656,"CR2CFAPattern"],[50710,"CFAPlaneColor"],[50711,"CFALayout"],[50712,"LinearizationTable"],[50713,"BlackLevelRepeatDim"],[50714,"BlackLevel"],[50715,"BlackLevelDeltaH"],[50716,"BlackLevelDeltaV"],[50717,"WhiteLevel"],[50718,"DefaultScale"],[50719,"DefaultCropOrigin"],[50720,"DefaultCropSize"],[50733,"BayerGreenSplit"],[50737,"ChromaBlurRadius"],[50738,"AntiAliasStrength"],[50752,"RawImageSegmentation"],[50780,"BestQualityScale"],[50784,"AliasLayerMetadata"],[50829,"ActiveArea"],[50830,"MaskedAreas"],[50935,"NoiseReductionApplied"],[50974,"SubTileBlockSize"],[50975,"RowInterleaveFactor"],[51008,"OpcodeList1"],[51009,"OpcodeList2"],[51022,"OpcodeList3"],[51041,"NoiseProfile"],[51114,"CacheVersion"],[51125,"DefaultUserCrop"],[51157,"NikonNEFInfo"],[65024,"KdcIFD"]];F(E$1,"ifd0",ct),F(E$1,"exif",ct),U(B,"gps",[[23,{M:"Magnetic North",T:"True North"}],[25,{K:"Kilometers",M:"Miles",N:"Nautical Miles"}]]);class ft extends re$1{static canHandle(rt,it){return rt.getUint8(it+1)===224&&rt.getUint32(it+4)===1246120262&&rt.getUint8(it+8)===0}parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint16(0)],[2,this.chunk.getUint8(2)],[3,this.chunk.getUint16(3)],[5,this.chunk.getUint16(5)],[7,this.chunk.getUint8(7)],[8,this.chunk.getUint8(8)]])}}c$3(ft,"type","jfif"),c$3(ft,"headerLength",9),T$2.set("jfif",ft),U(E$1,"jfif",[[0,"JFIFVersion"],[2,"ResolutionUnit"],[3,"XResolution"],[5,"YResolution"],[7,"ThumbnailWidth"],[8,"ThumbnailHeight"]]);class dt extends re$1{parse(){return this.parseTags(),this.translate(),this.output}parseTags(){this.raw=new Map([[0,this.chunk.getUint32(0)],[4,this.chunk.getUint32(4)],[8,this.chunk.getUint8(8)],[9,this.chunk.getUint8(9)],[10,this.chunk.getUint8(10)],[11,this.chunk.getUint8(11)],[12,this.chunk.getUint8(12)],...Array.from(this.raw)])}}c$3(dt,"type","ihdr"),T$2.set("ihdr",dt),U(E$1,"ihdr",[[0,"ImageWidth"],[4,"ImageHeight"],[8,"BitDepth"],[9,"ColorType"],[10,"Compression"],[11,"Filter"],[12,"Interlace"]]),U(B,"ihdr",[[9,{0:"Grayscale",2:"RGB",3:"Palette",4:"Grayscale with Alpha",6:"RGB with Alpha",DEFAULT:"Unknown"}],[10,{0:"Deflate/Inflate",DEFAULT:"Unknown"}],[11,{0:"Adaptive",DEFAULT:"Unknown"}],[12,{0:"Noninterlaced",1:"Adam7 Interlace",DEFAULT:"Unknown"}]]);class pt extends re$1{static canHandle(rt,it){return rt.getUint8(it+1)===226&&rt.getUint32(it+4)===1229144927}static findPosition(rt,it){let st=super.findPosition(rt,it);return st.chunkNumber=rt.getUint8(it+16),st.chunkCount=rt.getUint8(it+17),st.multiSegment=st.chunkCount>1,st}static handleMultiSegments(rt){return function(it){let st=function(bt){let wt=bt[0].constructor,Et=0;for(let Dt of bt)Et+=Dt.length;let Tt=new wt(Et),At=0;for(let Dt of bt)Tt.set(Dt,At),At+=Dt.length;return Tt}(it.map(bt=>bt.chunk.toUint8()));return new I$1(st)}(rt)}parse(){return this.raw=new Map,this.parseHeader(),this.parseTags(),this.translate(),this.output}parseHeader(){let{raw:rt}=this;this.chunk.byteLength<84&&g$2("ICC header is too short");for(let[it,st]of Object.entries(gt)){it=parseInt(it,10);let bt=st(this.chunk,it);bt!=="\0\0\0\0"&&rt.set(it,bt)}}parseTags(){let rt,it,st,bt,wt,{raw:Et}=this,Tt=this.chunk.getUint32(128),At=132,Dt=this.chunk.byteLength;for(;Tt--;){if(rt=this.chunk.getString(At,4),it=this.chunk.getUint32(At+4),st=this.chunk.getUint32(At+8),bt=this.chunk.getString(it,4),it+st>Dt)return void console.warn("reached the end of the first ICC chunk. Enable options.tiff.multiSegment to read all ICC segments.");wt=this.parseTag(bt,it,st),wt!==void 0&&wt!=="\0\0\0\0"&&Et.set(rt,wt),At+=12}}parseTag(rt,it,st){switch(rt){case"desc":return this.parseDesc(it);case"mluc":return this.parseMluc(it);case"text":return this.parseText(it,st);case"sig ":return this.parseSig(it)}if(!(it+st>this.chunk.byteLength))return this.chunk.getUint8Array(it,st)}parseDesc(rt){let it=this.chunk.getUint32(rt+8)-1;return m$3(this.chunk.getString(rt+12,it))}parseText(rt,it){return m$3(this.chunk.getString(rt+8,it-8))}parseSig(rt){return m$3(this.chunk.getString(rt+8,4))}parseMluc(rt){let{chunk:it}=this,st=it.getUint32(rt+8),bt=it.getUint32(rt+12),wt=rt+16,Et=[];for(let Tt=0;Tt<st;Tt++){let At=it.getString(wt+0,2),Dt=it.getString(wt+2,2),Ot=it.getUint32(wt+4),zt=it.getUint32(wt+8)+rt,$t=m$3(it.getUnicodeString(zt,Ot));Et.push({lang:At,country:Dt,text:$t}),wt+=bt}return st===1?Et[0].text:Et}translateValue(rt,it){return typeof rt=="string"?it[rt]||it[rt.toLowerCase()]||rt:it[rt]||rt}}c$3(pt,"type","icc"),c$3(pt,"multiSegment",!0),c$3(pt,"headerLength",18);const gt={4:mt,8:function(nt,rt){return[nt.getUint8(rt),nt.getUint8(rt+1)>>4,nt.getUint8(rt+1)%16].map(it=>it.toString(10)).join(".")},12:mt,16:mt,20:mt,24:function(nt,rt){const it=nt.getUint16(rt),st=nt.getUint16(rt+2)-1,bt=nt.getUint16(rt+4),wt=nt.getUint16(rt+6),Et=nt.getUint16(rt+8),Tt=nt.getUint16(rt+10);return new Date(Date.UTC(it,st,bt,wt,Et,Tt))},36:mt,40:mt,48:mt,52:mt,64:(nt,rt)=>nt.getUint32(rt),80:mt};function mt(nt,rt){return m$3(nt.getString(rt,4))}T$2.set("icc",pt),U(E$1,"icc",[[4,"ProfileCMMType"],[8,"ProfileVersion"],[12,"ProfileClass"],[16,"ColorSpaceData"],[20,"ProfileConnectionSpace"],[24,"ProfileDateTime"],[36,"ProfileFileSignature"],[40,"PrimaryPlatform"],[44,"CMMFlags"],[48,"DeviceManufacturer"],[52,"DeviceModel"],[56,"DeviceAttributes"],[64,"RenderingIntent"],[68,"ConnectionSpaceIlluminant"],[80,"ProfileCreator"],[84,"ProfileID"],["Header","ProfileHeader"],["MS00","WCSProfiles"],["bTRC","BlueTRC"],["bXYZ","BlueMatrixColumn"],["bfd","UCRBG"],["bkpt","MediaBlackPoint"],["calt","CalibrationDateTime"],["chad","ChromaticAdaptation"],["chrm","Chromaticity"],["ciis","ColorimetricIntentImageState"],["clot","ColorantTableOut"],["clro","ColorantOrder"],["clrt","ColorantTable"],["cprt","ProfileCopyright"],["crdi","CRDInfo"],["desc","ProfileDescription"],["devs","DeviceSettings"],["dmdd","DeviceModelDesc"],["dmnd","DeviceMfgDesc"],["dscm","ProfileDescriptionML"],["fpce","FocalPlaneColorimetryEstimates"],["gTRC","GreenTRC"],["gXYZ","GreenMatrixColumn"],["gamt","Gamut"],["kTRC","GrayTRC"],["lumi","Luminance"],["meas","Measurement"],["meta","Metadata"],["mmod","MakeAndModel"],["ncl2","NamedColor2"],["ncol","NamedColor"],["ndin","NativeDisplayInfo"],["pre0","Preview0"],["pre1","Preview1"],["pre2","Preview2"],["ps2i","PS2RenderingIntent"],["ps2s","PostScript2CSA"],["psd0","PostScript2CRD0"],["psd1","PostScript2CRD1"],["psd2","PostScript2CRD2"],["psd3","PostScript2CRD3"],["pseq","ProfileSequenceDesc"],["psid","ProfileSequenceIdentifier"],["psvm","PS2CRDVMSize"],["rTRC","RedTRC"],["rXYZ","RedMatrixColumn"],["resp","OutputResponse"],["rhoc","ReflectionHardcopyOrigColorimetry"],["rig0","PerceptualRenderingIntentGamut"],["rig2","SaturationRenderingIntentGamut"],["rpoc","ReflectionPrintOutputColorimetry"],["sape","SceneAppearanceEstimates"],["scoe","SceneColorimetryEstimates"],["scrd","ScreeningDesc"],["scrn","Screening"],["targ","CharTarget"],["tech","Technology"],["vcgt","VideoCardGamma"],["view","ViewingConditions"],["vued","ViewingCondDesc"],["wtpt","MediaWhitePoint"]]);const St={"4d2p":"Erdt Systems",AAMA:"Aamazing Technologies",ACER:"Acer",ACLT:"Acolyte Color Research",ACTI:"Actix Sytems",ADAR:"Adara Technology",ADBE:"Adobe",ADI:"ADI Systems",AGFA:"Agfa Graphics",ALMD:"Alps Electric",ALPS:"Alps Electric",ALWN:"Alwan Color Expertise",AMTI:"Amiable Technologies",AOC:"AOC International",APAG:"Apago",APPL:"Apple Computer",AST:"AST","AT&T":"AT&T",BAEL:"BARBIERI electronic",BRCO:"Barco NV",BRKP:"Breakpoint",BROT:"Brother",BULL:"Bull",BUS:"Bus Computer Systems","C-IT":"C-Itoh",CAMR:"Intel",CANO:"Canon",CARR:"Carroll Touch",CASI:"Casio",CBUS:"Colorbus PL",CEL:"Crossfield",CELx:"Crossfield",CGS:"CGS Publishing Technologies International",CHM:"Rochester Robotics",CIGL:"Colour Imaging Group, London",CITI:"Citizen",CL00:"Candela",CLIQ:"Color IQ",CMCO:"Chromaco",CMiX:"CHROMiX",COLO:"Colorgraphic Communications",COMP:"Compaq",COMp:"Compeq/Focus Technology",CONR:"Conrac Display Products",CORD:"Cordata Technologies",CPQ:"Compaq",CPRO:"ColorPro",CRN:"Cornerstone",CTX:"CTX International",CVIS:"ColorVision",CWC:"Fujitsu Laboratories",DARI:"Darius Technology",DATA:"Dataproducts",DCP:"Dry Creek Photo",DCRC:"Digital Contents Resource Center, Chung-Ang University",DELL:"Dell Computer",DIC:"Dainippon Ink and Chemicals",DICO:"Diconix",DIGI:"Digital","DL&C":"Digital Light & Color",DPLG:"Doppelganger",DS:"Dainippon Screen",DSOL:"DOOSOL",DUPN:"DuPont",EPSO:"Epson",ESKO:"Esko-Graphics",ETRI:"Electronics and Telecommunications Research Institute",EVER:"Everex Systems",EXAC:"ExactCODE",Eizo:"Eizo",FALC:"Falco Data Products",FF:"Fuji Photo Film",FFEI:"FujiFilm Electronic Imaging",FNRD:"Fnord Software",FORA:"Fora",FORE:"Forefront Technology",FP:"Fujitsu",FPA:"WayTech Development",FUJI:"Fujitsu",FX:"Fuji Xerox",GCC:"GCC Technologies",GGSL:"Global Graphics Software",GMB:"Gretagmacbeth",GMG:"GMG",GOLD:"GoldStar Technology",GOOG:"Google",GPRT:"Giantprint",GTMB:"Gretagmacbeth",GVC:"WayTech Development",GW2K:"Sony",HCI:"HCI",HDM:"Heidelberger Druckmaschinen",HERM:"Hermes",HITA:"Hitachi America",HP:"Hewlett-Packard",HTC:"Hitachi",HiTi:"HiTi Digital",IBM:"IBM",IDNT:"Scitex",IEC:"Hewlett-Packard",IIYA:"Iiyama North America",IKEG:"Ikegami Electronics",IMAG:"Image Systems",IMI:"Ingram Micro",INTC:"Intel",INTL:"N/A (INTL)",INTR:"Intra Electronics",IOCO:"Iocomm International Technology",IPS:"InfoPrint Solutions Company",IRIS:"Scitex",ISL:"Ichikawa Soft Laboratory",ITNL:"N/A (ITNL)",IVM:"IVM",IWAT:"Iwatsu Electric",Idnt:"Scitex",Inca:"Inca Digital Printers",Iris:"Scitex",JPEG:"Joint Photographic Experts Group",JSFT:"Jetsoft Development",JVC:"JVC Information Products",KART:"Scitex",KFC:"KFC Computek Components",KLH:"KLH Computers",KMHD:"Konica Minolta",KNCA:"Konica",KODA:"Kodak",KYOC:"Kyocera",Kart:"Scitex",LCAG:"Leica",LCCD:"Leeds Colour",LDAK:"Left Dakota",LEAD:"Leading Technology",LEXM:"Lexmark International",LINK:"Link Computer",LINO:"Linotronic",LITE:"Lite-On",Leaf:"Leaf",Lino:"Linotronic",MAGC:"Mag Computronic",MAGI:"MAG Innovision",MANN:"Mannesmann",MICN:"Micron Technology",MICR:"Microtek",MICV:"Microvitec",MINO:"Minolta",MITS:"Mitsubishi Electronics America",MITs:"Mitsuba",MNLT:"Minolta",MODG:"Modgraph",MONI:"Monitronix",MONS:"Monaco Systems",MORS:"Morse Technology",MOTI:"Motive Systems",MSFT:"Microsoft",MUTO:"MUTOH INDUSTRIES",Mits:"Mitsubishi Electric",NANA:"NANAO",NEC:"NEC",NEXP:"NexPress Solutions",NISS:"Nissei Sangyo America",NKON:"Nikon",NONE:"none",OCE:"Oce Technologies",OCEC:"OceColor",OKI:"Oki",OKID:"Okidata",OKIP:"Okidata",OLIV:"Olivetti",OLYM:"Olympus",ONYX:"Onyx Graphics",OPTI:"Optiquest",PACK:"Packard Bell",PANA:"Matsushita Electric Industrial",PANT:"Pantone",PBN:"Packard Bell",PFU:"PFU",PHIL:"Philips Consumer Electronics",PNTX:"HOYA",POne:"Phase One A/S",PREM:"Premier Computer Innovations",PRIN:"Princeton Graphic Systems",PRIP:"Princeton Publishing Labs",QLUX:"Hong Kong",QMS:"QMS",QPCD:"QPcard AB",QUAD:"QuadLaser",QUME:"Qume",RADI:"Radius",RDDx:"Integrated Color Solutions",RDG:"Roland DG",REDM:"REDMS Group",RELI:"Relisys",RGMS:"Rolf Gierling Multitools",RICO:"Ricoh",RNLD:"Edmund Ronald",ROYA:"Royal",RPC:"Ricoh Printing Systems",RTL:"Royal Information Electronics",SAMP:"Sampo",SAMS:"Samsung",SANT:"Jaime Santana Pomares",SCIT:"Scitex",SCRN:"Dainippon Screen",SDP:"Scitex",SEC:"Samsung",SEIK:"Seiko Instruments",SEIk:"Seikosha",SGUY:"ScanGuy.com",SHAR:"Sharp Laboratories",SICC:"International Color Consortium",SONY:"Sony",SPCL:"SpectraCal",STAR:"Star",STC:"Sampo Technology",Scit:"Scitex",Sdp:"Scitex",Sony:"Sony",TALO:"Talon Technology",TAND:"Tandy",TATU:"Tatung",TAXA:"TAXAN America",TDS:"Tokyo Denshi Sekei",TECO:"TECO Information Systems",TEGR:"Tegra",TEKT:"Tektronix",TI:"Texas Instruments",TMKR:"TypeMaker",TOSB:"Toshiba",TOSH:"Toshiba",TOTK:"TOTOKU ELECTRIC",TRIU:"Triumph",TSBT:"Toshiba",TTX:"TTX Computer Products",TVM:"TVM Professional Monitor",TW:"TW Casper",ULSX:"Ulead Systems",UNIS:"Unisys",UTZF:"Utz Fehlau & Sohn",VARI:"Varityper",VIEW:"Viewsonic",VISL:"Visual communication",VIVO:"Vivo Mobile Communication",WANG:"Wang",WLBR:"Wilbur Imaging",WTG2:"Ware To Go",WYSE:"WYSE Technology",XERX:"Xerox",XRIT:"X-Rite",ZRAN:"Zoran",Zebr:"Zebra Technologies",appl:"Apple Computer",bICC:"basICColor",berg:"bergdesign",ceyd:"Integrated Color Solutions",clsp:"MacDermid ColorSpan",ds:"Dainippon Screen",dupn:"DuPont",ffei:"FujiFilm Electronic Imaging",flux:"FluxData",iris:"Scitex",kart:"Scitex",lcms:"Little CMS",lino:"Linotronic",none:"none",ob4d:"Erdt Systems",obic:"Medigraph",quby:"Qubyx Sarl",scit:"Scitex",scrn:"Dainippon Screen",sdp:"Scitex",siwi:"SIWI GRAFIKA",yxym:"YxyMaster"},Ct={scnr:"Scanner",mntr:"Monitor",prtr:"Printer",link:"Device Link",abst:"Abstract",spac:"Color Space Conversion Profile",nmcl:"Named Color",cenc:"ColorEncodingSpace profile",mid:"MultiplexIdentification profile",mlnk:"MultiplexLink profile",mvis:"MultiplexVisualization profile",nkpf:"Nikon Input Device Profile (NON-STANDARD!)"};U(B,"icc",[[4,St],[12,Ct],[40,Object.assign({},St,Ct)],[48,St],[80,St],[64,{0:"Perceptual",1:"Relative Colorimetric",2:"Saturation",3:"Absolute Colorimetric"}],["tech",{amd:"Active Matrix Display",crt:"Cathode Ray Tube Display",kpcd:"Photo CD",pmd:"Passive Matrix Display",dcam:"Digital Camera",dcpj:"Digital Cinema Projector",dmpc:"Digital Motion Picture Camera",dsub:"Dye Sublimation Printer",epho:"Electrophotographic Printer",esta:"Electrostatic Printer",flex:"Flexography",fprn:"Film Writer",fscn:"Film Scanner",grav:"Gravure",ijet:"Ink Jet Printer",imgs:"Photo Image Setter",mpfr:"Motion Picture Film Recorder",mpfs:"Motion Picture Film Scanner",offs:"Offset Lithography",pjtv:"Projection Television",rpho:"Photographic Paper Printer",rscn:"Reflective Scanner",silk:"Silkscreen",twax:"Thermal Wax Printer",vidc:"Video Camera",vidm:"Video Monitor"}]]);class yt extends re$1{static canHandle(rt,it,st){return rt.getUint8(it+1)===237&&rt.getString(it+4,9)==="Photoshop"&&this.containsIptc8bim(rt,it,st)!==void 0}static headerLength(rt,it,st){let bt,wt=this.containsIptc8bim(rt,it,st);if(wt!==void 0)return bt=rt.getUint8(it+wt+7),bt%2!=0&&(bt+=1),bt===0&&(bt=4),wt+8+bt}static containsIptc8bim(rt,it,st){for(let bt=0;bt<st;bt++)if(this.isIptcSegmentHead(rt,it+bt))return bt}static isIptcSegmentHead(rt,it){return rt.getUint8(it)===56&&rt.getUint32(it)===943868237&&rt.getUint16(it+4)===1028}parse(){let{raw:rt}=this,it=this.chunk.byteLength-1,st=!1;for(let bt=0;bt<it;bt++)if(this.chunk.getUint8(bt)===28&&this.chunk.getUint8(bt+1)===2){st=!0;let wt=this.chunk.getUint16(bt+3),Et=this.chunk.getUint8(bt+2),Tt=this.chunk.getLatin1String(bt+5,wt);rt.set(Et,this.pluralizeValue(rt.get(Et),Tt)),bt+=4+wt}else if(st)break;return this.translate(),this.output}pluralizeValue(rt,it){return rt!==void 0?rt instanceof Array?(rt.push(it),rt):[rt,it]:it}}c$3(yt,"type","iptc"),c$3(yt,"translateValues",!1),c$3(yt,"reviveValues",!1),T$2.set("iptc",yt),U(E$1,"iptc",[[0,"ApplicationRecordVersion"],[3,"ObjectTypeReference"],[4,"ObjectAttributeReference"],[5,"ObjectName"],[7,"EditStatus"],[8,"EditorialUpdate"],[10,"Urgency"],[12,"SubjectReference"],[15,"Category"],[20,"SupplementalCategories"],[22,"FixtureIdentifier"],[25,"Keywords"],[26,"ContentLocationCode"],[27,"ContentLocationName"],[30,"ReleaseDate"],[35,"ReleaseTime"],[37,"ExpirationDate"],[38,"ExpirationTime"],[40,"SpecialInstructions"],[42,"ActionAdvised"],[45,"ReferenceService"],[47,"ReferenceDate"],[50,"ReferenceNumber"],[55,"DateCreated"],[60,"TimeCreated"],[62,"DigitalCreationDate"],[63,"DigitalCreationTime"],[65,"OriginatingProgram"],[70,"ProgramVersion"],[75,"ObjectCycle"],[80,"Byline"],[85,"BylineTitle"],[90,"City"],[92,"Sublocation"],[95,"State"],[100,"CountryCode"],[101,"Country"],[103,"OriginalTransmissionReference"],[105,"Headline"],[110,"Credit"],[115,"Source"],[116,"CopyrightNotice"],[118,"Contact"],[120,"Caption"],[121,"LocalCaption"],[122,"Writer"],[125,"RasterizedCaption"],[130,"ImageType"],[131,"ImageOrientation"],[135,"LanguageIdentifier"],[150,"AudioType"],[151,"AudioSamplingRate"],[152,"AudioSamplingResolution"],[153,"AudioDuration"],[154,"AudioOutcue"],[184,"JobID"],[185,"MasterDocumentID"],[186,"ShortDocumentID"],[187,"UniqueDocumentID"],[188,"OwnerID"],[200,"ObjectPreviewFileFormat"],[201,"ObjectPreviewFileVersion"],[202,"ObjectPreviewData"],[221,"Prefs"],[225,"ClassifyState"],[228,"SimilarityIndex"],[230,"DocumentNotes"],[231,"DocumentHistory"],[232,"ExifCameraInfo"],[255,"CatalogSets"]]),U(B,"iptc",[[10,{0:"0 (reserved)",1:"1 (most urgent)",2:"2",3:"3",4:"4",5:"5 (normal urgency)",6:"6",7:"7",8:"8 (least urgent)",9:"9 (user-defined priority)"}],[75,{a:"Morning",b:"Both Morning and Evening",p:"Evening"}],[131,{L:"Landscape",P:"Portrait",S:"Square"}]]);class GithubClient{constructor(rt){Nc(this,"authToken");Nc(this,"_shas",{});this.authToken=rt}b64EncodeUnicode(rt){return btoa(encodeURIComponent(rt).replace(/%([0-9A-F]{2})/g,function(it,st){return String.fromCharCode(parseInt(st,16))}))}b64DecodeUnicode(rt){return decodeURIComponent(Array.prototype.map.call(atob(rt),function(it){return"%"+("00"+it.charCodeAt(0).toString(16)).slice(-2)}).join(""))}user(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(rt=>rt.json())}async isCollaborator(rt,it,st){let bt=`https://api.github.com/repos/${rt}/${it}/collaborators/${st}`,wt=await fetch(bt,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}});return wt.ok&&wt.status===204}organizations(){return fetch("https://api.github.com/user/orgs",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(rt=>rt.json())}repos(rt="",it=""){let st=rt?`users/${rt}`:it?`orgs/${it}`:"user";return fetch(`https://api.github.com/${st}/repos?per_page=100`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(bt=>bt.json())}async createRepository({org:rt=null,name:it="",description:st="",auto_init:bt=!0}){let wt=rt?`https://api.github.com/orgs/${rt}/repos`:"https://api.github.com/user/repos";console.log(`createUserRepository: org=${rt} name=${it} description=${st} auto_init=${bt} url=${wt}`);let Et=await fetch(wt,{method:"POST",body:JSON.stringify({name:it,description:st,auto_init:bt}),headers:{Authorization:`Token ${this.authToken}`}});return{status:Et.status,statusText:Et.statusText}}branches(rt,it){return fetch(`https://api.github.com/repos/${rt}/${it}/branches`,{headers:{Accept:"application/vnd.github+json",Authorization:`token ${this.authToken}`}}).then(st=>st.json())}async getFile(rt,it,st,bt){let wt,Et=`https://api.github.com/repos/${rt}/${it}/contents/${st}`;bt&&(Et+=`?ref=${bt}`);let Tt=await fetch(Et,{cache:"no-cache",headers:{Authorization:`Token ${this.authToken}`}});return Tt.ok&&(Tt=await Tt.json(),wt=decodeURIComponent(escape(atob(Tt.content)))),Promise.resolve({content:wt,sha:Tt.sha})}async getSha(rt,it,st,bt){console.log(`getSha: acct=${rt} repo=${it} path=${st} ref=${bt}`);let wt=`https://api.github.com/repos/${rt}/${it}/contents/${st}`;bt&&(wt+=`?ref=${bt}`);let Et=await fetch(wt,{headers:{Authorization:`Token ${this.authToken}`}});return Et.ok&&(Et=await Et.json()),Et.sha}async putFile(rt,it,st,bt,wt,Et=!1,Tt=""){let At=`https://api.github.com/repos/${rt}/${it}/contents/${st}`,Dt=`${rt}/${it}/${wt}/${st}`;Tt=Tt||this._shas[Dt]||await this.getSha(rt,it,st,wt),console.log(`putFile: acct=${rt} repo=${it} path=${st} ref=${wt} sha=${Tt} isBinaryString=${Et}`);let Ot={message:"API commit",content:Et?btoa(bt):this.b64EncodeUnicode(bt)};wt&&(Ot.branch=wt),Tt&&(Ot.sha=Tt);let zt=await fetch(At,{method:"PUT",body:JSON.stringify(Ot),headers:{Authorization:`Token ${this.authToken}`}});return zt.ok?(Tt=(await zt.json()).content.sha,this._shas[Dt]=Tt):console.log(zt),{status:zt.status,statusText:zt.statusText,sha:Tt}}async deleteFile(rt,it,st,bt,wt=""){console.log(`deleteFile: acct=${rt} repo=${it} path=${st} sha=${wt}`),wt=wt||await this.getSha(rt,it,st,bt);let Et=`https://api.github.com/repos/${rt}/${it}/contents/${st}`,Tt={message:"API commit",sha:wt},At=await fetch(Et,{method:"DELETE",body:JSON.stringify(Tt),headers:{Authorization:`Token ${this.authToken}`}});At=await At.json()}async defaultBranch(rt,it){let st=null,bt=`https://api.github.com/repos/${rt}/${it}`,wt=await fetch(bt,{headers:{Authorization:`Token ${this.authToken}`}});return wt.ok&&(wt=await wt.json(),st=wt.default_branch),st}async dirlist(rt,it,st,bt){var Dt;st=st||"",bt=bt||await this.defaultBranch(rt,it);let wt=[],Et=`https://api.github.com/repos/${rt}/${it}/git/trees/${bt}`,Tt={Authorization:`Token ${this.authToken}`,Accept:"application/vnd.github.v3+json","If-None-Match":""},At=st.split("/").filter(Ot=>Ot);for(let Ot=0;Ot<At.length;Ot++){let zt=await fetch(Et,{headers:Tt}),$t=zt.ok?await zt.json():{},Bt=$t?(Dt=$t.tree)==null?void 0:Dt.find(Yt=>Yt.path===At[Ot]):null;if(Et=Bt?Bt.url:null,!Et)break}if(Et){let Ot=await fetch(Et,{headers:Tt});wt=((Ot.ok?await Ot.json():{}).tree||[]).map($t=>({name:$t.path,sha:$t.sha,type:$t.type==="tree"?"dir":"file"}))}return wt}async fullPath(rt,it,st,bt,wt=!1){let Et=st.split("/").filter(Ot=>Ot),Tt=Et[Et.length-1],At=await this.dirlist(rt,it,Et.join("/"),bt);if(At.length===0&&(Et.pop(),At=await this.dirlist(rt,it,Et.join("/"),bt)),!wt){let Ot=[Tt,`${Tt}.md`,"README.md"];for(let zt=0;zt<Ot.length;zt++)if(At.find($t=>$t.type==="file"&&$t.name===Ot[zt])){Et.push(Ot[zt]);break}}return Et.join("/")}}/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing$1(nt){return typeof nt>"u"||nt===null}function isObject$2(nt){return typeof nt=="object"&&nt!==null}function toArray$1(nt){return Array.isArray(nt)?nt:isNothing$1(nt)?[]:[nt]}function extend$2(nt,rt){var it,st,bt,wt;if(rt)for(wt=Object.keys(rt),it=0,st=wt.length;it<st;it+=1)bt=wt[it],nt[bt]=rt[bt];return nt}function repeat$1(nt,rt){var it="",st;for(st=0;st<rt;st+=1)it+=nt;return it}function isNegativeZero$1(nt){return nt===0&&Number.NEGATIVE_INFINITY===1/nt}var isNothing_1$1=isNothing$1,isObject_1$1=isObject$2,toArray_1$1=toArray$1,repeat_1$1=repeat$1,isNegativeZero_1$1=isNegativeZero$1,extend_1$1=extend$2,common$2={isNothing:isNothing_1$1,isObject:isObject_1$1,toArray:toArray_1$1,repeat:repeat_1$1,isNegativeZero:isNegativeZero_1$1,extend:extend_1$1};function formatError$1(nt,rt){var it="",st=nt.reason||"(unknown reason)";return nt.mark?(nt.mark.name&&(it+='in "'+nt.mark.name+'" '),it+="("+(nt.mark.line+1)+":"+(nt.mark.column+1)+")",!rt&&nt.mark.snippet&&(it+=`

`+nt.mark.snippet),st+" "+it):st}function YAMLException$1$1(nt,rt){Error.call(this),this.name="YAMLException",this.reason=nt,this.mark=rt,this.message=formatError$1(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1$1.prototype=Object.create(Error.prototype);YAMLException$1$1.prototype.constructor=YAMLException$1$1;YAMLException$1$1.prototype.toString=function(rt){return this.name+": "+formatError$1(this,rt)};var exception$1=YAMLException$1$1;function getLine$1(nt,rt,it,st,bt){var wt="",Et="",Tt=Math.floor(bt/2)-1;return st-rt>Tt&&(wt=" ... ",rt=st-Tt+wt.length),it-st>Tt&&(Et=" ...",it=st+Tt-Et.length),{str:wt+nt.slice(rt,it).replace(/\t/g,"\u2192")+Et,pos:st-rt+wt.length}}function padStart$1(nt,rt){return common$2.repeat(" ",rt-nt.length)+nt}function makeSnippet$1(nt,rt){if(rt=Object.create(rt||null),!nt.buffer)return null;rt.maxLength||(rt.maxLength=79),typeof rt.indent!="number"&&(rt.indent=1),typeof rt.linesBefore!="number"&&(rt.linesBefore=3),typeof rt.linesAfter!="number"&&(rt.linesAfter=2);for(var it=/\r?\n|\r|\0/g,st=[0],bt=[],wt,Et=-1;wt=it.exec(nt.buffer);)bt.push(wt.index),st.push(wt.index+wt[0].length),nt.position<=wt.index&&Et<0&&(Et=st.length-2);Et<0&&(Et=st.length-1);var Tt="",At,Dt,Ot=Math.min(nt.line+rt.linesAfter,bt.length).toString().length,zt=rt.maxLength-(rt.indent+Ot+3);for(At=1;At<=rt.linesBefore&&!(Et-At<0);At++)Dt=getLine$1(nt.buffer,st[Et-At],bt[Et-At],nt.position-(st[Et]-st[Et-At]),zt),Tt=common$2.repeat(" ",rt.indent)+padStart$1((nt.line-At+1).toString(),Ot)+" | "+Dt.str+`
`+Tt;for(Dt=getLine$1(nt.buffer,st[Et],bt[Et],nt.position,zt),Tt+=common$2.repeat(" ",rt.indent)+padStart$1((nt.line+1).toString(),Ot)+" | "+Dt.str+`
`,Tt+=common$2.repeat("-",rt.indent+Ot+3+Dt.pos)+`^
`,At=1;At<=rt.linesAfter&&!(Et+At>=bt.length);At++)Dt=getLine$1(nt.buffer,st[Et+At],bt[Et+At],nt.position-(st[Et]-st[Et+At]),zt),Tt+=common$2.repeat(" ",rt.indent)+padStart$1((nt.line+At+1).toString(),Ot)+" | "+Dt.str+`
`;return Tt.replace(/\n$/,"")}var snippet$1=makeSnippet$1,TYPE_CONSTRUCTOR_OPTIONS$1=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS$1=["scalar","sequence","mapping"];function compileStyleAliases$1(nt){var rt={};return nt!==null&&Object.keys(nt).forEach(function(it){nt[it].forEach(function(st){rt[String(st)]=it})}),rt}function Type$1$1(nt,rt){if(rt=rt||{},Object.keys(rt).forEach(function(it){if(TYPE_CONSTRUCTOR_OPTIONS$1.indexOf(it)===-1)throw new exception$1('Unknown option "'+it+'" is met in definition of "'+nt+'" YAML type.')}),this.options=rt,this.tag=nt,this.kind=rt.kind||null,this.resolve=rt.resolve||function(){return!0},this.construct=rt.construct||function(it){return it},this.instanceOf=rt.instanceOf||null,this.predicate=rt.predicate||null,this.represent=rt.represent||null,this.representName=rt.representName||null,this.defaultStyle=rt.defaultStyle||null,this.multi=rt.multi||!1,this.styleAliases=compileStyleAliases$1(rt.styleAliases||null),YAML_NODE_KINDS$1.indexOf(this.kind)===-1)throw new exception$1('Unknown kind "'+this.kind+'" is specified for "'+nt+'" YAML type.')}var type$1=Type$1$1;function compileList$1(nt,rt){var it=[];return nt[rt].forEach(function(st){var bt=it.length;it.forEach(function(wt,Et){wt.tag===st.tag&&wt.kind===st.kind&&wt.multi===st.multi&&(bt=Et)}),it[bt]=st}),it}function compileMap$1(){var nt={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},rt,it;function st(bt){bt.multi?(nt.multi[bt.kind].push(bt),nt.multi.fallback.push(bt)):nt[bt.kind][bt.tag]=nt.fallback[bt.tag]=bt}for(rt=0,it=arguments.length;rt<it;rt+=1)arguments[rt].forEach(st);return nt}function Schema$1$1(nt){return this.extend(nt)}Schema$1$1.prototype.extend=function(rt){var it=[],st=[];if(rt instanceof type$1)st.push(rt);else if(Array.isArray(rt))st=st.concat(rt);else if(rt&&(Array.isArray(rt.implicit)||Array.isArray(rt.explicit)))rt.implicit&&(it=it.concat(rt.implicit)),rt.explicit&&(st=st.concat(rt.explicit));else throw new exception$1("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");it.forEach(function(wt){if(!(wt instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(wt.loadKind&&wt.loadKind!=="scalar")throw new exception$1("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(wt.multi)throw new exception$1("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),st.forEach(function(wt){if(!(wt instanceof type$1))throw new exception$1("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var bt=Object.create(Schema$1$1.prototype);return bt.implicit=(this.implicit||[]).concat(it),bt.explicit=(this.explicit||[]).concat(st),bt.compiledImplicit=compileList$1(bt,"implicit"),bt.compiledExplicit=compileList$1(bt,"explicit"),bt.compiledTypeMap=compileMap$1(bt.compiledImplicit,bt.compiledExplicit),bt};var schema$1=Schema$1$1,str$1=new type$1("tag:yaml.org,2002:str",{kind:"scalar",construct:function(nt){return nt!==null?nt:""}}),seq$2=new type$1("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(nt){return nt!==null?nt:[]}}),map$3=new type$1("tag:yaml.org,2002:map",{kind:"mapping",construct:function(nt){return nt!==null?nt:{}}}),failsafe$1=new schema$1({explicit:[str$1,seq$2,map$3]});function resolveYamlNull$1(nt){if(nt===null)return!0;var rt=nt.length;return rt===1&&nt==="~"||rt===4&&(nt==="null"||nt==="Null"||nt==="NULL")}function constructYamlNull$1(){return null}function isNull$1(nt){return nt===null}var _null$1=new type$1("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull$1,construct:constructYamlNull$1,predicate:isNull$1,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean$1(nt){if(nt===null)return!1;var rt=nt.length;return rt===4&&(nt==="true"||nt==="True"||nt==="TRUE")||rt===5&&(nt==="false"||nt==="False"||nt==="FALSE")}function constructYamlBoolean$1(nt){return nt==="true"||nt==="True"||nt==="TRUE"}function isBoolean$1(nt){return Object.prototype.toString.call(nt)==="[object Boolean]"}var bool$1=new type$1("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean$1,construct:constructYamlBoolean$1,predicate:isBoolean$1,represent:{lowercase:function(nt){return nt?"true":"false"},uppercase:function(nt){return nt?"TRUE":"FALSE"},camelcase:function(nt){return nt?"True":"False"}},defaultStyle:"lowercase"});function isHexCode$1(nt){return 48<=nt&&nt<=57||65<=nt&&nt<=70||97<=nt&&nt<=102}function isOctCode$1(nt){return 48<=nt&&nt<=55}function isDecCode$1(nt){return 48<=nt&&nt<=57}function resolveYamlInteger$1(nt){if(nt===null)return!1;var rt=nt.length,it=0,st=!1,bt;if(!rt)return!1;if(bt=nt[it],(bt==="-"||bt==="+")&&(bt=nt[++it]),bt==="0"){if(it+1===rt)return!0;if(bt=nt[++it],bt==="b"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(bt!=="0"&&bt!=="1")return!1;st=!0}return st&&bt!=="_"}if(bt==="x"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isHexCode$1(nt.charCodeAt(it)))return!1;st=!0}return st&&bt!=="_"}if(bt==="o"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isOctCode$1(nt.charCodeAt(it)))return!1;st=!0}return st&&bt!=="_"}}if(bt==="_")return!1;for(;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isDecCode$1(nt.charCodeAt(it)))return!1;st=!0}return!(!st||bt==="_")}function constructYamlInteger$1(nt){var rt=nt,it=1,st;if(rt.indexOf("_")!==-1&&(rt=rt.replace(/_/g,"")),st=rt[0],(st==="-"||st==="+")&&(st==="-"&&(it=-1),rt=rt.slice(1),st=rt[0]),rt==="0")return 0;if(st==="0"){if(rt[1]==="b")return it*parseInt(rt.slice(2),2);if(rt[1]==="x")return it*parseInt(rt.slice(2),16);if(rt[1]==="o")return it*parseInt(rt.slice(2),8)}return it*parseInt(rt,10)}function isInteger$2(nt){return Object.prototype.toString.call(nt)==="[object Number]"&&nt%1===0&&!common$2.isNegativeZero(nt)}var int$1=new type$1("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger$1,construct:constructYamlInteger$1,predicate:isInteger$2,represent:{binary:function(nt){return nt>=0?"0b"+nt.toString(2):"-0b"+nt.toString(2).slice(1)},octal:function(nt){return nt>=0?"0o"+nt.toString(8):"-0o"+nt.toString(8).slice(1)},decimal:function(nt){return nt.toString(10)},hexadecimal:function(nt){return nt>=0?"0x"+nt.toString(16).toUpperCase():"-0x"+nt.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN$1=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat$1(nt){return!(nt===null||!YAML_FLOAT_PATTERN$1.test(nt)||nt[nt.length-1]==="_")}function constructYamlFloat$1(nt){var rt,it;return rt=nt.replace(/_/g,"").toLowerCase(),it=rt[0]==="-"?-1:1,"+-".indexOf(rt[0])>=0&&(rt=rt.slice(1)),rt===".inf"?it===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:rt===".nan"?NaN:it*parseFloat(rt,10)}var SCIENTIFIC_WITHOUT_DOT$1=/^[-+]?[0-9]+e/;function representYamlFloat$1(nt,rt){var it;if(isNaN(nt))switch(rt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===nt)switch(rt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===nt)switch(rt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(nt))return"-0.0";return it=nt.toString(10),SCIENTIFIC_WITHOUT_DOT$1.test(it)?it.replace("e",".e"):it}function isFloat$1(nt){return Object.prototype.toString.call(nt)==="[object Number]"&&(nt%1!==0||common$2.isNegativeZero(nt))}var float$1=new type$1("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat$1,construct:constructYamlFloat$1,predicate:isFloat$1,represent:representYamlFloat$1,defaultStyle:"lowercase"}),json$1=failsafe$1.extend({implicit:[_null$1,bool$1,int$1,float$1]}),core$1=json$1,YAML_DATE_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP$1=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp$1(nt){return nt===null?!1:YAML_DATE_REGEXP$1.exec(nt)!==null||YAML_TIMESTAMP_REGEXP$1.exec(nt)!==null}function constructYamlTimestamp$1(nt){var rt,it,st,bt,wt,Et,Tt,At=0,Dt=null,Ot,zt,$t;if(rt=YAML_DATE_REGEXP$1.exec(nt),rt===null&&(rt=YAML_TIMESTAMP_REGEXP$1.exec(nt)),rt===null)throw new Error("Date resolve error");if(it=+rt[1],st=+rt[2]-1,bt=+rt[3],!rt[4])return new Date(Date.UTC(it,st,bt));if(wt=+rt[4],Et=+rt[5],Tt=+rt[6],rt[7]){for(At=rt[7].slice(0,3);At.length<3;)At+="0";At=+At}return rt[9]&&(Ot=+rt[10],zt=+(rt[11]||0),Dt=(Ot*60+zt)*6e4,rt[9]==="-"&&(Dt=-Dt)),$t=new Date(Date.UTC(it,st,bt,wt,Et,Tt,At)),Dt&&$t.setTime($t.getTime()-Dt),$t}function representYamlTimestamp$1(nt){return nt.toISOString()}var timestamp$1=new type$1("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp$1,construct:constructYamlTimestamp$1,instanceOf:Date,represent:representYamlTimestamp$1});function resolveYamlMerge$1(nt){return nt==="<<"||nt===null}var merge$4=new type$1("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge$1}),BASE64_MAP$1=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary$1(nt){if(nt===null)return!1;var rt,it,st=0,bt=nt.length,wt=BASE64_MAP$1;for(it=0;it<bt;it++)if(rt=wt.indexOf(nt.charAt(it)),!(rt>64)){if(rt<0)return!1;st+=6}return st%8===0}function constructYamlBinary$1(nt){var rt,it,st=nt.replace(/[\r\n=]/g,""),bt=st.length,wt=BASE64_MAP$1,Et=0,Tt=[];for(rt=0;rt<bt;rt++)rt%4===0&&rt&&(Tt.push(Et>>16&255),Tt.push(Et>>8&255),Tt.push(Et&255)),Et=Et<<6|wt.indexOf(st.charAt(rt));return it=bt%4*6,it===0?(Tt.push(Et>>16&255),Tt.push(Et>>8&255),Tt.push(Et&255)):it===18?(Tt.push(Et>>10&255),Tt.push(Et>>2&255)):it===12&&Tt.push(Et>>4&255),new Uint8Array(Tt)}function representYamlBinary$1(nt){var rt="",it=0,st,bt,wt=nt.length,Et=BASE64_MAP$1;for(st=0;st<wt;st++)st%3===0&&st&&(rt+=Et[it>>18&63],rt+=Et[it>>12&63],rt+=Et[it>>6&63],rt+=Et[it&63]),it=(it<<8)+nt[st];return bt=wt%3,bt===0?(rt+=Et[it>>18&63],rt+=Et[it>>12&63],rt+=Et[it>>6&63],rt+=Et[it&63]):bt===2?(rt+=Et[it>>10&63],rt+=Et[it>>4&63],rt+=Et[it<<2&63],rt+=Et[64]):bt===1&&(rt+=Et[it>>2&63],rt+=Et[it<<4&63],rt+=Et[64],rt+=Et[64]),rt}function isBinary$1(nt){return Object.prototype.toString.call(nt)==="[object Uint8Array]"}var binary$1=new type$1("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary$1,construct:constructYamlBinary$1,predicate:isBinary$1,represent:representYamlBinary$1}),_hasOwnProperty$3$1=Object.prototype.hasOwnProperty,_toString$2$1=Object.prototype.toString;function resolveYamlOmap$1(nt){if(nt===null)return!0;var rt=[],it,st,bt,wt,Et,Tt=nt;for(it=0,st=Tt.length;it<st;it+=1){if(bt=Tt[it],Et=!1,_toString$2$1.call(bt)!=="[object Object]")return!1;for(wt in bt)if(_hasOwnProperty$3$1.call(bt,wt))if(!Et)Et=!0;else return!1;if(!Et)return!1;if(rt.indexOf(wt)===-1)rt.push(wt);else return!1}return!0}function constructYamlOmap$1(nt){return nt!==null?nt:[]}var omap$1=new type$1("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap$1,construct:constructYamlOmap$1}),_toString$1$1=Object.prototype.toString;function resolveYamlPairs$1(nt){if(nt===null)return!0;var rt,it,st,bt,wt,Et=nt;for(wt=new Array(Et.length),rt=0,it=Et.length;rt<it;rt+=1){if(st=Et[rt],_toString$1$1.call(st)!=="[object Object]"||(bt=Object.keys(st),bt.length!==1))return!1;wt[rt]=[bt[0],st[bt[0]]]}return!0}function constructYamlPairs$1(nt){if(nt===null)return[];var rt,it,st,bt,wt,Et=nt;for(wt=new Array(Et.length),rt=0,it=Et.length;rt<it;rt+=1)st=Et[rt],bt=Object.keys(st),wt[rt]=[bt[0],st[bt[0]]];return wt}var pairs$1=new type$1("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs$1,construct:constructYamlPairs$1}),_hasOwnProperty$2$1=Object.prototype.hasOwnProperty;function resolveYamlSet$1(nt){if(nt===null)return!0;var rt,it=nt;for(rt in it)if(_hasOwnProperty$2$1.call(it,rt)&&it[rt]!==null)return!1;return!0}function constructYamlSet$1(nt){return nt!==null?nt:{}}var set$3=new type$1("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet$1,construct:constructYamlSet$1}),_default$1=core$1.extend({implicit:[timestamp$1,merge$4],explicit:[binary$1,omap$1,pairs$1,set$3]}),_hasOwnProperty$1$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN$1=1,CONTEXT_FLOW_OUT$1=2,CONTEXT_BLOCK_IN$1=3,CONTEXT_BLOCK_OUT$1=4,CHOMPING_CLIP$1=1,CHOMPING_STRIP$1=2,CHOMPING_KEEP$1=3,PATTERN_NON_PRINTABLE$1=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS$1=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS$1=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE$1=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI$1=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class$1(nt){return Object.prototype.toString.call(nt)}function is_EOL$1(nt){return nt===10||nt===13}function is_WHITE_SPACE$1(nt){return nt===9||nt===32}function is_WS_OR_EOL$1(nt){return nt===9||nt===32||nt===10||nt===13}function is_FLOW_INDICATOR$1(nt){return nt===44||nt===91||nt===93||nt===123||nt===125}function fromHexCode$1(nt){var rt;return 48<=nt&&nt<=57?nt-48:(rt=nt|32,97<=rt&&rt<=102?rt-97+10:-1)}function escapedHexLen$1(nt){return nt===120?2:nt===117?4:nt===85?8:0}function fromDecimalCode$1(nt){return 48<=nt&&nt<=57?nt-48:-1}function simpleEscapeSequence$1(nt){return nt===48?"\0":nt===97?"\x07":nt===98?"\b":nt===116||nt===9?"	":nt===110?`
`:nt===118?"\v":nt===102?"\f":nt===114?"\r":nt===101?"\x1B":nt===32?" ":nt===34?'"':nt===47?"/":nt===92?"\\":nt===78?"\x85":nt===95?"\xA0":nt===76?"\u2028":nt===80?"\u2029":""}function charFromCodepoint$1(nt){return nt<=65535?String.fromCharCode(nt):String.fromCharCode((nt-65536>>10)+55296,(nt-65536&1023)+56320)}var simpleEscapeCheck$1=new Array(256),simpleEscapeMap$1=new Array(256);for(var i$5=0;i$5<256;i$5++)simpleEscapeCheck$1[i$5]=simpleEscapeSequence$1(i$5)?1:0,simpleEscapeMap$1[i$5]=simpleEscapeSequence$1(i$5);function State$1$1(nt,rt){this.input=nt,this.filename=rt.filename||null,this.schema=rt.schema||_default$1,this.onWarning=rt.onWarning||null,this.legacy=rt.legacy||!1,this.json=rt.json||!1,this.listener=rt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=nt.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError$1(nt,rt){var it={name:nt.filename,buffer:nt.input.slice(0,-1),position:nt.position,line:nt.line,column:nt.position-nt.lineStart};return it.snippet=snippet$1(it),new exception$1(rt,it)}function throwError$1(nt,rt){throw generateError$1(nt,rt)}function throwWarning$1(nt,rt){nt.onWarning&&nt.onWarning.call(null,generateError$1(nt,rt))}var directiveHandlers$1={YAML:function(rt,it,st){var bt,wt,Et;rt.version!==null&&throwError$1(rt,"duplication of %YAML directive"),st.length!==1&&throwError$1(rt,"YAML directive accepts exactly one argument"),bt=/^([0-9]+)\.([0-9]+)$/.exec(st[0]),bt===null&&throwError$1(rt,"ill-formed argument of the YAML directive"),wt=parseInt(bt[1],10),Et=parseInt(bt[2],10),wt!==1&&throwError$1(rt,"unacceptable YAML version of the document"),rt.version=st[0],rt.checkLineBreaks=Et<2,Et!==1&&Et!==2&&throwWarning$1(rt,"unsupported YAML version of the document")},TAG:function(rt,it,st){var bt,wt;st.length!==2&&throwError$1(rt,"TAG directive accepts exactly two arguments"),bt=st[0],wt=st[1],PATTERN_TAG_HANDLE$1.test(bt)||throwError$1(rt,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1$1.call(rt.tagMap,bt)&&throwError$1(rt,'there is a previously declared suffix for "'+bt+'" tag handle'),PATTERN_TAG_URI$1.test(wt)||throwError$1(rt,"ill-formed tag prefix (second argument) of the TAG directive");try{wt=decodeURIComponent(wt)}catch{throwError$1(rt,"tag prefix is malformed: "+wt)}rt.tagMap[bt]=wt}};function captureSegment$1(nt,rt,it,st){var bt,wt,Et,Tt;if(rt<it){if(Tt=nt.input.slice(rt,it),st)for(bt=0,wt=Tt.length;bt<wt;bt+=1)Et=Tt.charCodeAt(bt),Et===9||32<=Et&&Et<=1114111||throwError$1(nt,"expected valid JSON character");else PATTERN_NON_PRINTABLE$1.test(Tt)&&throwError$1(nt,"the stream contains non-printable characters");nt.result+=Tt}}function mergeMappings$1(nt,rt,it,st){var bt,wt,Et,Tt;for(common$2.isObject(it)||throwError$1(nt,"cannot merge mappings; the provided source object is unacceptable"),bt=Object.keys(it),Et=0,Tt=bt.length;Et<Tt;Et+=1)wt=bt[Et],_hasOwnProperty$1$1.call(rt,wt)||(rt[wt]=it[wt],st[wt]=!0)}function storeMappingPair$1(nt,rt,it,st,bt,wt,Et,Tt,At){var Dt,Ot;if(Array.isArray(bt))for(bt=Array.prototype.slice.call(bt),Dt=0,Ot=bt.length;Dt<Ot;Dt+=1)Array.isArray(bt[Dt])&&throwError$1(nt,"nested arrays are not supported inside keys"),typeof bt=="object"&&_class$1(bt[Dt])==="[object Object]"&&(bt[Dt]="[object Object]");if(typeof bt=="object"&&_class$1(bt)==="[object Object]"&&(bt="[object Object]"),bt=String(bt),rt===null&&(rt={}),st==="tag:yaml.org,2002:merge")if(Array.isArray(wt))for(Dt=0,Ot=wt.length;Dt<Ot;Dt+=1)mergeMappings$1(nt,rt,wt[Dt],it);else mergeMappings$1(nt,rt,wt,it);else!nt.json&&!_hasOwnProperty$1$1.call(it,bt)&&_hasOwnProperty$1$1.call(rt,bt)&&(nt.line=Et||nt.line,nt.lineStart=Tt||nt.lineStart,nt.position=At||nt.position,throwError$1(nt,"duplicated mapping key")),bt==="__proto__"?Object.defineProperty(rt,bt,{configurable:!0,enumerable:!0,writable:!0,value:wt}):rt[bt]=wt,delete it[bt];return rt}function readLineBreak$1(nt){var rt;rt=nt.input.charCodeAt(nt.position),rt===10?nt.position++:rt===13?(nt.position++,nt.input.charCodeAt(nt.position)===10&&nt.position++):throwError$1(nt,"a line break is expected"),nt.line+=1,nt.lineStart=nt.position,nt.firstTabInLine=-1}function skipSeparationSpace$1(nt,rt,it){for(var st=0,bt=nt.input.charCodeAt(nt.position);bt!==0;){for(;is_WHITE_SPACE$1(bt);)bt===9&&nt.firstTabInLine===-1&&(nt.firstTabInLine=nt.position),bt=nt.input.charCodeAt(++nt.position);if(rt&&bt===35)do bt=nt.input.charCodeAt(++nt.position);while(bt!==10&&bt!==13&&bt!==0);if(is_EOL$1(bt))for(readLineBreak$1(nt),bt=nt.input.charCodeAt(nt.position),st++,nt.lineIndent=0;bt===32;)nt.lineIndent++,bt=nt.input.charCodeAt(++nt.position);else break}return it!==-1&&st!==0&&nt.lineIndent<it&&throwWarning$1(nt,"deficient indentation"),st}function testDocumentSeparator$1(nt){var rt=nt.position,it;return it=nt.input.charCodeAt(rt),!!((it===45||it===46)&&it===nt.input.charCodeAt(rt+1)&&it===nt.input.charCodeAt(rt+2)&&(rt+=3,it=nt.input.charCodeAt(rt),it===0||is_WS_OR_EOL$1(it)))}function writeFoldedLines$1(nt,rt){rt===1?nt.result+=" ":rt>1&&(nt.result+=common$2.repeat(`
`,rt-1))}function readPlainScalar$1(nt,rt,it){var st,bt,wt,Et,Tt,At,Dt,Ot,zt=nt.kind,$t=nt.result,Bt;if(Bt=nt.input.charCodeAt(nt.position),is_WS_OR_EOL$1(Bt)||is_FLOW_INDICATOR$1(Bt)||Bt===35||Bt===38||Bt===42||Bt===33||Bt===124||Bt===62||Bt===39||Bt===34||Bt===37||Bt===64||Bt===96||(Bt===63||Bt===45)&&(bt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL$1(bt)||it&&is_FLOW_INDICATOR$1(bt)))return!1;for(nt.kind="scalar",nt.result="",wt=Et=nt.position,Tt=!1;Bt!==0;){if(Bt===58){if(bt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL$1(bt)||it&&is_FLOW_INDICATOR$1(bt))break}else if(Bt===35){if(st=nt.input.charCodeAt(nt.position-1),is_WS_OR_EOL$1(st))break}else{if(nt.position===nt.lineStart&&testDocumentSeparator$1(nt)||it&&is_FLOW_INDICATOR$1(Bt))break;if(is_EOL$1(Bt))if(At=nt.line,Dt=nt.lineStart,Ot=nt.lineIndent,skipSeparationSpace$1(nt,!1,-1),nt.lineIndent>=rt){Tt=!0,Bt=nt.input.charCodeAt(nt.position);continue}else{nt.position=Et,nt.line=At,nt.lineStart=Dt,nt.lineIndent=Ot;break}}Tt&&(captureSegment$1(nt,wt,Et,!1),writeFoldedLines$1(nt,nt.line-At),wt=Et=nt.position,Tt=!1),is_WHITE_SPACE$1(Bt)||(Et=nt.position+1),Bt=nt.input.charCodeAt(++nt.position)}return captureSegment$1(nt,wt,Et,!1),nt.result?!0:(nt.kind=zt,nt.result=$t,!1)}function readSingleQuotedScalar$1(nt,rt){var it,st,bt;if(it=nt.input.charCodeAt(nt.position),it!==39)return!1;for(nt.kind="scalar",nt.result="",nt.position++,st=bt=nt.position;(it=nt.input.charCodeAt(nt.position))!==0;)if(it===39)if(captureSegment$1(nt,st,nt.position,!0),it=nt.input.charCodeAt(++nt.position),it===39)st=nt.position,nt.position++,bt=nt.position;else return!0;else is_EOL$1(it)?(captureSegment$1(nt,st,bt,!0),writeFoldedLines$1(nt,skipSeparationSpace$1(nt,!1,rt)),st=bt=nt.position):nt.position===nt.lineStart&&testDocumentSeparator$1(nt)?throwError$1(nt,"unexpected end of the document within a single quoted scalar"):(nt.position++,bt=nt.position);throwError$1(nt,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar$1(nt,rt){var it,st,bt,wt,Et,Tt;if(Tt=nt.input.charCodeAt(nt.position),Tt!==34)return!1;for(nt.kind="scalar",nt.result="",nt.position++,it=st=nt.position;(Tt=nt.input.charCodeAt(nt.position))!==0;){if(Tt===34)return captureSegment$1(nt,it,nt.position,!0),nt.position++,!0;if(Tt===92){if(captureSegment$1(nt,it,nt.position,!0),Tt=nt.input.charCodeAt(++nt.position),is_EOL$1(Tt))skipSeparationSpace$1(nt,!1,rt);else if(Tt<256&&simpleEscapeCheck$1[Tt])nt.result+=simpleEscapeMap$1[Tt],nt.position++;else if((Et=escapedHexLen$1(Tt))>0){for(bt=Et,wt=0;bt>0;bt--)Tt=nt.input.charCodeAt(++nt.position),(Et=fromHexCode$1(Tt))>=0?wt=(wt<<4)+Et:throwError$1(nt,"expected hexadecimal character");nt.result+=charFromCodepoint$1(wt),nt.position++}else throwError$1(nt,"unknown escape sequence");it=st=nt.position}else is_EOL$1(Tt)?(captureSegment$1(nt,it,st,!0),writeFoldedLines$1(nt,skipSeparationSpace$1(nt,!1,rt)),it=st=nt.position):nt.position===nt.lineStart&&testDocumentSeparator$1(nt)?throwError$1(nt,"unexpected end of the document within a double quoted scalar"):(nt.position++,st=nt.position)}throwError$1(nt,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection$1(nt,rt){var it=!0,st,bt,wt,Et=nt.tag,Tt,At=nt.anchor,Dt,Ot,zt,$t,Bt,Yt=Object.create(null),Xt,Ht,Qt,Zt;if(Zt=nt.input.charCodeAt(nt.position),Zt===91)Ot=93,Bt=!1,Tt=[];else if(Zt===123)Ot=125,Bt=!0,Tt={};else return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=Tt),Zt=nt.input.charCodeAt(++nt.position);Zt!==0;){if(skipSeparationSpace$1(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),Zt===Ot)return nt.position++,nt.tag=Et,nt.anchor=At,nt.kind=Bt?"mapping":"sequence",nt.result=Tt,!0;it?Zt===44&&throwError$1(nt,"expected the node content, but found ','"):throwError$1(nt,"missed comma between flow collection entries"),Ht=Xt=Qt=null,zt=$t=!1,Zt===63&&(Dt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL$1(Dt)&&(zt=$t=!0,nt.position++,skipSeparationSpace$1(nt,!0,rt))),st=nt.line,bt=nt.lineStart,wt=nt.position,composeNode$1(nt,rt,CONTEXT_FLOW_IN$1,!1,!0),Ht=nt.tag,Xt=nt.result,skipSeparationSpace$1(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),($t||nt.line===st)&&Zt===58&&(zt=!0,Zt=nt.input.charCodeAt(++nt.position),skipSeparationSpace$1(nt,!0,rt),composeNode$1(nt,rt,CONTEXT_FLOW_IN$1,!1,!0),Qt=nt.result),Bt?storeMappingPair$1(nt,Tt,Yt,Ht,Xt,Qt,st,bt,wt):zt?Tt.push(storeMappingPair$1(nt,null,Yt,Ht,Xt,Qt,st,bt,wt)):Tt.push(Xt),skipSeparationSpace$1(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),Zt===44?(it=!0,Zt=nt.input.charCodeAt(++nt.position)):it=!1}throwError$1(nt,"unexpected end of the stream within a flow collection")}function readBlockScalar$1(nt,rt){var it,st,bt=CHOMPING_CLIP$1,wt=!1,Et=!1,Tt=rt,At=0,Dt=!1,Ot,zt;if(zt=nt.input.charCodeAt(nt.position),zt===124)st=!1;else if(zt===62)st=!0;else return!1;for(nt.kind="scalar",nt.result="";zt!==0;)if(zt=nt.input.charCodeAt(++nt.position),zt===43||zt===45)CHOMPING_CLIP$1===bt?bt=zt===43?CHOMPING_KEEP$1:CHOMPING_STRIP$1:throwError$1(nt,"repeat of a chomping mode identifier");else if((Ot=fromDecimalCode$1(zt))>=0)Ot===0?throwError$1(nt,"bad explicit indentation width of a block scalar; it cannot be less than one"):Et?throwError$1(nt,"repeat of an indentation width identifier"):(Tt=rt+Ot-1,Et=!0);else break;if(is_WHITE_SPACE$1(zt)){do zt=nt.input.charCodeAt(++nt.position);while(is_WHITE_SPACE$1(zt));if(zt===35)do zt=nt.input.charCodeAt(++nt.position);while(!is_EOL$1(zt)&&zt!==0)}for(;zt!==0;){for(readLineBreak$1(nt),nt.lineIndent=0,zt=nt.input.charCodeAt(nt.position);(!Et||nt.lineIndent<Tt)&&zt===32;)nt.lineIndent++,zt=nt.input.charCodeAt(++nt.position);if(!Et&&nt.lineIndent>Tt&&(Tt=nt.lineIndent),is_EOL$1(zt)){At++;continue}if(nt.lineIndent<Tt){bt===CHOMPING_KEEP$1?nt.result+=common$2.repeat(`
`,wt?1+At:At):bt===CHOMPING_CLIP$1&&wt&&(nt.result+=`
`);break}for(st?is_WHITE_SPACE$1(zt)?(Dt=!0,nt.result+=common$2.repeat(`
`,wt?1+At:At)):Dt?(Dt=!1,nt.result+=common$2.repeat(`
`,At+1)):At===0?wt&&(nt.result+=" "):nt.result+=common$2.repeat(`
`,At):nt.result+=common$2.repeat(`
`,wt?1+At:At),wt=!0,Et=!0,At=0,it=nt.position;!is_EOL$1(zt)&&zt!==0;)zt=nt.input.charCodeAt(++nt.position);captureSegment$1(nt,it,nt.position,!1)}return!0}function readBlockSequence$1(nt,rt){var it,st=nt.tag,bt=nt.anchor,wt=[],Et,Tt=!1,At;if(nt.firstTabInLine!==-1)return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=wt),At=nt.input.charCodeAt(nt.position);At!==0&&(nt.firstTabInLine!==-1&&(nt.position=nt.firstTabInLine,throwError$1(nt,"tab characters must not be used in indentation")),!(At!==45||(Et=nt.input.charCodeAt(nt.position+1),!is_WS_OR_EOL$1(Et))));){if(Tt=!0,nt.position++,skipSeparationSpace$1(nt,!0,-1)&&nt.lineIndent<=rt){wt.push(null),At=nt.input.charCodeAt(nt.position);continue}if(it=nt.line,composeNode$1(nt,rt,CONTEXT_BLOCK_IN$1,!1,!0),wt.push(nt.result),skipSeparationSpace$1(nt,!0,-1),At=nt.input.charCodeAt(nt.position),(nt.line===it||nt.lineIndent>rt)&&At!==0)throwError$1(nt,"bad indentation of a sequence entry");else if(nt.lineIndent<rt)break}return Tt?(nt.tag=st,nt.anchor=bt,nt.kind="sequence",nt.result=wt,!0):!1}function readBlockMapping$1(nt,rt,it){var st,bt,wt,Et,Tt,At,Dt=nt.tag,Ot=nt.anchor,zt={},$t=Object.create(null),Bt=null,Yt=null,Xt=null,Ht=!1,Qt=!1,Zt;if(nt.firstTabInLine!==-1)return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=zt),Zt=nt.input.charCodeAt(nt.position);Zt!==0;){if(!Ht&&nt.firstTabInLine!==-1&&(nt.position=nt.firstTabInLine,throwError$1(nt,"tab characters must not be used in indentation")),st=nt.input.charCodeAt(nt.position+1),wt=nt.line,(Zt===63||Zt===58)&&is_WS_OR_EOL$1(st))Zt===63?(Ht&&(storeMappingPair$1(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Bt=Yt=Xt=null),Qt=!0,Ht=!0,bt=!0):Ht?(Ht=!1,bt=!0):throwError$1(nt,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),nt.position+=1,Zt=st;else{if(Et=nt.line,Tt=nt.lineStart,At=nt.position,!composeNode$1(nt,it,CONTEXT_FLOW_OUT$1,!1,!0))break;if(nt.line===wt){for(Zt=nt.input.charCodeAt(nt.position);is_WHITE_SPACE$1(Zt);)Zt=nt.input.charCodeAt(++nt.position);if(Zt===58)Zt=nt.input.charCodeAt(++nt.position),is_WS_OR_EOL$1(Zt)||throwError$1(nt,"a whitespace character is expected after the key-value separator within a block mapping"),Ht&&(storeMappingPair$1(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Bt=Yt=Xt=null),Qt=!0,Ht=!1,bt=!1,Bt=nt.tag,Yt=nt.result;else if(Qt)throwError$1(nt,"can not read an implicit mapping pair; a colon is missed");else return nt.tag=Dt,nt.anchor=Ot,!0}else if(Qt)throwError$1(nt,"can not read a block mapping entry; a multiline key may not be an implicit key");else return nt.tag=Dt,nt.anchor=Ot,!0}if((nt.line===wt||nt.lineIndent>rt)&&(Ht&&(Et=nt.line,Tt=nt.lineStart,At=nt.position),composeNode$1(nt,rt,CONTEXT_BLOCK_OUT$1,!0,bt)&&(Ht?Yt=nt.result:Xt=nt.result),Ht||(storeMappingPair$1(nt,zt,$t,Bt,Yt,Xt,Et,Tt,At),Bt=Yt=Xt=null),skipSeparationSpace$1(nt,!0,-1),Zt=nt.input.charCodeAt(nt.position)),(nt.line===wt||nt.lineIndent>rt)&&Zt!==0)throwError$1(nt,"bad indentation of a mapping entry");else if(nt.lineIndent<rt)break}return Ht&&storeMappingPair$1(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Qt&&(nt.tag=Dt,nt.anchor=Ot,nt.kind="mapping",nt.result=zt),Qt}function readTagProperty$1(nt){var rt,it=!1,st=!1,bt,wt,Et;if(Et=nt.input.charCodeAt(nt.position),Et!==33)return!1;if(nt.tag!==null&&throwError$1(nt,"duplication of a tag property"),Et=nt.input.charCodeAt(++nt.position),Et===60?(it=!0,Et=nt.input.charCodeAt(++nt.position)):Et===33?(st=!0,bt="!!",Et=nt.input.charCodeAt(++nt.position)):bt="!",rt=nt.position,it){do Et=nt.input.charCodeAt(++nt.position);while(Et!==0&&Et!==62);nt.position<nt.length?(wt=nt.input.slice(rt,nt.position),Et=nt.input.charCodeAt(++nt.position)):throwError$1(nt,"unexpected end of the stream within a verbatim tag")}else{for(;Et!==0&&!is_WS_OR_EOL$1(Et);)Et===33&&(st?throwError$1(nt,"tag suffix cannot contain exclamation marks"):(bt=nt.input.slice(rt-1,nt.position+1),PATTERN_TAG_HANDLE$1.test(bt)||throwError$1(nt,"named tag handle cannot contain such characters"),st=!0,rt=nt.position+1)),Et=nt.input.charCodeAt(++nt.position);wt=nt.input.slice(rt,nt.position),PATTERN_FLOW_INDICATORS$1.test(wt)&&throwError$1(nt,"tag suffix cannot contain flow indicator characters")}wt&&!PATTERN_TAG_URI$1.test(wt)&&throwError$1(nt,"tag name cannot contain such characters: "+wt);try{wt=decodeURIComponent(wt)}catch{throwError$1(nt,"tag name is malformed: "+wt)}return it?nt.tag=wt:_hasOwnProperty$1$1.call(nt.tagMap,bt)?nt.tag=nt.tagMap[bt]+wt:bt==="!"?nt.tag="!"+wt:bt==="!!"?nt.tag="tag:yaml.org,2002:"+wt:throwError$1(nt,'undeclared tag handle "'+bt+'"'),!0}function readAnchorProperty$1(nt){var rt,it;if(it=nt.input.charCodeAt(nt.position),it!==38)return!1;for(nt.anchor!==null&&throwError$1(nt,"duplication of an anchor property"),it=nt.input.charCodeAt(++nt.position),rt=nt.position;it!==0&&!is_WS_OR_EOL$1(it)&&!is_FLOW_INDICATOR$1(it);)it=nt.input.charCodeAt(++nt.position);return nt.position===rt&&throwError$1(nt,"name of an anchor node must contain at least one character"),nt.anchor=nt.input.slice(rt,nt.position),!0}function readAlias$1(nt){var rt,it,st;if(st=nt.input.charCodeAt(nt.position),st!==42)return!1;for(st=nt.input.charCodeAt(++nt.position),rt=nt.position;st!==0&&!is_WS_OR_EOL$1(st)&&!is_FLOW_INDICATOR$1(st);)st=nt.input.charCodeAt(++nt.position);return nt.position===rt&&throwError$1(nt,"name of an alias node must contain at least one character"),it=nt.input.slice(rt,nt.position),_hasOwnProperty$1$1.call(nt.anchorMap,it)||throwError$1(nt,'unidentified alias "'+it+'"'),nt.result=nt.anchorMap[it],skipSeparationSpace$1(nt,!0,-1),!0}function composeNode$1(nt,rt,it,st,bt){var wt,Et,Tt,At=1,Dt=!1,Ot=!1,zt,$t,Bt,Yt,Xt,Ht;if(nt.listener!==null&&nt.listener("open",nt),nt.tag=null,nt.anchor=null,nt.kind=null,nt.result=null,wt=Et=Tt=CONTEXT_BLOCK_OUT$1===it||CONTEXT_BLOCK_IN$1===it,st&&skipSeparationSpace$1(nt,!0,-1)&&(Dt=!0,nt.lineIndent>rt?At=1:nt.lineIndent===rt?At=0:nt.lineIndent<rt&&(At=-1)),At===1)for(;readTagProperty$1(nt)||readAnchorProperty$1(nt);)skipSeparationSpace$1(nt,!0,-1)?(Dt=!0,Tt=wt,nt.lineIndent>rt?At=1:nt.lineIndent===rt?At=0:nt.lineIndent<rt&&(At=-1)):Tt=!1;if(Tt&&(Tt=Dt||bt),(At===1||CONTEXT_BLOCK_OUT$1===it)&&(CONTEXT_FLOW_IN$1===it||CONTEXT_FLOW_OUT$1===it?Xt=rt:Xt=rt+1,Ht=nt.position-nt.lineStart,At===1?Tt&&(readBlockSequence$1(nt,Ht)||readBlockMapping$1(nt,Ht,Xt))||readFlowCollection$1(nt,Xt)?Ot=!0:(Et&&readBlockScalar$1(nt,Xt)||readSingleQuotedScalar$1(nt,Xt)||readDoubleQuotedScalar$1(nt,Xt)?Ot=!0:readAlias$1(nt)?(Ot=!0,(nt.tag!==null||nt.anchor!==null)&&throwError$1(nt,"alias node should not have any properties")):readPlainScalar$1(nt,Xt,CONTEXT_FLOW_IN$1===it)&&(Ot=!0,nt.tag===null&&(nt.tag="?")),nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result)):At===0&&(Ot=Tt&&readBlockSequence$1(nt,Ht))),nt.tag===null)nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result);else if(nt.tag==="?"){for(nt.result!==null&&nt.kind!=="scalar"&&throwError$1(nt,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+nt.kind+'"'),zt=0,$t=nt.implicitTypes.length;zt<$t;zt+=1)if(Yt=nt.implicitTypes[zt],Yt.resolve(nt.result)){nt.result=Yt.construct(nt.result),nt.tag=Yt.tag,nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result);break}}else if(nt.tag!=="!"){if(_hasOwnProperty$1$1.call(nt.typeMap[nt.kind||"fallback"],nt.tag))Yt=nt.typeMap[nt.kind||"fallback"][nt.tag];else for(Yt=null,Bt=nt.typeMap.multi[nt.kind||"fallback"],zt=0,$t=Bt.length;zt<$t;zt+=1)if(nt.tag.slice(0,Bt[zt].tag.length)===Bt[zt].tag){Yt=Bt[zt];break}Yt||throwError$1(nt,"unknown tag !<"+nt.tag+">"),nt.result!==null&&Yt.kind!==nt.kind&&throwError$1(nt,"unacceptable node kind for !<"+nt.tag+'> tag; it should be "'+Yt.kind+'", not "'+nt.kind+'"'),Yt.resolve(nt.result,nt.tag)?(nt.result=Yt.construct(nt.result,nt.tag),nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result)):throwError$1(nt,"cannot resolve a node with !<"+nt.tag+"> explicit tag")}return nt.listener!==null&&nt.listener("close",nt),nt.tag!==null||nt.anchor!==null||Ot}function readDocument$1(nt){var rt=nt.position,it,st,bt,wt=!1,Et;for(nt.version=null,nt.checkLineBreaks=nt.legacy,nt.tagMap=Object.create(null),nt.anchorMap=Object.create(null);(Et=nt.input.charCodeAt(nt.position))!==0&&(skipSeparationSpace$1(nt,!0,-1),Et=nt.input.charCodeAt(nt.position),!(nt.lineIndent>0||Et!==37));){for(wt=!0,Et=nt.input.charCodeAt(++nt.position),it=nt.position;Et!==0&&!is_WS_OR_EOL$1(Et);)Et=nt.input.charCodeAt(++nt.position);for(st=nt.input.slice(it,nt.position),bt=[],st.length<1&&throwError$1(nt,"directive name must not be less than one character in length");Et!==0;){for(;is_WHITE_SPACE$1(Et);)Et=nt.input.charCodeAt(++nt.position);if(Et===35){do Et=nt.input.charCodeAt(++nt.position);while(Et!==0&&!is_EOL$1(Et));break}if(is_EOL$1(Et))break;for(it=nt.position;Et!==0&&!is_WS_OR_EOL$1(Et);)Et=nt.input.charCodeAt(++nt.position);bt.push(nt.input.slice(it,nt.position))}Et!==0&&readLineBreak$1(nt),_hasOwnProperty$1$1.call(directiveHandlers$1,st)?directiveHandlers$1[st](nt,st,bt):throwWarning$1(nt,'unknown document directive "'+st+'"')}if(skipSeparationSpace$1(nt,!0,-1),nt.lineIndent===0&&nt.input.charCodeAt(nt.position)===45&&nt.input.charCodeAt(nt.position+1)===45&&nt.input.charCodeAt(nt.position+2)===45?(nt.position+=3,skipSeparationSpace$1(nt,!0,-1)):wt&&throwError$1(nt,"directives end mark is expected"),composeNode$1(nt,nt.lineIndent-1,CONTEXT_BLOCK_OUT$1,!1,!0),skipSeparationSpace$1(nt,!0,-1),nt.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS$1.test(nt.input.slice(rt,nt.position))&&throwWarning$1(nt,"non-ASCII line breaks are interpreted as content"),nt.documents.push(nt.result),nt.position===nt.lineStart&&testDocumentSeparator$1(nt)){nt.input.charCodeAt(nt.position)===46&&(nt.position+=3,skipSeparationSpace$1(nt,!0,-1));return}if(nt.position<nt.length-1)throwError$1(nt,"end of the stream or a document separator is expected");else return}function loadDocuments$1(nt,rt){nt=String(nt),rt=rt||{},nt.length!==0&&(nt.charCodeAt(nt.length-1)!==10&&nt.charCodeAt(nt.length-1)!==13&&(nt+=`
`),nt.charCodeAt(0)===65279&&(nt=nt.slice(1)));var it=new State$1$1(nt,rt),st=nt.indexOf("\0");for(st!==-1&&(it.position=st,throwError$1(it,"null byte is not allowed in input")),it.input+="\0";it.input.charCodeAt(it.position)===32;)it.lineIndent+=1,it.position+=1;for(;it.position<it.length-1;)readDocument$1(it);return it.documents}function loadAll$1$1(nt,rt,it){rt!==null&&typeof rt=="object"&&typeof it>"u"&&(it=rt,rt=null);var st=loadDocuments$1(nt,it);if(typeof rt!="function")return st;for(var bt=0,wt=st.length;bt<wt;bt+=1)rt(st[bt])}function load$1$1(nt,rt){var it=loadDocuments$1(nt,rt);if(it.length!==0){if(it.length===1)return it[0];throw new exception$1("expected a single document in the stream, but found more")}}var loadAll_1$1=loadAll$1$1,load_1$1=load$1$1,loader$1={loadAll:loadAll_1$1,load:load_1$1},_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_BOM=65279,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DEPRECATED_BASE60_SYNTAX=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function compileStyleMap(nt,rt){var it,st,bt,wt,Et,Tt,At;if(rt===null)return{};for(it={},st=Object.keys(rt),bt=0,wt=st.length;bt<wt;bt+=1)Et=st[bt],Tt=String(rt[Et]),Et.slice(0,2)==="!!"&&(Et="tag:yaml.org,2002:"+Et.slice(2)),At=nt.compiledTypeMap.fallback[Et],At&&_hasOwnProperty.call(At.styleAliases,Tt)&&(Tt=At.styleAliases[Tt]),it[Et]=Tt;return it}function encodeHex(nt){var rt,it,st;if(rt=nt.toString(16).toUpperCase(),nt<=255)it="x",st=2;else if(nt<=65535)it="u",st=4;else if(nt<=4294967295)it="U",st=8;else throw new exception$1("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+it+common$2.repeat("0",st-rt.length)+rt}var QUOTING_TYPE_SINGLE=1,QUOTING_TYPE_DOUBLE=2;function State(nt){this.schema=nt.schema||_default$1,this.indent=Math.max(1,nt.indent||2),this.noArrayIndent=nt.noArrayIndent||!1,this.skipInvalid=nt.skipInvalid||!1,this.flowLevel=common$2.isNothing(nt.flowLevel)?-1:nt.flowLevel,this.styleMap=compileStyleMap(this.schema,nt.styles||null),this.sortKeys=nt.sortKeys||!1,this.lineWidth=nt.lineWidth||80,this.noRefs=nt.noRefs||!1,this.noCompatMode=nt.noCompatMode||!1,this.condenseFlow=nt.condenseFlow||!1,this.quotingType=nt.quotingType==='"'?QUOTING_TYPE_DOUBLE:QUOTING_TYPE_SINGLE,this.forceQuotes=nt.forceQuotes||!1,this.replacer=typeof nt.replacer=="function"?nt.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(nt,rt){for(var it=common$2.repeat(" ",rt),st=0,bt=-1,wt="",Et,Tt=nt.length;st<Tt;)bt=nt.indexOf(`
`,st),bt===-1?(Et=nt.slice(st),st=Tt):(Et=nt.slice(st,bt+1),st=bt+1),Et.length&&Et!==`
`&&(wt+=it),wt+=Et;return wt}function generateNextLine(nt,rt){return`
`+common$2.repeat(" ",nt.indent*rt)}function testImplicitResolving(nt,rt){var it,st,bt;for(it=0,st=nt.implicitTypes.length;it<st;it+=1)if(bt=nt.implicitTypes[it],bt.resolve(rt))return!0;return!1}function isWhitespace(nt){return nt===CHAR_SPACE||nt===CHAR_TAB}function isPrintable(nt){return 32<=nt&&nt<=126||161<=nt&&nt<=55295&&nt!==8232&&nt!==8233||57344<=nt&&nt<=65533&&nt!==CHAR_BOM||65536<=nt&&nt<=1114111}function isNsCharOrWhitespace(nt){return isPrintable(nt)&&nt!==CHAR_BOM&&nt!==CHAR_CARRIAGE_RETURN&&nt!==CHAR_LINE_FEED}function isPlainSafe(nt,rt,it){var st=isNsCharOrWhitespace(nt),bt=st&&!isWhitespace(nt);return(it?st:st&&nt!==CHAR_COMMA&&nt!==CHAR_LEFT_SQUARE_BRACKET&&nt!==CHAR_RIGHT_SQUARE_BRACKET&&nt!==CHAR_LEFT_CURLY_BRACKET&&nt!==CHAR_RIGHT_CURLY_BRACKET)&&nt!==CHAR_SHARP&&!(rt===CHAR_COLON&&!bt)||isNsCharOrWhitespace(rt)&&!isWhitespace(rt)&&nt===CHAR_SHARP||rt===CHAR_COLON&&bt}function isPlainSafeFirst(nt){return isPrintable(nt)&&nt!==CHAR_BOM&&!isWhitespace(nt)&&nt!==CHAR_MINUS&&nt!==CHAR_QUESTION&&nt!==CHAR_COLON&&nt!==CHAR_COMMA&&nt!==CHAR_LEFT_SQUARE_BRACKET&&nt!==CHAR_RIGHT_SQUARE_BRACKET&&nt!==CHAR_LEFT_CURLY_BRACKET&&nt!==CHAR_RIGHT_CURLY_BRACKET&&nt!==CHAR_SHARP&&nt!==CHAR_AMPERSAND&&nt!==CHAR_ASTERISK&&nt!==CHAR_EXCLAMATION&&nt!==CHAR_VERTICAL_LINE&&nt!==CHAR_EQUALS&&nt!==CHAR_GREATER_THAN&&nt!==CHAR_SINGLE_QUOTE&&nt!==CHAR_DOUBLE_QUOTE&&nt!==CHAR_PERCENT&&nt!==CHAR_COMMERCIAL_AT&&nt!==CHAR_GRAVE_ACCENT}function isPlainSafeLast(nt){return!isWhitespace(nt)&&nt!==CHAR_COLON}function codePointAt(nt,rt){var it=nt.charCodeAt(rt),st;return it>=55296&&it<=56319&&rt+1<nt.length&&(st=nt.charCodeAt(rt+1),st>=56320&&st<=57343)?(it-55296)*1024+st-56320+65536:it}function needIndentIndicator(nt){var rt=/^\n* /;return rt.test(nt)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(nt,rt,it,st,bt,wt,Et,Tt){var At,Dt=0,Ot=null,zt=!1,$t=!1,Bt=st!==-1,Yt=-1,Xt=isPlainSafeFirst(codePointAt(nt,0))&&isPlainSafeLast(codePointAt(nt,nt.length-1));if(rt||Et)for(At=0;At<nt.length;Dt>=65536?At+=2:At++){if(Dt=codePointAt(nt,At),!isPrintable(Dt))return STYLE_DOUBLE;Xt=Xt&&isPlainSafe(Dt,Ot,Tt),Ot=Dt}else{for(At=0;At<nt.length;Dt>=65536?At+=2:At++){if(Dt=codePointAt(nt,At),Dt===CHAR_LINE_FEED)zt=!0,Bt&&($t=$t||At-Yt-1>st&&nt[Yt+1]!==" ",Yt=At);else if(!isPrintable(Dt))return STYLE_DOUBLE;Xt=Xt&&isPlainSafe(Dt,Ot,Tt),Ot=Dt}$t=$t||Bt&&At-Yt-1>st&&nt[Yt+1]!==" "}return!zt&&!$t?Xt&&!Et&&!bt(nt)?STYLE_PLAIN:wt===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:it>9&&needIndentIndicator(nt)?STYLE_DOUBLE:Et?wt===QUOTING_TYPE_DOUBLE?STYLE_DOUBLE:STYLE_SINGLE:$t?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(nt,rt,it,st,bt){nt.dump=function(){if(rt.length===0)return nt.quotingType===QUOTING_TYPE_DOUBLE?'""':"''";if(!nt.noCompatMode&&(DEPRECATED_BOOLEANS_SYNTAX.indexOf(rt)!==-1||DEPRECATED_BASE60_SYNTAX.test(rt)))return nt.quotingType===QUOTING_TYPE_DOUBLE?'"'+rt+'"':"'"+rt+"'";var wt=nt.indent*Math.max(1,it),Et=nt.lineWidth===-1?-1:Math.max(Math.min(nt.lineWidth,40),nt.lineWidth-wt),Tt=st||nt.flowLevel>-1&&it>=nt.flowLevel;function At(Dt){return testImplicitResolving(nt,Dt)}switch(chooseScalarStyle(rt,Tt,nt.indent,Et,At,nt.quotingType,nt.forceQuotes&&!st,bt)){case STYLE_PLAIN:return rt;case STYLE_SINGLE:return"'"+rt.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(rt,nt.indent)+dropEndingNewline(indentString(rt,wt));case STYLE_FOLDED:return">"+blockHeader(rt,nt.indent)+dropEndingNewline(indentString(foldString(rt,Et),wt));case STYLE_DOUBLE:return'"'+escapeString(rt)+'"';default:throw new exception$1("impossible error: invalid scalar style")}}()}function blockHeader(nt,rt){var it=needIndentIndicator(nt)?String(rt):"",st=nt[nt.length-1]===`
`,bt=st&&(nt[nt.length-2]===`
`||nt===`
`),wt=bt?"+":st?"":"-";return it+wt+`
`}function dropEndingNewline(nt){return nt[nt.length-1]===`
`?nt.slice(0,-1):nt}function foldString(nt,rt){for(var it=/(\n+)([^\n]*)/g,st=function(){var Dt=nt.indexOf(`
`);return Dt=Dt!==-1?Dt:nt.length,it.lastIndex=Dt,foldLine(nt.slice(0,Dt),rt)}(),bt=nt[0]===`
`||nt[0]===" ",wt,Et;Et=it.exec(nt);){var Tt=Et[1],At=Et[2];wt=At[0]===" ",st+=Tt+(!bt&&!wt&&At!==""?`
`:"")+foldLine(At,rt),bt=wt}return st}function foldLine(nt,rt){if(nt===""||nt[0]===" ")return nt;for(var it=/ [^ ]/g,st,bt=0,wt,Et=0,Tt=0,At="";st=it.exec(nt);)Tt=st.index,Tt-bt>rt&&(wt=Et>bt?Et:Tt,At+=`
`+nt.slice(bt,wt),bt=wt+1),Et=Tt;return At+=`
`,nt.length-bt>rt&&Et>bt?At+=nt.slice(bt,Et)+`
`+nt.slice(Et+1):At+=nt.slice(bt),At.slice(1)}function escapeString(nt){for(var rt="",it=0,st,bt=0;bt<nt.length;it>=65536?bt+=2:bt++)it=codePointAt(nt,bt),st=ESCAPE_SEQUENCES[it],!st&&isPrintable(it)?(rt+=nt[bt],it>=65536&&(rt+=nt[bt+1])):rt+=st||encodeHex(it);return rt}function writeFlowSequence(nt,rt,it){var st="",bt=nt.tag,wt,Et,Tt;for(wt=0,Et=it.length;wt<Et;wt+=1)Tt=it[wt],nt.replacer&&(Tt=nt.replacer.call(it,String(wt),Tt)),(writeNode(nt,rt,Tt,!1,!1)||typeof Tt>"u"&&writeNode(nt,rt,null,!1,!1))&&(st!==""&&(st+=","+(nt.condenseFlow?"":" ")),st+=nt.dump);nt.tag=bt,nt.dump="["+st+"]"}function writeBlockSequence(nt,rt,it,st){var bt="",wt=nt.tag,Et,Tt,At;for(Et=0,Tt=it.length;Et<Tt;Et+=1)At=it[Et],nt.replacer&&(At=nt.replacer.call(it,String(Et),At)),(writeNode(nt,rt+1,At,!0,!0,!1,!0)||typeof At>"u"&&writeNode(nt,rt+1,null,!0,!0,!1,!0))&&((!st||bt!=="")&&(bt+=generateNextLine(nt,rt)),nt.dump&&CHAR_LINE_FEED===nt.dump.charCodeAt(0)?bt+="-":bt+="- ",bt+=nt.dump);nt.tag=wt,nt.dump=bt||"[]"}function writeFlowMapping(nt,rt,it){var st="",bt=nt.tag,wt=Object.keys(it),Et,Tt,At,Dt,Ot;for(Et=0,Tt=wt.length;Et<Tt;Et+=1)Ot="",st!==""&&(Ot+=", "),nt.condenseFlow&&(Ot+='"'),At=wt[Et],Dt=it[At],nt.replacer&&(Dt=nt.replacer.call(it,At,Dt)),writeNode(nt,rt,At,!1,!1)&&(nt.dump.length>1024&&(Ot+="? "),Ot+=nt.dump+(nt.condenseFlow?'"':"")+":"+(nt.condenseFlow?"":" "),writeNode(nt,rt,Dt,!1,!1)&&(Ot+=nt.dump,st+=Ot));nt.tag=bt,nt.dump="{"+st+"}"}function writeBlockMapping(nt,rt,it,st){var bt="",wt=nt.tag,Et=Object.keys(it),Tt,At,Dt,Ot,zt,$t;if(nt.sortKeys===!0)Et.sort();else if(typeof nt.sortKeys=="function")Et.sort(nt.sortKeys);else if(nt.sortKeys)throw new exception$1("sortKeys must be a boolean or a function");for(Tt=0,At=Et.length;Tt<At;Tt+=1)$t="",(!st||bt!=="")&&($t+=generateNextLine(nt,rt)),Dt=Et[Tt],Ot=it[Dt],nt.replacer&&(Ot=nt.replacer.call(it,Dt,Ot)),writeNode(nt,rt+1,Dt,!0,!0,!0)&&(zt=nt.tag!==null&&nt.tag!=="?"||nt.dump&&nt.dump.length>1024,zt&&(nt.dump&&CHAR_LINE_FEED===nt.dump.charCodeAt(0)?$t+="?":$t+="? "),$t+=nt.dump,zt&&($t+=generateNextLine(nt,rt)),writeNode(nt,rt+1,Ot,!0,zt)&&(nt.dump&&CHAR_LINE_FEED===nt.dump.charCodeAt(0)?$t+=":":$t+=": ",$t+=nt.dump,bt+=$t));nt.tag=wt,nt.dump=bt||"{}"}function detectType$1(nt,rt,it){var st,bt,wt,Et,Tt,At;for(bt=it?nt.explicitTypes:nt.implicitTypes,wt=0,Et=bt.length;wt<Et;wt+=1)if(Tt=bt[wt],(Tt.instanceOf||Tt.predicate)&&(!Tt.instanceOf||typeof rt=="object"&&rt instanceof Tt.instanceOf)&&(!Tt.predicate||Tt.predicate(rt))){if(it?Tt.multi&&Tt.representName?nt.tag=Tt.representName(rt):nt.tag=Tt.tag:nt.tag="?",Tt.represent){if(At=nt.styleMap[Tt.tag]||Tt.defaultStyle,_toString.call(Tt.represent)==="[object Function]")st=Tt.represent(rt,At);else if(_hasOwnProperty.call(Tt.represent,At))st=Tt.represent[At](rt,At);else throw new exception$1("!<"+Tt.tag+'> tag resolver accepts not "'+At+'" style');nt.dump=st}return!0}return!1}function writeNode(nt,rt,it,st,bt,wt,Et){nt.tag=null,nt.dump=it,detectType$1(nt,it,!1)||detectType$1(nt,it,!0);var Tt=_toString.call(nt.dump),At=st,Dt;st&&(st=nt.flowLevel<0||nt.flowLevel>rt);var Ot=Tt==="[object Object]"||Tt==="[object Array]",zt,$t;if(Ot&&(zt=nt.duplicates.indexOf(it),$t=zt!==-1),(nt.tag!==null&&nt.tag!=="?"||$t||nt.indent!==2&&rt>0)&&(bt=!1),$t&&nt.usedDuplicates[zt])nt.dump="*ref_"+zt;else{if(Ot&&$t&&!nt.usedDuplicates[zt]&&(nt.usedDuplicates[zt]=!0),Tt==="[object Object]")st&&Object.keys(nt.dump).length!==0?(writeBlockMapping(nt,rt,nt.dump,bt),$t&&(nt.dump="&ref_"+zt+nt.dump)):(writeFlowMapping(nt,rt,nt.dump),$t&&(nt.dump="&ref_"+zt+" "+nt.dump));else if(Tt==="[object Array]")st&&nt.dump.length!==0?(nt.noArrayIndent&&!Et&&rt>0?writeBlockSequence(nt,rt-1,nt.dump,bt):writeBlockSequence(nt,rt,nt.dump,bt),$t&&(nt.dump="&ref_"+zt+nt.dump)):(writeFlowSequence(nt,rt,nt.dump),$t&&(nt.dump="&ref_"+zt+" "+nt.dump));else if(Tt==="[object String]")nt.tag!=="?"&&writeScalar(nt,nt.dump,rt,wt,At);else{if(Tt==="[object Undefined]")return!1;if(nt.skipInvalid)return!1;throw new exception$1("unacceptable kind of an object to dump "+Tt)}nt.tag!==null&&nt.tag!=="?"&&(Dt=encodeURI(nt.tag[0]==="!"?nt.tag.slice(1):nt.tag).replace(/!/g,"%21"),nt.tag[0]==="!"?Dt="!"+Dt:Dt.slice(0,18)==="tag:yaml.org,2002:"?Dt="!!"+Dt.slice(18):Dt="!<"+Dt+">",nt.dump=Dt+" "+nt.dump)}return!0}function getDuplicateReferences(nt,rt){var it=[],st=[],bt,wt;for(inspectNode(nt,it,st),bt=0,wt=st.length;bt<wt;bt+=1)rt.duplicates.push(it[st[bt]]);rt.usedDuplicates=new Array(wt)}function inspectNode(nt,rt,it){var st,bt,wt;if(nt!==null&&typeof nt=="object")if(bt=rt.indexOf(nt),bt!==-1)it.indexOf(bt)===-1&&it.push(bt);else if(rt.push(nt),Array.isArray(nt))for(bt=0,wt=nt.length;bt<wt;bt+=1)inspectNode(nt[bt],rt,it);else for(st=Object.keys(nt),bt=0,wt=st.length;bt<wt;bt+=1)inspectNode(nt[st[bt]],rt,it)}function dump$1(nt,rt){rt=rt||{};var it=new State(rt);it.noRefs||getDuplicateReferences(nt,it);var st=nt;return it.replacer&&(st=it.replacer.call({"":st},"",st)),writeNode(it,0,st,!0,!0)?it.dump+`
`:""}var dump_1=dump$1,dumper={dump:dump_1};function renamed(nt,rt){return function(){throw new Error("Function yaml."+nt+" is removed in js-yaml 4. Use yaml."+rt+" instead, which is now safe by default.")}}var Type$3=type$1,Schema=schema$1,FAILSAFE_SCHEMA$1=failsafe$1,JSON_SCHEMA=json$1,CORE_SCHEMA=core$1,DEFAULT_SCHEMA=_default$1,load$2=loader$1.load,loadAll=loader$1.loadAll,dump=dumper.dump,YAMLException=exception$1,types$9={binary:binary$1,float:float$1,map:map$3,null:_null$1,pairs:pairs$1,set:set$3,timestamp:timestamp$1,bool:bool$1,int:int$1,merge:merge$4,omap:omap$1,seq:seq$2,str:str$1},safeLoad=renamed("safeLoad","load"),safeLoadAll=renamed("safeLoadAll","loadAll"),safeDump=renamed("safeDump","dump"),jsYaml={Type:Type$3,Schema,FAILSAFE_SCHEMA:FAILSAFE_SCHEMA$1,JSON_SCHEMA,CORE_SCHEMA,DEFAULT_SCHEMA,load:load$2,loadAll,dump,YAMLException,types:types$9,safeLoad,safeLoadAll,safeDump};function isTabbable(nt){const rt=nt.tagName.toLowerCase();return nt.getAttribute("tabindex")==="-1"||nt.hasAttribute("disabled")||nt.hasAttribute("aria-disabled")&&nt.getAttribute("aria-disabled")!=="false"||rt==="input"&&nt.getAttribute("type")==="radio"&&!nt.hasAttribute("checked")||nt.offsetParent===null||window.getComputedStyle(nt).visibility==="hidden"?!1:(rt==="audio"||rt==="video")&&nt.hasAttribute("controls")||nt.hasAttribute("tabindex")||nt.hasAttribute("contenteditable")&&nt.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(rt)}function getTabbableBoundary(nt){var rt,it;const st=[];function bt(Tt){Tt instanceof HTMLElement&&(st.push(Tt),Tt.shadowRoot!==null&&Tt.shadowRoot.mode==="open"&&bt(Tt.shadowRoot)),[...Tt.children].forEach(At=>bt(At))}bt(nt);const wt=(rt=st.find(Tt=>isTabbable(Tt)))!=null?rt:null,Et=(it=st.reverse().find(Tt=>isTabbable(Tt)))!=null?it:null;return{start:wt,end:Et}}var activeModals=[],Modal$1=class{constructor(nt){this.tabDirection="forward",this.element=nt,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}activate(){activeModals.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){activeModals=activeModals.filter(nt=>nt!==this.element),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return activeModals[activeModals.length-1]===this.element}checkFocus(){if(this.isActive()&&!this.element.matches(":focus-within")){const{start:nt,end:rt}=getTabbableBoundary(this.element),it=this.tabDirection==="forward"?nt:rt;typeof(it==null?void 0:it.focus)=="function"&&it.focus({preventScroll:!0})}}handleFocusIn(){this.checkFocus()}handleKeyDown(nt){nt.key==="Tab"&&nt.shiftKey&&(this.tabDirection="backward",requestAnimationFrame(()=>this.checkFocus()))}handleKeyUp(){this.tabDirection="forward"}};function getOffset(nt,rt){return{top:Math.round(nt.getBoundingClientRect().top-rt.getBoundingClientRect().top),left:Math.round(nt.getBoundingClientRect().left-rt.getBoundingClientRect().left)}}var locks=new Set;function lockBodyScrolling(nt){locks.add(nt),document.body.classList.add("sl-scroll-lock")}function unlockBodyScrolling(nt){locks.delete(nt),locks.size===0&&document.body.classList.remove("sl-scroll-lock")}function scrollIntoView(nt,rt,it="vertical",st="smooth"){const bt=getOffset(nt,rt),wt=bt.top+rt.scrollTop,Et=bt.left+rt.scrollLeft,Tt=rt.scrollLeft,At=rt.scrollLeft+rt.offsetWidth,Dt=rt.scrollTop,Ot=rt.scrollTop+rt.offsetHeight;(it==="horizontal"||it==="both")&&(Et<Tt?rt.scrollTo({left:Et,behavior:st}):Et+nt.clientWidth>At&&rt.scrollTo({left:Et-rt.offsetWidth+nt.clientWidth,behavior:st})),(it==="vertical"||it==="both")&&(wt<Dt?rt.scrollTo({top:wt,behavior:st}):wt+nt.clientHeight>Ot&&rt.scrollTo({top:wt-rt.offsetHeight+nt.clientHeight,behavior:st}))}var t$4=window,e$4=t$4.ShadowRoot&&(t$4.ShadyCSS===void 0||t$4.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s$4=Symbol(),n$4=new WeakMap,o$3=class{constructor(nt,rt,it){if(this._$cssResult$=!0,it!==s$4)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=nt,this.t=rt}get styleSheet(){let nt=this.o;const rt=this.t;if(e$4&&nt===void 0){const it=rt!==void 0&&rt.length===1;it&&(nt=n$4.get(rt)),nt===void 0&&((this.o=nt=new CSSStyleSheet).replaceSync(this.cssText),it&&n$4.set(rt,nt))}return nt}toString(){return this.cssText}},r$2=nt=>new o$3(typeof nt=="string"?nt:nt+"",void 0,s$4),i$4=(nt,...rt)=>{const it=nt.length===1?nt[0]:rt.reduce((st,bt,wt)=>st+(Et=>{if(Et._$cssResult$===!0)return Et.cssText;if(typeof Et=="number")return Et;throw Error("Value passed to 'css' function must be a 'css' function result: "+Et+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(bt)+nt[wt+1],nt[0]);return new o$3(it,nt,s$4)},S=(nt,rt)=>{e$4?nt.adoptedStyleSheets=rt.map(it=>it instanceof CSSStyleSheet?it:it.styleSheet):rt.forEach(it=>{const st=document.createElement("style"),bt=t$4.litNonce;bt!==void 0&&st.setAttribute("nonce",bt),st.textContent=it.cssText,nt.appendChild(st)})},c$2=e$4?nt=>nt:nt=>nt instanceof CSSStyleSheet?(rt=>{let it="";for(const st of rt.cssRules)it+=st.cssText;return r$2(it)})(nt):nt,s2$1,e2$3=window,r2$1=e2$3.trustedTypes,h$2=r2$1?r2$1.emptyScript:"",o2$2=e2$3.reactiveElementPolyfillSupport,n2$1={toAttribute(nt,rt){switch(rt){case Boolean:nt=nt?h$2:null;break;case Object:case Array:nt=nt==null?nt:JSON.stringify(nt)}return nt},fromAttribute(nt,rt){let it=nt;switch(rt){case Boolean:it=nt!==null;break;case Number:it=nt===null?null:Number(nt);break;case Object:case Array:try{it=JSON.parse(nt)}catch{it=null}}return it}},a$2=(nt,rt)=>rt!==nt&&(rt==rt||nt==nt),l$3={attribute:!0,type:String,converter:n2$1,reflect:!1,hasChanged:a$2},d$2=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this.u()}static addInitializer(nt){var rt;this.finalize(),((rt=this.h)!==null&&rt!==void 0?rt:this.h=[]).push(nt)}static get observedAttributes(){this.finalize();const nt=[];return this.elementProperties.forEach((rt,it)=>{const st=this._$Ep(it,rt);st!==void 0&&(this._$Ev.set(st,it),nt.push(st))}),nt}static createProperty(nt,rt=l$3){if(rt.state&&(rt.attribute=!1),this.finalize(),this.elementProperties.set(nt,rt),!rt.noAccessor&&!this.prototype.hasOwnProperty(nt)){const it=typeof nt=="symbol"?Symbol():"__"+nt,st=this.getPropertyDescriptor(nt,it,rt);st!==void 0&&Object.defineProperty(this.prototype,nt,st)}}static getPropertyDescriptor(nt,rt,it){return{get(){return this[rt]},set(st){const bt=this[nt];this[rt]=st,this.requestUpdate(nt,bt,it)},configurable:!0,enumerable:!0}}static getPropertyOptions(nt){return this.elementProperties.get(nt)||l$3}static finalize(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;const nt=Object.getPrototypeOf(this);if(nt.finalize(),nt.h!==void 0&&(this.h=[...nt.h]),this.elementProperties=new Map(nt.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const rt=this.properties,it=[...Object.getOwnPropertyNames(rt),...Object.getOwnPropertySymbols(rt)];for(const st of it)this.createProperty(st,rt[st])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(nt){const rt=[];if(Array.isArray(nt)){const it=new Set(nt.flat(1/0).reverse());for(const st of it)rt.unshift(c$2(st))}else nt!==void 0&&rt.push(c$2(nt));return rt}static _$Ep(nt,rt){const it=rt.attribute;return it===!1?void 0:typeof it=="string"?it:typeof nt=="string"?nt.toLowerCase():void 0}u(){var nt;this._$E_=new Promise(rt=>this.enableUpdating=rt),this._$AL=new Map,this._$Eg(),this.requestUpdate(),(nt=this.constructor.h)===null||nt===void 0||nt.forEach(rt=>rt(this))}addController(nt){var rt,it;((rt=this._$ES)!==null&&rt!==void 0?rt:this._$ES=[]).push(nt),this.renderRoot!==void 0&&this.isConnected&&((it=nt.hostConnected)===null||it===void 0||it.call(nt))}removeController(nt){var rt;(rt=this._$ES)===null||rt===void 0||rt.splice(this._$ES.indexOf(nt)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach((nt,rt)=>{this.hasOwnProperty(rt)&&(this._$Ei.set(rt,this[rt]),delete this[rt])})}createRenderRoot(){var nt;const rt=(nt=this.shadowRoot)!==null&&nt!==void 0?nt:this.attachShadow(this.constructor.shadowRootOptions);return S(rt,this.constructor.elementStyles),rt}connectedCallback(){var nt;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(nt=this._$ES)===null||nt===void 0||nt.forEach(rt=>{var it;return(it=rt.hostConnected)===null||it===void 0?void 0:it.call(rt)})}enableUpdating(nt){}disconnectedCallback(){var nt;(nt=this._$ES)===null||nt===void 0||nt.forEach(rt=>{var it;return(it=rt.hostDisconnected)===null||it===void 0?void 0:it.call(rt)})}attributeChangedCallback(nt,rt,it){this._$AK(nt,it)}_$EO(nt,rt,it=l$3){var st;const bt=this.constructor._$Ep(nt,it);if(bt!==void 0&&it.reflect===!0){const wt=(((st=it.converter)===null||st===void 0?void 0:st.toAttribute)!==void 0?it.converter:n2$1).toAttribute(rt,it.type);this._$El=nt,wt==null?this.removeAttribute(bt):this.setAttribute(bt,wt),this._$El=null}}_$AK(nt,rt){var it;const st=this.constructor,bt=st._$Ev.get(nt);if(bt!==void 0&&this._$El!==bt){const wt=st.getPropertyOptions(bt),Et=typeof wt.converter=="function"?{fromAttribute:wt.converter}:((it=wt.converter)===null||it===void 0?void 0:it.fromAttribute)!==void 0?wt.converter:n2$1;this._$El=bt,this[bt]=Et.fromAttribute(rt,wt.type),this._$El=null}}requestUpdate(nt,rt,it){let st=!0;nt!==void 0&&(((it=it||this.constructor.getPropertyOptions(nt)).hasChanged||a$2)(this[nt],rt)?(this._$AL.has(nt)||this._$AL.set(nt,rt),it.reflect===!0&&this._$El!==nt&&(this._$EC===void 0&&(this._$EC=new Map),this._$EC.set(nt,it))):st=!1),!this.isUpdatePending&&st&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(rt){Promise.reject(rt)}const nt=this.scheduleUpdate();return nt!=null&&await nt,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var nt;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach((st,bt)=>this[bt]=st),this._$Ei=void 0);let rt=!1;const it=this._$AL;try{rt=this.shouldUpdate(it),rt?(this.willUpdate(it),(nt=this._$ES)===null||nt===void 0||nt.forEach(st=>{var bt;return(bt=st.hostUpdate)===null||bt===void 0?void 0:bt.call(st)}),this.update(it)):this._$Ek()}catch(st){throw rt=!1,this._$Ek(),st}rt&&this._$AE(it)}willUpdate(nt){}_$AE(nt){var rt;(rt=this._$ES)===null||rt===void 0||rt.forEach(it=>{var st;return(st=it.hostUpdated)===null||st===void 0?void 0:st.call(it)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(nt)),this.updated(nt)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(nt){return!0}update(nt){this._$EC!==void 0&&(this._$EC.forEach((rt,it)=>this._$EO(it,this[it],rt)),this._$EC=void 0),this._$Ek()}updated(nt){}firstUpdated(nt){}};d$2.finalized=!0,d$2.elementProperties=new Map,d$2.elementStyles=[],d$2.shadowRootOptions={mode:"open"},o2$2==null||o2$2({ReactiveElement:d$2}),((s2$1=e2$3.reactiveElementVersions)!==null&&s2$1!==void 0?s2$1:e2$3.reactiveElementVersions=[]).push("1.4.2");var t2$1,i2$3=window,s3=i2$3.trustedTypes,e3$1=s3?s3.createPolicy("lit-html",{createHTML:nt=>nt}):void 0,o3$1=`lit$${(Math.random()+"").slice(9)}$`,n3="?"+o3$1,l2$2=`<${n3}>`,h2$1=document,r3=(nt="")=>h2$1.createComment(nt),d2$1=nt=>nt===null||typeof nt!="object"&&typeof nt!="function",u$1=Array.isArray,c2$1=nt=>u$1(nt)||typeof(nt==null?void 0:nt[Symbol.iterator])=="function",v=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,a2$1=/-->/g,f$2=/>/g,_$1=RegExp(`>|[ 	
\f\r](?:([^\\s"'>=/]+)([ 	
\f\r]*=[ 	
\f\r]*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),m$2=/'/g,p$1=/"/g,$=/^(?:script|style|textarea|title)$/i,g$1=nt=>(rt,...it)=>({_$litType$:nt,strings:rt,values:it}),y$2=g$1(1),x$2=Symbol.for("lit-noChange"),b$1=Symbol.for("lit-nothing"),T$1=new WeakMap,A$1=h2$1.createTreeWalker(h2$1,129,null,!1),E=(nt,rt)=>{const it=nt.length-1,st=[];let bt,wt=rt===2?"<svg>":"",Et=v;for(let At=0;At<it;At++){const Dt=nt[At];let Ot,zt,$t=-1,Bt=0;for(;Bt<Dt.length&&(Et.lastIndex=Bt,zt=Et.exec(Dt),zt!==null);)Bt=Et.lastIndex,Et===v?zt[1]==="!--"?Et=a2$1:zt[1]!==void 0?Et=f$2:zt[2]!==void 0?($.test(zt[2])&&(bt=RegExp("</"+zt[2],"g")),Et=_$1):zt[3]!==void 0&&(Et=_$1):Et===_$1?zt[0]===">"?(Et=bt!=null?bt:v,$t=-1):zt[1]===void 0?$t=-2:($t=Et.lastIndex-zt[2].length,Ot=zt[1],Et=zt[3]===void 0?_$1:zt[3]==='"'?p$1:m$2):Et===p$1||Et===m$2?Et=_$1:Et===a2$1||Et===f$2?Et=v:(Et=_$1,bt=void 0);const Yt=Et===_$1&&nt[At+1].startsWith("/>")?" ":"";wt+=Et===v?Dt+l2$2:$t>=0?(st.push(Ot),Dt.slice(0,$t)+"$lit$"+Dt.slice($t)+o3$1+Yt):Dt+o3$1+($t===-2?(st.push(void 0),At):Yt)}const Tt=wt+(nt[it]||"<?>")+(rt===2?"</svg>":"");if(!Array.isArray(nt)||!nt.hasOwnProperty("raw"))throw Error("invalid template strings array");return[e3$1!==void 0?e3$1.createHTML(Tt):Tt,st]},C$1=class{constructor({strings:nt,_$litType$:rt},it){let st;this.parts=[];let bt=0,wt=0;const Et=nt.length-1,Tt=this.parts,[At,Dt]=E(nt,rt);if(this.el=C$1.createElement(At,it),A$1.currentNode=this.el.content,rt===2){const Ot=this.el.content,zt=Ot.firstChild;zt.remove(),Ot.append(...zt.childNodes)}for(;(st=A$1.nextNode())!==null&&Tt.length<Et;){if(st.nodeType===1){if(st.hasAttributes()){const Ot=[];for(const zt of st.getAttributeNames())if(zt.endsWith("$lit$")||zt.startsWith(o3$1)){const $t=Dt[wt++];if(Ot.push(zt),$t!==void 0){const Bt=st.getAttribute($t.toLowerCase()+"$lit$").split(o3$1),Yt=/([.?@])?(.*)/.exec($t);Tt.push({type:1,index:bt,name:Yt[2],strings:Bt,ctor:Yt[1]==="."?M:Yt[1]==="?"?k$1:Yt[1]==="@"?H$1:S2})}else Tt.push({type:6,index:bt})}for(const zt of Ot)st.removeAttribute(zt)}if($.test(st.tagName)){const Ot=st.textContent.split(o3$1),zt=Ot.length-1;if(zt>0){st.textContent=s3?s3.emptyScript:"";for(let $t=0;$t<zt;$t++)st.append(Ot[$t],r3()),A$1.nextNode(),Tt.push({type:2,index:++bt});st.append(Ot[zt],r3())}}}else if(st.nodeType===8)if(st.data===n3)Tt.push({type:2,index:bt});else{let Ot=-1;for(;(Ot=st.data.indexOf(o3$1,Ot+1))!==-1;)Tt.push({type:7,index:bt}),Ot+=o3$1.length-1}bt++}}static createElement(nt,rt){const it=h2$1.createElement("template");return it.innerHTML=nt,it}};function P(nt,rt,it=nt,st){var bt,wt,Et,Tt;if(rt===x$2)return rt;let At=st!==void 0?(bt=it._$Co)===null||bt===void 0?void 0:bt[st]:it._$Cl;const Dt=d2$1(rt)?void 0:rt._$litDirective$;return(At==null?void 0:At.constructor)!==Dt&&((wt=At==null?void 0:At._$AO)===null||wt===void 0||wt.call(At,!1),Dt===void 0?At=void 0:(At=new Dt(nt),At._$AT(nt,it,st)),st!==void 0?((Et=(Tt=it)._$Co)!==null&&Et!==void 0?Et:Tt._$Co=[])[st]=At:it._$Cl=At),At!==void 0&&(rt=P(nt,At._$AS(nt,rt.values),At,st)),rt}var V=class{constructor(nt,rt){this.u=[],this._$AN=void 0,this._$AD=nt,this._$AM=rt}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}v(nt){var rt;const{el:{content:it},parts:st}=this._$AD,bt=((rt=nt==null?void 0:nt.creationScope)!==null&&rt!==void 0?rt:h2$1).importNode(it,!0);A$1.currentNode=bt;let wt=A$1.nextNode(),Et=0,Tt=0,At=st[0];for(;At!==void 0;){if(Et===At.index){let Dt;At.type===2?Dt=new N(wt,wt.nextSibling,this,nt):At.type===1?Dt=new At.ctor(wt,At.name,At.strings,this,nt):At.type===6&&(Dt=new I(wt,this,nt)),this.u.push(Dt),At=st[++Tt]}Et!==(At==null?void 0:At.index)&&(wt=A$1.nextNode(),Et++)}return bt}p(nt){let rt=0;for(const it of this.u)it!==void 0&&(it.strings!==void 0?(it._$AI(nt,it,rt),rt+=it.strings.length-2):it._$AI(nt[rt])),rt++}},N=class{constructor(nt,rt,it,st){var bt;this.type=2,this._$AH=b$1,this._$AN=void 0,this._$AA=nt,this._$AB=rt,this._$AM=it,this.options=st,this._$Cm=(bt=st==null?void 0:st.isConnected)===null||bt===void 0||bt}get _$AU(){var nt,rt;return(rt=(nt=this._$AM)===null||nt===void 0?void 0:nt._$AU)!==null&&rt!==void 0?rt:this._$Cm}get parentNode(){let nt=this._$AA.parentNode;const rt=this._$AM;return rt!==void 0&&nt.nodeType===11&&(nt=rt.parentNode),nt}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(nt,rt=this){nt=P(this,nt,rt),d2$1(nt)?nt===b$1||nt==null||nt===""?(this._$AH!==b$1&&this._$AR(),this._$AH=b$1):nt!==this._$AH&&nt!==x$2&&this.g(nt):nt._$litType$!==void 0?this.$(nt):nt.nodeType!==void 0?this.T(nt):c2$1(nt)?this.k(nt):this.g(nt)}O(nt,rt=this._$AB){return this._$AA.parentNode.insertBefore(nt,rt)}T(nt){this._$AH!==nt&&(this._$AR(),this._$AH=this.O(nt))}g(nt){this._$AH!==b$1&&d2$1(this._$AH)?this._$AA.nextSibling.data=nt:this.T(h2$1.createTextNode(nt)),this._$AH=nt}$(nt){var rt;const{values:it,_$litType$:st}=nt,bt=typeof st=="number"?this._$AC(nt):(st.el===void 0&&(st.el=C$1.createElement(st.h,this.options)),st);if(((rt=this._$AH)===null||rt===void 0?void 0:rt._$AD)===bt)this._$AH.p(it);else{const wt=new V(bt,this),Et=wt.v(this.options);wt.p(it),this.T(Et),this._$AH=wt}}_$AC(nt){let rt=T$1.get(nt.strings);return rt===void 0&&T$1.set(nt.strings,rt=new C$1(nt)),rt}k(nt){u$1(this._$AH)||(this._$AH=[],this._$AR());const rt=this._$AH;let it,st=0;for(const bt of nt)st===rt.length?rt.push(it=new N(this.O(r3()),this.O(r3()),this,this.options)):it=rt[st],it._$AI(bt),st++;st<rt.length&&(this._$AR(it&&it._$AB.nextSibling,st),rt.length=st)}_$AR(nt=this._$AA.nextSibling,rt){var it;for((it=this._$AP)===null||it===void 0||it.call(this,!1,!0,rt);nt&&nt!==this._$AB;){const st=nt.nextSibling;nt.remove(),nt=st}}setConnected(nt){var rt;this._$AM===void 0&&(this._$Cm=nt,(rt=this._$AP)===null||rt===void 0||rt.call(this,nt))}},S2=class{constructor(nt,rt,it,st,bt){this.type=1,this._$AH=b$1,this._$AN=void 0,this.element=nt,this.name=rt,this._$AM=st,this.options=bt,it.length>2||it[0]!==""||it[1]!==""?(this._$AH=Array(it.length-1).fill(new String),this.strings=it):this._$AH=b$1}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(nt,rt=this,it,st){const bt=this.strings;let wt=!1;if(bt===void 0)nt=P(this,nt,rt,0),wt=!d2$1(nt)||nt!==this._$AH&&nt!==x$2,wt&&(this._$AH=nt);else{const Et=nt;let Tt,At;for(nt=bt[0],Tt=0;Tt<bt.length-1;Tt++)At=P(this,Et[it+Tt],rt,Tt),At===x$2&&(At=this._$AH[Tt]),wt||(wt=!d2$1(At)||At!==this._$AH[Tt]),At===b$1?nt=b$1:nt!==b$1&&(nt+=(At!=null?At:"")+bt[Tt+1]),this._$AH[Tt]=At}wt&&!st&&this.j(nt)}j(nt){nt===b$1?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,nt!=null?nt:"")}},M=class extends S2{constructor(){super(...arguments),this.type=3}j(nt){this.element[this.name]=nt===b$1?void 0:nt}},R$1=s3?s3.emptyScript:"",k$1=class extends S2{constructor(){super(...arguments),this.type=4}j(nt){nt&&nt!==b$1?this.element.setAttribute(this.name,R$1):this.element.removeAttribute(this.name)}},H$1=class extends S2{constructor(nt,rt,it,st,bt){super(nt,rt,it,st,bt),this.type=5}_$AI(nt,rt=this){var it;if((nt=(it=P(this,nt,rt,0))!==null&&it!==void 0?it:b$1)===x$2)return;const st=this._$AH,bt=nt===b$1&&st!==b$1||nt.capture!==st.capture||nt.once!==st.once||nt.passive!==st.passive,wt=nt!==b$1&&(st===b$1||bt);bt&&this.element.removeEventListener(this.name,this,st),wt&&this.element.addEventListener(this.name,this,nt),this._$AH=nt}handleEvent(nt){var rt,it;typeof this._$AH=="function"?this._$AH.call((it=(rt=this.options)===null||rt===void 0?void 0:rt.host)!==null&&it!==void 0?it:this.element,nt):this._$AH.handleEvent(nt)}},I=class{constructor(nt,rt,it){this.element=nt,this.type=6,this._$AN=void 0,this._$AM=rt,this.options=it}get _$AU(){return this._$AM._$AU}_$AI(nt){P(this,nt)}},z=i2$3.litHtmlPolyfillSupport;z==null||z(C$1,N),((t2$1=i2$3.litHtmlVersions)!==null&&t2$1!==void 0?t2$1:i2$3.litHtmlVersions=[]).push("2.4.0");var Z=(nt,rt,it)=>{var st,bt;const wt=(st=it==null?void 0:it.renderBefore)!==null&&st!==void 0?st:rt;let Et=wt._$litPart$;if(Et===void 0){const Tt=(bt=it==null?void 0:it.renderBefore)!==null&&bt!==void 0?bt:null;wt._$litPart$=Et=new N(rt.insertBefore(r3(),Tt),Tt,void 0,it!=null?it:{})}return Et._$AI(nt),Et},l3,o4,s4=class extends d$2{constructor(){super(...arguments),this.renderOptions={host:this},this._$Dt=void 0}createRenderRoot(){var nt,rt;const it=super.createRenderRoot();return(nt=(rt=this.renderOptions).renderBefore)!==null&&nt!==void 0||(rt.renderBefore=it.firstChild),it}update(nt){const rt=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(nt),this._$Dt=Z(rt,this.renderRoot,this.renderOptions)}connectedCallback(){var nt;super.connectedCallback(),(nt=this._$Dt)===null||nt===void 0||nt.setConnected(!0)}disconnectedCallback(){var nt;super.disconnectedCallback(),(nt=this._$Dt)===null||nt===void 0||nt.setConnected(!1)}render(){return x$2}};s4.finalized=!0,s4._$litElement$=!0,(l3=globalThis.litElementHydrateSupport)===null||l3===void 0||l3.call(globalThis,{LitElement:s4});var n4=globalThis.litElementPolyfillSupport;n4==null||n4({LitElement:s4});((o4=globalThis.litElementVersions)!==null&&o4!==void 0?o4:globalThis.litElementVersions=[]).push("3.2.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2022 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var component_styles_default=i$4`
  :host {
    box-sizing: border-box;
  }

  :host *,
  :host *::before,
  :host *::after {
    box-sizing: inherit;
  }

  [hidden] {
    display: none !important;
  }
`,dialog_styles_default=i$4`
  ${component_styles_default}

  :host {
    --width: 31rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .dialog {
    display: flex;
    align-items: center;
    justify-content: center;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: var(--sl-z-index-dialog);
  }

  .dialog__panel {
    display: flex;
    flex-direction: column;
    z-index: 2;
    width: var(--width);
    max-width: calc(100% - var(--sl-spacing-2x-large));
    max-height: calc(100% - var(--sl-spacing-2x-large));
    background-color: var(--sl-panel-background-color);
    border-radius: var(--sl-border-radius-medium);
    box-shadow: var(--sl-shadow-x-large);
  }

  .dialog__panel:focus {
    outline: none;
  }

  /* Ensure there's enough vertical padding for phones that don't update vh when chrome appears (e.g. iPhone) */
  @media screen and (max-width: 420px) {
    .dialog__panel {
      max-height: 80vh;
    }
  }

  .dialog--open .dialog__panel {
    display: flex;
    opacity: 1;
  }

  .dialog__header {
    flex: 0 0 auto;
    display: flex;
  }

  .dialog__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .dialog__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .dialog__header-actions sl-icon-button,
  .dialog__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .dialog__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .dialog__footer {
    flex: 0 0 auto;
    text-align: right;
    padding: var(--footer-spacing);
  }

  .dialog__footer ::slotted(sl-button:not(:first-of-type)) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  .dialog:not(.dialog--has-footer) .dialog__footer {
    display: none;
  }

  .dialog__overlay {
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
  }

  @media (forced-colors: active) {
    .dialog__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function waitForEvent(nt,rt){return new Promise(it=>{function st(bt){bt.target===nt&&(nt.removeEventListener(rt,st),it())}nt.addEventListener(rt,st)})}function animateTo(nt,rt,it){return new Promise(st=>{if((it==null?void 0:it.duration)===1/0)throw new Error("Promise-based animations must be finite.");const bt=nt.animate(rt,__spreadProps(__spreadValues({},it),{duration:prefersReducedMotion()?0:it.duration}));bt.addEventListener("cancel",st,{once:!0}),bt.addEventListener("finish",st,{once:!0})})}function parseDuration$1(nt){return nt=nt.toString().toLowerCase(),nt.indexOf("ms")>-1?parseFloat(nt):nt.indexOf("s")>-1?parseFloat(nt)*1e3:parseFloat(nt)}function prefersReducedMotion(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}function stopAnimations(nt){return Promise.all(nt.getAnimations().map(rt=>new Promise(it=>{const st=requestAnimationFrame(it);rt.addEventListener("cancel",()=>st,{once:!0}),rt.addEventListener("finish",()=>st,{once:!0}),rt.cancel()})))}function shimKeyframesHeightAuto(nt,rt){return nt.map(it=>__spreadProps(__spreadValues({},it),{height:it.height==="auto"?`${rt}px`:it.height}))}var defaultAnimationRegistry=new Map,customAnimationRegistry=new WeakMap;function ensureAnimation(nt){return nt!=null?nt:{keyframes:[],options:{duration:0}}}function getLogicalAnimation(nt,rt){return rt.toLowerCase()==="rtl"?{keyframes:nt.rtlKeyframes||nt.keyframes,options:nt.options}:nt}function setDefaultAnimation(nt,rt){defaultAnimationRegistry.set(nt,ensureAnimation(rt))}function getAnimation(nt,rt,it){const st=customAnimationRegistry.get(nt);if(st!=null&&st[rt])return getLogicalAnimation(st[rt],it.dir);const bt=defaultAnimationRegistry.get(rt);return bt?getLogicalAnimation(bt,it.dir):{keyframes:[],options:{duration:0}}}var connectedElements=new Set,documentElementObserver=new MutationObserver(update),translations=new Map,documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,fallback;documentElementObserver.observe(document.documentElement,{attributes:!0,attributeFilter:["dir","lang"]});function registerTranslation(...nt){nt.map(rt=>{const it=rt.$code.toLowerCase();translations.has(it)?translations.set(it,Object.assign(Object.assign({},translations.get(it)),rt)):translations.set(it,rt),fallback||(fallback=rt)}),update()}function update(){documentDirection=document.documentElement.dir||"ltr",documentLanguage=document.documentElement.lang||navigator.language,[...connectedElements.keys()].map(nt=>{typeof nt.requestUpdate=="function"&&nt.requestUpdate()})}var LocalizeController=class{constructor(nt){this.host=nt,this.host.addController(this)}hostConnected(){connectedElements.add(this.host)}hostDisconnected(){connectedElements.delete(this.host)}dir(){return`${this.host.dir||documentDirection}`.toLowerCase()}lang(){return`${this.host.lang||documentLanguage}`.toLowerCase()}term(nt,...rt){var it,st;const bt=new Intl.Locale(this.lang()),wt=bt==null?void 0:bt.language.toLowerCase(),Et=(st=(it=bt==null?void 0:bt.region)===null||it===void 0?void 0:it.toLowerCase())!==null&&st!==void 0?st:"",Tt=translations.get(`${wt}-${Et}`),At=translations.get(wt);let Dt;if(Tt&&Tt[nt])Dt=Tt[nt];else if(At&&At[nt])Dt=At[nt];else if(fallback&&fallback[nt])Dt=fallback[nt];else return console.error(`No translation found for: ${String(nt)}`),String(nt);return typeof Dt=="function"?Dt(...rt):Dt}date(nt,rt){return nt=new Date(nt),new Intl.DateTimeFormat(this.lang(),rt).format(nt)}number(nt,rt){return nt=Number(nt),isNaN(nt)?"":new Intl.NumberFormat(this.lang(),rt).format(nt)}relativeTime(nt,rt,it){return new Intl.RelativeTimeFormat(this.lang(),it).format(nt,rt)}},LocalizeController2=class extends LocalizeController{},translation={$code:"en",$name:"English",$dir:"ltr",clearEntry:"Clear entry",close:"Close",copy:"Copy",numOptionsSelected:nt=>nt===0?"No options selected":nt===1?"1 option selected":`${nt} options selected`,currentValue:"Current value",hidePassword:"Hide password",loading:"Loading",progress:"Progress",remove:"Remove",resize:"Resize",scrollToEnd:"Scroll to end",scrollToStart:"Scroll to start",selectAColorFromTheScreen:"Select a color from the screen",showPassword:"Show password",toggleColorFormat:"Toggle color format"};registerTranslation(translation);var HasSlotController=class{constructor(nt,...rt){this.slotNames=[],(this.host=nt).addController(this),this.slotNames=rt,this.handleSlotChange=this.handleSlotChange.bind(this)}hasDefaultSlot(){return[...this.host.childNodes].some(nt=>{if(nt.nodeType===nt.TEXT_NODE&&nt.textContent.trim()!=="")return!0;if(nt.nodeType===nt.ELEMENT_NODE){const rt=nt;if(rt.tagName.toLowerCase()==="sl-visually-hidden")return!1;if(!rt.hasAttribute("slot"))return!0}return!1})}hasNamedSlot(nt){return this.host.querySelector(`:scope > [slot="${nt}"]`)!==null}test(nt){return nt==="[default]"?this.hasDefaultSlot():this.hasNamedSlot(nt)}hostConnected(){this.host.shadowRoot.addEventListener("slotchange",this.handleSlotChange)}hostDisconnected(){this.host.shadowRoot.removeEventListener("slotchange",this.handleSlotChange)}handleSlotChange(nt){const rt=nt.target;(this.slotNames.includes("[default]")&&!rt.name||rt.name&&this.slotNames.includes(rt.name))&&this.host.requestUpdate()}};function getTextContent(nt){if(!nt)return"";const rt=nt.assignedNodes({flatten:!0});let it="";return[...rt].forEach(st=>{st.nodeType===Node.TEXT_NODE&&(it+=st.textContent)}),it}var l$2=nt=>nt!=null?nt:b$1;/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var t$3={ATTRIBUTE:1,CHILD:2,PROPERTY:3,BOOLEAN_ATTRIBUTE:4,EVENT:5,ELEMENT:6},e$3=nt=>(...rt)=>({_$litDirective$:nt,values:rt}),i$3=class{constructor(nt){}get _$AU(){return this._$AM._$AU}_$AT(nt,rt,it){this._$Ct=nt,this._$AM=rt,this._$Ci=it}_$AS(nt,rt){return this.update(nt,rt)}update(nt,rt){return this.render(...rt)}};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var o$2=e$3(class extends i$3{constructor(nt){var rt;if(super(nt),nt.type!==t$3.ATTRIBUTE||nt.name!=="class"||((rt=nt.strings)===null||rt===void 0?void 0:rt.length)>2)throw Error("`classMap()` can only be used in the `class` attribute and must be the only part in the attribute.")}render(nt){return" "+Object.keys(nt).filter(rt=>nt[rt]).join(" ")+" "}update(nt,[rt]){var it,st;if(this.nt===void 0){this.nt=new Set,nt.strings!==void 0&&(this.st=new Set(nt.strings.join(" ").split(/\s/).filter(wt=>wt!=="")));for(const wt in rt)rt[wt]&&!(!((it=this.st)===null||it===void 0)&&it.has(wt))&&this.nt.add(wt);return this.render(rt)}const bt=nt.element.classList;this.nt.forEach(wt=>{wt in rt||(bt.remove(wt),this.nt.delete(wt))});for(const wt in rt){const Et=!!rt[wt];Et===this.nt.has(wt)||((st=this.st)===null||st===void 0?void 0:st.has(wt))||(Et?(bt.add(wt),this.nt.add(wt)):(bt.remove(wt),this.nt.delete(wt)))}return x$2}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function watch(nt,rt){const it=__spreadValues({waitUntilFirstUpdate:!1},rt);return(st,bt)=>{const{update:wt}=st;if(nt in st){const Et=nt;st.update=function(Tt){if(Tt.has(Et)){const At=Tt.get(Et),Dt=this[Et];At!==Dt&&(!it.waitUntilFirstUpdate||this.hasUpdated)&&this[bt](At,Dt)}wt.call(this,Tt)}}}}var e$2=nt=>rt=>typeof rt=="function"?((it,st)=>(customElements.define(it,st),st))(nt,rt):((it,st)=>{const{kind:bt,elements:wt}=st;return{kind:bt,elements:wt,finisher(Et){customElements.define(it,Et)}}})(nt,rt),i$2=(nt,rt)=>rt.kind==="method"&&rt.descriptor&&!("value"in rt.descriptor)?__spreadProps(__spreadValues({},rt),{finisher(it){it.createProperty(rt.key,nt)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:rt.key,initializer(){typeof rt.initializer=="function"&&(this[rt.key]=rt.initializer.call(this))},finisher(it){it.createProperty(rt.key,nt)}};function e2$2(nt){return(rt,it)=>it!==void 0?((st,bt,wt)=>{bt.constructor.createProperty(wt,st)})(nt,rt,it):i$2(nt,rt)}function t$2(nt){return e2$2(__spreadProps(__spreadValues({},nt),{state:!0}))}var o$1=({finisher:nt,descriptor:rt})=>(it,st)=>{var bt;if(st===void 0){const wt=(bt=it.originalKey)!==null&&bt!==void 0?bt:it.key,Et=rt!=null?{kind:"method",placement:"prototype",key:wt,descriptor:rt(it.key)}:__spreadProps(__spreadValues({},it),{key:wt});return nt!=null&&(Et.finisher=function(Tt){nt(Tt,wt)}),Et}{const wt=it.constructor;rt!==void 0&&Object.defineProperty(it,st,rt(st)),nt==null||nt(wt,st)}};function i2$2(nt,rt){return o$1({descriptor:it=>{const st={get(){var bt,wt;return(wt=(bt=this.renderRoot)===null||bt===void 0?void 0:bt.querySelector(nt))!==null&&wt!==void 0?wt:null},enumerable:!0,configurable:!0};if(rt){const bt=typeof it=="symbol"?Symbol():"__"+it;st.get=function(){var wt,Et;return this[bt]===void 0&&(this[bt]=(Et=(wt=this.renderRoot)===null||wt===void 0?void 0:wt.querySelector(nt))!==null&&Et!==void 0?Et:null),this[bt]}}return st}})}var n$3;((n$3=window.HTMLSlotElement)===null||n$3===void 0?void 0:n$3.prototype.assignedElements)!=null;var ShoelaceElement=class extends s4{emit(nt,rt){const it=new CustomEvent(nt,__spreadValues({bubbles:!0,cancelable:!1,composed:!0,detail:{}},rt));return this.dispatchEvent(it),it}};__decorateClass([e2$2()],ShoelaceElement.prototype,"dir",2);__decorateClass([e2$2()],ShoelaceElement.prototype,"lang",2);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 *//**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlDialog=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController2(this),this.open=!1,this.label="",this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.modal=new Modal$1(this)}firstUpdated(){this.dialog.hidden=!this.open,this.open&&(this.addOpenListeners(),this.modal.activate(),lockBodyScrolling(this))}disconnectedCallback(){super.disconnectedCallback(),unlockBodyScrolling(this)}requestClose(nt){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:nt}}).defaultPrevented){const it=getAnimation(this,"dialog.denyClose",{dir:this.localize.dir()});animateTo(this.panel,it.keyframes,it.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}handleDocumentKeyDown(nt){this.open&&nt.key==="Escape"&&(nt.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.modal.activate(),lockBodyScrolling(this);const nt=this.querySelector("[autofocus]");nt&&nt.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]),this.dialog.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(nt?nt.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),nt&&nt.setAttribute("autofocus","")});const rt=getAnimation(this,"dialog.show",{dir:this.localize.dir()}),it=getAnimation(this,"dialog.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,rt.keyframes,rt.options),animateTo(this.overlay,it.keyframes,it.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.modal.deactivate(),await Promise.all([stopAnimations(this.dialog),stopAnimations(this.overlay)]);const nt=getAnimation(this,"dialog.hide",{dir:this.localize.dir()}),rt=getAnimation(this,"dialog.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,rt.keyframes,rt.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,nt.keyframes,nt.options).then(()=>{this.panel.hidden=!0})]),this.dialog.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1,unlockBodyScrolling(this);const it=this.originalTrigger;typeof(it==null?void 0:it.focus)=="function"&&setTimeout(()=>it.focus()),this.emit("sl-after-hide")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <div
        part="base"
        class=${o$2({dialog:!0,"dialog--open":this.open,"dialog--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="dialog__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="dialog__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${l$2(this.noHeader?this.label:void 0)}
          aria-labelledby=${l$2(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":y$2`
                <header part="header" class="dialog__header">
                  <h2 part="title" class="dialog__title" id="title">
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="dialog__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="dialog__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click="${()=>this.requestClose("close-button")}"
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="dialog__body"></slot>

          <footer part="footer" class="dialog__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDialog.styles=dialog_styles_default;__decorateClass([i2$2(".dialog")],SlDialog.prototype,"dialog",2);__decorateClass([i2$2(".dialog__panel")],SlDialog.prototype,"panel",2);__decorateClass([i2$2(".dialog__overlay")],SlDialog.prototype,"overlay",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDialog.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDialog.prototype,"label",2);__decorateClass([e2$2({attribute:"no-header",type:Boolean,reflect:!0})],SlDialog.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDialog.prototype,"handleOpenChange",1);SlDialog=__decorateClass([e$2("sl-dialog")],SlDialog);setDefaultAnimation("dialog.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});setDefaultAnimation("dialog.denyClose",{keyframes:[{scale:1},{scale:1.02},{scale:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("dialog.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var icon_button_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    color: var(--sl-color-neutral-600);
  }

  .icon-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    font-size: inherit;
    color: inherit;
    padding: var(--sl-spacing-x-small);
    cursor: pointer;
    transition: var(--sl-transition-x-fast) color;
    -webkit-appearance: none;
  }

  .icon-button:hover:not(.icon-button--disabled),
  .icon-button:focus-visible:not(.icon-button--disabled) {
    color: var(--sl-color-primary-600);
  }

  .icon-button:active:not(.icon-button--disabled) {
    color: var(--sl-color-primary-700);
  }

  .icon-button:focus {
    outline: none;
  }

  .icon-button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .icon-button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .icon-button__icon {
    pointer-events: none;
  }
`,e$1=Symbol.for(""),l$1=nt=>{if((nt==null?void 0:nt.r)===e$1)return nt==null?void 0:nt._$litStatic$},i$1=(nt,...rt)=>({_$litStatic$:rt.reduce((it,st,bt)=>it+(wt=>{if(wt._$litStatic$!==void 0)return wt._$litStatic$;throw Error(`Value passed to 'literal' function must be a 'literal' result: ${wt}. Use 'unsafeStatic' to pass non-literal values, but
            take care to ensure page security.`)})(st)+nt[bt+1],nt[0]),r:e$1}),s$3=new Map,a$1=nt=>(rt,...it)=>{const st=it.length;let bt,wt;const Et=[],Tt=[];let At,Dt=0,Ot=!1;for(;Dt<st;){for(At=rt[Dt];Dt<st&&(wt=it[Dt],(bt=l$1(wt))!==void 0);)At+=bt+rt[++Dt],Ot=!0;Tt.push(wt),Et.push(At),Dt++}if(Dt===st&&Et.push(rt[st]),Ot){const zt=Et.join("$$lit$$");(rt=s$3.get(zt))===void 0&&(Et.raw=Et,s$3.set(zt,rt=Et)),it=Tt}return nt(rt,...it)},n$2=a$1(y$2);/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlIconButton=class extends ShoelaceElement{constructor(){super(...arguments),this.hasFocus=!1,this.label="",this.disabled=!1}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(nt){this.disabled&&(nt.preventDefault(),nt.stopPropagation())}click(){this.button.click()}focus(nt){this.button.focus(nt)}blur(){this.button.blur()}render(){const nt=!!this.href,rt=nt?i$1`a`:i$1`button`;return n$2`
      <${rt}
        part="base"
        class=${o$2({"icon-button":!0,"icon-button--disabled":!nt&&this.disabled,"icon-button--focused":this.hasFocus})}
        ?disabled=${l$2(nt?void 0:this.disabled)}
        type=${l$2(nt?void 0:"button")}
        href=${l$2(nt?this.href:void 0)}
        target=${l$2(nt?this.target:void 0)}
        download=${l$2(nt?this.download:void 0)}
        rel=${l$2(nt&&this.target?"noreferrer noopener":void 0)}
        role=${l$2(nt?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        aria-label="${this.label}"
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <sl-icon
          class="icon-button__icon"
          name=${l$2(this.name)}
          library=${l$2(this.library)}
          src=${l$2(this.src)}
          aria-hidden="true"
        ></sl-icon>
      </${rt}>
    `}};SlIconButton.styles=icon_button_styles_default;__decorateClass([i2$2(".icon-button")],SlIconButton.prototype,"button",2);__decorateClass([t$2()],SlIconButton.prototype,"hasFocus",2);__decorateClass([e2$2()],SlIconButton.prototype,"name",2);__decorateClass([e2$2()],SlIconButton.prototype,"library",2);__decorateClass([e2$2()],SlIconButton.prototype,"src",2);__decorateClass([e2$2()],SlIconButton.prototype,"href",2);__decorateClass([e2$2()],SlIconButton.prototype,"target",2);__decorateClass([e2$2()],SlIconButton.prototype,"download",2);__decorateClass([e2$2()],SlIconButton.prototype,"label",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlIconButton.prototype,"disabled",2);SlIconButton=__decorateClass([e$2("sl-icon-button")],SlIconButton);var library={name:"default",resolver:nt=>`${getBasePath()}/assets/icons/${nt}.svg`},library_default_default=library,icons={caret:`
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <polyline points="6 9 12 15 18 9"></polyline>
    </svg>
  `,check:`
    <svg part="checked-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(3.428571, 3.428571)">
            <path d="M0,5.71428571 L3.42857143,9.14285714"></path>
            <path d="M9.14285714,0 L3.42857143,9.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"chevron-down":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-down" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,"chevron-left":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
    </svg>
  `,"chevron-right":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
      <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
    </svg>
  `,eye:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye" viewBox="0 0 16 16">
      <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
      <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
    </svg>
  `,"eye-slash":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eye-slash" viewBox="0 0 16 16">
      <path d="M13.359 11.238C15.06 9.72 16 8 16 8s-3-5.5-8-5.5a7.028 7.028 0 0 0-2.79.588l.77.771A5.944 5.944 0 0 1 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.134 13.134 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755-.165.165-.337.328-.517.486l.708.709z"/>
      <path d="M11.297 9.176a3.5 3.5 0 0 0-4.474-4.474l.823.823a2.5 2.5 0 0 1 2.829 2.829l.822.822zm-2.943 1.299.822.822a3.5 3.5 0 0 1-4.474-4.474l.823.823a2.5 2.5 0 0 0 2.829 2.829z"/>
      <path d="M3.35 5.47c-.18.16-.353.322-.518.487A13.134 13.134 0 0 0 1.172 8l.195.288c.335.48.83 1.12 1.465 1.755C4.121 11.332 5.881 12.5 8 12.5c.716 0 1.39-.133 2.02-.36l.77.772A7.029 7.029 0 0 1 8 13.5C3 13.5 0 8 0 8s.939-1.721 2.641-3.238l.708.709zm10.296 8.884-12-12 .708-.708 12 12-.708.708z"/>
    </svg>
  `,eyedropper:`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-eyedropper" viewBox="0 0 16 16">
      <path d="M13.354.646a1.207 1.207 0 0 0-1.708 0L8.5 3.793l-.646-.647a.5.5 0 1 0-.708.708L8.293 5l-7.147 7.146A.5.5 0 0 0 1 12.5v1.793l-.854.853a.5.5 0 1 0 .708.707L1.707 15H3.5a.5.5 0 0 0 .354-.146L11 7.707l1.146 1.147a.5.5 0 0 0 .708-.708l-.647-.646 3.147-3.146a1.207 1.207 0 0 0 0-1.708l-2-2zM2 12.707l7-7L10.293 7l-7 7H2v-1.293z"></path>
    </svg>
  `,"grip-vertical":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-grip-vertical" viewBox="0 0 16 16">
      <path d="M7 2a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 5a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zM7 8a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm-3 3a1 1 0 1 1-2 0 1 1 0 0 1 2 0zm3 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0z"></path>
    </svg>
  `,indeterminate:`
    <svg part="indeterminate-icon" class="checkbox__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" stroke-linecap="round">
        <g stroke="currentColor" stroke-width="2">
          <g transform="translate(2.285714, 6.857143)">
            <path d="M10.2857143,1.14285714 L1.14285714,1.14285714"></path>
          </g>
        </g>
      </g>
    </svg>
  `,"person-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person-fill" viewBox="0 0 16 16">
      <path d="M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6z"/>
    </svg>
  `,"play-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-play-fill" viewBox="0 0 16 16">
      <path d="m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"></path>
    </svg>
  `,"pause-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pause-fill" viewBox="0 0 16 16">
      <path d="M5.5 3.5A1.5 1.5 0 0 1 7 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5zm5 0A1.5 1.5 0 0 1 12 5v6a1.5 1.5 0 0 1-3 0V5a1.5 1.5 0 0 1 1.5-1.5z"></path>
    </svg>
  `,radio:`
    <svg part="checked-icon" class="radio__icon" viewBox="0 0 16 16">
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g fill="currentColor">
          <circle cx="8" cy="8" r="3.42857143"></circle>
        </g>
      </g>
    </svg>
  `,"star-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-star-fill" viewBox="0 0 16 16">
      <path d="M3.612 15.443c-.386.198-.824-.149-.746-.592l.83-4.73L.173 6.765c-.329-.314-.158-.888.283-.95l4.898-.696L7.538.792c.197-.39.73-.39.927 0l2.184 4.327 4.898.696c.441.062.612.636.282.95l-3.522 3.356.83 4.73c.078.443-.36.79-.746.592L8 13.187l-4.389 2.256z"/>
    </svg>
  `,"x-lg":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-lg" viewBox="0 0 16 16">
      <path d="M2.146 2.854a.5.5 0 1 1 .708-.708L8 7.293l5.146-5.147a.5.5 0 0 1 .708.708L8.707 8l5.147 5.146a.5.5 0 0 1-.708.708L8 8.707l-5.146 5.147a.5.5 0 0 1-.708-.708L7.293 8 2.146 2.854Z"/>
    </svg>
  `,"x-circle-fill":`
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
      <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"></path>
    </svg>
  `},systemLibrary={name:"system",resolver:nt=>nt in icons?`data:image/svg+xml,${encodeURIComponent(icons[nt])}`:""},library_system_default=systemLibrary,registry=[library_default_default,library_system_default],watchedIcons=[];function watchIcon(nt){watchedIcons.push(nt)}function unwatchIcon(nt){watchedIcons=watchedIcons.filter(rt=>rt!==nt)}function getIconLibrary(nt){return registry.find(rt=>rt.name===nt)}var includeFiles=new Map;function requestInclude(nt,rt="cors"){if(includeFiles.has(nt))return includeFiles.get(nt);const it=fetch(nt,{mode:rt}).then(async st=>({ok:st.ok,status:st.status,html:await st.text()}));return includeFiles.set(nt,it),it}var iconFiles=new Map;async function requestIcon(nt){if(iconFiles.has(nt))return iconFiles.get(nt);const rt=await requestInclude(nt),it={ok:rt.ok,status:rt.status,svg:null};if(rt.ok){const st=document.createElement("div");st.innerHTML=rt.html;const bt=st.firstElementChild;it.svg=(bt==null?void 0:bt.tagName.toLowerCase())==="svg"?bt.outerHTML:""}return iconFiles.set(nt,it),it}var icon_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    width: 1em;
    height: 1em;
    contain: strict;
    box-sizing: content-box !important;
  }

  svg {
    display: block;
    height: 100%;
    width: 100%;
  }
`,e4=class extends i$3{constructor(nt){if(super(nt),this.it=b$1,nt.type!==t$3.CHILD)throw Error(this.constructor.directiveName+"() can only be used in child bindings")}render(nt){if(nt===b$1||nt==null)return this._t=void 0,this.it=nt;if(nt===x$2)return nt;if(typeof nt!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(nt===this.it)return this._t;this.it=nt;const rt=[nt];return rt.raw=rt,this._t={_$litType$:this.constructor.resultType,strings:rt,values:[]}}};e4.directiveName="unsafeHTML",e4.resultType=1;var t3$1=class extends e4{};t3$1.directiveName="unsafeSVG",t3$1.resultType=2;var o2$1=e$3(t3$1),parser$d,SlIcon=class extends ShoelaceElement{constructor(){super(...arguments),this.svg="",this.label="",this.library="default"}connectedCallback(){super.connectedCallback(),watchIcon(this)}firstUpdated(){this.setIcon()}disconnectedCallback(){super.disconnectedCallback(),unwatchIcon(this)}getUrl(){const nt=getIconLibrary(this.library);return this.name&&nt?nt.resolver(this.name):this.src}handleLabelChange(){typeof this.label=="string"&&this.label.length>0?(this.setAttribute("role","img"),this.setAttribute("aria-label",this.label),this.removeAttribute("aria-hidden")):(this.removeAttribute("role"),this.removeAttribute("aria-label"),this.setAttribute("aria-hidden","true"))}async setIcon(){var nt;const rt=getIconLibrary(this.library),it=this.getUrl();if(parser$d||(parser$d=new DOMParser),it)try{const st=await requestIcon(it);if(it!==this.getUrl())return;if(st.ok){const wt=parser$d.parseFromString(st.svg,"text/html").body.querySelector("svg");wt!==null?((nt=rt==null?void 0:rt.mutator)==null||nt.call(rt,wt),this.svg=wt.outerHTML,this.emit("sl-load")):(this.svg="",this.emit("sl-error"))}else this.svg="",this.emit("sl-error")}catch{this.emit("sl-error")}else this.svg.length>0&&(this.svg="")}render(){return y$2` ${o2$1(this.svg)} `}};SlIcon.styles=icon_styles_default;__decorateClass([t$2()],SlIcon.prototype,"svg",2);__decorateClass([e2$2({reflect:!0})],SlIcon.prototype,"name",2);__decorateClass([e2$2()],SlIcon.prototype,"src",2);__decorateClass([e2$2()],SlIcon.prototype,"label",2);__decorateClass([e2$2({reflect:!0})],SlIcon.prototype,"library",2);__decorateClass([watch("label")],SlIcon.prototype,"handleLabelChange",1);__decorateClass([watch("name"),watch("src"),watch("library")],SlIcon.prototype,"setIcon",1);SlIcon=__decorateClass([e$2("sl-icon")],SlIcon);/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var formCollections=new WeakMap,userInteractedControls=new WeakMap,reportValidityOverloads=new WeakMap,FormSubmitController=class{constructor(nt,rt){(this.host=nt).addController(this),this.options=__spreadValues({form:it=>it.closest("form"),name:it=>it.name,value:it=>it.value,defaultValue:it=>it.defaultValue,disabled:it=>{var st;return(st=it.disabled)!=null?st:!1},reportValidity:it=>typeof it.reportValidity=="function"?it.reportValidity():!0,setValue:(it,st)=>it.value=st},rt),this.handleFormData=this.handleFormData.bind(this),this.handleFormSubmit=this.handleFormSubmit.bind(this),this.handleFormReset=this.handleFormReset.bind(this),this.reportFormValidity=this.reportFormValidity.bind(this),this.handleUserInput=this.handleUserInput.bind(this)}hostConnected(){this.form=this.options.form(this.host),this.form&&(formCollections.has(this.form)?formCollections.get(this.form).add(this.host):formCollections.set(this.form,new Set([this.host])),this.form.addEventListener("formdata",this.handleFormData),this.form.addEventListener("submit",this.handleFormSubmit),this.form.addEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)||(reportValidityOverloads.set(this.form,this.form.reportValidity),this.form.reportValidity=()=>this.reportFormValidity())),this.host.addEventListener("sl-input",this.handleUserInput)}hostDisconnected(){var nt;this.form&&((nt=formCollections.get(this.form))==null||nt.delete(this.host),this.form.removeEventListener("formdata",this.handleFormData),this.form.removeEventListener("submit",this.handleFormSubmit),this.form.removeEventListener("reset",this.handleFormReset),reportValidityOverloads.has(this.form)&&(this.form.reportValidity=reportValidityOverloads.get(this.form),reportValidityOverloads.delete(this.form)),this.form=void 0),this.host.removeEventListener("sl-input",this.handleUserInput)}hostUpdated(){var nt;const rt=this.host,it=Boolean(userInteractedControls.get(rt)),st=Boolean(rt.invalid),bt=Boolean(rt.required);(nt=this.form)!=null&&nt.noValidate?(rt.removeAttribute("data-required"),rt.removeAttribute("data-optional"),rt.removeAttribute("data-invalid"),rt.removeAttribute("data-valid"),rt.removeAttribute("data-user-invalid"),rt.removeAttribute("data-user-valid")):(rt.toggleAttribute("data-required",bt),rt.toggleAttribute("data-optional",!bt),rt.toggleAttribute("data-invalid",st),rt.toggleAttribute("data-valid",!st),rt.toggleAttribute("data-user-invalid",st&&it),rt.toggleAttribute("data-user-valid",!st&&it))}handleFormData(nt){const rt=this.options.disabled(this.host),it=this.options.name(this.host),st=this.options.value(this.host),bt=this.host.tagName.toLowerCase()==="sl-button";!rt&&!bt&&typeof it=="string"&&it.length>0&&typeof st<"u"&&(Array.isArray(st)?st.forEach(wt=>{nt.formData.append(it,wt.toString())}):nt.formData.append(it,st.toString()))}handleFormSubmit(nt){var rt;const it=this.options.disabled(this.host),st=this.options.reportValidity;this.form&&!this.form.noValidate&&((rt=formCollections.get(this.form))==null||rt.forEach(bt=>{this.setUserInteracted(bt,!0)})),this.form&&!this.form.noValidate&&!it&&!st(this.host)&&(nt.preventDefault(),nt.stopImmediatePropagation())}handleFormReset(){this.options.setValue(this.host,this.options.defaultValue(this.host)),this.setUserInteracted(this.host,!1)}async handleUserInput(){await this.host.updateComplete,this.setUserInteracted(this.host,!0)}reportFormValidity(){if(this.form&&!this.form.noValidate){const nt=this.form.querySelectorAll("*");for(const rt of nt)if(typeof rt.reportValidity=="function"&&!rt.reportValidity())return!1}return!0}setUserInteracted(nt,rt){userInteractedControls.set(nt,rt),nt.requestUpdate()}doAction(nt,rt){if(this.form){const it=document.createElement("button");it.type=nt,it.style.position="absolute",it.style.width="0",it.style.height="0",it.style.clipPath="inset(50%)",it.style.overflow="hidden",it.style.whiteSpace="nowrap",rt&&(it.name=rt.name,it.value=rt.value,["formaction","formenctype","formmethod","formnovalidate","formtarget"].forEach(st=>{rt.hasAttribute(st)&&it.setAttribute(st,rt.getAttribute(st))})),this.form.append(it),it.click(),it.remove()}}reset(nt){this.doAction("reset",nt)}submit(nt){this.doAction("submit",nt)}},button_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
    position: relative;
    width: auto;
    cursor: pointer;
  }

  .button {
    display: inline-flex;
    align-items: stretch;
    justify-content: center;
    width: 100%;
    border-style: solid;
    border-width: var(--sl-input-border-width);
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-font-weight-semibold);
    text-decoration: none;
    user-select: none;
    white-space: nowrap;
    vertical-align: middle;
    padding: 0;
    transition: var(--sl-transition-x-fast) background-color, var(--sl-transition-x-fast) color,
      var(--sl-transition-x-fast) border, var(--sl-transition-x-fast) box-shadow;
    cursor: inherit;
  }

  .button::-moz-focus-inner {
    border: 0;
  }

  .button:focus {
    outline: none;
  }

  .button:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .button--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  /* When disabled, prevent mouse events from bubbling up */
  .button--disabled * {
    pointer-events: none;
  }

  .button__prefix,
  .button__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    pointer-events: none;
  }

  .button__label {
    display: inline-block;
  }

  .button__label::slotted(sl-icon) {
    vertical-align: -2px;
  }

  /*
   * Standard buttons
   */

  /* Default */
  .button--standard.button--default {
    background-color: var(--sl-color-neutral-0);
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--standard.button--default:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-300);
    color: var(--sl-color-primary-700);
  }

  .button--standard.button--default:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-100);
    border-color: var(--sl-color-primary-400);
    color: var(--sl-color-primary-700);
  }

  /* Primary */
  .button--standard.button--primary {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:hover:not(.button--disabled) {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--primary:active:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--standard.button--success {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:hover:not(.button--disabled) {
    background-color: var(--sl-color-success-500);
    border-color: var(--sl-color-success-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--success:active:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--standard.button--neutral {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:hover:not(.button--disabled) {
    background-color: var(--sl-color-neutral-500);
    border-color: var(--sl-color-neutral-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--neutral:active:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--standard.button--warning {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }
  .button--standard.button--warning:hover:not(.button--disabled) {
    background-color: var(--sl-color-warning-500);
    border-color: var(--sl-color-warning-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--warning:active:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--standard.button--danger {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:hover:not(.button--disabled) {
    background-color: var(--sl-color-danger-500);
    border-color: var(--sl-color-danger-500);
    color: var(--sl-color-neutral-0);
  }

  .button--standard.button--danger:active:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /*
   * Outline buttons
   */

  .button--outline {
    background: none;
    border: solid 1px;
  }

  /* Default */
  .button--outline.button--default {
    border-color: var(--sl-color-neutral-300);
    color: var(--sl-color-neutral-700);
  }

  .button--outline.button--default:hover:not(.button--disabled),
  .button--outline.button--default.button--checked:not(.button--disabled) {
    border-color: var(--sl-color-primary-600);
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--default:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Primary */
  .button--outline.button--primary {
    border-color: var(--sl-color-primary-600);
    color: var(--sl-color-primary-600);
  }

  .button--outline.button--primary:hover:not(.button--disabled),
  .button--outline.button--primary.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--primary:active:not(.button--disabled) {
    border-color: var(--sl-color-primary-700);
    background-color: var(--sl-color-primary-700);
    color: var(--sl-color-neutral-0);
  }

  /* Success */
  .button--outline.button--success {
    border-color: var(--sl-color-success-600);
    color: var(--sl-color-success-600);
  }

  .button--outline.button--success:hover:not(.button--disabled),
  .button--outline.button--success.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--success:active:not(.button--disabled) {
    border-color: var(--sl-color-success-700);
    background-color: var(--sl-color-success-700);
    color: var(--sl-color-neutral-0);
  }

  /* Neutral */
  .button--outline.button--neutral {
    border-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-600);
  }

  .button--outline.button--neutral:hover:not(.button--disabled),
  .button--outline.button--neutral.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--neutral:active:not(.button--disabled) {
    border-color: var(--sl-color-neutral-700);
    background-color: var(--sl-color-neutral-700);
    color: var(--sl-color-neutral-0);
  }

  /* Warning */
  .button--outline.button--warning {
    border-color: var(--sl-color-warning-600);
    color: var(--sl-color-warning-600);
  }

  .button--outline.button--warning:hover:not(.button--disabled),
  .button--outline.button--warning.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--warning:active:not(.button--disabled) {
    border-color: var(--sl-color-warning-700);
    background-color: var(--sl-color-warning-700);
    color: var(--sl-color-neutral-0);
  }

  /* Danger */
  .button--outline.button--danger {
    border-color: var(--sl-color-danger-600);
    color: var(--sl-color-danger-600);
  }

  .button--outline.button--danger:hover:not(.button--disabled),
  .button--outline.button--danger.button--checked:not(.button--disabled) {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  .button--outline.button--danger:active:not(.button--disabled) {
    border-color: var(--sl-color-danger-700);
    background-color: var(--sl-color-danger-700);
    color: var(--sl-color-neutral-0);
  }

  @media (forced-colors: active) {
    .button.button--outline.button--checked:not(.button--disabled) {
      outline: solid 2px transparent;
    }
  }

  /*
   * Text buttons
   */

  .button--text {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-600);
  }

  .button--text:hover:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:focus-visible:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-500);
  }

  .button--text:active:not(.button--disabled) {
    background-color: transparent;
    border-color: transparent;
    color: var(--sl-color-primary-700);
  }

  /*
   * Size modifiers
   */

  .button--small {
    font-size: var(--sl-button-font-size-small);
    height: var(--sl-input-height-small);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
  }

  .button--medium {
    font-size: var(--sl-button-font-size-medium);
    height: var(--sl-input-height-medium);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
  }

  .button--large {
    font-size: var(--sl-button-font-size-large);
    height: var(--sl-input-height-large);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
  }

  /*
   * Pill modifier
   */

  .button--pill.button--small {
    border-radius: var(--sl-input-height-small);
  }

  .button--pill.button--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .button--pill.button--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Circle modifier
   */

  .button--circle {
    padding-left: 0;
    padding-right: 0;
  }

  .button--circle.button--small {
    width: var(--sl-input-height-small);
    border-radius: 50%;
  }

  .button--circle.button--medium {
    width: var(--sl-input-height-medium);
    border-radius: 50%;
  }

  .button--circle.button--large {
    width: var(--sl-input-height-large);
    border-radius: 50%;
  }

  .button--circle .button__prefix,
  .button--circle .button__suffix,
  .button--circle .button__caret {
    display: none;
  }

  /*
   * Caret modifier
   */

  .button--caret .button__suffix {
    display: none;
  }

  .button--caret .button__caret {
    height: auto;
  }

  /*
   * Loading modifier
   */

  .button--loading {
    position: relative;
    cursor: wait;
  }

  .button--loading .button__prefix,
  .button--loading .button__label,
  .button--loading .button__suffix,
  .button--loading .button__caret {
    visibility: hidden;
  }

  .button--loading sl-spinner {
    --indicator-color: currentColor;
    position: absolute;
    font-size: 1em;
    height: 1em;
    width: 1em;
    top: calc(50% - 0.5em);
    left: calc(50% - 0.5em);
  }

  /*
   * Badges
   */

  .button ::slotted(sl-badge) {
    position: absolute;
    top: 0;
    right: 0;
    translate: 50% -50%;
    pointer-events: none;
  }

  .button--rtl ::slotted(sl-badge) {
    right: auto;
    left: 0;
    translate: -50% -50%;
  }

  /*
   * Button spacing
   */

  .button--has-label.button--small .button__label {
    padding: 0 var(--sl-spacing-small);
  }

  .button--has-label.button--medium .button__label {
    padding: 0 var(--sl-spacing-medium);
  }

  .button--has-label.button--large .button__label {
    padding: 0 var(--sl-spacing-large);
  }

  .button--has-prefix.button--small {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--small .button__label {
    padding-inline-start: var(--sl-spacing-x-small);
  }

  .button--has-prefix.button--medium {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--medium .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-prefix.button--large .button__label {
    padding-inline-start: var(--sl-spacing-small);
  }

  .button--has-suffix.button--small,
  .button--caret.button--small {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--small .button__label,
  .button--caret.button--small .button__label {
    padding-inline-end: var(--sl-spacing-x-small);
  }

  .button--has-suffix.button--medium,
  .button--caret.button--medium {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--medium .button__label,
  .button--caret.button--medium .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large,
  .button--caret.button--large {
    padding-inline-end: var(--sl-spacing-small);
  }

  .button--has-suffix.button--large .button__label,
  .button--caret.button--large .button__label {
    padding-inline-end: var(--sl-spacing-small);
  }

  /*
   * Button groups support a variety of button types (e.g. buttons with tooltips, buttons as dropdown triggers, etc.).
   * This means buttons aren't always direct descendants of the button group, thus we can't target them with the
   * ::slotted selector. To work around this, the button group component does some magic to add these special classes to
   * buttons and we style them here instead.
   */

  :host(.sl-button-group__button--first:not(.sl-button-group__button--last)) .button {
    border-start-end-radius: 0;
    border-end-end-radius: 0;
  }

  :host(.sl-button-group__button--inner) .button {
    border-radius: 0;
  }

  :host(.sl-button-group__button--last:not(.sl-button-group__button--first)) .button {
    border-start-start-radius: 0;
    border-end-start-radius: 0;
  }

  /* All except the first */
  :host(.sl-button-group__button:not(.sl-button-group__button--first)) {
    margin-inline-start: calc(-1 * var(--sl-input-border-width));
  }

  /* Add a visual separator between solid buttons */
  :host(.sl-button-group__button:not(.sl-button-group__button--first, .sl-button-group__button--radio, [variant='default']):not(:hover))
    .button:after {
    content: '';
    position: absolute;
    top: 0;
    inset-inline-start: 0;
    bottom: 0;
    border-left: solid 1px rgb(128 128 128 / 33%);
    mix-blend-mode: multiply;
  }

  /* Bump hovered, focused, and checked buttons up so their focus ring isn't clipped */
  :host(.sl-button-group__button--hover) {
    z-index: 1;
  }

  /* Focus and checked are always on top */
  :host(.sl-button-group__button--focus),
  :host(.sl-button-group__button[checked]) {
    z-index: 2;
  }
`,SlButton=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this,{form:nt=>{if(nt.hasAttribute("form")){const rt=nt.getRootNode(),it=nt.getAttribute("form");return rt.getElementById(it)}return nt.closest("form")}}),this.hasSlotController=new HasSlotController(this,"[default]","prefix","suffix"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.variant="default",this.size="medium",this.caret=!1,this.disabled=!1,this.loading=!1,this.outline=!1,this.pill=!1,this.circle=!1,this.type="button",this.name="",this.value="",this.href=""}firstUpdated(){this.isButton()&&(this.invalid=!this.button.checkValidity())}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleClick(nt){if(this.disabled||this.loading){nt.preventDefault(),nt.stopPropagation();return}this.type==="submit"&&this.formSubmitController.submit(this),this.type==="reset"&&this.formSubmitController.reset(this)}isButton(){return!this.href}isLink(){return!!this.href}handleDisabledChange(){this.isButton()&&(this.button.disabled=this.disabled,this.invalid=!this.button.checkValidity())}click(){this.button.click()}focus(nt){this.button.focus(nt)}blur(){this.button.blur()}checkValidity(){return this.isButton()?this.button.checkValidity():!0}reportValidity(){return this.isButton()?this.button.reportValidity():!0}setCustomValidity(nt){this.isButton()&&(this.button.setCustomValidity(nt),this.invalid=!this.button.checkValidity())}render(){const nt=this.isLink(),rt=nt?i$1`a`:i$1`button`;return n$2`
      <${rt}
        part="base"
        class=${o$2({button:!0,"button--default":this.variant==="default","button--primary":this.variant==="primary","button--success":this.variant==="success","button--neutral":this.variant==="neutral","button--warning":this.variant==="warning","button--danger":this.variant==="danger","button--text":this.variant==="text","button--small":this.size==="small","button--medium":this.size==="medium","button--large":this.size==="large","button--caret":this.caret,"button--circle":this.circle,"button--disabled":this.disabled,"button--focused":this.hasFocus,"button--loading":this.loading,"button--standard":!this.outline,"button--outline":this.outline,"button--pill":this.pill,"button--rtl":this.localize.dir()==="rtl","button--has-label":this.hasSlotController.test("[default]"),"button--has-prefix":this.hasSlotController.test("prefix"),"button--has-suffix":this.hasSlotController.test("suffix")})}
        ?disabled=${l$2(nt?void 0:this.disabled)}
        type=${l$2(nt?void 0:this.type)}
        title=${this.title}
        name=${l$2(nt?void 0:this.name)}
        value=${l$2(nt?void 0:this.value)}
        href=${l$2(nt?this.href:void 0)}
        target=${l$2(nt?this.target:void 0)}
        download=${l$2(nt?this.download:void 0)}
        rel=${l$2(nt&&this.target?"noreferrer noopener":void 0)}
        role=${l$2(nt?void 0:"button")}
        aria-disabled=${this.disabled?"true":"false"}
        tabindex=${this.disabled?"-1":"0"}
        @blur=${this.handleBlur}
        @focus=${this.handleFocus}
        @click=${this.handleClick}
      >
        <slot name="prefix" part="prefix" class="button__prefix"></slot>
        <slot part="label" class="button__label"></slot>
        <slot name="suffix" part="suffix" class="button__suffix"></slot>
        ${this.caret?n$2` <sl-icon part="caret" class="button__caret" library="system" name="caret"></sl-icon> `:""}
        ${this.loading?n$2`<sl-spinner></sl-spinner>`:""}
      </${rt}>
    `}};SlButton.styles=button_styles_default;__decorateClass([i2$2(".button")],SlButton.prototype,"button",2);__decorateClass([t$2()],SlButton.prototype,"hasFocus",2);__decorateClass([t$2()],SlButton.prototype,"invalid",2);__decorateClass([e2$2()],SlButton.prototype,"title",2);__decorateClass([e2$2({reflect:!0})],SlButton.prototype,"variant",2);__decorateClass([e2$2({reflect:!0})],SlButton.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"caret",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"disabled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"loading",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"outline",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"pill",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlButton.prototype,"circle",2);__decorateClass([e2$2()],SlButton.prototype,"type",2);__decorateClass([e2$2()],SlButton.prototype,"name",2);__decorateClass([e2$2()],SlButton.prototype,"value",2);__decorateClass([e2$2()],SlButton.prototype,"href",2);__decorateClass([e2$2()],SlButton.prototype,"target",2);__decorateClass([e2$2()],SlButton.prototype,"download",2);__decorateClass([e2$2()],SlButton.prototype,"form",2);__decorateClass([e2$2({attribute:"formaction"})],SlButton.prototype,"formAction",2);__decorateClass([e2$2({attribute:"formenctype"})],SlButton.prototype,"formEnctype",2);__decorateClass([e2$2({attribute:"formmethod"})],SlButton.prototype,"formMethod",2);__decorateClass([e2$2({attribute:"formnovalidate",type:Boolean})],SlButton.prototype,"formNoValidate",2);__decorateClass([e2$2({attribute:"formtarget"})],SlButton.prototype,"formTarget",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlButton.prototype,"handleDisabledChange",1);SlButton=__decorateClass([e$2("sl-button")],SlButton);var spinner_styles_default=i$4`
  ${component_styles_default}

  :host {
    --track-width: 2px;
    --track-color: rgb(128 128 128 / 25%);
    --indicator-color: var(--sl-color-primary-600);
    --speed: 2s;

    display: inline-flex;
    width: 1em;
    height: 1em;
  }

  .spinner {
    flex: 1 1 auto;
    height: 100%;
    width: 100%;
  }

  .spinner__track,
  .spinner__indicator {
    fill: none;
    stroke-width: var(--track-width);
    r: calc(0.5em - var(--track-width) / 2);
    cx: 0.5em;
    cy: 0.5em;
    transform-origin: 50% 50%;
  }

  .spinner__track {
    stroke: var(--track-color);
    transform-origin: 0% 0%;
    mix-blend-mode: multiply;
  }

  .spinner__indicator {
    stroke: var(--indicator-color);
    stroke-linecap: round;
    stroke-dasharray: 150% 75%;
    animation: spin var(--speed) linear infinite;
  }

  @keyframes spin {
    0% {
      rotate: 0deg;
      stroke-dasharray: 0.01em, 2.75em;
    }

    50% {
      rotate: 450deg;
      stroke-dasharray: 1.375em, 1.375em;
    }

    100% {
      rotate: 1080deg;
      stroke-dasharray: 0.01em, 2.75em;
    }
  }
`,SlSpinner=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this)}render(){return y$2`
      <svg part="base" class="spinner" role="progressbar" aria-valuetext=${this.localize.term("loading")}>
        <circle class="spinner__track"></circle>
        <circle class="spinner__indicator"></circle>
      </svg>
    `}};SlSpinner.styles=spinner_styles_default;SlSpinner=__decorateClass([e$2("sl-spinner")],SlSpinner);var form_control_styles_default=i$4`
  .form-control .form-control__label {
    display: none;
  }

  .form-control .form-control__help-text {
    display: none;
  }

  /* Label */
  .form-control--has-label .form-control__label {
    display: inline-block;
    color: var(--sl-input-label-color);
    margin-bottom: var(--sl-spacing-3x-small);
  }

  .form-control--has-label.form-control--small .form-control__label {
    font-size: var(--sl-input-label-font-size-small);
  }

  .form-control--has-label.form-control--medium .form-control__label {
    font-size: var(--sl-input-label-font-size-medium);
  }

  .form-control--has-label.form-control--large .form-control_label {
    font-size: var(--sl-input-label-font-size-large);
  }

  :host([required]) .form-control--has-label .form-control__label::after {
    content: var(--sl-input-required-content);
    margin-inline-start: var(--sl-input-required-content-offset);
    color: var(--sl-input-required-content-color);
  }

  /* Help text */
  .form-control--has-help-text .form-control__help-text {
    display: block;
    color: var(--sl-input-help-text-color);
    margin-top: var(--sl-spacing-3x-small);
  }

  .form-control--has-help-text.form-control--small .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-small);
  }

  .form-control--has-help-text.form-control--medium .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-medium);
  }

  .form-control--has-help-text.form-control--large .form-control__help-text {
    font-size: var(--sl-input-help-text-font-size-large);
  }

  .form-control--has-help-text.form-control--radio-group .form-control__help-text {
    margin-top: var(--sl-spacing-2x-small);
  }
`,input_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .input {
    flex: 1 1 auto;
    display: inline-flex;
    align-items: stretch;
    justify-content: start;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    overflow: hidden;
    cursor: text;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
  }

  /* Standard inputs */
  .input--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .input--standard:hover:not(.input--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }

  .input--standard.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .input--standard.input--focused:not(.input--disabled) .input__control {
    color: var(--sl-input-color-focus);
  }

  .input--standard.input--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input--standard.input--disabled .input__control {
    color: var(--sl-input-color-disabled);
  }

  .input--standard.input--disabled .input__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled inputs */
  .input--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .input--filled:hover:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .input--filled.input--focused:not(.input--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .input--filled.input--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .input__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    min-width: 0;
    height: 100%;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    padding: 0;
    margin: 0;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .input__control::-webkit-search-decoration,
  .input__control::-webkit-search-cancel-button,
  .input__control::-webkit-search-results-button,
  .input__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .input__control:-webkit-autofill,
  .input__control:-webkit-autofill:hover,
  .input__control:-webkit-autofill:focus,
  .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-background-color-hover) inset !important;
    -webkit-text-fill-color: var(--sl-color-primary-500);
    caret-color: var(--sl-input-color);
  }

  .input--filled .input__control:-webkit-autofill,
  .input--filled .input__control:-webkit-autofill:hover,
  .input--filled .input__control:-webkit-autofill:focus,
  .input--filled .input__control:-webkit-autofill:active {
    box-shadow: 0 0 0 var(--sl-input-height-large) var(--sl-input-filled-background-color) inset !important;
  }

  .input__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .input:hover:not(.input--disabled) .input__control {
    color: var(--sl-input-color-hover);
  }

  .input__control:focus {
    outline: none;
  }

  .input__prefix,
  .input__suffix {
    display: inline-flex;
    flex: 0 0 auto;
    align-items: center;
    cursor: default;
  }

  .input__prefix::slotted(sl-icon),
  .input__suffix::slotted(sl-icon) {
    color: var(--sl-input-icon-color);
  }

  /*
   * Size modifiers
   */

  .input--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
    height: var(--sl-input-height-small);
  }

  .input--small .input__control {
    height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-small);
  }

  .input--small .input__clear,
  .input--small .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-small) * 2);
  }

  .input--small .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-small);
  }

  .input--small .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-small);
  }

  .input--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
    height: var(--sl-input-height-medium);
  }

  .input--medium .input__control {
    height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-medium);
  }

  .input--medium .input__clear,
  .input--medium .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-medium) * 2);
  }

  .input--medium .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-medium);
  }

  .input--medium .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-medium);
  }

  .input--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
    height: var(--sl-input-height-large);
  }

  .input--large .input__control {
    height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    padding: 0 var(--sl-input-spacing-large);
  }

  .input--large .input__clear,
  .input--large .input__password-toggle {
    width: calc(1em + var(--sl-input-spacing-large) * 2);
  }

  .input--large .input__prefix::slotted(*) {
    margin-inline-start: var(--sl-input-spacing-large);
  }

  .input--large .input__suffix::slotted(*) {
    margin-inline-end: var(--sl-input-spacing-large);
  }

  /*
   * Pill modifier
   */

  .input--pill.input--small {
    border-radius: var(--sl-input-height-small);
  }

  .input--pill.input--medium {
    border-radius: var(--sl-input-height-medium);
  }

  .input--pill.input--large {
    border-radius: var(--sl-input-height-large);
  }

  /*
   * Clearable + Password Toggle
   */

  .input__clear,
  .input__password-toggle {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: inherit;
    color: var(--sl-input-icon-color);
    border: none;
    background: none;
    padding: 0;
    transition: var(--sl-transition-fast) color;
    cursor: pointer;
  }

  .input__clear:hover,
  .input__password-toggle:hover {
    color: var(--sl-input-icon-color-hover);
  }

  .input__clear:focus,
  .input__password-toggle:focus {
    outline: none;
  }

  .input--empty .input__clear {
    visibility: hidden;
  }

  /* Don't show the browser's password toggle in Edge */
  ::-ms-reveal {
    display: none;
  }

  /* Hide Firefox's clear button on date and time inputs */
  .input--is-firefox input[type='date'],
  .input--is-firefox input[type='time'] {
    clip-path: inset(0 2em 0 0);
  }

  /* Hide the built-in number spinner */
  .input--no-spin-buttons input[type='number']::-webkit-outer-spin-button,
  .input--no-spin-buttons input[type='number']::-webkit-inner-spin-button {
    -webkit-appearance: none;
    display: none;
  }

  .input--no-spin-buttons input[type='number'] {
    -moz-appearance: textfield;
  }
`,e2$1=nt=>nt.strings===void 0,f$1={},s$2=(nt,rt=f$1)=>nt._$AH=rt,l2$1=e$3(class extends i$3{constructor(nt){if(super(nt),nt.type!==t$3.PROPERTY&&nt.type!==t$3.ATTRIBUTE&&nt.type!==t$3.BOOLEAN_ATTRIBUTE)throw Error("The `live` directive is not allowed on child or event bindings");if(!e2$1(nt))throw Error("`live` bindings can only contain a single expression")}render(nt){return nt}update(nt,[rt]){if(rt===x$2||rt===b$1)return rt;const it=nt.element,st=nt.name;if(nt.type===t$3.PROPERTY){if(rt===it[st])return x$2}else if(nt.type===t$3.BOOLEAN_ATTRIBUTE){if(!!rt===it.hasAttribute(st))return x$2}else if(nt.type===t$3.ATTRIBUTE&&it.getAttribute(st)===rt+"")return x$2;return s$2(nt),rt}});/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var defaultValue=(nt="value")=>(rt,it)=>{const st=rt.constructor,bt=st.prototype.attributeChangedCallback;st.prototype.attributeChangedCallback=function(wt,Et,Tt){var At;const Dt=st.getPropertyOptions(nt),Ot=typeof Dt.attribute=="string"?Dt.attribute:nt;if(wt===Ot){const zt=Dt.converter||n2$1,Bt=(typeof zt=="function"?zt:(At=zt==null?void 0:zt.fromAttribute)!=null?At:n2$1.fromAttribute)(Tt,Dt.type);this[nt]!==Bt&&(this[it]=Bt)}bt.call(this,wt,Et,Tt)}},_a,isChromium=(_a=navigator.userAgentData)==null?void 0:_a.brands.some(nt=>nt.brand.includes("Chromium")),isFirefox=isChromium?!1:navigator.userAgent.includes("Firefox"),SlInput=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.invalid=!1,this.title="",this.type="text",this.name="",this.value="",this.defaultValue="",this.size="medium",this.filled=!1,this.pill=!1,this.label="",this.helpText="",this.clearable=!1,this.disabled=!1,this.placeholder="",this.readonly=!1,this.passwordToggle=!1,this.passwordVisible=!1,this.noSpinButtons=!1,this.required=!1,this.spellcheck=!0}get valueAsDate(){var nt,rt;return(rt=(nt=this.input)==null?void 0:nt.valueAsDate)!=null?rt:null}set valueAsDate(nt){const rt=document.createElement("input");rt.type="date",rt.valueAsDate=nt,this.value=rt.value}get valueAsNumber(){var nt,rt;return(rt=(nt=this.input)==null?void 0:nt.valueAsNumber)!=null?rt:parseFloat(this.value)}set valueAsNumber(nt){const rt=document.createElement("input");rt.type="number",rt.valueAsNumber=nt,this.value=rt.value}firstUpdated(){this.invalid=!this.checkValidity()}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.emit("sl-change")}handleClearClick(nt){this.value="",this.emit("sl-clear"),this.emit("sl-input"),this.emit("sl-change"),this.input.focus(),nt.stopPropagation()}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.invalid=!this.checkValidity(),this.emit("sl-input")}handleInvalid(){this.invalid=!0}handleKeyDown(nt){const rt=nt.metaKey||nt.ctrlKey||nt.shiftKey||nt.altKey;nt.key==="Enter"&&!rt&&setTimeout(()=>{!nt.defaultPrevented&&!nt.isComposing&&this.formSubmitController.submit()})}handlePasswordToggle(){this.passwordVisible=!this.passwordVisible}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}handleStepChange(){this.input.step=String(this.step),this.invalid=!this.checkValidity()}async handleValueChange(){await this.updateComplete,this.invalid=!this.checkValidity()}focus(nt){this.input.focus(nt)}blur(){this.input.blur()}select(){this.input.select()}setSelectionRange(nt,rt,it="none"){this.input.setSelectionRange(nt,rt,it)}setRangeText(nt,rt,it,st){this.input.setRangeText(nt,rt,it,st),this.value!==this.input.value&&(this.value=this.input.value)}showPicker(){"showPicker"in HTMLInputElement.prototype&&this.input.showPicker()}stepUp(){this.input.stepUp(),this.value!==this.input.value&&(this.value=this.input.value)}stepDown(){this.input.stepDown(),this.value!==this.input.value&&(this.value=this.input.value)}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(nt){this.input.setCustomValidity(nt),this.invalid=!this.checkValidity()}render(){const nt=this.hasSlotController.test("label"),rt=this.hasSlotController.test("help-text"),it=this.label?!0:!!nt,st=this.helpText?!0:!!rt,bt=this.clearable&&!this.disabled&&!this.readonly&&(typeof this.value=="number"||this.value.length>0);return y$2`
      <div
        part="form-control"
        class=${o$2({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":it,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${it?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$2({input:!0,"input--small":this.size==="small","input--medium":this.size==="medium","input--large":this.size==="large","input--pill":this.pill,"input--standard":!this.filled,"input--filled":this.filled,"input--disabled":this.disabled,"input--focused":this.hasFocus,"input--empty":!this.value,"input--invalid":this.invalid,"input--no-spin-buttons":this.noSpinButtons,"input--is-firefox":isFirefox})}
          >
            <slot name="prefix" part="prefix" class="input__prefix"></slot>
            <input
              part="input"
              id="input"
              class="input__control"
              type=${this.type==="password"&&this.passwordVisible?"text":this.type}
              title=${this.title}
              name=${l$2(this.name)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${l$2(this.placeholder)}
              minlength=${l$2(this.minlength)}
              maxlength=${l$2(this.maxlength)}
              min=${l$2(this.min)}
              max=${l$2(this.max)}
              step=${l$2(this.step)}
              .value=${l2$1(this.value)}
              autocapitalize=${l$2(this.type==="password"?"off":this.autocapitalize)}
              autocomplete=${l$2(this.type==="password"?"off":this.autocomplete)}
              autocorrect=${l$2(this.type==="password"?"off":this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${this.spellcheck}
              pattern=${l$2(this.pattern)}
              enterkeyhint=${l$2(this.enterkeyhint)}
              inputmode=${l$2(this.inputmode)}
              aria-describedby="help-text"
              aria-invalid=${this.invalid?"true":"false"}
              @change=${this.handleChange}
              @input=${this.handleInput}
              @invalid=${this.handleInvalid}
              @keydown=${this.handleKeyDown}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />

            ${bt?y$2`
                    <button
                      part="clear-button"
                      class="input__clear"
                      type="button"
                      aria-label=${this.localize.term("clearEntry")}
                      @click=${this.handleClearClick}
                      tabindex="-1"
                    >
                      <slot name="clear-icon">
                        <sl-icon name="x-circle-fill" library="system"></sl-icon>
                      </slot>
                    </button>
                  `:""}
            ${this.passwordToggle&&!this.disabled?y$2`
                    <button
                      part="password-toggle-button"
                      class="input__password-toggle"
                      type="button"
                      aria-label=${this.localize.term(this.passwordVisible?"hidePassword":"showPassword")}
                      @click=${this.handlePasswordToggle}
                      tabindex="-1"
                    >
                      ${this.passwordVisible?y$2`
                            <slot name="show-password-icon">
                              <sl-icon name="eye-slash" library="system"></sl-icon>
                            </slot>
                          `:y$2`
                            <slot name="hide-password-icon">
                              <sl-icon name="eye" library="system"></sl-icon>
                            </slot>
                          `}
                    </button>
                  `:""}

            <slot name="suffix" part="suffix" class="input__suffix"></slot>
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
        </div>
      </div>
    `}};SlInput.styles=input_styles_default;__decorateClass([i2$2(".input__control")],SlInput.prototype,"input",2);__decorateClass([t$2()],SlInput.prototype,"hasFocus",2);__decorateClass([t$2()],SlInput.prototype,"invalid",2);__decorateClass([e2$2()],SlInput.prototype,"title",2);__decorateClass([e2$2({reflect:!0})],SlInput.prototype,"type",2);__decorateClass([e2$2()],SlInput.prototype,"name",2);__decorateClass([e2$2()],SlInput.prototype,"value",2);__decorateClass([defaultValue()],SlInput.prototype,"defaultValue",2);__decorateClass([e2$2({reflect:!0})],SlInput.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"filled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"pill",2);__decorateClass([e2$2()],SlInput.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlInput.prototype,"helpText",2);__decorateClass([e2$2({type:Boolean})],SlInput.prototype,"clearable",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"disabled",2);__decorateClass([e2$2()],SlInput.prototype,"placeholder",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"readonly",2);__decorateClass([e2$2({attribute:"password-toggle",type:Boolean})],SlInput.prototype,"passwordToggle",2);__decorateClass([e2$2({attribute:"password-visible",type:Boolean})],SlInput.prototype,"passwordVisible",2);__decorateClass([e2$2({attribute:"no-spin-buttons",type:Boolean})],SlInput.prototype,"noSpinButtons",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlInput.prototype,"required",2);__decorateClass([e2$2()],SlInput.prototype,"pattern",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"minlength",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"maxlength",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"min",2);__decorateClass([e2$2({type:Number})],SlInput.prototype,"max",2);__decorateClass([e2$2()],SlInput.prototype,"step",2);__decorateClass([e2$2()],SlInput.prototype,"autocapitalize",2);__decorateClass([e2$2()],SlInput.prototype,"autocorrect",2);__decorateClass([e2$2()],SlInput.prototype,"autocomplete",2);__decorateClass([e2$2({type:Boolean})],SlInput.prototype,"autofocus",2);__decorateClass([e2$2()],SlInput.prototype,"enterkeyhint",2);__decorateClass([e2$2({type:Boolean,converter:{fromAttribute:nt=>!(!nt||nt==="false"),toAttribute:nt=>nt?"true":"false"}})],SlInput.prototype,"spellcheck",2);__decorateClass([e2$2()],SlInput.prototype,"inputmode",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleDisabledChange",1);__decorateClass([watch("step",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleStepChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlInput.prototype,"handleValueChange",1);SlInput=__decorateClass([e$2("sl-input")],SlInput);var tooltip_styles_default=i$4`
  ${component_styles_default}

  :host {
    --max-width: 20rem;
    --hide-delay: 0ms;
    --show-delay: 150ms;

    display: contents;
  }

  .tooltip {
    --arrow-size: var(--sl-tooltip-arrow-size);
    --arrow-color: var(--sl-tooltip-background-color);
  }

  .tooltip::part(popup) {
    pointer-events: none;
    z-index: var(--sl-z-index-tooltip);
  }

  .tooltip[placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .tooltip[placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .tooltip[placement^='left']::part(popup) {
    transform-origin: right;
  }

  .tooltip[placement^='right']::part(popup) {
    transform-origin: left;
  }

  .tooltip__body {
    display: block;
    width: max-content;
    max-width: var(--max-width);
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    padding: var(--sl-tooltip-padding);
    pointer-events: none;
  }
`,SlTooltip=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.content="",this.placement="top",this.disabled=!1,this.distance=8,this.open=!1,this.skidding=0,this.trigger="hover focus",this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleBlur=this.handleBlur.bind(this),this.handleClick=this.handleClick.bind(this),this.handleFocus=this.handleFocus.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleMouseOver=this.handleMouseOver.bind(this),this.handleMouseOut=this.handleMouseOut.bind(this),this.updateComplete.then(()=>{this.addEventListener("blur",this.handleBlur,!0),this.addEventListener("focus",this.handleFocus,!0),this.addEventListener("click",this.handleClick),this.addEventListener("keydown",this.handleKeyDown),this.addEventListener("mouseover",this.handleMouseOver),this.addEventListener("mouseout",this.handleMouseOut)})}firstUpdated(){this.body.hidden=!this.open,this.open&&(this.popup.active=!0,this.popup.reposition())}disconnectedCallback(){super.disconnectedCallback(),this.removeEventListener("blur",this.handleBlur,!0),this.removeEventListener("focus",this.handleFocus,!0),this.removeEventListener("click",this.handleClick),this.removeEventListener("keydown",this.handleKeyDown),this.removeEventListener("mouseover",this.handleMouseOver),this.removeEventListener("mouseout",this.handleMouseOut)}handleBlur(){this.hasTrigger("focus")&&this.hide()}handleClick(){this.hasTrigger("click")&&(this.open?this.hide():this.show())}handleFocus(){this.hasTrigger("focus")&&this.show()}handleKeyDown(nt){this.open&&nt.key==="Escape"&&(nt.stopPropagation(),this.hide())}handleMouseOver(){if(this.hasTrigger("hover")){const nt=parseDuration$1(getComputedStyle(this).getPropertyValue("--show-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.show(),nt)}}handleMouseOut(){if(this.hasTrigger("hover")){const nt=parseDuration$1(getComputedStyle(this).getPropertyValue("--hide-delay"));clearTimeout(this.hoverTimeout),this.hoverTimeout=window.setTimeout(()=>this.hide(),nt)}}hasTrigger(nt){return this.trigger.split(" ").includes(nt)}async handleOpenChange(){if(this.open){if(this.disabled)return;this.emit("sl-show"),await stopAnimations(this.body),this.body.hidden=!1,this.popup.active=!0;const{keyframes:nt,options:rt}=getAnimation(this,"tooltip.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,nt,rt),this.emit("sl-after-show")}else{this.emit("sl-hide"),await stopAnimations(this.body);const{keyframes:nt,options:rt}=getAnimation(this,"tooltip.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,nt,rt),this.popup.active=!1,this.body.hidden=!0,this.emit("sl-after-hide")}}async handleOptionsChange(){this.hasUpdated&&(await this.updateComplete,this.popup.reposition())}handleDisabledChange(){this.disabled&&this.open&&this.hide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <sl-popup
        part="base"
        exportparts="
          popup:base__popup,
          arrow:base__arrow
        "
        class=${o$2({tooltip:!0,"tooltip--open":this.open})}
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        arrow
      >
        <slot slot="anchor" aria-describedby="tooltip"></slot>

        <slot
          name="content"
          part="body"
          id="tooltip"
          class="tooltip__body"
          role="tooltip"
          aria-live=${this.open?"polite":"off"}
        >
          ${this.content}
        </slot>
      </sl-popup>
    `}};SlTooltip.styles=tooltip_styles_default;__decorateClass([i2$2("slot:not([name])")],SlTooltip.prototype,"defaultSlot",2);__decorateClass([i2$2(".tooltip__body")],SlTooltip.prototype,"body",2);__decorateClass([i2$2("sl-popup")],SlTooltip.prototype,"popup",2);__decorateClass([e2$2()],SlTooltip.prototype,"content",2);__decorateClass([e2$2()],SlTooltip.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTooltip.prototype,"disabled",2);__decorateClass([e2$2({type:Number})],SlTooltip.prototype,"distance",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTooltip.prototype,"open",2);__decorateClass([e2$2({type:Number})],SlTooltip.prototype,"skidding",2);__decorateClass([e2$2()],SlTooltip.prototype,"trigger",2);__decorateClass([e2$2({type:Boolean})],SlTooltip.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlTooltip.prototype,"handleOpenChange",1);__decorateClass([watch("content"),watch("distance"),watch("hoist"),watch("placement"),watch("skidding")],SlTooltip.prototype,"handleOptionsChange",1);__decorateClass([watch("disabled")],SlTooltip.prototype,"handleDisabledChange",1);SlTooltip=__decorateClass([e$2("sl-tooltip")],SlTooltip);setDefaultAnimation("tooltip.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:150,easing:"ease"}});setDefaultAnimation("tooltip.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:150,easing:"ease"}});var popup_styles_default=i$4`
  ${component_styles_default}

  :host {
    --arrow-color: var(--sl-color-neutral-1000);
    --arrow-size: 6px;

    /*
     * These properties are computed to account for the arrow's dimensions after being rotated 45º. The constant
     * 0.7071 is derived from sin(45), which is the diagonal size of the arrow's container after rotating.
     */
    --arrow-size-diagonal: calc(var(--arrow-size) * 0.7071);
    --arrow-padding-offset: calc(var(--arrow-size-diagonal) - var(--arrow-size));

    display: contents;
  }

  .popup {
    position: absolute;
    isolation: isolate;
    max-width: var(--auto-size-available-width, none);
    max-height: var(--auto-size-available-height, none);
  }

  .popup--fixed {
    position: fixed;
  }

  .popup:not(.popup--active) {
    display: none;
  }

  .popup__arrow {
    position: absolute;
    width: calc(var(--arrow-size-diagonal) * 2);
    height: calc(var(--arrow-size-diagonal) * 2);
    rotate: 45deg;
    background: var(--arrow-color);
    z-index: -1;
  }
`;function t$1(nt){return nt.split("-")[0]}function e3(nt){return nt.split("-")[1]}function n$1(nt){return["top","bottom"].includes(t$1(nt))?"x":"y"}function r$1(nt){return nt==="y"?"height":"width"}function i2$1(nt,rt,it){let{reference:st,floating:bt}=nt;const wt=st.x+st.width/2-bt.width/2,Et=st.y+st.height/2-bt.height/2,Tt=n$1(rt),At=r$1(Tt),Dt=st[At]/2-bt[At]/2,Ot=Tt==="x";let zt;switch(t$1(rt)){case"top":zt={x:wt,y:st.y-bt.height};break;case"bottom":zt={x:wt,y:st.y+st.height};break;case"right":zt={x:st.x+st.width,y:Et};break;case"left":zt={x:st.x-bt.width,y:Et};break;default:zt={x:st.x,y:st.y}}switch(e3(rt)){case"start":zt[Tt]-=Dt*(it&&Ot?-1:1);break;case"end":zt[Tt]+=Dt*(it&&Ot?-1:1)}return zt}var o2=async(nt,rt,it)=>{const{placement:st="bottom",strategy:bt="absolute",middleware:wt=[],platform:Et}=it,Tt=wt.filter(Boolean),At=await(Et.isRTL==null?void 0:Et.isRTL(rt));let Dt=await Et.getElementRects({reference:nt,floating:rt,strategy:bt}),{x:Ot,y:zt}=i2$1(Dt,st,At),$t=st,Bt={},Yt=0;for(let Xt=0;Xt<Tt.length;Xt++){const{name:Ht,fn:Qt}=Tt[Xt],{x:Zt,y:nn,data:Kt,reset:ln}=await Qt({x:Ot,y:zt,initialPlacement:st,placement:$t,strategy:bt,middlewareData:Bt,rects:Dt,platform:Et,elements:{reference:nt,floating:rt}});Ot=Zt!=null?Zt:Ot,zt=nn!=null?nn:zt,Bt=__spreadProps(__spreadValues({},Bt),{[Ht]:__spreadValues(__spreadValues({},Bt[Ht]),Kt)}),ln&&Yt<=50&&(Yt++,typeof ln=="object"&&(ln.placement&&($t=ln.placement),ln.rects&&(Dt=ln.rects===!0?await Et.getElementRects({reference:nt,floating:rt,strategy:bt}):ln.rects),{x:Ot,y:zt}=i2$1(Dt,$t,At)),Xt=-1)}return{x:Ot,y:zt,placement:$t,strategy:bt,middlewareData:Bt}};function a(nt){return typeof nt!="number"?function(rt){return __spreadValues({top:0,right:0,bottom:0,left:0},rt)}(nt):{top:nt,right:nt,bottom:nt,left:nt}}function l(nt){return __spreadProps(__spreadValues({},nt),{top:nt.y,left:nt.x,right:nt.x+nt.width,bottom:nt.y+nt.height})}async function s$1(nt,rt){var it;rt===void 0&&(rt={});const{x:st,y:bt,platform:wt,rects:Et,elements:Tt,strategy:At}=nt,{boundary:Dt="clippingAncestors",rootBoundary:Ot="viewport",elementContext:zt="floating",altBoundary:$t=!1,padding:Bt=0}=rt,Yt=a(Bt),Xt=Tt[$t?zt==="floating"?"reference":"floating":zt],Ht=l(await wt.getClippingRect({element:(it=await(wt.isElement==null?void 0:wt.isElement(Xt)))==null||it?Xt:Xt.contextElement||await(wt.getDocumentElement==null?void 0:wt.getDocumentElement(Tt.floating)),boundary:Dt,rootBoundary:Ot,strategy:At})),Qt=l(wt.convertOffsetParentRelativeRectToViewportRelativeRect?await wt.convertOffsetParentRelativeRectToViewportRelativeRect({rect:zt==="floating"?__spreadProps(__spreadValues({},Et.floating),{x:st,y:bt}):Et.reference,offsetParent:await(wt.getOffsetParent==null?void 0:wt.getOffsetParent(Tt.floating)),strategy:At}):Et[zt]);return{top:Ht.top-Qt.top+Yt.top,bottom:Qt.bottom-Ht.bottom+Yt.bottom,left:Ht.left-Qt.left+Yt.left,right:Qt.right-Ht.right+Yt.right}}var c$1=Math.min,f=Math.max;function u(nt,rt,it){return f(nt,c$1(rt,it))}var m$1=nt=>({name:"arrow",options:nt,async fn(rt){const{element:it,padding:st=0}=nt!=null?nt:{},{x:bt,y:wt,placement:Et,rects:Tt,platform:At}=rt;if(it==null)return{};const Dt=a(st),Ot={x:bt,y:wt},zt=n$1(Et),$t=e3(Et),Bt=r$1(zt),Yt=await At.getDimensions(it),Xt=zt==="y"?"top":"left",Ht=zt==="y"?"bottom":"right",Qt=Tt.reference[Bt]+Tt.reference[zt]-Ot[zt]-Tt.floating[Bt],Zt=Ot[zt]-Tt.reference[zt],nn=await(At.getOffsetParent==null?void 0:At.getOffsetParent(it));let Kt=nn?zt==="y"?nn.clientHeight||0:nn.clientWidth||0:0;Kt===0&&(Kt=Tt.floating[Bt]);const ln=Qt/2-Zt/2,sn=Dt[Xt],bn=Kt-Yt[Bt]-Dt[Ht],wn=Kt/2-Yt[Bt]/2+ln,Mn=u(sn,wn,bn),Sn=($t==="start"?Dt[Xt]:Dt[Ht])>0&&wn!==Mn&&Tt.reference[Bt]<=Tt.floating[Bt];return{[zt]:Ot[zt]-(Sn?wn<sn?sn-wn:bn-wn:0),data:{[zt]:Mn,centerOffset:wn-Mn}}}}),g={left:"right",right:"left",bottom:"top",top:"bottom"};function d$1(nt){return nt.replace(/left|right|bottom|top/g,rt=>g[rt])}function p(nt,rt,it){it===void 0&&(it=!1);const st=e3(nt),bt=n$1(nt),wt=r$1(bt);let Et=bt==="x"?st===(it?"end":"start")?"right":"left":st==="start"?"bottom":"top";return rt.reference[wt]>rt.floating[wt]&&(Et=d$1(Et)),{main:Et,cross:d$1(Et)}}var h$1={start:"end",end:"start"};function y2(nt){return nt.replace(/start|end/g,rt=>h$1[rt])}var x$1=["top","right","bottom","left"];x$1.reduce((nt,rt)=>nt.concat(rt,rt+"-start",rt+"-end"),[]);var b=function(nt){return nt===void 0&&(nt={}),{name:"flip",options:nt,async fn(rt){var it;const{placement:st,middlewareData:bt,rects:wt,initialPlacement:Et,platform:Tt,elements:At}=rt,Dt=nt,{mainAxis:Ot=!0,crossAxis:zt=!0,fallbackPlacements:$t,fallbackStrategy:Bt="bestFit",flipAlignment:Yt=!0}=Dt,Xt=__objRest(Dt,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","flipAlignment"]),Ht=t$1(st),Qt=$t||(Ht===Et||!Yt?[d$1(Et)]:function(Mn){const Sn=d$1(Mn);return[y2(Mn),Sn,y2(Sn)]}(Et)),Zt=[Et,...Qt],nn=await s$1(rt,Xt),Kt=[];let ln=((it=bt.flip)==null?void 0:it.overflows)||[];if(Ot&&Kt.push(nn[Ht]),zt){const{main:Mn,cross:Sn}=p(st,wt,await(Tt.isRTL==null?void 0:Tt.isRTL(At.floating)));Kt.push(nn[Mn],nn[Sn])}if(ln=[...ln,{placement:st,overflows:Kt}],!Kt.every(Mn=>Mn<=0)){var sn,bn;const Mn=((sn=(bn=bt.flip)==null?void 0:bn.index)!=null?sn:0)+1,Sn=Zt[Mn];if(Sn)return{data:{index:Mn,overflows:ln},reset:{placement:Sn}};let Dn="bottom";switch(Bt){case"bestFit":{var wn;const gn=(wn=ln.map(Un=>[Un,Un.overflows.filter(pn=>pn>0).reduce((pn,yr)=>pn+yr,0)]).sort((Un,pn)=>Un[1]-pn[1])[0])==null?void 0:wn[0].placement;gn&&(Dn=gn);break}case"initialPlacement":Dn=Et}if(st!==Dn)return{reset:{placement:Dn}}}return{}}}},T=function(nt){return nt===void 0&&(nt=0),{name:"offset",options:nt,async fn(rt){const{x:it,y:st}=rt,bt=await async function(wt,Et){const{placement:Tt,platform:At,elements:Dt}=wt,Ot=await(At.isRTL==null?void 0:At.isRTL(Dt.floating)),zt=t$1(Tt),$t=e3(Tt),Bt=n$1(Tt)==="x",Yt=["left","top"].includes(zt)?-1:1,Xt=Ot&&Bt?-1:1,Ht=typeof Et=="function"?Et(wt):Et;let{mainAxis:Qt,crossAxis:Zt,alignmentAxis:nn}=typeof Ht=="number"?{mainAxis:Ht,crossAxis:0,alignmentAxis:null}:__spreadValues({mainAxis:0,crossAxis:0,alignmentAxis:null},Ht);return $t&&typeof nn=="number"&&(Zt=$t==="end"?-1*nn:nn),Bt?{x:Zt*Xt,y:Qt*Yt}:{x:Qt*Yt,y:Zt*Xt}}(rt,nt);return{x:it+bt.x,y:st+bt.y,data:bt}}}};function O(nt){return nt==="x"?"y":"x"}var L$2=function(nt){return nt===void 0&&(nt={}),{name:"shift",options:nt,async fn(rt){const{x:it,y:st,placement:bt}=rt,wt=nt,{mainAxis:Et=!0,crossAxis:Tt=!1,limiter:At={fn:Qt=>{let{x:Zt,y:nn}=Qt;return{x:Zt,y:nn}}}}=wt,Dt=__objRest(wt,["mainAxis","crossAxis","limiter"]),Ot={x:it,y:st},zt=await s$1(rt,Dt),$t=n$1(t$1(bt)),Bt=O($t);let Yt=Ot[$t],Xt=Ot[Bt];if(Et){const Qt=$t==="y"?"bottom":"right";Yt=u(Yt+zt[$t==="y"?"top":"left"],Yt,Yt-zt[Qt])}if(Tt){const Qt=Bt==="y"?"bottom":"right";Xt=u(Xt+zt[Bt==="y"?"top":"left"],Xt,Xt-zt[Qt])}const Ht=At.fn(__spreadProps(__spreadValues({},rt),{[$t]:Yt,[Bt]:Xt}));return __spreadProps(__spreadValues({},Ht),{data:{x:Ht.x-it,y:Ht.y-st}})}}},k=function(nt){return nt===void 0&&(nt={}),{name:"size",options:nt,async fn(rt){const{placement:it,rects:st,platform:bt,elements:wt}=rt,Et=nt,{apply:Tt=()=>{}}=Et,At=__objRest(Et,["apply"]),Dt=await s$1(rt,At),Ot=t$1(it),zt=e3(it);let $t,Bt;Ot==="top"||Ot==="bottom"?($t=Ot,Bt=zt===(await(bt.isRTL==null?void 0:bt.isRTL(wt.floating))?"start":"end")?"left":"right"):(Bt=Ot,$t=zt==="end"?"top":"bottom");const Yt=f(Dt.left,0),Xt=f(Dt.right,0),Ht=f(Dt.top,0),Qt=f(Dt.bottom,0),Zt={availableHeight:st.floating.height-(["left","right"].includes(it)?2*(Ht!==0||Qt!==0?Ht+Qt:f(Dt.top,Dt.bottom)):Dt[$t]),availableWidth:st.floating.width-(["top","bottom"].includes(it)?2*(Yt!==0||Xt!==0?Yt+Xt:f(Dt.left,Dt.right)):Dt[Bt])};await Tt(__spreadValues(__spreadValues({},rt),Zt));const nn=await bt.getDimensions(wt.floating);return st.floating.width!==nn.width||st.floating.height!==nn.height?{reset:{rects:!0}}:{}}}};function n2(nt){return nt&&nt.document&&nt.location&&nt.alert&&nt.setInterval}function o3(nt){if(nt==null)return window;if(!n2(nt)){const rt=nt.ownerDocument;return rt&&rt.defaultView||window}return nt}function i3(nt){return o3(nt).getComputedStyle(nt)}function r2(nt){return n2(nt)?"":nt?(nt.nodeName||"").toLowerCase():""}function l2(){const nt=navigator.userAgentData;return nt&&Array.isArray(nt.brands)?nt.brands.map(rt=>rt.brand+"/"+rt.version).join(" "):navigator.userAgent}function c2(nt){return nt instanceof o3(nt).HTMLElement}function s2(nt){return nt instanceof o3(nt).Element}function f2(nt){return typeof ShadowRoot>"u"?!1:nt instanceof o3(nt).ShadowRoot||nt instanceof ShadowRoot}function u2(nt){const{overflow:rt,overflowX:it,overflowY:st,display:bt}=i3(nt);return/auto|scroll|overlay|hidden/.test(rt+st+it)&&!["inline","contents"].includes(bt)}function a2(nt){return["table","td","th"].includes(r2(nt))}function d2(nt){const rt=/firefox/i.test(l2()),it=i3(nt),st=it.backdropFilter||it.WebkitBackdropFilter;return it.transform!=="none"||it.perspective!=="none"||!!st&&st!=="none"||rt&&it.willChange==="filter"||rt&&!!it.filter&&it.filter!=="none"||["transform","perspective"].some(bt=>it.willChange.includes(bt))||["paint","layout","strict","content"].some(bt=>{const wt=it.contain;return wt!=null&&wt.includes(bt)})}function h2(){return!/^((?!chrome|android).)*safari/i.test(l2())}function g2(nt){return["html","body","#document"].includes(r2(nt))}var m2=Math.min,p2=Math.max,w2=Math.round;function v2(nt,rt,it){var st,bt,wt,Et;rt===void 0&&(rt=!1),it===void 0&&(it=!1);const Tt=nt.getBoundingClientRect();let At=1,Dt=1;rt&&c2(nt)&&(At=nt.offsetWidth>0&&w2(Tt.width)/nt.offsetWidth||1,Dt=nt.offsetHeight>0&&w2(Tt.height)/nt.offsetHeight||1);const Ot=s2(nt)?o3(nt):window,zt=!h2()&&it,$t=(Tt.left+(zt&&(st=(bt=Ot.visualViewport)==null?void 0:bt.offsetLeft)!=null?st:0))/At,Bt=(Tt.top+(zt&&(wt=(Et=Ot.visualViewport)==null?void 0:Et.offsetTop)!=null?wt:0))/Dt,Yt=Tt.width/At,Xt=Tt.height/Dt;return{width:Yt,height:Xt,top:Bt,right:$t+Yt,bottom:Bt+Xt,left:$t,x:$t,y:Bt}}function y3(nt){return(rt=nt,(rt instanceof o3(rt).Node?nt.ownerDocument:nt.document)||window.document).documentElement;var rt}function x2(nt){return s2(nt)?{scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop}:{scrollLeft:nt.pageXOffset,scrollTop:nt.pageYOffset}}function b2(nt){return v2(y3(nt)).left+x2(nt).scrollLeft}function L2(nt,rt,it){const st=c2(rt),bt=y3(rt),wt=v2(nt,st&&function(At){const Dt=v2(At);return w2(Dt.width)!==At.offsetWidth||w2(Dt.height)!==At.offsetHeight}(rt),it==="fixed");let Et={scrollLeft:0,scrollTop:0};const Tt={x:0,y:0};if(st||!st&&it!=="fixed")if((r2(rt)!=="body"||u2(bt))&&(Et=x2(rt)),c2(rt)){const At=v2(rt,!0);Tt.x=At.x+rt.clientLeft,Tt.y=At.y+rt.clientTop}else bt&&(Tt.x=b2(bt));return{x:wt.left+Et.scrollLeft-Tt.x,y:wt.top+Et.scrollTop-Tt.y,width:wt.width,height:wt.height}}function E2(nt){if(r2(nt)==="html")return nt;const rt=nt.assignedSlot||nt.parentNode||(f2(nt)?nt.host:null)||y3(nt);return f2(rt)?rt.host:rt}function R(nt){return c2(nt)&&i3(nt).position!=="fixed"?nt.offsetParent:null}function T2(nt){const rt=o3(nt);let it=R(nt);for(;it&&a2(it)&&i3(it).position==="static";)it=R(it);return it&&(r2(it)==="html"||r2(it)==="body"&&i3(it).position==="static"&&!d2(it))?rt:it||function(st){let bt=E2(st);for(;c2(bt)&&!g2(bt);){if(d2(bt))return bt;bt=E2(bt)}return null}(nt)||rt}function W(nt){const rt=E2(nt);return g2(rt)?nt.ownerDocument.body:c2(rt)&&u2(rt)?rt:W(rt)}function H(nt,rt){var it;rt===void 0&&(rt=[]);const st=W(nt),bt=st===((it=nt.ownerDocument)==null?void 0:it.body),wt=o3(st),Et=bt?[wt].concat(wt.visualViewport||[],u2(st)?st:[]):st,Tt=rt.concat(Et);return bt?Tt:Tt.concat(H(Et))}function D2(nt,rt,it){return rt==="viewport"?l(function(st,bt){const wt=o3(st),Et=y3(st),Tt=wt.visualViewport;let At=Et.clientWidth,Dt=Et.clientHeight,Ot=0,zt=0;if(Tt){At=Tt.width,Dt=Tt.height;const $t=h2();($t||!$t&&bt==="fixed")&&(Ot=Tt.offsetLeft,zt=Tt.offsetTop)}return{width:At,height:Dt,x:Ot,y:zt}}(nt,it)):s2(rt)?function(st,bt){const wt=v2(st,!1,bt==="fixed"),Et=wt.top+st.clientTop,Tt=wt.left+st.clientLeft;return{top:Et,left:Tt,x:Tt,y:Et,right:Tt+st.clientWidth,bottom:Et+st.clientHeight,width:st.clientWidth,height:st.clientHeight}}(rt,it):l(function(st){var bt;const wt=y3(st),Et=x2(st),Tt=(bt=st.ownerDocument)==null?void 0:bt.body,At=p2(wt.scrollWidth,wt.clientWidth,Tt?Tt.scrollWidth:0,Tt?Tt.clientWidth:0),Dt=p2(wt.scrollHeight,wt.clientHeight,Tt?Tt.scrollHeight:0,Tt?Tt.clientHeight:0);let Ot=-Et.scrollLeft+b2(st);const zt=-Et.scrollTop;return i3(Tt||wt).direction==="rtl"&&(Ot+=p2(wt.clientWidth,Tt?Tt.clientWidth:0)-At),{width:At,height:Dt,x:Ot,y:zt}}(y3(nt)))}var A={getClippingRect:function(nt){let{element:rt,boundary:it,rootBoundary:st,strategy:bt}=nt;const wt=it==="clippingAncestors"?function(Dt){let Ot=H(Dt).filter(Yt=>s2(Yt)&&r2(Yt)!=="body"),zt=null;const $t=i3(Dt).position==="fixed";let Bt=$t?E2(Dt):Dt;for(;s2(Bt)&&!g2(Bt);){const Yt=i3(Bt),Xt=d2(Bt);($t?Xt||zt:Xt||Yt.position!=="static"||!zt||!["absolute","fixed"].includes(zt.position))?zt=Yt:Ot=Ot.filter(Ht=>Ht!==Bt),Bt=E2(Bt)}return Ot}(rt):[].concat(it),Et=[...wt,st],Tt=Et[0],At=Et.reduce((Dt,Ot)=>{const zt=D2(rt,Ot,bt);return Dt.top=p2(zt.top,Dt.top),Dt.right=m2(zt.right,Dt.right),Dt.bottom=m2(zt.bottom,Dt.bottom),Dt.left=p2(zt.left,Dt.left),Dt},D2(rt,Tt,bt));return{width:At.right-At.left,height:At.bottom-At.top,x:At.left,y:At.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(nt){let{rect:rt,offsetParent:it,strategy:st}=nt;const bt=c2(it),wt=y3(it);if(it===wt)return rt;let Et={scrollLeft:0,scrollTop:0};const Tt={x:0,y:0};if((bt||!bt&&st!=="fixed")&&((r2(it)!=="body"||u2(wt))&&(Et=x2(it)),c2(it))){const At=v2(it,!0);Tt.x=At.x+it.clientLeft,Tt.y=At.y+it.clientTop}return __spreadProps(__spreadValues({},rt),{x:rt.x-Et.scrollLeft+Tt.x,y:rt.y-Et.scrollTop+Tt.y})},isElement:s2,getDimensions:function(nt){if(c2(nt))return{width:nt.offsetWidth,height:nt.offsetHeight};const rt=v2(nt);return{width:rt.width,height:rt.height}},getOffsetParent:T2,getDocumentElement:y3,async getElementRects(nt){let{reference:rt,floating:it,strategy:st}=nt;const bt=this.getOffsetParent||T2,wt=this.getDimensions;return{reference:L2(rt,await bt(it),st),floating:__spreadValues({x:0,y:0},await wt(it))}},getClientRects:nt=>Array.from(nt.getClientRects()),isRTL:nt=>i3(nt).direction==="rtl"};function C(nt,rt,it,st){st===void 0&&(st={});const{ancestorScroll:bt=!0,ancestorResize:wt=!0,elementResize:Et=!0,animationFrame:Tt=!1}=st,At=bt&&!Tt,Dt=At||wt?[...s2(nt)?H(nt):nt.contextElement?H(nt.contextElement):[],...H(rt)]:[];Dt.forEach(Bt=>{At&&Bt.addEventListener("scroll",it,{passive:!0}),wt&&Bt.addEventListener("resize",it)});let Ot,zt=null;if(Et){let Bt=!0;zt=new ResizeObserver(()=>{Bt||it(),Bt=!1}),s2(nt)&&!Tt&&zt.observe(nt),s2(nt)||!nt.contextElement||Tt||zt.observe(nt.contextElement),zt.observe(rt)}let $t=Tt?v2(nt):null;return Tt&&function Bt(){const Yt=v2(nt);!$t||Yt.x===$t.x&&Yt.y===$t.y&&Yt.width===$t.width&&Yt.height===$t.height||it(),$t=Yt,Ot=requestAnimationFrame(Bt)}(),it(),()=>{var Bt;Dt.forEach(Yt=>{At&&Yt.removeEventListener("scroll",it),wt&&Yt.removeEventListener("resize",it)}),(Bt=zt)==null||Bt.disconnect(),zt=null,Tt&&cancelAnimationFrame(Ot)}}var O2=(nt,rt,it)=>o2(nt,rt,__spreadValues({platform:A},it)),SlPopup=class extends ShoelaceElement{constructor(){super(...arguments),this.active=!1,this.placement="top",this.strategy="absolute",this.distance=0,this.skidding=0,this.arrow=!1,this.arrowPlacement="anchor",this.arrowPadding=10,this.flip=!1,this.flipFallbackPlacements="",this.flipFallbackStrategy="best-fit",this.flipPadding=0,this.shift=!1,this.shiftPadding=0,this.autoSizePadding=0}async connectedCallback(){super.connectedCallback(),await this.updateComplete,this.start()}disconnectedCallback(){this.stop()}async updated(nt){super.updated(nt),nt.has("active")&&(this.active?this.start():this.stop()),nt.has("anchor")&&this.handleAnchorChange(),this.active&&(await this.updateComplete,this.reposition())}async handleAnchorChange(){if(await this.stop(),this.anchor&&typeof this.anchor=="string"){const nt=this.getRootNode();this.anchorEl=nt.getElementById(this.anchor)}else this.anchor instanceof HTMLElement?this.anchorEl=this.anchor:this.anchorEl=this.querySelector('[slot="anchor"]');if(this.anchorEl instanceof HTMLSlotElement&&(this.anchorEl=this.anchorEl.assignedElements({flatten:!0})[0]),!this.anchorEl)throw new Error("Invalid anchor element: no anchor could be found using the anchor slot or the anchor attribute.");this.start()}start(){!this.anchorEl||(this.cleanup=C(this.anchorEl,this.popup,()=>{this.reposition()}))}async stop(){return new Promise(nt=>{this.cleanup?(this.cleanup(),this.cleanup=void 0,this.removeAttribute("data-current-placement"),this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height"),requestAnimationFrame(()=>nt())):nt()})}reposition(){if(!this.active||!this.anchorEl)return;const nt=[T({mainAxis:this.distance,crossAxis:this.skidding})];this.sync?nt.push(k({apply:({rects:rt})=>{const it=this.sync==="width"||this.sync==="both",st=this.sync==="height"||this.sync==="both";this.popup.style.width=it?`${rt.reference.width}px`:"",this.popup.style.height=st?`${rt.reference.height}px`:""}})):(this.popup.style.width="",this.popup.style.height=""),this.flip&&nt.push(b({boundary:this.flipBoundary,fallbackPlacements:this.flipFallbackPlacements,fallbackStrategy:this.flipFallbackStrategy==="best-fit"?"bestFit":"initialPlacement",padding:this.flipPadding})),this.shift&&nt.push(L$2({boundary:this.shiftBoundary,padding:this.shiftPadding})),this.autoSize?nt.push(k({boundary:this.autoSizeBoundary,padding:this.autoSizePadding,apply:({availableWidth:rt,availableHeight:it})=>{this.autoSize==="vertical"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-height",`${it}px`):this.style.removeProperty("--auto-size-available-height"),this.autoSize==="horizontal"||this.autoSize==="both"?this.style.setProperty("--auto-size-available-width",`${rt}px`):this.style.removeProperty("--auto-size-available-width")}})):(this.style.removeProperty("--auto-size-available-width"),this.style.removeProperty("--auto-size-available-height")),this.arrow&&nt.push(m$1({element:this.arrowEl,padding:this.arrowPadding})),O2(this.anchorEl,this.popup,{placement:this.placement,middleware:nt,strategy:this.strategy}).then(({x:rt,y:it,middlewareData:st,placement:bt})=>{const wt=getComputedStyle(this).direction==="rtl",Et={top:"bottom",right:"left",bottom:"top",left:"right"}[bt.split("-")[0]];if(this.setAttribute("data-current-placement",bt),Object.assign(this.popup.style,{left:`${rt}px`,top:`${it}px`}),this.arrow){const Tt=st.arrow.x,At=st.arrow.y;let Dt="",Ot="",zt="",$t="";if(this.arrowPlacement==="start"){const Bt=typeof Tt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";Dt=typeof At=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"",Ot=wt?Bt:"",$t=wt?"":Bt}else if(this.arrowPlacement==="end"){const Bt=typeof Tt=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:"";Ot=wt?"":Bt,$t=wt?Bt:"",zt=typeof At=="number"?`calc(${this.arrowPadding}px - var(--arrow-padding-offset))`:""}else this.arrowPlacement==="center"?($t=typeof Tt=="number"?"calc(50% - var(--arrow-size-diagonal))":"",Dt=typeof At=="number"?"calc(50% - var(--arrow-size-diagonal))":""):($t=typeof Tt=="number"?`${Tt}px`:"",Dt=typeof At=="number"?`${At}px`:"");Object.assign(this.arrowEl.style,{top:Dt,right:Ot,bottom:zt,left:$t,[Et]:"calc(var(--arrow-size-diagonal) * -1)"})}}),this.emit("sl-reposition")}render(){return y$2`
      <slot name="anchor" @slotchange=${this.handleAnchorChange}></slot>

      <div
        part="popup"
        class=${o$2({popup:!0,"popup--active":this.active,"popup--fixed":this.strategy==="fixed","popup--has-arrow":this.arrow})}
      >
        <slot></slot>
        ${this.arrow?y$2`<div part="arrow" class="popup__arrow" role="presentation"></div>`:""}
      </div>
    `}};SlPopup.styles=popup_styles_default;__decorateClass([i2$2(".popup")],SlPopup.prototype,"popup",2);__decorateClass([i2$2(".popup__arrow")],SlPopup.prototype,"arrowEl",2);__decorateClass([e2$2()],SlPopup.prototype,"anchor",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlPopup.prototype,"active",2);__decorateClass([e2$2({reflect:!0})],SlPopup.prototype,"placement",2);__decorateClass([e2$2({reflect:!0})],SlPopup.prototype,"strategy",2);__decorateClass([e2$2({type:Number})],SlPopup.prototype,"distance",2);__decorateClass([e2$2({type:Number})],SlPopup.prototype,"skidding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"arrow",2);__decorateClass([e2$2({attribute:"arrow-placement"})],SlPopup.prototype,"arrowPlacement",2);__decorateClass([e2$2({attribute:"arrow-padding",type:Number})],SlPopup.prototype,"arrowPadding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"flip",2);__decorateClass([e2$2({attribute:"flip-fallback-placements",converter:{fromAttribute:nt=>nt.split(" ").map(rt=>rt.trim()).filter(rt=>rt!==""),toAttribute:nt=>nt.join(" ")}})],SlPopup.prototype,"flipFallbackPlacements",2);__decorateClass([e2$2({attribute:"flip-fallback-strategy"})],SlPopup.prototype,"flipFallbackStrategy",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"flipBoundary",2);__decorateClass([e2$2({attribute:"flip-padding",type:Number})],SlPopup.prototype,"flipPadding",2);__decorateClass([e2$2({type:Boolean})],SlPopup.prototype,"shift",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"shiftBoundary",2);__decorateClass([e2$2({attribute:"shift-padding",type:Number})],SlPopup.prototype,"shiftPadding",2);__decorateClass([e2$2({attribute:"auto-size"})],SlPopup.prototype,"autoSize",2);__decorateClass([e2$2()],SlPopup.prototype,"sync",2);__decorateClass([e2$2({type:Object})],SlPopup.prototype,"autoSizeBoundary",2);__decorateClass([e2$2({attribute:"auto-size-padding",type:Number})],SlPopup.prototype,"autoSizePadding",2);SlPopup=__decorateClass([e$2("sl-popup")],SlPopup);const _hoisted_1$B={id:"add-media-resource-dialog",label:"Add Media Resource"},_hoisted_2$v=createBaseVNode("img",{id:"img",style:{paddingLeft:"16px",height:"100%"}},null,-1),_hoisted_3$o=[_hoisted_2$v],_hoisted_4$k=createBaseVNode("div",{class:"fields"},[createBaseVNode("sl-input",{autocomplete:"off",id:"resource-folder",placeholder:"Folder",pattern:"^[A-z0-9\\/\\-_]+$"}),createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"resource-name",placeholder:"Name",pattern:"^[A-z0-9\\-_ ]+$"}),createBaseVNode("sl-input",{autocomplete:"off",id:"resource-summary",placeholder:"Summary"})],-1),_hoisted_5$i={class:"metadata"},_hoisted_6$e={class:"exif-data"},_hoisted_7$c=["innerHTML"],_hoisted_8$c=["innerHTML"],_hoisted_9$a={class:"depicted"},_hoisted_10$8={class:"search"},_hoisted_11$8=createBaseVNode("div",null,"Entities:",-1),_hoisted_12$7=["data-entity"],_hoisted_13$6=["innerHTML"],_hoisted_14$4=["innerHTML"],_hoisted_15$4=["onClick"],_hoisted_16$4=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_sfc_main$D=defineComponent({__name:"AddMediaResourceDialog.ce",props:{path:{type:String},show:{type:Boolean}},setup(nt,{expose:rt}){const it=nt;rt({isOpen:Un,show:fr});const st=ref(""),bt=ref(),wt=ref(),Et=ref(),Tt=ref(),At=ref([]),Dt=ref(),Ot=ref(),zt=ref(),$t=ref(),Bt=ref(),Yt=ref(),Xt=ref(),Ht=ref(),Qt=ref(),Zt=ref({}),nn=ref([]),Kt=ref(!1),ln=ref(null),sn=computed(()=>{var cr;return(cr=ln==null?void 0:ln.value)==null?void 0:cr.parentNode});computed(()=>{var cr,Gn;return(Gn=(cr=ln.value)==null?void 0:cr.getRootNode())==null?void 0:Gn.host}),onMounted(()=>bn()),watch$1(Kt,()=>{Dt.value&&(Dt.value.open=Kt.value)}),watch$1(st,()=>{bt.value=new GithubClient(st.value)}),watch$1(Ot,()=>{bt.value=new GithubClient(st.value)}),watch$1(At,()=>{Bt.value&&(Bt.value.value=At.value.join("/"))}),watch$1(it,()=>{wn()});function bn(){var Gn,lr,ur,vr,Ir,Pr,_r;let cr=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token");cr&&(st.value=cr),it.path&&wn(),Dt.value=(Gn=sn.value)==null?void 0:Gn.querySelector("#add-media-resource-dialog"),Dt.value.addEventListener("sl-hide",()=>Mn()),$t.value=(lr=sn.value)==null?void 0:lr.querySelector("#add-media-resource-form"),Bt.value=(ur=sn.value)==null?void 0:ur.querySelector("#resource-folder"),Bt.value.value=At.value.join("/"),Yt.value=(vr=sn.value)==null?void 0:vr.querySelector("#resource-name"),Xt.value=(Ir=sn.value)==null?void 0:Ir.querySelector("#resource-summary"),Ht.value=(Pr=sn.value)==null?void 0:Pr.querySelector("#img"),Qt.value=(_r=sn.value)==null?void 0:_r.querySelector("#filePicker"),it.show&&Sn()}function wn(){var cr;if(it.path){let[Gn,lr]=((cr=it.path.split(":").pop())==null?void 0:cr.split("?"))||[],ur=lr?Object.fromEntries(lr.split("&").map(Ir=>Ir.split("="))):{},vr=Gn.split("/").filter(Ir=>Ir);vr.length>0&&(wt.value=vr[0]),vr.length>1&&(Et.value=vr[1]),vr.length>2&&(At.value=vr.slice(2)),ur.ref&&(Tt.value=ur.ref||"main")}}function Mn(){Bt.value&&(Bt.value.value=At.value.join("/")),Yt.value&&(Yt.value.value=""),Ot.value=void 0,Qt.value&&(Qt.value.value=""),Kt.value=!1}async function Sn(){let cr=$t.value;cr&&(cr.onclick||(cr.onclick=function(){},cr.addEventListener("submit",async Gn=>{var vr,Ir,Pr;Gn.preventDefault(),console.log(`Add resource: folder="${(vr=Bt.value)==null?void 0:vr.value}" name="${(Ir=Yt.value)==null?void 0:Ir.value}" summary="${(Pr=Xt.value)==null?void 0:Pr.value}"`);let lr=await yr();const ur=new FileReader;ur.onloadend=async()=>{var qn,mr;const _r=ur.result;let tr=(qn=Yt.value)==null?void 0:qn.value.trim().replace(/ /g,"_");if(Bt.value){let br=[...(mr=Bt.value)==null?void 0:mr.value.split("/").filter(hr=>hr),tr].join("/");await bt.value.putFile(wt.value,Et.value,`${br}.${zt.value}`,_r,Tt.value,!0),Object.keys(lr).length>0&&await bt.value.putFile(wt.value,Et.value,`${br}.yaml`,jsYaml.dump(lr),Tt.value),Kt.value=!1}},Ot.value&&ur.readAsBinaryString(Ot.value)})),Kt.value=!0)}function Dn(cr){nn.value=nn.value.filter(Gn=>Gn.id!==cr)}function gn(cr){nn.value=[...nn.value,cr.detail[0]]}function Un(){return Kt.value}function pn(){var cr;if(((cr=Qt.value)==null?void 0:cr.files)&&Qt.value.files.length>0){Ot.value=Qt.value.files[0];let Gn=Ot.value.name.split(".");zt.value=Gn.slice(-1)[0].toLowerCase();let lr=window.URL||window.webkitURL;Ht.value&&(Ht.value.onload=()=>xn().then(ur=>{Zt.value=ur}),Ht.value.src=lr.createObjectURL(Ot.value)),setTimeout(()=>{var ur;return((ur=sn.value)==null?void 0:ur.querySelector("#resource-name")).focus()},100)}}async function yr(){let cr={};Xt.value&&(cr.summary=Xt.value.value.trim());let Gn=sn.value?Array.from(sn.value.querySelectorAll(".depicted [data-entity]")).map(ur=>ur.dataset.entity):[];Gn.length>0&&(cr.depicts=Gn);let lr=await xn();return lr&&(cr={...cr,...lr}),cr}async function xn(){var Gn,lr,ur;let cr={};try{let vr=await tt.parse((Gn=Ht.value)==null?void 0:Gn.src,!0);vr.CreateDate&&(cr.created=vr.CreateDate.toISOString());let Ir=await tt.orientation((lr=Ht.value)==null?void 0:lr.src);Ir&&(cr.orientation=Ir);let Pr=await tt.gps((ur=Ht.value)==null?void 0:ur.src);if(Pr){let{latitude:_r,longitude:tr}=Pr;_r&&(cr.location=`${_r.toFixed(7)},${tr.toFixed(7)}`)}}catch(vr){console.log(vr)}return cr}function Mr(){Kt.value=!1}function fr(cr){cr?Sn():Mn()}return(cr,Gn)=>{var lr,ur,vr;return openBlock(),createElementBlock("div",{ref_key:"root",ref:ln,class:"main"},[createBaseVNode("sl-dialog",_hoisted_1$B,[createBaseVNode("form",{style:normalizeStyle({display:(lr=Ot.value)!=null&&lr.name?"grid":"none"}),id:"add-media-resource-form",class:"input-validation-pattern"},[createBaseVNode("div",{style:normalizeStyle({height:`${(ur=Ot.value)!=null&&ur.name?120:0}px`})},_hoisted_3$o,4),_hoisted_4$k,createBaseVNode("div",_hoisted_5$i,[createBaseVNode("div",_hoisted_6$e,[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Zt.value,(Ir,Pr,_r)=>(openBlock(),createElementBlock("li",{key:`exif-${_r}`},[createBaseVNode("span",{class:"label",innerHTML:Pr},null,8,_hoisted_7$c),createBaseVNode("span",{class:"value",innerHTML:Ir},null,8,_hoisted_8$c)]))),128))])]),createBaseVNode("div",_hoisted_9$a,[createBaseVNode("div",_hoisted_10$8,[_hoisted_11$8,createBaseVNode("ve-wikidata-search",{onEntitySelected:gn},null,32)]),createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(nn.value,Ir=>(openBlock(),createElementBlock("li",{key:Ir.id,"data-entity":Ir.id},[createBaseVNode("span",{class:"entity-label",innerHTML:Ir.label},null,8,_hoisted_13$6),createBaseVNode("span",{class:"entity-description",innerHTML:Ir.description||""},null,8,_hoisted_14$4),createBaseVNode("sl-icon-button",{class:"remove-entity",onClick:Pr=>Dn(Ir.id),id:"remove-icon",name:"trash",label:"Remove entity"},null,8,_hoisted_15$4)],8,_hoisted_12$7))),128))])])]),createBaseVNode("div",{class:"buttons"},[createBaseVNode("sl-button",{onClick:Mr},"Cancel"),_hoisted_16$4])],4),createBaseVNode("input",{style:normalizeStyle({display:(vr=Ot.value)!=null&&vr.name?"none":"block"}),id:"filePicker",type:"file",accept:"image/x-png,image/jpeg,image/gif",onChange:pn},null,36)])],512)}}}),_style_0$v=`:host{font-family:Roboto,sans-serif}*{box-sizing:border-box}input[type=file]{font-size:1.2rem}form{margin:12px}form .buttons{display:flex;gap:12px;justify-content:center}form{display:grid;height:60vh;grid-template-columns:1fr;grid-template-rows:auto auto 1fr auto;margin:0;gap:12px}.metadata{height:100%;overflow-y:scroll;overflow-x:hidden;margin:0}.exif-data ul{list-style:none;margin:0;padding:0}.label{font-weight:700;margin-right:12px}.label:after{content:":"}.fields{display:flex;flex-direction:column;gap:6px}.search{display:flex;align-items:center;gap:12px}.search div{font-size:1.1rem;font-weight:700}ve-wikidata-search{width:100%}.depicted{margin-top:12px}.depicted ul{list-style:none;margin:12px 0;padding:0;width:95%}.depicted ul li{display:flex;align-items:flex-start;gap:6px;margin-bottom:9px;width:100%}.entity-label{width:30%}.entity-description{width:50%}.remove-entity{margin-left:auto}.value{overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}
`,_export_sfc=(nt,rt)=>{const it=nt.__vccOpts||nt;for(const[st,bt]of rt)it[st]=bt;return it},AddMediaResourceDialog=_export_sfc(_sfc_main$D,[["styles",[_style_0$v]]]),_hoisted_1$A={ref:"root",class:"main"},_hoisted_2$u=["content"],_hoisted_3$n=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"20px"}},null,-1),_hoisted_4$j={key:1,content:"Click to Login with Github",placement:"top"},_hoisted_5$h=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{"font-size":"20px"}},null,-1),_sfc_main$C=defineComponent({__name:"Auth.ce",setup(nt){const rt={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","search.juncture-digital.org":"ce9f2d2fb0a3498569fd"},it=ref(""),st=ref(),bt=computed(()=>it.value!==null),wt=ref(null),Et=ref(null);onMounted(()=>{it.value=window.localStorage.getItem("gh-auth-token"),Et.value=window.localStorage.getItem("gh-username"),window.addEventListener("storage",()=>it.value=window.localStorage.getItem("gh-auth-token"));let Ot=new URL(window.location.href).searchParams.get("code");if(Ot){let zt=`${location.pathname}${location.hash}`;window.history.replaceState({},"",zt),fetch(`/gh-token?code=${Ot}&hostname=${window.location.hostname}`).then($t=>$t.text()).then($t=>{$t&&(localStorage.setItem("gh-auth-token",$t),window.dispatchEvent(new Event("storage")),it.value=window.localStorage.getItem("gh-auth-token"),Dt())}).catch($t=>console.log("err",$t))}});function Tt(){let Ot=new URL(window.location.href).hostname,zt=Ot==="localhost"||Ot.indexOf("192.168.")===0,$t=`${window.location.href}`,Bt=zt?`${window.location.pathname}?code=testing&redirect_uri=${location.pathname}${location.hash}`:rt[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${rt[location.hostname]}&scope=repo&state=juncture&redirect_uri=${$t}`:null;Bt&&(window.location.href=Bt)}function At(){Object.keys(localStorage).forEach(Ot=>localStorage.removeItem(Ot)),window.dispatchEvent(new Event("storage")),it.value=window.localStorage.getItem("gh-auth-token"),wt.value=null,location.href=""}function Dt(){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${it.value}`}}).then(Ot=>Ot.json()).then(Ot=>wt.value=Ot)}return watch$1(wt,()=>{wt.value&&localStorage.setItem("gh-username",wt.value.login),Et.value=window.localStorage.getItem("gh-username")}),watch$1(it,()=>{st.value=new GithubClient(it.value||"")}),watch$1(st,async()=>{if(bt.value){let Ot=await st.value.user().then(zt=>zt.login);await st.value.repos(Ot).then(zt=>{zt.find($t=>$t.name==="essays")||st.value.createRepository({name:"essays",description:"Juncture visual essays"}),zt.find($t=>$t.name==="media")||st.value.createRepository({name:"media",description:"Juncture media"})})}}),(Ot,zt)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[bt.value?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Logged in as ${Et.value}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",onClick:At},[_hoisted_3$n,createTextVNode(" Logout ")])],8,_hoisted_2$u)):(openBlock(),createElementBlock("sl-tooltip",_hoisted_4$j,[createBaseVNode("sl-button",{variant:"default",onClick:Tt},[_hoisted_5$h,createTextVNode(" Login with Github ")])]))],512))}}),_style_0$u=`:host{display:inline-block}div{color:#00f}div:hover{text-decoration:underline;cursor:pointer}
`,Auth=_export_sfc(_sfc_main$C,[["styles",[_style_0$u]]]),_hoisted_1$z=["name"],_sfc_main$B=defineComponent({__name:"Button.ce",props:{href:{type:String},target:{type:String},width:{type:Number},height:{type:Number},top:{type:Number,default:0},left:{type:Number,default:0},label:{type:String},icon:{type:String},authRequired:{type:Boolean,default:!1}},setup(nt){const rt=nt,it=window,st=ref(null),bt=computed(()=>{var At,Dt;return(Dt=(At=st.value)==null?void 0:At.getRootNode())==null?void 0:Dt.host}),wt=ref(""),Et=computed(()=>wt.value!==null);onMounted(()=>{wt.value=window.localStorage.getItem("gh-auth-token"),window.addEventListener("storage",()=>wt.value=window.localStorage.getItem("gh-auth-token"))}),watch$1(bt,()=>{var At;((At=bt.value)==null?void 0:At.parentElement.tagName)==="LI"&&bt.value.parentElement.children.length===1&&(bt.value.parentElement.style.display=!rt.authRequired||Et.value?"block":"none")}),watch$1(Et,()=>{var At;((At=bt.value)==null?void 0:At.parentElement.tagName)==="LI"&&bt.value.parentElement.children.length===1&&(bt.value.parentElement.style.display=!rt.authRequired||Et.value?"block":"none")});function Tt(){if(rt.target==="_blank"){let At=rt.width||1040,Dt=rt.height||Math.max(window.innerHeight,1500);it.junctureWindow&&it.junctureWindow.close();let Ot=`toolbar=yes,location=yes,left=${rt.left},top=${rt.top},width=${At},height=${Dt},scrollbars=yes,status=yes`;it.junctureWindow=window.open(rt.href,"_blank",Ot)}else rt.href&&(location.href=rt.href)}return(At,Dt)=>!rt.authRequired||Et.value?(openBlock(),createElementBlock("sl-button",{key:0,ref_key:"root",ref:st,onClick:Tt},[rt.icon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:rt.icon},null,8,_hoisted_1$z)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(rt.label),1)],512)):createCommentVNode("",!0)}}),_style_0$t=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}*{box-sizing:border-box}.ve-component{z-index:2;position:relative}ve-media-card{height:100%}.manifest-popup{border:1px solid #555;background-color:#fff;width:350px;max-height:500px;overflow-y:scroll;border-radius:6px;padding:4px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}main>p:first-of-type{padding-top:24px}.markdown-section h1,.markdown-section h2,.markdown-section h3,.markdown-section h4,.markdown-section h5,.markdown-section h6{line-height:1.2}main>section,main>p{padding:0 1rem}.right{float:right;top:0;width:calc(50% - 12px)}.visible{visibility:visible;opacity:1;transition:opacity .5s linear}.hidden{visibility:hidden;opacity:0;transition:visibility 0s .5s,opacity .5s linear}#juncture section{display:flow-root;position:relative}#juncture>section{margin-top:2rem}#juncture>section>section,#juncture>section>section>section{margin-top:2rem}#juncture>section>section>section>section,#juncture>section>section>section>section>section,#juncture>section>section>section>section>section>section{margin-top:1rem;padding-top:0}#juncture section>h1,#juncture section>h2,#juncture section>h3,#juncture section>h4,#juncture section>h5,#juncture section>h6{padding-top:0;margin-top:unset;margin-bottom:1.5rem;padding-bottom:0}#juncture section ol,#juncture section ul{padding:.5em .5em .5em 1.4em}#juncture section li>p{margin:0}body{font-family:Roboto,sans-serif;margin:0;background-color:#fff}.clear{clear:both}#juncture section.sticky{position:sticky;top:0;z-index:3;background-color:#fff;padding-top:6px}ve-footer ul{display:none}#juncture section{background-color:inherit}#juncture .section1,#juncture .section2{width:100%;clear:both;background-color:inherit}.noclear{clear:none}.drop-shadow{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.hide{display:none}.show-active p{border-left:8px solid transparent}.show-active p.active{border-left:4px solid #ccc;padding-left:4px}ve-header>ul{display:none}ve-footer{clear:both}main{background-color:inherit}:target:before{content:"";display:block;height:80px;margin:32px 0 0}section.no-offset:target:before{display:none}#juncture section.footnote{font-size:80%;margin-top:1rem}.ve-component.sticky+div.footnote,.ve-component.sticky~div.footnote{width:100%}@media (max-width: 480px){#juncture{font-size:1.2rem;line-height:1.3;padding:0 0 40vh}#juncture h1{font-size:1.5em}#juncture h2{font-size:1.4em}#juncture h3{font-size:1.3em}#juncture>section{padding:0 6px}#juncture section.sticky.right{display:none}}@media (min-width: 481px){body{margin:0 2rem}#juncture{font-size:1.3rem;line-height:1.4;padding:0;max-width:1200px;margin:auto}.ve-component{z-index:2}.ve-component[grid]{z-index:3}ve-map.full{padding-bottom:12px}.right{margin-left:12px}.left{margin-right:12px}.sticky.right+section,.sticky.right~section,.sticky.right+div,.sticky.right~div,.sticky.right+p,.sticky.right~p,.sticky.right+ol,.sticky.right~ol .sticky.right+ul,.sticky.right~ul,.sticky.right+blockquote,.sticky.right~blockquote{width:50%;margin-left:0;padding-right:9px}.ve-component.sticky.left+section,.ve-component.sticky.left~section,.ve-component.sticky.left+div,.ve-component.sticky.left~div,.ve-component.sticky.left+p,.ve-component.sticky.left~p,.ve-component.sticky.left+ol,.ve-component.sticky.left~ol .ve-component.sticky.left+ul,.ve-component.sticky.left~ul,.ve-component.sticky.left+blockquote,.ve-component.sticky.left~blockquote{margin-left:50%;padding-left:9px}.ve-component.sticky+section,.ve-component.sticky~section,#juncture section.sticky+section,#juncture section.sticky~section{clear:none}.ve-component.sticky.left.text-left+section,.ve-component.sticky.left.text-left~section{margin-left:0}.ve-component.sticky.left.text-left+div,.ve-component.sticky.left.text-left~div,.ve-component.sticky.left.text-left+p,.ve-component.sticky.left.text-left~p,.ve-component.sticky.left.text-left+ol,.ve-component.sticky.left.text-left~ol .ve-component.sticky.left.text-left+ul,.ve-component.sticky.left.text-left~ul,.ve-component.sticky.left.text-left+blockquote,.ve-component.sticky.left.text-left~blockquote{width:50%;margin-left:0;padding-right:9px}.ve-component.sticky.right.text-right+section,.ve-component.sticky.right.text-right~section,.ve-component.sticky.right.text-right+div,.ve-component.sticky.right.text-right~div,.ve-component.sticky.right.text-right+p,.ve-component.sticky.right.text-right~p,.ve-component.sticky.right.text-right+ol,.ve-component.sticky.right.text-right~ol .ve-component.sticky.right.text-right+ul,.ve-component.sticky.right.text-right~ul,.ve-component.sticky.right.text-right+blockquote,.ve-component.sticky.right.text-right~blockquote{margin-left:50%;padding-left:9px}}#juncture section.tab{height:calc(100% - 84px);overflow-y:scroll;border:1px solid #ccc}#juncture .tabs label{margin-bottom:0}#juncture input{display:none}#juncture input+label{display:inline-block}#juncture input~.tab{visibility:hidden}#juncture #tab1:checked~.tab.content1,#juncture #tab2:checked~.tab.content2,#juncture #tab3:checked~.tab.content3,#juncture #tab4:checked~.tab.content4,#juncture #tab5:checked~.tab.content5,#juncture #tab6:checked~.tab.content6{visibility:visible}#juncture input+label{border:1px solid #999;background:#EEE;padding:4px 12px;border-radius:4px 4px 0 0;position:relative;top:1px;cursor:pointer}#juncture input:checked+label{background:#FFF;border-bottom:1px solid white;z-index:2}#juncture input~.tab{border-top:1px solid #999;padding:12px}#juncture h1{margin-bottom:32px}#juncture .tab{position:absolute;visibility:hidden;width:100%;height:100%;padding:1rem 0}#juncture .cards{display:grid;grid-template-columns:repeat(auto-fill,minmax(265px,1fr));grid-auto-rows:1fr;row-gap:2rem;column-gap:2rem}#juncture .cards.wrapper{margin-top:0}#juncture .cards.wrapper>section{padding:0}#juncture .card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;padding:0;border:1px solid #ddd;border-radius:6px;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#juncture .card p{border:none}#juncture .card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:300px}#juncture .card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}#juncture .card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.4rem .5rem;margin:0;font-size:1.1rem;font-weight:700;max-height:260px;overflow-y:scroll}#juncture .card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-start;min-height:110px;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;margin:0 0 .5rem;-webkit-line-clamp:12}.clamp5{-webkit-line-clamp:5}#juncture .hero{display:flex;flex-direction:column;height:400px;margin-top:0}#juncture .hero-text{color:#fff;text-align:center;font-size:2.5rem;max-width:60%;margin:auto;font-family:Georgia;hyphens:unset}#juncture .cta{background-color:#ffe55a;border-radius:50px;font-family:Roboto;font-size:2rem;padding:16px 72px;margin:0 auto auto;text-align:center}@media (max-width: 480px){#juncture .hero-text{font-size:2rem;max-width:80%}#juncture .cta{font-size:1.5rem;padding:12px 60px}}mark{cursor:pointer;background:unset;border-bottom:1px solid #ccc;color:#444}mark:hover{border-bottom:2px solid #444;background:#eee}mark:after{color:#aaa;font-size:50%;line-height:0;position:relative;vertical-align:baseline;top:-.3em;padding-left:2px;padding-right:4px}mark.anno:after,mark.zoomto:after{content:"\\1f50e"}mark.play:after{content:"\\25b6"}mark.flyto:after{content:"\\2708";font-size:120%;top:0}#juncture a{color:#0645ad;text-decoration:none}#juncture a:visited{color:#0b0080}#juncture a:hover{color:#06e}#juncture a:active{color:#faa700}#juncture a:focus{outline:thin dotted}#juncture a:hover,#juncture a:active{outline:0}::-moz-selection{background:rgba(255,255,0,.3);color:#000}::selection{background:rgba(255,255,0,.3);color:#000}#juncture a::-moz-selection{background:rgba(255,255,0,.3);color:#0645ad}#juncture a::selection{background:rgba(255,255,0,.3);color:#0645ad}#juncture p,#juncture li{line-height:1.4;color:#444;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}#juncture p{margin:0 0 1rem}#juncture img{max-width:100%}#juncture h1,#juncture h2,#juncture h3,#juncture h4,#juncture h5,#juncture h6{font-weight:500;color:#444;line-height:1em}#juncture h4,#juncture h5 #juncture h6{font-weight:500}#juncture h1{font-size:1.8em}#juncture h2{font-size:1.6em}#juncture h3{font-size:1.5em}#juncture h4{font-size:1.2em}#juncture h5{font-size:1em}#juncture h6{font-size:.9em}#juncture blockquote{color:#666;margin:0;padding-left:1em;border-left:.5em #EEE solid}#juncture hr{display:block;height:2px;border:0;border-top:1px solid #aaa;border-bottom:1px solid #eee;margin:1em 0;padding:0}#juncture pre,#juncture code,#juncture kbd,#juncture samp{color:#900;background-color:#eee;padding:0;font-family:monospace,monospace;_font-family:"courier new",monospace;font-size:1em}#juncture pre{white-space:pre;white-space:pre-wrap;word-wrap:break-word}#juncture b,#juncture strong{font-weight:700}#juncture dfn{font-style:italic}#juncture ins{background:#ff9;color:#000;text-decoration:none}#juncture sub,#juncture sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}#juncture sup{top:-.5em}#juncture sub{bottom:-.25em}#juncture ul,#juncture ol{margin:0;padding:0 0 0 2em}#juncture li p:last-child{margin:0}#juncture dd{margin:0 0 0 2em}#juncture img{border:0;-ms-interpolation-mode:bicubic;vertical-align:middle}#juncture table{border-collapse:collapse;border-spacing:0;width:100%}#juncture th{border-bottom:1px solid black}#juncture td{vertical-align:top}#juncture table{border:1px solid #555}#juncture td,#juncture th{border:1px solid #555;padding:8px;line-height:1.2}#juncture th{background-color:#e2f0f7;font-weight:700;text-align:center}
`,_style_1$6=`:host{display:inline-block}
`,Button=_export_sfc(_sfc_main$B,[["styles",[_style_0$t,_style_1$6]]]);var alert_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: contents;

    /* For better DX, we'll reset the margin here so the base part can inherit it */
    margin: 0;
  }

  .alert {
    position: relative;
    display: flex;
    align-items: stretch;
    background-color: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-top-width: calc(var(--sl-panel-border-width) * 3);
    border-radius: var(--sl-border-radius-medium);
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-normal);
    line-height: 1.6;
    color: var(--sl-color-neutral-700);
    margin: inherit;
  }

  .alert:not(.alert--has-icon) .alert__icon,
  .alert:not(.alert--closable) .alert__close-button {
    display: none;
  }

  .alert__icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-large);
    padding-inline-start: var(--sl-spacing-large);
  }

  .alert--primary {
    border-top-color: var(--sl-color-primary-600);
  }

  .alert--primary .alert__icon {
    color: var(--sl-color-primary-600);
  }

  .alert--success {
    border-top-color: var(--sl-color-success-600);
  }

  .alert--success .alert__icon {
    color: var(--sl-color-success-600);
  }

  .alert--neutral {
    border-top-color: var(--sl-color-neutral-600);
  }

  .alert--neutral .alert__icon {
    color: var(--sl-color-neutral-600);
  }

  .alert--warning {
    border-top-color: var(--sl-color-warning-600);
  }

  .alert--warning .alert__icon {
    color: var(--sl-color-warning-600);
  }

  .alert--danger {
    border-top-color: var(--sl-color-danger-600);
  }

  .alert--danger .alert__icon {
    color: var(--sl-color-danger-600);
  }

  .alert__message {
    flex: 1 1 auto;
    display: block;
    padding: var(--sl-spacing-large);
    overflow: hidden;
  }

  .alert__close-button {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
    padding-inline-end: var(--sl-spacing-medium);
  }
`,toastStack=Object.assign(document.createElement("div"),{className:"sl-toast-stack"}),SlAlert=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"icon","suffix"),this.localize=new LocalizeController2(this),this.open=!1,this.closable=!1,this.variant="primary",this.duration=1/0}firstUpdated(){this.base.hidden=!this.open}restartAutoHide(){clearTimeout(this.autoHideTimeout),this.open&&this.duration<1/0&&(this.autoHideTimeout=window.setTimeout(()=>this.hide(),this.duration))}handleCloseClick(){this.hide()}handleMouseMove(){this.restartAutoHide()}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.duration<1/0&&this.restartAutoHide(),await stopAnimations(this.base),this.base.hidden=!1;const{keyframes:nt,options:rt}=getAnimation(this,"alert.show",{dir:this.localize.dir()});await animateTo(this.base,nt,rt),this.emit("sl-after-show")}else{this.emit("sl-hide"),clearTimeout(this.autoHideTimeout),await stopAnimations(this.base);const{keyframes:nt,options:rt}=getAnimation(this,"alert.hide",{dir:this.localize.dir()});await animateTo(this.base,nt,rt),this.base.hidden=!0,this.emit("sl-after-hide")}}handleDurationChange(){this.restartAutoHide()}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}async toast(){return new Promise(nt=>{toastStack.parentElement===null&&document.body.append(toastStack),toastStack.appendChild(this),requestAnimationFrame(()=>{this.clientWidth,this.show()}),this.addEventListener("sl-after-hide",()=>{toastStack.removeChild(this),nt(),toastStack.querySelector("sl-alert")===null&&toastStack.remove()},{once:!0})})}render(){return y$2`
      <div
        part="base"
        class=${o$2({alert:!0,"alert--open":this.open,"alert--closable":this.closable,"alert--has-icon":this.hasSlotController.test("icon"),"alert--primary":this.variant==="primary","alert--success":this.variant==="success","alert--neutral":this.variant==="neutral","alert--warning":this.variant==="warning","alert--danger":this.variant==="danger"})}
        role="alert"
        aria-hidden=${this.open?"false":"true"}
        @mousemove=${this.handleMouseMove}
      >
        <slot name="icon" part="icon" class="alert__icon"></slot>

        <slot part="message" class="alert__message" aria-live="polite"></slot>

        ${this.closable?y$2`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                class="alert__close-button"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                @click=${this.handleCloseClick}
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlAlert.styles=alert_styles_default;__decorateClass([i2$2('[part~="base"]')],SlAlert.prototype,"base",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlAlert.prototype,"open",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlAlert.prototype,"closable",2);__decorateClass([e2$2({reflect:!0})],SlAlert.prototype,"variant",2);__decorateClass([e2$2({type:Number})],SlAlert.prototype,"duration",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlAlert.prototype,"handleOpenChange",1);__decorateClass([watch("duration")],SlAlert.prototype,"handleDurationChange",1);SlAlert=__decorateClass([e$2("sl-alert")],SlAlert);setDefaultAnimation("alert.show",{keyframes:[{opacity:0,scale:.8},{opacity:1,scale:1}],options:{duration:250,easing:"ease"}});setDefaultAnimation("alert.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.8}],options:{duration:250,easing:"ease"}});var textarea_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    display: block;
  }

  .textarea {
    display: flex;
    align-items: center;
    position: relative;
    width: 100%;
    font-family: var(--sl-input-font-family);
    font-weight: var(--sl-input-font-weight);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-input-letter-spacing);
    vertical-align: middle;
    transition: var(--sl-transition-fast) color, var(--sl-transition-fast) border, var(--sl-transition-fast) box-shadow,
      var(--sl-transition-fast) background-color;
    cursor: text;
  }

  /* Standard textareas */
  .textarea--standard {
    background-color: var(--sl-input-background-color);
    border: solid var(--sl-input-border-width) var(--sl-input-border-color);
  }

  .textarea--standard:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-hover);
    border-color: var(--sl-input-border-color-hover);
  }
  .textarea--standard:hover:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-hover);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-background-color-focus);
    border-color: var(--sl-input-border-color-focus);
    color: var(--sl-input-color-focus);
    box-shadow: 0 0 0 var(--sl-focus-ring-width) var(--sl-input-focus-ring-color);
  }

  .textarea--standard.textarea--focused:not(.textarea--disabled) .textarea__control {
    color: var(--sl-input-color-focus);
  }

  .textarea--standard.textarea--disabled {
    background-color: var(--sl-input-background-color-disabled);
    border-color: var(--sl-input-border-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea--standard.textarea--disabled .textarea__control {
    color: var(--sl-input-color-disabled);
  }

  .textarea--standard.textarea--disabled .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color-disabled);
  }

  /* Filled textareas */
  .textarea--filled {
    border: none;
    background-color: var(--sl-input-filled-background-color);
    color: var(--sl-input-color);
  }

  .textarea--filled:hover:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-hover);
  }

  .textarea--filled.textarea--focused:not(.textarea--disabled) {
    background-color: var(--sl-input-filled-background-color-focus);
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .textarea--filled.textarea--disabled {
    background-color: var(--sl-input-filled-background-color-disabled);
    opacity: 0.5;
    cursor: not-allowed;
  }

  .textarea__control {
    flex: 1 1 auto;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: 1.4;
    color: var(--sl-input-color);
    border: none;
    background: none;
    box-shadow: none;
    cursor: inherit;
    -webkit-appearance: none;
  }

  .textarea__control::-webkit-search-decoration,
  .textarea__control::-webkit-search-cancel-button,
  .textarea__control::-webkit-search-results-button,
  .textarea__control::-webkit-search-results-decoration {
    -webkit-appearance: none;
  }

  .textarea__control::placeholder {
    color: var(--sl-input-placeholder-color);
    user-select: none;
  }

  .textarea__control:focus {
    outline: none;
  }

  /*
   * Size modifiers
   */

  .textarea--small {
    border-radius: var(--sl-input-border-radius-small);
    font-size: var(--sl-input-font-size-small);
  }

  .textarea--small .textarea__control {
    padding: 0.5em var(--sl-input-spacing-small);
  }

  .textarea--medium {
    border-radius: var(--sl-input-border-radius-medium);
    font-size: var(--sl-input-font-size-medium);
  }

  .textarea--medium .textarea__control {
    padding: 0.5em var(--sl-input-spacing-medium);
  }

  .textarea--large {
    border-radius: var(--sl-input-border-radius-large);
    font-size: var(--sl-input-font-size-large);
  }

  .textarea--large .textarea__control {
    padding: 0.5em var(--sl-input-spacing-large);
  }

  /*
   * Resize types
   */

  .textarea--resize-none .textarea__control {
    resize: none;
  }

  .textarea--resize-vertical .textarea__control {
    resize: vertical;
  }

  .textarea--resize-auto .textarea__control {
    height: auto;
    resize: none;
    overflow-y: hidden;
  }
`,SlTextarea=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.hasFocus=!1,this.invalid=!1,this.title="",this.name="",this.value="",this.size="medium",this.filled=!1,this.label="",this.helpText="",this.placeholder="",this.rows=4,this.resize="vertical",this.disabled=!1,this.readonly=!1,this.required=!1,this.spellcheck=!0,this.defaultValue=""}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.setTextareaHeight()),this.updateComplete.then(()=>{this.setTextareaHeight(),this.resizeObserver.observe(this.input)})}firstUpdated(){this.invalid=!this.checkValidity()}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this.input)}handleBlur(){this.hasFocus=!1,this.emit("sl-blur")}handleChange(){this.value=this.input.value,this.setTextareaHeight(),this.emit("sl-change")}handleFocus(){this.hasFocus=!0,this.emit("sl-focus")}handleInput(){this.value=this.input.value,this.emit("sl-input")}setTextareaHeight(){this.resize==="auto"?(this.input.style.height="auto",this.input.style.height=`${this.input.scrollHeight}px`):this.input.style.height=void 0}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}handleRowsChange(){this.setTextareaHeight()}async handleValueChange(){await this.updateComplete,this.invalid=!this.checkValidity(),this.setTextareaHeight()}focus(nt){this.input.focus(nt)}blur(){this.input.blur()}select(){this.input.select()}scrollPosition(nt){if(nt){typeof nt.top=="number"&&(this.input.scrollTop=nt.top),typeof nt.left=="number"&&(this.input.scrollLeft=nt.left);return}return{top:this.input.scrollTop,left:this.input.scrollTop}}setSelectionRange(nt,rt,it="none"){this.input.setSelectionRange(nt,rt,it)}setRangeText(nt,rt,it,st){this.input.setRangeText(nt,rt,it,st),this.value!==this.input.value&&(this.value=this.input.value),this.value!==this.input.value&&(this.value=this.input.value,this.setTextareaHeight())}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(nt){this.input.setCustomValidity(nt),this.invalid=!this.checkValidity()}render(){const nt=this.hasSlotController.test("label"),rt=this.hasSlotController.test("help-text"),it=this.label?!0:!!nt,st=this.helpText?!0:!!rt;return y$2`
      <div
        part="form-control"
        class=${o$2({"form-control":!0,"form-control--small":this.size==="small","form-control--medium":this.size==="medium","form-control--large":this.size==="large","form-control--has-label":it,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${it?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$2({textarea:!0,"textarea--small":this.size==="small","textarea--medium":this.size==="medium","textarea--large":this.size==="large","textarea--standard":!this.filled,"textarea--filled":this.filled,"textarea--disabled":this.disabled,"textarea--focused":this.hasFocus,"textarea--empty":!this.value,"textarea--invalid":this.invalid,"textarea--resize-none":this.resize==="none","textarea--resize-vertical":this.resize==="vertical","textarea--resize-auto":this.resize==="auto"})}
          >
            <textarea
              part="textarea"
              id="input"
              class="textarea__control"
              title=${this.title}
              name=${l$2(this.name)}
              .value=${l2$1(this.value)}
              ?disabled=${this.disabled}
              ?readonly=${this.readonly}
              ?required=${this.required}
              placeholder=${l$2(this.placeholder)}
              rows=${l$2(this.rows)}
              minlength=${l$2(this.minlength)}
              maxlength=${l$2(this.maxlength)}
              autocapitalize=${l$2(this.autocapitalize)}
              autocorrect=${l$2(this.autocorrect)}
              ?autofocus=${this.autofocus}
              spellcheck=${l$2(this.spellcheck)}
              enterkeyhint=${l$2(this.enterkeyhint)}
              inputmode=${l$2(this.inputmode)}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            ></textarea>
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
      </div>
    `}};SlTextarea.styles=textarea_styles_default;__decorateClass([i2$2(".textarea__control")],SlTextarea.prototype,"input",2);__decorateClass([t$2()],SlTextarea.prototype,"hasFocus",2);__decorateClass([t$2()],SlTextarea.prototype,"invalid",2);__decorateClass([e2$2()],SlTextarea.prototype,"title",2);__decorateClass([e2$2()],SlTextarea.prototype,"name",2);__decorateClass([e2$2()],SlTextarea.prototype,"value",2);__decorateClass([e2$2({reflect:!0})],SlTextarea.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"filled",2);__decorateClass([e2$2()],SlTextarea.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlTextarea.prototype,"helpText",2);__decorateClass([e2$2()],SlTextarea.prototype,"placeholder",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"rows",2);__decorateClass([e2$2()],SlTextarea.prototype,"resize",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"disabled",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"readonly",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTextarea.prototype,"required",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"minlength",2);__decorateClass([e2$2({type:Number})],SlTextarea.prototype,"maxlength",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocapitalize",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocorrect",2);__decorateClass([e2$2()],SlTextarea.prototype,"autocomplete",2);__decorateClass([e2$2({type:Boolean})],SlTextarea.prototype,"autofocus",2);__decorateClass([e2$2()],SlTextarea.prototype,"enterkeyhint",2);__decorateClass([e2$2({type:Boolean,converter:{fromAttribute:nt=>!(!nt||nt==="false"),toAttribute:nt=>nt?"true":"false"}})],SlTextarea.prototype,"spellcheck",2);__decorateClass([e2$2()],SlTextarea.prototype,"inputmode",2);__decorateClass([defaultValue()],SlTextarea.prototype,"defaultValue",2);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleDisabledChange",1);__decorateClass([watch("rows",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleRowsChange",1);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlTextarea.prototype,"handleValueChange",1);SlTextarea=__decorateClass([e$2("sl-textarea")],SlTextarea);const _hoisted_1$y=["innerHTML"],_hoisted_2$t=["label"],_hoisted_3$m=createBaseVNode("sl-input",{id:"from",type:"email",label:"Email address"},null,-1),_hoisted_4$i=createBaseVNode("sl-alert",{id:"bad-email-alert",variant:"danger"},[createBaseVNode("sl-icon",{slot:"icon",name:"exclamation-octagon"}),createBaseVNode("strong",null,"Invalid email address"),createBaseVNode("br"),createTextVNode("Please fix and resubmit ")],-1),_hoisted_5$g=createBaseVNode("sl-textarea",{id:"message",label:"Message"},null,-1),_hoisted_6$d=createBaseVNode("sl-alert",{id:"no-message-alert",variant:"danger"},[createBaseVNode("sl-icon",{slot:"icon",name:"exclamation-octagon"}),createBaseVNode("strong",null,"No message entered"),createBaseVNode("br")],-1),emailEndpoint="/sendmail/",_sfc_main$A=defineComponent({__name:"Contact.ce",props:{contact:{type:String},title:{type:String},subject:{type:String},show:{type:Boolean}},setup(nt,{expose:rt}){const it=nt,st=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,bt=ref(null),wt=computed(()=>{var Ht,Qt;return(Qt=(Ht=bt.value)==null?void 0:Ht.getRootNode())==null?void 0:Qt.host}),Et=computed(()=>{var Ht;return(Ht=bt==null?void 0:bt.value)==null?void 0:Ht.parentNode}),Tt=computed(()=>{var Ht;return(Ht=wt.value)==null?void 0:Ht.innerHTML}),At=ref(!1);rt({show:At}),watch$1(At,()=>Dt.open=At.value);let Dt,Ot,zt,$t,Bt;onMounted(()=>{At.value=it.show}),watch$1(it,()=>{At.value=it.show}),watch$1(wt,()=>{var Ht,Qt,Zt,nn,Kt;Dt=(Ht=Et.value)==null?void 0:Ht.querySelector(".contact-dialog"),Ot=(Qt=Et.value)==null?void 0:Qt.querySelector("#from"),$t=(Zt=Et.value)==null?void 0:Zt.querySelector("#message"),zt=(nn=Et.value)==null?void 0:nn.querySelector("#bad-email-alert"),Bt=(Kt=Et.value)==null?void 0:Kt.querySelector("#no-message-alert"),Dt.addEventListener("sl-hide",()=>At.value=!1)});function Yt(){Dt.hide(),Ot.value="",$t.value="",zt.hide(),Bt.hide()}async function Xt(){let Ht=st.test(Ot.value);Ht?zt.hide():zt.show();let Qt=$t.value.trim().length>0;if(Qt?Bt.hide():Bt.show(),Ht&&Qt){let Zt={to:it.contact,from:Ot.value,subject:it.subject||"Contact Us",message:$t.value};Yt(),await fetch(emailEndpoint,{method:"POST",body:JSON.stringify(Zt)})}}return(Ht,Qt)=>(openBlock(),createElementBlock("section",{ref_key:"root",ref:bt,class:"main"},[Tt.value?(openBlock(),createElementBlock("a",{key:0,href:"#",onClick:Qt[0]||(Qt[0]=withModifiers(Zt=>At.value=!At.value,["prevent"])),innerHTML:Tt.value},null,8,_hoisted_1$y)):createCommentVNode("",!0),createBaseVNode("sl-dialog",{label:it.title||"Contact Us",class:"contact-dialog"},[_hoisted_3$m,_hoisted_4$i,_hoisted_5$g,_hoisted_6$d,createBaseVNode("sl-button",{id:"cancel",slot:"footer",onClick:Yt},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:Xt},"Submit")],8,_hoisted_2$t)],512))}}),_style_0$s=`*{box-sizing:border-box}:host{display:inline-block}sl-input,sl-textarea{padding:12px 0}sl-dialog::part(title),sl-input::part(form-control),sl-textarea::part(form-control){text-align:left}
`,Contact=_export_sfc(_sfc_main$A,[["styles",[_style_0$s]]]);var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(nt){return nt&&nt.__esModule&&Object.prototype.hasOwnProperty.call(nt,"default")?nt.default:nt}function getAugmentedNamespace(nt){var rt=nt.default;if(typeof rt=="function"){var it=function(){return rt.apply(this,arguments)};it.prototype=rt.prototype}else it={};return Object.defineProperty(it,"__esModule",{value:!0}),Object.keys(nt).forEach(function(st){var bt=Object.getOwnPropertyDescriptor(nt,st);Object.defineProperty(it,st,bt.get?bt:{enumerable:!0,get:function(){return nt[st]}})}),it}var sha256$1={exports:{}};/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.9.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];(root.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(nt){return Object.prototype.toString.call(nt)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(nt){return typeof nt=="object"&&nt.buffer&&nt.buffer.constructor===ArrayBuffer});var createOutputMethod=function(nt,rt){return function(it){return new Sha256(rt,!0).update(it)[nt]()}},createMethod=function(nt){var rt=createOutputMethod("hex",nt);NODE_JS&&(rt=nodeWrap(rt,nt)),rt.create=function(){return new Sha256(nt)},rt.update=function(bt){return rt.create().update(bt)};for(var it=0;it<OUTPUT_TYPES.length;++it){var st=OUTPUT_TYPES[it];rt[st]=createOutputMethod(st,nt)}return rt},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(nt){if(typeof nt=="string")return crypto.createHash(algorithm).update(nt,"utf8").digest("hex");if(nt==null)throw new Error(ERROR);return nt.constructor===ArrayBuffer&&(nt=new Uint8Array(nt)),Array.isArray(nt)||ArrayBuffer.isView(nt)||nt.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(nt)).digest("hex"):method(nt)};return nodeMethod},createHmacOutputMethod=function(nt,rt){return function(it,st){return new HmacSha256(it,rt,!0).update(st)[nt]()}},createHmacMethod=function(nt){var rt=createHmacOutputMethod("hex",nt);rt.create=function(bt){return new HmacSha256(bt,nt)},rt.update=function(bt,wt){return rt.create(bt).update(wt)};for(var it=0;it<OUTPUT_TYPES.length;++it){var st=OUTPUT_TYPES[it];rt[st]=createHmacOutputMethod(st,nt)}return rt};function Sha256(nt,rt){rt?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],nt?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=nt}Sha256.prototype.update=function(nt){if(!this.finalized){var rt,it=typeof nt;if(it!=="string"){if(it==="object"){if(nt===null)throw new Error(ERROR);if(ARRAY_BUFFER&&nt.constructor===ArrayBuffer)nt=new Uint8Array(nt);else if(!Array.isArray(nt)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(nt)))throw new Error(ERROR)}else throw new Error(ERROR);rt=!0}for(var st,bt=0,wt,Et=nt.length,Tt=this.blocks;bt<Et;){if(this.hashed&&(this.hashed=!1,Tt[0]=this.block,Tt[16]=Tt[1]=Tt[2]=Tt[3]=Tt[4]=Tt[5]=Tt[6]=Tt[7]=Tt[8]=Tt[9]=Tt[10]=Tt[11]=Tt[12]=Tt[13]=Tt[14]=Tt[15]=0),rt)for(wt=this.start;bt<Et&&wt<64;++bt)Tt[wt>>2]|=nt[bt]<<SHIFT[wt++&3];else for(wt=this.start;bt<Et&&wt<64;++bt)st=nt.charCodeAt(bt),st<128?Tt[wt>>2]|=st<<SHIFT[wt++&3]:st<2048?(Tt[wt>>2]|=(192|st>>6)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]):st<55296||st>=57344?(Tt[wt>>2]|=(224|st>>12)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>6&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]):(st=65536+((st&1023)<<10|nt.charCodeAt(++bt)&1023),Tt[wt>>2]|=(240|st>>18)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>12&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>6&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]);this.lastByteIndex=wt,this.bytes+=wt-this.start,wt>=64?(this.block=Tt[16],this.start=wt-64,this.hash(),this.hashed=!0):this.start=wt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var nt=this.blocks,rt=this.lastByteIndex;nt[16]=this.block,nt[rt>>2]|=EXTRA[rt&3],this.block=nt[16],rt>=56&&(this.hashed||this.hash(),nt[0]=this.block,nt[16]=nt[1]=nt[2]=nt[3]=nt[4]=nt[5]=nt[6]=nt[7]=nt[8]=nt[9]=nt[10]=nt[11]=nt[12]=nt[13]=nt[14]=nt[15]=0),nt[14]=this.hBytes<<3|this.bytes>>>29,nt[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var nt=this.h0,rt=this.h1,it=this.h2,st=this.h3,bt=this.h4,wt=this.h5,Et=this.h6,Tt=this.h7,At=this.blocks,Dt,Ot,zt,$t,Bt,Yt,Xt,Ht,Qt,Zt,nn;for(Dt=16;Dt<64;++Dt)Bt=At[Dt-15],Ot=(Bt>>>7|Bt<<25)^(Bt>>>18|Bt<<14)^Bt>>>3,Bt=At[Dt-2],zt=(Bt>>>17|Bt<<15)^(Bt>>>19|Bt<<13)^Bt>>>10,At[Dt]=At[Dt-16]+Ot+At[Dt-7]+zt<<0;for(nn=rt&it,Dt=0;Dt<64;Dt+=4)this.first?(this.is224?(Ht=300032,Bt=At[0]-1413257819,Tt=Bt-150054599<<0,st=Bt+24177077<<0):(Ht=704751109,Bt=At[0]-210244248,Tt=Bt-1521486534<<0,st=Bt+143694565<<0),this.first=!1):(Ot=(nt>>>2|nt<<30)^(nt>>>13|nt<<19)^(nt>>>22|nt<<10),zt=(bt>>>6|bt<<26)^(bt>>>11|bt<<21)^(bt>>>25|bt<<7),Ht=nt&rt,$t=Ht^nt&it^nn,Xt=bt&wt^~bt&Et,Bt=Tt+zt+Xt+K[Dt]+At[Dt],Yt=Ot+$t,Tt=st+Bt<<0,st=Bt+Yt<<0),Ot=(st>>>2|st<<30)^(st>>>13|st<<19)^(st>>>22|st<<10),zt=(Tt>>>6|Tt<<26)^(Tt>>>11|Tt<<21)^(Tt>>>25|Tt<<7),Qt=st&nt,$t=Qt^st&rt^Ht,Xt=Tt&bt^~Tt&wt,Bt=Et+zt+Xt+K[Dt+1]+At[Dt+1],Yt=Ot+$t,Et=it+Bt<<0,it=Bt+Yt<<0,Ot=(it>>>2|it<<30)^(it>>>13|it<<19)^(it>>>22|it<<10),zt=(Et>>>6|Et<<26)^(Et>>>11|Et<<21)^(Et>>>25|Et<<7),Zt=it&st,$t=Zt^it&nt^Qt,Xt=Et&Tt^~Et&bt,Bt=wt+zt+Xt+K[Dt+2]+At[Dt+2],Yt=Ot+$t,wt=rt+Bt<<0,rt=Bt+Yt<<0,Ot=(rt>>>2|rt<<30)^(rt>>>13|rt<<19)^(rt>>>22|rt<<10),zt=(wt>>>6|wt<<26)^(wt>>>11|wt<<21)^(wt>>>25|wt<<7),nn=rt&it,$t=nn^rt&st^Zt,Xt=wt&Et^~wt&Tt,Bt=bt+zt+Xt+K[Dt+3]+At[Dt+3],Yt=Ot+$t,bt=nt+Bt<<0,nt=Bt+Yt<<0;this.h0=this.h0+nt<<0,this.h1=this.h1+rt<<0,this.h2=this.h2+it<<0,this.h3=this.h3+st<<0,this.h4=this.h4+bt<<0,this.h5=this.h5+wt<<0,this.h6=this.h6+Et<<0,this.h7=this.h7+Tt<<0},Sha256.prototype.hex=function(){this.finalize();var nt=this.h0,rt=this.h1,it=this.h2,st=this.h3,bt=this.h4,wt=this.h5,Et=this.h6,Tt=this.h7,At=HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[st>>28&15]+HEX_CHARS[st>>24&15]+HEX_CHARS[st>>20&15]+HEX_CHARS[st>>16&15]+HEX_CHARS[st>>12&15]+HEX_CHARS[st>>8&15]+HEX_CHARS[st>>4&15]+HEX_CHARS[st&15]+HEX_CHARS[bt>>28&15]+HEX_CHARS[bt>>24&15]+HEX_CHARS[bt>>20&15]+HEX_CHARS[bt>>16&15]+HEX_CHARS[bt>>12&15]+HEX_CHARS[bt>>8&15]+HEX_CHARS[bt>>4&15]+HEX_CHARS[bt&15]+HEX_CHARS[wt>>28&15]+HEX_CHARS[wt>>24&15]+HEX_CHARS[wt>>20&15]+HEX_CHARS[wt>>16&15]+HEX_CHARS[wt>>12&15]+HEX_CHARS[wt>>8&15]+HEX_CHARS[wt>>4&15]+HEX_CHARS[wt&15]+HEX_CHARS[Et>>28&15]+HEX_CHARS[Et>>24&15]+HEX_CHARS[Et>>20&15]+HEX_CHARS[Et>>16&15]+HEX_CHARS[Et>>12&15]+HEX_CHARS[Et>>8&15]+HEX_CHARS[Et>>4&15]+HEX_CHARS[Et&15];return this.is224||(At+=HEX_CHARS[Tt>>28&15]+HEX_CHARS[Tt>>24&15]+HEX_CHARS[Tt>>20&15]+HEX_CHARS[Tt>>16&15]+HEX_CHARS[Tt>>12&15]+HEX_CHARS[Tt>>8&15]+HEX_CHARS[Tt>>4&15]+HEX_CHARS[Tt&15]),At},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var nt=this.h0,rt=this.h1,it=this.h2,st=this.h3,bt=this.h4,wt=this.h5,Et=this.h6,Tt=this.h7,At=[nt>>24&255,nt>>16&255,nt>>8&255,nt&255,rt>>24&255,rt>>16&255,rt>>8&255,rt&255,it>>24&255,it>>16&255,it>>8&255,it&255,st>>24&255,st>>16&255,st>>8&255,st&255,bt>>24&255,bt>>16&255,bt>>8&255,bt&255,wt>>24&255,wt>>16&255,wt>>8&255,wt&255,Et>>24&255,Et>>16&255,Et>>8&255,Et&255];return this.is224||At.push(Tt>>24&255,Tt>>16&255,Tt>>8&255,Tt&255),At},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var nt=new ArrayBuffer(this.is224?28:32),rt=new DataView(nt);return rt.setUint32(0,this.h0),rt.setUint32(4,this.h1),rt.setUint32(8,this.h2),rt.setUint32(12,this.h3),rt.setUint32(16,this.h4),rt.setUint32(20,this.h5),rt.setUint32(24,this.h6),this.is224||rt.setUint32(28,this.h7),nt};function HmacSha256(nt,rt,it){var st,bt=typeof nt;if(bt==="string"){var wt=[],Et=nt.length,Tt=0,At;for(st=0;st<Et;++st)At=nt.charCodeAt(st),At<128?wt[Tt++]=At:At<2048?(wt[Tt++]=192|At>>6,wt[Tt++]=128|At&63):At<55296||At>=57344?(wt[Tt++]=224|At>>12,wt[Tt++]=128|At>>6&63,wt[Tt++]=128|At&63):(At=65536+((At&1023)<<10|nt.charCodeAt(++st)&1023),wt[Tt++]=240|At>>18,wt[Tt++]=128|At>>12&63,wt[Tt++]=128|At>>6&63,wt[Tt++]=128|At&63);nt=wt}else if(bt==="object"){if(nt===null)throw new Error(ERROR);if(ARRAY_BUFFER&&nt.constructor===ArrayBuffer)nt=new Uint8Array(nt);else if(!Array.isArray(nt)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(nt)))throw new Error(ERROR)}else throw new Error(ERROR);nt.length>64&&(nt=new Sha256(rt,!0).update(nt).array());var Dt=[],Ot=[];for(st=0;st<64;++st){var zt=nt[st]||0;Dt[st]=92^zt,Ot[st]=54^zt}Sha256.call(this,rt,it),this.update(Ot),this.oKeyPad=Dt,this.inner=!0,this.sharedMemory=it}HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var nt=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(nt),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224)})()})(sha256$1);var md5$1={exports:{}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.7.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2017
 * @license MIT
 */(function(module){(function(){var ERROR="input is invalid type",WINDOW=typeof window=="object",root=WINDOW?window:{};root.JS_MD5_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&typeof self=="object",NODE_JS=!root.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;NODE_JS?root=commonjsGlobal$1:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_MD5_NO_COMMON_JS&&!0&&module.exports,ARRAY_BUFFER=!root.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",HEX_CHARS="0123456789abcdef".split(""),EXTRA=[128,32768,8388608,-2147483648],SHIFT=[0,8,16,24],OUTPUT_TYPES=["hex","array","digest","buffer","arrayBuffer","base64"],BASE64_ENCODE_CHAR="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),blocks=[],buffer8;if(ARRAY_BUFFER){var buffer=new ArrayBuffer(68);buffer8=new Uint8Array(buffer),blocks=new Uint32Array(buffer)}(root.JS_MD5_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(nt){return Object.prototype.toString.call(nt)==="[object Array]"}),ARRAY_BUFFER&&(root.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(nt){return typeof nt=="object"&&nt.buffer&&nt.buffer.constructor===ArrayBuffer});var createOutputMethod=function(nt){return function(rt){return new Md5(!0).update(rt)[nt]()}},createMethod=function(){var nt=createOutputMethod("hex");NODE_JS&&(nt=nodeWrap(nt)),nt.create=function(){return new Md5},nt.update=function(st){return nt.create().update(st)};for(var rt=0;rt<OUTPUT_TYPES.length;++rt){var it=OUTPUT_TYPES[rt];nt[it]=createOutputMethod(it)}return nt},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(nt){if(typeof nt=="string")return crypto.createHash("md5").update(nt,"utf8").digest("hex");if(nt==null)throw ERROR;return nt.constructor===ArrayBuffer&&(nt=new Uint8Array(nt)),Array.isArray(nt)||ArrayBuffer.isView(nt)||nt.constructor===Buffer?crypto.createHash("md5").update(new Buffer(nt)).digest("hex"):method(nt)};return nodeMethod};function Md5(nt){if(nt)blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks,this.buffer8=buffer8;else if(ARRAY_BUFFER){var rt=new ArrayBuffer(68);this.buffer8=new Uint8Array(rt),this.blocks=new Uint32Array(rt)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Md5.prototype.update=function(nt){if(!this.finalized){var rt,it=typeof nt;if(it!=="string"){if(it==="object"){if(nt===null)throw ERROR;if(ARRAY_BUFFER&&nt.constructor===ArrayBuffer)nt=new Uint8Array(nt);else if(!Array.isArray(nt)&&(!ARRAY_BUFFER||!ArrayBuffer.isView(nt)))throw ERROR}else throw ERROR;rt=!0}for(var st,bt=0,wt,Et=nt.length,Tt=this.blocks,At=this.buffer8;bt<Et;){if(this.hashed&&(this.hashed=!1,Tt[0]=Tt[16],Tt[16]=Tt[1]=Tt[2]=Tt[3]=Tt[4]=Tt[5]=Tt[6]=Tt[7]=Tt[8]=Tt[9]=Tt[10]=Tt[11]=Tt[12]=Tt[13]=Tt[14]=Tt[15]=0),rt)if(ARRAY_BUFFER)for(wt=this.start;bt<Et&&wt<64;++bt)At[wt++]=nt[bt];else for(wt=this.start;bt<Et&&wt<64;++bt)Tt[wt>>2]|=nt[bt]<<SHIFT[wt++&3];else if(ARRAY_BUFFER)for(wt=this.start;bt<Et&&wt<64;++bt)st=nt.charCodeAt(bt),st<128?At[wt++]=st:st<2048?(At[wt++]=192|st>>6,At[wt++]=128|st&63):st<55296||st>=57344?(At[wt++]=224|st>>12,At[wt++]=128|st>>6&63,At[wt++]=128|st&63):(st=65536+((st&1023)<<10|nt.charCodeAt(++bt)&1023),At[wt++]=240|st>>18,At[wt++]=128|st>>12&63,At[wt++]=128|st>>6&63,At[wt++]=128|st&63);else for(wt=this.start;bt<Et&&wt<64;++bt)st=nt.charCodeAt(bt),st<128?Tt[wt>>2]|=st<<SHIFT[wt++&3]:st<2048?(Tt[wt>>2]|=(192|st>>6)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]):st<55296||st>=57344?(Tt[wt>>2]|=(224|st>>12)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>6&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]):(st=65536+((st&1023)<<10|nt.charCodeAt(++bt)&1023),Tt[wt>>2]|=(240|st>>18)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>12&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st>>6&63)<<SHIFT[wt++&3],Tt[wt>>2]|=(128|st&63)<<SHIFT[wt++&3]);this.lastByteIndex=wt,this.bytes+=wt-this.start,wt>=64?(this.start=wt-64,this.hash(),this.hashed=!0):this.start=wt}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Md5.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var nt=this.blocks,rt=this.lastByteIndex;nt[rt>>2]|=EXTRA[rt&3],rt>=56&&(this.hashed||this.hash(),nt[0]=nt[16],nt[16]=nt[1]=nt[2]=nt[3]=nt[4]=nt[5]=nt[6]=nt[7]=nt[8]=nt[9]=nt[10]=nt[11]=nt[12]=nt[13]=nt[14]=nt[15]=0),nt[14]=this.bytes<<3,nt[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},Md5.prototype.hash=function(){var nt,rt,it,st,bt,wt,Et=this.blocks;this.first?(nt=Et[0]-680876937,nt=(nt<<7|nt>>>25)-271733879<<0,st=(-1732584194^nt&2004318071)+Et[1]-117830708,st=(st<<12|st>>>20)+nt<<0,it=(-271733879^st&(nt^-271733879))+Et[2]-1126478375,it=(it<<17|it>>>15)+st<<0,rt=(nt^it&(st^nt))+Et[3]-1316259209,rt=(rt<<22|rt>>>10)+it<<0):(nt=this.h0,rt=this.h1,it=this.h2,st=this.h3,nt+=(st^rt&(it^st))+Et[0]-680876936,nt=(nt<<7|nt>>>25)+rt<<0,st+=(it^nt&(rt^it))+Et[1]-389564586,st=(st<<12|st>>>20)+nt<<0,it+=(rt^st&(nt^rt))+Et[2]+606105819,it=(it<<17|it>>>15)+st<<0,rt+=(nt^it&(st^nt))+Et[3]-1044525330,rt=(rt<<22|rt>>>10)+it<<0),nt+=(st^rt&(it^st))+Et[4]-176418897,nt=(nt<<7|nt>>>25)+rt<<0,st+=(it^nt&(rt^it))+Et[5]+1200080426,st=(st<<12|st>>>20)+nt<<0,it+=(rt^st&(nt^rt))+Et[6]-1473231341,it=(it<<17|it>>>15)+st<<0,rt+=(nt^it&(st^nt))+Et[7]-45705983,rt=(rt<<22|rt>>>10)+it<<0,nt+=(st^rt&(it^st))+Et[8]+1770035416,nt=(nt<<7|nt>>>25)+rt<<0,st+=(it^nt&(rt^it))+Et[9]-1958414417,st=(st<<12|st>>>20)+nt<<0,it+=(rt^st&(nt^rt))+Et[10]-42063,it=(it<<17|it>>>15)+st<<0,rt+=(nt^it&(st^nt))+Et[11]-1990404162,rt=(rt<<22|rt>>>10)+it<<0,nt+=(st^rt&(it^st))+Et[12]+1804603682,nt=(nt<<7|nt>>>25)+rt<<0,st+=(it^nt&(rt^it))+Et[13]-40341101,st=(st<<12|st>>>20)+nt<<0,it+=(rt^st&(nt^rt))+Et[14]-1502002290,it=(it<<17|it>>>15)+st<<0,rt+=(nt^it&(st^nt))+Et[15]+1236535329,rt=(rt<<22|rt>>>10)+it<<0,nt+=(it^st&(rt^it))+Et[1]-165796510,nt=(nt<<5|nt>>>27)+rt<<0,st+=(rt^it&(nt^rt))+Et[6]-1069501632,st=(st<<9|st>>>23)+nt<<0,it+=(nt^rt&(st^nt))+Et[11]+643717713,it=(it<<14|it>>>18)+st<<0,rt+=(st^nt&(it^st))+Et[0]-373897302,rt=(rt<<20|rt>>>12)+it<<0,nt+=(it^st&(rt^it))+Et[5]-701558691,nt=(nt<<5|nt>>>27)+rt<<0,st+=(rt^it&(nt^rt))+Et[10]+38016083,st=(st<<9|st>>>23)+nt<<0,it+=(nt^rt&(st^nt))+Et[15]-660478335,it=(it<<14|it>>>18)+st<<0,rt+=(st^nt&(it^st))+Et[4]-405537848,rt=(rt<<20|rt>>>12)+it<<0,nt+=(it^st&(rt^it))+Et[9]+568446438,nt=(nt<<5|nt>>>27)+rt<<0,st+=(rt^it&(nt^rt))+Et[14]-1019803690,st=(st<<9|st>>>23)+nt<<0,it+=(nt^rt&(st^nt))+Et[3]-187363961,it=(it<<14|it>>>18)+st<<0,rt+=(st^nt&(it^st))+Et[8]+1163531501,rt=(rt<<20|rt>>>12)+it<<0,nt+=(it^st&(rt^it))+Et[13]-1444681467,nt=(nt<<5|nt>>>27)+rt<<0,st+=(rt^it&(nt^rt))+Et[2]-51403784,st=(st<<9|st>>>23)+nt<<0,it+=(nt^rt&(st^nt))+Et[7]+1735328473,it=(it<<14|it>>>18)+st<<0,rt+=(st^nt&(it^st))+Et[12]-1926607734,rt=(rt<<20|rt>>>12)+it<<0,bt=rt^it,nt+=(bt^st)+Et[5]-378558,nt=(nt<<4|nt>>>28)+rt<<0,st+=(bt^nt)+Et[8]-2022574463,st=(st<<11|st>>>21)+nt<<0,wt=st^nt,it+=(wt^rt)+Et[11]+1839030562,it=(it<<16|it>>>16)+st<<0,rt+=(wt^it)+Et[14]-35309556,rt=(rt<<23|rt>>>9)+it<<0,bt=rt^it,nt+=(bt^st)+Et[1]-1530992060,nt=(nt<<4|nt>>>28)+rt<<0,st+=(bt^nt)+Et[4]+1272893353,st=(st<<11|st>>>21)+nt<<0,wt=st^nt,it+=(wt^rt)+Et[7]-155497632,it=(it<<16|it>>>16)+st<<0,rt+=(wt^it)+Et[10]-1094730640,rt=(rt<<23|rt>>>9)+it<<0,bt=rt^it,nt+=(bt^st)+Et[13]+681279174,nt=(nt<<4|nt>>>28)+rt<<0,st+=(bt^nt)+Et[0]-358537222,st=(st<<11|st>>>21)+nt<<0,wt=st^nt,it+=(wt^rt)+Et[3]-722521979,it=(it<<16|it>>>16)+st<<0,rt+=(wt^it)+Et[6]+76029189,rt=(rt<<23|rt>>>9)+it<<0,bt=rt^it,nt+=(bt^st)+Et[9]-640364487,nt=(nt<<4|nt>>>28)+rt<<0,st+=(bt^nt)+Et[12]-421815835,st=(st<<11|st>>>21)+nt<<0,wt=st^nt,it+=(wt^rt)+Et[15]+530742520,it=(it<<16|it>>>16)+st<<0,rt+=(wt^it)+Et[2]-995338651,rt=(rt<<23|rt>>>9)+it<<0,nt+=(it^(rt|~st))+Et[0]-198630844,nt=(nt<<6|nt>>>26)+rt<<0,st+=(rt^(nt|~it))+Et[7]+1126891415,st=(st<<10|st>>>22)+nt<<0,it+=(nt^(st|~rt))+Et[14]-1416354905,it=(it<<15|it>>>17)+st<<0,rt+=(st^(it|~nt))+Et[5]-57434055,rt=(rt<<21|rt>>>11)+it<<0,nt+=(it^(rt|~st))+Et[12]+1700485571,nt=(nt<<6|nt>>>26)+rt<<0,st+=(rt^(nt|~it))+Et[3]-1894986606,st=(st<<10|st>>>22)+nt<<0,it+=(nt^(st|~rt))+Et[10]-1051523,it=(it<<15|it>>>17)+st<<0,rt+=(st^(it|~nt))+Et[1]-2054922799,rt=(rt<<21|rt>>>11)+it<<0,nt+=(it^(rt|~st))+Et[8]+1873313359,nt=(nt<<6|nt>>>26)+rt<<0,st+=(rt^(nt|~it))+Et[15]-30611744,st=(st<<10|st>>>22)+nt<<0,it+=(nt^(st|~rt))+Et[6]-1560198380,it=(it<<15|it>>>17)+st<<0,rt+=(st^(it|~nt))+Et[13]+1309151649,rt=(rt<<21|rt>>>11)+it<<0,nt+=(it^(rt|~st))+Et[4]-145523070,nt=(nt<<6|nt>>>26)+rt<<0,st+=(rt^(nt|~it))+Et[11]-1120210379,st=(st<<10|st>>>22)+nt<<0,it+=(nt^(st|~rt))+Et[2]+718787259,it=(it<<15|it>>>17)+st<<0,rt+=(st^(it|~nt))+Et[9]-343485551,rt=(rt<<21|rt>>>11)+it<<0,this.first?(this.h0=nt+1732584193<<0,this.h1=rt-271733879<<0,this.h2=it-1732584194<<0,this.h3=st+271733878<<0,this.first=!1):(this.h0=this.h0+nt<<0,this.h1=this.h1+rt<<0,this.h2=this.h2+it<<0,this.h3=this.h3+st<<0)},Md5.prototype.hex=function(){this.finalize();var nt=this.h0,rt=this.h1,it=this.h2,st=this.h3;return HEX_CHARS[nt>>4&15]+HEX_CHARS[nt&15]+HEX_CHARS[nt>>12&15]+HEX_CHARS[nt>>8&15]+HEX_CHARS[nt>>20&15]+HEX_CHARS[nt>>16&15]+HEX_CHARS[nt>>28&15]+HEX_CHARS[nt>>24&15]+HEX_CHARS[rt>>4&15]+HEX_CHARS[rt&15]+HEX_CHARS[rt>>12&15]+HEX_CHARS[rt>>8&15]+HEX_CHARS[rt>>20&15]+HEX_CHARS[rt>>16&15]+HEX_CHARS[rt>>28&15]+HEX_CHARS[rt>>24&15]+HEX_CHARS[it>>4&15]+HEX_CHARS[it&15]+HEX_CHARS[it>>12&15]+HEX_CHARS[it>>8&15]+HEX_CHARS[it>>20&15]+HEX_CHARS[it>>16&15]+HEX_CHARS[it>>28&15]+HEX_CHARS[it>>24&15]+HEX_CHARS[st>>4&15]+HEX_CHARS[st&15]+HEX_CHARS[st>>12&15]+HEX_CHARS[st>>8&15]+HEX_CHARS[st>>20&15]+HEX_CHARS[st>>16&15]+HEX_CHARS[st>>28&15]+HEX_CHARS[st>>24&15]},Md5.prototype.toString=Md5.prototype.hex,Md5.prototype.digest=function(){this.finalize();var nt=this.h0,rt=this.h1,it=this.h2,st=this.h3;return[nt&255,nt>>8&255,nt>>16&255,nt>>24&255,rt&255,rt>>8&255,rt>>16&255,rt>>24&255,it&255,it>>8&255,it>>16&255,it>>24&255,st&255,st>>8&255,st>>16&255,st>>24&255]},Md5.prototype.array=Md5.prototype.digest,Md5.prototype.arrayBuffer=function(){this.finalize();var nt=new ArrayBuffer(16),rt=new Uint32Array(nt);return rt[0]=this.h0,rt[1]=this.h1,rt[2]=this.h2,rt[3]=this.h3,nt},Md5.prototype.buffer=Md5.prototype.arrayBuffer,Md5.prototype.base64=function(){for(var nt,rt,it,st="",bt=this.array(),wt=0;wt<15;)nt=bt[wt++],rt=bt[wt++],it=bt[wt++],st+=BASE64_ENCODE_CHAR[nt>>>2]+BASE64_ENCODE_CHAR[(nt<<4|rt>>>4)&63]+BASE64_ENCODE_CHAR[(rt<<2|it>>>6)&63]+BASE64_ENCODE_CHAR[it&63];return nt=bt[wt],st+=BASE64_ENCODE_CHAR[nt>>>2]+BASE64_ENCODE_CHAR[nt<<4&63]+"==",st};var exports=createMethod();COMMON_JS?module.exports=exports:root.md5=exports})()})(md5$1);const md5=md5$1.exports;var top$2="top",bottom$1="bottom",right$1="right",left$1="left",auto="auto",basePlacements=[top$2,bottom$1,right$1,left$1],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(nt,rt){return nt.concat([rt+"-"+start$2,rt+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(nt,rt){return nt.concat([rt,rt+"-"+start$2,rt+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main$1="main",afterMain="afterMain",beforeWrite="beforeWrite",write$1="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main$1,afterMain,beforeWrite,write$1,afterWrite];function getNodeName(nt){return nt?(nt.nodeName||"").toLowerCase():null}function getWindow(nt){if(nt==null)return window;if(nt.toString()!=="[object Window]"){var rt=nt.ownerDocument;return rt&&rt.defaultView||window}return nt}function isElement$1(nt){var rt=getWindow(nt).Element;return nt instanceof rt||nt instanceof Element}function isHTMLElement(nt){var rt=getWindow(nt).HTMLElement;return nt instanceof rt||nt instanceof HTMLElement}function isShadowRoot(nt){if(typeof ShadowRoot>"u")return!1;var rt=getWindow(nt).ShadowRoot;return nt instanceof rt||nt instanceof ShadowRoot}function applyStyles(nt){var rt=nt.state;Object.keys(rt.elements).forEach(function(it){var st=rt.styles[it]||{},bt=rt.attributes[it]||{},wt=rt.elements[it];!isHTMLElement(wt)||!getNodeName(wt)||(Object.assign(wt.style,st),Object.keys(bt).forEach(function(Et){var Tt=bt[Et];Tt===!1?wt.removeAttribute(Et):wt.setAttribute(Et,Tt===!0?"":Tt)}))})}function effect$2(nt){var rt=nt.state,it={popper:{position:rt.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(rt.elements.popper.style,it.popper),rt.styles=it,rt.elements.arrow&&Object.assign(rt.elements.arrow.style,it.arrow),function(){Object.keys(rt.elements).forEach(function(st){var bt=rt.elements[st],wt=rt.attributes[st]||{},Et=Object.keys(rt.styles.hasOwnProperty(st)?rt.styles[st]:it[st]),Tt=Et.reduce(function(At,Dt){return At[Dt]="",At},{});!isHTMLElement(bt)||!getNodeName(bt)||(Object.assign(bt.style,Tt),Object.keys(wt).forEach(function(At){bt.removeAttribute(At)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement$1(nt){return nt.split("-")[0]}var max$3=Math.max,min$3=Math.min,round=Math.round;function getUAString(){var nt=navigator.userAgentData;return nt!=null&&nt.brands?nt.brands.map(function(rt){return rt.brand+"/"+rt.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(nt,rt,it){rt===void 0&&(rt=!1),it===void 0&&(it=!1);var st=nt.getBoundingClientRect(),bt=1,wt=1;rt&&isHTMLElement(nt)&&(bt=nt.offsetWidth>0&&round(st.width)/nt.offsetWidth||1,wt=nt.offsetHeight>0&&round(st.height)/nt.offsetHeight||1);var Et=isElement$1(nt)?getWindow(nt):window,Tt=Et.visualViewport,At=!isLayoutViewport()&&it,Dt=(st.left+(At&&Tt?Tt.offsetLeft:0))/bt,Ot=(st.top+(At&&Tt?Tt.offsetTop:0))/wt,zt=st.width/bt,$t=st.height/wt;return{width:zt,height:$t,top:Ot,right:Dt+zt,bottom:Ot+$t,left:Dt,x:Dt,y:Ot}}function getLayoutRect(nt){var rt=getBoundingClientRect(nt),it=nt.offsetWidth,st=nt.offsetHeight;return Math.abs(rt.width-it)<=1&&(it=rt.width),Math.abs(rt.height-st)<=1&&(st=rt.height),{x:nt.offsetLeft,y:nt.offsetTop,width:it,height:st}}function contains(nt,rt){var it=rt.getRootNode&&rt.getRootNode();if(nt.contains(rt))return!0;if(it&&isShadowRoot(it)){var st=rt;do{if(st&&nt.isSameNode(st))return!0;st=st.parentNode||st.host}while(st)}return!1}function getComputedStyle$1(nt){return getWindow(nt).getComputedStyle(nt)}function isTableElement(nt){return["table","td","th"].indexOf(getNodeName(nt))>=0}function getDocumentElement(nt){return((isElement$1(nt)?nt.ownerDocument:nt.document)||window.document).documentElement}function getParentNode(nt){return getNodeName(nt)==="html"?nt:nt.assignedSlot||nt.parentNode||(isShadowRoot(nt)?nt.host:null)||getDocumentElement(nt)}function getTrueOffsetParent(nt){return!isHTMLElement(nt)||getComputedStyle$1(nt).position==="fixed"?null:nt.offsetParent}function getContainingBlock(nt){var rt=/firefox/i.test(getUAString()),it=/Trident/i.test(getUAString());if(it&&isHTMLElement(nt)){var st=getComputedStyle$1(nt);if(st.position==="fixed")return null}var bt=getParentNode(nt);for(isShadowRoot(bt)&&(bt=bt.host);isHTMLElement(bt)&&["html","body"].indexOf(getNodeName(bt))<0;){var wt=getComputedStyle$1(bt);if(wt.transform!=="none"||wt.perspective!=="none"||wt.contain==="paint"||["transform","perspective"].indexOf(wt.willChange)!==-1||rt&&wt.willChange==="filter"||rt&&wt.filter&&wt.filter!=="none")return bt;bt=bt.parentNode}return null}function getOffsetParent(nt){for(var rt=getWindow(nt),it=getTrueOffsetParent(nt);it&&isTableElement(it)&&getComputedStyle$1(it).position==="static";)it=getTrueOffsetParent(it);return it&&(getNodeName(it)==="html"||getNodeName(it)==="body"&&getComputedStyle$1(it).position==="static")?rt:it||getContainingBlock(nt)||rt}function getMainAxisFromPlacement(nt){return["top","bottom"].indexOf(nt)>=0?"x":"y"}function within(nt,rt,it){return max$3(nt,min$3(rt,it))}function withinMaxClamp(nt,rt,it){var st=within(nt,rt,it);return st>it?it:st}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(nt){return Object.assign({},getFreshSideObject(),nt)}function expandToHashMap(nt,rt){return rt.reduce(function(it,st){return it[st]=nt,it},{})}var toPaddingObject=function nt(rt,it){return rt=typeof rt=="function"?rt(Object.assign({},it.rects,{placement:it.placement})):rt,mergePaddingObject(typeof rt!="number"?rt:expandToHashMap(rt,basePlacements))};function arrow(nt){var rt,it=nt.state,st=nt.name,bt=nt.options,wt=it.elements.arrow,Et=it.modifiersData.popperOffsets,Tt=getBasePlacement$1(it.placement),At=getMainAxisFromPlacement(Tt),Dt=[left$1,right$1].indexOf(Tt)>=0,Ot=Dt?"height":"width";if(!(!wt||!Et)){var zt=toPaddingObject(bt.padding,it),$t=getLayoutRect(wt),Bt=At==="y"?top$2:left$1,Yt=At==="y"?bottom$1:right$1,Xt=it.rects.reference[Ot]+it.rects.reference[At]-Et[At]-it.rects.popper[Ot],Ht=Et[At]-it.rects.reference[At],Qt=getOffsetParent(wt),Zt=Qt?At==="y"?Qt.clientHeight||0:Qt.clientWidth||0:0,nn=Xt/2-Ht/2,Kt=zt[Bt],ln=Zt-$t[Ot]-zt[Yt],sn=Zt/2-$t[Ot]/2+nn,bn=within(Kt,sn,ln),wn=At;it.modifiersData[st]=(rt={},rt[wn]=bn,rt.centerOffset=bn-sn,rt)}}function effect$1(nt){var rt=nt.state,it=nt.options,st=it.element,bt=st===void 0?"[data-popper-arrow]":st;bt!=null&&(typeof bt=="string"&&(bt=rt.elements.popper.querySelector(bt),!bt)||!contains(rt.elements.popper,bt)||(rt.elements.arrow=bt))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(nt){return nt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(nt){var rt=nt.x,it=nt.y,st=window,bt=st.devicePixelRatio||1;return{x:round(rt*bt)/bt||0,y:round(it*bt)/bt||0}}function mapToStyles(nt){var rt,it=nt.popper,st=nt.popperRect,bt=nt.placement,wt=nt.variation,Et=nt.offsets,Tt=nt.position,At=nt.gpuAcceleration,Dt=nt.adaptive,Ot=nt.roundOffsets,zt=nt.isFixed,$t=Et.x,Bt=$t===void 0?0:$t,Yt=Et.y,Xt=Yt===void 0?0:Yt,Ht=typeof Ot=="function"?Ot({x:Bt,y:Xt}):{x:Bt,y:Xt};Bt=Ht.x,Xt=Ht.y;var Qt=Et.hasOwnProperty("x"),Zt=Et.hasOwnProperty("y"),nn=left$1,Kt=top$2,ln=window;if(Dt){var sn=getOffsetParent(it),bn="clientHeight",wn="clientWidth";if(sn===getWindow(it)&&(sn=getDocumentElement(it),getComputedStyle$1(sn).position!=="static"&&Tt==="absolute"&&(bn="scrollHeight",wn="scrollWidth")),sn=sn,bt===top$2||(bt===left$1||bt===right$1)&&wt===end$1){Kt=bottom$1;var Mn=zt&&sn===ln&&ln.visualViewport?ln.visualViewport.height:sn[bn];Xt-=Mn-st.height,Xt*=At?1:-1}if(bt===left$1||(bt===top$2||bt===bottom$1)&&wt===end$1){nn=right$1;var Sn=zt&&sn===ln&&ln.visualViewport?ln.visualViewport.width:sn[wn];Bt-=Sn-st.width,Bt*=At?1:-1}}var Dn=Object.assign({position:Tt},Dt&&unsetSides),gn=Ot===!0?roundOffsetsByDPR({x:Bt,y:Xt}):{x:Bt,y:Xt};if(Bt=gn.x,Xt=gn.y,At){var Un;return Object.assign({},Dn,(Un={},Un[Kt]=Zt?"0":"",Un[nn]=Qt?"0":"",Un.transform=(ln.devicePixelRatio||1)<=1?"translate("+Bt+"px, "+Xt+"px)":"translate3d("+Bt+"px, "+Xt+"px, 0)",Un))}return Object.assign({},Dn,(rt={},rt[Kt]=Zt?Xt+"px":"",rt[nn]=Qt?Bt+"px":"",rt.transform="",rt))}function computeStyles(nt){var rt=nt.state,it=nt.options,st=it.gpuAcceleration,bt=st===void 0?!0:st,wt=it.adaptive,Et=wt===void 0?!0:wt,Tt=it.roundOffsets,At=Tt===void 0?!0:Tt,Dt={placement:getBasePlacement$1(rt.placement),variation:getVariation(rt.placement),popper:rt.elements.popper,popperRect:rt.rects.popper,gpuAcceleration:bt,isFixed:rt.options.strategy==="fixed"};rt.modifiersData.popperOffsets!=null&&(rt.styles.popper=Object.assign({},rt.styles.popper,mapToStyles(Object.assign({},Dt,{offsets:rt.modifiersData.popperOffsets,position:rt.options.strategy,adaptive:Et,roundOffsets:At})))),rt.modifiersData.arrow!=null&&(rt.styles.arrow=Object.assign({},rt.styles.arrow,mapToStyles(Object.assign({},Dt,{offsets:rt.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:At})))),rt.attributes.popper=Object.assign({},rt.attributes.popper,{"data-popper-placement":rt.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(nt){var rt=nt.state,it=nt.instance,st=nt.options,bt=st.scroll,wt=bt===void 0?!0:bt,Et=st.resize,Tt=Et===void 0?!0:Et,At=getWindow(rt.elements.popper),Dt=[].concat(rt.scrollParents.reference,rt.scrollParents.popper);return wt&&Dt.forEach(function(Ot){Ot.addEventListener("scroll",it.update,passive)}),Tt&&At.addEventListener("resize",it.update,passive),function(){wt&&Dt.forEach(function(Ot){Ot.removeEventListener("scroll",it.update,passive)}),Tt&&At.removeEventListener("resize",it.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function nt(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(nt){return nt.replace(/left|right|bottom|top/g,function(rt){return hash$1[rt]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(nt){return nt.replace(/start|end/g,function(rt){return hash[rt]})}function getWindowScroll(nt){var rt=getWindow(nt),it=rt.pageXOffset,st=rt.pageYOffset;return{scrollLeft:it,scrollTop:st}}function getWindowScrollBarX(nt){return getBoundingClientRect(getDocumentElement(nt)).left+getWindowScroll(nt).scrollLeft}function getViewportRect(nt,rt){var it=getWindow(nt),st=getDocumentElement(nt),bt=it.visualViewport,wt=st.clientWidth,Et=st.clientHeight,Tt=0,At=0;if(bt){wt=bt.width,Et=bt.height;var Dt=isLayoutViewport();(Dt||!Dt&&rt==="fixed")&&(Tt=bt.offsetLeft,At=bt.offsetTop)}return{width:wt,height:Et,x:Tt+getWindowScrollBarX(nt),y:At}}function getDocumentRect(nt){var rt,it=getDocumentElement(nt),st=getWindowScroll(nt),bt=(rt=nt.ownerDocument)==null?void 0:rt.body,wt=max$3(it.scrollWidth,it.clientWidth,bt?bt.scrollWidth:0,bt?bt.clientWidth:0),Et=max$3(it.scrollHeight,it.clientHeight,bt?bt.scrollHeight:0,bt?bt.clientHeight:0),Tt=-st.scrollLeft+getWindowScrollBarX(nt),At=-st.scrollTop;return getComputedStyle$1(bt||it).direction==="rtl"&&(Tt+=max$3(it.clientWidth,bt?bt.clientWidth:0)-wt),{width:wt,height:Et,x:Tt,y:At}}function isScrollParent(nt){var rt=getComputedStyle$1(nt),it=rt.overflow,st=rt.overflowX,bt=rt.overflowY;return/auto|scroll|overlay|hidden/.test(it+bt+st)}function getScrollParent(nt){return["html","body","#document"].indexOf(getNodeName(nt))>=0?nt.ownerDocument.body:isHTMLElement(nt)&&isScrollParent(nt)?nt:getScrollParent(getParentNode(nt))}function listScrollParents(nt,rt){var it;rt===void 0&&(rt=[]);var st=getScrollParent(nt),bt=st===((it=nt.ownerDocument)==null?void 0:it.body),wt=getWindow(st),Et=bt?[wt].concat(wt.visualViewport||[],isScrollParent(st)?st:[]):st,Tt=rt.concat(Et);return bt?Tt:Tt.concat(listScrollParents(getParentNode(Et)))}function rectToClientRect(nt){return Object.assign({},nt,{left:nt.x,top:nt.y,right:nt.x+nt.width,bottom:nt.y+nt.height})}function getInnerBoundingClientRect(nt,rt){var it=getBoundingClientRect(nt,!1,rt==="fixed");return it.top=it.top+nt.clientTop,it.left=it.left+nt.clientLeft,it.bottom=it.top+nt.clientHeight,it.right=it.left+nt.clientWidth,it.width=nt.clientWidth,it.height=nt.clientHeight,it.x=it.left,it.y=it.top,it}function getClientRectFromMixedType(nt,rt,it){return rt===viewport?rectToClientRect(getViewportRect(nt,it)):isElement$1(rt)?getInnerBoundingClientRect(rt,it):rectToClientRect(getDocumentRect(getDocumentElement(nt)))}function getClippingParents(nt){var rt=listScrollParents(getParentNode(nt)),it=["absolute","fixed"].indexOf(getComputedStyle$1(nt).position)>=0,st=it&&isHTMLElement(nt)?getOffsetParent(nt):nt;return isElement$1(st)?rt.filter(function(bt){return isElement$1(bt)&&contains(bt,st)&&getNodeName(bt)!=="body"}):[]}function getClippingRect(nt,rt,it,st){var bt=rt==="clippingParents"?getClippingParents(nt):[].concat(rt),wt=[].concat(bt,[it]),Et=wt[0],Tt=wt.reduce(function(At,Dt){var Ot=getClientRectFromMixedType(nt,Dt,st);return At.top=max$3(Ot.top,At.top),At.right=min$3(Ot.right,At.right),At.bottom=min$3(Ot.bottom,At.bottom),At.left=max$3(Ot.left,At.left),At},getClientRectFromMixedType(nt,Et,st));return Tt.width=Tt.right-Tt.left,Tt.height=Tt.bottom-Tt.top,Tt.x=Tt.left,Tt.y=Tt.top,Tt}function computeOffsets(nt){var rt=nt.reference,it=nt.element,st=nt.placement,bt=st?getBasePlacement$1(st):null,wt=st?getVariation(st):null,Et=rt.x+rt.width/2-it.width/2,Tt=rt.y+rt.height/2-it.height/2,At;switch(bt){case top$2:At={x:Et,y:rt.y-it.height};break;case bottom$1:At={x:Et,y:rt.y+rt.height};break;case right$1:At={x:rt.x+rt.width,y:Tt};break;case left$1:At={x:rt.x-it.width,y:Tt};break;default:At={x:rt.x,y:rt.y}}var Dt=bt?getMainAxisFromPlacement(bt):null;if(Dt!=null){var Ot=Dt==="y"?"height":"width";switch(wt){case start$2:At[Dt]=At[Dt]-(rt[Ot]/2-it[Ot]/2);break;case end$1:At[Dt]=At[Dt]+(rt[Ot]/2-it[Ot]/2);break}}return At}function detectOverflow(nt,rt){rt===void 0&&(rt={});var it=rt,st=it.placement,bt=st===void 0?nt.placement:st,wt=it.strategy,Et=wt===void 0?nt.strategy:wt,Tt=it.boundary,At=Tt===void 0?clippingParents:Tt,Dt=it.rootBoundary,Ot=Dt===void 0?viewport:Dt,zt=it.elementContext,$t=zt===void 0?popper:zt,Bt=it.altBoundary,Yt=Bt===void 0?!1:Bt,Xt=it.padding,Ht=Xt===void 0?0:Xt,Qt=mergePaddingObject(typeof Ht!="number"?Ht:expandToHashMap(Ht,basePlacements)),Zt=$t===popper?reference:popper,nn=nt.rects.popper,Kt=nt.elements[Yt?Zt:$t],ln=getClippingRect(isElement$1(Kt)?Kt:Kt.contextElement||getDocumentElement(nt.elements.popper),At,Ot,Et),sn=getBoundingClientRect(nt.elements.reference),bn=computeOffsets({reference:sn,element:nn,strategy:"absolute",placement:bt}),wn=rectToClientRect(Object.assign({},nn,bn)),Mn=$t===popper?wn:sn,Sn={top:ln.top-Mn.top+Qt.top,bottom:Mn.bottom-ln.bottom+Qt.bottom,left:ln.left-Mn.left+Qt.left,right:Mn.right-ln.right+Qt.right},Dn=nt.modifiersData.offset;if($t===popper&&Dn){var gn=Dn[bt];Object.keys(Sn).forEach(function(Un){var pn=[right$1,bottom$1].indexOf(Un)>=0?1:-1,yr=[top$2,bottom$1].indexOf(Un)>=0?"y":"x";Sn[Un]+=gn[yr]*pn})}return Sn}function computeAutoPlacement(nt,rt){rt===void 0&&(rt={});var it=rt,st=it.placement,bt=it.boundary,wt=it.rootBoundary,Et=it.padding,Tt=it.flipVariations,At=it.allowedAutoPlacements,Dt=At===void 0?placements:At,Ot=getVariation(st),zt=Ot?Tt?variationPlacements:variationPlacements.filter(function(Yt){return getVariation(Yt)===Ot}):basePlacements,$t=zt.filter(function(Yt){return Dt.indexOf(Yt)>=0});$t.length===0&&($t=zt);var Bt=$t.reduce(function(Yt,Xt){return Yt[Xt]=detectOverflow(nt,{placement:Xt,boundary:bt,rootBoundary:wt,padding:Et})[getBasePlacement$1(Xt)],Yt},{});return Object.keys(Bt).sort(function(Yt,Xt){return Bt[Yt]-Bt[Xt]})}function getExpandedFallbackPlacements(nt){if(getBasePlacement$1(nt)===auto)return[];var rt=getOppositePlacement(nt);return[getOppositeVariationPlacement(nt),rt,getOppositeVariationPlacement(rt)]}function flip(nt){var rt=nt.state,it=nt.options,st=nt.name;if(!rt.modifiersData[st]._skip){for(var bt=it.mainAxis,wt=bt===void 0?!0:bt,Et=it.altAxis,Tt=Et===void 0?!0:Et,At=it.fallbackPlacements,Dt=it.padding,Ot=it.boundary,zt=it.rootBoundary,$t=it.altBoundary,Bt=it.flipVariations,Yt=Bt===void 0?!0:Bt,Xt=it.allowedAutoPlacements,Ht=rt.options.placement,Qt=getBasePlacement$1(Ht),Zt=Qt===Ht,nn=At||(Zt||!Yt?[getOppositePlacement(Ht)]:getExpandedFallbackPlacements(Ht)),Kt=[Ht].concat(nn).reduce(function(Ir,Pr){return Ir.concat(getBasePlacement$1(Pr)===auto?computeAutoPlacement(rt,{placement:Pr,boundary:Ot,rootBoundary:zt,padding:Dt,flipVariations:Yt,allowedAutoPlacements:Xt}):Pr)},[]),ln=rt.rects.reference,sn=rt.rects.popper,bn=new Map,wn=!0,Mn=Kt[0],Sn=0;Sn<Kt.length;Sn++){var Dn=Kt[Sn],gn=getBasePlacement$1(Dn),Un=getVariation(Dn)===start$2,pn=[top$2,bottom$1].indexOf(gn)>=0,yr=pn?"width":"height",xn=detectOverflow(rt,{placement:Dn,boundary:Ot,rootBoundary:zt,altBoundary:$t,padding:Dt}),Mr=pn?Un?right$1:left$1:Un?bottom$1:top$2;ln[yr]>sn[yr]&&(Mr=getOppositePlacement(Mr));var fr=getOppositePlacement(Mr),cr=[];if(wt&&cr.push(xn[gn]<=0),Tt&&cr.push(xn[Mr]<=0,xn[fr]<=0),cr.every(function(Ir){return Ir})){Mn=Dn,wn=!1;break}bn.set(Dn,cr)}if(wn)for(var Gn=Yt?3:1,lr=function(Pr){var _r=Kt.find(function(tr){var qn=bn.get(tr);if(qn)return qn.slice(0,Pr).every(function(mr){return mr})});if(_r)return Mn=_r,"break"},ur=Gn;ur>0;ur--){var vr=lr(ur);if(vr==="break")break}rt.placement!==Mn&&(rt.modifiersData[st]._skip=!0,rt.placement=Mn,rt.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(nt,rt,it){return it===void 0&&(it={x:0,y:0}),{top:nt.top-rt.height-it.y,right:nt.right-rt.width+it.x,bottom:nt.bottom-rt.height+it.y,left:nt.left-rt.width-it.x}}function isAnySideFullyClipped(nt){return[top$2,right$1,bottom$1,left$1].some(function(rt){return nt[rt]>=0})}function hide(nt){var rt=nt.state,it=nt.name,st=rt.rects.reference,bt=rt.rects.popper,wt=rt.modifiersData.preventOverflow,Et=detectOverflow(rt,{elementContext:"reference"}),Tt=detectOverflow(rt,{altBoundary:!0}),At=getSideOffsets(Et,st),Dt=getSideOffsets(Tt,bt,wt),Ot=isAnySideFullyClipped(At),zt=isAnySideFullyClipped(Dt);rt.modifiersData[it]={referenceClippingOffsets:At,popperEscapeOffsets:Dt,isReferenceHidden:Ot,hasPopperEscaped:zt},rt.attributes.popper=Object.assign({},rt.attributes.popper,{"data-popper-reference-hidden":Ot,"data-popper-escaped":zt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(nt,rt,it){var st=getBasePlacement$1(nt),bt=[left$1,top$2].indexOf(st)>=0?-1:1,wt=typeof it=="function"?it(Object.assign({},rt,{placement:nt})):it,Et=wt[0],Tt=wt[1];return Et=Et||0,Tt=(Tt||0)*bt,[left$1,right$1].indexOf(st)>=0?{x:Tt,y:Et}:{x:Et,y:Tt}}function offset$1(nt){var rt=nt.state,it=nt.options,st=nt.name,bt=it.offset,wt=bt===void 0?[0,0]:bt,Et=placements.reduce(function(Ot,zt){return Ot[zt]=distanceAndSkiddingToXY(zt,rt.rects,wt),Ot},{}),Tt=Et[rt.placement],At=Tt.x,Dt=Tt.y;rt.modifiersData.popperOffsets!=null&&(rt.modifiersData.popperOffsets.x+=At,rt.modifiersData.popperOffsets.y+=Dt),rt.modifiersData[st]=Et}const offset$2={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset$1};function popperOffsets(nt){var rt=nt.state,it=nt.name;rt.modifiersData[it]=computeOffsets({reference:rt.rects.reference,element:rt.rects.popper,strategy:"absolute",placement:rt.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(nt){return nt==="x"?"y":"x"}function preventOverflow(nt){var rt=nt.state,it=nt.options,st=nt.name,bt=it.mainAxis,wt=bt===void 0?!0:bt,Et=it.altAxis,Tt=Et===void 0?!1:Et,At=it.boundary,Dt=it.rootBoundary,Ot=it.altBoundary,zt=it.padding,$t=it.tether,Bt=$t===void 0?!0:$t,Yt=it.tetherOffset,Xt=Yt===void 0?0:Yt,Ht=detectOverflow(rt,{boundary:At,rootBoundary:Dt,padding:zt,altBoundary:Ot}),Qt=getBasePlacement$1(rt.placement),Zt=getVariation(rt.placement),nn=!Zt,Kt=getMainAxisFromPlacement(Qt),ln=getAltAxis(Kt),sn=rt.modifiersData.popperOffsets,bn=rt.rects.reference,wn=rt.rects.popper,Mn=typeof Xt=="function"?Xt(Object.assign({},rt.rects,{placement:rt.placement})):Xt,Sn=typeof Mn=="number"?{mainAxis:Mn,altAxis:Mn}:Object.assign({mainAxis:0,altAxis:0},Mn),Dn=rt.modifiersData.offset?rt.modifiersData.offset[rt.placement]:null,gn={x:0,y:0};if(!!sn){if(wt){var Un,pn=Kt==="y"?top$2:left$1,yr=Kt==="y"?bottom$1:right$1,xn=Kt==="y"?"height":"width",Mr=sn[Kt],fr=Mr+Ht[pn],cr=Mr-Ht[yr],Gn=Bt?-wn[xn]/2:0,lr=Zt===start$2?bn[xn]:wn[xn],ur=Zt===start$2?-wn[xn]:-bn[xn],vr=rt.elements.arrow,Ir=Bt&&vr?getLayoutRect(vr):{width:0,height:0},Pr=rt.modifiersData["arrow#persistent"]?rt.modifiersData["arrow#persistent"].padding:getFreshSideObject(),_r=Pr[pn],tr=Pr[yr],qn=within(0,bn[xn],Ir[xn]),mr=nn?bn[xn]/2-Gn-qn-_r-Sn.mainAxis:lr-qn-_r-Sn.mainAxis,br=nn?-bn[xn]/2+Gn+qn+tr+Sn.mainAxis:ur+qn+tr+Sn.mainAxis,hr=rt.elements.arrow&&getOffsetParent(rt.elements.arrow),An=hr?Kt==="y"?hr.clientTop||0:hr.clientLeft||0:0,rn=(Un=Dn==null?void 0:Dn[Kt])!=null?Un:0,vn=Mr+mr-rn-An,hn=Mr+br-rn,zn=within(Bt?min$3(fr,vn):fr,Mr,Bt?max$3(cr,hn):cr);sn[Kt]=zn,gn[Kt]=zn-Mr}if(Tt){var On,Er=Kt==="x"?top$2:left$1,Rn=Kt==="x"?bottom$1:right$1,rr=sn[ln],Kn=ln==="y"?"height":"width",gr=rr+Ht[Er],xr=rr-Ht[Rn],Lr=[top$2,left$1].indexOf(Qt)!==-1,Cr=(On=Dn==null?void 0:Dn[ln])!=null?On:0,Ar=Lr?gr:rr-bn[Kn]-wn[Kn]-Cr+Sn.altAxis,mi=Lr?rr+bn[Kn]+wn[Kn]-Cr-Sn.altAxis:xr,vi=Bt&&Lr?withinMaxClamp(Ar,rr,mi):within(Bt?Ar:gr,rr,Bt?mi:xr);sn[ln]=vi,gn[ln]=vi-rr}rt.modifiersData[st]=gn}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(nt){return{scrollLeft:nt.scrollLeft,scrollTop:nt.scrollTop}}function getNodeScroll(nt){return nt===getWindow(nt)||!isHTMLElement(nt)?getWindowScroll(nt):getHTMLElementScroll(nt)}function isElementScaled(nt){var rt=nt.getBoundingClientRect(),it=round(rt.width)/nt.offsetWidth||1,st=round(rt.height)/nt.offsetHeight||1;return it!==1||st!==1}function getCompositeRect(nt,rt,it){it===void 0&&(it=!1);var st=isHTMLElement(rt),bt=isHTMLElement(rt)&&isElementScaled(rt),wt=getDocumentElement(rt),Et=getBoundingClientRect(nt,bt,it),Tt={scrollLeft:0,scrollTop:0},At={x:0,y:0};return(st||!st&&!it)&&((getNodeName(rt)!=="body"||isScrollParent(wt))&&(Tt=getNodeScroll(rt)),isHTMLElement(rt)?(At=getBoundingClientRect(rt,!0),At.x+=rt.clientLeft,At.y+=rt.clientTop):wt&&(At.x=getWindowScrollBarX(wt))),{x:Et.left+Tt.scrollLeft-At.x,y:Et.top+Tt.scrollTop-At.y,width:Et.width,height:Et.height}}function order$1(nt){var rt=new Map,it=new Set,st=[];nt.forEach(function(wt){rt.set(wt.name,wt)});function bt(wt){it.add(wt.name);var Et=[].concat(wt.requires||[],wt.requiresIfExists||[]);Et.forEach(function(Tt){if(!it.has(Tt)){var At=rt.get(Tt);At&&bt(At)}}),st.push(wt)}return nt.forEach(function(wt){it.has(wt.name)||bt(wt)}),st}function orderModifiers(nt){var rt=order$1(nt);return modifierPhases.reduce(function(it,st){return it.concat(rt.filter(function(bt){return bt.phase===st}))},[])}function debounce$1(nt){var rt;return function(){return rt||(rt=new Promise(function(it){Promise.resolve().then(function(){rt=void 0,it(nt())})})),rt}}function mergeByName(nt){var rt=nt.reduce(function(it,st){var bt=it[st.name];return it[st.name]=bt?Object.assign({},bt,st,{options:Object.assign({},bt.options,st.options),data:Object.assign({},bt.data,st.data)}):st,it},{});return Object.keys(rt).map(function(it){return rt[it]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var nt=arguments.length,rt=new Array(nt),it=0;it<nt;it++)rt[it]=arguments[it];return!rt.some(function(st){return!(st&&typeof st.getBoundingClientRect=="function")})}function popperGenerator(nt){nt===void 0&&(nt={});var rt=nt,it=rt.defaultModifiers,st=it===void 0?[]:it,bt=rt.defaultOptions,wt=bt===void 0?DEFAULT_OPTIONS:bt;return function(Tt,At,Dt){Dt===void 0&&(Dt=wt);var Ot={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,wt),modifiersData:{},elements:{reference:Tt,popper:At},attributes:{},styles:{}},zt=[],$t=!1,Bt={state:Ot,setOptions:function(Qt){var Zt=typeof Qt=="function"?Qt(Ot.options):Qt;Xt(),Ot.options=Object.assign({},wt,Ot.options,Zt),Ot.scrollParents={reference:isElement$1(Tt)?listScrollParents(Tt):Tt.contextElement?listScrollParents(Tt.contextElement):[],popper:listScrollParents(At)};var nn=orderModifiers(mergeByName([].concat(st,Ot.options.modifiers)));return Ot.orderedModifiers=nn.filter(function(Kt){return Kt.enabled}),Yt(),Bt.update()},forceUpdate:function(){if(!$t){var Qt=Ot.elements,Zt=Qt.reference,nn=Qt.popper;if(!!areValidElements(Zt,nn)){Ot.rects={reference:getCompositeRect(Zt,getOffsetParent(nn),Ot.options.strategy==="fixed"),popper:getLayoutRect(nn)},Ot.reset=!1,Ot.placement=Ot.options.placement,Ot.orderedModifiers.forEach(function(Sn){return Ot.modifiersData[Sn.name]=Object.assign({},Sn.data)});for(var Kt=0;Kt<Ot.orderedModifiers.length;Kt++){if(Ot.reset===!0){Ot.reset=!1,Kt=-1;continue}var ln=Ot.orderedModifiers[Kt],sn=ln.fn,bn=ln.options,wn=bn===void 0?{}:bn,Mn=ln.name;typeof sn=="function"&&(Ot=sn({state:Ot,options:wn,name:Mn,instance:Bt})||Ot)}}}},update:debounce$1(function(){return new Promise(function(Ht){Bt.forceUpdate(),Ht(Ot)})}),destroy:function(){Xt(),$t=!0}};if(!areValidElements(Tt,At))return Bt;Bt.setOptions(Dt).then(function(Ht){!$t&&Dt.onFirstUpdate&&Dt.onFirstUpdate(Ht)});function Yt(){Ot.orderedModifiers.forEach(function(Ht){var Qt=Ht.name,Zt=Ht.options,nn=Zt===void 0?{}:Zt,Kt=Ht.effect;if(typeof Kt=="function"){var ln=Kt({state:Ot,name:Qt,instance:Bt,options:nn}),sn=function(){};zt.push(ln||sn)}})}function Xt(){zt.forEach(function(Ht){return Ht()}),zt=[]}return Bt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$2,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers}),BOX_CLASS="tippy-box",CONTENT_CLASS="tippy-content",BACKDROP_CLASS="tippy-backdrop",ARROW_CLASS="tippy-arrow",SVG_ARROW_CLASS="tippy-svg-arrow",TOUCH_OPTIONS={passive:!0,capture:!0},TIPPY_DEFAULT_APPEND_TO=function nt(){return document.body};function getValueAtIndexOrReturn(nt,rt,it){if(Array.isArray(nt)){var st=nt[rt];return st==null?Array.isArray(it)?it[rt]:it:st}return nt}function isType(nt,rt){var it={}.toString.call(nt);return it.indexOf("[object")===0&&it.indexOf(rt+"]")>-1}function invokeWithArgsOrReturn(nt,rt){return typeof nt=="function"?nt.apply(void 0,rt):nt}function debounce(nt,rt){if(rt===0)return nt;var it;return function(st){clearTimeout(it),it=setTimeout(function(){nt(st)},rt)}}function splitBySpaces(nt){return nt.split(/\s+/).filter(Boolean)}function normalizeToArray(nt){return[].concat(nt)}function pushIfUnique(nt,rt){nt.indexOf(rt)===-1&&nt.push(rt)}function unique(nt){return nt.filter(function(rt,it){return nt.indexOf(rt)===it})}function getBasePlacement(nt){return nt.split("-")[0]}function arrayFrom(nt){return[].slice.call(nt)}function removeUndefinedProps(nt){return Object.keys(nt).reduce(function(rt,it){return nt[it]!==void 0&&(rt[it]=nt[it]),rt},{})}function div(){return document.createElement("div")}function isElement(nt){return["Element","Fragment"].some(function(rt){return isType(nt,rt)})}function isNodeList(nt){return isType(nt,"NodeList")}function isMouseEvent(nt){return isType(nt,"MouseEvent")}function isReferenceElement(nt){return!!(nt&&nt._tippy&&nt._tippy.reference===nt)}function getArrayOfElements(nt){return isElement(nt)?[nt]:isNodeList(nt)?arrayFrom(nt):Array.isArray(nt)?nt:arrayFrom(document.querySelectorAll(nt))}function setTransitionDuration(nt,rt){nt.forEach(function(it){it&&(it.style.transitionDuration=rt+"ms")})}function setVisibilityState(nt,rt){nt.forEach(function(it){it&&it.setAttribute("data-state",rt)})}function getOwnerDocument(nt){var rt,it=normalizeToArray(nt),st=it[0];return st!=null&&(rt=st.ownerDocument)!=null&&rt.body?st.ownerDocument:document}function isCursorOutsideInteractiveBorder(nt,rt){var it=rt.clientX,st=rt.clientY;return nt.every(function(bt){var wt=bt.popperRect,Et=bt.popperState,Tt=bt.props,At=Tt.interactiveBorder,Dt=getBasePlacement(Et.placement),Ot=Et.modifiersData.offset;if(!Ot)return!0;var zt=Dt==="bottom"?Ot.top.y:0,$t=Dt==="top"?Ot.bottom.y:0,Bt=Dt==="right"?Ot.left.x:0,Yt=Dt==="left"?Ot.right.x:0,Xt=wt.top-st+zt>At,Ht=st-wt.bottom-$t>At,Qt=wt.left-it+Bt>At,Zt=it-wt.right-Yt>At;return Xt||Ht||Qt||Zt})}function updateTransitionEndListener(nt,rt,it){var st=rt+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(bt){nt[st](bt,it)})}function actualContains(nt,rt){for(var it=rt;it;){var st;if(nt.contains(it))return!0;it=it.getRootNode==null||(st=it.getRootNode())==null?void 0:st.host}return!1}var currentInput={isTouch:!1},lastMouseMoveTime=0;function onDocumentTouchStart(){currentInput.isTouch||(currentInput.isTouch=!0,window.performance&&document.addEventListener("mousemove",onDocumentMouseMove))}function onDocumentMouseMove(){var nt=performance.now();nt-lastMouseMoveTime<20&&(currentInput.isTouch=!1,document.removeEventListener("mousemove",onDocumentMouseMove)),lastMouseMoveTime=nt}function onWindowBlur(){var nt=document.activeElement;if(isReferenceElement(nt)){var rt=nt._tippy;nt.blur&&!rt.state.isVisible&&nt.blur()}}function bindGlobalEventListeners(){document.addEventListener("touchstart",onDocumentTouchStart,TOUCH_OPTIONS),window.addEventListener("blur",onWindowBlur)}var isBrowser=typeof window<"u"&&typeof document<"u",isIE11=isBrowser?!!window.msCrypto:!1,pluginProps={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},renderProps={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},defaultProps=Object.assign({appendTo:TIPPY_DEFAULT_APPEND_TO,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function nt(){},onBeforeUpdate:function nt(){},onCreate:function nt(){},onDestroy:function nt(){},onHidden:function nt(){},onHide:function nt(){},onMount:function nt(){},onShow:function nt(){},onShown:function nt(){},onTrigger:function nt(){},onUntrigger:function nt(){},onClickOutside:function nt(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},pluginProps,renderProps),defaultKeys=Object.keys(defaultProps),setDefaultProps=function nt(rt){var it=Object.keys(rt);it.forEach(function(st){defaultProps[st]=rt[st]})};function getExtendedPassedProps(nt){var rt=nt.plugins||[],it=rt.reduce(function(st,bt){var wt=bt.name,Et=bt.defaultValue;if(wt){var Tt;st[wt]=nt[wt]!==void 0?nt[wt]:(Tt=defaultProps[wt])!=null?Tt:Et}return st},{});return Object.assign({},nt,it)}function getDataAttributeProps(nt,rt){var it=rt?Object.keys(getExtendedPassedProps(Object.assign({},defaultProps,{plugins:rt}))):defaultKeys,st=it.reduce(function(bt,wt){var Et=(nt.getAttribute("data-tippy-"+wt)||"").trim();if(!Et)return bt;if(wt==="content")bt[wt]=Et;else try{bt[wt]=JSON.parse(Et)}catch{bt[wt]=Et}return bt},{});return st}function evaluateProps(nt,rt){var it=Object.assign({},rt,{content:invokeWithArgsOrReturn(rt.content,[nt])},rt.ignoreAttributes?{}:getDataAttributeProps(nt,rt.plugins));return it.aria=Object.assign({},defaultProps.aria,it.aria),it.aria={expanded:it.aria.expanded==="auto"?rt.interactive:it.aria.expanded,content:it.aria.content==="auto"?rt.interactive?null:"describedby":it.aria.content},it}var innerHTML=function nt(){return"innerHTML"};function dangerouslySetInnerHTML(nt,rt){nt[innerHTML()]=rt}function createArrowElement(nt){var rt=div();return nt===!0?rt.className=ARROW_CLASS:(rt.className=SVG_ARROW_CLASS,isElement(nt)?rt.appendChild(nt):dangerouslySetInnerHTML(rt,nt)),rt}function setContent(nt,rt){isElement(rt.content)?(dangerouslySetInnerHTML(nt,""),nt.appendChild(rt.content)):typeof rt.content!="function"&&(rt.allowHTML?dangerouslySetInnerHTML(nt,rt.content):nt.textContent=rt.content)}function getChildren(nt){var rt=nt.firstElementChild,it=arrayFrom(rt.children);return{box:rt,content:it.find(function(st){return st.classList.contains(CONTENT_CLASS)}),arrow:it.find(function(st){return st.classList.contains(ARROW_CLASS)||st.classList.contains(SVG_ARROW_CLASS)}),backdrop:it.find(function(st){return st.classList.contains(BACKDROP_CLASS)})}}function render$3(nt){var rt=div(),it=div();it.className=BOX_CLASS,it.setAttribute("data-state","hidden"),it.setAttribute("tabindex","-1");var st=div();st.className=CONTENT_CLASS,st.setAttribute("data-state","hidden"),setContent(st,nt.props),rt.appendChild(it),it.appendChild(st),bt(nt.props,nt.props);function bt(wt,Et){var Tt=getChildren(rt),At=Tt.box,Dt=Tt.content,Ot=Tt.arrow;Et.theme?At.setAttribute("data-theme",Et.theme):At.removeAttribute("data-theme"),typeof Et.animation=="string"?At.setAttribute("data-animation",Et.animation):At.removeAttribute("data-animation"),Et.inertia?At.setAttribute("data-inertia",""):At.removeAttribute("data-inertia"),At.style.maxWidth=typeof Et.maxWidth=="number"?Et.maxWidth+"px":Et.maxWidth,Et.role?At.setAttribute("role",Et.role):At.removeAttribute("role"),(wt.content!==Et.content||wt.allowHTML!==Et.allowHTML)&&setContent(Dt,nt.props),Et.arrow?Ot?wt.arrow!==Et.arrow&&(At.removeChild(Ot),At.appendChild(createArrowElement(Et.arrow))):At.appendChild(createArrowElement(Et.arrow)):Ot&&At.removeChild(Ot)}return{popper:rt,onUpdate:bt}}render$3.$$tippy=!0;var idCounter$1=1,mouseMoveListeners=[],mountedInstances=[];function createTippy(nt,rt){var it=evaluateProps(nt,Object.assign({},defaultProps,getExtendedPassedProps(removeUndefinedProps(rt)))),st,bt,wt,Et=!1,Tt=!1,At=!1,Dt=!1,Ot,zt,$t,Bt=[],Yt=debounce(vn,it.interactiveDebounce),Xt,Ht=idCounter$1++,Qt=null,Zt=unique(it.plugins),nn={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},Kt={id:Ht,reference:nt,popper:div(),popperInstance:Qt,props:it,state:nn,plugins:Zt,clearDelayTimeouts:Ar,setProps:mi,setContent:vi,show:xi,hide:Ci,hideWithInteractivity:Ei,enable:Lr,disable:Cr,unmount:Bi,destroy:Ai};if(!it.render)return Kt;var ln=it.render(Kt),sn=ln.popper,bn=ln.onUpdate;sn.setAttribute("data-tippy-root",""),sn.id="tippy-"+Kt.id,Kt.popper=sn,nt._tippy=Kt,sn._tippy=Kt;var wn=Zt.map(function(Fr){return Fr.fn(Kt)}),Mn=nt.hasAttribute("aria-expanded");return hr(),Gn(),Mr(),fr("onCreate",[Kt]),it.showOnCreate&&gr(),sn.addEventListener("mouseenter",function(){Kt.props.interactive&&Kt.state.isVisible&&Kt.clearDelayTimeouts()}),sn.addEventListener("mouseleave",function(){Kt.props.interactive&&Kt.props.trigger.indexOf("mouseenter")>=0&&pn().addEventListener("mousemove",Yt)}),Kt;function Sn(){var Fr=Kt.props.touch;return Array.isArray(Fr)?Fr:[Fr,0]}function Dn(){return Sn()[0]==="hold"}function gn(){var Fr;return!!((Fr=Kt.props.render)!=null&&Fr.$$tippy)}function Un(){return Xt||nt}function pn(){var Fr=Un().parentNode;return Fr?getOwnerDocument(Fr):document}function yr(){return getChildren(sn)}function xn(Fr){return Kt.state.isMounted&&!Kt.state.isVisible||currentInput.isTouch||Ot&&Ot.type==="focus"?0:getValueAtIndexOrReturn(Kt.props.delay,Fr?0:1,defaultProps.delay)}function Mr(Fr){Fr===void 0&&(Fr=!1),sn.style.pointerEvents=Kt.props.interactive&&!Fr?"":"none",sn.style.zIndex=""+Kt.props.zIndex}function fr(Fr,Ln,Nn){if(Nn===void 0&&(Nn=!0),wn.forEach(function(sr){sr[Fr]&&sr[Fr].apply(sr,Ln)}),Nn){var er;(er=Kt.props)[Fr].apply(er,Ln)}}function cr(){var Fr=Kt.props.aria;if(!!Fr.content){var Ln="aria-"+Fr.content,Nn=sn.id,er=normalizeToArray(Kt.props.triggerTarget||nt);er.forEach(function(sr){var Nr=sr.getAttribute(Ln);if(Kt.state.isVisible)sr.setAttribute(Ln,Nr?Nr+" "+Nn:Nn);else{var Jr=Nr&&Nr.replace(Nn,"").trim();Jr?sr.setAttribute(Ln,Jr):sr.removeAttribute(Ln)}})}}function Gn(){if(!(Mn||!Kt.props.aria.expanded)){var Fr=normalizeToArray(Kt.props.triggerTarget||nt);Fr.forEach(function(Ln){Kt.props.interactive?Ln.setAttribute("aria-expanded",Kt.state.isVisible&&Ln===Un()?"true":"false"):Ln.removeAttribute("aria-expanded")})}}function lr(){pn().removeEventListener("mousemove",Yt),mouseMoveListeners=mouseMoveListeners.filter(function(Fr){return Fr!==Yt})}function ur(Fr){if(!(currentInput.isTouch&&(At||Fr.type==="mousedown"))){var Ln=Fr.composedPath&&Fr.composedPath()[0]||Fr.target;if(!(Kt.props.interactive&&actualContains(sn,Ln))){if(normalizeToArray(Kt.props.triggerTarget||nt).some(function(Nn){return actualContains(Nn,Ln)})){if(currentInput.isTouch||Kt.state.isVisible&&Kt.props.trigger.indexOf("click")>=0)return}else fr("onClickOutside",[Kt,Fr]);Kt.props.hideOnClick===!0&&(Kt.clearDelayTimeouts(),Kt.hide(),Tt=!0,setTimeout(function(){Tt=!1}),Kt.state.isMounted||_r())}}}function vr(){At=!0}function Ir(){At=!1}function Pr(){var Fr=pn();Fr.addEventListener("mousedown",ur,!0),Fr.addEventListener("touchend",ur,TOUCH_OPTIONS),Fr.addEventListener("touchstart",Ir,TOUCH_OPTIONS),Fr.addEventListener("touchmove",vr,TOUCH_OPTIONS)}function _r(){var Fr=pn();Fr.removeEventListener("mousedown",ur,!0),Fr.removeEventListener("touchend",ur,TOUCH_OPTIONS),Fr.removeEventListener("touchstart",Ir,TOUCH_OPTIONS),Fr.removeEventListener("touchmove",vr,TOUCH_OPTIONS)}function tr(Fr,Ln){mr(Fr,function(){!Kt.state.isVisible&&sn.parentNode&&sn.parentNode.contains(sn)&&Ln()})}function qn(Fr,Ln){mr(Fr,Ln)}function mr(Fr,Ln){var Nn=yr().box;function er(sr){sr.target===Nn&&(updateTransitionEndListener(Nn,"remove",er),Ln())}if(Fr===0)return Ln();updateTransitionEndListener(Nn,"remove",zt),updateTransitionEndListener(Nn,"add",er),zt=er}function br(Fr,Ln,Nn){Nn===void 0&&(Nn=!1);var er=normalizeToArray(Kt.props.triggerTarget||nt);er.forEach(function(sr){sr.addEventListener(Fr,Ln,Nn),Bt.push({node:sr,eventType:Fr,handler:Ln,options:Nn})})}function hr(){Dn()&&(br("touchstart",rn,{passive:!0}),br("touchend",hn,{passive:!0})),splitBySpaces(Kt.props.trigger).forEach(function(Fr){if(Fr!=="manual")switch(br(Fr,rn),Fr){case"mouseenter":br("mouseleave",hn);break;case"focus":br(isIE11?"focusout":"blur",zn);break;case"focusin":br("focusout",zn);break}})}function An(){Bt.forEach(function(Fr){var Ln=Fr.node,Nn=Fr.eventType,er=Fr.handler,sr=Fr.options;Ln.removeEventListener(Nn,er,sr)}),Bt=[]}function rn(Fr){var Ln,Nn=!1;if(!(!Kt.state.isEnabled||On(Fr)||Tt)){var er=((Ln=Ot)==null?void 0:Ln.type)==="focus";Ot=Fr,Xt=Fr.currentTarget,Gn(),!Kt.state.isVisible&&isMouseEvent(Fr)&&mouseMoveListeners.forEach(function(sr){return sr(Fr)}),Fr.type==="click"&&(Kt.props.trigger.indexOf("mouseenter")<0||Et)&&Kt.props.hideOnClick!==!1&&Kt.state.isVisible?Nn=!0:gr(Fr),Fr.type==="click"&&(Et=!Nn),Nn&&!er&&xr(Fr)}}function vn(Fr){var Ln=Fr.target,Nn=Un().contains(Ln)||sn.contains(Ln);if(!(Fr.type==="mousemove"&&Nn)){var er=Kn().concat(sn).map(function(sr){var Nr,Jr=sr._tippy,Dr=(Nr=Jr.popperInstance)==null?void 0:Nr.state;return Dr?{popperRect:sr.getBoundingClientRect(),popperState:Dr,props:it}:null}).filter(Boolean);isCursorOutsideInteractiveBorder(er,Fr)&&(lr(),xr(Fr))}}function hn(Fr){var Ln=On(Fr)||Kt.props.trigger.indexOf("click")>=0&&Et;if(!Ln){if(Kt.props.interactive){Kt.hideWithInteractivity(Fr);return}xr(Fr)}}function zn(Fr){Kt.props.trigger.indexOf("focusin")<0&&Fr.target!==Un()||Kt.props.interactive&&Fr.relatedTarget&&sn.contains(Fr.relatedTarget)||xr(Fr)}function On(Fr){return currentInput.isTouch?Dn()!==Fr.type.indexOf("touch")>=0:!1}function Er(){Rn();var Fr=Kt.props,Ln=Fr.popperOptions,Nn=Fr.placement,er=Fr.offset,sr=Fr.getReferenceClientRect,Nr=Fr.moveTransition,Jr=gn()?getChildren(sn).arrow:null,Dr=sr?{getBoundingClientRect:sr,contextElement:sr.contextElement||Un()}:nt,yi={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(Ni){var Ri=Ni.state;if(gn()){var Li=yr(),eo=Li.box;["placement","reference-hidden","escaped"].forEach(function(Ui){Ui==="placement"?eo.setAttribute("data-placement",Ri.placement):Ri.attributes.popper["data-popper-"+Ui]?eo.setAttribute("data-"+Ui,""):eo.removeAttribute("data-"+Ui)}),Ri.attributes.popper={}}}},Br=[{name:"offset",options:{offset:er}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!Nr}},yi];gn()&&Jr&&Br.push({name:"arrow",options:{element:Jr,padding:3}}),Br.push.apply(Br,(Ln==null?void 0:Ln.modifiers)||[]),Kt.popperInstance=createPopper(Dr,sn,Object.assign({},Ln,{placement:Nn,onFirstUpdate:$t,modifiers:Br}))}function Rn(){Kt.popperInstance&&(Kt.popperInstance.destroy(),Kt.popperInstance=null)}function rr(){var Fr=Kt.props.appendTo,Ln,Nn=Un();Kt.props.interactive&&Fr===TIPPY_DEFAULT_APPEND_TO||Fr==="parent"?Ln=Nn.parentNode:Ln=invokeWithArgsOrReturn(Fr,[Nn]),Ln.contains(sn)||Ln.appendChild(sn),Kt.state.isMounted=!0,Er()}function Kn(){return arrayFrom(sn.querySelectorAll("[data-tippy-root]"))}function gr(Fr){Kt.clearDelayTimeouts(),Fr&&fr("onTrigger",[Kt,Fr]),Pr();var Ln=xn(!0),Nn=Sn(),er=Nn[0],sr=Nn[1];currentInput.isTouch&&er==="hold"&&sr&&(Ln=sr),Ln?st=setTimeout(function(){Kt.show()},Ln):Kt.show()}function xr(Fr){if(Kt.clearDelayTimeouts(),fr("onUntrigger",[Kt,Fr]),!Kt.state.isVisible){_r();return}if(!(Kt.props.trigger.indexOf("mouseenter")>=0&&Kt.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(Fr.type)>=0&&Et)){var Ln=xn(!1);Ln?bt=setTimeout(function(){Kt.state.isVisible&&Kt.hide()},Ln):wt=requestAnimationFrame(function(){Kt.hide()})}}function Lr(){Kt.state.isEnabled=!0}function Cr(){Kt.hide(),Kt.state.isEnabled=!1}function Ar(){clearTimeout(st),clearTimeout(bt),cancelAnimationFrame(wt)}function mi(Fr){if(!Kt.state.isDestroyed){fr("onBeforeUpdate",[Kt,Fr]),An();var Ln=Kt.props,Nn=evaluateProps(nt,Object.assign({},Ln,removeUndefinedProps(Fr),{ignoreAttributes:!0}));Kt.props=Nn,hr(),Ln.interactiveDebounce!==Nn.interactiveDebounce&&(lr(),Yt=debounce(vn,Nn.interactiveDebounce)),Ln.triggerTarget&&!Nn.triggerTarget?normalizeToArray(Ln.triggerTarget).forEach(function(er){er.removeAttribute("aria-expanded")}):Nn.triggerTarget&&nt.removeAttribute("aria-expanded"),Gn(),Mr(),bn&&bn(Ln,Nn),Kt.popperInstance&&(Er(),Kn().forEach(function(er){requestAnimationFrame(er._tippy.popperInstance.forceUpdate)})),fr("onAfterUpdate",[Kt,Fr])}}function vi(Fr){Kt.setProps({content:Fr})}function xi(){var Fr=Kt.state.isVisible,Ln=Kt.state.isDestroyed,Nn=!Kt.state.isEnabled,er=currentInput.isTouch&&!Kt.props.touch,sr=getValueAtIndexOrReturn(Kt.props.duration,0,defaultProps.duration);if(!(Fr||Ln||Nn||er)&&!Un().hasAttribute("disabled")&&(fr("onShow",[Kt],!1),Kt.props.onShow(Kt)!==!1)){if(Kt.state.isVisible=!0,gn()&&(sn.style.visibility="visible"),Mr(),Pr(),Kt.state.isMounted||(sn.style.transition="none"),gn()){var Nr=yr(),Jr=Nr.box,Dr=Nr.content;setTransitionDuration([Jr,Dr],0)}$t=function(){var Br;if(!(!Kt.state.isVisible||Dt)){if(Dt=!0,sn.offsetHeight,sn.style.transition=Kt.props.moveTransition,gn()&&Kt.props.animation){var Si=yr(),Ni=Si.box,Ri=Si.content;setTransitionDuration([Ni,Ri],sr),setVisibilityState([Ni,Ri],"visible")}cr(),Gn(),pushIfUnique(mountedInstances,Kt),(Br=Kt.popperInstance)==null||Br.forceUpdate(),fr("onMount",[Kt]),Kt.props.animation&&gn()&&qn(sr,function(){Kt.state.isShown=!0,fr("onShown",[Kt])})}},rr()}}function Ci(){var Fr=!Kt.state.isVisible,Ln=Kt.state.isDestroyed,Nn=!Kt.state.isEnabled,er=getValueAtIndexOrReturn(Kt.props.duration,1,defaultProps.duration);if(!(Fr||Ln||Nn)&&(fr("onHide",[Kt],!1),Kt.props.onHide(Kt)!==!1)){if(Kt.state.isVisible=!1,Kt.state.isShown=!1,Dt=!1,Et=!1,gn()&&(sn.style.visibility="hidden"),lr(),_r(),Mr(!0),gn()){var sr=yr(),Nr=sr.box,Jr=sr.content;Kt.props.animation&&(setTransitionDuration([Nr,Jr],er),setVisibilityState([Nr,Jr],"hidden"))}cr(),Gn(),Kt.props.animation?gn()&&tr(er,Kt.unmount):Kt.unmount()}}function Ei(Fr){pn().addEventListener("mousemove",Yt),pushIfUnique(mouseMoveListeners,Yt),Yt(Fr)}function Bi(){Kt.state.isVisible&&Kt.hide(),Kt.state.isMounted&&(Rn(),Kn().forEach(function(Fr){Fr._tippy.unmount()}),sn.parentNode&&sn.parentNode.removeChild(sn),mountedInstances=mountedInstances.filter(function(Fr){return Fr!==Kt}),Kt.state.isMounted=!1,fr("onHidden",[Kt]))}function Ai(){Kt.state.isDestroyed||(Kt.clearDelayTimeouts(),Kt.unmount(),An(),delete nt._tippy,Kt.state.isDestroyed=!0,fr("onDestroy",[Kt]))}}function tippy(nt,rt){rt===void 0&&(rt={});var it=defaultProps.plugins.concat(rt.plugins||[]);bindGlobalEventListeners();var st=Object.assign({},rt,{plugins:it}),bt=getArrayOfElements(nt),wt=bt.reduce(function(Et,Tt){var At=Tt&&createTippy(Tt,st);return At&&Et.push(At),Et},[]);return isElement(nt)?wt[0]:wt}tippy.defaultProps=defaultProps;tippy.setDefaultProps=setDefaultProps;tippy.currentInput=currentInput;Object.assign({},applyStyles$1,{effect:function nt(rt){var it=rt.state,st={popper:{position:it.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(it.elements.popper.style,st.popper),it.styles=st,it.elements.arrow&&Object.assign(it.elements.arrow.style,st.arrow)}});tippy.setDefaultProps({render:render$3});const iiifServer="https://iiif.juncture-digital.org";function isURL(nt){return/^https*:\/\//.test(nt)}function sha256(nt){return sha256$1.exports.sha256(nt)}function isMobile(){return"ontouchstart"in document.documentElement&&/mobi/i.test(navigator.userAgent)}function kebabToCamel(nt){return nt.replace(/-([a-z])/g,function(rt){return rt[1].toUpperCase()})}let tippyEntities;function initTippy(nt=null,rt=!1){let it=new Set("qid label description image".split(/\s/));rt&&(tippyEntities=null),nt=nt||document;let st=Array.from(nt.querySelectorAll("mark")).filter(bt=>Array.from(bt.attributes).find(wt=>{let Et=wt.name.toLowerCase();return it.has(Et)||isQID(wt.value)&&Et!=="flyto"}));!tippyEntities&&st.length>0&&(tippyEntities=st,tippy(tippyEntities,{interactive:!0,allowHTML:!0,delay:[null,null],onShow:bt=>{let wt=Array.from(bt.reference.attributes).filter(Et=>it.has(Et.name)).map(Et=>`${Et.name}="${Et.value}"`);bt.setContent(`<ve-entity-card ${wt} style="max-width:90vw;"></ve-entity-card>`)}}))}async function getManifest(nt,rt=!1){let it=nt.indexOf("http")===0?nt:`${iiifServer}/${nt}/manifest.json`;return(await loadManifests([it],rt))[0]}function observeNavbar(nt,rt){const it=()=>{let bt=parseInt(nt.style.top.replace(/^-/,"").replace(/px$/,""))||0,Et=(parseInt(nt.style.height.replace(/px$/,""))||nt.clientHeight)-bt;rt.style.top=`${Et}px`};it(),new MutationObserver(it).observe(nt,{attributes:!0})}function makeSticky(nt){var it;nt.classList.add("sticky"),nt.style.position="sticky";let rt=document.querySelector('ve-navbar[sticky="true"]');if(rt)observeNavbar(rt,nt);else{let st=document.querySelector("ve-header[sticky]");st?(rt=(it=st==null?void 0:st.shadowRoot)==null?void 0:it.querySelector("ve-navbar"),rt?observeNavbar(rt,nt):new MutationObserver(()=>{var wt;rt=(wt=st==null?void 0:st.shadowRoot)==null?void 0:wt.querySelector("ve-navbar"),rt&&observeNavbar(rt,nt)}).observe(st,{childList:!0,subtree:!0,attributes:!0})):nt.style.top="0"}}function findItem(nt,rt,it=1){const st=_findItems(nt,rt);return st.length>=it?st[it-1]:null}function _findItems(nt,rt,it=[]){if(it=it||[],rt.items)for(let st=0;st<rt.items.length;st++){let bt=rt.items[st];!Object.entries(nt).find(([Et,Tt])=>bt[Et]&&bt[Et]!==Tt)?it.push(bt):_findItems(nt,bt,it)}return it}function getItemInfo(nt,rt=1){return findItem({type:"Annotation",motivation:"painting"},nt,rt).body}function imageCount(nt){return _findItems({type:"Annotation",motivation:"painting"},nt).length}const _manifestCache={};async function loadManifests(nt,rt=!1){let it=nt.map(bt=>bt.indexOf("http")===0?bt:`${iiifServer}/${bt}/manifest.json`),st=it.filter(bt=>!_manifestCache[bt]);if(st.length>0){let bt=st.map(Tt=>(rt&&["localhost","iiif.juncture-digital.org"].includes(new URL(Tt).hostname)&&(Tt+="?refresh"),fetch(Tt))),wt=await Promise.all(bt),Et=await Promise.all(wt.map(Tt=>Tt.json()));if(bt=Et.filter(Tt=>!Array.isArray(Tt["@context"])&&parseFloat(Tt["@context"].split("/").slice(-2,-1).pop())<3).map(Tt=>fetch("https://iiif.juncture-digital.org/prezi2to3/",{method:"POST",body:JSON.stringify(Tt)})),bt.length>0){wt=await Promise.all(bt);let Tt=await Promise.all(wt.map(At=>At.json()));for(let At=0;At<Et.length;At++){let Dt=Et[At].id||Et[At]["@id"],Ot=Tt.find(zt=>(zt.id||zt["@id"])===Dt);Ot&&(Et[At]=Ot)}}return Et.forEach((Tt,At)=>_manifestCache[st[At]]=Tt),it.map(Tt=>_manifestCache[Tt])}else return it.map(bt=>_manifestCache[bt])}function _value(nt,rt="en"){return typeof nt=="object"?nt[rt]||nt.none||nt[Object.keys(nt).sort()[0]]:nt}function label(nt,rt="en"){return nt?_value(nt.label,rt):null}function summary(nt,rt="en"){return nt?_value(nt.summary,rt):null}function staticImage(nt,rt,it=0,st=0){let bt=getItemInfo(nt),wt=rt.region||"full",Et=rt.size?rt.size:it?st?`${it},${st}`:`${it},`:st?`,${st}`:"400,",Tt=rt.rotation||"0",At=rt.quality||"default",Dt=rt.format||"jpg";return`${bt.service[0].id||bt.service[0]["@id"]}/${wt}/${Et}/${Tt}/${At}.${Dt}`}function thumbnail(nt,rt=400,it=1){if(!nt)return null;let st=getItemInfo(nt,it);return st.service?`${st.service[0].id||st.service[0]["@id"]}/full/${rt},/0/default.jpg`:st.type==="Video"?`https://iiif.juncture-digital.org/thumbnail?url=${st.id}`:st.id}function parseRegionString(nt,rt){let it;const st=nt.split(":");let[bt,wt,Et,Tt]=st[st.length-1].split(",").map(Dt=>parseInt(Dt));const At=rt.world.getItemAt(0).getContentSize();return st.length===2&&(st[0]==="pct"||st[0]==="percent")&&(bt=Math.round(At.x*bt/100),wt=Math.round(At.y*wt/100),Et=Math.round(At.x*Et/100),Tt=Math.round(At.y*Tt/100)),it=rt.viewport.imageToViewportRectangle(bt,wt,Et,Tt),it}function getMetadata(nt,rt="en"){let it=[];return nt.metadata&&nt.metadata.forEach(st=>{it.push({label:_value(st.label,rt)[0],value:_value(st.value,rt)})}),it}function metadataAsObj(nt,rt="en"){return Object.fromEntries(getMetadata(nt,rt).map(it=>[it.label,it.value]))}function top$1(){return stickyElems.length>0&&stickyElems[0].localName.toLowerCase()==="ve-navbar"?parseInt(window.getComputedStyle(stickyElems[0]).height.slice(0,-2)):0}function findStickyElems(){var it,st;initTippy();let nt=Array.from(document.querySelectorAll(".sticky")),rt=nt.findIndex(bt=>bt.localName.toLowerCase()==="ve-navbar");if(rt<0){let bt=nt.findIndex(wt=>wt.localName.toLowerCase()==="ve-header");if(bt>=0){let wt=(st=(it=nt[bt])==null?void 0:it.shadowRoot)==null?void 0:st.querySelector("ve-navbar.sticky");wt&&(nt[bt]=wt,rt=bt)}}return nt.forEach(bt=>setTop(bt)),nt}function activeRegionOffset(){let nt=stickyElems.find(it=>it.localName.toLowerCase()==="ve-navbar"),rt=nt?nt.getBoundingClientRect().top:0;return stickyElems.forEach(it=>{let st=it.getBoundingClientRect();if((st.x<st.width?0:1)===0&&st.top===rt){let wt=window.getComputedStyle(it).height;wt.length>=3&&wt.slice(-2)==="px"&&(rt+=parseInt(window.getComputedStyle(it).height.slice(0,-2)))}}),rt}function setTop(nt){if(nt.localName.toLowerCase()==="section"){let rt=stickyElems.find(st=>st.localName.toLowerCase()==="ve-navbar"),it=rt?rt.clientHeight:0;nt.style.top=`${it}px`}}let stickyElems=[];const mutationObserver=new MutationObserver(nt=>{let rt=nt.filter(it=>{let st=Array.from(it.addedNodes).filter(wt=>{var Et;return((Et=wt.id)==null?void 0:Et.indexOf("tippy"))<0}).length,bt=Array.from(it.removedNodes).filter(wt=>{var Et;return((Et=wt.id)==null?void 0:Et.indexOf("tippy"))<0}).length;return st+bt>0});(!tippyEntities||rt.length>0)&&(stickyElems=findStickyElems())});mutationObserver.observe(document,{childList:!0,subtree:!0});let targets={},active,offset=0;const intersectionObserver=new IntersectionObserver(nt=>{offset=activeRegionOffset(),nt.forEach(st=>targets[domPath(st.target)]=st);let rt=Object.values(targets).filter(st=>st.isIntersecting).filter(st=>st.target.getBoundingClientRect().y>=offset).sort((st,bt)=>st.target.getBoundingClientRect().y>bt.target.getBoundingClientRect().y?1:-1),it=rt.find(st=>st.intersectionRatio===1)||rt[0];if(it){let st=it.target;Array.from(st.classList).indexOf("active")<0&&(active&&active.classList.remove("active"),st.classList.add("active"),active=st)}},{root:null,threshold:[0,.25,.5,.75,1],rootMargin:`-${offset}px 0px 0px 0px`});Array.from(document.querySelectorAll("p")).forEach(nt=>intersectionObserver.observe(nt));function observeActive(nt){Array.from(nt.querySelectorAll("p")).forEach(rt=>intersectionObserver.observe(rt))}function domPath(nt){for(var rt=[];nt.parentNode!=null;){let st=0,bt=0;for(var it=0;it<nt.parentNode.childNodes.length;it++){let wt=nt.parentNode.childNodes[it];wt.nodeName==nt.nodeName&&(wt===nt&&(bt=st),st++)}nt.hasAttribute("id")&&nt.id!=""?rt.unshift(nt.nodeName.toLowerCase()+`#${nt.id}`):st>1?rt.unshift(nt.nodeName.toLowerCase()+(bt>0?`[${bt}]`:"")):rt.unshift(nt.nodeName.toLowerCase()),nt=nt.parentNode}return rt.join(".")}let entityData={};async function getEntityData(nt=[],rt="en"){let it=nt.filter(st=>!entityData[st]).map(st=>`(<http://www.wikidata.org/entity/${st}>)`);if(it.length>0){let st=`
      SELECT ?item ?label ?description ?alias ?image ?logoImage ?coords ?pageBanner ?whosOnFirst ?wikipedia WHERE {
        VALUES (?item) { ${it.join(" ")} }
        ?item rdfs:label ?label . 
        FILTER (LANG(?label) = "${rt}" || LANG(?label) = "en")
        OPTIONAL { ?item schema:description ?description . FILTER (LANG(?description) = "${rt}" || LANG(?description) = "en")}
        OPTIONAL { ?item skos:altLabel ?alias . FILTER (LANG(?alias) = "${rt}" || LANG(?alias) = "en")}
        OPTIONAL { ?item wdt:P625 ?coords . }
        OPTIONAL { ?item wdt:P18 ?image . }
        OPTIONAL { ?item wdt:P154 ?logoImage . }
        OPTIONAL { ?item wdt:P948 ?pageBanner . }
        OPTIONAL { ?item wdt:P6766 ?whosOnFirst . }
        OPTIONAL { ?wikipedia schema:about ?item; schema:isPartOf <https://${rt}.wikipedia.org/> . }
    }`,bt=await fetch("https://query.wikidata.org/sparql",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/sparql-results+json"},body:`query=${encodeURIComponent(st)}`});if(bt.ok)return(await bt.json()).results.bindings.forEach(Et=>{let Tt=Et.item.value.split("/").pop();entityData[Tt]?Et.alias&&entityData[Tt].aliases.push(Et.alias.value):(entityData[Tt]={id:Tt,label:Et.label.value},Et.description&&(entityData[Tt].description=Et.description.value),Et.alias&&(entityData[Tt].aliases=[Et.alias.value]),Et.coords&&(entityData[Tt].coords=Et.coords.value.slice(6,-1).split(" ").reverse().join(",")),Et.wikipedia&&(entityData[Tt].wikipedia=Et.wikipedia.value),Et.pageBanner&&(entityData[Tt].pageBanner=Et.pageBanner.value),Et.image&&(entityData[Tt].image=Et.image.value,entityData[Tt].thumbnail=mwImage(Et.image.value,300)),Et.logoImage&&(entityData[Tt].logoImage=Et.logoImage.value,entityData[Tt].thumbnail||(entityData[Tt].thumbnail=mwImage(Et.logoImage.value,300))),Et.whosOnFirst&&(entityData[Tt].geojson=whosOnFirstUrl(Et.whosOnFirst.value)))}),Object.fromEntries(nt.filter(Et=>entityData[Et]).map(Et=>[Et,entityData[Et]]))}return Object.fromEntries(nt.filter(st=>entityData[st]).map(st=>[st,entityData[st]]))}function isQID(nt){return nt[0]==="Q"&&isNum(nt.slice(1))}async function getEntity(nt,rt="en"){return(await getEntityData([nt],rt))[nt]}function mwImage(nt,rt){nt=(Array.isArray(nt)?nt[0]:nt).replace(/Special:FilePath\//,"File:").split("File:").pop(),nt=decodeURIComponent(nt).replace(/ /g,"_");const it=md5(nt),st=nt.split(".").pop();let bt=`https://upload.wikimedia.org/wikipedia/commons${rt?"/thumb":""}`;return bt+=`/${it.slice(0,1)}/${it.slice(0,2)}/${nt}`,rt&&(bt+=`/${rt}px-${nt}`,st==="svg"?bt+=".png":(st==="tif"||st==="tiff")&&(bt+=".jpg")),bt}function whosOnFirstUrl(nt){let rt=[];for(let it=0;it<nt.length;it+=3)rt.push(nt.slice(it,it+3));return`https://data.whosonfirst.org/${rt.join("/")}/${nt}.geojson`}function isNum(nt){return nt&&!isNaN(nt)}function parseImageOptions(nt){let rt=(nt==null?void 0:nt.split("/"))||[],it="full",st="full",bt="0",wt="default",Et="jpg",Tt=0;return{region:rt.length>Tt&&rt[Tt]?rt[Tt]:it,size:rt.length>Tt+1&&rt[Tt+1]?rt[Tt+1]:st,rotation:rt.length>Tt+2&&rt[Tt+2]?rt[Tt+2]:bt,quality:rt.length>Tt+3&&rt[Tt+3]?rt[Tt+3]:wt,format:rt.length>Tt+4&&rt[Tt+4]?rt[Tt+4]:Et}}async function imageDataUrl(nt,rt,it){return new Promise(st=>{let{x:bt,y:wt,w:Et,h:Tt}=rt,{width:At,height:Dt}=it,Ot=new Image;Ot.crossOrigin="anonymous",bt=bt?bt/100:0,wt=wt?wt/100:0,Et=Et?Et/100:0,Tt=Tt?Tt/100:0,Ot.onload=()=>{let zt=Ot.width,$t=Ot.height,Bt=Et>0?zt*Et:zt-zt*bt,Yt=Tt>0?$t*Tt:$t-$t*wt,Xt=Bt/Yt;Xt>1?Dt=At/Xt:At=Dt*Xt;const Ht=document.createElement("canvas"),Qt=Ht.getContext("2d");Ht.width=At,Ht.height=Dt,bt=bt*zt,wt=wt*$t,Qt==null||Qt.drawImage(Ot,bt,wt,Bt,Yt,0,0,At,Dt);let Zt=Ht.toDataURL();st(Zt)},Ot.src=nt})}let summaryText={};async function getSummaryText(nt,rt="en"){if(summaryText[rt]||(summaryText[rt]={}),!summaryText[rt][nt]&&entityData[nt]&&entityData[nt].wikipedia){let st=entityData[nt].wikipedia.replace(/\/w\//,"/wiki").split("/wiki/").pop(),bt=`https://${rt}.wikipedia.org/api/rest_v1/page/summary/${st}`,wt=await fetch(bt);return wt.ok&&(wt=await wt.json(),summaryText[rt][nt]=wt.extract_html||wt.extract),summaryText[rt][nt]}else return summaryText[rt][nt]}var breadcrumb_styles_default=i$4`
  ${component_styles_default}

  .breadcrumb {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
  }
`,SlBreadcrumb=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.separatorDir=this.localize.dir(),this.label=""}getSeparator(){const rt=this.separatorSlot.assignedElements({flatten:!0})[0].cloneNode(!0);return[rt,...rt.querySelectorAll("[id]")].forEach(it=>it.removeAttribute("id")),rt.setAttribute("data-default",""),rt.slot="separator",rt}handleSlotChange(){const nt=[...this.defaultSlot.assignedElements({flatten:!0})].filter(rt=>rt.tagName.toLowerCase()==="sl-breadcrumb-item");nt.forEach((rt,it)=>{const st=rt.querySelector('[slot="separator"]');st===null?rt.append(this.getSeparator()):st.hasAttribute("data-default")&&st.replaceWith(this.getSeparator()),it===nt.length-1?rt.setAttribute("aria-current","page"):rt.removeAttribute("aria-current")})}render(){return this.separatorDir!==this.localize.dir()&&(this.separatorDir=this.localize.dir(),this.updateComplete.then(()=>this.handleSlotChange())),y$2`
      <nav part="base" class="breadcrumb" aria-label=${this.label}>
        <slot @slotchange=${this.handleSlotChange}></slot>
      </nav>

      <slot name="separator" hidden aria-hidden="true">
        <sl-icon name=${this.localize.dir()==="rtl"?"chevron-left":"chevron-right"} library="system"></sl-icon>
      </slot>
    `}};SlBreadcrumb.styles=breadcrumb_styles_default;__decorateClass([i2$2("slot")],SlBreadcrumb.prototype,"defaultSlot",2);__decorateClass([i2$2('slot[name="separator"]')],SlBreadcrumb.prototype,"separatorSlot",2);__decorateClass([e2$2()],SlBreadcrumb.prototype,"label",2);SlBreadcrumb=__decorateClass([e$2("sl-breadcrumb")],SlBreadcrumb);var breadcrumb_item_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .breadcrumb-item {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    color: var(--sl-color-neutral-600);
    line-height: var(--sl-line-height-normal);
    white-space: nowrap;
  }

  .breadcrumb-item__label {
    display: inline-block;
    font-family: inherit;
    font-size: inherit;
    font-weight: inherit;
    line-height: inherit;
    text-decoration: none;
    color: inherit;
    background: none;
    border: none;
    border-radius: var(--sl-border-radius-medium);
    padding: 0;
    margin: 0;
    cursor: pointer;
    transition: var(--sl-transition-fast) --color;
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label {
    color: var(--sl-color-primary-600);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:hover {
    color: var(--sl-color-primary-500);
  }

  :host(:not(:last-of-type)) .breadcrumb-item__label:active {
    color: var(--sl-color-primary-600);
  }

  .breadcrumb-item__label:focus {
    outline: none;
  }

  .breadcrumb-item__label:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .breadcrumb-item__prefix,
  .breadcrumb-item__suffix {
    display: none;
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .breadcrumb-item--has-prefix .breadcrumb-item__prefix {
    display: inline-flex;
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .breadcrumb-item--has-suffix .breadcrumb-item__suffix {
    display: inline-flex;
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:last-of-type) .breadcrumb-item__separator {
    display: none;
  }

  .breadcrumb-item__separator {
    display: inline-flex;
    align-items: center;
    margin: 0 var(--sl-spacing-x-small);
    user-select: none;
  }
`,SlBreadcrumbItem=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"prefix","suffix"),this.rel="noreferrer noopener"}render(){const nt=!!this.href;return y$2`
      <div
        part="base"
        class=${o$2({"breadcrumb-item":!0,"breadcrumb-item--has-prefix":this.hasSlotController.test("prefix"),"breadcrumb-item--has-suffix":this.hasSlotController.test("suffix")})}
      >
        <slot name="prefix" part="prefix" class="breadcrumb-item__prefix"></slot>

        ${nt?y$2`
              <a
                part="label"
                class="breadcrumb-item__label breadcrumb-item__label--link"
                href="${this.href}"
                target="${l$2(this.target?this.target:void 0)}"
                rel=${l$2(this.target?this.rel:void 0)}
              >
                <slot></slot>
              </a>
            `:y$2`
              <button part="label" type="button" class="breadcrumb-item__label breadcrumb-item__label--button">
                <slot></slot>
              </button>
            `}

        <slot name="suffix" part="suffix" class="breadcrumb-item__suffix"></slot>

        <slot name="separator" part="separator" class="breadcrumb-item__separator" aria-hidden="true"></slot>
      </div>
    `}};SlBreadcrumbItem.styles=breadcrumb_item_styles_default;__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"href",2);__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"target",2);__decorateClass([e2$2()],SlBreadcrumbItem.prototype,"rel",2);SlBreadcrumbItem=__decorateClass([e$2("sl-breadcrumb-item")],SlBreadcrumbItem);var details_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
  }

  .details {
    border: solid 1px var(--sl-color-neutral-200);
    border-radius: var(--sl-border-radius-medium);
    background-color: var(--sl-color-neutral-0);
    overflow-anchor: none;
  }

  .details--disabled {
    opacity: 0.5;
  }

  .details__header {
    display: flex;
    align-items: center;
    border-radius: inherit;
    padding: var(--sl-spacing-medium);
    user-select: none;
    cursor: pointer;
  }

  .details__header:focus {
    outline: none;
  }

  .details__header:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(1px + var(--sl-focus-ring-offset));
  }

  .details--disabled .details__header {
    cursor: not-allowed;
  }

  .details--disabled .details__header:focus-visible {
    outline: none;
    box-shadow: none;
  }

  .details__summary {
    flex: 1 1 auto;
    display: flex;
    align-items: center;
  }

  .details__summary-icon {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    transition: var(--sl-transition-medium) rotate ease;
  }

  .details--open .details__summary-icon {
    rotate: 90deg;
  }

  .details--open.details--rtl .details__summary-icon {
    rotate: -90deg;
  }

  .details--open slot[name='expand-icon'],
  .details:not(.details--open) slot[name='collapse-icon'] {
    display: none;
  }

  .details__body {
    overflow: hidden;
  }

  .details__content {
    display: block;
    padding: var(--sl-spacing-medium);
  }
`,SlDetails=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.open=!1,this.disabled=!1}firstUpdated(){this.body.hidden=!this.open,this.body.style.height=this.open?"auto":"0"}handleSummaryClick(){this.disabled||(this.open?this.hide():this.show(),this.header.focus())}handleSummaryKeyDown(nt){(nt.key==="Enter"||nt.key===" ")&&(nt.preventDefault(),this.open?this.hide():this.show()),(nt.key==="ArrowUp"||nt.key==="ArrowLeft")&&(nt.preventDefault(),this.hide()),(nt.key==="ArrowDown"||nt.key==="ArrowRight")&&(nt.preventDefault(),this.show())}async handleOpenChange(){if(this.open){if(this.emit("sl-show",{cancelable:!0}).defaultPrevented){this.open=!1;return}await stopAnimations(this.body),this.body.hidden=!1;const{keyframes:rt,options:it}=getAnimation(this,"details.show",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(rt,this.body.scrollHeight),it),this.body.style.height="auto",this.emit("sl-after-show")}else{if(this.emit("sl-hide",{cancelable:!0}).defaultPrevented){this.open=!0;return}await stopAnimations(this.body);const{keyframes:rt,options:it}=getAnimation(this,"details.hide",{dir:this.localize.dir()});await animateTo(this.body,shimKeyframesHeightAuto(rt,this.body.scrollHeight),it),this.body.hidden=!0,this.body.style.height="auto",this.emit("sl-after-hide")}}async show(){if(!(this.open||this.disabled))return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!(!this.open||this.disabled))return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){const nt=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        class=${o$2({details:!0,"details--open":this.open,"details--disabled":this.disabled,"details--rtl":nt})}
      >
        <header
          part="header"
          id="header"
          class="details__header"
          role="button"
          aria-expanded=${this.open?"true":"false"}
          aria-controls="content"
          aria-disabled=${this.disabled?"true":"false"}
          tabindex=${this.disabled?"-1":"0"}
          @click=${this.handleSummaryClick}
          @keydown=${this.handleSummaryKeyDown}
        >
          <slot name="summary" part="summary" class="details__summary">${this.summary}</slot>

          <span part="summary-icon" class="details__summary-icon">
            <slot name="expand-icon">
              <sl-icon library="system" name=${nt?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
            <slot name="collapse-icon">
              <sl-icon library="system" name=${nt?"chevron-left":"chevron-right"}></sl-icon>
            </slot>
          </span>
        </header>

        <div class="details__body">
          <slot part="content" id="content" class="details__content" role="region" aria-labelledby="header"></slot>
        </div>
      </div>
    `}};SlDetails.styles=details_styles_default;__decorateClass([i2$2(".details")],SlDetails.prototype,"details",2);__decorateClass([i2$2(".details__header")],SlDetails.prototype,"header",2);__decorateClass([i2$2(".details__body")],SlDetails.prototype,"body",2);__decorateClass([i2$2(".details__expand-icon-slot")],SlDetails.prototype,"expandIconSlot",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDetails.prototype,"open",2);__decorateClass([e2$2()],SlDetails.prototype,"summary",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDetails.prototype,"disabled",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDetails.prototype,"handleOpenChange",1);SlDetails=__decorateClass([e$2("sl-details")],SlDetails);setDefaultAnimation("details.show",{keyframes:[{height:"0",opacity:"0"},{height:"auto",opacity:"1"}],options:{duration:250,easing:"linear"}});setDefaultAnimation("details.hide",{keyframes:[{height:"auto",opacity:"1"},{height:"0",opacity:"0"}],options:{duration:250,easing:"linear"}});var drawer_styles_default=i$4`
  ${component_styles_default}

  :host {
    --size: 25rem;
    --header-spacing: var(--sl-spacing-large);
    --body-spacing: var(--sl-spacing-large);
    --footer-spacing: var(--sl-spacing-large);

    display: contents;
  }

  .drawer {
    top: 0;
    inset-inline-start: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    overflow: hidden;
  }

  .drawer--contained {
    position: absolute;
    z-index: initial;
  }

  .drawer--fixed {
    position: fixed;
    z-index: var(--sl-z-index-drawer);
  }

  .drawer__panel {
    position: absolute;
    display: flex;
    flex-direction: column;
    z-index: 2;
    max-width: 100%;
    max-height: 100%;
    background-color: var(--sl-panel-background-color);
    box-shadow: var(--sl-shadow-x-large);
    overflow: auto;
    pointer-events: all;
  }

  .drawer__panel:focus {
    outline: none;
  }

  .drawer--top .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--end .drawer__panel {
    top: 0;
    inset-inline-end: 0;
    bottom: auto;
    inset-inline-start: auto;
    width: var(--size);
    height: 100%;
  }

  .drawer--bottom .drawer__panel {
    top: auto;
    inset-inline-end: auto;
    bottom: 0;
    inset-inline-start: 0;
    width: 100%;
    height: var(--size);
  }

  .drawer--start .drawer__panel {
    top: 0;
    inset-inline-end: auto;
    bottom: auto;
    inset-inline-start: 0;
    width: var(--size);
    height: 100%;
  }

  .drawer__header {
    display: flex;
  }

  .drawer__title {
    flex: 1 1 auto;
    font: inherit;
    font-size: var(--sl-font-size-large);
    line-height: var(--sl-line-height-dense);
    padding: var(--header-spacing);
    margin: 0;
  }

  .drawer__header-actions {
    flex-shrink: 0;
    display: flex;
    flex-wrap: wrap;
    justify-content: end;
    gap: var(--sl-spacing-2x-small);
    padding: 0 var(--header-spacing);
  }

  .drawer__header-actions sl-icon-button,
  .drawer__header-actions ::slotted(sl-icon-button) {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    font-size: var(--sl-font-size-medium);
  }

  .drawer__body {
    flex: 1 1 auto;
    display: block;
    padding: var(--body-spacing);
    overflow: auto;
    -webkit-overflow-scrolling: touch;
  }

  .drawer__footer {
    text-align: right;
    padding: var(--footer-spacing);
  }

  .drawer__footer ::slotted(sl-button:not(:last-of-type)) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .drawer:not(.drawer--has-footer) .drawer__footer {
    display: none;
  }

  .drawer__overlay {
    display: block;
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background-color: var(--sl-overlay-background-color);
    pointer-events: all;
  }

  .drawer--contained .drawer__overlay {
    display: none;
  }

  @media (forced-colors: active) {
    .drawer__panel {
      border: solid 1px var(--sl-color-neutral-0);
    }
  }
`;function uppercaseFirstLetter(nt){return nt.charAt(0).toUpperCase()+nt.slice(1)}var SlDrawer=class extends ShoelaceElement{constructor(){super(...arguments),this.hasSlotController=new HasSlotController(this,"footer"),this.localize=new LocalizeController2(this),this.open=!1,this.label="",this.placement="end",this.contained=!1,this.noHeader=!1}connectedCallback(){super.connectedCallback(),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.modal=new Modal$1(this)}firstUpdated(){this.drawer.hidden=!this.open,this.open&&(this.addOpenListeners(),this.contained||(this.modal.activate(),lockBodyScrolling(this)))}disconnectedCallback(){super.disconnectedCallback(),unlockBodyScrolling(this)}requestClose(nt){if(this.emit("sl-request-close",{cancelable:!0,detail:{source:nt}}).defaultPrevented){const it=getAnimation(this,"drawer.denyClose",{dir:this.localize.dir()});animateTo(this.panel,it.keyframes,it.options);return}this.hide()}addOpenListeners(){document.addEventListener("keydown",this.handleDocumentKeyDown)}removeOpenListeners(){document.removeEventListener("keydown",this.handleDocumentKeyDown)}handleDocumentKeyDown(nt){this.open&&!this.contained&&nt.key==="Escape"&&(nt.stopPropagation(),this.requestClose("keyboard"))}async handleOpenChange(){if(this.open){this.emit("sl-show"),this.addOpenListeners(),this.originalTrigger=document.activeElement,this.contained||(this.modal.activate(),lockBodyScrolling(this));const nt=this.querySelector("[autofocus]");nt&&nt.removeAttribute("autofocus"),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]),this.drawer.hidden=!1,requestAnimationFrame(()=>{this.emit("sl-initial-focus",{cancelable:!0}).defaultPrevented||(nt?nt.focus({preventScroll:!0}):this.panel.focus({preventScroll:!0})),nt&&nt.setAttribute("autofocus","")});const rt=getAnimation(this,`drawer.show${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),it=getAnimation(this,"drawer.overlay.show",{dir:this.localize.dir()});await Promise.all([animateTo(this.panel,rt.keyframes,rt.options),animateTo(this.overlay,it.keyframes,it.options)]),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),this.contained||(this.modal.deactivate(),unlockBodyScrolling(this)),await Promise.all([stopAnimations(this.drawer),stopAnimations(this.overlay)]);const nt=getAnimation(this,`drawer.hide${uppercaseFirstLetter(this.placement)}`,{dir:this.localize.dir()}),rt=getAnimation(this,"drawer.overlay.hide",{dir:this.localize.dir()});await Promise.all([animateTo(this.overlay,rt.keyframes,rt.options).then(()=>{this.overlay.hidden=!0}),animateTo(this.panel,nt.keyframes,nt.options).then(()=>{this.panel.hidden=!0})]),this.drawer.hidden=!0,this.overlay.hidden=!1,this.panel.hidden=!1;const it=this.originalTrigger;typeof(it==null?void 0:it.focus)=="function"&&setTimeout(()=>it.focus()),this.emit("sl-after-hide")}}handleNoModalChange(){this.open&&!this.contained&&(this.modal.activate(),lockBodyScrolling(this)),this.open&&this.contained&&(this.modal.deactivate(),unlockBodyScrolling(this))}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}render(){return y$2`
      <div
        part="base"
        class=${o$2({drawer:!0,"drawer--open":this.open,"drawer--top":this.placement==="top","drawer--end":this.placement==="end","drawer--bottom":this.placement==="bottom","drawer--start":this.placement==="start","drawer--contained":this.contained,"drawer--fixed":!this.contained,"drawer--rtl":this.localize.dir()==="rtl","drawer--has-footer":this.hasSlotController.test("footer")})}
      >
        <div part="overlay" class="drawer__overlay" @click=${()=>this.requestClose("overlay")} tabindex="-1"></div>

        <div
          part="panel"
          class="drawer__panel"
          role="dialog"
          aria-modal="true"
          aria-hidden=${this.open?"false":"true"}
          aria-label=${l$2(this.noHeader?this.label:void 0)}
          aria-labelledby=${l$2(this.noHeader?void 0:"title")}
          tabindex="0"
        >
          ${this.noHeader?"":y$2`
                <header part="header" class="drawer__header">
                  <h2 part="title" class="drawer__title" id="title">
                    <!-- If there's no label, use an invisible character to prevent the header from collapsing -->
                    <slot name="label"> ${this.label.length>0?this.label:String.fromCharCode(65279)} </slot>
                  </h2>
                  <div part="header-actions" class="drawer__header-actions">
                    <slot name="header-actions"></slot>
                    <sl-icon-button
                      part="close-button"
                      exportparts="base:close-button__base"
                      class="drawer__close"
                      name="x-lg"
                      label=${this.localize.term("close")}
                      library="system"
                      @click=${()=>this.requestClose("close-button")}
                    ></sl-icon-button>
                  </div>
                </header>
              `}

          <slot part="body" class="drawer__body"></slot>

          <footer part="footer" class="drawer__footer">
            <slot name="footer"></slot>
          </footer>
        </div>
      </div>
    `}};SlDrawer.styles=drawer_styles_default;__decorateClass([i2$2(".drawer")],SlDrawer.prototype,"drawer",2);__decorateClass([i2$2(".drawer__panel")],SlDrawer.prototype,"panel",2);__decorateClass([i2$2(".drawer__overlay")],SlDrawer.prototype,"overlay",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDrawer.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDrawer.prototype,"label",2);__decorateClass([e2$2({reflect:!0})],SlDrawer.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDrawer.prototype,"contained",2);__decorateClass([e2$2({attribute:"no-header",type:Boolean,reflect:!0})],SlDrawer.prototype,"noHeader",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleOpenChange",1);__decorateClass([watch("contained",{waitUntilFirstUpdate:!0})],SlDrawer.prototype,"handleNoModalChange",1);SlDrawer=__decorateClass([e$2("sl-drawer")],SlDrawer);setDefaultAnimation("drawer.showTop",{keyframes:[{opacity:0,translate:"0 -100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideTop",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 -100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showEnd",{keyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideEnd",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showBottom",{keyframes:[{opacity:0,translate:"0 100%"},{opacity:1,translate:"0 0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideBottom",{keyframes:[{opacity:1,translate:"0 0"},{opacity:0,translate:"0 100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.showStart",{keyframes:[{opacity:0,translate:"-100%"},{opacity:1,translate:"0"}],rtlKeyframes:[{opacity:0,translate:"100%"},{opacity:1,translate:"0"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.hideStart",{keyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"-100%"}],rtlKeyframes:[{opacity:1,translate:"0"},{opacity:0,translate:"100%"}],options:{duration:250,easing:"ease"}});setDefaultAnimation("drawer.denyClose",{keyframes:[{scale:1},{scale:1.01},{scale:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.show",{keyframes:[{opacity:0},{opacity:1}],options:{duration:250}});setDefaultAnimation("drawer.overlay.hide",{keyframes:[{opacity:1},{opacity:0}],options:{duration:250}});var divider_styles_default=i$4`
  ${component_styles_default}

  :host {
    --color: var(--sl-panel-border-color);
    --width: var(--sl-panel-border-width);
    --spacing: var(--sl-spacing-medium);
  }

  :host(:not([vertical])) {
    display: block;
    border-top: solid var(--width) var(--color);
    margin: var(--spacing) 0;
  }

  :host([vertical]) {
    display: inline-block;
    height: 100%;
    border-left: solid var(--width) var(--color);
    margin: 0 var(--spacing);
  }
`,SlDivider=class extends ShoelaceElement{constructor(){super(...arguments),this.vertical=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","separator")}handleVerticalChange(){this.setAttribute("aria-orientation",this.vertical?"vertical":"horizontal")}};SlDivider.styles=divider_styles_default;__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDivider.prototype,"vertical",2);__decorateClass([watch("vertical")],SlDivider.prototype,"handleVerticalChange",1);SlDivider=__decorateClass([e$2("sl-divider")],SlDivider);var dropdown_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .dropdown::part(popup) {
    z-index: var(--sl-z-index-dropdown);
  }

  .dropdown[data-current-placement^='top']::part(popup) {
    transform-origin: bottom;
  }

  .dropdown[data-current-placement^='bottom']::part(popup) {
    transform-origin: top;
  }

  .dropdown[data-current-placement^='left']::part(popup) {
    transform-origin: right;
  }

  .dropdown[data-current-placement^='right']::part(popup) {
    transform-origin: left;
  }

  .dropdown__trigger {
    display: block;
  }

  .dropdown__panel {
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    box-shadow: var(--sl-shadow-large);
    border-radius: var(--sl-border-radius-medium);
    pointer-events: none;
  }

  .dropdown--open .dropdown__panel {
    display: block;
    pointer-events: all;
  }

  /* When users slot a menu, make sure it conforms to the popup's auto-size */
  ::slotted(sl-menu) {
    max-width: var(--auto-size-available-width) !important;
    max-height: var(--auto-size-available-height) !important;
  }
`,SlDropdown=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.open=!1,this.placement="bottom-start",this.disabled=!1,this.stayOpenOnSelect=!1,this.distance=0,this.skidding=0,this.hoist=!1}connectedCallback(){super.connectedCallback(),this.handleMenuItemActivate=this.handleMenuItemActivate.bind(this),this.handlePanelSelect=this.handlePanelSelect.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleDocumentKeyDown=this.handleDocumentKeyDown.bind(this),this.handleDocumentMouseDown=this.handleDocumentMouseDown.bind(this),this.containingElement||(this.containingElement=this)}firstUpdated(){this.panel.hidden=!this.open,this.open&&(this.addOpenListeners(),this.popup.active=!0)}disconnectedCallback(){super.disconnectedCallback(),this.removeOpenListeners(),this.hide()}focusOnTrigger(){const nt=this.trigger.assignedElements({flatten:!0})[0];typeof(nt==null?void 0:nt.focus)=="function"&&nt.focus()}getMenu(){return this.panel.assignedElements({flatten:!0}).find(nt=>nt.tagName.toLowerCase()==="sl-menu")}handleKeyDown(nt){this.open&&nt.key==="Escape"&&(nt.stopPropagation(),this.hide(),this.focusOnTrigger())}handleDocumentKeyDown(nt){var rt;if(nt.key==="Tab"){if(this.open&&((rt=document.activeElement)==null?void 0:rt.tagName.toLowerCase())==="sl-menu-item"){nt.preventDefault(),this.hide(),this.focusOnTrigger();return}setTimeout(()=>{var it,st,bt;const wt=((it=this.containingElement)==null?void 0:it.getRootNode())instanceof ShadowRoot?(bt=(st=document.activeElement)==null?void 0:st.shadowRoot)==null?void 0:bt.activeElement:document.activeElement;(!this.containingElement||(wt==null?void 0:wt.closest(this.containingElement.tagName.toLowerCase()))!==this.containingElement)&&this.hide()})}}handleDocumentMouseDown(nt){const rt=nt.composedPath();this.containingElement&&!rt.includes(this.containingElement)&&this.hide()}handleMenuItemActivate(nt){const rt=nt.target;scrollIntoView(rt,this.panel)}handlePanelSelect(nt){const rt=nt.target;!this.stayOpenOnSelect&&rt.tagName.toLowerCase()==="sl-menu"&&(this.hide(),this.focusOnTrigger())}handleTriggerClick(){this.open?this.hide():this.show()}handleTriggerKeyDown(nt){if(nt.key==="Escape"&&this.open){nt.stopPropagation(),this.focusOnTrigger(),this.hide();return}if([" ","Enter"].includes(nt.key)){nt.preventDefault(),this.handleTriggerClick();return}const rt=this.getMenu();if(rt){const it=rt.defaultSlot.assignedElements({flatten:!0}),st=it[0],bt=it[it.length-1];["ArrowDown","ArrowUp","Home","End"].includes(nt.key)&&(nt.preventDefault(),this.open||this.show(),it.length>0&&requestAnimationFrame(()=>{(nt.key==="ArrowDown"||nt.key==="Home")&&(rt.setCurrentItem(st),st.focus()),(nt.key==="ArrowUp"||nt.key==="End")&&(rt.setCurrentItem(bt),bt.focus())}))}}handleTriggerKeyUp(nt){nt.key===" "&&nt.preventDefault()}handleTriggerSlotChange(){this.updateAccessibleTrigger()}updateAccessibleTrigger(){const rt=this.trigger.assignedElements({flatten:!0}).find(st=>getTabbableBoundary(st).start);let it;if(rt){switch(rt.tagName.toLowerCase()){case"sl-button":case"sl-icon-button":it=rt.button;break;default:it=rt}it.setAttribute("aria-haspopup","true"),it.setAttribute("aria-expanded",this.open?"true":"false")}}async show(){if(!this.open)return this.open=!0,waitForEvent(this,"sl-after-show")}async hide(){if(!!this.open)return this.open=!1,waitForEvent(this,"sl-after-hide")}reposition(){this.popup.reposition()}addOpenListeners(){this.panel.addEventListener("sl-activate",this.handleMenuItemActivate),this.panel.addEventListener("sl-select",this.handlePanelSelect),this.panel.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("mousedown",this.handleDocumentMouseDown)}removeOpenListeners(){this.panel&&(this.panel.removeEventListener("sl-activate",this.handleMenuItemActivate),this.panel.removeEventListener("sl-select",this.handlePanelSelect),this.panel.removeEventListener("keydown",this.handleKeyDown)),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("mousedown",this.handleDocumentMouseDown)}async handleOpenChange(){if(this.disabled){this.open=!1;return}if(this.updateAccessibleTrigger(),this.open){this.emit("sl-show"),this.addOpenListeners(),await stopAnimations(this),this.panel.hidden=!1,this.popup.active=!0;const{keyframes:nt,options:rt}=getAnimation(this,"dropdown.show",{dir:this.localize.dir()});await animateTo(this.popup.popup,nt,rt),this.emit("sl-after-show")}else{this.emit("sl-hide"),this.removeOpenListeners(),await stopAnimations(this);const{keyframes:nt,options:rt}=getAnimation(this,"dropdown.hide",{dir:this.localize.dir()});await animateTo(this.popup.popup,nt,rt),this.panel.hidden=!0,this.popup.active=!1,this.emit("sl-after-hide")}}render(){return y$2`
      <sl-popup
        part="base"
        id="dropdown"
        placement=${this.placement}
        distance=${this.distance}
        skidding=${this.skidding}
        strategy=${this.hoist?"fixed":"absolute"}
        flip
        shift
        auto-size="vertical"
        auto-size-padding="10"
        class=${o$2({dropdown:!0,"dropdown--open":this.open})}
      >
        <slot
          name="trigger"
          slot="anchor"
          part="trigger"
          class="dropdown__trigger"
          @click=${this.handleTriggerClick}
          @keydown=${this.handleTriggerKeyDown}
          @keyup=${this.handleTriggerKeyUp}
          @slotchange=${this.handleTriggerSlotChange}
        ></slot>

        <slot
          part="panel"
          class="dropdown__panel"
          aria-hidden=${this.open?"false":"true"}
          aria-labelledby="dropdown"
        ></slot>
      </sl-popup>
    `}};SlDropdown.styles=dropdown_styles_default;__decorateClass([i2$2(".dropdown")],SlDropdown.prototype,"popup",2);__decorateClass([i2$2(".dropdown__trigger")],SlDropdown.prototype,"trigger",2);__decorateClass([i2$2(".dropdown__panel")],SlDropdown.prototype,"panel",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDropdown.prototype,"open",2);__decorateClass([e2$2({reflect:!0})],SlDropdown.prototype,"placement",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlDropdown.prototype,"disabled",2);__decorateClass([e2$2({attribute:"stay-open-on-select",type:Boolean,reflect:!0})],SlDropdown.prototype,"stayOpenOnSelect",2);__decorateClass([e2$2({attribute:!1})],SlDropdown.prototype,"containingElement",2);__decorateClass([e2$2({type:Number})],SlDropdown.prototype,"distance",2);__decorateClass([e2$2({type:Number})],SlDropdown.prototype,"skidding",2);__decorateClass([e2$2({type:Boolean})],SlDropdown.prototype,"hoist",2);__decorateClass([watch("open",{waitUntilFirstUpdate:!0})],SlDropdown.prototype,"handleOpenChange",1);SlDropdown=__decorateClass([e$2("sl-dropdown")],SlDropdown);setDefaultAnimation("dropdown.show",{keyframes:[{opacity:0,scale:.9},{opacity:1,scale:1}],options:{duration:100,easing:"ease"}});setDefaultAnimation("dropdown.hide",{keyframes:[{opacity:1,scale:1},{opacity:0,scale:.9}],options:{duration:100,easing:"ease"}});var menu_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
    position: relative;
    background: var(--sl-panel-background-color);
    border: solid var(--sl-panel-border-width) var(--sl-panel-border-color);
    border-radius: var(--sl-border-radius-medium);
    padding: var(--sl-spacing-x-small) 0;
    overflow: auto;
    overscroll-behavior: none;
  }

  ::slotted(sl-divider) {
    --spacing: var(--sl-spacing-x-small);
  }
`,SlMenu=class extends ShoelaceElement{connectedCallback(){super.connectedCallback(),this.setAttribute("role","menu")}getAllItems(){return[...this.defaultSlot.assignedElements({flatten:!0})].filter(nt=>!!this.isMenuItem(nt))}handleClick(nt){const it=nt.target.closest("sl-menu-item");(it==null?void 0:it.disabled)===!1&&(it.type==="checkbox"&&(it.checked=!it.checked),this.emit("sl-select",{detail:{item:it}}))}handleKeyDown(nt){if(nt.key==="Enter"){const rt=this.getCurrentItem();nt.preventDefault(),rt==null||rt.click()}if(nt.key===" "&&nt.preventDefault(),["ArrowDown","ArrowUp","Home","End"].includes(nt.key)){const rt=this.getAllItems(),it=this.getCurrentItem();let st=it?rt.indexOf(it):0;rt.length>0&&(nt.preventDefault(),nt.key==="ArrowDown"?st++:nt.key==="ArrowUp"?st--:nt.key==="Home"?st=0:nt.key==="End"&&(st=rt.length-1),st<0&&(st=rt.length-1),st>rt.length-1&&(st=0),this.setCurrentItem(rt[st]),rt[st].focus())}}handleMouseDown(nt){const rt=nt.target;this.isMenuItem(rt)&&this.setCurrentItem(rt)}handleSlotChange(){const nt=this.getAllItems();nt.length>0&&this.setCurrentItem(nt[0])}isMenuItem(nt){var rt;return nt.tagName.toLowerCase()==="sl-menu-item"||["menuitem","menuitemcheckbox","menuitemradio"].includes((rt=nt.getAttribute("role"))!=null?rt:"")}getCurrentItem(){return this.getAllItems().find(nt=>nt.getAttribute("tabindex")==="0")}setCurrentItem(nt){this.getAllItems().forEach(it=>{it.setAttribute("tabindex",it===nt?"0":"-1")})}render(){return y$2`
      <slot
        @slotchange=${this.handleSlotChange}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
        @mousedown=${this.handleMouseDown}
      ></slot>
    `}};SlMenu.styles=menu_styles_default;__decorateClass([i2$2("slot")],SlMenu.prototype,"defaultSlot",2);SlMenu=__decorateClass([e$2("sl-menu")],SlMenu);var menu_item_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: block;
  }

  .menu-item {
    position: relative;
    display: flex;
    align-items: stretch;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-medium);
    font-weight: var(--sl-font-weight-normal);
    line-height: var(--sl-line-height-normal);
    letter-spacing: var(--sl-letter-spacing-normal);
    color: var(--sl-color-neutral-700);
    padding: var(--sl-spacing-2x-small) var(--sl-spacing-2x-small);
    transition: var(--sl-transition-fast) fill;
    user-select: none;
    white-space: nowrap;
    cursor: pointer;
  }

  .menu-item.menu-item--disabled {
    outline: none;
    opacity: 0.5;
    cursor: not-allowed;
  }

  .menu-item .menu-item__label {
    flex: 1 1 auto;
    display: inline-block;
  }

  .menu-item .menu-item__prefix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__prefix::slotted(*) {
    margin-inline-end: var(--sl-spacing-x-small);
  }

  .menu-item .menu-item__suffix {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
  }

  .menu-item .menu-item__suffix::slotted(*) {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  :host(:focus) {
    outline: none;
  }

  :host(:hover:not([aria-disabled='true'])) .menu-item {
    background-color: var(--sl-color-neutral-100);
    color: var(--sl-color-neutral-1000);
  }

  :host(:focus-visible) .menu-item {
    outline: none;
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
    opacity: 1;
  }

  .menu-item .menu-item__check,
  .menu-item .menu-item__chevron {
    flex: 0 0 auto;
    display: flex;
    align-items: center;
    justify-content: center;
    width: 1.5em;
    visibility: hidden;
  }

  .menu-item--checked .menu-item__check,
  .menu-item--has-submenu .menu-item__chevron {
    visibility: visible;
  }

  @media (forced-colors: active) {
    :host(:hover:not([aria-disabled='true'])) .menu-item,
    :host(:focus-visible) .menu-item {
      outline: dashed 1px SelectedItem;
      outline-offset: -1px;
    }
  }
`,SlMenuItem=class extends ShoelaceElement{constructor(){super(...arguments),this.type="normal",this.checked=!1,this.value="",this.disabled=!1}handleDefaultSlotChange(){const nt=this.getTextLabel();if(typeof this.cachedTextLabel>"u"){this.cachedTextLabel=nt;return}nt!==this.cachedTextLabel&&(this.cachedTextLabel=nt,this.emit("slotchange",{bubbles:!0,composed:!1,cancelable:!1}))}handleCheckedChange(){if(this.checked&&this.type!=="checkbox"){this.checked=!1,console.error('The checked attribute can only be used on menu items with type="checkbox"',this);return}this.type==="checkbox"?this.setAttribute("aria-checked",this.checked?"true":"false"):this.removeAttribute("aria-checked")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}handleTypeChange(){this.type==="checkbox"?(this.setAttribute("role","menuitemcheckbox"),this.setAttribute("aria-checked",this.checked?"true":"false")):(this.setAttribute("role","menuitem"),this.removeAttribute("aria-checked"))}getTextLabel(){return getTextContent(this.defaultSlot)}render(){return y$2`
      <div
        part="base"
        class=${o$2({"menu-item":!0,"menu-item--checked":this.checked,"menu-item--disabled":this.disabled,"menu-item--has-submenu":!1})}
      >
        <span part="checked-icon" class="menu-item__check">
          <sl-icon name="check" library="system" aria-hidden="true"></sl-icon>
        </span>

        <slot name="prefix" part="prefix" class="menu-item__prefix"></slot>

        <slot part="label" class="menu-item__label" @slotchange=${this.handleDefaultSlotChange}></slot>

        <slot name="suffix" part="suffix" class="menu-item__suffix"></slot>

        <span class="menu-item__chevron">
          <sl-icon name="chevron-right" library="system" aria-hidden="true"></sl-icon>
        </span>
      </div>
    `}};SlMenuItem.styles=menu_item_styles_default;__decorateClass([i2$2("slot:not([name])")],SlMenuItem.prototype,"defaultSlot",2);__decorateClass([i2$2(".menu-item")],SlMenuItem.prototype,"menuItem",2);__decorateClass([e2$2()],SlMenuItem.prototype,"type",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlMenuItem.prototype,"checked",2);__decorateClass([e2$2()],SlMenuItem.prototype,"value",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlMenuItem.prototype,"disabled",2);__decorateClass([watch("checked")],SlMenuItem.prototype,"handleCheckedChange",1);__decorateClass([watch("disabled")],SlMenuItem.prototype,"handleDisabledChange",1);__decorateClass([watch("type")],SlMenuItem.prototype,"handleTypeChange",1);SlMenuItem=__decorateClass([e$2("sl-menu-item")],SlMenuItem);var tag_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tag {
    display: flex;
    align-items: center;
    border: solid 1px;
    line-height: 1;
    white-space: nowrap;
    user-select: none;
  }

  .tag__remove::part(base) {
    color: inherit;
    padding: 0;
  }

  /*
   * Variant modifiers
   */

  .tag--primary {
    background-color: var(--sl-color-primary-50);
    border-color: var(--sl-color-primary-200);
    color: var(--sl-color-primary-800);
  }

  .tag--primary:active > sl-icon-button {
    color: var(--sl-color-primary-600);
  }

  .tag--success {
    background-color: var(--sl-color-success-50);
    border-color: var(--sl-color-success-200);
    color: var(--sl-color-success-800);
  }

  .tag--success:active > sl-icon-button {
    color: var(--sl-color-success-600);
  }

  .tag--neutral {
    background-color: var(--sl-color-neutral-50);
    border-color: var(--sl-color-neutral-200);
    color: var(--sl-color-neutral-800);
  }

  .tag--neutral:active > sl-icon-button {
    color: var(--sl-color-neutral-600);
  }

  .tag--warning {
    background-color: var(--sl-color-warning-50);
    border-color: var(--sl-color-warning-200);
    color: var(--sl-color-warning-800);
  }

  .tag--warning:active > sl-icon-button {
    color: var(--sl-color-warning-600);
  }

  .tag--danger {
    background-color: var(--sl-color-danger-50);
    border-color: var(--sl-color-danger-200);
    color: var(--sl-color-danger-800);
  }

  .tag--danger:active > sl-icon-button {
    color: var(--sl-color-danger-600);
  }

  /*
   * Size modifiers
   */

  .tag--small {
    font-size: var(--sl-button-font-size-small);
    height: calc(var(--sl-input-height-small) * 0.8);
    line-height: calc(var(--sl-input-height-small) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-small);
    padding: 0 var(--sl-spacing-x-small);
  }

  .tag--medium {
    font-size: var(--sl-button-font-size-medium);
    height: calc(var(--sl-input-height-medium) * 0.8);
    line-height: calc(var(--sl-input-height-medium) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-medium);
    padding: 0 var(--sl-spacing-small);
  }

  .tag--large {
    font-size: var(--sl-button-font-size-large);
    height: calc(var(--sl-input-height-large) * 0.8);
    line-height: calc(var(--sl-input-height-large) - var(--sl-input-border-width) * 2);
    border-radius: var(--sl-input-border-radius-large);
    padding: 0 var(--sl-spacing-medium);
  }

  .tag__remove {
    margin-inline-start: var(--sl-spacing-x-small);
  }

  /*
   * Pill modifier
   */

  .tag--pill {
    border-radius: var(--sl-border-radius-pill);
  }
`,SlTag=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.variant="neutral",this.size="medium",this.pill=!1,this.removable=!1}handleRemoveClick(){this.emit("sl-remove")}render(){return y$2`
      <span
        part="base"
        class=${o$2({tag:!0,"tag--primary":this.variant==="primary","tag--success":this.variant==="success","tag--neutral":this.variant==="neutral","tag--warning":this.variant==="warning","tag--danger":this.variant==="danger","tag--text":this.variant==="text","tag--small":this.size==="small","tag--medium":this.size==="medium","tag--large":this.size==="large","tag--pill":this.pill,"tag--removable":this.removable})}
      >
        <slot part="content" class="tag__content"></slot>

        ${this.removable?y$2`
              <sl-icon-button
                part="remove-button"
                exportparts="base:remove-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("remove")}
                class="tag__remove"
                @click=${this.handleRemoveClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </span>
    `}};SlTag.styles=tag_styles_default;__decorateClass([e2$2({reflect:!0})],SlTag.prototype,"variant",2);__decorateClass([e2$2({reflect:!0})],SlTag.prototype,"size",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTag.prototype,"pill",2);__decorateClass([e2$2({type:Boolean})],SlTag.prototype,"removable",2);SlTag=__decorateClass([e$2("sl-tag")],SlTag);const _hoisted_1$x={class:"content-path",style:{position:"relative"}},_hoisted_2$s={class:"workspace"},_hoisted_3$l=["content","disabled"],_hoisted_4$h=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_5$f=[_hoisted_4$h],_hoisted_6$c={class:"ws-path"},_hoisted_7$b={class:"breadcrumbs"},_hoisted_8$b=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{fontSize:"24px"}},null,-1),_hoisted_9$9=["innerHTML","onClick"],_hoisted_10$7=["onClick"],_hoisted_11$7=createBaseVNode("sl-icon",{slot:"prefix",name:"filetype-md",style:{fontSize:"24px"}},null,-1),_hoisted_12$6={slot:"suffix"},_hoisted_13$5=createBaseVNode("sl-icon-button",{slot:"trigger",name:"caret-down",label:"File actions"},null,-1),_hoisted_14$3=["onClick"],_hoisted_15$3=createBaseVNode("sl-icon",{slot:"prefix",name:"trash"},null,-1),_hoisted_16$3=["innerHTML","onClick"],_hoisted_17$3=["onClick"],_hoisted_18$3=createBaseVNode("sl-icon",{slot:"prefix",name:"folder2",style:{fontSize:"24px"}},null,-1),_hoisted_19$3=["content"],_hoisted_20$3=["size","name"],_hoisted_21$3=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_22$3=[_hoisted_21$3],_hoisted_23$3={noHeader:"",label:"Workspace",placement:"bottom",contained:"",class:"workspace-selector",style:{"--size":"100%"}},_hoisted_24$3={style:{display:"flex",height:"100%","align-items":"center"}},_hoisted_25$3={key:0,class:"github-select"},_hoisted_26$3={key:1,name:"chevron-double-right",style:{fontSize:"24px"}},_hoisted_27$3={style:{"margin-left":"12px"}},_hoisted_28$3=["disabled"],_hoisted_29$3={key:0},_hoisted_30$3={key:0,slot:"trigger",class:"path-elem"},_hoisted_31$3={key:1,slot:"trigger",pill:"",size:"medium",class:"folder"},_hoisted_32$3=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_33$3=["checked","onClick","innerHTML"],_hoisted_34$3={key:0,class:"path-elem"},_hoisted_35$2={key:1,pill:"",size:"medium",class:"folder"},_hoisted_36$2=createBaseVNode("sl-icon",{slot:"prefix",name:"github",style:{fontSize:"24px"}},null,-1),_hoisted_37$1=["disabled"],_hoisted_38$1={key:0},_hoisted_39$1={key:0,slot:"trigger",class:"path-elem"},_hoisted_40$1={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_41$1=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{fontSize:"24px"}},null,-1),_hoisted_42$1=["checked","onClick","innerHTML"],_hoisted_43$1=createBaseVNode("sl-divider",null,null,-1),_hoisted_44$1=createBaseVNode("sl-icon",{slot:"prefix",name:"plus-lg"},null,-1),_hoisted_45$1={key:0,class:"path-elem"},_hoisted_46$1={key:1,pill:"",size:"medium"},_hoisted_47$1=createBaseVNode("sl-icon",{slot:"prefix",name:"archive",style:{fontSize:"24px"}},null,-1),_hoisted_48=["disabled"],_hoisted_49={key:0},_hoisted_50={key:0,slot:"trigger",class:"path-elem"},_hoisted_51={key:1,slot:"trigger",pill:"",size:"medium"},_hoisted_52=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{fontSize:"24px"}},null,-1),_hoisted_53=["checked","onClick","innerHTML"],_hoisted_54={key:0,class:"path-elem"},_hoisted_55={key:1,pill:"",size:"medium"},_hoisted_56=createBaseVNode("sl-icon",{slot:"prefix",name:"share",style:{fontSize:"24px"}},null,-1),_hoisted_57={key:0},_hoisted_58={key:1,class:"dirs"},_hoisted_59=["onClick"],_hoisted_60=["name"],_hoisted_61=["content"],_hoisted_62=createBaseVNode("sl-icon",{name:"plus-lg",label:"Add file"},null,-1),_hoisted_63=[_hoisted_62],_hoisted_64=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-repo-input",placeholder:"Enter name",pattern:"^[A-z0-9\\-_]+$"},null,-1),_hoisted_65=createBaseVNode("br",null,null,-1),_hoisted_66=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_67=createBaseVNode("sl-input",{autocomplete:"off",required:"",id:"add-file-input",placeholder:"Enter file path",pattern:"^\\/?([A-z0-9-_+]+\\/)*([A-z0-9\\-]+(\\.(css|md|json|geojson|yaml|yml))?)$"},null,-1),_hoisted_68=createBaseVNode("br",null,null,-1),_hoisted_69=createBaseVNode("sl-button",{type:"reset",variant:"default"},"Reset",-1),_hoisted_70=createBaseVNode("sl-button",{type:"submit",variant:"primary"},"Add",-1),_hoisted_71={id:"delete-file-dialog",label:"Confirm file delete"},_hoisted_72=["innerHTML"],_sfc_main$z=defineComponent({__name:"ContentSelector.ce",props:{contentPath:{type:String},sticky:{type:Boolean,default:!1},mode:{type:String,default:"media"},compact:{type:Boolean}},emits:["accessChanged","addMediaResource","contentPathChanged"],setup(nt,{expose:rt,emit:it}){const st=nt;rt({getDirList:cr,getFile:lr,putFile:ur,repositoryIsWriteable:Gn});const bt=new Set(["config.yaml","CNAME","index.html","404.html",".nojekyll"]),wt=ref("");watch$1(wt,()=>{console.log(`contentPath=${toRaw(wt.value)}`),it("contentPathChanged",wt.value)});const Et=ref(null),Tt=computed(()=>{var Rn;return(Rn=Et==null?void 0:Et.value)==null?void 0:Rn.parentNode});let At,Dt="",Ot=!0;const zt=ref();watch$1(zt,()=>{zt.value&&An()});const $t=ref(isMobile()),Bt=ref(""),Yt=ref(),Xt=ref(!1),Ht=ref(!1);watch$1(Bt,()=>{Xt.value=window.localStorage.getItem("gh-auth-token")!==null,Yt.value=new GithubClient(Bt.value||"")}),watch$1(Xt,()=>{Xt||(Dt="",Ht.value=!1)}),watch$1(Ht,()=>{it("accessChanged",{acct:Zt.value,repo:Kt.value,canUpdate:Ht.value})}),watch$1(Yt,async()=>{Dn(),Xt.value&&(Qt.value=await yr(),Dt=await Yt.value.user().then(Rn=>Rn.login),await Yt.value.repos(Dt).then(Rn=>{Rn.find(rr=>rr.name==="essays")||Yt.value.createRepository({name:"essays",description:"Juncture visual essays"}),Rn.find(rr=>rr.name==="media")||Yt.value.createRepository({name:"media",description:"Juncture media"})}),Zt.value&&Kt.value&&Dt&&Yt.value.isCollaborator(Zt.value,Kt.value,Dt).then(Rn=>Ht.value=Rn))});const Qt=ref([]),Zt=ref("");watch$1(Qt,()=>{Zt.value=Zt.value||(Qt.value.length>0?Qt.value[0].login:null)}),watch$1(Zt,(Rn,rr)=>{rr&&(Kt.value=""),xn().then(Kn=>nn.value=Kn)});const nn=ref([]),Kt=ref("");watch$1(nn,()=>{if(!Kt.value&&nn.value.length>0)if(nn.value.length===1)Kt.value=nn.value[0].name;else{let Rn=st.mode==="media"?"media":"essays";Kt.value=nn.value.find(rr=>rr.name===Rn)?Rn:nn.value[0].name}});const ln=ref([]),sn=ref("");watch$1(Kt,(Rn,rr)=>{rr&&(wn.value=[]),fr().then(Kn=>gn()),sn.value="",Kt.value&&(Xt.value&&Zt.value&&Yt.value.user().then(Kn=>Kn.login).then(Kn=>Kt.value?Yt.value.isCollaborator(Zt.value,Kt.value,Kn):!1).then(Kn=>Ht.value=Kn),Mr().then(Kn=>ln.value=Kn))});let bn;watch$1(ln,async()=>{!bn&&Zt.value&&Kt.value&&(bn=await Yt.value.defaultBranch(Zt.value,Kt.value)),bn&&(sn.value=bn)}),watch$1(sn,()=>{sn.value&&wn.value&&Mn&&fr().then(Rn=>gn())});const wn=ref([]);watch$1(wn,()=>{sn.value&&fr().then(Rn=>gn())});let Mn=!0;const Sn=ref([]);watch$1(Sn,()=>{Mn=wn.value.length===0||Sn.value.length>0}),onMounted(()=>{var Rn;pn(),window.addEventListener("storage",()=>pn()),At=(Rn=Tt==null?void 0:Tt.value)==null?void 0:Rn.querySelector(".workspace-selector")});function Dn(Rn=""){var rr;if(Rn=Rn||st.contentPath||"",Rn){let[Kn,gr]=((rr=Rn.split(":").pop())==null?void 0:rr.split("?"))||[],xr=gr?Object.fromEntries(gr.split("&").map(Cr=>Cr.split("="))):{},Lr=Kn.split("/").filter(Cr=>Cr);Lr.length>0&&(Zt.value=Lr[0]),Lr.length>1&&(Kt.value=Lr[1]),Lr.length>2&&(wn.value=Lr.slice(2)),xr.ref&&(sn.value=xr.ref||"main")}}function gn(){if(Zt.value&&Kt.value){let Rn=`gh:${Zt.value}/${Kt.value}`;wn.value.length>0&&(Rn+=`/${wn.value.join("/")}`),sn.value&&sn.value!==bn&&(Rn+=`?ref=${sn.value}`),wt.value=Rn}}async function Un(){let rr=await fetch("https://api.juncture-digital.org/gh-token");if(rr.ok){let Kn=await rr.text();window.localStorage.setItem("gh-unscoped-token",Kn)}}async function pn(){window.localStorage.getItem("gh-unscoped-token")||await Un(),Bt.value=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token"),Xt.value=window.localStorage.getItem("gh-auth-token")!==null}async function yr(){return await Promise.all([Yt.value.user(),Yt.value.organizations()]).then(Rn=>Rn.flat())}async function xn(){return Yt.value.repos(Zt.value)}async function Mr(){return Yt.value.branches(Zt.value,Kt.value)}async function fr(){Sn.value=[];let Rn=await Yt.value.dirlist(Zt.value,Kt.value,wn.value.join("/"),sn.value),rr=Rn.filter(gr=>gr.type==="dir"),Kn=Rn.filter(gr=>gr.type==="file"&&!bt.has(gr.name));Ot&&Kn.find(gr=>gr.name==="README.md")&&rr.length===0&&(wn.value.length===0||wn.value[wn.value.length-1]!=="README.md")&&(wn.value=[...wn.value,"README.md"]),Sn.value=[...rr,...Kn]}function cr(){return Sn.value}function Gn(){return Ht.value}async function lr(Rn){var Ar;let[rr,Kn]=((Ar=Rn.split(":").pop())==null?void 0:Ar.split("?"))||[],gr=Kn?Object.fromEntries(Kn.split("&").map(mi=>mi.split("="))):{},xr=rr.split("/").filter(mi=>mi),[Lr,Cr]=xr.slice(0,2);return rr=xr.slice(2).filter(mi=>mi).join("/"),Yt.value.getFile(Lr,Cr,rr,gr.ref||sn.value)}async function ur(Rn,rr){var vi;let[Kn,gr]=((vi=Rn.split(":").pop())==null?void 0:vi.split("?"))||[],xr=gr?Object.fromEntries(gr.split("&").map(xi=>xi.split("="))):{},Lr=Kn.split("/").filter(xi=>xi),[Cr,Ar]=Lr.slice(0,2);Kn=Lr.slice(2).filter(xi=>xi).join("/");let mi=xr.ref||sn.value;return Yt.value.putFile(Cr,Ar,Kn,rr,mi)}function vr(Rn){Zt.value=Rn.login}function Ir(Rn){Kt.value=Rn.name}function Pr(Rn){sn.value=Rn.name}function _r(Rn){At.hide(),Ot=!0;let rr=[...wn.value];Mn||(rr=rr.slice(0,-1)),(rr.length===0||rr[rr.length-1]!==Rn.name)&&(rr=[...rr,Rn.name]),wn.value=rr}function tr(Rn){At.hide(),Ot=!1,wn.value=Rn===0?[]:wn.value.slice(0,Rn)}function qn(Rn){st.mode==="essays"?br():On(Rn)}function mr(Rn){return Rn.toLowerCase().split("-").map(function(rr){return rr.charAt(0).toUpperCase()+rr.slice(1)}).join(" ")}function br(){var Kn,gr;let Rn=(Kn=Tt.value)==null?void 0:Kn.querySelector("#add-file-form");Rn.onclick||(Rn.onclick=function(){},Rn.addEventListener("submit",async xr=>{var vi;xr.preventDefault();let Lr=(vi=Tt.value)==null?void 0:vi.querySelector("#add-file-input"),Cr=[...wn.value,...Lr.value.split("/").filter(xi=>xi)],Ar=Cr[Cr.length-1];Cr[Cr.length-1].indexOf(".")>0?Cr[Cr.length-1]=Cr[Cr.length-1].replace(/readme\.md/,"README.md"):Cr.push("README.md");let mi=Cr.join("/");Ar=mr(Ar),await Yt.value.putFile(Zt.value,Kt.value,mi,`# ${Ar}

`,sn.value),wn.value=Cr,hr()}));let rr=(gr=Tt.value)==null?void 0:gr.querySelector("#add-file-dialog");rr.addEventListener("sl-after-show",()=>{var xr;((xr=Tt.value)==null?void 0:xr.querySelector("#add-file-input")).focus()}),rr.show()}function hr(){var Rn,rr;((Rn=Tt.value)==null?void 0:Rn.querySelector("#add-file-input")).value="",((rr=Tt.value)==null?void 0:rr.querySelector("#add-file-dialog")).hide()}function An(){var rr;((rr=Tt.value)==null?void 0:rr.querySelector("#delete-file-dialog")).show()}function rn(){var rr;((rr=Tt.value)==null?void 0:rr.querySelector("#delete-file-dialog")).hide()}async function vn(){var Kn,gr;let Rn=(Kn=Tt.value)==null?void 0:Kn.querySelector("#add-repo-form");Rn.onclick||(Rn.onclick=function(){},Rn.addEventListener("submit",async xr=>{var mi;xr.preventDefault();let Cr=((mi=Tt.value)==null?void 0:mi.querySelector("#add-repo-input")).value;(await Yt.value.createRepository({name:Cr,org:Dt===Zt.value?null:Zt.value})).status===201&&xn().then(vi=>{Kt.value=Cr,nn.value=vi}),hn()}));let rr=(gr=Tt.value)==null?void 0:gr.querySelector("#add-repo-dialog");rr.addEventListener("sl-after-show",()=>{var xr;((xr=Tt.value)==null?void 0:xr.querySelector("#add-repo-input")).focus()}),rr.show()}function hn(){var rr,Kn;((rr=Tt.value)==null?void 0:rr.querySelector("#add-repo-dialog")).hide(),((Kn=Tt.value)==null?void 0:Kn.querySelector("#add-repo-input")).value=""}async function zn(){let Rn=wn.value.join("/");await Yt.value.deleteFile(Zt.value,Kt.value,Rn,sn.value),await fr(),tr(wn.value.length-(Sn.value.length===0?2:1)),zt.value=null,rn()}function On(Rn){it("addMediaResource",Rn)}function Er(){At.open?At.hide():At.show()}return(Rn,rr)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:Et},[createBaseVNode("section",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("sl-tooltip",{content:`${Zt.value}: ${Kt.value} (${sn.value})`,disabled:$t.value,placement:"bottom"},[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:Er},_hoisted_5$f)],8,_hoisted_3$l),createBaseVNode("div",_hoisted_6$c,[createBaseVNode("div",_hoisted_7$b,[createBaseVNode("sl-breadcrumb",null,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-button",{pill:"",size:"medium",onClick:rr[0]||(rr[0]=Kn=>tr(0))},[createTextVNode("/ "),_hoisted_8$b])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(wn.value,(Kn,gr)=>(openBlock(),createElementBlock("sl-breadcrumb-item",{key:`bci-${gr}`},[gr===wn.value.length-1?(openBlock(),createElementBlock(Fragment,{key:0},[nt.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Kn,onClick:xr=>tr(gr+1)},null,8,_hoisted_9$9)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:xr=>tr(gr+1)},[createTextVNode(toDisplayString(Kn)+" ",1),_hoisted_11$7],8,_hoisted_10$7)),createBaseVNode("sl-dropdown",_hoisted_12$6,[_hoisted_13$5,createBaseVNode("sl-menu",null,[createBaseVNode("sl-menu-item",{onClick:()=>zt.value=Kn},[createTextVNode("Delete file"),_hoisted_15$3],8,_hoisted_14$3)])])],64)):(openBlock(),createElementBlock(Fragment,{key:1},[nt.compact?(openBlock(),createElementBlock("span",{key:0,class:"path-elem",innerHTML:Kn,onClick:xr=>tr(gr+1)},null,8,_hoisted_16$3)):(openBlock(),createElementBlock("sl-button",{key:1,pill:"",size:"medium",onClick:xr=>tr(gr+1)},[createTextVNode(toDisplayString(Kn)+" ",1),_hoisted_18$3],8,_hoisted_17$3))],64))]))),128))]),Xt.value&&nt.mode==="media"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${st.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:nt.mode==="media"?"medium":"small",class:"add-item",name:`Add ${nt.mode==="media"?"resource":"file"}`,circle:"",onClick:qn},_hoisted_22$3,8,_hoisted_20$3)],8,_hoisted_19$3)):createCommentVNode("",!0)]),createBaseVNode("sl-drawer",_hoisted_23$3,[createBaseVNode("div",_hoisted_24$3,[nt.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_25$3,"Select GitHub Repository")),nt.compact?createCommentVNode("",!0):(openBlock(),createElementBlock("sl-icon",_hoisted_26$3)),createBaseVNode("sl-breadcrumb",_hoisted_27$3,[createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Account",hoist:"",disabled:$t.value,placement:"left"},[Qt.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_29$3,[nt.compact?(openBlock(),createElementBlock("span",_hoisted_30$3,toDisplayString(Zt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_31$3,[createTextVNode(toDisplayString(Zt.value)+" ",1),_hoisted_32$3])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Qt.value,(Kn,gr)=>(openBlock(),createElementBlock("sl-menu-item",{key:`acct-${gr}`,checked:Kn.login===Zt.value,onClick:xr=>vr(Kn),type:"checkbox",innerHTML:Kn.login},null,8,_hoisted_33$3))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[nt.compact?(openBlock(),createElementBlock("span",_hoisted_34$3,toDisplayString(sn.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_35$2,[createTextVNode(toDisplayString(Zt.value)+" ",1),_hoisted_36$2]))],64))],8,_hoisted_28$3)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Repository",hoist:"",disabled:$t.value,placement:"left"},[nn.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_38$1,[nt.compact?(openBlock(),createElementBlock("span",_hoisted_39$1,toDisplayString(Kt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_40$1,[createTextVNode(toDisplayString(Kt.value)+" ",1),_hoisted_41$1])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(nn.value,(Kn,gr)=>(openBlock(),createElementBlock("sl-menu-item",{key:`repo-${gr}`,checked:Kn.name===Kt.value,onClick:xr=>Ir(Kn),type:"checkbox",innerHTML:Kn.name},null,8,_hoisted_42$1))),128)),_hoisted_43$1,createBaseVNode("sl-menu-item",{class:"add-repo",onClick:vn},[_hoisted_44$1,createTextVNode(" New repository ")])])])):(openBlock(),createElementBlock(Fragment,{key:1},[nt.compact?(openBlock(),createElementBlock("span",_hoisted_45$1,toDisplayString(Kt.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_46$1,[createTextVNode(toDisplayString(Kt.value)+" ",1),_hoisted_47$1]))],64))],8,_hoisted_37$1)]),createBaseVNode("sl-breadcrumb-item",null,[createBaseVNode("sl-tooltip",{content:"Github Branch",hoist:"",disabled:$t.value,placement:"left"},[ln.value.length>1?(openBlock(),createElementBlock("sl-dropdown",_hoisted_49,[nt.compact?(openBlock(),createElementBlock("span",_hoisted_50,toDisplayString(sn.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_51,[createTextVNode(toDisplayString(sn.value)+" ",1),_hoisted_52])),createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(ln.value,(Kn,gr)=>(openBlock(),createElementBlock("sl-menu-item",{key:`branch-${gr}`,checked:Kn.name===sn.value,onClick:xr=>Pr(Kn),type:"checkbox",innerHTML:Kn.name},null,8,_hoisted_53))),128))])])):(openBlock(),createElementBlock(Fragment,{key:1},[nt.compact?(openBlock(),createElementBlock("span",_hoisted_54,toDisplayString(sn.value),1)):(openBlock(),createElementBlock("sl-button",_hoisted_55,[createTextVNode(toDisplayString(sn.value)+" ",1),_hoisted_56]))],64))],8,_hoisted_48)])])])])])]),Sn.value.filter(Kn=>st.mode==="essays"||Kn.type==="dir").length>0?(openBlock(),createElementBlock("sl-divider",_hoisted_57)):createCommentVNode("",!0),Sn.value.length>0?(openBlock(),createElementBlock("div",_hoisted_58,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Sn.value.filter(Kn=>st.mode==="essays"||Kn.type==="dir"),(Kn,gr)=>(openBlock(),createElementBlock("sl-button",{key:`child-${gr}`,onClick:xr=>_r(Kn),pill:"",size:"small",class:normalizeClass(Kn.type)},[createBaseVNode("sl-icon",{slot:"prefix",name:Kn.type==="dir"?"folder2":"file-earmark"},null,8,_hoisted_60),createTextVNode(" "+toDisplayString(Kn.name),1)],10,_hoisted_59))),128)),wn.value&&(wn.value.length===0||wn.value[wn.value.length-1].split(".").pop()!=="md")&&st.mode==="essays"?(openBlock(),createElementBlock("sl-tooltip",{key:0,content:`Add ${nt.mode==="media"?"resource":"file"}`,placement:"bottom"},[createBaseVNode("sl-button",{variant:"default",size:"small",class:"add-item",name:"`Add file",circle:"",onClick:qn},_hoisted_63)],8,_hoisted_61)):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("sl-dialog",{id:"add-repo-dialog",label:"Add Repository"},[createBaseVNode("form",{id:"add-repo-form",class:"input-validation-pattern"},[_hoisted_64,_hoisted_65,createBaseVNode("sl-button",{onClick:hn},"Cancel"),_hoisted_66])]),createBaseVNode("sl-dialog",{id:"add-file-dialog",label:"Add File"},[createBaseVNode("form",{id:"add-file-form",class:"input-validation-pattern"},[_hoisted_67,_hoisted_68,createBaseVNode("sl-button",{onClick:hr},"Cancel"),_hoisted_69,_hoisted_70])]),createBaseVNode("sl-dialog",_hoisted_71,[createBaseVNode("div",null,[createTextVNode("Delete file "),createBaseVNode("span",{innerHTML:zt.value},null,8,_hoisted_72),createTextVNode("?")]),createBaseVNode("sl-button",{slot:"footer",onClick:rn},"Cancel"),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:zn},"Confirm")])],512))}}),_style_1$5=`*{box-sizing:border-box}:host{display:block;width:100%;border:1px solid #444;padding:6px;z-index:9;background-color:#fff}span.path-elem{font-family:Archivo Narrow,Roboto,sans-serif;font-size:1.2rem}.workspace{display:flex;align-items:center}.workspace-selector{display:flex;gap:12px}.workspace-selector div{display:inline-flex;position:relative;padding-left:6px;font-size:1rem}.selectors{display:flex;gap:6px}.ws-path{position:relative;display:flex;align-items:center;width:100%;height:100%;margin:3px}.workspace-selector>sl-icon{vertical-align:middle;padding-right:6px}sl-drawer::part(base),sl-drawer::part(panel),sl-drawer::part(body){padding:0;overflow:visible}.github-select{font-weight:700;font-size:1.2em;color:#5a162e}sl-divider{margin:6px}.values{display:flex;flex-direction:column;gap:1rem}.values>div{display:flex;align-items:center;gap:1rem}.label{font-weight:700}.value{display:inline-block}sl-breadcrumb-item::part(label){font-size:1rem;color:var(--sl-color-primary-600)}.dir-items li{cursor:pointer}.dir-items{height:40vh;overflow-y:scroll}.dir-items li:hover{color:var(--sl-color-primary-600)}sl-icon-button::part(base){padding:0}.content-path{display:flex;flex-direction:column}sl-icon-button{align-self:start;margin-top:6px}sl-menu::part(base){max-height:300px;overflow-y:scroll}.dirs{display:flex;flex-wrap:wrap;gap:6px}.dirs sl-button::part(base){border-radius:12px;font-weight:500;font-family:Archivo Narrow,Roboto,sans-serif;font-size:1rem}sl-button.dir::part(base){background-color:#eee}sl-button.add-item::part(base){background-color:#eee;color:#000}.delete{margin-left:18px}sl-icon-button.delete::part(base){color:red}.add-repo{background-color:#ddd}sl-menu{text-align:left}sl-breadcrumb{display:inline-block}.breadcrumbs{display:flex;align-items:center;gap:12px;padding-left:12px}
`,ContentSelector=_export_sfc(_sfc_main$z,[["styles",[_style_0$t,_style_1$5]]]),_hoisted_1$w={class:"content"},_hoisted_2$r={class:"buttons"},_hoisted_3$k=["onClick"],_hoisted_4$g=["qid"],_hoisted_5$e={key:0,class:"caption"},_sfc_main$y=defineComponent({__name:"Entities.ce",props:{caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Yt;return(Yt=it==null?void 0:it.value)==null?void 0:Yt.parentNode}),bt=computed(()=>{var Yt,Xt;return(Xt=(Yt=it.value)==null?void 0:Yt.getRootNode())==null?void 0:Xt.host}),wt=computed(()=>{var Yt;return(Yt=st.value)==null?void 0:Yt.querySelector(".content")}),Et=ref({}),Tt=ref(null),At=computed(()=>{var Yt,Xt;return((Xt=(Yt=Tt.value)==null?void 0:Yt.getAttribute("entities"))==null?void 0:Xt.split(/\s/).filter(Ht=>Ht))||[]}),Dt=ref();watch$1(At,()=>{At.value.length>0?getEntityData(At.value).then(Yt=>{Et.value=Yt,Dt.value=At.value[0]}):(Et.value={},Dt.value=void 0)}),watch$1(bt,()=>Ot());function Ot(){$t(),Bt()}const zt=isMobile()?"full":rt.right?"right":rt.left?"left":"full";function $t(){bt.value.classList.add("ve-component"),bt.value.classList.add(zt),zt==="full"?bt.value.style.width="100%":(bt.value.style.float=zt,bt.value.style.width="calc(50% - 16px)"),bt.value.style.width=window.getComputedStyle(bt.value).width,rt.sticky&&makeSticky(bt.value),wt.value.style.width=rt.width||"100%",nextTick(()=>{let Yt=parseInt(window.getComputedStyle(wt.value).width.slice(0,-2));rt.sticky,wt.value.style.width=`${Yt}px`})}function Bt(){Tt.value=document.querySelector(".active"),new MutationObserver(Xt=>{Xt.forEach(Ht=>{if(Ht.type==="attributes"){let Qt=Ht.target;Array.from(Qt.classList).indexOf("active")>=0&&(Tt.value=Qt)}})}).observe(document,{subtree:!0,attributes:!0})}return(Yt,Xt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"main"},[createBaseVNode("div",_hoisted_1$w,[createBaseVNode("div",_hoisted_2$r,[(openBlock(!0),createElementBlock(Fragment,null,renderList(At.value,Ht=>{var Qt;return openBlock(),createElementBlock("sl-button",{key:Ht,onClick:Zt=>Dt.value=Ht,pill:"",size:"small",class:normalizeClass({selected:Ht===Dt.value})},toDisplayString((Qt=Et.value[Ht])==null?void 0:Qt.label),11,_hoisted_3$k)}),128))]),Dt.value?(openBlock(),createElementBlock("ve-entity-card",{key:0,qid:Dt.value},null,8,_hoisted_4$g)):createCommentVNode("",!0)]),rt.caption&&Dt.value?(openBlock(),createElementBlock("div",_hoisted_5$e,toDisplayString(rt.caption),1)):createCommentVNode("",!0)],512))}}),_style_0$r=`*{box-sizing:border-box}.main{margin-bottom:3rem}.buttons{display:flex;flex-wrap:wrap;gap:6px;padding:0 0 12px}.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}sl-button.selected::part(base){background-color:#ddd;font-weight:700}
`,Entities=_export_sfc(_sfc_main$y,[["styles",[_style_0$r]]]),_hoisted_1$v=["innerHTML"],_hoisted_2$q=["innerHTML"],_hoisted_3$j={class:"links"},_hoisted_4$f={key:0,class:"logo",title:"Wikipedia"},_hoisted_5$d=["href"],_hoisted_6$b=createBaseVNode("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),_hoisted_7$a=[_hoisted_6$b],_hoisted_8$a=["innerHTML"],_sfc_main$x=defineComponent({__name:"EntityCard.ce",props:{qid:{type:String},label:{type:String},description:{type:String},image:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Ht,Qt;return(Qt=(Ht=it.value)==null?void 0:Ht.getRootNode())==null?void 0:Qt.host}),bt=ref(),wt=ref(),Et=ref(),Tt=ref(),At=ref(),Dt=ref(),Ot=ref(),zt=computed(()=>`${st.value.clientWidth*.33}px`);watch$1(Dt,()=>st.value.style.width="572px"),onMounted(()=>$t());function $t(){rt.qid&&bt.value!==rt.qid&&(bt.value=rt.qid),rt.label&&(Et.value=rt.label),rt.description&&(Tt.value=rt.description),rt.image&&(Dt.value=rt.image)}watch$1(wt,()=>{var Ht;Et.value=wt.value.label,Tt.value=wt.value.description,Dt.value=((Ht=wt.value)==null?void 0:Ht.thumbnail)&&`url('${Yt(wt.value.thumbnail)}')`,Ot.value=wt.value.wikipedia,At.value=wt.value.summaryText}),watch$1(bt,()=>Bt());async function Bt(){if(bt.value&&(!wt.value||wt.value.id!==rt.qid)){let Ht=await getEntity(bt.value),Qt=await getSummaryText(bt.value);Qt&&(Ht={...Ht,summaryText:Xt(Qt)}),wt.value=Ht}}function Yt(Ht){let Qt=Ht.split("/");return`${Qt.slice(0,-1).join("/")}/${encodeURIComponent(Qt[Qt.length-1])}`}function Xt(Ht){return new DOMParser().parseFromString(Ht,"text/html").children[0].children[1].children[0].innerHTML}return(Ht,Qt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:Et.value},null,8,_hoisted_1$v),createBaseVNode("div",{class:"description",innerHTML:Tt.value},null,8,_hoisted_2$q),Dt.value?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:Dt.value,width:zt.value})},null,4)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3$j,[Ot.value?(openBlock(),createElementBlock("span",_hoisted_4$f,[createBaseVNode("a",{target:"_blank",href:Ot.value},_hoisted_7$a,8,_hoisted_5$d)])):createCommentVNode("",!0)]),At.value?(openBlock(),createElementBlock("p",{key:1,class:"summary",innerHTML:At.value},null,8,_hoisted_8$a)):createCommentVNode("",!0)],512))}}),_style_0$q=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border:1px solid #444;border-radius:6px;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;object-fit:cover;background-repeat:no-repeat;background-size:contain;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}
`,EntityCard=_export_sfc(_sfc_main$x,[["styles",[_style_0$q]]]);class Md5{constructor(){this._dataLength=0,this._bufferLength=0,this._state=new Int32Array(4),this._buffer=new ArrayBuffer(68),this._buffer8=new Uint8Array(this._buffer,0,68),this._buffer32=new Uint32Array(this._buffer,0,17),this.start()}static hashStr(rt,it=!1){return this.onePassHasher.start().appendStr(rt).end(it)}static hashAsciiStr(rt,it=!1){return this.onePassHasher.start().appendAsciiStr(rt).end(it)}static _hex(rt){const it=Md5.hexChars,st=Md5.hexOut;let bt,wt,Et,Tt;for(Tt=0;Tt<4;Tt+=1)for(wt=Tt*8,bt=rt[Tt],Et=0;Et<8;Et+=2)st[wt+1+Et]=it.charAt(bt&15),bt>>>=4,st[wt+0+Et]=it.charAt(bt&15),bt>>>=4;return st.join("")}static _md5cycle(rt,it){let st=rt[0],bt=rt[1],wt=rt[2],Et=rt[3];st+=(bt&wt|~bt&Et)+it[0]-680876936|0,st=(st<<7|st>>>25)+bt|0,Et+=(st&bt|~st&wt)+it[1]-389564586|0,Et=(Et<<12|Et>>>20)+st|0,wt+=(Et&st|~Et&bt)+it[2]+606105819|0,wt=(wt<<17|wt>>>15)+Et|0,bt+=(wt&Et|~wt&st)+it[3]-1044525330|0,bt=(bt<<22|bt>>>10)+wt|0,st+=(bt&wt|~bt&Et)+it[4]-176418897|0,st=(st<<7|st>>>25)+bt|0,Et+=(st&bt|~st&wt)+it[5]+1200080426|0,Et=(Et<<12|Et>>>20)+st|0,wt+=(Et&st|~Et&bt)+it[6]-1473231341|0,wt=(wt<<17|wt>>>15)+Et|0,bt+=(wt&Et|~wt&st)+it[7]-45705983|0,bt=(bt<<22|bt>>>10)+wt|0,st+=(bt&wt|~bt&Et)+it[8]+1770035416|0,st=(st<<7|st>>>25)+bt|0,Et+=(st&bt|~st&wt)+it[9]-1958414417|0,Et=(Et<<12|Et>>>20)+st|0,wt+=(Et&st|~Et&bt)+it[10]-42063|0,wt=(wt<<17|wt>>>15)+Et|0,bt+=(wt&Et|~wt&st)+it[11]-1990404162|0,bt=(bt<<22|bt>>>10)+wt|0,st+=(bt&wt|~bt&Et)+it[12]+1804603682|0,st=(st<<7|st>>>25)+bt|0,Et+=(st&bt|~st&wt)+it[13]-40341101|0,Et=(Et<<12|Et>>>20)+st|0,wt+=(Et&st|~Et&bt)+it[14]-1502002290|0,wt=(wt<<17|wt>>>15)+Et|0,bt+=(wt&Et|~wt&st)+it[15]+1236535329|0,bt=(bt<<22|bt>>>10)+wt|0,st+=(bt&Et|wt&~Et)+it[1]-165796510|0,st=(st<<5|st>>>27)+bt|0,Et+=(st&wt|bt&~wt)+it[6]-1069501632|0,Et=(Et<<9|Et>>>23)+st|0,wt+=(Et&bt|st&~bt)+it[11]+643717713|0,wt=(wt<<14|wt>>>18)+Et|0,bt+=(wt&st|Et&~st)+it[0]-373897302|0,bt=(bt<<20|bt>>>12)+wt|0,st+=(bt&Et|wt&~Et)+it[5]-701558691|0,st=(st<<5|st>>>27)+bt|0,Et+=(st&wt|bt&~wt)+it[10]+38016083|0,Et=(Et<<9|Et>>>23)+st|0,wt+=(Et&bt|st&~bt)+it[15]-660478335|0,wt=(wt<<14|wt>>>18)+Et|0,bt+=(wt&st|Et&~st)+it[4]-405537848|0,bt=(bt<<20|bt>>>12)+wt|0,st+=(bt&Et|wt&~Et)+it[9]+568446438|0,st=(st<<5|st>>>27)+bt|0,Et+=(st&wt|bt&~wt)+it[14]-1019803690|0,Et=(Et<<9|Et>>>23)+st|0,wt+=(Et&bt|st&~bt)+it[3]-187363961|0,wt=(wt<<14|wt>>>18)+Et|0,bt+=(wt&st|Et&~st)+it[8]+1163531501|0,bt=(bt<<20|bt>>>12)+wt|0,st+=(bt&Et|wt&~Et)+it[13]-1444681467|0,st=(st<<5|st>>>27)+bt|0,Et+=(st&wt|bt&~wt)+it[2]-51403784|0,Et=(Et<<9|Et>>>23)+st|0,wt+=(Et&bt|st&~bt)+it[7]+1735328473|0,wt=(wt<<14|wt>>>18)+Et|0,bt+=(wt&st|Et&~st)+it[12]-1926607734|0,bt=(bt<<20|bt>>>12)+wt|0,st+=(bt^wt^Et)+it[5]-378558|0,st=(st<<4|st>>>28)+bt|0,Et+=(st^bt^wt)+it[8]-2022574463|0,Et=(Et<<11|Et>>>21)+st|0,wt+=(Et^st^bt)+it[11]+1839030562|0,wt=(wt<<16|wt>>>16)+Et|0,bt+=(wt^Et^st)+it[14]-35309556|0,bt=(bt<<23|bt>>>9)+wt|0,st+=(bt^wt^Et)+it[1]-1530992060|0,st=(st<<4|st>>>28)+bt|0,Et+=(st^bt^wt)+it[4]+1272893353|0,Et=(Et<<11|Et>>>21)+st|0,wt+=(Et^st^bt)+it[7]-155497632|0,wt=(wt<<16|wt>>>16)+Et|0,bt+=(wt^Et^st)+it[10]-1094730640|0,bt=(bt<<23|bt>>>9)+wt|0,st+=(bt^wt^Et)+it[13]+681279174|0,st=(st<<4|st>>>28)+bt|0,Et+=(st^bt^wt)+it[0]-358537222|0,Et=(Et<<11|Et>>>21)+st|0,wt+=(Et^st^bt)+it[3]-722521979|0,wt=(wt<<16|wt>>>16)+Et|0,bt+=(wt^Et^st)+it[6]+76029189|0,bt=(bt<<23|bt>>>9)+wt|0,st+=(bt^wt^Et)+it[9]-640364487|0,st=(st<<4|st>>>28)+bt|0,Et+=(st^bt^wt)+it[12]-421815835|0,Et=(Et<<11|Et>>>21)+st|0,wt+=(Et^st^bt)+it[15]+530742520|0,wt=(wt<<16|wt>>>16)+Et|0,bt+=(wt^Et^st)+it[2]-995338651|0,bt=(bt<<23|bt>>>9)+wt|0,st+=(wt^(bt|~Et))+it[0]-198630844|0,st=(st<<6|st>>>26)+bt|0,Et+=(bt^(st|~wt))+it[7]+1126891415|0,Et=(Et<<10|Et>>>22)+st|0,wt+=(st^(Et|~bt))+it[14]-1416354905|0,wt=(wt<<15|wt>>>17)+Et|0,bt+=(Et^(wt|~st))+it[5]-57434055|0,bt=(bt<<21|bt>>>11)+wt|0,st+=(wt^(bt|~Et))+it[12]+1700485571|0,st=(st<<6|st>>>26)+bt|0,Et+=(bt^(st|~wt))+it[3]-1894986606|0,Et=(Et<<10|Et>>>22)+st|0,wt+=(st^(Et|~bt))+it[10]-1051523|0,wt=(wt<<15|wt>>>17)+Et|0,bt+=(Et^(wt|~st))+it[1]-2054922799|0,bt=(bt<<21|bt>>>11)+wt|0,st+=(wt^(bt|~Et))+it[8]+1873313359|0,st=(st<<6|st>>>26)+bt|0,Et+=(bt^(st|~wt))+it[15]-30611744|0,Et=(Et<<10|Et>>>22)+st|0,wt+=(st^(Et|~bt))+it[6]-1560198380|0,wt=(wt<<15|wt>>>17)+Et|0,bt+=(Et^(wt|~st))+it[13]+1309151649|0,bt=(bt<<21|bt>>>11)+wt|0,st+=(wt^(bt|~Et))+it[4]-145523070|0,st=(st<<6|st>>>26)+bt|0,Et+=(bt^(st|~wt))+it[11]-1120210379|0,Et=(Et<<10|Et>>>22)+st|0,wt+=(st^(Et|~bt))+it[2]+718787259|0,wt=(wt<<15|wt>>>17)+Et|0,bt+=(Et^(wt|~st))+it[9]-343485551|0,bt=(bt<<21|bt>>>11)+wt|0,rt[0]=st+rt[0]|0,rt[1]=bt+rt[1]|0,rt[2]=wt+rt[2]|0,rt[3]=Et+rt[3]|0}start(){return this._dataLength=0,this._bufferLength=0,this._state.set(Md5.stateIdentity),this}appendStr(rt){const it=this._buffer8,st=this._buffer32;let bt=this._bufferLength,wt,Et;for(Et=0;Et<rt.length;Et+=1){if(wt=rt.charCodeAt(Et),wt<128)it[bt++]=wt;else if(wt<2048)it[bt++]=(wt>>>6)+192,it[bt++]=wt&63|128;else if(wt<55296||wt>56319)it[bt++]=(wt>>>12)+224,it[bt++]=wt>>>6&63|128,it[bt++]=wt&63|128;else{if(wt=(wt-55296)*1024+(rt.charCodeAt(++Et)-56320)+65536,wt>1114111)throw new Error("Unicode standard supports code points up to U+10FFFF");it[bt++]=(wt>>>18)+240,it[bt++]=wt>>>12&63|128,it[bt++]=wt>>>6&63|128,it[bt++]=wt&63|128}bt>=64&&(this._dataLength+=64,Md5._md5cycle(this._state,st),bt-=64,st[0]=st[16])}return this._bufferLength=bt,this}appendAsciiStr(rt){const it=this._buffer8,st=this._buffer32;let bt=this._bufferLength,wt,Et=0;for(;;){for(wt=Math.min(rt.length-Et,64-bt);wt--;)it[bt++]=rt.charCodeAt(Et++);if(bt<64)break;this._dataLength+=64,Md5._md5cycle(this._state,st),bt=0}return this._bufferLength=bt,this}appendByteArray(rt){const it=this._buffer8,st=this._buffer32;let bt=this._bufferLength,wt,Et=0;for(;;){for(wt=Math.min(rt.length-Et,64-bt);wt--;)it[bt++]=rt[Et++];if(bt<64)break;this._dataLength+=64,Md5._md5cycle(this._state,st),bt=0}return this._bufferLength=bt,this}getState(){const rt=this._state;return{buffer:String.fromCharCode.apply(null,Array.from(this._buffer8)),buflen:this._bufferLength,length:this._dataLength,state:[rt[0],rt[1],rt[2],rt[3]]}}setState(rt){const it=rt.buffer,st=rt.state,bt=this._state;let wt;for(this._dataLength=rt.length,this._bufferLength=rt.buflen,bt[0]=st[0],bt[1]=st[1],bt[2]=st[2],bt[3]=st[3],wt=0;wt<it.length;wt+=1)this._buffer8[wt]=it.charCodeAt(wt)}end(rt=!1){const it=this._bufferLength,st=this._buffer8,bt=this._buffer32,wt=(it>>2)+1;this._dataLength+=it;const Et=this._dataLength*8;if(st[it]=128,st[it+1]=st[it+2]=st[it+3]=0,bt.set(Md5.buffer32Identity.subarray(wt),wt),it>55&&(Md5._md5cycle(this._state,bt),bt.set(Md5.buffer32Identity)),Et<=4294967295)bt[14]=Et;else{const Tt=Et.toString(16).match(/(.*?)(.{0,8})$/);if(Tt===null)return;const At=parseInt(Tt[2],16),Dt=parseInt(Tt[1],16)||0;bt[14]=At,bt[15]=Dt}return Md5._md5cycle(this._state,bt),rt?this._state:Md5._hex(this._state)}}Md5.stateIdentity=new Int32Array([1732584193,-271733879,-1732584194,271733878]);Md5.buffer32Identity=new Int32Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);Md5.hexChars="0123456789abcdef";Md5.hexOut=[];Md5.onePassHasher=new Md5;if(Md5.hashStr("hello")!=="5d41402abc4b2a76b9719d911017c592")throw new Error("Md5 self test failed.");/*
 * Component
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */class Component{constructor(rt,it){this.$collection=[],this.selector=rt,this.config=it,this.events={}}_fireEvent(rt,it=null){this.events.hasOwnProperty(rt)&&this.events[rt](it)}_dispatch(rt,it,st=null){const bt=new CustomEvent(rt,{detail:{payload:st},bubbles:!0,cancelable:!0,composed:!1});it.dispatchEvent(bt)}on(rt,it){this.events[rt]=it}afterTransition(rt,it){const st=()=>{it(),rt.removeEventListener("transitionend",st,!0)};window.getComputedStyle(rt,null).getPropertyValue("transition")!=="all 0s ease 0s"?rt.addEventListener("transitionend",st,!0):it()}getClassProperty(rt,it,st=""){return(window.getComputedStyle(rt).getPropertyValue(it)||st).replace(" ","")}}/*
* HSTooltips
* @version: 1.4.0
* @author: HtmlStream
* @requires: @popperjs/core ^2.11.2
* @license: Licensed under MIT (https://preline.co/docs/license.html)
* Copyright 2023 Htmlstream
*/class HSTooltip extends Component{constructor(it){super(".hs-tooltip");Nc(this,"root");this.root=it}init(){this.root.addEventListener("click",it=>{const bt=it.target.closest(this.selector);bt&&this.getClassProperty(bt,"--trigger")==="focus"&&this._focus(bt),bt&&this.getClassProperty(bt,"--trigger")==="click"&&this._click(bt)}),this.root.addEventListener("mousemove",it=>{const bt=it.target.closest(this.selector);bt&&this.getClassProperty(bt,"--trigger")!=="focus"&&this.getClassProperty(bt,"--trigger")!=="click"&&this._hover(bt)})}_hover(it){if(it.classList.contains("show"))return;const st=it.querySelector(".hs-tooltip-toggle"),bt=it.querySelector(".hs-tooltip-content"),wt=this.getClassProperty(it,"--placement");createPopper(st,bt,{placement:wt||"top",strategy:"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(it);const Et=Tt=>{Tt.relatedTarget.closest(this.selector)&&Tt.relatedTarget.closest(this.selector)==it||(this.hide(it),it.removeEventListener("mouseleave",Et,!0))};it.addEventListener("mouseleave",Et,!0)}_focus(it){const st=it.querySelector(".hs-tooltip-toggle"),bt=it.querySelector(".hs-tooltip-content"),wt=this.getClassProperty(it,"--placement"),Et=this.getClassProperty(it,"--strategy");createPopper(st,bt,{placement:wt||"top",strategy:Et||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(it);const Tt=()=>{this.hide(it),it.removeEventListener("blur",Tt,!0)};it.addEventListener("blur",Tt,!0)}_click(it){if(it.classList.contains("show"))return;const st=it.querySelector(".hs-tooltip-toggle"),bt=it.querySelector(".hs-tooltip-content"),wt=this.getClassProperty(it,"--placement"),Et=this.getClassProperty(it,"--strategy");createPopper(st,bt,{placement:wt||"top",strategy:Et||"fixed",modifiers:[{name:"offset",options:{offset:[0,5]}}]}),this.show(it);const Tt=At=>{setTimeout(()=>{this.hide(it),it.removeEventListener("click",Tt,!0),it.removeEventListener("blur",Tt,!0)})};it.addEventListener("blur",Tt,!0),it.addEventListener("click",Tt,!0)}show(it){it.querySelector(".hs-tooltip-content").classList.remove("hidden"),setTimeout(()=>{it.classList.add("show"),this._fireEvent("show",it),this._dispatch("show.hs.tooltip",it,it)})}hide(it){const st=it.querySelector(".hs-tooltip-content");it.classList.remove("show"),this._fireEvent("hide",it),this._dispatch("hide.hs.tooltip",it,it),this.afterTransition(st,()=>{it.classList.contains("show")||st.classList.add("hidden")})}}const _hoisted_1$u={class:"hs-tooltip-toggle block text-center",href:"javascript:;",title:"Click for more information"},_hoisted_2$p=["innerHTML"],_hoisted_3$i={class:"hs-tooltip-content z-30 hs-tooltip-shown:opacity-100 hs-tooltip-shown:visible hidden opacity-0 transition-opacity absolute invisible max-w-xs bg-white border border-gray-100 text-left rounded-lg shadow-md dark:bg-gray-800 dark:border-gray-700",role:"tooltip"},_hoisted_4$e={class:"flex flex-col bg-white border shadow-sm rounded-xl dark:bg-gray-800 dark:border-gray-700 dark:shadow-slate-700/[.7]"},_hoisted_5$c=["src"],_hoisted_6$a={class:"p-4 md:p-5"},_hoisted_7$9={class:"text-lg font-bold text-gray-800 dark:text-white"},_hoisted_8$9={class:"mt-1 text-gray-800 dark:text-gray-400"},_hoisted_9$8={class:"mt-5 text-xs text-gray-500 dark:text-gray-500"},_hoisted_10$6=["href"],_hoisted_11$6=createBaseVNode("img",{class:"max-w-[24px]",src:"https://upload.wikimedia.org/wikipedia/commons/7/77/Wikipedia_svg_logo.svg"},null,-1),_hoisted_12$5=createBaseVNode("span",{class:"ml-1"},"Wikipedia",-1),_hoisted_13$4=[_hoisted_11$6,_hoisted_12$5],_sfc_main$w=defineComponent({__name:"EntityInfobox.ce",props:{qid:{type:String},label:{type:String},description:{type:String},language:{type:String,default:"en"}},setup(nt){const rt=nt;watch$1(rt,()=>{Et.value=rt.qid});const it=ref(null),st=computed(()=>{var Yt,Xt;return(Xt=(Yt=it.value)==null?void 0:Yt.getRootNode())==null?void 0:Xt.host}),bt=computed(()=>{var Yt;return(Yt=st.value)==null?void 0:Yt.textContent}),wt=computed(()=>{var Yt;return(Yt=it==null?void 0:it.value)==null?void 0:Yt.parentNode});watch$1(wt,()=>{new HSTooltip(wt.value).init()});const Et=ref(rt.qid);watch$1(Et,()=>{$t(Et.value)});const Tt=ref({}),At=computed(()=>Et.value&&Tt.value[Et.value]),Dt=computed(()=>{var Yt,Xt,Ht;return(Ht=(Xt=(Yt=At.value)==null?void 0:Yt.labels)==null?void 0:Xt[rt.language])==null?void 0:Ht.value}),Ot=computed(()=>{var Yt,Xt,Ht;return(Ht=(Xt=(Yt=At.value)==null?void 0:Yt.descriptions)==null?void 0:Xt[rt.language])==null?void 0:Ht.value}),zt=computed(()=>At.value&&At.value.sitelinks[`${rt.language}wiki`].url);onMounted(()=>{$t(Et.value)});async function $t(Yt){if(!Yt||Tt.value[Yt])return;let Xt=`https://www.wikidata.org/wiki/Special:EntityData/${Yt}.json`;const Qt=await(await fetch(Xt)).json();Object.values(Qt.entities).forEach(Zt=>{Zt.summaryText={},Zt.claims.P18&&(Zt.image=Zt.claims.P18[0].mainsnak.datavalue.value,Zt.thumbnail=Bt(Zt.image))}),Tt.value={...Tt.value,...Qt.entities}}function Bt(Yt,Xt=300){Array.isArray(Yt)&&(Yt=Yt[0]),Yt=Yt.split("/").pop(),Yt=decodeURIComponent(Yt).replace(/ /g,"_");const Ht=Md5.hashStr(Yt),Qt=Yt.split(".").pop();let Zt=`https://upload.wikimedia.org/wikipedia/commons${Xt?"/thumb":""}`;return Zt+=`/${Ht.slice(0,1)}/${Ht.slice(0,2)}/${Yt}`,Xt&&(Zt+=`/${Xt}px-${Yt}`,Qt==="svg"?Zt+=".png":(Qt==="tif"||Qt==="tiff")&&(Zt+=".jpg")),Zt}return(Yt,Xt)=>{var Ht;return openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"hs-tooltip inline-block [--trigger:click] [--placement:top]"},[createBaseVNode("a",_hoisted_1$u,[createBaseVNode("span",{innerHTML:bt.value,class:"bg-yellow-100"},null,8,_hoisted_2$p),createBaseVNode("div",_hoisted_3$i,[createBaseVNode("div",_hoisted_4$e,[createBaseVNode("img",{class:"w-full h-auto rounded-t-xl",src:(Ht=At.value)==null?void 0:Ht.thumbnail,alt:"Image Description"},null,8,_hoisted_5$c),createBaseVNode("div",_hoisted_6$a,[createBaseVNode("h3",_hoisted_7$9,toDisplayString(Dt.value),1),createBaseVNode("p",_hoisted_8$9,toDisplayString(Ot.value),1),createBaseVNode("div",_hoisted_9$8,[createBaseVNode("a",{class:"inline-flex items-center gap-2 focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all text-sm",target:"_blank",href:zt.value},_hoisted_13$4,8,_hoisted_10$6)])])])])])],512)}}}),_style_0$p=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,EntityInfobox=_export_sfc(_sfc_main$w,[["styles",[_style_0$p]]]),_hoisted_1$t=["innerHTML"],_sfc_main$v=defineComponent({__name:"Essay.ce",props:{src:{type:String},prefix:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Dt,Ot;return(Ot=(Dt=it.value)==null?void 0:Dt.getRootNode())==null?void 0:Ot.host}),bt=computed(()=>{var Dt;return(Dt=it==null?void 0:it.value)==null?void 0:Dt.parentNode}),wt=computed(()=>{var Dt,Ot;return(Ot=(Dt=st.value)==null?void 0:Dt.querySelector("pre"))==null?void 0:Ot.textContent}),Et=ref(),Tt=ref();watch$1(wt,()=>{let Dt=wt.value.split(`
`),Ot=[];if(Dt.forEach(zt=>{(zt.trim().length>0||Ot.length>0)&&Ot.push(zt)}),Ot.length>0){let zt=(Ot[0].match(/(^\s+)/)||[""])[0].length;Et.value=Ot.map($t=>($t.match(/(^\s+)/)||[""])[0].length>=zt?$t.slice(zt):$t).join(`
`)}}),watch$1(Et,()=>At()),watch$1(st,()=>{let Dt=st.value.textContent.split(`
`),Ot=[];if(Dt.forEach(zt=>{(zt.trim().length>0||Ot.length>0)&&Ot.push(zt)}),Ot.length>0){let zt=(Ot[0].match(/(^\s+)/)||[""])[0].length;Et.value=Ot.map($t=>($t.match(/(^\s+)/)||[""])[0].length>=zt?$t.slice(zt):$t).join(`
`)}});function At(){Tt.value="",fetch("/html/?inline=true",{method:"POST",body:JSON.stringify({prefix:`${rt.prefix||""}`,path:"",markdown:Et.value})}).then(Ot=>Ot.text()).then(Ot=>{let $t=new DOMParser().parseFromString(Ot,"text/html").children[0].children[1].querySelector("main");$t&&($t.id="juncture"),$t&&(Tt.value=$t.innerHTML),nextTick(()=>{var Yt;let Bt=(Yt=bt.value)==null?void 0:Yt.querySelector("#juncture");Bt&&observeActive(Bt)})})}return(Dt,Ot)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"main"},[Tt.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",innerHTML:Tt.value},null,8,_hoisted_1$t)):createCommentVNode("",!0)],512))}}),_style_1$4=`[v-cloak]{display:none}*{box-sizing:border-box}#main{font-family:Roboto,sans-serif;margin-top:0}#juncture{padding:12px;font-size:1.2em;line-height:1.3}@media (max-width: 480px){#juncture{padding:0}}
`,Essay=_export_sfc(_sfc_main$v,[["styles",[_style_0$t,_style_1$4]]]),_hoisted_1$s=["content","disabled"],_hoisted_2$o=["name"],_sfc_main$u=defineComponent({__name:"FAB.ce",props:{color:{type:String,default:"red"},label:{type:String},icon:{type:String},action:{type:String},right:{type:String,default:"35px"},bottom:{type:String,default:"35px"},disabled:{type:Boolean}},emits:["fabClicked"],setup(nt,{emit:rt}){const it=nt,st=ref(null),bt=ref(isMobile());function wt(){rt("fabClicked",it.action)}return(Et,Tt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:st,class:"fab-wrapper",style:normalizeStyle({right:it.right,bottom:it.bottom})},[createBaseVNode("sl-tooltip",{content:it.label,placement:"top",disabled:bt.value||it.disabled},[createBaseVNode("span",{"data-action":"props.action",class:"fab-button",onClick:wt,style:normalizeStyle({visibility:it.disabled?"hidden":"visible",backgroundColor:it.color})},[createBaseVNode("sl-icon",{name:it.icon,style:{"font-size":"36px"}},null,8,_hoisted_2$o)],4)],8,_hoisted_1$s)],4))}}),_style_0$o=`.fab-wrapper{position:absolute;bottom:35px;right:35px}.fab-button{height:56px;width:56px;background-color:red;border-radius:50%;color:#fff;z-index:1;display:flex;align-items:center;justify-content:center;text-decoration:none;opacity:.4}.fab-button:hover{opacity:1;transition:all .4s;cursor:pointer}.fab-button i{font-size:16px;transform:rotate(0);transition:all .4s}
`,FAB=_export_sfc(_sfc_main$u,[["styles",[_style_0$o]]]),_hoisted_1$r=["name","label","onClick"],_hoisted_2$n=["innerHTML","onClick"],_hoisted_3$h=["src"],_sfc_main$t=defineComponent({__name:"Footer.ce",props:{sticky:{type:Boolean}},setup(nt){const rt=nt,it={"view-code":{icon:"markdown",label:"View Page Code"}},st=ref([]),bt=ref(null),wt=computed(()=>{var Xt,Ht;return(Ht=(Xt=bt.value)==null?void 0:Xt.getRootNode())==null?void 0:Ht.host}),Et=computed(()=>{var Xt;return(Xt=bt==null?void 0:bt.value)==null?void 0:Xt.parentNode}),Tt=ref(!1);watch$1(Tt,()=>At.open=Tt.value);let At;const Dt=ref();watch$1(wt,()=>{var Xt;At=(Xt=Et.value)==null?void 0:Xt.querySelector(".page-source-dialog"),At.addEventListener("sl-hide",()=>Tt.value=!1)}),watch$1(wt,()=>Ot());function Ot(){var Xt;wt.value.style.clear="both",rt.sticky&&zt(),st.value=Array.from((Xt=wt.value)==null?void 0:Xt.querySelectorAll("li"))}function zt(){wt.value.classList.add("sticky");let Xt=wt.value.offsetHeight;Xt+=parseInt(window.getComputedStyle(wt.value).getPropertyValue("margin-top")),Xt+=parseInt(window.getComputedStyle(wt.value).getPropertyValue("margin-bottom"));let Ht=document.querySelector("main");Ht&&(Ht.style.paddingBottom=`${Xt}px`),wt.value.style.width=`${wt.value.parentElement.clientWidth}px`,document.body.style.marginBottom="80px"}function $t(Xt){return Xt?Object.fromEntries(Xt.split(";").filter(Ht=>Ht.trim()).map(Ht=>Ht.split(":").map(Qt=>Qt.trim()))):{}}function Bt(){let Xt=window.PREFIX,Ht=location.hostname.indexOf("github.io")!==-1,Qt=location.pathname.split("/").filter(Zt=>Zt).filter(Zt=>Zt!=="editor").slice(Ht?1:0).join("/");Dt.value=Xt&&Qt.indexOf(Xt)!==0?`${Xt}/${Qt}`:Qt,Tt.value=!0}function Yt(Xt,Ht){Xt.innerHTML==="view-code"&&(Ht.stopPropagation(),Bt())}return(Xt,Ht)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:bt,class:"main"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(st.value,(Qt,Zt)=>(openBlock(),createElementBlock(Fragment,{key:`li-${Zt}`},[it[Qt.innerHTML]?(openBlock(),createElementBlock("sl-icon",{key:0,name:it[Qt.innerHTML].icon,label:it[Qt.innerHTML].label,onClick:nn=>Yt(Qt,nn),style:{"font-size":"24px"}},null,8,_hoisted_1$r)):(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(Qt.className),style:normalizeStyle($t(Qt.getAttribute("style")||"")),innerHTML:Qt.innerHTML,onClick:nn=>Yt(Qt,nn)},null,14,_hoisted_2$n))],64))),128)),createBaseVNode("sl-dialog",{label:"Page Source",class:"page-source-dialog",style:normalizeStyle({"--width":unref(isMobile)()?"100vw":"80vw"})},[Dt.value?(openBlock(),createElementBlock("ve-snippet",{key:0,src:Dt.value,tabs:"markdown,html,wordpress","disable-drag":""},null,8,_hoisted_3$h)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:Ht[0]||(Ht[0]=Qt=>Tt.value=!1)},"Close")],4)],512))}}),_style_0$n=`*{box-sizing:border-box}.main{display:flex;align-items:center;justify-content:space-between;flex-wrap:wrap;padding:9px 12px;margin:36px auto auto;font-family:Roboto,sans-serif;font-size:.9rem;z-index:100;background-color:#eee;color:#444;border-radius:3px}a,sl-icon{color:#0645ad;text-decoration:none}a:visited{color:#0b0080}a:hover,sl-icon:hover{color:#06e;cursor:pointer}a:active{color:#faa700}a:focus{outline:thin dotted}a:hover,a:active{outline:0}.main.sticky{position:fixed;bottom:0}div{display:flex;align-items:center;gap:12px}.main div{cursor:pointer}img{height:36px;vertical-align:middle}a{color:inherit;text-decoration:none}.logo,.logo img{height:20px}.push{margin-left:auto}sl-dialog::part(panel){color:#444;font-size:medium}
`,Footer=_export_sfc(_sfc_main$t,[["styles",[_style_0$n]]]),_hoisted_1$q=["src","alt"],_hoisted_2$m=["name","data-state"],_sfc_main$s=defineComponent({__name:"GIF.ce",props:{src:{type:String,required:!0},alt:{type:String},initiallyPaused:{type:Boolean},restartOnPlay:{type:Boolean}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var $t;return($t=it==null?void 0:it.value)==null?void 0:$t.parentNode}),bt=computed(()=>{var $t;return($t=st.value)==null?void 0:$t.querySelector("#gif")}),wt=ref(!1),Et=ref(!1),Tt=ref(),At={buttonPlayIconID:"",buttonPauseIconID:"",buttonPlayIconHTML:"",buttonPauseIconHTML:"",inheritClasses:!0,initiallyPaused:!1,restartOnPlay:!1,langPause:"Pause animation:",langPlay:"Play animation:",langPauseAllButton:"Pause all animations",langPlayAllButton:"Play all animations",langMissingAlt:"Animated GIF."};watch$1(bt,()=>{nextTick(()=>Dt())});function Dt(){Tt.value={...At,initiallyPaused:rt.initiallyPaused,restartOnPlay:rt.restartOnPlay},Ot()}function Ot(){let $t=()=>{wt.value=!0;let Bt;if(Bt=bt.value.src.split("."),Bt=Bt[Bt.length-1].toLowerCase(),Bt=Bt.substring(0,4),Bt==="gif"){const Yt=document.createElement("canvas");let Xt=parseFloat(getComputedStyle(bt.value,null).getPropertyValue("border-left-width")),Ht=parseFloat(getComputedStyle(bt.value,null).getPropertyValue("border-right-width")),Qt=Xt+Ht,Zt=bt.value.getAttribute("width");Zt!==null?(Yt.width=parseInt(Zt),Yt.setAttribute("style","width:"+Zt+"px !important;")):bt.value.clientWidth==0?Yt.width=bt.value.naturalWidth+.5+Qt:Yt.width=bt.value.clientWidth+.5+Qt;const nn=bt.value.naturalHeight/bt.value.naturalWidth*Yt.width;if(Yt.height=nn+.5,Yt.setAttribute("role","img"),Tt.value.inheritClasses===!0){let wn=bt.value.getAttribute("class");wn==null&&(wn=""),Yt.setAttribute("class","gifa11y-canvas "+wn)}else Yt.setAttribute("class","gifa11y-canvas");let Kt=bt.value.getAttribute("alt")||Tt.value.langMissingAlt;Yt.setAttribute("aria-label",Kt);const ln=bt.value.src,sn=window.matchMedia("(prefers-reduced-motion: reduce)");!sn||sn.matches||bt.value.classList.contains("gifa11y-paused")||ln.indexOf("gifa11y-paused")>-1||Tt.value.initiallyPaused===!0?bt.value.style.display="none":Yt.style.display="none",Yt.getContext("2d").drawImage(bt.value,0,0,Yt.width,Yt.height),bt.value.after(Yt)}};bt.value.complete?$t():bt.value.addEventListener("load",()=>{wt.value||nextTick(()=>$t())})}function zt($t,Bt){Et.value=!Et.value;const Yt=bt.value.nextElementSibling;Et.value?(Tt.value.restartOnPlay&&(bt.value.src=rt.src),bt.value.style.display="block",Yt.style.display="none"):(Tt.value.restartOnPlay&&(bt.value.src=rt.src),bt.value.style.display="none",Yt.style.display="block"),Bt.preventDefault()}return($t,Bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"main"},[createBaseVNode("img",{src:rt.src,i:"",id:"gif",style:{width:"100%"},alt:rt.alt||"Animated GIF",onClick:Bt[0]||(Bt[0]=Yt=>zt("image",Yt))},null,8,_hoisted_1$q),wt.value?(openBlock(),createElementBlock("sl-icon",{key:0,id:"play-button",name:Et.value?"pause-circle":"play-circle","data-state":Et.value?"playing":"paused",style:{"font-size":"100px"},onClick:Bt[1]||(Bt[1]=Yt=>zt("icon",Yt))},null,8,_hoisted_2$m)):createCommentVNode("",!0)],512))}}),_style_0$m=`.main{position:relative}canvas.gifa11y-canvas{object-fit:contain;max-width:100%}#play-button{position:absolute;top:calc(50% - 50px);left:calc(50% - 50px);color:#fff;visibility:hidden;background-color:#0006;border-radius:50%}#play-button:hover{cursor:pointer}#play-button[data-state=paused],.main:hover #play-button{visibility:visible}
`,GIF=_export_sfc(_sfc_main$s,[["styles",[_style_0$m]]]),_hoisted_1$p=["background","options","position","sticky","height","top"],_hoisted_2$l=["label","subtitle","logo","url","sticky","search-domain","contact","contact-form-title","contact-subject","height","background","alpha","offset"],_hoisted_3$g=["innerHTML"],navbarHeight=100,heroHeight=400,_sfc_main$r=defineComponent({__name:"Header.ce",props:{label:{type:String},subtitle:{type:String},logo:{type:String},url:{type:String},contact:{type:String},contactFormTitle:{type:String},contactSubject:{type:String},searchDomain:{type:String},entities:{type:String},sticky:{type:Boolean},background:{type:String},options:{type:String},height:{type:Number},position:{type:String}},setup(nt){const rt=nt,it=/^\w+:/,st=ref(null),bt=computed(()=>{var Yt,Xt;return(Xt=(Yt=st.value)==null?void 0:Yt.getRootNode())==null?void 0:Xt.host});watch$1(bt,()=>{Ot.value=bt.value.querySelector("ul")});const wt=ref(),Et=ref([]),Tt=ref(),At=ref(),Dt=ref(),Ot=ref(),zt=ref(rt.height||navbarHeight);onMounted(()=>$t()),onUpdated(()=>$t());function $t(){Et.value=rt.entities?rt.entities.split(/\s+/).filter(Yt=>Yt):[],rt.background!==void 0&&(isURL(rt.background)||Bt(rt.background))?(Dt.value=rt.background,zt.value=rt.height||heroHeight):At.value=rt.background||"#444",rt.label&&rt.label!=="static"&&(wt.value=rt.label),rt.sticky&&bt.value.classList.add("sticky")}watch$1(Et,async()=>{Et.value.length>0&&!Tt.value&&(Tt.value=await getEntity(Et.value[0]),Tt.value&&(wt.value=Tt.value.label,Tt.value.pageBanner&&(Dt.value=`https://iiif.juncture-digital.org/wc:${decodeURIComponent(Tt.value.pageBanner.split("/Special:FilePath/").pop()).replace(/\s/,"_")}/manifest.json`,zt.value=heroHeight)))});function Bt(Yt){return it.test(Yt)}return(Yt,Xt)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",normalizeProps(guardReactiveProps(Yt.$attrs)),null,16),Dt.value?(openBlock(),createElementBlock("ve-hero",{key:0,background:Dt.value,options:rt.options,position:rt.position,sticky:rt.sticky?"":null,height:zt.value,top:rt.sticky?zt.value-navbarHeight:0},null,8,_hoisted_1$p)):createCommentVNode("",!0),createBaseVNode("ve-navbar",{ref_key:"navbar",ref:st,label:wt.value,subtitle:rt.subtitle,logo:rt.logo,url:rt.url,sticky:rt.sticky?"":null,"search-domain":rt.searchDomain,contact:rt.contact,"contact-form-title":rt.contactFormTitle,"contact-subject":rt.contactSubject,height:Dt.value?navbarHeight:zt.value,background:At.value,alpha:Dt.value?.2:0,offset:Dt.value?navbarHeight:0},[Ot.value?(openBlock(),createElementBlock("ul",{key:0,innerHTML:Ot.value.outerHTML},null,8,_hoisted_3$g)):createCommentVNode("",!0)],8,_hoisted_2$l)],64))}}),_style_0$l=`.main{width:100%}
`,Header=_export_sfc(_sfc_main$r,[["styles",[_style_0$l]]]),_hoisted_1$o=["manifest"],_sfc_main$q=defineComponent({__name:"Hero.ce",props:{background:{type:String},options:{type:String},position:{type:String,default:"center"},sticky:{type:Boolean,default:!1},height:{type:Number,default:350},top:{type:Number,default:0}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Dt,Ot;return(Ot=(Dt=it.value)==null?void 0:Dt.getRootNode())==null?void 0:Ot.host}),bt=ref(),wt=ref(),Et=ref(),Tt=ref();watch$1(rt,()=>{rt.sticky&&(st.value.style.position="sticky",st.value.style.top="-320px")}),watch$1(st,()=>{wt.value=parseImageOptions(rt.options||""),rt.background&&getManifest(rt.background).then(Dt=>bt.value=Dt),st.value.style.height=`${rt.height}px`,rt.sticky&&(st.value.style.position="sticky"),rt.top&&(st.value.style.top=`-${rt.top}px`)}),watch$1(bt,(Dt,Ot)=>{Dt!==Ot&&(Et.value=getItemInfo(Dt))}),watch$1(Et,async(Dt,Ot)=>{Dt!==Ot&&(Tt.value=Dt.service?At(Dt.service[0].id||Dt.service[0]["@id"],wt.value):await imageDataUrl(Et.value.id,wt.value.region,{width:st.value.clientWidth,height:rt.height}))}),watch$1(Tt,()=>{st.value.style.backgroundImage=`url("${Tt.value}")`,st.value.style.backgroundPosition=rt.position});function At(Dt,Ot){let zt=Et.value,$t=Number((zt.width/zt.height).toFixed(4)),Bt=Math.min(800,st.value.clientWidth),Yt=Number(Bt/$t).toFixed(0),Xt=`${Bt},${Yt}`;return`${Dt.replace(/\/info.json$/,"")}/${Ot.region}/${Xt}/${Ot.rotation}/${Ot.quality}.${Ot.format}`}return(Dt,Ot)=>{var zt;return openBlock(),createElementBlock("section",{ref_key:"root",ref:it,class:"ve-hero media-item"},[createBaseVNode("ve-manifest-popup",{manifest:(zt=bt.value)==null?void 0:zt.id},null,8,_hoisted_1$o)],512)}}}),_style_0$k=`*{box-sizing:border-box}:host{display:block;position:relative;width:100%;z-index:10}.ve-hero{background-repeat:no-repeat;background-size:cover;background-position:center;z-index:8}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,Hero=_export_sfc(_sfc_main$q,[["styles",[_style_0$k]]]),_hoisted_1$n={class:"content"},_hoisted_2$k=["src","width","height"],_sfc_main$p=defineComponent({__name:"IFrame.ce",props:{allow:{type:String},allowfullscreen:{type:Boolean},allowpaymentrequest:{type:Boolean},height:{type:String},loading:{type:String},name:{type:String},referrerpolicy:{type:String},sandbox:{type:String},src:{type:String},srcdoc:{type:String},width:{type:String},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var $t;return($t=it==null?void 0:it.value)==null?void 0:$t.parentNode}),bt=computed(()=>{var $t,Bt;return(Bt=($t=it.value)==null?void 0:$t.getRootNode())==null?void 0:Bt.host}),wt=computed(()=>{var $t;return($t=st.value)==null?void 0:$t.querySelector(".content")}),Et=ref(),Tt=ref(0),At=ref(0),Dt=rt.position||(isMobile()?"full":rt.right?"right":rt.left?"left":"full");onMounted(()=>Ot());function Ot(){rt.src&&(Et.value=rt.src),zt()}function zt(){rt.sticky&&makeSticky(bt.value),bt.value.classList.add("ve-component"),bt.value.classList.add(Dt),Dt==="full"?bt.value.style.width="100%":(bt.value.style.float=Dt,bt.value.style.width="50%"),nextTick(()=>{bt.value.style.width=window.getComputedStyle(bt.value).width,bt.value.style.height=rt.height||window.getComputedStyle(bt.value).width,wt.value.style.width=rt.width||window.getComputedStyle(bt.value).width,wt.value.style.height=rt.height||window.getComputedStyle(bt.value).width,nextTick(()=>{Tt.value=parseInt(window.getComputedStyle(wt.value).width.slice(0,-2)),At.value=parseInt(window.getComputedStyle(wt.value).height.slice(0,-2))})})}return($t,Bt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"main"},[createBaseVNode("div",_hoisted_1$n,[createBaseVNode("iframe",{src:Et.value,width:Tt.value,height:At.value},null,8,_hoisted_2$k)])],512))}}),_style_0$j=`*{box-sizing:border-box}.main{height:500px}:host{display:block;width:100%;background-color:#fff}.content{margin:auto}iframe{border:none}
`,IFrame=_export_sfc(_sfc_main$p,[["styles",[_style_0$j]]]),_hoisted_1$m=["innerHTML"],_hoisted_2$j=["innerHTML"],_sfc_main$o=defineComponent({__name:"InfoCard.ce",props:{label:{type:String},description:{type:String},image:{type:String},href:{type:String},data:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var zt,$t;return($t=(zt=it.value)==null?void 0:zt.getRootNode())==null?void 0:$t.host}),bt=computed(()=>rt.data?JSON.parse(rt.data):{}),wt=computed(()=>bt.value.label||rt.label),Et=computed(()=>bt.value.description||rt.description),Tt=computed(()=>bt.value.image||rt.image);computed(()=>bt.value.href||rt.href);const At=computed(()=>Tt.value&&`url('${Ot(Tt.value)}')`),Dt=computed(()=>{var zt;return`${((zt=st.value)==null?void 0:zt.clientWidth)*.33}px`});function Ot(zt){let $t=zt.split("/");return`${$t.slice(0,-1).join("/")}/${encodeURIComponent($t[$t.length-1])}`}return(zt,$t)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"card",class:"card"},[createBaseVNode("div",{class:"label",innerHTML:wt.value},null,8,_hoisted_1$m),createBaseVNode("div",{class:"description",innerHTML:Et.value},null,8,_hoisted_2$j),Tt.value?(openBlock(),createElementBlock("div",{key:0,class:"image",style:normalizeStyle({backgroundImage:At.value,width:Dt.value})},null,4)):createCommentVNode("",!0)],512))}}),_style_0$i=`*{box-sizing:border-box}:host{display:inline-block;width:100%}.card{display:grid;grid-template-columns:1fr auto;grid-template-rows:auto auto auto 1fr auto;border-radius:6px;min-height:80px;max-height:100px;overflow-y:hidden;background-color:#fff;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.label,.description,.summary,.links{margin:6px;font-size:1rem}.label{grid-area:1 / 1 / 2 / 2;font-size:130%;font-weight:700}.description{grid-area:2 / 1 / 3 / 2;font-size:110%;font-weight:400;height:100%}.summary{grid-area:3 / 1 / 4 / 2;display:-webkit-box;-webkit-box-orient:vertical;-webkit-line-clamp:6;overflow:hidden;line-height:1.2rem;font-weight:300}.spacer{grid-area:4 / 1 / 5 / 2;height:100%}.links{grid-area:5 / 1 / 6 / 2}.image{grid-area:1 / 2 / 6 / 3;height:100%;max-height:100px;object-fit:cover;background-repeat:no-repeat;background-size:cover;background-position:center}.logo img{height:24px;margin-right:12px;cursor:pointer}
`,InfoCard=_export_sfc(_sfc_main$o,[["styles",[_style_0$i]]]),_withScopeId=nt=>(pushScopeId("data-v-b4ddce3a"),nt=nt(),popScopeId(),nt),_hoisted_1$l={class:"main"},_hoisted_2$i=["src"],_hoisted_3$f=["innerHTML"],_hoisted_4$d=["innerHTML"],_hoisted_5$b=["href","innerHTML"],_hoisted_6$9={class:"links"},_hoisted_7$8={class:"detail"},_hoisted_8$8={key:0,class:"provider"},_hoisted_9$7=_withScopeId(()=>createBaseVNode("span",{class:"label"},"provider",-1)),_hoisted_10$5={key:0,style:{display:"flex","align-items":"center"}},_hoisted_11$5=["src"],_hoisted_12$4=["href","innerHTML"],_hoisted_13$3={key:1},_hoisted_14$2=["src"],_hoisted_15$2=["href","innerHTML"],_hoisted_16$2={key:1,class:"requiredStatement"},_hoisted_17$2=["innerHTML"],_hoisted_18$2={key:2,class:"rights"},_hoisted_19$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"Reuse rights",-1)),_hoisted_20$2=["href","innerHTML"],_hoisted_21$2={key:3,class:"metadata"},_hoisted_22$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"metadata",-1)),_hoisted_23$2=["innerHTML"],_hoisted_24$2=["innerHTML"],_hoisted_25$2={key:1},_hoisted_26$2=["innerHTML"],_hoisted_27$2={key:4,class:"navDate"},_hoisted_28$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"navDate",-1)),_hoisted_29$2=["innerHTML"],_hoisted_30$2={key:5,class:"homepage"},_hoisted_31$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"homepage",-1)),_hoisted_32$2=["href","innerHTML"],_hoisted_33$2={key:6,class:"seeAlso"},_hoisted_34$2=_withScopeId(()=>createBaseVNode("span",{class:"label"},"seeAlso",-1)),_hoisted_35$1=["href","innerHTML"],_hoisted_36$1={key:7,class:"logo"},_hoisted_37=_withScopeId(()=>createBaseVNode("span",{class:"label"},"logo",-1)),_hoisted_38=["href","innerHTML"],_hoisted_39={key:8,class:"imageData"},_hoisted_40=_withScopeId(()=>createBaseVNode("span",{class:"label"},"source",-1)),_hoisted_41=["href","innerHTML"],_hoisted_42=_withScopeId(()=>createBaseVNode("span",{class:"label"},"format",-1)),_hoisted_43=["innerHTML"],_hoisted_44=_withScopeId(()=>createBaseVNode("span",{class:"label"},"width",-1)),_hoisted_45=["innerHTML"],_hoisted_46=_withScopeId(()=>createBaseVNode("span",{class:"label"},"height",-1)),_hoisted_47=["innerHTML"],_sfc_main$n=defineComponent({__name:"Manifest.ce",props:{manifest:{type:String}},setup(nt){const rt=nt,it=ref(null);computed(()=>{var zt,$t;return($t=(zt=it.value)==null?void 0:zt.getRootNode())==null?void 0:$t.host});const st=ref(null),bt=ref(null);watch$1(st,()=>bt.value=At(st.value));const wt=computed(()=>bt.value&&Ot(bt.value));onMounted(()=>Et());function Et(){typeof rt.manifest=="object"?st.value=rt.manifest:getManifest(rt.manifest).then(zt=>st.value=zt)}function Tt(zt,$t="en"){return typeof zt=="object"&&!Array.isArray(zt)?zt[$t]||zt.none||zt[Object.keys(zt).sort()[0]]:zt}function At(zt){let $t={};if($t.id=Tt(zt.id),$t.label=Tt(zt.label),zt.summary&&($t.summary=Tt(zt.summary)),zt.rights&&($t.rights=zt.rights),zt.thumbnail&&($t.thumbnail=zt.thumbnail[0].id||zt.thumbnail),zt.metadata){$t.metadata=zt.metadata.map(Xt=>({label:Tt(Xt.label)[0],value:Tt(Xt.value)}));let Bt=$t.metadata.find(Xt=>Xt.label=="source_url");$t.sourceUrl=Bt?Bt.value[0]:null;let Yt=$t.metadata.find(Xt=>Xt.label==="depicts");Yt&&($t.depicts=Yt.value)}if(zt.provider&&($t.provider=zt.provider.map(Bt=>{let Yt={label:Tt(Bt.label),href:Bt.id};return Bt.logo&&(Yt.logo={src:Bt.logo[0].id}),Yt})),zt.logo&&($t.logo=zt.logo.map(Bt=>{let Yt={src:typeof Bt=="object"?Bt.id||Bt["@id"]:Bt};return typeof Bt=="object"&&(Bt.width&&(Yt.width=Bt.width),Bt.height&&(Yt.height=Bt.height)),Yt})),$t.imageData=getItemInfo(zt),$t.service=$t.imageData.service&&`${($t.imageData.service[0].id||$t.imageData.service[0]["@id"]).replace(/\/info\.json$/,"")}/info.json`,zt.requiredStatement){let Bt=zt.requiredStatement;$t.requiredStatement={label:Tt(Bt.label),value:Tt(Bt.value)}}return zt.homepage&&($t.homepage={label:zt.homepage.label?Tt(zt.homepage.label):zt.homepage.id,href:zt.homepage.id}),zt.seeAlso&&($t.seeAlso=zt.seeAlso.map(Bt=>({label:Bt.label?Tt(Bt.label):Bt.id,href:Bt.id}))),$t}function Dt(zt){navigator.clipboard&&navigator.clipboard.writeText(zt)}function Ot(zt){let $t={cc:{badgeWidth:88,badgeHeight:31,badgeTemplate:'https://licensebuttons.net/l/${this.rightsCode}${this.rightsCode === "publicdomain" ? "" : "/"+this.version}/${this.badgeWidth}x${this.badgeHeight}.png'},rs:{badgeTemplate:"https://rightsstatements.org/files/buttons/${this.rightsCode}.white.svg",backgroundColor:"318ac7"}};const Bt=function(Kt,ln){return new Function("return `"+Kt+"`;").call(ln)};let Yt=zt.rights||"",Xt="",[Ht,Qt,Zt,nn]=Yt.split("/").slice(2);return Ht==="creativecommons.org"?(Zt=Zt==="zero"?"publicdomain":Zt,Xt=`<img src="${Bt($t.cc.badgeTemplate,{...$t.cc,rightsCode:Zt,version:nn})}"/>`):Ht==="rightsstatements.org"&&(Xt=`<div style="display:inline-block;height:25px;padding:3px;background-color:#${$t.rs.backgroundColor};"><img style="height:100%;" src="${Bt($t.rs.badgeTemplate,{...$t.rs,rightsCode:Zt})}"/></div>`),Xt}return(zt,$t)=>{var Bt,Yt,Xt,Ht,Qt,Zt,nn,Kt,ln,sn,bn,wn,Mn,Sn,Dn;return openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"manifest"},[createBaseVNode("div",_hoisted_1$l,[createBaseVNode("img",{class:"thumbnail",src:(Bt=bt.value)==null?void 0:Bt.thumbnail},null,8,_hoisted_2$i),createBaseVNode("div",{class:"label",innerHTML:(Yt=bt.value)==null?void 0:Yt.label},null,8,_hoisted_3$f),(Xt=bt.value)!=null&&Xt.summary?(openBlock(),createElementBlock("div",{key:0,class:"summary",innerHTML:(Ht=bt.value)==null?void 0:Ht.summary},null,8,_hoisted_4$d)):createCommentVNode("",!0),(Qt=bt.value)!=null&&Qt.rights?(openBlock(),createElementBlock("a",{key:1,href:(Zt=bt.value)==null?void 0:Zt.rights,innerHTML:wt.value},null,8,_hoisted_5$b)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_6$9,[createBaseVNode("img",{src:"https://juncture-digital.github.io/web-app/static/iiif.png",class:"iiif",alt:"IIIF manifest icon",onClick:$t[0]||($t[0]=gn=>Dt(st.value.id))})])]),createBaseVNode("div",_hoisted_7$8,[(nn=bt.value)!=null&&nn.provider?(openBlock(),createElementBlock("div",_hoisted_8$8,[_hoisted_9$7,bt.value.provider.length===1?(openBlock(),createElementBlock("div",_hoisted_10$5,[bt.value.provider[0].logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:bt.value.provider[0].logo.src},null,8,_hoisted_11$5)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:bt.value.provider[0].href,innerHTML:bt.value.provider[0].label},null,8,_hoisted_12$4)])):(openBlock(),createElementBlock("ul",_hoisted_13$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bt.value.provider,(gn,Un)=>(openBlock(),createElementBlock("li",{key:`provider-${Un}`},[gn.logo?(openBlock(),createElementBlock("img",{key:0,class:"logo",src:gn.logo.src},null,8,_hoisted_14$2)):createCommentVNode("",!0),createBaseVNode("a",{class:"value",href:gn.href,innerHTML:gn.label},null,8,_hoisted_15$2)]))),128))]))])):createCommentVNode("",!0),(Kt=bt.value)!=null&&Kt.requiredStatement?(openBlock(),createElementBlock("div",_hoisted_16$2,[createBaseVNode("span",{class:"value",innerHTML:bt.value.requiredStatement.value},null,8,_hoisted_17$2)])):createCommentVNode("",!0),(ln=bt.value)!=null&&ln.rights?(openBlock(),createElementBlock("div",_hoisted_18$2,[_hoisted_19$2,createBaseVNode("a",{class:"value",href:bt.value.rights,innerHTML:bt.value.rights},null,8,_hoisted_20$2)])):createCommentVNode("",!0),(sn=bt.value)!=null&&sn.metadata?(openBlock(),createElementBlock("div",_hoisted_21$2,[_hoisted_22$2,createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bt.value.metadata,(gn,Un)=>(openBlock(),createElementBlock("li",{key:`md-${Un}`},[createBaseVNode("span",{class:"label",innerHTML:gn.label},null,8,_hoisted_23$2),gn.value.length===1?(openBlock(),createElementBlock("span",{key:0,class:"value",innerHTML:gn.value[0]},null,8,_hoisted_24$2)):(openBlock(),createElementBlock("ul",_hoisted_25$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(gn.value,pn=>(openBlock(),createElementBlock("li",{class:"value",innerHTML:pn},null,8,_hoisted_26$2))),256))]))]))),128))])])):createCommentVNode("",!0),(bn=bt.value)!=null&&bn.navDate?(openBlock(),createElementBlock("div",_hoisted_27$2,[_hoisted_28$2,createBaseVNode("span",{class:"value",innerHTML:bt.value.navDate},null,8,_hoisted_29$2)])):createCommentVNode("",!0),(wn=bt.value)!=null&&wn.homepage?(openBlock(),createElementBlock("div",_hoisted_30$2,[_hoisted_31$2,createBaseVNode("a",{class:"value",href:bt.value.homepage.href,innerHTML:bt.value.homepage.label},null,8,_hoisted_32$2)])):createCommentVNode("",!0),(Mn=bt.value)!=null&&Mn.seeAlso?(openBlock(),createElementBlock("div",_hoisted_33$2,[_hoisted_34$2,createBaseVNode("a",{class:"value",href:bt.value.seeAlso[0].href,innerHTML:bt.value.seeAlso[0].label},null,8,_hoisted_35$1)])):createCommentVNode("",!0),(Sn=bt.value)!=null&&Sn.logo?(openBlock(),createElementBlock("div",_hoisted_36$1,[_hoisted_37,createBaseVNode("a",{class:"value",href:bt.value.logo[0].src,innerHTML:bt.value.logo[0].src},null,8,_hoisted_38)])):createCommentVNode("",!0),(Dn=bt.value)!=null&&Dn.imageData?(openBlock(),createElementBlock("div",_hoisted_39,[createBaseVNode("div",null,[_hoisted_40,createBaseVNode("a",{class:"value",href:bt.value.imageData.id,innerHTML:bt.value.imageData.id.split("/").pop()},null,8,_hoisted_41)]),createBaseVNode("div",null,[_hoisted_42,createBaseVNode("span",{class:"value",innerHTML:bt.value.imageData.format},null,8,_hoisted_43)]),createBaseVNode("div",null,[_hoisted_44,createBaseVNode("span",{class:"value",innerHTML:bt.value.imageData.width},null,8,_hoisted_45)]),createBaseVNode("div",null,[_hoisted_46,createBaseVNode("span",{class:"value",innerHTML:bt.value.imageData.height},null,8,_hoisted_47)])])):createCommentVNode("",!0)])],512)}}}),_style_0$h=`*[data-v-b4ddce3a]{box-sizing:border-box}.manifest[data-v-b4ddce3a]{width:100%;height:100%;overflow-y:scroll;background-color:#fff}.main[data-v-b4ddce3a],.detail[data-v-b4ddce3a]{display:flow-root;margin:6px}.main>*[data-v-b4ddce3a]{margin-bottom:6px}.detail>div[data-v-b4ddce3a]{margin-top:12px}.main .label[data-v-b4ddce3a]{font-size:1.2em;font-weight:700}.thumbnail[data-v-b4ddce3a]{float:left;max-width:45%;max-height:200px;margin:0 6px 6px 0}.links[data-v-b4ddce3a]{margin-top:6px}img.iiif[data-v-b4ddce3a]{height:24px;cursor:copy}ul[data-v-b4ddce3a]{list-style:none;padding-left:12px;margin-top:0}.detail .label[data-v-b4ddce3a]{font-size:1.1em;font-weight:700;min-width:80px;margin-right:6px}.detail .label[data-v-b4ddce3a]:after{content:":"}.detail .value[data-v-b4ddce3a],.main .label[data-v-b4ddce3a]{white-space:pre-wrap;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto}.logo[data-v-b4ddce3a]{padding-right:6px}img.logo[data-v-b4ddce3a]{height:40px}.manifest-id[data-v-b4ddce3a],.manifest-label[data-v-b4ddce3a],.summary[data-v-b4ddce3a],.provider[data-v-b4ddce3a],.rights[data-v-b4ddce3a],.service[data-v-b4ddce3a],.imageData div[data-v-b4ddce3a],.thumbnail[data-v-b4ddce3a]{display:flex;align-items:flex-start}.metadata>ul[data-v-b4ddce3a],.requiredStatement ul[data-v-b4ddce3a]{padding-left:24px}.metadata ul li[data-v-b4ddce3a],.requiredStatement ul li[data-v-b4ddce3a]{display:flex}.metadata ul ul[data-v-b4ddce3a]{padding-left:0}a[data-v-b4ddce3a]:link,a[data-v-b4ddce3a]:visited{color:#00e}
`,Manifest=_export_sfc(_sfc_main$n,[["styles",[_style_0$h]],["__scopeId","data-v-b4ddce3a"]]),_hoisted_1$k=createBaseVNode("sl-icon",{id:"tippy",name:"info-circle-fill"},null,-1),_hoisted_2$h=[_hoisted_1$k],_sfc_main$m=defineComponent({__name:"ManifestPopup.ce",props:{manifest:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var bt,wt;return(wt=(bt=it.value)==null?void 0:bt.getRootNode())==null?void 0:wt.host});return watch$1(st,()=>{tippy(st.value,{theme:"light-border",allowHTML:!0,interactive:!0,appendTo:document.body,placement:"bottom-end",arrow:!0,delay:[null,null],onShow:bt=>bt.setContent(`<div class="manifest-popup"><ve-manifest manifest="${rt.manifest}"></ve-manifest></div>`)})}),(bt,wt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it},_hoisted_2$h,512))}}),_style_0$g=`#tippy{width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center}
`,ManifestPopup=_export_sfc(_sfc_main$m,[["styles",[_style_0$g]]]);var leafletSrc={exports:{}};/* @preserve
 * Leaflet 1.9.3, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2022 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(nt,rt){(function(it,st){st(rt)})(commonjsGlobal$1,function(it){var st="1.9.3";function bt(Lt){var Vt,an,_n,Bn;for(an=1,_n=arguments.length;an<_n;an++){Bn=arguments[an];for(Vt in Bn)Lt[Vt]=Bn[Vt]}return Lt}var wt=Object.create||function(){function Lt(){}return function(Vt){return Lt.prototype=Vt,new Lt}}();function Et(Lt,Vt){var an=Array.prototype.slice;if(Lt.bind)return Lt.bind.apply(Lt,an.call(arguments,1));var _n=an.call(arguments,2);return function(){return Lt.apply(Vt,_n.length?_n.concat(an.call(arguments)):arguments)}}var Tt=0;function At(Lt){return"_leaflet_id"in Lt||(Lt._leaflet_id=++Tt),Lt._leaflet_id}function Dt(Lt,Vt,an){var _n,Bn,dr,jr;return jr=function(){_n=!1,Bn&&(dr.apply(an,Bn),Bn=!1)},dr=function(){_n?Bn=arguments:(Lt.apply(an,arguments),setTimeout(jr,Vt),_n=!0)},dr}function Ot(Lt,Vt,an){var _n=Vt[1],Bn=Vt[0],dr=_n-Bn;return Lt===_n&&an?Lt:((Lt-Bn)%dr+dr)%dr+Bn}function zt(){return!1}function $t(Lt,Vt){if(Vt===!1)return Lt;var an=Math.pow(10,Vt===void 0?6:Vt);return Math.round(Lt*an)/an}function Bt(Lt){return Lt.trim?Lt.trim():Lt.replace(/^\s+|\s+$/g,"")}function Yt(Lt){return Bt(Lt).split(/\s+/)}function Xt(Lt,Vt){Object.prototype.hasOwnProperty.call(Lt,"options")||(Lt.options=Lt.options?wt(Lt.options):{});for(var an in Vt)Lt.options[an]=Vt[an];return Lt.options}function Ht(Lt,Vt,an){var _n=[];for(var Bn in Lt)_n.push(encodeURIComponent(an?Bn.toUpperCase():Bn)+"="+encodeURIComponent(Lt[Bn]));return(!Vt||Vt.indexOf("?")===-1?"?":"&")+_n.join("&")}var Qt=/\{ *([\w_ -]+) *\}/g;function Zt(Lt,Vt){return Lt.replace(Qt,function(an,_n){var Bn=Vt[_n];if(Bn===void 0)throw new Error("No value provided for variable "+an);return typeof Bn=="function"&&(Bn=Bn(Vt)),Bn})}var nn=Array.isArray||function(Lt){return Object.prototype.toString.call(Lt)==="[object Array]"};function Kt(Lt,Vt){for(var an=0;an<Lt.length;an++)if(Lt[an]===Vt)return an;return-1}var ln="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function sn(Lt){return window["webkit"+Lt]||window["moz"+Lt]||window["ms"+Lt]}var bn=0;function wn(Lt){var Vt=+new Date,an=Math.max(0,16-(Vt-bn));return bn=Vt+an,window.setTimeout(Lt,an)}var Mn=window.requestAnimationFrame||sn("RequestAnimationFrame")||wn,Sn=window.cancelAnimationFrame||sn("CancelAnimationFrame")||sn("CancelRequestAnimationFrame")||function(Lt){window.clearTimeout(Lt)};function Dn(Lt,Vt,an){if(an&&Mn===wn)Lt.call(Vt);else return Mn.call(window,Et(Lt,Vt))}function gn(Lt){Lt&&Sn.call(window,Lt)}var Un={__proto__:null,extend:bt,create:wt,bind:Et,get lastId(){return Tt},stamp:At,throttle:Dt,wrapNum:Ot,falseFn:zt,formatNum:$t,trim:Bt,splitWords:Yt,setOptions:Xt,getParamString:Ht,template:Zt,isArray:nn,indexOf:Kt,emptyImageUrl:ln,requestFn:Mn,cancelFn:Sn,requestAnimFrame:Dn,cancelAnimFrame:gn};function pn(){}pn.extend=function(Lt){var Vt=function(){Xt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},an=Vt.__super__=this.prototype,_n=wt(an);_n.constructor=Vt,Vt.prototype=_n;for(var Bn in this)Object.prototype.hasOwnProperty.call(this,Bn)&&Bn!=="prototype"&&Bn!=="__super__"&&(Vt[Bn]=this[Bn]);return Lt.statics&&bt(Vt,Lt.statics),Lt.includes&&(yr(Lt.includes),bt.apply(null,[_n].concat(Lt.includes))),bt(_n,Lt),delete _n.statics,delete _n.includes,_n.options&&(_n.options=an.options?wt(an.options):{},bt(_n.options,Lt.options)),_n._initHooks=[],_n.callInitHooks=function(){if(!this._initHooksCalled){an.callInitHooks&&an.callInitHooks.call(this),this._initHooksCalled=!0;for(var dr=0,jr=_n._initHooks.length;dr<jr;dr++)_n._initHooks[dr].call(this)}},Vt},pn.include=function(Lt){var Vt=this.prototype.options;return bt(this.prototype,Lt),Lt.options&&(this.prototype.options=Vt,this.mergeOptions(Lt.options)),this},pn.mergeOptions=function(Lt){return bt(this.prototype.options,Lt),this},pn.addInitHook=function(Lt){var Vt=Array.prototype.slice.call(arguments,1),an=typeof Lt=="function"?Lt:function(){this[Lt].apply(this,Vt)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(an),this};function yr(Lt){if(!(typeof L>"u"||!L||!L.Mixin)){Lt=nn(Lt)?Lt:[Lt];for(var Vt=0;Vt<Lt.length;Vt++)Lt[Vt]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var xn={on:function(Lt,Vt,an){if(typeof Lt=="object")for(var _n in Lt)this._on(_n,Lt[_n],Vt);else{Lt=Yt(Lt);for(var Bn=0,dr=Lt.length;Bn<dr;Bn++)this._on(Lt[Bn],Vt,an)}return this},off:function(Lt,Vt,an){if(!arguments.length)delete this._events;else if(typeof Lt=="object")for(var _n in Lt)this._off(_n,Lt[_n],Vt);else{Lt=Yt(Lt);for(var Bn=arguments.length===1,dr=0,jr=Lt.length;dr<jr;dr++)Bn?this._off(Lt[dr]):this._off(Lt[dr],Vt,an)}return this},_on:function(Lt,Vt,an,_n){if(typeof Vt!="function"){console.warn("wrong listener type: "+typeof Vt);return}if(this._listens(Lt,Vt,an)===!1){an===this&&(an=void 0);var Bn={fn:Vt,ctx:an};_n&&(Bn.once=!0),this._events=this._events||{},this._events[Lt]=this._events[Lt]||[],this._events[Lt].push(Bn)}},_off:function(Lt,Vt,an){var _n,Bn,dr;if(!!this._events&&(_n=this._events[Lt],!!_n)){if(arguments.length===1){if(this._firingCount)for(Bn=0,dr=_n.length;Bn<dr;Bn++)_n[Bn].fn=zt;delete this._events[Lt];return}if(typeof Vt!="function"){console.warn("wrong listener type: "+typeof Vt);return}var jr=this._listens(Lt,Vt,an);if(jr!==!1){var ri=_n[jr];this._firingCount&&(ri.fn=zt,this._events[Lt]=_n=_n.slice()),_n.splice(jr,1)}}},fire:function(Lt,Vt,an){if(!this.listens(Lt,an))return this;var _n=bt({},Vt,{type:Lt,target:this,sourceTarget:Vt&&Vt.sourceTarget||this});if(this._events){var Bn=this._events[Lt];if(Bn){this._firingCount=this._firingCount+1||1;for(var dr=0,jr=Bn.length;dr<jr;dr++){var ri=Bn[dr],hi=ri.fn;ri.once&&this.off(Lt,hi,ri.ctx),hi.call(ri.ctx||this,_n)}this._firingCount--}}return an&&this._propagateEvent(_n),this},listens:function(Lt,Vt,an,_n){typeof Lt!="string"&&console.warn('"string" type argument expected');var Bn=Vt;typeof Vt!="function"&&(_n=!!Vt,Bn=void 0,an=void 0);var dr=this._events&&this._events[Lt];if(dr&&dr.length&&this._listens(Lt,Bn,an)!==!1)return!0;if(_n){for(var jr in this._eventParents)if(this._eventParents[jr].listens(Lt,Vt,an,_n))return!0}return!1},_listens:function(Lt,Vt,an){if(!this._events)return!1;var _n=this._events[Lt]||[];if(!Vt)return!!_n.length;an===this&&(an=void 0);for(var Bn=0,dr=_n.length;Bn<dr;Bn++)if(_n[Bn].fn===Vt&&_n[Bn].ctx===an)return Bn;return!1},once:function(Lt,Vt,an){if(typeof Lt=="object")for(var _n in Lt)this._on(_n,Lt[_n],Vt,!0);else{Lt=Yt(Lt);for(var Bn=0,dr=Lt.length;Bn<dr;Bn++)this._on(Lt[Bn],Vt,an,!0)}return this},addEventParent:function(Lt){return this._eventParents=this._eventParents||{},this._eventParents[At(Lt)]=Lt,this},removeEventParent:function(Lt){return this._eventParents&&delete this._eventParents[At(Lt)],this},_propagateEvent:function(Lt){for(var Vt in this._eventParents)this._eventParents[Vt].fire(Lt.type,bt({layer:Lt.target,propagatedFrom:Lt.target},Lt),!0)}};xn.addEventListener=xn.on,xn.removeEventListener=xn.clearAllEventListeners=xn.off,xn.addOneTimeEventListener=xn.once,xn.fireEvent=xn.fire,xn.hasEventListeners=xn.listens;var Mr=pn.extend(xn);function fr(Lt,Vt,an){this.x=an?Math.round(Lt):Lt,this.y=an?Math.round(Vt):Vt}var cr=Math.trunc||function(Lt){return Lt>0?Math.floor(Lt):Math.ceil(Lt)};fr.prototype={clone:function(){return new fr(this.x,this.y)},add:function(Lt){return this.clone()._add(Gn(Lt))},_add:function(Lt){return this.x+=Lt.x,this.y+=Lt.y,this},subtract:function(Lt){return this.clone()._subtract(Gn(Lt))},_subtract:function(Lt){return this.x-=Lt.x,this.y-=Lt.y,this},divideBy:function(Lt){return this.clone()._divideBy(Lt)},_divideBy:function(Lt){return this.x/=Lt,this.y/=Lt,this},multiplyBy:function(Lt){return this.clone()._multiplyBy(Lt)},_multiplyBy:function(Lt){return this.x*=Lt,this.y*=Lt,this},scaleBy:function(Lt){return new fr(this.x*Lt.x,this.y*Lt.y)},unscaleBy:function(Lt){return new fr(this.x/Lt.x,this.y/Lt.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=cr(this.x),this.y=cr(this.y),this},distanceTo:function(Lt){Lt=Gn(Lt);var Vt=Lt.x-this.x,an=Lt.y-this.y;return Math.sqrt(Vt*Vt+an*an)},equals:function(Lt){return Lt=Gn(Lt),Lt.x===this.x&&Lt.y===this.y},contains:function(Lt){return Lt=Gn(Lt),Math.abs(Lt.x)<=Math.abs(this.x)&&Math.abs(Lt.y)<=Math.abs(this.y)},toString:function(){return"Point("+$t(this.x)+", "+$t(this.y)+")"}};function Gn(Lt,Vt,an){return Lt instanceof fr?Lt:nn(Lt)?new fr(Lt[0],Lt[1]):Lt==null?Lt:typeof Lt=="object"&&"x"in Lt&&"y"in Lt?new fr(Lt.x,Lt.y):new fr(Lt,Vt,an)}function lr(Lt,Vt){if(!!Lt)for(var an=Vt?[Lt,Vt]:Lt,_n=0,Bn=an.length;_n<Bn;_n++)this.extend(an[_n])}lr.prototype={extend:function(Lt){var Vt,an;if(!Lt)return this;if(Lt instanceof fr||typeof Lt[0]=="number"||"x"in Lt)Vt=an=Gn(Lt);else if(Lt=ur(Lt),Vt=Lt.min,an=Lt.max,!Vt||!an)return this;return!this.min&&!this.max?(this.min=Vt.clone(),this.max=an.clone()):(this.min.x=Math.min(Vt.x,this.min.x),this.max.x=Math.max(an.x,this.max.x),this.min.y=Math.min(Vt.y,this.min.y),this.max.y=Math.max(an.y,this.max.y)),this},getCenter:function(Lt){return Gn((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,Lt)},getBottomLeft:function(){return Gn(this.min.x,this.max.y)},getTopRight:function(){return Gn(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(Lt){var Vt,an;return typeof Lt[0]=="number"||Lt instanceof fr?Lt=Gn(Lt):Lt=ur(Lt),Lt instanceof lr?(Vt=Lt.min,an=Lt.max):Vt=an=Lt,Vt.x>=this.min.x&&an.x<=this.max.x&&Vt.y>=this.min.y&&an.y<=this.max.y},intersects:function(Lt){Lt=ur(Lt);var Vt=this.min,an=this.max,_n=Lt.min,Bn=Lt.max,dr=Bn.x>=Vt.x&&_n.x<=an.x,jr=Bn.y>=Vt.y&&_n.y<=an.y;return dr&&jr},overlaps:function(Lt){Lt=ur(Lt);var Vt=this.min,an=this.max,_n=Lt.min,Bn=Lt.max,dr=Bn.x>Vt.x&&_n.x<an.x,jr=Bn.y>Vt.y&&_n.y<an.y;return dr&&jr},isValid:function(){return!!(this.min&&this.max)},pad:function(Lt){var Vt=this.min,an=this.max,_n=Math.abs(Vt.x-an.x)*Lt,Bn=Math.abs(Vt.y-an.y)*Lt;return ur(Gn(Vt.x-_n,Vt.y-Bn),Gn(an.x+_n,an.y+Bn))},equals:function(Lt){return Lt?(Lt=ur(Lt),this.min.equals(Lt.getTopLeft())&&this.max.equals(Lt.getBottomRight())):!1}};function ur(Lt,Vt){return!Lt||Lt instanceof lr?Lt:new lr(Lt,Vt)}function vr(Lt,Vt){if(!!Lt)for(var an=Vt?[Lt,Vt]:Lt,_n=0,Bn=an.length;_n<Bn;_n++)this.extend(an[_n])}vr.prototype={extend:function(Lt){var Vt=this._southWest,an=this._northEast,_n,Bn;if(Lt instanceof Pr)_n=Lt,Bn=Lt;else if(Lt instanceof vr){if(_n=Lt._southWest,Bn=Lt._northEast,!_n||!Bn)return this}else return Lt?this.extend(_r(Lt)||Ir(Lt)):this;return!Vt&&!an?(this._southWest=new Pr(_n.lat,_n.lng),this._northEast=new Pr(Bn.lat,Bn.lng)):(Vt.lat=Math.min(_n.lat,Vt.lat),Vt.lng=Math.min(_n.lng,Vt.lng),an.lat=Math.max(Bn.lat,an.lat),an.lng=Math.max(Bn.lng,an.lng)),this},pad:function(Lt){var Vt=this._southWest,an=this._northEast,_n=Math.abs(Vt.lat-an.lat)*Lt,Bn=Math.abs(Vt.lng-an.lng)*Lt;return new vr(new Pr(Vt.lat-_n,Vt.lng-Bn),new Pr(an.lat+_n,an.lng+Bn))},getCenter:function(){return new Pr((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Pr(this.getNorth(),this.getWest())},getSouthEast:function(){return new Pr(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(Lt){typeof Lt[0]=="number"||Lt instanceof Pr||"lat"in Lt?Lt=_r(Lt):Lt=Ir(Lt);var Vt=this._southWest,an=this._northEast,_n,Bn;return Lt instanceof vr?(_n=Lt.getSouthWest(),Bn=Lt.getNorthEast()):_n=Bn=Lt,_n.lat>=Vt.lat&&Bn.lat<=an.lat&&_n.lng>=Vt.lng&&Bn.lng<=an.lng},intersects:function(Lt){Lt=Ir(Lt);var Vt=this._southWest,an=this._northEast,_n=Lt.getSouthWest(),Bn=Lt.getNorthEast(),dr=Bn.lat>=Vt.lat&&_n.lat<=an.lat,jr=Bn.lng>=Vt.lng&&_n.lng<=an.lng;return dr&&jr},overlaps:function(Lt){Lt=Ir(Lt);var Vt=this._southWest,an=this._northEast,_n=Lt.getSouthWest(),Bn=Lt.getNorthEast(),dr=Bn.lat>Vt.lat&&_n.lat<an.lat,jr=Bn.lng>Vt.lng&&_n.lng<an.lng;return dr&&jr},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(Lt,Vt){return Lt?(Lt=Ir(Lt),this._southWest.equals(Lt.getSouthWest(),Vt)&&this._northEast.equals(Lt.getNorthEast(),Vt)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Ir(Lt,Vt){return Lt instanceof vr?Lt:new vr(Lt,Vt)}function Pr(Lt,Vt,an){if(isNaN(Lt)||isNaN(Vt))throw new Error("Invalid LatLng object: ("+Lt+", "+Vt+")");this.lat=+Lt,this.lng=+Vt,an!==void 0&&(this.alt=+an)}Pr.prototype={equals:function(Lt,Vt){if(!Lt)return!1;Lt=_r(Lt);var an=Math.max(Math.abs(this.lat-Lt.lat),Math.abs(this.lng-Lt.lng));return an<=(Vt===void 0?1e-9:Vt)},toString:function(Lt){return"LatLng("+$t(this.lat,Lt)+", "+$t(this.lng,Lt)+")"},distanceTo:function(Lt){return qn.distance(this,_r(Lt))},wrap:function(){return qn.wrapLatLng(this)},toBounds:function(Lt){var Vt=180*Lt/40075017,an=Vt/Math.cos(Math.PI/180*this.lat);return Ir([this.lat-Vt,this.lng-an],[this.lat+Vt,this.lng+an])},clone:function(){return new Pr(this.lat,this.lng,this.alt)}};function _r(Lt,Vt,an){return Lt instanceof Pr?Lt:nn(Lt)&&typeof Lt[0]!="object"?Lt.length===3?new Pr(Lt[0],Lt[1],Lt[2]):Lt.length===2?new Pr(Lt[0],Lt[1]):null:Lt==null?Lt:typeof Lt=="object"&&"lat"in Lt?new Pr(Lt.lat,"lng"in Lt?Lt.lng:Lt.lon,Lt.alt):Vt===void 0?null:new Pr(Lt,Vt,an)}var tr={latLngToPoint:function(Lt,Vt){var an=this.projection.project(Lt),_n=this.scale(Vt);return this.transformation._transform(an,_n)},pointToLatLng:function(Lt,Vt){var an=this.scale(Vt),_n=this.transformation.untransform(Lt,an);return this.projection.unproject(_n)},project:function(Lt){return this.projection.project(Lt)},unproject:function(Lt){return this.projection.unproject(Lt)},scale:function(Lt){return 256*Math.pow(2,Lt)},zoom:function(Lt){return Math.log(Lt/256)/Math.LN2},getProjectedBounds:function(Lt){if(this.infinite)return null;var Vt=this.projection.bounds,an=this.scale(Lt),_n=this.transformation.transform(Vt.min,an),Bn=this.transformation.transform(Vt.max,an);return new lr(_n,Bn)},infinite:!1,wrapLatLng:function(Lt){var Vt=this.wrapLng?Ot(Lt.lng,this.wrapLng,!0):Lt.lng,an=this.wrapLat?Ot(Lt.lat,this.wrapLat,!0):Lt.lat,_n=Lt.alt;return new Pr(an,Vt,_n)},wrapLatLngBounds:function(Lt){var Vt=Lt.getCenter(),an=this.wrapLatLng(Vt),_n=Vt.lat-an.lat,Bn=Vt.lng-an.lng;if(_n===0&&Bn===0)return Lt;var dr=Lt.getSouthWest(),jr=Lt.getNorthEast(),ri=new Pr(dr.lat-_n,dr.lng-Bn),hi=new Pr(jr.lat-_n,jr.lng-Bn);return new vr(ri,hi)}},qn=bt({},tr,{wrapLng:[-180,180],R:6371e3,distance:function(Lt,Vt){var an=Math.PI/180,_n=Lt.lat*an,Bn=Vt.lat*an,dr=Math.sin((Vt.lat-Lt.lat)*an/2),jr=Math.sin((Vt.lng-Lt.lng)*an/2),ri=dr*dr+Math.cos(_n)*Math.cos(Bn)*jr*jr,hi=2*Math.atan2(Math.sqrt(ri),Math.sqrt(1-ri));return this.R*hi}}),mr=6378137,br={R:mr,MAX_LATITUDE:85.0511287798,project:function(Lt){var Vt=Math.PI/180,an=this.MAX_LATITUDE,_n=Math.max(Math.min(an,Lt.lat),-an),Bn=Math.sin(_n*Vt);return new fr(this.R*Lt.lng*Vt,this.R*Math.log((1+Bn)/(1-Bn))/2)},unproject:function(Lt){var Vt=180/Math.PI;return new Pr((2*Math.atan(Math.exp(Lt.y/this.R))-Math.PI/2)*Vt,Lt.x*Vt/this.R)},bounds:function(){var Lt=mr*Math.PI;return new lr([-Lt,-Lt],[Lt,Lt])}()};function hr(Lt,Vt,an,_n){if(nn(Lt)){this._a=Lt[0],this._b=Lt[1],this._c=Lt[2],this._d=Lt[3];return}this._a=Lt,this._b=Vt,this._c=an,this._d=_n}hr.prototype={transform:function(Lt,Vt){return this._transform(Lt.clone(),Vt)},_transform:function(Lt,Vt){return Vt=Vt||1,Lt.x=Vt*(this._a*Lt.x+this._b),Lt.y=Vt*(this._c*Lt.y+this._d),Lt},untransform:function(Lt,Vt){return Vt=Vt||1,new fr((Lt.x/Vt-this._b)/this._a,(Lt.y/Vt-this._d)/this._c)}};function An(Lt,Vt,an,_n){return new hr(Lt,Vt,an,_n)}var rn=bt({},qn,{code:"EPSG:3857",projection:br,transformation:function(){var Lt=.5/(Math.PI*br.R);return An(Lt,.5,-Lt,.5)}()}),vn=bt({},rn,{code:"EPSG:900913"});function hn(Lt){return document.createElementNS("http://www.w3.org/2000/svg",Lt)}function zn(Lt,Vt){var an="",_n,Bn,dr,jr,ri,hi;for(_n=0,dr=Lt.length;_n<dr;_n++){for(ri=Lt[_n],Bn=0,jr=ri.length;Bn<jr;Bn++)hi=ri[Bn],an+=(Bn?"L":"M")+hi.x+" "+hi.y;an+=Vt?ji.svg?"z":"x":""}return an||"M0 0"}var On=document.documentElement.style,Er="ActiveXObject"in window,Rn=Er&&!document.addEventListener,rr="msLaunchUri"in navigator&&!("documentMode"in document),Kn=Za("webkit"),gr=Za("android"),xr=Za("android 2")||Za("android 3"),Lr=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Cr=gr&&Za("Google")&&Lr<537&&!("AudioNode"in window),Ar=!!window.opera,mi=!rr&&Za("chrome"),vi=Za("gecko")&&!Kn&&!Ar&&!Er,xi=!mi&&Za("safari"),Ci=Za("phantom"),Ei="OTransition"in On,Bi=navigator.platform.indexOf("Win")===0,Ai=Er&&"transition"in On,Fr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!xr,Ln="MozPerspective"in On,Nn=!window.L_DISABLE_3D&&(Ai||Fr||Ln)&&!Ei&&!Ci,er=typeof orientation<"u"||Za("mobile"),sr=er&&Kn,Nr=er&&Fr,Jr=!window.PointerEvent&&window.MSPointerEvent,Dr=!!(window.PointerEvent||Jr),yi="ontouchstart"in window||!!window.TouchEvent,Br=!window.L_NO_TOUCH&&(yi||Dr),Si=er&&Ar,Ni=er&&vi,Ri=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Li=function(){var Lt=!1;try{var Vt=Object.defineProperty({},"passive",{get:function(){Lt=!0}});window.addEventListener("testPassiveEventSupport",zt,Vt),window.removeEventListener("testPassiveEventSupport",zt,Vt)}catch{}return Lt}(),eo=function(){return!!document.createElement("canvas").getContext}(),Ui=!!(document.createElementNS&&hn("svg").createSVGRect),oo=!!Ui&&function(){var Lt=document.createElement("div");return Lt.innerHTML="<svg/>",(Lt.firstChild&&Lt.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),wo=!Ui&&function(){try{var Lt=document.createElement("div");Lt.innerHTML='<v:shape adj="1"/>';var Vt=Lt.firstChild;return Vt.style.behavior="url(#default#VML)",Vt&&typeof Vt.adj=="object"}catch{return!1}}(),uo=navigator.platform.indexOf("Mac")===0,Cs=navigator.platform.indexOf("Linux")===0;function Za(Lt){return navigator.userAgent.toLowerCase().indexOf(Lt)>=0}var ji={ie:Er,ielt9:Rn,edge:rr,webkit:Kn,android:gr,android23:xr,androidStock:Cr,opera:Ar,chrome:mi,gecko:vi,safari:xi,phantom:Ci,opera12:Ei,win:Bi,ie3d:Ai,webkit3d:Fr,gecko3d:Ln,any3d:Nn,mobile:er,mobileWebkit:sr,mobileWebkit3d:Nr,msPointer:Jr,pointer:Dr,touch:Br,touchNative:yi,mobileOpera:Si,mobileGecko:Ni,retina:Ri,passiveEvents:Li,canvas:eo,svg:Ui,vml:wo,inlineSvg:oo,mac:uo,linux:Cs},lo=ji.msPointer?"MSPointerDown":"pointerdown",Va=ji.msPointer?"MSPointerMove":"pointermove",Ti=ji.msPointer?"MSPointerUp":"pointerup",ca=ji.msPointer?"MSPointerCancel":"pointercancel",Sa={touchstart:lo,touchmove:Va,touchend:Ti,touchcancel:ca},Ya={touchstart:oa,touchmove:Eo,touchend:Eo,touchcancel:Eo},Hr={},ii=!1;function Ur(Lt,Vt,an){return Vt==="touchstart"&&zo(),Ya[Vt]?(an=Ya[Vt].bind(this,an),Lt.addEventListener(Sa[Vt],an,!1),an):(console.warn("wrong event specified:",Vt),zt)}function Tr(Lt,Vt,an){if(!Sa[Vt]){console.warn("wrong event specified:",Vt);return}Lt.removeEventListener(Sa[Vt],an,!1)}function Zr(Lt){Hr[Lt.pointerId]=Lt}function bi(Lt){Hr[Lt.pointerId]&&(Hr[Lt.pointerId]=Lt)}function Ii(Lt){delete Hr[Lt.pointerId]}function zo(){ii||(document.addEventListener(lo,Zr,!0),document.addEventListener(Va,bi,!0),document.addEventListener(Ti,Ii,!0),document.addEventListener(ca,Ii,!0),ii=!0)}function Eo(Lt,Vt){if(Vt.pointerType!==(Vt.MSPOINTER_TYPE_MOUSE||"mouse")){Vt.touches=[];for(var an in Hr)Vt.touches.push(Hr[an]);Vt.changedTouches=[Vt],Lt(Vt)}}function oa(Lt,Vt){Vt.MSPOINTER_TYPE_TOUCH&&Vt.pointerType===Vt.MSPOINTER_TYPE_TOUCH&&Ms(Vt),Eo(Lt,Vt)}function mo(Lt){var Vt={},an,_n;for(_n in Lt)an=Lt[_n],Vt[_n]=an&&an.bind?an.bind(Lt):an;return Lt=Vt,Vt.type="dblclick",Vt.detail=2,Vt.isTrusted=!1,Vt._simulated=!0,Vt}var $o=200;function Ja(Lt,Vt){Lt.addEventListener("dblclick",Vt);var an=0,_n;function Bn(dr){if(dr.detail!==1){_n=dr.detail;return}if(!(dr.pointerType==="mouse"||dr.sourceCapabilities&&!dr.sourceCapabilities.firesTouchEvents)){var jr=Qc(dr);if(!(jr.some(function(hi){return hi instanceof HTMLLabelElement&&hi.attributes.for})&&!jr.some(function(hi){return hi instanceof HTMLInputElement||hi instanceof HTMLSelectElement}))){var ri=Date.now();ri-an<=$o?(_n++,_n===2&&Vt(mo(dr))):_n=1,an=ri}}}return Lt.addEventListener("click",Bn),{dblclick:Vt,simDblclick:Bn}}function ys(Lt,Vt){Lt.removeEventListener("dblclick",Vt.dblclick),Lt.removeEventListener("click",Vt.simDblclick)}var vs=ec(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Zi=ec(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bo=Zi==="webkitTransition"||Zi==="OTransition"?Zi+"End":"transitionend";function ho(Lt){return typeof Lt=="string"?document.getElementById(Lt):Lt}function Fi(Lt,Vt){var an=Lt.style[Vt]||Lt.currentStyle&&Lt.currentStyle[Vt];if((!an||an==="auto")&&document.defaultView){var _n=document.defaultView.getComputedStyle(Lt,null);an=_n?_n[Vt]:null}return an==="auto"?null:an}function _o(Lt,Vt,an){var _n=document.createElement(Lt);return _n.className=Vt||"",an&&an.appendChild(_n),_n}function Or(Lt){var Vt=Lt.parentNode;Vt&&Vt.removeChild(Lt)}function tl(Lt){for(;Lt.firstChild;)Lt.removeChild(Lt.firstChild)}function Vr(Lt){var Vt=Lt.parentNode;Vt&&Vt.lastChild!==Lt&&Vt.appendChild(Lt)}function hs(Lt){var Vt=Lt.parentNode;Vt&&Vt.firstChild!==Lt&&Vt.insertBefore(Lt,Vt.firstChild)}function yc(Lt,Vt){if(Lt.classList!==void 0)return Lt.classList.contains(Vt);var an=Gi(Lt);return an.length>0&&new RegExp("(^|\\s)"+Vt+"(\\s|$)").test(an)}function Vo(Lt,Vt){if(Lt.classList!==void 0)for(var an=Yt(Vt),_n=0,Bn=an.length;_n<Bn;_n++)Lt.classList.add(an[_n]);else if(!yc(Lt,Vt)){var dr=Gi(Lt);Gc(Lt,(dr?dr+" ":"")+Vt)}}function xo(Lt,Vt){Lt.classList!==void 0?Lt.classList.remove(Vt):Gc(Lt,Bt((" "+Gi(Lt)+" ").replace(" "+Vt+" "," ")))}function Gc(Lt,Vt){Lt.className.baseVal===void 0?Lt.className=Vt:Lt.className.baseVal=Vt}function Gi(Lt){return Lt.correspondingElement&&(Lt=Lt.correspondingElement),Lt.className.baseVal===void 0?Lt.className:Lt.className.baseVal}function To(Lt,Vt){"opacity"in Lt.style?Lt.style.opacity=Vt:"filter"in Lt.style&&$s(Lt,Vt)}function $s(Lt,Vt){var an=!1,_n="DXImageTransform.Microsoft.Alpha";try{an=Lt.filters.item(_n)}catch{if(Vt===1)return}Vt=Math.round(Vt*100),an?(an.Enabled=Vt!==100,an.Opacity=Vt):Lt.style.filter+=" progid:"+_n+"(opacity="+Vt+")"}function ec(Lt){for(var Vt=document.documentElement.style,an=0;an<Lt.length;an++)if(Lt[an]in Vt)return Lt[an];return!1}function Nl(Lt,Vt,an){var _n=Vt||new fr(0,0);Lt.style[vs]=(ji.ie3d?"translate("+_n.x+"px,"+_n.y+"px)":"translate3d("+_n.x+"px,"+_n.y+"px,0)")+(an?" scale("+an+")":"")}function ls(Lt,Vt){Lt._leaflet_pos=Vt,ji.any3d?Nl(Lt,Vt):(Lt.style.left=Vt.x+"px",Lt.style.top=Vt.y+"px")}function Wo(Lt){return Lt._leaflet_pos||new fr(0,0)}var Xo,bs,Dl;if("onselectstart"in document)Xo=function(){Po(window,"selectstart",Ms)},bs=function(){fo(window,"selectstart",Ms)};else{var _s=ec(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Xo=function(){if(_s){var Lt=document.documentElement.style;Dl=Lt[_s],Lt[_s]="none"}},bs=function(){_s&&(document.documentElement.style[_s]=Dl,Dl=void 0)}}function vl(){Po(window,"dragstart",Ms)}function Ys(){fo(window,"dragstart",Ms)}var Dc,Ic;function vc(Lt){for(;Lt.tabIndex===-1;)Lt=Lt.parentNode;!Lt.style||(Gs(),Dc=Lt,Ic=Lt.style.outline,Lt.style.outline="none",Po(window,"keydown",Gs))}function Gs(){!Dc||(Dc.style.outline=Ic,Dc=void 0,Ic=void 0,fo(window,"keydown",Gs))}function cu(Lt){do Lt=Lt.parentNode;while((!Lt.offsetWidth||!Lt.offsetHeight)&&Lt!==document.body);return Lt}function uu(Lt){var Vt=Lt.getBoundingClientRect();return{x:Vt.width/Lt.offsetWidth||1,y:Vt.height/Lt.offsetHeight||1,boundingClientRect:Vt}}var Wc={__proto__:null,TRANSFORM:vs,TRANSITION:Zi,TRANSITION_END:bo,get:ho,getStyle:Fi,create:_o,remove:Or,empty:tl,toFront:Vr,toBack:hs,hasClass:yc,addClass:Vo,removeClass:xo,setClass:Gc,getClass:Gi,setOpacity:To,testProp:ec,setTransform:Nl,setPosition:ls,getPosition:Wo,get disableTextSelection(){return Xo},get enableTextSelection(){return bs},disableImageDrag:vl,enableImageDrag:Ys,preventOutline:vc,restoreOutline:Gs,getSizedParentNode:cu,getScale:uu};function Po(Lt,Vt,an,_n){if(Vt&&typeof Vt=="object")for(var Bn in Vt)Lu(Lt,Bn,Vt[Bn],an);else{Vt=Yt(Vt);for(var dr=0,jr=Vt.length;dr<jr;dr++)Lu(Lt,Vt[dr],an,_n)}return this}var As="_leaflet_events";function fo(Lt,Vt,an,_n){if(arguments.length===1)Il(Lt),delete Lt[As];else if(Vt&&typeof Vt=="object")for(var Bn in Vt)Ou(Lt,Bn,Vt[Bn],an);else if(Vt=Yt(Vt),arguments.length===2)Il(Lt,function(ri){return Kt(Vt,ri)!==-1});else for(var dr=0,jr=Vt.length;dr<jr;dr++)Ou(Lt,Vt[dr],an,_n);return this}function Il(Lt,Vt){for(var an in Lt[As]){var _n=an.split(/\d/)[0];(!Vt||Vt(_n))&&Ou(Lt,_n,null,null,an)}}var Th={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Lu(Lt,Vt,an,_n){var Bn=Vt+At(an)+(_n?"_"+At(_n):"");if(Lt[As]&&Lt[As][Bn])return this;var dr=function(ri){return an.call(_n||Lt,ri||window.event)},jr=dr;!ji.touchNative&&ji.pointer&&Vt.indexOf("touch")===0?dr=Ur(Lt,Vt,dr):ji.touch&&Vt==="dblclick"?dr=Ja(Lt,dr):"addEventListener"in Lt?Vt==="touchstart"||Vt==="touchmove"||Vt==="wheel"||Vt==="mousewheel"?Lt.addEventListener(Th[Vt]||Vt,dr,ji.passiveEvents?{passive:!1}:!1):Vt==="mouseenter"||Vt==="mouseleave"?(dr=function(ri){ri=ri||window.event,Ol(Lt,ri)&&jr(ri)},Lt.addEventListener(Th[Vt],dr,!1)):Lt.addEventListener(Vt,jr,!1):Lt.attachEvent("on"+Vt,dr),Lt[As]=Lt[As]||{},Lt[As][Bn]=dr}function Ou(Lt,Vt,an,_n,Bn){Bn=Bn||Vt+At(an)+(_n?"_"+At(_n):"");var dr=Lt[As]&&Lt[As][Bn];if(!dr)return this;!ji.touchNative&&ji.pointer&&Vt.indexOf("touch")===0?Tr(Lt,Vt,dr):ji.touch&&Vt==="dblclick"?ys(Lt,dr):"removeEventListener"in Lt?Lt.removeEventListener(Th[Vt]||Vt,dr,!1):Lt.detachEvent("on"+Vt,dr),Lt[As][Bn]=null}function qc(Lt){return Lt.stopPropagation?Lt.stopPropagation():Lt.originalEvent?Lt.originalEvent._stopped=!0:Lt.cancelBubble=!0,this}function Pu(Lt){return Lu(Lt,"wheel",qc),this}function Ul(Lt){return Po(Lt,"mousedown touchstart dblclick contextmenu",qc),Lt._leaflet_disable_click=!0,this}function Ms(Lt){return Lt.preventDefault?Lt.preventDefault():Lt.returnValue=!1,this}function Ll(Lt){return Ms(Lt),qc(Lt),this}function Qc(Lt){if(Lt.composedPath)return Lt.composedPath();for(var Vt=[],an=Lt.target;an;)Vt.push(an),an=an.parentNode;return Vt}function Mh(Lt,Vt){if(!Vt)return new fr(Lt.clientX,Lt.clientY);var an=uu(Vt),_n=an.boundingClientRect;return new fr((Lt.clientX-_n.left)/an.x-Vt.clientLeft,(Lt.clientY-_n.top)/an.y-Vt.clientTop)}var _d=ji.linux&&ji.chrome?window.devicePixelRatio:ji.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Hl(Lt){return ji.edge?Lt.wheelDeltaY/2:Lt.deltaY&&Lt.deltaMode===0?-Lt.deltaY/_d:Lt.deltaY&&Lt.deltaMode===1?-Lt.deltaY*20:Lt.deltaY&&Lt.deltaMode===2?-Lt.deltaY*60:Lt.deltaX||Lt.deltaZ?0:Lt.wheelDelta?(Lt.wheelDeltaY||Lt.wheelDelta)/2:Lt.detail&&Math.abs(Lt.detail)<32765?-Lt.detail*20:Lt.detail?Lt.detail/-32765*60:0}function Ol(Lt,Vt){var an=Vt.relatedTarget;if(!an)return!0;try{for(;an&&an!==Lt;)an=an.parentNode}catch{return!1}return an!==Lt}var Bs={__proto__:null,on:Po,off:fo,stopPropagation:qc,disableScrollPropagation:Pu,disableClickPropagation:Ul,preventDefault:Ms,stop:Ll,getPropagationPath:Qc,getMousePosition:Mh,getWheelDelta:Hl,isExternalTarget:Ol,addListener:Po,removeListener:fo},th=Mr.extend({run:function(Lt,Vt,an,_n){this.stop(),this._el=Lt,this._inProgress=!0,this._duration=an||.25,this._easeOutPower=1/Math.max(_n||.5,.2),this._startPos=Wo(Lt),this._offset=Vt.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){!this._inProgress||(this._step(!0),this._complete())},_animate:function(){this._animId=Dn(this._animate,this),this._step()},_step:function(Lt){var Vt=+new Date-this._startTime,an=this._duration*1e3;Vt<an?this._runFrame(this._easeOut(Vt/an),Lt):(this._runFrame(1),this._complete())},_runFrame:function(Lt,Vt){var an=this._startPos.add(this._offset.multiplyBy(Lt));Vt&&an._round(),ls(this._el,an),this.fire("step")},_complete:function(){gn(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(Lt){return 1-Math.pow(1-Lt,this._easeOutPower)}}),Bo=Mr.extend({options:{crs:rn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(Lt,Vt){Vt=Xt(this,Vt),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(Lt),this._initLayout(),this._onResize=Et(this._onResize,this),this._initEvents(),Vt.maxBounds&&this.setMaxBounds(Vt.maxBounds),Vt.zoom!==void 0&&(this._zoom=this._limitZoom(Vt.zoom)),Vt.center&&Vt.zoom!==void 0&&this.setView(_r(Vt.center),Vt.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Zi&&ji.any3d&&!ji.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Po(this._proxy,bo,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(Lt,Vt,an){if(Vt=Vt===void 0?this._zoom:this._limitZoom(Vt),Lt=this._limitCenter(_r(Lt),Vt,this.options.maxBounds),an=an||{},this._stop(),this._loaded&&!an.reset&&an!==!0){an.animate!==void 0&&(an.zoom=bt({animate:an.animate},an.zoom),an.pan=bt({animate:an.animate,duration:an.duration},an.pan));var _n=this._zoom!==Vt?this._tryAnimatedZoom&&this._tryAnimatedZoom(Lt,Vt,an.zoom):this._tryAnimatedPan(Lt,an.pan);if(_n)return clearTimeout(this._sizeTimer),this}return this._resetView(Lt,Vt,an.pan&&an.pan.noMoveStart),this},setZoom:function(Lt,Vt){return this._loaded?this.setView(this.getCenter(),Lt,{zoom:Vt}):(this._zoom=Lt,this)},zoomIn:function(Lt,Vt){return Lt=Lt||(ji.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+Lt,Vt)},zoomOut:function(Lt,Vt){return Lt=Lt||(ji.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-Lt,Vt)},setZoomAround:function(Lt,Vt,an){var _n=this.getZoomScale(Vt),Bn=this.getSize().divideBy(2),dr=Lt instanceof fr?Lt:this.latLngToContainerPoint(Lt),jr=dr.subtract(Bn).multiplyBy(1-1/_n),ri=this.containerPointToLatLng(Bn.add(jr));return this.setView(ri,Vt,{zoom:an})},_getBoundsCenterZoom:function(Lt,Vt){Vt=Vt||{},Lt=Lt.getBounds?Lt.getBounds():Ir(Lt);var an=Gn(Vt.paddingTopLeft||Vt.padding||[0,0]),_n=Gn(Vt.paddingBottomRight||Vt.padding||[0,0]),Bn=this.getBoundsZoom(Lt,!1,an.add(_n));if(Bn=typeof Vt.maxZoom=="number"?Math.min(Vt.maxZoom,Bn):Bn,Bn===1/0)return{center:Lt.getCenter(),zoom:Bn};var dr=_n.subtract(an).divideBy(2),jr=this.project(Lt.getSouthWest(),Bn),ri=this.project(Lt.getNorthEast(),Bn),hi=this.unproject(jr.add(ri).divideBy(2).add(dr),Bn);return{center:hi,zoom:Bn}},fitBounds:function(Lt,Vt){if(Lt=Ir(Lt),!Lt.isValid())throw new Error("Bounds are not valid.");var an=this._getBoundsCenterZoom(Lt,Vt);return this.setView(an.center,an.zoom,Vt)},fitWorld:function(Lt){return this.fitBounds([[-90,-180],[90,180]],Lt)},panTo:function(Lt,Vt){return this.setView(Lt,this._zoom,{pan:Vt})},panBy:function(Lt,Vt){if(Lt=Gn(Lt).round(),Vt=Vt||{},!Lt.x&&!Lt.y)return this.fire("moveend");if(Vt.animate!==!0&&!this.getSize().contains(Lt))return this._resetView(this.unproject(this.project(this.getCenter()).add(Lt)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new th,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),Vt.noMoveStart||this.fire("movestart"),Vt.animate!==!1){Vo(this._mapPane,"leaflet-pan-anim");var an=this._getMapPanePos().subtract(Lt).round();this._panAnim.run(this._mapPane,an,Vt.duration||.25,Vt.easeLinearity)}else this._rawPanBy(Lt),this.fire("move").fire("moveend");return this},flyTo:function(Lt,Vt,an){if(an=an||{},an.animate===!1||!ji.any3d)return this.setView(Lt,Vt,an);this._stop();var _n=this.project(this.getCenter()),Bn=this.project(Lt),dr=this.getSize(),jr=this._zoom;Lt=_r(Lt),Vt=Vt===void 0?jr:Vt;var ri=Math.max(dr.x,dr.y),hi=ri*this.getZoomScale(jr,Vt),Di=Bn.distanceTo(_n)||1,no=1.42,Yo=no*no;function ka(xs){var tf=xs?-1:1,jg=xs?hi:ri,Fg=hi*hi-ri*ri+tf*Yo*Yo*Di*Di,Md=2*jg*Yo*Di,Sd=Fg/Md,Hf=Math.sqrt(Sd*Sd+1)-Sd,jp=Hf<1e-9?-18:Math.log(Hf);return jp}function wc(xs){return(Math.exp(xs)-Math.exp(-xs))/2}function Ah(xs){return(Math.exp(xs)+Math.exp(-xs))/2}function Zh(xs){return wc(xs)/Ah(xs)}var Kc=ka(0);function Ff(xs){return ri*(Ah(Kc)/Ah(Kc+no*xs))}function $p(xs){return ri*(Ah(Kc)*Zh(Kc+no*xs)-wc(Kc))/Yo}function Bg(xs){return 1-Math.pow(1-xs,1.5)}var Bp=Date.now(),Nh=(ka(1)-Kc)/no,Td=an.duration?1e3*an.duration:1e3*Nh*.8;function Uf(){var xs=(Date.now()-Bp)/Td,tf=Bg(xs)*Nh;xs<=1?(this._flyToFrame=Dn(Uf,this),this._move(this.unproject(_n.add(Bn.subtract(_n).multiplyBy($p(tf)/Di)),jr),this.getScaleZoom(ri/Ff(tf),jr),{flyTo:!0})):this._move(Lt,Vt)._moveEnd(!0)}return this._moveStart(!0,an.noMoveStart),Uf.call(this),this},flyToBounds:function(Lt,Vt){var an=this._getBoundsCenterZoom(Lt,Vt);return this.flyTo(an.center,an.zoom,Vt)},setMaxBounds:function(Lt){return Lt=Ir(Lt),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),Lt.isValid()?(this.options.maxBounds=Lt,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(Lt){var Vt=this.options.minZoom;return this.options.minZoom=Lt,this._loaded&&Vt!==Lt&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(Lt):this},setMaxZoom:function(Lt){var Vt=this.options.maxZoom;return this.options.maxZoom=Lt,this._loaded&&Vt!==Lt&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(Lt):this},panInsideBounds:function(Lt,Vt){this._enforcingBounds=!0;var an=this.getCenter(),_n=this._limitCenter(an,this._zoom,Ir(Lt));return an.equals(_n)||this.panTo(_n,Vt),this._enforcingBounds=!1,this},panInside:function(Lt,Vt){Vt=Vt||{};var an=Gn(Vt.paddingTopLeft||Vt.padding||[0,0]),_n=Gn(Vt.paddingBottomRight||Vt.padding||[0,0]),Bn=this.project(this.getCenter()),dr=this.project(Lt),jr=this.getPixelBounds(),ri=ur([jr.min.add(an),jr.max.subtract(_n)]),hi=ri.getSize();if(!ri.contains(dr)){this._enforcingBounds=!0;var Di=dr.subtract(ri.getCenter()),no=ri.extend(dr).getSize().subtract(hi);Bn.x+=Di.x<0?-no.x:no.x,Bn.y+=Di.y<0?-no.y:no.y,this.panTo(this.unproject(Bn),Vt),this._enforcingBounds=!1}return this},invalidateSize:function(Lt){if(!this._loaded)return this;Lt=bt({animate:!1,pan:!0},Lt===!0?{animate:!0}:Lt);var Vt=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var an=this.getSize(),_n=Vt.divideBy(2).round(),Bn=an.divideBy(2).round(),dr=_n.subtract(Bn);return!dr.x&&!dr.y?this:(Lt.animate&&Lt.pan?this.panBy(dr):(Lt.pan&&this._rawPanBy(dr),this.fire("move"),Lt.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Et(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:Vt,newSize:an}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(Lt){if(Lt=this._locateOptions=bt({timeout:1e4,watch:!1},Lt),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var Vt=Et(this._handleGeolocationResponse,this),an=Et(this._handleGeolocationError,this);return Lt.watch?this._locationWatchId=navigator.geolocation.watchPosition(Vt,an,Lt):navigator.geolocation.getCurrentPosition(Vt,an,Lt),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(Lt){if(!!this._container._leaflet_id){var Vt=Lt.code,an=Lt.message||(Vt===1?"permission denied":Vt===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:Vt,message:"Geolocation error: "+an+"."})}},_handleGeolocationResponse:function(Lt){if(!!this._container._leaflet_id){var Vt=Lt.coords.latitude,an=Lt.coords.longitude,_n=new Pr(Vt,an),Bn=_n.toBounds(Lt.coords.accuracy*2),dr=this._locateOptions;if(dr.setView){var jr=this.getBoundsZoom(Bn);this.setView(_n,dr.maxZoom?Math.min(jr,dr.maxZoom):jr)}var ri={latlng:_n,bounds:Bn,timestamp:Lt.timestamp};for(var hi in Lt.coords)typeof Lt.coords[hi]=="number"&&(ri[hi]=Lt.coords[hi]);this.fire("locationfound",ri)}},addHandler:function(Lt,Vt){if(!Vt)return this;var an=this[Lt]=new Vt(this);return this._handlers.push(an),this.options[Lt]&&an.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Or(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(gn(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var Lt;for(Lt in this._layers)this._layers[Lt].remove();for(Lt in this._panes)Or(this._panes[Lt]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(Lt,Vt){var an="leaflet-pane"+(Lt?" leaflet-"+Lt.replace("Pane","")+"-pane":""),_n=_o("div",an,Vt||this._mapPane);return Lt&&(this._panes[Lt]=_n),_n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var Lt=this.getPixelBounds(),Vt=this.unproject(Lt.getBottomLeft()),an=this.unproject(Lt.getTopRight());return new vr(Vt,an)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(Lt,Vt,an){Lt=Ir(Lt),an=Gn(an||[0,0]);var _n=this.getZoom()||0,Bn=this.getMinZoom(),dr=this.getMaxZoom(),jr=Lt.getNorthWest(),ri=Lt.getSouthEast(),hi=this.getSize().subtract(an),Di=ur(this.project(ri,_n),this.project(jr,_n)).getSize(),no=ji.any3d?this.options.zoomSnap:1,Yo=hi.x/Di.x,ka=hi.y/Di.y,wc=Vt?Math.max(Yo,ka):Math.min(Yo,ka);return _n=this.getScaleZoom(wc,_n),no&&(_n=Math.round(_n/(no/100))*(no/100),_n=Vt?Math.ceil(_n/no)*no:Math.floor(_n/no)*no),Math.max(Bn,Math.min(dr,_n))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new fr(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(Lt,Vt){var an=this._getTopLeftPoint(Lt,Vt);return new lr(an,an.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(Lt){return this.options.crs.getProjectedBounds(Lt===void 0?this.getZoom():Lt)},getPane:function(Lt){return typeof Lt=="string"?this._panes[Lt]:Lt},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(Lt,Vt){var an=this.options.crs;return Vt=Vt===void 0?this._zoom:Vt,an.scale(Lt)/an.scale(Vt)},getScaleZoom:function(Lt,Vt){var an=this.options.crs;Vt=Vt===void 0?this._zoom:Vt;var _n=an.zoom(Lt*an.scale(Vt));return isNaN(_n)?1/0:_n},project:function(Lt,Vt){return Vt=Vt===void 0?this._zoom:Vt,this.options.crs.latLngToPoint(_r(Lt),Vt)},unproject:function(Lt,Vt){return Vt=Vt===void 0?this._zoom:Vt,this.options.crs.pointToLatLng(Gn(Lt),Vt)},layerPointToLatLng:function(Lt){var Vt=Gn(Lt).add(this.getPixelOrigin());return this.unproject(Vt)},latLngToLayerPoint:function(Lt){var Vt=this.project(_r(Lt))._round();return Vt._subtract(this.getPixelOrigin())},wrapLatLng:function(Lt){return this.options.crs.wrapLatLng(_r(Lt))},wrapLatLngBounds:function(Lt){return this.options.crs.wrapLatLngBounds(Ir(Lt))},distance:function(Lt,Vt){return this.options.crs.distance(_r(Lt),_r(Vt))},containerPointToLayerPoint:function(Lt){return Gn(Lt).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(Lt){return Gn(Lt).add(this._getMapPanePos())},containerPointToLatLng:function(Lt){var Vt=this.containerPointToLayerPoint(Gn(Lt));return this.layerPointToLatLng(Vt)},latLngToContainerPoint:function(Lt){return this.layerPointToContainerPoint(this.latLngToLayerPoint(_r(Lt)))},mouseEventToContainerPoint:function(Lt){return Mh(Lt,this._container)},mouseEventToLayerPoint:function(Lt){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(Lt))},mouseEventToLatLng:function(Lt){return this.layerPointToLatLng(this.mouseEventToLayerPoint(Lt))},_initContainer:function(Lt){var Vt=this._container=ho(Lt);if(Vt){if(Vt._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Po(Vt,"scroll",this._onScroll,this),this._containerId=At(Vt)},_initLayout:function(){var Lt=this._container;this._fadeAnimated=this.options.fadeAnimation&&ji.any3d,Vo(Lt,"leaflet-container"+(ji.touch?" leaflet-touch":"")+(ji.retina?" leaflet-retina":"")+(ji.ielt9?" leaflet-oldie":"")+(ji.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var Vt=Fi(Lt,"position");Vt!=="absolute"&&Vt!=="relative"&&Vt!=="fixed"&&Vt!=="sticky"&&(Lt.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var Lt=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ls(this._mapPane,new fr(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Vo(Lt.markerPane,"leaflet-zoom-hide"),Vo(Lt.shadowPane,"leaflet-zoom-hide"))},_resetView:function(Lt,Vt,an){ls(this._mapPane,new fr(0,0));var _n=!this._loaded;this._loaded=!0,Vt=this._limitZoom(Vt),this.fire("viewprereset");var Bn=this._zoom!==Vt;this._moveStart(Bn,an)._move(Lt,Vt)._moveEnd(Bn),this.fire("viewreset"),_n&&this.fire("load")},_moveStart:function(Lt,Vt){return Lt&&this.fire("zoomstart"),Vt||this.fire("movestart"),this},_move:function(Lt,Vt,an,_n){Vt===void 0&&(Vt=this._zoom);var Bn=this._zoom!==Vt;return this._zoom=Vt,this._lastCenter=Lt,this._pixelOrigin=this._getNewPixelOrigin(Lt),_n?an&&an.pinch&&this.fire("zoom",an):((Bn||an&&an.pinch)&&this.fire("zoom",an),this.fire("move",an)),this},_moveEnd:function(Lt){return Lt&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return gn(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(Lt){ls(this._mapPane,this._getMapPanePos().subtract(Lt))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(Lt){this._targets={},this._targets[At(this._container)]=this;var Vt=Lt?fo:Po;Vt(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&Vt(window,"resize",this._onResize,this),ji.any3d&&this.options.transform3DLimit&&(Lt?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){gn(this._resizeRequest),this._resizeRequest=Dn(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var Lt=this._getMapPanePos();Math.max(Math.abs(Lt.x),Math.abs(Lt.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(Lt,Vt){for(var an=[],_n,Bn=Vt==="mouseout"||Vt==="mouseover",dr=Lt.target||Lt.srcElement,jr=!1;dr;){if(_n=this._targets[At(dr)],_n&&(Vt==="click"||Vt==="preclick")&&this._draggableMoved(_n)){jr=!0;break}if(_n&&_n.listens(Vt,!0)&&(Bn&&!Ol(dr,Lt)||(an.push(_n),Bn))||dr===this._container)break;dr=dr.parentNode}return!an.length&&!jr&&!Bn&&this.listens(Vt,!0)&&(an=[this]),an},_isClickDisabled:function(Lt){for(;Lt&&Lt!==this._container;){if(Lt._leaflet_disable_click)return!0;Lt=Lt.parentNode}},_handleDOMEvent:function(Lt){var Vt=Lt.target||Lt.srcElement;if(!(!this._loaded||Vt._leaflet_disable_events||Lt.type==="click"&&this._isClickDisabled(Vt))){var an=Lt.type;an==="mousedown"&&vc(Vt),this._fireDOMEvent(Lt,an)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(Lt,Vt,an){if(Lt.type==="click"){var _n=bt({},Lt);_n.type="preclick",this._fireDOMEvent(_n,_n.type,an)}var Bn=this._findEventTargets(Lt,Vt);if(an){for(var dr=[],jr=0;jr<an.length;jr++)an[jr].listens(Vt,!0)&&dr.push(an[jr]);Bn=dr.concat(Bn)}if(!!Bn.length){Vt==="contextmenu"&&Ms(Lt);var ri=Bn[0],hi={originalEvent:Lt};if(Lt.type!=="keypress"&&Lt.type!=="keydown"&&Lt.type!=="keyup"){var Di=ri.getLatLng&&(!ri._radius||ri._radius<=10);hi.containerPoint=Di?this.latLngToContainerPoint(ri.getLatLng()):this.mouseEventToContainerPoint(Lt),hi.layerPoint=this.containerPointToLayerPoint(hi.containerPoint),hi.latlng=Di?ri.getLatLng():this.layerPointToLatLng(hi.layerPoint)}for(jr=0;jr<Bn.length;jr++)if(Bn[jr].fire(Vt,hi,!0),hi.originalEvent._stopped||Bn[jr].options.bubblingMouseEvents===!1&&Kt(this._mouseEvents,Vt)!==-1)return}},_draggableMoved:function(Lt){return Lt=Lt.dragging&&Lt.dragging.enabled()?Lt:this,Lt.dragging&&Lt.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var Lt=0,Vt=this._handlers.length;Lt<Vt;Lt++)this._handlers[Lt].disable()},whenReady:function(Lt,Vt){return this._loaded?Lt.call(Vt||this,{target:this}):this.on("load",Lt,Vt),this},_getMapPanePos:function(){return Wo(this._mapPane)||new fr(0,0)},_moved:function(){var Lt=this._getMapPanePos();return Lt&&!Lt.equals([0,0])},_getTopLeftPoint:function(Lt,Vt){var an=Lt&&Vt!==void 0?this._getNewPixelOrigin(Lt,Vt):this.getPixelOrigin();return an.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(Lt,Vt){var an=this.getSize()._divideBy(2);return this.project(Lt,Vt)._subtract(an)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(Lt,Vt,an){var _n=this._getNewPixelOrigin(an,Vt);return this.project(Lt,Vt)._subtract(_n)},_latLngBoundsToNewLayerBounds:function(Lt,Vt,an){var _n=this._getNewPixelOrigin(an,Vt);return ur([this.project(Lt.getSouthWest(),Vt)._subtract(_n),this.project(Lt.getNorthWest(),Vt)._subtract(_n),this.project(Lt.getSouthEast(),Vt)._subtract(_n),this.project(Lt.getNorthEast(),Vt)._subtract(_n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(Lt){return this.latLngToLayerPoint(Lt).subtract(this._getCenterLayerPoint())},_limitCenter:function(Lt,Vt,an){if(!an)return Lt;var _n=this.project(Lt,Vt),Bn=this.getSize().divideBy(2),dr=new lr(_n.subtract(Bn),_n.add(Bn)),jr=this._getBoundsOffset(dr,an,Vt);return Math.abs(jr.x)<=1&&Math.abs(jr.y)<=1?Lt:this.unproject(_n.add(jr),Vt)},_limitOffset:function(Lt,Vt){if(!Vt)return Lt;var an=this.getPixelBounds(),_n=new lr(an.min.add(Lt),an.max.add(Lt));return Lt.add(this._getBoundsOffset(_n,Vt))},_getBoundsOffset:function(Lt,Vt,an){var _n=ur(this.project(Vt.getNorthEast(),an),this.project(Vt.getSouthWest(),an)),Bn=_n.min.subtract(Lt.min),dr=_n.max.subtract(Lt.max),jr=this._rebound(Bn.x,-dr.x),ri=this._rebound(Bn.y,-dr.y);return new fr(jr,ri)},_rebound:function(Lt,Vt){return Lt+Vt>0?Math.round(Lt-Vt)/2:Math.max(0,Math.ceil(Lt))-Math.max(0,Math.floor(Vt))},_limitZoom:function(Lt){var Vt=this.getMinZoom(),an=this.getMaxZoom(),_n=ji.any3d?this.options.zoomSnap:1;return _n&&(Lt=Math.round(Lt/_n)*_n),Math.max(Vt,Math.min(an,Lt))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){xo(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(Lt,Vt){var an=this._getCenterOffset(Lt)._trunc();return(Vt&&Vt.animate)!==!0&&!this.getSize().contains(an)?!1:(this.panBy(an,Vt),!0)},_createAnimProxy:function(){var Lt=this._proxy=_o("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(Lt),this.on("zoomanim",function(Vt){var an=vs,_n=this._proxy.style[an];Nl(this._proxy,this.project(Vt.center,Vt.zoom),this.getZoomScale(Vt.zoom,1)),_n===this._proxy.style[an]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Or(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var Lt=this.getCenter(),Vt=this.getZoom();Nl(this._proxy,this.project(Lt,Vt),this.getZoomScale(Vt,1))},_catchTransitionEnd:function(Lt){this._animatingZoom&&Lt.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(Lt,Vt,an){if(this._animatingZoom)return!0;if(an=an||{},!this._zoomAnimated||an.animate===!1||this._nothingToAnimate()||Math.abs(Vt-this._zoom)>this.options.zoomAnimationThreshold)return!1;var _n=this.getZoomScale(Vt),Bn=this._getCenterOffset(Lt)._divideBy(1-1/_n);return an.animate!==!0&&!this.getSize().contains(Bn)?!1:(Dn(function(){this._moveStart(!0,!1)._animateZoom(Lt,Vt,!0)},this),!0)},_animateZoom:function(Lt,Vt,an,_n){!this._mapPane||(an&&(this._animatingZoom=!0,this._animateToCenter=Lt,this._animateToZoom=Vt,Vo(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:Lt,zoom:Vt,noUpdate:_n}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Et(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){!this._animatingZoom||(this._mapPane&&xo(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function bc(Lt,Vt){return new Bo(Lt,Vt)}var Ns=pn.extend({options:{position:"topright"},initialize:function(Lt){Xt(this,Lt)},getPosition:function(){return this.options.position},setPosition:function(Lt){var Vt=this._map;return Vt&&Vt.removeControl(this),this.options.position=Lt,Vt&&Vt.addControl(this),this},getContainer:function(){return this._container},addTo:function(Lt){this.remove(),this._map=Lt;var Vt=this._container=this.onAdd(Lt),an=this.getPosition(),_n=Lt._controlCorners[an];return Vo(Vt,"leaflet-control"),an.indexOf("bottom")!==-1?_n.insertBefore(Vt,_n.firstChild):_n.appendChild(Vt),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Or(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(Lt){this._map&&Lt&&Lt.screenX>0&&Lt.screenY>0&&this._map.getContainer().focus()}}),Ru=function(Lt){return new Ns(Lt)};Bo.include({addControl:function(Lt){return Lt.addTo(this),this},removeControl:function(Lt){return Lt.remove(),this},_initControlPos:function(){var Lt=this._controlCorners={},Vt="leaflet-",an=this._controlContainer=_o("div",Vt+"control-container",this._container);function _n(Bn,dr){var jr=Vt+Bn+" "+Vt+dr;Lt[Bn+dr]=_o("div",jr,an)}_n("top","left"),_n("top","right"),_n("bottom","left"),_n("bottom","right")},_clearControlPos:function(){for(var Lt in this._controlCorners)Or(this._controlCorners[Lt]);Or(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var bl=Ns.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(Lt,Vt,an,_n){return an<_n?-1:_n<an?1:0}},initialize:function(Lt,Vt,an){Xt(this,an),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1;for(var _n in Lt)this._addLayer(Lt[_n],_n);for(_n in Vt)this._addLayer(Vt[_n],_n,!0)},onAdd:function(Lt){this._initLayout(),this._update(),this._map=Lt,Lt.on("zoomend",this._checkDisabledLayers,this);for(var Vt=0;Vt<this._layers.length;Vt++)this._layers[Vt].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(Lt){return Ns.prototype.addTo.call(this,Lt),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var Lt=0;Lt<this._layers.length;Lt++)this._layers[Lt].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(Lt,Vt){return this._addLayer(Lt,Vt),this._map?this._update():this},addOverlay:function(Lt,Vt){return this._addLayer(Lt,Vt,!0),this._map?this._update():this},removeLayer:function(Lt){Lt.off("add remove",this._onLayerChange,this);var Vt=this._getLayer(At(Lt));return Vt&&this._layers.splice(this._layers.indexOf(Vt),1),this._map?this._update():this},expand:function(){Vo(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var Lt=this._map.getSize().y-(this._container.offsetTop+50);return Lt<this._section.clientHeight?(Vo(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=Lt+"px"):xo(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return xo(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var Lt="leaflet-control-layers",Vt=this._container=_o("div",Lt),an=this.options.collapsed;Vt.setAttribute("aria-haspopup",!0),Ul(Vt),Pu(Vt);var _n=this._section=_o("section",Lt+"-list");an&&(this._map.on("click",this.collapse,this),Po(Vt,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Bn=this._layersLink=_o("a",Lt+"-toggle",Vt);Bn.href="#",Bn.title="Layers",Bn.setAttribute("role","button"),Po(Bn,{keydown:function(dr){dr.keyCode===13&&this._expandSafely()},click:function(dr){Ms(dr),this._expandSafely()}},this),an||this.expand(),this._baseLayersList=_o("div",Lt+"-base",_n),this._separator=_o("div",Lt+"-separator",_n),this._overlaysList=_o("div",Lt+"-overlays",_n),Vt.appendChild(_n)},_getLayer:function(Lt){for(var Vt=0;Vt<this._layers.length;Vt++)if(this._layers[Vt]&&At(this._layers[Vt].layer)===Lt)return this._layers[Vt]},_addLayer:function(Lt,Vt,an){this._map&&Lt.on("add remove",this._onLayerChange,this),this._layers.push({layer:Lt,name:Vt,overlay:an}),this.options.sortLayers&&this._layers.sort(Et(function(_n,Bn){return this.options.sortFunction(_n.layer,Bn.layer,_n.name,Bn.name)},this)),this.options.autoZIndex&&Lt.setZIndex&&(this._lastZIndex++,Lt.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;tl(this._baseLayersList),tl(this._overlaysList),this._layerControlInputs=[];var Lt,Vt,an,_n,Bn=0;for(an=0;an<this._layers.length;an++)_n=this._layers[an],this._addItem(_n),Vt=Vt||_n.overlay,Lt=Lt||!_n.overlay,Bn+=_n.overlay?0:1;return this.options.hideSingleBase&&(Lt=Lt&&Bn>1,this._baseLayersList.style.display=Lt?"":"none"),this._separator.style.display=Vt&&Lt?"":"none",this},_onLayerChange:function(Lt){this._handlingClick||this._update();var Vt=this._getLayer(At(Lt.target)),an=Vt.overlay?Lt.type==="add"?"overlayadd":"overlayremove":Lt.type==="add"?"baselayerchange":null;an&&this._map.fire(an,Vt)},_createRadioElement:function(Lt,Vt){var an='<input type="radio" class="leaflet-control-layers-selector" name="'+Lt+'"'+(Vt?' checked="checked"':"")+"/>",_n=document.createElement("div");return _n.innerHTML=an,_n.firstChild},_addItem:function(Lt){var Vt=document.createElement("label"),an=this._map.hasLayer(Lt.layer),_n;Lt.overlay?(_n=document.createElement("input"),_n.type="checkbox",_n.className="leaflet-control-layers-selector",_n.defaultChecked=an):_n=this._createRadioElement("leaflet-base-layers_"+At(this),an),this._layerControlInputs.push(_n),_n.layerId=At(Lt.layer),Po(_n,"click",this._onInputClick,this);var Bn=document.createElement("span");Bn.innerHTML=" "+Lt.name;var dr=document.createElement("span");Vt.appendChild(dr),dr.appendChild(_n),dr.appendChild(Bn);var jr=Lt.overlay?this._overlaysList:this._baseLayersList;return jr.appendChild(Vt),this._checkDisabledLayers(),Vt},_onInputClick:function(){var Lt=this._layerControlInputs,Vt,an,_n=[],Bn=[];this._handlingClick=!0;for(var dr=Lt.length-1;dr>=0;dr--)Vt=Lt[dr],an=this._getLayer(Vt.layerId).layer,Vt.checked?_n.push(an):Vt.checked||Bn.push(an);for(dr=0;dr<Bn.length;dr++)this._map.hasLayer(Bn[dr])&&this._map.removeLayer(Bn[dr]);for(dr=0;dr<_n.length;dr++)this._map.hasLayer(_n[dr])||this._map.addLayer(_n[dr]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var Lt=this._layerControlInputs,Vt,an,_n=this._map.getZoom(),Bn=Lt.length-1;Bn>=0;Bn--)Vt=Lt[Bn],an=this._getLayer(Vt.layerId).layer,Vt.disabled=an.options.minZoom!==void 0&&_n<an.options.minZoom||an.options.maxZoom!==void 0&&_n>an.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var Lt=this._section;Po(Lt,"click",Ms),this.expand(),setTimeout(function(){fo(Lt,"click",Ms)})}}),tc=function(Lt,Vt,an){return new bl(Lt,Vt,an)},_l=Ns.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(Lt){var Vt="leaflet-control-zoom",an=_o("div",Vt+" leaflet-bar"),_n=this.options;return this._zoomInButton=this._createButton(_n.zoomInText,_n.zoomInTitle,Vt+"-in",an,this._zoomIn),this._zoomOutButton=this._createButton(_n.zoomOutText,_n.zoomOutTitle,Vt+"-out",an,this._zoomOut),this._updateDisabled(),Lt.on("zoomend zoomlevelschange",this._updateDisabled,this),an},onRemove:function(Lt){Lt.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(Lt){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(Lt.shiftKey?3:1))},_zoomOut:function(Lt){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(Lt.shiftKey?3:1))},_createButton:function(Lt,Vt,an,_n,Bn){var dr=_o("a",an,_n);return dr.innerHTML=Lt,dr.href="#",dr.title=Vt,dr.setAttribute("role","button"),dr.setAttribute("aria-label",Vt),Ul(dr),Po(dr,"click",Ll),Po(dr,"click",Bn,this),Po(dr,"click",this._refocusOnMap,this),dr},_updateDisabled:function(){var Lt=this._map,Vt="leaflet-disabled";xo(this._zoomInButton,Vt),xo(this._zoomOutButton,Vt),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||Lt._zoom===Lt.getMinZoom())&&(Vo(this._zoomOutButton,Vt),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||Lt._zoom===Lt.getMaxZoom())&&(Vo(this._zoomInButton,Vt),this._zoomInButton.setAttribute("aria-disabled","true"))}});Bo.mergeOptions({zoomControl:!0}),Bo.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new _l,this.addControl(this.zoomControl))});var Vl=function(Lt){return new _l(Lt)},Pl=Ns.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(Lt){var Vt="leaflet-control-scale",an=_o("div",Vt),_n=this.options;return this._addScales(_n,Vt+"-line",an),Lt.on(_n.updateWhenIdle?"moveend":"move",this._update,this),Lt.whenReady(this._update,this),an},onRemove:function(Lt){Lt.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(Lt,Vt,an){Lt.metric&&(this._mScale=_o("div",Vt,an)),Lt.imperial&&(this._iScale=_o("div",Vt,an))},_update:function(){var Lt=this._map,Vt=Lt.getSize().y/2,an=Lt.distance(Lt.containerPointToLatLng([0,Vt]),Lt.containerPointToLatLng([this.options.maxWidth,Vt]));this._updateScales(an)},_updateScales:function(Lt){this.options.metric&&Lt&&this._updateMetric(Lt),this.options.imperial&&Lt&&this._updateImperial(Lt)},_updateMetric:function(Lt){var Vt=this._getRoundNum(Lt),an=Vt<1e3?Vt+" m":Vt/1e3+" km";this._updateScale(this._mScale,an,Vt/Lt)},_updateImperial:function(Lt){var Vt=Lt*3.2808399,an,_n,Bn;Vt>5280?(an=Vt/5280,_n=this._getRoundNum(an),this._updateScale(this._iScale,_n+" mi",_n/an)):(Bn=this._getRoundNum(Vt),this._updateScale(this._iScale,Bn+" ft",Bn/Vt))},_updateScale:function(Lt,Vt,an){Lt.style.width=Math.round(this.options.maxWidth*an)+"px",Lt.innerHTML=Vt},_getRoundNum:function(Lt){var Vt=Math.pow(10,(Math.floor(Lt)+"").length-1),an=Lt/Vt;return an=an>=10?10:an>=5?5:an>=3?3:an>=2?2:1,Vt*an}}),Yl=function(Lt){return new Pl(Lt)},Sh='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',nh=Ns.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ji.inlineSvg?Sh+" ":"")+"Leaflet</a>"},initialize:function(Lt){Xt(this,Lt),this._attributions={}},onAdd:function(Lt){Lt.attributionControl=this,this._container=_o("div","leaflet-control-attribution"),Ul(this._container);for(var Vt in Lt._layers)Lt._layers[Vt].getAttribution&&this.addAttribution(Lt._layers[Vt].getAttribution());return this._update(),Lt.on("layeradd",this._addAttribution,this),this._container},onRemove:function(Lt){Lt.off("layeradd",this._addAttribution,this)},_addAttribution:function(Lt){Lt.layer.getAttribution&&(this.addAttribution(Lt.layer.getAttribution()),Lt.layer.once("remove",function(){this.removeAttribution(Lt.layer.getAttribution())},this))},setPrefix:function(Lt){return this.options.prefix=Lt,this._update(),this},addAttribution:function(Lt){return Lt?(this._attributions[Lt]||(this._attributions[Lt]=0),this._attributions[Lt]++,this._update(),this):this},removeAttribution:function(Lt){return Lt?(this._attributions[Lt]&&(this._attributions[Lt]--,this._update()),this):this},_update:function(){if(!!this._map){var Lt=[];for(var Vt in this._attributions)this._attributions[Vt]&&Lt.push(Vt);var an=[];this.options.prefix&&an.push(this.options.prefix),Lt.length&&an.push(Lt.join(", ")),this._container.innerHTML=an.join(' <span aria-hidden="true">|</span> ')}}});Bo.mergeOptions({attributionControl:!0}),Bo.addInitHook(function(){this.options.attributionControl&&new nh().addTo(this)});var rh=function(Lt){return new nh(Lt)};Ns.Layers=bl,Ns.Zoom=_l,Ns.Scale=Pl,Ns.Attribution=nh,Ru.layers=tc,Ru.zoom=Vl,Ru.scale=Yl,Ru.attribution=rh;var ya=pn.extend({initialize:function(Lt){this._map=Lt},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ya.addTo=function(Lt,Vt){return Lt.addHandler(Vt,this),this};var _c={Events:xn},nl=ji.touch?"touchstart mousedown":"mousedown",Ga=Mr.extend({options:{clickTolerance:3},initialize:function(Lt,Vt,an,_n){Xt(this,_n),this._element=Lt,this._dragStartTarget=Vt||Lt,this._preventOutline=an},enable:function(){this._enabled||(Po(this._dragStartTarget,nl,this._onDown,this),this._enabled=!0)},disable:function(){!this._enabled||(Ga._dragging===this&&this.finishDrag(!0),fo(this._dragStartTarget,nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(Lt){if(!!this._enabled&&(this._moved=!1,!yc(this._element,"leaflet-zoom-anim"))){if(Lt.touches&&Lt.touches.length!==1){Ga._dragging===this&&this.finishDrag();return}if(!(Ga._dragging||Lt.shiftKey||Lt.which!==1&&Lt.button!==1&&!Lt.touches)&&(Ga._dragging=this,this._preventOutline&&vc(this._element),vl(),Xo(),!this._moving)){this.fire("down");var Vt=Lt.touches?Lt.touches[0]:Lt,an=cu(this._element);this._startPoint=new fr(Vt.clientX,Vt.clientY),this._startPos=Wo(this._element),this._parentScale=uu(an);var _n=Lt.type==="mousedown";Po(document,_n?"mousemove":"touchmove",this._onMove,this),Po(document,_n?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(Lt){if(!!this._enabled){if(Lt.touches&&Lt.touches.length>1){this._moved=!0;return}var Vt=Lt.touches&&Lt.touches.length===1?Lt.touches[0]:Lt,an=new fr(Vt.clientX,Vt.clientY)._subtract(this._startPoint);!an.x&&!an.y||Math.abs(an.x)+Math.abs(an.y)<this.options.clickTolerance||(an.x/=this._parentScale.x,an.y/=this._parentScale.y,Ms(Lt),this._moved||(this.fire("dragstart"),this._moved=!0,Vo(document.body,"leaflet-dragging"),this._lastTarget=Lt.target||Lt.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Vo(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(an),this._moving=!0,this._lastEvent=Lt,this._updatePosition())}},_updatePosition:function(){var Lt={originalEvent:this._lastEvent};this.fire("predrag",Lt),ls(this._element,this._newPos),this.fire("drag",Lt)},_onUp:function(){!this._enabled||this.finishDrag()},finishDrag:function(Lt){xo(document.body,"leaflet-dragging"),this._lastTarget&&(xo(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),fo(document,"mousemove touchmove",this._onMove,this),fo(document,"mouseup touchend touchcancel",this._onUp,this),Ys(),bs(),this._moved&&this._moving&&this.fire("dragend",{noInertia:Lt,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,Ga._dragging=!1}});function wl(Lt,Vt){if(!Vt||!Lt.length)return Lt.slice();var an=Vt*Vt;return Lt=Gl(Lt,an),Lt=rl(Lt,an),Lt}function Co(Lt,Vt,an){return Math.sqrt(ta(Lt,Vt,an,!0))}function kh(Lt,Vt,an){return ta(Lt,Vt,an)}function rl(Lt,Vt){var an=Lt.length,_n=typeof Uint8Array!=void 0+""?Uint8Array:Array,Bn=new _n(an);Bn[0]=Bn[an-1]=1,zu(Lt,Bn,Vt,0,an-1);var dr,jr=[];for(dr=0;dr<an;dr++)Bn[dr]&&jr.push(Lt[dr]);return jr}function zu(Lt,Vt,an,_n,Bn){var dr=0,jr,ri,hi;for(ri=_n+1;ri<=Bn-1;ri++)hi=ta(Lt[ri],Lt[_n],Lt[Bn],!0),hi>dr&&(jr=ri,dr=hi);dr>an&&(Vt[jr]=1,zu(Lt,Vt,an,_n,jr),zu(Lt,Vt,an,jr,Bn))}function Gl(Lt,Vt){for(var an=[Lt[0]],_n=1,Bn=0,dr=Lt.length;_n<dr;_n++)ih(Lt[_n],Lt[Bn])>Vt&&(an.push(Lt[_n]),Bn=_n);return Bn<dr-1&&an.push(Lt[dr-1]),an}var cs;function pl(Lt,Vt,an,_n,Bn){var dr=_n?cs:Ws(Lt,an),jr=Ws(Vt,an),ri,hi,Di;for(cs=jr;;){if(!(dr|jr))return[Lt,Vt];if(dr&jr)return!1;ri=dr||jr,hi=Ls(Lt,Vt,ri,an,Bn),Di=Ws(hi,an),ri===dr?(Lt=hi,dr=Di):(Vt=hi,jr=Di)}}function Ls(Lt,Vt,an,_n,Bn){var dr=Vt.x-Lt.x,jr=Vt.y-Lt.y,ri=_n.min,hi=_n.max,Di,no;return an&8?(Di=Lt.x+dr*(hi.y-Lt.y)/jr,no=hi.y):an&4?(Di=Lt.x+dr*(ri.y-Lt.y)/jr,no=ri.y):an&2?(Di=hi.x,no=Lt.y+jr*(hi.x-Lt.x)/dr):an&1&&(Di=ri.x,no=Lt.y+jr*(ri.x-Lt.x)/dr),new fr(Di,no,Bn)}function Ws(Lt,Vt){var an=0;return Lt.x<Vt.min.x?an|=1:Lt.x>Vt.max.x&&(an|=2),Lt.y<Vt.min.y?an|=4:Lt.y>Vt.max.y&&(an|=8),an}function ih(Lt,Vt){var an=Vt.x-Lt.x,_n=Vt.y-Lt.y;return an*an+_n*_n}function ta(Lt,Vt,an,_n){var Bn=Vt.x,dr=Vt.y,jr=an.x-Bn,ri=an.y-dr,hi=jr*jr+ri*ri,Di;return hi>0&&(Di=((Lt.x-Bn)*jr+(Lt.y-dr)*ri)/hi,Di>1?(Bn=an.x,dr=an.y):Di>0&&(Bn+=jr*Di,dr+=ri*Di)),jr=Lt.x-Bn,ri=Lt.y-dr,_n?jr*jr+ri*ri:new fr(Bn,dr)}function en(Lt){return!nn(Lt[0])||typeof Lt[0][0]!="object"&&typeof Lt[0][0]<"u"}function yn(Lt){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),en(Lt)}function $n(Lt,Vt){var an,_n,Bn,dr,jr,ri,hi,Di;if(!Lt||Lt.length===0)throw new Error("latlngs not passed");en(Lt)||(console.warn("latlngs are not flat! Only the first ring will be used"),Lt=Lt[0]);var no=[];for(var Yo in Lt)no.push(Vt.project(_r(Lt[Yo])));var ka=no.length;for(an=0,_n=0;an<ka-1;an++)_n+=no[an].distanceTo(no[an+1])/2;if(_n===0)Di=no[0];else for(an=0,dr=0;an<ka-1;an++)if(jr=no[an],ri=no[an+1],Bn=jr.distanceTo(ri),dr+=Bn,dr>_n){hi=(dr-_n)/Bn,Di=[ri.x-hi*(ri.x-jr.x),ri.y-hi*(ri.y-jr.y)];break}return Vt.unproject(Gn(Di))}var nr={__proto__:null,simplify:wl,pointToSegmentDistance:Co,closestPointOnSegment:kh,clipSegment:pl,_getEdgeIntersection:Ls,_getBitCode:Ws,_sqClosestPointOnSegment:ta,isFlat:en,_flat:yn,polylineCenter:$n};function kr(Lt,Vt,an){var _n,Bn=[1,4,2,8],dr,jr,ri,hi,Di,no,Yo,ka;for(dr=0,no=Lt.length;dr<no;dr++)Lt[dr]._code=Ws(Lt[dr],Vt);for(ri=0;ri<4;ri++){for(Yo=Bn[ri],_n=[],dr=0,no=Lt.length,jr=no-1;dr<no;jr=dr++)hi=Lt[dr],Di=Lt[jr],hi._code&Yo?Di._code&Yo||(ka=Ls(Di,hi,Yo,Vt,an),ka._code=Ws(ka,Vt),_n.push(ka)):(Di._code&Yo&&(ka=Ls(Di,hi,Yo,Vt,an),ka._code=Ws(ka,Vt),_n.push(ka)),_n.push(hi));Lt=_n}return Lt}function Wr(Lt,Vt){var an,_n,Bn,dr,jr,ri,hi,Di,no;if(!Lt||Lt.length===0)throw new Error("latlngs not passed");en(Lt)||(console.warn("latlngs are not flat! Only the first ring will be used"),Lt=Lt[0]);var Yo=[];for(var ka in Lt)Yo.push(Vt.project(_r(Lt[ka])));var wc=Yo.length;for(ri=hi=Di=0,an=0,_n=wc-1;an<wc;_n=an++)Bn=Yo[an],dr=Yo[_n],jr=Bn.y*dr.x-dr.y*Bn.x,hi+=(Bn.x+dr.x)*jr,Di+=(Bn.y+dr.y)*jr,ri+=jr*3;return ri===0?no=Yo[0]:no=[hi/ri,Di/ri],Vt.unproject(Gn(no))}var ci={__proto__:null,clipPolygon:kr,polygonCenter:Wr},wi={project:function(Lt){return new fr(Lt.lng,Lt.lat)},unproject:function(Lt){return new Pr(Lt.y,Lt.x)},bounds:new lr([-180,-90],[180,90])},Yi={R:6378137,R_MINOR:6356752314245179e-9,bounds:new lr([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(Lt){var Vt=Math.PI/180,an=this.R,_n=Lt.lat*Vt,Bn=this.R_MINOR/an,dr=Math.sqrt(1-Bn*Bn),jr=dr*Math.sin(_n),ri=Math.tan(Math.PI/4-_n/2)/Math.pow((1-jr)/(1+jr),dr/2);return _n=-an*Math.log(Math.max(ri,1e-10)),new fr(Lt.lng*Vt*an,_n)},unproject:function(Lt){for(var Vt=180/Math.PI,an=this.R,_n=this.R_MINOR/an,Bn=Math.sqrt(1-_n*_n),dr=Math.exp(-Lt.y/an),jr=Math.PI/2-2*Math.atan(dr),ri=0,hi=.1,Di;ri<15&&Math.abs(hi)>1e-7;ri++)Di=Bn*Math.sin(jr),Di=Math.pow((1-Di)/(1+Di),Bn/2),hi=Math.PI/2-2*Math.atan(dr*Di)-jr,jr+=hi;return new Pr(jr*Vt,Lt.x*Vt/an)}},zi={__proto__:null,LonLat:wi,Mercator:Yi,SphericalMercator:br},Mo=bt({},qn,{code:"EPSG:3395",projection:Yi,transformation:function(){var Lt=.5/(Math.PI*Yi.R);return An(Lt,.5,-Lt,.5)}()}),cn=bt({},qn,{code:"EPSG:4326",projection:wi,transformation:An(1/180,1,-1/180,.5)}),dn=bt({},tr,{projection:wi,transformation:An(1,0,-1,0),scale:function(Lt){return Math.pow(2,Lt)},zoom:function(Lt){return Math.log(Lt)/Math.LN2},distance:function(Lt,Vt){var an=Vt.lng-Lt.lng,_n=Vt.lat-Lt.lat;return Math.sqrt(an*an+_n*_n)},infinite:!0});tr.Earth=qn,tr.EPSG3395=Mo,tr.EPSG3857=rn,tr.EPSG900913=vn,tr.EPSG4326=cn,tr.Simple=dn;var Pn=Mr.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(Lt){return Lt.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(Lt){return Lt&&Lt.removeLayer(this),this},getPane:function(Lt){return this._map.getPane(Lt?this.options[Lt]||Lt:this.options.pane)},addInteractiveTarget:function(Lt){return this._map._targets[At(Lt)]=this,this},removeInteractiveTarget:function(Lt){return delete this._map._targets[At(Lt)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(Lt){var Vt=Lt.target;if(!!Vt.hasLayer(this)){if(this._map=Vt,this._zoomAnimated=Vt._zoomAnimated,this.getEvents){var an=this.getEvents();Vt.on(an,this),this.once("remove",function(){Vt.off(an,this)},this)}this.onAdd(Vt),this.fire("add"),Vt.fire("layeradd",{layer:this})}}});Bo.include({addLayer:function(Lt){if(!Lt._layerAdd)throw new Error("The provided object is not a Layer.");var Vt=At(Lt);return this._layers[Vt]?this:(this._layers[Vt]=Lt,Lt._mapToAdd=this,Lt.beforeAdd&&Lt.beforeAdd(this),this.whenReady(Lt._layerAdd,Lt),this)},removeLayer:function(Lt){var Vt=At(Lt);return this._layers[Vt]?(this._loaded&&Lt.onRemove(this),delete this._layers[Vt],this._loaded&&(this.fire("layerremove",{layer:Lt}),Lt.fire("remove")),Lt._map=Lt._mapToAdd=null,this):this},hasLayer:function(Lt){return At(Lt)in this._layers},eachLayer:function(Lt,Vt){for(var an in this._layers)Lt.call(Vt,this._layers[an]);return this},_addLayers:function(Lt){Lt=Lt?nn(Lt)?Lt:[Lt]:[];for(var Vt=0,an=Lt.length;Vt<an;Vt++)this.addLayer(Lt[Vt])},_addZoomLimit:function(Lt){(!isNaN(Lt.options.maxZoom)||!isNaN(Lt.options.minZoom))&&(this._zoomBoundLayers[At(Lt)]=Lt,this._updateZoomLevels())},_removeZoomLimit:function(Lt){var Vt=At(Lt);this._zoomBoundLayers[Vt]&&(delete this._zoomBoundLayers[Vt],this._updateZoomLevels())},_updateZoomLevels:function(){var Lt=1/0,Vt=-1/0,an=this._getZoomSpan();for(var _n in this._zoomBoundLayers){var Bn=this._zoomBoundLayers[_n].options;Lt=Bn.minZoom===void 0?Lt:Math.min(Lt,Bn.minZoom),Vt=Bn.maxZoom===void 0?Vt:Math.max(Vt,Bn.maxZoom)}this._layersMaxZoom=Vt===-1/0?void 0:Vt,this._layersMinZoom=Lt===1/0?void 0:Lt,an!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var or=Pn.extend({initialize:function(Lt,Vt){Xt(this,Vt),this._layers={};var an,_n;if(Lt)for(an=0,_n=Lt.length;an<_n;an++)this.addLayer(Lt[an])},addLayer:function(Lt){var Vt=this.getLayerId(Lt);return this._layers[Vt]=Lt,this._map&&this._map.addLayer(Lt),this},removeLayer:function(Lt){var Vt=Lt in this._layers?Lt:this.getLayerId(Lt);return this._map&&this._layers[Vt]&&this._map.removeLayer(this._layers[Vt]),delete this._layers[Vt],this},hasLayer:function(Lt){var Vt=typeof Lt=="number"?Lt:this.getLayerId(Lt);return Vt in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(Lt){var Vt=Array.prototype.slice.call(arguments,1),an,_n;for(an in this._layers)_n=this._layers[an],_n[Lt]&&_n[Lt].apply(_n,Vt);return this},onAdd:function(Lt){this.eachLayer(Lt.addLayer,Lt)},onRemove:function(Lt){this.eachLayer(Lt.removeLayer,Lt)},eachLayer:function(Lt,Vt){for(var an in this._layers)Lt.call(Vt,this._layers[an]);return this},getLayer:function(Lt){return this._layers[Lt]},getLayers:function(){var Lt=[];return this.eachLayer(Lt.push,Lt),Lt},setZIndex:function(Lt){return this.invoke("setZIndex",Lt)},getLayerId:function(Lt){return At(Lt)}}),wr=function(Lt,Vt){return new or(Lt,Vt)},Rr=or.extend({addLayer:function(Lt){return this.hasLayer(Lt)?this:(Lt.addEventParent(this),or.prototype.addLayer.call(this,Lt),this.fire("layeradd",{layer:Lt}))},removeLayer:function(Lt){return this.hasLayer(Lt)?(Lt in this._layers&&(Lt=this._layers[Lt]),Lt.removeEventParent(this),or.prototype.removeLayer.call(this,Lt),this.fire("layerremove",{layer:Lt})):this},setStyle:function(Lt){return this.invoke("setStyle",Lt)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var Lt=new vr;for(var Vt in this._layers){var an=this._layers[Vt];Lt.extend(an.getBounds?an.getBounds():an.getLatLng())}return Lt}}),Kr=function(Lt,Vt){return new Rr(Lt,Vt)},_i=pn.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(Lt){Xt(this,Lt)},createIcon:function(Lt){return this._createIcon("icon",Lt)},createShadow:function(Lt){return this._createIcon("shadow",Lt)},_createIcon:function(Lt,Vt){var an=this._getIconUrl(Lt);if(!an){if(Lt==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var _n=this._createImg(an,Vt&&Vt.tagName==="IMG"?Vt:null);return this._setIconStyles(_n,Lt),(this.options.crossOrigin||this.options.crossOrigin==="")&&(_n.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),_n},_setIconStyles:function(Lt,Vt){var an=this.options,_n=an[Vt+"Size"];typeof _n=="number"&&(_n=[_n,_n]);var Bn=Gn(_n),dr=Gn(Vt==="shadow"&&an.shadowAnchor||an.iconAnchor||Bn&&Bn.divideBy(2,!0));Lt.className="leaflet-marker-"+Vt+" "+(an.className||""),dr&&(Lt.style.marginLeft=-dr.x+"px",Lt.style.marginTop=-dr.y+"px"),Bn&&(Lt.style.width=Bn.x+"px",Lt.style.height=Bn.y+"px")},_createImg:function(Lt,Vt){return Vt=Vt||document.createElement("img"),Vt.src=Lt,Vt},_getIconUrl:function(Lt){return ji.retina&&this.options[Lt+"RetinaUrl"]||this.options[Lt+"Url"]}});function Ji(Lt){return new _i(Lt)}var Zo=_i.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(Lt){return typeof Zo.imagePath!="string"&&(Zo.imagePath=this._detectIconPath()),(this.options.imagePath||Zo.imagePath)+_i.prototype._getIconUrl.call(this,Lt)},_stripUrl:function(Lt){var Vt=function(an,_n,Bn){var dr=_n.exec(an);return dr&&dr[Bn]};return Lt=Vt(Lt,/^url\((['"])?(.+)\1\)$/,2),Lt&&Vt(Lt,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var Lt=_o("div","leaflet-default-icon-path",document.body),Vt=Fi(Lt,"background-image")||Fi(Lt,"backgroundImage");if(document.body.removeChild(Lt),Vt=this._stripUrl(Vt),Vt)return Vt;var an=document.querySelector('link[href$="leaflet.css"]');return an?an.href.substring(0,an.href.length-11-1):""}}),na=ya.extend({initialize:function(Lt){this._marker=Lt},addHooks:function(){var Lt=this._marker._icon;this._draggable||(this._draggable=new Ga(Lt,Lt,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Vo(Lt,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&xo(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(Lt){var Vt=this._marker,an=Vt._map,_n=this._marker.options.autoPanSpeed,Bn=this._marker.options.autoPanPadding,dr=Wo(Vt._icon),jr=an.getPixelBounds(),ri=an.getPixelOrigin(),hi=ur(jr.min._subtract(ri).add(Bn),jr.max._subtract(ri).subtract(Bn));if(!hi.contains(dr)){var Di=Gn((Math.max(hi.max.x,dr.x)-hi.max.x)/(jr.max.x-hi.max.x)-(Math.min(hi.min.x,dr.x)-hi.min.x)/(jr.min.x-hi.min.x),(Math.max(hi.max.y,dr.y)-hi.max.y)/(jr.max.y-hi.max.y)-(Math.min(hi.min.y,dr.y)-hi.min.y)/(jr.min.y-hi.min.y)).multiplyBy(_n);an.panBy(Di,{animate:!1}),this._draggable._newPos._add(Di),this._draggable._startPos._add(Di),ls(Vt._icon,this._draggable._newPos),this._onDrag(Lt),this._panRequest=Dn(this._adjustPan.bind(this,Lt))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(Lt){this._marker.options.autoPan&&(gn(this._panRequest),this._panRequest=Dn(this._adjustPan.bind(this,Lt)))},_onDrag:function(Lt){var Vt=this._marker,an=Vt._shadow,_n=Wo(Vt._icon),Bn=Vt._map.layerPointToLatLng(_n);an&&ls(an,_n),Vt._latlng=Bn,Lt.latlng=Bn,Lt.oldLatLng=this._oldLatLng,Vt.fire("move",Lt).fire("drag",Lt)},_onDragEnd:function(Lt){gn(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",Lt)}}),Wa=Pn.extend({options:{icon:new Zo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(Lt,Vt){Xt(this,Vt),this._latlng=_r(Lt)},onAdd:function(Lt){this._zoomAnimated=this._zoomAnimated&&Lt.options.markerZoomAnimation,this._zoomAnimated&&Lt.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(Lt){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&Lt.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(Lt){var Vt=this._latlng;return this._latlng=_r(Lt),this.update(),this.fire("move",{oldLatLng:Vt,latlng:this._latlng})},setZIndexOffset:function(Lt){return this.options.zIndexOffset=Lt,this.update()},getIcon:function(){return this.options.icon},setIcon:function(Lt){return this.options.icon=Lt,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var Lt=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(Lt)}return this},_initIcon:function(){var Lt=this.options,Vt="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),an=Lt.icon.createIcon(this._icon),_n=!1;an!==this._icon&&(this._icon&&this._removeIcon(),_n=!0,Lt.title&&(an.title=Lt.title),an.tagName==="IMG"&&(an.alt=Lt.alt||"")),Vo(an,Vt),Lt.keyboard&&(an.tabIndex="0",an.setAttribute("role","button")),this._icon=an,Lt.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Po(an,"focus",this._panOnFocus,this);var Bn=Lt.icon.createShadow(this._shadow),dr=!1;Bn!==this._shadow&&(this._removeShadow(),dr=!0),Bn&&(Vo(Bn,Vt),Bn.alt=""),this._shadow=Bn,Lt.opacity<1&&this._updateOpacity(),_n&&this.getPane().appendChild(this._icon),this._initInteraction(),Bn&&dr&&this.getPane(Lt.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&fo(this._icon,"focus",this._panOnFocus,this),Or(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Or(this._shadow),this._shadow=null},_setPos:function(Lt){this._icon&&ls(this._icon,Lt),this._shadow&&ls(this._shadow,Lt),this._zIndex=Lt.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(Lt){this._icon&&(this._icon.style.zIndex=this._zIndex+Lt)},_animateZoom:function(Lt){var Vt=this._map._latLngToNewLayerPoint(this._latlng,Lt.zoom,Lt.center).round();this._setPos(Vt)},_initInteraction:function(){if(!!this.options.interactive&&(Vo(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),na)){var Lt=this.options.draggable;this.dragging&&(Lt=this.dragging.enabled(),this.dragging.disable()),this.dragging=new na(this),Lt&&this.dragging.enable()}},setOpacity:function(Lt){return this.options.opacity=Lt,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var Lt=this.options.opacity;this._icon&&To(this._icon,Lt),this._shadow&&To(this._shadow,Lt)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var Lt=this._map;if(!!Lt){var Vt=this.options.icon.options,an=Vt.iconSize?Gn(Vt.iconSize):Gn(0,0),_n=Vt.iconAnchor?Gn(Vt.iconAnchor):Gn(0,0);Lt.panInside(this._latlng,{paddingTopLeft:_n,paddingBottomRight:an.subtract(_n)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function qa(Lt,Vt){return new Wa(Lt,Vt)}var Jo=Pn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(Lt){this._renderer=Lt.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(Lt){return Xt(this,Lt),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&Lt&&Object.prototype.hasOwnProperty.call(Lt,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rs=Jo.extend({options:{fill:!0,radius:10},initialize:function(Lt,Vt){Xt(this,Vt),this._latlng=_r(Lt),this._radius=this.options.radius},setLatLng:function(Lt){var Vt=this._latlng;return this._latlng=_r(Lt),this.redraw(),this.fire("move",{oldLatLng:Vt,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(Lt){return this.options.radius=this._radius=Lt,this.redraw()},getRadius:function(){return this._radius},setStyle:function(Lt){var Vt=Lt&&Lt.radius||this._radius;return Jo.prototype.setStyle.call(this,Lt),this.setRadius(Vt),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var Lt=this._radius,Vt=this._radiusY||Lt,an=this._clickTolerance(),_n=[Lt+an,Vt+an];this._pxBounds=new lr(this._point.subtract(_n),this._point.add(_n))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(Lt){return Lt.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ds(Lt,Vt){return new rs(Lt,Vt)}var es=rs.extend({initialize:function(Lt,Vt,an){if(typeof Vt=="number"&&(Vt=bt({},an,{radius:Vt})),Xt(this,Vt),this._latlng=_r(Lt),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(Lt){return this._mRadius=Lt,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var Lt=[this._radius,this._radiusY||this._radius];return new vr(this._map.layerPointToLatLng(this._point.subtract(Lt)),this._map.layerPointToLatLng(this._point.add(Lt)))},setStyle:Jo.prototype.setStyle,_project:function(){var Lt=this._latlng.lng,Vt=this._latlng.lat,an=this._map,_n=an.options.crs;if(_n.distance===qn.distance){var Bn=Math.PI/180,dr=this._mRadius/qn.R/Bn,jr=an.project([Vt+dr,Lt]),ri=an.project([Vt-dr,Lt]),hi=jr.add(ri).divideBy(2),Di=an.unproject(hi).lat,no=Math.acos((Math.cos(dr*Bn)-Math.sin(Vt*Bn)*Math.sin(Di*Bn))/(Math.cos(Vt*Bn)*Math.cos(Di*Bn)))/Bn;(isNaN(no)||no===0)&&(no=dr/Math.cos(Math.PI/180*Vt)),this._point=hi.subtract(an.getPixelOrigin()),this._radius=isNaN(no)?0:hi.x-an.project([Di,Lt-no]).x,this._radiusY=hi.y-jr.y}else{var Yo=_n.unproject(_n.project(this._latlng).subtract([this._mRadius,0]));this._point=an.latLngToLayerPoint(this._latlng),this._radius=this._point.x-an.latLngToLayerPoint(Yo).x}this._updateBounds()}});function Xc(Lt,Vt,an){return new es(Lt,Vt,an)}var hu=Jo.extend({options:{smoothFactor:1,noClip:!1},initialize:function(Lt,Vt){Xt(this,Vt),this._setLatLngs(Lt)},getLatLngs:function(){return this._latlngs},setLatLngs:function(Lt){return this._setLatLngs(Lt),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(Lt){for(var Vt=1/0,an=null,_n=ta,Bn,dr,jr=0,ri=this._parts.length;jr<ri;jr++)for(var hi=this._parts[jr],Di=1,no=hi.length;Di<no;Di++){Bn=hi[Di-1],dr=hi[Di];var Yo=_n(Lt,Bn,dr,!0);Yo<Vt&&(Vt=Yo,an=_n(Lt,Bn,dr))}return an&&(an.distance=Math.sqrt(Vt)),an},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $n(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(Lt,Vt){return Vt=Vt||this._defaultShape(),Lt=_r(Lt),Vt.push(Lt),this._bounds.extend(Lt),this.redraw()},_setLatLngs:function(Lt){this._bounds=new vr,this._latlngs=this._convertLatLngs(Lt)},_defaultShape:function(){return en(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(Lt){for(var Vt=[],an=en(Lt),_n=0,Bn=Lt.length;_n<Bn;_n++)an?(Vt[_n]=_r(Lt[_n]),this._bounds.extend(Vt[_n])):Vt[_n]=this._convertLatLngs(Lt[_n]);return Vt},_project:function(){var Lt=new lr;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,Lt),this._bounds.isValid()&&Lt.isValid()&&(this._rawPxBounds=Lt,this._updateBounds())},_updateBounds:function(){var Lt=this._clickTolerance(),Vt=new fr(Lt,Lt);!this._rawPxBounds||(this._pxBounds=new lr([this._rawPxBounds.min.subtract(Vt),this._rawPxBounds.max.add(Vt)]))},_projectLatlngs:function(Lt,Vt,an){var _n=Lt[0]instanceof Pr,Bn=Lt.length,dr,jr;if(_n){for(jr=[],dr=0;dr<Bn;dr++)jr[dr]=this._map.latLngToLayerPoint(Lt[dr]),an.extend(jr[dr]);Vt.push(jr)}else for(dr=0;dr<Bn;dr++)this._projectLatlngs(Lt[dr],Vt,an)},_clipPoints:function(){var Lt=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Lt))){if(this.options.noClip){this._parts=this._rings;return}var Vt=this._parts,an,_n,Bn,dr,jr,ri,hi;for(an=0,Bn=0,dr=this._rings.length;an<dr;an++)for(hi=this._rings[an],_n=0,jr=hi.length;_n<jr-1;_n++)ri=pl(hi[_n],hi[_n+1],Lt,_n,!0),ri&&(Vt[Bn]=Vt[Bn]||[],Vt[Bn].push(ri[0]),(ri[1]!==hi[_n+1]||_n===jr-2)&&(Vt[Bn].push(ri[1]),Bn++))}},_simplifyPoints:function(){for(var Lt=this._parts,Vt=this.options.smoothFactor,an=0,_n=Lt.length;an<_n;an++)Lt[an]=wl(Lt[an],Vt)},_update:function(){!this._map||(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(Lt,Vt){var an,_n,Bn,dr,jr,ri,hi=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(Lt))return!1;for(an=0,dr=this._parts.length;an<dr;an++)for(ri=this._parts[an],_n=0,jr=ri.length,Bn=jr-1;_n<jr;Bn=_n++)if(!(!Vt&&_n===0)&&Co(Lt,ri[Bn],ri[_n])<=hi)return!0;return!1}});function If(Lt,Vt){return new hu(Lt,Vt)}hu._flat=yn;var du=hu.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wr(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(Lt){var Vt=hu.prototype._convertLatLngs.call(this,Lt),an=Vt.length;return an>=2&&Vt[0]instanceof Pr&&Vt[0].equals(Vt[an-1])&&Vt.pop(),Vt},_setLatLngs:function(Lt){hu.prototype._setLatLngs.call(this,Lt),en(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return en(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var Lt=this._renderer._bounds,Vt=this.options.weight,an=new fr(Vt,Vt);if(Lt=new lr(Lt.min.subtract(an),Lt.max.add(an)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(Lt))){if(this.options.noClip){this._parts=this._rings;return}for(var _n=0,Bn=this._rings.length,dr;_n<Bn;_n++)dr=kr(this._rings[_n],Lt,!0),dr.length&&this._parts.push(dr)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(Lt){var Vt=!1,an,_n,Bn,dr,jr,ri,hi,Di;if(!this._pxBounds||!this._pxBounds.contains(Lt))return!1;for(dr=0,hi=this._parts.length;dr<hi;dr++)for(an=this._parts[dr],jr=0,Di=an.length,ri=Di-1;jr<Di;ri=jr++)_n=an[jr],Bn=an[ri],_n.y>Lt.y!=Bn.y>Lt.y&&Lt.x<(Bn.x-_n.x)*(Lt.y-_n.y)/(Bn.y-_n.y)+_n.x&&(Vt=!Vt);return Vt||hu.prototype._containsPoint.call(this,Lt,!0)}});function Yd(Lt,Vt){return new du(Lt,Vt)}var Zc=Rr.extend({initialize:function(Lt,Vt){Xt(this,Vt),this._layers={},Lt&&this.addData(Lt)},addData:function(Lt){var Vt=nn(Lt)?Lt:Lt.features,an,_n,Bn;if(Vt){for(an=0,_n=Vt.length;an<_n;an++)Bn=Vt[an],(Bn.geometries||Bn.geometry||Bn.features||Bn.coordinates)&&this.addData(Bn);return this}var dr=this.options;if(dr.filter&&!dr.filter(Lt))return this;var jr=ts(Lt,dr);return jr?(jr.feature=Wd(Lt),jr.defaultOptions=jr.options,this.resetStyle(jr),dr.onEachFeature&&dr.onEachFeature(Lt,jr),this.addLayer(jr)):this},resetStyle:function(Lt){return Lt===void 0?this.eachLayer(this.resetStyle,this):(Lt.options=bt({},Lt.defaultOptions),this._setLayerStyle(Lt,this.options.style),this)},setStyle:function(Lt){return this.eachLayer(function(Vt){this._setLayerStyle(Vt,Lt)},this)},_setLayerStyle:function(Lt,Vt){Lt.setStyle&&(typeof Vt=="function"&&(Vt=Vt(Lt.feature)),Lt.setStyle(Vt))}});function ts(Lt,Vt){var an=Lt.type==="Feature"?Lt.geometry:Lt,_n=an?an.coordinates:null,Bn=[],dr=Vt&&Vt.pointToLayer,jr=Vt&&Vt.coordsToLatLng||oh,ri,hi,Di,no;if(!_n&&!an)return null;switch(an.type){case"Point":return ri=jr(_n),Gd(dr,Lt,ri,Vt);case"MultiPoint":for(Di=0,no=_n.length;Di<no;Di++)ri=jr(_n[Di]),Bn.push(Gd(dr,Lt,ri,Vt));return new Rr(Bn);case"LineString":case"MultiLineString":return hi=sc(_n,an.type==="LineString"?0:1,jr),new hu(hi,Vt);case"Polygon":case"MultiPolygon":return hi=sc(_n,an.type==="Polygon"?1:2,jr),new du(hi,Vt);case"GeometryCollection":for(Di=0,no=an.geometries.length;Di<no;Di++){var Yo=ts({geometry:an.geometries[Di],type:"Feature",properties:Lt.properties},Vt);Yo&&Bn.push(Yo)}return new Rr(Bn);case"FeatureCollection":for(Di=0,no=an.features.length;Di<no;Di++){var ka=ts(an.features[Di],Vt);ka&&Bn.push(ka)}return new Rr(Bn);default:throw new Error("Invalid GeoJSON object.")}}function Gd(Lt,Vt,an,_n){return Lt?Lt(Vt,an):new Wa(an,_n&&_n.markersInheritOptions&&_n)}function oh(Lt){return new Pr(Lt[1],Lt[0],Lt[2])}function sc(Lt,Vt,an){for(var _n=[],Bn=0,dr=Lt.length,jr;Bn<dr;Bn++)jr=Vt?sc(Lt[Bn],Vt-1,an):(an||oh)(Lt[Bn]),_n.push(jr);return _n}function Lc(Lt,Vt){return Lt=_r(Lt),Lt.alt!==void 0?[$t(Lt.lng,Vt),$t(Lt.lat,Vt),$t(Lt.alt,Vt)]:[$t(Lt.lng,Vt),$t(Lt.lat,Vt)]}function fu(Lt,Vt,an,_n){for(var Bn=[],dr=0,jr=Lt.length;dr<jr;dr++)Bn.push(Vt?fu(Lt[dr],en(Lt[dr])?0:Vt-1,an,_n):Lc(Lt[dr],_n));return!Vt&&an&&Bn.push(Bn[0].slice()),Bn}function ah(Lt,Vt){return Lt.feature?bt({},Lt.feature,{geometry:Vt}):Wd(Vt)}function Wd(Lt){return Lt.type==="Feature"||Lt.type==="FeatureCollection"?Lt:{type:"Feature",properties:{},geometry:Lt}}var Lf={toGeoJSON:function(Lt){return ah(this,{type:"Point",coordinates:Lc(this.getLatLng(),Lt)})}};Wa.include(Lf),es.include(Lf),rs.include(Lf),hu.include({toGeoJSON:function(Lt){var Vt=!en(this._latlngs),an=fu(this._latlngs,Vt?1:0,!1,Lt);return ah(this,{type:(Vt?"Multi":"")+"LineString",coordinates:an})}}),du.include({toGeoJSON:function(Lt){var Vt=!en(this._latlngs),an=Vt&&!en(this._latlngs[0]),_n=fu(this._latlngs,an?2:Vt?1:0,!0,Lt);return Vt||(_n=[_n]),ah(this,{type:(an?"Multi":"")+"Polygon",coordinates:_n})}}),or.include({toMultiPoint:function(Lt){var Vt=[];return this.eachLayer(function(an){Vt.push(an.toGeoJSON(Lt).geometry.coordinates)}),ah(this,{type:"MultiPoint",coordinates:Vt})},toGeoJSON:function(Lt){var Vt=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(Vt==="MultiPoint")return this.toMultiPoint(Lt);var an=Vt==="GeometryCollection",_n=[];return this.eachLayer(function(Bn){if(Bn.toGeoJSON){var dr=Bn.toGeoJSON(Lt);if(an)_n.push(dr.geometry);else{var jr=Wd(dr);jr.type==="FeatureCollection"?_n.push.apply(_n,jr.features):_n.push(jr)}}}),an?ah(this,{geometries:_n,type:"GeometryCollection"}):{type:"FeatureCollection",features:_n}}});function Of(Lt,Vt){return new Zc(Lt,Vt)}var Np=Of,Pf=Pn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(Lt,Vt,an){this._url=Lt,this._bounds=Ir(Vt),Xt(this,an)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Vo(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Or(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(Lt){return this.options.opacity=Lt,this._image&&this._updateOpacity(),this},setStyle:function(Lt){return Lt.opacity&&this.setOpacity(Lt.opacity),this},bringToFront:function(){return this._map&&Vr(this._image),this},bringToBack:function(){return this._map&&hs(this._image),this},setUrl:function(Lt){return this._url=Lt,this._image&&(this._image.src=Lt),this},setBounds:function(Lt){return this._bounds=Ir(Lt),this._map&&this._reset(),this},getEvents:function(){var Lt={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(Lt.zoomanim=this._animateZoom),Lt},setZIndex:function(Lt){return this.options.zIndex=Lt,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var Lt=this._url.tagName==="IMG",Vt=this._image=Lt?this._url:_o("img");if(Vo(Vt,"leaflet-image-layer"),this._zoomAnimated&&Vo(Vt,"leaflet-zoom-animated"),this.options.className&&Vo(Vt,this.options.className),Vt.onselectstart=zt,Vt.onmousemove=zt,Vt.onload=Et(this.fire,this,"load"),Vt.onerror=Et(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Vt.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),Lt){this._url=Vt.src;return}Vt.src=this._url,Vt.alt=this.options.alt},_animateZoom:function(Lt){var Vt=this._map.getZoomScale(Lt.zoom),an=this._map._latLngBoundsToNewLayerBounds(this._bounds,Lt.zoom,Lt.center).min;Nl(this._image,an,Vt)},_reset:function(){var Lt=this._image,Vt=new lr(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),an=Vt.getSize();ls(Lt,Vt.min),Lt.style.width=an.x+"px",Lt.style.height=an.y+"px"},_updateOpacity:function(){To(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var Lt=this.options.errorOverlayUrl;Lt&&this._url!==Lt&&(this._url=Lt,this._image.src=Lt)},getCenter:function(){return this._bounds.getCenter()}}),wd=function(Lt,Vt,an){return new Pf(Lt,Vt,an)},Og=Pf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var Lt=this._url.tagName==="VIDEO",Vt=this._image=Lt?this._url:_o("video");if(Vo(Vt,"leaflet-image-layer"),this._zoomAnimated&&Vo(Vt,"leaflet-zoom-animated"),this.options.className&&Vo(Vt,this.options.className),Vt.onselectstart=zt,Vt.onmousemove=zt,Vt.onloadeddata=Et(this.fire,this,"load"),Lt){for(var an=Vt.getElementsByTagName("source"),_n=[],Bn=0;Bn<an.length;Bn++)_n.push(an[Bn].src);this._url=an.length>0?_n:[Vt.src];return}nn(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(Vt.style,"objectFit")&&(Vt.style.objectFit="fill"),Vt.autoplay=!!this.options.autoplay,Vt.loop=!!this.options.loop,Vt.muted=!!this.options.muted,Vt.playsInline=!!this.options.playsInline;for(var dr=0;dr<this._url.length;dr++){var jr=_o("source");jr.src=this._url[dr],Vt.appendChild(jr)}}});function Pg(Lt,Vt,an){return new Og(Lt,Vt,an)}var qd=Pf.extend({_initImage:function(){var Lt=this._image=this._url;Vo(Lt,"leaflet-image-layer"),this._zoomAnimated&&Vo(Lt,"leaflet-zoom-animated"),this.options.className&&Vo(Lt,this.options.className),Lt.onselectstart=zt,Lt.onmousemove=zt}});function qs(Lt,Vt,an){return new qd(Lt,Vt,an)}var pu=Pn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(Lt,Vt){Lt&&(Lt instanceof Pr||nn(Lt))?(this._latlng=_r(Lt),Xt(this,Vt)):(Xt(this,Lt),this._source=Vt),this.options.content&&(this._content=this.options.content)},openOn:function(Lt){return Lt=arguments.length?Lt:this._source._map,Lt.hasLayer(this)||Lt.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(Lt){return this._map?this.close():(arguments.length?this._source=Lt:Lt=this._source,this._prepareOpen(),this.openOn(Lt._map)),this},onAdd:function(Lt){this._zoomAnimated=Lt._zoomAnimated,this._container||this._initLayout(),Lt._fadeAnimated&&To(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),Lt._fadeAnimated&&To(this._container,1),this.bringToFront(),this.options.interactive&&(Vo(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(Lt){Lt._fadeAnimated?(To(this._container,0),this._removeTimeout=setTimeout(Et(Or,void 0,this._container),200)):Or(this._container),this.options.interactive&&(xo(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(Lt){return this._latlng=_r(Lt),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(Lt){return this._content=Lt,this.update(),this},getElement:function(){return this._container},update:function(){!this._map||(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var Lt={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(Lt.zoomanim=this._animateZoom),Lt},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Vr(this._container),this},bringToBack:function(){return this._map&&hs(this._container),this},_prepareOpen:function(Lt){var Vt=this._source;if(!Vt._map)return!1;if(Vt instanceof Rr){Vt=null;var an=this._source._layers;for(var _n in an)if(an[_n]._map){Vt=an[_n];break}if(!Vt)return!1;this._source=Vt}if(!Lt)if(Vt.getCenter)Lt=Vt.getCenter();else if(Vt.getLatLng)Lt=Vt.getLatLng();else if(Vt.getBounds)Lt=Vt.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(Lt),this._map&&this.update(),!0},_updateContent:function(){if(!!this._content){var Lt=this._contentNode,Vt=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof Vt=="string")Lt.innerHTML=Vt;else{for(;Lt.hasChildNodes();)Lt.removeChild(Lt.firstChild);Lt.appendChild(Vt)}this.fire("contentupdate")}},_updatePosition:function(){if(!!this._map){var Lt=this._map.latLngToLayerPoint(this._latlng),Vt=Gn(this.options.offset),an=this._getAnchor();this._zoomAnimated?ls(this._container,Lt.add(an)):Vt=Vt.add(Lt).add(an);var _n=this._containerBottom=-Vt.y,Bn=this._containerLeft=-Math.round(this._containerWidth/2)+Vt.x;this._container.style.bottom=_n+"px",this._container.style.left=Bn+"px"}},_getAnchor:function(){return[0,0]}});Bo.include({_initOverlay:function(Lt,Vt,an,_n){var Bn=Vt;return Bn instanceof Lt||(Bn=new Lt(_n).setContent(Vt)),an&&Bn.setLatLng(an),Bn}}),Pn.include({_initOverlay:function(Lt,Vt,an,_n){var Bn=an;return Bn instanceof Lt?(Xt(Bn,_n),Bn._source=this):(Bn=Vt&&!_n?Vt:new Lt(_n,this),Bn.setContent(an)),Bn}});var Rl=pu.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(Lt){return Lt=arguments.length?Lt:this._source._map,!Lt.hasLayer(this)&&Lt._popup&&Lt._popup.options.autoClose&&Lt.removeLayer(Lt._popup),Lt._popup=this,pu.prototype.openOn.call(this,Lt)},onAdd:function(Lt){pu.prototype.onAdd.call(this,Lt),Lt.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Jo||this._source.on("preclick",qc))},onRemove:function(Lt){pu.prototype.onRemove.call(this,Lt),Lt.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Jo||this._source.off("preclick",qc))},getEvents:function(){var Lt=pu.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(Lt.preclick=this.close),this.options.keepInView&&(Lt.moveend=this._adjustPan),Lt},_initLayout:function(){var Lt="leaflet-popup",Vt=this._container=_o("div",Lt+" "+(this.options.className||"")+" leaflet-zoom-animated"),an=this._wrapper=_o("div",Lt+"-content-wrapper",Vt);if(this._contentNode=_o("div",Lt+"-content",an),Ul(Vt),Pu(this._contentNode),Po(Vt,"contextmenu",qc),this._tipContainer=_o("div",Lt+"-tip-container",Vt),this._tip=_o("div",Lt+"-tip",this._tipContainer),this.options.closeButton){var _n=this._closeButton=_o("a",Lt+"-close-button",Vt);_n.setAttribute("role","button"),_n.setAttribute("aria-label","Close popup"),_n.href="#close",_n.innerHTML='<span aria-hidden="true">&#215;</span>',Po(_n,"click",function(Bn){Ms(Bn),this.close()},this)}},_updateLayout:function(){var Lt=this._contentNode,Vt=Lt.style;Vt.width="",Vt.whiteSpace="nowrap";var an=Lt.offsetWidth;an=Math.min(an,this.options.maxWidth),an=Math.max(an,this.options.minWidth),Vt.width=an+1+"px",Vt.whiteSpace="",Vt.height="";var _n=Lt.offsetHeight,Bn=this.options.maxHeight,dr="leaflet-popup-scrolled";Bn&&_n>Bn?(Vt.height=Bn+"px",Vo(Lt,dr)):xo(Lt,dr),this._containerWidth=this._container.offsetWidth},_animateZoom:function(Lt){var Vt=this._map._latLngToNewLayerPoint(this._latlng,Lt.zoom,Lt.center),an=this._getAnchor();ls(this._container,Vt.add(an))},_adjustPan:function(){if(!!this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var Lt=this._map,Vt=parseInt(Fi(this._container,"marginBottom"),10)||0,an=this._container.offsetHeight+Vt,_n=this._containerWidth,Bn=new fr(this._containerLeft,-an-this._containerBottom);Bn._add(Wo(this._container));var dr=Lt.layerPointToContainerPoint(Bn),jr=Gn(this.options.autoPanPadding),ri=Gn(this.options.autoPanPaddingTopLeft||jr),hi=Gn(this.options.autoPanPaddingBottomRight||jr),Di=Lt.getSize(),no=0,Yo=0;dr.x+_n+hi.x>Di.x&&(no=dr.x+_n-Di.x+hi.x),dr.x-no-ri.x<0&&(no=dr.x-ri.x),dr.y+an+hi.y>Di.y&&(Yo=dr.y+an-Di.y+hi.y),dr.y-Yo-ri.y<0&&(Yo=dr.y-ri.y),(no||Yo)&&(this.options.keepInView&&(this._autopanning=!0),Lt.fire("autopanstart").panBy([no,Yo]))}},_getAnchor:function(){return Gn(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Dp=function(Lt,Vt){return new Rl(Lt,Vt)};Bo.mergeOptions({closePopupOnClick:!0}),Bo.include({openPopup:function(Lt,Vt,an){return this._initOverlay(Rl,Lt,Vt,an).openOn(this),this},closePopup:function(Lt){return Lt=arguments.length?Lt:this._popup,Lt&&Lt.close(),this}}),Pn.include({bindPopup:function(Lt,Vt){return this._popup=this._initOverlay(Rl,this._popup,Lt,Vt),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(Lt){return this._popup&&(this instanceof Rr||(this._popup._source=this),this._popup._prepareOpen(Lt||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(Lt){return this._popup&&this._popup.setContent(Lt),this},getPopup:function(){return this._popup},_openPopup:function(Lt){if(!(!this._popup||!this._map)){Ll(Lt);var Vt=Lt.layer||Lt.target;if(this._popup._source===Vt&&!(Vt instanceof Jo)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(Lt.latlng);return}this._popup._source=Vt,this.openPopup(Lt.latlng)}},_movePopup:function(Lt){this._popup.setLatLng(Lt.latlng)},_onKeyPress:function(Lt){Lt.originalEvent.keyCode===13&&this._openPopup(Lt)}});var Oc=pu.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(Lt){pu.prototype.onAdd.call(this,Lt),this.setOpacity(this.options.opacity),Lt.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(Lt){pu.prototype.onRemove.call(this,Lt),Lt.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var Lt=pu.prototype.getEvents.call(this);return this.options.permanent||(Lt.preclick=this.close),Lt},_initLayout:function(){var Lt="leaflet-tooltip",Vt=Lt+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_o("div",Vt),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+At(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(Lt){var Vt,an,_n=this._map,Bn=this._container,dr=_n.latLngToContainerPoint(_n.getCenter()),jr=_n.layerPointToContainerPoint(Lt),ri=this.options.direction,hi=Bn.offsetWidth,Di=Bn.offsetHeight,no=Gn(this.options.offset),Yo=this._getAnchor();ri==="top"?(Vt=hi/2,an=Di):ri==="bottom"?(Vt=hi/2,an=0):ri==="center"?(Vt=hi/2,an=Di/2):ri==="right"?(Vt=0,an=Di/2):ri==="left"?(Vt=hi,an=Di/2):jr.x<dr.x?(ri="right",Vt=0,an=Di/2):(ri="left",Vt=hi+(no.x+Yo.x)*2,an=Di/2),Lt=Lt.subtract(Gn(Vt,an,!0)).add(no).add(Yo),xo(Bn,"leaflet-tooltip-right"),xo(Bn,"leaflet-tooltip-left"),xo(Bn,"leaflet-tooltip-top"),xo(Bn,"leaflet-tooltip-bottom"),Vo(Bn,"leaflet-tooltip-"+ri),ls(Bn,Lt)},_updatePosition:function(){var Lt=this._map.latLngToLayerPoint(this._latlng);this._setPosition(Lt)},setOpacity:function(Lt){this.options.opacity=Lt,this._container&&To(this._container,Lt)},_animateZoom:function(Lt){var Vt=this._map._latLngToNewLayerPoint(this._latlng,Lt.zoom,Lt.center);this._setPosition(Vt)},_getAnchor:function(){return Gn(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qd=function(Lt,Vt){return new Oc(Lt,Vt)};Bo.include({openTooltip:function(Lt,Vt,an){return this._initOverlay(Oc,Lt,Vt,an).openOn(this),this},closeTooltip:function(Lt){return Lt.close(),this}}),Pn.include({bindTooltip:function(Lt,Vt){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Oc,this._tooltip,Lt,Vt),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(Lt){if(!(!Lt&&this._tooltipHandlersAdded)){var Vt=Lt?"off":"on",an={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?an.add=this._openTooltip:(an.mouseover=this._openTooltip,an.mouseout=this.closeTooltip,an.click=this._openTooltip,this._map?this._addFocusListeners():an.add=this._addFocusListeners),this._tooltip.options.sticky&&(an.mousemove=this._moveTooltip),this[Vt](an),this._tooltipHandlersAdded=!Lt}},openTooltip:function(Lt){return this._tooltip&&(this instanceof Rr||(this._tooltip._source=this),this._tooltip._prepareOpen(Lt)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(Lt){return this._tooltip&&this._tooltip.setContent(Lt),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(Lt){var Vt=Lt.getElement();Vt&&(Po(Vt,"focus",function(){this._tooltip._source=Lt,this.openTooltip()},this),Po(Vt,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(Lt){var Vt=Lt.getElement();Vt&&Vt.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(Lt){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=Lt.layer||Lt.target,this.openTooltip(this._tooltip.options.sticky?Lt.latlng:void 0))},_moveTooltip:function(Lt){var Vt=Lt.latlng,an,_n;this._tooltip.options.sticky&&Lt.originalEvent&&(an=this._map.mouseEventToContainerPoint(Lt.originalEvent),_n=this._map.containerPointToLayerPoint(an),Vt=this._map.layerPointToLatLng(_n)),this._tooltip.setLatLng(Vt)}});var Ip=_i.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(Lt){var Vt=Lt&&Lt.tagName==="DIV"?Lt:document.createElement("div"),an=this.options;if(an.html instanceof Element?(tl(Vt),Vt.appendChild(an.html)):Vt.innerHTML=an.html!==!1?an.html:"",an.bgPos){var _n=Gn(an.bgPos);Vt.style.backgroundPosition=-_n.x+"px "+-_n.y+"px"}return this._setIconStyles(Vt,"icon"),Vt},createShadow:function(){return null}});function Rg(Lt){return new Ip(Lt)}_i.Default=Zo;var Ch=Pn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ji.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(Lt){Xt(this,Lt)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(Lt){Lt._addZoomLimit(this)},onRemove:function(Lt){this._removeAllTiles(),Or(this._container),Lt._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Vr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(hs(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(Lt){return this.options.opacity=Lt,this._updateOpacity(),this},setZIndex:function(Lt){return this.options.zIndex=Lt,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var Lt=this._clampZoom(this._map.getZoom());Lt!==this._tileZoom&&(this._tileZoom=Lt,this._updateLevels()),this._update()}return this},getEvents:function(){var Lt={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Dt(this._onMoveEnd,this.options.updateInterval,this)),Lt.move=this._onMove),this._zoomAnimated&&(Lt.zoomanim=this._animateZoom),Lt},createTile:function(){return document.createElement("div")},getTileSize:function(){var Lt=this.options.tileSize;return Lt instanceof fr?Lt:new fr(Lt,Lt)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(Lt){for(var Vt=this.getPane().children,an=-Lt(-1/0,1/0),_n=0,Bn=Vt.length,dr;_n<Bn;_n++)dr=Vt[_n].style.zIndex,Vt[_n]!==this._container&&dr&&(an=Lt(an,+dr));isFinite(an)&&(this.options.zIndex=an+Lt(-1,1),this._updateZIndex())},_updateOpacity:function(){if(!!this._map&&!ji.ielt9){To(this._container,this.options.opacity);var Lt=+new Date,Vt=!1,an=!1;for(var _n in this._tiles){var Bn=this._tiles[_n];if(!(!Bn.current||!Bn.loaded)){var dr=Math.min(1,(Lt-Bn.loaded)/200);To(Bn.el,dr),dr<1?Vt=!0:(Bn.active?an=!0:this._onOpaqueTile(Bn),Bn.active=!0)}}an&&!this._noPrune&&this._pruneTiles(),Vt&&(gn(this._fadeFrame),this._fadeFrame=Dn(this._updateOpacity,this))}},_onOpaqueTile:zt,_initContainer:function(){this._container||(this._container=_o("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var Lt=this._tileZoom,Vt=this.options.maxZoom;if(Lt!==void 0){for(var an in this._levels)an=Number(an),this._levels[an].el.children.length||an===Lt?(this._levels[an].el.style.zIndex=Vt-Math.abs(Lt-an),this._onUpdateLevel(an)):(Or(this._levels[an].el),this._removeTilesAtZoom(an),this._onRemoveLevel(an),delete this._levels[an]);var _n=this._levels[Lt],Bn=this._map;return _n||(_n=this._levels[Lt]={},_n.el=_o("div","leaflet-tile-container leaflet-zoom-animated",this._container),_n.el.style.zIndex=Vt,_n.origin=Bn.project(Bn.unproject(Bn.getPixelOrigin()),Lt).round(),_n.zoom=Lt,this._setZoomTransform(_n,Bn.getCenter(),Bn.getZoom()),zt(_n.el.offsetWidth),this._onCreateLevel(_n)),this._level=_n,_n}},_onUpdateLevel:zt,_onRemoveLevel:zt,_onCreateLevel:zt,_pruneTiles:function(){if(!!this._map){var Lt,Vt,an=this._map.getZoom();if(an>this.options.maxZoom||an<this.options.minZoom){this._removeAllTiles();return}for(Lt in this._tiles)Vt=this._tiles[Lt],Vt.retain=Vt.current;for(Lt in this._tiles)if(Vt=this._tiles[Lt],Vt.current&&!Vt.active){var _n=Vt.coords;this._retainParent(_n.x,_n.y,_n.z,_n.z-5)||this._retainChildren(_n.x,_n.y,_n.z,_n.z+2)}for(Lt in this._tiles)this._tiles[Lt].retain||this._removeTile(Lt)}},_removeTilesAtZoom:function(Lt){for(var Vt in this._tiles)this._tiles[Vt].coords.z===Lt&&this._removeTile(Vt)},_removeAllTiles:function(){for(var Lt in this._tiles)this._removeTile(Lt)},_invalidateAll:function(){for(var Lt in this._levels)Or(this._levels[Lt].el),this._onRemoveLevel(Number(Lt)),delete this._levels[Lt];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(Lt,Vt,an,_n){var Bn=Math.floor(Lt/2),dr=Math.floor(Vt/2),jr=an-1,ri=new fr(+Bn,+dr);ri.z=+jr;var hi=this._tileCoordsToKey(ri),Di=this._tiles[hi];return Di&&Di.active?(Di.retain=!0,!0):(Di&&Di.loaded&&(Di.retain=!0),jr>_n?this._retainParent(Bn,dr,jr,_n):!1)},_retainChildren:function(Lt,Vt,an,_n){for(var Bn=2*Lt;Bn<2*Lt+2;Bn++)for(var dr=2*Vt;dr<2*Vt+2;dr++){var jr=new fr(Bn,dr);jr.z=an+1;var ri=this._tileCoordsToKey(jr),hi=this._tiles[ri];if(hi&&hi.active){hi.retain=!0;continue}else hi&&hi.loaded&&(hi.retain=!0);an+1<_n&&this._retainChildren(Bn,dr,an+1,_n)}},_resetView:function(Lt){var Vt=Lt&&(Lt.pinch||Lt.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),Vt,Vt)},_animateZoom:function(Lt){this._setView(Lt.center,Lt.zoom,!0,Lt.noUpdate)},_clampZoom:function(Lt){var Vt=this.options;return Vt.minNativeZoom!==void 0&&Lt<Vt.minNativeZoom?Vt.minNativeZoom:Vt.maxNativeZoom!==void 0&&Vt.maxNativeZoom<Lt?Vt.maxNativeZoom:Lt},_setView:function(Lt,Vt,an,_n){var Bn=Math.round(Vt);this.options.maxZoom!==void 0&&Bn>this.options.maxZoom||this.options.minZoom!==void 0&&Bn<this.options.minZoom?Bn=void 0:Bn=this._clampZoom(Bn);var dr=this.options.updateWhenZooming&&Bn!==this._tileZoom;(!_n||dr)&&(this._tileZoom=Bn,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Bn!==void 0&&this._update(Lt),an||this._pruneTiles(),this._noPrune=!!an),this._setZoomTransforms(Lt,Vt)},_setZoomTransforms:function(Lt,Vt){for(var an in this._levels)this._setZoomTransform(this._levels[an],Lt,Vt)},_setZoomTransform:function(Lt,Vt,an){var _n=this._map.getZoomScale(an,Lt.zoom),Bn=Lt.origin.multiplyBy(_n).subtract(this._map._getNewPixelOrigin(Vt,an)).round();ji.any3d?Nl(Lt.el,Bn,_n):ls(Lt.el,Bn)},_resetGrid:function(){var Lt=this._map,Vt=Lt.options.crs,an=this._tileSize=this.getTileSize(),_n=this._tileZoom,Bn=this._map.getPixelWorldBounds(this._tileZoom);Bn&&(this._globalTileRange=this._pxBoundsToTileRange(Bn)),this._wrapX=Vt.wrapLng&&!this.options.noWrap&&[Math.floor(Lt.project([0,Vt.wrapLng[0]],_n).x/an.x),Math.ceil(Lt.project([0,Vt.wrapLng[1]],_n).x/an.y)],this._wrapY=Vt.wrapLat&&!this.options.noWrap&&[Math.floor(Lt.project([Vt.wrapLat[0],0],_n).y/an.x),Math.ceil(Lt.project([Vt.wrapLat[1],0],_n).y/an.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(Lt){var Vt=this._map,an=Vt._animatingZoom?Math.max(Vt._animateToZoom,Vt.getZoom()):Vt.getZoom(),_n=Vt.getZoomScale(an,this._tileZoom),Bn=Vt.project(Lt,this._tileZoom).floor(),dr=Vt.getSize().divideBy(_n*2);return new lr(Bn.subtract(dr),Bn.add(dr))},_update:function(Lt){var Vt=this._map;if(!!Vt){var an=this._clampZoom(Vt.getZoom());if(Lt===void 0&&(Lt=Vt.getCenter()),this._tileZoom!==void 0){var _n=this._getTiledPixelBounds(Lt),Bn=this._pxBoundsToTileRange(_n),dr=Bn.getCenter(),jr=[],ri=this.options.keepBuffer,hi=new lr(Bn.getBottomLeft().subtract([ri,-ri]),Bn.getTopRight().add([ri,-ri]));if(!(isFinite(Bn.min.x)&&isFinite(Bn.min.y)&&isFinite(Bn.max.x)&&isFinite(Bn.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Di in this._tiles){var no=this._tiles[Di].coords;(no.z!==this._tileZoom||!hi.contains(new fr(no.x,no.y)))&&(this._tiles[Di].current=!1)}if(Math.abs(an-this._tileZoom)>1){this._setView(Lt,an);return}for(var Yo=Bn.min.y;Yo<=Bn.max.y;Yo++)for(var ka=Bn.min.x;ka<=Bn.max.x;ka++){var wc=new fr(ka,Yo);if(wc.z=this._tileZoom,!!this._isValidTile(wc)){var Ah=this._tiles[this._tileCoordsToKey(wc)];Ah?Ah.current=!0:jr.push(wc)}}if(jr.sort(function(Kc,Ff){return Kc.distanceTo(dr)-Ff.distanceTo(dr)}),jr.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Zh=document.createDocumentFragment();for(ka=0;ka<jr.length;ka++)this._addTile(jr[ka],Zh);this._level.el.appendChild(Zh)}}}},_isValidTile:function(Lt){var Vt=this._map.options.crs;if(!Vt.infinite){var an=this._globalTileRange;if(!Vt.wrapLng&&(Lt.x<an.min.x||Lt.x>an.max.x)||!Vt.wrapLat&&(Lt.y<an.min.y||Lt.y>an.max.y))return!1}if(!this.options.bounds)return!0;var _n=this._tileCoordsToBounds(Lt);return Ir(this.options.bounds).overlaps(_n)},_keyToBounds:function(Lt){return this._tileCoordsToBounds(this._keyToTileCoords(Lt))},_tileCoordsToNwSe:function(Lt){var Vt=this._map,an=this.getTileSize(),_n=Lt.scaleBy(an),Bn=_n.add(an),dr=Vt.unproject(_n,Lt.z),jr=Vt.unproject(Bn,Lt.z);return[dr,jr]},_tileCoordsToBounds:function(Lt){var Vt=this._tileCoordsToNwSe(Lt),an=new vr(Vt[0],Vt[1]);return this.options.noWrap||(an=this._map.wrapLatLngBounds(an)),an},_tileCoordsToKey:function(Lt){return Lt.x+":"+Lt.y+":"+Lt.z},_keyToTileCoords:function(Lt){var Vt=Lt.split(":"),an=new fr(+Vt[0],+Vt[1]);return an.z=+Vt[2],an},_removeTile:function(Lt){var Vt=this._tiles[Lt];!Vt||(Or(Vt.el),delete this._tiles[Lt],this.fire("tileunload",{tile:Vt.el,coords:this._keyToTileCoords(Lt)}))},_initTile:function(Lt){Vo(Lt,"leaflet-tile");var Vt=this.getTileSize();Lt.style.width=Vt.x+"px",Lt.style.height=Vt.y+"px",Lt.onselectstart=zt,Lt.onmousemove=zt,ji.ielt9&&this.options.opacity<1&&To(Lt,this.options.opacity)},_addTile:function(Lt,Vt){var an=this._getTilePos(Lt),_n=this._tileCoordsToKey(Lt),Bn=this.createTile(this._wrapCoords(Lt),Et(this._tileReady,this,Lt));this._initTile(Bn),this.createTile.length<2&&Dn(Et(this._tileReady,this,Lt,null,Bn)),ls(Bn,an),this._tiles[_n]={el:Bn,coords:Lt,current:!0},Vt.appendChild(Bn),this.fire("tileloadstart",{tile:Bn,coords:Lt})},_tileReady:function(Lt,Vt,an){Vt&&this.fire("tileerror",{error:Vt,tile:an,coords:Lt});var _n=this._tileCoordsToKey(Lt);an=this._tiles[_n],an&&(an.loaded=+new Date,this._map._fadeAnimated?(To(an.el,0),gn(this._fadeFrame),this._fadeFrame=Dn(this._updateOpacity,this)):(an.active=!0,this._pruneTiles()),Vt||(Vo(an.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:an.el,coords:Lt})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ji.ielt9||!this._map._fadeAnimated?Dn(this._pruneTiles,this):setTimeout(Et(this._pruneTiles,this),250)))},_getTilePos:function(Lt){return Lt.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(Lt){var Vt=new fr(this._wrapX?Ot(Lt.x,this._wrapX):Lt.x,this._wrapY?Ot(Lt.y,this._wrapY):Lt.y);return Vt.z=Lt.z,Vt},_pxBoundsToTileRange:function(Lt){var Vt=this.getTileSize();return new lr(Lt.min.unscaleBy(Vt).floor(),Lt.max.unscaleBy(Vt).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var Lt in this._tiles)if(!this._tiles[Lt].loaded)return!1;return!0}});function Fm(Lt){return new Ch(Lt)}var Qh=Ch.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(Lt,Vt){this._url=Lt,Vt=Xt(this,Vt),Vt.detectRetina&&ji.retina&&Vt.maxZoom>0?(Vt.tileSize=Math.floor(Vt.tileSize/2),Vt.zoomReverse?(Vt.zoomOffset--,Vt.minZoom=Math.min(Vt.maxZoom,Vt.minZoom+1)):(Vt.zoomOffset++,Vt.maxZoom=Math.max(Vt.minZoom,Vt.maxZoom-1)),Vt.minZoom=Math.max(0,Vt.minZoom)):Vt.zoomReverse?Vt.minZoom=Math.min(Vt.maxZoom,Vt.minZoom):Vt.maxZoom=Math.max(Vt.minZoom,Vt.maxZoom),typeof Vt.subdomains=="string"&&(Vt.subdomains=Vt.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(Lt,Vt){return this._url===Lt&&Vt===void 0&&(Vt=!0),this._url=Lt,Vt||this.redraw(),this},createTile:function(Lt,Vt){var an=document.createElement("img");return Po(an,"load",Et(this._tileOnLoad,this,Vt,an)),Po(an,"error",Et(this._tileOnError,this,Vt,an)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(an.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(an.referrerPolicy=this.options.referrerPolicy),an.alt="",an.src=this.getTileUrl(Lt),an},getTileUrl:function(Lt){var Vt={r:ji.retina?"@2x":"",s:this._getSubdomain(Lt),x:Lt.x,y:Lt.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var an=this._globalTileRange.max.y-Lt.y;this.options.tms&&(Vt.y=an),Vt["-y"]=an}return Zt(this._url,bt(Vt,this.options))},_tileOnLoad:function(Lt,Vt){ji.ielt9?setTimeout(Et(Lt,this,null,Vt),0):Lt(null,Vt)},_tileOnError:function(Lt,Vt,an){var _n=this.options.errorTileUrl;_n&&Vt.getAttribute("src")!==_n&&(Vt.src=_n),Lt(an,Vt)},_onTileRemove:function(Lt){Lt.tile.onload=null},_getZoomForUrl:function(){var Lt=this._tileZoom,Vt=this.options.maxZoom,an=this.options.zoomReverse,_n=this.options.zoomOffset;return an&&(Lt=Vt-Lt),Lt+_n},_getSubdomain:function(Lt){var Vt=Math.abs(Lt.x+Lt.y)%this.options.subdomains.length;return this.options.subdomains[Vt]},_abortLoading:function(){var Lt,Vt;for(Lt in this._tiles)if(this._tiles[Lt].coords.z!==this._tileZoom&&(Vt=this._tiles[Lt].el,Vt.onload=zt,Vt.onerror=zt,!Vt.complete)){Vt.src=ln;var an=this._tiles[Lt].coords;Or(Vt),delete this._tiles[Lt],this.fire("tileabort",{tile:Vt,coords:an})}},_removeTile:function(Lt){var Vt=this._tiles[Lt];if(!!Vt)return Vt.el.setAttribute("src",ln),Ch.prototype._removeTile.call(this,Lt)},_tileReady:function(Lt,Vt,an){if(!(!this._map||an&&an.getAttribute("src")===ln))return Ch.prototype._tileReady.call(this,Lt,Vt,an)}});function Rf(Lt,Vt){return new Qh(Lt,Vt)}var Xd=Qh.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(Lt,Vt){this._url=Lt;var an=bt({},this.defaultWmsParams);for(var _n in Vt)_n in this.options||(an[_n]=Vt[_n]);Vt=Xt(this,Vt);var Bn=Vt.detectRetina&&ji.retina?2:1,dr=this.getTileSize();an.width=dr.x*Bn,an.height=dr.y*Bn,this.wmsParams=an},onAdd:function(Lt){this._crs=this.options.crs||Lt.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var Vt=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[Vt]=this._crs.code,Qh.prototype.onAdd.call(this,Lt)},getTileUrl:function(Lt){var Vt=this._tileCoordsToNwSe(Lt),an=this._crs,_n=ur(an.project(Vt[0]),an.project(Vt[1])),Bn=_n.min,dr=_n.max,jr=(this._wmsVersion>=1.3&&this._crs===cn?[Bn.y,Bn.x,dr.y,dr.x]:[Bn.x,Bn.y,dr.x,dr.y]).join(","),ri=Qh.prototype.getTileUrl.call(this,Lt);return ri+Ht(this.wmsParams,ri,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+jr},setParams:function(Lt,Vt){return bt(this.wmsParams,Lt),Vt||this.redraw(),this}});function Zd(Lt,Vt){return new Xd(Lt,Vt)}Qh.WMS=Xd,Rf.wms=Zd;var gu=Pn.extend({options:{padding:.1},initialize:function(Lt){Xt(this,Lt),At(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&Vo(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var Lt={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(Lt.zoomanim=this._onAnimZoom),Lt},_onAnimZoom:function(Lt){this._updateTransform(Lt.center,Lt.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(Lt,Vt){var an=this._map.getZoomScale(Vt,this._zoom),_n=this._map.getSize().multiplyBy(.5+this.options.padding),Bn=this._map.project(this._center,Vt),dr=_n.multiplyBy(-an).add(Bn).subtract(this._map._getNewPixelOrigin(Lt,Vt));ji.any3d?Nl(this._container,dr,an):ls(this._container,dr)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var Lt in this._layers)this._layers[Lt]._reset()},_onZoomEnd:function(){for(var Lt in this._layers)this._layers[Lt]._project()},_updatePaths:function(){for(var Lt in this._layers)this._layers[Lt]._update()},_update:function(){var Lt=this.options.padding,Vt=this._map.getSize(),an=this._map.containerPointToLayerPoint(Vt.multiplyBy(-Lt)).round();this._bounds=new lr(an,an.add(Vt.multiplyBy(1+Lt*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zf=gu.extend({options:{tolerance:0},getEvents:function(){var Lt=gu.prototype.getEvents.call(this);return Lt.viewprereset=this._onViewPreReset,Lt},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){gu.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var Lt=this._container=document.createElement("canvas");Po(Lt,"mousemove",this._onMouseMove,this),Po(Lt,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Po(Lt,"mouseout",this._handleMouseOut,this),Lt._leaflet_disable_events=!0,this._ctx=Lt.getContext("2d")},_destroyContainer:function(){gn(this._redrawRequest),delete this._ctx,Or(this._container),fo(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var Lt;this._redrawBounds=null;for(var Vt in this._layers)Lt=this._layers[Vt],Lt._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gu.prototype._update.call(this);var Lt=this._bounds,Vt=this._container,an=Lt.getSize(),_n=ji.retina?2:1;ls(Vt,Lt.min),Vt.width=_n*an.x,Vt.height=_n*an.y,Vt.style.width=an.x+"px",Vt.style.height=an.y+"px",ji.retina&&this._ctx.scale(2,2),this._ctx.translate(-Lt.min.x,-Lt.min.y),this.fire("update")}},_reset:function(){gu.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(Lt){this._updateDashArray(Lt),this._layers[At(Lt)]=Lt;var Vt=Lt._order={layer:Lt,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=Vt),this._drawLast=Vt,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(Lt){this._requestRedraw(Lt)},_removePath:function(Lt){var Vt=Lt._order,an=Vt.next,_n=Vt.prev;an?an.prev=_n:this._drawLast=_n,_n?_n.next=an:this._drawFirst=an,delete Lt._order,delete this._layers[At(Lt)],this._requestRedraw(Lt)},_updatePath:function(Lt){this._extendRedrawBounds(Lt),Lt._project(),Lt._update(),this._requestRedraw(Lt)},_updateStyle:function(Lt){this._updateDashArray(Lt),this._requestRedraw(Lt)},_updateDashArray:function(Lt){if(typeof Lt.options.dashArray=="string"){var Vt=Lt.options.dashArray.split(/[, ]+/),an=[],_n,Bn;for(Bn=0;Bn<Vt.length;Bn++){if(_n=Number(Vt[Bn]),isNaN(_n))return;an.push(_n)}Lt.options._dashArray=an}else Lt.options._dashArray=Lt.options.dashArray},_requestRedraw:function(Lt){!this._map||(this._extendRedrawBounds(Lt),this._redrawRequest=this._redrawRequest||Dn(this._redraw,this))},_extendRedrawBounds:function(Lt){if(Lt._pxBounds){var Vt=(Lt.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new lr,this._redrawBounds.extend(Lt._pxBounds.min.subtract([Vt,Vt])),this._redrawBounds.extend(Lt._pxBounds.max.add([Vt,Vt]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var Lt=this._redrawBounds;if(Lt){var Vt=Lt.getSize();this._ctx.clearRect(Lt.min.x,Lt.min.y,Vt.x,Vt.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var Lt,Vt=this._redrawBounds;if(this._ctx.save(),Vt){var an=Vt.getSize();this._ctx.beginPath(),this._ctx.rect(Vt.min.x,Vt.min.y,an.x,an.y),this._ctx.clip()}this._drawing=!0;for(var _n=this._drawFirst;_n;_n=_n.next)Lt=_n.layer,(!Vt||Lt._pxBounds&&Lt._pxBounds.intersects(Vt))&&Lt._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(Lt,Vt){if(!!this._drawing){var an,_n,Bn,dr,jr=Lt._parts,ri=jr.length,hi=this._ctx;if(!!ri){for(hi.beginPath(),an=0;an<ri;an++){for(_n=0,Bn=jr[an].length;_n<Bn;_n++)dr=jr[an][_n],hi[_n?"lineTo":"moveTo"](dr.x,dr.y);Vt&&hi.closePath()}this._fillStroke(hi,Lt)}}},_updateCircle:function(Lt){if(!(!this._drawing||Lt._empty())){var Vt=Lt._point,an=this._ctx,_n=Math.max(Math.round(Lt._radius),1),Bn=(Math.max(Math.round(Lt._radiusY),1)||_n)/_n;Bn!==1&&(an.save(),an.scale(1,Bn)),an.beginPath(),an.arc(Vt.x,Vt.y/Bn,_n,0,Math.PI*2,!1),Bn!==1&&an.restore(),this._fillStroke(an,Lt)}},_fillStroke:function(Lt,Vt){var an=Vt.options;an.fill&&(Lt.globalAlpha=an.fillOpacity,Lt.fillStyle=an.fillColor||an.color,Lt.fill(an.fillRule||"evenodd")),an.stroke&&an.weight!==0&&(Lt.setLineDash&&Lt.setLineDash(Vt.options&&Vt.options._dashArray||[]),Lt.globalAlpha=an.opacity,Lt.lineWidth=an.weight,Lt.strokeStyle=an.color,Lt.lineCap=an.lineCap,Lt.lineJoin=an.lineJoin,Lt.stroke())},_onClick:function(Lt){for(var Vt=this._map.mouseEventToLayerPoint(Lt),an,_n,Bn=this._drawFirst;Bn;Bn=Bn.next)an=Bn.layer,an.options.interactive&&an._containsPoint(Vt)&&(!(Lt.type==="click"||Lt.type==="preclick")||!this._map._draggableMoved(an))&&(_n=an);this._fireEvent(_n?[_n]:!1,Lt)},_onMouseMove:function(Lt){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var Vt=this._map.mouseEventToLayerPoint(Lt);this._handleMouseHover(Lt,Vt)}},_handleMouseOut:function(Lt){var Vt=this._hoveredLayer;Vt&&(xo(this._container,"leaflet-interactive"),this._fireEvent([Vt],Lt,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(Lt,Vt){if(!this._mouseHoverThrottled){for(var an,_n,Bn=this._drawFirst;Bn;Bn=Bn.next)an=Bn.layer,an.options.interactive&&an._containsPoint(Vt)&&(_n=an);_n!==this._hoveredLayer&&(this._handleMouseOut(Lt),_n&&(Vo(this._container,"leaflet-interactive"),this._fireEvent([_n],Lt,"mouseover"),this._hoveredLayer=_n)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,Lt),this._mouseHoverThrottled=!0,setTimeout(Et(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(Lt,Vt,an){this._map._fireDOMEvent(Vt,an||Vt.type,Lt)},_bringToFront:function(Lt){var Vt=Lt._order;if(!!Vt){var an=Vt.next,_n=Vt.prev;if(an)an.prev=_n;else return;_n?_n.next=an:an&&(this._drawFirst=an),Vt.prev=this._drawLast,this._drawLast.next=Vt,Vt.next=null,this._drawLast=Vt,this._requestRedraw(Lt)}},_bringToBack:function(Lt){var Vt=Lt._order;if(!!Vt){var an=Vt.next,_n=Vt.prev;if(_n)_n.next=an;else return;an?an.prev=_n:_n&&(this._drawLast=_n),Vt.prev=null,Vt.next=this._drawFirst,this._drawFirst.prev=Vt,this._drawFirst=Vt,this._requestRedraw(Lt)}}});function $f(Lt){return ji.canvas?new zf(Lt):null}var Xh=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(Lt){return document.createElement("<lvml:"+Lt+' class="lvml">')}}catch{}return function(Lt){return document.createElement("<"+Lt+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Bf={_initContainer:function(){this._container=_o("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(gu.prototype._update.call(this),this.fire("update"))},_initPath:function(Lt){var Vt=Lt._container=Xh("shape");Vo(Vt,"leaflet-vml-shape "+(this.options.className||"")),Vt.coordsize="1 1",Lt._path=Xh("path"),Vt.appendChild(Lt._path),this._updateStyle(Lt),this._layers[At(Lt)]=Lt},_addPath:function(Lt){var Vt=Lt._container;this._container.appendChild(Vt),Lt.options.interactive&&Lt.addInteractiveTarget(Vt)},_removePath:function(Lt){var Vt=Lt._container;Or(Vt),Lt.removeInteractiveTarget(Vt),delete this._layers[At(Lt)]},_updateStyle:function(Lt){var Vt=Lt._stroke,an=Lt._fill,_n=Lt.options,Bn=Lt._container;Bn.stroked=!!_n.stroke,Bn.filled=!!_n.fill,_n.stroke?(Vt||(Vt=Lt._stroke=Xh("stroke")),Bn.appendChild(Vt),Vt.weight=_n.weight+"px",Vt.color=_n.color,Vt.opacity=_n.opacity,_n.dashArray?Vt.dashStyle=nn(_n.dashArray)?_n.dashArray.join(" "):_n.dashArray.replace(/( *, *)/g," "):Vt.dashStyle="",Vt.endcap=_n.lineCap.replace("butt","flat"),Vt.joinstyle=_n.lineJoin):Vt&&(Bn.removeChild(Vt),Lt._stroke=null),_n.fill?(an||(an=Lt._fill=Xh("fill")),Bn.appendChild(an),an.color=_n.fillColor||_n.color,an.opacity=_n.fillOpacity):an&&(Bn.removeChild(an),Lt._fill=null)},_updateCircle:function(Lt){var Vt=Lt._point.round(),an=Math.round(Lt._radius),_n=Math.round(Lt._radiusY||an);this._setPath(Lt,Lt._empty()?"M0 0":"AL "+Vt.x+","+Vt.y+" "+an+","+_n+" 0,"+65535*360)},_setPath:function(Lt,Vt){Lt._path.v=Vt},_bringToFront:function(Lt){Vr(Lt._container)},_bringToBack:function(Lt){hs(Lt._container)}},Wl=ji.vml?Xh:hn,Kd=gu.extend({_initContainer:function(){this._container=Wl("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Wl("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Or(this._container),fo(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){gu.prototype._update.call(this);var Lt=this._bounds,Vt=Lt.getSize(),an=this._container;(!this._svgSize||!this._svgSize.equals(Vt))&&(this._svgSize=Vt,an.setAttribute("width",Vt.x),an.setAttribute("height",Vt.y)),ls(an,Lt.min),an.setAttribute("viewBox",[Lt.min.x,Lt.min.y,Vt.x,Vt.y].join(" ")),this.fire("update")}},_initPath:function(Lt){var Vt=Lt._path=Wl("path");Lt.options.className&&Vo(Vt,Lt.options.className),Lt.options.interactive&&Vo(Vt,"leaflet-interactive"),this._updateStyle(Lt),this._layers[At(Lt)]=Lt},_addPath:function(Lt){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(Lt._path),Lt.addInteractiveTarget(Lt._path)},_removePath:function(Lt){Or(Lt._path),Lt.removeInteractiveTarget(Lt._path),delete this._layers[At(Lt)]},_updatePath:function(Lt){Lt._project(),Lt._update()},_updateStyle:function(Lt){var Vt=Lt._path,an=Lt.options;!Vt||(an.stroke?(Vt.setAttribute("stroke",an.color),Vt.setAttribute("stroke-opacity",an.opacity),Vt.setAttribute("stroke-width",an.weight),Vt.setAttribute("stroke-linecap",an.lineCap),Vt.setAttribute("stroke-linejoin",an.lineJoin),an.dashArray?Vt.setAttribute("stroke-dasharray",an.dashArray):Vt.removeAttribute("stroke-dasharray"),an.dashOffset?Vt.setAttribute("stroke-dashoffset",an.dashOffset):Vt.removeAttribute("stroke-dashoffset")):Vt.setAttribute("stroke","none"),an.fill?(Vt.setAttribute("fill",an.fillColor||an.color),Vt.setAttribute("fill-opacity",an.fillOpacity),Vt.setAttribute("fill-rule",an.fillRule||"evenodd")):Vt.setAttribute("fill","none"))},_updatePoly:function(Lt,Vt){this._setPath(Lt,zn(Lt._parts,Vt))},_updateCircle:function(Lt){var Vt=Lt._point,an=Math.max(Math.round(Lt._radius),1),_n=Math.max(Math.round(Lt._radiusY),1)||an,Bn="a"+an+","+_n+" 0 1,0 ",dr=Lt._empty()?"M0 0":"M"+(Vt.x-an)+","+Vt.y+Bn+an*2+",0 "+Bn+-an*2+",0 ";this._setPath(Lt,dr)},_setPath:function(Lt,Vt){Lt._path.setAttribute("d",Vt)},_bringToFront:function(Lt){Vr(Lt._path)},_bringToBack:function(Lt){hs(Lt._path)}});ji.vml&&Kd.include(Bf);function Lp(Lt){return ji.svg||ji.vml?new Kd(Lt):null}Bo.include({getRenderer:function(Lt){var Vt=Lt.options.renderer||this._getPaneRenderer(Lt.options.pane)||this.options.renderer||this._renderer;return Vt||(Vt=this._renderer=this._createRenderer()),this.hasLayer(Vt)||this.addLayer(Vt),Vt},_getPaneRenderer:function(Lt){if(Lt==="overlayPane"||Lt===void 0)return!1;var Vt=this._paneRenderers[Lt];return Vt===void 0&&(Vt=this._createRenderer({pane:Lt}),this._paneRenderers[Lt]=Vt),Vt},_createRenderer:function(Lt){return this.options.preferCanvas&&$f(Lt)||Lp(Lt)}});var Op=du.extend({initialize:function(Lt,Vt){du.prototype.initialize.call(this,this._boundsToLatLngs(Lt),Vt)},setBounds:function(Lt){return this.setLatLngs(this._boundsToLatLngs(Lt))},_boundsToLatLngs:function(Lt){return Lt=Ir(Lt),[Lt.getSouthWest(),Lt.getNorthWest(),Lt.getNorthEast(),Lt.getSouthEast()]}});function Pp(Lt,Vt){return new Op(Lt,Vt)}Kd.create=Wl,Kd.pointsToPath=zn,Zc.geometryToLayer=ts,Zc.coordsToLatLng=oh,Zc.coordsToLatLngs=sc,Zc.latLngToCoords=Lc,Zc.latLngsToCoords=fu,Zc.getFeature=ah,Zc.asFeature=Wd,Bo.mergeOptions({boxZoom:!0});var Rp=ya.extend({initialize:function(Lt){this._map=Lt,this._container=Lt._container,this._pane=Lt._panes.overlayPane,this._resetStateTimeout=0,Lt.on("unload",this._destroy,this)},addHooks:function(){Po(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){fo(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Or(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(Lt){if(!Lt.shiftKey||Lt.which!==1&&Lt.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Xo(),vl(),this._startPoint=this._map.mouseEventToContainerPoint(Lt),Po(document,{contextmenu:Ll,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(Lt){this._moved||(this._moved=!0,this._box=_o("div","leaflet-zoom-box",this._container),Vo(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(Lt);var Vt=new lr(this._point,this._startPoint),an=Vt.getSize();ls(this._box,Vt.min),this._box.style.width=an.x+"px",this._box.style.height=an.y+"px"},_finish:function(){this._moved&&(Or(this._box),xo(this._container,"leaflet-crosshair")),bs(),Ys(),fo(document,{contextmenu:Ll,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(Lt){if(!(Lt.which!==1&&Lt.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Et(this._resetState,this),0);var Vt=new vr(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(Vt).fire("boxzoomend",{boxZoomBounds:Vt})}},_onKeyDown:function(Lt){Lt.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Bo.addInitHook("addHandler","boxZoom",Rp),Bo.mergeOptions({doubleClickZoom:!0});var jf=ya.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(Lt){var Vt=this._map,an=Vt.getZoom(),_n=Vt.options.zoomDelta,Bn=Lt.originalEvent.shiftKey?an-_n:an+_n;Vt.options.doubleClickZoom==="center"?Vt.setZoom(Bn):Vt.setZoomAround(Lt.containerPoint,Bn)}});Bo.addInitHook("addHandler","doubleClickZoom",jf),Bo.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var xd=ya.extend({addHooks:function(){if(!this._draggable){var Lt=this._map;this._draggable=new Ga(Lt._mapPane,Lt._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),Lt.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),Lt.on("zoomend",this._onZoomEnd,this),Lt.whenReady(this._onZoomEnd,this))}Vo(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){xo(this._map._container,"leaflet-grab"),xo(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var Lt=this._map;if(Lt._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var Vt=Ir(this._map.options.maxBounds);this._offsetLimit=ur(this._map.latLngToContainerPoint(Vt.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(Vt.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;Lt.fire("movestart").fire("dragstart"),Lt.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(Lt){if(this._map.options.inertia){var Vt=this._lastTime=+new Date,an=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(an),this._times.push(Vt),this._prunePositions(Vt)}this._map.fire("move",Lt).fire("drag",Lt)},_prunePositions:function(Lt){for(;this._positions.length>1&&Lt-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var Lt=this._map.getSize().divideBy(2),Vt=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=Vt.subtract(Lt).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(Lt,Vt){return Lt-(Lt-Vt)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var Lt=this._draggable._newPos.subtract(this._draggable._startPos),Vt=this._offsetLimit;Lt.x<Vt.min.x&&(Lt.x=this._viscousLimit(Lt.x,Vt.min.x)),Lt.y<Vt.min.y&&(Lt.y=this._viscousLimit(Lt.y,Vt.min.y)),Lt.x>Vt.max.x&&(Lt.x=this._viscousLimit(Lt.x,Vt.max.x)),Lt.y>Vt.max.y&&(Lt.y=this._viscousLimit(Lt.y,Vt.max.y)),this._draggable._newPos=this._draggable._startPos.add(Lt)}},_onPreDragWrap:function(){var Lt=this._worldWidth,Vt=Math.round(Lt/2),an=this._initialWorldOffset,_n=this._draggable._newPos.x,Bn=(_n-Vt+an)%Lt+Vt-an,dr=(_n+Vt+an)%Lt-Vt-an,jr=Math.abs(Bn+an)<Math.abs(dr+an)?Bn:dr;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=jr},_onDragEnd:function(Lt){var Vt=this._map,an=Vt.options,_n=!an.inertia||Lt.noInertia||this._times.length<2;if(Vt.fire("dragend",Lt),_n)Vt.fire("moveend");else{this._prunePositions(+new Date);var Bn=this._lastPos.subtract(this._positions[0]),dr=(this._lastTime-this._times[0])/1e3,jr=an.easeLinearity,ri=Bn.multiplyBy(jr/dr),hi=ri.distanceTo([0,0]),Di=Math.min(an.inertiaMaxSpeed,hi),no=ri.multiplyBy(Di/hi),Yo=Di/(an.inertiaDeceleration*jr),ka=no.multiplyBy(-Yo/2).round();!ka.x&&!ka.y?Vt.fire("moveend"):(ka=Vt._limitOffset(ka,Vt.options.maxBounds),Dn(function(){Vt.panBy(ka,{duration:Yo,easeLinearity:jr,noMoveStart:!0,animate:!0})}))}}});Bo.addInitHook("addHandler","dragging",xd),Bo.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Jd=ya.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(Lt){this._map=Lt,this._setPanDelta(Lt.options.keyboardPanDelta),this._setZoomDelta(Lt.options.zoomDelta)},addHooks:function(){var Lt=this._map._container;Lt.tabIndex<=0&&(Lt.tabIndex="0"),Po(Lt,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),fo(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var Lt=document.body,Vt=document.documentElement,an=Lt.scrollTop||Vt.scrollTop,_n=Lt.scrollLeft||Vt.scrollLeft;this._map._container.focus(),window.scrollTo(_n,an)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(Lt){var Vt=this._panKeys={},an=this.keyCodes,_n,Bn;for(_n=0,Bn=an.left.length;_n<Bn;_n++)Vt[an.left[_n]]=[-1*Lt,0];for(_n=0,Bn=an.right.length;_n<Bn;_n++)Vt[an.right[_n]]=[Lt,0];for(_n=0,Bn=an.down.length;_n<Bn;_n++)Vt[an.down[_n]]=[0,Lt];for(_n=0,Bn=an.up.length;_n<Bn;_n++)Vt[an.up[_n]]=[0,-1*Lt]},_setZoomDelta:function(Lt){var Vt=this._zoomKeys={},an=this.keyCodes,_n,Bn;for(_n=0,Bn=an.zoomIn.length;_n<Bn;_n++)Vt[an.zoomIn[_n]]=Lt;for(_n=0,Bn=an.zoomOut.length;_n<Bn;_n++)Vt[an.zoomOut[_n]]=-Lt},_addHooks:function(){Po(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){fo(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(Lt){if(!(Lt.altKey||Lt.ctrlKey||Lt.metaKey)){var Vt=Lt.keyCode,an=this._map,_n;if(Vt in this._panKeys){if(!an._panAnim||!an._panAnim._inProgress)if(_n=this._panKeys[Vt],Lt.shiftKey&&(_n=Gn(_n).multiplyBy(3)),an.options.maxBounds&&(_n=an._limitOffset(Gn(_n),an.options.maxBounds)),an.options.worldCopyJump){var Bn=an.wrapLatLng(an.unproject(an.project(an.getCenter()).add(_n)));an.panTo(Bn)}else an.panBy(_n)}else if(Vt in this._zoomKeys)an.setZoom(an.getZoom()+(Lt.shiftKey?3:1)*this._zoomKeys[Vt]);else if(Vt===27&&an._popup&&an._popup.options.closeOnEscapeKey)an.closePopup();else return;Ll(Lt)}}});Bo.addInitHook("addHandler","keyboard",Jd),Bo.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var zg=ya.extend({addHooks:function(){Po(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){fo(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(Lt){var Vt=Hl(Lt),an=this._map.options.wheelDebounceTime;this._delta+=Vt,this._lastMousePos=this._map.mouseEventToContainerPoint(Lt),this._startTime||(this._startTime=+new Date);var _n=Math.max(an-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Et(this._performZoom,this),_n),Ll(Lt)},_performZoom:function(){var Lt=this._map,Vt=Lt.getZoom(),an=this._map.options.zoomSnap||0;Lt._stop();var _n=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Bn=4*Math.log(2/(1+Math.exp(-Math.abs(_n))))/Math.LN2,dr=an?Math.ceil(Bn/an)*an:Bn,jr=Lt._limitZoom(Vt+(this._delta>0?dr:-dr))-Vt;this._delta=0,this._startTime=null,jr&&(Lt.options.scrollWheelZoom==="center"?Lt.setZoom(Vt+jr):Lt.setZoomAround(this._lastMousePos,Vt+jr))}});Bo.addInitHook("addHandler","scrollWheelZoom",zg);var Ed=600;Bo.mergeOptions({tapHold:ji.touchNative&&ji.safari&&ji.mobile,tapTolerance:15});var $g=ya.extend({addHooks:function(){Po(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){fo(this._map._container,"touchstart",this._onDown,this)},_onDown:function(Lt){if(clearTimeout(this._holdTimeout),Lt.touches.length===1){var Vt=Lt.touches[0];this._startPos=this._newPos=new fr(Vt.clientX,Vt.clientY),this._holdTimeout=setTimeout(Et(function(){this._cancel(),this._isTapValid()&&(Po(document,"touchend",Ms),Po(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",Vt))},this),Ed),Po(document,"touchend touchcancel contextmenu",this._cancel,this),Po(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function Lt(){fo(document,"touchend",Ms),fo(document,"touchend touchcancel",Lt)},_cancel:function(){clearTimeout(this._holdTimeout),fo(document,"touchend touchcancel contextmenu",this._cancel,this),fo(document,"touchmove",this._onMove,this)},_onMove:function(Lt){var Vt=Lt.touches[0];this._newPos=new fr(Vt.clientX,Vt.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(Lt,Vt){var an=new MouseEvent(Lt,{bubbles:!0,cancelable:!0,view:window,screenX:Vt.screenX,screenY:Vt.screenY,clientX:Vt.clientX,clientY:Vt.clientY});an._simulated=!0,Vt.target.dispatchEvent(an)}});Bo.addInitHook("addHandler","tapHold",$g),Bo.mergeOptions({touchZoom:ji.touch,bounceAtZoomLimits:!0});var zp=ya.extend({addHooks:function(){Vo(this._map._container,"leaflet-touch-zoom"),Po(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){xo(this._map._container,"leaflet-touch-zoom"),fo(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(Lt){var Vt=this._map;if(!(!Lt.touches||Lt.touches.length!==2||Vt._animatingZoom||this._zooming)){var an=Vt.mouseEventToContainerPoint(Lt.touches[0]),_n=Vt.mouseEventToContainerPoint(Lt.touches[1]);this._centerPoint=Vt.getSize()._divideBy(2),this._startLatLng=Vt.containerPointToLatLng(this._centerPoint),Vt.options.touchZoom!=="center"&&(this._pinchStartLatLng=Vt.containerPointToLatLng(an.add(_n)._divideBy(2))),this._startDist=an.distanceTo(_n),this._startZoom=Vt.getZoom(),this._moved=!1,this._zooming=!0,Vt._stop(),Po(document,"touchmove",this._onTouchMove,this),Po(document,"touchend touchcancel",this._onTouchEnd,this),Ms(Lt)}},_onTouchMove:function(Lt){if(!(!Lt.touches||Lt.touches.length!==2||!this._zooming)){var Vt=this._map,an=Vt.mouseEventToContainerPoint(Lt.touches[0]),_n=Vt.mouseEventToContainerPoint(Lt.touches[1]),Bn=an.distanceTo(_n)/this._startDist;if(this._zoom=Vt.getScaleZoom(Bn,this._startZoom),!Vt.options.bounceAtZoomLimits&&(this._zoom<Vt.getMinZoom()&&Bn<1||this._zoom>Vt.getMaxZoom()&&Bn>1)&&(this._zoom=Vt._limitZoom(this._zoom)),Vt.options.touchZoom==="center"){if(this._center=this._startLatLng,Bn===1)return}else{var dr=an._add(_n)._divideBy(2)._subtract(this._centerPoint);if(Bn===1&&dr.x===0&&dr.y===0)return;this._center=Vt.unproject(Vt.project(this._pinchStartLatLng,this._zoom).subtract(dr),this._zoom)}this._moved||(Vt._moveStart(!0,!1),this._moved=!0),gn(this._animRequest);var jr=Et(Vt._move,Vt,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Dn(jr,this,!0),Ms(Lt)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,gn(this._animRequest),fo(document,"touchmove",this._onTouchMove,this),fo(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Bo.addInitHook("addHandler","touchZoom",zp),Bo.BoxZoom=Rp,Bo.DoubleClickZoom=jf,Bo.Drag=xd,Bo.Keyboard=Jd,Bo.ScrollWheelZoom=zg,Bo.TapHold=$g,Bo.TouchZoom=zp,it.Bounds=lr,it.Browser=ji,it.CRS=tr,it.Canvas=zf,it.Circle=es,it.CircleMarker=rs,it.Class=pn,it.Control=Ns,it.DivIcon=Ip,it.DivOverlay=pu,it.DomEvent=Bs,it.DomUtil=Wc,it.Draggable=Ga,it.Evented=Mr,it.FeatureGroup=Rr,it.GeoJSON=Zc,it.GridLayer=Ch,it.Handler=ya,it.Icon=_i,it.ImageOverlay=Pf,it.LatLng=Pr,it.LatLngBounds=vr,it.Layer=Pn,it.LayerGroup=or,it.LineUtil=nr,it.Map=Bo,it.Marker=Wa,it.Mixin=_c,it.Path=Jo,it.Point=fr,it.PolyUtil=ci,it.Polygon=du,it.Polyline=hu,it.Popup=Rl,it.PosAnimation=th,it.Projection=zi,it.Rectangle=Op,it.Renderer=gu,it.SVG=Kd,it.SVGOverlay=qd,it.TileLayer=Qh,it.Tooltip=Oc,it.Transformation=hr,it.Util=Un,it.VideoOverlay=Og,it.bind=Et,it.bounds=ur,it.canvas=$f,it.circle=Xc,it.circleMarker=ds,it.control=Ru,it.divIcon=Rg,it.extend=bt,it.featureGroup=Kr,it.geoJSON=Of,it.geoJson=Np,it.gridLayer=Fm,it.icon=Ji,it.imageOverlay=wd,it.latLng=_r,it.latLngBounds=Ir,it.layerGroup=wr,it.map=bc,it.marker=qa,it.point=Gn,it.polygon=Yd,it.polyline=If,it.popup=Dp,it.rectangle=Pp,it.setOptions=Xt,it.stamp=At,it.svg=Lp,it.svgOverlay=qs,it.tileLayer=Rf,it.tooltip=Qd,it.transformation=An,it.version=st,it.videoOverlay=Pg;var ef=window.L;it.noConflict=function(){return window.L=ef,this},window.L=it})})(leafletSrc,leafletSrc.exports);const L$1=leafletSrc.exports;var leafletGestureHandling_min={exports:{}};(function(nt,rt){(function(it,st){st(rt)})(commonjsGlobal$1,function(it){var st={ar:{touch:"\u0627\u0633\u062A\u062E\u062F\u0645 \u0625\u0635\u0628\u0639\u064A\u0646 \u0644\u062A\u062D\u0631\u064A\u0643 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",scroll:"\u200F\u0627\u0633\u062A\u062E\u062F\u0645 ctrl + scroll \u0644\u062A\u0635\u063A\u064A\u0631/\u062A\u0643\u0628\u064A\u0631 \u0627\u0644\u062E\u0631\u064A\u0637\u0629",scrollMac:"\u064A\u0645\u0643\u0646\u0643 \u0627\u0633\u062A\u062E\u062F\u0627\u0645 \u2318 + \u0627\u0644\u062A\u0645\u0631\u064A\u0631 \u0644\u062A\u0643\u0628\u064A\u0631/\u062A\u0635\u063A\u064A\u0631 \u0627\u0644\u062E\u0631\u064A\u0637\u0629"},bg:{touch:"\u0418\u0437\u043F\u043E\u043B\u0437\u0432\u0430\u0439\u0442\u0435 \u0434\u0432\u0430 \u043F\u0440\u044A\u0441\u0442\u0430, \u0437\u0430 \u0434\u0430 \u043F\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u0435 \u043A\u0430\u0440\u0442\u0430\u0442\u0430",scroll:"\u0417\u0430\u0434\u0440\u044A\u0436\u0442\u0435 \u0431\u0443\u0442\u043E\u043D\u0430 Ctrl \u043D\u0430\u0442\u0438\u0441\u043D\u0430\u0442, \u0434\u043E\u043A\u0430\u0442\u043E \u043F\u0440\u0435\u0432\u044A\u0440\u0442\u0430\u0442\u0435, \u0437\u0430 \u0434\u0430 \u043F\u0440\u043E\u043C\u0435\u043D\u0438\u0442\u0435 \u043C\u0430\u0449\u0430\u0431\u0430 \u043D\u0430 \u043A\u0430\u0440\u0442\u0430\u0442\u0430",scrollMac:"\u0417\u0430\u0434\u0440\u044A\u0436\u0442\u0435 \u0431\u0443\u0442\u043E\u043D\u0430 \u2318 \u043D\u0430\u0442\u0438\u0441\u043D\u0430\u0442, \u0434\u043E\u043A\u0430\u0442\u043E \u043F\u0440\u0435\u0432\u044A\u0440\u0442\u0430\u0442\u0435, \u0437\u0430 \u0434\u0430 \u043F\u0440\u043E\u043C\u0435\u043D\u0438\u0442\u0435 \u043C\u0430\u0449\u0430\u0431\u0430 \u043D\u0430 \u043A\u0430\u0440\u0442\u0430\u0442\u0430"},bn:{touch:"\u09AE\u09BE\u09A8\u099A\u09BF\u09A4\u09CD\u09B0\u099F\u09BF\u0995\u09C7 \u09B8\u09B0\u09BE\u09A4\u09C7 \u09A6\u09C1\u099F\u09BF \u0986\u0999\u09CD\u0997\u09C1\u09B2 \u09AC\u09CD\u09AF\u09AC\u09B9\u09BE\u09B0 \u0995\u09B0\u09C1\u09A8",scroll:"\u09AE\u09CD\u09AF\u09BE\u09AA \u099C\u09C1\u09AE \u0995\u09B0\u09A4\u09C7 ctrl + scroll \u09AC\u09CD\u09AF\u09AC\u09B9\u09BE\u09B0 \u0995\u09B0\u09C1\u09A8",scrollMac:"\u09AE\u09CD\u09AF\u09BE\u09AA\u09C7 \u099C\u09C1\u09AE \u0995\u09B0\u09A4\u09C7 \u2318 \u09AC\u09CB\u09A4\u09BE\u09AE \u099F\u09BF\u09AA\u09C7 \u09B8\u09CD\u0995\u09CD\u09B0\u09B2 \u0995\u09B0\u09C1\u09A8"},ca:{touch:"Fes servir dos dits per moure el mapa",scroll:"Prem la tecla Control mentre et desplaces per apropar i allunyar el mapa",scrollMac:"Prem la tecla \u2318 mentre et desplaces per apropar i allunyar el mapa"},cs:{touch:"K\xA0posunut\xED mapy pou\u017Eijte dva prsty",scroll:"Velikost zobrazen\xED mapy zm\u011B\u0148te podr\u017Een\xEDm kl\xE1vesy Ctrl a\xA0posouv\xE1n\xEDm kole\u010Dka my\u0161i",scrollMac:"Velikost zobrazen\xED mapy zm\u011Bn\xEDte podr\u017Een\xEDm kl\xE1vesy \u2318 a\xA0posunut\xEDm kole\u010Dka my\u0161i / touchpadu"},da:{touch:"Brug to fingre til at flytte kortet",scroll:"Brug ctrl + rullefunktionen til at zoome ind og ud p\xE5 kortet",scrollMac:"Brug \u2318 + rullefunktionen til at zoome ind og ud p\xE5 kortet"},de:{touch:"Verschieben der Karte mit zwei Fingern",scroll:"Verwende Strg+Scrollen zum Zoomen der Karte",scrollMac:"\u2318"},el:{touch:"\u03A7\u03C1\u03B7\u03C3\u03B9\u03BC\u03BF\u03C0\u03BF\u03B9\u03AE\u03C3\u03C4\u03B5 \u03B4\u03CD\u03BF \u03B4\u03AC\u03C7\u03C4\u03C5\u03BB\u03B1 \u03B3\u03B9\u03B1 \u03BC\u03B5\u03C4\u03B1\u03BA\u03AF\u03BD\u03B7\u03C3\u03B7 \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7",scroll:"\u03A7\u03C1\u03B7\u03C3\u03B9\u03BC\u03BF\u03C0\u03BF\u03B9\u03AE\u03C3\u03C4\u03B5 \u03C4\u03BF \u03C0\u03BB\u03AE\u03BA\u03C4\u03C1\u03BF Ctrl \u03BA\u03B1\u03B9 \u03BA\u03CD\u03BB\u03B9\u03C3\u03B7, \u03B3\u03B9\u03B1 \u03BD\u03B1 \u03BC\u03B5\u03B3\u03B5\u03B8\u03CD\u03BD\u03B5\u03C4\u03B5 \u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7",scrollMac:"\u03A7\u03C1\u03B7\u03C3\u03B9\u03BC\u03BF\u03C0\u03BF\u03B9\u03AE\u03C3\u03C4\u03B5 \u03C4\u03BF \u03C0\u03BB\u03AE\u03BA\u03C4\u03C1\u03BF \u2318 + \u03BA\u03CD\u03BB\u03B9\u03C3\u03B7 \u03B3\u03B9\u03B1 \u03B5\u03C3\u03C4\u03AF\u03B1\u03C3\u03B7 \u03C3\u03C4\u03BF\u03BD \u03C7\u03AC\u03C1\u03C4\u03B7"},en:{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use \u2318 + scroll to zoom the map"},"en-AU":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use \u2318 + scroll to zoom the map"},"en-GB":{touch:"Use two fingers to move the map",scroll:"Use ctrl + scroll to zoom the map",scrollMac:"Use \u2318 + scroll to zoom the map"},es:{touch:"Para mover el mapa, utiliza dos dedos",scroll:"Mant\xE9n pulsada la tecla Ctrl mientras te desplazas para acercar o alejar el mapa",scrollMac:"Mant\xE9n pulsada la tecla \u2318 mientras te desplazas para acercar o alejar el mapa"},eu:{touch:"Erabili bi hatz mapa mugitzeko",scroll:"Mapan zooma aplikatzeko, sakatu Ktrl eta egin gora edo behera",scrollMac:"Eduki sakatuta \u2318 eta egin gora eta behera mapa handitu eta txikitzeko"},fa:{touch:"\u0628\u0631\u0627\u06CC \u062D\u0631\u06A9\u062A \u062F\u0627\u062F\u0646 \u0646\u0642\u0634\u0647 \u0627\u0632 \u062F\u0648 \u0627\u0646\u06AF\u0634\u062A \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F.",scroll:"\u200F\u0628\u0631\u0627\u06CC \u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0646\u0642\u0634\u0647 \u0627\u0632 ctrl + scroll \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F",scrollMac:"\u0628\u0631\u0627\u06CC \u0628\u0632\u0631\u06AF\u200C\u0646\u0645\u0627\u06CC\u06CC \u0646\u0642\u0634\u0647\u060C \u0627\u0632 \u2318 + \u067E\u06CC\u0645\u0627\u06CC\u0634 \u0627\u0633\u062A\u0641\u0627\u062F\u0647 \u06A9\u0646\u06CC\u062F."},fi:{touch:"Siirr\xE4 karttaa kahdella sormella.",scroll:"Zoomaa karttaa painamalla Ctrl-painiketta ja vieritt\xE4m\xE4ll\xE4.",scrollMac:"Zoomaa karttaa pit\xE4m\xE4ll\xE4 painike \u2318 painettuna ja vieritt\xE4m\xE4ll\xE4."},fil:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang \u2318 + scroll upang i-zoom ang mapa"},fr:{touch:"Utilisez deux\xA0doigts pour d\xE9placer la carte",scroll:"Vous pouvez zoomer sur la carte \xE0 l'aide de CTRL+Molette de d\xE9filement",scrollMac:"Vous pouvez zoomer sur la carte \xE0 l'aide de \u2318+Molette de d\xE9filement"},gl:{touch:"Utiliza dous dedos para mover o mapa",scroll:"Preme Ctrl mentres te desprazas para ampliar o mapa",scrollMac:"Preme \u2318 e despr\xE1zate para ampliar o mapa"},gu:{touch:"\u0AA8\u0A95\u0AB6\u0ACB \u0A96\u0AB8\u0AC7\u0AA1\u0AB5\u0ABE \u0AAC\u0AC7 \u0A86\u0A82\u0A97\u0AB3\u0AC0\u0A93\u0AA8\u0ACB \u0A89\u0AAA\u0AAF\u0ACB\u0A97 \u0A95\u0AB0\u0ACB",scroll:"\u0AA8\u0A95\u0AB6\u0ABE\u0AA8\u0AC7 \u0A9D\u0AC2\u0AAE \u0A95\u0AB0\u0AB5\u0ABE \u0AAE\u0ABE\u0A9F\u0AC7 ctrl + \u0AB8\u0ACD\u0A95\u0ACD\u0AB0\u0ACB\u0AB2\u0AA8\u0ACB \u0A89\u0AAA\u0AAF\u0ACB\u0A97 \u0A95\u0AB0\u0ACB",scrollMac:"\u0AA8\u0A95\u0AB6\u0ABE\u0AA8\u0AC7 \u0A9D\u0AC2\u0AAE \u0A95\u0AB0\u0AB5\u0ABE \u2318 + \u0AB8\u0ACD\u0A95\u0ACD\u0AB0\u0ACB\u0AB2\u0AA8\u0ACB \u0A89\u0AAA\u0AAF\u0ACB\u0A97 \u0A95\u0AB0\u0ACB"},hi:{touch:"\u092E\u0948\u092A \u090F\u0915 \u091C\u0917\u0939 \u0938\u0947 \u0926\u0942\u0938\u0930\u0940 \u091C\u0917\u0939 \u0932\u0947 \u091C\u093E\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u0926\u094B \u0909\u0902\u0917\u0932\u093F\u092F\u094B\u0902 \u0915\u093E \u0907\u0938\u094D\u0924\u0947\u092E\u093E\u0932 \u0915\u0930\u0947\u0902",scroll:"\u092E\u0948\u092A \u0915\u094B \u091C\u093C\u0942\u092E \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F ctrl + \u0938\u094D\u0915\u094D\u0930\u094B\u0932 \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0947\u0902",scrollMac:"\u092E\u0948\u092A \u0915\u094B \u091C\u093C\u0942\u092E \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093F\u090F \u2318 + \u0938\u094D\u0915\u094D\u0930\u094B\u0932 \u0915\u093E \u0909\u092A\u092F\u094B\u0917 \u0915\u0930\u0947\u0902"},hr:{touch:"Pomi\u010Dite kartu pomo\u0107u dva prsta",scroll:"Upotrijebite Ctrl i kliza\u010D mi\u0161a da biste zumirali kartu",scrollMac:"Upotrijebite gumb \u2318 dok se pomi\u010Dete za zumiranje karte"},hu:{touch:"K\xE9t ujjal mozgassa a t\xE9rk\xE9pet",scroll:"A t\xE9rk\xE9p a ctrl + g\xF6rget\xE9s haszn\xE1lat\xE1val nagy\xEDthat\xF3",scrollMac:"A t\xE9rk\xE9p a \u2318 + g\xF6rget\xE9s haszn\xE1lat\xE1val nagy\xEDthat\xF3"},id:{touch:"Gunakan dua jari untuk menggerakkan peta",scroll:"Gunakan ctrl + scroll untuk memperbesar atau memperkecil peta",scrollMac:"Gunakan \u2318 + scroll untuk memperbesar atau memperkecil peta"},it:{touch:"Utilizza due dita per spostare la mappa",scroll:"Utilizza CTRL + scorrimento per eseguire lo zoom della mappa",scrollMac:"Utilizza \u2318 + scorrimento per eseguire lo zoom della mappa"},iw:{touch:"\u05D4\u05D6\u05D6 \u05D0\u05EA \u05D4\u05DE\u05E4\u05D4 \u05D1\u05D0\u05DE\u05E6\u05E2\u05D5\u05EA \u05E9\u05EA\u05D9 \u05D0\u05E6\u05D1\u05E2\u05D5\u05EA",scroll:"\u200F\u05D0\u05E4\u05E9\u05E8 \u05DC\u05E9\u05E0\u05D5\u05EA \u05D0\u05EA \u05DE\u05E8\u05D7\u05E7 \u05D4\u05EA\u05E6\u05D5\u05D2\u05D4 \u05D1\u05DE\u05E4\u05D4 \u05D1\u05D0\u05DE\u05E6\u05E2\u05D5\u05EA \u05DE\u05E7\u05E9 ctrl \u05D5\u05D2\u05DC\u05D9\u05DC\u05D4",scrollMac:"\u05D0\u05E4\u05E9\u05E8 \u05DC\u05E9\u05E0\u05D5\u05EA \u05D0\u05EA \u05DE\u05E8\u05D7\u05E7 \u05D4\u05EA\u05E6\u05D5\u05D2\u05D4 \u05D1\u05DE\u05E4\u05D4 \u05D1\u05D0\u05DE\u05E6\u05E2\u05D5\u05EA \u05DE\u05E7\u05E9 \u2318 \u05D5\u05D2\u05DC\u05D9\u05DC\u05D4"},ja:{touch:"\u5730\u56F3\u3092\u79FB\u52D5\u3055\u305B\u308B\u306B\u306F\u6307 2 \u672C\u3067\u64CD\u4F5C\u3057\u307E\u3059",scroll:"\u5730\u56F3\u3092\u30BA\u30FC\u30E0\u3059\u308B\u306B\u306F\u3001Ctrl \u30AD\u30FC\u3092\u62BC\u3057\u306A\u304C\u3089\u30B9\u30AF\u30ED\u30FC\u30EB\u3057\u3066\u304F\u3060\u3055\u3044",scrollMac:"\u5730\u56F3\u3092\u30BA\u30FC\u30E0\u3059\u308B\u306B\u306F\u3001\u2318 \u30AD\u30FC\u3092\u62BC\u3057\u306A\u304C\u3089\u30B9\u30AF\u30ED\u30FC\u30EB\u3057\u3066\u304F\u3060\u3055\u3044"},kn:{touch:"Use two fingers to move the map",scroll:"Use Ctrl + scroll to zoom the map",scrollMac:"Use \u2318 + scroll to zoom the map"},ko:{touch:"\uC9C0\uB3C4\uB97C \uC6C0\uC9C1\uC774\uB824\uBA74 \uB450 \uC190\uAC00\uB77D\uC744 \uC0AC\uC6A9\uD558\uC138\uC694.",scroll:"\uC9C0\uB3C4\uB97C \uD655\uB300/\uCD95\uC18C\uD558\uB824\uBA74 Ctrl\uC744 \uB204\uB978 \uCC44 \uC2A4\uD06C\uB864\uD558\uC138\uC694.",scrollMac:"\uC9C0\uB3C4\uB97C \uD655\uB300\uD558\uB824\uBA74 \u2318 + \uC2A4\uD06C\uB864 \uC0AC\uC6A9"},lt:{touch:"Perkelkite \u017Eem\u0117lap\u012F dviem pir\u0161tais",scroll:"Slinkite nuspaud\u0119 klavi\u0161\u0105 \u201ECtrl\u201C, kad pakeistum\u0117te \u017Eem\u0117lapio mastel\u012F",scrollMac:"Paspauskite klavi\u0161\u0105 \u2318 ir slinkite, kad priartintum\u0117te \u017Eem\u0117lap\u012F"},lv:{touch:"Lai p\u0101rvietotu karti, b\u012Bdiet to ar diviem pirkstiem",scroll:"Kartes t\u0101lummai\u0146ai izmantojiet ctrl + ritin\u0101\u0161anu",scrollMac:"Lai veiktu kartes t\u0101lummai\u0146u, izmantojiet \u2318 + ritin\u0101\u0161anu"},ml:{touch:"\u0D2E\u0D3E\u0D2A\u0D4D\u0D2A\u0D4D \u0D28\u0D40\u0D15\u0D4D\u0D15\u0D3E\u0D7B \u0D30\u0D23\u0D4D\u0D1F\u0D4D \u0D35\u0D3F\u0D30\u0D32\u0D41\u0D15\u0D7E \u0D09\u0D2A\u0D2F\u0D4B\u0D17\u0D3F\u0D15\u0D4D\u0D15\u0D41\u0D15",scroll:"\u0D15\u0D7A\u0D1F\u0D4D\u0D30\u0D4B\u0D7E + \u0D38\u0D4D\u200C\u0D15\u0D4D\u0D30\u0D4B\u0D7E \u0D09\u0D2A\u0D2F\u0D4B\u0D17\u0D3F\u0D1A\u0D4D\u0D1A\u0D4D \u200C\u0D2E\u0D3E\u0D2A\u0D4D\u0D2A\u0D4D \u200C\u0D38\u0D42\u0D02 \u0D1A\u0D46\u0D2F\u0D4D\u0D2F\u0D41\u0D15",scrollMac:"\u2318 + \u0D38\u0D4D\u200C\u0D15\u0D4D\u0D30\u0D4B\u0D7E \u0D09\u0D2A\u0D2F\u0D4B\u0D17\u0D3F\u0D1A\u0D4D\u0D1A\u0D4D \u200C\u0D2E\u0D3E\u0D2A\u0D4D\u0D2A\u0D4D \u200C\u0D38\u0D42\u0D02 \u0D1A\u0D46\u0D2F\u0D4D\u0D2F\u0D41\u0D15"},mr:{touch:"\u0928\u0915\u093E\u0936\u093E \u0939\u0932\u0935\u093F\u0923\u094D\u092F\u093E\u0938\u093E\u0920\u0940 \u0926\u094B\u0928 \u092C\u094B\u091F\u0947 \u0935\u093E\u092A\u0930\u093E",scroll:"\u0928\u0915\u093E\u0936\u093E \u091D\u0942\u092E \u0915\u0930\u0923\u094D\u092F\u093E\u0938\u093E\u0920\u0940 ctrl + scroll \u0935\u093E\u092A\u0930\u093E",scrollMac:"\u0928\u0915\u093E\u0936\u093E\u0935\u0930 \u091D\u0942\u092E \u0915\u0930\u0923\u094D\u092F\u093E\u0938\u093E\u0920\u0940 \u2318 + \u0938\u094D\u0915\u094D\u0930\u094B\u0932 \u0935\u093E\u092A\u0930\u093E"},nl:{touch:"Gebruik twee vingers om de kaart te verplaatsen",scroll:"Gebruik Ctrl + scrollen om in- en uit te zoomen op de kaart",scrollMac:"Gebruik \u2318 + scrollen om in en uit te zoomen op de kaart"},no:{touch:"Bruk to fingre for \xE5 flytte kartet",scroll:"Hold ctrl-tasten inne og rull for \xE5 zoome p\xE5 kartet",scrollMac:"Hold inne \u2318-tasten og rull for \xE5 zoome p\xE5 kartet"},pl:{touch:"Przesu\u0144 map\u0119 dwoma palcami",scroll:"Naci\u015Bnij CTRL i przewi\u0144, by przybli\u017Cy\u0107 map\u0119",scrollMac:"Naci\u015Bnij\xA0\u2318 i przewi\u0144, by przybli\u017Cy\u0107 map\u0119"},pt:{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use \u2318 e role a tela simultaneamente para aplicar zoom no mapa"},"pt-BR":{touch:"Use dois dedos para mover o mapa",scroll:"Pressione Ctrl e role a tela simultaneamente para aplicar zoom no mapa",scrollMac:"Use \u2318 e role a tela simultaneamente para aplicar zoom no mapa"},"pt-PT":{touch:"Utilize dois dedos para mover o mapa",scroll:"Utilizar ctrl + deslocar para aumentar/diminuir zoom do mapa",scrollMac:"Utilize \u2318 + deslocar para aumentar/diminuir o zoom do mapa"},ro:{touch:"Folosi\u021Bi dou\u0103 degete pentru a deplasa harta",scroll:"Ap\u0103sa\u021Bi tasta ctrl \u0219i derula\u021Bi simultan pentru a m\u0103ri harta",scrollMac:"Folosi\u021Bi \u2318 \u0219i derula\u021Bi pentru a m\u0103ri/mic\u0219ora harta"},ru:{touch:"\u0427\u0442\u043E\u0431\u044B \u043F\u0435\u0440\u0435\u043C\u0435\u0441\u0442\u0438\u0442\u044C \u043A\u0430\u0440\u0442\u0443, \u043F\u0440\u043E\u0432\u0435\u0434\u0438\u0442\u0435 \u043F\u043E \u043D\u0435\u0439 \u0434\u0432\u0443\u043C\u044F \u043F\u0430\u043B\u044C\u0446\u0430\u043C\u0438",scroll:"\u0427\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043C\u0430\u0441\u0448\u0442\u0430\u0431, \u043F\u0440\u043E\u043A\u0440\u0443\u0447\u0438\u0432\u0430\u0439\u0442\u0435 \u043A\u0430\u0440\u0442\u0443, \u0443\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044F \u043A\u043B\u0430\u0432\u0438\u0448\u0443 Ctrl.",scrollMac:"\u0427\u0442\u043E\u0431\u044B \u0438\u0437\u043C\u0435\u043D\u0438\u0442\u044C \u043C\u0430\u0441\u0448\u0442\u0430\u0431, \u043D\u0430\u0436\u043C\u0438\u0442\u0435 \u2318\xA0+ \u043F\u0440\u043E\u043A\u0440\u0443\u0442\u043A\u0430"},sk:{touch:"Mapu m\xF4\u017Eete posun\xFA\u0165 dvoma prstami",scroll:"Ak chcete pribl\xED\u017Ei\u0165 mapu, stla\u010Dte kl\xE1ves ctrl a\xA0pos\xFAvajte",scrollMac:"Ak chcete pribl\xED\u017Ei\u0165 mapu, stla\u010Dte kl\xE1ves \u2318 a\xA0pos\xFAvajte kolieskom my\u0161i"},sl:{touch:"Premaknite zemljevid z dvema prstoma",scroll:"Zemljevid pove\u010Date tako, da dr\u017Eite tipko Ctrl in vrtite kolesce na mi\u0161ki",scrollMac:"Uporabite \u2318 + funkcijo pomika, da pove\u010Date ali pomanj\u0161ate zemljevid"},sr:{touch:"\u041C\u0430\u043F\u0443 \u043F\u043E\u043C\u0435\u0440\u0430\u0458\u0442\u0435 \u043F\u043E\u043C\u043E\u045B\u0443 \u0434\u0432\u0430 \u043F\u0440\u0441\u0442\u0430",scroll:"\u041F\u0440\u0438\u0442\u0438\u0441\u043D\u0438\u0442\u0435 ctrl \u0442\u0430\u0441\u0442\u0435\u0440 \u0434\u043E\u043A \u043F\u043E\u043C\u0435\u0440\u0430\u0442\u0435 \u0434\u0430 \u0431\u0438\u0441\u0442\u0435 \u0437\u0443\u043C\u0438\u0440\u0430\u043B\u0438 \u043C\u0430\u043F\u0443",scrollMac:"\u041F\u0440\u0438\u0442\u0438\u0441\u043D\u0438\u0442\u0435 \u0442\u0430\u0441\u0442\u0435\u0440 \u2318 \u0434\u043E\u043A \u043F\u043E\u043C\u0435\u0440\u0430\u0442\u0435 \u0434\u0430 \u0431\u0438\u0441\u0442\u0435 \u0437\u0443\u043C\u0438\u0440\u0430\u043B\u0438 \u043C\u0430\u043F\u0443"},sv:{touch:"Anv\xE4nd tv\xE5 fingrar f\xF6r att flytta kartan",scroll:"Anv\xE4nd ctrl + rulla f\xF6r att zooma kartan",scrollMac:"Anv\xE4nd \u2318 + rulla f\xF6r att zooma p\xE5 kartan"},ta:{touch:"\u0BAE\u0BC7\u0BAA\u0BCD\u0BAA\u0BC8 \u0BA8\u0B95\u0BB0\u0BCD\u0BA4\u0BCD\u0BA4 \u0B87\u0BB0\u0BA3\u0BCD\u0B9F\u0BC1 \u0BB5\u0BBF\u0BB0\u0BB2\u0BCD\u0B95\u0BB3\u0BC8\u0BAA\u0BCD \u0BAA\u0BAF\u0BA9\u0BCD\u0BAA\u0B9F\u0BC1\u0BA4\u0BCD\u0BA4\u0BB5\u0BC1\u0BAE\u0BCD",scroll:"\u0BAE\u0BC7\u0BAA\u0BCD\u0BAA\u0BC8 \u0BAA\u0BC6\u0BB0\u0BBF\u0BA4\u0BBE\u0B95\u0BCD\u0B95\u0BBF/\u0B9A\u0BBF\u0BB1\u0BBF\u0BA4\u0BBE\u0B95\u0BCD\u0B95\u0BBF\u0BAA\u0BCD \u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95, ctrl \u0BAA\u0B9F\u0BCD\u0B9F\u0BA9\u0BC8\u0BAA\u0BCD \u0BAA\u0BBF\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4\u0BAA\u0B9F\u0BBF, \u0BAE\u0BC7\u0BB2\u0BC7/\u0B95\u0BC0\u0BB4\u0BC7 \u0BB8\u0BCD\u0B95\u0BCD\u0BB0\u0BBE\u0BB2\u0BCD \u0B9A\u0BC6\u0BAF\u0BCD\u0BAF\u0BB5\u0BC1\u0BAE\u0BCD",scrollMac:"\u0BAE\u0BC7\u0BAA\u0BCD\u0BAA\u0BC8 \u0BAA\u0BC6\u0BB0\u0BBF\u0BA4\u0BBE\u0B95\u0BCD\u0B95\u0BBF/\u0B9A\u0BBF\u0BB1\u0BBF\u0BA4\u0BBE\u0B95\u0BCD\u0B95\u0BBF\u0BAA\u0BCD \u0BAA\u0BBE\u0BB0\u0BCD\u0B95\u0BCD\u0B95, \u2318 \u0BAA\u0B9F\u0BCD\u0B9F\u0BA9\u0BC8\u0BAA\u0BCD \u0BAA\u0BBF\u0B9F\u0BBF\u0BA4\u0BCD\u0BA4\u0BAA\u0B9F\u0BBF, \u0BAE\u0BC7\u0BB2\u0BC7/\u0B95\u0BC0\u0BB4\u0BC7 \u0BB8\u0BCD\u0B95\u0BCD\u0BB0\u0BBE\u0BB2\u0BCD \u0B9A\u0BC6\u0BAF\u0BCD\u0BAF\u0BB5\u0BC1\u0BAE\u0BCD"},te:{touch:"\u0C2E\u0C4D\u0C2F\u0C3E\u0C2A\u0C4D\u200C\u0C28\u0C3F \u0C24\u0C30\u0C32\u0C3F\u0C02\u0C1A\u0C21\u0C02 \u0C15\u0C4B\u0C38\u0C02 \u0C30\u0C46\u0C02\u0C21\u0C41 \u0C35\u0C47\u0C33\u0C4D\u0C32\u0C28\u0C41 \u0C09\u0C2A\u0C2F\u0C4B\u0C17\u0C3F\u0C02\u0C1A\u0C02\u0C21\u0C3F",scroll:"\u0C2E\u0C4D\u0C2F\u0C3E\u0C2A\u0C4D\u200C\u0C28\u0C3F \u0C1C\u0C42\u0C2E\u0C4D \u0C1A\u0C47\u0C2F\u0C21\u0C3E\u0C28\u0C3F\u0C15\u0C3F ctrl \u0C2C\u0C1F\u0C28\u0C4D\u200C\u0C28\u0C41 \u0C28\u0C4A\u0C15\u0C4D\u0C15\u0C3F \u0C09\u0C02\u0C1A\u0C3F, \u0C38\u0C4D\u0C15\u0C4D\u0C30\u0C4B\u0C32\u0C4D \u0C1A\u0C47\u0C2F\u0C02\u0C21\u0C3F",scrollMac:"\u0C2E\u0C4D\u0C2F\u0C3E\u0C2A\u0C4D \u0C1C\u0C42\u0C2E\u0C4D \u0C1A\u0C47\u0C2F\u0C3E\u0C32\u0C02\u0C1F\u0C47 \u2318 + \u0C38\u0C4D\u0C15\u0C4D\u0C30\u0C4B\u0C32\u0C4D \u0C09\u0C2A\u0C2F\u0C4B\u0C17\u0C3F\u0C02\u0C1A\u0C02\u0C21\u0C3F"},th:{touch:"\u0E43\u0E0A\u0E49 2 \u0E19\u0E34\u0E49\u0E27\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E40\u0E25\u0E37\u0E48\u0E2D\u0E19\u0E41\u0E1C\u0E19\u0E17\u0E35\u0E48",scroll:"\u0E01\u0E14 Ctrl \u0E04\u0E49\u0E32\u0E07\u0E44\u0E27\u0E49 \u0E41\u0E25\u0E49\u0E27\u0E40\u0E25\u0E37\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E08\u0E2D\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E0B\u0E39\u0E21\u0E41\u0E1C\u0E19\u0E17\u0E35\u0E48",scrollMac:"\u0E01\u0E14 \u2318 \u0E41\u0E25\u0E49\u0E27\u0E40\u0E25\u0E37\u0E48\u0E2D\u0E19\u0E2B\u0E19\u0E49\u0E32\u0E08\u0E2D\u0E40\u0E1E\u0E37\u0E48\u0E2D\u0E0B\u0E39\u0E21\u0E41\u0E1C\u0E19\u0E17\u0E35\u0E48"},tl:{touch:"Gumamit ng dalawang daliri upang iusog ang mapa",scroll:"Gamitin ang ctrl + scroll upang i-zoom ang mapa",scrollMac:"Gamitin ang \u2318 + scroll upang i-zoom ang mapa"},tr:{touch:"Haritada gezinmek i\xE7in iki parma\u011F\u0131n\u0131z\u0131 kullan\u0131n",scroll:"Haritay\u0131 yak\u0131nla\u015Ft\u0131rmak i\xE7in ctrl + kayd\u0131rma kombinasyonunu kullan\u0131n",scrollMac:"Haritay\u0131 yak\u0131nla\u015Ft\u0131rmak i\xE7in \u2318 tu\u015Funa bas\u0131p ekran\u0131 kayd\u0131r\u0131n"},uk:{touch:"\u041F\u0435\u0440\u0435\u043C\u0456\u0449\u0443\u0439\u0442\u0435 \u043A\u0430\u0440\u0442\u0443 \u0434\u0432\u043E\u043C\u0430 \u043F\u0430\u043B\u044C\u0446\u044F\u043C\u0438",scroll:"\u0429\u043E\u0431 \u0437\u043C\u0456\u043D\u044E\u0432\u0430\u0442\u0438 \u043C\u0430\u0441\u0448\u0442\u0430\u0431 \u043A\u0430\u0440\u0442\u0438, \u043F\u0440\u043E\u043A\u0440\u0443\u0447\u0443\u0439\u0442\u0435 \u043A\u043E\u043B\u0456\u0449\u0430\u0442\u043A\u043E \u043C\u0438\u0448\u0456, \u0443\u0442\u0440\u0438\u043C\u0443\u044E\u0447\u0438 \u043A\u043B\u0430\u0432\u0456\u0448\u0443 Ctrl",scrollMac:"\u0429\u043E\u0431 \u0437\u043C\u0456\u043D\u0438\u0442\u0438 \u043C\u0430\u0441\u0448\u0442\u0430\u0431 \u043A\u0430\u0440\u0442\u0438, \u0432\u0438\u043A\u043E\u0440\u0438\u0441\u0442\u043E\u0432\u0443\u0439\u0442\u0435 \u2318 + \u043F\u0440\u043E\u043A\u0440\u0443\u0447\u0443\u0432\u0430\u043D\u043D\u044F"},vi:{touch:"S\u1EED d\u1EE5ng hai ng\xF3n tay \u0111\u1EC3 di chuy\u1EC3n b\u1EA3n \u0111\u1ED3",scroll:"S\u1EED d\u1EE5ng ctrl + cu\u1ED9n \u0111\u1EC3 thu ph\xF3ng b\u1EA3n \u0111\u1ED3",scrollMac:"S\u1EED d\u1EE5ng \u2318 + cu\u1ED9n \u0111\u1EC3 thu ph\xF3ng b\u1EA3n \u0111\u1ED3"},"zh-CN":{touch:"\u4F7F\u7528\u53CC\u6307\u79FB\u52A8\u5730\u56FE",scroll:"\u6309\u4F4F Ctrl \u5E76\u6EDA\u52A8\u9F20\u6807\u6EDA\u8F6E\u624D\u53EF\u7F29\u653E\u5730\u56FE",scrollMac:"\u6309\u4F4F \u2318 \u5E76\u6EDA\u52A8\u9F20\u6807\u6EDA\u8F6E\u624D\u53EF\u7F29\u653E\u5730\u56FE"},"zh-TW":{touch:"\u540C\u6642\u4EE5\u5169\u6307\u79FB\u52D5\u5730\u5716",scroll:"\u6309\u4F4F ctrl \u9375\u52A0\u4E0A\u6372\u52D5\u6ED1\u9F20\u53EF\u4EE5\u7E2E\u653E\u5730\u5716",scrollMac:"\u6309 \u2318 \u52A0\u4E0A\u6EFE\u52D5\u6372\u8EF8\u53EF\u4EE5\u7E2E\u653E\u5730\u5716"}};L.Map.mergeOptions({gestureHandlingOptions:{text:{},duration:1e3}});var bt=!1,wt=L.Handler.extend({addHooks:function(){this._handleTouch=this._handleTouch.bind(this),this._setupPluginOptions(),this._setLanguageContent(),this._disableInteractions(),this._map._container.addEventListener("touchstart",this._handleTouch),this._map._container.addEventListener("touchmove",this._handleTouch),this._map._container.addEventListener("touchend",this._handleTouch),this._map._container.addEventListener("touchcancel",this._handleTouch),this._map._container.addEventListener("click",this._handleTouch),L.DomEvent.on(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.on(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.on(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.on(this._map,"movestart",this._handleDragging,this),L.DomEvent.on(this._map,"move",this._handleDragging,this),L.DomEvent.on(this._map,"moveend",this._handleDragging,this)},removeHooks:function(){this._enableInteractions(),this._map._container.removeEventListener("touchstart",this._handleTouch),this._map._container.removeEventListener("touchmove",this._handleTouch),this._map._container.removeEventListener("touchend",this._handleTouch),this._map._container.removeEventListener("touchcancel",this._handleTouch),this._map._container.removeEventListener("click",this._handleTouch),L.DomEvent.off(this._map._container,"wheel",this._handleScroll,this),L.DomEvent.off(this._map,"mouseover",this._handleMouseOver,this),L.DomEvent.off(this._map,"mouseout",this._handleMouseOut,this),L.DomEvent.off(this._map,"movestart",this._handleDragging,this),L.DomEvent.off(this._map,"move",this._handleDragging,this),L.DomEvent.off(this._map,"moveend",this._handleDragging,this)},_handleDragging:function(Et){Et.type=="movestart"||Et.type=="move"?bt=!0:Et.type=="moveend"&&(bt=!1)},_disableInteractions:function(){this._map.dragging.disable(),this._map.scrollWheelZoom.disable(),this._map.tap&&this._map.tap.disable()},_enableInteractions:function(){this._map.dragging.enable(),this._map.scrollWheelZoom.enable(),this._map.tap&&this._map.tap.enable()},_setupPluginOptions:function(){this._map.options.gestureHandlingText&&(this._map.options.gestureHandlingOptions.text=this._map.options.gestureHandlingText)},_setLanguageContent:function(){var Et;if(this._map.options.gestureHandlingOptions&&this._map.options.gestureHandlingOptions.text&&this._map.options.gestureHandlingOptions.text.touch&&this._map.options.gestureHandlingOptions.text.scroll&&this._map.options.gestureHandlingOptions.text.scrollMac)Et=this._map.options.gestureHandlingOptions.text;else{var Tt=this._getUserLanguage();Tt||(Tt="en"),st[Tt]&&(Et=st[Tt]),Et||Tt.indexOf("-")===-1||(Tt=Tt.split("-")[0],Et=st[Tt]),Et||(Et=st[Tt="en"])}var At=!1;0<=navigator.platform.toUpperCase().indexOf("MAC")&&(At=!0);var Dt=Et.scroll;At&&(Dt=Et.scrollMac),this._map._container.setAttribute("data-gesture-handling-touch-content",Et.touch),this._map._container.setAttribute("data-gesture-handling-scroll-content",Dt)},_getUserLanguage:function(){return navigator.languages?navigator.languages[0]:navigator.language||navigator.userLanguage},_handleTouch:function(Et){for(var Tt=["leaflet-control-minimap","leaflet-interactive","leaflet-popup-content","leaflet-popup-content-wrapper","leaflet-popup-close-button","leaflet-control-zoom-in","leaflet-control-zoom-out"],At=!1,Dt=0;Dt<Tt.length;Dt++)L.DomUtil.hasClass(Et.target,Tt[Dt])&&(At=!0);At?L.DomUtil.hasClass(Et.target,"leaflet-interactive")&&Et.type==="touchmove"&&Et.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning"):Et.type==="touchmove"||Et.type==="touchstart"?Et.touches.length===1?(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-touch-warning"),this._disableInteractions()):(Et.preventDefault(),this._enableInteractions(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")):L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-touch-warning")},_isScrolling:!1,_handleScroll:function(Et){Et.metaKey||Et.ctrlKey?(Et.preventDefault(),L.DomUtil.removeClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.enable()):(L.DomUtil.addClass(this._map._container,"leaflet-gesture-handling-scroll-warning"),this._map.scrollWheelZoom.disable(),clearTimeout(this._isScrolling),this._isScrolling=setTimeout(function(){for(var Tt=document.getElementsByClassName("leaflet-gesture-handling-scroll-warning"),At=0;At<Tt.length;At++)L.DomUtil.removeClass(Tt[At],"leaflet-gesture-handling-scroll-warning")},this._map.options.gestureHandlingOptions.duration))},_handleMouseOver:function(Et){this._enableInteractions()},_handleMouseOut:function(Et){bt||this._disableInteractions()}});L.Map.addInitHook("addHandler","gestureHandling",wt),it.GestureHandling=wt,it.default=wt,Object.defineProperty(it,"__esModule",{value:!0})})})(leafletGestureHandling_min,leafletGestureHandling_min.exports);L.Control.Opacity=L.Control.extend({options:{collapsed:!1,position:"topright",label:null},initialize:function(nt,rt){for(const it in L.Util.setOptions(this,rt),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,nt)this._addLayer(nt[it],it,!0)},onAdd:function(nt){return this._initLayout(),this._update(),this._container},expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded"),this._form.style.height=null;var nt=this._map.getSize().y-(this._container.offsetTop+50);return nt<this._form.clientHeight?(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=nt+"px"):L.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar"),this},collapse:function(){return L.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){const nt="leaflet-control-layers",rt=this._container=L.DomUtil.create("div",nt),it=this.options.collapsed;if(rt.setAttribute("aria-haspopup",!0),L.DomEvent.disableClickPropagation(rt),L.DomEvent.disableScrollPropagation(rt),this.options.label){const wt=L.DomUtil.create("p",nt+"-label");wt.innerHTML=this.options.label,rt.appendChild(wt)}var st=this._form=L.DomUtil.create("form",nt+"-list");it&&(this._map.on("click zoom move",this.collapse,this),L.Browser.android||L.DomEvent.on(rt,{mouseenter:this.expand,mouseleave:this.collapse},this));const bt=this._layersLink=L.DomUtil.create("a",nt+"-toggle",rt);bt.href="#",bt.title="Layers",L.Browser.touch?(L.DomEvent.on(bt,"click",L.DomEvent.stop),L.DomEvent.on(bt,"click",this.expand,this)):L.DomEvent.on(bt,"focus",this.expand,this),it||this.expand(),this._baseLayersList=L.DomUtil.create("div",nt+"-base",st),this._separator=L.DomUtil.create("div",nt+"-separator",st),this._overlaysList=L.DomUtil.create("div",nt+"-overlays",st),rt.appendChild(st)},_getLayer:function(nt){for(let rt=0;rt<this._layers.length;rt++)if(this._layers[rt]&&L.Util.stamp(this._layers[rt].layer)===nt)return this._layers[rt]},_addLayer:function(nt,rt,it){this._layers.push({layer:nt,name:rt,overlay:it})},_update:function(){if(!this._container)return this;L.DomUtil.empty(this._baseLayersList),L.DomUtil.empty(this._overlaysList),this._layerControlInputs=[];let nt,rt,it,st,bt=0;for(it=0;it<this._layers.length;it++)st=this._layers[it],this._addItem(st),rt=rt||st.overlay,nt=nt||!st.overlay,bt+=st.overlay?0:1;this.options.hideSingleBase&&(nt=nt&&1<bt,this._baseLayersList.style.display=nt?"":"none"),this._separator.style.display=rt&&nt?"":"none"},_addItem:function(nt){let rt=document.createElement("label"),it=document.createElement("input");nt.overlay?(it.type="range",it.className="leaflet-control-layers-range",it.min=0,it.max=100,it.value=100*nt.layer.options.opacity):it=this._createRadioElement("leaflet-base-layers",checked),this._layerControlInputs.push(it),it.layerId=L.Util.stamp(nt.layer),it.addEventListener("input",Tt=>{Tt=Tt.target.value;const At=this._getLayer(it.layerId).layer;At._url===void 0||At.setOpacity(Number(Tt/100))});const st=document.createElement("span");st.innerHTML=" "+nt.name;const bt=document.createElement("div"),wt=document.createElement("div");rt.appendChild(bt),bt.appendChild(st),rt.appendChild(wt),wt.appendChild(it),(nt.overlay?this._overlaysList:this._baseLayersList).appendChild(rt)}}),L.control.opacity=function(nt,rt){return new L.Control.Opacity(nt,rt)};var range_styles_default=i$4`
  ${component_styles_default}
  ${form_control_styles_default}

  :host {
    --thumb-size: 20px;
    --tooltip-offset: 10px;
    --track-color-active: var(--sl-color-neutral-200);
    --track-color-inactive: var(--sl-color-neutral-200);
    --track-active-offset: 0%;
    --track-height: 6px;

    display: block;
  }

  .range {
    position: relative;
  }

  .range__control {
    --percent: 0%;
    -webkit-appearance: none;
    border-radius: 3px;
    width: 100%;
    height: var(--track-height);
    background: transparent;
    line-height: var(--sl-input-height-medium);
    vertical-align: middle;
    margin: 0;

    background-image: linear-gradient(
      to right,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  .range--rtl .range__control {
    background-image: linear-gradient(
      to left,
      var(--track-color-inactive) 0%,
      var(--track-color-inactive) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) min(var(--percent), var(--track-active-offset)),
      var(--track-color-active) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) max(var(--percent), var(--track-active-offset)),
      var(--track-color-inactive) 100%
    );
  }

  /* Webkit */
  .range__control::-webkit-slider-runnable-track {
    width: 100%;
    height: var(--track-height);
    border-radius: 3px;
    border: none;
  }

  .range__control::-webkit-slider-thumb {
    border: none;
    width: var(--thumb-size);
    height: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border: solid var(--sl-input-border-width) var(--sl-color-primary-600);
    -webkit-appearance: none;
    margin-top: calc(var(--thumb-size) / -2 + var(--track-height) / 2);
    cursor: pointer;
  }

  .range__control:enabled::-webkit-slider-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-webkit-slider-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-webkit-slider-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* Firefox */
  .range__control::-moz-focus-outer {
    border: 0;
  }

  .range__control::-moz-range-progress {
    background-color: var(--track-color-active);
    border-radius: 3px;
    height: var(--track-height);
  }

  .range__control::-moz-range-track {
    width: 100%;
    height: var(--track-height);
    background-color: var(--track-color-inactive);
    border-radius: 3px;
    border: none;
  }

  .range__control::-moz-range-thumb {
    border: none;
    height: var(--thumb-size);
    width: var(--thumb-size);
    border-radius: 50%;
    background-color: var(--sl-color-primary-600);
    border-color: var(--sl-color-primary-600);
    transition: var(--sl-transition-fast) border-color, var(--sl-transition-fast) background-color,
      var(--sl-transition-fast) color, var(--sl-transition-fast) box-shadow;
    cursor: pointer;
  }

  .range__control:enabled::-moz-range-thumb:hover {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
  }

  .range__control:enabled:focus-visible::-moz-range-thumb {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }

  .range__control:enabled::-moz-range-thumb:active {
    background-color: var(--sl-color-primary-500);
    border-color: var(--sl-color-primary-500);
    cursor: grabbing;
  }

  /* States */
  .range__control:focus-visible {
    outline: none;
  }

  .range__control:disabled {
    opacity: 0.5;
  }

  .range__control:disabled::-webkit-slider-thumb {
    cursor: not-allowed;
  }

  .range__control:disabled::-moz-range-thumb {
    cursor: not-allowed;
  }

  /* Tooltip output */
  .range__tooltip {
    position: absolute;
    z-index: var(--sl-z-index-tooltip);
    left: 0;
    border-radius: var(--sl-tooltip-border-radius);
    background-color: var(--sl-tooltip-background-color);
    font-family: var(--sl-tooltip-font-family);
    font-size: var(--sl-tooltip-font-size);
    font-weight: var(--sl-tooltip-font-weight);
    line-height: var(--sl-tooltip-line-height);
    color: var(--sl-tooltip-color);
    opacity: 0;
    padding: var(--sl-tooltip-padding);
    transition: var(--sl-transition-fast) opacity;
    pointer-events: none;
  }

  .range__tooltip:after {
    content: '';
    position: absolute;
    width: 0;
    height: 0;
    left: 50%;
    translate: calc(-1 * var(--sl-tooltip-arrow-size));
  }

  .range--tooltip-visible .range__tooltip {
    opacity: 1;
  }

  /* Tooltip on top */
  .range--tooltip-top .range__tooltip {
    top: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-top .range__tooltip:after {
    border-top: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    top: 100%;
  }

  /* Tooltip on bottom */
  .range--tooltip-bottom .range__tooltip {
    bottom: calc(-1 * var(--thumb-size) - var(--tooltip-offset));
  }

  .range--tooltip-bottom .range__tooltip:after {
    border-bottom: var(--sl-tooltip-arrow-size) solid var(--sl-tooltip-background-color);
    border-left: var(--sl-tooltip-arrow-size) solid transparent;
    border-right: var(--sl-tooltip-arrow-size) solid transparent;
    bottom: 100%;
  }

  @media (forced-colors: active) {
    .range__control,
    .range__tooltip {
      border: solid 1px transparent;
    }

    .range__control::-webkit-slider-thumb {
      border: solid 1px transparent;
    }

    .range__control::-moz-range-thumb {
      border: solid 1px transparent;
    }

    .range__tooltip:after {
      display: none;
    }
  }
`,SlRange=class extends ShoelaceElement{constructor(){super(...arguments),this.formSubmitController=new FormSubmitController(this),this.hasSlotController=new HasSlotController(this,"help-text","label"),this.localize=new LocalizeController2(this),this.hasFocus=!1,this.hasTooltip=!1,this.invalid=!1,this.title="",this.name="",this.value=0,this.label="",this.helpText="",this.disabled=!1,this.min=0,this.max=100,this.step=1,this.tooltip="top",this.tooltipFormatter=nt=>nt.toString(),this.defaultValue=0}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>this.syncRange()),this.value<this.min&&(this.value=this.min),this.value>this.max&&(this.value=this.max),this.updateComplete.then(()=>{this.syncRange(),this.resizeObserver.observe(this.input)})}disconnectedCallback(){super.disconnectedCallback(),this.resizeObserver.unobserve(this.input)}handleChange(){this.emit("sl-change")}handleInput(){this.value=parseFloat(this.input.value),this.emit("sl-input"),this.syncRange()}handleBlur(){this.hasFocus=!1,this.hasTooltip=!1,this.emit("sl-blur")}handleFocus(){this.hasFocus=!0,this.hasTooltip=!0,this.emit("sl-focus")}handleThumbDragStart(){this.hasTooltip=!0}handleThumbDragEnd(){this.hasTooltip=!1}syncProgress(nt){this.input.style.setProperty("--percent",`${nt*100}%`)}syncTooltip(nt){if(this.output!==null){const rt=this.input.offsetWidth,it=this.output.offsetWidth,st=getComputedStyle(this.input).getPropertyValue("--thumb-size"),bt=this.localize.dir()==="rtl",wt=rt*nt;if(bt){const Et=`${rt-wt}px + ${nt} * ${st}`;this.output.style.translate=`calc((${Et} - ${it/2}px - ${st} / 2))`}else{const Et=`${wt}px - ${nt} * ${st}`;this.output.style.translate=`calc(${Et} - ${it/2}px + ${st} / 2)`}}}handleValueChange(){this.invalid=!this.checkValidity(),this.input.value=this.value.toString(),this.value=parseFloat(this.input.value),this.syncRange()}handleDisabledChange(){this.input.disabled=this.disabled,this.invalid=!this.checkValidity()}syncRange(){const nt=Math.max(0,(this.value-this.min)/(this.max-this.min));this.syncProgress(nt),this.tooltip!=="none"&&this.syncTooltip(nt)}focus(nt){this.input.focus(nt)}blur(){this.input.blur()}stepUp(){this.input.stepUp(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}stepDown(){this.input.stepDown(),this.value!==Number(this.input.value)&&(this.value=Number(this.input.value))}checkValidity(){return this.input.checkValidity()}reportValidity(){return this.input.reportValidity()}setCustomValidity(nt){this.input.setCustomValidity(nt),this.invalid=!this.checkValidity()}render(){const nt=this.hasSlotController.test("label"),rt=this.hasSlotController.test("help-text"),it=this.label?!0:!!nt,st=this.helpText?!0:!!rt;return y$2`
      <div
        part="form-control"
        class=${o$2({"form-control":!0,"form-control--medium":!0,"form-control--has-label":it,"form-control--has-help-text":st})}
      >
        <label
          part="form-control-label"
          class="form-control__label"
          for="input"
          aria-hidden=${it?"false":"true"}
        >
          <slot name="label">${this.label}</slot>
        </label>

        <div part="form-control-input" class="form-control-input">
          <div
            part="base"
            class=${o$2({range:!0,"range--disabled":this.disabled,"range--focused":this.hasFocus,"range--rtl":this.localize.dir()==="rtl","range--tooltip-visible":this.hasTooltip,"range--tooltip-top":this.tooltip==="top","range--tooltip-bottom":this.tooltip==="bottom"})}
            @mousedown=${this.handleThumbDragStart}
            @mouseup=${this.handleThumbDragEnd}
            @touchstart=${this.handleThumbDragStart}
            @touchend=${this.handleThumbDragEnd}
          >
            <input
              part="input"
              id="input"
              class="range__control"
              title=${this.title}
              type="range"
              name=${l$2(this.name)}
              ?disabled=${this.disabled}
              min=${l$2(this.min)}
              max=${l$2(this.max)}
              step=${l$2(this.step)}
              .value=${l2$1(this.value.toString())}
              aria-describedby="help-text"
              @change=${this.handleChange}
              @input=${this.handleInput}
              @focus=${this.handleFocus}
              @blur=${this.handleBlur}
            />
            ${this.tooltip!=="none"&&!this.disabled?y$2`
                  <output part="tooltip" class="range__tooltip">
                    ${typeof this.tooltipFormatter=="function"?this.tooltipFormatter(this.value):this.value}
                  </output>
                `:""}
          </div>
        </div>

        <slot
          name="help-text"
          part="form-control-help-text"
          id="help-text"
          class="form-control__help-text"
          aria-hidden=${st?"false":"true"}
        >
          ${this.helpText}
        </slot>
      </div>
    `}};SlRange.styles=range_styles_default;__decorateClass([i2$2(".range__control")],SlRange.prototype,"input",2);__decorateClass([i2$2(".range__tooltip")],SlRange.prototype,"output",2);__decorateClass([t$2()],SlRange.prototype,"hasFocus",2);__decorateClass([t$2()],SlRange.prototype,"hasTooltip",2);__decorateClass([t$2()],SlRange.prototype,"invalid",2);__decorateClass([e2$2()],SlRange.prototype,"title",2);__decorateClass([e2$2()],SlRange.prototype,"name",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"value",2);__decorateClass([e2$2()],SlRange.prototype,"label",2);__decorateClass([e2$2({attribute:"help-text"})],SlRange.prototype,"helpText",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlRange.prototype,"disabled",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"min",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"max",2);__decorateClass([e2$2({type:Number})],SlRange.prototype,"step",2);__decorateClass([e2$2()],SlRange.prototype,"tooltip",2);__decorateClass([e2$2({attribute:!1})],SlRange.prototype,"tooltipFormatter",2);__decorateClass([defaultValue()],SlRange.prototype,"defaultValue",2);__decorateClass([watch("value",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleValueChange",1);__decorateClass([watch("disabled",{waitUntilFirstUpdate:!0})],SlRange.prototype,"handleDisabledChange",1);__decorateClass([watch("hasTooltip",{waitUntilFirstUpdate:!0})],SlRange.prototype,"syncRange",1);SlRange=__decorateClass([e$2("sl-range")],SlRange);(function(nt,rt){typeof exports=="object"&&typeof module<"u"?rt(exports):typeof define=="function"&&define.amd?define(["exports"],rt):rt((nt=typeof globalThis<"u"?globalThis:nt||self).turf={})})(globalThis,function(nt){var rt=63710088e-1,it={centimeters:637100880,centimetres:637100880,degrees:57.22891354143274,feet:20902260511392e-6,inches:39.37*rt,kilometers:6371.0088,kilometres:6371.0088,meters:rt,metres:rt,miles:3958.761333810546,millimeters:6371008800,millimetres:6371008800,nauticalmiles:rt/1852,radians:1,yards:6967335223679999e-9},st={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/rt,yards:1.0936133},bt={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function wt(vt,_t,xt){xt===void 0&&(xt={});var Mt={type:"Feature"};return(xt.id===0||xt.id)&&(Mt.id=xt.id),xt.bbox&&(Mt.bbox=xt.bbox),Mt.properties=_t||{},Mt.geometry=vt,Mt}function Et(vt,_t,xt){switch(vt){case"Point":return Tt(_t).geometry;case"LineString":return zt(_t).geometry;case"Polygon":return Dt(_t).geometry;case"MultiPoint":return Xt(_t).geometry;case"MultiLineString":return Yt(_t).geometry;case"MultiPolygon":return Ht(_t).geometry;default:throw new Error(vt+" is invalid")}}function Tt(vt,_t,xt){if(xt===void 0&&(xt={}),!vt)throw new Error("coordinates is required");if(!Array.isArray(vt))throw new Error("coordinates must be an Array");if(vt.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!Dn(vt[0])||!Dn(vt[1]))throw new Error("coordinates must contain numbers");return wt({type:"Point",coordinates:vt},_t,xt)}function At(vt,_t,xt){return xt===void 0&&(xt={}),Bt(vt.map(function(Mt){return Tt(Mt,_t)}),xt)}function Dt(vt,_t,xt){xt===void 0&&(xt={});for(var Mt=0,kt=vt;Mt<kt.length;Mt++){var It=kt[Mt];if(It.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Rt=0;Rt<It[It.length-1].length;Rt++)if(It[It.length-1][Rt]!==It[0][Rt])throw new Error("First and last Position are not equivalent.")}return wt({type:"Polygon",coordinates:vt},_t,xt)}function Ot(vt,_t,xt){return xt===void 0&&(xt={}),Bt(vt.map(function(Mt){return Dt(Mt,_t)}),xt)}function zt(vt,_t,xt){if(xt===void 0&&(xt={}),vt.length<2)throw new Error("coordinates must be an array of two or more positions");return wt({type:"LineString",coordinates:vt},_t,xt)}function $t(vt,_t,xt){return xt===void 0&&(xt={}),Bt(vt.map(function(Mt){return zt(Mt,_t)}),xt)}function Bt(vt,_t){_t===void 0&&(_t={});var xt={type:"FeatureCollection"};return _t.id&&(xt.id=_t.id),_t.bbox&&(xt.bbox=_t.bbox),xt.features=vt,xt}function Yt(vt,_t,xt){return xt===void 0&&(xt={}),wt({type:"MultiLineString",coordinates:vt},_t,xt)}function Xt(vt,_t,xt){return xt===void 0&&(xt={}),wt({type:"MultiPoint",coordinates:vt},_t,xt)}function Ht(vt,_t,xt){return xt===void 0&&(xt={}),wt({type:"MultiPolygon",coordinates:vt},_t,xt)}function Qt(vt,_t,xt){return xt===void 0&&(xt={}),wt({type:"GeometryCollection",geometries:vt},_t,xt)}function Zt(vt,_t){if(_t===void 0&&(_t=0),_t&&!(_t>=0))throw new Error("precision must be a positive number");var xt=Math.pow(10,_t||0);return Math.round(vt*xt)/xt}function nn(vt,_t){_t===void 0&&(_t="kilometers");var xt=it[_t];if(!xt)throw new Error(_t+" units is invalid");return vt*xt}function Kt(vt,_t){_t===void 0&&(_t="kilometers");var xt=it[_t];if(!xt)throw new Error(_t+" units is invalid");return vt/xt}function ln(vt,_t){return bn(Kt(vt,_t))}function sn(vt){var _t=vt%360;return _t<0&&(_t+=360),_t}function bn(vt){return 180*(vt%(2*Math.PI))/Math.PI}function wn(vt){return vt%360*Math.PI/180}function Mn(vt,_t,xt){if(_t===void 0&&(_t="kilometers"),xt===void 0&&(xt="kilometers"),!(vt>=0))throw new Error("length must be a positive number");return nn(Kt(vt,_t),xt)}function Sn(vt,_t,xt){if(_t===void 0&&(_t="meters"),xt===void 0&&(xt="kilometers"),!(vt>=0))throw new Error("area must be a positive number");var Mt=bt[_t];if(!Mt)throw new Error("invalid original units");var kt=bt[xt];if(!kt)throw new Error("invalid final units");return vt/Mt*kt}function Dn(vt){return!isNaN(vt)&&vt!==null&&!Array.isArray(vt)}function gn(vt){return!!vt&&vt.constructor===Object}function Un(vt){if(!vt)throw new Error("bbox is required");if(!Array.isArray(vt))throw new Error("bbox must be an Array");if(vt.length!==4&&vt.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");vt.forEach(function(_t){if(!Dn(_t))throw new Error("bbox must only contain numbers")})}function pn(vt){if(!vt)throw new Error("id is required");if(["string","number"].indexOf(typeof vt)===-1)throw new Error("id must be a number or a string")}var yr=Object.freeze({__proto__:null,earthRadius:rt,factors:it,unitsFactors:st,areaFactors:bt,feature:wt,geometry:Et,point:Tt,points:At,polygon:Dt,polygons:Ot,lineString:zt,lineStrings:$t,featureCollection:Bt,multiLineString:Yt,multiPoint:Xt,multiPolygon:Ht,geometryCollection:Qt,round:Zt,radiansToLength:nn,lengthToRadians:Kt,lengthToDegrees:ln,bearingToAzimuth:sn,radiansToDegrees:bn,degreesToRadians:wn,convertLength:Mn,convertArea:Sn,isNumber:Dn,isObject:gn,validateBBox:Un,validateId:pn});function xn(vt,_t,xt){if(vt!==null)for(var Mt,kt,It,Rt,Ut,Wt,qt,on,Jt=0,un=0,En=vt.type,Tn=En==="FeatureCollection",In=En==="Feature",mn=Tn?vt.features.length:1,Wn=0;Wn<mn;Wn++){Ut=(on=!!(qt=Tn?vt.features[Wn].geometry:In?vt.geometry:vt)&&qt.type==="GeometryCollection")?qt.geometries.length:1;for(var pr=0;pr<Ut;pr++){var kn=0,Vn=0;if((Rt=on?qt.geometries[pr]:qt)!==null){Wt=Rt.coordinates;var Qn=Rt.type;switch(Jt=!xt||Qn!=="Polygon"&&Qn!=="MultiPolygon"?0:1,Qn){case null:break;case"Point":if(_t(Wt,un,Wn,kn,Vn)===!1)return!1;un++,kn++;break;case"LineString":case"MultiPoint":for(Mt=0;Mt<Wt.length;Mt++){if(_t(Wt[Mt],un,Wn,kn,Vn)===!1)return!1;un++,Qn==="MultiPoint"&&kn++}Qn==="LineString"&&kn++;break;case"Polygon":case"MultiLineString":for(Mt=0;Mt<Wt.length;Mt++){for(kt=0;kt<Wt[Mt].length-Jt;kt++){if(_t(Wt[Mt][kt],un,Wn,kn,Vn)===!1)return!1;un++}Qn==="MultiLineString"&&kn++,Qn==="Polygon"&&Vn++}Qn==="Polygon"&&kn++;break;case"MultiPolygon":for(Mt=0;Mt<Wt.length;Mt++){for(Vn=0,kt=0;kt<Wt[Mt].length;kt++){for(It=0;It<Wt[Mt][kt].length-Jt;It++){if(_t(Wt[Mt][kt][It],un,Wn,kn,Vn)===!1)return!1;un++}Vn++}kn++}break;case"GeometryCollection":for(Mt=0;Mt<Rt.geometries.length;Mt++)if(xn(Rt.geometries[Mt],_t,xt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Mr(vt,_t,xt,Mt){var kt=xt;return xn(vt,function(It,Rt,Ut,Wt,qt){kt=Rt===0&&xt===void 0?It:_t(kt,It,Rt,Ut,Wt,qt)},Mt),kt}function fr(vt,_t){var xt;switch(vt.type){case"FeatureCollection":for(xt=0;xt<vt.features.length&&_t(vt.features[xt].properties,xt)!==!1;xt++);break;case"Feature":_t(vt.properties,0)}}function cr(vt,_t,xt){var Mt=xt;return fr(vt,function(kt,It){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It)}),Mt}function Gn(vt,_t){if(vt.type==="Feature")_t(vt,0);else if(vt.type==="FeatureCollection")for(var xt=0;xt<vt.features.length&&_t(vt.features[xt],xt)!==!1;xt++);}function lr(vt,_t,xt){var Mt=xt;return Gn(vt,function(kt,It){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It)}),Mt}function ur(vt){var _t=[];return xn(vt,function(xt){_t.push(xt)}),_t}function vr(vt,_t){var xt,Mt,kt,It,Rt,Ut,Wt,qt,on,Jt,un=0,En=vt.type==="FeatureCollection",Tn=vt.type==="Feature",In=En?vt.features.length:1;for(xt=0;xt<In;xt++){for(Ut=En?vt.features[xt].geometry:Tn?vt.geometry:vt,qt=En?vt.features[xt].properties:Tn?vt.properties:{},on=En?vt.features[xt].bbox:Tn?vt.bbox:void 0,Jt=En?vt.features[xt].id:Tn?vt.id:void 0,Rt=(Wt=!!Ut&&Ut.type==="GeometryCollection")?Ut.geometries.length:1,kt=0;kt<Rt;kt++)if((It=Wt?Ut.geometries[kt]:Ut)!==null)switch(It.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(_t(It,un,qt,on,Jt)===!1)return!1;break;case"GeometryCollection":for(Mt=0;Mt<It.geometries.length;Mt++)if(_t(It.geometries[Mt],un,qt,on,Jt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(_t(null,un,qt,on,Jt)===!1)return!1;un++}}function Ir(vt,_t,xt){var Mt=xt;return vr(vt,function(kt,It,Rt,Ut,Wt){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It,Rt,Ut,Wt)}),Mt}function Pr(vt,_t){vr(vt,function(xt,Mt,kt,It,Rt){var Ut,Wt=xt===null?null:xt.type;switch(Wt){case null:case"Point":case"LineString":case"Polygon":return _t(wt(xt,kt,{bbox:It,id:Rt}),Mt,0)!==!1&&void 0}switch(Wt){case"MultiPoint":Ut="Point";break;case"MultiLineString":Ut="LineString";break;case"MultiPolygon":Ut="Polygon"}for(var qt=0;qt<xt.coordinates.length;qt++){var on=xt.coordinates[qt];if(_t(wt({type:Ut,coordinates:on},kt),Mt,qt)===!1)return!1}})}function _r(vt,_t,xt){var Mt=xt;return Pr(vt,function(kt,It,Rt){Mt=It===0&&Rt===0&&xt===void 0?kt:_t(Mt,kt,It,Rt)}),Mt}function tr(vt,_t){Pr(vt,function(xt,Mt,kt){var It=0;if(xt.geometry){var Rt=xt.geometry.type;if(Rt!=="Point"&&Rt!=="MultiPoint"){var Ut,Wt=0,qt=0,on=0;return xn(xt,function(Jt,un,En,Tn,In){if(Ut===void 0||Mt>Wt||Tn>qt||In>on)return Ut=Jt,Wt=Mt,qt=Tn,on=In,void(It=0);var mn=zt([Ut,Jt],xt.properties);if(_t(mn,Mt,kt,In,It)===!1)return!1;It++,Ut=Jt})!==!1&&void 0}}})}function qn(vt,_t,xt){var Mt=xt,kt=!1;return tr(vt,function(It,Rt,Ut,Wt,qt){Mt=kt===!1&&xt===void 0?It:_t(Mt,It,Rt,Ut,Wt,qt),kt=!0}),Mt}function mr(vt,_t){if(!vt)throw new Error("geojson is required");Pr(vt,function(xt,Mt,kt){if(xt.geometry!==null){var It=xt.geometry.type,Rt=xt.geometry.coordinates;switch(It){case"LineString":if(_t(xt,Mt,kt,0,0)===!1)return!1;break;case"Polygon":for(var Ut=0;Ut<Rt.length;Ut++)if(_t(zt(Rt[Ut],xt.properties),Mt,kt,Ut)===!1)return!1}}})}function br(vt,_t,xt){var Mt=xt;return mr(vt,function(kt,It,Rt,Ut){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It,Rt,Ut)}),Mt}function hr(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt,Mt=_t.featureIndex||0,kt=_t.multiFeatureIndex||0,It=_t.geometryIndex||0,Rt=_t.segmentIndex||0,Ut=_t.properties;switch(vt.type){case"FeatureCollection":Mt<0&&(Mt=vt.features.length+Mt),Ut=Ut||vt.features[Mt].properties,xt=vt.features[Mt].geometry;break;case"Feature":Ut=Ut||vt.properties,xt=vt.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xt=vt;break;default:throw new Error("geojson is invalid")}if(xt===null)return null;var Wt=xt.coordinates;switch(xt.type){case"Point":case"MultiPoint":return null;case"LineString":return Rt<0&&(Rt=Wt.length+Rt-1),zt([Wt[Rt],Wt[Rt+1]],Ut,_t);case"Polygon":return It<0&&(It=Wt.length+It),Rt<0&&(Rt=Wt[It].length+Rt-1),zt([Wt[It][Rt],Wt[It][Rt+1]],Ut,_t);case"MultiLineString":return kt<0&&(kt=Wt.length+kt),Rt<0&&(Rt=Wt[kt].length+Rt-1),zt([Wt[kt][Rt],Wt[kt][Rt+1]],Ut,_t);case"MultiPolygon":return kt<0&&(kt=Wt.length+kt),It<0&&(It=Wt[kt].length+It),Rt<0&&(Rt=Wt[kt][It].length-Rt-1),zt([Wt[kt][It][Rt],Wt[kt][It][Rt+1]],Ut,_t)}throw new Error("geojson is invalid")}function An(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt,Mt=_t.featureIndex||0,kt=_t.multiFeatureIndex||0,It=_t.geometryIndex||0,Rt=_t.coordIndex||0,Ut=_t.properties;switch(vt.type){case"FeatureCollection":Mt<0&&(Mt=vt.features.length+Mt),Ut=Ut||vt.features[Mt].properties,xt=vt.features[Mt].geometry;break;case"Feature":Ut=Ut||vt.properties,xt=vt.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xt=vt;break;default:throw new Error("geojson is invalid")}if(xt===null)return null;var Wt=xt.coordinates;switch(xt.type){case"Point":return Tt(Wt,Ut,_t);case"MultiPoint":return kt<0&&(kt=Wt.length+kt),Tt(Wt[kt],Ut,_t);case"LineString":return Rt<0&&(Rt=Wt.length+Rt),Tt(Wt[Rt],Ut,_t);case"Polygon":return It<0&&(It=Wt.length+It),Rt<0&&(Rt=Wt[It].length+Rt),Tt(Wt[It][Rt],Ut,_t);case"MultiLineString":return kt<0&&(kt=Wt.length+kt),Rt<0&&(Rt=Wt[kt].length+Rt),Tt(Wt[kt][Rt],Ut,_t);case"MultiPolygon":return kt<0&&(kt=Wt.length+kt),It<0&&(It=Wt[kt].length+It),Rt<0&&(Rt=Wt[kt][It].length-Rt),Tt(Wt[kt][It][Rt],Ut,_t)}throw new Error("geojson is invalid")}var rn=Object.freeze({__proto__:null,coordAll:ur,coordEach:xn,coordReduce:Mr,featureEach:Gn,featureReduce:lr,findPoint:An,findSegment:hr,flattenEach:Pr,flattenReduce:_r,geomEach:vr,geomReduce:Ir,lineEach:mr,lineReduce:br,propEach:fr,propReduce:cr,segmentEach:tr,segmentReduce:qn});function vn(vt){var _t=[1/0,1/0,-1/0,-1/0];return xn(vt,function(xt){_t[0]>xt[0]&&(_t[0]=xt[0]),_t[1]>xt[1]&&(_t[1]=xt[1]),_t[2]<xt[0]&&(_t[2]=xt[0]),_t[3]<xt[1]&&(_t[3]=xt[1])}),_t}function hn(vt){if(!vt)throw new Error("coord is required");if(!Array.isArray(vt)){if(vt.type==="Feature"&&vt.geometry!==null&&vt.geometry.type==="Point")return vt.geometry.coordinates;if(vt.type==="Point")return vt.coordinates}if(Array.isArray(vt)&&vt.length>=2&&!Array.isArray(vt[0])&&!Array.isArray(vt[1]))return vt;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function zn(vt){if(Array.isArray(vt))return vt;if(vt.type==="Feature"){if(vt.geometry!==null)return vt.geometry.coordinates}else if(vt.coordinates)return vt.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function On(vt){if(vt.length>1&&Dn(vt[0])&&Dn(vt[1]))return!0;if(Array.isArray(vt[0])&&vt[0].length)return On(vt[0]);throw new Error("coordinates must only contain numbers")}function Er(vt,_t,xt){if(!_t||!xt)throw new Error("type and name required");if(!vt||vt.type!==_t)throw new Error("Invalid input to "+xt+": must be a "+_t+", given "+vt.type)}function Rn(vt,_t,xt){if(!vt)throw new Error("No feature passed");if(!xt)throw new Error(".featureOf() requires a name");if(!vt||vt.type!=="Feature"||!vt.geometry)throw new Error("Invalid input to "+xt+", Feature with geometry required");if(!vt.geometry||vt.geometry.type!==_t)throw new Error("Invalid input to "+xt+": must be a "+_t+", given "+vt.geometry.type)}function rr(vt,_t,xt){if(!vt)throw new Error("No featureCollection passed");if(!xt)throw new Error(".collectionOf() requires a name");if(!vt||vt.type!=="FeatureCollection")throw new Error("Invalid input to "+xt+", FeatureCollection required");for(var Mt=0,kt=vt.features;Mt<kt.length;Mt++){var It=kt[Mt];if(!It||It.type!=="Feature"||!It.geometry)throw new Error("Invalid input to "+xt+", Feature with geometry required");if(!It.geometry||It.geometry.type!==_t)throw new Error("Invalid input to "+xt+": must be a "+_t+", given "+It.geometry.type)}}function Kn(vt){return vt.type==="Feature"?vt.geometry:vt}function gr(vt,_t){return vt.type==="FeatureCollection"?"FeatureCollection":vt.type==="GeometryCollection"?"GeometryCollection":vt.type==="Feature"&&vt.geometry!==null?vt.geometry.type:vt.type}vn.default=vn;var xr=Object.freeze({__proto__:null,getCoord:hn,getCoords:zn,containsNumber:On,geojsonType:Er,featureOf:Rn,collectionOf:rr,getGeom:Kn,getType:gr}),Lr=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Ar=Object.prototype.propertyIsEnumerable;/*
    object-assign
    (c) Sindre Sorhus
    @license MIT
    */function mi(vt){if(vt==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(vt)}var vi=function(){try{if(!Object.assign)return!1;var vt=new String("abc");if(vt[5]="de",Object.getOwnPropertyNames(vt)[0]==="5")return!1;for(var _t={},xt=0;xt<10;xt++)_t["_"+String.fromCharCode(xt)]=xt;if(Object.getOwnPropertyNames(_t).map(function(kt){return _t[kt]}).join("")!=="0123456789")return!1;var Mt={};return"abcdefghijklmnopqrst".split("").forEach(function(kt){Mt[kt]=kt}),Object.keys(Object.assign({},Mt)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}()?Object.assign:function(vt,_t){for(var xt,Mt,kt=mi(vt),It=1;It<arguments.length;It++){for(var Rt in xt=Object(arguments[It]))Cr.call(xt,Rt)&&(kt[Rt]=xt[Rt]);if(Lr){Mt=Lr(xt);for(var Ut=0;Ut<Mt.length;Ut++)Ar.call(xt,Mt[Ut])&&(kt[Mt[Ut]]=xt[Mt[Ut]])}}return kt},xi={successCallback:null,verbose:!1},Ci={};/**
     * @license GNU Affero General Public License.
     * Copyright (c) 2015, 2015 Ronny Lorenz <ronny@tbi.univie.ac.at>
     * v. 1.2.0
     * https://github.com/RaumZeit/MarchingSquares.js
     *
     * MarchingSquaresJS is free software: you can redistribute it and/or modify
     * it under the terms of the GNU Affero General Public License as published by
     * the Free Software Foundation, either version 3 of the License, or
     * (at your option) any later version.
     *
     * MarchingSquaresJS is distributed in the hope that it will be useful,
     * but WITHOUT ANY WARRANTY; without even the implied warranty of
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
     * GNU Affero General Public License for more details.
     *
     * As additional permission under GNU Affero General Public License version 3
     * section 7, third-party projects (personal or commercial) may distribute,
     * include, or link against UNMODIFIED VERSIONS of MarchingSquaresJS without the
     * requirement that said third-party project for that reason alone becomes
     * subject to any requirement of the GNU Affero General Public License version 3.
     * Any modifications to MarchingSquaresJS, however, must be shared with the public
     * and made available.
     *
     * In summary this:
     * - allows you to use MarchingSquaresJS at no cost
     * - allows you to use MarchingSquaresJS for both personal and commercial purposes
     * - allows you to distribute UNMODIFIED VERSIONS of MarchingSquaresJS under any
     *   license as long as this license notice is included
     * - enables you to keep the source code of your program that uses MarchingSquaresJS
     *   undisclosed
     * - forces you to share any modifications you have made to MarchingSquaresJS,
     *   e.g. bug-fixes
     *
     * You should have received a copy of the GNU Affero General Public License
     * along with MarchingSquaresJS.  If not, see <http://www.gnu.org/licenses/>.
     */function Ei(vt,_t,xt){xt=xt||{};for(var Mt=Object.keys(xi),kt=0;kt<Mt.length;kt++){var It=Mt[kt],Rt=xt[It];Rt=Rt!=null?Rt:xi[It],Ci[It]=Rt}Ci.verbose&&console.log("MarchingSquaresJS-isoContours: computing isocontour for "+_t);var Ut=function(Wt){var qt=[],on=0,Jt=1e-7;return Wt.cells.forEach(function(un,En){un.forEach(function(Tn,In){if(Tn!==void 0&&(ir=Tn).cval!==5&&ir.cval!==10&&!Ai(Tn)){var mn=function(Jn,oi,Gr){var li,qr,fi=Jn.length,ti=[],ei=[0,0,1,1,0,0,0,0,-1,0,1,1,-1,0,-1,0],Qr=[0,-1,0,0,1,1,1,1,0,-1,0,0,0,-1,0,0],ui=["none","left","bottom","left","right","none","bottom","left","top","top","none","top","right","right","bottom","none"],ni=["none","bottom","right","right","top","top","top","top","left","bottom","right","right","left","bottom","left","none"],gi=Jn[oi][Gr],zr=gi.cval,co=ui[zr],$i=Ln(gi,co);ti.push([Gr+$i[0],oi+$i[1]]),co=ni[zr],$i=Ln(gi,co),ti.push([Gr+$i[0],oi+$i[1]]),Fr(gi);for(var Qo=Gr+ei[zr],ro=oi+Qr[zr],ko=zr;Qo>=0&&ro>=0&&ro<fi&&(Qo!=Gr||ro!=oi)&&(gi=Jn[ro][Qo])!==void 0;){if((zr=gi.cval)===0||zr===15)return{path:ti,info:"mergeable"};co=ni[zr],li=ei[zr],qr=Qr[zr],zr!==5&&zr!==10||(zr===5?gi.flipped?Qr[ko]===-1?(co="left",li=-1,qr=0):(co="right",li=1,qr=0):ei[ko]===-1&&(co="bottom",li=0,qr=-1):zr===10&&(gi.flipped?ei[ko]===-1?(co="top",li=0,qr=1):(co="bottom",li=0,qr=-1):Qr[ko]===1&&(co="left",li=-1,qr=0))),$i=Ln(gi,co),ti.push([Qo+$i[0],ro+$i[1]]),Fr(gi),Qo+=li,ro+=qr,ko=zr}return{path:ti,info:"closed"}}(Wt.cells,En,In),Wn=!1;if(mn.info==="mergeable"){for(var pr=mn.path[mn.path.length-1][0],kn=mn.path[mn.path.length-1][1],Vn=on-1;Vn>=0;Vn--)if(Math.abs(qt[Vn][0][0]-pr)<=Jt&&Math.abs(qt[Vn][0][1]-kn)<=Jt){for(var Qn=mn.path.length-2;Qn>=0;--Qn)qt[Vn].unshift(mn.path[Qn]);Wn=!0;break}}Wn||(qt[on++]=mn.path)}var ir})}),qt}(function(Wt,qt){for(var on=Wt.length-1,Jt=Wt[0].length-1,un={rows:on,cols:Jt,cells:[]},En=0;En<on;++En){un.cells[En]=[];for(var Tn=0;Tn<Jt;++Tn){var In=0,mn=Wt[En+1][Tn],Wn=Wt[En+1][Tn+1],pr=Wt[En][Tn+1],kn=Wt[En][Tn];if(!(isNaN(mn)||isNaN(Wn)||isNaN(pr)||isNaN(kn))){In|=mn>=qt?8:0,In|=Wn>=qt?4:0,In|=pr>=qt?2:0;var Vn,Qn,ir,Jn,oi=!1;if((In|=kn>=qt?1:0)===5||In===10){var Gr=(mn+Wn+pr+kn)/4;In===5&&Gr<qt?(In=10,oi=!0):In===10&&Gr<qt&&(In=5,oi=!0)}In!==0&&In!==15&&(Vn=Qn=ir=Jn=.5,In===1?(ir=1-Bi(qt,mn,kn),Qn=1-Bi(qt,pr,kn)):In===2?(Qn=Bi(qt,kn,pr),Jn=1-Bi(qt,Wn,pr)):In===3?(ir=1-Bi(qt,mn,kn),Jn=1-Bi(qt,Wn,pr)):In===4?(Vn=Bi(qt,mn,Wn),Jn=Bi(qt,pr,Wn)):In===5?(Vn=Bi(qt,mn,Wn),Jn=Bi(qt,pr,Wn),Qn=1-Bi(qt,pr,kn),ir=1-Bi(qt,mn,kn)):In===6?(Qn=Bi(qt,kn,pr),Vn=Bi(qt,mn,Wn)):In===7?(ir=1-Bi(qt,mn,kn),Vn=Bi(qt,mn,Wn)):In===8?(ir=Bi(qt,kn,mn),Vn=1-Bi(qt,Wn,mn)):In===9?(Qn=1-Bi(qt,pr,kn),Vn=1-Bi(qt,Wn,mn)):In===10?(Vn=1-Bi(qt,Wn,mn),Jn=1-Bi(qt,Wn,pr),Qn=Bi(qt,kn,pr),ir=Bi(qt,kn,mn)):In===11?(Vn=1-Bi(qt,Wn,mn),Jn=1-Bi(qt,Wn,pr)):In===12?(ir=Bi(qt,kn,mn),Jn=Bi(qt,pr,Wn)):In===13?(Qn=1-Bi(qt,pr,kn),Jn=Bi(qt,pr,Wn)):In===14?(ir=Bi(qt,kn,mn),Qn=Bi(qt,kn,pr)):console.log("MarchingSquaresJS-isoContours: Illegal cval detected: "+In),un.cells[En][Tn]={cval:In,flipped:oi,top:Vn,right:Jn,bottom:Qn,left:ir})}}}return un}(vt,_t));return typeof Ci.successCallback=="function"&&Ci.successCallback(Ut),Ut}function Bi(vt,_t,xt){return(vt-_t)/(xt-_t)}function Ai(vt){return vt.cval===0||vt.cval===15}function Fr(vt){Ai(vt)||vt.cval===5||vt.cval===10||(vt.cval=15)}function Ln(vt,_t){return _t==="top"?[vt.top,1]:_t==="bottom"?[vt.bottom,0]:_t==="right"?[1,vt.right]:_t==="left"?[0,vt.left]:void 0}function Nn(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.zProperty||"elevation",Mt=_t.flip,kt=_t.flags;rr(vt,"Point","input must contain Points");for(var It=function(un,En){var Tn={};return Gn(un,function(In){var mn=zn(In)[1];Tn[mn]||(Tn[mn]=[]),Tn[mn].push(In)}),Object.keys(Tn).map(function(In){return Tn[In].sort(function(mn,Wn){return zn(mn)[0]-zn(Wn)[0]})}).sort(function(In,mn){return En?zn(In[0])[1]-zn(mn[0])[1]:zn(mn[0])[1]-zn(In[0])[1]})}(vt,Mt),Rt=[],Ut=0;Ut<It.length;Ut++){for(var Wt=It[Ut],qt=[],on=0;on<Wt.length;on++){var Jt=Wt[on];Jt.properties[xt]?qt.push(Jt.properties[xt]):qt.push(0),kt===!0&&(Jt.properties.matrixPosition=[Ut,on])}Rt.push(qt)}return Rt}var er=Nr,sr=Nr;function Nr(vt,_t,xt,Mt,kt){Jr(vt,_t,xt||0,Mt||vt.length-1,kt||yi)}function Jr(vt,_t,xt,Mt,kt){for(;Mt>xt;){if(Mt-xt>600){var It=Mt-xt+1,Rt=_t-xt+1,Ut=Math.log(It),Wt=.5*Math.exp(2*Ut/3),qt=.5*Math.sqrt(Ut*Wt*(It-Wt)/It)*(Rt-It/2<0?-1:1);Jr(vt,_t,Math.max(xt,Math.floor(_t-Rt*Wt/It+qt)),Math.min(Mt,Math.floor(_t+(It-Rt)*Wt/It+qt)),kt)}var on=vt[_t],Jt=xt,un=Mt;for(Dr(vt,xt,_t),kt(vt[Mt],on)>0&&Dr(vt,xt,Mt);Jt<un;){for(Dr(vt,Jt,un),Jt++,un--;kt(vt[Jt],on)<0;)Jt++;for(;kt(vt[un],on)>0;)un--}kt(vt[xt],on)===0?Dr(vt,xt,un):Dr(vt,++un,Mt),un<=_t&&(xt=un+1),_t<=un&&(Mt=un-1)}}function Dr(vt,_t,xt){var Mt=vt[_t];vt[_t]=vt[xt],vt[xt]=Mt}function yi(vt,_t){return vt<_t?-1:vt>_t?1:0}er.default=sr;var Br=Ni,Si=Ni;function Ni(vt,_t){if(!(this instanceof Ni))return new Ni(vt,_t);this._maxEntries=Math.max(4,vt||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),_t&&this._initFormat(_t),this.clear()}function Ri(vt,_t,xt){if(!xt)return _t.indexOf(vt);for(var Mt=0;Mt<_t.length;Mt++)if(xt(vt,_t[Mt]))return Mt;return-1}function Li(vt,_t){eo(vt,0,vt.children.length,_t,vt)}function eo(vt,_t,xt,Mt,kt){kt||(kt=lo(null)),kt.minX=1/0,kt.minY=1/0,kt.maxX=-1/0,kt.maxY=-1/0;for(var It,Rt=_t;Rt<xt;Rt++)It=vt.children[Rt],Ui(kt,vt.leaf?Mt(It):It);return kt}function Ui(vt,_t){return vt.minX=Math.min(vt.minX,_t.minX),vt.minY=Math.min(vt.minY,_t.minY),vt.maxX=Math.max(vt.maxX,_t.maxX),vt.maxY=Math.max(vt.maxY,_t.maxY),vt}function oo(vt,_t){return vt.minX-_t.minX}function wo(vt,_t){return vt.minY-_t.minY}function uo(vt){return(vt.maxX-vt.minX)*(vt.maxY-vt.minY)}function Cs(vt){return vt.maxX-vt.minX+(vt.maxY-vt.minY)}function Za(vt,_t){return vt.minX<=_t.minX&&vt.minY<=_t.minY&&_t.maxX<=vt.maxX&&_t.maxY<=vt.maxY}function ji(vt,_t){return _t.minX<=vt.maxX&&_t.minY<=vt.maxY&&_t.maxX>=vt.minX&&_t.maxY>=vt.minY}function lo(vt){return{children:vt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function Va(vt,_t,xt,Mt,kt){for(var It,Rt=[_t,xt];Rt.length;)(xt=Rt.pop())-(_t=Rt.pop())<=Mt||(It=_t+Math.ceil((xt-_t)/Mt/2)*Mt,er(vt,It,_t,xt,kt),Rt.push(_t,It,It,xt))}function Ti(vt){var _t={exports:{}};return vt(_t,_t.exports),_t.exports}Ni.prototype={all:function(){return this._all(this.data,[])},search:function(vt){var _t=this.data,xt=[],Mt=this.toBBox;if(!ji(vt,_t))return xt;for(var kt,It,Rt,Ut,Wt=[];_t;){for(kt=0,It=_t.children.length;kt<It;kt++)Rt=_t.children[kt],ji(vt,Ut=_t.leaf?Mt(Rt):Rt)&&(_t.leaf?xt.push(Rt):Za(vt,Ut)?this._all(Rt,xt):Wt.push(Rt));_t=Wt.pop()}return xt},collides:function(vt){var _t=this.data,xt=this.toBBox;if(!ji(vt,_t))return!1;for(var Mt,kt,It,Rt,Ut=[];_t;){for(Mt=0,kt=_t.children.length;Mt<kt;Mt++)if(It=_t.children[Mt],ji(vt,Rt=_t.leaf?xt(It):It)){if(_t.leaf||Za(vt,Rt))return!0;Ut.push(It)}_t=Ut.pop()}return!1},load:function(vt){if(!vt||!vt.length)return this;if(vt.length<this._minEntries){for(var _t=0,xt=vt.length;_t<xt;_t++)this.insert(vt[_t]);return this}var Mt=this._build(vt.slice(),0,vt.length-1,0);if(this.data.children.length)if(this.data.height===Mt.height)this._splitRoot(this.data,Mt);else{if(this.data.height<Mt.height){var kt=this.data;this.data=Mt,Mt=kt}this._insert(Mt,this.data.height-Mt.height-1,!0)}else this.data=Mt;return this},insert:function(vt){return vt&&this._insert(vt,this.data.height-1),this},clear:function(){return this.data=lo([]),this},remove:function(vt,_t){if(!vt)return this;for(var xt,Mt,kt,It,Rt=this.data,Ut=this.toBBox(vt),Wt=[],qt=[];Rt||Wt.length;){if(Rt||(Rt=Wt.pop(),Mt=Wt[Wt.length-1],xt=qt.pop(),It=!0),Rt.leaf&&(kt=Ri(vt,Rt.children,_t))!==-1)return Rt.children.splice(kt,1),Wt.push(Rt),this._condense(Wt),this;It||Rt.leaf||!Za(Rt,Ut)?Mt?(xt++,Rt=Mt.children[xt],It=!1):Rt=null:(Wt.push(Rt),qt.push(xt),xt=0,Mt=Rt,Rt=Rt.children[0])}return this},toBBox:function(vt){return vt},compareMinX:oo,compareMinY:wo,toJSON:function(){return this.data},fromJSON:function(vt){return this.data=vt,this},_all:function(vt,_t){for(var xt=[];vt;)vt.leaf?_t.push.apply(_t,vt.children):xt.push.apply(xt,vt.children),vt=xt.pop();return _t},_build:function(vt,_t,xt,Mt){var kt,It=xt-_t+1,Rt=this._maxEntries;if(It<=Rt)return Li(kt=lo(vt.slice(_t,xt+1)),this.toBBox),kt;Mt||(Mt=Math.ceil(Math.log(It)/Math.log(Rt)),Rt=Math.ceil(It/Math.pow(Rt,Mt-1))),(kt=lo([])).leaf=!1,kt.height=Mt;var Ut,Wt,qt,on,Jt=Math.ceil(It/Rt),un=Jt*Math.ceil(Math.sqrt(Rt));for(Va(vt,_t,xt,un,this.compareMinX),Ut=_t;Ut<=xt;Ut+=un)for(Va(vt,Ut,qt=Math.min(Ut+un-1,xt),Jt,this.compareMinY),Wt=Ut;Wt<=qt;Wt+=Jt)on=Math.min(Wt+Jt-1,qt),kt.children.push(this._build(vt,Wt,on,Mt-1));return Li(kt,this.toBBox),kt},_chooseSubtree:function(vt,_t,xt,Mt){for(var kt,It,Rt,Ut,Wt,qt,on,Jt,un,En;Mt.push(_t),!_t.leaf&&Mt.length-1!==xt;){for(on=Jt=1/0,kt=0,It=_t.children.length;kt<It;kt++)Wt=uo(Rt=_t.children[kt]),un=vt,En=Rt,(qt=(Math.max(En.maxX,un.maxX)-Math.min(En.minX,un.minX))*(Math.max(En.maxY,un.maxY)-Math.min(En.minY,un.minY))-Wt)<Jt?(Jt=qt,on=Wt<on?Wt:on,Ut=Rt):qt===Jt&&Wt<on&&(on=Wt,Ut=Rt);_t=Ut||_t.children[0]}return _t},_insert:function(vt,_t,xt){var Mt=this.toBBox,kt=xt?vt:Mt(vt),It=[],Rt=this._chooseSubtree(kt,this.data,_t,It);for(Rt.children.push(vt),Ui(Rt,kt);_t>=0&&It[_t].children.length>this._maxEntries;)this._split(It,_t),_t--;this._adjustParentBBoxes(kt,It,_t)},_split:function(vt,_t){var xt=vt[_t],Mt=xt.children.length,kt=this._minEntries;this._chooseSplitAxis(xt,kt,Mt);var It=this._chooseSplitIndex(xt,kt,Mt),Rt=lo(xt.children.splice(It,xt.children.length-It));Rt.height=xt.height,Rt.leaf=xt.leaf,Li(xt,this.toBBox),Li(Rt,this.toBBox),_t?vt[_t-1].children.push(Rt):this._splitRoot(xt,Rt)},_splitRoot:function(vt,_t){this.data=lo([vt,_t]),this.data.height=vt.height+1,this.data.leaf=!1,Li(this.data,this.toBBox)},_chooseSplitIndex:function(vt,_t,xt){var Mt,kt,It,Rt,Ut,Wt,qt,on,Jt,un,En,Tn,In,mn;for(Wt=qt=1/0,Mt=_t;Mt<=xt-_t;Mt++)kt=eo(vt,0,Mt,this.toBBox),It=eo(vt,Mt,xt,this.toBBox),Jt=kt,un=It,En=void 0,Tn=void 0,In=void 0,mn=void 0,En=Math.max(Jt.minX,un.minX),Tn=Math.max(Jt.minY,un.minY),In=Math.min(Jt.maxX,un.maxX),mn=Math.min(Jt.maxY,un.maxY),Rt=Math.max(0,In-En)*Math.max(0,mn-Tn),Ut=uo(kt)+uo(It),Rt<Wt?(Wt=Rt,on=Mt,qt=Ut<qt?Ut:qt):Rt===Wt&&Ut<qt&&(qt=Ut,on=Mt);return on},_chooseSplitAxis:function(vt,_t,xt){var Mt=vt.leaf?this.compareMinX:oo,kt=vt.leaf?this.compareMinY:wo;this._allDistMargin(vt,_t,xt,Mt)<this._allDistMargin(vt,_t,xt,kt)&&vt.children.sort(Mt)},_allDistMargin:function(vt,_t,xt,Mt){vt.children.sort(Mt);var kt,It,Rt=this.toBBox,Ut=eo(vt,0,_t,Rt),Wt=eo(vt,xt-_t,xt,Rt),qt=Cs(Ut)+Cs(Wt);for(kt=_t;kt<xt-_t;kt++)It=vt.children[kt],Ui(Ut,vt.leaf?Rt(It):It),qt+=Cs(Ut);for(kt=xt-_t-1;kt>=_t;kt--)It=vt.children[kt],Ui(Wt,vt.leaf?Rt(It):It),qt+=Cs(Wt);return qt},_adjustParentBBoxes:function(vt,_t,xt){for(var Mt=xt;Mt>=0;Mt--)Ui(_t[Mt],vt)},_condense:function(vt){for(var _t,xt=vt.length-1;xt>=0;xt--)vt[xt].children.length===0?xt>0?(_t=vt[xt-1].children).splice(_t.indexOf(vt[xt]),1):this.clear():Li(vt[xt],this.toBBox)},_initFormat:function(vt){var _t=["return a"," - b",";"];this.compareMinX=new Function("a","b",_t.join(vt[0])),this.compareMinY=new Function("a","b",_t.join(vt[1])),this.toBBox=new Function("a","return {minX: a"+vt[0]+", minY: a"+vt[1]+", maxX: a"+vt[2]+", maxY: a"+vt[3]+"};")}},Br.default=Si;var ca=function(vt,_t,xt){var Mt=vt*_t,kt=Sa*vt,It=kt-(kt-vt),Rt=vt-It,Ut=Sa*_t,Wt=Ut-(Ut-_t),qt=_t-Wt,on=Rt*qt-(Mt-It*Wt-Rt*Wt-It*qt);return xt?(xt[0]=on,xt[1]=Mt,xt):[on,Mt]},Sa=+(Math.pow(2,27)+1),Ya=function(vt,_t){var xt=0|vt.length,Mt=0|_t.length;if(xt===1&&Mt===1)return function(ir,Jn){var oi=ir+Jn,Gr=oi-ir,li=ir-(oi-Gr)+(Jn-Gr);return li?[li,oi]:[oi]}(vt[0],_t[0]);var kt,It,Rt=new Array(xt+Mt),Ut=0,Wt=0,qt=0,on=Math.abs,Jt=vt[Wt],un=on(Jt),En=_t[qt],Tn=on(En);un<Tn?(It=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(It=En,(qt+=1)<Mt&&(En=_t[qt],Tn=on(En))),Wt<xt&&un<Tn||qt>=Mt?(kt=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(kt=En,(qt+=1)<Mt&&(En=_t[qt],Tn=on(En)));for(var In,mn,Wn=kt+It,pr=Wn-kt,kn=It-pr,Vn=kn,Qn=Wn;Wt<xt&&qt<Mt;)un<Tn?(kt=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(kt=En,(qt+=1)<Mt&&(En=_t[qt],Tn=on(En))),(kn=(It=Vn)-(pr=(Wn=kt+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In;for(;Wt<xt;)(kn=(It=Vn)-(pr=(Wn=(kt=Jt)+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In,(Wt+=1)<xt&&(Jt=vt[Wt]);for(;qt<Mt;)(kn=(It=Vn)-(pr=(Wn=(kt=En)+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In,(qt+=1)<Mt&&(En=_t[qt]);return Vn&&(Rt[Ut++]=Vn),Qn&&(Rt[Ut++]=Qn),Ut||(Rt[Ut++]=0),Rt.length=Ut,Rt},Hr=function(vt,_t,xt){var Mt=vt+_t,kt=Mt-vt,It=_t-kt,Rt=vt-(Mt-kt);return xt?(xt[0]=Rt+It,xt[1]=Mt,xt):[Rt+It,Mt]},ii=function(vt,_t){var xt=vt.length;if(xt===1){var Mt=ca(vt[0],_t);return Mt[0]?Mt:[Mt[1]]}var kt=new Array(2*xt),It=[.1,.1],Rt=[.1,.1],Ut=0;ca(vt[0],_t,It),It[0]&&(kt[Ut++]=It[0]);for(var Wt=1;Wt<xt;++Wt){ca(vt[Wt],_t,Rt);var qt=It[1];Hr(qt,Rt[0],It),It[0]&&(kt[Ut++]=It[0]);var on=Rt[1],Jt=It[1],un=on+Jt,En=Jt-(un-on);It[1]=un,En&&(kt[Ut++]=En)}return It[1]&&(kt[Ut++]=It[1]),Ut===0&&(kt[Ut++]=0),kt.length=Ut,kt},Ur=function(vt,_t){var xt=0|vt.length,Mt=0|_t.length;if(xt===1&&Mt===1)return function(ir,Jn){var oi=ir+Jn,Gr=oi-ir,li=ir-(oi-Gr)+(Jn-Gr);return li?[li,oi]:[oi]}(vt[0],-_t[0]);var kt,It,Rt=new Array(xt+Mt),Ut=0,Wt=0,qt=0,on=Math.abs,Jt=vt[Wt],un=on(Jt),En=-_t[qt],Tn=on(En);un<Tn?(It=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(It=En,(qt+=1)<Mt&&(En=-_t[qt],Tn=on(En))),Wt<xt&&un<Tn||qt>=Mt?(kt=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(kt=En,(qt+=1)<Mt&&(En=-_t[qt],Tn=on(En)));for(var In,mn,Wn=kt+It,pr=Wn-kt,kn=It-pr,Vn=kn,Qn=Wn;Wt<xt&&qt<Mt;)un<Tn?(kt=Jt,(Wt+=1)<xt&&(Jt=vt[Wt],un=on(Jt))):(kt=En,(qt+=1)<Mt&&(En=-_t[qt],Tn=on(En))),(kn=(It=Vn)-(pr=(Wn=kt+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In;for(;Wt<xt;)(kn=(It=Vn)-(pr=(Wn=(kt=Jt)+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In,(Wt+=1)<xt&&(Jt=vt[Wt]);for(;qt<Mt;)(kn=(It=Vn)-(pr=(Wn=(kt=En)+It)-kt))&&(Rt[Ut++]=kn),Vn=Qn-((In=Qn+Wn)-(mn=In-Qn))+(Wn-mn),Qn=In,(qt+=1)<Mt&&(En=-_t[qt]);return Vn&&(Rt[Ut++]=Vn),Qn&&(Rt[Ut++]=Qn),Ut||(Rt[Ut++]=0),Rt.length=Ut,Rt},Tr=Ti(function(vt){function _t(qt,on){for(var Jt=new Array(qt.length-1),un=1;un<qt.length;++un)for(var En=Jt[un-1]=new Array(qt.length-1),Tn=0,In=0;Tn<qt.length;++Tn)Tn!==on&&(En[In++]=qt[un][Tn]);return Jt}function xt(qt){if(qt.length===1)return qt[0];if(qt.length===2)return["sum(",qt[0],",",qt[1],")"].join("");var on=qt.length>>1;return["sum(",xt(qt.slice(0,on)),",",xt(qt.slice(on)),")"].join("")}function Mt(qt){if(qt.length===2)return[["sum(prod(",qt[0][0],",",qt[1][1],"),prod(-",qt[0][1],",",qt[1][0],"))"].join("")];for(var on=[],Jt=0;Jt<qt.length;++Jt)on.push(["scale(",xt(Mt(_t(qt,Jt))),",",(un=Jt,1&un?"-":""),qt[0][Jt],")"].join(""));return on;var un}function kt(qt){for(var on=[],Jt=[],un=function(kn){for(var Vn=new Array(kn),Qn=0;Qn<kn;++Qn){Vn[Qn]=new Array(kn);for(var ir=0;ir<kn;++ir)Vn[Qn][ir]=["m",ir,"[",kn-Qn-1,"]"].join("")}return Vn}(qt),En=[],Tn=0;Tn<qt;++Tn)(1&Tn)==0?on.push.apply(on,Mt(_t(un,Tn))):Jt.push.apply(Jt,Mt(_t(un,Tn))),En.push("m"+Tn);var In=xt(on),mn=xt(Jt),Wn="orientation"+qt+"Exact",pr=["function ",Wn,"(",En.join(),"){var p=",In,",n=",mn,",d=sub(p,n);return d[d.length-1];};return ",Wn].join("");return new Function("sum","prod","scale","sub",pr)(Ya,ca,ii,Ur)}var It=kt(3),Rt=kt(4),Ut=[function(){return 0},function(){return 0},function(qt,on){return on[0]-qt[0]},function(qt,on,Jt){var un,En=(qt[1]-Jt[1])*(on[0]-Jt[0]),Tn=(qt[0]-Jt[0])*(on[1]-Jt[1]),In=En-Tn;if(En>0){if(Tn<=0)return In;un=En+Tn}else{if(!(En<0)||Tn>=0)return In;un=-(En+Tn)}var mn=33306690738754716e-32*un;return In>=mn||In<=-mn?In:It(qt,on,Jt)},function(qt,on,Jt,un){var En=qt[0]-un[0],Tn=on[0]-un[0],In=Jt[0]-un[0],mn=qt[1]-un[1],Wn=on[1]-un[1],pr=Jt[1]-un[1],kn=qt[2]-un[2],Vn=on[2]-un[2],Qn=Jt[2]-un[2],ir=Tn*pr,Jn=In*Wn,oi=In*mn,Gr=En*pr,li=En*Wn,qr=Tn*mn,fi=kn*(ir-Jn)+Vn*(oi-Gr)+Qn*(li-qr),ti=7771561172376103e-31*((Math.abs(ir)+Math.abs(Jn))*Math.abs(kn)+(Math.abs(oi)+Math.abs(Gr))*Math.abs(Vn)+(Math.abs(li)+Math.abs(qr))*Math.abs(Qn));return fi>ti||-fi>ti?fi:Rt(qt,on,Jt,un)}];function Wt(qt){var on=Ut[qt.length];return on||(on=Ut[qt.length]=kt(qt.length)),on.apply(void 0,qt)}(function(){for(;Ut.length<=5;)Ut.push(kt(Ut.length));for(var qt=[],on=["slow"],Jt=0;Jt<=5;++Jt)qt.push("a"+Jt),on.push("o"+Jt);var un=["function getOrientation(",qt.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(Jt=2;Jt<=5;++Jt)un.push("case ",Jt,":return o",Jt,"(",qt.slice(0,Jt).join(),");");un.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),on.push(un.join(""));var En=Function.apply(void 0,on);for(vt.exports=En.apply(void 0,[Wt].concat(Ut)),Jt=0;Jt<=5;++Jt)vt.exports[Jt]=Ut[Jt]})()}),Zr=function(vt){var _t=vt.length;if(_t<3){for(var xt=new Array(_t),Mt=0;Mt<_t;++Mt)xt[Mt]=Mt;return _t===2&&vt[0][0]===vt[1][0]&&vt[0][1]===vt[1][1]?[0]:xt}var kt=new Array(_t);for(Mt=0;Mt<_t;++Mt)kt[Mt]=Mt;kt.sort(function(En,Tn){var In=vt[En][0]-vt[Tn][0];return In||vt[En][1]-vt[Tn][1]});var It=[kt[0],kt[1]],Rt=[kt[0],kt[1]];for(Mt=2;Mt<_t;++Mt){for(var Ut=kt[Mt],Wt=vt[Ut],qt=It.length;qt>1&&bi(vt[It[qt-2]],vt[It[qt-1]],Wt)<=0;)qt-=1,It.pop();for(It.push(Ut),qt=Rt.length;qt>1&&bi(vt[Rt[qt-2]],vt[Rt[qt-1]],Wt)>=0;)qt-=1,Rt.pop();Rt.push(Ut)}xt=new Array(Rt.length+It.length-2);for(var on=0,Jt=(Mt=0,It.length);Mt<Jt;++Mt)xt[on++]=It[Mt];for(var un=Rt.length-2;un>0;--un)xt[on++]=Rt[un];return xt},bi=Tr[3],Ii=Eo,zo=Eo;function Eo(vt,_t){if(!(this instanceof Eo))return new Eo(vt,_t);if(this.data=vt||[],this.length=this.data.length,this.compare=_t||oa,this.length>0)for(var xt=(this.length>>1)-1;xt>=0;xt--)this._down(xt)}function oa(vt,_t){return vt<_t?-1:vt>_t?1:0}Eo.prototype={push:function(vt){this.data.push(vt),this.length++,this._up(this.length-1)},pop:function(){if(this.length!==0){var vt=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),vt}},peek:function(){return this.data[0]},_up:function(vt){for(var _t=this.data,xt=this.compare,Mt=_t[vt];vt>0;){var kt=vt-1>>1,It=_t[kt];if(xt(Mt,It)>=0)break;_t[vt]=It,vt=kt}_t[vt]=Mt},_down:function(vt){for(var _t=this.data,xt=this.compare,Mt=this.length>>1,kt=_t[vt];vt<Mt;){var It=1+(vt<<1),Rt=It+1,Ut=_t[It];if(Rt<this.length&&xt(_t[Rt],Ut)<0&&(It=Rt,Ut=_t[Rt]),xt(Ut,kt)>=0)break;_t[vt]=Ut,vt=It}_t[vt]=kt}},Ii.default=zo;var mo=function(vt,_t){for(var xt=vt[0],Mt=vt[1],kt=!1,It=0,Rt=_t.length-1;It<_t.length;Rt=It++){var Ut=_t[It][0],Wt=_t[It][1],qt=_t[Rt][0],on=_t[Rt][1];Wt>Mt!=on>Mt&&xt<(qt-Ut)*(Mt-Wt)/(on-Wt)+Ut&&(kt=!kt)}return kt},$o=Tr[3],Ja=vs,ys=vs;function vs(vt,_t,xt){_t=Math.max(0,_t===void 0?2:_t),xt=xt||0;for(var Mt,kt=function(pr){for(var kn=pr[0],Vn=pr[0],Qn=pr[0],ir=pr[0],Jn=0;Jn<pr.length;Jn++){var oi=pr[Jn];oi[0]<kn[0]&&(kn=oi),oi[0]>Qn[0]&&(Qn=oi),oi[1]<Vn[1]&&(Vn=oi),oi[1]>ir[1]&&(ir=oi)}var Gr=[kn,Vn,Qn,ir],li=Gr.slice();for(Jn=0;Jn<pr.length;Jn++)mo(pr[Jn],Gr)||li.push(pr[Jn]);var qr=Zr(li),fi=[];for(Jn=0;Jn<qr.length;Jn++)fi.push(li[qr[Jn]]);return fi}(vt),It=Br(16,["[0]","[1]","[0]","[1]"]).load(vt),Rt=[],Ut=0;Ut<kt.length;Ut++){var Wt=kt[Ut];It.remove(Wt),Mt=tl(Wt,Mt),Rt.push(Mt)}var qt=Br(16);for(Ut=0;Ut<Rt.length;Ut++)qt.insert(Or(Rt[Ut]));for(var on=_t*_t,Jt=xt*xt;Rt.length;){var un=Rt.shift(),En=un.p,Tn=un.next.p,In=Vr(En,Tn);if(!(In<Jt)){var mn=In/on;(Wt=Zi(It,un.prev.p,En,Tn,un.next.next.p,mn,qt))&&Math.min(Vr(Wt,En),Vr(Wt,Tn))<=mn&&(Rt.push(un),Rt.push(tl(Wt,un)),It.remove(Wt),qt.remove(un),qt.insert(Or(un)),qt.insert(Or(un.next)))}}un=Mt;var Wn=[];do Wn.push(un.p),un=un.next;while(un!==Mt);return Wn.push(un.p),Wn}function Zi(vt,_t,xt,Mt,kt,It,Rt){for(var Ut=new Ii(null,bo),Wt=vt.data;Wt;){for(var qt=0;qt<Wt.children.length;qt++){var on=Wt.children[qt],Jt=Wt.leaf?hs(on,xt,Mt):ho(xt,Mt,on);Jt>It||Ut.push({node:on,dist:Jt})}for(;Ut.length&&!Ut.peek().node.children;){var un=Ut.pop(),En=un.node,Tn=hs(En,_t,xt),In=hs(En,Mt,kt);if(un.dist<Tn&&un.dist<In&&_o(xt,En,Rt)&&_o(Mt,En,Rt))return En}(Wt=Ut.pop())&&(Wt=Wt.node)}return null}function bo(vt,_t){return vt.dist-_t.dist}function ho(vt,_t,xt){if(Fi(vt,xt)||Fi(_t,xt))return 0;var Mt=yc(vt[0],vt[1],_t[0],_t[1],xt.minX,xt.minY,xt.maxX,xt.minY);if(Mt===0)return 0;var kt=yc(vt[0],vt[1],_t[0],_t[1],xt.minX,xt.minY,xt.minX,xt.maxY);if(kt===0)return 0;var It=yc(vt[0],vt[1],_t[0],_t[1],xt.maxX,xt.minY,xt.maxX,xt.maxY);if(It===0)return 0;var Rt=yc(vt[0],vt[1],_t[0],_t[1],xt.minX,xt.maxY,xt.maxX,xt.maxY);return Rt===0?0:Math.min(Mt,kt,It,Rt)}function Fi(vt,_t){return vt[0]>=_t.minX&&vt[0]<=_t.maxX&&vt[1]>=_t.minY&&vt[1]<=_t.maxY}function _o(vt,_t,xt){for(var Mt,kt,It,Rt,Ut=Math.min(vt[0],_t[0]),Wt=Math.min(vt[1],_t[1]),qt=Math.max(vt[0],_t[0]),on=Math.max(vt[1],_t[1]),Jt=xt.search({minX:Ut,minY:Wt,maxX:qt,maxY:on}),un=0;un<Jt.length;un++)if(Mt=Jt[un].p,kt=Jt[un].next.p,It=vt,Mt!==(Rt=_t)&&kt!==It&&$o(Mt,kt,It)>0!=$o(Mt,kt,Rt)>0&&$o(It,Rt,Mt)>0!=$o(It,Rt,kt)>0)return!1;return!0}function Or(vt){var _t=vt.p,xt=vt.next.p;return vt.minX=Math.min(_t[0],xt[0]),vt.minY=Math.min(_t[1],xt[1]),vt.maxX=Math.max(_t[0],xt[0]),vt.maxY=Math.max(_t[1],xt[1]),vt}function tl(vt,_t){var xt={p:vt,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return _t?(xt.next=_t.next,xt.prev=_t,_t.next.prev=xt,_t.next=xt):(xt.prev=xt,xt.next=xt),xt}function Vr(vt,_t){var xt=vt[0]-_t[0],Mt=vt[1]-_t[1];return xt*xt+Mt*Mt}function hs(vt,_t,xt){var Mt=_t[0],kt=_t[1],It=xt[0]-Mt,Rt=xt[1]-kt;if(It!==0||Rt!==0){var Ut=((vt[0]-Mt)*It+(vt[1]-kt)*Rt)/(It*It+Rt*Rt);Ut>1?(Mt=xt[0],kt=xt[1]):Ut>0&&(Mt+=It*Ut,kt+=Rt*Ut)}return(It=vt[0]-Mt)*It+(Rt=vt[1]-kt)*Rt}function yc(vt,_t,xt,Mt,kt,It,Rt,Ut){var Wt,qt,on,Jt,un=xt-vt,En=Mt-_t,Tn=Rt-kt,In=Ut-It,mn=vt-kt,Wn=_t-It,pr=un*un+En*En,kn=un*Tn+En*In,Vn=Tn*Tn+In*In,Qn=un*mn+En*Wn,ir=Tn*mn+In*Wn,Jn=pr*Vn-kn*kn,oi=Jn,Gr=Jn;Jn===0?(qt=0,oi=1,Jt=ir,Gr=Vn):(Jt=pr*ir-kn*Qn,(qt=kn*ir-Vn*Qn)<0?(qt=0,Jt=ir,Gr=Vn):qt>oi&&(qt=oi,Jt=ir+kn,Gr=Vn)),Jt<0?(Jt=0,-Qn<0?qt=0:-Qn>pr?qt=oi:(qt=-Qn,oi=pr)):Jt>Gr&&(Jt=Gr,-Qn+kn<0?qt=0:-Qn+kn>pr?qt=oi:(qt=-Qn+kn,oi=pr));var li=(1-(on=Jt===0?0:Jt/Gr))*kt+on*Rt-((1-(Wt=qt===0?0:qt/oi))*vt+Wt*xt),qr=(1-on)*It+on*Ut-((1-Wt)*_t+Wt*Mt);return li*li+qr*qr}function Vo(vt,_t){_t===void 0&&(_t={}),_t.concavity=_t.concavity||1/0;var xt=[];if(xn(vt,function(kt){xt.push([kt[0],kt[1]])}),!xt.length)return null;var Mt=Ja(xt,_t.concavity);return Mt.length>3?Dt([Mt]):null}function xo(vt,_t,xt){if(xt===void 0&&(xt={}),!vt)throw new Error("point is required");if(!_t)throw new Error("polygon is required");var Mt=hn(vt),kt=Kn(_t),It=kt.type,Rt=_t.bbox,Ut=kt.coordinates;if(Rt&&function(un,En){return En[0]<=un[0]&&En[1]<=un[1]&&En[2]>=un[0]&&En[3]>=un[1]}(Mt,Rt)===!1)return!1;It==="Polygon"&&(Ut=[Ut]);for(var Wt=!1,qt=0;qt<Ut.length&&!Wt;qt++)if(Gc(Mt,Ut[qt][0],xt.ignoreBoundary)){for(var on=!1,Jt=1;Jt<Ut[qt].length&&!on;)Gc(Mt,Ut[qt][Jt],!xt.ignoreBoundary)&&(on=!0),Jt++;on||(Wt=!0)}return Wt}function Gc(vt,_t,xt){var Mt=!1;_t[0][0]===_t[_t.length-1][0]&&_t[0][1]===_t[_t.length-1][1]&&(_t=_t.slice(0,_t.length-1));for(var kt=0,It=_t.length-1;kt<_t.length;It=kt++){var Rt=_t[kt][0],Ut=_t[kt][1],Wt=_t[It][0],qt=_t[It][1];if(vt[1]*(Rt-Wt)+Ut*(Wt-vt[0])+qt*(vt[0]-Rt)==0&&(Rt-vt[0])*(Wt-vt[0])<=0&&(Ut-vt[1])*(qt-vt[1])<=0)return!xt;Ut>vt[1]!=qt>vt[1]&&vt[0]<(Wt-Rt)*(vt[1]-Ut)/(qt-Ut)+Rt&&(Mt=!Mt)}return Mt}function Gi(vt,_t){var xt=[];return Gn(vt,function(Mt){var kt=!1;if(Mt.geometry.type==="Point")vr(_t,function(Rt){xo(Mt,Rt)&&(kt=!0)}),kt&&xt.push(Mt);else{if(Mt.geometry.type!=="MultiPoint")throw new Error("Input geometry must be a Point or MultiPoint");var It=[];vr(_t,function(Rt){xn(Mt,function(Ut){xo(Ut,Rt)&&(kt=!0,It.push(Ut))})}),kt&&xt.push(Xt(It))}}),Bt(xt)}function To(vt,_t,xt){xt===void 0&&(xt={});var Mt=hn(vt),kt=hn(_t),It=wn(kt[1]-Mt[1]),Rt=wn(kt[0]-Mt[0]),Ut=wn(Mt[1]),Wt=wn(kt[1]),qt=Math.pow(Math.sin(It/2),2)+Math.pow(Math.sin(Rt/2),2)*Math.cos(Ut)*Math.cos(Wt);return nn(2*Math.atan2(Math.sqrt(qt),Math.sqrt(1-qt)),xt.units)}function $s(vt,_t){var xt=!1;return Bt(function(Mt){if(Mt.length<3)return[];Mt.sort(Nl);for(var kt,It,Rt,Ut,Wt,qt,on=Mt.length-1,Jt=Mt[on].x,un=Mt[0].x,En=Mt[on].y,Tn=En,In=1e-12;on--;)Mt[on].y<En&&(En=Mt[on].y),Mt[on].y>Tn&&(Tn=Mt[on].y);var mn,Wn=un-Jt,pr=Tn-En,kn=Wn>pr?Wn:pr,Vn=.5*(un+Jt),Qn=.5*(Tn+En),ir=[new ec({__sentinel:!0,x:Vn-20*kn,y:Qn-kn},{__sentinel:!0,x:Vn,y:Qn+20*kn},{__sentinel:!0,x:Vn+20*kn,y:Qn-kn})],Jn=[],oi=[];for(on=Mt.length;on--;){for(oi.length=0,mn=ir.length;mn--;)(Wn=Mt[on].x-ir[mn].x)>0&&Wn*Wn>ir[mn].r?(Jn.push(ir[mn]),ir.splice(mn,1)):Wn*Wn+(pr=Mt[on].y-ir[mn].y)*pr>ir[mn].r||(oi.push(ir[mn].a,ir[mn].b,ir[mn].b,ir[mn].c,ir[mn].c,ir[mn].a),ir.splice(mn,1));for(ls(oi),mn=oi.length;mn;)It=oi[--mn],kt=oi[--mn],Rt=Mt[on],Ut=It.x-kt.x,Wt=It.y-kt.y,qt=2*(Ut*(Rt.y-It.y)-Wt*(Rt.x-It.x)),Math.abs(qt)>In&&ir.push(new ec(kt,It,Rt))}for(Array.prototype.push.apply(Jn,ir),on=Jn.length;on--;)(Jn[on].a.__sentinel||Jn[on].b.__sentinel||Jn[on].c.__sentinel)&&Jn.splice(on,1);return Jn}(vt.features.map(function(Mt){var kt={x:Mt.geometry.coordinates[0],y:Mt.geometry.coordinates[1]};return _t?kt.z=Mt.properties[_t]:Mt.geometry.coordinates.length===3&&(xt=!0,kt.z=Mt.geometry.coordinates[2]),kt})).map(function(Mt){var kt=[Mt.a.x,Mt.a.y],It=[Mt.b.x,Mt.b.y],Rt=[Mt.c.x,Mt.c.y],Ut={};return xt?(kt.push(Mt.a.z),It.push(Mt.b.z),Rt.push(Mt.c.z)):Ut={a:Mt.a.z,b:Mt.b.z,c:Mt.c.z},Dt([[kt,It,Rt,kt]],Ut)}))}Ja.default=ys;var ec=function(vt,_t,xt){this.a=vt,this.b=_t,this.c=xt;var Mt,kt,It=_t.x-vt.x,Rt=_t.y-vt.y,Ut=xt.x-vt.x,Wt=xt.y-vt.y,qt=It*(vt.x+_t.x)+Rt*(vt.y+_t.y),on=Ut*(vt.x+xt.x)+Wt*(vt.y+xt.y),Jt=2*(It*(xt.y-_t.y)-Rt*(xt.x-_t.x));this.x=(Wt*qt-Rt*on)/Jt,this.y=(It*on-Ut*qt)/Jt,Mt=this.x-vt.x,kt=this.y-vt.y,this.r=Mt*Mt+kt*kt};function Nl(vt,_t){return _t.x-vt.x}function ls(vt){var _t,xt,Mt,kt,It,Rt=vt.length;e:for(;Rt;)for(xt=vt[--Rt],_t=vt[--Rt],Mt=Rt;Mt;)if(It=vt[--Mt],_t===(kt=vt[--Mt])&&xt===It||_t===It&&xt===kt){vt.splice(Rt,2),vt.splice(Mt,2),Rt-=2;continue e}}function Wo(vt){if(!vt)throw new Error("geojson is required");switch(vt.type){case"Feature":return Xo(vt);case"FeatureCollection":return function(_t){var xt={type:"FeatureCollection"};return Object.keys(_t).forEach(function(Mt){switch(Mt){case"type":case"features":return;default:xt[Mt]=_t[Mt]}}),xt.features=_t.features.map(function(Mt){return Xo(Mt)}),xt}(vt);case"Point":case"LineString":case"Polygon":case"MultiPoint":case"MultiLineString":case"MultiPolygon":case"GeometryCollection":return Dl(vt);default:throw new Error("unknown GeoJSON type")}}function Xo(vt){var _t={type:"Feature"};return Object.keys(vt).forEach(function(xt){switch(xt){case"type":case"properties":case"geometry":return;default:_t[xt]=vt[xt]}}),_t.properties=bs(vt.properties),_t.geometry=Dl(vt.geometry),_t}function bs(vt){var _t={};return vt&&Object.keys(vt).forEach(function(xt){var Mt=vt[xt];typeof Mt=="object"?Mt===null?_t[xt]=null:Array.isArray(Mt)?_t[xt]=Mt.map(function(kt){return kt}):_t[xt]=bs(Mt):_t[xt]=Mt}),_t}function Dl(vt){var _t={type:vt.type};return vt.bbox&&(_t.bbox=vt.bbox),vt.type==="GeometryCollection"?(_t.geometries=vt.geometries.map(function(xt){return Dl(xt)}),_t):(_t.coordinates=_s(vt.coordinates),_t)}function _s(vt){var _t=vt;return typeof _t[0]!="object"?_t.slice():_t.map(function(xt){return _s(xt)})}function vl(vt,_t){if(_t===void 0&&(_t={}),!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.mutate;if(gr(vt)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!vt.features.length)throw new Error("geojson is empty");xt!==!1&&xt!==void 0||(vt=Wo(vt));var Mt=[],kt=br(vt,function(It,Rt){var Ut=function(Wt,qt){var on,Jt=Wt.geometry.coordinates,un=qt.geometry.coordinates,En=Ys(Jt[0]),Tn=Ys(Jt[Jt.length-1]),In=Ys(un[0]),mn=Ys(un[un.length-1]);if(En===mn)on=un.concat(Jt.slice(1));else if(In===Tn)on=Jt.concat(un.slice(1));else if(En===In)on=Jt.slice(1).reverse().concat(un);else{if(Tn!==mn)return null;on=Jt.concat(un.reverse().slice(1))}return zt(on)}(It,Rt);return Ut||(Mt.push(It),Rt)});return kt&&Mt.push(kt),Mt.length?Mt.length===1?Mt[0]:Yt(Mt.map(function(It){return It.coordinates})):null}function Ys(vt){return vt[0].toString()+","+vt[1].toString()}function Dc(vt){return vt}function Ic(vt,_t){var xt=function(qt){if(qt==null)return Dc;var on,Jt,un=qt.scale[0],En=qt.scale[1],Tn=qt.translate[0],In=qt.translate[1];return function(mn,Wn){Wn||(on=Jt=0);var pr=2,kn=mn.length,Vn=new Array(kn);for(Vn[0]=(on+=mn[0])*un+Tn,Vn[1]=(Jt+=mn[1])*En+In;pr<kn;)Vn[pr]=mn[pr],++pr;return Vn}}(vt.transform),Mt=vt.arcs;function kt(qt,on){on.length&&on.pop();for(var Jt=Mt[qt<0?~qt:qt],un=0,En=Jt.length;un<En;++un)on.push(xt(Jt[un],un));qt<0&&function(Tn,In){for(var mn,Wn=Tn.length,pr=Wn-In;pr<--Wn;)mn=Tn[pr],Tn[pr++]=Tn[Wn],Tn[Wn]=mn}(on,En)}function It(qt){return xt(qt)}function Rt(qt){for(var on=[],Jt=0,un=qt.length;Jt<un;++Jt)kt(qt[Jt],on);return on.length<2&&on.push(on[0]),on}function Ut(qt){for(var on=Rt(qt);on.length<4;)on.push(on[0]);return on}function Wt(qt){return qt.map(Ut)}return function qt(on){var Jt,un=on.type;switch(un){case"GeometryCollection":return{type:un,geometries:on.geometries.map(qt)};case"Point":Jt=It(on.coordinates);break;case"MultiPoint":Jt=on.coordinates.map(It);break;case"LineString":Jt=Rt(on.arcs);break;case"MultiLineString":Jt=on.arcs.map(Rt);break;case"Polygon":Jt=Wt(on.arcs);break;case"MultiPolygon":Jt=on.arcs.map(Wt);break;default:return null}return{type:un,coordinates:Jt}}(_t)}function vc(vt,_t){var xt={},Mt={},kt={},It=[],Rt=-1;function Ut(Wt,qt){for(var on in Wt){var Jt=Wt[on];delete qt[Jt.start],delete Jt.start,delete Jt.end,Jt.forEach(function(un){xt[un<0?~un:un]=1}),It.push(Jt)}}return _t.forEach(function(Wt,qt){var on,Jt=vt.arcs[Wt<0?~Wt:Wt];Jt.length<3&&!Jt[1][0]&&!Jt[1][1]&&(on=_t[++Rt],_t[Rt]=Wt,_t[qt]=on)}),_t.forEach(function(Wt){var qt,on,Jt=function(mn){var Wn,pr=vt.arcs[mn<0?~mn:mn],kn=pr[0];return vt.transform?(Wn=[0,0],pr.forEach(function(Vn){Wn[0]+=Vn[0],Wn[1]+=Vn[1]})):Wn=pr[pr.length-1],mn<0?[Wn,kn]:[kn,Wn]}(Wt),un=Jt[0],En=Jt[1];if(qt=kt[un])if(delete kt[qt.end],qt.push(Wt),qt.end=En,on=Mt[En]){delete Mt[on.start];var Tn=on===qt?qt:qt.concat(on);Mt[Tn.start=qt.start]=kt[Tn.end=on.end]=Tn}else Mt[qt.start]=kt[qt.end]=qt;else if(qt=Mt[En])if(delete Mt[qt.start],qt.unshift(Wt),qt.start=un,on=kt[un]){delete kt[on.end];var In=on===qt?qt:on.concat(qt);Mt[In.start=on.start]=kt[In.end=qt.end]=In}else Mt[qt.start]=kt[qt.end]=qt;else Mt[(qt=[Wt]).start=un]=kt[qt.end=En]=qt}),Ut(kt,Mt),Ut(Mt,kt),_t.forEach(function(Wt){xt[Wt<0?~Wt:Wt]||It.push([Wt])}),It}function Gs(vt,_t){var xt={},Mt=[],kt=[];function It(Ut){Ut.forEach(function(Wt){Wt.forEach(function(qt){(xt[qt=qt<0?~qt:qt]||(xt[qt]=[])).push(Ut)})}),Mt.push(Ut)}function Rt(Ut){return function(Wt){for(var qt,on=-1,Jt=Wt.length,un=Wt[Jt-1],En=0;++on<Jt;)qt=un,un=Wt[on],En+=qt[0]*un[1]-qt[1]*un[0];return Math.abs(En)}(Ic(vt,{type:"Polygon",arcs:[Ut]}).coordinates[0])}return _t.forEach(function Ut(Wt){switch(Wt.type){case"GeometryCollection":Wt.geometries.forEach(Ut);break;case"Polygon":It(Wt.arcs);break;case"MultiPolygon":Wt.arcs.forEach(It)}}),Mt.forEach(function(Ut){if(!Ut._){var Wt=[],qt=[Ut];for(Ut._=1,kt.push(Wt);Ut=qt.pop();)Wt.push(Ut),Ut.forEach(function(on){on.forEach(function(Jt){xt[Jt<0?~Jt:Jt].forEach(function(un){un._||(un._=1,qt.push(un))})})})}}),Mt.forEach(function(Ut){delete Ut._}),{type:"MultiPolygon",arcs:kt.map(function(Ut){var Wt,qt=[];if(Ut.forEach(function(Tn){Tn.forEach(function(In){In.forEach(function(mn){xt[mn<0?~mn:mn].length<2&&qt.push(mn)})})}),(Wt=(qt=vc(vt,qt)).length)>1)for(var on,Jt,un=1,En=Rt(qt[0]);un<Wt;++un)(on=Rt(qt[un]))>En&&(Jt=qt[0],qt[0]=qt[un],qt[un]=Jt,En=on);return qt}).filter(function(Ut){return Ut.length>0})}}var cu=Object.prototype.hasOwnProperty;function uu(vt,_t,xt,Mt,kt,It){arguments.length===3&&(Mt=It=Array,kt=null);for(var Rt=new Mt(vt=1<<Math.max(4,Math.ceil(Math.log(vt)/Math.LN2))),Ut=new It(vt),Wt=vt-1,qt=0;qt<vt;++qt)Rt[qt]=kt;function on(Tn,In){for(var mn=_t(Tn)&Wt,Wn=Rt[mn],pr=0;Wn!=kt;){if(xt(Wn,Tn))return Ut[mn]=In;if(++pr>=vt)throw new Error("full hashmap");Wn=Rt[mn=mn+1&Wt]}return Rt[mn]=Tn,Ut[mn]=In,In}function Jt(Tn,In){for(var mn=_t(Tn)&Wt,Wn=Rt[mn],pr=0;Wn!=kt;){if(xt(Wn,Tn))return Ut[mn];if(++pr>=vt)throw new Error("full hashmap");Wn=Rt[mn=mn+1&Wt]}return Rt[mn]=Tn,Ut[mn]=In,In}function un(Tn,In){for(var mn=_t(Tn)&Wt,Wn=Rt[mn],pr=0;Wn!=kt;){if(xt(Wn,Tn))return Ut[mn];if(++pr>=vt)break;Wn=Rt[mn=mn+1&Wt]}return In}function En(){for(var Tn=[],In=0,mn=Rt.length;In<mn;++In){var Wn=Rt[In];Wn!=kt&&Tn.push(Wn)}return Tn}return{set:on,maybeSet:Jt,get:un,keys:En}}function Wc(vt,_t){return vt[0]===_t[0]&&vt[1]===_t[1]}var Po=new ArrayBuffer(16),As=new Float64Array(Po),fo=new Uint32Array(Po);function Il(vt){As[0]=vt[0],As[1]=vt[1];var _t=fo[0]^fo[1];return 2147483647&(_t=_t<<5^_t>>7^fo[2]^fo[3])}function Th(vt){var _t,xt,Mt,kt,It=vt.coordinates,Rt=vt.lines,Ut=vt.rings,Wt=function(){for(var Gr=uu(1.4*It.length,Qn,ir,Int32Array,-1,Int32Array),li=new Int32Array(It.length),qr=0,fi=It.length;qr<fi;++qr)li[qr]=Gr.maybeSet(qr,qr);return li}(),qt=new Int32Array(It.length),on=new Int32Array(It.length),Jt=new Int32Array(It.length),un=new Int8Array(It.length),En=0;for(_t=0,xt=It.length;_t<xt;++_t)qt[_t]=on[_t]=Jt[_t]=-1;for(_t=0,xt=Rt.length;_t<xt;++_t){var Tn=Rt[_t],In=Tn[0],mn=Tn[1];for(Mt=Wt[In],kt=Wt[++In],++En,un[Mt]=1;++In<=mn;)Vn(_t,Mt,Mt=kt,kt=Wt[In]);++En,un[kt]=1}for(_t=0,xt=It.length;_t<xt;++_t)qt[_t]=-1;for(_t=0,xt=Ut.length;_t<xt;++_t){var Wn=Ut[_t],pr=Wn[0]+1,kn=Wn[1];for(Vn(_t,Wt[kn-1],Mt=Wt[pr-1],kt=Wt[pr]);++pr<=kn;)Vn(_t,Mt,Mt=kt,kt=Wt[pr])}function Vn(Gr,li,qr,fi){if(qt[qr]!==Gr){qt[qr]=Gr;var ti=on[qr];if(ti>=0){var ei=Jt[qr];ti===li&&ei===fi||ti===fi&&ei===li||(++En,un[qr]=1)}else on[qr]=li,Jt[qr]=fi}}function Qn(Gr){return Il(It[Gr])}function ir(Gr,li){return Wc(It[Gr],It[li])}qt=on=Jt=null;var Jn,oi=function(Gr,li,qr,fi,ti){arguments.length===3&&(fi=Array,ti=null);for(var ei=new fi(Gr=1<<Math.max(4,Math.ceil(Math.log(Gr)/Math.LN2))),Qr=Gr-1,ui=0;ui<Gr;++ui)ei[ui]=ti;function ni(co){for(var $i=li(co)&Qr,Qo=ei[$i],ro=0;Qo!=ti;){if(qr(Qo,co))return!0;if(++ro>=Gr)throw new Error("full hashset");Qo=ei[$i=$i+1&Qr]}return ei[$i]=co,!0}function gi(co){for(var $i=li(co)&Qr,Qo=ei[$i],ro=0;Qo!=ti;){if(qr(Qo,co))return!0;if(++ro>=Gr)break;Qo=ei[$i=$i+1&Qr]}return!1}function zr(){for(var co=[],$i=0,Qo=ei.length;$i<Qo;++$i){var ro=ei[$i];ro!=ti&&co.push(ro)}return co}return{add:ni,has:gi,values:zr}}(1.4*En,Il,Wc);for(_t=0,xt=It.length;_t<xt;++_t)un[Jn=Wt[_t]]&&oi.add(It[Jn]);return oi}function Lu(vt,_t,xt,Mt){Ou(vt,_t,xt),Ou(vt,_t,_t+Mt),Ou(vt,_t+Mt,xt)}function Ou(vt,_t,xt){for(var Mt,kt=_t+(xt---_t>>1);_t<kt;++_t,--xt)Mt=vt[_t],vt[_t]=vt[xt],vt[xt]=Mt}function qc(vt){var _t,xt,Mt={};for(_t in vt)Mt[_t]=(xt=vt[_t])==null?{type:null}:(xt.type==="FeatureCollection"?Pu:xt.type==="Feature"?Ul:Ms)(xt);return Mt}function Pu(vt){var _t={type:"GeometryCollection",geometries:vt.features.map(Ul)};return vt.bbox!=null&&(_t.bbox=vt.bbox),_t}function Ul(vt){var _t,xt=Ms(vt.geometry);for(_t in vt.id!=null&&(xt.id=vt.id),vt.bbox!=null&&(xt.bbox=vt.bbox),vt.properties){xt.properties=vt.properties;break}return xt}function Ms(vt){if(vt==null)return{type:null};var _t=vt.type==="GeometryCollection"?{type:"GeometryCollection",geometries:vt.geometries.map(Ms)}:vt.type==="Point"||vt.type==="MultiPoint"?{type:vt.type,coordinates:vt.coordinates}:{type:vt.type,arcs:vt.coordinates};return vt.bbox!=null&&(_t.bbox=vt.bbox),_t}function Ll(vt,_t){var xt=function(un){var En=1/0,Tn=1/0,In=-1/0,mn=-1/0;function Wn(Jn){Jn!=null&&cu.call(pr,Jn.type)&&pr[Jn.type](Jn)}var pr={GeometryCollection:function(Jn){Jn.geometries.forEach(Wn)},Point:function(Jn){kn(Jn.coordinates)},MultiPoint:function(Jn){Jn.coordinates.forEach(kn)},LineString:function(Jn){Vn(Jn.arcs)},MultiLineString:function(Jn){Jn.arcs.forEach(Vn)},Polygon:function(Jn){Jn.arcs.forEach(Vn)},MultiPolygon:function(Jn){Jn.arcs.forEach(Qn)}};function kn(Jn){var oi=Jn[0],Gr=Jn[1];oi<En&&(En=oi),oi>In&&(In=oi),Gr<Tn&&(Tn=Gr),Gr>mn&&(mn=Gr)}function Vn(Jn){Jn.forEach(kn)}function Qn(Jn){Jn.forEach(Vn)}for(var ir in un)Wn(un[ir]);return In>=En&&mn>=Tn?[En,Tn,In,mn]:void 0}(vt=qc(vt)),Mt=_t>0&&xt&&function(un,En,Tn){var In=En[0],mn=En[1],Wn=En[2],pr=En[3],kn=Wn-In?(Tn-1)/(Wn-In):1,Vn=pr-mn?(Tn-1)/(pr-mn):1;function Qn(ti){return[Math.round((ti[0]-In)*kn),Math.round((ti[1]-mn)*Vn)]}function ir(ti,ei){for(var Qr,ui,ni,gi,zr,co=-1,$i=0,Qo=ti.length,ro=new Array(Qo);++co<Qo;)Qr=ti[co],gi=Math.round((Qr[0]-In)*kn),zr=Math.round((Qr[1]-mn)*Vn),gi===ui&&zr===ni||(ro[$i++]=[ui=gi,ni=zr]);for(ro.length=$i;$i<ei;)$i=ro.push([ro[0][0],ro[0][1]]);return ro}function Jn(ti){return ir(ti,2)}function oi(ti){return ir(ti,4)}function Gr(ti){return ti.map(oi)}function li(ti){ti!=null&&cu.call(qr,ti.type)&&qr[ti.type](ti)}var qr={GeometryCollection:function(ti){ti.geometries.forEach(li)},Point:function(ti){ti.coordinates=Qn(ti.coordinates)},MultiPoint:function(ti){ti.coordinates=ti.coordinates.map(Qn)},LineString:function(ti){ti.arcs=Jn(ti.arcs)},MultiLineString:function(ti){ti.arcs=ti.arcs.map(Jn)},Polygon:function(ti){ti.arcs=Gr(ti.arcs)},MultiPolygon:function(ti){ti.arcs=ti.arcs.map(Gr)}};for(var fi in un)li(un[fi]);return{scale:[1/kn,1/Vn],translate:[In,mn]}}(vt,xt,_t),kt=function(un){var En,Tn,In,mn,Wn=un.coordinates,pr=un.lines,kn=un.rings,Vn=pr.length+kn.length;for(delete un.lines,delete un.rings,In=0,mn=pr.length;In<mn;++In)for(En=pr[In];En=En.next;)++Vn;for(In=0,mn=kn.length;In<mn;++In)for(Tn=kn[In];Tn=Tn.next;)++Vn;var Qn=uu(2*Vn*1.4,Il,Wc),ir=un.arcs=[];for(In=0,mn=pr.length;In<mn;++In){En=pr[In];do Jn(En);while(En=En.next)}for(In=0,mn=kn.length;In<mn;++In)if((Tn=kn[In]).next)do Jn(Tn);while(Tn=Tn.next);else oi(Tn);function Jn(ei){var Qr,ui,ni,gi,zr,co,$i,Qo;if(ni=Qn.get(Qr=Wn[ei[0]])){for($i=0,Qo=ni.length;$i<Qo;++$i)if(Gr(gi=ni[$i],ei))return ei[0]=gi[0],void(ei[1]=gi[1])}if(zr=Qn.get(ui=Wn[ei[1]])){for($i=0,Qo=zr.length;$i<Qo;++$i)if(li(co=zr[$i],ei))return ei[1]=co[0],void(ei[0]=co[1])}ni?ni.push(ei):Qn.set(Qr,[ei]),zr?zr.push(ei):Qn.set(ui,[ei]),ir.push(ei)}function oi(ei){var Qr,ui,ni,gi,zr;if(ui=Qn.get(Wn[ei[0]]))for(gi=0,zr=ui.length;gi<zr;++gi){if(qr(ni=ui[gi],ei))return ei[0]=ni[0],void(ei[1]=ni[1]);if(fi(ni,ei))return ei[0]=ni[1],void(ei[1]=ni[0])}if(ui=Qn.get(Qr=Wn[ei[0]+ti(ei)]))for(gi=0,zr=ui.length;gi<zr;++gi){if(qr(ni=ui[gi],ei))return ei[0]=ni[0],void(ei[1]=ni[1]);if(fi(ni,ei))return ei[0]=ni[1],void(ei[1]=ni[0])}ui?ui.push(ei):Qn.set(Qr,[ei]),ir.push(ei)}function Gr(ei,Qr){var ui=ei[0],ni=Qr[0],gi=ei[1];if(ui-gi!=ni-Qr[1])return!1;for(;ui<=gi;++ui,++ni)if(!Wc(Wn[ui],Wn[ni]))return!1;return!0}function li(ei,Qr){var ui=ei[0],ni=Qr[0],gi=ei[1],zr=Qr[1];if(ui-gi!=ni-zr)return!1;for(;ui<=gi;++ui,--zr)if(!Wc(Wn[ui],Wn[zr]))return!1;return!0}function qr(ei,Qr){var ui=ei[0],ni=Qr[0],gi=ei[1]-ui;if(gi!==Qr[1]-ni)return!1;for(var zr=ti(ei),co=ti(Qr),$i=0;$i<gi;++$i)if(!Wc(Wn[ui+($i+zr)%gi],Wn[ni+($i+co)%gi]))return!1;return!0}function fi(ei,Qr){var ui=ei[0],ni=Qr[0],gi=ei[1],zr=Qr[1],co=gi-ui;if(co!==zr-ni)return!1;for(var $i=ti(ei),Qo=co-ti(Qr),ro=0;ro<co;++ro)if(!Wc(Wn[ui+(ro+$i)%co],Wn[zr-(ro+Qo)%co]))return!1;return!0}function ti(ei){for(var Qr=ei[0],ui=ei[1],ni=Qr,gi=ni,zr=Wn[ni];++ni<ui;){var co=Wn[ni];(co[0]<zr[0]||co[0]===zr[0]&&co[1]<zr[1])&&(gi=ni,zr=co)}return gi-Qr}return un}(function(un){var En,Tn,In,mn=Th(un),Wn=un.coordinates,pr=un.lines,kn=un.rings;for(Tn=0,In=pr.length;Tn<In;++Tn)for(var Vn=pr[Tn],Qn=Vn[0],ir=Vn[1];++Qn<ir;)mn.has(Wn[Qn])&&(En={0:Qn,1:Vn[1]},Vn[1]=Qn,Vn=Vn.next=En);for(Tn=0,In=kn.length;Tn<In;++Tn)for(var Jn=kn[Tn],oi=Jn[0],Gr=oi,li=Jn[1],qr=mn.has(Wn[oi]);++Gr<li;)mn.has(Wn[Gr])&&(qr?(En={0:Gr,1:Jn[1]},Jn[1]=Gr,Jn=Jn.next=En):(Lu(Wn,oi,li,li-Gr),Wn[li]=Wn[oi],qr=!0,Gr=oi));return un}(function(un){var En=-1,Tn=[],In=[],mn=[];function Wn(Jn){Jn&&cu.call(pr,Jn.type)&&pr[Jn.type](Jn)}var pr={GeometryCollection:function(Jn){Jn.geometries.forEach(Wn)},LineString:function(Jn){Jn.arcs=kn(Jn.arcs)},MultiLineString:function(Jn){Jn.arcs=Jn.arcs.map(kn)},Polygon:function(Jn){Jn.arcs=Jn.arcs.map(Vn)},MultiPolygon:function(Jn){Jn.arcs=Jn.arcs.map(Qn)}};function kn(Jn){for(var oi=0,Gr=Jn.length;oi<Gr;++oi)mn[++En]=Jn[oi];var li={0:En-Gr+1,1:En};return Tn.push(li),li}function Vn(Jn){for(var oi=0,Gr=Jn.length;oi<Gr;++oi)mn[++En]=Jn[oi];var li={0:En-Gr+1,1:En};return In.push(li),li}function Qn(Jn){return Jn.map(Vn)}for(var ir in un)Wn(un[ir]);return{type:"Topology",coordinates:mn,lines:Tn,rings:In,objects:un}}(vt))),It=kt.coordinates,Rt=uu(1.4*kt.arcs.length,Qc,Mh);function Ut(un){un&&cu.call(Wt,un.type)&&Wt[un.type](un)}vt=kt.objects,kt.bbox=xt,kt.arcs=kt.arcs.map(function(un,En){return Rt.set(un,En),It.slice(un[0],un[1]+1)}),delete kt.coordinates,It=null;var Wt={GeometryCollection:function(un){un.geometries.forEach(Ut)},LineString:function(un){un.arcs=qt(un.arcs)},MultiLineString:function(un){un.arcs=un.arcs.map(qt)},Polygon:function(un){un.arcs=un.arcs.map(qt)},MultiPolygon:function(un){un.arcs=un.arcs.map(on)}};function qt(un){var En=[];do{var Tn=Rt.get(un);En.push(un[0]<un[1]?Tn:~Tn)}while(un=un.next);return En}function on(un){return un.map(qt)}for(var Jt in vt)Ut(vt[Jt]);return Mt&&(kt.transform=Mt,kt.arcs=function(un){for(var En=-1,Tn=un.length;++En<Tn;){for(var In,mn,Wn=un[En],pr=0,kn=1,Vn=Wn.length,Qn=Wn[0],ir=Qn[0],Jn=Qn[1];++pr<Vn;)In=(Qn=Wn[pr])[0],mn=Qn[1],In===ir&&mn===Jn||(Wn[kn++]=[In-ir,mn-Jn],ir=In,Jn=mn);kn===1&&(Wn[kn++]=[0,0]),Wn.length=kn}return un}(kt.arcs)),kt}function Qc(vt){var _t,xt=vt[0],Mt=vt[1];return Mt<xt&&(_t=xt,xt=Mt,Mt=_t),xt+31*Mt}function Mh(vt,_t){var xt,Mt=vt[0],kt=vt[1],It=_t[0],Rt=_t[1];return kt<Mt&&(xt=Mt,Mt=kt,kt=xt),Rt<It&&(xt=It,It=Rt,Rt=xt),Mt===It&&kt===Rt}function _d(vt,_t){if(_t===void 0&&(_t={}),gr(vt)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!vt.features.length)throw new Error("geojson is empty");_t.mutate!==!1&&_t.mutate!==void 0||(vt=Wo(vt));var xt=[];Pr(vt,function(kt){xt.push(kt.geometry)});var Mt=Ll({geoms:Qt(xt).geometry});return function(kt){return Ic(kt,Gs.apply(this,arguments))}(Mt,Mt.objects.geoms.geometries)}function Hl(vt,_t){if(_t===void 0&&(_t={}),!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.mutate;if(gr(vt)!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(!vt.features.length)throw new Error("geojson is empty");xt!==!1&&xt!==void 0||(vt=Wo(vt));var Mt=function(It){var Rt={};Pr(It,function(Wt){Rt[Wt.geometry.type]=!0});var Ut=Object.keys(Rt);return Ut.length===1?Ut[0]:null}(vt);if(!Mt)throw new Error("geojson must be homogenous");var kt=vt;switch(Mt){case"LineString":return vl(kt,_t);case"Polygon":return _d(kt,_t);default:throw new Error(Mt+" is not supported")}}function Ol(vt,_t){_t===void 0&&(_t={});var xt=typeof _t=="object"?_t.mutate:_t;if(!vt)throw new Error("geojson is required");var Mt=gr(vt),kt=[];switch(Mt){case"LineString":kt=Bs(vt);break;case"MultiLineString":case"Polygon":zn(vt).forEach(function(Rt){kt.push(Bs(Rt))});break;case"MultiPolygon":zn(vt).forEach(function(Rt){var Ut=[];Rt.forEach(function(Wt){Ut.push(Bs(Wt))}),kt.push(Ut)});break;case"Point":return vt;case"MultiPoint":var It={};zn(vt).forEach(function(Rt){var Ut=Rt.join("-");Object.prototype.hasOwnProperty.call(It,Ut)||(kt.push(Rt),It[Ut]=!0)});break;default:throw new Error(Mt+" geometry not supported")}return vt.coordinates?xt===!0?(vt.coordinates=kt,vt):{type:Mt,coordinates:kt}:xt===!0?(vt.geometry.coordinates=kt,vt):wt({type:Mt,coordinates:kt},vt.properties,{bbox:vt.bbox,id:vt.id})}function Bs(vt){var _t=zn(vt);if(_t.length===2&&!th(_t[0],_t[1]))return _t;var xt=[],Mt=_t.length-1,kt=xt.length;xt.push(_t[0]);for(var It=1;It<Mt;It++){var Rt=xt[xt.length-1];_t[It][0]===Rt[0]&&_t[It][1]===Rt[1]||(xt.push(_t[It]),(kt=xt.length)>2&&Bo(xt[kt-3],xt[kt-1],xt[kt-2])&&xt.splice(xt.length-2,1))}if(xt.push(_t[_t.length-1]),kt=xt.length,th(_t[0],_t[_t.length-1])&&kt<4)throw new Error("invalid polygon");return Bo(xt[kt-3],xt[kt-1],xt[kt-2])&&xt.splice(xt.length-2,1),xt}function th(vt,_t){return vt[0]===_t[0]&&vt[1]===_t[1]}function Bo(vt,_t,xt){var Mt=xt[0],kt=xt[1],It=vt[0],Rt=vt[1],Ut=_t[0],Wt=_t[1],qt=Ut-It,on=Wt-Rt;return(Mt-It)*on-(kt-Rt)*qt===0&&(Math.abs(qt)>=Math.abs(on)?qt>0?It<=Mt&&Mt<=Ut:Ut<=Mt&&Mt<=It:on>0?Rt<=kt&&kt<=Wt:Wt<=kt&&kt<=Rt)}function bc(vt,_t,xt){var Mt=_t.x,kt=_t.y,It=xt.x-Mt,Rt=xt.y-kt;if(It!==0||Rt!==0){var Ut=((vt.x-Mt)*It+(vt.y-kt)*Rt)/(It*It+Rt*Rt);Ut>1?(Mt=xt.x,kt=xt.y):Ut>0&&(Mt+=It*Ut,kt+=Rt*Ut)}return(It=vt.x-Mt)*It+(Rt=vt.y-kt)*Rt}function Ns(vt,_t,xt,Mt,kt){for(var It,Rt=Mt,Ut=_t+1;Ut<xt;Ut++){var Wt=bc(vt[Ut],vt[_t],vt[xt]);Wt>Rt&&(It=Ut,Rt=Wt)}Rt>Mt&&(It-_t>1&&Ns(vt,_t,It,Mt,kt),kt.push(vt[It]),xt-It>1&&Ns(vt,It,xt,Mt,kt))}function Ru(vt,_t){var xt=vt.length-1,Mt=[vt[0]];return Ns(vt,0,xt,_t,Mt),Mt.push(vt[xt]),Mt}function bl(vt,_t,xt){if(vt.length<=2)return vt;var Mt=_t!==void 0?_t*_t:1;return vt=Ru(vt=xt?vt:function(kt,It){for(var Rt,Ut,Wt,qt,on,Jt=kt[0],un=[Jt],En=1,Tn=kt.length;En<Tn;En++)Rt=kt[En],Wt=Jt,qt=void 0,on=void 0,qt=(Ut=Rt).x-Wt.x,on=Ut.y-Wt.y,qt*qt+on*on>It&&(un.push(Rt),Jt=Rt);return Jt!==Rt&&un.push(Rt),un}(vt,Mt),Mt)}function tc(vt,_t,xt){return bl(vt.map(function(Mt){return{x:Mt[0],y:Mt[1],z:Mt[2]}}),_t,xt).map(function(Mt){return Mt.z?[Mt.x,Mt.y,Mt.z]:[Mt.x,Mt.y]})}function _l(vt,_t,xt){return vt.map(function(Mt){var kt=Mt.map(function(Rt){return{x:Rt[0],y:Rt[1]}});if(kt.length<4)throw new Error("invalid polygon");for(var It=bl(kt,_t,xt).map(function(Rt){return[Rt.x,Rt.y]});!Vl(It);)It=bl(kt,_t-=.01*_t,xt).map(function(Rt){return[Rt.x,Rt.y]});return It[It.length-1][0]===It[0][0]&&It[It.length-1][1]===It[0][1]||It.push(It[0]),It})}function Vl(vt){return!(vt.length<3)&&!(vt.length===3&&vt[2][0]===vt[0][0]&&vt[2][1]===vt[0][1])}var Pl=function(){function vt(_t){this.points=_t.points||[],this.duration=_t.duration||1e4,this.sharpness=_t.sharpness||.85,this.centers=[],this.controls=[],this.stepLength=_t.stepLength||60,this.length=this.points.length,this.delay=0;for(var xt=0;xt<this.length;xt++)this.points[xt].z=this.points[xt].z||0;for(xt=0;xt<this.length-1;xt++){var Mt=this.points[xt],kt=this.points[xt+1];this.centers.push({x:(Mt.x+kt.x)/2,y:(Mt.y+kt.y)/2,z:(Mt.z+kt.z)/2})}for(this.controls.push([this.points[0],this.points[0]]),xt=0;xt<this.centers.length-1;xt++){var It=this.points[xt+1].x-(this.centers[xt].x+this.centers[xt+1].x)/2,Rt=this.points[xt+1].y-(this.centers[xt].y+this.centers[xt+1].y)/2,Ut=this.points[xt+1].z-(this.centers[xt].y+this.centers[xt+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[xt+1].x+this.sharpness*(this.centers[xt].x+It),y:(1-this.sharpness)*this.points[xt+1].y+this.sharpness*(this.centers[xt].y+Rt),z:(1-this.sharpness)*this.points[xt+1].z+this.sharpness*(this.centers[xt].z+Ut)},{x:(1-this.sharpness)*this.points[xt+1].x+this.sharpness*(this.centers[xt+1].x+It),y:(1-this.sharpness)*this.points[xt+1].y+this.sharpness*(this.centers[xt+1].y+Rt),z:(1-this.sharpness)*this.points[xt+1].z+this.sharpness*(this.centers[xt+1].z+Ut)}])}return this.controls.push([this.points[this.length-1],this.points[this.length-1]]),this.steps=this.cacheSteps(this.stepLength),this}return vt.prototype.cacheSteps=function(_t){var xt=[],Mt=this.pos(0);xt.push(0);for(var kt=0;kt<this.duration;kt+=10){var It=this.pos(kt);Math.sqrt((It.x-Mt.x)*(It.x-Mt.x)+(It.y-Mt.y)*(It.y-Mt.y)+(It.z-Mt.z)*(It.z-Mt.z))>_t&&(xt.push(kt),Mt=It)}return xt},vt.prototype.vector=function(_t){var xt=this.pos(_t+10),Mt=this.pos(_t-10);return{angle:180*Math.atan2(xt.y-Mt.y,xt.x-Mt.x)/3.14,speed:Math.sqrt((Mt.x-xt.x)*(Mt.x-xt.x)+(Mt.y-xt.y)*(Mt.y-xt.y)+(Mt.z-xt.z)*(Mt.z-xt.z))}},vt.prototype.pos=function(_t){var xt=_t-this.delay;xt<0&&(xt=0),xt>this.duration&&(xt=this.duration-1);var Mt=xt/this.duration;if(Mt>=1)return this.points[this.length-1];var kt=Math.floor((this.points.length-1)*Mt);return function(It,Rt,Ut,Wt,qt){var on=function(Jt){var un=Jt*Jt;return[un*Jt,3*un*(1-Jt),3*Jt*(1-Jt)*(1-Jt),(1-Jt)*(1-Jt)*(1-Jt)]}(It);return{x:qt.x*on[0]+Wt.x*on[1]+Ut.x*on[2]+Rt.x*on[3],y:qt.y*on[0]+Wt.y*on[1]+Ut.y*on[2]+Rt.y*on[3],z:qt.z*on[0]+Wt.z*on[1]+Ut.z*on[2]+Rt.z*on[3]}}((this.length-1)*Mt-kt,this.points[kt],this.controls[kt][1],this.controls[kt+1][0],this.points[kt+1])},vt}();function Yl(vt,_t){_t===void 0&&(_t={});for(var xt=_t.resolution||1e4,Mt=_t.sharpness||.85,kt=[],It=Kn(vt).coordinates.map(function(qt){return{x:qt[0],y:qt[1]}}),Rt=new Pl({duration:xt,points:It,sharpness:Mt}),Ut=function(qt){var on=Rt.pos(qt);Math.floor(qt/100)%2==0&&kt.push([on.x,on.y])},Wt=0;Wt<Rt.duration;Wt+=10)Ut(Wt);return Ut(Rt.duration),zt(kt,_t.properties)}function Sh(vt,_t){_t===void 0&&(_t={});var xt=Number(vt[0]),Mt=Number(vt[1]),kt=Number(vt[2]),It=Number(vt[3]);if(vt.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var Rt=[xt,Mt];return Dt([[Rt,[kt,Mt],[kt,It],[xt,It],Rt]],_t.properties,{bbox:vt,id:_t.id})}function nh(vt){return Sh(vn(vt))}function rh(vt){var _t=vt[0],xt=vt[1],Mt=vt[2],kt=vt[3];if(To(vt.slice(0,2),[Mt,xt])>=To(vt.slice(0,2),[_t,kt])){var It=(xt+kt)/2;return[_t,It-(Mt-_t)/2,Mt,It+(Mt-_t)/2]}var Rt=(_t+Mt)/2;return[Rt-(kt-xt)/2,xt,Rt+(kt-xt)/2,kt]}function ya(vt,_t,xt,Mt){Mt===void 0&&(Mt={});var kt=hn(vt),It=wn(kt[0]),Rt=wn(kt[1]),Ut=wn(xt),Wt=Kt(_t,Mt.units),qt=Math.asin(Math.sin(Rt)*Math.cos(Wt)+Math.cos(Rt)*Math.sin(Wt)*Math.cos(Ut));return Tt([bn(It+Math.atan2(Math.sin(Ut)*Math.sin(Wt)*Math.cos(Rt),Math.cos(Wt)-Math.sin(Rt)*Math.sin(qt))),bn(qt)],Mt.properties)}function _c(vt,_t,xt){xt===void 0&&(xt={});for(var Mt=xt.steps||64,kt=xt.properties?xt.properties:!Array.isArray(vt)&&vt.type==="Feature"&&vt.properties?vt.properties:{},It=[],Rt=0;Rt<Mt;Rt++)It.push(ya(vt,_t,-360*Rt/Mt,xt).geometry.coordinates);return It.push(It[0]),Dt([It],kt)}function nl(vt,_t,xt){if(xt===void 0&&(xt={}),xt.final===!0)return function(Jt,un){var En=nl(un,Jt);return En=(En+180)%360}(vt,_t);var Mt=hn(vt),kt=hn(_t),It=wn(Mt[0]),Rt=wn(kt[0]),Ut=wn(Mt[1]),Wt=wn(kt[1]),qt=Math.sin(Rt-It)*Math.cos(Wt),on=Math.cos(Ut)*Math.sin(Wt)-Math.sin(Ut)*Math.cos(Wt)*Math.cos(Rt-It);return bn(Math.atan2(qt,on))}function Ga(vt,_t){_t===void 0&&(_t={});var xt=vn(vt);return Tt([(xt[0]+xt[2])/2,(xt[1]+xt[3])/2],_t.properties,_t)}function wl(vt,_t){_t===void 0&&(_t={});var xt=0,Mt=0,kt=0;return xn(vt,function(It){xt+=It[0],Mt+=It[1],kt++},!0),Tt([xt/kt,Mt/kt],_t.properties)}function Co(vt){var _t=[];return vt.type==="FeatureCollection"?Gn(vt,function(xt){xn(xt,function(Mt){_t.push(Tt(Mt,xt.properties))})}):xn(vt,function(xt){_t.push(Tt(xt,vt.properties))}),Bt(_t)}var kh=zu,rl=zu;function zu(vt,_t,xt){xt=xt||2;var Mt,kt,It,Rt,Ut,Wt,qt,on=_t&&_t.length,Jt=on?_t[0]*xt:vt.length,un=Gl(vt,0,Jt,xt,!0),En=[];if(!un)return En;if(on&&(un=function(In,mn,Wn,pr){var kn,Vn,Qn,ir=[];for(kn=0,Vn=mn.length;kn<Vn;kn++)(Qn=Gl(In,mn[kn]*pr,kn<Vn-1?mn[kn+1]*pr:In.length,pr,!1))===Qn.next&&(Qn.steiner=!0),ir.push(nr(Qn));for(ir.sort(en),kn=0;kn<ir.length;kn++)yn(ir[kn],Wn),Wn=cs(Wn,Wn.next);return Wn}(vt,_t,un,xt)),vt.length>80*xt){Mt=It=vt[0],kt=Rt=vt[1];for(var Tn=xt;Tn<Jt;Tn+=xt)(Ut=vt[Tn])<Mt&&(Mt=Ut),(Wt=vt[Tn+1])<kt&&(kt=Wt),Ut>It&&(It=Ut),Wt>Rt&&(Rt=Wt);qt=(qt=Math.max(It-Mt,Rt-kt))!==0?1/qt:0}return pl(un,En,xt,Mt,kt,qt),En}function Gl(vt,_t,xt,Mt,kt){var It,Rt;if(kt===or(vt,_t,xt,Mt)>0)for(It=_t;It<xt;It+=Mt)Rt=cn(It,vt[It],vt[It+1],Rt);else for(It=xt-Mt;It>=_t;It-=Mt)Rt=cn(It,vt[It],vt[It+1],Rt);return Rt&&wi(Rt,Rt.next)&&(dn(Rt),Rt=Rt.next),Rt}function cs(vt,_t){if(!vt)return vt;_t||(_t=vt);var xt,Mt=vt;do if(xt=!1,Mt.steiner||!wi(Mt,Mt.next)&&ci(Mt.prev,Mt,Mt.next)!==0)Mt=Mt.next;else{if(dn(Mt),(Mt=_t=Mt.prev)===Mt.next)break;xt=!0}while(xt||Mt!==_t);return _t}function pl(vt,_t,xt,Mt,kt,It,Rt){if(vt){!Rt&&It&&function(on,Jt,un,En){var Tn=on;do Tn.z===null&&(Tn.z=$n(Tn.x,Tn.y,Jt,un,En)),Tn.prevZ=Tn.prev,Tn.nextZ=Tn.next,Tn=Tn.next;while(Tn!==on);Tn.prevZ.nextZ=null,Tn.prevZ=null,function(In){var mn,Wn,pr,kn,Vn,Qn,ir,Jn,oi=1;do{for(Wn=In,In=null,Vn=null,Qn=0;Wn;){for(Qn++,pr=Wn,ir=0,mn=0;mn<oi&&(ir++,pr=pr.nextZ);mn++);for(Jn=oi;ir>0||Jn>0&&pr;)ir!==0&&(Jn===0||!pr||Wn.z<=pr.z)?(kn=Wn,Wn=Wn.nextZ,ir--):(kn=pr,pr=pr.nextZ,Jn--),Vn?Vn.nextZ=kn:In=kn,kn.prevZ=Vn,Vn=kn;Wn=pr}Vn.nextZ=null,oi*=2}while(Qn>1)}(Tn)}(vt,Mt,kt,It);for(var Ut,Wt,qt=vt;vt.prev!==vt.next;)if(Ut=vt.prev,Wt=vt.next,It?Ws(vt,Mt,kt,It):Ls(vt))_t.push(Ut.i/xt),_t.push(vt.i/xt),_t.push(Wt.i/xt),dn(vt),vt=Wt.next,qt=Wt.next;else if((vt=Wt)===qt){Rt?Rt===1?pl(vt=ih(vt,_t,xt),_t,xt,Mt,kt,It,2):Rt===2&&ta(vt,_t,xt,Mt,kt,It):pl(cs(vt),_t,xt,Mt,kt,It,1);break}}}function Ls(vt){var _t=vt.prev,xt=vt,Mt=vt.next;if(ci(_t,xt,Mt)>=0)return!1;for(var kt=vt.next.next;kt!==vt.prev;){if(kr(_t.x,_t.y,xt.x,xt.y,Mt.x,Mt.y,kt.x,kt.y)&&ci(kt.prev,kt,kt.next)>=0)return!1;kt=kt.next}return!0}function Ws(vt,_t,xt,Mt){var kt=vt.prev,It=vt,Rt=vt.next;if(ci(kt,It,Rt)>=0)return!1;for(var Ut=kt.x<It.x?kt.x<Rt.x?kt.x:Rt.x:It.x<Rt.x?It.x:Rt.x,Wt=kt.y<It.y?kt.y<Rt.y?kt.y:Rt.y:It.y<Rt.y?It.y:Rt.y,qt=kt.x>It.x?kt.x>Rt.x?kt.x:Rt.x:It.x>Rt.x?It.x:Rt.x,on=kt.y>It.y?kt.y>Rt.y?kt.y:Rt.y:It.y>Rt.y?It.y:Rt.y,Jt=$n(Ut,Wt,_t,xt,Mt),un=$n(qt,on,_t,xt,Mt),En=vt.prevZ,Tn=vt.nextZ;En&&En.z>=Jt&&Tn&&Tn.z<=un;){if(En!==vt.prev&&En!==vt.next&&kr(kt.x,kt.y,It.x,It.y,Rt.x,Rt.y,En.x,En.y)&&ci(En.prev,En,En.next)>=0||(En=En.prevZ,Tn!==vt.prev&&Tn!==vt.next&&kr(kt.x,kt.y,It.x,It.y,Rt.x,Rt.y,Tn.x,Tn.y)&&ci(Tn.prev,Tn,Tn.next)>=0))return!1;Tn=Tn.nextZ}for(;En&&En.z>=Jt;){if(En!==vt.prev&&En!==vt.next&&kr(kt.x,kt.y,It.x,It.y,Rt.x,Rt.y,En.x,En.y)&&ci(En.prev,En,En.next)>=0)return!1;En=En.prevZ}for(;Tn&&Tn.z<=un;){if(Tn!==vt.prev&&Tn!==vt.next&&kr(kt.x,kt.y,It.x,It.y,Rt.x,Rt.y,Tn.x,Tn.y)&&ci(Tn.prev,Tn,Tn.next)>=0)return!1;Tn=Tn.nextZ}return!0}function ih(vt,_t,xt){var Mt=vt;do{var kt=Mt.prev,It=Mt.next.next;!wi(kt,It)&&Yi(kt,Mt,Mt.next,It)&&zi(kt,It)&&zi(It,kt)&&(_t.push(kt.i/xt),_t.push(Mt.i/xt),_t.push(It.i/xt),dn(Mt),dn(Mt.next),Mt=vt=It),Mt=Mt.next}while(Mt!==vt);return Mt}function ta(vt,_t,xt,Mt,kt,It){var Rt=vt;do{for(var Ut=Rt.next.next;Ut!==Rt.prev;){if(Rt.i!==Ut.i&&Wr(Rt,Ut)){var Wt=Mo(Rt,Ut);return Rt=cs(Rt,Rt.next),Wt=cs(Wt,Wt.next),pl(Rt,_t,xt,Mt,kt,It),void pl(Wt,_t,xt,Mt,kt,It)}Ut=Ut.next}Rt=Rt.next}while(Rt!==vt)}function en(vt,_t){return vt.x-_t.x}function yn(vt,_t){if(_t=function(Mt,kt){var It,Rt=kt,Ut=Mt.x,Wt=Mt.y,qt=-1/0;do{if(Wt<=Rt.y&&Wt>=Rt.next.y&&Rt.next.y!==Rt.y){var on=Rt.x+(Wt-Rt.y)*(Rt.next.x-Rt.x)/(Rt.next.y-Rt.y);if(on<=Ut&&on>qt){if(qt=on,on===Ut){if(Wt===Rt.y)return Rt;if(Wt===Rt.next.y)return Rt.next}It=Rt.x<Rt.next.x?Rt:Rt.next}}Rt=Rt.next}while(Rt!==kt);if(!It)return null;if(Ut===qt)return It.prev;var Jt,un=It,En=It.x,Tn=It.y,In=1/0;for(Rt=It.next;Rt!==un;)Ut>=Rt.x&&Rt.x>=En&&Ut!==Rt.x&&kr(Wt<Tn?Ut:qt,Wt,En,Tn,Wt<Tn?qt:Ut,Wt,Rt.x,Rt.y)&&((Jt=Math.abs(Wt-Rt.y)/(Ut-Rt.x))<In||Jt===In&&Rt.x>It.x)&&zi(Rt,Mt)&&(It=Rt,In=Jt),Rt=Rt.next;return It}(vt,_t)){var xt=Mo(_t,vt);cs(xt,xt.next)}}function $n(vt,_t,xt,Mt,kt){return(vt=1431655765&((vt=858993459&((vt=252645135&((vt=16711935&((vt=32767*(vt-xt)*kt)|vt<<8))|vt<<4))|vt<<2))|vt<<1))|(_t=1431655765&((_t=858993459&((_t=252645135&((_t=16711935&((_t=32767*(_t-Mt)*kt)|_t<<8))|_t<<4))|_t<<2))|_t<<1))<<1}function nr(vt){var _t=vt,xt=vt;do _t.x<xt.x&&(xt=_t),_t=_t.next;while(_t!==vt);return xt}function kr(vt,_t,xt,Mt,kt,It,Rt,Ut){return(kt-Rt)*(_t-Ut)-(vt-Rt)*(It-Ut)>=0&&(vt-Rt)*(Mt-Ut)-(xt-Rt)*(_t-Ut)>=0&&(xt-Rt)*(It-Ut)-(kt-Rt)*(Mt-Ut)>=0}function Wr(vt,_t){return vt.next.i!==_t.i&&vt.prev.i!==_t.i&&!function(xt,Mt){var kt=xt;do{if(kt.i!==xt.i&&kt.next.i!==xt.i&&kt.i!==Mt.i&&kt.next.i!==Mt.i&&Yi(kt,kt.next,xt,Mt))return!0;kt=kt.next}while(kt!==xt);return!1}(vt,_t)&&zi(vt,_t)&&zi(_t,vt)&&function(xt,Mt){var kt=xt,It=!1,Rt=(xt.x+Mt.x)/2,Ut=(xt.y+Mt.y)/2;do kt.y>Ut!=kt.next.y>Ut&&kt.next.y!==kt.y&&Rt<(kt.next.x-kt.x)*(Ut-kt.y)/(kt.next.y-kt.y)+kt.x&&(It=!It),kt=kt.next;while(kt!==xt);return It}(vt,_t)}function ci(vt,_t,xt){return(_t.y-vt.y)*(xt.x-_t.x)-(_t.x-vt.x)*(xt.y-_t.y)}function wi(vt,_t){return vt.x===_t.x&&vt.y===_t.y}function Yi(vt,_t,xt,Mt){return!!(wi(vt,_t)&&wi(xt,Mt)||wi(vt,Mt)&&wi(xt,_t))||ci(vt,_t,xt)>0!=ci(vt,_t,Mt)>0&&ci(xt,Mt,vt)>0!=ci(xt,Mt,_t)>0}function zi(vt,_t){return ci(vt.prev,vt,vt.next)<0?ci(vt,_t,vt.next)>=0&&ci(vt,vt.prev,_t)>=0:ci(vt,_t,vt.prev)<0||ci(vt,vt.next,_t)<0}function Mo(vt,_t){var xt=new Pn(vt.i,vt.x,vt.y),Mt=new Pn(_t.i,_t.x,_t.y),kt=vt.next,It=_t.prev;return vt.next=_t,_t.prev=vt,xt.next=kt,kt.prev=xt,Mt.next=xt,xt.prev=Mt,It.next=Mt,Mt.prev=It,Mt}function cn(vt,_t,xt,Mt){var kt=new Pn(vt,_t,xt);return Mt?(kt.next=Mt.next,kt.prev=Mt,Mt.next.prev=kt,Mt.next=kt):(kt.prev=kt,kt.next=kt),kt}function dn(vt){vt.next.prev=vt.prev,vt.prev.next=vt.next,vt.prevZ&&(vt.prevZ.nextZ=vt.nextZ),vt.nextZ&&(vt.nextZ.prevZ=vt.prevZ)}function Pn(vt,_t,xt){this.i=vt,this.x=_t,this.y=xt,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function or(vt,_t,xt,Mt){for(var kt=0,It=_t,Rt=xt-Mt;It<xt;It+=Mt)kt+=(vt[Rt]-vt[It])*(vt[It+1]+vt[Rt+1]),Rt=It;return kt}function wr(vt){var _t=function(Ut){for(var Wt=Ut[0][0].length,qt={vertices:[],holes:[],dimensions:Wt},on=0,Jt=0;Jt<Ut.length;Jt++){for(var un=0;un<Ut[Jt].length;un++)for(var En=0;En<Wt;En++)qt.vertices.push(Ut[Jt][un][En]);Jt>0&&(on+=Ut[Jt-1].length,qt.holes.push(on))}return qt}(vt),xt=kh(_t.vertices,_t.holes,2),Mt=[],kt=[];xt.forEach(function(Ut,Wt){var qt=xt[Wt];kt.push([_t.vertices[2*qt],_t.vertices[2*qt+1]])});for(var It=0;It<kt.length;It+=3){var Rt=kt.slice(It,It+3);Rt.push(kt[It]),Mt.push(Dt([Rt]))}return Mt}function Rr(vt,_t){if(!vt)throw new Error("targetPoint is required");if(!_t)throw new Error("points is required");var xt,Mt=1/0,kt=0;return Gn(_t,function(It,Rt){var Ut=To(vt,It);Ut<Mt&&(kt=Rt,Mt=Ut)}),(xt=Wo(_t.features[kt])).properties.featureIndex=kt,xt.properties.distanceToPoint=Mt,xt}function Kr(vt){if(!vt)throw new Error("geojson is required");var _t=[];return Pr(vt,function(xt){(function(Mt,kt){var It=[],Rt=Mt.geometry;if(Rt!==null){switch(Rt.type){case"Polygon":It=zn(Rt);break;case"LineString":It=[zn(Rt)]}It.forEach(function(Ut){(function(Wt,qt){var on=[];return Wt.reduce(function(Jt,un){var En=zt([Jt,un],qt);return En.bbox=function(Tn,In){var mn=Tn[0],Wn=Tn[1],pr=In[0],kn=In[1];return[mn<pr?mn:pr,Wn<kn?Wn:kn,mn>pr?mn:pr,Wn>kn?Wn:kn]}(Jt,un),on.push(En),un}),on})(Ut,Mt.properties).forEach(function(Wt){Wt.id=kt.length,kt.push(Wt)})})}})(xt,_t)}),Bt(_t)}zu.deviation=function(vt,_t,xt,Mt){var kt=_t&&_t.length,It=kt?_t[0]*xt:vt.length,Rt=Math.abs(or(vt,0,It,xt));if(kt)for(var Ut=0,Wt=_t.length;Ut<Wt;Ut++){var qt=_t[Ut]*xt,on=Ut<Wt-1?_t[Ut+1]*xt:vt.length;Rt-=Math.abs(or(vt,qt,on,xt))}var Jt=0;for(Ut=0;Ut<Mt.length;Ut+=3){var un=Mt[Ut]*xt,En=Mt[Ut+1]*xt,Tn=Mt[Ut+2]*xt;Jt+=Math.abs((vt[un]-vt[Tn])*(vt[En+1]-vt[un+1])-(vt[un]-vt[En])*(vt[Tn+1]-vt[un+1]))}return Rt===0&&Jt===0?0:Math.abs((Jt-Rt)/Rt)},zu.flatten=function(vt){for(var _t=vt[0][0].length,xt={vertices:[],holes:[],dimensions:_t},Mt=0,kt=0;kt<vt.length;kt++){for(var It=0;It<vt[kt].length;It++)for(var Rt=0;Rt<_t;Rt++)xt.vertices.push(vt[kt][It][Rt]);kt>0&&(Mt+=vt[kt-1].length,xt.holes.push(Mt))}return xt},kh.default=rl;var _i=Ti(function(vt,_t){function xt(Tn,In,mn){mn===void 0&&(mn={});var Wn={type:"Feature"};return(mn.id===0||mn.id)&&(Wn.id=mn.id),mn.bbox&&(Wn.bbox=mn.bbox),Wn.properties=In||{},Wn.geometry=Tn,Wn}function Mt(Tn,In,mn){if(mn===void 0&&(mn={}),!Tn)throw new Error("coordinates is required");if(!Array.isArray(Tn))throw new Error("coordinates must be an Array");if(Tn.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!En(Tn[0])||!En(Tn[1]))throw new Error("coordinates must contain numbers");return xt({type:"Point",coordinates:Tn},In,mn)}function kt(Tn,In,mn){mn===void 0&&(mn={});for(var Wn=0,pr=Tn;Wn<pr.length;Wn++){var kn=pr[Wn];if(kn.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var Vn=0;Vn<kn[kn.length-1].length;Vn++)if(kn[kn.length-1][Vn]!==kn[0][Vn])throw new Error("First and last Position are not equivalent.")}return xt({type:"Polygon",coordinates:Tn},In,mn)}function It(Tn,In,mn){if(mn===void 0&&(mn={}),Tn.length<2)throw new Error("coordinates must be an array of two or more positions");return xt({type:"LineString",coordinates:Tn},In,mn)}function Rt(Tn,In){In===void 0&&(In={});var mn={type:"FeatureCollection"};return In.id&&(mn.id=In.id),In.bbox&&(mn.bbox=In.bbox),mn.features=Tn,mn}function Ut(Tn,In,mn){return mn===void 0&&(mn={}),xt({type:"MultiLineString",coordinates:Tn},In,mn)}function Wt(Tn,In,mn){return mn===void 0&&(mn={}),xt({type:"MultiPoint",coordinates:Tn},In,mn)}function qt(Tn,In,mn){return mn===void 0&&(mn={}),xt({type:"MultiPolygon",coordinates:Tn},In,mn)}function on(Tn,In){In===void 0&&(In="kilometers");var mn=_t.factors[In];if(!mn)throw new Error(In+" units is invalid");return Tn*mn}function Jt(Tn,In){In===void 0&&(In="kilometers");var mn=_t.factors[In];if(!mn)throw new Error(In+" units is invalid");return Tn/mn}function un(Tn){return 180*(Tn%(2*Math.PI))/Math.PI}function En(Tn){return!isNaN(Tn)&&Tn!==null&&!Array.isArray(Tn)}Object.defineProperty(_t,"__esModule",{value:!0}),_t.earthRadius=63710088e-1,_t.factors={centimeters:100*_t.earthRadius,centimetres:100*_t.earthRadius,degrees:_t.earthRadius/111325,feet:3.28084*_t.earthRadius,inches:39.37*_t.earthRadius,kilometers:_t.earthRadius/1e3,kilometres:_t.earthRadius/1e3,meters:_t.earthRadius,metres:_t.earthRadius,miles:_t.earthRadius/1609.344,millimeters:1e3*_t.earthRadius,millimetres:1e3*_t.earthRadius,nauticalmiles:_t.earthRadius/1852,radians:1,yards:1.0936*_t.earthRadius},_t.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/_t.earthRadius,yards:1.0936133},_t.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},_t.feature=xt,_t.geometry=function(Tn,In,mn){switch(Tn){case"Point":return Mt(In).geometry;case"LineString":return It(In).geometry;case"Polygon":return kt(In).geometry;case"MultiPoint":return Wt(In).geometry;case"MultiLineString":return Ut(In).geometry;case"MultiPolygon":return qt(In).geometry;default:throw new Error(Tn+" is invalid")}},_t.point=Mt,_t.points=function(Tn,In,mn){return mn===void 0&&(mn={}),Rt(Tn.map(function(Wn){return Mt(Wn,In)}),mn)},_t.polygon=kt,_t.polygons=function(Tn,In,mn){return mn===void 0&&(mn={}),Rt(Tn.map(function(Wn){return kt(Wn,In)}),mn)},_t.lineString=It,_t.lineStrings=function(Tn,In,mn){return mn===void 0&&(mn={}),Rt(Tn.map(function(Wn){return It(Wn,In)}),mn)},_t.featureCollection=Rt,_t.multiLineString=Ut,_t.multiPoint=Wt,_t.multiPolygon=qt,_t.geometryCollection=function(Tn,In,mn){return mn===void 0&&(mn={}),xt({type:"GeometryCollection",geometries:Tn},In,mn)},_t.round=function(Tn,In){if(In===void 0&&(In=0),In&&!(In>=0))throw new Error("precision must be a positive number");var mn=Math.pow(10,In||0);return Math.round(Tn*mn)/mn},_t.radiansToLength=on,_t.lengthToRadians=Jt,_t.lengthToDegrees=function(Tn,In){return un(Jt(Tn,In))},_t.bearingToAzimuth=function(Tn){var In=Tn%360;return In<0&&(In+=360),In},_t.radiansToDegrees=un,_t.degreesToRadians=function(Tn){return Tn%360*Math.PI/180},_t.convertLength=function(Tn,In,mn){if(In===void 0&&(In="kilometers"),mn===void 0&&(mn="kilometers"),!(Tn>=0))throw new Error("length must be a positive number");return on(Jt(Tn,In),mn)},_t.convertArea=function(Tn,In,mn){if(In===void 0&&(In="meters"),mn===void 0&&(mn="kilometers"),!(Tn>=0))throw new Error("area must be a positive number");var Wn=_t.areaFactors[In];if(!Wn)throw new Error("invalid original units");var pr=_t.areaFactors[mn];if(!pr)throw new Error("invalid final units");return Tn/Wn*pr},_t.isNumber=En,_t.isObject=function(Tn){return!!Tn&&Tn.constructor===Object},_t.validateBBox=function(Tn){if(!Tn)throw new Error("bbox is required");if(!Array.isArray(Tn))throw new Error("bbox must be an Array");if(Tn.length!==4&&Tn.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");Tn.forEach(function(In){if(!En(In))throw new Error("bbox must only contain numbers")})},_t.validateId=function(Tn){if(!Tn)throw new Error("id is required");if(["string","number"].indexOf(typeof Tn)===-1)throw new Error("id must be a number or a string")}});function Ji(vt,_t,xt){if(vt!==null)for(var Mt,kt,It,Rt,Ut,Wt,qt,on,Jt=0,un=0,En=vt.type,Tn=En==="FeatureCollection",In=En==="Feature",mn=Tn?vt.features.length:1,Wn=0;Wn<mn;Wn++){Ut=(on=!!(qt=Tn?vt.features[Wn].geometry:In?vt.geometry:vt)&&qt.type==="GeometryCollection")?qt.geometries.length:1;for(var pr=0;pr<Ut;pr++){var kn=0,Vn=0;if((Rt=on?qt.geometries[pr]:qt)!==null){Wt=Rt.coordinates;var Qn=Rt.type;switch(Jt=!xt||Qn!=="Polygon"&&Qn!=="MultiPolygon"?0:1,Qn){case null:break;case"Point":if(_t(Wt,un,Wn,kn,Vn)===!1)return!1;un++,kn++;break;case"LineString":case"MultiPoint":for(Mt=0;Mt<Wt.length;Mt++){if(_t(Wt[Mt],un,Wn,kn,Vn)===!1)return!1;un++,Qn==="MultiPoint"&&kn++}Qn==="LineString"&&kn++;break;case"Polygon":case"MultiLineString":for(Mt=0;Mt<Wt.length;Mt++){for(kt=0;kt<Wt[Mt].length-Jt;kt++){if(_t(Wt[Mt][kt],un,Wn,kn,Vn)===!1)return!1;un++}Qn==="MultiLineString"&&kn++,Qn==="Polygon"&&Vn++}Qn==="Polygon"&&kn++;break;case"MultiPolygon":for(Mt=0;Mt<Wt.length;Mt++){for(Vn=0,kt=0;kt<Wt[Mt].length;kt++){for(It=0;It<Wt[Mt][kt].length-Jt;It++){if(_t(Wt[Mt][kt][It],un,Wn,kn,Vn)===!1)return!1;un++}Vn++}kn++}break;case"GeometryCollection":for(Mt=0;Mt<Rt.geometries.length;Mt++)if(Ji(Rt.geometries[Mt],_t,xt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Zo(vt,_t){var xt;switch(vt.type){case"FeatureCollection":for(xt=0;xt<vt.features.length&&_t(vt.features[xt].properties,xt)!==!1;xt++);break;case"Feature":_t(vt.properties,0)}}function na(vt,_t){if(vt.type==="Feature")_t(vt,0);else if(vt.type==="FeatureCollection")for(var xt=0;xt<vt.features.length&&_t(vt.features[xt],xt)!==!1;xt++);}function Wa(vt,_t){var xt,Mt,kt,It,Rt,Ut,Wt,qt,on,Jt,un=0,En=vt.type==="FeatureCollection",Tn=vt.type==="Feature",In=En?vt.features.length:1;for(xt=0;xt<In;xt++){for(Ut=En?vt.features[xt].geometry:Tn?vt.geometry:vt,qt=En?vt.features[xt].properties:Tn?vt.properties:{},on=En?vt.features[xt].bbox:Tn?vt.bbox:void 0,Jt=En?vt.features[xt].id:Tn?vt.id:void 0,Rt=(Wt=!!Ut&&Ut.type==="GeometryCollection")?Ut.geometries.length:1,kt=0;kt<Rt;kt++)if((It=Wt?Ut.geometries[kt]:Ut)!==null)switch(It.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(_t(It,un,qt,on,Jt)===!1)return!1;break;case"GeometryCollection":for(Mt=0;Mt<It.geometries.length;Mt++)if(_t(It.geometries[Mt],un,qt,on,Jt)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}else if(_t(null,un,qt,on,Jt)===!1)return!1;un++}}function qa(vt,_t){Wa(vt,function(xt,Mt,kt,It,Rt){var Ut,Wt=xt===null?null:xt.type;switch(Wt){case null:case"Point":case"LineString":case"Polygon":return _t(_i.feature(xt,kt,{bbox:It,id:Rt}),Mt,0)!==!1&&void 0}switch(Wt){case"MultiPoint":Ut="Point";break;case"MultiLineString":Ut="LineString";break;case"MultiPolygon":Ut="Polygon"}for(var qt=0;qt<xt.coordinates.length;qt++){var on={type:Ut,coordinates:xt.coordinates[qt]};if(_t(_i.feature(on,kt),Mt,qt)===!1)return!1}})}function Jo(vt,_t){qa(vt,function(xt,Mt,kt){var It=0;if(xt.geometry){var Rt=xt.geometry.type;if(Rt!=="Point"&&Rt!=="MultiPoint"){var Ut,Wt=0,qt=0,on=0;return Ji(xt,function(Jt,un,En,Tn,In){if(Ut===void 0||Mt>Wt||Tn>qt||In>on)return Ut=Jt,Wt=Mt,qt=Tn,on=In,void(It=0);var mn=_i.lineString([Ut,Jt],xt.properties);if(_t(mn,Mt,kt,In,It)===!1)return!1;It++,Ut=Jt})!==!1&&void 0}}})}function rs(vt,_t){if(!vt)throw new Error("geojson is required");qa(vt,function(xt,Mt,kt){if(xt.geometry!==null){var It=xt.geometry.type,Rt=xt.geometry.coordinates;switch(It){case"LineString":if(_t(xt,Mt,kt,0,0)===!1)return!1;break;case"Polygon":for(var Ut=0;Ut<Rt.length;Ut++)if(_t(_i.lineString(Rt[Ut],xt.properties),Mt,kt,Ut)===!1)return!1}}})}var ds=function(vt){var _t=[];return Ji(vt,function(xt){_t.push(xt)}),_t},es=Ji,Xc=function(vt,_t,xt,Mt){var kt=xt;return Ji(vt,function(It,Rt,Ut,Wt,qt){kt=Rt===0&&xt===void 0?It:_t(kt,It,Rt,Ut,Wt,qt)},Mt),kt},hu=na,If=function(vt,_t,xt){var Mt=xt;return na(vt,function(kt,It){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It)}),Mt},du=function(vt,_t){if(_t=_t||{},!_i.isObject(_t))throw new Error("options is invalid");var xt,Mt=_t.featureIndex||0,kt=_t.multiFeatureIndex||0,It=_t.geometryIndex||0,Rt=_t.coordIndex||0,Ut=_t.properties;switch(vt.type){case"FeatureCollection":Mt<0&&(Mt=vt.features.length+Mt),Ut=Ut||vt.features[Mt].properties,xt=vt.features[Mt].geometry;break;case"Feature":Ut=Ut||vt.properties,xt=vt.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xt=vt;break;default:throw new Error("geojson is invalid")}if(xt===null)return null;var Wt=xt.coordinates;switch(xt.type){case"Point":return _i.point(Wt,Ut,_t);case"MultiPoint":return kt<0&&(kt=Wt.length+kt),_i.point(Wt[kt],Ut,_t);case"LineString":return Rt<0&&(Rt=Wt.length+Rt),_i.point(Wt[Rt],Ut,_t);case"Polygon":return It<0&&(It=Wt.length+It),Rt<0&&(Rt=Wt[It].length+Rt),_i.point(Wt[It][Rt],Ut,_t);case"MultiLineString":return kt<0&&(kt=Wt.length+kt),Rt<0&&(Rt=Wt[kt].length+Rt),_i.point(Wt[kt][Rt],Ut,_t);case"MultiPolygon":return kt<0&&(kt=Wt.length+kt),It<0&&(It=Wt[kt].length+It),Rt<0&&(Rt=Wt[kt][It].length-Rt),_i.point(Wt[kt][It][Rt],Ut,_t)}throw new Error("geojson is invalid")},Yd=function(vt,_t){if(_t=_t||{},!_i.isObject(_t))throw new Error("options is invalid");var xt,Mt=_t.featureIndex||0,kt=_t.multiFeatureIndex||0,It=_t.geometryIndex||0,Rt=_t.segmentIndex||0,Ut=_t.properties;switch(vt.type){case"FeatureCollection":Mt<0&&(Mt=vt.features.length+Mt),Ut=Ut||vt.features[Mt].properties,xt=vt.features[Mt].geometry;break;case"Feature":Ut=Ut||vt.properties,xt=vt.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":xt=vt;break;default:throw new Error("geojson is invalid")}if(xt===null)return null;var Wt=xt.coordinates;switch(xt.type){case"Point":case"MultiPoint":return null;case"LineString":return Rt<0&&(Rt=Wt.length+Rt-1),_i.lineString([Wt[Rt],Wt[Rt+1]],Ut,_t);case"Polygon":return It<0&&(It=Wt.length+It),Rt<0&&(Rt=Wt[It].length+Rt-1),_i.lineString([Wt[It][Rt],Wt[It][Rt+1]],Ut,_t);case"MultiLineString":return kt<0&&(kt=Wt.length+kt),Rt<0&&(Rt=Wt[kt].length+Rt-1),_i.lineString([Wt[kt][Rt],Wt[kt][Rt+1]],Ut,_t);case"MultiPolygon":return kt<0&&(kt=Wt.length+kt),It<0&&(It=Wt[kt].length+It),Rt<0&&(Rt=Wt[kt][It].length-Rt-1),_i.lineString([Wt[kt][It][Rt],Wt[kt][It][Rt+1]],Ut,_t)}throw new Error("geojson is invalid")},Zc=qa,ts=function(vt,_t,xt){var Mt=xt;return qa(vt,function(kt,It,Rt){Mt=It===0&&Rt===0&&xt===void 0?kt:_t(Mt,kt,It,Rt)}),Mt},Gd=Wa,oh=function(vt,_t,xt){var Mt=xt;return Wa(vt,function(kt,It,Rt,Ut,Wt){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It,Rt,Ut,Wt)}),Mt},sc=rs,Lc=function(vt,_t,xt){var Mt=xt;return rs(vt,function(kt,It,Rt,Ut){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It,Rt,Ut)}),Mt},fu=Zo,ah=function(vt,_t,xt){var Mt=xt;return Zo(vt,function(kt,It){Mt=It===0&&xt===void 0?kt:_t(Mt,kt,It)}),Mt},Wd=Jo,Lf=function(vt,_t,xt){var Mt=xt,kt=!1;return Jo(vt,function(It,Rt,Ut,Wt,qt){Mt=kt===!1&&xt===void 0?It:_t(Mt,It,Rt,Ut,Wt,qt),kt=!0}),Mt},Of=Object.defineProperty({coordAll:ds,coordEach:es,coordReduce:Xc,featureEach:hu,featureReduce:If,findPoint:du,findSegment:Yd,flattenEach:Zc,flattenReduce:ts,geomEach:Gd,geomReduce:oh,lineEach:sc,lineReduce:Lc,propEach:fu,propReduce:ah,segmentEach:Wd,segmentReduce:Lf},"__esModule",{value:!0});function Np(vt){var _t=[1/0,1/0,-1/0,-1/0];return Of.coordEach(vt,function(xt){_t[0]>xt[0]&&(_t[0]=xt[0]),_t[1]>xt[1]&&(_t[1]=xt[1]),_t[2]<xt[0]&&(_t[2]=xt[0]),_t[3]<xt[1]&&(_t[3]=xt[1])}),_t}Np.default=Np;var Pf=Np,wd=Object.defineProperty({default:Pf},"__esModule",{value:!0}).default,Og=Of.featureEach,Pg=(Of.coordEach,_i.polygon,_i.featureCollection);function qd(vt){var _t=Br(vt);return _t.insert=function(xt){if(xt.type!=="Feature")throw new Error("invalid feature");return xt.bbox=xt.bbox?xt.bbox:wd(xt),Br.prototype.insert.call(this,xt)},_t.load=function(xt){var Mt=[];return Array.isArray(xt)?xt.forEach(function(kt){if(kt.type!=="Feature")throw new Error("invalid features");kt.bbox=kt.bbox?kt.bbox:wd(kt),Mt.push(kt)}):Og(xt,function(kt){if(kt.type!=="Feature")throw new Error("invalid features");kt.bbox=kt.bbox?kt.bbox:wd(kt),Mt.push(kt)}),Br.prototype.load.call(this,Mt)},_t.remove=function(xt,Mt){if(xt.type!=="Feature")throw new Error("invalid feature");return xt.bbox=xt.bbox?xt.bbox:wd(xt),Br.prototype.remove.call(this,xt,Mt)},_t.clear=function(){return Br.prototype.clear.call(this)},_t.search=function(xt){var Mt=Br.prototype.search.call(this,this.toBBox(xt));return Pg(Mt)},_t.collides=function(xt){return Br.prototype.collides.call(this,this.toBBox(xt))},_t.all=function(){var xt=Br.prototype.all.call(this);return Pg(xt)},_t.toJSON=function(){return Br.prototype.toJSON.call(this)},_t.fromJSON=function(xt){return Br.prototype.fromJSON.call(this,xt)},_t.toBBox=function(xt){var Mt;if(xt.bbox)Mt=xt.bbox;else if(Array.isArray(xt)&&xt.length===4)Mt=xt;else if(Array.isArray(xt)&&xt.length===6)Mt=[xt[0],xt[1],xt[3],xt[4]];else if(xt.type==="Feature")Mt=wd(xt);else{if(xt.type!=="FeatureCollection")throw new Error("invalid geojson");Mt=wd(xt)}return{minX:Mt[0],minY:Mt[1],maxX:Mt[2],maxY:Mt[3]}},_t}var qs=qd,pu=qd;function Rl(vt,_t){var xt={},Mt=[];if(vt.type==="LineString"&&(vt=wt(vt)),_t.type==="LineString"&&(_t=wt(_t)),vt.type==="Feature"&&_t.type==="Feature"&&vt.geometry!==null&&_t.geometry!==null&&vt.geometry.type==="LineString"&&_t.geometry.type==="LineString"&&vt.geometry.coordinates.length===2&&_t.geometry.coordinates.length===2){var kt=Dp(vt,_t);return kt&&Mt.push(kt),Bt(Mt)}var It=qs();return It.load(Kr(_t)),Gn(Kr(vt),function(Rt){Gn(It.search(Rt),function(Ut){var Wt=Dp(Rt,Ut);if(Wt){var qt=zn(Wt).join(",");xt[qt]||(xt[qt]=!0,Mt.push(Wt))}})}),Bt(Mt)}function Dp(vt,_t){var xt=zn(vt),Mt=zn(_t);if(xt.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(Mt.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var kt=xt[0][0],It=xt[0][1],Rt=xt[1][0],Ut=xt[1][1],Wt=Mt[0][0],qt=Mt[0][1],on=Mt[1][0],Jt=Mt[1][1],un=(Jt-qt)*(Rt-kt)-(on-Wt)*(Ut-It),En=(on-Wt)*(It-qt)-(Jt-qt)*(kt-Wt),Tn=(Rt-kt)*(It-qt)-(Ut-It)*(kt-Wt);if(un===0)return null;var In=En/un,mn=Tn/un;return In>=0&&In<=1&&mn>=0&&mn<=1?Tt([kt+In*(Rt-kt),It+In*(Ut-It)]):null}function Oc(vt,_t,xt){xt===void 0&&(xt={});var Mt=Tt([1/0,1/0],{dist:1/0}),kt=0;return Pr(vt,function(It){for(var Rt=zn(It),Ut=0;Ut<Rt.length-1;Ut++){var Wt=Tt(Rt[Ut]);Wt.properties.dist=To(_t,Wt,xt);var qt=Tt(Rt[Ut+1]);qt.properties.dist=To(_t,qt,xt);var on=To(Wt,qt,xt),Jt=Math.max(Wt.properties.dist,qt.properties.dist),un=nl(Wt,qt),En=ya(_t,Jt,un+90,xt),Tn=ya(_t,Jt,un-90,xt),In=Rl(zt([En.geometry.coordinates,Tn.geometry.coordinates]),zt([Wt.geometry.coordinates,qt.geometry.coordinates])),mn=null;In.features.length>0&&((mn=In.features[0]).properties.dist=To(_t,mn,xt),mn.properties.location=kt+To(Wt,mn,xt)),Wt.properties.dist<Mt.properties.dist&&((Mt=Wt).properties.index=Ut,Mt.properties.location=kt),qt.properties.dist<Mt.properties.dist&&((Mt=qt).properties.index=Ut+1,Mt.properties.location=kt+on),mn&&mn.properties.dist<Mt.properties.dist&&((Mt=mn).properties.index=Ut),kt+=on}}),Mt}function Qd(vt,_t,xt){xt===void 0&&(xt={});var Mt=hn(vt),kt=hn(_t);return kt[0]+=kt[0]-Mt[0]>180?-360:Mt[0]-kt[0]>180?360:0,Mn(function(It,Rt,Ut){var Wt=Ut=Ut===void 0?rt:Number(Ut),qt=It[1]*Math.PI/180,on=Rt[1]*Math.PI/180,Jt=on-qt,un=Math.abs(Rt[0]-It[0])*Math.PI/180;un>Math.PI&&(un-=2*Math.PI);var En=Math.log(Math.tan(on/2+Math.PI/4)/Math.tan(qt/2+Math.PI/4)),Tn=Math.abs(En)>1e-11?Jt/En:Math.cos(qt);return Math.sqrt(Jt*Jt+Tn*Tn*un*un)*Wt}(Mt,kt),"meters",xt.units)}function Ip(vt,_t,xt){if(xt===void 0&&(xt={}),xt.method||(xt.method="geodesic"),xt.units||(xt.units="kilometers"),!vt)throw new Error("pt is required");if(Array.isArray(vt)?vt=Tt(vt):vt.type==="Point"?vt=wt(vt):Rn(vt,"Point","point"),!_t)throw new Error("line is required");Array.isArray(_t)?_t=zt(_t):_t.type==="LineString"?_t=wt(_t):Rn(_t,"LineString","line");var Mt=1/0,kt=vt.geometry.coordinates;return tr(_t,function(It){var Rt=It.geometry.coordinates[0],Ut=It.geometry.coordinates[1],Wt=function(qt,on,Jt,un){var En=[Jt[0]-on[0],Jt[1]-on[1]],Tn=Rg([qt[0]-on[0],qt[1]-on[1]],En);if(Tn<=0)return Ch(qt,on,{method:un.method,units:"degrees"});var In=Rg(En,En);if(In<=Tn)return Ch(qt,Jt,{method:un.method,units:"degrees"});var mn=Tn/In,Wn=[on[0]+mn*En[0],on[1]+mn*En[1]];return Ch(qt,Wn,{method:un.method,units:"degrees"})}(kt,Rt,Ut,xt);Wt<Mt&&(Mt=Wt)}),Mn(Mt,"degrees",xt.units)}function Rg(vt,_t){return vt[0]*_t[0]+vt[1]*_t[1]}function Ch(vt,_t,xt){return xt.method==="planar"?Qd(vt,_t,xt):To(vt,_t,xt)}function Fm(vt,_t,xt,Mt,kt,It,Rt,Ut){var Wt,qt,on,Jt,un={x:null,y:null,onLine1:!1,onLine2:!1};return(Wt=(Ut-It)*(xt-vt)-(Rt-kt)*(Mt-_t))===0?un.x!==null&&un.y!==null&&un:(Jt=(xt-vt)*(qt=_t-It)-(Mt-_t)*(on=vt-kt),qt=((Rt-kt)*qt-(Ut-It)*on)/Wt,on=Jt/Wt,un.x=vt+qt*(xt-vt),un.y=_t+qt*(Mt-_t),qt>=0&&qt<=1&&(un.onLine1=!0),on>=0&&on<=1&&(un.onLine2=!0),!(!un.onLine1||!un.onLine2)&&[un.x,un.y])}function Qh(vt){for(var _t=function(un){return un.type!=="FeatureCollection"?un.type!=="Feature"?Bt([wt(un)]):Bt([un]):un}(vt),xt=Ga(_t),Mt=!1,kt=0;!Mt&&kt<_t.features.length;){var It,Rt=_t.features[kt].geometry,Ut=!1;if(Rt.type==="Point")xt.geometry.coordinates[0]===Rt.coordinates[0]&&xt.geometry.coordinates[1]===Rt.coordinates[1]&&(Mt=!0);else if(Rt.type==="MultiPoint"){var Wt=!1;for(It=0;!Wt&&It<Rt.coordinates.length;)xt.geometry.coordinates[0]===Rt.coordinates[It][0]&&xt.geometry.coordinates[1]===Rt.coordinates[It][1]&&(Mt=!0,Wt=!0),It++}else if(Rt.type==="LineString")for(It=0;!Ut&&It<Rt.coordinates.length-1;)Rf(xt.geometry.coordinates[0],xt.geometry.coordinates[1],Rt.coordinates[It][0],Rt.coordinates[It][1],Rt.coordinates[It+1][0],Rt.coordinates[It+1][1])&&(Ut=!0,Mt=!0),It++;else if(Rt.type==="MultiLineString")for(var qt=0;qt<Rt.coordinates.length;){Ut=!1,It=0;for(var on=Rt.coordinates[qt];!Ut&&It<on.length-1;)Rf(xt.geometry.coordinates[0],xt.geometry.coordinates[1],on[It][0],on[It][1],on[It+1][0],on[It+1][1])&&(Ut=!0,Mt=!0),It++;qt++}else Rt.type!=="Polygon"&&Rt.type!=="MultiPolygon"||xo(xt,Rt)&&(Mt=!0);kt++}if(Mt)return xt;var Jt=Bt([]);for(kt=0;kt<_t.features.length;kt++)Jt.features=Jt.features.concat(Co(_t.features[kt]).features);return Tt(Rr(xt,Jt).geometry.coordinates)}function Rf(vt,_t,xt,Mt,kt,It){return Math.sqrt((kt-xt)*(kt-xt)+(It-Mt)*(It-Mt))===Math.sqrt((vt-xt)*(vt-xt)+(_t-Mt)*(_t-Mt))+Math.sqrt((kt-vt)*(kt-vt)+(It-_t)*(It-_t))}qs.default=pu;var Xd=6378137;function Zd(vt){return Ir(vt,function(_t,xt){return _t+function(Mt){var kt,It=0;switch(Mt.type){case"Polygon":return gu(Mt.coordinates);case"MultiPolygon":for(kt=0;kt<Mt.coordinates.length;kt++)It+=gu(Mt.coordinates[kt]);return It;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(xt)},0)}function gu(vt){var _t=0;if(vt&&vt.length>0){_t+=Math.abs(zf(vt[0]));for(var xt=1;xt<vt.length;xt++)_t-=Math.abs(zf(vt[xt]))}return _t}function zf(vt){var _t,xt,Mt,kt,It,Rt,Ut=0,Wt=vt.length;if(Wt>2){for(Rt=0;Rt<Wt;Rt++)Rt===Wt-2?(Mt=Wt-2,kt=Wt-1,It=0):Rt===Wt-1?(Mt=Wt-1,kt=0,It=1):(Mt=Rt,kt=Rt+1,It=Rt+2),_t=vt[Mt],xt=vt[kt],Ut+=($f(vt[It][0])-$f(_t[0]))*Math.sin($f(xt[1]));Ut=Ut*Xd*Xd/2}return Ut}function $f(vt){return vt*Math.PI/180}function Xh(vt,_t){return _t===void 0&&(_t={}),qn(vt,function(xt,Mt){var kt=Mt.geometry.coordinates;return xt+To(kt[0],kt[1],_t)},0)}function Bf(vt,_t,xt,Mt){if(!gn(Mt=Mt||{}))throw new Error("options is invalid");var kt,It=[];if(vt.type==="Feature")kt=vt.geometry.coordinates;else{if(vt.type!=="LineString")throw new Error("input must be a LineString Feature or Geometry");kt=vt.coordinates}for(var Rt,Ut,Wt,qt=kt.length,on=0,Jt=0;Jt<kt.length&&!(_t>=on&&Jt===kt.length-1);Jt++){if(on>_t&&It.length===0){if(!(Rt=_t-on))return It.push(kt[Jt]),zt(It);Ut=nl(kt[Jt],kt[Jt-1])-180,Wt=ya(kt[Jt],Rt,Ut,Mt),It.push(Wt.geometry.coordinates)}if(on>=xt)return(Rt=xt-on)?(Ut=nl(kt[Jt],kt[Jt-1])-180,Wt=ya(kt[Jt],Rt,Ut,Mt),It.push(Wt.geometry.coordinates),zt(It)):(It.push(kt[Jt]),zt(It));if(on>=_t&&It.push(kt[Jt]),Jt===kt.length-1)return zt(It);on+=To(kt[Jt],kt[Jt+1],Mt)}if(on<_t&&kt.length===qt)throw new Error("Start position is beyond line");var un=kt[kt.length-1];return zt([un,un])}function Wl(vt,_t,xt){xt===void 0&&(xt={});for(var Mt=hn(vt),kt=zn(_t),It=0;It<kt.length-1;It++){var Rt=!1;if(xt.ignoreEndVertices&&(It===0&&(Rt="start"),It===kt.length-2&&(Rt="end"),It===0&&It+1===kt.length-1&&(Rt="both")),Kd(kt[It],kt[It+1],Mt,Rt,xt.epsilon===void 0?null:xt.epsilon))return!0}return!1}function Kd(vt,_t,xt,Mt,kt){var It=xt[0],Rt=xt[1],Ut=vt[0],Wt=vt[1],qt=_t[0],on=_t[1],Jt=qt-Ut,un=on-Wt,En=(xt[0]-Ut)*un-(xt[1]-Wt)*Jt;if(kt!==null){if(Math.abs(En)>kt)return!1}else if(En!==0)return!1;return Mt?Mt==="start"?Math.abs(Jt)>=Math.abs(un)?Jt>0?Ut<It&&It<=qt:qt<=It&&It<Ut:un>0?Wt<Rt&&Rt<=on:on<=Rt&&Rt<Wt:Mt==="end"?Math.abs(Jt)>=Math.abs(un)?Jt>0?Ut<=It&&It<qt:qt<It&&It<=Ut:un>0?Wt<=Rt&&Rt<on:on<Rt&&Rt<=Wt:Mt==="both"&&(Math.abs(Jt)>=Math.abs(un)?Jt>0?Ut<It&&It<qt:qt<It&&It<Ut:un>0?Wt<Rt&&Rt<on:on<Rt&&Rt<Wt):Math.abs(Jt)>=Math.abs(un)?Jt>0?Ut<=It&&It<=qt:qt<=It&&It<=Ut:un>0?Wt<=Rt&&Rt<=on:on<=Rt&&Rt<=Wt}function Lp(vt,_t){var xt=Kn(vt),Mt=Kn(_t),kt=xt.type,It=Mt.type;switch(kt){case"Point":switch(It){case"MultiPoint":return function(Rt,Ut){var Wt,qt=!1;for(Wt=0;Wt<Ut.coordinates.length;Wt++)if(Pp(Ut.coordinates[Wt],Rt.coordinates)){qt=!0;break}return qt}(xt,Mt);case"LineString":return Wl(xt,Mt,{ignoreEndVertices:!0});case"Polygon":case"MultiPolygon":return xo(xt,Mt,{ignoreBoundary:!0});default:throw new Error("feature2 "+It+" geometry not supported")}case"MultiPoint":switch(It){case"MultiPoint":return function(Rt,Ut){for(var Wt=0;Wt<Rt.coordinates.length;Wt++){for(var qt=!1,on=0;on<Ut.coordinates.length;on++)Pp(Rt.coordinates[Wt],Ut.coordinates[on])&&(qt=!0);if(!qt)return!1}return!0}(xt,Mt);case"LineString":return function(Rt,Ut){for(var Wt=!1,qt=0;qt<Rt.coordinates.length;qt++){if(!Wl(Rt.coordinates[qt],Ut))return!1;Wt||(Wt=Wl(Rt.coordinates[qt],Ut,{ignoreEndVertices:!0}))}return Wt}(xt,Mt);case"Polygon":case"MultiPolygon":return function(Rt,Ut){for(var Wt=!0,qt=!1,on=0;on<Rt.coordinates.length;on++){if(!(qt=xo(Rt.coordinates[1],Ut))){Wt=!1;break}qt=xo(Rt.coordinates[1],Ut,{ignoreBoundary:!0})}return Wt&&qt}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"LineString":switch(It){case"LineString":return function(Rt,Ut){for(var Wt=0;Wt<Rt.coordinates.length;Wt++)if(!Wl(Rt.coordinates[Wt],Ut))return!1;return!0}(xt,Mt);case"Polygon":case"MultiPolygon":return function(Rt,Ut){var Wt=vn(Ut),qt=vn(Rt);if(!Op(Wt,qt))return!1;for(var on=!1,Jt=0;Jt<Rt.coordinates.length-1;Jt++){if(!xo(Rt.coordinates[Jt],Ut))return!1;on||(on=xo(Rt.coordinates[Jt],Ut,{ignoreBoundary:!0})),!on&&(on=xo(Rp(Rt.coordinates[Jt],Rt.coordinates[Jt+1]),Ut,{ignoreBoundary:!0}))}return on}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"Polygon":switch(It){case"Polygon":case"MultiPolygon":return function(Rt,Ut){var Wt=vn(Rt);if(!Op(vn(Ut),Wt))return!1;for(var qt=0;qt<Rt.coordinates[0].length;qt++)if(!xo(Rt.coordinates[0][qt],Ut))return!1;return!0}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}default:throw new Error("feature1 "+kt+" geometry not supported")}}function Op(vt,_t){return!(vt[0]>_t[0])&&!(vt[2]<_t[2])&&!(vt[1]>_t[1])&&!(vt[3]<_t[3])}function Pp(vt,_t){return vt[0]===_t[0]&&vt[1]===_t[1]}function Rp(vt,_t){return[(vt[0]+_t[0])/2,(vt[1]+_t[1])/2]}function jf(vt,_t,xt){xt===void 0&&(xt={}),xt.mask&&!xt.units&&(xt.units="kilometers");for(var Mt=[],kt=vt[0],It=vt[1],Rt=vt[2],Ut=vt[3],Wt=_t/To([kt,It],[Rt,It],xt)*(Rt-kt),qt=_t/To([kt,It],[kt,Ut],xt)*(Ut-It),on=Rt-kt,Jt=Ut-It,un=Math.floor(on/Wt),En=(Jt-Math.floor(Jt/qt)*qt)/2,Tn=kt+(on-un*Wt)/2;Tn<=Rt;){for(var In=It+En;In<=Ut;){var mn=Tt([Tn,In],xt.properties);xt.mask?Lp(mn,xt.mask)&&Mt.push(mn):Mt.push(mn),In+=qt}Tn+=Wt}return Bt(Mt)}function xd(vt,_t){_t===void 0&&(_t={});var xt=_t.precision,Mt=_t.coordinates,kt=_t.mutate;if(xt=xt==null||isNaN(xt)?6:xt,Mt=Mt==null||isNaN(Mt)?3:Mt,!vt)throw new Error("<geojson> is required");if(typeof xt!="number")throw new Error("<precision> must be a number");if(typeof Mt!="number")throw new Error("<coordinates> must be a number");kt!==!1&&kt!==void 0||(vt=JSON.parse(JSON.stringify(vt)));var It=Math.pow(10,xt);return xn(vt,function(Rt){(function(Ut,Wt,qt){Ut.length>qt&&Ut.splice(qt,Ut.length);for(var on=0;on<Ut.length;on++)Ut[on]=Math.round(Ut[on]*Wt)/Wt})(Rt,It,Mt)}),vt}function Jd(vt){if(!vt)throw new Error("geojson is required");var _t=[];return Pr(vt,function(xt){_t.push(xt)}),Bt(_t)}function zg(vt,_t,xt){if(vt.geometry.type!=="Polygon")throw new Error("The input feature must be a Polygon");xt===void 0&&(xt=1);var Mt=vt.geometry.coordinates,kt=[],It={};if(xt){for(var Rt=[],Ut=0;Ut<Mt.length;Ut++)for(var Wt=0;Wt<Mt[Ut].length-1;Wt++)Rt.push(In(Ut,Wt));var qt=Br();qt.load(Rt)}for(var on=0;on<Mt.length;on++)for(var Jt=0;Jt<Mt[on].length-1;Jt++)if(xt)qt.search(In(on,Jt)).forEach(function(mn){var Wn=mn.ring,pr=mn.edge;Tn(on,Jt,Wn,pr)});else for(var un=0;un<Mt.length;un++)for(var En=0;En<Mt[un].length-1;En++)Tn(on,Jt,un,En);return _t||(kt={type:"Feature",geometry:{type:"MultiPoint",coordinates:kt}}),kt;function Tn(mn,Wn,pr,kn){var Vn,Qn,ir=Mt[mn][Wn],Jn=Mt[mn][Wn+1],oi=Mt[pr][kn],Gr=Mt[pr][kn+1],li=function(ti,ei,Qr,ui){if(Ed(ti,Qr)||Ed(ti,ui)||Ed(ei,Qr)||Ed(ui,Qr))return null;var ni=ti[0],gi=ti[1],zr=ei[0],co=ei[1],$i=Qr[0],Qo=Qr[1],ro=ui[0],ko=ui[1],ma=(ni-zr)*(Qo-ko)-(gi-co)*($i-ro);return ma===0?null:[((ni*co-gi*zr)*($i-ro)-(ni-zr)*($i*ko-Qo*ro))/ma,((ni*co-gi*zr)*(Qo-ko)-(gi-co)*($i*ko-Qo*ro))/ma]}(ir,Jn,oi,Gr);if(li!==null&&(Vn=Jn[0]!==ir[0]?(li[0]-ir[0])/(Jn[0]-ir[0]):(li[1]-ir[1])/(Jn[1]-ir[1]),Qn=Gr[0]!==oi[0]?(li[0]-oi[0])/(Gr[0]-oi[0]):(li[1]-oi[1])/(Gr[1]-oi[1]),!(Vn>=1||Vn<=0||Qn>=1||Qn<=0))){var qr=li,fi=!It[qr];fi&&(It[qr]=!0),_t?kt.push(_t(li,mn,Wn,ir,Jn,Vn,pr,kn,oi,Gr,Qn,fi)):kt.push(li)}}function In(mn,Wn){var pr,kn,Vn,Qn,ir=Mt[mn][Wn],Jn=Mt[mn][Wn+1];return ir[0]<Jn[0]?(pr=ir[0],kn=Jn[0]):(pr=Jn[0],kn=ir[0]),ir[1]<Jn[1]?(Vn=ir[1],Qn=Jn[1]):(Vn=Jn[1],Qn=ir[1]),{minX:pr,minY:Vn,maxX:kn,maxY:Qn,ring:mn,edge:Wn}}}function Ed(vt,_t){if(!vt||!_t||vt.length!==_t.length)return!1;for(var xt=0,Mt=vt.length;xt<Mt;xt++)if(vt[xt]instanceof Array&&_t[xt]instanceof Array){if(!Ed(vt[xt],_t[xt]))return!1}else if(vt[xt]!==_t[xt])return!1;return!0}function $g(vt){if(vt.type!="Feature")throw new Error("The input must a geojson object of type Feature");if(vt.geometry===void 0||vt.geometry==null)throw new Error("The input must a geojson object with a non-empty geometry");if(vt.geometry.type!="Polygon")throw new Error("The input must be a geojson Polygon");for(var _t=vt.geometry.coordinates.length,xt=[],Mt=0;Mt<_t;Mt++){var kt=vt.geometry.coordinates[Mt];an(kt[0],kt[kt.length-1])||kt.push(kt[0]),xt.push.apply(xt,kt.slice(0,kt.length-1))}if(!function(ro){for(var ko={},ma=1,ss=0,Fl=ro.length;ss<Fl;++ss){if(Object.prototype.hasOwnProperty.call(ko,ro[ss])){ma=0;break}ko[ro[ss]]=1}return ma}(xt))throw new Error("The input polygon may not have duplicate vertices (except for the first and last vertex of each ring)");var It=xt.length,Rt=zg(vt,function(ro,ko,ma,ss,Fl,Mg,Hd,Sg,kg,Sp,Lm,kp){return[ro,ko,ma,ss,Fl,Mg,Hd,Sg,kg,Sp,Lm,kp]}),Ut=Rt.length;if(Ut==0){var Wt=[];for(Mt=0;Mt<_t;Mt++)Wt.push(Dt([vt.geometry.coordinates[Mt]],{parent:-1,winding:Vt(vt.geometry.coordinates[Mt])}));var qt=Bt(Wt);return co(),$i(),qt}var on=[],Jt=[];for(Mt=0;Mt<_t;Mt++){on.push([]);for(var un=0;un<vt.geometry.coordinates[Mt].length-1;un++)on[Mt].push([new zp(vt.geometry.coordinates[Mt][_n(un+1,vt.geometry.coordinates[Mt].length-1)],1,[Mt,un],[Mt,_n(un+1,vt.geometry.coordinates[Mt].length-1)],void 0)]),Jt.push(new ef(vt.geometry.coordinates[Mt][un],[Mt,_n(un-1,vt.geometry.coordinates[Mt].length-1)],[Mt,un],void 0,void 0,!1,!0))}for(Mt=0;Mt<Ut;Mt++)on[Rt[Mt][1]][Rt[Mt][2]].push(new zp(Rt[Mt][0],Rt[Mt][5],[Rt[Mt][1],Rt[Mt][2]],[Rt[Mt][6],Rt[Mt][7]],void 0)),Rt[Mt][11]&&Jt.push(new ef(Rt[Mt][0],[Rt[Mt][1],Rt[Mt][2]],[Rt[Mt][6],Rt[Mt][7]],void 0,void 0,!0,!0));var En=Jt.length;for(Mt=0;Mt<on.length;Mt++)for(un=0;un<on[Mt].length;un++)on[Mt][un].sort(function(ro,ko){return ro.param<ko.param?-1:1});var Tn=[];for(Mt=0;Mt<En;Mt++)Tn.push({minX:Jt[Mt].coord[0],minY:Jt[Mt].coord[1],maxX:Jt[Mt].coord[0],maxY:Jt[Mt].coord[1],index:Mt});var In=Br();for(In.load(Tn),Mt=0;Mt<on.length;Mt++)for(un=0;un<on[Mt].length;un++)for(var mn=0;mn<on[Mt][un].length;mn++){pr=mn==on[Mt][un].length-1?on[Mt][_n(un+1,vt.geometry.coordinates[Mt].length-1)][0].coord:on[Mt][un][mn+1].coord;var Wn=In.search({minX:pr[0],minY:pr[1],maxX:pr[0],maxY:pr[1]})[0];on[Mt][un][mn].nxtIsectAlongEdgeIn=Wn.index}for(Mt=0;Mt<on.length;Mt++)for(un=0;un<on[Mt].length;un++)for(mn=0;mn<on[Mt][un].length;mn++){var pr=on[Mt][un][mn].coord,kn=(Wn=In.search({minX:pr[0],minY:pr[1],maxX:pr[0],maxY:pr[1]})[0]).index;kn<It?Jt[kn].nxtIsectAlongRingAndEdge2=on[Mt][un][mn].nxtIsectAlongEdgeIn:an(Jt[kn].ringAndEdge1,on[Mt][un][mn].ringAndEdgeIn)?Jt[kn].nxtIsectAlongRingAndEdge1=on[Mt][un][mn].nxtIsectAlongEdgeIn:Jt[kn].nxtIsectAlongRingAndEdge2=on[Mt][un][mn].nxtIsectAlongEdgeIn}var Vn=[];for(Mt=0,un=0;un<_t;un++){var Qn=Mt;for(mn=0;mn<vt.geometry.coordinates[un].length-1;mn++)Jt[Mt].coord[0]<Jt[Qn].coord[0]&&(Qn=Mt),Mt++;var ir=Jt[Qn].nxtIsectAlongRingAndEdge2;for(mn=0;mn<Jt.length;mn++)if(Jt[mn].nxtIsectAlongRingAndEdge1==Qn||Jt[mn].nxtIsectAlongRingAndEdge2==Qn){var Jn=mn;break}var oi=Lt([Jt[Jn].coord,Jt[Qn].coord,Jt[ir].coord],!0)?1:-1;Vn.push({isect:Qn,parent:-1,winding:oi})}for(Vn.sort(function(ro,ko){return Jt[ro.isect].coord>Jt[ko.isect].coord?-1:1}),Wt=[];Vn.length>0;){var Gr=Vn.pop(),li=Gr.isect,qr=Gr.parent,fi=Gr.winding,ti=Wt.length,ei=[Jt[li].coord],Qr=li;if(Jt[li].ringAndEdge1Walkable)var ui=Jt[li].ringAndEdge1,ni=Jt[li].nxtIsectAlongRingAndEdge1;else ui=Jt[li].ringAndEdge2,ni=Jt[li].nxtIsectAlongRingAndEdge2;for(;!an(Jt[li].coord,Jt[ni].coord);){ei.push(Jt[ni].coord);var gi=void 0;for(Mt=0;Mt<Vn.length;Mt++)if(Vn[Mt].isect==ni){gi=Mt;break}if(gi!=null&&Vn.splice(gi,1),an(ui,Jt[ni].ringAndEdge1)){if(ui=Jt[ni].ringAndEdge2,Jt[ni].ringAndEdge2Walkable=!1,Jt[ni].ringAndEdge1Walkable){var zr={isect:ni};Lt([Jt[Qr].coord,Jt[ni].coord,Jt[Jt[ni].nxtIsectAlongRingAndEdge2].coord],fi==1)?(zr.parent=qr,zr.winding=-fi):(zr.parent=ti,zr.winding=fi),Vn.push(zr)}Qr=ni,ni=Jt[ni].nxtIsectAlongRingAndEdge2}else ui=Jt[ni].ringAndEdge1,Jt[ni].ringAndEdge1Walkable=!1,Jt[ni].ringAndEdge2Walkable&&(zr={isect:ni},Lt([Jt[Qr].coord,Jt[ni].coord,Jt[Jt[ni].nxtIsectAlongRingAndEdge1].coord],fi==1)?(zr.parent=qr,zr.winding=-fi):(zr.parent=ti,zr.winding=fi),Vn.push(zr)),Qr=ni,ni=Jt[ni].nxtIsectAlongRingAndEdge1}ei.push(Jt[ni].coord),Wt.push(Dt([ei],{index:ti,parent:qr,winding:fi,netWinding:void 0}))}qt=Bt(Wt);function co(){for(var ro=[],ko=0;ko<qt.features.length;ko++)qt.features[ko].properties.parent==-1&&ro.push(ko);if(ro.length>1)for(ko=0;ko<ro.length;ko++){for(var ma=-1,ss=0;ss<qt.features.length;ss++)ro[ko]!=ss&&xo(qt.features[ro[ko]].geometry.coordinates[0][0],qt.features[ss],{ignoreBoundary:!0})&&Zd(qt.features[ss])<1/0&&(ma=ss);qt.features[ro[ko]].properties.parent=ma}}function $i(){for(var ro=0;ro<qt.features.length;ro++)if(qt.features[ro].properties.parent==-1){var ko=qt.features[ro].properties.winding;qt.features[ro].properties.netWinding=ko,Qo(ro,ko)}}function Qo(ro,ko){for(var ma=0;ma<qt.features.length;ma++)if(qt.features[ma].properties.parent==ro){var ss=ko+qt.features[ma].properties.winding;qt.features[ma].properties.netWinding=ss,Qo(ma,ss)}}return co(),$i(),qt}var zp=function(vt,_t,xt,Mt,kt){this.coord=vt,this.param=_t,this.ringAndEdgeIn=xt,this.ringAndEdgeOut=Mt,this.nxtIsectAlongEdgeIn=kt},ef=function(vt,_t,xt,Mt,kt,It,Rt){this.coord=vt,this.ringAndEdge1=_t,this.ringAndEdge2=xt,this.nxtIsectAlongRingAndEdge1=Mt,this.nxtIsectAlongRingAndEdge2=kt,this.ringAndEdge1Walkable=It,this.ringAndEdge2Walkable=Rt};function Lt(vt,_t){if(_t===void 0&&(_t=!0),vt.length!=3)throw new Error("This function requires an array of three points [x,y]");return(vt[1][0]-vt[0][0])*(vt[2][1]-vt[0][1])-(vt[1][1]-vt[0][1])*(vt[2][0]-vt[0][0])>=0==_t}function Vt(vt){for(var _t=0,xt=0;xt<vt.length-1;xt++)vt[xt][0]<vt[_t][0]&&(_t=xt);if(Lt([vt[_n(_t-1,vt.length-1)],vt[_t],vt[_n(_t+1,vt.length-1)]],!0))var Mt=1;else Mt=-1;return Mt}function an(vt,_t){if(!vt||!_t||vt.length!=_t.length)return!1;for(var xt=0,Mt=vt.length;xt<Mt;xt++)if(vt[xt]instanceof Array&&_t[xt]instanceof Array){if(!an(vt[xt],_t[xt]))return!1}else if(vt[xt]!=_t[xt])return!1;return!0}function _n(vt,_t){return(vt%_t+_t)%_t}var Bn=Math.PI/180,dr=180/Math.PI,jr=function(vt,_t){this.lon=vt,this.lat=_t,this.x=Bn*vt,this.y=Bn*_t};jr.prototype.view=function(){return String(this.lon).slice(0,4)+","+String(this.lat).slice(0,4)},jr.prototype.antipode=function(){var vt=-1*this.lat,_t=this.lon<0?180+this.lon:-1*(180-this.lon);return new jr(_t,vt)};var ri=function(){this.coords=[],this.length=0};ri.prototype.move_to=function(vt){this.length++,this.coords.push(vt)};var hi=function(vt){this.properties=vt||{},this.geometries=[]};hi.prototype.json=function(){if(this.geometries.length<=0)return{geometry:{type:"LineString",coordinates:null},type:"Feature",properties:this.properties};if(this.geometries.length===1)return{geometry:{type:"LineString",coordinates:this.geometries[0].coords},type:"Feature",properties:this.properties};for(var vt=[],_t=0;_t<this.geometries.length;_t++)vt.push(this.geometries[_t].coords);return{geometry:{type:"MultiLineString",coordinates:vt},type:"Feature",properties:this.properties}},hi.prototype.wkt=function(){for(var vt="",_t="LINESTRING(",xt=function(kt){_t+=kt[0]+" "+kt[1]+","},Mt=0;Mt<this.geometries.length;Mt++){if(this.geometries[Mt].coords.length===0)return"LINESTRING(empty)";this.geometries[Mt].coords.forEach(xt),vt+=_t.substring(0,_t.length-1)+")"}return vt};var Di=function(vt,_t,xt){if(!vt||vt.x===void 0||vt.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");if(!_t||_t.x===void 0||_t.y===void 0)throw new Error("GreatCircle constructor expects two args: start and end objects with x and y properties");this.start=new jr(vt.x,vt.y),this.end=new jr(_t.x,_t.y),this.properties=xt||{};var Mt=this.start.x-this.end.x,kt=this.start.y-this.end.y,It=Math.pow(Math.sin(kt/2),2)+Math.cos(this.start.y)*Math.cos(this.end.y)*Math.pow(Math.sin(Mt/2),2);if(this.g=2*Math.asin(Math.sqrt(It)),this.g===Math.PI)throw new Error("it appears "+vt.view()+" and "+_t.view()+" are 'antipodal', e.g diametrically opposite, thus there is no single route but rather infinite");if(isNaN(this.g))throw new Error("could not calculate great circle between "+vt+" and "+_t)};function no(vt,_t){var xt=[],Mt=qs();return Pr(_t,function(kt){if(xt.forEach(function(Ut,Wt){Ut.id=Wt}),xt.length){var It=Mt.search(kt);if(It.features.length){var Rt=ka(kt,It);xt=xt.filter(function(Ut){return Ut.id!==Rt.id}),Mt.remove(Rt),Gn(Yo(Rt,kt),function(Ut){xt.push(Ut),Mt.insert(Ut)})}}else(xt=Yo(vt,kt).features).forEach(function(Ut){Ut.bbox||(Ut.bbox=rh(vn(Ut)))}),Mt.load(Bt(xt))}),Bt(xt)}function Yo(vt,_t){var xt=[],Mt=zn(vt)[0],kt=zn(vt)[vt.geometry.coordinates.length-1];if(wc(Mt,hn(_t))||wc(kt,hn(_t)))return Bt([vt]);var It=qs(),Rt=Kr(vt);It.load(Rt);var Ut=It.search(_t);if(!Ut.features.length)return Bt([vt]);var Wt=ka(_t,Ut),qt=lr(Rt,function(on,Jt,un){var En=zn(Jt)[1],Tn=hn(_t);return un===Wt.id?(on.push(Tn),xt.push(zt(on)),wc(Tn,En)?[Tn]:[Tn,En]):(on.push(En),on)},[Mt]);return qt.length>1&&xt.push(zt(qt)),Bt(xt)}function ka(vt,_t){if(!_t.features.length)throw new Error("lines must contain features");if(_t.features.length===1)return _t.features[0];var xt,Mt=1/0;return Gn(_t,function(kt){var It=Oc(kt,vt).properties.dist;It<Mt&&(xt=kt,Mt=It)}),xt}function wc(vt,_t){return vt[0]===_t[0]&&vt[1]===_t[1]}function Ah(vt,_t,xt,Mt,kt){kt===void 0&&(kt={});var It=kt.steps||64,Rt=Zh(xt),Ut=Zh(Mt),Wt=Array.isArray(vt)||vt.type!=="Feature"?{}:vt.properties;if(Rt===Ut)return zt(_c(vt,_t,kt).geometry.coordinates[0],Wt);for(var qt=Rt,on=Rt<Ut?Ut:Ut+360,Jt=qt,un=[],En=0;Jt<on;)un.push(ya(vt,_t,Jt,kt).geometry.coordinates),Jt=qt+360*++En/It;return Jt>on&&un.push(ya(vt,_t,on,kt).geometry.coordinates),zt(un,Wt)}function Zh(vt){var _t=vt%360;return _t<0&&(_t+=360),_t}function Kc(vt,_t){_t===void 0&&(_t={});var xt=Kn(vt);switch(_t.properties||vt.type!=="Feature"||(_t.properties=vt.properties),xt.type){case"Polygon":return Ff(xt,_t);case"MultiPolygon":return function(Mt,kt){kt===void 0&&(kt={});var It=Kn(Mt).coordinates,Rt=kt.properties?kt.properties:Mt.type==="Feature"?Mt.properties:{},Ut=[];return It.forEach(function(Wt){Ut.push($p(Wt,Rt))}),Bt(Ut)}(xt,_t);default:throw new Error("invalid poly")}}function Ff(vt,_t){return _t===void 0&&(_t={}),$p(Kn(vt).coordinates,_t.properties?_t.properties:vt.type==="Feature"?vt.properties:{})}function $p(vt,_t){return vt.length>1?Yt(vt,_t):zt(vt[0],_t)}function Bg(vt,_t){var xt,Mt,kt;_t===void 0&&(_t={});var It=_t.properties,Rt=(xt=_t.autoComplete)===null||xt===void 0||xt,Ut=(Mt=_t.orderCoords)===null||Mt===void 0||Mt;switch((kt=_t.mutate)!==null&&kt!==void 0&&kt||(vt=Wo(vt)),vt.type){case"FeatureCollection":var Wt=[];return vt.features.forEach(function(qt){Wt.push(zn(Bp(qt,{},Rt,Ut)))}),Ht(Wt,It);default:return Bp(vt,It,Rt,Ut)}}function Bp(vt,_t,xt,Mt){_t=_t||(vt.type==="Feature"?vt.properties:{});var kt=Kn(vt),It=kt.coordinates,Rt=kt.type;if(!It.length)throw new Error("line must contain coordinates");switch(Rt){case"LineString":return xt&&(It=Nh(It)),Dt([It],_t);case"MultiLineString":var Ut=[],Wt=0;return It.forEach(function(qt){if(xt&&(qt=Nh(qt)),Mt){var on=function(Jt){var un=Jt[0],En=Jt[1],Tn=Jt[2],In=Jt[3];return Math.abs(un-Tn)*Math.abs(En-In)}(vn(zt(qt)));on>Wt?(Ut.unshift(qt),Wt=on):Ut.push(qt)}else Ut.push(qt)}),Dt(Ut,_t);default:throw new Error("geometry type "+Rt+" is not supported")}}function Nh(vt){var _t=vt[0],xt=_t[0],Mt=_t[1],kt=vt[vt.length-1],It=kt[0],Rt=kt[1];return xt===It&&Mt===Rt||vt.push(_t),vt}function Td(vt,_t){var xt,Mt,kt,It,Rt,Ut,Wt;for(Mt=1;Mt<=8;Mt*=2){for(xt=[],It=!(xs(kt=vt[vt.length-1],_t)&Mt),Rt=0;Rt<vt.length;Rt++)(Wt=!(xs(Ut=vt[Rt],_t)&Mt))!==It&&xt.push(Uf(kt,Ut,Mt,_t)),Wt&&xt.push(Ut),kt=Ut,It=Wt;if(!(vt=xt).length)break}return xt}function Uf(vt,_t,xt,Mt){return 8&xt?[vt[0]+(_t[0]-vt[0])*(Mt[3]-vt[1])/(_t[1]-vt[1]),Mt[3]]:4&xt?[vt[0]+(_t[0]-vt[0])*(Mt[1]-vt[1])/(_t[1]-vt[1]),Mt[1]]:2&xt?[Mt[2],vt[1]+(_t[1]-vt[1])*(Mt[2]-vt[0])/(_t[0]-vt[0])]:1&xt?[Mt[0],vt[1]+(_t[1]-vt[1])*(Mt[0]-vt[0])/(_t[0]-vt[0])]:null}function xs(vt,_t){var xt=0;return vt[0]<_t[0]?xt|=1:vt[0]>_t[2]&&(xt|=2),vt[1]<_t[1]?xt|=4:vt[1]>_t[3]&&(xt|=8),xt}function tf(vt,_t){for(var xt=[],Mt=0,kt=vt;Mt<kt.length;Mt++){var It=Td(kt[Mt],_t);It.length>0&&(It[0][0]===It[It.length-1][0]&&It[0][1]===It[It.length-1][1]||It.push(It[0]),It.length>=4&&xt.push(It))}return xt}Di.prototype.interpolate=function(vt){var _t=Math.sin((1-vt)*this.g)/Math.sin(this.g),xt=Math.sin(vt*this.g)/Math.sin(this.g),Mt=_t*Math.cos(this.start.y)*Math.cos(this.start.x)+xt*Math.cos(this.end.y)*Math.cos(this.end.x),kt=_t*Math.cos(this.start.y)*Math.sin(this.start.x)+xt*Math.cos(this.end.y)*Math.sin(this.end.x),It=_t*Math.sin(this.start.y)+xt*Math.sin(this.end.y),Rt=dr*Math.atan2(It,Math.sqrt(Math.pow(Mt,2)+Math.pow(kt,2)));return[dr*Math.atan2(kt,Mt),Rt]},Di.prototype.Arc=function(vt,_t){var xt=[];if(!vt||vt<=2)xt.push([this.start.lon,this.start.lat]),xt.push([this.end.lon,this.end.lat]);else for(var Mt=1/(vt-1),kt=0;kt<vt;++kt){var It=Mt*kt,Rt=this.interpolate(It);xt.push(Rt)}for(var Ut=!1,Wt=0,qt=_t&&_t.offset?_t.offset:10,on=180-qt,Jt=-180+qt,un=360-qt,En=1;En<xt.length;++En){var Tn=xt[En-1][0],In=xt[En][0],mn=Math.abs(In-Tn);mn>un&&(In>on&&Tn<Jt||Tn>on&&In<Jt)?Ut=!0:mn>Wt&&(Wt=mn)}var Wn=[];if(Ut&&Wt<qt){var pr=[];Wn.push(pr);for(var kn=0;kn<xt.length;++kn){var Vn=parseFloat(xt[kn][0]);if(kn>0&&Math.abs(Vn-xt[kn-1][0])>un){var Qn=parseFloat(xt[kn-1][0]),ir=parseFloat(xt[kn-1][1]),Jn=parseFloat(xt[kn][0]),oi=parseFloat(xt[kn][1]);if(Qn>-180&&Qn<Jt&&Jn===180&&kn+1<xt.length&&xt[kn-1][0]>-180&&xt[kn-1][0]<Jt){pr.push([-180,xt[kn][1]]),kn++,pr.push([xt[kn][0],xt[kn][1]]);continue}if(Qn>on&&Qn<180&&Jn===-180&&kn+1<xt.length&&xt[kn-1][0]>on&&xt[kn-1][0]<180){pr.push([180,xt[kn][1]]),kn++,pr.push([xt[kn][0],xt[kn][1]]);continue}if(Qn<Jt&&Jn>on){var Gr=Qn;Qn=Jn,Jn=Gr;var li=ir;ir=oi,oi=li}if(Qn>on&&Jn<Jt&&(Jn+=360),Qn<=180&&Jn>=180&&Qn<Jn){var qr=(180-Qn)/(Jn-Qn),fi=qr*oi+(1-qr)*ir;pr.push([xt[kn-1][0]>on?180:-180,fi]),(pr=[]).push([xt[kn-1][0]>on?-180:180,fi]),Wn.push(pr)}else pr=[],Wn.push(pr);pr.push([Vn,xt[kn][1]])}else pr.push([xt[kn][0],xt[kn][1]])}}else{var ti=[];Wn.push(ti);for(var ei=0;ei<xt.length;++ei)ti.push([xt[ei][0],xt[ei][1]])}for(var Qr=new hi(this.properties),ui=0;ui<Wn.length;++ui){var ni=new ri;Qr.geometries.push(ni);for(var gi=Wn[ui],zr=0;zr<gi.length;++zr)ni.move_to(gi[zr])}return Qr};var jg=Ti(function(vt,_t){function xt(Mt){var kt=[];for(var It in Mt)kt.push(It);return kt}(vt.exports=typeof Object.keys=="function"?Object.keys:xt).shim=xt}),Fg=Ti(function(vt,_t){var xt=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function Mt(It){return Object.prototype.toString.call(It)=="[object Arguments]"}function kt(It){return It&&typeof It=="object"&&typeof It.length=="number"&&Object.prototype.hasOwnProperty.call(It,"callee")&&!Object.prototype.propertyIsEnumerable.call(It,"callee")||!1}(_t=vt.exports=xt?Mt:kt).supported=Mt,_t.unsupported=kt}),Md=Ti(function(vt){var _t=Array.prototype.slice,xt=vt.exports=function(It,Rt,Ut){return Ut||(Ut={}),It===Rt||(It instanceof Date&&Rt instanceof Date?It.getTime()===Rt.getTime():!It||!Rt||typeof It!="object"&&typeof Rt!="object"?Ut.strict?It===Rt:It==Rt:function(Wt,qt,on){var Jt,un;if(Mt(Wt)||Mt(qt)||Wt.prototype!==qt.prototype)return!1;if(Fg(Wt))return!!Fg(qt)&&(Wt=_t.call(Wt),qt=_t.call(qt),xt(Wt,qt,on));if(kt(Wt)){if(!kt(qt)||Wt.length!==qt.length)return!1;for(Jt=0;Jt<Wt.length;Jt++)if(Wt[Jt]!==qt[Jt])return!1;return!0}try{var En=jg(Wt),Tn=jg(qt)}catch{return!1}if(En.length!=Tn.length)return!1;for(En.sort(),Tn.sort(),Jt=En.length-1;Jt>=0;Jt--)if(En[Jt]!=Tn[Jt])return!1;for(Jt=En.length-1;Jt>=0;Jt--)if(un=En[Jt],!xt(Wt[un],qt[un],on))return!1;return typeof Wt==typeof qt}(It,Rt,Ut))};function Mt(It){return It==null}function kt(It){return!(!It||typeof It!="object"||typeof It.length!="number")&&typeof It.copy=="function"&&typeof It.slice=="function"&&!(It.length>0&&typeof It[0]!="number")}});function Sd(vt,_t,xt){if(xt===void 0&&(xt={}),!gn(xt=xt||{}))throw new Error("options is invalid");var Mt,kt=xt.tolerance||0,It=[],Rt=qs(),Ut=Kr(vt);return Rt.load(Ut),tr(_t,function(Wt){var qt=!1;Wt&&(Gn(Rt.search(Wt),function(on){if(qt===!1){var Jt=zn(Wt).sort(),un=zn(on).sort();Md(Jt,un)||(kt===0?Wl(Jt[0],on)&&Wl(Jt[1],on):Oc(on,Jt[0]).properties.dist<=kt&&Oc(on,Jt[1]).properties.dist<=kt)?(qt=!0,Mt=Mt?Hf(Mt,Wt):Wt):(kt===0?Wl(un[0],Wt)&&Wl(un[1],Wt):Oc(Wt,un[0]).properties.dist<=kt&&Oc(Wt,un[1]).properties.dist<=kt)&&(Mt=Mt?Hf(Mt,on):on)}}),qt===!1&&Mt&&(It.push(Mt),Mt=void 0))}),Mt&&It.push(Mt),Bt(It)}function Hf(vt,_t){var xt=zn(_t),Mt=zn(vt),kt=Mt[0],It=Mt[Mt.length-1],Rt=vt.geometry.coordinates;return Md(xt[0],kt)?Rt.unshift(xt[1]):Md(xt[0],It)?Rt.push(xt[1]):Md(xt[1],kt)?Rt.unshift(xt[0]):Md(xt[1],It)&&Rt.push(xt[0]),vt}function jp(vt){var _t=vt%360;return _t<0&&(_t+=360),_t}function nf(vt,_t,xt){var Mt;return xt===void 0&&(xt={}),(Mt=xt.final?Um(hn(_t),hn(vt)):Um(hn(vt),hn(_t)))>180?-(360-Mt):Mt}function Um(vt,_t){var xt=wn(vt[1]),Mt=wn(_t[1]),kt=wn(_t[0]-vt[0]);kt>Math.PI&&(kt-=2*Math.PI),kt<-Math.PI&&(kt+=2*Math.PI);var It=Math.log(Math.tan(Mt/2+Math.PI/4)/Math.tan(xt/2+Math.PI/4));return(bn(Math.atan2(kt,It))+360)%360}function Vf(vt,_t,xt,Mt){Mt===void 0&&(Mt={});var kt=_t<0,It=Mn(Math.abs(_t),Mt.units,"meters");kt&&(It=-Math.abs(It));var Rt=hn(vt),Ut=function(Wt,qt,on,Jt){Jt=Jt===void 0?rt:Number(Jt);var un=qt/Jt,En=Wt[0]*Math.PI/180,Tn=wn(Wt[1]),In=wn(on),mn=un*Math.cos(In),Wn=Tn+mn;Math.abs(Wn)>Math.PI/2&&(Wn=Wn>0?Math.PI-Wn:-Math.PI-Wn);var pr=Math.log(Math.tan(Wn/2+Math.PI/4)/Math.tan(Tn/2+Math.PI/4)),kn=Math.abs(pr)>1e-11?mn/pr:Math.cos(Tn),Vn=un*Math.sin(In)/kn;return[(180*(En+Vn)/Math.PI+540)%360-180,180*Wn/Math.PI]}(Rt,It,xt);return Ut[0]+=Ut[0]-Rt[0]>180?-360:Rt[0]-Ut[0]>180?360:0,Tt(Ut,Mt.properties)}function Hm(vt,_t,xt,Mt,kt,It){for(var Rt=0;Rt<vt.length;Rt++){var Ut=vt[Rt],Wt=vt[Rt+1];Rt===vt.length-1&&(Wt=vt[0]),Mt=Kh(Ut,Wt,_t),xt<=0&&Mt>0?Kh(_t,Ut,kt)<0||(kt=Ut):xt>0&&Mt<=0&&(as(_t,Ut,It)||(It=Ut)),xt=Mt}return[kt,It]}function as(vt,_t,xt){return Kh(vt,_t,xt)>0}function Kh(vt,_t,xt){return(_t[0]-vt[0])*(xt[1]-vt[1])-(xt[0]-vt[0])*(_t[1]-vt[1])}function Fp(vt){for(var _t,xt,Mt=zn(vt),kt=0,It=1;It<Mt.length;)_t=xt||Mt[0],kt+=((xt=Mt[It])[0]-_t[0])*(xt[1]+_t[1]),It++;return kt>0}function Jh(vt,_t){switch(vt.type==="Feature"?vt.geometry.type:vt.type){case"GeometryCollection":return vr(vt,function(xt){Jh(xt,_t)}),vt;case"LineString":return Ug(zn(vt),_t),vt;case"Polygon":return kd(zn(vt),_t),vt;case"MultiLineString":return zn(vt).forEach(function(xt){Ug(xt,_t)}),vt;case"MultiPolygon":return zn(vt).forEach(function(xt){kd(xt,_t)}),vt;case"Point":case"MultiPoint":return vt}}function Ug(vt,_t){Fp(vt)===_t&&vt.reverse()}function kd(vt,_t){Fp(vt[0])!==_t&&vt[0].reverse();for(var xt=1;xt<vt.length;xt++)Fp(vt[xt])===_t&&vt[xt].reverse()}function Vm(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.zProperty||"elevation",Mt=_t.flip,kt=_t.flags;rr(vt,"Point","input must contain Points");for(var It=function(un,En){var Tn={};return Gn(un,function(In){var mn=zn(In)[1];Tn[mn]||(Tn[mn]=[]),Tn[mn].push(In)}),Object.keys(Tn).map(function(In){return Tn[In].sort(function(mn,Wn){return zn(mn)[0]-zn(Wn)[0]})}).sort(function(In,mn){return En?zn(In[0])[1]-zn(mn[0])[1]:zn(mn[0])[1]-zn(In[0])[1]})}(vt,Mt),Rt=[],Ut=0;Ut<It.length;Ut++){for(var Wt=It[Ut],qt=[],on=0;on<Wt.length;on++){var Jt=Wt[on];Jt.properties[xt]?qt.push(Jt.properties[xt]):qt.push(0),kt===!0&&(Jt.properties.matrixPosition=[Ut,on])}Rt.push(qt)}return Rt}var g1={successCallback:null,verbose:!1,polygons:!1},$u={};function Cd(vt,_t,xt,Mt){Mt=Mt||{};for(var kt=Object.keys(g1),It=0;It<kt.length;It++){var Rt=kt[It],Ut=Mt[Rt];Ut=Ut!=null?Ut:g1[Rt],$u[Rt]=Ut}$u.verbose&&console.log("MarchingSquaresJS-isoBands: computing isobands for ["+_t+":"+(_t+xt)+"]");var Wt,qt=function(on,Jt,un){for(var En=on.length-1,Tn=on[0].length-1,In={rows:En,cols:Tn,cells:[]},mn=Jt+Math.abs(un),Wn=0;Wn<En;++Wn){In.cells[Wn]=[];for(var pr=0;pr<Tn;++pr){var kn=0,Vn=on[Wn+1][pr],Qn=on[Wn+1][pr+1],ir=on[Wn][pr+1],Jn=on[Wn][pr];if(!(isNaN(Vn)||isNaN(Qn)||isNaN(ir)||isNaN(Jn))){kn|=Vn<Jt?0:Vn>mn?128:64,kn|=Qn<Jt?0:Qn>mn?32:16,kn|=ir<Jt?0:ir>mn?8:4;var oi=+(kn|=Jn<Jt?0:Jn>mn?2:1),Gr=0;if(kn===17||kn===18||kn===33||kn===34||kn===38||kn===68||kn===72||kn===98||kn===102||kn===132||kn===136||kn===137||kn===152||kn===153){var li=(Vn+Qn+ir+Jn)/4;Gr=li>mn?2:li<Jt?0:1,kn===34?Gr===1?kn=35:Gr===0&&(kn=136):kn===136?Gr===1?(kn=35,Gr=4):Gr===0&&(kn=34):kn===17?Gr===1?(kn=155,Gr=4):Gr===0&&(kn=153):kn===68?Gr===1?(kn=103,Gr=4):Gr===0&&(kn=102):kn===153?Gr===1&&(kn=155):kn===102?Gr===1&&(kn=103):kn===152?Gr<2&&(kn=156,Gr=1):kn===137?Gr<2&&(kn=139,Gr=1):kn===98?Gr<2&&(kn=99,Gr=1):kn===38?Gr<2&&(kn=39,Gr=1):kn===18?Gr>0?(kn=156,Gr=4):kn=152:kn===33?Gr>0?(kn=139,Gr=4):kn=137:kn===72?Gr>0?(kn=99,Gr=4):kn=98:kn===132&&(Gr>0?(kn=39,Gr=4):kn=38)}if(kn!=0&&kn!=170){var qr,fi,ti,ei,Qr,ui,ni,gi;qr=fi=ti=ei=Qr=ui=ni=gi=.5;var zr=[];kn===1?(ti=1-ar(Jt,ir,Jn),gi=1-ar(Jt,Vn,Jn),zr.push(yo[kn])):kn===169?(ti=ar(mn,Jn,ir),gi=ar(mn,Jn,Vn),zr.push(yo[kn])):kn===4?(ui=1-ar(Jt,Qn,ir),ei=ar(Jt,Jn,ir),zr.push(io[kn])):kn===166?(ui=ar(mn,ir,Qn),ei=1-ar(mn,ir,Jn),zr.push(io[kn])):kn===16?(Qr=ar(Jt,ir,Qn),fi=ar(Jt,Vn,Qn),zr.push(ao[kn])):kn===154?(Qr=1-ar(mn,Qn,ir),fi=1-ar(mn,Qn,Vn),zr.push(ao[kn])):kn===64?(ni=ar(Jt,Jn,Vn),qr=1-ar(Jt,Qn,Vn),zr.push(No[kn])):kn===106?(ni=1-ar(mn,Vn,Jn),qr=ar(mn,Vn,Qn),zr.push(No[kn])):kn===168?(ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),zr.push(So[kn]),zr.push(yo[kn])):kn===2?(ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),zr.push(So[kn]),zr.push(yo[kn])):kn===162?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),zr.push(So[kn]),zr.push(yo[kn])):kn===8?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),zr.push(ao[kn]),zr.push(io[kn])):kn===138?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(ao[kn]),zr.push(io[kn])):kn===32?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(ao[kn]),zr.push(io[kn])):kn===42?(gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(Lo[kn]),zr.push(No[kn])):kn===128&&(gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(Lo[kn]),zr.push(No[kn])),kn===5?(ui=1-ar(Jt,Qn,ir),gi=1-ar(Jt,Vn,Jn),zr.push(io[kn])):kn===165?(ui=ar(mn,ir,Qn),gi=ar(mn,Jn,Vn),zr.push(io[kn])):kn===20?(ei=ar(Jt,Jn,ir),fi=ar(Jt,Vn,Qn),zr.push(So[kn])):kn===150?(ei=1-ar(mn,ir,Jn),fi=1-ar(mn,Qn,Vn),zr.push(So[kn])):kn===80?(Qr=ar(Jt,ir,Qn),ni=ar(Jt,Jn,Vn),zr.push(ao[kn])):kn===90?(Qr=1-ar(mn,Qn,ir),ni=1-ar(mn,Vn,Jn),zr.push(ao[kn])):kn===65?(ti=1-ar(Jt,ir,Jn),qr=1-ar(Jt,Qn,Vn),zr.push(yo[kn])):kn===105?(ti=ar(mn,Jn,ir),qr=ar(mn,Vn,Qn),zr.push(yo[kn])):kn===160?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),zr.push(ao[kn]),zr.push(io[kn])):kn===10?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),zr.push(ao[kn]),zr.push(io[kn])):kn===130?(ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(So[kn]),zr.push(yo[kn])):kn===40?(ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(So[kn]),zr.push(yo[kn])):kn===101?(ui=ar(mn,ir,Qn),qr=ar(mn,Vn,Qn),zr.push(io[kn])):kn===69?(ui=1-ar(Jt,Qn,ir),qr=1-ar(Jt,Qn,Vn),zr.push(io[kn])):kn===149?(gi=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn),zr.push(Lo[kn])):kn===21?(gi=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn),zr.push(Lo[kn])):kn===86?(ei=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),zr.push(So[kn])):kn===84?(ei=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),zr.push(So[kn])):kn===89?(Qr=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),zr.push(yo[kn])):kn===81?(Qr=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),zr.push(yo[kn])):kn===96?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ni=ar(Jt,Jn,Vn),qr=ar(mn,Vn,Qn),zr.push(ao[kn]),zr.push(io[kn])):kn===74?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ni=1-ar(mn,Vn,Jn),qr=1-ar(Jt,Qn,Vn),zr.push(ao[kn]),zr.push(io[kn])):kn===24?(Qr=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),fi=ar(Jt,Vn,Qn),zr.push(ao[kn]),zr.push(yo[kn])):kn===146?(Qr=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),fi=1-ar(mn,Qn,Vn),zr.push(ao[kn]),zr.push(yo[kn])):kn===6?(ui=1-ar(Jt,Qn,ir),ei=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),zr.push(io[kn]),zr.push(So[kn])):kn===164?(ui=ar(mn,ir,Qn),ei=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),zr.push(io[kn]),zr.push(So[kn])):kn===129?(ti=1-ar(Jt,ir,Jn),gi=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(yo[kn]),zr.push(Lo[kn])):kn===41?(ti=ar(mn,Jn,ir),gi=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(yo[kn]),zr.push(Lo[kn])):kn===66?(ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=1-ar(Jt,Qn,Vn),zr.push(So[kn]),zr.push(yo[kn])):kn===104?(ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=ar(mn,Vn,Qn),zr.push(yo[kn]),zr.push(ja[kn])):kn===144?(Qr=ar(Jt,ir,Qn),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn),zr.push(ao[kn]),zr.push(No[kn])):kn===26?(Qr=1-ar(mn,Qn,ir),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn),zr.push(ao[kn]),zr.push(No[kn])):kn===36?(ui=ar(mn,ir,Qn),ei=ar(Jt,Jn,ir),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(io[kn]),zr.push(So[kn])):kn===134?(ui=1-ar(Jt,Qn,ir),ei=1-ar(mn,ir,Jn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(io[kn]),zr.push(So[kn])):kn===9?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=1-ar(Jt,Vn,Jn),zr.push(ao[kn]),zr.push(io[kn])):kn===161?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=ar(mn,Jn,Vn),zr.push(ao[kn]),zr.push(io[kn])):kn===37?(ui=ar(mn,ir,Qn),gi=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn),zr.push(io[kn]),zr.push(Lo[kn])):kn===133?(ui=1-ar(Jt,Qn,ir),gi=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn),zr.push(io[kn]),zr.push(Lo[kn])):kn===148?(ei=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn),zr.push(So[kn]),zr.push(No[kn])):kn===22?(ei=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn),zr.push(So[kn]),zr.push(No[kn])):kn===82?(Qr=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),zr.push(ao[kn]),zr.push(yo[kn])):kn===88?(Qr=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),zr.push(ao[kn]),zr.push(yo[kn])):kn===73?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),qr=1-ar(Jt,Qn,Vn),zr.push(ao[kn]),zr.push(io[kn])):kn===97?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),qr=ar(mn,Vn,Qn),zr.push(ao[kn]),zr.push(io[kn])):kn===145?(Qr=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn),zr.push(ao[kn]),zr.push(Lo[kn])):kn===25?(Qr=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn),zr.push(ao[kn]),zr.push(Lo[kn])):kn===70?(ui=1-ar(Jt,Qn,ir),ei=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=1-ar(Jt,Qn,Vn),zr.push(io[kn]),zr.push(So[kn])):kn===100?(ui=ar(mn,ir,Qn),ei=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=ar(mn,Vn,Qn),zr.push(io[kn]),zr.push(So[kn])):kn===34?(Gr===0?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)):(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(Lo[kn]),zr.push(No[kn])):kn===35?(Gr===4?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)):(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(yo[kn]),zr.push(No[kn])):kn===136?(Gr===0?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)):(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(Lo[kn]),zr.push(No[kn])):kn===153?(Gr===0?(Qr=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn)):(Qr=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn)),zr.push(ao[kn]),zr.push(yo[kn])):kn===102?(Gr===0?(ui=1-ar(Jt,Qn,ir),ei=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=1-ar(Jt,Qn,Vn)):(ui=ar(mn,ir,Qn),ei=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=ar(mn,Vn,Qn)),zr.push(io[kn]),zr.push(No[kn])):kn===155?(Gr===4?(Qr=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn)):(Qr=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn)),zr.push(ao[kn]),zr.push(Lo[kn])):kn===103?(Gr===4?(ui=1-ar(Jt,Qn,ir),ei=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=1-ar(Jt,Qn,Vn)):(ui=ar(mn,ir,Qn),ei=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=ar(mn,Vn,Qn)),zr.push(io[kn]),zr.push(So[kn])):kn===152?(Gr===0?(Qr=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn)):(Qr=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn)),zr.push(ao[kn]),zr.push(So[kn]),zr.push(yo[kn])):kn===156?(Gr===4?(Qr=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),fi=ar(Jt,Vn,Qn)):(Qr=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),fi=1-ar(mn,Qn,Vn)),zr.push(ao[kn]),zr.push(yo[kn]),zr.push(No[kn])):kn===137?(Gr===0?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)):(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(yo[kn])):kn===139?(Gr===4?(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ti=1-ar(Jt,ir,Jn),gi=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)):(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ti=ar(mn,Jn,ir),gi=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(Lo[kn])):kn===98?(Gr===0?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=1-ar(Jt,Qn,Vn)):(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=ar(mn,Vn,Qn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(No[kn])):kn===99?(Gr===4?(Qr=1-ar(Jt,Qn,ir),ui=1-ar(mn,Qn,ir),ei=ar(mn,Jn,ir),ti=ar(Jt,Jn,ir),ni=ar(Jt,Jn,Vn),qr=1-ar(Jt,Qn,Vn)):(Qr=ar(mn,ir,Qn),ui=ar(Jt,ir,Qn),ei=1-ar(Jt,ir,Jn),ti=1-ar(mn,ir,Jn),ni=1-ar(mn,Vn,Jn),qr=ar(mn,Vn,Qn)),zr.push(ao[kn]),zr.push(io[kn]),zr.push(yo[kn])):kn===38?(Gr===0?(ui=1-ar(Jt,Qn,ir),ei=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)):(ui=ar(mn,ir,Qn),ei=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)),zr.push(io[kn]),zr.push(Lo[kn]),zr.push(No[kn])):kn===39?(Gr===4?(ui=1-ar(Jt,Qn,ir),ei=ar(Jt,Jn,ir),gi=ar(Jt,Jn,Vn),ni=ar(mn,Jn,Vn),qr=1-ar(mn,Qn,Vn),fi=1-ar(Jt,Qn,Vn)):(ui=ar(mn,ir,Qn),ei=1-ar(mn,ir,Jn),gi=1-ar(mn,Vn,Jn),ni=1-ar(Jt,Vn,Jn),qr=ar(Jt,Vn,Qn),fi=ar(mn,Vn,Qn)),zr.push(io[kn]),zr.push(So[kn]),zr.push(No[kn])):kn===85&&(Qr=1,ui=0,ei=1,ti=0,gi=0,ni=1,qr=0,fi=1),(qr<0||qr>1||fi<0||fi>1||Qr<0||Qr>1||ei<0||ei>1||gi<0||gi>1||ni<0||ni>1)&&console.log("MarchingSquaresJS-isoBands: "+kn+" "+oi+" "+Vn+","+Qn+","+ir+","+Jn+" "+Gr+" "+qr+" "+fi+" "+Qr+" "+ui+" "+ei+" "+ti+" "+gi+" "+ni),In.cells[Wn][pr]={cval:kn,cval_real:oi,flipped:Gr,topleft:qr,topright:fi,righttop:Qr,rightbottom:ui,bottomright:ei,bottomleft:ti,leftbottom:gi,lefttop:ni,edges:zr}}}}}return In}(vt,_t,xt);return $u.polygons?($u.verbose&&console.log("MarchingSquaresJS-isoBands: returning single polygons for each grid cell"),Wt=function(on){var Jt=[],un=0;return on.cells.forEach(function(En,Tn){En.forEach(function(In,mn){if(In!==void 0){var Wn=qi[In.cval](In);typeof Wn=="object"&&Km(Wn)?typeof Wn[0]=="object"&&Km(Wn[0])?typeof Wn[0][0]=="object"&&Km(Wn[0][0])?Wn.forEach(function(pr){pr.forEach(function(kn){kn[0]+=mn,kn[1]+=Tn}),Jt[un++]=pr}):(Wn.forEach(function(pr){pr[0]+=mn,pr[1]+=Tn}),Jt[un++]=Wn):console.log("MarchingSquaresJS-isoBands: bandcell polygon with malformed coordinates"):console.log("MarchingSquaresJS-isoBands: bandcell polygon with null coordinates")}})}),Jt}(qt)):($u.verbose&&console.log("MarchingSquaresJS-isoBands: returning polygon paths for entire data grid"),Wt=function(on){for(var Jt=[],un=on.rows,En=on.cols,Tn=[],In=0;In<un;In++)for(var mn=0;mn<En;mn++)if(on.cells[In][mn]!==void 0&&on.cells[In][mn].edges.length>0){var Wn=Up(on.cells[In][mn]),pr=null,kn=mn,Vn=In;Wn!==null&&Tn.push([Wn.p[0]+kn,Wn.p[1]+Vn]);do{if((pr=bv(on.cells[Vn][kn],Wn.x,Wn.y,Wn.o))===null)break;if(Tn.push([pr.p[0]+kn,pr.p[1]+Vn]),kn+=pr.x,Wn=pr,(Vn+=pr.y)<0||Vn>=un||kn<0||kn>=En||on.cells[Vn][kn]===void 0){var Qn=vv(on,kn-=pr.x,Vn-=pr.y,pr.x,pr.y,pr.o);if(Qn===null)break;Qn.path.forEach(function(ir){Tn.push(ir)}),kn=Qn.i,Vn=Qn.j,Wn=Qn}}while(on.cells[Vn][kn]!==void 0&&on.cells[Vn][kn].edges.length>0);Jt.push(Tn),Tn=[],on.cells[In][mn].edges.length>0&&mn--}return Jt}(qt)),typeof $u.successCallback=="function"&&$u.successCallback(Wt),Wt}var gl=64,sh=16,aa=[],Ca=[],va=[],ua=[],ha=[],Aa=[],Na=[],ba=[],da=[],Da=[],Ia=[],La=[],Oa=[],Ro=[],wa=[],xa=[],Pa=[],ra=[],Ra=[],za=[],$a=[],fa=[],Ba=[],Ea=[];Na[85]=Da[85]=-1,ba[85]=Ia[85]=0,da[85]=La[85]=1,Ra[85]=fa[85]=1,za[85]=Ba[85]=0,$a[85]=Ea[85]=1,aa[85]=ua[85]=0,Ca[85]=ha[85]=-1,va[85]=wa[85]=0,xa[85]=Oa[85]=0,Pa[85]=Ro[85]=1,Aa[85]=ra[85]=1,fa[1]=fa[169]=0,Ba[1]=Ba[169]=-1,Ea[1]=Ea[169]=0,Oa[1]=Oa[169]=-1,Ro[1]=Ro[169]=0,wa[1]=wa[169]=0,Da[4]=Da[166]=0,Ia[4]=Ia[166]=-1,La[4]=La[166]=1,xa[4]=xa[166]=1,Pa[4]=Pa[166]=0,ra[4]=ra[166]=0,Na[16]=Na[154]=0,ba[16]=ba[154]=1,da[16]=da[154]=1,ua[16]=ua[154]=1,ha[16]=ha[154]=0,Aa[16]=Aa[154]=1,Ra[64]=Ra[106]=0,za[64]=za[106]=1,$a[64]=$a[106]=0,aa[64]=aa[106]=-1,Ca[64]=Ca[106]=0,va[64]=va[106]=1,Ra[2]=Ra[168]=0,za[2]=za[168]=-1,$a[2]=$a[168]=1,fa[2]=fa[168]=0,Ba[2]=Ba[168]=-1,Ea[2]=Ea[168]=0,Oa[2]=Oa[168]=-1,Ro[2]=Ro[168]=0,wa[2]=wa[168]=0,xa[2]=xa[168]=-1,Pa[2]=Pa[168]=0,ra[2]=ra[168]=1,Na[8]=Na[162]=0,ba[8]=ba[162]=-1,da[8]=da[162]=0,Da[8]=Da[162]=0,Ia[8]=Ia[162]=-1,La[8]=La[162]=1,Oa[8]=Oa[162]=1,Ro[8]=Ro[162]=0,wa[8]=wa[162]=1,xa[8]=xa[162]=1,Pa[8]=Pa[162]=0,ra[8]=ra[162]=0,Na[32]=Na[138]=0,ba[32]=ba[138]=1,da[32]=da[138]=1,Da[32]=Da[138]=0,Ia[32]=Ia[138]=1,La[32]=La[138]=0,aa[32]=aa[138]=1,Ca[32]=Ca[138]=0,va[32]=va[138]=0,ua[32]=ua[138]=1,ha[32]=ha[138]=0,Aa[32]=Aa[138]=1,fa[128]=fa[42]=0,Ba[128]=Ba[42]=1,Ea[128]=Ea[42]=1,Ra[128]=Ra[42]=0,za[128]=za[42]=1,$a[128]=$a[42]=0,aa[128]=aa[42]=-1,Ca[128]=Ca[42]=0,va[128]=va[42]=1,ua[128]=ua[42]=-1,ha[128]=ha[42]=0,Aa[128]=Aa[42]=0,Da[5]=Da[165]=-1,Ia[5]=Ia[165]=0,La[5]=La[165]=0,fa[5]=fa[165]=1,Ba[5]=Ba[165]=0,Ea[5]=Ea[165]=0,xa[20]=xa[150]=0,Pa[20]=Pa[150]=1,ra[20]=ra[150]=1,ua[20]=ua[150]=0,ha[20]=ha[150]=-1,Aa[20]=Aa[150]=1,Na[80]=Na[90]=-1,ba[80]=ba[90]=0,da[80]=da[90]=1,Ra[80]=Ra[90]=1,za[80]=za[90]=0,$a[80]=$a[90]=1,Oa[65]=Oa[105]=0,Ro[65]=Ro[105]=1,wa[65]=wa[105]=0,aa[65]=aa[105]=0,Ca[65]=Ca[105]=-1,va[65]=va[105]=0,Na[160]=Na[10]=-1,ba[160]=ba[10]=0,da[160]=da[10]=1,Da[160]=Da[10]=-1,Ia[160]=Ia[10]=0,La[160]=La[10]=0,fa[160]=fa[10]=1,Ba[160]=Ba[10]=0,Ea[160]=Ea[10]=0,Ra[160]=Ra[10]=1,za[160]=za[10]=0,$a[160]=$a[10]=1,xa[130]=xa[40]=0,Pa[130]=Pa[40]=1,ra[130]=ra[40]=1,Oa[130]=Oa[40]=0,Ro[130]=Ro[40]=1,wa[130]=wa[40]=0,aa[130]=aa[40]=0,Ca[130]=Ca[40]=-1,va[130]=va[40]=0,ua[130]=ua[40]=0,ha[130]=ha[40]=-1,Aa[130]=Aa[40]=1,Da[37]=Da[133]=0,Ia[37]=Ia[133]=1,La[37]=La[133]=1,fa[37]=fa[133]=0,Ba[37]=Ba[133]=1,Ea[37]=Ea[133]=0,aa[37]=aa[133]=-1,Ca[37]=Ca[133]=0,va[37]=va[133]=0,ua[37]=ua[133]=1,ha[37]=ha[133]=0,Aa[37]=Aa[133]=0,xa[148]=xa[22]=-1,Pa[148]=Pa[22]=0,ra[148]=ra[22]=0,fa[148]=fa[22]=0,Ba[148]=Ba[22]=-1,Ea[148]=Ea[22]=1,Ra[148]=Ra[22]=0,za[148]=za[22]=1,$a[148]=$a[22]=1,ua[148]=ua[22]=-1,ha[148]=ha[22]=0,Aa[148]=Aa[22]=1,Na[82]=Na[88]=0,ba[82]=ba[88]=-1,da[82]=da[88]=1,xa[82]=xa[88]=1,Pa[82]=Pa[88]=0,ra[82]=ra[88]=1,Oa[82]=Oa[88]=-1,Ro[82]=Ro[88]=0,wa[82]=wa[88]=1,Ra[82]=Ra[88]=0,za[82]=za[88]=-1,$a[82]=$a[88]=0,Na[73]=Na[97]=0,ba[73]=ba[97]=1,da[73]=da[97]=0,Da[73]=Da[97]=0,Ia[73]=Ia[97]=-1,La[73]=La[97]=0,Oa[73]=Oa[97]=1,Ro[73]=Ro[97]=0,wa[73]=wa[97]=0,aa[73]=aa[97]=1,Ca[73]=Ca[97]=0,va[73]=va[97]=1,Na[145]=Na[25]=0,ba[145]=ba[25]=-1,da[145]=da[25]=0,Oa[145]=Oa[25]=1,Ro[145]=Ro[25]=0,wa[145]=wa[25]=1,fa[145]=fa[25]=0,Ba[145]=Ba[25]=1,Ea[145]=Ea[25]=1,ua[145]=ua[25]=-1,ha[145]=ha[25]=0,Aa[145]=Aa[25]=0,Da[70]=Da[100]=0,Ia[70]=Ia[100]=1,La[70]=La[100]=0,xa[70]=xa[100]=-1,Pa[70]=Pa[100]=0,ra[70]=ra[100]=1,Ra[70]=Ra[100]=0,za[70]=za[100]=-1,$a[70]=$a[100]=1,aa[70]=aa[100]=1,Ca[70]=Ca[100]=0,va[70]=va[100]=0,Da[101]=Da[69]=0,Ia[101]=Ia[69]=1,La[101]=La[69]=0,aa[101]=aa[69]=1,Ca[101]=Ca[69]=0,va[101]=va[69]=0,fa[149]=fa[21]=0,Ba[149]=Ba[21]=1,Ea[149]=Ea[21]=1,ua[149]=ua[21]=-1,ha[149]=ha[21]=0,Aa[149]=Aa[21]=0,xa[86]=xa[84]=-1,Pa[86]=Pa[84]=0,ra[86]=ra[84]=1,Ra[86]=Ra[84]=0,za[86]=za[84]=-1,$a[86]=$a[84]=1,Na[89]=Na[81]=0,ba[89]=ba[81]=-1,da[89]=da[81]=0,Oa[89]=Oa[81]=1,Ro[89]=Ro[81]=0,wa[89]=wa[81]=1,Na[96]=Na[74]=0,ba[96]=ba[74]=1,da[96]=da[74]=0,Da[96]=Da[74]=-1,Ia[96]=Ia[74]=0,La[96]=La[74]=1,Ra[96]=Ra[74]=1,za[96]=za[74]=0,$a[96]=$a[74]=0,aa[96]=aa[74]=1,Ca[96]=Ca[74]=0,va[96]=va[74]=1,Na[24]=Na[146]=0,ba[24]=ba[146]=-1,da[24]=da[146]=1,xa[24]=xa[146]=1,Pa[24]=Pa[146]=0,ra[24]=ra[146]=1,Oa[24]=Oa[146]=0,Ro[24]=Ro[146]=1,wa[24]=wa[146]=1,ua[24]=ua[146]=0,ha[24]=ha[146]=-1,Aa[24]=Aa[146]=0,Da[6]=Da[164]=-1,Ia[6]=Ia[164]=0,La[6]=La[164]=1,xa[6]=xa[164]=-1,Pa[6]=Pa[164]=0,ra[6]=ra[164]=0,fa[6]=fa[164]=0,Ba[6]=Ba[164]=-1,Ea[6]=Ea[164]=1,Ra[6]=Ra[164]=1,za[6]=za[164]=0,$a[6]=$a[164]=0,Oa[129]=Oa[41]=0,Ro[129]=Ro[41]=1,wa[129]=wa[41]=1,fa[129]=fa[41]=0,Ba[129]=Ba[41]=1,Ea[129]=Ea[41]=0,aa[129]=aa[41]=-1,Ca[129]=Ca[41]=0,va[129]=va[41]=0,ua[129]=ua[41]=0,ha[129]=ha[41]=-1,Aa[129]=Aa[41]=0,xa[66]=xa[104]=0,Pa[66]=Pa[104]=1,ra[66]=ra[104]=0,Oa[66]=Oa[104]=-1,Ro[66]=Ro[104]=0,wa[66]=wa[104]=1,Ra[66]=Ra[104]=0,za[66]=za[104]=-1,$a[66]=$a[104]=0,aa[66]=aa[104]=0,Ca[66]=Ca[104]=-1,va[66]=va[104]=1,Na[144]=Na[26]=-1,ba[144]=ba[26]=0,da[144]=da[26]=0,fa[144]=fa[26]=1,Ba[144]=Ba[26]=0,Ea[144]=Ea[26]=1,Ra[144]=Ra[26]=0,za[144]=za[26]=1,$a[144]=$a[26]=1,ua[144]=ua[26]=-1,ha[144]=ha[26]=0,Aa[144]=Aa[26]=1,Da[36]=Da[134]=0,Ia[36]=Ia[134]=1,La[36]=La[134]=1,xa[36]=xa[134]=0,Pa[36]=Pa[134]=1,ra[36]=ra[134]=0,aa[36]=aa[134]=0,Ca[36]=Ca[134]=-1,va[36]=va[134]=1,ua[36]=ua[134]=1,ha[36]=ha[134]=0,Aa[36]=Aa[134]=0,Na[9]=Na[161]=-1,ba[9]=ba[161]=0,da[9]=da[161]=0,Da[9]=Da[161]=0,Ia[9]=Ia[161]=-1,La[9]=La[161]=0,Oa[9]=Oa[161]=1,Ro[9]=Ro[161]=0,wa[9]=wa[161]=0,fa[9]=fa[161]=1,Ba[9]=Ba[161]=0,Ea[9]=Ea[161]=1,Na[136]=0,ba[136]=1,da[136]=1,Da[136]=0,Ia[136]=1,La[136]=0,xa[136]=-1,Pa[136]=0,ra[136]=1,Oa[136]=-1,Ro[136]=0,wa[136]=0,fa[136]=0,Ba[136]=-1,Ea[136]=0,Ra[136]=0,za[136]=-1,$a[136]=1,aa[136]=1,Ca[136]=0,va[136]=0,ua[136]=1,ha[136]=0,Aa[136]=1,Na[34]=0,ba[34]=-1,da[34]=0,Da[34]=0,Ia[34]=-1,La[34]=1,xa[34]=1,Pa[34]=0,ra[34]=0,Oa[34]=1,Ro[34]=0,wa[34]=1,fa[34]=0,Ba[34]=1,Ea[34]=1,Ra[34]=0,za[34]=1,$a[34]=0,aa[34]=-1,Ca[34]=0,va[34]=1,ua[34]=-1,ha[34]=0,Aa[34]=0,Na[35]=0,ba[35]=1,da[35]=1,Da[35]=0,Ia[35]=-1,La[35]=1,xa[35]=1,Pa[35]=0,ra[35]=0,Oa[35]=-1,Ro[35]=0,wa[35]=0,fa[35]=0,Ba[35]=-1,Ea[35]=0,Ra[35]=0,za[35]=1,$a[35]=0,aa[35]=-1,Ca[35]=0,va[35]=1,ua[35]=1,ha[35]=0,Aa[35]=1,Na[153]=0,ba[153]=1,da[153]=1,Oa[153]=-1,Ro[153]=0,wa[153]=0,fa[153]=0,Ba[153]=-1,Ea[153]=0,ua[153]=1,ha[153]=0,Aa[153]=1,Da[102]=0,Ia[102]=-1,La[102]=1,xa[102]=1,Pa[102]=0,ra[102]=0,Ra[102]=0,za[102]=1,$a[102]=0,aa[102]=-1,Ca[102]=0,va[102]=1,Na[155]=0,ba[155]=-1,da[155]=0,Oa[155]=1,Ro[155]=0,wa[155]=1,fa[155]=0,Ba[155]=1,Ea[155]=1,ua[155]=-1,ha[155]=0,Aa[155]=0,Da[103]=0,Ia[103]=1,La[103]=0,xa[103]=-1,Pa[103]=0,ra[103]=1,Ra[103]=0,za[103]=-1,$a[103]=1,aa[103]=1,Ca[103]=0,va[103]=0,Na[152]=0,ba[152]=1,da[152]=1,xa[152]=-1,Pa[152]=0,ra[152]=1,Oa[152]=-1,Ro[152]=0,wa[152]=0,fa[152]=0,Ba[152]=-1,Ea[152]=0,Ra[152]=0,za[152]=-1,$a[152]=1,ua[152]=1,ha[152]=0,Aa[152]=1,Na[156]=0,ba[156]=-1,da[156]=1,xa[156]=1,Pa[156]=0,ra[156]=1,Oa[156]=-1,Ro[156]=0,wa[156]=0,fa[156]=0,Ba[156]=-1,Ea[156]=0,Ra[156]=0,za[156]=1,$a[156]=1,ua[156]=-1,ha[156]=0,Aa[156]=1,Na[137]=0,ba[137]=1,da[137]=1,Da[137]=0,Ia[137]=1,La[137]=0,Oa[137]=-1,Ro[137]=0,wa[137]=0,fa[137]=0,Ba[137]=-1,Ea[137]=0,aa[137]=1,Ca[137]=0,va[137]=0,ua[137]=1,ha[137]=0,Aa[137]=1,Na[139]=0,ba[139]=1,da[139]=1,Da[139]=0,Ia[139]=-1,La[139]=0,Oa[139]=1,Ro[139]=0,wa[139]=0,fa[139]=0,Ba[139]=1,Ea[139]=0,aa[139]=-1,Ca[139]=0,va[139]=0,ua[139]=1,ha[139]=0,Aa[139]=1,Na[98]=0,ba[98]=-1,da[98]=0,Da[98]=0,Ia[98]=-1,La[98]=1,xa[98]=1,Pa[98]=0,ra[98]=0,Oa[98]=1,Ro[98]=0,wa[98]=1,Ra[98]=0,za[98]=1,$a[98]=0,aa[98]=-1,Ca[98]=0,va[98]=1,Na[99]=0,ba[99]=1,da[99]=0,Da[99]=0,Ia[99]=-1,La[99]=1,xa[99]=1,Pa[99]=0,ra[99]=0,Oa[99]=-1,Ro[99]=0,wa[99]=1,Ra[99]=0,za[99]=-1,$a[99]=0,aa[99]=1,Ca[99]=0,va[99]=1,Da[38]=0,Ia[38]=-1,La[38]=1,xa[38]=1,Pa[38]=0,ra[38]=0,fa[38]=0,Ba[38]=1,Ea[38]=1,Ra[38]=0,za[38]=1,$a[38]=0,aa[38]=-1,Ca[38]=0,va[38]=1,ua[38]=-1,ha[38]=0,Aa[38]=0,Da[39]=0,Ia[39]=1,La[39]=1,xa[39]=-1,Pa[39]=0,ra[39]=0,fa[39]=0,Ba[39]=-1,Ea[39]=1,Ra[39]=0,za[39]=1,$a[39]=0,aa[39]=-1,Ca[39]=0,va[39]=1,ua[39]=1,ha[39]=0,Aa[39]=0;var Ym=function(vt){return[[vt.bottomleft,0],[0,0],[0,vt.leftbottom]]},Gm=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0]]},Hg=function(vt){return[[vt.topright,1],[1,1],[1,vt.righttop]]},Wm=function(vt){return[[0,vt.lefttop],[0,1],[vt.topleft,1]]},qm=function(vt){return[[vt.bottomright,0],[vt.bottomleft,0],[0,vt.leftbottom],[0,vt.lefttop]]},Qm=function(vt){return[[vt.bottomright,0],[vt.bottomleft,0],[1,vt.righttop],[1,vt.rightbottom]]},Xm=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.topleft,1],[vt.topright,1]]},Zm=function(vt){return[[0,vt.leftbottom],[0,vt.lefttop],[vt.topleft,1],[vt.topright,1]]},ao=[],io=[],So=[],yo=[],Lo=[],No=[],ja=[],Ta=[];yo[1]=Lo[1]=18,yo[169]=Lo[169]=18,So[4]=io[4]=12,So[166]=io[166]=12,ao[16]=Ta[16]=4,ao[154]=Ta[154]=4,No[64]=ja[64]=22,No[106]=ja[106]=22,So[2]=No[2]=17,yo[2]=Lo[2]=18,So[168]=No[168]=17,yo[168]=Lo[168]=18,ao[8]=yo[8]=9,io[8]=So[8]=12,ao[162]=yo[162]=9,io[162]=So[162]=12,ao[32]=Ta[32]=4,io[32]=ja[32]=1,ao[138]=Ta[138]=4,io[138]=ja[138]=1,Lo[128]=Ta[128]=21,No[128]=ja[128]=22,Lo[42]=Ta[42]=21,No[42]=ja[42]=22,io[5]=Lo[5]=14,io[165]=Lo[165]=14,So[20]=Ta[20]=6,So[150]=Ta[150]=6,ao[80]=No[80]=11,ao[90]=No[90]=11,yo[65]=ja[65]=3,yo[105]=ja[105]=3,ao[160]=No[160]=11,io[160]=Lo[160]=14,ao[10]=No[10]=11,io[10]=Lo[10]=14,So[130]=Ta[130]=6,yo[130]=ja[130]=3,So[40]=Ta[40]=6,yo[40]=ja[40]=3,io[101]=ja[101]=1,io[69]=ja[69]=1,Lo[149]=Ta[149]=21,Lo[21]=Ta[21]=21,So[86]=No[86]=17,So[84]=No[84]=17,ao[89]=yo[89]=9,ao[81]=yo[81]=9,ao[96]=ja[96]=0,io[96]=No[96]=15,ao[74]=ja[74]=0,io[74]=No[74]=15,ao[24]=So[24]=8,yo[24]=Ta[24]=7,ao[146]=So[146]=8,yo[146]=Ta[146]=7,io[6]=No[6]=15,So[6]=Lo[6]=16,io[164]=No[164]=15,So[164]=Lo[164]=16,yo[129]=Ta[129]=7,Lo[129]=ja[129]=20,yo[41]=Ta[41]=7,Lo[41]=ja[41]=20,So[66]=ja[66]=2,yo[66]=No[66]=19,So[104]=ja[104]=2,yo[104]=No[104]=19,ao[144]=Lo[144]=10,No[144]=Ta[144]=23,ao[26]=Lo[26]=10,No[26]=Ta[26]=23,io[36]=Ta[36]=5,So[36]=ja[36]=2,io[134]=Ta[134]=5,So[134]=ja[134]=2,ao[9]=Lo[9]=10,io[9]=yo[9]=13,ao[161]=Lo[161]=10,io[161]=yo[161]=13,io[37]=Ta[37]=5,Lo[37]=ja[37]=20,io[133]=Ta[133]=5,Lo[133]=ja[133]=20,So[148]=Lo[148]=16,No[148]=Ta[148]=23,So[22]=Lo[22]=16,No[22]=Ta[22]=23,ao[82]=So[82]=8,yo[82]=No[82]=19,ao[88]=So[88]=8,yo[88]=No[88]=19,ao[73]=ja[73]=0,io[73]=yo[73]=13,ao[97]=ja[97]=0,io[97]=yo[97]=13,ao[145]=yo[145]=9,Lo[145]=Ta[145]=21,ao[25]=yo[25]=9,Lo[25]=Ta[25]=21,io[70]=ja[70]=1,So[70]=No[70]=17,io[100]=ja[100]=1,So[100]=No[100]=17,ao[34]=yo[34]=9,io[34]=So[34]=12,Lo[34]=Ta[34]=21,No[34]=ja[34]=22,ao[136]=Ta[136]=4,io[136]=ja[136]=1,So[136]=No[136]=17,yo[136]=Lo[136]=18,ao[35]=Ta[35]=4,io[35]=So[35]=12,yo[35]=Lo[35]=18,No[35]=ja[35]=22,ao[153]=Ta[153]=4,yo[153]=Lo[153]=18,io[102]=So[102]=12,No[102]=ja[102]=22,ao[155]=yo[155]=9,Lo[155]=Ta[155]=23,io[103]=ja[103]=1,So[103]=No[103]=17,ao[152]=Ta[152]=4,So[152]=No[152]=17,yo[152]=Lo[152]=18,ao[156]=So[156]=8,yo[156]=Lo[156]=18,No[156]=Ta[156]=23,ao[137]=Ta[137]=4,io[137]=ja[137]=1,yo[137]=Lo[137]=18,ao[139]=Ta[139]=4,io[139]=yo[139]=13,Lo[139]=ja[139]=20,ao[98]=yo[98]=9,io[98]=So[98]=12,No[98]=ja[98]=22,ao[99]=ja[99]=0,io[99]=So[99]=12,yo[99]=No[99]=19,io[38]=So[38]=12,Lo[38]=Ta[38]=21,No[38]=ja[38]=22,io[39]=Ta[39]=5,So[39]=Lo[39]=16,No[39]=ja[39]=22;var qi=[];function ar(vt,_t,xt){return(vt-_t)/(xt-_t)}function Km(vt){return vt.constructor.toString().indexOf("Array")>-1}function vv(vt,_t,xt,Mt,kt,It){for(var Rt=vt.cells[xt][_t],Ut=Rt.cval_real,Wt=_t+Mt,qt=xt+kt,on=[],Jt=!1;!Jt;){if(vt.cells[qt]===void 0||vt.cells[qt][Wt]===void 0)if(qt-=kt,Wt-=Mt,Ut=(Rt=vt.cells[qt][Wt]).cval_real,kt===-1)if(It===0)if(1&Ut)on.push([Wt,qt]),Mt=-1,kt=0,It=0;else{if(!(4&Ut)){on.push([Wt+Rt.bottomright,qt]),Mt=0,kt=1,It=1,Jt=!0;break}on.push([Wt+1,qt]),Mt=1,kt=0,It=0}else{if(!(1&Ut)){if(4&Ut){on.push([Wt+Rt.bottomright,qt]),Mt=0,kt=1,It=1,Jt=!0;break}on.push([Wt+Rt.bottomleft,qt]),Mt=0,kt=1,It=0,Jt=!0;break}on.push([Wt,qt]),Mt=-1,kt=0,It=0}else if(kt===1)if(It===0){if(!(Ut&sh)){if(Ut&gl){on.push([Wt+Rt.topleft,qt+1]),Mt=0,kt=-1,It=0,Jt=!0;break}on.push([Wt+Rt.topright,qt+1]),Mt=0,kt=-1,It=1,Jt=!0;break}on.push([Wt+1,qt+1]),Mt=1,kt=0,It=1}else on.push([Wt+1,qt+1]),Mt=1,kt=0,It=1;else if(Mt===-1)if(It===0){if(!(Ut&gl)){if(1&Ut){on.push([Wt,qt+Rt.leftbottom]),Mt=1,kt=0,It=0,Jt=!0;break}on.push([Wt,qt+Rt.lefttop]),Mt=1,kt=0,It=1,Jt=!0;break}on.push([Wt,qt+1]),Mt=0,kt=1,It=0}else{if(!(Ut&gl)){console.log("MarchingSquaresJS-isoBands: wtf");break}on.push([Wt,qt+1]),Mt=0,kt=1,It=0}else{if(Mt!==1){console.log("MarchingSquaresJS-isoBands: we came from nowhere!");break}if(It===0){if(!(4&Ut)){on.push([Wt+1,qt+Rt.rightbottom]),Mt=-1,kt=0,It=0,Jt=!0;break}on.push([Wt+1,qt]),Mt=0,kt=-1,It=1}else{if(!(4&Ut)){if(Ut&sh){on.push([Wt+1,qt+Rt.righttop]),Mt=-1,kt=0,It=1;break}on.push([Wt+1,qt+Rt.rightbottom]),Mt=-1,kt=0,It=0,Jt=!0;break}on.push([Wt+1,qt]),Mt=0,kt=-1,It=1}}else if(Ut=(Rt=vt.cells[qt][Wt]).cval_real,Mt===-1)if(It===0)if(vt.cells[qt-1]!==void 0&&vt.cells[qt-1][Wt]!==void 0)Mt=0,kt=-1,It=1;else{if(!(1&Ut)){on.push([Wt+Rt.bottomright,qt]),Mt=0,kt=1,It=1,Jt=!0;break}on.push([Wt,qt])}else{if(!(Ut&gl)){console.log("MarchingSquaresJS-isoBands: found entry from top at "+Wt+","+qt);break}console.log("MarchingSquaresJS-isoBands: proceeding in x-direction!")}else if(Mt===1){if(It===0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(vt.cells[qt+1]!==void 0&&vt.cells[qt+1][Wt]!==void 0)Mt=0,kt=1,It=0;else{if(!(Ut&sh)){on.push([Wt+Rt.topleft,qt+1]),Mt=0,kt=-1,It=0,Jt=!0;break}on.push([Wt+1,qt+1]),Mt=1,kt=0,It=1}}else if(kt===-1){if(It!==1){console.log("MarchingSquaresJS-isoBands: wtf");break}if(vt.cells[qt][Wt+1]!==void 0)Mt=1,kt=0,It=1;else{if(!(4&Ut)){on.push([Wt+1,qt+Rt.righttop]),Mt=-1,kt=0,It=1,Jt=!0;break}on.push([Wt+1,qt]),Mt=0,kt=-1,It=1}}else{if(kt!==1){console.log("MarchingSquaresJS-isoBands: where did we came from???");break}if(It!==0){console.log("MarchingSquaresJS-isoBands: wtf");break}if(vt.cells[qt][Wt-1]!==void 0)Mt=-1,kt=0,It=0;else{if(!(Ut&gl)){on.push([Wt,qt+Rt.leftbottom]),Mt=1,kt=0,It=0,Jt=!0;break}on.push([Wt,qt+1]),Mt=0,kt=1,It=0}}if(qt+=kt,(Wt+=Mt)===_t&&qt===xt)break}return{path:on,i:Wt,j:qt,x:Mt,y:kt,o:It}}function Up(vt){if(vt.edges.length>0){var _t=vt.edges[vt.edges.length-1],xt=vt.cval_real;switch(_t){case 0:return xt&sh?{p:[1,vt.righttop],x:-1,y:0,o:1}:{p:[vt.topleft,1],x:0,y:-1,o:0};case 1:return 4&xt?{p:[vt.topleft,1],x:0,y:-1,o:0}:{p:[1,vt.rightbottom],x:-1,y:0,o:0};case 2:return 4&xt?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[vt.topleft,1],x:0,y:-1,o:0};case 3:return 1&xt?{p:[vt.topleft,1],x:0,y:-1,o:0}:{p:[vt.bottomleft,0],x:0,y:1,o:0};case 4:return xt&sh?{p:[1,vt.righttop],x:-1,y:0,o:1}:{p:[vt.topright,1],x:0,y:-1,o:1};case 5:return 4&xt?{p:[vt.topright,1],x:0,y:-1,o:1}:{p:[1,vt.rightbottom],x:-1,y:0,o:0};case 6:return 4&xt?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[vt.topright,1],x:0,y:-1,o:1};case 7:return 1&xt?{p:[vt.topright,1],x:0,y:-1,o:1}:{p:[vt.bottomleft,0],x:0,y:1,o:0};case 8:return 4&xt?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[1,vt.righttop],x:-1,y:0,o:1};case 9:return 1&xt?{p:[1,vt.righttop],x:-1,y:0,o:1}:{p:[vt.bottomleft,0],x:0,y:1,o:0};case 10:return 1&xt?{p:[0,vt.leftbottom],x:1,y:0,o:0}:{p:[1,vt.righttop],x:-1,y:0,o:1};case 11:return xt&gl?{p:[1,vt.righttop],x:-1,y:0,o:1}:{p:[0,vt.lefttop],x:1,y:0,o:1};case 12:return 4&xt?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[1,vt.rightbottom],x:-1,y:0,o:0};case 13:return 1&xt?{p:[1,vt.rightbottom],x:-1,y:0,o:0}:{p:[vt.bottomleft,0],x:0,y:1,o:0};case 14:return 1&xt?{p:[0,vt.leftbottom],x:1,y:0,o:0}:{p:[1,vt.rightbottom],x:-1,y:0,o:0};case 15:return xt&gl?{p:[1,vt.rightbottom],x:-1,y:0,o:0}:{p:[0,vt.lefttop],x:1,y:0,o:1};case 16:return 4&xt?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[0,vt.leftbottom],x:1,y:0,o:0};case 17:return xt&gl?{p:[vt.bottomright,0],x:0,y:1,o:1}:{p:[0,vt.lefttop],x:1,y:0,o:1};case 18:return 1&xt?{p:[0,vt.leftbottom],x:1,y:0,o:0}:{p:[vt.bottomleft,0],x:0,y:1,o:0};case 19:return xt&gl?{p:[vt.bottomleft,0],x:0,y:1,o:0}:{p:[0,vt.lefttop],x:1,y:0,o:1};case 20:return xt&gl?{p:[vt.topleft,1],x:0,y:-1,o:0}:{p:[0,vt.leftbottom],x:1,y:0,o:0};case 21:return xt&sh?{p:[0,vt.leftbottom],x:1,y:0,o:0}:{p:[vt.topright,1],x:0,y:-1,o:1};case 22:return xt&gl?{p:[vt.topleft,1],x:0,y:-1,o:0}:{p:[0,vt.lefttop],x:1,y:0,o:1};case 23:return xt&sh?{p:[0,vt.lefttop],x:1,y:0,o:1}:{p:[vt.topright,1],x:0,y:-1,o:1};default:console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(vt)}}return null}function bv(vt,_t,xt,Mt){var kt,It,Rt,Ut,Wt,qt=vt.cval;switch(_t){case-1:switch(Mt){case 0:kt=io[qt],Rt=Da[qt],Ut=Ia[qt],Wt=La[qt];break;default:kt=ao[qt],Rt=Na[qt],Ut=ba[qt],Wt=da[qt]}break;case 1:switch(Mt){case 0:kt=Lo[qt],Rt=fa[qt],Ut=Ba[qt],Wt=Ea[qt];break;default:kt=No[qt],Rt=Ra[qt],Ut=za[qt],Wt=$a[qt]}break;default:switch(xt){case-1:switch(Mt){case 0:kt=ja[qt],Rt=aa[qt],Ut=Ca[qt],Wt=va[qt];break;default:kt=Ta[qt],Rt=ua[qt],Ut=ha[qt],Wt=Aa[qt]}break;case 1:switch(Mt){case 0:kt=yo[qt],Rt=Oa[qt],Ut=Ro[qt],Wt=wa[qt];break;default:kt=So[qt],Rt=xa[qt],Ut=Pa[qt],Wt=ra[qt]}}}if(It=vt.edges.indexOf(kt),vt.edges[It]===void 0)return null;switch(function(on,Jt){delete on.edges[Jt];for(var un=Jt+1;un<on.edges.length;un++)on.edges[un-1]=on.edges[un];on.edges.pop()}(vt,It),qt=vt.cval_real,kt){case 0:qt&sh?(_t=vt.topleft,xt=1):(_t=1,xt=vt.righttop);break;case 1:4&qt?(_t=1,xt=vt.rightbottom):(_t=vt.topleft,xt=1);break;case 2:4&qt?(_t=vt.topleft,xt=1):(_t=vt.bottomright,xt=0);break;case 3:1&qt?(_t=vt.bottomleft,xt=0):(_t=vt.topleft,xt=1);break;case 4:qt&sh?(_t=vt.topright,xt=1):(_t=1,xt=vt.righttop);break;case 5:4&qt?(_t=1,xt=vt.rightbottom):(_t=vt.topright,xt=1);break;case 6:4&qt?(_t=vt.topright,xt=1):(_t=vt.bottomright,xt=0);break;case 7:1&qt?(_t=vt.bottomleft,xt=0):(_t=vt.topright,xt=1);break;case 8:4&qt?(_t=1,xt=vt.righttop):(_t=vt.bottomright,xt=0);break;case 9:1&qt?(_t=vt.bottomleft,xt=0):(_t=1,xt=vt.righttop);break;case 10:1&qt?(_t=1,xt=vt.righttop):(_t=0,xt=vt.leftbottom);break;case 11:qt&gl?(_t=0,xt=vt.lefttop):(_t=1,xt=vt.righttop);break;case 12:4&qt?(_t=1,xt=vt.rightbottom):(_t=vt.bottomright,xt=0);break;case 13:1&qt?(_t=vt.bottomleft,xt=0):(_t=1,xt=vt.rightbottom);break;case 14:1&qt?(_t=1,xt=vt.rightbottom):(_t=0,xt=vt.leftbottom);break;case 15:qt&gl?(_t=0,xt=vt.lefttop):(_t=1,xt=vt.rightbottom);break;case 16:4&qt?(_t=0,xt=vt.leftbottom):(_t=vt.bottomright,xt=0);break;case 17:qt&gl?(_t=0,xt=vt.lefttop):(_t=vt.bottomright,xt=0);break;case 18:1&qt?(_t=vt.bottomleft,xt=0):(_t=0,xt=vt.leftbottom);break;case 19:qt&gl?(_t=0,xt=vt.lefttop):(_t=vt.bottomleft,xt=0);break;case 20:qt&gl?(_t=0,xt=vt.leftbottom):(_t=vt.topleft,xt=1);break;case 21:qt&sh?(_t=vt.topright,xt=1):(_t=0,xt=vt.leftbottom);break;case 22:qt&gl?(_t=0,xt=vt.lefttop):(_t=vt.topleft,xt=1);break;case 23:qt&sh?(_t=vt.topright,xt=1):(_t=0,xt=vt.lefttop);break;default:return console.log("MarchingSquaresJS-isoBands: edge index out of range!"),console.log(vt),null}return _t!==void 0&&xt!==void 0&&Rt!==void 0&&Ut!==void 0&&Wt!==void 0||(console.log("MarchingSquaresJS-isoBands: undefined value!"),console.log(vt),console.log(_t+" "+xt+" "+Rt+" "+Ut+" "+Wt)),{p:[_t,xt],x:Rt,y:Ut,o:Wt}}function Hp(vt){var _t=[],xt=[];vt.forEach(function(kt){var It=Zd(Dt([kt]));xt.push(It),_t.push({ring:kt,area:It})}),xt.sort(function(kt,It){return It-kt});var Mt=[];return xt.forEach(function(kt){for(var It=0;It<_t.length;It++)if(_t[It].area===kt){Mt.push(_t[It].ring),_t.splice(It,1);break}}),Mt}function _v(vt){for(var _t=vt.map(function(Ut){return{lrCoordinates:Ut,grouped:!1}}),xt=[];!wv(_t);)for(var Mt=0;Mt<_t.length;Mt++)if(!_t[Mt].grouped){var kt=[];kt.push(_t[Mt].lrCoordinates),_t[Mt].grouped=!0;for(var It=Dt([_t[Mt].lrCoordinates]),Rt=Mt+1;Rt<_t.length;Rt++)_t[Rt].grouped||m1(Dt([_t[Rt].lrCoordinates]),It)&&(kt.push(_t[Rt].lrCoordinates),_t[Rt].grouped=!0);xt.push(kt)}return xt}function m1(vt,_t){for(var xt=Co(vt),Mt=0;Mt<xt.features.length;Mt++)if(!xo(xt.features[Mt],_t))return!1;return!0}function wv(vt){for(var _t=0;_t<vt.length;_t++)if(vt[_t].grouped===!1)return!1;return!0}function y1(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.pivot,kt=xt.mutate;if(!vt)throw new Error("geojson is required");if(_t==null||isNaN(_t))throw new Error("angle is required");return _t===0||(Mt||(Mt=wl(vt)),kt!==!1&&kt!==void 0||(vt=Wo(vt)),xn(vt,function(It){var Rt=nf(Mt,It)+_t,Ut=Qd(Mt,It),Wt=zn(Vf(Mt,Ut,Rt));It[0]=Wt[0],It[1]=Wt[1]})),vt}function v1(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.origin,kt=xt.mutate;if(!vt)throw new Error("geojson required");if(typeof _t!="number"||_t===0)throw new Error("invalid factor");var It=Array.isArray(Mt)||typeof Mt=="object";return kt!==!0&&(vt=Wo(vt)),vt.type!=="FeatureCollection"||It?b1(vt,_t,Mt):(Gn(vt,function(Rt,Ut){vt.features[Ut]=b1(Rt,_t,Mt)}),vt)}function b1(vt,_t,xt){var Mt=gr(vt)==="Point";return xt=function(kt,It){if(It==null&&(It="centroid"),Array.isArray(It)||typeof It=="object")return hn(It);var Rt=kt.bbox?kt.bbox:vn(kt),Ut=Rt[0],Wt=Rt[1],qt=Rt[2],on=Rt[3];switch(It){case"sw":case"southwest":case"westsouth":case"bottomleft":return Tt([Ut,Wt]);case"se":case"southeast":case"eastsouth":case"bottomright":return Tt([qt,Wt]);case"nw":case"northwest":case"westnorth":case"topleft":return Tt([Ut,on]);case"ne":case"northeast":case"eastnorth":case"topright":return Tt([qt,on]);case"center":return Ga(kt);case void 0:case null:case"centroid":return wl(kt);default:throw new Error("invalid origin")}}(vt,xt),_t===1||Mt||xn(vt,function(kt){var It=Qd(xt,kt),Rt=nf(xt,kt),Ut=zn(Vf(xt,It*_t,Rt));kt[0]=Ut[0],kt[1]=Ut[1],kt.length===3&&(kt[2]*=_t)}),vt}function Yf(vt){var _t=vt[0],xt=vt[1];return[xt[0]-_t[0],xt[1]-_t[1]]}function Vp(vt,_t){return vt[0]*_t[1]-_t[0]*vt[1]}function Jm(vt,_t){return!function(xt,Mt){return Vp(Yf(xt),Yf(Mt))===0}(vt,_t)&&function(xt,Mt){var kt,It,Rt=xt[0],Ut=Yf(xt),Wt=Mt[0],qt=Yf(Mt),on=Vp(Ut,qt);return function(Jt,un){return[Jt[0]+un[0],Jt[1]+un[1]]}(Rt,function(Jt,un){return[Jt*un[0],Jt*un[1]]}(Vp((It=Rt,[(kt=Wt)[0]-It[0],kt[1]-It[1]]),qt)/on,Ut))}(vt,_t)}function Gf(vt,_t,xt){var Mt=[],kt=ln(_t,xt),It=zn(vt),Rt=[];return It.forEach(function(Ut,Wt){if(Wt!==It.length-1){var qt=(un=Ut,En=It[Wt+1],Tn=kt,In=Math.sqrt((un[0]-En[0])*(un[0]-En[0])+(un[1]-En[1])*(un[1]-En[1])),mn=un[0]+Tn*(En[1]-un[1])/In,Wn=En[0]+Tn*(En[1]-un[1])/In,pr=un[1]+Tn*(un[0]-En[0])/In,kn=En[1]+Tn*(un[0]-En[0])/In,[[mn,pr],[Wn,kn]]);if(Mt.push(qt),Wt>0){var on=Mt[Wt-1],Jt=Jm(qt,on);Jt!==!1&&(on[1]=Jt,qt[0]=Jt),Rt.push(on[0]),Wt===It.length-2&&(Rt.push(qt[0]),Rt.push(qt[1]))}It.length===2&&(Rt.push(qt[0]),Rt.push(qt[1]))}var un,En,Tn,In,mn,Wn,pr,kn}),zt(Rt,vt.properties)}function e0(vt,_t,xt){var Mt=_t[0]-vt[0],kt=_t[1]-vt[1],It=xt[0]-_t[0];return function(Rt){return(Rt>0)-(Rt<0)||+Rt}(Mt*(xt[1]-_t[1])-It*kt)}function n0(vt,_t){return _t.geometry.coordinates[0].every(function(xt){return xo(Tt(xt),vt)})}qi[1]=qi[169]=Ym,qi[4]=qi[166]=Gm,qi[16]=qi[154]=Hg,qi[64]=qi[106]=Wm,qi[168]=qi[2]=qm,qi[162]=qi[8]=Qm,qi[138]=qi[32]=Xm,qi[42]=qi[128]=Zm,qi[5]=qi[165]=function(vt){return[[0,0],[0,vt.leftbottom],[1,vt.rightbottom],[1,0]]},qi[20]=qi[150]=function(vt){return[[1,0],[vt.bottomright,0],[vt.topright,1],[1,1]]},qi[80]=qi[90]=function(vt){return[[1,1],[1,vt.righttop],[0,vt.lefttop],[0,1]]},qi[65]=qi[105]=function(vt){return[[vt.bottomleft,0],[0,0],[0,1],[vt.topleft,1]]},qi[160]=qi[10]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[0,vt.leftbottom],[0,vt.lefttop]]},qi[130]=qi[40]=function(vt){return[[vt.topleft,1],[vt.topright,1],[vt.bottomright,0],[vt.bottomleft,0]]},qi[85]=function(){return[[0,0],[0,1],[1,1],[1,0]]},qi[101]=qi[69]=function(vt){return[[1,vt.rightbottom],[1,0],[0,0],[0,1],[vt.topleft,1]]},qi[149]=qi[21]=function(vt){return[[vt.topright,1],[1,1],[1,0],[0,0],[0,vt.leftbottom]]},qi[86]=qi[84]=function(vt){return[[1,0],[vt.bottomright,0],[0,vt.lefttop],[0,1],[1,1]]},qi[89]=qi[81]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomleft,0],[0,0],[0,1]]},qi[96]=qi[74]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[0,vt.lefttop],[0,1],[vt.topleft,1]]},qi[24]=qi[146]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomright,0],[vt.bottomleft,0],[vt.topright,1]]},qi[6]=qi[164]=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0],[0,vt.leftbottom],[0,vt.lefttop]]},qi[129]=qi[41]=function(vt){return[[vt.topright,1],[vt.bottomleft,0],[0,0],[0,vt.leftbottom],[vt.topleft,1]]},qi[66]=qi[104]=function(vt){return[[vt.bottomright,0],[vt.bottomleft,0],[0,vt.lefttop],[0,1],[vt.topleft,1]]},qi[144]=qi[26]=function(vt){return[[1,1],[1,vt.righttop],[0,vt.leftbottom],[0,vt.lefttop],[vt.topright,1]]},qi[36]=qi[134]=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0],[vt.topleft,1],[vt.topright,1]]},qi[9]=qi[161]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.bottomleft,0],[0,0],[0,vt.leftbottom]]},qi[37]=qi[133]=function(vt){return[[1,vt.rightbottom],[1,0],[0,0],[0,vt.leftbottom],[vt.topleft,1],[vt.topright,1]]},qi[148]=qi[22]=function(vt){return[[1,1],[1,0],[vt.bottomright,0],[0,vt.leftbottom],[0,vt.lefttop],[vt.topright,1]]},qi[82]=qi[88]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomright,0],[vt.bottomleft,0],[0,vt.lefttop],[0,1]]},qi[73]=qi[97]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.bottomleft,0],[0,0],[0,1],[vt.topleft,1]]},qi[145]=qi[25]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomleft,0],[0,0],[0,vt.leftbottom],[vt.topright,1]]},qi[70]=qi[100]=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0],[0,vt.lefttop],[0,1],[vt.topleft,1]]},qi[34]=function(vt){return[Zm(vt),Qm(vt)]},qi[35]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.bottomright,0],[vt.bottomleft,0],[0,vt.leftbottom],[0,vt.lefttop],[vt.topleft,1],[vt.topright,1]]},qi[136]=function(vt){return[Xm(vt),qm(vt)]},qi[153]=function(vt){return[Hg(vt),Ym(vt)]},qi[102]=function(vt){return[Gm(vt),Wm(vt)]},qi[155]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomleft,0],[0,0],[0,vt.leftbottom],[vt.topright,1]]},qi[103]=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0],[0,vt.lefttop],[0,1],[vt.topleft,1]]},qi[152]=function(vt){return[Hg(vt),qm(vt)]},qi[156]=function(vt){return[[1,1],[1,vt.righttop],[vt.bottomright,0],[vt.bottomleft,0],[0,vt.leftbottom],[0,vt.lefttop],[vt.topright,1]]},qi[137]=function(vt){return[Xm(vt),Ym(vt)]},qi[139]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.bottomleft,0],[0,0],[0,vt.leftbottom],[vt.topleft,1],[vt.topright,1]]},qi[98]=function(vt){return[Qm(vt),Wm(vt)]},qi[99]=function(vt){return[[1,vt.righttop],[1,vt.rightbottom],[vt.bottomright,0],[vt.bottomleft,0],[0,vt.lefttop],[0,1],[vt.topleft,1]]},qi[38]=function(vt){return[Gm(vt),Zm(vt)]},qi[39]=function(vt){return[[1,vt.rightbottom],[1,0],[vt.bottomright,0],[0,vt.leftbottom],[0,vt.lefttop],[vt.topleft,1],[vt.topright,1]]};var Vg=function(){function vt(_t){this.id=vt.buildId(_t),this.coordinates=_t,this.innerEdges=[],this.outerEdges=[],this.outerEdgesSorted=!1}return vt.buildId=function(_t){return _t.join(",")},vt.prototype.removeInnerEdge=function(_t){this.innerEdges=this.innerEdges.filter(function(xt){return xt.from.id!==_t.from.id})},vt.prototype.removeOuterEdge=function(_t){this.outerEdges=this.outerEdges.filter(function(xt){return xt.to.id!==_t.to.id})},vt.prototype.addOuterEdge=function(_t){this.outerEdges.push(_t),this.outerEdgesSorted=!1},vt.prototype.sortOuterEdges=function(){var _t=this;this.outerEdgesSorted||(this.outerEdges.sort(function(xt,Mt){var kt=xt.to,It=Mt.to;if(kt.coordinates[0]-_t.coordinates[0]>=0&&It.coordinates[0]-_t.coordinates[0]<0)return 1;if(kt.coordinates[0]-_t.coordinates[0]<0&&It.coordinates[0]-_t.coordinates[0]>=0)return-1;if(kt.coordinates[0]-_t.coordinates[0]==0&&It.coordinates[0]-_t.coordinates[0]==0)return kt.coordinates[1]-_t.coordinates[1]>=0||It.coordinates[1]-_t.coordinates[1]>=0?kt.coordinates[1]-It.coordinates[1]:It.coordinates[1]-kt.coordinates[1];var Rt=e0(_t.coordinates,kt.coordinates,It.coordinates);return Rt<0?1:Rt>0?-1:Math.pow(kt.coordinates[0]-_t.coordinates[0],2)+Math.pow(kt.coordinates[1]-_t.coordinates[1],2)-(Math.pow(It.coordinates[0]-_t.coordinates[0],2)+Math.pow(It.coordinates[1]-_t.coordinates[1],2))}),this.outerEdgesSorted=!0)},vt.prototype.getOuterEdges=function(){return this.sortOuterEdges(),this.outerEdges},vt.prototype.getOuterEdge=function(_t){return this.sortOuterEdges(),this.outerEdges[_t]},vt.prototype.addInnerEdge=function(_t){this.innerEdges.push(_t)},vt}(),r0=function(){function vt(_t,xt){this.from=_t,this.to=xt,this.next=void 0,this.label=void 0,this.symetric=void 0,this.ring=void 0,this.from.addOuterEdge(this),this.to.addInnerEdge(this)}return vt.prototype.getSymetric=function(){return this.symetric||(this.symetric=new vt(this.to,this.from),this.symetric.symetric=this),this.symetric},vt.prototype.deleteEdge=function(){this.from.removeOuterEdge(this),this.to.removeInnerEdge(this)},vt.prototype.isEqual=function(_t){return this.from.id===_t.from.id&&this.to.id===_t.to.id},vt.prototype.toString=function(){return"Edge { "+this.from.id+" -> "+this.to.id+" }"},vt.prototype.toLineString=function(){return zt([this.from.coordinates,this.to.coordinates])},vt.prototype.compareTo=function(_t){return e0(_t.from.coordinates,_t.to.coordinates,this.to.coordinates)},vt}(),lc=function(){function vt(){this.edges=[],this.polygon=void 0,this.envelope=void 0}return vt.prototype.push=function(_t){this.edges.push(_t),this.polygon=this.envelope=void 0},vt.prototype.get=function(_t){return this.edges[_t]},Object.defineProperty(vt.prototype,"length",{get:function(){return this.edges.length},enumerable:!0,configurable:!0}),vt.prototype.forEach=function(_t){this.edges.forEach(_t)},vt.prototype.map=function(_t){return this.edges.map(_t)},vt.prototype.some=function(_t){return this.edges.some(_t)},vt.prototype.isValid=function(){return!0},vt.prototype.isHole=function(){var _t=this,xt=this.edges.reduce(function(Rt,Ut,Wt){return Ut.from.coordinates[1]>_t.edges[Rt].from.coordinates[1]&&(Rt=Wt),Rt},0),Mt=(xt===0?this.length:xt)-1,kt=(xt+1)%this.length,It=e0(this.edges[Mt].from.coordinates,this.edges[xt].from.coordinates,this.edges[kt].from.coordinates);return It===0?this.edges[Mt].from.coordinates[0]>this.edges[kt].from.coordinates[0]:It>0},vt.prototype.toMultiPoint=function(){return Xt(this.edges.map(function(_t){return _t.from.coordinates}))},vt.prototype.toPolygon=function(){if(this.polygon)return this.polygon;var _t=this.edges.map(function(xt){return xt.from.coordinates});return _t.push(this.edges[0].from.coordinates),this.polygon=Dt([_t])},vt.prototype.getEnvelope=function(){return this.envelope?this.envelope:this.envelope=nh(this.toPolygon())},vt.findEdgeRingContaining=function(_t,xt){var Mt,kt,It=_t.getEnvelope();return xt.forEach(function(Rt){var Ut,Wt,qt,on,Jt,un,En=Rt.getEnvelope();if(kt&&(Mt=kt.getEnvelope()),Wt=It,qt=(Ut=En).geometry.coordinates[0].map(function(kn){return kn[0]}),on=Ut.geometry.coordinates[0].map(function(kn){return kn[1]}),Jt=Wt.geometry.coordinates[0].map(function(kn){return kn[0]}),un=Wt.geometry.coordinates[0].map(function(kn){return kn[1]}),(Math.max.apply(null,qt)!==Math.max.apply(null,Jt)||Math.max.apply(null,on)!==Math.max.apply(null,un)||Math.min.apply(null,qt)!==Math.min.apply(null,Jt)||Math.min.apply(null,on)!==Math.min.apply(null,un))&&n0(En,It)){for(var Tn=_t.map(function(kn){return kn.from.coordinates}),In=void 0,mn=function(kn){Rt.some(function(Vn){return Qn=kn,ir=Vn.from.coordinates,Qn[0]===ir[0]&&Qn[1]===ir[1];var Qn,ir})||(In=kn)},Wn=0,pr=Tn;Wn<pr.length;Wn++)mn(pr[Wn]);In&&Rt.inside(Tt(In))&&(kt&&!n0(Mt,En)||(kt=Rt))}}),kt},vt.prototype.inside=function(_t){return xo(_t,this.toPolygon())},vt}(),xv=function(){function vt(){this.edges=[],this.nodes={}}return vt.fromGeoJson=function(_t){(function(Mt){if(!Mt)throw new Error("No geojson passed");if(Mt.type!=="FeatureCollection"&&Mt.type!=="GeometryCollection"&&Mt.type!=="MultiLineString"&&Mt.type!=="LineString"&&Mt.type!=="Feature")throw new Error("Invalid input type '"+Mt.type+"'. Geojson must be FeatureCollection, GeometryCollection, LineString, MultiLineString or Feature")})(_t);var xt=new vt;return Pr(_t,function(Mt){Rn(Mt,"LineString","Graph::fromGeoJson"),Mr(Mt,function(kt,It){if(kt){var Rt=xt.getNode(kt),Ut=xt.getNode(It);xt.addEdge(Rt,Ut)}return It})}),xt},vt.prototype.getNode=function(_t){var xt=Vg.buildId(_t),Mt=this.nodes[xt];return Mt||(Mt=this.nodes[xt]=new Vg(_t)),Mt},vt.prototype.addEdge=function(_t,xt){var Mt=new r0(_t,xt),kt=Mt.getSymetric();this.edges.push(Mt),this.edges.push(kt)},vt.prototype.deleteDangles=function(){var _t=this;Object.keys(this.nodes).map(function(xt){return _t.nodes[xt]}).forEach(function(xt){return _t._removeIfDangle(xt)})},vt.prototype._removeIfDangle=function(_t){var xt=this;if(_t.innerEdges.length<=1){var Mt=_t.getOuterEdges().map(function(kt){return kt.to});this.removeNode(_t),Mt.forEach(function(kt){return xt._removeIfDangle(kt)})}},vt.prototype.deleteCutEdges=function(){var _t=this;this._computeNextCWEdges(),this._findLabeledEdgeRings(),this.edges.forEach(function(xt){xt.label===xt.symetric.label&&(_t.removeEdge(xt.symetric),_t.removeEdge(xt))})},vt.prototype._computeNextCWEdges=function(_t){var xt=this;_t===void 0?Object.keys(this.nodes).forEach(function(Mt){return xt._computeNextCWEdges(xt.nodes[Mt])}):_t.getOuterEdges().forEach(function(Mt,kt){_t.getOuterEdge((kt===0?_t.getOuterEdges().length:kt)-1).symetric.next=Mt})},vt.prototype._computeNextCCWEdges=function(_t,xt){for(var Mt,kt,It=_t.getOuterEdges(),Rt=It.length-1;Rt>=0;--Rt){var Ut=It[Rt],Wt=Ut.symetric,qt=void 0,on=void 0;Ut.label===xt&&(qt=Ut),Wt.label===xt&&(on=Wt),qt&&on&&(on&&(kt=on),qt&&(kt&&(kt.next=qt,kt=void 0),Mt||(Mt=qt)))}kt&&(kt.next=Mt)},vt.prototype._findLabeledEdgeRings=function(){var _t=[],xt=0;return this.edges.forEach(function(Mt){if(!(Mt.label>=0)){_t.push(Mt);var kt=Mt;do kt.label=xt,kt=kt.next;while(!Mt.isEqual(kt));xt++}}),_t},vt.prototype.getEdgeRings=function(){var _t=this;this._computeNextCWEdges(),this.edges.forEach(function(Mt){Mt.label=void 0}),this._findLabeledEdgeRings().forEach(function(Mt){_t._findIntersectionNodes(Mt).forEach(function(kt){_t._computeNextCCWEdges(kt,Mt.label)})});var xt=[];return this.edges.forEach(function(Mt){Mt.ring||xt.push(_t._findEdgeRing(Mt))}),xt},vt.prototype._findIntersectionNodes=function(_t){var xt=[],Mt=_t,kt=function(){var It=0;Mt.from.getOuterEdges().forEach(function(Rt){Rt.label===_t.label&&++It}),It>1&&xt.push(Mt.from),Mt=Mt.next};do kt();while(!_t.isEqual(Mt));return xt},vt.prototype._findEdgeRing=function(_t){var xt=_t,Mt=new lc;do Mt.push(xt),xt.ring=Mt,xt=xt.next;while(!_t.isEqual(xt));return Mt},vt.prototype.removeNode=function(_t){var xt=this;_t.getOuterEdges().forEach(function(Mt){return xt.removeEdge(Mt)}),_t.innerEdges.forEach(function(Mt){return xt.removeEdge(Mt)}),delete this.nodes[_t.id]},vt.prototype.removeEdge=function(_t){this.edges=this.edges.filter(function(xt){return!xt.isEqual(_t)}),_t.deleteEdge()},vt}();function i0(vt,_t){var xt=!0;return Pr(vt,function(Mt){Pr(_t,function(kt){if(xt===!1)return!1;xt=function(It,Rt){switch(It.type){case"Point":switch(Rt.type){case"Point":return Ut=It.coordinates,Wt=Rt.coordinates,!(Ut[0]===Wt[0]&&Ut[1]===Wt[1]);case"LineString":return!_1(Rt,It);case"Polygon":return!xo(It,Rt)}break;case"LineString":switch(Rt.type){case"Point":return!_1(It,Rt);case"LineString":return!function(qt,on){return Rl(qt,on).features.length>0}(It,Rt);case"Polygon":return!Yg(Rt,It)}break;case"Polygon":switch(Rt.type){case"Point":return!xo(Rt,It);case"LineString":return!Yg(It,Rt);case"Polygon":return!function(qt,on){for(var Jt=0,un=qt.coordinates[0];Jt<un.length;Jt++)if(xo(un[Jt],on))return!0;for(var En=0,Tn=on.coordinates[0];En<Tn.length;En++)if(xo(Tn[En],qt))return!0;return Rl(Kc(qt),Kc(on)).features.length>0}(Rt,It)}}var Ut,Wt;return!1}(Mt.geometry,kt.geometry)})}),xt}function _1(vt,_t){for(var xt=0;xt<vt.coordinates.length-1;xt++)if(Ev(vt.coordinates[xt],vt.coordinates[xt+1],_t.coordinates))return!0;return!1}function Yg(vt,_t){for(var xt=0,Mt=_t.coordinates;xt<Mt.length;xt++)if(xo(Mt[xt],vt))return!0;return Rl(_t,Kc(vt)).features.length>0}function Ev(vt,_t,xt){var Mt=xt[0]-vt[0],kt=xt[1]-vt[1],It=_t[0]-vt[0],Rt=_t[1]-vt[1];return Mt*Rt-kt*It==0&&(Math.abs(It)>=Math.abs(Rt)?It>0?vt[0]<=xt[0]&&xt[0]<=_t[0]:_t[0]<=xt[0]&&xt[0]<=vt[0]:Rt>0?vt[1]<=xt[1]&&xt[1]<=_t[1]:_t[1]<=xt[1]&&xt[1]<=vt[1])}function w1(vt,_t){return!(vt[0]>_t[0])&&!(vt[2]<_t[2])&&!(vt[1]>_t[1])&&!(vt[3]<_t[3])}function o0(vt,_t){return vt[0]===_t[0]&&vt[1]===_t[1]}function Tv(vt,_t){return[(vt[0]+_t[0])/2,(vt[1]+_t[1])/2]}function x1(vt,_t){for(var xt=!1,Mt=!1,kt=vt.coordinates.length,It=0;It<kt&&!xt&&!Mt;){for(var Rt=0;Rt<_t.coordinates.length-1;Rt++){var Ut=!0;Rt!==0&&Rt!==_t.coordinates.length-2||(Ut=!1),T1(_t.coordinates[Rt],_t.coordinates[Rt+1],vt.coordinates[It],Ut)?xt=!0:Mt=!0}It++}return xt&&Mt}function E1(vt,_t){return Rl(vt,Ff(_t)).features.length>0}function a0(vt,_t){for(var xt=!1,Mt=!1,kt=vt.coordinates.length,It=0;It<kt&&(!xt||!Mt);It++)xo(Tt(vt.coordinates[It]),_t)?xt=!0:Mt=!0;return Mt&&xt}function T1(vt,_t,xt,Mt){var kt=xt[0]-vt[0],It=xt[1]-vt[1],Rt=_t[0]-vt[0],Ut=_t[1]-vt[1];return kt*Ut-It*Rt==0&&(Mt?Math.abs(Rt)>=Math.abs(Ut)?Rt>0?vt[0]<=xt[0]&&xt[0]<=_t[0]:_t[0]<=xt[0]&&xt[0]<=vt[0]:Ut>0?vt[1]<=xt[1]&&xt[1]<=_t[1]:_t[1]<=xt[1]&&xt[1]<=vt[1]:Math.abs(Rt)>=Math.abs(Ut)?Rt>0?vt[0]<xt[0]&&xt[0]<_t[0]:_t[0]<xt[0]&&xt[0]<vt[0]:Ut>0?vt[1]<xt[1]&&xt[1]<_t[1]:_t[1]<xt[1]&&xt[1]<vt[1])}var Dh=function(vt){this.precision=vt&&vt.precision?vt.precision:17,this.direction=!(!vt||!vt.direction)&&vt.direction,this.pseudoNode=!(!vt||!vt.pseudoNode)&&vt.pseudoNode,this.objectComparator=vt&&vt.objectComparator?vt.objectComparator:Mv};function Ad(vt){return vt.coordinates.map(function(_t){return{type:vt.type.replace("Multi",""),coordinates:_t}})}function ed(vt,_t){return vt.hasOwnProperty("coordinates")?vt.coordinates.length===_t.coordinates.length:vt.length===_t.length}function Mv(vt,_t){return Md(vt,_t,{strict:!0})}Dh.prototype.compare=function(vt,_t){if(vt.type!==_t.type||!ed(vt,_t))return!1;switch(vt.type){case"Point":return this.compareCoord(vt.coordinates,_t.coordinates);case"LineString":return this.compareLine(vt.coordinates,_t.coordinates,0,!1);case"Polygon":return this.comparePolygon(vt,_t);case"Feature":return this.compareFeature(vt,_t);default:if(vt.type.indexOf("Multi")===0){var xt=this,Mt=Ad(vt),kt=Ad(_t);return Mt.every(function(It){return this.some(function(Rt){return xt.compare(It,Rt)})},kt)}}return!1},Dh.prototype.compareCoord=function(vt,_t){if(vt.length!==_t.length)return!1;for(var xt=0;xt<vt.length;xt++)if(vt[xt].toFixed(this.precision)!==_t[xt].toFixed(this.precision))return!1;return!0},Dh.prototype.compareLine=function(vt,_t,xt,Mt){if(!ed(vt,_t))return!1;var kt=this.pseudoNode?vt:this.removePseudo(vt),It=this.pseudoNode?_t:this.removePseudo(_t);if(!Mt||this.compareCoord(kt[0],It[0])||(It=this.fixStartIndex(It,kt))){var Rt=this.compareCoord(kt[xt],It[xt]);return this.direction||Rt?this.comparePath(kt,It):!!this.compareCoord(kt[xt],It[It.length-(1+xt)])&&this.comparePath(kt.slice().reverse(),It)}},Dh.prototype.fixStartIndex=function(vt,_t){for(var xt,Mt=-1,kt=0;kt<vt.length;kt++)if(this.compareCoord(vt[kt],_t[0])){Mt=kt;break}return Mt>=0&&(xt=[].concat(vt.slice(Mt,vt.length),vt.slice(1,Mt+1))),xt},Dh.prototype.comparePath=function(vt,_t){var xt=this;return vt.every(function(Mt,kt){return xt.compareCoord(Mt,this[kt])},_t)},Dh.prototype.comparePolygon=function(vt,_t){if(this.compareLine(vt.coordinates[0],_t.coordinates[0],1,!0)){var xt=vt.coordinates.slice(1,vt.coordinates.length),Mt=_t.coordinates.slice(1,_t.coordinates.length),kt=this;return xt.every(function(It){return this.some(function(Rt){return kt.compareLine(It,Rt,1,!0)})},Mt)}return!1},Dh.prototype.compareFeature=function(vt,_t){return!(vt.id!==_t.id||!this.objectComparator(vt.properties,_t.properties)||!this.compareBBox(vt,_t))&&this.compare(vt.geometry,_t.geometry)},Dh.prototype.compareBBox=function(vt,_t){return!!(!vt.bbox&&!_t.bbox||vt.bbox&&_t.bbox&&this.compareCoord(vt.bbox,_t.bbox))},Dh.prototype.removePseudo=function(vt){return vt};var s0=Dh;function M1(vt,_t){var xt=!1;return Pr(vt,function(Mt){Pr(_t,function(kt){if(xt===!0)return!0;xt=!i0(Mt.geometry,kt.geometry)})}),xt}var Sv=Ti(function(vt){function _t(xt,Mt,kt,It){this.dataset=[],this.epsilon=1,this.minPts=2,this.distance=this._euclideanDistance,this.clusters=[],this.noise=[],this._visited=[],this._assigned=[],this._datasetLength=0,this._init(xt,Mt,kt,It)}_t.prototype.run=function(xt,Mt,kt,It){this._init(xt,Mt,kt,It);for(var Rt=0;Rt<this._datasetLength;Rt++)if(this._visited[Rt]!==1){this._visited[Rt]=1;var Ut=this._regionQuery(Rt);if(Ut.length<this.minPts)this.noise.push(Rt);else{var Wt=this.clusters.length;this.clusters.push([]),this._addToCluster(Rt,Wt),this._expandCluster(Wt,Ut)}}return this.clusters},_t.prototype._init=function(xt,Mt,kt,It){if(xt){if(!(xt instanceof Array))throw Error("Dataset must be of type array, "+typeof xt+" given");this.dataset=xt,this.clusters=[],this.noise=[],this._datasetLength=xt.length,this._visited=new Array(this._datasetLength),this._assigned=new Array(this._datasetLength)}Mt&&(this.epsilon=Mt),kt&&(this.minPts=kt),It&&(this.distance=It)},_t.prototype._expandCluster=function(xt,Mt){for(var kt=0;kt<Mt.length;kt++){var It=Mt[kt];if(this._visited[It]!==1){this._visited[It]=1;var Rt=this._regionQuery(It);Rt.length>=this.minPts&&(Mt=this._mergeArrays(Mt,Rt))}this._assigned[It]!==1&&this._addToCluster(It,xt)}},_t.prototype._addToCluster=function(xt,Mt){this.clusters[Mt].push(xt),this._assigned[xt]=1},_t.prototype._regionQuery=function(xt){for(var Mt=[],kt=0;kt<this._datasetLength;kt++)this.distance(this.dataset[xt],this.dataset[kt])<this.epsilon&&Mt.push(kt);return Mt},_t.prototype._mergeArrays=function(xt,Mt){for(var kt=Mt.length,It=0;It<kt;It++){var Rt=Mt[It];xt.indexOf(Rt)<0&&xt.push(Rt)}return xt},_t.prototype._euclideanDistance=function(xt,Mt){for(var kt=0,It=Math.min(xt.length,Mt.length);It--;)kt+=(xt[It]-Mt[It])*(xt[It]-Mt[It]);return Math.sqrt(kt)},vt.exports&&(vt.exports=_t)}),kv=Ti(function(vt){function _t(xt,Mt,kt){this.k=3,this.dataset=[],this.assignments=[],this.centroids=[],this.init(xt,Mt,kt)}_t.prototype.init=function(xt,Mt,kt){this.assignments=[],this.centroids=[],xt!==void 0&&(this.dataset=xt),Mt!==void 0&&(this.k=Mt),kt!==void 0&&(this.distance=kt)},_t.prototype.run=function(xt,Mt){this.init(xt,Mt);for(var kt=this.dataset.length,It=0;It<this.k;It++)this.centroids[It]=this.randomCentroid();for(var Rt=!0;Rt;){Rt=this.assign();for(var Ut=0;Ut<this.k;Ut++){for(var Wt=new Array(un),qt=0,on=0;on<un;on++)Wt[on]=0;for(var Jt=0;Jt<kt;Jt++){var un=this.dataset[Jt].length;if(Ut===this.assignments[Jt]){for(on=0;on<un;on++)Wt[on]+=this.dataset[Jt][on];qt++}}if(qt>0){for(on=0;on<un;on++)Wt[on]/=qt;this.centroids[Ut]=Wt}else this.centroids[Ut]=this.randomCentroid(),Rt=!0}}return this.getClusters()},_t.prototype.randomCentroid=function(){var xt,Mt,kt=this.dataset.length-1;do Mt=Math.round(Math.random()*kt),xt=this.dataset[Mt];while(this.centroids.indexOf(xt)>=0);return xt},_t.prototype.assign=function(){for(var xt,Mt=!1,kt=this.dataset.length,It=0;It<kt;It++)(xt=this.argmin(this.dataset[It],this.centroids,this.distance))!=this.assignments[It]&&(this.assignments[It]=xt,Mt=!0);return Mt},_t.prototype.getClusters=function(){for(var xt,Mt=new Array(this.k),kt=0;kt<this.assignments.length;kt++)Mt[xt=this.assignments[kt]]===void 0&&(Mt[xt]=[]),Mt[xt].push(kt);return Mt},_t.prototype.argmin=function(xt,Mt,kt){for(var It,Rt=Number.MAX_VALUE,Ut=0,Wt=Mt.length,qt=0;qt<Wt;qt++)(It=kt(xt,Mt[qt]))<Rt&&(Rt=It,Ut=qt);return Ut},_t.prototype.distance=function(xt,Mt){for(var kt=0,It=Math.min(xt.length,Mt.length);It--;){var Rt=xt[It]-Mt[It];kt+=Rt*Rt}return Math.sqrt(kt)},vt.exports&&(vt.exports=_t)}),S1=Ti(function(vt){function _t(xt,Mt,kt){this._queue=[],this._priorities=[],this._sorting="desc",this._init(xt,Mt,kt)}_t.prototype.insert=function(xt,Mt){for(var kt=this._queue.length,It=kt;It--;){var Rt=this._priorities[It];this._sorting==="desc"?Mt>Rt&&(kt=It):Mt<Rt&&(kt=It)}this._insertAt(xt,Mt,kt)},_t.prototype.remove=function(xt){for(var Mt=this._queue.length;Mt--;)if(xt===this._queue[Mt]){this._queue.splice(Mt,1),this._priorities.splice(Mt,1);break}},_t.prototype.forEach=function(xt){this._queue.forEach(xt)},_t.prototype.getElements=function(){return this._queue},_t.prototype.getElementPriority=function(xt){return this._priorities[xt]},_t.prototype.getPriorities=function(){return this._priorities},_t.prototype.getElementsWithPriorities=function(){for(var xt=[],Mt=0,kt=this._queue.length;Mt<kt;Mt++)xt.push([this._queue[Mt],this._priorities[Mt]]);return xt},_t.prototype._init=function(xt,Mt,kt){if(xt&&Mt){if(this._queue=[],this._priorities=[],xt.length!==Mt.length)throw new Error("Arrays must have the same length");for(var It=0;It<xt.length;It++)this.insert(xt[It],Mt[It])}kt&&(this._sorting=kt)},_t.prototype._insertAt=function(xt,Mt,kt){this._queue.length===kt?(this._queue.push(xt),this._priorities.push(Mt)):(this._queue.splice(kt,0,xt),this._priorities.splice(kt,0,Mt))},vt.exports&&(vt.exports=_t)}),Cv=Ti(function(vt){if(vt.exports)var _t=S1;function xt(Mt,kt,It,Rt){this.epsilon=1,this.minPts=1,this.distance=this._euclideanDistance,this._reachability=[],this._processed=[],this._coreDistance=0,this._orderedList=[],this._init(Mt,kt,It,Rt)}xt.prototype.run=function(Mt,kt,It,Rt){this._init(Mt,kt,It,Rt);for(var Ut=0,Wt=this.dataset.length;Ut<Wt;Ut++)if(this._processed[Ut]!==1){this._processed[Ut]=1,this.clusters.push([Ut]);var qt=this.clusters.length-1;this._orderedList.push(Ut);var on=new _t(null,null,"asc"),Jt=this._regionQuery(Ut);this._distanceToCore(Ut)!==void 0&&(this._updateQueue(Ut,Jt,on),this._expandCluster(qt,on))}return this.clusters},xt.prototype.getReachabilityPlot=function(){for(var Mt=[],kt=0,It=this._orderedList.length;kt<It;kt++){var Rt=this._orderedList[kt],Ut=this._reachability[Rt];Mt.push([Rt,Ut])}return Mt},xt.prototype._init=function(Mt,kt,It,Rt){if(Mt){if(!(Mt instanceof Array))throw Error("Dataset must be of type array, "+typeof Mt+" given");this.dataset=Mt,this.clusters=[],this._reachability=new Array(this.dataset.length),this._processed=new Array(this.dataset.length),this._coreDistance=0,this._orderedList=[]}kt&&(this.epsilon=kt),It&&(this.minPts=It),Rt&&(this.distance=Rt)},xt.prototype._updateQueue=function(Mt,kt,It){var Rt=this;this._coreDistance=this._distanceToCore(Mt),kt.forEach(function(Ut){if(Rt._processed[Ut]===void 0){var Wt=Rt.distance(Rt.dataset[Mt],Rt.dataset[Ut]),qt=Math.max(Rt._coreDistance,Wt);Rt._reachability[Ut]===void 0?(Rt._reachability[Ut]=qt,It.insert(Ut,qt)):qt<Rt._reachability[Ut]&&(Rt._reachability[Ut]=qt,It.remove(Ut),It.insert(Ut,qt))}})},xt.prototype._expandCluster=function(Mt,kt){for(var It=kt.getElements(),Rt=0,Ut=It.length;Rt<Ut;Rt++){var Wt=It[Rt];if(this._processed[Wt]===void 0){var qt=this._regionQuery(Wt);this._processed[Wt]=1,this.clusters[Mt].push(Wt),this._orderedList.push(Wt),this._distanceToCore(Wt)!==void 0&&(this._updateQueue(Wt,qt,kt),this._expandCluster(Mt,kt))}}},xt.prototype._distanceToCore=function(Mt){for(var kt=this.epsilon,It=0;It<kt;It++)if(this._regionQuery(Mt,It).length>=this.minPts)return It},xt.prototype._regionQuery=function(Mt,kt){kt=kt||this.epsilon;for(var It=[],Rt=0,Ut=this.dataset.length;Rt<Ut;Rt++)this.distance(this.dataset[Mt],this.dataset[Rt])<kt&&It.push(Rt);return It},xt.prototype._euclideanDistance=function(Mt,kt){for(var It=0,Rt=Math.min(Mt.length,kt.length);Rt--;)It+=(Mt[Rt]-kt[Rt])*(Mt[Rt]-kt[Rt]);return Math.sqrt(It)},vt.exports&&(vt.exports=xt)}),Av=Ti(function(vt){vt.exports&&(vt.exports={DBSCAN:Sv,KMEANS:kv,OPTICS:Cv,PriorityQueue:S1})}),l0=function(vt,_t,xt){for(var Mt=vt.length,kt=0,It=0;It<Mt;It++){var Rt=(vt[It]||0)-(_t[It]||0);kt+=Rt*Rt}return xt?Math.sqrt(kt):kt},Nv=l0,Yp=function(vt,_t,xt){var Mt=Math.abs(vt-_t);return xt?Mt:Mt*Mt},c0=l0,k1=function(vt,_t){for(var xt={},Mt=[],kt=_t<<2,It=vt.length,Rt=vt[0].length>0;Mt.length<_t&&kt-- >0;){var Ut=vt[Math.floor(Math.random()*It)],Wt=Rt?Ut.join("_"):""+Ut;xt[Wt]||(xt[Wt]=!0,Mt.push(Ut))}if(Mt.length<_t)throw new Error("Error initializating clusters");return Mt},Dv=function(vt,_t){var xt=vt[0].length?Nv:Yp,Mt=[],kt=vt.length,It=vt[0].length>0,Rt=vt[Math.floor(Math.random()*kt)];for(It&&Rt.join("_"),Mt.push(Rt);Mt.length<_t;){for(var Ut=[],Wt=Mt.length,qt=0,on=[],Jt=0;Jt<kt;Jt++){for(var un=1/0,En=0;En<Wt;En++){var Tn=xt(vt[Jt],Mt[En]);Tn<=un&&(un=Tn)}Ut[Jt]=un}for(var In=0;In<kt;In++)qt+=Ut[In];for(var mn=0;mn<kt;mn++)on[mn]={i:mn,v:vt[mn],pr:Ut[mn]/qt,cs:0};on.sort(function(Vn,Qn){return Vn.pr-Qn.pr}),on[0].cs=on[0].pr;for(var Wn=1;Wn<kt;Wn++)on[Wn].cs=on[Wn-1].cs+on[Wn].pr;for(var pr=Math.random(),kn=0;kn<kt-1&&on[kn++].cs<pr;);Mt.push(on[kn-1].v)}return Mt};function C1(vt,_t,xt){xt=xt||[];for(var Mt=0;Mt<vt;Mt++)xt[Mt]=_t;return xt}var u0=function(vt,_t,xt,Mt){var kt=[],It=[],Rt=[],Ut=[],Wt=!1,qt=Mt||1e4,on=vt.length,Jt=vt[0].length,un=Jt>0,En=[];if(xt)kt=xt=="kmrand"?k1(vt,_t):xt=="kmpp"?Dv(vt,_t):xt;else for(var Tn={};kt.length<_t;){var In=Math.floor(Math.random()*on);Tn[In]||(Tn[In]=!0,kt.push(vt[In]))}do{C1(_t,0,En);for(var mn=0;mn<on;mn++){for(var Wn=1/0,pr=0,kn=0;kn<_t;kn++)(Ut=un?c0(vt[mn],kt[kn]):Math.abs(vt[mn]-kt[kn]))<=Wn&&(Wn=Ut,pr=kn);Rt[mn]=pr,En[pr]++}for(var Vn=[],Qn=(It=[],0);Qn<_t;Qn++)Vn[Qn]=un?C1(Jt,0,Vn[Qn]):0,It[Qn]=kt[Qn];if(un){for(var ir=0;ir<_t;ir++)kt[ir]=[];for(var Jn=0;Jn<on;Jn++)for(var oi=Vn[Rt[Jn]],Gr=vt[Jn],li=0;li<Jt;li++)oi[li]+=Gr[li];Wt=!0;for(var qr=0;qr<_t;qr++){for(var fi=kt[qr],ti=Vn[qr],ei=It[qr],Qr=En[qr],ui=0;ui<Jt;ui++)fi[ui]=ti[ui]/Qr||0;if(Wt){for(var ni=0;ni<Jt;ni++)if(ei[ni]!=fi[ni]){Wt=!1;break}}}}else{for(var gi=0;gi<on;gi++)Vn[Rt[gi]]+=vt[gi];for(var zr=0;zr<_t;zr++)kt[zr]=Vn[zr]/En[zr]||0;Wt=!0;for(var co=0;co<_t;co++)if(It[co]!=kt[co]){Wt=!1;break}}Wt=Wt||--qt<=0}while(!Wt);return{it:1e4-qt,k:_t,idxs:Rt,centroids:kt}};function Gg(vt,_t){return sn(nf(vt[0],vt[1]))===sn(nf(_t[0],_t[1]))}function h0(vt,_t){if(vt.geometry&&vt.geometry.type)return vt.geometry.type;if(vt.type)return vt.type;throw new Error("Invalid GeoJSON object for "+_t)}function A1(vt){for(var _t=vt,xt=[];_t.parent;)xt.unshift(_t),_t=_t.parent;return xt}var Wg={search:function(vt,_t,xt,Mt){vt.cleanDirty();var kt=(Mt=Mt||{}).heuristic||Wg.heuristics.manhattan,It=Mt.closest||!1,Rt=new d0(function(In){return In.f}),Ut=_t;for(_t.h=kt(_t,xt),Rt.push(_t);Rt.size()>0;){var Wt=Rt.pop();if(Wt===xt)return A1(Wt);Wt.closed=!0;for(var qt=vt.neighbors(Wt),on=0,Jt=qt.length;on<Jt;++on){var un=qt[on];if(!un.closed&&!un.isWall()){var En=Wt.g+un.getCost(Wt),Tn=un.visited;(!Tn||En<un.g)&&(un.visited=!0,un.parent=Wt,un.h=un.h||kt(un,xt),un.g=En,un.f=un.g+un.h,vt.markDirty(un),It&&(un.h<Ut.h||un.h===Ut.h&&un.g<Ut.g)&&(Ut=un),Tn?Rt.rescoreElement(un):Rt.push(un))}}}return It?A1(Ut):[]},heuristics:{manhattan:function(vt,_t){return Math.abs(_t.x-vt.x)+Math.abs(_t.y-vt.y)},diagonal:function(vt,_t){var xt=Math.sqrt(2),Mt=Math.abs(_t.x-vt.x),kt=Math.abs(_t.y-vt.y);return 1*(Mt+kt)+(xt-2)*Math.min(Mt,kt)}},cleanNode:function(vt){vt.f=0,vt.g=0,vt.h=0,vt.visited=!1,vt.closed=!1,vt.parent=null}};function Nd(vt,_t){_t=_t||{},this.nodes=[],this.diagonal=!!_t.diagonal,this.grid=[];for(var xt=0;xt<vt.length;xt++){this.grid[xt]=[];for(var Mt=0,kt=vt[xt];Mt<kt.length;Mt++){var It=new qg(xt,Mt,kt[Mt]);this.grid[xt][Mt]=It,this.nodes.push(It)}}this.init()}function qg(vt,_t,xt){this.x=vt,this.y=_t,this.weight=xt}function d0(vt){this.content=[],this.scoreFunction=vt}function Iv(vt,_t){for(var xt=0;xt<_t.features.length;xt++)if(xo(vt,_t.features[xt]))return!0;return!1}function N1(vt){return function(){return vt}}function Lv(vt){return vt[0]}function D1(vt){return vt[1]}function Qg(){this._=null}function Gp(vt){vt.U=vt.C=vt.L=vt.R=vt.P=vt.N=null}function Wp(vt,_t){var xt=_t,Mt=_t.R,kt=xt.U;kt?kt.L===xt?kt.L=Mt:kt.R=Mt:vt._=Mt,Mt.U=kt,xt.U=Mt,xt.R=Mt.L,xt.R&&(xt.R.U=xt),Mt.L=xt}function qp(vt,_t){var xt=_t,Mt=_t.L,kt=xt.U;kt?kt.L===xt?kt.L=Mt:kt.R=Mt:vt._=Mt,Mt.U=kt,xt.U=Mt,xt.L=Mt.R,xt.L&&(xt.L.U=xt),Mt.R=xt}function I1(vt){for(;vt.L;)vt=vt.L;return vt}function Wf(vt,_t,xt,Mt){var kt=[null,null],It=xc.push(kt)-1;return kt.left=vt,kt.right=_t,xt&&qf(kt,vt,_t,xt),Mt&&qf(kt,_t,vt,Mt),mu[vt.index].halfedges.push(It),mu[_t.index].halfedges.push(It),kt}function Ih(vt,_t,xt){var Mt=[_t,xt];return Mt.left=vt,Mt}function qf(vt,_t,xt,Mt){vt[0]||vt[1]?vt.left===xt?vt[1]=Mt:vt[0]=Mt:(vt[0]=Mt,vt.left=_t,vt.right=xt)}function Xg(vt,_t,xt,Mt,kt){var It,Rt=vt[0],Ut=vt[1],Wt=Rt[0],qt=Rt[1],on=0,Jt=1,un=Ut[0]-Wt,En=Ut[1]-qt;if(It=_t-Wt,un||!(It>0)){if(It/=un,un<0){if(It<on)return;It<Jt&&(Jt=It)}else if(un>0){if(It>Jt)return;It>on&&(on=It)}if(It=Mt-Wt,un||!(It<0)){if(It/=un,un<0){if(It>Jt)return;It>on&&(on=It)}else if(un>0){if(It<on)return;It<Jt&&(Jt=It)}if(It=xt-qt,En||!(It>0)){if(It/=En,En<0){if(It<on)return;It<Jt&&(Jt=It)}else if(En>0){if(It>Jt)return;It>on&&(on=It)}if(It=kt-qt,En||!(It<0)){if(It/=En,En<0){if(It>Jt)return;It>on&&(on=It)}else if(En>0){if(It<on)return;It<Jt&&(Jt=It)}return!(on>0||Jt<1)||(on>0&&(vt[0]=[Wt+on*un,qt+on*En]),Jt<1&&(vt[1]=[Wt+Jt*un,qt+Jt*En]),!0)}}}}}function Ov(vt,_t,xt,Mt,kt){var It=vt[1];if(It)return!0;var Rt,Ut,Wt=vt[0],qt=vt.left,on=vt.right,Jt=qt[0],un=qt[1],En=on[0],Tn=on[1],In=(Jt+En)/2,mn=(un+Tn)/2;if(Tn===un){if(In<_t||In>=Mt)return;if(Jt>En){if(Wt){if(Wt[1]>=kt)return}else Wt=[In,xt];It=[In,kt]}else{if(Wt){if(Wt[1]<xt)return}else Wt=[In,kt];It=[In,xt]}}else if(Ut=mn-(Rt=(Jt-En)/(Tn-un))*In,Rt<-1||Rt>1)if(Jt>En){if(Wt){if(Wt[1]>=kt)return}else Wt=[(xt-Ut)/Rt,xt];It=[(kt-Ut)/Rt,kt]}else{if(Wt){if(Wt[1]<xt)return}else Wt=[(kt-Ut)/Rt,kt];It=[(xt-Ut)/Rt,xt]}else if(un<Tn){if(Wt){if(Wt[0]>=Mt)return}else Wt=[_t,Rt*_t+Ut];It=[Mt,Rt*Mt+Ut]}else{if(Wt){if(Wt[0]<_t)return}else Wt=[Mt,Rt*Mt+Ut];It=[_t,Rt*_t+Ut]}return vt[0]=Wt,vt[1]=It,!0}function f0(vt,_t){var xt=vt.site,Mt=_t.left,kt=_t.right;return xt===kt&&(kt=Mt,Mt=xt),kt?Math.atan2(kt[1]-Mt[1],kt[0]-Mt[0]):(xt===Mt?(Mt=_t[1],kt=_t[0]):(Mt=_t[0],kt=_t[1]),Math.atan2(Mt[0]-kt[0],kt[1]-Mt[1]))}function L1(vt,_t){return _t[+(_t.left!==vt.site)]}function Pv(vt,_t){return _t[+(_t.left===vt.site)]}Nd.prototype.init=function(){this.dirtyNodes=[];for(var vt=0;vt<this.nodes.length;vt++)Wg.cleanNode(this.nodes[vt])},Nd.prototype.cleanDirty=function(){for(var vt=0;vt<this.dirtyNodes.length;vt++)Wg.cleanNode(this.dirtyNodes[vt]);this.dirtyNodes=[]},Nd.prototype.markDirty=function(vt){this.dirtyNodes.push(vt)},Nd.prototype.neighbors=function(vt){var _t=[],xt=vt.x,Mt=vt.y,kt=this.grid;return kt[xt-1]&&kt[xt-1][Mt]&&_t.push(kt[xt-1][Mt]),kt[xt+1]&&kt[xt+1][Mt]&&_t.push(kt[xt+1][Mt]),kt[xt]&&kt[xt][Mt-1]&&_t.push(kt[xt][Mt-1]),kt[xt]&&kt[xt][Mt+1]&&_t.push(kt[xt][Mt+1]),this.diagonal&&(kt[xt-1]&&kt[xt-1][Mt-1]&&_t.push(kt[xt-1][Mt-1]),kt[xt+1]&&kt[xt+1][Mt-1]&&_t.push(kt[xt+1][Mt-1]),kt[xt-1]&&kt[xt-1][Mt+1]&&_t.push(kt[xt-1][Mt+1]),kt[xt+1]&&kt[xt+1][Mt+1]&&_t.push(kt[xt+1][Mt+1])),_t},Nd.prototype.toString=function(){for(var vt,_t,xt,Mt,kt=[],It=this.grid,Rt=0,Ut=It.length;Rt<Ut;Rt++){for(vt=[],xt=0,Mt=(_t=It[Rt]).length;xt<Mt;xt++)vt.push(_t[xt].weight);kt.push(vt.join(" "))}return kt.join(`
`)},qg.prototype.toString=function(){return"["+this.x+" "+this.y+"]"},qg.prototype.getCost=function(vt){return vt&&vt.x!==this.x&&vt.y!==this.y?1.41421*this.weight:this.weight},qg.prototype.isWall=function(){return this.weight===0},d0.prototype={push:function(vt){this.content.push(vt),this.sinkDown(this.content.length-1)},pop:function(){var vt=this.content[0],_t=this.content.pop();return this.content.length>0&&(this.content[0]=_t,this.bubbleUp(0)),vt},remove:function(vt){var _t=this.content.indexOf(vt),xt=this.content.pop();_t!==this.content.length-1&&(this.content[_t]=xt,this.scoreFunction(xt)<this.scoreFunction(vt)?this.sinkDown(_t):this.bubbleUp(_t))},size:function(){return this.content.length},rescoreElement:function(vt){this.sinkDown(this.content.indexOf(vt))},sinkDown:function(vt){for(var _t=this.content[vt];vt>0;){var xt=(vt+1>>1)-1,Mt=this.content[xt];if(!(this.scoreFunction(_t)<this.scoreFunction(Mt)))break;this.content[xt]=_t,this.content[vt]=Mt,vt=xt}},bubbleUp:function(vt){for(var _t=this.content.length,xt=this.content[vt],Mt=this.scoreFunction(xt);;){var kt,It=vt+1<<1,Rt=It-1,Ut=null;if(Rt<_t){var Wt=this.content[Rt];(kt=this.scoreFunction(Wt))<Mt&&(Ut=Rt)}if(It<_t){var qt=this.content[It];this.scoreFunction(qt)<(Ut===null?Mt:kt)&&(Ut=It)}if(Ut===null)break;this.content[vt]=this.content[Ut],this.content[Ut]=xt,vt=Ut}}},Qg.prototype={constructor:Qg,insert:function(vt,_t){var xt,Mt,kt;if(vt){if(_t.P=vt,_t.N=vt.N,vt.N&&(vt.N.P=_t),vt.N=_t,vt.R){for(vt=vt.R;vt.L;)vt=vt.L;vt.L=_t}else vt.R=_t;xt=vt}else this._?(vt=I1(this._),_t.P=null,_t.N=vt,vt.P=vt.L=_t,xt=vt):(_t.P=_t.N=null,this._=_t,xt=null);for(_t.L=_t.R=null,_t.U=xt,_t.C=!0,vt=_t;xt&&xt.C;)xt===(Mt=xt.U).L?(kt=Mt.R)&&kt.C?(xt.C=kt.C=!1,Mt.C=!0,vt=Mt):(vt===xt.R&&(Wp(this,xt),xt=(vt=xt).U),xt.C=!1,Mt.C=!0,qp(this,Mt)):(kt=Mt.L)&&kt.C?(xt.C=kt.C=!1,Mt.C=!0,vt=Mt):(vt===xt.L&&(qp(this,xt),xt=(vt=xt).U),xt.C=!1,Mt.C=!0,Wp(this,Mt)),xt=vt.U;this._.C=!1},remove:function(vt){vt.N&&(vt.N.P=vt.P),vt.P&&(vt.P.N=vt.N),vt.N=vt.P=null;var _t,xt,Mt,kt=vt.U,It=vt.L,Rt=vt.R;if(xt=It?Rt?I1(Rt):It:Rt,kt?kt.L===vt?kt.L=xt:kt.R=xt:this._=xt,It&&Rt?(Mt=xt.C,xt.C=vt.C,xt.L=It,It.U=xt,xt!==Rt?(kt=xt.U,xt.U=vt.U,vt=xt.R,kt.L=vt,xt.R=Rt,Rt.U=xt):(xt.U=kt,kt=xt,vt=xt.R)):(Mt=vt.C,vt=xt),vt&&(vt.U=kt),!Mt)if(vt&&vt.C)vt.C=!1;else{do{if(vt===this._)break;if(vt===kt.L){if((_t=kt.R).C&&(_t.C=!1,kt.C=!0,Wp(this,kt),_t=kt.R),_t.L&&_t.L.C||_t.R&&_t.R.C){_t.R&&_t.R.C||(_t.L.C=!1,_t.C=!0,qp(this,_t),_t=kt.R),_t.C=kt.C,kt.C=_t.R.C=!1,Wp(this,kt),vt=this._;break}}else if((_t=kt.L).C&&(_t.C=!1,kt.C=!0,qp(this,kt),_t=kt.L),_t.L&&_t.L.C||_t.R&&_t.R.C){_t.L&&_t.L.C||(_t.R.C=!1,_t.C=!0,Wp(this,_t),_t=kt.L),_t.C=kt.C,kt.C=_t.L.C=!1,qp(this,kt),vt=this._;break}_t.C=!0,vt=kt,kt=kt.U}while(!vt.C);vt&&(vt.C=!1)}}};var p0,O1=[];function Rv(){Gp(this),this.x=this.y=this.arc=this.site=this.cy=null}function rf(vt){var _t=vt.P,xt=vt.N;if(_t&&xt){var Mt=_t.site,kt=vt.site,It=xt.site;if(Mt!==It){var Rt=kt[0],Ut=kt[1],Wt=Mt[0]-Rt,qt=Mt[1]-Ut,on=It[0]-Rt,Jt=It[1]-Ut,un=2*(Wt*Jt-qt*on);if(!(un>=-jv)){var En=Wt*Wt+qt*qt,Tn=on*on+Jt*Jt,In=(Jt*En-qt*Tn)/un,mn=(Wt*Tn-on*En)/un,Wn=O1.pop()||new Rv;Wn.arc=vt,Wn.site=kt,Wn.x=In+Rt,Wn.y=(Wn.cy=mn+Ut)+Math.sqrt(In*In+mn*mn),vt.circle=Wn;for(var pr=null,kn=Xf._;kn;)if(Wn.y<kn.y||Wn.y===kn.y&&Wn.x<=kn.x){if(!kn.L){pr=kn.P;break}kn=kn.L}else{if(!kn.R){pr=kn;break}kn=kn.R}Xf.insert(pr,Wn),pr||(p0=Wn)}}}}function Dd(vt){var _t=vt.circle;_t&&(_t.P||(p0=_t.N),Xf.remove(_t),O1.push(_t),Gp(_t),vt.circle=null)}var P1=[];function R1(){Gp(this),this.edge=this.site=this.circle=null}function z1(vt){var _t=P1.pop()||new R1;return _t.site=vt,_t}function g0(vt){Dd(vt),Qf.remove(vt),P1.push(vt),Gp(vt)}function zv(vt){var _t=vt.circle,xt=_t.x,Mt=_t.cy,kt=[xt,Mt],It=vt.P,Rt=vt.N,Ut=[vt];g0(vt);for(var Wt=It;Wt.circle&&Math.abs(xt-Wt.circle.x)<Es&&Math.abs(Mt-Wt.circle.cy)<Es;)It=Wt.P,Ut.unshift(Wt),g0(Wt),Wt=It;Ut.unshift(Wt),Dd(Wt);for(var qt=Rt;qt.circle&&Math.abs(xt-qt.circle.x)<Es&&Math.abs(Mt-qt.circle.cy)<Es;)Rt=qt.N,Ut.push(qt),g0(qt),qt=Rt;Ut.push(qt),Dd(qt);var on,Jt=Ut.length;for(on=1;on<Jt;++on)qt=Ut[on],Wt=Ut[on-1],qf(qt.edge,Wt.site,qt.site,kt);Wt=Ut[0],(qt=Ut[Jt-1]).edge=Wf(Wt.site,qt.site,null,kt),rf(Wt),rf(qt)}function $v(vt){for(var _t,xt,Mt,kt,It=vt[0],Rt=vt[1],Ut=Qf._;Ut;)if((Mt=$1(Ut,Rt)-It)>Es)Ut=Ut.L;else{if(!((kt=It-Bv(Ut,Rt))>Es)){Mt>-Es?(_t=Ut.P,xt=Ut):kt>-Es?(_t=Ut,xt=Ut.N):_t=xt=Ut;break}if(!Ut.R){_t=Ut;break}Ut=Ut.R}(function(Qn){mu[Qn.index]={site:Qn,halfedges:[]}})(vt);var Wt=z1(vt);if(Qf.insert(_t,Wt),_t||xt){if(_t===xt)return Dd(_t),xt=z1(_t.site),Qf.insert(Wt,xt),Wt.edge=xt.edge=Wf(_t.site,Wt.site),rf(_t),void rf(xt);if(xt){Dd(_t),Dd(xt);var qt=_t.site,on=qt[0],Jt=qt[1],un=vt[0]-on,En=vt[1]-Jt,Tn=xt.site,In=Tn[0]-on,mn=Tn[1]-Jt,Wn=2*(un*mn-En*In),pr=un*un+En*En,kn=In*In+mn*mn,Vn=[(mn*pr-En*kn)/Wn+on,(un*kn-In*pr)/Wn+Jt];qf(xt.edge,qt,Tn,Vn),Wt.edge=Wf(qt,vt,null,Vn),xt.edge=Wf(vt,Tn,null,Vn),rf(_t),rf(xt)}else Wt.edge=Wf(_t.site,Wt.site)}}function $1(vt,_t){var xt=vt.site,Mt=xt[0],kt=xt[1],It=kt-_t;if(!It)return Mt;var Rt=vt.P;if(!Rt)return-1/0;var Ut=(xt=Rt.site)[0],Wt=xt[1],qt=Wt-_t;if(!qt)return Ut;var on=Ut-Mt,Jt=1/It-1/qt,un=on/qt;return Jt?(-un+Math.sqrt(un*un-2*Jt*(on*on/(-2*qt)-Wt+qt/2+kt-It/2)))/Jt+Mt:(Mt+Ut)/2}function Bv(vt,_t){var xt=vt.N;if(xt)return $1(xt,_t);var Mt=vt.site;return Mt[1]===_t?Mt[0]:1/0}var Qf,mu,Xf,xc,Es=1e-6,jv=1e-12;function B1(vt,_t){return _t[1]-vt[1]||_t[0]-vt[0]}function m0(vt,_t){var xt,Mt,kt,It=vt.sort(B1).pop();for(xc=[],mu=new Array(vt.length),Qf=new Qg,Xf=new Qg;;)if(kt=p0,It&&(!kt||It[1]<kt.y||It[1]===kt.y&&It[0]<kt.x))It[0]===xt&&It[1]===Mt||($v(It),xt=It[0],Mt=It[1]),It=vt.pop();else{if(!kt)break;zv(kt.arc)}if(function(){for(var on,Jt,un,En,Tn=0,In=mu.length;Tn<In;++Tn)if((on=mu[Tn])&&(En=(Jt=on.halfedges).length)){var mn=new Array(En),Wn=new Array(En);for(un=0;un<En;++un)mn[un]=un,Wn[un]=f0(on,xc[Jt[un]]);for(mn.sort(function(pr,kn){return Wn[kn]-Wn[pr]}),un=0;un<En;++un)Wn[un]=Jt[mn[un]];for(un=0;un<En;++un)Jt[un]=Wn[un]}}(),_t){var Rt=+_t[0][0],Ut=+_t[0][1],Wt=+_t[1][0],qt=+_t[1][1];(function(on,Jt,un,En){for(var Tn,In=xc.length;In--;)Ov(Tn=xc[In],on,Jt,un,En)&&Xg(Tn,on,Jt,un,En)&&(Math.abs(Tn[0][0]-Tn[1][0])>Es||Math.abs(Tn[0][1]-Tn[1][1])>Es)||delete xc[In]})(Rt,Ut,Wt,qt),function(on,Jt,un,En){var Tn,In,mn,Wn,pr,kn,Vn,Qn,ir,Jn,oi,Gr,li=mu.length,qr=!0;for(Tn=0;Tn<li;++Tn)if(In=mu[Tn]){for(mn=In.site,Wn=(pr=In.halfedges).length;Wn--;)xc[pr[Wn]]||pr.splice(Wn,1);for(Wn=0,kn=pr.length;Wn<kn;)oi=(Jn=Pv(In,xc[pr[Wn]]))[0],Gr=Jn[1],Qn=(Vn=L1(In,xc[pr[++Wn%kn]]))[0],ir=Vn[1],(Math.abs(oi-Qn)>Es||Math.abs(Gr-ir)>Es)&&(pr.splice(Wn,0,xc.push(Ih(mn,Jn,Math.abs(oi-on)<Es&&En-Gr>Es?[on,Math.abs(Qn-on)<Es?ir:En]:Math.abs(Gr-En)<Es&&un-oi>Es?[Math.abs(ir-En)<Es?Qn:un,En]:Math.abs(oi-un)<Es&&Gr-Jt>Es?[un,Math.abs(Qn-un)<Es?ir:Jt]:Math.abs(Gr-Jt)<Es&&oi-on>Es?[Math.abs(ir-Jt)<Es?Qn:on,Jt]:null))-1),++kn);kn&&(qr=!1)}if(qr){var fi,ti,ei,Qr=1/0;for(Tn=0,qr=null;Tn<li;++Tn)(In=mu[Tn])&&(ei=(fi=(mn=In.site)[0]-on)*fi+(ti=mn[1]-Jt)*ti)<Qr&&(Qr=ei,qr=In);if(qr){var ui=[on,Jt],ni=[on,En],gi=[un,En],zr=[un,Jt];qr.halfedges.push(xc.push(Ih(mn=qr.site,ui,ni))-1,xc.push(Ih(mn,ni,gi))-1,xc.push(Ih(mn,gi,zr))-1,xc.push(Ih(mn,zr,ui))-1)}}for(Tn=0;Tn<li;++Tn)(In=mu[Tn])&&(In.halfedges.length||delete mu[Tn])}(Rt,Ut,Wt,qt)}this.edges=xc,this.cells=mu,Qf=Xf=xc=mu=null}function Fv(vt){return(vt=vt.slice()).push(vt[0]),Dt([vt])}function j1(vt,_t,xt,Mt){var kt=(Mt=Mt||{}).steps||64,It=Mt.units||"kilometers",Rt=Mt.angle||0,Ut=Mt.pivot||vt,Wt=Mt.properties||vt.properties||{};if(!vt)throw new Error("center is required");if(!_t)throw new Error("xSemiAxis is required");if(!xt)throw new Error("ySemiAxis is required");if(!gn(Mt))throw new Error("options must be an object");if(!Dn(kt))throw new Error("steps must be a number");if(!Dn(Rt))throw new Error("angle must be a number");var qt=hn(vt);if(It==="degrees")var on=wn(Rt);else _t=Vf(vt,_t,90,{units:It}),xt=Vf(vt,xt,0,{units:It}),_t=hn(_t)[0]-qt[0],xt=hn(xt)[1]-qt[1];for(var Jt=[],un=0;un<kt;un+=1){var En=-360*un/kt,Tn=_t*xt/Math.sqrt(Math.pow(xt,2)+Math.pow(_t,2)*Math.pow(F1(En),2)),In=_t*xt/Math.sqrt(Math.pow(_t,2)+Math.pow(xt,2)/Math.pow(F1(En),2));if(En<-90&&En>=-270&&(Tn=-Tn),En<-180&&En>=-360&&(In=-In),It==="degrees"){var mn=Tn*Math.cos(on)+In*Math.sin(on),Wn=In*Math.cos(on)-Tn*Math.sin(on);Tn=mn,In=Wn}Jt.push([Tn+qt[0],In+qt[1]])}return Jt.push(Jt[0]),It==="degrees"?Dt([Jt],Wt):y1(Dt([Jt],Wt),Rt,{pivot:Ut})}function F1(vt){var _t=vt*Math.PI/180;return Math.tan(_t)}function y0(vt,_t){_t===void 0&&(_t={});var xt=0,Mt=0,kt=0;return vr(vt,function(It,Rt,Ut){var Wt=_t.weight?Ut==null?void 0:Ut[_t.weight]:void 0;if(!Dn(Wt=Wt==null?1:Wt))throw new Error("weight value must be a number for feature index "+Rt);(Wt=Number(Wt))>0&&xn(It,function(qt){xt+=qt[0]*Wt,Mt+=qt[1]*Wt,kt+=Wt})}),Tt([xt/kt,Mt/kt],_t.properties,_t)}function U1(vt,_t,xt,Mt,kt){var It=Mt.tolerance||.001,Rt=0,Ut=0,Wt=0,qt=0;if(Gn(xt,function(un){var En,Tn=(En=un.properties)===null||En===void 0?void 0:En.weight,In=Tn==null?1:Tn;if(!Dn(In=Number(In)))throw new Error("weight value must be a number");if(In>0){qt+=1;var mn=In*To(un,vt);mn===0&&(mn=1);var Wn=In/mn;Rt+=un.geometry.coordinates[0]*Wn,Ut+=un.geometry.coordinates[1]*Wn,Wt+=Wn}}),qt<1)throw new Error("no features to measure");var on=Rt/Wt,Jt=Ut/Wt;return qt===1||kt===0||Math.abs(on-_t[0])<It&&Math.abs(Jt-_t[1])<It?Tt([on,Jt],{medianCandidates:Mt.medianCandidates}):(Mt.medianCandidates.push([on,Jt]),U1([on,Jt],vt,xt,Mt,kt-1))}function H1(vt,_t){return{x:vt[0]-_t[0],y:vt[1]-_t[1]}}function Uv(vt,_t){var xt=0,Mt=0;xn(vt,function(kt,It,Rt,Ut,Wt){Wt>xt&&(xt=Wt,Mt=It,_t.push([]));var qt=It-Mt,on=vt.coordinates[Wt][qt+1],Jt=kt[0],un=kt[1],En=on[0],Tn=on[1];_t[Wt].push([.75*Jt+.25*En,.75*un+.25*Tn]),_t[Wt].push([.25*Jt+.75*En,.25*un+.75*Tn])},!0),_t.forEach(function(kt){kt.push(kt[0])})}function Hv(vt,_t){var xt=0,Mt=0,kt=0;xn(vt,function(It,Rt,Ut,Wt,qt){Wt>kt&&(kt=Wt,Mt=Rt,_t.push([[]])),qt>xt&&(xt=qt,Mt=Rt,_t[Wt].push([]));var on=Rt-Mt,Jt=vt.coordinates[Wt][qt][on+1],un=It[0],En=It[1],Tn=Jt[0],In=Jt[1];_t[Wt][qt].push([.75*un+.25*Tn,.75*En+.25*In]),_t[Wt][qt].push([.25*un+.75*Tn,.25*En+.75*In])},!0),_t.forEach(function(It){It.forEach(function(Rt){Rt.push(Rt[0])})})}function Vv(vt,_t,xt){xt===void 0&&(xt=2);var Mt=hn(vt),kt=hn(_t),It=Mt[0]-kt[0],Rt=Mt[1]-kt[1];return xt===1?Math.abs(It)+Math.abs(Rt):Math.pow(Math.pow(It,xt)+Math.pow(Rt,xt),1/xt)}function V1(vt,_t){var xt=(_t=_t||{}).threshold||1e4,Mt=_t.p||2,kt=_t.binary||!1,It=_t.alpha||-1,Rt=_t.standardization||!1,Ut=[];Gn(vt,function(En){Ut.push(wl(En))});for(var Wt=[],qt=0;qt<Ut.length;qt++)Wt[qt]=[];for(qt=0;qt<Ut.length;qt++)for(var on=qt;on<Ut.length;on++){qt===on&&(Wt[qt][on]=0);var Jt=Vv(Ut[qt],Ut[on],Mt);Wt[qt][on]=Jt,Wt[on][qt]=Jt}for(qt=0;qt<Ut.length;qt++)for(on=0;on<Ut.length;on++)(Jt=Wt[qt][on])!==0&&(Wt[qt][on]=kt?Jt<=xt?1:0:Jt<=xt?Math.pow(Jt,It):0);if(Rt)for(qt=0;qt<Ut.length;qt++){var un=Wt[qt].reduce(function(En,Tn){return En+Tn},0);for(on=0;on<Ut.length;on++)Wt[qt][on]=Wt[qt][on]/un}return Wt}function Y1(vt){for(var _t=0,xt=0,Mt=vt;xt<Mt.length;xt++)_t+=Mt[xt];return _t/vt.length}function G1(vt,_t){return _t===void 0&&(_t={}),q1(vt,"mercator",_t)}function W1(vt,_t){return _t===void 0&&(_t={}),q1(vt,"wgs84",_t)}function q1(vt,_t,xt){xt===void 0&&(xt={});var Mt=(xt=xt||{}).mutate;if(!vt)throw new Error("geojson is required");return Array.isArray(vt)&&Dn(vt[0])?vt=_t==="mercator"?Q1(vt):X1(vt):(Mt!==!0&&(vt=Wo(vt)),xn(vt,function(kt){var It=_t==="mercator"?Q1(kt):X1(kt);kt[0]=It[0],kt[1]=It[1]})),vt}function Q1(vt){var _t=Math.PI/180,xt=6378137,Mt=20037508342789244e-9,kt=[xt*(Math.abs(vt[0])<=180?vt[0]:vt[0]-360*function(It){return It<0?-1:It>0?1:0}(vt[0]))*_t,xt*Math.log(Math.tan(.25*Math.PI+.5*vt[1]*_t))];return kt[0]>Mt&&(kt[0]=Mt),kt[0]<-Mt&&(kt[0]=-Mt),kt[1]>Mt&&(kt[1]=Mt),kt[1]<-Mt&&(kt[1]=-Mt),kt}function X1(vt){var _t=180/Math.PI,xt=6378137;return[vt[0]*_t/xt,(.5*Math.PI-2*Math.atan(Math.exp(-vt[1]/xt)))*_t]}m0.prototype={constructor:m0,polygons:function(){var vt=this.edges;return this.cells.map(function(_t){var xt=_t.halfedges.map(function(Mt){return L1(_t,vt[Mt])});return xt.data=_t.site.data,xt})},triangles:function(){var vt=[],_t=this.edges;return this.cells.forEach(function(xt,Mt){if(It=(kt=xt.halfedges).length)for(var kt,It,Rt,Ut,Wt,qt,on=xt.site,Jt=-1,un=_t[kt[It-1]],En=un.left===on?un.right:un.left;++Jt<It;)Rt=En,En=(un=_t[kt[Jt]]).left===on?un.right:un.left,Rt&&En&&Mt<Rt.index&&Mt<En.index&&(Wt=Rt,qt=En,((Ut=on)[0]-qt[0])*(Wt[1]-Ut[1])-(Ut[0]-Wt[0])*(qt[1]-Ut[1])<0)&&vt.push([on.data,Rt.data,En.data])}),vt},links:function(){return this.edges.filter(function(vt){return vt.right}).map(function(vt){return{source:vt.left.data,target:vt.right.data}})},find:function(vt,_t,xt){for(var Mt,kt,It=this,Rt=It._found||0,Ut=It.cells.length;!(kt=It.cells[Rt]);)if(++Rt>=Ut)return null;var Wt=vt-kt.site[0],qt=_t-kt.site[1],on=Wt*Wt+qt*qt;do kt=It.cells[Mt=Rt],Rt=null,kt.halfedges.forEach(function(Jt){var un=It.edges[Jt],En=un.left;if(En!==kt.site&&En||(En=un.right)){var Tn=vt-En[0],In=_t-En[1],mn=Tn*Tn+In*In;mn<on&&(on=mn,Rt=En.index)}});while(Rt!==null);return It._found=Mt,xt==null||on<=xt*xt?kt.site:null}};var Yv=Object.freeze({__proto__:null,toMercator:G1,toWgs84:W1}),Gv=function(){for(var vt=0,_t=0,xt=arguments.length;_t<xt;_t++)vt+=arguments[_t].length;var Mt=Array(vt),kt=0;for(_t=0;_t<xt;_t++)for(var It=arguments[_t],Rt=0,Ut=It.length;Rt<Ut;Rt++,kt++)Mt[kt]=It[Rt];return Mt};function Qp(vt){return Array.isArray(vt)?ey(vt):vt&&vt.bbox?ey(vt.bbox):[360*J1(),180*J1()]}function Z1(vt,_t){_t===void 0&&(_t={}),vt==null&&(vt=1);for(var xt=[],Mt=0;Mt<vt;Mt++)xt.push(Tt(Qp(_t.bbox)));return Bt(xt)}function v0(vt,_t){_t===void 0&&(_t={}),vt==null&&(vt=1),Dn(_t.num_vertices)&&_t.num_vertices!==void 0||(_t.num_vertices=10),Dn(_t.max_radial_length)&&_t.max_radial_length!==void 0||(_t.max_radial_length=10);for(var xt=[],Mt=function(It){var Rt,Ut=[],Wt=Gv(Array(_t.num_vertices+1)).map(Math.random);Wt.forEach(function(qt,on,Jt){Jt[on]=on>0?qt+Jt[on-1]:qt}),Wt.forEach(function(qt){qt=2*qt*Math.PI/Wt[Wt.length-1];var on=Math.random();Ut.push([on*(_t.max_radial_length||10)*Math.sin(qt),on*(_t.max_radial_length||10)*Math.cos(qt)])}),Ut[Ut.length-1]=Ut[0],Ut=Ut.map((Rt=Qp(_t.bbox),function(qt){return[qt[0]+Rt[0],qt[1]+Rt[1]]})),xt.push(Dt([Ut]))},kt=0;kt<vt;kt++)Mt();return Bt(xt)}function K1(vt,_t){if(_t===void 0&&(_t={}),!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.bbox,Mt=_t.num_vertices,kt=_t.max_length,It=_t.max_rotation;vt==null&&(vt=1),(!Dn(Mt)||Mt===void 0||Mt<2)&&(Mt=10),Dn(kt)&&kt!==void 0||(kt=1e-4),Dn(It)&&It!==void 0||(It=Math.PI/8);for(var Rt=[],Ut=0;Ut<vt;Ut++){for(var Wt=[Qp(xt)],qt=0;qt<Mt-1;qt++){var on=(qt===0?2*Math.random()*Math.PI:Math.tan((Wt[qt][1]-Wt[qt-1][1])/(Wt[qt][0]-Wt[qt-1][0])))+(Math.random()-.5)*It*2,Jt=Math.random()*kt;Wt.push([Wt[qt][0]+Jt*Math.cos(on),Wt[qt][1]+Jt*Math.sin(on)])}Rt.push(zt(Wt))}return Bt(Rt)}function J1(){return Math.random()-.5}function ey(vt){return[Math.random()*(vt[2]-vt[0])+vt[0],Math.random()*(vt[3]-vt[1])+vt[1]]}var Wv=Object.freeze({__proto__:null,randomPosition:Qp,randomPoint:Z1,randomPolygon:v0,randomLineString:K1});function ty(vt,_t){if(!vt)throw new Error("geojson is required");if(vt.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(_t==null)throw new Error("filter is required");var xt=[];return Gn(vt,function(Mt){Kg(Mt.properties,_t)&&xt.push(Mt)}),Bt(xt)}function b0(vt,_t,xt){if(!vt)throw new Error("geojson is required");if(vt.type!=="FeatureCollection")throw new Error("geojson must be a FeatureCollection");if(_t==null)throw new Error("property is required");for(var Mt=_0(vt,_t),kt=Object.keys(Mt),It=0;It<kt.length;It++){for(var Rt=kt[It],Ut=Mt[Rt],Wt=[],qt=0;qt<Ut.length;qt++)Wt.push(vt.features[Ut[qt]]);xt(Bt(Wt),Rt,It)}}function Zg(vt,_t,xt,Mt){var kt=Mt;return b0(vt,_t,function(It,Rt,Ut){kt=Ut===0&&Mt===void 0?It:xt(kt,It,Rt,Ut)}),kt}function _0(vt,_t){var xt={};return Gn(vt,function(Mt,kt){var It=Mt.properties||{};if(Object.prototype.hasOwnProperty.call(It,String(_t))){var Rt=It[_t];Object.prototype.hasOwnProperty.call(xt,Rt)?xt[Rt].push(kt):xt[Rt]=[kt]}}),xt}function Kg(vt,_t){if(vt===void 0)return!1;var xt=typeof _t;if(xt==="number"||xt==="string")return Object.prototype.hasOwnProperty.call(vt,_t);if(Array.isArray(_t)){for(var Mt=0;Mt<_t.length;Mt++)if(!Kg(vt,_t[Mt]))return!1;return!0}return w0(vt,_t)}function w0(vt,_t){for(var xt=Object.keys(_t),Mt=0;Mt<xt.length;Mt++){var kt=xt[Mt];if(vt[kt]!==_t[kt])return!1}return!0}function ny(vt,_t){if(!_t)return{};if(!_t.length)return{};for(var xt={},Mt=0;Mt<_t.length;Mt++){var kt=_t[Mt];Object.prototype.hasOwnProperty.call(vt,kt)&&(xt[kt]=vt[kt])}return xt}var qv=Object.freeze({__proto__:null,getCluster:ty,clusterEach:b0,clusterReduce:Zg,createBins:_0,applyFilter:Kg,propertiesContainsFilter:w0,filterProperties:ny}),Id=function(vt,_t){this.next=null,this.key=vt,this.data=_t,this.left=null,this.right=null};/**
     * splaytree v3.1.0
     * Fast Splay tree for Node and browser
     *
     * @author Alexander Milevski <info@w8r.name>
     * @license MIT
     * @preserve
     */function x0(vt,_t){return vt>_t?1:vt<_t?-1:0}function td(vt,_t,xt){for(var Mt=new Id(null,null),kt=Mt,It=Mt;;){var Rt=xt(vt,_t.key);if(Rt<0){if(_t.left===null)break;if(xt(vt,_t.left.key)<0){var Ut=_t.left;if(_t.left=Ut.right,Ut.right=_t,(_t=Ut).left===null)break}It.left=_t,It=_t,_t=_t.left}else{if(!(Rt>0)||_t.right===null||xt(vt,_t.right.key)>0&&(Ut=_t.right,_t.right=Ut.left,Ut.left=_t,(_t=Ut).right===null))break;kt.right=_t,kt=_t,_t=_t.right}}return kt.right=_t.left,It.left=_t.right,_t.left=Mt.right,_t.right=Mt.left,_t}function E0(vt,_t,xt,Mt){var kt=new Id(vt,_t);if(xt===null)return kt.left=kt.right=null,kt;var It=Mt(vt,(xt=td(vt,xt,Mt)).key);return It<0?(kt.left=xt.left,kt.right=xt,xt.left=null):It>=0&&(kt.right=xt.right,kt.left=xt,xt.right=null),kt}function T0(vt,_t,xt){var Mt=null,kt=null;if(_t){var It=xt((_t=td(vt,_t,xt)).key,vt);It===0?(Mt=_t.left,kt=_t.right):It<0?(kt=_t.right,_t.right=null,Mt=_t):(Mt=_t.left,_t.left=null,kt=_t)}return{left:Mt,right:kt}}function M0(vt,_t,xt,Mt,kt){if(vt){Mt(_t+(xt?"\u2514\u2500\u2500 ":"\u251C\u2500\u2500 ")+kt(vt)+`
`);var It=_t+(xt?"    ":"\u2502   ");vt.left&&M0(vt.left,It,!1,Mt,kt),vt.right&&M0(vt.right,It,!0,Mt,kt)}}var S0=function(){function vt(_t){_t===void 0&&(_t=x0),this._root=null,this._size=0,this._comparator=_t}return vt.prototype.insert=function(_t,xt){return this._size++,this._root=E0(_t,xt,this._root,this._comparator)},vt.prototype.add=function(_t,xt){var Mt=new Id(_t,xt);this._root===null&&(Mt.left=Mt.right=null,this._size++,this._root=Mt);var kt=this._comparator,It=td(_t,this._root,kt),Rt=kt(_t,It.key);return Rt===0?this._root=It:(Rt<0?(Mt.left=It.left,Mt.right=It,It.left=null):Rt>0&&(Mt.right=It.right,Mt.left=It,It.right=null),this._size++,this._root=Mt),this._root},vt.prototype.remove=function(_t){this._root=this._remove(_t,this._root,this._comparator)},vt.prototype._remove=function(_t,xt,Mt){var kt;return xt===null?null:Mt(_t,(xt=td(_t,xt,Mt)).key)===0?(xt.left===null?kt=xt.right:(kt=td(_t,xt.left,Mt)).right=xt.right,this._size--,kt):xt},vt.prototype.pop=function(){var _t=this._root;if(_t){for(;_t.left;)_t=_t.left;return this._root=td(_t.key,this._root,this._comparator),this._root=this._remove(_t.key,this._root,this._comparator),{key:_t.key,data:_t.data}}return null},vt.prototype.findStatic=function(_t){for(var xt=this._root,Mt=this._comparator;xt;){var kt=Mt(_t,xt.key);if(kt===0)return xt;xt=kt<0?xt.left:xt.right}return null},vt.prototype.find=function(_t){return this._root&&(this._root=td(_t,this._root,this._comparator),this._comparator(_t,this._root.key)!==0)?null:this._root},vt.prototype.contains=function(_t){for(var xt=this._root,Mt=this._comparator;xt;){var kt=Mt(_t,xt.key);if(kt===0)return!0;xt=kt<0?xt.left:xt.right}return!1},vt.prototype.forEach=function(_t,xt){for(var Mt=this._root,kt=[],It=!1;!It;)Mt!==null?(kt.push(Mt),Mt=Mt.left):kt.length!==0?(Mt=kt.pop(),_t.call(xt,Mt),Mt=Mt.right):It=!0;return this},vt.prototype.range=function(_t,xt,Mt,kt){for(var It=[],Rt=this._comparator,Ut=this._root;It.length!==0||Ut;)if(Ut)It.push(Ut),Ut=Ut.left;else{if(Rt((Ut=It.pop()).key,xt)>0)break;if(Rt(Ut.key,_t)>=0&&Mt.call(kt,Ut))return this;Ut=Ut.right}return this},vt.prototype.keys=function(){var _t=[];return this.forEach(function(xt){var Mt=xt.key;return _t.push(Mt)}),_t},vt.prototype.values=function(){var _t=[];return this.forEach(function(xt){var Mt=xt.data;return _t.push(Mt)}),_t},vt.prototype.min=function(){return this._root?this.minNode(this._root).key:null},vt.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},vt.prototype.minNode=function(_t){if(_t===void 0&&(_t=this._root),_t)for(;_t.left;)_t=_t.left;return _t},vt.prototype.maxNode=function(_t){if(_t===void 0&&(_t=this._root),_t)for(;_t.right;)_t=_t.right;return _t},vt.prototype.at=function(_t){for(var xt=this._root,Mt=!1,kt=0,It=[];!Mt;)if(xt)It.push(xt),xt=xt.left;else if(It.length>0){if(xt=It.pop(),kt===_t)return xt;kt++,xt=xt.right}else Mt=!0;return null},vt.prototype.next=function(_t){var xt=this._root,Mt=null;if(_t.right){for(Mt=_t.right;Mt.left;)Mt=Mt.left;return Mt}for(var kt=this._comparator;xt;){var It=kt(_t.key,xt.key);if(It===0)break;It<0?(Mt=xt,xt=xt.left):xt=xt.right}return Mt},vt.prototype.prev=function(_t){var xt=this._root,Mt=null;if(_t.left!==null){for(Mt=_t.left;Mt.right;)Mt=Mt.right;return Mt}for(var kt=this._comparator;xt;){var It=kt(_t.key,xt.key);if(It===0)break;It<0?xt=xt.left:(Mt=xt,xt=xt.right)}return Mt},vt.prototype.clear=function(){return this._root=null,this._size=0,this},vt.prototype.toList=function(){return function(_t){for(var xt=_t,Mt=[],kt=!1,It=new Id(null,null),Rt=It;!kt;)xt?(Mt.push(xt),xt=xt.left):Mt.length>0?xt=(xt=Rt=Rt.next=Mt.pop()).right:kt=!0;return Rt.next=null,It.next}(this._root)},vt.prototype.load=function(_t,xt,Mt){xt===void 0&&(xt=[]),Mt===void 0&&(Mt=!1);var kt=_t.length,It=this._comparator;if(Mt&&C0(_t,xt,0,kt-1,It),this._root===null)this._root=k0(_t,xt,0,kt),this._size=kt;else{var Rt=function(Ut,Wt,qt){for(var on=new Id(null,null),Jt=on,un=Ut,En=Wt;un!==null&&En!==null;)qt(un.key,En.key)<0?(Jt.next=un,un=un.next):(Jt.next=En,En=En.next),Jt=Jt.next;return un!==null?Jt.next=un:En!==null&&(Jt.next=En),on.next}(this.toList(),function(Ut,Wt){for(var qt=new Id(null,null),on=qt,Jt=0;Jt<Ut.length;Jt++)on=on.next=new Id(Ut[Jt],Wt[Jt]);return on.next=null,qt.next}(_t,xt),It);kt=this._size+kt,this._root=Jg({head:Rt},0,kt)}return this},vt.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(vt.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(vt.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),vt.prototype.toString=function(_t){_t===void 0&&(_t=function(Mt){return String(Mt.key)});var xt=[];return M0(this._root,"",!0,function(Mt){return xt.push(Mt)},_t),xt.join("")},vt.prototype.update=function(_t,xt,Mt){var kt=this._comparator,It=T0(_t,this._root,kt),Rt=It.left,Ut=It.right;kt(_t,xt)<0?Ut=E0(xt,Mt,Ut,kt):Rt=E0(xt,Mt,Rt,kt),this._root=function(Wt,qt,on){return qt===null?Wt:(Wt===null||((qt=td(Wt.key,qt,on)).left=Wt),qt)}(Rt,Ut,kt)},vt.prototype.split=function(_t){return T0(_t,this._root,this._comparator)},vt}();function k0(vt,_t,xt,Mt){var kt=Mt-xt;if(kt>0){var It=xt+Math.floor(kt/2),Rt=vt[It],Ut=_t[It],Wt=new Id(Rt,Ut);return Wt.left=k0(vt,_t,xt,It),Wt.right=k0(vt,_t,It+1,Mt),Wt}return null}function Jg(vt,_t,xt){var Mt=xt-_t;if(Mt>0){var kt=_t+Math.floor(Mt/2),It=Jg(vt,_t,kt),Rt=vt.head;return Rt.left=It,vt.head=vt.head.next,Rt.right=Jg(vt,kt+1,xt),Rt}return null}function C0(vt,_t,xt,Mt,kt){if(!(xt>=Mt)){for(var It=vt[xt+Mt>>1],Rt=xt-1,Ut=Mt+1;;){do Rt++;while(kt(vt[Rt],It)<0);do Ut--;while(kt(vt[Ut],It)>0);if(Rt>=Ut)break;var Wt=vt[Rt];vt[Rt]=vt[Ut],vt[Ut]=Wt,Wt=_t[Rt],_t[Rt]=_t[Ut],_t[Ut]=Wt}C0(vt,_t,xt,Ut,kt),C0(vt,_t,Ut+1,Mt,kt)}}function Pc(vt,_t){if(!(vt instanceof _t))throw new TypeError("Cannot call a class as a function")}function A0(vt,_t){for(var xt=0;xt<_t.length;xt++){var Mt=_t[xt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(vt,Mt.key,Mt)}}function Ec(vt,_t,xt){return _t&&A0(vt.prototype,_t),xt&&A0(vt,xt),vt}var Xp=function(vt,_t){return vt.ll.x<=_t.x&&_t.x<=vt.ur.x&&vt.ll.y<=_t.y&&_t.y<=vt.ur.y},em=function(vt,_t){if(_t.ur.x<vt.ll.x||vt.ur.x<_t.ll.x||_t.ur.y<vt.ll.y||vt.ur.y<_t.ll.y)return null;var xt=vt.ll.x<_t.ll.x?_t.ll.x:vt.ll.x,Mt=vt.ur.x<_t.ur.x?vt.ur.x:_t.ur.x;return{ll:{x:xt,y:vt.ll.y<_t.ll.y?_t.ll.y:vt.ll.y},ur:{x:Mt,y:vt.ur.y<_t.ur.y?vt.ur.y:_t.ur.y}}},nd=Number.EPSILON;nd===void 0&&(nd=Math.pow(2,-52));var tm=nd*nd,N0=function(vt,_t){if(-nd<vt&&vt<nd&&-nd<_t&&_t<nd)return 0;var xt=vt-_t;return xt*xt<tm*vt*_t?0:vt<_t?-1:1},ry=function(){function vt(){Pc(this,vt),this.reset()}return Ec(vt,[{key:"reset",value:function(){this.xRounder=new iy,this.yRounder=new iy}},{key:"round",value:function(_t,xt){return{x:this.xRounder.round(_t),y:this.yRounder.round(xt)}}}]),vt}(),iy=function(){function vt(){Pc(this,vt),this.tree=new S0,this.round(0)}return Ec(vt,[{key:"round",value:function(_t){var xt=this.tree.add(_t),Mt=this.tree.prev(xt);if(Mt!==null&&N0(xt.key,Mt.key)===0)return this.tree.remove(_t),Mt.key;var kt=this.tree.next(xt);return kt!==null&&N0(xt.key,kt.key)===0?(this.tree.remove(_t),kt.key):_t}}]),vt}(),Zp=new ry,Kp=function(vt,_t){return vt.x*_t.y-vt.y*_t.x},oy=function(vt,_t){return vt.x*_t.x+vt.y*_t.y},ay=function(vt,_t,xt){var Mt={x:_t.x-vt.x,y:_t.y-vt.y},kt={x:xt.x-vt.x,y:xt.y-vt.y},It=Kp(Mt,kt);return N0(It,0)},nm=function(vt){return Math.sqrt(oy(vt,vt))},sy=function(vt,_t,xt){var Mt={x:_t.x-vt.x,y:_t.y-vt.y},kt={x:xt.x-vt.x,y:xt.y-vt.y};return oy(kt,Mt)/nm(kt)/nm(Mt)},ly=function(vt,_t,xt){return _t.y===0?null:{x:vt.x+_t.x/_t.y*(xt-vt.y),y:xt}},cy=function(vt,_t,xt){return _t.x===0?null:{x:xt,y:vt.y+_t.y/_t.x*(xt-vt.x)}},Lh=function(){function vt(_t,xt){Pc(this,vt),_t.events===void 0?_t.events=[this]:_t.events.push(this),this.point=_t,this.isLeft=xt}return Ec(vt,null,[{key:"compare",value:function(_t,xt){var Mt=vt.comparePoints(_t.point,xt.point);return Mt!==0?Mt:(_t.point!==xt.point&&_t.link(xt),_t.isLeft!==xt.isLeft?_t.isLeft?1:-1:rm.compare(_t.segment,xt.segment))}},{key:"comparePoints",value:function(_t,xt){return _t.x<xt.x?-1:_t.x>xt.x?1:_t.y<xt.y?-1:_t.y>xt.y?1:0}}]),Ec(vt,[{key:"link",value:function(_t){if(_t.point===this.point)throw new Error("Tried to link already linked events");for(var xt=_t.point.events,Mt=0,kt=xt.length;Mt<kt;Mt++){var It=xt[Mt];this.point.events.push(It),It.point=this.point}this.checkForConsuming()}},{key:"checkForConsuming",value:function(){for(var _t=this.point.events.length,xt=0;xt<_t;xt++){var Mt=this.point.events[xt];if(Mt.segment.consumedBy===void 0)for(var kt=xt+1;kt<_t;kt++){var It=this.point.events[kt];It.consumedBy===void 0&&Mt.otherSE.point.events===It.otherSE.point.events&&Mt.segment.consume(It.segment)}}}},{key:"getAvailableLinkedEvents",value:function(){for(var _t=[],xt=0,Mt=this.point.events.length;xt<Mt;xt++){var kt=this.point.events[xt];kt!==this&&!kt.segment.ringOut&&kt.segment.isInResult()&&_t.push(kt)}return _t}},{key:"getLeftmostComparator",value:function(_t){var xt=this,Mt=new Map,kt=function(It){var Rt,Ut,Wt,qt,on,Jt=It.otherSE;Mt.set(It,{sine:(Rt=xt.point,Ut=_t.point,Wt=Jt.point,qt={x:Ut.x-Rt.x,y:Ut.y-Rt.y},on={x:Wt.x-Rt.x,y:Wt.y-Rt.y},Kp(on,qt)/nm(on)/nm(qt)),cosine:sy(xt.point,_t.point,Jt.point)})};return function(It,Rt){Mt.has(It)||kt(It),Mt.has(Rt)||kt(Rt);var Ut=Mt.get(It),Wt=Ut.sine,qt=Ut.cosine,on=Mt.get(Rt),Jt=on.sine,un=on.cosine;return Wt>=0&&Jt>=0?qt<un?1:qt>un?-1:0:Wt<0&&Jt<0?qt<un?-1:qt>un?1:0:Jt<Wt?-1:Jt>Wt?1:0}}}]),vt}(),Qv=0,rm=function(){function vt(_t,xt,Mt,kt){Pc(this,vt),this.id=++Qv,this.leftSE=_t,_t.segment=this,_t.otherSE=xt,this.rightSE=xt,xt.segment=this,xt.otherSE=_t,this.rings=Mt,this.windings=kt}return Ec(vt,null,[{key:"compare",value:function(_t,xt){var Mt=_t.leftSE.point.x,kt=xt.leftSE.point.x,It=_t.rightSE.point.x,Rt=xt.rightSE.point.x;if(Rt<Mt)return 1;if(It<kt)return-1;var Ut=_t.leftSE.point.y,Wt=xt.leftSE.point.y,qt=_t.rightSE.point.y,on=xt.rightSE.point.y;if(Mt<kt){if(Wt<Ut&&Wt<qt)return 1;if(Wt>Ut&&Wt>qt)return-1;var Jt=_t.comparePoint(xt.leftSE.point);if(Jt<0)return 1;if(Jt>0)return-1;var un=xt.comparePoint(_t.rightSE.point);return un!==0?un:-1}if(Mt>kt){if(Ut<Wt&&Ut<on)return-1;if(Ut>Wt&&Ut>on)return 1;var En=xt.comparePoint(_t.leftSE.point);if(En!==0)return En;var Tn=_t.comparePoint(xt.rightSE.point);return Tn<0?1:Tn>0?-1:1}if(Ut<Wt)return-1;if(Ut>Wt)return 1;if(It<Rt){var In=xt.comparePoint(_t.rightSE.point);if(In!==0)return In}if(It>Rt){var mn=_t.comparePoint(xt.rightSE.point);if(mn<0)return 1;if(mn>0)return-1}if(It!==Rt){var Wn=qt-Ut,pr=It-Mt,kn=on-Wt,Vn=Rt-kt;if(Wn>pr&&kn<Vn)return 1;if(Wn<pr&&kn>Vn)return-1}return It>Rt?1:It<Rt||qt<on?-1:qt>on?1:_t.id<xt.id?-1:_t.id>xt.id?1:0}}]),Ec(vt,[{key:"replaceRightSE",value:function(_t){this.rightSE=_t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}},{key:"bbox",value:function(){var _t=this.leftSE.point.y,xt=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:_t<xt?_t:xt},ur:{x:this.rightSE.point.x,y:_t>xt?_t:xt}}}},{key:"vector",value:function(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}},{key:"isAnEndpoint",value:function(_t){return _t.x===this.leftSE.point.x&&_t.y===this.leftSE.point.y||_t.x===this.rightSE.point.x&&_t.y===this.rightSE.point.y}},{key:"comparePoint",value:function(_t){if(this.isAnEndpoint(_t))return 0;var xt=this.leftSE.point,Mt=this.rightSE.point,kt=this.vector();if(xt.x===Mt.x)return _t.x===xt.x?0:_t.x<xt.x?1:-1;var It=(_t.y-xt.y)/kt.y,Rt=xt.x+It*kt.x;if(_t.x===Rt)return 0;var Ut=(_t.x-xt.x)/kt.x,Wt=xt.y+Ut*kt.y;return _t.y===Wt?0:_t.y<Wt?-1:1}},{key:"getIntersection",value:function(_t){var xt=this.bbox(),Mt=_t.bbox(),kt=em(xt,Mt);if(kt===null)return null;var It=this.leftSE.point,Rt=this.rightSE.point,Ut=_t.leftSE.point,Wt=_t.rightSE.point,qt=Xp(xt,Ut)&&this.comparePoint(Ut)===0,on=Xp(Mt,It)&&_t.comparePoint(It)===0,Jt=Xp(xt,Wt)&&this.comparePoint(Wt)===0,un=Xp(Mt,Rt)&&_t.comparePoint(Rt)===0;if(on&&qt)return un&&!Jt?Rt:!un&&Jt?Wt:null;if(on)return Jt&&It.x===Wt.x&&It.y===Wt.y?null:It;if(qt)return un&&Rt.x===Ut.x&&Rt.y===Ut.y?null:Ut;if(un&&Jt)return null;if(un)return Rt;if(Jt)return Wt;var En=function(Tn,In,mn,Wn){if(In.x===0)return cy(mn,Wn,Tn.x);if(Wn.x===0)return cy(Tn,In,mn.x);if(In.y===0)return ly(mn,Wn,Tn.y);if(Wn.y===0)return ly(Tn,In,mn.y);var pr=Kp(In,Wn);if(pr==0)return null;var kn={x:mn.x-Tn.x,y:mn.y-Tn.y},Vn=Kp(kn,In)/pr,Qn=Kp(kn,Wn)/pr;return{x:(Tn.x+Qn*In.x+(mn.x+Vn*Wn.x))/2,y:(Tn.y+Qn*In.y+(mn.y+Vn*Wn.y))/2}}(It,this.vector(),Ut,_t.vector());return En===null?null:Xp(kt,En)?Zp.round(En.x,En.y):null}},{key:"split",value:function(_t){var xt=[],Mt=_t.events!==void 0,kt=new Lh(_t,!0),It=new Lh(_t,!1),Rt=this.rightSE;this.replaceRightSE(It),xt.push(It),xt.push(kt);var Ut=new vt(kt,Rt,this.rings.slice(),this.windings.slice());return Lh.comparePoints(Ut.leftSE.point,Ut.rightSE.point)>0&&Ut.swapEvents(),Lh.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),Mt&&(kt.checkForConsuming(),It.checkForConsuming()),xt}},{key:"swapEvents",value:function(){var _t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=_t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(var xt=0,Mt=this.windings.length;xt<Mt;xt++)this.windings[xt]*=-1}},{key:"consume",value:function(_t){for(var xt=this,Mt=_t;xt.consumedBy;)xt=xt.consumedBy;for(;Mt.consumedBy;)Mt=Mt.consumedBy;var kt=vt.compare(xt,Mt);if(kt!==0){if(kt>0){var It=xt;xt=Mt,Mt=It}if(xt.prev===Mt){var Rt=xt;xt=Mt,Mt=Rt}for(var Ut=0,Wt=Mt.rings.length;Ut<Wt;Ut++){var qt=Mt.rings[Ut],on=Mt.windings[Ut],Jt=xt.rings.indexOf(qt);Jt===-1?(xt.rings.push(qt),xt.windings.push(on)):xt.windings[Jt]+=on}Mt.rings=null,Mt.windings=null,Mt.consumedBy=xt,Mt.leftSE.consumedBy=xt.leftSE,Mt.rightSE.consumedBy=xt.rightSE}}},{key:"prevInResult",value:function(){return this._prevInResult!==void 0||(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null),this._prevInResult}},{key:"beforeState",value:function(){if(this._beforeState!==void 0)return this._beforeState;if(this.prev){var _t=this.prev.consumedBy||this.prev;this._beforeState=_t.afterState()}else this._beforeState={rings:[],windings:[],multiPolys:[]};return this._beforeState}},{key:"afterState",value:function(){if(this._afterState!==void 0)return this._afterState;var _t=this.beforeState();this._afterState={rings:_t.rings.slice(0),windings:_t.windings.slice(0),multiPolys:[]};for(var xt=this._afterState.rings,Mt=this._afterState.windings,kt=this._afterState.multiPolys,It=0,Rt=this.rings.length;It<Rt;It++){var Ut=this.rings[It],Wt=this.windings[It],qt=xt.indexOf(Ut);qt===-1?(xt.push(Ut),Mt.push(Wt)):Mt[qt]+=Wt}for(var on=[],Jt=[],un=0,En=xt.length;un<En;un++)if(Mt[un]!==0){var Tn=xt[un],In=Tn.poly;if(Jt.indexOf(In)===-1)if(Tn.isExterior)on.push(In);else{Jt.indexOf(In)===-1&&Jt.push(In);var mn=on.indexOf(Tn.poly);mn!==-1&&on.splice(mn,1)}}for(var Wn=0,pr=on.length;Wn<pr;Wn++){var kn=on[Wn].multiPoly;kt.indexOf(kn)===-1&&kt.push(kn)}return this._afterState}},{key:"isInResult",value:function(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;var _t=this.beforeState().multiPolys,xt=this.afterState().multiPolys;switch(lh.type){case"union":var Mt=_t.length===0,kt=xt.length===0;this._isInResult=Mt!==kt;break;case"intersection":var It,Rt;_t.length<xt.length?(It=_t.length,Rt=xt.length):(It=xt.length,Rt=_t.length),this._isInResult=Rt===lh.numMultiPolys&&It<Rt;break;case"xor":var Ut=Math.abs(_t.length-xt.length);this._isInResult=Ut%2==1;break;case"difference":var Wt=function(qt){return qt.length===1&&qt[0].isSubject};this._isInResult=Wt(_t)!==Wt(xt);break;default:throw new Error("Unrecognized operation type found ".concat(lh.type))}return this._isInResult}}],[{key:"fromRing",value:function(_t,xt,Mt){var kt,It,Rt,Ut=Lh.comparePoints(_t,xt);if(Ut<0)kt=_t,It=xt,Rt=1;else{if(!(Ut>0))throw new Error("Tried to create degenerate segment at [".concat(_t.x,", ").concat(_t.y,"]"));kt=xt,It=_t,Rt=-1}return new vt(new Lh(kt,!0),new Lh(It,!1),[Mt],[Rt])}}]),vt}(),uy=function(){function vt(_t,xt,Mt){if(Pc(this,vt),!Array.isArray(_t)||_t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=xt,this.isExterior=Mt,this.segments=[],typeof _t[0][0]!="number"||typeof _t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var kt=Zp.round(_t[0][0],_t[0][1]);this.bbox={ll:{x:kt.x,y:kt.y},ur:{x:kt.x,y:kt.y}};for(var It=kt,Rt=1,Ut=_t.length;Rt<Ut;Rt++){if(typeof _t[Rt][0]!="number"||typeof _t[Rt][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");var Wt=Zp.round(_t[Rt][0],_t[Rt][1]);Wt.x===It.x&&Wt.y===It.y||(this.segments.push(rm.fromRing(It,Wt,this)),Wt.x<this.bbox.ll.x&&(this.bbox.ll.x=Wt.x),Wt.y<this.bbox.ll.y&&(this.bbox.ll.y=Wt.y),Wt.x>this.bbox.ur.x&&(this.bbox.ur.x=Wt.x),Wt.y>this.bbox.ur.y&&(this.bbox.ur.y=Wt.y),It=Wt)}kt.x===It.x&&kt.y===It.y||this.segments.push(rm.fromRing(It,kt,this))}return Ec(vt,[{key:"getSweepEvents",value:function(){for(var _t=[],xt=0,Mt=this.segments.length;xt<Mt;xt++){var kt=this.segments[xt];_t.push(kt.leftSE),_t.push(kt.rightSE)}return _t}}]),vt}(),Xv=function(){function vt(_t,xt){if(Pc(this,vt),!Array.isArray(_t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new uy(_t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(var Mt=1,kt=_t.length;Mt<kt;Mt++){var It=new uy(_t[Mt],this,!1);It.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=It.bbox.ll.x),It.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=It.bbox.ll.y),It.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=It.bbox.ur.x),It.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=It.bbox.ur.y),this.interiorRings.push(It)}this.multiPoly=xt}return Ec(vt,[{key:"getSweepEvents",value:function(){for(var _t=this.exteriorRing.getSweepEvents(),xt=0,Mt=this.interiorRings.length;xt<Mt;xt++)for(var kt=this.interiorRings[xt].getSweepEvents(),It=0,Rt=kt.length;It<Rt;It++)_t.push(kt[It]);return _t}}]),vt}(),hy=function(){function vt(_t,xt){if(Pc(this,vt),!Array.isArray(_t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof _t[0][0][0]=="number"&&(_t=[_t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(var Mt=0,kt=_t.length;Mt<kt;Mt++){var It=new Xv(_t[Mt],this);It.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=It.bbox.ll.x),It.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=It.bbox.ll.y),It.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=It.bbox.ur.x),It.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=It.bbox.ur.y),this.polys.push(It)}this.isSubject=xt}return Ec(vt,[{key:"getSweepEvents",value:function(){for(var _t=[],xt=0,Mt=this.polys.length;xt<Mt;xt++)for(var kt=this.polys[xt].getSweepEvents(),It=0,Rt=kt.length;It<Rt;It++)_t.push(kt[It]);return _t}}]),vt}(),dy=function(){function vt(_t){Pc(this,vt),this.events=_t;for(var xt=0,Mt=_t.length;xt<Mt;xt++)_t[xt].segment.ringOut=this;this.poly=null}return Ec(vt,null,[{key:"factory",value:function(_t){for(var xt=[],Mt=0,kt=_t.length;Mt<kt;Mt++){var It=_t[Mt];if(It.isInResult()&&!It.ringOut){for(var Rt=null,Ut=It.leftSE,Wt=It.rightSE,qt=[Ut],on=Ut.point,Jt=[];Rt=Ut,Ut=Wt,qt.push(Ut),Ut.point!==on;)for(;;){var un=Ut.getAvailableLinkedEvents();if(un.length===0){var En=qt[0].point,Tn=qt[qt.length-1].point;throw new Error("Unable to complete output ring starting at [".concat(En.x,",")+" ".concat(En.y,"]. Last matching segment found ends at")+" [".concat(Tn.x,", ").concat(Tn.y,"]."))}if(un.length===1){Wt=un[0].otherSE;break}for(var In=null,mn=0,Wn=Jt.length;mn<Wn;mn++)if(Jt[mn].point===Ut.point){In=mn;break}if(In===null){Jt.push({index:qt.length,point:Ut.point});var pr=Ut.getLeftmostComparator(Rt);Wt=un.sort(pr)[0].otherSE;break}var kn=Jt.splice(In)[0],Vn=qt.splice(kn.index);Vn.unshift(Vn[0].otherSE),xt.push(new vt(Vn.reverse()))}xt.push(new vt(qt))}}return xt}}]),Ec(vt,[{key:"getGeom",value:function(){for(var _t=this.events[0].point,xt=[_t],Mt=1,kt=this.events.length-1;Mt<kt;Mt++){var It=this.events[Mt].point,Rt=this.events[Mt+1].point;ay(It,_t,Rt)!==0&&(xt.push(It),_t=It)}if(xt.length===1)return null;var Ut=xt[0],Wt=xt[1];ay(Ut,_t,Wt)===0&&xt.shift(),xt.push(xt[0]);for(var qt=this.isExteriorRing()?1:-1,on=this.isExteriorRing()?0:xt.length-1,Jt=this.isExteriorRing()?xt.length:-1,un=[],En=on;En!=Jt;En+=qt)un.push([xt[En].x,xt[En].y]);return un}},{key:"isExteriorRing",value:function(){if(this._isExteriorRing===void 0){var _t=this.enclosingRing();this._isExteriorRing=!_t||!_t.isExteriorRing()}return this._isExteriorRing}},{key:"enclosingRing",value:function(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}},{key:"_calcEnclosingRing",value:function(){for(var _t=this.events[0],xt=1,Mt=this.events.length;xt<Mt;xt++){var kt=this.events[xt];Lh.compare(_t,kt)>0&&(_t=kt)}for(var It=_t.segment.prevInResult(),Rt=It?It.prevInResult():null;;){if(!It)return null;if(!Rt)return It.ringOut;if(Rt.ringOut!==It.ringOut)return Rt.ringOut.enclosingRing()!==It.ringOut?It.ringOut:It.ringOut.enclosingRing();It=Rt.prevInResult(),Rt=It?It.prevInResult():null}}}]),vt}(),fy=function(){function vt(_t){Pc(this,vt),this.exteriorRing=_t,_t.poly=this,this.interiorRings=[]}return Ec(vt,[{key:"addInterior",value:function(_t){this.interiorRings.push(_t),_t.poly=this}},{key:"getGeom",value:function(){var _t=[this.exteriorRing.getGeom()];if(_t[0]===null)return null;for(var xt=0,Mt=this.interiorRings.length;xt<Mt;xt++){var kt=this.interiorRings[xt].getGeom();kt!==null&&_t.push(kt)}return _t}}]),vt}(),Zv=function(){function vt(_t){Pc(this,vt),this.rings=_t,this.polys=this._composePolys(_t)}return Ec(vt,[{key:"getGeom",value:function(){for(var _t=[],xt=0,Mt=this.polys.length;xt<Mt;xt++){var kt=this.polys[xt].getGeom();kt!==null&&_t.push(kt)}return _t}},{key:"_composePolys",value:function(_t){for(var xt=[],Mt=0,kt=_t.length;Mt<kt;Mt++){var It=_t[Mt];if(!It.poly)if(It.isExteriorRing())xt.push(new fy(It));else{var Rt=It.enclosingRing();Rt.poly||xt.push(new fy(Rt)),Rt.poly.addInterior(It)}}return xt}}]),vt}(),Kv=function(){function vt(_t){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:rm.compare;Pc(this,vt),this.queue=_t,this.tree=new S0(xt),this.segments=[]}return Ec(vt,[{key:"process",value:function(_t){var xt=_t.segment,Mt=[];if(_t.consumedBy)return _t.isLeft?this.queue.remove(_t.otherSE):this.tree.remove(xt),Mt;var kt=_t.isLeft?this.tree.insert(xt):this.tree.find(xt);if(!kt)throw new Error("Unable to find segment #".concat(xt.id," ")+"[".concat(xt.leftSE.point.x,", ").concat(xt.leftSE.point.y,"] -> ")+"[".concat(xt.rightSE.point.x,", ").concat(xt.rightSE.point.y,"] ")+"in SweepLine tree. Please submit a bug report.");for(var It=kt,Rt=kt,Ut=void 0,Wt=void 0;Ut===void 0;)(It=this.tree.prev(It))===null?Ut=null:It.key.consumedBy===void 0&&(Ut=It.key);for(;Wt===void 0;)(Rt=this.tree.next(Rt))===null?Wt=null:Rt.key.consumedBy===void 0&&(Wt=Rt.key);if(_t.isLeft){var qt=null;if(Ut){var on=Ut.getIntersection(xt);if(on!==null&&(xt.isAnEndpoint(on)||(qt=on),!Ut.isAnEndpoint(on)))for(var Jt=this._splitSafely(Ut,on),un=0,En=Jt.length;un<En;un++)Mt.push(Jt[un])}var Tn=null;if(Wt){var In=Wt.getIntersection(xt);if(In!==null&&(xt.isAnEndpoint(In)||(Tn=In),!Wt.isAnEndpoint(In)))for(var mn=this._splitSafely(Wt,In),Wn=0,pr=mn.length;Wn<pr;Wn++)Mt.push(mn[Wn])}if(qt!==null||Tn!==null){var kn=null;qt===null?kn=Tn:Tn===null?kn=qt:kn=Lh.comparePoints(qt,Tn)<=0?qt:Tn,this.queue.remove(xt.rightSE),Mt.push(xt.rightSE);for(var Vn=xt.split(kn),Qn=0,ir=Vn.length;Qn<ir;Qn++)Mt.push(Vn[Qn])}Mt.length>0?(this.tree.remove(xt),Mt.push(_t)):(this.segments.push(xt),xt.prev=Ut)}else{if(Ut&&Wt){var Jn=Ut.getIntersection(Wt);if(Jn!==null){if(!Ut.isAnEndpoint(Jn))for(var oi=this._splitSafely(Ut,Jn),Gr=0,li=oi.length;Gr<li;Gr++)Mt.push(oi[Gr]);if(!Wt.isAnEndpoint(Jn))for(var qr=this._splitSafely(Wt,Jn),fi=0,ti=qr.length;fi<ti;fi++)Mt.push(qr[fi])}}this.tree.remove(xt)}return Mt}},{key:"_splitSafely",value:function(_t,xt){this.tree.remove(_t);var Mt=_t.rightSE;this.queue.remove(Mt);var kt=_t.split(xt);return kt.push(Mt),_t.consumedBy===void 0&&this.tree.insert(_t),kt}}]),vt}(),py=typeof process<"u"&&{version:"2.0.0-beta.45"}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,Jv=typeof process<"u"&&{version:"2.0.0-beta.45"}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6,lh=new(function(){function vt(){Pc(this,vt)}return Ec(vt,[{key:"run",value:function(_t,xt,Mt){lh.type=_t,Zp.reset();for(var kt=[new hy(xt,!0)],It=0,Rt=Mt.length;It<Rt;It++)kt.push(new hy(Mt[It],!1));if(lh.numMultiPolys=kt.length,lh.type==="difference")for(var Ut=kt[0],Wt=1;Wt<kt.length;)em(kt[Wt].bbox,Ut.bbox)!==null?Wt++:kt.splice(Wt,1);if(lh.type==="intersection"){for(var qt=0,on=kt.length;qt<on;qt++)for(var Jt=kt[qt],un=qt+1,En=kt.length;un<En;un++)if(em(Jt.bbox,kt[un].bbox)===null)return[]}for(var Tn=new S0(Lh.compare),In=0,mn=kt.length;In<mn;In++)for(var Wn=kt[In].getSweepEvents(),pr=0,kn=Wn.length;pr<kn;pr++)if(Tn.insert(Wn[pr]),Tn.size>py)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big). Please file a bug report.");for(var Vn=new Kv(Tn),Qn=Tn.size,ir=Tn.pop();ir;){var Jn=ir.key;if(Tn.size===Qn){var oi=Jn.segment;throw new Error("Unable to pop() ".concat(Jn.isLeft?"left":"right"," SweepEvent ")+"[".concat(Jn.point.x,", ").concat(Jn.point.y,"] from segment #").concat(oi.id," ")+"[".concat(oi.leftSE.point.x,", ").concat(oi.leftSE.point.y,"] -> ")+"[".concat(oi.rightSE.point.x,", ").concat(oi.rightSE.point.y,"] from queue. ")+"Please file a bug report.")}if(Tn.size>py)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big). Please file a bug report.");if(Vn.segments.length>Jv)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments). Please file a bug report.");for(var Gr=Vn.process(Jn),li=0,qr=Gr.length;li<qr;li++){var fi=Gr[li];fi.consumedBy===void 0&&Tn.insert(fi)}Qn=Tn.size,ir=Tn.pop()}Zp.reset();var ti=dy.factory(Vn.segments);return new Zv(ti).getGeom()}}]),vt}()),rd={union:function(vt){for(var _t=arguments.length,xt=new Array(_t>1?_t-1:0),Mt=1;Mt<_t;Mt++)xt[Mt-1]=arguments[Mt];return lh.run("union",vt,xt)},intersection:function(vt){for(var _t=arguments.length,xt=new Array(_t>1?_t-1:0),Mt=1;Mt<_t;Mt++)xt[Mt-1]=arguments[Mt];return lh.run("intersection",vt,xt)},xor:function(vt){for(var _t=arguments.length,xt=new Array(_t>1?_t-1:0),Mt=1;Mt<_t;Mt++)xt[Mt-1]=arguments[Mt];return lh.run("xor",vt,xt)},difference:function(vt){for(var _t=arguments.length,xt=new Array(_t>1?_t-1:0),Mt=1;Mt<_t;Mt++)xt[Mt-1]=arguments[Mt];return lh.run("difference",vt,xt)}};"fill"in Array.prototype||Object.defineProperty(Array.prototype,"fill",{configurable:!0,value:function(vt){if(this==null)throw new TypeError(this+" is not an object");var _t=Object(this),xt=Math.max(Math.min(_t.length,9007199254740991),0)||0,Mt=1 in arguments&&parseInt(Number(arguments[1]),10)||0;Mt=Mt<0?Math.max(xt+Mt,0):Math.min(Mt,xt);var kt=2 in arguments&&arguments[2]!==void 0?parseInt(Number(arguments[2]),10)||0:xt;for(kt=kt<0?Math.max(xt+arguments[2],0):Math.min(kt,xt);Mt<kt;)_t[Mt]=vt,++Mt;return _t},writable:!0}),Number.isFinite=Number.isFinite||function(vt){return typeof vt=="number"&&isFinite(vt)},Number.isInteger=Number.isInteger||function(vt){return typeof vt=="number"&&isFinite(vt)&&Math.floor(vt)===vt},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(vt){return vt!=vt},Math.trunc=Math.trunc||function(vt){return vt<0?Math.ceil(vt):Math.floor(vt)};var of=function(){};of.prototype.interfaces_=function(){return[]},of.prototype.getClass=function(){return of},of.prototype.equalsWithTolerance=function(vt,_t,xt){return Math.abs(vt-_t)<=xt};var Ss=function(vt){function _t(xt){vt.call(this,xt),this.name="IllegalArgumentException",this.message=xt,this.stack=new vt().stack}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t}(Error),jo=function(){},gy={MAX_VALUE:{configurable:!0}};jo.isNaN=function(vt){return Number.isNaN(vt)},jo.doubleToLongBits=function(vt){return vt},jo.longBitsToDouble=function(vt){return vt},jo.isInfinite=function(vt){return!Number.isFinite(vt)},gy.MAX_VALUE.get=function(){return Number.MAX_VALUE},Object.defineProperties(jo,gy);var Jc=function(){},Jp=function(){},Zf=function(){};function eu(){}var Xr=function vt(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)this.x=0,this.y=0,this.z=vt.NULL_ORDINATE;else if(arguments.length===1){var _t=arguments[0];this.x=_t.x,this.y=_t.y,this.z=_t.z}else arguments.length===2?(this.x=arguments[0],this.y=arguments[1],this.z=vt.NULL_ORDINATE):arguments.length===3&&(this.x=arguments[0],this.y=arguments[1],this.z=arguments[2])},af={DimensionalComparator:{configurable:!0},serialVersionUID:{configurable:!0},NULL_ORDINATE:{configurable:!0},X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0}};Xr.prototype.setOrdinate=function(vt,_t){switch(vt){case Xr.X:this.x=_t;break;case Xr.Y:this.y=_t;break;case Xr.Z:this.z=_t;break;default:throw new Ss("Invalid ordinate index: "+vt)}},Xr.prototype.equals2D=function(){if(arguments.length===1){var vt=arguments[0];return this.x===vt.x&&this.y===vt.y}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return!!of.equalsWithTolerance(this.x,_t.x,xt)&&!!of.equalsWithTolerance(this.y,_t.y,xt)}},Xr.prototype.getOrdinate=function(vt){switch(vt){case Xr.X:return this.x;case Xr.Y:return this.y;case Xr.Z:return this.z}throw new Ss("Invalid ordinate index: "+vt)},Xr.prototype.equals3D=function(vt){return this.x===vt.x&&this.y===vt.y&&(this.z===vt.z||jo.isNaN(this.z))&&jo.isNaN(vt.z)},Xr.prototype.equals=function(vt){return vt instanceof Xr&&this.equals2D(vt)},Xr.prototype.equalInZ=function(vt,_t){return of.equalsWithTolerance(this.z,vt.z,_t)},Xr.prototype.compareTo=function(vt){var _t=vt;return this.x<_t.x?-1:this.x>_t.x?1:this.y<_t.y?-1:this.y>_t.y?1:0},Xr.prototype.clone=function(){},Xr.prototype.copy=function(){return new Xr(this)},Xr.prototype.toString=function(){return"("+this.x+", "+this.y+", "+this.z+")"},Xr.prototype.distance3D=function(vt){var _t=this.x-vt.x,xt=this.y-vt.y,Mt=this.z-vt.z;return Math.sqrt(_t*_t+xt*xt+Mt*Mt)},Xr.prototype.distance=function(vt){var _t=this.x-vt.x,xt=this.y-vt.y;return Math.sqrt(_t*_t+xt*xt)},Xr.prototype.hashCode=function(){var vt=17;return vt=37*(vt=37*vt+Xr.hashCode(this.x))+Xr.hashCode(this.y)},Xr.prototype.setCoordinate=function(vt){this.x=vt.x,this.y=vt.y,this.z=vt.z},Xr.prototype.interfaces_=function(){return[Jc,Jp,eu]},Xr.prototype.getClass=function(){return Xr},Xr.hashCode=function(){if(arguments.length===1){var vt=arguments[0],_t=jo.doubleToLongBits(vt);return Math.trunc((_t^_t)>>>32)}},af.DimensionalComparator.get=function(){return od},af.serialVersionUID.get=function(){return 6683108902428367e3},af.NULL_ORDINATE.get=function(){return jo.NaN},af.X.get=function(){return 0},af.Y.get=function(){return 1},af.Z.get=function(){return 2},Object.defineProperties(Xr,af);var od=function(vt){if(this._dimensionsToTest=2,arguments.length!==0){if(arguments.length===1){var _t=arguments[0];if(_t!==2&&_t!==3)throw new Ss("only 2 or 3 dimensions may be specified");this._dimensionsToTest=_t}}};od.prototype.compare=function(vt,_t){var xt=vt,Mt=_t,kt=od.compare(xt.x,Mt.x);if(kt!==0)return kt;var It=od.compare(xt.y,Mt.y);return It!==0?It:this._dimensionsToTest<=2?0:od.compare(xt.z,Mt.z)},od.prototype.interfaces_=function(){return[Zf]},od.prototype.getClass=function(){return od},od.compare=function(vt,_t){return vt<_t?-1:vt>_t?1:jo.isNaN(vt)?jo.isNaN(_t)?0:-1:jo.isNaN(_t)?1:0};var Kf=function(){};Kf.prototype.create=function(){},Kf.prototype.interfaces_=function(){return[]},Kf.prototype.getClass=function(){return Kf};var ai=function(){},eg={INTERIOR:{configurable:!0},BOUNDARY:{configurable:!0},EXTERIOR:{configurable:!0},NONE:{configurable:!0}};ai.prototype.interfaces_=function(){return[]},ai.prototype.getClass=function(){return ai},ai.toLocationSymbol=function(vt){switch(vt){case ai.EXTERIOR:return"e";case ai.BOUNDARY:return"b";case ai.INTERIOR:return"i";case ai.NONE:return"-"}throw new Ss("Unknown location value: "+vt)},eg.INTERIOR.get=function(){return 0},eg.BOUNDARY.get=function(){return 1},eg.EXTERIOR.get=function(){return 2},eg.NONE.get=function(){return-1},Object.defineProperties(ai,eg);var Do=function(vt,_t){return vt.interfaces_&&vt.interfaces_().indexOf(_t)>-1},Rc=function(){},my={LOG_10:{configurable:!0}};Rc.prototype.interfaces_=function(){return[]},Rc.prototype.getClass=function(){return Rc},Rc.log10=function(vt){var _t=Math.log(vt);return jo.isInfinite(_t)||jo.isNaN(_t)?_t:_t/Rc.LOG_10},Rc.min=function(vt,_t,xt,Mt){var kt=vt;return _t<kt&&(kt=_t),xt<kt&&(kt=xt),Mt<kt&&(kt=Mt),kt},Rc.clamp=function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var vt=arguments[0],_t=arguments[1],xt=arguments[2];return vt<_t?_t:vt>xt?xt:vt}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Mt=arguments[0],kt=arguments[1],It=arguments[2];return Mt<kt?kt:Mt>It?It:Mt}},Rc.wrap=function(vt,_t){return vt<0?_t- -vt%_t:vt%_t},Rc.max=function(){if(arguments.length===3){var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=vt;return _t>Mt&&(Mt=_t),xt>Mt&&(Mt=xt),Mt}if(arguments.length===4){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=arguments[3],Wt=kt;return It>Wt&&(Wt=It),Rt>Wt&&(Wt=Rt),Ut>Wt&&(Wt=Ut),Wt}},Rc.average=function(vt,_t){return(vt+_t)/2},my.LOG_10.get=function(){return Math.log(10)},Object.defineProperties(Rc,my);var Bu=function(vt){this.str=vt};Bu.prototype.append=function(vt){this.str+=vt},Bu.prototype.setCharAt=function(vt,_t){this.str=this.str.substr(0,vt)+_t+this.str.substr(vt+1)},Bu.prototype.toString=function(vt){return this.str};var ju=function(vt){this.value=vt};ju.prototype.intValue=function(){return this.value},ju.prototype.compareTo=function(vt){return this.value<vt?-1:this.value>vt?1:0},ju.isNaN=function(vt){return Number.isNaN(vt)};var tg=function(){};tg.isWhitespace=function(vt){return vt<=32&&vt>=0||vt===127},tg.toUpperCase=function(vt){return vt.toUpperCase()};var di=function vt(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var _t=arguments[0];this.init(_t)}else if(arguments[0]instanceof vt){var xt=arguments[0];this.init(xt)}else if(typeof arguments[0]=="string"){var Mt=arguments[0];vt.call(this,vt.parse(Mt))}}else if(arguments.length===2){var kt=arguments[0],It=arguments[1];this.init(kt,It)}},yu={PI:{configurable:!0},TWO_PI:{configurable:!0},PI_2:{configurable:!0},E:{configurable:!0},NaN:{configurable:!0},EPS:{configurable:!0},SPLIT:{configurable:!0},MAX_PRINT_DIGITS:{configurable:!0},TEN:{configurable:!0},ONE:{configurable:!0},SCI_NOT_EXPONENT_CHAR:{configurable:!0},SCI_NOT_ZERO:{configurable:!0}};di.prototype.le=function(vt){return(this._hi<vt._hi||this._hi===vt._hi)&&this._lo<=vt._lo},di.prototype.extractSignificantDigits=function(vt,_t){var xt=this.abs(),Mt=di.magnitude(xt._hi),kt=di.TEN.pow(Mt);(xt=xt.divide(kt)).gt(di.TEN)?(xt=xt.divide(di.TEN),Mt+=1):xt.lt(di.ONE)&&(xt=xt.multiply(di.TEN),Mt-=1);for(var It=Mt+1,Rt=new Bu,Ut=di.MAX_PRINT_DIGITS-1,Wt=0;Wt<=Ut;Wt++){vt&&Wt===It&&Rt.append(".");var qt=Math.trunc(xt._hi);if(qt<0)break;var on=!1,Jt=0;qt>9?(on=!0,Jt="9"):Jt="0"+qt,Rt.append(Jt),xt=xt.subtract(di.valueOf(qt)).multiply(di.TEN),on&&xt.selfAdd(di.TEN);var un=!0,En=di.magnitude(xt._hi);if(En<0&&Math.abs(En)>=Ut-Wt&&(un=!1),!un)break}return _t[0]=Mt,Rt.toString()},di.prototype.sqr=function(){return this.multiply(this)},di.prototype.doubleValue=function(){return this._hi+this._lo},di.prototype.subtract=function(){if(arguments[0]instanceof di){var vt=arguments[0];return this.add(vt.negate())}if(typeof arguments[0]=="number"){var _t=arguments[0];return this.add(-_t)}},di.prototype.equals=function(){if(arguments.length===1){var vt=arguments[0];return this._hi===vt._hi&&this._lo===vt._lo}},di.prototype.isZero=function(){return this._hi===0&&this._lo===0},di.prototype.selfSubtract=function(){if(arguments[0]instanceof di){var vt=arguments[0];return this.isNaN()?this:this.selfAdd(-vt._hi,-vt._lo)}if(typeof arguments[0]=="number"){var _t=arguments[0];return this.isNaN()?this:this.selfAdd(-_t,0)}},di.prototype.getSpecialNumberString=function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},di.prototype.min=function(vt){return this.le(vt)?this:vt},di.prototype.selfDivide=function(){if(arguments.length===1){if(arguments[0]instanceof di){var vt=arguments[0];return this.selfDivide(vt._hi,vt._lo)}if(typeof arguments[0]=="number"){var _t=arguments[0];return this.selfDivide(_t,0)}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=null,It=null,Rt=null,Ut=null,Wt=null,qt=null,on=null,Jt=null;return Wt=this._hi/xt,Jt=(kt=(qt=di.SPLIT*Wt)-(kt=qt-Wt))*(Rt=(Jt=di.SPLIT*xt)-(Rt=Jt-xt))-(on=Wt*xt)+kt*(Ut=xt-Rt)+(It=Wt-kt)*Rt+It*Ut,Jt=Wt+(qt=(this._hi-on-Jt+this._lo-Wt*Mt)/xt),this._hi=Jt,this._lo=Wt-Jt+qt,this}},di.prototype.dump=function(){return"DD<"+this._hi+", "+this._lo+">"},di.prototype.divide=function(){if(arguments[0]instanceof di){var vt=arguments[0],_t=null,xt=null,Mt=null,kt=null,It=null,Rt=null,Ut=null,Wt=null;xt=(It=this._hi/vt._hi)-(_t=(Rt=di.SPLIT*It)-(_t=Rt-It)),Wt=_t*(Mt=(Wt=di.SPLIT*vt._hi)-(Mt=Wt-vt._hi))-(Ut=It*vt._hi)+_t*(kt=vt._hi-Mt)+xt*Mt+xt*kt;var qt=Wt=It+(Rt=(this._hi-Ut-Wt+this._lo-It*vt._lo)/vt._hi),on=It-Wt+Rt;return new di(qt,on)}if(typeof arguments[0]=="number"){var Jt=arguments[0];return jo.isNaN(Jt)?di.createNaN():di.copy(this).selfDivide(Jt,0)}},di.prototype.ge=function(vt){return(this._hi>vt._hi||this._hi===vt._hi)&&this._lo>=vt._lo},di.prototype.pow=function(vt){if(vt===0)return di.valueOf(1);var _t=new di(this),xt=di.valueOf(1),Mt=Math.abs(vt);if(Mt>1)for(;Mt>0;)Mt%2==1&&xt.selfMultiply(_t),(Mt/=2)>0&&(_t=_t.sqr());else xt=_t;return vt<0?xt.reciprocal():xt},di.prototype.ceil=function(){if(this.isNaN())return di.NaN;var vt=Math.ceil(this._hi),_t=0;return vt===this._hi&&(_t=Math.ceil(this._lo)),new di(vt,_t)},di.prototype.compareTo=function(vt){var _t=vt;return this._hi<_t._hi?-1:this._hi>_t._hi?1:this._lo<_t._lo?-1:this._lo>_t._lo?1:0},di.prototype.rint=function(){return this.isNaN()?this:this.add(.5).floor()},di.prototype.setValue=function(){if(arguments[0]instanceof di){var vt=arguments[0];return this.init(vt),this}if(typeof arguments[0]=="number"){var _t=arguments[0];return this.init(_t),this}},di.prototype.max=function(vt){return this.ge(vt)?this:vt},di.prototype.sqrt=function(){if(this.isZero())return di.valueOf(0);if(this.isNegative())return di.NaN;var vt=1/Math.sqrt(this._hi),_t=this._hi*vt,xt=di.valueOf(_t),Mt=this.subtract(xt.sqr())._hi*(.5*vt);return xt.add(Mt)},di.prototype.selfAdd=function(){if(arguments.length===1){if(arguments[0]instanceof di){var vt=arguments[0];return this.selfAdd(vt._hi,vt._lo)}if(typeof arguments[0]=="number"){var _t=arguments[0],xt=null,Mt=null,kt=null,It=null,Rt=null,Ut=null;return It=(kt=this._hi+_t)-(Rt=kt-this._hi),Mt=(Ut=(It=_t-Rt+(this._hi-It))+this._lo)+(kt-(xt=kt+Ut)),this._hi=xt+Mt,this._lo=Mt+(xt-this._hi),this}}else if(arguments.length===2){var Wt=arguments[0],qt=arguments[1],on=null,Jt=null,un=null,En=null,Tn=null,In=null,mn=null;En=this._hi+Wt,Jt=this._lo+qt,Tn=En-(In=En-this._hi),un=Jt-(mn=Jt-this._lo);var Wn=(on=En+(In=(Tn=Wt-In+(this._hi-Tn))+Jt))+(In=(un=qt-mn+(this._lo-un))+(In+(En-on))),pr=In+(on-Wn);return this._hi=Wn,this._lo=pr,this}},di.prototype.selfMultiply=function(){if(arguments.length===1){if(arguments[0]instanceof di){var vt=arguments[0];return this.selfMultiply(vt._hi,vt._lo)}if(typeof arguments[0]=="number"){var _t=arguments[0];return this.selfMultiply(_t,0)}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=null,It=null,Rt=null,Ut=null,Wt=null,qt=null;kt=(Wt=di.SPLIT*this._hi)-this._hi,qt=di.SPLIT*xt,kt=Wt-kt,It=this._hi-kt,Rt=qt-xt;var on=(Wt=this._hi*xt)+(qt=kt*(Rt=qt-Rt)-Wt+kt*(Ut=xt-Rt)+It*Rt+It*Ut+(this._hi*Mt+this._lo*xt)),Jt=qt+(kt=Wt-on);return this._hi=on,this._lo=Jt,this}},di.prototype.selfSqr=function(){return this.selfMultiply(this)},di.prototype.floor=function(){if(this.isNaN())return di.NaN;var vt=Math.floor(this._hi),_t=0;return vt===this._hi&&(_t=Math.floor(this._lo)),new di(vt,_t)},di.prototype.negate=function(){return this.isNaN()?this:new di(-this._hi,-this._lo)},di.prototype.clone=function(){},di.prototype.multiply=function(){if(arguments[0]instanceof di){var vt=arguments[0];return vt.isNaN()?di.createNaN():di.copy(this).selfMultiply(vt)}if(typeof arguments[0]=="number"){var _t=arguments[0];return jo.isNaN(_t)?di.createNaN():di.copy(this).selfMultiply(_t,0)}},di.prototype.isNaN=function(){return jo.isNaN(this._hi)},di.prototype.intValue=function(){return Math.trunc(this._hi)},di.prototype.toString=function(){var vt=di.magnitude(this._hi);return vt>=-3&&vt<=20?this.toStandardNotation():this.toSciNotation()},di.prototype.toStandardNotation=function(){var vt=this.getSpecialNumberString();if(vt!==null)return vt;var _t=new Array(1).fill(null),xt=this.extractSignificantDigits(!0,_t),Mt=_t[0]+1,kt=xt;if(xt.charAt(0)===".")kt="0"+xt;else if(Mt<0)kt="0."+di.stringOfChar("0",-Mt)+xt;else if(xt.indexOf(".")===-1){var It=Mt-xt.length;kt=xt+di.stringOfChar("0",It)+".0"}return this.isNegative()?"-"+kt:kt},di.prototype.reciprocal=function(){var vt,_t,xt,Mt,kt=null,It=null,Rt=null,Ut=null;vt=(xt=1/this._hi)-(kt=(Rt=di.SPLIT*xt)-(kt=Rt-xt)),It=(Ut=di.SPLIT*this._hi)-this._hi;var Wt=xt+(Rt=(1-(Mt=xt*this._hi)-(Ut=kt*(It=Ut-It)-Mt+kt*(_t=this._hi-It)+vt*It+vt*_t)-xt*this._lo)/this._hi);return new di(Wt,xt-Wt+Rt)},di.prototype.toSciNotation=function(){if(this.isZero())return di.SCI_NOT_ZERO;var vt=this.getSpecialNumberString();if(vt!==null)return vt;var _t=new Array(1).fill(null),xt=this.extractSignificantDigits(!1,_t),Mt=di.SCI_NOT_EXPONENT_CHAR+_t[0];if(xt.charAt(0)==="0")throw new Error("Found leading zero: "+xt);var kt="";xt.length>1&&(kt=xt.substring(1));var It=xt.charAt(0)+"."+kt;return this.isNegative()?"-"+It+Mt:It+Mt},di.prototype.abs=function(){return this.isNaN()?di.NaN:this.isNegative()?this.negate():new di(this)},di.prototype.isPositive=function(){return(this._hi>0||this._hi===0)&&this._lo>0},di.prototype.lt=function(vt){return(this._hi<vt._hi||this._hi===vt._hi)&&this._lo<vt._lo},di.prototype.add=function(){if(arguments[0]instanceof di){var vt=arguments[0];return di.copy(this).selfAdd(vt)}if(typeof arguments[0]=="number"){var _t=arguments[0];return di.copy(this).selfAdd(_t)}},di.prototype.init=function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var vt=arguments[0];this._hi=vt,this._lo=0}else if(arguments[0]instanceof di){var _t=arguments[0];this._hi=_t._hi,this._lo=_t._lo}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];this._hi=xt,this._lo=Mt}},di.prototype.gt=function(vt){return(this._hi>vt._hi||this._hi===vt._hi)&&this._lo>vt._lo},di.prototype.isNegative=function(){return(this._hi<0||this._hi===0)&&this._lo<0},di.prototype.trunc=function(){return this.isNaN()?di.NaN:this.isPositive()?this.floor():this.ceil()},di.prototype.signum=function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0},di.prototype.interfaces_=function(){return[eu,Jc,Jp]},di.prototype.getClass=function(){return di},di.sqr=function(vt){return di.valueOf(vt).selfMultiply(vt)},di.valueOf=function(){if(typeof arguments[0]=="string"){var vt=arguments[0];return di.parse(vt)}if(typeof arguments[0]=="number"){var _t=arguments[0];return new di(_t)}},di.sqrt=function(vt){return di.valueOf(vt).sqrt()},di.parse=function(vt){for(var _t=0,xt=vt.length;tg.isWhitespace(vt.charAt(_t));)_t++;var Mt=!1;if(_t<xt){var kt=vt.charAt(_t);kt!=="-"&&kt!=="+"||(_t++,kt==="-"&&(Mt=!0))}for(var It=new di,Rt=0,Ut=0,Wt=0;!(_t>=xt);){var qt=vt.charAt(_t);if(_t++,tg.isDigit(qt)){var on=qt-"0";It.selfMultiply(di.TEN),It.selfAdd(on),Rt++}else{if(qt!=="."){if(qt==="e"||qt==="E"){var Jt=vt.substring(_t);try{Wt=ju.parseInt(Jt)}catch(mn){throw mn instanceof Error?new Error("Invalid exponent "+Jt+" in string "+vt):mn}break}throw new Error("Unexpected character '"+qt+"' at position "+_t+" in string "+vt)}Ut=Rt}}var un=It,En=Rt-Ut-Wt;if(En===0)un=It;else if(En>0){var Tn=di.TEN.pow(En);un=It.divide(Tn)}else if(En<0){var In=di.TEN.pow(-En);un=It.multiply(In)}return Mt?un.negate():un},di.createNaN=function(){return new di(jo.NaN,jo.NaN)},di.copy=function(vt){return new di(vt)},di.magnitude=function(vt){var _t=Math.abs(vt),xt=Math.log(_t)/Math.log(10),Mt=Math.trunc(Math.floor(xt));return 10*Math.pow(10,Mt)<=_t&&(Mt+=1),Mt},di.stringOfChar=function(vt,_t){for(var xt=new Bu,Mt=0;Mt<_t;Mt++)xt.append(vt);return xt.toString()},yu.PI.get=function(){return new di(3.141592653589793,12246467991473532e-32)},yu.TWO_PI.get=function(){return new di(6.283185307179586,24492935982947064e-32)},yu.PI_2.get=function(){return new di(1.5707963267948966,6123233995736766e-32)},yu.E.get=function(){return new di(2.718281828459045,14456468917292502e-32)},yu.NaN.get=function(){return new di(jo.NaN,jo.NaN)},yu.EPS.get=function(){return 123259516440783e-46},yu.SPLIT.get=function(){return 134217729},yu.MAX_PRINT_DIGITS.get=function(){return 32},yu.TEN.get=function(){return di.valueOf(10)},yu.ONE.get=function(){return di.valueOf(1)},yu.SCI_NOT_EXPONENT_CHAR.get=function(){return"E"},yu.SCI_NOT_ZERO.get=function(){return"0.0E0"},Object.defineProperties(di,yu);var cc=function(){},yy={DP_SAFE_EPSILON:{configurable:!0}};cc.prototype.interfaces_=function(){return[]},cc.prototype.getClass=function(){return cc},cc.orientationIndex=function(vt,_t,xt){var Mt=cc.orientationIndexFilter(vt,_t,xt);if(Mt<=1)return Mt;var kt=di.valueOf(_t.x).selfAdd(-vt.x),It=di.valueOf(_t.y).selfAdd(-vt.y),Rt=di.valueOf(xt.x).selfAdd(-_t.x),Ut=di.valueOf(xt.y).selfAdd(-_t.y);return kt.selfMultiply(Ut).selfSubtract(It.selfMultiply(Rt)).signum()},cc.signOfDet2x2=function(vt,_t,xt,Mt){return vt.multiply(Mt).selfSubtract(_t.multiply(xt)).signum()},cc.intersection=function(vt,_t,xt,Mt){var kt=di.valueOf(Mt.y).selfSubtract(xt.y).selfMultiply(di.valueOf(_t.x).selfSubtract(vt.x)),It=di.valueOf(Mt.x).selfSubtract(xt.x).selfMultiply(di.valueOf(_t.y).selfSubtract(vt.y)),Rt=kt.subtract(It),Ut=di.valueOf(Mt.x).selfSubtract(xt.x).selfMultiply(di.valueOf(vt.y).selfSubtract(xt.y)),Wt=di.valueOf(Mt.y).selfSubtract(xt.y).selfMultiply(di.valueOf(vt.x).selfSubtract(xt.x)),qt=Ut.subtract(Wt).selfDivide(Rt).doubleValue(),on=di.valueOf(vt.x).selfAdd(di.valueOf(_t.x).selfSubtract(vt.x).selfMultiply(qt)).doubleValue(),Jt=di.valueOf(_t.x).selfSubtract(vt.x).selfMultiply(di.valueOf(vt.y).selfSubtract(xt.y)),un=di.valueOf(_t.y).selfSubtract(vt.y).selfMultiply(di.valueOf(vt.x).selfSubtract(xt.x)),En=Jt.subtract(un).selfDivide(Rt).doubleValue(),Tn=di.valueOf(xt.y).selfAdd(di.valueOf(Mt.y).selfSubtract(xt.y).selfMultiply(En)).doubleValue();return new Xr(on,Tn)},cc.orientationIndexFilter=function(vt,_t,xt){var Mt=null,kt=(vt.x-xt.x)*(_t.y-xt.y),It=(vt.y-xt.y)*(_t.x-xt.x),Rt=kt-It;if(kt>0){if(It<=0)return cc.signum(Rt);Mt=kt+It}else{if(!(kt<0)||It>=0)return cc.signum(Rt);Mt=-kt-It}var Ut=cc.DP_SAFE_EPSILON*Mt;return Rt>=Ut||-Rt>=Ut?cc.signum(Rt):2},cc.signum=function(vt){return vt>0?1:vt<0?-1:0},yy.DP_SAFE_EPSILON.get=function(){return 1e-15},Object.defineProperties(cc,yy);var Ma=function(){},ng={X:{configurable:!0},Y:{configurable:!0},Z:{configurable:!0},M:{configurable:!0}};ng.X.get=function(){return 0},ng.Y.get=function(){return 1},ng.Z.get=function(){return 2},ng.M.get=function(){return 3},Ma.prototype.setOrdinate=function(vt,_t,xt){},Ma.prototype.size=function(){},Ma.prototype.getOrdinate=function(vt,_t){},Ma.prototype.getCoordinate=function(){},Ma.prototype.getCoordinateCopy=function(vt){},Ma.prototype.getDimension=function(){},Ma.prototype.getX=function(vt){},Ma.prototype.clone=function(){},Ma.prototype.expandEnvelope=function(vt){},Ma.prototype.copy=function(){},Ma.prototype.getY=function(vt){},Ma.prototype.toCoordinateArray=function(){},Ma.prototype.interfaces_=function(){return[Jp]},Ma.prototype.getClass=function(){return Ma},Object.defineProperties(Ma,ng);var vy=function(){},sf=function(vt){function _t(){vt.call(this,"Projective point not representable on the Cartesian plane.")}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(vy),zl=function(){};zl.arraycopy=function(vt,_t,xt,Mt,kt){for(var It=0,Rt=_t;Rt<_t+kt;Rt++)xt[Mt+It]=vt[Rt],It++},zl.getProperty=function(vt){return{"line.separator":`
`}[vt]};var tu=function vt(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var _t=arguments[0];this.x=_t.x,this.y=_t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var xt=arguments[0],Mt=arguments[1];this.x=xt,this.y=Mt,this.w=1}else if(arguments[0]instanceof vt&&arguments[1]instanceof vt){var kt=arguments[0],It=arguments[1];this.x=kt.y*It.w-It.y*kt.w,this.y=It.x*kt.w-kt.x*It.w,this.w=kt.x*It.y-It.x*kt.y}else if(arguments[0]instanceof Xr&&arguments[1]instanceof Xr){var Rt=arguments[0],Ut=arguments[1];this.x=Rt.y-Ut.y,this.y=Ut.x-Rt.x,this.w=Rt.x*Ut.y-Ut.x*Rt.y}}else if(arguments.length===3){var Wt=arguments[0],qt=arguments[1],on=arguments[2];this.x=Wt,this.y=qt,this.w=on}else if(arguments.length===4){var Jt=arguments[0],un=arguments[1],En=arguments[2],Tn=arguments[3],In=Jt.y-un.y,mn=un.x-Jt.x,Wn=Jt.x*un.y-un.x*Jt.y,pr=En.y-Tn.y,kn=Tn.x-En.x,Vn=En.x*Tn.y-Tn.x*En.y;this.x=mn*Vn-kn*Wn,this.y=pr*Wn-In*Vn,this.w=In*kn-pr*mn}};tu.prototype.getY=function(){var vt=this.y/this.w;if(jo.isNaN(vt)||jo.isInfinite(vt))throw new sf;return vt},tu.prototype.getX=function(){var vt=this.x/this.w;if(jo.isNaN(vt)||jo.isInfinite(vt))throw new sf;return vt},tu.prototype.getCoordinate=function(){var vt=new Xr;return vt.x=this.getX(),vt.y=this.getY(),vt},tu.prototype.interfaces_=function(){return[]},tu.prototype.getClass=function(){return tu},tu.intersection=function(vt,_t,xt,Mt){var kt=vt.y-_t.y,It=_t.x-vt.x,Rt=vt.x*_t.y-_t.x*vt.y,Ut=xt.y-Mt.y,Wt=Mt.x-xt.x,qt=xt.x*Mt.y-Mt.x*xt.y,on=kt*Wt-Ut*It,Jt=(It*qt-Wt*Rt)/on,un=(Ut*Rt-kt*qt)/on;if(jo.isNaN(Jt)||jo.isInfinite(Jt)||jo.isNaN(un)||jo.isInfinite(un))throw new sf;return new Xr(Jt,un)};var go=function vt(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Xr){var _t=arguments[0];this.init(_t.x,_t.x,_t.y,_t.y)}else if(arguments[0]instanceof vt){var xt=arguments[0];this.init(xt)}}else if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];this.init(Mt.x,kt.x,Mt.y,kt.y)}else if(arguments.length===4){var It=arguments[0],Rt=arguments[1],Ut=arguments[2],Wt=arguments[3];this.init(It,Rt,Ut,Wt)}},by={serialVersionUID:{configurable:!0}};go.prototype.getArea=function(){return this.getWidth()*this.getHeight()},go.prototype.equals=function(vt){if(!(vt instanceof go))return!1;var _t=vt;return this.isNull()?_t.isNull():this._maxx===_t.getMaxX()&&this._maxy===_t.getMaxY()&&this._minx===_t.getMinX()&&this._miny===_t.getMinY()},go.prototype.intersection=function(vt){if(this.isNull()||vt.isNull()||!this.intersects(vt))return new go;var _t=this._minx>vt._minx?this._minx:vt._minx,xt=this._miny>vt._miny?this._miny:vt._miny,Mt=this._maxx<vt._maxx?this._maxx:vt._maxx,kt=this._maxy<vt._maxy?this._maxy:vt._maxy;return new go(_t,Mt,xt,kt)},go.prototype.isNull=function(){return this._maxx<this._minx},go.prototype.getMaxX=function(){return this._maxx},go.prototype.covers=function(){if(arguments.length===1){if(arguments[0]instanceof Xr){var vt=arguments[0];return this.covers(vt.x,vt.y)}if(arguments[0]instanceof go){var _t=arguments[0];return!this.isNull()&&!_t.isNull()&&_t.getMinX()>=this._minx&&_t.getMaxX()<=this._maxx&&_t.getMinY()>=this._miny&&_t.getMaxY()<=this._maxy}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return!this.isNull()&&xt>=this._minx&&xt<=this._maxx&&Mt>=this._miny&&Mt<=this._maxy}},go.prototype.intersects=function(){if(arguments.length===1){if(arguments[0]instanceof go){var vt=arguments[0];return!this.isNull()&&!vt.isNull()&&!(vt._minx>this._maxx||vt._maxx<this._minx||vt._miny>this._maxy||vt._maxy<this._miny)}if(arguments[0]instanceof Xr){var _t=arguments[0];return this.intersects(_t.x,_t.y)}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return!this.isNull()&&!(xt>this._maxx||xt<this._minx||Mt>this._maxy||Mt<this._miny)}},go.prototype.getMinY=function(){return this._miny},go.prototype.getMinX=function(){return this._minx},go.prototype.expandToInclude=function(){if(arguments.length===1){if(arguments[0]instanceof Xr){var vt=arguments[0];this.expandToInclude(vt.x,vt.y)}else if(arguments[0]instanceof go){var _t=arguments[0];if(_t.isNull())return null;this.isNull()?(this._minx=_t.getMinX(),this._maxx=_t.getMaxX(),this._miny=_t.getMinY(),this._maxy=_t.getMaxY()):(_t._minx<this._minx&&(this._minx=_t._minx),_t._maxx>this._maxx&&(this._maxx=_t._maxx),_t._miny<this._miny&&(this._miny=_t._miny),_t._maxy>this._maxy&&(this._maxy=_t._maxy))}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];this.isNull()?(this._minx=xt,this._maxx=xt,this._miny=Mt,this._maxy=Mt):(xt<this._minx&&(this._minx=xt),xt>this._maxx&&(this._maxx=xt),Mt<this._miny&&(this._miny=Mt),Mt>this._maxy&&(this._maxy=Mt))}},go.prototype.minExtent=function(){if(this.isNull())return 0;var vt=this.getWidth(),_t=this.getHeight();return vt<_t?vt:_t},go.prototype.getWidth=function(){return this.isNull()?0:this._maxx-this._minx},go.prototype.compareTo=function(vt){var _t=vt;return this.isNull()?_t.isNull()?0:-1:_t.isNull()?1:this._minx<_t._minx?-1:this._minx>_t._minx?1:this._miny<_t._miny?-1:this._miny>_t._miny?1:this._maxx<_t._maxx?-1:this._maxx>_t._maxx?1:this._maxy<_t._maxy?-1:this._maxy>_t._maxy?1:0},go.prototype.translate=function(vt,_t){if(this.isNull())return null;this.init(this.getMinX()+vt,this.getMaxX()+vt,this.getMinY()+_t,this.getMaxY()+_t)},go.prototype.toString=function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"},go.prototype.setToNull=function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1},go.prototype.getHeight=function(){return this.isNull()?0:this._maxy-this._miny},go.prototype.maxExtent=function(){if(this.isNull())return 0;var vt=this.getWidth(),_t=this.getHeight();return vt>_t?vt:_t},go.prototype.expandBy=function(){if(arguments.length===1){var vt=arguments[0];this.expandBy(vt,vt)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];if(this.isNull())return null;this._minx-=_t,this._maxx+=_t,this._miny-=xt,this._maxy+=xt,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}},go.prototype.contains=function(){if(arguments.length===1){if(arguments[0]instanceof go){var vt=arguments[0];return this.covers(vt)}if(arguments[0]instanceof Xr){var _t=arguments[0];return this.covers(_t)}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return this.covers(xt,Mt)}},go.prototype.centre=function(){return this.isNull()?null:new Xr((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},go.prototype.init=function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Xr){var vt=arguments[0];this.init(vt.x,vt.x,vt.y,vt.y)}else if(arguments[0]instanceof go){var _t=arguments[0];this._minx=_t._minx,this._maxx=_t._maxx,this._miny=_t._miny,this._maxy=_t._maxy}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];this.init(xt.x,Mt.x,xt.y,Mt.y)}else if(arguments.length===4){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=arguments[3];kt<It?(this._minx=kt,this._maxx=It):(this._minx=It,this._maxx=kt),Rt<Ut?(this._miny=Rt,this._maxy=Ut):(this._miny=Ut,this._maxy=Rt)}},go.prototype.getMaxY=function(){return this._maxy},go.prototype.distance=function(vt){if(this.intersects(vt))return 0;var _t=0;this._maxx<vt._minx?_t=vt._minx-this._maxx:this._minx>vt._maxx&&(_t=this._minx-vt._maxx);var xt=0;return this._maxy<vt._miny?xt=vt._miny-this._maxy:this._miny>vt._maxy&&(xt=this._miny-vt._maxy),_t===0?xt:xt===0?_t:Math.sqrt(_t*_t+xt*xt)},go.prototype.hashCode=function(){var vt=17;return vt=37*(vt=37*(vt=37*(vt=37*vt+Xr.hashCode(this._minx))+Xr.hashCode(this._maxx))+Xr.hashCode(this._miny))+Xr.hashCode(this._maxy)},go.prototype.interfaces_=function(){return[Jc,eu]},go.prototype.getClass=function(){return go},go.intersects=function(){if(arguments.length===3){var vt=arguments[0],_t=arguments[1],xt=arguments[2];return xt.x>=(vt.x<_t.x?vt.x:_t.x)&&xt.x<=(vt.x>_t.x?vt.x:_t.x)&&xt.y>=(vt.y<_t.y?vt.y:_t.y)&&xt.y<=(vt.y>_t.y?vt.y:_t.y)}if(arguments.length===4){var Mt=arguments[0],kt=arguments[1],It=arguments[2],Rt=arguments[3],Ut=Math.min(It.x,Rt.x),Wt=Math.max(It.x,Rt.x),qt=Math.min(Mt.x,kt.x),on=Math.max(Mt.x,kt.x);return!(qt>Wt)&&!(on<Ut)&&(Ut=Math.min(It.y,Rt.y),Wt=Math.max(It.y,Rt.y),qt=Math.min(Mt.y,kt.y),on=Math.max(Mt.y,kt.y),!(qt>Wt)&&!(on<Ut))}},by.serialVersionUID.get=function(){return 5873921885273102e3},Object.defineProperties(go,by);var Fu={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/},rg=function(vt){this.geometryFactory=vt||new la};rg.prototype.read=function(vt){var _t,xt,Mt;vt=vt.replace(/[\n\r]/g," ");var kt=Fu.typeStr.exec(vt);if(vt.search("EMPTY")!==-1&&((kt=Fu.emptyTypeStr.exec(vt))[2]=void 0),kt&&(xt=kt[1].toLowerCase(),Mt=kt[2],Jf[xt]&&(_t=Jf[xt].apply(this,[Mt]))),_t===void 0)throw new Error("Could not parse WKT "+vt);return _t},rg.prototype.write=function(vt){return this.extractGeometry(vt)},rg.prototype.extractGeometry=function(vt){var _t=vt.getGeometryType().toLowerCase();if(!Oh[_t])return null;var xt=_t.toUpperCase();return vt.isEmpty()?xt+" EMPTY":xt+"("+Oh[_t].apply(this,[vt])+")"};var Oh={coordinate:function(vt){return vt.x+" "+vt.y},point:function(vt){return Oh.coordinate.call(this,vt._coordinates._coordinates[0])},multipoint:function(vt){for(var _t=[],xt=0,Mt=vt._geometries.length;xt<Mt;++xt)_t.push("("+Oh.point.apply(this,[vt._geometries[xt]])+")");return _t.join(",")},linestring:function(vt){for(var _t=[],xt=0,Mt=vt._points._coordinates.length;xt<Mt;++xt)_t.push(Oh.coordinate.apply(this,[vt._points._coordinates[xt]]));return _t.join(",")},linearring:function(vt){for(var _t=[],xt=0,Mt=vt._points._coordinates.length;xt<Mt;++xt)_t.push(Oh.coordinate.apply(this,[vt._points._coordinates[xt]]));return _t.join(",")},multilinestring:function(vt){for(var _t=[],xt=0,Mt=vt._geometries.length;xt<Mt;++xt)_t.push("("+Oh.linestring.apply(this,[vt._geometries[xt]])+")");return _t.join(",")},polygon:function(vt){var _t=[];_t.push("("+Oh.linestring.apply(this,[vt._shell])+")");for(var xt=0,Mt=vt._holes.length;xt<Mt;++xt)_t.push("("+Oh.linestring.apply(this,[vt._holes[xt]])+")");return _t.join(",")},multipolygon:function(vt){for(var _t=[],xt=0,Mt=vt._geometries.length;xt<Mt;++xt)_t.push("("+Oh.polygon.apply(this,[vt._geometries[xt]])+")");return _t.join(",")},geometrycollection:function(vt){for(var _t=[],xt=0,Mt=vt._geometries.length;xt<Mt;++xt)_t.push(this.extractGeometry(vt._geometries[xt]));return _t.join(",")}},Jf={point:function(vt){if(vt===void 0)return this.geometryFactory.createPoint();var _t=vt.trim().split(Fu.spaces);return this.geometryFactory.createPoint(new Xr(Number.parseFloat(_t[0]),Number.parseFloat(_t[1])))},multipoint:function(vt){var _t;if(vt===void 0)return this.geometryFactory.createMultiPoint();for(var xt=vt.trim().split(","),Mt=[],kt=0,It=xt.length;kt<It;++kt)_t=xt[kt].replace(Fu.trimParens,"$1"),Mt.push(Jf.point.apply(this,[_t]));return this.geometryFactory.createMultiPoint(Mt)},linestring:function(vt){if(vt===void 0)return this.geometryFactory.createLineString();for(var _t,xt=vt.trim().split(","),Mt=[],kt=0,It=xt.length;kt<It;++kt)_t=xt[kt].trim().split(Fu.spaces),Mt.push(new Xr(Number.parseFloat(_t[0]),Number.parseFloat(_t[1])));return this.geometryFactory.createLineString(Mt)},linearring:function(vt){if(vt===void 0)return this.geometryFactory.createLinearRing();for(var _t,xt=vt.trim().split(","),Mt=[],kt=0,It=xt.length;kt<It;++kt)_t=xt[kt].trim().split(Fu.spaces),Mt.push(new Xr(Number.parseFloat(_t[0]),Number.parseFloat(_t[1])));return this.geometryFactory.createLinearRing(Mt)},multilinestring:function(vt){var _t;if(vt===void 0)return this.geometryFactory.createMultiLineString();for(var xt=vt.trim().split(Fu.parenComma),Mt=[],kt=0,It=xt.length;kt<It;++kt)_t=xt[kt].replace(Fu.trimParens,"$1"),Mt.push(Jf.linestring.apply(this,[_t]));return this.geometryFactory.createMultiLineString(Mt)},polygon:function(vt){var _t,xt,Mt;if(vt===void 0)return this.geometryFactory.createPolygon();for(var kt,It=vt.trim().split(Fu.parenComma),Rt=[],Ut=0,Wt=It.length;Ut<Wt;++Ut)_t=It[Ut].replace(Fu.trimParens,"$1"),xt=Jf.linestring.apply(this,[_t]),Mt=this.geometryFactory.createLinearRing(xt._points),Ut===0?kt=Mt:Rt.push(Mt);return this.geometryFactory.createPolygon(kt,Rt)},multipolygon:function(vt){var _t;if(vt===void 0)return this.geometryFactory.createMultiPolygon();for(var xt=vt.trim().split(Fu.doubleParenComma),Mt=[],kt=0,It=xt.length;kt<It;++kt)_t=xt[kt].replace(Fu.trimParens,"$1"),Mt.push(Jf.polygon.apply(this,[_t]));return this.geometryFactory.createMultiPolygon(Mt)},geometrycollection:function(vt){if(vt===void 0)return this.geometryFactory.createGeometryCollection();for(var _t=(vt=vt.replace(/,\s*([A-Za-z])/g,"|$1")).trim().split("|"),xt=[],Mt=0,kt=_t.length;Mt<kt;++Mt)xt.push(this.read(_t[Mt]));return this.geometryFactory.createGeometryCollection(xt)}},vu=function(vt){this.parser=new rg(vt)};vu.prototype.write=function(vt){return this.parser.write(vt)},vu.toLineString=function(vt,_t){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+vt.x+" "+vt.y+", "+_t.x+" "+_t.y+" )"};var Ph=function(vt){function _t(xt){vt.call(this,xt),this.name="RuntimeException",this.message=xt,this.stack=new vt().stack}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t}(Error),im=function(vt){function _t(){if(vt.call(this),arguments.length===0)vt.call(this);else if(arguments.length===1){var xt=arguments[0];vt.call(this,xt)}}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Ph),qo=function(){};qo.prototype.interfaces_=function(){return[]},qo.prototype.getClass=function(){return qo},qo.shouldNeverReachHere=function(){if(arguments.length===0)qo.shouldNeverReachHere(null);else if(arguments.length===1){var vt=arguments[0];throw new im("Should never reach here"+(vt!==null?": "+vt:""))}},qo.isTrue=function(){var vt;if(arguments.length===1)qo.isTrue(arguments[0],null);else if(arguments.length===2&&(vt=arguments[1],!arguments[0]))throw vt===null?new im:new im(vt)},qo.equals=function(){var vt,_t,xt;if(arguments.length===2)qo.equals(vt=arguments[0],_t=arguments[1],null);else if(arguments.length===3&&(vt=arguments[0],xt=arguments[2],!(_t=arguments[1]).equals(vt)))throw new im("Expected "+vt+" but encountered "+_t+(xt!==null?": "+xt:""))};var Ds=function(){this._result=null,this._inputLines=Array(2).fill().map(function(){return Array(2)}),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Xr,this._intPt[1]=new Xr,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},lf={DONT_INTERSECT:{configurable:!0},DO_INTERSECT:{configurable:!0},COLLINEAR:{configurable:!0},NO_INTERSECTION:{configurable:!0},POINT_INTERSECTION:{configurable:!0},COLLINEAR_INTERSECTION:{configurable:!0}};Ds.prototype.getIndexAlongSegment=function(vt,_t){return this.computeIntLineIndex(),this._intLineIndex[vt][_t]},Ds.prototype.getTopologySummary=function(){var vt=new Bu;return this.isEndPoint()&&vt.append(" endpoint"),this._isProper&&vt.append(" proper"),this.isCollinear()&&vt.append(" collinear"),vt.toString()},Ds.prototype.computeIntersection=function(vt,_t,xt,Mt){this._inputLines[0][0]=vt,this._inputLines[0][1]=_t,this._inputLines[1][0]=xt,this._inputLines[1][1]=Mt,this._result=this.computeIntersect(vt,_t,xt,Mt)},Ds.prototype.getIntersectionNum=function(){return this._result},Ds.prototype.computeIntLineIndex=function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var vt=arguments[0],_t=this.getEdgeDistance(vt,0),xt=this.getEdgeDistance(vt,1);_t>xt?(this._intLineIndex[vt][0]=0,this._intLineIndex[vt][1]=1):(this._intLineIndex[vt][0]=1,this._intLineIndex[vt][1]=0)}},Ds.prototype.isProper=function(){return this.hasIntersection()&&this._isProper},Ds.prototype.setPrecisionModel=function(vt){this._precisionModel=vt},Ds.prototype.isInteriorIntersection=function(){var vt=this;if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var _t=arguments[0],xt=0;xt<this._result;xt++)if(!vt._intPt[xt].equals2D(vt._inputLines[_t][0])&&!vt._intPt[xt].equals2D(vt._inputLines[_t][1]))return!0;return!1}},Ds.prototype.getIntersection=function(vt){return this._intPt[vt]},Ds.prototype.isEndPoint=function(){return this.hasIntersection()&&!this._isProper},Ds.prototype.hasIntersection=function(){return this._result!==Ds.NO_INTERSECTION},Ds.prototype.getEdgeDistance=function(vt,_t){return Ds.computeEdgeDistance(this._intPt[_t],this._inputLines[vt][0],this._inputLines[vt][1])},Ds.prototype.isCollinear=function(){return this._result===Ds.COLLINEAR_INTERSECTION},Ds.prototype.toString=function(){return vu.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+vu.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()},Ds.prototype.getEndpoint=function(vt,_t){return this._inputLines[vt][_t]},Ds.prototype.isIntersection=function(vt){for(var _t=0;_t<this._result;_t++)if(this._intPt[_t].equals2D(vt))return!0;return!1},Ds.prototype.getIntersectionAlongSegment=function(vt,_t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[vt][_t]]},Ds.prototype.interfaces_=function(){return[]},Ds.prototype.getClass=function(){return Ds},Ds.computeEdgeDistance=function(vt,_t,xt){var Mt=Math.abs(xt.x-_t.x),kt=Math.abs(xt.y-_t.y),It=-1;if(vt.equals(_t))It=0;else if(vt.equals(xt))It=Mt>kt?Mt:kt;else{var Rt=Math.abs(vt.x-_t.x),Ut=Math.abs(vt.y-_t.y);(It=Mt>kt?Rt:Ut)!==0||vt.equals(_t)||(It=Math.max(Rt,Ut))}return qo.isTrue(!(It===0&&!vt.equals(_t)),"Bad distance calculation"),It},Ds.nonRobustComputeEdgeDistance=function(vt,_t,xt){var Mt=vt.x-_t.x,kt=vt.y-_t.y,It=Math.sqrt(Mt*Mt+kt*kt);return qo.isTrue(!(It===0&&!vt.equals(_t)),"Invalid distance calculation"),It},lf.DONT_INTERSECT.get=function(){return 0},lf.DO_INTERSECT.get=function(){return 1},lf.COLLINEAR.get=function(){return 2},lf.NO_INTERSECTION.get=function(){return 0},lf.POINT_INTERSECTION.get=function(){return 1},lf.COLLINEAR_INTERSECTION.get=function(){return 2},Object.defineProperties(Ds,lf);var ad=function(vt){function _t(){vt.apply(this,arguments)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.isInSegmentEnvelopes=function(xt){var Mt=new go(this._inputLines[0][0],this._inputLines[0][1]),kt=new go(this._inputLines[1][0],this._inputLines[1][1]);return Mt.contains(xt)&&kt.contains(xt)},_t.prototype.computeIntersection=function(){if(arguments.length!==3)return vt.prototype.computeIntersection.apply(this,arguments);var xt=arguments[0],Mt=arguments[1],kt=arguments[2];if(this._isProper=!1,go.intersects(Mt,kt,xt)&&Wi.orientationIndex(Mt,kt,xt)===0&&Wi.orientationIndex(kt,Mt,xt)===0)return this._isProper=!0,(xt.equals(Mt)||xt.equals(kt))&&(this._isProper=!1),this._result=vt.POINT_INTERSECTION,null;this._result=vt.NO_INTERSECTION},_t.prototype.normalizeToMinimum=function(xt,Mt,kt,It,Rt){Rt.x=this.smallestInAbsValue(xt.x,Mt.x,kt.x,It.x),Rt.y=this.smallestInAbsValue(xt.y,Mt.y,kt.y,It.y),xt.x-=Rt.x,xt.y-=Rt.y,Mt.x-=Rt.x,Mt.y-=Rt.y,kt.x-=Rt.x,kt.y-=Rt.y,It.x-=Rt.x,It.y-=Rt.y},_t.prototype.safeHCoordinateIntersection=function(xt,Mt,kt,It){var Rt=null;try{Rt=tu.intersection(xt,Mt,kt,It)}catch(Ut){if(!(Ut instanceof sf))throw Ut;Rt=_t.nearestEndpoint(xt,Mt,kt,It)}return Rt},_t.prototype.intersection=function(xt,Mt,kt,It){var Rt=this.intersectionWithNormalization(xt,Mt,kt,It);return this.isInSegmentEnvelopes(Rt)||(Rt=new Xr(_t.nearestEndpoint(xt,Mt,kt,It))),this._precisionModel!==null&&this._precisionModel.makePrecise(Rt),Rt},_t.prototype.smallestInAbsValue=function(xt,Mt,kt,It){var Rt=xt,Ut=Math.abs(Rt);return Math.abs(Mt)<Ut&&(Rt=Mt,Ut=Math.abs(Mt)),Math.abs(kt)<Ut&&(Rt=kt,Ut=Math.abs(kt)),Math.abs(It)<Ut&&(Rt=It),Rt},_t.prototype.checkDD=function(xt,Mt,kt,It,Rt){var Ut=cc.intersection(xt,Mt,kt,It),Wt=this.isInSegmentEnvelopes(Ut);zl.out.println("DD in env = "+Wt+"  --------------------- "+Ut),Rt.distance(Ut)>1e-4&&zl.out.println("Distance = "+Rt.distance(Ut))},_t.prototype.intersectionWithNormalization=function(xt,Mt,kt,It){var Rt=new Xr(xt),Ut=new Xr(Mt),Wt=new Xr(kt),qt=new Xr(It),on=new Xr;this.normalizeToEnvCentre(Rt,Ut,Wt,qt,on);var Jt=this.safeHCoordinateIntersection(Rt,Ut,Wt,qt);return Jt.x+=on.x,Jt.y+=on.y,Jt},_t.prototype.computeCollinearIntersection=function(xt,Mt,kt,It){var Rt=go.intersects(xt,Mt,kt),Ut=go.intersects(xt,Mt,It),Wt=go.intersects(kt,It,xt),qt=go.intersects(kt,It,Mt);return Rt&&Ut?(this._intPt[0]=kt,this._intPt[1]=It,vt.COLLINEAR_INTERSECTION):Wt&&qt?(this._intPt[0]=xt,this._intPt[1]=Mt,vt.COLLINEAR_INTERSECTION):Rt&&Wt?(this._intPt[0]=kt,this._intPt[1]=xt,!kt.equals(xt)||Ut||qt?vt.COLLINEAR_INTERSECTION:vt.POINT_INTERSECTION):Rt&&qt?(this._intPt[0]=kt,this._intPt[1]=Mt,!kt.equals(Mt)||Ut||Wt?vt.COLLINEAR_INTERSECTION:vt.POINT_INTERSECTION):Ut&&Wt?(this._intPt[0]=It,this._intPt[1]=xt,!It.equals(xt)||Rt||qt?vt.COLLINEAR_INTERSECTION:vt.POINT_INTERSECTION):Ut&&qt?(this._intPt[0]=It,this._intPt[1]=Mt,!It.equals(Mt)||Rt||Wt?vt.COLLINEAR_INTERSECTION:vt.POINT_INTERSECTION):vt.NO_INTERSECTION},_t.prototype.normalizeToEnvCentre=function(xt,Mt,kt,It,Rt){var Ut=xt.x<Mt.x?xt.x:Mt.x,Wt=xt.y<Mt.y?xt.y:Mt.y,qt=xt.x>Mt.x?xt.x:Mt.x,on=xt.y>Mt.y?xt.y:Mt.y,Jt=kt.x<It.x?kt.x:It.x,un=kt.y<It.y?kt.y:It.y,En=kt.x>It.x?kt.x:It.x,Tn=kt.y>It.y?kt.y:It.y,In=((Ut>Jt?Ut:Jt)+(qt<En?qt:En))/2,mn=((Wt>un?Wt:un)+(on<Tn?on:Tn))/2;Rt.x=In,Rt.y=mn,xt.x-=Rt.x,xt.y-=Rt.y,Mt.x-=Rt.x,Mt.y-=Rt.y,kt.x-=Rt.x,kt.y-=Rt.y,It.x-=Rt.x,It.y-=Rt.y},_t.prototype.computeIntersect=function(xt,Mt,kt,It){if(this._isProper=!1,!go.intersects(xt,Mt,kt,It))return vt.NO_INTERSECTION;var Rt=Wi.orientationIndex(xt,Mt,kt),Ut=Wi.orientationIndex(xt,Mt,It);if(Rt>0&&Ut>0||Rt<0&&Ut<0)return vt.NO_INTERSECTION;var Wt=Wi.orientationIndex(kt,It,xt),qt=Wi.orientationIndex(kt,It,Mt);return Wt>0&&qt>0||Wt<0&&qt<0?vt.NO_INTERSECTION:Rt===0&&Ut===0&&Wt===0&&qt===0?this.computeCollinearIntersection(xt,Mt,kt,It):(Rt===0||Ut===0||Wt===0||qt===0?(this._isProper=!1,xt.equals2D(kt)||xt.equals2D(It)?this._intPt[0]=xt:Mt.equals2D(kt)||Mt.equals2D(It)?this._intPt[0]=Mt:Rt===0?this._intPt[0]=new Xr(kt):Ut===0?this._intPt[0]=new Xr(It):Wt===0?this._intPt[0]=new Xr(xt):qt===0&&(this._intPt[0]=new Xr(Mt))):(this._isProper=!0,this._intPt[0]=this.intersection(xt,Mt,kt,It)),vt.POINT_INTERSECTION)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.nearestEndpoint=function(xt,Mt,kt,It){var Rt=xt,Ut=Wi.distancePointLine(xt,kt,It),Wt=Wi.distancePointLine(Mt,kt,It);return Wt<Ut&&(Ut=Wt,Rt=Mt),(Wt=Wi.distancePointLine(kt,xt,Mt))<Ut&&(Ut=Wt,Rt=kt),(Wt=Wi.distancePointLine(It,xt,Mt))<Ut&&(Ut=Wt,Rt=It),Rt},_t}(Ds),cf=function(){};cf.prototype.interfaces_=function(){return[]},cf.prototype.getClass=function(){return cf},cf.orientationIndex=function(vt,_t,xt){var Mt=_t.x-vt.x,kt=_t.y-vt.y,It=xt.x-_t.x,Rt=xt.y-_t.y;return cf.signOfDet2x2(Mt,kt,It,Rt)},cf.signOfDet2x2=function(vt,_t,xt,Mt){var kt=null,It=null,Rt=null;if(kt=1,vt===0||Mt===0)return _t===0||xt===0?0:_t>0?xt>0?-kt:kt:xt>0?kt:-kt;if(_t===0||xt===0)return Mt>0?vt>0?kt:-kt:vt>0?-kt:kt;if(_t>0?Mt>0?_t<=Mt||(kt=-kt,It=vt,vt=xt,xt=It,It=_t,_t=Mt,Mt=It):_t<=-Mt?(kt=-kt,xt=-xt,Mt=-Mt):(It=vt,vt=-xt,xt=It,It=_t,_t=-Mt,Mt=It):Mt>0?-_t<=Mt?(kt=-kt,vt=-vt,_t=-_t):(It=-vt,vt=xt,xt=It,It=-_t,_t=Mt,Mt=It):_t>=Mt?(vt=-vt,_t=-_t,xt=-xt,Mt=-Mt):(kt=-kt,It=-vt,vt=-xt,xt=It,It=-_t,_t=-Mt,Mt=It),vt>0){if(!(xt>0)||!(vt<=xt))return kt}else{if(xt>0||!(vt>=xt))return-kt;kt=-kt,vt=-vt,xt=-xt}for(;;){if((Mt-=(Rt=Math.floor(xt/vt))*_t)<0)return-kt;if(Mt>_t)return kt;if(vt>(xt-=Rt*vt)+xt){if(_t<Mt+Mt)return kt}else{if(_t>Mt+Mt)return-kt;xt=vt-xt,Mt=_t-Mt,kt=-kt}if(Mt===0)return xt===0?0:-kt;if(xt===0||(_t-=(Rt=Math.floor(vt/xt))*Mt)<0)return kt;if(_t>Mt)return-kt;if(xt>(vt-=Rt*xt)+vt){if(Mt<_t+_t)return-kt}else{if(Mt>_t+_t)return kt;vt=xt-vt,_t=Mt-_t,kt=-kt}if(_t===0)return vt===0?0:kt;if(vt===0)return-kt}};var Uu=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var vt=arguments[0];this._p=vt};Uu.prototype.countSegment=function(vt,_t){if(vt.x<this._p.x&&_t.x<this._p.x)return null;if(this._p.x===_t.x&&this._p.y===_t.y)return this._isPointOnSegment=!0,null;if(vt.y===this._p.y&&_t.y===this._p.y){var xt=vt.x,Mt=_t.x;return xt>Mt&&(xt=_t.x,Mt=vt.x),this._p.x>=xt&&this._p.x<=Mt&&(this._isPointOnSegment=!0),null}if(vt.y>this._p.y&&_t.y<=this._p.y||_t.y>this._p.y&&vt.y<=this._p.y){var kt=vt.x-this._p.x,It=vt.y-this._p.y,Rt=_t.x-this._p.x,Ut=_t.y-this._p.y,Wt=cf.signOfDet2x2(kt,It,Rt,Ut);if(Wt===0)return this._isPointOnSegment=!0,null;Ut<It&&(Wt=-Wt),Wt>0&&this._crossingCount++}},Uu.prototype.isPointInPolygon=function(){return this.getLocation()!==ai.EXTERIOR},Uu.prototype.getLocation=function(){return this._isPointOnSegment?ai.BOUNDARY:this._crossingCount%2==1?ai.INTERIOR:ai.EXTERIOR},Uu.prototype.isOnSegment=function(){return this._isPointOnSegment},Uu.prototype.interfaces_=function(){return[]},Uu.prototype.getClass=function(){return Uu},Uu.locatePointInRing=function(){if(arguments[0]instanceof Xr&&Do(arguments[1],Ma)){for(var vt=arguments[0],_t=arguments[1],xt=new Uu(vt),Mt=new Xr,kt=new Xr,It=1;It<_t.size();It++)if(_t.getCoordinate(It,Mt),_t.getCoordinate(It-1,kt),xt.countSegment(Mt,kt),xt.isOnSegment())return xt.getLocation();return xt.getLocation()}if(arguments[0]instanceof Xr&&arguments[1]instanceof Array){for(var Rt=arguments[0],Ut=arguments[1],Wt=new Uu(Rt),qt=1;qt<Ut.length;qt++){var on=Ut[qt],Jt=Ut[qt-1];if(Wt.countSegment(on,Jt),Wt.isOnSegment())return Wt.getLocation()}return Wt.getLocation()}};var Wi=function(){},uf={CLOCKWISE:{configurable:!0},RIGHT:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},LEFT:{configurable:!0},COLLINEAR:{configurable:!0},STRAIGHT:{configurable:!0}};Wi.prototype.interfaces_=function(){return[]},Wi.prototype.getClass=function(){return Wi},Wi.orientationIndex=function(vt,_t,xt){return cc.orientationIndex(vt,_t,xt)},Wi.signedArea=function(){if(arguments[0]instanceof Array){var vt=arguments[0];if(vt.length<3)return 0;for(var _t=0,xt=vt[0].x,Mt=1;Mt<vt.length-1;Mt++){var kt=vt[Mt].x-xt,It=vt[Mt+1].y,Rt=vt[Mt-1].y;_t+=kt*(Rt-It)}return _t/2}if(Do(arguments[0],Ma)){var Ut=arguments[0],Wt=Ut.size();if(Wt<3)return 0;var qt=new Xr,on=new Xr,Jt=new Xr;Ut.getCoordinate(0,on),Ut.getCoordinate(1,Jt);var un=on.x;Jt.x-=un;for(var En=0,Tn=1;Tn<Wt-1;Tn++)qt.y=on.y,on.x=Jt.x,on.y=Jt.y,Ut.getCoordinate(Tn+1,Jt),Jt.x-=un,En+=on.x*(qt.y-Jt.y);return En/2}},Wi.distanceLineLine=function(vt,_t,xt,Mt){if(vt.equals(_t))return Wi.distancePointLine(vt,xt,Mt);if(xt.equals(Mt))return Wi.distancePointLine(Mt,vt,_t);var kt=!1;if(go.intersects(vt,_t,xt,Mt)){var It=(_t.x-vt.x)*(Mt.y-xt.y)-(_t.y-vt.y)*(Mt.x-xt.x);if(It===0)kt=!0;else{var Rt=(vt.y-xt.y)*(Mt.x-xt.x)-(vt.x-xt.x)*(Mt.y-xt.y),Ut=((vt.y-xt.y)*(_t.x-vt.x)-(vt.x-xt.x)*(_t.y-vt.y))/It,Wt=Rt/It;(Wt<0||Wt>1||Ut<0||Ut>1)&&(kt=!0)}}else kt=!0;return kt?Rc.min(Wi.distancePointLine(vt,xt,Mt),Wi.distancePointLine(_t,xt,Mt),Wi.distancePointLine(xt,vt,_t),Wi.distancePointLine(Mt,vt,_t)):0},Wi.isPointInRing=function(vt,_t){return Wi.locatePointInRing(vt,_t)!==ai.EXTERIOR},Wi.computeLength=function(vt){var _t=vt.size();if(_t<=1)return 0;var xt=0,Mt=new Xr;vt.getCoordinate(0,Mt);for(var kt=Mt.x,It=Mt.y,Rt=1;Rt<_t;Rt++){vt.getCoordinate(Rt,Mt);var Ut=Mt.x,Wt=Mt.y,qt=Ut-kt,on=Wt-It;xt+=Math.sqrt(qt*qt+on*on),kt=Ut,It=Wt}return xt},Wi.isCCW=function(vt){var _t=vt.length-1;if(_t<3)throw new Ss("Ring has fewer than 4 points, so orientation cannot be determined");for(var xt=vt[0],Mt=0,kt=1;kt<=_t;kt++){var It=vt[kt];It.y>xt.y&&(xt=It,Mt=kt)}var Rt=Mt;do(Rt-=1)<0&&(Rt=_t);while(vt[Rt].equals2D(xt)&&Rt!==Mt);var Ut=Mt;do Ut=(Ut+1)%_t;while(vt[Ut].equals2D(xt)&&Ut!==Mt);var Wt=vt[Rt],qt=vt[Ut];if(Wt.equals2D(xt)||qt.equals2D(xt)||Wt.equals2D(qt))return!1;var on=Wi.computeOrientation(Wt,xt,qt),Jt=!1;return Jt=on===0?Wt.x>qt.x:on>0,Jt},Wi.locatePointInRing=function(vt,_t){return Uu.locatePointInRing(vt,_t)},Wi.distancePointLinePerpendicular=function(vt,_t,xt){var Mt=(xt.x-_t.x)*(xt.x-_t.x)+(xt.y-_t.y)*(xt.y-_t.y),kt=((_t.y-vt.y)*(xt.x-_t.x)-(_t.x-vt.x)*(xt.y-_t.y))/Mt;return Math.abs(kt)*Math.sqrt(Mt)},Wi.computeOrientation=function(vt,_t,xt){return Wi.orientationIndex(vt,_t,xt)},Wi.distancePointLine=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1];if(_t.length===0)throw new Ss("Line array must contain at least one vertex");for(var xt=vt.distance(_t[0]),Mt=0;Mt<_t.length-1;Mt++){var kt=Wi.distancePointLine(vt,_t[Mt],_t[Mt+1]);kt<xt&&(xt=kt)}return xt}if(arguments.length===3){var It=arguments[0],Rt=arguments[1],Ut=arguments[2];if(Rt.x===Ut.x&&Rt.y===Ut.y)return It.distance(Rt);var Wt=(Ut.x-Rt.x)*(Ut.x-Rt.x)+(Ut.y-Rt.y)*(Ut.y-Rt.y),qt=((It.x-Rt.x)*(Ut.x-Rt.x)+(It.y-Rt.y)*(Ut.y-Rt.y))/Wt;if(qt<=0)return It.distance(Rt);if(qt>=1)return It.distance(Ut);var on=((Rt.y-It.y)*(Ut.x-Rt.x)-(Rt.x-It.x)*(Ut.y-Rt.y))/Wt;return Math.abs(on)*Math.sqrt(Wt)}},Wi.isOnLine=function(vt,_t){for(var xt=new ad,Mt=1;Mt<_t.length;Mt++){var kt=_t[Mt-1],It=_t[Mt];if(xt.computeIntersection(vt,kt,It),xt.hasIntersection())return!0}return!1},uf.CLOCKWISE.get=function(){return-1},uf.RIGHT.get=function(){return Wi.CLOCKWISE},uf.COUNTERCLOCKWISE.get=function(){return 1},uf.LEFT.get=function(){return Wi.COUNTERCLOCKWISE},uf.COLLINEAR.get=function(){return 0},uf.STRAIGHT.get=function(){return Wi.COLLINEAR},Object.defineProperties(Wi,uf);var ch=function(){};ch.prototype.filter=function(vt){},ch.prototype.interfaces_=function(){return[]},ch.prototype.getClass=function(){return ch};var Ao=function(){var vt=arguments[0];this._envelope=null,this._factory=null,this._SRID=null,this._userData=null,this._factory=vt,this._SRID=vt.getSRID()},uh={serialVersionUID:{configurable:!0},SORTINDEX_POINT:{configurable:!0},SORTINDEX_MULTIPOINT:{configurable:!0},SORTINDEX_LINESTRING:{configurable:!0},SORTINDEX_LINEARRING:{configurable:!0},SORTINDEX_MULTILINESTRING:{configurable:!0},SORTINDEX_POLYGON:{configurable:!0},SORTINDEX_MULTIPOLYGON:{configurable:!0},SORTINDEX_GEOMETRYCOLLECTION:{configurable:!0},geometryChangedFilter:{configurable:!0}};Ao.prototype.isGeometryCollection=function(){return this.getSortIndex()===Ao.SORTINDEX_GEOMETRYCOLLECTION},Ao.prototype.getFactory=function(){return this._factory},Ao.prototype.getGeometryN=function(vt){return this},Ao.prototype.getArea=function(){return 0},Ao.prototype.isRectangle=function(){return!1},Ao.prototype.equals=function(){if(arguments[0]instanceof Ao){var vt=arguments[0];return vt!==null&&this.equalsTopo(vt)}if(arguments[0]instanceof Object){var _t=arguments[0];if(!(_t instanceof Ao))return!1;var xt=_t;return this.equalsExact(xt)}},Ao.prototype.equalsExact=function(vt){return this===vt||this.equalsExact(vt,0)},Ao.prototype.geometryChanged=function(){this.apply(Ao.geometryChangedFilter)},Ao.prototype.geometryChangedAction=function(){this._envelope=null},Ao.prototype.equalsNorm=function(vt){return vt!==null&&this.norm().equalsExact(vt.norm())},Ao.prototype.getLength=function(){return 0},Ao.prototype.getNumGeometries=function(){return 1},Ao.prototype.compareTo=function(){if(arguments.length===1){var vt=arguments[0],_t=vt;return this.getSortIndex()!==_t.getSortIndex()?this.getSortIndex()-_t.getSortIndex():this.isEmpty()&&_t.isEmpty()?0:this.isEmpty()?-1:_t.isEmpty()?1:this.compareToSameClass(vt)}if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return this.getSortIndex()!==xt.getSortIndex()?this.getSortIndex()-xt.getSortIndex():this.isEmpty()&&xt.isEmpty()?0:this.isEmpty()?-1:xt.isEmpty()?1:this.compareToSameClass(xt,Mt)}},Ao.prototype.getUserData=function(){return this._userData},Ao.prototype.getSRID=function(){return this._SRID},Ao.prototype.getEnvelope=function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},Ao.prototype.checkNotGeometryCollection=function(vt){if(vt.getSortIndex()===Ao.SORTINDEX_GEOMETRYCOLLECTION)throw new Ss("This method does not support GeometryCollection arguments")},Ao.prototype.equal=function(vt,_t,xt){return xt===0?vt.equals(_t):vt.distance(_t)<=xt},Ao.prototype.norm=function(){var vt=this.copy();return vt.normalize(),vt},Ao.prototype.getPrecisionModel=function(){return this._factory.getPrecisionModel()},Ao.prototype.getEnvelopeInternal=function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new go(this._envelope)},Ao.prototype.setSRID=function(vt){this._SRID=vt},Ao.prototype.setUserData=function(vt){this._userData=vt},Ao.prototype.compare=function(vt,_t){for(var xt=vt.iterator(),Mt=_t.iterator();xt.hasNext()&&Mt.hasNext();){var kt=xt.next(),It=Mt.next(),Rt=kt.compareTo(It);if(Rt!==0)return Rt}return xt.hasNext()?1:Mt.hasNext()?-1:0},Ao.prototype.hashCode=function(){return this.getEnvelopeInternal().hashCode()},Ao.prototype.isGeometryCollectionOrDerived=function(){return this.getSortIndex()===Ao.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===Ao.SORTINDEX_MULTIPOINT||this.getSortIndex()===Ao.SORTINDEX_MULTILINESTRING||this.getSortIndex()===Ao.SORTINDEX_MULTIPOLYGON},Ao.prototype.interfaces_=function(){return[Jp,Jc,eu]},Ao.prototype.getClass=function(){return Ao},Ao.hasNonEmptyElements=function(vt){for(var _t=0;_t<vt.length;_t++)if(!vt[_t].isEmpty())return!0;return!1},Ao.hasNullElements=function(vt){for(var _t=0;_t<vt.length;_t++)if(vt[_t]===null)return!0;return!1},uh.serialVersionUID.get=function(){return 8763622679187377e3},uh.SORTINDEX_POINT.get=function(){return 0},uh.SORTINDEX_MULTIPOINT.get=function(){return 1},uh.SORTINDEX_LINESTRING.get=function(){return 2},uh.SORTINDEX_LINEARRING.get=function(){return 3},uh.SORTINDEX_MULTILINESTRING.get=function(){return 4},uh.SORTINDEX_POLYGON.get=function(){return 5},uh.SORTINDEX_MULTIPOLYGON.get=function(){return 6},uh.SORTINDEX_GEOMETRYCOLLECTION.get=function(){return 7},uh.geometryChangedFilter.get=function(){return om},Object.defineProperties(Ao,uh);var om=function(){};om.interfaces_=function(){return[ch]},om.filter=function(vt){vt.geometryChangedAction()};var hh=function(){};hh.prototype.filter=function(vt){},hh.prototype.interfaces_=function(){return[]},hh.prototype.getClass=function(){return hh};var nu=function(){},dh={Mod2BoundaryNodeRule:{configurable:!0},EndPointBoundaryNodeRule:{configurable:!0},MultiValentEndPointBoundaryNodeRule:{configurable:!0},MonoValentEndPointBoundaryNodeRule:{configurable:!0},MOD2_BOUNDARY_RULE:{configurable:!0},ENDPOINT_BOUNDARY_RULE:{configurable:!0},MULTIVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},MONOVALENT_ENDPOINT_BOUNDARY_RULE:{configurable:!0},OGC_SFS_BOUNDARY_RULE:{configurable:!0}};nu.prototype.isInBoundary=function(vt){},nu.prototype.interfaces_=function(){return[]},nu.prototype.getClass=function(){return nu},dh.Mod2BoundaryNodeRule.get=function(){return ep},dh.EndPointBoundaryNodeRule.get=function(){return hf},dh.MultiValentEndPointBoundaryNodeRule.get=function(){return tp},dh.MonoValentEndPointBoundaryNodeRule.get=function(){return np},dh.MOD2_BOUNDARY_RULE.get=function(){return new ep},dh.ENDPOINT_BOUNDARY_RULE.get=function(){return new hf},dh.MULTIVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new tp},dh.MONOVALENT_ENDPOINT_BOUNDARY_RULE.get=function(){return new np},dh.OGC_SFS_BOUNDARY_RULE.get=function(){return nu.MOD2_BOUNDARY_RULE},Object.defineProperties(nu,dh);var ep=function(){};ep.prototype.isInBoundary=function(vt){return vt%2==1},ep.prototype.interfaces_=function(){return[nu]},ep.prototype.getClass=function(){return ep};var hf=function(){};hf.prototype.isInBoundary=function(vt){return vt>0},hf.prototype.interfaces_=function(){return[nu]},hf.prototype.getClass=function(){return hf};var tp=function(){};tp.prototype.isInBoundary=function(vt){return vt>1},tp.prototype.interfaces_=function(){return[nu]},tp.prototype.getClass=function(){return tp};var np=function(){};np.prototype.isInBoundary=function(vt){return vt===1},np.prototype.interfaces_=function(){return[nu]},np.prototype.getClass=function(){return np};var il=function(){};function D0(vt){this.message=vt||""}il.prototype.add=function(){},il.prototype.addAll=function(){},il.prototype.isEmpty=function(){},il.prototype.iterator=function(){},il.prototype.size=function(){},il.prototype.toArray=function(){},il.prototype.remove=function(){},D0.prototype=new Error,D0.prototype.name="IndexOutOfBoundsException";var rp=function(){};rp.prototype.hasNext=function(){},rp.prototype.next=function(){},rp.prototype.remove=function(){};var bu=function(vt){function _t(){vt.apply(this,arguments)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.get=function(){},_t.prototype.set=function(){},_t.prototype.isEmpty=function(){},_t}(il);function df(vt){this.message=vt||""}df.prototype=new Error,df.prototype.name="NoSuchElementException";var Hi=function(vt){function _t(){vt.call(this),this.array_=[],arguments[0]instanceof il&&this.addAll(arguments[0])}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.ensureCapacity=function(){},_t.prototype.interfaces_=function(){return[vt,il]},_t.prototype.add=function(xt){return arguments.length===1?this.array_.push(xt):this.array_.splice(arguments[0],arguments[1]),!0},_t.prototype.clear=function(){this.array_=[]},_t.prototype.addAll=function(xt){for(var Mt=xt.iterator();Mt.hasNext();)this.add(Mt.next());return!0},_t.prototype.set=function(xt,Mt){var kt=this.array_[xt];return this.array_[xt]=Mt,kt},_t.prototype.iterator=function(){return new _y(this)},_t.prototype.get=function(xt){if(xt<0||xt>=this.size())throw new D0;return this.array_[xt]},_t.prototype.isEmpty=function(){return this.array_.length===0},_t.prototype.size=function(){return this.array_.length},_t.prototype.toArray=function(){for(var xt=[],Mt=0,kt=this.array_.length;Mt<kt;Mt++)xt.push(this.array_[Mt]);return xt},_t.prototype.remove=function(xt){for(var Mt=!1,kt=0,It=this.array_.length;kt<It;kt++)if(this.array_[kt]===xt){this.array_.splice(kt,1),Mt=!0;break}return Mt},_t}(bu),_y=function(vt){function _t(xt){vt.call(this),this.arrayList_=xt,this.position_=0}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new df;return this.arrayList_.get(this.position_++)},_t.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},_t.prototype.set=function(xt){return this.arrayList_.set(this.position_-1,xt)},_t.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))},_t}(rp),ig=function(vt){function _t(){if(vt.call(this),arguments.length!==0){if(arguments.length===1){var Mt=arguments[0];this.ensureCapacity(Mt.length),this.add(Mt,!0)}else if(arguments.length===2){var kt=arguments[0],It=arguments[1];this.ensureCapacity(kt.length),this.add(kt,It)}}}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={coordArrayType:{configurable:!0}};return xt.coordArrayType.get=function(){return new Array(0).fill(null)},_t.prototype.getCoordinate=function(Mt){return this.get(Mt)},_t.prototype.addAll=function(){var Mt=this;if(arguments.length===2){for(var kt=arguments[0],It=arguments[1],Rt=!1,Ut=kt.iterator();Ut.hasNext();)Mt.add(Ut.next(),It),Rt=!0;return Rt}return vt.prototype.addAll.apply(this,arguments)},_t.prototype.clone=function(){for(var Mt=vt.prototype.clone.call(this),kt=0;kt<this.size();kt++)Mt.add(kt,this.get(kt).copy());return Mt},_t.prototype.toCoordinateArray=function(){return this.toArray(_t.coordArrayType)},_t.prototype.add=function(){var Mt=this;if(arguments.length===1){var kt=arguments[0];vt.prototype.add.call(this,kt)}else if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var It=arguments[0],Rt=arguments[1];return this.add(It,Rt,!0),!0}if(arguments[0]instanceof Xr&&typeof arguments[1]=="boolean"){var Ut=arguments[0],Wt=arguments[1];if(!Wt&&this.size()>=1){var qt=this.get(this.size()-1);if(qt.equals2D(Ut))return null}vt.prototype.add.call(this,Ut)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var on=arguments[0],Jt=arguments[1];return this.add(on,Jt),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var un=arguments[0],En=arguments[1],Tn=arguments[2];if(Tn)for(var In=0;In<un.length;In++)Mt.add(un[In],En);else for(var mn=un.length-1;mn>=0;mn--)Mt.add(un[mn],En);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Xr){var Wn=arguments[0],pr=arguments[1],kn=arguments[2];if(!kn){var Vn=this.size();if(Vn>0){if(Wn>0){var Qn=this.get(Wn-1);if(Qn.equals2D(pr))return null}if(Wn<Vn){var ir=this.get(Wn);if(ir.equals2D(pr))return null}}}vt.prototype.add.call(this,Wn,pr)}}else if(arguments.length===4){var Jn=arguments[0],oi=arguments[1],Gr=arguments[2],li=arguments[3],qr=1;Gr>li&&(qr=-1);for(var fi=Gr;fi!==li;fi+=qr)Mt.add(Jn[fi],oi);return!0}},_t.prototype.closeRing=function(){this.size()>0&&this.add(new Xr(this.get(0)),!1)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},Object.defineProperties(_t,xt),_t}(Hi),sa=function(){},am={ForwardComparator:{configurable:!0},BidirectionalComparator:{configurable:!0},coordArrayType:{configurable:!0}};am.ForwardComparator.get=function(){return og},am.BidirectionalComparator.get=function(){return ff},am.coordArrayType.get=function(){return new Array(0).fill(null)},sa.prototype.interfaces_=function(){return[]},sa.prototype.getClass=function(){return sa},sa.isRing=function(vt){return!(vt.length<4)&&!!vt[0].equals2D(vt[vt.length-1])},sa.ptNotInList=function(vt,_t){for(var xt=0;xt<vt.length;xt++){var Mt=vt[xt];if(sa.indexOf(Mt,_t)<0)return Mt}return null},sa.scroll=function(vt,_t){var xt=sa.indexOf(_t,vt);if(xt<0)return null;var Mt=new Array(vt.length).fill(null);zl.arraycopy(vt,xt,Mt,0,vt.length-xt),zl.arraycopy(vt,0,Mt,vt.length-xt,xt),zl.arraycopy(Mt,0,vt,0,vt.length)},sa.equals=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1];if(vt===_t)return!0;if(vt===null||_t===null||vt.length!==_t.length)return!1;for(var xt=0;xt<vt.length;xt++)if(!vt[xt].equals(_t[xt]))return!1;return!0}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2];if(Mt===kt)return!0;if(Mt===null||kt===null||Mt.length!==kt.length)return!1;for(var Rt=0;Rt<Mt.length;Rt++)if(It.compare(Mt[Rt],kt[Rt])!==0)return!1;return!0}},sa.intersection=function(vt,_t){for(var xt=new ig,Mt=0;Mt<vt.length;Mt++)_t.intersects(vt[Mt])&&xt.add(vt[Mt],!0);return xt.toCoordinateArray()},sa.hasRepeatedPoints=function(vt){for(var _t=1;_t<vt.length;_t++)if(vt[_t-1].equals(vt[_t]))return!0;return!1},sa.removeRepeatedPoints=function(vt){return sa.hasRepeatedPoints(vt)?new ig(vt,!1).toCoordinateArray():vt},sa.reverse=function(vt){for(var _t=vt.length-1,xt=Math.trunc(_t/2),Mt=0;Mt<=xt;Mt++){var kt=vt[Mt];vt[Mt]=vt[_t-Mt],vt[_t-Mt]=kt}},sa.removeNull=function(vt){for(var _t=0,xt=0;xt<vt.length;xt++)vt[xt]!==null&&_t++;var Mt=new Array(_t).fill(null);if(_t===0)return Mt;for(var kt=0,It=0;It<vt.length;It++)vt[It]!==null&&(Mt[kt++]=vt[It]);return Mt},sa.copyDeep=function(){if(arguments.length===1){for(var vt=arguments[0],_t=new Array(vt.length).fill(null),xt=0;xt<vt.length;xt++)_t[xt]=new Xr(vt[xt]);return _t}if(arguments.length===5)for(var Mt=arguments[0],kt=arguments[1],It=arguments[2],Rt=arguments[3],Ut=arguments[4],Wt=0;Wt<Ut;Wt++)It[Rt+Wt]=new Xr(Mt[kt+Wt])},sa.isEqualReversed=function(vt,_t){for(var xt=0;xt<vt.length;xt++){var Mt=vt[xt],kt=_t[vt.length-xt-1];if(Mt.compareTo(kt)!==0)return!1}return!0},sa.envelope=function(vt){for(var _t=new go,xt=0;xt<vt.length;xt++)_t.expandToInclude(vt[xt]);return _t},sa.toCoordinateArray=function(vt){return vt.toArray(sa.coordArrayType)},sa.atLeastNCoordinatesOrNothing=function(vt,_t){return _t.length>=vt?_t:[]},sa.indexOf=function(vt,_t){for(var xt=0;xt<_t.length;xt++)if(vt.equals(_t[xt]))return xt;return-1},sa.increasingDirection=function(vt){for(var _t=0;_t<Math.trunc(vt.length/2);_t++){var xt=vt.length-1-_t,Mt=vt[_t].compareTo(vt[xt]);if(Mt!==0)return Mt}return 1},sa.compare=function(vt,_t){for(var xt=0;xt<vt.length&&xt<_t.length;){var Mt=vt[xt].compareTo(_t[xt]);if(Mt!==0)return Mt;xt++}return xt<_t.length?-1:xt<vt.length?1:0},sa.minCoordinate=function(vt){for(var _t=null,xt=0;xt<vt.length;xt++)(_t===null||_t.compareTo(vt[xt])>0)&&(_t=vt[xt]);return _t},sa.extract=function(vt,_t,xt){_t=Rc.clamp(_t,0,vt.length);var Mt=(xt=Rc.clamp(xt,-1,vt.length))-_t+1;xt<0&&(Mt=0),_t>=vt.length&&(Mt=0),xt<_t&&(Mt=0);var kt=new Array(Mt).fill(null);if(Mt===0)return kt;for(var It=0,Rt=_t;Rt<=xt;Rt++)kt[It++]=vt[Rt];return kt},Object.defineProperties(sa,am);var og=function(){};og.prototype.compare=function(vt,_t){return sa.compare(vt,_t)},og.prototype.interfaces_=function(){return[Zf]},og.prototype.getClass=function(){return og};var ff=function(){};ff.prototype.compare=function(vt,_t){var xt=vt,Mt=_t;if(xt.length<Mt.length)return-1;if(xt.length>Mt.length)return 1;if(xt.length===0)return 0;var kt=sa.compare(xt,Mt);return sa.isEqualReversed(xt,Mt)?0:kt},ff.prototype.OLDcompare=function(vt,_t){var xt=vt,Mt=_t;if(xt.length<Mt.length)return-1;if(xt.length>Mt.length)return 1;if(xt.length===0)return 0;for(var kt=sa.increasingDirection(xt),It=sa.increasingDirection(Mt),Rt=kt>0?0:xt.length-1,Ut=It>0?0:xt.length-1,Wt=0;Wt<xt.length;Wt++){var qt=xt[Rt].compareTo(Mt[Ut]);if(qt!==0)return qt;Rt+=kt,Ut+=It}return 0},ff.prototype.interfaces_=function(){return[Zf]},ff.prototype.getClass=function(){return ff};var pf=function(){};pf.prototype.get=function(){},pf.prototype.put=function(){},pf.prototype.size=function(){},pf.prototype.values=function(){},pf.prototype.entrySet=function(){};var eb=function(vt){function _t(){vt.apply(this,arguments)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t}(pf);function ip(vt){this.message=vt||""}function sm(){}ip.prototype=new Error,ip.prototype.name="OperationNotSupported",sm.prototype=new il,sm.prototype.contains=function(){};var lm=function(vt){function _t(){vt.call(this),this.array_=[],arguments[0]instanceof il&&this.addAll(arguments[0])}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.contains=function(xt){for(var Mt=0,kt=this.array_.length;Mt<kt;Mt++)if(this.array_[Mt]===xt)return!0;return!1},_t.prototype.add=function(xt){return!this.contains(xt)&&(this.array_.push(xt),!0)},_t.prototype.addAll=function(xt){for(var Mt=xt.iterator();Mt.hasNext();)this.add(Mt.next());return!0},_t.prototype.remove=function(xt){throw new Error},_t.prototype.size=function(){return this.array_.length},_t.prototype.isEmpty=function(){return this.array_.length===0},_t.prototype.toArray=function(){for(var xt=[],Mt=0,kt=this.array_.length;Mt<kt;Mt++)xt.push(this.array_[Mt]);return xt},_t.prototype.iterator=function(){return new wy(this)},_t}(sm),wy=function(vt){function _t(xt){vt.call(this),this.hashSet_=xt,this.position_=0}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new df;return this.hashSet_.array_[this.position_++]},_t.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},_t.prototype.remove=function(){throw new ip},_t}(rp);function xy(vt){return vt===null?0:vt.color}function fs(vt){return vt===null?null:vt.parent}function Rh(vt,_t){vt!==null&&(vt.color=_t)}function I0(vt){return vt===null?null:vt.left}function Ey(vt){return vt===null?null:vt.right}function ql(){this.root_=null,this.size_=0}ql.prototype=new eb,ql.prototype.get=function(vt){for(var _t=this.root_;_t!==null;){var xt=vt.compareTo(_t.key);if(xt<0)_t=_t.left;else{if(!(xt>0))return _t.value;_t=_t.right}}return null},ql.prototype.put=function(vt,_t){if(this.root_===null)return this.root_={key:vt,value:_t,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var xt,Mt,kt=this.root_;do if(xt=kt,(Mt=vt.compareTo(kt.key))<0)kt=kt.left;else{if(!(Mt>0)){var It=kt.value;return kt.value=_t,It}kt=kt.right}while(kt!==null);var Rt={key:vt,left:null,right:null,value:_t,parent:xt,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return Mt<0?xt.left=Rt:xt.right=Rt,this.fixAfterInsertion(Rt),this.size_++,null},ql.prototype.fixAfterInsertion=function(vt){var _t=this;for(vt.color=1;vt!=null&&vt!==this.root_&&vt.parent.color===1;)if(fs(vt)===I0(fs(fs(vt)))){var xt=Ey(fs(fs(vt)));xy(xt)===1?(Rh(fs(vt),0),Rh(xt,0),Rh(fs(fs(vt)),1),vt=fs(fs(vt))):(vt===Ey(fs(vt))&&(vt=fs(vt),_t.rotateLeft(vt)),Rh(fs(vt),0),Rh(fs(fs(vt)),1),_t.rotateRight(fs(fs(vt))))}else{var Mt=I0(fs(fs(vt)));xy(Mt)===1?(Rh(fs(vt),0),Rh(Mt,0),Rh(fs(fs(vt)),1),vt=fs(fs(vt))):(vt===I0(fs(vt))&&(vt=fs(vt),_t.rotateRight(vt)),Rh(fs(vt),0),Rh(fs(fs(vt)),1),_t.rotateLeft(fs(fs(vt))))}this.root_.color=0},ql.prototype.values=function(){var vt=new Hi,_t=this.getFirstEntry();if(_t!==null)for(vt.add(_t.value);(_t=ql.successor(_t))!==null;)vt.add(_t.value);return vt},ql.prototype.entrySet=function(){var vt=new lm,_t=this.getFirstEntry();if(_t!==null)for(vt.add(_t);(_t=ql.successor(_t))!==null;)vt.add(_t);return vt},ql.prototype.rotateLeft=function(vt){if(vt!=null){var _t=vt.right;vt.right=_t.left,_t.left!=null&&(_t.left.parent=vt),_t.parent=vt.parent,vt.parent===null?this.root_=_t:vt.parent.left===vt?vt.parent.left=_t:vt.parent.right=_t,_t.left=vt,vt.parent=_t}},ql.prototype.rotateRight=function(vt){if(vt!=null){var _t=vt.left;vt.left=_t.right,_t.right!=null&&(_t.right.parent=vt),_t.parent=vt.parent,vt.parent===null?this.root_=_t:vt.parent.right===vt?vt.parent.right=_t:vt.parent.left=_t,_t.right=vt,vt.parent=_t}},ql.prototype.getFirstEntry=function(){var vt=this.root_;if(vt!=null)for(;vt.left!=null;)vt=vt.left;return vt},ql.successor=function(vt){if(vt===null)return null;if(vt.right!==null){for(var _t=vt.right;_t.left!==null;)_t=_t.left;return _t}for(var xt=vt.parent,Mt=vt;xt!==null&&Mt===xt.right;)Mt=xt,xt=xt.parent;return xt},ql.prototype.size=function(){return this.size_};var op=function(){};function Ty(){}function _u(){this.array_=[],arguments[0]instanceof il&&this.addAll(arguments[0])}op.prototype.interfaces_=function(){return[]},op.prototype.getClass=function(){return op},Ty.prototype=new sm,_u.prototype=new Ty,_u.prototype.contains=function(vt){for(var _t=0,xt=this.array_.length;_t<xt;_t++)if(this.array_[_t].compareTo(vt)===0)return!0;return!1},_u.prototype.add=function(vt){if(this.contains(vt))return!1;for(var _t=0,xt=this.array_.length;_t<xt;_t++)if(this.array_[_t].compareTo(vt)===1)return this.array_.splice(_t,0,vt),!0;return this.array_.push(vt),!0},_u.prototype.addAll=function(vt){for(var _t=vt.iterator();_t.hasNext();)this.add(_t.next());return!0},_u.prototype.remove=function(vt){throw new ip},_u.prototype.size=function(){return this.array_.length},_u.prototype.isEmpty=function(){return this.array_.length===0},_u.prototype.toArray=function(){for(var vt=[],_t=0,xt=this.array_.length;_t<xt;_t++)vt.push(this.array_[_t]);return vt},_u.prototype.iterator=function(){return new cm(this)};var cm=function(vt){this.treeSet_=vt,this.position_=0};cm.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new df;return this.treeSet_.array_[this.position_++]},cm.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},cm.prototype.remove=function(){throw new ip};var fh=function(){};fh.sort=function(){var vt,_t,xt,Mt,kt=arguments[0];if(arguments.length===1)Mt=function(Rt,Ut){return Rt.compareTo(Ut)},kt.sort(Mt);else if(arguments.length===2)xt=arguments[1],Mt=function(Rt,Ut){return xt.compare(Rt,Ut)},kt.sort(Mt);else if(arguments.length===3){(_t=kt.slice(arguments[1],arguments[2])).sort();var It=kt.slice(0,arguments[1]).concat(_t,kt.slice(arguments[2],kt.length));for(kt.splice(0,kt.length),vt=0;vt<It.length;vt++)kt.push(It[vt])}else if(arguments.length===4)for(_t=kt.slice(arguments[1],arguments[2]),xt=arguments[3],Mt=function(Rt,Ut){return xt.compare(Rt,Ut)},_t.sort(Mt),It=kt.slice(0,arguments[1]).concat(_t,kt.slice(arguments[2],kt.length)),kt.splice(0,kt.length),vt=0;vt<It.length;vt++)kt.push(It[vt])},fh.asList=function(vt){for(var _t=new Hi,xt=0,Mt=vt.length;xt<Mt;xt++)_t.add(vt[xt]);return _t};var Fa=function(){},ru={P:{configurable:!0},L:{configurable:!0},A:{configurable:!0},FALSE:{configurable:!0},TRUE:{configurable:!0},DONTCARE:{configurable:!0},SYM_FALSE:{configurable:!0},SYM_TRUE:{configurable:!0},SYM_DONTCARE:{configurable:!0},SYM_P:{configurable:!0},SYM_L:{configurable:!0},SYM_A:{configurable:!0}};ru.P.get=function(){return 0},ru.L.get=function(){return 1},ru.A.get=function(){return 2},ru.FALSE.get=function(){return-1},ru.TRUE.get=function(){return-2},ru.DONTCARE.get=function(){return-3},ru.SYM_FALSE.get=function(){return"F"},ru.SYM_TRUE.get=function(){return"T"},ru.SYM_DONTCARE.get=function(){return"*"},ru.SYM_P.get=function(){return"0"},ru.SYM_L.get=function(){return"1"},ru.SYM_A.get=function(){return"2"},Fa.prototype.interfaces_=function(){return[]},Fa.prototype.getClass=function(){return Fa},Fa.toDimensionSymbol=function(vt){switch(vt){case Fa.FALSE:return Fa.SYM_FALSE;case Fa.TRUE:return Fa.SYM_TRUE;case Fa.DONTCARE:return Fa.SYM_DONTCARE;case Fa.P:return Fa.SYM_P;case Fa.L:return Fa.SYM_L;case Fa.A:return Fa.SYM_A}throw new Ss("Unknown dimension value: "+vt)},Fa.toDimensionValue=function(vt){switch(tg.toUpperCase(vt)){case Fa.SYM_FALSE:return Fa.FALSE;case Fa.SYM_TRUE:return Fa.TRUE;case Fa.SYM_DONTCARE:return Fa.DONTCARE;case Fa.SYM_P:return Fa.P;case Fa.SYM_L:return Fa.L;case Fa.SYM_A:return Fa.A}throw new Ss("Unknown dimension symbol: "+vt)},Object.defineProperties(Fa,ru);var Hu=function(){};Hu.prototype.filter=function(vt){},Hu.prototype.interfaces_=function(){return[]},Hu.prototype.getClass=function(){return Hu};var wu=function(){};wu.prototype.filter=function(vt,_t){},wu.prototype.isDone=function(){},wu.prototype.isGeometryChanged=function(){},wu.prototype.interfaces_=function(){return[]},wu.prototype.getClass=function(){return wu};var nc=function(vt){function _t(Mt,kt){if(vt.call(this,kt),this._geometries=Mt||[],vt.hasNullElements(this._geometries))throw new Ss("geometries must not contain null elements")}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.computeEnvelopeInternal=function(){for(var Mt=new go,kt=0;kt<this._geometries.length;kt++)Mt.expandToInclude(this._geometries[kt].getEnvelopeInternal());return Mt},_t.prototype.getGeometryN=function(Mt){return this._geometries[Mt]},_t.prototype.getSortIndex=function(){return vt.SORTINDEX_GEOMETRYCOLLECTION},_t.prototype.getCoordinates=function(){for(var Mt=new Array(this.getNumPoints()).fill(null),kt=-1,It=0;It<this._geometries.length;It++)for(var Rt=this._geometries[It].getCoordinates(),Ut=0;Ut<Rt.length;Ut++)Mt[++kt]=Rt[Ut];return Mt},_t.prototype.getArea=function(){for(var Mt=0,kt=0;kt<this._geometries.length;kt++)Mt+=this._geometries[kt].getArea();return Mt},_t.prototype.equalsExact=function(){var Mt=this;if(arguments.length===2){var kt=arguments[0],It=arguments[1];if(!this.isEquivalentClass(kt))return!1;var Rt=kt;if(this._geometries.length!==Rt._geometries.length)return!1;for(var Ut=0;Ut<this._geometries.length;Ut++)if(!Mt._geometries[Ut].equalsExact(Rt._geometries[Ut],It))return!1;return!0}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.normalize=function(){for(var Mt=0;Mt<this._geometries.length;Mt++)this._geometries[Mt].normalize();fh.sort(this._geometries)},_t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()},_t.prototype.getBoundaryDimension=function(){for(var Mt=Fa.FALSE,kt=0;kt<this._geometries.length;kt++)Mt=Math.max(Mt,this._geometries[kt].getBoundaryDimension());return Mt},_t.prototype.getDimension=function(){for(var Mt=Fa.FALSE,kt=0;kt<this._geometries.length;kt++)Mt=Math.max(Mt,this._geometries[kt].getDimension());return Mt},_t.prototype.getLength=function(){for(var Mt=0,kt=0;kt<this._geometries.length;kt++)Mt+=this._geometries[kt].getLength();return Mt},_t.prototype.getNumPoints=function(){for(var Mt=0,kt=0;kt<this._geometries.length;kt++)Mt+=this._geometries[kt].getNumPoints();return Mt},_t.prototype.getNumGeometries=function(){return this._geometries.length},_t.prototype.reverse=function(){for(var Mt=this._geometries.length,kt=new Array(Mt).fill(null),It=0;It<this._geometries.length;It++)kt[It]=this._geometries[It].reverse();return this.getFactory().createGeometryCollection(kt)},_t.prototype.compareToSameClass=function(){var Mt=this;if(arguments.length===1){var kt=arguments[0],It=new _u(fh.asList(this._geometries)),Rt=new _u(fh.asList(kt._geometries));return this.compare(It,Rt)}if(arguments.length===2){for(var Ut=arguments[0],Wt=arguments[1],qt=Ut,on=this.getNumGeometries(),Jt=qt.getNumGeometries(),un=0;un<on&&un<Jt;){var En=Mt.getGeometryN(un),Tn=qt.getGeometryN(un),In=En.compareToSameClass(Tn,Wt);if(In!==0)return In;un++}return un<on?1:un<Jt?-1:0}},_t.prototype.apply=function(){var Mt=this;if(Do(arguments[0],hh))for(var kt=arguments[0],It=0;It<this._geometries.length;It++)Mt._geometries[It].apply(kt);else if(Do(arguments[0],wu)){var Rt=arguments[0];if(this._geometries.length===0)return null;for(var Ut=0;Ut<this._geometries.length&&(Mt._geometries[Ut].apply(Rt),!Rt.isDone());Ut++);Rt.isGeometryChanged()&&this.geometryChanged()}else if(Do(arguments[0],Hu)){var Wt=arguments[0];Wt.filter(this);for(var qt=0;qt<this._geometries.length;qt++)Mt._geometries[qt].apply(Wt)}else if(Do(arguments[0],ch)){var on=arguments[0];on.filter(this);for(var Jt=0;Jt<this._geometries.length;Jt++)Mt._geometries[Jt].apply(on)}},_t.prototype.getBoundary=function(){return this.checkNotGeometryCollection(this),qo.shouldNeverReachHere(),null},_t.prototype.clone=function(){var Mt=vt.prototype.clone.call(this);Mt._geometries=new Array(this._geometries.length).fill(null);for(var kt=0;kt<this._geometries.length;kt++)Mt._geometries[kt]=this._geometries[kt].clone();return Mt},_t.prototype.getGeometryType=function(){return"GeometryCollection"},_t.prototype.copy=function(){for(var Mt=new Array(this._geometries.length).fill(null),kt=0;kt<Mt.length;kt++)Mt[kt]=this._geometries[kt].copy();return new _t(Mt,this._factory)},_t.prototype.isEmpty=function(){for(var Mt=0;Mt<this._geometries.length;Mt++)if(!this._geometries[Mt].isEmpty())return!1;return!0},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return-5694727726395021e3},Object.defineProperties(_t,xt),_t}(Ao),sd=function(vt){function _t(){vt.apply(this,arguments)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.getSortIndex=function(){return Ao.SORTINDEX_MULTILINESTRING},_t.prototype.equalsExact=function(){if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return!!this.isEquivalentClass(Mt)&&vt.prototype.equalsExact.call(this,Mt,kt)}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fa.FALSE:0},_t.prototype.isClosed=function(){if(this.isEmpty())return!1;for(var Mt=0;Mt<this._geometries.length;Mt++)if(!this._geometries[Mt].isClosed())return!1;return!0},_t.prototype.getDimension=function(){return 1},_t.prototype.reverse=function(){for(var Mt=this._geometries.length,kt=new Array(Mt).fill(null),It=0;It<this._geometries.length;It++)kt[Mt-1-It]=this._geometries[It].reverse();return this.getFactory().createMultiLineString(kt)},_t.prototype.getBoundary=function(){return new uc(this).getBoundary()},_t.prototype.getGeometryType=function(){return"MultiLineString"},_t.prototype.copy=function(){for(var Mt=new Array(this._geometries.length).fill(null),kt=0;kt<Mt.length;kt++)Mt[kt]=this._geometries[kt].copy();return new _t(Mt,this._factory)},_t.prototype.interfaces_=function(){return[op]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return 8166665132445434e3},Object.defineProperties(_t,xt),_t}(nc),uc=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,arguments.length===1){var vt=arguments[0],_t=nu.MOD2_BOUNDARY_RULE;this._geom=vt,this._geomFact=vt.getFactory(),this._bnRule=_t}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];this._geom=xt,this._geomFact=xt.getFactory(),this._bnRule=Mt}};uc.prototype.boundaryMultiLineString=function(vt){if(this._geom.isEmpty())return this.getEmptyMultiPoint();var _t=this.computeBoundaryCoordinates(vt);return _t.length===1?this._geomFact.createPoint(_t[0]):this._geomFact.createMultiPointFromCoords(_t)},uc.prototype.getBoundary=function(){return this._geom instanceof ks?this.boundaryLineString(this._geom):this._geom instanceof sd?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()},uc.prototype.boundaryLineString=function(vt){return this._geom.isEmpty()?this.getEmptyMultiPoint():vt.isClosed()?this._bnRule.isInBoundary(2)?vt.getStartPoint():this._geomFact.createMultiPoint():this._geomFact.createMultiPoint([vt.getStartPoint(),vt.getEndPoint()])},uc.prototype.getEmptyMultiPoint=function(){return this._geomFact.createMultiPoint()},uc.prototype.computeBoundaryCoordinates=function(vt){var _t=this,xt=new Hi;this._endpointMap=new ql;for(var Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=vt.getGeometryN(Mt);kt.getNumPoints()!==0&&(_t.addEndpoint(kt.getCoordinateN(0)),_t.addEndpoint(kt.getCoordinateN(kt.getNumPoints()-1)))}for(var It=this._endpointMap.entrySet().iterator();It.hasNext();){var Rt=It.next(),Ut=Rt.getValue().count;_t._bnRule.isInBoundary(Ut)&&xt.add(Rt.getKey())}return sa.toCoordinateArray(xt)},uc.prototype.addEndpoint=function(vt){var _t=this._endpointMap.get(vt);_t===null&&(_t=new ap,this._endpointMap.put(vt,_t)),_t.count++},uc.prototype.interfaces_=function(){return[]},uc.prototype.getClass=function(){return uc},uc.getBoundary=function(){if(arguments.length===1){var vt=arguments[0],_t=new uc(vt);return _t.getBoundary()}if(arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=new uc(xt,Mt);return kt.getBoundary()}};var ap=function(){this.count=null};function My(){}function tb(){}ap.prototype.interfaces_=function(){return[]},ap.prototype.getClass=function(){return ap};var nb=function(){};function rb(){}function ib(){}function Sy(){}var iu=function(){},L0={NEWLINE:{configurable:!0},SIMPLE_ORDINATE_FORMAT:{configurable:!0}};iu.prototype.interfaces_=function(){return[]},iu.prototype.getClass=function(){return iu},iu.chars=function(vt,_t){for(var xt=new Array(_t).fill(null),Mt=0;Mt<_t;Mt++)xt[Mt]=vt;return String(xt)},iu.getStackTrace=function(){if(arguments.length===1){var vt=arguments[0],_t=new rb,xt=new My;return vt.printStackTrace(xt),_t.toString()}if(arguments.length===2){for(var Mt=arguments[0],kt=arguments[1],It="",Rt=new tb(iu.getStackTrace(Mt)),Ut=new Sy,Wt=0;Wt<kt;Wt++)try{It+=Ut.readLine()+iu.NEWLINE}catch(qt){if(!(qt instanceof ib))throw qt;qo.shouldNeverReachHere()}return It}},iu.split=function(vt,_t){for(var xt=_t.length,Mt=new Hi,kt=""+vt,It=kt.indexOf(_t);It>=0;){var Rt=kt.substring(0,It);Mt.add(Rt),It=(kt=kt.substring(It+xt)).indexOf(_t)}kt.length>0&&Mt.add(kt);for(var Ut=new Array(Mt.size()).fill(null),Wt=0;Wt<Ut.length;Wt++)Ut[Wt]=Mt.get(Wt);return Ut},iu.toString=function(){if(arguments.length===1){var vt=arguments[0];return iu.SIMPLE_ORDINATE_FORMAT.format(vt)}},iu.spaces=function(vt){return iu.chars(" ",vt)},L0.NEWLINE.get=function(){return zl.getProperty("line.separator")},L0.SIMPLE_ORDINATE_FORMAT.get=function(){return new nb},Object.defineProperties(iu,L0);var js=function(){};js.prototype.interfaces_=function(){return[]},js.prototype.getClass=function(){return js},js.copyCoord=function(vt,_t,xt,Mt){for(var kt=Math.min(vt.getDimension(),xt.getDimension()),It=0;It<kt;It++)xt.setOrdinate(Mt,It,vt.getOrdinate(_t,It))},js.isRing=function(vt){var _t=vt.size();return _t===0||!(_t<=3)&&vt.getOrdinate(0,Ma.X)===vt.getOrdinate(_t-1,Ma.X)&&vt.getOrdinate(0,Ma.Y)===vt.getOrdinate(_t-1,Ma.Y)},js.isEqual=function(vt,_t){var xt=vt.size();if(xt!==_t.size())return!1;for(var Mt=Math.min(vt.getDimension(),_t.getDimension()),kt=0;kt<xt;kt++)for(var It=0;It<Mt;It++){var Rt=vt.getOrdinate(kt,It),Ut=_t.getOrdinate(kt,It);if(vt.getOrdinate(kt,It)!==_t.getOrdinate(kt,It)&&(!jo.isNaN(Rt)||!jo.isNaN(Ut)))return!1}return!0},js.extend=function(vt,_t,xt){var Mt=vt.create(xt,_t.getDimension()),kt=_t.size();if(js.copy(_t,0,Mt,0,kt),kt>0)for(var It=kt;It<xt;It++)js.copy(_t,kt-1,Mt,It,1);return Mt},js.reverse=function(vt){for(var _t=vt.size()-1,xt=Math.trunc(_t/2),Mt=0;Mt<=xt;Mt++)js.swap(vt,Mt,_t-Mt)},js.swap=function(vt,_t,xt){if(_t===xt)return null;for(var Mt=0;Mt<vt.getDimension();Mt++){var kt=vt.getOrdinate(_t,Mt);vt.setOrdinate(_t,Mt,vt.getOrdinate(xt,Mt)),vt.setOrdinate(xt,Mt,kt)}},js.copy=function(vt,_t,xt,Mt,kt){for(var It=0;It<kt;It++)js.copyCoord(vt,_t+It,xt,Mt+It)},js.toString=function(){if(arguments.length===1){var vt=arguments[0],_t=vt.size();if(_t===0)return"()";var xt=vt.getDimension(),Mt=new Bu;Mt.append("(");for(var kt=0;kt<_t;kt++){kt>0&&Mt.append(" ");for(var It=0;It<xt;It++)It>0&&Mt.append(","),Mt.append(iu.toString(vt.getOrdinate(kt,It)))}return Mt.append(")"),Mt.toString()}},js.ensureValidRing=function(vt,_t){var xt=_t.size();return xt===0?_t:xt<=3?js.createClosedRing(vt,_t,4):_t.getOrdinate(0,Ma.X)===_t.getOrdinate(xt-1,Ma.X)&&_t.getOrdinate(0,Ma.Y)===_t.getOrdinate(xt-1,Ma.Y)?_t:js.createClosedRing(vt,_t,xt+1)},js.createClosedRing=function(vt,_t,xt){var Mt=vt.create(xt,_t.getDimension()),kt=_t.size();js.copy(_t,0,Mt,0,kt);for(var It=kt;It<xt;It++)js.copy(_t,0,Mt,It,1);return Mt};var ks=function(vt){function _t(Mt,kt){vt.call(this,kt),this._points=null,this.init(Mt)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.computeEnvelopeInternal=function(){return this.isEmpty()?new go:this._points.expandEnvelope(new go)},_t.prototype.isRing=function(){return this.isClosed()&&this.isSimple()},_t.prototype.getSortIndex=function(){return vt.SORTINDEX_LINESTRING},_t.prototype.getCoordinates=function(){return this._points.toCoordinateArray()},_t.prototype.equalsExact=function(){var Mt=this;if(arguments.length===2){var kt=arguments[0],It=arguments[1];if(!this.isEquivalentClass(kt))return!1;var Rt=kt;if(this._points.size()!==Rt._points.size())return!1;for(var Ut=0;Ut<this._points.size();Ut++)if(!Mt.equal(Mt._points.getCoordinate(Ut),Rt._points.getCoordinate(Ut),It))return!1;return!0}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.normalize=function(){for(var Mt=this,kt=0;kt<Math.trunc(this._points.size()/2);kt++){var It=Mt._points.size()-1-kt;if(!Mt._points.getCoordinate(kt).equals(Mt._points.getCoordinate(It)))return Mt._points.getCoordinate(kt).compareTo(Mt._points.getCoordinate(It))>0&&js.reverse(Mt._points),null}},_t.prototype.getCoordinate=function(){return this.isEmpty()?null:this._points.getCoordinate(0)},_t.prototype.getBoundaryDimension=function(){return this.isClosed()?Fa.FALSE:0},_t.prototype.isClosed=function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},_t.prototype.getEndPoint=function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},_t.prototype.getDimension=function(){return 1},_t.prototype.getLength=function(){return Wi.computeLength(this._points)},_t.prototype.getNumPoints=function(){return this._points.size()},_t.prototype.reverse=function(){var Mt=this._points.copy();return js.reverse(Mt),this.getFactory().createLineString(Mt)},_t.prototype.compareToSameClass=function(){var Mt=this;if(arguments.length===1){for(var kt=arguments[0],It=kt,Rt=0,Ut=0;Rt<this._points.size()&&Ut<It._points.size();){var Wt=Mt._points.getCoordinate(Rt).compareTo(It._points.getCoordinate(Ut));if(Wt!==0)return Wt;Rt++,Ut++}return Rt<this._points.size()?1:Ut<It._points.size()?-1:0}if(arguments.length===2){var qt=arguments[0],on=arguments[1],Jt=qt;return on.compare(this._points,Jt._points)}},_t.prototype.apply=function(){var Mt=this;if(Do(arguments[0],hh))for(var kt=arguments[0],It=0;It<this._points.size();It++)kt.filter(Mt._points.getCoordinate(It));else if(Do(arguments[0],wu)){var Rt=arguments[0];if(this._points.size()===0)return null;for(var Ut=0;Ut<this._points.size()&&(Rt.filter(Mt._points,Ut),!Rt.isDone());Ut++);Rt.isGeometryChanged()&&this.geometryChanged()}else if(Do(arguments[0],Hu)){var Wt=arguments[0];Wt.filter(this)}else if(Do(arguments[0],ch)){var qt=arguments[0];qt.filter(this)}},_t.prototype.getBoundary=function(){return new uc(this).getBoundary()},_t.prototype.isEquivalentClass=function(Mt){return Mt instanceof _t},_t.prototype.clone=function(){var Mt=vt.prototype.clone.call(this);return Mt._points=this._points.clone(),Mt},_t.prototype.getCoordinateN=function(Mt){return this._points.getCoordinate(Mt)},_t.prototype.getGeometryType=function(){return"LineString"},_t.prototype.copy=function(){return new _t(this._points.copy(),this._factory)},_t.prototype.getCoordinateSequence=function(){return this._points},_t.prototype.isEmpty=function(){return this._points.size()===0},_t.prototype.init=function(Mt){if(Mt===null&&(Mt=this.getFactory().getCoordinateSequenceFactory().create([])),Mt.size()===1)throw new Ss("Invalid number of points in LineString (found "+Mt.size()+" - must be 0 or >= 2)");this._points=Mt},_t.prototype.isCoordinate=function(Mt){for(var kt=0;kt<this._points.size();kt++)if(this._points.getCoordinate(kt).equals(Mt))return!0;return!1},_t.prototype.getStartPoint=function(){return this.isEmpty()?null:this.getPointN(0)},_t.prototype.getPointN=function(Mt){return this.getFactory().createPoint(this._points.getCoordinate(Mt))},_t.prototype.interfaces_=function(){return[op]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return 0x2b2b51ba435c8e00},Object.defineProperties(_t,xt),_t}(Ao),xu=function(){};xu.prototype.interfaces_=function(){return[]},xu.prototype.getClass=function(){return xu};var Tc=function(vt){function _t(Mt,kt){vt.call(this,kt),this._coordinates=Mt||null,this.init(this._coordinates)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.computeEnvelopeInternal=function(){if(this.isEmpty())return new go;var Mt=new go;return Mt.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),Mt},_t.prototype.getSortIndex=function(){return vt.SORTINDEX_POINT},_t.prototype.getCoordinates=function(){return this.isEmpty()?[]:[this.getCoordinate()]},_t.prototype.equalsExact=function(){if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return!!this.isEquivalentClass(Mt)&&(!(!this.isEmpty()||!Mt.isEmpty())||this.isEmpty()===Mt.isEmpty()&&this.equal(Mt.getCoordinate(),this.getCoordinate(),kt))}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.normalize=function(){},_t.prototype.getCoordinate=function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null},_t.prototype.getBoundaryDimension=function(){return Fa.FALSE},_t.prototype.getDimension=function(){return 0},_t.prototype.getNumPoints=function(){return this.isEmpty()?0:1},_t.prototype.reverse=function(){return this.copy()},_t.prototype.getX=function(){if(this.getCoordinate()===null)throw new Error("getX called on empty Point");return this.getCoordinate().x},_t.prototype.compareToSameClass=function(){if(arguments.length===1){var Mt=arguments[0],kt=Mt;return this.getCoordinate().compareTo(kt.getCoordinate())}if(arguments.length===2){var It=arguments[0],Rt=arguments[1],Ut=It;return Rt.compare(this._coordinates,Ut._coordinates)}},_t.prototype.apply=function(){if(Do(arguments[0],hh)){var Mt=arguments[0];if(this.isEmpty())return null;Mt.filter(this.getCoordinate())}else if(Do(arguments[0],wu)){var kt=arguments[0];if(this.isEmpty())return null;kt.filter(this._coordinates,0),kt.isGeometryChanged()&&this.geometryChanged()}else if(Do(arguments[0],Hu)){var It=arguments[0];It.filter(this)}else if(Do(arguments[0],ch)){var Rt=arguments[0];Rt.filter(this)}},_t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},_t.prototype.clone=function(){var Mt=vt.prototype.clone.call(this);return Mt._coordinates=this._coordinates.clone(),Mt},_t.prototype.getGeometryType=function(){return"Point"},_t.prototype.copy=function(){return new _t(this._coordinates.copy(),this._factory)},_t.prototype.getCoordinateSequence=function(){return this._coordinates},_t.prototype.getY=function(){if(this.getCoordinate()===null)throw new Error("getY called on empty Point");return this.getCoordinate().y},_t.prototype.isEmpty=function(){return this._coordinates.size()===0},_t.prototype.init=function(Mt){Mt===null&&(Mt=this.getFactory().getCoordinateSequenceFactory().create([])),qo.isTrue(Mt.size()<=1),this._coordinates=Mt},_t.prototype.isSimple=function(){return!0},_t.prototype.interfaces_=function(){return[xu]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return 4902022702746615e3},Object.defineProperties(_t,xt),_t}(Ao),ld=function(){};ld.prototype.interfaces_=function(){return[]},ld.prototype.getClass=function(){return ld};var ol=function(vt){function _t(Mt,kt,It){if(vt.call(this,It),this._shell=null,this._holes=null,Mt===null&&(Mt=this.getFactory().createLinearRing()),kt===null&&(kt=[]),vt.hasNullElements(kt))throw new Ss("holes must not contain null elements");if(Mt.isEmpty()&&vt.hasNonEmptyElements(kt))throw new Ss("shell is empty but holes are not");this._shell=Mt,this._holes=kt}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.computeEnvelopeInternal=function(){return this._shell.getEnvelopeInternal()},_t.prototype.getSortIndex=function(){return vt.SORTINDEX_POLYGON},_t.prototype.getCoordinates=function(){if(this.isEmpty())return[];for(var Mt=new Array(this.getNumPoints()).fill(null),kt=-1,It=this._shell.getCoordinates(),Rt=0;Rt<It.length;Rt++)Mt[++kt]=It[Rt];for(var Ut=0;Ut<this._holes.length;Ut++)for(var Wt=this._holes[Ut].getCoordinates(),qt=0;qt<Wt.length;qt++)Mt[++kt]=Wt[qt];return Mt},_t.prototype.getArea=function(){var Mt=0;Mt+=Math.abs(Wi.signedArea(this._shell.getCoordinateSequence()));for(var kt=0;kt<this._holes.length;kt++)Mt-=Math.abs(Wi.signedArea(this._holes[kt].getCoordinateSequence()));return Mt},_t.prototype.isRectangle=function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var Mt=this._shell.getCoordinateSequence(),kt=this.getEnvelopeInternal(),It=0;It<5;It++){var Rt=Mt.getX(It);if(Rt!==kt.getMinX()&&Rt!==kt.getMaxX())return!1;var Ut=Mt.getY(It);if(Ut!==kt.getMinY()&&Ut!==kt.getMaxY())return!1}for(var Wt=Mt.getX(0),qt=Mt.getY(0),on=1;on<=4;on++){var Jt=Mt.getX(on),un=Mt.getY(on);if(Jt!==Wt==(un!==qt))return!1;Wt=Jt,qt=un}return!0},_t.prototype.equalsExact=function(){var Mt=this;if(arguments.length===2){var kt=arguments[0],It=arguments[1];if(!this.isEquivalentClass(kt))return!1;var Rt=kt,Ut=this._shell,Wt=Rt._shell;if(!Ut.equalsExact(Wt,It)||this._holes.length!==Rt._holes.length)return!1;for(var qt=0;qt<this._holes.length;qt++)if(!Mt._holes[qt].equalsExact(Rt._holes[qt],It))return!1;return!0}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.normalize=function(){var Mt=this;if(arguments.length===0){this.normalize(this._shell,!0);for(var kt=0;kt<this._holes.length;kt++)Mt.normalize(Mt._holes[kt],!1);fh.sort(this._holes)}else if(arguments.length===2){var It=arguments[0],Rt=arguments[1];if(It.isEmpty())return null;var Ut=new Array(It.getCoordinates().length-1).fill(null);zl.arraycopy(It.getCoordinates(),0,Ut,0,Ut.length);var Wt=sa.minCoordinate(It.getCoordinates());sa.scroll(Ut,Wt),zl.arraycopy(Ut,0,It.getCoordinates(),0,Ut.length),It.getCoordinates()[Ut.length]=Ut[0],Wi.isCCW(It.getCoordinates())===Rt&&sa.reverse(It.getCoordinates())}},_t.prototype.getCoordinate=function(){return this._shell.getCoordinate()},_t.prototype.getNumInteriorRing=function(){return this._holes.length},_t.prototype.getBoundaryDimension=function(){return 1},_t.prototype.getDimension=function(){return 2},_t.prototype.getLength=function(){var Mt=0;Mt+=this._shell.getLength();for(var kt=0;kt<this._holes.length;kt++)Mt+=this._holes[kt].getLength();return Mt},_t.prototype.getNumPoints=function(){for(var Mt=this._shell.getNumPoints(),kt=0;kt<this._holes.length;kt++)Mt+=this._holes[kt].getNumPoints();return Mt},_t.prototype.reverse=function(){var Mt=this.copy();Mt._shell=this._shell.copy().reverse(),Mt._holes=new Array(this._holes.length).fill(null);for(var kt=0;kt<this._holes.length;kt++)Mt._holes[kt]=this._holes[kt].copy().reverse();return Mt},_t.prototype.convexHull=function(){return this.getExteriorRing().convexHull()},_t.prototype.compareToSameClass=function(){var Mt=this;if(arguments.length===1){var kt=arguments[0],It=this._shell,Rt=kt._shell;return It.compareToSameClass(Rt)}if(arguments.length===2){var Ut=arguments[0],Wt=arguments[1],qt=Ut,on=this._shell,Jt=qt._shell,un=on.compareToSameClass(Jt,Wt);if(un!==0)return un;for(var En=this.getNumInteriorRing(),Tn=qt.getNumInteriorRing(),In=0;In<En&&In<Tn;){var mn=Mt.getInteriorRingN(In),Wn=qt.getInteriorRingN(In),pr=mn.compareToSameClass(Wn,Wt);if(pr!==0)return pr;In++}return In<En?1:In<Tn?-1:0}},_t.prototype.apply=function(Mt){var kt=this;if(Do(Mt,hh)){this._shell.apply(Mt);for(var It=0;It<this._holes.length;It++)kt._holes[It].apply(Mt)}else if(Do(Mt,wu)){if(this._shell.apply(Mt),!Mt.isDone())for(var Rt=0;Rt<this._holes.length&&(kt._holes[Rt].apply(Mt),!Mt.isDone());Rt++);Mt.isGeometryChanged()&&this.geometryChanged()}else if(Do(Mt,Hu))Mt.filter(this);else if(Do(Mt,ch)){Mt.filter(this),this._shell.apply(Mt);for(var Ut=0;Ut<this._holes.length;Ut++)kt._holes[Ut].apply(Mt)}},_t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var Mt=new Array(this._holes.length+1).fill(null);Mt[0]=this._shell;for(var kt=0;kt<this._holes.length;kt++)Mt[kt+1]=this._holes[kt];return Mt.length<=1?this.getFactory().createLinearRing(Mt[0].getCoordinateSequence()):this.getFactory().createMultiLineString(Mt)},_t.prototype.clone=function(){var Mt=vt.prototype.clone.call(this);Mt._shell=this._shell.clone(),Mt._holes=new Array(this._holes.length).fill(null);for(var kt=0;kt<this._holes.length;kt++)Mt._holes[kt]=this._holes[kt].clone();return Mt},_t.prototype.getGeometryType=function(){return"Polygon"},_t.prototype.copy=function(){for(var Mt=this._shell.copy(),kt=new Array(this._holes.length).fill(null),It=0;It<kt.length;It++)kt[It]=this._holes[It].copy();return new _t(Mt,kt,this._factory)},_t.prototype.getExteriorRing=function(){return this._shell},_t.prototype.isEmpty=function(){return this._shell.isEmpty()},_t.prototype.getInteriorRingN=function(Mt){return this._holes[Mt]},_t.prototype.interfaces_=function(){return[ld]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return-0x307ffefd8dc97200},Object.defineProperties(_t,xt),_t}(Ao),sp=function(vt){function _t(){vt.apply(this,arguments)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.getSortIndex=function(){return Ao.SORTINDEX_MULTIPOINT},_t.prototype.isValid=function(){return!0},_t.prototype.equalsExact=function(){if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return!!this.isEquivalentClass(Mt)&&vt.prototype.equalsExact.call(this,Mt,kt)}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.getCoordinate=function(){if(arguments.length===1){var Mt=arguments[0];return this._geometries[Mt].getCoordinate()}return vt.prototype.getCoordinate.apply(this,arguments)},_t.prototype.getBoundaryDimension=function(){return Fa.FALSE},_t.prototype.getDimension=function(){return 0},_t.prototype.getBoundary=function(){return this.getFactory().createGeometryCollection(null)},_t.prototype.getGeometryType=function(){return"MultiPoint"},_t.prototype.copy=function(){for(var Mt=new Array(this._geometries.length).fill(null),kt=0;kt<Mt.length;kt++)Mt[kt]=this._geometries[kt].copy();return new _t(Mt,this._factory)},_t.prototype.interfaces_=function(){return[xu]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return-8048474874175356e3},Object.defineProperties(_t,xt),_t}(nc),ph=function(vt){function _t(Mt,kt){Mt instanceof Xr&&kt instanceof la&&(Mt=kt.getCoordinateSequenceFactory().create(Mt)),vt.call(this,Mt,kt),this.validateConstruction()}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={MINIMUM_VALID_SIZE:{configurable:!0},serialVersionUID:{configurable:!0}};return _t.prototype.getSortIndex=function(){return Ao.SORTINDEX_LINEARRING},_t.prototype.getBoundaryDimension=function(){return Fa.FALSE},_t.prototype.isClosed=function(){return!!this.isEmpty()||vt.prototype.isClosed.call(this)},_t.prototype.reverse=function(){var Mt=this._points.copy();return js.reverse(Mt),this.getFactory().createLinearRing(Mt)},_t.prototype.validateConstruction=function(){if(!this.isEmpty()&&!vt.prototype.isClosed.call(this))throw new Ss("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<_t.MINIMUM_VALID_SIZE)throw new Ss("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},_t.prototype.getGeometryType=function(){return"LinearRing"},_t.prototype.copy=function(){return new _t(this._points.copy(),this._factory)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},xt.MINIMUM_VALID_SIZE.get=function(){return 4},xt.serialVersionUID.get=function(){return-0x3b229e262367a600},Object.defineProperties(_t,xt),_t}(ks),gh=function(vt){function _t(){vt.apply(this,arguments)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={serialVersionUID:{configurable:!0}};return _t.prototype.getSortIndex=function(){return Ao.SORTINDEX_MULTIPOLYGON},_t.prototype.equalsExact=function(){if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return!!this.isEquivalentClass(Mt)&&vt.prototype.equalsExact.call(this,Mt,kt)}return vt.prototype.equalsExact.apply(this,arguments)},_t.prototype.getBoundaryDimension=function(){return 1},_t.prototype.getDimension=function(){return 2},_t.prototype.reverse=function(){for(var Mt=this._geometries.length,kt=new Array(Mt).fill(null),It=0;It<this._geometries.length;It++)kt[It]=this._geometries[It].reverse();return this.getFactory().createMultiPolygon(kt)},_t.prototype.getBoundary=function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var Mt=new Hi,kt=0;kt<this._geometries.length;kt++)for(var It=this._geometries[kt].getBoundary(),Rt=0;Rt<It.getNumGeometries();Rt++)Mt.add(It.getGeometryN(Rt));var Ut=new Array(Mt.size()).fill(null);return this.getFactory().createMultiLineString(Mt.toArray(Ut))},_t.prototype.getGeometryType=function(){return"MultiPolygon"},_t.prototype.copy=function(){for(var Mt=new Array(this._geometries.length).fill(null),kt=0;kt<Mt.length;kt++)Mt[kt]=this._geometries[kt].copy();return new _t(Mt,this._factory)},_t.prototype.interfaces_=function(){return[ld]},_t.prototype.getClass=function(){return _t},xt.serialVersionUID.get=function(){return-0x7a5aa1369171980},Object.defineProperties(_t,xt),_t}(nc),ou=function(vt){this._factory=vt||null,this._isUserDataCopied=!1},um={NoOpGeometryOperation:{configurable:!0},CoordinateOperation:{configurable:!0},CoordinateSequenceOperation:{configurable:!0}};ou.prototype.setCopyUserData=function(vt){this._isUserDataCopied=vt},ou.prototype.edit=function(vt,_t){if(vt===null)return null;var xt=this.editInternal(vt,_t);return this._isUserDataCopied&&xt.setUserData(vt.getUserData()),xt},ou.prototype.editInternal=function(vt,_t){return this._factory===null&&(this._factory=vt.getFactory()),vt instanceof nc?this.editGeometryCollection(vt,_t):vt instanceof ol?this.editPolygon(vt,_t):vt instanceof Tc||vt instanceof ks?_t.edit(vt,this._factory):(qo.shouldNeverReachHere("Unsupported Geometry class: "+vt.getClass().getName()),null)},ou.prototype.editGeometryCollection=function(vt,_t){for(var xt=_t.edit(vt,this._factory),Mt=new Hi,kt=0;kt<xt.getNumGeometries();kt++){var It=this.edit(xt.getGeometryN(kt),_t);It===null||It.isEmpty()||Mt.add(It)}return xt.getClass()===sp?this._factory.createMultiPoint(Mt.toArray([])):xt.getClass()===sd?this._factory.createMultiLineString(Mt.toArray([])):xt.getClass()===gh?this._factory.createMultiPolygon(Mt.toArray([])):this._factory.createGeometryCollection(Mt.toArray([]))},ou.prototype.editPolygon=function(vt,_t){var xt=_t.edit(vt,this._factory);if(xt===null&&(xt=this._factory.createPolygon(null)),xt.isEmpty())return xt;var Mt=this.edit(xt.getExteriorRing(),_t);if(Mt===null||Mt.isEmpty())return this._factory.createPolygon();for(var kt=new Hi,It=0;It<xt.getNumInteriorRing();It++){var Rt=this.edit(xt.getInteriorRingN(It),_t);Rt===null||Rt.isEmpty()||kt.add(Rt)}return this._factory.createPolygon(Mt,kt.toArray([]))},ou.prototype.interfaces_=function(){return[]},ou.prototype.getClass=function(){return ou},ou.GeometryEditorOperation=function(){},um.NoOpGeometryOperation.get=function(){return ag},um.CoordinateOperation.get=function(){return sg},um.CoordinateSequenceOperation.get=function(){return lg},Object.defineProperties(ou,um);var ag=function(){};ag.prototype.edit=function(vt,_t){return vt},ag.prototype.interfaces_=function(){return[ou.GeometryEditorOperation]},ag.prototype.getClass=function(){return ag};var sg=function(){};sg.prototype.edit=function(vt,_t){var xt=this.editCoordinates(vt.getCoordinates(),vt);return xt===null?vt:vt instanceof ph?_t.createLinearRing(xt):vt instanceof ks?_t.createLineString(xt):vt instanceof Tc?xt.length>0?_t.createPoint(xt[0]):_t.createPoint():vt},sg.prototype.interfaces_=function(){return[ou.GeometryEditorOperation]},sg.prototype.getClass=function(){return sg};var lg=function(){};lg.prototype.edit=function(vt,_t){return vt instanceof ph?_t.createLinearRing(this.edit(vt.getCoordinateSequence(),vt)):vt instanceof ks?_t.createLineString(this.edit(vt.getCoordinateSequence(),vt)):vt instanceof Tc?_t.createPoint(this.edit(vt.getCoordinateSequence(),vt)):vt},lg.prototype.interfaces_=function(){return[ou.GeometryEditorOperation]},lg.prototype.getClass=function(){return lg};var Fs=function(){var vt=this;if(this._dimension=3,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array)this._coordinates=arguments[0],this._dimension=3;else if(Number.isInteger(arguments[0])){var _t=arguments[0];this._coordinates=new Array(_t).fill(null);for(var xt=0;xt<_t;xt++)vt._coordinates[xt]=new Xr}else if(Do(arguments[0],Ma)){var Mt=arguments[0];if(Mt===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=Mt.getDimension(),this._coordinates=new Array(Mt.size()).fill(null);for(var kt=0;kt<this._coordinates.length;kt++)vt._coordinates[kt]=Mt.getCoordinateCopy(kt)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var It=arguments[0],Rt=arguments[1];this._coordinates=It,this._dimension=Rt,It===null&&(this._coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var Ut=arguments[0],Wt=arguments[1];this._coordinates=new Array(Ut).fill(null),this._dimension=Wt;for(var qt=0;qt<Ut;qt++)vt._coordinates[qt]=new Xr}}},ky={serialVersionUID:{configurable:!0}};Fs.prototype.setOrdinate=function(vt,_t,xt){switch(_t){case Ma.X:this._coordinates[vt].x=xt;break;case Ma.Y:this._coordinates[vt].y=xt;break;case Ma.Z:this._coordinates[vt].z=xt;break;default:throw new Ss("invalid ordinateIndex")}},Fs.prototype.size=function(){return this._coordinates.length},Fs.prototype.getOrdinate=function(vt,_t){switch(_t){case Ma.X:return this._coordinates[vt].x;case Ma.Y:return this._coordinates[vt].y;case Ma.Z:return this._coordinates[vt].z}return jo.NaN},Fs.prototype.getCoordinate=function(){if(arguments.length===1){var vt=arguments[0];return this._coordinates[vt]}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];xt.x=this._coordinates[_t].x,xt.y=this._coordinates[_t].y,xt.z=this._coordinates[_t].z}},Fs.prototype.getCoordinateCopy=function(vt){return new Xr(this._coordinates[vt])},Fs.prototype.getDimension=function(){return this._dimension},Fs.prototype.getX=function(vt){return this._coordinates[vt].x},Fs.prototype.clone=function(){for(var vt=new Array(this.size()).fill(null),_t=0;_t<this._coordinates.length;_t++)vt[_t]=this._coordinates[_t].clone();return new Fs(vt,this._dimension)},Fs.prototype.expandEnvelope=function(vt){for(var _t=0;_t<this._coordinates.length;_t++)vt.expandToInclude(this._coordinates[_t]);return vt},Fs.prototype.copy=function(){for(var vt=new Array(this.size()).fill(null),_t=0;_t<this._coordinates.length;_t++)vt[_t]=this._coordinates[_t].copy();return new Fs(vt,this._dimension)},Fs.prototype.toString=function(){if(this._coordinates.length>0){var vt=new Bu(17*this._coordinates.length);vt.append("("),vt.append(this._coordinates[0]);for(var _t=1;_t<this._coordinates.length;_t++)vt.append(", "),vt.append(this._coordinates[_t]);return vt.append(")"),vt.toString()}return"()"},Fs.prototype.getY=function(vt){return this._coordinates[vt].y},Fs.prototype.toCoordinateArray=function(){return this._coordinates},Fs.prototype.interfaces_=function(){return[Ma,eu]},Fs.prototype.getClass=function(){return Fs},ky.serialVersionUID.get=function(){return-0xcb44a778db18e00},Object.defineProperties(Fs,ky);var mh=function(){},O0={serialVersionUID:{configurable:!0},instanceObject:{configurable:!0}};mh.prototype.readResolve=function(){return mh.instance()},mh.prototype.create=function(){if(arguments.length===1){if(arguments[0]instanceof Array){var vt=arguments[0];return new Fs(vt)}if(Do(arguments[0],Ma)){var _t=arguments[0];return new Fs(_t)}}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return Mt>3&&(Mt=3),Mt<2?new Fs(xt):new Fs(xt,Mt)}},mh.prototype.interfaces_=function(){return[Kf,eu]},mh.prototype.getClass=function(){return mh},mh.instance=function(){return mh.instanceObject},O0.serialVersionUID.get=function(){return-0x38e49fa6cf6f2e00},O0.instanceObject.get=function(){return new mh},Object.defineProperties(mh,O0);var Cy=function(vt){function _t(){vt.call(this),this.map_=new Map}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.get=function(xt){return this.map_.get(xt)||null},_t.prototype.put=function(xt,Mt){return this.map_.set(xt,Mt),Mt},_t.prototype.values=function(){for(var xt=new Hi,Mt=this.map_.values(),kt=Mt.next();!kt.done;)xt.add(kt.value),kt=Mt.next();return xt},_t.prototype.entrySet=function(){var xt=new lm;return this.map_.entries().forEach(function(Mt){return xt.add(Mt)}),xt},_t.prototype.size=function(){return this.map_.size()},_t}(pf),Qa=function vt(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=vt.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Eu){var _t=arguments[0];this._modelType=_t,_t===vt.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var xt=arguments[0];this._modelType=vt.FIXED,this.setScale(xt)}else if(arguments[0]instanceof vt){var Mt=arguments[0];this._modelType=Mt._modelType,this._scale=Mt._scale}}},P0={serialVersionUID:{configurable:!0},maximumPreciseValue:{configurable:!0}};Qa.prototype.equals=function(vt){if(!(vt instanceof Qa))return!1;var _t=vt;return this._modelType===_t._modelType&&this._scale===_t._scale},Qa.prototype.compareTo=function(vt){var _t=vt,xt=this.getMaximumSignificantDigits(),Mt=_t.getMaximumSignificantDigits();return new ju(xt).compareTo(new ju(Mt))},Qa.prototype.getScale=function(){return this._scale},Qa.prototype.isFloating=function(){return this._modelType===Qa.FLOATING||this._modelType===Qa.FLOATING_SINGLE},Qa.prototype.getType=function(){return this._modelType},Qa.prototype.toString=function(){var vt="UNKNOWN";return this._modelType===Qa.FLOATING?vt="Floating":this._modelType===Qa.FLOATING_SINGLE?vt="Floating-Single":this._modelType===Qa.FIXED&&(vt="Fixed (Scale="+this.getScale()+")"),vt},Qa.prototype.makePrecise=function(){if(typeof arguments[0]=="number"){var vt=arguments[0];return jo.isNaN(vt)||this._modelType===Qa.FLOATING_SINGLE?vt:this._modelType===Qa.FIXED?Math.round(vt*this._scale)/this._scale:vt}if(arguments[0]instanceof Xr){var _t=arguments[0];if(this._modelType===Qa.FLOATING)return null;_t.x=this.makePrecise(_t.x),_t.y=this.makePrecise(_t.y)}},Qa.prototype.getMaximumSignificantDigits=function(){var vt=16;return this._modelType===Qa.FLOATING?vt=16:this._modelType===Qa.FLOATING_SINGLE?vt=6:this._modelType===Qa.FIXED&&(vt=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),vt},Qa.prototype.setScale=function(vt){this._scale=Math.abs(vt)},Qa.prototype.interfaces_=function(){return[eu,Jc]},Qa.prototype.getClass=function(){return Qa},Qa.mostPrecise=function(vt,_t){return vt.compareTo(_t)>=0?vt:_t},P0.serialVersionUID.get=function(){return 7777263578777804e3},P0.maximumPreciseValue.get=function(){return 9007199254740992},Object.defineProperties(Qa,P0);var Eu=function vt(_t){this._name=_t||null,vt.nameToTypeMap.put(_t,this)},cg={serialVersionUID:{configurable:!0},nameToTypeMap:{configurable:!0}};Eu.prototype.readResolve=function(){return Eu.nameToTypeMap.get(this._name)},Eu.prototype.toString=function(){return this._name},Eu.prototype.interfaces_=function(){return[eu]},Eu.prototype.getClass=function(){return Eu},cg.serialVersionUID.get=function(){return-552860263173159e4},cg.nameToTypeMap.get=function(){return new Cy},Object.defineProperties(Eu,cg),Qa.Type=Eu,Qa.FIXED=new Eu("FIXED"),Qa.FLOATING=new Eu("FLOATING"),Qa.FLOATING_SINGLE=new Eu("FLOATING SINGLE");var la=function vt(){this._precisionModel=new Qa,this._SRID=0,this._coordinateSequenceFactory=vt.getDefaultCoordinateSequenceFactory(),arguments.length===0||(arguments.length===1?Do(arguments[0],Kf)?this._coordinateSequenceFactory=arguments[0]:arguments[0]instanceof Qa&&(this._precisionModel=arguments[0]):arguments.length===2?(this._precisionModel=arguments[0],this._SRID=arguments[1]):arguments.length===3&&(this._precisionModel=arguments[0],this._SRID=arguments[1],this._coordinateSequenceFactory=arguments[2]))},Ay={serialVersionUID:{configurable:!0}};la.prototype.toGeometry=function(vt){return vt.isNull()?this.createPoint(null):vt.getMinX()===vt.getMaxX()&&vt.getMinY()===vt.getMaxY()?this.createPoint(new Xr(vt.getMinX(),vt.getMinY())):vt.getMinX()===vt.getMaxX()||vt.getMinY()===vt.getMaxY()?this.createLineString([new Xr(vt.getMinX(),vt.getMinY()),new Xr(vt.getMaxX(),vt.getMaxY())]):this.createPolygon(this.createLinearRing([new Xr(vt.getMinX(),vt.getMinY()),new Xr(vt.getMinX(),vt.getMaxY()),new Xr(vt.getMaxX(),vt.getMaxY()),new Xr(vt.getMaxX(),vt.getMinY()),new Xr(vt.getMinX(),vt.getMinY())]),null)},la.prototype.createLineString=function(vt){return vt?vt instanceof Array?new ks(this.getCoordinateSequenceFactory().create(vt),this):Do(vt,Ma)?new ks(vt,this):void 0:new ks(this.getCoordinateSequenceFactory().create([]),this)},la.prototype.createMultiLineString=function(){if(arguments.length===0)return new sd(null,this);if(arguments.length===1){var vt=arguments[0];return new sd(vt,this)}},la.prototype.buildGeometry=function(vt){for(var _t=null,xt=!1,Mt=!1,kt=vt.iterator();kt.hasNext();){var It=kt.next(),Rt=It.getClass();_t===null&&(_t=Rt),Rt!==_t&&(xt=!0),It.isGeometryCollectionOrDerived()&&(Mt=!0)}if(_t===null)return this.createGeometryCollection();if(xt||Mt)return this.createGeometryCollection(la.toGeometryArray(vt));var Ut=vt.iterator().next();if(vt.size()>1){if(Ut instanceof ol)return this.createMultiPolygon(la.toPolygonArray(vt));if(Ut instanceof ks)return this.createMultiLineString(la.toLineStringArray(vt));if(Ut instanceof Tc)return this.createMultiPoint(la.toPointArray(vt));qo.shouldNeverReachHere("Unhandled class: "+Ut.getClass().getName())}return Ut},la.prototype.createMultiPointFromCoords=function(vt){return this.createMultiPoint(vt!==null?this.getCoordinateSequenceFactory().create(vt):null)},la.prototype.createPoint=function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Xr){var vt=arguments[0];return this.createPoint(vt!==null?this.getCoordinateSequenceFactory().create([vt]):null)}if(Do(arguments[0],Ma)){var _t=arguments[0];return new Tc(_t,this)}}},la.prototype.getCoordinateSequenceFactory=function(){return this._coordinateSequenceFactory},la.prototype.createPolygon=function(){if(arguments.length===0)return new ol(null,null,this);if(arguments.length===1){if(Do(arguments[0],Ma)){var vt=arguments[0];return this.createPolygon(this.createLinearRing(vt))}if(arguments[0]instanceof Array){var _t=arguments[0];return this.createPolygon(this.createLinearRing(_t))}if(arguments[0]instanceof ph){var xt=arguments[0];return this.createPolygon(xt,null)}}else if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return new ol(Mt,kt,this)}},la.prototype.getSRID=function(){return this._SRID},la.prototype.createGeometryCollection=function(){if(arguments.length===0)return new nc(null,this);if(arguments.length===1){var vt=arguments[0];return new nc(vt,this)}},la.prototype.createGeometry=function(vt){return new ou(this).edit(vt,{edit:function(){if(arguments.length===2){var _t=arguments[0];return this._coordinateSequenceFactory.create(_t)}}})},la.prototype.getPrecisionModel=function(){return this._precisionModel},la.prototype.createLinearRing=function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var vt=arguments[0];return this.createLinearRing(vt!==null?this.getCoordinateSequenceFactory().create(vt):null)}if(Do(arguments[0],Ma)){var _t=arguments[0];return new ph(_t,this)}}},la.prototype.createMultiPolygon=function(){if(arguments.length===0)return new gh(null,this);if(arguments.length===1){var vt=arguments[0];return new gh(vt,this)}},la.prototype.createMultiPoint=function(){var vt=this;if(arguments.length===0)return new sp(null,this);if(arguments.length===1){if(arguments[0]instanceof Array){var _t=arguments[0];return new sp(_t,this)}if(arguments[0]instanceof Array){var xt=arguments[0];return this.createMultiPoint(xt!==null?this.getCoordinateSequenceFactory().create(xt):null)}if(Do(arguments[0],Ma)){var Mt=arguments[0];if(Mt===null)return this.createMultiPoint(new Array(0).fill(null));for(var kt=new Array(Mt.size()).fill(null),It=0;It<Mt.size();It++){var Rt=vt.getCoordinateSequenceFactory().create(1,Mt.getDimension());js.copy(Mt,It,Rt,0,1),kt[It]=vt.createPoint(Rt)}return this.createMultiPoint(kt)}}},la.prototype.interfaces_=function(){return[eu]},la.prototype.getClass=function(){return la},la.toMultiPolygonArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toGeometryArray=function(vt){if(vt===null)return null;var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.getDefaultCoordinateSequenceFactory=function(){return mh.instance()},la.toMultiLineStringArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toLineStringArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toMultiPointArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toLinearRingArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toPointArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.toPolygonArray=function(vt){var _t=new Array(vt.size()).fill(null);return vt.toArray(_t)},la.createPointFromInternalCoord=function(vt,_t){return _t.getPrecisionModel().makePrecise(vt),_t.getFactory().createPoint(vt)},Ay.serialVersionUID.get=function(){return-6820524753094096e3},Object.defineProperties(la,Ay);var ob=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],ug=function(vt){this.geometryFactory=vt||new la};ug.prototype.read=function(vt){var _t,xt=(_t=typeof vt=="string"?JSON.parse(vt):vt).type;if(!Vu[xt])throw new Error("Unknown GeoJSON type: "+_t.type);return ob.indexOf(xt)!==-1?Vu[xt].apply(this,[_t.coordinates]):xt==="GeometryCollection"?Vu[xt].apply(this,[_t.geometries]):Vu[xt].apply(this,[_t])},ug.prototype.write=function(vt){var _t=vt.getGeometryType();if(!zh[_t])throw new Error("Geometry is not supported");return zh[_t].apply(this,[vt])};var Vu={Feature:function(vt){var _t={};for(var xt in vt)_t[xt]=vt[xt];if(vt.geometry){var Mt=vt.geometry.type;if(!Vu[Mt])throw new Error("Unknown GeoJSON type: "+vt.type);_t.geometry=this.read(vt.geometry)}return vt.bbox&&(_t.bbox=Vu.bbox.apply(this,[vt.bbox])),_t},FeatureCollection:function(vt){var _t={};if(vt.features){_t.features=[];for(var xt=0;xt<vt.features.length;++xt)_t.features.push(this.read(vt.features[xt]))}return vt.bbox&&(_t.bbox=this.parse.bbox.apply(this,[vt.bbox])),_t},coordinates:function(vt){for(var _t=[],xt=0;xt<vt.length;++xt){var Mt=vt[xt];_t.push(new Xr(Mt[0],Mt[1]))}return _t},bbox:function(vt){return this.geometryFactory.createLinearRing([new Xr(vt[0],vt[1]),new Xr(vt[2],vt[1]),new Xr(vt[2],vt[3]),new Xr(vt[0],vt[3]),new Xr(vt[0],vt[1])])},Point:function(vt){var _t=new Xr(vt[0],vt[1]);return this.geometryFactory.createPoint(_t)},MultiPoint:function(vt){for(var _t=[],xt=0;xt<vt.length;++xt)_t.push(Vu.Point.apply(this,[vt[xt]]));return this.geometryFactory.createMultiPoint(_t)},LineString:function(vt){var _t=Vu.coordinates.apply(this,[vt]);return this.geometryFactory.createLineString(_t)},MultiLineString:function(vt){for(var _t=[],xt=0;xt<vt.length;++xt)_t.push(Vu.LineString.apply(this,[vt[xt]]));return this.geometryFactory.createMultiLineString(_t)},Polygon:function(vt){for(var _t=Vu.coordinates.apply(this,[vt[0]]),xt=this.geometryFactory.createLinearRing(_t),Mt=[],kt=1;kt<vt.length;++kt){var It=vt[kt],Rt=Vu.coordinates.apply(this,[It]),Ut=this.geometryFactory.createLinearRing(Rt);Mt.push(Ut)}return this.geometryFactory.createPolygon(xt,Mt)},MultiPolygon:function(vt){for(var _t=[],xt=0;xt<vt.length;++xt){var Mt=vt[xt];_t.push(Vu.Polygon.apply(this,[Mt]))}return this.geometryFactory.createMultiPolygon(_t)},GeometryCollection:function(vt){for(var _t=[],xt=0;xt<vt.length;++xt){var Mt=vt[xt];_t.push(this.read(Mt))}return this.geometryFactory.createGeometryCollection(_t)}},zh={coordinate:function(vt){return[vt.x,vt.y]},Point:function(vt){return{type:"Point",coordinates:zh.coordinate.apply(this,[vt.getCoordinate()])}},MultiPoint:function(vt){for(var _t=[],xt=0;xt<vt._geometries.length;++xt){var Mt=vt._geometries[xt],kt=zh.Point.apply(this,[Mt]);_t.push(kt.coordinates)}return{type:"MultiPoint",coordinates:_t}},LineString:function(vt){for(var _t=[],xt=vt.getCoordinates(),Mt=0;Mt<xt.length;++Mt){var kt=xt[Mt];_t.push(zh.coordinate.apply(this,[kt]))}return{type:"LineString",coordinates:_t}},MultiLineString:function(vt){for(var _t=[],xt=0;xt<vt._geometries.length;++xt){var Mt=vt._geometries[xt],kt=zh.LineString.apply(this,[Mt]);_t.push(kt.coordinates)}return{type:"MultiLineString",coordinates:_t}},Polygon:function(vt){var _t=[],xt=zh.LineString.apply(this,[vt._shell]);_t.push(xt.coordinates);for(var Mt=0;Mt<vt._holes.length;++Mt){var kt=vt._holes[Mt],It=zh.LineString.apply(this,[kt]);_t.push(It.coordinates)}return{type:"Polygon",coordinates:_t}},MultiPolygon:function(vt){for(var _t=[],xt=0;xt<vt._geometries.length;++xt){var Mt=vt._geometries[xt],kt=zh.Polygon.apply(this,[Mt]);_t.push(kt.coordinates)}return{type:"MultiPolygon",coordinates:_t}},GeometryCollection:function(vt){for(var _t=[],xt=0;xt<vt._geometries.length;++xt){var Mt=vt._geometries[xt],kt=Mt.getGeometryType();_t.push(zh[kt].apply(this,[Mt]))}return{type:"GeometryCollection",geometries:_t}}},hm=function(vt){this.geometryFactory=vt||new la,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new ug(this.geometryFactory)};hm.prototype.read=function(vt){var _t=this.parser.read(vt);return this.precisionModel.getType()===Qa.FIXED&&this.reducePrecision(_t),_t},hm.prototype.reducePrecision=function(vt){var _t,xt;if(vt.coordinate)this.precisionModel.makePrecise(vt.coordinate);else if(vt.points)for(_t=0,xt=vt.points.length;_t<xt;_t++)this.precisionModel.makePrecise(vt.points[_t]);else if(vt.geometries)for(_t=0,xt=vt.geometries.length;_t<xt;_t++)this.reducePrecision(vt.geometries[_t])};var Ny=function(){this.parser=new ug(this.geometryFactory)};Ny.prototype.write=function(vt){return this.parser.write(vt)};var Pi=function(){},hg={ON:{configurable:!0},LEFT:{configurable:!0},RIGHT:{configurable:!0}};function dm(vt){this.message=vt||""}function Yu(){this.array_=[]}Pi.prototype.interfaces_=function(){return[]},Pi.prototype.getClass=function(){return Pi},Pi.opposite=function(vt){return vt===Pi.LEFT?Pi.RIGHT:vt===Pi.RIGHT?Pi.LEFT:vt},hg.ON.get=function(){return 0},hg.LEFT.get=function(){return 1},hg.RIGHT.get=function(){return 2},Object.defineProperties(Pi,hg),dm.prototype=new Error,dm.prototype.name="EmptyStackException",Yu.prototype=new bu,Yu.prototype.add=function(vt){return this.array_.push(vt),!0},Yu.prototype.get=function(vt){if(vt<0||vt>=this.size())throw new Error;return this.array_[vt]},Yu.prototype.push=function(vt){return this.array_.push(vt),vt},Yu.prototype.pop=function(vt){if(this.array_.length===0)throw new dm;return this.array_.pop()},Yu.prototype.peek=function(){if(this.array_.length===0)throw new dm;return this.array_[this.array_.length-1]},Yu.prototype.empty=function(){return this.array_.length===0},Yu.prototype.isEmpty=function(){return this.empty()},Yu.prototype.search=function(vt){return this.array_.indexOf(vt)},Yu.prototype.size=function(){return this.array_.length},Yu.prototype.toArray=function(){for(var vt=[],_t=0,xt=this.array_.length;_t<xt;_t++)vt.push(this.array_[_t]);return vt};var Tu=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null};Tu.prototype.getCoordinate=function(){return this._minCoord},Tu.prototype.getRightmostSide=function(vt,_t){var xt=this.getRightmostSideOfSegment(vt,_t);return xt<0&&(xt=this.getRightmostSideOfSegment(vt,_t-1)),xt<0&&(this._minCoord=null,this.checkForRightmostCoordinate(vt)),xt},Tu.prototype.findRightmostEdgeAtVertex=function(){var vt=this._minDe.getEdge().getCoordinates();qo.isTrue(this._minIndex>0&&this._minIndex<vt.length,"rightmost point expected to be interior vertex of edge");var _t=vt[this._minIndex-1],xt=vt[this._minIndex+1],Mt=Wi.computeOrientation(this._minCoord,xt,_t),kt=!1;(_t.y<this._minCoord.y&&xt.y<this._minCoord.y&&Mt===Wi.COUNTERCLOCKWISE||_t.y>this._minCoord.y&&xt.y>this._minCoord.y&&Mt===Wi.CLOCKWISE)&&(kt=!0),kt&&(this._minIndex=this._minIndex-1)},Tu.prototype.getRightmostSideOfSegment=function(vt,_t){var xt=vt.getEdge().getCoordinates();if(_t<0||_t+1>=xt.length||xt[_t].y===xt[_t+1].y)return-1;var Mt=Pi.LEFT;return xt[_t].y<xt[_t+1].y&&(Mt=Pi.RIGHT),Mt},Tu.prototype.getEdge=function(){return this._orientedDe},Tu.prototype.checkForRightmostCoordinate=function(vt){for(var _t=this,xt=vt.getEdge().getCoordinates(),Mt=0;Mt<xt.length-1;Mt++)(_t._minCoord===null||xt[Mt].x>_t._minCoord.x)&&(_t._minDe=vt,_t._minIndex=Mt,_t._minCoord=xt[Mt])},Tu.prototype.findRightmostEdgeAtNode=function(){var vt=this._minDe.getNode().getEdges();this._minDe=vt.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)},Tu.prototype.findEdge=function(vt){for(var _t=vt.iterator();_t.hasNext();){var xt=_t.next();xt.isForward()&&this.checkForRightmostCoordinate(xt)}qo.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Pi.LEFT&&(this._orientedDe=this._minDe.getSym())},Tu.prototype.interfaces_=function(){return[]},Tu.prototype.getClass=function(){return Tu};var $h=function(vt){function _t(xt,Mt){vt.call(this,_t.msgWithCoord(xt,Mt)),this.pt=Mt?new Xr(Mt):null,this.name="TopologyException"}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.getCoordinate=function(){return this.pt},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.msgWithCoord=function(xt,Mt){return Mt?xt:xt+" [ "+Mt+" ]"},_t}(Ph),fm=function(){this.array_=[]};fm.prototype.addLast=function(vt){this.array_.push(vt)},fm.prototype.removeFirst=function(){return this.array_.shift()},fm.prototype.isEmpty=function(){return this.array_.length===0};var Ql=function(){this._finder=null,this._dirEdgeList=new Hi,this._nodes=new Hi,this._rightMostCoord=null,this._env=null,this._finder=new Tu};Ql.prototype.clearVisitedEdges=function(){for(var vt=this._dirEdgeList.iterator();vt.hasNext();)vt.next().setVisited(!1)},Ql.prototype.getRightmostCoordinate=function(){return this._rightMostCoord},Ql.prototype.computeNodeDepth=function(vt){for(var _t=null,xt=vt.getEdges().iterator();xt.hasNext();){var Mt=xt.next();if(Mt.isVisited()||Mt.getSym().isVisited()){_t=Mt;break}}if(_t===null)throw new $h("unable to find edge to compute depths at "+vt.getCoordinate());vt.getEdges().computeDepths(_t);for(var kt=vt.getEdges().iterator();kt.hasNext();){var It=kt.next();It.setVisited(!0),this.copySymDepths(It)}},Ql.prototype.computeDepth=function(vt){this.clearVisitedEdges();var _t=this._finder.getEdge();_t.setEdgeDepths(Pi.RIGHT,vt),this.copySymDepths(_t),this.computeDepths(_t)},Ql.prototype.create=function(vt){this.addReachable(vt),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()},Ql.prototype.findResultEdges=function(){for(var vt=this._dirEdgeList.iterator();vt.hasNext();){var _t=vt.next();_t.getDepth(Pi.RIGHT)>=1&&_t.getDepth(Pi.LEFT)<=0&&!_t.isInteriorAreaEdge()&&_t.setInResult(!0)}},Ql.prototype.computeDepths=function(vt){var _t=new lm,xt=new fm,Mt=vt.getNode();for(xt.addLast(Mt),_t.add(Mt),vt.setVisited(!0);!xt.isEmpty();){var kt=xt.removeFirst();_t.add(kt),this.computeNodeDepth(kt);for(var It=kt.getEdges().iterator();It.hasNext();){var Rt=It.next().getSym();if(!Rt.isVisited()){var Ut=Rt.getNode();_t.contains(Ut)||(xt.addLast(Ut),_t.add(Ut))}}}},Ql.prototype.compareTo=function(vt){var _t=vt;return this._rightMostCoord.x<_t._rightMostCoord.x?-1:this._rightMostCoord.x>_t._rightMostCoord.x?1:0},Ql.prototype.getEnvelope=function(){if(this._env===null){for(var vt=new go,_t=this._dirEdgeList.iterator();_t.hasNext();)for(var xt=_t.next().getEdge().getCoordinates(),Mt=0;Mt<xt.length-1;Mt++)vt.expandToInclude(xt[Mt]);this._env=vt}return this._env},Ql.prototype.addReachable=function(vt){var _t=new Yu;for(_t.add(vt);!_t.empty();){var xt=_t.pop();this.add(xt,_t)}},Ql.prototype.copySymDepths=function(vt){var _t=vt.getSym();_t.setDepth(Pi.LEFT,vt.getDepth(Pi.RIGHT)),_t.setDepth(Pi.RIGHT,vt.getDepth(Pi.LEFT))},Ql.prototype.add=function(vt,_t){vt.setVisited(!0),this._nodes.add(vt);for(var xt=vt.getEdges().iterator();xt.hasNext();){var Mt=xt.next();this._dirEdgeList.add(Mt);var kt=Mt.getSym().getNode();kt.isVisited()||_t.push(kt)}},Ql.prototype.getNodes=function(){return this._nodes},Ql.prototype.getDirectedEdges=function(){return this._dirEdgeList},Ql.prototype.interfaces_=function(){return[Jc]},Ql.prototype.getClass=function(){return Ql};var ps=function vt(){var _t=this;if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var xt=arguments[0];this.init(xt.length)}else if(Number.isInteger(arguments[0])){var Mt=arguments[0];this.init(1),this.location[Pi.ON]=Mt}else if(arguments[0]instanceof vt){var kt=arguments[0];if(this.init(kt.location.length),kt!==null)for(var It=0;It<this.location.length;It++)_t.location[It]=kt.location[It]}}else if(arguments.length===3){var Rt=arguments[0],Ut=arguments[1],Wt=arguments[2];this.init(3),this.location[Pi.ON]=Rt,this.location[Pi.LEFT]=Ut,this.location[Pi.RIGHT]=Wt}};ps.prototype.setAllLocations=function(vt){for(var _t=0;_t<this.location.length;_t++)this.location[_t]=vt},ps.prototype.isNull=function(){for(var vt=0;vt<this.location.length;vt++)if(this.location[vt]!==ai.NONE)return!1;return!0},ps.prototype.setAllLocationsIfNull=function(vt){for(var _t=0;_t<this.location.length;_t++)this.location[_t]===ai.NONE&&(this.location[_t]=vt)},ps.prototype.isLine=function(){return this.location.length===1},ps.prototype.merge=function(vt){if(vt.location.length>this.location.length){var _t=new Array(3).fill(null);_t[Pi.ON]=this.location[Pi.ON],_t[Pi.LEFT]=ai.NONE,_t[Pi.RIGHT]=ai.NONE,this.location=_t}for(var xt=0;xt<this.location.length;xt++)this.location[xt]===ai.NONE&&xt<vt.location.length&&(this.location[xt]=vt.location[xt])},ps.prototype.getLocations=function(){return this.location},ps.prototype.flip=function(){if(this.location.length<=1)return null;var vt=this.location[Pi.LEFT];this.location[Pi.LEFT]=this.location[Pi.RIGHT],this.location[Pi.RIGHT]=vt},ps.prototype.toString=function(){var vt=new Bu;return this.location.length>1&&vt.append(ai.toLocationSymbol(this.location[Pi.LEFT])),vt.append(ai.toLocationSymbol(this.location[Pi.ON])),this.location.length>1&&vt.append(ai.toLocationSymbol(this.location[Pi.RIGHT])),vt.toString()},ps.prototype.setLocations=function(vt,_t,xt){this.location[Pi.ON]=vt,this.location[Pi.LEFT]=_t,this.location[Pi.RIGHT]=xt},ps.prototype.get=function(vt){return vt<this.location.length?this.location[vt]:ai.NONE},ps.prototype.isArea=function(){return this.location.length>1},ps.prototype.isAnyNull=function(){for(var vt=0;vt<this.location.length;vt++)if(this.location[vt]===ai.NONE)return!0;return!1},ps.prototype.setLocation=function(){if(arguments.length===1){var vt=arguments[0];this.setLocation(Pi.ON,vt)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];this.location[_t]=xt}},ps.prototype.init=function(vt){this.location=new Array(vt).fill(null),this.setAllLocations(ai.NONE)},ps.prototype.isEqualOnSide=function(vt,_t){return this.location[_t]===vt.location[_t]},ps.prototype.allPositionsEqual=function(vt){for(var _t=0;_t<this.location.length;_t++)if(this.location[_t]!==vt)return!1;return!0},ps.prototype.interfaces_=function(){return[]},ps.prototype.getClass=function(){return ps};var ns=function vt(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var _t=arguments[0];this.elt[0]=new ps(_t),this.elt[1]=new ps(_t)}else if(arguments[0]instanceof vt){var xt=arguments[0];this.elt[0]=new ps(xt.elt[0]),this.elt[1]=new ps(xt.elt[1])}}else if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];this.elt[0]=new ps(ai.NONE),this.elt[1]=new ps(ai.NONE),this.elt[Mt].setLocation(kt)}else if(arguments.length===3){var It=arguments[0],Rt=arguments[1],Ut=arguments[2];this.elt[0]=new ps(It,Rt,Ut),this.elt[1]=new ps(It,Rt,Ut)}else if(arguments.length===4){var Wt=arguments[0],qt=arguments[1],on=arguments[2],Jt=arguments[3];this.elt[0]=new ps(ai.NONE,ai.NONE,ai.NONE),this.elt[1]=new ps(ai.NONE,ai.NONE,ai.NONE),this.elt[Wt].setLocations(qt,on,Jt)}};ns.prototype.getGeometryCount=function(){var vt=0;return this.elt[0].isNull()||vt++,this.elt[1].isNull()||vt++,vt},ns.prototype.setAllLocations=function(vt,_t){this.elt[vt].setAllLocations(_t)},ns.prototype.isNull=function(vt){return this.elt[vt].isNull()},ns.prototype.setAllLocationsIfNull=function(){if(arguments.length===1){var vt=arguments[0];this.setAllLocationsIfNull(0,vt),this.setAllLocationsIfNull(1,vt)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];this.elt[_t].setAllLocationsIfNull(xt)}},ns.prototype.isLine=function(vt){return this.elt[vt].isLine()},ns.prototype.merge=function(vt){for(var _t=this,xt=0;xt<2;xt++)_t.elt[xt]===null&&vt.elt[xt]!==null?_t.elt[xt]=new ps(vt.elt[xt]):_t.elt[xt].merge(vt.elt[xt])},ns.prototype.flip=function(){this.elt[0].flip(),this.elt[1].flip()},ns.prototype.getLocation=function(){if(arguments.length===1){var vt=arguments[0];return this.elt[vt].get(Pi.ON)}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return this.elt[_t].get(xt)}},ns.prototype.toString=function(){var vt=new Bu;return this.elt[0]!==null&&(vt.append("A:"),vt.append(this.elt[0].toString())),this.elt[1]!==null&&(vt.append(" B:"),vt.append(this.elt[1].toString())),vt.toString()},ns.prototype.isArea=function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var vt=arguments[0];return this.elt[vt].isArea()}},ns.prototype.isAnyNull=function(vt){return this.elt[vt].isAnyNull()},ns.prototype.setLocation=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1];this.elt[vt].setLocation(Pi.ON,_t)}else if(arguments.length===3){var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this.elt[xt].setLocation(Mt,kt)}},ns.prototype.isEqualOnSide=function(vt,_t){return this.elt[0].isEqualOnSide(vt.elt[0],_t)&&this.elt[1].isEqualOnSide(vt.elt[1],_t)},ns.prototype.allPositionsEqual=function(vt,_t){return this.elt[vt].allPositionsEqual(_t)},ns.prototype.toLine=function(vt){this.elt[vt].isArea()&&(this.elt[vt]=new ps(this.elt[vt].location[0]))},ns.prototype.interfaces_=function(){return[]},ns.prototype.getClass=function(){return ns},ns.toLineLabel=function(vt){for(var _t=new ns(ai.NONE),xt=0;xt<2;xt++)_t.setLocation(xt,vt.getLocation(xt));return _t};var Us=function(){this._startDe=null,this._maxNodeDegree=-1,this._edges=new Hi,this._pts=new Hi,this._label=new ns(ai.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Hi,this._geometryFactory=null;var vt=arguments[0],_t=arguments[1];this._geometryFactory=_t,this.computePoints(vt),this.computeRing()};Us.prototype.computeRing=function(){if(this._ring!==null)return null;for(var vt=new Array(this._pts.size()).fill(null),_t=0;_t<this._pts.size();_t++)vt[_t]=this._pts.get(_t);this._ring=this._geometryFactory.createLinearRing(vt),this._isHole=Wi.isCCW(this._ring.getCoordinates())},Us.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},Us.prototype.computePoints=function(vt){var _t=this;this._startDe=vt;var xt=vt,Mt=!0;do{if(xt===null)throw new $h("Found null DirectedEdge");if(xt.getEdgeRing()===_t)throw new $h("Directed Edge visited twice during ring-building at "+xt.getCoordinate());_t._edges.add(xt);var kt=xt.getLabel();qo.isTrue(kt.isArea()),_t.mergeLabel(kt),_t.addPoints(xt.getEdge(),xt.isForward(),Mt),Mt=!1,_t.setEdgeRing(xt,_t),xt=_t.getNext(xt)}while(xt!==this._startDe)},Us.prototype.getLinearRing=function(){return this._ring},Us.prototype.getCoordinate=function(vt){return this._pts.get(vt)},Us.prototype.computeMaxNodeDegree=function(){var vt=this;this._maxNodeDegree=0;var _t=this._startDe;do{var xt=_t.getNode().getEdges().getOutgoingDegree(vt);xt>vt._maxNodeDegree&&(vt._maxNodeDegree=xt),_t=vt.getNext(_t)}while(_t!==this._startDe);this._maxNodeDegree*=2},Us.prototype.addPoints=function(vt,_t,xt){var Mt=vt.getCoordinates();if(_t){var kt=1;xt&&(kt=0);for(var It=kt;It<Mt.length;It++)this._pts.add(Mt[It])}else{var Rt=Mt.length-2;xt&&(Rt=Mt.length-1);for(var Ut=Rt;Ut>=0;Ut--)this._pts.add(Mt[Ut])}},Us.prototype.isHole=function(){return this._isHole},Us.prototype.setInResult=function(){var vt=this._startDe;do vt.getEdge().setInResult(!0),vt=vt.getNext();while(vt!==this._startDe)},Us.prototype.containsPoint=function(vt){var _t=this.getLinearRing();if(!_t.getEnvelopeInternal().contains(vt)||!Wi.isPointInRing(vt,_t.getCoordinates()))return!1;for(var xt=this._holes.iterator();xt.hasNext();)if(xt.next().containsPoint(vt))return!1;return!0},Us.prototype.addHole=function(vt){this._holes.add(vt)},Us.prototype.isShell=function(){return this._shell===null},Us.prototype.getLabel=function(){return this._label},Us.prototype.getEdges=function(){return this._edges},Us.prototype.getMaxNodeDegree=function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree},Us.prototype.getShell=function(){return this._shell},Us.prototype.mergeLabel=function(){if(arguments.length===1){var vt=arguments[0];this.mergeLabel(vt,0),this.mergeLabel(vt,1)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1],Mt=_t.getLocation(xt,Pi.RIGHT);if(Mt===ai.NONE)return null;if(this._label.getLocation(xt)===ai.NONE)return this._label.setLocation(xt,Mt),null}},Us.prototype.setShell=function(vt){this._shell=vt,vt!==null&&vt.addHole(this)},Us.prototype.toPolygon=function(vt){for(var _t=new Array(this._holes.size()).fill(null),xt=0;xt<this._holes.size();xt++)_t[xt]=this._holes.get(xt).getLinearRing();return vt.createPolygon(this.getLinearRing(),_t)},Us.prototype.interfaces_=function(){return[]},Us.prototype.getClass=function(){return Us};var ab=function(vt){function _t(){var xt=arguments[0],Mt=arguments[1];vt.call(this,xt,Mt)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.setEdgeRing=function(xt,Mt){xt.setMinEdgeRing(Mt)},_t.prototype.getNext=function(xt){return xt.getNextMin()},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Us),sb=function(vt){function _t(){var xt=arguments[0],Mt=arguments[1];vt.call(this,xt,Mt)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.buildMinimalRings=function(){var xt=new Hi,Mt=this._startDe;do{if(Mt.getMinEdgeRing()===null){var kt=new ab(Mt,this._geometryFactory);xt.add(kt)}Mt=Mt.getNext()}while(Mt!==this._startDe);return xt},_t.prototype.setEdgeRing=function(xt,Mt){xt.setEdgeRing(Mt)},_t.prototype.linkDirectedEdgesForMinimalEdgeRings=function(){var xt=this._startDe;do xt.getNode().getEdges().linkMinimalDirectedEdges(this),xt=xt.getNext();while(xt!==this._startDe)},_t.prototype.getNext=function(xt){return xt.getNext()},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Us),Mc=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var vt=arguments[0];this._label=vt}}};Mc.prototype.setVisited=function(vt){this._isVisited=vt},Mc.prototype.setInResult=function(vt){this._isInResult=vt},Mc.prototype.isCovered=function(){return this._isCovered},Mc.prototype.isCoveredSet=function(){return this._isCoveredSet},Mc.prototype.setLabel=function(vt){this._label=vt},Mc.prototype.getLabel=function(){return this._label},Mc.prototype.setCovered=function(vt){this._isCovered=vt,this._isCoveredSet=!0},Mc.prototype.updateIM=function(vt){qo.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(vt)},Mc.prototype.isInResult=function(){return this._isInResult},Mc.prototype.isVisited=function(){return this._isVisited},Mc.prototype.interfaces_=function(){return[]},Mc.prototype.getClass=function(){return Mc};var pm=function(vt){function _t(){vt.call(this),this._coord=null,this._edges=null;var xt=arguments[0],Mt=arguments[1];this._coord=xt,this._edges=Mt,this._label=new ns(0,ai.NONE)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.isIncidentEdgeInResult=function(){for(var xt=this.getEdges().getEdges().iterator();xt.hasNext();)if(xt.next().getEdge().isInResult())return!0;return!1},_t.prototype.isIsolated=function(){return this._label.getGeometryCount()===1},_t.prototype.getCoordinate=function(){return this._coord},_t.prototype.print=function(xt){xt.println("node "+this._coord+" lbl: "+this._label)},_t.prototype.computeIM=function(xt){},_t.prototype.computeMergedLocation=function(xt,Mt){var kt=ai.NONE;if(kt=this._label.getLocation(Mt),!xt.isNull(Mt)){var It=xt.getLocation(Mt);kt!==ai.BOUNDARY&&(kt=It)}return kt},_t.prototype.setLabel=function(){if(arguments.length!==2)return vt.prototype.setLabel.apply(this,arguments);var xt=arguments[0],Mt=arguments[1];this._label===null?this._label=new ns(xt,Mt):this._label.setLocation(xt,Mt)},_t.prototype.getEdges=function(){return this._edges},_t.prototype.mergeLabel=function(){var xt=this;if(arguments[0]instanceof _t){var Mt=arguments[0];this.mergeLabel(Mt._label)}else if(arguments[0]instanceof ns)for(var kt=arguments[0],It=0;It<2;It++){var Rt=xt.computeMergedLocation(kt,It),Ut=xt._label.getLocation(It);Ut===ai.NONE&&xt._label.setLocation(It,Rt)}},_t.prototype.add=function(xt){this._edges.insert(xt),xt.setNode(this)},_t.prototype.setLabelBoundary=function(xt){if(this._label===null)return null;var Mt=ai.NONE;this._label!==null&&(Mt=this._label.getLocation(xt));var kt=null;switch(Mt){case ai.BOUNDARY:kt=ai.INTERIOR;break;case ai.INTERIOR:default:kt=ai.BOUNDARY}this._label.setLocation(xt,kt)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Mc),Gu=function(){this.nodeMap=new ql,this.nodeFact=null;var vt=arguments[0];this.nodeFact=vt};Gu.prototype.find=function(vt){return this.nodeMap.get(vt)},Gu.prototype.addNode=function(){if(arguments[0]instanceof Xr){var vt=arguments[0],_t=this.nodeMap.get(vt);return _t===null&&(_t=this.nodeFact.createNode(vt),this.nodeMap.put(vt,_t)),_t}if(arguments[0]instanceof pm){var xt=arguments[0],Mt=this.nodeMap.get(xt.getCoordinate());return Mt===null?(this.nodeMap.put(xt.getCoordinate(),xt),xt):(Mt.mergeLabel(xt),Mt)}},Gu.prototype.print=function(vt){for(var _t=this.iterator();_t.hasNext();)_t.next().print(vt)},Gu.prototype.iterator=function(){return this.nodeMap.values().iterator()},Gu.prototype.values=function(){return this.nodeMap.values()},Gu.prototype.getBoundaryNodes=function(vt){for(var _t=new Hi,xt=this.iterator();xt.hasNext();){var Mt=xt.next();Mt.getLabel().getLocation(vt)===ai.BOUNDARY&&_t.add(Mt)}return _t},Gu.prototype.add=function(vt){var _t=vt.getCoordinate();this.addNode(_t).add(vt)},Gu.prototype.interfaces_=function(){return[]},Gu.prototype.getClass=function(){return Gu};var is=function(){},dg={NE:{configurable:!0},NW:{configurable:!0},SW:{configurable:!0},SE:{configurable:!0}};is.prototype.interfaces_=function(){return[]},is.prototype.getClass=function(){return is},is.isNorthern=function(vt){return vt===is.NE||vt===is.NW},is.isOpposite=function(vt,_t){return vt!==_t&&(vt-_t+4)%4===2},is.commonHalfPlane=function(vt,_t){if(vt===_t)return vt;if((vt-_t+4)%4===2)return-1;var xt=vt<_t?vt:_t;return xt===0&&(vt>_t?vt:_t)===3?3:xt},is.isInHalfPlane=function(vt,_t){return _t===is.SE?vt===is.SE||vt===is.SW:vt===_t||vt===_t+1},is.quadrant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var vt=arguments[0],_t=arguments[1];if(vt===0&&_t===0)throw new Ss("Cannot compute the quadrant for point ( "+vt+", "+_t+" )");return vt>=0?_t>=0?is.NE:is.SE:_t>=0?is.NW:is.SW}if(arguments[0]instanceof Xr&&arguments[1]instanceof Xr){var xt=arguments[0],Mt=arguments[1];if(Mt.x===xt.x&&Mt.y===xt.y)throw new Ss("Cannot compute the quadrant for two identical points "+xt);return Mt.x>=xt.x?Mt.y>=xt.y?is.NE:is.SE:Mt.y>=xt.y?is.NW:is.SW}},dg.NE.get=function(){return 0},dg.NW.get=function(){return 1},dg.SW.get=function(){return 2},dg.SE.get=function(){return 3},Object.defineProperties(is,dg);var Xl=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var vt=arguments[0];this._edge=vt}else if(arguments.length===3){var _t=arguments[0],xt=arguments[1],Mt=arguments[2],kt=null;this._edge=_t,this.init(xt,Mt),this._label=kt}else if(arguments.length===4){var It=arguments[0],Rt=arguments[1],Ut=arguments[2],Wt=arguments[3];this._edge=It,this.init(Rt,Ut),this._label=Wt}};Xl.prototype.compareDirection=function(vt){return this._dx===vt._dx&&this._dy===vt._dy?0:this._quadrant>vt._quadrant?1:this._quadrant<vt._quadrant?-1:Wi.computeOrientation(vt._p0,vt._p1,this._p1)},Xl.prototype.getDy=function(){return this._dy},Xl.prototype.getCoordinate=function(){return this._p0},Xl.prototype.setNode=function(vt){this._node=vt},Xl.prototype.print=function(vt){var _t=Math.atan2(this._dy,this._dx),xt=this.getClass().getName(),Mt=xt.lastIndexOf("."),kt=xt.substring(Mt+1);vt.print("  "+kt+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+_t+"   "+this._label)},Xl.prototype.compareTo=function(vt){var _t=vt;return this.compareDirection(_t)},Xl.prototype.getDirectedCoordinate=function(){return this._p1},Xl.prototype.getDx=function(){return this._dx},Xl.prototype.getLabel=function(){return this._label},Xl.prototype.getEdge=function(){return this._edge},Xl.prototype.getQuadrant=function(){return this._quadrant},Xl.prototype.getNode=function(){return this._node},Xl.prototype.toString=function(){var vt=Math.atan2(this._dy,this._dx),_t=this.getClass().getName(),xt=_t.lastIndexOf(".");return"  "+_t.substring(xt+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+vt+"   "+this._label},Xl.prototype.computeLabel=function(vt){},Xl.prototype.init=function(vt,_t){this._p0=vt,this._p1=_t,this._dx=_t.x-vt.x,this._dy=_t.y-vt.y,this._quadrant=is.quadrant(this._dx,this._dy),qo.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")},Xl.prototype.interfaces_=function(){return[Jc]},Xl.prototype.getClass=function(){return Xl};var gm=function(vt){function _t(){var xt=arguments[0],Mt=arguments[1];if(vt.call(this,xt),this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999],this._isForward=Mt,Mt)this.init(xt.getCoordinate(0),xt.getCoordinate(1));else{var kt=xt.getNumPoints()-1;this.init(xt.getCoordinate(kt),xt.getCoordinate(kt-1))}this.computeDirectedLabel()}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.getNextMin=function(){return this._nextMin},_t.prototype.getDepth=function(xt){return this._depth[xt]},_t.prototype.setVisited=function(xt){this._isVisited=xt},_t.prototype.computeDirectedLabel=function(){this._label=new ns(this._edge.getLabel()),this._isForward||this._label.flip()},_t.prototype.getNext=function(){return this._next},_t.prototype.setDepth=function(xt,Mt){if(this._depth[xt]!==-999&&this._depth[xt]!==Mt)throw new $h("assigned depths do not match",this.getCoordinate());this._depth[xt]=Mt},_t.prototype.isInteriorAreaEdge=function(){for(var xt=this,Mt=!0,kt=0;kt<2;kt++)xt._label.isArea(kt)&&xt._label.getLocation(kt,Pi.LEFT)===ai.INTERIOR&&xt._label.getLocation(kt,Pi.RIGHT)===ai.INTERIOR||(Mt=!1);return Mt},_t.prototype.setNextMin=function(xt){this._nextMin=xt},_t.prototype.print=function(xt){vt.prototype.print.call(this,xt),xt.print(" "+this._depth[Pi.LEFT]+"/"+this._depth[Pi.RIGHT]),xt.print(" ("+this.getDepthDelta()+")"),this._isInResult&&xt.print(" inResult")},_t.prototype.setMinEdgeRing=function(xt){this._minEdgeRing=xt},_t.prototype.isLineEdge=function(){var xt=this._label.isLine(0)||this._label.isLine(1),Mt=!this._label.isArea(0)||this._label.allPositionsEqual(0,ai.EXTERIOR),kt=!this._label.isArea(1)||this._label.allPositionsEqual(1,ai.EXTERIOR);return xt&&Mt&&kt},_t.prototype.setEdgeRing=function(xt){this._edgeRing=xt},_t.prototype.getMinEdgeRing=function(){return this._minEdgeRing},_t.prototype.getDepthDelta=function(){var xt=this._edge.getDepthDelta();return this._isForward||(xt=-xt),xt},_t.prototype.setInResult=function(xt){this._isInResult=xt},_t.prototype.getSym=function(){return this._sym},_t.prototype.isForward=function(){return this._isForward},_t.prototype.getEdge=function(){return this._edge},_t.prototype.printEdge=function(xt){this.print(xt),xt.print(" "),this._isForward?this._edge.print(xt):this._edge.printReverse(xt)},_t.prototype.setSym=function(xt){this._sym=xt},_t.prototype.setVisitedEdge=function(xt){this.setVisited(xt),this._sym.setVisited(xt)},_t.prototype.setEdgeDepths=function(xt,Mt){var kt=this.getEdge().getDepthDelta();this._isForward||(kt=-kt);var It=1;xt===Pi.LEFT&&(It=-1);var Rt=Pi.opposite(xt),Ut=Mt+kt*It;this.setDepth(xt,Mt),this.setDepth(Rt,Ut)},_t.prototype.getEdgeRing=function(){return this._edgeRing},_t.prototype.isInResult=function(){return this._isInResult},_t.prototype.setNext=function(xt){this._next=xt},_t.prototype.isVisited=function(){return this._isVisited},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.depthFactor=function(xt,Mt){return xt===ai.EXTERIOR&&Mt===ai.INTERIOR?1:xt===ai.INTERIOR&&Mt===ai.EXTERIOR?-1:0},_t}(Xl),lp=function(){};lp.prototype.createNode=function(vt){return new pm(vt,null)},lp.prototype.interfaces_=function(){return[]},lp.prototype.getClass=function(){return lp};var Is=function(){if(this._edges=new Hi,this._nodes=null,this._edgeEndList=new Hi,arguments.length===0)this._nodes=new Gu(new lp);else if(arguments.length===1){var vt=arguments[0];this._nodes=new Gu(vt)}};Is.prototype.printEdges=function(vt){vt.println("Edges:");for(var _t=0;_t<this._edges.size();_t++){vt.println("edge "+_t+":");var xt=this._edges.get(_t);xt.print(vt),xt.eiList.print(vt)}},Is.prototype.find=function(vt){return this._nodes.find(vt)},Is.prototype.addNode=function(){if(arguments[0]instanceof pm){var vt=arguments[0];return this._nodes.addNode(vt)}if(arguments[0]instanceof Xr){var _t=arguments[0];return this._nodes.addNode(_t)}},Is.prototype.getNodeIterator=function(){return this._nodes.iterator()},Is.prototype.linkResultDirectedEdges=function(){for(var vt=this._nodes.iterator();vt.hasNext();)vt.next().getEdges().linkResultDirectedEdges()},Is.prototype.debugPrintln=function(vt){zl.out.println(vt)},Is.prototype.isBoundaryNode=function(vt,_t){var xt=this._nodes.find(_t);if(xt===null)return!1;var Mt=xt.getLabel();return Mt!==null&&Mt.getLocation(vt)===ai.BOUNDARY},Is.prototype.linkAllDirectedEdges=function(){for(var vt=this._nodes.iterator();vt.hasNext();)vt.next().getEdges().linkAllDirectedEdges()},Is.prototype.matchInSameDirection=function(vt,_t,xt,Mt){return!!vt.equals(xt)&&Wi.computeOrientation(vt,_t,Mt)===Wi.COLLINEAR&&is.quadrant(vt,_t)===is.quadrant(xt,Mt)},Is.prototype.getEdgeEnds=function(){return this._edgeEndList},Is.prototype.debugPrint=function(vt){zl.out.print(vt)},Is.prototype.getEdgeIterator=function(){return this._edges.iterator()},Is.prototype.findEdgeInSameDirection=function(vt,_t){for(var xt=this,Mt=0;Mt<this._edges.size();Mt++){var kt=xt._edges.get(Mt),It=kt.getCoordinates();if(xt.matchInSameDirection(vt,_t,It[0],It[1])||xt.matchInSameDirection(vt,_t,It[It.length-1],It[It.length-2]))return kt}return null},Is.prototype.insertEdge=function(vt){this._edges.add(vt)},Is.prototype.findEdgeEnd=function(vt){for(var _t=this.getEdgeEnds().iterator();_t.hasNext();){var xt=_t.next();if(xt.getEdge()===vt)return xt}return null},Is.prototype.addEdges=function(vt){for(var _t=this,xt=vt.iterator();xt.hasNext();){var Mt=xt.next();_t._edges.add(Mt);var kt=new gm(Mt,!0),It=new gm(Mt,!1);kt.setSym(It),It.setSym(kt),_t.add(kt),_t.add(It)}},Is.prototype.add=function(vt){this._nodes.add(vt),this._edgeEndList.add(vt)},Is.prototype.getNodes=function(){return this._nodes.values()},Is.prototype.findEdge=function(vt,_t){for(var xt=0;xt<this._edges.size();xt++){var Mt=this._edges.get(xt),kt=Mt.getCoordinates();if(vt.equals(kt[0])&&_t.equals(kt[1]))return Mt}return null},Is.prototype.interfaces_=function(){return[]},Is.prototype.getClass=function(){return Is},Is.linkResultDirectedEdges=function(vt){for(var _t=vt.iterator();_t.hasNext();)_t.next().getEdges().linkResultDirectedEdges()};var hc=function(){this._geometryFactory=null,this._shellList=new Hi;var vt=arguments[0];this._geometryFactory=vt};hc.prototype.sortShellsAndHoles=function(vt,_t,xt){for(var Mt=vt.iterator();Mt.hasNext();){var kt=Mt.next();kt.isHole()?xt.add(kt):_t.add(kt)}},hc.prototype.computePolygons=function(vt){for(var _t=new Hi,xt=vt.iterator();xt.hasNext();){var Mt=xt.next().toPolygon(this._geometryFactory);_t.add(Mt)}return _t},hc.prototype.placeFreeHoles=function(vt,_t){for(var xt=_t.iterator();xt.hasNext();){var Mt=xt.next();if(Mt.getShell()===null){var kt=this.findEdgeRingContaining(Mt,vt);if(kt===null)throw new $h("unable to assign hole to a shell",Mt.getCoordinate(0));Mt.setShell(kt)}}},hc.prototype.buildMinimalEdgeRings=function(vt,_t,xt){for(var Mt=new Hi,kt=vt.iterator();kt.hasNext();){var It=kt.next();if(It.getMaxNodeDegree()>2){It.linkDirectedEdgesForMinimalEdgeRings();var Rt=It.buildMinimalRings(),Ut=this.findShell(Rt);Ut!==null?(this.placePolygonHoles(Ut,Rt),_t.add(Ut)):xt.addAll(Rt)}else Mt.add(It)}return Mt},hc.prototype.containsPoint=function(vt){for(var _t=this._shellList.iterator();_t.hasNext();)if(_t.next().containsPoint(vt))return!0;return!1},hc.prototype.buildMaximalEdgeRings=function(vt){for(var _t=new Hi,xt=vt.iterator();xt.hasNext();){var Mt=xt.next();if(Mt.isInResult()&&Mt.getLabel().isArea()&&Mt.getEdgeRing()===null){var kt=new sb(Mt,this._geometryFactory);_t.add(kt),kt.setInResult()}}return _t},hc.prototype.placePolygonHoles=function(vt,_t){for(var xt=_t.iterator();xt.hasNext();){var Mt=xt.next();Mt.isHole()&&Mt.setShell(vt)}},hc.prototype.getPolygons=function(){return this.computePolygons(this._shellList)},hc.prototype.findEdgeRingContaining=function(vt,_t){for(var xt=vt.getLinearRing(),Mt=xt.getEnvelopeInternal(),kt=xt.getCoordinateN(0),It=null,Rt=null,Ut=_t.iterator();Ut.hasNext();){var Wt=Ut.next(),qt=Wt.getLinearRing(),on=qt.getEnvelopeInternal();It!==null&&(Rt=It.getLinearRing().getEnvelopeInternal());var Jt=!1;on.contains(Mt)&&Wi.isPointInRing(kt,qt.getCoordinates())&&(Jt=!0),Jt&&(It===null||Rt.contains(on))&&(It=Wt)}return It},hc.prototype.findShell=function(vt){for(var _t=0,xt=null,Mt=vt.iterator();Mt.hasNext();){var kt=Mt.next();kt.isHole()||(xt=kt,_t++)}return qo.isTrue(_t<=1,"found two shells in MinimalEdgeRing list"),xt},hc.prototype.add=function(){if(arguments.length===1){var vt=arguments[0];this.add(vt.getEdgeEnds(),vt.getNodes())}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];Is.linkResultDirectedEdges(xt);var Mt=this.buildMaximalEdgeRings(_t),kt=new Hi,It=this.buildMinimalEdgeRings(Mt,this._shellList,kt);this.sortShellsAndHoles(It,this._shellList,kt),this.placeFreeHoles(this._shellList,kt)}},hc.prototype.interfaces_=function(){return[]},hc.prototype.getClass=function(){return hc};var cp=function(){};cp.prototype.getBounds=function(){},cp.prototype.interfaces_=function(){return[]},cp.prototype.getClass=function(){return cp};var Mu=function(){this._bounds=null,this._item=null;var vt=arguments[0],_t=arguments[1];this._bounds=vt,this._item=_t};Mu.prototype.getItem=function(){return this._item},Mu.prototype.getBounds=function(){return this._bounds},Mu.prototype.interfaces_=function(){return[cp,eu]},Mu.prototype.getClass=function(){return Mu};var yh=function(){this._size=null,this._items=null,this._size=0,this._items=new Hi,this._items.add(null)};yh.prototype.poll=function(){if(this.isEmpty())return null;var vt=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),vt},yh.prototype.size=function(){return this._size},yh.prototype.reorder=function(vt){for(var _t=this,xt=null,Mt=this._items.get(vt);2*vt<=this._size&&((xt=2*vt)!==_t._size&&_t._items.get(xt+1).compareTo(_t._items.get(xt))<0&&xt++,_t._items.get(xt).compareTo(Mt)<0);vt=xt)_t._items.set(vt,_t._items.get(xt));this._items.set(vt,Mt)},yh.prototype.clear=function(){this._size=0,this._items.clear()},yh.prototype.isEmpty=function(){return this._size===0},yh.prototype.add=function(vt){this._items.add(null),this._size+=1;var _t=this._size;for(this._items.set(0,vt);vt.compareTo(this._items.get(Math.trunc(_t/2)))<0;_t/=2)this._items.set(_t,this._items.get(Math.trunc(_t/2)));this._items.set(_t,vt)},yh.prototype.interfaces_=function(){return[]},yh.prototype.getClass=function(){return yh};var cd=function(){};cd.prototype.visitItem=function(vt){},cd.prototype.interfaces_=function(){return[]},cd.prototype.getClass=function(){return cd};var gf=function(){};gf.prototype.insert=function(vt,_t){},gf.prototype.remove=function(vt,_t){},gf.prototype.query=function(){},gf.prototype.interfaces_=function(){return[]},gf.prototype.getClass=function(){return gf};var Qs=function(){if(this._childBoundables=new Hi,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var vt=arguments[0];this._level=vt}}},Dy={serialVersionUID:{configurable:!0}};Qs.prototype.getLevel=function(){return this._level},Qs.prototype.size=function(){return this._childBoundables.size()},Qs.prototype.getChildBoundables=function(){return this._childBoundables},Qs.prototype.addChildBoundable=function(vt){qo.isTrue(this._bounds===null),this._childBoundables.add(vt)},Qs.prototype.isEmpty=function(){return this._childBoundables.isEmpty()},Qs.prototype.getBounds=function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds},Qs.prototype.interfaces_=function(){return[cp,eu]},Qs.prototype.getClass=function(){return Qs},Dy.serialVersionUID.get=function(){return 6493722185909574e3},Object.defineProperties(Qs,Dy);var Su=function(){};Su.reverseOrder=function(){return{compare:function(vt,_t){return _t.compareTo(vt)}}},Su.min=function(vt){return Su.sort(vt),vt.get(0)},Su.sort=function(vt,_t){var xt=vt.toArray();_t?fh.sort(xt,_t):fh.sort(xt);for(var Mt=vt.iterator(),kt=0,It=xt.length;kt<It;kt++)Mt.next(),Mt.set(xt[kt])},Su.singletonList=function(vt){var _t=new Hi;return _t.add(vt),_t};var Hs=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var vt=arguments[0],_t=arguments[1],xt=arguments[2];this._boundable1=vt,this._boundable2=_t,this._itemDistance=xt,this._distance=this.distance()};Hs.prototype.expandToQueue=function(vt,_t){var xt=Hs.isComposite(this._boundable1),Mt=Hs.isComposite(this._boundable2);if(xt&&Mt)return Hs.area(this._boundable1)>Hs.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,vt,_t),null):(this.expand(this._boundable2,this._boundable1,vt,_t),null);if(xt)return this.expand(this._boundable1,this._boundable2,vt,_t),null;if(Mt)return this.expand(this._boundable2,this._boundable1,vt,_t),null;throw new Ss("neither boundable is composite")},Hs.prototype.isLeaves=function(){return!(Hs.isComposite(this._boundable1)||Hs.isComposite(this._boundable2))},Hs.prototype.compareTo=function(vt){var _t=vt;return this._distance<_t._distance?-1:this._distance>_t._distance?1:0},Hs.prototype.expand=function(vt,_t,xt,Mt){for(var kt=vt.getChildBoundables().iterator();kt.hasNext();){var It=kt.next(),Rt=new Hs(It,_t,this._itemDistance);Rt.getDistance()<Mt&&xt.add(Rt)}},Hs.prototype.getBoundable=function(vt){return vt===0?this._boundable1:this._boundable2},Hs.prototype.getDistance=function(){return this._distance},Hs.prototype.distance=function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())},Hs.prototype.interfaces_=function(){return[Jc]},Hs.prototype.getClass=function(){return Hs},Hs.area=function(vt){return vt.getBounds().getArea()},Hs.isComposite=function(vt){return vt instanceof Qs};var xl=function vt(){if(this._root=null,this._built=!1,this._itemBoundables=new Hi,this._nodeCapacity=null,arguments.length===0){var _t=vt.DEFAULT_NODE_CAPACITY;this._nodeCapacity=_t}else if(arguments.length===1){var xt=arguments[0];qo.isTrue(xt>1,"Node capacity must be greater than 1"),this._nodeCapacity=xt}},mm={IntersectsOp:{configurable:!0},serialVersionUID:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};xl.prototype.getNodeCapacity=function(){return this._nodeCapacity},xl.prototype.lastNode=function(vt){return vt.get(vt.size()-1)},xl.prototype.size=function(){var vt=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var _t=arguments[0],xt=0,Mt=_t.getChildBoundables().iterator();Mt.hasNext();){var kt=Mt.next();kt instanceof Qs?xt+=vt.size(kt):kt instanceof Mu&&(xt+=1)}return xt}},xl.prototype.removeItem=function(vt,_t){for(var xt=null,Mt=vt.getChildBoundables().iterator();Mt.hasNext();){var kt=Mt.next();kt instanceof Mu&&kt.getItem()===_t&&(xt=kt)}return xt!==null&&(vt.getChildBoundables().remove(xt),!0)},xl.prototype.itemsTree=function(){var vt=this;if(arguments.length===0){this.build();var _t=this.itemsTree(this._root);return _t===null?new Hi:_t}if(arguments.length===1){for(var xt=arguments[0],Mt=new Hi,kt=xt.getChildBoundables().iterator();kt.hasNext();){var It=kt.next();if(It instanceof Qs){var Rt=vt.itemsTree(It);Rt!==null&&Mt.add(Rt)}else It instanceof Mu?Mt.add(It.getItem()):qo.shouldNeverReachHere()}return Mt.size()<=0?null:Mt}},xl.prototype.insert=function(vt,_t){qo.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new Mu(vt,_t))},xl.prototype.boundablesAtLevel=function(){var vt=this;if(arguments.length===1){var _t=arguments[0],xt=new Hi;return this.boundablesAtLevel(_t,this._root,xt),xt}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2];if(qo.isTrue(Mt>-2),kt.getLevel()===Mt)return It.add(kt),null;for(var Rt=kt.getChildBoundables().iterator();Rt.hasNext();){var Ut=Rt.next();Ut instanceof Qs?vt.boundablesAtLevel(Mt,Ut,It):(qo.isTrue(Ut instanceof Mu),Mt===-1&&It.add(Ut))}return null}},xl.prototype.query=function(){var vt=this;if(arguments.length===1){var _t=arguments[0];this.build();var xt=new Hi;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),_t)&&this.query(_t,this._root,xt),xt}if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),Mt)&&this.query(Mt,this._root,kt)}else if(arguments.length===3){if(Do(arguments[2],cd)&&arguments[0]instanceof Object&&arguments[1]instanceof Qs)for(var It=arguments[0],Rt=arguments[1],Ut=arguments[2],Wt=Rt.getChildBoundables(),qt=0;qt<Wt.size();qt++){var on=Wt.get(qt);vt.getIntersectsOp().intersects(on.getBounds(),It)&&(on instanceof Qs?vt.query(It,on,Ut):on instanceof Mu?Ut.visitItem(on.getItem()):qo.shouldNeverReachHere())}else if(Do(arguments[2],bu)&&arguments[0]instanceof Object&&arguments[1]instanceof Qs)for(var Jt=arguments[0],un=arguments[1],En=arguments[2],Tn=un.getChildBoundables(),In=0;In<Tn.size();In++){var mn=Tn.get(In);vt.getIntersectsOp().intersects(mn.getBounds(),Jt)&&(mn instanceof Qs?vt.query(Jt,mn,En):mn instanceof Mu?En.add(mn.getItem()):qo.shouldNeverReachHere())}}},xl.prototype.build=function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0},xl.prototype.getRoot=function(){return this.build(),this._root},xl.prototype.remove=function(){var vt=this;if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),_t)&&this.remove(_t,this._root,xt)}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2],Rt=this.removeItem(kt,It);if(Rt)return!0;for(var Ut=null,Wt=kt.getChildBoundables().iterator();Wt.hasNext();){var qt=Wt.next();if(vt.getIntersectsOp().intersects(qt.getBounds(),Mt)&&qt instanceof Qs&&(Rt=vt.remove(Mt,qt,It))){Ut=qt;break}}return Ut!==null&&Ut.getChildBoundables().isEmpty()&&kt.getChildBoundables().remove(Ut),Rt}},xl.prototype.createHigherLevels=function(vt,_t){qo.isTrue(!vt.isEmpty());var xt=this.createParentBoundables(vt,_t+1);return xt.size()===1?xt.get(0):this.createHigherLevels(xt,_t+1)},xl.prototype.depth=function(){var vt=this;if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var _t=arguments[0],xt=0,Mt=_t.getChildBoundables().iterator();Mt.hasNext();){var kt=Mt.next();if(kt instanceof Qs){var It=vt.depth(kt);It>xt&&(xt=It)}}return xt+1}},xl.prototype.createParentBoundables=function(vt,_t){var xt=this;qo.isTrue(!vt.isEmpty());var Mt=new Hi;Mt.add(this.createNode(_t));var kt=new Hi(vt);Su.sort(kt,this.getComparator());for(var It=kt.iterator();It.hasNext();){var Rt=It.next();xt.lastNode(Mt).getChildBoundables().size()===xt.getNodeCapacity()&&Mt.add(xt.createNode(_t)),xt.lastNode(Mt).addChildBoundable(Rt)}return Mt},xl.prototype.isEmpty=function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()},xl.prototype.interfaces_=function(){return[eu]},xl.prototype.getClass=function(){return xl},xl.compareDoubles=function(vt,_t){return vt>_t?1:vt<_t?-1:0},mm.IntersectsOp.get=function(){return Iy},mm.serialVersionUID.get=function(){return-3886435814360241e3},mm.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(xl,mm);var Iy=function(){},up=function(){};up.prototype.distance=function(vt,_t){},up.prototype.interfaces_=function(){return[]},up.prototype.getClass=function(){return up};var Ly=function(vt){function _t(Mt){Mt=Mt||_t.DEFAULT_NODE_CAPACITY,vt.call(this,Mt)}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={STRtreeNode:{configurable:!0},serialVersionUID:{configurable:!0},xComparator:{configurable:!0},yComparator:{configurable:!0},intersectsOp:{configurable:!0},DEFAULT_NODE_CAPACITY:{configurable:!0}};return _t.prototype.createParentBoundablesFromVerticalSlices=function(Mt,kt){qo.isTrue(Mt.length>0);for(var It=new Hi,Rt=0;Rt<Mt.length;Rt++)It.addAll(this.createParentBoundablesFromVerticalSlice(Mt[Rt],kt));return It},_t.prototype.createNode=function(Mt){return new R0(Mt)},_t.prototype.size=function(){return arguments.length===0?vt.prototype.size.call(this):vt.prototype.size.apply(this,arguments)},_t.prototype.insert=function(){if(arguments.length!==2)return vt.prototype.insert.apply(this,arguments);var Mt=arguments[0],kt=arguments[1];if(Mt.isNull())return null;vt.prototype.insert.call(this,Mt,kt)},_t.prototype.getIntersectsOp=function(){return _t.intersectsOp},_t.prototype.verticalSlices=function(Mt,kt){for(var It=Math.trunc(Math.ceil(Mt.size()/kt)),Rt=new Array(kt).fill(null),Ut=Mt.iterator(),Wt=0;Wt<kt;Wt++){Rt[Wt]=new Hi;for(var qt=0;Ut.hasNext()&&qt<It;){var on=Ut.next();Rt[Wt].add(on),qt++}}return Rt},_t.prototype.query=function(){if(arguments.length===1){var Mt=arguments[0];return vt.prototype.query.call(this,Mt)}if(arguments.length===2){var kt=arguments[0],It=arguments[1];vt.prototype.query.call(this,kt,It)}else if(arguments.length===3){if(Do(arguments[2],cd)&&arguments[0]instanceof Object&&arguments[1]instanceof Qs){var Rt=arguments[0],Ut=arguments[1],Wt=arguments[2];vt.prototype.query.call(this,Rt,Ut,Wt)}else if(Do(arguments[2],bu)&&arguments[0]instanceof Object&&arguments[1]instanceof Qs){var qt=arguments[0],on=arguments[1],Jt=arguments[2];vt.prototype.query.call(this,qt,on,Jt)}}},_t.prototype.getComparator=function(){return _t.yComparator},_t.prototype.createParentBoundablesFromVerticalSlice=function(Mt,kt){return vt.prototype.createParentBoundables.call(this,Mt,kt)},_t.prototype.remove=function(){if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];return vt.prototype.remove.call(this,Mt,kt)}return vt.prototype.remove.apply(this,arguments)},_t.prototype.depth=function(){return arguments.length===0?vt.prototype.depth.call(this):vt.prototype.depth.apply(this,arguments)},_t.prototype.createParentBoundables=function(Mt,kt){qo.isTrue(!Mt.isEmpty());var It=Math.trunc(Math.ceil(Mt.size()/this.getNodeCapacity())),Rt=new Hi(Mt);Su.sort(Rt,_t.xComparator);var Ut=this.verticalSlices(Rt,Math.trunc(Math.ceil(Math.sqrt(It))));return this.createParentBoundablesFromVerticalSlices(Ut,kt)},_t.prototype.nearestNeighbour=function(){if(arguments.length===1){if(Do(arguments[0],up)){var Mt=arguments[0],kt=new Hs(this.getRoot(),this.getRoot(),Mt);return this.nearestNeighbour(kt)}if(arguments[0]instanceof Hs){var It=arguments[0];return this.nearestNeighbour(It,jo.POSITIVE_INFINITY)}}else if(arguments.length===2){if(arguments[0]instanceof _t&&Do(arguments[1],up)){var Rt=arguments[0],Ut=arguments[1],Wt=new Hs(this.getRoot(),Rt.getRoot(),Ut);return this.nearestNeighbour(Wt)}if(arguments[0]instanceof Hs&&typeof arguments[1]=="number"){var qt=arguments[0],on=arguments[1],Jt=on,un=null,En=new yh;for(En.add(qt);!En.isEmpty()&&Jt>0;){var Tn=En.poll(),In=Tn.getDistance();if(In>=Jt)break;Tn.isLeaves()?(Jt=In,un=Tn):Tn.expandToQueue(En,Jt)}return[un.getBoundable(0).getItem(),un.getBoundable(1).getItem()]}}else if(arguments.length===3){var mn=arguments[0],Wn=arguments[1],pr=arguments[2],kn=new Mu(mn,Wn),Vn=new Hs(this.getRoot(),kn,pr);return this.nearestNeighbour(Vn)[0]}},_t.prototype.interfaces_=function(){return[gf,eu]},_t.prototype.getClass=function(){return _t},_t.centreX=function(Mt){return _t.avg(Mt.getMinX(),Mt.getMaxX())},_t.avg=function(Mt,kt){return(Mt+kt)/2},_t.centreY=function(Mt){return _t.avg(Mt.getMinY(),Mt.getMaxY())},xt.STRtreeNode.get=function(){return R0},xt.serialVersionUID.get=function(){return 0x39920f7d5f261e0},xt.xComparator.get=function(){return{interfaces_:function(){return[Zf]},compare:function(Mt,kt){return vt.compareDoubles(_t.centreX(Mt.getBounds()),_t.centreX(kt.getBounds()))}}},xt.yComparator.get=function(){return{interfaces_:function(){return[Zf]},compare:function(Mt,kt){return vt.compareDoubles(_t.centreY(Mt.getBounds()),_t.centreY(kt.getBounds()))}}},xt.intersectsOp.get=function(){return{interfaces_:function(){return[vt.IntersectsOp]},intersects:function(Mt,kt){return Mt.intersects(kt)}}},xt.DEFAULT_NODE_CAPACITY.get=function(){return 10},Object.defineProperties(_t,xt),_t}(xl),R0=function(vt){function _t(){var xt=arguments[0];vt.call(this,xt)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.computeBounds=function(){for(var xt=null,Mt=this.getChildBoundables().iterator();Mt.hasNext();){var kt=Mt.next();xt===null?xt=new go(kt.getBounds()):xt.expandToInclude(kt.getBounds())}return xt},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Qs),dc=function(){};dc.prototype.interfaces_=function(){return[]},dc.prototype.getClass=function(){return dc},dc.relativeSign=function(vt,_t){return vt<_t?-1:vt>_t?1:0},dc.compare=function(vt,_t,xt){if(_t.equals2D(xt))return 0;var Mt=dc.relativeSign(_t.x,xt.x),kt=dc.relativeSign(_t.y,xt.y);switch(vt){case 0:return dc.compareValue(Mt,kt);case 1:return dc.compareValue(kt,Mt);case 2:return dc.compareValue(kt,-Mt);case 3:return dc.compareValue(-Mt,kt);case 4:return dc.compareValue(-Mt,-kt);case 5:return dc.compareValue(-kt,-Mt);case 6:return dc.compareValue(-kt,Mt);case 7:return dc.compareValue(Mt,-kt)}return qo.shouldNeverReachHere("invalid octant value"),0},dc.compareValue=function(vt,_t){return vt<0?-1:vt>0?1:_t<0?-1:_t>0?1:0};var ud=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=arguments[3];this._segString=vt,this.coord=new Xr(_t),this.segmentIndex=xt,this._segmentOctant=Mt,this._isInterior=!_t.equals2D(vt.getCoordinate(xt))};ud.prototype.getCoordinate=function(){return this.coord},ud.prototype.print=function(vt){vt.print(this.coord),vt.print(" seg # = "+this.segmentIndex)},ud.prototype.compareTo=function(vt){var _t=vt;return this.segmentIndex<_t.segmentIndex?-1:this.segmentIndex>_t.segmentIndex?1:this.coord.equals2D(_t.coord)?0:dc.compare(this._segmentOctant,this.coord,_t.coord)},ud.prototype.isEndPoint=function(vt){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===vt},ud.prototype.isInterior=function(){return this._isInterior},ud.prototype.interfaces_=function(){return[Jc]},ud.prototype.getClass=function(){return ud};var ml=function(){this._nodeMap=new ql,this._edge=null;var vt=arguments[0];this._edge=vt};ml.prototype.getSplitCoordinates=function(){var vt=new ig;this.addEndpoints();for(var _t=this.iterator(),xt=_t.next();_t.hasNext();){var Mt=_t.next();this.addEdgeCoordinates(xt,Mt,vt),xt=Mt}return vt.toCoordinateArray()},ml.prototype.addCollapsedNodes=function(){var vt=new Hi;this.findCollapsesFromInsertedNodes(vt),this.findCollapsesFromExistingVertices(vt);for(var _t=vt.iterator();_t.hasNext();){var xt=_t.next().intValue();this.add(this._edge.getCoordinate(xt),xt)}},ml.prototype.print=function(vt){vt.println("Intersections:");for(var _t=this.iterator();_t.hasNext();)_t.next().print(vt)},ml.prototype.findCollapsesFromExistingVertices=function(vt){for(var _t=0;_t<this._edge.size()-2;_t++){var xt=this._edge.getCoordinate(_t),Mt=this._edge.getCoordinate(_t+2);xt.equals2D(Mt)&&vt.add(new ju(_t+1))}},ml.prototype.addEdgeCoordinates=function(vt,_t,xt){var Mt=this._edge.getCoordinate(_t.segmentIndex),kt=_t.isInterior()||!_t.coord.equals2D(Mt);xt.add(new Xr(vt.coord),!1);for(var It=vt.segmentIndex+1;It<=_t.segmentIndex;It++)xt.add(this._edge.getCoordinate(It));kt&&xt.add(new Xr(_t.coord))},ml.prototype.iterator=function(){return this._nodeMap.values().iterator()},ml.prototype.addSplitEdges=function(vt){this.addEndpoints(),this.addCollapsedNodes();for(var _t=this.iterator(),xt=_t.next();_t.hasNext();){var Mt=_t.next(),kt=this.createSplitEdge(xt,Mt);vt.add(kt),xt=Mt}},ml.prototype.findCollapseIndex=function(vt,_t,xt){if(!vt.coord.equals2D(_t.coord))return!1;var Mt=_t.segmentIndex-vt.segmentIndex;return _t.isInterior()||Mt--,Mt===1&&(xt[0]=vt.segmentIndex+1,!0)},ml.prototype.findCollapsesFromInsertedNodes=function(vt){for(var _t=new Array(1).fill(null),xt=this.iterator(),Mt=xt.next();xt.hasNext();){var kt=xt.next();this.findCollapseIndex(Mt,kt,_t)&&vt.add(new ju(_t[0])),Mt=kt}},ml.prototype.getEdge=function(){return this._edge},ml.prototype.addEndpoints=function(){var vt=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(vt),vt)},ml.prototype.createSplitEdge=function(vt,_t){var xt=_t.segmentIndex-vt.segmentIndex+2,Mt=this._edge.getCoordinate(_t.segmentIndex),kt=_t.isInterior()||!_t.coord.equals2D(Mt);kt||xt--;var It=new Array(xt).fill(null),Rt=0;It[Rt++]=new Xr(vt.coord);for(var Ut=vt.segmentIndex+1;Ut<=_t.segmentIndex;Ut++)It[Rt++]=this._edge.getCoordinate(Ut);return kt&&(It[Rt]=new Xr(_t.coord)),new Os(It,this._edge.getData())},ml.prototype.add=function(vt,_t){var xt=new ud(this._edge,vt,_t,this._edge.getSegmentOctant(_t)),Mt=this._nodeMap.get(xt);return Mt!==null?(qo.isTrue(Mt.coord.equals2D(vt),"Found equal nodes with different coordinates"),Mt):(this._nodeMap.put(xt,xt),xt)},ml.prototype.checkSplitEdgesCorrectness=function(vt){var _t=this._edge.getCoordinates(),xt=vt.get(0).getCoordinate(0);if(!xt.equals2D(_t[0]))throw new Ph("bad split edge start point at "+xt);var Mt=vt.get(vt.size()-1).getCoordinates(),kt=Mt[Mt.length-1];if(!kt.equals2D(_t[_t.length-1]))throw new Ph("bad split edge end point at "+kt)},ml.prototype.interfaces_=function(){return[]},ml.prototype.getClass=function(){return ml};var ku=function(){};ku.prototype.interfaces_=function(){return[]},ku.prototype.getClass=function(){return ku},ku.octant=function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var vt=arguments[0],_t=arguments[1];if(vt===0&&_t===0)throw new Ss("Cannot compute the octant for point ( "+vt+", "+_t+" )");var xt=Math.abs(vt),Mt=Math.abs(_t);return vt>=0?_t>=0?xt>=Mt?0:1:xt>=Mt?7:6:_t>=0?xt>=Mt?3:2:xt>=Mt?4:5}if(arguments[0]instanceof Xr&&arguments[1]instanceof Xr){var kt=arguments[0],It=arguments[1],Rt=It.x-kt.x,Ut=It.y-kt.y;if(Rt===0&&Ut===0)throw new Ss("Cannot compute the octant for two identical points "+kt);return ku.octant(Rt,Ut)}};var al=function(){};al.prototype.getCoordinates=function(){},al.prototype.size=function(){},al.prototype.getCoordinate=function(vt){},al.prototype.isClosed=function(){},al.prototype.setData=function(vt){},al.prototype.getData=function(){},al.prototype.interfaces_=function(){return[]},al.prototype.getClass=function(){return al};var fg=function(){};fg.prototype.addIntersection=function(vt,_t){},fg.prototype.interfaces_=function(){return[al]},fg.prototype.getClass=function(){return fg};var Os=function(){this._nodeList=new ml(this),this._pts=null,this._data=null;var vt=arguments[0],_t=arguments[1];this._pts=vt,this._data=_t};Os.prototype.getCoordinates=function(){return this._pts},Os.prototype.size=function(){return this._pts.length},Os.prototype.getCoordinate=function(vt){return this._pts[vt]},Os.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Os.prototype.getSegmentOctant=function(vt){return vt===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(vt),this.getCoordinate(vt+1))},Os.prototype.setData=function(vt){this._data=vt},Os.prototype.safeOctant=function(vt,_t){return vt.equals2D(_t)?0:ku.octant(vt,_t)},Os.prototype.getData=function(){return this._data},Os.prototype.addIntersection=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1];this.addIntersectionNode(vt,_t)}else if(arguments.length===4){var xt=arguments[0],Mt=arguments[1],kt=arguments[3],It=new Xr(xt.getIntersection(kt));this.addIntersection(It,Mt)}},Os.prototype.toString=function(){return vu.toLineString(new Fs(this._pts))},Os.prototype.getNodeList=function(){return this._nodeList},Os.prototype.addIntersectionNode=function(vt,_t){var xt=_t,Mt=xt+1;if(Mt<this._pts.length){var kt=this._pts[Mt];vt.equals2D(kt)&&(xt=Mt)}return this._nodeList.add(vt,xt)},Os.prototype.addIntersections=function(vt,_t,xt){for(var Mt=0;Mt<vt.getIntersectionNum();Mt++)this.addIntersection(vt,_t,xt,Mt)},Os.prototype.interfaces_=function(){return[fg]},Os.prototype.getClass=function(){return Os},Os.getNodedSubstrings=function(){if(arguments.length===1){var vt=arguments[0],_t=new Hi;return Os.getNodedSubstrings(vt,_t),_t}if(arguments.length===2)for(var xt=arguments[0],Mt=arguments[1],kt=xt.iterator();kt.hasNext();){var It=kt.next();It.getNodeList().addSplitEdges(Mt)}};var po=function(){if(this.p0=null,this.p1=null,arguments.length===0)this.p0=new Xr,this.p1=new Xr;else if(arguments.length===1){var vt=arguments[0];this.p0=new Xr(vt.p0),this.p1=new Xr(vt.p1)}else if(arguments.length===2)this.p0=arguments[0],this.p1=arguments[1];else if(arguments.length===4){var _t=arguments[0],xt=arguments[1],Mt=arguments[2],kt=arguments[3];this.p0=new Xr(_t,xt),this.p1=new Xr(Mt,kt)}},ym={serialVersionUID:{configurable:!0}};po.prototype.minX=function(){return Math.min(this.p0.x,this.p1.x)},po.prototype.orientationIndex=function(){if(arguments[0]instanceof po){var vt=arguments[0],_t=Wi.orientationIndex(this.p0,this.p1,vt.p0),xt=Wi.orientationIndex(this.p0,this.p1,vt.p1);return _t>=0&&xt>=0||_t<=0&&xt<=0?Math.max(_t,xt):0}if(arguments[0]instanceof Xr){var Mt=arguments[0];return Wi.orientationIndex(this.p0,this.p1,Mt)}},po.prototype.toGeometry=function(vt){return vt.createLineString([this.p0,this.p1])},po.prototype.isVertical=function(){return this.p0.x===this.p1.x},po.prototype.equals=function(vt){if(!(vt instanceof po))return!1;var _t=vt;return this.p0.equals(_t.p0)&&this.p1.equals(_t.p1)},po.prototype.intersection=function(vt){var _t=new ad;return _t.computeIntersection(this.p0,this.p1,vt.p0,vt.p1),_t.hasIntersection()?_t.getIntersection(0):null},po.prototype.project=function(){if(arguments[0]instanceof Xr){var vt=arguments[0];if(vt.equals(this.p0)||vt.equals(this.p1))return new Xr(vt);var _t=this.projectionFactor(vt),xt=new Xr;return xt.x=this.p0.x+_t*(this.p1.x-this.p0.x),xt.y=this.p0.y+_t*(this.p1.y-this.p0.y),xt}if(arguments[0]instanceof po){var Mt=arguments[0],kt=this.projectionFactor(Mt.p0),It=this.projectionFactor(Mt.p1);if(kt>=1&&It>=1||kt<=0&&It<=0)return null;var Rt=this.project(Mt.p0);kt<0&&(Rt=this.p0),kt>1&&(Rt=this.p1);var Ut=this.project(Mt.p1);return It<0&&(Ut=this.p0),It>1&&(Ut=this.p1),new po(Rt,Ut)}},po.prototype.normalize=function(){this.p1.compareTo(this.p0)<0&&this.reverse()},po.prototype.angle=function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},po.prototype.getCoordinate=function(vt){return vt===0?this.p0:this.p1},po.prototype.distancePerpendicular=function(vt){return Wi.distancePointLinePerpendicular(vt,this.p0,this.p1)},po.prototype.minY=function(){return Math.min(this.p0.y,this.p1.y)},po.prototype.midPoint=function(){return po.midPoint(this.p0,this.p1)},po.prototype.projectionFactor=function(vt){if(vt.equals(this.p0))return 0;if(vt.equals(this.p1))return 1;var _t=this.p1.x-this.p0.x,xt=this.p1.y-this.p0.y,Mt=_t*_t+xt*xt;return Mt<=0?jo.NaN:((vt.x-this.p0.x)*_t+(vt.y-this.p0.y)*xt)/Mt},po.prototype.closestPoints=function(vt){var _t=this.intersection(vt);if(_t!==null)return[_t,_t];var xt=new Array(2).fill(null),Mt=jo.MAX_VALUE,kt=null,It=this.closestPoint(vt.p0);Mt=It.distance(vt.p0),xt[0]=It,xt[1]=vt.p0;var Rt=this.closestPoint(vt.p1);(kt=Rt.distance(vt.p1))<Mt&&(Mt=kt,xt[0]=Rt,xt[1]=vt.p1);var Ut=vt.closestPoint(this.p0);(kt=Ut.distance(this.p0))<Mt&&(Mt=kt,xt[0]=this.p0,xt[1]=Ut);var Wt=vt.closestPoint(this.p1);return(kt=Wt.distance(this.p1))<Mt&&(Mt=kt,xt[0]=this.p1,xt[1]=Wt),xt},po.prototype.closestPoint=function(vt){var _t=this.projectionFactor(vt);return _t>0&&_t<1?this.project(vt):this.p0.distance(vt)<this.p1.distance(vt)?this.p0:this.p1},po.prototype.maxX=function(){return Math.max(this.p0.x,this.p1.x)},po.prototype.getLength=function(){return this.p0.distance(this.p1)},po.prototype.compareTo=function(vt){var _t=vt,xt=this.p0.compareTo(_t.p0);return xt!==0?xt:this.p1.compareTo(_t.p1)},po.prototype.reverse=function(){var vt=this.p0;this.p0=this.p1,this.p1=vt},po.prototype.equalsTopo=function(vt){return this.p0.equals(vt.p0)&&(this.p1.equals(vt.p1)||this.p0.equals(vt.p1))&&this.p1.equals(vt.p0)},po.prototype.lineIntersection=function(vt){try{return tu.intersection(this.p0,this.p1,vt.p0,vt.p1)}catch(_t){if(!(_t instanceof sf))throw _t}return null},po.prototype.maxY=function(){return Math.max(this.p0.y,this.p1.y)},po.prototype.pointAlongOffset=function(vt,_t){var xt=this.p0.x+vt*(this.p1.x-this.p0.x),Mt=this.p0.y+vt*(this.p1.y-this.p0.y),kt=this.p1.x-this.p0.x,It=this.p1.y-this.p0.y,Rt=Math.sqrt(kt*kt+It*It),Ut=0,Wt=0;if(_t!==0){if(Rt<=0)throw new Error("Cannot compute offset from zero-length line segment");Ut=_t*kt/Rt,Wt=_t*It/Rt}return new Xr(xt-Wt,Mt+Ut)},po.prototype.setCoordinates=function(){if(arguments.length===1){var vt=arguments[0];this.setCoordinates(vt.p0,vt.p1)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];this.p0.x=_t.x,this.p0.y=_t.y,this.p1.x=xt.x,this.p1.y=xt.y}},po.prototype.segmentFraction=function(vt){var _t=this.projectionFactor(vt);return _t<0?_t=0:(_t>1||jo.isNaN(_t))&&(_t=1),_t},po.prototype.toString=function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},po.prototype.isHorizontal=function(){return this.p0.y===this.p1.y},po.prototype.distance=function(){if(arguments[0]instanceof po){var vt=arguments[0];return Wi.distanceLineLine(this.p0,this.p1,vt.p0,vt.p1)}if(arguments[0]instanceof Xr){var _t=arguments[0];return Wi.distancePointLine(_t,this.p0,this.p1)}},po.prototype.pointAlong=function(vt){var _t=new Xr;return _t.x=this.p0.x+vt*(this.p1.x-this.p0.x),_t.y=this.p0.y+vt*(this.p1.y-this.p0.y),_t},po.prototype.hashCode=function(){var vt=jo.doubleToLongBits(this.p0.x);vt^=31*jo.doubleToLongBits(this.p0.y);var _t=Math.trunc(vt)^Math.trunc(vt>>32),xt=jo.doubleToLongBits(this.p1.x);return xt^=31*jo.doubleToLongBits(this.p1.y),_t^(Math.trunc(xt)^Math.trunc(xt>>32))},po.prototype.interfaces_=function(){return[Jc,eu]},po.prototype.getClass=function(){return po},po.midPoint=function(vt,_t){return new Xr((vt.x+_t.x)/2,(vt.y+_t.y)/2)},ym.serialVersionUID.get=function(){return 0x2d2172135f411c00},Object.defineProperties(po,ym);var pg=function(){this.tempEnv1=new go,this.tempEnv2=new go,this._overlapSeg1=new po,this._overlapSeg2=new po};pg.prototype.overlap=function(){if(arguments.length!==2){if(arguments.length===4){var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=arguments[3];vt.getLineSegment(_t,this._overlapSeg1),xt.getLineSegment(Mt,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}},pg.prototype.interfaces_=function(){return[]},pg.prototype.getClass=function(){return pg};var Sc=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=arguments[3];this._pts=vt,this._start=_t,this._end=xt,this._context=Mt};Sc.prototype.getLineSegment=function(vt,_t){_t.p0=this._pts[vt],_t.p1=this._pts[vt+1]},Sc.prototype.computeSelect=function(vt,_t,xt,Mt){var kt=this._pts[_t],It=this._pts[xt];if(Mt.tempEnv1.init(kt,It),xt-_t==1)return Mt.select(this,_t),null;if(!vt.intersects(Mt.tempEnv1))return null;var Rt=Math.trunc((_t+xt)/2);_t<Rt&&this.computeSelect(vt,_t,Rt,Mt),Rt<xt&&this.computeSelect(vt,Rt,xt,Mt)},Sc.prototype.getCoordinates=function(){for(var vt=new Array(this._end-this._start+1).fill(null),_t=0,xt=this._start;xt<=this._end;xt++)vt[_t++]=this._pts[xt];return vt},Sc.prototype.computeOverlaps=function(vt,_t){this.computeOverlapsInternal(this._start,this._end,vt,vt._start,vt._end,_t)},Sc.prototype.setId=function(vt){this._id=vt},Sc.prototype.select=function(vt,_t){this.computeSelect(vt,this._start,this._end,_t)},Sc.prototype.getEnvelope=function(){if(this._env===null){var vt=this._pts[this._start],_t=this._pts[this._end];this._env=new go(vt,_t)}return this._env},Sc.prototype.getEndIndex=function(){return this._end},Sc.prototype.getStartIndex=function(){return this._start},Sc.prototype.getContext=function(){return this._context},Sc.prototype.getId=function(){return this._id},Sc.prototype.computeOverlapsInternal=function(vt,_t,xt,Mt,kt,It){var Rt=this._pts[vt],Ut=this._pts[_t],Wt=xt._pts[Mt],qt=xt._pts[kt];if(_t-vt==1&&kt-Mt==1)return It.overlap(this,vt,xt,Mt),null;if(It.tempEnv1.init(Rt,Ut),It.tempEnv2.init(Wt,qt),!It.tempEnv1.intersects(It.tempEnv2))return null;var on=Math.trunc((vt+_t)/2),Jt=Math.trunc((Mt+kt)/2);vt<on&&(Mt<Jt&&this.computeOverlapsInternal(vt,on,xt,Mt,Jt,It),Jt<kt&&this.computeOverlapsInternal(vt,on,xt,Jt,kt,It)),on<_t&&(Mt<Jt&&this.computeOverlapsInternal(on,_t,xt,Mt,Jt,It),Jt<kt&&this.computeOverlapsInternal(on,_t,xt,Jt,kt,It))},Sc.prototype.interfaces_=function(){return[]},Sc.prototype.getClass=function(){return Sc};var au=function(){};au.prototype.interfaces_=function(){return[]},au.prototype.getClass=function(){return au},au.getChainStartIndices=function(vt){var _t=0,xt=new Hi;xt.add(new ju(_t));do{var Mt=au.findChainEnd(vt,_t);xt.add(new ju(Mt)),_t=Mt}while(_t<vt.length-1);return au.toIntArray(xt)},au.findChainEnd=function(vt,_t){for(var xt=_t;xt<vt.length-1&&vt[xt].equals2D(vt[xt+1]);)xt++;if(xt>=vt.length-1)return vt.length-1;for(var Mt=is.quadrant(vt[xt],vt[xt+1]),kt=_t+1;kt<vt.length&&!(!vt[kt-1].equals2D(vt[kt])&&is.quadrant(vt[kt-1],vt[kt])!==Mt);)kt++;return kt-1},au.getChains=function(){if(arguments.length===1){var vt=arguments[0];return au.getChains(vt,null)}if(arguments.length===2){for(var _t=arguments[0],xt=arguments[1],Mt=new Hi,kt=au.getChainStartIndices(_t),It=0;It<kt.length-1;It++){var Rt=new Sc(_t,kt[It],kt[It+1],xt);Mt.add(Rt)}return Mt}},au.toIntArray=function(vt){for(var _t=new Array(vt.size()).fill(null),xt=0;xt<_t.length;xt++)_t[xt]=vt.get(xt).intValue();return _t};var Ld=function(){};Ld.prototype.computeNodes=function(vt){},Ld.prototype.getNodedSubstrings=function(){},Ld.prototype.interfaces_=function(){return[]},Ld.prototype.getClass=function(){return Ld};var gg=function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var vt=arguments[0];this.setSegmentIntersector(vt)}}};gg.prototype.setSegmentIntersector=function(vt){this._segInt=vt},gg.prototype.interfaces_=function(){return[Ld]},gg.prototype.getClass=function(){return gg};var z0=function(vt){function _t(Mt){Mt?vt.call(this,Mt):vt.call(this),this._monoChains=new Hi,this._index=new Ly,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0}vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t;var xt={SegmentOverlapAction:{configurable:!0}};return _t.prototype.getMonotoneChains=function(){return this._monoChains},_t.prototype.getNodedSubstrings=function(){return Os.getNodedSubstrings(this._nodedSegStrings)},_t.prototype.getIndex=function(){return this._index},_t.prototype.add=function(Mt){for(var kt=this,It=au.getChains(Mt.getCoordinates(),Mt).iterator();It.hasNext();){var Rt=It.next();Rt.setId(kt._idCounter++),kt._index.insert(Rt.getEnvelope(),Rt),kt._monoChains.add(Rt)}},_t.prototype.computeNodes=function(Mt){this._nodedSegStrings=Mt;for(var kt=Mt.iterator();kt.hasNext();)this.add(kt.next());this.intersectChains()},_t.prototype.intersectChains=function(){for(var Mt=this,kt=new vm(this._segInt),It=this._monoChains.iterator();It.hasNext();)for(var Rt=It.next(),Ut=Mt._index.query(Rt.getEnvelope()).iterator();Ut.hasNext();){var Wt=Ut.next();if(Wt.getId()>Rt.getId()&&(Rt.computeOverlaps(Wt,kt),Mt._nOverlaps++),Mt._segInt.isDone())return null}},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},xt.SegmentOverlapAction.get=function(){return vm},Object.defineProperties(_t,xt),_t}(gg),vm=function(vt){function _t(){vt.call(this),this._si=null;var xt=arguments[0];this._si=xt}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.overlap=function(){if(arguments.length!==4)return vt.prototype.overlap.apply(this,arguments);var xt=arguments[0],Mt=arguments[1],kt=arguments[2],It=arguments[3],Rt=xt.getContext(),Ut=kt.getContext();this._si.processIntersections(Rt,Mt,Ut,It)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(pg),Xa=function vt(){if(this._quadrantSegments=vt.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=vt.CAP_ROUND,this._joinStyle=vt.JOIN_ROUND,this._mitreLimit=vt.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=vt.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var _t=arguments[0];this.setQuadrantSegments(_t)}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];this.setQuadrantSegments(xt),this.setEndCapStyle(Mt)}else if(arguments.length===4){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=arguments[3];this.setQuadrantSegments(kt),this.setEndCapStyle(It),this.setJoinStyle(Rt),this.setMitreLimit(Ut)}}},Cu={CAP_ROUND:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},JOIN_ROUND:{configurable:!0},JOIN_MITRE:{configurable:!0},JOIN_BEVEL:{configurable:!0},DEFAULT_QUADRANT_SEGMENTS:{configurable:!0},DEFAULT_MITRE_LIMIT:{configurable:!0},DEFAULT_SIMPLIFY_FACTOR:{configurable:!0}};Xa.prototype.getEndCapStyle=function(){return this._endCapStyle},Xa.prototype.isSingleSided=function(){return this._isSingleSided},Xa.prototype.setQuadrantSegments=function(vt){this._quadrantSegments=vt,this._quadrantSegments===0&&(this._joinStyle=Xa.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=Xa.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),vt<=0&&(this._quadrantSegments=1),this._joinStyle!==Xa.JOIN_ROUND&&(this._quadrantSegments=Xa.DEFAULT_QUADRANT_SEGMENTS)},Xa.prototype.getJoinStyle=function(){return this._joinStyle},Xa.prototype.setJoinStyle=function(vt){this._joinStyle=vt},Xa.prototype.setSimplifyFactor=function(vt){this._simplifyFactor=vt<0?0:vt},Xa.prototype.getSimplifyFactor=function(){return this._simplifyFactor},Xa.prototype.getQuadrantSegments=function(){return this._quadrantSegments},Xa.prototype.setEndCapStyle=function(vt){this._endCapStyle=vt},Xa.prototype.getMitreLimit=function(){return this._mitreLimit},Xa.prototype.setMitreLimit=function(vt){this._mitreLimit=vt},Xa.prototype.setSingleSided=function(vt){this._isSingleSided=vt},Xa.prototype.interfaces_=function(){return[]},Xa.prototype.getClass=function(){return Xa},Xa.bufferDistanceError=function(vt){var _t=Math.PI/2/vt;return 1-Math.cos(_t/2)},Cu.CAP_ROUND.get=function(){return 1},Cu.CAP_FLAT.get=function(){return 2},Cu.CAP_SQUARE.get=function(){return 3},Cu.JOIN_ROUND.get=function(){return 1},Cu.JOIN_MITRE.get=function(){return 2},Cu.JOIN_BEVEL.get=function(){return 3},Cu.DEFAULT_QUADRANT_SEGMENTS.get=function(){return 8},Cu.DEFAULT_MITRE_LIMIT.get=function(){return 5},Cu.DEFAULT_SIMPLIFY_FACTOR.get=function(){return .01},Object.defineProperties(Xa,Cu);var ws=function(vt){this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Wi.COUNTERCLOCKWISE,this._inputLine=vt||null},Od={INIT:{configurable:!0},DELETE:{configurable:!0},KEEP:{configurable:!0},NUM_PTS_TO_CHECK:{configurable:!0}};ws.prototype.isDeletable=function(vt,_t,xt,Mt){var kt=this._inputLine[vt],It=this._inputLine[_t],Rt=this._inputLine[xt];return!!this.isConcave(kt,It,Rt)&&!!this.isShallow(kt,It,Rt,Mt)&&this.isShallowSampled(kt,It,vt,xt,Mt)},ws.prototype.deleteShallowConcavities=function(){for(var vt=this,_t=1,xt=this.findNextNonDeletedIndex(_t),Mt=this.findNextNonDeletedIndex(xt),kt=!1;Mt<this._inputLine.length;){var It=!1;vt.isDeletable(_t,xt,Mt,vt._distanceTol)&&(vt._isDeleted[xt]=ws.DELETE,It=!0,kt=!0),_t=It?Mt:xt,xt=vt.findNextNonDeletedIndex(_t),Mt=vt.findNextNonDeletedIndex(xt)}return kt},ws.prototype.isShallowConcavity=function(vt,_t,xt,Mt){return Wi.computeOrientation(vt,_t,xt)===this._angleOrientation&&Wi.distancePointLine(_t,vt,xt)<Mt},ws.prototype.isShallowSampled=function(vt,_t,xt,Mt,kt){var It=Math.trunc((Mt-xt)/ws.NUM_PTS_TO_CHECK);It<=0&&(It=1);for(var Rt=xt;Rt<Mt;Rt+=It)if(!this.isShallow(vt,_t,this._inputLine[Rt],kt))return!1;return!0},ws.prototype.isConcave=function(vt,_t,xt){var Mt=Wi.computeOrientation(vt,_t,xt)===this._angleOrientation;return Mt},ws.prototype.simplify=function(vt){this._distanceTol=Math.abs(vt),vt<0&&(this._angleOrientation=Wi.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var _t=!1;do _t=this.deleteShallowConcavities();while(_t);return this.collapseLine()},ws.prototype.findNextNonDeletedIndex=function(vt){for(var _t=vt+1;_t<this._inputLine.length&&this._isDeleted[_t]===ws.DELETE;)_t++;return _t},ws.prototype.isShallow=function(vt,_t,xt,Mt){return Wi.distancePointLine(_t,vt,xt)<Mt},ws.prototype.collapseLine=function(){for(var vt=new ig,_t=0;_t<this._inputLine.length;_t++)this._isDeleted[_t]!==ws.DELETE&&vt.add(this._inputLine[_t]);return vt.toCoordinateArray()},ws.prototype.interfaces_=function(){return[]},ws.prototype.getClass=function(){return ws},ws.simplify=function(vt,_t){return new ws(vt).simplify(_t)},Od.INIT.get=function(){return 0},Od.DELETE.get=function(){return 1},Od.KEEP.get=function(){return 1},Od.NUM_PTS_TO_CHECK.get=function(){return 10},Object.defineProperties(ws,Od);var zc=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Hi},Oy={COORDINATE_ARRAY_TYPE:{configurable:!0}};zc.prototype.getCoordinates=function(){return this._ptList.toArray(zc.COORDINATE_ARRAY_TYPE)},zc.prototype.setPrecisionModel=function(vt){this._precisionModel=vt},zc.prototype.addPt=function(vt){var _t=new Xr(vt);if(this._precisionModel.makePrecise(_t),this.isRedundant(_t))return null;this._ptList.add(_t)},zc.prototype.revere=function(){},zc.prototype.addPts=function(vt,_t){if(_t)for(var xt=0;xt<vt.length;xt++)this.addPt(vt[xt]);else for(var Mt=vt.length-1;Mt>=0;Mt--)this.addPt(vt[Mt])},zc.prototype.isRedundant=function(vt){if(this._ptList.size()<1)return!1;var _t=this._ptList.get(this._ptList.size()-1);return vt.distance(_t)<this._minimimVertexDistance},zc.prototype.toString=function(){return new la().createLineString(this.getCoordinates()).toString()},zc.prototype.closeRing=function(){if(this._ptList.size()<1)return null;var vt=new Xr(this._ptList.get(0)),_t=this._ptList.get(this._ptList.size()-1);if(vt.equals(_t))return null;this._ptList.add(vt)},zc.prototype.setMinimumVertexDistance=function(vt){this._minimimVertexDistance=vt},zc.prototype.interfaces_=function(){return[]},zc.prototype.getClass=function(){return zc},Oy.COORDINATE_ARRAY_TYPE.get=function(){return new Array(0).fill(null)},Object.defineProperties(zc,Oy);var pa=function(){},mf={PI_TIMES_2:{configurable:!0},PI_OVER_2:{configurable:!0},PI_OVER_4:{configurable:!0},COUNTERCLOCKWISE:{configurable:!0},CLOCKWISE:{configurable:!0},NONE:{configurable:!0}};pa.prototype.interfaces_=function(){return[]},pa.prototype.getClass=function(){return pa},pa.toDegrees=function(vt){return 180*vt/Math.PI},pa.normalize=function(vt){for(;vt>Math.PI;)vt-=pa.PI_TIMES_2;for(;vt<=-Math.PI;)vt+=pa.PI_TIMES_2;return vt},pa.angle=function(){if(arguments.length===1){var vt=arguments[0];return Math.atan2(vt.y,vt.x)}if(arguments.length===2){var _t=arguments[0],xt=arguments[1],Mt=xt.x-_t.x,kt=xt.y-_t.y;return Math.atan2(kt,Mt)}},pa.isAcute=function(vt,_t,xt){var Mt=vt.x-_t.x,kt=vt.y-_t.y;return Mt*(xt.x-_t.x)+kt*(xt.y-_t.y)>0},pa.isObtuse=function(vt,_t,xt){var Mt=vt.x-_t.x,kt=vt.y-_t.y;return Mt*(xt.x-_t.x)+kt*(xt.y-_t.y)<0},pa.interiorAngle=function(vt,_t,xt){var Mt=pa.angle(_t,vt),kt=pa.angle(_t,xt);return Math.abs(kt-Mt)},pa.normalizePositive=function(vt){if(vt<0){for(;vt<0;)vt+=pa.PI_TIMES_2;vt>=pa.PI_TIMES_2&&(vt=0)}else{for(;vt>=pa.PI_TIMES_2;)vt-=pa.PI_TIMES_2;vt<0&&(vt=0)}return vt},pa.angleBetween=function(vt,_t,xt){var Mt=pa.angle(_t,vt),kt=pa.angle(_t,xt);return pa.diff(Mt,kt)},pa.diff=function(vt,_t){var xt=null;return(xt=vt<_t?_t-vt:vt-_t)>Math.PI&&(xt=2*Math.PI-xt),xt},pa.toRadians=function(vt){return vt*Math.PI/180},pa.getTurn=function(vt,_t){var xt=Math.sin(_t-vt);return xt>0?pa.COUNTERCLOCKWISE:xt<0?pa.CLOCKWISE:pa.NONE},pa.angleBetweenOriented=function(vt,_t,xt){var Mt=pa.angle(_t,vt),kt=pa.angle(_t,xt)-Mt;return kt<=-Math.PI?kt+pa.PI_TIMES_2:kt>Math.PI?kt-pa.PI_TIMES_2:kt},mf.PI_TIMES_2.get=function(){return 2*Math.PI},mf.PI_OVER_2.get=function(){return Math.PI/2},mf.PI_OVER_4.get=function(){return Math.PI/4},mf.COUNTERCLOCKWISE.get=function(){return Wi.COUNTERCLOCKWISE},mf.CLOCKWISE.get=function(){return Wi.CLOCKWISE},mf.NONE.get=function(){return Wi.COLLINEAR},Object.defineProperties(pa,mf);var Ts=function vt(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new po,this._seg1=new po,this._offset0=new po,this._offset1=new po,this._side=0,this._hasNarrowConcaveAngle=!1;var _t=arguments[0],xt=arguments[1],Mt=arguments[2];this._precisionModel=_t,this._bufParams=xt,this._li=new ad,this._filletAngleQuantum=Math.PI/2/xt.getQuadrantSegments(),xt.getQuadrantSegments()>=8&&xt.getJoinStyle()===Xa.JOIN_ROUND&&(this._closingSegLengthFactor=vt.MAX_CLOSING_SEG_LEN_FACTOR),this.init(Mt)},hp={OFFSET_SEGMENT_SEPARATION_FACTOR:{configurable:!0},INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},CURVE_VERTEX_SNAP_DISTANCE_FACTOR:{configurable:!0},MAX_CLOSING_SEG_LEN_FACTOR:{configurable:!0}};Ts.prototype.addNextSegment=function(vt,_t){if(this._s0=this._s1,this._s1=this._s2,this._s2=vt,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var xt=Wi.computeOrientation(this._s0,this._s1,this._s2),Mt=xt===Wi.CLOCKWISE&&this._side===Pi.LEFT||xt===Wi.COUNTERCLOCKWISE&&this._side===Pi.RIGHT;xt===0?this.addCollinear(_t):Mt?this.addOutsideTurn(xt,_t):this.addInsideTurn(xt,_t)},Ts.prototype.addLineEndCap=function(vt,_t){var xt=new po(vt,_t),Mt=new po;this.computeOffsetSegment(xt,Pi.LEFT,this._distance,Mt);var kt=new po;this.computeOffsetSegment(xt,Pi.RIGHT,this._distance,kt);var It=_t.x-vt.x,Rt=_t.y-vt.y,Ut=Math.atan2(Rt,It);switch(this._bufParams.getEndCapStyle()){case Xa.CAP_ROUND:this._segList.addPt(Mt.p1),this.addFilletArc(_t,Ut+Math.PI/2,Ut-Math.PI/2,Wi.CLOCKWISE,this._distance),this._segList.addPt(kt.p1);break;case Xa.CAP_FLAT:this._segList.addPt(Mt.p1),this._segList.addPt(kt.p1);break;case Xa.CAP_SQUARE:var Wt=new Xr;Wt.x=Math.abs(this._distance)*Math.cos(Ut),Wt.y=Math.abs(this._distance)*Math.sin(Ut);var qt=new Xr(Mt.p1.x+Wt.x,Mt.p1.y+Wt.y),on=new Xr(kt.p1.x+Wt.x,kt.p1.y+Wt.y);this._segList.addPt(qt),this._segList.addPt(on)}},Ts.prototype.getCoordinates=function(){return this._segList.getCoordinates()},Ts.prototype.addMitreJoin=function(vt,_t,xt,Mt){var kt=!0,It=null;try{It=tu.intersection(_t.p0,_t.p1,xt.p0,xt.p1),(Mt<=0?1:It.distance(vt)/Math.abs(Mt))>this._bufParams.getMitreLimit()&&(kt=!1)}catch(Rt){if(!(Rt instanceof sf))throw Rt;It=new Xr(0,0),kt=!1}kt?this._segList.addPt(It):this.addLimitedMitreJoin(_t,xt,Mt,this._bufParams.getMitreLimit())},Ts.prototype.addFilletCorner=function(vt,_t,xt,Mt,kt){var It=_t.x-vt.x,Rt=_t.y-vt.y,Ut=Math.atan2(Rt,It),Wt=xt.x-vt.x,qt=xt.y-vt.y,on=Math.atan2(qt,Wt);Mt===Wi.CLOCKWISE?Ut<=on&&(Ut+=2*Math.PI):Ut>=on&&(Ut-=2*Math.PI),this._segList.addPt(_t),this.addFilletArc(vt,Ut,on,Mt,kt),this._segList.addPt(xt)},Ts.prototype.addOutsideTurn=function(vt,_t){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*Ts.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===Xa.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===Xa.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(_t&&this._segList.addPt(this._offset0.p1),this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,vt,this._distance),this._segList.addPt(this._offset1.p0))},Ts.prototype.createSquare=function(vt){this._segList.addPt(new Xr(vt.x+this._distance,vt.y+this._distance)),this._segList.addPt(new Xr(vt.x+this._distance,vt.y-this._distance)),this._segList.addPt(new Xr(vt.x-this._distance,vt.y-this._distance)),this._segList.addPt(new Xr(vt.x-this._distance,vt.y+this._distance)),this._segList.closeRing()},Ts.prototype.addSegments=function(vt,_t){this._segList.addPts(vt,_t)},Ts.prototype.addFirstSegment=function(){this._segList.addPt(this._offset1.p0)},Ts.prototype.addLastSegment=function(){this._segList.addPt(this._offset1.p1)},Ts.prototype.initSideSegments=function(vt,_t,xt){this._s1=vt,this._s2=_t,this._side=xt,this._seg1.setCoordinates(vt,_t),this.computeOffsetSegment(this._seg1,xt,this._distance,this._offset1)},Ts.prototype.addLimitedMitreJoin=function(vt,_t,xt,Mt){var kt=this._seg0.p1,It=pa.angle(kt,this._seg0.p0),Rt=pa.angleBetweenOriented(this._seg0.p0,kt,this._seg1.p1)/2,Ut=pa.normalize(It+Rt),Wt=pa.normalize(Ut+Math.PI),qt=Mt*xt,on=xt-qt*Math.abs(Math.sin(Rt)),Jt=kt.x+qt*Math.cos(Wt),un=kt.y+qt*Math.sin(Wt),En=new Xr(Jt,un),Tn=new po(kt,En),In=Tn.pointAlongOffset(1,on),mn=Tn.pointAlongOffset(1,-on);this._side===Pi.LEFT?(this._segList.addPt(In),this._segList.addPt(mn)):(this._segList.addPt(mn),this._segList.addPt(In))},Ts.prototype.computeOffsetSegment=function(vt,_t,xt,Mt){var kt=_t===Pi.LEFT?1:-1,It=vt.p1.x-vt.p0.x,Rt=vt.p1.y-vt.p0.y,Ut=Math.sqrt(It*It+Rt*Rt),Wt=kt*xt*It/Ut,qt=kt*xt*Rt/Ut;Mt.p0.x=vt.p0.x-qt,Mt.p0.y=vt.p0.y+Wt,Mt.p1.x=vt.p1.x-qt,Mt.p1.y=vt.p1.y+Wt},Ts.prototype.addFilletArc=function(vt,_t,xt,Mt,kt){var It=Mt===Wi.CLOCKWISE?-1:1,Rt=Math.abs(_t-xt),Ut=Math.trunc(Rt/this._filletAngleQuantum+.5);if(Ut<1)return null;for(var Wt=Rt/Ut,qt=0,on=new Xr;qt<Rt;){var Jt=_t+It*qt;on.x=vt.x+kt*Math.cos(Jt),on.y=vt.y+kt*Math.sin(Jt),this._segList.addPt(on),qt+=Wt}},Ts.prototype.addInsideTurn=function(vt,_t){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*Ts.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var xt=new Xr((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(xt);var Mt=new Xr((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(Mt)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}},Ts.prototype.createCircle=function(vt){var _t=new Xr(vt.x+this._distance,vt.y);this._segList.addPt(_t),this.addFilletArc(vt,0,2*Math.PI,-1,this._distance),this._segList.closeRing()},Ts.prototype.addBevelJoin=function(vt,_t){this._segList.addPt(vt.p1),this._segList.addPt(_t.p0)},Ts.prototype.init=function(vt){this._distance=vt,this._maxCurveSegmentError=vt*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new zc,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(vt*Ts.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},Ts.prototype.addCollinear=function(vt){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===Xa.JOIN_BEVEL||this._bufParams.getJoinStyle()===Xa.JOIN_MITRE?(vt&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addFilletCorner(this._s1,this._offset0.p1,this._offset1.p0,Wi.CLOCKWISE,this._distance))},Ts.prototype.closeRing=function(){this._segList.closeRing()},Ts.prototype.hasNarrowConcaveAngle=function(){return this._hasNarrowConcaveAngle},Ts.prototype.interfaces_=function(){return[]},Ts.prototype.getClass=function(){return Ts},hp.OFFSET_SEGMENT_SEPARATION_FACTOR.get=function(){return .001},hp.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return .001},hp.CURVE_VERTEX_SNAP_DISTANCE_FACTOR.get=function(){return 1e-6},hp.MAX_CLOSING_SEG_LEN_FACTOR.get=function(){return 80},Object.defineProperties(Ts,hp);var vo=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var vt=arguments[0],_t=arguments[1];this._precisionModel=vt,this._bufParams=_t};vo.prototype.getOffsetCurve=function(vt,_t){if(this._distance=_t,_t===0)return null;var xt=_t<0,Mt=Math.abs(_t),kt=this.getSegGen(Mt);vt.length<=1?this.computePointCurve(vt[0],kt):this.computeOffsetCurve(vt,xt,kt);var It=kt.getCoordinates();return xt&&sa.reverse(It),It},vo.prototype.computeSingleSidedBufferCurve=function(vt,_t,xt){var Mt=this.simplifyTolerance(this._distance);if(_t){xt.addSegments(vt,!0);var kt=ws.simplify(vt,-Mt),It=kt.length-1;xt.initSideSegments(kt[It],kt[It-1],Pi.LEFT),xt.addFirstSegment();for(var Rt=It-2;Rt>=0;Rt--)xt.addNextSegment(kt[Rt],!0)}else{xt.addSegments(vt,!1);var Ut=ws.simplify(vt,Mt),Wt=Ut.length-1;xt.initSideSegments(Ut[0],Ut[1],Pi.LEFT),xt.addFirstSegment();for(var qt=2;qt<=Wt;qt++)xt.addNextSegment(Ut[qt],!0)}xt.addLastSegment(),xt.closeRing()},vo.prototype.computeRingBufferCurve=function(vt,_t,xt){var Mt=this.simplifyTolerance(this._distance);_t===Pi.RIGHT&&(Mt=-Mt);var kt=ws.simplify(vt,Mt),It=kt.length-1;xt.initSideSegments(kt[It-1],kt[0],_t);for(var Rt=1;Rt<=It;Rt++){var Ut=Rt!==1;xt.addNextSegment(kt[Rt],Ut)}xt.closeRing()},vo.prototype.computeLineBufferCurve=function(vt,_t){var xt=this.simplifyTolerance(this._distance),Mt=ws.simplify(vt,xt),kt=Mt.length-1;_t.initSideSegments(Mt[0],Mt[1],Pi.LEFT);for(var It=2;It<=kt;It++)_t.addNextSegment(Mt[It],!0);_t.addLastSegment(),_t.addLineEndCap(Mt[kt-1],Mt[kt]);var Rt=ws.simplify(vt,-xt),Ut=Rt.length-1;_t.initSideSegments(Rt[Ut],Rt[Ut-1],Pi.LEFT);for(var Wt=Ut-2;Wt>=0;Wt--)_t.addNextSegment(Rt[Wt],!0);_t.addLastSegment(),_t.addLineEndCap(Rt[1],Rt[0]),_t.closeRing()},vo.prototype.computePointCurve=function(vt,_t){switch(this._bufParams.getEndCapStyle()){case Xa.CAP_ROUND:_t.createCircle(vt);break;case Xa.CAP_SQUARE:_t.createSquare(vt)}},vo.prototype.getLineCurve=function(vt,_t){if(this._distance=_t,_t<0&&!this._bufParams.isSingleSided()||_t===0)return null;var xt=Math.abs(_t),Mt=this.getSegGen(xt);if(vt.length<=1)this.computePointCurve(vt[0],Mt);else if(this._bufParams.isSingleSided()){var kt=_t<0;this.computeSingleSidedBufferCurve(vt,kt,Mt)}else this.computeLineBufferCurve(vt,Mt);return Mt.getCoordinates()},vo.prototype.getBufferParameters=function(){return this._bufParams},vo.prototype.simplifyTolerance=function(vt){return vt*this._bufParams.getSimplifyFactor()},vo.prototype.getRingCurve=function(vt,_t,xt){if(this._distance=xt,vt.length<=2)return this.getLineCurve(vt,xt);if(xt===0)return vo.copyCoordinates(vt);var Mt=this.getSegGen(xt);return this.computeRingBufferCurve(vt,_t,Mt),Mt.getCoordinates()},vo.prototype.computeOffsetCurve=function(vt,_t,xt){var Mt=this.simplifyTolerance(this._distance);if(_t){var kt=ws.simplify(vt,-Mt),It=kt.length-1;xt.initSideSegments(kt[It],kt[It-1],Pi.LEFT),xt.addFirstSegment();for(var Rt=It-2;Rt>=0;Rt--)xt.addNextSegment(kt[Rt],!0)}else{var Ut=ws.simplify(vt,Mt),Wt=Ut.length-1;xt.initSideSegments(Ut[0],Ut[1],Pi.LEFT),xt.addFirstSegment();for(var qt=2;qt<=Wt;qt++)xt.addNextSegment(Ut[qt],!0)}xt.addLastSegment()},vo.prototype.getSegGen=function(vt){return new Ts(this._precisionModel,this._bufParams,vt)},vo.prototype.interfaces_=function(){return[]},vo.prototype.getClass=function(){return vo},vo.copyCoordinates=function(vt){for(var _t=new Array(vt.length).fill(null),xt=0;xt<_t.length;xt++)_t[xt]=new Xr(vt[xt]);return _t};var yf=function(){this._subgraphs=null,this._seg=new po,this._cga=new Wi;var vt=arguments[0];this._subgraphs=vt},Py={DepthSegment:{configurable:!0}};yf.prototype.findStabbedSegments=function(){var vt=this;if(arguments.length===1){for(var _t=arguments[0],xt=new Hi,Mt=this._subgraphs.iterator();Mt.hasNext();){var kt=Mt.next(),It=kt.getEnvelope();_t.y<It.getMinY()||_t.y>It.getMaxY()||vt.findStabbedSegments(_t,kt.getDirectedEdges(),xt)}return xt}if(arguments.length===3){if(Do(arguments[2],bu)&&arguments[0]instanceof Xr&&arguments[1]instanceof gm)for(var Rt=arguments[0],Ut=arguments[1],Wt=arguments[2],qt=Ut.getEdge().getCoordinates(),on=0;on<qt.length-1;on++){vt._seg.p0=qt[on],vt._seg.p1=qt[on+1],vt._seg.p0.y>vt._seg.p1.y&&vt._seg.reverse();var Jt=Math.max(vt._seg.p0.x,vt._seg.p1.x);if(!(Jt<Rt.x)&&!(vt._seg.isHorizontal()||Rt.y<vt._seg.p0.y||Rt.y>vt._seg.p1.y||Wi.computeOrientation(vt._seg.p0,vt._seg.p1,Rt)===Wi.RIGHT)){var un=Ut.getDepth(Pi.LEFT);vt._seg.p0.equals(qt[on])||(un=Ut.getDepth(Pi.RIGHT));var En=new Pd(vt._seg,un);Wt.add(En)}}else if(Do(arguments[2],bu)&&arguments[0]instanceof Xr&&Do(arguments[1],bu))for(var Tn=arguments[0],In=arguments[1],mn=arguments[2],Wn=In.iterator();Wn.hasNext();){var pr=Wn.next();pr.isForward()&&vt.findStabbedSegments(Tn,pr,mn)}}},yf.prototype.getDepth=function(vt){var _t=this.findStabbedSegments(vt);return _t.size()===0?0:Su.min(_t)._leftDepth},yf.prototype.interfaces_=function(){return[]},yf.prototype.getClass=function(){return yf},Py.DepthSegment.get=function(){return Pd},Object.defineProperties(yf,Py);var Pd=function(){this._upwardSeg=null,this._leftDepth=null;var vt=arguments[0],_t=arguments[1];this._upwardSeg=new po(vt),this._leftDepth=_t};Pd.prototype.compareTo=function(vt){var _t=vt;if(this._upwardSeg.minX()>=_t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=_t._upwardSeg.minX())return-1;var xt=this._upwardSeg.orientationIndex(_t._upwardSeg);return xt!==0||(xt=-1*_t._upwardSeg.orientationIndex(this._upwardSeg))!==0?xt:this._upwardSeg.compareTo(_t._upwardSeg)},Pd.prototype.compareX=function(vt,_t){var xt=vt.p0.compareTo(_t.p0);return xt!==0?xt:vt.p1.compareTo(_t.p1)},Pd.prototype.toString=function(){return this._upwardSeg.toString()},Pd.prototype.interfaces_=function(){return[Jc]},Pd.prototype.getClass=function(){return Pd};var Fo=function(vt,_t,xt){this.p0=vt||null,this.p1=_t||null,this.p2=xt||null};Fo.prototype.area=function(){return Fo.area(this.p0,this.p1,this.p2)},Fo.prototype.signedArea=function(){return Fo.signedArea(this.p0,this.p1,this.p2)},Fo.prototype.interpolateZ=function(vt){if(vt===null)throw new Ss("Supplied point is null.");return Fo.interpolateZ(vt,this.p0,this.p1,this.p2)},Fo.prototype.longestSideLength=function(){return Fo.longestSideLength(this.p0,this.p1,this.p2)},Fo.prototype.isAcute=function(){return Fo.isAcute(this.p0,this.p1,this.p2)},Fo.prototype.circumcentre=function(){return Fo.circumcentre(this.p0,this.p1,this.p2)},Fo.prototype.area3D=function(){return Fo.area3D(this.p0,this.p1,this.p2)},Fo.prototype.centroid=function(){return Fo.centroid(this.p0,this.p1,this.p2)},Fo.prototype.inCentre=function(){return Fo.inCentre(this.p0,this.p1,this.p2)},Fo.prototype.interfaces_=function(){return[]},Fo.prototype.getClass=function(){return Fo},Fo.area=function(vt,_t,xt){return Math.abs(((xt.x-vt.x)*(_t.y-vt.y)-(_t.x-vt.x)*(xt.y-vt.y))/2)},Fo.signedArea=function(vt,_t,xt){return((xt.x-vt.x)*(_t.y-vt.y)-(_t.x-vt.x)*(xt.y-vt.y))/2},Fo.det=function(vt,_t,xt,Mt){return vt*Mt-_t*xt},Fo.interpolateZ=function(vt,_t,xt,Mt){var kt=_t.x,It=_t.y,Rt=xt.x-kt,Ut=Mt.x-kt,Wt=xt.y-It,qt=Mt.y-It,on=Rt*qt-Ut*Wt,Jt=vt.x-kt,un=vt.y-It,En=(qt*Jt-Ut*un)/on,Tn=(-Wt*Jt+Rt*un)/on;return _t.z+En*(xt.z-_t.z)+Tn*(Mt.z-_t.z)},Fo.longestSideLength=function(vt,_t,xt){var Mt=vt.distance(_t),kt=_t.distance(xt),It=xt.distance(vt),Rt=Mt;return kt>Rt&&(Rt=kt),It>Rt&&(Rt=It),Rt},Fo.isAcute=function(vt,_t,xt){return!!pa.isAcute(vt,_t,xt)&&!!pa.isAcute(_t,xt,vt)&&!!pa.isAcute(xt,vt,_t)},Fo.circumcentre=function(vt,_t,xt){var Mt=xt.x,kt=xt.y,It=vt.x-Mt,Rt=vt.y-kt,Ut=_t.x-Mt,Wt=_t.y-kt,qt=2*Fo.det(It,Rt,Ut,Wt),on=Fo.det(Rt,It*It+Rt*Rt,Wt,Ut*Ut+Wt*Wt),Jt=Fo.det(It,It*It+Rt*Rt,Ut,Ut*Ut+Wt*Wt);return new Xr(Mt-on/qt,kt+Jt/qt)},Fo.perpendicularBisector=function(vt,_t){var xt=_t.x-vt.x,Mt=_t.y-vt.y,kt=new tu(vt.x+xt/2,vt.y+Mt/2,1),It=new tu(vt.x-Mt+xt/2,vt.y+xt+Mt/2,1);return new tu(kt,It)},Fo.angleBisector=function(vt,_t,xt){var Mt=_t.distance(vt),kt=Mt/(Mt+_t.distance(xt)),It=xt.x-vt.x,Rt=xt.y-vt.y;return new Xr(vt.x+kt*It,vt.y+kt*Rt)},Fo.area3D=function(vt,_t,xt){var Mt=_t.x-vt.x,kt=_t.y-vt.y,It=_t.z-vt.z,Rt=xt.x-vt.x,Ut=xt.y-vt.y,Wt=xt.z-vt.z,qt=kt*Wt-It*Ut,on=It*Rt-Mt*Wt,Jt=Mt*Ut-kt*Rt,un=qt*qt+on*on+Jt*Jt,En=Math.sqrt(un)/2;return En},Fo.centroid=function(vt,_t,xt){var Mt=(vt.x+_t.x+xt.x)/3,kt=(vt.y+_t.y+xt.y)/3;return new Xr(Mt,kt)},Fo.inCentre=function(vt,_t,xt){var Mt=_t.distance(xt),kt=vt.distance(xt),It=vt.distance(_t),Rt=Mt+kt+It,Ut=(Mt*vt.x+kt*_t.x+It*xt.x)/Rt,Wt=(Mt*vt.y+kt*_t.y+It*xt.y)/Rt;return new Xr(Ut,Wt)};var fc=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Hi;var vt=arguments[0],_t=arguments[1],xt=arguments[2];this._inputGeom=vt,this._distance=_t,this._curveBuilder=xt};fc.prototype.addPoint=function(vt){if(this._distance<=0)return null;var _t=vt.getCoordinates(),xt=this._curveBuilder.getLineCurve(_t,this._distance);this.addCurve(xt,ai.EXTERIOR,ai.INTERIOR)},fc.prototype.addPolygon=function(vt){var _t=this,xt=this._distance,Mt=Pi.LEFT;this._distance<0&&(xt=-this._distance,Mt=Pi.RIGHT);var kt=vt.getExteriorRing(),It=sa.removeRepeatedPoints(kt.getCoordinates());if(this._distance<0&&this.isErodedCompletely(kt,this._distance)||this._distance<=0&&It.length<3)return null;this.addPolygonRing(It,xt,Mt,ai.EXTERIOR,ai.INTERIOR);for(var Rt=0;Rt<vt.getNumInteriorRing();Rt++){var Ut=vt.getInteriorRingN(Rt),Wt=sa.removeRepeatedPoints(Ut.getCoordinates());_t._distance>0&&_t.isErodedCompletely(Ut,-_t._distance)||_t.addPolygonRing(Wt,xt,Pi.opposite(Mt),ai.INTERIOR,ai.EXTERIOR)}},fc.prototype.isTriangleErodedCompletely=function(vt,_t){var xt=new Fo(vt[0],vt[1],vt[2]),Mt=xt.inCentre();return Wi.distancePointLine(Mt,xt.p0,xt.p1)<Math.abs(_t)},fc.prototype.addLineString=function(vt){if(this._distance<=0&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;var _t=sa.removeRepeatedPoints(vt.getCoordinates()),xt=this._curveBuilder.getLineCurve(_t,this._distance);this.addCurve(xt,ai.EXTERIOR,ai.INTERIOR)},fc.prototype.addCurve=function(vt,_t,xt){if(vt===null||vt.length<2)return null;var Mt=new Os(vt,new ns(0,ai.BOUNDARY,_t,xt));this._curveList.add(Mt)},fc.prototype.getCurves=function(){return this.add(this._inputGeom),this._curveList},fc.prototype.addPolygonRing=function(vt,_t,xt,Mt,kt){if(_t===0&&vt.length<ph.MINIMUM_VALID_SIZE)return null;var It=Mt,Rt=kt;vt.length>=ph.MINIMUM_VALID_SIZE&&Wi.isCCW(vt)&&(It=kt,Rt=Mt,xt=Pi.opposite(xt));var Ut=this._curveBuilder.getRingCurve(vt,xt,_t);this.addCurve(Ut,It,Rt)},fc.prototype.add=function(vt){if(vt.isEmpty())return null;vt instanceof ol?this.addPolygon(vt):vt instanceof ks?this.addLineString(vt):vt instanceof Tc?this.addPoint(vt):(vt instanceof sp||vt instanceof sd||vt instanceof gh||vt instanceof nc)&&this.addCollection(vt)},fc.prototype.isErodedCompletely=function(vt,_t){var xt=vt.getCoordinates();if(xt.length<4)return _t<0;if(xt.length===4)return this.isTriangleErodedCompletely(xt,_t);var Mt=vt.getEnvelopeInternal(),kt=Math.min(Mt.getHeight(),Mt.getWidth());return _t<0&&2*Math.abs(_t)>kt},fc.prototype.addCollection=function(vt){for(var _t=0;_t<vt.getNumGeometries();_t++){var xt=vt.getGeometryN(_t);this.add(xt)}},fc.prototype.interfaces_=function(){return[]},fc.prototype.getClass=function(){return fc};var Ka=function(){};Ka.prototype.locate=function(vt){},Ka.prototype.interfaces_=function(){return[]},Ka.prototype.getClass=function(){return Ka};var Wu=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var vt=arguments[0];this._parent=vt,this._atStart=!0,this._index=0,this._max=vt.getNumGeometries()};Wu.prototype.next=function(){if(this._atStart)return this._atStart=!1,Wu.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new df;var vt=this._parent.getGeometryN(this._index++);return vt instanceof nc?(this._subcollectionIterator=new Wu(vt),this._subcollectionIterator.next()):vt},Wu.prototype.remove=function(){throw new Error(this.getClass().getName())},Wu.prototype.hasNext=function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)},Wu.prototype.interfaces_=function(){return[rp]},Wu.prototype.getClass=function(){return Wu},Wu.isAtomic=function(vt){return!(vt instanceof nc)};var pc=function(){this._geom=null;var vt=arguments[0];this._geom=vt};pc.prototype.locate=function(vt){return pc.locate(vt,this._geom)},pc.prototype.interfaces_=function(){return[Ka]},pc.prototype.getClass=function(){return pc},pc.isPointInRing=function(vt,_t){return!!_t.getEnvelopeInternal().intersects(vt)&&Wi.isPointInRing(vt,_t.getCoordinates())},pc.containsPointInPolygon=function(vt,_t){if(_t.isEmpty())return!1;var xt=_t.getExteriorRing();if(!pc.isPointInRing(vt,xt))return!1;for(var Mt=0;Mt<_t.getNumInteriorRing();Mt++){var kt=_t.getInteriorRingN(Mt);if(pc.isPointInRing(vt,kt))return!1}return!0},pc.containsPoint=function(vt,_t){if(_t instanceof ol)return pc.containsPointInPolygon(vt,_t);if(_t instanceof nc)for(var xt=new Wu(_t);xt.hasNext();){var Mt=xt.next();if(Mt!==_t&&pc.containsPoint(vt,Mt))return!0}return!1},pc.locate=function(vt,_t){return _t.isEmpty()?ai.EXTERIOR:pc.containsPoint(vt,_t)?ai.INTERIOR:ai.EXTERIOR};var El=function(){this._edgeMap=new ql,this._edgeList=null,this._ptInAreaLocation=[ai.NONE,ai.NONE]};El.prototype.getNextCW=function(vt){this.getEdges();var _t=this._edgeList.indexOf(vt),xt=_t-1;return _t===0&&(xt=this._edgeList.size()-1),this._edgeList.get(xt)},El.prototype.propagateSideLabels=function(vt){for(var _t=ai.NONE,xt=this.iterator();xt.hasNext();){var Mt=xt.next().getLabel();Mt.isArea(vt)&&Mt.getLocation(vt,Pi.LEFT)!==ai.NONE&&(_t=Mt.getLocation(vt,Pi.LEFT))}if(_t===ai.NONE)return null;for(var kt=_t,It=this.iterator();It.hasNext();){var Rt=It.next(),Ut=Rt.getLabel();if(Ut.getLocation(vt,Pi.ON)===ai.NONE&&Ut.setLocation(vt,Pi.ON,kt),Ut.isArea(vt)){var Wt=Ut.getLocation(vt,Pi.LEFT),qt=Ut.getLocation(vt,Pi.RIGHT);if(qt!==ai.NONE){if(qt!==kt)throw new $h("side location conflict",Rt.getCoordinate());Wt===ai.NONE&&qo.shouldNeverReachHere("found single null side (at "+Rt.getCoordinate()+")"),kt=Wt}else qo.isTrue(Ut.getLocation(vt,Pi.LEFT)===ai.NONE,"found single null side"),Ut.setLocation(vt,Pi.RIGHT,kt),Ut.setLocation(vt,Pi.LEFT,kt)}}},El.prototype.getCoordinate=function(){var vt=this.iterator();return vt.hasNext()?vt.next().getCoordinate():null},El.prototype.print=function(vt){zl.out.println("EdgeEndStar:   "+this.getCoordinate());for(var _t=this.iterator();_t.hasNext();)_t.next().print(vt)},El.prototype.isAreaLabelsConsistent=function(vt){return this.computeEdgeEndLabels(vt.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},El.prototype.checkAreaLabelsConsistent=function(vt){var _t=this.getEdges();if(_t.size()<=0)return!0;var xt=_t.size()-1,Mt=_t.get(xt).getLabel().getLocation(vt,Pi.LEFT);qo.isTrue(Mt!==ai.NONE,"Found unlabelled area edge");for(var kt=Mt,It=this.iterator();It.hasNext();){var Rt=It.next().getLabel();qo.isTrue(Rt.isArea(vt),"Found non-area edge");var Ut=Rt.getLocation(vt,Pi.LEFT),Wt=Rt.getLocation(vt,Pi.RIGHT);if(Ut===Wt||Wt!==kt)return!1;kt=Ut}return!0},El.prototype.findIndex=function(vt){this.iterator();for(var _t=0;_t<this._edgeList.size();_t++)if(this._edgeList.get(_t)===vt)return _t;return-1},El.prototype.iterator=function(){return this.getEdges().iterator()},El.prototype.getEdges=function(){return this._edgeList===null&&(this._edgeList=new Hi(this._edgeMap.values())),this._edgeList},El.prototype.getLocation=function(vt,_t,xt){return this._ptInAreaLocation[vt]===ai.NONE&&(this._ptInAreaLocation[vt]=pc.locate(_t,xt[vt].getGeometry())),this._ptInAreaLocation[vt]},El.prototype.toString=function(){var vt=new Bu;vt.append("EdgeEndStar:   "+this.getCoordinate()),vt.append(`
`);for(var _t=this.iterator();_t.hasNext();){var xt=_t.next();vt.append(xt),vt.append(`
`)}return vt.toString()},El.prototype.computeEdgeEndLabels=function(vt){for(var _t=this.iterator();_t.hasNext();)_t.next().computeLabel(vt)},El.prototype.computeLabelling=function(vt){this.computeEdgeEndLabels(vt[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var _t=[!1,!1],xt=this.iterator();xt.hasNext();)for(var Mt=xt.next().getLabel(),kt=0;kt<2;kt++)Mt.isLine(kt)&&Mt.getLocation(kt)===ai.BOUNDARY&&(_t[kt]=!0);for(var It=this.iterator();It.hasNext();)for(var Rt=It.next(),Ut=Rt.getLabel(),Wt=0;Wt<2;Wt++)if(Ut.isAnyNull(Wt)){var qt=ai.NONE;if(_t[Wt])qt=ai.EXTERIOR;else{var on=Rt.getCoordinate();qt=this.getLocation(Wt,on,vt)}Ut.setAllLocationsIfNull(Wt,qt)}},El.prototype.getDegree=function(){return this._edgeMap.size()},El.prototype.insertEdgeEnd=function(vt,_t){this._edgeMap.put(vt,_t),this._edgeList=null},El.prototype.interfaces_=function(){return[]},El.prototype.getClass=function(){return El};var lb=function(vt){function _t(){vt.call(this),this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.linkResultDirectedEdges=function(){var xt=this;this.getResultAreaEdges();for(var Mt=null,kt=null,It=this._SCANNING_FOR_INCOMING,Rt=0;Rt<this._resultAreaEdgeList.size();Rt++){var Ut=xt._resultAreaEdgeList.get(Rt),Wt=Ut.getSym();if(Ut.getLabel().isArea())switch(Mt===null&&Ut.isInResult()&&(Mt=Ut),It){case xt._SCANNING_FOR_INCOMING:if(!Wt.isInResult())continue;kt=Wt,It=xt._LINKING_TO_OUTGOING;break;case xt._LINKING_TO_OUTGOING:if(!Ut.isInResult())continue;kt.setNext(Ut),It=xt._SCANNING_FOR_INCOMING}}if(It===this._LINKING_TO_OUTGOING){if(Mt===null)throw new $h("no outgoing dirEdge found",this.getCoordinate());qo.isTrue(Mt.isInResult(),"unable to link last incoming dirEdge"),kt.setNext(Mt)}},_t.prototype.insert=function(xt){var Mt=xt;this.insertEdgeEnd(Mt,Mt)},_t.prototype.getRightmostEdge=function(){var xt=this.getEdges(),Mt=xt.size();if(Mt<1)return null;var kt=xt.get(0);if(Mt===1)return kt;var It=xt.get(Mt-1),Rt=kt.getQuadrant(),Ut=It.getQuadrant();return is.isNorthern(Rt)&&is.isNorthern(Ut)?kt:is.isNorthern(Rt)||is.isNorthern(Ut)?kt.getDy()!==0?kt:It.getDy()!==0?It:(qo.shouldNeverReachHere("found two horizontal edges incident on node"),null):It},_t.prototype.print=function(xt){zl.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var Mt=this.iterator();Mt.hasNext();){var kt=Mt.next();xt.print("out "),kt.print(xt),xt.println(),xt.print("in "),kt.getSym().print(xt),xt.println()}},_t.prototype.getResultAreaEdges=function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Hi;for(var xt=this.iterator();xt.hasNext();){var Mt=xt.next();(Mt.isInResult()||Mt.getSym().isInResult())&&this._resultAreaEdgeList.add(Mt)}return this._resultAreaEdgeList},_t.prototype.updateLabelling=function(xt){for(var Mt=this.iterator();Mt.hasNext();){var kt=Mt.next().getLabel();kt.setAllLocationsIfNull(0,xt.getLocation(0)),kt.setAllLocationsIfNull(1,xt.getLocation(1))}},_t.prototype.linkAllDirectedEdges=function(){this.getEdges();for(var xt=null,Mt=null,kt=this._edgeList.size()-1;kt>=0;kt--){var It=this._edgeList.get(kt),Rt=It.getSym();Mt===null&&(Mt=Rt),xt!==null&&Rt.setNext(xt),xt=It}Mt.setNext(xt)},_t.prototype.computeDepths=function(){var xt=this;if(arguments.length===1){var Mt=arguments[0],kt=this.findIndex(Mt),It=Mt.getDepth(Pi.LEFT),Rt=Mt.getDepth(Pi.RIGHT),Ut=this.computeDepths(kt+1,this._edgeList.size(),It),Wt=this.computeDepths(0,kt,Ut);if(Wt!==Rt)throw new $h("depth mismatch at "+Mt.getCoordinate())}else if(arguments.length===3){for(var qt=arguments[0],on=arguments[1],Jt=arguments[2],un=Jt,En=qt;En<on;En++){var Tn=xt._edgeList.get(En);Tn.setEdgeDepths(Pi.RIGHT,un),un=Tn.getDepth(Pi.LEFT)}return un}},_t.prototype.mergeSymLabels=function(){for(var xt=this.iterator();xt.hasNext();){var Mt=xt.next();Mt.getLabel().merge(Mt.getSym().getLabel())}},_t.prototype.linkMinimalDirectedEdges=function(xt){for(var Mt=this,kt=null,It=null,Rt=this._SCANNING_FOR_INCOMING,Ut=this._resultAreaEdgeList.size()-1;Ut>=0;Ut--){var Wt=Mt._resultAreaEdgeList.get(Ut),qt=Wt.getSym();switch(kt===null&&Wt.getEdgeRing()===xt&&(kt=Wt),Rt){case Mt._SCANNING_FOR_INCOMING:if(qt.getEdgeRing()!==xt)continue;It=qt,Rt=Mt._LINKING_TO_OUTGOING;break;case Mt._LINKING_TO_OUTGOING:if(Wt.getEdgeRing()!==xt)continue;It.setNextMin(Wt),Rt=Mt._SCANNING_FOR_INCOMING}}Rt===this._LINKING_TO_OUTGOING&&(qo.isTrue(kt!==null,"found null for first outgoing dirEdge"),qo.isTrue(kt.getEdgeRing()===xt,"unable to link last incoming dirEdge"),It.setNextMin(kt))},_t.prototype.getOutgoingDegree=function(){if(arguments.length===0){for(var xt=0,Mt=this.iterator();Mt.hasNext();){var kt=Mt.next();kt.isInResult()&&xt++}return xt}if(arguments.length===1){for(var It=arguments[0],Rt=0,Ut=this.iterator();Ut.hasNext();){var Wt=Ut.next();Wt.getEdgeRing()===It&&Rt++}return Rt}},_t.prototype.getLabel=function(){return this._label},_t.prototype.findCoveredLineEdges=function(){for(var xt=ai.NONE,Mt=this.iterator();Mt.hasNext();){var kt=Mt.next(),It=kt.getSym();if(!kt.isLineEdge()){if(kt.isInResult()){xt=ai.INTERIOR;break}if(It.isInResult()){xt=ai.EXTERIOR;break}}}if(xt===ai.NONE)return null;for(var Rt=xt,Ut=this.iterator();Ut.hasNext();){var Wt=Ut.next(),qt=Wt.getSym();Wt.isLineEdge()?Wt.getEdge().setCovered(Rt===ai.INTERIOR):(Wt.isInResult()&&(Rt=ai.EXTERIOR),qt.isInResult()&&(Rt=ai.INTERIOR))}},_t.prototype.computeLabelling=function(xt){vt.prototype.computeLabelling.call(this,xt),this._label=new ns(ai.NONE);for(var Mt=this.iterator();Mt.hasNext();)for(var kt=Mt.next().getEdge().getLabel(),It=0;It<2;It++){var Rt=kt.getLocation(It);Rt!==ai.INTERIOR&&Rt!==ai.BOUNDARY||this._label.setLocation(It,ai.INTERIOR)}},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(El),Ry=function(vt){function _t(){vt.apply(this,arguments)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.createNode=function(xt){return new pm(xt,new lb)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(lp),hd=function vt(){this._pts=null,this._orientation=null;var _t=arguments[0];this._pts=_t,this._orientation=vt.orientation(_t)};hd.prototype.compareTo=function(vt){var _t=vt;return hd.compareOriented(this._pts,this._orientation,_t._pts,_t._orientation)},hd.prototype.interfaces_=function(){return[Jc]},hd.prototype.getClass=function(){return hd},hd.orientation=function(vt){return sa.increasingDirection(vt)===1},hd.compareOriented=function(vt,_t,xt,Mt){for(var kt=_t?1:-1,It=Mt?1:-1,Rt=_t?vt.length:-1,Ut=Mt?xt.length:-1,Wt=_t?0:vt.length-1,qt=Mt?0:xt.length-1;;){var on=vt[Wt].compareTo(xt[qt]);if(on!==0)return on;var Jt=(Wt+=kt)===Rt,un=(qt+=It)===Ut;if(Jt&&!un)return-1;if(!Jt&&un)return 1;if(Jt&&un)return 0}};var kc=function(){this._edges=new Hi,this._ocaMap=new ql};kc.prototype.print=function(vt){vt.print("MULTILINESTRING ( ");for(var _t=0;_t<this._edges.size();_t++){var xt=this._edges.get(_t);_t>0&&vt.print(","),vt.print("(");for(var Mt=xt.getCoordinates(),kt=0;kt<Mt.length;kt++)kt>0&&vt.print(","),vt.print(Mt[kt].x+" "+Mt[kt].y);vt.println(")")}vt.print(")  ")},kc.prototype.addAll=function(vt){for(var _t=vt.iterator();_t.hasNext();)this.add(_t.next())},kc.prototype.findEdgeIndex=function(vt){for(var _t=0;_t<this._edges.size();_t++)if(this._edges.get(_t).equals(vt))return _t;return-1},kc.prototype.iterator=function(){return this._edges.iterator()},kc.prototype.getEdges=function(){return this._edges},kc.prototype.get=function(vt){return this._edges.get(vt)},kc.prototype.findEqualEdge=function(vt){var _t=new hd(vt.getCoordinates());return this._ocaMap.get(_t)},kc.prototype.add=function(vt){this._edges.add(vt);var _t=new hd(vt.getCoordinates());this._ocaMap.put(_t,vt)},kc.prototype.interfaces_=function(){return[]},kc.prototype.getClass=function(){return kc};var Rd=function(){};Rd.prototype.processIntersections=function(vt,_t,xt,Mt){},Rd.prototype.isDone=function(){},Rd.prototype.interfaces_=function(){return[]},Rd.prototype.getClass=function(){return Rd};var Cc=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var vt=arguments[0];this._li=vt};Cc.prototype.isTrivialIntersection=function(vt,_t,xt,Mt){if(vt===xt&&this._li.getIntersectionNum()===1){if(Cc.isAdjacentSegments(_t,Mt))return!0;if(vt.isClosed()){var kt=vt.size()-1;if(_t===0&&Mt===kt||Mt===0&&_t===kt)return!0}}return!1},Cc.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},Cc.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},Cc.prototype.getLineIntersector=function(){return this._li},Cc.prototype.hasProperIntersection=function(){return this._hasProper},Cc.prototype.processIntersections=function(vt,_t,xt,Mt){if(vt===xt&&_t===Mt)return null;this.numTests++;var kt=vt.getCoordinates()[_t],It=vt.getCoordinates()[_t+1],Rt=xt.getCoordinates()[Mt],Ut=xt.getCoordinates()[Mt+1];this._li.computeIntersection(kt,It,Rt,Ut),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(vt,_t,xt,Mt)||(this._hasIntersection=!0,vt.addIntersections(this._li,_t,0),xt.addIntersections(this._li,Mt,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))},Cc.prototype.hasIntersection=function(){return this._hasIntersection},Cc.prototype.isDone=function(){return!1},Cc.prototype.hasInteriorIntersection=function(){return this._hasInterior},Cc.prototype.interfaces_=function(){return[Rd]},Cc.prototype.getClass=function(){return Cc},Cc.isAdjacentSegments=function(vt,_t){return Math.abs(vt-_t)===1};var qu=function(){this.coord=null,this.segmentIndex=null,this.dist=null;var vt=arguments[0],_t=arguments[1],xt=arguments[2];this.coord=new Xr(vt),this.segmentIndex=_t,this.dist=xt};qu.prototype.getSegmentIndex=function(){return this.segmentIndex},qu.prototype.getCoordinate=function(){return this.coord},qu.prototype.print=function(vt){vt.print(this.coord),vt.print(" seg # = "+this.segmentIndex),vt.println(" dist = "+this.dist)},qu.prototype.compareTo=function(vt){var _t=vt;return this.compare(_t.segmentIndex,_t.dist)},qu.prototype.isEndPoint=function(vt){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===vt},qu.prototype.toString=function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},qu.prototype.getDistance=function(){return this.dist},qu.prototype.compare=function(vt,_t){return this.segmentIndex<vt?-1:this.segmentIndex>vt?1:this.dist<_t?-1:this.dist>_t?1:0},qu.prototype.interfaces_=function(){return[Jc]},qu.prototype.getClass=function(){return qu};var Ua=function(){this._nodeMap=new ql,this.edge=null;var vt=arguments[0];this.edge=vt};Ua.prototype.print=function(vt){vt.println("Intersections:");for(var _t=this.iterator();_t.hasNext();)_t.next().print(vt)},Ua.prototype.iterator=function(){return this._nodeMap.values().iterator()},Ua.prototype.addSplitEdges=function(vt){this.addEndpoints();for(var _t=this.iterator(),xt=_t.next();_t.hasNext();){var Mt=_t.next(),kt=this.createSplitEdge(xt,Mt);vt.add(kt),xt=Mt}},Ua.prototype.addEndpoints=function(){var vt=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[vt],vt,0)},Ua.prototype.createSplitEdge=function(vt,_t){var xt=_t.segmentIndex-vt.segmentIndex+2,Mt=this.edge.pts[_t.segmentIndex],kt=_t.dist>0||!_t.coord.equals2D(Mt);kt||xt--;var It=new Array(xt).fill(null),Rt=0;It[Rt++]=new Xr(vt.coord);for(var Ut=vt.segmentIndex+1;Ut<=_t.segmentIndex;Ut++)It[Rt++]=this.edge.pts[Ut];return kt&&(It[Rt]=_t.coord),new dp(It,new ns(this.edge._label))},Ua.prototype.add=function(vt,_t,xt){var Mt=new qu(vt,_t,xt),kt=this._nodeMap.get(Mt);return kt!==null?kt:(this._nodeMap.put(Mt,Mt),Mt)},Ua.prototype.isIntersection=function(vt){for(var _t=this.iterator();_t.hasNext();)if(_t.next().coord.equals(vt))return!0;return!1},Ua.prototype.interfaces_=function(){return[]},Ua.prototype.getClass=function(){return Ua};var dd=function(){};dd.prototype.getChainStartIndices=function(vt){var _t=0,xt=new Hi;xt.add(new ju(_t));do{var Mt=this.findChainEnd(vt,_t);xt.add(new ju(Mt)),_t=Mt}while(_t<vt.length-1);return dd.toIntArray(xt)},dd.prototype.findChainEnd=function(vt,_t){for(var xt=is.quadrant(vt[_t],vt[_t+1]),Mt=_t+1;Mt<vt.length&&is.quadrant(vt[Mt-1],vt[Mt])===xt;)Mt++;return Mt-1},dd.prototype.interfaces_=function(){return[]},dd.prototype.getClass=function(){return dd},dd.toIntArray=function(vt){for(var _t=new Array(vt.size()).fill(null),xt=0;xt<_t.length;xt++)_t[xt]=vt.get(xt).intValue();return _t};var sl=function(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new go,this.env2=new go;var vt=arguments[0];this.e=vt,this.pts=vt.getCoordinates();var _t=new dd;this.startIndex=_t.getChainStartIndices(this.pts)};sl.prototype.getCoordinates=function(){return this.pts},sl.prototype.getMaxX=function(vt){var _t=this.pts[this.startIndex[vt]].x,xt=this.pts[this.startIndex[vt+1]].x;return _t>xt?_t:xt},sl.prototype.getMinX=function(vt){var _t=this.pts[this.startIndex[vt]].x,xt=this.pts[this.startIndex[vt+1]].x;return _t<xt?_t:xt},sl.prototype.computeIntersectsForChain=function(){if(arguments.length===4){var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=arguments[3];this.computeIntersectsForChain(this.startIndex[vt],this.startIndex[vt+1],_t,_t.startIndex[xt],_t.startIndex[xt+1],Mt)}else if(arguments.length===6){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=arguments[3],Wt=arguments[4],qt=arguments[5],on=this.pts[kt],Jt=this.pts[It],un=Rt.pts[Ut],En=Rt.pts[Wt];if(It-kt==1&&Wt-Ut==1)return qt.addIntersections(this.e,kt,Rt.e,Ut),null;if(this.env1.init(on,Jt),this.env2.init(un,En),!this.env1.intersects(this.env2))return null;var Tn=Math.trunc((kt+It)/2),In=Math.trunc((Ut+Wt)/2);kt<Tn&&(Ut<In&&this.computeIntersectsForChain(kt,Tn,Rt,Ut,In,qt),In<Wt&&this.computeIntersectsForChain(kt,Tn,Rt,In,Wt,qt)),Tn<It&&(Ut<In&&this.computeIntersectsForChain(Tn,It,Rt,Ut,In,qt),In<Wt&&this.computeIntersectsForChain(Tn,It,Rt,In,Wt,qt))}},sl.prototype.getStartIndexes=function(){return this.startIndex},sl.prototype.computeIntersects=function(vt,_t){for(var xt=0;xt<this.startIndex.length-1;xt++)for(var Mt=0;Mt<vt.startIndex.length-1;Mt++)this.computeIntersectsForChain(xt,vt,Mt,_t)},sl.prototype.interfaces_=function(){return[]},sl.prototype.getClass=function(){return sl};var Xs=function vt(){this._depth=Array(2).fill().map(function(){return Array(3)});for(var _t=0;_t<2;_t++)for(var xt=0;xt<3;xt++)this._depth[_t][xt]=vt.NULL_VALUE},vh={NULL_VALUE:{configurable:!0}};Xs.prototype.getDepth=function(vt,_t){return this._depth[vt][_t]},Xs.prototype.setDepth=function(vt,_t,xt){this._depth[vt][_t]=xt},Xs.prototype.isNull=function(){var vt=this;if(arguments.length===0){for(var _t=0;_t<2;_t++)for(var xt=0;xt<3;xt++)if(vt._depth[_t][xt]!==Xs.NULL_VALUE)return!1;return!0}if(arguments.length===1){var Mt=arguments[0];return this._depth[Mt][1]===Xs.NULL_VALUE}if(arguments.length===2){var kt=arguments[0],It=arguments[1];return this._depth[kt][It]===Xs.NULL_VALUE}},Xs.prototype.normalize=function(){for(var vt=this,_t=0;_t<2;_t++)if(!vt.isNull(_t)){var xt=vt._depth[_t][1];vt._depth[_t][2]<xt&&(xt=vt._depth[_t][2]),xt<0&&(xt=0);for(var Mt=1;Mt<3;Mt++){var kt=0;vt._depth[_t][Mt]>xt&&(kt=1),vt._depth[_t][Mt]=kt}}},Xs.prototype.getDelta=function(vt){return this._depth[vt][Pi.RIGHT]-this._depth[vt][Pi.LEFT]},Xs.prototype.getLocation=function(vt,_t){return this._depth[vt][_t]<=0?ai.EXTERIOR:ai.INTERIOR},Xs.prototype.toString=function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]},Xs.prototype.add=function(){var vt=this;if(arguments.length===1)for(var _t=arguments[0],xt=0;xt<2;xt++)for(var Mt=1;Mt<3;Mt++){var kt=_t.getLocation(xt,Mt);kt!==ai.EXTERIOR&&kt!==ai.INTERIOR||(vt.isNull(xt,Mt)?vt._depth[xt][Mt]=Xs.depthAtLocation(kt):vt._depth[xt][Mt]+=Xs.depthAtLocation(kt))}else if(arguments.length===3){var It=arguments[0],Rt=arguments[1],Ut=arguments[2];Ut===ai.INTERIOR&&this._depth[It][Rt]++}},Xs.prototype.interfaces_=function(){return[]},Xs.prototype.getClass=function(){return Xs},Xs.depthAtLocation=function(vt){return vt===ai.EXTERIOR?0:vt===ai.INTERIOR?1:Xs.NULL_VALUE},vh.NULL_VALUE.get=function(){return-1},Object.defineProperties(Xs,vh);var dp=function(vt){function _t(){if(vt.call(this),this.pts=null,this._env=null,this.eiList=new Ua(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new Xs,this._depthDelta=0,arguments.length===1){var xt=arguments[0];_t.call(this,xt,null)}else if(arguments.length===2){var Mt=arguments[0],kt=arguments[1];this.pts=Mt,this._label=kt}}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.getDepth=function(){return this._depth},_t.prototype.getCollapsedEdge=function(){var xt=new Array(2).fill(null);return xt[0]=this.pts[0],xt[1]=this.pts[1],new _t(xt,ns.toLineLabel(this._label))},_t.prototype.isIsolated=function(){return this._isIsolated},_t.prototype.getCoordinates=function(){return this.pts},_t.prototype.setIsolated=function(xt){this._isIsolated=xt},_t.prototype.setName=function(xt){this._name=xt},_t.prototype.equals=function(xt){if(!(xt instanceof _t))return!1;var Mt=xt;if(this.pts.length!==Mt.pts.length)return!1;for(var kt=!0,It=!0,Rt=this.pts.length,Ut=0;Ut<this.pts.length;Ut++)if(this.pts[Ut].equals2D(Mt.pts[Ut])||(kt=!1),this.pts[Ut].equals2D(Mt.pts[--Rt])||(It=!1),!kt&&!It)return!1;return!0},_t.prototype.getCoordinate=function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var xt=arguments[0];return this.pts[xt]}},_t.prototype.print=function(xt){xt.print("edge "+this._name+": "),xt.print("LINESTRING (");for(var Mt=0;Mt<this.pts.length;Mt++)Mt>0&&xt.print(","),xt.print(this.pts[Mt].x+" "+this.pts[Mt].y);xt.print(")  "+this._label+" "+this._depthDelta)},_t.prototype.computeIM=function(xt){_t.updateIM(this._label,xt)},_t.prototype.isCollapsed=function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])},_t.prototype.isClosed=function(){return this.pts[0].equals(this.pts[this.pts.length-1])},_t.prototype.getMaximumSegmentIndex=function(){return this.pts.length-1},_t.prototype.getDepthDelta=function(){return this._depthDelta},_t.prototype.getNumPoints=function(){return this.pts.length},_t.prototype.printReverse=function(xt){xt.print("edge "+this._name+": ");for(var Mt=this.pts.length-1;Mt>=0;Mt--)xt.print(this.pts[Mt]+" ");xt.println("")},_t.prototype.getMonotoneChainEdge=function(){return this._mce===null&&(this._mce=new sl(this)),this._mce},_t.prototype.getEnvelope=function(){if(this._env===null){this._env=new go;for(var xt=0;xt<this.pts.length;xt++)this._env.expandToInclude(this.pts[xt])}return this._env},_t.prototype.addIntersection=function(xt,Mt,kt,It){var Rt=new Xr(xt.getIntersection(It)),Ut=Mt,Wt=xt.getEdgeDistance(kt,It),qt=Ut+1;if(qt<this.pts.length){var on=this.pts[qt];Rt.equals2D(on)&&(Ut=qt,Wt=0)}this.eiList.add(Rt,Ut,Wt)},_t.prototype.toString=function(){var xt=new Bu;xt.append("edge "+this._name+": "),xt.append("LINESTRING (");for(var Mt=0;Mt<this.pts.length;Mt++)Mt>0&&xt.append(","),xt.append(this.pts[Mt].x+" "+this.pts[Mt].y);return xt.append(")  "+this._label+" "+this._depthDelta),xt.toString()},_t.prototype.isPointwiseEqual=function(xt){if(this.pts.length!==xt.pts.length)return!1;for(var Mt=0;Mt<this.pts.length;Mt++)if(!this.pts[Mt].equals2D(xt.pts[Mt]))return!1;return!0},_t.prototype.setDepthDelta=function(xt){this._depthDelta=xt},_t.prototype.getEdgeIntersectionList=function(){return this.eiList},_t.prototype.addIntersections=function(xt,Mt,kt){for(var It=0;It<xt.getIntersectionNum();It++)this.addIntersection(xt,Mt,kt,It)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.updateIM=function(){if(arguments.length!==2)return vt.prototype.updateIM.apply(this,arguments);var xt=arguments[0],Mt=arguments[1];Mt.setAtLeastIfValid(xt.getLocation(0,Pi.ON),xt.getLocation(1,Pi.ON),1),xt.isArea()&&(Mt.setAtLeastIfValid(xt.getLocation(0,Pi.LEFT),xt.getLocation(1,Pi.LEFT),2),Mt.setAtLeastIfValid(xt.getLocation(0,Pi.RIGHT),xt.getLocation(1,Pi.RIGHT),2))},_t}(Mc),Tl=function(vt){this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new kc,this._bufParams=vt||null};Tl.prototype.setWorkingPrecisionModel=function(vt){this._workingPrecisionModel=vt},Tl.prototype.insertUniqueEdge=function(vt){var _t=this._edgeList.findEqualEdge(vt);if(_t!==null){var xt=_t.getLabel(),Mt=vt.getLabel();_t.isPointwiseEqual(vt)||(Mt=new ns(vt.getLabel())).flip(),xt.merge(Mt);var kt=Tl.depthDelta(Mt),It=_t.getDepthDelta()+kt;_t.setDepthDelta(It)}else this._edgeList.add(vt),vt.setDepthDelta(Tl.depthDelta(vt.getLabel()))},Tl.prototype.buildSubgraphs=function(vt,_t){for(var xt=new Hi,Mt=vt.iterator();Mt.hasNext();){var kt=Mt.next(),It=kt.getRightmostCoordinate(),Rt=new yf(xt).getDepth(It);kt.computeDepth(Rt),kt.findResultEdges(),xt.add(kt),_t.add(kt.getDirectedEdges(),kt.getNodes())}},Tl.prototype.createSubgraphs=function(vt){for(var _t=new Hi,xt=vt.getNodes().iterator();xt.hasNext();){var Mt=xt.next();if(!Mt.isVisited()){var kt=new Ql;kt.create(Mt),_t.add(kt)}}return Su.sort(_t,Su.reverseOrder()),_t},Tl.prototype.createEmptyResultGeometry=function(){return this._geomFact.createPolygon()},Tl.prototype.getNoder=function(vt){if(this._workingNoder!==null)return this._workingNoder;var _t=new z0,xt=new ad;return xt.setPrecisionModel(vt),_t.setSegmentIntersector(new Cc(xt)),_t},Tl.prototype.buffer=function(vt,_t){var xt=this._workingPrecisionModel;xt===null&&(xt=vt.getPrecisionModel()),this._geomFact=vt.getFactory();var Mt=new vo(xt,this._bufParams),kt=new fc(vt,_t,Mt).getCurves();if(kt.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(kt,xt),this._graph=new Is(new Ry),this._graph.addEdges(this._edgeList.getEdges());var It=this.createSubgraphs(this._graph),Rt=new hc(this._geomFact);this.buildSubgraphs(It,Rt);var Ut=Rt.getPolygons();return Ut.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(Ut)},Tl.prototype.computeNodedEdges=function(vt,_t){var xt=this.getNoder(_t);xt.computeNodes(vt);for(var Mt=xt.getNodedSubstrings().iterator();Mt.hasNext();){var kt=Mt.next(),It=kt.getCoordinates();if(It.length!==2||!It[0].equals2D(It[1])){var Rt=kt.getData(),Ut=new dp(kt.getCoordinates(),new ns(Rt));this.insertUniqueEdge(Ut)}}},Tl.prototype.setNoder=function(vt){this._workingNoder=vt},Tl.prototype.interfaces_=function(){return[]},Tl.prototype.getClass=function(){return Tl},Tl.depthDelta=function(vt){var _t=vt.getLocation(0,Pi.LEFT),xt=vt.getLocation(0,Pi.RIGHT);return _t===ai.INTERIOR&&xt===ai.EXTERIOR?1:_t===ai.EXTERIOR&&xt===ai.INTERIOR?-1:0},Tl.convertSegStrings=function(vt){for(var _t=new la,xt=new Hi;vt.hasNext();){var Mt=vt.next(),kt=_t.createLineString(Mt.getCoordinates());xt.add(kt)}return _t.buildGeometry(xt)};var fd=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var vt=arguments[0],_t=arguments[1];this._noder=vt,this._scaleFactor=_t,this._offsetX=0,this._offsetY=0,this._isScaled=!this.isIntegerPrecision()}else if(arguments.length===4){var xt=arguments[0],Mt=arguments[1],kt=arguments[2],It=arguments[3];this._noder=xt,this._scaleFactor=Mt,this._offsetX=kt,this._offsetY=It,this._isScaled=!this.isIntegerPrecision()}};fd.prototype.rescale=function(){var vt=this;if(Do(arguments[0],il))for(var _t=arguments[0],xt=_t.iterator();xt.hasNext();){var Mt=xt.next();vt.rescale(Mt.getCoordinates())}else if(arguments[0]instanceof Array){for(var kt=arguments[0],It=0;It<kt.length;It++)kt[It].x=kt[It].x/vt._scaleFactor+vt._offsetX,kt[It].y=kt[It].y/vt._scaleFactor+vt._offsetY;kt.length===2&&kt[0].equals2D(kt[1])&&zl.out.println(kt)}},fd.prototype.scale=function(){var vt=this;if(Do(arguments[0],il)){for(var _t=arguments[0],xt=new Hi,Mt=_t.iterator();Mt.hasNext();){var kt=Mt.next();xt.add(new Os(vt.scale(kt.getCoordinates()),kt.getData()))}return xt}if(arguments[0]instanceof Array){for(var It=arguments[0],Rt=new Array(It.length).fill(null),Ut=0;Ut<It.length;Ut++)Rt[Ut]=new Xr(Math.round((It[Ut].x-vt._offsetX)*vt._scaleFactor),Math.round((It[Ut].y-vt._offsetY)*vt._scaleFactor),It[Ut].z);var Wt=sa.removeRepeatedPoints(Rt);return Wt}},fd.prototype.isIntegerPrecision=function(){return this._scaleFactor===1},fd.prototype.getNodedSubstrings=function(){var vt=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(vt),vt},fd.prototype.computeNodes=function(vt){var _t=vt;this._isScaled&&(_t=this.scale(vt)),this._noder.computeNodes(_t)},fd.prototype.interfaces_=function(){return[Ld]},fd.prototype.getClass=function(){return fd};var $c=function(){this._li=new ad,this._segStrings=null;var vt=arguments[0];this._segStrings=vt},vf={fact:{configurable:!0}};$c.prototype.checkEndPtVertexIntersections=function(){var vt=this;if(arguments.length===0)for(var _t=this._segStrings.iterator();_t.hasNext();){var xt=_t.next(),Mt=xt.getCoordinates();vt.checkEndPtVertexIntersections(Mt[0],vt._segStrings),vt.checkEndPtVertexIntersections(Mt[Mt.length-1],vt._segStrings)}else if(arguments.length===2){for(var kt=arguments[0],It=arguments[1],Rt=It.iterator();Rt.hasNext();)for(var Ut=Rt.next(),Wt=Ut.getCoordinates(),qt=1;qt<Wt.length-1;qt++)if(Wt[qt].equals(kt))throw new Ph("found endpt/interior pt intersection at index "+qt+" :pt "+kt)}},$c.prototype.checkInteriorIntersections=function(){var vt=this;if(arguments.length===0)for(var _t=this._segStrings.iterator();_t.hasNext();)for(var xt=_t.next(),Mt=this._segStrings.iterator();Mt.hasNext();){var kt=Mt.next();vt.checkInteriorIntersections(xt,kt)}else if(arguments.length===2)for(var It=arguments[0],Rt=arguments[1],Ut=It.getCoordinates(),Wt=Rt.getCoordinates(),qt=0;qt<Ut.length-1;qt++)for(var on=0;on<Wt.length-1;on++)vt.checkInteriorIntersections(It,qt,Rt,on);else if(arguments.length===4){var Jt=arguments[0],un=arguments[1],En=arguments[2],Tn=arguments[3];if(Jt===En&&un===Tn)return null;var In=Jt.getCoordinates()[un],mn=Jt.getCoordinates()[un+1],Wn=En.getCoordinates()[Tn],pr=En.getCoordinates()[Tn+1];if(this._li.computeIntersection(In,mn,Wn,pr),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,In,mn)||this.hasInteriorIntersection(this._li,Wn,pr)))throw new Ph("found non-noded intersection at "+In+"-"+mn+" and "+Wn+"-"+pr)}},$c.prototype.checkValid=function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},$c.prototype.checkCollapses=function(){var vt=this;if(arguments.length===0)for(var _t=this._segStrings.iterator();_t.hasNext();){var xt=_t.next();vt.checkCollapses(xt)}else if(arguments.length===1)for(var Mt=arguments[0],kt=Mt.getCoordinates(),It=0;It<kt.length-2;It++)vt.checkCollapse(kt[It],kt[It+1],kt[It+2])},$c.prototype.hasInteriorIntersection=function(vt,_t,xt){for(var Mt=0;Mt<vt.getIntersectionNum();Mt++){var kt=vt.getIntersection(Mt);if(!kt.equals(_t)&&!kt.equals(xt))return!0}return!1},$c.prototype.checkCollapse=function(vt,_t,xt){if(vt.equals(xt))throw new Ph("found non-noded collapse at "+$c.fact.createLineString([vt,_t,xt]))},$c.prototype.interfaces_=function(){return[]},$c.prototype.getClass=function(){return $c},vf.fact.get=function(){return new la},Object.defineProperties($c,vf);var rc=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var vt=arguments[0],_t=arguments[1],xt=arguments[2];if(this._originalPt=vt,this._pt=vt,this._scaleFactor=_t,this._li=xt,_t<=0)throw new Ss("Scale factor must be non-zero");_t!==1&&(this._pt=new Xr(this.scale(vt.x),this.scale(vt.y)),this._p0Scaled=new Xr,this._p1Scaled=new Xr),this.initCorners(this._pt)},Bc={SAFE_ENV_EXPANSION_FACTOR:{configurable:!0}};rc.prototype.intersectsScaled=function(vt,_t){var xt=Math.min(vt.x,_t.x),Mt=Math.max(vt.x,_t.x),kt=Math.min(vt.y,_t.y),It=Math.max(vt.y,_t.y),Rt=this._maxx<xt||this._minx>Mt||this._maxy<kt||this._miny>It;if(Rt)return!1;var Ut=this.intersectsToleranceSquare(vt,_t);return qo.isTrue(!(Rt&&Ut),"Found bad envelope test"),Ut},rc.prototype.initCorners=function(vt){var _t=.5;this._minx=vt.x-_t,this._maxx=vt.x+_t,this._miny=vt.y-_t,this._maxy=vt.y+_t,this._corner[0]=new Xr(this._maxx,this._maxy),this._corner[1]=new Xr(this._minx,this._maxy),this._corner[2]=new Xr(this._minx,this._miny),this._corner[3]=new Xr(this._maxx,this._miny)},rc.prototype.intersects=function(vt,_t){return this._scaleFactor===1?this.intersectsScaled(vt,_t):(this.copyScaled(vt,this._p0Scaled),this.copyScaled(_t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))},rc.prototype.scale=function(vt){return Math.round(vt*this._scaleFactor)},rc.prototype.getCoordinate=function(){return this._originalPt},rc.prototype.copyScaled=function(vt,_t){_t.x=this.scale(vt.x),_t.y=this.scale(vt.y)},rc.prototype.getSafeEnvelope=function(){if(this._safeEnv===null){var vt=rc.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new go(this._originalPt.x-vt,this._originalPt.x+vt,this._originalPt.y-vt,this._originalPt.y+vt)}return this._safeEnv},rc.prototype.intersectsPixelClosure=function(vt,_t){return this._li.computeIntersection(vt,_t,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(vt,_t,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(vt,_t,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(vt,_t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))},rc.prototype.intersectsToleranceSquare=function(vt,_t){var xt=!1,Mt=!1;return this._li.computeIntersection(vt,_t,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(vt,_t,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(xt=!0),this._li.computeIntersection(vt,_t,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(Mt=!0),this._li.computeIntersection(vt,_t,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!xt||!Mt)||!!vt.equals(this._pt)||!!_t.equals(this._pt))))},rc.prototype.addSnappedNode=function(vt,_t){var xt=vt.getCoordinate(_t),Mt=vt.getCoordinate(_t+1);return!!this.intersects(xt,Mt)&&(vt.addIntersection(this.getCoordinate(),_t),!0)},rc.prototype.interfaces_=function(){return[]},rc.prototype.getClass=function(){return rc},Bc.SAFE_ENV_EXPANSION_FACTOR.get=function(){return .75},Object.defineProperties(rc,Bc);var Zs=function(){this.tempEnv1=new go,this.selectedSegment=new po};Zs.prototype.select=function(){if(arguments.length!==1){if(arguments.length===2){var vt=arguments[0],_t=arguments[1];vt.getLineSegment(_t,this.selectedSegment),this.select(this.selectedSegment)}}},Zs.prototype.interfaces_=function(){return[]},Zs.prototype.getClass=function(){return Zs};var bh=function(){this._index=null;var vt=arguments[0];this._index=vt},mg={HotPixelSnapAction:{configurable:!0}};bh.prototype.snap=function(){if(arguments.length===1){var vt=arguments[0];return this.snap(vt,null,-1)}if(arguments.length===3){var _t=arguments[0],xt=arguments[1],Mt=arguments[2],kt=_t.getSafeEnvelope(),It=new fp(_t,xt,Mt);return this._index.query(kt,{interfaces_:function(){return[cd]},visitItem:function(Rt){Rt.select(kt,It)}}),It.isNodeAdded()}},bh.prototype.interfaces_=function(){return[]},bh.prototype.getClass=function(){return bh},mg.HotPixelSnapAction.get=function(){return fp},Object.defineProperties(bh,mg);var fp=function(vt){function _t(){vt.call(this),this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this._hotPixel=xt,this._parentEdge=Mt,this._hotPixelVertexIndex=kt}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.isNodeAdded=function(){return this._isNodeAdded},_t.prototype.select=function(){if(arguments.length!==2)return vt.prototype.select.apply(this,arguments);var xt=arguments[0],Mt=arguments[1],kt=xt.getContext();if(this._parentEdge!==null&&kt===this._parentEdge&&Mt===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(kt,Mt)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Zs),bf=function(){this._li=null,this._interiorIntersections=null;var vt=arguments[0];this._li=vt,this._interiorIntersections=new Hi};bf.prototype.processIntersections=function(vt,_t,xt,Mt){if(vt===xt&&_t===Mt)return null;var kt=vt.getCoordinates()[_t],It=vt.getCoordinates()[_t+1],Rt=xt.getCoordinates()[Mt],Ut=xt.getCoordinates()[Mt+1];if(this._li.computeIntersection(kt,It,Rt,Ut),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var Wt=0;Wt<this._li.getIntersectionNum();Wt++)this._interiorIntersections.add(this._li.getIntersection(Wt));vt.addIntersections(this._li,_t,0),xt.addIntersections(this._li,Mt,1)}},bf.prototype.isDone=function(){return!1},bf.prototype.getInteriorIntersections=function(){return this._interiorIntersections},bf.prototype.interfaces_=function(){return[Rd]},bf.prototype.getClass=function(){return bf};var _h=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var vt=arguments[0];this._pm=vt,this._li=new ad,this._li.setPrecisionModel(vt),this._scaleFactor=vt.getScale()};_h.prototype.checkCorrectness=function(vt){var _t=Os.getNodedSubstrings(vt),xt=new $c(_t);try{xt.checkValid()}catch(Mt){if(!(Mt instanceof vy))throw Mt;Mt.printStackTrace()}},_h.prototype.getNodedSubstrings=function(){return Os.getNodedSubstrings(this._nodedSegStrings)},_h.prototype.snapRound=function(vt,_t){var xt=this.findInteriorIntersections(vt,_t);this.computeIntersectionSnaps(xt),this.computeVertexSnaps(vt)},_h.prototype.findInteriorIntersections=function(vt,_t){var xt=new bf(_t);return this._noder.setSegmentIntersector(xt),this._noder.computeNodes(vt),xt.getInteriorIntersections()},_h.prototype.computeVertexSnaps=function(){var vt=this;if(Do(arguments[0],il))for(var _t=arguments[0],xt=_t.iterator();xt.hasNext();){var Mt=xt.next();vt.computeVertexSnaps(Mt)}else if(arguments[0]instanceof Os)for(var kt=arguments[0],It=kt.getCoordinates(),Rt=0;Rt<It.length;Rt++){var Ut=new rc(It[Rt],vt._scaleFactor,vt._li),Wt=vt._pointSnapper.snap(Ut,kt,Rt);Wt&&kt.addIntersection(It[Rt],Rt)}},_h.prototype.computeNodes=function(vt){this._nodedSegStrings=vt,this._noder=new z0,this._pointSnapper=new bh(this._noder.getIndex()),this.snapRound(vt,this._li)},_h.prototype.computeIntersectionSnaps=function(vt){for(var _t=this,xt=vt.iterator();xt.hasNext();){var Mt=xt.next(),kt=new rc(Mt,_t._scaleFactor,_t._li);_t._pointSnapper.snap(kt)}},_h.prototype.interfaces_=function(){return[Ld]},_h.prototype.getClass=function(){return _h};var us=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new Xa,this._resultGeometry=null,this._saveException=null,arguments.length===1){var vt=arguments[0];this._argGeom=vt}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];this._argGeom=_t,this._bufParams=xt}},jc={CAP_ROUND:{configurable:!0},CAP_BUTT:{configurable:!0},CAP_FLAT:{configurable:!0},CAP_SQUARE:{configurable:!0},MAX_PRECISION_DIGITS:{configurable:!0}};us.prototype.bufferFixedPrecision=function(vt){var _t=new fd(new _h(new Qa(1)),vt.getScale()),xt=new Tl(this._bufParams);xt.setWorkingPrecisionModel(vt),xt.setNoder(_t),this._resultGeometry=xt.buffer(this._argGeom,this._distance)},us.prototype.bufferReducedPrecision=function(){var vt=this;if(arguments.length===0){for(var _t=us.MAX_PRECISION_DIGITS;_t>=0;_t--){try{vt.bufferReducedPrecision(_t)}catch(It){if(!(It instanceof $h))throw It;vt._saveException=It}if(vt._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var xt=arguments[0],Mt=us.precisionScaleFactor(this._argGeom,this._distance,xt),kt=new Qa(Mt);this.bufferFixedPrecision(kt)}},us.prototype.computeGeometry=function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var vt=this._argGeom.getFactory().getPrecisionModel();vt.getType()===Qa.FIXED?this.bufferFixedPrecision(vt):this.bufferReducedPrecision()},us.prototype.setQuadrantSegments=function(vt){this._bufParams.setQuadrantSegments(vt)},us.prototype.bufferOriginalPrecision=function(){try{var vt=new Tl(this._bufParams);this._resultGeometry=vt.buffer(this._argGeom,this._distance)}catch(_t){if(!(_t instanceof Ph))throw _t;this._saveException=_t}},us.prototype.getResultGeometry=function(vt){return this._distance=vt,this.computeGeometry(),this._resultGeometry},us.prototype.setEndCapStyle=function(vt){this._bufParams.setEndCapStyle(vt)},us.prototype.interfaces_=function(){return[]},us.prototype.getClass=function(){return us},us.bufferOp=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1],xt=new us(vt),Mt=xt.getResultGeometry(_t);return Mt}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Ao&&typeof arguments[1]=="number"){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=new us(kt);Ut.setQuadrantSegments(Rt);var Wt=Ut.getResultGeometry(It);return Wt}if(arguments[2]instanceof Xa&&arguments[0]instanceof Ao&&typeof arguments[1]=="number"){var qt=arguments[0],on=arguments[1],Jt=arguments[2],un=new us(qt,Jt),En=un.getResultGeometry(on);return En}}else if(arguments.length===4){var Tn=arguments[0],In=arguments[1],mn=arguments[2],Wn=arguments[3],pr=new us(Tn);pr.setQuadrantSegments(mn),pr.setEndCapStyle(Wn);var kn=pr.getResultGeometry(In);return kn}},us.precisionScaleFactor=function(vt,_t,xt){var Mt=vt.getEnvelopeInternal(),kt=Rc.max(Math.abs(Mt.getMaxX()),Math.abs(Mt.getMaxY()),Math.abs(Mt.getMinX()),Math.abs(Mt.getMinY()))+2*(_t>0?_t:0),It=xt-Math.trunc(Math.log(kt)/Math.log(10)+1);return Math.pow(10,It)},jc.CAP_ROUND.get=function(){return Xa.CAP_ROUND},jc.CAP_BUTT.get=function(){return Xa.CAP_FLAT},jc.CAP_FLAT.get=function(){return Xa.CAP_FLAT},jc.CAP_SQUARE.get=function(){return Xa.CAP_SQUARE},jc.MAX_PRECISION_DIGITS.get=function(){return 12},Object.defineProperties(us,jc);var Ml=function(){this._pt=[new Xr,new Xr],this._distance=jo.NaN,this._isNull=!0};Ml.prototype.getCoordinates=function(){return this._pt},Ml.prototype.getCoordinate=function(vt){return this._pt[vt]},Ml.prototype.setMinimum=function(){if(arguments.length===1){var vt=arguments[0];this.setMinimum(vt._pt[0],vt._pt[1])}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];if(this._isNull)return this.initialize(_t,xt),null;var Mt=_t.distance(xt);Mt<this._distance&&this.initialize(_t,xt,Mt)}},Ml.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var vt=arguments[0],_t=arguments[1];this._pt[0].setCoordinate(vt),this._pt[1].setCoordinate(_t),this._distance=vt.distance(_t),this._isNull=!1}else if(arguments.length===3){var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this._pt[0].setCoordinate(xt),this._pt[1].setCoordinate(Mt),this._distance=kt,this._isNull=!1}},Ml.prototype.getDistance=function(){return this._distance},Ml.prototype.setMaximum=function(){if(arguments.length===1){var vt=arguments[0];this.setMaximum(vt._pt[0],vt._pt[1])}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];if(this._isNull)return this.initialize(_t,xt),null;var Mt=_t.distance(xt);Mt>this._distance&&this.initialize(_t,xt,Mt)}},Ml.prototype.interfaces_=function(){return[]},Ml.prototype.getClass=function(){return Ml};var Fc=function(){};Fc.prototype.interfaces_=function(){return[]},Fc.prototype.getClass=function(){return Fc},Fc.computeDistance=function(){if(arguments[2]instanceof Ml&&arguments[0]instanceof ks&&arguments[1]instanceof Xr)for(var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=vt.getCoordinates(),kt=new po,It=0;It<Mt.length-1;It++){kt.setCoordinates(Mt[It],Mt[It+1]);var Rt=kt.closestPoint(_t);xt.setMinimum(Rt,_t)}else if(arguments[2]instanceof Ml&&arguments[0]instanceof ol&&arguments[1]instanceof Xr){var Ut=arguments[0],Wt=arguments[1],qt=arguments[2];Fc.computeDistance(Ut.getExteriorRing(),Wt,qt);for(var on=0;on<Ut.getNumInteriorRing();on++)Fc.computeDistance(Ut.getInteriorRingN(on),Wt,qt)}else if(arguments[2]instanceof Ml&&arguments[0]instanceof Ao&&arguments[1]instanceof Xr){var Jt=arguments[0],un=arguments[1],En=arguments[2];if(Jt instanceof ks)Fc.computeDistance(Jt,un,En);else if(Jt instanceof ol)Fc.computeDistance(Jt,un,En);else if(Jt instanceof nc)for(var Tn=Jt,In=0;In<Tn.getNumGeometries();In++){var mn=Tn.getGeometryN(In);Fc.computeDistance(mn,un,En)}else En.setMinimum(Jt.getCoordinate(),un)}else if(arguments[2]instanceof Ml&&arguments[0]instanceof po&&arguments[1]instanceof Xr){var Wn=arguments[0],pr=arguments[1],kn=arguments[2],Vn=Wn.closestPoint(pr);kn.setMinimum(Vn,pr)}};var Qu=function(vt){this._maxPtDist=new Ml,this._inputGeom=vt||null},bm={MaxPointDistanceFilter:{configurable:!0},MaxMidpointDistanceFilter:{configurable:!0}};Qu.prototype.computeMaxMidpointDistance=function(vt){var _t=new wh(this._inputGeom);vt.apply(_t),this._maxPtDist.setMaximum(_t.getMaxPointDistance())},Qu.prototype.computeMaxVertexDistance=function(vt){var _t=new zd(this._inputGeom);vt.apply(_t),this._maxPtDist.setMaximum(_t.getMaxPointDistance())},Qu.prototype.findDistance=function(vt){return this.computeMaxVertexDistance(vt),this.computeMaxMidpointDistance(vt),this._maxPtDist.getDistance()},Qu.prototype.getDistancePoints=function(){return this._maxPtDist},Qu.prototype.interfaces_=function(){return[]},Qu.prototype.getClass=function(){return Qu},bm.MaxPointDistanceFilter.get=function(){return zd},bm.MaxMidpointDistanceFilter.get=function(){return wh},Object.defineProperties(Qu,bm);var zd=function(vt){this._maxPtDist=new Ml,this._minPtDist=new Ml,this._geom=vt||null};zd.prototype.filter=function(vt){this._minPtDist.initialize(),Fc.computeDistance(this._geom,vt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},zd.prototype.getMaxPointDistance=function(){return this._maxPtDist},zd.prototype.interfaces_=function(){return[hh]},zd.prototype.getClass=function(){return zd};var wh=function(vt){this._maxPtDist=new Ml,this._minPtDist=new Ml,this._geom=vt||null};wh.prototype.filter=function(vt,_t){if(_t===0)return null;var xt=vt.getCoordinate(_t-1),Mt=vt.getCoordinate(_t),kt=new Xr((xt.x+Mt.x)/2,(xt.y+Mt.y)/2);this._minPtDist.initialize(),Fc.computeDistance(this._geom,kt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wh.prototype.isDone=function(){return!1},wh.prototype.isGeometryChanged=function(){return!1},wh.prototype.getMaxPointDistance=function(){return this._maxPtDist},wh.prototype.interfaces_=function(){return[wu]},wh.prototype.getClass=function(){return wh};var Bh=function(vt){this._comps=vt||null};Bh.prototype.filter=function(vt){vt instanceof ol&&this._comps.add(vt)},Bh.prototype.interfaces_=function(){return[Hu]},Bh.prototype.getClass=function(){return Bh},Bh.getPolygons=function(){if(arguments.length===1){var vt=arguments[0];return Bh.getPolygons(vt,new Hi)}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return _t instanceof ol?xt.add(_t):_t instanceof nc&&_t.apply(new Bh(xt)),xt}};var $l=function(){if(this._lines=null,this._isForcedToLineString=!1,arguments.length===1){var vt=arguments[0];this._lines=vt}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];this._lines=_t,this._isForcedToLineString=xt}};$l.prototype.filter=function(vt){if(this._isForcedToLineString&&vt instanceof ph){var _t=vt.getFactory().createLineString(vt.getCoordinateSequence());return this._lines.add(_t),null}vt instanceof ks&&this._lines.add(vt)},$l.prototype.setForceToLineString=function(vt){this._isForcedToLineString=vt},$l.prototype.interfaces_=function(){return[ch]},$l.prototype.getClass=function(){return $l},$l.getGeometry=function(){if(arguments.length===1){var vt=arguments[0];return vt.getFactory().buildGeometry($l.getLines(vt))}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return _t.getFactory().buildGeometry($l.getLines(_t,xt))}},$l.getLines=function(){if(arguments.length===1){var vt=arguments[0];return $l.getLines(vt,!1)}if(arguments.length===2){if(Do(arguments[0],il)&&Do(arguments[1],il)){for(var _t=arguments[0],xt=arguments[1],Mt=_t.iterator();Mt.hasNext();){var kt=Mt.next();$l.getLines(kt,xt)}return xt}if(arguments[0]instanceof Ao&&typeof arguments[1]=="boolean"){var It=arguments[0],Rt=arguments[1],Ut=new Hi;return It.apply(new $l(Ut,Rt)),Ut}if(arguments[0]instanceof Ao&&Do(arguments[1],il)){var Wt=arguments[0],qt=arguments[1];return Wt instanceof ks?qt.add(Wt):Wt.apply(new $l(qt)),qt}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&Do(arguments[0],il)&&Do(arguments[1],il)){for(var on=arguments[0],Jt=arguments[1],un=arguments[2],En=on.iterator();En.hasNext();){var Tn=En.next();$l.getLines(Tn,Jt,un)}return Jt}if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Ao&&Do(arguments[1],il)){var In=arguments[0],mn=arguments[1],Wn=arguments[2];return In.apply(new $l(mn,Wn)),mn}}};var Uc=function(){if(this._boundaryRule=nu.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,arguments.length!==0){if(arguments.length===1){var vt=arguments[0];if(vt===null)throw new Ss("Rule must be non-null");this._boundaryRule=vt}}};Uc.prototype.locateInternal=function(){var vt=this;if(arguments[0]instanceof Xr&&arguments[1]instanceof ol){var _t=arguments[0],xt=arguments[1];if(xt.isEmpty())return ai.EXTERIOR;var Mt=xt.getExteriorRing(),kt=this.locateInPolygonRing(_t,Mt);if(kt===ai.EXTERIOR)return ai.EXTERIOR;if(kt===ai.BOUNDARY)return ai.BOUNDARY;for(var It=0;It<xt.getNumInteriorRing();It++){var Rt=xt.getInteriorRingN(It),Ut=vt.locateInPolygonRing(_t,Rt);if(Ut===ai.INTERIOR)return ai.EXTERIOR;if(Ut===ai.BOUNDARY)return ai.BOUNDARY}return ai.INTERIOR}if(arguments[0]instanceof Xr&&arguments[1]instanceof ks){var Wt=arguments[0],qt=arguments[1];if(!qt.getEnvelopeInternal().intersects(Wt))return ai.EXTERIOR;var on=qt.getCoordinates();return qt.isClosed()||!Wt.equals(on[0])&&!Wt.equals(on[on.length-1])?Wi.isOnLine(Wt,on)?ai.INTERIOR:ai.EXTERIOR:ai.BOUNDARY}if(arguments[0]instanceof Xr&&arguments[1]instanceof Tc){var Jt=arguments[0],un=arguments[1],En=un.getCoordinate();return En.equals2D(Jt)?ai.INTERIOR:ai.EXTERIOR}},Uc.prototype.locateInPolygonRing=function(vt,_t){return _t.getEnvelopeInternal().intersects(vt)?Wi.locatePointInRing(vt,_t.getCoordinates()):ai.EXTERIOR},Uc.prototype.intersects=function(vt,_t){return this.locate(vt,_t)!==ai.EXTERIOR},Uc.prototype.updateLocationInfo=function(vt){vt===ai.INTERIOR&&(this._isIn=!0),vt===ai.BOUNDARY&&this._numBoundaries++},Uc.prototype.computeLocation=function(vt,_t){var xt=this;if(_t instanceof Tc&&this.updateLocationInfo(this.locateInternal(vt,_t)),_t instanceof ks)this.updateLocationInfo(this.locateInternal(vt,_t));else if(_t instanceof ol)this.updateLocationInfo(this.locateInternal(vt,_t));else if(_t instanceof sd)for(var Mt=_t,kt=0;kt<Mt.getNumGeometries();kt++){var It=Mt.getGeometryN(kt);xt.updateLocationInfo(xt.locateInternal(vt,It))}else if(_t instanceof gh)for(var Rt=_t,Ut=0;Ut<Rt.getNumGeometries();Ut++){var Wt=Rt.getGeometryN(Ut);xt.updateLocationInfo(xt.locateInternal(vt,Wt))}else if(_t instanceof nc)for(var qt=new Wu(_t);qt.hasNext();){var on=qt.next();on!==_t&&xt.computeLocation(vt,on)}},Uc.prototype.locate=function(vt,_t){return _t.isEmpty()?ai.EXTERIOR:_t instanceof ks||_t instanceof ol?this.locateInternal(vt,_t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(vt,_t),this._boundaryRule.isInBoundary(this._numBoundaries)?ai.BOUNDARY:this._numBoundaries>0||this._isIn?ai.INTERIOR:ai.EXTERIOR)},Uc.prototype.interfaces_=function(){return[]},Uc.prototype.getClass=function(){return Uc};var ic=function vt(){if(this._component=null,this._segIndex=null,this._pt=null,arguments.length===2){var _t=arguments[0],xt=arguments[1];vt.call(this,_t,vt.INSIDE_AREA,xt)}else if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2];this._component=Mt,this._segIndex=kt,this._pt=It}},zy={INSIDE_AREA:{configurable:!0}};ic.prototype.isInsideArea=function(){return this._segIndex===ic.INSIDE_AREA},ic.prototype.getCoordinate=function(){return this._pt},ic.prototype.getGeometryComponent=function(){return this._component},ic.prototype.getSegmentIndex=function(){return this._segIndex},ic.prototype.interfaces_=function(){return[]},ic.prototype.getClass=function(){return ic},zy.INSIDE_AREA.get=function(){return-1},Object.defineProperties(ic,zy);var pd=function(vt){this._pts=vt||null};pd.prototype.filter=function(vt){vt instanceof Tc&&this._pts.add(vt)},pd.prototype.interfaces_=function(){return[Hu]},pd.prototype.getClass=function(){return pd},pd.getPoints=function(){if(arguments.length===1){var vt=arguments[0];return vt instanceof Tc?Su.singletonList(vt):pd.getPoints(vt,new Hi)}if(arguments.length===2){var _t=arguments[0],xt=arguments[1];return _t instanceof Tc?xt.add(_t):_t instanceof nc&&_t.apply(new pd(xt)),xt}};var jh=function(){this._locations=null;var vt=arguments[0];this._locations=vt};jh.prototype.filter=function(vt){(vt instanceof Tc||vt instanceof ks||vt instanceof ol)&&this._locations.add(new ic(vt,0,vt.getCoordinate()))},jh.prototype.interfaces_=function(){return[Hu]},jh.prototype.getClass=function(){return jh},jh.getLocations=function(vt){var _t=new Hi;return vt.apply(new jh(_t)),_t};var Sl=function(){if(this._geom=null,this._terminateDistance=0,this._ptLocator=new Uc,this._minDistanceLocation=null,this._minDistance=jo.MAX_VALUE,arguments.length===2){var vt=arguments[0],_t=arguments[1];this._geom=[vt,_t],this._terminateDistance=0}else if(arguments.length===3){var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this._geom=new Array(2).fill(null),this._geom[0]=xt,this._geom[1]=Mt,this._terminateDistance=kt}};Sl.prototype.computeContainmentDistance=function(){var vt=this;if(arguments.length===0){var _t=new Array(2).fill(null);if(this.computeContainmentDistance(0,_t),this._minDistance<=this._terminateDistance)return null;this.computeContainmentDistance(1,_t)}else if(arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=1-xt,It=Bh.getPolygons(this._geom[xt]);if(It.size()>0){var Rt=jh.getLocations(this._geom[kt]);if(this.computeContainmentDistance(Rt,It,Mt),this._minDistance<=this._terminateDistance)return this._minDistanceLocation[kt]=Mt[0],this._minDistanceLocation[xt]=Mt[1],null}}else if(arguments.length===3){if(arguments[2]instanceof Array&&Do(arguments[0],bu)&&Do(arguments[1],bu)){for(var Ut=arguments[0],Wt=arguments[1],qt=arguments[2],on=0;on<Ut.size();on++)for(var Jt=Ut.get(on),un=0;un<Wt.size();un++)if(vt.computeContainmentDistance(Jt,Wt.get(un),qt),vt._minDistance<=vt._terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ic&&arguments[1]instanceof ol){var En=arguments[0],Tn=arguments[1],In=arguments[2],mn=En.getCoordinate();if(ai.EXTERIOR!==this._ptLocator.locate(mn,Tn))return this._minDistance=0,In[0]=En,In[1]=new ic(Tn,mn),null}}},Sl.prototype.computeMinDistanceLinesPoints=function(vt,_t,xt){for(var Mt=this,kt=0;kt<vt.size();kt++)for(var It=vt.get(kt),Rt=0;Rt<_t.size();Rt++){var Ut=_t.get(Rt);if(Mt.computeMinDistance(It,Ut,xt),Mt._minDistance<=Mt._terminateDistance)return null}},Sl.prototype.computeFacetDistance=function(){var vt=new Array(2).fill(null),_t=$l.getLines(this._geom[0]),xt=$l.getLines(this._geom[1]),Mt=pd.getPoints(this._geom[0]),kt=pd.getPoints(this._geom[1]);return this.computeMinDistanceLines(_t,xt,vt),this.updateMinDistance(vt,!1),this._minDistance<=this._terminateDistance?null:(vt[0]=null,vt[1]=null,this.computeMinDistanceLinesPoints(_t,kt,vt),this.updateMinDistance(vt,!1),this._minDistance<=this._terminateDistance?null:(vt[0]=null,vt[1]=null,this.computeMinDistanceLinesPoints(xt,Mt,vt),this.updateMinDistance(vt,!0),this._minDistance<=this._terminateDistance?null:(vt[0]=null,vt[1]=null,this.computeMinDistancePoints(Mt,kt,vt),void this.updateMinDistance(vt,!1))))},Sl.prototype.nearestLocations=function(){return this.computeMinDistance(),this._minDistanceLocation},Sl.prototype.updateMinDistance=function(vt,_t){if(vt[0]===null)return null;_t?(this._minDistanceLocation[0]=vt[1],this._minDistanceLocation[1]=vt[0]):(this._minDistanceLocation[0]=vt[0],this._minDistanceLocation[1]=vt[1])},Sl.prototype.nearestPoints=function(){return this.computeMinDistance(),[this._minDistanceLocation[0].getCoordinate(),this._minDistanceLocation[1].getCoordinate()]},Sl.prototype.computeMinDistance=function(){var vt=this;if(arguments.length===0){if(this._minDistanceLocation!==null||(this._minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this._minDistance<=this._terminateDistance))return null;this.computeFacetDistance()}else if(arguments.length===3){if(arguments[2]instanceof Array&&arguments[0]instanceof ks&&arguments[1]instanceof Tc){var _t=arguments[0],xt=arguments[1],Mt=arguments[2];if(_t.getEnvelopeInternal().distance(xt.getEnvelopeInternal())>this._minDistance)return null;for(var kt=_t.getCoordinates(),It=xt.getCoordinate(),Rt=0;Rt<kt.length-1;Rt++){var Ut=Wi.distancePointLine(It,kt[Rt],kt[Rt+1]);if(Ut<vt._minDistance){vt._minDistance=Ut;var Wt=new po(kt[Rt],kt[Rt+1]),qt=Wt.closestPoint(It);Mt[0]=new ic(_t,Rt,qt),Mt[1]=new ic(xt,0,It)}if(vt._minDistance<=vt._terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof ks&&arguments[1]instanceof ks){var on=arguments[0],Jt=arguments[1],un=arguments[2];if(on.getEnvelopeInternal().distance(Jt.getEnvelopeInternal())>this._minDistance)return null;for(var En=on.getCoordinates(),Tn=Jt.getCoordinates(),In=0;In<En.length-1;In++)for(var mn=0;mn<Tn.length-1;mn++){var Wn=Wi.distanceLineLine(En[In],En[In+1],Tn[mn],Tn[mn+1]);if(Wn<vt._minDistance){vt._minDistance=Wn;var pr=new po(En[In],En[In+1]),kn=new po(Tn[mn],Tn[mn+1]),Vn=pr.closestPoints(kn);un[0]=new ic(on,In,Vn[0]),un[1]=new ic(Jt,mn,Vn[1])}if(vt._minDistance<=vt._terminateDistance)return null}}}},Sl.prototype.computeMinDistancePoints=function(vt,_t,xt){for(var Mt=this,kt=0;kt<vt.size();kt++)for(var It=vt.get(kt),Rt=0;Rt<_t.size();Rt++){var Ut=_t.get(Rt),Wt=It.getCoordinate().distance(Ut.getCoordinate());if(Wt<Mt._minDistance&&(Mt._minDistance=Wt,xt[0]=new ic(It,0,It.getCoordinate()),xt[1]=new ic(Ut,0,Ut.getCoordinate())),Mt._minDistance<=Mt._terminateDistance)return null}},Sl.prototype.distance=function(){if(this._geom[0]===null||this._geom[1]===null)throw new Ss("null geometries are not supported");return this._geom[0].isEmpty()||this._geom[1].isEmpty()?0:(this.computeMinDistance(),this._minDistance)},Sl.prototype.computeMinDistanceLines=function(vt,_t,xt){for(var Mt=this,kt=0;kt<vt.size();kt++)for(var It=vt.get(kt),Rt=0;Rt<_t.size();Rt++){var Ut=_t.get(Rt);if(Mt.computeMinDistance(It,Ut,xt),Mt._minDistance<=Mt._terminateDistance)return null}},Sl.prototype.interfaces_=function(){return[]},Sl.prototype.getClass=function(){return Sl},Sl.distance=function(vt,_t){return new Sl(vt,_t).distance()},Sl.isWithinDistance=function(vt,_t,xt){return new Sl(vt,_t,xt).distance()<=xt},Sl.nearestPoints=function(vt,_t){return new Sl(vt,_t).nearestPoints()};var Zl=function(){this._pt=[new Xr,new Xr],this._distance=jo.NaN,this._isNull=!0};Zl.prototype.getCoordinates=function(){return this._pt},Zl.prototype.getCoordinate=function(vt){return this._pt[vt]},Zl.prototype.setMinimum=function(){if(arguments.length===1){var vt=arguments[0];this.setMinimum(vt._pt[0],vt._pt[1])}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];if(this._isNull)return this.initialize(_t,xt),null;var Mt=_t.distance(xt);Mt<this._distance&&this.initialize(_t,xt,Mt)}},Zl.prototype.initialize=function(){if(arguments.length===0)this._isNull=!0;else if(arguments.length===2){var vt=arguments[0],_t=arguments[1];this._pt[0].setCoordinate(vt),this._pt[1].setCoordinate(_t),this._distance=vt.distance(_t),this._isNull=!1}else if(arguments.length===3){var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this._pt[0].setCoordinate(xt),this._pt[1].setCoordinate(Mt),this._distance=kt,this._isNull=!1}},Zl.prototype.toString=function(){return vu.toLineString(this._pt[0],this._pt[1])},Zl.prototype.getDistance=function(){return this._distance},Zl.prototype.setMaximum=function(){if(arguments.length===1){var vt=arguments[0];this.setMaximum(vt._pt[0],vt._pt[1])}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1];if(this._isNull)return this.initialize(_t,xt),null;var Mt=_t.distance(xt);Mt>this._distance&&this.initialize(_t,xt,Mt)}},Zl.prototype.interfaces_=function(){return[]},Zl.prototype.getClass=function(){return Zl};var Au=function(){};Au.prototype.interfaces_=function(){return[]},Au.prototype.getClass=function(){return Au},Au.computeDistance=function(){if(arguments[2]instanceof Zl&&arguments[0]instanceof ks&&arguments[1]instanceof Xr)for(var vt=arguments[0],_t=arguments[1],xt=arguments[2],Mt=new po,kt=vt.getCoordinates(),It=0;It<kt.length-1;It++){Mt.setCoordinates(kt[It],kt[It+1]);var Rt=Mt.closestPoint(_t);xt.setMinimum(Rt,_t)}else if(arguments[2]instanceof Zl&&arguments[0]instanceof ol&&arguments[1]instanceof Xr){var Ut=arguments[0],Wt=arguments[1],qt=arguments[2];Au.computeDistance(Ut.getExteriorRing(),Wt,qt);for(var on=0;on<Ut.getNumInteriorRing();on++)Au.computeDistance(Ut.getInteriorRingN(on),Wt,qt)}else if(arguments[2]instanceof Zl&&arguments[0]instanceof Ao&&arguments[1]instanceof Xr){var Jt=arguments[0],un=arguments[1],En=arguments[2];if(Jt instanceof ks)Au.computeDistance(Jt,un,En);else if(Jt instanceof ol)Au.computeDistance(Jt,un,En);else if(Jt instanceof nc)for(var Tn=Jt,In=0;In<Tn.getNumGeometries();In++){var mn=Tn.getGeometryN(In);Au.computeDistance(mn,un,En)}else En.setMinimum(Jt.getCoordinate(),un)}else if(arguments[2]instanceof Zl&&arguments[0]instanceof po&&arguments[1]instanceof Xr){var Wn=arguments[0],pr=arguments[1],kn=arguments[2],Vn=Wn.closestPoint(pr);kn.setMinimum(Vn,pr)}};var Hc=function(){this._g0=null,this._g1=null,this._ptDist=new Zl,this._densifyFrac=0;var vt=arguments[0],_t=arguments[1];this._g0=vt,this._g1=_t},_f={MaxPointDistanceFilter:{configurable:!0},MaxDensifiedByFractionDistanceFilter:{configurable:!0}};Hc.prototype.getCoordinates=function(){return this._ptDist.getCoordinates()},Hc.prototype.setDensifyFraction=function(vt){if(vt>1||vt<=0)throw new Ss("Fraction is not in range (0.0 - 1.0]");this._densifyFrac=vt},Hc.prototype.compute=function(vt,_t){this.computeOrientedDistance(vt,_t,this._ptDist),this.computeOrientedDistance(_t,vt,this._ptDist)},Hc.prototype.distance=function(){return this.compute(this._g0,this._g1),this._ptDist.getDistance()},Hc.prototype.computeOrientedDistance=function(vt,_t,xt){var Mt=new wf(_t);if(vt.apply(Mt),xt.setMaximum(Mt.getMaxPointDistance()),this._densifyFrac>0){var kt=new gd(_t,this._densifyFrac);vt.apply(kt),xt.setMaximum(kt.getMaxPointDistance())}},Hc.prototype.orientedDistance=function(){return this.computeOrientedDistance(this._g0,this._g1,this._ptDist),this._ptDist.getDistance()},Hc.prototype.interfaces_=function(){return[]},Hc.prototype.getClass=function(){return Hc},Hc.distance=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1],xt=new Hc(vt,_t);return xt.distance()}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2],Rt=new Hc(Mt,kt);return Rt.setDensifyFraction(It),Rt.distance()}},_f.MaxPointDistanceFilter.get=function(){return wf},_f.MaxDensifiedByFractionDistanceFilter.get=function(){return gd},Object.defineProperties(Hc,_f);var wf=function(){this._maxPtDist=new Zl,this._minPtDist=new Zl,this._euclideanDist=new Au,this._geom=null;var vt=arguments[0];this._geom=vt};wf.prototype.filter=function(vt){this._minPtDist.initialize(),Au.computeDistance(this._geom,vt,this._minPtDist),this._maxPtDist.setMaximum(this._minPtDist)},wf.prototype.getMaxPointDistance=function(){return this._maxPtDist},wf.prototype.interfaces_=function(){return[hh]},wf.prototype.getClass=function(){return wf};var gd=function(){this._maxPtDist=new Zl,this._minPtDist=new Zl,this._geom=null,this._numSubSegs=0;var vt=arguments[0],_t=arguments[1];this._geom=vt,this._numSubSegs=Math.trunc(Math.round(1/_t))};gd.prototype.filter=function(vt,_t){var xt=this;if(_t===0)return null;for(var Mt=vt.getCoordinate(_t-1),kt=vt.getCoordinate(_t),It=(kt.x-Mt.x)/this._numSubSegs,Rt=(kt.y-Mt.y)/this._numSubSegs,Ut=0;Ut<this._numSubSegs;Ut++){var Wt=Mt.x+Ut*It,qt=Mt.y+Ut*Rt,on=new Xr(Wt,qt);xt._minPtDist.initialize(),Au.computeDistance(xt._geom,on,xt._minPtDist),xt._maxPtDist.setMaximum(xt._minPtDist)}},gd.prototype.isDone=function(){return!1},gd.prototype.isGeometryChanged=function(){return!1},gd.prototype.getMaxPointDistance=function(){return this._maxPtDist},gd.prototype.interfaces_=function(){return[wu]},gd.prototype.getClass=function(){return gd};var Ac=function(vt,_t,xt){this._minValidDistance=null,this._maxValidDistance=null,this._minDistanceFound=null,this._maxDistanceFound=null,this._isValid=!0,this._errMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=vt||null,this._bufDistance=_t||null,this._result=xt||null},$0={VERBOSE:{configurable:!0},MAX_DISTANCE_DIFF_FRAC:{configurable:!0}};Ac.prototype.checkMaximumDistance=function(vt,_t,xt){var Mt=new Hc(_t,vt);if(Mt.setDensifyFraction(.25),this._maxDistanceFound=Mt.orientedDistance(),this._maxDistanceFound>xt){this._isValid=!1;var kt=Mt.getCoordinates();this._errorLocation=kt[1],this._errorIndicator=vt.getFactory().createLineString(kt),this._errMsg="Distance between buffer curve and input is too large ("+this._maxDistanceFound+" at "+vu.toLineString(kt[0],kt[1])+")"}},Ac.prototype.isValid=function(){var vt=Math.abs(this._bufDistance),_t=Ac.MAX_DISTANCE_DIFF_FRAC*vt;return this._minValidDistance=vt-_t,this._maxValidDistance=vt+_t,!(!this._input.isEmpty()&&!this._result.isEmpty())||(this._bufDistance>0?this.checkPositiveValid():this.checkNegativeValid(),Ac.VERBOSE&&zl.out.println("Min Dist= "+this._minDistanceFound+"  err= "+(1-this._minDistanceFound/this._bufDistance)+"  Max Dist= "+this._maxDistanceFound+"  err= "+(this._maxDistanceFound/this._bufDistance-1)),this._isValid)},Ac.prototype.checkNegativeValid=function(){if(!(this._input instanceof ol||this._input instanceof gh||this._input instanceof nc))return null;var vt=this.getPolygonLines(this._input);if(this.checkMinimumDistance(vt,this._result,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(vt,this._result,this._maxValidDistance)},Ac.prototype.getErrorIndicator=function(){return this._errorIndicator},Ac.prototype.checkMinimumDistance=function(vt,_t,xt){var Mt=new Sl(vt,_t,xt);if(this._minDistanceFound=Mt.distance(),this._minDistanceFound<xt){this._isValid=!1;var kt=Mt.nearestPoints();this._errorLocation=Mt.nearestPoints()[1],this._errorIndicator=vt.getFactory().createLineString(kt),this._errMsg="Distance between buffer curve and input is too small ("+this._minDistanceFound+" at "+vu.toLineString(kt[0],kt[1])+" )"}},Ac.prototype.checkPositiveValid=function(){var vt=this._result.getBoundary();if(this.checkMinimumDistance(this._input,vt,this._minValidDistance),!this._isValid)return null;this.checkMaximumDistance(this._input,vt,this._maxValidDistance)},Ac.prototype.getErrorLocation=function(){return this._errorLocation},Ac.prototype.getPolygonLines=function(vt){for(var _t=new Hi,xt=new $l(_t),Mt=Bh.getPolygons(vt).iterator();Mt.hasNext();)Mt.next().apply(xt);return vt.getFactory().buildGeometry(_t)},Ac.prototype.getErrorMessage=function(){return this._errMsg},Ac.prototype.interfaces_=function(){return[]},Ac.prototype.getClass=function(){return Ac},$0.VERBOSE.get=function(){return!1},$0.MAX_DISTANCE_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Ac,$0);var Bl=function(vt,_t,xt){this._isValid=!0,this._errorMsg=null,this._errorLocation=null,this._errorIndicator=null,this._input=vt||null,this._distance=_t||null,this._result=xt||null},B0={VERBOSE:{configurable:!0},MAX_ENV_DIFF_FRAC:{configurable:!0}};Bl.prototype.isValid=function(){return this.checkPolygonal(),this._isValid?(this.checkExpectedEmpty(),this._isValid?(this.checkEnvelope(),this._isValid?(this.checkArea(),this._isValid?(this.checkDistance(),this._isValid):this._isValid):this._isValid):this._isValid):this._isValid},Bl.prototype.checkEnvelope=function(){if(this._distance<0)return null;var vt=this._distance*Bl.MAX_ENV_DIFF_FRAC;vt===0&&(vt=.001);var _t=new go(this._input.getEnvelopeInternal());_t.expandBy(this._distance);var xt=new go(this._result.getEnvelopeInternal());xt.expandBy(vt),xt.contains(_t)||(this._isValid=!1,this._errorMsg="Buffer envelope is incorrect",this._errorIndicator=this._input.getFactory().toGeometry(xt)),this.report("Envelope")},Bl.prototype.checkDistance=function(){var vt=new Ac(this._input,this._distance,this._result);vt.isValid()||(this._isValid=!1,this._errorMsg=vt.getErrorMessage(),this._errorLocation=vt.getErrorLocation(),this._errorIndicator=vt.getErrorIndicator()),this.report("Distance")},Bl.prototype.checkArea=function(){var vt=this._input.getArea(),_t=this._result.getArea();this._distance>0&&vt>_t&&(this._isValid=!1,this._errorMsg="Area of positive buffer is smaller than input",this._errorIndicator=this._result),this._distance<0&&vt<_t&&(this._isValid=!1,this._errorMsg="Area of negative buffer is larger than input",this._errorIndicator=this._result),this.report("Area")},Bl.prototype.checkPolygonal=function(){this._result instanceof ol||this._result instanceof gh||(this._isValid=!1),this._errorMsg="Result is not polygonal",this._errorIndicator=this._result,this.report("Polygonal")},Bl.prototype.getErrorIndicator=function(){return this._errorIndicator},Bl.prototype.getErrorLocation=function(){return this._errorLocation},Bl.prototype.checkExpectedEmpty=function(){return this._input.getDimension()>=2||this._distance>0?null:(this._result.isEmpty()||(this._isValid=!1,this._errorMsg="Result is non-empty",this._errorIndicator=this._result),void this.report("ExpectedEmpty"))},Bl.prototype.report=function(vt){if(!Bl.VERBOSE)return null;zl.out.println("Check "+vt+": "+(this._isValid?"passed":"FAILED"))},Bl.prototype.getErrorMessage=function(){return this._errorMsg},Bl.prototype.interfaces_=function(){return[]},Bl.prototype.getClass=function(){return Bl},Bl.isValidMsg=function(vt,_t,xt){var Mt=new Bl(vt,_t,xt);return Mt.isValid()?null:Mt.getErrorMessage()},Bl.isValid=function(vt,_t,xt){return!!new Bl(vt,_t,xt).isValid()},B0.VERBOSE.get=function(){return!1},B0.MAX_ENV_DIFF_FRAC.get=function(){return .012},Object.defineProperties(Bl,B0);var Xu=function(){this._pts=null,this._data=null;var vt=arguments[0],_t=arguments[1];this._pts=vt,this._data=_t};Xu.prototype.getCoordinates=function(){return this._pts},Xu.prototype.size=function(){return this._pts.length},Xu.prototype.getCoordinate=function(vt){return this._pts[vt]},Xu.prototype.isClosed=function(){return this._pts[0].equals(this._pts[this._pts.length-1])},Xu.prototype.getSegmentOctant=function(vt){return vt===this._pts.length-1?-1:ku.octant(this.getCoordinate(vt),this.getCoordinate(vt+1))},Xu.prototype.setData=function(vt){this._data=vt},Xu.prototype.getData=function(){return this._data},Xu.prototype.toString=function(){return vu.toLineString(new Fs(this._pts))},Xu.prototype.interfaces_=function(){return[al]},Xu.prototype.getClass=function(){return Xu};var kl=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new Hi,this._intersectionCount=0,this._keepIntersections=!0;var vt=arguments[0];this._li=vt,this._interiorIntersection=null};kl.prototype.getInteriorIntersection=function(){return this._interiorIntersection},kl.prototype.setCheckEndSegmentsOnly=function(vt){this._isCheckEndSegmentsOnly=vt},kl.prototype.getIntersectionSegments=function(){return this._intSegments},kl.prototype.count=function(){return this._intersectionCount},kl.prototype.getIntersections=function(){return this._intersections},kl.prototype.setFindAllIntersections=function(vt){this._findAllIntersections=vt},kl.prototype.setKeepIntersections=function(vt){this._keepIntersections=vt},kl.prototype.processIntersections=function(vt,_t,xt,Mt){if(!this._findAllIntersections&&this.hasIntersection()||vt===xt&&_t===Mt||this._isCheckEndSegmentsOnly&&!(this.isEndSegment(vt,_t)||this.isEndSegment(xt,Mt)))return null;var kt=vt.getCoordinates()[_t],It=vt.getCoordinates()[_t+1],Rt=xt.getCoordinates()[Mt],Ut=xt.getCoordinates()[Mt+1];this._li.computeIntersection(kt,It,Rt,Ut),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=new Array(4).fill(null),this._intSegments[0]=kt,this._intSegments[1]=It,this._intSegments[2]=Rt,this._intSegments[3]=Ut,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)},kl.prototype.isEndSegment=function(vt,_t){return _t===0||_t>=vt.size()-2},kl.prototype.hasIntersection=function(){return this._interiorIntersection!==null},kl.prototype.isDone=function(){return!this._findAllIntersections&&this._interiorIntersection!==null},kl.prototype.interfaces_=function(){return[Rd]},kl.prototype.getClass=function(){return kl},kl.createAllIntersectionsFinder=function(vt){var _t=new kl(vt);return _t.setFindAllIntersections(!0),_t},kl.createAnyIntersectionFinder=function(vt){return new kl(vt)},kl.createIntersectionCounter=function(vt){var _t=new kl(vt);return _t.setFindAllIntersections(!0),_t.setKeepIntersections(!1),_t};var su=function(){this._li=new ad,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;var vt=arguments[0];this._segStrings=vt};su.prototype.execute=function(){if(this._segInt!==null)return null;this.checkInteriorIntersections()},su.prototype.getIntersections=function(){return this._segInt.getIntersections()},su.prototype.isValid=function(){return this.execute(),this._isValid},su.prototype.setFindAllIntersections=function(vt){this._findAllIntersections=vt},su.prototype.checkInteriorIntersections=function(){this._isValid=!0,this._segInt=new kl(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);var vt=new z0;if(vt.setSegmentIntersector(this._segInt),vt.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null},su.prototype.checkValid=function(){if(this.execute(),!this._isValid)throw new $h(this.getErrorMessage(),this._segInt.getInteriorIntersection())},su.prototype.getErrorMessage=function(){if(this._isValid)return"no intersections found";var vt=this._segInt.getIntersectionSegments();return"found non-noded intersection between "+vu.toLineString(vt[0],vt[1])+" and "+vu.toLineString(vt[2],vt[3])},su.prototype.interfaces_=function(){return[]},su.prototype.getClass=function(){return su},su.computeIntersections=function(vt){var _t=new su(vt);return _t.setFindAllIntersections(!0),_t.isValid(),_t.getIntersections()};var $d=function vt(){this._nv=null;var _t=arguments[0];this._nv=new su(vt.toSegmentStrings(_t))};$d.prototype.checkValid=function(){this._nv.checkValid()},$d.prototype.interfaces_=function(){return[]},$d.prototype.getClass=function(){return $d},$d.toSegmentStrings=function(vt){for(var _t=new Hi,xt=vt.iterator();xt.hasNext();){var Mt=xt.next();_t.add(new Xu(Mt.getCoordinates(),Mt))}return _t},$d.checkValid=function(vt){new $d(vt).checkValid()};var xf=function(vt){this._mapOp=vt};xf.prototype.map=function(vt){for(var _t=new Hi,xt=0;xt<vt.getNumGeometries();xt++){var Mt=this._mapOp.map(vt.getGeometryN(xt));Mt.isEmpty()||_t.add(Mt)}return vt.getFactory().createGeometryCollection(la.toGeometryArray(_t))},xf.prototype.interfaces_=function(){return[]},xf.prototype.getClass=function(){return xf},xf.map=function(vt,_t){return new xf(_t).map(vt)};var Zu=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new Hi,this._resultLineList=new Hi;var vt=arguments[0],_t=arguments[1],xt=arguments[2];this._op=vt,this._geometryFactory=_t,this._ptLocator=xt};Zu.prototype.collectLines=function(vt){for(var _t=this,xt=this._op.getGraph().getEdgeEnds().iterator();xt.hasNext();){var Mt=xt.next();_t.collectLineEdge(Mt,vt,_t._lineEdgesList),_t.collectBoundaryTouchEdge(Mt,vt,_t._lineEdgesList)}},Zu.prototype.labelIsolatedLine=function(vt,_t){var xt=this._ptLocator.locate(vt.getCoordinate(),this._op.getArgGeometry(_t));vt.getLabel().setLocation(_t,xt)},Zu.prototype.build=function(vt){return this.findCoveredLineEdges(),this.collectLines(vt),this.buildLines(vt),this._resultLineList},Zu.prototype.collectLineEdge=function(vt,_t,xt){var Mt=vt.getLabel(),kt=vt.getEdge();vt.isLineEdge()&&(vt.isVisited()||!Go.isResultOfOp(Mt,_t)||kt.isCovered()||(xt.add(kt),vt.setVisitedEdge(!0)))},Zu.prototype.findCoveredLineEdges=function(){for(var vt=this._op.getGraph().getNodes().iterator();vt.hasNext();)vt.next().getEdges().findCoveredLineEdges();for(var _t=this._op.getGraph().getEdgeEnds().iterator();_t.hasNext();){var xt=_t.next(),Mt=xt.getEdge();if(xt.isLineEdge()&&!Mt.isCoveredSet()){var kt=this._op.isCoveredByA(xt.getCoordinate());Mt.setCovered(kt)}}},Zu.prototype.labelIsolatedLines=function(vt){for(var _t=vt.iterator();_t.hasNext();){var xt=_t.next(),Mt=xt.getLabel();xt.isIsolated()&&(Mt.isNull(0)?this.labelIsolatedLine(xt,0):this.labelIsolatedLine(xt,1))}},Zu.prototype.buildLines=function(vt){for(var _t=this._lineEdgesList.iterator();_t.hasNext();){var xt=_t.next(),Mt=this._geometryFactory.createLineString(xt.getCoordinates());this._resultLineList.add(Mt),xt.setInResult(!0)}},Zu.prototype.collectBoundaryTouchEdge=function(vt,_t,xt){var Mt=vt.getLabel();return vt.isLineEdge()||vt.isVisited()||vt.isInteriorAreaEdge()||vt.getEdge().isInResult()?null:(qo.isTrue(!(vt.isInResult()||vt.getSym().isInResult())||!vt.getEdge().isInResult()),void(Go.isResultOfOp(Mt,_t)&&_t===Go.INTERSECTION&&(xt.add(vt.getEdge()),vt.setVisitedEdge(!0))))},Zu.prototype.interfaces_=function(){return[]},Zu.prototype.getClass=function(){return Zu};var Ef=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new Hi;var vt=arguments[0],_t=arguments[1];this._op=vt,this._geometryFactory=_t};Ef.prototype.filterCoveredNodeToPoint=function(vt){var _t=vt.getCoordinate();if(!this._op.isCoveredByLA(_t)){var xt=this._geometryFactory.createPoint(_t);this._resultPointList.add(xt)}},Ef.prototype.extractNonCoveredResultNodes=function(vt){for(var _t=this._op.getGraph().getNodes().iterator();_t.hasNext();){var xt=_t.next();if(!xt.isInResult()&&!xt.isIncidentEdgeInResult()&&(xt.getEdges().getDegree()===0||vt===Go.INTERSECTION)){var Mt=xt.getLabel();Go.isResultOfOp(Mt,vt)&&this.filterCoveredNodeToPoint(xt)}}},Ef.prototype.build=function(vt){return this.extractNonCoveredResultNodes(vt),this._resultPointList},Ef.prototype.interfaces_=function(){return[]},Ef.prototype.getClass=function(){return Ef};var oc=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1};oc.prototype.transformPoint=function(vt,_t){return this._factory.createPoint(this.transformCoordinates(vt.getCoordinateSequence(),vt))},oc.prototype.transformPolygon=function(vt,_t){var xt=!0,Mt=this.transformLinearRing(vt.getExteriorRing(),vt);Mt!==null&&Mt instanceof ph&&!Mt.isEmpty()||(xt=!1);for(var kt=new Hi,It=0;It<vt.getNumInteriorRing();It++){var Rt=this.transformLinearRing(vt.getInteriorRingN(It),vt);Rt===null||Rt.isEmpty()||(Rt instanceof ph||(xt=!1),kt.add(Rt))}if(xt)return this._factory.createPolygon(Mt,kt.toArray([]));var Ut=new Hi;return Mt!==null&&Ut.add(Mt),Ut.addAll(kt),this._factory.buildGeometry(Ut)},oc.prototype.createCoordinateSequence=function(vt){return this._factory.getCoordinateSequenceFactory().create(vt)},oc.prototype.getInputGeometry=function(){return this._inputGeom},oc.prototype.transformMultiLineString=function(vt,_t){for(var xt=new Hi,Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=this.transformLineString(vt.getGeometryN(Mt),vt);kt!==null&&(kt.isEmpty()||xt.add(kt))}return this._factory.buildGeometry(xt)},oc.prototype.transformCoordinates=function(vt,_t){return this.copy(vt)},oc.prototype.transformLineString=function(vt,_t){return this._factory.createLineString(this.transformCoordinates(vt.getCoordinateSequence(),vt))},oc.prototype.transformMultiPoint=function(vt,_t){for(var xt=new Hi,Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=this.transformPoint(vt.getGeometryN(Mt),vt);kt!==null&&(kt.isEmpty()||xt.add(kt))}return this._factory.buildGeometry(xt)},oc.prototype.transformMultiPolygon=function(vt,_t){for(var xt=new Hi,Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=this.transformPolygon(vt.getGeometryN(Mt),vt);kt!==null&&(kt.isEmpty()||xt.add(kt))}return this._factory.buildGeometry(xt)},oc.prototype.copy=function(vt){return vt.copy()},oc.prototype.transformGeometryCollection=function(vt,_t){for(var xt=new Hi,Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=this.transform(vt.getGeometryN(Mt));kt!==null&&(this._pruneEmptyGeometry&&kt.isEmpty()||xt.add(kt))}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(la.toGeometryArray(xt)):this._factory.buildGeometry(xt)},oc.prototype.transform=function(vt){if(this._inputGeom=vt,this._factory=vt.getFactory(),vt instanceof Tc)return this.transformPoint(vt,null);if(vt instanceof sp)return this.transformMultiPoint(vt,null);if(vt instanceof ph)return this.transformLinearRing(vt,null);if(vt instanceof ks)return this.transformLineString(vt,null);if(vt instanceof sd)return this.transformMultiLineString(vt,null);if(vt instanceof ol)return this.transformPolygon(vt,null);if(vt instanceof gh)return this.transformMultiPolygon(vt,null);if(vt instanceof nc)return this.transformGeometryCollection(vt,null);throw new Ss("Unknown Geometry subtype: "+vt.getClass().getName())},oc.prototype.transformLinearRing=function(vt,_t){var xt=this.transformCoordinates(vt.getCoordinateSequence(),vt);if(xt===null)return this._factory.createLinearRing(null);var Mt=xt.size();return Mt>0&&Mt<4&&!this._preserveType?this._factory.createLineString(xt):this._factory.createLinearRing(xt)},oc.prototype.interfaces_=function(){return[]},oc.prototype.getClass=function(){return oc};var Ha=function vt(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new po,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof ks&&typeof arguments[1]=="number"){var _t=arguments[0],xt=arguments[1];vt.call(this,_t.getCoordinates(),xt)}else if(arguments[0]instanceof Array&&typeof arguments[1]=="number"){var Mt=arguments[0],kt=arguments[1];this._srcPts=Mt,this._isClosed=vt.isClosed(Mt),this._snapTolerance=kt}};Ha.prototype.snapVertices=function(vt,_t){for(var xt=this._isClosed?vt.size()-1:vt.size(),Mt=0;Mt<xt;Mt++){var kt=vt.get(Mt),It=this.findSnapForVertex(kt,_t);It!==null&&(vt.set(Mt,new Xr(It)),Mt===0&&this._isClosed&&vt.set(vt.size()-1,new Xr(It)))}},Ha.prototype.findSnapForVertex=function(vt,_t){for(var xt=0;xt<_t.length;xt++){if(vt.equals2D(_t[xt]))return null;if(vt.distance(_t[xt])<this._snapTolerance)return _t[xt]}return null},Ha.prototype.snapTo=function(vt){var _t=new ig(this._srcPts);return this.snapVertices(_t,vt),this.snapSegments(_t,vt),_t.toCoordinateArray()},Ha.prototype.snapSegments=function(vt,_t){if(_t.length===0)return null;var xt=_t.length;_t[0].equals2D(_t[_t.length-1])&&(xt=_t.length-1);for(var Mt=0;Mt<xt;Mt++){var kt=_t[Mt],It=this.findSegmentIndexToSnap(kt,vt);It>=0&&vt.add(It+1,new Xr(kt),!1)}},Ha.prototype.findSegmentIndexToSnap=function(vt,_t){for(var xt=this,Mt=jo.MAX_VALUE,kt=-1,It=0;It<_t.size()-1;It++){if(xt._seg.p0=_t.get(It),xt._seg.p1=_t.get(It+1),xt._seg.p0.equals2D(vt)||xt._seg.p1.equals2D(vt)){if(xt._allowSnappingToSourceVertices)continue;return-1}var Rt=xt._seg.distance(vt);Rt<xt._snapTolerance&&Rt<Mt&&(Mt=Rt,kt=It)}return kt},Ha.prototype.setAllowSnappingToSourceVertices=function(vt){this._allowSnappingToSourceVertices=vt},Ha.prototype.interfaces_=function(){return[]},Ha.prototype.getClass=function(){return Ha},Ha.isClosed=function(vt){return!(vt.length<=1)&&vt[0].equals2D(vt[vt.length-1])};var ga=function(vt){this._srcGeom=vt||null},_m={SNAP_PRECISION_FACTOR:{configurable:!0}};ga.prototype.snapTo=function(vt,_t){var xt=this.extractTargetCoordinates(vt);return new wm(_t,xt).transform(this._srcGeom)},ga.prototype.snapToSelf=function(vt,_t){var xt=this.extractTargetCoordinates(this._srcGeom),Mt=new wm(vt,xt,!0).transform(this._srcGeom),kt=Mt;return _t&&Do(kt,ld)&&(kt=Mt.buffer(0)),kt},ga.prototype.computeSnapTolerance=function(vt){return this.computeMinimumSegmentLength(vt)/10},ga.prototype.extractTargetCoordinates=function(vt){for(var _t=new _u,xt=vt.getCoordinates(),Mt=0;Mt<xt.length;Mt++)_t.add(xt[Mt]);return _t.toArray(new Array(0).fill(null))},ga.prototype.computeMinimumSegmentLength=function(vt){for(var _t=jo.MAX_VALUE,xt=0;xt<vt.length-1;xt++){var Mt=vt[xt].distance(vt[xt+1]);Mt<_t&&(_t=Mt)}return _t},ga.prototype.interfaces_=function(){return[]},ga.prototype.getClass=function(){return ga},ga.snap=function(vt,_t,xt){var Mt=new Array(2).fill(null),kt=new ga(vt);Mt[0]=kt.snapTo(_t,xt);var It=new ga(_t);return Mt[1]=It.snapTo(Mt[0],xt),Mt},ga.computeOverlaySnapTolerance=function(){if(arguments.length===1){var vt=arguments[0],_t=ga.computeSizeBasedSnapTolerance(vt),xt=vt.getPrecisionModel();if(xt.getType()===Qa.FIXED){var Mt=1/xt.getScale()*2/1.415;Mt>_t&&(_t=Mt)}return _t}if(arguments.length===2){var kt=arguments[0],It=arguments[1];return Math.min(ga.computeOverlaySnapTolerance(kt),ga.computeOverlaySnapTolerance(It))}},ga.computeSizeBasedSnapTolerance=function(vt){var _t=vt.getEnvelopeInternal();return Math.min(_t.getHeight(),_t.getWidth())*ga.SNAP_PRECISION_FACTOR},ga.snapToSelf=function(vt,_t,xt){return new ga(vt).snapToSelf(_t,xt)},_m.SNAP_PRECISION_FACTOR.get=function(){return 1e-9},Object.defineProperties(ga,_m);var wm=function(vt){function _t(xt,Mt,kt){vt.call(this),this._snapTolerance=xt||null,this._snapPts=Mt||null,this._isSelfSnap=kt!==void 0&&kt}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.snapLine=function(xt,Mt){var kt=new Ha(xt,this._snapTolerance);return kt.setAllowSnappingToSourceVertices(this._isSelfSnap),kt.snapTo(Mt)},_t.prototype.transformCoordinates=function(xt,Mt){var kt=xt.toCoordinateArray(),It=this.snapLine(kt,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(It)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(oc),Cl=function(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=0,this._commonSignExp=null};Cl.prototype.getCommon=function(){return jo.longBitsToDouble(this._commonBits)},Cl.prototype.add=function(vt){var _t=jo.doubleToLongBits(vt);return this._isFirst?(this._commonBits=_t,this._commonSignExp=Cl.signExpBits(this._commonBits),this._isFirst=!1,null):Cl.signExpBits(_t)!==this._commonSignExp?(this._commonBits=0,null):(this._commonMantissaBitsCount=Cl.numCommonMostSigMantissaBits(this._commonBits,_t),void(this._commonBits=Cl.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))))},Cl.prototype.toString=function(){if(arguments.length===1){var vt=arguments[0],_t=jo.longBitsToDouble(vt),xt=jo.toBinaryString(vt),Mt="0000000000000000000000000000000000000000000000000000000000000000"+xt,kt=Mt.substring(Mt.length-64),It=kt.substring(0,1)+"  "+kt.substring(1,12)+"(exp) "+kt.substring(12)+" [ "+_t+" ]";return It}},Cl.prototype.interfaces_=function(){return[]},Cl.prototype.getClass=function(){return Cl},Cl.getBit=function(vt,_t){return(vt&1<<_t)!=0?1:0},Cl.signExpBits=function(vt){return vt>>52},Cl.zeroLowerBits=function(vt,_t){return vt&~((1<<_t)-1)},Cl.numCommonMostSigMantissaBits=function(vt,_t){for(var xt=0,Mt=52;Mt>=0;Mt--){if(Cl.getBit(vt,Mt)!==Cl.getBit(_t,Mt))return xt;xt++}return 52};var Ku=function(){this._commonCoord=null,this._ccFilter=new Fh},pp={CommonCoordinateFilter:{configurable:!0},Translater:{configurable:!0}};Ku.prototype.addCommonBits=function(vt){var _t=new Ju(this._commonCoord);vt.apply(_t),vt.geometryChanged()},Ku.prototype.removeCommonBits=function(vt){if(this._commonCoord.x===0&&this._commonCoord.y===0)return vt;var _t=new Xr(this._commonCoord);_t.x=-_t.x,_t.y=-_t.y;var xt=new Ju(_t);return vt.apply(xt),vt.geometryChanged(),vt},Ku.prototype.getCommonCoordinate=function(){return this._commonCoord},Ku.prototype.add=function(vt){vt.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()},Ku.prototype.interfaces_=function(){return[]},Ku.prototype.getClass=function(){return Ku},pp.CommonCoordinateFilter.get=function(){return Fh},pp.Translater.get=function(){return Ju},Object.defineProperties(Ku,pp);var Fh=function(){this._commonBitsX=new Cl,this._commonBitsY=new Cl};Fh.prototype.filter=function(vt){this._commonBitsX.add(vt.x),this._commonBitsY.add(vt.y)},Fh.prototype.getCommonCoordinate=function(){return new Xr(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())},Fh.prototype.interfaces_=function(){return[hh]},Fh.prototype.getClass=function(){return Fh};var Ju=function(){this.trans=null;var vt=arguments[0];this.trans=vt};Ju.prototype.filter=function(vt,_t){var xt=vt.getOrdinate(_t,0)+this.trans.x,Mt=vt.getOrdinate(_t,1)+this.trans.y;vt.setOrdinate(_t,0,xt),vt.setOrdinate(_t,1,Mt)},Ju.prototype.isDone=function(){return!1},Ju.prototype.isGeometryChanged=function(){return!0},Ju.prototype.interfaces_=function(){return[wu]},Ju.prototype.getClass=function(){return Ju};var ll=function(vt,_t){this._geom=new Array(2).fill(null),this._snapTolerance=null,this._cbr=null,this._geom[0]=vt,this._geom[1]=_t,this.computeSnapTolerance()};ll.prototype.selfSnap=function(vt){return new ga(vt).snapTo(vt,this._snapTolerance)},ll.prototype.removeCommonBits=function(vt){this._cbr=new Ku,this._cbr.add(vt[0]),this._cbr.add(vt[1]);var _t=new Array(2).fill(null);return _t[0]=this._cbr.removeCommonBits(vt[0].copy()),_t[1]=this._cbr.removeCommonBits(vt[1].copy()),_t},ll.prototype.prepareResult=function(vt){return this._cbr.addCommonBits(vt),vt},ll.prototype.getResultGeometry=function(vt){var _t=this.snap(this._geom),xt=Go.overlayOp(_t[0],_t[1],vt);return this.prepareResult(xt)},ll.prototype.checkValid=function(vt){vt.isValid()||zl.out.println("Snapped geometry is invalid")},ll.prototype.computeSnapTolerance=function(){this._snapTolerance=ga.computeOverlaySnapTolerance(this._geom[0],this._geom[1])},ll.prototype.snap=function(vt){var _t=this.removeCommonBits(vt);return ga.snap(_t[0],_t[1],this._snapTolerance)},ll.prototype.interfaces_=function(){return[]},ll.prototype.getClass=function(){return ll},ll.overlayOp=function(vt,_t,xt){return new ll(vt,_t).getResultGeometry(xt)},ll.union=function(vt,_t){return ll.overlayOp(vt,_t,Go.UNION)},ll.intersection=function(vt,_t){return ll.overlayOp(vt,_t,Go.INTERSECTION)},ll.symDifference=function(vt,_t){return ll.overlayOp(vt,_t,Go.SYMDIFFERENCE)},ll.difference=function(vt,_t){return ll.overlayOp(vt,_t,Go.DIFFERENCE)};var Al=function(vt,_t){this._geom=new Array(2).fill(null),this._geom[0]=vt,this._geom[1]=_t};Al.prototype.getResultGeometry=function(vt){var _t=null,xt=!1,Mt=null;try{_t=Go.overlayOp(this._geom[0],this._geom[1],vt),xt=!0}catch(kt){if(!(kt instanceof Ph))throw kt;Mt=kt}if(!xt)try{_t=ll.overlayOp(this._geom[0],this._geom[1],vt)}catch(kt){throw kt instanceof Ph?Mt:kt}return _t},Al.prototype.interfaces_=function(){return[]},Al.prototype.getClass=function(){return Al},Al.overlayOp=function(vt,_t,xt){return new Al(vt,_t).getResultGeometry(xt)},Al.union=function(vt,_t){return Al.overlayOp(vt,_t,Go.UNION)},Al.intersection=function(vt,_t){return Al.overlayOp(vt,_t,Go.INTERSECTION)},Al.symDifference=function(vt,_t){return Al.overlayOp(vt,_t,Go.SYMDIFFERENCE)},Al.difference=function(vt,_t){return Al.overlayOp(vt,_t,Go.DIFFERENCE)};var Bd=function(){this.mce=null,this.chainIndex=null;var vt=arguments[0],_t=arguments[1];this.mce=vt,this.chainIndex=_t};Bd.prototype.computeIntersections=function(vt,_t){this.mce.computeIntersectsForChain(this.chainIndex,vt.mce,vt.chainIndex,_t)},Bd.prototype.interfaces_=function(){return[]},Bd.prototype.getClass=function(){return Bd};var Kl=function vt(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,arguments.length===2){var _t=arguments[0],xt=arguments[1];this._eventType=vt.DELETE,this._xValue=_t,this._insertEvent=xt}else if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2];this._eventType=vt.INSERT,this._label=Mt,this._xValue=kt,this._obj=It}},j0={INSERT:{configurable:!0},DELETE:{configurable:!0}};Kl.prototype.isDelete=function(){return this._eventType===Kl.DELETE},Kl.prototype.setDeleteEventIndex=function(vt){this._deleteEventIndex=vt},Kl.prototype.getObject=function(){return this._obj},Kl.prototype.compareTo=function(vt){var _t=vt;return this._xValue<_t._xValue?-1:this._xValue>_t._xValue?1:this._eventType<_t._eventType?-1:this._eventType>_t._eventType?1:0},Kl.prototype.getInsertEvent=function(){return this._insertEvent},Kl.prototype.isInsert=function(){return this._eventType===Kl.INSERT},Kl.prototype.isSameLabel=function(vt){return this._label!==null&&this._label===vt._label},Kl.prototype.getDeleteEventIndex=function(){return this._deleteEventIndex},Kl.prototype.interfaces_=function(){return[Jc]},Kl.prototype.getClass=function(){return Kl},j0.INSERT.get=function(){return 1},j0.DELETE.get=function(){return 2},Object.defineProperties(Kl,j0);var Tf=function(){};Tf.prototype.interfaces_=function(){return[]},Tf.prototype.getClass=function(){return Tf};var cl=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;var vt=arguments[0],_t=arguments[1],xt=arguments[2];this._li=vt,this._includeProper=_t,this._recordIsolated=xt};cl.prototype.isTrivialIntersection=function(vt,_t,xt,Mt){if(vt===xt&&this._li.getIntersectionNum()===1){if(cl.isAdjacentSegments(_t,Mt))return!0;if(vt.isClosed()){var kt=vt.getNumPoints()-1;if(_t===0&&Mt===kt||Mt===0&&_t===kt)return!0}}return!1},cl.prototype.getProperIntersectionPoint=function(){return this._properIntersectionPoint},cl.prototype.setIsDoneIfProperInt=function(vt){this._isDoneWhenProperInt=vt},cl.prototype.hasProperInteriorIntersection=function(){return this._hasProperInterior},cl.prototype.isBoundaryPointInternal=function(vt,_t){for(var xt=_t.iterator();xt.hasNext();){var Mt=xt.next().getCoordinate();if(vt.isIntersection(Mt))return!0}return!1},cl.prototype.hasProperIntersection=function(){return this._hasProper},cl.prototype.hasIntersection=function(){return this._hasIntersection},cl.prototype.isDone=function(){return this._isDone},cl.prototype.isBoundaryPoint=function(vt,_t){return _t!==null&&(!!this.isBoundaryPointInternal(vt,_t[0])||!!this.isBoundaryPointInternal(vt,_t[1]))},cl.prototype.setBoundaryNodes=function(vt,_t){this._bdyNodes=new Array(2).fill(null),this._bdyNodes[0]=vt,this._bdyNodes[1]=_t},cl.prototype.addIntersections=function(vt,_t,xt,Mt){if(vt===xt&&_t===Mt)return null;this.numTests++;var kt=vt.getCoordinates()[_t],It=vt.getCoordinates()[_t+1],Rt=xt.getCoordinates()[Mt],Ut=xt.getCoordinates()[Mt+1];this._li.computeIntersection(kt,It,Rt,Ut),this._li.hasIntersection()&&(this._recordIsolated&&(vt.setIsolated(!1),xt.setIsolated(!1)),this._numIntersections++,this.isTrivialIntersection(vt,_t,xt,Mt)||(this._hasIntersection=!0,!this._includeProper&&this._li.isProper()||(vt.addIntersections(this._li,_t,0),xt.addIntersections(this._li,Mt,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this._li,this._bdyNodes)||(this._hasProperInterior=!0))))},cl.prototype.interfaces_=function(){return[]},cl.prototype.getClass=function(){return cl},cl.isAdjacentSegments=function(vt,_t){return Math.abs(vt-_t)===1};var cb=function(vt){function _t(){vt.call(this),this.events=new Hi,this.nOverlaps=null}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.prepareEvents=function(){Su.sort(this.events);for(var xt=0;xt<this.events.size();xt++){var Mt=this.events.get(xt);Mt.isDelete()&&Mt.getInsertEvent().setDeleteEventIndex(xt)}},_t.prototype.computeIntersections=function(){var xt=this;if(arguments.length===1){var Mt=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var kt=0;kt<this.events.size();kt++){var It=xt.events.get(kt);if(It.isInsert()&&xt.processOverlaps(kt,It.getDeleteEventIndex(),It,Mt),Mt.isDone())break}}else if(arguments.length===3){if(arguments[2]instanceof cl&&Do(arguments[0],bu)&&Do(arguments[1],bu)){var Rt=arguments[0],Ut=arguments[1],Wt=arguments[2];this.addEdges(Rt,Rt),this.addEdges(Ut,Ut),this.computeIntersections(Wt)}else if(typeof arguments[2]=="boolean"&&Do(arguments[0],bu)&&arguments[1]instanceof cl){var qt=arguments[0],on=arguments[1],Jt=arguments[2];Jt?this.addEdges(qt,null):this.addEdges(qt),this.computeIntersections(on)}}},_t.prototype.addEdge=function(xt,Mt){for(var kt=xt.getMonotoneChainEdge(),It=kt.getStartIndexes(),Rt=0;Rt<It.length-1;Rt++){var Ut=new Bd(kt,Rt),Wt=new Kl(Mt,kt.getMinX(Rt),Ut);this.events.add(Wt),this.events.add(new Kl(kt.getMaxX(Rt),Wt))}},_t.prototype.processOverlaps=function(xt,Mt,kt,It){for(var Rt=kt.getObject(),Ut=xt;Ut<Mt;Ut++){var Wt=this.events.get(Ut);if(Wt.isInsert()){var qt=Wt.getObject();kt.isSameLabel(Wt)||(Rt.computeIntersections(qt,It),this.nOverlaps++)}}},_t.prototype.addEdges=function(){var xt=this;if(arguments.length===1)for(var Mt=arguments[0],kt=Mt.iterator();kt.hasNext();){var It=kt.next();xt.addEdge(It,It)}else if(arguments.length===2)for(var Rt=arguments[0],Ut=arguments[1],Wt=Rt.iterator();Wt.hasNext();){var qt=Wt.next();xt.addEdge(qt,Ut)}},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(Tf),xh=function(){this._min=jo.POSITIVE_INFINITY,this._max=jo.NEGATIVE_INFINITY},$y={NodeComparator:{configurable:!0}};xh.prototype.getMin=function(){return this._min},xh.prototype.intersects=function(vt,_t){return!(this._min>_t||this._max<vt)},xh.prototype.getMax=function(){return this._max},xh.prototype.toString=function(){return vu.toLineString(new Xr(this._min,0),new Xr(this._max,0))},xh.prototype.interfaces_=function(){return[]},xh.prototype.getClass=function(){return xh},$y.NodeComparator.get=function(){return yg},Object.defineProperties(xh,$y);var yg=function(){};yg.prototype.compare=function(vt,_t){var xt=vt,Mt=_t,kt=(xt._min+xt._max)/2,It=(Mt._min+Mt._max)/2;return kt<It?-1:kt>It?1:0},yg.prototype.interfaces_=function(){return[Zf]},yg.prototype.getClass=function(){return yg};var Nu=function(vt){function _t(){vt.call(this),this._item=null;var xt=arguments[0],Mt=arguments[1],kt=arguments[2];this._min=xt,this._max=Mt,this._item=kt}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.query=function(xt,Mt,kt){if(!this.intersects(xt,Mt))return null;kt.visitItem(this._item)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(xh),By=function(vt){function _t(){vt.call(this),this._node1=null,this._node2=null;var xt=arguments[0],Mt=arguments[1];this._node1=xt,this._node2=Mt,this.buildExtent(this._node1,this._node2)}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.buildExtent=function(xt,Mt){this._min=Math.min(xt._min,Mt._min),this._max=Math.max(xt._max,Mt._max)},_t.prototype.query=function(xt,Mt,kt){if(!this.intersects(xt,Mt))return null;this._node1!==null&&this._node1.query(xt,Mt,kt),this._node2!==null&&this._node2.query(xt,Mt,kt)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(xh),eh=function(){this._leaves=new Hi,this._root=null,this._level=0};eh.prototype.buildTree=function(){Su.sort(this._leaves,new xh.NodeComparator);for(var vt=this._leaves,_t=null,xt=new Hi;;){if(this.buildLevel(vt,xt),xt.size()===1)return xt.get(0);_t=vt,vt=xt,xt=_t}},eh.prototype.insert=function(vt,_t,xt){if(this._root!==null)throw new Error("Index cannot be added to once it has been queried");this._leaves.add(new Nu(vt,_t,xt))},eh.prototype.query=function(vt,_t,xt){this.init(),this._root.query(vt,_t,xt)},eh.prototype.buildRoot=function(){if(this._root!==null)return null;this._root=this.buildTree()},eh.prototype.printNode=function(vt){zl.out.println(vu.toLineString(new Xr(vt._min,this._level),new Xr(vt._max,this._level)))},eh.prototype.init=function(){if(this._root!==null)return null;this.buildRoot()},eh.prototype.buildLevel=function(vt,_t){this._level++,_t.clear();for(var xt=0;xt<vt.size();xt+=2){var Mt=vt.get(xt);if((xt+1<vt.size()?vt.get(xt):null)===null)_t.add(Mt);else{var kt=new By(vt.get(xt),vt.get(xt+1));_t.add(kt)}}},eh.prototype.interfaces_=function(){return[]},eh.prototype.getClass=function(){return eh};var gp=function(){this._items=new Hi};gp.prototype.visitItem=function(vt){this._items.add(vt)},gp.prototype.getItems=function(){return this._items},gp.prototype.interfaces_=function(){return[cd]},gp.prototype.getClass=function(){return gp};var mp=function(){this._index=null;var vt=arguments[0];if(!Do(vt,ld))throw new Ss("Argument must be Polygonal");this._index=new md(vt)},xm={SegmentVisitor:{configurable:!0},IntervalIndexedGeometry:{configurable:!0}};mp.prototype.locate=function(vt){var _t=new Uu(vt),xt=new yp(_t);return this._index.query(vt.y,vt.y,xt),_t.getLocation()},mp.prototype.interfaces_=function(){return[Ka]},mp.prototype.getClass=function(){return mp},xm.SegmentVisitor.get=function(){return yp},xm.IntervalIndexedGeometry.get=function(){return md},Object.defineProperties(mp,xm);var yp=function(){this._counter=null;var vt=arguments[0];this._counter=vt};yp.prototype.visitItem=function(vt){var _t=vt;this._counter.countSegment(_t.getCoordinate(0),_t.getCoordinate(1))},yp.prototype.interfaces_=function(){return[cd]},yp.prototype.getClass=function(){return yp};var md=function(){this._index=new eh;var vt=arguments[0];this.init(vt)};md.prototype.init=function(vt){for(var _t=$l.getLines(vt).iterator();_t.hasNext();){var xt=_t.next().getCoordinates();this.addLine(xt)}},md.prototype.addLine=function(vt){for(var _t=1;_t<vt.length;_t++){var xt=new po(vt[_t-1],vt[_t]),Mt=Math.min(xt.p0.y,xt.p1.y),kt=Math.max(xt.p0.y,xt.p1.y);this._index.insert(Mt,kt,xt)}},md.prototype.query=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1],xt=new gp;return this._index.query(vt,_t,xt),xt.getItems()}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2];this._index.query(Mt,kt,It)}},md.prototype.interfaces_=function(){return[]},md.prototype.getClass=function(){return md};var vp=function(vt){function _t(){if(vt.call(this),this._parentGeom=null,this._lineEdgeMap=new Cy,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new Uc,arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=nu.OGC_SFS_BOUNDARY_RULE;this._argIndex=xt,this._parentGeom=Mt,this._boundaryNodeRule=kt,Mt!==null&&this.add(Mt)}else if(arguments.length===3){var It=arguments[0],Rt=arguments[1],Ut=arguments[2];this._argIndex=It,this._parentGeom=Rt,this._boundaryNodeRule=Ut,Rt!==null&&this.add(Rt)}}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.insertBoundaryPoint=function(xt,Mt){var kt=this._nodes.addNode(Mt).getLabel(),It=1;kt.getLocation(xt,Pi.ON)===ai.BOUNDARY&&It++;var Rt=_t.determineBoundary(this._boundaryNodeRule,It);kt.setLocation(xt,Rt)},_t.prototype.computeSelfNodes=function(){if(arguments.length===2){var xt=arguments[0],Mt=arguments[1];return this.computeSelfNodes(xt,Mt,!1)}if(arguments.length===3){var kt=arguments[0],It=arguments[1],Rt=arguments[2],Ut=new cl(kt,!0,!1);Ut.setIsDoneIfProperInt(Rt);var Wt=this.createEdgeSetIntersector(),qt=this._parentGeom instanceof ph||this._parentGeom instanceof ol||this._parentGeom instanceof gh,on=It||!qt;return Wt.computeIntersections(this._edges,Ut,on),this.addSelfIntersectionNodes(this._argIndex),Ut}},_t.prototype.computeSplitEdges=function(xt){for(var Mt=this._edges.iterator();Mt.hasNext();)Mt.next().eiList.addSplitEdges(xt)},_t.prototype.computeEdgeIntersections=function(xt,Mt,kt){var It=new cl(Mt,kt,!0);return It.setBoundaryNodes(this.getBoundaryNodes(),xt.getBoundaryNodes()),this.createEdgeSetIntersector().computeIntersections(this._edges,xt._edges,It),It},_t.prototype.getGeometry=function(){return this._parentGeom},_t.prototype.getBoundaryNodeRule=function(){return this._boundaryNodeRule},_t.prototype.hasTooFewPoints=function(){return this._hasTooFewPoints},_t.prototype.addPoint=function(){if(arguments[0]instanceof Tc){var xt=arguments[0],Mt=xt.getCoordinate();this.insertPoint(this._argIndex,Mt,ai.INTERIOR)}else if(arguments[0]instanceof Xr){var kt=arguments[0];this.insertPoint(this._argIndex,kt,ai.INTERIOR)}},_t.prototype.addPolygon=function(xt){this.addPolygonRing(xt.getExteriorRing(),ai.EXTERIOR,ai.INTERIOR);for(var Mt=0;Mt<xt.getNumInteriorRing();Mt++){var kt=xt.getInteriorRingN(Mt);this.addPolygonRing(kt,ai.INTERIOR,ai.EXTERIOR)}},_t.prototype.addEdge=function(xt){this.insertEdge(xt);var Mt=xt.getCoordinates();this.insertPoint(this._argIndex,Mt[0],ai.BOUNDARY),this.insertPoint(this._argIndex,Mt[Mt.length-1],ai.BOUNDARY)},_t.prototype.addLineString=function(xt){var Mt=sa.removeRepeatedPoints(xt.getCoordinates());if(Mt.length<2)return this._hasTooFewPoints=!0,this._invalidPoint=Mt[0],null;var kt=new dp(Mt,new ns(this._argIndex,ai.INTERIOR));this._lineEdgeMap.put(xt,kt),this.insertEdge(kt),qo.isTrue(Mt.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this._argIndex,Mt[0]),this.insertBoundaryPoint(this._argIndex,Mt[Mt.length-1])},_t.prototype.getInvalidPoint=function(){return this._invalidPoint},_t.prototype.getBoundaryPoints=function(){for(var xt=this.getBoundaryNodes(),Mt=new Array(xt.size()).fill(null),kt=0,It=xt.iterator();It.hasNext();){var Rt=It.next();Mt[kt++]=Rt.getCoordinate().copy()}return Mt},_t.prototype.getBoundaryNodes=function(){return this._boundaryNodes===null&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes},_t.prototype.addSelfIntersectionNode=function(xt,Mt,kt){if(this.isBoundaryNode(xt,Mt))return null;kt===ai.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(xt,Mt):this.insertPoint(xt,Mt,kt)},_t.prototype.addPolygonRing=function(xt,Mt,kt){if(xt.isEmpty())return null;var It=sa.removeRepeatedPoints(xt.getCoordinates());if(It.length<4)return this._hasTooFewPoints=!0,this._invalidPoint=It[0],null;var Rt=Mt,Ut=kt;Wi.isCCW(It)&&(Rt=kt,Ut=Mt);var Wt=new dp(It,new ns(this._argIndex,ai.BOUNDARY,Rt,Ut));this._lineEdgeMap.put(xt,Wt),this.insertEdge(Wt),this.insertPoint(this._argIndex,It[0],ai.BOUNDARY)},_t.prototype.insertPoint=function(xt,Mt,kt){var It=this._nodes.addNode(Mt),Rt=It.getLabel();Rt===null?It._label=new ns(xt,kt):Rt.setLocation(xt,kt)},_t.prototype.createEdgeSetIntersector=function(){return new cb},_t.prototype.addSelfIntersectionNodes=function(xt){for(var Mt=this._edges.iterator();Mt.hasNext();)for(var kt=Mt.next(),It=kt.getLabel().getLocation(xt),Rt=kt.eiList.iterator();Rt.hasNext();){var Ut=Rt.next();this.addSelfIntersectionNode(xt,Ut.coord,It)}},_t.prototype.add=function(){if(arguments.length!==1)return vt.prototype.add.apply(this,arguments);var xt=arguments[0];if(xt.isEmpty())return null;if(xt instanceof gh&&(this._useBoundaryDeterminationRule=!1),xt instanceof ol)this.addPolygon(xt);else if(xt instanceof ks)this.addLineString(xt);else if(xt instanceof Tc)this.addPoint(xt);else if(xt instanceof sp)this.addCollection(xt);else if(xt instanceof sd)this.addCollection(xt);else if(xt instanceof gh)this.addCollection(xt);else{if(!(xt instanceof nc))throw new Error(xt.getClass().getName());this.addCollection(xt)}},_t.prototype.addCollection=function(xt){for(var Mt=0;Mt<xt.getNumGeometries();Mt++){var kt=xt.getGeometryN(Mt);this.add(kt)}},_t.prototype.locate=function(xt){return Do(this._parentGeom,ld)&&this._parentGeom.getNumGeometries()>50?(this._areaPtLocator===null&&(this._areaPtLocator=new mp(this._parentGeom)),this._areaPtLocator.locate(xt)):this._ptLocator.locate(xt,this._parentGeom)},_t.prototype.findEdge=function(){if(arguments.length===1){var xt=arguments[0];return this._lineEdgeMap.get(xt)}return vt.prototype.findEdge.apply(this,arguments)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t.determineBoundary=function(xt,Mt){return xt.isInBoundary(Mt)?ai.BOUNDARY:ai.INTERIOR},_t}(Is),bp=function(){if(this._li=new ad,this._resultPrecisionModel=null,this._arg=null,arguments.length===1){var vt=arguments[0];this.setComputationPrecision(vt.getPrecisionModel()),this._arg=new Array(1).fill(null),this._arg[0]=new vp(0,vt)}else if(arguments.length===2){var _t=arguments[0],xt=arguments[1],Mt=nu.OGC_SFS_BOUNDARY_RULE;_t.getPrecisionModel().compareTo(xt.getPrecisionModel())>=0?this.setComputationPrecision(_t.getPrecisionModel()):this.setComputationPrecision(xt.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new vp(0,_t,Mt),this._arg[1]=new vp(1,xt,Mt)}else if(arguments.length===3){var kt=arguments[0],It=arguments[1],Rt=arguments[2];kt.getPrecisionModel().compareTo(It.getPrecisionModel())>=0?this.setComputationPrecision(kt.getPrecisionModel()):this.setComputationPrecision(It.getPrecisionModel()),this._arg=new Array(2).fill(null),this._arg[0]=new vp(0,kt,Rt),this._arg[1]=new vp(1,It,Rt)}};bp.prototype.getArgGeometry=function(vt){return this._arg[vt].getGeometry()},bp.prototype.setComputationPrecision=function(vt){this._resultPrecisionModel=vt,this._li.setPrecisionModel(this._resultPrecisionModel)},bp.prototype.interfaces_=function(){return[]},bp.prototype.getClass=function(){return bp};var jd=function(){};jd.prototype.interfaces_=function(){return[]},jd.prototype.getClass=function(){return jd},jd.map=function(){if(arguments[0]instanceof Ao&&Do(arguments[1],jd.MapOp)){for(var vt=arguments[0],_t=arguments[1],xt=new Hi,Mt=0;Mt<vt.getNumGeometries();Mt++){var kt=_t.map(vt.getGeometryN(Mt));kt!==null&&xt.add(kt)}return vt.getFactory().buildGeometry(xt)}if(Do(arguments[0],il)&&Do(arguments[1],jd.MapOp)){for(var It=arguments[0],Rt=arguments[1],Ut=new Hi,Wt=It.iterator();Wt.hasNext();){var qt=Wt.next(),on=Rt.map(qt);on!==null&&Ut.add(on)}return Ut}},jd.MapOp=function(){};var Go=function(vt){function _t(){var xt=arguments[0],Mt=arguments[1];vt.call(this,xt,Mt),this._ptLocator=new Uc,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new kc,this._resultPolyList=new Hi,this._resultLineList=new Hi,this._resultPointList=new Hi,this._graph=new Is(new Ry),this._geomFact=xt.getFactory()}return vt&&(_t.__proto__=vt),_t.prototype=Object.create(vt&&vt.prototype),_t.prototype.constructor=_t,_t.prototype.insertUniqueEdge=function(xt){var Mt=this._edgeList.findEqualEdge(xt);if(Mt!==null){var kt=Mt.getLabel(),It=xt.getLabel();Mt.isPointwiseEqual(xt)||(It=new ns(xt.getLabel())).flip();var Rt=Mt.getDepth();Rt.isNull()&&Rt.add(kt),Rt.add(It),kt.merge(It)}else this._edgeList.add(xt)},_t.prototype.getGraph=function(){return this._graph},_t.prototype.cancelDuplicateResultEdges=function(){for(var xt=this._graph.getEdgeEnds().iterator();xt.hasNext();){var Mt=xt.next(),kt=Mt.getSym();Mt.isInResult()&&kt.isInResult()&&(Mt.setInResult(!1),kt.setInResult(!1))}},_t.prototype.isCoveredByLA=function(xt){return!!this.isCovered(xt,this._resultLineList)||!!this.isCovered(xt,this._resultPolyList)},_t.prototype.computeGeometry=function(xt,Mt,kt,It){var Rt=new Hi;return Rt.addAll(xt),Rt.addAll(Mt),Rt.addAll(kt),Rt.isEmpty()?_t.createEmptyResult(It,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(Rt)},_t.prototype.mergeSymLabels=function(){for(var xt=this._graph.getNodes().iterator();xt.hasNext();)xt.next().getEdges().mergeSymLabels()},_t.prototype.isCovered=function(xt,Mt){for(var kt=Mt.iterator();kt.hasNext();){var It=kt.next();if(this._ptLocator.locate(xt,It)!==ai.EXTERIOR)return!0}return!1},_t.prototype.replaceCollapsedEdges=function(){for(var xt=new Hi,Mt=this._edgeList.iterator();Mt.hasNext();){var kt=Mt.next();kt.isCollapsed()&&(Mt.remove(),xt.add(kt.getCollapsedEdge()))}this._edgeList.addAll(xt)},_t.prototype.updateNodeLabelling=function(){for(var xt=this._graph.getNodes().iterator();xt.hasNext();){var Mt=xt.next(),kt=Mt.getEdges().getLabel();Mt.getLabel().merge(kt)}},_t.prototype.getResultGeometry=function(xt){return this.computeOverlay(xt),this._resultGeom},_t.prototype.insertUniqueEdges=function(xt){for(var Mt=xt.iterator();Mt.hasNext();){var kt=Mt.next();this.insertUniqueEdge(kt)}},_t.prototype.computeOverlay=function(xt){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);var Mt=new Hi;this._arg[0].computeSplitEdges(Mt),this._arg[1].computeSplitEdges(Mt),this.insertUniqueEdges(Mt),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),$d.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(xt),this.cancelDuplicateResultEdges();var kt=new hc(this._geomFact);kt.add(this._graph),this._resultPolyList=kt.getPolygons();var It=new Zu(this,this._geomFact,this._ptLocator);this._resultLineList=It.build(xt);var Rt=new Ef(this,this._geomFact,this._ptLocator);this._resultPointList=Rt.build(xt),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,xt)},_t.prototype.labelIncompleteNode=function(xt,Mt){var kt=this._ptLocator.locate(xt.getCoordinate(),this._arg[Mt].getGeometry());xt.getLabel().setLocation(Mt,kt)},_t.prototype.copyPoints=function(xt){for(var Mt=this._arg[xt].getNodeIterator();Mt.hasNext();){var kt=Mt.next();this._graph.addNode(kt.getCoordinate()).setLabel(xt,kt.getLabel().getLocation(xt))}},_t.prototype.findResultAreaEdges=function(xt){for(var Mt=this._graph.getEdgeEnds().iterator();Mt.hasNext();){var kt=Mt.next(),It=kt.getLabel();It.isArea()&&!kt.isInteriorAreaEdge()&&_t.isResultOfOp(It.getLocation(0,Pi.RIGHT),It.getLocation(1,Pi.RIGHT),xt)&&kt.setInResult(!0)}},_t.prototype.computeLabelsFromDepths=function(){for(var xt=this._edgeList.iterator();xt.hasNext();){var Mt=xt.next(),kt=Mt.getLabel(),It=Mt.getDepth();if(!It.isNull()){It.normalize();for(var Rt=0;Rt<2;Rt++)kt.isNull(Rt)||!kt.isArea()||It.isNull(Rt)||(It.getDelta(Rt)===0?kt.toLine(Rt):(qo.isTrue(!It.isNull(Rt,Pi.LEFT),"depth of LEFT side has not been initialized"),kt.setLocation(Rt,Pi.LEFT,It.getLocation(Rt,Pi.LEFT)),qo.isTrue(!It.isNull(Rt,Pi.RIGHT),"depth of RIGHT side has not been initialized"),kt.setLocation(Rt,Pi.RIGHT,It.getLocation(Rt,Pi.RIGHT))))}}},_t.prototype.computeLabelling=function(){for(var xt=this._graph.getNodes().iterator();xt.hasNext();)xt.next().getEdges().computeLabelling(this._arg);this.mergeSymLabels(),this.updateNodeLabelling()},_t.prototype.labelIncompleteNodes=function(){for(var xt=this._graph.getNodes().iterator();xt.hasNext();){var Mt=xt.next(),kt=Mt.getLabel();Mt.isIsolated()&&(kt.isNull(0)?this.labelIncompleteNode(Mt,0):this.labelIncompleteNode(Mt,1)),Mt.getEdges().updateLabelling(kt)}},_t.prototype.isCoveredByA=function(xt){return!!this.isCovered(xt,this._resultPolyList)},_t.prototype.interfaces_=function(){return[]},_t.prototype.getClass=function(){return _t},_t}(bp);Go.overlayOp=function(vt,_t,xt){return new Go(vt,_t).getResultGeometry(xt)},Go.intersection=function(vt,_t){if(vt.isEmpty()||_t.isEmpty())return Go.createEmptyResult(Go.INTERSECTION,vt,_t,vt.getFactory());if(vt.isGeometryCollection()){var xt=_t;return xf.map(vt,{interfaces_:function(){return[jd.MapOp]},map:function(Mt){return Mt.intersection(xt)}})}return vt.checkNotGeometryCollection(vt),vt.checkNotGeometryCollection(_t),Al.overlayOp(vt,_t,Go.INTERSECTION)},Go.symDifference=function(vt,_t){if(vt.isEmpty()||_t.isEmpty()){if(vt.isEmpty()&&_t.isEmpty())return Go.createEmptyResult(Go.SYMDIFFERENCE,vt,_t,vt.getFactory());if(vt.isEmpty())return _t.copy();if(_t.isEmpty())return vt.copy()}return vt.checkNotGeometryCollection(vt),vt.checkNotGeometryCollection(_t),Al.overlayOp(vt,_t,Go.SYMDIFFERENCE)},Go.resultDimension=function(vt,_t,xt){var Mt=_t.getDimension(),kt=xt.getDimension(),It=-1;switch(vt){case Go.INTERSECTION:It=Math.min(Mt,kt);break;case Go.UNION:It=Math.max(Mt,kt);break;case Go.DIFFERENCE:It=Mt;break;case Go.SYMDIFFERENCE:It=Math.max(Mt,kt)}return It},Go.createEmptyResult=function(vt,_t,xt,Mt){var kt=null;switch(Go.resultDimension(vt,_t,xt)){case-1:kt=Mt.createGeometryCollection(new Array(0).fill(null));break;case 0:kt=Mt.createPoint();break;case 1:kt=Mt.createLineString();break;case 2:kt=Mt.createPolygon()}return kt},Go.difference=function(vt,_t){return vt.isEmpty()?Go.createEmptyResult(Go.DIFFERENCE,vt,_t,vt.getFactory()):_t.isEmpty()?vt.copy():(vt.checkNotGeometryCollection(vt),vt.checkNotGeometryCollection(_t),Al.overlayOp(vt,_t,Go.DIFFERENCE))},Go.isResultOfOp=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1],xt=vt.getLocation(0),Mt=vt.getLocation(1);return Go.isResultOfOp(xt,Mt,_t)}if(arguments.length===3){var kt=arguments[0],It=arguments[1],Rt=arguments[2];switch(kt===ai.BOUNDARY&&(kt=ai.INTERIOR),It===ai.BOUNDARY&&(It=ai.INTERIOR),Rt){case Go.INTERSECTION:return kt===ai.INTERIOR&&It===ai.INTERIOR;case Go.UNION:return kt===ai.INTERIOR||It===ai.INTERIOR;case Go.DIFFERENCE:return kt===ai.INTERIOR&&It!==ai.INTERIOR;case Go.SYMDIFFERENCE:return kt===ai.INTERIOR&&It!==ai.INTERIOR||kt!==ai.INTERIOR&&It===ai.INTERIOR}return!1}},Go.INTERSECTION=1,Go.UNION=2,Go.DIFFERENCE=3,Go.SYMDIFFERENCE=4;var yd=function(){this._g=null,this._boundaryDistanceTolerance=null,this._linework=null,this._ptLocator=new Uc,this._seg=new po;var vt=arguments[0],_t=arguments[1];this._g=vt,this._boundaryDistanceTolerance=_t,this._linework=this.extractLinework(vt)};yd.prototype.isWithinToleranceOfBoundary=function(vt){for(var _t=this,xt=0;xt<this._linework.getNumGeometries();xt++)for(var Mt=_t._linework.getGeometryN(xt).getCoordinateSequence(),kt=0;kt<Mt.size()-1;kt++)if(Mt.getCoordinate(kt,_t._seg.p0),Mt.getCoordinate(kt+1,_t._seg.p1),_t._seg.distance(vt)<=_t._boundaryDistanceTolerance)return!0;return!1},yd.prototype.getLocation=function(vt){return this.isWithinToleranceOfBoundary(vt)?ai.BOUNDARY:this._ptLocator.locate(vt,this._g)},yd.prototype.extractLinework=function(vt){var _t=new Mf;vt.apply(_t);var xt=_t.getLinework(),Mt=la.toLineStringArray(xt);return vt.getFactory().createMultiLineString(Mt)},yd.prototype.interfaces_=function(){return[]},yd.prototype.getClass=function(){return yd};var Mf=function(){this._linework=null,this._linework=new Hi};Mf.prototype.getLinework=function(){return this._linework},Mf.prototype.filter=function(vt){if(vt instanceof ol){var _t=vt;this._linework.add(_t.getExteriorRing());for(var xt=0;xt<_t.getNumInteriorRing();xt++)this._linework.add(_t.getInteriorRingN(xt))}},Mf.prototype.interfaces_=function(){return[Hu]},Mf.prototype.getClass=function(){return Mf};var vd=function(){this._g=null,this._doLeft=!0,this._doRight=!0;var vt=arguments[0];this._g=vt};vd.prototype.extractPoints=function(vt,_t,xt){for(var Mt=vt.getCoordinates(),kt=0;kt<Mt.length-1;kt++)this.computeOffsetPoints(Mt[kt],Mt[kt+1],_t,xt)},vd.prototype.setSidesToGenerate=function(vt,_t){this._doLeft=vt,this._doRight=_t},vd.prototype.getPoints=function(vt){for(var _t=new Hi,xt=$l.getLines(this._g).iterator();xt.hasNext();){var Mt=xt.next();this.extractPoints(Mt,vt,_t)}return _t},vd.prototype.computeOffsetPoints=function(vt,_t,xt,Mt){var kt=_t.x-vt.x,It=_t.y-vt.y,Rt=Math.sqrt(kt*kt+It*It),Ut=xt*kt/Rt,Wt=xt*It/Rt,qt=(_t.x+vt.x)/2,on=(_t.y+vt.y)/2;if(this._doLeft){var Jt=new Xr(qt-Wt,on+Ut);Mt.add(Jt)}if(this._doRight){var un=new Xr(qt+Wt,on-Ut);Mt.add(un)}},vd.prototype.interfaces_=function(){return[]},vd.prototype.getClass=function(){return vd};var gc=function vt(){this._geom=null,this._locFinder=null,this._location=new Array(3).fill(null),this._invalidLocation=null,this._boundaryDistanceTolerance=vt.TOLERANCE,this._testCoords=new Hi;var _t=arguments[0],xt=arguments[1],Mt=arguments[2];this._boundaryDistanceTolerance=vt.computeBoundaryDistanceTolerance(_t,xt),this._geom=[_t,xt,Mt],this._locFinder=[new yd(this._geom[0],this._boundaryDistanceTolerance),new yd(this._geom[1],this._boundaryDistanceTolerance),new yd(this._geom[2],this._boundaryDistanceTolerance)]},F0={TOLERANCE:{configurable:!0}};gc.prototype.reportResult=function(vt,_t,xt){zl.out.println("Overlay result invalid - A:"+ai.toLocationSymbol(_t[0])+" B:"+ai.toLocationSymbol(_t[1])+" expected:"+(xt?"i":"e")+" actual:"+ai.toLocationSymbol(_t[2]))},gc.prototype.isValid=function(vt){this.addTestPts(this._geom[0]),this.addTestPts(this._geom[1]);var _t=this.checkValid(vt);return _t},gc.prototype.checkValid=function(){var vt=this;if(arguments.length===1){for(var _t=arguments[0],xt=0;xt<this._testCoords.size();xt++){var Mt=vt._testCoords.get(xt);if(!vt.checkValid(_t,Mt))return vt._invalidLocation=Mt,!1}return!0}if(arguments.length===2){var kt=arguments[0],It=arguments[1];return this._location[0]=this._locFinder[0].getLocation(It),this._location[1]=this._locFinder[1].getLocation(It),this._location[2]=this._locFinder[2].getLocation(It),!!gc.hasLocation(this._location,ai.BOUNDARY)||this.isValidResult(kt,this._location)}},gc.prototype.addTestPts=function(vt){var _t=new vd(vt);this._testCoords.addAll(_t.getPoints(5*this._boundaryDistanceTolerance))},gc.prototype.isValidResult=function(vt,_t){var xt=Go.isResultOfOp(_t[0],_t[1],vt),Mt=!(xt^_t[2]===ai.INTERIOR);return Mt||this.reportResult(vt,_t,xt),Mt},gc.prototype.getInvalidLocation=function(){return this._invalidLocation},gc.prototype.interfaces_=function(){return[]},gc.prototype.getClass=function(){return gc},gc.hasLocation=function(vt,_t){for(var xt=0;xt<3;xt++)if(vt[xt]===_t)return!0;return!1},gc.computeBoundaryDistanceTolerance=function(vt,_t){return Math.min(ga.computeSizeBasedSnapTolerance(vt),ga.computeSizeBasedSnapTolerance(_t))},gc.isValid=function(vt,_t,xt,Mt){return new gc(vt,_t,Mt).isValid(xt)},F0.TOLERANCE.get=function(){return 1e-6},Object.defineProperties(gc,F0);var Jl=function vt(_t){this._geomFactory=null,this._skipEmpty=!1,this._inputGeoms=null,this._geomFactory=vt.extractFactory(_t),this._inputGeoms=_t};Jl.prototype.extractElements=function(vt,_t){if(vt===null)return null;for(var xt=0;xt<vt.getNumGeometries();xt++){var Mt=vt.getGeometryN(xt);this._skipEmpty&&Mt.isEmpty()||_t.add(Mt)}},Jl.prototype.combine=function(){for(var vt=new Hi,_t=this._inputGeoms.iterator();_t.hasNext();){var xt=_t.next();this.extractElements(xt,vt)}return vt.size()===0?this._geomFactory!==null?this._geomFactory.createGeometryCollection(null):null:this._geomFactory.buildGeometry(vt)},Jl.prototype.interfaces_=function(){return[]},Jl.prototype.getClass=function(){return Jl},Jl.combine=function(){if(arguments.length===1){var vt=arguments[0],_t=new Jl(vt);return _t.combine()}if(arguments.length===2){var xt=arguments[0],Mt=arguments[1],kt=new Jl(Jl.createList(xt,Mt));return kt.combine()}if(arguments.length===3){var It=arguments[0],Rt=arguments[1],Ut=arguments[2],Wt=new Jl(Jl.createList(It,Rt,Ut));return Wt.combine()}},Jl.extractFactory=function(vt){return vt.isEmpty()?null:vt.iterator().next().getFactory()},Jl.createList=function(){if(arguments.length===2){var vt=arguments[0],_t=arguments[1],xt=new Hi;return xt.add(vt),xt.add(_t),xt}if(arguments.length===3){var Mt=arguments[0],kt=arguments[1],It=arguments[2],Rt=new Hi;return Rt.add(Mt),Rt.add(kt),Rt.add(It),Rt}};var Ks=function(){this._inputPolys=null,this._geomFactory=null;var vt=arguments[0];this._inputPolys=vt,this._inputPolys===null&&(this._inputPolys=new Hi)},U0={STRTREE_NODE_CAPACITY:{configurable:!0}};Ks.prototype.reduceToGeometries=function(vt){for(var _t=new Hi,xt=vt.iterator();xt.hasNext();){var Mt=xt.next(),kt=null;Do(Mt,bu)?kt=this.unionTree(Mt):Mt instanceof Ao&&(kt=Mt),_t.add(kt)}return _t},Ks.prototype.extractByEnvelope=function(vt,_t,xt){for(var Mt=new Hi,kt=0;kt<_t.getNumGeometries();kt++){var It=_t.getGeometryN(kt);It.getEnvelopeInternal().intersects(vt)?Mt.add(It):xt.add(It)}return this._geomFactory.buildGeometry(Mt)},Ks.prototype.unionOptimized=function(vt,_t){var xt=vt.getEnvelopeInternal(),Mt=_t.getEnvelopeInternal();if(!xt.intersects(Mt))return Jl.combine(vt,_t);if(vt.getNumGeometries()<=1&&_t.getNumGeometries()<=1)return this.unionActual(vt,_t);var kt=xt.intersection(Mt);return this.unionUsingEnvelopeIntersection(vt,_t,kt)},Ks.prototype.union=function(){if(this._inputPolys===null)throw new Error("union() method cannot be called twice");if(this._inputPolys.isEmpty())return null;this._geomFactory=this._inputPolys.iterator().next().getFactory();for(var vt=new Ly(Ks.STRTREE_NODE_CAPACITY),_t=this._inputPolys.iterator();_t.hasNext();){var xt=_t.next();vt.insert(xt.getEnvelopeInternal(),xt)}this._inputPolys=null;var Mt=vt.itemsTree();return this.unionTree(Mt)},Ks.prototype.binaryUnion=function(){if(arguments.length===1){var vt=arguments[0];return this.binaryUnion(vt,0,vt.size())}if(arguments.length===3){var _t=arguments[0],xt=arguments[1],Mt=arguments[2];if(Mt-xt<=1){var kt=Ks.getGeometry(_t,xt);return this.unionSafe(kt,null)}if(Mt-xt==2)return this.unionSafe(Ks.getGeometry(_t,xt),Ks.getGeometry(_t,xt+1));var It=Math.trunc((Mt+xt)/2),Rt=this.binaryUnion(_t,xt,It),Ut=this.binaryUnion(_t,It,Mt);return this.unionSafe(Rt,Ut)}},Ks.prototype.repeatedUnion=function(vt){for(var _t=null,xt=vt.iterator();xt.hasNext();){var Mt=xt.next();_t=_t===null?Mt.copy():_t.union(Mt)}return _t},Ks.prototype.unionSafe=function(vt,_t){return vt===null&&_t===null?null:vt===null?_t.copy():_t===null?vt.copy():this.unionOptimized(vt,_t)},Ks.prototype.unionActual=function(vt,_t){return Ks.restrictToPolygons(vt.union(_t))},Ks.prototype.unionTree=function(vt){var _t=this.reduceToGeometries(vt);return this.binaryUnion(_t)},Ks.prototype.unionUsingEnvelopeIntersection=function(vt,_t,xt){var Mt=new Hi,kt=this.extractByEnvelope(xt,vt,Mt),It=this.extractByEnvelope(xt,_t,Mt),Rt=this.unionActual(kt,It);return Mt.add(Rt),Jl.combine(Mt)},Ks.prototype.bufferUnion=function(){if(arguments.length===1){var vt=arguments[0],_t=vt.get(0).getFactory(),xt=_t.buildGeometry(vt),Mt=xt.buffer(0);return Mt}if(arguments.length===2){var kt=arguments[0],It=arguments[1],Rt=kt.getFactory(),Ut=Rt.createGeometryCollection([kt,It]),Wt=Ut.buffer(0);return Wt}},Ks.prototype.interfaces_=function(){return[]},Ks.prototype.getClass=function(){return Ks},Ks.restrictToPolygons=function(vt){if(Do(vt,ld))return vt;var _t=Bh.getPolygons(vt);return _t.size()===1?_t.get(0):vt.getFactory().createMultiPolygon(la.toPolygonArray(_t))},Ks.getGeometry=function(vt,_t){return _t>=vt.size()?null:vt.get(_t)},Ks.union=function(vt){return new Ks(vt).union()},U0.STRTREE_NODE_CAPACITY.get=function(){return 4},Object.defineProperties(Ks,U0);var Du=function(){};function Uh(){return new _p}function _p(){this.reset()}Du.prototype.interfaces_=function(){return[]},Du.prototype.getClass=function(){return Du},Du.union=function(vt,_t){if(vt.isEmpty()||_t.isEmpty()){if(vt.isEmpty()&&_t.isEmpty())return Go.createEmptyResult(Go.UNION,vt,_t,vt.getFactory());if(vt.isEmpty())return _t.copy();if(_t.isEmpty())return vt.copy()}return vt.checkNotGeometryCollection(vt),vt.checkNotGeometryCollection(_t),Al.overlayOp(vt,_t,Go.UNION)},_p.prototype={constructor:_p,reset:function(){this.s=this.t=0},add:function(vt){H0(vg,vt,this.t),H0(this,vg.s,this.s),this.s?this.t+=vg.t:this.s=vg.t},valueOf:function(){return this.s}};var vg=new _p;function H0(vt,_t,xt){var Mt=vt.s=_t+xt,kt=Mt-_t,It=Mt-kt;vt.t=_t-It+(xt-kt)}var Vs=1e-6,os=Math.PI,Hh=os/2,jy=os/4,Vh=2*os,Io=180/os,lu=os/180,ac=Math.abs,ub=Math.atan,wp=Math.atan2,ul=Math.cos,hl=Math.sin,bg=Math.sqrt;function Em(vt){return vt>1?0:vt<-1?os:Math.acos(vt)}function Eh(vt){return vt>1?Hh:vt<-1?-Hh:Math.asin(vt)}function Fd(){}function _g(vt,_t){vt&&V0.hasOwnProperty(vt.type)&&V0[vt.type](vt,_t)}var Tm={Feature:function(vt,_t){_g(vt.geometry,_t)},FeatureCollection:function(vt,_t){for(var xt=vt.features,Mt=-1,kt=xt.length;++Mt<kt;)_g(xt[Mt].geometry,_t)}},V0={Sphere:function(vt,_t){_t.sphere()},Point:function(vt,_t){vt=vt.coordinates,_t.point(vt[0],vt[1],vt[2])},MultiPoint:function(vt,_t){for(var xt=vt.coordinates,Mt=-1,kt=xt.length;++Mt<kt;)vt=xt[Mt],_t.point(vt[0],vt[1],vt[2])},LineString:function(vt,_t){Mm(vt.coordinates,_t,0)},MultiLineString:function(vt,_t){for(var xt=vt.coordinates,Mt=-1,kt=xt.length;++Mt<kt;)Mm(xt[Mt],_t,0)},Polygon:function(vt,_t){xp(vt.coordinates,_t)},MultiPolygon:function(vt,_t){for(var xt=vt.coordinates,Mt=-1,kt=xt.length;++Mt<kt;)xp(xt[Mt],_t)},GeometryCollection:function(vt,_t){for(var xt=vt.geometries,Mt=-1,kt=xt.length;++Mt<kt;)_g(xt[Mt],_t)}};function Mm(vt,_t,xt){var Mt,kt=-1,It=vt.length-xt;for(_t.lineStart();++kt<It;)Mt=vt[kt],_t.point(Mt[0],Mt[1],Mt[2]);_t.lineEnd()}function xp(vt,_t){var xt=-1,Mt=vt.length;for(_t.polygonStart();++xt<Mt;)Mm(vt[xt],_t,1);_t.polygonEnd()}Uh(),Uh();function Y0(vt){return[wp(vt[1],vt[0]),Eh(vt[2])]}function Js(vt){var _t=vt[0],xt=vt[1],Mt=ul(xt);return[Mt*ul(_t),Mt*hl(_t),hl(xt)]}function wg(vt,_t){return vt[0]*_t[0]+vt[1]*_t[1]+vt[2]*_t[2]}function Sm(vt,_t){return[vt[1]*_t[2]-vt[2]*_t[1],vt[2]*_t[0]-vt[0]*_t[2],vt[0]*_t[1]-vt[1]*_t[0]]}function G0(vt,_t){vt[0]+=_t[0],vt[1]+=_t[1],vt[2]+=_t[2]}function km(vt,_t){return[vt[0]*_t,vt[1]*_t,vt[2]*_t]}function W0(vt){var _t=bg(vt[0]*vt[0]+vt[1]*vt[1]+vt[2]*vt[2]);vt[0]/=_t,vt[1]/=_t,vt[2]/=_t}Uh();function q0(vt,_t){function xt(Mt,kt){return Mt=vt(Mt,kt),_t(Mt[0],Mt[1])}return vt.invert&&_t.invert&&(xt.invert=function(Mt,kt){return(Mt=_t.invert(Mt,kt))&&vt.invert(Mt[0],Mt[1])}),xt}function Q0(vt,_t){return[vt>os?vt-Vh:vt<-os?vt+Vh:vt,_t]}function Fy(vt){return function(_t,xt){return[(_t+=vt)>os?_t-Vh:_t<-os?_t+Vh:_t,xt]}}function X0(vt){var _t=Fy(vt);return _t.invert=Fy(-vt),_t}function Z0(vt,_t){var xt=ul(vt),Mt=hl(vt),kt=ul(_t),It=hl(_t);function Rt(Ut,Wt){var qt=ul(Wt),on=ul(Ut)*qt,Jt=hl(Ut)*qt,un=hl(Wt),En=un*xt+on*Mt;return[wp(Jt*kt-En*It,on*xt-un*Mt),Eh(En*kt+Jt*It)]}return Rt.invert=function(Ut,Wt){var qt=ul(Wt),on=ul(Ut)*qt,Jt=hl(Ut)*qt,un=hl(Wt),En=un*kt-Jt*It;return[wp(Jt*kt+un*It,on*xt+En*Mt),Eh(En*xt-on*Mt)]},Rt}function K0(vt,_t){(_t=Js(_t))[0]-=vt,W0(_t);var xt=Em(-_t[1]);return((-_t[2]<0?-xt:xt)+Vh-Vs)%Vh}function Cm(){var vt,_t=[];return{point:function(xt,Mt){vt.push([xt,Mt])},lineStart:function(){_t.push(vt=[])},lineEnd:Fd,rejoin:function(){_t.length>1&&_t.push(_t.pop().concat(_t.shift()))},result:function(){var xt=_t;return _t=[],vt=null,xt}}}function Am(vt,_t){return ac(vt[0]-_t[0])<Vs&&ac(vt[1]-_t[1])<Vs}function Sf(vt,_t,xt,Mt){this.x=vt,this.z=_t,this.o=xt,this.e=Mt,this.v=!1,this.n=this.p=null}function J0(vt,_t,xt,Mt,kt){var It,Rt,Ut=[],Wt=[];if(vt.forEach(function(Tn){if(!((In=Tn.length-1)<=0)){var In,mn,Wn=Tn[0],pr=Tn[In];if(Am(Wn,pr)){for(kt.lineStart(),It=0;It<In;++It)kt.point((Wn=Tn[It])[0],Wn[1]);kt.lineEnd()}else Ut.push(mn=new Sf(Wn,Tn,null,!0)),Wt.push(mn.o=new Sf(Wn,null,mn,!1)),Ut.push(mn=new Sf(pr,Tn,null,!1)),Wt.push(mn.o=new Sf(pr,null,mn,!0))}}),Ut.length){for(Wt.sort(_t),xg(Ut),xg(Wt),It=0,Rt=Wt.length;It<Rt;++It)Wt[It].e=xt=!xt;for(var qt,on,Jt=Ut[0];;){for(var un=Jt,En=!0;un.v;)if((un=un.n)===Jt)return;qt=un.z,kt.lineStart();do{if(un.v=un.o.v=!0,un.e){if(En)for(It=0,Rt=qt.length;It<Rt;++It)kt.point((on=qt[It])[0],on[1]);else Mt(un.x,un.n.x,1,kt);un=un.n}else{if(En)for(qt=un.p.z,It=qt.length-1;It>=0;--It)kt.point((on=qt[It])[0],on[1]);else Mt(un.x,un.p.x,-1,kt);un=un.p}qt=(un=un.o).z,En=!En}while(!un.v);kt.lineEnd()}}}function xg(vt){if(_t=vt.length){for(var _t,xt,Mt=0,kt=vt[0];++Mt<_t;)kt.n=xt=vt[Mt],xt.p=kt,kt=xt;kt.n=xt=vt[0],xt.p=kt}}function Eg(vt,_t){return vt<_t?-1:vt>_t?1:vt>=_t?0:NaN}Q0.invert=Q0;var Ep,Yh;(Ep=Eg).length===1&&(Yh=Ep,Ep=function(vt,_t){return Eg(Yh(vt),_t)});function Uy(vt){for(var _t,xt,Mt,kt=vt.length,It=-1,Rt=0;++It<kt;)Rt+=vt[It].length;for(xt=new Array(Rt);--kt>=0;)for(_t=(Mt=vt[kt]).length;--_t>=0;)xt[--Rt]=Mt[_t];return xt}var Tp=1e9,jl=-Tp;function Nm(vt,_t,xt,Mt){function kt(qt,on){return vt<=qt&&qt<=xt&&_t<=on&&on<=Mt}function It(qt,on,Jt,un){var En=0,Tn=0;if(qt==null||(En=Rt(qt,Jt))!==(Tn=Rt(on,Jt))||Wt(qt,on)<0^Jt>0)do un.point(En===0||En===3?vt:xt,En>1?Mt:_t);while((En=(En+Jt+4)%4)!==Tn);else un.point(on[0],on[1])}function Rt(qt,on){return ac(qt[0]-vt)<Vs?on>0?0:3:ac(qt[0]-xt)<Vs?on>0?2:1:ac(qt[1]-_t)<Vs?on>0?1:0:on>0?3:2}function Ut(qt,on){return Wt(qt.x,on.x)}function Wt(qt,on){var Jt=Rt(qt,1),un=Rt(on,1);return Jt!==un?Jt-un:Jt===0?on[1]-qt[1]:Jt===1?qt[0]-on[0]:Jt===2?qt[1]-on[1]:on[0]-qt[0]}return function(qt){var on,Jt,un,En,Tn,In,mn,Wn,pr,kn,Vn,Qn=qt,ir=Cm(),Jn={point:oi,lineStart:function(){Jn.point=Gr,Jt&&Jt.push(un=[]),kn=!0,pr=!1,mn=Wn=NaN},lineEnd:function(){on&&(Gr(En,Tn),In&&pr&&ir.rejoin(),on.push(ir.result())),Jn.point=oi,pr&&Qn.lineEnd()},polygonStart:function(){Qn=ir,on=[],Jt=[],Vn=!0},polygonEnd:function(){var li=function(){for(var ti=0,ei=0,Qr=Jt.length;ei<Qr;++ei)for(var ui,ni,gi=Jt[ei],zr=1,co=gi.length,$i=gi[0],Qo=$i[0],ro=$i[1];zr<co;++zr)ui=Qo,ni=ro,Qo=($i=gi[zr])[0],ro=$i[1],ni<=Mt?ro>Mt&&(Qo-ui)*(Mt-ni)>(ro-ni)*(vt-ui)&&++ti:ro<=Mt&&(Qo-ui)*(Mt-ni)<(ro-ni)*(vt-ui)&&--ti;return ti}(),qr=Vn&&li,fi=(on=Uy(on)).length;(qr||fi)&&(qt.polygonStart(),qr&&(qt.lineStart(),It(null,null,1,qt),qt.lineEnd()),fi&&J0(on,Ut,li,It,qt),qt.polygonEnd()),Qn=qt,on=Jt=un=null}};function oi(li,qr){kt(li,qr)&&Qn.point(li,qr)}function Gr(li,qr){var fi=kt(li,qr);if(Jt&&un.push([li,qr]),kn)En=li,Tn=qr,In=fi,kn=!1,fi&&(Qn.lineStart(),Qn.point(li,qr));else if(fi&&pr)Qn.point(li,qr);else{var ti=[mn=Math.max(jl,Math.min(Tp,mn)),Wn=Math.max(jl,Math.min(Tp,Wn))],ei=[li=Math.max(jl,Math.min(Tp,li)),qr=Math.max(jl,Math.min(Tp,qr))];(function(Qr,ui,ni,gi,zr,co){var $i,Qo=Qr[0],ro=Qr[1],ko=0,ma=1,ss=ui[0]-Qo,Fl=ui[1]-ro;if($i=ni-Qo,ss||!($i>0)){if($i/=ss,ss<0){if($i<ko)return;$i<ma&&(ma=$i)}else if(ss>0){if($i>ma)return;$i>ko&&(ko=$i)}if($i=zr-Qo,ss||!($i<0)){if($i/=ss,ss<0){if($i>ma)return;$i>ko&&(ko=$i)}else if(ss>0){if($i<ko)return;$i<ma&&(ma=$i)}if($i=gi-ro,Fl||!($i>0)){if($i/=Fl,Fl<0){if($i<ko)return;$i<ma&&(ma=$i)}else if(Fl>0){if($i>ma)return;$i>ko&&(ko=$i)}if($i=co-ro,Fl||!($i<0)){if($i/=Fl,Fl<0){if($i>ma)return;$i>ko&&(ko=$i)}else if(Fl>0){if($i<ko)return;$i<ma&&(ma=$i)}return ko>0&&(Qr[0]=Qo+ko*ss,Qr[1]=ro+ko*Fl),ma<1&&(ui[0]=Qo+ma*ss,ui[1]=ro+ma*Fl),!0}}}}})(ti,ei,vt,_t,xt,Mt)?(pr||(Qn.lineStart(),Qn.point(ti[0],ti[1])),Qn.point(ei[0],ei[1]),fi||Qn.lineEnd(),Vn=!1):fi&&(Qn.lineStart(),Qn.point(li,qr),Vn=!1)}mn=li,Wn=qr,pr=fi}return Jn}}var e1=Uh();Uh();function Hy(vt){return vt}Uh(),Uh();var Mp=1/0,kf=Mp,Ud=-Mp,Dm=Ud,Vy={point:function(vt,_t){vt<Mp&&(Mp=vt),vt>Ud&&(Ud=vt),_t<kf&&(kf=_t),_t>Dm&&(Dm=_t)},lineStart:Fd,lineEnd:Fd,polygonStart:Fd,polygonEnd:Fd,result:function(){var vt=[[Mp,kf],[Ud,Dm]];return Ud=Dm=-(kf=Mp=1/0),vt}};Uh();function n1(vt,_t,xt,Mt){return function(kt,It){var Rt,Ut,Wt,qt=_t(It),on=kt.invert(Mt[0],Mt[1]),Jt=Cm(),un=_t(Jt),En=!1,Tn={point:In,lineStart:Wn,lineEnd:pr,polygonStart:function(){Tn.point=kn,Tn.lineStart=Vn,Tn.lineEnd=Qn,Ut=[],Rt=[]},polygonEnd:function(){Tn.point=In,Tn.lineStart=Wn,Tn.lineEnd=pr,Ut=Uy(Ut);var ir=function(Jn,oi){var Gr=oi[0],li=oi[1],qr=[hl(Gr),-ul(Gr),0],fi=0,ti=0;e1.reset();for(var ei=0,Qr=Jn.length;ei<Qr;++ei)if(ni=(ui=Jn[ei]).length)for(var ui,ni,gi=ui[ni-1],zr=gi[0],co=gi[1]/2+jy,$i=hl(co),Qo=ul(co),ro=0;ro<ni;++ro,zr=ma,$i=Fl,Qo=Mg,gi=ko){var ko=ui[ro],ma=ko[0],ss=ko[1]/2+jy,Fl=hl(ss),Mg=ul(ss),Hd=ma-zr,Sg=Hd>=0?1:-1,kg=Sg*Hd,Sp=kg>os,Lm=$i*Fl;if(e1.add(wp(Lm*Sg*hl(kg),Qo*Mg+Lm*ul(kg))),fi+=Sp?Hd+Sg*Vh:Hd,Sp^zr>=Gr^ma>=Gr){var kp=Sm(Js(gi),Js(ko));W0(kp);var rv=Sm(qr,kp);W0(rv);var iv=(Sp^Hd>=0?-1:1)*Eh(rv[2]);(li>iv||li===iv&&(kp[0]||kp[1]))&&(ti+=Sp^Hd>=0?1:-1)}}return(fi<-1e-6||fi<Vs&&e1<-1e-6)^1&ti}(Rt,on);Ut.length?(En||(It.polygonStart(),En=!0),J0(Ut,r1,ir,xt,It)):ir&&(En||(It.polygonStart(),En=!0),It.lineStart(),xt(null,null,1,It),It.lineEnd()),En&&(It.polygonEnd(),En=!1),Ut=Rt=null},sphere:function(){It.polygonStart(),It.lineStart(),xt(null,null,1,It),It.lineEnd(),It.polygonEnd()}};function In(ir,Jn){var oi=kt(ir,Jn);vt(ir=oi[0],Jn=oi[1])&&It.point(ir,Jn)}function mn(ir,Jn){var oi=kt(ir,Jn);qt.point(oi[0],oi[1])}function Wn(){Tn.point=mn,qt.lineStart()}function pr(){Tn.point=In,qt.lineEnd()}function kn(ir,Jn){Wt.push([ir,Jn]);var oi=kt(ir,Jn);un.point(oi[0],oi[1])}function Vn(){un.lineStart(),Wt=[]}function Qn(){kn(Wt[0][0],Wt[0][1]),un.lineEnd();var ir,Jn,oi,Gr,li=un.clean(),qr=Jt.result(),fi=qr.length;if(Wt.pop(),Rt.push(Wt),Wt=null,fi)if(1&li){if((Jn=(oi=qr[0]).length-1)>0){for(En||(It.polygonStart(),En=!0),It.lineStart(),ir=0;ir<Jn;++ir)It.point((Gr=oi[ir])[0],Gr[1]);It.lineEnd()}}else fi>1&&2&li&&qr.push(qr.pop().concat(qr.shift())),Ut.push(qr.filter(Yy))}return Tn}}function Yy(vt){return vt.length>1}function r1(vt,_t){return((vt=vt.x)[0]<0?vt[1]-Hh-Vs:Hh-vt[1])-((_t=_t.x)[0]<0?_t[1]-Hh-Vs:Hh-_t[1])}var i1=n1(function(){return!0},function(vt){var _t,xt=NaN,Mt=NaN,kt=NaN;return{lineStart:function(){vt.lineStart(),_t=1},point:function(It,Rt){var Ut=It>0?os:-os,Wt=ac(It-xt);ac(Wt-os)<Vs?(vt.point(xt,Mt=(Mt+Rt)/2>0?Hh:-Hh),vt.point(kt,Mt),vt.lineEnd(),vt.lineStart(),vt.point(Ut,Mt),vt.point(It,Mt),_t=0):kt!==Ut&&Wt>=os&&(ac(xt-kt)<Vs&&(xt-=kt*Vs),ac(It-Ut)<Vs&&(It-=Ut*Vs),Mt=function(qt,on,Jt,un){var En,Tn,In=hl(qt-Jt);return ac(In)>Vs?ub((hl(on)*(Tn=ul(un))*hl(Jt)-hl(un)*(En=ul(on))*hl(qt))/(En*Tn*In)):(on+un)/2}(xt,Mt,It,Rt),vt.point(kt,Mt),vt.lineEnd(),vt.lineStart(),vt.point(Ut,Mt),_t=0),vt.point(xt=It,Mt=Rt),kt=Ut},lineEnd:function(){vt.lineEnd(),xt=Mt=NaN},clean:function(){return 2-_t}}},function(vt,_t,xt,Mt){var kt;if(vt==null)kt=xt*Hh,Mt.point(-os,kt),Mt.point(0,kt),Mt.point(os,kt),Mt.point(os,0),Mt.point(os,-kt),Mt.point(0,-kt),Mt.point(-os,-kt),Mt.point(-os,0),Mt.point(-os,kt);else if(ac(vt[0]-_t[0])>Vs){var It=vt[0]<_t[0]?os:-os;kt=xt*It/2,Mt.point(-It,kt),Mt.point(0,kt),Mt.point(It,kt)}else Mt.point(_t[0],_t[1])},[-os,-Hh]);function Im(vt,_t){var xt=ul(vt),Mt=xt>0,kt=ac(xt)>Vs;function It(Wt,qt){return ul(Wt)*ul(qt)>xt}function Rt(Wt,qt,on){var Jt=[1,0,0],un=Sm(Js(Wt),Js(qt)),En=wg(un,un),Tn=un[0],In=En-Tn*Tn;if(!In)return!on&&Wt;var mn=xt*En/In,Wn=-xt*Tn/In,pr=Sm(Jt,un),kn=km(Jt,mn);G0(kn,km(un,Wn));var Vn=pr,Qn=wg(kn,Vn),ir=wg(Vn,Vn),Jn=Qn*Qn-ir*(wg(kn,kn)-1);if(!(Jn<0)){var oi=bg(Jn),Gr=km(Vn,(-Qn-oi)/ir);if(G0(Gr,kn),Gr=Y0(Gr),!on)return Gr;var li,qr=Wt[0],fi=qt[0],ti=Wt[1],ei=qt[1];fi<qr&&(li=qr,qr=fi,fi=li);var Qr=fi-qr,ui=ac(Qr-os)<Vs;if(!ui&&ei<ti&&(li=ti,ti=ei,ei=li),ui||Qr<Vs?ui?ti+ei>0^Gr[1]<(ac(Gr[0]-qr)<Vs?ti:ei):ti<=Gr[1]&&Gr[1]<=ei:Qr>os^(qr<=Gr[0]&&Gr[0]<=fi)){var ni=km(Vn,(-Qn+oi)/ir);return G0(ni,kn),[Gr,Y0(ni)]}}}function Ut(Wt,qt){var on=Mt?vt:os-vt,Jt=0;return Wt<-on?Jt|=1:Wt>on&&(Jt|=2),qt<-on?Jt|=4:qt>on&&(Jt|=8),Jt}return n1(It,function(Wt){var qt,on,Jt,un,En;return{lineStart:function(){un=Jt=!1,En=1},point:function(Tn,In){var mn,Wn=[Tn,In],pr=It(Tn,In),kn=Mt?pr?0:Ut(Tn,In):pr?Ut(Tn+(Tn<0?os:-os),In):0;if(!qt&&(un=Jt=pr)&&Wt.lineStart(),pr!==Jt&&(!(mn=Rt(qt,Wn))||Am(qt,mn)||Am(Wn,mn))&&(Wn[0]+=Vs,Wn[1]+=Vs,pr=It(Wn[0],Wn[1])),pr!==Jt)En=0,pr?(Wt.lineStart(),mn=Rt(Wn,qt),Wt.point(mn[0],mn[1])):(mn=Rt(qt,Wn),Wt.point(mn[0],mn[1]),Wt.lineEnd()),qt=mn;else if(kt&&qt&&Mt^pr){var Vn;kn&on||!(Vn=Rt(Wn,qt,!0))||(En=0,Mt?(Wt.lineStart(),Wt.point(Vn[0][0],Vn[0][1]),Wt.point(Vn[1][0],Vn[1][1]),Wt.lineEnd()):(Wt.point(Vn[1][0],Vn[1][1]),Wt.lineEnd(),Wt.lineStart(),Wt.point(Vn[0][0],Vn[0][1])))}!pr||qt&&Am(qt,Wn)||Wt.point(Wn[0],Wn[1]),qt=Wn,Jt=pr,on=kn},lineEnd:function(){Jt&&Wt.lineEnd(),qt=null},clean:function(){return En|(un&&Jt)<<1}}},function(Wt,qt,on,Jt){(function(un,En,Tn,In,mn,Wn){if(Tn){var pr=ul(En),kn=hl(En),Vn=In*Tn;mn==null?(mn=En+In*Vh,Wn=En-Vn/2):(mn=K0(pr,mn),Wn=K0(pr,Wn),(In>0?mn<Wn:mn>Wn)&&(mn+=In*Vh));for(var Qn,ir=mn;In>0?ir>Wn:ir<Wn;ir-=Vn)Qn=Y0([pr,-kn*ul(ir),-kn*hl(ir)]),un.point(Qn[0],Qn[1])}})(Jt,vt,_t,on,Wt,qt)},Mt?[0,-vt]:[-os,vt-os])}function Gy(vt){return function(_t){var xt=new o1;for(var Mt in vt)xt[Mt]=vt[Mt];return xt.stream=_t,xt}}function o1(){}function Tg(vt,_t,xt){var Mt=_t[1][0]-_t[0][0],kt=_t[1][1]-_t[0][1],It=vt.clipExtent&&vt.clipExtent();vt.scale(150).translate([0,0]),It!=null&&vt.clipExtent(null),function(on,Jt){on&&Tm.hasOwnProperty(on.type)?Tm[on.type](on,Jt):_g(on,Jt)}(xt,vt.stream(Vy));var Rt=Vy.result(),Ut=Math.min(Mt/(Rt[1][0]-Rt[0][0]),kt/(Rt[1][1]-Rt[0][1])),Wt=+_t[0][0]+(Mt-Ut*(Rt[1][0]+Rt[0][0]))/2,qt=+_t[0][1]+(kt-Ut*(Rt[1][1]+Rt[0][1]))/2;return It!=null&&vt.clipExtent(It),vt.scale(150*Ut).translate([Wt,qt])}o1.prototype={constructor:o1,point:function(vt,_t){this.stream.point(vt,_t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var hb=ul(30*lu);function Wy(vt,_t){return+_t?function(xt,Mt){function kt(It,Rt,Ut,Wt,qt,on,Jt,un,En,Tn,In,mn,Wn,pr){var kn=Jt-It,Vn=un-Rt,Qn=kn*kn+Vn*Vn;if(Qn>4*Mt&&Wn--){var ir=Wt+Tn,Jn=qt+In,oi=on+mn,Gr=bg(ir*ir+Jn*Jn+oi*oi),li=Eh(oi/=Gr),qr=ac(ac(oi)-1)<Vs||ac(Ut-En)<Vs?(Ut+En)/2:wp(Jn,ir),fi=xt(qr,li),ti=fi[0],ei=fi[1],Qr=ti-It,ui=ei-Rt,ni=Vn*Qr-kn*ui;(ni*ni/Qn>Mt||ac((kn*Qr+Vn*ui)/Qn-.5)>.3||Wt*Tn+qt*In+on*mn<hb)&&(kt(It,Rt,Ut,Wt,qt,on,ti,ei,qr,ir/=Gr,Jn/=Gr,oi,Wn,pr),pr.point(ti,ei),kt(ti,ei,qr,ir,Jn,oi,Jt,un,En,Tn,In,mn,Wn,pr))}}return function(It){var Rt,Ut,Wt,qt,on,Jt,un,En,Tn,In,mn,Wn,pr={point:kn,lineStart:Vn,lineEnd:ir,polygonStart:function(){It.polygonStart(),pr.lineStart=Jn},polygonEnd:function(){It.polygonEnd(),pr.lineStart=Vn}};function kn(li,qr){li=xt(li,qr),It.point(li[0],li[1])}function Vn(){En=NaN,pr.point=Qn,It.lineStart()}function Qn(li,qr){var fi=Js([li,qr]),ti=xt(li,qr);kt(En,Tn,un,In,mn,Wn,En=ti[0],Tn=ti[1],un=li,In=fi[0],mn=fi[1],Wn=fi[2],16,It),It.point(En,Tn)}function ir(){pr.point=kn,It.lineEnd()}function Jn(){Vn(),pr.point=oi,pr.lineEnd=Gr}function oi(li,qr){Qn(Rt=li,qr),Ut=En,Wt=Tn,qt=In,on=mn,Jt=Wn,pr.point=Qn}function Gr(){kt(En,Tn,un,In,mn,Wn,Ut,Wt,Rt,qt,on,Jt,16,It),pr.lineEnd=ir,ir()}return pr}}(vt,_t):function(xt){return Gy({point:function(Mt,kt){Mt=xt(Mt,kt),this.stream.point(Mt[0],Mt[1])}})}(vt)}var qy=Gy({point:function(vt,_t){this.stream.point(vt*lu,_t*lu)}});function db(vt){return function(_t){var xt,Mt,kt,It,Rt,Ut,Wt,qt,on,Jt,un=150,En=480,Tn=250,In=0,mn=0,Wn=0,pr=0,kn=0,Vn=null,Qn=i1,ir=null,Jn=Hy,oi=.5,Gr=Wy(fi,oi);function li(Qr){return[(Qr=Rt(Qr[0]*lu,Qr[1]*lu))[0]*un+Mt,kt-Qr[1]*un]}function qr(Qr){return(Qr=Rt.invert((Qr[0]-Mt)/un,(kt-Qr[1])/un))&&[Qr[0]*Io,Qr[1]*Io]}function fi(Qr,ui){return[(Qr=xt(Qr,ui))[0]*un+Mt,kt-Qr[1]*un]}function ti(){Rt=q0(It=function(ui,ni,gi){return(ui%=Vh)?ni||gi?q0(X0(ui),Z0(ni,gi)):X0(ui):ni||gi?Z0(ni,gi):Q0}(Wn,pr,kn),xt);var Qr=xt(In,mn);return Mt=En-Qr[0]*un,kt=Tn+Qr[1]*un,ei()}function ei(){return on=Jt=null,li}return li.stream=function(Qr){return on&&Jt===Qr?on:on=qy(Qn(It,Gr(Jn(Jt=Qr))))},li.clipAngle=function(Qr){return arguments.length?(Qn=+Qr?Im(Vn=Qr*lu,6*lu):(Vn=null,i1),ei()):Vn*Io},li.clipExtent=function(Qr){return arguments.length?(Jn=Qr==null?(ir=Ut=Wt=qt=null,Hy):Nm(ir=+Qr[0][0],Ut=+Qr[0][1],Wt=+Qr[1][0],qt=+Qr[1][1]),ei()):ir==null?null:[[ir,Ut],[Wt,qt]]},li.scale=function(Qr){return arguments.length?(un=+Qr,ti()):un},li.translate=function(Qr){return arguments.length?(En=+Qr[0],Tn=+Qr[1],ti()):[En,Tn]},li.center=function(Qr){return arguments.length?(In=Qr[0]%360*lu,mn=Qr[1]%360*lu,ti()):[In*Io,mn*Io]},li.rotate=function(Qr){return arguments.length?(Wn=Qr[0]%360*lu,pr=Qr[1]%360*lu,kn=Qr.length>2?Qr[2]%360*lu:0,ti()):[Wn*Io,pr*Io,kn*Io]},li.precision=function(Qr){return arguments.length?(Gr=Wy(fi,oi=Qr*Qr),ei()):bg(oi)},li.fitExtent=function(Qr,ui){return Tg(li,Qr,ui)},li.fitSize=function(Qr,ui){return function(ni,gi,zr){return Tg(ni,[[0,0],gi],zr)}(li,Qr,ui)},function(){return xt=_t.apply(this,arguments),li.invert=xt.invert&&qr,ti()}}(function(){return vt})()}var a1=function(vt){return function(_t,xt){var Mt=ul(_t),kt=ul(xt),It=vt(Mt*kt);return[It*kt*hl(_t),It*hl(xt)]}}(function(vt){return(vt=Em(vt))&&vt/hl(vt)});function fb(){return db(a1).scale(79.4188).clipAngle(179.999)}function Cf(vt,_t,xt,Mt){var kt=vt.properties||{},It=vt.type==="Feature"?vt.geometry:vt;if(It.type==="GeometryCollection"){var Rt=[];return vr(vt,function(un){var En=Cf(un,_t,xt,Mt);En&&Rt.push(En)}),Bt(Rt)}var Ut=function(un){var En=Ga(un).geometry.coordinates,Tn=[-En[0],-En[1]];return fb().rotate(Tn).scale(rt)}(It),Wt={type:It.type,coordinates:Xy(It.coordinates,Ut)},qt=new hm().read(Wt),on=nn(Kt(_t,xt),"meters"),Jt=us.bufferOp(qt,on,Mt);if(!Qy((Jt=new Ny().write(Jt)).coordinates))return wt({type:Jt.type,coordinates:Zy(Jt.coordinates,Ut)},kt)}function Qy(vt){return Array.isArray(vt[0])?Qy(vt[0]):isNaN(vt[0])}function Xy(vt,_t){return typeof vt[0]!="object"?_t(vt):vt.map(function(xt){return Xy(xt,_t)})}function Zy(vt,_t){return typeof vt[0]!="object"?_t.invert(vt):vt.map(function(xt){return Zy(xt,_t)})}function Af(vt,_t,xt){xt===void 0&&(xt={});var Mt=Kn(vt),kt=Kn(_t),It=rd.intersection(Mt.coordinates,kt.coordinates);return It.length===0?null:It.length===1?Dt(It[0],xt.properties):Ht(It,xt.properties)}function Ky(vt,_t,xt){xt===void 0&&(xt={});var Mt=JSON.stringify(xt.properties||{}),kt=vt[0],It=vt[1],Rt=vt[2],Ut=vt[3],Wt=(It+Ut)/2,qt=(kt+Rt)/2,on=2*_t/To([kt,Wt],[Rt,Wt],xt)*(Rt-kt),Jt=2*_t/To([qt,It],[qt,Ut],xt)*(Ut-It),un=on/2,En=2*un,Tn=Math.sqrt(3)/2*Jt,In=Rt-kt,mn=Ut-It,Wn=3/4*En,pr=Tn,kn=(In-En)/(En-un/2),Vn=Math.floor(kn),Qn=(Vn*Wn-un/2-In)/2-un/2+Wn/2,ir=Math.floor((mn-Tn)/Tn),Jn=(mn-ir*Tn)/2,oi=ir*Tn-mn>Tn/2;oi&&(Jn-=Tn/4);for(var Gr=[],li=[],qr=0;qr<6;qr++){var fi=2*Math.PI/6*qr;Gr.push(Math.cos(fi)),li.push(Math.sin(fi))}for(var ti=[],ei=0;ei<=Vn;ei++)for(var Qr=0;Qr<=ir;Qr++){var ui=ei%2==1;if((Qr!==0||!ui)&&(Qr!==0||!oi)){var ni=ei*Wn+kt-Qn,gi=Qr*pr+It+Jn;if(ui&&(gi-=Tn/2),xt.triangles===!0)ev([ni,gi],on/2,Jt/2,JSON.parse(Mt),Gr,li).forEach(function(co){xt.mask?Af(xt.mask,co)&&ti.push(co):ti.push(co)});else{var zr=Jy([ni,gi],on/2,Jt/2,JSON.parse(Mt),Gr,li);xt.mask?Af(xt.mask,zr)&&ti.push(zr):ti.push(zr)}}}return Bt(ti)}function Jy(vt,_t,xt,Mt,kt,It){for(var Rt=[],Ut=0;Ut<6;Ut++){var Wt=vt[0]+_t*kt[Ut],qt=vt[1]+xt*It[Ut];Rt.push([Wt,qt])}return Rt.push(Rt[0].slice()),Dt([Rt],Mt)}function ev(vt,_t,xt,Mt,kt,It){for(var Rt=[],Ut=0;Ut<6;Ut++){var Wt=[];Wt.push(vt),Wt.push([vt[0]+_t*kt[Ut],vt[1]+xt*It[Ut]]),Wt.push([vt[0]+_t*kt[(Ut+1)%6],vt[1]+xt*It[(Ut+1)%6]]),Wt.push(vt),Rt.push(Dt([Wt],Mt))}return Rt}function tv(vt){return Ht(vt)}function pb(vt){return Dt(vt&&vt.geometry.coordinates||[[[180,90],[-180,90],[-180,-90],[180,-90],[180,90]]])}function nv(vt,_t,xt){return xt===void 0&&(xt={}),function(Mt,kt,It,Rt){Rt===void 0&&(Rt={});for(var Ut=[],Wt=Mt[0],qt=Mt[1],on=Mt[2],Jt=Mt[3],un=kt/To([Wt,qt],[on,qt],Rt)*(on-Wt),En=It/To([Wt,qt],[Wt,Jt],Rt)*(Jt-qt),Tn=on-Wt,In=Jt-qt,mn=Math.floor(Tn/un),Wn=Math.floor(In/En),pr=(In-Wn*En)/2,kn=Wt+(Tn-mn*un)/2,Vn=0;Vn<mn;Vn++){for(var Qn=qt+pr,ir=0;ir<Wn;ir++){var Jn=Dt([[[kn,Qn],[kn,Qn+En],[kn+un,Qn+En],[kn+un,Qn],[kn,Qn]]],Rt.properties);Rt.mask?M1(Rt.mask,Jn)&&Ut.push(Jn):Ut.push(Jn),Qn+=En}kn+=un}return Bt(Ut)}(vt,_t,_t,xt)}function s1(vt,_t,xt){xt===void 0&&(xt={});for(var Mt=[],kt=_t/To([vt[0],vt[1]],[vt[2],vt[1]],xt)*(vt[2]-vt[0]),It=_t/To([vt[0],vt[1]],[vt[0],vt[3]],xt)*(vt[3]-vt[1]),Rt=0,Ut=vt[0];Ut<=vt[2];){for(var Wt=0,qt=vt[1];qt<=vt[3];){var on=null,Jt=null;Rt%2==0&&Wt%2==0?(on=Dt([[[Ut,qt],[Ut,qt+It],[Ut+kt,qt],[Ut,qt]]],xt.properties),Jt=Dt([[[Ut,qt+It],[Ut+kt,qt+It],[Ut+kt,qt],[Ut,qt+It]]],xt.properties)):Rt%2==0&&Wt%2==1?(on=Dt([[[Ut,qt],[Ut+kt,qt+It],[Ut+kt,qt],[Ut,qt]]],xt.properties),Jt=Dt([[[Ut,qt],[Ut,qt+It],[Ut+kt,qt+It],[Ut,qt]]],xt.properties)):Wt%2==0&&Rt%2==1?(on=Dt([[[Ut,qt],[Ut,qt+It],[Ut+kt,qt+It],[Ut,qt]]],xt.properties),Jt=Dt([[[Ut,qt],[Ut+kt,qt+It],[Ut+kt,qt],[Ut,qt]]],xt.properties)):Wt%2==1&&Rt%2==1&&(on=Dt([[[Ut,qt],[Ut,qt+It],[Ut+kt,qt],[Ut,qt]]],xt.properties),Jt=Dt([[[Ut,qt+It],[Ut+kt,qt+It],[Ut+kt,qt],[Ut,qt+It]]],xt.properties)),xt.mask?(Af(xt.mask,on)&&Mt.push(on),Af(xt.mask,Jt)&&Mt.push(Jt)):(Mt.push(on),Mt.push(Jt)),qt+=It,Wt++}Rt++,Ut+=kt}return Bt(Mt)}a1.invert=function(vt){return function(_t,xt){var Mt=bg(_t*_t+xt*xt),kt=vt(Mt),It=hl(kt),Rt=ul(kt);return[wp(_t*It,Mt*Rt),Eh(Mt&&xt*It/Mt)]}}(function(vt){return vt}),nt.along=function(vt,_t,xt){xt===void 0&&(xt={});for(var Mt=Kn(vt).coordinates,kt=0,It=0;It<Mt.length&&!(_t>=kt&&It===Mt.length-1);It++){if(kt>=_t){var Rt=_t-kt;if(Rt){var Ut=nl(Mt[It],Mt[It-1])-180;return ya(Mt[It],Rt,Ut,xt)}return Tt(Mt[It])}kt+=To(Mt[It],Mt[It+1],xt)}return Tt(Mt[Mt.length-1])},nt.angle=function(vt,_t,xt,Mt){if(Mt===void 0&&(Mt={}),!gn(Mt))throw new Error("options is invalid");if(!vt)throw new Error("startPoint is required");if(!_t)throw new Error("midPoint is required");if(!xt)throw new Error("endPoint is required");var kt=vt,It=_t,Rt=xt,Ut=sn(Mt.mercator!==!0?nl(kt,It):nf(kt,It)),Wt=sn(Mt.mercator!==!0?nl(Rt,It):nf(Rt,It)),qt=Math.abs(Ut-Wt);return Mt.explementary===!0?360-qt:qt},nt.applyFilter=Kg,nt.area=Zd,nt.areaFactors=bt,nt.bbox=vn,nt.bboxClip=function(vt,_t){var xt=Kn(vt),Mt=xt.type,kt=vt.type==="Feature"?vt.properties:{},It=xt.coordinates;switch(Mt){case"LineString":case"MultiLineString":var Rt=[];return Mt==="LineString"&&(It=[It]),It.forEach(function(Ut){(function(Wt,qt,on){var Jt,un,En,Tn,In,mn=Wt.length,Wn=xs(Wt[0],qt),pr=[];for(on||(on=[]),Jt=1;Jt<mn;Jt++){for(Tn=Wt[Jt-1],un=En=xs(In=Wt[Jt],qt);;){if(!(Wn|un)){pr.push(Tn),un!==En?(pr.push(In),Jt<mn-1&&(on.push(pr),pr=[])):Jt===mn-1&&pr.push(In);break}if(Wn&un)break;Wn?Wn=xs(Tn=Uf(Tn,In,Wn,qt),qt):un=xs(In=Uf(Tn,In,un,qt),qt)}Wn=En}pr.length&&on.push(pr)})(Ut,_t,Rt)}),Rt.length===1?zt(Rt[0],kt):Yt(Rt,kt);case"Polygon":return Dt(tf(It,_t),kt);case"MultiPolygon":return Ht(It.map(function(Ut){return tf(Ut,_t)}),kt);default:throw new Error("geometry "+Mt+" not supported")}},nt.bboxPolygon=Sh,nt.bearing=nl,nt.bearingToAngle=sn,nt.bearingToAzimuth=sn,nt.bezier=Yl,nt.bezierSpline=Yl,nt.booleanClockwise=Fp,nt.booleanContains=function(vt,_t){var xt=Kn(vt),Mt=Kn(_t),kt=xt.type,It=Mt.type,Rt=xt.coordinates,Ut=Mt.coordinates;switch(kt){case"Point":switch(It){case"Point":return o0(Rt,Ut);default:throw new Error("feature2 "+It+" geometry not supported")}case"MultiPoint":switch(It){case"Point":return function(Wt,qt){var on,Jt=!1;for(on=0;on<Wt.coordinates.length;on++)if(o0(Wt.coordinates[on],qt.coordinates)){Jt=!0;break}return Jt}(xt,Mt);case"MultiPoint":return function(Wt,qt){for(var on=0,Jt=qt.coordinates;on<Jt.length;on++){for(var un=Jt[on],En=!1,Tn=0,In=Wt.coordinates;Tn<In.length;Tn++)if(o0(un,In[Tn])){En=!0;break}if(!En)return!1}return!0}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"LineString":switch(It){case"Point":return Wl(Mt,xt,{ignoreEndVertices:!0});case"LineString":return function(Wt,qt){for(var on=!1,Jt=0,un=qt.coordinates;Jt<un.length;Jt++){var En=un[Jt];if(Wl({type:"Point",coordinates:En},Wt,{ignoreEndVertices:!0})&&(on=!0),!Wl({type:"Point",coordinates:En},Wt,{ignoreEndVertices:!1}))return!1}return on}(xt,Mt);case"MultiPoint":return function(Wt,qt){for(var on=!1,Jt=0,un=qt.coordinates;Jt<un.length;Jt++){var En=un[Jt];if(Wl(En,Wt,{ignoreEndVertices:!0})&&(on=!0),!Wl(En,Wt))return!1}return!!on}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"Polygon":switch(It){case"Point":return xo(Mt,xt,{ignoreBoundary:!0});case"LineString":return function(Wt,qt){var on=!1,Jt=0,un=vn(Wt),En=vn(qt);if(!w1(un,En))return!1;for(;Jt<qt.coordinates.length-1;Jt++)if(xo({type:"Point",coordinates:Tv(qt.coordinates[Jt],qt.coordinates[Jt+1])},Wt,{ignoreBoundary:!0})){on=!0;break}return on}(xt,Mt);case"Polygon":return function(Wt,qt){if(Wt.type==="Feature"&&Wt.geometry===null||qt.type==="Feature"&&qt.geometry===null)return!1;var on=vn(Wt),Jt=vn(qt);if(!w1(on,Jt))return!1;for(var un=Kn(qt).coordinates,En=0,Tn=un;En<Tn.length;En++)for(var In=0,mn=Tn[En];In<mn.length;In++)if(!xo(mn[In],Wt))return!1;return!0}(xt,Mt);case"MultiPoint":return function(Wt,qt){for(var on=0,Jt=qt.coordinates;on<Jt.length;on++)if(!xo(Jt[on],Wt,{ignoreBoundary:!0}))return!1;return!0}(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}default:throw new Error("feature1 "+kt+" geometry not supported")}},nt.booleanCrosses=function(vt,_t){var xt=Kn(vt),Mt=Kn(_t),kt=xt.type,It=Mt.type;switch(kt){case"MultiPoint":switch(It){case"LineString":return x1(xt,Mt);case"Polygon":return a0(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"LineString":switch(It){case"MultiPoint":return x1(Mt,xt);case"LineString":return function(Rt,Ut){if(Rl(Rt,Ut).features.length>0)for(var Wt=0;Wt<Rt.coordinates.length-1;Wt++)for(var qt=0;qt<Ut.coordinates.length-1;qt++){var on=!0;if(qt!==0&&qt!==Ut.coordinates.length-2||(on=!1),T1(Rt.coordinates[Wt],Rt.coordinates[Wt+1],Ut.coordinates[qt],on))return!0}return!1}(xt,Mt);case"Polygon":return E1(xt,Mt);default:throw new Error("feature2 "+It+" geometry not supported")}case"Polygon":switch(It){case"MultiPoint":return a0(Mt,xt);case"LineString":return E1(Mt,xt);default:throw new Error("feature2 "+It+" geometry not supported")}default:throw new Error("feature1 "+kt+" geometry not supported")}},nt.booleanDisjoint=i0,nt.booleanEqual=function(vt,_t){return Kn(vt).type===Kn(_t).type&&new s0({precision:6}).compare(Ol(vt),Ol(_t))},nt.booleanIntersects=M1,nt.booleanOverlap=function(vt,_t){var xt=Kn(vt),Mt=Kn(_t),kt=xt.type,It=Mt.type;if(kt==="MultiPoint"&&It!=="MultiPoint"||(kt==="LineString"||kt==="MultiLineString")&&It!=="LineString"&&It!=="MultiLineString"||(kt==="Polygon"||kt==="MultiPolygon")&&It!=="Polygon"&&It!=="MultiPolygon")throw new Error("features must be of the same type");if(kt==="Point")throw new Error("Point geometry not supported");if(new s0({precision:6}).compare(vt,_t))return!1;var Rt=0;switch(kt){case"MultiPoint":for(var Ut=0;Ut<xt.coordinates.length;Ut++)for(var Wt=0;Wt<Mt.coordinates.length;Wt++){var qt=xt.coordinates[Ut],on=Mt.coordinates[Wt];if(qt[0]===on[0]&&qt[1]===on[1])return!0}return!1;case"LineString":case"MultiLineString":tr(vt,function(Jt){tr(_t,function(un){Sd(Jt,un).features.length&&Rt++})});break;case"Polygon":case"MultiPolygon":tr(vt,function(Jt){tr(_t,function(un){Rl(Jt,un).features.length&&Rt++})})}return Rt>0},nt.booleanParallel=function(vt,_t){if(!vt)throw new Error("line1 is required");if(!_t)throw new Error("line2 is required");if(h0(vt,"line1")!=="LineString")throw new Error("line1 must be a LineString");if(h0(_t,"line2")!=="LineString")throw new Error("line2 must be a LineString");for(var xt=Kr(Ol(vt)).features,Mt=Kr(Ol(_t)).features,kt=0;kt<xt.length;kt++){var It=xt[kt].geometry.coordinates;if(!Mt[kt])break;if(!Gg(It,Mt[kt].geometry.coordinates))return!1}return!0},nt.booleanPointInPolygon=xo,nt.booleanPointOnLine=Wl,nt.booleanWithin=Lp,nt.buffer=function(vt,_t,xt){var Mt=(xt=xt||{}).units||"kilometers",kt=xt.steps||8;if(!vt)throw new Error("geojson is required");if(typeof xt!="object")throw new Error("options must be an object");if(typeof kt!="number")throw new Error("steps must be an number");if(_t===void 0)throw new Error("radius is required");if(kt<=0)throw new Error("steps must be greater than 0");var It=[];switch(vt.type){case"GeometryCollection":return vr(vt,function(Rt){var Ut=Cf(Rt,_t,Mt,kt);Ut&&It.push(Ut)}),Bt(It);case"FeatureCollection":return Gn(vt,function(Rt){var Ut=Cf(Rt,_t,Mt,kt);Ut&&Gn(Ut,function(Wt){Wt&&It.push(Wt)})}),Bt(It)}return Cf(vt,_t,Mt,kt)},nt.center=Ga,nt.centerMean=y0,nt.centerMedian=function(vt,_t){if(_t===void 0&&(_t={}),!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.counter||10;if(!Dn(xt))throw new Error("counter must be a number");var Mt=_t.weight,kt=y0(vt,{weight:_t.weight}),It=Bt([]);Gn(vt,function(Ut){var Wt;It.features.push(wl(Ut,{properties:{weight:(Wt=Ut.properties)===null||Wt===void 0?void 0:Wt[Mt]}}))});var Rt={tolerance:_t.tolerance,medianCandidates:[]};return U1(kt.geometry.coordinates,[0,0],It,Rt,xt)},nt.centerOfMass=function vt(_t,xt){switch(xt===void 0&&(xt={}),gr(_t)){case"Point":return Tt(hn(_t),xt.properties);case"Polygon":var Mt=[];xn(_t,function(Vn){Mt.push(Vn)});var kt,It,Rt,Ut,Wt,qt,on,Jt,un=wl(_t,{properties:xt.properties}),En=un.geometry.coordinates,Tn=0,In=0,mn=0,Wn=Mt.map(function(Vn){return[Vn[0]-En[0],Vn[1]-En[1]]});for(kt=0;kt<Mt.length-1;kt++)Ut=(It=Wn[kt])[0],qt=It[1],Wt=(Rt=Wn[kt+1])[0],mn+=Jt=Ut*(on=Rt[1])-Wt*qt,Tn+=(Ut+Wt)*Jt,In+=(qt+on)*Jt;if(mn===0)return un;var pr=1/(6*(.5*mn));return Tt([En[0]+pr*Tn,En[1]+pr*In],xt.properties);default:var kn=Vo(_t);return kn?vt(kn,{properties:xt.properties}):wl(_t,{properties:xt.properties})}},nt.centroid=wl,nt.circle=_c,nt.cleanCoords=Ol,nt.clone=Wo,nt.clusterEach=b0,nt.clusterReduce=Zg,nt.clusters=qv,nt.clustersDbscan=function(vt,_t,xt){xt===void 0&&(xt={}),xt.mutate!==!0&&(vt=Wo(vt)),xt.minPoints=xt.minPoints||3;var Mt=new Av.DBSCAN,kt=Mt.run(ur(vt),Mn(_t,xt.units),xt.minPoints,To),It=-1;return kt.forEach(function(Rt){It++,Rt.forEach(function(Ut){var Wt=vt.features[Ut];Wt.properties||(Wt.properties={}),Wt.properties.cluster=It,Wt.properties.dbscan="core"})}),Mt.noise.forEach(function(Rt){var Ut=vt.features[Rt];Ut.properties||(Ut.properties={}),Ut.properties.cluster?Ut.properties.dbscan="edge":Ut.properties.dbscan="noise"}),vt},nt.clustersKmeans=function(vt,_t){_t===void 0&&(_t={});var xt=vt.features.length;_t.numberOfClusters=_t.numberOfClusters||Math.round(Math.sqrt(xt/2)),_t.numberOfClusters>xt&&(_t.numberOfClusters=xt),_t.mutate!==!0&&(vt=Wo(vt));var Mt=ur(vt),kt=Mt.slice(0,_t.numberOfClusters),It=u0(Mt,_t.numberOfClusters,kt),Rt={};return It.centroids.forEach(function(Ut,Wt){Rt[Wt]=Ut}),Gn(vt,function(Ut,Wt){var qt=It.idxs[Wt];Ut.properties.cluster=qt,Ut.properties.centroid=Rt[qt]}),vt},nt.collect=function(vt,_t,xt,Mt){var kt=Br(6),It=_t.features.map(function(Rt){var Ut;return{minX:Rt.geometry.coordinates[0],minY:Rt.geometry.coordinates[1],maxX:Rt.geometry.coordinates[0],maxY:Rt.geometry.coordinates[1],property:(Ut=Rt.properties)===null||Ut===void 0?void 0:Ut[xt]}});return kt.load(It),vt.features.forEach(function(Rt){Rt.properties||(Rt.properties={});var Ut=vn(Rt),Wt=kt.search({minX:Ut[0],minY:Ut[1],maxX:Ut[2],maxY:Ut[3]}),qt=[];Wt.forEach(function(on){xo([on.minX,on.minY],Rt)&&qt.push(on.property)}),Rt.properties[Mt]=qt}),vt},nt.collectionOf=rr,nt.combine=function(vt){var _t={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};return Gn(vt,function(xt){var Mt,kt,It,Rt;switch((Rt=xt.geometry)===null||Rt===void 0?void 0:Rt.type){case"Point":_t.MultiPoint.coordinates.push(xt.geometry.coordinates),_t.MultiPoint.properties.push(xt.properties);break;case"MultiPoint":(Mt=_t.MultiPoint.coordinates).push.apply(Mt,xt.geometry.coordinates),_t.MultiPoint.properties.push(xt.properties);break;case"LineString":_t.MultiLineString.coordinates.push(xt.geometry.coordinates),_t.MultiLineString.properties.push(xt.properties);break;case"MultiLineString":(kt=_t.MultiLineString.coordinates).push.apply(kt,xt.geometry.coordinates),_t.MultiLineString.properties.push(xt.properties);break;case"Polygon":_t.MultiPolygon.coordinates.push(xt.geometry.coordinates),_t.MultiPolygon.properties.push(xt.properties);break;case"MultiPolygon":(It=_t.MultiPolygon.coordinates).push.apply(It,xt.geometry.coordinates),_t.MultiPolygon.properties.push(xt.properties)}}),Bt(Object.keys(_t).filter(function(xt){return _t[xt].coordinates.length}).sort().map(function(xt){return wt({type:xt,coordinates:_t[xt].coordinates},{collectedProperties:_t[xt].properties})}))},nt.concave=function(vt,_t){_t===void 0&&(_t={});var xt=_t.maxEdge||1/0,Mt=$s(function(It){var Rt=[],Ut={};return Gn(It,function(Wt){if(Wt.geometry){var qt=Wt.geometry.coordinates.join("-");Object.prototype.hasOwnProperty.call(Ut,qt)||(Rt.push(Wt),Ut[qt]=!0)}}),Bt(Rt)}(vt));if(Mt.features=Mt.features.filter(function(It){var Rt=It.geometry.coordinates[0][0],Ut=It.geometry.coordinates[0][1],Wt=It.geometry.coordinates[0][2],qt=To(Rt,Ut,_t),on=To(Ut,Wt,_t),Jt=To(Rt,Wt,_t);return qt<=xt&&on<=xt&&Jt<=xt}),Mt.features.length<1)return null;var kt=Hl(Mt);return kt.coordinates.length===1&&(kt.coordinates=kt.coordinates[0],kt.type="Polygon"),wt(kt)},nt.containsNumber=On,nt.convertArea=Sn,nt.convertDistance=Mn,nt.convertLength=Mn,nt.convex=Vo,nt.coordAll=ur,nt.coordEach=xn,nt.coordReduce=Mr,nt.createBins=_0,nt.degrees2radians=wn,nt.degreesToRadians=wn,nt.destination=ya,nt.difference=function(vt,_t){var xt=Kn(vt),Mt=Kn(_t),kt=vt.properties||{},It=rd.difference(xt.coordinates,Mt.coordinates);return It.length===0?null:It.length===1?Dt(It[0],kt):Ht(It,kt)},nt.dissolve=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.propertyName;rr(vt,"Polygon","dissolve");var Mt=[];if(!_t.propertyName)return Jd(Ht(rd.union.apply(null,vt.features.map(function(Wt){return Wt.geometry.coordinates}))));var kt={};Gn(vt,function(Wt){Object.prototype.hasOwnProperty.call(kt,Wt.properties[xt])||(kt[Wt.properties[xt]]=[]),kt[Wt.properties[xt]].push(Wt)});for(var It=Object.keys(kt),Rt=0;Rt<It.length;Rt++){var Ut=Ht(rd.union.apply(null,kt[It[Rt]].map(function(Wt){return Wt.geometry.coordinates})));Ut.properties[xt]=It[Rt],Mt.push(Ut)}return Jd(Bt(Mt))},nt.distance=To,nt.distanceToDegrees=ln,nt.distanceToRadians=Kt,nt.distanceWeight=V1,nt.earthRadius=rt,nt.ellipse=j1,nt.envelope=nh,nt.explode=Co,nt.factors=it,nt.feature=wt,nt.featureCollection=Bt,nt.featureEach=Gn,nt.featureOf=Rn,nt.featureReduce=lr,nt.filterProperties=ny,nt.findPoint=An,nt.findSegment=hr,nt.flatten=Jd,nt.flattenEach=Pr,nt.flattenReduce=_r,nt.flip=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.mutate;if(!vt)throw new Error("geojson is required");return xt!==!1&&xt!==void 0||(vt=Wo(vt)),xn(vt,function(Mt){var kt=Mt[0],It=Mt[1];Mt[0]=It,Mt[1]=kt}),vt},nt.geojsonType=Er,nt.geomEach=vr,nt.geomReduce=Ir,nt.geometry=Et,nt.geometryCollection=Qt,nt.getCluster=ty,nt.getCoord=hn,nt.getCoords=zn,nt.getGeom=Kn,nt.getType=gr,nt.greatCircle=function(vt,_t,xt){if(typeof(xt=xt||{})!="object")throw new Error("options is invalid");var Mt=xt.properties,kt=xt.npoints,It=xt.offset;return vt=hn(vt),_t=hn(_t),Mt=Mt||{},kt=kt||100,It=It||10,new Di({x:vt[0],y:vt[1]},{x:_t[0],y:_t[1]},Mt).Arc(kt,{offset:It}).json()},nt.helpers=yr,nt.hexGrid=Ky,nt.inside=xo,nt.interpolate=function(vt,_t,xt){if(typeof(xt=xt||{})!="object")throw new Error("options is invalid");var Mt=xt.gridType,kt=xt.property,It=xt.weight;if(!vt)throw new Error("points is required");if(rr(vt,"Point","input must contain Points"),!_t)throw new Error("cellSize is required");if(It!==void 0&&typeof It!="number")throw new Error("weight must be a number");kt=kt||"elevation",Mt=Mt||"square",It=It||1;var Rt,Ut=vn(vt);switch(Mt){case"point":case"points":Rt=jf(Ut,_t,xt);break;case"square":case"squares":Rt=nv(Ut,_t,xt);break;case"hex":case"hexes":Rt=Ky(Ut,_t,xt);break;case"triangle":case"triangles":Rt=s1(Ut,_t,xt);break;default:throw new Error("invalid gridType")}var Wt=[];return Gn(Rt,function(qt){var on=0,Jt=0;Gn(vt,function(En){var Tn,In=To(Mt==="point"?qt:wl(qt),En,xt);if(kt!==void 0&&(Tn=En.properties[kt]),Tn===void 0&&(Tn=En.geometry.coordinates[2]),Tn===void 0)throw new Error("zValue is missing");In===0&&(on=Tn);var mn=1/Math.pow(In,It);Jt+=mn,on+=mn*Tn});var un=Wo(qt);un.properties[kt]=on/Jt,Wt.push(un)}),Bt(Wt)},nt.intersect=Af,nt.invariant=xr,nt.isNumber=Dn,nt.isObject=gn,nt.isobands=function(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.zProperty||"elevation",kt=xt.commonProperties||{},It=xt.breaksProperties||[];if(rr(vt,"Point","Input must contain Points"),!_t)throw new Error("breaks is required");if(!Array.isArray(_t))throw new Error("breaks is not an Array");if(!gn(kt))throw new Error("commonProperties is not an Object");if(!Array.isArray(It))throw new Error("breaksProperties is not an Array");var Rt=Vm(vt,{zProperty:Mt,flip:!0}),Ut=function(Wt,qt,on){for(var Jt=[],un=1;un<qt.length;un++){var En=+qt[un-1],Tn=+qt[un],In=_v(Hp(Cd(Wt,En,Tn-En))),mn={};mn.groupedRings=In,mn[on]=En+"-"+Tn,Jt.push(mn)}return Jt}(Rt,_t,Mt);return Bt((Ut=function(Wt,qt,on){var Jt=vn(on),un=Jt[2]-Jt[0],En=Jt[3]-Jt[1],Tn=Jt[0],In=Jt[1],mn=qt[0].length-1,Wn=qt.length-1,pr=un/mn,kn=En/Wn,Vn=function(Qn){Qn[0]=Qn[0]*pr+Tn,Qn[1]=Qn[1]*kn+In};return Wt.forEach(function(Qn){Qn.groupedRings.forEach(function(ir){ir.forEach(function(Jn){Jn.forEach(Vn)})})}),Wt}(Ut,Rt,vt)).map(function(Wt,qt){if(It[qt]&&!gn(It[qt]))throw new Error("Each mappedProperty is required to be an Object");var on=vi({},kt,It[qt]);return on[Mt]=Wt[Mt],Ht(Wt.groupedRings,on)}))},nt.isolines=function(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.zProperty||"elevation",kt=xt.commonProperties||{},It=xt.breaksProperties||[];if(rr(vt,"Point","Input must contain Points"),!_t)throw new Error("breaks is required");if(!Array.isArray(_t))throw new Error("breaks must be an Array");if(!gn(kt))throw new Error("commonProperties must be an Object");if(!Array.isArray(It))throw new Error("breaksProperties must be an Array");var Rt=Nn(vt,{zProperty:Mt,flip:!0});return Bt(function(Ut,Wt,qt){var on=vn(qt),Jt=on[2]-on[0],un=on[3]-on[1],En=on[0],Tn=on[1],In=Wt[0].length-1,mn=Wt.length-1,Wn=Jt/In,pr=un/mn,kn=function(Vn){Vn[0]=Vn[0]*Wn+En,Vn[1]=Vn[1]*pr+Tn};return Ut.forEach(function(Vn){xn(Vn,kn)}),Ut}(function(Ut,Wt,qt,on,Jt){for(var un=[],En=1;En<Wt.length;En++){var Tn=+Wt[En],In=vi({},on,Jt[En]);In[qt]=Tn;var mn=Yt(Ei(Ut,Tn),In);un.push(mn)}return un}(Rt,_t,Mt,kt,It),Rt,vt))},nt.kinks=function(vt){var _t,xt,Mt={type:"FeatureCollection",features:[]};if((xt=vt.type==="Feature"?vt.geometry:vt).type==="LineString")_t=[xt.coordinates];else if(xt.type==="MultiLineString")_t=xt.coordinates;else if(xt.type==="MultiPolygon")_t=[].concat.apply([],xt.coordinates);else{if(xt.type!=="Polygon")throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");_t=xt.coordinates}return _t.forEach(function(kt){_t.forEach(function(It){for(var Rt=0;Rt<kt.length-1;Rt++)for(var Ut=Rt;Ut<It.length-1;Ut++)if(!(kt===It&&(Math.abs(Rt-Ut)===1||Rt===0&&Ut===kt.length-2&&kt[Rt][0]===kt[kt.length-1][0]&&kt[Rt][1]===kt[kt.length-1][1]))){var Wt=Fm(kt[Rt][0],kt[Rt][1],kt[Rt+1][0],kt[Rt+1][1],It[Ut][0],It[Ut][1],It[Ut+1][0],It[Ut+1][1]);Wt&&Mt.features.push(Tt([Wt[0],Wt[1]]))}})}),Mt},nt.length=Xh,nt.lengthToDegrees=ln,nt.lengthToRadians=Kt,nt.lineArc=Ah,nt.lineChunk=function(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.units,kt=xt.reverse;if(!vt)throw new Error("geojson is required");if(_t<=0)throw new Error("segmentLength must be greater than 0");var It=[];return Pr(vt,function(Rt){kt&&(Rt.geometry.coordinates=Rt.geometry.coordinates.reverse()),function(Ut,Wt,qt,on){var Jt=Xh(Ut,{units:qt});if(Jt<=Wt)return on(Ut);var un=Jt/Wt;Number.isInteger(un)||(un=Math.floor(un)+1);for(var En=0;En<un;En++)on(Bf(Ut,Wt*En,Wt*(En+1),{units:qt}),En)}(Rt,_t,Mt,function(Ut){It.push(Ut)})}),Bt(It)},nt.lineDistance=Xh,nt.lineEach=mr,nt.lineIntersect=Rl,nt.lineOffset=function(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.units;if(!vt)throw new Error("geojson is required");if(_t==null||isNaN(_t))throw new Error("distance is required");var kt=gr(vt),It=vt.properties;switch(kt){case"LineString":return Gf(vt,_t,Mt);case"MultiLineString":var Rt=[];return Pr(vt,function(Ut){Rt.push(Gf(Ut,_t,Mt).geometry.coordinates)}),Yt(Rt,It);default:throw new Error("geometry "+kt+" is not supported")}},nt.lineOverlap=Sd,nt.lineReduce=br,nt.lineSegment=Kr,nt.lineSlice=function(vt,_t,xt){var Mt=zn(xt);if(gr(xt)!=="LineString")throw new Error("line must be a LineString");for(var kt,It=Oc(xt,vt),Rt=Oc(xt,_t),Ut=[(kt=It.properties.index<=Rt.properties.index?[It,Rt]:[Rt,It])[0].geometry.coordinates],Wt=kt[0].properties.index+1;Wt<kt[1].properties.index+1;Wt++)Ut.push(Mt[Wt]);return Ut.push(kt[1].geometry.coordinates),zt(Ut,xt.properties)},nt.lineSliceAlong=Bf,nt.lineSplit=function(vt,_t){if(!vt)throw new Error("line is required");if(!_t)throw new Error("splitter is required");var xt=gr(vt),Mt=gr(_t);if(xt!=="LineString")throw new Error("line must be LineString");if(Mt==="FeatureCollection")throw new Error("splitter cannot be a FeatureCollection");if(Mt==="GeometryCollection")throw new Error("splitter cannot be a GeometryCollection");var kt=xd(_t,{precision:7});switch(Mt){case"Point":return Yo(vt,kt);case"MultiPoint":return no(vt,kt);case"LineString":case"MultiLineString":case"Polygon":case"MultiPolygon":return no(vt,Rl(vt,kt))}},nt.lineString=zt,nt.lineStringToPolygon=Bg,nt.lineStrings=$t,nt.lineToPolygon=Bg,nt.mask=function(vt,_t){var xt,Mt=pb(_t),kt=null;return vt.type==="FeatureCollection"?kt=tv((xt=vt).features.length===2?rd.union(xt.features[0].geometry.coordinates,xt.features[1].geometry.coordinates):rd.union.apply(rd,xt.features.map(function(It){return It.geometry.coordinates}))):kt=tv(rd.union(vt.geometry.coordinates)),kt.geometry.coordinates.forEach(function(It){Mt.geometry.coordinates.push(It[0])}),Mt},nt.meta=rn,nt.midpoint=function(vt,_t){return ya(vt,To(vt,_t)/2,nl(vt,_t))},nt.moranIndex=function(vt,_t){var xt=_t.inputField,Mt=_t.threshold||1e5,kt=_t.p||2,It=_t.binary||!1,Rt=V1(vt,{alpha:_t.alpha||-1,binary:It,p:kt,standardization:_t.standardization||!0,threshold:Mt}),Ut=[];Gn(vt,function(ir){var Jn=ir.properties||{};Ut.push(Jn[xt])});for(var Wt=Y1(Ut),qt=function(ir){for(var Jn=Y1(ir),oi=0,Gr=0,li=ir;Gr<li.length;Gr++){var qr=li[Gr];oi+=Math.pow(qr-Jn,2)}return oi/ir.length}(Ut),on=0,Jt=0,un=0,En=0,Tn=Rt.length,In=0;In<Tn;In++){for(var mn=0,Wn=0;Wn<Tn;Wn++)on+=Rt[In][Wn]*(Ut[In]-Wt)*(Ut[Wn]-Wt),Jt+=Rt[In][Wn],un+=Math.pow(Rt[In][Wn]+Rt[Wn][In],2),mn+=Rt[In][Wn]+Rt[Wn][In];En+=Math.pow(mn,2)}var pr=on/Jt/qt,kn=-1/(Tn-1),Vn=(Tn*Tn*(un*=.5)-Tn*En+Jt*Jt*3)/((Tn-1)*(Tn+1)*(Jt*Jt))-kn*kn,Qn=Math.sqrt(Vn);return{expectedMoranIndex:kn,moranIndex:pr,stdNorm:Qn,zNorm:(pr-kn)/Qn}},nt.multiLineString=Yt,nt.multiPoint=Xt,nt.multiPolygon=Ht,nt.nearest=Rr,nt.nearestPoint=Rr,nt.nearestPointOnLine=Oc,nt.nearestPointToLine=function(vt,_t,xt){xt===void 0&&(xt={});var Mt=xt.units,kt=xt.properties||{},It=function(Wt){var qt=[];switch(Wt.geometry?Wt.geometry.type:Wt.type){case"GeometryCollection":return vr(Wt,function(on){on.type==="Point"&&qt.push({type:"Feature",properties:{},geometry:on})}),{type:"FeatureCollection",features:qt};case"FeatureCollection":return Wt.features=Wt.features.filter(function(on){return on.geometry.type==="Point"}),Wt;default:throw new Error("points must be a Point Collection")}}(vt);if(!It.features.length)throw new Error("points must contain features");if(!_t)throw new Error("line is required");if(gr(_t)!=="LineString")throw new Error("line must be a LineString");var Rt=1/0,Ut=null;return Gn(It,function(Wt){var qt=Ip(Wt,_t,{units:Mt});qt<Rt&&(Rt=qt,Ut=Wt)}),Ut&&(Ut.properties=vi({dist:Rt},Ut.properties,kt)),Ut},nt.planepoint=function(vt,_t){var xt=hn(vt),Mt=Kn(_t).coordinates[0];if(Mt.length<4)throw new Error("OuterRing of a Polygon must have 4 or more Positions.");var kt=_t.properties||{},It=kt.a,Rt=kt.b,Ut=kt.c,Wt=xt[0],qt=xt[1],on=Mt[0][0],Jt=Mt[0][1],un=It!==void 0?It:Mt[0][2],En=Mt[1][0],Tn=Mt[1][1],In=Rt!==void 0?Rt:Mt[1][2],mn=Mt[2][0],Wn=Mt[2][1],pr=Ut!==void 0?Ut:Mt[2][2];return(pr*(Wt-on)*(qt-Tn)+un*(Wt-En)*(qt-Wn)+In*(Wt-mn)*(qt-Jt)-In*(Wt-on)*(qt-Wn)-pr*(Wt-En)*(qt-Jt)-un*(Wt-mn)*(qt-Tn))/((Wt-on)*(qt-Tn)+(Wt-En)*(qt-Wn)+(Wt-mn)*(qt-Jt)-(Wt-on)*(qt-Wn)-(Wt-En)*(qt-Jt)-(Wt-mn)*(qt-Tn))},nt.point=Tt,nt.pointGrid=jf,nt.pointOnFeature=Qh,nt.pointOnLine=Oc,nt.pointOnSurface=Qh,nt.pointToLineDistance=Ip,nt.points=At,nt.pointsWithinPolygon=Gi,nt.polygon=Dt,nt.polygonSmooth=function(vt,_t){var xt=[],Mt=_t.iterations||1;if(!vt)throw new Error("inputPolys is required");return vr(vt,function(kt,It,Rt){var Ut,Wt,qt;switch(kt.type){case"Polygon":Ut=[[]];for(var on=0;on<Mt;on++)qt=[[]],Wt=kt,on>0&&(Wt=Dt(Ut).geometry),Uv(Wt,qt),Ut=qt.slice(0);xt.push(Dt(Ut,Rt));break;case"MultiPolygon":Ut=[[[]]];for(var Jt=0;Jt<Mt;Jt++)qt=[[[]]],Wt=kt,Jt>0&&(Wt=Ht(Ut).geometry),Hv(Wt,qt),Ut=qt.slice(0);xt.push(Ht(Ut,Rt));break;default:throw new Error("geometry is invalid, must be Polygon or MultiPolygon")}}),Bt(xt)},nt.polygonTangents=function(vt,_t){var xt,Mt,kt,It,Rt=zn(vt),Ut=zn(_t),Wt=vn(_t),qt=0,on=null;switch(Rt[0]>Wt[0]&&Rt[0]<Wt[2]&&Rt[1]>Wt[1]&&Rt[1]<Wt[3]&&(qt=(on=Rr(vt,Co(_t))).properties.featureIndex),gr(_t)){case"Polygon":xt=Ut[0][qt],Mt=Ut[0][0],on!==null&&on.geometry.coordinates[1]<Rt[1]&&(Mt=Ut[0][qt]),It=Kh(Ut[0][0],Ut[0][Ut[0].length-1],Rt);var Jt=Hm(Ut[0],Rt,It,kt,xt,Mt);xt=Jt[0],Mt=Jt[1];break;case"MultiPolygon":for(var un=0,En=0,Tn=0,In=0;In<Ut[0].length;In++){un=In;for(var mn=!1,Wn=0;Wn<Ut[0][In].length;Wn++){if(En=Wn,Tn===qt){mn=!0;break}Tn++}if(mn)break}xt=Ut[0][un][En],Mt=Ut[0][un][En],It=Kh(Ut[0][0][0],Ut[0][0][Ut[0][0].length-1],Rt),Ut.forEach(function(pr){var kn=Hm(pr[0],Rt,It,kt,xt,Mt);xt=kn[0],Mt=kn[1]})}return Bt([Tt(xt),Tt(Mt)])},nt.polygonToLine=Kc,nt.polygonToLineString=Kc,nt.polygonize=function(vt){var _t=xv.fromGeoJson(vt);_t.deleteDangles(),_t.deleteCutEdges();var xt=[],Mt=[];return _t.getEdgeRings().filter(function(kt){return kt.isValid()}).forEach(function(kt){kt.isHole()?xt.push(kt):Mt.push(kt)}),xt.forEach(function(kt){lc.findEdgeRingContaining(kt,Mt)&&Mt.push(kt)}),Bt(Mt.map(function(kt){return kt.toPolygon()}))},nt.polygons=Ot,nt.projection=Yv,nt.propEach=fr,nt.propReduce=cr,nt.propertiesContainsFilter=w0,nt.radians2degrees=bn,nt.radiansToDegrees=bn,nt.radiansToDistance=nn,nt.radiansToLength=nn,nt.random=Wv,nt.randomLineString=K1,nt.randomPoint=Z1,nt.randomPolygon=v0,nt.randomPosition=Qp,nt.rewind=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.reverse||!1,Mt=_t.mutate||!1;if(!vt)throw new Error("<geojson> is required");if(typeof xt!="boolean")throw new Error("<reverse> must be a boolean");if(typeof Mt!="boolean")throw new Error("<mutate> must be a boolean");Mt===!1&&(vt=Wo(vt));var kt=[];switch(vt.type){case"GeometryCollection":return vr(vt,function(It){Jh(It,xt)}),vt;case"FeatureCollection":return Gn(vt,function(It){Gn(Jh(It,xt),function(Rt){kt.push(Rt)})}),Bt(kt)}return Jh(vt,xt)},nt.rhumbBearing=nf,nt.rhumbDestination=Vf,nt.rhumbDistance=Qd,nt.round=Zt,nt.sample=function(vt,_t){if(!vt)throw new Error("featurecollection is required");if(_t==null)throw new Error("num is required");if(typeof _t!="number")throw new Error("num must be a number");return Bt(function(xt,Mt){for(var kt,It,Rt=xt.slice(0),Ut=xt.length,Wt=Ut-Mt;Ut-- >Wt;)kt=Rt[It=Math.floor((Ut+1)*Math.random())],Rt[It]=Rt[Ut],Rt[Ut]=kt;return Rt.slice(Wt)}(vt.features,_t))},nt.sector=function(vt,_t,xt,Mt,kt){if(!gn(kt=kt||{}))throw new Error("options is invalid");var It=kt.properties;if(!vt)throw new Error("center is required");if(xt==null)throw new Error("bearing1 is required");if(Mt==null)throw new Error("bearing2 is required");if(!_t)throw new Error("radius is required");if(typeof kt!="object")throw new Error("options must be an object");if(jp(xt)===jp(Mt))return _c(vt,_t,kt);var Rt=zn(vt),Ut=Ah(vt,_t,xt,Mt,kt),Wt=[[Rt]];return xn(Ut,function(qt){Wt[0].push(qt)}),Wt[0].push(Rt),Dt(Wt,It)},nt.segmentEach=tr,nt.segmentReduce=qn,nt.shortestPath=function(vt,_t,xt){if(!gn(xt=xt||{}))throw new Error("options is invalid");var Mt=xt.resolution,kt=xt.minDistance,It=xt.obstacles||Bt([]);if(!vt)throw new Error("start is required");if(!_t)throw new Error("end is required");if(Mt&&!Dn(Mt)||Mt<=0)throw new Error("options.resolution must be a number, greater than 0");if(kt)throw new Error("options.minDistance is not yet implemented");var Rt=hn(vt),Ut=hn(_t);switch(vt=Tt(Rt),_t=Tt(Ut),gr(It)){case"FeatureCollection":if(It.features.length===0)return zt([Rt,Ut]);break;case"Polygon":It=Bt([wt(Kn(It))]);break;default:throw new Error("invalid obstacles")}var Wt=It;Wt.features.push(vt),Wt.features.push(_t);var qt=vn(v1(Sh(vn(Wt)),1.15));Mt||(Mt=To([qt[0],qt[1]],[qt[2],qt[1]],xt)/100),Wt.features.pop(),Wt.features.pop();for(var on=qt[0],Jt=qt[1],un=qt[2],En=qt[3],Tn=Mt/To([on,Jt],[un,Jt],xt)*(un-on),In=Mt/To([on,Jt],[on,En],xt)*(En-Jt),mn=un-on,Wn=En-Jt,pr=Math.floor(mn/Tn),kn=Math.floor(Wn/In),Vn=(mn-pr*Tn)/2,Qn=[],ir=[],Jn=[],oi=[],Gr=1/0,li=1/0,qr=En-(Wn-kn*In)/2,fi=0;qr>=Jt;){for(var ti=[],ei=[],Qr=on+Vn,ui=0;Qr<=un;){var ni=Tt([Qr,qr]),gi=Iv(ni,It);ti.push(gi?0:1),ei.push(Qr+"|"+qr);var zr=To(ni,vt);!gi&&zr<Gr&&(Gr=zr,Jn={x:ui,y:fi});var co=To(ni,_t);!gi&&co<li&&(li=co,oi={x:ui,y:fi}),Qr+=Tn,ui++}ir.push(ti),Qn.push(ei),qr-=In,fi++}var $i=new Nd(ir,{diagonal:!0}),Qo=$i.grid[Jn.y][Jn.x],ro=$i.grid[oi.y][oi.x],ko=Wg.search($i,Qo,ro),ma=[Rt];return ko.forEach(function(ss){var Fl=Qn[ss.x][ss.y].split("|");ma.push([+Fl[0],+Fl[1]])}),ma.push(Ut),Ol(zt(ma))},nt.simplify=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.tolerance!==void 0?_t.tolerance:1,Mt=_t.highQuality||!1,kt=_t.mutate||!1;if(!vt)throw new Error("geojson is required");if(xt&&xt<0)throw new Error("invalid tolerance");return kt!==!0&&(vt=Wo(vt)),vr(vt,function(It){(function(Rt,Ut,Wt){var qt=Rt.type;if(qt==="Point"||qt==="MultiPoint")return Rt;Ol(Rt,!0);var on=Rt.coordinates;switch(qt){case"LineString":Rt.coordinates=tc(on,Ut,Wt);break;case"MultiLineString":Rt.coordinates=on.map(function(Jt){return tc(Jt,Ut,Wt)});break;case"Polygon":Rt.coordinates=_l(on,Ut,Wt);break;case"MultiPolygon":Rt.coordinates=on.map(function(Jt){return _l(Jt,Ut,Wt)})}})(It,xt,Mt)}),vt},nt.square=rh,nt.squareGrid=nv,nt.standardDeviationalEllipse=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.steps||64,Mt=_t.weight,kt=_t.properties||{};if(!Dn(xt))throw new Error("steps must be a number");if(!gn(kt))throw new Error("properties must be a number");var It=ur(vt).length,Rt=y0(vt,{weight:Mt}),Ut=0,Wt=0,qt=0;Gn(vt,function(Jn){var oi=Jn.properties[Mt]||1,Gr=H1(zn(Jn),zn(Rt));Ut+=Math.pow(Gr.x,2)*oi,Wt+=Math.pow(Gr.y,2)*oi,qt+=Gr.x*Gr.y*oi});var on=Ut-Wt,Jt=Math.sqrt(Math.pow(on,2)+4*Math.pow(qt,2)),un=2*qt,En=Math.atan((on+Jt)/un),Tn=180*En/Math.PI,In=0,mn=0,Wn=0;Gn(vt,function(Jn){var oi=Jn.properties[Mt]||1,Gr=H1(zn(Jn),zn(Rt));In+=Math.pow(Gr.x*Math.cos(En)-Gr.y*Math.sin(En),2)*oi,mn+=Math.pow(Gr.x*Math.sin(En)+Gr.y*Math.cos(En),2)*oi,Wn+=oi});var pr=Math.sqrt(2*In/Wn),kn=Math.sqrt(2*mn/Wn),Vn=j1(Rt,pr,kn,{units:"degrees",angle:Tn,steps:xt,properties:kt}),Qn=Gi(vt,Bt([Vn])),ir={meanCenterCoordinates:zn(Rt),semiMajorAxis:pr,semiMinorAxis:kn,numberOfFeatures:It,angle:Tn,percentageWithinEllipse:100*ur(Qn).length/It};return Vn.properties.standardDeviationalEllipse=ir,Vn},nt.tag=function(vt,_t,xt,Mt){return vt=Wo(vt),_t=Wo(_t),Gn(vt,function(kt){kt.properties||(kt.properties={}),Gn(_t,function(It){kt.properties[Mt]===void 0&&xo(kt,It)&&(kt.properties[Mt]=It.properties[xt])})}),vt},nt.tesselate=function(vt){if(!vt.geometry||vt.geometry.type!=="Polygon"&&vt.geometry.type!=="MultiPolygon")throw new Error("input must be a Polygon or MultiPolygon");var _t={type:"FeatureCollection",features:[]};return vt.geometry.type==="Polygon"?_t.features=wr(vt.geometry.coordinates):vt.geometry.coordinates.forEach(function(xt){_t.features=_t.features.concat(wr(xt))}),_t},nt.tin=$s,nt.toMercator=G1,nt.toWgs84=W1,nt.transformRotate=y1,nt.transformScale=v1,nt.transformTranslate=function(vt,_t,xt,Mt){if(!gn(Mt=Mt||{}))throw new Error("options is invalid");var kt=Mt.units,It=Mt.zTranslation,Rt=Mt.mutate;if(!vt)throw new Error("geojson is required");if(_t==null||isNaN(_t))throw new Error("distance is required");if(It&&typeof It!="number"&&isNaN(It))throw new Error("zTranslation is not a number");if(It=It!==void 0?It:0,_t===0&&It===0)return vt;if(xt==null||isNaN(xt))throw new Error("direction is required");return _t<0&&(_t=-_t,xt+=180),Rt!==!1&&Rt!==void 0||(vt=Wo(vt)),xn(vt,function(Ut){var Wt=zn(Vf(Ut,_t,xt,{units:kt}));Ut[0]=Wt[0],Ut[1]=Wt[1],It&&Ut.length===3&&(Ut[2]+=It)}),vt},nt.triangleGrid=s1,nt.truncate=xd,nt.union=function(vt,_t,xt){xt===void 0&&(xt={});var Mt=Kn(vt),kt=Kn(_t),It=rd.union(Mt.coordinates,kt.coordinates);return It.length===0?null:It.length===1?Dt(It[0],xt.properties):Ht(It,xt.properties)},nt.unitsFactors=st,nt.unkinkPolygon=function(vt){var _t=[];return Pr(vt,function(xt){xt.geometry.type==="Polygon"&&Gn($g(xt),function(Mt){_t.push(Dt(Mt.geometry.coordinates,xt.properties))})}),Bt(_t)},nt.validateBBox=Un,nt.validateId=pn,nt.voronoi=function(vt,_t){if(!gn(_t=_t||{}))throw new Error("options is invalid");var xt=_t.bbox||[-180,-85,180,85];if(!vt)throw new Error("points is required");if(!Array.isArray(xt))throw new Error("bbox is invalid");return rr(vt,"Point","points"),Bt(function(){var Mt=Lv,kt=D1,It=null;function Rt(Ut){return new m0(Ut.map(function(Wt,qt){var on=[Math.round(Mt(Wt,qt,Ut)/Es)*Es,Math.round(kt(Wt,qt,Ut)/Es)*Es];return on.index=qt,on.data=Wt,on}),It)}return Rt.polygons=function(Ut){return Rt(Ut).polygons()},Rt.links=function(Ut){return Rt(Ut).links()},Rt.triangles=function(Ut){return Rt(Ut).triangles()},Rt.x=function(Ut){return arguments.length?(Mt=typeof Ut=="function"?Ut:N1(+Ut),Rt):Mt},Rt.y=function(Ut){return arguments.length?(kt=typeof Ut=="function"?Ut:N1(+Ut),Rt):kt},Rt.extent=function(Ut){return arguments.length?(It=Ut==null?null:[[+Ut[0][0],+Ut[0][1]],[+Ut[1][0],+Ut[1][1]]],Rt):It&&[[It[0][0],It[0][1]],[It[1][0],It[1][1]]]},Rt.size=function(Ut){return arguments.length?(It=Ut==null?null:[[0,0],[+Ut[0],+Ut[1]]],Rt):It&&[It[1][0]-It[0][0],It[1][1]-It[0][1]]},Rt}().x(function(Mt){return Mt.geometry.coordinates[0]}).y(function(Mt){return Mt.geometry.coordinates[1]}).extent([[xt[0],xt[1]],[xt[2],xt[3]]]).polygons(vt.features).map(Fv))},nt.within=Gi,Object.defineProperty(nt,"__esModule",{value:!0})});const _hoisted_1$j={class:"content"},_hoisted_2$g=["innerHTML"],_hoisted_3$e=createBaseVNode("div",{id:"map"},null,-1),_hoisted_4$c=["innerHTML"],_sfc_main$l=defineComponent({__name:"Map.ce",props:{overlay:{type:String},zoom:{type:Number,default:2},center:{type:String,default:"55.4,6.7"},marker:{type:Boolean},basemaps:{type:String,default:"OpenStreetMap"},caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},entities:{type:String},preferGeojson:{type:Boolean},popupOnHover:{type:Boolean},zoomOnClick:{type:Boolean},scrollWheelZoom:{type:Boolean},cards:{type:String},essayBase:{type:String}},setup(nt){const rt=nt,it=window.turf,st={iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon.png",iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-icon-2x.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/0.7.7/images/marker-shadow.png",shadowSize:[41,41]},bt={CartoDB_DarkMatter:["https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterNoLabels:["https://{s}.basemaps.cartocdn.com/dark_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_DarkMatterOnlyLabels:["https://{s}.basemaps.cartocdn.com/dark_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Positron:["https://{s}.basemaps.cartocdn.com/light_all/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronNoLabels:["https://{s}.basemaps.cartocdn.com/light_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_PositronOnlyLabels:["https://{s}.basemaps.cartocdn.com/light_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_Voyager:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerNoLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_nolabels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerOnlyLabels:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_only_labels/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],CartoDB_VoyagerLabelsUnder:["https://{s}.basemaps.cartocdn.com/rastertiles/voyager_labels_under/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &copy; <a href="https://carto.com/attributions">CARTO</a>',subdomains:"abcd",maxZoom:20}],Esri_DeLorme:["https://server.arcgisonline.com/ArcGIS/rest/services/Specialty/DeLorme_World_Base_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Copyright: &copy;2012 DeLorme",minZoom:1,maxZoom:11}],Esri_NatGeoWorldMap:["https://server.arcgisonline.com/ArcGIS/rest/services/NatGeo_World_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; National Geographic, Esri, DeLorme, NAVTEQ, UNEP-WCMC, USGS, NASA, ESA, METI, NRCAN, GEBCO, NOAA, iPC",maxZoom:16}],Esri_OceanBasemap:["https://server.arcgisonline.com/ArcGIS/rest/services/Ocean/World_Ocean_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Sources: GEBCO, NOAA, CHS, OSU, UNH, CSUMB, National Geographic, DeLorme, NAVTEQ, and Esri",maxZoom:13}],Esri_WorldGrayCanvas:["https://server.arcgisonline.com/ArcGIS/rest/services/Canvas/World_Light_Gray_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ",maxZoom:16}],Esri_WorldImagery:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community"}],Esri_WorldPhysical:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Physical_Map/MapServer/tile/{z}/{y}/{x}",{maxZoom:8,attribution:"Tiles &copy; Esri &mdash; Source: US National Park Service"}],Esri_WorldShadedRelief:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Shaded_Relief/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri",maxZoom:13}],Esri_WorldStreetMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Street_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: Esri, DeLorme, NAVTEQ, USGS, Intermap, iPC, NRCAN, Esri Japan, METI, Esri China (Hong Kong), Esri (Thailand), TomTom, 2012"}],Esri_WorldTerrain:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Terrain_Base/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Source: USGS, Esri, TANA, DeLorme, and NPS",maxZoom:13}],Esri_WorldTopoMap:["https://server.arcgisonline.com/ArcGIS/rest/services/World_Topo_Map/MapServer/tile/{z}/{y}/{x}",{attribution:"Tiles &copy; Esri &mdash; Esri, DeLorme, NAVTEQ, TomTom, Intermap, iPC, USGS, FAO, NPS, NRCAN, GeoBase, Kadaster NL, Ordnance Survey, Esri Japan, METI, Esri China (Hong Kong), and the GIS User Community"}],MtbMap:["http://tile.mtbmap.cz/mtbmap_tiles/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors &amp; USGS'}],OpenStreetMap:["https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'}],OpenStreetMap_DE:["https://{s}.tile.openstreetmap.de/{z}/{x}/{y}.png",{maxZoom:18,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_France:["https://{s}.tile.openstreetmap.fr/osmfr/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; OpenStreetMap France | &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],OpenStreetMap_HOT:["https://{s}.tile.openstreetmap.fr/hot/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, Tiles style by <a href="https://www.hotosm.org/" target="_blank">Humanitarian OpenStreetMap Team</a> hosted by <a href="https://openstreetmap.fr/" target="_blank">OpenStreetMap France</a>',maxZoom:19}],OpenStreetMap_Mapnik:["https://tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:19}],OpenTopoMap:["https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png",{maxZoom:17,attribution:'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'}],OPNVKarte:["https://tileserver.memomaps.de/tilegen/{z}/{x}/{y}.png",{attribution:'Map <a href="https://memomaps.de/">memomaps.de</a> <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',maxZoom:18}],Stadia_AlidadeSmooth:["https://tiles.stadiamaps.com/tiles/alidade_smooth/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_AlidadeSmoothDark:["https://tiles.stadiamaps.com/tiles/alidade_smooth_dark/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_OSMBright:["https://tiles.stadiamaps.com/tiles/osm_bright/{z}/{x}/{y}{r}.png",{attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors',maxZoom:20}],Stadia_Outdoors:["https://tiles.stadiamaps.com/tiles/outdoors/{z}/{x}/{y}{r}.png",{maxZoom:20,attribution:'&copy; <a href="https://stadiamaps.com/">Stadia Maps</a>, &copy; <a href="https://openmaptiles.org/">OpenMapTiles</a> &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors'}],Stamen_Terrain:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_TerrainLabels:["https://stamen-tiles-{s}.a.ssl.fastly.net/terrain-labels/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:18,ext:"png"}],Stamen_Toner:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerBackground:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-background/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_TonerLite:["https://stamen-tiles-{s}.a.ssl.fastly.net/toner-lite/{z}/{x}/{y}{r}.{ext}",{attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',subdomains:"abcd",minZoom:0,maxZoom:20,ext:"png"}],Stamen_Watercolor:["https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.{ext}",{subdomains:"abcd",minZoom:1,maxZoom:16,ext:"jpg",attribution:'Map tiles by <a href="http://stamen.com">Stamen Design</a>, <a href="http://creativecommons.org/licenses/by/3.0">CC BY 3.0</a> &mdash; Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}],USGS_USTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImagery:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryOnly/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}],USGS_USImageryTopo:["https://basemap.nationalmap.gov/arcgis/rest/services/USGSImageryTopo/MapServer/tile/{z}/{y}/{x}",{maxZoom:20,attribution:'Tiles courtesy of the <a href="https://usgs.gov/">U.S. Geological Survey</a>'}]},wt=ref(null),Et=computed(()=>{var vn,hn;return(hn=(vn=wt.value)==null?void 0:vn.getRootNode())==null?void 0:hn.host}),Tt=computed(()=>{var vn;return(vn=wt==null?void 0:wt.value)==null?void 0:vn.parentNode}),At=computed(()=>{var vn;return(vn=Tt.value)==null?void 0:vn.querySelector(".content")}),Dt=ref(),Ot=ref(),zt=ref([]),$t=ref(),Bt=ref([]),Yt=ref(),Xt=ref(),Ht=ref(),Qt=ref(10),Zt=ref(),nn=ref(!1),Kt=ref(),ln=ref();watch$1(Et,()=>bn()),onMounted(()=>{let vn=window.localStorage.getItem("gh-auth-token")||window.localStorage.getItem("gh-unscoped-token");vn&&(Dt.value=new GithubClient(vn)),wn(),bn()});const sn=isMobile()?"full":rt.right?"right":rt.left?"left":"full";function bn(){Et.value.classList.add("ve-component"),Et.value.classList.add(sn),sn==="full"?Et.value.style.width="100%":(Et.value.style.float=sn,Et.value.style.width="calc(50% - 16px)"),Et.value.style.width=window.getComputedStyle(Et.value).width,rt.sticky&&makeSticky(Et.value),At.value.style.width=isMobile()?"100%":rt.width||"100%",nextTick(()=>{let vn=parseInt(window.getComputedStyle(At.value).width.slice(0,-2)),hn=vn;if(rt.sticky&&sn==="full"){let zn=Math.round(window.innerHeight*.4);hn=Math.min(zn,vn)}At.value.style.width=`${vn}px`,At.value.style.height=`${hn}px`,Et.value.style.height=`${rt.caption?hn+32:hn}px`,Sn()})}watch$1(rt,()=>wn());function wn(){Qt.value=rt.zoom,rt.cards&&Mn()}function Mn(){let vn=[];if(rt.cards){let hn=document.getElementById(rt.cards);hn&&hn.querySelectorAll(".card").forEach(async zn=>{var Er;let On=Array.from(zn.querySelectorAll("li")).filter(Rn=>Rn.innerHTML.trim().indexOf("coords:")===0).map(Rn=>Rn.innerHTML.split(":")[1].trim()).pop()||"";if(On){let Rn=zn.querySelector("ul.card-metadata");Rn&&((Er=Rn.parentElement)==null||Er.removeChild(Rn)),vn.push({coords:Pr(On),caption:zn.innerHTML})}})}vn.length>0&&(Bt.value=[...Bt.value,...vn])}watch$1(Bt,async()=>{let vn=await Promise.all(Bt.value),hn=vn.filter(rr=>rr.geojson&&rr.preferGeojson).map(rr=>{if(rr.geojson.indexOf("http")!==0)if(rr.geojson[0]==="/"){let[Kn,gr,...xr]=rr.geojson.split("/").filter(Ar=>Ar),Lr=xr.join("/"),Cr="main";rr.geojson=`https://raw.githubusercontent.com/${Kn}/${gr}/${Cr}/${Lr}`}else rr.geojson=`https://raw.githubusercontent.com/${rt.essayBase}/${rr.geojson}`;return rr}).map(rr=>({url:rr.geojson,item:rr})),zn=await Promise.all(hn.map(rr=>fetch(rr.url))),On=await Promise.all(zn.map(rr=>rr.json())),Er={};for(let rr=0;rr<hn.length;rr++){hn[rr].item.id&&/^Q[0-9]+$/.test(hn[rr].item.id)&&(hn[rr].item.qid=hn[rr].item.id,delete hn[rr].item.id),On[rr].type==="FeatureCollection"?On[rr].features.forEach(gr=>gr.properties={...gr.properties,...hn[rr].item}):On[rr].properties={...On[rr].properties,...hn[rr].item};let Kn=hn[rr].item.layer||"Locations";Er[Kn]||(Er[Kn]=[]),Er[Kn].push(On[rr])}let Rn={};vn.filter(rr=>!rr.geojson||!rr.preferGeojson).filter(rr=>!rr.allmaps).forEach(rr=>{let Kn=rr.layer||"Locations";Rn[Kn]||(Rn[Kn]=[]),Rn[Kn].push(rr)}),vn.filter(rr=>!rr.allmaps).forEach(rr=>{let Kn=rr.layer||"Locations";Er[Kn]?Rn[Kn]&&(Er[Kn].push(xn(Rn[Kn])),delete Rn[Kn]):(Er[Kn]=[xn(Rn[Kn])],delete Rn[Kn])}),Xt.value=vn.filter(rr=>rr.allmaps).map(rr=>({name:rr.layer||"Image layer",disabled:rr.disabled,layer:L$1.tileLayer(`https://allmaps.xyz/maps/${rr.allmaps}/{z}/{x}/{y}.png`,{maxZoom:19,attribution:'<a href="https://allmaps.org">Allmaps</a>'})})),Ht.value=Er}),watch$1(Xt,()=>yr()),watch$1(Ht,()=>yr()),watch$1(Ot,()=>yr());function Sn(){var zn;if(nn.value)return;if(nn.value=!0,zt.value=rt.entities?rt.entities.split(/\s+/).filter(On=>On):[],rt.cards){let On=[],Er=document.getElementById(rt.cards);Er&&Er.querySelectorAll(".card").forEach(async Rn=>{var Kn;let rr=Array.from(Rn.querySelectorAll("li")).filter(gr=>gr.innerHTML.trim().indexOf("coords:")===0).map(gr=>gr.innerHTML.split(":")[1].trim()).pop()||"";if(rr){let gr=Rn.querySelector("ul.card-metadata");gr&&((Kn=gr.parentElement)==null||Kn.removeChild(gr)),On.push({coords:Pr(rr),caption:Rn.innerHTML})}}),Bt.value=[...Bt.value,...On]}Mr(),fr();const vn=new ResizeObserver(()=>Dn());let hn=(zn=Tt.value)==null?void 0:zn.querySelector("#map");hn&&vn.observe(hn),mr()}async function Dn(){var zn,On;let vn;if(rt.center)if(isQID(rt.center)){let Er=await getEntity(rt.center);vn=Pr(Er.coords)}else vn=Pr(rt.center);else if(rt.entities){let Er=await getEntity(zt.value[0]);vn=Pr(Er.coords),Qt.value=9}else vn=new L$1.LatLng(0,0),Qt.value=6;if(Ot.value){Ot.value.off(),Ot.value.remove();let Er=(zn=Tt.value)==null?void 0:zn.querySelector("#map"),Rn=document.createElement("div");Rn.id="map",Er==null||Er.replaceWith(Rn)}let hn=(On=Tt.value)==null?void 0:On.querySelector("#map");if(hn){isMobile()&&L$1.Map.addInitHook("addHandler","gestureHandling",leafletGestureHandling_min.exports.GestureHandling),hn.style.cursor="default";let Er=rt.basemaps.split(",").map(rr=>{let[Kn,gr]=bt[rr];return[rr.replace(/_/," "),L$1.tileLayer(Kn,gr)]}),Rn={preferCanvas:!1,zoomSnap:.1,center:vn,zoom:Qt.value,zoomAnimation:!0,gestureHandling:isMobile(),layers:[Er[0][1]]};Ot.value=L$1.map(hn,Rn),(Er.length>1||Object.keys(Ht.value||{}).length>1)&&(Yt.value=L$1.control.layers(Object.fromEntries(Er),{}).addTo(Ot.value)),Ot.value.on("click",rr=>{var Kn;gn(rr),$t.value&&_r((Kn=$t.value)==null?void 0:Kn.split(" ")[0]),rt.zoomOnClick&&rn()}),Ot.value.on("zoomend",rr=>{gn(rr),ln.value&&ln.value.layer.openPopup()}),Ot.value.on("movestart",()=>hn.style.cursor="move"),Ot.value.on("moveend",rr=>{hn.style.cursor="default",gn(rr)}),Ot.value.on("layeradd",rr=>{var Kn,gr;if(rr.layer.feature){let xr=rr.layer;((Kn=xr.feature)==null?void 0:Kn.type)=="Feature"&&((gr=xr.feature)==null?void 0:gr.properties.qid)&&xr.feature}}),$t.value=`${Number(vn.lat.toFixed(5))},${Number(vn.lng.toFixed(5))} ${Qt.value}`,Zt.value=`${Number(vn.lat.toFixed(5))},${Number(vn.lng.toFixed(5))},${Qt.value}`}}function gn(vn){let hn=vn.type==="click"?vn.latlng:vn.target.getCenter(),zn=vn.target.getZoom(),On=[hn.lat,hn.lng,zn];return $t.value=`${Number(hn.lat.toFixed(5))},${Number(hn.lng.toFixed(5))} ${zn}`,Kt.value||(Zt.value=`${Number(hn.lat.toFixed(5))},${Number(hn.lng.toFixed(5))},${zn}`),On}function Un(vn){return L$1.geoJSON(vn,{pointToLayer:(hn,zn)=>{const On=hn.properties;let Er={...st};return hn.properties.icon&&(Er.iconUrl=hn.properties.icon),hn.properties.shadowUrl&&(Er.shadowUrl=hn.properties.shadowUrl),hn.properties.iconRetinaUrl&&(Er.iconRetinaUrl=hn.properties.iconRetinaUrl),On.markerType==="circle"?L$1.circleMarker(zn,{radius:On.radius||4}):L$1.marker(zn,{icon:new L$1.Icon(Er)})},onEachFeature:async(hn,zn)=>{var Er;let On=zn;if(!hn.properties.coords){if((Er=On.feature)!=null&&Er.bbox){let Rn=On.getBounds().getCenter();hn.properties.coords=`${Rn.lat},${Rn.lng}`}else if(hn.geometry.type==="Polygon"){let Rn=it.centroid(hn);hn.properties.coords=`${Rn.geometry.coordinates[1]},${Rn.geometry.coordinates[0]}`}}if(hn.properties.qid){let Rn=await getEntity(hn.properties.qid);hn.properties.entityData=Rn;let Kn=`<ve-info-card data="${JSON.stringify(Rn).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;zn.bindPopup(Kn)}else{let rr=`<ve-info-card data="${JSON.stringify(hn.properties).replace(/"/g,"&quot;")}" style="width:100%;"></ve-info-card>`;zn.bindPopup(rr)}rt.popupOnHover&&(zn.on("mouseover",()=>zn.openPopup()),zn.on("mouseout",()=>zn.closePopup())),zn.on("click",()=>{Kt.value?(zn.closePopup(),Kt.value=void 0):(zn.openPopup(),Kt.value={},rt.zoomOnClick&&An(hn.properties.coords))})},style:hn=>{const zn=hn==null?void 0:hn.properties,On=hn==null?void 0:hn.geometry.type;for(let[Rn,rr]of Object.entries(zn))rr==="null"&&(zn[Rn]=null);return{color:zn.color||"#FB683F",weight:zn.weight||(On==="Polygon"||On==="MultiPolygon"?0:4),opacity:zn.opacity||1,fillColor:zn.fillColor||"#32C125",fillOpacity:zn.fillOpacity||.5}}})}let pn=!1;function yr(){var vn;if(Ot.value&&Ht.value&&Xt.value&&!pn){pn=!0;let hn=Object.keys(Ht.value||{}),zn=Xt.value?Xt.value.length:0;!Yt.value&&(hn.length>1||hn.length===1&&hn[0]!=="Locations"||zn>0)&&(Yt.value=L$1.control.layers(Object.fromEntries([]),{}).addTo(Ot.value)),Object.keys(Ht.value||{}).forEach(Er=>{var Kn;let Rn=new L$1.LayerGroup,rr=!1;Ht.value[Er].forEach(gr=>{var Lr;let xr=Un(gr);Rn.addLayer(xr),(Lr=gr.properties)!=null&&Lr.disabled&&(rr=!0)}),rr||(Kn=Ot.value)==null||Kn.addLayer(Rn),Yt.value&&Yt.value.addOverlay(Rn,Er)});let On={};(vn=Xt.value)==null||vn.forEach(Er=>{var Rn;Yt.value&&Yt.value.addOverlay(Er.layer,Er.name),Er.disabled||(Rn=Ot.value)==null||Rn.addLayer(Er.layer),On[Er.name]=Er.layer}),Object.keys(On).length>0&&L$1.control.opacity(On,{label:null,collapsed:!0,position:"topright"}).addTo(Ot.value)}}function xn(vn){const hn={type:"FeatureCollection",features:[]};return vn.filter(zn=>zn.coords).forEach(zn=>{let[On,Er]=zn.coords.split(",").map(Rn=>parseFloat(Rn.trim()));hn.features.push({type:"Feature",properties:zn,geometry:{type:"Point",coordinates:[Er,On]}})}),hn}async function Mr(){let vn=Array.from(Et.value.querySelectorAll("li")).map(hn=>{var zn;return Ir((zn=hn.firstChild)==null?void 0:zn.textContent)});if(rt.marker&&rt.center)if(isQID(rt.center)){let hn=await getEntity(rt.center);vn.push(Promise.resolve(vr(hn)))}else vn.push(Promise.resolve({coords:rt.center,zoom:rt.zoom||10}));Bt.value=[...Bt.value,...vn]}function fr(){const vn=zn=>{for(let On of zn)On.type==="childList"&&Array.from(On.target.classList).indexOf("hydrated")>=0&&Mr()};new MutationObserver(vn).observe(Et.value,{childList:!0,subtree:!0,characterData:!0})}function cr(vn){return/^[+-]?\d+(.\d*|\d*),{1}[+-]?\d+(.\d*|\d*)$/.test(vn)}function Gn(vn){return/^\d{1,2}(\.\d{1})?$/.test(vn)}function lr(vn){vn=vn||"";let hn=[];vn=vn.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'");let zn=vn.match(/[^\s"]+|"([^"]*)"/gmi);return zn&&zn.forEach(On=>{hn.length>0&&hn[hn.length-1].indexOf("=")===hn[hn.length-1].length-1?hn[hn.length-1]=`${hn[hn.length-1]}${On}`:hn.push(On)}),hn}function ur(vn,hn){let zn={id:hn},On=metadataAsObj(vn);return On.location&&(zn.coords=On.location[0]),On.coordinates_of_the_point_of_view&&(zn.coords=On.coordinates_of_the_point_of_view[0]),vn.label&&(zn.label=vn.label.en),vn.summary&&(zn.description=vn.summary.en[0]),vn.thumbnail&&(zn.image=vn.thumbnail[0].id),zn}function vr(vn,hn=""){let zn={id:hn||vn.id};return vn.coords&&(zn.coords=vn.coords),vn.geojson&&(zn.geojson=vn.geojson),vn.label&&(zn.label=vn.label),vn.description&&(zn.description=vn.description),vn.thumbnail&&(zn.image=vn.thumbnail),zn}async function Ir(vn){let hn=lr(vn),zn=/\.(geo)?json$/i,On=/^[a-z0-9\-]+:.+/,Er={},Rn=new Set(["disabled","prefer-geojson"]);for(let rr=0;rr<hn.length;rr++){let Kn=hn[rr];if(Kn.indexOf("=")>0){let[gr,...xr]=Kn.split("="),Lr=xr.join("=");if(Lr=Lr[Lr.length-1]==='"'?Lr.slice(1,-1):Lr,gr==="qid"){let Cr=await getEntity(Kn);Er={...vr(Cr,Kn),...Er}}else if(gr==="iiif"){let Cr=await getManifest(Kn);Er={...ur(Cr,Kn),...Er}}else Er[gr]=Lr}else if(Gn(Kn))Er.zoom=parseInt(Kn);else if(cr(Kn))Er.coords=Kn,Er.id=Kn;else if(isQID(Kn)){let gr=await getEntity(Kn);Er={...vr(gr,Kn),...Er}}else if(zn.test(Kn))Er.geojson=Kn;else if(On.test(Kn)){let gr=await getManifest(Kn);Er={...ur(gr,Kn),...Er}}else if(Rn.has(Kn))Er[kebabToCamel(Kn)]=!0;else{let gr=Kn[0]==='"'&&Kn[Kn.length-1]==='"'?Kn.slice(1,-1):Kn;Er.label?Er.description=gr:Er.label=gr}}return Er.preferGeojson=Er.preferGeojson||rt.preferGeojson&&Er.geojson||Er.geojson&&!Er.coords,Er}function Pr(vn){let[hn,zn]=vn.split(",").map(On=>parseFloat(On.trim()));return new leafletSrc.exports.LatLng(hn,zn)}function _r(vn){navigator.clipboard&&navigator.clipboard.writeText(vn)}function tr(vn="",hn=""){return Object.values(Ht.value).map(On=>{let Er=On[0];return Er.type==="FeatureCollection"?Er.features:[Er]}).flat().find(On=>{var Er,Rn;return On.id===vn||((Er=On.properties)==null?void 0:Er.id)===vn||((Rn=On.properties)==null?void 0:Rn.coords)===hn})}function qn(vn=""){var Rn,rr,Kn,gr;vn=vn.replace(/^flyto\|/i,"");let hn="",zn=10,On=vn.split(",");if(On.length===1){hn=On[0];let xr=tr(hn);zn=((Rn=xr==null?void 0:xr.properties)==null?void 0:Rn.zoom)||zn}else if(On.length===2)if(/^[+-]?\d+(.\d*|\d*)$/.test(On[0])){hn=On.join(",");let xr=tr("",hn);zn=((rr=xr==null?void 0:xr.properties)==null?void 0:rr.zoom)||zn}else hn=On[0],zn=parseFloat(On[1]);else hn=On.slice(0,2).join(","),zn=parseFloat(On[2]);let Er;return(Kn=Ot.value)==null||Kn.eachLayer(xr=>{var Lr,Cr,Ar,mi;(((Cr=(Lr=xr==null?void 0:xr.feature)==null?void 0:Lr.properties)==null?void 0:Cr.id)===hn||((mi=(Ar=xr==null?void 0:xr.feature)==null?void 0:Ar.properties)==null?void 0:mi.coords)===hn)&&(Er=xr)}),Er||(gr=Ot.value)==null||gr.eachLayer(xr=>Er=xr),{id:hn,zoom:zn,layer:Er}}function mr(){let vn=Et.value.parentElement,hn=new Set;for(;vn.parentElement&&vn.tagName!=="MAIN";)vn=vn.parentElement,Array.from(vn.querySelectorAll("[enter],[exit]")).forEach(On=>{hr(On)&&!hn.has(On)&&(br(On),hn.add(On))});let zn=Et.value.parentElement;for(;(zn==null?void 0:zn.parentElement)&&zn.tagName!=="BODY";)zn=zn.parentElement;zn&&Array.from(zn.querySelectorAll("mark")).forEach(On=>{let Er=Array.from(On.attributes).find(Rn=>Rn.name==="flyto");if(Er&&hr(On.parentElement)){let rr=Er==null?void 0:Er.value;On.classList.add(Er.name),On.addEventListener("click",()=>An(rr)),rt.popupOnHover&&(On.addEventListener("mouseover",()=>{let Kn=qn(rr).layer;Kn.openPopup(),isMobile()&&setTimeout(()=>Kn.closePopup(),2e3)}),On.addEventListener("mouseleave",()=>{var Kn;ln.value=qn(rr),ln.value.id!==Kt.value&&((Kn=ln.value.layer)==null||Kn.closePopup())}))}})}function br(vn){let hn=vn.classList.contains("active");new MutationObserver(On=>{On.forEach(Er=>{if(Er.attributeName=="class"){let Rn=Er.target.classList.contains("active");if(hn!==Rn){hn=Rn;let rr=vn.attributes.getNamedItem(Rn?"enter":"exit");if(rr){const[Kn,...gr]=rr.value.split(":");let xr=gr.join(":");Kn==="flyto"&&An(xr,!0),rr.name==="exit"&&rn()}}}})}).observe(vn,{attributes:!0,childList:!0,subtree:!0,characterData:!0})}function hr(vn){let hn=vn.previousSibling;for(;hn;){if(hn.nodeName==="VE-MAP")return hn===Et.value?hn:null;hn=hn.previousSibling}for(;vn.parentElement&&vn.tagName!=="MAIN";){vn=vn.parentElement;let zn=vn.querySelector(":scope > ve-map, :scope > p > ve-map, :scope > section > ve-map");if(zn)return zn===Et.value?zn:null}}async function An(vn,hn=!1){var zn,On;if(ln.value=qn(vn),ln.value.layer){if(ln.value.id===Kt.value&&!hn)ln.value.layer.closePopup(),rn();else if(Kt.value=ln.value.id,(zn=ln.value.layer.feature)!=null&&zn.properties){let Er=Pr(ln.value.layer.feature.properties.coords);(On=Ot.value)==null||On.flyTo(Er,ln.value.zoom)}}else rn()}function rn(){var vn,hn;if(ln.value=null,Zt.value){let[zn,On,Er]=Zt.value.split(",").map(rr=>parseFloat(rr)),Rn=new L$1.LatLng(zn,On);(vn=Ot.value)==null||vn.flyTo(Rn,Er),(hn=Ot.value)==null||hn.closePopup()}Kt.value=void 0}return(vn,hn)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:wt,style:{width:"100%",height:"100%"}},[createBaseVNode("div",_hoisted_1$j,[createBaseVNode("div",{id:"lat-lng-zoom",innerHTML:$t.value,onClick:hn[0]||(hn[0]=zn=>_r(`${$t.value}`))},null,8,_hoisted_2$g),_hoisted_3$e,nt.caption?(openBlock(),createElementBlock("div",{key:0,id:"caption",innerHTML:nt.caption},null,8,_hoisted_4$c)):createCommentVNode("",!0)])],512))}}),_style_0$f=`.leaflet-pane,.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-tile-container,.leaflet-pane>svg,.leaflet-pane>canvas,.leaflet-zoom-box,.leaflet-image-layer,.leaflet-layer{position:absolute;left:0;top:0}.leaflet-container{overflow:hidden}.leaflet-tile,.leaflet-marker-icon,.leaflet-marker-shadow{-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-user-drag:none}.leaflet-tile::selection{background:transparent}.leaflet-safari .leaflet-tile{image-rendering:-webkit-optimize-contrast}.leaflet-safari .leaflet-tile-container{width:1600px;height:1600px;-webkit-transform-origin:0 0}.leaflet-marker-icon,.leaflet-marker-shadow{display:block}.leaflet-container .leaflet-overlay-pane svg{max-width:none!important;max-height:none!important}.leaflet-container .leaflet-marker-pane img,.leaflet-container .leaflet-shadow-pane img,.leaflet-container .leaflet-tile-pane img,.leaflet-container img.leaflet-image-layer,.leaflet-container .leaflet-tile{max-width:none!important;max-height:none!important;width:auto;padding:0}.leaflet-container.leaflet-touch-zoom{-ms-touch-action:pan-x pan-y;touch-action:pan-x pan-y}.leaflet-container.leaflet-touch-drag{-ms-touch-action:pinch-zoom;touch-action:none;touch-action:pinch-zoom}.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom{-ms-touch-action:none;touch-action:none}.leaflet-container{-webkit-tap-highlight-color:transparent}.leaflet-container a{-webkit-tap-highlight-color:rgba(51,181,229,.4)}.leaflet-tile{filter:inherit;visibility:hidden}.leaflet-tile-loaded{visibility:inherit}.leaflet-zoom-box{width:0;height:0;-moz-box-sizing:border-box;box-sizing:border-box;z-index:800}.leaflet-overlay-pane svg{-moz-user-select:none}.leaflet-pane{z-index:400}.leaflet-tile-pane{z-index:200}.leaflet-overlay-pane{z-index:400}.leaflet-shadow-pane{z-index:500}.leaflet-marker-pane{z-index:600}.leaflet-tooltip-pane{z-index:650}.leaflet-popup-pane{z-index:700}.leaflet-map-pane canvas{z-index:100}.leaflet-map-pane svg{z-index:200}.leaflet-vml-shape{width:1px;height:1px}.lvml{behavior:url(#default#VML);display:inline-block;position:absolute}.leaflet-control{position:relative;z-index:800;pointer-events:visiblePainted;pointer-events:auto}.leaflet-top,.leaflet-bottom{position:absolute;z-index:1000;pointer-events:none}.leaflet-top{top:0}.leaflet-right{right:0}.leaflet-bottom{bottom:0}.leaflet-left{left:0}.leaflet-control{float:left;clear:both}.leaflet-right .leaflet-control{float:right}.leaflet-top .leaflet-control{margin-top:10px}.leaflet-bottom .leaflet-control{margin-bottom:10px}.leaflet-left .leaflet-control{margin-left:10px}.leaflet-right .leaflet-control{margin-right:10px}.leaflet-fade-anim .leaflet-popup{opacity:0;-webkit-transition:opacity .2s linear;-moz-transition:opacity .2s linear;transition:opacity .2s linear}.leaflet-fade-anim .leaflet-map-pane .leaflet-popup{opacity:1}.leaflet-zoom-animated{-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0}svg.leaflet-zoom-animated{will-change:transform}.leaflet-zoom-anim .leaflet-zoom-animated{-webkit-transition:-webkit-transform .25s cubic-bezier(0,0,.25,1);-moz-transition:-moz-transform .25s cubic-bezier(0,0,.25,1);transition:transform .25s cubic-bezier(0,0,.25,1)}.leaflet-zoom-anim .leaflet-tile,.leaflet-pan-anim .leaflet-tile{-webkit-transition:none;-moz-transition:none;transition:none}.leaflet-zoom-anim .leaflet-zoom-hide{visibility:hidden}.leaflet-interactive{cursor:pointer}.leaflet-grab{cursor:-webkit-grab;cursor:-moz-grab;cursor:grab}.leaflet-crosshair,.leaflet-crosshair .leaflet-interactive{cursor:crosshair}.leaflet-popup-pane,.leaflet-control{cursor:auto}.leaflet-dragging .leaflet-grab,.leaflet-dragging .leaflet-grab .leaflet-interactive,.leaflet-dragging .leaflet-marker-draggable{cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing;cursor:grabbing}.leaflet-marker-icon,.leaflet-marker-shadow,.leaflet-image-layer,.leaflet-pane>svg path,.leaflet-tile-container{pointer-events:none}.leaflet-marker-icon.leaflet-interactive,.leaflet-image-layer.leaflet-interactive,.leaflet-pane>svg path.leaflet-interactive,svg.leaflet-image-layer.leaflet-interactive path{pointer-events:visiblePainted;pointer-events:auto}.leaflet-container{background:#ddd;outline-offset:1px}.leaflet-container a{color:#0078a8}.leaflet-zoom-box{border:2px dotted #38f;background:rgba(255,255,255,.5)}.leaflet-container{font-family:Helvetica Neue,Arial,Helvetica,sans-serif;font-size:12px;font-size:.75rem;line-height:1.5}.leaflet-bar{box-shadow:0 1px 5px #000000a6;border-radius:4px}.leaflet-bar a{background-color:#fff;border-bottom:1px solid #ccc;width:26px;height:26px;line-height:26px;display:block;text-align:center;text-decoration:none;color:#000}.leaflet-bar a,.leaflet-control-layers-toggle{background-position:50% 50%;background-repeat:no-repeat;display:block}.leaflet-bar a:hover,.leaflet-bar a:focus{background-color:#f4f4f4}.leaflet-bar a:first-child{border-top-left-radius:4px;border-top-right-radius:4px}.leaflet-bar a:last-child{border-bottom-left-radius:4px;border-bottom-right-radius:4px;border-bottom:none}.leaflet-bar a.leaflet-disabled{cursor:default;background-color:#f4f4f4;color:#bbb}.leaflet-touch .leaflet-bar a{width:30px;height:30px;line-height:30px}.leaflet-touch .leaflet-bar a:first-child{border-top-left-radius:2px;border-top-right-radius:2px}.leaflet-touch .leaflet-bar a:last-child{border-bottom-left-radius:2px;border-bottom-right-radius:2px}.leaflet-control-zoom-in,.leaflet-control-zoom-out{font:700 18px Lucida Console,Monaco,monospace;text-indent:1px}.leaflet-touch .leaflet-control-zoom-in,.leaflet-touch .leaflet-control-zoom-out{font-size:22px}.leaflet-control-layers{box-shadow:0 1px 5px #0006;background:#fff;border-radius:5px}.leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC);width:36px;height:36px}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII=);background-size:26px 26px}.leaflet-touch .leaflet-control-layers-toggle{width:44px;height:44px}.leaflet-control-layers .leaflet-control-layers-list,.leaflet-control-layers-expanded .leaflet-control-layers-toggle{display:none}.leaflet-control-layers-expanded .leaflet-control-layers-list{display:block;position:relative}.leaflet-control-layers-expanded{padding:6px 10px 6px 6px;color:#333;background:#fff}.leaflet-control-layers-scrollbar{overflow-y:scroll;overflow-x:hidden;padding-right:5px}.leaflet-control-layers-selector{margin-top:2px;position:relative;top:1px}.leaflet-control-layers label{display:block;font-size:13px;font-size:1.08333em}.leaflet-control-layers-separator{height:0;border-top:1px solid #ddd;margin:5px -10px 5px -6px}.leaflet-default-icon-path{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=)}.leaflet-container .leaflet-control-attribution{background:#fff;background:rgba(255,255,255,.8);margin:0}.leaflet-control-attribution,.leaflet-control-scale-line{padding:0 5px;color:#333;line-height:1.4}.leaflet-control-attribution a{text-decoration:none}.leaflet-control-attribution a:hover,.leaflet-control-attribution a:focus{text-decoration:underline}.leaflet-attribution-flag{display:inline!important;vertical-align:baseline!important;width:1em;height:.6669em}.leaflet-left .leaflet-control-scale{margin-left:5px}.leaflet-bottom .leaflet-control-scale{margin-bottom:5px}.leaflet-control-scale-line{border:2px solid #777;border-top:none;line-height:1.1;padding:2px 5px 1px;white-space:nowrap;-moz-box-sizing:border-box;box-sizing:border-box;background:rgba(255,255,255,.8);text-shadow:1px 1px #fff}.leaflet-control-scale-line:not(:first-child){border-top:2px solid #777;border-bottom:none;margin-top:-2px}.leaflet-control-scale-line:not(:first-child):not(:last-child){border-bottom:2px solid #777}.leaflet-touch .leaflet-control-attribution,.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{box-shadow:none}.leaflet-touch .leaflet-control-layers,.leaflet-touch .leaflet-bar{border:2px solid rgba(0,0,0,.2);background-clip:padding-box}.leaflet-popup{position:absolute;text-align:center;margin-bottom:20px}.leaflet-popup-content-wrapper{padding:1px;text-align:left;border-radius:12px}.leaflet-popup-content{margin:13px 24px 13px 20px;line-height:1.3;font-size:13px;font-size:1.08333em;min-height:1px}.leaflet-popup-content p{margin:1.3em 0}.leaflet-popup-tip-container{width:40px;height:20px;position:absolute;left:50%;margin-top:-1px;margin-left:-20px;overflow:hidden;pointer-events:none}.leaflet-popup-tip{width:17px;height:17px;padding:1px;margin:-10px auto 0;pointer-events:auto;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.leaflet-popup-content-wrapper,.leaflet-popup-tip{background:white;color:#333;box-shadow:0 3px 14px #0006}.leaflet-container a.leaflet-popup-close-button{position:absolute;top:0;right:0;border:none;text-align:center;width:24px;height:24px;font:16px/24px Tahoma,Verdana,sans-serif;color:#757575;text-decoration:none;background:transparent}.leaflet-container a.leaflet-popup-close-button:hover,.leaflet-container a.leaflet-popup-close-button:focus{color:#585858}.leaflet-popup-scrolled{overflow:auto}.leaflet-oldie .leaflet-popup-content-wrapper{-ms-zoom:1}.leaflet-oldie .leaflet-popup-tip{width:24px;margin:0 auto;-ms-filter:"progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";filter:progid:DXImageTransform.Microsoft.Matrix(M11=.70710678,M12=.70710678,M21=-.70710678,M22=.70710678)}.leaflet-oldie .leaflet-control-zoom,.leaflet-oldie .leaflet-control-layers,.leaflet-oldie .leaflet-popup-content-wrapper,.leaflet-oldie .leaflet-popup-tip{border:1px solid #999}.leaflet-div-icon{background:#fff;border:1px solid #666}.leaflet-tooltip{position:absolute;padding:6px;background-color:#fff;border:1px solid #fff;border-radius:3px;color:#222;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;box-shadow:0 1px 3px #0006}.leaflet-tooltip.leaflet-interactive{cursor:pointer;pointer-events:auto}.leaflet-tooltip-top:before,.leaflet-tooltip-bottom:before,.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{position:absolute;pointer-events:none;border:6px solid transparent;background:transparent;content:""}.leaflet-tooltip-bottom{margin-top:6px}.leaflet-tooltip-top{margin-top:-6px}.leaflet-tooltip-bottom:before,.leaflet-tooltip-top:before{left:50%;margin-left:-6px}.leaflet-tooltip-top:before{bottom:0;margin-bottom:-12px;border-top-color:#fff}.leaflet-tooltip-bottom:before{top:0;margin-top:-12px;margin-left:-6px;border-bottom-color:#fff}.leaflet-tooltip-left{margin-left:-6px}.leaflet-tooltip-right{margin-left:6px}.leaflet-tooltip-left:before,.leaflet-tooltip-right:before{top:50%;margin-top:-6px}.leaflet-tooltip-left:before{right:0;margin-right:-12px;border-left-color:#fff}.leaflet-tooltip-right:before{left:0;margin-left:-12px;border-right-color:#fff}@media print{.leaflet-control{-webkit-print-color-adjust:exact;print-color-adjust:exact}}input[type=range]{-webkit-appearance:none;-webkit-tap-highlight-color:rgba(255,255,255,0);width:110px;height:10px;margin:0;border:none;padding:1px 2px;border-radius:30px;background:#f1f0ee;outline:none}input[type=range]::-ms-track{border:inherit;color:transparent;background:transparent}input[type=range]::-ms-fill-lower,input[type=range]::-ms-fill-upper{background:transparent}input[type=range]::-ms-tooltip{display:none}input[type=range]::-ms-thumb{width:15px;height:18px;border-radius:12px;border:0;background-image:linear-gradient(to bottom,#1253a4 0,#1253a4 100%)}.leaflet-control-layers-label{margin:0 0 8px 1px}@-webkit-keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}@keyframes leaflet-gestures-fadein{0%{opacity:0}to{opacity:1}}.leaflet-container:after{-webkit-animation:leaflet-gestures-fadein .8s backwards;animation:leaflet-gestures-fadein .8s backwards;color:#fff;font-family:Roboto,Arial,sans-serif;font-size:22px;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:15px;position:absolute;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.5);z-index:461;pointer-events:none}.leaflet-gesture-handling-touch-warning:after,.leaflet-gesture-handling-scroll-warning:after{-webkit-animation:leaflet-gestures-fadein .8s forwards;animation:leaflet-gestures-fadein .8s forwards}.leaflet-gesture-handling-touch-warning:after{content:attr(data-gesture-handling-touch-content)}.leaflet-gesture-handling-scroll-warning:after{content:attr(data-gesture-handling-scroll-content)}*{box-sizing:border-box}:host{display:flex;align-content:center;justify-content:center;position:relative;font-family:Roboto,sans-serif;background-color:#fff;margin-bottom:1rem}.content{margin:auto}#map{border:1px solid #ccc;width:100%;height:100%}#caption{font-family:sans-serif;width:100%;white-space:nowrap;background-color:#555;color:#fff;padding:4px 6px;bottom:0;height:32px;text-overflow:ellipsis;overflow:hidden}#lat-lng-zoom{position:absolute;font-family:sans-serif;bottom:24px;right:0;width:150px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#lat-lng-zoom:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy;z-index:1000}.card{display:grid;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border-radius:4px;padding:0}.card p{border:none}.card-image{grid-area:1 / 1 / 2 / 2;width:100%;height:190px}.card-title{grid-area:2 / 1 / 3 / 2;font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none}.card-metadata{grid-area:3 / 1 / 4 / 2;list-style:none;padding:.2rem .5rem;margin:0;font-size:.9rem;font-weight:400}.card-abstract{grid-area:4 / 1 / 5 / 2;align-self:flex-end;height:110px;line-height:1.4;font-size:1rem;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-line-clamp:5;-webkit-box-orient:vertical;margin:0 0 .5rem}.leaflet-popup-content{width:280px;margin:0}.leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers.png)}.leaflet-retina .leaflet-control-layers-toggle{background-image:url(https://unpkg.com/leaflet@1.9.3/dist/images/layers-2x.png)}
`,Map$3=_export_sfc(_sfc_main$l,[["styles",[_style_0$f]]]),_hoisted_1$i=["innerHTML"],_hoisted_2$f=["innerHTML"],_hoisted_3$d={class:"card-metadata"},_hoisted_4$b=["innerHTML"],_hoisted_5$a=["innerHTML","onClick"],_hoisted_6$8={key:1},_hoisted_7$7=["innerHTML","onClick"],_hoisted_8$7={class:"card-links",style:{"margin-top":"auto"}},_hoisted_9$6=["manifest"],_hoisted_10$4=["center","zoom"],_hoisted_11$4={key:0},_sfc_main$k=defineComponent({__name:"MediaCard.ce",props:{manifest:{type:String,required:!0}},setup(nt){const rt=nt,it=computed(()=>`"${thumbnail(bt.value)}"`),st=ref(null);computed(()=>{var ln;return(ln=st==null?void 0:st.value)==null?void 0:ln.parentNode}),computed(()=>{var ln,sn;return(sn=(ln=st.value)==null?void 0:ln.getRootNode())==null?void 0:sn.host});const bt=ref(),wt=computed(()=>bt.value&&getItemInfo(bt.value)),Et=computed(()=>wt.value&&`${wt.value.width.toLocaleString()} x ${wt.value.height.toLocaleString()}`),Tt=computed(()=>bt.value&&zt()),At=computed(()=>{let ln=Tt.value.find(sn=>sn.label.toLowerCase()==="location");return ln?`${ln.value}`:null}),Dt=computed(()=>{let ln=Tt.value.find(sn=>sn.label.toLowerCase()==="allmapsid");return ln?`${ln.value}`:null}),Ot=computed(()=>{let ln=Tt.value.find(sn=>sn.label.toLowerCase()==="zoom");return ln?`${parseFloat(ln.value)}`:9});onUpdated(()=>{getManifest(rt.manifest).then(ln=>bt.value=ln)});function zt(){let ln=new Set(["created","updated"]),sn=new Set(["image_url","size"]),bn=getMetadata(bt.value).filter(wn=>!sn.has(wn.label));return bt.value.navDate&&bn.push({label:"navDate",value:[bt.value.navDate]}),bn.push({label:"dimensions",value:[Et.value]}),bn=bn.map(wn=>ln.has(wn.label)?{label:wn.label,value:[wn.value[0].split("T")[0]]}:wn).map(wn=>{if(wn.label==="source_url"){let Mn=wn.value[0].split("/").pop();wn={label:"source",value:[`<a href="${wn.value[0]}" target="_blank">${Mn}</a>`]}}return wn}),bn.sort()}getManifest(rt.manifest).then(ln=>bt.value=ln);function $t(ln){navigator.clipboard&&navigator.clipboard.writeText(ln)}const Bt=ref();watch$1(Bt,ln=>{ln==null||ln.addEventListener("sl-show",()=>{Bt.value&&(Bt.value.panel.style.width=`${nn()}px`)})});const Yt=ref(!1);watch$1(Yt,()=>{var ln,sn;Yt.value?(ln=Bt.value)==null||ln.show():(sn=Bt.value)==null||sn.hide()});function Xt(){Yt.value=!Yt.value}const Ht=ref();watch$1(Ht,ln=>{ln==null||ln.addEventListener("sl-show",()=>{Ht.value&&(Ht.value.panel.style.width=`${nn()}px`)})});const Qt=ref(!1);watch$1(Qt,()=>{var ln,sn;Qt.value?(ln=Ht.value)==null||ln.show():(sn=Ht.value)==null||sn.hide()});function Zt(){Qt.value=!Qt.value}function nn(){let ln=Math.round(window.innerWidth-(isMobile()?0:100)),sn=Math.round(window.innerHeight-150),bn=bt.value;if(bn){let wn=getItemInfo(bn),Mn=Number((wn.width/wn.height).toFixed(4));ln=Mn>=1?ln/Mn>sn?ln=sn*Mn:ln:Math.round(sn*Mn)}return ln}function Kt(ln){var bn;ln.stopPropagation();let sn=`https://iiif.juncture-digital.org/?manifest=${bt.value.id}`;(bn=ln.dataTransfer)==null||bn.setData("text/uri-list",sn)}return(ln,sn)=>bt.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"root",ref:st},[createBaseVNode("div",{class:"card",draggable:"true",onDragstart:Kt},[createBaseVNode("div",{class:"card-image",style:normalizeStyle({backgroundImage:`url(${it.value})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",backgroundPosition:"top"}),onClick:Xt},null,4),createBaseVNode("div",{class:"card-title",innerHTML:unref(label)(bt.value)},null,8,_hoisted_1$i),createBaseVNode("div",{class:"card-abstract",innerHTML:unref(summary)(bt.value)},null,8,_hoisted_2$f),createBaseVNode("ul",_hoisted_3$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tt.value,bn=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-label",innerHTML:bn.label},null,8,_hoisted_4$b),bn.value.length===1?(openBlock(),createElementBlock(Fragment,{key:0},[bn.label==="location"?(openBlock(),createElementBlock("sl-icon-button",{key:0,name:"chat-square-text",label:"Show Location",onClick:Zt})):createCommentVNode("",!0),createBaseVNode("span",{class:"md-value",innerHTML:bn.value[0],onClick:wn=>$t(bn.value)},null,8,_hoisted_5$a)],64)):(openBlock(),createElementBlock("ul",_hoisted_6$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bn.value,wn=>(openBlock(),createElementBlock("li",null,[createBaseVNode("span",{class:"md-value",innerHTML:wn,onClick:Mn=>$t(wn)},null,8,_hoisted_7$7)]))),256))]))]))),256))]),createBaseVNode("div",_hoisted_8$7,[createBaseVNode("img",{src:"https://juncture-digital.github.io/web-app/static/iiif.png",class:"draggable-iiif",alt:"IIIF manifest icon",onClick:sn[0]||(sn[0]=bn=>$t(bt.value.id)),onDragstart:Kt},null,32)])],32),createBaseVNode("sl-dialog",{ref_key:"imageDialog",ref:Bt,id:"image-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},[Yt.value?(openBlock(),createElementBlock("ve-media",{key:0,manifest:bt.value.id,"zoom-on-scroll":""},null,8,_hoisted_9$6)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:Xt,variant:"primary"},"Close")],512),createBaseVNode("sl-dialog",{ref_key:"mapDialog",ref:Ht,id:"map-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},[Qt.value?(openBlock(),createElementBlock("ve-map",{key:0,center:At.value,zoom:Ot.value},[createBaseVNode("ul",null,[createBaseVNode("li",null,toDisplayString(At.value),1),Dt.value?(openBlock(),createElementBlock("li",_hoisted_11$4,"allmaps="+toDisplayString(Dt.value),1)):createCommentVNode("",!0)])],8,_hoisted_10$4)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:Zt,variant:"primary"},"Close")],512)],512)):createCommentVNode("",!0)}}),_style_0$e=`*{box-sizing:border-box}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.md-label{font-weight:700;margin-right:6px;color:#444}.md-value{display:inline;line-height:1.2rem;overflow-wrap:break-word;word-wrap:break-word;-ms-word-break:break-all;word-break:break-all;word-break:break-word;-ms-hyphens:auto;-moz-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;color:#444;cursor:copy}.md-value:hover{text-decoration:underline}.md-label:after{content:":"}.card-metadata ul ul{margin-left:18px}@media (max-width: 480px){.card-image{height:72vw}}.card{display:flex;flex-flow:column nowrap;grid-template-columns:1fr;grid-template-rows:auto auto auto 1fr 0px;border:1px solid #ccc;border-radius:4px;padding:0;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}.card p{border:none}.card-image{align-self:flex-start;width:100%;height:300px;cursor:pointer}.card-title{font-weight:700;font-size:1.5rem;line-height:1;padding:1.3rem .5rem .2rem;text-decoration:none;color:#444}.card-metadata{list-style:none;padding:.2rem .5rem;margin:12px 0 0;font-size:.9em;font-weight:400;max-height:260px;overflow-y:scroll}.card-abstract{align-self:flex-start;line-height:1.4;font-size:.9em;padding:.5rem .5rem 0;overflow:hidden;display:-webkit-box;-webkit-box-orient:vertical;margin:0 0 .5rem;-webkit-line-clamp:8}.card-links{padding:6px}.card-links img{height:24px}.draggable-iiif{cursor:grab}.clamp5{-webkit-line-clamp:5}
`,MediaCard=_export_sfc(_sfc_main$k,[["styles",[_style_0$e]]]),_hoisted_1$h={class:"content"},_hoisted_2$e=["caption"],_sfc_main$j=defineComponent({__name:"MediaSelector.ce",props:{caption:{type:String},width:{type:String},height:{type:String},sticky:{type:Boolean},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Bt;return(Bt=it==null?void 0:it.value)==null?void 0:Bt.parentNode}),bt=computed(()=>{var Bt,Yt;return(Yt=(Bt=it.value)==null?void 0:Bt.getRootNode())==null?void 0:Yt.host}),wt=computed(()=>{var Bt;return(Bt=st.value)==null?void 0:Bt.querySelector(".content")}),Et=ref(null),Tt=computed(()=>{var Bt,Yt;return((Yt=(Bt=Et.value)==null?void 0:Bt.getAttribute("data-media"))==null?void 0:Yt.split(/\s/).filter(Xt=>Xt))||[]}),At=ref();watch$1(bt,()=>Dt()),watch$1(At,()=>console.log(`selected=${toRaw(At.value)}`));function Dt(){zt(),$t()}const Ot=isMobile()?"full":rt.right?"right":rt.left?"left":"full";function zt(){bt.value.classList.add("ve-component"),bt.value.classList.add(Ot),Ot==="full"?bt.value.style.width="100%":(bt.value.style.float=Ot,bt.value.style.width="calc(50% - 16px)"),bt.value.style.width=window.getComputedStyle(bt.value).width,rt.sticky&&makeSticky(bt.value),wt.value.style.width=rt.width||"100%",nextTick(()=>{let Bt=parseInt(window.getComputedStyle(wt.value).width.slice(0,-2)),Yt=Bt;if(rt.sticky&&Ot==="full"){let Xt=Math.round(window.innerHeight*.4);Yt=Math.min(Xt,Bt)}wt.value.style.width=`${Bt}px`,wt.value.style.height=`${Yt}px`})}function $t(){Et.value=document.querySelector(".active"),new MutationObserver(Yt=>{Yt.forEach(Xt=>{if(Xt.type==="attributes"){let Ht=Xt.target;Array.from(Ht.classList).indexOf("active")>=0&&(Et.value=Ht)}})}).observe(document,{subtree:!0,attributes:!0})}return(Bt,Yt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"main"},[createBaseVNode("div",_hoisted_1$h,[Tt.value.length>0?(openBlock(),createElementBlock("ve-media",{key:0,grid:"",small:"",caption:Bt.$props.caption},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tt.value,(Xt,Ht)=>(openBlock(),createElementBlock("li",{key:`item-${Ht}`},toDisplayString(Xt),1))),128))])],8,_hoisted_2$e)):createCommentVNode("",!0)])],512))}}),_style_0$d=`sl-button{margin:6px 3px}
`,MediaSelector=_export_sfc(_sfc_main$j,[["styles",[_style_0$d]]]);var dist$1={exports:{}},Sister;/**
* @link https://github.com/gajus/sister for the canonical source repository
* @license https://github.com/gajus/sister/blob/master/LICENSE BSD 3-Clause
*/Sister=function(){var nt={},rt={};return nt.on=function(it,st){var bt={name:it,handler:st};return rt[it]=rt[it]||[],rt[it].unshift(bt),bt},nt.off=function(it){var st=rt[it.name].indexOf(it);st!==-1&&rt[it.name].splice(st,1)},nt.trigger=function(it,st){var bt=rt[it],wt;if(bt)for(wt=bt.length;wt--;)bt[wt].handler(st)},nt};var sister=Sister,loadYouTubeIframeApi={exports:{}},loadScript=function nt(rt,it,st){var bt=document.head||document.getElementsByTagName("head")[0],wt=document.createElement("script");typeof it=="function"&&(st=it,it={}),it=it||{},st=st||function(){},wt.type=it.type||"text/javascript",wt.charset=it.charset||"utf8",wt.async="async"in it?!!it.async:!0,wt.src=rt,it.attrs&&setAttributes(wt,it.attrs),it.text&&(wt.text=""+it.text);var Et="onload"in wt?stdOnEnd:ieOnEnd;Et(wt,st),wt.onload||stdOnEnd(wt,st),bt.appendChild(wt)};function setAttributes(nt,rt){for(var it in rt)nt.setAttribute(it,rt[it])}function stdOnEnd(nt,rt){nt.onload=function(){this.onerror=this.onload=null,rt(null,nt)},nt.onerror=function(){this.onerror=this.onload=null,rt(new Error("Failed to load "+this.src),nt)}}function ieOnEnd(nt,rt){nt.onreadystatechange=function(){this.readyState!="complete"&&this.readyState!="loaded"||(this.onreadystatechange=null,rt(null,nt))}}(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0});var it=loadScript,st=bt(it);function bt(wt){return wt&&wt.__esModule?wt:{default:wt}}rt.default=function(wt){var Et=new Promise(function(Tt){if(window.YT&&window.YT.Player&&window.YT.Player instanceof Function){Tt(window.YT);return}else{var At=window.location.protocol==="http:"?"http:":"https:";(0,st.default)(At+"//www.youtube.com/iframe_api",function(Ot){Ot&&wt.trigger("error",Ot)})}var Dt=window.onYouTubeIframeAPIReady;window.onYouTubeIframeAPIReady=function(){Dt&&Dt(),Tt(window.YT)}});return Et},nt.exports=rt.default})(loadYouTubeIframeApi,loadYouTubeIframeApi.exports);var YouTubePlayer$1={exports:{}},browser={exports:{}},debug={exports:{}},s=1e3,m=s*60,h=m*60,d=h*24,y$1=d*365.25,ms=function(nt,rt){rt=rt||{};var it=typeof nt;if(it==="string"&&nt.length>0)return parse$3(nt);if(it==="number"&&isNaN(nt)===!1)return rt.long?fmtLong(nt):fmtShort(nt);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(nt))};function parse$3(nt){if(nt=String(nt),!(nt.length>100)){var rt=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(nt);if(!!rt){var it=parseFloat(rt[1]),st=(rt[2]||"ms").toLowerCase();switch(st){case"years":case"year":case"yrs":case"yr":case"y":return it*y$1;case"days":case"day":case"d":return it*d;case"hours":case"hour":case"hrs":case"hr":case"h":return it*h;case"minutes":case"minute":case"mins":case"min":case"m":return it*m;case"seconds":case"second":case"secs":case"sec":case"s":return it*s;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return it;default:return}}}}function fmtShort(nt){return nt>=d?Math.round(nt/d)+"d":nt>=h?Math.round(nt/h)+"h":nt>=m?Math.round(nt/m)+"m":nt>=s?Math.round(nt/s)+"s":nt+"ms"}function fmtLong(nt){return plural(nt,d,"day")||plural(nt,h,"hour")||plural(nt,m,"minute")||plural(nt,s,"second")||nt+" ms"}function plural(nt,rt,it){if(!(nt<rt))return nt<rt*1.5?Math.floor(nt/rt)+" "+it:Math.ceil(nt/rt)+" "+it+"s"}(function(nt,rt){rt=nt.exports=bt.debug=bt.default=bt,rt.coerce=At,rt.disable=Et,rt.enable=wt,rt.enabled=Tt,rt.humanize=ms,rt.names=[],rt.skips=[],rt.formatters={};var it;function st(Dt){var Ot=0,zt;for(zt in Dt)Ot=(Ot<<5)-Ot+Dt.charCodeAt(zt),Ot|=0;return rt.colors[Math.abs(Ot)%rt.colors.length]}function bt(Dt){function Ot(){if(!!Ot.enabled){var zt=Ot,$t=+new Date,Bt=$t-(it||$t);zt.diff=Bt,zt.prev=it,zt.curr=$t,it=$t;for(var Yt=new Array(arguments.length),Xt=0;Xt<Yt.length;Xt++)Yt[Xt]=arguments[Xt];Yt[0]=rt.coerce(Yt[0]),typeof Yt[0]!="string"&&Yt.unshift("%O");var Ht=0;Yt[0]=Yt[0].replace(/%([a-zA-Z%])/g,function(Zt,nn){if(Zt==="%%")return Zt;Ht++;var Kt=rt.formatters[nn];if(typeof Kt=="function"){var ln=Yt[Ht];Zt=Kt.call(zt,ln),Yt.splice(Ht,1),Ht--}return Zt}),rt.formatArgs.call(zt,Yt);var Qt=Ot.log||rt.log||console.log.bind(console);Qt.apply(zt,Yt)}}return Ot.namespace=Dt,Ot.enabled=rt.enabled(Dt),Ot.useColors=rt.useColors(),Ot.color=st(Dt),typeof rt.init=="function"&&rt.init(Ot),Ot}function wt(Dt){rt.save(Dt),rt.names=[],rt.skips=[];for(var Ot=(typeof Dt=="string"?Dt:"").split(/[\s,]+/),zt=Ot.length,$t=0;$t<zt;$t++)!Ot[$t]||(Dt=Ot[$t].replace(/\*/g,".*?"),Dt[0]==="-"?rt.skips.push(new RegExp("^"+Dt.substr(1)+"$")):rt.names.push(new RegExp("^"+Dt+"$")))}function Et(){rt.enable("")}function Tt(Dt){var Ot,zt;for(Ot=0,zt=rt.skips.length;Ot<zt;Ot++)if(rt.skips[Ot].test(Dt))return!1;for(Ot=0,zt=rt.names.length;Ot<zt;Ot++)if(rt.names[Ot].test(Dt))return!0;return!1}function At(Dt){return Dt instanceof Error?Dt.stack||Dt.message:Dt}})(debug,debug.exports);(function(nt,rt){rt=nt.exports=debug.exports,rt.log=bt,rt.formatArgs=st,rt.save=wt,rt.load=Et,rt.useColors=it,rt.storage=typeof chrome<"u"&&typeof chrome.storage<"u"?chrome.storage.local:Tt(),rt.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"];function it(){return typeof window<"u"&&window.process&&window.process.type==="renderer"?!0:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}rt.formatters.j=function(At){try{return JSON.stringify(At)}catch(Dt){return"[UnexpectedJSONParseError]: "+Dt.message}};function st(At){var Dt=this.useColors;if(At[0]=(Dt?"%c":"")+this.namespace+(Dt?" %c":" ")+At[0]+(Dt?"%c ":" ")+"+"+rt.humanize(this.diff),!!Dt){var Ot="color: "+this.color;At.splice(1,0,Ot,"color: inherit");var zt=0,$t=0;At[0].replace(/%[a-zA-Z%]/g,function(Bt){Bt!=="%%"&&(zt++,Bt==="%c"&&($t=zt))}),At.splice($t,0,Ot)}}function bt(){return typeof console=="object"&&console.log&&Function.prototype.apply.call(console.log,console,arguments)}function wt(At){try{At==null?rt.storage.removeItem("debug"):rt.storage.debug=At}catch{}}function Et(){var At;try{At=rt.storage.debug}catch{}return!At&&typeof process<"u"&&"env"in process&&(At={version:"2.0.0-beta.45"}.DEBUG),At}rt.enable(Et());function Tt(){try{return window.localStorage}catch{}}})(browser,browser.exports);var functionNames={exports:{}};(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=["cueVideoById","loadVideoById","cueVideoByUrl","loadVideoByUrl","playVideo","pauseVideo","stopVideo","getVideoLoadedFraction","cuePlaylist","loadPlaylist","nextVideo","previousVideo","playVideoAt","setShuffle","setLoop","getPlaylist","getPlaylistIndex","setOption","mute","unMute","isMuted","setVolume","getVolume","seekTo","getPlayerState","getPlaybackRate","setPlaybackRate","getAvailablePlaybackRates","getPlaybackQuality","setPlaybackQuality","getAvailableQualityLevels","getCurrentTime","getDuration","removeEventListener","getVideoUrl","getVideoEmbedCode","getOptions","getOption","addEventListener","destroy","setSize","getIframe"],nt.exports=rt.default})(functionNames,functionNames.exports);var eventNames={exports:{}};(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default=["ready","stateChange","playbackQualityChange","playbackRateChange","error","apiChange","volumeChange"],nt.exports=rt.default})(eventNames,eventNames.exports);var FunctionStateMap={exports:{}},PlayerStates={exports:{}};(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0}),rt.default={BUFFERING:3,ENDED:0,PAUSED:2,PLAYING:1,UNSTARTED:-1,VIDEO_CUED:5},nt.exports=rt.default})(PlayerStates,PlayerStates.exports);(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0});var it=PlayerStates.exports,st=bt(it);function bt(wt){return wt&&wt.__esModule?wt:{default:wt}}rt.default={pauseVideo:{acceptableStates:[st.default.ENDED,st.default.PAUSED],stateChangeRequired:!1},playVideo:{acceptableStates:[st.default.ENDED,st.default.PLAYING],stateChangeRequired:!1},seekTo:{acceptableStates:[st.default.ENDED,st.default.PLAYING,st.default.PAUSED],stateChangeRequired:!0,timeout:3e3}},nt.exports=rt.default})(FunctionStateMap,FunctionStateMap.exports);(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0});var it=browser.exports,st=Ot(it),bt=functionNames.exports,wt=Ot(bt),Et=eventNames.exports,Tt=Ot(Et),At=FunctionStateMap.exports,Dt=Ot(At);function Ot(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}var zt=(0,st.default)("youtube-player"),$t={};$t.proxyEvents=function(Bt){var Yt={},Xt=function(bn){var wn="on"+bn.slice(0,1).toUpperCase()+bn.slice(1);Yt[wn]=function(Mn){zt('event "%s"',wn,Mn),Bt.trigger(bn,Mn)}},Ht=!0,Qt=!1,Zt=void 0;try{for(var nn=Tt.default[Symbol.iterator](),Kt;!(Ht=(Kt=nn.next()).done);Ht=!0){var ln=Kt.value;Xt(ln)}}catch(sn){Qt=!0,Zt=sn}finally{try{!Ht&&nn.return&&nn.return()}finally{if(Qt)throw Zt}}return Yt},$t.promisifyPlayer=function(Bt){var Yt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Xt={},Ht=function(wn){Yt&&Dt.default[wn]?Xt[wn]=function(){for(var Mn=arguments.length,Sn=Array(Mn),Dn=0;Dn<Mn;Dn++)Sn[Dn]=arguments[Dn];return Bt.then(function(gn){var Un=Dt.default[wn],pn=gn.getPlayerState(),yr=gn[wn].apply(gn,Sn);return Un.stateChangeRequired||Array.isArray(Un.acceptableStates)&&Un.acceptableStates.indexOf(pn)===-1?new Promise(function(xn){var Mr=function fr(){var cr=gn.getPlayerState(),Gn=void 0;typeof Un.timeout=="number"&&(Gn=setTimeout(function(){gn.removeEventListener("onStateChange",fr),xn()},Un.timeout)),Array.isArray(Un.acceptableStates)&&Un.acceptableStates.indexOf(cr)!==-1&&(gn.removeEventListener("onStateChange",fr),clearTimeout(Gn),xn())};gn.addEventListener("onStateChange",Mr)}).then(function(){return yr}):yr})}:Xt[wn]=function(){for(var Mn=arguments.length,Sn=Array(Mn),Dn=0;Dn<Mn;Dn++)Sn[Dn]=arguments[Dn];return Bt.then(function(gn){return gn[wn].apply(gn,Sn)})}},Qt=!0,Zt=!1,nn=void 0;try{for(var Kt=wt.default[Symbol.iterator](),ln;!(Qt=(ln=Kt.next()).done);Qt=!0){var sn=ln.value;Ht(sn)}}catch(bn){Zt=!0,nn=bn}finally{try{!Qt&&Kt.return&&Kt.return()}finally{if(Zt)throw nn}}return Xt},rt.default=$t,nt.exports=rt.default})(YouTubePlayer$1,YouTubePlayer$1.exports);(function(nt,rt){Object.defineProperty(rt,"__esModule",{value:!0});var it=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(zt){return typeof zt}:function(zt){return zt&&typeof Symbol=="function"&&zt.constructor===Symbol&&zt!==Symbol.prototype?"symbol":typeof zt},st=sister,bt=Dt(st),wt=loadYouTubeIframeApi.exports,Et=Dt(wt),Tt=YouTubePlayer$1.exports,At=Dt(Tt);function Dt(zt){return zt&&zt.__esModule?zt:{default:zt}}var Ot=void 0;rt.default=function(zt){var $t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Bt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,Yt=(0,bt.default)();if(Ot||(Ot=(0,Et.default)(Yt)),$t.events)throw new Error("Event handlers cannot be overwritten.");if(typeof zt=="string"&&!document.getElementById(zt))throw new Error('Element "'+zt+'" does not exist.');$t.events=At.default.proxyEvents(Yt);var Xt=new Promise(function(Qt){if((typeof zt>"u"?"undefined":it(zt))==="object"&&zt.playVideo instanceof Function){var Zt=zt;Qt(Zt)}else Ot.then(function(nn){var Kt=new nn.Player(zt,$t);return Yt.on("ready",function(){Qt(Kt)}),null})}),Ht=At.default.promisifyPlayer(Xt,Bt);return Ht.on=Yt.on,Ht.off=Yt.off,Ht},nt.exports=rt.default})(dist$1,dist$1.exports);const YouTubePlayer=getDefaultExportFromCjs(dist$1.exports);/*! @vimeo/player v2.18.0 | (c) 2022 Vimeo | MIT License | https://github.com/vimeo/player.js */function _classCallCheck(nt,rt){if(!(nt instanceof rt))throw new TypeError("Cannot call a class as a function")}function _defineProperties(nt,rt){for(var it=0;it<rt.length;it++){var st=rt[it];st.enumerable=st.enumerable||!1,st.configurable=!0,"value"in st&&(st.writable=!0),Object.defineProperty(nt,st.key,st)}}function _createClass(nt,rt,it){return rt&&_defineProperties(nt.prototype,rt),it&&_defineProperties(nt,it),nt}var isNode=typeof global<"u"&&{}.toString.call(global)==="[object global]";function getMethodName(nt,rt){return nt.indexOf(rt.toLowerCase())===0?nt:"".concat(rt.toLowerCase()).concat(nt.substr(0,1).toUpperCase()).concat(nt.substr(1))}function isDomElement(nt){return Boolean(nt&&nt.nodeType===1&&"nodeName"in nt&&nt.ownerDocument&&nt.ownerDocument.defaultView)}function isInteger$1(nt){return!isNaN(parseFloat(nt))&&isFinite(nt)&&Math.floor(nt)==nt}function isVimeoUrl(nt){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(nt)}function isVimeoEmbed(nt){var rt=/^https:\/\/player\.vimeo\.com\/video\/\d+/;return rt.test(nt)}function getVimeoUrl(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},rt=nt.id,it=nt.url,st=rt||it;if(!st)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(isInteger$1(st))return"https://vimeo.com/".concat(st);if(isVimeoUrl(st))return st.replace("http:","https:");throw rt?new TypeError("\u201C".concat(rt,"\u201D is not a valid video id.")):new TypeError("\u201C".concat(st,"\u201D is not a vimeo.com url."))}var arrayIndexOfSupport=typeof Array.prototype.indexOf<"u",postMessageSupport=typeof window<"u"&&typeof window.postMessage<"u";if(!isNode&&(!arrayIndexOfSupport||!postMessageSupport))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(nt,rt){return rt={exports:{}},nt(rt,rt.exports),rt.exports}/*!
 * weakmap-polyfill v2.0.4 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2021 polygonplanet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */(function(nt){if(nt.WeakMap)return;var rt=Object.prototype.hasOwnProperty,it=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{value:1}).x===1}catch{}}(),st=function(wt,Et,Tt){it?Object.defineProperty(wt,Et,{configurable:!0,writable:!0,value:Tt}):wt[Et]=Tt};nt.WeakMap=function(){function wt(){if(this===void 0)throw new TypeError("Constructor WeakMap requires 'new'");if(st(this,"_id",Tt("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}st(wt.prototype,"delete",function(Dt){if(Et(this,"delete"),!bt(Dt))return!1;var Ot=Dt[this._id];return Ot&&Ot[0]===Dt?(delete Dt[this._id],!0):!1}),st(wt.prototype,"get",function(Dt){if(Et(this,"get"),!!bt(Dt)){var Ot=Dt[this._id];if(Ot&&Ot[0]===Dt)return Ot[1]}}),st(wt.prototype,"has",function(Dt){if(Et(this,"has"),!bt(Dt))return!1;var Ot=Dt[this._id];return!!(Ot&&Ot[0]===Dt)}),st(wt.prototype,"set",function(Dt,Ot){if(Et(this,"set"),!bt(Dt))throw new TypeError("Invalid value used as weak map key");var zt=Dt[this._id];return zt&&zt[0]===Dt?(zt[1]=Ot,this):(st(Dt,this._id,[Dt,Ot]),this)});function Et(Dt,Ot){if(!bt(Dt)||!rt.call(Dt,"_id"))throw new TypeError(Ot+" method called on incompatible receiver "+typeof Dt)}function Tt(Dt){return Dt+"_"+At()+"."+At()}function At(){return Math.random().toString().substring(2)}return st(wt,"_polyfill",!0),wt}();function bt(wt){return Object(wt)===wt}})(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:commonjsGlobal);var npo_src=createCommonjsModule(function(nt){/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/(function(it,st,bt){st[it]=st[it]||bt(),nt.exports&&(nt.exports=st[it])})("Promise",commonjsGlobal,function(){var it,st,bt,wt=Object.prototype.toString,Et=typeof setImmediate<"u"?function(nn){return setImmediate(nn)}:setTimeout;try{Object.defineProperty({},"x",{}),it=function(nn,Kt,ln,sn){return Object.defineProperty(nn,Kt,{value:ln,writable:!0,configurable:sn!==!1})}}catch{it=function(Kt,ln,sn){return Kt[ln]=sn,Kt}}bt=function(){var nn,Kt,ln;function sn(bn,wn){this.fn=bn,this.self=wn,this.next=void 0}return{add:function(wn,Mn){ln=new sn(wn,Mn),Kt?Kt.next=ln:nn=ln,Kt=ln,ln=void 0},drain:function(){var wn=nn;for(nn=Kt=st=void 0;wn;)wn.fn.call(wn.self),wn=wn.next}}}();function Tt(Zt,nn){bt.add(Zt,nn),st||(st=Et(bt.drain))}function At(Zt){var nn,Kt=typeof Zt;return Zt!=null&&(Kt=="object"||Kt=="function")&&(nn=Zt.then),typeof nn=="function"?nn:!1}function Dt(){for(var Zt=0;Zt<this.chain.length;Zt++)Ot(this,this.state===1?this.chain[Zt].success:this.chain[Zt].failure,this.chain[Zt]);this.chain.length=0}function Ot(Zt,nn,Kt){var ln,sn;try{nn===!1?Kt.reject(Zt.msg):(nn===!0?ln=Zt.msg:ln=nn.call(void 0,Zt.msg),ln===Kt.promise?Kt.reject(TypeError("Promise-chain cycle")):(sn=At(ln))?sn.call(ln,Kt.resolve,Kt.reject):Kt.resolve(ln))}catch(bn){Kt.reject(bn)}}function zt(Zt){var nn,Kt=this;if(!Kt.triggered){Kt.triggered=!0,Kt.def&&(Kt=Kt.def);try{(nn=At(Zt))?Tt(function(){var ln=new Yt(Kt);try{nn.call(Zt,function(){zt.apply(ln,arguments)},function(){$t.apply(ln,arguments)})}catch(sn){$t.call(ln,sn)}}):(Kt.msg=Zt,Kt.state=1,Kt.chain.length>0&&Tt(Dt,Kt))}catch(ln){$t.call(new Yt(Kt),ln)}}}function $t(Zt){var nn=this;nn.triggered||(nn.triggered=!0,nn.def&&(nn=nn.def),nn.msg=Zt,nn.state=2,nn.chain.length>0&&Tt(Dt,nn))}function Bt(Zt,nn,Kt,ln){for(var sn=0;sn<nn.length;sn++)(function(wn){Zt.resolve(nn[wn]).then(function(Sn){Kt(wn,Sn)},ln)})(sn)}function Yt(Zt){this.def=Zt,this.triggered=!1}function Xt(Zt){this.promise=Zt,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function Ht(Zt){if(typeof Zt!="function")throw TypeError("Not a function");if(this.__NPO__!==0)throw TypeError("Not a promise");this.__NPO__=1;var nn=new Xt(this);this.then=function(ln,sn){var bn={success:typeof ln=="function"?ln:!0,failure:typeof sn=="function"?sn:!1};return bn.promise=new this.constructor(function(Mn,Sn){if(typeof Mn!="function"||typeof Sn!="function")throw TypeError("Not a function");bn.resolve=Mn,bn.reject=Sn}),nn.chain.push(bn),nn.state!==0&&Tt(Dt,nn),bn.promise},this.catch=function(ln){return this.then(void 0,ln)};try{Zt.call(void 0,function(ln){zt.call(nn,ln)},function(ln){$t.call(nn,ln)})}catch(Kt){$t.call(nn,Kt)}}var Qt=it({},"constructor",Ht,!1);return Ht.prototype=Qt,it(Qt,"__NPO__",0,!1),it(Ht,"resolve",function(nn){var Kt=this;return nn&&typeof nn=="object"&&nn.__NPO__===1?nn:new Kt(function(sn,bn){if(typeof sn!="function"||typeof bn!="function")throw TypeError("Not a function");sn(nn)})}),it(Ht,"reject",function(nn){return new this(function(ln,sn){if(typeof ln!="function"||typeof sn!="function")throw TypeError("Not a function");sn(nn)})}),it(Ht,"all",function(nn){var Kt=this;return wt.call(nn)!="[object Array]"?Kt.reject(TypeError("Not an array")):nn.length===0?Kt.resolve([]):new Kt(function(sn,bn){if(typeof sn!="function"||typeof bn!="function")throw TypeError("Not a function");var wn=nn.length,Mn=Array(wn),Sn=0;Bt(Kt,nn,function(gn,Un){Mn[gn]=Un,++Sn===wn&&sn(Mn)},bn)})}),it(Ht,"race",function(nn){var Kt=this;return wt.call(nn)!="[object Array]"?Kt.reject(TypeError("Not an array")):new Kt(function(sn,bn){if(typeof sn!="function"||typeof bn!="function")throw TypeError("Not a function");Bt(Kt,nn,function(Mn,Sn){sn(Sn)},bn)})}),Ht})}),callbackMap=new WeakMap;function storeCallback(nt,rt,it){var st=callbackMap.get(nt.element)||{};rt in st||(st[rt]=[]),st[rt].push(it),callbackMap.set(nt.element,st)}function getCallbacks(nt,rt){var it=callbackMap.get(nt.element)||{};return it[rt]||[]}function removeCallback(nt,rt,it){var st=callbackMap.get(nt.element)||{};if(!st[rt])return!0;if(!it)return st[rt]=[],callbackMap.set(nt.element,st),!0;var bt=st[rt].indexOf(it);return bt!==-1&&st[rt].splice(bt,1),callbackMap.set(nt.element,st),st[rt]&&st[rt].length===0}function shiftCallbacks(nt,rt){var it=getCallbacks(nt,rt);if(it.length<1)return!1;var st=it.shift();return removeCallback(nt,rt,st),st}function swapCallbacks(nt,rt){var it=callbackMap.get(nt);callbackMap.set(rt,it),callbackMap.delete(nt)}function parseMessageData(nt){if(typeof nt=="string")try{nt=JSON.parse(nt)}catch(rt){return console.warn(rt),{}}return nt}function postMessage(nt,rt,it){if(!(!nt.element.contentWindow||!nt.element.contentWindow.postMessage)){var st={method:rt};it!==void 0&&(st.value=it);var bt=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));bt>=8&&bt<10&&(st=JSON.stringify(st)),nt.element.contentWindow.postMessage(st,nt.origin)}}function processData(nt,rt){rt=parseMessageData(rt);var it=[],st;if(rt.event){if(rt.event==="error"){var bt=getCallbacks(nt,rt.data.method);bt.forEach(function(Et){var Tt=new Error(rt.data.message);Tt.name=rt.data.name,Et.reject(Tt),removeCallback(nt,rt.data.method,Et)})}it=getCallbacks(nt,"event:".concat(rt.event)),st=rt.data}else if(rt.method){var wt=shiftCallbacks(nt,rt.method);wt&&(it.push(wt),st=rt.value)}it.forEach(function(Et){try{if(typeof Et=="function"){Et.call(nt,st);return}Et.resolve(st)}catch{}})}var oEmbedParameters=["autopause","autoplay","background","byline","color","controls","dnt","height","id","interactive_params","keyboard","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function getOEmbedParameters(nt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return oEmbedParameters.reduce(function(it,st){var bt=nt.getAttribute("data-vimeo-".concat(st));return(bt||bt==="")&&(it[st]=bt===""?1:bt),it},rt)}function createEmbed(nt,rt){var it=nt.html;if(!rt)throw new TypeError("An element must be provided");if(rt.getAttribute("data-vimeo-initialized")!==null)return rt.querySelector("iframe");var st=document.createElement("div");return st.innerHTML=it,rt.appendChild(st.firstChild),rt.setAttribute("data-vimeo-initialized","true"),rt.querySelector("iframe")}function getOEmbedData(nt){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=arguments.length>2?arguments[2]:void 0;return new Promise(function(st,bt){if(!isVimeoUrl(nt))throw new TypeError("\u201C".concat(nt,"\u201D is not a vimeo.com url."));var wt="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(nt));for(var Et in rt)rt.hasOwnProperty(Et)&&(wt+="&".concat(Et,"=").concat(encodeURIComponent(rt[Et])));var Tt="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;Tt.open("GET",wt,!0),Tt.onload=function(){if(Tt.status===404){bt(new Error("\u201C".concat(nt,"\u201D was not found.")));return}if(Tt.status===403){bt(new Error("\u201C".concat(nt,"\u201D is not embeddable.")));return}try{var At=JSON.parse(Tt.responseText);if(At.domain_status_code===403){createEmbed(At,it),bt(new Error("\u201C".concat(nt,"\u201D is not embeddable.")));return}st(At)}catch(Dt){bt(Dt)}},Tt.onerror=function(){var At=Tt.status?" (".concat(Tt.status,")"):"";bt(new Error("There was an error fetching the embed code from Vimeo".concat(At,".")))},Tt.send()})}function initializeEmbeds(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document,rt=[].slice.call(nt.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),it=function(bt){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(bt))};rt.forEach(function(st){try{if(st.getAttribute("data-vimeo-defer")!==null)return;var bt=getOEmbedParameters(st),wt=getVimeoUrl(bt);getOEmbedData(wt,bt,st).then(function(Et){return createEmbed(Et,st)}).catch(it)}catch(Et){it(Et)}})}function resizeEmbeds(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var rt=function(st){if(!!isVimeoUrl(st.origin)&&!(!st.data||st.data.event!=="spacechange")){for(var bt=nt.querySelectorAll("iframe"),wt=0;wt<bt.length;wt++)if(bt[wt].contentWindow===st.source){var Et=bt[wt].parentElement;Et.style.paddingBottom="".concat(st.data.data[0].bottom,"px");break}}};window.addEventListener("message",rt)}}function initAppendVideoMetadata(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoSeoMetadataAppended){window.VimeoSeoMetadataAppended=!0;var rt=function(st){if(!!isVimeoUrl(st.origin)){var bt=parseMessageData(st.data);if(!(!bt||bt.event!=="ready"))for(var wt=nt.querySelectorAll("iframe"),Et=0;Et<wt.length;Et++){var Tt=wt[Et],At=Tt.contentWindow===st.source;if(isVimeoEmbed(Tt.src)&&At){var Dt=new Player(Tt);Dt.callMethod("appendVideoMetadata",window.location.href)}}}};window.addEventListener("message",rt)}}function checkUrlTimeParam(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;if(!window.VimeoCheckedUrlTimeParam){window.VimeoCheckedUrlTimeParam=!0;var rt=function(bt){"console"in window&&console.error&&console.error("There was an error getting video Id: ".concat(bt))},it=function(bt){if(!!isVimeoUrl(bt.origin)){var wt=parseMessageData(bt.data);if(!(!wt||wt.event!=="ready"))for(var Et=nt.querySelectorAll("iframe"),Tt=0;Tt<Et.length;Tt++){var At=Et[Tt],Dt=At.contentWindow===bt.source;isVimeoEmbed(At.src)&&Dt&&function(){var Ot=new Player(At);Ot.getVideoId().then(function(zt){var $t=new RegExp("[?&]vimeo_t_".concat(zt,"=([^&#]*)")).exec(window.location.href);if($t&&$t[1]){var Bt=decodeURI($t[1]);Ot.setCurrentTime(Bt)}}).catch(rt)}()}}};window.addEventListener("message",it)}}function initializeScreenfull(){var nt=function(){for(var st,bt=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],wt=0,Et=bt.length,Tt={};wt<Et;wt++)if(st=bt[wt],st&&st[1]in document){for(wt=0;wt<st.length;wt++)Tt[bt[0][wt]]=st[wt];return Tt}return!1}(),rt={fullscreenchange:nt.fullscreenchange,fullscreenerror:nt.fullscreenerror},it={request:function(bt){return new Promise(function(wt,Et){var Tt=function Dt(){it.off("fullscreenchange",Dt),wt()};it.on("fullscreenchange",Tt),bt=bt||document.documentElement;var At=bt[nt.requestFullscreen]();At instanceof Promise&&At.then(Tt).catch(Et)})},exit:function(){return new Promise(function(bt,wt){if(!it.isFullscreen){bt();return}var Et=function At(){it.off("fullscreenchange",At),bt()};it.on("fullscreenchange",Et);var Tt=document[nt.exitFullscreen]();Tt instanceof Promise&&Tt.then(Et).catch(wt)})},on:function(bt,wt){var Et=rt[bt];Et&&document.addEventListener(Et,wt)},off:function(bt,wt){var Et=rt[bt];Et&&document.removeEventListener(Et,wt)}};return Object.defineProperties(it,{isFullscreen:{get:function(){return Boolean(document[nt.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[nt.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[nt.fullscreenEnabled])}}}),it}var playerMap=new WeakMap,readyMap=new WeakMap,screenfull={},Player=function(){function nt(rt){var it=this,st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(_classCallCheck(this,nt),window.jQuery&&rt instanceof jQuery&&(rt.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),rt=rt[0]),typeof document<"u"&&typeof rt=="string"&&(rt=document.getElementById(rt)),!isDomElement(rt))throw new TypeError("You must pass either a valid element or a valid id.");if(rt.nodeName!=="IFRAME"){var bt=rt.querySelector("iframe");bt&&(rt=bt)}if(rt.nodeName==="IFRAME"&&!isVimeoUrl(rt.getAttribute("src")||""))throw new Error("The player element passed isn\u2019t a Vimeo embed.");if(playerMap.has(rt))return playerMap.get(rt);this._window=rt.ownerDocument.defaultView,this.element=rt,this.origin="*";var wt=new npo_src(function(Tt,At){if(it._onMessage=function(zt){if(!(!isVimeoUrl(zt.origin)||it.element.contentWindow!==zt.source)){it.origin==="*"&&(it.origin=zt.origin);var $t=parseMessageData(zt.data),Bt=$t&&$t.event==="error",Yt=Bt&&$t.data&&$t.data.method==="ready";if(Yt){var Xt=new Error($t.data.message);Xt.name=$t.data.name,At(Xt);return}var Ht=$t&&$t.event==="ready",Qt=$t&&$t.method==="ping";if(Ht||Qt){it.element.setAttribute("data-ready","true"),Tt();return}processData(it,$t)}},it._window.addEventListener("message",it._onMessage),it.element.nodeName!=="IFRAME"){var Dt=getOEmbedParameters(rt,st),Ot=getVimeoUrl(Dt);getOEmbedData(Ot,Dt,rt).then(function(zt){var $t=createEmbed(zt,rt);return it.element=$t,it._originalElement=rt,swapCallbacks(rt,$t),playerMap.set(it.element,it),zt}).catch(At)}});if(readyMap.set(this,wt),playerMap.set(this.element,this),this.element.nodeName==="IFRAME"&&postMessage(this,"ping"),screenfull.isEnabled){var Et=function(){return screenfull.exit()};this.fullscreenchangeHandler=function(){screenfull.isFullscreen?storeCallback(it,"event:exitFullscreen",Et):removeCallback(it,"event:exitFullscreen",Et),it.ready().then(function(){postMessage(it,"fullscreenchange",screenfull.isFullscreen)})},screenfull.on("fullscreenchange",this.fullscreenchangeHandler)}return this}return _createClass(nt,[{key:"callMethod",value:function(it){var st=this,bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new npo_src(function(wt,Et){return st.ready().then(function(){storeCallback(st,it,{resolve:wt,reject:Et}),postMessage(st,it,bt)}).catch(Et)})}},{key:"get",value:function(it){var st=this;return new npo_src(function(bt,wt){return it=getMethodName(it,"get"),st.ready().then(function(){storeCallback(st,it,{resolve:bt,reject:wt}),postMessage(st,it)}).catch(wt)})}},{key:"set",value:function(it,st){var bt=this;return new npo_src(function(wt,Et){if(it=getMethodName(it,"set"),st==null)throw new TypeError("There must be a value to set.");return bt.ready().then(function(){storeCallback(bt,it,{resolve:wt,reject:Et}),postMessage(bt,it,st)}).catch(Et)})}},{key:"on",value:function(it,st){if(!it)throw new TypeError("You must pass an event name.");if(!st)throw new TypeError("You must pass a callback function.");if(typeof st!="function")throw new TypeError("The callback must be a function.");var bt=getCallbacks(this,"event:".concat(it));bt.length===0&&this.callMethod("addEventListener",it).catch(function(){}),storeCallback(this,"event:".concat(it),st)}},{key:"off",value:function(it,st){if(!it)throw new TypeError("You must pass an event name.");if(st&&typeof st!="function")throw new TypeError("The callback must be a function.");var bt=removeCallback(this,"event:".concat(it),st);bt&&this.callMethod("removeEventListener",it).catch(function(wt){})}},{key:"loadVideo",value:function(it){return this.callMethod("loadVideo",it)}},{key:"ready",value:function(){var it=readyMap.get(this)||new npo_src(function(st,bt){bt(new Error("Unknown player. Probably unloaded."))});return npo_src.resolve(it)}},{key:"addCuePoint",value:function(it){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.callMethod("addCuePoint",{time:it,data:st})}},{key:"removeCuePoint",value:function(it){return this.callMethod("removeCuePoint",it)}},{key:"enableTextTrack",value:function(it,st){if(!it)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:it,kind:st})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return screenfull.isEnabled?screenfull.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return screenfull.isEnabled?screenfull.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return screenfull.isEnabled?npo_src.resolve(screenfull.isFullscreen):this.get("fullscreen")}},{key:"requestPictureInPicture",value:function(){return this.callMethod("requestPictureInPicture")}},{key:"exitPictureInPicture",value:function(){return this.callMethod("exitPictureInPicture")}},{key:"getPictureInPicture",value:function(){return this.get("pictureInPicture")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var it=this;return new npo_src(function(st){if(readyMap.delete(it),playerMap.delete(it.element),it._originalElement&&(playerMap.delete(it._originalElement),it._originalElement.removeAttribute("data-vimeo-initialized")),it.element&&it.element.nodeName==="IFRAME"&&it.element.parentNode&&(it.element.parentNode.parentNode&&it._originalElement&&it._originalElement!==it.element.parentNode?it.element.parentNode.parentNode.removeChild(it.element.parentNode):it.element.parentNode.removeChild(it.element)),it.element&&it.element.nodeName==="DIV"&&it.element.parentNode){it.element.removeAttribute("data-vimeo-initialized");var bt=it.element.querySelector("iframe");bt&&bt.parentNode&&(bt.parentNode.parentNode&&it._originalElement&&it._originalElement!==bt.parentNode?bt.parentNode.parentNode.removeChild(bt.parentNode):bt.parentNode.removeChild(bt))}it._window.removeEventListener("message",it._onMessage),screenfull.isEnabled&&screenfull.off("fullscreenchange",it.fullscreenchangeHandler),st()})}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(it){return this.set("autopause",it)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getCameraProps",value:function(){return this.get("cameraProps")}},{key:"setCameraProps",value:function(it){return this.set("cameraProps",it)}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(it){return this.set("color",it)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(it){return this.set("currentTime",it)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(it){return this.set("loop",it)}},{key:"setMuted",value:function(it){return this.set("muted",it)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(it){return this.set("playbackRate",it)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(it){return this.set("quality",it)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(it){return this.set("volume",it)}}]),nt}();isNode||(screenfull=initializeScreenfull(),initializeEmbeds(),resizeEmbeds(),initAppendVideoMetadata(),checkUrlTimeParam());var openseadragon={exports:{}},hasRequiredOpenseadragon;function requireOpenseadragon(){return hasRequiredOpenseadragon||(hasRequiredOpenseadragon=1,function(module){//! openseadragon 2.4.2
//! Built on 2020-03-05
//! Git commit: v2.4.2-0-c450749
//! http://openseadragon.github.io
//! License: http://openseadragon.github.io/license/
function OpenSeadragon(nt){return new OpenSeadragon.Viewer(nt)}(function(nt){nt.version={versionStr:"2.4.2",major:parseInt("2",10),minor:parseInt("4",10),revision:parseInt("2",10)};var rt={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},it=Object.prototype.toString,st=Object.prototype.hasOwnProperty;nt.isFunction=function(bt){return nt.type(bt)==="function"},nt.isArray=Array.isArray||function(bt){return nt.type(bt)==="array"},nt.isWindow=function(bt){return bt&&typeof bt=="object"&&"setInterval"in bt},nt.type=function(bt){return bt==null?String(bt):rt[it.call(bt)]||"object"},nt.isPlainObject=function(bt){if(!bt||OpenSeadragon.type(bt)!=="object"||bt.nodeType||nt.isWindow(bt)||bt.constructor&&!st.call(bt,"constructor")&&!st.call(bt.constructor.prototype,"isPrototypeOf"))return!1;var wt;for(var Et in bt)wt=Et;return wt===void 0||st.call(bt,wt)},nt.isEmptyObject=function(bt){for(var wt in bt)return!1;return!0},nt.freezeObject=function(bt){return Object.freeze?nt.freezeObject=Object.freeze:nt.freezeObject=function(wt){return wt},nt.freezeObject(bt)},nt.supportsCanvas=function(){var bt=document.createElement("canvas");return!!(nt.isFunction(bt.getContext)&&bt.getContext("2d"))}(),nt.isCanvasTainted=function(bt){var wt=!1;try{bt.getContext("2d").getImageData(0,0,1,1)}catch{wt=!0}return wt},nt.pixelDensityRatio=function(){if(nt.supportsCanvas){var bt=document.createElement("canvas").getContext("2d"),wt=window.devicePixelRatio||1,Et=bt.webkitBackingStorePixelRatio||bt.mozBackingStorePixelRatio||bt.msBackingStorePixelRatio||bt.oBackingStorePixelRatio||bt.backingStorePixelRatio||1;return Math.max(wt,1)/Et}else return 1}()})(OpenSeadragon),function($){$.extend=function(){var nt,rt,it,st,bt,wt,Et=arguments[0]||{},Tt=arguments.length,At=!1,Dt=1;for(typeof Et=="boolean"&&(At=Et,Et=arguments[1]||{},Dt=2),typeof Et!="object"&&!OpenSeadragon.isFunction(Et)&&(Et={}),Tt===Dt&&(Et=this,--Dt);Dt<Tt;Dt++)if(nt=arguments[Dt],nt!==null||nt!==void 0)for(rt in nt)it=Et[rt],st=nt[rt],Et!==st&&(At&&st&&(OpenSeadragon.isPlainObject(st)||(bt=OpenSeadragon.isArray(st)))?(bt?(bt=!1,wt=it&&OpenSeadragon.isArray(it)?it:[]):wt=it&&OpenSeadragon.isPlainObject(it)?it:{},Et[rt]=OpenSeadragon.extend(At,wt,st)):st!==void 0&&(Et[rt]=st));return Et};var isIOSDevice=function(){if(typeof navigator!="object")return!1;var nt=navigator.userAgent;return typeof nt!="string"?!1:nt.indexOf("iPhone")!==-1||nt.indexOf("iPad")!==-1||nt.indexOf("iPod")!==-1};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,zoomToRefPoint:!0,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,zoomToRefPoint:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,pixelsPerArrowPress:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,rotationIncrement:90,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,showFlipControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,navigatorBackground:"#000",navigatorOpacity:.8,navigatorBorderColor:"#555",navigatorDisplayRegionColor:"#900",degrees:0,flipped:!1,opacity:1,preload:!1,compositeOperation:null,imageSmoothingEnabled:!0,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},flip:{REST:"flip_rest.png",GROUP:"flip_grouphover.png",HOVER:"flip_hover.png",DOWN:"flip_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(nt,rt){return function(){var it=arguments;return it===void 0&&(it=[]),rt.apply(nt,it)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(nt){return typeof nt=="string"&&(nt=document.getElementById(nt)),nt},getElementPosition:function(nt){var rt=new $.Point,it,st;for(nt=$.getElement(nt),it=$.getElementStyle(nt).position=="fixed",st=getOffsetParent(nt,it);st;)rt.x+=nt.offsetLeft,rt.y+=nt.offsetTop,it&&(rt=rt.plus($.getPageScroll())),nt=st,it=$.getElementStyle(nt).position=="fixed",st=getOffsetParent(nt,it);return rt},getElementOffset:function(nt){nt=$.getElement(nt);var rt=nt&&nt.ownerDocument,it,st,bt={top:0,left:0};return rt?(it=rt.documentElement,typeof nt.getBoundingClientRect<"u"&&(bt=nt.getBoundingClientRect()),st=rt==rt.window?rt:rt.nodeType===9?rt.defaultView||rt.parentWindow:!1,new $.Point(bt.left+(st.pageXOffset||it.scrollLeft)-(it.clientLeft||0),bt.top+(st.pageYOffset||it.scrollTop)-(it.clientTop||0))):new $.Point},getElementSize:function(nt){return nt=$.getElement(nt),new $.Point(nt.clientWidth,nt.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(nt){return nt=$.getElement(nt),nt.currentStyle}:function(nt){return nt=$.getElement(nt),window.getComputedStyle(nt,"")},getCssPropertyWithVendorPrefix:function(nt){var rt={};return $.getCssPropertyWithVendorPrefix=function(it){if(rt[it]!==void 0)return rt[it];var st=document.createElement("div").style,bt=null;if(st[it]!==void 0)bt=it;else for(var wt=["Webkit","Moz","MS","O","webkit","moz","ms","o"],Et=$.capitalizeFirstLetter(it),Tt=0;Tt<wt.length;Tt++){var At=wt[Tt]+Et;if(st[At]!==void 0){bt=At;break}}return rt[it]=bt,bt},$.getCssPropertyWithVendorPrefix(nt)},capitalizeFirstLetter:function(nt){return nt.charAt(0).toUpperCase()+nt.slice(1)},positiveModulo:function(nt,rt){var it=nt%rt;return it<0&&(it+=rt),it},pointInElement:function(nt,rt){nt=$.getElement(nt);var it=$.getElementOffset(nt),st=$.getElementSize(nt);return rt.x>=it.x&&rt.x<it.x+st.x&&rt.y<it.y+st.y&&rt.y>=it.y},getEvent:function(nt){return nt?$.getEvent=function(rt){return rt}:$.getEvent=function(){return window.event},$.getEvent(nt)},getMousePosition:function(nt){if(typeof nt.pageX=="number")$.getMousePosition=function(rt){var it=new $.Point;return rt=$.getEvent(rt),it.x=rt.pageX,it.y=rt.pageY,it};else if(typeof nt.clientX=="number")$.getMousePosition=function(rt){var it=new $.Point;return rt=$.getEvent(rt),it.x=rt.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,it.y=rt.clientY+document.body.scrollTop+document.documentElement.scrollTop,it};else throw new Error("Unknown event mouse position, no known technique.");return $.getMousePosition(nt)},getPageScroll:function(){var nt=document.documentElement||{},rt=document.body||{};if(typeof window.pageXOffset=="number")$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(rt.scrollLeft||rt.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else if(nt.scrollLeft||nt.scrollTop)$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)};else return new $.Point(0,0);return $.getPageScroll()},setPageScroll:function(nt){if(typeof window.scrollTo<"u")$.setPageScroll=function(st){window.scrollTo(st.x,st.y)};else{var rt=$.getPageScroll();if(rt.x===nt.x&&rt.y===nt.y)return;document.body.scrollLeft=nt.x,document.body.scrollTop=nt.y;var it=$.getPageScroll();if(it.x!==rt.x&&it.y!==rt.y){$.setPageScroll=function(st){document.body.scrollLeft=st.x,document.body.scrollTop=st.y};return}if(document.documentElement.scrollLeft=nt.x,document.documentElement.scrollTop=nt.y,it=$.getPageScroll(),it.x!==rt.x&&it.y!==rt.y){$.setPageScroll=function(st){document.documentElement.scrollLeft=st.x,document.documentElement.scrollTop=st.y};return}$.setPageScroll=function(st){}}return $.setPageScroll(nt)},getWindowSize:function(){var nt=document.documentElement||{},rt=document.body||{};if(typeof window.innerWidth=="number")$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(nt.clientWidth||nt.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else if(rt.clientWidth||rt.clientHeight)$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)};else throw new Error("Unknown window size, no known technique.");return $.getWindowSize()},makeCenteredNode:function(nt){nt=$.getElement(nt);var rt=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(rt[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(rt[1].style,{display:"table-row"}),$.extend(rt[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),rt[0].appendChild(rt[1]),rt[1].appendChild(rt[2]),rt[2].appendChild(nt),rt[0]},makeNeutralElement:function(nt){var rt=document.createElement(nt),it=rt.style;return it.background="transparent none",it.border="none",it.margin="0px",it.padding="0px",it.position="static",rt},now:function(){return Date.now?$.now=Date.now:$.now=function(){return new Date().getTime()},$.now()},makeTransparentImage:function(nt){return $.makeTransparentImage=function(rt){var it=$.makeNeutralElement("img");return it.src=rt,it},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(rt){var it=$.makeNeutralElement("img"),st=null;return st=$.makeNeutralElement("span"),st.style.display="inline-block",it.onload=function(){st.style.width=st.style.width||it.width+"px",st.style.height=st.style.height||it.height+"px",it.onload=null,it=null},it.src=rt,st.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+rt+"', sizingMethod='scale')",st}),$.makeTransparentImage(nt)},setElementOpacity:function(nt,rt,it){var st,bt;nt=$.getElement(nt),it&&!$.Browser.alpha&&(rt=Math.round(rt)),$.Browser.opacity?nt.style.opacity=rt<1?rt:"":rt<1?(st=Math.round(100*rt),bt="alpha(opacity="+st+")",nt.style.filter=bt):nt.style.filter=""},setElementTouchActionNone:function(nt){nt=$.getElement(nt),typeof nt.style.touchAction<"u"?nt.style.touchAction="none":typeof nt.style.msTouchAction<"u"&&(nt.style.msTouchAction="none")},addClass:function(nt,rt){nt=$.getElement(nt),nt.className?(" "+nt.className+" ").indexOf(" "+rt+" ")===-1&&(nt.className+=" "+rt):nt.className=rt},indexOf:function(nt,rt,it){return Array.prototype.indexOf?this.indexOf=function(st,bt,wt){return st.indexOf(bt,wt)}:this.indexOf=function(st,bt,wt){var Et,Tt=wt||0,At;if(!st)throw new TypeError;if(At=st.length,At===0||Tt>=At)return-1;for(Tt<0&&(Tt=At-Math.abs(Tt)),Et=Tt;Et<At;Et++)if(st[Et]===bt)return Et;return-1},this.indexOf(nt,rt,it)},removeClass:function(nt,rt){var it,st=[],bt;for(nt=$.getElement(nt),it=nt.className.split(/\s+/),bt=0;bt<it.length;bt++)it[bt]&&it[bt]!==rt&&st.push(it[bt]);nt.className=st.join(" ")},addEvent:function(){if(window.addEventListener)return function(nt,rt,it,st){nt=$.getElement(nt),nt.addEventListener(rt,it,st)};if(window.attachEvent)return function(nt,rt,it,st){nt=$.getElement(nt),nt.attachEvent("on"+rt,it)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(nt,rt,it,st){nt=$.getElement(nt),nt.removeEventListener(rt,it,st)};if(window.detachEvent)return function(nt,rt,it,st){nt=$.getElement(nt),nt.detachEvent("on"+rt,it)};throw new Error("No known event model.")}(),cancelEvent:function(nt){nt=$.getEvent(nt),nt.preventDefault?$.cancelEvent=function(rt){rt.preventDefault()}:$.cancelEvent=function(rt){rt=$.getEvent(rt),rt.cancel=!0,rt.returnValue=!1},$.cancelEvent(nt)},stopEvent:function(nt){nt=$.getEvent(nt),nt.stopPropagation?$.stopEvent=function(rt){rt.stopPropagation()}:$.stopEvent=function(rt){rt=$.getEvent(rt),rt.cancelBubble=!0},$.stopEvent(nt)},createCallback:function(nt,rt){var it=[],st;for(st=2;st<arguments.length;st++)it.push(arguments[st]);return function(){var bt=it.concat([]),wt;for(wt=0;wt<arguments.length;wt++)bt.push(arguments[wt]);return rt.apply(nt,bt)}},getUrlParameter:function(nt){var rt=URLPARAMS[nt];return rt||null},getUrlProtocol:function(nt){var rt=nt.match(/^([a-z]+:)\/\//i);return rt===null?window.location.protocol:rt[1].toLowerCase()},createAjaxRequest:function(nt){var rt;try{rt=!!new ActiveXObject("Microsoft.XMLHTTP")}catch{rt=!1}if(rt)window.XMLHttpRequest?$.createAjaxRequest=function(it){return it?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else if(window.XMLHttpRequest)$.createAjaxRequest=function(){return new XMLHttpRequest};else throw new Error("Browser doesn't support XMLHttpRequest.");return $.createAjaxRequest(nt)},makeAjaxRequest:function(nt,rt,it){var st,bt,wt;$.isPlainObject(nt)&&(rt=nt.success,it=nt.error,st=nt.withCredentials,bt=nt.headers,wt=nt.responseType||null,nt=nt.url);var Et=$.getUrlProtocol(nt),Tt=$.createAjaxRequest(Et==="file:");if(!$.isFunction(rt))throw new Error("makeAjaxRequest requires a success callback");Tt.onreadystatechange=function(){Tt.readyState==4&&(Tt.onreadystatechange=function(){},Tt.status>=200&&Tt.status<300||Tt.status===0&&Et!=="http:"&&Et!=="https:"?rt(Tt):($.console.log("AJAX request returned %d: %s",Tt.status,nt),$.isFunction(it)&&it(Tt)))};try{if(Tt.open("GET",nt,!0),wt&&(Tt.responseType=wt),bt)for(var At in bt)Object.prototype.hasOwnProperty.call(bt,At)&&bt[At]&&Tt.setRequestHeader(At,bt[At]);st&&(Tt.withCredentials=!0),Tt.send(null)}catch($t){var Dt=$t.message,Ot=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(Ot&&typeof $t.number<"u"&&$t.number==-2147024891&&(Dt+=`
See http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain`),$.console.log("%s while making AJAX request: %s",$t.name,Dt),Tt.onreadystatechange=function(){},window.XDomainRequest){var zt=new window.XDomainRequest;if(zt){zt.onload=function(Bt){$.isFunction(rt)&&rt({responseText:zt.responseText,status:200,statusText:"OK"})},zt.onerror=function(Bt){$.isFunction(it)&&it({responseText:zt.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{zt.open("GET",nt),zt.send()}catch{$.isFunction(it)&&it(Tt,$t)}}}else $.isFunction(it)&&it(Tt,$t)}return Tt},jsonp:function(nt){var rt,it=nt.url,st=document.head||document.getElementsByTagName("head")[0]||document.documentElement,bt=nt.callbackName||"openseadragon"+$.now(),wt=window[bt],Et="$1"+bt+"$2",Tt=nt.param||"callback",At=nt.callback;it=it.replace(/(\=)\?(&|$)|\?\?/i,Et),it+=(/\?/.test(it)?"&":"?")+Tt+"="+bt,window[bt]=function(Dt){if(wt)window[bt]=wt;else try{delete window[bt]}catch{}At&&$.isFunction(At)&&At(Dt)},rt=document.createElement("script"),(nt.async!==void 0||nt.async!==!1)&&(rt.async="async"),nt.scriptCharset&&(rt.charset=nt.scriptCharset),rt.src=it,rt.onload=rt.onreadystatechange=function(Dt,Ot){(Ot||!rt.readyState||/loaded|complete/.test(rt.readyState))&&(rt.onload=rt.onreadystatechange=null,st&&rt.parentNode&&st.removeChild(rt),rt=void 0)},st.insertBefore(rt,st.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(nt){if(window.DOMParser)$.parseXml=function(rt){var it=null,st;return st=new DOMParser,it=st.parseFromString(rt,"text/xml"),it};else if(window.ActiveXObject)$.parseXml=function(rt){var it=null;return it=new ActiveXObject("Microsoft.XMLDOM"),it.async=!1,it.loadXML(rt),it};else throw new Error("Browser doesn't support XML DOM.");return $.parseXml(nt)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(nt){return nt=nt||"",!!FILEFORMATS[nt.toLowerCase()]}});var nullfunction=function(nt){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};(function(){var nt=navigator.appVersion,rt=navigator.userAgent,it;switch(navigator.appName){case"Microsoft Internet Explorer":!!window.attachEvent&&!!window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(rt.substring(rt.indexOf("MSIE")+5,rt.indexOf(";",rt.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(rt.indexOf("Firefox")>=0?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(rt.substring(rt.indexOf("Firefox")+8))):rt.indexOf("Safari")>=0?($.Browser.vendor=rt.indexOf("Chrome")>=0?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(rt.substring(rt.substring(0,rt.indexOf("Safari")).lastIndexOf("/")+1,rt.indexOf("Safari")))):(it=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})"),it.exec(rt)!==null&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1))));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(nt);break}var st=window.location.search.substring(1),bt=st.split("&"),wt,Et,Tt;for(Tt=0;Tt<bt.length;Tt++)if(wt=bt[Tt],Et=wt.indexOf("="),Et>0){var At=wt.substring(0,Et),Dt=wt.substring(Et+1);try{URLPARAMS[At]=decodeURIComponent(Dt)}catch{$.console.error("Ignoring malformed URL parameter: %s=%s",At,Dt)}}$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)})(),function(nt){var rt=nt.requestAnimationFrame||nt.mozRequestAnimationFrame||nt.webkitRequestAnimationFrame||nt.msRequestAnimationFrame,it=nt.cancelAnimationFrame||nt.mozCancelAnimationFrame||nt.webkitCancelAnimationFrame||nt.msCancelAnimationFrame;if(rt&&it)$.requestAnimationFrame=function(){return rt.apply(nt,arguments)},$.cancelAnimationFrame=function(){return it.apply(nt,arguments)};else{var st=[],bt=[],wt=0,Et;$.requestAnimationFrame=function(Tt){return st.push([++wt,Tt]),Et||(Et=setInterval(function(){if(st.length){var At=$.now(),Dt=bt;for(bt=st,st=Dt;bt.length;)bt.shift()[1](At)}else clearInterval(Et),Et=void 0},1e3/50)),wt},$.cancelAnimationFrame=function(Tt){var At,Dt;for(At=0,Dt=st.length;At<Dt;At+=1)if(st[At][0]===Tt){st.splice(At,1);return}for(At=0,Dt=bt.length;At<Dt;At+=1)if(bt[At][0]===Tt){bt.splice(At,1);return}}}}(window);function getOffsetParent(nt,rt){return rt&&nt!=document.body?document.body:nt.offsetParent}}(OpenSeadragon),function(nt,rt){module.exports?module.exports=rt():nt.OpenSeadragon=rt()}(commonjsGlobal$1,function(){return OpenSeadragon}),function(nt){var rt={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(rt.supportsFullScreen=!0,rt.getFullScreenElement=function(){return document.fullscreenElement},rt.requestFullScreen=function(it){return it.requestFullscreen()},rt.exitFullScreen=function(){document.exitFullscreen()},rt.fullScreenEventName="fullscreenchange",rt.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(rt.supportsFullScreen=!0,rt.getFullScreenElement=function(){return document.msFullscreenElement},rt.requestFullScreen=function(it){return it.msRequestFullscreen()},rt.exitFullScreen=function(){document.msExitFullscreen()},rt.fullScreenEventName="MSFullscreenChange",rt.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(rt.supportsFullScreen=!0,rt.getFullScreenElement=function(){return document.webkitFullscreenElement},rt.requestFullScreen=function(it){return it.webkitRequestFullscreen()},rt.exitFullScreen=function(){document.webkitExitFullscreen()},rt.fullScreenEventName="webkitfullscreenchange",rt.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(rt.supportsFullScreen=!0,rt.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},rt.requestFullScreen=function(it){return it.webkitRequestFullScreen()},rt.exitFullScreen=function(){document.webkitCancelFullScreen()},rt.fullScreenEventName="webkitfullscreenchange",rt.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(rt.supportsFullScreen=!0,rt.getFullScreenElement=function(){return document.mozFullScreenElement},rt.requestFullScreen=function(it){return it.mozRequestFullScreen()},rt.exitFullScreen=function(){document.mozCancelFullScreen()},rt.fullScreenEventName="mozfullscreenchange",rt.fullScreenErrorEventName="mozfullscreenerror"),rt.isFullScreen=function(){return rt.getFullScreenElement()!==null},rt.cancelFullScreen=function(){nt.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),rt.exitFullScreen()},nt.extend(nt,rt)}(OpenSeadragon),function(nt){nt.EventSource=function(){this.events={}},nt.EventSource.prototype={addOnceHandler:function(rt,it,st,bt){var wt=this;bt=bt||1;var Et=0,Tt=function(At){Et++,Et===bt&&wt.removeHandler(rt,Tt),it(At)};this.addHandler(rt,Tt,st)},addHandler:function(rt,it,st){var bt=this.events[rt];bt||(this.events[rt]=bt=[]),it&&nt.isFunction(it)&&(bt[bt.length]={handler:it,userData:st||null})},removeHandler:function(rt,it){var st=this.events[rt],bt=[],wt;if(!!st&&nt.isArray(st)){for(wt=0;wt<st.length;wt++)st[wt].handler!==it&&bt.push(st[wt]);this.events[rt]=bt}},removeAllHandlers:function(rt){if(rt)this.events[rt]=[];else for(var it in this.events)this.events[it]=[]},getHandler:function(rt){var it=this.events[rt];return!it||!it.length?null:(it=it.length===1?[it[0]]:Array.apply(null,it),function(st,bt){var wt,Et=it.length;for(wt=0;wt<Et;wt++)it[wt]&&(bt.eventSource=st,bt.userData=it[wt].userData,it[wt].handler(bt))})},raiseEvent:function(rt,it){var st=this.getHandler(rt);st&&(it||(it={}),st(this,it))}}}(OpenSeadragon),function(nt){var rt=[],it={};nt.MouseTracker=function(Ln){rt.push(this);var Nn=arguments;nt.isPlainObject(Ln)||(Ln={element:Nn[0],clickTimeThreshold:Nn[1],clickDistThreshold:Nn[2]}),this.hash=Math.random(),this.element=nt.getElement(Ln.element),this.clickTimeThreshold=Ln.clickTimeThreshold||nt.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=Ln.clickDistThreshold||nt.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=Ln.dblClickTimeThreshold||nt.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=Ln.dblClickDistThreshold||nt.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=Ln.userData||null,this.stopDelay=Ln.stopDelay||50,this.enterHandler=Ln.enterHandler||null,this.exitHandler=Ln.exitHandler||null,this.pressHandler=Ln.pressHandler||null,this.nonPrimaryPressHandler=Ln.nonPrimaryPressHandler||null,this.releaseHandler=Ln.releaseHandler||null,this.nonPrimaryReleaseHandler=Ln.nonPrimaryReleaseHandler||null,this.moveHandler=Ln.moveHandler||null,this.scrollHandler=Ln.scrollHandler||null,this.clickHandler=Ln.clickHandler||null,this.dblClickHandler=Ln.dblClickHandler||null,this.dragHandler=Ln.dragHandler||null,this.dragEndHandler=Ln.dragEndHandler||null,this.pinchHandler=Ln.pinchHandler||null,this.stopHandler=Ln.stopHandler||null,this.keyDownHandler=Ln.keyDownHandler||null,this.keyUpHandler=Ln.keyUpHandler||null,this.keyHandler=Ln.keyHandler||null,this.focusHandler=Ln.focusHandler||null,this.blurHandler=Ln.blurHandler||null;var er=this;it[this.hash]={click:function(sr){Yt(er,sr)},dblclick:function(sr){Xt(er,sr)},keydown:function(sr){Ht(er,sr)},keyup:function(sr){Qt(er,sr)},keypress:function(sr){Zt(er,sr)},focus:function(sr){nn(er,sr)},blur:function(sr){Kt(er,sr)},wheel:function(sr){ln(er,sr)},mousewheel:function(sr){sn(er,sr)},DOMMouseScroll:function(sr){sn(er,sr)},MozMousePixelScroll:function(sr){sn(er,sr)},mouseenter:function(sr){Mn(er,sr)},mouseleave:function(sr){gn(er,sr)},mouseover:function(sr){Sn(er,sr)},mouseout:function(sr){Un(er,sr)},mousedown:function(sr){xn(er,sr)},mouseup:function(sr){Mr(er,sr)},mouseupcaptured:function(sr){fr(er,sr)},mousemove:function(sr){Gn(er,sr)},mousemovecaptured:function(sr){lr(er,sr)},touchstart:function(sr){Ir(er,sr)},touchend:function(sr){Pr(er,sr)},touchendcaptured:function(sr){_r(er,sr)},touchmove:function(sr){qn(er,sr)},touchmovecaptured:function(sr){mr(er,sr)},touchcancel:function(sr){hr(er,sr)},gesturestart:function(sr){An(er,sr)},gesturechange:function(sr){rn(er,sr)},pointerover:function(sr){vn(er,sr)},MSPointerOver:function(sr){vn(er,sr)},pointerout:function(sr){hn(er,sr)},MSPointerOut:function(sr){hn(er,sr)},pointerdown:function(sr){zn(er,sr)},MSPointerDown:function(sr){zn(er,sr)},pointerup:function(sr){On(er,sr)},MSPointerUp:function(sr){On(er,sr)},pointermove:function(sr){rr(er,sr)},MSPointerMove:function(sr){rr(er,sr)},pointercancel:function(sr){xr(er,sr)},MSPointerCancel:function(sr){xr(er,sr)},pointerupcaptured:function(sr){Er(er,sr)},pointermovecaptured:function(sr){Kn(er,sr)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},Ln.startDisabled||this.setTracking(!0)},nt.MouseTracker.prototype={destroy:function(){var Ln;for(wt(this),this.element=null,Ln=0;Ln<rt.length;Ln++)if(rt[Ln]===this){rt.splice(Ln,1);break}it[this.hash]=null,delete it[this.hash]},isTracking:function(){return it[this.hash].tracking},setTracking:function(Ln){return Ln?bt(this):wt(this),this},getActivePointersListsExceptType:function(Ln){for(var Nn=it[this.hash],er=[],sr=0;sr<Nn.activePointersLists.length;++sr)Nn.activePointersLists[sr].type!==Ln&&er.push(Nn.activePointersLists[sr]);return er},getActivePointersListByType:function(Ln){var Nn=it[this.hash],er,sr=Nn.activePointersLists.length,Nr;for(er=0;er<sr;er++)if(Nn.activePointersLists[er].type===Ln)return Nn.activePointersLists[er];return Nr=new nt.MouseTracker.GesturePointList(Ln),Nn.activePointersLists.push(Nr),Nr},getActivePointerCount:function(){var Ln=it[this.hash],Nn,er=Ln.activePointersLists.length,sr=0;for(Nn=0;Nn<er;Nn++)sr+=Ln.activePointersLists[Nn].getLength();return sr},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},nt.MouseTracker.resetAllMouseTrackers=function(){for(var Ln=0;Ln<rt.length;Ln++)rt[Ln].isTracking()&&(rt[Ln].setTracking(!1),rt[Ln].setTracking(!0))},nt.MouseTracker.gesturePointVelocityTracker=function(){var Ln=[],Nn=0,er=0,sr=function(yi,Br){return yi.hash.toString()+Br.type+Br.id.toString()},Nr=function(){var yi,Br=Ln.length,Si,Ni,Ri=nt.now(),Li,eo,Ui;for(Li=Ri-er,er=Ri,yi=0;yi<Br;yi++)Si=Ln[yi],Ni=Si.gPoint,Ni.direction=Math.atan2(Ni.currentPos.y-Si.lastPos.y,Ni.currentPos.x-Si.lastPos.x),eo=Si.lastPos.distanceTo(Ni.currentPos),Si.lastPos=Ni.currentPos,Ui=1e3*eo/(Li+1),Ni.speed=.75*Ui+.25*Ni.speed},Jr=function(yi,Br){var Si=sr(yi,Br);Ln.push({guid:Si,gPoint:Br,lastPos:Br.currentPos}),Ln.length===1&&(er=nt.now(),Nn=window.setInterval(Nr,50))},Dr=function(yi,Br){var Si=sr(yi,Br),Ni,Ri=Ln.length;for(Ni=0;Ni<Ri;Ni++)if(Ln[Ni].guid===Si){Ln.splice(Ni,1),Ri--,Ri===0&&window.clearInterval(Nn);break}};return{addPoint:Jr,removePoint:Dr}}(),nt.MouseTracker.captureElement=document,nt.MouseTracker.wheelEventName=nt.Browser.vendor==nt.BROWSERS.IE&&nt.Browser.version>8||"onwheel"in document.createElement("div")?"wheel":document.onmousewheel!==void 0?"mousewheel":"DOMMouseScroll",nt.MouseTracker.supportsMouseCapture=function(){var Ln=document.createElement("div");return nt.isFunction(Ln.setCapture)&&nt.isFunction(Ln.releaseCapture)}(),nt.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",nt.MouseTracker.wheelEventName],nt.MouseTracker.wheelEventName=="DOMMouseScroll"&&nt.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||nt.Browser.vendor!==nt.BROWSERS.IE)?(nt.MouseTracker.havePointerEvents=!0,nt.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),nt.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?nt.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:nt.MouseTracker.maxTouchPoints=0,nt.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(nt.MouseTracker.havePointerEvents=!0,nt.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),nt.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?nt.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:nt.MouseTracker.maxTouchPoints=0,nt.MouseTracker.haveMouseEnter=!1):(nt.MouseTracker.havePointerEvents=!1,nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?(nt.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),nt.MouseTracker.haveMouseEnter=!0):(nt.MouseTracker.subscribeEvents.push("mouseover","mouseout"),nt.MouseTracker.haveMouseEnter=!1),nt.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&nt.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&nt.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),nt.MouseTracker.mousePointerId="legacy-mouse",nt.MouseTracker.maxTouchPoints=10),nt.MouseTracker.GesturePointList=function(Ln){this._gPoints=[],this.type=Ln,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},nt.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(Ln){return this._gPoints.push(Ln)},removeById:function(Ln){var Nn,er=this._gPoints.length;for(Nn=0;Nn<er;Nn++)if(this._gPoints[Nn].id===Ln){this._gPoints.splice(Nn,1);break}return this._gPoints.length},getByIndex:function(Ln){return Ln<this._gPoints.length?this._gPoints[Ln]:null},getById:function(Ln){var Nn,er=this._gPoints.length;for(Nn=0;Nn<er;Nn++)if(this._gPoints[Nn].id===Ln)return this._gPoints[Nn];return null},getPrimary:function(Ln){var Nn,er=this._gPoints.length;for(Nn=0;Nn<er;Nn++)if(this._gPoints[Nn].isPrimary)return this._gPoints[Nn];return null},addContact:function(){++this.contacts,this.contacts>1&&(this.type==="mouse"||this.type==="pen")&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};function st(Ln){var Nn=it[Ln.hash],er,sr=Nn.activePointersLists.length;for(er=0;er<sr;er++)Nn.activePointersLists[er].captureCount>0&&(nt.removeEvent(nt.MouseTracker.captureElement,"mousemove",Nn.mousemovecaptured,!0),nt.removeEvent(nt.MouseTracker.captureElement,"mouseup",Nn.mouseupcaptured,!0),nt.removeEvent(nt.MouseTracker.captureElement,nt.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",Nn.pointermovecaptured,!0),nt.removeEvent(nt.MouseTracker.captureElement,nt.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",Nn.pointerupcaptured,!0),nt.removeEvent(nt.MouseTracker.captureElement,"touchmove",Nn.touchmovecaptured,!0),nt.removeEvent(nt.MouseTracker.captureElement,"touchend",Nn.touchendcaptured,!0),Nn.activePointersLists[er].captureCount=0);for(er=0;er<sr;er++)Nn.activePointersLists.pop()}function bt(Ln){var Nn=it[Ln.hash],er,sr;if(!Nn.tracking){for(sr=0;sr<nt.MouseTracker.subscribeEvents.length;sr++)er=nt.MouseTracker.subscribeEvents[sr],nt.addEvent(Ln.element,er,Nn[er],!1);st(Ln),Nn.tracking=!0}}function wt(Ln){var Nn=it[Ln.hash],er,sr;if(Nn.tracking){for(sr=0;sr<nt.MouseTracker.subscribeEvents.length;sr++)er=nt.MouseTracker.subscribeEvents[sr],nt.removeEvent(Ln.element,er,Nn[er],!1);st(Ln),Nn.tracking=!1}}function Et(Ln,Nn){var er=it[Ln.hash];if(Nn==="pointerevent")return{upName:nt.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:er.pointerupcaptured,moveName:nt.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:er.pointermovecaptured};if(Nn==="mouse")return{upName:"mouseup",upHandler:er.mouseupcaptured,moveName:"mousemove",moveHandler:er.mousemovecaptured};if(Nn==="touch")return{upName:"touchend",upHandler:er.touchendcaptured,moveName:"touchmove",moveHandler:er.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function Tt(Ln,Nn,er){var sr=Ln.getActivePointersListByType(Nn),Nr;sr.captureCount+=er||1,sr.captureCount===1&&(nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?Ln.element.setCapture(!0):(Nr=Et(Ln,nt.MouseTracker.havePointerEvents?"pointerevent":Nn),Ai&&Fr(window.top)&&nt.addEvent(window.top,Nr.upName,Nr.upHandler,!0),nt.addEvent(nt.MouseTracker.captureElement,Nr.upName,Nr.upHandler,!0),nt.addEvent(nt.MouseTracker.captureElement,Nr.moveName,Nr.moveHandler,!0)))}function At(Ln,Nn,er){var sr=Ln.getActivePointersListByType(Nn),Nr;sr.captureCount-=er||1,sr.captureCount===0&&(nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?Ln.element.releaseCapture():(Nr=Et(Ln,nt.MouseTracker.havePointerEvents?"pointerevent":Nn),Ai&&Fr(window.top)&&nt.removeEvent(window.top,Nr.upName,Nr.upHandler,!0),nt.removeEvent(nt.MouseTracker.captureElement,Nr.moveName,Nr.moveHandler,!0),nt.removeEvent(nt.MouseTracker.captureElement,Nr.upName,Nr.upHandler,!0)))}function Dt(Ln){var Nn;if(nt.MouseTracker.unprefixedPointerEvents)Nn=Ln.pointerType;else switch(Ln.pointerType){case 2:Nn="touch";break;case 3:Nn="pen";break;case 4:Nn="mouse";break;default:Nn=""}return Nn}function Ot(Ln){return nt.getMousePosition(Ln)}function zt(Ln,Nn){return $t(Ot(Ln),Nn)}function $t(Ln,Nn){var er=nt.getElementOffset(Nn);return Ln.minus(er)}function Bt(Ln,Nn){return new nt.Point((Ln.x+Nn.x)/2,(Ln.y+Nn.y)/2)}function Yt(Ln,Nn){Ln.clickHandler&&nt.cancelEvent(Nn)}function Xt(Ln,Nn){Ln.dblClickHandler&&nt.cancelEvent(Nn)}function Ht(Ln,Nn){var er;Ln.keyDownHandler&&(Nn=nt.getEvent(Nn),er=Ln.keyDownHandler({eventSource:Ln,keyCode:Nn.keyCode?Nn.keyCode:Nn.charCode,ctrl:Nn.ctrlKey,shift:Nn.shiftKey,alt:Nn.altKey,meta:Nn.metaKey,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),er||nt.cancelEvent(Nn))}function Qt(Ln,Nn){var er;Ln.keyUpHandler&&(Nn=nt.getEvent(Nn),er=Ln.keyUpHandler({eventSource:Ln,keyCode:Nn.keyCode?Nn.keyCode:Nn.charCode,ctrl:Nn.ctrlKey,shift:Nn.shiftKey,alt:Nn.altKey,meta:Nn.metaKey,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),er||nt.cancelEvent(Nn))}function Zt(Ln,Nn){var er;Ln.keyHandler&&(Nn=nt.getEvent(Nn),er=Ln.keyHandler({eventSource:Ln,keyCode:Nn.keyCode?Nn.keyCode:Nn.charCode,ctrl:Nn.ctrlKey,shift:Nn.shiftKey,alt:Nn.altKey,meta:Nn.metaKey,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),er||nt.cancelEvent(Nn))}function nn(Ln,Nn){var er;Ln.focusHandler&&(Nn=nt.getEvent(Nn),er=Ln.focusHandler({eventSource:Ln,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),er===!1&&nt.cancelEvent(Nn))}function Kt(Ln,Nn){var er;Ln.blurHandler&&(Nn=nt.getEvent(Nn),er=Ln.blurHandler({eventSource:Ln,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),er===!1&&nt.cancelEvent(Nn))}function ln(Ln,Nn){bn(Ln,Nn,Nn)}function sn(Ln,Nn){Nn=nt.getEvent(Nn);var er={target:Nn.target||Nn.srcElement,type:"wheel",shiftKey:Nn.shiftKey||!1,clientX:Nn.clientX,clientY:Nn.clientY,pageX:Nn.pageX?Nn.pageX:Nn.clientX,pageY:Nn.pageY?Nn.pageY:Nn.clientY,deltaMode:Nn.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0};nt.MouseTracker.wheelEventName=="mousewheel"?er.deltaY=-Nn.wheelDelta/nt.DEFAULT_SETTINGS.pixelsPerWheelLine:er.deltaY=Nn.detail,bn(Ln,er,Nn)}function bn(Ln,Nn,er){var sr=0,Nr;sr=Nn.deltaY<0?1:-1,Ln.scrollHandler&&(Nr=Ln.scrollHandler({eventSource:Ln,pointerType:"mouse",position:zt(Nn,Ln.element),scroll:sr,shift:Nn.shiftKey,isTouchEvent:!1,originalEvent:er,preventDefaultAction:!1,userData:Ln.userData}),Nr===!1&&nt.cancelEvent(er))}function wn(Ln,Nn){if(Ln===Nn)return!1;for(;Nn&&Nn!==Ln;)Nn=Nn.parentNode;return Nn===Ln}function Mn(Ln,Nn){Nn=nt.getEvent(Nn),Dn(Ln,Nn)}function Sn(Ln,Nn){Nn=nt.getEvent(Nn),!(Nn.currentTarget===Nn.relatedTarget||wn(Nn.currentTarget,Nn.relatedTarget))&&Dn(Ln,Nn)}function Dn(Ln,Nn){var er={id:nt.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:Ot(Nn),currentTime:nt.now()};Ar(Ln,Nn,[er])}function gn(Ln,Nn){Nn=nt.getEvent(Nn),pn(Ln,Nn)}function Un(Ln,Nn){Nn=nt.getEvent(Nn),!(Nn.currentTarget===Nn.relatedTarget||wn(Nn.currentTarget,Nn.relatedTarget))&&pn(Ln,Nn)}function pn(Ln,Nn){var er={id:nt.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:Ot(Nn),currentTime:nt.now()};mi(Ln,Nn,[er])}function yr(Ln){return nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?Ln===1?0:Ln===2?2:Ln===4?1:-1:Ln}function xn(Ln,Nn){var er;Nn=nt.getEvent(Nn),er={id:nt.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:Ot(Nn),currentTime:nt.now()},vi(Ln,Nn,[er],yr(Nn.button))&&(nt.stopEvent(Nn),Tt(Ln,"mouse")),(Ln.clickHandler||Ln.dblClickHandler||Ln.pressHandler||Ln.dragHandler||Ln.dragEndHandler)&&nt.cancelEvent(Nn)}function Mr(Ln,Nn){cr(Ln,Nn)}function fr(Ln,Nn){cr(Ln,Nn),nt.stopEvent(Nn)}function cr(Ln,Nn){var er;Nn=nt.getEvent(Nn),er={id:nt.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:Ot(Nn),currentTime:nt.now()},xi(Ln,Nn,[er],yr(Nn.button))&&At(Ln,"mouse")}function Gn(Ln,Nn){ur(Ln,Nn)}function lr(Ln,Nn){ur(Ln,Nn),nt.stopEvent(Nn)}function ur(Ln,Nn){var er;Nn=nt.getEvent(Nn),er={id:nt.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:Ot(Nn),currentTime:nt.now()},Ci(Ln,Nn,[er])}function vr(Ln,Nn,er){var sr,Nr=er.getLength(),Jr=[];if(er.type==="touch"||er.contacts>0){for(sr=0;sr<Nr;sr++)Jr.push(er.getByIndex(sr));Jr.length>0&&(xi(Ln,Nn,Jr,0),er.captureCount=1,At(Ln,er.type),mi(Ln,Nn,Jr))}}function Ir(Ln,Nn){var er,sr,Nr,Jr=Nn.changedTouches.length,Dr=[],yi,Br=Ln.getActivePointersListByType("touch");for(er=nt.now(),Br.getLength()>Nn.touches.length-Jr&&(nt.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),vr(Ln,Nn,Br)),sr=0;sr<Jr;sr++)Dr.push({id:Nn.changedTouches[sr].identifier,type:"touch",currentPos:Ot(Nn.changedTouches[sr]),currentTime:er});for(Ar(Ln,Nn,Dr),sr=0;sr<rt.length;sr++)if(rt[sr]!==Ln&&rt[sr].isTracking()&&wn(rt[sr].element,Ln.element)){for(yi=[],Nr=0;Nr<Jr;Nr++)yi.push({id:Nn.changedTouches[Nr].identifier,type:"touch",currentPos:Ot(Nn.changedTouches[Nr]),currentTime:er});Ar(rt[sr],Nn,yi)}vi(Ln,Nn,Dr,0)&&(nt.stopEvent(Nn),Tt(Ln,"touch",Jr)),nt.cancelEvent(Nn)}function Pr(Ln,Nn){tr(Ln,Nn)}function _r(Ln,Nn){tr(Ln,Nn),nt.stopEvent(Nn)}function tr(Ln,Nn){var er,sr,Nr,Jr=Nn.changedTouches.length,Dr=[],yi;for(er=nt.now(),sr=0;sr<Jr;sr++)Dr.push({id:Nn.changedTouches[sr].identifier,type:"touch",currentPos:Ot(Nn.changedTouches[sr]),currentTime:er});for(xi(Ln,Nn,Dr,0)&&At(Ln,"touch",Jr),mi(Ln,Nn,Dr),sr=0;sr<rt.length;sr++)if(rt[sr]!==Ln&&rt[sr].isTracking()&&wn(rt[sr].element,Ln.element)){for(yi=[],Nr=0;Nr<Jr;Nr++)yi.push({id:Nn.changedTouches[Nr].identifier,type:"touch",currentPos:Ot(Nn.changedTouches[Nr]),currentTime:er});mi(rt[sr],Nn,yi)}nt.cancelEvent(Nn)}function qn(Ln,Nn){br(Ln,Nn)}function mr(Ln,Nn){br(Ln,Nn),nt.stopEvent(Nn)}function br(Ln,Nn){var er,sr=Nn.changedTouches.length,Nr=[];for(er=0;er<sr;er++)Nr.push({id:Nn.changedTouches[er].identifier,type:"touch",currentPos:Ot(Nn.changedTouches[er]),currentTime:nt.now()});Ci(Ln,Nn,Nr),nt.cancelEvent(Nn)}function hr(Ln,Nn){var er=Ln.getActivePointersListByType("touch");vr(Ln,Nn,er)}function An(Ln,Nn){return Nn.stopPropagation(),Nn.preventDefault(),!1}function rn(Ln,Nn){return Nn.stopPropagation(),Nn.preventDefault(),!1}function vn(Ln,Nn){var er;Nn.currentTarget===Nn.relatedTarget||wn(Nn.currentTarget,Nn.relatedTarget)||(er={id:Nn.pointerId,type:Dt(Nn),isPrimary:Nn.isPrimary,currentPos:Ot(Nn),currentTime:nt.now()},Ar(Ln,Nn,[er]))}function hn(Ln,Nn){var er;Nn.currentTarget===Nn.relatedTarget||wn(Nn.currentTarget,Nn.relatedTarget)||(er={id:Nn.pointerId,type:Dt(Nn),isPrimary:Nn.isPrimary,currentPos:Ot(Nn),currentTime:nt.now()},mi(Ln,Nn,[er]))}function zn(Ln,Nn){var er;er={id:Nn.pointerId,type:Dt(Nn),isPrimary:Nn.isPrimary,currentPos:Ot(Nn),currentTime:nt.now()},vi(Ln,Nn,[er],Nn.button)&&(nt.stopEvent(Nn),Tt(Ln,er.type)),(Ln.clickHandler||Ln.dblClickHandler||Ln.pressHandler||Ln.dragHandler||Ln.dragEndHandler||Ln.pinchHandler)&&nt.cancelEvent(Nn)}function On(Ln,Nn){Rn(Ln,Nn)}function Er(Ln,Nn){var er=Ln.getActivePointersListByType(Dt(Nn));er.getById(Nn.pointerId)&&Rn(Ln,Nn),nt.stopEvent(Nn)}function Rn(Ln,Nn){var er;er={id:Nn.pointerId,type:Dt(Nn),isPrimary:Nn.isPrimary,currentPos:Ot(Nn),currentTime:nt.now()},xi(Ln,Nn,[er],Nn.button)&&At(Ln,er.type)}function rr(Ln,Nn){gr(Ln,Nn)}function Kn(Ln,Nn){var er=Ln.getActivePointersListByType(Dt(Nn));er.getById(Nn.pointerId)&&gr(Ln,Nn),nt.stopEvent(Nn)}function gr(Ln,Nn){var er;er={id:Nn.pointerId,type:Dt(Nn),isPrimary:Nn.isPrimary,currentPos:Ot(Nn),currentTime:nt.now()},Ci(Ln,Nn,[er])}function xr(Ln,Nn){var er;er={id:Nn.pointerId,type:Dt(Nn)},Ei(Ln,Nn,[er])}function Lr(Ln,Nn){return Object.prototype.hasOwnProperty.call(Nn,"isPrimary")||(Ln.getLength()===0?Nn.isPrimary=!0:Nn.isPrimary=!1),Nn.speed=0,Nn.direction=0,Nn.contactPos=Nn.currentPos,Nn.contactTime=Nn.currentTime,Nn.lastPos=Nn.currentPos,Nn.lastTime=Nn.currentTime,Ln.add(Nn)}function Cr(Ln,Nn){var er,sr;return Ln.getById(Nn.id)?(er=Ln.removeById(Nn.id),Object.prototype.hasOwnProperty.call(Nn,"isPrimary")||(sr=Ln.getPrimary(),sr||(sr=Ln.getByIndex(0),sr&&(sr.isPrimary=!0)))):er=Ln.getLength(),er}function Ar(Ln,Nn,er){var sr=Ln.getActivePointersListByType(er[0].type),Nr,Jr=er.length,Dr,yi,Br;for(Nr=0;Nr<Jr;Nr++)Dr=er[Nr],yi=sr.getById(Dr.id),yi?(yi.insideElement=!0,yi.lastPos=yi.currentPos,yi.lastTime=yi.currentTime,yi.currentPos=Dr.currentPos,yi.currentTime=Dr.currentTime,Dr=yi):(Dr.captured=!1,Dr.insideElementPressed=!1,Dr.insideElement=!0,Lr(sr,Dr)),Ln.enterHandler&&(Br=Ln.enterHandler({eventSource:Ln,pointerType:Dr.type,position:$t(Dr.currentPos,Ln.element),buttons:sr.buttons,pointers:Ln.getActivePointerCount(),insideElementPressed:Dr.insideElementPressed,buttonDownAny:sr.buttons!==0,isTouchEvent:Dr.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Br===!1&&nt.cancelEvent(Nn))}function mi(Ln,Nn,er){var sr=Ln.getActivePointersListByType(er[0].type),Nr,Jr=er.length,Dr,yi,Br;for(Nr=0;Nr<Jr;Nr++)Dr=er[Nr],yi=sr.getById(Dr.id),yi&&(yi.captured?(yi.insideElement=!1,yi.lastPos=yi.currentPos,yi.lastTime=yi.currentTime,yi.currentPos=Dr.currentPos,yi.currentTime=Dr.currentTime):Cr(sr,yi),Dr=yi),Ln.exitHandler&&(Br=Ln.exitHandler({eventSource:Ln,pointerType:Dr.type,position:Dr.currentPos&&$t(Dr.currentPos,Ln.element),buttons:sr.buttons,pointers:Ln.getActivePointerCount(),insideElementPressed:yi?yi.insideElementPressed:!1,buttonDownAny:sr.buttons!==0,isTouchEvent:Dr.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Br===!1&&nt.cancelEvent(Nn))}function vi(Ln,Nn,er,sr){var Nr=it[Ln.hash],Jr,Dr=Ln.getActivePointersListByType(er[0].type),yi,Br=er.length,Si,Ni;typeof Nn.buttons<"u"?Dr.buttons=Nn.buttons:nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?sr===0?Dr.buttons+=1:sr===1?Dr.buttons+=4:sr===2?Dr.buttons+=2:sr===3?Dr.buttons+=8:sr===4?Dr.buttons+=16:sr===5&&(Dr.buttons+=32):sr===0?Dr.buttons|=1:sr===1?Dr.buttons|=4:sr===2?Dr.buttons|=2:sr===3?Dr.buttons|=8:sr===4?Dr.buttons|=16:sr===5&&(Dr.buttons|=32);var Ri=Ln.getActivePointersListsExceptType(er[0].type);for(yi=0;yi<Ri.length;yi++)vr(Ln,Nn,Ri[yi]);if(sr!==0)return Ln.nonPrimaryPressHandler&&(Jr=Ln.nonPrimaryPressHandler({eventSource:Ln,pointerType:er[0].type,position:$t(er[0].currentPos,Ln.element),button:sr,buttons:Dr.buttons,isTouchEvent:er[0].type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Jr===!1&&nt.cancelEvent(Nn)),!1;for(yi=0;yi<Br;yi++)Si=er[yi],Ni=Dr.getById(Si.id),Ni?(Ni.captured=!0,Ni.insideElementPressed=!0,Ni.insideElement=!0,Ni.contactPos=Si.currentPos,Ni.contactTime=Si.currentTime,Ni.lastPos=Ni.currentPos,Ni.lastTime=Ni.currentTime,Ni.currentPos=Si.currentPos,Ni.currentTime=Si.currentTime,Si=Ni):(Si.captured=!0,Si.insideElementPressed=!0,Si.insideElement=!0,Lr(Dr,Si)),Dr.addContact(),(Ln.dragHandler||Ln.dragEndHandler||Ln.pinchHandler)&&nt.MouseTracker.gesturePointVelocityTracker.addPoint(Ln,Si),Dr.contacts===1?Ln.pressHandler&&(Jr=Ln.pressHandler({eventSource:Ln,pointerType:Si.type,position:$t(Si.contactPos,Ln.element),buttons:Dr.buttons,isTouchEvent:Si.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Jr===!1&&nt.cancelEvent(Nn)):Dr.contacts===2&&Ln.pinchHandler&&Si.type==="touch"&&(Nr.pinchGPoints=Dr.asArray(),Nr.lastPinchDist=Nr.currentPinchDist=Nr.pinchGPoints[0].currentPos.distanceTo(Nr.pinchGPoints[1].currentPos),Nr.lastPinchCenter=Nr.currentPinchCenter=Bt(Nr.pinchGPoints[0].currentPos,Nr.pinchGPoints[1].currentPos));return!0}function xi(Ln,Nn,er,sr){var Nr=it[Ln.hash],Jr=Ln.getActivePointersListByType(er[0].type),Dr,yi,Br,Si,Ni=er.length,Ri,Li,eo=!1,Ui=!1,oo;if(typeof Nn.buttons<"u"?Jr.buttons=Nn.buttons:nt.Browser.vendor===nt.BROWSERS.IE&&nt.Browser.version<9?sr===0?Jr.buttons-=1:sr===1?Jr.buttons-=4:sr===2?Jr.buttons-=2:sr===3?Jr.buttons-=8:sr===4?Jr.buttons-=16:sr===5&&(Jr.buttons-=32):sr===0?Jr.buttons^=-2:sr===1?Jr.buttons^=-5:sr===2?Jr.buttons^=-3:sr===3?Jr.buttons^=-9:sr===4?Jr.buttons^=-17:sr===5&&(Jr.buttons^=-33),sr!==0){Ln.nonPrimaryReleaseHandler&&(Dr=Ln.nonPrimaryReleaseHandler({eventSource:Ln,pointerType:er[0].type,position:$t(er[0].currentPos,Ln.element),button:sr,buttons:Jr.buttons,isTouchEvent:er[0].type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn));var wo=Ln.getActivePointersListByType("mouse");return vr(Ln,Nn,wo),!1}if(typeof er[0].currentPos>"u")return vr(Ln,Nn,Jr),!1;for(Si=0;Si<Ni;Si++)Ri=er[Si],Li=Jr.getById(Ri.id),Li&&(Li.captured&&(Li.captured=!1,eo=!0,Ui=!0),Li.lastPos=Li.currentPos,Li.lastTime=Li.currentTime,Li.currentPos=Ri.currentPos,Li.currentTime=Ri.currentTime,Li.insideElement||Cr(Jr,Li),yi=Li.currentPos,Br=Li.currentTime,Ui?(Jr.removeContact(),(Ln.dragHandler||Ln.dragEndHandler||Ln.pinchHandler)&&nt.MouseTracker.gesturePointVelocityTracker.removePoint(Ln,Li),Jr.contacts===0?(Ln.releaseHandler&&(Dr=Ln.releaseHandler({eventSource:Ln,pointerType:Li.type,position:$t(yi,Ln.element),buttons:Jr.buttons,insideElementPressed:Li.insideElementPressed,insideElementReleased:Li.insideElement,isTouchEvent:Li.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn)),Ln.dragEndHandler&&!Li.currentPos.equals(Li.contactPos)&&(Dr=Ln.dragEndHandler({eventSource:Ln,pointerType:Li.type,position:$t(Li.currentPos,Ln.element),speed:Li.speed,direction:Li.direction,shift:Nn.shiftKey,isTouchEvent:Li.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn)),(Ln.clickHandler||Ln.dblClickHandler)&&Li.insideElement&&(oo=Br-Li.contactTime<=Ln.clickTimeThreshold&&Li.contactPos.distanceTo(yi)<=Ln.clickDistThreshold,Ln.clickHandler&&(Dr=Ln.clickHandler({eventSource:Ln,pointerType:Li.type,position:$t(Li.currentPos,Ln.element),quick:oo,shift:Nn.shiftKey,isTouchEvent:Li.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn)),Ln.dblClickHandler&&oo&&(Jr.clicks++,Jr.clicks===1?(Nr.lastClickPos=yi,Nr.dblClickTimeOut=setTimeout(function(){Jr.clicks=0},Ln.dblClickTimeThreshold)):Jr.clicks===2&&(clearTimeout(Nr.dblClickTimeOut),Jr.clicks=0,Nr.lastClickPos.distanceTo(yi)<=Ln.dblClickDistThreshold&&(Dr=Ln.dblClickHandler({eventSource:Ln,pointerType:Li.type,position:$t(Li.currentPos,Ln.element),shift:Nn.shiftKey,isTouchEvent:Li.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn)),Nr.lastClickPos=null)))):Jr.contacts===2&&Ln.pinchHandler&&Li.type==="touch"&&(Nr.pinchGPoints=Jr.asArray(),Nr.lastPinchDist=Nr.currentPinchDist=Nr.pinchGPoints[0].currentPos.distanceTo(Nr.pinchGPoints[1].currentPos),Nr.lastPinchCenter=Nr.currentPinchCenter=Bt(Nr.pinchGPoints[0].currentPos,Nr.pinchGPoints[1].currentPos))):Ln.releaseHandler&&(Dr=Ln.releaseHandler({eventSource:Ln,pointerType:Li.type,position:$t(yi,Ln.element),buttons:Jr.buttons,insideElementPressed:Li.insideElementPressed,insideElementReleased:Li.insideElement,isTouchEvent:Li.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Dr===!1&&nt.cancelEvent(Nn)));return eo}function Ci(Ln,Nn,er){var sr=it[Ln.hash],Nr=Ln.getActivePointersListByType(er[0].type),Jr,Dr=er.length,yi,Br,Si,Ni,Ri;for(typeof Nn.buttons<"u"&&(Nr.buttons=Nn.buttons),Jr=0;Jr<Dr;Jr++)yi=er[Jr],Br=Nr.getById(yi.id),Br?(Object.prototype.hasOwnProperty.call(yi,"isPrimary")&&(Br.isPrimary=yi.isPrimary),Br.lastPos=Br.currentPos,Br.lastTime=Br.currentTime,Br.currentPos=yi.currentPos,Br.currentTime=yi.currentTime):(yi.captured=!1,yi.insideElementPressed=!1,yi.insideElement=!0,Lr(Nr,yi));Ln.stopHandler&&er[0].type==="mouse"&&(clearTimeout(Ln.stopTimeOut),Ln.stopTimeOut=setTimeout(function(){Bi(Ln,Nn,er[0].type)},Ln.stopDelay)),Nr.contacts===0?Ln.moveHandler&&(Ri=Ln.moveHandler({eventSource:Ln,pointerType:er[0].type,position:$t(er[0].currentPos,Ln.element),buttons:Nr.buttons,isTouchEvent:er[0].type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Ri===!1&&nt.cancelEvent(Nn)):Nr.contacts===1?(Ln.moveHandler&&(Br=Nr.asArray()[0],Ri=Ln.moveHandler({eventSource:Ln,pointerType:Br.type,position:$t(Br.currentPos,Ln.element),buttons:Nr.buttons,isTouchEvent:Br.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Ri===!1&&nt.cancelEvent(Nn)),Ln.dragHandler&&(Br=Nr.asArray()[0],Ni=Br.currentPos.minus(Br.lastPos),Ri=Ln.dragHandler({eventSource:Ln,pointerType:Br.type,position:$t(Br.currentPos,Ln.element),buttons:Nr.buttons,delta:Ni,speed:Br.speed,direction:Br.direction,shift:Nn.shiftKey,isTouchEvent:Br.type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Ri===!1&&nt.cancelEvent(Nn))):Nr.contacts===2&&(Ln.moveHandler&&(Si=Nr.asArray(),Ri=Ln.moveHandler({eventSource:Ln,pointerType:Si[0].type,position:$t(Bt(Si[0].currentPos,Si[1].currentPos),Ln.element),buttons:Nr.buttons,isTouchEvent:Si[0].type==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Ri===!1&&nt.cancelEvent(Nn)),Ln.pinchHandler&&er[0].type==="touch"&&(Ni=sr.pinchGPoints[0].currentPos.distanceTo(sr.pinchGPoints[1].currentPos),Ni!=sr.currentPinchDist&&(sr.lastPinchDist=sr.currentPinchDist,sr.currentPinchDist=Ni,sr.lastPinchCenter=sr.currentPinchCenter,sr.currentPinchCenter=Bt(sr.pinchGPoints[0].currentPos,sr.pinchGPoints[1].currentPos),Ri=Ln.pinchHandler({eventSource:Ln,pointerType:"touch",gesturePoints:sr.pinchGPoints,lastCenter:$t(sr.lastPinchCenter,Ln.element),center:$t(sr.currentPinchCenter,Ln.element),lastDistance:sr.lastPinchDist,distance:sr.currentPinchDist,shift:Nn.shiftKey,originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData}),Ri===!1&&nt.cancelEvent(Nn))))}function Ei(Ln,Nn,er){xi(Ln,Nn,er,0),mi(Ln,Nn,er)}function Bi(Ln,Nn,er){Ln.stopHandler&&Ln.stopHandler({eventSource:Ln,pointerType:er,position:zt(Nn,Ln.element),buttons:Ln.getActivePointersListByType(er).buttons,isTouchEvent:er==="touch",originalEvent:Nn,preventDefaultAction:!1,userData:Ln.userData})}var Ai=function(){try{return window.self!==window.top}catch{return!0}}();function Fr(Ln){try{return Ln.addEventListener&&Ln.removeEventListener}catch{return!1}}}(OpenSeadragon),function(nt){nt.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},nt.Control=function(rt,it,st){var bt=rt.parentNode;typeof it=="number"&&(nt.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),it={anchor:it}),it.attachToViewer=typeof it.attachToViewer>"u"?!0:it.attachToViewer,this.autoFade=typeof it.autoFade>"u"?!0:it.autoFade,this.element=rt,this.anchor=it.anchor,this.container=st,this.anchor==nt.ControlAnchor.ABSOLUTE?(this.wrapper=nt.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top=typeof it.top=="number"?it.top+"px":it.top,this.wrapper.style.left=typeof it.left=="number"?it.left+"px":it.left,this.wrapper.style.height=typeof it.height=="number"?it.height+"px":it.height,this.wrapper.style.width=typeof it.width=="number"?it.width+"px":it.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=nt.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==nt.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),it.attachToViewer?this.anchor==nt.ControlAnchor.TOP_RIGHT||this.anchor==nt.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):bt.appendChild(this.wrapper)},nt.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return this.wrapper.style.display!="none"},setVisible:function(rt){this.wrapper.style.display=rt?this.anchor==nt.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(rt){this.element[nt.SIGNAL]&&nt.Browser.vendor==nt.BROWSERS.IE?nt.setElementOpacity(this.element,rt,!0):nt.setElementOpacity(this.wrapper,rt,!0)}}}(OpenSeadragon),function(nt){nt.ControlDock=function(it){var st=["topleft","topright","bottomright","bottomleft"],bt,wt;for(nt.extend(!0,this,{id:"controldock-"+nt.now()+"-"+Math.floor(Math.random()*1e6),container:nt.makeNeutralElement("div"),controls:[]},it),this.container.onsubmit=function(){return!1},this.element&&(this.element=nt.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),wt=0;wt<st.length;wt++)bt=st[wt],this.controls[bt]=nt.makeNeutralElement("div"),this.controls[bt].style.position="absolute",bt.match("left")&&(this.controls[bt].style.left="0px"),bt.match("right")&&(this.controls[bt].style.right="0px"),bt.match("top")&&(this.controls[bt].style.top="0px"),bt.match("bottom")&&(this.controls[bt].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},nt.ControlDock.prototype={addControl:function(it,st){it=nt.getElement(it);var bt=null;if(!(rt(this,it)>=0)){switch(st.anchor){case nt.ControlAnchor.TOP_RIGHT:bt=this.controls.topright,it.style.position="relative",it.style.paddingRight="0px",it.style.paddingTop="0px";break;case nt.ControlAnchor.BOTTOM_RIGHT:bt=this.controls.bottomright,it.style.position="relative",it.style.paddingRight="0px",it.style.paddingBottom="0px";break;case nt.ControlAnchor.BOTTOM_LEFT:bt=this.controls.bottomleft,it.style.position="relative",it.style.paddingLeft="0px",it.style.paddingBottom="0px";break;case nt.ControlAnchor.TOP_LEFT:bt=this.controls.topleft,it.style.position="relative",it.style.paddingLeft="0px",it.style.paddingTop="0px";break;case nt.ControlAnchor.ABSOLUTE:bt=this.container,it.style.margin="0px",it.style.padding="0px";break;default:case nt.ControlAnchor.NONE:bt=this.container,it.style.margin="0px",it.style.padding="0px";break}this.controls.push(new nt.Control(it,st,bt)),it.style.display="inline-block"}},removeControl:function(it){it=nt.getElement(it);var st=rt(this,it);return st>=0&&(this.controls[st].destroy(),this.controls.splice(st,1)),this},clearControls:function(){for(;this.controls.length>0;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var it;for(it=this.controls.length-1;it>=0;it--)if(this.controls[it].isVisible())return!0;return!1},setControlsEnabled:function(it){var st;for(st=this.controls.length-1;st>=0;st--)this.controls[st].setVisible(it);return this}};function rt(it,st){var bt=it.controls,wt;for(wt=bt.length-1;wt>=0;wt--)if(bt[wt].element==st)return wt;return-1}}(OpenSeadragon),function(nt){nt.Placement=nt.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(nt){var rt={},it=1;nt.Viewer=function(rn){var vn=arguments,hn=this,zn;if(nt.isPlainObject(rn)||(rn={id:vn[0],xmlPath:vn.length>1?vn[1]:void 0,prefixUrl:vn.length>2?vn[2]:void 0,controls:vn.length>3?vn[3]:void 0,overlays:vn.length>4?vn[4]:void 0}),rn.config&&(nt.extend(!0,rn,rn.config),delete rn.config),nt.extend(!0,this,{id:rn.id,hash:rn.hash||it++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},nt.DEFAULT_SETTINGS,rn),typeof this.hash>"u")throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for(typeof rt[this.hash]<"u"&&nt.console.warn("Hash "+this.hash+" has already been used."),rt[this.hash]={fsBoundsDelta:new nt.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=nt.now(),nt.EventSource.call(this),this.addHandler("open-failed",function(On){var Er=nt.getString("Errors.OpenFailed",On.eventSource,On.message);hn._showMessage(Er)}),nt.ControlDock.call(this,rn),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=nt.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",function(On){On.width="100%",On.height="100%",On.overflow="hidden",On.position="absolute",On.top="0px",On.left="0px"}(this.canvas.style),nt.setElementTouchActionNone(this.canvas),rn.tabIndex!==""&&(this.canvas.tabIndex=rn.tabIndex===void 0?0:rn.tabIndex),this.container.className="openseadragon-container",function(On){On.width="100%",On.height="100%",On.position="relative",On.overflow="hidden",On.left="0px",On.top="0px",On.textAlign="left"}(this.container.style),this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new nt.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:nt.delegate(this,Yt),keyHandler:nt.delegate(this,Xt),clickHandler:nt.delegate(this,Ht),dblClickHandler:nt.delegate(this,Qt),dragHandler:nt.delegate(this,Zt),dragEndHandler:nt.delegate(this,nn),enterHandler:nt.delegate(this,Kt),exitHandler:nt.delegate(this,ln),pressHandler:nt.delegate(this,sn),releaseHandler:nt.delegate(this,bn),nonPrimaryPressHandler:nt.delegate(this,wn),nonPrimaryReleaseHandler:nt.delegate(this,Mn),scrollHandler:nt.delegate(this,Dn),pinchHandler:nt.delegate(this,Sn)}),this.outerTracker=new nt.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:nt.delegate(this,gn),exitHandler:nt.delegate(this,Un)}),this.toolbar&&(this.toolbar=new nt.ControlDock({element:this.toolbar})),this.bindStandardControls(),rt[this.hash].prevContainerSize=st(this.container),this.world=new nt.World({viewer:this}),this.world.addHandler("add-item",function(On){hn.source=hn.world.getItemAt(0).source,rt[hn.hash].forceRedraw=!0,hn._updateRequestId||(hn._updateRequestId=Tt(hn,pn))}),this.world.addHandler("remove-item",function(On){hn.world.getItemCount()?hn.source=hn.world.getItemAt(0).source:hn.source=null,rt[hn.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(On){hn.viewport&&hn.viewport._setContentBounds(hn.world.getHomeBounds(),hn.world.getContentFactor())}),this.world.addHandler("item-index-change",function(On){hn.source=hn.world.getItemAt(0).source}),this.viewport=new nt.Viewport({containerSize:rt[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,flipped:this.flipped,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new nt.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:rn.timeout}),this.tileCache=new nt.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new nt.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=nt.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(zn=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(zn,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(zn=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(zn,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new nt.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,background:this.navigatorBackground,opacity:this.navigatorOpacity,borderColor:this.navigatorBorderColor,displayRegionColor:this.navigatorDisplayRegionColor,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),zn=0;zn<this.customControls.length;zn++)this.addControl(this.customControls[zn].id,{anchor:this.customControls[zn].anchor});nt.requestAnimationFrame(function(){Dt(hn)}),this.imageSmoothingEnabled!==void 0&&!this.imageSmoothingEnabled&&this.drawer.setImageSmoothingEnabled(this.imageSmoothingEnabled)},nt.extend(nt.Viewer.prototype,nt.EventSource.prototype,nt.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(rn){return nt.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(rn)},openTileSource:function(rn){return nt.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(rn)},open:function(rn,vn){var hn=this;if(this.close(),!!rn){if(this.sequenceMode&&nt.isArray(rn)){this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),typeof vn<"u"&&!isNaN(vn)&&(this.initialPage=vn),this.tileSources=rn,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);return}if(nt.isArray(rn)||(rn=[rn]),!!rn.length){this._opening=!0;for(var zn=rn.length,On=0,Er=0,Rn,rr=function(){if(On+Er===zn)if(On){(hn._firstOpen||!hn.preserveViewport)&&(hn.viewport.goHome(!0),hn.viewport.update()),hn._firstOpen=!1;var xr=rn[0];if(xr.tileSource&&(xr=xr.tileSource),hn.overlays&&!hn.preserveOverlays)for(var Lr=0;Lr<hn.overlays.length;Lr++)hn.currentOverlays[Lr]=wt(hn,hn.overlays[Lr]);hn._drawOverlays(),hn._opening=!1,hn.raiseEvent("open",{source:xr})}else hn._opening=!1,hn.raiseEvent("open-failed",Rn)},Kn=function(xr){(!nt.isPlainObject(xr)||!xr.tileSource)&&(xr={tileSource:xr}),xr.index!==void 0&&(nt.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete xr.index),xr.collectionImmediately===void 0&&(xr.collectionImmediately=!0);var Lr=xr.success;xr.success=function(Ar){if(On++,xr.tileSource.overlays)for(var mi=0;mi<xr.tileSource.overlays.length;mi++)hn.addOverlay(xr.tileSource.overlays[mi]);Lr&&Lr(Ar),rr()};var Cr=xr.error;xr.error=function(Ar){Er++,Rn||(Rn=Ar),Cr&&Cr(Ar),rr()},hn.addTiledImage(xr)},gr=0;gr<rn.length;gr++)Kn(rn[gr]);return this}}},close:function(){return rt[this.hash]?(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),rt[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close"),this):this},destroy:function(){if(!!rt[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),this._updateRequestId!==null&&(nt.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),rt[this.hash]=null,delete rt[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(rn){return this.innerTracker.setTracking(rn),this.outerTracker.setTracking(rn),this.raiseEvent("mouse-enabled",{enabled:rn}),this},areControlsEnabled:function(){var rn=this.controls.length,vn;for(vn=0;vn<this.controls.length;vn++)rn=rn&&this.controls[vn].isVisible();return rn},setControlsEnabled:function(rn){return rn?zt(this):Dt(this),this.raiseEvent("controls-enabled",{enabled:rn}),this},setDebugMode:function(rn){for(var vn=0;vn<this.world.getItemCount();vn++)this.world.getItemAt(vn).debugMode=rn;this.debugMode=rn,this.forceRedraw()},isFullPage:function(){return rt[this.hash].fullPage},setFullPage:function(rn){var vn=document.body,hn=vn.style,zn=document.documentElement.style,On=this,Er,Rn;if(rn==this.isFullPage())return this;var rr={fullPage:rn,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",rr),rr.preventDefaultAction)return this;if(rn){for(this.elementSize=nt.getElementSize(this.element),this.pageScroll=nt.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=hn.margin,this.docMargin=zn.margin,hn.margin="0",zn.margin="0",this.bodyPadding=hn.padding,this.docPadding=zn.padding,hn.padding="0",zn.padding="0",this.bodyWidth=hn.width,this.docWidth=zn.width,hn.width="100%",zn.width="100%",this.bodyHeight=hn.height,this.docHeight=zn.height,hn.height="100%",zn.height="100%",this.previousBody=[],rt[this.hash].prevElementParent=this.element.parentNode,rt[this.hash].prevNextSibling=this.element.nextSibling,rt[this.hash].prevElementWidth=this.element.style.width,rt[this.hash].prevElementHeight=this.element.style.height,Er=vn.childNodes.length,Rn=0;Rn<Er;Rn++)this.previousBody.push(vn.childNodes[0]),vn.removeChild(vn.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,vn.appendChild(this.toolbar.element),nt.addClass(this.toolbar.element,"fullpage")),nt.addClass(this.element,"fullpage"),vn.appendChild(this.element),this.element.style.height=nt.getWindowSize().y+"px",this.element.style.width=nt.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=nt.getElementSize(this.element).y-nt.getElementSize(this.toolbar.element).y+"px"),rt[this.hash].fullPage=!0,nt.delegate(this,gn)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,hn.margin=this.bodyMargin,zn.margin=this.docMargin,hn.padding=this.bodyPadding,zn.padding=this.docPadding,hn.width=this.bodyWidth,zn.width=this.docWidth,hn.height=this.bodyHeight,zn.height=this.docHeight,vn.removeChild(this.element),Er=this.previousBody.length,Rn=0;Rn<Er;Rn++)vn.appendChild(this.previousBody.shift());nt.removeClass(this.element,"fullpage"),rt[this.hash].prevElementParent.insertBefore(this.element,rt[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(vn.removeChild(this.toolbar.element),nt.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=rt[this.hash].prevElementWidth,this.element.style.height=rt[this.hash].prevElementHeight;var Kn=0,gr=function(){nt.setPageScroll(On.pageScroll);var xr=nt.getPageScroll();Kn++,Kn<10&&(xr.x!==On.pageScroll.x||xr.y!==On.pageScroll.y)&&nt.requestAnimationFrame(gr)};nt.requestAnimationFrame(gr),rt[this.hash].fullPage=!1,nt.delegate(this,Un)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:rn}),this},setFullScreen:function(rn){var vn=this;if(!nt.supportsFullScreen)return this.setFullPage(rn);if(nt.isFullScreen()===rn)return this;var hn={fullScreen:rn,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",hn),hn.preventDefaultAction)return this;if(rn){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var zn=function(){var On=nt.isFullScreen();On||(nt.removeEvent(document,nt.fullScreenEventName,zn),nt.removeEvent(document,nt.fullScreenErrorEventName,zn),vn.setFullPage(!1),vn.isFullPage()&&(vn.element.style.width=vn.fullPageStyleWidth,vn.element.style.height=vn.fullPageStyleHeight)),vn.navigator&&vn.viewport&&setTimeout(function(){vn.navigator.update(vn.viewport)}),vn.raiseEvent("full-screen",{fullScreen:On})};nt.addEvent(document,nt.fullScreenEventName,zn),nt.addEvent(document,nt.fullScreenErrorEventName,zn),nt.requestFullScreen(document.body)}else nt.exitFullScreen();return this},isVisible:function(){return this.container.style.visibility!="hidden"},setVisible:function(rn){return this.container.style.visibility=rn?"":"hidden",this.raiseEvent("visible",{visible:rn}),this},addTiledImage:function(rn){nt.console.assert(rn,"[Viewer.addTiledImage] options is required"),nt.console.assert(rn.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),nt.console.assert(!rn.replace||rn.index>-1&&rn.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var vn=this;rn.replace&&(rn.replaceItem=vn.world.getItemAt(rn.index)),this._hideMessage(),rn.placeholderFillStyle===void 0&&(rn.placeholderFillStyle=this.placeholderFillStyle),rn.opacity===void 0&&(rn.opacity=this.opacity),rn.preload===void 0&&(rn.preload=this.preload),rn.compositeOperation===void 0&&(rn.compositeOperation=this.compositeOperation),rn.crossOriginPolicy===void 0&&(rn.crossOriginPolicy=rn.tileSource.crossOriginPolicy!==void 0?rn.tileSource.crossOriginPolicy:this.crossOriginPolicy),rn.ajaxWithCredentials===void 0&&(rn.ajaxWithCredentials=this.ajaxWithCredentials),rn.loadTilesWithAjax===void 0&&(rn.loadTilesWithAjax=this.loadTilesWithAjax),rn.ajaxHeaders===void 0||rn.ajaxHeaders===null?rn.ajaxHeaders=this.ajaxHeaders:nt.isPlainObject(rn.ajaxHeaders)&&nt.isPlainObject(this.ajaxHeaders)&&(rn.ajaxHeaders=nt.extend({},this.ajaxHeaders,rn.ajaxHeaders));var hn={options:rn};function zn(Rn){for(var rr=0;rr<vn._loadQueue.length;rr++)if(vn._loadQueue[rr]===hn){vn._loadQueue.splice(rr,1);break}vn._loadQueue.length===0&&On(hn),vn.raiseEvent("add-item-failed",Rn),rn.error&&rn.error(Rn)}function On(Rn){vn.collectionMode&&(vn.world.arrange({immediately:Rn.options.collectionImmediately,rows:vn.collectionRows,columns:vn.collectionColumns,layout:vn.collectionLayout,tileSize:vn.collectionTileSize,tileMargin:vn.collectionTileMargin}),vn.world.setAutoRefigureSizes(!0))}if(nt.isArray(rn.tileSource)){setTimeout(function(){zn({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:rn.tileSource,options:rn})});return}this._loadQueue.push(hn);function Er(){for(var Rn,rr,Kn;vn._loadQueue.length&&(Rn=vn._loadQueue[0],!!Rn.tileSource);){if(vn._loadQueue.splice(0,1),Rn.options.replace){var gr=vn.world.getIndexOfItem(Rn.options.replaceItem);gr!=-1&&(Rn.options.index=gr),vn.world.removeItem(Rn.options.replaceItem)}rr=new nt.TiledImage({viewer:vn,source:Rn.tileSource,viewport:vn.viewport,drawer:vn.drawer,tileCache:vn.tileCache,imageLoader:vn.imageLoader,x:Rn.options.x,y:Rn.options.y,width:Rn.options.width,height:Rn.options.height,fitBounds:Rn.options.fitBounds,fitBoundsPlacement:Rn.options.fitBoundsPlacement,clip:Rn.options.clip,placeholderFillStyle:Rn.options.placeholderFillStyle,opacity:Rn.options.opacity,preload:Rn.options.preload,degrees:Rn.options.degrees,compositeOperation:Rn.options.compositeOperation,springStiffness:vn.springStiffness,animationTime:vn.animationTime,minZoomImageRatio:vn.minZoomImageRatio,wrapHorizontal:vn.wrapHorizontal,wrapVertical:vn.wrapVertical,immediateRender:vn.immediateRender,blendTime:vn.blendTime,alwaysBlend:vn.alwaysBlend,minPixelRatio:vn.minPixelRatio,smoothTileEdgesMinZoom:vn.smoothTileEdgesMinZoom,iOSDevice:vn.iOSDevice,crossOriginPolicy:Rn.options.crossOriginPolicy,ajaxWithCredentials:Rn.options.ajaxWithCredentials,loadTilesWithAjax:Rn.options.loadTilesWithAjax,ajaxHeaders:Rn.options.ajaxHeaders,debugMode:vn.debugMode}),vn.collectionMode&&vn.world.setAutoRefigureSizes(!1),vn.world.addItem(rr,{index:Rn.options.index}),vn._loadQueue.length===0&&On(Rn),vn.world.getItemCount()===1&&!vn.preserveViewport&&vn.viewport.goHome(!0),vn.navigator&&(Kn=nt.extend({},Rn.options,{replace:!1,originalTiledImage:rr,tileSource:Rn.tileSource}),vn.navigator.addTiledImage(Kn)),Rn.options.success&&Rn.options.success({item:rr})}}bt(this,rn.tileSource,rn,function(Rn){hn.tileSource=Rn,Er()},function(Rn){Rn.options=rn,zn(Rn),Er()})},addSimpleImage:function(rn){nt.console.assert(rn,"[Viewer.addSimpleImage] options is required"),nt.console.assert(rn.url,"[Viewer.addSimpleImage] options.url is required");var vn=nt.extend({},rn,{tileSource:{type:"image",url:rn.url}});delete vn.url,this.addTiledImage(vn)},addLayer:function(rn){var vn=this;nt.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var hn=nt.extend({},rn,{success:function(zn){vn.raiseEvent("add-layer",{options:rn,drawer:zn.item})},error:function(zn){vn.raiseEvent("add-layer-failed",zn)}});return this.addTiledImage(hn),this},getLayerAtLevel:function(rn){return nt.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(rn)},getLevelOfLayer:function(rn){return nt.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(rn)},getLayersCount:function(){return nt.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(rn,vn){return nt.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(rn,vn)},removeLayer:function(rn){return nt.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(rn)},forceRedraw:function(){return rt[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var rn=nt.delegate(this,$t),vn=nt.delegate(this,Bt),hn=nt.delegate(this,An),zn=nt.delegate(this,hr),On=this.navImages,Er=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(Er=!1),this.previousButton=new nt.Button({element:this.previousButton?nt.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.PreviousPage"),srcRest:Mr(this.prefixUrl,On.previous.REST),srcGroup:Mr(this.prefixUrl,On.previous.GROUP),srcHover:Mr(this.prefixUrl,On.previous.HOVER),srcDown:Mr(this.prefixUrl,On.previous.DOWN),onRelease:zn,onFocus:rn,onBlur:vn}),this.nextButton=new nt.Button({element:this.nextButton?nt.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.NextPage"),srcRest:Mr(this.prefixUrl,On.next.REST),srcGroup:Mr(this.prefixUrl,On.next.GROUP),srcHover:Mr(this.prefixUrl,On.next.HOVER),srcDown:Mr(this.prefixUrl,On.next.DOWN),onRelease:hn,onFocus:rn,onBlur:vn}),this.navPrevNextWrap||this.previousButton.disable(),(!this.tileSources||!this.tileSources.length)&&this.nextButton.disable(),Er&&(this.paging=new nt.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:nt.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||nt.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var rn=nt.delegate(this,fr),vn=nt.delegate(this,Gn),hn=nt.delegate(this,vr),zn=nt.delegate(this,cr),On=nt.delegate(this,Ir),Er=nt.delegate(this,_r),Rn=nt.delegate(this,tr),rr=nt.delegate(this,qn),Kn=nt.delegate(this,mr),gr=nt.delegate(this,br),xr=nt.delegate(this,$t),Lr=nt.delegate(this,Bt),Cr=this.navImages,Ar=[],mi=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton||this.flipButton)&&(mi=!1),this.showZoomControl&&(Ar.push(this.zoomInButton=new nt.Button({element:this.zoomInButton?nt.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.ZoomIn"),srcRest:Mr(this.prefixUrl,Cr.zoomIn.REST),srcGroup:Mr(this.prefixUrl,Cr.zoomIn.GROUP),srcHover:Mr(this.prefixUrl,Cr.zoomIn.HOVER),srcDown:Mr(this.prefixUrl,Cr.zoomIn.DOWN),onPress:rn,onRelease:vn,onClick:hn,onEnter:rn,onExit:vn,onFocus:xr,onBlur:Lr})),Ar.push(this.zoomOutButton=new nt.Button({element:this.zoomOutButton?nt.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.ZoomOut"),srcRest:Mr(this.prefixUrl,Cr.zoomOut.REST),srcGroup:Mr(this.prefixUrl,Cr.zoomOut.GROUP),srcHover:Mr(this.prefixUrl,Cr.zoomOut.HOVER),srcDown:Mr(this.prefixUrl,Cr.zoomOut.DOWN),onPress:zn,onRelease:vn,onClick:On,onEnter:zn,onExit:vn,onFocus:xr,onBlur:Lr}))),this.showHomeControl&&Ar.push(this.homeButton=new nt.Button({element:this.homeButton?nt.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.Home"),srcRest:Mr(this.prefixUrl,Cr.home.REST),srcGroup:Mr(this.prefixUrl,Cr.home.GROUP),srcHover:Mr(this.prefixUrl,Cr.home.HOVER),srcDown:Mr(this.prefixUrl,Cr.home.DOWN),onRelease:Er,onFocus:xr,onBlur:Lr})),this.showFullPageControl&&Ar.push(this.fullPageButton=new nt.Button({element:this.fullPageButton?nt.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.FullPage"),srcRest:Mr(this.prefixUrl,Cr.fullpage.REST),srcGroup:Mr(this.prefixUrl,Cr.fullpage.GROUP),srcHover:Mr(this.prefixUrl,Cr.fullpage.HOVER),srcDown:Mr(this.prefixUrl,Cr.fullpage.DOWN),onRelease:Rn,onFocus:xr,onBlur:Lr})),this.showRotationControl&&(Ar.push(this.rotateLeftButton=new nt.Button({element:this.rotateLeftButton?nt.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.RotateLeft"),srcRest:Mr(this.prefixUrl,Cr.rotateleft.REST),srcGroup:Mr(this.prefixUrl,Cr.rotateleft.GROUP),srcHover:Mr(this.prefixUrl,Cr.rotateleft.HOVER),srcDown:Mr(this.prefixUrl,Cr.rotateleft.DOWN),onRelease:rr,onFocus:xr,onBlur:Lr})),Ar.push(this.rotateRightButton=new nt.Button({element:this.rotateRightButton?nt.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.RotateRight"),srcRest:Mr(this.prefixUrl,Cr.rotateright.REST),srcGroup:Mr(this.prefixUrl,Cr.rotateright.GROUP),srcHover:Mr(this.prefixUrl,Cr.rotateright.HOVER),srcDown:Mr(this.prefixUrl,Cr.rotateright.DOWN),onRelease:Kn,onFocus:xr,onBlur:Lr}))),this.showFlipControl&&Ar.push(this.flipButton=new nt.Button({element:this.flipButton?nt.getElement(this.flipButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:nt.getString("Tooltips.Flip"),srcRest:Mr(this.prefixUrl,Cr.flip.REST),srcGroup:Mr(this.prefixUrl,Cr.flip.GROUP),srcHover:Mr(this.prefixUrl,Cr.flip.HOVER),srcDown:Mr(this.prefixUrl,Cr.flip.DOWN),onRelease:gr,onFocus:xr,onBlur:Lr})),mi&&(this.buttons=new nt.ButtonGroup({buttons:Ar,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",nt.delegate(this,Pr)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||nt.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||nt.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(rn){return this.tileSources&&rn>=0&&rn<this.tileSources.length&&(this._sequenceIndex=rn,this._updateSequenceButtons(rn),this.open(this.tileSources[rn]),this.referenceStrip&&this.referenceStrip.setFocus(rn),this.raiseEvent("page",{page:rn})),this},addOverlay:function(rn,vn,hn,zn){var On;if(nt.isPlainObject(rn)?On=rn:On={element:rn,location:vn,placement:hn,onDraw:zn},rn=nt.getElement(On.element),Et(this.currentOverlays,rn)>=0)return this;var Er=wt(this,On);return this.currentOverlays.push(Er),Er.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:rn,location:On.location,placement:On.placement}),this},updateOverlay:function(rn,vn,hn){var zn;return rn=nt.getElement(rn),zn=Et(this.currentOverlays,rn),zn>=0&&(this.currentOverlays[zn].update(vn,hn),rt[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:rn,location:vn,placement:hn})),this},removeOverlay:function(rn){var vn;return rn=nt.getElement(rn),vn=Et(this.currentOverlays,rn),vn>=0&&(this.currentOverlays[vn].destroy(),this.currentOverlays.splice(vn,1),rt[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:rn})),this},clearOverlays:function(){for(;this.currentOverlays.length>0;)this.currentOverlays.pop().destroy();return rt[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(rn){var vn;return rn=nt.getElement(rn),vn=Et(this.currentOverlays,rn),vn>=0?this.currentOverlays[vn]:null},_updateSequenceButtons:function(rn){this.nextButton&&(!this.tileSources||this.tileSources.length-1===rn?this.navPrevNextWrap||this.nextButton.disable():this.nextButton.enable()),this.previousButton&&(rn>0?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(rn){this._hideMessage();var vn=nt.makeNeutralElement("div");vn.appendChild(document.createTextNode(rn)),this.messageDiv=nt.makeCenteredNode(vn),nt.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var rn=this.messageDiv;rn&&(rn.parentNode.removeChild(rn),delete this.messageDiv)},gestureSettingsByDeviceType:function(rn){switch(rn){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var rn,vn=this.currentOverlays.length;for(rn=0;rn<vn;rn++)this.currentOverlays[rn].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&this.tileSources.length>1&&(this.referenceStrip=new nt.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,useCanvas:this.useCanvas,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else nt.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}});function st(rn){return rn=nt.getElement(rn),new nt.Point(rn.clientWidth===0?1:rn.clientWidth,rn.clientHeight===0?1:rn.clientHeight)}function bt(rn,vn,hn,zn,On){var Er=rn;if(nt.type(vn)=="string"){if(vn.match(/^\s*<.*>\s*$/))vn=nt.parseXml(vn);else if(vn.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var Rn=nt.parseJSON(vn);vn=Rn}catch{}}function rr(Kn,gr){Kn.ready?zn(Kn):(Kn.addHandler("ready",function(){zn(Kn)}),Kn.addHandler("open-failed",function(xr){On({message:xr.message,source:gr})}))}setTimeout(function(){if(nt.type(vn)=="string")vn=new nt.TileSource({url:vn,crossOriginPolicy:hn.crossOriginPolicy!==void 0?hn.crossOriginPolicy:rn.crossOriginPolicy,ajaxWithCredentials:rn.ajaxWithCredentials,ajaxHeaders:rn.ajaxHeaders,useCanvas:rn.useCanvas,success:function(Lr){zn(Lr.tileSource)}}),vn.addHandler("open-failed",function(Lr){On(Lr)});else if(nt.isPlainObject(vn)||vn.nodeType)if(vn.crossOriginPolicy===void 0&&(hn.crossOriginPolicy!==void 0||rn.crossOriginPolicy!==void 0)&&(vn.crossOriginPolicy=hn.crossOriginPolicy!==void 0?hn.crossOriginPolicy:rn.crossOriginPolicy),vn.ajaxWithCredentials===void 0&&(vn.ajaxWithCredentials=rn.ajaxWithCredentials),vn.useCanvas===void 0&&(vn.useCanvas=rn.useCanvas),nt.isFunction(vn.getTileUrl)){var Kn=new nt.TileSource(vn);Kn.getTileUrl=vn.getTileUrl,zn(Kn)}else{var gr=nt.TileSource.determineType(Er,vn);if(!gr){On({message:"Unable to load TileSource",source:vn});return}var xr=gr.prototype.configure.apply(Er,[vn]);rr(new gr(xr),vn)}else rr(vn,vn)})}function wt(rn,vn){if(vn instanceof nt.Overlay)return vn;var hn=null;if(vn.element)hn=nt.getElement(vn.element);else{var zn=vn.id?vn.id:"openseadragon-overlay-"+Math.floor(Math.random()*1e7);hn=nt.getElement(vn.id),hn||(hn=document.createElement("a"),hn.href="#/overlay/"+zn),hn.id=zn,nt.addClass(hn,vn.className?vn.className:"openseadragon-overlay")}var On=vn.location,Er=vn.width,Rn=vn.height;if(!On){var rr=vn.x,Kn=vn.y;if(vn.px!==void 0){var gr=rn.viewport.imageToViewportRectangle(new nt.Rect(vn.px,vn.py,Er||0,Rn||0));rr=gr.x,Kn=gr.y,Er=Er!==void 0?gr.width:void 0,Rn=Rn!==void 0?gr.height:void 0}On=new nt.Point(rr,Kn)}var xr=vn.placement;return xr&&nt.type(xr)==="string"&&(xr=nt.Placement[vn.placement.toUpperCase()]),new nt.Overlay({element:hn,location:On,placement:xr,onDraw:vn.onDraw,checkResize:vn.checkResize,width:Er,height:Rn,rotationMode:vn.rotationMode})}function Et(rn,vn){var hn;for(hn=rn.length-1;hn>=0;hn--)if(rn[hn].element===vn)return hn;return-1}function Tt(rn,vn){return nt.requestAnimationFrame(function(){vn(rn)})}function At(rn){nt.requestAnimationFrame(function(){Ot(rn)})}function Dt(rn){!rn.autoHideControls||(rn.controlsShouldFade=!0,rn.controlsFadeBeginTime=nt.now()+rn.controlsFadeDelay,window.setTimeout(function(){At(rn)},rn.controlsFadeDelay))}function Ot(rn){var vn,hn,zn,On;if(rn.controlsShouldFade){for(vn=nt.now(),hn=vn-rn.controlsFadeBeginTime,zn=1-hn/rn.controlsFadeLength,zn=Math.min(1,zn),zn=Math.max(0,zn),On=rn.controls.length-1;On>=0;On--)rn.controls[On].autoFade&&rn.controls[On].setOpacity(zn);zn>0&&At(rn)}}function zt(rn){var vn;for(rn.controlsShouldFade=!1,vn=rn.controls.length-1;vn>=0;vn--)rn.controls[vn].setOpacity(1)}function $t(){zt(this)}function Bt(){Dt(this)}function Yt(rn){var vn={originalEvent:rn.originalEvent,preventDefaultAction:rn.preventDefaultAction,preventVerticalPan:rn.preventVerticalPan,preventHorizontalPan:rn.preventHorizontalPan};if(this.raiseEvent("canvas-key",vn),!vn.preventDefaultAction&&!rn.ctrl&&!rn.alt&&!rn.meta)switch(rn.keyCode){case 38:return vn.preventVerticalPan||(rn.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(0,-this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 40:return vn.preventVerticalPan||(rn.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(0,this.pixelsPerArrowPress))),this.viewport.applyConstraints()),!1;case 37:return vn.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(-this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;case 39:return vn.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(this.pixelsPerArrowPress,0))),this.viewport.applyConstraints()),!1;default:return!0}else return!0}function Xt(rn){var vn={originalEvent:rn.originalEvent,preventDefaultAction:rn.preventDefaultAction,preventVerticalPan:rn.preventVerticalPan,preventHorizontalPan:rn.preventHorizontalPan};if(this.raiseEvent("canvas-key",vn),!vn.preventDefaultAction&&!rn.ctrl&&!rn.alt&&!rn.meta)switch(rn.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return vn.preventVerticalPan||(rn.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(0,-40))),this.viewport.applyConstraints()),!1;case 115:case 83:return vn.preventVerticalPan||(rn.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(0,40))),this.viewport.applyConstraints()),!1;case 97:return vn.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(-40,0))),this.viewport.applyConstraints()),!1;case 100:return vn.preventHorizontalPan||(this.viewport.panBy(this.viewport.deltaPointsFromPixels(new nt.Point(40,0))),this.viewport.applyConstraints()),!1;case 114:return this.viewport.flipped?this.viewport.setRotation(nt.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)):this.viewport.setRotation(nt.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 82:return this.viewport.flipped?this.viewport.setRotation(nt.positiveModulo(this.viewport.degrees+this.rotationIncrement,360)):this.viewport.setRotation(nt.positiveModulo(this.viewport.degrees-this.rotationIncrement,360)),this.viewport.applyConstraints(),!1;case 102:return this.viewport.toggleFlip(),!1;default:return!0}else return!0}function Ht(rn){var vn,hn=document.activeElement==this.canvas;hn||this.canvas.focus(),this.viewport.flipped&&(rn.position.x=this.viewport.getContainerSize().x-rn.position.x);var zn={tracker:rn.eventSource,position:rn.position,quick:rn.quick,shift:rn.shift,originalEvent:rn.originalEvent,preventDefaultAction:rn.preventDefaultAction};this.raiseEvent("canvas-click",zn),!zn.preventDefaultAction&&this.viewport&&rn.quick&&(vn=this.gestureSettingsByDeviceType(rn.pointerType),vn.clickToZoom&&(this.viewport.zoomBy(rn.shift?1/this.zoomPerClick:this.zoomPerClick,vn.zoomToRefPoint?this.viewport.pointFromPixel(rn.position,!0):null),this.viewport.applyConstraints()))}function Qt(rn){var vn,hn={tracker:rn.eventSource,position:rn.position,shift:rn.shift,originalEvent:rn.originalEvent,preventDefaultAction:rn.preventDefaultAction};this.raiseEvent("canvas-double-click",hn),!hn.preventDefaultAction&&this.viewport&&(vn=this.gestureSettingsByDeviceType(rn.pointerType),vn.dblClickToZoom&&(this.viewport.zoomBy(rn.shift?1/this.zoomPerClick:this.zoomPerClick,vn.zoomToRefPoint?this.viewport.pointFromPixel(rn.position,!0):null),this.viewport.applyConstraints()))}function Zt(rn){var vn,hn={tracker:rn.eventSource,position:rn.position,delta:rn.delta,speed:rn.speed,direction:rn.direction,shift:rn.shift,originalEvent:rn.originalEvent,preventDefaultAction:rn.preventDefaultAction};if(this.raiseEvent("canvas-drag",hn),!hn.preventDefaultAction&&this.viewport){if(vn=this.gestureSettingsByDeviceType(rn.pointerType),this.panHorizontal||(rn.delta.x=0),this.panVertical||(rn.delta.y=0),this.viewport.flipped&&(rn.delta.x=-rn.delta.x),this.constrainDuringPan){var zn=this.viewport.deltaPointsFromPixels(rn.delta.negate());this.viewport.centerSpringX.target.value+=zn.x,this.viewport.centerSpringY.target.value+=zn.y;var On=this.viewport.getBounds(),Er=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=zn.x,this.viewport.centerSpringY.target.value-=zn.y,On.x!=Er.x&&(rn.delta.x=0),On.y!=Er.y&&(rn.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(rn.delta.negate()),vn.flickEnabled&&!this.constrainDuringPan)}}function nn(rn){if(!rn.preventDefaultAction&&this.viewport){var vn=this.gestureSettingsByDeviceType(rn.pointerType);if(vn.flickEnabled&&rn.speed>=vn.flickMinSpeed){var hn=0;this.panHorizontal&&(hn=vn.flickMomentum*rn.speed*Math.cos(rn.direction));var zn=0;this.panVertical&&(zn=vn.flickMomentum*rn.speed*Math.sin(rn.direction));var On=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),Er=this.viewport.pointFromPixel(new nt.Point(On.x-hn,On.y-zn));this.viewport.panTo(Er,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:rn.eventSource,position:rn.position,speed:rn.speed,direction:rn.direction,shift:rn.shift,originalEvent:rn.originalEvent})}function Kt(rn){this.raiseEvent("canvas-enter",{tracker:rn.eventSource,pointerType:rn.pointerType,position:rn.position,buttons:rn.buttons,pointers:rn.pointers,insideElementPressed:rn.insideElementPressed,buttonDownAny:rn.buttonDownAny,originalEvent:rn.originalEvent})}function ln(rn){window.location!=window.parent.location&&nt.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:rn.eventSource,pointerType:rn.pointerType,position:rn.position,buttons:rn.buttons,pointers:rn.pointers,insideElementPressed:rn.insideElementPressed,buttonDownAny:rn.buttonDownAny,originalEvent:rn.originalEvent})}function sn(rn){this.raiseEvent("canvas-press",{tracker:rn.eventSource,pointerType:rn.pointerType,position:rn.position,insideElementPressed:rn.insideElementPressed,insideElementReleased:rn.insideElementReleased,originalEvent:rn.originalEvent})}function bn(rn){this.raiseEvent("canvas-release",{tracker:rn.eventSource,pointerType:rn.pointerType,position:rn.position,insideElementPressed:rn.insideElementPressed,insideElementReleased:rn.insideElementReleased,originalEvent:rn.originalEvent})}function wn(rn){this.raiseEvent("canvas-nonprimary-press",{tracker:rn.eventSource,position:rn.position,pointerType:rn.pointerType,button:rn.button,buttons:rn.buttons,originalEvent:rn.originalEvent})}function Mn(rn){this.raiseEvent("canvas-nonprimary-release",{tracker:rn.eventSource,position:rn.position,pointerType:rn.pointerType,button:rn.button,buttons:rn.buttons,originalEvent:rn.originalEvent})}function Sn(rn){var vn,hn,zn,On;if(!rn.preventDefaultAction&&this.viewport&&(vn=this.gestureSettingsByDeviceType(rn.pointerType),vn.pinchToZoom&&(hn=this.viewport.pointFromPixel(rn.center,!0),zn=this.viewport.pointFromPixel(rn.lastCenter,!0),On=zn.minus(hn),this.panHorizontal||(On.x=0),this.panVertical||(On.y=0),this.viewport.zoomBy(rn.distance/rn.lastDistance,hn,!0),vn.zoomToRefPoint&&this.viewport.panBy(On,!0),this.viewport.applyConstraints()),vn.pinchRotate)){var Er=Math.atan2(rn.gesturePoints[0].currentPos.y-rn.gesturePoints[1].currentPos.y,rn.gesturePoints[0].currentPos.x-rn.gesturePoints[1].currentPos.x),Rn=Math.atan2(rn.gesturePoints[0].lastPos.y-rn.gesturePoints[1].lastPos.y,rn.gesturePoints[0].lastPos.x-rn.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(Er-Rn)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:rn.eventSource,gesturePoints:rn.gesturePoints,lastCenter:rn.lastCenter,center:rn.center,lastDistance:rn.lastDistance,distance:rn.distance,shift:rn.shift,originalEvent:rn.originalEvent}),!1}function Dn(rn){var vn,hn,zn,On;if(zn=nt.now(),On=zn-this._lastScrollTime,On>this.minScrollDeltaTime){if(this._lastScrollTime=zn,this.viewport.flipped&&(rn.position.x=this.viewport.getContainerSize().x-rn.position.x),!rn.preventDefaultAction&&this.viewport&&(vn=this.gestureSettingsByDeviceType(rn.pointerType),vn.scrollToZoom&&(hn=Math.pow(this.zoomPerScroll,rn.scroll),this.viewport.zoomBy(hn,vn.zoomToRefPoint?this.viewport.pointFromPixel(rn.position,!0):null),this.viewport.applyConstraints())),this.raiseEvent("canvas-scroll",{tracker:rn.eventSource,position:rn.position,scroll:rn.scroll,shift:rn.shift,originalEvent:rn.originalEvent}),vn&&vn.scrollToZoom)return!1}else if(vn=this.gestureSettingsByDeviceType(rn.pointerType),vn&&vn.scrollToZoom)return!1}function gn(rn){rt[this.hash].mouseInside=!0,zt(this),this.raiseEvent("container-enter",{tracker:rn.eventSource,position:rn.position,buttons:rn.buttons,pointers:rn.pointers,insideElementPressed:rn.insideElementPressed,buttonDownAny:rn.buttonDownAny,originalEvent:rn.originalEvent})}function Un(rn){rn.pointers<1&&(rt[this.hash].mouseInside=!1,rt[this.hash].animating||Dt(this)),this.raiseEvent("container-exit",{tracker:rn.eventSource,position:rn.position,buttons:rn.buttons,pointers:rn.pointers,insideElementPressed:rn.insideElementPressed,buttonDownAny:rn.buttonDownAny,originalEvent:rn.originalEvent})}function pn(rn){yr(rn),rn.isOpen()?rn._updateRequestId=Tt(rn,pn):rn._updateRequestId=!1}function yr(rn){if(!rn._opening){if(rn.autoResize){var vn=st(rn.container),hn=rt[rn.hash].prevContainerSize;if(!vn.equals(hn)){var zn=rn.viewport;if(rn.preserveImageSizeOnResize){var On=hn.x/vn.x,Er=zn.getZoom()*On,Rn=zn.getCenter();zn.resize(vn,!1),zn.zoomTo(Er,null,!0),zn.panTo(Rn,!0)}else{var rr=zn.getBounds();zn.resize(vn,!0),zn.fitBoundsWithConstraints(rr,!0)}rt[rn.hash].prevContainerSize=vn,rt[rn.hash].forceRedraw=!0}}var Kn=rn.viewport.update(),gr=rn.world.update()||Kn;Kn&&rn.raiseEvent("viewport-change"),rn.referenceStrip&&(gr=rn.referenceStrip.update(rn.viewport)||gr),!rt[rn.hash].animating&&gr&&(rn.raiseEvent("animation-start"),zt(rn)),(gr||rt[rn.hash].forceRedraw||rn.world.needsDraw())&&(xn(rn),rn._drawOverlays(),rn.navigator&&rn.navigator.update(rn.viewport),rt[rn.hash].forceRedraw=!1,gr&&rn.raiseEvent("animation")),rt[rn.hash].animating&&!gr&&(rn.raiseEvent("animation-finish"),rt[rn.hash].mouseInside||Dt(rn)),rt[rn.hash].animating=gr}}function xn(rn){rn.imageLoader.clear(),rn.drawer.clear(),rn.world.draw(),rn.raiseEvent("update-viewport",{})}function Mr(rn,vn){return rn?rn+vn:vn}function fr(){rt[this.hash].lastZoomTime=nt.now(),rt[this.hash].zoomFactor=this.zoomPerSecond,rt[this.hash].zooming=!0,lr(this)}function cr(){rt[this.hash].lastZoomTime=nt.now(),rt[this.hash].zoomFactor=1/this.zoomPerSecond,rt[this.hash].zooming=!0,lr(this)}function Gn(){rt[this.hash].zooming=!1}function lr(rn){nt.requestAnimationFrame(nt.delegate(rn,ur))}function ur(){var rn,vn,hn;rt[this.hash].zooming&&this.viewport&&(rn=nt.now(),vn=rn-rt[this.hash].lastZoomTime,hn=Math.pow(rt[this.hash].zoomFactor,vn/1e3),this.viewport.zoomBy(hn),this.viewport.applyConstraints(),rt[this.hash].lastZoomTime=rn,lr(this))}function vr(){this.viewport&&(rt[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function Ir(){this.viewport&&(rt[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function Pr(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function _r(){this.viewport&&this.viewport.goHome()}function tr(){this.isFullPage()&&!nt.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function qn(){if(this.viewport){var rn=this.viewport.getRotation();this.viewport.flipped?rn=nt.positiveModulo(rn+this.rotationIncrement,360):rn=nt.positiveModulo(rn-this.rotationIncrement,360),this.viewport.setRotation(rn)}}function mr(){if(this.viewport){var rn=this.viewport.getRotation();this.viewport.flipped?rn=nt.positiveModulo(rn-this.rotationIncrement,360):rn=nt.positiveModulo(rn+this.rotationIncrement,360),this.viewport.setRotation(rn)}}function br(){this.viewport.toggleFlip()}function hr(){var rn=this._sequenceIndex-1;this.navPrevNextWrap&&rn<0&&(rn+=this.tileSources.length),this.goToPage(rn)}function An(){var rn=this._sequenceIndex+1;this.navPrevNextWrap&&rn>=this.tileSources.length&&(rn=0),this.goToPage(rn)}}(OpenSeadragon),function(nt){nt.Navigator=function(Tt){var At=Tt.viewer,Dt=this,Ot,zt;Tt.id?(this.element=document.getElementById(Tt.id),Tt.controlOptions={anchor:nt.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(Tt.id="navigator-"+nt.now(),this.element=nt.makeNeutralElement("div"),Tt.controlOptions={anchor:nt.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:Tt.autoFade},Tt.position&&(Tt.position=="BOTTOM_RIGHT"?Tt.controlOptions.anchor=nt.ControlAnchor.BOTTOM_RIGHT:Tt.position=="BOTTOM_LEFT"?Tt.controlOptions.anchor=nt.ControlAnchor.BOTTOM_LEFT:Tt.position=="TOP_RIGHT"?Tt.controlOptions.anchor=nt.ControlAnchor.TOP_RIGHT:Tt.position=="TOP_LEFT"?Tt.controlOptions.anchor=nt.ControlAnchor.TOP_LEFT:Tt.position=="ABSOLUTE"&&(Tt.controlOptions.anchor=nt.ControlAnchor.ABSOLUTE,Tt.controlOptions.top=Tt.top,Tt.controlOptions.left=Tt.left,Tt.controlOptions.height=Tt.height,Tt.controlOptions.width=Tt.width))),this.element.id=Tt.id,this.element.className+=" navigator",Tt=nt.extend(!0,{sizeRatio:nt.DEFAULT_SETTINGS.navigatorSizeRatio},Tt,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:Tt.autoResize,minZoomImageRatio:1,background:Tt.background,opacity:Tt.opacity,borderColor:Tt.borderColor,displayRegionColor:Tt.displayRegionColor}),Tt.minPixelRatio=this.minPixelRatio=At.minPixelRatio,nt.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new nt.Point(1,1),this.totalBorderWidths=new nt.Point(this.borderWidth*2,this.borderWidth*2).minus(this.fudge),Tt.controlOptions.anchor!=nt.ControlAnchor.NONE&&function(Yt,Xt){Yt.margin="0px",Yt.border=Xt+"px solid "+Tt.borderColor,Yt.padding="0px",Yt.background=Tt.background,Yt.opacity=Tt.opacity,Yt.overflow="hidden"}(this.element.style,this.borderWidth),this.displayRegion=nt.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",function(Yt,Xt){Yt.position="relative",Yt.top="0px",Yt.left="0px",Yt.fontSize="0px",Yt.overflow="hidden",Yt.border=Xt+"px solid "+Tt.displayRegionColor,Yt.margin="0px",Yt.padding="0px",Yt.background="transparent",Yt.float="left",Yt.cssFloat="left",Yt.styleFloat="left",Yt.zIndex=999999999,Yt.cursor="default"}(this.displayRegion.style,this.borderWidth),this.displayRegionContainer=nt.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",At.addControl(this.element,Tt.controlOptions),this._resizeWithViewer=Tt.controlOptions.anchor!=nt.ControlAnchor.ABSOLUTE&&Tt.controlOptions.anchor!=nt.ControlAnchor.NONE,Tt.width&&Tt.height?(this.setWidth(Tt.width),this.setHeight(Tt.height)):this._resizeWithViewer&&(Ot=nt.getElementSize(At.element),this.element.style.height=Math.round(Ot.y*Tt.sizeRatio)+"px",this.element.style.width=Math.round(Ot.x*Tt.sizeRatio)+"px",this.oldViewerSize=Ot,zt=nt.getElementSize(this.element),this.elementArea=zt.x*zt.y),this.oldContainerSize=new nt.Point(0,0),nt.Viewer.apply(this,[Tt]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer);function $t(Yt){wt(Dt.displayRegionContainer,Yt),wt(Dt.displayRegion,-Yt),Dt.viewport.setRotation(Yt)}if(Tt.navigatorRotate){var Bt=Tt.viewer.viewport?Tt.viewer.viewport.getRotation():Tt.viewer.degrees||0;$t(Bt),Tt.viewer.addHandler("rotate",function(Yt){$t(Yt.degrees)})}this.innerTracker.destroy(),this.innerTracker=new nt.MouseTracker({element:this.element,dragHandler:nt.delegate(this,it),clickHandler:nt.delegate(this,rt),releaseHandler:nt.delegate(this,st),scrollHandler:nt.delegate(this,bt)}),this.addHandler("reset-size",function(){Dt.viewport&&Dt.viewport.goHome(!0)}),At.world.addHandler("item-index-change",function(Yt){window.setTimeout(function(){var Xt=Dt.world.getItemAt(Yt.previousIndex);Dt.world.setItemIndex(Xt,Yt.newIndex)},1)}),At.world.addHandler("remove-item",function(Yt){var Xt=Yt.item,Ht=Dt._getMatchingItem(Xt);Ht&&Dt.world.removeItem(Ht)}),this.update(At.viewport)},nt.extend(nt.Navigator.prototype,nt.EventSource.prototype,nt.Viewer.prototype,{updateSize:function(){if(this.viewport){var Tt=new nt.Point(this.container.clientWidth===0?1:this.container.clientWidth,this.container.clientHeight===0?1:this.container.clientHeight);Tt.equals(this.oldContainerSize)||(this.viewport.resize(Tt,!0),this.viewport.goHome(!0),this.oldContainerSize=Tt,this.drawer.clear(),this.world.draw())}},setWidth:function(Tt){this.width=Tt,this.element.style.width=typeof Tt=="number"?Tt+"px":Tt,this._resizeWithViewer=!1},setHeight:function(Tt){this.height=Tt,this.element.style.height=typeof Tt=="number"?Tt+"px":Tt,this._resizeWithViewer=!1},setFlip:function(Tt){return this.viewport.setFlip(Tt),this.setDisplayTransform(this.viewer.viewport.getFlip()?"scale(-1,1)":"scale(1,1)"),this},setDisplayTransform:function(Tt){Et(this.displayRegion,Tt),Et(this.canvas,Tt),Et(this.element,Tt)},update:function(Tt){var At,Dt,Ot,zt,$t,Bt;if(At=nt.getElementSize(this.viewer.element),this._resizeWithViewer&&At.x&&At.y&&!At.equals(this.oldViewerSize)&&(this.oldViewerSize=At,this.maintainSizeRatio||!this.elementArea?(Dt=At.x*this.sizeRatio,Ot=At.y*this.sizeRatio):(Dt=Math.sqrt(this.elementArea*(At.x/At.y)),Ot=this.elementArea/Dt),this.element.style.width=Math.round(Dt)+"px",this.element.style.height=Math.round(Ot)+"px",this.elementArea||(this.elementArea=Dt*Ot),this.updateSize()),Tt&&this.viewport){zt=Tt.getBoundsNoRotate(!0),$t=this.viewport.pixelFromPointNoRotate(zt.getTopLeft(),!1),Bt=this.viewport.pixelFromPointNoRotate(zt.getBottomRight(),!1).minus(this.totalBorderWidths);var Yt=this.displayRegion.style;Yt.display=this.world.getItemCount()?"block":"none",Yt.top=Math.round($t.y)+"px",Yt.left=Math.round($t.x)+"px";var Xt=Math.abs($t.x-Bt.x),Ht=Math.abs($t.y-Bt.y);Yt.width=Math.round(Math.max(Xt,0))+"px",Yt.height=Math.round(Math.max(Ht,0))+"px"}},addTiledImage:function(Tt){var At=this,Dt=Tt.originalTiledImage;delete Tt.original;var Ot=nt.extend({},Tt,{success:function(zt){var $t=zt.item;$t._originalForNavigator=Dt,At._matchBounds($t,Dt,!0);function Bt(){At._matchBounds($t,Dt)}function Yt(){At._matchOpacity($t,Dt)}function Xt(){At._matchCompositeOperation($t,Dt)}Dt.addHandler("bounds-change",Bt),Dt.addHandler("clip-change",Bt),Dt.addHandler("opacity-change",Yt),Dt.addHandler("composite-operation-change",Xt)}});return nt.Viewer.prototype.addTiledImage.apply(this,[Ot])},_getMatchingItem:function(Tt){for(var At=this.world.getItemCount(),Dt,Ot=0;Ot<At;Ot++)if(Dt=this.world.getItemAt(Ot),Dt._originalForNavigator===Tt)return Dt;return null},_matchBounds:function(Tt,At,Dt){var Ot=At.getBoundsNoRotate();Tt.setPosition(Ot.getTopLeft(),Dt),Tt.setWidth(Ot.width,Dt),Tt.setRotation(At.getRotation(),Dt),Tt.setClip(At.getClip())},_matchOpacity:function(Tt,At){Tt.setOpacity(At.opacity)},_matchCompositeOperation:function(Tt,At){Tt.setCompositeOperation(At.compositeOperation)}});function rt(Tt){var At={tracker:Tt.eventSource,position:Tt.position,quick:Tt.quick,shift:Tt.shift,originalEvent:Tt.originalEvent,preventDefaultAction:Tt.preventDefaultAction};if(this.viewer.raiseEvent("navigator-click",At),!At.preventDefaultAction&&Tt.quick&&this.viewer.viewport&&(this.panVertical||this.panHorizontal)){this.viewer.viewport.flipped&&(Tt.position.x=this.viewport.getContainerSize().x-Tt.position.x);var Dt=this.viewport.pointFromPixel(Tt.position);this.panVertical?this.panHorizontal||(Dt.x=this.viewer.viewport.getCenter(!0).x):Dt.y=this.viewer.viewport.getCenter(!0).y,this.viewer.viewport.panTo(Dt),this.viewer.viewport.applyConstraints()}}function it(Tt){var At={tracker:Tt.eventSource,position:Tt.position,delta:Tt.delta,speed:Tt.speed,direction:Tt.direction,shift:Tt.shift,originalEvent:Tt.originalEvent,preventDefaultAction:Tt.preventDefaultAction};this.viewer.raiseEvent("navigator-drag",At),!At.preventDefaultAction&&this.viewer.viewport&&(this.panHorizontal||(Tt.delta.x=0),this.panVertical||(Tt.delta.y=0),this.viewer.viewport.flipped&&(Tt.delta.x=-Tt.delta.x),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(Tt.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function st(Tt){Tt.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function bt(Tt){return this.viewer.raiseEvent("navigator-scroll",{tracker:Tt.eventSource,position:Tt.position,scroll:Tt.scroll,shift:Tt.shift,originalEvent:Tt.originalEvent}),!1}function wt(Tt,At){Et(Tt,"rotate("+At+"deg)")}function Et(Tt,At){Tt.style.webkitTransform=At,Tt.style.mozTransform=At,Tt.style.msTransform=At,Tt.style.oTransform=At,Tt.style.transform=At}}(OpenSeadragon),function(nt){var rt={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right",Flip:"Flip Horizontally"}};nt.extend(nt,{getString:function(it){var st=it.split("."),bt=null,wt=arguments,Et=rt,Tt;for(Tt=0;Tt<st.length-1;Tt++)Et=Et[st[Tt]]||{};return bt=Et[st[Tt]],typeof bt!="string"&&(nt.console.log("Untranslated source string:",it),bt=""),bt.replace(/\{\d+\}/g,function(At){var Dt=parseInt(At.match(/\d+/),10)+1;return Dt<wt.length?wt[Dt]:""})},setString:function(it,st){var bt=it.split("."),wt=rt,Et;for(Et=0;Et<bt.length-1;Et++)wt[bt[Et]]||(wt[bt[Et]]={}),wt=wt[bt[Et]];wt[bt[Et]]=st}})}(OpenSeadragon),function(nt){nt.Point=function(rt,it){this.x=typeof rt=="number"?rt:0,this.y=typeof it=="number"?it:0},nt.Point.prototype={clone:function(){return new nt.Point(this.x,this.y)},plus:function(rt){return new nt.Point(this.x+rt.x,this.y+rt.y)},minus:function(rt){return new nt.Point(this.x-rt.x,this.y-rt.y)},times:function(rt){return new nt.Point(this.x*rt,this.y*rt)},divide:function(rt){return new nt.Point(this.x/rt,this.y/rt)},negate:function(){return new nt.Point(-this.x,-this.y)},distanceTo:function(rt){return Math.sqrt(Math.pow(this.x-rt.x,2)+Math.pow(this.y-rt.y,2))},squaredDistanceTo:function(rt){return Math.pow(this.x-rt.x,2)+Math.pow(this.y-rt.y,2)},apply:function(rt){return new nt.Point(rt(this.x),rt(this.y))},equals:function(rt){return rt instanceof nt.Point&&this.x===rt.x&&this.y===rt.y},rotate:function(rt,it){it=it||new nt.Point(0,0);var st,bt;if(rt%90===0){var wt=nt.positiveModulo(rt,360);switch(wt){case 0:st=1,bt=0;break;case 90:st=0,bt=1;break;case 180:st=-1,bt=0;break;case 270:st=0,bt=-1;break}}else{var Et=rt*Math.PI/180;st=Math.cos(Et),bt=Math.sin(Et)}var Tt=st*(this.x-it.x)-bt*(this.y-it.y)+it.x,At=bt*(this.x-it.x)+st*(this.y-it.y)+it.y;return new nt.Point(Tt,At)},toString:function(){return"("+Math.round(this.x*100)/100+","+Math.round(this.y*100)/100+")"}}}(OpenSeadragon),function(nt){nt.TileSource=function(it,st,bt,wt,Et,Tt){var At=this,Dt=arguments,Ot,zt;if(nt.isPlainObject(it)?Ot=it:Ot={width:Dt[0],height:Dt[1],tileSize:Dt[2],tileOverlap:Dt[3],minLevel:Dt[4],maxLevel:Dt[5]},nt.EventSource.call(this),nt.extend(!0,this,Ot),!this.success){for(zt=0;zt<arguments.length;zt++)if(nt.isFunction(arguments[zt])){this.success=arguments[zt];break}}this.success&&this.addHandler("ready",function($t){At.success($t)}),nt.type(arguments[0])=="string"&&(this.url=arguments[0]),this.url?(this.aspectRatio=1,this.dimensions=new nt.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=Ot.width&&Ot.height?Ot.width/Ot.height:1,this.dimensions=new nt.Point(Ot.width,Ot.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=Ot.tileOverlap?Ot.tileOverlap:0,this.minLevel=Ot.minLevel?Ot.minLevel:0,this.maxLevel=Ot.maxLevel!==void 0&&Ot.maxLevel!==null?Ot.maxLevel:Ot.width&&Ot.height?Math.ceil(Math.log(Math.max(Ot.width,Ot.height))/Math.log(2)):0,this.success&&nt.isFunction(this.success)&&this.success(this))},nt.TileSource.prototype={getTileSize:function(it){return nt.console.error("[TileSource.getTileSize] is deprecated. Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(it){return this._tileWidth?this._tileWidth:this.getTileSize(it)},getTileHeight:function(it){return this._tileHeight?this._tileHeight:this.getTileSize(it)},getLevelScale:function(it){var st={},bt;for(bt=0;bt<=this.maxLevel;bt++)st[bt]=1/Math.pow(2,this.maxLevel-bt);return this.getLevelScale=function(wt){return st[wt]},this.getLevelScale(it)},getNumTiles:function(it){var st=this.getLevelScale(it),bt=Math.ceil(st*this.dimensions.x/this.getTileWidth(it)),wt=Math.ceil(st*this.dimensions.y/this.getTileHeight(it));return new nt.Point(bt,wt)},getPixelRatio:function(it){var st=this.dimensions.times(this.getLevelScale(it)),bt=1/st.x,wt=1/st.y;return new nt.Point(bt,wt)},getClosestLevel:function(){var it,st;for(it=this.minLevel+1;it<=this.maxLevel&&(st=this.getNumTiles(it),!(st.x>1||st.y>1));it++);return it-1},getTileAtPoint:function(it,st){var bt=st.x>=0&&st.x<=1&&st.y>=0&&st.y<=1/this.aspectRatio;nt.console.assert(bt,"[TileSource.getTileAtPoint] must be called with a valid point.");var wt=this.dimensions.x*this.getLevelScale(it),Et=st.x*wt,Tt=st.y*wt,At=Math.floor(Et/this.getTileWidth(it)),Dt=Math.floor(Tt/this.getTileHeight(it));st.x>=1&&(At=this.getNumTiles(it).x-1);var Ot=1e-15;return st.y>=1/this.aspectRatio-Ot&&(Dt=this.getNumTiles(it).y-1),new nt.Point(At,Dt)},getTileBounds:function(it,st,bt,wt){var Et=this.dimensions.times(this.getLevelScale(it)),Tt=this.getTileWidth(it),At=this.getTileHeight(it),Dt=st===0?0:Tt*st-this.tileOverlap,Ot=bt===0?0:At*bt-this.tileOverlap,zt=Tt+(st===0?1:2)*this.tileOverlap,$t=At+(bt===0?1:2)*this.tileOverlap,Bt=1/Et.x;return zt=Math.min(zt,Et.x-Dt),$t=Math.min($t,Et.y-Ot),wt?new nt.Rect(0,0,zt,$t):new nt.Rect(Dt*Bt,Ot*Bt,zt*Bt,$t*Bt)},getImageInfo:function(it){var st=this,bt,wt,Et,Tt,At,Dt,Ot;it&&(At=it.split("/"),Dt=At[At.length-1],Ot=Dt.lastIndexOf("."),Ot>-1&&(At[At.length-1]=Dt.slice(0,Ot))),wt=function(zt){typeof zt=="string"&&(zt=nt.parseXml(zt));var $t=nt.TileSource.determineType(st,zt,it);if(!$t){st.raiseEvent("open-failed",{message:"Unable to load TileSource",source:it});return}Tt=$t.prototype.configure.apply(st,[zt,it]),Tt.ajaxWithCredentials===void 0&&(Tt.ajaxWithCredentials=st.ajaxWithCredentials),Et=new $t(Tt),st.ready=!0,st.raiseEvent("ready",{tileSource:Et})},it.match(/\.js$/)?(bt=it.split("/").pop().replace(".js",""),nt.jsonp({url:it,async:!1,callbackName:bt,callback:wt})):nt.makeAjaxRequest({url:it,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(zt){var $t=rt(zt);wt($t)},error:function(zt,$t){var Bt;try{Bt="HTTP "+zt.status+" attempting to load TileSource"}catch{var Yt;typeof $t>"u"||!$t.toString?Yt="Unknown error":Yt=$t.toString(),Bt=Yt+" attempting to load TileSource"}st.raiseEvent("open-failed",{message:Bt,source:it})}})},supports:function(it,st){return!1},configure:function(it,st){throw new Error("Method not implemented.")},getTileUrl:function(it,st,bt){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(it,st,bt){return{}},tileExists:function(it,st,bt){var wt=this.getNumTiles(it);return it>=this.minLevel&&it<=this.maxLevel&&st>=0&&bt>=0&&st<wt.x&&bt<wt.y}},nt.extend(!0,nt.TileSource.prototype,nt.EventSource.prototype);function rt(it){var st=it.responseText,bt=it.status,wt,Et;if(it){if(it.status!==200&&it.status!==0)throw bt=it.status,wt=bt==404?"Not Found":it.statusText,new Error(nt.getString("Errors.Status",bt,wt))}else throw new Error(nt.getString("Errors.Security"));if(st.match(/\s*<.*/))try{Et=it.responseXML&&it.responseXML.documentElement?it.responseXML:nt.parseXml(st)}catch{Et=it.responseText}else if(st.match(/\s*[\{\[].*/))try{Et=nt.parseJSON(st)}catch{Et=st}else Et=st;return Et}nt.TileSource.determineType=function(it,st,bt){var wt;for(wt in OpenSeadragon)if(wt.match(/.+TileSource$/)&&nt.isFunction(OpenSeadragon[wt])&&nt.isFunction(OpenSeadragon[wt].prototype.supports)&&OpenSeadragon[wt].prototype.supports.call(it,st,bt))return OpenSeadragon[wt];nt.console.error("No TileSource was able to open %s %s",bt,st)}}(OpenSeadragon),function(nt){nt.DziTileSource=function(st,bt,wt,Et,Tt,At,Dt,Ot,zt){var $t,Bt,Yt,Xt;if(nt.isPlainObject(st)?Xt=st:Xt={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4],fileFormat:arguments[5],displayRects:arguments[6],minLevel:arguments[7],maxLevel:arguments[8]},this._levelRects={},this.tilesUrl=Xt.tilesUrl,this.fileFormat=Xt.fileFormat,this.displayRects=Xt.displayRects,this.displayRects)for($t=this.displayRects.length-1;$t>=0;$t--)for(Bt=this.displayRects[$t],Yt=Bt.minLevel;Yt<=Bt.maxLevel;Yt++)this._levelRects[Yt]||(this._levelRects[Yt]=[]),this._levelRects[Yt].push(Bt);nt.TileSource.apply(this,[Xt])},nt.extend(nt.DziTileSource.prototype,nt.TileSource.prototype,{supports:function(st,bt){var wt;return st.Image?wt=st.Image.xmlns:st.documentElement&&(st.documentElement.localName=="Image"||st.documentElement.tagName=="Image")&&(wt=st.documentElement.namespaceURI),wt=(wt||"").toLowerCase(),wt.indexOf("schemas.microsoft.com/deepzoom/2008")!==-1||wt.indexOf("schemas.microsoft.com/deepzoom/2009")!==-1},configure:function(st,bt){var wt;return nt.isPlainObject(st)?wt=it(this,st):wt=rt(this,st),bt&&!wt.tilesUrl&&(wt.tilesUrl=bt.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),bt.search(/\.(dzi|xml|js)\?/)!=-1?wt.queryParams=bt.match(/\?.*/):wt.queryParams=""),wt},getTileUrl:function(st,bt,wt){return[this.tilesUrl,st,"/",bt,"_",wt,".",this.fileFormat,this.queryParams].join("")},tileExists:function(st,bt,wt){var Et=this._levelRects[st],Tt,At,Dt,Ot,zt,$t,Bt;if(this.minLevel&&st<this.minLevel||this.maxLevel&&st>this.maxLevel)return!1;if(!Et||!Et.length)return!0;for(Bt=Et.length-1;Bt>=0;Bt--)if(Tt=Et[Bt],!(st<Tt.minLevel||st>Tt.maxLevel)&&(At=this.getLevelScale(st),Dt=Tt.x*At,Ot=Tt.y*At,zt=Dt+Tt.width*At,$t=Ot+Tt.height*At,Dt=Math.floor(Dt/this._tileWidth),Ot=Math.floor(Ot/this._tileWidth),zt=Math.ceil(zt/this._tileWidth),$t=Math.ceil($t/this._tileWidth),Dt<=bt&&bt<zt&&Ot<=wt&&wt<$t))return!0;return!1}});function rt(st,bt){if(!bt||!bt.documentElement)throw new Error(nt.getString("Errors.Xml"));var wt=bt.documentElement,Et=wt.localName||wt.tagName,Tt=bt.documentElement.namespaceURI,At=null,Dt=[],Ot,zt,$t,Bt,Yt;if(Et=="Image")try{if(Bt=wt.getElementsByTagName("Size")[0],Bt===void 0&&(Bt=wt.getElementsByTagNameNS(Tt,"Size")[0]),At={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:wt.getAttribute("Url"),Format:wt.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(wt.getAttribute("Overlap"),10),TileSize:parseInt(wt.getAttribute("TileSize"),10),Size:{Height:parseInt(Bt.getAttribute("Height"),10),Width:parseInt(Bt.getAttribute("Width"),10)}}},!nt.imageFormatSupported(At.Image.Format))throw new Error(nt.getString("Errors.ImageFormat",At.Image.Format.toUpperCase()));for(Ot=wt.getElementsByTagName("DisplayRect"),Ot===void 0&&(Ot=wt.getElementsByTagNameNS(Tt,"DisplayRect")[0]),Yt=0;Yt<Ot.length;Yt++)zt=Ot[Yt],$t=zt.getElementsByTagName("Rect")[0],$t===void 0&&($t=zt.getElementsByTagNameNS(Tt,"Rect")[0]),Dt.push({Rect:{X:parseInt($t.getAttribute("X"),10),Y:parseInt($t.getAttribute("Y"),10),Width:parseInt($t.getAttribute("Width"),10),Height:parseInt($t.getAttribute("Height"),10),MinLevel:parseInt(zt.getAttribute("MinLevel"),10),MaxLevel:parseInt(zt.getAttribute("MaxLevel"),10)}});return Dt.length&&(At.Image.DisplayRect=Dt),it(st,At)}catch(Qt){throw Qt instanceof Error?Qt:new Error(nt.getString("Errors.Dzi"))}else{if(Et=="Collection")throw new Error(nt.getString("Errors.Dzc"));if(Et=="Error"){var Xt=wt.getElementsByTagName("Message")[0],Ht=Xt.firstChild.nodeValue;throw new Error(Ht)}}throw new Error(nt.getString("Errors.Dzi"))}function it(st,bt){var wt=bt.Image,Et=wt.Url,Tt=wt.Format,At=wt.Size,Dt=wt.DisplayRect||[],Ot=parseInt(At.Width,10),zt=parseInt(At.Height,10),$t=parseInt(wt.TileSize,10),Bt=parseInt(wt.Overlap,10),Yt=[],Xt,Ht;for(Ht=0;Ht<Dt.length;Ht++)Xt=Dt[Ht].Rect,Yt.push(new nt.DisplayRect(parseInt(Xt.X,10),parseInt(Xt.Y,10),parseInt(Xt.Width,10),parseInt(Xt.Height,10),parseInt(Xt.MinLevel,10),parseInt(Xt.MaxLevel,10)));return nt.extend(!0,{width:Ot,height:zt,tileSize:$t,tileOverlap:Bt,minLevel:null,maxLevel:null,tilesUrl:Et,fileFormat:Tt,displayRects:Yt},bt)}}(OpenSeadragon),function(nt){nt.IIIFTileSource=function(wt){if(nt.extend(!0,this,wt),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(wt.tileSizePerScaleFactor={},this.tileFormat=this.tileFormat||"jpg",this.version=wt.version,this.tile_width&&this.tile_height)wt.tileWidth=this.tile_width,wt.tileHeight=this.tile_height;else if(this.tile_width)wt.tileSize=this.tile_width;else if(this.tile_height)wt.tileSize=this.tile_height;else if(this.tiles)if(this.tiles.length==1)wt.tileWidth=this.tiles[0].width,wt.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var Et=0;Et<this.tiles.length;Et++)for(var Tt=0;Tt<this.tiles[Et].scaleFactors.length;Tt++){var At=this.tiles[Et].scaleFactors[Tt];this.scale_factors.push(At),wt.tileSizePerScaleFactor[At]={width:this.tiles[Et].width,height:this.tiles[Et].height||this.tiles[Et].width}}}else if(rt(wt)){for(var Dt=Math.min(this.height,this.width),Ot=[256,512,1024],zt=[],$t=0;$t<Ot.length;$t++)Ot[$t]<=Dt&&zt.push(Ot[$t]);zt.length>0?wt.tileSize=Math.max.apply(null,zt):wt.tileSize=Dt}else this.sizes&&this.sizes.length>0?(this.emulateLegacyImagePyramid=!0,wt.levels=it(this),nt.extend(!0,wt,{width:wt.levels[wt.levels.length-1].width,height:wt.levels[wt.levels.length-1].height,tileSize:Math.max(wt.height,wt.width),tileOverlap:0,minLevel:0,maxLevel:wt.levels.length-1}),this.levels=wt.levels):nt.console.error("Nothing in the info.json to construct image pyramids from");if(!wt.maxLevel&&!this.emulateLegacyImagePyramid)if(!this.scale_factors)wt.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)));else{var Bt=Math.max.apply(null,this.scale_factors);wt.maxLevel=Math.round(Math.log(Bt)*Math.LOG2E)}nt.TileSource.apply(this,[wt])},nt.extend(nt.IIIFTileSource.prototype,nt.TileSource.prototype,{supports:function(wt,Et){return wt.protocol&&wt.protocol=="http://iiif.io/api/image"||wt["@context"]&&(wt["@context"]=="http://library.stanford.edu/iiif/image-api/1.1/context.json"||wt["@context"]=="http://iiif.io/api/image/1/context.json")||wt.profile&&wt.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")===0||wt.identifier&&wt.width&&wt.height?!0:!!(wt.documentElement&&wt.documentElement.tagName=="info"&&wt.documentElement.namespaceURI=="http://library.stanford.edu/iiif/image-api/ns/")},configure:function(wt,Et){if(nt.isPlainObject(wt)){if(!wt["@context"])wt["@context"]="http://iiif.io/api/image/1.0/context.json",wt["@id"]=Et.replace("/info.json",""),wt.version=1;else{var At=wt["@context"];if(Array.isArray(At)){for(var Dt=0;Dt<At.length;Dt++)if(typeof At[Dt]=="string"&&(/^http:\/\/iiif\.io\/api\/image\/[1-3]\/context\.json$/.test(At[Dt])||At[Dt]==="http://library.stanford.edu/iiif/image-api/1.1/context.json")){At=At[Dt];break}}switch(At){case"http://iiif.io/api/image/1/context.json":case"http://library.stanford.edu/iiif/image-api/1.1/context.json":wt.version=1;break;case"http://iiif.io/api/image/2/context.json":wt.version=2;break;case"http://iiif.io/api/image/3/context.json":wt.version=3;break;default:nt.console.error("Data has a @context property which contains no known IIIF context URI.")}}if(!wt["@id"]&&wt.id&&(wt["@id"]=wt.id),wt.preferredFormats){for(var Ot=0;Ot<wt.preferredFormats.length;Ot++)if(OpenSeadragon.imageFormatSupported(wt.preferredFormats[Ot])){wt.tileFormat=wt.preferredFormats[Ot];break}}return wt}else{var Tt=st(wt);return Tt["@context"]="http://iiif.io/api/image/1.0/context.json",Tt["@id"]=Et.replace("/info.xml",""),Tt.version=1,Tt}},getTileWidth:function(wt){if(this.emulateLegacyImagePyramid)return nt.TileSource.prototype.getTileWidth.call(this,wt);var Et=Math.pow(2,this.maxLevel-wt);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[Et]?this.tileSizePerScaleFactor[Et].width:this._tileWidth},getTileHeight:function(wt){if(this.emulateLegacyImagePyramid)return nt.TileSource.prototype.getTileHeight.call(this,wt);var Et=Math.pow(2,this.maxLevel-wt);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[Et]?this.tileSizePerScaleFactor[Et].height:this._tileHeight},getLevelScale:function(wt){if(this.emulateLegacyImagePyramid){var Et=NaN;return this.levels.length>0&&wt>=this.minLevel&&wt<=this.maxLevel&&(Et=this.levels[wt].width/this.levels[this.maxLevel].width),Et}return nt.TileSource.prototype.getLevelScale.call(this,wt)},getNumTiles:function(wt){if(this.emulateLegacyImagePyramid){var Et=this.getLevelScale(wt);return Et?new nt.Point(1,1):new nt.Point(0,0)}return nt.TileSource.prototype.getNumTiles.call(this,wt)},getTileAtPoint:function(wt,Et){return this.emulateLegacyImagePyramid?new nt.Point(0,0):nt.TileSource.prototype.getTileAtPoint.call(this,wt,Et)},getTileUrl:function(wt,Et,Tt){if(this.emulateLegacyImagePyramid){var At=null;return this.levels.length>0&&wt>=this.minLevel&&wt<=this.maxLevel&&(At=this.levels[wt].url),At}var Dt="0",Ot=Math.pow(.5,this.maxLevel-wt),zt=Math.ceil(this.width*Ot),$t=Math.ceil(this.height*Ot),Bt,Yt,Xt,Ht,Qt,Zt,nn,Kt,ln,sn,bn,wn,Mn,Sn;return Bt=this.getTileWidth(wt),Yt=this.getTileHeight(wt),Xt=Math.ceil(Bt/Ot),Ht=Math.ceil(Yt/Ot),this.version===1?Mn="native."+this.tileFormat:Mn="default."+this.tileFormat,zt<Bt&&$t<Yt?(this.version===2&&zt===this.width||this.version===3&&zt===this.width&&$t===this.height?sn="max":this.version===3?sn=zt+","+$t:sn=zt+",",Qt="full"):(Zt=Et*Xt,nn=Tt*Ht,Kt=Math.min(Xt,this.width-Zt),ln=Math.min(Ht,this.height-nn),Et===0&&Tt===0&&Kt===this.width&&ln===this.height?Qt="full":Qt=[Zt,nn,Kt,ln].join(","),bn=Math.ceil(Kt*Ot),wn=Math.ceil(ln*Ot),this.version===2&&bn===this.width||this.version===3&&bn===this.width&&wn===this.height?sn="max":this.version===3?sn=bn+","+wn:sn=bn+","),Sn=[this["@id"],Qt,sn,Dt,Mn].join("/"),Sn},__testonly__:{canBeTiled:rt,constructLevels:it}});function rt(wt){var Et=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json","level0","https://iiif.io/api/image/3/level0.json"],Tt=Array.isArray(wt.profile)?wt.profile[0]:wt.profile,At=Et.indexOf(Tt)!==-1,Dt=!1;return wt.version===2&&wt.profile.length>1&&wt.profile[1].supports&&(Dt=wt.profile[1].supports.indexOf("sizeByW")!==-1),wt.version===3&&wt.extraFeatures&&(Dt=wt.extraFeatures.indexOf("sizeByWh")!==-1),!At||Dt}function it(wt){for(var Et=[],Tt=0;Tt<wt.sizes.length;Tt++)Et.push({url:wt["@id"]+"/full/"+wt.sizes[Tt].width+","+(wt.version===3?wt.sizes[Tt].height:"")+"/0/default."+wt.tileFormat,width:wt.sizes[Tt].width,height:wt.sizes[Tt].height});return Et.sort(function(At,Dt){return At.width-Dt.width})}function st(wt){if(!wt||!wt.documentElement)throw new Error(nt.getString("Errors.Xml"));var Et=wt.documentElement,Tt=Et.tagName,At=null;if(Tt=="info")try{return At={},bt(Et,At),At}catch(Dt){throw Dt instanceof Error?Dt:new Error(nt.getString("Errors.IIIF"))}throw new Error(nt.getString("Errors.IIIF"))}function bt(wt,Et,Tt){var At,Dt;if(wt.nodeType==3&&Tt)Dt=wt.nodeValue.trim(),Dt.match(/^\d*$/)&&(Dt=Number(Dt)),Et[Tt]?(nt.isArray(Et[Tt])||(Et[Tt]=[Et[Tt]]),Et[Tt].push(Dt)):Et[Tt]=Dt;else if(wt.nodeType==1)for(At=0;At<wt.childNodes.length;At++)bt(wt.childNodes[At],Et,wt.nodeName)}}(OpenSeadragon),function(nt){nt.OsmTileSource=function(rt,it,st,bt,wt){var Et;nt.isPlainObject(rt)?Et=rt:Et={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]},(!Et.width||!Et.height)&&(Et.width=65572864,Et.height=65572864),Et.tileSize||(Et.tileSize=256,Et.tileOverlap=0),Et.tilesUrl||(Et.tilesUrl="http://tile.openstreetmap.org/"),Et.minLevel=8,nt.TileSource.apply(this,[Et])},nt.extend(nt.OsmTileSource.prototype,nt.TileSource.prototype,{supports:function(rt,it){return rt.type&&rt.type=="openstreetmaps"},configure:function(rt,it){return rt},getTileUrl:function(rt,it,st){return this.tilesUrl+(rt-8)+"/"+it+"/"+st+".png"}})}(OpenSeadragon),function(nt){nt.TmsTileSource=function(rt,it,st,bt,wt){var Et;nt.isPlainObject(rt)?Et=rt:Et={width:arguments[0],height:arguments[1],tileSize:arguments[2],tileOverlap:arguments[3],tilesUrl:arguments[4]};var Tt=Math.ceil(Et.width/256)*256,At=Math.ceil(Et.height/256)*256,Dt;Tt>At?Dt=Tt/256:Dt=At/256,Et.maxLevel=Math.ceil(Math.log(Dt)/Math.log(2))-1,Et.tileSize=256,Et.width=Tt,Et.height=At,nt.TileSource.apply(this,[Et])},nt.extend(nt.TmsTileSource.prototype,nt.TileSource.prototype,{supports:function(rt,it){return rt.type&&rt.type=="tiledmapservice"},configure:function(rt,it){return rt},getTileUrl:function(rt,it,st){var bt=this.getNumTiles(rt).y-1;return this.tilesUrl+rt+"/"+it+"/"+(bt-st)+".png"}})}(OpenSeadragon),function(nt){nt.ZoomifyTileSource=function(rt){rt.tileSize=256;var it={x:rt.width,y:rt.height};for(rt.imageSizes=[{x:rt.width,y:rt.height}],rt.gridSize=[this._getGridSize(rt.width,rt.height,rt.tileSize)];parseInt(it.x,10)>rt.tileSize||parseInt(it.y,10)>rt.tileSize;)it.x=Math.floor(it.x/2),it.y=Math.floor(it.y/2),rt.imageSizes.push({x:it.x,y:it.y}),rt.gridSize.push(this._getGridSize(it.x,it.y,rt.tileSize));rt.imageSizes.reverse(),rt.gridSize.reverse(),rt.minLevel=0,rt.maxLevel=rt.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[rt])},nt.extend(nt.ZoomifyTileSource.prototype,nt.TileSource.prototype,{_getGridSize:function(rt,it,st){return{x:Math.ceil(rt/st),y:Math.ceil(it/st)}},_calculateAbsoluteTileNumber:function(rt,it,st){for(var bt=0,wt={},Et=0;Et<rt;Et++)wt=this.gridSize[Et],bt+=wt.x*wt.y;return wt=this.gridSize[rt],bt+=wt.x*st+it,bt},supports:function(rt,it){return rt.type&&rt.type=="zoomifytileservice"},configure:function(rt,it){return rt},getTileUrl:function(rt,it,st){var bt=0,wt=this._calculateAbsoluteTileNumber(rt,it,st);return bt=Math.floor(wt/256),this.tilesUrl+"TileGroup"+bt+"/"+rt+"-"+it+"-"+st+".jpg"}})}(OpenSeadragon),function(nt){nt.LegacyTileSource=function(bt){var wt,Et,Tt;nt.isArray(bt)&&(wt={type:"legacy-image-pyramid",levels:bt}),wt.levels=rt(wt.levels),wt.levels.length>0?(Et=wt.levels[wt.levels.length-1].width,Tt=wt.levels[wt.levels.length-1].height):(Et=0,Tt=0,nt.console.error("No supported image formats found")),nt.extend(!0,wt,{width:Et,height:Tt,tileSize:Math.max(Tt,Et),tileOverlap:0,minLevel:0,maxLevel:wt.levels.length>0?wt.levels.length-1:0}),nt.TileSource.apply(this,[wt]),this.levels=wt.levels},nt.extend(nt.LegacyTileSource.prototype,nt.TileSource.prototype,{supports:function(bt,wt){return bt.type&&bt.type=="legacy-image-pyramid"||bt.documentElement&&bt.documentElement.getAttribute("type")=="legacy-image-pyramid"},configure:function(bt,wt){var Et;return nt.isPlainObject(bt)?Et=st(this,bt):Et=it(this,bt),Et},getLevelScale:function(bt){var wt=NaN;return this.levels.length>0&&bt>=this.minLevel&&bt<=this.maxLevel&&(wt=this.levels[bt].width/this.levels[this.maxLevel].width),wt},getNumTiles:function(bt){var wt=this.getLevelScale(bt);return wt?new nt.Point(1,1):new nt.Point(0,0)},getTileUrl:function(bt,wt,Et){var Tt=null;return this.levels.length>0&&bt>=this.minLevel&&bt<=this.maxLevel&&(Tt=this.levels[bt].url),Tt}});function rt(bt){var wt=[],Et,Tt;for(Tt=0;Tt<bt.length;Tt++)Et=bt[Tt],Et.height&&Et.width&&Et.url?wt.push({url:Et.url,width:Number(Et.width),height:Number(Et.height)}):nt.console.error("Unsupported image format: %s",Et.url?Et.url:"<no URL>");return wt.sort(function(At,Dt){return At.height-Dt.height})}function it(bt,wt){if(!wt||!wt.documentElement)throw new Error(nt.getString("Errors.Xml"));var Et=wt.documentElement,Tt=Et.tagName,At=null,Dt=[],Ot,zt;if(Tt=="image")try{for(At={type:Et.getAttribute("type"),levels:[]},Dt=Et.getElementsByTagName("level"),zt=0;zt<Dt.length;zt++)Ot=Dt[zt],At.levels.push({url:Ot.getAttribute("url"),width:parseInt(Ot.getAttribute("width"),10),height:parseInt(Ot.getAttribute("height"),10)});return st(bt,At)}catch($t){throw $t instanceof Error?$t:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if(Tt=="collection")throw new Error("Legacy Image Pyramid Collections not yet supported.");if(Tt=="error")throw new Error("Error: "+wt)}throw new Error("Unknown element "+Tt)}function st(bt,wt){return wt.levels}}(OpenSeadragon),function(nt){nt.ImageTileSource=function(rt){rt=nt.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},rt),nt.TileSource.apply(this,[rt])},nt.extend(nt.ImageTileSource.prototype,nt.TileSource.prototype,{supports:function(rt,it){return rt.type&&rt.type==="image"},configure:function(rt,it){return rt},getImageInfo:function(rt){var it=this._image=new Image,st=this;this.crossOriginPolicy&&(it.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(it.useCredentials=this.ajaxWithCredentials),nt.addEvent(it,"load",function(){st.width=Object.prototype.hasOwnProperty.call(it,"naturalWidth")?it.naturalWidth:it.width,st.height=Object.prototype.hasOwnProperty.call(it,"naturalHeight")?it.naturalHeight:it.height,st.aspectRatio=st.width/st.height,st.dimensions=new nt.Point(st.width,st.height),st._tileWidth=st.width,st._tileHeight=st.height,st.tileOverlap=0,st.minLevel=0,st.levels=st._buildLevels(),st.maxLevel=st.levels.length-1,st.ready=!0,st.raiseEvent("ready",{tileSource:st})}),nt.addEvent(it,"error",function(){st.raiseEvent("open-failed",{message:"Error loading image at "+rt,source:rt})}),it.src=rt},getLevelScale:function(rt){var it=NaN;return rt>=this.minLevel&&rt<=this.maxLevel&&(it=this.levels[rt].width/this.levels[this.maxLevel].width),it},getNumTiles:function(rt){var it=this.getLevelScale(rt);return it?new nt.Point(1,1):new nt.Point(0,0)},getTileUrl:function(rt,it,st){var bt=null;return rt>=this.minLevel&&rt<=this.maxLevel&&(bt=this.levels[rt].url),bt},getContext2D:function(rt,it,st){var bt=null;return rt>=this.minLevel&&rt<=this.maxLevel&&(bt=this.levels[rt].context2D),bt},_buildLevels:function(){var rt=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!nt.supportsCanvas||!this.useCanvas)return delete this._image,rt;var it=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,st=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,bt=document.createElement("canvas"),wt=bt.getContext("2d");if(bt.width=it,bt.height=st,wt.drawImage(this._image,0,0,it,st),rt[0].context2D=wt,delete this._image,nt.isCanvasTainted(bt))return rt;for(;it>=2&&st>=2;){it=Math.floor(it/2),st=Math.floor(st/2);var Et=document.createElement("canvas"),Tt=Et.getContext("2d");Et.width=it,Et.height=st,Tt.drawImage(bt,0,0,it,st),rt.splice(0,0,{context2D:Tt,width:it,height:st}),bt=Et,wt=Tt}return rt}})}(OpenSeadragon),function(nt){nt.TileSourceCollection=function(rt,it,st,bt){nt.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(nt){nt.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},nt.Button=function(Tt){var At=this;nt.EventSource.call(this),nt.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:nt.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:nt.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},Tt),this.element=Tt.element||nt.makeNeutralElement("div"),Tt.element||(this.imgRest=nt.makeTransparentImage(this.srcRest),this.imgGroup=nt.makeTransparentImage(this.srcGroup),this.imgHover=nt.makeTransparentImage(this.srcHover),this.imgDown=nt.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",nt.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",nt.Browser.vendor==nt.BROWSERS.FIREFOX&&nt.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=nt.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new nt.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(Dt){Dt.insideElementPressed?(wt(At,nt.ButtonState.DOWN),At.raiseEvent("enter",{originalEvent:Dt.originalEvent})):Dt.buttonDownAny||wt(At,nt.ButtonState.HOVER)},focusHandler:function(Dt){this.enterHandler(Dt),At.raiseEvent("focus",{originalEvent:Dt.originalEvent})},exitHandler:function(Dt){Et(At,nt.ButtonState.GROUP),Dt.insideElementPressed&&At.raiseEvent("exit",{originalEvent:Dt.originalEvent})},blurHandler:function(Dt){this.exitHandler(Dt),At.raiseEvent("blur",{originalEvent:Dt.originalEvent})},pressHandler:function(Dt){wt(At,nt.ButtonState.DOWN),At.raiseEvent("press",{originalEvent:Dt.originalEvent})},releaseHandler:function(Dt){Dt.insideElementPressed&&Dt.insideElementReleased?(Et(At,nt.ButtonState.HOVER),At.raiseEvent("release",{originalEvent:Dt.originalEvent})):Dt.insideElementPressed?Et(At,nt.ButtonState.GROUP):wt(At,nt.ButtonState.HOVER)},clickHandler:function(Dt){Dt.quick&&At.raiseEvent("click",{originalEvent:Dt.originalEvent})},keyHandler:function(Dt){return Dt.keyCode===13?(At.raiseEvent("click",{originalEvent:Dt.originalEvent}),At.raiseEvent("release",{originalEvent:Dt.originalEvent}),!1):!0}}),Et(this,nt.ButtonState.REST)},nt.extend(nt.Button.prototype,nt.EventSource.prototype,{notifyGroupEnter:function(){wt(this,nt.ButtonState.GROUP)},notifyGroupExit:function(){Et(this,nt.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,nt.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,nt.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}});function rt(Tt){nt.requestAnimationFrame(function(){it(Tt)})}function it(Tt){var At,Dt,Ot;Tt.shouldFade&&(At=nt.now(),Dt=At-Tt.fadeBeginTime,Ot=1-Dt/Tt.fadeLength,Ot=Math.min(1,Ot),Ot=Math.max(0,Ot),Tt.imgGroup&&nt.setElementOpacity(Tt.imgGroup,Ot,!0),Ot>0&&rt(Tt))}function st(Tt){Tt.shouldFade=!0,Tt.fadeBeginTime=nt.now()+Tt.fadeDelay,window.setTimeout(function(){rt(Tt)},Tt.fadeDelay)}function bt(Tt){Tt.shouldFade=!1,Tt.imgGroup&&nt.setElementOpacity(Tt.imgGroup,1,!0)}function wt(Tt,At){Tt.element.disabled||(At>=nt.ButtonState.GROUP&&Tt.currentState==nt.ButtonState.REST&&(bt(Tt),Tt.currentState=nt.ButtonState.GROUP),At>=nt.ButtonState.HOVER&&Tt.currentState==nt.ButtonState.GROUP&&(Tt.imgHover&&(Tt.imgHover.style.visibility=""),Tt.currentState=nt.ButtonState.HOVER),At>=nt.ButtonState.DOWN&&Tt.currentState==nt.ButtonState.HOVER&&(Tt.imgDown&&(Tt.imgDown.style.visibility=""),Tt.currentState=nt.ButtonState.DOWN))}function Et(Tt,At){Tt.element.disabled||(At<=nt.ButtonState.HOVER&&Tt.currentState==nt.ButtonState.DOWN&&(Tt.imgDown&&(Tt.imgDown.style.visibility="hidden"),Tt.currentState=nt.ButtonState.HOVER),At<=nt.ButtonState.GROUP&&Tt.currentState==nt.ButtonState.HOVER&&(Tt.imgHover&&(Tt.imgHover.style.visibility="hidden"),Tt.currentState=nt.ButtonState.GROUP),At<=nt.ButtonState.REST&&Tt.currentState==nt.ButtonState.GROUP&&(st(Tt),Tt.currentState=nt.ButtonState.REST))}}(OpenSeadragon),function(nt){nt.ButtonGroup=function(rt){nt.extend(!0,this,{buttons:[],clickTimeThreshold:nt.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:nt.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},rt);var it=this.buttons.concat([]),st=this,bt;if(this.element=rt.element||nt.makeNeutralElement("div"),!rt.group)for(this.element.style.display="inline-block",bt=0;bt<it.length;bt++)this.element.appendChild(it[bt].element);nt.setElementTouchActionNone(this.element),this.tracker=new nt.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(wt){var Et;for(Et=0;Et<st.buttons.length;Et++)st.buttons[Et].notifyGroupEnter()},exitHandler:function(wt){var Et;if(!wt.insideElementPressed)for(Et=0;Et<st.buttons.length;Et++)st.buttons[Et].notifyGroupExit()}})},nt.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(nt){nt.Rect=function(rt,it,st,bt,wt){this.x=typeof rt=="number"?rt:0,this.y=typeof it=="number"?it:0,this.width=typeof st=="number"?st:0,this.height=typeof bt=="number"?bt:0,this.degrees=typeof wt=="number"?wt:0,this.degrees=nt.positiveModulo(this.degrees,360);var Et,Tt;this.degrees>=270?(Et=this.getTopRight(),this.x=Et.x,this.y=Et.y,Tt=this.height,this.height=this.width,this.width=Tt,this.degrees-=270):this.degrees>=180?(Et=this.getBottomRight(),this.x=Et.x,this.y=Et.y,this.degrees-=180):this.degrees>=90&&(Et=this.getBottomLeft(),this.x=Et.x,this.y=Et.y,Tt=this.height,this.height=this.width,this.width=Tt,this.degrees-=90)},nt.Rect.fromSummits=function(rt,it,st){var bt=rt.distanceTo(it),wt=rt.distanceTo(st),Et=it.minus(rt),Tt=Math.atan(Et.y/Et.x);return Et.x<0?Tt+=Math.PI:Et.y<0&&(Tt+=2*Math.PI),new nt.Rect(rt.x,rt.y,bt,wt,Tt/Math.PI*180)},nt.Rect.prototype={clone:function(){return new nt.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new nt.Point(this.x,this.y)},getBottomRight:function(){return new nt.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new nt.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new nt.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new nt.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new nt.Point(this.width,this.height)},equals:function(rt){return rt instanceof nt.Rect&&this.x===rt.x&&this.y===rt.y&&this.width===rt.width&&this.height===rt.height&&this.degrees===rt.degrees},times:function(rt){return new nt.Rect(this.x*rt,this.y*rt,this.width*rt,this.height*rt,this.degrees)},translate:function(rt){return new nt.Rect(this.x+rt.x,this.y+rt.y,this.width,this.height,this.degrees)},union:function(rt){var it=this.getBoundingBox(),st=rt.getBoundingBox(),bt=Math.min(it.x,st.x),wt=Math.min(it.y,st.y),Et=Math.max(it.x+it.width,st.x+st.width),Tt=Math.max(it.y+it.height,st.y+st.height);return new nt.Rect(bt,wt,Et-bt,Tt-wt)},intersection:function(rt){var it=1e-10,st=[],bt=this.getTopLeft();rt.containsPoint(bt,it)&&st.push(bt);var wt=this.getTopRight();rt.containsPoint(wt,it)&&st.push(wt);var Et=this.getBottomLeft();rt.containsPoint(Et,it)&&st.push(Et);var Tt=this.getBottomRight();rt.containsPoint(Tt,it)&&st.push(Tt);var At=rt.getTopLeft();this.containsPoint(At,it)&&st.push(At);var Dt=rt.getTopRight();this.containsPoint(Dt,it)&&st.push(Dt);var Ot=rt.getBottomLeft();this.containsPoint(Ot,it)&&st.push(Ot);var zt=rt.getBottomRight();this.containsPoint(zt,it)&&st.push(zt);for(var $t=this._getSegments(),Bt=rt._getSegments(),Yt=0;Yt<$t.length;Yt++)for(var Xt=$t[Yt],Ht=0;Ht<Bt.length;Ht++){var Qt=Bt[Ht],Zt=nn(Xt[0],Xt[1],Qt[0],Qt[1]);Zt&&st.push(Zt)}function nn(Sn,Dn,gn,Un){var pn=Dn.minus(Sn),yr=Un.minus(gn),xn=-yr.x*pn.y+pn.x*yr.y;if(xn===0)return null;var Mr=(pn.x*(Sn.y-gn.y)-pn.y*(Sn.x-gn.x))/xn,fr=(yr.x*(Sn.y-gn.y)-yr.y*(Sn.x-gn.x))/xn;return-it<=Mr&&Mr<=1-it&&-it<=fr&&fr<=1-it?new nt.Point(Sn.x+fr*pn.x,Sn.y+fr*pn.y):null}if(st.length===0)return null;for(var Kt=st[0].x,ln=st[0].x,sn=st[0].y,bn=st[0].y,wn=1;wn<st.length;wn++){var Mn=st[wn];Mn.x<Kt&&(Kt=Mn.x),Mn.x>ln&&(ln=Mn.x),Mn.y<sn&&(sn=Mn.y),Mn.y>bn&&(bn=Mn.y)}return new nt.Rect(Kt,sn,ln-Kt,bn-sn)},_getSegments:function(){var rt=this.getTopLeft(),it=this.getTopRight(),st=this.getBottomLeft(),bt=this.getBottomRight();return[[rt,it],[it,bt],[bt,st],[st,rt]]},rotate:function(rt,it){if(rt=nt.positiveModulo(rt,360),rt===0)return this.clone();it=it||this.getCenter();var st=this.getTopLeft().rotate(rt,it),bt=this.getTopRight().rotate(rt,it),wt=bt.minus(st);wt=wt.apply(function(Tt){var At=1e-15;return Math.abs(Tt)<At?0:Tt});var Et=Math.atan(wt.y/wt.x);return wt.x<0?Et+=Math.PI:wt.y<0&&(Et+=2*Math.PI),new nt.Rect(st.x,st.y,this.width,this.height,Et/Math.PI*180)},getBoundingBox:function(){if(this.degrees===0)return this.clone();var rt=this.getTopLeft(),it=this.getTopRight(),st=this.getBottomLeft(),bt=this.getBottomRight(),wt=Math.min(rt.x,it.x,st.x,bt.x),Et=Math.max(rt.x,it.x,st.x,bt.x),Tt=Math.min(rt.y,it.y,st.y,bt.y),At=Math.max(rt.y,it.y,st.y,bt.y);return new nt.Rect(wt,Tt,Et-wt,At-Tt)},getIntegerBoundingBox:function(){var rt=this.getBoundingBox(),it=Math.floor(rt.x),st=Math.floor(rt.y),bt=Math.ceil(rt.width+rt.x-it),wt=Math.ceil(rt.height+rt.y-st);return new nt.Rect(it,st,bt,wt)},containsPoint:function(rt,it){it=it||0;var st=this.getTopLeft(),bt=this.getTopRight(),wt=this.getBottomLeft(),Et=bt.minus(st),Tt=wt.minus(st);return(rt.x-st.x)*Et.x+(rt.y-st.y)*Et.y>=-it&&(rt.x-bt.x)*Et.x+(rt.y-bt.y)*Et.y<=it&&(rt.x-st.x)*Tt.x+(rt.y-st.y)*Tt.y>=-it&&(rt.x-wt.x)*Tt.x+(rt.y-wt.y)*Tt.y<=it},toString:function(){return"["+Math.round(this.x*100)/100+", "+Math.round(this.y*100)/100+", "+Math.round(this.width*100)/100+"x"+Math.round(this.height*100)/100+", "+Math.round(this.degrees*100)/100+"deg]"}}}(OpenSeadragon),function(nt){var rt={};nt.ReferenceStrip=function(Dt){var Ot=this,zt=Dt.viewer,$t=nt.getElementSize(zt.element),Bt,Yt,Xt;for(Dt.id||(Dt.id="referencestrip-"+nt.now(),this.element=nt.makeNeutralElement("div"),this.element.id=Dt.id,this.element.className="referencestrip"),Dt=nt.extend(!0,{sizeRatio:nt.DEFAULT_SETTINGS.referenceStripSizeRatio,position:nt.DEFAULT_SETTINGS.referenceStripPosition,scroll:nt.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:nt.DEFAULT_SETTINGS.clickTimeThreshold},Dt,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),nt.extend(this,Dt),rt[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,Yt=this.element.style,Yt.marginTop="0px",Yt.marginRight="0px",Yt.marginBottom="0px",Yt.marginLeft="0px",Yt.left="0px",Yt.bottom="0px",Yt.border="0px",Yt.background="#000",Yt.position="relative",nt.setElementTouchActionNone(this.element),nt.setElementOpacity(this.element,.8),this.viewer=zt,this.innerTracker=new nt.MouseTracker({element:this.element,dragHandler:nt.delegate(this,it),scrollHandler:nt.delegate(this,st),enterHandler:nt.delegate(this,wt),exitHandler:nt.delegate(this,Et),keyDownHandler:nt.delegate(this,Tt),keyHandler:nt.delegate(this,At)}),Dt.width&&Dt.height?(this.element.style.width=Dt.width+"px",this.element.style.height=Dt.height+"px",zt.addControl(this.element,{anchor:nt.ControlAnchor.BOTTOM_LEFT})):Dt.scroll=="horizontal"?(this.element.style.width=$t.x*Dt.sizeRatio*zt.tileSources.length+12*zt.tileSources.length+"px",this.element.style.height=$t.y*Dt.sizeRatio+"px",zt.addControl(this.element,{anchor:nt.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=$t.y*Dt.sizeRatio*zt.tileSources.length+12*zt.tileSources.length+"px",this.element.style.width=$t.x*Dt.sizeRatio+"px",zt.addControl(this.element,{anchor:nt.ControlAnchor.TOP_LEFT})),this.panelWidth=$t.x*this.sizeRatio+8,this.panelHeight=$t.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},Xt=0;Xt<zt.tileSources.length;Xt++)Bt=nt.makeNeutralElement("div"),Bt.id=this.element.id+"-"+Xt,Bt.style.width=Ot.panelWidth+"px",Bt.style.height=Ot.panelHeight+"px",Bt.style.display="inline",Bt.style.float="left",Bt.style.cssFloat="left",Bt.style.styleFloat="left",Bt.style.padding="2px",nt.setElementTouchActionNone(Bt),Bt.innerTracker=new nt.MouseTracker({element:Bt,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(Ht){Ht.eventSource.dragging=nt.now()},releaseHandler:function(Ht){var Qt=Ht.eventSource,Zt=Qt.element.id,nn=Number(Zt.split("-")[2]),Kt=nt.now();Ht.insideElementPressed&&Ht.insideElementReleased&&Qt.dragging&&Kt-Qt.dragging<Qt.clickTimeThreshold&&(Qt.dragging=null,zt.goToPage(nn))}}),this.element.appendChild(Bt),Bt.activePanel=!1,this.panels.push(Bt);bt(this,this.scroll=="vertical"?$t.y:$t.x,0),this.setFocus(0)},nt.extend(nt.ReferenceStrip.prototype,nt.EventSource.prototype,nt.Viewer.prototype,{setFocus:function(Dt){var Ot=this.element.querySelector("#"+this.element.id+"-"+Dt),zt=nt.getElementSize(this.viewer.canvas),$t=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Yt=-Number(this.element.style.marginLeft.replace("px","")),Xt=-Number(this.element.style.marginTop.replace("px","")),Ht;this.currentSelected!==Ot&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=Ot,this.currentSelected.style.background="#999",this.scroll=="horizontal"?(Ht=Number(Dt)*(this.panelWidth+3),Ht>Yt+zt.x-this.panelWidth?(Ht=Math.min(Ht,$t-zt.x),this.element.style.marginLeft=-Ht+"px",bt(this,zt.x,-Ht)):Ht<Yt&&(Ht=Math.max(0,Ht-zt.x/2),this.element.style.marginLeft=-Ht+"px",bt(this,zt.x,-Ht))):(Ht=Number(Dt)*(this.panelHeight+3),Ht>Xt+zt.y-this.panelHeight?(Ht=Math.min(Ht,Bt-zt.y),this.element.style.marginTop=-Ht+"px",bt(this,zt.y,-Ht)):Ht<Xt&&(Ht=Math.max(0,Ht-zt.y/2),this.element.style.marginTop=-Ht+"px",bt(this,zt.y,-Ht))),this.currentPage=Dt,wt.call(this,{eventSource:this.innerTracker}))},update:function(){return rt[this.id].animating?(nt.console.log("image reference strip update"),!0):!1},destroy:function(){if(this.miniViewers)for(var Dt in this.miniViewers)this.miniViewers[Dt].destroy();this.element&&this.element.parentNode.removeChild(this.element)}});function it(Dt){var Ot=Number(this.element.style.marginLeft.replace("px","")),zt=Number(this.element.style.marginTop.replace("px","")),$t=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Yt=nt.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&(this.scroll=="horizontal"?-Dt.delta.x>0?Ot>-($t-Yt.x)&&(this.element.style.marginLeft=Ot+Dt.delta.x*2+"px",bt(this,Yt.x,Ot+Dt.delta.x*2)):-Dt.delta.x<0&&Ot<0&&(this.element.style.marginLeft=Ot+Dt.delta.x*2+"px",bt(this,Yt.x,Ot+Dt.delta.x*2)):-Dt.delta.y>0?zt>-(Bt-Yt.y)&&(this.element.style.marginTop=zt+Dt.delta.y*2+"px",bt(this,Yt.y,zt+Dt.delta.y*2)):-Dt.delta.y<0&&zt<0&&(this.element.style.marginTop=zt+Dt.delta.y*2+"px",bt(this,Yt.y,zt+Dt.delta.y*2))),!1}function st(Dt){var Ot=Number(this.element.style.marginLeft.replace("px","")),zt=Number(this.element.style.marginTop.replace("px","")),$t=Number(this.element.style.width.replace("px","")),Bt=Number(this.element.style.height.replace("px","")),Yt=nt.getElementSize(this.viewer.canvas);return this.element&&(this.scroll=="horizontal"?Dt.scroll>0?Ot>-($t-Yt.x)&&(this.element.style.marginLeft=Ot-Dt.scroll*60+"px",bt(this,Yt.x,Ot-Dt.scroll*60)):Dt.scroll<0&&Ot<0&&(this.element.style.marginLeft=Ot-Dt.scroll*60+"px",bt(this,Yt.x,Ot-Dt.scroll*60)):Dt.scroll<0?zt>Yt.y-Bt&&(this.element.style.marginTop=zt+Dt.scroll*60+"px",bt(this,Yt.y,zt+Dt.scroll*60)):Dt.scroll>0&&zt<0&&(this.element.style.marginTop=zt+Dt.scroll*60+"px",bt(this,Yt.y,zt+Dt.scroll*60))),!1}function bt(Dt,Ot,zt){var $t,Bt,Yt,Xt,Ht,Qt,Zt;for(Dt.scroll=="horizontal"?$t=Dt.panelWidth:$t=Dt.panelHeight,Bt=Math.ceil(Ot/$t)+5,Yt=Math.ceil((Math.abs(zt)+Ot)/$t)+1,Bt=Yt-Bt,Bt=Bt<0?0:Bt,Qt=Bt;Qt<Yt&&Qt<Dt.panels.length;Qt++)if(Zt=Dt.panels[Qt],!Zt.activePanel){var nn,Kt=Dt.viewer.tileSources[Qt];Kt.referenceStripThumbnailUrl?nn={type:"image",url:Kt.referenceStripThumbnailUrl}:nn=Kt,Xt=new nt.Viewer({id:Zt.id,tileSources:[nn],element:Zt,navigatorSizeRatio:Dt.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,loadTilesWithAjax:Dt.viewer.loadTilesWithAjax,ajaxHeaders:Dt.viewer.ajaxHeaders,useCanvas:Dt.useCanvas}),Xt.displayRegion=nt.makeNeutralElement("div"),Xt.displayRegion.id=Zt.id+"-displayregion",Xt.displayRegion.className="displayregion",Ht=Xt.displayRegion.style,Ht.position="relative",Ht.top="0px",Ht.left="0px",Ht.fontSize="0px",Ht.overflow="hidden",Ht.float="left",Ht.cssFloat="left",Ht.styleFloat="left",Ht.zIndex=999999999,Ht.cursor="default",Ht.width=Dt.panelWidth-4+"px",Ht.height=Dt.panelHeight-4+"px",Xt.displayRegion.innerTracker=new nt.MouseTracker({element:Xt.displayRegion,startDisabled:!0}),Zt.getElementsByTagName("div")[0].appendChild(Xt.displayRegion),Dt.miniViewers[Zt.id]=Xt,Zt.activePanel=!0}}function wt(Dt){var Ot=Dt.eventSource.element;return this.scroll=="horizontal"?Ot.style.marginBottom="0px":Ot.style.marginLeft="0px",!1}function Et(Dt){var Ot=Dt.eventSource.element;return this.scroll=="horizontal"?Ot.style.marginBottom="-"+nt.getElementSize(Ot).y/2+"px":Ot.style.marginLeft="-"+nt.getElementSize(Ot).x/2+"px",!1}function Tt(Dt){if(!Dt.preventDefaultAction&&!Dt.ctrl&&!Dt.alt&&!Dt.meta)switch(Dt.keyCode){case 38:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 37:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}function At(Dt){if(!Dt.preventDefaultAction&&!Dt.ctrl&&!Dt.alt&&!Dt.meta)switch(Dt.keyCode){case 61:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 97:return st.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return st.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}else return!0}}(OpenSeadragon),function(nt){nt.DisplayRect=function(rt,it,st,bt,wt,Et){nt.Rect.apply(this,[rt,it,st,bt]),this.minLevel=wt,this.maxLevel=Et},nt.extend(nt.DisplayRect.prototype,nt.Rect.prototype)}(OpenSeadragon),function(nt){nt.Spring=function(it){var st=arguments;typeof it!="object"&&(it={initial:st.length&&typeof st[0]=="number"?st[0]:void 0,springStiffness:st.length>1?st[1].springStiffness:5,animationTime:st.length>1?st[1].animationTime:1.5}),nt.console.assert(typeof it.springStiffness=="number"&&it.springStiffness!==0,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),nt.console.assert(typeof it.animationTime=="number"&&it.animationTime>=0,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),it.exponential&&(this._exponential=!0,delete it.exponential),nt.extend(!0,this,it),this.current={value:typeof this.initial=="number"?this.initial:this._exponential?0:1,time:nt.now()},nt.console.assert(!this._exponential||this.current.value!==0,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},nt.Spring.prototype={resetTo:function(it){nt.console.assert(!this._exponential||it!==0,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=it,this.start.time=this.target.time=this.current.time=nt.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(it){nt.console.assert(!this._exponential||it!==0,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=it,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(it){this.start.value+=it,this.target.value+=it,this._exponential&&(nt.console.assert(this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(it){this._exponential=it,this._exponential&&(nt.console.assert(this.current.value!==0&&this.target.value!==0&&this.start.value!==0,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){this.current.time=nt.now();var it,st;this._exponential?(it=this.start._logValue,st=this.target._logValue):(it=this.start.value,st=this.target.value);var bt=this.current.time>=this.target.time?st:it+(st-it)*rt(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),wt=this.current.value;return this._exponential?this.current.value=Math.exp(bt):this.current.value=bt,wt!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}};function rt(it,st){return(1-Math.exp(it*-st))/(1-Math.exp(-it))}}(OpenSeadragon),function(nt){function rt(st){nt.extend(!0,this,{timeout:nt.DEFAULT_SETTINGS.timeout,jobId:null},st),this.image=null}rt.prototype={errorMsg:null,start:function(){var st=this,bt=this.abort;this.image=new Image,this.image.onload=function(){st.finish(!0)},this.image.onabort=this.image.onerror=function(){st.errorMsg="Image load aborted",st.finish(!1)},this.jobId=window.setTimeout(function(){st.errorMsg="Image load exceeded timeout ("+st.timeout+" ms)",st.finish(!1)},this.timeout),this.loadWithAjax?(this.request=nt.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(wt){var Et;try{Et=new window.Blob([wt.response])}catch(Ot){var Tt=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if(Ot.name==="TypeError"&&Tt){var At=new Tt;At.append(wt.response),Et=At.getBlob()}}Et.size===0&&(st.errorMsg="Empty image response.",st.finish(!1));var Dt=(window.URL||window.webkitURL).createObjectURL(Et);st.image.src=Dt},error:function(wt){st.errorMsg="Image load aborted - XHR error",st.finish(!1)}}),this.abort=function(){st.request.abort(),typeof bt=="function"&&bt()}):(this.crossOriginPolicy!==!1&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(st){this.image.onload=this.image.onerror=this.image.onabort=null,st||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},nt.ImageLoader=function(st){nt.extend(!0,this,{jobLimit:nt.DEFAULT_SETTINGS.imageLoaderLimit,timeout:nt.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},st)},nt.ImageLoader.prototype={addJob:function(st){var bt=this,wt=function(At){it(bt,At,st.callback)},Et={src:st.src,loadWithAjax:st.loadWithAjax,ajaxHeaders:st.loadWithAjax?st.ajaxHeaders:null,crossOriginPolicy:st.crossOriginPolicy,ajaxWithCredentials:st.ajaxWithCredentials,callback:wt,abort:st.abort,timeout:this.timeout},Tt=new rt(Et);!this.jobLimit||this.jobsInProgress<this.jobLimit?(Tt.start(),this.jobsInProgress++):this.jobQueue.push(Tt)},clear:function(){for(var st=0;st<this.jobQueue.length;st++){var bt=this.jobQueue[st];typeof bt.abort=="function"&&bt.abort()}this.jobQueue=[]}};function it(st,bt,wt){var Et;st.jobsInProgress--,(!st.jobLimit||st.jobsInProgress<st.jobLimit)&&st.jobQueue.length>0&&(Et=st.jobQueue.shift(),Et.start(),st.jobsInProgress++),wt(bt.image,bt.errorMsg,bt.request)}}(OpenSeadragon),function(nt){nt.Tile=function(rt,it,st,bt,wt,Et,Tt,At,Dt,Ot){this.level=rt,this.x=it,this.y=st,this.bounds=bt,this.sourceBounds=Ot,this.exists=wt,this.url=Et,this.context2D=Tt,this.loadWithAjax=At,this.ajaxHeaders=Dt,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},nt.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(rt){if(!this.cacheImageRecord){nt.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString());return}if(!this.loaded){nt.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}this.element||(this.element=nt.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=rt&&rt.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",nt.setElementOpacity(this.element,this.opacity)},drawCanvas:function(rt,it,st,bt){var wt=this.position.times(nt.pixelDensityRatio),Et=this.size.times(nt.pixelDensityRatio),Tt;if(!this.context2D&&!this.cacheImageRecord){nt.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString());return}if(Tt=this.context2D||this.cacheImageRecord.getRenderedContext(),!this.loaded||!Tt){nt.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString());return}rt.save(),rt.globalAlpha=this.opacity,typeof st=="number"&&st!==1&&(wt=wt.times(st),Et=Et.times(st)),bt instanceof nt.Point&&(wt=wt.plus(bt)),rt.globalAlpha===1&&this._hasTransparencyChannel()&&rt.clearRect(wt.x,wt.y,Et.x,Et.y),it({context:rt,tile:this,rendered:Tt});var At,Dt;this.sourceBounds?(At=Math.min(this.sourceBounds.width,Tt.canvas.width),Dt=Math.min(this.sourceBounds.height,Tt.canvas.height)):(At=Tt.canvas.width,Dt=Tt.canvas.height),rt.drawImage(Tt.canvas,0,0,At,Dt,wt.x,wt.y,Et.x,Et.y),rt.restore()},getScaleForEdgeSmoothing:function(){var rt;if(this.cacheImageRecord)rt=this.cacheImageRecord.getRenderedContext();else if(this.context2D)rt=this.context2D;else return nt.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;return rt.canvas.width/(this.size.x*nt.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(rt,it,st){var bt=Math.max(1,Math.ceil((st.x-it.x)/2)),wt=Math.max(1,Math.ceil((st.y-it.y)/2));return new nt.Point(bt,wt).minus(this.position.times(nt.pixelDensityRatio).times(rt||1).apply(function(Et){return Et%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(nt){nt.OverlayPlacement=nt.Placement,nt.OverlayRotationMode=nt.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),nt.Overlay=function(rt,it,st){var bt;nt.isPlainObject(rt)?bt=rt:bt={element:rt,location:it,placement:st},this.element=bt.element,this.style=bt.element.style,this._init(bt)},nt.Overlay.prototype={_init:function(rt){this.location=rt.location,this.placement=rt.placement===void 0?nt.Placement.TOP_LEFT:rt.placement,this.onDraw=rt.onDraw,this.checkResize=rt.checkResize===void 0?!0:rt.checkResize,this.width=rt.width===void 0?null:rt.width,this.height=rt.height===void 0?null:rt.height,this.rotationMode=rt.rotationMode||nt.OverlayRotationMode.EXACT,this.location instanceof nt.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=nt.Placement.TOP_LEFT),this.scales=this.width!==null&&this.height!==null,this.bounds=new nt.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(rt,it){var st=nt.Placement.properties[this.placement];!st||(st.isHorizontallyCentered?rt.x-=it.x/2:st.isRight&&(rt.x-=it.x),st.isVerticallyCentered?rt.y-=it.y/2:st.isBottom&&(rt.y-=it.y))},destroy:function(){var rt=this.element,it=this.style;rt.parentNode&&(rt.parentNode.removeChild(rt),rt.prevElementParent&&(it.display="none",document.body.appendChild(rt))),this.onDraw=null,it.top="",it.left="",it.position="",this.width!==null&&(it.width=""),this.height!==null&&(it.height="");var st=nt.getCssPropertyWithVendorPrefix("transformOrigin"),bt=nt.getCssPropertyWithVendorPrefix("transform");st&&bt&&(it[st]="",it[bt]="")},drawHTML:function(rt,it){var st=this.element;st.parentNode!==rt&&(st.prevElementParent=st.parentNode,st.prevNextSibling=st.nextSibling,rt.appendChild(st),this.style.position="absolute",this.size=nt.getElementSize(st));var bt=this._getOverlayPositionAndSize(it),wt=bt.position,Et=this.size=bt.size,Tt=bt.rotate;if(this.onDraw)this.onDraw(wt,Et,this.element);else{var At=this.style;At.left=wt.x+"px",At.top=wt.y+"px",this.width!==null&&(At.width=Et.x+"px"),this.height!==null&&(At.height=Et.y+"px");var Dt=nt.getCssPropertyWithVendorPrefix("transformOrigin"),Ot=nt.getCssPropertyWithVendorPrefix("transform");Dt&&Ot&&(Tt?(At[Dt]=this._getTransformOrigin(),At[Ot]="rotate("+Tt+"deg)"):(At[Dt]="",At[Ot]="")),At.display!=="none"&&(At.display="block")}},_getOverlayPositionAndSize:function(rt){var it=rt.pixelFromPoint(this.location,!0),st=this._getSizeInPixels(rt);this.adjust(it,st);var bt=0;if(rt.degrees&&this.rotationMode!==nt.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===nt.OverlayRotationMode.BOUNDING_BOX&&this.width!==null&&this.height!==null){var wt=new nt.Rect(it.x,it.y,st.x,st.y),Et=this._getBoundingBox(wt,rt.degrees);it=Et.getTopLeft(),st=Et.getSize()}else bt=rt.degrees;return{position:it,size:st,rotate:bt}},_getSizeInPixels:function(rt){var it=this.size.x,st=this.size.y;if(this.width!==null||this.height!==null){var bt=rt.deltaPixelsFromPointsNoRotate(new nt.Point(this.width||0,this.height||0),!0);this.width!==null&&(it=bt.x),this.height!==null&&(st=bt.y)}if(this.checkResize&&(this.width===null||this.height===null)){var wt=this.size=nt.getElementSize(this.element);this.width===null&&(it=wt.x),this.height===null&&(st=wt.y)}return new nt.Point(it,st)},_getBoundingBox:function(rt,it){var st=this._getPlacementPoint(rt);return rt.rotate(it,st).getBoundingBox()},_getPlacementPoint:function(rt){var it=new nt.Point(rt.x,rt.y),st=nt.Placement.properties[this.placement];return st&&(st.isHorizontallyCentered?it.x+=rt.width/2:st.isRight&&(it.x+=rt.width),st.isVerticallyCentered?it.y+=rt.height/2:st.isBottom&&(it.y+=rt.height)),it},_getTransformOrigin:function(){var rt="",it=nt.Placement.properties[this.placement];return it&&(it.isLeft?rt="left":it.isRight&&(rt="right"),it.isTop?rt+=" top":it.isBottom&&(rt+=" bottom")),rt},update:function(rt,it){var st=nt.isPlainObject(rt)?rt:{location:rt,placement:it};this._init({location:st.location||this.location,placement:st.placement!==void 0?st.placement:this.placement,onDraw:st.onDraw||this.onDraw,checkResize:st.checkResize||this.checkResize,width:st.width!==void 0?st.width:this.width,height:st.height!==void 0?st.height:this.height,rotationMode:st.rotationMode||this.rotationMode})},getBounds:function(rt){nt.console.assert(rt,"A viewport must now be passed to Overlay.getBounds.");var it=this.width,st=this.height;if(it===null||st===null){var bt=rt.deltaPointsFromPixelsNoRotate(this.size,!0);it===null&&(it=bt.x),st===null&&(st=bt.y)}var wt=this.location.clone();return this.adjust(wt,new nt.Point(it,st)),this._adjustBoundsForRotation(rt,new nt.Rect(wt.x,wt.y,it,st))},_adjustBoundsForRotation:function(rt,it){if(!rt||rt.degrees===0||this.rotationMode===nt.OverlayRotationMode.EXACT)return it;if(this.rotationMode===nt.OverlayRotationMode.BOUNDING_BOX){if(this.width===null||this.height===null)return it;var st=this._getOverlayPositionAndSize(rt);return rt.viewerElementToViewportRectangle(new nt.Rect(st.position.x,st.position.y,st.size.x,st.size.y))}return it.rotate(-rt.degrees,this._getPlacementPoint(it))}}}(OpenSeadragon),function(nt){nt.Drawer=function(rt){nt.console.assert(rt.viewer,"[Drawer] options.viewer is required");var it=arguments;if(nt.isPlainObject(rt)||(rt={source:it[0],viewport:it[1],element:it[2]}),nt.console.assert(rt.viewport,"[Drawer] options.viewport is required"),nt.console.assert(rt.element,"[Drawer] options.element is required"),rt.source&&nt.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=rt.viewer,this.viewport=rt.viewport,this.debugGridColor=typeof rt.debugGridColor=="string"?[rt.debugGridColor]:rt.debugGridColor||nt.DEFAULT_SETTINGS.debugGridColor,rt.opacity&&nt.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=nt.supportsCanvas&&(this.viewer?this.viewer.useCanvas:!0),this.container=nt.getElement(rt.element),this.canvas=nt.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var st=this._calculateCanvasSize();this.canvas.width=st.x,this.canvas.height=st.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",nt.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas),this._imageSmoothingEnabled=!0},nt.Drawer.prototype={addOverlay:function(rt,it,st,bt){return nt.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(rt,it,st,bt),this},updateOverlay:function(rt,it,st){return nt.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(rt,it,st),this},removeOverlay:function(rt){return nt.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(rt),this},clearOverlays:function(){return nt.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},viewportCoordToDrawerCoord:function(rt){var it=this.viewport.pixelFromPointNoRotate(rt,!0);return new nt.Point(it.x*nt.pixelDensityRatio,it.y*nt.pixelDensityRatio)},clipWithPolygons:function(rt,it){if(!!this.useCanvas){var st=this._getContext(it);st.beginPath(),rt.forEach(function(bt){bt.forEach(function(wt,Et){st[Et===0?"moveTo":"lineTo"](wt.x,wt.y)})}),st.clip()}},setOpacity:function(rt){nt.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var it=this.viewer.world,st=0;st<it.getItemCount();st++)it.getItemAt(st).setOpacity(rt);return this},getOpacity:function(){nt.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var rt=this.viewer.world,it=0,st=0;st<rt.getItemCount();st++){var bt=rt.getItemAt(st).getOpacity();bt>it&&(it=bt)}return it},needsUpdate:function(){return nt.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return nt.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return nt.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return nt.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var rt=this._calculateCanvasSize();if((this.canvas.width!=rt.x||this.canvas.height!=rt.y)&&(this.canvas.width=rt.x,this.canvas.height=rt.y,this._updateImageSmoothingEnabled(this.context),this.sketchCanvas!==null)){var it=this._calculateSketchCanvasSize();this.sketchCanvas.width=it.x,this.sketchCanvas.height=it.y,this._updateImageSmoothingEnabled(this.sketchContext)}this._clear()}},_clear:function(rt,it){if(!!this.useCanvas){var st=this._getContext(rt);if(it)st.clearRect(it.x,it.y,it.width,it.height);else{var bt=st.canvas;st.clearRect(0,0,bt.width,bt.height)}}},viewportToDrawerRectangle:function(rt){var it=this.viewport.pixelFromPointNoRotate(rt.getTopLeft(),!0),st=this.viewport.deltaPixelsFromPointsNoRotate(rt.getSize(),!0);return new nt.Rect(it.x*nt.pixelDensityRatio,it.y*nt.pixelDensityRatio,st.x*nt.pixelDensityRatio,st.y*nt.pixelDensityRatio)},drawTile:function(rt,it,st,bt,wt){if(nt.console.assert(rt,"[Drawer.drawTile] tile is required"),nt.console.assert(it,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var Et=this._getContext(st);bt=bt||1,rt.drawCanvas(Et,it,bt,wt)}else rt.drawHTML(this.canvas)},_getContext:function(rt){var it=this.context;if(rt){if(this.sketchCanvas===null){this.sketchCanvas=document.createElement("canvas");var st=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=st.x,this.sketchCanvas.height=st.y,this.sketchContext=this.sketchCanvas.getContext("2d"),this.viewport.getRotation()===0){var bt=this;this.viewer.addHandler("rotate",function wt(){if(bt.viewport.getRotation()!==0){bt.viewer.removeHandler("rotate",wt);var Et=bt._calculateSketchCanvasSize();bt.sketchCanvas.width=Et.x,bt.sketchCanvas.height=Et.y}})}this._updateImageSmoothingEnabled(this.sketchContext)}it=this.sketchContext}return it},saveContext:function(rt){!this.useCanvas||this._getContext(rt).save()},restoreContext:function(rt){!this.useCanvas||this._getContext(rt).restore()},setClip:function(rt,it){if(!!this.useCanvas){var st=this._getContext(it);st.beginPath(),st.rect(rt.x,rt.y,rt.width,rt.height),st.clip()}},drawRectangle:function(rt,it,st){if(!!this.useCanvas){var bt=this._getContext(st);bt.save(),bt.fillStyle=it,bt.fillRect(rt.x,rt.y,rt.width,rt.height),bt.restore()}},blendSketch:function(rt,it,st,bt){var wt=rt;if(nt.isPlainObject(wt)||(wt={opacity:rt,scale:it,translate:st,compositeOperation:bt}),!(!this.useCanvas||!this.sketchCanvas)){rt=wt.opacity,bt=wt.compositeOperation;var Et=wt.bounds;if(this.context.save(),this.context.globalAlpha=rt,bt&&(this.context.globalCompositeOperation=bt),Et)Et.x<0&&(Et.width+=Et.x,Et.x=0),Et.x+Et.width>this.canvas.width&&(Et.width=this.canvas.width-Et.x),Et.y<0&&(Et.height+=Et.y,Et.y=0),Et.y+Et.height>this.canvas.height&&(Et.height=this.canvas.height-Et.y),this.context.drawImage(this.sketchCanvas,Et.x,Et.y,Et.width,Et.height,Et.x,Et.y,Et.width,Et.height);else{it=wt.scale||1,st=wt.translate;var Tt=st instanceof nt.Point?st:new nt.Point(0,0),At=0,Dt=0;if(st){var Ot=this.sketchCanvas.width-this.canvas.width,zt=this.sketchCanvas.height-this.canvas.height;At=Math.round(Ot/2),Dt=Math.round(zt/2)}this.context.drawImage(this.sketchCanvas,Tt.x-At*it,Tt.y-Dt*it,(this.canvas.width+2*At)*it,(this.canvas.height+2*Dt)*it,-At,-Dt,this.canvas.width+2*At,this.canvas.height+2*Dt)}this.context.restore()}},drawDebugInfo:function(rt,it,st,bt){if(!!this.useCanvas){var wt=this.viewer.world.getIndexOfItem(bt)%this.debugGridColor.length,Et=this.context;Et.save(),Et.lineWidth=2*nt.pixelDensityRatio,Et.font="small-caps bold "+13*nt.pixelDensityRatio+"px arial",Et.strokeStyle=this.debugGridColor[wt],Et.fillStyle=this.debugGridColor[wt],this.viewport.degrees!==0&&this._offsetForRotation({degrees:this.viewport.degrees}),bt.getRotation(!0)%360!==0&&this._offsetForRotation({degrees:bt.getRotation(!0),point:bt.viewport.pixelFromPointNoRotate(bt._getRotationPoint(!0),!0)}),bt.viewport.degrees===0&&bt.getRotation(!0)%360===0&&bt._drawer.viewer.viewport.getFlip()&&bt._drawer._flip(),Et.strokeRect(rt.position.x*nt.pixelDensityRatio,rt.position.y*nt.pixelDensityRatio,rt.size.x*nt.pixelDensityRatio,rt.size.y*nt.pixelDensityRatio);var Tt=(rt.position.x+rt.size.x/2)*nt.pixelDensityRatio,At=(rt.position.y+rt.size.y/2)*nt.pixelDensityRatio;Et.translate(Tt,At),Et.rotate(Math.PI/180*-this.viewport.degrees),Et.translate(-Tt,-At),rt.x===0&&rt.y===0&&(Et.fillText("Zoom: "+this.viewport.getZoom(),rt.position.x*nt.pixelDensityRatio,(rt.position.y-30)*nt.pixelDensityRatio),Et.fillText("Pan: "+this.viewport.getBounds().toString(),rt.position.x*nt.pixelDensityRatio,(rt.position.y-20)*nt.pixelDensityRatio)),Et.fillText("Level: "+rt.level,(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+20)*nt.pixelDensityRatio),Et.fillText("Column: "+rt.x,(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+30)*nt.pixelDensityRatio),Et.fillText("Row: "+rt.y,(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+40)*nt.pixelDensityRatio),Et.fillText("Order: "+st+" of "+it,(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+50)*nt.pixelDensityRatio),Et.fillText("Size: "+rt.size.toString(),(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+60)*nt.pixelDensityRatio),Et.fillText("Position: "+rt.position.toString(),(rt.position.x+10)*nt.pixelDensityRatio,(rt.position.y+70)*nt.pixelDensityRatio),this.viewport.degrees!==0&&this._restoreRotationChanges(),bt.getRotation(!0)%360!==0&&this._restoreRotationChanges(),bt.viewport.degrees===0&&bt.getRotation(!0)%360===0&&bt._drawer.viewer.viewport.getFlip()&&bt._drawer._flip(),Et.restore()}},debugRect:function(rt){if(this.useCanvas){var it=this.context;it.save(),it.lineWidth=2*nt.pixelDensityRatio,it.strokeStyle=this.debugGridColor[0],it.fillStyle=this.debugGridColor[0],it.strokeRect(rt.x*nt.pixelDensityRatio,rt.y*nt.pixelDensityRatio,rt.width*nt.pixelDensityRatio,rt.height*nt.pixelDensityRatio),it.restore()}},setImageSmoothingEnabled:function(rt){this.useCanvas&&(this._imageSmoothingEnabled=rt,this._updateImageSmoothingEnabled(this.context),this.viewer.forceRedraw())},_updateImageSmoothingEnabled:function(rt){rt.msImageSmoothingEnabled=this._imageSmoothingEnabled,rt.imageSmoothingEnabled=this._imageSmoothingEnabled},getCanvasSize:function(rt){var it=this._getContext(rt).canvas;return new nt.Point(it.width,it.height)},getCanvasCenter:function(){return new nt.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(rt){var it=rt.point?rt.point.times(nt.pixelDensityRatio):this.getCanvasCenter(),st=this._getContext(rt.useSketch);st.save(),st.translate(it.x,it.y),this.viewer.viewport.flipped?(st.rotate(Math.PI/180*-rt.degrees),st.scale(-1,1)):st.rotate(Math.PI/180*rt.degrees),st.translate(-it.x,-it.y)},_flip:function(rt){rt=rt||{};var it=rt.point?rt.point.times(nt.pixelDensityRatio):this.getCanvasCenter(),st=this._getContext(rt.useSketch);st.translate(it.x,0),st.scale(-1,1),st.translate(-it.x,0)},_restoreRotationChanges:function(rt){var it=this._getContext(rt);it.restore()},_calculateCanvasSize:function(){var rt=nt.pixelDensityRatio,it=this.viewport.getContainerSize();return{x:Math.round(it.x*rt),y:Math.round(it.y*rt)}},_calculateSketchCanvasSize:function(){var rt=this._calculateCanvasSize();if(this.viewport.getRotation()===0)return rt;var it=Math.ceil(Math.sqrt(rt.x*rt.x+rt.y*rt.y));return{x:it,y:it}}}}(OpenSeadragon),function(nt){nt.Viewport=function(rt){var it=arguments;it.length&&it[0]instanceof nt.Point&&(rt={containerSize:it[0],contentSize:it[1],config:it[2]}),rt.config&&(nt.extend(!0,rt,rt.config),delete rt.config),this._margins=nt.extend({left:0,top:0,right:0,bottom:0},rt.margins||{}),delete rt.margins,nt.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:nt.DEFAULT_SETTINGS.springStiffness,animationTime:nt.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:nt.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:nt.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:nt.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:nt.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:nt.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:nt.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:nt.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:nt.DEFAULT_SETTINGS.maxZoomLevel,degrees:nt.DEFAULT_SETTINGS.degrees,flipped:nt.DEFAULT_SETTINGS.flipped,homeFillsViewer:nt.DEFAULT_SETTINGS.homeFillsViewer},rt),this._updateContainerInnerSize(),this.centerSpringX=new nt.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new nt.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new nt.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new nt.Rect(0,0,1,1),1),this.goHome(!0),this.update()},nt.Viewport.prototype={resetContentSize:function(rt){return nt.console.assert(rt,"[Viewport.resetContentSize] contentSize is required"),nt.console.assert(rt instanceof nt.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),nt.console.assert(rt.x>0,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),nt.console.assert(rt.y>0,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new nt.Rect(0,0,1,rt.y/rt.x),rt.x),this},setHomeBounds:function(rt,it){nt.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(rt,it)},_setContentBounds:function(rt,it){nt.console.assert(rt,"[Viewport._setContentBounds] bounds is required"),nt.console.assert(rt instanceof nt.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),nt.console.assert(rt.width>0,"[Viewport._setContentBounds] bounds.width must be greater than 0"),nt.console.assert(rt.height>0,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=rt.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(it),this._contentBounds=rt.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(it),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:it,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var rt=this._contentAspectRatio/this.getAspectRatio(),it;return this.homeFillsViewer?it=rt>=1?rt:1:it=rt>=1?1:rt,it/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var rt=this._contentBounds.getCenter(),it=1/this.getHomeZoom(),st=it/this.getAspectRatio();return new nt.Rect(rt.x-it/2,rt.y-st/2,it,st)},goHome:function(rt){return this.viewer&&this.viewer.raiseEvent("home",{immediately:rt}),this.fitBounds(this.getHomeBounds(),rt)},getMinZoom:function(){var rt=this.getHomeZoom(),it=this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*rt;return it},getMaxZoom:function(){var rt=this.maxZoomLevel;return rt||(rt=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,rt/=this._contentBounds.width),Math.max(rt,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new nt.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return nt.extend({},this._margins)},setMargins:function(rt){nt.console.assert(nt.type(rt)==="object","[Viewport.setMargins] margins must be an object"),this._margins=nt.extend({left:0,top:0,right:0,bottom:0},rt),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(rt){return this.getBoundsNoRotate(rt).rotate(-this.getRotation())},getBoundsNoRotate:function(rt){var it=this.getCenter(rt),st=1/this.getZoom(rt),bt=st/this.getAspectRatio();return new nt.Rect(it.x-st/2,it.y-bt/2,st,bt)},getBoundsWithMargins:function(rt){return this.getBoundsNoRotateWithMargins(rt).rotate(-this.getRotation(),this.getCenter(rt))},getBoundsNoRotateWithMargins:function(rt){var it=this.getBoundsNoRotate(rt),st=this._containerInnerSize.x*this.getZoom(rt);return it.x-=this._margins.left/st,it.y-=this._margins.top/st,it.width+=(this._margins.left+this._margins.right)/st,it.height+=(this._margins.top+this._margins.bottom)/st,it},getCenter:function(rt){var it=new nt.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),st=new nt.Point(this.centerSpringX.target.value,this.centerSpringY.target.value),bt,wt,Et,Tt,At,Dt,Ot,zt;return rt?it:this.zoomPoint?(bt=this.pixelFromPoint(this.zoomPoint,!0),wt=this.getZoom(),Et=1/wt,Tt=Et/this.getAspectRatio(),At=new nt.Rect(it.x-Et/2,it.y-Tt/2,Et,Tt),Dt=this._pixelFromPoint(this.zoomPoint,At),Ot=Dt.minus(bt),zt=Ot.divide(this._containerInnerSize.x*wt),st.plus(zt)):st},getZoom:function(rt){return rt?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(rt){return Math.max(Math.min(rt,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(rt){var it=new nt.Rect(rt.x,rt.y,rt.width,rt.height);if(!this.wrapHorizontal){var st=this.visibilityRatio*it.width,bt=it.x+it.width,wt=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,Et=this._contentBoundsNoRotate.x-bt+st,Tt=wt-it.x-st;st>this._contentBoundsNoRotate.width?it.x+=(Et+Tt)/2:Tt<0?it.x+=Tt:Et>0&&(it.x+=Et)}if(!this.wrapVertical){var At=this.visibilityRatio*it.height,Dt=it.y+it.height,Ot=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,zt=this._contentBoundsNoRotate.y-Dt+At,$t=Ot-it.y-At;At>this._contentBoundsNoRotate.height?it.y+=(zt+$t)/2:$t<0?it.y+=$t:zt>0&&(it.y+=zt)}return it},_raiseConstraintsEvent:function(rt){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:rt})},applyConstraints:function(rt){var it=this.getZoom(),st=this._applyZoomConstraints(it);it!==st&&this.zoomTo(st,this.zoomPoint,rt);var bt=this.getBoundsNoRotate(),wt=this._applyBoundaryConstraints(bt);return this._raiseConstraintsEvent(rt),(bt.x!==wt.x||bt.y!==wt.y||rt)&&this.fitBounds(wt.rotate(-this.getRotation()),rt),this},ensureVisible:function(rt){return this.applyConstraints(rt)},_fitBounds:function(rt,it){it=it||{};var st=it.immediately||!1,bt=it.constraints||!1,wt=this.getAspectRatio(),Et=rt.getCenter(),Tt=new nt.Rect(rt.x,rt.y,rt.width,rt.height,rt.degrees+this.getRotation()).getBoundingBox();Tt.getAspectRatio()>=wt?Tt.height=Tt.width/wt:Tt.width=Tt.height*wt,Tt.x=Et.x-Tt.width/2,Tt.y=Et.y-Tt.height/2;var At=1/Tt.width;if(bt){var Dt=Tt.getAspectRatio(),Ot=this._applyZoomConstraints(At);At!==Ot&&(At=Ot,Tt.width=1/At,Tt.x=Et.x-Tt.width/2,Tt.height=Tt.width/Dt,Tt.y=Et.y-Tt.height/2),Tt=this._applyBoundaryConstraints(Tt),Et=Tt.getCenter(),this._raiseConstraintsEvent(st)}if(st)return this.panTo(Et,!0),this.zoomTo(At,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var zt=this.getBounds(),$t=this.getZoom();if($t===0||Math.abs(At/$t-1)<1e-8)return this.zoomTo(At,!0),this.panTo(Et,st);Tt=Tt.rotate(-this.getRotation());var Bt=Tt.getTopLeft().times(At).minus(zt.getTopLeft().times($t)).divide(At-$t);return this.zoomTo(At,Bt,st)},fitBounds:function(rt,it){return this._fitBounds(rt,{immediately:it,constraints:!1})},fitBoundsWithConstraints:function(rt,it){return this._fitBounds(rt,{immediately:it,constraints:!0})},fitVertically:function(rt){var it=new nt.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(it,rt)},fitHorizontally:function(rt){var it=new nt.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(it,rt)},getConstrainedBounds:function(rt){var it,st;return it=this.getBounds(rt),st=this._applyBoundaryConstraints(it),st},panBy:function(rt,it){var st=new nt.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(st.plus(rt),it)},panTo:function(rt,it){return it?(this.centerSpringX.resetTo(rt.x),this.centerSpringY.resetTo(rt.y)):(this.centerSpringX.springTo(rt.x),this.centerSpringY.springTo(rt.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:rt,immediately:it}),this},zoomBy:function(rt,it,st){return this.zoomTo(this.zoomSpring.target.value*rt,it,st)},zoomTo:function(rt,it,st){var bt=this;return this.zoomPoint=it instanceof nt.Point&&!isNaN(it.x)&&!isNaN(it.y)?it:null,st?this._adjustCenterSpringsForZoomPoint(function(){bt.zoomSpring.resetTo(rt)}):this.zoomSpring.springTo(rt),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:rt,refPoint:it,immediately:st}),this},setRotation:function(rt){return!this.viewer||!this.viewer.drawer.canRotate()?this:(this.degrees=nt.positiveModulo(rt,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:rt}),this)},getRotation:function(){return this.degrees},resize:function(rt,it){var st=this.getBoundsNoRotate(),bt=st,wt;return this.containerSize.x=rt.x,this.containerSize.y=rt.y,this._updateContainerInnerSize(),it&&(wt=rt.x/this.containerSize.x,bt.width=st.width*wt,bt.height=bt.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:rt,maintain:it}),this.fitBounds(bt,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new nt.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var rt=this;this._adjustCenterSpringsForZoomPoint(function(){rt.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var it=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,it},_adjustCenterSpringsForZoomPoint:function(rt){if(this.zoomPoint){var it=this.pixelFromPoint(this.zoomPoint,!0);rt();var st=this.pixelFromPoint(this.zoomPoint,!0),bt=st.minus(it),wt=this.deltaPointsFromPixels(bt,!0);this.centerSpringX.shiftBy(wt.x),this.centerSpringY.shiftBy(wt.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else rt()},deltaPixelsFromPointsNoRotate:function(rt,it){return rt.times(this._containerInnerSize.x*this.getZoom(it))},deltaPixelsFromPoints:function(rt,it){return this.deltaPixelsFromPointsNoRotate(rt.rotate(this.getRotation()),it)},deltaPointsFromPixelsNoRotate:function(rt,it){return rt.divide(this._containerInnerSize.x*this.getZoom(it))},deltaPointsFromPixels:function(rt,it){return this.deltaPointsFromPixelsNoRotate(rt,it).rotate(-this.getRotation())},pixelFromPointNoRotate:function(rt,it){return this._pixelFromPointNoRotate(rt,this.getBoundsNoRotate(it))},pixelFromPoint:function(rt,it){return this._pixelFromPoint(rt,this.getBoundsNoRotate(it))},_pixelFromPointNoRotate:function(rt,it){return rt.minus(it.getTopLeft()).times(this._containerInnerSize.x/it.width).plus(new nt.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(rt,it){return this._pixelFromPointNoRotate(rt.rotate(this.getRotation(),this.getCenter(!0)),it)},pointFromPixelNoRotate:function(rt,it){var st=this.getBoundsNoRotate(it);return rt.minus(new nt.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/st.width).plus(st.getTopLeft())},pointFromPixel:function(rt,it){return this.pointFromPixelNoRotate(rt,it).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(rt,it){var st=this._contentBoundsNoRotate.width;return new nt.Point(rt*this._contentSizeNoRotate.x/st,it*this._contentSizeNoRotate.x/st)},viewportToImageCoordinates:function(rt,it){if(rt instanceof nt.Point)return this.viewportToImageCoordinates(rt.x,rt.y);if(this.viewer){var st=this.viewer.world.getItemCount();if(st>1)nt.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(st===1){var bt=this.viewer.world.getItemAt(0);return bt.viewportToImageCoordinates(rt,it,!0)}}return this._viewportToImageDelta(rt-this._contentBoundsNoRotate.x,it-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(rt,it){var st=this._contentBoundsNoRotate.width;return new nt.Point(rt/this._contentSizeNoRotate.x*st,it/this._contentSizeNoRotate.x*st)},imageToViewportCoordinates:function(rt,it){if(rt instanceof nt.Point)return this.imageToViewportCoordinates(rt.x,rt.y);if(this.viewer){var st=this.viewer.world.getItemCount();if(st>1)nt.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(st===1){var bt=this.viewer.world.getItemAt(0);return bt.imageToViewportCoordinates(rt,it,!0)}}var wt=this._imageToViewportDelta(rt,it);return wt.x+=this._contentBoundsNoRotate.x,wt.y+=this._contentBoundsNoRotate.y,wt},imageToViewportRectangle:function(rt,it,st,bt){var wt=rt;if(wt instanceof nt.Rect||(wt=new nt.Rect(rt,it,st,bt)),this.viewer){var Et=this.viewer.world.getItemCount();if(Et>1)nt.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(Et===1){var Tt=this.viewer.world.getItemAt(0);return Tt.imageToViewportRectangle(rt,it,st,bt,!0)}}var At=this.imageToViewportCoordinates(wt.x,wt.y),Dt=this._imageToViewportDelta(wt.width,wt.height);return new nt.Rect(At.x,At.y,Dt.x,Dt.y,wt.degrees)},viewportToImageRectangle:function(rt,it,st,bt){var wt=rt;if(wt instanceof nt.Rect||(wt=new nt.Rect(rt,it,st,bt)),this.viewer){var Et=this.viewer.world.getItemCount();if(Et>1)nt.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(Et===1){var Tt=this.viewer.world.getItemAt(0);return Tt.viewportToImageRectangle(rt,it,st,bt,!0)}}var At=this.viewportToImageCoordinates(wt.x,wt.y),Dt=this._viewportToImageDelta(wt.width,wt.height);return new nt.Rect(At.x,At.y,Dt.x,Dt.y,wt.degrees)},viewerElementToImageCoordinates:function(rt){var it=this.pointFromPixel(rt,!0);return this.viewportToImageCoordinates(it)},imageToViewerElementCoordinates:function(rt){var it=this.imageToViewportCoordinates(rt);return this.pixelFromPoint(it,!0)},windowToImageCoordinates:function(rt){nt.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var it=rt.minus(nt.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(it)},imageToWindowCoordinates:function(rt){nt.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer.");var it=this.imageToViewerElementCoordinates(rt);return it.plus(nt.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(rt){return this.pointFromPixel(rt,!0)},viewportToViewerElementCoordinates:function(rt){return this.pixelFromPoint(rt,!0)},viewerElementToViewportRectangle:function(rt){return nt.Rect.fromSummits(this.pointFromPixel(rt.getTopLeft(),!0),this.pointFromPixel(rt.getTopRight(),!0),this.pointFromPixel(rt.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(rt){return nt.Rect.fromSummits(this.pixelFromPoint(rt.getTopLeft(),!0),this.pixelFromPoint(rt.getTopRight(),!0),this.pixelFromPoint(rt.getBottomLeft(),!0))},windowToViewportCoordinates:function(rt){nt.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var it=rt.minus(nt.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(it)},viewportToWindowCoordinates:function(rt){nt.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer.");var it=this.viewportToViewerElementCoordinates(rt);return it.plus(nt.getElementPosition(this.viewer.element))},viewportToImageZoom:function(rt){if(this.viewer){var it=this.viewer.world.getItemCount();if(it>1)nt.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(it===1){var st=this.viewer.world.getItemAt(0);return st.viewportToImageZoom(rt)}}var bt=this._contentSizeNoRotate.x,wt=this._containerInnerSize.x,Et=this._contentBoundsNoRotate.width,Tt=wt/bt*Et;return rt*Tt},imageToViewportZoom:function(rt){if(this.viewer){var it=this.viewer.world.getItemCount();if(it>1)nt.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(it===1){var st=this.viewer.world.getItemAt(0);return st.imageToViewportZoom(rt)}}var bt=this._contentSizeNoRotate.x,wt=this._containerInnerSize.x,Et=this._contentBoundsNoRotate.width,Tt=bt/wt/Et;return rt*Tt},toggleFlip:function(){return this.setFlip(!this.getFlip()),this},getFlip:function(){return this.flipped},setFlip:function(rt){return this.flipped===rt?this:(this.flipped=rt,this.viewer.navigator&&this.viewer.navigator.setFlip(this.getFlip()),this.viewer.forceRedraw(),this.viewer.raiseEvent("flip",{flipped:rt}),this)}}}(OpenSeadragon),function(nt){nt.TiledImage=function(Ht){var Qt=this;nt.console.assert(Ht.tileCache,"[TiledImage] options.tileCache is required"),nt.console.assert(Ht.drawer,"[TiledImage] options.drawer is required"),nt.console.assert(Ht.viewer,"[TiledImage] options.viewer is required"),nt.console.assert(Ht.imageLoader,"[TiledImage] options.imageLoader is required"),nt.console.assert(Ht.source,"[TiledImage] options.source is required"),nt.console.assert(!Ht.clip||Ht.clip instanceof nt.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),nt.EventSource.call(this),this._tileCache=Ht.tileCache,delete Ht.tileCache,this._drawer=Ht.drawer,delete Ht.drawer,this._imageLoader=Ht.imageLoader,delete Ht.imageLoader,Ht.clip instanceof nt.Rect&&(this._clip=Ht.clip.clone()),delete Ht.clip;var Zt=Ht.x||0;delete Ht.x;var nn=Ht.y||0;delete Ht.y,this.normHeight=Ht.source.dimensions.y/Ht.source.dimensions.x,this.contentAspectX=Ht.source.dimensions.x/Ht.source.dimensions.y;var Kt=1;Ht.width?(Kt=Ht.width,delete Ht.width,Ht.height&&(nt.console.error("specifying both width and height to a tiledImage is not supported"),delete Ht.height)):Ht.height&&(Kt=Ht.height/this.normHeight,delete Ht.height);var ln=Ht.fitBounds;delete Ht.fitBounds;var sn=Ht.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete Ht.fitBoundsPlacement;var bn=Ht.degrees||0;delete Ht.degrees,nt.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:nt.DEFAULT_SETTINGS.springStiffness,animationTime:nt.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:nt.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:nt.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:nt.DEFAULT_SETTINGS.wrapVertical,immediateRender:nt.DEFAULT_SETTINGS.immediateRender,blendTime:nt.DEFAULT_SETTINGS.blendTime,alwaysBlend:nt.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:nt.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:nt.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:nt.DEFAULT_SETTINGS.iOSDevice,debugMode:nt.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:nt.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:nt.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:nt.DEFAULT_SETTINGS.placeholderFillStyle,opacity:nt.DEFAULT_SETTINGS.opacity,preload:nt.DEFAULT_SETTINGS.preload,compositeOperation:nt.DEFAULT_SETTINGS.compositeOperation},Ht),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new nt.Spring({initial:Zt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new nt.Spring({initial:nn,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new nt.Spring({initial:Kt,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new nt.Spring({initial:bn,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),ln&&this.fitBounds(ln,sn,!0),this._drawingHandler=function(wn){Qt.viewer.raiseEvent("tile-drawing",nt.extend({tiledImage:Qt},wn))}},nt.extend(nt.TiledImage.prototype,nt.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(Ht){Ht!==this._fullyLoaded&&(this._fullyLoaded=Ht,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=nt.now(),this._needsDraw=!0},update:function(){var Ht=this._xSpring.update(),Qt=this._ySpring.update(),Zt=this._scaleSpring.update(),nn=this._degreesSpring.update();return Ht||Qt||Zt||nn?(this._updateForScale(),this._needsDraw=!0,!0):!1},draw:function(){this.opacity!==0||this._preload?(this._midDraw=!0,this._updateViewport(),this._midDraw=!1):this._needsDraw=!1},destroy:function(){this.reset()},getBounds:function(Ht){return this.getBoundsNoRotate(Ht).rotate(this.getRotation(Ht),this._getRotationPoint(Ht))},getBoundsNoRotate:function(Ht){return Ht?new nt.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new nt.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return nt.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(Ht){var Qt=this.getBoundsNoRotate(Ht);if(this._clip){var Zt=Ht?this._worldWidthCurrent:this._worldWidthTarget,nn=Zt/this.source.dimensions.x,Kt=this._clip.times(nn);Qt=new nt.Rect(Qt.x+Kt.x,Qt.y+Kt.y,Kt.width,Kt.height)}return Qt.rotate(this.getRotation(Ht),this._getRotationPoint(Ht))},getContentSize:function(){return new nt.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(Ht,Qt,Zt){var nn=Zt?this._scaleSpring.current.value:this._scaleSpring.target.value;return new nt.Point(Ht*(this.source.dimensions.x/nn),Qt*(this.source.dimensions.y*this.contentAspectX/nn))},viewportToImageCoordinates:function(Ht,Qt,Zt){var nn;return Ht instanceof nt.Point?(Zt=Qt,nn=Ht):nn=new nt.Point(Ht,Qt),nn=nn.rotate(-this.getRotation(Zt),this._getRotationPoint(Zt)),Zt?this._viewportToImageDelta(nn.x-this._xSpring.current.value,nn.y-this._ySpring.current.value):this._viewportToImageDelta(nn.x-this._xSpring.target.value,nn.y-this._ySpring.target.value)},_imageToViewportDelta:function(Ht,Qt,Zt){var nn=Zt?this._scaleSpring.current.value:this._scaleSpring.target.value;return new nt.Point(Ht/this.source.dimensions.x*nn,Qt/this.source.dimensions.y/this.contentAspectX*nn)},imageToViewportCoordinates:function(Ht,Qt,Zt){Ht instanceof nt.Point&&(Zt=Qt,Qt=Ht.y,Ht=Ht.x);var nn=this._imageToViewportDelta(Ht,Qt);return Zt?(nn.x+=this._xSpring.current.value,nn.y+=this._ySpring.current.value):(nn.x+=this._xSpring.target.value,nn.y+=this._ySpring.target.value),nn.rotate(this.getRotation(Zt),this._getRotationPoint(Zt))},imageToViewportRectangle:function(Ht,Qt,Zt,nn,Kt){var ln=Ht;ln instanceof nt.Rect?Kt=Qt:ln=new nt.Rect(Ht,Qt,Zt,nn);var sn=this.imageToViewportCoordinates(ln.getTopLeft(),Kt),bn=this._imageToViewportDelta(ln.width,ln.height,Kt);return new nt.Rect(sn.x,sn.y,bn.x,bn.y,ln.degrees+this.getRotation(Kt))},viewportToImageRectangle:function(Ht,Qt,Zt,nn,Kt){var ln=Ht;Ht instanceof nt.Rect?Kt=Qt:ln=new nt.Rect(Ht,Qt,Zt,nn);var sn=this.viewportToImageCoordinates(ln.getTopLeft(),Kt),bn=this._viewportToImageDelta(ln.width,ln.height,Kt);return new nt.Rect(sn.x,sn.y,bn.x,bn.y,ln.degrees-this.getRotation(Kt))},viewerElementToImageCoordinates:function(Ht){var Qt=this.viewport.pointFromPixel(Ht,!0);return this.viewportToImageCoordinates(Qt)},imageToViewerElementCoordinates:function(Ht){var Qt=this.imageToViewportCoordinates(Ht);return this.viewport.pixelFromPoint(Qt,!0)},windowToImageCoordinates:function(Ht){var Qt=Ht.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(Qt)},imageToWindowCoordinates:function(Ht){var Qt=this.imageToViewerElementCoordinates(Ht);return Qt.plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(Ht){var Qt=this._scaleSpring.current.value;return Ht=Ht.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new nt.Rect((Ht.x-this._xSpring.current.value)/Qt,(Ht.y-this._ySpring.current.value)/Qt,Ht.width/Qt,Ht.height/Qt,Ht.degrees)},viewportToImageZoom:function(Ht){var Qt=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Qt*Ht},imageToViewportZoom:function(Ht){var Qt=this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x;return Ht/Qt},setPosition:function(Ht,Qt){var Zt=this._xSpring.target.value===Ht.x&&this._ySpring.target.value===Ht.y;if(Qt){if(Zt&&this._xSpring.current.value===Ht.x&&this._ySpring.current.value===Ht.y)return;this._xSpring.resetTo(Ht.x),this._ySpring.resetTo(Ht.y),this._needsDraw=!0}else{if(Zt)return;this._xSpring.springTo(Ht.x),this._ySpring.springTo(Ht.y),this._needsDraw=!0}Zt||this._raiseBoundsChange()},setWidth:function(Ht,Qt){this._setScale(Ht,Qt)},setHeight:function(Ht,Qt){this._setScale(Ht/this.normHeight,Qt)},setCroppingPolygons:function(Ht){var Qt=function(nn){return nn instanceof nt.Point||typeof nn.x=="number"&&typeof nn.y=="number"},Zt=function(nn){return nn.map(function(Kt){try{if(Qt(Kt))return{x:Kt.x,y:Kt.y};throw new Error}catch{throw new Error("A Provided cropping polygon point is not supported")}})};try{if(!nt.isArray(Ht))throw new Error("Provided cropping polygon is not an array");this._croppingPolygons=Ht.map(function(nn){return Zt(nn)})}catch(nn){nt.console.error("[TiledImage.setCroppingPolygons] Cropping polygon format not supported"),nt.console.error(nn),this._croppingPolygons=null}},resetCroppingPolygons:function(){this._croppingPolygons=null},fitBounds:function(Ht,Qt,Zt){Qt=Qt||nt.Placement.CENTER;var nn=nt.Placement.properties[Qt],Kt=this.contentAspectX,ln=0,sn=0,bn=1,wn=1;if(this._clip&&(Kt=this._clip.getAspectRatio(),bn=this._clip.width/this.source.dimensions.x,wn=this._clip.height/this.source.dimensions.y,Ht.getAspectRatio()>Kt?(ln=this._clip.x/this._clip.height*Ht.height,sn=this._clip.y/this._clip.height*Ht.height):(ln=this._clip.x/this._clip.width*Ht.width,sn=this._clip.y/this._clip.width*Ht.width)),Ht.getAspectRatio()>Kt){var Mn=Ht.height/wn,Sn=0;nn.isHorizontallyCentered?Sn=(Ht.width-Ht.height*Kt)/2:nn.isRight&&(Sn=Ht.width-Ht.height*Kt),this.setPosition(new nt.Point(Ht.x-ln+Sn,Ht.y-sn),Zt),this.setHeight(Mn,Zt)}else{var Dn=Ht.width/bn,gn=0;nn.isVerticallyCentered?gn=(Ht.height-Ht.width/Kt)/2:nn.isBottom&&(gn=Ht.height-Ht.width/Kt),this.setPosition(new nt.Point(Ht.x-ln,Ht.y-sn+gn),Zt),this.setWidth(Dn,Zt)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(Ht){nt.console.assert(!Ht||Ht instanceof nt.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),Ht instanceof nt.Rect?this._clip=Ht.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(Ht){Ht!==this.opacity&&(this.opacity=Ht,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(Ht){this._preload=!!Ht,this._needsDraw=!0},getRotation:function(Ht){return Ht?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(Ht,Qt){this._degreesSpring.target.value===Ht&&this._degreesSpring.isAtTargetValue()||(Qt?this._degreesSpring.resetTo(Ht):this._degreesSpring.springTo(Ht),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(Ht){return this.getBoundsNoRotate(Ht).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(Ht){Ht!==this.compositeOperation&&(this.compositeOperation=Ht,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(Ht,Qt){var Zt=this._scaleSpring.target.value===Ht;if(Qt){if(Zt&&this._scaleSpring.current.value===Ht)return;this._scaleSpring.resetTo(Ht),this._updateForScale(),this._needsDraw=!0}else{if(Zt)return;this._scaleSpring.springTo(Ht),this._updateForScale(),this._needsDraw=!0}Zt||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var Ht=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),Qt=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,Zt=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(Qt/this.minPixelRatio)/Math.log(2))));return Zt=Math.max(Zt,this.source.minLevel||0),Ht=Math.min(Ht,Zt),{lowestLevel:Ht,highestLevel:Zt}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};this.lastDrawn.length>0;){var Ht=this.lastDrawn.pop();Ht.beingDrawn=!1}var Qt=this.viewport,Zt=this._viewportToTiledImageRectangle(Qt.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var nn=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(Zt=Zt.intersection(nn),Zt===null)return}for(var Kt=this._getLevelsInterval(),ln=Kt.lowestLevel,sn=Kt.highestLevel,bn=null,wn=!1,Mn=nt.now(),Sn=sn;Sn>=ln;Sn--){var Dn=!1,gn=Qt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Sn),!0).x*this._scaleSpring.current.value;if(Sn===ln||!wn&&gn>=this.minPixelRatio)Dn=!0,wn=!0;else if(!wn)continue;var Un=Qt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Sn),!1).x*this._scaleSpring.current.value,pn=Qt.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,yr=this.immediateRender?1:pn,xn=Math.min(1,(gn-.5)/.5),Mr=yr/Math.abs(yr-Un);if(bn=rt(this,wn,Dn,Sn,xn,Mr,Zt,Mn,bn),Dt(this.coverage,Sn))break}Yt(this,this.lastDrawn),bn&&!bn.context2D?(bt(this,bn,Mn),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(this._tilesLoading===0)},_getCornerTiles:function(Ht,Qt,Zt){var nn,Kt;this.wrapHorizontal?(nn=nt.positiveModulo(Qt.x,1),Kt=nt.positiveModulo(Zt.x,1)):(nn=Math.max(0,Qt.x),Kt=Math.min(1,Zt.x));var ln,sn,bn=1/this.source.aspectRatio;this.wrapVertical?(ln=nt.positiveModulo(Qt.y,bn),sn=nt.positiveModulo(Zt.y,bn)):(ln=Math.max(0,Qt.y),sn=Math.min(bn,Zt.y));var wn=this.source.getTileAtPoint(Ht,new nt.Point(nn,ln)),Mn=this.source.getTileAtPoint(Ht,new nt.Point(Kt,sn)),Sn=this.source.getNumTiles(Ht);return this.wrapHorizontal&&(wn.x+=Sn.x*Math.floor(Qt.x),Mn.x+=Sn.x*Math.floor(Zt.x)),this.wrapVertical&&(wn.y+=Sn.y*Math.floor(Qt.y/bn),Mn.y+=Sn.y*Math.floor(Zt.y/bn)),{topLeft:wn,bottomRight:Mn}}});function rt(Ht,Qt,Zt,nn,Kt,ln,sn,bn,wn){var Mn=sn.getBoundingBox().getTopLeft(),Sn=sn.getBoundingBox().getBottomRight();Ht.viewer&&Ht.viewer.raiseEvent("update-level",{tiledImage:Ht,havedrawn:Qt,level:nn,opacity:Kt,visibility:ln,drawArea:sn,topleft:Mn,bottomright:Sn,currenttime:bn,best:wn}),$t(Ht.coverage,nn),$t(Ht.loadingCoverage,nn);for(var Dn=Ht._getCornerTiles(nn,Mn,Sn),gn=Dn.topLeft,Un=Dn.bottomRight,pn=Ht.source.getNumTiles(nn),yr=Ht.viewport.pixelFromPoint(Ht.viewport.getCenter()),xn=gn.x;xn<=Un.x;xn++)for(var Mr=gn.y;Mr<=Un.y;Mr++){if(!Ht.wrapHorizontal&&!Ht.wrapVertical){var fr=Ht.source.getTileBounds(nn,xn,Mr);if(sn.intersection(fr)===null)continue}wn=it(Ht,Zt,Qt,xn,Mr,nn,Kt,ln,yr,pn,bn,wn)}return wn}function it(Ht,Qt,Zt,nn,Kt,ln,sn,bn,wn,Mn,Sn,Dn){var gn=st(nn,Kt,ln,Ht,Ht.source,Ht.tilesMatrix,Sn,Mn,Ht._worldWidthCurrent,Ht._worldHeightCurrent),Un=Zt;Ht.viewer&&Ht.viewer.raiseEvent("update-tile",{tiledImage:Ht,tile:gn}),zt(Ht.coverage,ln,nn,Kt,!1);var pn=gn.loaded||gn.loading||Ot(Ht.loadingCoverage,ln,nn,Kt);if(zt(Ht.loadingCoverage,ln,nn,Kt,pn),!gn.exists||(Qt&&!Un&&(Ot(Ht.coverage,ln,nn,Kt)?zt(Ht.coverage,ln,nn,Kt,!0):Un=!0),!Un))return Dn;if(Tt(gn,Ht.source.tileOverlap,Ht.viewport,wn,bn,Ht),!gn.loaded)if(gn.context2D)Et(Ht,gn);else{var yr=Ht._tileCache.getImageRecord(gn.cacheKey);if(yr){var xn=yr.getImage();Et(Ht,gn,xn)}}if(gn.loaded){var Mr=At(Ht,gn,nn,Kt,ln,sn,Sn);Mr&&(Ht._needsDraw=!0)}else gn.loading?Ht._tilesLoading++:pn||(Dn=Bt(Dn,gn));return Dn}function st(Ht,Qt,Zt,nn,Kt,ln,sn,bn,wn,Mn){var Sn,Dn,gn,Un,pn,yr,xn,Mr,fr;return ln[Zt]||(ln[Zt]={}),ln[Zt][Ht]||(ln[Zt][Ht]={}),ln[Zt][Ht][Qt]||(Sn=(bn.x+Ht%bn.x)%bn.x,Dn=(bn.y+Qt%bn.y)%bn.y,gn=Kt.getTileBounds(Zt,Sn,Dn),Un=Kt.getTileBounds(Zt,Sn,Dn,!0),pn=Kt.tileExists(Zt,Sn,Dn),yr=Kt.getTileUrl(Zt,Sn,Dn),nn.loadTilesWithAjax?(xn=Kt.getTileAjaxHeaders(Zt,Sn,Dn),nt.isPlainObject(nn.ajaxHeaders)&&(xn=nt.extend({},nn.ajaxHeaders,xn))):xn=null,Mr=Kt.getContext2D?Kt.getContext2D(Zt,Sn,Dn):void 0,gn.x+=(Ht-Sn)/bn.x,gn.y+=Mn/wn*((Qt-Dn)/bn.y),fr=new nt.Tile(Zt,Ht,Qt,gn,pn,yr,Mr,nn.loadTilesWithAjax,xn,Un),Sn===bn.x-1&&(fr.isRightMost=!0),Dn===bn.y-1&&(fr.isBottomMost=!0),ln[Zt][Ht][Qt]=fr),fr=ln[Zt][Ht][Qt],fr.lastTouchTime=sn,fr}function bt(Ht,Qt,Zt){Qt.loading=!0,Ht._imageLoader.addJob({src:Qt.url,loadWithAjax:Qt.loadWithAjax,ajaxHeaders:Qt.ajaxHeaders,crossOriginPolicy:Ht.crossOriginPolicy,ajaxWithCredentials:Ht.ajaxWithCredentials,callback:function(nn,Kt,ln){wt(Ht,Qt,Zt,nn,Kt,ln)},abort:function(){Qt.loading=!1}})}function wt(Ht,Qt,Zt,nn,Kt,ln){if(!nn){nt.console.log("Tile %s failed to load: %s - error: %s",Qt,Qt.url,Kt),Ht.viewer.raiseEvent("tile-load-failed",{tile:Qt,tiledImage:Ht,time:Zt,message:Kt,tileRequest:ln}),Qt.loading=!1,Qt.exists=!1;return}if(Zt<Ht.lastResetTime){nt.console.log("Ignoring tile %s loaded before reset: %s",Qt,Qt.url),Qt.loading=!1;return}var sn=function(){var bn=Ht.source.getClosestLevel();Et(Ht,Qt,nn,bn,ln)};Ht._midDraw?window.setTimeout(sn,1):sn()}function Et(Ht,Qt,Zt,nn,Kt){var ln=0;function sn(){return ln++,bn}function bn(){ln--,ln===0&&(Qt.loading=!1,Qt.loaded=!0,Qt.context2D||Ht._tileCache.cacheTile({image:Zt,tile:Qt,cutoff:nn,tiledImage:Ht}),Ht._needsDraw=!0)}Ht.viewer.raiseEvent("tile-loaded",{tile:Qt,tiledImage:Ht,tileRequest:Kt,image:Zt,getCompletionCallback:sn}),sn()()}function Tt(Ht,Qt,Zt,nn,Kt,ln){var sn=Ht.bounds.getTopLeft();sn.x*=ln._scaleSpring.current.value,sn.y*=ln._scaleSpring.current.value,sn.x+=ln._xSpring.current.value,sn.y+=ln._ySpring.current.value;var bn=Ht.bounds.getSize();bn.x*=ln._scaleSpring.current.value,bn.y*=ln._scaleSpring.current.value;var wn=Zt.pixelFromPointNoRotate(sn,!0),Mn=Zt.pixelFromPointNoRotate(sn,!1),Sn=Zt.deltaPixelsFromPointsNoRotate(bn,!0),Dn=Zt.deltaPixelsFromPointsNoRotate(bn,!1),gn=Mn.plus(Dn.divide(2)),Un=nn.squaredDistanceTo(gn);Qt||(Sn=Sn.plus(new nt.Point(1,1))),Ht.isRightMost&&ln.wrapHorizontal&&(Sn.x+=.75),Ht.isBottomMost&&ln.wrapVertical&&(Sn.y+=.75),Ht.position=wn,Ht.size=Sn,Ht.squaredDistance=Un,Ht.visibility=Kt}function At(Ht,Qt,Zt,nn,Kt,ln,sn){var bn=1e3*Ht.blendTime,wn,Mn;if(Qt.blendStart||(Qt.blendStart=sn),wn=sn-Qt.blendStart,Mn=bn?Math.min(1,wn/bn):1,Ht.alwaysBlend&&(Mn*=ln),Qt.opacity=Mn,Ht.lastDrawn.push(Qt),Mn===1)zt(Ht.coverage,Kt,Zt,nn,!0),Ht._hasOpaqueTile=!0;else if(wn<bn)return!0;return!1}function Dt(Ht,Qt,Zt,nn){var Kt,ln,sn,bn;if(!Ht[Qt])return!1;if(Zt===void 0||nn===void 0){Kt=Ht[Qt];for(sn in Kt)if(Object.prototype.hasOwnProperty.call(Kt,sn)){ln=Kt[sn];for(bn in ln)if(Object.prototype.hasOwnProperty.call(ln,bn)&&!ln[bn])return!1}return!0}return Ht[Qt][Zt]===void 0||Ht[Qt][Zt][nn]===void 0||Ht[Qt][Zt][nn]===!0}function Ot(Ht,Qt,Zt,nn){return Zt===void 0||nn===void 0?Dt(Ht,Qt+1):Dt(Ht,Qt+1,2*Zt,2*nn)&&Dt(Ht,Qt+1,2*Zt,2*nn+1)&&Dt(Ht,Qt+1,2*Zt+1,2*nn)&&Dt(Ht,Qt+1,2*Zt+1,2*nn+1)}function zt(Ht,Qt,Zt,nn,Kt){if(!Ht[Qt]){nt.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",Qt);return}Ht[Qt][Zt]||(Ht[Qt][Zt]={}),Ht[Qt][Zt][nn]=Kt}function $t(Ht,Qt){Ht[Qt]={}}function Bt(Ht,Qt){return!Ht||Qt.visibility>Ht.visibility||Qt.visibility==Ht.visibility&&Qt.squaredDistance<Ht.squaredDistance?Qt:Ht}function Yt(Ht,Qt){if(!(Ht.opacity===0||Qt.length===0&&!Ht.placeholderFillStyle)){var Zt=Qt[0],nn;Zt&&(nn=Ht.opacity<1||Ht.compositeOperation&&Ht.compositeOperation!=="source-over"||!Ht._isBottomItem()&&Zt._hasTransparencyChannel());var Kt,ln,sn=Ht.viewport.getZoom(!0),bn=Ht.viewportToImageZoom(sn);Qt.length>1&&bn>Ht.smoothTileEdgesMinZoom&&!Ht.iOSDevice&&Ht.getRotation(!0)%360===0&&nt.supportsCanvas&&(nn=!0,Kt=Zt.getScaleForEdgeSmoothing(),ln=Zt.getTranslationForEdgeSmoothing(Kt,Ht._drawer.getCanvasSize(!1),Ht._drawer.getCanvasSize(!0)));var wn;nn&&(Kt||(wn=Ht.viewport.viewportToViewerElementRectangle(Ht.getClippedBounds(!0)).getIntegerBoundingBox(),Ht._drawer.viewer.viewport.getFlip()&&(Ht.viewport.degrees!==0||Ht.getRotation(!0)%360!==0)&&(wn.x=Ht._drawer.viewer.container.clientWidth-(wn.x+wn.width)),wn=wn.times(nt.pixelDensityRatio)),Ht._drawer._clear(!0,wn)),Kt||(Ht.viewport.degrees!==0&&Ht._drawer._offsetForRotation({degrees:Ht.viewport.degrees,useSketch:nn}),Ht.getRotation(!0)%360!==0&&Ht._drawer._offsetForRotation({degrees:Ht.getRotation(!0),point:Ht.viewport.pixelFromPointNoRotate(Ht._getRotationPoint(!0),!0),useSketch:nn}),Ht.viewport.degrees===0&&Ht.getRotation(!0)%360===0&&Ht._drawer.viewer.viewport.getFlip()&&Ht._drawer._flip());var Mn=!1;if(Ht._clip){Ht._drawer.saveContext(nn);var Sn=Ht.imageToViewportRectangle(Ht._clip,!0);Sn=Sn.rotate(-Ht.getRotation(!0),Ht._getRotationPoint(!0));var Dn=Ht._drawer.viewportToDrawerRectangle(Sn);Kt&&(Dn=Dn.times(Kt)),ln&&(Dn=Dn.translate(ln)),Ht._drawer.setClip(Dn,nn),Mn=!0}if(Ht._croppingPolygons){Ht._drawer.saveContext(nn);try{var gn=Ht._croppingPolygons.map(function(xn){return xn.map(function(Mr){var fr=Ht.imageToViewportCoordinates(Mr.x,Mr.y,!0).rotate(-Ht.getRotation(!0),Ht._getRotationPoint(!0)),cr=Ht._drawer.viewportCoordToDrawerCoord(fr);return Kt&&(cr=cr.times(Kt)),cr})});Ht._drawer.clipWithPolygons(gn,nn)}catch(xn){nt.console.error(xn)}Mn=!0}if(Ht.placeholderFillStyle&&Ht._hasOpaqueTile===!1){var Un=Ht._drawer.viewportToDrawerRectangle(Ht.getBounds(!0));Kt&&(Un=Un.times(Kt)),ln&&(Un=Un.translate(ln));var pn=null;typeof Ht.placeholderFillStyle=="function"?pn=Ht.placeholderFillStyle(Ht,Ht._drawer.context):pn=Ht.placeholderFillStyle,Ht._drawer.drawRectangle(Un,pn,nn)}for(var yr=Qt.length-1;yr>=0;yr--)Zt=Qt[yr],Ht._drawer.drawTile(Zt,Ht._drawingHandler,nn,Kt,ln),Zt.beingDrawn=!0,Ht.viewer&&Ht.viewer.raiseEvent("tile-drawn",{tiledImage:Ht,tile:Zt});Mn&&Ht._drawer.restoreContext(nn),Kt||(Ht.getRotation(!0)%360!==0&&Ht._drawer._restoreRotationChanges(nn),Ht.viewport.degrees!==0&&Ht._drawer._restoreRotationChanges(nn)),nn&&(Kt&&(Ht.viewport.degrees!==0&&Ht._drawer._offsetForRotation({degrees:Ht.viewport.degrees,useSketch:!1}),Ht.getRotation(!0)%360!==0&&Ht._drawer._offsetForRotation({degrees:Ht.getRotation(!0),point:Ht.viewport.pixelFromPointNoRotate(Ht._getRotationPoint(!0),!0),useSketch:!1})),Ht._drawer.blendSketch({opacity:Ht.opacity,scale:Kt,translate:ln,compositeOperation:Ht.compositeOperation,bounds:wn}),Kt&&(Ht.getRotation(!0)%360!==0&&Ht._drawer._restoreRotationChanges(!1),Ht.viewport.degrees!==0&&Ht._drawer._restoreRotationChanges(!1))),Kt||Ht.viewport.degrees===0&&Ht.getRotation(!0)%360===0&&Ht._drawer.viewer.viewport.getFlip()&&Ht._drawer._flip(),Xt(Ht,Qt)}}function Xt(Ht,Qt){if(Ht.debugMode)for(var Zt=Qt.length-1;Zt>=0;Zt--){var nn=Qt[Zt];try{Ht._drawer.drawDebugInfo(nn,Qt.length,Zt,Ht)}catch(Kt){nt.console.error(Kt)}}}}(OpenSeadragon),function(nt){var rt=function(st){nt.console.assert(st,"[TileCache.cacheTile] options is required"),nt.console.assert(st.tile,"[TileCache.cacheTile] options.tile is required"),nt.console.assert(st.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=st.tile,this.tiledImage=st.tiledImage},it=function(st){nt.console.assert(st,"[ImageRecord] options is required"),nt.console.assert(st.image,"[ImageRecord] options.image is required"),this._image=st.image,this._tiles=[]};it.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var st=document.createElement("canvas");st.width=this._image.width,st.height=this._image.height,this._renderedContext=st.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(st){nt.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=st},addTile:function(st){nt.console.assert(st,"[ImageRecord.addTile] tile is required"),this._tiles.push(st)},removeTile:function(st){for(var bt=0;bt<this._tiles.length;bt++)if(this._tiles[bt]===st){this._tiles.splice(bt,1);return}nt.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",st)},getTileCount:function(){return this._tiles.length}},nt.TileCache=function(st){st=st||{},this._maxImageCacheCount=st.maxImageCacheCount||nt.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},nt.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(st){nt.console.assert(st,"[TileCache.cacheTile] options is required"),nt.console.assert(st.tile,"[TileCache.cacheTile] options.tile is required"),nt.console.assert(st.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),nt.console.assert(st.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var bt=st.cutoff||0,wt=this._tilesLoaded.length,Et=this._imagesLoaded[st.tile.cacheKey];if(Et||(nt.console.assert(st.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),Et=this._imagesLoaded[st.tile.cacheKey]=new it({image:st.image}),this._imagesLoadedCount++),Et.addTile(st.tile),st.tile.cacheImageRecord=Et,this._imagesLoadedCount>this._maxImageCacheCount){for(var Tt=null,At=-1,Dt=null,Ot,zt,$t,Bt,Yt,Xt,Ht=this._tilesLoaded.length-1;Ht>=0;Ht--)if(Xt=this._tilesLoaded[Ht],Ot=Xt.tile,!(Ot.level<=bt||Ot.beingDrawn)){if(!Tt){Tt=Ot,At=Ht,Dt=Xt;continue}Bt=Ot.lastTouchTime,zt=Tt.lastTouchTime,Yt=Ot.level,$t=Tt.level,(Bt<zt||Bt==zt&&Yt>$t)&&(Tt=Ot,At=Ht,Dt=Xt)}Tt&&At>=0&&(this._unloadTile(Dt),wt=At)}this._tilesLoaded[wt]=new rt({tile:st.tile,tiledImage:st.tiledImage})},clearTilesFor:function(st){nt.console.assert(st,"[TileCache.clearTilesFor] tiledImage is required");for(var bt,wt=0;wt<this._tilesLoaded.length;++wt)bt=this._tilesLoaded[wt],bt.tiledImage===st&&(this._unloadTile(bt),this._tilesLoaded.splice(wt,1),wt--)},getImageRecord:function(st){return nt.console.assert(st,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[st]},_unloadTile:function(st){nt.console.assert(st,"[TileCache._unloadTile] tileRecord is required");var bt=st.tile,wt=st.tiledImage;bt.unload(),bt.cacheImageRecord=null;var Et=this._imagesLoaded[bt.cacheKey];Et.removeTile(bt),Et.getTileCount()||(Et.destroy(),delete this._imagesLoaded[bt.cacheKey],this._imagesLoadedCount--),wt.viewer.raiseEvent("tile-unloaded",{tile:bt,tiledImage:wt})}}}(OpenSeadragon),function(nt){nt.World=function(rt){var it=this;nt.console.assert(rt.viewer,"[World] options.viewer is required"),nt.EventSource.call(this),this.viewer=rt.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(st){it._autoRefigureSizes?it._figureSizes():it._needsSizesFigured=!0},this._figureSizes()},nt.extend(nt.World.prototype,nt.EventSource.prototype,{addItem:function(rt,it){if(nt.console.assert(rt,"[World.addItem] item is required"),nt.console.assert(rt instanceof nt.TiledImage,"[World.addItem] only TiledImages supported at this time"),it=it||{},it.index!==void 0){var st=Math.max(0,Math.min(this._items.length,it.index));this._items.splice(st,0,rt)}else this._items.push(rt);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,rt.addHandler("bounds-change",this._delegatedFigureSizes),rt.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:rt})},getItemAt:function(rt){return nt.console.assert(rt!==void 0,"[World.getItemAt] index is required"),this._items[rt]},getIndexOfItem:function(rt){return nt.console.assert(rt,"[World.getIndexOfItem] item is required"),nt.indexOf(this._items,rt)},getItemCount:function(){return this._items.length},setItemIndex:function(rt,it){nt.console.assert(rt,"[World.setItemIndex] item is required"),nt.console.assert(it!==void 0,"[World.setItemIndex] index is required");var st=this.getIndexOfItem(rt);if(it>=this._items.length)throw new Error("Index bigger than number of layers.");it===st||st===-1||(this._items.splice(st,1),this._items.splice(it,0,rt),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:rt,previousIndex:st,newIndex:it}))},removeItem:function(rt){nt.console.assert(rt,"[World.removeItem] item is required");var it=nt.indexOf(this._items,rt);it!==-1&&(rt.removeHandler("bounds-change",this._delegatedFigureSizes),rt.removeHandler("clip-change",this._delegatedFigureSizes),rt.destroy(),this._items.splice(it,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(rt))},removeAll:function(){this.viewer._cancelPendingImages();var rt,it;for(it=0;it<this._items.length;it++)rt=this._items[it],rt.removeHandler("bounds-change",this._delegatedFigureSizes),rt.removeHandler("clip-change",this._delegatedFigureSizes),rt.destroy();var st=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,it=0;it<st.length;it++)rt=st[it],this._raiseRemoveItem(rt)},resetItems:function(){for(var rt=0;rt<this._items.length;rt++)this._items[rt].reset()},update:function(){for(var rt=!1,it=0;it<this._items.length;it++)rt=this._items[it].update()||rt;return rt},draw:function(){for(var rt=0;rt<this._items.length;rt++)this._items[rt].draw();this._needsDraw=!1},needsDraw:function(){for(var rt=0;rt<this._items.length;rt++)if(this._items[rt].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(rt){this._autoRefigureSizes=rt,rt&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(rt){rt=rt||{};var it=rt.immediately||!1,st=rt.layout||nt.DEFAULT_SETTINGS.collectionLayout,bt=rt.rows||nt.DEFAULT_SETTINGS.collectionRows,wt=rt.columns||nt.DEFAULT_SETTINGS.collectionColumns,Et=rt.tileSize||nt.DEFAULT_SETTINGS.collectionTileSize,Tt=rt.tileMargin||nt.DEFAULT_SETTINGS.collectionTileMargin,At=Et+Tt,Dt;!rt.rows&&wt?Dt=wt:Dt=Math.ceil(this._items.length/bt);var Ot=0,zt=0,$t,Bt,Yt,Xt,Ht;this.setAutoRefigureSizes(!1);for(var Qt=0;Qt<this._items.length;Qt++)Qt&&Qt%Dt===0&&(st==="horizontal"?(zt+=At,Ot=0):(Ot+=At,zt=0)),$t=this._items[Qt],Bt=$t.getBounds(),Bt.width>Bt.height?Yt=Et:Yt=Et*(Bt.width/Bt.height),Xt=Yt*(Bt.height/Bt.width),Ht=new nt.Point(Ot+(Et-Yt)/2,zt+(Et-Xt)/2),$t.setPosition(Ht,it),$t.setWidth(Yt,it),st==="horizontal"?Ot+=At:zt+=At;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var rt=this._homeBounds?this._homeBounds.clone():null,it=this._contentSize?this._contentSize.clone():null,st=this._contentFactor||0;if(!this._items.length)this._homeBounds=new nt.Rect(0,0,1,1),this._contentSize=new nt.Point(1,1),this._contentFactor=1;else{var bt=this._items[0],wt=bt.getBounds();this._contentFactor=bt.getContentSize().x/wt.width;for(var Et=bt.getClippedBounds().getBoundingBox(),Tt=Et.x,At=Et.y,Dt=Et.x+Et.width,Ot=Et.y+Et.height,zt=1;zt<this._items.length;zt++)bt=this._items[zt],wt=bt.getBounds(),this._contentFactor=Math.max(this._contentFactor,bt.getContentSize().x/wt.width),Et=bt.getClippedBounds().getBoundingBox(),Tt=Math.min(Tt,Et.x),At=Math.min(At,Et.y),Dt=Math.max(Dt,Et.x+Et.width),Ot=Math.max(Ot,Et.y+Et.height);this._homeBounds=new nt.Rect(Tt,At,Dt-Tt,Ot-At),this._contentSize=new nt.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}(this._contentFactor!==st||!this._homeBounds.equals(rt)||!this._contentSize.equals(it))&&this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(rt){this.raiseEvent("remove-item",{item:rt})}})}(OpenSeadragon)}(openseadragon)),openseadragon.exports}var openseadragonExports=requireOpenseadragon(),openseadragonViewerinputhook={exports:{}};/*! @openseadragon-imaging/openseadragon-viewerinputhook 2.2.1 ab9b394 (clean)  @license MIT */(function(nt,rt){(function(it,st){nt.exports=st(requireOpenseadragon())})(window,function(it){return function(st){function bt(Et){if(wt[Et])return wt[Et].exports;var Tt=wt[Et]={i:Et,l:!1,exports:{}};return st[Et].call(Tt.exports,Tt,Tt.exports,bt),Tt.l=!0,Tt.exports}var wt={};return bt.m=st,bt.c=wt,bt.d=function(Et,Tt,At){bt.o(Et,Tt)||Object.defineProperty(Et,Tt,{enumerable:!0,get:At})},bt.r=function(Et){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Et,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Et,"__esModule",{value:!0})},bt.t=function(Et,Tt){if(1&Tt&&(Et=bt(Et)),8&Tt||4&Tt&&typeof Et=="object"&&Et&&Et.__esModule)return Et;var At=Object.create(null);if(bt.r(At),Object.defineProperty(At,"default",{enumerable:!0,value:Et}),2&Tt&&typeof Et!="string")for(var Dt in Et)bt.d(At,Dt,function(Ot){return Et[Ot]}.bind(null,Dt));return At},bt.n=function(Et){var Tt=Et&&Et.__esModule?function(){return Et.default}:function(){return Et};return bt.d(Tt,"a",Tt),Tt},bt.o=function(Et,Tt){return Object.prototype.hasOwnProperty.call(Et,Tt)},bt.p="",bt(bt.s=1)}([function(st){st.exports=it},function(st,bt,wt){wt.r(bt);var Et=wt(0),Tt=wt.n(Et);bt.default=function(At,Dt){if(!At.version||1>At.version.major)throw new Error("OpenSeadragonViewerInputHook requires OpenSeadragon version 1.0.0+");return At.Viewer.prototype.addViewerInputHook=function(Ot){return(Ot=Ot||{}).viewer=this,new Dt.ViewerInputHook(Ot)},Dt.ViewerInputHook=function(Ot){var zt,$t;for((Ot=Ot||{}).hooks=Ot.hooks||[],this.viewer=Ot.viewer||null,this.viewerTrackers={},this.hooks=[],this.viewer&&(this.viewerTrackers.viewer=this.viewer.innerTracker,this.viewerTrackers.viewer_outer=this.viewer.outerTracker),zt=0;zt<Ot.hooks.length;zt++){if(typeof Ot.hooks[zt].tracker=="string"){if(!this.viewer)throw new Error("A viewer must be specified.");if(($t=this.viewerTrackers[Ot.hooks[zt].tracker])===void 0)throw new Error("Unknown tracker specified: "+Ot.hooks[zt].tracker)}else $t=Ot.hooks[zt].tracker;this.hooks.push({tracker:$t,handlerName:Ot.hooks[zt].handler,origHandler:$t[Ot.hooks[zt].handler],hookHandler:Ot.hooks[zt].hookHandler}),function(Bt,Yt,Xt,Ht){var Qt=Yt[Xt];Yt[Xt]=function(Zt){return Bt._callHandlers(Ht,Qt,Zt)}}(this,$t,Ot.hooks[zt].handler,Ot.hooks[zt].hookHandler)}},Dt.ViewerInputHook.version={versionStr:"2.2.1",major:2,minor:2,revision:1},Dt.ViewerInputHook.prototype._callHandlers=function(Ot,zt,$t){var Bt=Ot($t);return zt&&!$t.stopHandlers&&(Bt=zt($t)),!$t.stopBubbling&&Bt},Dt.ViewerInputHook.prototype.destroy=function(){for(;0<this.hooks.length;){var Ot=this.hooks.pop();Ot.tracker[Ot.handlerName]=Ot.origHandler}this.viewer&&(delete this.viewerTrackers.viewer,delete this.viewerTrackers.viewer_outer,this.viewer=null)},Dt.ViewerInputHook}(Tt.a||window.OpenSeadragon,window.OpenSeadragonImaging=window.OpenSeadragonImaging||{})}]).default})})(openseadragonViewerinputhook);const OpenSeadragonViewerInputHook=getDefaultExportFromCjs(openseadragonViewerinputhook.exports);var openseadragonAnnotorious_min={exports:{}};(function(nt,rt){var it=Object.defineProperty,st=Object.defineProperties,bt=Object.getOwnPropertyDescriptors,wt=Object.getOwnPropertySymbols,Et=Object.prototype.hasOwnProperty,Tt=Object.prototype.propertyIsEnumerable,At=(Bt,Yt,Xt)=>Yt in Bt?it(Bt,Yt,{enumerable:!0,configurable:!0,writable:!0,value:Xt}):Bt[Yt]=Xt,Dt=(Bt,Yt)=>{for(var Xt in Yt||(Yt={}))Et.call(Yt,Xt)&&At(Bt,Xt,Yt[Xt]);if(wt)for(var Xt of wt(Yt))Tt.call(Yt,Xt)&&At(Bt,Xt,Yt[Xt]);return Bt},Ot=(Bt,Yt)=>st(Bt,bt(Yt)),zt=(Bt,Yt)=>{var Xt={};for(var Ht in Bt)Et.call(Bt,Ht)&&Yt.indexOf(Ht)<0&&(Xt[Ht]=Bt[Ht]);if(Bt!=null&&wt)for(var Ht of wt(Bt))Yt.indexOf(Ht)<0&&Tt.call(Bt,Ht)&&(Xt[Ht]=Bt[Ht]);return Xt},$t=(Bt,Yt,Xt)=>(At(Bt,typeof Yt!="symbol"?Yt+"":Yt,Xt),Xt);(function(Bt,Yt){nt.exports=Yt(requireOpenseadragon())})(commonjsGlobal$1,function(Bt){function Yt(Nt){return Nt&&typeof Nt=="object"&&"default"in Nt?Nt:{default:Nt}}var Xt=Yt(Bt),Ht,Qt,Zt,nn,Kt,ln,sn,bn={},wn=[],Mn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Sn(Nt,Pt){for(var jt in Pt)Nt[jt]=Pt[jt];return Nt}function Dn(Nt){var Pt=Nt.parentNode;Pt&&Pt.removeChild(Nt)}function gn(Nt,Pt,jt){var Ft,Gt,tn,fn={};for(tn in Pt)tn=="key"?Ft=Pt[tn]:tn=="ref"?Gt=Pt[tn]:fn[tn]=Pt[tn];if(arguments.length>2&&(fn.children=arguments.length>3?Ht.call(arguments,2):jt),typeof Nt=="function"&&Nt.defaultProps!=null)for(tn in Nt.defaultProps)fn[tn]===void 0&&(fn[tn]=Nt.defaultProps[tn]);return Un(Nt,fn,Ft,Gt,null)}function Un(Nt,Pt,jt,Ft,Gt){var tn={type:Nt,props:Pt,key:jt,ref:Ft,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Gt==null?++Zt:Gt};return Qt.vnode!=null&&Qt.vnode(tn),tn}function pn(){return{current:null}}function yr(Nt){return Nt.children}function xn(Nt,Pt){this.props=Nt,this.context=Pt}function Mr(Nt,Pt){if(Pt==null)return Nt.__?Mr(Nt.__,Nt.__.__k.indexOf(Nt)+1):null;for(var jt;Pt<Nt.__k.length;Pt++)if((jt=Nt.__k[Pt])!=null&&jt.__e!=null)return jt.__e;return typeof Nt.type=="function"?Mr(Nt):null}function fr(Nt){var Pt,jt;if((Nt=Nt.__)!=null&&Nt.__c!=null){for(Nt.__e=Nt.__c.base=null,Pt=0;Pt<Nt.__k.length;Pt++)if((jt=Nt.__k[Pt])!=null&&jt.__e!=null){Nt.__e=Nt.__c.base=jt.__e;break}return fr(Nt)}}function cr(Nt){(!Nt.__d&&(Nt.__d=!0)&&nn.push(Nt)&&!Gn.__r++||ln!==Qt.debounceRendering)&&((ln=Qt.debounceRendering)||Kt)(Gn)}function Gn(){for(var Nt;Gn.__r=nn.length;)Nt=nn.sort(function(Pt,jt){return Pt.__v.__b-jt.__v.__b}),nn=[],Nt.some(function(Pt){var jt,Ft,Gt,tn,fn,Cn;Pt.__d&&(fn=(tn=(jt=Pt).__v).__e,(Cn=jt.__P)&&(Ft=[],(Gt=Sn({},tn)).__v=tn.__v+1,br(Cn,tn,Gt,jt.__n,Cn.ownerSVGElement!==void 0,tn.__h!=null?[fn]:null,Ft,fn==null?Mr(tn):fn,tn.__h),hr(Ft,tn),tn.__e!=fn&&fr(tn)))})}function lr(Nt,Pt,jt,Ft,Gt,tn,fn,Cn,Fn,Hn){var jn,Sr,$r,Yr,si,ki,Mi,Vi=Ft&&Ft.__k||wn,Ki=Vi.length;for(jt.__k=[],jn=0;jn<Pt.length;jn++)if((Yr=jt.__k[jn]=(Yr=Pt[jn])==null||typeof Yr=="boolean"?null:typeof Yr=="string"||typeof Yr=="number"||typeof Yr=="bigint"?Un(null,Yr,null,null,Yr):Array.isArray(Yr)?Un(yr,{children:Yr},null,null,null):Yr.__b>0?Un(Yr.type,Yr.props,Yr.key,null,Yr.__v):Yr)!=null){if(Yr.__=jt,Yr.__b=jt.__b+1,($r=Vi[jn])===null||$r&&Yr.key==$r.key&&Yr.type===$r.type)Vi[jn]=void 0;else for(Sr=0;Sr<Ki;Sr++){if(($r=Vi[Sr])&&Yr.key==$r.key&&Yr.type===$r.type){Vi[Sr]=void 0;break}$r=null}br(Nt,Yr,$r=$r||bn,Gt,tn,fn,Cn,Fn,Hn),si=Yr.__e,(Sr=Yr.ref)&&$r.ref!=Sr&&(Mi||(Mi=[]),$r.ref&&Mi.push($r.ref,null,Yr),Mi.push(Sr,Yr.__c||si,Yr)),si!=null?(ki==null&&(ki=si),typeof Yr.type=="function"&&Yr.__k!=null&&Yr.__k===$r.__k?Yr.__d=Fn=ur(Yr,Fn,Nt):Fn=Ir(Nt,Yr,$r,Vi,si,Fn),Hn||jt.type!=="option"?typeof jt.type=="function"&&(jt.__d=Fn):Nt.value=""):Fn&&$r.__e==Fn&&Fn.parentNode!=Nt&&(Fn=Mr($r))}for(jt.__e=ki,jn=Ki;jn--;)Vi[jn]!=null&&(typeof jt.type=="function"&&Vi[jn].__e!=null&&Vi[jn].__e==jt.__d&&(jt.__d=Mr(Ft,jn+1)),vn(Vi[jn],Vi[jn]));if(Mi)for(jn=0;jn<Mi.length;jn++)rn(Mi[jn],Mi[++jn],Mi[++jn])}function ur(Nt,Pt,jt){var Ft,Gt;for(Ft=0;Ft<Nt.__k.length;Ft++)(Gt=Nt.__k[Ft])&&(Gt.__=Nt,Pt=typeof Gt.type=="function"?ur(Gt,Pt,jt):Ir(jt,Gt,Gt,Nt.__k,Gt.__e,Pt));return Pt}function vr(Nt,Pt){return Pt=Pt||[],Nt==null||typeof Nt=="boolean"||(Array.isArray(Nt)?Nt.some(function(jt){vr(jt,Pt)}):Pt.push(Nt)),Pt}function Ir(Nt,Pt,jt,Ft,Gt,tn){var fn,Cn,Fn;if(Pt.__d!==void 0)fn=Pt.__d,Pt.__d=void 0;else if(jt==null||Gt!=tn||Gt.parentNode==null)e:if(tn==null||tn.parentNode!==Nt)Nt.appendChild(Gt),fn=null;else{for(Cn=tn,Fn=0;(Cn=Cn.nextSibling)&&Fn<Ft.length;Fn+=2)if(Cn==Gt)break e;Nt.insertBefore(Gt,tn),fn=tn}return fn!==void 0?fn:Gt.nextSibling}function Pr(Nt,Pt,jt,Ft,Gt){var tn;for(tn in jt)tn==="children"||tn==="key"||tn in Pt||tr(Nt,tn,null,jt[tn],Ft);for(tn in Pt)Gt&&typeof Pt[tn]!="function"||tn==="children"||tn==="key"||tn==="value"||tn==="checked"||jt[tn]===Pt[tn]||tr(Nt,tn,Pt[tn],jt[tn],Ft)}function _r(Nt,Pt,jt){Pt[0]==="-"?Nt.setProperty(Pt,jt):Nt[Pt]=jt==null?"":typeof jt!="number"||Mn.test(Pt)?jt:jt+"px"}function tr(Nt,Pt,jt,Ft,Gt){var tn;e:if(Pt==="style")if(typeof jt=="string")Nt.style.cssText=jt;else{if(typeof Ft=="string"&&(Nt.style.cssText=Ft=""),Ft)for(Pt in Ft)jt&&Pt in jt||_r(Nt.style,Pt,"");if(jt)for(Pt in jt)Ft&&jt[Pt]===Ft[Pt]||_r(Nt.style,Pt,jt[Pt])}else if(Pt[0]==="o"&&Pt[1]==="n")tn=Pt!==(Pt=Pt.replace(/Capture$/,"")),Pt=Pt.toLowerCase()in Nt?Pt.toLowerCase().slice(2):Pt.slice(2),Nt.l||(Nt.l={}),Nt.l[Pt+tn]=jt,jt?Ft||Nt.addEventListener(Pt,tn?mr:qn,tn):Nt.removeEventListener(Pt,tn?mr:qn,tn);else if(Pt!=="dangerouslySetInnerHTML"){if(Gt)Pt=Pt.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Pt!=="href"&&Pt!=="list"&&Pt!=="form"&&Pt!=="tabIndex"&&Pt!=="download"&&Pt in Nt)try{Nt[Pt]=jt==null?"":jt;break e}catch{}typeof jt=="function"||(jt!=null&&(jt!==!1||Pt[0]==="a"&&Pt[1]==="r")?Nt.setAttribute(Pt,jt):Nt.removeAttribute(Pt))}}function qn(Nt){this.l[Nt.type+!1](Qt.event?Qt.event(Nt):Nt)}function mr(Nt){this.l[Nt.type+!0](Qt.event?Qt.event(Nt):Nt)}function br(Nt,Pt,jt,Ft,Gt,tn,fn,Cn,Fn){var Hn,jn,Sr,$r,Yr,si,ki,Mi,Vi,Ki,Ko,Uo=Pt.type;if(Pt.constructor!==void 0)return null;jt.__h!=null&&(Fn=jt.__h,Cn=Pt.__e=jt.__e,Pt.__h=null,tn=[Cn]),(Hn=Qt.__b)&&Hn(Pt);try{e:if(typeof Uo=="function"){if(Mi=Pt.props,Vi=(Hn=Uo.contextType)&&Ft[Hn.__c],Ki=Hn?Vi?Vi.props.value:Hn.__:Ft,jt.__c?ki=(jn=Pt.__c=jt.__c).__=jn.__E:("prototype"in Uo&&Uo.prototype.render?Pt.__c=jn=new Uo(Mi,Ki):(Pt.__c=jn=new xn(Mi,Ki),jn.constructor=Uo,jn.render=hn),Vi&&Vi.sub(jn),jn.props=Mi,jn.state||(jn.state={}),jn.context=Ki,jn.__n=Ft,Sr=jn.__d=!0,jn.__h=[]),jn.__s==null&&(jn.__s=jn.state),Uo.getDerivedStateFromProps!=null&&(jn.__s==jn.state&&(jn.__s=Sn({},jn.__s)),Sn(jn.__s,Uo.getDerivedStateFromProps(Mi,jn.__s))),$r=jn.props,Yr=jn.state,Sr)Uo.getDerivedStateFromProps==null&&jn.componentWillMount!=null&&jn.componentWillMount(),jn.componentDidMount!=null&&jn.__h.push(jn.componentDidMount);else{if(Uo.getDerivedStateFromProps==null&&Mi!==$r&&jn.componentWillReceiveProps!=null&&jn.componentWillReceiveProps(Mi,Ki),!jn.__e&&jn.shouldComponentUpdate!=null&&jn.shouldComponentUpdate(Mi,jn.__s,Ki)===!1||Pt.__v===jt.__v){jn.props=Mi,jn.state=jn.__s,Pt.__v!==jt.__v&&(jn.__d=!1),jn.__v=Pt,Pt.__e=jt.__e,Pt.__k=jt.__k,Pt.__k.forEach(function(Oo){Oo&&(Oo.__=Pt)}),jn.__h.length&&fn.push(jn);break e}jn.componentWillUpdate!=null&&jn.componentWillUpdate(Mi,jn.__s,Ki),jn.componentDidUpdate!=null&&jn.__h.push(function(){jn.componentDidUpdate($r,Yr,si)})}jn.context=Ki,jn.props=Mi,jn.state=jn.__s,(Hn=Qt.__r)&&Hn(Pt),jn.__d=!1,jn.__v=Pt,jn.__P=Nt,Hn=jn.render(jn.props,jn.state,jn.context),jn.state=jn.__s,jn.getChildContext!=null&&(Ft=Sn(Sn({},Ft),jn.getChildContext())),Sr||jn.getSnapshotBeforeUpdate==null||(si=jn.getSnapshotBeforeUpdate($r,Yr)),Ko=Hn!=null&&Hn.type===yr&&Hn.key==null?Hn.props.children:Hn,lr(Nt,Array.isArray(Ko)?Ko:[Ko],Pt,jt,Ft,Gt,tn,fn,Cn,Fn),jn.base=Pt.__e,Pt.__h=null,jn.__h.length&&fn.push(jn),ki&&(jn.__E=jn.__=null),jn.__e=!1}else tn==null&&Pt.__v===jt.__v?(Pt.__k=jt.__k,Pt.__e=jt.__e):Pt.__e=An(jt.__e,Pt,jt,Ft,Gt,tn,fn,Fn);(Hn=Qt.diffed)&&Hn(Pt)}catch(Oo){Pt.__v=null,(Fn||tn!=null)&&(Pt.__e=Cn,Pt.__h=!!Fn,tn[tn.indexOf(Cn)]=null),Qt.__e(Oo,Pt,jt)}}function hr(Nt,Pt){Qt.__c&&Qt.__c(Pt,Nt),Nt.some(function(jt){try{Nt=jt.__h,jt.__h=[],Nt.some(function(Ft){Ft.call(jt)})}catch(Ft){Qt.__e(Ft,jt.__v)}})}function An(Nt,Pt,jt,Ft,Gt,tn,fn,Cn){var Fn,Hn,jn,Sr=jt.props,$r=Pt.props,Yr=Pt.type,si=0;if(Yr==="svg"&&(Gt=!0),tn!=null){for(;si<tn.length;si++)if((Fn=tn[si])&&(Fn===Nt||(Yr?Fn.localName==Yr:Fn.nodeType==3))){Nt=Fn,tn[si]=null;break}}if(Nt==null){if(Yr===null)return document.createTextNode($r);Nt=Gt?document.createElementNS("http://www.w3.org/2000/svg",Yr):document.createElement(Yr,$r.is&&$r),tn=null,Cn=!1}if(Yr===null)Sr===$r||Cn&&Nt.data===$r||(Nt.data=$r);else{if(tn=tn&&Ht.call(Nt.childNodes),Hn=(Sr=jt.props||bn).dangerouslySetInnerHTML,jn=$r.dangerouslySetInnerHTML,!Cn){if(tn!=null)for(Sr={},si=0;si<Nt.attributes.length;si++)Sr[Nt.attributes[si].name]=Nt.attributes[si].value;(jn||Hn)&&(jn&&(Hn&&jn.__html==Hn.__html||jn.__html===Nt.innerHTML)||(Nt.innerHTML=jn&&jn.__html||""))}if(Pr(Nt,$r,Sr,Gt,Cn),jn)Pt.__k=[];else if(si=Pt.props.children,lr(Nt,Array.isArray(si)?si:[si],Pt,jt,Ft,Gt&&Yr!=="foreignObject",tn,fn,tn?tn[0]:jt.__k&&Mr(jt,0),Cn),tn!=null)for(si=tn.length;si--;)tn[si]!=null&&Dn(tn[si]);Cn||("value"in $r&&(si=$r.value)!==void 0&&(si!==Nt.value||Yr==="progress"&&!si)&&tr(Nt,"value",si,Sr.value,!1),"checked"in $r&&(si=$r.checked)!==void 0&&si!==Nt.checked&&tr(Nt,"checked",si,Sr.checked,!1))}return Nt}function rn(Nt,Pt,jt){try{typeof Nt=="function"?Nt(Pt):Nt.current=Pt}catch(Ft){Qt.__e(Ft,jt)}}function vn(Nt,Pt,jt){var Ft,Gt;if(Qt.unmount&&Qt.unmount(Nt),(Ft=Nt.ref)&&(Ft.current&&Ft.current!==Nt.__e||rn(Ft,null,Pt)),(Ft=Nt.__c)!=null){if(Ft.componentWillUnmount)try{Ft.componentWillUnmount()}catch(tn){Qt.__e(tn,Pt)}Ft.base=Ft.__P=null}if(Ft=Nt.__k)for(Gt=0;Gt<Ft.length;Gt++)Ft[Gt]&&vn(Ft[Gt],Pt,typeof Nt.type!="function");jt||Nt.__e==null||Dn(Nt.__e),Nt.__e=Nt.__d=void 0}function hn(Nt,Pt,jt){return this.constructor(Nt,jt)}function zn(Nt,Pt,jt){var Ft,Gt,tn;Qt.__&&Qt.__(Nt,Pt),Gt=(Ft=typeof jt=="function")?null:jt&&jt.__k||Pt.__k,tn=[],br(Pt,Nt=(!Ft&&jt||Pt).__k=gn(yr,null,[Nt]),Gt||bn,bn,Pt.ownerSVGElement!==void 0,!Ft&&jt?[jt]:Gt?null:Pt.firstChild?Ht.call(Pt.childNodes):null,tn,!Ft&&jt?jt:Gt?Gt.__e:Pt.firstChild,Ft),hr(tn,Nt)}function On(Nt,Pt){zn(Nt,Pt,On)}function Er(Nt,Pt,jt){var Ft,Gt,tn,fn=Sn({},Nt.props);for(tn in Pt)tn=="key"?Ft=Pt[tn]:tn=="ref"?Gt=Pt[tn]:fn[tn]=Pt[tn];return arguments.length>2&&(fn.children=arguments.length>3?Ht.call(arguments,2):jt),Un(Nt.type,fn,Ft||Nt.key,Gt||Nt.ref,null)}function Rn(Nt,Pt){var jt={__c:Pt="__cC"+sn++,__:Nt,Consumer:function(Ft,Gt){return Ft.children(Gt)},Provider:function(Ft){var Gt,tn;return this.getChildContext||(Gt=[],(tn={})[Pt]=this,this.getChildContext=function(){return tn},this.shouldComponentUpdate=function(fn){this.props.value!==fn.value&&Gt.some(cr)},this.sub=function(fn){Gt.push(fn);var Cn=fn.componentWillUnmount;fn.componentWillUnmount=function(){Gt.splice(Gt.indexOf(fn),1),Cn&&Cn.call(fn)}}),Ft.children}};return jt.Provider.__=jt.Consumer.contextType=jt}Ht=wn.slice,Qt={__e:function(Nt,Pt){for(var jt,Ft,Gt;Pt=Pt.__;)if((jt=Pt.__c)&&!jt.__)try{if((Ft=jt.constructor)&&Ft.getDerivedStateFromError!=null&&(jt.setState(Ft.getDerivedStateFromError(Nt)),Gt=jt.__d),jt.componentDidCatch!=null&&(jt.componentDidCatch(Nt),Gt=jt.__d),Gt)return jt.__E=jt}catch(tn){Nt=tn}throw Nt}},Zt=0,xn.prototype.setState=function(Nt,Pt){var jt;jt=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Sn({},this.state),typeof Nt=="function"&&(Nt=Nt(Sn({},jt),this.props)),Nt&&Sn(jt,Nt),Nt!=null&&this.__v&&(Pt&&this.__h.push(Pt),cr(this))},xn.prototype.forceUpdate=function(Nt){this.__v&&(this.__e=!0,Nt&&this.__h.push(Nt),cr(this))},xn.prototype.render=yr,nn=[],Kt=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Gn.__r=0,sn=0;var rr,Kn,gr,xr=0,Lr=[],Cr=Qt.__b,Ar=Qt.__r,mi=Qt.diffed,vi=Qt.__c,xi=Qt.unmount;function Ci(Nt,Pt){Qt.__h&&Qt.__h(Kn,Nt,xr||Pt),xr=0;var jt=Kn.__H||(Kn.__H={__:[],__h:[]});return Nt>=jt.__.length&&jt.__.push({}),jt.__[Nt]}function Ei(Nt){return xr=1,Bi(Li,Nt)}function Bi(Nt,Pt,jt){var Ft=Ci(rr++,2);return Ft.t=Nt,Ft.__c||(Ft.__=[jt?jt(Pt):Li(void 0,Pt),function(Gt){var tn=Ft.t(Ft.__[0],Gt);Ft.__[0]!==tn&&(Ft.__=[tn,Ft.__[1]],Ft.__c.setState({}))}],Ft.__c=Kn),Ft.__}function Ai(Nt,Pt){var jt=Ci(rr++,3);!Qt.__s&&Ri(jt.__H,Pt)&&(jt.__=Nt,jt.__H=Pt,Kn.__H.__h.push(jt))}function Fr(Nt,Pt){var jt=Ci(rr++,4);!Qt.__s&&Ri(jt.__H,Pt)&&(jt.__=Nt,jt.__H=Pt,Kn.__h.push(jt))}function Ln(Nt){return xr=5,er(function(){return{current:Nt}},[])}function Nn(Nt,Pt,jt){xr=6,Fr(function(){typeof Nt=="function"?Nt(Pt()):Nt&&(Nt.current=Pt())},jt==null?jt:jt.concat(Nt))}function er(Nt,Pt){var jt=Ci(rr++,7);return Ri(jt.__H,Pt)&&(jt.__=Nt(),jt.__H=Pt,jt.__h=Nt),jt.__}function sr(Nt,Pt){return xr=8,er(function(){return Nt},Pt)}function Nr(Nt){var Pt=Kn.context[Nt.__c],jt=Ci(rr++,9);return jt.c=Nt,Pt?(jt.__==null&&(jt.__=!0,Pt.sub(Kn)),Pt.props.value):Nt.__}function Jr(Nt,Pt){Qt.useDebugValue&&Qt.useDebugValue(Pt?Pt(Nt):Nt)}function Dr(Nt){var Pt=Ci(rr++,10),jt=Ei();return Pt.__=Nt,Kn.componentDidCatch||(Kn.componentDidCatch=function(Ft){Pt.__&&Pt.__(Ft),jt[1](Ft)}),[jt[0],function(){jt[1](void 0)}]}function yi(){Lr.forEach(function(Nt){if(Nt.__P)try{Nt.__H.__h.forEach(Si),Nt.__H.__h.forEach(Ni),Nt.__H.__h=[]}catch(Pt){Nt.__H.__h=[],Qt.__e(Pt,Nt.__v)}}),Lr=[]}Qt.__b=function(Nt){Kn=null,Cr&&Cr(Nt)},Qt.__r=function(Nt){Ar&&Ar(Nt),rr=0;var Pt=(Kn=Nt.__c).__H;Pt&&(Pt.__h.forEach(Si),Pt.__h.forEach(Ni),Pt.__h=[])},Qt.diffed=function(Nt){mi&&mi(Nt);var Pt=Nt.__c;Pt&&Pt.__H&&Pt.__H.__h.length&&(Lr.push(Pt)!==1&&gr===Qt.requestAnimationFrame||((gr=Qt.requestAnimationFrame)||function(jt){var Ft,Gt=function(){clearTimeout(tn),Br&&cancelAnimationFrame(Ft),setTimeout(jt)},tn=setTimeout(Gt,100);Br&&(Ft=requestAnimationFrame(Gt))})(yi)),Kn=void 0},Qt.__c=function(Nt,Pt){Pt.some(function(jt){try{jt.__h.forEach(Si),jt.__h=jt.__h.filter(function(Ft){return!Ft.__||Ni(Ft)})}catch(Ft){Pt.some(function(Gt){Gt.__h&&(Gt.__h=[])}),Pt=[],Qt.__e(Ft,jt.__v)}}),vi&&vi(Nt,Pt)},Qt.unmount=function(Nt){xi&&xi(Nt);var Pt=Nt.__c;if(Pt&&Pt.__H)try{Pt.__H.__.forEach(Si)}catch(jt){Qt.__e(jt,Pt.__v)}};var Br=typeof requestAnimationFrame=="function";function Si(Nt){var Pt=Kn;typeof Nt.__c=="function"&&Nt.__c(),Kn=Pt}function Ni(Nt){var Pt=Kn;Nt.__c=Nt.__(),Kn=Pt}function Ri(Nt,Pt){return!Nt||Nt.length!==Pt.length||Pt.some(function(jt,Ft){return jt!==Nt[Ft]})}function Li(Nt,Pt){return typeof Pt=="function"?Pt(Nt):Pt}function eo(Nt,Pt){for(var jt in Pt)Nt[jt]=Pt[jt];return Nt}function Ui(Nt,Pt){for(var jt in Nt)if(jt!=="__source"&&!(jt in Pt))return!0;for(var Ft in Pt)if(Ft!=="__source"&&Nt[Ft]!==Pt[Ft])return!0;return!1}function oo(Nt){this.props=Nt}function wo(Nt,Pt){function jt(Gt){var tn=this.props.ref,fn=tn==Gt.ref;return!fn&&tn&&(tn.call?tn(null):tn.current=null),Pt?!Pt(this.props,Gt)||!fn:Ui(this.props,Gt)}function Ft(Gt){return this.shouldComponentUpdate=jt,gn(Nt,Gt)}return Ft.displayName="Memo("+(Nt.displayName||Nt.name)+")",Ft.prototype.isReactComponent=!0,Ft.__f=!0,Ft}(oo.prototype=new xn).isPureReactComponent=!0,oo.prototype.shouldComponentUpdate=function(Nt,Pt){return Ui(this.props,Nt)||Ui(this.state,Pt)};var uo=Qt.__b;Qt.__b=function(Nt){Nt.type&&Nt.type.__f&&Nt.ref&&(Nt.props.ref=Nt.ref,Nt.ref=null),uo&&uo(Nt)};var Cs=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Za(Nt){function Pt(jt,Ft){var Gt=eo({},jt);return delete Gt.ref,Nt(Gt,(Ft=jt.ref||Ft)&&(typeof Ft!="object"||"current"in Ft)?Ft:null)}return Pt.$$typeof=Cs,Pt.render=Pt,Pt.prototype.isReactComponent=Pt.__f=!0,Pt.displayName="ForwardRef("+(Nt.displayName||Nt.name)+")",Pt}var ji=function(Nt,Pt){return Nt==null?null:vr(vr(Nt).map(Pt))},lo={map:ji,forEach:ji,count:function(Nt){return Nt?vr(Nt).length:0},only:function(Nt){var Pt=vr(Nt);if(Pt.length!==1)throw"Children.only";return Pt[0]},toArray:vr},Va=Qt.__e;Qt.__e=function(Nt,Pt,jt){if(Nt.then){for(var Ft,Gt=Pt;Gt=Gt.__;)if((Ft=Gt.__c)&&Ft.__c)return Pt.__e==null&&(Pt.__e=jt.__e,Pt.__k=jt.__k),Ft.__c(Nt,Pt)}Va(Nt,Pt,jt)};var Ti=Qt.unmount;function ca(){this.__u=0,this.t=null,this.__b=null}function Sa(Nt){var Pt=Nt.__.__c;return Pt&&Pt.__e&&Pt.__e(Nt)}function Ya(Nt){var Pt,jt,Ft;function Gt(tn){if(Pt||(Pt=Nt()).then(function(fn){jt=fn.default||fn},function(fn){Ft=fn}),Ft)throw Ft;if(!jt)throw Pt;return gn(jt,tn)}return Gt.displayName="Lazy",Gt.__f=!0,Gt}function Hr(){this.u=null,this.o=null}Qt.unmount=function(Nt){var Pt=Nt.__c;Pt&&Pt.__R&&Pt.__R(),Pt&&Nt.__h===!0&&(Nt.type=null),Ti&&Ti(Nt)},(ca.prototype=new xn).__c=function(Nt,Pt){var jt=Pt.__c,Ft=this;Ft.t==null&&(Ft.t=[]),Ft.t.push(jt);var Gt=Sa(Ft.__v),tn=!1,fn=function(){tn||(tn=!0,jt.__R=null,Gt?Gt(Cn):Cn())};jt.__R=fn;var Cn=function(){if(!--Ft.__u){if(Ft.state.__e){var Hn=Ft.state.__e;Ft.__v.__k[0]=function Sr($r,Yr,si){return $r&&($r.__v=null,$r.__k=$r.__k&&$r.__k.map(function(ki){return Sr(ki,Yr,si)}),$r.__c&&$r.__c.__P===Yr&&($r.__e&&si.insertBefore($r.__e,$r.__d),$r.__c.__e=!0,$r.__c.__P=si)),$r}(Hn,Hn.__c.__P,Hn.__c.__O)}var jn;for(Ft.setState({__e:Ft.__b=null});jn=Ft.t.pop();)jn.forceUpdate()}},Fn=Pt.__h===!0;Ft.__u++||Fn||Ft.setState({__e:Ft.__b=Ft.__v.__k[0]}),Nt.then(fn,fn)},ca.prototype.componentWillUnmount=function(){this.t=[]},ca.prototype.render=function(Nt,Pt){if(this.__b){if(this.__v.__k){var jt=document.createElement("div"),Ft=this.__v.__k[0].__c;this.__v.__k[0]=function tn(fn,Cn,Fn){return fn&&(fn.__c&&fn.__c.__H&&(fn.__c.__H.__.forEach(function(Hn){typeof Hn.__c=="function"&&Hn.__c()}),fn.__c.__H=null),(fn=eo({},fn)).__c!=null&&(fn.__c.__P===Fn&&(fn.__c.__P=Cn),fn.__c=null),fn.__k=fn.__k&&fn.__k.map(function(Hn){return tn(Hn,Cn,Fn)})),fn}(this.__b,jt,Ft.__O=Ft.__P)}this.__b=null}var Gt=Pt.__e&&gn(yr,null,Nt.fallback);return Gt&&(Gt.__h=null),[gn(yr,null,Pt.__e?null:Nt.children),Gt]};var ii=function(Nt,Pt,jt){if(++jt[1]===jt[0]&&Nt.o.delete(Pt),Nt.props.revealOrder&&(Nt.props.revealOrder[0]!=="t"||!Nt.o.size))for(jt=Nt.u;jt;){for(;jt.length>3;)jt.pop()();if(jt[1]<jt[0])break;Nt.u=jt=jt[2]}};function Ur(Nt){return this.getChildContext=function(){return Nt.context},Nt.children}function Tr(Nt){var Pt=this,jt=Nt.i;Pt.componentWillUnmount=function(){zn(null,Pt.l),Pt.l=null,Pt.i=null},Pt.i&&Pt.i!==jt&&Pt.componentWillUnmount(),Nt.__v?(Pt.l||(Pt.i=jt,Pt.l={nodeType:1,parentNode:jt,childNodes:[],appendChild:function(Ft){this.childNodes.push(Ft),Pt.i.appendChild(Ft)},insertBefore:function(Ft,Gt){this.childNodes.push(Ft),Pt.i.appendChild(Ft)},removeChild:function(Ft){this.childNodes.splice(this.childNodes.indexOf(Ft)>>>1,1),Pt.i.removeChild(Ft)}}),zn(gn(Ur,{context:Pt.context},Nt.__v),Pt.l)):Pt.l&&Pt.componentWillUnmount()}function Zr(Nt,Pt){return gn(Tr,{__v:Nt,i:Pt})}(Hr.prototype=new xn).__e=function(Nt){var Pt=this,jt=Sa(Pt.__v),Ft=Pt.o.get(Nt);return Ft[0]++,function(Gt){var tn=function(){Pt.props.revealOrder?(Ft.push(Gt),ii(Pt,Nt,Ft)):Gt()};jt?jt(tn):tn()}},Hr.prototype.render=function(Nt){this.u=null,this.o=new Map;var Pt=vr(Nt.children);Nt.revealOrder&&Nt.revealOrder[0]==="b"&&Pt.reverse();for(var jt=Pt.length;jt--;)this.o.set(Pt[jt],this.u=[1,0,this.u]);return Nt.children},Hr.prototype.componentDidUpdate=Hr.prototype.componentDidMount=function(){var Nt=this;this.o.forEach(function(Pt,jt){ii(Nt,jt,Pt)})};var bi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Ii=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,zo=function(Nt){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(Nt)};function Eo(Nt,Pt,jt){return Pt.__k==null&&(Pt.textContent=""),zn(Nt,Pt),typeof jt=="function"&&jt(),Nt?Nt.__c:null}function oa(Nt,Pt,jt){return On(Nt,Pt),typeof jt=="function"&&jt(),Nt?Nt.__c:null}xn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(Nt){Object.defineProperty(xn.prototype,Nt,{configurable:!0,get:function(){return this["UNSAFE_"+Nt]},set:function(Pt){Object.defineProperty(this,Nt,{configurable:!0,writable:!0,value:Pt})}})});var mo=Qt.event;function $o(){}function Ja(){return this.cancelBubble}function ys(){return this.defaultPrevented}Qt.event=function(Nt){return mo&&(Nt=mo(Nt)),Nt.persist=$o,Nt.isPropagationStopped=Ja,Nt.isDefaultPrevented=ys,Nt.nativeEvent=Nt};var vs,Zi={configurable:!0,get:function(){return this.class}},bo=Qt.vnode;Qt.vnode=function(Nt){var Pt=Nt.type,jt=Nt.props,Ft=jt;if(typeof Pt=="string"){for(var Gt in Ft={},jt){var tn=jt[Gt];Gt==="value"&&"defaultValue"in jt&&tn==null||(Gt==="defaultValue"&&"value"in jt&&jt.value==null?Gt="value":Gt==="download"&&tn===!0?tn="":/ondoubleclick/i.test(Gt)?Gt="ondblclick":/^onchange(textarea|input)/i.test(Gt+Pt)&&!zo(jt.type)?Gt="oninput":/^on(Ani|Tra|Tou|BeforeInp)/.test(Gt)?Gt=Gt.toLowerCase():Ii.test(Gt)?Gt=Gt.replace(/[A-Z0-9]/,"-$&").toLowerCase():tn===null&&(tn=void 0),Ft[Gt]=tn)}Pt=="select"&&Ft.multiple&&Array.isArray(Ft.value)&&(Ft.value=vr(jt.children).forEach(function(fn){fn.props.selected=Ft.value.indexOf(fn.props.value)!=-1})),Pt=="select"&&Ft.defaultValue!=null&&(Ft.value=vr(jt.children).forEach(function(fn){fn.props.selected=Ft.multiple?Ft.defaultValue.indexOf(fn.props.value)!=-1:Ft.defaultValue==fn.props.value})),Nt.props=Ft}Pt&&jt.class!=jt.className&&(Zi.enumerable="className"in jt,jt.className!=null&&(Ft.class=jt.className),Object.defineProperty(Ft,"className",Zi)),Nt.$$typeof=bi,bo&&bo(Nt)};var ho=Qt.__r;Qt.__r=function(Nt){ho&&ho(Nt),vs=Nt.__c};var Fi={ReactCurrentDispatcher:{current:{readContext:function(Nt){return vs.__n[Nt.__c].props.value}}}},_o="17.0.2";function Or(Nt){return gn.bind(null,Nt)}function tl(Nt){return!!Nt&&Nt.$$typeof===bi}function Vr(Nt){return tl(Nt)?Er.apply(null,arguments):Nt}function hs(Nt){return!!Nt.__k&&(zn(null,Nt),!0)}function yc(Nt){return Nt&&(Nt.base||Nt.nodeType===1&&Nt)||null}var Vo=function(Nt,Pt){return Nt(Pt)},xo=function(Nt,Pt){return Nt(Pt)},Gc=yr,Gi={useState:Ei,useReducer:Bi,useEffect:Ai,useLayoutEffect:Fr,useRef:Ln,useImperativeHandle:Nn,useMemo:er,useCallback:sr,useContext:Nr,useDebugValue:Jr,version:"17.0.2",Children:lo,render:Eo,hydrate:oa,unmountComponentAtNode:hs,createPortal:Zr,createElement:gn,createContext:Rn,createFactory:Or,cloneElement:Vr,createRef:pn,Fragment:yr,isValidElement:tl,findDOMNode:yc,Component:xn,PureComponent:oo,memo:wo,forwardRef:Za,flushSync:xo,unstable_batchedUpdates:Vo,StrictMode:yr,Suspense:ca,SuspenseList:Hr,lazy:Ya,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fi},To=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Gi,version:_o,Children:lo,render:Eo,hydrate:oa,unmountComponentAtNode:hs,createPortal:Zr,createFactory:Or,cloneElement:Vr,isValidElement:tl,findDOMNode:yc,PureComponent:oo,memo:wo,forwardRef:Za,flushSync:xo,unstable_batchedUpdates:Vo,StrictMode:Gc,Suspense:ca,SuspenseList:Hr,lazy:Ya,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Fi,createElement:gn,createContext:Rn,createRef:pn,Fragment:yr,Component:xn,useState:Ei,useReducer:Bi,useEffect:Ai,useLayoutEffect:Fr,useRef:Ln,useImperativeHandle:Nn,useMemo:er,useCallback:sr,useContext:Nr,useDebugValue:Jr,useErrorBoundary:Dr}),$s=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof commonjsGlobal$1<"u"?commonjsGlobal$1:typeof self<"u"?self:{};function ec(Nt){return Nt&&Nt.__esModule&&Object.prototype.hasOwnProperty.call(Nt,"default")?Nt.default:Nt}function Nl(Nt){if(Nt.__esModule)return Nt;var Pt=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(Nt).forEach(function(jt){var Ft=Object.getOwnPropertyDescriptor(Nt,jt);Object.defineProperty(Pt,jt,Ft.get?Ft:{enumerable:!0,get:function(){return Nt[jt]}})}),Pt}var ls={exports:{}};function Wo(){}Wo.prototype={on:function(Nt,Pt,jt){var Ft=this.e||(this.e={});return(Ft[Nt]||(Ft[Nt]=[])).push({fn:Pt,ctx:jt}),this},once:function(Nt,Pt,jt){var Ft=this;function Gt(){Ft.off(Nt,Gt),Pt.apply(jt,arguments)}return Gt._=Pt,this.on(Nt,Gt,jt)},emit:function(Nt){var Pt=[].slice.call(arguments,1),jt=((this.e||(this.e={}))[Nt]||[]).slice(),Ft=0,Gt=jt.length;for(Ft;Ft<Gt;Ft++)jt[Ft].fn.apply(jt[Ft].ctx,Pt);return this},off:function(Nt,Pt){var jt=this.e||(this.e={}),Ft=jt[Nt],Gt=[];if(Ft&&Pt)for(var tn=0,fn=Ft.length;tn<fn;tn++)Ft[tn].fn!==Pt&&Ft[tn].fn._!==Pt&&Gt.push(Ft[tn]);return Gt.length?jt[Nt]=Gt:delete jt[Nt],this}},ls.exports=Wo,ls.exports.TinyEmitter=Wo;var Xo=ls.exports,bs={exports:{}},Dl={},_s=Nl(To),vl={exports:{}},Ys="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",Dc=Ys,Ic=Dc;function vc(){}function Gs(){}Gs.resetWarningCache=vc;var cu=function(){function Nt(Ft,Gt,tn,fn,Cn,Fn){if(Fn!==Ic){var Hn=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Hn.name="Invariant Violation",Hn}}Nt.isRequired=Nt;function Pt(){return Nt}var jt={array:Nt,bool:Nt,func:Nt,number:Nt,object:Nt,string:Nt,symbol:Nt,any:Nt,arrayOf:Pt,element:Nt,elementType:Nt,instanceOf:Pt,node:Nt,objectOf:Pt,oneOf:Pt,oneOfType:Pt,shape:Pt,exact:Pt,checkPropTypes:Gs,resetWarningCache:vc};return jt.PropTypes=jt,jt};vl.exports=cu();function uu(Nt){var Pt,jt,Ft="";if(typeof Nt=="string"||typeof Nt=="number")Ft+=Nt;else if(typeof Nt=="object")if(Array.isArray(Nt))for(Pt=0;Pt<Nt.length;Pt++)Nt[Pt]&&(jt=uu(Nt[Pt]))&&(Ft&&(Ft+=" "),Ft+=jt);else for(Pt in Nt)Nt[Pt]&&(Ft&&(Ft+=" "),Ft+=Pt);return Ft}function Wc(){for(var Nt=0,Pt,jt,Ft="";Nt<arguments.length;)(Pt=arguments[Nt++])&&(jt=uu(Pt))&&(Ft&&(Ft+=" "),Ft+=jt);return Ft}var Po=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Wc}),As=Nl(Po),fo={},Il={};Object.defineProperty(Il,"__esModule",{value:!0}),Il.findInArray=Th,Il.isFunction=Lu,Il.isNum=Ou,Il.int=qc,Il.dontSetMe=Pu;function Th(Nt,Pt){for(var jt=0,Ft=Nt.length;jt<Ft;jt++)if(Pt.apply(Pt,[Nt[jt],jt,Nt]))return Nt[jt]}function Lu(Nt){return typeof Nt=="function"||Object.prototype.toString.call(Nt)==="[object Function]"}function Ou(Nt){return typeof Nt=="number"&&!isNaN(Nt)}function qc(Nt){return parseInt(Nt,10)}function Pu(Nt,Pt,jt){if(Nt[Pt])return new Error("Invalid prop ".concat(Pt," passed to ").concat(jt," - do not set this, set it on the child."))}var Ul={};Object.defineProperty(Ul,"__esModule",{value:!0}),Ul.getPrefix=Ll,Ul.browserPrefixToKey=Qc,Ul.browserPrefixToStyle=Mh,Ul.default=void 0;var Ms=["Moz","Webkit","O","ms"];function Ll(){var Nt,Pt,jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"transform";if(typeof window>"u")return"";var Ft=(Nt=window.document)===null||Nt===void 0||(Pt=Nt.documentElement)===null||Pt===void 0?void 0:Pt.style;if(!Ft||jt in Ft)return"";for(var Gt=0;Gt<Ms.length;Gt++)if(Qc(jt,Ms[Gt])in Ft)return Ms[Gt];return""}function Qc(Nt,Pt){return Pt?"".concat(Pt).concat(_d(Nt)):Nt}function Mh(Nt,Pt){return Pt?"-".concat(Pt.toLowerCase(),"-").concat(Nt):Nt}function _d(Nt){for(var Pt="",jt=!0,Ft=0;Ft<Nt.length;Ft++)jt?(Pt+=Nt[Ft].toUpperCase(),jt=!1):Nt[Ft]==="-"?jt=!0:Pt+=Nt[Ft];return Pt}var Hl=Ll();Ul.default=Hl;function Ol(Nt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ol=function(Pt){return typeof Pt}:Ol=function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},Ol(Nt)}Object.defineProperty(fo,"__esModule",{value:!0}),fo.matchesSelector=_l,fo.matchesSelectorAndParentsTo=Vl,fo.addEvent=Pl,fo.removeEvent=Yl,fo.outerHeight=Sh,fo.outerWidth=nh,fo.innerHeight=rh,fo.innerWidth=ya,fo.offsetXYFromParent=_c,fo.createCSSTransform=nl,fo.createSVGTransform=Ga,fo.getTranslation=wl,fo.getTouch=Co,fo.getTouchIdentifier=kh,fo.addUserSelectStyles=rl,fo.removeUserSelectStyles=zu,fo.addClassName=Gl,fo.removeClassName=cs;var Bs=Il,th=bc(Ul);function Bo(Nt){if(typeof WeakMap!="function")return null;var Pt=new WeakMap,jt=new WeakMap;return(Bo=function(Ft){return Ft?jt:Pt})(Nt)}function bc(Nt,Pt){if(!Pt&&Nt&&Nt.__esModule)return Nt;if(Nt===null||Ol(Nt)!=="object"&&typeof Nt!="function")return{default:Nt};var jt=Bo(Pt);if(jt&&jt.has(Nt))return jt.get(Nt);var Ft={},Gt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var tn in Nt)if(tn!=="default"&&Object.prototype.hasOwnProperty.call(Nt,tn)){var fn=Gt?Object.getOwnPropertyDescriptor(Nt,tn):null;fn&&(fn.get||fn.set)?Object.defineProperty(Ft,tn,fn):Ft[tn]=Nt[tn]}return Ft.default=Nt,jt&&jt.set(Nt,Ft),Ft}function Ns(Nt,Pt){var jt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(Nt);Pt&&(Ft=Ft.filter(function(Gt){return Object.getOwnPropertyDescriptor(Nt,Gt).enumerable})),jt.push.apply(jt,Ft)}return jt}function Ru(Nt){for(var Pt=1;Pt<arguments.length;Pt++){var jt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Ns(Object(jt),!0).forEach(function(Ft){bl(Nt,Ft,jt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(jt)):Ns(Object(jt)).forEach(function(Ft){Object.defineProperty(Nt,Ft,Object.getOwnPropertyDescriptor(jt,Ft))})}return Nt}function bl(Nt,Pt,jt){return Pt in Nt?Object.defineProperty(Nt,Pt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Nt[Pt]=jt,Nt}var tc="";function _l(Nt,Pt){return tc||(tc=(0,Bs.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(jt){return(0,Bs.isFunction)(Nt[jt])})),(0,Bs.isFunction)(Nt[tc])?Nt[tc](Pt):!1}function Vl(Nt,Pt,jt){var Ft=Nt;do{if(_l(Ft,Pt))return!0;if(Ft===jt)return!1;Ft=Ft.parentNode}while(Ft);return!1}function Pl(Nt,Pt,jt,Ft){if(Nt){var Gt=Ru({capture:!0},Ft);Nt.addEventListener?Nt.addEventListener(Pt,jt,Gt):Nt.attachEvent?Nt.attachEvent("on"+Pt,jt):Nt["on"+Pt]=jt}}function Yl(Nt,Pt,jt,Ft){if(Nt){var Gt=Ru({capture:!0},Ft);Nt.removeEventListener?Nt.removeEventListener(Pt,jt,Gt):Nt.detachEvent?Nt.detachEvent("on"+Pt,jt):Nt["on"+Pt]=null}}function Sh(Nt){var Pt=Nt.clientHeight,jt=Nt.ownerDocument.defaultView.getComputedStyle(Nt);return Pt+=(0,Bs.int)(jt.borderTopWidth),Pt+=(0,Bs.int)(jt.borderBottomWidth),Pt}function nh(Nt){var Pt=Nt.clientWidth,jt=Nt.ownerDocument.defaultView.getComputedStyle(Nt);return Pt+=(0,Bs.int)(jt.borderLeftWidth),Pt+=(0,Bs.int)(jt.borderRightWidth),Pt}function rh(Nt){var Pt=Nt.clientHeight,jt=Nt.ownerDocument.defaultView.getComputedStyle(Nt);return Pt-=(0,Bs.int)(jt.paddingTop),Pt-=(0,Bs.int)(jt.paddingBottom),Pt}function ya(Nt){var Pt=Nt.clientWidth,jt=Nt.ownerDocument.defaultView.getComputedStyle(Nt);return Pt-=(0,Bs.int)(jt.paddingLeft),Pt-=(0,Bs.int)(jt.paddingRight),Pt}function _c(Nt,Pt,jt){var Ft=Pt===Pt.ownerDocument.body,Gt=Ft?{left:0,top:0}:Pt.getBoundingClientRect(),tn=(Nt.clientX+Pt.scrollLeft-Gt.left)/jt,fn=(Nt.clientY+Pt.scrollTop-Gt.top)/jt;return{x:tn,y:fn}}function nl(Nt,Pt){var jt=wl(Nt,Pt,"px");return bl({},(0,th.browserPrefixToKey)("transform",th.default),jt)}function Ga(Nt,Pt){var jt=wl(Nt,Pt,"");return jt}function wl(Nt,Pt,jt){var Ft=Nt.x,Gt=Nt.y,tn="translate(".concat(Ft).concat(jt,",").concat(Gt).concat(jt,")");if(Pt){var fn="".concat(typeof Pt.x=="string"?Pt.x:Pt.x+jt),Cn="".concat(typeof Pt.y=="string"?Pt.y:Pt.y+jt);tn="translate(".concat(fn,", ").concat(Cn,")")+tn}return tn}function Co(Nt,Pt){return Nt.targetTouches&&(0,Bs.findInArray)(Nt.targetTouches,function(jt){return Pt===jt.identifier})||Nt.changedTouches&&(0,Bs.findInArray)(Nt.changedTouches,function(jt){return Pt===jt.identifier})}function kh(Nt){if(Nt.targetTouches&&Nt.targetTouches[0])return Nt.targetTouches[0].identifier;if(Nt.changedTouches&&Nt.changedTouches[0])return Nt.changedTouches[0].identifier}function rl(Nt){if(Nt){var Pt=Nt.getElementById("react-draggable-style-el");Pt||(Pt=Nt.createElement("style"),Pt.type="text/css",Pt.id="react-draggable-style-el",Pt.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,Pt.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,Nt.getElementsByTagName("head")[0].appendChild(Pt)),Nt.body&&Gl(Nt.body,"react-draggable-transparent-selection")}}function zu(Nt){if(Nt)try{if(Nt.body&&cs(Nt.body,"react-draggable-transparent-selection"),Nt.selection)Nt.selection.empty();else{var Pt=(Nt.defaultView||window).getSelection();Pt&&Pt.type!=="Caret"&&Pt.removeAllRanges()}}catch{}}function Gl(Nt,Pt){Nt.classList?Nt.classList.add(Pt):Nt.className.match(new RegExp("(?:^|\\s)".concat(Pt,"(?!\\S)")))||(Nt.className+=" ".concat(Pt))}function cs(Nt,Pt){Nt.classList?Nt.classList.remove(Pt):Nt.className=Nt.className.replace(new RegExp("(?:^|\\s)".concat(Pt,"(?!\\S)"),"g"),"")}var pl={};Object.defineProperty(pl,"__esModule",{value:!0}),pl.getBoundPosition=ih,pl.snapToGrid=ta,pl.canDragX=en,pl.canDragY=yn,pl.getControlPosition=$n,pl.createCoreData=nr,pl.createDraggableData=kr;var Ls=Il,Ws=fo;function ih(Nt,Pt,jt){if(!Nt.props.bounds)return[Pt,jt];var Ft=Nt.props.bounds;Ft=typeof Ft=="string"?Ft:Wr(Ft);var Gt=ci(Nt);if(typeof Ft=="string"){var tn=Gt.ownerDocument,fn=tn.defaultView,Cn;if(Ft==="parent"?Cn=Gt.parentNode:Cn=tn.querySelector(Ft),!(Cn instanceof fn.HTMLElement))throw new Error('Bounds selector "'+Ft+'" could not find an element.');var Fn=Cn,Hn=fn.getComputedStyle(Gt),jn=fn.getComputedStyle(Fn);Ft={left:-Gt.offsetLeft+(0,Ls.int)(jn.paddingLeft)+(0,Ls.int)(Hn.marginLeft),top:-Gt.offsetTop+(0,Ls.int)(jn.paddingTop)+(0,Ls.int)(Hn.marginTop),right:(0,Ws.innerWidth)(Fn)-(0,Ws.outerWidth)(Gt)-Gt.offsetLeft+(0,Ls.int)(jn.paddingRight)-(0,Ls.int)(Hn.marginRight),bottom:(0,Ws.innerHeight)(Fn)-(0,Ws.outerHeight)(Gt)-Gt.offsetTop+(0,Ls.int)(jn.paddingBottom)-(0,Ls.int)(Hn.marginBottom)}}return(0,Ls.isNum)(Ft.right)&&(Pt=Math.min(Pt,Ft.right)),(0,Ls.isNum)(Ft.bottom)&&(jt=Math.min(jt,Ft.bottom)),(0,Ls.isNum)(Ft.left)&&(Pt=Math.max(Pt,Ft.left)),(0,Ls.isNum)(Ft.top)&&(jt=Math.max(jt,Ft.top)),[Pt,jt]}function ta(Nt,Pt,jt){var Ft=Math.round(Pt/Nt[0])*Nt[0],Gt=Math.round(jt/Nt[1])*Nt[1];return[Ft,Gt]}function en(Nt){return Nt.props.axis==="both"||Nt.props.axis==="x"}function yn(Nt){return Nt.props.axis==="both"||Nt.props.axis==="y"}function $n(Nt,Pt,jt){var Ft=typeof Pt=="number"?(0,Ws.getTouch)(Nt,Pt):null;if(typeof Pt=="number"&&!Ft)return null;var Gt=ci(jt),tn=jt.props.offsetParent||Gt.offsetParent||Gt.ownerDocument.body;return(0,Ws.offsetXYFromParent)(Ft||Nt,tn,jt.props.scale)}function nr(Nt,Pt,jt){var Ft=Nt.state,Gt=!(0,Ls.isNum)(Ft.lastX),tn=ci(Nt);return Gt?{node:tn,deltaX:0,deltaY:0,lastX:Pt,lastY:jt,x:Pt,y:jt}:{node:tn,deltaX:Pt-Ft.lastX,deltaY:jt-Ft.lastY,lastX:Ft.lastX,lastY:Ft.lastY,x:Pt,y:jt}}function kr(Nt,Pt){var jt=Nt.props.scale;return{node:Pt.node,x:Nt.state.x+Pt.deltaX/jt,y:Nt.state.y+Pt.deltaY/jt,deltaX:Pt.deltaX/jt,deltaY:Pt.deltaY/jt,lastX:Nt.state.x,lastY:Nt.state.y}}function Wr(Nt){return{left:Nt.left,top:Nt.top,right:Nt.right,bottom:Nt.bottom}}function ci(Nt){var Pt=Nt.findDOMNode();if(!Pt)throw new Error("<DraggableCore>: Unmounted during event!");return Pt}var wi={},Yi={};Object.defineProperty(Yi,"__esModule",{value:!0}),Yi.default=zi;function zi(){}function Mo(Nt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mo=function(Pt){return typeof Pt}:Mo=function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},Mo(Nt)}Object.defineProperty(wi,"__esModule",{value:!0}),wi.default=void 0;var cn=Zo(_s),dn=_i(vl.exports),Pn=_i(_s),or=fo,wr=pl,Rr=Il,Kr=_i(Yi);function _i(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}}function Ji(Nt){if(typeof WeakMap!="function")return null;var Pt=new WeakMap,jt=new WeakMap;return(Ji=function(Ft){return Ft?jt:Pt})(Nt)}function Zo(Nt,Pt){if(!Pt&&Nt&&Nt.__esModule)return Nt;if(Nt===null||Mo(Nt)!=="object"&&typeof Nt!="function")return{default:Nt};var jt=Ji(Pt);if(jt&&jt.has(Nt))return jt.get(Nt);var Ft={},Gt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var tn in Nt)if(tn!=="default"&&Object.prototype.hasOwnProperty.call(Nt,tn)){var fn=Gt?Object.getOwnPropertyDescriptor(Nt,tn):null;fn&&(fn.get||fn.set)?Object.defineProperty(Ft,tn,fn):Ft[tn]=Nt[tn]}return Ft.default=Nt,jt&&jt.set(Nt,Ft),Ft}function na(Nt,Pt){return ds(Nt)||rs(Nt,Pt)||qa(Nt,Pt)||Wa()}function Wa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qa(Nt,Pt){if(Nt){if(typeof Nt=="string")return Jo(Nt,Pt);var jt=Object.prototype.toString.call(Nt).slice(8,-1);if(jt==="Object"&&Nt.constructor&&(jt=Nt.constructor.name),jt==="Map"||jt==="Set")return Array.from(Nt);if(jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jt))return Jo(Nt,Pt)}}function Jo(Nt,Pt){(Pt==null||Pt>Nt.length)&&(Pt=Nt.length);for(var jt=0,Ft=new Array(Pt);jt<Pt;jt++)Ft[jt]=Nt[jt];return Ft}function rs(Nt,Pt){var jt=Nt==null?null:typeof Symbol<"u"&&Nt[Symbol.iterator]||Nt["@@iterator"];if(jt!=null){var Ft=[],Gt=!0,tn=!1,fn,Cn;try{for(jt=jt.call(Nt);!(Gt=(fn=jt.next()).done)&&(Ft.push(fn.value),!(Pt&&Ft.length===Pt));Gt=!0);}catch(Fn){tn=!0,Cn=Fn}finally{try{!Gt&&jt.return!=null&&jt.return()}finally{if(tn)throw Cn}}return Ft}}function ds(Nt){if(Array.isArray(Nt))return Nt}function es(Nt,Pt){if(!(Nt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function Xc(Nt,Pt){for(var jt=0;jt<Pt.length;jt++){var Ft=Pt[jt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Nt,Ft.key,Ft)}}function hu(Nt,Pt,jt){return Pt&&Xc(Nt.prototype,Pt),jt&&Xc(Nt,jt),Nt}function If(Nt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Pt&&du(Nt,Pt)}function du(Nt,Pt){return du=Object.setPrototypeOf||function(jt,Ft){return jt.__proto__=Ft,jt},du(Nt,Pt)}function Yd(Nt){var Pt=Gd();return function(){var jt=oh(Nt),Ft;if(Pt){var Gt=oh(this).constructor;Ft=Reflect.construct(jt,arguments,Gt)}else Ft=jt.apply(this,arguments);return Zc(this,Ft)}}function Zc(Nt,Pt){if(Pt&&(Mo(Pt)==="object"||typeof Pt=="function"))return Pt;if(Pt!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ts(Nt)}function ts(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}function Gd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function oh(Nt){return oh=Object.setPrototypeOf?Object.getPrototypeOf:function(Pt){return Pt.__proto__||Object.getPrototypeOf(Pt)},oh(Nt)}function sc(Nt,Pt,jt){return Pt in Nt?Object.defineProperty(Nt,Pt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Nt[Pt]=jt,Nt}var Lc={touch:{start:"touchstart",move:"touchmove",stop:"touchend"},mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"}},fu=Lc.mouse,ah=function(Nt){If(jt,Nt);var Pt=Yd(jt);function jt(){var Ft;es(this,jt);for(var Gt=arguments.length,tn=new Array(Gt),fn=0;fn<Gt;fn++)tn[fn]=arguments[fn];return Ft=Pt.call.apply(Pt,[this].concat(tn)),sc(ts(Ft),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),sc(ts(Ft),"mounted",!1),sc(ts(Ft),"handleDragStart",function(Cn){if(Ft.props.onMouseDown(Cn),!Ft.props.allowAnyClick&&typeof Cn.button=="number"&&Cn.button!==0)return!1;var Fn=Ft.findDOMNode();if(!Fn||!Fn.ownerDocument||!Fn.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var Hn=Fn.ownerDocument;if(!(Ft.props.disabled||!(Cn.target instanceof Hn.defaultView.Node)||Ft.props.handle&&!(0,or.matchesSelectorAndParentsTo)(Cn.target,Ft.props.handle,Fn)||Ft.props.cancel&&(0,or.matchesSelectorAndParentsTo)(Cn.target,Ft.props.cancel,Fn))){Cn.type==="touchstart"&&Cn.preventDefault();var jn=(0,or.getTouchIdentifier)(Cn);Ft.setState({touchIdentifier:jn});var Sr=(0,wr.getControlPosition)(Cn,jn,ts(Ft));if(Sr!=null){var $r=Sr.x,Yr=Sr.y,si=(0,wr.createCoreData)(ts(Ft),$r,Yr);(0,Kr.default)("DraggableCore: handleDragStart: %j",si),(0,Kr.default)("calling",Ft.props.onStart);var ki=Ft.props.onStart(Cn,si);ki===!1||Ft.mounted===!1||(Ft.props.enableUserSelectHack&&(0,or.addUserSelectStyles)(Hn),Ft.setState({dragging:!0,lastX:$r,lastY:Yr}),(0,or.addEvent)(Hn,fu.move,Ft.handleDrag),(0,or.addEvent)(Hn,fu.stop,Ft.handleDragStop))}}}),sc(ts(Ft),"handleDrag",function(Cn){var Fn=(0,wr.getControlPosition)(Cn,Ft.state.touchIdentifier,ts(Ft));if(Fn!=null){var Hn=Fn.x,jn=Fn.y;if(Array.isArray(Ft.props.grid)){var Sr=Hn-Ft.state.lastX,$r=jn-Ft.state.lastY,Yr=(0,wr.snapToGrid)(Ft.props.grid,Sr,$r),si=na(Yr,2);if(Sr=si[0],$r=si[1],!Sr&&!$r)return;Hn=Ft.state.lastX+Sr,jn=Ft.state.lastY+$r}var ki=(0,wr.createCoreData)(ts(Ft),Hn,jn);(0,Kr.default)("DraggableCore: handleDrag: %j",ki);var Mi=Ft.props.onDrag(Cn,ki);if(Mi===!1||Ft.mounted===!1){try{Ft.handleDragStop(new MouseEvent("mouseup"))}catch{var Vi=document.createEvent("MouseEvents");Vi.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Ft.handleDragStop(Vi)}return}Ft.setState({lastX:Hn,lastY:jn})}}),sc(ts(Ft),"handleDragStop",function(Cn){if(Ft.state.dragging){var Fn=(0,wr.getControlPosition)(Cn,Ft.state.touchIdentifier,ts(Ft));if(Fn!=null){var Hn=Fn.x,jn=Fn.y,Sr=(0,wr.createCoreData)(ts(Ft),Hn,jn),$r=Ft.props.onStop(Cn,Sr);if($r===!1||Ft.mounted===!1)return!1;var Yr=Ft.findDOMNode();Yr&&Ft.props.enableUserSelectHack&&(0,or.removeUserSelectStyles)(Yr.ownerDocument),(0,Kr.default)("DraggableCore: handleDragStop: %j",Sr),Ft.setState({dragging:!1,lastX:NaN,lastY:NaN}),Yr&&((0,Kr.default)("DraggableCore: Removing handlers"),(0,or.removeEvent)(Yr.ownerDocument,fu.move,Ft.handleDrag),(0,or.removeEvent)(Yr.ownerDocument,fu.stop,Ft.handleDragStop))}}}),sc(ts(Ft),"onMouseDown",function(Cn){return fu=Lc.mouse,Ft.handleDragStart(Cn)}),sc(ts(Ft),"onMouseUp",function(Cn){return fu=Lc.mouse,Ft.handleDragStop(Cn)}),sc(ts(Ft),"onTouchStart",function(Cn){return fu=Lc.touch,Ft.handleDragStart(Cn)}),sc(ts(Ft),"onTouchEnd",function(Cn){return fu=Lc.touch,Ft.handleDragStop(Cn)}),Ft}return hu(jt,[{key:"componentDidMount",value:function(){this.mounted=!0;var Ft=this.findDOMNode();Ft&&(0,or.addEvent)(Ft,Lc.touch.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var Ft=this.findDOMNode();if(Ft){var Gt=Ft.ownerDocument;(0,or.removeEvent)(Gt,Lc.mouse.move,this.handleDrag),(0,or.removeEvent)(Gt,Lc.touch.move,this.handleDrag),(0,or.removeEvent)(Gt,Lc.mouse.stop,this.handleDragStop),(0,or.removeEvent)(Gt,Lc.touch.stop,this.handleDragStop),(0,or.removeEvent)(Ft,Lc.touch.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,or.removeUserSelectStyles)(Gt)}}},{key:"findDOMNode",value:function(){var Ft,Gt,tn;return(Ft=(Gt=this.props)===null||Gt===void 0||(tn=Gt.nodeRef)===null||tn===void 0?void 0:tn.current)!==null&&Ft!==void 0?Ft:Pn.default.findDOMNode(this)}},{key:"render",value:function(){return cn.cloneElement(cn.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),jt}(cn.Component);wi.default=ah,sc(ah,"displayName","DraggableCore"),sc(ah,"propTypes",{allowAnyClick:dn.default.bool,disabled:dn.default.bool,enableUserSelectHack:dn.default.bool,offsetParent:function(Nt,Pt){if(Nt[Pt]&&Nt[Pt].nodeType!==1)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:dn.default.arrayOf(dn.default.number),handle:dn.default.string,cancel:dn.default.string,nodeRef:dn.default.object,onStart:dn.default.func,onDrag:dn.default.func,onStop:dn.default.func,onMouseDown:dn.default.func,scale:dn.default.number,className:Rr.dontSetMe,style:Rr.dontSetMe,transform:Rr.dontSetMe}),sc(ah,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),function(Nt){function Pt(Oi){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Pt=function(Qi){return typeof Qi}:Pt=function(Qi){return Qi&&typeof Symbol=="function"&&Qi.constructor===Symbol&&Qi!==Symbol.prototype?"symbol":typeof Qi},Pt(Oi)}Object.defineProperty(Nt,"__esModule",{value:!0}),Object.defineProperty(Nt,"DraggableCore",{enumerable:!0,get:function(){return Hn.default}}),Nt.default=void 0;var jt=si(_s),Ft=$r(vl.exports),Gt=$r(_s),tn=$r(As),fn=fo,Cn=pl,Fn=Il,Hn=$r(wi),jn=$r(Yi),Sr=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];function $r(Oi){return Oi&&Oi.__esModule?Oi:{default:Oi}}function Yr(Oi){if(typeof WeakMap!="function")return null;var Qi=new WeakMap,to=new WeakMap;return(Yr=function(Xi){return Xi?to:Qi})(Oi)}function si(Oi,Qi){if(!Qi&&Oi&&Oi.__esModule)return Oi;if(Oi===null||Pt(Oi)!=="object"&&typeof Oi!="function")return{default:Oi};var to=Yr(Qi);if(to&&to.has(Oi))return to.get(Oi);var Xi={},so=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var ia in Oi)if(ia!=="default"&&Object.prototype.hasOwnProperty.call(Oi,ia)){var fl=so?Object.getOwnPropertyDescriptor(Oi,ia):null;fl&&(fl.get||fl.set)?Object.defineProperty(Xi,ia,fl):Xi[ia]=Oi[ia]}return Xi.default=Oi,to&&to.set(Oi,Xi),Xi}function ki(){return ki=Object.assign||function(Oi){for(var Qi=1;Qi<arguments.length;Qi++){var to=arguments[Qi];for(var Xi in to)Object.prototype.hasOwnProperty.call(to,Xi)&&(Oi[Xi]=to[Xi])}return Oi},ki.apply(this,arguments)}function Mi(Oi,Qi){if(Oi==null)return{};var to=Vi(Oi,Qi),Xi,so;if(Object.getOwnPropertySymbols){var ia=Object.getOwnPropertySymbols(Oi);for(so=0;so<ia.length;so++)Xi=ia[so],!(Qi.indexOf(Xi)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Oi,Xi)||(to[Xi]=Oi[Xi]))}return to}function Vi(Oi,Qi){if(Oi==null)return{};var to={},Xi=Object.keys(Oi),so,ia;for(ia=0;ia<Xi.length;ia++)so=Xi[ia],!(Qi.indexOf(so)>=0)&&(to[so]=Oi[so]);return to}function Ki(Oi,Qi){var to=Object.keys(Oi);if(Object.getOwnPropertySymbols){var Xi=Object.getOwnPropertySymbols(Oi);Qi&&(Xi=Xi.filter(function(so){return Object.getOwnPropertyDescriptor(Oi,so).enumerable})),to.push.apply(to,Xi)}return to}function Ko(Oi){for(var Qi=1;Qi<arguments.length;Qi++){var to=arguments[Qi]!=null?arguments[Qi]:{};Qi%2?Ki(Object(to),!0).forEach(function(Xi){qh(Oi,Xi,to[Xi])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Oi,Object.getOwnPropertyDescriptors(to)):Ki(Object(to)).forEach(function(Xi){Object.defineProperty(Oi,Xi,Object.getOwnPropertyDescriptor(to,Xi))})}return Oi}function Uo(Oi,Qi){return yl(Oi)||dl(Oi,Qi)||ea(Oi,Qi)||Oo()}function Oo(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ea(Oi,Qi){if(Oi){if(typeof Oi=="string")return Ho(Oi,Qi);var to=Object.prototype.toString.call(Oi).slice(8,-1);if(to==="Object"&&Oi.constructor&&(to=Oi.constructor.name),to==="Map"||to==="Set")return Array.from(Oi);if(to==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(to))return Ho(Oi,Qi)}}function Ho(Oi,Qi){(Qi==null||Qi>Oi.length)&&(Qi=Oi.length);for(var to=0,Xi=new Array(Qi);to<Qi;to++)Xi[to]=Oi[to];return Xi}function dl(Oi,Qi){var to=Oi==null?null:typeof Symbol<"u"&&Oi[Symbol.iterator]||Oi["@@iterator"];if(to!=null){var Xi=[],so=!0,ia=!1,fl,mc;try{for(to=to.call(Oi);!(so=(fl=to.next()).done)&&(Xi.push(fl.value),!(Qi&&Xi.length===Qi));so=!0);}catch(zs){ia=!0,mc=zs}finally{try{!so&&to.return!=null&&to.return()}finally{if(ia)throw mc}}return Xi}}function yl(Oi){if(Array.isArray(Oi))return Oi}function Ps(Oi,Qi){if(!(Oi instanceof Qi))throw new TypeError("Cannot call a class as a function")}function Rs(Oi,Qi){for(var to=0;to<Qi.length;to++){var Xi=Qi[to];Xi.enumerable=Xi.enumerable||!1,Xi.configurable=!0,"value"in Xi&&(Xi.writable=!0),Object.defineProperty(Oi,Xi.key,Xi)}}function Gh(Oi,Qi,to){return Qi&&Rs(Oi.prototype,Qi),to&&Rs(Oi,to),Oi}function Iu(Oi,Qi){if(typeof Qi!="function"&&Qi!==null)throw new TypeError("Super expression must either be null or a function");Oi.prototype=Object.create(Qi&&Qi.prototype,{constructor:{value:Oi,writable:!0,configurable:!0}}),Qi&&Df(Oi,Qi)}function Df(Oi,Qi){return Df=Object.setPrototypeOf||function(to,Xi){return to.__proto__=Xi,to},Df(Oi,Qi)}function Wh(Oi){var Qi=pv();return function(){var to=Ig(Oi),Xi;if(Qi){var so=Ig(this).constructor;Xi=Reflect.construct(to,arguments,so)}else Xi=to.apply(this,arguments);return bd(this,Xi)}}function bd(Oi,Qi){if(Qi&&(Pt(Qi)==="object"||typeof Qi=="function"))return Qi;if(Qi!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yc(Oi)}function Yc(Oi){if(Oi===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Oi}function pv(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ig(Oi){return Ig=Object.setPrototypeOf?Object.getPrototypeOf:function(Qi){return Qi.__proto__||Object.getPrototypeOf(Qi)},Ig(Oi)}function qh(Oi,Qi,to){return Qi in Oi?Object.defineProperty(Oi,Qi,{value:to,enumerable:!0,configurable:!0,writable:!0}):Oi[Qi]=to,Oi}var el=function(Oi){Iu(to,Oi);var Qi=Wh(to);function to(Xi){var so;return Ps(this,to),so=Qi.call(this,Xi),qh(Yc(so),"onDragStart",function(ia,fl){(0,jn.default)("Draggable: onDragStart: %j",fl);var mc=so.props.onStart(ia,(0,Cn.createDraggableData)(Yc(so),fl));if(mc===!1)return!1;so.setState({dragging:!0,dragged:!0})}),qh(Yc(so),"onDrag",function(ia,fl){if(!so.state.dragging)return!1;(0,jn.default)("Draggable: onDrag: %j",fl);var mc=(0,Cn.createDraggableData)(Yc(so),fl),zs={x:mc.x,y:mc.y};if(so.props.bounds){var Lg=zs.x,Vd=zs.y;zs.x+=so.state.slackX,zs.y+=so.state.slackY;var Ap=(0,Cn.getBoundPosition)(Yc(so),zs.x,zs.y),jm=Uo(Ap,2),gv=jm[0],mv=jm[1];zs.x=gv,zs.y=mv,zs.slackX=so.state.slackX+(Lg-zs.x),zs.slackY=so.state.slackY+(Vd-zs.y),mc.x=zs.x,mc.y=zs.y,mc.deltaX=zs.x-so.state.x,mc.deltaY=zs.y-so.state.y}var Hb=so.props.onDrag(ia,mc);if(Hb===!1)return!1;so.setState(zs)}),qh(Yc(so),"onDragStop",function(ia,fl){if(!so.state.dragging)return!1;var mc=so.props.onStop(ia,(0,Cn.createDraggableData)(Yc(so),fl));if(mc===!1)return!1;(0,jn.default)("Draggable: onDragStop: %j",fl);var zs={dragging:!1,slackX:0,slackY:0},Lg=Boolean(so.props.position);if(Lg){var Vd=so.props.position,Ap=Vd.x,jm=Vd.y;zs.x=Ap,zs.y=jm}so.setState(zs)}),so.state={dragging:!1,dragged:!1,x:Xi.position?Xi.position.x:Xi.defaultPosition.x,y:Xi.position?Xi.position.y:Xi.defaultPosition.y,prevPropsPosition:Ko({},Xi.position),slackX:0,slackY:0,isElementSVG:!1},Xi.position&&!(Xi.onDrag||Xi.onStop)&&console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),so}return Gh(to,[{key:"componentDidMount",value:function(){typeof window.SVGElement<"u"&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var Xi,so,ia;return(Xi=(so=this.props)===null||so===void 0||(ia=so.nodeRef)===null||ia===void 0?void 0:ia.current)!==null&&Xi!==void 0?Xi:Gt.default.findDOMNode(this)}},{key:"render",value:function(){var Xi,so=this.props;so.axis,so.bounds;var ia=so.children,fl=so.defaultPosition,mc=so.defaultClassName,zs=so.defaultClassNameDragging,Lg=so.defaultClassNameDragged,Vd=so.position,Ap=so.positionOffset;so.scale;var jm=Mi(so,Sr),gv={},mv=null,Hb=Boolean(Vd),q_=!Hb||this.state.dragging,Q_=Vd||fl,X_={x:(0,Cn.canDragX)(this)&&q_?this.state.x:Q_.x,y:(0,Cn.canDragY)(this)&&q_?this.state.y:Q_.y};this.state.isElementSVG?mv=(0,fn.createSVGTransform)(X_,Ap):gv=(0,fn.createCSSTransform)(X_,Ap);var Hx=(0,tn.default)(ia.props.className||"",mc,(Xi={},qh(Xi,zs,this.state.dragging),qh(Xi,Lg,this.state.dragged),Xi));return jt.createElement(Hn.default,ki({},jm,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),jt.cloneElement(jt.Children.only(ia),{className:Hx,style:Ko(Ko({},ia.props.style),gv),transform:mv}))}}],[{key:"getDerivedStateFromProps",value:function(Xi,so){var ia=Xi.position,fl=so.prevPropsPosition;return ia&&(!fl||ia.x!==fl.x||ia.y!==fl.y)?((0,jn.default)("Draggable: getDerivedStateFromProps %j",{position:ia,prevPropsPosition:fl}),{x:ia.x,y:ia.y,prevPropsPosition:Ko({},ia)}):null}}]),to}(jt.Component);Nt.default=el,qh(el,"displayName","Draggable"),qh(el,"propTypes",Ko(Ko({},Hn.default.propTypes),{},{axis:Ft.default.oneOf(["both","x","y","none"]),bounds:Ft.default.oneOfType([Ft.default.shape({left:Ft.default.number,right:Ft.default.number,top:Ft.default.number,bottom:Ft.default.number}),Ft.default.string,Ft.default.oneOf([!1])]),defaultClassName:Ft.default.string,defaultClassNameDragging:Ft.default.string,defaultClassNameDragged:Ft.default.string,defaultPosition:Ft.default.shape({x:Ft.default.number,y:Ft.default.number}),positionOffset:Ft.default.shape({x:Ft.default.oneOfType([Ft.default.number,Ft.default.string]),y:Ft.default.oneOfType([Ft.default.number,Ft.default.string])}),position:Ft.default.shape({x:Ft.default.number,y:Ft.default.number}),className:Fn.dontSetMe,style:Fn.dontSetMe,transform:Fn.dontSetMe})),qh(el,"defaultProps",Ko(Ko({},Hn.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))}(Dl);var Wd=Dl,Lf=Wd.default,Of=Wd.DraggableCore;bs.exports=Lf,bs.exports.default=Lf,bs.exports.DraggableCore=Of;var Np=bs.exports,Pf=["second","minute","hour","day","week","month","year"];function wd(Nt,Pt){if(Pt===0)return["just now","right now"];var jt=Pf[Math.floor(Pt/2)];return Nt>1&&(jt+="s"),[Nt+" "+jt+" ago","in "+Nt+" "+jt]}var Og=["\u79D2","\u5206\u949F","\u5C0F\u65F6","\u5929","\u5468","\u4E2A\u6708","\u5E74"];function Pg(Nt,Pt){if(Pt===0)return["\u521A\u521A","\u7247\u523B\u540E"];var jt=Og[~~(Pt/2)];return[Nt+" "+jt+"\u524D",Nt+" "+jt+"\u540E"]}var qd={},qs=function(Nt,Pt){qd[Nt]=Pt},pu=function(Nt){return qd[Nt]||qd.en_US},Rl=[60,60,24,7,365/7/12,12];function Dp(Nt){return Nt instanceof Date?Nt:!isNaN(Nt)||/^\d+$/.test(Nt)?new Date(parseInt(Nt)):(Nt=(Nt||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(Nt))}function Oc(Nt,Pt){var jt=Nt<0?1:0;Nt=Math.abs(Nt);for(var Ft=Nt,Gt=0;Nt>=Rl[Gt]&&Gt<Rl.length;Gt++)Nt/=Rl[Gt];return Nt=Math.floor(Nt),Gt*=2,Nt>(Gt===0?9:1)&&(Gt+=1),Pt(Nt,Gt,Ft)[jt].replace("%s",Nt.toString())}function Qd(Nt,Pt){var jt=Pt?Dp(Pt):new Date;return(+jt-+Dp(Nt))/1e3}function Ip(Nt){for(var Pt=1,jt=0,Ft=Math.abs(Nt);Nt>=Rl[jt]&&jt<Rl.length;jt++)Nt/=Rl[jt],Pt*=Rl[jt];return Ft=Ft%Pt,Ft=Ft?Pt-Ft:Pt,Math.ceil(Ft)}var Rg=function(Nt,Pt,jt){var Ft=Qd(Nt,jt&&jt.relativeDate);return Oc(Ft,pu(Pt))},Ch="timeago-id";function Fm(Nt){return Nt.getAttribute("datetime")}function Qh(Nt,Pt){Nt.setAttribute(Ch,Pt)}function Rf(Nt){return parseInt(Nt.getAttribute(Ch))}var Xd={},Zd=function(Nt){clearTimeout(Nt),delete Xd[Nt]};function gu(Nt,Pt,jt,Ft){Zd(Rf(Nt));var Gt=Ft.relativeDate,tn=Ft.minInterval,fn=Qd(Pt,Gt);Nt.innerText=Oc(fn,jt);var Cn=setTimeout(function(){gu(Nt,Pt,jt,Ft)},Math.min(Math.max(Ip(fn),tn||1)*1e3,2147483647));Xd[Cn]=0,Qh(Nt,Cn)}function zf(Nt){Nt?Zd(Rf(Nt)):Object.keys(Xd).forEach(Zd)}function $f(Nt,Pt,jt){var Ft=Nt.length?Nt:[Nt];return Ft.forEach(function(Gt){gu(Gt,Fm(Gt),pu(Pt),jt||{})}),Ft}qs("en_US",wd),qs("zh_CN",Pg);var Xh=function(){var Nt=function(Pt,jt){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ft,Gt){Ft.__proto__=Gt}||function(Ft,Gt){for(var tn in Gt)Gt.hasOwnProperty(tn)&&(Ft[tn]=Gt[tn])},Nt(Pt,jt)};return function(Pt,jt){Nt(Pt,jt);function Ft(){this.constructor=Pt}Pt.prototype=jt===null?Object.create(jt):(Ft.prototype=jt.prototype,new Ft)}}(),Bf=function(){return Bf=Object.assign||function(Nt){for(var Pt,jt=1,Ft=arguments.length;jt<Ft;jt++){Pt=arguments[jt];for(var Gt in Pt)Object.prototype.hasOwnProperty.call(Pt,Gt)&&(Nt[Gt]=Pt[Gt])}return Nt},Bf.apply(this,arguments)},Wl=function(Nt,Pt){var jt={};for(var Ft in Nt)Object.prototype.hasOwnProperty.call(Nt,Ft)&&Pt.indexOf(Ft)<0&&(jt[Ft]=Nt[Ft]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,Ft=Object.getOwnPropertySymbols(Nt);Gt<Ft.length;Gt++)Pt.indexOf(Ft[Gt])<0&&Object.prototype.propertyIsEnumerable.call(Nt,Ft[Gt])&&(jt[Ft[Gt]]=Nt[Ft[Gt]]);return jt},Kd=function(Nt){return""+(Nt instanceof Date?Nt.getTime():Nt)},Lp=function(Nt){Xh(Pt,Nt);function Pt(){var jt=Nt!==null&&Nt.apply(this,arguments)||this;return jt.dom=null,jt}return Pt.prototype.componentDidMount=function(){this.renderTimeAgo()},Pt.prototype.componentDidUpdate=function(){this.renderTimeAgo()},Pt.prototype.renderTimeAgo=function(){var jt=this.props,Ft=jt.live,Gt=jt.datetime,tn=jt.locale,fn=jt.opts;zf(this.dom),Ft!==!1&&(this.dom.setAttribute("datetime",Kd(Gt)),$f(this.dom,tn,fn))},Pt.prototype.componentWillUnmount=function(){zf(this.dom)},Pt.prototype.render=function(){var jt=this,Ft=this.props,Gt=Ft.datetime;Ft.live;var tn=Ft.locale,fn=Ft.opts,Cn=Wl(Ft,["datetime","live","locale","opts"]);return gn("time",Bf({ref:function(Fn){jt.dom=Fn}},Cn),Rg(Gt,tn,fn))},Pt.defaultProps={live:!0,className:""},Pt}(oo);function Op(Nt,Pt){const jt=Ft=>{Nt.current&&!Nt.current.contains(event.target)&&Pt()};Ai(()=>(document.addEventListener("mousedown",jt),()=>document.removeEventListener("mousedown",jt)))}var Pp=Object.prototype.toString,Rp=function(Nt){var Pt=Pp.call(Nt),jt=Pt==="[object Arguments]";return jt||(jt=Pt!=="[object Array]"&&Nt!==null&&typeof Nt=="object"&&typeof Nt.length=="number"&&Nt.length>=0&&Pp.call(Nt.callee)==="[object Function]"),jt},jf;if(!Object.keys){var xd=Object.prototype.hasOwnProperty,Jd=Object.prototype.toString,zg=Rp,Ed=Object.prototype.propertyIsEnumerable,$g=!Ed.call({toString:null},"toString"),zp=Ed.call(function(){},"prototype"),ef=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Lt=function(Nt){var Pt=Nt.constructor;return Pt&&Pt.prototype===Nt},Vt={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},an=function(){if(typeof window>"u")return!1;for(var Nt in window)try{if(!Vt["$"+Nt]&&xd.call(window,Nt)&&window[Nt]!==null&&typeof window[Nt]=="object")try{Lt(window[Nt])}catch{return!0}}catch{return!0}return!1}(),_n=function(Nt){if(typeof window>"u"||!an)return Lt(Nt);try{return Lt(Nt)}catch{return!1}};jf=function(Nt){var Pt=Nt!==null&&typeof Nt=="object",jt=Jd.call(Nt)==="[object Function]",Ft=zg(Nt),Gt=Pt&&Jd.call(Nt)==="[object String]",tn=[];if(!Pt&&!jt&&!Ft)throw new TypeError("Object.keys called on a non-object");var fn=zp&&jt;if(Gt&&Nt.length>0&&!xd.call(Nt,0))for(var Cn=0;Cn<Nt.length;++Cn)tn.push(String(Cn));if(Ft&&Nt.length>0)for(var Fn=0;Fn<Nt.length;++Fn)tn.push(String(Fn));else for(var Hn in Nt)!(fn&&Hn==="prototype")&&xd.call(Nt,Hn)&&tn.push(String(Hn));if($g)for(var jn=_n(Nt),Sr=0;Sr<ef.length;++Sr)!(jn&&ef[Sr]==="constructor")&&xd.call(Nt,ef[Sr])&&tn.push(ef[Sr]);return tn}}var Bn=jf,dr=Array.prototype.slice,jr=Rp,ri=Object.keys,hi=ri?function(Nt){return ri(Nt)}:Bn,Di=Object.keys;hi.shim=function(){if(Object.keys){var Nt=function(){var Pt=Object.keys(arguments);return Pt&&Pt.length===arguments.length}(1,2);Nt||(Object.keys=function(Pt){return jr(Pt)?Di(dr.call(Pt)):Di(Pt)})}else Object.keys=hi;return Object.keys||hi};var no=hi,Yo=no,ka=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",wc=Object.prototype.toString,Ah=Array.prototype.concat,Zh=Object.defineProperty,Kc=function(Nt){return typeof Nt=="function"&&wc.call(Nt)==="[object Function]"},Ff=function(){var Nt={};try{Zh(Nt,"x",{enumerable:!1,value:Nt});for(var Pt in Nt)return!1;return Nt.x===Nt}catch{return!1}},$p=Zh&&Ff(),Bg=function(Nt,Pt,jt,Ft){Pt in Nt&&(!Kc(Ft)||!Ft())||($p?Zh(Nt,Pt,{configurable:!0,enumerable:!1,value:jt,writable:!0}):Nt[Pt]=jt)},Bp=function(Nt,Pt){var jt=arguments.length>2?arguments[2]:{},Ft=Yo(Pt);ka&&(Ft=Ah.call(Ft,Object.getOwnPropertySymbols(Pt)));for(var Gt=0;Gt<Ft.length;Gt+=1)Bg(Nt,Ft[Gt],Pt[Ft[Gt]],jt[Ft[Gt]])};Bp.supportsDescriptors=!!$p;var Nh=Bp,Td={exports:{}},Uf="Function.prototype.bind called on incompatible ",xs=Array.prototype.slice,tf=Object.prototype.toString,jg="[object Function]",Fg=function(Nt){var Pt=this;if(typeof Pt!="function"||tf.call(Pt)!==jg)throw new TypeError(Uf+Pt);for(var jt=xs.call(arguments,1),Ft,Gt=function(){if(this instanceof Ft){var Hn=Pt.apply(this,jt.concat(xs.call(arguments)));return Object(Hn)===Hn?Hn:this}else return Pt.apply(Nt,jt.concat(xs.call(arguments)))},tn=Math.max(0,Pt.length-jt.length),fn=[],Cn=0;Cn<tn;Cn++)fn.push("$"+Cn);if(Ft=Function("binder","return function ("+fn.join(",")+"){ return binder.apply(this,arguments); }")(Gt),Pt.prototype){var Fn=function(){};Fn.prototype=Pt.prototype,Ft.prototype=new Fn,Fn.prototype=null}return Ft},Md=Fg,Sd=Function.prototype.bind||Md,Hf=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var Nt={},Pt=Symbol("test"),jt=Object(Pt);if(typeof Pt=="string"||Object.prototype.toString.call(Pt)!=="[object Symbol]"||Object.prototype.toString.call(jt)!=="[object Symbol]")return!1;var Ft=42;Nt[Pt]=Ft;for(Pt in Nt)return!1;if(typeof Object.keys=="function"&&Object.keys(Nt).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(Nt).length!==0)return!1;var Gt=Object.getOwnPropertySymbols(Nt);if(Gt.length!==1||Gt[0]!==Pt||!Object.prototype.propertyIsEnumerable.call(Nt,Pt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var tn=Object.getOwnPropertyDescriptor(Nt,Pt);if(tn.value!==Ft||tn.enumerable!==!0)return!1}return!0},jp=typeof Symbol<"u"&&Symbol,nf=Hf,Um=function(){return typeof jp!="function"||typeof Symbol!="function"||typeof jp("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:nf()},Vf=Sd,Hm=Vf.call(Function.call,Object.prototype.hasOwnProperty),as,Kh=SyntaxError,Fp=Function,Jh=TypeError,Ug=function(Nt){try{return Fp('"use strict"; return ('+Nt+").constructor;")()}catch{}},kd=Object.getOwnPropertyDescriptor;if(kd)try{kd({},"")}catch{kd=null}var Vm=function(){throw new Jh},g1=kd?function(){try{return arguments.callee,Vm}catch{try{return kd(arguments,"callee").get}catch{return Vm}}}():Vm,$u=Um(),Cd=Object.getPrototypeOf||function(Nt){return Nt.__proto__},gl={},sh=typeof Uint8Array>"u"?as:Cd(Uint8Array),aa={"%AggregateError%":typeof AggregateError>"u"?as:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?as:ArrayBuffer,"%ArrayIteratorPrototype%":$u?Cd([][Symbol.iterator]()):as,"%AsyncFromSyncIteratorPrototype%":as,"%AsyncFunction%":gl,"%AsyncGenerator%":gl,"%AsyncGeneratorFunction%":gl,"%AsyncIteratorPrototype%":gl,"%Atomics%":typeof Atomics>"u"?as:Atomics,"%BigInt%":typeof BigInt>"u"?as:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?as:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?as:Float32Array,"%Float64Array%":typeof Float64Array>"u"?as:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?as:FinalizationRegistry,"%Function%":Fp,"%GeneratorFunction%":gl,"%Int8Array%":typeof Int8Array>"u"?as:Int8Array,"%Int16Array%":typeof Int16Array>"u"?as:Int16Array,"%Int32Array%":typeof Int32Array>"u"?as:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":$u?Cd(Cd([][Symbol.iterator]())):as,"%JSON%":typeof JSON=="object"?JSON:as,"%Map%":typeof Map>"u"?as:Map,"%MapIteratorPrototype%":typeof Map>"u"||!$u?as:Cd(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?as:Promise,"%Proxy%":typeof Proxy>"u"?as:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?as:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?as:Set,"%SetIteratorPrototype%":typeof Set>"u"||!$u?as:Cd(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?as:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":$u?Cd(""[Symbol.iterator]()):as,"%Symbol%":$u?Symbol:as,"%SyntaxError%":Kh,"%ThrowTypeError%":g1,"%TypedArray%":sh,"%TypeError%":Jh,"%Uint8Array%":typeof Uint8Array>"u"?as:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?as:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?as:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?as:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?as:WeakMap,"%WeakRef%":typeof WeakRef>"u"?as:WeakRef,"%WeakSet%":typeof WeakSet>"u"?as:WeakSet},Ca=function Nt(Pt){var jt;if(Pt==="%AsyncFunction%")jt=Ug("async function () {}");else if(Pt==="%GeneratorFunction%")jt=Ug("function* () {}");else if(Pt==="%AsyncGeneratorFunction%")jt=Ug("async function* () {}");else if(Pt==="%AsyncGenerator%"){var Ft=Nt("%AsyncGeneratorFunction%");Ft&&(jt=Ft.prototype)}else if(Pt==="%AsyncIteratorPrototype%"){var Gt=Nt("%AsyncGenerator%");Gt&&(jt=Cd(Gt.prototype))}return aa[Pt]=jt,jt},va={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},ua=Sd,ha=Hm,Aa=ua.call(Function.call,Array.prototype.concat),Na=ua.call(Function.apply,Array.prototype.splice),ba=ua.call(Function.call,String.prototype.replace),da=ua.call(Function.call,String.prototype.slice),Da=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Ia=/\\(\\)?/g,La=function(Nt){var Pt=da(Nt,0,1),jt=da(Nt,-1);if(Pt==="%"&&jt!=="%")throw new Kh("invalid intrinsic syntax, expected closing `%`");if(jt==="%"&&Pt!=="%")throw new Kh("invalid intrinsic syntax, expected opening `%`");var Ft=[];return ba(Nt,Da,function(Gt,tn,fn,Cn){Ft[Ft.length]=fn?ba(Cn,Ia,"$1"):tn||Gt}),Ft},Oa=function(Nt,Pt){var jt=Nt,Ft;if(ha(va,jt)&&(Ft=va[jt],jt="%"+Ft[0]+"%"),ha(aa,jt)){var Gt=aa[jt];if(Gt===gl&&(Gt=Ca(jt)),typeof Gt>"u"&&!Pt)throw new Jh("intrinsic "+Nt+" exists, but is not available. Please file an issue!");return{alias:Ft,name:jt,value:Gt}}throw new Kh("intrinsic "+Nt+" does not exist!")},Ro=function(Nt,Pt){if(typeof Nt!="string"||Nt.length===0)throw new Jh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof Pt!="boolean")throw new Jh('"allowMissing" argument must be a boolean');var jt=La(Nt),Ft=jt.length>0?jt[0]:"",Gt=Oa("%"+Ft+"%",Pt),tn=Gt.name,fn=Gt.value,Cn=!1,Fn=Gt.alias;Fn&&(Ft=Fn[0],Na(jt,Aa([0,1],Fn)));for(var Hn=1,jn=!0;Hn<jt.length;Hn+=1){var Sr=jt[Hn],$r=da(Sr,0,1),Yr=da(Sr,-1);if(($r==='"'||$r==="'"||$r==="`"||Yr==='"'||Yr==="'"||Yr==="`")&&$r!==Yr)throw new Kh("property names with quotes must have matching quotes");if((Sr==="constructor"||!jn)&&(Cn=!0),Ft+="."+Sr,tn="%"+Ft+"%",ha(aa,tn))fn=aa[tn];else if(fn!=null){if(!(Sr in fn)){if(!Pt)throw new Jh("base intrinsic for "+Nt+" exists, but the property is not available.");return}if(kd&&Hn+1>=jt.length){var si=kd(fn,Sr);jn=!!si,jn&&"get"in si&&!("originalValue"in si.get)?fn=si.get:fn=fn[Sr]}else jn=ha(fn,Sr),fn=fn[Sr];jn&&!Cn&&(aa[tn]=fn)}}return fn};(function(Nt){var Pt=Sd,jt=Ro,Ft=jt("%Function.prototype.apply%"),Gt=jt("%Function.prototype.call%"),tn=jt("%Reflect.apply%",!0)||Pt.call(Gt,Ft),fn=jt("%Object.getOwnPropertyDescriptor%",!0),Cn=jt("%Object.defineProperty%",!0),Fn=jt("%Math.max%");if(Cn)try{Cn({},"a",{value:1})}catch{Cn=null}Nt.exports=function(jn){var Sr=tn(Pt,Gt,arguments);if(fn&&Cn){var $r=fn(Sr,"length");$r.configurable&&Cn(Sr,"length",{value:1+Fn(0,jn.length-(arguments.length-1))})}return Sr};var Hn=function(){return tn(Pt,Ft,arguments)};Cn?Cn(Nt.exports,"apply",{value:Hn}):Nt.exports.apply=Hn})(Td);var wa=Ro,xa=Td.exports,Pa=xa(wa("String.prototype.indexOf")),ra=function(Nt,Pt){var jt=wa(Nt,!!Pt);return typeof jt=="function"&&Pa(Nt,".prototype.")>-1?xa(jt):jt},Ra=Ro,za=Ra("%TypeError%"),$a=function(Nt,Pt){if(Nt==null)throw new za(Pt||"Cannot call method on "+Nt);return Nt},fa=$a,Ba=Ro,Ea=Ba("%Array%"),Ym=!Ea.isArray&&ra("Object.prototype.toString"),Gm=Ea.isArray||function(Nt){return Ym(Nt)==="[object Array]"},Hg=Ro,Wm=ra,qm=Hg("%TypeError%"),Qm=Gm,Xm=Hg("%Reflect.apply%",!0)||Wm("%Function.prototype.apply%"),Zm=function(Nt,Pt){var jt=arguments.length>2?arguments[2]:[];if(!Qm(jt))throw new qm("Assertion failed: optional `argumentsList`, if provided, must be a List");return Xm(Nt,Pt,jt)},ao={},io=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ao}),So=Nl(io),yo=typeof Map=="function"&&Map.prototype,Lo=Object.getOwnPropertyDescriptor&&yo?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,No=yo&&Lo&&typeof Lo.get=="function"?Lo.get:null,ja=yo&&Map.prototype.forEach,Ta=typeof Set=="function"&&Set.prototype,qi=Object.getOwnPropertyDescriptor&&Ta?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ar=Ta&&qi&&typeof qi.get=="function"?qi.get:null,Km=Ta&&Set.prototype.forEach,vv=typeof WeakMap=="function"&&WeakMap.prototype,Up=vv?WeakMap.prototype.has:null,bv=typeof WeakSet=="function"&&WeakSet.prototype,Hp=bv?WeakSet.prototype.has:null,_v=typeof WeakRef=="function"&&WeakRef.prototype,m1=_v?WeakRef.prototype.deref:null,wv=Boolean.prototype.valueOf,y1=Object.prototype.toString,v1=Function.prototype.toString,b1=String.prototype.match,Yf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Vp=Object.getOwnPropertySymbols,Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="object",e0=Object.prototype.propertyIsEnumerable,n0=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(Nt){return Nt.__proto__}:null),Vg=So.custom,r0=Vg&&a0(Vg)?Vg:null,lc=typeof Symbol=="function"&&typeof Symbol.toStringTag<"u"?Symbol.toStringTag:null,xv=function Nt(Pt,jt,Ft,Gt){var tn=jt||{};if(Ad(tn,"quoteStyle")&&tn.quoteStyle!=="single"&&tn.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ad(tn,"maxStringLength")&&(typeof tn.maxStringLength=="number"?tn.maxStringLength<0&&tn.maxStringLength!==1/0:tn.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var fn=Ad(tn,"customInspect")?tn.customInspect:!0;if(typeof fn!="boolean"&&fn!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ad(tn,"indent")&&tn.indent!==null&&tn.indent!=="	"&&!(parseInt(tn.indent,10)===tn.indent&&tn.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(typeof Pt>"u")return"undefined";if(Pt===null)return"null";if(typeof Pt=="boolean")return Pt?"true":"false";if(typeof Pt=="string")return l0(Pt,tn);if(typeof Pt=="number")return Pt===0?1/0/Pt>0?"0":"-0":String(Pt);if(typeof Pt=="bigint")return String(Pt)+"n";var Cn=typeof tn.depth>"u"?5:tn.depth;if(typeof Ft>"u"&&(Ft=0),Ft>=Cn&&Cn>0&&typeof Pt=="object")return Yg(Pt)?"[Array]":"[Object]";var Fn=C1(tn,Ft);if(typeof Gt>"u")Gt=[];else if(s0(Gt,Pt)>=0)return"[Circular]";function Hn(Ps,Rs,Gh){if(Rs&&(Gt=Gt.slice(),Gt.push(Rs)),Gh){var Iu={depth:tn.depth};return Ad(tn,"quoteStyle")&&(Iu.quoteStyle=tn.quoteStyle),Nt(Ps,Iu,Ft+1,Gt)}return Nt(Ps,tn,Ft+1,Gt)}if(typeof Pt=="function"){var jn=Mv(Pt),Sr=Gg(Pt,Hn);return"[Function"+(jn?": "+jn:" (anonymous)")+"]"+(Sr.length>0?" { "+Sr.join(", ")+" }":"")}if(a0(Pt)){var $r=Gf?String(Pt).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):Jm.call(Pt);return typeof Pt=="object"&&!Gf?Yp($r):$r}if(Av(Pt)){for(var Yr="<"+String(Pt.nodeName).toLowerCase(),si=Pt.attributes||[],ki=0;ki<si.length;ki++)Yr+=" "+si[ki].name+"="+i0(_1(si[ki].value),"double",tn);return Yr+=">",Pt.childNodes&&Pt.childNodes.length&&(Yr+="..."),Yr+="</"+String(Pt.nodeName).toLowerCase()+">",Yr}if(Yg(Pt)){if(Pt.length===0)return"[]";var Mi=Gg(Pt,Hn);return Fn&&!Dv(Mi)?"["+u0(Mi,Fn)+"]":"[ "+Mi.join(", ")+" ]"}if(o0(Pt)){var Vi=Gg(Pt,Hn);return Vi.length===0?"["+String(Pt)+"]":"{ ["+String(Pt)+"] "+Vi.join(", ")+" }"}if(typeof Pt=="object"&&fn){if(r0&&typeof Pt[r0]=="function")return Pt[r0]();if(fn!=="symbol"&&typeof Pt.inspect=="function")return Pt.inspect()}if(M1(Pt)){var Ki=[];return ja.call(Pt,function(Ps,Rs){Ki.push(Hn(Rs,Pt,!0)+" => "+Hn(Ps,Pt))}),k1("Map",No.call(Pt),Ki,Fn)}if(S1(Pt)){var Ko=[];return Km.call(Pt,function(Ps){Ko.push(Hn(Ps,Pt))}),k1("Set",ar.call(Pt),Ko,Fn)}if(Sv(Pt))return c0("WeakMap");if(Cv(Pt))return c0("WeakSet");if(kv(Pt))return c0("WeakRef");if(x1(Pt))return Yp(Hn(Number(Pt)));if(T1(Pt))return Yp(Hn(Yf.call(Pt)));if(E1(Pt))return Yp(wv.call(Pt));if(Tv(Pt))return Yp(Hn(String(Pt)));if(!Ev(Pt)&&!w1(Pt)){var Uo=Gg(Pt,Hn),Oo=n0?n0(Pt)===Object.prototype:Pt instanceof Object||Pt.constructor===Object,ea=Pt instanceof Object?"":"null prototype",Ho=!Oo&&lc&&Object(Pt)===Pt&&lc in Pt?ed(Pt).slice(8,-1):ea?"Object":"",dl=Oo||typeof Pt.constructor!="function"?"":Pt.constructor.name?Pt.constructor.name+" ":"",yl=dl+(Ho||ea?"["+[].concat(Ho||[],ea||[]).join(": ")+"] ":"");return Uo.length===0?yl+"{}":Fn?yl+"{"+u0(Uo,Fn)+"}":yl+"{ "+Uo.join(", ")+" }"}return String(Pt)};function i0(Nt,Pt,jt){var Ft=(jt.quoteStyle||Pt)==="double"?'"':"'";return Ft+Nt+Ft}function _1(Nt){return String(Nt).replace(/"/g,"&quot;")}function Yg(Nt){return ed(Nt)==="[object Array]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function Ev(Nt){return ed(Nt)==="[object Date]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function w1(Nt){return ed(Nt)==="[object RegExp]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function o0(Nt){return ed(Nt)==="[object Error]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function Tv(Nt){return ed(Nt)==="[object String]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function x1(Nt){return ed(Nt)==="[object Number]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function E1(Nt){return ed(Nt)==="[object Boolean]"&&(!lc||!(typeof Nt=="object"&&lc in Nt))}function a0(Nt){if(Gf)return Nt&&typeof Nt=="object"&&Nt instanceof Symbol;if(typeof Nt=="symbol")return!0;if(!Nt||typeof Nt!="object"||!Jm)return!1;try{return Jm.call(Nt),!0}catch{}return!1}function T1(Nt){if(!Nt||typeof Nt!="object"||!Yf)return!1;try{return Yf.call(Nt),!0}catch{}return!1}var Dh=Object.prototype.hasOwnProperty||function(Nt){return Nt in this};function Ad(Nt,Pt){return Dh.call(Nt,Pt)}function ed(Nt){return y1.call(Nt)}function Mv(Nt){if(Nt.name)return Nt.name;var Pt=b1.call(v1.call(Nt),/^function\s*([\w$]+)/);return Pt?Pt[1]:null}function s0(Nt,Pt){if(Nt.indexOf)return Nt.indexOf(Pt);for(var jt=0,Ft=Nt.length;jt<Ft;jt++)if(Nt[jt]===Pt)return jt;return-1}function M1(Nt){if(!No||!Nt||typeof Nt!="object")return!1;try{No.call(Nt);try{ar.call(Nt)}catch{return!0}return Nt instanceof Map}catch{}return!1}function Sv(Nt){if(!Up||!Nt||typeof Nt!="object")return!1;try{Up.call(Nt,Up);try{Hp.call(Nt,Hp)}catch{return!0}return Nt instanceof WeakMap}catch{}return!1}function kv(Nt){if(!m1||!Nt||typeof Nt!="object")return!1;try{return m1.call(Nt),!0}catch{}return!1}function S1(Nt){if(!ar||!Nt||typeof Nt!="object")return!1;try{ar.call(Nt);try{No.call(Nt)}catch{return!0}return Nt instanceof Set}catch{}return!1}function Cv(Nt){if(!Hp||!Nt||typeof Nt!="object")return!1;try{Hp.call(Nt,Hp);try{Up.call(Nt,Up)}catch{return!0}return Nt instanceof WeakSet}catch{}return!1}function Av(Nt){return!Nt||typeof Nt!="object"?!1:typeof HTMLElement<"u"&&Nt instanceof HTMLElement?!0:typeof Nt.nodeName=="string"&&typeof Nt.getAttribute=="function"}function l0(Nt,Pt){if(Nt.length>Pt.maxStringLength){var jt=Nt.length-Pt.maxStringLength,Ft="... "+jt+" more character"+(jt>1?"s":"");return l0(Nt.slice(0,Pt.maxStringLength),Pt)+Ft}var Gt=Nt.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Nv);return i0(Gt,"single",Pt)}function Nv(Nt){var Pt=Nt.charCodeAt(0),jt={8:"b",9:"t",10:"n",12:"f",13:"r"}[Pt];return jt?"\\"+jt:"\\x"+(Pt<16?"0":"")+Pt.toString(16).toUpperCase()}function Yp(Nt){return"Object("+Nt+")"}function c0(Nt){return Nt+" { ? }"}function k1(Nt,Pt,jt,Ft){var Gt=Ft?u0(jt,Ft):jt.join(", ");return Nt+" ("+Pt+") {"+Gt+"}"}function Dv(Nt){for(var Pt=0;Pt<Nt.length;Pt++)if(s0(Nt[Pt],`
`)>=0)return!1;return!0}function C1(Nt,Pt){var jt;if(Nt.indent==="	")jt="	";else if(typeof Nt.indent=="number"&&Nt.indent>0)jt=Array(Nt.indent+1).join(" ");else return null;return{base:jt,prev:Array(Pt+1).join(jt)}}function u0(Nt,Pt){if(Nt.length===0)return"";var jt=`
`+Pt.prev+Pt.base;return jt+Nt.join(","+jt)+`
`+Pt.prev}function Gg(Nt,Pt){var jt=Yg(Nt),Ft=[];if(jt){Ft.length=Nt.length;for(var Gt=0;Gt<Nt.length;Gt++)Ft[Gt]=Ad(Nt,Gt)?Pt(Nt[Gt],Nt):""}var tn=typeof Vp=="function"?Vp(Nt):[],fn;if(Gf){fn={};for(var Cn=0;Cn<tn.length;Cn++)fn["$"+tn[Cn]]=tn[Cn]}for(var Fn in Nt)!Ad(Nt,Fn)||jt&&String(Number(Fn))===Fn&&Fn<Nt.length||Gf&&fn["$"+Fn]instanceof Symbol||(/[^\w$]/.test(Fn)?Ft.push(Pt(Fn,Nt)+": "+Pt(Nt[Fn],Nt)):Ft.push(Fn+": "+Pt(Nt[Fn],Nt)));if(typeof Vp=="function")for(var Hn=0;Hn<tn.length;Hn++)e0.call(Nt,tn[Hn])&&Ft.push("["+Pt(tn[Hn])+"]: "+Pt(Nt[tn[Hn]],Nt));return Ft}var h0=function(Nt){return typeof Nt=="string"||typeof Nt=="symbol"},A1=function(Nt){if(Nt===null)return"Null";if(typeof Nt>"u")return"Undefined";if(typeof Nt=="function"||typeof Nt=="object")return"Object";if(typeof Nt=="number")return"Number";if(typeof Nt=="boolean")return"Boolean";if(typeof Nt=="string")return"String"},Wg=A1,Nd=function(Nt){return typeof Nt=="symbol"?"Symbol":typeof Nt=="bigint"?"BigInt":Wg(Nt)},qg=Ro,d0=qg("%TypeError%"),Iv=xv,N1=h0,Lv=Nd,D1=function(Nt,Pt){if(Lv(Nt)!=="Object")throw new d0("Assertion failed: Type(O) is not Object");if(!N1(Pt))throw new d0("Assertion failed: IsPropertyKey(P) is not true, got "+Iv(Pt));return Nt[Pt]},Qg=Ro,Gp=Qg("%TypeError%"),Wp=h0,qp=Nd,I1=function(Nt,Pt){if(qp(Nt)!=="Object")throw new Gp("Assertion failed: `O` must be an Object");if(!Wp(Pt))throw new Gp("Assertion failed: `P` must be a Property Key");return Pt in Nt},Wf=Function.prototype.toString,Ih=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,qf,Xg;if(typeof Ih=="function"&&typeof Object.defineProperty=="function")try{qf=Object.defineProperty({},"length",{get:function(){throw Xg}}),Xg={},Ih(function(){throw 42},null,qf)}catch(Nt){Nt!==Xg&&(Ih=null)}else Ih=null;var Ov=/^\s*class\b/,f0=function(Nt){try{var Pt=Wf.call(Nt);return Ov.test(Pt)}catch{return!1}},L1=function(Nt){try{return f0(Nt)?!1:(Wf.call(Nt),!0)}catch{return!1}},Pv=Object.prototype.toString,p0="[object Function]",O1="[object GeneratorFunction]",Rv=typeof Symbol=="function"&&!!Symbol.toStringTag,rf=typeof document=="object"&&typeof document.all>"u"&&document.all!==void 0?document.all:{},Dd=Ih?function(Nt){if(Nt===rf)return!0;if(!Nt||typeof Nt!="function"&&typeof Nt!="object")return!1;if(typeof Nt=="function"&&!Nt.prototype)return!0;try{Ih(Nt,null,qf)}catch(Pt){if(Pt!==Xg)return!1}return!f0(Nt)}:function(Nt){if(Nt===rf)return!0;if(!Nt||typeof Nt!="function"&&typeof Nt!="object")return!1;if(typeof Nt=="function"&&!Nt.prototype)return!0;if(Rv)return L1(Nt);if(f0(Nt))return!1;var Pt=Pv.call(Nt);return Pt===p0||Pt===O1},P1=Dd,R1=Ro,z1=R1("%Math%"),g0=R1("%Number%"),zv=g0.MAX_SAFE_INTEGER||z1.pow(2,53)-1,$v=Ro,$1=$v("%Math.abs%"),Bv=function(Nt){return $1(Nt)},Qf=Math.floor,mu=function(Nt){return Qf(Nt)},Xf=function(Nt){return Nt===null||typeof Nt!="function"&&typeof Nt!="object"},xc=Object.prototype.toString,Es=Xf,jv=Dd,B1={"[[DefaultValue]]":function(Nt){var Pt;if(arguments.length>1?Pt=arguments[1]:Pt=xc.call(Nt)==="[object Date]"?String:Number,Pt===String||Pt===Number){var jt=Pt===String?["toString","valueOf"]:["valueOf","toString"],Ft,Gt;for(Gt=0;Gt<jt.length;++Gt)if(jv(Nt[jt[Gt]])&&(Ft=Nt[jt[Gt]](),Es(Ft)))return Ft;throw new TypeError("No default value")}throw new TypeError("invalid [[DefaultValue]] hint supplied")}},m0=function(Nt){return Es(Nt)?Nt:arguments.length>1?B1["[[DefaultValue]]"](Nt,arguments[1]):B1["[[DefaultValue]]"](Nt)},Fv=m0,j1=Fv,F1=function(Nt){var Pt=j1(Nt,Number);if(typeof Pt!="string")return+Pt;var jt=Pt.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,"");return/^0[ob]|^[+-]0x/.test(jt)?NaN:+jt},y0=Number.isNaN||function(Nt){return Nt!==Nt},U1=Number.isNaN||function(Nt){return Nt!==Nt},H1=Number.isFinite||function(Nt){return typeof Nt=="number"&&!U1(Nt)&&Nt!==1/0&&Nt!==-1/0},Uv=function(Nt){return Nt>=0?1:-1},Hv=Bv,Vv=mu,V1=F1,Y1=y0,G1=H1,W1=Uv,q1=function(Nt){var Pt=V1(Nt);return Y1(Pt)?0:Pt===0||!G1(Pt)?Pt:W1(Pt)*Vv(Hv(Pt))},Q1=Ro,X1=Q1("RegExp.prototype.test"),Yv=Td.exports,Gv=function(Nt){return Yv(X1,Nt)},Qp=function(Nt){return Nt===null||typeof Nt!="function"&&typeof Nt!="object"},Z1=Hf,v0=function(){return Z1()&&!!Symbol.toStringTag},K1=Date.prototype.getDay,J1=function(Nt){try{return K1.call(Nt),!0}catch{return!1}},ey=Object.prototype.toString,Wv="[object Date]",ty=v0(),b0=function(Nt){return typeof Nt!="object"||Nt===null?!1:ty?J1(Nt):ey.call(Nt)===Wv},Zg={exports:{}},_0=Object.prototype.toString,Kg=Um();if(Kg){var w0=Symbol.prototype.toString,ny=/^Symbol\(.*\)$/,qv=function(Nt){return typeof Nt.valueOf()!="symbol"?!1:ny.test(w0.call(Nt))};Zg.exports=function(Nt){if(typeof Nt=="symbol")return!0;if(_0.call(Nt)!=="[object Symbol]")return!1;try{return qv(Nt)}catch{return!1}}}else Zg.exports=function(Nt){return!1};var Id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol",x0=Xf,td=Dd,E0=b0,T0=Zg.exports,M0=function(Nt,Pt){if(typeof Nt>"u"||Nt===null)throw new TypeError("Cannot call method on "+Nt);if(typeof Pt!="string"||Pt!=="number"&&Pt!=="string")throw new TypeError('hint must be "string" or "number"');var jt=Pt==="string"?["toString","valueOf"]:["valueOf","toString"],Ft,Gt,tn;for(tn=0;tn<jt.length;++tn)if(Ft=Nt[jt[tn]],td(Ft)&&(Gt=Ft.call(Nt),x0(Gt)))return Gt;throw new TypeError("No default value")},S0=function(Nt,Pt){var jt=Nt[Pt];if(jt!==null&&typeof jt<"u"){if(!td(jt))throw new TypeError(jt+" returned for property "+Pt+" of object "+Nt+" is not a function");return jt}},k0=function(Nt){if(x0(Nt))return Nt;var Pt="default";arguments.length>1&&(arguments[1]===String?Pt="string":arguments[1]===Number&&(Pt="number"));var jt;if(Id&&(Symbol.toPrimitive?jt=S0(Nt,Symbol.toPrimitive):T0(Nt)&&(jt=Symbol.prototype.valueOf)),typeof jt<"u"){var Ft=jt.call(Nt,Pt);if(x0(Ft))return Ft;throw new TypeError("unable to convert exotic object to primitive")}return Pt==="default"&&(E0(Nt)||T0(Nt))&&(Pt="string"),M0(Nt,Pt==="default"?"number":Pt)},Jg=k0,C0=function(Nt){return arguments.length>1?Jg(Nt,arguments[1]):Jg(Nt)},Pc=Ro,A0=Pc("%TypeError%"),Ec=Pc("%Number%"),Xp=Pc("%RegExp%"),em=Pc("%parseInt%"),nd=ra,tm=Gv,N0=Qp,ry=nd("String.prototype.slice"),iy=tm(/^0b[01]+$/i),Zp=tm(/^0o[0-7]+$/i),Kp=tm(/^[-+]0x[0-9a-f]+$/i),oy=["\x85","\u200B","\uFFFE"].join(""),ay=new Xp("["+oy+"]","g"),nm=tm(ay),sy=[`	
\v\f\r \xA0\u1680\u180E\u2000\u2001\u2002\u2003`,"\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028","\u2029\uFEFF"].join(""),ly=new RegExp("(^["+sy+"]+)|(["+sy+"]+$)","g"),cy=nd("String.prototype.replace"),Lh=function(Nt){return cy(Nt,ly,"")},Qv=C0,rm=function Nt(Pt){var jt=N0(Pt)?Pt:Qv(Pt,Ec);if(typeof jt=="symbol")throw new A0("Cannot convert a Symbol value to a number");if(typeof jt=="bigint")throw new A0("Conversion from 'BigInt' to 'number' is not allowed.");if(typeof jt=="string"){if(iy(jt))return Nt(em(ry(jt,2),2));if(Zp(jt))return Nt(em(ry(jt,2),8));if(nm(jt)||Kp(jt))return NaN;var Ft=Lh(jt);if(Ft!==jt)return Nt(Ft)}return Ec(jt)},uy=q1,Xv=rm,hy=function(Nt){var Pt=Xv(Nt);return Pt!==0&&(Pt=uy(Pt)),Pt===0?0:Pt},dy=zv,fy=hy,Zv=function(Nt){var Pt=fy(Nt);return Pt<=0?0:Pt>dy?dy:Pt},Kv=Ro,py=Kv("%TypeError%"),Jv=D1,lh=Zv,rd=Nd,of=function(Nt){if(rd(Nt)!=="Object")throw new py("Assertion failed: `obj` must be an Object");return lh(Jv(Nt,"length"))},Ss=Ro,jo=Ss("%Object%"),gy=fa,Jc=function(Nt){return gy(Nt),jo(Nt)},Jp=Ro,Zf=Jp("%String%"),eu=Jp("%TypeError%"),Xr=function(Nt){if(typeof Nt=="symbol")throw new eu("Cannot convert a Symbol value to a string");return Zf(Nt)},af=String.prototype.valueOf,od=function(Nt){try{return af.call(Nt),!0}catch{return!1}},Kf=Object.prototype.toString,ai="[object String]",eg=v0(),Do=function(Nt){return typeof Nt=="string"?!0:typeof Nt!="object"?!1:eg?od(Nt):Kf.call(Nt)===ai},Rc=Ro,my=ra,Bu=Rc("%TypeError%"),ju=Zm,tg=D1,di=I1,yu=P1,cc=of,yy=Jc,Ma=Xr,ng=Do,vy=my("String.prototype.split"),sf=Object("a"),zl=sf[0]!=="a"||!(0 in sf),tu=function(Nt){var Pt=yy(this),jt=zl&&ng(this)?vy(this,""):Pt,Ft=cc(jt);if(!yu(Nt))throw new Bu("Array.prototype.forEach callback must be a function");var Gt;arguments.length>1&&(Gt=arguments[1]);for(var tn=0;tn<Ft;){var fn=Ma(tn),Cn=di(jt,fn);if(Cn){var Fn=tg(jt,fn);ju(Nt,Gt,[Fn,tn,jt])}tn+=1}},go=function(Nt){var Pt=!0,jt=!0,Ft=!1;if(typeof Nt=="function"){try{Nt.call("f",function(Gt,tn,fn){typeof fn!="object"&&(Pt=!1)}),Nt.call([null],function(){"use strict";jt=typeof this=="string"},"x")}catch{Ft=!0}return!Ft&&Pt&&jt}return!1},by=go,Fu=tu,rg=function(){var Nt=Array.prototype.forEach;return by(Nt)?Nt:Fu},Oh=Nh,Jf=rg,vu=function(){var Nt=Jf();return Oh(Array.prototype,{forEach:Nt},{forEach:function(){return Array.prototype.forEach!==Nt}}),Nt},Ph=Nh,im=Td.exports,qo=ra,Ds=fa,lf=tu,ad=rg,cf=ad(),Uu=vu,Wi=qo("Array.prototype.slice"),uf=im.apply(cf),ch=function(Nt,Pt){return Ds(Nt),uf(Nt,Wi(arguments,1))};Ph(ch,{getPolyfill:ad,implementation:lf,shim:Uu});var Ao=ch,uh=fa,om=ra,hh=om("Object.prototype.propertyIsEnumerable"),nu=om("Array.prototype.push"),dh=function(Nt){var Pt=uh(Nt),jt=[];for(var Ft in Pt)hh(Pt,Ft)&&nu(jt,[Ft,Pt[Ft]]);return jt},ep=dh,hf=function(){return typeof Object.entries=="function"?Object.entries:ep},tp=hf,np=Nh,il=function(){var Nt=tp();return np(Object,{entries:Nt},{entries:function(){return Object.entries!==Nt}}),Nt},D0=Nh,rp=Td.exports,bu=dh,df=hf,Hi=il,_y=rp(df(),Object);D0(_y,{getPolyfill:df,implementation:bu,shim:Hi});var ig=_y,sa=fa,am=Xr,og=ra,ff=og("String.prototype.replace"),pf=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,eb=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,ip=function(){var Nt=am(sa(this));return ff(ff(Nt,pf,""),eb,"")},sm=ip,lm="\u200B",wy=function(){return String.prototype.trim&&lm.trim()===lm?String.prototype.trim:sm},xy=Nh,fs=wy,Rh=function(){var Nt=fs();return xy(String.prototype,{trim:Nt},{trim:function(){return String.prototype.trim!==Nt}}),Nt},I0=Td.exports,Ey=Nh,ql=ip,op=wy,Ty=Rh,_u=I0(op());Ey(_u,{getPolyfill:op,implementation:ql,shim:Ty});var cm=_u,fh=Ao,Fa=ig,ru=Hm,Hu=cm,wu=function(Nt){},nc=String.prototype.replace,sd=String.prototype.split,uc="||||",ap=function(Nt){var Pt=Nt%100,jt=Pt%10;return Pt!==11&&jt===1?0:2<=jt&&jt<=4&&!(Pt>=12&&Pt<=14)?1:2},My={pluralTypes:{arabic:function(Nt){if(Nt<3)return Nt;var Pt=Nt%100;return Pt>=3&&Pt<=10?3:Pt>=11?4:5},bosnian_serbian:ap,chinese:function(){return 0},croatian:ap,french:function(Nt){return Nt>=2?1:0},german:function(Nt){return Nt!==1?1:0},russian:ap,lithuanian:function(Nt){return Nt%10==1&&Nt%100!=11?0:Nt%10>=2&&Nt%10<=9&&(Nt%100<11||Nt%100>19)?1:2},czech:function(Nt){return Nt===1?0:Nt>=2&&Nt<=4?1:2},polish:function(Nt){if(Nt===1)return 0;var Pt=Nt%10;return 2<=Pt&&Pt<=4&&(Nt%100<10||Nt%100>=20)?1:2},icelandic:function(Nt){return Nt%10!=1||Nt%100==11?1:0},slovenian:function(Nt){var Pt=Nt%100;return Pt===1?0:Pt===2?1:Pt===3||Pt===4?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function tb(Nt){var Pt={};return fh(Fa(Nt),function(jt){var Ft=jt[0],Gt=jt[1];fh(Gt,function(tn){Pt[tn]=Ft})}),Pt}function nb(Nt,Pt){var jt=tb(Nt.pluralTypeToLanguages);return jt[Pt]||jt[sd.call(Pt,/-/,1)[0]]||jt.en}function rb(Nt,Pt,jt){return Nt.pluralTypes[Pt](jt)}function ib(){var Nt={};return function(Pt,jt){var Ft=Nt[jt];return Ft&&!Pt.pluralTypes[Ft]&&(Ft=null,Nt[jt]=Ft),Ft||(Ft=nb(Pt,jt),Ft&&(Nt[jt]=Ft)),Ft}}function Sy(Nt){return Nt.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function iu(Nt){var Pt=Nt&&Nt.prefix||"%{",jt=Nt&&Nt.suffix||"}";if(Pt===uc||jt===uc)throw new RangeError('"'+uc+'" token is reserved for pluralization');return new RegExp(Sy(Pt)+"(.*?)"+Sy(jt),"g")}var L0=ib(),js=/%\{(.*?)\}/g;function ks(Nt,Pt,jt,Ft,Gt){if(typeof Nt!="string")throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");if(Pt==null)return Nt;var tn=Nt,fn=Ft||js,Cn=typeof Pt=="number"?{smart_count:Pt}:Pt;if(Cn.smart_count!=null&&Nt){var Fn=Gt||My,Hn=sd.call(Nt,uc),jn=jt||"en",Sr=L0(Fn,jn),$r=rb(Fn,Sr,Cn.smart_count);tn=Hu(Hn[$r]||Hn[0])}return tn=nc.call(tn,fn,function(Yr,si){return!ru(Cn,si)||Cn[si]==null?Yr:Cn[si]}),tn}function xu(Nt){var Pt=Nt||{};this.phrases={},this.extend(Pt.phrases||{}),this.currentLocale=Pt.locale||"en";var jt=Pt.allowMissing?ks:null;this.onMissingKey=typeof Pt.onMissingKey=="function"?Pt.onMissingKey:jt,this.warn=Pt.warn||wu,this.tokenRegex=iu(Pt.interpolation),this.pluralRules=Pt.pluralRules||My}xu.prototype.locale=function(Nt){return Nt&&(this.currentLocale=Nt),this.currentLocale},xu.prototype.extend=function(Nt,Pt){fh(Fa(Nt||{}),function(jt){var Ft=jt[0],Gt=jt[1],tn=Pt?Pt+"."+Ft:Ft;typeof Gt=="object"?this.extend(Gt,tn):this.phrases[tn]=Gt},this)},xu.prototype.unset=function(Nt,Pt){typeof Nt=="string"?delete this.phrases[Nt]:fh(Fa(Nt||{}),function(jt){var Ft=jt[0],Gt=jt[1],tn=Pt?Pt+"."+Ft:Ft;typeof Gt=="object"?this.unset(Gt,tn):delete this.phrases[tn]},this)},xu.prototype.clear=function(){this.phrases={}},xu.prototype.replace=function(Nt){this.clear(),this.extend(Nt)},xu.prototype.t=function(Nt,Pt){var jt,Ft,Gt=Pt==null?{}:Pt;if(typeof this.phrases[Nt]=="string")jt=this.phrases[Nt];else if(typeof Gt._=="string")jt=Gt._;else if(this.onMissingKey){var tn=this.onMissingKey;Ft=tn(Nt,Gt,this.currentLocale,this.tokenRegex,this.pluralRules)}else this.warn('Missing translation for key: "'+Nt+'"'),Ft=Nt;return typeof jt=="string"&&(Ft=ks(jt,Gt,this.currentLocale,this.tokenRegex,this.pluralRules)),Ft},xu.prototype.has=function(Nt){return ru(this.phrases,Nt)},xu.transformPhrase=function(Nt,Pt,jt){return ks(Nt,Pt,jt)};var Tc=xu,ld={"Add a comment...":"\u0625\u0636\u0627\u0641\u0629 \u062A\u0639\u0644\u064A\u0642","Add a reply...":"\u0625\u0636\u0627\u0641\u0629 \u0631\u062F","Add tag...":"\u0625\u0636\u0627\u0641\u0629 \u0639\u0644\u0627\u0645\u0629",Cancel:"\u0625\u0644\u063A\u0627\u0621",Close:"\u0625\u063A\u0644\u0627\u0642",Edit:"Edit",Delete:"Delete",Ok:"\u062A\u0645"},ol={"Add a comment...":"Napsat koment\xE1\u0159...","Add a reply...":"Odpov\u011Bd\u011Bt...","Add tag...":"P\u0159idat \u0161t\xEDtek...",Cancel:"Zru\u0161it",Close:"Zav\u0159\xEDt",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},sp={"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"L\xF6schen",Ok:"Ok"},ph={"Add a comment...":"\u03A3\u03C7\u03BF\u03BB\u03AF\u03B1\u03C3\u03B5...","Add a reply...":"\u0391\u03C0\u03AC\u03BD\u03C4\u03B7\u03C3\u03B5...","Add tag...":"\u03A0\u03C1\u03CC\u03C3\u03B8\u03B5\u03C3\u03B5 tag...",Cancel:"\u0386\u03BA\u03C5\u03C1\u03BF",Close:"\u039A\u03BB\u03B5\u03AF\u03C3\u03B9\u03BC\u03BF",Edit:"\u0395\u03C0\u03B5\u03BE\u03B5\u03C1\u03B3\u03B1\u03C3\u03AF\u03B1",Delete:"\u0394\u03B9\u03B1\u03B3\u03C1\u03B1\u03C6\u03AE",Ok:"Ok"},gh={"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},ou={"Add a comment...":"Lis\xE4\xE4 kommentti","Add a reply...":"Lis\xE4\xE4 vastaus","Add tag...":"Lis\xE4\xE4 tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},um={"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une r\xE9ponse...","Add tag...":"Ajouter une \xE9tiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"\xC9diter",Delete:"Supprimer",Ok:"Ok"},ag={"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},sg={"Add a comment...":"\u091F\u093F\u092A\u094D\u092A\u0923\u0940 \u091C\u094B\u0921\u093C\u0947\u0902","Add a reply...":"\u091C\u0935\u093E\u092C \u0926\u0947\u0902","Add tag...":"\u091F\u0948\u0917 \u0932\u0917\u093E\u090F\u0901",Cancel:"\u0930\u0926\u094D\u0926 \u0915\u0930\u0947\u0902",Close:"\u092C\u0902\u0926 \u0915\u0930\u0947\u0902",Edit:"\u0938\u0902\u092A\u093E\u0926\u093F\u0924 \u0915\u0930\u0947\u0902",Delete:"\u0939\u091F\u093E\u090F\u0901",Ok:"\u0920\u0940\u0915 \u0939\u0948"},lg={"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Fs={"Add a comment...":"\uB313\uAE00 \uCD94\uAC00","Add a reply...":"\uB2F5\uAE00 \uCD94\uAC00","Add tag...":"\uD0DC\uADF8 \uCD94\uAC00",Cancel:"\uCDE8\uC18C",Close:"\uB2EB\uAE30",Edit:"\uC218\uC815",Delete:"\uC0AD\uC81C",Ok:"\uD655\uC778"},ky={"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},mh={"Add a comment...":"Adicionar um coment\xE1rio...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},O0={"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"St\xE4ng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},Cy={"Add a comment...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E04\u0E2D\u0E21\u0E40\u0E21\u0E19\u0E15\u0E4C...","Add a reply...":"\u0E15\u0E2D\u0E1A\u0E01\u0E25\u0E31\u0E1A...","Add tag...":"\u0E40\u0E1E\u0E34\u0E48\u0E21\u0E41\u0E17\u0E47\u0E01...",Cancel:"\u0E22\u0E01\u0E40\u0E25\u0E34\u0E01",Close:"\u0E1B\u0E34\u0E14",Edit:"\u0E41\u0E01\u0E49\u0E44\u0E02",Delete:"\u0E25\u0E1A",Ok:"\u0E15\u0E01\u0E25\u0E07"},Qa={"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"\u0130ptal",Close:"Kapat",Edit:"D\xFCzenle",Delete:"Sil",Ok:"Tamam"},P0={"Add a comment...":"\u062A\u0628\u0635\u0631\u06C1 \u06A9\u0631\u06CC\u06BA","Add a reply...":"\u062C\u0648\u0627\u0628 \u062F\u06CC\u06BA","Add tag...":"\u0679\u06CC\u06AF \u0644\u06AF\u0627\u0626\u06CC\u06BA",Cancel:"\u0645\u0646\u0633\u0648\u062E \u06A9\u0631\u06CC\u06BA",Close:"\u0628\u0646\u062F \u06A9\u0631\u06CC\u06BA",Edit:"\u062A\u0631\u0645\u06CC\u0645 \u06A9\u0631\u06CC\u06BA",Delete:"\u06C1\u0679\u0627\u0626\u06CC\u06BA",Ok:"\u0679\u06BE\u06CC\u06A9 \u06C1\u06D2"},Eu={};Object.defineProperty(Eu,"__esModule",{value:!0});var cg=[["\u062B\u0627\u0646\u064A\u0629","\u062B\u0627\u0646\u064A\u062A\u064A\u0646","%s \u062B\u0648\u0627\u0646","%s \u062B\u0627\u0646\u064A\u0629"],["\u062F\u0642\u064A\u0642\u0629","\u062F\u0642\u064A\u0642\u062A\u064A\u0646","%s \u062F\u0642\u0627\u0626\u0642","%s \u062F\u0642\u064A\u0642\u0629"],["\u0633\u0627\u0639\u0629","\u0633\u0627\u0639\u062A\u064A\u0646","%s \u0633\u0627\u0639\u0627\u062A","%s \u0633\u0627\u0639\u0629"],["\u064A\u0648\u0645","\u064A\u0648\u0645\u064A\u0646","%s \u0623\u064A\u0627\u0645","%s \u064A\u0648\u0645\u0627\u064B"],["\u0623\u0633\u0628\u0648\u0639","\u0623\u0633\u0628\u0648\u0639\u064A\u0646","%s \u0623\u0633\u0627\u0628\u064A\u0639","%s \u0623\u0633\u0628\u0648\u0639\u0627\u064B"],["\u0634\u0647\u0631","\u0634\u0647\u0631\u064A\u0646","%s \u0623\u0634\u0647\u0631","%s \u0634\u0647\u0631\u0627\u064B"],["\u0639\u0627\u0645","\u0639\u0627\u0645\u064A\u0646","%s \u0623\u0639\u0648\u0627\u0645","%s \u0639\u0627\u0645\u0627\u064B"]];function la(Nt,Pt){return Pt<3?cg[Nt][Pt-1]:Pt>=3&&Pt<=10?cg[Nt][2]:cg[Nt][3]}function Ay(Nt,Pt){if(Pt===0)return["\u0645\u0646\u0630 \u0644\u062D\u0638\u0627\u062A","\u0628\u0639\u062F \u0644\u062D\u0638\u0627\u062A"];var jt=la(Math.floor(Pt/2),Nt);return["\u0645\u0646\u0630 "+jt,"\u0628\u0639\u062F "+jt]}var ob=Eu.default=Ay,ug={};Object.defineProperty(ug,"__esModule",{value:!0});function Vu(Nt,Pt){var jt=0,Ft=Pt==1||Pt==3||Pt==5||Pt==7||Pt==9||Pt==11||Pt==13;return Ft&&Nt>=5&&(jt=1),[[["pr\xE1v\u011B te\u010F","pr\xE1v\u011B te\u010F"]],[["p\u0159ed %s vte\u0159inami","za %s vte\u0159iny"],["p\u0159ed %s vte\u0159inami","za %s vte\u0159in"]],[["p\u0159ed minutou","za minutu"]],[["p\u0159ed %s minutami","za %s minuty"],["p\u0159ed %s minutami","za %s minut"]],[["p\u0159ed hodinou","za hodinu"]],[["p\u0159ed %s hodinami","za %s hodiny"],["p\u0159ed %s hodinami","za %s hodin"]],[["v\u010Dera","z\xEDtra"]],[["p\u0159ed %s dny","za %s dny"],["p\u0159ed %s dny","za %s dn\u016F"]],[["minul\xFD t\xFDden","p\u0159\xED\u0161t\xED t\xFDden"]],[["p\u0159ed %s t\xFDdny","za %s t\xFDdny"],["p\u0159ed %s t\xFDdny","za %s t\xFDdn\u016F"]],[["minul\xFD m\u011Bs\xEDc","p\u0159\xEDst\xED m\u011Bs\xEDc"]],[["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDce"],["p\u0159ed %s m\u011Bs\xEDci","za %s m\u011Bs\xEDc\u016F"]],[["p\u0159ed rokem","p\u0159\xEDst\xED rok"]],[["p\u0159ed %s lety","za %s roky"],["p\u0159ed %s lety","za %s let"]]][Pt][jt]}var zh=ug.default=Vu,hm={};Object.defineProperty(hm,"__esModule",{value:!0});function Ny(Nt,Pt){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][Pt]}var Pi=hm.default=Ny,hg={};Object.defineProperty(hg,"__esModule",{value:!0});function dm(Nt,Pt){return[["\u03BC\u03CC\u03BB\u03B9\u03C2 \u03C4\u03CE\u03C1\u03B1","\u03C3\u03B5 \u03BB\u03AF\u03B3\u03BF"],["%s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B4\u03B5\u03C5\u03C4\u03B5\u03C1\u03CC\u03BB\u03B5\u03C0\u03C4\u03B1"],["1 \u03BB\u03B5\u03C0\u03C4\u03CC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BB\u03B5\u03C0\u03C4\u03CC"],["%s \u03BB\u03B5\u03C0\u03C4\u03AC \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BB\u03B5\u03C0\u03C4\u03AC"],["1 \u03CE\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03CE\u03C1\u03B1"],["%s \u03CE\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03CE\u03C1\u03B5\u03C2"],["1 \u03BC\u03AD\u03C1\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AD\u03C1\u03B1"],["%s \u03BC\u03AD\u03C1\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AD\u03C1\u03B5\u03C2"],["1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B1"],["%s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03B5\u03B2\u03B4\u03BF\u03BC\u03AC\u03B4\u03B5\u03C2"],["1 \u03BC\u03AE\u03BD\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03BC\u03AE\u03BD\u03B1"],["%s \u03BC\u03AE\u03BD\u03B5\u03C2 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03BC\u03AE\u03BD\u03B5\u03C2"],["1 \u03C7\u03C1\u03CC\u03BD\u03BF \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 1 \u03C7\u03C1\u03CC\u03BD\u03BF"],["%s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1 \u03C0\u03C1\u03B9\u03BD","\u03C3\u03B5 %s \u03C7\u03C1\u03CC\u03BD\u03B9\u03B1"]][Pt]}var Yu=hg.default=dm,Tu={};Object.defineProperty(Tu,"__esModule",{value:!0});function $h(Nt,Pt){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 d\xEDa","en 1 d\xEDa"],["hace %s d\xEDas","en %s d\xEDas"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 a\xF1o","en 1 a\xF1o"],["hace %s a\xF1os","en %s a\xF1os"]][Pt]}var fm=Tu.default=$h,Ql={};Object.defineProperty(Ql,"__esModule",{value:!0});function ps(Nt,Pt){return[["juuri \xE4sken","juuri nyt"],["%s sekuntia sitten","%s sekunnin p\xE4\xE4st\xE4"],["minuutti sitten","minuutin p\xE4\xE4st\xE4"],["%s minuuttia sitten","%s minuutin p\xE4\xE4st\xE4"],["tunti sitten","tunnin p\xE4\xE4st\xE4"],["%s tuntia sitten","%s tunnin p\xE4\xE4st\xE4"],["p\xE4iv\xE4 sitten","p\xE4iv\xE4n p\xE4\xE4st\xE4"],["%s p\xE4iv\xE4\xE4 sitten","%s p\xE4iv\xE4n p\xE4\xE4st\xE4"],["viikko sitten","viikon p\xE4\xE4st\xE4"],["%s viikkoa sitten","%s viikon p\xE4\xE4st\xE4"],["kuukausi sitten","kuukauden p\xE4\xE4st\xE4"],["%s kuukautta sitten","%s kuukauden p\xE4\xE4st\xE4"],["vuosi sitten","vuoden p\xE4\xE4st\xE4"],["%s vuotta sitten","%s vuoden p\xE4\xE4st\xE4"]][Pt]}var ns=Ql.default=ps,Us={};Object.defineProperty(Us,"__esModule",{value:!0});function ab(Nt,Pt){return[["\xE0 l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][Pt]}var sb=Us.default=ab,Mc={};Object.defineProperty(Mc,"__esModule",{value:!0});function pm(Nt,Pt){return[["xusto agora","daqu\xED a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 d\xEDa","nun d\xEDa"],["hai %s d\xEDas","en %s d\xEDas"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][Pt]}var Gu=Mc.default=pm,is={};Object.defineProperty(is,"__esModule",{value:!0});function dg(Nt,Pt){return[["\u0905\u092D\u0940","\u0915\u0941\u091B \u0938\u092E\u092F"],["%s \u0938\u0947\u0915\u0902\u0921 \u092A\u0939\u0932\u0947","%s \u0938\u0947\u0915\u0902\u0921 \u092E\u0947\u0902"],["1 \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","1 \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["%s \u092E\u093F\u0928\u091F \u092A\u0939\u0932\u0947","%s \u092E\u093F\u0928\u091F \u092E\u0947\u0902"],["1 \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","1 \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["%s \u0918\u0902\u091F\u0947 \u092A\u0939\u0932\u0947","%s \u0918\u0902\u091F\u0947 \u092E\u0947\u0902"],["1 \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","1 \u0926\u093F\u0928 \u092E\u0947\u0902"],["%s \u0926\u093F\u0928 \u092A\u0939\u0932\u0947","%s \u0926\u093F\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092A\u0939\u0932\u0947","1 \u0938\u092A\u094D\u0924\u093E\u0939 \u092E\u0947\u0902"],["%s \u0939\u092B\u094D\u0924\u0947 \u092A\u0939\u0932\u0947","%s \u0939\u092B\u094D\u0924\u094B\u0902 \u092E\u0947\u0902"],["1 \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","1 \u092E\u0939\u0940\u0928\u0947 \u092E\u0947\u0902"],["%s \u092E\u0939\u0940\u0928\u0947 \u092A\u0939\u0932\u0947","%s \u092E\u0939\u0940\u0928\u094B\u0902 \u092E\u0947\u0902"],["1 \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","1 \u0938\u093E\u0932 \u092E\u0947\u0902"],["%s \u0938\u093E\u0932 \u092A\u0939\u0932\u0947","%s \u0938\u093E\u0932 \u092E\u0947\u0902"]][Pt]}var Xl=is.default=dg,gm={};Object.defineProperty(gm,"__esModule",{value:!0});function lp(Nt,Pt){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][Pt]}var Is=gm.default=lp,hc={};Object.defineProperty(hc,"__esModule",{value:!0});function cp(Nt,Pt){return[["\uBC29\uAE08","\uACE7"],["%s\uCD08 \uC804","%s\uCD08 \uD6C4"],["1\uBD84 \uC804","1\uBD84 \uD6C4"],["%s\uBD84 \uC804","%s\uBD84 \uD6C4"],["1\uC2DC\uAC04 \uC804","1\uC2DC\uAC04 \uD6C4"],["%s\uC2DC\uAC04 \uC804","%s\uC2DC\uAC04 \uD6C4"],["1\uC77C \uC804","1\uC77C \uD6C4"],["%s\uC77C \uC804","%s\uC77C \uD6C4"],["1\uC8FC\uC77C \uC804","1\uC8FC\uC77C \uD6C4"],["%s\uC8FC\uC77C \uC804","%s\uC8FC\uC77C \uD6C4"],["1\uAC1C\uC6D4 \uC804","1\uAC1C\uC6D4 \uD6C4"],["%s\uAC1C\uC6D4 \uC804","%s\uAC1C\uC6D4 \uD6C4"],["1\uB144 \uC804","1\uB144 \uD6C4"],["%s\uB144 \uC804","%s\uB144 \uD6C4"]][Pt]}var Mu=hc.default=cp,yh={};Object.defineProperty(yh,"__esModule",{value:!0});function cd(Nt,Pt){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][Pt]}var gf=yh.default=cd,Qs={};Object.defineProperty(Qs,"__esModule",{value:!0});function Dy(Nt,Pt){return[["agora mesmo","agora"],["h\xE1 %s segundos","em %s segundos"],["h\xE1 um minuto","em um minuto"],["h\xE1 %s minutos","em %s minutos"],["h\xE1 uma hora","em uma hora"],["h\xE1 %s horas","em %s horas"],["h\xE1 um dia","em um dia"],["h\xE1 %s dias","em %s dias"],["h\xE1 uma semana","em uma semana"],["h\xE1 %s semanas","em %s semanas"],["h\xE1 um m\xEAs","em um m\xEAs"],["h\xE1 %s meses","em %s meses"],["h\xE1 um ano","em um ano"],["h\xE1 %s anos","em %s anos"]][Pt]}var Su=Qs.default=Dy,Hs={};Object.defineProperty(Hs,"__esModule",{value:!0});function xl(Nt,Pt){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 m\xE5nad sedan","om 1 m\xE5nad"],["%s m\xE5nader sedan","om %s m\xE5nader"],["1 \xE5r sedan","om 1 \xE5r"],["%s \xE5r sedan","om %s \xE5r"]][Pt]}var mm=Hs.default=xl,Iy={};Object.defineProperty(Iy,"__esModule",{value:!0});function up(Nt,Pt){return[["\u0E40\u0E21\u0E37\u0E48\u0E2D\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48\u0E19\u0E35\u0E49","\u0E2D\u0E35\u0E01\u0E2A\u0E31\u0E01\u0E04\u0E23\u0E39\u0E48"],["%s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E34\u0E19\u0E32\u0E17\u0E35"],["1 \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E19\u0E32\u0E17\u0E35"],["%s \u0E19\u0E32\u0E17\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E19\u0E32\u0E17\u0E35"],["1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["%s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E0A\u0E31\u0E48\u0E27\u0E42\u0E21\u0E07"],["1 \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E27\u0E31\u0E19"],["%s \u0E27\u0E31\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E27\u0E31\u0E19"],["1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["%s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E2D\u0E32\u0E17\u0E34\u0E15\u0E22\u0E4C"],["1 \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E40\u0E14\u0E37\u0E2D\u0E19"],["%s \u0E40\u0E14\u0E37\u0E2D\u0E19\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E40\u0E14\u0E37\u0E2D\u0E19"],["1 \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 1 \u0E1B\u0E35"],["%s \u0E1B\u0E35\u0E17\u0E35\u0E48\u0E41\u0E25\u0E49\u0E27","\u0E43\u0E19 %s \u0E1B\u0E35"]][Pt]}var Ly=Iy.default=up,R0={};Object.defineProperty(R0,"__esModule",{value:!0});function dc(Nt,Pt){return[["az \xF6nce","\u015Fimdi"],["%s saniye \xF6nce","%s saniye i\xE7inde"],["1 dakika \xF6nce","1 dakika i\xE7inde"],["%s dakika \xF6nce","%s dakika i\xE7inde"],["1 saat \xF6nce","1 saat i\xE7inde"],["%s saat \xF6nce","%s saat i\xE7inde"],["1 g\xFCn \xF6nce","1 g\xFCn i\xE7inde"],["%s g\xFCn \xF6nce","%s g\xFCn i\xE7inde"],["1 hafta \xF6nce","1 hafta i\xE7inde"],["%s hafta \xF6nce","%s hafta i\xE7inde"],["1 ay \xF6nce","1 ay i\xE7inde"],["%s ay \xF6nce","%s ay i\xE7inde"],["1 y\u0131l \xF6nce","1 y\u0131l i\xE7inde"],["%s y\u0131l \xF6nce","%s y\u0131l i\xE7inde"]][Pt]}var ud=R0.default=dc;const ml={ar:ld,cs:ol,de:sp,el:ph,es:gh,fi:ou,fr:um,gl:ag,hi:sg,it:lg,ko:Fs,nl:ky,pt:mh,sv:O0,th:Cy,tr:Qa,ur:P0},ku=new Tc({allowMissing:!0});ku.init=(Nt,Pt)=>{ku.clear(),Nt&&(ku.locale(Nt),ku.extend(ml[Nt])),Pt&&ku.extend(Pt)},qs("ar",ob),qs("cs",zh),qs("de",Pi),qs("el",Yu),qs("es",fm),qs("fi",ns),qs("fr",sb),qs("gl",Gu),qs("hi",Xl),qs("it",Is),qs("ko",Mu),qs("nl",gf),qs("pt",Su),qs("sv",mm),qs("th",Ly),qs("tr",ud),ku.registerMessages=(Nt,Pt)=>{ml[Nt]?ml[Nt]=Dt(Dt({},ml[Nt]),Pt):ml[Nt]=Pt};var al=ku,fg=Nt=>{const Pt=Ln();return Op(Pt,()=>Nt.onClickOutside()),gn("ul",{ref:Pt,className:"r6o-comment-dropdown-menu"},gn("li",{onClick:Nt.onEdit},al.t("Edit")),gn("li",{onClick:Nt.onDelete},al.t("Delete")))},Os={},po={},ym={exports:{}};/*!
	autosize 4.0.4
	license: MIT
	http://www.jacklmoore.com/autosize
*/(function(Nt,Pt){(function(jt,Ft){Ft(Nt,Pt)})($s,function(jt,Ft){var Gt=typeof Map=="function"?new Map:function(){var jn=[],Sr=[];return{has:function($r){return jn.indexOf($r)>-1},get:function($r){return Sr[jn.indexOf($r)]},set:function($r,Yr){jn.indexOf($r)===-1&&(jn.push($r),Sr.push(Yr))},delete:function($r){var Yr=jn.indexOf($r);Yr>-1&&(jn.splice(Yr,1),Sr.splice(Yr,1))}}}(),tn=function(jn){return new Event(jn,{bubbles:!0})};try{new Event("test")}catch{tn=function(Sr){var $r=document.createEvent("Event");return $r.initEvent(Sr,!0,!1),$r}}function fn(jn){if(!jn||!jn.nodeName||jn.nodeName!=="TEXTAREA"||Gt.has(jn))return;var Sr=null,$r=null,Yr=null;function si(){var Oo=window.getComputedStyle(jn,null);Oo.resize==="vertical"?jn.style.resize="none":Oo.resize==="both"&&(jn.style.resize="horizontal"),Oo.boxSizing==="content-box"?Sr=-(parseFloat(Oo.paddingTop)+parseFloat(Oo.paddingBottom)):Sr=parseFloat(Oo.borderTopWidth)+parseFloat(Oo.borderBottomWidth),isNaN(Sr)&&(Sr=0),Ki()}function ki(Oo){{var ea=jn.style.width;jn.style.width="0px",jn.offsetWidth,jn.style.width=ea}jn.style.overflowY=Oo}function Mi(Oo){for(var ea=[];Oo&&Oo.parentNode&&Oo.parentNode instanceof Element;)Oo.parentNode.scrollTop&&ea.push({node:Oo.parentNode,scrollTop:Oo.parentNode.scrollTop}),Oo=Oo.parentNode;return ea}function Vi(){if(jn.scrollHeight!==0){var Oo=Mi(jn),ea=document.documentElement&&document.documentElement.scrollTop;jn.style.height="",jn.style.height=jn.scrollHeight+Sr+"px",$r=jn.clientWidth,Oo.forEach(function(Ho){Ho.node.scrollTop=Ho.scrollTop}),ea&&(document.documentElement.scrollTop=ea)}}function Ki(){Vi();var Oo=Math.round(parseFloat(jn.style.height)),ea=window.getComputedStyle(jn,null),Ho=ea.boxSizing==="content-box"?Math.round(parseFloat(ea.height)):jn.offsetHeight;if(Ho<Oo?ea.overflowY==="hidden"&&(ki("scroll"),Vi(),Ho=ea.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(jn,null).height)):jn.offsetHeight):ea.overflowY!=="hidden"&&(ki("hidden"),Vi(),Ho=ea.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(jn,null).height)):jn.offsetHeight),Yr!==Ho){Yr=Ho;var dl=tn("autosize:resized");try{jn.dispatchEvent(dl)}catch{}}}var Ko=function(){jn.clientWidth!==$r&&Ki()},Uo=function(Oo){window.removeEventListener("resize",Ko,!1),jn.removeEventListener("input",Ki,!1),jn.removeEventListener("keyup",Ki,!1),jn.removeEventListener("autosize:destroy",Uo,!1),jn.removeEventListener("autosize:update",Ki,!1),Object.keys(Oo).forEach(function(ea){jn.style[ea]=Oo[ea]}),Gt.delete(jn)}.bind(jn,{height:jn.style.height,resize:jn.style.resize,overflowY:jn.style.overflowY,overflowX:jn.style.overflowX,wordWrap:jn.style.wordWrap});jn.addEventListener("autosize:destroy",Uo,!1),"onpropertychange"in jn&&"oninput"in jn&&jn.addEventListener("keyup",Ki,!1),window.addEventListener("resize",Ko,!1),jn.addEventListener("input",Ki,!1),jn.addEventListener("autosize:update",Ki,!1),jn.style.overflowX="hidden",jn.style.wordWrap="break-word",Gt.set(jn,{destroy:Uo,update:Ki}),si()}function Cn(jn){var Sr=Gt.get(jn);Sr&&Sr.destroy()}function Fn(jn){var Sr=Gt.get(jn);Sr&&Sr.update()}var Hn=null;typeof window>"u"||typeof window.getComputedStyle!="function"?(Hn=function(jn){return jn},Hn.destroy=function(jn){return jn},Hn.update=function(jn){return jn}):(Hn=function(jn,Sr){return jn&&Array.prototype.forEach.call(jn.length?jn:[jn],function($r){return fn($r)}),jn},Hn.destroy=function(jn){return jn&&Array.prototype.forEach.call(jn.length?jn:[jn],Cn),jn},Hn.update=function(jn){return jn&&Array.prototype.forEach.call(jn.length?jn:[jn],Fn),jn}),Ft.default=Hn,jt.exports=Ft.default})})(ym,ym.exports);var pg=function(Nt,Pt,jt){return jt=window.getComputedStyle,(jt?jt(Nt):Nt.currentStyle)[Pt.replace(/-(\w)/gi,function(Ft,Gt){return Gt.toUpperCase()})]},Sc=pg,au=Sc;function Ld(Nt){var Pt=au(Nt,"line-height"),jt=parseFloat(Pt,10);if(Pt===jt+""){var Ft=Nt.style.lineHeight;Nt.style.lineHeight=Pt+"em",Pt=au(Nt,"line-height"),jt=parseFloat(Pt,10),Ft?Nt.style.lineHeight=Ft:delete Nt.style.lineHeight}if(Pt.indexOf("pt")!==-1?(jt*=4,jt/=3):Pt.indexOf("mm")!==-1?(jt*=96,jt/=25.4):Pt.indexOf("cm")!==-1?(jt*=96,jt/=2.54):Pt.indexOf("in")!==-1?jt*=96:Pt.indexOf("pc")!==-1&&(jt*=16),jt=Math.round(jt),Pt==="normal"){var Gt=Nt.nodeName,tn=document.createElement(Gt);tn.innerHTML="&nbsp;",Gt.toUpperCase()==="TEXTAREA"&&tn.setAttribute("rows","1");var fn=au(Nt,"font-size");tn.style.fontSize=fn,tn.style.padding="0px",tn.style.border="0px";var Cn=document.body;Cn.appendChild(tn);var Fn=tn.offsetHeight;jt=Fn,Cn.removeChild(tn)}return jt}var gg=Ld,z0=$s&&$s.__extends||function(){var Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pt,jt){Pt.__proto__=jt}||function(Pt,jt){for(var Ft in jt)jt.hasOwnProperty(Ft)&&(Pt[Ft]=jt[Ft])};return function(Pt,jt){Nt(Pt,jt);function Ft(){this.constructor=Pt}Pt.prototype=jt===null?Object.create(jt):(Ft.prototype=jt.prototype,new Ft)}}(),vm=$s&&$s.__assign||Object.assign||function(Nt){for(var Pt,jt=1,Ft=arguments.length;jt<Ft;jt++){Pt=arguments[jt];for(var Gt in Pt)Object.prototype.hasOwnProperty.call(Pt,Gt)&&(Nt[Gt]=Pt[Gt])}return Nt},Xa=$s&&$s.__rest||function(Nt,Pt){var jt={};for(var Ft in Nt)Object.prototype.hasOwnProperty.call(Nt,Ft)&&Pt.indexOf(Ft)<0&&(jt[Ft]=Nt[Ft]);if(Nt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Gt=0,Ft=Object.getOwnPropertySymbols(Nt);Gt<Ft.length;Gt++)Pt.indexOf(Ft[Gt])<0&&(jt[Ft[Gt]]=Nt[Ft[Gt]]);return jt};po.__esModule=!0;var Cu=_s,ws=vl.exports,Od=ym.exports,zc=gg,Oy=zc,pa="autosize:resized",mf=function(Nt){z0(Pt,Nt);function Pt(){var jt=Nt!==null&&Nt.apply(this,arguments)||this;return jt.state={lineHeight:null},jt.textarea=null,jt.onResize=function(Ft){jt.props.onResize&&jt.props.onResize(Ft)},jt.updateLineHeight=function(){jt.textarea&&jt.setState({lineHeight:Oy(jt.textarea)})},jt.onChange=function(Ft){var Gt=jt.props.onChange;jt.currentValue=Ft.currentTarget.value,Gt&&Gt(Ft)},jt}return Pt.prototype.componentDidMount=function(){var jt=this,Ft=this.props,Gt=Ft.maxRows,tn=Ft.async;typeof Gt=="number"&&this.updateLineHeight(),typeof Gt=="number"||tn?setTimeout(function(){return jt.textarea&&Od(jt.textarea)}):this.textarea&&Od(this.textarea),this.textarea&&this.textarea.addEventListener(pa,this.onResize)},Pt.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(pa,this.onResize),Od.destroy(this.textarea))},Pt.prototype.render=function(){var jt=this,Ft=this,Gt=Ft.props;Gt.onResize;var tn=Gt.maxRows;Gt.onChange;var fn=Gt.style;Gt.innerRef;var Cn=Gt.children,Fn=Xa(Gt,["onResize","maxRows","onChange","style","innerRef","children"]),Hn=Ft.state.lineHeight,jn=tn&&Hn?Hn*tn:null;return Cu.createElement("textarea",vm({},Fn,{onChange:this.onChange,style:jn?vm({},fn,{maxHeight:jn}):fn,ref:function(Sr){jt.textarea=Sr,typeof jt.props.innerRef=="function"?jt.props.innerRef(Sr):jt.props.innerRef&&(jt.props.innerRef.current=Sr)}}),Cn)},Pt.prototype.componentDidUpdate=function(){this.textarea&&Od.update(this.textarea)},Pt.defaultProps={rows:1,async:!1},Pt.propTypes={rows:ws.number,maxRows:ws.number,onResize:ws.func,innerRef:ws.any,async:ws.bool},Pt}(Cu.Component);po.TextareaAutosize=Cu.forwardRef(function(Nt,Pt){return Cu.createElement(mf,vm({},Nt,{innerRef:Pt}))}),function(Nt){Nt.__esModule=!0;var Pt=po;Nt.default=Pt.TextareaAutosize}(Os);var Ts=ec(Os);class hp extends xn{constructor(Pt){super(Pt),$t(this,"onKeyDown",jt=>{jt.which===13&&jt.ctrlKey&&this.props.onSaveAndClose()}),this.element=pn()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return gn(Ts,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||al.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function vo(){return vo=Object.assign||function(Nt){for(var Pt=1;Pt<arguments.length;Pt++){var jt=arguments[Pt];for(var Ft in jt)Object.prototype.hasOwnProperty.call(jt,Ft)&&(Nt[Ft]=jt[Ft])}return Nt},vo.apply(this,arguments)}function yf(Nt){if(Nt.sheet)return Nt.sheet;for(var Pt=0;Pt<document.styleSheets.length;Pt++)if(document.styleSheets[Pt].ownerNode===Nt)return document.styleSheets[Pt]}function Py(Nt){var Pt=document.createElement("style");return Pt.setAttribute("data-emotion",Nt.key),Nt.nonce!==void 0&&Pt.setAttribute("nonce",Nt.nonce),Pt.appendChild(document.createTextNode("")),Pt.setAttribute("data-s",""),Pt}var Pd=function(){function Nt(jt){var Ft=this;this._insertTag=function(Gt){var tn;Ft.tags.length===0?Ft.insertionPoint?tn=Ft.insertionPoint.nextSibling:Ft.prepend?tn=Ft.container.firstChild:tn=Ft.before:tn=Ft.tags[Ft.tags.length-1].nextSibling,Ft.container.insertBefore(Gt,tn),Ft.tags.push(Gt)},this.isSpeedy=jt.speedy===void 0?!0:jt.speedy,this.tags=[],this.ctr=0,this.nonce=jt.nonce,this.key=jt.key,this.container=jt.container,this.prepend=jt.prepend,this.insertionPoint=jt.insertionPoint,this.before=null}var Pt=Nt.prototype;return Pt.hydrate=function(jt){jt.forEach(this._insertTag)},Pt.insert=function(jt){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag(Py(this));var Ft=this.tags[this.tags.length-1];if(this.isSpeedy){var Gt=yf(Ft);try{Gt.insertRule(jt,Gt.cssRules.length)}catch{}}else Ft.appendChild(document.createTextNode(jt));this.ctr++},Pt.flush=function(){this.tags.forEach(function(jt){return jt.parentNode&&jt.parentNode.removeChild(jt)}),this.tags=[],this.ctr=0},Nt}(),Fo="-ms-",fc="-moz-",Ka="-webkit-",Wu="comm",pc="rule",El="decl",lb="@import",Ry="@keyframes",hd=Math.abs,kc=String.fromCharCode;function Rd(Nt,Pt){return(((Pt<<2^sl(Nt,0))<<2^sl(Nt,1))<<2^sl(Nt,2))<<2^sl(Nt,3)}function Cc(Nt){return Nt.trim()}function qu(Nt,Pt){return(Nt=Pt.exec(Nt))?Nt[0]:Nt}function Ua(Nt,Pt,jt){return Nt.replace(Pt,jt)}function dd(Nt,Pt){return Nt.indexOf(Pt)}function sl(Nt,Pt){return Nt.charCodeAt(Pt)|0}function Xs(Nt,Pt,jt){return Nt.slice(Pt,jt)}function vh(Nt){return Nt.length}function dp(Nt){return Nt.length}function Tl(Nt,Pt){return Pt.push(Nt),Nt}function fd(Nt,Pt){return Nt.map(Pt).join("")}var $c=1,vf=1,rc=0,Bc=0,Zs=0,bh="";function mg(Nt,Pt,jt,Ft,Gt,tn,fn){return{value:Nt,root:Pt,parent:jt,type:Ft,props:Gt,children:tn,line:$c,column:vf,length:fn,return:""}}function fp(Nt,Pt,jt){return mg(Nt,Pt.root,Pt.parent,jt,Pt.props,Pt.children,0)}function bf(){return Zs}function _h(){return Zs=Bc>0?sl(bh,--Bc):0,vf--,Zs===10&&(vf=1,$c--),Zs}function us(){return Zs=Bc<rc?sl(bh,Bc++):0,vf++,Zs===10&&(vf=1,$c++),Zs}function jc(){return sl(bh,Bc)}function Ml(){return Bc}function Fc(Nt,Pt){return Xs(bh,Nt,Pt)}function Qu(Nt){switch(Nt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function bm(Nt){return $c=vf=1,rc=vh(bh=Nt),Bc=0,[]}function zd(Nt){return bh="",Nt}function wh(Nt){return Cc(Fc(Bc-1,Uc(Nt===91?Nt+2:Nt===40?Nt+1:Nt)))}function Bh(Nt){for(;(Zs=jc())&&Zs<33;)us();return Qu(Nt)>2||Qu(Zs)>3?"":" "}function $l(Nt,Pt){for(;--Pt&&us()&&!(Zs<48||Zs>102||Zs>57&&Zs<65||Zs>70&&Zs<97););return Fc(Nt,Ml()+(Pt<6&&jc()==32&&us()==32))}function Uc(Nt){for(;us();)switch(Zs){case Nt:return Bc;case 34:case 39:return Uc(Nt===34||Nt===39?Nt:Zs);case 40:Nt===41&&Uc(Nt);break;case 92:us();break}return Bc}function ic(Nt,Pt){for(;us()&&Nt+Zs!==47+10&&!(Nt+Zs===42+42&&jc()===47););return"/*"+Fc(Pt,Bc-1)+"*"+kc(Nt===47?Nt:us())}function zy(Nt){for(;!Qu(jc());)us();return Fc(Nt,Bc)}function pd(Nt){return zd(jh("",null,null,null,[""],Nt=bm(Nt),0,[0],Nt))}function jh(Nt,Pt,jt,Ft,Gt,tn,fn,Cn,Fn){for(var Hn=0,jn=0,Sr=fn,$r=0,Yr=0,si=0,ki=1,Mi=1,Vi=1,Ki=0,Ko="",Uo=Gt,Oo=tn,ea=Ft,Ho=Ko;Mi;)switch(si=Ki,Ki=us()){case 34:case 39:case 91:case 40:Ho+=wh(Ki);break;case 9:case 10:case 13:case 32:Ho+=Bh(si);break;case 92:Ho+=$l(Ml()-1,7);continue;case 47:switch(jc()){case 42:case 47:Tl(Zl(ic(us(),Ml()),Pt,jt),Fn);break;default:Ho+="/"}break;case 123*ki:Cn[Hn++]=vh(Ho)*Vi;case 125*ki:case 59:case 0:switch(Ki){case 0:case 125:Mi=0;case 59+jn:Yr>0&&vh(Ho)-Sr&&Tl(Yr>32?Au(Ho+";",Ft,jt,Sr-1):Au(Ua(Ho," ","")+";",Ft,jt,Sr-2),Fn);break;case 59:Ho+=";";default:if(Tl(ea=Sl(Ho,Pt,jt,Hn,jn,Gt,Cn,Ko,Uo=[],Oo=[],Sr),tn),Ki===123)if(jn===0)jh(Ho,Pt,ea,ea,Uo,tn,Sr,Cn,Oo);else switch($r){case 100:case 109:case 115:jh(Nt,ea,ea,Ft&&Tl(Sl(Nt,ea,ea,0,0,Gt,Cn,Ko,Gt,Uo=[],Sr),Oo),Gt,Oo,Sr,Cn,Ft?Uo:Oo);break;default:jh(Ho,ea,ea,ea,[""],Oo,Sr,Cn,Oo)}}Hn=jn=Yr=0,ki=Vi=1,Ko=Ho="",Sr=fn;break;case 58:Sr=1+vh(Ho),Yr=si;default:if(ki<1){if(Ki==123)--ki;else if(Ki==125&&ki++==0&&_h()==125)continue}switch(Ho+=kc(Ki),Ki*ki){case 38:Vi=jn>0?1:(Ho+="\f",-1);break;case 44:Cn[Hn++]=(vh(Ho)-1)*Vi,Vi=1;break;case 64:jc()===45&&(Ho+=wh(us())),$r=jc(),jn=vh(Ko=Ho+=zy(Ml())),Ki++;break;case 45:si===45&&vh(Ho)==2&&(ki=0)}}return tn}function Sl(Nt,Pt,jt,Ft,Gt,tn,fn,Cn,Fn,Hn,jn){for(var Sr=Gt-1,$r=Gt===0?tn:[""],Yr=dp($r),si=0,ki=0,Mi=0;si<Ft;++si)for(var Vi=0,Ki=Xs(Nt,Sr+1,Sr=hd(ki=fn[si])),Ko=Nt;Vi<Yr;++Vi)(Ko=Cc(ki>0?$r[Vi]+" "+Ki:Ua(Ki,/&\f/g,$r[Vi])))&&(Fn[Mi++]=Ko);return mg(Nt,Pt,jt,Gt===0?pc:Cn,Fn,Hn,jn)}function Zl(Nt,Pt,jt){return mg(Nt,Pt,jt,Wu,kc(bf()),Xs(Nt,2,-2),0)}function Au(Nt,Pt,jt,Ft){return mg(Nt,Pt,jt,El,Xs(Nt,0,Ft),Xs(Nt,Ft+1,-1),Ft)}function Hc(Nt,Pt){switch(Rd(Nt,Pt)){case 5103:return Ka+"print-"+Nt+Nt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ka+Nt+Nt;case 5349:case 4246:case 4810:case 6968:case 2756:return Ka+Nt+fc+Nt+Fo+Nt+Nt;case 6828:case 4268:return Ka+Nt+Fo+Nt+Nt;case 6165:return Ka+Nt+Fo+"flex-"+Nt+Nt;case 5187:return Ka+Nt+Ua(Nt,/(\w+).+(:[^]+)/,Ka+"box-$1$2"+Fo+"flex-$1$2")+Nt;case 5443:return Ka+Nt+Fo+"flex-item-"+Ua(Nt,/flex-|-self/,"")+Nt;case 4675:return Ka+Nt+Fo+"flex-line-pack"+Ua(Nt,/align-content|flex-|-self/,"")+Nt;case 5548:return Ka+Nt+Fo+Ua(Nt,"shrink","negative")+Nt;case 5292:return Ka+Nt+Fo+Ua(Nt,"basis","preferred-size")+Nt;case 6060:return Ka+"box-"+Ua(Nt,"-grow","")+Ka+Nt+Fo+Ua(Nt,"grow","positive")+Nt;case 4554:return Ka+Ua(Nt,/([^-])(transform)/g,"$1"+Ka+"$2")+Nt;case 6187:return Ua(Ua(Ua(Nt,/(zoom-|grab)/,Ka+"$1"),/(image-set)/,Ka+"$1"),Nt,"")+Nt;case 5495:case 3959:return Ua(Nt,/(image-set\([^]*)/,Ka+"$1$`$1");case 4968:return Ua(Ua(Nt,/(.+:)(flex-)?(.*)/,Ka+"box-pack:$3"+Fo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ka+Nt+Nt;case 4095:case 3583:case 4068:case 2532:return Ua(Nt,/(.+)-inline(.+)/,Ka+"$1$2")+Nt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(vh(Nt)-1-Pt>6)switch(sl(Nt,Pt+1)){case 109:if(sl(Nt,Pt+4)!==45)break;case 102:return Ua(Nt,/(.+:)(.+)-([^]+)/,"$1"+Ka+"$2-$3$1"+fc+(sl(Nt,Pt+3)==108?"$3":"$2-$3"))+Nt;case 115:return~dd(Nt,"stretch")?Hc(Ua(Nt,"stretch","fill-available"),Pt)+Nt:Nt}break;case 4949:if(sl(Nt,Pt+1)!==115)break;case 6444:switch(sl(Nt,vh(Nt)-3-(~dd(Nt,"!important")&&10))){case 107:return Ua(Nt,":",":"+Ka)+Nt;case 101:return Ua(Nt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ka+(sl(Nt,14)===45?"inline-":"")+"box$3$1"+Ka+"$2$3$1"+Fo+"$2box$3")+Nt}break;case 5936:switch(sl(Nt,Pt+11)){case 114:return Ka+Nt+Fo+Ua(Nt,/[svh]\w+-[tblr]{2}/,"tb")+Nt;case 108:return Ka+Nt+Fo+Ua(Nt,/[svh]\w+-[tblr]{2}/,"tb-rl")+Nt;case 45:return Ka+Nt+Fo+Ua(Nt,/[svh]\w+-[tblr]{2}/,"lr")+Nt}return Ka+Nt+Fo+Nt+Nt}return Nt}function _f(Nt,Pt){for(var jt="",Ft=dp(Nt),Gt=0;Gt<Ft;Gt++)jt+=Pt(Nt[Gt],Gt,Nt,Pt)||"";return jt}function wf(Nt,Pt,jt,Ft){switch(Nt.type){case lb:case El:return Nt.return=Nt.return||Nt.value;case Wu:return"";case pc:Nt.value=Nt.props.join(",")}return vh(jt=_f(Nt.children,Ft))?Nt.return=Nt.value+"{"+jt+"}":""}function gd(Nt){var Pt=dp(Nt);return function(jt,Ft,Gt,tn){for(var fn="",Cn=0;Cn<Pt;Cn++)fn+=Nt[Cn](jt,Ft,Gt,tn)||"";return fn}}function Ac(Nt){return function(Pt){Pt.root||(Pt=Pt.return)&&Nt(Pt)}}function $0(Nt,Pt,jt,Ft){if(!Nt.return)switch(Nt.type){case El:Nt.return=Hc(Nt.value,Nt.length);break;case Ry:return _f([fp(Ua(Nt.value,"@","@"+Ka),Nt,"")],Ft);case pc:if(Nt.length)return fd(Nt.props,function(Gt){switch(qu(Gt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return _f([fp(Ua(Gt,/:(read-\w+)/,":"+fc+"$1"),Nt,"")],Ft);case"::placeholder":return _f([fp(Ua(Gt,/:(plac\w+)/,":"+Ka+"input-$1"),Nt,""),fp(Ua(Gt,/:(plac\w+)/,":"+fc+"$1"),Nt,""),fp(Ua(Gt,/:(plac\w+)/,Fo+"input-$1"),Nt,"")],Ft)}return""})}}function Bl(Nt){var Pt=Object.create(null);return function(jt){return Pt[jt]===void 0&&(Pt[jt]=Nt(jt)),Pt[jt]}}var B0=function(Nt,Pt,jt){for(var Ft=0,Gt=0;Ft=Gt,Gt=jc(),Ft===38&&Gt===12&&(Pt[jt]=1),!Qu(Gt);)us();return Fc(Nt,Bc)},Xu=function(Nt,Pt){var jt=-1,Ft=44;do switch(Qu(Ft)){case 0:Ft===38&&jc()===12&&(Pt[jt]=1),Nt[jt]+=B0(Bc-1,Pt,jt);break;case 2:Nt[jt]+=wh(Ft);break;case 4:if(Ft===44){Nt[++jt]=jc()===58?"&\f":"",Pt[jt]=Nt[jt].length;break}default:Nt[jt]+=kc(Ft)}while(Ft=us());return Nt},kl=function(Nt,Pt){return zd(Xu(bm(Nt),Pt))},su=new WeakMap,$d=function(Nt){if(!(Nt.type!=="rule"||!Nt.parent||!Nt.length)){for(var Pt=Nt.value,jt=Nt.parent,Ft=Nt.column===jt.column&&Nt.line===jt.line;jt.type!=="rule";)if(jt=jt.parent,!jt)return;if(!(Nt.props.length===1&&Pt.charCodeAt(0)!==58&&!su.get(jt))&&!Ft){su.set(Nt,!0);for(var Gt=[],tn=kl(Pt,Gt),fn=jt.props,Cn=0,Fn=0;Cn<tn.length;Cn++)for(var Hn=0;Hn<fn.length;Hn++,Fn++)Nt.props[Fn]=Gt[Cn]?tn[Cn].replace(/&\f/g,fn[Hn]):fn[Hn]+" "+tn[Cn]}}},xf=function(Nt){if(Nt.type==="decl"){var Pt=Nt.value;Pt.charCodeAt(0)===108&&Pt.charCodeAt(2)===98&&(Nt.return="",Nt.value="")}},Zu=[$0],Ef=function(Nt){var Pt=Nt.key;if(Pt==="css"){var jt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(jt,function(si){var ki=si.getAttribute("data-emotion");ki.indexOf(" ")!==-1&&(document.head.appendChild(si),si.setAttribute("data-s",""))})}var Ft=Nt.stylisPlugins||Zu,Gt={},tn,fn=[];tn=Nt.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+Pt+' "]'),function(si){for(var ki=si.getAttribute("data-emotion").split(" "),Mi=1;Mi<ki.length;Mi++)Gt[ki[Mi]]=!0;fn.push(si)});var Cn,Fn=[$d,xf];{var Hn,jn=[wf,Ac(function(si){Hn.insert(si)})],Sr=gd(Fn.concat(Ft,jn)),$r=function(si){return _f(pd(si),Sr)};Cn=function(si,ki,Mi,Vi){Hn=Mi,$r(si?si+"{"+ki.styles+"}":ki.styles),Vi&&(Yr.inserted[ki.name]=!0)}}var Yr={key:Pt,sheet:new Pd({key:Pt,container:tn,nonce:Nt.nonce,speedy:Nt.speedy,prepend:Nt.prepend,insertionPoint:Nt.insertionPoint}),nonce:Nt.nonce,inserted:Gt,registered:{},insert:Cn};return Yr.sheet.hydrate(fn),Yr},oc={exports:{}},Ha={};/** @license React v16.13.1
* react-is.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ga=typeof Symbol=="function"&&Symbol.for,_m=ga?Symbol.for("react.element"):60103,wm=ga?Symbol.for("react.portal"):60106,Cl=ga?Symbol.for("react.fragment"):60107,Ku=ga?Symbol.for("react.strict_mode"):60108,pp=ga?Symbol.for("react.profiler"):60114,Fh=ga?Symbol.for("react.provider"):60109,Ju=ga?Symbol.for("react.context"):60110,ll=ga?Symbol.for("react.async_mode"):60111,Al=ga?Symbol.for("react.concurrent_mode"):60111,Bd=ga?Symbol.for("react.forward_ref"):60112,Kl=ga?Symbol.for("react.suspense"):60113,j0=ga?Symbol.for("react.suspense_list"):60120,Tf=ga?Symbol.for("react.memo"):60115,cl=ga?Symbol.for("react.lazy"):60116,cb=ga?Symbol.for("react.block"):60121,xh=ga?Symbol.for("react.fundamental"):60117,$y=ga?Symbol.for("react.responder"):60118,yg=ga?Symbol.for("react.scope"):60119;function Nu(Nt){if(typeof Nt=="object"&&Nt!==null){var Pt=Nt.$$typeof;switch(Pt){case _m:switch(Nt=Nt.type,Nt){case ll:case Al:case Cl:case pp:case Ku:case Kl:return Nt;default:switch(Nt=Nt&&Nt.$$typeof,Nt){case Ju:case Bd:case cl:case Tf:case Fh:return Nt;default:return Pt}}case wm:return Pt}}}function By(Nt){return Nu(Nt)===Al}Ha.AsyncMode=ll,Ha.ConcurrentMode=Al,Ha.ContextConsumer=Ju,Ha.ContextProvider=Fh,Ha.Element=_m,Ha.ForwardRef=Bd,Ha.Fragment=Cl,Ha.Lazy=cl,Ha.Memo=Tf,Ha.Portal=wm,Ha.Profiler=pp,Ha.StrictMode=Ku,Ha.Suspense=Kl,Ha.isAsyncMode=function(Nt){return By(Nt)||Nu(Nt)===ll},Ha.isConcurrentMode=By,Ha.isContextConsumer=function(Nt){return Nu(Nt)===Ju},Ha.isContextProvider=function(Nt){return Nu(Nt)===Fh},Ha.isElement=function(Nt){return typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===_m},Ha.isForwardRef=function(Nt){return Nu(Nt)===Bd},Ha.isFragment=function(Nt){return Nu(Nt)===Cl},Ha.isLazy=function(Nt){return Nu(Nt)===cl},Ha.isMemo=function(Nt){return Nu(Nt)===Tf},Ha.isPortal=function(Nt){return Nu(Nt)===wm},Ha.isProfiler=function(Nt){return Nu(Nt)===pp},Ha.isStrictMode=function(Nt){return Nu(Nt)===Ku},Ha.isSuspense=function(Nt){return Nu(Nt)===Kl},Ha.isValidElementType=function(Nt){return typeof Nt=="string"||typeof Nt=="function"||Nt===Cl||Nt===Al||Nt===pp||Nt===Ku||Nt===Kl||Nt===j0||typeof Nt=="object"&&Nt!==null&&(Nt.$$typeof===cl||Nt.$$typeof===Tf||Nt.$$typeof===Fh||Nt.$$typeof===Ju||Nt.$$typeof===Bd||Nt.$$typeof===xh||Nt.$$typeof===$y||Nt.$$typeof===yg||Nt.$$typeof===cb)},Ha.typeOf=Nu,oc.exports=Ha;var eh=oc.exports,gp={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},mp={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},xm={};xm[eh.ForwardRef]=gp,xm[eh.Memo]=mp;var yp=!0;function md(Nt,Pt,jt){var Ft="";return jt.split(" ").forEach(function(Gt){Nt[Gt]!==void 0?Pt.push(Nt[Gt]+";"):Ft+=Gt+" "}),Ft}var vp=function(Nt,Pt,jt){var Ft=Nt.key+"-"+Pt.name;if((jt===!1||yp===!1)&&Nt.registered[Ft]===void 0&&(Nt.registered[Ft]=Pt.styles),Nt.inserted[Pt.name]===void 0){var Gt=Pt;do Nt.insert(Pt===Gt?"."+Ft:"",Gt,Nt.sheet,!0),Gt=Gt.next;while(Gt!==void 0)}};function bp(Nt){for(var Pt=0,jt,Ft=0,Gt=Nt.length;Gt>=4;++Ft,Gt-=4)jt=Nt.charCodeAt(Ft)&255|(Nt.charCodeAt(++Ft)&255)<<8|(Nt.charCodeAt(++Ft)&255)<<16|(Nt.charCodeAt(++Ft)&255)<<24,jt=(jt&65535)*1540483477+((jt>>>16)*59797<<16),jt^=jt>>>24,Pt=(jt&65535)*1540483477+((jt>>>16)*59797<<16)^(Pt&65535)*1540483477+((Pt>>>16)*59797<<16);switch(Gt){case 3:Pt^=(Nt.charCodeAt(Ft+2)&255)<<16;case 2:Pt^=(Nt.charCodeAt(Ft+1)&255)<<8;case 1:Pt^=Nt.charCodeAt(Ft)&255,Pt=(Pt&65535)*1540483477+((Pt>>>16)*59797<<16)}return Pt^=Pt>>>13,Pt=(Pt&65535)*1540483477+((Pt>>>16)*59797<<16),((Pt^Pt>>>15)>>>0).toString(36)}var jd={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Go=/[A-Z]|^ms/g,yd=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Mf=function(Nt){return Nt.charCodeAt(1)===45},vd=function(Nt){return Nt!=null&&typeof Nt!="boolean"},gc=Bl(function(Nt){return Mf(Nt)?Nt:Nt.replace(Go,"-$&").toLowerCase()}),F0=function(Nt,Pt){switch(Nt){case"animation":case"animationName":if(typeof Pt=="string")return Pt.replace(yd,function(jt,Ft,Gt){return Du={name:Ft,styles:Gt,next:Du},Ft})}return jd[Nt]!==1&&!Mf(Nt)&&typeof Pt=="number"&&Pt!==0?Pt+"px":Pt};function Jl(Nt,Pt,jt){if(jt==null)return"";if(jt.__emotion_styles!==void 0)return jt;switch(typeof jt){case"boolean":return"";case"object":{if(jt.anim===1)return Du={name:jt.name,styles:jt.styles,next:Du},jt.name;if(jt.styles!==void 0){var Ft=jt.next;if(Ft!==void 0)for(;Ft!==void 0;)Du={name:Ft.name,styles:Ft.styles,next:Du},Ft=Ft.next;var Gt=jt.styles+";";return Gt}return Ks(Nt,Pt,jt)}case"function":{if(Nt!==void 0){var tn=Du,fn=jt(Nt);return Du=tn,Jl(Nt,Pt,fn)}break}}if(Pt==null)return jt;var Cn=Pt[jt];return Cn!==void 0?Cn:jt}function Ks(Nt,Pt,jt){var Ft="";if(Array.isArray(jt))for(var Gt=0;Gt<jt.length;Gt++)Ft+=Jl(Nt,Pt,jt[Gt])+";";else for(var tn in jt){var fn=jt[tn];if(typeof fn!="object")Pt!=null&&Pt[fn]!==void 0?Ft+=tn+"{"+Pt[fn]+"}":vd(fn)&&(Ft+=gc(tn)+":"+F0(tn,fn)+";");else if(Array.isArray(fn)&&typeof fn[0]=="string"&&(Pt==null||Pt[fn[0]]===void 0))for(var Cn=0;Cn<fn.length;Cn++)vd(fn[Cn])&&(Ft+=gc(tn)+":"+F0(tn,fn[Cn])+";");else{var Fn=Jl(Nt,Pt,fn);switch(tn){case"animation":case"animationName":{Ft+=gc(tn)+":"+Fn+";";break}default:Ft+=tn+"{"+Fn+"}"}}}return Ft}var U0=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Du,Uh=function(Nt,Pt,jt){if(Nt.length===1&&typeof Nt[0]=="object"&&Nt[0]!==null&&Nt[0].styles!==void 0)return Nt[0];var Ft=!0,Gt="";Du=void 0;var tn=Nt[0];tn==null||tn.raw===void 0?(Ft=!1,Gt+=Jl(jt,Pt,tn)):Gt+=tn[0];for(var fn=1;fn<Nt.length;fn++)Gt+=Jl(jt,Pt,Nt[fn]),Ft&&(Gt+=tn[fn]);U0.lastIndex=0;for(var Cn="",Fn;(Fn=U0.exec(Gt))!==null;)Cn+="-"+Fn[1];var Hn=bp(Gt)+Cn;return{name:Hn,styles:Gt,next:Du}},_p={}.hasOwnProperty,vg=Rn(typeof HTMLElement<"u"?Ef({key:"css"}):null);vg.Provider;var H0=function(Nt){return Za(function(Pt,jt){var Ft=Nr(vg);return Nt(Pt,Ft,jt)})},Vs=Rn({}),os="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Hh=function(Nt,Pt){var jt={};for(var Ft in Pt)_p.call(Pt,Ft)&&(jt[Ft]=Pt[Ft]);return jt[os]=Nt,jt},jy=function(){return null},Vh=H0(function(Nt,Pt,jt){var Ft=Nt.css;typeof Ft=="string"&&Pt.registered[Ft]!==void 0&&(Ft=Pt.registered[Ft]);var Gt=Nt[os],tn=[Ft],fn="";typeof Nt.className=="string"?fn=md(Pt.registered,tn,Nt.className):Nt.className!=null&&(fn=Nt.className+" ");var Cn=Uh(tn,void 0,Nr(Vs));vp(Pt,Cn,typeof Gt=="string"),fn+=Pt.key+"-"+Cn.name;var Fn={};for(var Hn in Nt)_p.call(Nt,Hn)&&Hn!=="css"&&Hn!==os&&(Fn[Hn]=Nt[Hn]);Fn.ref=jt,Fn.className=fn;var jn=gn(Gt,Fn),Sr=gn(jy,null);return gn(yr,null,Sr,jn)}),Io=function(Nt,Pt){var jt=arguments;if(Pt==null||!_p.call(Pt,"css"))return gn.apply(void 0,jt);var Ft=jt.length,Gt=new Array(Ft);Gt[0]=Vh,Gt[1]=Hh(Nt,Pt);for(var tn=2;tn<Ft;tn++)Gt[tn]=jt[tn];return gn.apply(null,Gt)};function lu(){for(var Nt=arguments.length,Pt=new Array(Nt),jt=0;jt<Nt;jt++)Pt[jt]=arguments[jt];return Uh(Pt)}var ac=function(){var Nt=lu.apply(void 0,arguments),Pt="animation-"+Nt.name;return{name:Pt,styles:"@keyframes "+Pt+"{"+Nt.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ub=function Nt(Pt){for(var jt=Pt.length,Ft=0,Gt="";Ft<jt;Ft++){var tn=Pt[Ft];if(tn!=null){var fn=void 0;switch(typeof tn){case"boolean":break;case"object":{if(Array.isArray(tn))fn=Nt(tn);else{fn="";for(var Cn in tn)tn[Cn]&&Cn&&(fn&&(fn+=" "),fn+=Cn)}break}default:fn=tn}fn&&(Gt&&(Gt+=" "),Gt+=fn)}}return Gt};function wp(Nt,Pt,jt){var Ft=[],Gt=md(Nt,Ft,jt);return Ft.length<2?jt:Gt+Pt(Ft)}var ul=function(){return null},hl=H0(function(Nt,Pt){var jt=function(){for(var Cn=arguments.length,Fn=new Array(Cn),Hn=0;Hn<Cn;Hn++)Fn[Hn]=arguments[Hn];var jn=Uh(Fn,Pt.registered);return vp(Pt,jn,!1),Pt.key+"-"+jn.name},Ft=function(){for(var Cn=arguments.length,Fn=new Array(Cn),Hn=0;Hn<Cn;Hn++)Fn[Hn]=arguments[Hn];return wp(Pt.registered,jt,ub(Fn))},Gt={css:jt,cx:Ft,theme:Nr(Vs)},tn=Nt.children(Gt),fn=gn(ul,null);return gn(yr,null,fn,tn)});function bg(Nt,Pt){return Pt||(Pt=Nt.slice(0)),Object.freeze(Object.defineProperties(Nt,{raw:{value:Object.freeze(Pt)}}))}function Em(Nt,Pt){if(Nt==null)return{};var jt={},Ft=Object.keys(Nt),Gt,tn;for(tn=0;tn<Ft.length;tn++)Gt=Ft[tn],!(Pt.indexOf(Gt)>=0)&&(jt[Gt]=Nt[Gt]);return jt}function Eh(Nt,Pt){if(Nt==null)return{};var jt=Em(Nt,Pt),Ft,Gt;if(Object.getOwnPropertySymbols){var tn=Object.getOwnPropertySymbols(Nt);for(Gt=0;Gt<tn.length;Gt++)Ft=tn[Gt],!(Pt.indexOf(Ft)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Nt,Ft)||(jt[Ft]=Nt[Ft]))}return jt}function Fd(Nt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Fd=function(Pt){return typeof Pt}:Fd=function(Pt){return Pt&&typeof Symbol=="function"&&Pt.constructor===Symbol&&Pt!==Symbol.prototype?"symbol":typeof Pt},Fd(Nt)}var _g={};Object.defineProperty(_g,"__esModule",{value:!0});var Tm=Object.assign||function(Nt){for(var Pt=1;Pt<arguments.length;Pt++){var jt=arguments[Pt];for(var Ft in jt)Object.prototype.hasOwnProperty.call(jt,Ft)&&(Nt[Ft]=jt[Ft])}return Nt},V0=function(){function Nt(Pt,jt){for(var Ft=0;Ft<jt.length;Ft++){var Gt=jt[Ft];Gt.enumerable=Gt.enumerable||!1,Gt.configurable=!0,"value"in Gt&&(Gt.writable=!0),Object.defineProperty(Pt,Gt.key,Gt)}}return function(Pt,jt,Ft){return jt&&Nt(Pt.prototype,jt),Ft&&Nt(Pt,Ft),Pt}}(),Mm=_s,xp=wg(Mm),Y0=vl.exports,Js=wg(Y0);function wg(Nt){return Nt&&Nt.__esModule?Nt:{default:Nt}}function Sm(Nt,Pt){var jt={};for(var Ft in Nt)Pt.indexOf(Ft)>=0||!Object.prototype.hasOwnProperty.call(Nt,Ft)||(jt[Ft]=Nt[Ft]);return jt}function G0(Nt,Pt){if(!(Nt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function km(Nt,Pt){if(!Nt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Pt&&(typeof Pt=="object"||typeof Pt=="function")?Pt:Nt}function W0(Nt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Pt);Nt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:Nt,enumerable:!1,writable:!0,configurable:!0}}),Pt&&(Object.setPrototypeOf?Object.setPrototypeOf(Nt,Pt):Nt.__proto__=Pt)}var q0={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},Q0=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],Fy=function(Nt){return Q0.forEach(function(Pt){return delete Nt[Pt]}),Nt},X0=function(Nt,Pt){Pt.style.fontSize=Nt.fontSize,Pt.style.fontFamily=Nt.fontFamily,Pt.style.fontWeight=Nt.fontWeight,Pt.style.fontStyle=Nt.fontStyle,Pt.style.letterSpacing=Nt.letterSpacing,Pt.style.textTransform=Nt.textTransform},Z0=typeof window<"u"&&window.navigator?/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent):!1,K0=function(){return Z0?"_"+Math.random().toString(36).substr(2,12):void 0},Cm=function(Nt){W0(Pt,Nt),V0(Pt,null,[{key:"getDerivedStateFromProps",value:function(jt,Ft){var Gt=jt.id;return Gt!==Ft.prevId?{inputId:Gt||K0(),prevId:Gt}:null}}]);function Pt(jt){G0(this,Pt);var Ft=km(this,(Pt.__proto__||Object.getPrototypeOf(Pt)).call(this,jt));return Ft.inputRef=function(Gt){Ft.input=Gt,typeof Ft.props.inputRef=="function"&&Ft.props.inputRef(Gt)},Ft.placeHolderSizerRef=function(Gt){Ft.placeHolderSizer=Gt},Ft.sizerRef=function(Gt){Ft.sizer=Gt},Ft.state={inputWidth:jt.minWidth,inputId:jt.id||K0(),prevId:jt.id},Ft}return V0(Pt,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(jt,Ft){Ft.inputWidth!==this.state.inputWidth&&typeof this.props.onAutosize=="function"&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(!(!this.mounted||!window.getComputedStyle)){var jt=this.input&&window.getComputedStyle(this.input);!jt||(X0(jt,this.sizer),this.placeHolderSizer&&X0(jt,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(!(!this.mounted||!this.sizer||typeof this.sizer.scrollWidth>"u")){var jt=void 0;this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?jt=Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:jt=this.sizer.scrollWidth+2;var Ft=this.props.type==="number"&&this.props.extraWidth===void 0?16:parseInt(this.props.extraWidth)||0;jt+=Ft,jt<this.props.minWidth&&(jt=this.props.minWidth),jt!==this.state.inputWidth&&this.setState({inputWidth:jt})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var jt=this.props.injectStyles;return Z0&&jt?xp.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var jt=[this.props.defaultValue,this.props.value,""].reduce(function(fn,Cn){return fn!=null?fn:Cn}),Ft=Tm({},this.props.style);Ft.display||(Ft.display="inline-block");var Gt=Tm({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),tn=Sm(this.props,[]);return Fy(tn),tn.className=this.props.inputClassName,tn.id=this.state.inputId,tn.style=Gt,xp.default.createElement("div",{className:this.props.className,style:Ft},this.renderStyles(),xp.default.createElement("input",Tm({},tn,{ref:this.inputRef})),xp.default.createElement("div",{ref:this.sizerRef,style:q0},jt),this.props.placeholder?xp.default.createElement("div",{ref:this.placeHolderSizerRef,style:q0},this.props.placeholder):null)}}]),Pt}(Mm.Component);Cm.propTypes={className:Js.default.string,defaultValue:Js.default.any,extraWidth:Js.default.oneOfType([Js.default.number,Js.default.string]),id:Js.default.string,injectStyles:Js.default.bool,inputClassName:Js.default.string,inputRef:Js.default.func,inputStyle:Js.default.object,minWidth:Js.default.oneOfType([Js.default.number,Js.default.string]),onAutosize:Js.default.func,onChange:Js.default.func,placeholder:Js.default.string,placeholderIsMinWidth:Js.default.bool,style:Js.default.object,value:Js.default.any},Cm.defaultProps={minWidth:1,injectStyles:!0};var Am=_g.default=Cm;function Sf(Nt,Pt){if(!(Nt instanceof Pt))throw new TypeError("Cannot call a class as a function")}function J0(Nt,Pt){for(var jt=0;jt<Pt.length;jt++){var Ft=Pt[jt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Nt,Ft.key,Ft)}}function xg(Nt,Pt,jt){return Pt&&J0(Nt.prototype,Pt),jt&&J0(Nt,jt),Nt}function Eg(Nt,Pt){return Eg=Object.setPrototypeOf||function(jt,Ft){return jt.__proto__=Ft,jt},Eg(Nt,Pt)}function Ep(Nt,Pt){if(typeof Pt!="function"&&Pt!==null)throw new TypeError("Super expression must either be null or a function");Nt.prototype=Object.create(Pt&&Pt.prototype,{constructor:{value:Nt,writable:!0,configurable:!0}}),Pt&&Eg(Nt,Pt)}function Yh(Nt,Pt,jt){return Pt in Nt?Object.defineProperty(Nt,Pt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Nt[Pt]=jt,Nt}function Uy(Nt,Pt,jt){return Pt in Nt?Object.defineProperty(Nt,Pt,{value:jt,enumerable:!0,configurable:!0,writable:!0}):Nt[Pt]=jt,Nt}function Tp(Nt,Pt){var jt=Object.keys(Nt);if(Object.getOwnPropertySymbols){var Ft=Object.getOwnPropertySymbols(Nt);Pt&&(Ft=Ft.filter(function(Gt){return Object.getOwnPropertyDescriptor(Nt,Gt).enumerable})),jt.push.apply(jt,Ft)}return jt}function jl(Nt){for(var Pt=1;Pt<arguments.length;Pt++){var jt=arguments[Pt]!=null?arguments[Pt]:{};Pt%2?Tp(Object(jt),!0).forEach(function(Ft){Uy(Nt,Ft,jt[Ft])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Nt,Object.getOwnPropertyDescriptors(jt)):Tp(Object(jt)).forEach(function(Ft){Object.defineProperty(Nt,Ft,Object.getOwnPropertyDescriptor(jt,Ft))})}return Nt}function Nm(Nt){return Nm=Object.setPrototypeOf?Object.getPrototypeOf:function(Pt){return Pt.__proto__||Object.getPrototypeOf(Pt)},Nm(Nt)}function e1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function Hy(Nt){if(Nt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Nt}function Mp(Nt,Pt){return Pt&&(typeof Pt=="object"||typeof Pt=="function")?Pt:Hy(Nt)}function kf(Nt){var Pt=e1();return function(){var jt=Nm(Nt),Ft;if(Pt){var Gt=Nm(this).constructor;Ft=Reflect.construct(jt,arguments,Gt)}else Ft=jt.apply(this,arguments);return Mp(this,Ft)}}var Ud=function(){};function Dm(Nt,Pt){return Pt?Pt[0]==="-"?Nt+Pt:Nt+"__"+Pt:Nt}function Vy(Nt,Pt,jt){var Ft=[jt];if(Pt&&Nt)for(var Gt in Pt)Pt.hasOwnProperty(Gt)&&Pt[Gt]&&Ft.push("".concat(Dm(Nt,Gt)));return Ft.filter(function(tn){return tn}).map(function(tn){return String(tn).trim()}).join(" ")}var n1=function(Nt){return Array.isArray(Nt)?Nt.filter(Boolean):Fd(Nt)==="object"&&Nt!==null?[Nt]:[]},Yy=function(Nt){Nt.className,Nt.clearValue,Nt.cx,Nt.getStyles,Nt.getValue,Nt.hasValue,Nt.isMulti,Nt.isRtl,Nt.options,Nt.selectOption,Nt.selectProps,Nt.setValue,Nt.theme;var Pt=Eh(Nt,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]);return jl({},Pt)};function r1(Nt){return[document.documentElement,document.body,window].indexOf(Nt)>-1}function i1(Nt){return r1(Nt)?window.pageYOffset:Nt.scrollTop}function Im(Nt,Pt){if(r1(Nt)){window.scrollTo(0,Pt);return}Nt.scrollTop=Pt}function Gy(Nt){var Pt=getComputedStyle(Nt),jt=Pt.position==="absolute",Ft=/(auto|scroll)/,Gt=document.documentElement;if(Pt.position==="fixed")return Gt;for(var tn=Nt;tn=tn.parentElement;)if(Pt=getComputedStyle(tn),!(jt&&Pt.position==="static")&&Ft.test(Pt.overflow+Pt.overflowY+Pt.overflowX))return tn;return Gt}function o1(Nt,Pt,jt,Ft){return jt*((Nt=Nt/Ft-1)*Nt*Nt+1)+Pt}function Tg(Nt,Pt){var jt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,Ft=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ud,Gt=i1(Nt),tn=Pt-Gt,fn=10,Cn=0;function Fn(){Cn+=fn;var Hn=o1(Cn,Gt,tn,jt);Im(Nt,Hn),Cn<jt?window.requestAnimationFrame(Fn):Ft(Nt)}Fn()}function hb(Nt,Pt){var jt=Nt.getBoundingClientRect(),Ft=Pt.getBoundingClientRect(),Gt=Pt.offsetHeight/3;Ft.bottom+Gt>jt.bottom?Im(Nt,Math.min(Pt.offsetTop+Pt.clientHeight-Nt.offsetHeight+Gt,Nt.scrollHeight)):Ft.top-Gt<jt.top&&Im(Nt,Math.max(Pt.offsetTop-Gt,0))}function Wy(Nt){var Pt=Nt.getBoundingClientRect();return{bottom:Pt.bottom,height:Pt.height,left:Pt.left,right:Pt.right,top:Pt.top,width:Pt.width}}function qy(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function db(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var a1=!1,fb={get passive(){return a1=!0}},Cf=typeof window<"u"?window:{};Cf.addEventListener&&Cf.removeEventListener&&(Cf.addEventListener("p",Ud,fb),Cf.removeEventListener("p",Ud,!1));var Qy=a1;function Xy(Nt){var Pt=Nt.maxHeight,jt=Nt.menuEl,Ft=Nt.minHeight,Gt=Nt.placement,tn=Nt.shouldScroll,fn=Nt.isFixedPosition,Cn=Nt.theme,Fn=Cn.spacing,Hn=Gy(jt),jn={placement:"bottom",maxHeight:Pt};if(!jt||!jt.offsetParent)return jn;var Sr=Hn.getBoundingClientRect(),$r=Sr.height,Yr=jt.getBoundingClientRect(),si=Yr.bottom,ki=Yr.height,Mi=Yr.top,Vi=jt.offsetParent.getBoundingClientRect(),Ki=Vi.top,Ko=window.innerHeight,Uo=i1(Hn),Oo=parseInt(getComputedStyle(jt).marginBottom,10),ea=parseInt(getComputedStyle(jt).marginTop,10),Ho=Ki-ea,dl=Ko-Mi,yl=Ho+Uo,Ps=$r-Uo-Mi,Rs=si-Ko+Uo+Oo,Gh=Uo+Mi-ea,Iu=160;switch(Gt){case"auto":case"bottom":if(dl>=ki)return{placement:"bottom",maxHeight:Pt};if(Ps>=ki&&!fn)return tn&&Tg(Hn,Rs,Iu),{placement:"bottom",maxHeight:Pt};if(!fn&&Ps>=Ft||fn&&dl>=Ft){tn&&Tg(Hn,Rs,Iu);var Df=fn?dl-Oo:Ps-Oo;return{placement:"bottom",maxHeight:Df}}if(Gt==="auto"||fn){var Wh=Pt,bd=fn?Ho:yl;return bd>=Ft&&(Wh=Math.min(bd-Oo-Fn.controlHeight,Pt)),{placement:"top",maxHeight:Wh}}if(Gt==="bottom")return tn&&Im(Hn,Rs),{placement:"bottom",maxHeight:Pt};break;case"top":if(Ho>=ki)return{placement:"top",maxHeight:Pt};if(yl>=ki&&!fn)return tn&&Tg(Hn,Gh,Iu),{placement:"top",maxHeight:Pt};if(!fn&&yl>=Ft||fn&&Ho>=Ft){var Yc=Pt;return(!fn&&yl>=Ft||fn&&Ho>=Ft)&&(Yc=fn?Ho-ea:yl-ea),tn&&Tg(Hn,Gh,Iu),{placement:"top",maxHeight:Yc}}return{placement:"bottom",maxHeight:Pt};default:throw new Error('Invalid placement provided "'.concat(Gt,'".'))}return jn}function Zy(Nt){var Pt={bottom:"top",top:"bottom"};return Nt?Pt[Nt]:"bottom"}var Af=function(Nt){return Nt==="auto"?"bottom":Nt},Ky=function(Nt){var Pt,jt=Nt.placement,Ft=Nt.theme,Gt=Ft.borderRadius,tn=Ft.spacing,fn=Ft.colors;return Pt={label:"menu"},Yh(Pt,Zy(jt),"100%"),Yh(Pt,"backgroundColor",fn.neutral0),Yh(Pt,"borderRadius",Gt),Yh(Pt,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),Yh(Pt,"marginBottom",tn.menuGutter),Yh(Pt,"marginTop",tn.menuGutter),Yh(Pt,"position","absolute"),Yh(Pt,"width","100%"),Yh(Pt,"zIndex",1),Pt},Jy=Rn({getPortalPlacement:null}),ev=function(Nt){Ep(jt,Nt);var Pt=kf(jt);function jt(){var Ft;Sf(this,jt);for(var Gt=arguments.length,tn=new Array(Gt),fn=0;fn<Gt;fn++)tn[fn]=arguments[fn];return Ft=Pt.call.apply(Pt,[this].concat(tn)),Ft.state={maxHeight:Ft.props.maxMenuHeight,placement:null},Ft.getPlacement=function(Cn){var Fn=Ft.props,Hn=Fn.minMenuHeight,jn=Fn.maxMenuHeight,Sr=Fn.menuPlacement,$r=Fn.menuPosition,Yr=Fn.menuShouldScrollIntoView,si=Fn.theme;if(Cn){var ki=$r==="fixed",Mi=Yr&&!ki,Vi=Xy({maxHeight:jn,menuEl:Cn,minHeight:Hn,placement:Sr,shouldScroll:Mi,isFixedPosition:ki,theme:si}),Ki=Ft.context.getPortalPlacement;Ki&&Ki(Vi),Ft.setState(Vi)}},Ft.getUpdatedProps=function(){var Cn=Ft.props.menuPlacement,Fn=Ft.state.placement||Af(Cn);return jl(jl({},Ft.props),{},{placement:Fn,maxHeight:Ft.state.maxHeight})},Ft}return xg(jt,[{key:"render",value:function(){var Ft=this.props.children;return Ft({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),jt}(xn);ev.contextType=Jy;var tv=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerRef,fn=Nt.innerProps;return Io("div",vo({css:Gt("menu",Nt),className:Ft({menu:!0},jt),ref:tn},fn),Pt)},pb=function(Nt){var Pt=Nt.maxHeight,jt=Nt.theme.spacing.baseUnit;return{maxHeight:Pt,overflowY:"auto",paddingBottom:jt,paddingTop:jt,position:"relative",WebkitOverflowScrolling:"touch"}},nv=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps,fn=Nt.innerRef,Cn=Nt.isMulti;return Io("div",vo({css:Gt("menuList",Nt),className:Ft({"menu-list":!0,"menu-list--is-multi":Cn},jt),ref:fn},tn),Pt)},s1=function(Nt){var Pt=Nt.theme,jt=Pt.spacing.baseUnit,Ft=Pt.colors;return{color:Ft.neutral40,padding:"".concat(jt*2,"px ").concat(jt*3,"px"),textAlign:"center"}},vt=s1,_t=s1,xt=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps;return Io("div",vo({css:Gt("noOptionsMessage",Nt),className:Ft({"menu-notice":!0,"menu-notice--no-options":!0},jt)},tn),Pt)};xt.defaultProps={children:"No options"};var Mt=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps;return Io("div",vo({css:Gt("loadingMessage",Nt),className:Ft({"menu-notice":!0,"menu-notice--loading":!0},jt)},tn),Pt)};Mt.defaultProps={children:"Loading..."};var kt=function(Nt){var Pt=Nt.rect,jt=Nt.offset,Ft=Nt.position;return{left:Pt.left,position:Ft,top:jt,width:Pt.width,zIndex:1}},It=function(Nt){Ep(jt,Nt);var Pt=kf(jt);function jt(){var Ft;Sf(this,jt);for(var Gt=arguments.length,tn=new Array(Gt),fn=0;fn<Gt;fn++)tn[fn]=arguments[fn];return Ft=Pt.call.apply(Pt,[this].concat(tn)),Ft.state={placement:null},Ft.getPortalPlacement=function(Cn){var Fn=Cn.placement,Hn=Af(Ft.props.menuPlacement);Fn!==Hn&&Ft.setState({placement:Fn})},Ft}return xg(jt,[{key:"render",value:function(){var Ft=this.props,Gt=Ft.appendTo,tn=Ft.children,fn=Ft.className,Cn=Ft.controlElement,Fn=Ft.cx,Hn=Ft.innerProps,jn=Ft.menuPlacement,Sr=Ft.menuPosition,$r=Ft.getStyles,Yr=Sr==="fixed";if(!Gt&&!Yr||!Cn)return null;var si=this.state.placement||Af(jn),ki=Wy(Cn),Mi=Yr?0:window.pageYOffset,Vi=ki[si]+Mi,Ki={offset:Vi,position:Sr,rect:ki},Ko=Io("div",vo({css:$r("menuPortal",Ki),className:Fn({"menu-portal":!0},fn)},Hn),tn);return Io(Jy.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},Gt?Zr(Ko,Gt):Ko)}}]),jt}(xn),Rt=function(Nt){var Pt=Nt.isDisabled,jt=Nt.isRtl;return{label:"container",direction:jt?"rtl":null,pointerEvents:Pt?"none":null,position:"relative"}},Ut=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps,fn=Nt.isDisabled,Cn=Nt.isRtl;return Io("div",vo({css:Gt("container",Nt),className:Ft({"--is-disabled":fn,"--is-rtl":Cn},jt)},tn),Pt)},Wt=function(Nt){var Pt=Nt.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(Pt.baseUnit/2,"px ").concat(Pt.baseUnit*2,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}},qt=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.innerProps,tn=Nt.isMulti,fn=Nt.getStyles,Cn=Nt.hasValue;return Io("div",vo({css:fn("valueContainer",Nt),className:Ft({"value-container":!0,"value-container--is-multi":tn,"value-container--has-value":Cn},jt)},Gt),Pt)},on=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},Jt=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.innerProps,tn=Nt.getStyles;return Io("div",vo({css:tn("indicatorsContainer",Nt),className:Ft({indicators:!0},jt)},Gt),Pt)},un,En={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Tn=function(Nt){var Pt=Nt.size,jt=Eh(Nt,["size"]);return Io("svg",vo({height:Pt,width:Pt,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:En},jt))},In=function(Nt){return Io(Tn,vo({size:20},Nt),Io("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},mn=function(Nt){return Io(Tn,vo({size:20},Nt),Io("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Wn=function(Nt){var Pt=Nt.isFocused,jt=Nt.theme,Ft=jt.spacing.baseUnit,Gt=jt.colors;return{label:"indicatorContainer",color:Pt?Gt.neutral60:Gt.neutral20,display:"flex",padding:Ft*2,transition:"color 150ms",":hover":{color:Pt?Gt.neutral80:Gt.neutral40}}},pr=Wn,kn=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps;return Io("div",vo({css:Gt("dropdownIndicator",Nt),className:Ft({indicator:!0,"dropdown-indicator":!0},jt)},tn),Pt||Io(mn,null))},Vn=Wn,Qn=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps;return Io("div",vo({css:Gt("clearIndicator",Nt),className:Ft({indicator:!0,"clear-indicator":!0},jt)},tn),Pt||Io(In,null))},ir=function(Nt){var Pt=Nt.isDisabled,jt=Nt.theme,Ft=jt.spacing.baseUnit,Gt=jt.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:Pt?Gt.neutral10:Gt.neutral20,marginBottom:Ft*2,marginTop:Ft*2,width:1}},Jn=function(Nt){var Pt=Nt.className,jt=Nt.cx,Ft=Nt.getStyles,Gt=Nt.innerProps;return Io("span",vo({},Gt,{css:Ft("indicatorSeparator",Nt),className:jt({"indicator-separator":!0},Pt)}))},oi=ac(un||(un=bg([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),Gr=function(Nt){var Pt=Nt.isFocused,jt=Nt.size,Ft=Nt.theme,Gt=Ft.colors,tn=Ft.spacing.baseUnit;return{label:"loadingIndicator",color:Pt?Gt.neutral60:Gt.neutral20,display:"flex",padding:tn*2,transition:"color 150ms",alignSelf:"center",fontSize:jt,lineHeight:1,marginRight:jt,textAlign:"center",verticalAlign:"middle"}},li=function(Nt){var Pt=Nt.delay,jt=Nt.offset;return Io("span",{css:lu({animation:"".concat(oi," 1s ease-in-out ").concat(Pt,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:jt?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})},qr=function(Nt){var Pt=Nt.className,jt=Nt.cx,Ft=Nt.getStyles,Gt=Nt.innerProps,tn=Nt.isRtl;return Io("div",vo({css:Ft("loadingIndicator",Nt),className:jt({indicator:!0,"loading-indicator":!0},Pt)},Gt),Io(li,{delay:0,offset:tn}),Io(li,{delay:160,offset:!0}),Io(li,{delay:320,offset:!tn}))};qr.defaultProps={size:4};var fi=function(Nt){var Pt=Nt.isDisabled,jt=Nt.isFocused,Ft=Nt.theme,Gt=Ft.colors,tn=Ft.borderRadius,fn=Ft.spacing;return{label:"control",alignItems:"center",backgroundColor:Pt?Gt.neutral5:Gt.neutral0,borderColor:Pt?Gt.neutral10:jt?Gt.primary:Gt.neutral20,borderRadius:tn,borderStyle:"solid",borderWidth:1,boxShadow:jt?"0 0 0 1px ".concat(Gt.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:fn.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:jt?Gt.primary:Gt.neutral30}}},ti=function(Nt){var Pt=Nt.children,jt=Nt.cx,Ft=Nt.getStyles,Gt=Nt.className,tn=Nt.isDisabled,fn=Nt.isFocused,Cn=Nt.innerRef,Fn=Nt.innerProps,Hn=Nt.menuIsOpen;return Io("div",vo({ref:Cn,css:Ft("control",Nt),className:jt({control:!0,"control--is-disabled":tn,"control--is-focused":fn,"control--menu-is-open":Hn},Gt)},Fn),Pt)},ei=function(Nt){var Pt=Nt.theme.spacing;return{paddingBottom:Pt.baseUnit*2,paddingTop:Pt.baseUnit*2}},Qr=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.Heading,fn=Nt.headingProps,Cn=Nt.innerProps,Fn=Nt.label,Hn=Nt.theme,jn=Nt.selectProps;return Io("div",vo({css:Gt("group",Nt),className:Ft({group:!0},jt)},Cn),Io(tn,vo({},fn,{selectProps:jn,theme:Hn,getStyles:Gt,cx:Ft}),Fn),Io("div",null,Pt))},ui=function(Nt){var Pt=Nt.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:Pt.baseUnit*3,paddingRight:Pt.baseUnit*3,textTransform:"uppercase"}},ni=function(Nt){var Pt=Nt.getStyles,jt=Nt.cx,Ft=Nt.className,Gt=Yy(Nt);Gt.data;var tn=Eh(Gt,["data"]);return Io("div",vo({css:Pt("groupHeading",Nt),className:jt({"group-heading":!0},Ft)},tn))},gi=function(Nt){var Pt=Nt.isDisabled,jt=Nt.theme,Ft=jt.spacing,Gt=jt.colors;return{margin:Ft.baseUnit/2,paddingBottom:Ft.baseUnit/2,paddingTop:Ft.baseUnit/2,visibility:Pt?"hidden":"visible",color:Gt.neutral80}},zr=function(Nt){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:Nt?0:1,outline:0,padding:0,color:"inherit"}},co=function(Nt){var Pt=Nt.className,jt=Nt.cx,Ft=Nt.getStyles,Gt=Yy(Nt),tn=Gt.innerRef,fn=Gt.isDisabled,Cn=Gt.isHidden,Fn=Eh(Gt,["innerRef","isDisabled","isHidden"]);return Io("div",{css:Ft("input",Nt)},Io(Am,vo({className:jt({input:!0},Pt),inputRef:tn,inputStyle:zr(Cn),disabled:fn},Fn)))},$i=function(Nt){var Pt=Nt.theme,jt=Pt.spacing,Ft=Pt.borderRadius,Gt=Pt.colors;return{label:"multiValue",backgroundColor:Gt.neutral10,borderRadius:Ft/2,display:"flex",margin:jt.baseUnit/2,minWidth:0}},Qo=function(Nt){var Pt=Nt.theme,jt=Pt.borderRadius,Ft=Pt.colors,Gt=Nt.cropWithEllipsis;return{borderRadius:jt/2,color:Ft.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:Gt?"ellipsis":null,whiteSpace:"nowrap"}},ro=function(Nt){var Pt=Nt.theme,jt=Pt.spacing,Ft=Pt.borderRadius,Gt=Pt.colors,tn=Nt.isFocused;return{alignItems:"center",borderRadius:Ft/2,backgroundColor:tn&&Gt.dangerLight,display:"flex",paddingLeft:jt.baseUnit,paddingRight:jt.baseUnit,":hover":{backgroundColor:Gt.dangerLight,color:Gt.danger}}},ko=function(Nt){var Pt=Nt.children,jt=Nt.innerProps;return Io("div",jt,Pt)},ma=ko,ss=ko;function Fl(Nt){var Pt=Nt.children,jt=Nt.innerProps;return Io("div",jt,Pt||Io(In,{size:14}))}var Mg=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.components,Gt=Nt.cx,tn=Nt.data,fn=Nt.getStyles,Cn=Nt.innerProps,Fn=Nt.isDisabled,Hn=Nt.removeProps,jn=Nt.selectProps,Sr=Ft.Container,$r=Ft.Label,Yr=Ft.Remove;return Io(hl,null,function(si){var ki=si.css,Mi=si.cx;return Io(Sr,{data:tn,innerProps:jl({className:Mi(ki(fn("multiValue",Nt)),Gt({"multi-value":!0,"multi-value--is-disabled":Fn},jt))},Cn),selectProps:jn},Io($r,{data:tn,innerProps:{className:Mi(ki(fn("multiValueLabel",Nt)),Gt({"multi-value__label":!0},jt))},selectProps:jn},Pt),Io(Yr,{data:tn,innerProps:jl({className:Mi(ki(fn("multiValueRemove",Nt)),Gt({"multi-value__remove":!0},jt))},Hn),selectProps:jn}))})};Mg.defaultProps={cropWithEllipsis:!0};var Hd=function(Nt){var Pt=Nt.isDisabled,jt=Nt.isFocused,Ft=Nt.isSelected,Gt=Nt.theme,tn=Gt.spacing,fn=Gt.colors;return{label:"option",backgroundColor:Ft?fn.primary:jt?fn.primary25:"transparent",color:Pt?fn.neutral20:Ft?fn.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(tn.baseUnit*2,"px ").concat(tn.baseUnit*3,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!Pt&&(Ft?fn.primary:fn.primary50)}}},Sg=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.isDisabled,fn=Nt.isFocused,Cn=Nt.isSelected,Fn=Nt.innerRef,Hn=Nt.innerProps;return Io("div",vo({css:Gt("option",Nt),className:Ft({option:!0,"option--is-disabled":tn,"option--is-focused":fn,"option--is-selected":Cn},jt),ref:Fn},Hn),Pt)},kg=function(Nt){var Pt=Nt.theme,jt=Pt.spacing,Ft=Pt.colors;return{label:"placeholder",color:Ft.neutral50,marginLeft:jt.baseUnit/2,marginRight:jt.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},Sp=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.innerProps;return Io("div",vo({css:Gt("placeholder",Nt),className:Ft({placeholder:!0},jt)},tn),Pt)},Lm=function(Nt){var Pt=Nt.isDisabled,jt=Nt.theme,Ft=jt.spacing,Gt=jt.colors;return{label:"singleValue",color:Pt?Gt.neutral40:Gt.neutral80,marginLeft:Ft.baseUnit/2,marginRight:Ft.baseUnit/2,maxWidth:"calc(100% - ".concat(Ft.baseUnit*2,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},kp=function(Nt){var Pt=Nt.children,jt=Nt.className,Ft=Nt.cx,Gt=Nt.getStyles,tn=Nt.isDisabled,fn=Nt.innerProps;return Io("div",vo({css:Gt("singleValue",Nt),className:Ft({"single-value":!0,"single-value--is-disabled":tn},jt)},fn),Pt)},rv={ClearIndicator:Qn,Control:ti,DropdownIndicator:kn,DownChevron:mn,CrossIcon:In,Group:Qr,GroupHeading:ni,IndicatorsContainer:Jt,IndicatorSeparator:Jn,Input:co,LoadingIndicator:qr,Menu:tv,MenuList:nv,MenuPortal:It,LoadingMessage:Mt,NoOptionsMessage:xt,MultiValue:Mg,MultiValueContainer:ma,MultiValueLabel:ss,MultiValueRemove:Fl,Option:Sg,Placeholder:Sp,SelectContainer:Ut,SingleValue:kp,ValueContainer:qt},iv=function(Nt){return jl(jl({},rv),Nt.components)};function gb(Nt,Pt){(Pt==null||Pt>Nt.length)&&(Pt=Nt.length);for(var jt=0,Ft=new Array(Pt);jt<Pt;jt++)Ft[jt]=Nt[jt];return Ft}function K_(Nt){if(Array.isArray(Nt))return gb(Nt)}function J_(Nt){if(typeof Symbol<"u"&&Nt[Symbol.iterator]!=null||Nt["@@iterator"]!=null)return Array.from(Nt)}function ew(Nt,Pt){if(Nt){if(typeof Nt=="string")return gb(Nt,Pt);var jt=Object.prototype.toString.call(Nt).slice(8,-1);if(jt==="Object"&&Nt.constructor&&(jt=Nt.constructor.name),jt==="Map"||jt==="Set")return Array.from(Nt);if(jt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(jt))return gb(Nt,Pt)}}function tw(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vb(Nt){return K_(Nt)||J_(Nt)||ew(Nt)||tw()}var Yb=Number.isNaN||function(Nt){return typeof Nt=="number"&&Nt!==Nt};function nw(Nt,Pt){return!!(Nt===Pt||Yb(Nt)&&Yb(Pt))}function rw(Nt,Pt){if(Nt.length!==Pt.length)return!1;for(var jt=0;jt<Nt.length;jt++)if(!nw(Nt[jt],Pt[jt]))return!1;return!0}function iw(Nt,Pt){Pt===void 0&&(Pt=rw);var jt,Ft=[],Gt,tn=!1;function fn(){for(var Cn=[],Fn=0;Fn<arguments.length;Fn++)Cn[Fn]=arguments[Fn];return tn&&jt===this&&Pt(Cn,Ft)||(Gt=Nt.apply(this,Cn),tn=!0,jt=this,Ft=Cn),Gt}return fn}for(var ow={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},aw=function(Nt){return Io("span",vo({css:ow},Nt))},sw={guidance:function(Nt){var Pt=Nt.isSearchable,jt=Nt.isMulti,Ft=Nt.isDisabled,Gt=Nt.tabSelectsValue,tn=Nt.context;switch(tn){case"menu":return"Use Up and Down to choose options".concat(Ft?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(Gt?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(Nt["aria-label"]||"Select"," is focused ").concat(Pt?",type to refine list":"",", press Down to open the menu, ").concat(jt?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(Nt){var Pt=Nt.action,jt=Nt.label,Ft=jt===void 0?"":jt,Gt=Nt.isDisabled;switch(Pt){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(Ft,", deselected.");case"select-option":return Gt?"option ".concat(Ft," is disabled. Select another option."):"option ".concat(Ft,", selected.");default:return""}},onFocus:function(Nt){var Pt=Nt.context,jt=Nt.focused,Ft=jt===void 0?{}:jt,Gt=Nt.options,tn=Nt.label,fn=tn===void 0?"":tn,Cn=Nt.selectValue,Fn=Nt.isDisabled,Hn=Nt.isSelected,jn=function(Yr,si){return Yr&&Yr.length?"".concat(Yr.indexOf(si)+1," of ").concat(Yr.length):""};if(Pt==="value"&&Cn)return"value ".concat(fn," focused, ").concat(jn(Cn,Ft),".");if(Pt==="menu"){var Sr=Fn?" disabled":"",$r="".concat(Hn?"selected":"focused").concat(Sr);return"option ".concat(fn," ").concat($r,", ").concat(jn(Gt,Ft),".")}return""},onFilter:function(Nt){var Pt=Nt.inputValue,jt=Nt.resultsMessage;return"".concat(jt).concat(Pt?" for search term "+Pt:"",".")}},lw=function(Nt){var Pt=Nt.ariaSelection,jt=Nt.focusedOption,Ft=Nt.focusedValue,Gt=Nt.focusableOptions,tn=Nt.isFocused,fn=Nt.selectValue,Cn=Nt.selectProps,Fn=Cn.ariaLiveMessages,Hn=Cn.getOptionLabel,jn=Cn.inputValue,Sr=Cn.isMulti,$r=Cn.isOptionDisabled,Yr=Cn.isSearchable,si=Cn.menuIsOpen,ki=Cn.options,Mi=Cn.screenReaderStatus,Vi=Cn.tabSelectsValue,Ki=Cn["aria-label"],Ko=Cn["aria-live"],Uo=er(function(){return jl(jl({},sw),Fn||{})},[Fn]),Oo=er(function(){var Ps="";if(Pt&&Uo.onChange){var Rs=Pt.option,Gh=Pt.removedValue,Iu=Pt.value,Df=function(Yc){return Array.isArray(Yc)?null:Yc},Wh=Gh||Rs||Df(Iu),bd=jl({isDisabled:Wh&&$r(Wh),label:Wh?Hn(Wh):""},Pt);Ps=Uo.onChange(bd)}return Ps},[Pt,$r,Hn,Uo]),ea=er(function(){var Ps="",Rs=jt||Ft,Gh=!!(jt&&fn&&fn.includes(jt));if(Rs&&Uo.onFocus){var Iu={focused:Rs,label:Hn(Rs),isDisabled:$r(Rs),isSelected:Gh,options:ki,context:Rs===jt?"menu":"value",selectValue:fn};Ps=Uo.onFocus(Iu)}return Ps},[jt,Ft,Hn,$r,Uo,ki,fn]),Ho=er(function(){var Ps="";if(si&&ki.length&&Uo.onFilter){var Rs=Mi({count:Gt.length});Ps=Uo.onFilter({inputValue:jn,resultsMessage:Rs})}return Ps},[Gt,jn,si,Uo,ki,Mi]),dl=er(function(){var Ps="";if(Uo.guidance){var Rs=Ft?"value":si?"menu":"input";Ps=Uo.guidance({"aria-label":Ki,context:Rs,isDisabled:jt&&$r(jt),isMulti:Sr,isSearchable:Yr,tabSelectsValue:Vi})}return Ps},[Ki,jt,Ft,Sr,$r,Yr,si,Uo,Vi]),yl="".concat(ea," ").concat(Ho," ").concat(dl);return Io(aw,{"aria-live":Ko,"aria-atomic":"false","aria-relevant":"additions text"},tn&&Io(Gi.Fragment,null,Io("span",{id:"aria-selection"},Oo),Io("span",{id:"aria-context"},yl)))},mb=[{base:"A",letters:"A\u24B6\uFF21\xC0\xC1\xC2\u1EA6\u1EA4\u1EAA\u1EA8\xC3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\xC4\u01DE\u1EA2\xC5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F"},{base:"AA",letters:"\uA732"},{base:"AE",letters:"\xC6\u01FC\u01E2"},{base:"AO",letters:"\uA734"},{base:"AU",letters:"\uA736"},{base:"AV",letters:"\uA738\uA73A"},{base:"AY",letters:"\uA73C"},{base:"B",letters:"B\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181"},{base:"C",letters:"C\u24B8\uFF23\u0106\u0108\u010A\u010C\xC7\u1E08\u0187\u023B\uA73E"},{base:"D",letters:"D\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779"},{base:"DZ",letters:"\u01F1\u01C4"},{base:"Dz",letters:"\u01F2\u01C5"},{base:"E",letters:"E\u24BA\uFF25\xC8\xC9\xCA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\xCB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E"},{base:"F",letters:"F\u24BB\uFF26\u1E1E\u0191\uA77B"},{base:"G",letters:"G\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E"},{base:"H",letters:"H\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D"},{base:"I",letters:"I\u24BE\uFF29\xCC\xCD\xCE\u0128\u012A\u012C\u0130\xCF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197"},{base:"J",letters:"J\u24BF\uFF2A\u0134\u0248"},{base:"K",letters:"K\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2"},{base:"L",letters:"L\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780"},{base:"LJ",letters:"\u01C7"},{base:"Lj",letters:"\u01C8"},{base:"M",letters:"M\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C"},{base:"N",letters:"N\u24C3\uFF2E\u01F8\u0143\xD1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4"},{base:"NJ",letters:"\u01CA"},{base:"Nj",letters:"\u01CB"},{base:"O",letters:"O\u24C4\uFF2F\xD2\xD3\xD4\u1ED2\u1ED0\u1ED6\u1ED4\xD5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\xD6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\xD8\u01FE\u0186\u019F\uA74A\uA74C"},{base:"OI",letters:"\u01A2"},{base:"OO",letters:"\uA74E"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754"},{base:"Q",letters:"Q\u24C6\uFF31\uA756\uA758\u024A"},{base:"R",letters:"R\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782"},{base:"S",letters:"S\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784"},{base:"T",letters:"T\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786"},{base:"TZ",letters:"\uA728"},{base:"U",letters:"U\u24CA\uFF35\xD9\xDA\xDB\u0168\u1E78\u016A\u1E7A\u016C\xDC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244"},{base:"V",letters:"V\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245"},{base:"VY",letters:"\uA760"},{base:"W",letters:"W\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72"},{base:"X",letters:"X\u24CD\uFF38\u1E8A\u1E8C"},{base:"Y",letters:"Y\u24CE\uFF39\u1EF2\xDD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE"},{base:"Z",letters:"Z\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762"},{base:"a",letters:"a\u24D0\uFF41\u1E9A\xE0\xE1\xE2\u1EA7\u1EA5\u1EAB\u1EA9\xE3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\xE4\u01DF\u1EA3\xE5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250"},{base:"aa",letters:"\uA733"},{base:"ae",letters:"\xE6\u01FD\u01E3"},{base:"ao",letters:"\uA735"},{base:"au",letters:"\uA737"},{base:"av",letters:"\uA739\uA73B"},{base:"ay",letters:"\uA73D"},{base:"b",letters:"b\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253"},{base:"c",letters:"c\u24D2\uFF43\u0107\u0109\u010B\u010D\xE7\u1E09\u0188\u023C\uA73F\u2184"},{base:"d",letters:"d\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A"},{base:"dz",letters:"\u01F3\u01C6"},{base:"e",letters:"e\u24D4\uFF45\xE8\xE9\xEA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\xEB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD"},{base:"f",letters:"f\u24D5\uFF46\u1E1F\u0192\uA77C"},{base:"g",letters:"g\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F"},{base:"h",letters:"h\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24D8\uFF49\xEC\xED\xEE\u0129\u012B\u012D\xEF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131"},{base:"j",letters:"j\u24D9\uFF4A\u0135\u01F0\u0249"},{base:"k",letters:"k\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3"},{base:"l",letters:"l\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747"},{base:"lj",letters:"\u01C9"},{base:"m",letters:"m\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F"},{base:"n",letters:"n\u24DD\uFF4E\u01F9\u0144\xF1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5"},{base:"nj",letters:"\u01CC"},{base:"o",letters:"o\u24DE\uFF4F\xF2\xF3\xF4\u1ED3\u1ED1\u1ED7\u1ED5\xF5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\xF6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\xF8\u01FF\u0254\uA74B\uA74D\u0275"},{base:"oi",letters:"\u01A3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\uA74F"},{base:"p",letters:"p\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755"},{base:"q",letters:"q\u24E0\uFF51\u024B\uA757\uA759"},{base:"r",letters:"r\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783"},{base:"s",letters:"s\u24E2\uFF53\xDF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B"},{base:"t",letters:"t\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787"},{base:"tz",letters:"\uA729"},{base:"u",letters:"u\u24E4\uFF55\xF9\xFA\xFB\u0169\u1E79\u016B\u1E7B\u016D\xFC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289"},{base:"v",letters:"v\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C"},{base:"vy",letters:"\uA761"},{base:"w",letters:"w\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73"},{base:"x",letters:"x\u24E7\uFF58\u1E8B\u1E8D"},{base:"y",letters:"y\u24E8\uFF59\u1EF3\xFD\u0177\u1EF9\u0233\u1E8F\xFF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF"},{base:"z",letters:"z\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763"}],cw=new RegExp("["+mb.map(function(Nt){return Nt.letters}).join("")+"]","g"),Gb={},yb=0;yb<mb.length;yb++)for(var vb=mb[yb],bb=0;bb<vb.letters.length;bb++)Gb[vb.letters[bb]]=vb.base;var Wb=function(Nt){return Nt.replace(cw,function(Pt){return Gb[Pt]})},uw=iw(Wb),qb=function(Nt){return Nt.replace(/^\s+|\s+$/g,"")},hw=function(Nt){return"".concat(Nt.label," ").concat(Nt.value)},dw=function(Nt){return function(Pt,jt){var Ft=jl({ignoreCase:!0,ignoreAccents:!0,stringify:hw,trim:!0,matchFrom:"any"},Nt),Gt=Ft.ignoreCase,tn=Ft.ignoreAccents,fn=Ft.stringify,Cn=Ft.trim,Fn=Ft.matchFrom,Hn=Cn?qb(jt):jt,jn=Cn?qb(fn(Pt)):fn(Pt);return Gt&&(Hn=Hn.toLowerCase(),jn=jn.toLowerCase()),tn&&(Hn=uw(Hn),jn=Wb(jn)),Fn==="start"?jn.substr(0,Hn.length)===Hn:jn.indexOf(Hn)>-1}};function fw(Nt){Nt.in,Nt.out,Nt.onExited,Nt.appear,Nt.enter,Nt.exit;var Pt=Nt.innerRef;Nt.emotion;var jt=Eh(Nt,["in","out","onExited","appear","enter","exit","innerRef","emotion"]);return Io("input",vo({ref:Pt},jt,{css:lu({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var pw=function(Nt){Nt.preventDefault(),Nt.stopPropagation()};function gw(Nt){var Pt=Nt.isEnabled,jt=Nt.onBottomArrive,Ft=Nt.onBottomLeave,Gt=Nt.onTopArrive,tn=Nt.onTopLeave,fn=Ln(!1),Cn=Ln(!1),Fn=Ln(0),Hn=Ln(null),jn=sr(function(Mi,Vi){if(Hn.current!==null){var Ki=Hn.current,Ko=Ki.scrollTop,Uo=Ki.scrollHeight,Oo=Ki.clientHeight,ea=Hn.current,Ho=Vi>0,dl=Uo-Oo-Ko,yl=!1;dl>Vi&&fn.current&&(Ft&&Ft(Mi),fn.current=!1),Ho&&Cn.current&&(tn&&tn(Mi),Cn.current=!1),Ho&&Vi>dl?(jt&&!fn.current&&jt(Mi),ea.scrollTop=Uo,yl=!0,fn.current=!0):!Ho&&-Vi>Ko&&(Gt&&!Cn.current&&Gt(Mi),ea.scrollTop=0,yl=!0,Cn.current=!0),yl&&pw(Mi)}},[]),Sr=sr(function(Mi){jn(Mi,Mi.deltaY)},[jn]),$r=sr(function(Mi){Fn.current=Mi.changedTouches[0].clientY},[]),Yr=sr(function(Mi){var Vi=Fn.current-Mi.changedTouches[0].clientY;jn(Mi,Vi)},[jn]),si=sr(function(Mi){if(Mi){var Vi=Qy?{passive:!1}:!1;typeof Mi.addEventListener=="function"&&Mi.addEventListener("wheel",Sr,Vi),typeof Mi.addEventListener=="function"&&Mi.addEventListener("touchstart",$r,Vi),typeof Mi.addEventListener=="function"&&Mi.addEventListener("touchmove",Yr,Vi)}},[Yr,$r,Sr]),ki=sr(function(Mi){!Mi||(typeof Mi.removeEventListener=="function"&&Mi.removeEventListener("wheel",Sr,!1),typeof Mi.removeEventListener=="function"&&Mi.removeEventListener("touchstart",$r,!1),typeof Mi.removeEventListener=="function"&&Mi.removeEventListener("touchmove",Yr,!1))},[Yr,$r,Sr]);return Ai(function(){if(Pt){var Mi=Hn.current;return si(Mi),function(){ki(Mi)}}},[Pt,si,ki]),function(Mi){Hn.current=Mi}}var Qb=["boxSizing","height","overflow","paddingRight","position"],Xb={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Zb(Nt){Nt.preventDefault()}function Kb(Nt){Nt.stopPropagation()}function Jb(){var Nt=this.scrollTop,Pt=this.scrollHeight,jt=Nt+this.offsetHeight;Nt===0?this.scrollTop=1:jt===Pt&&(this.scrollTop=Nt-1)}function e_(){return"ontouchstart"in window||navigator.maxTouchPoints}var t_=!!(typeof window<"u"&&window.document&&window.document.createElement),l1=0,Om={capture:!1,passive:!1};function mw(Nt){var Pt=Nt.isEnabled,jt=Nt.accountForScrollbars,Ft=jt===void 0?!0:jt,Gt=Ln({}),tn=Ln(null),fn=sr(function(Fn){if(t_){var Hn=document.body,jn=Hn&&Hn.style;if(Ft&&Qb.forEach(function(si){var ki=jn&&jn[si];Gt.current[si]=ki}),Ft&&l1<1){var Sr=parseInt(Gt.current.paddingRight,10)||0,$r=document.body?document.body.clientWidth:0,Yr=window.innerWidth-$r+Sr||0;Object.keys(Xb).forEach(function(si){var ki=Xb[si];jn&&(jn[si]=ki)}),jn&&(jn.paddingRight="".concat(Yr,"px"))}Hn&&e_()&&(Hn.addEventListener("touchmove",Zb,Om),Fn&&(Fn.addEventListener("touchstart",Jb,Om),Fn.addEventListener("touchmove",Kb,Om))),l1+=1}},[]),Cn=sr(function(Fn){if(t_){var Hn=document.body,jn=Hn&&Hn.style;l1=Math.max(l1-1,0),Ft&&l1<1&&Qb.forEach(function(Sr){var $r=Gt.current[Sr];jn&&(jn[Sr]=$r)}),Hn&&e_()&&(Hn.removeEventListener("touchmove",Zb,Om),Fn&&(Fn.removeEventListener("touchstart",Jb,Om),Fn.removeEventListener("touchmove",Kb,Om)))}},[]);return Ai(function(){if(Pt){var Fn=tn.current;return fn(Fn),function(){Cn(Fn)}}},[Pt,fn,Cn]),function(Fn){tn.current=Fn}}var yw=function(){return document.activeElement&&document.activeElement.blur()},vw={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function bw(Nt){var Pt=Nt.children,jt=Nt.lockEnabled,Ft=Nt.captureEnabled,Gt=Ft===void 0?!0:Ft,tn=Nt.onBottomArrive,fn=Nt.onBottomLeave,Cn=Nt.onTopArrive,Fn=Nt.onTopLeave,Hn=gw({isEnabled:Gt,onBottomArrive:tn,onBottomLeave:fn,onTopArrive:Cn,onTopLeave:Fn}),jn=mw({isEnabled:jt}),Sr=function($r){Hn($r),jn($r)};return Io(Gi.Fragment,null,jt&&Io("div",{onClick:yw,css:vw}),Pt(Sr))}var _w=function(Nt){return Nt.label},ww=function(Nt){return Nt.label},xw=function(Nt){return Nt.value},Ew=function(Nt){return!!Nt.isDisabled},Tw={clearIndicator:Vn,container:Rt,control:fi,dropdownIndicator:pr,group:ei,groupHeading:ui,indicatorsContainer:on,indicatorSeparator:ir,input:gi,loadingIndicator:Gr,loadingMessage:_t,menu:Ky,menuList:pb,menuPortal:kt,multiValue:$i,multiValueLabel:Qo,multiValueRemove:ro,noOptionsMessage:vt,option:Hd,placeholder:kg,singleValue:Lm,valueContainer:Wt},Mw={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Sw=4,n_=4,kw=38,Cw=n_*2,Aw={baseUnit:n_,controlHeight:kw,menuGutter:Cw},_b={borderRadius:Sw,colors:Mw,spacing:Aw},Nw={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:qy(),captureMenuScroll:!qy(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:dw(),formatGroupLabel:_w,getOptionLabel:ww,getOptionValue:xw,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Ew,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!db(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(Nt){var Pt=Nt.count;return"".concat(Pt," result").concat(Pt!==1?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function r_(Nt,Pt,jt,Ft){var Gt=l_(Nt,Pt,jt),tn=c_(Nt,Pt,jt),fn=s_(Nt,Pt),Cn=ov(Nt,Pt);return{type:"option",data:Pt,isDisabled:Gt,isSelected:tn,label:fn,value:Cn,index:Ft}}function i_(Nt,Pt){return Nt.options.map(function(jt,Ft){if(jt.options){var Gt=jt.options.map(function(fn,Cn){return r_(Nt,fn,Pt,Cn)}).filter(function(fn){return a_(Nt,fn)});return Gt.length>0?{type:"group",data:jt,options:Gt,index:Ft}:void 0}var tn=r_(Nt,jt,Pt,Ft);return a_(Nt,tn)?tn:void 0}).filter(function(jt){return!!jt})}function o_(Nt){return Nt.reduce(function(Pt,jt){return jt.type==="group"?Pt.push.apply(Pt,Vb(jt.options.map(function(Ft){return Ft.data}))):Pt.push(jt.data),Pt},[])}function Dw(Nt,Pt){return o_(i_(Nt,Pt))}function a_(Nt,Pt){var jt=Nt.inputValue,Ft=jt===void 0?"":jt,Gt=Pt.data,tn=Pt.isSelected,fn=Pt.label,Cn=Pt.value;return(!h_(Nt)||!tn)&&u_(Nt,{label:fn,value:Cn,data:Gt},Ft)}function Iw(Nt,Pt){var jt=Nt.focusedValue,Ft=Nt.selectValue,Gt=Ft.indexOf(jt);if(Gt>-1){var tn=Pt.indexOf(jt);if(tn>-1)return jt;if(Gt<Pt.length)return Pt[Gt]}return null}function Lw(Nt,Pt){var jt=Nt.focusedOption;return jt&&Pt.indexOf(jt)>-1?jt:Pt[0]}var s_=function(Nt,Pt){return Nt.getOptionLabel(Pt)},ov=function(Nt,Pt){return Nt.getOptionValue(Pt)};function l_(Nt,Pt,jt){return typeof Nt.isOptionDisabled=="function"?Nt.isOptionDisabled(Pt,jt):!1}function c_(Nt,Pt,jt){if(jt.indexOf(Pt)>-1)return!0;if(typeof Nt.isOptionSelected=="function")return Nt.isOptionSelected(Pt,jt);var Ft=ov(Nt,Pt);return jt.some(function(Gt){return ov(Nt,Gt)===Ft})}function u_(Nt,Pt,jt){return Nt.filterOption?Nt.filterOption(Pt,jt):!0}var h_=function(Nt){var Pt=Nt.hideSelectedOptions,jt=Nt.isMulti;return Pt===void 0?jt:Pt},Ow=1,d_=function(Nt){Ep(jt,Nt);var Pt=kf(jt);function jt(Ft){var Gt;return Sf(this,jt),Gt=Pt.call(this,Ft),Gt.state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},Gt.blockOptionHover=!1,Gt.isComposing=!1,Gt.commonProps=void 0,Gt.initialTouchX=0,Gt.initialTouchY=0,Gt.instancePrefix="",Gt.openAfterFocus=!1,Gt.scrollToFocusedOptionOnUpdate=!1,Gt.userIsDragging=void 0,Gt.controlRef=null,Gt.getControlRef=function(tn){Gt.controlRef=tn},Gt.focusedOptionRef=null,Gt.getFocusedOptionRef=function(tn){Gt.focusedOptionRef=tn},Gt.menuListRef=null,Gt.getMenuListRef=function(tn){Gt.menuListRef=tn},Gt.inputRef=null,Gt.getInputRef=function(tn){Gt.inputRef=tn},Gt.focus=Gt.focusInput,Gt.blur=Gt.blurInput,Gt.onChange=function(tn,fn){var Cn=Gt.props,Fn=Cn.onChange,Hn=Cn.name;fn.name=Hn,Gt.ariaOnChange(tn,fn),Fn(tn,fn)},Gt.setValue=function(tn){var fn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"set-value",Cn=arguments.length>2?arguments[2]:void 0,Fn=Gt.props,Hn=Fn.closeMenuOnSelect,jn=Fn.isMulti;Gt.onInputChange("",{action:"set-value"}),Hn&&(Gt.setState({inputIsHiddenAfterUpdate:!jn}),Gt.onMenuClose()),Gt.setState({clearFocusValueOnUpdate:!0}),Gt.onChange(tn,{action:fn,option:Cn})},Gt.selectOption=function(tn){var fn=Gt.props,Cn=fn.blurInputOnSelect,Fn=fn.isMulti,Hn=fn.name,jn=Gt.state.selectValue,Sr=Fn&&Gt.isOptionSelected(tn,jn),$r=Gt.isOptionDisabled(tn,jn);if(Sr){var Yr=Gt.getOptionValue(tn);Gt.setValue(jn.filter(function(si){return Gt.getOptionValue(si)!==Yr}),"deselect-option",tn)}else if(!$r)Fn?Gt.setValue([].concat(Vb(jn),[tn]),"select-option",tn):Gt.setValue(tn,"select-option");else{Gt.ariaOnChange(tn,{action:"select-option",name:Hn});return}Cn&&Gt.blurInput()},Gt.removeValue=function(tn){var fn=Gt.props.isMulti,Cn=Gt.state.selectValue,Fn=Gt.getOptionValue(tn),Hn=Cn.filter(function(Sr){return Gt.getOptionValue(Sr)!==Fn}),jn=fn?Hn:Hn[0]||null;Gt.onChange(jn,{action:"remove-value",removedValue:tn}),Gt.focusInput()},Gt.clearValue=function(){var tn=Gt.state.selectValue;Gt.onChange(Gt.props.isMulti?[]:null,{action:"clear",removedValues:tn})},Gt.popValue=function(){var tn=Gt.props.isMulti,fn=Gt.state.selectValue,Cn=fn[fn.length-1],Fn=fn.slice(0,fn.length-1),Hn=tn?Fn:Fn[0]||null;Gt.onChange(Hn,{action:"pop-value",removedValue:Cn})},Gt.getValue=function(){return Gt.state.selectValue},Gt.cx=function(){for(var tn=arguments.length,fn=new Array(tn),Cn=0;Cn<tn;Cn++)fn[Cn]=arguments[Cn];return Vy.apply(void 0,[Gt.props.classNamePrefix].concat(fn))},Gt.getOptionLabel=function(tn){return s_(Gt.props,tn)},Gt.getOptionValue=function(tn){return ov(Gt.props,tn)},Gt.getStyles=function(tn,fn){var Cn=Tw[tn](fn);Cn.boxSizing="border-box";var Fn=Gt.props.styles[tn];return Fn?Fn(Cn,fn):Cn},Gt.getElementId=function(tn){return"".concat(Gt.instancePrefix,"-").concat(tn)},Gt.getComponents=function(){return iv(Gt.props)},Gt.buildCategorizedOptions=function(){return i_(Gt.props,Gt.state.selectValue)},Gt.getCategorizedOptions=function(){return Gt.props.menuIsOpen?Gt.buildCategorizedOptions():[]},Gt.buildFocusableOptions=function(){return o_(Gt.buildCategorizedOptions())},Gt.getFocusableOptions=function(){return Gt.props.menuIsOpen?Gt.buildFocusableOptions():[]},Gt.ariaOnChange=function(tn,fn){Gt.setState({ariaSelection:jl({value:tn},fn)})},Gt.onMenuMouseDown=function(tn){tn.button===0&&(tn.stopPropagation(),tn.preventDefault(),Gt.focusInput())},Gt.onMenuMouseMove=function(tn){Gt.blockOptionHover=!1},Gt.onControlMouseDown=function(tn){var fn=Gt.props.openMenuOnClick;Gt.state.isFocused?Gt.props.menuIsOpen?tn.target.tagName!=="INPUT"&&tn.target.tagName!=="TEXTAREA"&&Gt.onMenuClose():fn&&Gt.openMenu("first"):(fn&&(Gt.openAfterFocus=!0),Gt.focusInput()),tn.target.tagName!=="INPUT"&&tn.target.tagName!=="TEXTAREA"&&tn.preventDefault()},Gt.onDropdownIndicatorMouseDown=function(tn){if(!(tn&&tn.type==="mousedown"&&tn.button!==0)&&!Gt.props.isDisabled){var fn=Gt.props,Cn=fn.isMulti,Fn=fn.menuIsOpen;Gt.focusInput(),Fn?(Gt.setState({inputIsHiddenAfterUpdate:!Cn}),Gt.onMenuClose()):Gt.openMenu("first"),tn.preventDefault(),tn.stopPropagation()}},Gt.onClearIndicatorMouseDown=function(tn){tn&&tn.type==="mousedown"&&tn.button!==0||(Gt.clearValue(),tn.stopPropagation(),Gt.openAfterFocus=!1,tn.type==="touchend"?Gt.focusInput():setTimeout(function(){return Gt.focusInput()}))},Gt.onScroll=function(tn){typeof Gt.props.closeMenuOnScroll=="boolean"?tn.target instanceof HTMLElement&&r1(tn.target)&&Gt.props.onMenuClose():typeof Gt.props.closeMenuOnScroll=="function"&&Gt.props.closeMenuOnScroll(tn)&&Gt.props.onMenuClose()},Gt.onCompositionStart=function(){Gt.isComposing=!0},Gt.onCompositionEnd=function(){Gt.isComposing=!1},Gt.onTouchStart=function(tn){var fn=tn.touches,Cn=fn&&fn.item(0);!Cn||(Gt.initialTouchX=Cn.clientX,Gt.initialTouchY=Cn.clientY,Gt.userIsDragging=!1)},Gt.onTouchMove=function(tn){var fn=tn.touches,Cn=fn&&fn.item(0);if(Cn){var Fn=Math.abs(Cn.clientX-Gt.initialTouchX),Hn=Math.abs(Cn.clientY-Gt.initialTouchY),jn=5;Gt.userIsDragging=Fn>jn||Hn>jn}},Gt.onTouchEnd=function(tn){Gt.userIsDragging||(Gt.controlRef&&!Gt.controlRef.contains(tn.target)&&Gt.menuListRef&&!Gt.menuListRef.contains(tn.target)&&Gt.blurInput(),Gt.initialTouchX=0,Gt.initialTouchY=0)},Gt.onControlTouchEnd=function(tn){Gt.userIsDragging||Gt.onControlMouseDown(tn)},Gt.onClearIndicatorTouchEnd=function(tn){Gt.userIsDragging||Gt.onClearIndicatorMouseDown(tn)},Gt.onDropdownIndicatorTouchEnd=function(tn){Gt.userIsDragging||Gt.onDropdownIndicatorMouseDown(tn)},Gt.handleInputChange=function(tn){var fn=tn.currentTarget.value;Gt.setState({inputIsHiddenAfterUpdate:!1}),Gt.onInputChange(fn,{action:"input-change"}),Gt.props.menuIsOpen||Gt.onMenuOpen()},Gt.onInputFocus=function(tn){Gt.props.onFocus&&Gt.props.onFocus(tn),Gt.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(Gt.openAfterFocus||Gt.props.openMenuOnFocus)&&Gt.openMenu("first"),Gt.openAfterFocus=!1},Gt.onInputBlur=function(tn){if(Gt.menuListRef&&Gt.menuListRef.contains(document.activeElement)){Gt.inputRef.focus();return}Gt.props.onBlur&&Gt.props.onBlur(tn),Gt.onInputChange("",{action:"input-blur"}),Gt.onMenuClose(),Gt.setState({focusedValue:null,isFocused:!1})},Gt.onOptionHover=function(tn){Gt.blockOptionHover||Gt.state.focusedOption===tn||Gt.setState({focusedOption:tn})},Gt.shouldHideSelectedOptions=function(){return h_(Gt.props)},Gt.onKeyDown=function(tn){var fn=Gt.props,Cn=fn.isMulti,Fn=fn.backspaceRemovesValue,Hn=fn.escapeClearsValue,jn=fn.inputValue,Sr=fn.isClearable,$r=fn.isDisabled,Yr=fn.menuIsOpen,si=fn.onKeyDown,ki=fn.tabSelectsValue,Mi=fn.openMenuOnFocus,Vi=Gt.state,Ki=Vi.focusedOption,Ko=Vi.focusedValue,Uo=Vi.selectValue;if(!$r&&!(typeof si=="function"&&(si(tn),tn.defaultPrevented))){switch(Gt.blockOptionHover=!0,tn.key){case"ArrowLeft":if(!Cn||jn)return;Gt.focusValue("previous");break;case"ArrowRight":if(!Cn||jn)return;Gt.focusValue("next");break;case"Delete":case"Backspace":if(jn)return;if(Ko)Gt.removeValue(Ko);else{if(!Fn)return;Cn?Gt.popValue():Sr&&Gt.clearValue()}break;case"Tab":if(Gt.isComposing||tn.shiftKey||!Yr||!ki||!Ki||Mi&&Gt.isOptionSelected(Ki,Uo))return;Gt.selectOption(Ki);break;case"Enter":if(tn.keyCode===229)break;if(Yr){if(!Ki||Gt.isComposing)return;Gt.selectOption(Ki);break}return;case"Escape":Yr?(Gt.setState({inputIsHiddenAfterUpdate:!1}),Gt.onInputChange("",{action:"menu-close"}),Gt.onMenuClose()):Sr&&Hn&&Gt.clearValue();break;case" ":if(jn)return;if(!Yr){Gt.openMenu("first");break}if(!Ki)return;Gt.selectOption(Ki);break;case"ArrowUp":Yr?Gt.focusOption("up"):Gt.openMenu("last");break;case"ArrowDown":Yr?Gt.focusOption("down"):Gt.openMenu("first");break;case"PageUp":if(!Yr)return;Gt.focusOption("pageup");break;case"PageDown":if(!Yr)return;Gt.focusOption("pagedown");break;case"Home":if(!Yr)return;Gt.focusOption("first");break;case"End":if(!Yr)return;Gt.focusOption("last");break;default:return}tn.preventDefault()}},Gt.instancePrefix="react-select-"+(Gt.props.instanceId||++Ow),Gt.state.selectValue=n1(Ft.value),Gt}return xg(jt,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(Ft){var Gt=this.props,tn=Gt.isDisabled,fn=Gt.menuIsOpen,Cn=this.state.isFocused;(Cn&&!tn&&Ft.isDisabled||Cn&&fn&&!Ft.menuIsOpen)&&this.focusInput(),Cn&&tn&&!Ft.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(hb(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(Ft,Gt){this.props.onInputChange(Ft,Gt)}},{key:"focusInput",value:function(){!this.inputRef||this.inputRef.focus()}},{key:"blurInput",value:function(){!this.inputRef||this.inputRef.blur()}},{key:"openMenu",value:function(Ft){var Gt=this,tn=this.state,fn=tn.selectValue,Cn=tn.isFocused,Fn=this.buildFocusableOptions(),Hn=Ft==="first"?0:Fn.length-1;if(!this.props.isMulti){var jn=Fn.indexOf(fn[0]);jn>-1&&(Hn=jn)}this.scrollToFocusedOptionOnUpdate=!(Cn&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:Fn[Hn]},function(){return Gt.onMenuOpen()})}},{key:"focusValue",value:function(Ft){var Gt=this.state,tn=Gt.selectValue,fn=Gt.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var Cn=tn.indexOf(fn);fn||(Cn=-1);var Fn=tn.length-1,Hn=-1;if(tn.length){switch(Ft){case"previous":Cn===0?Hn=0:Cn===-1?Hn=Fn:Hn=Cn-1;break;case"next":Cn>-1&&Cn<Fn&&(Hn=Cn+1);break}this.setState({inputIsHidden:Hn!==-1,focusedValue:tn[Hn]})}}}},{key:"focusOption",value:function(){var Ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",Gt=this.props.pageSize,tn=this.state.focusedOption,fn=this.getFocusableOptions();if(fn.length){var Cn=0,Fn=fn.indexOf(tn);tn||(Fn=-1),Ft==="up"?Cn=Fn>0?Fn-1:fn.length-1:Ft==="down"?Cn=(Fn+1)%fn.length:Ft==="pageup"?(Cn=Fn-Gt,Cn<0&&(Cn=0)):Ft==="pagedown"?(Cn=Fn+Gt,Cn>fn.length-1&&(Cn=fn.length-1)):Ft==="last"&&(Cn=fn.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:fn[Cn],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(_b):jl(jl({},_b),this.props.theme):_b}},{key:"getCommonProps",value:function(){var Ft=this.clearValue,Gt=this.cx,tn=this.getStyles,fn=this.getValue,Cn=this.selectOption,Fn=this.setValue,Hn=this.props,jn=Hn.isMulti,Sr=Hn.isRtl,$r=Hn.options,Yr=this.hasValue();return{clearValue:Ft,cx:Gt,getStyles:tn,getValue:fn,hasValue:Yr,isMulti:jn,isRtl:Sr,options:$r,selectOption:Cn,selectProps:Hn,setValue:Fn,theme:this.getTheme()}}},{key:"hasValue",value:function(){var Ft=this.state.selectValue;return Ft.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var Ft=this.props,Gt=Ft.isClearable,tn=Ft.isMulti;return Gt===void 0?tn:Gt}},{key:"isOptionDisabled",value:function(Ft,Gt){return l_(this.props,Ft,Gt)}},{key:"isOptionSelected",value:function(Ft,Gt){return c_(this.props,Ft,Gt)}},{key:"filterOption",value:function(Ft,Gt){return u_(this.props,Ft,Gt)}},{key:"formatOptionLabel",value:function(Ft,Gt){if(typeof this.props.formatOptionLabel=="function"){var tn=this.props.inputValue,fn=this.state.selectValue;return this.props.formatOptionLabel(Ft,{context:Gt,inputValue:tn,selectValue:fn})}else return this.getOptionLabel(Ft)}},{key:"formatGroupLabel",value:function(Ft){return this.props.formatGroupLabel(Ft)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var Ft=this.props,Gt=Ft.isDisabled,tn=Ft.isSearchable,fn=Ft.inputId,Cn=Ft.inputValue,Fn=Ft.tabIndex,Hn=Ft.form,jn=this.getComponents(),Sr=jn.Input,$r=this.state.inputIsHidden,Yr=this.commonProps,si=fn||this.getElementId("input"),ki={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return tn?Gi.createElement(Sr,vo({},Yr,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:si,innerRef:this.getInputRef,isDisabled:Gt,isHidden:$r,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:Fn,form:Hn,type:"text",value:Cn},ki)):Gi.createElement(fw,vo({id:si,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ud,onFocus:this.onInputFocus,readOnly:!0,disabled:Gt,tabIndex:Fn,form:Hn,value:""},ki))}},{key:"renderPlaceholderOrValue",value:function(){var Ft=this,Gt=this.getComponents(),tn=Gt.MultiValue,fn=Gt.MultiValueContainer,Cn=Gt.MultiValueLabel,Fn=Gt.MultiValueRemove,Hn=Gt.SingleValue,jn=Gt.Placeholder,Sr=this.commonProps,$r=this.props,Yr=$r.controlShouldRenderValue,si=$r.isDisabled,ki=$r.isMulti,Mi=$r.inputValue,Vi=$r.placeholder,Ki=this.state,Ko=Ki.selectValue,Uo=Ki.focusedValue,Oo=Ki.isFocused;if(!this.hasValue()||!Yr)return Mi?null:Gi.createElement(jn,vo({},Sr,{key:"placeholder",isDisabled:si,isFocused:Oo}),Vi);if(ki){var ea=Ko.map(function(dl,yl){var Ps=dl===Uo;return Gi.createElement(tn,vo({},Sr,{components:{Container:fn,Label:Cn,Remove:Fn},isFocused:Ps,isDisabled:si,key:"".concat(Ft.getOptionValue(dl)).concat(yl),index:yl,removeProps:{onClick:function(){return Ft.removeValue(dl)},onTouchEnd:function(){return Ft.removeValue(dl)},onMouseDown:function(Rs){Rs.preventDefault(),Rs.stopPropagation()}},data:dl}),Ft.formatOptionLabel(dl,"value"))});return ea}if(Mi)return null;var Ho=Ko[0];return Gi.createElement(Hn,vo({},Sr,{data:Ho,isDisabled:si}),this.formatOptionLabel(Ho,"value"))}},{key:"renderClearIndicator",value:function(){var Ft=this.getComponents(),Gt=Ft.ClearIndicator,tn=this.commonProps,fn=this.props,Cn=fn.isDisabled,Fn=fn.isLoading,Hn=this.state.isFocused;if(!this.isClearable()||!Gt||Cn||!this.hasValue()||Fn)return null;var jn={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return Gi.createElement(Gt,vo({},tn,{innerProps:jn,isFocused:Hn}))}},{key:"renderLoadingIndicator",value:function(){var Ft=this.getComponents(),Gt=Ft.LoadingIndicator,tn=this.commonProps,fn=this.props,Cn=fn.isDisabled,Fn=fn.isLoading,Hn=this.state.isFocused;if(!Gt||!Fn)return null;var jn={"aria-hidden":"true"};return Gi.createElement(Gt,vo({},tn,{innerProps:jn,isDisabled:Cn,isFocused:Hn}))}},{key:"renderIndicatorSeparator",value:function(){var Ft=this.getComponents(),Gt=Ft.DropdownIndicator,tn=Ft.IndicatorSeparator;if(!Gt||!tn)return null;var fn=this.commonProps,Cn=this.props.isDisabled,Fn=this.state.isFocused;return Gi.createElement(tn,vo({},fn,{isDisabled:Cn,isFocused:Fn}))}},{key:"renderDropdownIndicator",value:function(){var Ft=this.getComponents(),Gt=Ft.DropdownIndicator;if(!Gt)return null;var tn=this.commonProps,fn=this.props.isDisabled,Cn=this.state.isFocused,Fn={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return Gi.createElement(Gt,vo({},tn,{innerProps:Fn,isDisabled:fn,isFocused:Cn}))}},{key:"renderMenu",value:function(){var Ft=this,Gt=this.getComponents(),tn=Gt.Group,fn=Gt.GroupHeading,Cn=Gt.Menu,Fn=Gt.MenuList,Hn=Gt.MenuPortal,jn=Gt.LoadingMessage,Sr=Gt.NoOptionsMessage,$r=Gt.Option,Yr=this.commonProps,si=this.state.focusedOption,ki=this.props,Mi=ki.captureMenuScroll,Vi=ki.inputValue,Ki=ki.isLoading,Ko=ki.loadingMessage,Uo=ki.minMenuHeight,Oo=ki.maxMenuHeight,ea=ki.menuIsOpen,Ho=ki.menuPlacement,dl=ki.menuPosition,yl=ki.menuPortalTarget,Ps=ki.menuShouldBlockScroll,Rs=ki.menuShouldScrollIntoView,Gh=ki.noOptionsMessage,Iu=ki.onMenuScrollToTop,Df=ki.onMenuScrollToBottom;if(!ea)return null;var Wh=function(el,Oi){var Qi=el.type,to=el.data,Xi=el.isDisabled,so=el.isSelected,ia=el.label,fl=el.value,mc=si===to,zs=Xi?void 0:function(){return Ft.onOptionHover(to)},Lg=Xi?void 0:function(){return Ft.selectOption(to)},Vd="".concat(Ft.getElementId("option"),"-").concat(Oi),Ap={id:Vd,onClick:Lg,onMouseMove:zs,onMouseOver:zs,tabIndex:-1};return Gi.createElement($r,vo({},Yr,{innerProps:Ap,data:to,isDisabled:Xi,isSelected:so,key:Vd,label:ia,type:Qi,value:fl,isFocused:mc,innerRef:mc?Ft.getFocusedOptionRef:void 0}),Ft.formatOptionLabel(el.data,"menu"))},bd;if(this.hasOptions())bd=this.getCategorizedOptions().map(function(el){if(el.type==="group"){var Oi=el.data,Qi=el.options,to=el.index,Xi="".concat(Ft.getElementId("group"),"-").concat(to),so="".concat(Xi,"-heading");return Gi.createElement(tn,vo({},Yr,{key:Xi,data:Oi,options:Qi,Heading:fn,headingProps:{id:so,data:el.data},label:Ft.formatGroupLabel(el.data)}),el.options.map(function(ia){return Wh(ia,"".concat(to,"-").concat(ia.index))}))}else if(el.type==="option")return Wh(el,"".concat(el.index))});else if(Ki){var Yc=Ko({inputValue:Vi});if(Yc===null)return null;bd=Gi.createElement(jn,Yr,Yc)}else{var pv=Gh({inputValue:Vi});if(pv===null)return null;bd=Gi.createElement(Sr,Yr,pv)}var Ig={minMenuHeight:Uo,maxMenuHeight:Oo,menuPlacement:Ho,menuPosition:dl,menuShouldScrollIntoView:Rs},qh=Gi.createElement(ev,vo({},Yr,Ig),function(el){var Oi=el.ref,Qi=el.placerProps,to=Qi.placement,Xi=Qi.maxHeight;return Gi.createElement(Cn,vo({},Yr,Ig,{innerRef:Oi,innerProps:{onMouseDown:Ft.onMenuMouseDown,onMouseMove:Ft.onMenuMouseMove},isLoading:Ki,placement:to}),Gi.createElement(bw,{captureEnabled:Mi,onTopArrive:Iu,onBottomArrive:Df,lockEnabled:Ps},function(so){return Gi.createElement(Fn,vo({},Yr,{innerRef:function(ia){Ft.getMenuListRef(ia),so(ia)},isLoading:Ki,maxHeight:Xi,focusedOption:si}),bd)}))});return yl||dl==="fixed"?Gi.createElement(Hn,vo({},Yr,{appendTo:yl,controlElement:this.controlRef,menuPlacement:Ho,menuPosition:dl}),qh):qh}},{key:"renderFormField",value:function(){var Ft=this,Gt=this.props,tn=Gt.delimiter,fn=Gt.isDisabled,Cn=Gt.isMulti,Fn=Gt.name,Hn=this.state.selectValue;if(!(!Fn||fn))if(Cn)if(tn){var jn=Hn.map(function(Yr){return Ft.getOptionValue(Yr)}).join(tn);return Gi.createElement("input",{name:Fn,type:"hidden",value:jn})}else{var Sr=Hn.length>0?Hn.map(function(Yr,si){return Gi.createElement("input",{key:"i-".concat(si),name:Fn,type:"hidden",value:Ft.getOptionValue(Yr)})}):Gi.createElement("input",{name:Fn,type:"hidden"});return Gi.createElement("div",null,Sr)}else{var $r=Hn[0]?this.getOptionValue(Hn[0]):"";return Gi.createElement("input",{name:Fn,type:"hidden",value:$r})}}},{key:"renderLiveRegion",value:function(){var Ft=this.commonProps,Gt=this.state,tn=Gt.ariaSelection,fn=Gt.focusedOption,Cn=Gt.focusedValue,Fn=Gt.isFocused,Hn=Gt.selectValue,jn=this.getFocusableOptions();return Gi.createElement(lw,vo({},Ft,{ariaSelection:tn,focusedOption:fn,focusedValue:Cn,isFocused:Fn,selectValue:Hn,focusableOptions:jn}))}},{key:"render",value:function(){var Ft=this.getComponents(),Gt=Ft.Control,tn=Ft.IndicatorsContainer,fn=Ft.SelectContainer,Cn=Ft.ValueContainer,Fn=this.props,Hn=Fn.className,jn=Fn.id,Sr=Fn.isDisabled,$r=Fn.menuIsOpen,Yr=this.state.isFocused,si=this.commonProps=this.getCommonProps();return Gi.createElement(fn,vo({},si,{className:Hn,innerProps:{id:jn,onKeyDown:this.onKeyDown},isDisabled:Sr,isFocused:Yr}),this.renderLiveRegion(),Gi.createElement(Gt,vo({},si,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:Sr,isFocused:Yr,menuIsOpen:$r}),Gi.createElement(Cn,vo({},si,{isDisabled:Sr}),this.renderPlaceholderOrValue(),this.renderInput()),Gi.createElement(tn,vo({},si,{isDisabled:Sr}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(Ft,Gt){var tn=Gt.prevProps,fn=Gt.clearFocusValueOnUpdate,Cn=Gt.inputIsHiddenAfterUpdate,Fn=Ft.options,Hn=Ft.value,jn=Ft.menuIsOpen,Sr=Ft.inputValue,$r={};if(tn&&(Hn!==tn.value||Fn!==tn.options||jn!==tn.menuIsOpen||Sr!==tn.inputValue)){var Yr=n1(Hn),si=jn?Dw(Ft,Yr):[],ki=fn?Iw(Gt,Yr):null,Mi=Lw(Gt,si);$r={selectValue:Yr,focusedOption:Mi,focusedValue:ki,clearFocusValueOnUpdate:!1}}var Vi=Cn!=null&&Ft!==tn?{inputIsHidden:Cn,inputIsHiddenAfterUpdate:void 0}:{};return jl(jl(jl({},$r),Vi),{},{prevProps:Ft})}}]),jt}(xn);d_.defaultProps=Nw;var Pw={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Rw=function(Nt){var Pt,jt;return jt=Pt=function(Ft){Ep(tn,Ft);var Gt=kf(tn);function tn(){var fn;Sf(this,tn);for(var Cn=arguments.length,Fn=new Array(Cn),Hn=0;Hn<Cn;Hn++)Fn[Hn]=arguments[Hn];return fn=Gt.call.apply(Gt,[this].concat(Fn)),fn.select=void 0,fn.state={inputValue:fn.props.inputValue!==void 0?fn.props.inputValue:fn.props.defaultInputValue,menuIsOpen:fn.props.menuIsOpen!==void 0?fn.props.menuIsOpen:fn.props.defaultMenuIsOpen,value:fn.props.value!==void 0?fn.props.value:fn.props.defaultValue},fn.onChange=function(jn,Sr){fn.callProp("onChange",jn,Sr),fn.setState({value:jn})},fn.onInputChange=function(jn,Sr){var $r=fn.callProp("onInputChange",jn,Sr);fn.setState({inputValue:$r!==void 0?$r:jn})},fn.onMenuOpen=function(){fn.callProp("onMenuOpen"),fn.setState({menuIsOpen:!0})},fn.onMenuClose=function(){fn.callProp("onMenuClose"),fn.setState({menuIsOpen:!1})},fn}return xg(tn,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(fn){return this.props[fn]!==void 0?this.props[fn]:this.state[fn]}},{key:"callProp",value:function(fn){if(typeof this.props[fn]=="function"){for(var Cn,Fn=arguments.length,Hn=new Array(Fn>1?Fn-1:0),jn=1;jn<Fn;jn++)Hn[jn-1]=arguments[jn];return(Cn=this.props)[fn].apply(Cn,Hn)}}},{key:"render",value:function(){var fn=this,Cn=this.props;Cn.defaultInputValue,Cn.defaultMenuIsOpen,Cn.defaultValue;var Fn=Eh(Cn,["defaultInputValue","defaultMenuIsOpen","defaultValue"]);return Gi.createElement(Nt,vo({},Fn,{ref:function(Hn){fn.select=Hn},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),tn}(xn),Pt.defaultProps=Pw,jt},zw=Rw(d_),$w=zw;const wb=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var f_=Nt=>{const Pt=Nt.content?wb.find(jt=>jt.value===Nt.content):null;return gn("div",{className:"r6o-purposedropdown"},gn($w,{value:Pt,onChange:Nt.onChange,options:wb,isDisabled:!Nt.editable}))};const Bw=Nt=>gn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:Nt.width},gn("metadata",null,"IcoFont Icons"),gn("title",null,"simple-down"),gn("glyph",{glyphName:"simple-down",unicode:"\uEAB2",horizAdvX:"1000"}),gn("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),jw=Nt=>gn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:Nt.width},gn("metadata",null,"IcoFont Icons"),gn("title",null,"close"),gn("glyph",{glyphName:"close",unicode:"\uEEE4",horizAdvX:"1000"}),gn("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),Fw=Nt=>gn("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:Nt.width},gn("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var Uw=Nt=>{const[Pt,jt]=Ei(!1),[Ft,Gt]=Ei(!1),tn=Sr=>{jt(!0),Gt(!1)},fn=Sr=>{Nt.onDelete(Nt.body),Gt(!1)},Cn=Sr=>Nt.onUpdate(Nt.body,Ot(Dt({},Nt.body),{value:Sr.target.value})),Fn=Sr=>Nt.onUpdate(Nt.body,Ot(Dt({},Nt.body),{purpose:Sr.value})),Hn=Nt.body.modified||Nt.body.created,jn=Nt.body.creator&&gn("div",{className:"r6o-lastmodified"},gn("span",{className:"r6o-lastmodified-by"},Nt.body.creator.name||Nt.body.creator.id),Nt.body.created&&gn("span",{className:"r6o-lastmodified-at"},gn(Lp,{datetime:Nt.env.toClientTime(Hn),locale:al.locale()})));return Nt.readOnly?gn("div",{className:"r6o-widget comment"},gn("div",{className:"r6o-readonly-comment"},Nt.body.value),jn):gn("div",{className:Pt?"r6o-widget comment editable":"r6o-widget comment"},gn(hp,{editable:Pt,content:Nt.body.value,onChange:Cn,onSaveAndClose:Nt.onSaveAndClose}),!Pt&&jn,Nt.purposeSelector&&gn(f_,{editable:Pt,content:Nt.body.purpose,onChange:Fn,onSaveAndClose:Nt.onSaveAndClose}),gn("div",{className:Ft?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>Gt(!Ft)},gn(Bw,{width:12})),Ft&&gn(fg,{onEdit:tn,onDelete:fn,onClickOutside:()=>Gt(!1)}))};const Hw=wb.map(Nt=>Nt.value),p_=(Nt,Pt)=>{const jt=Pt?Hw.indexOf(Nt.purpose)>-1:Nt.purpose=="commenting"||Nt.purpose=="replying";return Nt.type==="TextualBody"&&(!Nt.hasOwnProperty("purpose")||jt)},g_=(Nt,Pt)=>{var jt,Ft;if(Pt.editable===!0)return!1;if(Pt.editable===!1)return!0;if(Pt.editable==="MINE_ONLY"){const Gt=(jt=Nt.creator)==null?void 0:jt.id;return((Ft=Pt.env.user)==null?void 0:Ft.id)!==Gt}return Pt.readOnly},Vw=(Nt,Pt)=>Nt||{type:"TextualBody",value:"",purpose:Pt?"replying":"commenting",draft:!0},m_=Nt=>{const Pt=Nt.annotation?Nt.annotation.bodies.filter(fn=>p_(fn,Nt.purposeSelector)):[],jt=Vw(Pt.find(fn=>fn.draft==!0),Pt.length>1),Ft=Pt.filter(fn=>fn!=jt),Gt=fn=>{const Cn=jt.value,Fn=fn.target.value;Cn.length===0&&Fn.length>0?Nt.onAppendBody(Ot(Dt({},jt),{value:Fn})):Cn.length>0&&Fn.length===0?Nt.onRemoveBody(jt):Nt.onUpdateBody(jt,Ot(Dt({},jt),{value:Fn}))},tn=fn=>Nt.onUpdateBody(jt,Ot(Dt({},jt),{purpose:fn.value}));return gn(yr,null,Ft.map((fn,Cn)=>gn(Uw,{key:Cn,env:Nt.env,purposeSelector:Nt.purposeSelector,readOnly:g_(fn,Nt),body:fn,onUpdate:Nt.onUpdateBody,onDelete:Nt.onRemoveBody,onSaveAndClose:Nt.onSaveAndClose})),!Nt.readOnly&&Nt.annotation&&gn("div",{className:"r6o-widget comment editable"},gn(hp,{focus:Nt.focus,content:jt.value,editable:!0,placeholder:Ft.length>0?al.t("Add a reply..."):al.t("Add a comment..."),onChange:Gt,onSaveAndClose:()=>Nt.onSaveAndClose()}),Nt.purposeSelector&&jt.value.length>0&&gn(f_,{editable:!0,content:jt.purpose,onChange:tn,onSaveAndClose:()=>Nt.onSaveAndClose()})))};m_.disableDelete=(Nt,Pt)=>Nt.bodies.filter(jt=>p_(jt,Pt.purposeSelector)).some(jt=>g_(jt,Pt));var y_=m_;function v_(Nt,Pt){Nt.prototype=Object.create(Pt.prototype),Nt.prototype.constructor=Nt,Eg(Nt,Pt)}function Yw(Nt,Pt){return Nt.classList?!!Pt&&Nt.classList.contains(Pt):(" "+(Nt.className.baseVal||Nt.className)+" ").indexOf(" "+Pt+" ")!==-1}function Gw(Nt,Pt){Nt.classList?Nt.classList.add(Pt):Yw(Nt,Pt)||(typeof Nt.className=="string"?Nt.className=Nt.className+" "+Pt:Nt.setAttribute("class",(Nt.className&&Nt.className.baseVal||"")+" "+Pt))}function b_(Nt,Pt){return Nt.replace(new RegExp("(^|\\s)"+Pt+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function Ww(Nt,Pt){Nt.classList?Nt.classList.remove(Pt):typeof Nt.className=="string"?Nt.className=b_(Nt.className,Pt):Nt.setAttribute("class",b_(Nt.className&&Nt.className.baseVal||"",Pt))}var __={disabled:!1},w_=Gi.createContext(null),c1="unmounted",Cg="exited",Ag="entering",Pm="entered",xb="exiting",Nf=function(Nt){v_(Pt,Nt);function Pt(Ft,Gt){var tn;tn=Nt.call(this,Ft,Gt)||this;var fn=Gt,Cn=fn&&!fn.isMounting?Ft.enter:Ft.appear,Fn;return tn.appearStatus=null,Ft.in?Cn?(Fn=Cg,tn.appearStatus=Ag):Fn=Pm:Ft.unmountOnExit||Ft.mountOnEnter?Fn=c1:Fn=Cg,tn.state={status:Fn},tn.nextCallback=null,tn}Pt.getDerivedStateFromProps=function(Ft,Gt){var tn=Ft.in;return tn&&Gt.status===c1?{status:Cg}:null};var jt=Pt.prototype;return jt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},jt.componentDidUpdate=function(Ft){var Gt=null;if(Ft!==this.props){var tn=this.state.status;this.props.in?tn!==Ag&&tn!==Pm&&(Gt=Ag):(tn===Ag||tn===Pm)&&(Gt=xb)}this.updateStatus(!1,Gt)},jt.componentWillUnmount=function(){this.cancelNextCallback()},jt.getTimeouts=function(){var Ft=this.props.timeout,Gt,tn,fn;return Gt=tn=fn=Ft,Ft!=null&&typeof Ft!="number"&&(Gt=Ft.exit,tn=Ft.enter,fn=Ft.appear!==void 0?Ft.appear:tn),{exit:Gt,enter:tn,appear:fn}},jt.updateStatus=function(Ft,Gt){Ft===void 0&&(Ft=!1),Gt!==null?(this.cancelNextCallback(),Gt===Ag?this.performEnter(Ft):this.performExit()):this.props.unmountOnExit&&this.state.status===Cg&&this.setState({status:c1})},jt.performEnter=function(Ft){var Gt=this,tn=this.props.enter,fn=this.context?this.context.isMounting:Ft,Cn=this.props.nodeRef?[fn]:[Gi.findDOMNode(this),fn],Fn=Cn[0],Hn=Cn[1],jn=this.getTimeouts(),Sr=fn?jn.appear:jn.enter;if(!Ft&&!tn||__.disabled){this.safeSetState({status:Pm},function(){Gt.props.onEntered(Fn)});return}this.props.onEnter(Fn,Hn),this.safeSetState({status:Ag},function(){Gt.props.onEntering(Fn,Hn),Gt.onTransitionEnd(Sr,function(){Gt.safeSetState({status:Pm},function(){Gt.props.onEntered(Fn,Hn)})})})},jt.performExit=function(){var Ft=this,Gt=this.props.exit,tn=this.getTimeouts(),fn=this.props.nodeRef?void 0:Gi.findDOMNode(this);if(!Gt||__.disabled){this.safeSetState({status:Cg},function(){Ft.props.onExited(fn)});return}this.props.onExit(fn),this.safeSetState({status:xb},function(){Ft.props.onExiting(fn),Ft.onTransitionEnd(tn.exit,function(){Ft.safeSetState({status:Cg},function(){Ft.props.onExited(fn)})})})},jt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},jt.safeSetState=function(Ft,Gt){Gt=this.setNextCallback(Gt),this.setState(Ft,Gt)},jt.setNextCallback=function(Ft){var Gt=this,tn=!0;return this.nextCallback=function(fn){tn&&(tn=!1,Gt.nextCallback=null,Ft(fn))},this.nextCallback.cancel=function(){tn=!1},this.nextCallback},jt.onTransitionEnd=function(Ft,Gt){this.setNextCallback(Gt);var tn=this.props.nodeRef?this.props.nodeRef.current:Gi.findDOMNode(this),fn=Ft==null&&!this.props.addEndListener;if(!tn||fn){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var Cn=this.props.nodeRef?[this.nextCallback]:[tn,this.nextCallback],Fn=Cn[0],Hn=Cn[1];this.props.addEndListener(Fn,Hn)}Ft!=null&&setTimeout(this.nextCallback,Ft)},jt.render=function(){var Ft=this.state.status;if(Ft===c1)return null;var Gt=this.props,tn=Gt.children;Gt.in,Gt.mountOnEnter,Gt.unmountOnExit,Gt.appear,Gt.enter,Gt.exit,Gt.timeout,Gt.addEndListener,Gt.onEnter,Gt.onEntering,Gt.onEntered,Gt.onExit,Gt.onExiting,Gt.onExited,Gt.nodeRef;var fn=Em(Gt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Gi.createElement(w_.Provider,{value:null},typeof tn=="function"?tn(Ft,fn):Gi.cloneElement(Gi.Children.only(tn),fn))},Pt}(Gi.Component);Nf.contextType=w_,Nf.propTypes={};function Rm(){}Nf.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Rm,onEntering:Rm,onEntered:Rm,onExit:Rm,onExiting:Rm,onExited:Rm},Nf.UNMOUNTED=c1,Nf.EXITED=Cg,Nf.ENTERING=Ag,Nf.ENTERED=Pm,Nf.EXITING=xb;var qw=Nf,Qw=function(Nt,Pt){return Nt&&Pt&&Pt.split(" ").forEach(function(jt){return Gw(Nt,jt)})},Eb=function(Nt,Pt){return Nt&&Pt&&Pt.split(" ").forEach(function(jt){return Ww(Nt,jt)})},Tb=function(Nt){v_(Pt,Nt);function Pt(){for(var Ft,Gt=arguments.length,tn=new Array(Gt),fn=0;fn<Gt;fn++)tn[fn]=arguments[fn];return Ft=Nt.call.apply(Nt,[this].concat(tn))||this,Ft.appliedClasses={appear:{},enter:{},exit:{}},Ft.onEnter=function(Cn,Fn){var Hn=Ft.resolveArguments(Cn,Fn),jn=Hn[0],Sr=Hn[1];Ft.removeClasses(jn,"exit"),Ft.addClass(jn,Sr?"appear":"enter","base"),Ft.props.onEnter&&Ft.props.onEnter(Cn,Fn)},Ft.onEntering=function(Cn,Fn){var Hn=Ft.resolveArguments(Cn,Fn),jn=Hn[0],Sr=Hn[1],$r=Sr?"appear":"enter";Ft.addClass(jn,$r,"active"),Ft.props.onEntering&&Ft.props.onEntering(Cn,Fn)},Ft.onEntered=function(Cn,Fn){var Hn=Ft.resolveArguments(Cn,Fn),jn=Hn[0],Sr=Hn[1],$r=Sr?"appear":"enter";Ft.removeClasses(jn,$r),Ft.addClass(jn,$r,"done"),Ft.props.onEntered&&Ft.props.onEntered(Cn,Fn)},Ft.onExit=function(Cn){var Fn=Ft.resolveArguments(Cn),Hn=Fn[0];Ft.removeClasses(Hn,"appear"),Ft.removeClasses(Hn,"enter"),Ft.addClass(Hn,"exit","base"),Ft.props.onExit&&Ft.props.onExit(Cn)},Ft.onExiting=function(Cn){var Fn=Ft.resolveArguments(Cn),Hn=Fn[0];Ft.addClass(Hn,"exit","active"),Ft.props.onExiting&&Ft.props.onExiting(Cn)},Ft.onExited=function(Cn){var Fn=Ft.resolveArguments(Cn),Hn=Fn[0];Ft.removeClasses(Hn,"exit"),Ft.addClass(Hn,"exit","done"),Ft.props.onExited&&Ft.props.onExited(Cn)},Ft.resolveArguments=function(Cn,Fn){return Ft.props.nodeRef?[Ft.props.nodeRef.current,Cn]:[Cn,Fn]},Ft.getClassNames=function(Cn){var Fn=Ft.props.classNames,Hn=typeof Fn=="string",jn=Hn&&Fn?Fn+"-":"",Sr=Hn?""+jn+Cn:Fn[Cn],$r=Hn?Sr+"-active":Fn[Cn+"Active"],Yr=Hn?Sr+"-done":Fn[Cn+"Done"];return{baseClassName:Sr,activeClassName:$r,doneClassName:Yr}},Ft}var jt=Pt.prototype;return jt.addClass=function(Ft,Gt,tn){var fn=this.getClassNames(Gt)[tn+"ClassName"],Cn=this.getClassNames("enter"),Fn=Cn.doneClassName;Gt==="appear"&&tn==="done"&&Fn&&(fn+=" "+Fn),tn==="active"&&Ft&&Ft.scrollTop,fn&&(this.appliedClasses[Gt][tn]=fn,Qw(Ft,fn))},jt.removeClasses=function(Ft,Gt){var tn=this.appliedClasses[Gt],fn=tn.base,Cn=tn.active,Fn=tn.done;this.appliedClasses[Gt]={},fn&&Eb(Ft,fn),Cn&&Eb(Ft,Cn),Fn&&Eb(Ft,Fn)},jt.render=function(){var Ft=this.props;Ft.classNames;var Gt=Em(Ft,["classNames"]);return Gi.createElement(qw,vo({},Gt,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},Pt}(Gi.Component);Tb.defaultProps={classNames:""},Tb.propTypes={};var Xw=Tb;const Zw=(Nt,Pt)=>Pt.filter(jt=>(jt.label?jt.label:jt).toLowerCase().startsWith(Nt.toLowerCase())),Kw=(Nt,Pt)=>Pt(Nt);var Jw=Nt=>{const Pt=Ln(),[jt,Ft]=Ei(Nt.initialValue||""),[Gt,tn]=Ei([]),[fn,Cn]=Ei(null);Ai(()=>{Nt.focus&&Pt.current.querySelector("input").focus({preventScroll:!0})},[]),Ai(()=>{Nt.onChange&&Nt.onChange(jt)},[jt]);const Fn=jn=>{if(typeof Nt.vocabulary=="function"){const Sr=Kw(jn,Nt.vocabulary);Sr.then?Sr.then(tn):tn(Sr)}else{const Sr=Zw(jn,Nt.vocabulary);tn(Sr)}},Hn=()=>{if(fn!==null)Nt.onSubmit(Gt[fn]);else{const jn=jt.trim();if(jn){const Sr=Array.isArray(Nt.vocabulary)?Nt.vocabulary.find($r=>($r.label||$r).toLowerCase()===jn.toLowerCase()):null;Sr?Nt.onSubmit(Sr):Nt.onSubmit(jn)}}Ft(""),tn([]),Cn(null)};return gn("div",{ref:Pt,className:"r6o-autocomplete"},gn("div",null,gn("input",{onKeyDown:jn=>{if(jn.which===13)Hn();else if(jn.which===27)Nt.onCancel&&Nt.onCancel();else if(Gt.length>0){if(jn.which===38)if(fn===null)Cn(0);else{const Sr=Math.max(0,fn-1);Cn(Sr)}else if(jn.which===40)if(fn===null)Cn(0);else{const Sr=Math.min(Gt.length-1,fn+1);Cn(Sr)}}else jn.which===40&&Array.isArray(Nt.vocabulary)&&tn(Nt.vocabulary)},onChange:jn=>{const{value:Sr}=jn.target;Ft(Sr),Cn(null),Sr?Fn(Sr):tn([])},value:jt,placeholder:Nt.placeholder})),gn("ul",null,Gt.length>0&&Gt.map((jn,Sr)=>gn("li",{key:`${jn.label?jn.label:jn}${Sr}`,onClick:Hn,onMouseEnter:()=>Cn(Sr),style:fn===Sr?{backgroundColor:"#bde4ff"}:{}},jn.label?jn.label:jn))))};const _2=Nt=>Nt||{type:"TextualBody",value:"",purpose:"tagging",draft:!0};var x_=Nt=>{const Pt=Nt.annotation?Nt.annotation.bodies.filter(jn=>jn.type==="TextualBody"&&jn.purpose==="tagging"):[],jt=_2(Pt.slice().reverse().find(jn=>jn.draft)),Ft=Pt.filter(jn=>jn!=jt),[Gt,tn]=Ei(!1),fn=jn=>Sr=>{tn(Gt===jn?!1:jn)},Cn=jn=>{const Sr=jt.value.trim(),$r=jn.trim();Sr.length===0&&$r.length>0?Nt.onAppendBody(Ot(Dt({},jt),{value:$r})):Sr.length>0&&$r.length===0?Nt.onRemoveBody(jt):Nt.onUpdateBody(jt,Ot(Dt({},jt),{value:$r}))},Fn=jn=>Sr=>{Sr.stopPropagation(),Nt.onRemoveBody(jn)},Hn=jn=>{const Sr=jn.label?Ot(Dt({},jt),{value:jn.label,source:jn.uri}):Ot(Dt({},jt),{value:jn}),$r=zt(Sr,["draft"]);jt.value.trim().length===0?Nt.onAppendBody($r):Nt.onUpdateBody(jt,$r)};return gn("div",{className:"r6o-widget r6o-tag"},Ft.length>0&&gn("ul",{className:"r6o-taglist"},Ft.map(jn=>gn("li",{key:jn.value,onClick:fn(jn.value)},gn("span",{className:"r6o-label"},jn.value),!Nt.readOnly&&gn(Xw,{in:Gt===jn.value,timeout:200,classNames:"r6o-delete"},gn("span",{className:"r6o-delete-wrapper",onClick:Fn(jn)},gn("span",{className:"r6o-delete"},gn(jw,{width:12}))))))),!Nt.readOnly&&gn(Jw,{focus:Nt.focus,placeholder:al.t("Add tag..."),vocabulary:Nt.vocabulary||[],onChange:Cn,onSubmit:Hn}))};class E_ extends xn{constructor(Pt){super(Pt),this.element=Gi.createRef()}renderWidget(Pt){const jt=this.props.widget(Ot(Dt({annotation:Pt.annotation,readOnly:Pt.readOnly},Pt.config),{onAppendBody:(Ft,Gt)=>Pt.onAppendBody(Ft,Gt),onUpdateBody:(Ft,Gt,tn)=>Pt.onUpdateBody(Ft,Gt,tn),onUpsertBody:(Ft,Gt,tn)=>Pt.onUpsertBody(Ft,Gt,tn),onRemoveBody:(Ft,Gt)=>Pt.onRemoveBody(Ft,Gt),onBatchModify:(Ft,Gt)=>Pt.onBatchModify(Ft,Gt),onSetProperty:(Ft,Gt)=>Pt.onSetProperty(Ft,Gt),onSaveAndClose:()=>Pt.onSaveAndClose()}));for(;this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(jt)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(Pt){this.element.current&&this.props.annotation!==Pt.annotation&&this.renderWidget(Pt)}render(){return gn("div",{ref:this.element,className:"widget"})}}window.React=Gi,window.ReactDOM=Gi;const M2={COMMENT:y_,TAG:x_},k2=[gn(y_,null),gn(x_,null)],C2=Nt=>{const Pt=Ft=>{var Gt;return typeof Ft=="function"&&!!((Gt=Ft.prototype)!=null&&Gt.isReactComponent)},jt=Ft=>typeof Ft=="function"&&(String(Ft).match(/return .+\(['|"].+['|"],\s*\{/g)||String(Ft).match(/return .+preact_compat/)||String(Ft).match(/return .+\.createElement/g));return Pt(Nt)||jt(Nt)},A2=Nt=>{const Pt=(jt,Ft,Gt)=>{if(typeof jt=="string"||jt instanceof String)return Gi.createElement(M2[jt],Ft);if((Gt==null?void 0:Gt.toLowerCase())==="react")return Gi.createElement(jt,Ft);if((Gt==null?void 0:Gt.toLowerCase())==="plainjs")return gn(E_,{widget:jt,config:Ft});if(C2(jt))return Gi.createElement(jt,Ft);if(typeof jt=="function"||jt instanceof Function)return gn(E_,{widget:jt,config:Ft});throw`${jt} is not a valid plugin`};if(Nt.widget){const jt=Nt,{widget:Ft,force:Gt}=jt,tn=zt(jt,["widget","force"]);return Pt(Ft,tn,Gt)}else return Pt(Nt)},T_=14;var M_=(Nt,Pt,jt,Ft)=>{const Gt=Nt.getBoundingClientRect();Pt.className="r6o-editor r6o-arrow-top r6o-arrow-left";const{left:tn,top:fn,right:Cn,bottom:Fn}=jt.getBoundingClientRect();if(Pt.style.top=`${Fn-Gt.top+T_}px`,Pt.style.left=`${tn-Gt.left}px`,Ft){const Hn=Pt.children[1].getBoundingClientRect();if(Hn.right>window.innerWidth&&(Pt.classList.remove("r6o-arrow-left"),Pt.classList.add("r6o-arrow-right"),Pt.style.left=`${Cn-Hn.width-Gt.left}px`),Hn.bottom>window.innerHeight){Pt.classList.remove("r6o-arrow-top"),Pt.classList.add("r6o-arrow-bottom");const Sr=Pt.children[1].getBoundingClientRect().height;Pt.style.top=`${fn-Gt.top-Sr-T_}px`}const jn=Pt.children[1].getBoundingClientRect();if(jn.top<0){Pt.classList.add("pushed","down"),Pt.style.top=`${-Gt.top}px`;const Sr=Fn-Gt.top;jn.height-Gt.top>Sr&&Pt.classList.remove("r6o-arrow-bottom")}jn.left<0&&(Pt.classList.add("pushed","right"),Pt.style.left=`${-Gt.left}px`),requestAnimationFrame(()=>Pt.style.opacity=1)}};const S_=Nt=>{const{top:Pt,left:jt,width:Ft,height:Gt}=Nt.getBoundingClientRect();return`${Pt}, ${jt}, ${Ft}, ${Gt}`};class N2 extends xn{constructor(Pt){super(Pt),$t(this,"initResizeObserver",()=>{const jt=this.props.autoPosition===void 0?!0:this.props.autoPosition;if(window!=null&&window.ResizeObserver){const Ft=new ResizeObserver(()=>{this.state.dragged||M_(this.props.wrapperEl,this.element.current,this.props.selectedElement,jt)});return Ft.observe(this.props.wrapperEl),()=>Ft.disconnect()}else this.state.dragged||M_(this.props.wrapperEl,this.element.current,this.props.selectedElement,jt)}),$t(this,"creationMeta",jt=>{const Ft={},{user:Gt}=this.props.env;return Gt&&(Ft.creator={},Gt.id&&(Ft.creator.id=Gt.id),Gt.displayName&&(Ft.creator.name=Gt.displayName),Ft[jt.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),Ft}),$t(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),$t(this,"updateCurrentAnnotation",(jt,Ft)=>this.setState({currentAnnotation:this.state.currentAnnotation.clone(jt)},()=>{Ft&&this.onOk()})),$t(this,"onAppendBody",(jt,Ft)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,Dt(Dt({},jt),this.creationMeta(jt))]},Ft)),$t(this,"onUpdateBody",(jt,Ft,Gt)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(tn=>tn===jt?Dt(Dt({},Ft),this.creationMeta(Ft)):tn)},Gt)),$t(this,"onRemoveBody",(jt,Ft)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(Gt=>Gt!==jt)},Ft)),$t(this,"onUpsertBody",(jt,Ft,Gt)=>{if(jt==null&&Ft!=null)this.onAppendBody(Ft,Gt);else if(jt!=null&&Ft!=null)this.onUpdateBody(jt,Ft,Gt);else if(jt!=null&&Ft==null){const tn=this.state.currentAnnotation.bodies.find(fn=>fn.purpose===jt.purpose);tn?this.onUpdateBody(tn,jt,Gt):this.onAppendBody(jt,Gt)}}),$t(this,"onBatchModify",(jt,Ft)=>{const Gt=jt.filter(Hn=>Hn.action==="upsert"&&Hn.body).map(Hn=>({previous:this.state.currentAnnotation.bodies.find(jn=>jn.purpose===Hn.body.purpose),updated:Dt(Dt({},Hn.body),this.creationMeta(Hn.body))})),tn=jt.filter(Hn=>Hn.action==="remove").map(Hn=>Hn.body),fn=[...jt.filter(Hn=>Hn.action==="append"||Hn.action==="upsert"&&Hn.updated&&!Hn.previous).map(Hn=>Dt(Dt({},Hn.body),this.creationMeta(Hn.body))),...Gt.filter(Hn=>!Hn.previous).map(Hn=>Hn.updated)],Cn=[...jt.filter(Hn=>Hn.action==="update"||Hn.action==="upsert"&&Hn.updated&&Hn.previous).map(Hn=>({previous:Hn.previous,updated:Dt(Dt({},Hn.updated),this.creationMeta(Hn.updated))})),...Gt.filter(Hn=>Hn.previous)],Fn=[...this.state.currentAnnotation.bodies.filter(Hn=>!tn.includes(Hn)).map(Hn=>{const jn=Cn.find(Sr=>Sr.previous===Hn);return jn?jn.updated:Hn}),...fn];this.updateCurrentAnnotation({body:Fn},Ft)}),$t(this,"onSetProperty",(jt,Ft)=>{if(["@context","id","type","body","target"].includes(jt))throw new Exception(`Cannot set ${jt} - not allowed`);if(Ft)this.updateCurrentAnnotation({[jt]:Ft});else{const Gt=this.currentAnnotation.clone();delete Gt[jt],this.setState({currentAnnotation:Gt})}}),$t(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),$t(this,"onOk",()=>{const jt=Gt=>Gt.clone({body:Gt.bodies.map(tn=>{var fn=tn,Cn=zt(fn,["draft"]);return Cn})}),{currentAnnotation:Ft}=this.state;Ft.bodies.length===0&&!this.props.allowEmpty?Ft.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation):Ft.isSelection?this.props.onAnnotationCreated(jt(Ft).toAnnotation()):this.props.onAnnotationUpdated(jt(Ft),this.props.annotation)}),$t(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=Gi.createRef(),this.state={currentAnnotation:Pt.annotation,dragged:!1,selectionBounds:S_(Pt.selectedElement)}}componentWillReceiveProps(Pt){var jt;const{selectionBounds:Ft}=this.state,Gt=S_(Pt.selectedElement);(jt=this.props.annotation)!=null&&jt.isEqual(Pt.annotation)?this.setState({selectionBounds:Gt}):this.setState({currentAnnotation:Pt.annotation,selectionBounds:Gt}),this.props.modifiedTarget!=Pt.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),Ft!=Gt&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const{currentAnnotation:Pt}=this.state,jt=this.props.widgets?this.props.widgets.map(A2):k2,Ft=tn=>tn.type.disableDelete?tn.type.disableDelete(Pt,Ot(Dt({},tn.props),{readOnly:this.props.readOnly,env:this.props.env})):!1,Gt=Pt&&(Pt.bodies.length>0||this.props.allowEmpty)&&!this.props.readOnly&&!Pt.isSelection&&!jt.some(Ft);return gn(Np,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},gn("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},gn("div",{className:"r6o-arrow"}),gn("div",{className:"r6o-editor-inner"},jt.map((tn,fn)=>Gi.cloneElement(tn,{key:`${fn}`,focus:fn===0,annotation:Pt,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onSaveAndClose:this.onOk})),this.props.readOnly?gn("div",{className:"r6o-footer"},gn("button",{className:"r6o-btn",onClick:this.onCancel},al.t("Close"))):gn("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},Gt&&gn("button",{className:"r6o-btn left delete-annotation",title:al.t("Delete"),onClick:this.onDelete},gn(Fw,{width:12})),gn("button",{className:"r6o-btn outline",onClick:this.onCancel},al.t("Cancel")),gn("button",{className:"r6o-btn ",onClick:this.onOk},al.t("Ok"))))))}}var av,I2=new Uint8Array(16);function P2(){if(!av&&(av=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!av))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return av(I2)}var R2=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function z2(Nt){return typeof Nt=="string"&&R2.test(Nt)}for(var Vc=[],Mb=0;Mb<256;++Mb)Vc.push((Mb+256).toString(16).substr(1));function $2(Nt){var Pt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,jt=(Vc[Nt[Pt+0]]+Vc[Nt[Pt+1]]+Vc[Nt[Pt+2]]+Vc[Nt[Pt+3]]+"-"+Vc[Nt[Pt+4]]+Vc[Nt[Pt+5]]+"-"+Vc[Nt[Pt+6]]+Vc[Nt[Pt+7]]+"-"+Vc[Nt[Pt+8]]+Vc[Nt[Pt+9]]+"-"+Vc[Nt[Pt+10]]+Vc[Nt[Pt+11]]+Vc[Nt[Pt+12]]+Vc[Nt[Pt+13]]+Vc[Nt[Pt+14]]+Vc[Nt[Pt+15]]).toLowerCase();if(!z2(jt))throw TypeError("Stringified UUID is invalid");return jt}function k_(Nt,Pt,jt){Nt=Nt||{};var Ft=Nt.random||(Nt.rng||P2)();if(Ft[6]=Ft[6]&15|64,Ft[8]=Ft[8]&63|128,Pt){jt=jt||0;for(var Gt=0;Gt<16;++Gt)Pt[jt+Gt]=Ft[Gt];return Pt}return $2(Ft)}var B2=function Nt(Pt,jt){if(Pt===jt)return!0;if(Pt&&jt&&typeof Pt=="object"&&typeof jt=="object"){if(Pt.constructor!==jt.constructor)return!1;var Ft,Gt,tn;if(Array.isArray(Pt)){if(Ft=Pt.length,Ft!=jt.length)return!1;for(Gt=Ft;Gt--!=0;)if(!Nt(Pt[Gt],jt[Gt]))return!1;return!0}if(Pt.constructor===RegExp)return Pt.source===jt.source&&Pt.flags===jt.flags;if(Pt.valueOf!==Object.prototype.valueOf)return Pt.valueOf()===jt.valueOf();if(Pt.toString!==Object.prototype.toString)return Pt.toString()===jt.toString();if(tn=Object.keys(Pt),Ft=tn.length,Ft!==Object.keys(jt).length)return!1;for(Gt=Ft;Gt--!=0;)if(!Object.prototype.hasOwnProperty.call(jt,tn[Gt]))return!1;for(Gt=Ft;Gt--!=0;){var fn=tn[Gt];if(!Nt(Pt[fn],jt[fn]))return!1}return!0}return Pt!==Pt&&jt!==jt},C_=B2;const Sb=class{constructor(Nt,Pt){$t(this,"clone",(jt,Ft)=>new Sb(Dt(Dt({},this.underlying),jt),Dt(Dt({},this.opts),Ft))),$t(this,"selector",jt=>{const{target:Ft}=this.underlying;if(Ft.selector)return(Array.isArray(Ft.selector)?Ft.selector:[Ft.selector]).find(Gt=>Gt.type===jt)}),this.underlying=Nt,this.opts=Pt}isEqual(Nt){return(Nt==null?void 0:Nt.type)!=="Annotation"?!1:this.underlying===Nt.underlying?!0:!this.underlying.id||!Nt.underlying.id?!1:C_(this.underlying,Nt.underlying)}get readOnly(){var Nt;return(Nt=this.opts)==null?void 0:Nt.readOnly}get id(){return this.underlying.id}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(Nt){this.underlying.body=Nt}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){return this.selector("TextQuoteSelector").exact}get start(){return this.selector("TextPositionSelector").start}get end(){return this.selector("TextPositionSelector").end}};let Ng=Sb;$t(Ng,"create",Nt=>{const Pt={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${k_()}`,body:[]};return new Sb(Dt(Dt({},Pt),Nt))});class u1{constructor(Pt,jt){$t(this,"clone",Ft=>{const Gt=new u1;return Gt.underlying=JSON.parse(JSON.stringify(this.underlying)),Ft&&(Gt.underlying=Dt(Dt({},Gt.underlying),Ft)),Gt}),$t(this,"selector",Ft=>{const{target:Gt}=this.underlying;if(Gt.selector)return(Array.isArray(Gt.selector)?Gt.selector:[Gt.selector]).find(tn=>tn.type===Ft)}),$t(this,"toAnnotation",()=>{const Ft=Object.assign({},this.underlying,{"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:`#${k_()}`});return new Ng(Ft)}),this.underlying={type:"Selection",body:jt||[],target:Pt}}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(Pt){return Pt?C_(this.underlying,Pt.underlying):!1}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){return this.selector("TextQuoteSelector").exact}get isSelection(){return!0}}let kb=0;var j2=()=>({setServerTime:Nt=>{const Pt=Date.now();kb=Nt-Pt},getCurrentTimeAdjusted:()=>new Date(Date.now()+kb).toISOString(),toClientTime:Nt=>Date.parse(Nt)-kb});const F2=(Nt,Pt)=>{if(Nt){const jt=Nt==="auto"?window.navigator.userLanguage||window.navigator.language:Nt;try{al.init(jt.split("-")[0].toLowerCase(),Pt)}catch{console.warn(`Unsupported locale '${jt}'. Falling back to default en.`)}}else al.init(null,Pt)},gs="http://www.w3.org/2000/svg",Cb=Nt=>{const Pt=Nt.getAttribute("class");return Pt?new Set(Pt.split(" ")):new Set},Cp=(Nt,Pt)=>{const jt=Cb(Nt);jt.add(Pt),Nt.setAttribute("class",Array.from(jt).join(" "))},U2=(Nt,Pt)=>{const jt=Cb(Nt);jt.delete(Pt),jt.size===0?Nt.removeAttribute("class"):Nt.setAttribute("class",Array.from(jt).join(" "))},Ab=(Nt,Pt)=>Cb(Nt).has(Pt),Dg=(Nt,Pt)=>{const jt=Nt.selector("FragmentSelector");if(jt!=null&&jt.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){const{value:Ft}=jt,Gt=Ft.includes(":")?Ft.substring(Ft.indexOf("=")+1,Ft.indexOf(":")):"pixel",tn=Ft.includes(":")?Ft.substring(Ft.indexOf(":")+1):Ft.substring(Ft.indexOf("=")+1);let[fn,Cn,Fn,Hn]=tn.split(",").map(parseFloat);return Gt.toLowerCase()==="percent"&&(fn=fn*Pt.naturalWidth/100,Cn=Cn*Pt.naturalHeight/100,Fn=Fn*Pt.naturalWidth/100,Hn=Hn*Pt.naturalHeight/100),{x:fn,y:Cn,w:Fn,h:Hn}}},H2=(Nt,Pt,jt,Ft,Gt)=>({source:Gt==null?void 0:Gt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${Nt},${Pt},${jt},${Ft}`}}),V2=(Nt,Pt,jt,Ft,Gt)=>{const tn=Nt/Gt.naturalWidth*100,fn=Pt/Gt.naturalHeight*100,Cn=jt/Gt.naturalWidth*100,Fn=Ft/Gt.naturalHeight*100;return{source:Gt.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${tn},${fn},${Cn},${Fn}`}}},h1=(Nt,Pt,jt,Ft,Gt,tn)=>(tn==null?void 0:tn.toLowerCase())==="percent"?V2(Nt,Pt,jt,Ft,Gt):H2(Nt,Pt,jt,Ft,Gt),sv=(Nt,Pt,jt,Ft,Gt)=>{Nt.setAttribute("x",Pt),Nt.setAttribute("y",jt),Nt.setAttribute("width",Ft),Nt.setAttribute("height",Gt)},lv=(Nt,Pt,jt)=>{Nt.setAttribute("cx",Pt),Nt.setAttribute("cy",jt),Nt.setAttribute("r",7)},A_=(Nt,Pt,jt,Ft,Gt)=>{const tn=document.createElementNS(gs,"path");tn.setAttribute("fill-rule","evenodd");const{naturalWidth:fn,naturalHeight:Cn}=Nt;return tn.setAttribute("d",`M0 0 h${fn} v${Cn} h-${fn} z M${Pt} ${jt} h${Ft} v${Gt} h-${Ft} z`),tn},Nb=(Nt,Pt,jt,Ft,Gt,tn)=>{const{naturalWidth:fn,naturalHeight:Cn}=Pt;Nt.setAttribute("d",`M0 0 h${fn} v${Cn} h-${fn} z M${jt} ${Ft} h${Gt} v${tn} h-${Gt} z`)},Db=(Nt,Pt,jt,Ft)=>{const{x:Gt,y:tn,w:fn,h:Cn}=Nt.type==="Annotation"||Nt.type==="Selection"?Dg(Nt,Pt):{x:Nt,y:Pt,w:jt,h:Ft},Fn=document.createElementNS(gs,"g");if(fn===0&&Cn===0){Cp(Fn,"a9s-point"),Cp(Fn,"a9s-non-scaling"),Fn.setAttribute("transform-origin",`${Gt} ${tn}`);const Hn=document.createElementNS(gs,"circle"),jn=document.createElementNS(gs,"circle");jn.setAttribute("class","a9s-inner"),lv(jn,Gt,tn),Hn.setAttribute("class","a9s-outer"),lv(Hn,Gt,tn),Fn.appendChild(Hn),Fn.appendChild(jn)}else{const Hn=document.createElementNS(gs,"rect"),jn=document.createElementNS(gs,"rect");jn.setAttribute("class","a9s-inner"),sv(jn,Gt,tn,fn,Cn),Hn.setAttribute("class","a9s-outer"),sv(Hn,Gt,tn,fn,Cn),Fn.appendChild(Hn),Fn.appendChild(jn)}return Fn},N_=Nt=>{const Pt=Nt.querySelector(".a9s-outer");if(Pt.nodeName==="rect"){const jt=parseFloat(Pt.getAttribute("x")),Ft=parseFloat(Pt.getAttribute("y")),Gt=parseFloat(Pt.getAttribute("width")),tn=parseFloat(Pt.getAttribute("height"));return{x:jt,y:Ft,w:Gt,h:tn}}else{const jt=parseFloat(Pt.getAttribute("cx")),Ft=parseFloat(Pt.getAttribute("cy"));return{x:jt,y:Ft,w:0,h:0}}},Ib=(Nt,Pt,jt,Ft,Gt)=>{const tn=Nt.querySelector(".a9s-inner"),fn=Nt.querySelector(".a9s-outer");fn.nodeName==="rect"?(sv(tn,Pt,jt,Ft,Gt),sv(fn,Pt,jt,Ft,Gt)):(lv(tn,Pt,jt),lv(fn,Pt,jt))},Y2=(Nt,Pt)=>{const{w:jt,h:Ft}=Dg(Nt,Pt);return jt*Ft};class G2{constructor(Pt,jt,Ft,Gt,tn){$t(this,"dragTo",(fn,Cn)=>{this.group.style.display=null,this.opposite=[fn,Cn];const{x:Fn,y:Hn,w:jn,h:Sr}=this.bbox;Nb(this.mask,this.env.image,Fn,Hn,jn,Sr),Ib(this.rect,Fn,Hn,jn,Sr)}),$t(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),$t(this,"toSelection",()=>{const{x:fn,y:Cn,w:Fn,h:Hn}=this.bbox;return new u1(h1(fn,Cn,Fn,Hn,this.env.image,this.config.fragmentUnit))}),$t(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[Pt,jt],this.opposite=[Pt,jt],this.config=Gt,this.env=tn,this.group=document.createElementNS(gs,"g"),this.mask=A_(tn.image,Pt,jt,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=Db(Pt,jt,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),Ft.appendChild(this.group)}get bbox(){const Pt=this.opposite[0]-this.anchor[0],jt=this.opposite[1]-this.anchor[1];return{x:Pt>0?this.anchor[0]:this.opposite[0],y:jt>0?this.anchor[1]:this.opposite[1],w:Math.max(1,Math.abs(Pt)),h:Math.max(1,Math.abs(jt))}}get element(){return this.rect}}const W2={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Lb=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,q2=Nt=>{let Pt=null;const jt=(Gt,tn)=>new MouseEvent(Gt,{screenX:tn.screenX,screenY:tn.screenY,clientX:tn.clientX,clientY:tn.clientY,pageX:tn.pageX,pageY:tn.pageY,bubbles:!0}),Ft=Gt=>{const tn=Gt.changedTouches[0],fn=jt(W2[Gt.type],tn);tn.target.dispatchEvent(fn),Gt.preventDefault(),(Gt.type==="touchstart"||Gt.type==="touchmove")&&(Pt&&clearTimeout(Pt),Pt=setTimeout(()=>{const Cn=jt("dblclick",tn);tn.target.dispatchEvent(Cn)},800)),Gt.type==="touchend"&&Pt&&clearTimeout(Pt)};Nt.addEventListener("touchstart",Ft,!0),Nt.addEventListener("touchmove",Ft,!0),Nt.addEventListener("touchend",Ft,!0),Nt.addEventListener("touchcancel",Ft,!0)},cv="An implementation is missing",Q2=Lb();class D_ extends Xo{constructor(Pt,jt,Ft){super(),$t(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{const tn=this.svg.getBoundingClientRect(),{width:fn,height:Cn}=this.svg.viewBox.baseVal;this.scale=Math.max(fn/tn.width,Cn/tn.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),$t(this,"getSVGPoint",tn=>{const fn=this.svg.createSVGPoint();if(Q2){const Cn=this.svg.getBoundingClientRect(),Fn=tn.clientX-Cn.x,Hn=tn.clientY-Cn.y,{left:jn,top:Sr}=this.svg.getBoundingClientRect();return fn.x=Fn+jn,fn.y=Hn+Sr,fn.matrixTransform(this.g.getScreenCTM().inverse())}else return fn.x=tn.offsetX,fn.y=tn.offsetY,fn.matrixTransform(this.g.getCTM().inverse())}),$t(this,"drawHandle",(tn,fn)=>{const Cn=document.createElementNS(gs,"g");Cn.setAttribute("class","a9s-handle");const Fn=document.createElementNS(gs,"g"),Hn=Yr=>{const si=document.createElementNS(gs,"circle");return si.setAttribute("cx",tn),si.setAttribute("cy",fn),si.setAttribute("r",Yr),si},jn=this.config.handleRadius||6,Sr=Hn(jn);Sr.setAttribute("class","a9s-handle-inner");const $r=Hn(jn+1);return $r.setAttribute("class","a9s-handle-outer"),Fn.appendChild($r),Fn.appendChild(Sr),Cn.appendChild(Fn),Cn}),$t(this,"setHandleXY",(tn,fn,Cn)=>{const Fn=tn.querySelector(".a9s-handle-inner");Fn.setAttribute("cx",fn),Fn.setAttribute("cy",Cn);const Hn=tn.querySelector(".a9s-handle-outer");Hn.setAttribute("cx",fn),Hn.setAttribute("cy",Cn)}),$t(this,"getHandleXY",tn=>{const fn=tn.querySelector(".a9s-handle-outer");return{x:parseFloat(fn.getAttribute("cx")),y:parseFloat(fn.getAttribute("cy"))}}),$t(this,"scaleHandle",tn=>{const fn=tn.querySelector(".a9s-handle-inner"),Cn=tn.querySelector(".a9s-handle-outer"),Fn=this.scale*(this.config.handleRadius||6);fn.setAttribute("r",Fn),Cn.setAttribute("r",Fn)}),this.svg=Pt.closest("svg"),this.g=Pt,this.config=jt,this.env=Ft,this.scale=1;const{image:Gt}=Ft;(Gt instanceof Element||Gt instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class Ob extends D_{constructor(Pt,jt,Ft){super(Pt,jt,Ft),$t(this,"attachListeners",({mouseMove:Gt,mouseUp:tn,dblClick:fn})=>{Gt&&(this.mouseMove=Cn=>{const{x:Fn,y:Hn}=this.getSVGPoint(Cn);this.started||(this.emit("startSelection",{x:Fn,y:Hn}),this.started=!0),Gt(Fn,Hn,Cn)},this.svg.addEventListener("mousemove",this.mouseMove)),tn&&(this.mouseUp=Cn=>{if(Cn.button!==0)return;const{x:Fn,y:Hn}=this.getSVGPoint(Cn);tn(Fn,Hn,Cn)},document.addEventListener("mouseup",this.mouseUp)),fn&&(this.dblClick=Cn=>{const{x:Fn,y:Hn}=this.getSVGPoint(Cn);fn(Fn,Hn,Cn)},document.addEventListener("dblclick",this.dblClick))}),$t(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),$t(this,"start",(Gt,tn)=>{const{x:fn,y:Cn}=this.getSVGPoint(Gt);this.startDrawing(fn,Cn,tn,Gt)}),$t(this,"startDrawing",Gt=>{throw new Error(cv)}),$t(this,"createEditableShape",Gt=>{throw new Error(cv)}),this.started=!1}get isDrawing(){throw new Error(cv)}}Ob.supports=Nt=>{throw new Error(cv)};const I_="An implementation is missing";class L_ extends D_{constructor(Pt,jt,Ft,Gt){super(jt,Ft,Gt),$t(this,"updateState",tn=>{throw new Error(I_)}),this.annotation=Pt}get element(){throw new Error(I_)}}const X2=/firefox/i.test(navigator.userAgent),O_=(Nt,Pt,jt,Ft,Gt)=>{Nt.setAttribute("width",Ft),Nt.setAttribute("height",Gt),X2?(Nt.setAttribute("x",0),Nt.setAttribute("y",0),Nt.setAttribute("transform",`translate(${Pt}, ${jt})`)):(Nt.setAttribute("x",Pt),Nt.setAttribute("y",jt))},P_=(Nt,Pt)=>{const{x:jt,y:Ft,width:Gt,height:tn}=Pt.getBBox(),fn=document.createElementNS(gs,"svg");fn.setAttribute("class","a9s-formatter-el"),O_(fn,jt,Ft,Gt,tn);const Cn=document.createElementNS(gs,"g");Cn.appendChild(Nt),fn.appendChild(Cn),Pt.append(fn)},uv=(Nt,Pt,jt)=>{if(!jt)return Nt;const Ft=jt(Pt);if(!Ft)return Nt;if(typeof Ft=="string"||Ft instanceof String)Cp(Nt,Ft);else if(Ft.nodeType===Node.ELEMENT_NODE)P_(Ft,Nt);else{const{className:Gt,style:tn,element:fn}=Ft;if(Gt&&Cp(Nt,Gt),tn){const Cn=Nt.querySelector(".a9s-outer"),Fn=Nt.querySelector(".a9s-inner");Cn&&Fn?(Cn.setAttribute("style","display:none"),Fn.setAttribute("style",tn)):Nt.setAttribute("style",tn)}fn&&P_(fn,Nt);for(const Cn in Ft)Ft.hasOwnProperty(Cn)&&Cn.startsWith("data-")&&Nt.setAttribute(Cn,Ft[Cn])}},Pb=(Nt,Pt,jt,Ft,Gt)=>{const tn=Nt.querySelector(".a9s-formatter-el");tn&&O_(tn,Pt,jt,Ft,Gt)};class Z2 extends L_{constructor(Pt,jt,Ft,Gt){super(Pt,jt,Ft,Gt),$t(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),$t(this,"setSize",(Hn,jn,Sr,$r)=>{Ib(this.rectangle,Hn,jn,Sr,$r),Nb(this.mask,this.env.image,Hn,jn,Sr,$r),Pb(this.elementGroup,Hn,jn,Sr,$r);const[Yr,si,ki,Mi]=this.handles;this.setHandleXY(Yr,Hn,jn),this.setHandleXY(si,Hn+Sr,jn),this.setHandleXY(ki,Hn+Sr,jn+$r),this.setHandleXY(Mi,Hn,jn+$r)}),$t(this,"stretchCorners",(Hn,jn,Sr)=>{const $r=this.getHandleXY(jn),Yr=Sr.x-$r.x,si=Sr.y-$r.y,ki=Yr>0?$r.x:Sr.x,Mi=si>0?$r.y:Sr.y,Vi=Math.abs(Yr),Ki=Math.abs(si);Ib(this.rectangle,ki,Mi,Vi,Ki),Nb(this.mask,this.env.image,ki,Mi,Vi,Ki),Pb(this.elementGroup,ki,Mi,Vi,Ki),this.setHandleXY(this.handles[Hn],Sr.x,Sr.y);const Ko=this.handles[(Hn+3)%4];this.setHandleXY(Ko,$r.x,Sr.y);const Uo=this.handles[(Hn+5)%4];return this.setHandleXY(Uo,Sr.x,$r.y),{x:ki,y:Mi,w:Vi,h:Ki}}),$t(this,"onGrab",Hn=>jn=>{if(jn.button!==0)return;this.grabbedElem=Hn;const Sr=this.getSVGPoint(jn),{x:$r,y:Yr}=N_(this.rectangle);this.mouseOffset={x:Sr.x-$r,y:Sr.y-Yr}}),$t(this,"onMouseMove",Hn=>{if(Hn.button!==0)return;const jn=(Sr,$r)=>Sr<0?0:Sr>$r?$r:Sr;if(this.grabbedElem){const Sr=this.getSVGPoint(Hn);if(this.grabbedElem===this.rectangle){const{w:$r,h:Yr}=N_(this.rectangle),{naturalWidth:si,naturalHeight:ki}=this.env.image,Mi=jn(Sr.x-this.mouseOffset.x,si-$r),Vi=jn(Sr.y-this.mouseOffset.y,ki-Yr);this.setSize(Mi,Vi,$r,Yr),this.emit("update",h1(Mi,Vi,$r,Yr,this.env.image,this.config.fragmentUnit))}else{const $r=this.handles.indexOf(this.grabbedElem),Yr=$r<2?this.handles[$r+2]:this.handles[$r-2],{x:si,y:ki,w:Mi,h:Vi}=this.stretchCorners($r,Yr,Sr);this.emit("update",h1(si,ki,Mi,Vi,this.env.image,this.config.fragmentUnit))}}}),$t(this,"onMouseUp",Hn=>{this.grabbedElem=null,this.mouseOffset=null}),$t(this,"updateState",Hn=>{const{x:jn,y:Sr,w:$r,h:Yr}=Dg(Hn,this.env.image);this.setSize(jn,Sr,$r,Yr)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);const{x:tn,y:fn,w:Cn,h:Fn}=Dg(Pt,Gt.image);this.containerGroup=document.createElementNS(gs,"g"),this.mask=A_(Gt.image,tn,fn,Cn,Fn),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(gs,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.rectangle=Db(tn,fn,Cn,Fn),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[tn,fn],[tn+Cn,fn],[tn+Cn,fn+Fn],[tn,fn+Fn]].map(Hn=>{const[jn,Sr]=Hn,$r=this.drawHandle(jn,Sr);return $r.addEventListener("mousedown",this.onGrab($r)),this.elementGroup.appendChild($r),$r}),this.containerGroup.appendChild(this.elementGroup),jt.appendChild(this.containerGroup),uv(this.rectangle,Pt,Ft.formatter),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class hv extends Ob{constructor(Pt,jt,Ft){super(Pt,jt,Ft),$t(this,"startDrawing",(Gt,tn)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new G2(Gt,tn,this.g,this.config,this.env)}),$t(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),$t(this,"onMouseMove",(Gt,tn)=>this.rubberband.dragTo(Gt,tn)),$t(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;const{width:Gt,height:tn}=this.rubberband.getBoundingClientRect(),fn=this.config.minSelectionWidth||4,Cn=this.config.minSelectionHeight||4;if(Gt>=fn&&tn>=Cn){const{element:Fn}=this.rubberband;Fn.annotation=this.rubberband.toSelection(),this.emit("complete",Fn)}else this.emit("cancel");this.stop()}),$t(this,"createEditableShape",Gt=>new Z2(Gt,this.g,this.config,this.env)),this.rubberband=null}get isDrawing(){return this.rubberband!=null}}hv.identifier="rect",hv.supports=Nt=>{const Pt=Nt.selector("FragmentSelector");return Pt==null?void 0:Pt.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};const K2=Nt=>{const Pt=new XMLSerializer().serializeToString(Nt.documentElement).replace("<svg>",`<svg xmlns="${gs}">`);return new DOMParser().parseFromString(Pt,"image/svg+xml").documentElement},R_=Nt=>{const Pt=Ft=>{Array.from(Ft.attributes).forEach(Gt=>{Gt.name.startsWith("on")&&Ft.removeAttribute(Gt.name)})},jt=Nt.getElementsByTagName("script");return Array.from(jt).reverse().forEach(Ft=>Ft.parentNode.removeChild(Ft)),Pt(Nt),Array.from(Nt.querySelectorAll("*")).forEach(Pt),Nt},zm=Nt=>{const Pt=Nt.selector("SvgSelector");if(Pt){const jt=new DOMParser,{value:Ft}=Pt,Gt=jt.parseFromString(Ft,"image/svg+xml"),tn=Gt.lookupPrefix(gs),fn=Gt.lookupNamespaceURI(null);return tn||fn?R_(Gt).firstChild:R_(K2(Gt)).firstChild}},z_=Nt=>{const Pt=zm(Nt),jt=document.createElementNS(gs,"g"),Ft=Pt.cloneNode(!0);Ft.setAttribute("class","a9s-inner");const Gt=Pt.cloneNode(!0);return Gt.setAttribute("class","a9s-outer"),jt.appendChild(Gt),jt.appendChild(Ft),jt},Rb=(Nt,Pt)=>{const jt=Nt.querySelector(".a9s-inner").cloneNode(!0);jt.removeAttribute("class"),jt.removeAttribute("xmlns");let Ft=jt.outerHTML||new XMLSerializer().serializeToString(jt);return Ft=Ft.replace(` xmlns="${gs}"`,""),{source:Pt==null?void 0:Pt.src,selector:{type:"SvgSelector",value:`<svg>${Ft}</svg>`}}},J2=Nt=>{const Pt=zm(Nt),jt=Pt.nodeName.toLowerCase();if(jt==="polygon")return ex(Pt);if(jt==="circle")return tx(Pt);if(jt==="ellipse")return nx(Pt);if(jt=="path")return rx(Pt);throw`Unsupported SVG shape type: ${jt}`},ex=Nt=>{const Pt=Nt.getAttribute("points").split(" ").map(Gt=>Gt.split(",").map(tn=>parseFloat(tn.trim())));let jt=0,Ft=Pt.length-1;for(let Gt=0;Gt<Pt.length;Gt++)jt+=(Pt[Ft][0]+Pt[Gt][0])*(Pt[Ft][1]-Pt[Gt][1]),Ft=Gt;return Math.abs(.5*jt)},tx=Nt=>{const Pt=Nt.getAttribute("r");return Pt*Pt*Math.PI},nx=Nt=>{const Pt=Nt.getAttribute("rx"),jt=Nt.getAttribute("ry");return Pt*jt*Math.PI},rx=Nt=>{const Pt=Nt.getAttribute("d").split("L");let jt=0;if(Pt.length>1){var Ft=Pt[Pt.length-1].trim().split(" ");let Gt=parseFloat(Ft[0]),tn=parseFloat(Ft[1]);Ft=Pt[0].substring(1).trim().split(" ");let fn=parseFloat(Ft[0]),Cn=parseFloat(Ft[1]);jt+=(Gt+fn)*(tn-Cn),Gt=fn,tn=Cn;for(let Fn=1;Fn<Pt.length;Fn++)Ft=Pt[Fn].trim().split(" "),fn=parseFloat(Ft[0]),Cn=parseFloat(Ft[1]),jt+=(Gt+fn)*(tn-Cn),Gt=fn,tn=Cn}return Math.abs(.5*jt)};class $_{constructor(Pt,jt){$t(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),$t(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=Pt.naturalWidth,this.h=Pt.naturalHeight,this.polygon=jt,this.mask=document.createElementNS(gs,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class ix{constructor(Pt,jt,Ft){$t(this,"setPoints",Gt=>{const tn=Gt.map(fn=>`${fn[0]},${fn[1]}`).join(" ");this.outer.setAttribute("points",tn),this.inner.setAttribute("points",tn)}),$t(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),$t(this,"dragTo",Gt=>{this.group.style.display=null,this.mousepos=Gt;const tn=[...this.points,Gt];this.setPoints(tn),this.mask.redraw()}),$t(this,"addPoint",()=>{const[Gt,tn]=this.mousepos,fn=this.points[this.points.length-1];Math.pow(Gt-fn[0],2)+Math.pow(tn-fn[1],2)>4&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),$t(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),$t(this,"toSelection",()=>new u1(Rb(this.group,this.env.image))),this.points=[Pt],this.env=Ft,this.mousepos=Pt,this.group=document.createElementNS(gs,"g"),this.polygon=document.createElementNS(gs,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(gs,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(gs,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new $_(Ft.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),jt.appendChild(this.group)}get element(){return this.polygon}}const zb=Nt=>{const Pt=Nt.querySelector(".a9s-inner").points,jt=[];for(let Ft=0;Ft<Pt.numberOfItems;Ft++)jt.push(Pt.getItem(Ft));return jt},ox=Nt=>Nt.querySelector(".a9s-inner").getBBox();class ax extends L_{constructor(Pt,jt,Ft,Gt){super(Pt,jt,Ft,Gt),$t(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),$t(this,"setPoints",tn=>{const fn=Yr=>Math.round(10*Yr)/10,Cn=tn.map(Yr=>`${fn(Yr.x)},${fn(Yr.y)}`).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",Cn);const Fn=this.shape.querySelector(".a9s-outer");Fn.setAttribute("points",Cn),this.mask.redraw();const{x:Hn,y:jn,width:Sr,height:$r}=Fn.getBBox();Pb(this.elementGroup,Hn,jn,Sr,$r)}),$t(this,"onGrab",tn=>fn=>{fn.button===0&&(this.grabbedElem=tn,this.grabbedAt=this.getSVGPoint(fn))}),$t(this,"onMouseMove",tn=>{const fn=(Cn,Fn,Hn)=>Cn+Fn<0?-Cn:Cn+Fn>Hn?Hn-Cn:Fn;if(this.grabbedElem){const Cn=this.getSVGPoint(tn);if(this.grabbedElem===this.shape){const{x:Fn,y:Hn,width:jn,height:Sr}=ox(this.shape),{naturalWidth:$r,naturalHeight:Yr}=this.env.image,si=fn(Fn,Cn.x-this.grabbedAt.x,$r-jn),ki=fn(Hn,Cn.y-this.grabbedAt.y,Yr-Sr),Mi=zb(this.shape).map(Vi=>({x:Vi.x+si,y:Vi.y+ki}));this.grabbedAt=Cn,this.setPoints(Mi),Mi.forEach((Vi,Ki)=>this.setHandleXY(this.handles[Ki],Vi.x,Vi.y)),this.emit("update",Rb(this.shape,this.env.image))}else{const Fn=this.handles.indexOf(this.grabbedElem),Hn=zb(this.shape).map((jn,Sr)=>Sr===Fn?Cn:jn);this.setPoints(Hn),this.setHandleXY(this.handles[Fn],Cn.x,Cn.y),this.emit("update",Rb(this.shape,this.env.image))}}}),$t(this,"onMouseUp",tn=>{this.grabbedElem=null,this.grabbedAt=null}),$t(this,"updateState",tn=>{const fn=zm(tn).getAttribute("points").split(" ").map(Cn=>{const[Fn,Hn]=Cn.split(",").map(jn=>parseFloat(jn.trim()));return{x:Fn,y:Hn}});this.setPoints(fn),fn.forEach((Cn,Fn)=>this.setHandleXY(this.handles[Fn],Cn.x,Cn.y))}),$t(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(gs,"g"),this.shape=z_(Pt),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new $_(Gt.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(gs,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.appendChild(this.shape),this.handles=zb(this.shape).map(tn=>{const fn=this.drawHandle(tn.x,tn.y);return fn.addEventListener("mousedown",this.onGrab(fn)),this.elementGroup.appendChild(fn),fn}),this.containerGroup.appendChild(this.elementGroup),jt.appendChild(this.containerGroup),uv(this.shape,Pt,Ft.formatter),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class $b extends Ob{constructor(Pt,jt,Ft){super(Pt,jt,Ft),$t(this,"startDrawing",(Gt,tn,fn)=>{this._isDrawing=!0,this._startOnSingleClick=fn,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new ix([Gt,tn],this.g,this.env)}),$t(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),$t(this,"onMouseMove",(Gt,tn)=>this.rubberband.dragTo([Gt,tn])),$t(this,"onMouseUp",()=>{const{width:Gt,height:tn}=this.rubberband.getBoundingClientRect(),fn=this.config.minSelectionWidth||4,Cn=this.config.minSelectionHeight||4;Gt>=fn||tn>=Cn?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),$t(this,"onDblClick",()=>{this._isDrawing=!1;const Gt=this.rubberband.element;Gt.annotation=this.rubberband.toSelection(),this.emit("complete",Gt),this.stop()}),$t(this,"createEditableShape",Gt=>new ax(Gt,this.g,this.config,this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}$b.identifier="polygon",$b.supports=Nt=>{var Pt;const jt=Nt.selector("SvgSelector");if(jt)return(Pt=jt.value)==null?void 0:Pt.match(/^<svg.*<polygon/g)};class sx extends Xo{constructor(Pt,jt,Ft){super(),$t(this,"listTools",()=>this._registered.map(Gt=>Gt.identifier)),$t(this,"registerTool",Gt=>{const tn=Gt.identifier;this.listTools().includes(tn)&&this.unregisterTool(tn),this._registered.push(Gt)}),$t(this,"unregisterTool",Gt=>this._registered=this._registered.filter(tn=>tn.identifier!==Gt)),$t(this,"setCurrent",Gt=>{const tn=typeof Gt=="string"||Gt instanceof String?this._registered.find(fn=>fn.identifier===Gt):Gt;this._current=new tn(this._g,this._config,this._env),this._current.on("startSelection",fn=>this.emit("startSelection",fn)),this._current.on("complete",fn=>this.emit("complete",fn)),this._current.on("cancel",fn=>this.emit("cancel",fn))}),$t(this,"forAnnotation",Gt=>{var tn;const[fn,...Cn]=Gt.targets,Fn=(tn=fn.renderedVia)==null?void 0:tn.name,Hn=Fn?this._registered.find(jn=>jn.identifier===Fn):this._registered.find(jn=>jn.supports(Gt));return Hn?new Hn(this._g,this._config,this._env):null}),this._g=Pt,this._config=jt,this._env=Ft,this._registered=[hv,$b],this.setCurrent(hv)}get current(){return this._current}}class lx{constructor(Pt,jt,Ft){this.svg=Pt.closest("svg"),this.g=document.createElementNS(gs,"g"),this.g.setAttribute("class","a9s-crosshair");const Gt=document.createElementNS(gs,"line"),tn=document.createElementNS(gs,"line");this.g.appendChild(Gt),this.g.appendChild(tn),Pt.appendChild(this.g);const fn=Cn=>{const Fn=this.svg.getBoundingClientRect(),Hn=Cn.clientX-Fn.x,jn=Cn.clientY-Fn.y,Sr=this.svg.createSVGPoint(),{left:$r,top:Yr}=this.svg.getBoundingClientRect();return Sr.x=Hn+$r,Sr.y=jn+Yr,Sr.matrixTransform(Pt.getScreenCTM().inverse())};this.svg.addEventListener("mousemove",Cn=>{const{x:Fn,y:Hn}=fn(Cn);Gt.setAttribute("x1",0),Gt.setAttribute("y1",Hn),Gt.setAttribute("x2",jt),Gt.setAttribute("y2",Hn),tn.setAttribute("x1",Fn),tn.setAttribute("y1",0),tn.setAttribute("x2",Fn),tn.setAttribute("y2",Ft)})}}const cx={FragmentSelector:Db,SvgSelector:z_},ux={FragmentSelector:Y2,SvgSelector:J2},B_=Nt=>{const Pt=Nt.targets[0];if(Pt)return Array.isArray(Pt.selector)?Pt.selector[0]:Pt.selector},Bb=(Nt,Pt)=>cx[B_(Nt).type](Nt,Pt),j_=(Nt,Pt)=>ux[B_(Nt).type](Nt,Pt);function hx(Nt,Pt,jt,Ft,Gt){F_(Nt,Pt,jt||0,Ft||Nt.length-1,Gt||dx)}function F_(Nt,Pt,jt,Ft,Gt){for(;Ft>jt;){if(Ft-jt>600){var tn=Ft-jt+1,fn=Pt-jt+1,Cn=Math.log(tn),Fn=.5*Math.exp(2*Cn/3),Hn=.5*Math.sqrt(Cn*Fn*(tn-Fn)/tn)*(fn-tn/2<0?-1:1),jn=Math.max(jt,Math.floor(Pt-fn*Fn/tn+Hn)),Sr=Math.min(Ft,Math.floor(Pt+(tn-fn)*Fn/tn+Hn));F_(Nt,Pt,jn,Sr,Gt)}var $r=Nt[Pt],Yr=jt,si=Ft;for(d1(Nt,jt,Pt),Gt(Nt[Ft],$r)>0&&d1(Nt,jt,Ft);Yr<si;){for(d1(Nt,Yr,si),Yr++,si--;Gt(Nt[Yr],$r)<0;)Yr++;for(;Gt(Nt[si],$r)>0;)si--}Gt(Nt[jt],$r)===0?d1(Nt,jt,si):(si++,d1(Nt,si,Ft)),si<=Pt&&(jt=si+1),Pt<=si&&(Ft=si-1)}}function d1(Nt,Pt,jt){var Ft=Nt[Pt];Nt[Pt]=Nt[jt],Nt[jt]=Ft}function dx(Nt,Pt){return Nt<Pt?-1:Nt>Pt?1:0}class fx{constructor(Pt=9){this._maxEntries=Math.max(4,Pt),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}all(){return this._all(this.data,[])}search(Pt){let jt=this.data;const Ft=[];if(!fv(Pt,jt))return Ft;const Gt=this.toBBox,tn=[];for(;jt;){for(let fn=0;fn<jt.children.length;fn++){const Cn=jt.children[fn],Fn=jt.leaf?Gt(Cn):Cn;fv(Pt,Fn)&&(jt.leaf?Ft.push(Cn):Fb(Pt,Fn)?this._all(Cn,Ft):tn.push(Cn))}jt=tn.pop()}return Ft}collides(Pt){let jt=this.data;if(!fv(Pt,jt))return!1;const Ft=[];for(;jt;){for(let Gt=0;Gt<jt.children.length;Gt++){const tn=jt.children[Gt],fn=jt.leaf?this.toBBox(tn):tn;if(fv(Pt,fn)){if(jt.leaf||Fb(Pt,fn))return!0;Ft.push(tn)}}jt=Ft.pop()}return!1}load(Pt){if(!(Pt&&Pt.length))return this;if(Pt.length<this._minEntries){for(let Ft=0;Ft<Pt.length;Ft++)this.insert(Pt[Ft]);return this}let jt=this._build(Pt.slice(),0,Pt.length-1,0);if(!this.data.children.length)this.data=jt;else if(this.data.height===jt.height)this._splitRoot(this.data,jt);else{if(this.data.height<jt.height){const Ft=this.data;this.data=jt,jt=Ft}this._insert(jt,this.data.height-jt.height-1,!0)}return this}insert(Pt){return Pt&&this._insert(Pt,this.data.height-1),this}clear(){return this.data=Bm([]),this}remove(Pt,jt){if(!Pt)return this;let Ft=this.data;const Gt=this.toBBox(Pt),tn=[],fn=[];let Cn,Fn,Hn;for(;Ft||tn.length;){if(Ft||(Ft=tn.pop(),Fn=tn[tn.length-1],Cn=fn.pop(),Hn=!0),Ft.leaf){const jn=px(Pt,Ft.children,jt);if(jn!==-1)return Ft.children.splice(jn,1),tn.push(Ft),this._condense(tn),this}!Hn&&!Ft.leaf&&Fb(Ft,Gt)?(tn.push(Ft),fn.push(Cn),Cn=0,Fn=Ft,Ft=Ft.children[0]):Fn?(Cn++,Ft=Fn.children[Cn],Hn=!1):Ft=null}return this}toBBox(Pt){return Pt}compareMinX(Pt,jt){return Pt.minX-jt.minX}compareMinY(Pt,jt){return Pt.minY-jt.minY}toJSON(){return this.data}fromJSON(Pt){return this.data=Pt,this}_all(Pt,jt){const Ft=[];for(;Pt;)Pt.leaf?jt.push(...Pt.children):Ft.push(...Pt.children),Pt=Ft.pop();return jt}_build(Pt,jt,Ft,Gt){const tn=Ft-jt+1;let fn=this._maxEntries,Cn;if(tn<=fn)return Cn=Bm(Pt.slice(jt,Ft+1)),$m(Cn,this.toBBox),Cn;Gt||(Gt=Math.ceil(Math.log(tn)/Math.log(fn)),fn=Math.ceil(tn/Math.pow(fn,Gt-1))),Cn=Bm([]),Cn.leaf=!1,Cn.height=Gt;const Fn=Math.ceil(tn/fn),Hn=Fn*Math.ceil(Math.sqrt(fn));U_(Pt,jt,Ft,Hn,this.compareMinX);for(let jn=jt;jn<=Ft;jn+=Hn){const Sr=Math.min(jn+Hn-1,Ft);U_(Pt,jn,Sr,Fn,this.compareMinY);for(let $r=jn;$r<=Sr;$r+=Fn){const Yr=Math.min($r+Fn-1,Sr);Cn.children.push(this._build(Pt,$r,Yr,Gt-1))}}return $m(Cn,this.toBBox),Cn}_chooseSubtree(Pt,jt,Ft,Gt){for(;Gt.push(jt),!(jt.leaf||Gt.length-1===Ft);){let tn=1/0,fn=1/0,Cn;for(let Fn=0;Fn<jt.children.length;Fn++){const Hn=jt.children[Fn],jn=jb(Hn),Sr=yx(Pt,Hn)-jn;Sr<fn?(fn=Sr,tn=jn<tn?jn:tn,Cn=Hn):Sr===fn&&jn<tn&&(tn=jn,Cn=Hn)}jt=Cn||jt.children[0]}return jt}_insert(Pt,jt,Ft){const Gt=Ft?Pt:this.toBBox(Pt),tn=[],fn=this._chooseSubtree(Gt,this.data,jt,tn);for(fn.children.push(Pt),p1(fn,Gt);jt>=0&&tn[jt].children.length>this._maxEntries;)this._split(tn,jt),jt--;this._adjustParentBBoxes(Gt,tn,jt)}_split(Pt,jt){const Ft=Pt[jt],Gt=Ft.children.length,tn=this._minEntries;this._chooseSplitAxis(Ft,tn,Gt);const fn=this._chooseSplitIndex(Ft,tn,Gt),Cn=Bm(Ft.children.splice(fn,Ft.children.length-fn));Cn.height=Ft.height,Cn.leaf=Ft.leaf,$m(Ft,this.toBBox),$m(Cn,this.toBBox),jt?Pt[jt-1].children.push(Cn):this._splitRoot(Ft,Cn)}_splitRoot(Pt,jt){this.data=Bm([Pt,jt]),this.data.height=Pt.height+1,this.data.leaf=!1,$m(this.data,this.toBBox)}_chooseSplitIndex(Pt,jt,Ft){let Gt,tn=1/0,fn=1/0;for(let Cn=jt;Cn<=Ft-jt;Cn++){const Fn=f1(Pt,0,Cn,this.toBBox),Hn=f1(Pt,Cn,Ft,this.toBBox),jn=vx(Fn,Hn),Sr=jb(Fn)+jb(Hn);jn<tn?(tn=jn,Gt=Cn,fn=Sr<fn?Sr:fn):jn===tn&&Sr<fn&&(fn=Sr,Gt=Cn)}return Gt||Ft-jt}_chooseSplitAxis(Pt,jt,Ft){const Gt=Pt.leaf?this.compareMinX:gx,tn=Pt.leaf?this.compareMinY:mx,fn=this._allDistMargin(Pt,jt,Ft,Gt),Cn=this._allDistMargin(Pt,jt,Ft,tn);fn<Cn&&Pt.children.sort(Gt)}_allDistMargin(Pt,jt,Ft,Gt){Pt.children.sort(Gt);const tn=this.toBBox,fn=f1(Pt,0,jt,tn),Cn=f1(Pt,Ft-jt,Ft,tn);let Fn=dv(fn)+dv(Cn);for(let Hn=jt;Hn<Ft-jt;Hn++){const jn=Pt.children[Hn];p1(fn,Pt.leaf?tn(jn):jn),Fn+=dv(fn)}for(let Hn=Ft-jt-1;Hn>=jt;Hn--){const jn=Pt.children[Hn];p1(Cn,Pt.leaf?tn(jn):jn),Fn+=dv(Cn)}return Fn}_adjustParentBBoxes(Pt,jt,Ft){for(let Gt=Ft;Gt>=0;Gt--)p1(jt[Gt],Pt)}_condense(Pt){for(let jt=Pt.length-1,Ft;jt>=0;jt--)Pt[jt].children.length===0?jt>0?(Ft=Pt[jt-1].children,Ft.splice(Ft.indexOf(Pt[jt]),1)):this.clear():$m(Pt[jt],this.toBBox)}}function px(Nt,Pt,jt){if(!jt)return Pt.indexOf(Nt);for(let Ft=0;Ft<Pt.length;Ft++)if(jt(Nt,Pt[Ft]))return Ft;return-1}function $m(Nt,Pt){f1(Nt,0,Nt.children.length,Pt,Nt)}function f1(Nt,Pt,jt,Ft,Gt){Gt||(Gt=Bm(null)),Gt.minX=1/0,Gt.minY=1/0,Gt.maxX=-1/0,Gt.maxY=-1/0;for(let tn=Pt;tn<jt;tn++){const fn=Nt.children[tn];p1(Gt,Nt.leaf?Ft(fn):fn)}return Gt}function p1(Nt,Pt){return Nt.minX=Math.min(Nt.minX,Pt.minX),Nt.minY=Math.min(Nt.minY,Pt.minY),Nt.maxX=Math.max(Nt.maxX,Pt.maxX),Nt.maxY=Math.max(Nt.maxY,Pt.maxY),Nt}function gx(Nt,Pt){return Nt.minX-Pt.minX}function mx(Nt,Pt){return Nt.minY-Pt.minY}function jb(Nt){return(Nt.maxX-Nt.minX)*(Nt.maxY-Nt.minY)}function dv(Nt){return Nt.maxX-Nt.minX+(Nt.maxY-Nt.minY)}function yx(Nt,Pt){return(Math.max(Pt.maxX,Nt.maxX)-Math.min(Pt.minX,Nt.minX))*(Math.max(Pt.maxY,Nt.maxY)-Math.min(Pt.minY,Nt.minY))}function vx(Nt,Pt){const jt=Math.max(Nt.minX,Pt.minX),Ft=Math.max(Nt.minY,Pt.minY),Gt=Math.min(Nt.maxX,Pt.maxX),tn=Math.min(Nt.maxY,Pt.maxY);return Math.max(0,Gt-jt)*Math.max(0,tn-Ft)}function Fb(Nt,Pt){return Nt.minX<=Pt.minX&&Nt.minY<=Pt.minY&&Pt.maxX<=Nt.maxX&&Pt.maxY<=Nt.maxY}function fv(Nt,Pt){return Pt.minX<=Nt.maxX&&Pt.minY<=Nt.maxY&&Pt.maxX>=Nt.minX&&Pt.maxY>=Nt.minY}function Bm(Nt){return{children:Nt,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function U_(Nt,Pt,jt,Ft,Gt){const tn=[Pt,jt];for(;tn.length;){if(jt=tn.pop(),Pt=tn.pop(),jt-Pt<=Ft)continue;const fn=Pt+Math.ceil((jt-Pt)/Ft/2)*Ft;hx(Nt,fn,Pt,jt,Gt),tn.push(Pt,fn,fn,jt)}}const H_=Nt=>{const Pt=Bb(Nt),jt=document.createElementNS(gs,"svg");jt.style.position="absolute",jt.style.opacity=0,jt.style.top=0,jt.style.left=0,jt.appendChild(Pt),document.body.appendChild(jt);const{x:Ft,y:Gt,width:tn,height:fn}=Pt.getBBox();return document.body.removeChild(jt),{minX:Ft,minY:Gt,maxX:Ft+tn,maxY:Gt+fn}};class bx{constructor(Pt){$t(this,"getAnnotationAt",(jt,Ft,Gt)=>{const tn=Gt?5/Gt:5,fn=this.spatial_index.search({minX:jt-tn,minY:Ft-tn,maxX:jt+tn,maxY:Ft+tn}).map(Cn=>Cn.annotation);if(fn.length>0)return fn.sort((Cn,Fn)=>j_(Cn,this.env.image)-j_(Fn,this.env.image)),fn[0]}),$t(this,"getAnnotationsIntersecting",jt=>this.spatial_index.search(jt).map(Ft=>Ft.annotation)),$t(this,"insert",jt=>{(Array.isArray(jt)?jt:[jt]).forEach(Ft=>{this.spatial_index.insert(Ot(Dt({},H_(Ft)),{annotation:Ft}))})}),$t(this,"remove",jt=>{const Ft=Ot(Dt({},H_(jt)),{annotation:jt});this.spatial_index.remove(Ft,(Gt,tn)=>Gt.annotation.id===tn.annotation.id)}),this.env=Pt,this.spatial_index=new fx}}const _x=(Nt,Pt)=>{const jt=Ab(Pt,".a9s-annotation")?Pt:Pt.querySelector(".a9s-annotation"),{canvas:Ft}=Nt.drawer,Gt=Ft.getBoundingClientRect(),tn=Ft.width/Gt.width,fn=Ft.height/Gt.height,Cn=jt.getBoundingClientRect(),Fn=Cn.x-Gt.x,Hn=Cn.y-Gt.y,{width:jn,height:Sr}=Cn,$r=document.createElement("CANVAS"),Yr=$r.getContext("2d");$r.width=jn,$r.height=Sr,Yr.drawImage(Ft,Fn*tn,Hn*fn,jn*tn,Sr*fn,0,0,jn,Sr);const si=Nt.viewport.viewportToImageCoordinates(Cn.x,Cn.y),ki=Nt.viewport.viewportToImageZoom(Nt.viewport.getZoom());return{snippet:$r,transform:Mi=>{const Vi=si.x+Mi[0]/tn/ki,Ki=si.y+Mi[1]/fn/ki;return[Vi,Ki]}}},wx=Lb();class V_ extends Xo{constructor(Pt){super(),$t(this,"_getShapeAt",Ft=>{const Gt=Fn=>{const Hn=this.svg.createSVGPoint();if(window.TouchEvent&&Fn instanceof TouchEvent){const jn=this.svg.getBoundingClientRect(),Sr=Fn.touches[0],$r=Sr.clientX-jn.x,Yr=Sr.clientY-jn.y,{left:si,top:ki}=this.svg.getBoundingClientRect();return Hn.x=$r+si,Hn.y=Yr+ki,Hn.matrixTransform(this.g.getScreenCTM().inverse())}else return Hn.x=Fn.offsetX,Hn.y=Fn.offsetY,Hn.matrixTransform(this.g.getCTM().inverse())},{x:tn,y:fn}=Gt(Ft),Cn=this.store.getAnnotationAt(tn,fn,this.currentScale());if(Cn)return this.findShape(Cn)}),$t(this,"_initDrawingTools",Ft=>{this.tools=new sx(this.g,this.config,this.env),this.tools.on("complete",this.onDrawingComplete);let Gt=!1;this.mouseTracker=new Xt.default.MouseTracker({element:this.svg,pressHandler:tn=>{this.tools.current.isDrawing||(this.tools.current.start(tn.originalEvent,this.drawOnSingleClick&&!this.hoveredShape),Ft||this.scaleTool(this.tools.current))},moveHandler:tn=>{if(this.tools.current.isDrawing){const{x:fn,y:Cn}=this.tools.current.getSVGPoint(tn.originalEvent);this.tools.current.onMouseMove(fn,Cn,tn.originalEvent),Gt||(this.emit("startSelection",{x:fn,y:Cn}),Gt=!0)}},releaseHandler:tn=>{if(this.tools.current.isDrawing){const{x:fn,y:Cn}=this.tools.current.getSVGPoint(tn.originalEvent);this.tools.current.onMouseUp(fn,Cn,tn.originalEvent)}Gt=!1}}).setTracking(!1),this.onKeyDown&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyUp&&document.removeEventListener("keydown",this.onKeyDown),this.onKeyDown=tn=>{tn.which===16&&!this.selectedShape&&this.mouseTracker.setTracking(!this.readOnly)},this.onKeyUp=tn=>{tn.which===16&&!this.tools.current.isDrawing&&this.mouseTracker.setTracking(!1)},document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp)}),$t(this,"_initMouseEvents",()=>{let Ft=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom;this.svg.addEventListener("mousemove",fn=>{var Cn,Fn;if(!((Cn=this.tools)!=null&&Cn.current.isDrawing)&&!fn.target.closest(".a9s-annotation.editable.selected")){const Hn=this._getShapeAt(fn);if((Hn==null?void 0:Hn.annotation)!==((Fn=this.hoveredShape)==null?void 0:Fn.annotation)){if(this.hoveredShape){this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=Ft;const jn=this.hoveredShape.element||this.hoveredShape;U2(jn,"hover"),this.emit("mouseLeaveAnnotation",this.hoveredShape.annotation,this.hoveredShape)}Hn&&(Ft=this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom,this.viewer.gestureSettingsByDeviceType("mouse").clickToZoom=!1,Cp(Hn,"hover"),this.emit("mouseEnterAnnotation",Hn.annotation,Hn))}this.hoveredShape=Hn}});let Gt=null;new Xt.default.MouseTracker({element:this.viewer.canvas,pressHandler:()=>{Gt=new Date().getTime()}}),this.svg.addEventListener("mousedown",()=>{Gt=new Date().getTime()});const tn=fn=>{var Cn;if(!(((Cn=this.tools.current)==null?void 0:Cn.isDrawing)||this.disableSelect)&&new Date().getTime()-Gt<250){const Fn=fn.target.closest(".a9s-annotation.editable.selected")?this.selectedShape:this._getShapeAt(fn);Fn?this.selectShape(Fn):Fn||(this.deselect(),this.emit("select",{}))}this.disableSelect&&this.emit("clickAnnotation",this.hoveredShape.annotation,this.hoveredShape)};this.svg.addEventListener("click",tn),this.svg.addEventListener("touchstart",tn)}),$t(this,"_refreshNonScalingAnnotations",()=>{const Ft=this.currentScale();Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(Gt=>Gt.setAttribute("transform",`scale(${1/Ft})`))}),$t(this,"addAnnotation",(Ft,Gt)=>{const tn=Gt||this.g,fn=Bb(Ft,this.env.image);return Cp(fn,"a9s-annotation"),fn.setAttribute("data-id",Ft.id),fn.annotation=Ft,tn.appendChild(fn),uv(fn,Ft,this.formatter),this.scaleFormatterElements(fn),fn}),$t(this,"addDrawingTool",Ft=>this.tools.registerTool(Ft)),$t(this,"addOrUpdateAnnotation",(Ft,Gt)=>{var tn,fn;(((tn=this.selectedShape)==null?void 0:tn.annotation)===Ft||((fn=this.selectedShape)==null?void 0:fn.annotation)==Gt)&&this.deselect(),Gt&&this.removeAnnotation(Ft),this.removeAnnotation(Ft);const Cn=this.addAnnotation(Ft);Ab(Cn,"a9s-non-scaling")&&Cn.setAttribute("transform",`scale(${1/this.currentScale()})`),this.store.insert(Ft)}),$t(this,"currentScale",()=>{const Ft=this.viewer.viewport.getContainerSize().x;return this.viewer.viewport.getZoom(!0)*Ft/this.viewer.world.getContentFactor()}),$t(this,"deselect",()=>{var Ft;if((Ft=this.tools)==null||Ft.current.stop(),this.selectedShape){const{annotation:Gt}=this.selectedShape;if(this.selectedShape.destroy&&(this.selectedShape.mouseTracker.destroy(),this.selectedShape.destroy(),!Gt.isSelection)){const tn=this.addAnnotation(Gt);Ab(tn,"a9s-non-scaling")&&tn.setAttribute("transform",`scale(${1/this.currentScale()})`)}this.selectedShape=null}}),$t(this,"destroy",()=>{this.deselect(),this.svg.parentNode.removeChild(this.svg)}),$t(this,"findShape",Ft=>{const Gt=Ft!=null&&Ft.id?Ft.id:Ft;return this.g.querySelector(`.a9s-annotation[data-id="${Gt}"]`)}),$t(this,"fitBounds",(Ft,Gt)=>{const tn=this.findShape(Ft);if(tn){const{x:fn,y:Cn,width:Fn,height:Hn}=tn.getBBox(),jn=this.viewer.viewport.imageToViewportRectangle(fn,Cn,Fn,Hn);this.viewer.viewport.fitBounds(jn,Gt)}}),$t(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(Ft=>Ft.annotation)),$t(this,"getSelectedImageSnippet",()=>{var Ft;if(this.selectedShape){const Gt=(Ft=this.selectedShape.element)!=null?Ft:this.selectedShape;return _x(this.viewer,Gt)}}),$t(this,"init",Ft=>{this.deselect(),Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(Gt=>this.g.removeChild(Gt)),console.time("Took"),console.log("Drawing..."),this.loaded||(this.g.style.display="none"),Ft.forEach(Gt=>this.addAnnotation(Gt)),console.log("Indexing..."),this.store.insert(Ft),console.timeEnd("Took"),this.resize()}),$t(this,"listDrawingTools",()=>this.tools.listTools()),$t(this,"overrideId",(Ft,Gt)=>{const tn=this.findShape(Ft);tn.setAttribute("data-id",Gt);const{annotation:fn}=tn,Cn=fn.clone({id:Gt});return tn.annotation=Cn,this.store.remove(fn),this.store.insert(Cn),Cn}),$t(this,"panTo",(Ft,Gt)=>{const tn=this.findShape(Ft);if(tn){const{top:fn,left:Cn,width:Fn,height:Hn}=tn.getBoundingClientRect(),jn=Cn+Fn/2+window.scrollX,Sr=fn+Hn/2+window.scrollY,$r=this.viewer.viewport.windowToViewportCoordinates(new Xt.default.Point(jn,Sr));this.viewer.viewport.panTo($r,Gt)}}),$t(this,"removeAnnotation",Ft=>{var Gt,tn;const fn=Ft.type?Ft.id:Ft;((Gt=this.selectedShape)==null?void 0:Gt.annotation.id)===fn&&this.deselect();const Cn=this.findShape(Ft);if(Cn){const{annotation:Fn}=Cn;((tn=this.selectedShape)==null?void 0:tn.annotation)===Fn&&this.deselect(),Cn.parentNode.removeChild(Cn),this.store.remove(Fn)}}),$t(this,"removeDrawingTool",Ft=>{var Gt;return(Gt=this.tools)==null?void 0:Gt.unregisterTool(Ft)}),$t(this,"scaleFormatterElements",Ft=>{const Gt=1/this.currentScale();if(Ft){const tn=Ft.querySelector(".a9s-formatter-el");tn&&tn.firstChild.setAttribute("transform",`scale(${Gt})`)}else Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(tn=>tn.firstChild.setAttribute("transform",`scale(${Gt})`))}),$t(this,"scaleTool",Ft=>{if(Ft){const Gt=1/this.currentScale();Ft.scale=Gt,Ft.onScaleChanged&&Ft.onScaleChanged(Gt)}}),$t(this,"selectAnnotation",(Ft,Gt)=>{this.selectedShape&&this.deselect();const tn=this.findShape(Ft);if(tn){this.selectShape(tn,Gt);const fn=this.selectedShape.element?this.selectedShape.element:this.selectedShape;return{annotation:tn.annotation,element:fn}}else this.deselect()}),$t(this,"selectShape",(Ft,Gt)=>{var tn;if(!Gt&&!Ft.annotation.isSelection&&this.emit("clickAnnotation",Ft.annotation,Ft),((tn=this.selectedShape)==null?void 0:tn.annotation)===Ft.annotation)return;this.selectedShape&&this.selectedShape.annotation!==Ft.annotation&&this.deselect();const{annotation:fn}=Ft;if(this.readOnly||fn.readOnly||this.headless)this.selectedShape=Ft,Gt||this.emit("select",{annotation:fn,element:Ft,skipEvent:Gt});else{const Cn=this.tools.forAnnotation(fn);if(Cn){setTimeout(()=>{Ft.parentNode.removeChild(Ft),Gt||this.emit("select",{annotation:fn,element:this.selectedShape.element})},1),this.selectedShape=Cn.createEditableShape(fn),this.scaleTool(this.selectedShape),this.scaleFormatterElements(this.selectedShape.element),this.selectedShape.element.annotation=fn;const Fn=new Xt.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",()=>{this.hoveredShape=this.selectedShape,Fn.setTracking(!0)}),this.selectedShape.element.addEventListener("mouseleave",()=>{this.hoveredShape=null,Fn.setTracking(!1)}),this.selectedShape.mouseTracker=Fn,this.selectedShape.on("update",Hn=>this.emit("updateTarget",this.selectedShape.element,Hn))}else this.selectedShape=Ft,Gt||this.emit("select",{annotation:fn,element:this.selectedShape})}}),$t(this,"setDrawingEnabled",Ft=>{var Gt;return(Gt=this.mouseTracker)==null?void 0:Gt.setTracking(Ft&&!this.readOnly)}),$t(this,"setDrawingTool",Ft=>{var Gt;this.tools&&((Gt=this.tools.current)==null||Gt.stop(),this.tools.setCurrent(Ft))}),$t(this,"setVisible",Ft=>{Ft?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),$t(this,"stopDrawing",()=>{var Ft,Gt;return(Gt=(Ft=this.tools)==null?void 0:Ft.current)==null?void 0:Gt.stop()}),this.viewer=Pt.viewer,this.config=Pt.config,this.env=Pt.env,this.readOnly=Pt.config.readOnly,this.headless=Pt.config.headless,this.formatter=Pt.config.formatter,this.disableSelect=Pt.disableSelect,this.drawOnSingleClick=Pt.config.drawOnSingleClick,this.svg=document.createElementNS(gs,"svg"),wx?(this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer touch"),q2(this.svg)):this.svg.setAttribute("class","a9s-annotationlayer a9s-osd-annotationlayer"),this.g=document.createElementNS(gs,"g"),this.svg.appendChild(this.g),this.viewer.canvas.appendChild(this.svg),this.viewer.addHandler("animation",()=>this.resize()),this.viewer.addHandler("rotate",()=>this.resize()),this.viewer.addHandler("resize",()=>this.resize()),this.viewer.addHandler("flip",()=>this.resize()),this.loaded=!1;const jt=()=>{const{x:Ft,y:Gt}=this.viewer.world.getItemAt(0).source.dimensions;this.env.image={src:this.viewer.world.getItemAt(0).source["@id"]||new URL(this.viewer.world.getItemAt(0).source.url,document.baseURI).href,naturalWidth:Ft,naturalHeight:Gt},Pt.config.crosshair&&(this.crosshair=new lx(this.g,Ft,Gt),Cp(this.svg,"has-crosshair")),this.loaded=!0,this.g.style.display="inline",this.resize()};this.viewer.addHandler("open",jt),this.viewer.world.addHandler("add-item",jt),this.viewer.world.getItemAt(0)&&jt(),this.store=new bx(this.env),this.selectedShape=null,this.hoveredShape=null,this._initMouseEvents()}resize(){var Pt;const jt=this.viewer.viewport.getFlip(),Ft=this.viewer.viewport.pixelFromPoint(new Xt.default.Point(0,0),!0);jt&&(Ft.x=this.viewer.viewport._containerInnerSize.x-Ft.x);const Gt=this.currentScale(),tn=jt?-Gt:Gt,fn=this.viewer.viewport.getRotation();this.g.setAttribute("transform",`translate(${Ft.x}, ${Ft.y}) scale(${tn}, ${Gt}) rotate(${fn})`),this._refreshNonScalingAnnotations(),this.scaleFormatterElements(),this.selectedShape&&(this.selectedShape.element?(this.scaleTool(this.selectedShape),this.emit("viewportChange",this.selectedShape.element)):this.emit("viewportChange",this.selectedShape)),(Pt=this.tools)!=null&&Pt.current.isDrawing&&this.scaleTool(this.tools.current)}}class xx extends V_{constructor(Pt){super(Pt),$t(this,"onDrawingComplete",jt=>{this.selectShape(jt),this.emit("createSelection",jt.annotation),this.mouseTracker.setTracking(!1)}),this._initDrawingTools()}}const Ub=Nt=>{const Pt=Nt.viewport.viewportToImageRectangle(Nt.viewport.getBounds(!0)),jt=Nt.viewport.getContainerSize().x,Ft=Nt.viewport.getZoom(!0)*jt/Nt.world.getContentFactor();return{extent:Pt,scale:Ft}},Ex=Nt=>{var Pt;const jt=Nt.targets[0];return jt?Array.isArray(jt.selector)?jt.selector[0].type:(Pt=jt.selector)==null?void 0:Pt.type:null},Y_=(Nt,Pt)=>{const{extent:jt,scale:Ft}=Ub(Nt),{selector:Gt}=Pt,tn=Ng.create({target:Pt});if(Gt.type==="SvgSelector"){const fn=zm(tn),Cn=fn.nodeName.toLowerCase();let Fn=null;if(Cn==="polygon")Fn=Tx(fn,jt,Ft);else if(Cn==="circle")Fn=Mx(fn,jt,Ft);else if(Cn==="ellipse")Fn=Sx(fn,jt,Ft);else if(Cn==="path")Fn=kx(fn,jt,Ft);else throw`Unsupported SVG shape type: ${Cn}`;let Hn=Fn.outerHTML||new XMLSerializer().serializeToString(Fn);return Hn=Hn.replace(` xmlns="${gs}"`,""),Ot(Dt({},Pt),{selector:{type:"SvgSelector",value:`<svg>${Hn}</svg>`}})}else if(Gt.type==="FragmentSelector"){const{x:fn,y:Cn,w:Fn,h:Hn}=Dg(tn),jn=jt.x+fn/Ft,Sr=jt.y+Cn/Ft,$r=Fn/Ft,Yr=Hn/Ft;return h1(jn,Sr,$r,Yr)}else throw`Unsupported selector type: ${Gt.type}`},Tx=(Nt,Pt,jt)=>{const Ft=Array.from(Nt.points).map(Gt=>{const tn=Pt.x+Gt.x/jt,fn=Pt.y+Gt.y/jt;return tn+","+fn}).join(" ");return Nt.setAttribute("points",Ft),Nt},Mx=(Nt,Pt,jt)=>{const Ft=parseFloat(Nt.getAttribute("cx")),Gt=parseFloat(Nt.getAttribute("cy")),tn=parseFloat(Nt.getAttribute("r"));return Nt.setAttribute("cx",Pt.x+Ft/jt),Nt.setAttribute("cy",Pt.y+Gt/jt),Nt.setAttribute("r",tn/jt),Nt},Sx=(Nt,Pt,jt)=>{const Ft=parseFloat(Nt.getAttribute("cx")),Gt=parseFloat(Nt.getAttribute("cy")),tn=parseFloat(Nt.getAttribute("rx")),fn=parseFloat(Nt.getAttribute("ry"));return Nt.setAttribute("cx",Pt.x+Ft/jt),Nt.setAttribute("cy",Pt.y+Gt/jt),Nt.setAttribute("rx",tn/jt),Nt.setAttribute("ry",fn/jt),Nt},kx=(Nt,Pt,jt)=>{const Ft=Nt.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Gt=>Gt.trim()).map(Gt=>{const tn=Gt.substring(0,1);if(tn.toLowerCase()==="z")return tn;{const fn=Gt.substring(1).split(" ").map(jn=>parseFloat(jn.trim())),Cn=tn===tn.toUpperCase(),Fn=Cn?Pt.x+fn[0]/jt:fn[0]/jt,Hn=Cn?Pt.y+fn[1]/jt:fn[1]/jt;return tn+" "+Fn+" "+Hn}}).join(" ");return Nt.setAttribute("d",Ft),Nt},G_=(Nt,Pt)=>{const{extent:jt,scale:Ft}=Ub(Nt),Gt=Pt.selector("FragmentSelector");if(Pt.selector("SvgSelector")){const tn=zm(Pt),fn=tn.nodeName.toLowerCase();let Cn=null;if(fn==="polygon")Cn=Cx(tn,jt,Ft);else if(fn==="circle")Cn=Ax(tn,jt,Ft);else if(fn==="ellipse")Cn=Nx(tn,jt,Ft);else if(fn==="path")Cn=Dx(tn,jt,Ft);else throw`Unsupported SVG shape type: ${fn}`;let Fn=Cn.outerHTML||new XMLSerializer().serializeToString(Cn);Fn=Fn.replace(` xmlns="${gs}"`,"");const Hn={selector:{type:"SvgSelector",value:`<svg>${Fn}</svg>`}};return Pt.clone({target:Hn})}else if(Gt){const{x:tn,y:fn,w:Cn,h:Fn}=Dg(Pt),Hn=(tn-jt.x)*Ft,jn=(fn-jt.y)*Ft,Sr=h1(Hn,jn,Cn*Ft,Fn*Ft);return Pt.clone({target:Sr})}},Cx=(Nt,Pt,jt)=>{const Ft=Array.from(Nt.points).map(Gt=>{const tn=jt*(Gt.x-Pt.x),fn=jt*(Gt.y-Pt.y);return tn+","+fn}).join(" ");return Nt.setAttribute("points",Ft),Nt},Ax=(Nt,Pt,jt)=>{const Ft=Nt.getAttribute("cx"),Gt=Nt.getAttribute("cy"),tn=Nt.getAttribute("r");return Nt.setAttribute("cx",jt*(Ft-Pt.x)),Nt.setAttribute("cy",jt*(Gt-Pt.y)),Nt.setAttribute("r",tn*jt),Nt},Nx=(Nt,Pt,jt)=>{const Ft=Nt.getAttribute("cx"),Gt=Nt.getAttribute("cy"),tn=Nt.getAttribute("rx"),fn=Nt.getAttribute("ry");return Nt.setAttribute("cx",jt*(Ft-Pt.x)),Nt.setAttribute("cy",jt*(Gt-Pt.y)),Nt.setAttribute("rx",tn*jt),Nt.setAttribute("ry",fn*jt),Nt},Dx=(Nt,Pt,jt)=>{const Ft=Nt.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(Gt=>Gt.trim()).map(Gt=>{const tn=Gt.substring(0,1);if(tn.toLowerCase()==="z")return tn;{const fn=Gt.substring(1).split(" ").filter(jn=>jn).map(jn=>parseFloat(jn.trim())),Cn=tn===tn.toUpperCase(),Fn=Cn?jt*(fn[0]-Pt.x):jt*fn[0],Hn=Cn?jt*(fn[1]-Pt.y):jt*fn[1];return tn+" "+Fn+" "+Hn}}).join(" ");return Nt.setAttribute("d",Ft),Nt},W_=(Nt,Pt)=>{const{extent:jt,scale:Ft}=Ub(Nt),Gt=Ex(Pt.annotation);if(Gt==="FragmentSelector")Ix(Pt,jt,Ft);else if(Gt==="SvgSelector")Lx(Pt,jt,Ft);else throw`Unsupported selector type type: ${Gt}`},Ix=(Nt,Pt,jt)=>{const{x:Ft,y:Gt,w:tn,h:fn}=Dg(Nt.annotation),Cn=Nt.querySelector(".a9s-outer"),Fn=Nt.querySelector(".a9s-inner"),Hn=jt*(Ft-Pt.x),jn=jt*(Gt-Pt.y);tn===0&&fn===0?[Cn,Fn].forEach(Sr=>{Sr.setAttribute("cx",Hn),Sr.setAttribute("cy",jn)}):[Cn,Fn].forEach(Sr=>{Sr.setAttribute("x",Hn),Sr.setAttribute("y",jn),Sr.setAttribute("width",tn*jt),Sr.setAttribute("height",fn*jt)})},Lx=(Nt,Pt,jt)=>{const Ft=zm(Nt.annotation),Gt=Ft.nodeName.toLowerCase();if(Gt==="polygon")Ox(Nt,Ft,Pt,jt);else if(Gt==="circle")Px(Nt,Ft,Pt,jt);else if(Gt==="ellipse")Rx(Nt,Ft,Pt,jt);else if(Gt==="path")zx(Nt,Ft,Pt,jt);else throw`Unsupported SVG shape type: ${Gt}`},Ox=(Nt,Pt,jt,Ft)=>{const Gt=Array.from(Pt.points).map(tn=>{const fn=Ft*(tn.x-jt.x),Cn=Ft*(tn.y-jt.y);return fn+","+Cn}).join(" ");Nt.querySelector(".a9s-outer").setAttribute("points",Gt),Nt.querySelector(".a9s-inner").setAttribute("points",Gt)},Px=(Nt,Pt,jt,Ft)=>{const Gt=Ft*(Pt.getAttribute("cx")-jt.x),tn=Ft*(Pt.getAttribute("cy")-jt.y),fn=Ft*Pt.getAttribute("r"),Cn=Nt.querySelector(".a9s-outer");Cn.setAttribute("cx",Gt),Cn.setAttribute("cy",tn),Cn.setAttribute("r",fn);const Fn=Nt.querySelector(".a9s-inner");Fn.setAttribute("cx",Gt),Fn.setAttribute("cy",tn),Fn.setAttribute("r",fn)},Rx=(Nt,Pt,jt,Ft)=>{const Gt=Ft*(Pt.getAttribute("cx")-jt.x),tn=Ft*(Pt.getAttribute("cy")-jt.y),fn=Ft*Pt.getAttribute("rx"),Cn=Ft*Pt.getAttribute("ry"),Fn=Nt.querySelector(".a9s-outer");Fn.setAttribute("cx",Gt),Fn.setAttribute("cy",tn),Fn.setAttribute("rx",fn),Fn.setAttribute("ry",Cn);const Hn=Nt.querySelector(".a9s-inner");Hn.setAttribute("cx",Gt),Hn.setAttribute("cy",tn),Hn.setAttribute("rx",fn),Hn.setAttribute("ry",Cn)},zx=(Nt,Pt,jt,Ft)=>{const Gt=Pt.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(tn=>tn.trim()).map(tn=>{const fn=tn.substring(0,1);if(fn.toLowerCase()==="z")return fn;{const Cn=tn.substring(1).split(" ").filter(Sr=>Sr).map(Sr=>parseFloat(Sr.trim())),Fn=fn===fn.toUpperCase(),Hn=Fn?Ft*(Cn[0]-jt.x):Ft*Cn[0],jn=Fn?Ft*(Cn[1]-jt.y):Ft*Cn[1];return fn+" "+Hn+" "+jn}}).join(" ");Nt.querySelector(".a9s-inner").setAttribute("d",Gt),Nt.querySelector(".a9s-outer").setAttribute("d",Gt)},$x=Lb();class Bx extends V_{constructor(Pt){super(Pt),$t(this,"onDrawingComplete",jt=>{const Ft=jt.annotation.clone({target:Y_(this.viewer,jt.annotation.target)});jt.annotation=Ft,this.selectShape(jt),this.emit("createSelection",jt.annotation),this.mouseTracker.setTracking(!1)}),$t(this,"addAnnotation",(jt,Ft)=>{const Gt=Ft||this.g,tn=Bb(jt,this.env.image);return Cp(tn,"a9s-annotation"),tn.setAttribute("data-id",jt.id),tn.annotation=jt,W_(this.viewer,tn),Gt.appendChild(tn),uv(tn,jt,this.formatter),tn}),$t(this,"_getShapeAt",jt=>{const Ft=Fn=>{if($x){const Hn=this.svg.getBoundingClientRect(),jn=Fn.clientX-Hn.x,Sr=Fn.clientY-Hn.y;return new Xt.default.Point(jn,Sr)}else return new Xt.default.Point(Fn.offsetX,Fn.offsetY)},Gt=this.viewer.viewport.viewerElementToViewportCoordinates(Ft(jt)),{x:tn,y:fn}=this.viewer.viewport.viewportToImageCoordinates(Gt.x,Gt.y),Cn=this.store.getAnnotationAt(tn,fn,this.currentScale());if(Cn)return this.findShape(Cn)}),$t(this,"selectShape",(jt,Ft)=>{var Gt;if(!Ft&&!jt.annotation.isSelection&&this.emit("clickAnnotation",jt.annotation,jt),((Gt=this.selectedShape)==null?void 0:Gt.annotation)===jt.annotation)return;this.selectedShape&&this.selectedShape.annotation!==jt.annotation&&this.deselect(!0);const{annotation:tn}=jt;if(this.readOnly||tn.readOnly||this.headless)this.selectedShape=jt,Ft||this.emit("select",{annotation:tn,element:jt,skipEvent:Ft});else{setTimeout(()=>{jt.parentNode.removeChild(jt),Ft||this.emit("select",{annotation:tn,element:this.selectedShape.element})},1);const fn=this.tools.forAnnotation(tn);this.selectedShape=fn.createEditableShape(tn),this.selectedShape.element.annotation=tn;const Cn=G_(this.viewer,tn);this.selectedShape.updateState(Cn);const Fn=new Xt.default.MouseTracker({element:this.svg}).setTracking(!0);this.selectedShape.element.addEventListener("mouseenter",Hn=>Fn.setTracking(!0)),this.selectedShape.element.addEventListener("mouseleave",Hn=>Fn.setTracking(!1)),this.selectedShape.mouseTracker=Fn,this.selectedShape.on("update",Hn=>{const jn=Y_(this.viewer,Hn);this.selectedShape.element.annotation=this.selectedShape.annotation.clone({target:jn}),this.emit("updateTarget",this.selectedShape.element,jn)})}}),this._initDrawingTools(!0)}resize(){const Pt=this.viewer.viewport.getBounds(!0),{x:jt,y:Ft,width:Gt,height:tn}=this.viewer.viewport.viewportToImageRectangle(Pt),fn={minX:jt,minY:Ft,maxX:jt+Gt,maxY:Ft+tn},Cn=new Set(this.store.getAnnotationsIntersecting(fn).map(Fn=>Fn.id));if(Cn.size>0&&Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")).forEach(Fn=>{Cn.has(Fn.annotation.id)?(Fn.removeAttribute("visibility"),W_(this.viewer,Fn)):Fn.hasAttribute("visibility")||Fn.setAttribute("visibility","hidden")}),this.selectedShape)if(this.selectedShape.element){const Fn=G_(this.viewer,this.selectedShape.element.annotation);this.selectedShape.updateState&&this.selectedShape.updateState(Fn),this.emit("viewportChange",this.selectedShape.element)}else this.emit("viewportChange",this.selectedShape)}}class jx extends xn{constructor(Pt){super(Pt),$t(this,"clearState",jt=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},jt)),$t(this,"forwardEvent",(jt,Ft)=>{this.annotationLayer.on(jt,(Gt,tn)=>{this.props[Ft](Gt.clone(),tn)})}),$t(this,"escapeKeyCancel",jt=>{if(jt.which===27){this.annotationLayer.stopDrawing();const{selectedAnnotation:Ft}=this.state;Ft&&(this.cancelSelected(),this.props.onCancelSelected(Ft))}}),$t(this,"handleStartSelect",jt=>this.props.onSelectionStarted(jt)),$t(this,"handleSelect",(jt,Ft)=>{this.state.editorDisabled?this.onHeadlessSelect(jt,Ft):this.onNormalSelect(jt,Ft)}),$t(this,"onNormalSelect",(jt,Ft)=>{const{annotation:Gt,element:tn}=jt;if(Gt){const fn=()=>{this.setState({selectedAnnotation:Gt,selectedDOMElement:tn,modifiedTarget:null},()=>{Ft||(Gt.isSelection?this.props.onSelectionCreated(Gt.clone()):this.props.onAnnotationSelected(Gt.clone(),tn))})},{selectedAnnotation:Cn}=this.state;Cn&&!Cn.isEqual(Gt)?this.clearState(()=>{this.props.onCancelSelected(Cn),fn()}):fn()}else{const{selectedAnnotation:fn}=this.state;fn?this.clearState(()=>this.props.onCancelSelected(fn)):this.clearState()}}),$t(this,"onHeadlessSelect",(jt,Ft)=>{this.saveSelected().then(()=>{this.onNormalSelect(jt,Ft)})}),$t(this,"handleUpdateTarget",(jt,Ft)=>{this.setState({selectedDOMElement:jt,modifiedTarget:Ft});const Gt=JSON.parse(JSON.stringify(Ft));this.props.onSelectionTargetChanged(Gt)}),$t(this,"handleViewportChange",jt=>this.setState({selectedDOMElement:jt})),$t(this,"overrideAnnotationId",jt=>Ft=>{const{id:Gt}=jt;this.state.selectedAnnotation?this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null},()=>{this.annotationLayer.overrideId(Gt,Ft)}):this.annotationLayer.overrideId(Gt,Ft)}),$t(this,"onCreateOrUpdateAnnotation",(jt,Ft)=>(Gt,tn)=>{let fn=Gt.isSelection?Gt.toAnnotation():Gt;fn=this.state.modifiedTarget?fn.clone({target:this.state.modifiedTarget}):fn.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(fn,tn),tn?this.props[jt](fn,tn.clone()):this.props[jt](fn,this.overrideAnnotationId(Gt)),Ft&&Ft()})}),$t(this,"onDeleteAnnotation",jt=>{this.clearState(),this.annotationLayer.removeAnnotation(jt),this.props.onAnnotationDeleted(jt)}),$t(this,"onCancelAnnotation",(jt,Ft)=>{this.state.editorDisabled||this.annotationLayer.deselect(),this.props.onCancelSelected(jt),this.clearState(Ft)}),$t(this,"addAnnotation",jt=>{var Ft;jt.id===((Ft=this.state.selectedAnnotation)==null?void 0:Ft.id)&&(this.annotationLayer.deselect(),this.clearState()),this.annotationLayer.addOrUpdateAnnotation(jt.clone())}),$t(this,"addDrawingTool",jt=>this.annotationLayer.addDrawingTool(jt)),$t(this,"cancelSelected",()=>new Promise(jt=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(jt):jt()})),$t(this,"fitBounds",(jt,Ft)=>this.annotationLayer.fitBounds(jt,Ft)),$t(this,"getAnnotationById",jt=>{var Ft;return(Ft=this.annotationLayer.findShape(jt))==null?void 0:Ft.annotation}),$t(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(jt=>jt.clone())),$t(this,"getSelected",()=>{var jt;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:(jt=this._editor.current)==null?void 0:jt.getCurrentAnnotation()}),$t(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),$t(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),$t(this,"panTo",(jt,Ft)=>this.annotationLayer.panTo(jt,Ft)),$t(this,"removeAnnotation",jt=>this.annotationLayer.removeAnnotation(jt)),$t(this,"removeDrawingTool",jt=>this.annotationLayer.removeDrawingTool(jt)),$t(this,"saveSelected",()=>new Promise(jt=>{const Ft=this.state.selectedAnnotation;if(Ft)if(Ft.isSelection)Ft.bodies.length>0||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",jt)(Ft,Ft):(this.annotationLayer.deselect(),jt());else{const{beforeHeadlessModify:Gt,modifiedTarget:tn}=this.state;Gt?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",jt)(Ft,Gt):tn?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",jt)(Ft,Ft):this.onCancelAnnotation(Ft,jt)}else jt()})),$t(this,"selectAnnotation",jt=>{const Ft=this.annotationLayer.selectAnnotation(jt,!0);if(Ft)return this.handleSelect(Ft,!0),Ft.annotation.clone();this.clearState()}),$t(this,"setAnnotations",jt=>this.annotationLayer.init(jt.map(Ft=>Ft.clone()))),$t(this,"setDrawingEnabled",jt=>this.annotationLayer.setDrawingEnabled(jt)),$t(this,"setDrawingTool",jt=>this.annotationLayer.setDrawingTool(jt)),$t(this,"setVisible",jt=>{this.annotationLayer.setVisible(jt),jt||this.clearState()}),$t(this,"updateSelected",(jt,Ft)=>new Promise(Gt=>{this.state.selectedAnnotation&&(Ft?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",Gt)(jt):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",Gt)(jt,this.state.selectedAnnotation):this.setState({selectedAnnotation:jt,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},Gt))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:Pt.config.readOnly,editorDisabled:Pt.config.disableEditor,widgets:Pt.config.widgets,beforeHeadlessModify:null},this._editor=Gi.createRef()}componentDidMount(){this.annotationLayer=this.props.config.gigapixelMode?new Bx(this.props):new xx(this.props),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.annotationLayer.on("viewportChange",this.handleViewportChange),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),this.forwardEvent("clickAnnotation","onClickAnnotation"),document.addEventListener("keyup",this.escapeKeyCancel)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.escapeKeyCancel)}get disableEditor(){return this.state.editorDisabled}set disableEditor(Pt){this.setState({editorDisabled:Pt},()=>{Pt?document.addEventListener("keyup",this.escapeKeyCancel):document.removeEventListener("keyup",this.escapeKeyCancel)})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(Pt){this.annotationLayer.disableSelect=Pt}get readOnly(){return this.state.readOnly}set readOnly(Pt){this.annotationLayer.readOnly=Pt,this.setState({readOnly:Pt})}get widgets(){return this.state.widgets}set widgets(Pt){this.setState({widgets:Pt})}render(){var Pt;const jt=this.state.selectedAnnotation&&!this.state.editorDisabled,Ft=this.state.readOnly||((Pt=this.state.selectedAnnotation)==null?void 0:Pt.readOnly);return jt&&gn(N2,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:Ft,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class Fx{constructor(Pt,jt){$t(this,"handleAnnotationCreated",(Gt,tn)=>this._emitter.emit("createAnnotation",Gt.underlying,tn)),$t(this,"handleAnnotationDeleted",Gt=>this._emitter.emit("deleteAnnotation",Gt.underlying)),$t(this,"handleAnnotationSelected",(Gt,tn)=>this._emitter.emit("selectAnnotation",Gt.underlying,tn)),$t(this,"handleAnnotationUpdated",(Gt,tn)=>this._emitter.emit("updateAnnotation",Gt.underlying,tn.underlying)),$t(this,"handleCancelSelected",Gt=>this._emitter.emit("cancelSelected",Gt.underlying)),$t(this,"handleClickAnnotation",(Gt,tn)=>this._emitter.emit("clickAnnotation",Gt.underlying,tn)),$t(this,"handleSelectionCreated",Gt=>this._emitter.emit("createSelection",Gt.underlying)),$t(this,"handleSelectionStarted",Gt=>this._emitter.emit("startSelection",Gt)),$t(this,"handleSelectionTargetChanged",Gt=>this._emitter.emit("changeSelectionTarget",Gt)),$t(this,"handleMouseEnterAnnotation",(Gt,tn)=>this._emitter.emit("mouseEnterAnnotation",Gt.underlying,tn)),$t(this,"handleMouseLeaveAnnotation",(Gt,tn)=>this._emitter.emit("mouseLeaveAnnotation",Gt.underlying,tn)),$t(this,"_wrap",Gt=>(Gt==null?void 0:Gt.type)==="Annotation"?new Ng(Gt):Gt),$t(this,"addAnnotation",Gt=>this._app.current.addAnnotation(new Ng(Gt))),$t(this,"addDrawingTool",Gt=>this._app.current.addDrawingTool(Gt)),$t(this,"cancelSelected",()=>this._app.current.cancelSelected()),$t(this,"clearAnnotations",()=>this.setAnnotations([])),$t(this,"clearAuthInfo",()=>this._env.user=null),$t(this,"destroy",()=>Gi.unmountComponentAtNode(this.appContainerEl)),$t(this,"fitBounds",(Gt,tn)=>this._app.current.fitBounds(this._wrap(Gt),tn)),$t(this,"getAnnotationById",Gt=>{const tn=this._app.current.getAnnotationById(Gt);return tn==null?void 0:tn.underlying}),$t(this,"getAnnotations",()=>this._app.current.getAnnotations().map(Gt=>Gt.underlying)),$t(this,"getSelected",()=>{const Gt=this._app.current.getSelected();return Gt==null?void 0:Gt.underlying}),$t(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),$t(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),$t(this,"loadAnnotations",Gt=>fetch(Gt).then(tn=>tn.json()).then(tn=>(this.setAnnotations(tn),tn))),$t(this,"off",(Gt,tn)=>this._emitter.off(Gt,tn)),$t(this,"on",(Gt,tn)=>this._emitter.on(Gt,tn)),$t(this,"once",(Gt,tn)=>this._emitter.once(Gt,tn)),$t(this,"panTo",(Gt,tn)=>this._app.current.panTo(this._wrap(Gt),tn)),$t(this,"removeAnnotation",Gt=>this._app.current.removeAnnotation(this._wrap(Gt))),$t(this,"removeDrawingTool",Gt=>this._app.current.removeDrawingTool(Gt)),$t(this,"saveSelected",()=>this._app.current.saveSelected()),$t(this,"selectAnnotation",Gt=>{const tn=this._app.current.selectAnnotation(this._wrap(Gt));return tn==null?void 0:tn.underlying}),$t(this,"setAnnotations",Gt=>{const tn=(Gt||[]).map(fn=>new Ng(fn));this._app.current.setAnnotations(tn)}),$t(this,"setAuthInfo",Gt=>this._env.user=Gt),$t(this,"setDrawingEnabled",Gt=>this._app.current.setDrawingEnabled(Gt)),$t(this,"setDrawingTool",Gt=>this._app.current.setDrawingTool(Gt)),$t(this,"setServerTime",Gt=>this._env.setServerTime(Gt)),$t(this,"setVisible",Gt=>this._app.current.setVisible(Gt)),$t(this,"updateSelected",(Gt,tn)=>{let fn=null;Gt.type==="Annotation"?fn=new Ng(Gt):Gt.type==="Selection"&&(fn=new u1(Gt.target,Gt.body)),fn&&this._app.current.updateSelected(fn,tn)});const Ft=jt||{};this._app=Gi.createRef(),this._emitter=new Xo,this._env=j2(),this._element=Pt.element,window.getComputedStyle(this._element).getPropertyValue("position")==="static"&&(this._element.style.position="relative"),F2(Ft.locale,Ft.messages),this.appContainerEl=document.createElement("DIV"),this._element.appendChild(this.appContainerEl),Gi.render(gn(jx,{ref:this._app,viewer:Pt,wrapperEl:this._element,config:Ft,env:this._env,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onClickAnnotation:this.handleClickAnnotation,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this.appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(Pt){this._app.current.disableEditor=Pt}get disableSelect(){return this._app.current.disableSelect}set disableSelect(Pt){this._app.current.disableSelect=Pt}get readOnly(){return this._app.current.readOnly}set readOnly(Pt){this._app.current.readOnly=Pt}get widgets(){return this._app.current.widgets}set widgets(Pt){this._app.current.widgets=Pt}}var Ux=(Nt,Pt)=>new Fx(Nt,Pt);return Ux})})(openseadragonAnnotorious_min);const Annotorious=getDefaultExportFromCjs(openseadragonAnnotorious_min.exports);class Annotator{constructor(rt,it="",st=!0){Nc(this,"ghClient");Nc(this,"osd");Nc(this,"base");Nc(this,"acct");Nc(this,"repo");Nc(this,"ref","main");Nc(this,"basePath");Nc(this,"imageId","");Nc(this,"sha","");Nc(this,"annotorious");Nc(this,"visible",!1);Nc(this,"ghAuthToken","");Nc(this,"selected",null);this.osd=rt,this.base=it;let[bt,wt,...Et]=this.base.split("/");this.acct=bt,this.repo=wt,this.basePath=Et.join("/"),this.annotorious=Annotorious(rt,{readOnly:!st}),this.annotorious.on("createAnnotation",async Tt=>this.createAnnotation(Tt)),this.annotorious.on("updateAnnotation",async Tt=>this.updateAnnotation(Tt)),this.annotorious.on("deleteAnnotation",async Tt=>this.deleteAnnotation(Tt)),this.annotorious.on("selectAnnotation",async Tt=>this.onSelect(Tt)),this.setVisible(!0),this.ghAuthToken=localStorage.getItem("gh-auth-token")||"",this.ghAuthToken&&(this.ghClient=new GithubClient(this.ghAuthToken))}async loadAnnotations(rt){this.imageId=rt,this.setVisible(!1);let it=[],st=await this.ghClient.getFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,this.ref);return st.content&&(it=JSON.parse(st.content),this.sha=st.sha),console.log(`Adding ${it.length} annotations`),this.annotorious.setAnnotations(it),this.annotorious.readOnly&&it.forEach(bt=>{let wt=this.annoEl(bt.id);wt&&(wt.addEventListener("mouseenter",()=>this.select(bt.id)),wt.addEventListener("mouseleave",()=>this.deselect()),wt.addEventListener("click",()=>navigator.clipboard.writeText(bt.id)))}),it}setVisible(rt){if(this.selected)this.deselect();else{this.visible=rt;let it=this.osd.element.querySelector(".a9s-annotationlayer");it&&(it.style.visibility=this.visible?"visible":"hidden"),Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(st=>st.style.visibility=this.visible?"visible":"hidden")}}toggleVisibility(rt){rt&&rt.stopPropagation(),this.setVisible(!this.visible)}onSelect(rt){this.selected=rt.id,navigator.clipboard&&navigator.clipboard.writeText(this.selected)}annoEl(rt){return this.osd.element.querySelector(`[data-id="${rt}"]`)}select(rt){var it;if(rt!==((it=this.selected)==null?void 0:it.id)){if(this.deselect(),this.selected=this.annotorious.selectAnnotation(rt),this.selected){let st=this.annoEl(rt);st&&(st.style.visibility="visible");let bt=this.osd.element.querySelector(".a9s-annotation.selected");bt&&(bt.style.visibility="visible")}}else this.deselect()}deselect(){Array.from(this.osd.element.querySelectorAll(".a9s-annotation")).forEach(rt=>rt.style.visibility=this.visible?"visible":"hidden"),this.annotorious.selectAnnotation(),this.selected=void 0}async saveAnnotations(){let rt=JSON.stringify(this.annotorious.getAnnotations(),null,2);await this.ghClient.putFile(this.acct,this.repo,`${this.basePath}/${this.imageId}.json`,rt,this.ref,!1,this.sha)}async createAnnotation(rt){rt.id=sha256(rt.id).slice(0,8),rt.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(rt.id)}async updateAnnotation(rt){rt.target.id=this.imageId,this.saveAnnotations(),navigator.clipboard&&navigator.clipboard.writeText(rt.id)}async deleteAnnotation(rt){this.saveAnnotations()}}var badge_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-flex;
  }

  .badge {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    font-size: max(12px, 0.75em);
    font-weight: var(--sl-font-weight-semibold);
    letter-spacing: var(--sl-letter-spacing-normal);
    line-height: 1;
    border-radius: var(--sl-border-radius-small);
    border: solid 1px var(--sl-color-neutral-0);
    white-space: nowrap;
    padding: 0.35em 0.6em;
    user-select: none;
    cursor: inherit;
  }

  /* Variant modifiers */
  .badge--primary {
    background-color: var(--sl-color-primary-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--success {
    background-color: var(--sl-color-success-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--neutral {
    background-color: var(--sl-color-neutral-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--warning {
    background-color: var(--sl-color-warning-600);
    color: var(--sl-color-neutral-0);
  }

  .badge--danger {
    background-color: var(--sl-color-danger-600);
    color: var(--sl-color-neutral-0);
  }

  /* Pill modifier */
  .badge--pill {
    border-radius: var(--sl-border-radius-pill);
  }

  /* Pulse modifier */
  .badge--pulse {
    animation: pulse 1.5s infinite;
  }

  .badge--pulse.badge--primary {
    --pulse-color: var(--sl-color-primary-600);
  }

  .badge--pulse.badge--success {
    --pulse-color: var(--sl-color-success-600);
  }

  .badge--pulse.badge--neutral {
    --pulse-color: var(--sl-color-neutral-600);
  }

  .badge--pulse.badge--warning {
    --pulse-color: var(--sl-color-warning-600);
  }

  .badge--pulse.badge--danger {
    --pulse-color: var(--sl-color-danger-600);
  }

  @keyframes pulse {
    0% {
      box-shadow: 0 0 0 0 var(--pulse-color);
    }
    70% {
      box-shadow: 0 0 0 0.5rem transparent;
    }
    100% {
      box-shadow: 0 0 0 0 transparent;
    }
  }
`,SlBadge=class extends ShoelaceElement{constructor(){super(...arguments),this.variant="primary",this.pill=!1,this.pulse=!1}render(){return y$2`
      <slot
        part="base"
        class=${o$2({badge:!0,"badge--primary":this.variant==="primary","badge--success":this.variant==="success","badge--neutral":this.variant==="neutral","badge--warning":this.variant==="warning","badge--danger":this.variant==="danger","badge--pill":this.pill,"badge--pulse":this.pulse})}
        role="status"
      ></slot>
    `}};SlBadge.styles=badge_styles_default;__decorateClass([e2$2({reflect:!0})],SlBadge.prototype,"variant",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlBadge.prototype,"pill",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlBadge.prototype,"pulse",2);SlBadge=__decorateClass([e$2("sl-badge")],SlBadge);var image_comparer_styles_default=i$4`
  ${component_styles_default}

  :host {
    --divider-width: 2px;
    --handle-size: 2.5rem;

    display: inline-block;
    position: relative;
  }

  .image-comparer {
    max-width: 100%;
    max-height: 100%;
    overflow: hidden;
  }

  .image-comparer__before,
  .image-comparer__after {
    display: block;
    pointer-events: none;
  }

  .image-comparer__before::slotted(img),
  .image-comparer__after::slotted(img),
  .image-comparer__before::slotted(svg),
  .image-comparer__after::slotted(svg) {
    display: block;
    max-width: 100% !important;
    height: auto;
  }

  .image-comparer__after {
    position: absolute;
    top: 0;
    left: 0;
    height: 100%;
    width: 100%;
  }

  .image-comparer__divider {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    width: var(--divider-width);
    height: 100%;
    background-color: var(--sl-color-neutral-0);
    translate: calc(var(--divider-width) / -2);
    cursor: ew-resize;
  }

  .image-comparer__handle {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: calc(50% - (var(--handle-size) / 2));
    width: var(--handle-size);
    height: var(--handle-size);
    background-color: var(--sl-color-neutral-0);
    border-radius: var(--sl-border-radius-circle);
    font-size: calc(var(--handle-size) * 0.5);
    color: var(--sl-color-neutral-700);
    cursor: inherit;
    z-index: 10;
  }

  .image-comparer__handle:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: var(--sl-focus-ring-offset);
  }
`;function drag(nt,rt){function it(bt){const wt=nt.getBoundingClientRect(),Et=nt.ownerDocument.defaultView,Tt=wt.left+Et.pageXOffset,At=wt.top+Et.pageYOffset,Dt=bt.pageX-Tt,Ot=bt.pageY-At;rt!=null&&rt.onMove&&rt.onMove(Dt,Ot)}function st(){document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",st),rt!=null&&rt.onStop&&rt.onStop()}document.addEventListener("pointermove",it,{passive:!0}),document.addEventListener("pointerup",st),(rt==null?void 0:rt.initialEvent)instanceof PointerEvent&&it(rt.initialEvent)}function clamp(nt,rt,it){return nt<rt?rt:nt>it?it:nt}var i2=e$3(class extends i$3{constructor(nt){var rt;if(super(nt),nt.type!==t$3.ATTRIBUTE||nt.name!=="style"||((rt=nt.strings)===null||rt===void 0?void 0:rt.length)>2)throw Error("The `styleMap` directive must be used in the `style` attribute and must be the only part in the attribute.")}render(nt){return Object.keys(nt).reduce((rt,it)=>{const st=nt[it];return st==null?rt:rt+`${it=it.replace(/(?:^(webkit|moz|ms|o)|)(?=[A-Z])/g,"-$&").toLowerCase()}:${st};`},"")}update(nt,[rt]){const{style:it}=nt.element;if(this.vt===void 0){this.vt=new Set;for(const st in rt)this.vt.add(st);return this.render(rt)}this.vt.forEach(st=>{rt[st]==null&&(this.vt.delete(st),st.includes("-")?it.removeProperty(st):it[st]="")});for(const st in rt){const bt=rt[st];bt!=null&&(this.vt.add(st),st.includes("-")?it.setProperty(st,bt):it[st]=bt)}return x$2}});/**
 * @license
 * Copyright 2018 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var SlImageComparer=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.position=50}handleDrag(nt){const{width:rt}=this.base.getBoundingClientRect(),it=this.localize.dir()==="rtl";nt.preventDefault(),drag(this.base,{onMove:st=>{this.position=parseFloat(clamp(st/rt*100,0,100).toFixed(2)),it&&(this.position=100-this.position)},initialEvent:nt})}handleKeyDown(nt){const rt=this.localize.dir()==="ltr",it=this.localize.dir()==="rtl";if(["ArrowLeft","ArrowRight","Home","End"].includes(nt.key)){const st=nt.shiftKey?10:1;let bt=this.position;nt.preventDefault(),(rt&&nt.key==="ArrowLeft"||it&&nt.key==="ArrowRight")&&(bt-=st),(rt&&nt.key==="ArrowRight"||it&&nt.key==="ArrowLeft")&&(bt+=st),nt.key==="Home"&&(bt=0),nt.key==="End"&&(bt=100),bt=clamp(bt,0,100),this.position=bt}}handlePositionChange(){this.emit("sl-change")}render(){const nt=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        id="image-comparer"
        class=${o$2({"image-comparer":!0,"image-comparer--rtl":nt})}
        @keydown=${this.handleKeyDown}
      >
        <div class="image-comparer__image">
          <slot name="before" part="before" class="image-comparer__before"></slot>

          <slot
            name="after"
            part="after"
            class="image-comparer__after"
            style=${i2({clipPath:nt?`inset(0 0 0 ${100-this.position}%)`:`inset(0 ${100-this.position}% 0 0)`})}
          ></slot>
        </div>

        <div
          part="divider"
          class="image-comparer__divider"
          style=${i2({left:nt?`${100-this.position}%`:`${this.position}%`})}
          @mousedown=${this.handleDrag}
          @touchstart=${this.handleDrag}
        >
          <slot
            name="handle"
            part="handle"
            class="image-comparer__handle"
            role="scrollbar"
            aria-valuenow=${this.position}
            aria-valuemin="0"
            aria-valuemax="100"
            aria-controls="image-comparer"
            tabindex="0"
          >
            <sl-icon library="system" name="grip-vertical"></sl-icon>
          </slot>
        </div>
      </div>
    `}};SlImageComparer.styles=image_comparer_styles_default;__decorateClass([i2$2(".image-comparer")],SlImageComparer.prototype,"base",2);__decorateClass([i2$2(".image-comparer__handle")],SlImageComparer.prototype,"handle",2);__decorateClass([e2$2({type:Number,reflect:!0})],SlImageComparer.prototype,"position",2);__decorateClass([watch("position",{waitUntilFirstUpdate:!0})],SlImageComparer.prototype,"handlePositionChange",1);SlImageComparer=__decorateClass([e$2("sl-image-comparer")],SlImageComparer);const _hoisted_1$g=["draggable"],_hoisted_2$d={id:"content"},_hoisted_3$c={key:0,class:"image-wrapper media-item"},_hoisted_4$a=["src"],_hoisted_5$9=["src"],_hoisted_6$7={key:2,id:"osd"},_hoisted_7$6=["manifest"],_hoisted_8$6=["manifest"],_hoisted_9$5={key:1},_hoisted_10$3=["draggable","onDragstart"],_hoisted_11$3=["data-id","src","onClick"],_hoisted_12$3=["src","onClick"],_hoisted_13$2=["manifest"],_hoisted_14$1={key:2},_hoisted_15$1=["slot","src","alt"],_hoisted_16$1={key:3,class:"media-item"},_hoisted_17$1={id:"html5-player",controls:""},_hoisted_18$1=["src","type"],_hoisted_19$1=["manifest"],_hoisted_20$1={key:4,class:"media-item"},_hoisted_21$1={key:0,id:"youtube-placeholder"},_hoisted_22$1={key:1,id:"ve-video-vimeo","data-vimeo-playsinline":"true"},_hoisted_23$1=["muted","autoplay","poster"],_hoisted_24$1=["src","type"],_hoisted_25$1=["manifest"],_hoisted_26$1=["total","current"],_hoisted_27$1={key:0,name:"chat-square",label:"Hide annotations"},_hoisted_28$1={key:1,name:"pencil",label:"Edit annotations"},_hoisted_29$1={key:2,variant:"danger",pill:""},_hoisted_30$1={key:0,name:"chat-square",label:"Hide annotations"},_hoisted_31$1={key:1,name:"chat-square-text",label:"Show annotations"},_hoisted_32$1={key:2,variant:"danger",pill:""},_hoisted_33$1=["innerHTML"],_hoisted_34$1=["innerHTML"],_hoisted_35={id:"media-dialog","no-header":"",style:{"--body-spacing":"0","--footer-spacing":"0"}},_hoisted_36=["src"],_sfc_main$i=defineComponent({__name:"MediaViewer.ce",props:{manifest:{type:String},src:{type:String},seq:{type:Number,default:1},annoBase:{type:String},base:{type:String},region:{type:String},size:{type:String},rotation:{type:String},quality:{type:String},format:{type:String},options:{type:String},alt:{type:String},caption:{type:String},fit:{type:String},entities:{type:String},zoomOnScroll:{type:Boolean},noCaption:{type:Boolean},noInfoIcon:{type:Boolean},editable:{type:Boolean},static:{type:Boolean},grid:{type:Boolean},cards:{type:Boolean},compare:{type:Boolean},small:{type:Boolean},position:{type:String},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String},autoplay:{type:Boolean,default:!1},muted:{type:Boolean,default:!0},start:{type:Number},end:{type:Number},poster:{type:String},class:{type:String}},setup(nt){const rt=nt;function it(Hr,ii){var Tr;ii.stopPropagation();let Ur=`https://iiif.juncture-digital.org/?manifest=${Hr.id}`;(Tr=ii.dataTransfer)==null||Tr.setData("text/uri-list",Ur)}const st=ref(null),bt=computed(()=>{var Hr;return(Hr=st==null?void 0:st.value)==null?void 0:Hr.parentNode}),wt=computed(()=>{var Hr,ii;return(ii=(Hr=st.value)==null?void 0:Hr.getRootNode())==null?void 0:ii.host}),Et=computed(()=>{var Hr;return(Hr=bt.value)==null?void 0:Hr.querySelector("#content")}),Tt=computed(()=>{var Hr;return(Hr=bt.value)==null?void 0:Hr.querySelector("#outer")}),At=computed(()=>{var Hr;return(Hr=bt.value)==null?void 0:Hr.querySelector("#inner")}),Dt=ref([]);onMounted(()=>$t());const Ot=rt.position||(isMobile()?"full":rt.right?"right":rt.left?"left":"full");function zt(Hr=16/9){rt.sticky&&(makeSticky(wt.value),At.value.style.paddingTop="6px",Tt.value.style.paddingBottom="6px"),lr.value=_r.value?Number((_r.value.width/_r.value.height).toFixed(4)):Hr,wt.value.classList.add("ve-component"),wt.value.classList.add(Ot),Ot==="full"||(wt.value.style.float=Ot,wt.value.style.width="calc(50% - 12px)"),wt.value.style.width=window.getComputedStyle(wt.value).width,Et.value&&(At.value.style.width=isMobile()?"100%":rt.width||"100%"),nextTick(()=>{if(cr.value=parseInt(window.getComputedStyle(Et.value).width.slice(0,-2)),Et.value.style.width=`${cr.value}px`,Et.value.style.height=rt.height||(tr.value==="image-grid"?"":tr.value==="audio"?"80px":`${Math.round((cr==null?void 0:cr.value)/lr.value)}px`),Gn.value=parseInt(window.getComputedStyle(Et.value).height.slice(0,-2)),rt.sticky&&Ot==="full"&&!(rt.width||rt.height)){let ii=Math.round(window.innerHeight*.4),Ur=Math.ceil(ii*lr.value);tr.value==="image"&&(Et.value.style.height=`${ii}px`),tr.value!=="image-grid"&&At.value.classList.add("drop-shadow"),At.value.style.width=`${Ur}px`}nextTick(()=>{cr.value=parseInt(window.getComputedStyle(At.value).width.slice(0,-2)),Gn.value=parseInt(window.getComputedStyle(Et.value).height.slice(0,-2))})})}function $t(){var Hr;if(Dt.value=rt.entities?rt.entities.split(/\s+/).filter(ii=>ii):[],rt.src)if(((Hr=rt.src)==null?void 0:Hr.indexOf("http"))===0){let ii=new URL(rt.src),Ur=ii.hostname.replace(/^www\./,"");er.has(Ur)?(tr.value="video",Br=!0,Jr.value=ii.searchParams.get("v"),nextTick(()=>wo())):sr.has(Ur)?(tr.value="video",Si=!0,Jr.value=ii.pathname.slice(1),nextTick(()=>uo())):ur.value=Rn()}else ur.value=Rn();else ur.value=Rn();rn()}function Bt(Hr){const ii=Hr.target.parentElement;ii&&(ii.active=!ii.active)}const Yt=ref();watch$1(Yt,()=>{if(Yt.value){let Hr=Yt.value;setTimeout(()=>Sn(),100),Hr.addHandler("viewport-change",()=>Mn()),(rt.base||rt.annoBase)&&(Zt.value=new Annotator(Hr,rt.base||rt.annoBase,ln.value));let ii=Hr.world.getItemAt(0);ii?(rt.rotation&&ii.setRotation(parseInt(rt.rotation),!0),ii.getFullyLoaded()?Ht():ii.addHandler("fully-loaded-change",Ur=>{Ur.fullyLoaded&&Ht()})):Hr.world.addHandler("add-item",()=>{let Ur=Hr.world.getItemAt(0);rt.rotation&&Ur.setRotation(parseInt(rt.rotation),!0),Ur.getFullyLoaded()?Ht():Ur.addHandler("fully-loaded-change",Tr=>{Tr.fullyLoaded&&Ht()})})}});let Xt;function Ht(Hr){var Tr;let ii=ur.value[0],Ur=sha256(_r.value.id||_r.value["@id"]).slice(0,8);Ur!==Xt&&(Zt.value&&Zt.value.loadAnnotations(Ur).then(Zr=>nn.value=Zr),!Xt&&ii.seq===xn.value&&ii.region&&((Tr=Yt.value)==null||Tr.viewport.fitBounds(parseRegionString(ii.region,Yt.value),!0)),Xt=Ur)}function Qt(Hr){return getItemInfo(Hr).format==="image/gif"}const Zt=ref(),nn=ref([]),Kt=ref(!1),ln=ref(window.location.pathname.split("/")[1]==="editor"||rt.editable);function sn(){Kt.value=!Kt.value}watch$1(Kt,()=>{var ii;Zt.value.setVisible(Kt.value);let Hr=(ii=bt.value)==null?void 0:ii.querySelector("#annotations-icon");ln.value&&Kt.value?Hr==null||Hr.classList.add("editable"):Hr==null||Hr.classList.remove("editable")});const bn=ref();let wn=null;function Mn(){wn!==null&&(clearTimeout(wn),wn=null),wn=window.setTimeout(()=>Sn(),100)}function Sn(){var ii,Ur;const Hr=Yt&&((ii=Yt.value)==null?void 0:ii.world.getItemAt(0));if(Hr){let Tr=(Ur=Yt.value)==null?void 0:Ur.viewport.getBounds();const Zr=Tr?Hr.viewportToImageRectangle(Tr):null;bn.value=Zr?`${Math.ceil(Zr.x)},${Math.ceil(Zr.y)},${Math.ceil(Zr.width)},${Math.ceil(Zr.height)}`:""}}const Dn=ref();watch$1(bt,()=>{var Hr;Dn.value=(Hr=bt.value)==null?void 0:Hr.querySelector("#media-dialog")}),watch$1(Dn,Hr=>{Hr==null||Hr.addEventListener("sl-after-hide",()=>gn.value=null),Hr==null||Hr.addEventListener("sl-show",()=>{Dn.value&&(Dn.value.panel.style.width=isMobile()?"100%":`${pn()}px`)})});const gn=ref();watch$1(gn,Hr=>{var ii,Ur;Hr?(ii=Dn.value)==null||ii.show():(Ur=Dn.value)==null||Ur.hide()});function Un(Hr=null){gn.value=gn.value?null:Hr.src||Hr.id}function pn(){var Zr;let Hr=Math.round(window.innerWidth-100),ii=Math.round(window.innerHeight-150),Ur=((Zr=gn.value)==null?void 0:Zr.indexOf("http"))===0?gn.value:`https://iiif.juncture-digital.org/${gn.value}/manifest.json`,Tr=vr.value.find(bi=>decodeURIComponent(bi.id)===Ur);if(Tr){let bi=getItemInfo(Tr),Ii=Number((bi.width/bi.height).toFixed(4));Hr=Ii>=1?Hr/Ii>ii?Hr=ii*Ii:Hr:Math.round(ii*Ii)}return Hr}const yr=ref(rt.caption),xn=ref(rt.seq),Mr=ref(rt.seq);function fr(Hr){xn.value=Hr.detail}const cr=ref(0),Gn=ref(0),lr=ref(0),ur=ref([]),vr=ref([]),Ir=ref(null),Pr=ref(null),_r=ref(null),tr=ref(null),qn=ref(null),mr=computed(()=>Object.fromEntries(vr.value.map(Hr=>[sha256(decodeURIComponent(Hr.id)).slice(0,8),Hr])));watch$1(ur,()=>{let Hr=ur.value.filter(ii=>ii.iiif).map(ii=>ii.src);loadManifests(Hr).then(ii=>{vr.value=ii,rt.grid?tr.value="image-grid":vr.value.length>1&&(tr.value=vr.value.length===2?"image-compare":"image-grid")})}),watch$1(vr,()=>{Ir.value=vr.value.length>0&&vr.value[0],Pr.value=ur.value[0]}),watch$1(Ir,()=>{Mr.value=imageCount(Ir.value),_r.value=Ir.value?getItemInfo(Ir.value,xn.value):null}),watch$1(xn,()=>_r.value=Ir.value?getItemInfo(Ir.value,xn.value):null);const br=ref([]),hr=computed(()=>{var Hr;return(Hr=_r.value)==null?void 0:Hr.id}),An=computed(()=>{var ii;let Hr=(ii=hr.value)==null?void 0:ii.split("#")[0].split(".").pop();return Hr==="mp4"?"video/mp4":Hr==="webm"?"video/webm":"application/ogg"});watch$1(_r,()=>{var Hr,ii;tr.value=tr.value||((ii=(Hr=_r.value)==null?void 0:Hr.type)==null?void 0:ii.split(":").pop().toLowerCase()),qn.value=(tr==null?void 0:tr.value.indexOf("image"))===0?_r.value.service?`${_r.value.service[0].id||_r.value.service[0]["@id"]}/info.json`:{url:_r.value.id,type:"image",buildPyramid:!0}:null,Yt.value&&Yt.value.open(qn.value),cr.value||nextTick(()=>zt())}),watch$1(tr,()=>{xi(),nextTick(()=>{tr.value==="image"&&!Qt(Ir.value)&&!rt.static?Kn():(tr.value==="video"&&ur.value.length>0||tr.value==="audio")&&Cs(),!yr.value&&tr.value==="image"&&(yr.value=label(Ir.value))})}),watch$1(Gn,()=>{tr.value==="image-compare"&&(br.value=rr())});function rn(){let Hr=wt.value.parentElement.querySelector("ve-media > ul, ve-media > span");if(Hr){const ii=Tr=>{for(let Zr of Tr)Zr.type==="childList"||Zr.type;ur.value=Rn()};new MutationObserver(ii).observe(Hr,{childList:!0,subtree:!0,characterData:!0})}}const vn=RegExp(/^(?<region>(pct:)?([0-9.]+,[0-9.]+,[0-9.]+,[0-9.]+)|full|square)(\/(?<size>full|max|((pct:)?[\d,.!]+)))?(\/(?<rotation>!?\d+))?(\/(?<quality>color|gray|bitonal|default))?(\/(?<format>jpg|tif|png|gif|jp2|pdf|webp))?/),hn=RegExp(/^(?<mirror>!?)(?<rotation>0|90|180|270){1}/);function zn(Hr){return vn.test(Hr)}function On(Hr){return/^[0-9]+$/.test(Hr)}function Er(Hr){return hn.test(Hr)}function Rn(){let Hr=[],ii=rt.manifest||rt.src,Ur=Array.from(wt.value.querySelectorAll("li")).filter(Tr=>Tr.innerText.trim()!=="");if(!ii&&Ur.length===0&&Dt.value.length>0&&(ii=`wd:${Dt.value[0]}`),ii){let Tr={};Tr.src=ii,Tr.src=Tr.src.indexOf("http")===0?Tr.src:`https://iiif.juncture-digital.org/${Tr.src}/manifest.json`,Tr.id=sha256(Tr.src).slice(0,8);let bi=new URL(Tr.src).hostname.replace(/^www\./,"");if(Tr.iiif=!er.has(bi)&&!sr.has(bi),rt.options&&zn(rt.options)){let Ii=rt.options.match(vn);Ii&&(Tr={...Tr,...Ii.groups})}Tr.seq=rt.seq,Tr.region=rt.region||Tr.region,Tr.size=rt.size||Tr.size,Tr.rotation=rt.rotation||Tr.rotation,Tr.quality=rt.quality||Tr.quality,Tr.format=rt.format||Tr.format,Tr.fit=rt.fit,Hr.push(Tr)}else Hr=Ur.map(Tr=>{var oa,mo;let Zr=[],bi=(oa=Tr.textContent)==null?void 0:oa.replace(/“/,'"').replace(/”/,'"').replace(/’/,"'").trim();(mo=bi==null?void 0:bi.match(/[^\s"]+|"([^"]*)"/gmi))==null||mo.forEach($o=>{Zr.length>0&&Zr[Zr.length-1].indexOf("=")===Zr[Zr.length-1].length-1?Zr[Zr.length-1]=`${Zr[Zr.length-1]}${$o}`:Zr.push($o)});let Ii={};Zr.length>0&&(Ii.src=Zr[0].indexOf("http")===0?Zr[0]:Zr[0].indexOf("manifest")===0?`https://iiif.juncture-digital.org/${Zr[0]}`:`https://iiif.juncture-digital.org/${Zr[0]}/manifest.json`),Ii.id=sha256(decodeURIComponent(Ii.src)).slice(0,8);let zo=new URL(Ii.src),Eo=zo.hostname.replace(/^www\./,"");er.has(Eo)?(Ii.youtube=!0,Ii.videoid=zo.searchParams.get("v")):sr.has(Eo)?Ii.vimeo=!0:Ii.iiif=!0,Ii.iiif=!er.has(Eo)&&!sr.has(Eo);for(let $o=1;$o<Zr.length;$o++){let Ja=Zr[$o];if(Ja.indexOf("=")>0){let ys=Ja.split("=");Ii[ys[0]]=ys[1]}else if(On(Ja))Ii.seq=Ja;else if(zn(Ja)){let ys=Ja.match(vn);ys&&(Ii={...Ii,...ys.groups})}else if(Ja==="cover"||Ja==="contain")Ii.fit=Ja;else if(Er(Ja)){let ys=Ja.match(hn);ys&&(Ii={...Ii,...ys.groups})}else Ja==="mirror"?Ii.mirror=!0:Ii.caption=Ja[0]==='"'&&Ja[Ja.length-1]==='"'?Ja.slice(1,-1):Ja}return Ii});return Hr}function rr(){let Hr=cr.value,ii=Gn.value,Ur=lr.value;return ur.value.map((Tr,Zr)=>{let bi=getItemInfo(vr.value[Zr],Tr.seq),Ii,zo,Eo,oa;Tr.region&&([Ii,zo,Eo,oa]=Tr.region.split(":").pop().split(",").map(tl=>parseFloat(tl)),Tr.region.split(":")[0]==="pct"&&(Ii=Math.round(Ii*bi.width/100),zo=Math.round(zo*bi.height/100),Eo=Math.round(Eo*bi.width/100),oa=Math.round(oa*bi.height/100)));const mo=Eo||bi.width,$o=oa||bi.height,Ja=Number((mo/$o).toFixed(4));let ys=mo,vs=$o;Ja>Ur?(ys=Math.round($o*Ur),vs=Math.round(ys/Ur)):(vs=Math.round(mo/Ur),ys=Math.round(vs*Ur));let Zi=bi.service[0].id||bi.service[0]["@id"];const bo=(Ii||0)+Math.abs(Math.round((ys-mo)*.5)),ho=(zo||0)+Math.abs(Math.round((vs-$o)*.5));let Fi=`${bo},${ho},${ys},${vs}`;return`${Zi}/${Fi}/${Hr},${ii}/${Tr.mirror?"!":""}${Tr.rotation||0}/${Tr.quality||"default"}.${Tr.format||"jpg"}`})}function Kn(){Yt.value=gr(),xr(),qn.value&&Yt.value.open(qn.value)}function gr(){var Tr;const Ur={element:((Tr=st.value)==null?void 0:Tr.parentNode).querySelector("#osd"),prefixUrl:"https://openseadragon.github.io/openseadragon/images/",homeFillsViewer:rt.fit==="cover",showNavigationControl:!0,minZoomImageRatio:1,maxZoomPixelRatio:10,showRotationControl:!0,showHomeControl:!0,showZoomControl:!0,showFullPageControl:!0,showNavigator:!1,sequenceMode:!0,showReferenceStrip:!0,animationTime:.5,springStiffness:10,visibilityRatio:1,constrainDuringPan:!0};return openseadragonExports(Ur)}function xr(){rt.zoomOnScroll||new OpenSeadragonViewerInputHook({viewer:Yt.value,hooks:[{tracker:"viewer",handler:"scrollHandler",hookHandler:Hr=>{var ii;return!((ii=Yt.value)!=null&&ii.isFullPage())&&!Hr.originalEvent.ctrlKey&&(Hr.preventDefaultAction=!0,Hr.stopHandlers=!0),!0}}]})}function Lr(Hr){navigator.clipboard&&navigator.clipboard.writeText(Hr)}function Cr(Hr){let ii=Hr.name.toLowerCase(),Ur=Hr.value;return(ii==="enter"||ii==="exit")&&Ur.indexOf("|")>0&&([ii,Ur]=Ur.split("|")),["zoom","zoomto"].indexOf(ii.toLowerCase())===0||/^((pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?\|?([0-9a-f]{8})?$/.test(Ur)}function Ar(Hr){let ii=Hr.name.toLowerCase(),Ur=Hr.value;return(ii==="enter"||ii==="exit")&&Ur.indexOf("|")>0&&([ii,Ur]=Ur.split("|")),ii.toLowerCase()==="play"||/^([0-9:]+)+,?([0-9:]+)?$/.test(Ur)}function mi(Hr){let ii=Hr.name.toLowerCase(),Ur=Hr.value.toLowerCase();return ii==="pause"||Ur==="pause"}const vi=new Set(["anno","play","start","zoomto"]);function xi(){Array.from(wt.value.querySelectorAll("[enter],[exit]")).forEach(ii=>{Ci(ii)&&Ei(ii)});let Hr=wt.value.parentElement;for(;Hr.parentElement&&Hr.tagName!=="BODY";)Hr=Hr.parentElement;Array.from(Hr.querySelectorAll("mark, ve-trigger")).forEach(ii=>{let Ur=Array.from(ii.attributes).find(Tr=>vi.has(Tr.name));Ur&&Ci(ii.parentElement)&&(ii.classList.add(Ur.name),ii.addEventListener("click",()=>{(Ur==null?void 0:Ur.name)==="anno"?Nn(Ur.value):(Ur==null?void 0:Ur.name)==="zoomto"?Ln(Ur.value):(Ur==null?void 0:Ur.name)==="play"?Bi(Ur.value):Ai()}))})}function Ci(Hr){let ii=Hr.previousSibling;for(;ii;){if(ii.nodeName==="VE-MEDIA")return ii===wt.value?ii:null;ii=ii.previousSibling}for(;Hr.parentElement&&Hr.tagName!=="MAIN";){Hr=Hr.parentElement;let Ur=Hr.querySelector(":scope > ve-media, :scope > p > ve-media");if(Ur)return Ur===wt.value?Ur:null}}function Ei(Hr){let ii=Hr.classList.contains("active");new MutationObserver(Tr=>{Tr.forEach(Zr=>{if(Zr.attributeName=="class"){let bi=Zr.target.classList.contains("active");if(ii!==bi){ii=bi;let Ii=Hr.attributes.getNamedItem(bi?"enter":"exit");Ii&&(tr.value==="image"&&Cr(Ii)&&Ln(Ii.value),tr.value!=="image"&&(Ar(Ii)?Bi(Ii.value):mi(Ii)&&Ai()))}}})}).observe(Hr,{attributes:!0})}function Bi(Hr){Hr=Hr.replace(/^play\|/i,"");const ii=Hr.match(/^([0-9:]+)+,?([0-9:]+)?$/);ii&&Ya(ii[1],ii[2])}function Ai(){ji()}let Fr="";function Ln(Hr){var Ur,Tr,Zr,bi,Ii,zo,Eo;Hr=Hr.replace(/^zoomto\|/i,"");const ii=Hr==null?void 0:Hr.match(/^(?<region>(pct:|pixel:|px:)?[\d.]+,[\d.]+,[\d.]+,[\d.]+)?,?(?<annoid>[0-9a-f]{8})?$/);if(ii){let oa=(Ur=ii==null?void 0:ii.groups)==null?void 0:Ur.region,mo=(Tr=ii==null?void 0:ii.groups)==null?void 0:Tr.annoid;oa?(Fr===oa?((Zr=Yt.value)==null||Zr.viewport.goHome(),Fr=""):(Fr=oa,(bi=Zt.value)==null||bi.deselect(),(Ii=Yt.value)==null||Ii.viewport.fitBounds(parseRegionString(oa,Yt.value),!1)),mo&&Zt.value.select(mo)):mo&&(((zo=Zt.value.selected)==null?void 0:zo.id)===mo?Zt.value.deselect():((Eo=Yt.value)==null||Eo.viewport.goHome(),mo&&Zt.value.select(mo)))}}function Nn(Hr){var Ur,Tr,Zr,bi,Ii;const ii=Hr==null?void 0:Hr.match(/^(?<annoid>[0-9a-f]{8})$/);if(ii){let zo=(Ur=ii==null?void 0:ii.groups)==null?void 0:Ur.annoid;zo&&((Tr=Zt.value.selected)==null?void 0:Tr.id)===zo?((Zr=Zt.value)==null||Zr.deselect(),(bi=Yt.value)==null||bi.viewport.goHome()):((Ii=Yt.value)==null||Ii.viewport.goHome(),Zt.value.select(zo))}}const er=new Set(["youtube.com","youtube.co.uk","youtu.be"]),sr=new Set(["vimeo.com"]);let Nr=null;const Jr=ref(),Dr=ref(!0),yi=ref(!1);let Br=!1,Si=!1,Ni=!1,Ri=null,Li=!0,eo={};function Ui(){eo.value=Object.fromEntries(Array.from(wt.value.parentElement.querySelectorAll("p[data-start]")).map(Hr=>[Sa(Hr.dataset.start||"0"),Hr]))}async function oo(Hr){let Ur=`https://youtube.com/oembed?url=${encodeURI(`https://www.youtube.com/watch?v=${Hr}`)}&format=json`,Zr=await(await fetch(Ur)).json();return Zr.aspect=Zr.width/Zr.height,Zr}async function wo(){let Hr=await oo(Jr.value);Ui(),nextTick(()=>{zt(Hr.aspect),nextTick(()=>{var Zr;let ii=(Zr=bt.value)==null?void 0:Zr.querySelector("#youtube-placeholder"),Ur=parseInt(window.getComputedStyle(ii).width.slice(0,-2));ii.style.height=`${Ur/Hr.aspect}px`;let Tr={color:"white",rel:0,modestbranding:1,playsinline:1};Nr=YouTubePlayer(ii,{videoId:Jr.value,width:Ur,playerVars:Tr}),Nr.on("ready",bi=>{Za(),rt.autoplay&&Ya(`${rt.start||""}`,`${rt.end||""}`)})})})}async function uo(){var ii;zt();let Hr=(ii=bt.value)==null?void 0:ii.querySelector("#ve-video-vimeo");Nr=new Player(Hr,{id:Jr.value,width:parseInt(window.getComputedStyle(Hr).width.slice(0,-2))}),Nr.on("loaded",()=>{zt(Hr.clientWidth/Hr.clientHeight-5),Za()})}function Cs(){Ui(),Ni=!0,nextTick(()=>{var Hr;Nr=(Hr=bt.value)==null?void 0:Hr.querySelector("#html5-player"),Za()}),zt()}async function Za(){let Hr=wt.value.parentElement.querySelector("ve-media"),ii=!1;setInterval(async()=>{if(Dr.value=await Ti(),yi.value=await Va(),yi.value&&rt.sticky&&Object.keys(eo.value).length>0&&!ii){let Ur=Hr.getBoundingClientRect().top+window.scrollY-top$1();window.scrollTo(0,Ur),ii=!0}yi.value&&lo().then(Ur=>{if(Ur=Math.round(Ur),eo.value[Ur]){let Zr=eo.value[Ur].getBoundingClientRect();window.scrollTo(0,Zr.top+window.scrollY-Hr.getBoundingClientRect().bottom)}})},1e3)}function ji(){Br?Nr.pauseVideo():(Si||Ni)&&Nr.pause()}async function lo(){if(Br)return Nr.getCurrentTime();if(Si)return await Nr.getCurrentTime();if(Ni)return Nr.currentTime}async function Va(){return Br?await Nr.getPlayerState()===1:Si?!(await Nr.getEnded()||await Nr.getPaused()):Ni?!(Nr.ended||Nr.paused):!1}async function Ti(){return Br?await Nr.isMuted():Si?await Nr.getMuted():await rt.muted}function ca(Hr){Br?Hr?Nr.mute():Nr.unMute():Si?Nr.setMuted(Hr):Ni&&(Nr.muted=Hr)}function Sa(Hr){var ii=Hr.split(":").slice(0,3).map(Zr=>parseInt(Zr,10));let Ur=0,Tr=1;for(;ii.length>0;){let Zr=ii.pop()||0;Ur+=Tr*Zr,Tr*=60}return Ur}function Ya(Hr,ii=""){let Ur=Sa(Hr),Tr=ii?Sa(ii)+1:-1;Ri&&(clearTimeout(Ri),Ri=null);let Zr=Dr.value;if(Br?(Nr.playVideo(),Nr.seekTo(Ur).then(bi=>{Tr>=Ur&&(Ri=setTimeout(()=>{Nr.pauseVideo().then(Ii=>{Ri=null,!Zr&&Li&&ca(!1)})},Tr===Ur?200:(Tr-Ur)*1e3))})):Si?(Nr.setCurrentTime(Ur),Nr.play().then(bi=>{Tr>=Ur&&(Ri=setTimeout(()=>{Nr.pause().then(Ii=>{Ri=null,!Zr&&Li&&ca(!1)})},Tr===Ur?200:(Tr-Ur)*1e3))})):Ni&&setTimeout(()=>{Nr.play(),Nr.currentTime=Ur,Tr>=Ur&&(Ri=setTimeout(()=>{Ri=null,Nr.pause(),!Zr&&Li&&ca(!1)},Tr===Ur?200:(Tr-Ur)*1e3))},200),eo.value[Ur]){let Ii=eo.value[Ur].getBoundingClientRect(),zo=wt.value.parentElement.querySelector("ve-media");window.scrollTo(0,Ii.top+window.scrollY-zo.getBoundingClientRect().bottom)}}return(Hr,ii)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",mergeProps({ref_key:"root",ref:st},Hr.$attrs),null,16),createBaseVNode("div",{id:"outer",class:normalizeClass(ln.value?"edit":"view"),draggable:tr.value==="image",onDragstart:ii[2]||(ii[2]=Ur=>it(Ir.value,Ur))},[createBaseVNode("div",{id:"inner",class:normalizeClass(tr.value)},[createBaseVNode("div",_hoisted_2$d,[tr.value==="image"?(openBlock(),createElementBlock("div",_hoisted_3$c,[Qt(vr.value[0])?(openBlock(),createElementBlock("ve-gif",{key:0,src:_r.value.id,alt:"Animated GIF","initially-paused":"","restart-on-play":""},null,8,_hoisted_4$a)):nt.static?(openBlock(),createElementBlock("img",{key:1,src:unref(staticImage)(Ir.value,Pr.value,cr.value),style:{width:"100%"},onClick:ii[0]||(ii[0]=Ur=>Un(Ir.value))},null,8,_hoisted_5$9)):(openBlock(),createElementBlock("div",_hoisted_6$7)),rt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:3,manifest:vr.value[0].id},null,8,_hoisted_7$6))])):tr.value==="image-grid"?(openBlock(),createElementBlock("div",{key:1,class:normalizeClass(`grid-wrapper${rt.small?" small":""}`)},[(openBlock(!0),createElementBlock(Fragment,null,renderList(ur.value,(Ur,Tr)=>(openBlock(),createElementBlock(Fragment,null,[rt.cards?(openBlock(),createElementBlock("ve-media-card",{key:0,style:{width:"100%",height:"100%"},manifest:Ur.src},null,8,_hoisted_8$6)):(openBlock(),createElementBlock("div",_hoisted_9$5,[createBaseVNode("div",{class:"media-item",draggable:tr.value==="image",onDragstart:Zr=>it(mr.value[Ur.id],Zr)},[Ur.iiif?(openBlock(),createElementBlock("img",{key:0,"data-id":Ur.id,src:unref(thumbnail)(mr.value[Ur.id],400,Ur.seq||1),onClick:Zr=>Un(Ur)},null,8,_hoisted_11$3)):Ur.youtube?(openBlock(),createElementBlock("img",{key:1,src:`https://img.youtube.com/vi/${Ur.videoid}/0.jpg`,onClick:Zr=>Un(Ur)},null,8,_hoisted_12$3)):createCommentVNode("",!0),Ur.iiif?(openBlock(),createElementBlock("ve-manifest-popup",{key:2,manifest:Ur.src},null,8,_hoisted_13$2)):createCommentVNode("",!0)],40,_hoisted_10$3)]))],64))),256))],2)):tr.value==="image-compare"?(openBlock(),createElementBlock("div",_hoisted_14$1,[createBaseVNode("sl-image-comparer",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(br.value,(Ur,Tr)=>(openBlock(),createElementBlock("img",{key:`img-${Tr}`,slot:Tr===0?"before":"after",src:Ur,alt:unref(label)(vr.value[Tr])},null,8,_hoisted_15$1))),128))])])):tr.value==="audio"?(openBlock(),createElementBlock("div",_hoisted_16$1,[createBaseVNode("audio",_hoisted_17$1,[createBaseVNode("source",{src:hr.value,type:An.value},null,8,_hoisted_18$1)]),rt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:vr.value[0].id},null,8,_hoisted_19$1))])):tr.value==="video"?(openBlock(),createElementBlock("div",_hoisted_20$1,[unref(Br)?(openBlock(),createElementBlock("div",_hoisted_21$1)):unref(Si)?(openBlock(),createElementBlock("div",_hoisted_22$1)):(openBlock(),createElementBlock(Fragment,{key:2},[createBaseVNode("video",{id:"html5-player",controls:"",playsinline:"",muted:rt.muted,autoplay:rt.autoplay,poster:rt.poster},[createBaseVNode("source",{src:hr.value,type:An.value},null,8,_hoisted_24$1)],8,_hoisted_23$1),rt.noInfoIcon?createCommentVNode("",!0):(openBlock(),createElementBlock("ve-manifest-popup",{key:0,manifest:vr.value[0].id},null,8,_hoisted_25$1))],64))])):createCommentVNode("",!0)]),tr.value==="image"&&Mr.value>1?(openBlock(),createElementBlock("ve-pager",{key:0,total:Mr.value,current:xn.value,onImageSelected:fr},null,40,_hoisted_26$1)):createCommentVNode("",!0),yr.value&&!rt.noCaption?(openBlock(),createElementBlock("div",{key:1,id:"caption-bar",onClick:Bt},[tr.value==="image"?(openBlock(),createElementBlock("div",{key:0,id:"annotations-icon",class:"button-icon-with-badge",onClick:sn},[ln.value?(openBlock(),createElementBlock(Fragment,{key:0},[Kt.value?(openBlock(),createElementBlock("sl-icon-button",_hoisted_27$1)):(openBlock(),createElementBlock("sl-icon-button",_hoisted_28$1)),!Kt.value&&nn.value.length>0?(openBlock(),createElementBlock("sl-badge",_hoisted_29$1,toDisplayString(nn.value.length),1)):createCommentVNode("",!0)],64)):nn.value.length>0?(openBlock(),createElementBlock(Fragment,{key:1},[Kt.value?(openBlock(),createElementBlock("sl-icon-button",_hoisted_30$1)):(openBlock(),createElementBlock("sl-icon-button",_hoisted_31$1)),Kt.value?createCommentVNode("",!0):(openBlock(),createElementBlock("sl-badge",_hoisted_32$1,toDisplayString(nn.value.length),1))],64)):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("div",{class:"label",innerHTML:yr.value},null,8,_hoisted_33$1)])):createCommentVNode("",!0),bn.value?(openBlock(),createElementBlock("div",{key:2,id:"coords",innerHTML:bn.value,onClick:ii[1]||(ii[1]=Ur=>Lr(bn.value||""))},null,8,_hoisted_34$1)):createCommentVNode("",!0)],2),createBaseVNode("sl-dialog",_hoisted_35,[gn.value?(openBlock(),createElementBlock("ve-media",{key:0,src:gn.value,"zoom-on-scroll":""},null,8,_hoisted_36)):createCommentVNode("",!0),createBaseVNode("sl-button",{slot:"footer",class:"close",onClick:Un,variant:"primary"},"Close")])],42,_hoisted_1$g)],64))}}),_style_0$c=`.r6o-editor{top:0;left:0;margin-left:-19px}.a9s-annotationlayer{position:absolute;top:0;left:0;width:100%;height:100%;outline:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none}.a9s-annotationlayer.no-cursor,.a9s-annotationlayer.no-cursor *{cursor:none!important}.a9s-crosshair line{stroke-width:1px;stroke:#00000080;pointer-events:none;vector-effect:non-scaling-stroke;shape-rendering:crispEdges}.a9s-selection-mask{stroke:none;fill:transparent;pointer-events:none}.a9s-annotation rect,.a9s-annotation circle,.a9s-annotation ellipse,.a9s-annotation path,.a9s-annotation polygon,.a9s-annotation line,.a9s-selection rect,.a9s-selection circle,.a9s-selection ellipse,.a9s-selection path,.a9s-selection polygon,.a9s-selection line{fill:transparent;cursor:pointer;vector-effect:non-scaling-stroke}.a9s-annotation .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff;stroke-width:1px;fill:transparent}.a9s-annotation .a9s-inner:hover,.a9s-selection .a9s-inner:hover{stroke:#fff000}.a9s-annotation .a9s-outer,.a9s-selection .a9s-outer{stroke:#000000b3;stroke-width:3px;fill:none}.a9s-annotation .a9s-formatter-el,.a9s-selection .a9s-formatter-el{overflow:visible}.a9s-annotation.a9s-point .a9s-inner{display:none}.a9s-annotation.a9s-point .a9s-outer{stroke:#5a5a5a;stroke-width:1.5px;fill:#ffffff80}.a9s-annotation.a9s-point .a9s-outer:hover{fill:#fff000}.a9s-annotation.selected .a9s-inner,.a9s-selection .a9s-inner{stroke:#fff000}.a9s-annotation.editable .a9s-inner{stroke:#fff000;cursor:move!important}.a9s-annotation.editable .a9s-inner:hover{fill:#fff0001a}.a9s-handle{cursor:move}.a9s-handle .a9s-handle-inner{stroke:#fff000;fill:#000}.a9s-handle .a9s-handle-outer{stroke:#000;fill:#fff}.a9s-handle:hover .a9s-handle-inner{fill:#fff000}.r6o-btn{background-color:#4483c4;border:1px solid #4483c4;box-sizing:border-box;color:#fff;cursor:pointer;display:inline-block;font-size:14px;margin:0;outline:none;text-decoration:none;white-space:nowrap;padding:6px 18px;min-width:70px;vertical-align:middle;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px}.r6o-btn *{vertical-align:middle;cursor:pointer}.r6o-btn .r6o-icon{margin-right:4px}.r6o-btn:disabled{border-color:#a3c2e2!important;background-color:#a3c2e2!important}.r6o-btn:hover{background-color:#4f92d7;border-color:#4f92d7}.r6o-btn.outline{border:1px solid #4483c4;color:#4483c4;background-color:transparent;text-shadow:none}.r6o-autocomplete{display:inline;position:relative}.r6o-autocomplete div[role=combobox]{display:inline}.r6o-autocomplete input{outline:none;border:none;width:80px;height:100%;line-height:14px;white-space:pre;box-sizing:border-box;background-color:transparent;font-size:14px;color:#3f3f3f}.r6o-autocomplete ul{position:absolute;margin:0;padding:0;list-style-type:none;background-color:#fff;border-radius:3px;border:1px solid #d6d7d9;box-sizing:border-box;box-shadow:0 0 20px #00000040}.r6o-autocomplete ul:empty{display:none}.r6o-autocomplete li{box-sizing:border-box;padding:2px 12px;width:100%;cursor:pointer}.r6o-editable-text{max-height:120px;overflow:auto;outline:none;min-height:2em;font-size:14px;font-family:Lato,sans-serif}.r6o-editable-text:empty:not(:focus):before{content:attr(data-placeholder);color:#c2c2c2}.r6o-widget.comment{font-size:14px;min-height:3em;background-color:#fff;position:relative}.r6o-widget.comment .r6o-editable-text,.r6o-widget.comment .r6o-readonly-comment{padding:10px;width:100%;box-sizing:border-box;outline:none;border:none;background-color:transparent;resize:none}.r6o-widget.comment .r6o-readonly-comment{white-space:pre-line}.r6o-widget.comment .r6o-editable-text::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text::-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-moz-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-editable-text:-ms-input-placeholder{color:#c2c2c2}.r6o-widget.comment .r6o-lastmodified{border:1px solid #e5e5e5;display:inline-block;border-radius:2px;margin:0 10px 8px;padding:4px 5px;line-height:100%;font-size:12px}.r6o-widget.comment .r6o-lastmodified .r6o-lastmodified-at{color:#757575;padding-left:3px}.r6o-widget.comment .r6o-arrow-down{position:absolute;height:20px;width:20px;top:9px;right:9px;line-height:22px;background-color:#fff;text-align:center;-webkit-font-smoothing:antialiased;border:1px solid #e5e5e5;cursor:pointer;-webkit-border-radius:1px;-khtml-border-radius:1px;-moz-border-radius:1px;border-radius:1px}.r6o-widget.comment .r6o-arrow-down.r6o-menu-open{border-color:#4483c4}.r6o-widget.comment .r6o-comment-dropdown-menu{position:absolute;top:32px;right:8px;background-color:#fff;border:1px solid #e5e5e5;list-style-type:none;margin:0;padding:5px 0;z-index:9999;-webkit-box-shadow:0 2px 4px rgba(0,0,0,.2);-moz-box-shadow:0 2px 4px rgba(0,0,0,.2);box-shadow:0 2px 4px #0003}.r6o-widget.comment .r6o-comment-dropdown-menu li{padding:0 15px;cursor:pointer}.r6o-widget.comment .r6o-comment-dropdown-menu li:hover{background-color:#ecf0f1}.r6o-widget.comment .r6o-purposedropdown{position:relative;z-index:2}.r6o-widget.comment.editable{background-color:#ecf0f1}.r6o-widget.r6o-tag:empty{display:none}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.r6o-widget.tag .r6o-taglist li{height:27px}.r6o-widget.tag .r6o-taglist li .r6o-delete-wrapper .r6o-delete{position:relative;top:-4px}}.r6o-widget.r6o-tag{background-color:#ecf0f1;border-bottom:1px solid #e5e5e5;padding:1px 3px;display:flex}.r6o-widget.r6o-tag ul{margin:0;padding:0;list-style-type:none;z-index:1}.r6o-widget.r6o-tag ul.r6o-taglist{flex:0;white-space:nowrap}.r6o-widget.r6o-tag ul.r6o-taglist li{display:inline-block;margin:1px 1px 1px 0;padding:0;vertical-align:middle;overflow:hidden;font-size:12px;background-color:#fff;border:1px solid #d6d7d9;cursor:pointer;position:relative;line-height:180%;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:0 0 4px rgba(0,0,0,.1);-moz-box-shadow:0 0 4px rgba(0,0,0,.1);box-shadow:0 0 4px #0000001a}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-label{padding:2px 8px;display:inline-block}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper{display:inline-block;padding:2px 0;color:#fff;width:0;height:100%;background-color:#4483c4;-webkit-border-top-right-radius:2px;-webkit-border-bottom-right-radius:2px;-khtml-border-radius-topright:2px;-khtml-border-radius-bottomright:2px;-moz-border-radius-topright:2px;-moz-border-radius-bottomright:2px;border-top-right-radius:2px;border-bottom-right-radius:2px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper .r6o-delete{padding:2px 6px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-wrapper svg{vertical-align:text-top}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-active{width:24px;transition:width .2s}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-enter-done,.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit{width:24px}.r6o-widget.r6o-tag ul.r6o-taglist li .r6o-delete-exit-active{width:0;transition:width .2s}.r6o-widget.r6o-tag .r6o-autocomplete{flex:1;position:relative}.r6o-widget.r6o-tag .r6o-autocomplete li{font-size:14px}.r6o-widget.r6o-tag input{width:100%;padding:0 3px;min-width:80px;outline:none;border:none;line-height:170%;background-color:transparent;color:#3f3f3f}.r6o-widget.r6o-tag input::-webkit-input-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input::-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-moz-placeholder{color:#c2c2c2}.r6o-widget.r6o-tag input:-ms-input-placeholder{color:#c2c2c2}.r6o-editor{position:absolute;z-index:99999;width:400px;color:#3f3f3f;opacity:0;font-family:Lato,sans-serif;font-size:17px;line-height:27px;-webkit-transition:opacity .2s ease-in;-moz-transition:opacity .2s ease-in;transition:opacity .2s ease-in}.r6o-editor .r6o-arrow{position:absolute;overflow:hidden;top:-12px;left:12px;width:28px;height:12px;display:none}.r6o-editor .r6o-arrow:after{content:"";position:absolute;top:5px;left:5px;width:18px;height:18px;background-color:#fff;-webkit-backface-visibility:hidden;-webkit-transform:rotate(45deg);-moz-transform:rotate(45deg);-ms-transform:rotate(45deg);-o-transform:rotate(45deg);transform:rotate(45deg)}.r6o-editor .r6o-editor-inner{background-color:#fff;-webkit-border-radius:2px;-khtml-border-radius:2px;-moz-border-radius:2px;border-radius:2px;-webkit-box-shadow:2px 2px 42px rgba(0,0,0,.4);-moz-box-shadow:2px 2px 42px rgba(0,0,0,.4);box-shadow:2px 2px 42px #0006}.r6o-editor .r6o-editor-inner .r6o-widget:first-child{-webkit-border-top-left-radius:2px;-webkit-border-top-right-radius:2px;-khtml-border-radius-topleft:2px;-khtml-border-radius-topright:2px;-moz-border-radius-topleft:2px;-moz-border-radius-topright:2px;border-top-left-radius:2px;border-top-right-radius:2px}.r6o-editor .r6o-editor-inner .r6o-widget{border-bottom:1px solid #e5e5e5}.r6o-editor .r6o-footer{position:relative;text-align:right;padding:8px 0}.r6o-editor .r6o-footer .r6o-btn{margin-right:8px}.r6o-editor .r6o-footer .r6o-btn.delete-annotation{position:absolute;top:7px;left:7px;background-color:transparent;border:none;color:#4483c4;width:32px;height:32px;min-width:0;border-radius:100%;padding:0;display:flex;justify-content:center;align-items:center;-webkit-transition:all .1s ease-in;-moz-transition:all .1s ease-in;-o-transition:all .1s ease-in;transition:all .1s ease-in}.r6o-editor .r6o-footer .r6o-btn.delete-annotation:hover{color:#fff;background-color:#ef352c}@media (max-width: 640px){.r6o-editor{width:260px}}.r6o-editor.r6o-arrow-top .r6o-arrow{display:block}.r6o-editor.r6o-arrow-right{margin-left:8px}.r6o-editor.r6o-arrow-right .r6o-arrow{left:auto;right:12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow{display:block;top:auto;bottom:-12px}.r6o-editor.r6o-arrow-bottom .r6o-arrow:after{top:-11px;box-shadow:none}.r6o-editor.pushed .r6o-arrow,.r6o-editor.dragged .r6o-arrow{display:none}.r6o-editor .r6o-draggable{cursor:move}.r6o-purposedropdown{width:150px;display:inline-block}.r6o-noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.a9s-annotation.hover .a9s-inner{stroke:#fff000}.a9s-annotation:not(.hover):hover .a9s-inner{stroke:#fff}*{box-sizing:border-box}:host{display:block;padding-bottom:6px;background-color:inherit}.info-icon{position:absolute;top:12px;right:12px;width:24px;height:24px;font-size:20px;border:2px solid rgba(255,255,255,.8);border-radius:50%;background-color:#fff;display:flex;justify-content:center;visibility:hidden}.media-item:hover .info-icon{visibility:visible;transition:all .3s ease-in}.manifest-popover{background-color:#fff;border-radius:6px;width:300px;height:400px;overflow-y:scroll;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#outer{position:relative;width:100%;background-color:inherit;display:flex;justify-items:center}#outer{margin-bottom:12px}#inner{margin:auto;width:100%}#inner.image,.drop-shadow{box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#content{width:100%}#osd,video{width:100%;height:100%}#caption-bar{display:flex;gap:6px;width:100%;align-items:center;height:32px;background-color:#555}#caption-bar .label{color:#fff;padding:0 9px;font-size:1.1rem;width:100%;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;cursor:pointer}.image-wrapper{position:relative;height:100%;width:100%}.grid-wrapper{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper.small{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));grid-auto-rows:1fr;grid-gap:18px;align-items:flex-start;justify-items:center}.grid-wrapper>.caption{display:flex;align-items:center;font-family:sans-serif;width:100%;background:rgba(0,0,0,.7);color:#fff;padding:4px 6px;bottom:0;height:32px;margin-top:6px}.grid-wrapper img{border:1px solid #ccc;box-shadow:2px 2px 6px #0000004d;max-width:100%;cursor:pointer}#coords{position:absolute;display:flex;align-items:center;justify-content:flex-end;font-family:sans-serif;bottom:0;right:0;width:130px;height:32px;padding:3px 6px;font-size:.8rem;background-color:#ffffff80;color:#000;z-index:2;opacity:0;text-align:right}#coords:hover{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:copy}.info-icon span{position:absolute;top:20px;right:20px;font-size:24px;z-index:2;opacity:0;border-radius:50%;border:1px solid white;background-color:#0003}.media-item{position:relative}.media-item:hover .info-icon span{visibility:visible;opacity:1;transition:all .3s ease-in;cursor:pointer;color:#fff}.info-icon:hover svg{fill:#000}.view .r6o-footer{display:none}.r6o-widget.comment .r6o-readonly-comment{display:inline;padding:0}.view .r6o-editor,.view .r6o-editor-inner,.view .r6o-widget{display:inline-block;min-height:unset!important;line-height:1.4;padding:0;border-bottom:none}.r6o-tag,.comment.editable:nth-of-type(2){display:none!important}.edit .r6o-editor{width:216px}.r6o-widget.comment{padding:6px 6px 4px;border-radius:4px}svg.a9s-annotationlayer .a9s-selection .a9s-inner,svg.a9s-annotationlayer .a9s-annotation .a9s-inner{stroke-width:3;stroke:#ff0}ul.annotations{list-style:none;padding-left:0}.annotations li{display:flex;align-items:center;gap:6px;padding:6px 0}.annotations li:hover{background-color:#fff3;cursor:pointer}.compare{height:100%;width:100%;position:relative;overflow:hidden;border:5px solid #bfc0c1;box-shadow:-3px 5px 15px #000}.compare img{width:100%;height:100%;position:absolute}#compare-img-2{clip-path:polygon(0 0,50% 0,50% 100%,0 100%)}#slider{position:relative;-webkit-appearance:none;width:calc(100% + 40px);height:100%;margin-left:-20px;background-color:transparent;outline:none}#slider::-webkit-slider-thumb{-webkit-appearance:none;height:45px;width:45px;background:rgba(255,255,255,.3);border:4px solid white;border-radius:50%;background-size:contain;cursor:pointer}audio#html5-player{width:calc(100% - 60px);max-width:50vh}.buttons{display:flex;align-items:center;justify-content:center;padding:12px}.close{font-size:14px;font-weight:700;padding:6px}.close:hover,.close:focus{color:#000;text-decoration:none;cursor:pointer}.popup-overview sl-popup{--arrow-color: var(--sl-color-primary-600)}.popup-overview span[slot=anchor]{display:inline-block;width:150px;height:150px;border:dashed 2px var(--sl-color-neutral-600);margin:50px}.popup-overview .box{width:100px;height:50px;background:var(--sl-color-primary-600);border-radius:var(--sl-border-radius-medium)}.popup-overview-options{display:flex;flex-wrap:wrap;align-items:end;gap:1rem}.popup-overview-options sl-select{width:160px}.popup-overview-options sl-input{width:100px}.popup-overview-options+.popup-overview-options{margin-top:1rem}sl-popup{--arrow-color: var(--sl-color-primary-600)}.media-item .box{width:300px;height:600px;background:white;border-radius:var(--sl-border-radius-medium)}#annotations-icon{position:relative;cursor:pointer}#annotations-icon sl-icon-button::part(base){color:#fff;font-size:1.2rem;padding:3px}.button-icon-with-badge{display:inline-block;position:relative;margin:0 6px}.button-icon-with-badge sl-badge{position:absolute;left:70%;top:0;cursor:pointer}.button-icon-with-badge sl-badge::part(base){font-size:.7rem;background-color:#ff0;color:#000;font-weight:700;padding:4px 5px 1px;border:unset}#youtube-placeholder,#ve-video-vimeo{width:100%}ve-manifest-popup{position:absolute;top:12px;right:12px;visibility:hidden;opacity:0;cursor:pointer}.media-item:hover ve-manifest-popup{visibility:visible;opacity:.8;transition:all .5s ease-in}
`,MediaViewer=_export_sfc(_sfc_main$i,[["styles",[_style_0$c]]]),_hoisted_1$f={key:0,class:"wrapper"},_hoisted_2$c={class:"dropdown-selection-alt"},_hoisted_3$b=createBaseVNode("sl-icon-button",{name:"list",slot:"trigger",style:{"font-size":"2.5rem"}},null,-1),_hoisted_4$9=["data-item"],_hoisted_5$8=["name","label","onClick"],_hoisted_6$6=["contact","title","subject"],_sfc_main$h=defineComponent({__name:"Menu.ce",props:{background:{type:String},position:{type:String,default:"left"},contact:{type:String},contactFormTitle:{type:String},contactSubject:{type:String}},setup(nt){const rt=nt,it={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","beta.juncture-digital.org":"f30ce4168a0bb95ecaa3","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","tools.juncture-digital.org":"0b40086fe912d97c03e6"},st={about:{icon:"info-circle-fill"},contact:{icon:"envelope-fill"},documentation:{icon:"book"},docs:{icon:"book"},editor:{icon:"pencil",loginRequired:!0},essays:{icon:"pencil"},help:{icon:"question-circle"},home:{icon:"house-fill"},"how to":{icon:"book-fill"},link:{icon:"link-45deg"},login:{icon:"person-circle"},logout:{icon:"person-circle"},markdown:{icon:"markdown"},media:{icon:"images",loginRequired:!0},showcase:{icon:"easel2"},tools:{icon:"tools",loginRequired:!0}},bt=ref(null),wt=computed(()=>{var ln,sn;return(sn=(ln=bt.value)==null?void 0:ln.getRootNode())==null?void 0:sn.host}),Et=computed(()=>{var ln;return(ln=bt==null?void 0:bt.value)==null?void 0:ln.parentNode}),Tt=ref(!1),At=ref([]),Dt=ref();let Ot,zt;onMounted(()=>{$t(),nextTick(()=>{var sn;console.log(window.location.pathname);let ln=Array.from(((sn=wt.value.children[0])==null?void 0:sn.children)||[]);ln.length>0&&(At.value=ln.map(bn=>{if(bn.firstChild.nodeName==="A"){let wn=bn.firstChild;return{label:wn.textContent,href:wn.href,newWindow:wn.getAttribute("target")==="_blank"}}else return bn.firstChild.textContent.toLowerCase()==="auth"?{label:Tt.value?"Logout":"Login",href:Tt.value?"logout":"login"}:{label:bn.textContent}}).filter(bn=>bn.label.toLowerCase().indexOf("contact")!==0||rt.contact))})});function $t(){Tt.value=Bt()!==null;let ln=new URL(window.location.href).searchParams.get("code");if(console.log("code",ln),ln){window.history.replaceState({},"",window.location.pathname);let sn=window.location.hostname==="localhost"?`https://dev.juncture-digital.org/gh-token?code=${ln}&hostname=${window.location.hostname}`:`/gh-token?code=${ln}&hostname=${window.location.hostname}`;console.log(sn),fetch(sn).then(bn=>bn.text()).then(bn=>{bn&&(Tt.value=!0,localStorage.setItem("gh-auth-token",bn),window.dispatchEvent(new Event("storage")))}).catch(bn=>console.log("err",bn))}wt.value.classList.add(rt.position)}watch$1(At,()=>{Dt.value=At.value.filter(ln=>{var bn;let sn=ln.href?ln.href.split("/").filter(wn=>wn).pop().toLowerCase():"link";return!st[sn]||!((bn=st[sn])!=null&&bn.loginRequired)||Tt.value}).map(ln=>ln.label==="Login"||ln.label==="Logout"?{label:Tt.value?"Logout":"Login",href:Tt.value?"logout":"login"}:ln)}),watch$1(Tt,()=>{Dt.value=At.value.filter(ln=>{var bn;let sn=ln.href?ln.href.split("/").filter(wn=>wn).pop().toLowerCase():"link";return!st[sn]||!((bn=st[sn])!=null&&bn.loginRequired)||Tt.value}).map(ln=>ln.label==="Login"||ln.label==="Logout"?{label:Tt.value?"Logout":"Login",href:Tt.value?"logout":"login"}:ln)});function Bt(){return localStorage.getItem("gh-auth-token")}function Yt(){var sn;let ln=(sn=Et.value)==null?void 0:sn.querySelector("ve-contact");ln._instance.exposed.show.value=!0}function Xt(){Ot&&Ot.close();let ln="toolbar=yes,location=yes,left=0,top=0,width=1040,height=1200,scrollbars=yes,status=yes";Ot=window.open("/help","_blank",ln)}function Ht(){var sn;let ln=(sn=Et.value)==null?void 0:sn.querySelector("#markdown");ln.show=!ln.show}function Qt(){let ln=new URL(window.location.href).hostname,sn=ln==="localhost"||ln.indexOf("192.168.")===0,bn=sn?`${window.location.pathname}?code=testing`:it[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${it[location.hostname]}&scope=repo&state=juncture&redirect_uri=${location.href}`:null;console.log(`login: hostname=${ln} isDev=${sn} href=${bn}`),bn&&(window.location.href=bn)}function Zt(){console.log("logout"),Object.keys(localStorage).forEach(ln=>localStorage.removeItem(ln)),window.dispatchEvent(new Event("storage")),Tt.value=!1}function nn(ln){let sn="",bn=ln.label.toLowerCase();return Object.keys(st).forEach(wn=>{bn.indexOf(wn)>=0&&(sn=st[wn].icon)}),sn||"link"}function Kt(ln){console.log("menuItemSelected",ln);let sn=ln.href?ln.href.split("/").pop().toLowerCase():"";if(console.log(`action=${sn}`),(sn.indexOf("contact")>-1||ln.label.toLowerCase().indexOf("contact")===0)&&rt.contact)Yt();else if(sn==="login")Qt();else if(sn==="logout")Zt();else if(sn==="help")Xt();else if(sn==="markdown")Ht();else if(ln.href)if(ln.newWindow)zt&&zt.close(),zt=window.open(ln.href,"_blank","toolbar=yes,location=yes,left=0,top=0,width=1024,height=1200,scrollbars=yes,status=yes");else if(ln.href.indexOf("/window.")>0){let bn=ln.href.split("/window.").pop();window[bn]()}else location.href=ln.href}return(ln,sn)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:bt},[createBaseVNode("div",{class:"nav",style:normalizeStyle({backgroundColor:rt.background})},[Dt.value?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$c,[createBaseVNode("sl-dropdown",null,[_hoisted_3$b,createBaseVNode("sl-menu",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Dt.value,(bn,wn)=>(openBlock(),createElementBlock("div",{"data-item":JSON.stringify(bn),key:`nav-${wn}`},[createBaseVNode("sl-menu-item",{name:nn(bn),label:bn.label,onClick:Mn=>Kt(bn)},toDisplayString(bn.label),9,_hoisted_5$8)],8,_hoisted_4$9))),128))])])])])):createCommentVNode("",!0)],4),createBaseVNode("ve-contact",{contact:rt.contact,title:rt.contactFormTitle,subject:rt.contactSubject},null,8,_hoisted_6$6)],512))}}),_style_0$b=`:host,ve-menu{height:100%}:host(.right) .menu,ve-menu.right .menu{right:0}.hydrated ul{display:none}.nav{display:inline-block;position:relative;z-index:10;height:100%;background-color:inherit}.menu{display:none;clear:both;max-height:0;transition:max-height .2s ease-out;position:absolute;top:58px;width:200px;background-color:#0009;color:#fff}ul.menu{padding:0;list-style:none}.menu li{display:flex;padding:10px 20px;text-decoration:none;cursor:pointer;font-size:1rem}.menu li:hover{text-decoration:underline;background-color:inherit;filter:brightness(150%)}.menu-icon{cursor:pointer;display:inline-block;padding:34px 20px;position:relative;user-select:none}.menu-icon .navicon,.menu-icon .navicon:before,.menu-icon .navicon:after{background:#fff}.menu-icon .navicon{display:block;height:4px;border-radius:2px;position:relative;transition:background .2s ease-out;width:32px}.menu-icon .navicon:before,.menu-icon .navicon:after{content:"";display:block;height:100%;position:absolute;transition:all .2s ease-out;width:100%;border-radius:2px}.menu-icon .navicon:before{top:10px}.menu-icon .navicon:after{top:-10px}.menu sl-icon{padding-right:12px}.menu-btn{display:none}.menu-btn:checked~.wrapper{filter:brightness(150%);background-color:inherit}.menu-btn:checked~.wrapper .menu{max-height:unset;display:block}.menu-btn:checked~.wrapper .menu-icon .navicon{background:transparent}.menu-btn:checked~.wrapper .menu-icon .navicon:before{transform:rotate(-45deg)}.menu-btn:checked~.wrapper .menu-icon .navicon:after{transform:rotate(45deg)}.menu-btn:checked~.wrapper .menu-icon:not(.steps) .navicon:before,.menu-btn:checked~.wrapper .menu-icon:not(.steps) .navicon:after{top:0}
`,Menu=_export_sfc(_sfc_main$h,[["styles",[_style_0$b]]]);/*
 * Util
 * @version: 1.3.0
 * @author: HtmlStream
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */const MenuSearchHistory={historyIndex:-1,addHistory(nt){this.historyIndex=nt},existsInHistory(nt){return nt>this.historyIndex},clearHistory(){this.historyIndex=-1}};/*
 * HSDropdown
 * @version: 1.3.0
 * @author: HtmlStream
 * @requires: @popperjs/core ^2.11.2
 * @license: Licensed under MIT (https://preline.co/docs/license.html)
 * Copyright 2023 Htmlstream
 */const isIOS=()=>/iPad|iPhone|iPod/.test(navigator.platform)?!0:navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform);class HSDropdown extends Component{constructor(it){super(".hs-dropdown");Nc(this,"root");this.root=it,this.positions={top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-top":"right-start","right-bottom":"right-end",left:"left","left-top":"left-start","left-bottom":"left-end"},this.absoluteStrategyModifiers=st=>[{name:"applyStyles",fn:bt=>{const wt=(window.getComputedStyle(st).getPropertyValue("--strategy")||"absolute").replace(" ",""),Et=(window.getComputedStyle(st).getPropertyValue("--adaptive")||"adaptive").replace(" ","");bt.state.elements.popper.style.position=wt,bt.state.elements.popper.style.transform=Et==="adaptive"?bt.state.styles.popper.transform:null,bt.state.elements.popper.style.top=null,bt.state.elements.popper.style.bottom=null,bt.state.elements.popper.style.left=null,bt.state.elements.popper.style.right=null,bt.state.elements.popper.style.margin=0}},{name:"computeStyles",options:{adaptive:!1}}],this._history=MenuSearchHistory}init(){this.root.addEventListener("click",it=>{const st=it.target,bt=st.closest(this.selector),wt=st.closest(".hs-dropdown-menu");if((!bt||!bt.classList.contains("open"))&&this._closeOthers(bt),wt){const Et=(window.getComputedStyle(bt).getPropertyValue("--auto-close")||"").replace(" ","");if((Et=="false"||Et=="inside")&&!bt.parentElement.closest(this.selector))return}bt&&(bt.classList.contains("open")?this.close(bt):this.open(bt))}),this.root.addEventListener("mousemove",it=>{const st=it.target,bt=st.closest(this.selector);if(st.closest(".hs-dropdown-menu"),bt){const wt=(window.getComputedStyle(bt).getPropertyValue("--trigger")||"click").replace(" ","");if(wt!=="hover")return;(!bt||!bt.classList.contains("open"))&&this._closeOthers(bt),wt==="hover"&&!bt.classList.contains("open")&&!isIOS()&&!isIpadOS()&&this._hover(st)}}),this.root.addEventListener("keydown",this._keyboardSupport.bind(this)),window.addEventListener("resize",()=>{this.root.querySelectorAll(".hs-dropdown.open").forEach(st=>{this.close(st,!0)})})}_closeOthers(it=null){this.root.querySelectorAll(`${this.selector}.open`).forEach(bt=>{if(it&&it.closest(".hs-dropdown.open")===bt)return;const wt=(window.getComputedStyle(bt).getPropertyValue("--auto-close")||"").replace(" ","");wt=="false"||wt=="outside"||this.close(bt)})}_hover(it){const st=it.closest(this.selector);this.open(st);const bt=wt=>{(!wt.target.closest(this.selector)||wt.target.closest(this.selector)===st.parentElement.closest(this.selector))&&(this.close(st),this.root.removeEventListener("mousemove",bt,!0))};this.root.addEventListener("mousemove",bt,!0)}close(it,st=!1){const bt=it.querySelector(".hs-dropdown-menu"),wt=()=>{it.classList.contains("open")||(bt.classList.remove("block"),bt.classList.add("hidden"),bt.style.inset=null,bt.style.position=null,it._popper&&it._popper.destroy())};st||this.afterTransition(it.querySelector("[data-hs-dropdown-transition]")||bt,()=>{wt()}),bt.style.margin=null,it.classList.remove("open"),st&&wt(),this._fireEvent("close",it),this._dispatch("close.hs.dropdown",it,it),bt.querySelectorAll(".hs-dropdown.open").forEach(Tt=>{this.close(Tt,!0)})}open(it){const st=it.querySelector(".hs-dropdown-menu"),bt=(window.getComputedStyle(it).getPropertyValue("--placement")||"").replace(" ",""),wt=(window.getComputedStyle(it).getPropertyValue("--strategy")||"fixed").replace(" ","");(window.getComputedStyle(it).getPropertyValue("--adaptive")||"adaptive").replace(" ","");const Et=parseInt((window.getComputedStyle(it).getPropertyValue("--offset")||"10").replace(" ",""));if(wt!=="static"){it._popper&&it._popper.destroy();const Tt=createPopper(it,st,{placement:this.positions[bt]||"bottom-start",strategy:wt,modifiers:[...wt!=="fixed"?this.absoluteStrategyModifiers(it):[],{name:"offset",options:{offset:[0,Et]}}]});it._popper=Tt}st.style.margin=null,st.classList.add("block"),st.classList.remove("hidden"),setTimeout(()=>{it.classList.add("open")}),this._fireEvent("open",it),this._dispatch("open.hs.dropdown",it,it)}_keyboardSupport(it){const st=this.root.querySelector(".hs-dropdown.open");if(!!st){if(it.keyCode===27)return it.preventDefault(),this._esc(st);if(it.keyCode===40)return it.preventDefault(),this._down(st);if(it.keyCode===38)return it.preventDefault(),this._up(st);if(it.keyCode===36)return it.preventDefault(),this._start(st);if(it.keyCode===35)return it.preventDefault(),this._end(st);this._byChar(st,it.key)}}_esc(it){this.close(it)}_up(it){const st=it.querySelector(".hs-dropdown-menu"),bt=[...st.querySelectorAll("a")].reverse().filter(Tt=>!Tt.disabled),wt=st.querySelector("a:focus");let Et=bt.findIndex(Tt=>Tt===wt);Et+1<bt.length&&Et++,bt[Et].focus()}_down(it){const st=it.querySelector(".hs-dropdown-menu"),bt=[...st.querySelectorAll("a")].filter(Tt=>!Tt.disabled),wt=st.querySelector("a:focus");let Et=bt.findIndex(Tt=>Tt===wt);Et+1<bt.length&&Et++,bt[Et].focus()}_start(it){const bt=[...it.querySelector(".hs-dropdown-menu").querySelectorAll("a")].filter(wt=>!wt.disabled);bt.length&&bt[0].focus()}_end(it){const bt=[...it.querySelector(".hs-dropdown-menu").querySelectorAll("a")].reverse().filter(wt=>!wt.disabled);bt.length&&bt[0].focus()}_byChar(it,st){const wt=[...it.querySelector(".hs-dropdown-menu").querySelectorAll("a")],Et=()=>wt.findIndex((At,Dt)=>At.innerText.toLowerCase().charAt(0)===st.toLowerCase()&&this._history.existsInHistory(Dt));let Tt=Et();Tt===-1&&(this._history.clearHistory(),Tt=Et()),Tt!==-1&&(wt[Tt].focus(),this._history.addHistory(Tt))}toggle(it){it.classList.contains("open")?this.close(it):this.open(it)}}const _hoisted_1$e=createBaseVNode("button",{id:"hs-dropdown-custom-icon-trigger",type:"button","aria-label":"Site navigation menu",class:"hs-dropdown-toggle p-3 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800"},[createBaseVNode("svg",{class:"w-4 h-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2$b={class:"hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[15rem] bg-white shadow-md rounded-lg p-2 mt-2 dark:bg-gray-800 dark:border dark:border-gray-700","aria-labelledby":"hs-dropdown-custom-icon-trigger"},_hoisted_3$a=["href"],_sfc_main$g=defineComponent({__name:"MenuTWP.ce",props:{logo:{type:String},title:{type:String}},setup(nt){const rt=ref(null),it=computed(()=>{var Et,Tt;return(Tt=(Et=rt.value)==null?void 0:Et.getRootNode())==null?void 0:Tt.host}),st=computed(()=>{var Et;return(Et=rt==null?void 0:rt.value)==null?void 0:Et.parentNode});watch$1(st,()=>{new HSDropdown(st.value).init()}),watch$1(it,()=>{wt()});const bt=ref([]);function wt(){let Et=it.value.parentElement.querySelector("ve-menu-twp");function Tt(){bt.value=Array.from(Et.querySelectorAll("li")).map(At=>{const Dt=At.querySelector("a");return{label:Dt.innerText,href:Dt.href}})}Tt(),new MutationObserver(At=>{for(let Dt of At)Dt.type==="childList"&&Tt()}).observe(Et,{childList:!0,subtree:!0})}return(Et,Tt)=>(openBlock(),createElementBlock("nav",{class:"hs-dropdown relative inline-flex",ref_key:"root",ref:rt},[_hoisted_1$e,createBaseVNode("div",_hoisted_2$b,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bt.value,At=>(openBlock(),createElementBlock("a",{key:At.href,class:"flex items-center gap-x-3.5 py-2 px-3 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:At.href},toDisplayString(At.label),9,_hoisted_3$a))),128))])],512))}}),_style_0$a=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,MenuTWP=_export_sfc(_sfc_main$g,[["styles",[_style_0$a]]]);var netlifyIdentity$1={exports:{}};(function(nt,rt){(function(it,st){nt.exports=st()})(commonjsGlobal$1,function(){return function(it){var st={};function bt(wt){if(st[wt])return st[wt].exports;var Et=st[wt]={i:wt,l:!1,exports:{}};return it[wt].call(Et.exports,Et,Et.exports,bt),Et.l=!0,Et.exports}return bt.m=it,bt.c=st,bt.d=function(wt,Et,Tt){bt.o(wt,Et)||Object.defineProperty(wt,Et,{enumerable:!0,get:Tt})},bt.r=function(wt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(wt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(wt,"__esModule",{value:!0})},bt.t=function(wt,Et){if(1&Et&&(wt=bt(wt)),8&Et||4&Et&&typeof wt=="object"&&wt&&wt.__esModule)return wt;var Tt=Object.create(null);if(bt.r(Tt),Object.defineProperty(Tt,"default",{enumerable:!0,value:wt}),2&Et&&typeof wt!="string")for(var At in wt)bt.d(Tt,At,function(Dt){return wt[Dt]}.bind(null,At));return Tt},bt.n=function(wt){var Et=wt&&wt.__esModule?function(){return wt.default}:function(){return wt};return bt.d(Et,"a",Et),Et},bt.o=function(wt,Et){return Object.prototype.hasOwnProperty.call(wt,Et)},bt.p="/",bt(bt.s=8)}([function(it,st,bt){bt.r(st),bt.d(st,"h",function(){return Dt}),bt.d(st,"createElement",function(){return Dt}),bt.d(st,"cloneElement",function(){return Bt}),bt.d(st,"createRef",function(){return Pr}),bt.d(st,"Component",function(){return vr}),bt.d(st,"render",function(){return Ir}),bt.d(st,"rerender",function(){return Qt}),bt.d(st,"options",function(){return Et});var wt=function(){},Et={},Tt=[],At=[];function Dt(tr,qn){var mr,br,hr,An,rn=At;for(An=arguments.length;An-- >2;)Tt.push(arguments[An]);for(qn&&qn.children!=null&&(Tt.length||Tt.push(qn.children),delete qn.children);Tt.length;)if((br=Tt.pop())&&br.pop!==void 0)for(An=br.length;An--;)Tt.push(br[An]);else typeof br=="boolean"&&(br=null),(hr=typeof tr!="function")&&(br==null?br="":typeof br=="number"?br=String(br):typeof br!="string"&&(hr=!1)),hr&&mr?rn[rn.length-1]+=br:rn===At?rn=[br]:rn.push(br),mr=hr;var vn=new wt;return vn.nodeName=tr,vn.children=rn,vn.attributes=qn==null?void 0:qn,vn.key=qn==null?void 0:qn.key,Et.vnode!==void 0&&Et.vnode(vn),vn}function Ot(tr,qn){for(var mr in qn)tr[mr]=qn[mr];return tr}function zt(tr,qn){tr&&(typeof tr=="function"?tr(qn):tr.current=qn)}var $t=typeof Promise=="function"?Promise.resolve().then.bind(Promise.resolve()):setTimeout;function Bt(tr,qn){return Dt(tr.nodeName,Ot(Ot({},tr.attributes),qn),arguments.length>2?[].slice.call(arguments,2):tr.children)}var Yt=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,Xt=[];function Ht(tr){!tr._dirty&&(tr._dirty=!0)&&Xt.push(tr)==1&&(Et.debounceRendering||$t)(Qt)}function Qt(){for(var tr;tr=Xt.pop();)tr._dirty&&lr(tr)}function Zt(tr,qn,mr){return typeof qn=="string"||typeof qn=="number"?tr.splitText!==void 0:typeof qn.nodeName=="string"?!tr._componentConstructor&&nn(tr,qn.nodeName):mr||tr._componentConstructor===qn.nodeName}function nn(tr,qn){return tr.normalizedNodeName===qn||tr.nodeName.toLowerCase()===qn.toLowerCase()}function Kt(tr){var qn=Ot({},tr.attributes);qn.children=tr.children;var mr=tr.nodeName.defaultProps;if(mr!==void 0)for(var br in mr)qn[br]===void 0&&(qn[br]=mr[br]);return qn}function ln(tr){var qn=tr.parentNode;qn&&qn.removeChild(tr)}function sn(tr,qn,mr,br,hr){if(qn==="className"&&(qn="class"),qn!=="key")if(qn==="ref")zt(mr,null),zt(br,tr);else if(qn!=="class"||hr)if(qn==="style"){if(br&&typeof br!="string"&&typeof mr!="string"||(tr.style.cssText=br||""),br&&typeof br=="object"){if(typeof mr!="string")for(var An in mr)An in br||(tr.style[An]="");for(var An in br)tr.style[An]=typeof br[An]=="number"&&Yt.test(An)===!1?br[An]+"px":br[An]}}else if(qn==="dangerouslySetInnerHTML")br&&(tr.innerHTML=br.__html||"");else if(qn[0]=="o"&&qn[1]=="n"){var rn=qn!==(qn=qn.replace(/Capture$/,""));qn=qn.toLowerCase().substring(2),br?mr||tr.addEventListener(qn,bn,rn):tr.removeEventListener(qn,bn,rn),(tr._listeners||(tr._listeners={}))[qn]=br}else if(qn!=="list"&&qn!=="type"&&!hr&&qn in tr){try{tr[qn]=br==null?"":br}catch{}br!=null&&br!==!1||qn=="spellcheck"||tr.removeAttribute(qn)}else{var vn=hr&&qn!==(qn=qn.replace(/^xlink:?/,""));br==null||br===!1?vn?tr.removeAttributeNS("http://www.w3.org/1999/xlink",qn.toLowerCase()):tr.removeAttribute(qn):typeof br!="function"&&(vn?tr.setAttributeNS("http://www.w3.org/1999/xlink",qn.toLowerCase(),br):tr.setAttribute(qn,br))}else tr.className=br||""}function bn(tr){return this._listeners[tr.type](Et.event&&Et.event(tr)||tr)}var wn=[],Mn=0,Sn=!1,Dn=!1;function gn(){for(var tr;tr=wn.shift();)Et.afterMount&&Et.afterMount(tr),tr.componentDidMount&&tr.componentDidMount()}function Un(tr,qn,mr,br,hr,An){Mn++||(Sn=hr!=null&&hr.ownerSVGElement!==void 0,Dn=tr!=null&&!("__preactattr_"in tr));var rn=pn(tr,qn,mr,br,An);return hr&&rn.parentNode!==hr&&hr.appendChild(rn),--Mn||(Dn=!1,An||gn()),rn}function pn(tr,qn,mr,br,hr){var An=tr,rn=Sn;if(qn!=null&&typeof qn!="boolean"||(qn=""),typeof qn=="string"||typeof qn=="number")return tr&&tr.splitText!==void 0&&tr.parentNode&&(!tr._component||hr)?tr.nodeValue!=qn&&(tr.nodeValue=qn):(An=document.createTextNode(qn),tr&&(tr.parentNode&&tr.parentNode.replaceChild(An,tr),yr(tr,!0))),An.__preactattr_=!0,An;var vn,hn,zn=qn.nodeName;if(typeof zn=="function")return function(gr,xr,Lr,Cr){for(var Ar=gr&&gr._component,mi=Ar,vi=gr,xi=Ar&&gr._componentConstructor===xr.nodeName,Ci=xi,Ei=Kt(xr);Ar&&!Ci&&(Ar=Ar._parentComponent);)Ci=Ar.constructor===xr.nodeName;return Ar&&Ci&&(!Cr||Ar._component)?(Gn(Ar,Ei,3,Lr,Cr),gr=Ar.base):(mi&&!xi&&(ur(mi),gr=vi=null),Ar=fr(xr.nodeName,Ei,Lr),gr&&!Ar.nextBase&&(Ar.nextBase=gr,vi=null),Gn(Ar,Ei,1,Lr,Cr),gr=Ar.base,vi&&gr!==vi&&(vi._component=null,yr(vi,!1))),gr}(tr,qn,mr,br);if(Sn=zn==="svg"||zn!=="foreignObject"&&Sn,zn=String(zn),(!tr||!nn(tr,zn))&&(vn=zn,(hn=Sn?document.createElementNS("http://www.w3.org/2000/svg",vn):document.createElement(vn)).normalizedNodeName=vn,An=hn,tr)){for(;tr.firstChild;)An.appendChild(tr.firstChild);tr.parentNode&&tr.parentNode.replaceChild(An,tr),yr(tr,!0)}var On=An.firstChild,Er=An.__preactattr_,Rn=qn.children;if(Er==null){Er=An.__preactattr_={};for(var rr=An.attributes,Kn=rr.length;Kn--;)Er[rr[Kn].name]=rr[Kn].value}return!Dn&&Rn&&Rn.length===1&&typeof Rn[0]=="string"&&On!=null&&On.splitText!==void 0&&On.nextSibling==null?On.nodeValue!=Rn[0]&&(On.nodeValue=Rn[0]):(Rn&&Rn.length||On!=null)&&function(gr,xr,Lr,Cr,Ar){var mi,vi,xi,Ci,Ei,Bi=gr.childNodes,Ai=[],Fr={},Ln=0,Nn=0,er=Bi.length,sr=0,Nr=xr?xr.length:0;if(er!==0)for(var Jr=0;Jr<er;Jr++){var Dr=Bi[Jr],yi=Dr.__preactattr_;(Br=Nr&&yi?Dr._component?Dr._component.__key:yi.key:null)!=null?(Ln++,Fr[Br]=Dr):(yi||(Dr.splitText!==void 0?!Ar||Dr.nodeValue.trim():Ar))&&(Ai[sr++]=Dr)}if(Nr!==0)for(Jr=0;Jr<Nr;Jr++){var Br;if(Ci=xr[Jr],Ei=null,(Br=Ci.key)!=null)Ln&&Fr[Br]!==void 0&&(Ei=Fr[Br],Fr[Br]=void 0,Ln--);else if(Nn<sr){for(mi=Nn;mi<sr;mi++)if(Ai[mi]!==void 0&&Zt(vi=Ai[mi],Ci,Ar)){Ei=vi,Ai[mi]=void 0,mi===sr-1&&sr--,mi===Nn&&Nn++;break}}Ei=pn(Ei,Ci,Lr,Cr),xi=Bi[Jr],Ei&&Ei!==gr&&Ei!==xi&&(xi==null?gr.appendChild(Ei):Ei===xi.nextSibling?ln(xi):gr.insertBefore(Ei,xi))}if(Ln)for(var Jr in Fr)Fr[Jr]!==void 0&&yr(Fr[Jr],!1);for(;Nn<=sr;)(Ei=Ai[sr--])!==void 0&&yr(Ei,!1)}(An,Rn,mr,br,Dn||Er.dangerouslySetInnerHTML!=null),function(gr,xr,Lr){var Cr;for(Cr in Lr)xr&&xr[Cr]!=null||Lr[Cr]==null||sn(gr,Cr,Lr[Cr],Lr[Cr]=void 0,Sn);for(Cr in xr)Cr==="children"||Cr==="innerHTML"||Cr in Lr&&xr[Cr]===(Cr==="value"||Cr==="checked"?gr[Cr]:Lr[Cr])||sn(gr,Cr,Lr[Cr],Lr[Cr]=xr[Cr],Sn)}(An,qn.attributes,Er),Sn=rn,An}function yr(tr,qn){var mr=tr._component;mr?ur(mr):(tr.__preactattr_!=null&&zt(tr.__preactattr_.ref,null),qn!==!1&&tr.__preactattr_!=null||ln(tr),xn(tr))}function xn(tr){for(tr=tr.lastChild;tr;){var qn=tr.previousSibling;yr(tr,!0),tr=qn}}var Mr=[];function fr(tr,qn,mr){var br,hr=Mr.length;for(tr.prototype&&tr.prototype.render?(br=new tr(qn,mr),vr.call(br,qn,mr)):((br=new vr(qn,mr)).constructor=tr,br.render=cr);hr--;)if(Mr[hr].constructor===tr)return br.nextBase=Mr[hr].nextBase,Mr.splice(hr,1),br;return br}function cr(tr,qn,mr){return this.constructor(tr,mr)}function Gn(tr,qn,mr,br,hr){tr._disable||(tr._disable=!0,tr.__ref=qn.ref,tr.__key=qn.key,delete qn.ref,delete qn.key,tr.constructor.getDerivedStateFromProps===void 0&&(!tr.base||hr?tr.componentWillMount&&tr.componentWillMount():tr.componentWillReceiveProps&&tr.componentWillReceiveProps(qn,br)),br&&br!==tr.context&&(tr.prevContext||(tr.prevContext=tr.context),tr.context=br),tr.prevProps||(tr.prevProps=tr.props),tr.props=qn,tr._disable=!1,mr!==0&&(mr!==1&&Et.syncComponentUpdates===!1&&tr.base?Ht(tr):lr(tr,1,hr)),zt(tr.__ref,tr))}function lr(tr,qn,mr,br){if(!tr._disable){var hr,An,rn,vn=tr.props,hn=tr.state,zn=tr.context,On=tr.prevProps||vn,Er=tr.prevState||hn,Rn=tr.prevContext||zn,rr=tr.base,Kn=tr.nextBase,gr=rr||Kn,xr=tr._component,Lr=!1,Cr=Rn;if(tr.constructor.getDerivedStateFromProps&&(hn=Ot(Ot({},hn),tr.constructor.getDerivedStateFromProps(vn,hn)),tr.state=hn),rr&&(tr.props=On,tr.state=Er,tr.context=Rn,qn!==2&&tr.shouldComponentUpdate&&tr.shouldComponentUpdate(vn,hn,zn)===!1?Lr=!0:tr.componentWillUpdate&&tr.componentWillUpdate(vn,hn,zn),tr.props=vn,tr.state=hn,tr.context=zn),tr.prevProps=tr.prevState=tr.prevContext=tr.nextBase=null,tr._dirty=!1,!Lr){hr=tr.render(vn,hn,zn),tr.getChildContext&&(zn=Ot(Ot({},zn),tr.getChildContext())),rr&&tr.getSnapshotBeforeUpdate&&(Cr=tr.getSnapshotBeforeUpdate(On,Er));var Ar,mi,vi=hr&&hr.nodeName;if(typeof vi=="function"){var xi=Kt(hr);(An=xr)&&An.constructor===vi&&xi.key==An.__key?Gn(An,xi,1,zn,!1):(Ar=An,tr._component=An=fr(vi,xi,zn),An.nextBase=An.nextBase||Kn,An._parentComponent=tr,Gn(An,xi,0,zn,!1),lr(An,1,mr,!0)),mi=An.base}else rn=gr,(Ar=xr)&&(rn=tr._component=null),(gr||qn===1)&&(rn&&(rn._component=null),mi=Un(rn,hr,zn,mr||!rr,gr&&gr.parentNode,!0));if(gr&&mi!==gr&&An!==xr){var Ci=gr.parentNode;Ci&&mi!==Ci&&(Ci.replaceChild(mi,gr),Ar||(gr._component=null,yr(gr,!1)))}if(Ar&&ur(Ar),tr.base=mi,mi&&!br){for(var Ei=tr,Bi=tr;Bi=Bi._parentComponent;)(Ei=Bi).base=mi;mi._component=Ei,mi._componentConstructor=Ei.constructor}}for(!rr||mr?wn.push(tr):Lr||(tr.componentDidUpdate&&tr.componentDidUpdate(On,Er,Cr),Et.afterUpdate&&Et.afterUpdate(tr));tr._renderCallbacks.length;)tr._renderCallbacks.pop().call(tr);Mn||br||gn()}}function ur(tr){Et.beforeUnmount&&Et.beforeUnmount(tr);var qn=tr.base;tr._disable=!0,tr.componentWillUnmount&&tr.componentWillUnmount(),tr.base=null;var mr=tr._component;mr?ur(mr):qn&&(qn.__preactattr_!=null&&zt(qn.__preactattr_.ref,null),tr.nextBase=qn,ln(qn),Mr.push(tr),xn(qn)),zt(tr.__ref,null)}function vr(tr,qn){this._dirty=!0,this.context=qn,this.props=tr,this.state=this.state||{},this._renderCallbacks=[]}function Ir(tr,qn,mr){return Un(mr,tr,{},!1,qn,!1)}function Pr(){return{}}Ot(vr.prototype,{setState:function(tr,qn){this.prevState||(this.prevState=this.state),this.state=Ot(Ot({},this.state),typeof tr=="function"?tr(this.state,this.props):tr),qn&&this._renderCallbacks.push(qn),Ht(this)},forceUpdate:function(tr){tr&&this._renderCallbacks.push(tr),lr(this,2)},render:function(){}});var _r={h:Dt,createElement:Dt,cloneElement:Bt,createRef:Pr,Component:vr,render:Ir,rerender:Qt,options:Et};st.default=_r},function(it,st,bt){bt.r(st),function(wt){bt.d(st,"$mobx",function(){return wn}),bt.d(st,"FlowCancellationError",function(){return _s}),bt.d(st,"IDerivationState",function(){return Rn}),bt.d(st,"ObservableMap",function(){return kh}),bt.d(st,"ObservableSet",function(){return Gl}),bt.d(st,"Reaction",function(){return Ii}),bt.d(st,"_allowStateChanges",function(){return Si}),bt.d(st,"_allowStateChangesInsideComputed",function(){return Li}),bt.d(st,"_allowStateReadsEnd",function(){return Ln}),bt.d(st,"_allowStateReadsStart",function(){return Fr}),bt.d(st,"_endAction",function(){return Br}),bt.d(st,"_getAdministration",function(){return nr}),bt.d(st,"_getGlobalState",function(){return ca}),bt.d(st,"_interceptReads",function(){return Ic}),bt.d(st,"_isComputingDerivation",function(){return mi}),bt.d(st,"_resetGlobalState",function(){return Sa}),bt.d(st,"_startAction",function(){return yi}),bt.d(st,"action",function(){return ho}),bt.d(st,"autorun",function(){return tl}),bt.d(st,"comparer",function(){return gn}),bt.d(st,"computed",function(){return xr}),bt.d(st,"configure",function(){return Gi}),bt.d(st,"createAtom",function(){return Dn}),bt.d(st,"decorate",function(){return To}),bt.d(st,"entries",function(){return Th}),bt.d(st,"extendObservable",function(){return $s}),bt.d(st,"flow",function(){return Ys}),bt.d(st,"get",function(){return Pu}),bt.d(st,"getAtom",function(){return $n}),bt.d(st,"getDebugName",function(){return kr}),bt.d(st,"getDependencyTree",function(){return ls}),bt.d(st,"getObserverTree",function(){return Xo}),bt.d(st,"has",function(){return qc}),bt.d(st,"intercept",function(){return vc}),bt.d(st,"isAction",function(){return _o}),bt.d(st,"isArrayLike",function(){return Qt}),bt.d(st,"isBoxedObservable",function(){return Ui}),bt.d(st,"isComputed",function(){return cu}),bt.d(st,"isComputedProp",function(){return uu}),bt.d(st,"isFlowCancellationError",function(){return vl}),bt.d(st,"isObservable",function(){return Po}),bt.d(st,"isObservableArray",function(){return Ga}),bt.d(st,"isObservableMap",function(){return rl}),bt.d(st,"isObservableObject",function(){return yn}),bt.d(st,"isObservableProp",function(){return As}),bt.d(st,"isObservableSet",function(){return cs}),bt.d(st,"keys",function(){return fo}),bt.d(st,"observable",function(){return On}),bt.d(st,"observe",function(){return Ul}),bt.d(st,"onBecomeObserved",function(){return Vo}),bt.d(st,"onBecomeUnobserved",function(){return xo}),bt.d(st,"onReactionError",function(){return zo}),bt.d(st,"reaction",function(){return yc}),bt.d(st,"remove",function(){return Ou}),bt.d(st,"runInAction",function(){return Fi}),bt.d(st,"set",function(){return Lu}),bt.d(st,"spy",function(){return ys}),bt.d(st,"toJS",function(){return Qc}),bt.d(st,"trace",function(){return Mh}),bt.d(st,"transaction",function(){return Hl}),bt.d(st,"untracked",function(){return Ei}),bt.d(st,"values",function(){return Il}),bt.d(st,"when",function(){return Ol});var Et=[];Object.freeze(Et);var Tt={};function At(){return++Ti.mobxGuid}function Dt(cn){throw Ot(!1,cn),"X"}function Ot(cn,dn){if(!cn)throw new Error("[mobx] "+(dn||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(Tt);function zt(cn){var dn=!1;return function(){if(!dn)return dn=!0,cn.apply(this,arguments)}}var $t=function(){};function Bt(cn){return cn!==null&&typeof cn=="object"}function Yt(cn){if(cn===null||typeof cn!="object")return!1;var dn=Object.getPrototypeOf(cn);return dn===Object.prototype||dn===null}function Xt(cn,dn,Pn){Object.defineProperty(cn,dn,{enumerable:!1,writable:!0,configurable:!0,value:Pn})}function Ht(cn,dn){var Pn="isMobX"+cn;return dn.prototype[Pn]=!0,function(or){return Bt(or)&&or[Pn]===!0}}function Qt(cn){return Array.isArray(cn)||Ga(cn)}function Zt(cn){return cn instanceof Map}function nn(cn){return cn instanceof Set}function Kt(cn){var dn=new Set;for(var Pn in cn)dn.add(Pn);return Object.getOwnPropertySymbols(cn).forEach(function(or){Object.getOwnPropertyDescriptor(cn,or).enumerable&&dn.add(or)}),Array.from(dn)}function ln(cn){return cn&&cn.toString?cn.toString():new String(cn).toString()}function sn(cn){return cn===null?null:typeof cn=="object"?""+cn:cn}var bn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(cn){return Object.getOwnPropertyNames(cn).concat(Object.getOwnPropertySymbols(cn))}:Object.getOwnPropertyNames,wn=Symbol("mobx administration"),Mn=function(){function cn(dn){dn===void 0&&(dn="Atom@"+At()),this.name=dn,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=Rn.NOT_TRACKING}return cn.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(dn){return dn()})},cn.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(dn){return dn()})},cn.prototype.reportObserved=function(){return Zr(this)},cn.prototype.reportChanged=function(){Ur(),function(dn){dn.lowestObserverState!==Rn.STALE&&(dn.lowestObserverState=Rn.STALE,dn.observers.forEach(function(Pn){Pn.dependenciesState===Rn.UP_TO_DATE&&(Pn.isTracing!==rr.NONE&&bi(Pn,dn),Pn.onBecomeStale()),Pn.dependenciesState=Rn.STALE}))}(this),Tr()},cn.prototype.toString=function(){return this.name},cn}(),Sn=Ht("Atom",Mn);function Dn(cn,dn,Pn){dn===void 0&&(dn=$t),Pn===void 0&&(Pn=$t);var or=new Mn(cn);return dn!==$t&&Vo(or,dn),Pn!==$t&&xo(or,Pn),or}var gn={identity:function(cn,dn){return cn===dn},structural:function(cn,dn){return ci(cn,dn)},default:function(cn,dn){return Object.is(cn,dn)},shallow:function(cn,dn){return ci(cn,dn,1)}},Un=function(cn,dn){return(Un=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Pn,or){Pn.__proto__=or}||function(Pn,or){for(var wr in or)or.hasOwnProperty(wr)&&(Pn[wr]=or[wr])})(cn,dn)};/*! *****************************************************************************
	Copyright (c) Microsoft Corporation. All rights reserved.
	Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	this file except in compliance with the License. You may obtain a copy of the
	License at http://www.apache.org/licenses/LICENSE-2.0

	THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	MERCHANTABLITY OR NON-INFRINGEMENT.

	See the Apache Version 2.0 License for specific language governing permissions
	and limitations under the License.
	***************************************************************************** */var pn=function(){return(pn=Object.assign||function(cn){for(var dn,Pn=1,or=arguments.length;Pn<or;Pn++)for(var wr in dn=arguments[Pn])Object.prototype.hasOwnProperty.call(dn,wr)&&(cn[wr]=dn[wr]);return cn}).apply(this,arguments)};function yr(cn){var dn=typeof Symbol=="function"&&cn[Symbol.iterator],Pn=0;return dn?dn.call(cn):{next:function(){return cn&&Pn>=cn.length&&(cn=void 0),{value:cn&&cn[Pn++],done:!cn}}}}function xn(cn,dn){var Pn=typeof Symbol=="function"&&cn[Symbol.iterator];if(!Pn)return cn;var or,wr,Rr=Pn.call(cn),Kr=[];try{for(;(dn===void 0||dn-- >0)&&!(or=Rr.next()).done;)Kr.push(or.value)}catch(_i){wr={error:_i}}finally{try{or&&!or.done&&(Pn=Rr.return)&&Pn.call(Rr)}finally{if(wr)throw wr.error}}return Kr}function Mr(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn=cn.concat(xn(arguments[dn]));return cn}var fr=Symbol("mobx did run lazy initializers"),cr=Symbol("mobx pending decorators"),Gn={},lr={};function ur(cn,dn){var Pn=dn?Gn:lr;return Pn[cn]||(Pn[cn]={configurable:!0,enumerable:dn,get:function(){return vr(this),this[cn]},set:function(or){vr(this),this[cn]=or}})}function vr(cn){var dn,Pn;if(cn[fr]!==!0){var or=cn[cr];if(or){Xt(cn,fr,!0);var wr=Mr(Object.getOwnPropertySymbols(or),Object.keys(or));try{for(var Rr=yr(wr),Kr=Rr.next();!Kr.done;Kr=Rr.next()){var _i=or[Kr.value];_i.propertyCreator(cn,_i.prop,_i.descriptor,_i.decoratorTarget,_i.decoratorArguments)}}catch(Ji){dn={error:Ji}}finally{try{Kr&&!Kr.done&&(Pn=Rr.return)&&Pn.call(Rr)}finally{if(dn)throw dn.error}}}}}function Ir(cn,dn){return function(){var Pn,or=function(wr,Rr,Kr,_i){if(_i===!0)return dn(wr,Rr,Kr,wr,Pn),null;if(!Object.prototype.hasOwnProperty.call(wr,cr)){var Ji=wr[cr];Xt(wr,cr,pn({},Ji))}return wr[cr][Rr]={prop:Rr,propertyCreator:dn,descriptor:Kr,decoratorTarget:wr,decoratorArguments:Pn},ur(Rr,cn)};return Pr(arguments)?(Pn=Et,or.apply(null,arguments)):(Pn=Array.prototype.slice.call(arguments),or)}}function Pr(cn){return(cn.length===2||cn.length===3)&&(typeof cn[1]=="string"||typeof cn[1]=="symbol")||cn.length===4&&cn[3]===!0}function _r(cn,dn,Pn){return Po(cn)?cn:Array.isArray(cn)?On.array(cn,{name:Pn}):Yt(cn)?On.object(cn,void 0,{name:Pn}):Zt(cn)?On.map(cn,{name:Pn}):nn(cn)?On.set(cn,{name:Pn}):cn}function tr(cn){return cn}function qn(cn){Ot(cn);var dn=Ir(!0,function(or,wr,Rr,Kr,_i){var Ji=Rr?Rr.initializer?Rr.initializer.call(or):Rr.value:void 0;Ls(or).addObservableProp(wr,Ji,cn)}),Pn=dn;return Pn.enhancer=cn,Pn}var mr={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function br(cn){return cn==null?mr:typeof cn=="string"?{name:cn,deep:!0,proxy:!0}:cn}Object.freeze(mr);var hr=qn(_r),An=qn(function(cn,dn,Pn){return cn==null||yn(cn)||Ga(cn)||rl(cn)||cs(cn)?cn:Array.isArray(cn)?On.array(cn,{name:Pn,deep:!1}):Yt(cn)?On.object(cn,void 0,{name:Pn,deep:!1}):Zt(cn)?On.map(cn,{name:Pn,deep:!1}):nn(cn)?On.set(cn,{name:Pn,deep:!1}):Dt(!1)}),rn=qn(tr),vn=qn(function(cn,dn,Pn){return ci(cn,dn)?dn:cn});function hn(cn){return cn.defaultDecorator?cn.defaultDecorator.enhancer:cn.deep===!1?tr:_r}var zn={box:function(cn,dn){arguments.length>2&&Er("box");var Pn=br(dn);return new eo(cn,hn(Pn),Pn.name,!0,Pn.equals)},array:function(cn,dn){arguments.length>2&&Er("array");var Pn=br(dn);return nh(cn,hn(Pn),Pn.name)},map:function(cn,dn){arguments.length>2&&Er("map");var Pn=br(dn);return new kh(cn,hn(Pn),Pn.name)},set:function(cn,dn){arguments.length>2&&Er("set");var Pn=br(dn);return new Gl(cn,hn(Pn),Pn.name)},object:function(cn,dn,Pn){typeof arguments[1]=="string"&&Er("object");var or=br(Pn);if(or.proxy===!1)return $s({},cn,dn,or);var wr=ec(or),Rr=$s({},void 0,void 0,or),Kr=Ru(Rr);return Nl(Kr,cn,dn,wr),Kr},ref:rn,shallow:An,deep:hr,struct:vn},On=function(cn,dn,Pn){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return hr.apply(null,arguments);if(Po(cn))return cn;var or=Yt(cn)?On.object(cn,dn,Pn):Array.isArray(cn)?On.array(cn,dn):Zt(cn)?On.map(cn,dn):nn(cn)?On.set(cn,dn):cn;if(or!==cn)return or;Dt(!1)};function Er(cn){Dt("Expected one or two arguments to observable."+cn+". Did you accidentally try to use observable."+cn+" as decorator?")}Object.keys(zn).forEach(function(cn){return On[cn]=zn[cn]});var Rn,rr,Kn=Ir(!1,function(cn,dn,Pn,or,wr){var Rr=Pn.get,Kr=Pn.set,_i=wr[0]||{};Ls(cn).addComputedProp(cn,dn,pn({get:Rr,set:Kr,context:cn},_i))}),gr=Kn({equals:gn.structural}),xr=function(cn,dn,Pn){if(typeof dn=="string"||cn!==null&&typeof cn=="object"&&arguments.length===1)return Kn.apply(null,arguments);var or=typeof dn=="object"?dn:{};return or.get=cn,or.set=typeof dn=="function"?dn:or.set,or.name=or.name||cn.name||"",new oo(or)};xr.struct=gr,function(cn){cn[cn.NOT_TRACKING=-1]="NOT_TRACKING",cn[cn.UP_TO_DATE=0]="UP_TO_DATE",cn[cn.POSSIBLY_STALE=1]="POSSIBLY_STALE",cn[cn.STALE=2]="STALE"}(Rn||(Rn={})),function(cn){cn[cn.NONE=0]="NONE",cn[cn.LOG=1]="LOG",cn[cn.BREAK=2]="BREAK"}(rr||(rr={}));var Lr=function(cn){this.cause=cn};function Cr(cn){return cn instanceof Lr}function Ar(cn){switch(cn.dependenciesState){case Rn.UP_TO_DATE:return!1;case Rn.NOT_TRACKING:case Rn.STALE:return!0;case Rn.POSSIBLY_STALE:for(var dn=Fr(!0),Pn=Bi(),or=cn.observing,wr=or.length,Rr=0;Rr<wr;Rr++){var Kr=or[Rr];if(wo(Kr)){if(Ti.disableErrorBoundaries)Kr.get();else try{Kr.get()}catch{return Ai(Pn),Ln(dn),!0}if(cn.dependenciesState===Rn.STALE)return Ai(Pn),Ln(dn),!0}}return Nn(cn),Ai(Pn),Ln(dn),!1}}function mi(){return Ti.trackingDerivation!==null}function vi(cn){var dn=cn.observers.size>0;Ti.computationDepth>0&&dn&&Dt(!1),Ti.allowStateChanges||!dn&&Ti.enforceActions!=="strict"||Dt(!1)}function xi(cn,dn,Pn){var or=Fr(!0);Nn(cn),cn.newObserving=new Array(cn.observing.length+100),cn.unboundDepsCount=0,cn.runId=++Ti.runId;var wr,Rr=Ti.trackingDerivation;if(Ti.trackingDerivation=cn,Ti.disableErrorBoundaries===!0)wr=dn.call(Pn);else try{wr=dn.call(Pn)}catch(Kr){wr=new Lr(Kr)}return Ti.trackingDerivation=Rr,function(Kr){for(var _i=Kr.observing,Ji=Kr.observing=Kr.newObserving,Zo=Rn.UP_TO_DATE,na=0,Wa=Kr.unboundDepsCount,qa=0;qa<Wa;qa++)(Jo=Ji[qa]).diffValue===0&&(Jo.diffValue=1,na!==qa&&(Ji[na]=Jo),na++),Jo.dependenciesState>Zo&&(Zo=Jo.dependenciesState);for(Ji.length=na,Kr.newObserving=null,Wa=_i.length;Wa--;)(Jo=_i[Wa]).diffValue===0&&Hr(Jo,Kr),Jo.diffValue=0;for(;na--;){var Jo;(Jo=Ji[na]).diffValue===1&&(Jo.diffValue=0,Ya(Jo,Kr))}Zo!==Rn.UP_TO_DATE&&(Kr.dependenciesState=Zo,Kr.onBecomeStale())}(cn),Ln(or),wr}function Ci(cn){var dn=cn.observing;cn.observing=[];for(var Pn=dn.length;Pn--;)Hr(dn[Pn],cn);cn.dependenciesState=Rn.NOT_TRACKING}function Ei(cn){var dn=Bi();try{return cn()}finally{Ai(dn)}}function Bi(){var cn=Ti.trackingDerivation;return Ti.trackingDerivation=null,cn}function Ai(cn){Ti.trackingDerivation=cn}function Fr(cn){var dn=Ti.allowStateReads;return Ti.allowStateReads=cn,dn}function Ln(cn){Ti.allowStateReads=cn}function Nn(cn){if(cn.dependenciesState!==Rn.UP_TO_DATE){cn.dependenciesState=Rn.UP_TO_DATE;for(var dn=cn.observing,Pn=dn.length;Pn--;)dn[Pn].lowestObserverState=Rn.UP_TO_DATE}}var er=0,sr=1,Nr=Object.getOwnPropertyDescriptor(function(){},"name");Nr&&Nr.configurable;function Jr(cn,dn,Pn){var or=function(){return Dr(cn,dn,Pn||this,arguments)};return or.isMobxAction=!0,or}function Dr(cn,dn,Pn,or){var wr=yi();try{return dn.apply(Pn,or)}catch(Rr){throw wr.error=Rr,Rr}finally{Br(wr)}}function yi(cn,dn,Pn){var or=0,wr=Bi();Ur();var Rr={prevDerivation:wr,prevAllowStateChanges:Ni(!0),prevAllowStateReads:Fr(!0),notifySpy:!1,startTime:or,actionId:sr++,parentActionId:er};return er=Rr.actionId,Rr}function Br(cn){er!==cn.actionId&&Dt("invalid action stack. did you forget to finish an action?"),er=cn.parentActionId,cn.error!==void 0&&(Ti.suppressReactionErrors=!0),Ri(cn.prevAllowStateChanges),Ln(cn.prevAllowStateReads),Tr(),Ai(cn.prevDerivation),cn.notifySpy,Ti.suppressReactionErrors=!1}function Si(cn,dn){var Pn,or=Ni(cn);try{Pn=dn()}finally{Ri(or)}return Pn}function Ni(cn){var dn=Ti.allowStateChanges;return Ti.allowStateChanges=cn,dn}function Ri(cn){Ti.allowStateChanges=cn}function Li(cn){var dn,Pn=Ti.computationDepth;Ti.computationDepth=0;try{dn=cn()}finally{Ti.computationDepth=Pn}return dn}var eo=function(cn){function dn(Pn,or,wr,Rr,Kr){wr===void 0&&(wr="ObservableValue@"+At()),Kr===void 0&&(Kr=gn.default);var _i=cn.call(this,wr)||this;return _i.enhancer=or,_i.name=wr,_i.equals=Kr,_i.hasUnreportedChange=!1,_i.value=or(Pn,void 0,wr),_i}return function(Pn,or){function wr(){this.constructor=Pn}Un(Pn,or),Pn.prototype=or===null?Object.create(or):(wr.prototype=or.prototype,new wr)}(dn,cn),dn.prototype.dehanceValue=function(Pn){return this.dehancer!==void 0?this.dehancer(Pn):Pn},dn.prototype.set=function(Pn){this.value,(Pn=this.prepareNewValue(Pn))!==Ti.UNCHANGED&&this.setNewValue(Pn)},dn.prototype.prepareNewValue=function(Pn){if(vi(this),bl(this)){var or=_l(this,{object:this,type:"update",newValue:Pn});if(!or)return Ti.UNCHANGED;Pn=or.newValue}return Pn=this.enhancer(Pn,this.value,this.name),this.equals(this.value,Pn)?Ti.UNCHANGED:Pn},dn.prototype.setNewValue=function(Pn){var or=this.value;this.value=Pn,this.reportChanged(),Vl(this)&&Yl(this,{type:"update",object:this,newValue:Pn,oldValue:or})},dn.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},dn.prototype.intercept=function(Pn){return tc(this,Pn)},dn.prototype.observe=function(Pn,or){return or&&Pn({object:this,type:"update",newValue:this.value,oldValue:void 0}),Pl(this,Pn)},dn.prototype.toJSON=function(){return this.get()},dn.prototype.toString=function(){return this.name+"["+this.value+"]"},dn.prototype.valueOf=function(){return sn(this.get())},dn.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},dn}(Mn),Ui=Ht("ObservableValue",eo),oo=function(){function cn(dn){this.dependenciesState=Rn.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=Rn.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+At(),this.value=new Lr(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=rr.NONE,Ot(dn.get,"missing option for computed: get"),this.derivation=dn.get,this.name=dn.name||"ComputedValue@"+At(),dn.set&&(this.setter=Jr(this.name+"-setter",dn.set)),this.equals=dn.equals||(dn.compareStructural||dn.struct?gn.structural:gn.default),this.scope=dn.context,this.requiresReaction=!!dn.requiresReaction,this.keepAlive=!!dn.keepAlive}return cn.prototype.onBecomeStale=function(){(function(dn){dn.lowestObserverState===Rn.UP_TO_DATE&&(dn.lowestObserverState=Rn.POSSIBLY_STALE,dn.observers.forEach(function(Pn){Pn.dependenciesState===Rn.UP_TO_DATE&&(Pn.dependenciesState=Rn.POSSIBLY_STALE,Pn.isTracing!==rr.NONE&&bi(Pn,dn),Pn.onBecomeStale())}))})(this)},cn.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(dn){return dn()})},cn.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(dn){return dn()})},cn.prototype.get=function(){this.isComputing&&Dt("Cycle detected in computation "+this.name+": "+this.derivation),Ti.inBatch!==0||this.observers.size!==0||this.keepAlive?(Zr(this),Ar(this)&&this.trackAndCompute()&&function(Pn){Pn.lowestObserverState!==Rn.STALE&&(Pn.lowestObserverState=Rn.STALE,Pn.observers.forEach(function(or){or.dependenciesState===Rn.POSSIBLY_STALE?or.dependenciesState=Rn.STALE:or.dependenciesState===Rn.UP_TO_DATE&&(Pn.lowestObserverState=Rn.UP_TO_DATE)}))}(this)):Ar(this)&&(this.warnAboutUntrackedRead(),Ur(),this.value=this.computeValue(!1),Tr());var dn=this.value;if(Cr(dn))throw dn.cause;return dn},cn.prototype.peek=function(){var dn=this.computeValue(!1);if(Cr(dn))throw dn.cause;return dn},cn.prototype.set=function(dn){if(this.setter){Ot(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,dn)}finally{this.isRunningSetter=!1}}else Ot(!1,!1)},cn.prototype.trackAndCompute=function(){var dn=this.value,Pn=this.dependenciesState===Rn.NOT_TRACKING,or=this.computeValue(!0),wr=Pn||Cr(dn)||Cr(or)||!this.equals(dn,or);return wr&&(this.value=or),wr},cn.prototype.computeValue=function(dn){var Pn;if(this.isComputing=!0,Ti.computationDepth++,dn)Pn=xi(this,this.derivation,this.scope);else if(Ti.disableErrorBoundaries===!0)Pn=this.derivation.call(this.scope);else try{Pn=this.derivation.call(this.scope)}catch(or){Pn=new Lr(or)}return Ti.computationDepth--,this.isComputing=!1,Pn},cn.prototype.suspend=function(){this.keepAlive||(Ci(this),this.value=void 0)},cn.prototype.observe=function(dn,Pn){var or=this,wr=!0,Rr=void 0;return tl(function(){var Kr=or.get();if(!wr||Pn){var _i=Bi();dn({type:"update",object:or,newValue:Kr,oldValue:Rr}),Ai(_i)}wr=!1,Rr=Kr})},cn.prototype.warnAboutUntrackedRead=function(){},cn.prototype.toJSON=function(){return this.get()},cn.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},cn.prototype.valueOf=function(){return sn(this.get())},cn.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},cn}(),wo=Ht("ComputedValue",oo),uo=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED"],Cs=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Za={};function ji(){return typeof window<"u"?window:wt!==void 0?wt:typeof self<"u"?self:Za}var lo=!0,Va=!1,Ti=function(){var cn=ji();return cn.__mobxInstanceCount>0&&!cn.__mobxGlobals&&(lo=!1),cn.__mobxGlobals&&cn.__mobxGlobals.version!==new Cs().version&&(lo=!1),lo?cn.__mobxGlobals?(cn.__mobxInstanceCount+=1,cn.__mobxGlobals.UNCHANGED||(cn.__mobxGlobals.UNCHANGED={}),cn.__mobxGlobals):(cn.__mobxInstanceCount=1,cn.__mobxGlobals=new Cs):(setTimeout(function(){Va||Dt("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new Cs)}();function ca(){return Ti}function Sa(){var cn=new Cs;for(var dn in cn)uo.indexOf(dn)===-1&&(Ti[dn]=cn[dn]);Ti.allowStateChanges=!Ti.enforceActions}function Ya(cn,dn){cn.observers.add(dn),cn.lowestObserverState>dn.dependenciesState&&(cn.lowestObserverState=dn.dependenciesState)}function Hr(cn,dn){cn.observers.delete(dn),cn.observers.size===0&&ii(cn)}function ii(cn){cn.isPendingUnobservation===!1&&(cn.isPendingUnobservation=!0,Ti.pendingUnobservations.push(cn))}function Ur(){Ti.inBatch++}function Tr(){if(--Ti.inBatch==0){oa();for(var cn=Ti.pendingUnobservations,dn=0;dn<cn.length;dn++){var Pn=cn[dn];Pn.isPendingUnobservation=!1,Pn.observers.size===0&&(Pn.isBeingObserved&&(Pn.isBeingObserved=!1,Pn.onBecomeUnobserved()),Pn instanceof oo&&Pn.suspend())}Ti.pendingUnobservations=[]}}function Zr(cn){var dn=Ti.trackingDerivation;return dn!==null?(dn.runId!==cn.lastAccessedBy&&(cn.lastAccessedBy=dn.runId,dn.newObserving[dn.unboundDepsCount++]=cn,cn.isBeingObserved||(cn.isBeingObserved=!0,cn.onBecomeObserved())),!0):(cn.observers.size===0&&Ti.inBatch>0&&ii(cn),!1)}function bi(cn,dn){if(console.log("[mobx.trace] '"+cn.name+"' is invalidated due to a change in: '"+dn.name+"'"),cn.isTracing===rr.BREAK){var Pn=[];(function or(wr,Rr,Kr){if(Rr.length>=1e3)return void Rr.push("(and many more)");Rr.push(""+new Array(Kr).join("	")+wr.name),wr.dependencies&&wr.dependencies.forEach(function(_i){return or(_i,Rr,Kr+1)})})(ls(cn),Pn,1),new Function(`debugger;
/*
Tracing '`+cn.name+`'

You are entering this break point because derivation '`+cn.name+"' is being traced and '"+dn.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(cn instanceof oo?cn.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+Pn.join(`
`)+`
*/
    `)()}}var Ii=function(){function cn(dn,Pn,or,wr){dn===void 0&&(dn="Reaction@"+At()),wr===void 0&&(wr=!1),this.name=dn,this.onInvalidate=Pn,this.errorHandler=or,this.requiresObservable=wr,this.observing=[],this.newObserving=[],this.dependenciesState=Rn.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+At(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=rr.NONE}return cn.prototype.onBecomeStale=function(){this.schedule()},cn.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ti.pendingReactions.push(this),oa())},cn.prototype.isScheduled=function(){return this._isScheduled},cn.prototype.runReaction=function(){if(!this.isDisposed){if(Ur(),this._isScheduled=!1,Ar(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(dn){this.reportExceptionInDerivation(dn)}}Tr()}},cn.prototype.track=function(dn){if(!this.isDisposed){Ur(),this._isRunning=!0;var Pn=xi(this,dn,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&Ci(this),Cr(Pn)&&this.reportExceptionInDerivation(Pn.cause),Tr()}},cn.prototype.reportExceptionInDerivation=function(dn){var Pn=this;if(this.errorHandler)this.errorHandler(dn,this);else{if(Ti.disableErrorBoundaries)throw dn;var or="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ti.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(or,dn),Ti.globalReactionErrorHandlers.forEach(function(wr){return wr(dn,Pn)})}},cn.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Ur(),Ci(this),Tr()))},cn.prototype.getDisposer=function(){var dn=this.dispose.bind(this);return dn[wn]=this,dn},cn.prototype.toString=function(){return"Reaction["+this.name+"]"},cn.prototype.trace=function(dn){dn===void 0&&(dn=!1),Mh(this,dn)},cn}();function zo(cn){return Ti.globalReactionErrorHandlers.push(cn),function(){var dn=Ti.globalReactionErrorHandlers.indexOf(cn);dn>=0&&Ti.globalReactionErrorHandlers.splice(dn,1)}}var Eo=function(cn){return cn()};function oa(){Ti.inBatch>0||Ti.isRunningReactions||Eo(mo)}function mo(){Ti.isRunningReactions=!0;for(var cn=Ti.pendingReactions,dn=0;cn.length>0;){++dn==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+cn[0]),cn.splice(0));for(var Pn=cn.splice(0),or=0,wr=Pn.length;or<wr;or++)Pn[or].runReaction()}Ti.isRunningReactions=!1}var $o=Ht("Reaction",Ii);function Ja(cn){var dn=Eo;Eo=function(Pn){return cn(function(){return dn(Pn)})}}function ys(cn){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function vs(){Dt(!1)}function Zi(cn){return function(dn,Pn,or){if(or){if(or.value)return{value:Jr(cn,or.value),enumerable:!1,configurable:!0,writable:!0};var wr=or.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Jr(cn,wr.call(this))}}}return bo(cn).apply(this,arguments)}}function bo(cn){return function(dn,Pn,or){Object.defineProperty(dn,Pn,{configurable:!0,enumerable:!1,get:function(){},set:function(wr){Xt(this,Pn,ho(cn,wr))}})}}var ho=function(cn,dn,Pn,or){return arguments.length===1&&typeof cn=="function"?Jr(cn.name||"<unnamed action>",cn):arguments.length===2&&typeof dn=="function"?Jr(cn,dn):arguments.length===1&&typeof cn=="string"?Zi(cn):or!==!0?Zi(dn).apply(null,arguments):void Xt(cn,dn,Jr(cn.name||dn,Pn.value,this))};function Fi(cn,dn){return Dr(typeof cn=="string"?cn:cn.name||"<unnamed action>",typeof cn=="function"?cn:dn,this,void 0)}function _o(cn){return typeof cn=="function"&&cn.isMobxAction===!0}function Or(cn,dn,Pn){Xt(cn,dn,Jr(dn,Pn.bind(cn)))}function tl(cn,dn){dn===void 0&&(dn=Tt);var Pn,or=dn&&dn.name||cn.name||"Autorun@"+At();if(!dn.scheduler&&!dn.delay)Pn=new Ii(or,function(){this.track(Kr)},dn.onError,dn.requiresObservable);else{var wr=hs(dn),Rr=!1;Pn=new Ii(or,function(){Rr||(Rr=!0,wr(function(){Rr=!1,Pn.isDisposed||Pn.track(Kr)}))},dn.onError,dn.requiresObservable)}function Kr(){cn(Pn)}return Pn.schedule(),Pn.getDisposer()}ho.bound=function(cn,dn,Pn,or){return or===!0?(Or(cn,dn,Pn.value),null):Pn?{configurable:!0,enumerable:!1,get:function(){return Or(this,dn,Pn.value||Pn.initializer.call(this)),this[dn]},set:vs}:{enumerable:!1,configurable:!0,set:function(wr){Or(this,dn,wr)},get:function(){}}};var Vr=function(cn){return cn()};function hs(cn){return cn.scheduler?cn.scheduler:cn.delay?function(dn){return setTimeout(dn,cn.delay)}:Vr}function yc(cn,dn,Pn){Pn===void 0&&(Pn=Tt);var or,wr,Rr,Kr=Pn.name||"Reaction@"+At(),_i=ho(Kr,Pn.onError?(or=Pn.onError,wr=dn,function(){try{return wr.apply(this,arguments)}catch(ds){or.call(this,ds)}}):dn),Ji=!Pn.scheduler&&!Pn.delay,Zo=hs(Pn),na=!0,Wa=!1,qa=Pn.compareStructural?gn.structural:Pn.equals||gn.default,Jo=new Ii(Kr,function(){na||Ji?rs():Wa||(Wa=!0,Zo(rs))},Pn.onError,Pn.requiresObservable);function rs(){if(Wa=!1,!Jo.isDisposed){var ds=!1;Jo.track(function(){var es=cn(Jo);ds=na||!qa(Rr,es),Rr=es}),na&&Pn.fireImmediately&&_i(Rr,Jo),na||ds!==!0||_i(Rr,Jo),na&&(na=!1)}}return Jo.schedule(),Jo.getDisposer()}function Vo(cn,dn,Pn){return Gc("onBecomeObserved",cn,dn,Pn)}function xo(cn,dn,Pn){return Gc("onBecomeUnobserved",cn,dn,Pn)}function Gc(cn,dn,Pn,or){var wr=typeof or=="function"?$n(dn,Pn):$n(dn),Rr=typeof or=="function"?or:Pn,Kr=cn+"Listeners";return wr[Kr]?wr[Kr].add(Rr):wr[Kr]=new Set([Rr]),typeof wr[cn]!="function"?Dt(!1):function(){var _i=wr[Kr];_i&&(_i.delete(Rr),_i.size===0&&delete wr[Kr])}}function Gi(cn){var dn=cn.enforceActions,Pn=cn.computedRequiresReaction,or=cn.computedConfigurable,wr=cn.disableErrorBoundaries,Rr=cn.reactionScheduler,Kr=cn.reactionRequiresObservable,_i=cn.observableRequiresReaction;if(cn.isolateGlobalState===!0&&((Ti.pendingReactions.length||Ti.inBatch||Ti.isRunningReactions)&&Dt("isolateGlobalState should be called before MobX is running any reactions"),Va=!0,lo&&(--ji().__mobxInstanceCount==0&&(ji().__mobxGlobals=void 0),Ti=new Cs)),dn!==void 0){var Ji=void 0;switch(dn){case!0:case"observed":Ji=!0;break;case!1:case"never":Ji=!1;break;case"strict":case"always":Ji="strict";break;default:Dt("Invalid value for 'enforceActions': '"+dn+"', expected 'never', 'always' or 'observed'")}Ti.enforceActions=Ji,Ti.allowStateChanges=Ji!==!0&&Ji!=="strict"}Pn!==void 0&&(Ti.computedRequiresReaction=!!Pn),Kr!==void 0&&(Ti.reactionRequiresObservable=!!Kr),_i!==void 0&&(Ti.observableRequiresReaction=!!_i,Ti.allowStateReads=!Ti.observableRequiresReaction),or!==void 0&&(Ti.computedConfigurable=!!or),wr!==void 0&&(wr===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ti.disableErrorBoundaries=!!wr),Rr&&Ja(Rr)}function To(cn,dn){var Pn=typeof cn=="function"?cn.prototype:cn,or=function(Rr){var Kr=dn[Rr];Array.isArray(Kr)||(Kr=[Kr]);var _i=Object.getOwnPropertyDescriptor(Pn,Rr),Ji=Kr.reduce(function(Zo,na){return na(Pn,Rr,Zo)},_i);Ji&&Object.defineProperty(Pn,Rr,Ji)};for(var wr in dn)or(wr);return cn}function $s(cn,dn,Pn,or){var wr=ec(or=br(or));return vr(cn),Ls(cn,or.name,wr.enhancer),dn&&Nl(cn,dn,Pn,wr),cn}function ec(cn){return cn.defaultDecorator||(cn.deep===!1?rn:hr)}function Nl(cn,dn,Pn,or){var wr,Rr;Ur();try{var Kr=bn(dn);try{for(var _i=yr(Kr),Ji=_i.next();!Ji.done;Ji=_i.next()){var Zo=Ji.value,na=Object.getOwnPropertyDescriptor(dn,Zo),Wa=(Pn&&Zo in Pn?Pn[Zo]:na.get?Kn:or)(cn,Zo,na,!0);Wa&&Object.defineProperty(cn,Zo,Wa)}}catch(qa){wr={error:qa}}finally{try{Ji&&!Ji.done&&(Rr=_i.return)&&Rr.call(_i)}finally{if(wr)throw wr.error}}}finally{Tr()}}function ls(cn,dn){return Wo($n(cn,dn))}function Wo(cn){var dn,Pn,or={name:cn.name};return cn.observing&&cn.observing.length>0&&(or.dependencies=(dn=cn.observing,Pn=[],dn.forEach(function(wr){Pn.indexOf(wr)===-1&&Pn.push(wr)}),Pn).map(Wo)),or}function Xo(cn,dn){return bs($n(cn,dn))}function bs(cn){var dn={name:cn.name};return function(Pn){return Pn.observers&&Pn.observers.size>0}(cn)&&(dn.observers=Array.from(function(Pn){return Pn.observers}(cn)).map(bs)),dn}var Dl=0;function _s(){this.message="FLOW_CANCELLED"}function vl(cn){return cn instanceof _s}function Ys(cn){arguments.length!==1&&Dt("Flow expects 1 argument and cannot be used as decorator");var dn=cn.name||"<unnamed flow>";return function(){var Pn,or=this,wr=arguments,Rr=++Dl,Kr=ho(dn+" - runid: "+Rr+" - init",cn).apply(or,wr),_i=void 0,Ji=new Promise(function(Zo,na){var Wa=0;function qa(ds){var es;_i=void 0;try{es=ho(dn+" - runid: "+Rr+" - yield "+Wa++,Kr.next).call(Kr,ds)}catch(Xc){return na(Xc)}rs(es)}function Jo(ds){var es;_i=void 0;try{es=ho(dn+" - runid: "+Rr+" - yield "+Wa++,Kr.throw).call(Kr,ds)}catch(Xc){return na(Xc)}rs(es)}function rs(ds){if(!ds||typeof ds.then!="function")return ds.done?Zo(ds.value):(_i=Promise.resolve(ds.value)).then(qa,Jo);ds.then(rs,na)}Pn=na,qa(void 0)});return Ji.cancel=ho(dn+" - runid: "+Rr+" - cancel",function(){try{_i&&Dc(_i);var Zo=Kr.return(void 0),na=Promise.resolve(Zo.value);na.then($t,$t),Dc(na),Pn(new _s)}catch(Wa){Pn(Wa)}}),Ji}}function Dc(cn){typeof cn.cancel=="function"&&cn.cancel()}function Ic(cn,dn,Pn){var or;if(rl(cn)||Ga(cn)||Ui(cn))or=nr(cn);else{if(!yn(cn)||typeof dn!="string")return Dt(!1);or=nr(cn,dn)}return or.dehancer!==void 0?Dt(!1):(or.dehancer=typeof dn=="function"?dn:Pn,function(){or.dehancer=void 0})}function vc(cn,dn,Pn){return typeof Pn=="function"?function(or,wr,Rr){return nr(or,wr).intercept(Rr)}(cn,dn,Pn):function(or,wr){return nr(or).intercept(wr)}(cn,dn)}function Gs(cn,dn){if(cn==null)return!1;if(dn!==void 0){if(yn(cn)===!1||!cn[wn].values.has(dn))return!1;var Pn=$n(cn,dn);return wo(Pn)}return wo(cn)}function cu(cn){return arguments.length>1?Dt(!1):Gs(cn)}function uu(cn,dn){return typeof dn!="string"?Dt(!1):Gs(cn,dn)}function Wc(cn,dn){return cn!=null&&(dn!==void 0?!!yn(cn)&&cn[wn].values.has(dn):yn(cn)||!!cn[wn]||Sn(cn)||$o(cn)||wo(cn))}function Po(cn){return arguments.length!==1&&Dt(!1),Wc(cn)}function As(cn,dn){return typeof dn!="string"?Dt(!1):Wc(cn,dn)}function fo(cn){return yn(cn)?cn[wn].getKeys():rl(cn)||cs(cn)?Array.from(cn.keys()):Ga(cn)?cn.map(function(dn,Pn){return Pn}):Dt(!1)}function Il(cn){return yn(cn)?fo(cn).map(function(dn){return cn[dn]}):rl(cn)?fo(cn).map(function(dn){return cn.get(dn)}):cs(cn)?Array.from(cn.values()):Ga(cn)?cn.slice():Dt(!1)}function Th(cn){return yn(cn)?fo(cn).map(function(dn){return[dn,cn[dn]]}):rl(cn)?fo(cn).map(function(dn){return[dn,cn.get(dn)]}):cs(cn)?Array.from(cn.entries()):Ga(cn)?cn.map(function(dn,Pn){return[Pn,dn]}):Dt(!1)}function Lu(cn,dn,Pn){if(arguments.length!==2||cs(cn))if(yn(cn)){var or=cn[wn],wr=or.values.get(dn);wr?or.write(dn,Pn):or.addObservableProp(dn,Pn,or.defaultEnhancer)}else if(rl(cn))cn.set(dn,Pn);else if(cs(cn))cn.add(dn);else{if(!Ga(cn))return Dt(!1);typeof dn!="number"&&(dn=parseInt(dn,10)),Ot(dn>=0,"Not a valid index: '"+dn+"'"),Ur(),dn>=cn.length&&(cn.length=dn+1),cn[dn]=Pn,Tr()}else{Ur();var Rr=dn;try{for(var Kr in Rr)Lu(cn,Kr,Rr[Kr])}finally{Tr()}}}function Ou(cn,dn){if(yn(cn))cn[wn].remove(dn);else if(rl(cn))cn.delete(dn);else if(cs(cn))cn.delete(dn);else{if(!Ga(cn))return Dt(!1);typeof dn!="number"&&(dn=parseInt(dn,10)),Ot(dn>=0,"Not a valid index: '"+dn+"'"),cn.splice(dn,1)}}function qc(cn,dn){return yn(cn)?nr(cn).has(dn):rl(cn)||cs(cn)?cn.has(dn):Ga(cn)?dn>=0&&dn<cn.length:Dt(!1)}function Pu(cn,dn){if(qc(cn,dn))return yn(cn)?cn[dn]:rl(cn)?cn.get(dn):Ga(cn)?cn[dn]:Dt(!1)}function Ul(cn,dn,Pn,or){return typeof Pn=="function"?function(wr,Rr,Kr,_i){return nr(wr,Rr).observe(Kr,_i)}(cn,dn,Pn,or):function(wr,Rr,Kr){return nr(wr).observe(Rr,Kr)}(cn,dn,Pn)}_s.prototype=Object.create(Error.prototype);var Ms={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ll(cn,dn,Pn,or){return or.detectCycles&&cn.set(dn,Pn),Pn}function Qc(cn,dn){var Pn;return typeof dn=="boolean"&&(dn={detectCycles:dn}),dn||(dn=Ms),dn.detectCycles=dn.detectCycles===void 0?dn.recurseEverything===!0:dn.detectCycles===!0,dn.detectCycles&&(Pn=new Map),function or(wr,Rr,Kr){if(!Rr.recurseEverything&&!Po(wr)||typeof wr!="object")return wr;if(wr===null)return null;if(wr instanceof Date)return wr;if(Ui(wr))return or(wr.get(),Rr,Kr);if(Po(wr)&&fo(wr),Rr.detectCycles===!0&&wr!==null&&Kr.has(wr))return Kr.get(wr);if(Ga(wr)||Array.isArray(wr)){var _i=Ll(Kr,wr,[],Rr),Ji=wr.map(function(es){return or(es,Rr,Kr)});_i.length=Ji.length;for(var Zo=0,na=Ji.length;Zo<na;Zo++)_i[Zo]=Ji[Zo];return _i}if(cs(wr)||Object.getPrototypeOf(wr)===Set.prototype){if(Rr.exportMapsAsObjects===!1){var Wa=Ll(Kr,wr,new Set,Rr);return wr.forEach(function(es){Wa.add(or(es,Rr,Kr))}),Wa}var qa=Ll(Kr,wr,[],Rr);return wr.forEach(function(es){qa.push(or(es,Rr,Kr))}),qa}if(rl(wr)||Object.getPrototypeOf(wr)===Map.prototype){if(Rr.exportMapsAsObjects===!1){var Jo=Ll(Kr,wr,new Map,Rr);return wr.forEach(function(es,Xc){Jo.set(Xc,or(es,Rr,Kr))}),Jo}var rs=Ll(Kr,wr,{},Rr);return wr.forEach(function(es,Xc){rs[Xc]=or(es,Rr,Kr)}),rs}var ds=Ll(Kr,wr,{},Rr);return Kt(wr).forEach(function(es){ds[es]=or(wr[es],Rr,Kr)}),ds}(cn,dn,Pn)}function Mh(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];var Pn=!1;typeof cn[cn.length-1]=="boolean"&&(Pn=cn.pop());var or=_d(cn);if(!or)return Dt(!1);or.isTracing===rr.NONE&&console.log("[mobx.trace] '"+or.name+"' tracing enabled"),or.isTracing=Pn?rr.BREAK:rr.LOG}function _d(cn){switch(cn.length){case 0:return Ti.trackingDerivation;case 1:return $n(cn[0]);case 2:return $n(cn[0],cn[1])}}function Hl(cn,dn){dn===void 0&&(dn=void 0),Ur();try{return cn.apply(dn)}finally{Tr()}}function Ol(cn,dn,Pn){return arguments.length===1||dn&&typeof dn=="object"?th(cn,dn):Bs(cn,dn,Pn||{})}function Bs(cn,dn,Pn){var or;typeof Pn.timeout=="number"&&(or=setTimeout(function(){if(!Rr[wn].isDisposed){Rr();var Kr=new Error("WHEN_TIMEOUT");if(!Pn.onError)throw Kr;Pn.onError(Kr)}},Pn.timeout)),Pn.name=Pn.name||"When@"+At();var wr=Jr(Pn.name+"-effect",dn),Rr=tl(function(Kr){cn()&&(Kr.dispose(),or&&clearTimeout(or),wr())},Pn);return Rr}function th(cn,dn){var Pn,or=new Promise(function(wr,Rr){var Kr=Bs(cn,wr,pn(pn({},dn),{onError:Rr}));Pn=function(){Kr(),Rr("WHEN_CANCELLED")}});return or.cancel=Pn,or}function Bo(cn){return cn[wn]}function bc(cn){return typeof cn=="string"||typeof cn=="number"||typeof cn=="symbol"}var Ns={has:function(cn,dn){if(dn===wn||dn==="constructor"||dn===fr)return!0;var Pn=Bo(cn);return bc(dn)?Pn.has(dn):dn in cn},get:function(cn,dn){if(dn===wn||dn==="constructor"||dn===fr)return cn[dn];var Pn=Bo(cn),or=Pn.values.get(dn);if(or instanceof Mn){var wr=or.get();return wr===void 0&&Pn.has(dn),wr}return bc(dn)&&Pn.has(dn),cn[dn]},set:function(cn,dn,Pn){return!!bc(dn)&&(Lu(cn,dn,Pn),!0)},deleteProperty:function(cn,dn){return!!bc(dn)&&(Bo(cn).remove(dn),!0)},ownKeys:function(cn){return Bo(cn).keysAtom.reportObserved(),Reflect.ownKeys(cn)},preventExtensions:function(cn){return Dt("Dynamic observable objects cannot be frozen"),!1}};function Ru(cn){var dn=new Proxy(cn,Ns);return cn[wn].proxy=dn,dn}function bl(cn){return cn.interceptors!==void 0&&cn.interceptors.length>0}function tc(cn,dn){var Pn=cn.interceptors||(cn.interceptors=[]);return Pn.push(dn),zt(function(){var or=Pn.indexOf(dn);or!==-1&&Pn.splice(or,1)})}function _l(cn,dn){var Pn=Bi();try{for(var or=Mr(cn.interceptors||[]),wr=0,Rr=or.length;wr<Rr&&(Ot(!(dn=or[wr](dn))||dn.type,"Intercept handlers should return nothing or a change object"),dn);wr++);return dn}finally{Ai(Pn)}}function Vl(cn){return cn.changeListeners!==void 0&&cn.changeListeners.length>0}function Pl(cn,dn){var Pn=cn.changeListeners||(cn.changeListeners=[]);return Pn.push(dn),zt(function(){var or=Pn.indexOf(dn);or!==-1&&Pn.splice(or,1)})}function Yl(cn,dn){var Pn=Bi(),or=cn.changeListeners;if(or){for(var wr=0,Rr=(or=or.slice()).length;wr<Rr;wr++)or[wr](dn);Ai(Pn)}}var Sh={get:function(cn,dn){return dn===wn?cn[wn]:dn==="length"?cn[wn].getArrayLength():typeof dn=="number"?ya.get.call(cn,dn):typeof dn!="string"||isNaN(dn)?ya.hasOwnProperty(dn)?ya[dn]:cn[dn]:ya.get.call(cn,parseInt(dn))},set:function(cn,dn,Pn){return dn==="length"&&cn[wn].setArrayLength(Pn),typeof dn=="number"&&ya.set.call(cn,dn,Pn),typeof dn=="symbol"||isNaN(dn)?cn[dn]=Pn:ya.set.call(cn,parseInt(dn),Pn),!0},preventExtensions:function(cn){return Dt("Observable arrays cannot be frozen"),!1}};function nh(cn,dn,Pn,or){Pn===void 0&&(Pn="ObservableArray@"+At()),or===void 0&&(or=!1);var wr,Rr,Kr,_i=new rh(Pn,dn,or);wr=_i.values,Rr=wn,Kr=_i,Object.defineProperty(wr,Rr,{enumerable:!1,writable:!1,configurable:!0,value:Kr});var Ji=new Proxy(_i.values,Sh);if(_i.proxy=Ji,cn&&cn.length){var Zo=Ni(!0);_i.spliceWithArray(0,0,cn),Ri(Zo)}return Ji}var rh=function(){function cn(dn,Pn,or){this.owned=or,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new Mn(dn||"ObservableArray@"+At()),this.enhancer=function(wr,Rr){return Pn(wr,Rr,dn+"[..]")}}return cn.prototype.dehanceValue=function(dn){return this.dehancer!==void 0?this.dehancer(dn):dn},cn.prototype.dehanceValues=function(dn){return this.dehancer!==void 0&&dn.length>0?dn.map(this.dehancer):dn},cn.prototype.intercept=function(dn){return tc(this,dn)},cn.prototype.observe=function(dn,Pn){return Pn===void 0&&(Pn=!1),Pn&&dn({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Pl(this,dn)},cn.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},cn.prototype.setArrayLength=function(dn){if(typeof dn!="number"||dn<0)throw new Error("[mobx.array] Out of range: "+dn);var Pn=this.values.length;if(dn!==Pn)if(dn>Pn){for(var or=new Array(dn-Pn),wr=0;wr<dn-Pn;wr++)or[wr]=void 0;this.spliceWithArray(Pn,0,or)}else this.spliceWithArray(dn,Pn-dn)},cn.prototype.updateArrayLength=function(dn,Pn){if(dn!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=Pn},cn.prototype.spliceWithArray=function(dn,Pn,or){var wr=this;vi(this.atom);var Rr=this.values.length;if(dn===void 0?dn=0:dn>Rr?dn=Rr:dn<0&&(dn=Math.max(0,Rr+dn)),Pn=arguments.length===1?Rr-dn:Pn==null?0:Math.max(0,Math.min(Pn,Rr-dn)),or===void 0&&(or=Et),bl(this)){var Kr=_l(this,{object:this.proxy,type:"splice",index:dn,removedCount:Pn,added:or});if(!Kr)return Et;Pn=Kr.removedCount,or=Kr.added}or=or.length===0?or:or.map(function(Ji){return wr.enhancer(Ji,void 0)});var _i=this.spliceItemsIntoValues(dn,Pn,or);return Pn===0&&or.length===0||this.notifyArraySplice(dn,or,_i),this.dehanceValues(_i)},cn.prototype.spliceItemsIntoValues=function(dn,Pn,or){var wr;if(or.length<1e4)return(wr=this.values).splice.apply(wr,Mr([dn,Pn],or));var Rr=this.values.slice(dn,dn+Pn);return this.values=this.values.slice(0,dn).concat(or,this.values.slice(dn+Pn)),Rr},cn.prototype.notifyArrayChildUpdate=function(dn,Pn,or){var wr=!this.owned&&!1,Rr=Vl(this),Kr=Rr||wr?{object:this.proxy,type:"update",index:dn,newValue:Pn,oldValue:or}:null;this.atom.reportChanged(),Rr&&Yl(this,Kr)},cn.prototype.notifyArraySplice=function(dn,Pn,or){var wr=!this.owned&&!1,Rr=Vl(this),Kr=Rr||wr?{object:this.proxy,type:"splice",index:dn,removed:or,added:Pn,removedCount:or.length,addedCount:Pn.length}:null;this.atom.reportChanged(),Rr&&Yl(this,Kr)},cn}(),ya={intercept:function(cn){return this[wn].intercept(cn)},observe:function(cn,dn){return dn===void 0&&(dn=!1),this[wn].observe(cn,dn)},clear:function(){return this.splice(0)},replace:function(cn){var dn=this[wn];return dn.spliceWithArray(0,dn.values.length,cn)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(cn,dn){for(var Pn=[],or=2;or<arguments.length;or++)Pn[or-2]=arguments[or];var wr=this[wn];switch(arguments.length){case 0:return[];case 1:return wr.spliceWithArray(cn);case 2:return wr.spliceWithArray(cn,dn)}return wr.spliceWithArray(cn,dn,Pn)},spliceWithArray:function(cn,dn,Pn){return this[wn].spliceWithArray(cn,dn,Pn)},push:function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];var Pn=this[wn];return Pn.spliceWithArray(Pn.values.length,0,cn),Pn.values.length},pop:function(){return this.splice(Math.max(this[wn].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var cn=[],dn=0;dn<arguments.length;dn++)cn[dn]=arguments[dn];var Pn=this[wn];return Pn.spliceWithArray(0,0,cn),Pn.values.length},reverse:function(){var cn=this.slice();return cn.reverse.apply(cn,arguments)},sort:function(cn){var dn=this.slice();return dn.sort.apply(dn,arguments)},remove:function(cn){var dn=this[wn],Pn=dn.dehanceValues(dn.values).indexOf(cn);return Pn>-1&&(this.splice(Pn,1),!0)},get:function(cn){var dn=this[wn];if(dn){if(cn<dn.values.length)return dn.atom.reportObserved(),dn.dehanceValue(dn.values[cn]);console.warn("[mobx.array] Attempt to read an array index ("+cn+") that is out of bounds ("+dn.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(cn,dn){var Pn=this[wn],or=Pn.values;if(cn<or.length){vi(Pn.atom);var wr=or[cn];if(bl(Pn)){var Rr=_l(Pn,{type:"update",object:Pn.proxy,index:cn,newValue:dn});if(!Rr)return;dn=Rr.newValue}(dn=Pn.enhancer(dn,wr))!==wr&&(or[cn]=dn,Pn.notifyArrayChildUpdate(cn,dn,wr))}else{if(cn!==or.length)throw new Error("[mobx.array] Index out of bounds, "+cn+" is larger than "+or.length);Pn.spliceWithArray(cn,0,[dn])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(cn){typeof Array.prototype[cn]=="function"&&(ya[cn]=function(){var dn=this[wn];dn.atom.reportObserved();var Pn=dn.dehanceValues(dn.values);return Pn[cn].apply(Pn,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(cn){typeof Array.prototype[cn]=="function"&&(ya[cn]=function(dn,Pn){var or=this,wr=this[wn];return wr.atom.reportObserved(),wr.dehanceValues(wr.values)[cn](function(Rr,Kr){return dn.call(Pn,Rr,Kr,or)},Pn)})}),["reduce","reduceRight"].forEach(function(cn){ya[cn]=function(){var dn=this,Pn=this[wn];Pn.atom.reportObserved();var or=arguments[0];return arguments[0]=function(wr,Rr,Kr){return Rr=Pn.dehanceValue(Rr),or(wr,Rr,Kr,dn)},Pn.values[cn].apply(Pn.values,arguments)}});var _c,nl=Ht("ObservableArrayAdministration",rh);function Ga(cn){return Bt(cn)&&nl(cn[wn])}var wl,Co={},kh=function(){function cn(dn,Pn,or){if(Pn===void 0&&(Pn=_r),or===void 0&&(or="ObservableMap@"+At()),this.enhancer=Pn,this.name=or,this[_c]=Co,this._keysAtom=Dn(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(dn)}return cn.prototype._has=function(dn){return this._data.has(dn)},cn.prototype.has=function(dn){var Pn=this;if(!Ti.trackingDerivation)return this._has(dn);var or=this._hasMap.get(dn);if(!or){var wr=or=new eo(this._has(dn),tr,this.name+"."+ln(dn)+"?",!1);this._hasMap.set(dn,wr),xo(wr,function(){return Pn._hasMap.delete(dn)})}return or.get()},cn.prototype.set=function(dn,Pn){var or=this._has(dn);if(bl(this)){var wr=_l(this,{type:or?"update":"add",object:this,newValue:Pn,name:dn});if(!wr)return this;Pn=wr.newValue}return or?this._updateValue(dn,Pn):this._addValue(dn,Pn),this},cn.prototype.delete=function(dn){var Pn=this;if(vi(this._keysAtom),bl(this)&&!(wr=_l(this,{type:"delete",object:this,name:dn})))return!1;if(this._has(dn)){var or=Vl(this),wr=or?{type:"delete",object:this,oldValue:this._data.get(dn).value,name:dn}:null;return Hl(function(){Pn._keysAtom.reportChanged(),Pn._updateHasMapEntry(dn,!1),Pn._data.get(dn).setNewValue(void 0),Pn._data.delete(dn)}),or&&Yl(this,wr),!0}return!1},cn.prototype._updateHasMapEntry=function(dn,Pn){var or=this._hasMap.get(dn);or&&or.setNewValue(Pn)},cn.prototype._updateValue=function(dn,Pn){var or=this._data.get(dn);if((Pn=or.prepareNewValue(Pn))!==Ti.UNCHANGED){var wr=Vl(this),Rr=wr?{type:"update",object:this,oldValue:or.value,name:dn,newValue:Pn}:null;or.setNewValue(Pn),wr&&Yl(this,Rr)}},cn.prototype._addValue=function(dn,Pn){var or=this;vi(this._keysAtom),Hl(function(){var Kr=new eo(Pn,or.enhancer,or.name+"."+ln(dn),!1);or._data.set(dn,Kr),Pn=Kr.value,or._updateHasMapEntry(dn,!0),or._keysAtom.reportChanged()});var wr=Vl(this),Rr=wr?{type:"add",object:this,name:dn,newValue:Pn}:null;wr&&Yl(this,Rr)},cn.prototype.get=function(dn){return this.has(dn)?this.dehanceValue(this._data.get(dn).get()):this.dehanceValue(void 0)},cn.prototype.dehanceValue=function(dn){return this.dehancer!==void 0?this.dehancer(dn):dn},cn.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},cn.prototype.values=function(){var dn=this,Pn=this.keys();return zi({next:function(){var or=Pn.next(),wr=or.done,Rr=or.value;return{done:wr,value:wr?void 0:dn.get(Rr)}}})},cn.prototype.entries=function(){var dn=this,Pn=this.keys();return zi({next:function(){var or=Pn.next(),wr=or.done,Rr=or.value;return{done:wr,value:wr?void 0:[Rr,dn.get(Rr)]}}})},cn.prototype[_c=wn,Symbol.iterator]=function(){return this.entries()},cn.prototype.forEach=function(dn,Pn){var or,wr;try{for(var Rr=yr(this),Kr=Rr.next();!Kr.done;Kr=Rr.next()){var _i=xn(Kr.value,2),Ji=_i[0],Zo=_i[1];dn.call(Pn,Zo,Ji,this)}}catch(na){or={error:na}}finally{try{Kr&&!Kr.done&&(wr=Rr.return)&&wr.call(Rr)}finally{if(or)throw or.error}}},cn.prototype.merge=function(dn){var Pn=this;return rl(dn)&&(dn=dn.toJS()),Hl(function(){var or=Ni(!0);try{Yt(dn)?Kt(dn).forEach(function(wr){return Pn.set(wr,dn[wr])}):Array.isArray(dn)?dn.forEach(function(wr){var Rr=xn(wr,2),Kr=Rr[0],_i=Rr[1];return Pn.set(Kr,_i)}):Zt(dn)?(dn.constructor!==Map&&Dt("Cannot initialize from classes that inherit from Map: "+dn.constructor.name),dn.forEach(function(wr,Rr){return Pn.set(Rr,wr)})):dn!=null&&Dt("Cannot initialize map from "+dn)}finally{Ri(or)}}),this},cn.prototype.clear=function(){var dn=this;Hl(function(){Ei(function(){var Pn,or;try{for(var wr=yr(dn.keys()),Rr=wr.next();!Rr.done;Rr=wr.next()){var Kr=Rr.value;dn.delete(Kr)}}catch(_i){Pn={error:_i}}finally{try{Rr&&!Rr.done&&(or=wr.return)&&or.call(wr)}finally{if(Pn)throw Pn.error}}})})},cn.prototype.replace=function(dn){var Pn=this;return Hl(function(){var or,wr,Rr,Kr,_i=function(ts){if(Zt(ts)||rl(ts))return ts;if(Array.isArray(ts))return new Map(ts);if(Yt(ts)){var Gd=new Map;for(var oh in ts)Gd.set(oh,ts[oh]);return Gd}return Dt("Cannot convert to map from '"+ts+"'")}(dn),Ji=new Map,Zo=!1;try{for(var na=yr(Pn._data.keys()),Wa=na.next();!Wa.done;Wa=na.next()){var qa=Wa.value;if(!_i.has(qa))if(Pn.delete(qa))Zo=!0;else{var Jo=Pn._data.get(qa);Ji.set(qa,Jo)}}}catch(ts){or={error:ts}}finally{try{Wa&&!Wa.done&&(wr=na.return)&&wr.call(na)}finally{if(or)throw or.error}}try{for(var rs=yr(_i.entries()),ds=rs.next();!ds.done;ds=rs.next()){var es=xn(ds.value,2),Xc=(qa=es[0],Jo=es[1],Pn._data.has(qa));if(Pn.set(qa,Jo),Pn._data.has(qa)){var hu=Pn._data.get(qa);Ji.set(qa,hu),Xc||(Zo=!0)}}}catch(ts){Rr={error:ts}}finally{try{ds&&!ds.done&&(Kr=rs.return)&&Kr.call(rs)}finally{if(Rr)throw Rr.error}}if(!Zo)if(Pn._data.size!==Ji.size)Pn._keysAtom.reportChanged();else for(var If=Pn._data.keys(),du=Ji.keys(),Yd=If.next(),Zc=du.next();!Yd.done;){if(Yd.value!==Zc.value){Pn._keysAtom.reportChanged();break}Yd=If.next(),Zc=du.next()}Pn._data=Ji}),this},Object.defineProperty(cn.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),cn.prototype.toPOJO=function(){var dn,Pn,or={};try{for(var wr=yr(this),Rr=wr.next();!Rr.done;Rr=wr.next()){var Kr=xn(Rr.value,2),_i=Kr[0],Ji=Kr[1];or[typeof _i=="symbol"?_i:ln(_i)]=Ji}}catch(Zo){dn={error:Zo}}finally{try{Rr&&!Rr.done&&(Pn=wr.return)&&Pn.call(wr)}finally{if(dn)throw dn.error}}return or},cn.prototype.toJS=function(){return new Map(this)},cn.prototype.toJSON=function(){return this.toPOJO()},cn.prototype.toString=function(){var dn=this;return this.name+"[{ "+Array.from(this.keys()).map(function(Pn){return ln(Pn)+": "+dn.get(Pn)}).join(", ")+" }]"},cn.prototype.observe=function(dn,Pn){return Pl(this,dn)},cn.prototype.intercept=function(dn){return tc(this,dn)},cn}(),rl=Ht("ObservableMap",kh),zu={},Gl=function(){function cn(dn,Pn,or){if(Pn===void 0&&(Pn=_r),or===void 0&&(or="ObservableSet@"+At()),this.name=or,this[wl]=zu,this._data=new Set,this._atom=Dn(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(wr,Rr){return Pn(wr,Rr,or)},dn&&this.replace(dn)}return cn.prototype.dehanceValue=function(dn){return this.dehancer!==void 0?this.dehancer(dn):dn},cn.prototype.clear=function(){var dn=this;Hl(function(){Ei(function(){var Pn,or;try{for(var wr=yr(dn._data.values()),Rr=wr.next();!Rr.done;Rr=wr.next()){var Kr=Rr.value;dn.delete(Kr)}}catch(_i){Pn={error:_i}}finally{try{Rr&&!Rr.done&&(or=wr.return)&&or.call(wr)}finally{if(Pn)throw Pn.error}}})})},cn.prototype.forEach=function(dn,Pn){var or,wr;try{for(var Rr=yr(this),Kr=Rr.next();!Kr.done;Kr=Rr.next()){var _i=Kr.value;dn.call(Pn,_i,_i,this)}}catch(Ji){or={error:Ji}}finally{try{Kr&&!Kr.done&&(wr=Rr.return)&&wr.call(Rr)}finally{if(or)throw or.error}}},Object.defineProperty(cn.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),cn.prototype.add=function(dn){var Pn=this;if(vi(this._atom),bl(this)&&!(wr=_l(this,{type:"add",object:this,newValue:dn})))return this;if(!this.has(dn)){Hl(function(){Pn._data.add(Pn.enhancer(dn,void 0)),Pn._atom.reportChanged()});var or=Vl(this),wr=or?{type:"add",object:this,newValue:dn}:null;or&&Yl(this,wr)}return this},cn.prototype.delete=function(dn){var Pn=this;if(bl(this)&&!(wr=_l(this,{type:"delete",object:this,oldValue:dn})))return!1;if(this.has(dn)){var or=Vl(this),wr=or?{type:"delete",object:this,oldValue:dn}:null;return Hl(function(){Pn._atom.reportChanged(),Pn._data.delete(dn)}),or&&Yl(this,wr),!0}return!1},cn.prototype.has=function(dn){return this._atom.reportObserved(),this._data.has(this.dehanceValue(dn))},cn.prototype.entries=function(){var dn=0,Pn=Array.from(this.keys()),or=Array.from(this.values());return zi({next:function(){var wr=dn;return dn+=1,wr<or.length?{value:[Pn[wr],or[wr]],done:!1}:{done:!0}}})},cn.prototype.keys=function(){return this.values()},cn.prototype.values=function(){this._atom.reportObserved();var dn=this,Pn=0,or=Array.from(this._data.values());return zi({next:function(){return Pn<or.length?{value:dn.dehanceValue(or[Pn++]),done:!1}:{done:!0}}})},cn.prototype.replace=function(dn){var Pn=this;return cs(dn)&&(dn=dn.toJS()),Hl(function(){var or=Ni(!0);try{Array.isArray(dn)||nn(dn)?(Pn.clear(),dn.forEach(function(wr){return Pn.add(wr)})):dn!=null&&Dt("Cannot initialize set from "+dn)}finally{Ri(or)}}),this},cn.prototype.observe=function(dn,Pn){return Pl(this,dn)},cn.prototype.intercept=function(dn){return tc(this,dn)},cn.prototype.toJS=function(){return new Set(this)},cn.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},cn.prototype[wl=wn,Symbol.iterator]=function(){return this.values()},cn}(),cs=Ht("ObservableSet",Gl),pl=function(){function cn(dn,Pn,or,wr){Pn===void 0&&(Pn=new Map),this.target=dn,this.values=Pn,this.name=or,this.defaultEnhancer=wr,this.keysAtom=new Mn(or+".keys")}return cn.prototype.read=function(dn){return this.values.get(dn).get()},cn.prototype.write=function(dn,Pn){var or=this.target,wr=this.values.get(dn);if(wr instanceof oo)wr.set(Pn);else{if(bl(this)){if(!(Kr=_l(this,{type:"update",object:this.proxy||or,name:dn,newValue:Pn})))return;Pn=Kr.newValue}if((Pn=wr.prepareNewValue(Pn))!==Ti.UNCHANGED){var Rr=Vl(this),Kr=Rr?{type:"update",object:this.proxy||or,oldValue:wr.value,name:dn,newValue:Pn}:null;wr.setNewValue(Pn),Rr&&Yl(this,Kr)}}},cn.prototype.has=function(dn){var Pn=this.pendingKeys||(this.pendingKeys=new Map),or=Pn.get(dn);if(or)return or.get();var wr=!!this.values.get(dn);return or=new eo(wr,tr,this.name+"."+ln(dn)+"?",!1),Pn.set(dn,or),or.get()},cn.prototype.addObservableProp=function(dn,Pn,or){or===void 0&&(or=this.defaultEnhancer);var wr=this.target;if(bl(this)){var Rr=_l(this,{object:this.proxy||wr,name:dn,type:"add",newValue:Pn});if(!Rr)return;Pn=Rr.newValue}var Kr=new eo(Pn,or,this.name+"."+ln(dn),!1);this.values.set(dn,Kr),Pn=Kr.value,Object.defineProperty(wr,dn,function(_i){return Ws[_i]||(Ws[_i]={configurable:!0,enumerable:!0,get:function(){return this[wn].read(_i)},set:function(Ji){this[wn].write(_i,Ji)}})}(dn)),this.notifyPropertyAddition(dn,Pn)},cn.prototype.addComputedProp=function(dn,Pn,or){var wr,Rr,Kr,_i=this.target;or.name=or.name||this.name+"."+ln(Pn),this.values.set(Pn,new oo(or)),(dn===_i||(wr=dn,Rr=Pn,!(Kr=Object.getOwnPropertyDescriptor(wr,Rr))||Kr.configurable!==!1&&Kr.writable!==!1))&&Object.defineProperty(dn,Pn,function(Ji){return ih[Ji]||(ih[Ji]={configurable:Ti.computedConfigurable,enumerable:!1,get:function(){return ta(this).read(Ji)},set:function(Zo){ta(this).write(Ji,Zo)}})}(Pn))},cn.prototype.remove=function(dn){if(this.values.has(dn)){var Pn=this.target;if(bl(this)&&!(_i=_l(this,{object:this.proxy||Pn,name:dn,type:"remove"})))return;try{Ur();var or=Vl(this),wr=this.values.get(dn),Rr=wr&&wr.get();if(wr&&wr.set(void 0),this.keysAtom.reportChanged(),this.values.delete(dn),this.pendingKeys){var Kr=this.pendingKeys.get(dn);Kr&&Kr.set(!1)}delete this.target[dn];var _i=or?{type:"remove",object:this.proxy||Pn,oldValue:Rr,name:dn}:null;or&&Yl(this,_i)}finally{Tr()}}},cn.prototype.illegalAccess=function(dn,Pn){console.warn("Property '"+Pn+"' of '"+dn+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},cn.prototype.observe=function(dn,Pn){return Pl(this,dn)},cn.prototype.intercept=function(dn){return tc(this,dn)},cn.prototype.notifyPropertyAddition=function(dn,Pn){var or=Vl(this),wr=or?{type:"add",object:this.proxy||this.target,name:dn,newValue:Pn}:null;if(or&&Yl(this,wr),this.pendingKeys){var Rr=this.pendingKeys.get(dn);Rr&&Rr.set(!0)}this.keysAtom.reportChanged()},cn.prototype.getKeys=function(){var dn,Pn;this.keysAtom.reportObserved();var or=[];try{for(var wr=yr(this.values),Rr=wr.next();!Rr.done;Rr=wr.next()){var Kr=xn(Rr.value,2),_i=Kr[0];Kr[1]instanceof eo&&or.push(_i)}}catch(Ji){dn={error:Ji}}finally{try{Rr&&!Rr.done&&(Pn=wr.return)&&Pn.call(wr)}finally{if(dn)throw dn.error}}return or},cn}();function Ls(cn,dn,Pn){if(dn===void 0&&(dn=""),Pn===void 0&&(Pn=_r),Object.prototype.hasOwnProperty.call(cn,wn))return cn[wn];Yt(cn)||(dn=(cn.constructor.name||"ObservableObject")+"@"+At()),dn||(dn="ObservableObject@"+At());var or=new pl(cn,new Map,ln(dn),Pn);return Xt(cn,wn,or),or}var Ws=Object.create(null),ih=Object.create(null);function ta(cn){var dn=cn[wn];return dn||(vr(cn),cn[wn])}var en=Ht("ObservableObjectAdministration",pl);function yn(cn){return!!Bt(cn)&&(vr(cn),en(cn[wn]))}function $n(cn,dn){if(typeof cn=="object"&&cn!==null){if(Ga(cn))return dn!==void 0&&Dt(!1),cn[wn].atom;if(cs(cn))return cn[wn];if(rl(cn)){var Pn=cn;return dn===void 0?Pn._keysAtom:((or=Pn._data.get(dn)||Pn._hasMap.get(dn))||Dt(!1),or)}var or;if(vr(cn),dn&&!cn[wn]&&cn[dn],yn(cn))return dn?((or=cn[wn].values.get(dn))||Dt(!1),or):Dt(!1);if(Sn(cn)||wo(cn)||$o(cn))return cn}else if(typeof cn=="function"&&$o(cn[wn]))return cn[wn];return Dt(!1)}function nr(cn,dn){return cn||Dt("Expecting some object"),dn!==void 0?nr($n(cn,dn)):Sn(cn)||wo(cn)||$o(cn)||rl(cn)||cs(cn)?cn:(vr(cn),cn[wn]?cn[wn]:void Dt(!1))}function kr(cn,dn){return(dn!==void 0?$n(cn,dn):yn(cn)||rl(cn)||cs(cn)?nr(cn):$n(cn)).name}var Wr=Object.prototype.toString;function ci(cn,dn,Pn){return Pn===void 0&&(Pn=-1),function or(wr,Rr,Kr,_i,Ji){if(wr===Rr)return wr!==0||1/wr==1/Rr;if(wr==null||Rr==null)return!1;if(wr!=wr)return Rr!=Rr;var Zo=typeof wr;if(Zo!=="function"&&Zo!=="object"&&typeof Rr!="object")return!1;var na=Wr.call(wr);if(na!==Wr.call(Rr))return!1;switch(na){case"[object RegExp]":case"[object String]":return""+wr==""+Rr;case"[object Number]":return+wr!=+wr?+Rr!=+Rr:+wr==0?1/+wr==1/Rr:+wr==+Rr;case"[object Date]":case"[object Boolean]":return+wr==+Rr;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(wr)===Symbol.valueOf.call(Rr);case"[object Map]":case"[object Set]":Kr>=0&&Kr++}wr=wi(wr),Rr=wi(Rr);var Wa=na==="[object Array]";if(!Wa){if(typeof wr!="object"||typeof Rr!="object")return!1;var qa=wr.constructor,Jo=Rr.constructor;if(qa!==Jo&&!(typeof qa=="function"&&qa instanceof qa&&typeof Jo=="function"&&Jo instanceof Jo)&&"constructor"in wr&&"constructor"in Rr)return!1}if(Kr===0)return!1;Kr<0&&(Kr=-1),Ji=Ji||[];for(var rs=(_i=_i||[]).length;rs--;)if(_i[rs]===wr)return Ji[rs]===Rr;if(_i.push(wr),Ji.push(Rr),Wa){if((rs=wr.length)!==Rr.length)return!1;for(;rs--;)if(!or(wr[rs],Rr[rs],Kr-1,_i,Ji))return!1}else{var ds=Object.keys(wr),es=void 0;if(rs=ds.length,Object.keys(Rr).length!==rs)return!1;for(;rs--;)if(es=ds[rs],!Yi(Rr,es)||!or(wr[es],Rr[es],Kr-1,_i,Ji))return!1}return _i.pop(),Ji.pop(),!0}(cn,dn,Pn)}function wi(cn){return Ga(cn)?cn.slice():Zt(cn)||rl(cn)||nn(cn)||cs(cn)?Array.from(cn.entries()):cn}function Yi(cn,dn){return Object.prototype.hasOwnProperty.call(cn,dn)}function zi(cn){return cn[Symbol.iterator]=Mo,cn}function Mo(){return this}if(typeof Proxy>"u"||typeof Symbol>"u")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:ys,extras:{getDebugName:kr},$mobx:wn})}.call(this,bt(3))},function(it,st,bt){bt.r(st),function(wt){bt.d(st,"observer",function(){return sn}),bt.d(st,"Observer",function(){return wn}),bt.d(st,"useStaticRendering",function(){return Qt}),bt.d(st,"connect",function(){return pn}),bt.d(st,"inject",function(){return Un}),bt.d(st,"Provider",function(){return Mr});var Et=bt(0),Tt=bt(1);function At(fr){return!(fr.prototype&&fr.prototype.render||Et.Component.isPrototypeOf(fr))}function Dt(fr){var cr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Gn=cr.prefix,lr=Gn===void 0?"":Gn,ur=cr.suffix,vr=ur===void 0?"":ur,Ir=fr.displayName||fr.name||fr.constructor&&fr.constructor.name||"<component>";return lr+Ir+vr}var Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(fr){return typeof fr}:function(fr){return fr&&typeof Symbol=="function"&&fr.constructor===Symbol&&fr!==Symbol.prototype?"symbol":typeof fr},zt=function(fr,cr){if(!(fr instanceof cr))throw new TypeError("Cannot call a class as a function")},$t=function(){function fr(cr,Gn){for(var lr=0;lr<Gn.length;lr++){var ur=Gn[lr];ur.enumerable=ur.enumerable||!1,ur.configurable=!0,"value"in ur&&(ur.writable=!0),Object.defineProperty(cr,ur.key,ur)}}return function(cr,Gn,lr){return Gn&&fr(cr.prototype,Gn),lr&&fr(cr,lr),cr}}(),Bt=function(fr,cr){if(typeof cr!="function"&&cr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof cr);fr.prototype=Object.create(cr&&cr.prototype,{constructor:{value:fr,enumerable:!1,writable:!0,configurable:!0}}),cr&&(Object.setPrototypeOf?Object.setPrototypeOf(fr,cr):fr.__proto__=cr)},Yt=function(fr,cr){if(!fr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!cr||typeof cr!="object"&&typeof cr!="function"?fr:cr},Xt=!1,Ht=console;function Qt(fr){Xt=fr}function Zt(fr,cr,Gn,lr,ur){var vr=function(Pr){var _r=Object(Tt._getGlobalState)().allowStateChanges;return Object(Tt._getGlobalState)().allowStateChanges=Pr,_r}(fr),Ir=void 0;try{Ir=cr(Gn,lr,ur)}finally{(function(Pr){Object(Tt._getGlobalState)().allowStateChanges=Pr})(vr)}return Ir}function nn(fr,cr){var Gn=arguments.length>2&&arguments[2]!==void 0&&arguments[2],lr=fr[cr],ur=ln[cr],vr=lr?Gn===!0?function(){ur.apply(this,arguments),lr.apply(this,arguments)}:function(){lr.apply(this,arguments),ur.apply(this,arguments)}:ur;fr[cr]=vr}function Kt(fr,cr){if(fr==null||cr==null||(fr===void 0?"undefined":Ot(fr))!=="object"||(cr===void 0?"undefined":Ot(cr))!=="object")return fr!==cr;var Gn=Object.keys(fr);if(Gn.length!==Object.keys(cr).length)return!0;for(var lr=void 0,ur=Gn.length-1;lr=Gn[ur];ur--)if(cr[lr]!==fr[lr])return!0;return!1}var ln={componentWillMount:function(){var fr=this;if(Xt!==!0){var cr=Dt(this),Gn=!1,lr=!1;_r.call(this,"props"),_r.call(this,"state");var ur=this.render.bind(this),vr=null,Ir=!1,Pr=function(tr,qn,mr){Ir=!1;var br=void 0,hr=void 0;if(vr.track(function(){try{hr=Zt(!1,ur,tr,qn,mr)}catch(An){br=An}}),br)throw br;return hr};this.render=function(){return(vr=new Tt.Reaction(cr+".render()",function(){if(!Ir&&(Ir=!0,typeof fr.componentWillReact=="function"&&fr.componentWillReact(),fr.__$mobxIsUnmounted!==!0)){var tr=!0;try{lr=!0,Gn||Et.Component.prototype.forceUpdate.call(fr),tr=!1}finally{lr=!1,tr&&vr.dispose()}}})).reactComponent=fr,Pr.$mobx=vr,fr.render=Pr,Pr(fr.props,fr.state,fr.context)}}function _r(tr){var qn=this[tr],mr=Object(Tt.createAtom)("reactive "+tr);Object.defineProperty(this,tr,{configurable:!0,enumerable:!0,get:function(){return mr.reportObserved(),qn},set:function(br){!lr&&Kt(qn,br)?(qn=br,Gn=!0,mr.reportChanged(),Gn=!1):qn=br}})}},componentWillUnmount:function(){Xt!==!0&&(this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0)},componentDidMount:function(){},componentDidUpdate:function(){},shouldComponentUpdate:function(fr,cr){return Xt&&Ht.warn("[mobx-preact] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==cr||Kt(this.props,fr)}};function sn(fr){var cr,Gn;if(arguments.length>1&&Ht.warn('Mobx observer: Using observer to inject stores is not supported. Use `@connect(["store1", "store2"]) ComponentClass instead or preferably, use `@inject("store1", "store2") @observer ComponentClass` or `inject("store1", "store2")(observer(componentClass))``'),fr.isMobxInjector===!0&&Ht.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),At(fr))return sn((Gn=cr=function(ur){function vr(){return zt(this,vr),Yt(this,(vr.__proto__||Object.getPrototypeOf(vr)).apply(this,arguments))}return Bt(vr,ur),$t(vr,[{key:"render",value:function(){return fr.call(this,this.props,this.context)}}]),vr}(Et.Component),cr.displayName=Dt(fr),Gn));if(!fr)throw new Error("Please pass a valid component to 'observer'");var lr=fr.prototype||fr;return bn(lr),fr.isMobXReactObserver=!0,fr}function bn(fr){nn(fr,"componentWillMount",!0),nn(fr,"componentDidMount"),fr.shouldComponentUpdate||(fr.shouldComponentUpdate=ln.shouldComponentUpdate)}var wn=sn(function(fr){return fr.children[0]()});wn.displayName="Observer";var Mn=function(fr,cr){return fr(cr={exports:{}},cr.exports),cr.exports}(function(fr,cr){var Gn,lr,ur,vr,Ir,Pr,_r,tr;fr.exports=(Gn={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},lr={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ur=Object.defineProperty,vr=Object.getOwnPropertyNames,Ir=Object.getOwnPropertySymbols,Pr=Object.getOwnPropertyDescriptor,_r=Object.getPrototypeOf,tr=_r&&_r(Object),function qn(mr,br,hr){if(typeof br!="string"){if(tr){var An=_r(br);An&&An!==tr&&qn(mr,An,hr)}var rn=vr(br);Ir&&(rn=rn.concat(Ir(br)));for(var vn=0;vn<rn.length;++vn){var hn=rn[vn];if(!(Gn[hn]||lr[hn]||hr&&hr[hn])){var zn=Pr(br,hn);try{ur(mr,hn,zn)}catch{}}}return mr}return mr})}),Sn={isMobxInjector:{value:!0,writable:!0,configurable:!0,enumerable:!0}};function Dn(fr,cr,Gn){var lr,ur,vr=Dt(cr,{prefix:"inject-",suffix:Gn?"-with-"+Gn:""}),Ir=(ur=lr=function(Pr){function _r(){return zt(this,_r),Yt(this,(_r.__proto__||Object.getPrototypeOf(_r)).apply(this,arguments))}return Bt(_r,Pr),$t(_r,[{key:"render",value:function(){var tr={};for(var qn in this.props)this.props.hasOwnProperty(qn)&&(tr[qn]=this.props[qn]);var mr=fr(this.context.mobxStores||{},tr,this.context)||{};for(var br in mr)tr[br]=mr[br];return Object(Et.h)(cr,tr)}}]),_r}(Et.Component),lr.displayName=vr,ur);return Mn(Ir,cr),Ir.wrappedComponent=cr,Object.defineProperties(Ir,Sn),Ir}function gn(fr){return function(cr,Gn){return fr.forEach(function(lr){if(!(lr in Gn)){if(!(lr in cr))throw new Error("MobX injector: Store '"+lr+"' is not available! Make sure it is provided by some Provider");Gn[lr]=cr[lr]}}),Gn}}function Un(){var fr=void 0;if(typeof arguments[0]=="function")return fr=arguments[0],function(lr){var ur=Dn(fr,lr);return ur.isMobxInjector=!1,(ur=sn(ur)).isMobxInjector=!0,ur};for(var cr=[],Gn=0;Gn<arguments.length;Gn++)cr[Gn]=arguments[Gn];return fr=gn(cr),function(lr){return Dn(fr,lr,cr.join("-"))}}function pn(fr,cr){if(typeof fr=="string")throw new Error("Store names should be provided as array");return Array.isArray(fr)?cr?Un.apply(null,fr)(pn(cr)):function(Gn){return pn(fr,Gn)}:sn(fr)}var yr={children:!0,key:!0,ref:!0},xn=console,Mr=function(fr){function cr(){return zt(this,cr),Yt(this,(cr.__proto__||Object.getPrototypeOf(cr)).apply(this,arguments))}return Bt(cr,fr),$t(cr,[{key:"render",value:function(Gn){var lr=Gn.children;return lr.length>1?Object(Et.h)("div",null," ",lr," "):lr[0]}},{key:"getChildContext",value:function(){var Gn={},lr=this.context.mobxStores;if(lr)for(var ur in lr)Gn[ur]=lr[ur];for(var vr in this.props)yr[vr]||vr==="suppressChangedStoreWarning"||(Gn[vr]=this.props[vr]);return{mobxStores:Gn}}},{key:"componentWillReceiveProps",value:function(Gn){if(Object.keys(Gn).length!==Object.keys(this.props).length&&xn.warn("MobX Provider: The set of provided stores has changed. Please avoid changing stores as the change might not propagate to all children"),!Gn.suppressChangedStoreWarning)for(var lr in Gn)yr[lr]||this.props[lr]===Gn[lr]||xn.warn("MobX Provider: Provided store '"+lr+"' has changed. Please avoid replacing stores as the change might not propagate to all children")}}]),cr}(Et.Component);if(!Et.Component)throw new Error("mobx-preact requires Preact to be available")}.call(this,bt(3))},function(it,st){var bt;bt=function(){return this}();try{bt=bt||new Function("return this")()}catch{typeof window=="object"&&(bt=window)}it.exports=bt},function(it,st,bt){Object.defineProperty(st,"__esModule",{value:!0}),st.JSONHTTPError=st.TextHTTPError=st.HTTPError=st.getPagination=void 0;var wt=Object.assign||function(Xt){for(var Ht=1;Ht<arguments.length;Ht++){var Qt=arguments[Ht];for(var Zt in Qt)Object.prototype.hasOwnProperty.call(Qt,Zt)&&(Xt[Zt]=Qt[Zt])}return Xt},Et=function(){function Xt(Ht,Qt){for(var Zt=0;Zt<Qt.length;Zt++){var nn=Qt[Zt];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Ht,nn.key,nn)}}return function(Ht,Qt,Zt){return Qt&&Xt(Ht.prototype,Qt),Zt&&Xt(Ht,Zt),Ht}}(),Tt=bt(10);function At(Xt,Ht){if(!(Xt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function Dt(Xt,Ht){if(!Xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Ht||typeof Ht!="object"&&typeof Ht!="function"?Xt:Ht}function Ot(Xt,Ht){if(typeof Ht!="function"&&Ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ht);Xt.prototype=Object.create(Ht&&Ht.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),Ht&&(Object.setPrototypeOf?Object.setPrototypeOf(Xt,Ht):Xt.__proto__=Ht)}Object.defineProperty(st,"getPagination",{enumerable:!0,get:function(){return Tt.getPagination}});var zt=st.HTTPError=function(Xt){function Ht(Qt){At(this,Ht);var Zt=Dt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Qt.statusText));return Zt.name=Zt.constructor.name,typeof Error.captureStackTrace=="function"?Error.captureStackTrace(Zt,Zt.constructor):Zt.stack=new Error(Qt.statusText).stack,Zt.status=Qt.status,Zt}return Ot(Ht,Xt),Ht}(function(Xt){function Ht(){var Qt=Reflect.construct(Xt,Array.from(arguments));return Object.setPrototypeOf(Qt,Object.getPrototypeOf(this)),Qt}return Ht.prototype=Object.create(Xt.prototype,{constructor:{value:Xt,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf?Object.setPrototypeOf(Ht,Xt):Ht.__proto__=Xt,Ht}(Error)),$t=st.TextHTTPError=function(Xt){function Ht(Qt,Zt){At(this,Ht);var nn=Dt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Qt));return nn.data=Zt,nn}return Ot(Ht,Xt),Ht}(zt),Bt=st.JSONHTTPError=function(Xt){function Ht(Qt,Zt){At(this,Ht);var nn=Dt(this,(Ht.__proto__||Object.getPrototypeOf(Ht)).call(this,Qt));return nn.json=Zt,nn}return Ot(Ht,Xt),Ht}(zt),Yt=function(){function Xt(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Qt=arguments[1];At(this,Xt),this.apiURL=Ht,this.apiURL.match(/\/[^\/]?/)&&(this._sameOrigin=!0),this.defaultHeaders=Qt&&Qt.defaultHeaders||{}}return Et(Xt,[{key:"headers",value:function(){var Ht=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wt({},this.defaultHeaders,{"Content-Type":"application/json"},Ht)}},{key:"parseJsonResponse",value:function(Ht){return Ht.json().then(function(Qt){if(!Ht.ok)return Promise.reject(new Bt(Ht,Qt));var Zt=(0,Tt.getPagination)(Ht);return Zt?{pagination:Zt,items:Qt}:Qt})}},{key:"request",value:function(Ht){var Qt=this,Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nn=this.headers(Zt.headers||{});return this._sameOrigin&&(Zt.credentials=Zt.credentials||"same-origin"),fetch(this.apiURL+Ht,wt({},Zt,{headers:nn})).then(function(Kt){var ln=Kt.headers.get("Content-Type");return ln&&ln.match(/json/)?Qt.parseJsonResponse(Kt):Kt.ok?Kt.text().then(function(sn){}):Kt.text().then(function(sn){return Promise.reject(new $t(Kt,sn))})})}}]),Xt}();st.default=Yt},function(it,st,bt){function wt(Yt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xt){return typeof Xt}:function(Xt){return Xt&&typeof Symbol=="function"&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt})(Yt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0);function Tt(Yt,Xt){if(!(Yt instanceof Xt))throw new TypeError("Cannot call a class as a function")}function At(Yt,Xt){for(var Ht=0;Ht<Xt.length;Ht++){var Qt=Xt[Ht];Qt.enumerable=Qt.enumerable||!1,Qt.configurable=!0,"value"in Qt&&(Qt.writable=!0),Object.defineProperty(Yt,Qt.key,Qt)}}function Dt(Yt,Xt){return(Dt=Object.setPrototypeOf||function(Ht,Qt){return Ht.__proto__=Qt,Ht})(Yt,Xt)}function Ot(Yt){var Xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ht,Qt=$t(Yt);if(Xt){var Zt=$t(this).constructor;Ht=Reflect.construct(Qt,arguments,Zt)}else Ht=Qt.apply(this,arguments);return zt(this,Ht)}}function zt(Yt,Xt){return!Xt||wt(Xt)!=="object"&&typeof Xt!="function"?function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(Yt):Xt}function $t(Yt){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(Xt){return Xt.__proto__||Object.getPrototypeOf(Xt)})(Yt)}var Bt=function(Yt){(function(nn,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function");nn.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:nn,writable:!0,configurable:!0}}),Kt&&Dt(nn,Kt)})(Zt,Yt);var Xt,Ht,Qt=Ot(Zt);function Zt(){return Tt(this,Zt),Qt.apply(this,arguments)}return Xt=Zt,(Ht=[{key:"render",value:function(){var nn=this.props,Kt=nn.saving,ln=nn.text,sn=nn.saving_text;return(0,Et.h)("button",{type:"submit",className:"btn".concat(Kt?" saving":"")},Kt?sn||"Saving":ln||"Save")}}])&&At(Xt.prototype,Ht),Zt}(Et.Component);st.default=Bt},function(it,st,bt){function wt(Xt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ht){return typeof Ht}:function(Ht){return Ht&&typeof Symbol=="function"&&Ht.constructor===Symbol&&Ht!==Symbol.prototype?"symbol":typeof Ht})(Xt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0);function Tt(Xt,Ht){if(!(Xt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function At(Xt,Ht){for(var Qt=0;Qt<Ht.length;Qt++){var Zt=Ht[Qt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Xt,Zt.key,Zt)}}function Dt(Xt,Ht){return(Dt=Object.setPrototypeOf||function(Qt,Zt){return Qt.__proto__=Zt,Qt})(Xt,Ht)}function Ot(Xt){var Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Zt=$t(Xt);if(Ht){var nn=$t(this).constructor;Qt=Reflect.construct(Zt,arguments,nn)}else Qt=Zt.apply(this,arguments);return zt(this,Qt)}}function zt(Xt,Ht){return!Ht||wt(Ht)!=="object"&&typeof Ht!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(Xt):Ht}function $t(Xt){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(Ht){return Ht.__proto__||Object.getPrototypeOf(Ht)})(Xt)}var Bt={confirm:{type:"success",text:"message_confirm"},password_mail:{type:"success",text:"message_password_mail"},email_changed:{type:"sucess",text:"message_email_changed"},verfication_error:{type:"error",text:"message_verfication_error"},signup_disabled:{type:"error",text:"message_signup_disabled"}},Yt=function(Xt){(function(Kt,ln){if(typeof ln!="function"&&ln!==null)throw new TypeError("Super expression must either be null or a function");Kt.prototype=Object.create(ln&&ln.prototype,{constructor:{value:Kt,writable:!0,configurable:!0}}),ln&&Dt(Kt,ln)})(nn,Xt);var Ht,Qt,Zt=Ot(nn);function nn(){return Tt(this,nn),Zt.apply(this,arguments)}return Ht=nn,(Qt=[{key:"render",value:function(){var Kt=this.props,ln=Kt.type,sn=Kt.t,bn=Bt[ln];return(0,Et.h)("div",{className:"flashMessage ".concat(bn.type)},(0,Et.h)("span",null,sn(bn.text)))}}])&&At(Ht.prototype,Qt),nn}(Et.Component);st.default=Yt},function(it,st,bt){it.exports=function(wt){var Et=[];return Et.toString=function(){return this.map(function(Tt){var At=function(Dt,Ot){var zt=Dt[1]||"",$t=Dt[3];if(!$t)return zt;if(Ot&&typeof btoa=="function"){var Bt=(Xt=$t,Ht=btoa(unescape(encodeURIComponent(JSON.stringify(Xt)))),Qt="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(Ht),"/*# ".concat(Qt," */")),Yt=$t.sources.map(function(Zt){return"/*# sourceURL=".concat($t.sourceRoot||"").concat(Zt," */")});return[zt].concat(Yt).concat([Bt]).join(`
`)}var Xt,Ht,Qt;return[zt].join(`
`)}(Tt,wt);return Tt[2]?"@media ".concat(Tt[2]," {").concat(At,"}"):At}).join("")},Et.i=function(Tt,At,Dt){typeof Tt=="string"&&(Tt=[[null,Tt,""]]);var Ot={};if(Dt)for(var zt=0;zt<this.length;zt++){var $t=this[zt][0];$t!=null&&(Ot[$t]=!0)}for(var Bt=0;Bt<Tt.length;Bt++){var Yt=[].concat(Tt[Bt]);Dt&&Ot[Yt[0]]||(At&&(Yt[2]?Yt[2]="".concat(At," and ").concat(Yt[2]):Yt[2]=At),Et.push(Yt))}},Et}},function(it,st,bt){Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var wt=bt(0),Et=bt(1),Tt=bt(2),At=Bt(bt(9)),Dt=Bt(bt(13)),Ot=Bt(bt(19)),zt=Bt(bt(29)),$t=Bt(bt(30));function Bt(cr){return cr&&cr.__esModule?cr:{default:cr}}function Yt(cr,Gn){return function(lr){if(Array.isArray(lr))return lr}(cr)||function(lr,ur){var vr=lr&&(typeof Symbol<"u"&&lr[Symbol.iterator]||lr["@@iterator"]);if(vr!=null){var Ir,Pr,_r=[],tr=!0,qn=!1;try{for(vr=vr.call(lr);!(tr=(Ir=vr.next()).done)&&(_r.push(Ir.value),!ur||_r.length!==ur);tr=!0);}catch(mr){qn=!0,Pr=mr}finally{try{tr||vr.return==null||vr.return()}finally{if(qn)throw Pr}}return _r}}(cr,Gn)||function(lr,ur){if(!!lr){if(typeof lr=="string")return Xt(lr,ur);var vr=Object.prototype.toString.call(lr).slice(8,-1);if(vr==="Object"&&lr.constructor&&(vr=lr.constructor.name),vr==="Map"||vr==="Set")return Array.from(lr);if(vr==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(vr))return Xt(lr,ur)}}(cr,Gn)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Xt(cr,Gn){(Gn==null||Gn>cr.length)&&(Gn=cr.length);for(var lr=0,ur=new Array(Gn);lr<Gn;lr++)ur[lr]=cr[lr];return ur}function Ht(cr,Gn){var lr=Object.keys(cr);if(Object.getOwnPropertySymbols){var ur=Object.getOwnPropertySymbols(cr);Gn&&(ur=ur.filter(function(vr){return Object.getOwnPropertyDescriptor(cr,vr).enumerable})),lr.push.apply(lr,ur)}return lr}function Qt(cr){for(var Gn=1;Gn<arguments.length;Gn++){var lr=arguments[Gn]!=null?arguments[Gn]:{};Gn%2?Ht(Object(lr),!0).forEach(function(ur){Zt(cr,ur,lr[ur])}):Object.getOwnPropertyDescriptors?Object.defineProperties(cr,Object.getOwnPropertyDescriptors(lr)):Ht(Object(lr)).forEach(function(ur){Object.defineProperty(cr,ur,Object.getOwnPropertyDescriptor(lr,ur))})}return cr}function Zt(cr,Gn,lr){return Gn in cr?Object.defineProperty(cr,Gn,{value:lr,enumerable:!0,configurable:!0,writable:!0}):cr[Gn]=lr,cr}var nn={};function Kt(cr){var Gn=arguments,lr=nn[cr]||new Set;Array.from(lr.values()).forEach(function(ur){ur.apply(ur,Array.prototype.slice.call(Gn,1))})}var ln={login:!0,signup:!0,error:!0},sn={on:function(cr,Gn){nn[cr]=nn[cr]||new Set,nn[cr].add(Gn)},off:function(cr,Gn){nn[cr]&&(Gn?nn[cr].delete(Gn):nn[cr].clear())},open:function(cr){if(!ln[cr=cr||"login"])throw new Error("Invalid action for open: ".concat(cr));Ot.default.openModal(Ot.default.user?"user":cr)},close:function(){Ot.default.closeModal()},currentUser:function(){return Ot.default.gotrue&&Ot.default.gotrue.currentUser()},logout:function(){return Ot.default.logout()},get gotrue(){return Ot.default.gotrue||Ot.default.openModal("login"),Ot.default.gotrue},refresh:function(cr){return Ot.default.gotrue||Ot.default.openModal("login"),Ot.default.gotrue.currentUser().jwt(cr)},init:function(cr){(function(){var Gn=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},lr=Gn.APIUrl,ur=Gn.logo,vr=ur===void 0||ur,Ir=Gn.namePlaceholder,Pr=Gn.locale;Pr&&(Ot.default.locale=Pr);var _r=document.querySelectorAll("[data-netlify-identity-menu],[data-netlify-identity-button]");Array.prototype.slice.call(_r).forEach(function(qn){var mr=qn.getAttribute("data-netlify-identity-menu")===null?"button":"menu";(0,wt.render)((0,wt.h)(Tt.Provider,{store:Ot.default},(0,wt.h)(zt.default,{mode:mr,text:qn.innerText.trim()})),qn,null)}),Ot.default.init(gn(lr)),Ot.default.modal.logo=vr,Ot.default.setNamePlaceholder(Ir),(Sn=document.createElement("iframe")).id="netlify-identity-widget",Sn.title="Netlify identity widget",Sn.onload=function(){var qn=Sn.contentDocument.createElement("style");qn.innerHTML=$t.default.toString(),Sn.contentDocument.head.appendChild(qn),Mn=(0,wt.render)((0,wt.h)(Tt.Provider,{store:Ot.default},(0,wt.h)(Dt.default,null)),Sn.contentDocument.body,Mn),Mr()},wn(Sn,Un),Sn.src="about:blank";var tr=Gn.container?document.querySelector(Gn.container):document.body;tr.appendChild(Sn),bn&&(Sn.setAttribute("style",bn),bn=null)})(cr)},setLocale:function(cr){cr&&(Ot.default.locale=cr)},store:Ot.default},bn=null;function wn(cr,Gn){var lr="";for(var ur in Gn)lr+="".concat(ur,": ").concat(Gn[ur],"; ");cr?cr.setAttribute("style",lr):bn=lr}var Mn,Sn,Dn={localhost:!0,"127.0.0.1":!0,"0.0.0.0":!0};function gn(cr){var Gn=Dn[document.location.hostname];if(cr)return new At.default({APIUrl:cr,setCookie:!Gn});if(Gn){Ot.default.setIsLocal(Gn);var lr=localStorage.getItem("netlifySiteURL");return lr&&Ot.default.setSiteURL(lr),null}return new At.default({setCookie:!Gn})}var Un={position:"fixed",top:0,left:0,border:"none",width:"100%",height:"100%",overflow:"visible",background:"transparent",display:"none","z-index":99};(0,Et.observe)(Ot.default.modal,"isOpen",function(){Ot.default.settings||Ot.default.loadSettings(),wn(Sn,Qt(Qt({},Un),{},{display:Ot.default.modal.isOpen?"block !important":"none"})),Ot.default.modal.isOpen?Kt("open",Ot.default.modal.page):Kt("close")}),(0,Et.observe)(Ot.default,"siteURL",function(){var cr;if(Ot.default.siteURL===null||Ot.default.siteURL===void 0?localStorage.removeItem("netlifySiteURL"):localStorage.setItem("netlifySiteURL",Ot.default.siteURL),Ot.default.siteURL){var Gn=Ot.default.siteURL.replace(/\/$/,"");cr="".concat(Gn,"/.netlify/identity")}Ot.default.init(gn(cr),!0)}),(0,Et.observe)(Ot.default,"user",function(){Ot.default.user?Kt("login",Ot.default.user):Kt("logout")}),(0,Et.observe)(Ot.default,"gotrue",function(){Ot.default.gotrue&&Kt("init",Ot.default.gotrue.currentUser())}),(0,Et.observe)(Ot.default,"error",function(){Kt("error",Ot.default.error)});var pn=/(confirmation|invite|recovery|email_change)_token=([^&]+)/,yr=/error=access_denied&error_description=403/,xn=/access_token=/;function Mr(){var cr=(document.location.hash||"").replace(/^#\/?/,"");if(cr){var Gn=cr.match(pn);if(Gn&&(Ot.default.verifyToken(Gn[1],Gn[2]),document.location.hash=""),cr.match(yr)&&(Ot.default.openModal("signup"),document.location.hash=""),cr.match(xn)){var lr={};if(cr.split("&").forEach(function(vr){var Ir=Yt(vr.split("="),2),Pr=Ir[0],_r=Ir[1];lr[Pr]=_r}),document&&lr.access_token&&(document.cookie="nf_jwt=".concat(lr.access_token)),lr.state)try{var ur=decodeURIComponent(lr.state);if(JSON.parse(ur).auth_type==="implicit")return}catch{}document.location.hash="",Ot.default.openModal("login"),Ot.default.completeExternalLogin(lr)}}}var fr=sn;st.default=fr},function(it,st,bt){function wt(Yt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xt){return typeof Xt}:function(Xt){return Xt&&typeof Symbol=="function"&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt})(Yt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et,Tt=function(Yt){if(Yt&&Yt.__esModule)return Yt;if(Yt===null||wt(Yt)!=="object"&&typeof Yt!="function")return{default:Yt};var Xt=Dt();if(Xt&&Xt.has(Yt))return Xt.get(Yt);var Ht={},Qt=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Zt in Yt)if(Object.prototype.hasOwnProperty.call(Yt,Zt)){var nn=Qt?Object.getOwnPropertyDescriptor(Yt,Zt):null;nn&&(nn.get||nn.set)?Object.defineProperty(Ht,Zt,nn):Ht[Zt]=Yt[Zt]}return Ht.default=Yt,Xt&&Xt.set(Yt,Ht),Ht}(bt(4)),At=(Et=bt(11))&&Et.__esModule?Et:{default:Et};function Dt(){if(typeof WeakMap!="function")return null;var Yt=new WeakMap;return Dt=function(){return Yt},Yt}function Ot(Yt,Xt){if(!(Yt instanceof Xt))throw new TypeError("Cannot call a class as a function")}function zt(Yt,Xt){for(var Ht=0;Ht<Xt.length;Ht++){var Qt=Xt[Ht];Qt.enumerable=Qt.enumerable||!1,Qt.configurable=!0,"value"in Qt&&(Qt.writable=!0),Object.defineProperty(Yt,Qt.key,Qt)}}var $t=/^http:\/\//,Bt=function(){function Yt(){var Qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Zt=Qt.APIUrl,nn=Zt===void 0?"/.netlify/identity":Zt,Kt=Qt.audience,ln=Kt===void 0?"":Kt,sn=Qt.setCookie,bn=sn!==void 0&&sn;Ot(this,Yt),nn.match($t)&&console.warn(`Warning:

DO NOT USE HTTP IN PRODUCTION FOR GOTRUE EVER!
GoTrue REQUIRES HTTPS to work securely.`),ln&&(this.audience=ln),this.setCookie=bn,this.api=new Tt.default(nn)}var Xt,Ht;return Xt=Yt,(Ht=[{key:"_request",value:function(Qt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Zt.headers=Zt.headers||{};var nn=Zt.audience||this.audience;return nn&&(Zt.headers["X-JWT-AUD"]=nn),this.api.request(Qt,Zt).catch(function(Kt){return Kt instanceof Tt.JSONHTTPError&&Kt.json&&(Kt.json.msg?Kt.message=Kt.json.msg:Kt.json.error&&(Kt.message="".concat(Kt.json.error,": ").concat(Kt.json.error_description))),Promise.reject(Kt)})}},{key:"settings",value:function(){return this._request("/settings")}},{key:"signup",value:function(Qt,Zt,nn){return this._request("/signup",{method:"POST",body:JSON.stringify({email:Qt,password:Zt,data:nn})})}},{key:"login",value:function(Qt,Zt,nn){var Kt=this;return this._setRememberHeaders(nn),this._request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=password&username=".concat(encodeURIComponent(Qt),"&password=").concat(encodeURIComponent(Zt))}).then(function(ln){return At.default.removeSavedSession(),Kt.createUser(ln,nn)})}},{key:"loginExternalUrl",value:function(Qt){return"".concat(this.api.apiURL,"/authorize?provider=").concat(Qt)}},{key:"confirm",value:function(Qt,Zt){return this._setRememberHeaders(Zt),this.verify("signup",Qt,Zt)}},{key:"requestPasswordRecovery",value:function(Qt){return this._request("/recover",{method:"POST",body:JSON.stringify({email:Qt})})}},{key:"recover",value:function(Qt,Zt){return this._setRememberHeaders(Zt),this.verify("recovery",Qt,Zt)}},{key:"acceptInvite",value:function(Qt,Zt,nn){var Kt=this;return this._setRememberHeaders(nn),this._request("/verify",{method:"POST",body:JSON.stringify({token:Qt,password:Zt,type:"signup"})}).then(function(ln){return Kt.createUser(ln,nn)})}},{key:"acceptInviteExternalUrl",value:function(Qt,Zt){return"".concat(this.api.apiURL,"/authorize?provider=").concat(Qt,"&invite_token=").concat(Zt)}},{key:"createUser",value:function(Qt){var Zt=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this._setRememberHeaders(Zt);var nn=new At.default(this.api,Qt,this.audience);return nn.getUserData().then(function(Kt){return Zt&&Kt._saveSession(),Kt})}},{key:"currentUser",value:function(){var Qt=At.default.recoverSession(this.api);return Qt&&this._setRememberHeaders(Qt._fromStorage),Qt}},{key:"verify",value:function(Qt,Zt,nn){var Kt=this;return this._setRememberHeaders(nn),this._request("/verify",{method:"POST",body:JSON.stringify({token:Zt,type:Qt})}).then(function(ln){return Kt.createUser(ln,nn)})}},{key:"_setRememberHeaders",value:function(Qt){this.setCookie&&(this.api.defaultHeaders=this.api.defaultHeaders||{},this.api.defaultHeaders["X-Use-Cookie"]=Qt?"1":"session")}}])&&zt(Xt.prototype,Ht),Yt}();st.default=Bt,typeof window<"u"&&(window.GoTrue=Bt)},function(it,st,bt){Object.defineProperty(st,"__esModule",{value:!0});var wt=function(Et,Tt){if(Array.isArray(Et))return Et;if(Symbol.iterator in Object(Et))return function(At,Dt){var Ot=[],zt=!0,$t=!1,Bt=void 0;try{for(var Yt,Xt=At[Symbol.iterator]();!(zt=(Yt=Xt.next()).done)&&(Ot.push(Yt.value),!Dt||Ot.length!==Dt);zt=!0);}catch(Ht){$t=!0,Bt=Ht}finally{try{!zt&&Xt.return&&Xt.return()}finally{if($t)throw Bt}}return Ot}(Et,Tt);throw new TypeError("Invalid attempt to destructure non-iterable instance")};st.getPagination=function(Et){var Tt=Et.headers.get("Link"),At={};if(Tt==null)return null;Tt=Tt.split(",");for(var Dt=Et.headers.get("X-Total-Count"),Ot=0,zt=Tt.length;Ot<zt;Ot++){var $t=Tt[Ot].replace(/(^\s*|\s*$)/,"").split(";"),Bt=wt($t,2),Yt=Bt[0],Xt=Bt[1],Ht=Yt.match(/page=(\d+)/),Qt=Ht&&parseInt(Ht[1],10);Xt.match(/last/)?At.last=Qt:Xt.match(/next/)?At.next=Qt:Xt.match(/prev/)?At.prev=Qt:Xt.match(/first/)&&(At.first=Qt)}return At.last=Math.max(At.last||0,At.prev&&At.prev+1||0),At.current=At.next?At.next-1:At.last||1,At.total=Dt?parseInt(Dt,10):null,At}},function(it,st,bt){function wt(Kt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ln){return typeof ln}:function(ln){return ln&&typeof Symbol=="function"&&ln.constructor===Symbol&&ln!==Symbol.prototype?"symbol":typeof ln})(Kt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et,Tt=function(Kt){if(Kt&&Kt.__esModule)return Kt;if(Kt===null||wt(Kt)!=="object"&&typeof Kt!="function")return{default:Kt};var ln=Dt();if(ln&&ln.has(Kt))return ln.get(Kt);var sn={},bn=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var wn in Kt)if(Object.prototype.hasOwnProperty.call(Kt,wn)){var Mn=bn?Object.getOwnPropertyDescriptor(Kt,wn):null;Mn&&(Mn.get||Mn.set)?Object.defineProperty(sn,wn,Mn):sn[wn]=Kt[wn]}return sn.default=Kt,ln&&ln.set(Kt,sn),sn}(bt(4)),At=(Et=bt(12))&&Et.__esModule?Et:{default:Et};function Dt(){if(typeof WeakMap!="function")return null;var Kt=new WeakMap;return Dt=function(){return Kt},Kt}function Ot(Kt,ln){var sn=Object.keys(Kt);if(Object.getOwnPropertySymbols){var bn=Object.getOwnPropertySymbols(Kt);ln&&(bn=bn.filter(function(wn){return Object.getOwnPropertyDescriptor(Kt,wn).enumerable})),sn.push.apply(sn,bn)}return sn}function zt(Kt){for(var ln=1;ln<arguments.length;ln++){var sn=arguments[ln]!=null?arguments[ln]:{};ln%2?Ot(Object(sn),!0).forEach(function(bn){$t(Kt,bn,sn[bn])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Kt,Object.getOwnPropertyDescriptors(sn)):Ot(Object(sn)).forEach(function(bn){Object.defineProperty(Kt,bn,Object.getOwnPropertyDescriptor(sn,bn))})}return Kt}function $t(Kt,ln,sn){return ln in Kt?Object.defineProperty(Kt,ln,{value:sn,enumerable:!0,configurable:!0,writable:!0}):Kt[ln]=sn,Kt}function Bt(Kt,ln){for(var sn=0;sn<ln.length;sn++){var bn=ln[sn];bn.enumerable=bn.enumerable||!1,bn.configurable=!0,"value"in bn&&(bn.writable=!0),Object.defineProperty(Kt,bn.key,bn)}}var Yt={},Xt=null,Ht={api:1,token:1,audience:1,url:1},Qt={api:1},Zt=function(){return typeof window<"u"},nn=function(){function Kt(wn,Mn,Sn){(function(Dn,gn){if(!(Dn instanceof gn))throw new TypeError("Cannot call a class as a function")})(this,Kt),this.api=wn,this.url=wn.apiURL,this.audience=Sn,this._processTokenResponse(Mn),Xt=this}var ln,sn,bn;return ln=Kt,bn=[{key:"removeSavedSession",value:function(){Zt()&&localStorage.removeItem("gotrue.user")}},{key:"recoverSession",value:function(wn){if(Xt)return Xt;var Mn=Zt()&&localStorage.getItem("gotrue.user");if(Mn)try{var Sn=JSON.parse(Mn),Dn=Sn.url,gn=Sn.token,Un=Sn.audience;return Dn&&gn?new Kt(wn||new Tt.default(Dn,{}),gn,Un)._saveUserData(Sn,!0):null}catch(pn){return console.error(new Error("Gotrue-js: Error recovering session: ".concat(pn))),null}return null}}],(sn=[{key:"update",value:function(wn){var Mn=this;return this._request("/user",{method:"PUT",body:JSON.stringify(wn)}).then(function(Sn){return Mn._saveUserData(Sn)._refreshSavedSession()})}},{key:"jwt",value:function(wn){var Mn=this.tokenDetails();if(Mn==null)return Promise.reject(new Error("Gotrue-js: failed getting jwt access token"));var Sn=Mn.expires_at,Dn=Mn.refresh_token,gn=Mn.access_token;return wn||Sn-6e4<Date.now()?this._refreshToken(Dn):Promise.resolve(gn)}},{key:"logout",value:function(){return this._request("/logout",{method:"POST"}).then(this.clearSession.bind(this)).catch(this.clearSession.bind(this))}},{key:"_refreshToken",value:function(wn){var Mn=this;return Yt[wn]?Yt[wn]:Yt[wn]=this.api.request("/token",{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(wn)}).then(function(Sn){return delete Yt[wn],Mn._processTokenResponse(Sn),Mn._refreshSavedSession(),Mn.token.access_token}).catch(function(Sn){return delete Yt[wn],Mn.clearSession(),Promise.reject(Sn)})}},{key:"_request",value:function(wn){var Mn=this,Sn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Sn.headers=Sn.headers||{};var Dn=Sn.audience||this.audience;return Dn&&(Sn.headers["X-JWT-AUD"]=Dn),this.jwt().then(function(gn){return Mn.api.request(wn,zt({headers:Object.assign(Sn.headers,{Authorization:"Bearer ".concat(gn)})},Sn)).catch(function(Un){return Un instanceof Tt.JSONHTTPError&&Un.json&&(Un.json.msg?Un.message=Un.json.msg:Un.json.error&&(Un.message="".concat(Un.json.error,": ").concat(Un.json.error_description))),Promise.reject(Un)})})}},{key:"getUserData",value:function(){return this._request("/user").then(this._saveUserData.bind(this)).then(this._refreshSavedSession.bind(this))}},{key:"_saveUserData",value:function(wn,Mn){for(var Sn in wn)Sn in Kt.prototype||Sn in Ht||(this[Sn]=wn[Sn]);return Mn&&(this._fromStorage=!0),this}},{key:"_processTokenResponse",value:function(wn){this.token=wn;try{var Mn=JSON.parse(function(Sn){var Dn=Sn.replace(/-/g,"+").replace(/_/g,"/");switch(Dn.length%4){case 0:break;case 2:Dn+="==";break;case 3:Dn+="=";break;default:throw"Illegal base64url string!"}var gn=window.atob(Dn);try{return decodeURIComponent(escape(gn))}catch{return gn}}(wn.access_token.split(".")[1]));this.token.expires_at=1e3*Mn.exp}catch(Sn){console.error(new Error("Gotrue-js: Failed to parse tokenResponse claims: ".concat(Sn)))}}},{key:"_refreshSavedSession",value:function(){return Zt()&&localStorage.getItem("gotrue.user")&&this._saveSession(),this}},{key:"_saveSession",value:function(){return Zt()&&localStorage.setItem("gotrue.user",JSON.stringify(this._details)),this}},{key:"tokenDetails",value:function(){return this.token}},{key:"clearSession",value:function(){Kt.removeSavedSession(),this.token=null,Xt=null}},{key:"admin",get:function(){return new At.default(this)}},{key:"_details",get:function(){var wn={};for(var Mn in this)Mn in Kt.prototype||Mn in Qt||(wn[Mn]=this[Mn]);return wn}}])&&Bt(ln.prototype,sn),bn&&Bt(ln,bn),Kt}();st.default=nn},function(it,st,bt){function wt(Tt,At){for(var Dt=0;Dt<At.length;Dt++){var Ot=At[Dt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(Tt,Ot.key,Ot)}}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=function(){function Tt(Ot){(function(zt,$t){if(!(zt instanceof $t))throw new TypeError("Cannot call a class as a function")})(this,Tt),this.user=Ot}var At,Dt;return At=Tt,(Dt=[{key:"listUsers",value:function(Ot){return this.user._request("/admin/users",{method:"GET",audience:Ot})}},{key:"getUser",value:function(Ot){return this.user._request("/admin/users/".concat(Ot.id))}},{key:"updateUser",value:function(Ot){var zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.user._request("/admin/users/".concat(Ot.id),{method:"PUT",body:JSON.stringify(zt)})}},{key:"createUser",value:function(Ot,zt){var $t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return $t.email=Ot,$t.password=zt,this.user._request("/admin/users",{method:"POST",body:JSON.stringify($t)})}},{key:"deleteUser",value:function(Ot){return this.user._request("/admin/users/".concat(Ot.id),{method:"DELETE"})}}])&&wt(At.prototype,Dt),Tt}();st.default=Et},function(it,st,bt){function wt(Mn){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Sn){return typeof Sn}:function(Sn){return Sn&&typeof Symbol=="function"&&Sn.constructor===Symbol&&Sn!==Symbol.prototype?"symbol":typeof Sn})(Mn)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et,Tt=bt(0),At=bt(2),Dt=Xt(bt(14)),Ot=Xt(bt(15)),zt=Xt(bt(16)),$t=Xt(bt(17)),Bt=Xt(bt(18)),Yt=Xt(bt(6));function Xt(Mn){return Mn&&Mn.__esModule?Mn:{default:Mn}}function Ht(Mn,Sn){if(!(Mn instanceof Sn))throw new TypeError("Cannot call a class as a function")}function Qt(Mn,Sn){for(var Dn=0;Dn<Sn.length;Dn++){var gn=Sn[Dn];gn.enumerable=gn.enumerable||!1,gn.configurable=!0,"value"in gn&&(gn.writable=!0),Object.defineProperty(Mn,gn.key,gn)}}function Zt(Mn,Sn){return(Zt=Object.setPrototypeOf||function(Dn,gn){return Dn.__proto__=gn,Dn})(Mn,Sn)}function nn(Mn){var Sn=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Dn,gn=ln(Mn);if(Sn){var Un=ln(this).constructor;Dn=Reflect.construct(gn,arguments,Un)}else Dn=gn.apply(this,arguments);return Kt(this,Dn)}}function Kt(Mn,Sn){return!Sn||wt(Sn)!=="object"&&typeof Sn!="function"?function(Dn){if(Dn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Dn}(Mn):Sn}function ln(Mn){return(ln=Object.setPrototypeOf?Object.getPrototypeOf:function(Sn){return Sn.__proto__||Object.getPrototypeOf(Sn)})(Mn)}var sn={login:!0,signup:!0},bn={login:{login:!0,button:"log_in",button_saving:"logging_in",email:!0,password:"current-password",link:"amnesia",link_text:"forgot_password",providers:!0},signup:{signup:!0,button:"sign_up",button_saving:"signing_up",name:!0,email:!0,password:"new-password",providers:!0},amnesia:{title:"recover_password",button:"send_recovery_email",button_saving:"sending_recovery_email",email:!0,link:"login",link_text:"never_mind"},recovery:{title:"recover_password",button:"update_password",button_saving:"updating_password",password:"new-password",link:"login",link_text:"never_mind"},invite:{title:"complete_your_signup",button:"sign_up",button_saving:"signing_up",password:"new-password",providers:!0},user:{title:"logged_in"}},wn=(0,At.connect)(["store"])(Et=function(Mn){(function(pn,yr){if(typeof yr!="function"&&yr!==null)throw new TypeError("Super expression must either be null or a function");pn.prototype=Object.create(yr&&yr.prototype,{constructor:{value:pn,writable:!0,configurable:!0}}),yr&&Zt(pn,yr)})(Un,Mn);var Sn,Dn,gn=nn(Un);function Un(){var pn;Ht(this,Un);for(var yr=arguments.length,xn=new Array(yr),Mr=0;Mr<yr;Mr++)xn[Mr]=arguments[Mr];return(pn=gn.call.apply(gn,[this].concat(xn))).handleClose=function(){return pn.props.store.closeModal()},pn.handlePage=function(fr){return pn.props.store.openModal(fr)},pn.handleLogout=function(){return pn.props.store.logout()},pn.handleSiteURL=function(fr){return pn.props.store.setSiteURL(fr)},pn.clearSiteURL=function(fr){return pn.props.store.clearSiteURL()},pn.clearStoreError=function(){return pn.props.store.setError()},pn.handleExternalLogin=function(fr){return pn.props.store.externalLogin(fr)},pn.handleUser=function(fr){var cr=fr.name,Gn=fr.email,lr=fr.password,ur=pn.props.store;switch(ur.modal.page){case"login":ur.login(Gn,lr);break;case"signup":ur.signup(cr,Gn,lr);break;case"amnesia":ur.requestPasswordRecovery(Gn);break;case"invite":ur.acceptInvite(lr);break;case"recovery":ur.updatePassword(lr)}},pn}return Sn=Un,(Dn=[{key:"renderBody",value:function(){var pn=this,yr=this.props.store,xn=bn[yr.modal.page]||{};return yr.isLocal&&yr.siteURL===null?(0,Tt.h)(Ot.default,{devMode:yr.siteURL!=null,onSiteURL:yr.siteURL?this.clearSiteURL:this.handleSiteURL,t:yr.translate}):yr.settings?yr.user?(0,Tt.h)(zt.default,{user:yr.user,saving:yr.saving,onLogout:this.handleLogout,t:yr.translate}):yr.modal.page==="signup"&&yr.settings.disable_signup?(0,Tt.h)(Yt.default,{type:"signup_disabled",t:yr.translate}):(0,Tt.h)("div",null,(0,Tt.h)($t.default,{page:bn[yr.modal.page]||{},message:yr.message,saving:yr.saving,onSubmit:this.handleUser,namePlaceholder:yr.namePlaceholder,t:yr.translate}),!yr.user&&xn.link&&yr.gotrue&&(0,Tt.h)("button",{onclick:function(){return pn.handlePage(xn.link)},className:"btnLink forgotPasswordLink"},yr.translate(xn.link_text)),yr.isLocal?(0,Tt.h)(Ot.default,{devMode:yr.siteURL!=null,onSiteURL:yr.siteURL?this.clearSiteURL:this.handleSiteURL,t:yr.translate}):(0,Tt.h)("div",null)):void 0}},{key:"renderProviders",value:function(){var pn=this.props.store;if(!pn.gotrue||!pn.settings||pn.modal.page==="signup"&&pn.settings.disable_signup||!(bn[pn.modal.page]||{}).providers)return null;var yr=["Google","GitHub","GitLab","BitBucket","SAML"].filter(function(xn){return pn.settings.external[xn.toLowerCase()]});return yr.length?(0,Tt.h)(Bt.default,{providers:yr,labels:pn.settings.external_labels||{},onLogin:this.handleExternalLogin,t:pn.translate}):null}},{key:"render",value:function(){var pn=this.props.store,yr=sn[pn.modal.page],xn=pn.settings&&!pn.settings.disable_signup,Mr=bn[pn.modal.page]||{};return(0,Tt.h)("div",null,(0,Tt.h)(Dt.default,{page:Mr,error:pn.error,showHeader:yr,showSignup:xn,devSettings:!pn.gotrue,loading:!pn.error&&pn.gotrue&&!pn.settings,isOpen:pn.modal.isOpen,onPage:this.handlePage,onClose:this.handleClose,logo:pn.modal.logo,t:pn.translate,isLocal:pn.isLocal,clearSiteURL:this.clearSiteURL,clearStoreError:this.clearStoreError},this.renderBody(),this.renderProviders()))}}])&&Qt(Sn.prototype,Dn),Un}(Tt.Component))||Et;st.default=wn},function(it,st,bt){function wt(Yt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Xt){return typeof Xt}:function(Xt){return Xt&&typeof Symbol=="function"&&Xt.constructor===Symbol&&Xt!==Symbol.prototype?"symbol":typeof Xt})(Yt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0);function Tt(Yt,Xt){if(!(Yt instanceof Xt))throw new TypeError("Cannot call a class as a function")}function At(Yt,Xt){for(var Ht=0;Ht<Xt.length;Ht++){var Qt=Xt[Ht];Qt.enumerable=Qt.enumerable||!1,Qt.configurable=!0,"value"in Qt&&(Qt.writable=!0),Object.defineProperty(Yt,Qt.key,Qt)}}function Dt(Yt,Xt){return(Dt=Object.setPrototypeOf||function(Ht,Qt){return Ht.__proto__=Qt,Ht})(Yt,Xt)}function Ot(Yt){var Xt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ht,Qt=$t(Yt);if(Xt){var Zt=$t(this).constructor;Ht=Reflect.construct(Qt,arguments,Zt)}else Ht=Qt.apply(this,arguments);return zt(this,Ht)}}function zt(Yt,Xt){return!Xt||wt(Xt)!=="object"&&typeof Xt!="function"?function(Ht){if(Ht===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ht}(Yt):Xt}function $t(Yt){return($t=Object.setPrototypeOf?Object.getPrototypeOf:function(Xt){return Xt.__proto__||Object.getPrototypeOf(Xt)})(Yt)}var Bt=function(Yt){(function(nn,Kt){if(typeof Kt!="function"&&Kt!==null)throw new TypeError("Super expression must either be null or a function");nn.prototype=Object.create(Kt&&Kt.prototype,{constructor:{value:nn,writable:!0,configurable:!0}}),Kt&&Dt(nn,Kt)})(Zt,Yt);var Xt,Ht,Qt=Ot(Zt);function Zt(){var nn;Tt(this,Zt);for(var Kt=arguments.length,ln=new Array(Kt),sn=0;sn<Kt;sn++)ln[sn]=arguments[sn];return(nn=Qt.call.apply(Qt,[this].concat(ln))).handleClose=function(bn){bn.preventDefault(),nn.props.onClose()},nn.blockEvent=function(bn){bn.stopPropagation()},nn.linkHandler=function(bn){return function(wn){wn.preventDefault(),nn.props.onPage(bn)}},nn}return Xt=Zt,(Ht=[{key:"render",value:function(){var nn=this.props,Kt=nn.page,ln=nn.error,sn=nn.loading,bn=nn.showHeader,wn=nn.showSignup,Mn=nn.devSettings,Sn=nn.isOpen,Dn=nn.children,gn=nn.logo,Un=nn.t,pn=nn.isLocal,yr=nn.clearSiteURL,xn=nn.clearStoreError,Mr=sn||!Sn,fr=ln?function(cr){return cr.json&&cr.json.error_description||cr.message||cr.toString()}(ln):null;return(0,Et.h)("div",{className:"modalContainer",role:"dialog","aria-hidden":"".concat(Mr),onClick:this.handleClose},(0,Et.h)("div",{className:"modalDialog".concat(sn?" visuallyHidden":""),onClick:this.blockEvent},(0,Et.h)("div",{className:"modalContent"},(0,Et.h)("button",{onclick:this.handleClose,className:"btn btnClose"},(0,Et.h)("span",{className:"visuallyHidden"},"Close")),bn&&(0,Et.h)("div",{className:"header"},wn&&(0,Et.h)("button",{className:"btn btnHeader ".concat(Kt.signup?"active":""),onclick:this.linkHandler("signup")},Un("sign_up")),!Mn&&(0,Et.h)("button",{className:"btn btnHeader ".concat(Kt.login?"active":""),onclick:this.linkHandler("login")},Un("log_in"))),Kt.title&&(0,Et.h)("div",{className:"header"},(0,Et.h)("button",{className:"btn btnHeader active"},Un(Kt.title))),Mn&&(0,Et.h)("div",{className:"header"},(0,Et.h)("button",{className:"btn btnHeader active"},Un("site_url_title"))),fr&&(0,Et.h)("div",{className:"flashMessage error"},(0,Et.h)("span",null,Un(fr))),pn&&fr&&fr.includes("Failed to load settings from")&&(0,Et.h)("div",null,(0,Et.h)("button",{onclick:function(cr){yr(cr),xn()},className:"btnLink forgotPasswordLink"},Un("site_url_link_text"))),Dn)),gn&&(0,Et.h)("a",{href:"https://www.netlify.com",className:"callOut".concat(sn?" visuallyHidden":"")},(0,Et.h)("span",{className:"netlifyLogo"}),Un("coded_by")))}}])&&At(Xt.prototype,Ht),Zt}(Et.Component);st.default=Bt},function(it,st,bt){function wt(Bt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Yt){return typeof Yt}:function(Yt){return Yt&&typeof Symbol=="function"&&Yt.constructor===Symbol&&Yt!==Symbol.prototype?"symbol":typeof Yt})(Bt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0);function Tt(Bt,Yt){for(var Xt=0;Xt<Yt.length;Xt++){var Ht=Yt[Xt];Ht.enumerable=Ht.enumerable||!1,Ht.configurable=!0,"value"in Ht&&(Ht.writable=!0),Object.defineProperty(Bt,Ht.key,Ht)}}function At(Bt,Yt){return(At=Object.setPrototypeOf||function(Xt,Ht){return Xt.__proto__=Ht,Xt})(Bt,Yt)}function Dt(Bt){var Yt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Xt,Ht=zt(Bt);if(Yt){var Qt=zt(this).constructor;Xt=Reflect.construct(Ht,arguments,Qt)}else Xt=Ht.apply(this,arguments);return Ot(this,Xt)}}function Ot(Bt,Yt){return!Yt||wt(Yt)!=="object"&&typeof Yt!="function"?function(Xt){if(Xt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Xt}(Bt):Yt}function zt(Bt){return(zt=Object.setPrototypeOf?Object.getPrototypeOf:function(Yt){return Yt.__proto__||Object.getPrototypeOf(Yt)})(Bt)}var $t=function(Bt){(function(Zt,nn){if(typeof nn!="function"&&nn!==null)throw new TypeError("Super expression must either be null or a function");Zt.prototype=Object.create(nn&&nn.prototype,{constructor:{value:Zt,writable:!0,configurable:!0}}),nn&&At(Zt,nn)})(Qt,Bt);var Yt,Xt,Ht=Dt(Qt);function Qt(Zt){var nn;return function(Kt,ln){if(!(Kt instanceof ln))throw new TypeError("Cannot call a class as a function")}(this,Qt),(nn=Ht.call(this,Zt)).handleInput=function(Kt){var ln,sn,bn;nn.setState((ln={},sn=Kt.target.name,bn=Kt.target.value,sn in ln?Object.defineProperty(ln,sn,{value:bn,enumerable:!0,configurable:!0,writable:!0}):ln[sn]=bn,ln))},nn.addSiteURL=function(Kt){Kt.preventDefault();var ln,sn,bn=(ln=nn.state.url,sn="/.netlify/identity",ln.indexOf(sn)===-1?ln:ln.substring(0,ln.length-sn.length));nn.props.onSiteURL(bn)},nn.clearSiteURL=function(Kt){Kt.preventDefault,nn.props.onSiteURL()},nn.state={url:"",development:Zt.devMode||!1},nn}return Yt=Qt,(Xt=[{key:"render",value:function(){var Zt=this,nn=this.state,Kt=nn.url,ln=nn.development,sn=this.props.t;return(0,Et.h)("div",null,ln?(0,Et.h)("div",{class:"subheader"},(0,Et.h)("h3",null,sn("site_url_title")),(0,Et.h)("button",{onclick:function(bn){return Zt.clearSiteURL(bn)},className:"btnLink forgotPasswordLink"},sn("site_url_link_text"))):(0,Et.h)("form",{onsubmit:this.addSiteURL,className:"form"},(0,Et.h)("div",{className:"flashMessage"},sn("site_url_message")),(0,Et.h)("div",{className:"formGroup"},(0,Et.h)("label",null,(0,Et.h)("span",{className:"visuallyHidden"},sn("site_url_label")),(0,Et.h)("input",{className:"formControl",type:"url",name:"url",value:Kt,placeholder:sn("site_url_placeholder"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,Et.h)("div",{className:"inputFieldIcon inputFieldUrl"}))),(0,Et.h)("button",{type:"submit",className:"btn"},sn("site_url_submit"))))}}])&&Tt(Yt.prototype,Xt),Qt}(Et.Component);st.default=$t},function(it,st,bt){function wt(Ht){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(Ht)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et,Tt=bt(0),At=(Et=bt(5))&&Et.__esModule?Et:{default:Et};function Dt(Ht,Qt){if(!(Ht instanceof Qt))throw new TypeError("Cannot call a class as a function")}function Ot(Ht,Qt){for(var Zt=0;Zt<Qt.length;Zt++){var nn=Qt[Zt];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Ht,nn.key,nn)}}function zt(Ht,Qt){return(zt=Object.setPrototypeOf||function(Zt,nn){return Zt.__proto__=nn,Zt})(Ht,Qt)}function $t(Ht){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,nn=Yt(Ht);if(Qt){var Kt=Yt(this).constructor;Zt=Reflect.construct(nn,arguments,Kt)}else Zt=nn.apply(this,arguments);return Bt(this,Zt)}}function Bt(Ht,Qt){return!Qt||wt(Qt)!=="object"&&typeof Qt!="function"?function(Zt){if(Zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Zt}(Ht):Qt}function Yt(Ht){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(Ht)}var Xt=function(Ht){(function(ln,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");ln.prototype=Object.create(sn&&sn.prototype,{constructor:{value:ln,writable:!0,configurable:!0}}),sn&&zt(ln,sn)})(Kt,Ht);var Qt,Zt,nn=$t(Kt);function Kt(){var ln;Dt(this,Kt);for(var sn=arguments.length,bn=new Array(sn),wn=0;wn<sn;wn++)bn[wn]=arguments[wn];return(ln=nn.call.apply(nn,[this].concat(bn))).handleLogout=function(Mn){Mn.preventDefault(),ln.props.onLogout()},ln}return Qt=Kt,(Zt=[{key:"render",value:function(){var ln=this.props,sn=ln.user,bn=ln.saving,wn=ln.t;return(0,Tt.h)("form",{onSubmit:this.handleLogout,className:"form ".concat(bn?"disabled":"")},(0,Tt.h)("p",{className:"infoText"},wn("logged_in_as")," ",(0,Tt.h)("br",null),(0,Tt.h)("span",{className:"infoTextEmail"},sn.user_metadata.full_name||sn.user_metadata.name||sn.email)),(0,Tt.h)(At.default,{saving:bn,text:wn("log_out"),saving_text:wn("logging_out")}))}}])&&Ot(Qt.prototype,Zt),Kt}(Tt.Component);st.default=Xt},function(it,st,bt){function wt(Ht){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Qt){return typeof Qt}:function(Qt){return Qt&&typeof Symbol=="function"&&Qt.constructor===Symbol&&Qt!==Symbol.prototype?"symbol":typeof Qt})(Ht)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0),Tt=Dt(bt(6)),At=Dt(bt(5));function Dt(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}}function Ot(Ht,Qt){for(var Zt=0;Zt<Qt.length;Zt++){var nn=Qt[Zt];nn.enumerable=nn.enumerable||!1,nn.configurable=!0,"value"in nn&&(nn.writable=!0),Object.defineProperty(Ht,nn.key,nn)}}function zt(Ht,Qt){return(zt=Object.setPrototypeOf||function(Zt,nn){return Zt.__proto__=nn,Zt})(Ht,Qt)}function $t(Ht){var Qt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Zt,nn=Yt(Ht);if(Qt){var Kt=Yt(this).constructor;Zt=Reflect.construct(nn,arguments,Kt)}else Zt=nn.apply(this,arguments);return Bt(this,Zt)}}function Bt(Ht,Qt){return!Qt||wt(Qt)!=="object"&&typeof Qt!="function"?function(Zt){if(Zt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Zt}(Ht):Qt}function Yt(Ht){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(Qt){return Qt.__proto__||Object.getPrototypeOf(Qt)})(Ht)}var Xt=function(Ht){(function(ln,sn){if(typeof sn!="function"&&sn!==null)throw new TypeError("Super expression must either be null or a function");ln.prototype=Object.create(sn&&sn.prototype,{constructor:{value:ln,writable:!0,configurable:!0}}),sn&&zt(ln,sn)})(Kt,Ht);var Qt,Zt,nn=$t(Kt);function Kt(ln){var sn;return function(bn,wn){if(!(bn instanceof wn))throw new TypeError("Cannot call a class as a function")}(this,Kt),(sn=nn.call(this,ln)).handleInput=function(bn){var wn,Mn,Sn;sn.setState((wn={},Mn=bn.target.name,Sn=bn.target.value,Mn in wn?Object.defineProperty(wn,Mn,{value:Sn,enumerable:!0,configurable:!0,writable:!0}):wn[Mn]=Sn,wn))},sn.handleLogin=function(bn){bn.preventDefault(),sn.props.onSubmit(sn.state)},sn.state={name:"",email:"",password:""},sn}return Qt=Kt,(Zt=[{key:"render",value:function(){var ln=this.props,sn=ln.page,bn=ln.message,wn=ln.saving,Mn=ln.namePlaceholder,Sn=ln.t,Dn=this.state,gn=Dn.name,Un=Dn.email,pn=Dn.password;return(0,Et.h)("form",{onsubmit:this.handleLogin,className:"form ".concat(wn?"disabled":"")},bn&&(0,Et.h)(Tt.default,{type:bn,t:Sn}),sn.name&&(0,Et.h)("div",{className:"formGroup"},(0,Et.h)("label",null,(0,Et.h)("span",{className:"visuallyHidden"},Sn("form_name_placeholder")),(0,Et.h)("input",{className:"formControl",type:"name",name:"name",value:gn,placeholder:Mn||Sn("form_name_label"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,Et.h)("div",{className:"inputFieldIcon inputFieldName"}))),sn.email&&(0,Et.h)("div",{className:"formGroup"},(0,Et.h)("label",null,(0,Et.h)("span",{className:"visuallyHidden"},Sn("form_name_label")),(0,Et.h)("input",{className:"formControl",type:"email",name:"email",value:Un,placeholder:Sn("form_email_placeholder"),autocapitalize:"off",required:!0,oninput:this.handleInput}),(0,Et.h)("div",{className:"inputFieldIcon inputFieldEmail"}))),sn.password&&(0,Et.h)("div",{className:"formGroup"},(0,Et.h)("label",null,(0,Et.h)("span",{className:"visuallyHidden"},Sn("form_password_label")),(0,Et.h)("input",{className:"formControl",type:"password",name:"password",value:pn,placeholder:Sn("form_password_placeholder"),autocomplete:sn.password,required:!0,oninput:this.handleInput}),(0,Et.h)("div",{className:"inputFieldIcon inputFieldPassword"}))),(0,Et.h)(At.default,{saving:wn,text:Sn(sn.button),saving_text:Sn(sn.button_saving)}))}}])&&Ot(Qt.prototype,Zt),Kt}(Et.Component);st.default=Xt},function(it,st,bt){function wt(Qt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Zt){return typeof Zt}:function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt})(Qt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et=bt(0);function Tt(Qt,Zt){if(!(Qt instanceof Zt))throw new TypeError("Cannot call a class as a function")}function At(Qt,Zt){for(var nn=0;nn<Zt.length;nn++){var Kt=Zt[nn];Kt.enumerable=Kt.enumerable||!1,Kt.configurable=!0,"value"in Kt&&(Kt.writable=!0),Object.defineProperty(Qt,Kt.key,Kt)}}function Dt(Qt,Zt,nn){return Zt&&At(Qt.prototype,Zt),nn&&At(Qt,nn),Qt}function Ot(Qt,Zt){if(typeof Zt!="function"&&Zt!==null)throw new TypeError("Super expression must either be null or a function");Qt.prototype=Object.create(Zt&&Zt.prototype,{constructor:{value:Qt,writable:!0,configurable:!0}}),Zt&&zt(Qt,Zt)}function zt(Qt,Zt){return(zt=Object.setPrototypeOf||function(nn,Kt){return nn.__proto__=Kt,nn})(Qt,Zt)}function $t(Qt){var Zt=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var nn,Kt=Yt(Qt);if(Zt){var ln=Yt(this).constructor;nn=Reflect.construct(Kt,arguments,ln)}else nn=Kt.apply(this,arguments);return Bt(this,nn)}}function Bt(Qt,Zt){return!Zt||wt(Zt)!=="object"&&typeof Zt!="function"?function(nn){if(nn===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return nn}(Qt):Zt}function Yt(Qt){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(Zt){return Zt.__proto__||Object.getPrototypeOf(Zt)})(Qt)}var Xt=function(Qt){Ot(nn,Qt);var Zt=$t(nn);function nn(){var Kt;Tt(this,nn);for(var ln=arguments.length,sn=new Array(ln),bn=0;bn<ln;bn++)sn[bn]=arguments[bn];return(Kt=Zt.call.apply(Zt,[this].concat(sn))).handleLogin=function(wn){wn.preventDefault(),Kt.props.onLogin(Kt.props.provider.toLowerCase())},Kt}return Dt(nn,[{key:"render",value:function(){var Kt=this.props,ln=Kt.provider,sn=Kt.label,bn=Kt.t;return(0,Et.h)("button",{onClick:this.handleLogin,className:"provider".concat(ln," btn btnProvider")},"".concat(bn("continue_with")," ").concat(sn))}}]),nn}(Et.Component),Ht=function(Qt){Ot(nn,Qt);var Zt=$t(nn);function nn(){return Tt(this,nn),Zt.apply(this,arguments)}return Dt(nn,[{key:"getLabel",value:function(Kt){var ln=Kt.toLowerCase();return ln in this.props.labels?this.props.labels[ln]:Kt}},{key:"render",value:function(){var Kt=this,ln=this.props,sn=ln.providers,bn=ln.onLogin,wn=ln.t;return(0,Et.h)("div",{className:"providersGroup"},(0,Et.h)("hr",{className:"hr"}),sn.map(function(Mn){return(0,Et.h)(Xt,{key:Mn,provider:Mn,label:Kt.getLabel(Mn),onLogin:bn,t:wn})}))}}]),nn}(Et.Component);st.default=Ht},function(it,st,bt){Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var wt=bt(1),Et=bt(20),Tt=(0,wt.observable)({user:null,recovered_user:null,message:null,settings:null,gotrue:null,error:null,siteURL:null,remember:!0,saving:!1,invite_token:null,email_change_token:null,namePlaceholder:null,modal:{page:"login",isOpen:!1,logo:!0},locale:Et.defaultLocale});Tt.setNamePlaceholder=(0,wt.action)(function(Dt){Tt.namePlaceholder=Dt}),Tt.startAction=(0,wt.action)(function(){Tt.saving=!0,Tt.error=null,Tt.message=null}),Tt.setError=(0,wt.action)(function(Dt){Tt.saving=!1,Tt.error=Dt}),Tt.init=(0,wt.action)(function(Dt,Ot){Dt&&(Tt.gotrue=Dt,Tt.user=Dt.currentUser(),Tt.user&&(Tt.modal.page="user")),Ot&&Tt.loadSettings()}),Tt.loadSettings=(0,wt.action)(function(){Tt.settings||Tt.gotrue&&Tt.gotrue.settings().then((0,wt.action)(function(Dt){return Tt.settings=Dt})).catch((0,wt.action)(function(Dt){Tt.error=new Error("Failed to load settings from ".concat(Tt.gotrue.api.apiURL))}))}),Tt.setIsLocal=(0,wt.action)(function(Dt){Tt.isLocal=Dt}),Tt.setSiteURL=(0,wt.action)(function(Dt){Tt.siteURL=Dt}),Tt.clearSiteURL=(0,wt.action)(function(){Tt.gotrue=null,Tt.siteURL=null,Tt.settings=null}),Tt.login=(0,wt.action)(function(Dt,Ot){return Tt.startAction(),Tt.gotrue.login(Dt,Ot,Tt.remember).then((0,wt.action)(function(zt){Tt.user=zt,Tt.modal.page="user",Tt.invite_token=null,Tt.email_change_token&&Tt.doEmailChange(),Tt.saving=!1})).catch(Tt.setError)}),Tt.externalLogin=(0,wt.action)(function(Dt){Tt.error=null,Tt.message=null;var Ot=Tt.invite_token?Tt.gotrue.acceptInviteExternalUrl(Dt,Tt.invite_token):Tt.gotrue.loginExternalUrl(Dt);window.location.href=Ot}),Tt.completeExternalLogin=(0,wt.action)(function(Dt){Tt.startAction(),Tt.gotrue.createUser(Dt,Tt.remember).then(function(Ot){Tt.user=Ot,Tt.modal.page="user",Tt.saving=!1}).catch(Tt.setError)}),Tt.signup=(0,wt.action)(function(Dt,Ot,zt){return Tt.startAction(),Tt.gotrue.signup(Ot,zt,{full_name:Dt}).then((0,wt.action)(function(){Tt.settings.autoconfirm?Tt.login(Ot,zt,Tt.remember):Tt.message="confirm",Tt.saving=!1})).catch(Tt.setError)}),Tt.logout=(0,wt.action)(function(){if(Tt.user)return Tt.startAction(),Tt.user.logout().then((0,wt.action)(function(){Tt.user=null,Tt.modal.page="login",Tt.saving=!1})).catch(Tt.setError);Tt.modal.page="login",Tt.saving=!1}),Tt.updatePassword=(0,wt.action)(function(Dt){Tt.startAction(),(Tt.recovered_user||Tt.user).update({password:Dt}).then(function(Ot){Tt.user=Ot,Tt.recovered_user=null,Tt.modal.page="user",Tt.saving=!1}).catch(Tt.setError)}),Tt.acceptInvite=(0,wt.action)(function(Dt){Tt.startAction(),Tt.gotrue.acceptInvite(Tt.invite_token,Dt,Tt.remember).then(function(Ot){Tt.saving=!1,Tt.invite_token=null,Tt.user=Ot,Tt.modal.page="user"}).catch(Tt.setError)}),Tt.doEmailChange=(0,wt.action)(function(){return Tt.startAction(),Tt.user.update({email_change_token:Tt.email_change_token}).then((0,wt.action)(function(Dt){Tt.user=Dt,Tt.email_change_token=null,Tt.message="email_changed",Tt.saving=!1})).catch(Tt.setError)}),Tt.verifyToken=(0,wt.action)(function(Dt,Ot){var zt=Tt.gotrue;switch(Tt.modal.isOpen=!0,Dt){case"confirmation":Tt.startAction(),Tt.modal.page="signup",zt.confirm(Ot,Tt.remember).then((0,wt.action)(function($t){Tt.user=$t,Tt.saving=!1})).catch((0,wt.action)(function($t){console.error($t),Tt.message="verfication_error",Tt.modal.page="signup",Tt.saving=!1}));break;case"email_change":Tt.email_change_token=Ot,Tt.modal.page="message",Tt.user?Tt.doEmailChange():Tt.modal.page="login";break;case"invite":Tt.modal.page=Dt,Tt.invite_token=Ot;break;case"recovery":Tt.startAction(),Tt.modal.page=Dt,Tt.gotrue.recover(Ot,Tt.remember).then(function($t){Tt.saving=!1,Tt.recovered_user=$t}).catch(function($t){Tt.saving=!1,Tt.error=$t,Tt.modal.page="login"});break;default:Tt.error="Unkown token type"}}),Tt.requestPasswordRecovery=(0,wt.action)(function(Dt){Tt.startAction(),Tt.gotrue.requestPasswordRecovery(Dt).then((0,wt.action)(function(){Tt.message="password_mail",Tt.saving=!1})).catch(Tt.setError)}),Tt.openModal=(0,wt.action)(function(Dt){Tt.modal.page=Dt,Tt.modal.isOpen=!0}),Tt.closeModal=(0,wt.action)(function(){Tt.modal.isOpen=!1,Tt.error=null,Tt.message=null,Tt.saving=!1}),Tt.translate=(0,wt.action)(function(Dt){return(0,Et.getTranslation)(Dt,Tt.locale)});var At=Tt;st.default=At},function(it,st,bt){function wt(Qt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Zt){return typeof Zt}:function(Zt){return Zt&&typeof Symbol=="function"&&Zt.constructor===Symbol&&Zt!==Symbol.prototype?"symbol":typeof Zt})(Qt)}Object.defineProperty(st,"__esModule",{value:!0}),st.getTranslation=st.defaultLocale=void 0;var Et=Xt(bt(21)),Tt=Xt(bt(22)),At=Xt(bt(23)),Dt=Xt(bt(24)),Ot=Xt(bt(25)),zt=Xt(bt(26)),$t=Xt(bt(27)),Bt=Xt(bt(28));function Yt(Qt){if(typeof WeakMap!="function")return null;var Zt=new WeakMap,nn=new WeakMap;return(Yt=function(Kt){return Kt?nn:Zt})(Qt)}function Xt(Qt,Zt){if(!Zt&&Qt&&Qt.__esModule)return Qt;if(Qt===null||wt(Qt)!=="object"&&typeof Qt!="function")return{default:Qt};var nn=Yt(Zt);if(nn&&nn.has(Qt))return nn.get(Qt);var Kt={},ln=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var sn in Qt)if(sn!=="default"&&Object.prototype.hasOwnProperty.call(Qt,sn)){var bn=ln?Object.getOwnPropertyDescriptor(Qt,sn):null;bn&&(bn.get||bn.set)?Object.defineProperty(Kt,sn,bn):Kt[sn]=Qt[sn]}return Kt.default=Qt,nn&&nn.set(Qt,Kt),Kt}st.defaultLocale="en";var Ht={en:Et,fr:Tt,es:At,hu:Dt,pt:Ot,pl:zt,cs:$t,sk:Bt};st.getTranslation=function(Qt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",nn=Ht[Zt]&&Ht[Zt][Qt];return nn||Ht.en[Qt]||Qt}},function(it){it.exports=JSON.parse(`{"log_in":"Log in","log_out":"Log out","logged_in_as":"Logged in as","logged_in":"Logged in","logging_in":"Logging in","logging_out":"Logging out","sign_up":"Sign up","signing_up":"Signing up","forgot_password":"Forgot password?","recover_password":"Recover password","send_recovery_email":"Send recovery email","sending_recovery_email":"Sending recovery email","never_mind":"Never mind","update_password":"Update password","updating_password":"Updating password","complete_your_signup":"Complete your signup","site_url_title":"Development Settings","site_url_link_text":"Clear localhost URL","site_url_message":"Looks like you're running a local server. Please let us know the URL of your Netlify site.","site_url_label":"Enter your Netlify Site URL","site_url_placeholder":"URL of your Netlify site","site_url_submit":"Set site's URL","message_confirm":"A confirmation message was sent to your email, click the link there to continue.","message_password_mail":"We've sent a recovery email to your account, follow the link there to reset your password.","message_email_changed":"Your email address has been updated!","message_verfication_error":"There was an error verifying your account. Please try again or contact an administrator.","message_signup_disabled":"Public signups are disabled. Contact an administrator and ask for an invite.","form_name_placeholder":"Name","form_email_label":"Enter your email","form_name_label":"Enter your name","form_email_placeholder":"Email","form_password_label":"Enter your password","form_password_placeholder":"Password","coded_by":"Coded by Netlify","continue_with":"Continue with","No user found with this email":"No user found with this email","Invalid Password":"Invalid Password","Email not confirmed":"Email not confirmed","User not found":"User not found"}`)},function(it){it.exports=JSON.parse(`{"log_in":"Connexion","log_out":"D\xE9connexion","logged_in_as":"Connect\xE9 en tant que","logged_in":"Connect\xE9","logging_in":"Connexion","logging_out":"D\xE9connexion","sign_up":"Inscription","signing_up":"Inscription","forgot_password":"Mot de passe oubli\xE9 ?","recover_password":"R\xE9cup\xE9rer le mot de passe","send_recovery_email":"Envoyer l'e-mail de r\xE9cup\xE9ration","sending_recovery_email":"Envoi de l'e-mail de r\xE9cup\xE9ration","never_mind":"Annuler","update_password":"Mettre \xE0 jour le mot de passe","updating_password":"Mise \xE0 jour du mot de passe","complete_your_signup":"Compl\xE9ter l'inscription","site_url_title":"Param\xE8tres de d\xE9veloppement","site_url_link_text":"Effacer l'URL localhost","site_url_message":"On dirait que vous faites tourner un serveur local. Veuillez nous indiquer l'URL de votre site Netlify.","site_url_label":"Entrez l'URL de votre site Netlify","site_url_placeholder":"URL de votre site Netlify","site_url_submit":"D\xE9finir l'URL du site","message_confirm":"Un message de confirmation a \xE9t\xE9 envoy\xE9 \xE0 votre adresse \xE9lectronique, cliquez sur le lien pour continuer.","message_password_mail":"Nous avons envoy\xE9 un e-mail de r\xE9cup\xE9ration \xE0 votre compte, suivez le lien qui s'y trouve pour r\xE9initialiser votre mot de passe.","message_email_changed":"Votre adresse e-mail a \xE9t\xE9 mise \xE0 jour !","message_verfication_error":"Il y a eu une erreur lors de la v\xE9rification de votre compte. Veuillez r\xE9essayer ou contacter un administrateur.","message_signup_disabled":"Les inscriptions publiques sont d\xE9sactiv\xE9es. Contactez un administrateur et demandez une invitation.","form_name_placeholder":"Nom","form_email_label":"Entrez votre adresse e-mail","form_name_label":"Saisissez votre nom","form_email_placeholder":"E-mail","form_password_label":"Saisissez votre mot de passe","form_password_placeholder":"Mot de passe","coded_by":"Cod\xE9 par Netlify","continue_with":"Continuer avec","No user found with this email":"Aucun utilisateur trouv\xE9 avec cet e-mail","Invalid Password":"Mot de passe incorrect","Email not confirmed":"Adresse e-mail non confirm\xE9e","User not found":"Aucun utilisateur trouv\xE9"}`)},function(it){it.exports=JSON.parse('{"log_in":"Iniciar sesi\xF3n","log_out":"Cerrar sesi\xF3n","logged_in_as":"Conectado como","logged_in":"Conectado","logging_in":"Iniciando sesi\xF3n","logging_out":"Cerrando sesi\xF3n","sign_up":"Registrate","signing_up":"Registrandose","forgot_password":"\xBFOlvidaste tu contrase\xF1a?","recover_password":"Recuperar contrase\xF1a","send_recovery_email":"Enviar correo electr\xF3nico de recuperaci\xF3n","sending_recovery_email":"Enviando correo electr\xF3nico de recuperaci\xF3n","never_mind":"Regresar","update_password":"Actualizar contrase\xF1a","updating_password":"Actualizando contrase\xF1a","complete_your_signup":"Completa tu registro","site_url_title":"Configuraci\xF3n de desarrollo","site_url_link_text":"Borrar URL del localhost","site_url_message":"Parece que estas corriendo un servidor local. Por favor haznos saber la URL de tu sitio en Netlify.","site_url_label":"Ingresa la URL de tu sitio en Netlify","site_url_placeholder":"URL de tu sitio en Netlify","site_url_submit":"Establecer la URL del sitio","message_confirm":"Se envi\xF3 un mensaje de confirmaci\xF3n a tu correo electr\xF3nico, haz clic en el enlace all\xED para continuar.","message_password_mail":"Hemos enviado un correo electr\xF3nico de recuperaci\xF3n a tu correo electr\xF3nico, sigue el enlace all\xED para restablecer tu contrase\xF1a.","message_email_changed":"\xA1Tu direcci\xF3n de correo electr\xF3nico ha sido actualizada!","message_verfication_error":"Se produjo un error al verificar tu cuenta. Por favor intenta nuevamente o contacta a un administrador.","message_signup_disabled":"Los registros p\xFAblicos est\xE1n deshabilitados. Contacta a un administrador y solicita una invitaci\xF3n.","form_name_placeholder":"Nombre","form_email_label":"Ingresa tu correo electr\xF3nico","form_name_label":"Ingresa tu nombre","form_email_placeholder":"Correo electr\xF3nico","form_password_label":"Ingresa tu contrase\xF1a","form_password_placeholder":"Contrase\xF1a","coded_by":"Codificado por Netlify","continue_with":"Contin\xFAa con","No user found with this email":"No existe ning\xFAn usuario con este correo electr\xF3nico","Invalid Password":"La contrase\xF1a es invalida","Email not confirmed":"Correo electr\xF3nico no confirmado","User not found":"Usuario no encontrado"}')},function(it){it.exports=JSON.parse('{"log_in":"Bejelentkez\xE9s","log_out":"Kijelentkez\xE9s","logged_in_as":"Bejelentkezve mint","logged_in":"Bejelentkezve","logging_in":"Bejelentkez\xE9s","logging_out":"Kijelentkez\xE9s","sign_up":"Regisztr\xE1ci\xF3","signing_up":"Regisztr\xE1l\xE1s","forgot_password":"Elfelejtette a jelszav\xE1t?","recover_password":"Jelsz\xF3 vissza\xE1ll\xEDt\xE1sa","send_recovery_email":"Jelsz\xF3p\xF3tl\xF3 lev\xE9l k\xFCld\xE9se","sending_recovery_email":"Jelsz\xF3p\xF3tl\xF3 lev\xE9l k\xFCld\xE9se","never_mind":"M\xE9gsem","update_password":"\xDAj jelsz\xF3 be\xE1ll\xEDt\xE1sa","updating_password":"\xDAj jelsz\xF3 be\xE1ll\xEDt\xE1sa","complete_your_signup":"Regisztr\xE1ci\xF3 befejez\xE9se","site_url_title":"Fejleszt\u0151i Be\xE1ll\xEDt\xE1sok","site_url_link_text":"Localhost URL t\xF6rl\xE9se","site_url_message":"\xDAgy n\xE9z ki egy helyi szervert futtat. K\xE9rj\xFCk adja meg a Netlify oldala URL-j\xE9t.","site_url_label":"Adja meg a Netlify oldala URL-j\xE9t","site_url_placeholder":"a Netlify oldala URL-je","site_url_submit":"URL be\xE1ll\xEDt\xE1sa","message_confirm":"Elk\xFCldt\xFCnk egy meger\u0151s\xEDt\u0151 levelet e-mailben, k\xE9rj\xFCk kattintson a linkre a lev\xE9lben a folytat\xE1shoz.","message_password_mail":"Elk\xFCldt\xFCnk egy jelsz\xF3p\xF3tl\xF3 levelet e-mailben, k\xE9rj\xFCk k\xF6vesse a linket a lev\xE9lben a jelszava vissza\xE1ll\xEDt\xE1s\xE1hoz.","message_email_changed":"Az e-mail c\xEDm\xE9t friss\xEDtett\xFCk!","message_verfication_error":"Probl\xE9ma t\xF6rt\xE9nt a fi\xF3kja meger\u0151s\xEDt\xE9se k\xF6zben. K\xE9rj\xFCk pr\xF3b\xE1lja \xFAjra, vagy vegye fel a kapcsolatot egy adminisztr\xE1torral.","message_signup_disabled":"A nyilv\xE1nos regisztr\xE1ci\xF3 nincs enged\xE9lyezve. Vegye fel a kapcsolatot egy adminisztr\xE1torral \xE9s k\xE9rjen megh\xEDv\xF3t.","form_name_placeholder":"N\xE9v","form_email_label":"Adja meg az e-mail c\xEDm\xE9t","form_name_label":"Adja meg a nev\xE9t","form_email_placeholder":"E-mail","form_password_label":"Adja meg a jelszav\xE1t","form_password_placeholder":"Jelsz\xF3","coded_by":"Fejlesztette a Netlify","continue_with":"Bejelentkez\xE9s ezzel:","No user found with this email":"Nem tal\xE1lhat\xF3 fi\xF3k ezzel az e-mail c\xEDmmel","Invalid Password":"Helytelen Jelsz\xF3","Email not confirmed":"Az e-mail nem er\u0151s\xFClt meg","User not found":"Felhaszn\xE1l\xF3 nem tal\xE1lhat\xF3"}')},function(it){it.exports=JSON.parse('{"log_in":"Entrar","log_out":"Sair","logged_in_as":"Logado como","logged_in":"Logado em","logging_in":"Logando em","logging_out":"Saindo","sign_up":"Registrar","signing_up":"Registrando","forgot_password":"Esqueceu a senha?","recover_password":"Recuperar senha","send_recovery_email":"Enviar email de recupera\xE7\xE3o de senha","sending_recovery_email":"Enviando email de recupera\xE7\xE3o de senha","never_mind":"Deixa pra l\xE1","update_password":"Atualizar senha","updating_password":"Atualizando senha","complete_your_signup":"Complete seu registro","site_url_title":"Configura\xE7\xF5es de desenvolvimento","site_url_link_text":"Limpar URL do localhost","site_url_message":"Parece que voc\xEA est\xE1 executando um servidor local. Informe-nos o URL do seu site Netlify.","site_url_label":"Insira o URL do seu site Netlify","site_url_placeholder":"URL do seu site Netlify","site_url_submit":"Configure a URL do seu site","message_confirm":"Uma mensagem de confirma\xE7\xE3o foi enviada para o seu email, clique no link para continuar.","message_password_mail":"Enviamos um e-mail de recupera\xE7\xE3o para sua conta, siga o link para redefinir sua senha.","message_email_changed":"Seu email foi atualizado!","message_verfication_error":"Ocorreu um erro ao verificar sua conta. Tente novamente ou entre em contato com um administrador.","message_signup_disabled":"Registros p\xFAblicos est\xE3o desabilitados. Contate um administrador e pe\xE7a por um convite.","form_name_placeholder":"Nome","form_email_label":"Insira seu email","form_name_label":"Insira seu nome","form_email_placeholder":"Email","form_password_label":"Insira sua senha","form_password_placeholder":"Senha","coded_by":"Desenvolvido por Netlify","continue_with":"Continue com","No user found with this email":"Nenhum usu\xE1rio encontrado com esse email","Invalid Password":"Senha inv\xE1lida","Email not confirmed":"Email n\xE3o confirmado","User not found":"Usu\xE1rio n\xE3o encontrado"}')},function(it){it.exports=JSON.parse('{"log_in":"Zaloguj si\u0119","log_out":"Wyloguj si\u0119","logged_in_as":"Zaloguj jako","logged_in":"Zalogowany","logging_in":"Logowanie","logging_out":"Wylogowywanie","sign_up":"Zarejestruj si\u0119","signing_up":"Rejestracja","forgot_password":"Nie pami\u0119tasz has\u0142a?","recover_password":"Resetuj has\u0142o","send_recovery_email":"Wy\u015Blij link do resetowania has\u0142a","sending_recovery_email":"Wysy\u0142anie linku do resetowania has\u0142a","never_mind":"Nieistotne","update_password":"Zaktualizuj has\u0142o","updating_password":"Aktualizowanie has\u0142o","complete_your_signup":"Doko\u0144cz rejestracj\u0119","site_url_title":"Ustawienia strony","site_url_link_text":"Usu\u0144 adres localhost","site_url_message":"Wygl\u0105da na to \u017Ce zosta\u0142 uruchomiony lokalny serwer. Wprowad\u017A adres Twojej strony na Netlify.","site_url_label":"Wprowadz adres strony na Netlify","site_url_placeholder":"Adres Twojej strony na Netlify","site_url_submit":"Ustaw adres strony","message_confirm":"Potwierdzenie zosta\u0142o wys\u0142ane na Tw\xF3j adres email. Kliknij w link w wiadomo\u015Bci aby kontunuowa\u0107.","message_password_mail":"Wys\u0142ali\u015Bmy link resetuj\u0105cy has\u0142o na Tw\xF3j adres email. Klknij w link w wiadomo\u015Bci aby zresetowa\u0107 has\u0142o.","message_email_changed":"Tw\xF3j adres email zosta\u0142 zaktualizowany!","message_verfication_error":"Wyst\u0105pi\u0142 b\u0142\u0105d podczas weryfikcacji Twoje konta. Spr\xF3buj ponownie lub skontaktuj si\u0119 z administratorem,","message_signup_disabled":"Publiczna rejestracja jest wy\u0142\u0105czona. Skontaktuj si\u0119 z administratorem by uzyska\u0107 zaproszenie.","form_name_placeholder":"Imi\u0119","form_email_label":"Wprowad\u017A Tw\xF3j adres email","form_name_label":"Wprowad\u017A Twoje imi\u0119","form_email_placeholder":"Email","form_password_label":"Wprowad\u017A twoje has\u0142o","form_password_placeholder":"Has\u0142o","coded_by":"Coded by Netlify","continue_with":"Kontynuuj z","No user found with this email":"Nie znaleziono u\u017Cytkownika o tym adresie","Invalid Password":"Has\u0142o nieprawid\u0142owe","Email not confirmed":"Email nie zosta\u0142 potwierdzony","User not found":"Nie znaleziono u\u017Cytkownika"}')},function(it){it.exports=JSON.parse('{"log_in":"P\u0159ihl\xE1sit se","log_out":"Odhl\xE1sit se","logged_in_as":"P\u0159ihl\xE1\u0161en jako","logged_in":"P\u0159ihl\xE1\u0161en\xFD u\u017Eivatel","logging_in":"Prob\xEDh\xE1 p\u0159ihl\xE1\u0161en\xED","logging_out":"Prob\xEDh\xE1 odhl\xE1\u0161en\xED","sign_up":"Zaregistrovat se","signing_up":"Registrace","forgot_password":"Zapomn\u011Bli jste heslo?","recover_password":"Obnovit heslo","send_recovery_email":"Odeslat e-mail pro obnoven\xED","sending_recovery_email":"Odes\xEDl\xE1n\xED e-mailu pro obnoven\xED","never_mind":"Zp\u011Bt","update_password":"Aktualizovat heslo","updated_password":"Aktualizace hesla","complete_your_signup":"Dokon\u010Dete registraci","site_url_title":"Nastaven\xED v\xFDvoje","site_url_link_text":"Vymazat URL localhost","site_url_message":"Zd\xE1 se, \u017Ee pou\u017E\xEDv\xE1te lok\xE1ln\xED server. Sd\u011Blte n\xE1m pros\xEDm adresu URL sv\xE9ho Netlify serveru.","site_url_label":"Zadejte adresu URL sv\xE9ho serveru Netlify","site_url_placeholder":"URL va\u0161eho Netlify serveru","site_url_submit":"Nastavit adresu URL","message_confirm":"Na v\xE1\u0161 e-mail byl odesl\xE1n odkaz k potvrzen\xED registrace, pokra\u010Dujte kliknut\xEDm na tento odkaz.","message_password_mail":"Zaslali jsme v\xE1m e-mail pro obnoven\xED hesla, heslo obnov\xEDte kliknut\xEDm na odkaz v e-mailu.","message_email_changed":"Va\u0161e e-mailov\xE1 adresa byla aktualizov\xE1na!","message_verfication_error":"P\u0159i ov\u011B\u0159ov\xE1n\xED va\u0161eho \xFA\u010Dtu do\u0161lo k chyb\u011B. Zkuste to pros\xEDm znovu nebo kontaktujte spr\xE1vce.","message_signup_disabled":"Registrace pro ve\u0159ejnost jsou zak\xE1z\xE1ny. Kontaktujte spr\xE1vce a po\u017E\xE1dejte o pozv\xE1nku.","form_name_placeholder":"Jm\xE9no","form_email_label":"Zadejte sv\u016Fj e-mail","form_name_label":"Zadejte sv\xE9 jm\xE9no","form_email_placeholder":"E-mail","form_password_label":"Zadejte sv\xE9 heslo","form_password_placeholder":"Heslo","coded_by":"Vytvo\u0159eno Netlify","continue_with":"Pokra\u010Dovat p\u0159es","No user found with this email":"Nebyl nalezen \u017E\xE1dn\xFD u\u017Eivatel s t\xEDmto e-mailem","Invalid Password":"Neplatn\xE9 heslo","Email not confirmed":"E-mail nebyl potvrzen","User not found":"U\u017Eivatel nebyl nalezen"}')},function(it){it.exports=JSON.parse('{"log_in":"Prihl\xE1si\u0165 sa","log_out":"Odhl\xE1si\u0165 sa","logged_in_as":"Prihl\xE1sen\xFD ako","logged_in":"Prihl\xE1sen\xFD u\u017E\xEDvate\u013E","logging_in":"Prebieha prihl\xE1senie","logging_out":"Prebieha odhl\xE1senie","sign_up":"Zaregistrova\u0165 sa","signing_up":"Registr\xE1cia","forgot_password":"Zabudli ste heslo?","recover_password":"Obnovi\u0165 heslo","send_recovery_email":"Odosla\u0165 e-mail pre obnovenie","sending_recovery_email":"Odosielanie e-mailu pre obnovenie","never_mind":"Nasp\xE4\u0165","update_password":"Aktualizova\u0165 heslo","updated_password":"Aktualiz\xE1cia hesla","complete_your_signup":"Dokon\u010Dite registr\xE1ciu","site_url_title":"Nastavenie v\xFDvoja","site_url_link_text":"Vymaza\u0165 URL localhost","site_url_message":"Zd\xE1 sa, \u017Ee pou\u017E\xEDvate lok\xE1lny server. Pros\xEDm, nastavte URL adresu svojho Netlify servera.","site_url_label":"Zadajte URL svojho Netlify servera","site_url_placeholder":"URL v\xE1\u0161ho Netlify servera","site_url_submit":"Nastavi\u0165 URL adresu","message_confirm":"Potvr\u010Fte registr\xE1ciu kliknut\xEDm na odkaz v spr\xE1ve, ktor\xFA sme V\xE1m pr\xE1ve zaslali na v\xE1\u0161 email.","message_password_mail":"Poslali sme v\xE1m e-mail pre obnovenie hesla, heslo obnov\xEDte kliknut\xEDm na odkaz v e-maile.","message_email_changed":"Va\u0161a e-mailov\xE1 adresa bola aktualizovan\xE1!","message_verfication_error":"Pri overovan\xED v\xE1\u0161ho \xFA\u010Dtu do\u0161lo k chybe. Pros\xEDm, sk\xFAste to znova alebo kontaktujte spr\xE1vcu.","message_signup_disabled":"Registr\xE1cia pre verejnos\u0165 s\xFA zak\xE1zan\xE9. Kontaktujte spr\xE1vcu a po\u017Eiadajte o pozv\xE1nku.","form_name_placeholder":"Meno","form_email_label":"Zadajte svoj e-mail","form_name_label":"Zadajte svoje meno","form_email_placeholder":"E-mail","form_password_label":"Zadajte svoje heslo","form_password_placeholder":"Heslo","coded_by":"Vytvoren\xE9 Netlify","continue_with":"Pokra\u010Dova\u0165 cez","No user found with this email":"Nebol n\xE1jden\xFD \u017Eiadny u\u017E\xEDvate\u013E s t\xFDmto e-mailom","Invalid Password":"Neplatn\xE9 heslo","Email not confirmed":"E-mail nebol potvrden\xFD","User not found":"Pou\u017E\xEDvate\u013E nebol n\xE1jden\xFD"}')},function(it,st,bt){function wt(Xt){return(wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Ht){return typeof Ht}:function(Ht){return Ht&&typeof Symbol=="function"&&Ht.constructor===Symbol&&Ht!==Symbol.prototype?"symbol":typeof Ht})(Xt)}Object.defineProperty(st,"__esModule",{value:!0}),st.default=void 0;var Et,Tt=bt(0);function At(Xt,Ht){if(!(Xt instanceof Ht))throw new TypeError("Cannot call a class as a function")}function Dt(Xt,Ht){for(var Qt=0;Qt<Ht.length;Qt++){var Zt=Ht[Qt];Zt.enumerable=Zt.enumerable||!1,Zt.configurable=!0,"value"in Zt&&(Zt.writable=!0),Object.defineProperty(Xt,Zt.key,Zt)}}function Ot(Xt,Ht){return(Ot=Object.setPrototypeOf||function(Qt,Zt){return Qt.__proto__=Zt,Qt})(Xt,Ht)}function zt(Xt){var Ht=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Qt,Zt=Bt(Xt);if(Ht){var nn=Bt(this).constructor;Qt=Reflect.construct(Zt,arguments,nn)}else Qt=Zt.apply(this,arguments);return $t(this,Qt)}}function $t(Xt,Ht){return!Ht||wt(Ht)!=="object"&&typeof Ht!="function"?function(Qt){if(Qt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Qt}(Xt):Ht}function Bt(Xt){return(Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(Ht){return Ht.__proto__||Object.getPrototypeOf(Ht)})(Xt)}var Yt=(0,bt(2).connect)(["store"])(Et=function(Xt){(function(Kt,ln){if(typeof ln!="function"&&ln!==null)throw new TypeError("Super expression must either be null or a function");Kt.prototype=Object.create(ln&&ln.prototype,{constructor:{value:Kt,writable:!0,configurable:!0}}),ln&&Ot(Kt,ln)})(nn,Xt);var Ht,Qt,Zt=zt(nn);function nn(){var Kt;At(this,nn);for(var ln=arguments.length,sn=new Array(ln),bn=0;bn<ln;bn++)sn[bn]=arguments[bn];return(Kt=Zt.call.apply(Zt,[this].concat(sn))).handleSignup=function(wn){wn.preventDefault(),Kt.props.store.openModal("signup")},Kt.handleLogin=function(wn){wn.preventDefault(),Kt.props.store.openModal("login")},Kt.handleLogout=function(wn){wn.preventDefault(),Kt.props.store.openModal("user")},Kt.handleButton=function(wn){wn.preventDefault(),Kt.props.store.openModal(Kt.props.store.user?"user":"login")},Kt}return Ht=nn,(Qt=[{key:"render",value:function(){var Kt=this.props.store,ln=Kt.user,sn=Kt.translate;return this.props.mode==="button"?(0,Tt.h)("a",{className:"netlify-identity-button",href:"#",onClick:this.handleButton},this.props.text||sn(ln?"log_out":"log_in")):ln?(0,Tt.h)("ul",{className:"netlify-identity-menu"},(0,Tt.h)("li",{className:"netlify-identity-item netlify-identity-user-details"},sn("logged_in_as")," ",(0,Tt.h)("span",{className:"netlify-identity-user"},ln.user_metadata.name||ln.email)),(0,Tt.h)("li",{className:"netlify-identity-item"},(0,Tt.h)("a",{className:"netlify-identity-logout",href:"#",onClick:this.handleLogout},sn("log_out")))):(0,Tt.h)("ul",{className:"netlify-identity-menu"},(0,Tt.h)("li",{className:"netlify-identity-item"},(0,Tt.h)("a",{className:"netlify-identity-signup",href:"#",onClick:this.handleSignup},sn("sign_up"))),(0,Tt.h)("li",{className:"netlify-identity-item"},(0,Tt.h)("a",{className:"netlify-identity-login",href:"#",onClick:this.handleLogin},sn("log_in"))))}}])&&Dt(Ht.prototype,Qt),nn}(Tt.Component))||Et;st.default=Yt},function(it,st,bt){bt.r(st);var wt=bt(7),Et=bt.n(wt)()(!0);Et.push([it.i,`::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */
  color: #a3a9ac;
  font-weight: 500;
}

::-moz-placeholder {
  /* Firefox 19+ */
  color: #a3a9ac;
  font-weight: 500;
}

:-ms-input-placeholder {
  /* IE 10+ */
  color: #a3a9ac;
  font-weight: 500;
}

:-moz-placeholder {
  /* Firefox 18- */
  color: #a3a9ac;
  font-weight: 500;
}

.modalContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  line-height: 1.5;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  -webkit-box-align: center;
      -ms-flex-align: center;
          align-items: center;
  z-index: 99999;
}

.modalContainer::before {
  content: "";
  display: block;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #fff;
  z-index: -1;
}

.modalDialog {
  -webkit-box-flex: 1;
      -ms-flex-positive: 1;
          flex-grow: 1;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
      -ms-flex-direction: column;
          flex-direction: column;
  width: 100%;
}

.modalContent {
  position: relative;
  padding: 32px;
  opacity: 0;
  -webkit-transform: translateY(10px) scale(1);
          transform: translateY(10px) scale(1);
  background: #fff;
}

[aria-hidden="false"] .modalContent {
    -webkit-animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
            animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    -webkit-animation-fill-mode: forwards;
            animation-fill-mode: forwards;
  }

@-webkit-keyframes bouncyEntrance {
  0% {
    opacity: 0;
    -webkit-transform: translateY(10px) scale(0.9);
            transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0) scale(1);
            transform: translateY(0) scale(1);
  }
}

@keyframes bouncyEntrance {
  0% {
    opacity: 0;
    -webkit-transform: translateY(10px) scale(0.9);
            transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    -webkit-transform: translateY(0) scale(1);
            transform: translateY(0) scale(1);
  }
}

@media (min-width: 480px) {
  .modalContainer::before {
    background-color: rgb(14, 30, 37);
    -webkit-animation: fadeIn 0.1s ease-in;
            animation: fadeIn 0.1s ease-in;
    -webkit-animation-fill-mode: forwards;
            animation-fill-mode: forwards;
  }

  .modalDialog {
    max-width: 364px;
    -webkit-box-pack: center;
        -ms-flex-pack: center;
            justify-content: center;
  }

  .modalContent {
    background: #fff;
    -webkit-box-shadow: 0 4px 12px 0 rgba(0, 0, 0, .07),
      0 12px 32px 0 rgba(14, 30, 37, .1);
            box-shadow: 0 4px 12px 0 rgba(0, 0, 0, .07),
      0 12px 32px 0 rgba(14, 30, 37, .1);
    border-radius: 8px;
    margin-top: 32px;
  }
}

@-webkit-keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

.flashMessage {
  text-align: center;
  color: rgb(14, 30, 37);
  font-weight: 500;
  font-size: 14px;
  background-color: #f2f3f3;
  padding: 6px;
  border-radius: 4px;
  opacity: 0.7;
  -webkit-transition: opacity 0.2s linear;
  transition: opacity 0.2s linear;
}

.flashMessage:hover,
.flashMessage:focus {
  opacity: 1;
}

.error {
  color: #fa3946;
  background-color: #fceef0;
  opacity: 1;
}

.error span::before {
  content: "";
  display: inline-block;
  position: relative;
  top: 3px;
  margin-right: 4px;
  width: 16px;
  height: 16px;
  background: no-repeat center center;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsPSIjRkEzOTQ2IiBkPSJNOCwxLjMzMzMzMzMzIEMxMS42NzYsMS4zMzMzMzMzMyAxNC42NjY2NjY3LDQuMzI0IDE0LjY2NjY2NjcsOCBDMTQuNjY2NjY2NywxMS42NzYgMTEuNjc2LDE0LjY2NjY2NjcgOCwxNC42NjY2NjY3IEM0LjMyNCwxNC42NjY2NjY3IDEuMzMzMzMzMzMsMTEuNjc2IDEuMzMzMzMzMzMsOCBDMS4zMzMzMzMzMyw0LjMyNCA0LjMyNCwxLjMzMzMzMzMzIDgsMS4zMzMzMzMzMyBaIE04LDAgQzMuNTgyLDAgMCwzLjU4MiAwLDggQzAsMTIuNDE4IDMuNTgyLDE2IDgsMTYgQzEyLjQxOCwxNiAxNiwxMi40MTggMTYsOCBDMTYsMy41ODIgMTIuNDE4LDAgOCwwIFogTTcuMTI2NjY2NjcsNS4wMTczMzMzMyBDNy4wNjA2NjY2Nyw0LjQ3OTMzMzMzIDcuNDc4NjY2NjcsNCA4LjAyNTMzMzMzLDQgQzguNTM5MzMzMzMsNCA4Ljk0MzMzMzMzLDQuNDUwNjY2NjcgOC44Nzg2NjY2Nyw0Ljk2NzMzMzMzIEw4LjM3NCw5LjAwMjY2NjY3IEM4LjM1MDY2NjY3LDkuMTkxMzMzMzMgOC4xOSw5LjMzMzMzMzMzIDgsOS4zMzMzMzMzMyBDNy44MSw5LjMzMzMzMzMzIDcuNjQ5MzMzMzMsOS4xOTEzMzMzMyA3LjYyNTMzMzMzLDkuMDAyNjY2NjcgTDcuMTI2NjY2NjcsNS4wMTczMzMzMyBMNy4xMjY2NjY2Nyw1LjAxNzMzMzMzIFogTTgsMTIuMTY2NjY2NyBDNy41NCwxMi4xNjY2NjY3IDcuMTY2NjY2NjcsMTEuNzkzMzMzMyA3LjE2NjY2NjY3LDExLjMzMzMzMzMgQzcuMTY2NjY2NjcsMTAuODczMzMzMyA3LjU0LDEwLjUgOCwxMC41IEM4LjQ2LDEwLjUgOC44MzMzMzMzMywxMC44NzMzMzMzIDguODMzMzMzMzMsMTEuMzMzMzMzMyBDOC44MzMzMzMzMywxMS43OTMzMzMzIDguNDYsMTIuMTY2NjY2NyA4LDEyLjE2NjY2NjcgWiIvPgo8L3N2Zz4K);
}

.success {
}

.disabled {
  opacity: 0.38;
  pointer-events: none;
}

.infoText {
  text-align: center;
  margin: 32px 0;
}

.infoTextEmail {
  font-size: 16px;
  font-weight: 500;
}

.saving {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABQCAMAAACeYYN3AAAAxlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////DTx3aAAAAQnRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEGgjKRfAAACk0lEQVR4AYXQDXP5WhAG8CUhiSQqSv4RRRMVL1Fa1VZf3PL9v9Tde9wc9M8+P8/M7s6czJiHgNIvVCJO6YiAMlAiWckASiQrm4bJMZTDrmbBIEC9qpgVjp6n4B+oyEwCzKrMQBVaQIlkpmXZln1dhQB+49gOh5dLexlV6MhsAqyazEQVugCqsOK5nsQmwPWZ53ucvyczSGb4l9T9OsdnLgFOXVZFFd4AqEKrIasR4AdBI2hw1GR6VzMwSWY2A60ZNDl6KnUC3KbMRhXeAqhCpyXzCAjarNVucdqXVEhWaRfCdsj5vQcE1EOZQ7Jy+EcUlklWi2Q3BLQ6nagTcTra2Y0qrHZirRN3OOezTUAjvq4bd7suqpDfSGJUoXcnCwiIerIqqlC96vf6HD1ZsUcE3PYH/QGnrx3uYnqoQn4l6aMK/XtZi4BuIrNIZqVJkiapkhx37Y6AcDgcpsNU44Nz3OuoQn4jSVGFNw+ykID+SGaTzM5G2YiTFVM73AMConE2zjhj7XAXs4EqHE/4d12GKgwmsoiAZCpzSObMptPZdHZVSkCc5/ksnym8cPRUmiQzpvNcmedzTl4o7qlBsuZc1iVg9ChDFdYWshEBveV/FssFZ/l7Z7eowsfl0/JJ4UXj43A/ogpbT7IeAZNnWQ1VuJJNCBi8HKxeVhw9tRaq8JkfrV/WHDULxb1CFbbX7HX9yllfck9A/ipzSea+yeYEJO+yEFX4tim8b94VXjj/zzdU4Z/NmY/NB+fkTglYfMg8knmfsiUBD1+yCFX4+X309f3FOds/UYVR8fH2e6vwovExIuB5K/NJ5v8jWxGQ/chiVOF2d+pn98M5zt3WJFm83+/2O4UXjprabkzAWn+o56k9qvBfX4hMaM+SxOMAAAAASUVORK5CYII=);
  background-repeat: repeat-x;
  background-size: contain;
  background-origin: border-box;
  background-position: 0% 0%;
  -webkit-animation: loading 20s linear infinite;
          animation: loading 20s linear infinite;
  pointer-events: none;
}

.saving::after {
  content: "\u2026";
}

@-webkit-keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

@keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

.btn {
  display: block;
  position: relative;
  width: 100%;
  height: auto;
  margin: 14px 0 0;
  padding: 6px;
  outline: 0;
  cursor: pointer;
  border: 2px solid rgb(14, 30, 37);
  border-radius: 4px;
  background-color: #2d3b41;
  color: #fff;
  -webkit-transition: background-color 0.2s ease;
  transition: background-color 0.2s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
}

.btn:hover,
.btn:focus {
  background-color: rgb(14, 30, 37);
  text-decoration: none;
}

.btnClose {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  border: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin: 6px;
  background: #fff;
  color: #a3a9ac;
}

.btnClose::before {
  content: "\xD7";
  font-size: 25px;
  line-height: 9px;
}

.btnClose:hover,
.btnClose:focus {
  background: #e9ebeb;
  color: rgb(14, 30, 37);
}

.header {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  margin-top: -8px;
  margin-bottom: 32px;
}

.btnHeader {
  font-size: 16px;
  line-height: 24px;
  background: #fff;
  color: #a3a9ac;
  border: 0;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 4px 4px 0 0;
  margin: 0;
}

.btnHeader:focus,
.btnHeader.active {
  background: #fff;
  color: rgb(14, 30, 37);
  border-color: rgb(14, 30, 37);
  font-weight: 700;
}

.btnHeader:not(:only-child):hover {
  background-color: #e9ebeb;
  color: rgb(14, 30, 37);
}

.btnHeader:only-child {
  cursor: auto;
}

.btnLink {
  display: block;
  position: relative;
  width: auto;
  height: auto;
  margin: 14px auto 0;
  padding: 6px;
  padding-bottom: 0;
  outline: 0;
  cursor: pointer;
  color: rgb(14, 30, 37);
  border: none;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 0;
  background-color: inherit;
  -webkit-transition: border-color 0.2s ease;
  transition: border-color 0.2s ease;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  white-space: nowrap;
}

.btnLink:hover,
.btnLink:focus {
  background-color: inherit;
  border-color: #a3a9ac;
}

.form {
}

.formGroup {
  position: relative;
  margin-top: 14px;
}

.formControl {
  -webkit-box-sizing: border-box;
          box-sizing: border-box;
  display: block;
  width: 100%;
  height: 40px;
  margin: 0;
  padding: 6px 12px 6px 34px;
  border: 2px solid #e9ebeb;
  border-radius: 4px;
  background: #fff;
  color: rgb(14, 30, 37);
  -webkit-box-shadow: none;
          box-shadow: none;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  -webkit-transition: -webkit-box-shadow ease-in-out 0.15s;
  transition: -webkit-box-shadow ease-in-out 0.15s;
  transition: box-shadow ease-in-out 0.15s;
  transition: box-shadow ease-in-out 0.15s, -webkit-box-shadow ease-in-out 0.15s;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.inputFieldIcon {
  position: absolute;
  top: 12px;
  left: 12px;
  display: inline-block;
  width: 16px;
  height: 16px;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
}

.inputFieldName {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTgsNyBDNi4zNDMxNDU3NSw3IDUsNS42NTY4NTQyNSA1LDQgQzUsMi4zNDMxNDU3NSA2LjM0MzE0NTc1LDEgOCwxIEM5LjY1Njg1NDI1LDEgMTEsMi4zNDMxNDU3NSAxMSw0IEMxMSw1LjY1Njg1NDI1IDkuNjU2ODU0MjUsNyA4LDcgWiBNOCwxNSBMMS41LDE1IEMxLjUsMTEuMTM0MDA2OCA0LjQxMDE0OTEzLDggOCw4IEMxMS41ODk4NTA5LDggMTQuNSwxMS4xMzQwMDY4IDE0LjUsMTUgTDgsMTUgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTEpIi8+PC9zdmc+);
}

.inputFieldEmail {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSIgdmlld0JveD0iMCAwIDE2IDExIj4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xLjE3MDczMTcxLDMgQzAuNTIyMTQ2MzQxLDMgMy45MDI0NTk4N2UtMDgsMy41NDUxMTA4MSAzLjkwMjQ1OTg3ZS0wOCw0LjIyMjIyMTU0IEwzLjkwMjQ1OTg3ZS0wOCwxMi43Nzc3Nzg1IEMzLjkwMjQ1OTg3ZS0wOCwxMy40NTQ4ODkyIDAuNTIyMTQ2MzQxLDE0IDEuMTcwNzMxNzEsMTQgTDE0LjgyOTI2ODMsMTQgQzE1LjQ3Nzg1MzcsMTQgMTYsMTMuNDU0ODg5MiAxNiwxMi43Nzc3Nzg1IEwxNiw0LjIyMjIyMTU0IEMxNiwzLjU0NTExMDgxIDE1LjQ3Nzg1MzcsMyAxNC44MjkyNjgzLDMgTDEuMTcwNzMxNzEsMyBaIE0yLjMzNzQyMTE5LDUuMDAxODY1NjYgQzIuNDU3NTExNzUsNC45ODk1NTIxNCAyLjU2MDcxNDU3LDUuMDM5MzM5OCAyLjYzNjM1OTg1LDUuMTE3Mjg0MzcgTDcuNDgyNjA2MTcsMTAuMTEzMjU0NSBDNy43ODQ0ODgyMiwxMC40MjQ3NDU1IDguMjAzMjc4MjksMTAuNDI0NzY2IDguNTA1ODk2MTksMTAuMTEzMjU0NSBMMTMuMzYzNjQwMiw1LjExNzI4NDM3IEMxMy41MDUxMjU1LDQuOTcxMjA0OTkgMTMuNzUyOTc3OSw0Ljk4MTg5NzIzIDEzLjg4MzkyMjIsNS4xMzk3MzYwMiBDMTQuMDE0ODY2NSw1LjI5NzU3NDgxIDE0LjAwNTI4MjEsNS41NzQwNzQ4OCAxMy44NjM3OTY3LDUuNzIwMTU0MjYgTDExLjExNTg2MDYsOC41NDg0MTE1MiBMMTMuODU4MDU3MSwxMS4yNjc2NDY5IEMxNC4wMjE3ODM1LDExLjQwMzE5ODIgMTQuMDQ4OTM2MywxMS43MDE0OTMyIDEzLjkxMjk4ODIsMTEuODcwOTg4OCBDMTMuNzc3MDQwMSwxMi4wNDA1MDQ5IDEzLjUwODI4OTcsMTIuMDQzNDE5MSAxMy4zNjkzOTgyLDExLjg3Njk0MDQgTDEwLjU3NTQ3MTUsOS4xMDYzOTg2MiBMOS4wMDYwNTI3NSwxMC43MTYxMjQ0IEM4LjQzNDk0MTk1LDExLjMwNDAzMzQgNy41NTMzMDI4NiwxMS4zMDUxNjIxIDYuOTgyNDY4LDEwLjcxNjEyNDQgTDUuNDI0NTI4NSw5LjEwNjM5ODYyIEwyLjYzMDYwMTgzLDExLjg3Njk0MDQgQzIuNDkxNzEwMzMsMTIuMDQzNDM5NyAyLjIyMjk1OTg4LDEyLjA0MDUyNTUgMi4wODcwMTE3OCwxMS44NzA5ODg4IEMxLjk1MTA2MzY3LDExLjcwMTQ5MzIgMS45NzgyMTY1LDExLjQwMzE5ODIgMi4xNDE5NDI5LDExLjI2NzY0NjkgTDQuODg0MTM5MzksOC41NDg0MTE1MiBMMi4xMzYyMDMyOCw1LjcyMDE1NDI2IEMyLjAyODcxNDE0LDUuNjE2MjI4MTYgMS45ODM1NTE0MSw1LjQzODk1NDUzIDIuMDI1OTkxNSw1LjI4NzQ5ODI1IEMyLjA2ODQxMzE5LDUuMTM2MDYyNDkgMi4xOTYwMjc4MSw1LjAxOTAyMjQ5IDIuMzM3NDIxMTksNS4wMDE4NjU2NiBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0zKSIvPjwvc3ZnPg==);
}

.inputFieldPassword {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDEyIDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0yLjQ0NTkxMDQ1LDMuNjQzMDg0MjcgQzIuNDQ1OTEwMzgsMi42NzY2MjEzNyAyLjgxODk3NTQ2LDEuNzQ5NzYzOTMgMy40ODI5OTUxOCwxLjA2NjUxMDUyIEM0LjE0NzAxNDksMC4zODMyNTcxMTEgNS4wNDc1NjY0MywtMC4wMDAzOTMwNDg2MTggNS45ODY0NDEwNSwzLjAyMTc0MDY5ZS0wNyBMNi4xMTc1MTg0NywzLjAyMTc0MDY5ZS0wNyBDOC4wNjkyOTIwNSwwLjAwMjQ1Mjc4Mzg0IDkuNjUwNzAwMTMsMS42MzA5OTI4MyA5LjY1MjI4NzQyLDMuNjQwMTE4NzkgTDkuNjUyMjg3NDIsNC42NzgwMzQ0NSBDOS4xMzk1MDEwNSw0LjcwMzI0MDk4IDguNjM2Nzk3NTYsNC43NDYyNDAzNCA4LjEzMTIxMzI1LDQuODAxMTAxNiBMOC4xMzEyMTMyNSwzLjY0MzA4NDI3IEM4LjEzMTIxMzI1LDIuNDk2NjM0MjkgNy4yMjgzNjE2LDEuNTY3MjUyOTUgNi4xMTQ2Mzc2NCwxLjU2NzI1Mjk1IEw1Ljk4MzU2MDIzLDEuNTY3MjUyOTUgQzQuODY5ODM2MjgsMS41NjcyNTI5NSAzLjk2Njk4NDYyLDIuNDk2NjM0MjkgMy45NjY5ODQ2MiwzLjY0MzA4NDI3IEwzLjk2Njk4NDYyLDMuOTYwMzg5OTEgQzMuOTY3NTc5ODgsNC4zNTY0OTE4MiAzLjY3NzAzNTY1LDQuNjg4ODc1OTUgMy4yOTQzMTI2Miw0LjcyOTkzMDI0IEwzLjI3ODQ2ODEsNC43Mjk5MzAyNCBDMy4wNjYyNDA5Miw0Ljc1MzUwMjk2IDIuODU0MjgyODcsNC42ODMxMDg3IDIuNjk1NDU2MTMsNC41MzYzMDM3NiBDMi41MzY2Mjk0LDQuMzg5NDk4ODIgMi40NDU5MDUzMyw0LjE4MDEyMTMzIDIuNDQ1OTEwNDUsMy45NjAzODk5MSBMMi40NDU5MTA0NSwzLjY0MzA4NDI3IFogTTExLjQxNjY2Niw3LjExNTY1MzUyIEwxMS40MTY2NjYsMTIuNjkwNzQzMyBDMTEuNDE3MDQwOCwxMy4wODMxMTQzIDExLjE0NTkyMDMsMTMuNDIwMTM3MSAxMC43NzEzNjE4LDEzLjQ5MjkwMzkgTDEwLjI5MDI2NDQsMTMuNTg2MzE2MyBDOC44NzYwNzU2NCwxMy44NjE1OTU5IDcuNDM5OTcxMzMsMTQuMDAwMDkzNyA2LjAwMDcyMDA1LDEzLjk5OTk5OTggQzQuNTYwOTg3NTgsMTQuMDAwMTg2MiAzLjEyNDM5Njg0LDEzLjg2MTY4OCAxLjcwOTczNTI0LDEzLjU4NjMxNjMgTDEuMjI4NjM3OTIsMTMuNDkyOTAzOSBDMC44NTQwNzk0MDcsMTMuNDIwMTM3MSAwLjU4Mjk1ODg2NywxMy4wODMxMTQzIDAuNTgzMzMzNzIyLDEyLjY5MDc0MzMgTDAuNTgzMzMzNzIyLDcuMTE1NjUzNTIgQzAuNTgyOTU4ODY3LDYuNzIzMjgyNTYgMC44NTQwNzk0MDcsNi4zODYyNTk4MSAxLjIyODYzNzkyLDYuMzEzNDkyOTkgTDEuMjk5MjE4MDYsNi4zMDAxNDgzNiBDNC40MDU5OTg0Nyw1LjY5NTEyMTY3IDcuNTk1NDQxNjIsNS42OTUxMjE2NyAxMC43MDIyMjIsNi4zMDAxNDgzNiBMMTAuNzcyODAyMiw2LjMxMzQ5Mjk5IEMxMS4xNDY3ODgsNi4zODY4ODY0NSAxMS40MTcxNzE2LDYuNzIzNzQ1MTYgMTEuNDE2NjY2LDcuMTE1NjUzNTIgWiIvPjwvc3ZnPg==);
}

.inputFieldUrl {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xMCw1IEMxMCwzLjg5NTQzMDUgOS4xMDQ1Njk1LDMgOCwzIEM2Ljg5NTQzMDUsMyA2LDMuODk1NDMwNSA2LDUgTTQsMTAgTDQsMTEgTDYsMTEgTDYsMTAgQzYsOS40NDc3MTUyNSA1LjU1MjI4NDc1LDkgNSw5IEM0LjQ0NzcxNTI1LDkgNCw5LjQ0NzcxNTI1IDQsMTAgWiBNMTIsMTAgQzEyLDkuNDQ3NzE1MjUgMTEuNTUyMjg0Nyw5IDExLDkgQzEwLjQ0NzcxNTMsOSAxMCw5LjQ0NzcxNTI1IDEwLDEwIEwxMCwxMSBMMTIsMTEgTDEyLDEwIFogTTYsNiBMNiw1IEw0LDUgTDQsNiBDNCw2LjU1MjI4NDc1IDQuNDQ3NzE1MjUsNyA1LDcgQzUuNTUyMjg0NzUsNyA2LDYuNTUyMjg0NzUgNiw2IFogTTEwLDYgQzEwLDYuNTUyMjg0NzUgMTAuNDQ3NzE1Myw3IDExLDcgQzExLjU1MjI4NDcsNyAxMiw2LjU1MjI4NDc1IDEyLDYgTDEyLDUgTDEwLDUgTDEwLDYgWiBNNCw1IEM0LDIuNzkwODYxIDUuNzkwODYxLDEgOCwxIEMxMC4yMDkxMzksMSAxMiwyLjc5MDg2MSAxMiw1IEw0LDUgWiBNNCwxMSBMMTIsMTEgQzEyLDEzLjIwOTEzOSAxMC4yMDkxMzksMTUgOCwxNSBDNS43OTA4NjEsMTUgNCwxMy4yMDkxMzkgNCwxMSBaIE0xMCwxMSBMNiwxMSBDNiwxMi4xMDQ1Njk1IDYuODk1NDMwNSwxMyA4LDEzIEM5LjEwNDU2OTUsMTMgMTAsMTIuMTA0NTY5NSAxMCwxMSBaIE04LDExIEM3LjQ0NzcxNTI1LDExIDcsMTAuNTUyMjg0NyA3LDEwIEw3LDYgQzcsNS40NDc3MTUyNSA3LjQ0NzcxNTI1LDUgOCw1IEM4LjU1MjI4NDc1LDUgOSw1LjQ0NzcxNTI1IDksNiBMOSwxMCBDOSwxMC41NTIyODQ3IDguNTUyMjg0NzUsMTEgOCwxMSBaIiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA4LjcwNyA2LjI5MykiLz48L3N2Zz4=);
}

.formLabel {
}

.hr {
  border: 0;
  border-top: 2px solid #e9ebeb;
  margin: 32px 0 -1px;
  text-align: center;
  overflow: visible;
}

.hr::before {
  content: "or";
  position: relative;
  display: inline-block;
  font-size: 12px;
  font-weight: 800;
  line-height: 1;
  text-transform: uppercase;
  background-color: #fff;
  color: rgb(14, 30, 37);
  padding: 4px;
  top: -11px;
}

.btnProvider {
  padding-left: 40px;
  padding-right: 40px;
}

.btnProvider::before {
  content: "";
  position: absolute;
  display: inline-block;
  vertical-align: middle;
  width: 32px;
  height: 40px;
  background-repeat: no-repeat;
  background-position: left center;
  top: -2px;
  left: 14px;
}

.providerGoogle {
  background-color: #4285f4;
  border-color: #366dc7;
}

.providerGoogle:hover,
.providerGoogle:focus {
  background-color: #366dc7;
}

.providerGitHub {
  background-color: #333;
  border-color: #000;
}

.providerGitHub:hover,
.providerGitHub:focus {
  background-color: #000;
}

.providerGitLab {
  background-color: #e24329;
  border-color: #b03320;
}

.providerGitLab:hover,
.providerGitLab:focus {
  background-color: #b03320;
}

.providerBitbucket {
  background-color: #205081;
  border-color: #14314f;
}

.providerBitbucket:hover,
.providerBitbucket:focus {
  background-color: #14314f;
}

.providerGoogle:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEzIDEyIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuNDg4IC0yKSI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0wLjY1MjczNDM3NSwzLjI5NTI4MjQ0IEMwLjIzNzk4NDM3NSw0LjEwNTgzMjA2IDIuODQyMTcwOTRlLTE0LDUuMDE2MDQ1OCAyLjg0MjE3MDk0ZS0xNCw1Ljk3OTM4OTMxIEMyLjg0MjE3MDk0ZS0xNCw2Ljk0MjczMjgyIDAuMjM3OTg0Mzc1LDcuODUyOTAwNzYgMC42NTI3MzQzNzUsOC42NjM0NTAzOCBDMS42NTkwNDY4NywxMC42MTY3MDIzIDMuNzI2MDkzNzUsMTEuOTU4Nzc4NiA2LjExOTUzMTI1LDExLjk1ODc3ODYgQzcuNzcxNzgxMjUsMTEuOTU4Nzc4NiA5LjE1ODg1OTM3LDExLjQyNzI1MTkgMTAuMTcyMDE1NiwxMC41MTA0NDI3IEMxMS4zMjc5MDYyLDkuNDY3MzU4NzggMTEuOTk0MjgxMiw3LjkzMjY0MTIyIDExLjk5NDI4MTIsNi4xMTIyNTk1NCBDMTEuOTk0MjgxMiw1LjYyMDYyNTk1IDExLjk1MzQ1MzEsNS4yNjE4NjI2IDExLjg2NTA5MzcsNC44ODk4MTY3OSBMNi4xMTk1MzEyNSw0Ljg4OTgxNjc5IEw2LjExOTUzMTI1LDcuMTA4ODA5MTYgTDkuNDkyMDQ2ODcsNy4xMDg4MDkxNiBDOS40MjQwNzgxMiw3LjY2MDI1OTU0IDkuMDU2OTA2MjUsOC40OTA3MzI4MiA4LjI0MDk1MzEyLDkuMDQ4Nzc4NjMgQzcuNzI0MjAzMTIsOS40MDA5MDA3NiA3LjAzMDY0MDYyLDkuNjQ2NzE3NTYgNi4xMTk1MzEyNSw5LjY0NjcxNzU2IEM0LjUwMTI2NTYyLDkuNjQ2NzE3NTYgMy4xMjc3ODEyNSw4LjYwMzY3OTM5IDIuNjM4MTcxODcsNy4xNjE5ODQ3MyBMMi42Mjg3MTIwNSw3LjE2Mjc2OTU5IEMyLjUwNTM0MTU4LDYuNzk3Mjk0NjggMi40MzQyMTg3NSw2LjM4MTEyMjg1IDIuNDM0MjE4NzUsNS45NzkzODkzMSBDMi40MzQyMTg3NSw1LjU2NzQ1MDM4IDIuNTA4OTg0MzgsNS4xNjg4Mzk2OSAyLjYzMTM3NSw0Ljc5Njc5Mzg5IEMzLjEyNzc4MTI1LDMuMzU1MDk5MjQgNC41MDEyNjU2MiwyLjMxMjAxNTI3IDYuMTE5NTMxMjUsMi4zMTIwMTUyNyBDNy4yNjg2MjUsMi4zMTIwMTUyNyA4LjA0Mzc1LDIuNzk3MDA3NjMgOC40ODU3MzQzNywzLjIwMjMwNTM0IEwxMC4yMTI3OTY5LDEuNTU0NjQxMjIgQzkuMTUyMTA5MzcsMC41OTEyOTc3MSA3Ljc3MTc4MTI1LDguODgxNzg0MmUtMTYgNi4xMTk1MzEyNSw4Ljg4MTc4NDJlLTE2IEMzLjcyNjA5Mzc1LDguODgxNzg0MmUtMTYgMS42NTkwNDY4NywxLjM0MjAzMDUzIDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgTDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiAyKSIvPiAgPC9nPjwvc3ZnPg==);
}

.providerGitHub:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjAwMDA2NjI1LDAgQzMuNTgyMzMwNzksMCAwLDMuNjcyMzE1ODUgMCw4LjIwMjUzNzczIEMwLDExLjgyNjYzMzggMi4yOTIyNjI0OCwxNC45MDEyOTUgNS40NzA5MzM1NiwxNS45ODU5MDIzIEM1Ljg3MDc1MTM5LDE2LjA2MTgzMTUgNi4wMTc1MzY3NSwxNS44MDc5NjQyIDYuMDE3NTM2NzUsMTUuNTkxMzE0NCBDNi4wMTc1MzY3NSwxNS4zOTU3MTgzIDYuMDEwMTE3OTksMTQuNzQ5NTcyMiA2LjAwNjY3MzU2LDE0LjA2NDE3MTEgQzMuNzgxMDQ3NDEsMTQuNTYwMzYwMiAzLjMxMTQxMzc5LDEzLjA5NjM3ODEgMy4zMTE0MTM3OSwxMy4wOTYzNzgxIEMyLjk0NzQ5NzQsMTIuMTQ4MjgwNiAyLjQyMzE1MDUsMTEuODk2MTc5IDIuNDIzMTUwNSwxMS44OTYxNzkgQzEuNjk3MzA0OTEsMTEuMzg3MDg2IDIuNDc3ODYzNzksMTEuMzk3NTQ0OSAyLjQ3Nzg2Mzc5LDExLjM5NzU0NDkgQzMuMjgxMjA4ODcsMTEuNDU1NDA4NyAzLjcwNDIxMDMxLDEyLjI0MjgxODcgMy43MDQyMTAzMSwxMi4yNDI4MTg3IEM0LjQxNzczNTQ3LDEzLjQ5NjgwNjcgNS41NzU3MjM0NiwxMy4xMzQyNzQ4IDYuMDMyMjQxNzgsMTIuOTI0Njg4MiBDNi4xMDQwNDQ3MiwxMi4zOTQ1NDE0IDYuMzExMzcyNDQsMTIuMDMyNjg4NyA2LjU0MDE2MTQ0LDExLjgyNzg1NjIgQzQuNzYzMjM3NDQsMTEuNjIwNDQyOCAyLjg5NTMwMTE5LDEwLjkxNzExMjEgMi44OTUzMDExOSw3Ljc3NDEyNzk5IEMyLjg5NTMwMTE5LDYuODc4NTk2ODggMy4yMDc4MTYxOCw2LjE0Njg3NzU3IDMuNzE5NTc3NzMsNS41NzI0NDk5OSBDMy42MzY1MTQxNyw1LjM2NTg1MTY2IDMuMzYyNjgyNjgsNC41MzE1ODAxNyAzLjc5NzA3NzIxLDMuNDAxNzQxMzMgQzMuNzk3MDc3MjEsMy40MDE3NDEzMyA0LjQ2ODg3MTg4LDMuMTgxMjg4MjcgNS45OTc2NjUwNyw0LjI0MjUzMjY3IEM2LjYzNTgxMDQ0LDQuMDYwNzkxMzQgNy4zMjAxOTA0NCwzLjk2OTY0OTAyIDguMDAwMDY2MjUsMy45NjY1MjQ5MiBDOC42Nzk5NDIwNiwzLjk2OTY0OTAyIDkuMzY0ODUyLDQuMDYwNzkxMzQgMTAuMDA0MTg5Niw0LjI0MjUzMjY3IEMxMS41MzExMjgxLDMuMTgxMjg4MjcgMTIuMjAxOTk1NCwzLjQwMTc0MTMzIDEyLjIwMTk5NTQsMy40MDE3NDEzMyBDMTIuNjM3NDQ5OCw0LjUzMTU4MDE3IDEyLjM2MzQ4NTgsNS4zNjU4NTE2NiAxMi4yODA0MjIzLDUuNTcyNDQ5OTkgQzEyLjc5MzM3NjEsNi4xNDY4Nzc1NyAxMy4xMDM3NzE0LDYuODc4NTk2ODggMTMuMTAzNzcxNCw3Ljc3NDEyNzk5IEMxMy4xMDM3NzE0LDEwLjkyNDU4MjggMTEuMjMyMjU4MywxMS42MTgyNjk2IDkuNDUwODMwMDYsMTEuODIxMzM2MyBDOS43Mzc3NzY4NywxMi4wNzU4ODI5IDkuOTkzNDU4ODcsMTIuNTc1MDYwMiA5Ljk5MzQ1ODg3LDEzLjM0MDMyOTggQzkuOTkzNDU4ODcsMTQuNDM3ODQxMSA5Ljk4NDE4NTUsMTUuMzIxMTQ3MyA5Ljk4NDE4NTUsMTUuNTkxMzE0NCBDOS45ODQxODU1LDE1LjgwOTU5NDIgMTAuMTI4MTg4NywxNi4wNjUzNjMxIDEwLjUzMzcwMzEsMTUuOTg0ODE1NiBDMTMuNzEwNjUyLDE0Ljg5ODk4NTggMTYsMTEuODI1NDExMyAxNiw4LjIwMjUzNzczIEMxNiwzLjY3MjMxNTg1IDEyLjQxODE5OTIsMCA4LjAwMDA2NjI1LDAgWiBNMi45OTYyODQ5NiwxMS42ODQ2ODgyIEMyLjk3ODY2NTQxLDExLjcyNTQzNzMgMi45MTYxMzU5MSwxMS43Mzc2NjIxIDIuODU5MTcwNDgsMTEuNzA5NjgxIEMyLjgwMTE0NTIyLDExLjY4MjkyMjMgMi43Njg1NTU3MSwxMS42MjczNjc2IDIuNzg3MzY3NTUsMTEuNTg2NDgyNyBDMi44MDQ1ODk2NSwxMS41NDQ1MTEgMi44NjcyNTE2MiwxMS41MzI4Mjk1IDIuOTI1MTQ0MzksMTEuNTYwOTQ2NSBDMi45ODMzMDIxNCwxMS41ODc3MDUxIDMuMDE2NDIxNTcsMTEuNjQzODAzMSAyLjk5NjI4NDk2LDExLjY4NDY4ODIgWiBNMy4zODk3OTkzMiwxMi4wNDQ3MDI0IEMzLjM1MTY0NTc0LDEyLjA4MDk2OTEgMy4yNzcwNjA3NywxMi4wNjQxMjYxIDMuMjI2NDU0MjYsMTIuMDA2ODA1NyBDMy4xNzQxMjU1NSwxMS45NDk2MjEgMy4xNjQzMjIyMSwxMS44NzMxNDg0IDMuMjAzMDA1NywxMS44MzYzMzgyIEMzLjI0MjM1MTU5LDExLjgwMDA3MTUgMy4zMTQ2ODQ0NSwxMS44MTcwNTAzIDMuMzY3MTQ1NjQsMTEuODc0MjM1IEMzLjQxOTQ3NDMyLDExLjkzMjA5ODggMy40Mjk2NzUxMiwxMi4wMDgwMjgxIDMuMzg5Nzk5MzIsMTIuMDQ0NzAyNCBaIE0zLjY1OTc2NTA4LDEyLjUwNTMyODMgQzMuNjEwNzQ4MzMsMTIuNTQwMjM2OCAzLjUzMDU5OTI5LDEyLjUwNzUwMTUgMy40ODEwNTI2MSwxMi40MzQ1NjA2IEMzLjQzMjAzNTgzLDEyLjM2MTYxOTUgMy40MzIwMzU4MywxMi4yNzQxNDQ2IDMuNDgyMTEyNDQsMTIuMjM5MTAwMyBDMy41MzE3OTE1NywxMi4yMDQwNTYgMy42MTA3NDgzMywxMi4yMzU1Njg4IDMuNjYwOTU3MzgsMTIuMzA3OTY2NSBDMy43MDk4NDE2OCwxMi4zODIxMjk5IDMuNzA5ODQxNjgsMTIuNDY5NjA0OCAzLjY1OTc2NTA4LDEyLjUwNTMyODMgWiBNNC4xMTYzMzQ5NSwxMy4wMzg3OTgxIEM0LjA3MjQ4NDgyLDEzLjA4ODM3NjQgMy45NzkwODgwMiwxMy4wNzUwNjUgMy45MTA3Mjk0OCwxMy4wMDc0MjE0IEMzLjg0MDc4MTI0LDEyLjk0MTI3MTggMy44MjEzMDcwMSwxMi44NDc0MTI5IDMuODY1Mjg5NjMsMTIuNzk3ODM0NyBDMy45MDk2Njk2NiwxMi43NDgxMjA3IDQuMDAzNTk2MzksMTIuNzYyMTExMyA0LjA3MjQ4NDgyLDEyLjgyOTIxMTYgQzQuMTQxOTAzMTYsMTIuODk1MjI1MyA0LjE2MzA5OTYsMTIuOTg5NzYzNCA0LjExNjMzNDk1LDEzLjAzODc5ODEgWiBNNC43MDY0MDcxOSwxMy4yMTg4OTE2IEM0LjY4NzA2NTQ2LDEzLjI4MzEzOTUgNC41OTcxMTMwNiwxMy4zMTIzNDMgNC41MDY0OTgyNywxMy4yODUwNDExIEM0LjQxNjAxNTk3LDEzLjI1NjkyNDIgNC4zNTY3OTg0MiwxMy4xODE2NzQxIDQuMzc1MDgwMzYsMTMuMTE2NzQ3IEM0LjM5Mzg5MjE5LDEzLjA1MjA5MTcgNC40ODQyNDIwMSwxMy4wMjE2NjU2IDQuNTc1NTE5MTgsMTMuMDUwODY5MiBDNC42NjU4NjkwMSwxMy4wNzg4NTAzIDQuNzI1MjE5MDUsMTMuMTUzNTU3MSA0LjcwNjQwNzE5LDEzLjIxODg5MTYgWiBNNS4zNzc5MzQxOSwxMy4yOTUyODI1IEM1LjM4MDE4NjI5LDEzLjM2MjkyNjEgNS4zMDMzNDkxOSwxMy40MTkwMjQxIDUuMjA4MjMwMTgsMTMuNDIwMjQ2NyBDNS4xMTI1ODEyNSwxMy40MjI0MiA1LjAzNTIxNDI1LDEzLjM2NzY4MDMgNS4wMzQxNTQ0MiwxMy4zMDExMjMyIEM1LjAzNDE1NDQyLDEzLjIzMjgwMDUgNS4xMDkyNjkzLDEzLjE3NzI0NTggNS4yMDQ5MTgyMywxMy4xNzU2MTU4IEM1LjMwMDAzNzI2LDEzLjE3MzcxNDIgNS4zNzc5MzQxOSwxMy4yMjgwNDY0IDUuMzc3OTM0MTksMTMuMjk1MjgyNSBaIE02LjAzNzYzNDE5LDEzLjI2OTM1NDggQzYuMDQ5MDI3MjksMTMuMzM1MzY4NSA1Ljk4MjkyMDg4LDEzLjQwMzE0NzkgNS44ODg0NjQyNSwxMy40MjEyMTM0IEM1Ljc5NTU5NzM2LDEzLjQzODU5OTcgNS43MDk2MTkyOSwxMy4zOTc4NTA1IDUuNjk3ODI4NzcsMTMuMzMyMzgwMiBDNS42ODYzMDMyMiwxMy4yNjQ3MzY1IDUuNzUzNjAxOTEsMTMuMTk2OTU3MSA1Ljg0NjMzNjMzLDEzLjE3OTQzNSBDNS45NDA5MjU0NCwxMy4xNjI1OTIgNi4wMjU1Nzg3MiwxMy4yMDIyNTQ1IDYuMDM3NjM0MTksMTMuMjY5MzU0OCBaIi8+ICA8L2c+PC9zdmc+);
}

.providerGitLab:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDE0IDEzIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTIpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBMNC40MjgwOTMzMyw0Ljk5NzI4MjU0IEw5LjU4MDA5MzM2LDQuOTk3MjgyNTQgTDcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBaIE03LjAwNDA5MzM2LDEyLjk0OTIzIEwwLjgxNzg5MzMzMyw0Ljk5NzI2OTE3IEw0LjQyODA5MzMzLDQuOTk3MjY5MTcgTDcuMDA0MDkzMzYsMTIuOTQ5MjMgWiBNMC44MTc4OTk5OTksNC45OTcyODkyMyBMNy4wMDQwOTk5OCwxMi45NDkyNSBMMC4yMjg4MzMzMzMsOC4wMTE4ODA4IEMwLjA0MTksNy44NzU2NzE1MiAtMC4wMzYzLDcuNjM0MjEyNyAwLjAzNTEsNy40MTM4MTcxMiBMMC44MTc4OTk5OTksNC45OTcyODkyMyBaIE0wLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIEwyLjM2OTM2NjY3LDAuMjA3OTA0NzE0IEMyLjQ0OTE2NjY3LC0wLjAzODUwMjM1ODggMi43OTY3NjY2NywtMC4wMzg1NjkyMjY1IDIuODc2NTY2NjcsMC4yMDc5MDQ3MTQgTDQuNDI4MSw0Ljk5NzI5NTkxIEwwLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIFogTTcuMDA0MDkzMzYsMTIuOTQ5MjMgTDkuNTgwMDkzMzYsNC45OTcyNjkxNyBMMTMuMTkwMjkzMyw0Ljk5NzI2OTE3IEw3LjAwNDA5MzM2LDEyLjk0OTIzIFogTTEzLjE5MDI5MzMsNC45OTcyODkyMyBMMTMuOTczMDkzMyw3LjQxMzgxNzEyIEMxNC4wNDQ0OTMzLDcuNjM0MjEyNyAxMy45NjYyOTM0LDcuODc1NjcxNTIgMTMuNzc5MzYsOC4wMTE4ODA4IEw3LjAwNDA5MzM2LDEyLjk0OTI1IEwxMy4xOTAyOTMzLDQuOTk3Mjg5MjMgWiBNMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIEw5LjU4MDA5MzM2LDQuOTk3Mjk1OTEgTDExLjEzMTYyNjcsMC4yMDc5MDQ3MTQgQzExLjIxMTQyNjcsLTAuMDM4NTY5MjI2NSAxMS41NTkwMjY3LC0wLjAzODUwMjM1ODggMTEuNjM4ODI2NywwLjIwNzkwNDcxNCBMMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMikiLz4gIDwvZz48L3N2Zz4=);
}

.providerBitbucket:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE0IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSkiPiAgICAgIDxwYXRoIGQ9Ik03LDIuNDk4OTQxODdlLTA3IEw3LDIuNDk4OTQxODdlLTA3IEMzLjE1NzIxMjI5LDIuNDk4OTQxODdlLTA3IDAuMDAwNjM2NTM1NDM1LDEuMDIwODQ0MjQgMC4wMDA2MzY1MzU0MzUsMi4zMTM5MTM1OSBDMC4wMDA2MzY1MzU0MzUsMi42NTQxOTUxMyAwLjgyNDA5MTAyMyw3LjQ4NjE5MiAxLjE2NzE5NzE3LDkuMzkxNzY3NTkgQzEuMzA0NDM5MzcsMTAuMjc2NDk5OSAzLjU2ODkzOTUzLDExLjUwMTUxMyA3LDExLjUwMTUxMyBMNywxMS41MDE1MTMgQzEwLjQzMTA2MDIsMTEuNTAxNTEzIDEyLjYyNjkzODYsMTAuMjc2NDk5OSAxMi44MzI4MDMyLDkuMzkxNzY3NTkgQzEzLjE3NTkwODYsNy40ODYxOTIgMTMuOTk5MzYzMiwyLjY1NDE5NTEzIDEzLjk5OTM2MzIsMi4zMTM5MTM1OSBDMTMuOTMwNzQyMSwxLjAyMDg0NDI0IDEwLjg0Mjc4NzQsMi40OTg5NDE4N2UtMDcgNywyLjQ5ODk0MTg3ZS0wNyBMNywyLjQ5ODk0MTg3ZS0wNyBaIE03LDkuOTM2MjE4MzEgQzUuNzY0ODE4MjgsOS45MzYyMTgzMSA0LjgwNDEyMTI2LDguOTgzNDI5ODYgNC44MDQxMjEyNiw3Ljc1ODQxNjcxIEM0LjgwNDEyMTI2LDYuNTMzNDAzNTUgNS43NjQ4MTgyOCw1LjU4MDYxNTk3IDcsNS41ODA2MTU5NyBDOC4yMzUxODExMiw1LjU4MDYxNTk3IDkuMTk1ODc4NCw2LjUzMzQwMzU1IDkuMTk1ODc4NCw3Ljc1ODQxNjcxIEM5LjE5NTg3ODQsOC45MTUzNzM3MiA4LjIzNTE4MTEyLDkuOTM2MjE4MzEgNyw5LjkzNjIxODMxIEw3LDkuOTM2MjE4MzEgWiBNNywyLjk5NDQ3NjY3IEM0LjUyOTYzNjIyLDIuOTk0NDc2NjcgMi41Mzk2MjExLDIuNTg2MTM4OTUgMi41Mzk2MjExLDIuMDQxNjg4ODYgQzIuNTM5NjIxMSwxLjQ5NzIzODE1IDQuNTI5NjM2MjIsMS4wODg5MDA0MyA3LDEuMDg4OTAwNDMgQzkuNDcwMzYyODQsMS4wODg5MDA0MyAxMS40NjAzNzg2LDEuNDk3MjM4MTUgMTEuNDYwMzc4NiwyLjA0MTY4ODg2IEMxMS40NjAzNzg2LDIuNTg2MTM4OTUgOS40NzAzNjI4NCwyLjk5NDQ3NjY3IDcsMi45OTQ0NzY2NyBMNywyLjk5NDQ3NjY3IFoiLz4gICAgICA8cGF0aCBkPSJNMTIuMDY0NTA5NiwxMS4yMjkyODc2IEMxMS45MjcyNjY3LDExLjIyOTI4NzYgMTEuODU4NjQ1NywxMS4yOTczNDM4IDExLjg1ODY0NTcsMTEuMjk3MzQzOCBDMTEuODU4NjQ1NywxMS4yOTczNDM4IDEwLjE0MzExNTYsMTIuNjU4NDcgNy4wNTUxNjA5MywxMi42NTg0NyBDMy45NjcyMDY4NywxMi42NTg0NyAyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4yNTE2NzYxNiwxMS4yOTczNDM4IEMyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4xMTQ0MzM5NSwxMS4yMjkyODc2IDIuMDQ1ODEyODUsMTEuMjI5Mjg3NiBDMS45MDg1NzAwMiwxMS4yMjkyODc2IDEuNzcxMzI3ODEsMTEuMjk3MzQzOCAxLjc3MTMyNzgxLDExLjUwMTUxMyBMMS43NzEzMjc4MSwxMS41Njk1NjkyIEMyLjA0NTgxMjg1LDEyLjk5ODc1MTYgMi4yNTE2NzYxNiwxNC4wMTk1OTU2IDIuMjUxNjc2MTYsMTQuMTU1NzA3OSBDMi40NTc1NDAwOSwxNS4xNzY1NTI1IDQuNTE2MTc2MzIsMTUuOTkzMjI4IDYuOTg2NTM5ODIsMTUuOTkzMjI4IEw2Ljk4NjUzOTgyLDE1Ljk5MzIyOCBDOS40NTY5MDMzMSwxNS45OTMyMjggMTEuNTE1NTM5NSwxNS4xNzY1NTI1IDExLjcyMTQwMzUsMTQuMTU1NzA3OSBDMTEuNzIxNDAzNSwxNC4wMTk1OTU2IDExLjkyNzI2NjcsMTIuOTk4NzUxNiAxMi4yMDE3NTE4LDExLjU2OTU2OTIgTDEyLjIwMTc1MTgsMTEuNTAxNTEzIEMxMi4yNzAzNzI5LDExLjM2NTQgMTIuMjAxNzUxOCwxMS4yMjkyODc2IDEyLjA2NDUwOTYsMTEuMjI5Mjg3NiBMMTIuMDY0NTA5NiwxMS4yMjkyODc2IFoiLz4gICAgICA8ZWxsaXBzZSBjeD0iNyIgY3k9IjcuNjkiIHJ4PSIxLjA5OCIgcnk9IjEuMDg5Ii8+ICAgIDwvZz4gIDwvZz48L3N2Zz4=);
}

.callOut {
  display: block;
  padding: 32px;
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  color: #a3a9ac;
  text-align: center;
}

.callOut:after {
  content: " \u2665";
  -webkit-transition: color 4s ease;
  transition: color 4s ease;
}

.callOut:hover:after {
  color: red;
}

.callOut .netlifyLogo {
  display: block;
  margin: auto;
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4gIDxkZWZzPiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN5PSIwJSIgcj0iMTAwJSIgZng9IjUwJSIgZnk9IjAlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAgMSAtMS4xNTE4NSAwIC41IC0uNSkiPiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMyMEM2QjciIG9mZnNldD0iMCUiLz4gICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEQ5QUJGIiBvZmZzZXQ9IjEwMCUiLz4gICAgPC9yYWRpYWxHcmFkaWVudD4gIDwvZGVmcz4gIDxwYXRoIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIyLjk4MDYyMywxMS42MjYyMzc3IEMyMi44NzE3MTA3LDExLjUwNTEzMDYgMjIuNzM1NTcwNCwxMS4zOTc0Nzk4IDIyLjU3MjIwMjEsMTEuMzE2NzQxOCBDMjIuNTU4NTg4MSwxMS4zMTY3NDE4IDIyLjU0NDk3NCwxMS4yODk4MjkxIDIyLjUzMTM2LDExLjI3NjM3MjcgTDIzLjE3MTIxOTQsNy4zNjA1NzY2MSBDMjMuMTcxMjE5NCw3LjMzMzY2MzkyIDIzLjE4NDgzMzQsNy4zMjAyMDc1OCAyMy4xOTg0NDc1LDcuMzIwMjA3NTggTDIzLjIxMjA2MTUsNy4zMjAyMDc1OCBDMjMuMjEyMDYxNSw3LjMyMDIwNzU4IDIzLjIyNTY3NTUsNy4zMjAyMDc1OCAyMy4yMzkyODk2LDcuMzMzNjYzOTIgTDI2LjE2NjMwNiwxMC4yMjY3Nzc5IEMyNi4xNzk5MiwxMC4yNDAyMzQzIDI2LjE3OTkyLDEwLjI1MzY5MDYgMjYuMTc5OTIsMTAuMjY3MTQ2OSBDMjYuMTc5OTIsMTAuMjgwNjAzMyAyNi4xNjYzMDYsMTAuMjk0MDU5NiAyNi4xNTI2OTE5LDEwLjMwNzUxNiBMMjMuMDIxNDY1MSwxMS42Mzk2OTQgTDIzLjAwNzg1MSwxMS42Mzk2OTQgQzIyLjk5NDIzNywxMS42Mzk2OTQgMjIuOTk0MjM3LDExLjYzOTY5NCAyMi45ODA2MjMsMTEuNjI2MjM3NyBaIE0xNi4zNTA1NzM2LDkuNDU5NzM4MSBDMTYuMzIzMzQ1Myw5LjE5MDYxMjc0IDE2LjIyODA0NjMsOC45MjE0ODczOCAxNi4wNzgyOTA2LDguNjkyNzMwODMgQzE2LjA2NDY3NjUsOC42NzkyNzQ1NiAxNi4wNjQ2NzY1LDguNjUyMzYyMDIgMTYuMDc4MjkwNiw4LjYyNTQ0OTQ5IEwxOS4zNTkzMDEsMy41Mzg5ODAyMiBDMTkuMzU5MzAxLDMuNTI1NTIzOTUgMTkuMzcyOTE1MSwzLjUxMjA2NzY4IDE5LjM4NjUyOTMsMy41MTIwNjc2OCBDMTkuNDAwMTQzNCwzLjUxMjA2NzY4IDE5LjQwMDE0MzQsMy41MTIwNjc2OCAxOS40MTM3NTc2LDMuNTI1NTIzOTUgTDIyLjMyNzE4NTgsNi40MTg2MjE1NSBDMjIuMzQwOCw2LjQzMjA3NzgyIDIyLjM0MDgsNi40NDU1MzQwOSAyMi4zNDA4LDYuNDU4OTkwMzUgTDIxLjU3ODQwNzYsMTEuMTgyMTQwNCBDMjEuNTc4NDA3NiwxMS4yMDkwNTI5IDIxLjU2NDc5MzQsMTEuMjIyNTA5MiAyMS41NTExNzkzLDExLjIyMjUwOTIgQzIxLjM3NDE5NTMsMTEuMjc2MzM0MyAyMS4yMTA4MjU1LDExLjM1NzA3MTkgMjEuMDc0Njg0LDExLjQ2NDcyMiBDMjEuMDc0Njg0LDExLjQ3ODE3ODMgMjEuMDYxMDY5OCwxMS40NzgxNzgzIDIxLjAzMzg0MTUsMTEuNDc4MTc4MyBMMTYuMzc3ODAxOSw5LjUwMDEwNjkgQzE2LjM2NDE4NzgsOS40ODY2NTA2MyAxNi4zNTA1NzM2LDkuNDczMTk0MzcgMTYuMzUwNTczNiw5LjQ1OTczODEgWiBNMjYuOTgzMTkwNywxMS4wMjA3NjY5IEwzMS45Nzk1Nzg4LDE1Ljk3MjY2NCBDMzIuMDA2ODA3MSwxNS45ODYxMjAyIDMyLjAwNjgwNzEsMTYuMDI2NDg4OSAzMS45Nzk1Nzg4LDE2LjAyNjQ4ODkgTDMxLjk1MjM1MDUsMTYuMDUzNDAxNCBDMzEuOTUyMzUwNSwxNi4wNjY4NTc3IDMxLjkzODczNjQsMTYuMDY2ODU3NyAzMS45MTE1MDgxLDE2LjA2Njg1NzcgTDIzLjU1MjQyODMsMTIuNTI3ODY2IEMyMy41Mzg4MTQxLDEyLjUyNzg2NiAyMy41MjUyLDEyLjUwMDk1MzUgMjMuNTI1MiwxMi40ODc0OTczIEMyMy41MjUyLDEyLjQ3NDA0MSAyMy41Mzg4MTQxLDEyLjQ2MDU4NDggMjMuNTUyNDI4MywxMi40NDcxMjg2IEwyNi45NTU5NjI0LDExLjAwNzMxMDcgQzI2Ljk1NTk2MjQsMTEuMDA3MzEwNyAyNi45Njk1NzY1LDExLjAwNzMxMDcgMjYuOTgzMTkwNywxMS4wMjA3NjY5IFogTTIzLjEzMDQzNjMsMTMuMzg5MDg4MSBMMzEuMTQ5MTg1OCwxNi43ODAwNzYxIEMzMS4xNjI4LDE2Ljc5MzUzMjQgMzEuMTYyOCwxNi44MDY5ODg3IDMxLjE2MjgsMTYuODIwNDQ1IEMzMS4xNjI4LDE2LjgzMzkwMTMgMzEuMTYyOCwxNi44NDczNTc2IDMxLjE0OTE4NTgsMTYuODYwODEzOSBMMjYuNzEwOTY0NSwyMS4yNjEwMjQ1IEMyNi43MTA5NjQ1LDIxLjI3NDQ4MDggMjYuNjk3MzUwMywyMS4yNzQ0ODA4IDI2LjY3MDEyMiwyMS4yNzQ0ODA4IEwyMS44MjM0NzU0LDIwLjI2NTI1ODIgQzIxLjc5NjI0NywyMC4yNjUyNTgyIDIxLjc4MjYzMjksMjAuMjUxODAxOSAyMS43ODI2MzI5LDIwLjIyNDg4OTMgQzIxLjc0MTc5MDMsMTkuODQ4MTEyOCAyMS41NjQ4MDYsMTkuNTExNzA1MyAyMS4yNjUyOTQyLDE5LjI4Mjk0ODEgQzIxLjI1MTY4LDE5LjI2OTQ5MTggMjEuMjUxNjgsMTkuMjU2MDM1NSAyMS4yNTE2OCwxOS4yNDI1NzkyIEwyMi4xMDkzNzMxLDEzLjk4MTE2NTMgQzIyLjEwOTM3MzEsMTMuOTU0MjUyNyAyMi4xMzY2MDE0LDEzLjk0MDc5NjQgMjIuMTUwMjE1NiwxMy45NDA3OTY0IEMyMi41MzE0MTI1LDEzLjg4Njk3MTIgMjIuODU4MTUyNywxMy42OTg1ODMgMjMuMDc1OTc5NiwxMy40MDI1NDQ0IEMyMy4wODk1OTM3LDEzLjM4OTA4ODEgMjMuMTAzMjA3OSwxMy4zODkwODgxIDIzLjEzMDQzNjMsMTMuMzg5MDg4MSBaIE0xNi4xNDYzNzksMTAuNDI4Njg1OSBMMjAuNTMwMTMxNywxMi4yODU2NTMyIEMyMC41NDM3NDU5LDEyLjI5OTEwOTUgMjAuNTU3MzYsMTIuMzEyNTY1OCAyMC41NTczNiwxMi4zMzk0NzgzIEMyMC41NDM3NDU5LDEyLjQwNjc1OTggMjAuNTMwMTMxNywxMi40ODc0OTc1IDIwLjUzMDEzMTcsMTIuNTY4MjM1MiBMMjAuNTMwMTMxNywxMi42MzU1MTY2IEwyMC41MzAxMzE3LDEyLjY4OTM0MTcgQzIwLjUzMDEzMTcsMTIuNzAyNzk4IDIwLjUxNjUxNzYsMTIuNzE2MjU0MyAyMC41MDI5MDM0LDEyLjcyOTcxMDYgQzIwLjUwMjkwMzQsMTIuNzI5NzEwNiAxMC44Nzc3MDcyLDE2LjgzMzg3NzUgMTAuODY0MDkzLDE2LjgzMzg3NzUgQzEwLjg1MDQ3ODksMTYuODMzODc3NSAxMC44MzY4NjQ3LDE2LjgzMzg3NzUgMTAuODIzMjUwNiwxNi44MjA0MjEyIEMxMC44MDk2MzY1LDE2LjgwNjk2NDkgMTAuODA5NjM2NSwxNi43ODAwNTI0IDEwLjgyMzI1MDYsMTYuNzY2NTk2MSBMMTQuNDMwOTk3NCwxMS4xODIyMzc4IEMxNC40NDQ2MTE2LDExLjE2ODc4MTUgMTQuNDU4MjI1NywxMS4xNTUzMjUzIDE0LjQ4NTQ1NCwxMS4xNTUzMjUzIEMxNC41ODA3NTMsMTEuMTY4NzgxNSAxNC42NjI0Mzc4LDExLjE4MjIzNzggMTQuNzQ0MTIyNiwxMS4xODIyMzc4IEMxNS4yODg2ODgyLDExLjE4MjIzNzggMTUuNzkyNDExMywxMC45MTMxMTIxIDE2LjA5MTkyMjQsMTAuNDU1NTk4NCBDMTYuMTA1NTM2NSwxMC40NDIxNDIyIDE2LjExOTE1MDcsMTAuNDI4Njg1OSAxNi4xNDYzNzksMTAuNDI4Njg1OSBaIE0yMS41NTExNDI5LDIxLjE4MDI0MzMgTDI1LjgxMjM3MTcsMjIuMDU0OTA1MyBDMjUuODI1OTg1OSwyMi4wNTQ5MDUzIDI1LjgzOTYsMjIuMDY4MzYxNiAyNS44Mzk2LDIyLjEwODczMDcgQzI1LjgzOTYsMjIuMTIyMTg3IDI1LjgzOTYsMjIuMTM1NjQzMyAyNS44MjU5ODU5LDIyLjE0OTA5OTcgTDE5LjkxNzQ0NDksMjguMDAyNjA3MiBDMTkuOTE3NDQ0OSwyOC4wMTYwNjM2IDE5LjkwMzgzMDcsMjguMDE2MDYzNiAxOS44OTAyMTY2LDI4LjAxNjA2MzYgTDE5Ljg2Mjk4ODMsMjguMDE2MDYzNiBDMTkuODQ5Mzc0MSwyOC4wMDI2MDcyIDE5LjgzNTc2LDI3Ljk4OTE1MDkgMTkuODM1NzYsMjcuOTYyMjM4MiBMMjAuODU2ODIxMiwyMS42OTE1ODQxIEMyMC44NTY4MjEyLDIxLjY3ODEyNzggMjAuODcwNDM1NCwyMS42NTEyMTUxIDIwLjg4NDA0OTUsMjEuNjUxMjE1MSBDMjEuMTI5MTA0MiwyMS41NTcwMjA4IDIxLjMzMzMxNjUsMjEuMzk1NTQ0NyAyMS40OTY2ODYzLDIxLjE5MzY5OTYgQzIxLjUxMDMwMDQsMjEuMTkzNjk5NiAyMS41MjM5MTQ2LDIxLjE4MDI0MzMgMjEuNTUxMTQyOSwyMS4xODAyNDMzIFogTTE5LjA0NjE2NzksMjAuNjgyNDAzIEMxOS4xNTUwODE0LDIxLjA5OTU0ODcgMTkuNDU0NTkzMywyMS40NjI4NjkyIDE5Ljg2MzAxODcsMjEuNjI0MzQ0OSBDMTkuODkwMjQ3MSwyMS42Mzc4MDEyIDE5Ljg5MDI0NzEsMjEuNjY0NzEzOSAxOS44NjMwMTg3LDIxLjY2NDcxMzkgQzE5Ljg2MzAxODcsMjEuNjY0NzEzOSAxOC42MjQxMjgzLDI5LjIxMzcwNTQgMTguNjI0MTI4MywyOS4yMjcxNjE3IEwxOC4xODg0NzQ2LDI5LjY1Nzc2MzcgQzE4LjE4ODQ3NDYsMjkuNjcxMjIwMSAxOC4xNzQ4NjA0LDI5LjY3MTIyMDEgMTguMTYxMjQ2MiwyOS42NzEyMjAxIEMxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xMzQwMTc4LDI5LjY1Nzc2MzcgTDEwLjk0NTczMDYsMTkuMjY5NDkwMSBDMTAuOTMyMTE2NSwxOS4yNTYwMzM4IDEwLjkzMjExNjUsMTkuMjI5MTIxMiAxMC45NDU3MzA2LDE5LjIxNTY2NDkgQzEwLjk4NjU3MzIsMTkuMTYxODM5NiAxMS4wMTM4MDE1LDE5LjEwODAxNDQgMTEuMDU0NjQ0MSwxOS4wNDA3MzI4IEMxMS4wNjgyNTgzLDE5LjAyNzI3NjUgMTEuMDgxODcyNCwxOS4wMTM4MjAyIDExLjEwOTEwMDgsMTkuMDEzODIwMiBMMTkuMDA1MzI1NCwyMC42NDIwMzQxIEMxOS4wMzI1NTM3LDIwLjY1NTQ5MDQgMTkuMDQ2MTY3OSwyMC42Njg5NDY3IDE5LjA0NjE2NzksMjAuNjgyNDAzIFogTTExLjMxMzM2NDcsMTguMDk4NzI4NiBDMTEuMjg2MTM2NSwxOC4wOTg3Mjg2IDExLjI3MjUyMjQsMTguMDg1MjcyNCAxMS4yNzI1MjI0LDE4LjA1ODM1OTggQzExLjI3MjUyMjQsMTcuOTUwNzA5NiAxMS4yNDUyOTQxLDE3Ljg1NjUxNTcgMTEuMjMxNjgsMTcuNzQ4ODY1NCBDMTEuMjMxNjgsMTcuNzIxOTUyOSAxMS4yMzE2OCwxNy43MDg0OTY2IDExLjI1ODkwODIsMTcuNjk1MDQwMyBDMTEuMjU4OTA4MiwxNy42OTUwNDAzIDIwLjkzODU0NTksMTMuNTYzOTYzNSAyMC45NTIxNiwxMy41NjM5NjM1IEMyMC45NTIxNiwxMy41NjM5NjM1IDIwLjk2NTc3NDEsMTMuNTYzOTYzNSAyMC45NzkzODgyLDEzLjU3NzQxOTcgQzIxLjA0NzQ1ODgsMTMuNjQ0NzAxMSAyMS4xMDE5MTUzLDEzLjY4NTA2OTkgMjEuMTU2MzcxOCwxMy43MjU0Mzg4IEMyMS4xODM2LDEzLjcyNTQzODggMjEuMTgzNiwxMy43NTIzNTEzIDIxLjE4MzYsMTMuNzY1ODA3NiBMMjAuMzM5NTI0NywxOC45NDY0NzQxIEMyMC4zMzk1MjQ3LDE4Ljk3MzM4NjYgMjAuMzI1OTEwNiwxOC45ODY4NDI5IDIwLjI5ODY4MjQsMTguOTg2ODQyOSBDMTkuODM1ODAyNCwxOS4wMTM3NTU0IDE5LjQyNzM3ODgsMTkuMjgyODgxIDE5LjE5NTkzODgsMTkuNjg2NTY5MyBDMTkuMTgyMzI0NywxOS43MDAwMjU1IDE5LjE2ODcxMDYsMTkuNzEzNDgxOCAxOS4xNDE0ODI0LDE5LjcxMzQ4MTggTDExLjMxMzM2NDcsMTguMDk4NzI4NiBaIE03Ljg2ODk3NzU4LDE5LjE4ODcyOTEgQzcuOTA5ODIwMywxOS4yNTYwMTExIDcuOTUwNjYzMDMsMTkuMzA5ODM2NyA3Ljk5MTUwNTc2LDE5LjM2MzY2MjMgQzguMDA1MTIsMTkuMzc3MTE4NyA4LjAwNTEyLDE5LjM5MDU3NTEgOC4wMDUxMiwxOS4zOTA1NzUxIEw2LjEzOTk2ODc5LDIyLjI4MzcwMDcgQzYuMTI2MzU0NTUsMjIuMjk3MTU3MSA2LjExMjc0MDMsMjIuMzEwNjEzNSA2LjA5OTEyNjA2LDIyLjMxMDYxMzUgQzYuMDk5MTI2MDYsMjIuMzEwNjEzNSA2LjA4NTUxMTgyLDIyLjMxMDYxMzUgNi4wNzE4OTc1OCwyMi4yOTcxNTcxIEw0LjQyNDU3NDI0LDIwLjY2ODkzMjkgQzQuNDEwOTYsMjAuNjU1NDc2NSA0LjQxMDk2LDIwLjY0MjAyMDEgNC40MTA5NiwyMC42Mjg1NjM3IEM0LjQxMDk2LDIwLjYxNTEwNzMgNC40MjQ1NzQyNCwyMC42MDE2NTA5IDQuNDM4MTg4NDgsMjAuNjAxNjUwOSBMNy44MTQ1MjA2MSwxOS4xNjE4MTYzIEw3LjgyODEzNDg1LDE5LjE2MTgxNjMgQzcuODQxNzQ5MDksMTkuMTYxODE2MyA3Ljg1NTM2MzMzLDE5LjE3NTI3MjcgNy44Njg5Nzc1OCwxOS4xODg3MjkxIFogTTEwLjE4MzMxOTEsMTkuODYxNTU3OSBDMTAuMTk2OTMzMiwxOS44NjE1NTc5IDEwLjIxMDU0NzMsMTkuODc1MDE0MiAxMC4yMjQxNjE0LDE5Ljg4ODQ3MDYgTDE3LjQzOTYyOTQsMzAuMzU3NDg3OCBDMTcuNDUzMjQzNSwzMC4zNzA5NDQxIDE3LjQ1MzI0MzUsMzAuMzk3ODU2NyAxNy40Mzk2Mjk0LDMwLjQxMTMxMzEgTDE1Ljg2MDM5NDksMzEuOTg1NzAyNSBDMTUuODYwMzk0OSwzMS45OTkxNTg5IDE1Ljg0Njc4MDgsMzEuOTk5MTU4OSAxNS44MDU5Mzg2LDMxLjk4NTcwMjUgTDYuNzkzNDEwNTcsMjMuMDY0MTYyMiBDNi43Nzk3OTY0OCwyMy4wNTA3MDU4IDYuNzc5Nzk2NDgsMjMuMDIzNzkzMiA2LjgwNzAyNDY2LDIyLjk5Njg4MDYgTDguNzY3NDUzNzEsMTkuOTU1NzUyMiBDOC43ODEwNjc4LDE5Ljk0MjI5NTggOC43OTQ2ODE4OSwxOS45Mjg4Mzk1IDguODIxOTEwMDcsMTkuOTI4ODM5NSBDOS4wMjYxMjE0MywxOS45OTYxMjExIDkuMjE2NzE4NywyMC4wMjMwMzM4IDkuNDIwOTMwMDYsMjAuMDIzMDMzOCBDOS42Nzk1OTc3OCwyMC4wMjMwMzM4IDkuOTI0NjUxNDEsMTkuOTY5MjA4NSAxMC4xODMzMTkxLDE5Ljg2MTU1NzkgWiBNOC45OTg5MTg1NiwxNi40MDMyMzIyIEM4Ljk4NTMwNDM5LDE2LjQwMzIzMjIgOC45NzE2OTAyMiwxNi4zODk3NzU5IDguOTU4MDc2MDQsMTYuMzc2MzE5NiBMNS4wOTE2NTA2MywxMC43MzgxMzg4IEM1LjA3ODAzNjQ2LDEwLjcyNDY4MjUgNS4wNzgwMzY0NiwxMC42OTc3NyA1LjA5MTY1MDYzLDEwLjY4NDMxMzcgTDguNTYzMjY1LDcuMjM5NTA2MzMgQzguNTYzMjY1LDcuMjI2MDUwMDYgOC41NzY4NzkxNyw3LjIyNjA1MDA2IDguNjA0MTA3NTIsNy4yMjYwNTAwNiBDOC42MDQxMDc1Miw3LjIzOTUwNjMzIDEyLjcwMTk3MzksOC45NjE5MTAwMiAxMy4xNjQ4NTU4LDkuMTYzNzU0MiBDMTMuMTc4NDcsOS4xNzcyMTA0OCAxMy4xOTIwODQyLDkuMTkwNjY2NzYgMTMuMTkyMDg0Miw5LjIxNzU3OTMyIEMxMy4xNjQ4NTU4LDkuMzM4Njg1ODMgMTMuMTUxMjQxNiw5LjQ1OTc5MjM0IDEzLjE1MTI0MTYsOS41ODA4OTg4NCBDMTMuMTUxMjQxNiw5Ljk5ODA0MzQ5IDEzLjMxNDYxMTcsMTAuMzg4Mjc1NiAxMy42MDA1MDk0LDEwLjY4NDMxMzcgQzEzLjYxNDEyMzUsMTAuNjk3NzcgMTMuNjE0MTIzNSwxMC43MjQ2ODI1IDEzLjYwMDUwOTQsMTAuNzM4MTM4OCBMOS45NTE5MTA3NCwxNi4zODk3NzU5IEM5LjkzODI5NjU3LDE2LjQwMzIzMjIgOS45MjQ2ODIzOSwxNi40MTY2ODg1IDkuODk3NDU0MDUsMTYuNDE2Njg4NSBDOS43NDc2OTgxMywxNi4zNzYzMTk2IDkuNTg0MzI4MDQsMTYuMzQ5NDA3MSA5LjQzNDU3MjEzLDE2LjM0OTQwNzEgQzkuMjk4NDMwMzksMTYuMzQ5NDA3MSA5LjE0ODY3NDQ4LDE2LjM3NjMxOTYgOC45OTg5MTg1NiwxNi40MDMyMzIyIFogTTEzLjY2ODYwMTksOC4zNTY0MjAzNCBDMTMuNDkxNjE4Niw4LjI3NTY4MTk4IDkuMzUyOTMzMjQsNi41MjYzNTA4MyA5LjM1MjkzMzI0LDYuNTI2MzUwODMgQzkuMzM5MzE5MTQsNi41MTI4OTQ0NCA5LjMyNTcwNTA1LDYuNTEyODk0NDQgOS4zMzkzMTkxNCw2LjQ4NTk4MTY1IEM5LjMzOTMxOTE0LDYuNDcyNTI1MjYgOS4zMzkzMTkxNCw2LjQ1OTA2ODg2IDkuMzUyOTMzMjQsNi40NDU2MTI0NyBMMTUuODMzMjQzMiwwLjAxMzQ1NjM5MzUgQzE1LjgzMzI0MzIsMCAxNS44NDY4NTczLDAgMTUuODYwNDcxNCwwIEMxNS44NzQwODU1LDAgMTUuODc0MDg1NSwwIDE1Ljg4NzY5OTYsMC4wMTM0NTYzOTM1IEwxOC42Nzg1ODk0LDIuNzcyMDE3MDUgQzE4LjY5MjIwMzUsMi43ODU0NzM0NSAxOC42OTIyMDM1LDIuODEyMzg2MjMgMTguNjc4NTg5NCwyLjgyNTg0MjYzIEwxNS4zMTU5MDc2LDguMDMzNDY2OSBDMTUuMzAyMjkzNSw4LjA0NjkyMzI5IDE1LjI4ODY3OTQsOC4wNjAzNzk2OSAxNS4yNjE0NTEyLDguMDYwMzc5NjkgQzE1LjA4NDQ2NzksOC4wMDY1NTQxMSAxNC45MDc0ODQ3LDcuOTc5NjQxMzMgMTQuNzMwNTAxNCw3Ljk3OTY0MTMzIEMxNC4zNjI5MjA4LDcuOTc5NjQxMzMgMTMuOTk1MzQwMiw4LjExNDIwNTI2IDEzLjcwOTQ0NDIsOC4zNDI5NjM5NSBDMTMuNjk1ODMwMSw4LjM1NjQyMDM0IDEzLjY5NTgzMDEsOC4zNTY0MjAzNCAxMy42Njg2MDE5LDguMzU2NDIwMzQgWiBNNy43ODcyODk5NSwxNy4zMzE3NTExIEM3Ljc3MzY3NTgxLDE3LjM0NTIwNzQgNy43NjAwNjE2NywxNy4zNTg2NjM3IDcuNzQ2NDQ3NTIsMTcuMzU4NjYzNyBMMC4wNDA4NDI0Mjk4LDE1Ljc0MzkwOCBDMC4wMTM2MTQxNDMzLDE1Ljc0MzkwOCAwLDE1LjczMDQ1MTcgMCwxNS43MTY5OTU0IEMwLDE1LjcwMzUzOTEgMCwxNS42OTAwODI4IDAuMDEzNjE0MTQzMywxNS42NzY2MjY1IEw0LjMxNTY4MzQyLDExLjQyNDQzNjMgQzQuMzE1NjgzNDIsMTEuNDEwOTgwMSA0LjMyOTI5NzU2LDExLjQxMDk4MDEgNC4zNDI5MTE3MSwxMS40MTA5ODAxIEM0LjM3MDEzOTk5LDExLjQyNDQzNjMgNC4zNzAxMzk5OSwxMS40MjQ0MzYzIDQuMzgzNzU0MTMsMTEuNDM3ODkyNiBDNC4zODM3NTQxMywxMS40NTEzNDg5IDguMDczMTg2OTYsMTYuNzgwMDQyOSA4LjExNDAyOTM5LDE2LjgzMzg2ODEgQzguMTI3NjQzNTQsMTYuODQ3MzI0NCA4LjEyNzY0MzU0LDE2Ljg3NDIzNyA4LjExNDAyOTM5LDE2Ljg4NzY5MzMgQzcuOTkxNTAyMSwxNy4wMjIyNTYzIDcuODY4OTc0ODEsMTcuMTcwMjc1NSA3Ljc4NzI4OTk1LDE3LjMzMTc1MTEgWiBNNy4zNTE1NTc4MywxOC4yNDY3NDY0IEM3LjM3ODc4NTk0LDE4LjI0Njc0NjQgNy4zOTI0LDE4LjI2MDIwMjcgNy4zOTI0LDE4LjI4NzExNTEgQzcuMzkyNCwxOC4zMDA1NzEzIDcuMzc4Nzg1OTQsMTguMzE0MDI3NSA3LjM1MTU1NzgzLDE4LjM0MDkzOTkgTDMuNjM0OTIsMTkuOTE1MzE2NSBDMy42MzQ5MiwxOS45MTUzMTY1IDMuNjIxMzA1OTQsMTkuOTE1MzE2NSAzLjYwNzY5MTg4LDE5LjkwMTg2MDMgTDAuNjI2MjEzMTg1LDE2Ljk0MTQ5NDEgQzAuNjEyNTk5MTI3LDE2LjkyODAzNzggMC41OTg5ODUwNjksMTYuOTAxMTI1NCAwLjYxMjU5OTEyNywxNi44ODc2NjkyIEMwLjYyNjIxMzE4NSwxNi44NzQyMTMgMC42Mzk4MjcyNDMsMTYuODYwNzU2OCAwLjY2NzA1NTM1OSwxNi44NjA3NTY4IEw3LjM1MTU1NzgzLDE4LjI0Njc0NjQgWiIvPjwvc3ZnPg==);
}

.visuallyHidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  white-space: nowrap;
}

.subheader {
  margin-top: 2em;
  border-top: 1px solid rgb(14, 30, 37);
}

.subheader h3 {
    padding-top: 1em;
    text-align: center;
  }
`,"",{version:3,sources:["webpack://components/modal.css"],names:[],mappings:"AAiBA;EACE,wBAAwB;EACxB,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,gBAAgB;EAChB,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,WAAW;EACX,cAA0B;EAC1B,gBAAgB;AAClB;;AACA;EACE,gBAAgB;EAChB,cAA0B;EAC1B,gBAAgB;AAClB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,WAAW;EACX,gBAAgB;EAChB,kBAAkB;EAClB,gBAAgB;EAChB,8BAAsB;UAAtB,sBAAsB;EACtB;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;EACtB,yBAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,cAAc;AAChB;;AAEA;EACE,WAAW;EACX,cAAc;EACd,eAAe;EACf,MAAM;EACN,SAAS;EACT,OAAO;EACP,QAAQ;EACR,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,mBAAY;MAAZ,oBAAY;UAAZ,YAAY;EACZ,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;EACtB,WAAW;AACb;;AAEA;EACE,kBAAkB;EAClB,aAA2B;EAC3B,UAAU;EACV,4CAAoC;UAApC,oCAAoC;EACpC,gBAAgB;AAMlB;;AAJE;IACE,2EAAmE;YAAnE,mEAAmE;IACnE,qCAA6B;YAA7B,6BAA6B;EAC/B;;AAGF;EACE;IACE,UAAU;IACV,8CAAsC;YAAtC,sCAAsC;EACxC;;EAEA;IACE,UAAU;IACV,yCAAiC;YAAjC,iCAAiC;EACnC;AACF;;AAVA;EACE;IACE,UAAU;IACV,8CAAsC;YAAtC,sCAAsC;EACxC;;EAEA;IACE,UAAU;IACV,yCAAiC;YAAjC,iCAAiC;EACnC;AACF;;AAEA;EACE;IACE,iCAAkC;IAClC,sCAA8B;YAA9B,8BAA8B;IAC9B,qCAA6B;YAA7B,6BAA6B;EAC/B;;EAEA;IACE,gBAAgB;IAChB,wBAAuB;QAAvB,qBAAuB;YAAvB,uBAAuB;EACzB;;EAEA;IACE,gBAAgB;IAChB;wCACqC;YADrC;wCACqC;IACrC,kBAAkB;IAClB,gBAA8B;EAChC;AACF;;AAEA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,aAAa;EACf;AACF;;AARA;EACE;IACE,UAAU;EACZ;;EAEA;IACE,aAAa;EACf;AACF;;AAEA;EACE,kBAAkB;EAClB,sBAAuB;EACvB,gBAAgB;EAChB,eAAe;EACf,yBAAyB;EACzB,YAAY;EACZ,kBAAkB;EAClB,YAAY;EACZ,uCAA+B;EAA/B,+BAA+B;AACjC;;AAEA;;EAEE,UAAU;AACZ;;AAEA;EACE,cAAwB;EACxB,yBAAyB;EACzB,UAAU;AACZ;;AAEA;EACE,WAAW;EACX,qBAAqB;EACrB,kBAAkB;EAClB,QAAQ;EACR,iBAAiB;EACjB,WAAW;EACX,YAAY;EACZ,mCAAmC;EACnC,yzCAAyzC;AAC3zC;;AAEA;AACA;;AAEA;EACE,aAAa;EACb,oBAAoB;AACtB;;AAEA;EACE,kBAAkB;EAClB,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,gBAAgB;AAClB;;AAEA;EACE,y2CAAy2C;EACz2C,2BAA2B;EAC3B,wBAAwB;EACxB,6BAA6B;EAC7B,0BAA0B;EAC1B,8CAAsC;UAAtC,sCAAsC;EACtC,oBAAoB;AACtB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE;IACE,0BAA0B;EAC5B;;EAEA;IACE,4BAA4B;EAC9B;AACF;;AARA;EACE;IACE,0BAA0B;EAC5B;;EAEA;IACE,4BAA4B;EAC9B;AACF;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,YAAY;EACZ,UAAU;EACV,eAAe;EACf,iCAAkC;EAClC,kBAAkB;EAClB,yBAAyB;EACzB,WAAW;EACX,8CAAsC;EAAtC,sCAAsC;EACtC;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,qBAAqB;EACrB,mBAAmB;AACrB;;AAEA;;EAEE,iCAAkC;EAClC,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,SAAS;EACT,UAAU;EACV,SAAS;EACT,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,WAAW;EACX,gBAAgB;EAChB,cAA0B;AAC5B;;AAEA;EACE,YAAY;EACZ,eAAe;EACf,gBAAgB;AAClB;;AAEA;;EAEE,mBAAmB;EACnB,sBAAuB;AACzB;;AAEA;EACE,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,gBAAgB;EAChB,mBAAiC;AACnC;;AAEA;EACE,eAAe;EACf,iBAAiB;EACjB,gBAAgB;EAChB,cAA0B;EAC1B,SAAS;EACT,gCAAgC;EAChC,0BAA0B;EAC1B,SAAS;AACX;;AAEA;;EAEE,gBAAgB;EAChB,sBAAuB;EACvB,6BAA8B;EAC9B,gBAAgB;AAClB;;AAEA;EACE,yBAAyB;EACzB,sBAAuB;AACzB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;EACd,kBAAkB;EAClB,WAAW;EACX,YAAY;EACZ,mBAAmB;EACnB,YAAY;EACZ,iBAAiB;EACjB,UAAU;EACV,eAAe;EACf,sBAAuB;EACvB,YAAY;EACZ,gCAAgC;EAChC,gBAAgB;EAChB,yBAAyB;EACzB,0CAAkC;EAAlC,kCAAkC;EAClC;+EAA8B;EAC9B,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;;EAEE,yBAAyB;EACzB,qBAAiC;AACnC;;AAEA;AACA;;AAEA;EACE,kBAAkB;EAClB,gBAAgB;AAClB;;AAEA;EACE,8BAAsB;UAAtB,sBAAsB;EACtB,cAAc;EACd,WAAW;EACX,YAAY;EACZ,SAAS;EACT,0BAA0B;EAC1B,yBAAyB;EACzB,kBAAkB;EAClB,gBAAgB;EAChB,sBAAuB;EACvB,wBAAgB;UAAhB,gBAAgB;EAChB,eAAe;EACf,gBAAgB;EAChB,iBAAiB;EACjB,wDAAwC;EAAxC,gDAAwC;EAAxC,wCAAwC;EAAxC,8EAAwC;EACxC,wBAAwB;EACxB,qBAAqB;AACvB;;AAEA;EACE,kBAAkB;EAClB,SAAS;EACT,UAAU;EACV,qBAAqB;EACrB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,2BAA2B;EAC3B,oBAAoB;AACtB;;AAEA;EACE,6jBAA6jB;AAC/jB;;AAEA;EACE,65DAA65D;AAC/5D;;AAEA;EACE,qkEAAqkE;AACvkE;;AAEA;EACE,yyCAAyyC;AAC3yC;;AAEA;AACA;;AAEA;EACE,SAAS;EACT,6BAA6B;EAC7B,mBAAiC;EACjC,kBAAkB;EAClB,iBAAiB;AACnB;;AAEA;EACE,aAAa;EACb,kBAAkB;EAClB,qBAAqB;EACrB,eAAe;EACf,gBAAgB;EAChB,cAAc;EACd,yBAAyB;EACzB,sBAAsB;EACtB,sBAAuB;EACvB,YAAY;EACZ,UAAU;AACZ;;AAEA;EACE,kBAAkB;EAClB,mBAAmB;AACrB;;AAEA;EACE,WAAW;EACX,kBAAkB;EAClB,qBAAqB;EACrB,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,4BAA4B;EAC5B,gCAAgC;EAChC,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,yBAA4C;EAC5C,qBAA2C;AAC7C;;AAEA;;EAEE,yBAA+C;AACjD;;AAEA;EACE,sBAA4C;EAC5C,kBAA2C;AAC7C;;AAEA;;EAEE,sBAA+C;AACjD;;AAEA;EACE,yBAA4C;EAC5C,qBAA2C;AAC7C;;AAEA;;EAEE,yBAA+C;AACjD;;AAEA;EACE,yBAA+C;EAC/C,qBAA8C;AAChD;;AAEA;;EAEE,yBAAkD;AACpD;;AAEA;EACE,i9DAAi9D;AACn9D;;AAEA;EACE,ikKAAikK;AACnkK;;AAEA;EACE,imDAAimD;AACnmD;;AAEA;EACE,y2FAAy2F;AAC32F;;AAEA;EACE,cAAc;EACd,aAA2B;EAC3B,eAAe;EACf,gBAAgB;EAChB,qBAAqB;EACrB,cAA0B;EAC1B,kBAAkB;AACpB;;AAEA;EACE,aAAa;EACb,iCAAyB;EAAzB,yBAAyB;AAC3B;;AAEA;EACE,UAAU;AACZ;;AAEA;EACE,cAAc;EACd,YAAY;EACZ,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,qlYAAqlY;AACvlY;;AAEA;EACE,SAAS;EACT,mBAAmB;EACnB,WAAW;EACX,YAAY;EACZ,gBAAgB;EAChB,UAAU;EACV,kBAAkB;EAClB,UAAU;EACV,mBAAmB;AACrB;;AAEA;EACE,eAAe;EACf,qCAAqC;AAMvC;;AAJE;IACE,gBAAgB;IAChB,kBAAkB;EACpB",sourcesContent:[`:root {
  --baseColor: rgb(14, 30, 37);
  --subduedColor: #a3a9ac;
  --errorColor: #fa3946;
  --providerColorGoogle: #4285f4;
  --providerAltColorGoogle: #366dc7;
  --providerColorGitHub: #333;
  --providerAltColorGitHub: #000;
  --providerColorGitLab: #e24329;
  --providerAltColorGitLab: #b03320;
  --providerColorBitbucket: #205081;
  --providerAltColorBitbucket: #14314f;
  --fontFamily: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica,
    Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol";
  --basePadding: 32px;
}

::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */
  color: var(--subduedColor);
  font-weight: 500;
}
::-moz-placeholder {
  /* Firefox 19+ */
  color: var(--subduedColor);
  font-weight: 500;
}
:-ms-input-placeholder {
  /* IE 10+ */
  color: var(--subduedColor);
  font-weight: 500;
}
:-moz-placeholder {
  /* Firefox 18- */
  color: var(--subduedColor);
  font-weight: 500;
}

.modalContainer {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  min-height: 100%;
  overflow-x: hidden;
  overflow-y: auto;
  box-sizing: border-box;
  font-family: var(--fontFamily);
  font-size: 14px;
  line-height: 1.5;
  display: flex;
  flex-direction: column;
  align-items: center;
  z-index: 99999;
}

.modalContainer::before {
  content: "";
  display: block;
  position: fixed;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  background-color: #fff;
  z-index: -1;
}

.modalDialog {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  width: 100%;
}

.modalContent {
  position: relative;
  padding: var(--basePadding);
  opacity: 0;
  transform: translateY(10px) scale(1);
  background: #fff;

  [aria-hidden="false"] & {
    animation: bouncyEntrance 0.2s cubic-bezier(0.18, 0.89, 0.32, 1.28);
    animation-fill-mode: forwards;
  }
}

@keyframes bouncyEntrance {
  0% {
    opacity: 0;
    transform: translateY(10px) scale(0.9);
  }

  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

@media (min-width: 480px) {
  .modalContainer::before {
    background-color: var(--baseColor);
    animation: fadeIn 0.1s ease-in;
    animation-fill-mode: forwards;
  }

  .modalDialog {
    max-width: 364px;
    justify-content: center;
  }

  .modalContent {
    background: #fff;
    box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.07),
      0 12px 32px 0 rgba(14, 30, 37, 0.1);
    border-radius: 8px;
    margin-top: var(--basePadding);
  }
}

@keyframes fadeIn {
  0% {
    opacity: 0;
  }

  100% {
    opacity: 0.67;
  }
}

.flashMessage {
  text-align: center;
  color: var(--baseColor);
  font-weight: 500;
  font-size: 14px;
  background-color: #f2f3f3;
  padding: 6px;
  border-radius: 4px;
  opacity: 0.7;
  transition: opacity 0.2s linear;
}

.flashMessage:hover,
.flashMessage:focus {
  opacity: 1;
}

.error {
  color: var(--errorColor);
  background-color: #fceef0;
  opacity: 1;
}

.error span::before {
  content: "";
  display: inline-block;
  position: relative;
  top: 3px;
  margin-right: 4px;
  width: 16px;
  height: 16px;
  background: no-repeat center center;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4KICA8cGF0aCBmaWxsPSIjRkEzOTQ2IiBkPSJNOCwxLjMzMzMzMzMzIEMxMS42NzYsMS4zMzMzMzMzMyAxNC42NjY2NjY3LDQuMzI0IDE0LjY2NjY2NjcsOCBDMTQuNjY2NjY2NywxMS42NzYgMTEuNjc2LDE0LjY2NjY2NjcgOCwxNC42NjY2NjY3IEM0LjMyNCwxNC42NjY2NjY3IDEuMzMzMzMzMzMsMTEuNjc2IDEuMzMzMzMzMzMsOCBDMS4zMzMzMzMzMyw0LjMyNCA0LjMyNCwxLjMzMzMzMzMzIDgsMS4zMzMzMzMzMyBaIE04LDAgQzMuNTgyLDAgMCwzLjU4MiAwLDggQzAsMTIuNDE4IDMuNTgyLDE2IDgsMTYgQzEyLjQxOCwxNiAxNiwxMi40MTggMTYsOCBDMTYsMy41ODIgMTIuNDE4LDAgOCwwIFogTTcuMTI2NjY2NjcsNS4wMTczMzMzMyBDNy4wNjA2NjY2Nyw0LjQ3OTMzMzMzIDcuNDc4NjY2NjcsNCA4LjAyNTMzMzMzLDQgQzguNTM5MzMzMzMsNCA4Ljk0MzMzMzMzLDQuNDUwNjY2NjcgOC44Nzg2NjY2Nyw0Ljk2NzMzMzMzIEw4LjM3NCw5LjAwMjY2NjY3IEM4LjM1MDY2NjY3LDkuMTkxMzMzMzMgOC4xOSw5LjMzMzMzMzMzIDgsOS4zMzMzMzMzMyBDNy44MSw5LjMzMzMzMzMzIDcuNjQ5MzMzMzMsOS4xOTEzMzMzMyA3LjYyNTMzMzMzLDkuMDAyNjY2NjcgTDcuMTI2NjY2NjcsNS4wMTczMzMzMyBMNy4xMjY2NjY2Nyw1LjAxNzMzMzMzIFogTTgsMTIuMTY2NjY2NyBDNy41NCwxMi4xNjY2NjY3IDcuMTY2NjY2NjcsMTEuNzkzMzMzMyA3LjE2NjY2NjY3LDExLjMzMzMzMzMgQzcuMTY2NjY2NjcsMTAuODczMzMzMyA3LjU0LDEwLjUgOCwxMC41IEM4LjQ2LDEwLjUgOC44MzMzMzMzMywxMC44NzMzMzMzIDguODMzMzMzMzMsMTEuMzMzMzMzMyBDOC44MzMzMzMzMywxMS43OTMzMzMzIDguNDYsMTIuMTY2NjY2NyA4LDEyLjE2NjY2NjcgWiIvPgo8L3N2Zz4K);
}

.success {
}

.disabled {
  opacity: 0.38;
  pointer-events: none;
}

.infoText {
  text-align: center;
  margin: 32px 0;
}

.infoTextEmail {
  font-size: 16px;
  font-weight: 500;
}

.saving {
  background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABQCAMAAACeYYN3AAAAxlBMVEUAAAD////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////DTx3aAAAAQnRSTlMAAQIDBAUGBwgJCgsMDQ4PEBESExQVFhcYGRobHB0eHyAhIiMkJSYnKCkqKywtLi8wMTIzNDU2Nzg5Ojs8PT4/QEGgjKRfAAACk0lEQVR4AYXQDXP5WhAG8CUhiSQqSv4RRRMVL1Fa1VZf3PL9v9Tde9wc9M8+P8/M7s6czJiHgNIvVCJO6YiAMlAiWckASiQrm4bJMZTDrmbBIEC9qpgVjp6n4B+oyEwCzKrMQBVaQIlkpmXZln1dhQB+49gOh5dLexlV6MhsAqyazEQVugCqsOK5nsQmwPWZ53ucvyczSGb4l9T9OsdnLgFOXVZFFd4AqEKrIasR4AdBI2hw1GR6VzMwSWY2A60ZNDl6KnUC3KbMRhXeAqhCpyXzCAjarNVucdqXVEhWaRfCdsj5vQcE1EOZQ7Jy+EcUlklWi2Q3BLQ6nagTcTra2Y0qrHZirRN3OOezTUAjvq4bd7suqpDfSGJUoXcnCwiIerIqqlC96vf6HD1ZsUcE3PYH/QGnrx3uYnqoQn4l6aMK/XtZi4BuIrNIZqVJkiapkhx37Y6AcDgcpsNU44Nz3OuoQn4jSVGFNw+ykID+SGaTzM5G2YiTFVM73AMConE2zjhj7XAXs4EqHE/4d12GKgwmsoiAZCpzSObMptPZdHZVSkCc5/ksnym8cPRUmiQzpvNcmedzTl4o7qlBsuZc1iVg9ChDFdYWshEBveV/FssFZ/l7Z7eowsfl0/JJ4UXj43A/ogpbT7IeAZNnWQ1VuJJNCBi8HKxeVhw9tRaq8JkfrV/WHDULxb1CFbbX7HX9yllfck9A/ipzSea+yeYEJO+yEFX4tim8b94VXjj/zzdU4Z/NmY/NB+fkTglYfMg8knmfsiUBD1+yCFX4+X309f3FOds/UYVR8fH2e6vwovExIuB5K/NJ5v8jWxGQ/chiVOF2d+pn98M5zt3WJFm83+/2O4UXjprabkzAWn+o56k9qvBfX4hMaM+SxOMAAAAASUVORK5CYII=);
  background-repeat: repeat-x;
  background-size: contain;
  background-origin: border-box;
  background-position: 0% 0%;
  animation: loading 20s linear infinite;
  pointer-events: none;
}

.saving::after {
  content: "\u2026";
}

@keyframes loading {
  0% {
    background-position: 0% 0%;
  }

  100% {
    background-position: 700% 0%;
  }
}

.btn {
  display: block;
  position: relative;
  width: 100%;
  height: auto;
  margin: 14px 0 0;
  padding: 6px;
  outline: 0;
  cursor: pointer;
  border: 2px solid var(--baseColor);
  border-radius: 4px;
  background-color: #2d3b41;
  color: #fff;
  transition: background-color 0.2s ease;
  font-family: var(--fontFamily);
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  text-decoration: none;
  white-space: nowrap;
}

.btn:hover,
.btn:focus {
  background-color: var(--baseColor);
  text-decoration: none;
}

.btnClose {
  position: absolute;
  top: 0;
  right: 0;
  margin: 0;
  padding: 0;
  border: 0;
  width: 24px;
  height: 24px;
  border-radius: 50%;
  margin: 6px;
  background: #fff;
  color: var(--subduedColor);
}

.btnClose::before {
  content: "\xD7";
  font-size: 25px;
  line-height: 9px;
}

.btnClose:hover,
.btnClose:focus {
  background: #e9ebeb;
  color: var(--baseColor);
}

.header {
  display: flex;
  margin-top: -8px;
  margin-bottom: var(--basePadding);
}

.btnHeader {
  font-size: 16px;
  line-height: 24px;
  background: #fff;
  color: var(--subduedColor);
  border: 0;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 4px 4px 0 0;
  margin: 0;
}

.btnHeader:focus,
.btnHeader.active {
  background: #fff;
  color: var(--baseColor);
  border-color: var(--baseColor);
  font-weight: 700;
}

.btnHeader:not(:only-child):hover {
  background-color: #e9ebeb;
  color: var(--baseColor);
}

.btnHeader:only-child {
  cursor: auto;
}

.btnLink {
  display: block;
  position: relative;
  width: auto;
  height: auto;
  margin: 14px auto 0;
  padding: 6px;
  padding-bottom: 0;
  outline: 0;
  cursor: pointer;
  color: var(--baseColor);
  border: none;
  border-bottom: 2px solid #e9ebeb;
  border-radius: 0;
  background-color: inherit;
  transition: border-color 0.2s ease;
  font-family: var(--fontFamily);
  font-size: 14px;
  font-weight: 500;
  line-height: 24px;
  text-align: center;
  white-space: nowrap;
}

.btnLink:hover,
.btnLink:focus {
  background-color: inherit;
  border-color: var(--subduedColor);
}

.form {
}

.formGroup {
  position: relative;
  margin-top: 14px;
}

.formControl {
  box-sizing: border-box;
  display: block;
  width: 100%;
  height: 40px;
  margin: 0;
  padding: 6px 12px 6px 34px;
  border: 2px solid #e9ebeb;
  border-radius: 4px;
  background: #fff;
  color: var(--baseColor);
  box-shadow: none;
  font-size: 16px;
  font-weight: 500;
  line-height: 24px;
  transition: box-shadow ease-in-out 0.15s;
  -webkit-appearance: none;
  -moz-appearance: none;
}

.inputFieldIcon {
  position: absolute;
  top: 12px;
  left: 12px;
  display: inline-block;
  width: 16px;
  height: 16px;
  background-repeat: no-repeat;
  background-position: center;
  pointer-events: none;
}

.inputFieldName {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTgsNyBDNi4zNDMxNDU3NSw3IDUsNS42NTY4NTQyNSA1LDQgQzUsMi4zNDMxNDU3NSA2LjM0MzE0NTc1LDEgOCwxIEM5LjY1Njg1NDI1LDEgMTEsMi4zNDMxNDU3NSAxMSw0IEMxMSw1LjY1Njg1NDI1IDkuNjU2ODU0MjUsNyA4LDcgWiBNOCwxNSBMMS41LDE1IEMxLjUsMTEuMTM0MDA2OCA0LjQxMDE0OTEzLDggOCw4IEMxMS41ODk4NTA5LDggMTQuNSwxMS4xMzQwMDY4IDE0LjUsMTUgTDgsMTUgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTEpIi8+PC9zdmc+);
}

.inputFieldEmail {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxMSIgdmlld0JveD0iMCAwIDE2IDExIj4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xLjE3MDczMTcxLDMgQzAuNTIyMTQ2MzQxLDMgMy45MDI0NTk4N2UtMDgsMy41NDUxMTA4MSAzLjkwMjQ1OTg3ZS0wOCw0LjIyMjIyMTU0IEwzLjkwMjQ1OTg3ZS0wOCwxMi43Nzc3Nzg1IEMzLjkwMjQ1OTg3ZS0wOCwxMy40NTQ4ODkyIDAuNTIyMTQ2MzQxLDE0IDEuMTcwNzMxNzEsMTQgTDE0LjgyOTI2ODMsMTQgQzE1LjQ3Nzg1MzcsMTQgMTYsMTMuNDU0ODg5MiAxNiwxMi43Nzc3Nzg1IEwxNiw0LjIyMjIyMTU0IEMxNiwzLjU0NTExMDgxIDE1LjQ3Nzg1MzcsMyAxNC44MjkyNjgzLDMgTDEuMTcwNzMxNzEsMyBaIE0yLjMzNzQyMTE5LDUuMDAxODY1NjYgQzIuNDU3NTExNzUsNC45ODk1NTIxNCAyLjU2MDcxNDU3LDUuMDM5MzM5OCAyLjYzNjM1OTg1LDUuMTE3Mjg0MzcgTDcuNDgyNjA2MTcsMTAuMTEzMjU0NSBDNy43ODQ0ODgyMiwxMC40MjQ3NDU1IDguMjAzMjc4MjksMTAuNDI0NzY2IDguNTA1ODk2MTksMTAuMTEzMjU0NSBMMTMuMzYzNjQwMiw1LjExNzI4NDM3IEMxMy41MDUxMjU1LDQuOTcxMjA0OTkgMTMuNzUyOTc3OSw0Ljk4MTg5NzIzIDEzLjg4MzkyMjIsNS4xMzk3MzYwMiBDMTQuMDE0ODY2NSw1LjI5NzU3NDgxIDE0LjAwNTI4MjEsNS41NzQwNzQ4OCAxMy44NjM3OTY3LDUuNzIwMTU0MjYgTDExLjExNTg2MDYsOC41NDg0MTE1MiBMMTMuODU4MDU3MSwxMS4yNjc2NDY5IEMxNC4wMjE3ODM1LDExLjQwMzE5ODIgMTQuMDQ4OTM2MywxMS43MDE0OTMyIDEzLjkxMjk4ODIsMTEuODcwOTg4OCBDMTMuNzc3MDQwMSwxMi4wNDA1MDQ5IDEzLjUwODI4OTcsMTIuMDQzNDE5MSAxMy4zNjkzOTgyLDExLjg3Njk0MDQgTDEwLjU3NTQ3MTUsOS4xMDYzOTg2MiBMOS4wMDYwNTI3NSwxMC43MTYxMjQ0IEM4LjQzNDk0MTk1LDExLjMwNDAzMzQgNy41NTMzMDI4NiwxMS4zMDUxNjIxIDYuOTgyNDY4LDEwLjcxNjEyNDQgTDUuNDI0NTI4NSw5LjEwNjM5ODYyIEwyLjYzMDYwMTgzLDExLjg3Njk0MDQgQzIuNDkxNzEwMzMsMTIuMDQzNDM5NyAyLjIyMjk1OTg4LDEyLjA0MDUyNTUgMi4wODcwMTE3OCwxMS44NzA5ODg4IEMxLjk1MTA2MzY3LDExLjcwMTQ5MzIgMS45NzgyMTY1LDExLjQwMzE5ODIgMi4xNDE5NDI5LDExLjI2NzY0NjkgTDQuODg0MTM5MzksOC41NDg0MTE1MiBMMi4xMzYyMDMyOCw1LjcyMDE1NDI2IEMyLjAyODcxNDE0LDUuNjE2MjI4MTYgMS45ODM1NTE0MSw1LjQzODk1NDUzIDIuMDI1OTkxNSw1LjI4NzQ5ODI1IEMyLjA2ODQxMzE5LDUuMTM2MDYyNDkgMi4xOTYwMjc4MSw1LjAxOTAyMjQ5IDIuMzM3NDIxMTksNS4wMDE4NjU2NiBaIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIC0zKSIvPjwvc3ZnPg==);
}

.inputFieldPassword {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDEyIDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0yLjQ0NTkxMDQ1LDMuNjQzMDg0MjcgQzIuNDQ1OTEwMzgsMi42NzY2MjEzNyAyLjgxODk3NTQ2LDEuNzQ5NzYzOTMgMy40ODI5OTUxOCwxLjA2NjUxMDUyIEM0LjE0NzAxNDksMC4zODMyNTcxMTEgNS4wNDc1NjY0MywtMC4wMDAzOTMwNDg2MTggNS45ODY0NDEwNSwzLjAyMTc0MDY5ZS0wNyBMNi4xMTc1MTg0NywzLjAyMTc0MDY5ZS0wNyBDOC4wNjkyOTIwNSwwLjAwMjQ1Mjc4Mzg0IDkuNjUwNzAwMTMsMS42MzA5OTI4MyA5LjY1MjI4NzQyLDMuNjQwMTE4NzkgTDkuNjUyMjg3NDIsNC42NzgwMzQ0NSBDOS4xMzk1MDEwNSw0LjcwMzI0MDk4IDguNjM2Nzk3NTYsNC43NDYyNDAzNCA4LjEzMTIxMzI1LDQuODAxMTAxNiBMOC4xMzEyMTMyNSwzLjY0MzA4NDI3IEM4LjEzMTIxMzI1LDIuNDk2NjM0MjkgNy4yMjgzNjE2LDEuNTY3MjUyOTUgNi4xMTQ2Mzc2NCwxLjU2NzI1Mjk1IEw1Ljk4MzU2MDIzLDEuNTY3MjUyOTUgQzQuODY5ODM2MjgsMS41NjcyNTI5NSAzLjk2Njk4NDYyLDIuNDk2NjM0MjkgMy45NjY5ODQ2MiwzLjY0MzA4NDI3IEwzLjk2Njk4NDYyLDMuOTYwMzg5OTEgQzMuOTY3NTc5ODgsNC4zNTY0OTE4MiAzLjY3NzAzNTY1LDQuNjg4ODc1OTUgMy4yOTQzMTI2Miw0LjcyOTkzMDI0IEwzLjI3ODQ2ODEsNC43Mjk5MzAyNCBDMy4wNjYyNDA5Miw0Ljc1MzUwMjk2IDIuODU0MjgyODcsNC42ODMxMDg3IDIuNjk1NDU2MTMsNC41MzYzMDM3NiBDMi41MzY2Mjk0LDQuMzg5NDk4ODIgMi40NDU5MDUzMyw0LjE4MDEyMTMzIDIuNDQ1OTEwNDUsMy45NjAzODk5MSBMMi40NDU5MTA0NSwzLjY0MzA4NDI3IFogTTExLjQxNjY2Niw3LjExNTY1MzUyIEwxMS40MTY2NjYsMTIuNjkwNzQzMyBDMTEuNDE3MDQwOCwxMy4wODMxMTQzIDExLjE0NTkyMDMsMTMuNDIwMTM3MSAxMC43NzEzNjE4LDEzLjQ5MjkwMzkgTDEwLjI5MDI2NDQsMTMuNTg2MzE2MyBDOC44NzYwNzU2NCwxMy44NjE1OTU5IDcuNDM5OTcxMzMsMTQuMDAwMDkzNyA2LjAwMDcyMDA1LDEzLjk5OTk5OTggQzQuNTYwOTg3NTgsMTQuMDAwMTg2MiAzLjEyNDM5Njg0LDEzLjg2MTY4OCAxLjcwOTczNTI0LDEzLjU4NjMxNjMgTDEuMjI4NjM3OTIsMTMuNDkyOTAzOSBDMC44NTQwNzk0MDcsMTMuNDIwMTM3MSAwLjU4Mjk1ODg2NywxMy4wODMxMTQzIDAuNTgzMzMzNzIyLDEyLjY5MDc0MzMgTDAuNTgzMzMzNzIyLDcuMTE1NjUzNTIgQzAuNTgyOTU4ODY3LDYuNzIzMjgyNTYgMC44NTQwNzk0MDcsNi4zODYyNTk4MSAxLjIyODYzNzkyLDYuMzEzNDkyOTkgTDEuMjk5MjE4MDYsNi4zMDAxNDgzNiBDNC40MDU5OTg0Nyw1LjY5NTEyMTY3IDcuNTk1NDQxNjIsNS42OTUxMjE2NyAxMC43MDIyMjIsNi4zMDAxNDgzNiBMMTAuNzcyODAyMiw2LjMxMzQ5Mjk5IEMxMS4xNDY3ODgsNi4zODY4ODY0NSAxMS40MTcxNzE2LDYuNzIzNzQ1MTYgMTEuNDE2NjY2LDcuMTE1NjUzNTIgWiIvPjwvc3ZnPg==);
}

.inputFieldUrl {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNCIgdmlld0JveD0iMCAwIDE0IDE0Ij4gIDxwYXRoIGZpbGw9IiNBM0E5QUMiIGQ9Ik0xMCw1IEMxMCwzLjg5NTQzMDUgOS4xMDQ1Njk1LDMgOCwzIEM2Ljg5NTQzMDUsMyA2LDMuODk1NDMwNSA2LDUgTTQsMTAgTDQsMTEgTDYsMTEgTDYsMTAgQzYsOS40NDc3MTUyNSA1LjU1MjI4NDc1LDkgNSw5IEM0LjQ0NzcxNTI1LDkgNCw5LjQ0NzcxNTI1IDQsMTAgWiBNMTIsMTAgQzEyLDkuNDQ3NzE1MjUgMTEuNTUyMjg0Nyw5IDExLDkgQzEwLjQ0NzcxNTMsOSAxMCw5LjQ0NzcxNTI1IDEwLDEwIEwxMCwxMSBMMTIsMTEgTDEyLDEwIFogTTYsNiBMNiw1IEw0LDUgTDQsNiBDNCw2LjU1MjI4NDc1IDQuNDQ3NzE1MjUsNyA1LDcgQzUuNTUyMjg0NzUsNyA2LDYuNTUyMjg0NzUgNiw2IFogTTEwLDYgQzEwLDYuNTUyMjg0NzUgMTAuNDQ3NzE1Myw3IDExLDcgQzExLjU1MjI4NDcsNyAxMiw2LjU1MjI4NDc1IDEyLDYgTDEyLDUgTDEwLDUgTDEwLDYgWiBNNCw1IEM0LDIuNzkwODYxIDUuNzkwODYxLDEgOCwxIEMxMC4yMDkxMzksMSAxMiwyLjc5MDg2MSAxMiw1IEw0LDUgWiBNNCwxMSBMMTIsMTEgQzEyLDEzLjIwOTEzOSAxMC4yMDkxMzksMTUgOCwxNSBDNS43OTA4NjEsMTUgNCwxMy4yMDkxMzkgNCwxMSBaIE0xMCwxMSBMNiwxMSBDNiwxMi4xMDQ1Njk1IDYuODk1NDMwNSwxMyA4LDEzIEM5LjEwNDU2OTUsMTMgMTAsMTIuMTA0NTY5NSAxMCwxMSBaIE04LDExIEM3LjQ0NzcxNTI1LDExIDcsMTAuNTUyMjg0NyA3LDEwIEw3LDYgQzcsNS40NDc3MTUyNSA3LjQ0NzcxNTI1LDUgOCw1IEM4LjU1MjI4NDc1LDUgOSw1LjQ0NzcxNTI1IDksNiBMOSwxMCBDOSwxMC41NTIyODQ3IDguNTUyMjg0NzUsMTEgOCwxMSBaIiB0cmFuc2Zvcm09InJvdGF0ZSg0NSA4LjcwNyA2LjI5MykiLz48L3N2Zz4=);
}

.formLabel {
}

.hr {
  border: 0;
  border-top: 2px solid #e9ebeb;
  margin: var(--basePadding) 0 -1px;
  text-align: center;
  overflow: visible;
}

.hr::before {
  content: "or";
  position: relative;
  display: inline-block;
  font-size: 12px;
  font-weight: 800;
  line-height: 1;
  text-transform: uppercase;
  background-color: #fff;
  color: var(--baseColor);
  padding: 4px;
  top: -11px;
}

.btnProvider {
  padding-left: 40px;
  padding-right: 40px;
}

.btnProvider::before {
  content: "";
  position: absolute;
  display: inline-block;
  vertical-align: middle;
  width: 32px;
  height: 40px;
  background-repeat: no-repeat;
  background-position: left center;
  top: -2px;
  left: 14px;
}

.providerGoogle {
  background-color: var(--providerColorGoogle);
  border-color: var(--providerAltColorGoogle);
}

.providerGoogle:hover,
.providerGoogle:focus {
  background-color: var(--providerAltColorGoogle);
}

.providerGitHub {
  background-color: var(--providerColorGitHub);
  border-color: var(--providerAltColorGitHub);
}

.providerGitHub:hover,
.providerGitHub:focus {
  background-color: var(--providerAltColorGitHub);
}

.providerGitLab {
  background-color: var(--providerColorGitLab);
  border-color: var(--providerAltColorGitLab);
}

.providerGitLab:hover,
.providerGitLab:focus {
  background-color: var(--providerAltColorGitLab);
}

.providerBitbucket {
  background-color: var(--providerColorBitbucket);
  border-color: var(--providerAltColorBitbucket);
}

.providerBitbucket:hover,
.providerBitbucket:focus {
  background-color: var(--providerAltColorBitbucket);
}

.providerGoogle:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMyIgaGVpZ2h0PSIxMiIgdmlld0JveD0iMCAwIDEzIDEyIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEuNDg4IC0yKSI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik0wLjY1MjczNDM3NSwzLjI5NTI4MjQ0IEMwLjIzNzk4NDM3NSw0LjEwNTgzMjA2IDIuODQyMTcwOTRlLTE0LDUuMDE2MDQ1OCAyLjg0MjE3MDk0ZS0xNCw1Ljk3OTM4OTMxIEMyLjg0MjE3MDk0ZS0xNCw2Ljk0MjczMjgyIDAuMjM3OTg0Mzc1LDcuODUyOTAwNzYgMC42NTI3MzQzNzUsOC42NjM0NTAzOCBDMS42NTkwNDY4NywxMC42MTY3MDIzIDMuNzI2MDkzNzUsMTEuOTU4Nzc4NiA2LjExOTUzMTI1LDExLjk1ODc3ODYgQzcuNzcxNzgxMjUsMTEuOTU4Nzc4NiA5LjE1ODg1OTM3LDExLjQyNzI1MTkgMTAuMTcyMDE1NiwxMC41MTA0NDI3IEMxMS4zMjc5MDYyLDkuNDY3MzU4NzggMTEuOTk0MjgxMiw3LjkzMjY0MTIyIDExLjk5NDI4MTIsNi4xMTIyNTk1NCBDMTEuOTk0MjgxMiw1LjYyMDYyNTk1IDExLjk1MzQ1MzEsNS4yNjE4NjI2IDExLjg2NTA5MzcsNC44ODk4MTY3OSBMNi4xMTk1MzEyNSw0Ljg4OTgxNjc5IEw2LjExOTUzMTI1LDcuMTA4ODA5MTYgTDkuNDkyMDQ2ODcsNy4xMDg4MDkxNiBDOS40MjQwNzgxMiw3LjY2MDI1OTU0IDkuMDU2OTA2MjUsOC40OTA3MzI4MiA4LjI0MDk1MzEyLDkuMDQ4Nzc4NjMgQzcuNzI0MjAzMTIsOS40MDA5MDA3NiA3LjAzMDY0MDYyLDkuNjQ2NzE3NTYgNi4xMTk1MzEyNSw5LjY0NjcxNzU2IEM0LjUwMTI2NTYyLDkuNjQ2NzE3NTYgMy4xMjc3ODEyNSw4LjYwMzY3OTM5IDIuNjM4MTcxODcsNy4xNjE5ODQ3MyBMMi42Mjg3MTIwNSw3LjE2Mjc2OTU5IEMyLjUwNTM0MTU4LDYuNzk3Mjk0NjggMi40MzQyMTg3NSw2LjM4MTEyMjg1IDIuNDM0MjE4NzUsNS45NzkzODkzMSBDMi40MzQyMTg3NSw1LjU2NzQ1MDM4IDIuNTA4OTg0MzgsNS4xNjg4Mzk2OSAyLjYzMTM3NSw0Ljc5Njc5Mzg5IEMzLjEyNzc4MTI1LDMuMzU1MDk5MjQgNC41MDEyNjU2MiwyLjMxMjAxNTI3IDYuMTE5NTMxMjUsMi4zMTIwMTUyNyBDNy4yNjg2MjUsMi4zMTIwMTUyNyA4LjA0Mzc1LDIuNzk3MDA3NjMgOC40ODU3MzQzNywzLjIwMjMwNTM0IEwxMC4yMTI3OTY5LDEuNTU0NjQxMjIgQzkuMTUyMTA5MzcsMC41OTEyOTc3MSA3Ljc3MTc4MTI1LDguODgxNzg0MmUtMTYgNi4xMTk1MzEyNSw4Ljg4MTc4NDJlLTE2IEMzLjcyNjA5Mzc1LDguODgxNzg0MmUtMTYgMS42NTkwNDY4NywxLjM0MjAzMDUzIDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgTDAuNjUyNzM0Mzc1LDMuMjk1MjgyNDQgWiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMiAyKSIvPiAgPC9nPjwvc3ZnPg==);
}

.providerGitHub:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE2IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+ICAgIDxyZWN0IHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiIvPiAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iIGQ9Ik04LjAwMDA2NjI1LDAgQzMuNTgyMzMwNzksMCAwLDMuNjcyMzE1ODUgMCw4LjIwMjUzNzczIEMwLDExLjgyNjYzMzggMi4yOTIyNjI0OCwxNC45MDEyOTUgNS40NzA5MzM1NiwxNS45ODU5MDIzIEM1Ljg3MDc1MTM5LDE2LjA2MTgzMTUgNi4wMTc1MzY3NSwxNS44MDc5NjQyIDYuMDE3NTM2NzUsMTUuNTkxMzE0NCBDNi4wMTc1MzY3NSwxNS4zOTU3MTgzIDYuMDEwMTE3OTksMTQuNzQ5NTcyMiA2LjAwNjY3MzU2LDE0LjA2NDE3MTEgQzMuNzgxMDQ3NDEsMTQuNTYwMzYwMiAzLjMxMTQxMzc5LDEzLjA5NjM3ODEgMy4zMTE0MTM3OSwxMy4wOTYzNzgxIEMyLjk0NzQ5NzQsMTIuMTQ4MjgwNiAyLjQyMzE1MDUsMTEuODk2MTc5IDIuNDIzMTUwNSwxMS44OTYxNzkgQzEuNjk3MzA0OTEsMTEuMzg3MDg2IDIuNDc3ODYzNzksMTEuMzk3NTQ0OSAyLjQ3Nzg2Mzc5LDExLjM5NzU0NDkgQzMuMjgxMjA4ODcsMTEuNDU1NDA4NyAzLjcwNDIxMDMxLDEyLjI0MjgxODcgMy43MDQyMTAzMSwxMi4yNDI4MTg3IEM0LjQxNzczNTQ3LDEzLjQ5NjgwNjcgNS41NzU3MjM0NiwxMy4xMzQyNzQ4IDYuMDMyMjQxNzgsMTIuOTI0Njg4MiBDNi4xMDQwNDQ3MiwxMi4zOTQ1NDE0IDYuMzExMzcyNDQsMTIuMDMyNjg4NyA2LjU0MDE2MTQ0LDExLjgyNzg1NjIgQzQuNzYzMjM3NDQsMTEuNjIwNDQyOCAyLjg5NTMwMTE5LDEwLjkxNzExMjEgMi44OTUzMDExOSw3Ljc3NDEyNzk5IEMyLjg5NTMwMTE5LDYuODc4NTk2ODggMy4yMDc4MTYxOCw2LjE0Njg3NzU3IDMuNzE5NTc3NzMsNS41NzI0NDk5OSBDMy42MzY1MTQxNyw1LjM2NTg1MTY2IDMuMzYyNjgyNjgsNC41MzE1ODAxNyAzLjc5NzA3NzIxLDMuNDAxNzQxMzMgQzMuNzk3MDc3MjEsMy40MDE3NDEzMyA0LjQ2ODg3MTg4LDMuMTgxMjg4MjcgNS45OTc2NjUwNyw0LjI0MjUzMjY3IEM2LjYzNTgxMDQ0LDQuMDYwNzkxMzQgNy4zMjAxOTA0NCwzLjk2OTY0OTAyIDguMDAwMDY2MjUsMy45NjY1MjQ5MiBDOC42Nzk5NDIwNiwzLjk2OTY0OTAyIDkuMzY0ODUyLDQuMDYwNzkxMzQgMTAuMDA0MTg5Niw0LjI0MjUzMjY3IEMxMS41MzExMjgxLDMuMTgxMjg4MjcgMTIuMjAxOTk1NCwzLjQwMTc0MTMzIDEyLjIwMTk5NTQsMy40MDE3NDEzMyBDMTIuNjM3NDQ5OCw0LjUzMTU4MDE3IDEyLjM2MzQ4NTgsNS4zNjU4NTE2NiAxMi4yODA0MjIzLDUuNTcyNDQ5OTkgQzEyLjc5MzM3NjEsNi4xNDY4Nzc1NyAxMy4xMDM3NzE0LDYuODc4NTk2ODggMTMuMTAzNzcxNCw3Ljc3NDEyNzk5IEMxMy4xMDM3NzE0LDEwLjkyNDU4MjggMTEuMjMyMjU4MywxMS42MTgyNjk2IDkuNDUwODMwMDYsMTEuODIxMzM2MyBDOS43Mzc3NzY4NywxMi4wNzU4ODI5IDkuOTkzNDU4ODcsMTIuNTc1MDYwMiA5Ljk5MzQ1ODg3LDEzLjM0MDMyOTggQzkuOTkzNDU4ODcsMTQuNDM3ODQxMSA5Ljk4NDE4NTUsMTUuMzIxMTQ3MyA5Ljk4NDE4NTUsMTUuNTkxMzE0NCBDOS45ODQxODU1LDE1LjgwOTU5NDIgMTAuMTI4MTg4NywxNi4wNjUzNjMxIDEwLjUzMzcwMzEsMTUuOTg0ODE1NiBDMTMuNzEwNjUyLDE0Ljg5ODk4NTggMTYsMTEuODI1NDExMyAxNiw4LjIwMjUzNzczIEMxNiwzLjY3MjMxNTg1IDEyLjQxODE5OTIsMCA4LjAwMDA2NjI1LDAgWiBNMi45OTYyODQ5NiwxMS42ODQ2ODgyIEMyLjk3ODY2NTQxLDExLjcyNTQzNzMgMi45MTYxMzU5MSwxMS43Mzc2NjIxIDIuODU5MTcwNDgsMTEuNzA5NjgxIEMyLjgwMTE0NTIyLDExLjY4MjkyMjMgMi43Njg1NTU3MSwxMS42MjczNjc2IDIuNzg3MzY3NTUsMTEuNTg2NDgyNyBDMi44MDQ1ODk2NSwxMS41NDQ1MTEgMi44NjcyNTE2MiwxMS41MzI4Mjk1IDIuOTI1MTQ0MzksMTEuNTYwOTQ2NSBDMi45ODMzMDIxNCwxMS41ODc3MDUxIDMuMDE2NDIxNTcsMTEuNjQzODAzMSAyLjk5NjI4NDk2LDExLjY4NDY4ODIgWiBNMy4zODk3OTkzMiwxMi4wNDQ3MDI0IEMzLjM1MTY0NTc0LDEyLjA4MDk2OTEgMy4yNzcwNjA3NywxMi4wNjQxMjYxIDMuMjI2NDU0MjYsMTIuMDA2ODA1NyBDMy4xNzQxMjU1NSwxMS45NDk2MjEgMy4xNjQzMjIyMSwxMS44NzMxNDg0IDMuMjAzMDA1NywxMS44MzYzMzgyIEMzLjI0MjM1MTU5LDExLjgwMDA3MTUgMy4zMTQ2ODQ0NSwxMS44MTcwNTAzIDMuMzY3MTQ1NjQsMTEuODc0MjM1IEMzLjQxOTQ3NDMyLDExLjkzMjA5ODggMy40Mjk2NzUxMiwxMi4wMDgwMjgxIDMuMzg5Nzk5MzIsMTIuMDQ0NzAyNCBaIE0zLjY1OTc2NTA4LDEyLjUwNTMyODMgQzMuNjEwNzQ4MzMsMTIuNTQwMjM2OCAzLjUzMDU5OTI5LDEyLjUwNzUwMTUgMy40ODEwNTI2MSwxMi40MzQ1NjA2IEMzLjQzMjAzNTgzLDEyLjM2MTYxOTUgMy40MzIwMzU4MywxMi4yNzQxNDQ2IDMuNDgyMTEyNDQsMTIuMjM5MTAwMyBDMy41MzE3OTE1NywxMi4yMDQwNTYgMy42MTA3NDgzMywxMi4yMzU1Njg4IDMuNjYwOTU3MzgsMTIuMzA3OTY2NSBDMy43MDk4NDE2OCwxMi4zODIxMjk5IDMuNzA5ODQxNjgsMTIuNDY5NjA0OCAzLjY1OTc2NTA4LDEyLjUwNTMyODMgWiBNNC4xMTYzMzQ5NSwxMy4wMzg3OTgxIEM0LjA3MjQ4NDgyLDEzLjA4ODM3NjQgMy45NzkwODgwMiwxMy4wNzUwNjUgMy45MTA3Mjk0OCwxMy4wMDc0MjE0IEMzLjg0MDc4MTI0LDEyLjk0MTI3MTggMy44MjEzMDcwMSwxMi44NDc0MTI5IDMuODY1Mjg5NjMsMTIuNzk3ODM0NyBDMy45MDk2Njk2NiwxMi43NDgxMjA3IDQuMDAzNTk2MzksMTIuNzYyMTExMyA0LjA3MjQ4NDgyLDEyLjgyOTIxMTYgQzQuMTQxOTAzMTYsMTIuODk1MjI1MyA0LjE2MzA5OTYsMTIuOTg5NzYzNCA0LjExNjMzNDk1LDEzLjAzODc5ODEgWiBNNC43MDY0MDcxOSwxMy4yMTg4OTE2IEM0LjY4NzA2NTQ2LDEzLjI4MzEzOTUgNC41OTcxMTMwNiwxMy4zMTIzNDMgNC41MDY0OTgyNywxMy4yODUwNDExIEM0LjQxNjAxNTk3LDEzLjI1NjkyNDIgNC4zNTY3OTg0MiwxMy4xODE2NzQxIDQuMzc1MDgwMzYsMTMuMTE2NzQ3IEM0LjM5Mzg5MjE5LDEzLjA1MjA5MTcgNC40ODQyNDIwMSwxMy4wMjE2NjU2IDQuNTc1NTE5MTgsMTMuMDUwODY5MiBDNC42NjU4NjkwMSwxMy4wNzg4NTAzIDQuNzI1MjE5MDUsMTMuMTUzNTU3MSA0LjcwNjQwNzE5LDEzLjIxODg5MTYgWiBNNS4zNzc5MzQxOSwxMy4yOTUyODI1IEM1LjM4MDE4NjI5LDEzLjM2MjkyNjEgNS4zMDMzNDkxOSwxMy40MTkwMjQxIDUuMjA4MjMwMTgsMTMuNDIwMjQ2NyBDNS4xMTI1ODEyNSwxMy40MjI0MiA1LjAzNTIxNDI1LDEzLjM2NzY4MDMgNS4wMzQxNTQ0MiwxMy4zMDExMjMyIEM1LjAzNDE1NDQyLDEzLjIzMjgwMDUgNS4xMDkyNjkzLDEzLjE3NzI0NTggNS4yMDQ5MTgyMywxMy4xNzU2MTU4IEM1LjMwMDAzNzI2LDEzLjE3MzcxNDIgNS4zNzc5MzQxOSwxMy4yMjgwNDY0IDUuMzc3OTM0MTksMTMuMjk1MjgyNSBaIE02LjAzNzYzNDE5LDEzLjI2OTM1NDggQzYuMDQ5MDI3MjksMTMuMzM1MzY4NSA1Ljk4MjkyMDg4LDEzLjQwMzE0NzkgNS44ODg0NjQyNSwxMy40MjEyMTM0IEM1Ljc5NTU5NzM2LDEzLjQzODU5OTcgNS43MDk2MTkyOSwxMy4zOTc4NTA1IDUuNjk3ODI4NzcsMTMuMzMyMzgwMiBDNS42ODYzMDMyMiwxMy4yNjQ3MzY1IDUuNzUzNjAxOTEsMTMuMTk2OTU3MSA1Ljg0NjMzNjMzLDEzLjE3OTQzNSBDNS45NDA5MjU0NCwxMy4xNjI1OTIgNi4wMjU1Nzg3MiwxMy4yMDIyNTQ1IDYuMDM3NjM0MTksMTMuMjY5MzU0OCBaIi8+ICA8L2c+PC9zdmc+);
}

.providerGitLab:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxMyIgdmlld0JveD0iMCAwIDE0IDEzIj4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEgLTIpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxwYXRoIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBMNC40MjgwOTMzMyw0Ljk5NzI4MjU0IEw5LjU4MDA5MzM2LDQuOTk3MjgyNTQgTDcuMDA0MDkzMzYsMTIuOTQ5MjQzMyBaIE03LjAwNDA5MzM2LDEyLjk0OTIzIEwwLjgxNzg5MzMzMyw0Ljk5NzI2OTE3IEw0LjQyODA5MzMzLDQuOTk3MjY5MTcgTDcuMDA0MDkzMzYsMTIuOTQ5MjMgWiBNMC44MTc4OTk5OTksNC45OTcyODkyMyBMNy4wMDQwOTk5OCwxMi45NDkyNSBMMC4yMjg4MzMzMzMsOC4wMTE4ODA4IEMwLjA0MTksNy44NzU2NzE1MiAtMC4wMzYzLDcuNjM0MjEyNyAwLjAzNTEsNy40MTM4MTcxMiBMMC44MTc4OTk5OTksNC45OTcyODkyMyBaIE0wLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIEwyLjM2OTM2NjY3LDAuMjA3OTA0NzE0IEMyLjQ0OTE2NjY3LC0wLjAzODUwMjM1ODggMi43OTY3NjY2NywtMC4wMzg1NjkyMjY1IDIuODc2NTY2NjcsMC4yMDc5MDQ3MTQgTDQuNDI4MSw0Ljk5NzI5NTkxIEwwLjgxNzg5OTk5OSw0Ljk5NzI5NTkxIFogTTcuMDA0MDkzMzYsMTIuOTQ5MjMgTDkuNTgwMDkzMzYsNC45OTcyNjkxNyBMMTMuMTkwMjkzMyw0Ljk5NzI2OTE3IEw3LjAwNDA5MzM2LDEyLjk0OTIzIFogTTEzLjE5MDI5MzMsNC45OTcyODkyMyBMMTMuOTczMDkzMyw3LjQxMzgxNzEyIEMxNC4wNDQ0OTMzLDcuNjM0MjEyNyAxMy45NjYyOTM0LDcuODc1NjcxNTIgMTMuNzc5MzYsOC4wMTE4ODA4IEw3LjAwNDA5MzM2LDEyLjk0OTI1IEwxMy4xOTAyOTMzLDQuOTk3Mjg5MjMgWiBNMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIEw5LjU4MDA5MzM2LDQuOTk3Mjk1OTEgTDExLjEzMTYyNjcsMC4yMDc5MDQ3MTQgQzExLjIxMTQyNjcsLTAuMDM4NTY5MjI2NSAxMS41NTkwMjY3LC0wLjAzODUwMjM1ODggMTEuNjM4ODI2NywwLjIwNzkwNDcxNCBMMTMuMTkwMjkzMyw0Ljk5NzI5NTkxIFoiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEgMikiLz4gIDwvZz48L3N2Zz4=);
}

.providerBitbucket:before {
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNCIgaGVpZ2h0PSIxNiIgdmlld0JveD0iMCAwIDE0IDE2Ij4gIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoLTEpIj4gICAgPHJlY3Qgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+ICAgIDxnIGZpbGw9IiNGRkZGRkYiIGZpbGwtcnVsZT0ibm9uemVybyIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMSkiPiAgICAgIDxwYXRoIGQ9Ik03LDIuNDk4OTQxODdlLTA3IEw3LDIuNDk4OTQxODdlLTA3IEMzLjE1NzIxMjI5LDIuNDk4OTQxODdlLTA3IDAuMDAwNjM2NTM1NDM1LDEuMDIwODQ0MjQgMC4wMDA2MzY1MzU0MzUsMi4zMTM5MTM1OSBDMC4wMDA2MzY1MzU0MzUsMi42NTQxOTUxMyAwLjgyNDA5MTAyMyw3LjQ4NjE5MiAxLjE2NzE5NzE3LDkuMzkxNzY3NTkgQzEuMzA0NDM5MzcsMTAuMjc2NDk5OSAzLjU2ODkzOTUzLDExLjUwMTUxMyA3LDExLjUwMTUxMyBMNywxMS41MDE1MTMgQzEwLjQzMTA2MDIsMTEuNTAxNTEzIDEyLjYyNjkzODYsMTAuMjc2NDk5OSAxMi44MzI4MDMyLDkuMzkxNzY3NTkgQzEzLjE3NTkwODYsNy40ODYxOTIgMTMuOTk5MzYzMiwyLjY1NDE5NTEzIDEzLjk5OTM2MzIsMi4zMTM5MTM1OSBDMTMuOTMwNzQyMSwxLjAyMDg0NDI0IDEwLjg0Mjc4NzQsMi40OTg5NDE4N2UtMDcgNywyLjQ5ODk0MTg3ZS0wNyBMNywyLjQ5ODk0MTg3ZS0wNyBaIE03LDkuOTM2MjE4MzEgQzUuNzY0ODE4MjgsOS45MzYyMTgzMSA0LjgwNDEyMTI2LDguOTgzNDI5ODYgNC44MDQxMjEyNiw3Ljc1ODQxNjcxIEM0LjgwNDEyMTI2LDYuNTMzNDAzNTUgNS43NjQ4MTgyOCw1LjU4MDYxNTk3IDcsNS41ODA2MTU5NyBDOC4yMzUxODExMiw1LjU4MDYxNTk3IDkuMTk1ODc4NCw2LjUzMzQwMzU1IDkuMTk1ODc4NCw3Ljc1ODQxNjcxIEM5LjE5NTg3ODQsOC45MTUzNzM3MiA4LjIzNTE4MTEyLDkuOTM2MjE4MzEgNyw5LjkzNjIxODMxIEw3LDkuOTM2MjE4MzEgWiBNNywyLjk5NDQ3NjY3IEM0LjUyOTYzNjIyLDIuOTk0NDc2NjcgMi41Mzk2MjExLDIuNTg2MTM4OTUgMi41Mzk2MjExLDIuMDQxNjg4ODYgQzIuNTM5NjIxMSwxLjQ5NzIzODE1IDQuNTI5NjM2MjIsMS4wODg5MDA0MyA3LDEuMDg4OTAwNDMgQzkuNDcwMzYyODQsMS4wODg5MDA0MyAxMS40NjAzNzg2LDEuNDk3MjM4MTUgMTEuNDYwMzc4NiwyLjA0MTY4ODg2IEMxMS40NjAzNzg2LDIuNTg2MTM4OTUgOS40NzAzNjI4NCwyLjk5NDQ3NjY3IDcsMi45OTQ0NzY2NyBMNywyLjk5NDQ3NjY3IFoiLz4gICAgICA8cGF0aCBkPSJNMTIuMDY0NTA5NiwxMS4yMjkyODc2IEMxMS45MjcyNjY3LDExLjIyOTI4NzYgMTEuODU4NjQ1NywxMS4yOTczNDM4IDExLjg1ODY0NTcsMTEuMjk3MzQzOCBDMTEuODU4NjQ1NywxMS4yOTczNDM4IDEwLjE0MzExNTYsMTIuNjU4NDcgNy4wNTUxNjA5MywxMi42NTg0NyBDMy45NjcyMDY4NywxMi42NTg0NyAyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4yNTE2NzYxNiwxMS4yOTczNDM4IEMyLjI1MTY3NjE2LDExLjI5NzM0MzggMi4xMTQ0MzM5NSwxMS4yMjkyODc2IDIuMDQ1ODEyODUsMTEuMjI5Mjg3NiBDMS45MDg1NzAwMiwxMS4yMjkyODc2IDEuNzcxMzI3ODEsMTEuMjk3MzQzOCAxLjc3MTMyNzgxLDExLjUwMTUxMyBMMS43NzEzMjc4MSwxMS41Njk1NjkyIEMyLjA0NTgxMjg1LDEyLjk5ODc1MTYgMi4yNTE2NzYxNiwxNC4wMTk1OTU2IDIuMjUxNjc2MTYsMTQuMTU1NzA3OSBDMi40NTc1NDAwOSwxNS4xNzY1NTI1IDQuNTE2MTc2MzIsMTUuOTkzMjI4IDYuOTg2NTM5ODIsMTUuOTkzMjI4IEw2Ljk4NjUzOTgyLDE1Ljk5MzIyOCBDOS40NTY5MDMzMSwxNS45OTMyMjggMTEuNTE1NTM5NSwxNS4xNzY1NTI1IDExLjcyMTQwMzUsMTQuMTU1NzA3OSBDMTEuNzIxNDAzNSwxNC4wMTk1OTU2IDExLjkyNzI2NjcsMTIuOTk4NzUxNiAxMi4yMDE3NTE4LDExLjU2OTU2OTIgTDEyLjIwMTc1MTgsMTEuNTAxNTEzIEMxMi4yNzAzNzI5LDExLjM2NTQgMTIuMjAxNzUxOCwxMS4yMjkyODc2IDEyLjA2NDUwOTYsMTEuMjI5Mjg3NiBMMTIuMDY0NTA5NiwxMS4yMjkyODc2IFoiLz4gICAgICA8ZWxsaXBzZSBjeD0iNyIgY3k9IjcuNjkiIHJ4PSIxLjA5OCIgcnk9IjEuMDg5Ii8+ICAgIDwvZz4gIDwvZz48L3N2Zz4=);
}

.callOut {
  display: block;
  padding: var(--basePadding);
  font-size: 14px;
  font-weight: 500;
  text-decoration: none;
  color: var(--subduedColor);
  text-align: center;
}

.callOut:after {
  content: " \u2665";
  transition: color 4s ease;
}

.callOut:hover:after {
  color: red;
}

.callOut .netlifyLogo {
  display: block;
  margin: auto;
  width: 32px;
  height: 32px;
  margin-bottom: 8px;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMiIgaGVpZ2h0PSIzMiIgdmlld0JveD0iMCAwIDMyIDMyIj4gIDxkZWZzPiAgICA8cmFkaWFsR3JhZGllbnQgaWQ9ImEiIGN5PSIwJSIgcj0iMTAwJSIgZng9IjUwJSIgZnk9IjAlIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KDAgMSAtMS4xNTE4NSAwIC41IC0uNSkiPiAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMyMEM2QjciIG9mZnNldD0iMCUiLz4gICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjNEQ5QUJGIiBvZmZzZXQ9IjEwMCUiLz4gICAgPC9yYWRpYWxHcmFkaWVudD4gIDwvZGVmcz4gIDxwYXRoIGZpbGw9InVybCgjYSkiIGZpbGwtcnVsZT0iZXZlbm9kZCIgZD0iTTIyLjk4MDYyMywxMS42MjYyMzc3IEMyMi44NzE3MTA3LDExLjUwNTEzMDYgMjIuNzM1NTcwNCwxMS4zOTc0Nzk4IDIyLjU3MjIwMjEsMTEuMzE2NzQxOCBDMjIuNTU4NTg4MSwxMS4zMTY3NDE4IDIyLjU0NDk3NCwxMS4yODk4MjkxIDIyLjUzMTM2LDExLjI3NjM3MjcgTDIzLjE3MTIxOTQsNy4zNjA1NzY2MSBDMjMuMTcxMjE5NCw3LjMzMzY2MzkyIDIzLjE4NDgzMzQsNy4zMjAyMDc1OCAyMy4xOTg0NDc1LDcuMzIwMjA3NTggTDIzLjIxMjA2MTUsNy4zMjAyMDc1OCBDMjMuMjEyMDYxNSw3LjMyMDIwNzU4IDIzLjIyNTY3NTUsNy4zMjAyMDc1OCAyMy4yMzkyODk2LDcuMzMzNjYzOTIgTDI2LjE2NjMwNiwxMC4yMjY3Nzc5IEMyNi4xNzk5MiwxMC4yNDAyMzQzIDI2LjE3OTkyLDEwLjI1MzY5MDYgMjYuMTc5OTIsMTAuMjY3MTQ2OSBDMjYuMTc5OTIsMTAuMjgwNjAzMyAyNi4xNjYzMDYsMTAuMjk0MDU5NiAyNi4xNTI2OTE5LDEwLjMwNzUxNiBMMjMuMDIxNDY1MSwxMS42Mzk2OTQgTDIzLjAwNzg1MSwxMS42Mzk2OTQgQzIyLjk5NDIzNywxMS42Mzk2OTQgMjIuOTk0MjM3LDExLjYzOTY5NCAyMi45ODA2MjMsMTEuNjI2MjM3NyBaIE0xNi4zNTA1NzM2LDkuNDU5NzM4MSBDMTYuMzIzMzQ1Myw5LjE5MDYxMjc0IDE2LjIyODA0NjMsOC45MjE0ODczOCAxNi4wNzgyOTA2LDguNjkyNzMwODMgQzE2LjA2NDY3NjUsOC42NzkyNzQ1NiAxNi4wNjQ2NzY1LDguNjUyMzYyMDIgMTYuMDc4MjkwNiw4LjYyNTQ0OTQ5IEwxOS4zNTkzMDEsMy41Mzg5ODAyMiBDMTkuMzU5MzAxLDMuNTI1NTIzOTUgMTkuMzcyOTE1MSwzLjUxMjA2NzY4IDE5LjM4NjUyOTMsMy41MTIwNjc2OCBDMTkuNDAwMTQzNCwzLjUxMjA2NzY4IDE5LjQwMDE0MzQsMy41MTIwNjc2OCAxOS40MTM3NTc2LDMuNTI1NTIzOTUgTDIyLjMyNzE4NTgsNi40MTg2MjE1NSBDMjIuMzQwOCw2LjQzMjA3NzgyIDIyLjM0MDgsNi40NDU1MzQwOSAyMi4zNDA4LDYuNDU4OTkwMzUgTDIxLjU3ODQwNzYsMTEuMTgyMTQwNCBDMjEuNTc4NDA3NiwxMS4yMDkwNTI5IDIxLjU2NDc5MzQsMTEuMjIyNTA5MiAyMS41NTExNzkzLDExLjIyMjUwOTIgQzIxLjM3NDE5NTMsMTEuMjc2MzM0MyAyMS4yMTA4MjU1LDExLjM1NzA3MTkgMjEuMDc0Njg0LDExLjQ2NDcyMiBDMjEuMDc0Njg0LDExLjQ3ODE3ODMgMjEuMDYxMDY5OCwxMS40NzgxNzgzIDIxLjAzMzg0MTUsMTEuNDc4MTc4MyBMMTYuMzc3ODAxOSw5LjUwMDEwNjkgQzE2LjM2NDE4NzgsOS40ODY2NTA2MyAxNi4zNTA1NzM2LDkuNDczMTk0MzcgMTYuMzUwNTczNiw5LjQ1OTczODEgWiBNMjYuOTgzMTkwNywxMS4wMjA3NjY5IEwzMS45Nzk1Nzg4LDE1Ljk3MjY2NCBDMzIuMDA2ODA3MSwxNS45ODYxMjAyIDMyLjAwNjgwNzEsMTYuMDI2NDg4OSAzMS45Nzk1Nzg4LDE2LjAyNjQ4ODkgTDMxLjk1MjM1MDUsMTYuMDUzNDAxNCBDMzEuOTUyMzUwNSwxNi4wNjY4NTc3IDMxLjkzODczNjQsMTYuMDY2ODU3NyAzMS45MTE1MDgxLDE2LjA2Njg1NzcgTDIzLjU1MjQyODMsMTIuNTI3ODY2IEMyMy41Mzg4MTQxLDEyLjUyNzg2NiAyMy41MjUyLDEyLjUwMDk1MzUgMjMuNTI1MiwxMi40ODc0OTczIEMyMy41MjUyLDEyLjQ3NDA0MSAyMy41Mzg4MTQxLDEyLjQ2MDU4NDggMjMuNTUyNDI4MywxMi40NDcxMjg2IEwyNi45NTU5NjI0LDExLjAwNzMxMDcgQzI2Ljk1NTk2MjQsMTEuMDA3MzEwNyAyNi45Njk1NzY1LDExLjAwNzMxMDcgMjYuOTgzMTkwNywxMS4wMjA3NjY5IFogTTIzLjEzMDQzNjMsMTMuMzg5MDg4MSBMMzEuMTQ5MTg1OCwxNi43ODAwNzYxIEMzMS4xNjI4LDE2Ljc5MzUzMjQgMzEuMTYyOCwxNi44MDY5ODg3IDMxLjE2MjgsMTYuODIwNDQ1IEMzMS4xNjI4LDE2LjgzMzkwMTMgMzEuMTYyOCwxNi44NDczNTc2IDMxLjE0OTE4NTgsMTYuODYwODEzOSBMMjYuNzEwOTY0NSwyMS4yNjEwMjQ1IEMyNi43MTA5NjQ1LDIxLjI3NDQ4MDggMjYuNjk3MzUwMywyMS4yNzQ0ODA4IDI2LjY3MDEyMiwyMS4yNzQ0ODA4IEwyMS44MjM0NzU0LDIwLjI2NTI1ODIgQzIxLjc5NjI0NywyMC4yNjUyNTgyIDIxLjc4MjYzMjksMjAuMjUxODAxOSAyMS43ODI2MzI5LDIwLjIyNDg4OTMgQzIxLjc0MTc5MDMsMTkuODQ4MTEyOCAyMS41NjQ4MDYsMTkuNTExNzA1MyAyMS4yNjUyOTQyLDE5LjI4Mjk0ODEgQzIxLjI1MTY4LDE5LjI2OTQ5MTggMjEuMjUxNjgsMTkuMjU2MDM1NSAyMS4yNTE2OCwxOS4yNDI1NzkyIEwyMi4xMDkzNzMxLDEzLjk4MTE2NTMgQzIyLjEwOTM3MzEsMTMuOTU0MjUyNyAyMi4xMzY2MDE0LDEzLjk0MDc5NjQgMjIuMTUwMjE1NiwxMy45NDA3OTY0IEMyMi41MzE0MTI1LDEzLjg4Njk3MTIgMjIuODU4MTUyNywxMy42OTg1ODMgMjMuMDc1OTc5NiwxMy40MDI1NDQ0IEMyMy4wODk1OTM3LDEzLjM4OTA4ODEgMjMuMTAzMjA3OSwxMy4zODkwODgxIDIzLjEzMDQzNjMsMTMuMzg5MDg4MSBaIE0xNi4xNDYzNzksMTAuNDI4Njg1OSBMMjAuNTMwMTMxNywxMi4yODU2NTMyIEMyMC41NDM3NDU5LDEyLjI5OTEwOTUgMjAuNTU3MzYsMTIuMzEyNTY1OCAyMC41NTczNiwxMi4zMzk0NzgzIEMyMC41NDM3NDU5LDEyLjQwNjc1OTggMjAuNTMwMTMxNywxMi40ODc0OTc1IDIwLjUzMDEzMTcsMTIuNTY4MjM1MiBMMjAuNTMwMTMxNywxMi42MzU1MTY2IEwyMC41MzAxMzE3LDEyLjY4OTM0MTcgQzIwLjUzMDEzMTcsMTIuNzAyNzk4IDIwLjUxNjUxNzYsMTIuNzE2MjU0MyAyMC41MDI5MDM0LDEyLjcyOTcxMDYgQzIwLjUwMjkwMzQsMTIuNzI5NzEwNiAxMC44Nzc3MDcyLDE2LjgzMzg3NzUgMTAuODY0MDkzLDE2LjgzMzg3NzUgQzEwLjg1MDQ3ODksMTYuODMzODc3NSAxMC44MzY4NjQ3LDE2LjgzMzg3NzUgMTAuODIzMjUwNiwxNi44MjA0MjEyIEMxMC44MDk2MzY1LDE2LjgwNjk2NDkgMTAuODA5NjM2NSwxNi43ODAwNTI0IDEwLjgyMzI1MDYsMTYuNzY2NTk2MSBMMTQuNDMwOTk3NCwxMS4xODIyMzc4IEMxNC40NDQ2MTE2LDExLjE2ODc4MTUgMTQuNDU4MjI1NywxMS4xNTUzMjUzIDE0LjQ4NTQ1NCwxMS4xNTUzMjUzIEMxNC41ODA3NTMsMTEuMTY4NzgxNSAxNC42NjI0Mzc4LDExLjE4MjIzNzggMTQuNzQ0MTIyNiwxMS4xODIyMzc4IEMxNS4yODg2ODgyLDExLjE4MjIzNzggMTUuNzkyNDExMywxMC45MTMxMTIxIDE2LjA5MTkyMjQsMTAuNDU1NTk4NCBDMTYuMTA1NTM2NSwxMC40NDIxNDIyIDE2LjExOTE1MDcsMTAuNDI4Njg1OSAxNi4xNDYzNzksMTAuNDI4Njg1OSBaIE0yMS41NTExNDI5LDIxLjE4MDI0MzMgTDI1LjgxMjM3MTcsMjIuMDU0OTA1MyBDMjUuODI1OTg1OSwyMi4wNTQ5MDUzIDI1LjgzOTYsMjIuMDY4MzYxNiAyNS44Mzk2LDIyLjEwODczMDcgQzI1LjgzOTYsMjIuMTIyMTg3IDI1LjgzOTYsMjIuMTM1NjQzMyAyNS44MjU5ODU5LDIyLjE0OTA5OTcgTDE5LjkxNzQ0NDksMjguMDAyNjA3MiBDMTkuOTE3NDQ0OSwyOC4wMTYwNjM2IDE5LjkwMzgzMDcsMjguMDE2MDYzNiAxOS44OTAyMTY2LDI4LjAxNjA2MzYgTDE5Ljg2Mjk4ODMsMjguMDE2MDYzNiBDMTkuODQ5Mzc0MSwyOC4wMDI2MDcyIDE5LjgzNTc2LDI3Ljk4OTE1MDkgMTkuODM1NzYsMjcuOTYyMjM4MiBMMjAuODU2ODIxMiwyMS42OTE1ODQxIEMyMC44NTY4MjEyLDIxLjY3ODEyNzggMjAuODcwNDM1NCwyMS42NTEyMTUxIDIwLjg4NDA0OTUsMjEuNjUxMjE1MSBDMjEuMTI5MTA0MiwyMS41NTcwMjA4IDIxLjMzMzMxNjUsMjEuMzk1NTQ0NyAyMS40OTY2ODYzLDIxLjE5MzY5OTYgQzIxLjUxMDMwMDQsMjEuMTkzNjk5NiAyMS41MjM5MTQ2LDIxLjE4MDI0MzMgMjEuNTUxMTQyOSwyMS4xODAyNDMzIFogTTE5LjA0NjE2NzksMjAuNjgyNDAzIEMxOS4xNTUwODE0LDIxLjA5OTU0ODcgMTkuNDU0NTkzMywyMS40NjI4NjkyIDE5Ljg2MzAxODcsMjEuNjI0MzQ0OSBDMTkuODkwMjQ3MSwyMS42Mzc4MDEyIDE5Ljg5MDI0NzEsMjEuNjY0NzEzOSAxOS44NjMwMTg3LDIxLjY2NDcxMzkgQzE5Ljg2MzAxODcsMjEuNjY0NzEzOSAxOC42MjQxMjgzLDI5LjIxMzcwNTQgMTguNjI0MTI4MywyOS4yMjcxNjE3IEwxOC4xODg0NzQ2LDI5LjY1Nzc2MzcgQzE4LjE4ODQ3NDYsMjkuNjcxMjIwMSAxOC4xNzQ4NjA0LDI5LjY3MTIyMDEgMTguMTYxMjQ2MiwyOS42NzEyMjAxIEMxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xNDc2MzIsMjkuNjcxMjIwMSAxOC4xMzQwMTc4LDI5LjY1Nzc2MzcgTDEwLjk0NTczMDYsMTkuMjY5NDkwMSBDMTAuOTMyMTE2NSwxOS4yNTYwMzM4IDEwLjkzMjExNjUsMTkuMjI5MTIxMiAxMC45NDU3MzA2LDE5LjIxNTY2NDkgQzEwLjk4NjU3MzIsMTkuMTYxODM5NiAxMS4wMTM4MDE1LDE5LjEwODAxNDQgMTEuMDU0NjQ0MSwxOS4wNDA3MzI4IEMxMS4wNjgyNTgzLDE5LjAyNzI3NjUgMTEuMDgxODcyNCwxOS4wMTM4MjAyIDExLjEwOTEwMDgsMTkuMDEzODIwMiBMMTkuMDA1MzI1NCwyMC42NDIwMzQxIEMxOS4wMzI1NTM3LDIwLjY1NTQ5MDQgMTkuMDQ2MTY3OSwyMC42Njg5NDY3IDE5LjA0NjE2NzksMjAuNjgyNDAzIFogTTExLjMxMzM2NDcsMTguMDk4NzI4NiBDMTEuMjg2MTM2NSwxOC4wOTg3Mjg2IDExLjI3MjUyMjQsMTguMDg1MjcyNCAxMS4yNzI1MjI0LDE4LjA1ODM1OTggQzExLjI3MjUyMjQsMTcuOTUwNzA5NiAxMS4yNDUyOTQxLDE3Ljg1NjUxNTcgMTEuMjMxNjgsMTcuNzQ4ODY1NCBDMTEuMjMxNjgsMTcuNzIxOTUyOSAxMS4yMzE2OCwxNy43MDg0OTY2IDExLjI1ODkwODIsMTcuNjk1MDQwMyBDMTEuMjU4OTA4MiwxNy42OTUwNDAzIDIwLjkzODU0NTksMTMuNTYzOTYzNSAyMC45NTIxNiwxMy41NjM5NjM1IEMyMC45NTIxNiwxMy41NjM5NjM1IDIwLjk2NTc3NDEsMTMuNTYzOTYzNSAyMC45NzkzODgyLDEzLjU3NzQxOTcgQzIxLjA0NzQ1ODgsMTMuNjQ0NzAxMSAyMS4xMDE5MTUzLDEzLjY4NTA2OTkgMjEuMTU2MzcxOCwxMy43MjU0Mzg4IEMyMS4xODM2LDEzLjcyNTQzODggMjEuMTgzNiwxMy43NTIzNTEzIDIxLjE4MzYsMTMuNzY1ODA3NiBMMjAuMzM5NTI0NywxOC45NDY0NzQxIEMyMC4zMzk1MjQ3LDE4Ljk3MzM4NjYgMjAuMzI1OTEwNiwxOC45ODY4NDI5IDIwLjI5ODY4MjQsMTguOTg2ODQyOSBDMTkuODM1ODAyNCwxOS4wMTM3NTU0IDE5LjQyNzM3ODgsMTkuMjgyODgxIDE5LjE5NTkzODgsMTkuNjg2NTY5MyBDMTkuMTgyMzI0NywxOS43MDAwMjU1IDE5LjE2ODcxMDYsMTkuNzEzNDgxOCAxOS4xNDE0ODI0LDE5LjcxMzQ4MTggTDExLjMxMzM2NDcsMTguMDk4NzI4NiBaIE03Ljg2ODk3NzU4LDE5LjE4ODcyOTEgQzcuOTA5ODIwMywxOS4yNTYwMTExIDcuOTUwNjYzMDMsMTkuMzA5ODM2NyA3Ljk5MTUwNTc2LDE5LjM2MzY2MjMgQzguMDA1MTIsMTkuMzc3MTE4NyA4LjAwNTEyLDE5LjM5MDU3NTEgOC4wMDUxMiwxOS4zOTA1NzUxIEw2LjEzOTk2ODc5LDIyLjI4MzcwMDcgQzYuMTI2MzU0NTUsMjIuMjk3MTU3MSA2LjExMjc0MDMsMjIuMzEwNjEzNSA2LjA5OTEyNjA2LDIyLjMxMDYxMzUgQzYuMDk5MTI2MDYsMjIuMzEwNjEzNSA2LjA4NTUxMTgyLDIyLjMxMDYxMzUgNi4wNzE4OTc1OCwyMi4yOTcxNTcxIEw0LjQyNDU3NDI0LDIwLjY2ODkzMjkgQzQuNDEwOTYsMjAuNjU1NDc2NSA0LjQxMDk2LDIwLjY0MjAyMDEgNC40MTA5NiwyMC42Mjg1NjM3IEM0LjQxMDk2LDIwLjYxNTEwNzMgNC40MjQ1NzQyNCwyMC42MDE2NTA5IDQuNDM4MTg4NDgsMjAuNjAxNjUwOSBMNy44MTQ1MjA2MSwxOS4xNjE4MTYzIEw3LjgyODEzNDg1LDE5LjE2MTgxNjMgQzcuODQxNzQ5MDksMTkuMTYxODE2MyA3Ljg1NTM2MzMzLDE5LjE3NTI3MjcgNy44Njg5Nzc1OCwxOS4xODg3MjkxIFogTTEwLjE4MzMxOTEsMTkuODYxNTU3OSBDMTAuMTk2OTMzMiwxOS44NjE1NTc5IDEwLjIxMDU0NzMsMTkuODc1MDE0MiAxMC4yMjQxNjE0LDE5Ljg4ODQ3MDYgTDE3LjQzOTYyOTQsMzAuMzU3NDg3OCBDMTcuNDUzMjQzNSwzMC4zNzA5NDQxIDE3LjQ1MzI0MzUsMzAuMzk3ODU2NyAxNy40Mzk2Mjk0LDMwLjQxMTMxMzEgTDE1Ljg2MDM5NDksMzEuOTg1NzAyNSBDMTUuODYwMzk0OSwzMS45OTkxNTg5IDE1Ljg0Njc4MDgsMzEuOTk5MTU4OSAxNS44MDU5Mzg2LDMxLjk4NTcwMjUgTDYuNzkzNDEwNTcsMjMuMDY0MTYyMiBDNi43Nzk3OTY0OCwyMy4wNTA3MDU4IDYuNzc5Nzk2NDgsMjMuMDIzNzkzMiA2LjgwNzAyNDY2LDIyLjk5Njg4MDYgTDguNzY3NDUzNzEsMTkuOTU1NzUyMiBDOC43ODEwNjc4LDE5Ljk0MjI5NTggOC43OTQ2ODE4OSwxOS45Mjg4Mzk1IDguODIxOTEwMDcsMTkuOTI4ODM5NSBDOS4wMjYxMjE0MywxOS45OTYxMjExIDkuMjE2NzE4NywyMC4wMjMwMzM4IDkuNDIwOTMwMDYsMjAuMDIzMDMzOCBDOS42Nzk1OTc3OCwyMC4wMjMwMzM4IDkuOTI0NjUxNDEsMTkuOTY5MjA4NSAxMC4xODMzMTkxLDE5Ljg2MTU1NzkgWiBNOC45OTg5MTg1NiwxNi40MDMyMzIyIEM4Ljk4NTMwNDM5LDE2LjQwMzIzMjIgOC45NzE2OTAyMiwxNi4zODk3NzU5IDguOTU4MDc2MDQsMTYuMzc2MzE5NiBMNS4wOTE2NTA2MywxMC43MzgxMzg4IEM1LjA3ODAzNjQ2LDEwLjcyNDY4MjUgNS4wNzgwMzY0NiwxMC42OTc3NyA1LjA5MTY1MDYzLDEwLjY4NDMxMzcgTDguNTYzMjY1LDcuMjM5NTA2MzMgQzguNTYzMjY1LDcuMjI2MDUwMDYgOC41NzY4NzkxNyw3LjIyNjA1MDA2IDguNjA0MTA3NTIsNy4yMjYwNTAwNiBDOC42MDQxMDc1Miw3LjIzOTUwNjMzIDEyLjcwMTk3MzksOC45NjE5MTAwMiAxMy4xNjQ4NTU4LDkuMTYzNzU0MiBDMTMuMTc4NDcsOS4xNzcyMTA0OCAxMy4xOTIwODQyLDkuMTkwNjY2NzYgMTMuMTkyMDg0Miw5LjIxNzU3OTMyIEMxMy4xNjQ4NTU4LDkuMzM4Njg1ODMgMTMuMTUxMjQxNiw5LjQ1OTc5MjM0IDEzLjE1MTI0MTYsOS41ODA4OTg4NCBDMTMuMTUxMjQxNiw5Ljk5ODA0MzQ5IDEzLjMxNDYxMTcsMTAuMzg4Mjc1NiAxMy42MDA1MDk0LDEwLjY4NDMxMzcgQzEzLjYxNDEyMzUsMTAuNjk3NzcgMTMuNjE0MTIzNSwxMC43MjQ2ODI1IDEzLjYwMDUwOTQsMTAuNzM4MTM4OCBMOS45NTE5MTA3NCwxNi4zODk3NzU5IEM5LjkzODI5NjU3LDE2LjQwMzIzMjIgOS45MjQ2ODIzOSwxNi40MTY2ODg1IDkuODk3NDU0MDUsMTYuNDE2Njg4NSBDOS43NDc2OTgxMywxNi4zNzYzMTk2IDkuNTg0MzI4MDQsMTYuMzQ5NDA3MSA5LjQzNDU3MjEzLDE2LjM0OTQwNzEgQzkuMjk4NDMwMzksMTYuMzQ5NDA3MSA5LjE0ODY3NDQ4LDE2LjM3NjMxOTYgOC45OTg5MTg1NiwxNi40MDMyMzIyIFogTTEzLjY2ODYwMTksOC4zNTY0MjAzNCBDMTMuNDkxNjE4Niw4LjI3NTY4MTk4IDkuMzUyOTMzMjQsNi41MjYzNTA4MyA5LjM1MjkzMzI0LDYuNTI2MzUwODMgQzkuMzM5MzE5MTQsNi41MTI4OTQ0NCA5LjMyNTcwNTA1LDYuNTEyODk0NDQgOS4zMzkzMTkxNCw2LjQ4NTk4MTY1IEM5LjMzOTMxOTE0LDYuNDcyNTI1MjYgOS4zMzkzMTkxNCw2LjQ1OTA2ODg2IDkuMzUyOTMzMjQsNi40NDU2MTI0NyBMMTUuODMzMjQzMiwwLjAxMzQ1NjM5MzUgQzE1LjgzMzI0MzIsMCAxNS44NDY4NTczLDAgMTUuODYwNDcxNCwwIEMxNS44NzQwODU1LDAgMTUuODc0MDg1NSwwIDE1Ljg4NzY5OTYsMC4wMTM0NTYzOTM1IEwxOC42Nzg1ODk0LDIuNzcyMDE3MDUgQzE4LjY5MjIwMzUsMi43ODU0NzM0NSAxOC42OTIyMDM1LDIuODEyMzg2MjMgMTguNjc4NTg5NCwyLjgyNTg0MjYzIEwxNS4zMTU5MDc2LDguMDMzNDY2OSBDMTUuMzAyMjkzNSw4LjA0NjkyMzI5IDE1LjI4ODY3OTQsOC4wNjAzNzk2OSAxNS4yNjE0NTEyLDguMDYwMzc5NjkgQzE1LjA4NDQ2NzksOC4wMDY1NTQxMSAxNC45MDc0ODQ3LDcuOTc5NjQxMzMgMTQuNzMwNTAxNCw3Ljk3OTY0MTMzIEMxNC4zNjI5MjA4LDcuOTc5NjQxMzMgMTMuOTk1MzQwMiw4LjExNDIwNTI2IDEzLjcwOTQ0NDIsOC4zNDI5NjM5NSBDMTMuNjk1ODMwMSw4LjM1NjQyMDM0IDEzLjY5NTgzMDEsOC4zNTY0MjAzNCAxMy42Njg2MDE5LDguMzU2NDIwMzQgWiBNNy43ODcyODk5NSwxNy4zMzE3NTExIEM3Ljc3MzY3NTgxLDE3LjM0NTIwNzQgNy43NjAwNjE2NywxNy4zNTg2NjM3IDcuNzQ2NDQ3NTIsMTcuMzU4NjYzNyBMMC4wNDA4NDI0Mjk4LDE1Ljc0MzkwOCBDMC4wMTM2MTQxNDMzLDE1Ljc0MzkwOCAwLDE1LjczMDQ1MTcgMCwxNS43MTY5OTU0IEMwLDE1LjcwMzUzOTEgMCwxNS42OTAwODI4IDAuMDEzNjE0MTQzMywxNS42NzY2MjY1IEw0LjMxNTY4MzQyLDExLjQyNDQzNjMgQzQuMzE1NjgzNDIsMTEuNDEwOTgwMSA0LjMyOTI5NzU2LDExLjQxMDk4MDEgNC4zNDI5MTE3MSwxMS40MTA5ODAxIEM0LjM3MDEzOTk5LDExLjQyNDQzNjMgNC4zNzAxMzk5OSwxMS40MjQ0MzYzIDQuMzgzNzU0MTMsMTEuNDM3ODkyNiBDNC4zODM3NTQxMywxMS40NTEzNDg5IDguMDczMTg2OTYsMTYuNzgwMDQyOSA4LjExNDAyOTM5LDE2LjgzMzg2ODEgQzguMTI3NjQzNTQsMTYuODQ3MzI0NCA4LjEyNzY0MzU0LDE2Ljg3NDIzNyA4LjExNDAyOTM5LDE2Ljg4NzY5MzMgQzcuOTkxNTAyMSwxNy4wMjIyNTYzIDcuODY4OTc0ODEsMTcuMTcwMjc1NSA3Ljc4NzI4OTk1LDE3LjMzMTc1MTEgWiBNNy4zNTE1NTc4MywxOC4yNDY3NDY0IEM3LjM3ODc4NTk0LDE4LjI0Njc0NjQgNy4zOTI0LDE4LjI2MDIwMjcgNy4zOTI0LDE4LjI4NzExNTEgQzcuMzkyNCwxOC4zMDA1NzEzIDcuMzc4Nzg1OTQsMTguMzE0MDI3NSA3LjM1MTU1NzgzLDE4LjM0MDkzOTkgTDMuNjM0OTIsMTkuOTE1MzE2NSBDMy42MzQ5MiwxOS45MTUzMTY1IDMuNjIxMzA1OTQsMTkuOTE1MzE2NSAzLjYwNzY5MTg4LDE5LjkwMTg2MDMgTDAuNjI2MjEzMTg1LDE2Ljk0MTQ5NDEgQzAuNjEyNTk5MTI3LDE2LjkyODAzNzggMC41OTg5ODUwNjksMTYuOTAxMTI1NCAwLjYxMjU5OTEyNywxNi44ODc2NjkyIEMwLjYyNjIxMzE4NSwxNi44NzQyMTMgMC42Mzk4MjcyNDMsMTYuODYwNzU2OCAwLjY2NzA1NTM1OSwxNi44NjA3NTY4IEw3LjM1MTU1NzgzLDE4LjI0Njc0NjQgWiIvPjwvc3ZnPg==);
}

.visuallyHidden {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;
  white-space: nowrap;
}

.subheader {
  margin-top: 2em;
  border-top: 1px solid rgb(14, 30, 37);

  h3 {
    padding-top: 1em;
    text-align: center;
  }
}
`],sourceRoot:""}]),st.default=Et}]).default})})(netlifyIdentity$1);const netlifyIdentity=getDefaultExportFromCjs(netlifyIdentity$1.exports);function e(nt){this.message=nt}e.prototype=new Error,e.prototype.name="InvalidCharacterError";var r=typeof window<"u"&&window.atob&&window.atob.bind(window)||function(nt){var rt=String(nt).replace(/=+$/,"");if(rt.length%4==1)throw new e("'atob' failed: The string to be decoded is not correctly encoded.");for(var it,st,bt=0,wt=0,Et="";st=rt.charAt(wt++);~st&&(it=bt%4?64*it+st:st,bt++%4)?Et+=String.fromCharCode(255&it>>(-2*bt&6)):0)st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(st);return Et};function t(nt){var rt=nt.replace(/-/g,"+").replace(/_/g,"/");switch(rt.length%4){case 0:break;case 2:rt+="==";break;case 3:rt+="=";break;default:throw"Illegal base64url string!"}try{return function(it){return decodeURIComponent(r(it).replace(/(.)/g,function(st,bt){var wt=bt.charCodeAt(0).toString(16).toUpperCase();return wt.length<2&&(wt="0"+wt),"%"+wt}))}(rt)}catch{return r(rt)}}function n(nt){this.message=nt}function o(nt,rt){if(typeof nt!="string")throw new n("Invalid token specified");var it=(rt=rt||{}).header===!0?0:1;try{return JSON.parse(t(nt.split(".")[it]))}catch(st){throw new n("Invalid token specified: "+st.message)}}n.prototype=new Error,n.prototype.name="InvalidTokenError";const _hoisted_1$d=createBaseVNode("button",{id:"hs-dropdown-custom-icon-trigger",type:"button","aria-label":"Site navigation menu",class:"hs-dropdown-toggle p-3 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800"},[createBaseVNode("svg",{class:"w-4 h-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2$a={class:"hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[15rem] bg-white shadow-md rounded-lg p-2 mt-2 dark:bg-gray-800 dark:border dark:border-gray-700","aria-labelledby":"hs-dropdown-custom-icon-trigger"},_hoisted_3$9=["href","onClick"],_hoisted_4$8=["innerHTML"],_hoisted_5$7={key:1,class:"w-4"},_hoisted_6$5=["innerHTML"],_hoisted_7$5=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})],-1),_hoisted_8$5={class:"font-medium"},_hoisted_9$4=createBaseVNode("span",{class:"font-medium"},"Logout",-1),_hoisted_10$2=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"})],-1),_hoisted_11$2=createBaseVNode("span",{class:"font-medium"},"Login",-1),_hoisted_12$2=[_hoisted_10$2,_hoisted_11$2],_hoisted_13$1=["contact","title","subject"],_sfc_main$f=defineComponent({__name:"Menu1.ce",props:{logo:{type:String},title:{type:String},auth:{type:String},contact:{type:String},contactFormTitle:{type:String},contactSubject:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var sn,bn;return(bn=(sn=it.value)==null?void 0:sn.getRootNode())==null?void 0:bn.host}),bt=computed(()=>{var sn;return(sn=it==null?void 0:it.value)==null?void 0:sn.parentNode});watch$1(bt,sn=>new HSDropdown(sn).init()),watch$1(st,()=>{Dt()});const wt=ref([]);watch$1(wt,()=>console.log("menuItems",toRaw(wt.value)));const Et=ref(null),Tt=computed(()=>{var sn,bn,wn;return((sn=Et.value)==null?void 0:sn.token)&&(((bn=Et.value)==null?void 0:bn.provider)==="github"||At((wn=Et.value)==null?void 0:wn.tokenExpiration))||!1});function At(sn){return!(sn<=Date.now())}function Dt(){function sn(){wt.value=Array.from(st.value.querySelectorAll("li")).map(bn=>{const wn=bn.querySelector("a");let Mn=wn.innerText.trim(),Sn=bn.querySelector("svg");return{label:Mn,icon:Sn,href:wn.href}})}sn(),new MutationObserver(bn=>{for(let wn of bn)wn.type==="childList"&&sn()}).observe(st.value,{childList:!0,subtree:!0})}onMounted(async()=>{rt.auth==="netlify"?Xt():rt.auth==="github"&&Zt()}),watch$1(Et,()=>{Et.value?localStorage.setItem("auth-user",JSON.stringify(Et.value)):localStorage.getItem("auth-user")&&localStorage.removeItem("auth-user")});function Ot(sn,bn){bn.preventDefault();let wn=sn.href.split("/").filter(Mn=>Mn).pop().toLowerCase();wn=location.host===wn?"home":wn,wn==="contact"?zt():location.href=sn.href}function zt(){var bn;let sn=(bn=bt.value)==null?void 0:bn.querySelector("ve-contact");sn._instance.exposed.show.value=!0}function $t(sn){sn.preventDefault(),rt.auth==="netlify"?netlifyIdentity.open("login"):rt.auth==="github"&&nn()}function Bt(sn){sn.preventDefault(),Et.value=null,rt.auth==="netlify"?netlifyIdentity.logout():rt.auth==="github"&&Kt()}let Yt="https://juncture-search.netlify.app/.netlify/identity";function Xt(){location.hostname==="search.plant-humanities.org"&&(Yt="https://search.plant-humanities.org/.netlify/identity");let sn=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(sn==null?void 0:sn.provider)==="netlify"?Et.value=sn:Et.value=null,netlifyIdentity.on("init",bn=>{bn&&(Et.value={provider:"netlify",name:bn.user_metadata.full_name,email:bn.email,token:bn.token})}),netlifyIdentity.on("error",bn=>console.error("Error",bn)),netlifyIdentity.on("login",bn=>{Et.value={provider:"netlify",name:bn.user_metadata.full_name,email:bn.email,token:bn.token},netlifyIdentity.close()}),netlifyIdentity.init({APIUrl:Yt}),Ht()}function Ht(){let sn=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");if(sn&&!Tt.value){const bn=new FormData;return bn.append("grant_type","refresh_token"),bn.append("refresh_token",sn.token.refresh_token),fetch(`${Yt}/token`,{method:"POST",body:bn}).then(wn=>wn.json()).then(wn=>{console.log("validateNetlifyUser: newToken",wn),sn.token.access_token=wn.access_token,sn.token.refresh_token=wn.refresh_token,sn.token.expires_at=o(wn.access_token).exp*1e3,Et.value={provider:"netlify",name:sn.user_metadata.full_name,email:sn.email,token:sn.token}}),null}return null}const Qt={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","search.juncture-digital.org":"ce9f2d2fb0a3498569fd","lab.plant-humanities.org":"2883735f052415de88ce","beta.plant-humanities.org":"4304885bd2882ecd28cc","search.plant-humanities.org":"e75df39d883077c1013f"};async function Zt(){let sn=localStorage.getItem("auth-user")&&JSON.parse(localStorage.getItem("auth-user")||"{}");(sn==null?void 0:sn.provider)==="github"?Et.value=sn:Et.value=null;let bn=new URL(window.location.href).searchParams.get("code");if(bn){let wn=`${location.pathname}${location.hash}`;window.history.replaceState({},"",wn);let Mn=window.location.hostname==="localhost"?`https://dev.juncture-digital.org/gh-token?code=${bn}&hostname=${window.location.hostname}`:`/gh-token?code=${bn}&hostname=${window.location.hostname}`,Sn=await fetch(Mn);if(Sn.ok){let Dn=await Sn.text(),gn=await ln(Dn);Et.value=gn}}}function nn(){let sn=new URL(window.location.href).hostname,bn=sn==="localhost"||sn.indexOf("192.168.")===0,wn=`${window.location.href}`,Mn=bn?`${window.location.pathname}?code=testing&redirect_uri=${location.pathname}${location.hash}`:Qt[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${Qt[location.hostname]}&scope=repo&state=juncture&redirect_uri=${wn}`:null;Mn&&(window.location.href=Mn)}function Kt(){Object.keys(localStorage).forEach(sn=>localStorage.removeItem(sn)),Et.value=null}async function ln(sn){let bn=await fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${sn}`}});if(bn.ok){let wn=await bn.json();return{provider:"github",username:wn.login,name:wn.name,email:wn.email,token:sn}}}return(sn,bn)=>{var wn,Mn;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("nav",{class:"hs-dropdown relative inline-flex",ref_key:"root",ref:it},[_hoisted_1$d,createBaseVNode("div",_hoisted_2$a,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wt.value,Sn=>(openBlock(),createElementBlock("a",{key:Sn.href,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:Sn.href,onClick:Dn=>Ot(Sn,Dn)},[Sn.icon?(openBlock(),createElementBlock("svg",{key:0,innerHTML:Sn.icon.outerHTML,class:"w-4 h-4 text-gray-500"},null,8,_hoisted_4$8)):(openBlock(),createElementBlock("span",_hoisted_5$7)),createBaseVNode("span",{innerHTML:Sn.label,class:"font-medium"},null,8,_hoisted_6$5)],8,_hoisted_3$9))),128)),rt.auth&&Tt.value?(openBlock(),createElementBlock("a",{key:0,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:Bt},[_hoisted_7$5,createBaseVNode("span",_hoisted_8$5,"("+toDisplayString(((wn=Et.value)==null?void 0:wn.name)||((Mn=Et.value)==null?void 0:Mn.email))+")",1),createTextVNode(),_hoisted_9$4])):createCommentVNode("",!0),rt.auth&&!Tt.value?(openBlock(),createElementBlock("a",{key:1,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:$t},_hoisted_12$2)):createCommentVNode("",!0)])],512),createBaseVNode("ve-contact",{contact:rt.contact,title:rt.contactFormTitle,subject:rt.contactSubject},null,8,_hoisted_13$1)],64)}}}),_style_0$9=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Menu1=_export_sfc(_sfc_main$f,[["styles",[_style_0$9]]]);function commonjsRequire(nt){throw new Error('Could not dynamically require "'+nt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var moment_min={exports:{}};(function(nt,rt){(function(it,st){nt.exports=st()})(commonjsGlobal$1,function(){var it;function st(){return it.apply(null,arguments)}function bt(en){return en instanceof Array||Object.prototype.toString.call(en)==="[object Array]"}function wt(en){return en!=null&&Object.prototype.toString.call(en)==="[object Object]"}function Et(en,yn){return Object.prototype.hasOwnProperty.call(en,yn)}function Tt(en){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(en).length===0;for(var yn in en)if(Et(en,yn))return;return 1}function At(en){return en===void 0}function Dt(en){return typeof en=="number"||Object.prototype.toString.call(en)==="[object Number]"}function Ot(en){return en instanceof Date||Object.prototype.toString.call(en)==="[object Date]"}function zt(en,yn){for(var $n=[],nr=en.length,kr=0;kr<nr;++kr)$n.push(yn(en[kr],kr));return $n}function $t(en,yn){for(var $n in yn)Et(yn,$n)&&(en[$n]=yn[$n]);return Et(yn,"toString")&&(en.toString=yn.toString),Et(yn,"valueOf")&&(en.valueOf=yn.valueOf),en}function Bt(en,yn,$n,nr){return Wo(en,yn,$n,nr,!0).utc()}function Yt(en){return en._pf==null&&(en._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),en._pf}function Xt(en){if(en._isValid==null){var yn=Yt(en),$n=Qt.call(yn.parsedDateParts,function(nr){return nr!=null}),$n=!isNaN(en._d.getTime())&&yn.overflow<0&&!yn.empty&&!yn.invalidEra&&!yn.invalidMonth&&!yn.invalidWeekday&&!yn.weekdayMismatch&&!yn.nullInput&&!yn.invalidFormat&&!yn.userInvalidated&&(!yn.meridiem||yn.meridiem&&$n);if(en._strict&&($n=$n&&yn.charsLeftOver===0&&yn.unusedTokens.length===0&&yn.bigHour===void 0),Object.isFrozen!=null&&Object.isFrozen(en))return $n;en._isValid=$n}return en._isValid}function Ht(en){var yn=Bt(NaN);return en!=null?$t(Yt(yn),en):Yt(yn).userInvalidated=!0,yn}var Qt=Array.prototype.some||function(en){for(var yn=Object(this),$n=yn.length>>>0,nr=0;nr<$n;nr++)if(nr in yn&&en.call(this,yn[nr],nr,yn))return!0;return!1},Zt=st.momentProperties=[],nn=!1;function Kt(en,yn){var $n,nr,kr,Wr=Zt.length;if(At(yn._isAMomentObject)||(en._isAMomentObject=yn._isAMomentObject),At(yn._i)||(en._i=yn._i),At(yn._f)||(en._f=yn._f),At(yn._l)||(en._l=yn._l),At(yn._strict)||(en._strict=yn._strict),At(yn._tzm)||(en._tzm=yn._tzm),At(yn._isUTC)||(en._isUTC=yn._isUTC),At(yn._offset)||(en._offset=yn._offset),At(yn._pf)||(en._pf=Yt(yn)),At(yn._locale)||(en._locale=yn._locale),0<Wr)for($n=0;$n<Wr;$n++)At(kr=yn[nr=Zt[$n]])||(en[nr]=kr);return en}function ln(en){Kt(this,en),this._d=new Date(en._d!=null?en._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),nn===!1&&(nn=!0,st.updateOffset(this),nn=!1)}function sn(en){return en instanceof ln||en!=null&&en._isAMomentObject!=null}function bn(en){st.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+en)}function wn(en,yn){var $n=!0;return $t(function(){if(st.deprecationHandler!=null&&st.deprecationHandler(null,en),$n){for(var nr,kr,Wr=[],ci=arguments.length,wi=0;wi<ci;wi++){if(nr="",typeof arguments[wi]=="object"){for(kr in nr+=`
[`+wi+"] ",arguments[0])Et(arguments[0],kr)&&(nr+=kr+": "+arguments[0][kr]+", ");nr=nr.slice(0,-2)}else nr=arguments[wi];Wr.push(nr)}bn(en+`
Arguments: `+Array.prototype.slice.call(Wr).join("")+`
`+new Error().stack),$n=!1}return yn.apply(this,arguments)},yn)}var Mn={};function Sn(en,yn){st.deprecationHandler!=null&&st.deprecationHandler(en,yn),Mn[en]||(bn(yn),Mn[en]=!0)}function Dn(en){return typeof Function<"u"&&en instanceof Function||Object.prototype.toString.call(en)==="[object Function]"}function gn(en,yn){var $n,nr=$t({},en);for($n in yn)Et(yn,$n)&&(wt(en[$n])&&wt(yn[$n])?(nr[$n]={},$t(nr[$n],en[$n]),$t(nr[$n],yn[$n])):yn[$n]!=null?nr[$n]=yn[$n]:delete nr[$n]);for($n in en)Et(en,$n)&&!Et(yn,$n)&&wt(en[$n])&&(nr[$n]=$t({},nr[$n]));return nr}function Un(en){en!=null&&this.set(en)}st.suppressDeprecationWarnings=!1,st.deprecationHandler=null;var pn=Object.keys||function(en){var yn,$n=[];for(yn in en)Et(en,yn)&&$n.push(yn);return $n};function yr(en,yn,$n){var nr=""+Math.abs(en);return(0<=en?$n?"+":"":"-")+Math.pow(10,Math.max(0,yn-nr.length)).toString().substr(1)+nr}var xn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mr=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,fr={},cr={};function Gn(en,yn,$n,nr){var kr=typeof nr=="string"?function(){return this[nr]()}:nr;en&&(cr[en]=kr),yn&&(cr[yn[0]]=function(){return yr(kr.apply(this,arguments),yn[1],yn[2])}),$n&&(cr[$n]=function(){return this.localeData().ordinal(kr.apply(this,arguments),en)})}function lr(en,yn){return en.isValid()?(yn=ur(yn,en.localeData()),fr[yn]=fr[yn]||function($n){for(var nr,kr=$n.match(xn),Wr=0,ci=kr.length;Wr<ci;Wr++)cr[kr[Wr]]?kr[Wr]=cr[kr[Wr]]:kr[Wr]=(nr=kr[Wr]).match(/\[[\s\S]/)?nr.replace(/^\[|\]$/g,""):nr.replace(/\\/g,"");return function(wi){for(var Yi="",zi=0;zi<ci;zi++)Yi+=Dn(kr[zi])?kr[zi].call(wi,$n):kr[zi];return Yi}}(yn),fr[yn](en)):en.localeData().invalidDate()}function ur(en,yn){var $n=5;function nr(kr){return yn.longDateFormat(kr)||kr}for(Mr.lastIndex=0;0<=$n&&Mr.test(en);)en=en.replace(Mr,nr),Mr.lastIndex=0,--$n;return en}var vr={};function Ir(en,yn){var $n=en.toLowerCase();vr[$n]=vr[$n+"s"]=vr[yn]=en}function Pr(en){return typeof en=="string"?vr[en]||vr[en.toLowerCase()]:void 0}function _r(en){var yn,$n,nr={};for($n in en)Et(en,$n)&&(yn=Pr($n))&&(nr[yn]=en[$n]);return nr}var tr={};function qn(en,yn){tr[en]=yn}function mr(en){return en%4==0&&en%100!=0||en%400==0}function br(en){return en<0?Math.ceil(en)||0:Math.floor(en)}function hr(yn){var yn=+yn,$n=0;return $n=yn!=0&&isFinite(yn)?br(yn):$n}function An(en,yn){return function($n){return $n!=null?(vn(this,en,$n),st.updateOffset(this,yn),this):rn(this,en)}}function rn(en,yn){return en.isValid()?en._d["get"+(en._isUTC?"UTC":"")+yn]():NaN}function vn(en,yn,$n){en.isValid()&&!isNaN($n)&&(yn==="FullYear"&&mr(en.year())&&en.month()===1&&en.date()===29?($n=hr($n),en._d["set"+(en._isUTC?"UTC":"")+yn]($n,en.month(),Br($n,en.month()))):en._d["set"+(en._isUTC?"UTC":"")+yn]($n))}var hn=/\d/,Co=/\d\d/,zn=/\d{3}/,bc=/\d{4}/,nl=/[+-]?\d{6}/,On=/\d\d?/,Er=/\d\d\d\d?/,Rn=/\d\d\d\d\d\d?/,rr=/\d{1,3}/,Ga=/\d{1,4}/,Ns=/[+-]?\d{1,6}/,Kn=/\d+/,gr=/[+-]?\d+/,xr=/Z|[+-]\d\d:?\d\d/gi,Lr=/Z|[+-]\d\d(?::?\d\d)?/gi,Cr=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Ar(en,yn,$n){xi[en]=Dn(yn)?yn:function(nr,kr){return nr&&$n?$n:yn}}function mi(en,yn){return Et(xi,en)?xi[en](yn._strict,yn._locale):new RegExp(vi(en.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function($n,nr,kr,Wr,ci){return nr||kr||Wr||ci})))}function vi(en){return en.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var xi={},Ci={};function Ei(en,yn){var $n,nr,kr=yn;for(typeof en=="string"&&(en=[en]),Dt(yn)&&(kr=function(Wr,ci){ci[yn]=hr(Wr)}),nr=en.length,$n=0;$n<nr;$n++)Ci[en[$n]]=kr}function Bi(en,yn){Ei(en,function($n,nr,kr,Wr){kr._w=kr._w||{},yn($n,kr._w,kr,Wr)})}var Ai,Fr=0,Ln=1,Nn=2,er=3,sr=4,Nr=5,Jr=6,Dr=7,yi=8;function Br(en,yn){if(isNaN(en)||isNaN(yn))return NaN;var $n=(yn%($n=12)+$n)%$n;return en+=(yn-$n)/12,$n==1?mr(en)?29:28:31-$n%7%2}Ai=Array.prototype.indexOf||function(en){for(var yn=0;yn<this.length;++yn)if(this[yn]===en)return yn;return-1},Gn("M",["MM",2],"Mo",function(){return this.month()+1}),Gn("MMM",0,0,function(en){return this.localeData().monthsShort(this,en)}),Gn("MMMM",0,0,function(en){return this.localeData().months(this,en)}),Ir("month","M"),qn("month",8),Ar("M",On),Ar("MM",On,Co),Ar("MMM",function(en,yn){return yn.monthsShortRegex(en)}),Ar("MMMM",function(en,yn){return yn.monthsRegex(en)}),Ei(["M","MM"],function(en,yn){yn[Ln]=hr(en)-1}),Ei(["MMM","MMMM"],function(en,yn,$n,nr){nr=$n._locale.monthsParse(en,nr,$n._strict),nr!=null?yn[Ln]=nr:Yt($n).invalidMonth=en});var Si="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ni="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ri=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Li=Cr,eo=Cr;function Ui(en,yn){var $n;if(en.isValid()){if(typeof yn=="string"){if(/^\d+$/.test(yn))yn=hr(yn);else if(!Dt(yn=en.localeData().monthsParse(yn)))return}$n=Math.min(en.date(),Br(en.year(),yn)),en._d["set"+(en._isUTC?"UTC":"")+"Month"](yn,$n)}}function oo(en){return en!=null?(Ui(this,en),st.updateOffset(this,!0),this):rn(this,"Month")}function wo(){function en(ci,wi){return wi.length-ci.length}for(var yn,$n=[],nr=[],kr=[],Wr=0;Wr<12;Wr++)yn=Bt([2e3,Wr]),$n.push(this.monthsShort(yn,"")),nr.push(this.months(yn,"")),kr.push(this.months(yn,"")),kr.push(this.monthsShort(yn,""));for($n.sort(en),nr.sort(en),kr.sort(en),Wr=0;Wr<12;Wr++)$n[Wr]=vi($n[Wr]),nr[Wr]=vi(nr[Wr]);for(Wr=0;Wr<24;Wr++)kr[Wr]=vi(kr[Wr]);this._monthsRegex=new RegExp("^("+kr.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+nr.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+$n.join("|")+")","i")}function uo(en){return mr(en)?366:365}Gn("Y",0,0,function(){var en=this.year();return en<=9999?yr(en,4):"+"+en}),Gn(0,["YY",2],0,function(){return this.year()%100}),Gn(0,["YYYY",4],0,"year"),Gn(0,["YYYYY",5],0,"year"),Gn(0,["YYYYYY",6,!0],0,"year"),Ir("year","y"),qn("year",1),Ar("Y",gr),Ar("YY",On,Co),Ar("YYYY",Ga,bc),Ar("YYYYY",Ns,nl),Ar("YYYYYY",Ns,nl),Ei(["YYYYY","YYYYYY"],Fr),Ei("YYYY",function(en,yn){yn[Fr]=en.length===2?st.parseTwoDigitYear(en):hr(en)}),Ei("YY",function(en,yn){yn[Fr]=st.parseTwoDigitYear(en)}),Ei("Y",function(en,yn){yn[Fr]=parseInt(en,10)}),st.parseTwoDigitYear=function(en){return hr(en)+(68<hr(en)?1900:2e3)};var wl=An("FullYear",!0);function Cs(en,yn,$n,nr,kr,Wr,ci){var wi;return en<100&&0<=en?(wi=new Date(en+400,yn,$n,nr,kr,Wr,ci),isFinite(wi.getFullYear())&&wi.setFullYear(en)):wi=new Date(en,yn,$n,nr,kr,Wr,ci),wi}function Za(en){var yn;return en<100&&0<=en?((yn=Array.prototype.slice.call(arguments))[0]=en+400,yn=new Date(Date.UTC.apply(null,yn)),isFinite(yn.getUTCFullYear())&&yn.setUTCFullYear(en)):yn=new Date(Date.UTC.apply(null,arguments)),yn}function ji(en,yn,$n){return $n=7+yn-$n,$n-(7+Za(en,0,$n).getUTCDay()-yn)%7-1}function lo(en,ci,wi,nr,kr){var Wr,ci=1+7*(ci-1)+(7+wi-nr)%7+ji(en,nr,kr),wi=ci<=0?uo(Wr=en-1)+ci:ci>uo(en)?(Wr=en+1,ci-uo(en)):(Wr=en,ci);return{year:Wr,dayOfYear:wi}}function Va(en,yn,$n){var nr,kr,Wr=ji(en.year(),yn,$n),Wr=Math.floor((en.dayOfYear()-Wr-1)/7)+1;return Wr<1?nr=Wr+Ti(kr=en.year()-1,yn,$n):Wr>Ti(en.year(),yn,$n)?(nr=Wr-Ti(en.year(),yn,$n),kr=en.year()+1):(kr=en.year(),nr=Wr),{week:nr,year:kr}}function Ti(en,kr,$n){var nr=ji(en,kr,$n),kr=ji(en+1,kr,$n);return(uo(en)-nr+kr)/7}Gn("w",["ww",2],"wo","week"),Gn("W",["WW",2],"Wo","isoWeek"),Ir("week","w"),Ir("isoWeek","W"),qn("week",5),qn("isoWeek",5),Ar("w",On),Ar("ww",On,Co),Ar("W",On),Ar("WW",On,Co),Bi(["w","ww","W","WW"],function(en,yn,$n,nr){yn[nr.substr(0,1)]=hr(en)});function ca(en,yn){return en.slice(yn,7).concat(en.slice(0,yn))}Gn("d",0,"do","day"),Gn("dd",0,0,function(en){return this.localeData().weekdaysMin(this,en)}),Gn("ddd",0,0,function(en){return this.localeData().weekdaysShort(this,en)}),Gn("dddd",0,0,function(en){return this.localeData().weekdays(this,en)}),Gn("e",0,0,"weekday"),Gn("E",0,0,"isoWeekday"),Ir("day","d"),Ir("weekday","e"),Ir("isoWeekday","E"),qn("day",11),qn("weekday",11),qn("isoWeekday",11),Ar("d",On),Ar("e",On),Ar("E",On),Ar("dd",function(en,yn){return yn.weekdaysMinRegex(en)}),Ar("ddd",function(en,yn){return yn.weekdaysShortRegex(en)}),Ar("dddd",function(en,yn){return yn.weekdaysRegex(en)}),Bi(["dd","ddd","dddd"],function(en,yn,$n,nr){nr=$n._locale.weekdaysParse(en,nr,$n._strict),nr!=null?yn.d=nr:Yt($n).invalidWeekday=en}),Bi(["d","e","E"],function(en,yn,$n,nr){yn[nr]=hr(en)});var Sa="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ya="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Hr="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),ii=Cr,Ur=Cr,Tr=Cr;function Zr(){function en(zi,Mo){return Mo.length-zi.length}for(var yn,$n,nr,kr=[],Wr=[],ci=[],wi=[],Yi=0;Yi<7;Yi++)nr=Bt([2e3,1]).day(Yi),yn=vi(this.weekdaysMin(nr,"")),$n=vi(this.weekdaysShort(nr,"")),nr=vi(this.weekdays(nr,"")),kr.push(yn),Wr.push($n),ci.push(nr),wi.push(yn),wi.push($n),wi.push(nr);kr.sort(en),Wr.sort(en),ci.sort(en),wi.sort(en),this._weekdaysRegex=new RegExp("^("+wi.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+ci.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+Wr.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+kr.join("|")+")","i")}function bi(){return this.hours()%12||12}function Ii(en,yn){Gn(en,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),yn)})}function zo(en,yn){return yn._meridiemParse}Gn("H",["HH",2],0,"hour"),Gn("h",["hh",2],0,bi),Gn("k",["kk",2],0,function(){return this.hours()||24}),Gn("hmm",0,0,function(){return""+bi.apply(this)+yr(this.minutes(),2)}),Gn("hmmss",0,0,function(){return""+bi.apply(this)+yr(this.minutes(),2)+yr(this.seconds(),2)}),Gn("Hmm",0,0,function(){return""+this.hours()+yr(this.minutes(),2)}),Gn("Hmmss",0,0,function(){return""+this.hours()+yr(this.minutes(),2)+yr(this.seconds(),2)}),Ii("a",!0),Ii("A",!1),Ir("hour","h"),qn("hour",13),Ar("a",zo),Ar("A",zo),Ar("H",On),Ar("h",On),Ar("k",On),Ar("HH",On,Co),Ar("hh",On,Co),Ar("kk",On,Co),Ar("hmm",Er),Ar("hmmss",Rn),Ar("Hmm",Er),Ar("Hmmss",Rn),Ei(["H","HH"],er),Ei(["k","kk"],function(en,yn,$n){en=hr(en),yn[er]=en===24?0:en}),Ei(["a","A"],function(en,yn,$n){$n._isPm=$n._locale.isPM(en),$n._meridiem=en}),Ei(["h","hh"],function(en,yn,$n){yn[er]=hr(en),Yt($n).bigHour=!0}),Ei("hmm",function(en,yn,$n){var nr=en.length-2;yn[er]=hr(en.substr(0,nr)),yn[sr]=hr(en.substr(nr)),Yt($n).bigHour=!0}),Ei("hmmss",function(en,yn,$n){var nr=en.length-4,kr=en.length-2;yn[er]=hr(en.substr(0,nr)),yn[sr]=hr(en.substr(nr,2)),yn[Nr]=hr(en.substr(kr)),Yt($n).bigHour=!0}),Ei("Hmm",function(en,yn,$n){var nr=en.length-2;yn[er]=hr(en.substr(0,nr)),yn[sr]=hr(en.substr(nr))}),Ei("Hmmss",function(en,yn,$n){var nr=en.length-4,kr=en.length-2;yn[er]=hr(en.substr(0,nr)),yn[sr]=hr(en.substr(nr,2)),yn[Nr]=hr(en.substr(kr))}),Cr=An("Hours",!0);var Eo,oa={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Si,monthsShort:Ni,week:{dow:0,doy:6},weekdays:Sa,weekdaysMin:Hr,weekdaysShort:Ya,meridiemParse:/[ap]\.?m?\.?/i},mo={},$o={};function Ja(en){return en&&en.toLowerCase().replace("_","-")}function ys(en){for(var yn,$n,nr,kr,Wr=0;Wr<en.length;){for(yn=(kr=Ja(en[Wr]).split("-")).length,$n=($n=Ja(en[Wr+1]))?$n.split("-"):null;0<yn;){if(nr=vs(kr.slice(0,yn).join("-")))return nr;if($n&&$n.length>=yn&&function(ci,wi){for(var Yi=Math.min(ci.length,wi.length),zi=0;zi<Yi;zi+=1)if(ci[zi]!==wi[zi])return zi;return Yi}(kr,$n)>=yn-1)break;yn--}Wr++}return Eo}function vs(en){var yn;if(mo[en]===void 0&&!0&&nt&&nt.exports&&en.match("^[^/\\\\]*$")!=null)try{yn=Eo._abbr,commonjsRequire("./locale/"+en),Zi(yn)}catch{mo[en]=null}return mo[en]}function Zi(en,yn){return en&&((yn=At(yn)?ho(en):bo(en,yn))?Eo=yn:typeof console<"u"&&console.warn&&console.warn("Locale "+en+" not found. Did you forget to load it?")),Eo._abbr}function bo(en,yn){if(yn===null)return delete mo[en],null;var $n,nr=oa;if(yn.abbr=en,mo[en]!=null)Sn("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),nr=mo[en]._config;else if(yn.parentLocale!=null)if(mo[yn.parentLocale]!=null)nr=mo[yn.parentLocale]._config;else{if(($n=vs(yn.parentLocale))==null)return $o[yn.parentLocale]||($o[yn.parentLocale]=[]),$o[yn.parentLocale].push({name:en,config:yn}),null;nr=$n._config}return mo[en]=new Un(gn(nr,yn)),$o[en]&&$o[en].forEach(function(kr){bo(kr.name,kr.config)}),Zi(en),mo[en]}function ho(en){var yn;if(!(en=en&&en._locale&&en._locale._abbr?en._locale._abbr:en))return Eo;if(!bt(en)){if(yn=vs(en))return yn;en=[en]}return ys(en)}function Fi(en){var yn=en._a;return yn&&Yt(en).overflow===-2&&(yn=yn[Ln]<0||11<yn[Ln]?Ln:yn[Nn]<1||yn[Nn]>Br(yn[Fr],yn[Ln])?Nn:yn[er]<0||24<yn[er]||yn[er]===24&&(yn[sr]!==0||yn[Nr]!==0||yn[Jr]!==0)?er:yn[sr]<0||59<yn[sr]?sr:yn[Nr]<0||59<yn[Nr]?Nr:yn[Jr]<0||999<yn[Jr]?Jr:-1,Yt(en)._overflowDayOfYear&&(yn<Fr||Nn<yn)&&(yn=Nn),Yt(en)._overflowWeeks&&yn===-1&&(yn=Dr),Yt(en)._overflowWeekday&&yn===-1&&(yn=yi),Yt(en).overflow=yn),en}var _o=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Or=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,tl=/Z|[+-]\d\d(?::?\d\d)?/,Vr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],hs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yc=/^\/?Date\((-?\d+)/i,Vo=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,xo={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Gc(en){var yn,$n,nr,kr,Wr,ci,Yi=en._i,wi=_o.exec(Yi)||Or.exec(Yi),Yi=Vr.length,zi=hs.length;if(wi){for(Yt(en).iso=!0,yn=0,$n=Yi;yn<$n;yn++)if(Vr[yn][1].exec(wi[1])){kr=Vr[yn][0],nr=Vr[yn][2]!==!1;break}if(kr==null)en._isValid=!1;else{if(wi[3]){for(yn=0,$n=zi;yn<$n;yn++)if(hs[yn][1].exec(wi[3])){Wr=(wi[2]||" ")+hs[yn][0];break}if(Wr==null)return void(en._isValid=!1)}if(nr||Wr==null){if(wi[4]){if(!tl.exec(wi[4]))return void(en._isValid=!1);ci="Z"}en._f=kr+(Wr||"")+(ci||""),Nl(en)}else en._isValid=!1}}else en._isValid=!1}function Gi(en,yn,$n,nr,kr,Wr){return en=[function(ci){ci=parseInt(ci,10);{if(ci<=49)return 2e3+ci;if(ci<=999)return 1900+ci}return ci}(en),Ni.indexOf(yn),parseInt($n,10),parseInt(nr,10),parseInt(kr,10)],Wr&&en.push(parseInt(Wr,10)),en}function To(en){var yn,$n,nr,kr,Wr=Vo.exec(en._i.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));Wr?(yn=Gi(Wr[4],Wr[3],Wr[2],Wr[5],Wr[6],Wr[7]),$n=Wr[1],nr=yn,kr=en,$n&&Ya.indexOf($n)!==new Date(nr[0],nr[1],nr[2]).getDay()?(Yt(kr).weekdayMismatch=!0,kr._isValid=!1):(en._a=yn,en._tzm=($n=Wr[8],nr=Wr[9],kr=Wr[10],$n?xo[$n]:nr?0:60*((($n=parseInt(kr,10))-(nr=$n%100))/100)+nr),en._d=Za.apply(null,en._a),en._d.setUTCMinutes(en._d.getUTCMinutes()-en._tzm),Yt(en).rfc2822=!0)):en._isValid=!1}function $s(en,yn,$n){return en!=null?en:yn!=null?yn:$n}function ec(en){var yn,$n,nr,kr,Wr,ci,wi,Yi,zi,Mo,cn,dn=[];if(!en._d){for(nr=en,kr=new Date(st.now()),$n=nr._useUTC?[kr.getUTCFullYear(),kr.getUTCMonth(),kr.getUTCDate()]:[kr.getFullYear(),kr.getMonth(),kr.getDate()],en._w&&en._a[Nn]==null&&en._a[Ln]==null&&((kr=(nr=en)._w).GG!=null||kr.W!=null||kr.E!=null?(Yi=1,zi=4,Wr=$s(kr.GG,nr._a[Fr],Va(Xo(),1,4).year),ci=$s(kr.W,1),((wi=$s(kr.E,1))<1||7<wi)&&(Mo=!0)):(Yi=nr._locale._week.dow,zi=nr._locale._week.doy,cn=Va(Xo(),Yi,zi),Wr=$s(kr.gg,nr._a[Fr],cn.year),ci=$s(kr.w,cn.week),kr.d!=null?((wi=kr.d)<0||6<wi)&&(Mo=!0):kr.e!=null?(wi=kr.e+Yi,(kr.e<0||6<kr.e)&&(Mo=!0)):wi=Yi),ci<1||ci>Ti(Wr,Yi,zi)?Yt(nr)._overflowWeeks=!0:Mo!=null?Yt(nr)._overflowWeekday=!0:(cn=lo(Wr,ci,wi,Yi,zi),nr._a[Fr]=cn.year,nr._dayOfYear=cn.dayOfYear)),en._dayOfYear!=null&&(kr=$s(en._a[Fr],$n[Fr]),(en._dayOfYear>uo(kr)||en._dayOfYear===0)&&(Yt(en)._overflowDayOfYear=!0),Mo=Za(kr,0,en._dayOfYear),en._a[Ln]=Mo.getUTCMonth(),en._a[Nn]=Mo.getUTCDate()),yn=0;yn<3&&en._a[yn]==null;++yn)en._a[yn]=dn[yn]=$n[yn];for(;yn<7;yn++)en._a[yn]=dn[yn]=en._a[yn]==null?yn===2?1:0:en._a[yn];en._a[er]===24&&en._a[sr]===0&&en._a[Nr]===0&&en._a[Jr]===0&&(en._nextDay=!0,en._a[er]=0),en._d=(en._useUTC?Za:Cs).apply(null,dn),Wr=en._useUTC?en._d.getUTCDay():en._d.getDay(),en._tzm!=null&&en._d.setUTCMinutes(en._d.getUTCMinutes()-en._tzm),en._nextDay&&(en._a[er]=24),en._w&&en._w.d!==void 0&&en._w.d!==Wr&&(Yt(en).weekdayMismatch=!0)}}function Nl(en){if(en._f===st.ISO_8601)Gc(en);else if(en._f===st.RFC_2822)To(en);else{en._a=[],Yt(en).empty=!0;for(var yn,$n,nr,kr,Wr,ci=""+en._i,wi=ci.length,Yi=0,zi=ur(en._f,en._locale).match(xn)||[],Mo=zi.length,cn=0;cn<Mo;cn++)$n=zi[cn],(yn=(ci.match(mi($n,en))||[])[0])&&(0<(nr=ci.substr(0,ci.indexOf(yn))).length&&Yt(en).unusedInput.push(nr),ci=ci.slice(ci.indexOf(yn)+yn.length),Yi+=yn.length),cr[$n]?(yn?Yt(en).empty=!1:Yt(en).unusedTokens.push($n),nr=$n,Wr=en,(kr=yn)!=null&&Et(Ci,nr)&&Ci[nr](kr,Wr._a,Wr,nr)):en._strict&&!yn&&Yt(en).unusedTokens.push($n);Yt(en).charsLeftOver=wi-Yi,0<ci.length&&Yt(en).unusedInput.push(ci),en._a[er]<=12&&Yt(en).bigHour===!0&&0<en._a[er]&&(Yt(en).bigHour=void 0),Yt(en).parsedDateParts=en._a.slice(0),Yt(en).meridiem=en._meridiem,en._a[er]=function(dn,Pn,or){return or==null?Pn:dn.meridiemHour!=null?dn.meridiemHour(Pn,or):dn.isPM!=null?((dn=dn.isPM(or))&&Pn<12&&(Pn+=12),Pn=dn||Pn!==12?Pn:0):Pn}(en._locale,en._a[er],en._meridiem),(wi=Yt(en).era)!==null&&(en._a[Fr]=en._locale.erasConvertYear(wi,en._a[Fr])),ec(en),Fi(en)}}function ls(en){var yn,$n,nr,kr=en._i,Wr=en._f;return en._locale=en._locale||ho(en._l),kr===null||Wr===void 0&&kr===""?Ht({nullInput:!0}):(typeof kr=="string"&&(en._i=kr=en._locale.preparse(kr)),sn(kr)?new ln(Fi(kr)):(Ot(kr)?en._d=kr:bt(Wr)?function(ci){var wi,Yi,zi,Mo,cn,dn,Pn=!1,or=ci._f.length;if(or===0)return Yt(ci).invalidFormat=!0,ci._d=new Date(NaN);for(Mo=0;Mo<or;Mo++)cn=0,dn=!1,wi=Kt({},ci),ci._useUTC!=null&&(wi._useUTC=ci._useUTC),wi._f=ci._f[Mo],Nl(wi),Xt(wi)&&(dn=!0),cn=(cn+=Yt(wi).charsLeftOver)+10*Yt(wi).unusedTokens.length,Yt(wi).score=cn,Pn?cn<zi&&(zi=cn,Yi=wi):(zi==null||cn<zi||dn)&&(zi=cn,Yi=wi,dn&&(Pn=!0));$t(ci,Yi||wi)}(en):Wr?Nl(en):At(Wr=(kr=en)._i)?kr._d=new Date(st.now()):Ot(Wr)?kr._d=new Date(Wr.valueOf()):typeof Wr=="string"?($n=kr,(yn=yc.exec($n._i))!==null?$n._d=new Date(+yn[1]):(Gc($n),$n._isValid===!1&&(delete $n._isValid,To($n),$n._isValid===!1&&(delete $n._isValid,$n._strict?$n._isValid=!1:st.createFromInputFallback($n))))):bt(Wr)?(kr._a=zt(Wr.slice(0),function(ci){return parseInt(ci,10)}),ec(kr)):wt(Wr)?(yn=kr)._d||(nr=($n=_r(yn._i)).day===void 0?$n.date:$n.day,yn._a=zt([$n.year,$n.month,nr,$n.hour,$n.minute,$n.second,$n.millisecond],function(ci){return ci&&parseInt(ci,10)}),ec(yn)):Dt(Wr)?kr._d=new Date(Wr):st.createFromInputFallback(kr),Xt(en)||(en._d=null),en))}function Wo(en,yn,$n,nr,kr){var Wr={};return yn!==!0&&yn!==!1||(nr=yn,yn=void 0),$n!==!0&&$n!==!1||(nr=$n,$n=void 0),(wt(en)&&Tt(en)||bt(en)&&en.length===0)&&(en=void 0),Wr._isAMomentObject=!0,Wr._useUTC=Wr._isUTC=kr,Wr._l=$n,Wr._i=en,Wr._f=yn,Wr._strict=nr,(kr=new ln(Fi(ls(kr=Wr))))._nextDay&&(kr.add(1,"d"),kr._nextDay=void 0),kr}function Xo(en,yn,$n,nr){return Wo(en,yn,$n,nr,!1)}st.createFromInputFallback=wn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(en){en._d=new Date(en._i+(en._useUTC?" UTC":""))}),st.ISO_8601=function(){},st.RFC_2822=function(){},Er=wn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var en=Xo.apply(null,arguments);return this.isValid()&&en.isValid()?en<this?this:en:Ht()}),Rn=wn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var en=Xo.apply(null,arguments);return this.isValid()&&en.isValid()?this<en?this:en:Ht()});function bs(en,yn){var $n,nr;if(!(yn=yn.length===1&&bt(yn[0])?yn[0]:yn).length)return Xo();for($n=yn[0],nr=1;nr<yn.length;++nr)yn[nr].isValid()&&!yn[nr][en]($n)||($n=yn[nr]);return $n}var Dl=["year","quarter","month","week","day","hour","minute","second","millisecond"];function _s(yn){var yn=_r(yn),$n=yn.year||0,nr=yn.quarter||0,kr=yn.month||0,Wr=yn.week||yn.isoWeek||0,ci=yn.day||0,wi=yn.hour||0,Yi=yn.minute||0,zi=yn.second||0,Mo=yn.millisecond||0;this._isValid=function(cn){var dn,Pn,or=!1,wr=Dl.length;for(dn in cn)if(Et(cn,dn)&&(Ai.call(Dl,dn)===-1||cn[dn]!=null&&isNaN(cn[dn])))return!1;for(Pn=0;Pn<wr;++Pn)if(cn[Dl[Pn]]){if(or)return!1;parseFloat(cn[Dl[Pn]])!==hr(cn[Dl[Pn]])&&(or=!0)}return!0}(yn),this._milliseconds=+Mo+1e3*zi+6e4*Yi+1e3*wi*60*60,this._days=+ci+7*Wr,this._months=+kr+3*nr+12*$n,this._data={},this._locale=ho(),this._bubble()}function vl(en){return en instanceof _s}function Ys(en){return en<0?-1*Math.round(-1*en):Math.round(en)}function Dc(en,yn){Gn(en,0,0,function(){var $n=this.utcOffset(),nr="+";return $n<0&&($n=-$n,nr="-"),nr+yr(~~($n/60),2)+yn+yr(~~$n%60,2)})}Dc("Z",":"),Dc("ZZ",""),Ar("Z",Lr),Ar("ZZ",Lr),Ei(["Z","ZZ"],function(en,yn,$n){$n._useUTC=!0,$n._tzm=vc(Lr,en)});var Ic=/([\+\-]|\d\d)/gi;function vc(en,$n){var $n=($n||"").match(en);return $n===null?null:($n=60*(en=(($n[$n.length-1]||[])+"").match(Ic)||["-",0,0])[1]+hr(en[2]))===0?0:en[0]==="+"?$n:-$n}function Gs(en,yn){var $n;return yn._isUTC?(yn=yn.clone(),$n=(sn(en)||Ot(en)?en:Xo(en)).valueOf()-yn.valueOf(),yn._d.setTime(yn._d.valueOf()+$n),st.updateOffset(yn,!1),yn):Xo(en).local()}function cu(en){return-Math.round(en._d.getTimezoneOffset())}function uu(){return!!this.isValid()&&this._isUTC&&this._offset===0}st.updateOffset=function(){};var Wc=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Po=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function As(en,yn){var $n,nr=en,kr=null;return vl(en)?nr={ms:en._milliseconds,d:en._days,M:en._months}:Dt(en)||!isNaN(+en)?(nr={},yn?nr[yn]=+en:nr.milliseconds=+en):(kr=Wc.exec(en))?($n=kr[1]==="-"?-1:1,nr={y:0,d:hr(kr[Nn])*$n,h:hr(kr[er])*$n,m:hr(kr[sr])*$n,s:hr(kr[Nr])*$n,ms:hr(Ys(1e3*kr[Jr]))*$n}):(kr=Po.exec(en))?($n=kr[1]==="-"?-1:1,nr={y:fo(kr[2],$n),M:fo(kr[3],$n),w:fo(kr[4],$n),d:fo(kr[5],$n),h:fo(kr[6],$n),m:fo(kr[7],$n),s:fo(kr[8],$n)}):nr==null?nr={}:typeof nr=="object"&&("from"in nr||"to"in nr)&&(yn=function(Wr,ci){var wi;return!Wr.isValid()||!ci.isValid()?{milliseconds:0,months:0}:(ci=Gs(ci,Wr),Wr.isBefore(ci)?wi=Il(Wr,ci):((wi=Il(ci,Wr)).milliseconds=-wi.milliseconds,wi.months=-wi.months),wi)}(Xo(nr.from),Xo(nr.to)),(nr={}).ms=yn.milliseconds,nr.M=yn.months),kr=new _s(nr),vl(en)&&Et(en,"_locale")&&(kr._locale=en._locale),vl(en)&&Et(en,"_isValid")&&(kr._isValid=en._isValid),kr}function fo(en,yn){return en=en&&parseFloat(en.replace(",",".")),(isNaN(en)?0:en)*yn}function Il(en,yn){var $n={};return $n.months=yn.month()-en.month()+12*(yn.year()-en.year()),en.clone().add($n.months,"M").isAfter(yn)&&--$n.months,$n.milliseconds=+yn-+en.clone().add($n.months,"M"),$n}function Th(en,yn){return function($n,nr){var kr;return nr===null||isNaN(+nr)||(Sn(yn,"moment()."+yn+"(period, number) is deprecated. Please use moment()."+yn+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),kr=$n,$n=nr,nr=kr),Lu(this,As($n,nr),en),this}}function Lu(en,ci,$n,nr){var kr=ci._milliseconds,Wr=Ys(ci._days),ci=Ys(ci._months);en.isValid()&&(nr=nr==null||nr,ci&&Ui(en,rn(en,"Month")+ci*$n),Wr&&vn(en,"Date",rn(en,"Date")+Wr*$n),kr&&en._d.setTime(en._d.valueOf()+kr*$n),nr&&st.updateOffset(en,Wr||ci))}As.fn=_s.prototype,As.invalid=function(){return As(NaN)},Si=Th(1,"add"),Sa=Th(-1,"subtract");function Ou(en){return typeof en=="string"||en instanceof String}function qc(en){return sn(en)||Ot(en)||Ou(en)||Dt(en)||function(yn){var $n=bt(yn),nr=!1;return $n&&(nr=yn.filter(function(kr){return!Dt(kr)&&Ou(yn)}).length===0),$n&&nr}(en)||function(yn){var $n,nr,kr=wt(yn)&&!Tt(yn),Wr=!1,ci=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],wi=ci.length;for($n=0;$n<wi;$n+=1)nr=ci[$n],Wr=Wr||Et(yn,nr);return kr&&Wr}(en)||en==null}function Pu(en,kr){if(en.date()<kr.date())return-Pu(kr,en);var $n=12*(kr.year()-en.year())+(kr.month()-en.month()),nr=en.clone().add($n,"months"),kr=kr-nr<0?(kr-nr)/(nr-en.clone().add($n-1,"months")):(kr-nr)/(en.clone().add(1+$n,"months")-nr);return-($n+kr)||0}function Ul(en){return en===void 0?this._locale._abbr:((en=ho(en))!=null&&(this._locale=en),this)}st.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",st.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]",Hr=wn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(en){return en===void 0?this.localeData():this.locale(en)});function Ms(){return this._locale}var Ll=126227808e5;function Qc(en,yn){return(en%yn+yn)%yn}function Mh(en,yn,$n){return en<100&&0<=en?new Date(en+400,yn,$n)-Ll:new Date(en,yn,$n).valueOf()}function _d(en,yn,$n){return en<100&&0<=en?Date.UTC(en+400,yn,$n)-Ll:Date.UTC(en,yn,$n)}function Hl(en,yn){return yn.erasAbbrRegex(en)}function Ol(){for(var en=[],yn=[],$n=[],nr=[],kr=this.eras(),Wr=0,ci=kr.length;Wr<ci;++Wr)yn.push(vi(kr[Wr].name)),en.push(vi(kr[Wr].abbr)),$n.push(vi(kr[Wr].narrow)),nr.push(vi(kr[Wr].name)),nr.push(vi(kr[Wr].abbr)),nr.push(vi(kr[Wr].narrow));this._erasRegex=new RegExp("^("+nr.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+yn.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+en.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+$n.join("|")+")","i")}function Bs(en,yn){Gn(0,[en,en.length],0,yn)}function th(en,yn,$n,nr,kr){var Wr;return en==null?Va(this,nr,kr).year:(Wr=Ti(en,nr,kr),function(ci,wi,Yi,zi,Mo){return ci=lo(ci,wi,Yi,zi,Mo),wi=Za(ci.year,0,ci.dayOfYear),this.year(wi.getUTCFullYear()),this.month(wi.getUTCMonth()),this.date(wi.getUTCDate()),this}.call(this,en,yn=Wr<yn?Wr:yn,$n,nr,kr))}Gn("N",0,0,"eraAbbr"),Gn("NN",0,0,"eraAbbr"),Gn("NNN",0,0,"eraAbbr"),Gn("NNNN",0,0,"eraName"),Gn("NNNNN",0,0,"eraNarrow"),Gn("y",["y",1],"yo","eraYear"),Gn("y",["yy",2],0,"eraYear"),Gn("y",["yyy",3],0,"eraYear"),Gn("y",["yyyy",4],0,"eraYear"),Ar("N",Hl),Ar("NN",Hl),Ar("NNN",Hl),Ar("NNNN",function(en,yn){return yn.erasNameRegex(en)}),Ar("NNNNN",function(en,yn){return yn.erasNarrowRegex(en)}),Ei(["N","NN","NNN","NNNN","NNNNN"],function(en,yn,$n,nr){nr=$n._locale.erasParse(en,nr,$n._strict),nr?Yt($n).era=nr:Yt($n).invalidEra=en}),Ar("y",Kn),Ar("yy",Kn),Ar("yyy",Kn),Ar("yyyy",Kn),Ar("yo",function(en,yn){return yn._eraYearOrdinalRegex||Kn}),Ei(["y","yy","yyy","yyyy"],Fr),Ei(["yo"],function(en,yn,$n,nr){var kr;$n._locale._eraYearOrdinalRegex&&(kr=en.match($n._locale._eraYearOrdinalRegex)),$n._locale.eraYearOrdinalParse?yn[Fr]=$n._locale.eraYearOrdinalParse(en,kr):yn[Fr]=parseInt(en,10)}),Gn(0,["gg",2],0,function(){return this.weekYear()%100}),Gn(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Bs("gggg","weekYear"),Bs("ggggg","weekYear"),Bs("GGGG","isoWeekYear"),Bs("GGGGG","isoWeekYear"),Ir("weekYear","gg"),Ir("isoWeekYear","GG"),qn("weekYear",1),qn("isoWeekYear",1),Ar("G",gr),Ar("g",gr),Ar("GG",On,Co),Ar("gg",On,Co),Ar("GGGG",Ga,bc),Ar("gggg",Ga,bc),Ar("GGGGG",Ns,nl),Ar("ggggg",Ns,nl),Bi(["gggg","ggggg","GGGG","GGGGG"],function(en,yn,$n,nr){yn[nr.substr(0,2)]=hr(en)}),Bi(["gg","GG"],function(en,yn,$n,nr){yn[nr]=st.parseTwoDigitYear(en)}),Gn("Q",0,"Qo","quarter"),Ir("quarter","Q"),qn("quarter",7),Ar("Q",hn),Ei("Q",function(en,yn){yn[Ln]=3*(hr(en)-1)}),Gn("D",["DD",2],"Do","date"),Ir("date","D"),qn("date",9),Ar("D",On),Ar("DD",On,Co),Ar("Do",function(en,yn){return en?yn._dayOfMonthOrdinalParse||yn._ordinalParse:yn._dayOfMonthOrdinalParseLenient}),Ei(["D","DD"],Nn),Ei("Do",function(en,yn){yn[Nn]=hr(en.match(On)[0])}),Ga=An("Date",!0),Gn("DDD",["DDDD",3],"DDDo","dayOfYear"),Ir("dayOfYear","DDD"),qn("dayOfYear",4),Ar("DDD",rr),Ar("DDDD",zn),Ei(["DDD","DDDD"],function(en,yn,$n){$n._dayOfYear=hr(en)}),Gn("m",["mm",2],0,"minute"),Ir("minute","m"),qn("minute",14),Ar("m",On),Ar("mm",On,Co),Ei(["m","mm"],sr);var Bo,bc=An("Minutes",!1),Ns=(Gn("s",["ss",2],0,"second"),Ir("second","s"),qn("second",15),Ar("s",On),Ar("ss",On,Co),Ei(["s","ss"],Nr),An("Seconds",!1));for(Gn("S",0,0,function(){return~~(this.millisecond()/100)}),Gn(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Gn(0,["SSS",3],0,"millisecond"),Gn(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Gn(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Gn(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Gn(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Gn(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Gn(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),Ir("millisecond","ms"),qn("millisecond",16),Ar("S",rr,hn),Ar("SS",rr,Co),Ar("SSS",rr,zn),Bo="SSSS";Bo.length<=9;Bo+="S")Ar(Bo,Kn);function Ru(en,yn){yn[Jr]=hr(1e3*("0."+en))}for(Bo="S";Bo.length<=9;Bo+="S")Ei(Bo,Ru);nl=An("Milliseconds",!1),Gn("z",0,0,"zoneAbbr"),Gn("zz",0,0,"zoneName"),hn=ln.prototype;function bl(en){return en}hn.add=Si,hn.calendar=function($n,kr){arguments.length===1&&(arguments[0]?qc(arguments[0])?($n=arguments[0],kr=void 0):function(Wr){for(var ci=wt(Wr)&&!Tt(Wr),wi=!1,Yi=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],zi=0;zi<Yi.length;zi+=1)wi=wi||Et(Wr,Yi[zi]);return ci&&wi}(arguments[0])&&(kr=arguments[0],$n=void 0):kr=$n=void 0);var $n=$n||Xo(),nr=Gs($n,this).startOf("day"),nr=st.calendarFormat(this,nr)||"sameElse",kr=kr&&(Dn(kr[nr])?kr[nr].call(this,$n):kr[nr]);return this.format(kr||this.localeData().calendar(nr,this,Xo($n)))},hn.clone=function(){return new ln(this)},hn.diff=function(en,yn,$n){var nr,kr,Wr;if(!this.isValid())return NaN;if(!(nr=Gs(en,this)).isValid())return NaN;switch(kr=6e4*(nr.utcOffset()-this.utcOffset()),yn=Pr(yn)){case"year":Wr=Pu(this,nr)/12;break;case"month":Wr=Pu(this,nr);break;case"quarter":Wr=Pu(this,nr)/3;break;case"second":Wr=(this-nr)/1e3;break;case"minute":Wr=(this-nr)/6e4;break;case"hour":Wr=(this-nr)/36e5;break;case"day":Wr=(this-nr-kr)/864e5;break;case"week":Wr=(this-nr-kr)/6048e5;break;default:Wr=this-nr}return $n?Wr:br(Wr)},hn.endOf=function(en){var yn,$n;if((en=Pr(en))===void 0||en==="millisecond"||!this.isValid())return this;switch($n=this._isUTC?_d:Mh,en){case"year":yn=$n(this.year()+1,0,1)-1;break;case"quarter":yn=$n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":yn=$n(this.year(),this.month()+1,1)-1;break;case"week":yn=$n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":yn=$n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":yn=$n(this.year(),this.month(),this.date()+1)-1;break;case"hour":yn=this._d.valueOf(),yn+=36e5-Qc(yn+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":yn=this._d.valueOf(),yn+=6e4-Qc(yn,6e4)-1;break;case"second":yn=this._d.valueOf(),yn+=1e3-Qc(yn,1e3)-1;break}return this._d.setTime(yn),st.updateOffset(this,!0),this},hn.format=function(en){return en=en||(this.isUtc()?st.defaultFormatUtc:st.defaultFormat),en=lr(this,en),this.localeData().postformat(en)},hn.from=function(en,yn){return this.isValid()&&(sn(en)&&en.isValid()||Xo(en).isValid())?As({to:this,from:en}).locale(this.locale()).humanize(!yn):this.localeData().invalidDate()},hn.fromNow=function(en){return this.from(Xo(),en)},hn.to=function(en,yn){return this.isValid()&&(sn(en)&&en.isValid()||Xo(en).isValid())?As({from:this,to:en}).locale(this.locale()).humanize(!yn):this.localeData().invalidDate()},hn.toNow=function(en){return this.to(Xo(),en)},hn.get=function(en){return Dn(this[en=Pr(en)])?this[en]():this},hn.invalidAt=function(){return Yt(this).overflow},hn.isAfter=function(en,yn){return en=sn(en)?en:Xo(en),!(!this.isValid()||!en.isValid())&&((yn=Pr(yn)||"millisecond")==="millisecond"?this.valueOf()>en.valueOf():en.valueOf()<this.clone().startOf(yn).valueOf())},hn.isBefore=function(en,yn){return en=sn(en)?en:Xo(en),!(!this.isValid()||!en.isValid())&&((yn=Pr(yn)||"millisecond")==="millisecond"?this.valueOf()<en.valueOf():this.clone().endOf(yn).valueOf()<en.valueOf())},hn.isBetween=function(en,yn,$n,nr){return en=sn(en)?en:Xo(en),yn=sn(yn)?yn:Xo(yn),!!(this.isValid()&&en.isValid()&&yn.isValid())&&((nr=nr||"()")[0]==="("?this.isAfter(en,$n):!this.isBefore(en,$n))&&(nr[1]===")"?this.isBefore(yn,$n):!this.isAfter(yn,$n))},hn.isSame=function($n,yn){var $n=sn($n)?$n:Xo($n);return!(!this.isValid()||!$n.isValid())&&((yn=Pr(yn)||"millisecond")==="millisecond"?this.valueOf()===$n.valueOf():($n=$n.valueOf(),this.clone().startOf(yn).valueOf()<=$n&&$n<=this.clone().endOf(yn).valueOf()))},hn.isSameOrAfter=function(en,yn){return this.isSame(en,yn)||this.isAfter(en,yn)},hn.isSameOrBefore=function(en,yn){return this.isSame(en,yn)||this.isBefore(en,yn)},hn.isValid=function(){return Xt(this)},hn.lang=Hr,hn.locale=Ul,hn.localeData=Ms,hn.max=Rn,hn.min=Er,hn.parsingFlags=function(){return $t({},Yt(this))},hn.set=function(en,yn){if(typeof en=="object")for(var $n=function(Wr){var ci,wi=[];for(ci in Wr)Et(Wr,ci)&&wi.push({unit:ci,priority:tr[ci]});return wi.sort(function(Yi,zi){return Yi.priority-zi.priority}),wi}(en=_r(en)),nr=$n.length,kr=0;kr<nr;kr++)this[$n[kr].unit](en[$n[kr].unit]);else if(Dn(this[en=Pr(en)]))return this[en](yn);return this},hn.startOf=function(en){var yn,$n;if((en=Pr(en))===void 0||en==="millisecond"||!this.isValid())return this;switch($n=this._isUTC?_d:Mh,en){case"year":yn=$n(this.year(),0,1);break;case"quarter":yn=$n(this.year(),this.month()-this.month()%3,1);break;case"month":yn=$n(this.year(),this.month(),1);break;case"week":yn=$n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":yn=$n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":yn=$n(this.year(),this.month(),this.date());break;case"hour":yn=this._d.valueOf(),yn-=Qc(yn+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":yn=this._d.valueOf(),yn-=Qc(yn,6e4);break;case"second":yn=this._d.valueOf(),yn-=Qc(yn,1e3);break}return this._d.setTime(yn),st.updateOffset(this,!0),this},hn.subtract=Sa,hn.toArray=function(){var en=this;return[en.year(),en.month(),en.date(),en.hour(),en.minute(),en.second(),en.millisecond()]},hn.toObject=function(){var en=this;return{years:en.year(),months:en.month(),date:en.date(),hours:en.hours(),minutes:en.minutes(),seconds:en.seconds(),milliseconds:en.milliseconds()}},hn.toDate=function(){return new Date(this.valueOf())},hn.toISOString=function(en){if(!this.isValid())return null;var yn=(en=en!==!0)?this.clone().utc():this;return yn.year()<0||9999<yn.year()?lr(yn,en?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Dn(Date.prototype.toISOString)?en?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",lr(yn,"Z")):lr(yn,en?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},hn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var en,yn="moment",$n="";return this.isLocal()||(yn=this.utcOffset()===0?"moment.utc":"moment.parseZone",$n="Z"),yn="["+yn+'("]',en=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",this.format(yn+en+"-MM-DD[T]HH:mm:ss.SSS"+($n+'[")]'))},typeof Symbol<"u"&&Symbol.for!=null&&(hn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),hn.toJSON=function(){return this.isValid()?this.toISOString():null},hn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},hn.unix=function(){return Math.floor(this.valueOf()/1e3)},hn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},hn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},hn.eraName=function(){for(var en,yn=this.localeData().eras(),$n=0,nr=yn.length;$n<nr;++$n)if(en=this.clone().startOf("day").valueOf(),yn[$n].since<=en&&en<=yn[$n].until||yn[$n].until<=en&&en<=yn[$n].since)return yn[$n].name;return""},hn.eraNarrow=function(){for(var en,yn=this.localeData().eras(),$n=0,nr=yn.length;$n<nr;++$n)if(en=this.clone().startOf("day").valueOf(),yn[$n].since<=en&&en<=yn[$n].until||yn[$n].until<=en&&en<=yn[$n].since)return yn[$n].narrow;return""},hn.eraAbbr=function(){for(var en,yn=this.localeData().eras(),$n=0,nr=yn.length;$n<nr;++$n)if(en=this.clone().startOf("day").valueOf(),yn[$n].since<=en&&en<=yn[$n].until||yn[$n].until<=en&&en<=yn[$n].since)return yn[$n].abbr;return""},hn.eraYear=function(){for(var en,yn,$n=this.localeData().eras(),nr=0,kr=$n.length;nr<kr;++nr)if(en=$n[nr].since<=$n[nr].until?1:-1,yn=this.clone().startOf("day").valueOf(),$n[nr].since<=yn&&yn<=$n[nr].until||$n[nr].until<=yn&&yn<=$n[nr].since)return(this.year()-st($n[nr].since).year())*en+$n[nr].offset;return this.year()},hn.year=wl,hn.isLeapYear=function(){return mr(this.year())},hn.weekYear=function(en){return th.call(this,en,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},hn.isoWeekYear=function(en){return th.call(this,en,this.isoWeek(),this.isoWeekday(),1,4)},hn.quarter=hn.quarters=function(en){return en==null?Math.ceil((this.month()+1)/3):this.month(3*(en-1)+this.month()%3)},hn.month=oo,hn.daysInMonth=function(){return Br(this.year(),this.month())},hn.week=hn.weeks=function(en){var yn=this.localeData().week(this);return en==null?yn:this.add(7*(en-yn),"d")},hn.isoWeek=hn.isoWeeks=function(en){var yn=Va(this,1,4).week;return en==null?yn:this.add(7*(en-yn),"d")},hn.weeksInYear=function(){var en=this.localeData()._week;return Ti(this.year(),en.dow,en.doy)},hn.weeksInWeekYear=function(){var en=this.localeData()._week;return Ti(this.weekYear(),en.dow,en.doy)},hn.isoWeeksInYear=function(){return Ti(this.year(),1,4)},hn.isoWeeksInISOWeekYear=function(){return Ti(this.isoWeekYear(),1,4)},hn.date=Ga,hn.day=hn.days=function(en){if(!this.isValid())return en!=null?this:NaN;var yn,$n,nr=this._isUTC?this._d.getUTCDay():this._d.getDay();return en!=null?(yn=en,$n=this.localeData(),en=typeof yn!="string"?yn:isNaN(yn)?typeof(yn=$n.weekdaysParse(yn))=="number"?yn:null:parseInt(yn,10),this.add(en-nr,"d")):nr},hn.weekday=function(en){if(!this.isValid())return en!=null?this:NaN;var yn=(this.day()+7-this.localeData()._week.dow)%7;return en==null?yn:this.add(en-yn,"d")},hn.isoWeekday=function(en){return this.isValid()?en!=null?(yn=en,$n=this.localeData(),$n=typeof yn=="string"?$n.weekdaysParse(yn)%7||7:isNaN(yn)?null:yn,this.day(this.day()%7?$n:$n-7)):this.day()||7:en!=null?this:NaN;var yn,$n},hn.dayOfYear=function(en){var yn=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return en==null?yn:this.add(en-yn,"d")},hn.hour=hn.hours=Cr,hn.minute=hn.minutes=bc,hn.second=hn.seconds=Ns,hn.millisecond=hn.milliseconds=nl,hn.utcOffset=function(en,yn,$n){var nr,kr=this._offset||0;if(!this.isValid())return en!=null?this:NaN;if(en==null)return this._isUTC?kr:cu(this);if(typeof en=="string"){if((en=vc(Lr,en))===null)return this}else Math.abs(en)<16&&!$n&&(en*=60);return!this._isUTC&&yn&&(nr=cu(this)),this._offset=en,this._isUTC=!0,nr!=null&&this.add(nr,"m"),kr!==en&&(!yn||this._changeInProgress?Lu(this,As(en-kr,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,st.updateOffset(this,!0),this._changeInProgress=null)),this},hn.utc=function(en){return this.utcOffset(0,en)},hn.local=function(en){return this._isUTC&&(this.utcOffset(0,en),this._isUTC=!1,en&&this.subtract(cu(this),"m")),this},hn.parseZone=function(){var en;return this._tzm!=null?this.utcOffset(this._tzm,!1,!0):typeof this._i=="string"&&((en=vc(xr,this._i))!=null?this.utcOffset(en):this.utcOffset(0,!0)),this},hn.hasAlignedHourOffset=function(en){return!!this.isValid()&&(en=en?Xo(en).utcOffset():0,(this.utcOffset()-en)%60==0)},hn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},hn.isLocal=function(){return!!this.isValid()&&!this._isUTC},hn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},hn.isUtc=uu,hn.isUTC=uu,hn.zoneAbbr=function(){return this._isUTC?"UTC":""},hn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},hn.dates=wn("dates accessor is deprecated. Use date instead.",Ga),hn.months=wn("months accessor is deprecated. Use month instead",oo),hn.years=wn("years accessor is deprecated. Use year instead",wl),hn.zone=wn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(en,yn){return en!=null?(this.utcOffset(en=typeof en!="string"?-en:en,yn),this):-this.utcOffset()}),hn.isDSTShifted=wn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!At(this._isDSTShifted))return this._isDSTShifted;var en,yn={};return Kt(yn,this),(yn=ls(yn))._a?(en=(yn._isUTC?Bt:Xo)(yn._a),this._isDSTShifted=this.isValid()&&0<function($n,nr,kr){for(var Wr=Math.min($n.length,nr.length),ci=Math.abs($n.length-nr.length),wi=0,Yi=0;Yi<Wr;Yi++)(kr&&$n[Yi]!==nr[Yi]||!kr&&hr($n[Yi])!==hr(nr[Yi]))&&wi++;return wi+ci}(yn._a,en.toArray())):this._isDSTShifted=!1,this._isDSTShifted}),Co=Un.prototype;function tc(en,yn,$n,Wr){var kr=ho(),Wr=Bt().set(Wr,yn);return kr[$n](Wr,en)}function _l(en,yn,$n){if(Dt(en)&&(yn=en,en=void 0),en=en||"",yn!=null)return tc(en,yn,$n,"month");for(var nr=[],kr=0;kr<12;kr++)nr[kr]=tc(en,kr,$n,"month");return nr}function Vl(en,yn,$n,nr){yn=(typeof en=="boolean"?Dt(yn)&&($n=yn,yn=void 0):(yn=en,en=!1,Dt($n=yn)&&($n=yn,yn=void 0)),yn||"");var kr,Wr=ho(),ci=en?Wr._week.dow:0,wi=[];if($n!=null)return tc(yn,($n+ci)%7,nr,"day");for(kr=0;kr<7;kr++)wi[kr]=tc(yn,(kr+ci)%7,nr,"day");return wi}Co.calendar=function(en,yn,$n){return Dn(en=this._calendar[en]||this._calendar.sameElse)?en.call(yn,$n):en},Co.longDateFormat=function(en){var yn=this._longDateFormat[en],$n=this._longDateFormat[en.toUpperCase()];return yn||!$n?yn:(this._longDateFormat[en]=$n.match(xn).map(function(nr){return nr==="MMMM"||nr==="MM"||nr==="DD"||nr==="dddd"?nr.slice(1):nr}).join(""),this._longDateFormat[en])},Co.invalidDate=function(){return this._invalidDate},Co.ordinal=function(en){return this._ordinal.replace("%d",en)},Co.preparse=bl,Co.postformat=bl,Co.relativeTime=function(en,yn,$n,nr){var kr=this._relativeTime[$n];return Dn(kr)?kr(en,yn,$n,nr):kr.replace(/%d/i,en)},Co.pastFuture=function(en,yn){return Dn(en=this._relativeTime[0<en?"future":"past"])?en(yn):en.replace(/%s/i,yn)},Co.set=function(en){var yn,$n;for($n in en)Et(en,$n)&&(Dn(yn=en[$n])?this[$n]=yn:this["_"+$n]=yn);this._config=en,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},Co.eras=function(en,yn){for(var $n,nr=this._eras||ho("en")._eras,kr=0,Wr=nr.length;kr<Wr;++kr){switch(typeof nr[kr].since){case"string":$n=st(nr[kr].since).startOf("day"),nr[kr].since=$n.valueOf();break}switch(typeof nr[kr].until){case"undefined":nr[kr].until=1/0;break;case"string":$n=st(nr[kr].until).startOf("day").valueOf(),nr[kr].until=$n.valueOf();break}}return nr},Co.erasParse=function(en,yn,$n){var nr,kr,Wr,ci,wi,Yi=this.eras();for(en=en.toUpperCase(),nr=0,kr=Yi.length;nr<kr;++nr)if(Wr=Yi[nr].name.toUpperCase(),ci=Yi[nr].abbr.toUpperCase(),wi=Yi[nr].narrow.toUpperCase(),$n)switch(yn){case"N":case"NN":case"NNN":if(ci===en)return Yi[nr];break;case"NNNN":if(Wr===en)return Yi[nr];break;case"NNNNN":if(wi===en)return Yi[nr];break}else if(0<=[Wr,ci,wi].indexOf(en))return Yi[nr]},Co.erasConvertYear=function(en,yn){var $n=en.since<=en.until?1:-1;return yn===void 0?st(en.since).year():st(en.since).year()+(yn-en.offset)*$n},Co.erasAbbrRegex=function(en){return Et(this,"_erasAbbrRegex")||Ol.call(this),en?this._erasAbbrRegex:this._erasRegex},Co.erasNameRegex=function(en){return Et(this,"_erasNameRegex")||Ol.call(this),en?this._erasNameRegex:this._erasRegex},Co.erasNarrowRegex=function(en){return Et(this,"_erasNarrowRegex")||Ol.call(this),en?this._erasNarrowRegex:this._erasRegex},Co.months=function(en,yn){return en?(bt(this._months)?this._months:this._months[(this._months.isFormat||Ri).test(yn)?"format":"standalone"])[en.month()]:bt(this._months)?this._months:this._months.standalone},Co.monthsShort=function(en,yn){return en?(bt(this._monthsShort)?this._monthsShort:this._monthsShort[Ri.test(yn)?"format":"standalone"])[en.month()]:bt(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},Co.monthsParse=function(en,yn,$n){var nr,kr;if(this._monthsParseExact)return function(cn,ci,wi){var Yi,zi,Mo,cn=cn.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],Yi=0;Yi<12;++Yi)Mo=Bt([2e3,Yi]),this._shortMonthsParse[Yi]=this.monthsShort(Mo,"").toLocaleLowerCase(),this._longMonthsParse[Yi]=this.months(Mo,"").toLocaleLowerCase();return wi?ci==="MMM"?(zi=Ai.call(this._shortMonthsParse,cn))!==-1?zi:null:(zi=Ai.call(this._longMonthsParse,cn))!==-1?zi:null:ci==="MMM"?(zi=Ai.call(this._shortMonthsParse,cn))!==-1||(zi=Ai.call(this._longMonthsParse,cn))!==-1?zi:null:(zi=Ai.call(this._longMonthsParse,cn))!==-1||(zi=Ai.call(this._shortMonthsParse,cn))!==-1?zi:null}.call(this,en,yn,$n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),nr=0;nr<12;nr++)if(kr=Bt([2e3,nr]),$n&&!this._longMonthsParse[nr]&&(this._longMonthsParse[nr]=new RegExp("^"+this.months(kr,"").replace(".","")+"$","i"),this._shortMonthsParse[nr]=new RegExp("^"+this.monthsShort(kr,"").replace(".","")+"$","i")),$n||this._monthsParse[nr]||(kr="^"+this.months(kr,"")+"|^"+this.monthsShort(kr,""),this._monthsParse[nr]=new RegExp(kr.replace(".",""),"i")),$n&&yn==="MMMM"&&this._longMonthsParse[nr].test(en)||$n&&yn==="MMM"&&this._shortMonthsParse[nr].test(en)||!$n&&this._monthsParse[nr].test(en))return nr},Co.monthsRegex=function(en){return this._monthsParseExact?(Et(this,"_monthsRegex")||wo.call(this),en?this._monthsStrictRegex:this._monthsRegex):(Et(this,"_monthsRegex")||(this._monthsRegex=eo),this._monthsStrictRegex&&en?this._monthsStrictRegex:this._monthsRegex)},Co.monthsShortRegex=function(en){return this._monthsParseExact?(Et(this,"_monthsRegex")||wo.call(this),en?this._monthsShortStrictRegex:this._monthsShortRegex):(Et(this,"_monthsShortRegex")||(this._monthsShortRegex=Li),this._monthsShortStrictRegex&&en?this._monthsShortStrictRegex:this._monthsShortRegex)},Co.week=function(en){return Va(en,this._week.dow,this._week.doy).week},Co.firstDayOfYear=function(){return this._week.doy},Co.firstDayOfWeek=function(){return this._week.dow},Co.weekdays=function(en,yn){return yn=bt(this._weekdays)?this._weekdays:this._weekdays[en&&en!==!0&&this._weekdays.isFormat.test(yn)?"format":"standalone"],en===!0?ca(yn,this._week.dow):en?yn[en.day()]:yn},Co.weekdaysMin=function(en){return en===!0?ca(this._weekdaysMin,this._week.dow):en?this._weekdaysMin[en.day()]:this._weekdaysMin},Co.weekdaysShort=function(en){return en===!0?ca(this._weekdaysShort,this._week.dow):en?this._weekdaysShort[en.day()]:this._weekdaysShort},Co.weekdaysParse=function(en,yn,$n){var nr,kr;if(this._weekdaysParseExact)return function(cn,ci,wi){var Yi,zi,Mo,cn=cn.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],Yi=0;Yi<7;++Yi)Mo=Bt([2e3,1]).day(Yi),this._minWeekdaysParse[Yi]=this.weekdaysMin(Mo,"").toLocaleLowerCase(),this._shortWeekdaysParse[Yi]=this.weekdaysShort(Mo,"").toLocaleLowerCase(),this._weekdaysParse[Yi]=this.weekdays(Mo,"").toLocaleLowerCase();return wi?ci==="dddd"?(zi=Ai.call(this._weekdaysParse,cn))!==-1?zi:null:ci==="ddd"?(zi=Ai.call(this._shortWeekdaysParse,cn))!==-1?zi:null:(zi=Ai.call(this._minWeekdaysParse,cn))!==-1?zi:null:ci==="dddd"?(zi=Ai.call(this._weekdaysParse,cn))!==-1||(zi=Ai.call(this._shortWeekdaysParse,cn))!==-1||(zi=Ai.call(this._minWeekdaysParse,cn))!==-1?zi:null:ci==="ddd"?(zi=Ai.call(this._shortWeekdaysParse,cn))!==-1||(zi=Ai.call(this._weekdaysParse,cn))!==-1||(zi=Ai.call(this._minWeekdaysParse,cn))!==-1?zi:null:(zi=Ai.call(this._minWeekdaysParse,cn))!==-1||(zi=Ai.call(this._weekdaysParse,cn))!==-1||(zi=Ai.call(this._shortWeekdaysParse,cn))!==-1?zi:null}.call(this,en,yn,$n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),nr=0;nr<7;nr++)if(kr=Bt([2e3,1]).day(nr),$n&&!this._fullWeekdaysParse[nr]&&(this._fullWeekdaysParse[nr]=new RegExp("^"+this.weekdays(kr,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[nr]=new RegExp("^"+this.weekdaysShort(kr,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[nr]=new RegExp("^"+this.weekdaysMin(kr,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[nr]||(kr="^"+this.weekdays(kr,"")+"|^"+this.weekdaysShort(kr,"")+"|^"+this.weekdaysMin(kr,""),this._weekdaysParse[nr]=new RegExp(kr.replace(".",""),"i")),$n&&yn==="dddd"&&this._fullWeekdaysParse[nr].test(en)||$n&&yn==="ddd"&&this._shortWeekdaysParse[nr].test(en)||$n&&yn==="dd"&&this._minWeekdaysParse[nr].test(en)||!$n&&this._weekdaysParse[nr].test(en))return nr},Co.weekdaysRegex=function(en){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Zr.call(this),en?this._weekdaysStrictRegex:this._weekdaysRegex):(Et(this,"_weekdaysRegex")||(this._weekdaysRegex=ii),this._weekdaysStrictRegex&&en?this._weekdaysStrictRegex:this._weekdaysRegex)},Co.weekdaysShortRegex=function(en){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Zr.call(this),en?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Et(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ur),this._weekdaysShortStrictRegex&&en?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},Co.weekdaysMinRegex=function(en){return this._weekdaysParseExact?(Et(this,"_weekdaysRegex")||Zr.call(this),en?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Et(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Tr),this._weekdaysMinStrictRegex&&en?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},Co.isPM=function(en){return(en+"").toLowerCase().charAt(0)==="p"},Co.meridiem=function(en,yn,$n){return 11<en?$n?"pm":"PM":$n?"am":"AM"},Zi("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(en){var yn=en%10;return en+(hr(en%100/10)===1?"th":yn==1?"st":yn==2?"nd":yn==3?"rd":"th")}}),st.lang=wn("moment.lang is deprecated. Use moment.locale instead.",Zi),st.langData=wn("moment.langData is deprecated. Use moment.localeData instead.",ho);var Pl=Math.abs;function Yl(en,yn,$n,nr){return yn=As(yn,$n),en._milliseconds+=nr*yn._milliseconds,en._days+=nr*yn._days,en._months+=nr*yn._months,en._bubble()}function Sh(en){return en<0?Math.floor(en):Math.ceil(en)}function nh(en){return 4800*en/146097}function rh(en){return 146097*en/4800}function ya(en){return function(){return this.as(en)}}rr=ya("ms"),zn=ya("s"),Si=ya("m"),Rn=ya("h"),Er=ya("d"),Sa=ya("w"),Cr=ya("M"),bc=ya("Q"),Ns=ya("y");function _c(en){return function(){return this.isValid()?this._data[en]:NaN}}var nl=_c("milliseconds"),Ga=_c("seconds"),wl=_c("minutes"),Co=_c("hours"),kh=_c("days"),rl=_c("months"),zu=_c("years"),Gl=Math.round,cs={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function pl(en,yn,$n,nr){var zi=As(en).abs(),Mo=Gl(zi.as("s")),kr=Gl(zi.as("m")),Wr=Gl(zi.as("h")),ci=Gl(zi.as("d")),wi=Gl(zi.as("M")),Yi=Gl(zi.as("w")),zi=Gl(zi.as("y")),Mo=(Mo<=$n.ss?["s",Mo]:Mo<$n.s&&["ss",Mo])||kr<=1&&["m"]||kr<$n.m&&["mm",kr]||Wr<=1&&["h"]||Wr<$n.h&&["hh",Wr]||ci<=1&&["d"]||ci<$n.d&&["dd",ci];return(Mo=(Mo=$n.w!=null?Mo||Yi<=1&&["w"]||Yi<$n.w&&["ww",Yi]:Mo)||wi<=1&&["M"]||wi<$n.M&&["MM",wi]||zi<=1&&["y"]||["yy",zi])[2]=yn,Mo[3]=0<+en,Mo[4]=nr,function(cn,dn,Pn,or,wr){return wr.relativeTime(dn||1,!!Pn,cn,or)}.apply(null,Mo)}var Ls=Math.abs;function Ws(en){return(0<en)-(en<0)||+en}function ih(){if(!this.isValid())return this.localeData().invalidDate();var en,yn,$n,nr,kr,Wr,ci,wi=Ls(this._milliseconds)/1e3,Yi=Ls(this._days),zi=Ls(this._months),Mo=this.asSeconds();return Mo?(en=br(wi/60),yn=br(en/60),wi%=60,en%=60,$n=br(zi/12),zi%=12,nr=wi?wi.toFixed(3).replace(/\.?0+$/,""):"",kr=Ws(this._months)!==Ws(Mo)?"-":"",Wr=Ws(this._days)!==Ws(Mo)?"-":"",ci=Ws(this._milliseconds)!==Ws(Mo)?"-":"",(Mo<0?"-":"")+"P"+($n?kr+$n+"Y":"")+(zi?kr+zi+"M":"")+(Yi?Wr+Yi+"D":"")+(yn||en||wi?"T":"")+(yn?ci+yn+"H":"")+(en?ci+en+"M":"")+(wi?ci+nr+"S":"")):"P0D"}var ta=_s.prototype;return ta.isValid=function(){return this._isValid},ta.abs=function(){var en=this._data;return this._milliseconds=Pl(this._milliseconds),this._days=Pl(this._days),this._months=Pl(this._months),en.milliseconds=Pl(en.milliseconds),en.seconds=Pl(en.seconds),en.minutes=Pl(en.minutes),en.hours=Pl(en.hours),en.months=Pl(en.months),en.years=Pl(en.years),this},ta.add=function(en,yn){return Yl(this,en,yn,1)},ta.subtract=function(en,yn){return Yl(this,en,yn,-1)},ta.as=function(en){if(!this.isValid())return NaN;var yn,$n,nr=this._milliseconds;if((en=Pr(en))==="month"||en==="quarter"||en==="year")switch(yn=this._days+nr/864e5,$n=this._months+nh(yn),en){case"month":return $n;case"quarter":return $n/3;case"year":return $n/12}else switch(yn=this._days+Math.round(rh(this._months)),en){case"week":return yn/7+nr/6048e5;case"day":return yn+nr/864e5;case"hour":return 24*yn+nr/36e5;case"minute":return 1440*yn+nr/6e4;case"second":return 86400*yn+nr/1e3;case"millisecond":return Math.floor(864e5*yn)+nr;default:throw new Error("Unknown unit "+en)}},ta.asMilliseconds=rr,ta.asSeconds=zn,ta.asMinutes=Si,ta.asHours=Rn,ta.asDays=Er,ta.asWeeks=Sa,ta.asMonths=Cr,ta.asQuarters=bc,ta.asYears=Ns,ta.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*hr(this._months/12):NaN},ta._bubble=function(){var en=this._milliseconds,yn=this._days,$n=this._months,nr=this._data;return 0<=en&&0<=yn&&0<=$n||en<=0&&yn<=0&&$n<=0||(en+=864e5*Sh(rh($n)+yn),$n=yn=0),nr.milliseconds=en%1e3,en=br(en/1e3),nr.seconds=en%60,en=br(en/60),nr.minutes=en%60,en=br(en/60),nr.hours=en%24,yn+=br(en/24),$n+=en=br(nh(yn)),yn-=Sh(rh(en)),en=br($n/12),$n%=12,nr.days=yn,nr.months=$n,nr.years=en,this},ta.clone=function(){return As(this)},ta.get=function(en){return en=Pr(en),this.isValid()?this[en+"s"]():NaN},ta.milliseconds=nl,ta.seconds=Ga,ta.minutes=wl,ta.hours=Co,ta.days=kh,ta.weeks=function(){return br(this.days()/7)},ta.months=rl,ta.years=zu,ta.humanize=function(en,yn){if(!this.isValid())return this.localeData().invalidDate();var $n=!1,nr=cs;return typeof en=="object"&&(yn=en,en=!1),typeof en=="boolean"&&($n=en),typeof yn=="object"&&(nr=Object.assign({},cs,yn),yn.s!=null&&yn.ss==null&&(nr.ss=yn.s-1)),en=this.localeData(),yn=pl(this,!$n,nr,en),$n&&(yn=en.pastFuture(+this,yn)),en.postformat(yn)},ta.toISOString=ih,ta.toString=ih,ta.toJSON=ih,ta.locale=Ul,ta.localeData=Ms,ta.toIsoString=wn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ih),ta.lang=Hr,Gn("X",0,0,"unix"),Gn("x",0,0,"valueOf"),Ar("x",gr),Ar("X",/[+-]?\d+(\.\d{1,3})?/),Ei("X",function(en,yn,$n){$n._d=new Date(1e3*parseFloat(en))}),Ei("x",function(en,yn,$n){$n._d=new Date(hr(en))}),st.version="2.29.4",it=Xo,st.fn=hn,st.min=function(){return bs("isBefore",[].slice.call(arguments,0))},st.max=function(){return bs("isAfter",[].slice.call(arguments,0))},st.now=function(){return Date.now?Date.now():+new Date},st.utc=Bt,st.unix=function(en){return Xo(1e3*en)},st.months=function(en,yn){return _l(en,yn,"months")},st.isDate=Ot,st.locale=Zi,st.invalid=Ht,st.duration=As,st.isMoment=sn,st.weekdays=function(en,yn,$n){return Vl(en,yn,$n,"weekdays")},st.parseZone=function(){return Xo.apply(null,arguments).parseZone()},st.localeData=ho,st.isDuration=vl,st.monthsShort=function(en,yn){return _l(en,yn,"monthsShort")},st.weekdaysMin=function(en,yn,$n){return Vl(en,yn,$n,"weekdaysMin")},st.defineLocale=bo,st.updateLocale=function(en,yn){var $n,nr;return yn!=null?(nr=oa,mo[en]!=null&&mo[en].parentLocale!=null?mo[en].set(gn(mo[en]._config,yn)):(yn=gn(nr=($n=vs(en))!=null?$n._config:nr,yn),$n==null&&(yn.abbr=en),(nr=new Un(yn)).parentLocale=mo[en],mo[en]=nr),Zi(en)):mo[en]!=null&&(mo[en].parentLocale!=null?(mo[en]=mo[en].parentLocale,en===Zi()&&Zi(en)):mo[en]!=null&&delete mo[en]),mo[en]},st.locales=function(){return pn(mo)},st.weekdaysShort=function(en,yn,$n){return Vl(en,yn,$n,"weekdaysShort")},st.normalizeUnits=Pr,st.relativeTimeRounding=function(en){return en===void 0?Gl:typeof en=="function"&&(Gl=en,!0)},st.relativeTimeThreshold=function(en,yn){return cs[en]!==void 0&&(yn===void 0?cs[en]:(cs[en]=yn,en==="s"&&(cs.ss=yn-1),!0))},st.calendarFormat=function(en,yn){return(en=en.diff(yn,"days",!0))<-6?"sameElse":en<-1?"lastWeek":en<0?"lastDay":en<1?"sameDay":en<2?"nextDay":en<7?"nextWeek":"sameElse"},st.prototype=hn,st.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},st})})(moment_min);const moment=moment_min.exports;var dist={};Object.defineProperty(dist,"__esModule",{value:!0});var sanitizeUrl_1=dist.sanitizeUrl=void 0,invalidProtocolRegex=/^([^\w]*)(javascript|data|vbscript)/im,htmlEntitiesRegex=/&#(\w+)(^\w|;)?/g,htmlCtrlEntityRegex=/&(newline|tab);/gi,ctrlCharactersRegex=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,urlSchemeRegex=/^.+(:|&colon;)/gim,relativeFirstCharacters=[".","/"];function isRelativeUrlWithoutProtocol(nt){return relativeFirstCharacters.indexOf(nt[0])>-1}function decodeHtmlCharacters(nt){return nt.replace(htmlEntitiesRegex,function(rt,it){return String.fromCharCode(it)})}function sanitizeUrl(nt){var rt=decodeHtmlCharacters(nt||"").replace(htmlCtrlEntityRegex,"").replace(ctrlCharactersRegex,"").trim();if(!rt)return"about:blank";if(isRelativeUrlWithoutProtocol(rt))return rt;var it=rt.match(urlSchemeRegex);if(!it)return rt;var st=it[0];return invalidProtocolRegex.test(st)?"about:blank":rt}sanitizeUrl_1=dist.sanitizeUrl=sanitizeUrl;function ascending$1(nt,rt){return nt==null||rt==null?NaN:nt<rt?-1:nt>rt?1:nt>=rt?0:NaN}function descending$1(nt,rt){return nt==null||rt==null?NaN:rt<nt?-1:rt>nt?1:rt>=nt?0:NaN}function bisector(nt){let rt,it,st;nt.length!==2?(rt=ascending$1,it=(Tt,At)=>ascending$1(nt(Tt),At),st=(Tt,At)=>nt(Tt)-At):(rt=nt===ascending$1||nt===descending$1?nt:zero$1,it=nt,st=nt);function bt(Tt,At,Dt=0,Ot=Tt.length){if(Dt<Ot){if(rt(At,At)!==0)return Ot;do{const zt=Dt+Ot>>>1;it(Tt[zt],At)<0?Dt=zt+1:Ot=zt}while(Dt<Ot)}return Dt}function wt(Tt,At,Dt=0,Ot=Tt.length){if(Dt<Ot){if(rt(At,At)!==0)return Ot;do{const zt=Dt+Ot>>>1;it(Tt[zt],At)<=0?Dt=zt+1:Ot=zt}while(Dt<Ot)}return Dt}function Et(Tt,At,Dt=0,Ot=Tt.length){const zt=bt(Tt,At,Dt,Ot-1);return zt>Dt&&st(Tt[zt-1],At)>-st(Tt[zt],At)?zt-1:zt}return{left:bt,center:Et,right:wt}}function zero$1(){return 0}function number$3(nt){return nt===null?NaN:+nt}const ascendingBisect=bisector(ascending$1),bisectRight=ascendingBisect.right;bisector(number$3).center;const bisect=bisectRight;class InternMap extends Map{constructor(rt,it=keyof){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:it}}),rt!=null)for(const[st,bt]of rt)this.set(st,bt)}get(rt){return super.get(intern_get(this,rt))}has(rt){return super.has(intern_get(this,rt))}set(rt,it){return super.set(intern_set(this,rt),it)}delete(rt){return super.delete(intern_delete(this,rt))}}function intern_get({_intern:nt,_key:rt},it){const st=rt(it);return nt.has(st)?nt.get(st):it}function intern_set({_intern:nt,_key:rt},it){const st=rt(it);return nt.has(st)?nt.get(st):(nt.set(st,it),it)}function intern_delete({_intern:nt,_key:rt},it){const st=rt(it);return nt.has(st)&&(it=nt.get(st),nt.delete(st)),it}function keyof(nt){return nt!==null&&typeof nt=="object"?nt.valueOf():nt}var e10=Math.sqrt(50),e5=Math.sqrt(10),e2=Math.sqrt(2);function ticks(nt,rt,it){var st,bt=-1,wt,Et,Tt;if(rt=+rt,nt=+nt,it=+it,nt===rt&&it>0)return[nt];if((st=rt<nt)&&(wt=nt,nt=rt,rt=wt),(Tt=tickIncrement(nt,rt,it))===0||!isFinite(Tt))return[];if(Tt>0){let At=Math.round(nt/Tt),Dt=Math.round(rt/Tt);for(At*Tt<nt&&++At,Dt*Tt>rt&&--Dt,Et=new Array(wt=Dt-At+1);++bt<wt;)Et[bt]=(At+bt)*Tt}else{Tt=-Tt;let At=Math.round(nt*Tt),Dt=Math.round(rt*Tt);for(At/Tt<nt&&++At,Dt/Tt>rt&&--Dt,Et=new Array(wt=Dt-At+1);++bt<wt;)Et[bt]=(At+bt)/Tt}return st&&Et.reverse(),Et}function tickIncrement(nt,rt,it){var st=(rt-nt)/Math.max(0,it),bt=Math.floor(Math.log(st)/Math.LN10),wt=st/Math.pow(10,bt);return bt>=0?(wt>=e10?10:wt>=e5?5:wt>=e2?2:1)*Math.pow(10,bt):-Math.pow(10,-bt)/(wt>=e10?10:wt>=e5?5:wt>=e2?2:1)}function tickStep(nt,rt,it){var st=Math.abs(rt-nt)/Math.max(0,it),bt=Math.pow(10,Math.floor(Math.log(st)/Math.LN10)),wt=st/bt;return wt>=e10?bt*=10:wt>=e5?bt*=5:wt>=e2&&(bt*=2),rt<nt?-bt:bt}function max$2(nt,rt){let it;if(rt===void 0)for(const st of nt)st!=null&&(it<st||it===void 0&&st>=st)&&(it=st);else{let st=-1;for(let bt of nt)(bt=rt(bt,++st,nt))!=null&&(it<bt||it===void 0&&bt>=bt)&&(it=bt)}return it}function min$2(nt,rt){let it;if(rt===void 0)for(const st of nt)st!=null&&(it>st||it===void 0&&st>=st)&&(it=st);else{let st=-1;for(let bt of nt)(bt=rt(bt,++st,nt))!=null&&(it>bt||it===void 0&&bt>=bt)&&(it=bt)}return it}function identity$5(nt){return nt}var top=1,right=2,bottom=3,left=4,epsilon$2=1e-6;function translateX(nt){return"translate("+nt+",0)"}function translateY(nt){return"translate(0,"+nt+")"}function number$2(nt){return rt=>+nt(rt)}function center(nt,rt){return rt=Math.max(0,nt.bandwidth()-rt*2)/2,nt.round()&&(rt=Math.round(rt)),it=>+nt(it)+rt}function entering(){return!this.__axis}function axis(nt,rt){var it=[],st=null,bt=null,wt=6,Et=6,Tt=3,At=typeof window<"u"&&window.devicePixelRatio>1?0:.5,Dt=nt===top||nt===left?-1:1,Ot=nt===left||nt===right?"x":"y",zt=nt===top||nt===bottom?translateX:translateY;function $t(Bt){var Yt=st==null?rt.ticks?rt.ticks.apply(rt,it):rt.domain():st,Xt=bt==null?rt.tickFormat?rt.tickFormat.apply(rt,it):identity$5:bt,Ht=Math.max(wt,0)+Tt,Qt=rt.range(),Zt=+Qt[0]+At,nn=+Qt[Qt.length-1]+At,Kt=(rt.bandwidth?center:number$2)(rt.copy(),At),ln=Bt.selection?Bt.selection():Bt,sn=ln.selectAll(".domain").data([null]),bn=ln.selectAll(".tick").data(Yt,rt).order(),wn=bn.exit(),Mn=bn.enter().append("g").attr("class","tick"),Sn=bn.select("line"),Dn=bn.select("text");sn=sn.merge(sn.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),bn=bn.merge(Mn),Sn=Sn.merge(Mn.append("line").attr("stroke","currentColor").attr(Ot+"2",Dt*wt)),Dn=Dn.merge(Mn.append("text").attr("fill","currentColor").attr(Ot,Dt*Ht).attr("dy",nt===top?"0em":nt===bottom?"0.71em":"0.32em")),Bt!==ln&&(sn=sn.transition(Bt),bn=bn.transition(Bt),Sn=Sn.transition(Bt),Dn=Dn.transition(Bt),wn=wn.transition(Bt).attr("opacity",epsilon$2).attr("transform",function(gn){return isFinite(gn=Kt(gn))?zt(gn+At):this.getAttribute("transform")}),Mn.attr("opacity",epsilon$2).attr("transform",function(gn){var Un=this.parentNode.__axis;return zt((Un&&isFinite(Un=Un(gn))?Un:Kt(gn))+At)})),wn.remove(),sn.attr("d",nt===left||nt===right?Et?"M"+Dt*Et+","+Zt+"H"+At+"V"+nn+"H"+Dt*Et:"M"+At+","+Zt+"V"+nn:Et?"M"+Zt+","+Dt*Et+"V"+At+"H"+nn+"V"+Dt*Et:"M"+Zt+","+At+"H"+nn),bn.attr("opacity",1).attr("transform",function(gn){return zt(Kt(gn)+At)}),Sn.attr(Ot+"2",Dt*wt),Dn.attr(Ot,Dt*Ht).text(Xt),ln.filter(entering).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",nt===right?"start":nt===left?"end":"middle"),ln.each(function(){this.__axis=Kt})}return $t.scale=function(Bt){return arguments.length?(rt=Bt,$t):rt},$t.ticks=function(){return it=Array.from(arguments),$t},$t.tickArguments=function(Bt){return arguments.length?(it=Bt==null?[]:Array.from(Bt),$t):it.slice()},$t.tickValues=function(Bt){return arguments.length?(st=Bt==null?null:Array.from(Bt),$t):st&&st.slice()},$t.tickFormat=function(Bt){return arguments.length?(bt=Bt,$t):bt},$t.tickSize=function(Bt){return arguments.length?(wt=Et=+Bt,$t):wt},$t.tickSizeInner=function(Bt){return arguments.length?(wt=+Bt,$t):wt},$t.tickSizeOuter=function(Bt){return arguments.length?(Et=+Bt,$t):Et},$t.tickPadding=function(Bt){return arguments.length?(Tt=+Bt,$t):Tt},$t.offset=function(Bt){return arguments.length?(At=+Bt,$t):At},$t}function axisTop(nt){return axis(top,nt)}function axisBottom(nt){return axis(bottom,nt)}var noop$2={value:()=>{}};function dispatch(){for(var nt=0,rt=arguments.length,it={},st;nt<rt;++nt){if(!(st=arguments[nt]+"")||st in it||/[\s.]/.test(st))throw new Error("illegal type: "+st);it[st]=[]}return new Dispatch(it)}function Dispatch(nt){this._=nt}function parseTypenames$1(nt,rt){return nt.trim().split(/^|\s+/).map(function(it){var st="",bt=it.indexOf(".");if(bt>=0&&(st=it.slice(bt+1),it=it.slice(0,bt)),it&&!rt.hasOwnProperty(it))throw new Error("unknown type: "+it);return{type:it,name:st}})}Dispatch.prototype=dispatch.prototype={constructor:Dispatch,on:function(nt,rt){var it=this._,st=parseTypenames$1(nt+"",it),bt,wt=-1,Et=st.length;if(arguments.length<2){for(;++wt<Et;)if((bt=(nt=st[wt]).type)&&(bt=get$3(it[bt],nt.name)))return bt;return}if(rt!=null&&typeof rt!="function")throw new Error("invalid callback: "+rt);for(;++wt<Et;)if(bt=(nt=st[wt]).type)it[bt]=set$2(it[bt],nt.name,rt);else if(rt==null)for(bt in it)it[bt]=set$2(it[bt],nt.name,null);return this},copy:function(){var nt={},rt=this._;for(var it in rt)nt[it]=rt[it].slice();return new Dispatch(nt)},call:function(nt,rt){if((bt=arguments.length-2)>0)for(var it=new Array(bt),st=0,bt,wt;st<bt;++st)it[st]=arguments[st+2];if(!this._.hasOwnProperty(nt))throw new Error("unknown type: "+nt);for(wt=this._[nt],st=0,bt=wt.length;st<bt;++st)wt[st].value.apply(rt,it)},apply:function(nt,rt,it){if(!this._.hasOwnProperty(nt))throw new Error("unknown type: "+nt);for(var st=this._[nt],bt=0,wt=st.length;bt<wt;++bt)st[bt].value.apply(rt,it)}};function get$3(nt,rt){for(var it=0,st=nt.length,bt;it<st;++it)if((bt=nt[it]).name===rt)return bt.value}function set$2(nt,rt,it){for(var st=0,bt=nt.length;st<bt;++st)if(nt[st].name===rt){nt[st]=noop$2,nt=nt.slice(0,st).concat(nt.slice(st+1));break}return it!=null&&nt.push({name:rt,value:it}),nt}var xhtml="http://www.w3.org/1999/xhtml";const namespaces={svg:"http://www.w3.org/2000/svg",xhtml,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function namespace(nt){var rt=nt+="",it=rt.indexOf(":");return it>=0&&(rt=nt.slice(0,it))!=="xmlns"&&(nt=nt.slice(it+1)),namespaces.hasOwnProperty(rt)?{space:namespaces[rt],local:nt}:nt}function creatorInherit(nt){return function(){var rt=this.ownerDocument,it=this.namespaceURI;return it===xhtml&&rt.documentElement.namespaceURI===xhtml?rt.createElement(nt):rt.createElementNS(it,nt)}}function creatorFixed(nt){return function(){return this.ownerDocument.createElementNS(nt.space,nt.local)}}function creator(nt){var rt=namespace(nt);return(rt.local?creatorFixed:creatorInherit)(rt)}function none(){}function selector(nt){return nt==null?none:function(){return this.querySelector(nt)}}function selection_select(nt){typeof nt!="function"&&(nt=selector(nt));for(var rt=this._groups,it=rt.length,st=new Array(it),bt=0;bt<it;++bt)for(var wt=rt[bt],Et=wt.length,Tt=st[bt]=new Array(Et),At,Dt,Ot=0;Ot<Et;++Ot)(At=wt[Ot])&&(Dt=nt.call(At,At.__data__,Ot,wt))&&("__data__"in At&&(Dt.__data__=At.__data__),Tt[Ot]=Dt);return new Selection$1(st,this._parents)}function array$1(nt){return nt==null?[]:Array.isArray(nt)?nt:Array.from(nt)}function empty(){return[]}function selectorAll(nt){return nt==null?empty:function(){return this.querySelectorAll(nt)}}function arrayAll(nt){return function(){return array$1(nt.apply(this,arguments))}}function selection_selectAll(nt){typeof nt=="function"?nt=arrayAll(nt):nt=selectorAll(nt);for(var rt=this._groups,it=rt.length,st=[],bt=[],wt=0;wt<it;++wt)for(var Et=rt[wt],Tt=Et.length,At,Dt=0;Dt<Tt;++Dt)(At=Et[Dt])&&(st.push(nt.call(At,At.__data__,Dt,Et)),bt.push(At));return new Selection$1(st,bt)}function matcher(nt){return function(){return this.matches(nt)}}function childMatcher(nt){return function(rt){return rt.matches(nt)}}var find$2=Array.prototype.find;function childFind(nt){return function(){return find$2.call(this.children,nt)}}function childFirst(){return this.firstElementChild}function selection_selectChild(nt){return this.select(nt==null?childFirst:childFind(typeof nt=="function"?nt:childMatcher(nt)))}var filter$1=Array.prototype.filter;function children(){return Array.from(this.children)}function childrenFilter(nt){return function(){return filter$1.call(this.children,nt)}}function selection_selectChildren(nt){return this.selectAll(nt==null?children:childrenFilter(typeof nt=="function"?nt:childMatcher(nt)))}function selection_filter(nt){typeof nt!="function"&&(nt=matcher(nt));for(var rt=this._groups,it=rt.length,st=new Array(it),bt=0;bt<it;++bt)for(var wt=rt[bt],Et=wt.length,Tt=st[bt]=[],At,Dt=0;Dt<Et;++Dt)(At=wt[Dt])&&nt.call(At,At.__data__,Dt,wt)&&Tt.push(At);return new Selection$1(st,this._parents)}function sparse(nt){return new Array(nt.length)}function selection_enter(){return new Selection$1(this._enter||this._groups.map(sparse),this._parents)}function EnterNode(nt,rt){this.ownerDocument=nt.ownerDocument,this.namespaceURI=nt.namespaceURI,this._next=null,this._parent=nt,this.__data__=rt}EnterNode.prototype={constructor:EnterNode,appendChild:function(nt){return this._parent.insertBefore(nt,this._next)},insertBefore:function(nt,rt){return this._parent.insertBefore(nt,rt)},querySelector:function(nt){return this._parent.querySelector(nt)},querySelectorAll:function(nt){return this._parent.querySelectorAll(nt)}};function constant$3(nt){return function(){return nt}}function bindIndex(nt,rt,it,st,bt,wt){for(var Et=0,Tt,At=rt.length,Dt=wt.length;Et<Dt;++Et)(Tt=rt[Et])?(Tt.__data__=wt[Et],st[Et]=Tt):it[Et]=new EnterNode(nt,wt[Et]);for(;Et<At;++Et)(Tt=rt[Et])&&(bt[Et]=Tt)}function bindKey(nt,rt,it,st,bt,wt,Et){var Tt,At,Dt=new Map,Ot=rt.length,zt=wt.length,$t=new Array(Ot),Bt;for(Tt=0;Tt<Ot;++Tt)(At=rt[Tt])&&($t[Tt]=Bt=Et.call(At,At.__data__,Tt,rt)+"",Dt.has(Bt)?bt[Tt]=At:Dt.set(Bt,At));for(Tt=0;Tt<zt;++Tt)Bt=Et.call(nt,wt[Tt],Tt,wt)+"",(At=Dt.get(Bt))?(st[Tt]=At,At.__data__=wt[Tt],Dt.delete(Bt)):it[Tt]=new EnterNode(nt,wt[Tt]);for(Tt=0;Tt<Ot;++Tt)(At=rt[Tt])&&Dt.get($t[Tt])===At&&(bt[Tt]=At)}function datum(nt){return nt.__data__}function selection_data(nt,rt){if(!arguments.length)return Array.from(this,datum);var it=rt?bindKey:bindIndex,st=this._parents,bt=this._groups;typeof nt!="function"&&(nt=constant$3(nt));for(var wt=bt.length,Et=new Array(wt),Tt=new Array(wt),At=new Array(wt),Dt=0;Dt<wt;++Dt){var Ot=st[Dt],zt=bt[Dt],$t=zt.length,Bt=arraylike(nt.call(Ot,Ot&&Ot.__data__,Dt,st)),Yt=Bt.length,Xt=Tt[Dt]=new Array(Yt),Ht=Et[Dt]=new Array(Yt),Qt=At[Dt]=new Array($t);it(Ot,zt,Xt,Ht,Qt,Bt,rt);for(var Zt=0,nn=0,Kt,ln;Zt<Yt;++Zt)if(Kt=Xt[Zt]){for(Zt>=nn&&(nn=Zt+1);!(ln=Ht[nn])&&++nn<Yt;);Kt._next=ln||null}}return Et=new Selection$1(Et,st),Et._enter=Tt,Et._exit=At,Et}function arraylike(nt){return typeof nt=="object"&&"length"in nt?nt:Array.from(nt)}function selection_exit(){return new Selection$1(this._exit||this._groups.map(sparse),this._parents)}function selection_join(nt,rt,it){var st=this.enter(),bt=this,wt=this.exit();return typeof nt=="function"?(st=nt(st),st&&(st=st.selection())):st=st.append(nt+""),rt!=null&&(bt=rt(bt),bt&&(bt=bt.selection())),it==null?wt.remove():it(wt),st&&bt?st.merge(bt).order():bt}function selection_merge(nt){for(var rt=nt.selection?nt.selection():nt,it=this._groups,st=rt._groups,bt=it.length,wt=st.length,Et=Math.min(bt,wt),Tt=new Array(bt),At=0;At<Et;++At)for(var Dt=it[At],Ot=st[At],zt=Dt.length,$t=Tt[At]=new Array(zt),Bt,Yt=0;Yt<zt;++Yt)(Bt=Dt[Yt]||Ot[Yt])&&($t[Yt]=Bt);for(;At<bt;++At)Tt[At]=it[At];return new Selection$1(Tt,this._parents)}function selection_order(){for(var nt=this._groups,rt=-1,it=nt.length;++rt<it;)for(var st=nt[rt],bt=st.length-1,wt=st[bt],Et;--bt>=0;)(Et=st[bt])&&(wt&&Et.compareDocumentPosition(wt)^4&&wt.parentNode.insertBefore(Et,wt),wt=Et);return this}function selection_sort(nt){nt||(nt=ascending);function rt(zt,$t){return zt&&$t?nt(zt.__data__,$t.__data__):!zt-!$t}for(var it=this._groups,st=it.length,bt=new Array(st),wt=0;wt<st;++wt){for(var Et=it[wt],Tt=Et.length,At=bt[wt]=new Array(Tt),Dt,Ot=0;Ot<Tt;++Ot)(Dt=Et[Ot])&&(At[Ot]=Dt);At.sort(rt)}return new Selection$1(bt,this._parents).order()}function ascending(nt,rt){return nt<rt?-1:nt>rt?1:nt>=rt?0:NaN}function selection_call(){var nt=arguments[0];return arguments[0]=this,nt.apply(null,arguments),this}function selection_nodes(){return Array.from(this)}function selection_node(){for(var nt=this._groups,rt=0,it=nt.length;rt<it;++rt)for(var st=nt[rt],bt=0,wt=st.length;bt<wt;++bt){var Et=st[bt];if(Et)return Et}return null}function selection_size(){let nt=0;for(const rt of this)++nt;return nt}function selection_empty(){return!this.node()}function selection_each(nt){for(var rt=this._groups,it=0,st=rt.length;it<st;++it)for(var bt=rt[it],wt=0,Et=bt.length,Tt;wt<Et;++wt)(Tt=bt[wt])&&nt.call(Tt,Tt.__data__,wt,bt);return this}function attrRemove$1(nt){return function(){this.removeAttribute(nt)}}function attrRemoveNS$1(nt){return function(){this.removeAttributeNS(nt.space,nt.local)}}function attrConstant$1(nt,rt){return function(){this.setAttribute(nt,rt)}}function attrConstantNS$1(nt,rt){return function(){this.setAttributeNS(nt.space,nt.local,rt)}}function attrFunction$1(nt,rt){return function(){var it=rt.apply(this,arguments);it==null?this.removeAttribute(nt):this.setAttribute(nt,it)}}function attrFunctionNS$1(nt,rt){return function(){var it=rt.apply(this,arguments);it==null?this.removeAttributeNS(nt.space,nt.local):this.setAttributeNS(nt.space,nt.local,it)}}function selection_attr(nt,rt){var it=namespace(nt);if(arguments.length<2){var st=this.node();return it.local?st.getAttributeNS(it.space,it.local):st.getAttribute(it)}return this.each((rt==null?it.local?attrRemoveNS$1:attrRemove$1:typeof rt=="function"?it.local?attrFunctionNS$1:attrFunction$1:it.local?attrConstantNS$1:attrConstant$1)(it,rt))}function defaultView(nt){return nt.ownerDocument&&nt.ownerDocument.defaultView||nt.document&&nt||nt.defaultView}function styleRemove$1(nt){return function(){this.style.removeProperty(nt)}}function styleConstant$1(nt,rt,it){return function(){this.style.setProperty(nt,rt,it)}}function styleFunction$1(nt,rt,it){return function(){var st=rt.apply(this,arguments);st==null?this.style.removeProperty(nt):this.style.setProperty(nt,st,it)}}function selection_style(nt,rt,it){return arguments.length>1?this.each((rt==null?styleRemove$1:typeof rt=="function"?styleFunction$1:styleConstant$1)(nt,rt,it==null?"":it)):styleValue(this.node(),nt)}function styleValue(nt,rt){return nt.style.getPropertyValue(rt)||defaultView(nt).getComputedStyle(nt,null).getPropertyValue(rt)}function propertyRemove(nt){return function(){delete this[nt]}}function propertyConstant(nt,rt){return function(){this[nt]=rt}}function propertyFunction(nt,rt){return function(){var it=rt.apply(this,arguments);it==null?delete this[nt]:this[nt]=it}}function selection_property(nt,rt){return arguments.length>1?this.each((rt==null?propertyRemove:typeof rt=="function"?propertyFunction:propertyConstant)(nt,rt)):this.node()[nt]}function classArray(nt){return nt.trim().split(/^|\s+/)}function classList(nt){return nt.classList||new ClassList(nt)}function ClassList(nt){this._node=nt,this._names=classArray(nt.getAttribute("class")||"")}ClassList.prototype={add:function(nt){var rt=this._names.indexOf(nt);rt<0&&(this._names.push(nt),this._node.setAttribute("class",this._names.join(" ")))},remove:function(nt){var rt=this._names.indexOf(nt);rt>=0&&(this._names.splice(rt,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(nt){return this._names.indexOf(nt)>=0}};function classedAdd(nt,rt){for(var it=classList(nt),st=-1,bt=rt.length;++st<bt;)it.add(rt[st])}function classedRemove(nt,rt){for(var it=classList(nt),st=-1,bt=rt.length;++st<bt;)it.remove(rt[st])}function classedTrue(nt){return function(){classedAdd(this,nt)}}function classedFalse(nt){return function(){classedRemove(this,nt)}}function classedFunction(nt,rt){return function(){(rt.apply(this,arguments)?classedAdd:classedRemove)(this,nt)}}function selection_classed(nt,rt){var it=classArray(nt+"");if(arguments.length<2){for(var st=classList(this.node()),bt=-1,wt=it.length;++bt<wt;)if(!st.contains(it[bt]))return!1;return!0}return this.each((typeof rt=="function"?classedFunction:rt?classedTrue:classedFalse)(it,rt))}function textRemove(){this.textContent=""}function textConstant$1(nt){return function(){this.textContent=nt}}function textFunction$1(nt){return function(){var rt=nt.apply(this,arguments);this.textContent=rt==null?"":rt}}function selection_text(nt){return arguments.length?this.each(nt==null?textRemove:(typeof nt=="function"?textFunction$1:textConstant$1)(nt)):this.node().textContent}function htmlRemove(){this.innerHTML=""}function htmlConstant(nt){return function(){this.innerHTML=nt}}function htmlFunction(nt){return function(){var rt=nt.apply(this,arguments);this.innerHTML=rt==null?"":rt}}function selection_html(nt){return arguments.length?this.each(nt==null?htmlRemove:(typeof nt=="function"?htmlFunction:htmlConstant)(nt)):this.node().innerHTML}function raise(){this.nextSibling&&this.parentNode.appendChild(this)}function selection_raise(){return this.each(raise)}function lower(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function selection_lower(){return this.each(lower)}function selection_append(nt){var rt=typeof nt=="function"?nt:creator(nt);return this.select(function(){return this.appendChild(rt.apply(this,arguments))})}function constantNull(){return null}function selection_insert(nt,rt){var it=typeof nt=="function"?nt:creator(nt),st=rt==null?constantNull:typeof rt=="function"?rt:selector(rt);return this.select(function(){return this.insertBefore(it.apply(this,arguments),st.apply(this,arguments)||null)})}function remove(){var nt=this.parentNode;nt&&nt.removeChild(this)}function selection_remove(){return this.each(remove)}function selection_cloneShallow(){var nt=this.cloneNode(!1),rt=this.parentNode;return rt?rt.insertBefore(nt,this.nextSibling):nt}function selection_cloneDeep(){var nt=this.cloneNode(!0),rt=this.parentNode;return rt?rt.insertBefore(nt,this.nextSibling):nt}function selection_clone(nt){return this.select(nt?selection_cloneDeep:selection_cloneShallow)}function selection_datum(nt){return arguments.length?this.property("__data__",nt):this.node().__data__}function contextListener(nt){return function(rt){nt.call(this,rt,this.__data__)}}function parseTypenames(nt){return nt.trim().split(/^|\s+/).map(function(rt){var it="",st=rt.indexOf(".");return st>=0&&(it=rt.slice(st+1),rt=rt.slice(0,st)),{type:rt,name:it}})}function onRemove(nt){return function(){var rt=this.__on;if(!!rt){for(var it=0,st=-1,bt=rt.length,wt;it<bt;++it)wt=rt[it],(!nt.type||wt.type===nt.type)&&wt.name===nt.name?this.removeEventListener(wt.type,wt.listener,wt.options):rt[++st]=wt;++st?rt.length=st:delete this.__on}}}function onAdd(nt,rt,it){return function(){var st=this.__on,bt,wt=contextListener(rt);if(st){for(var Et=0,Tt=st.length;Et<Tt;++Et)if((bt=st[Et]).type===nt.type&&bt.name===nt.name){this.removeEventListener(bt.type,bt.listener,bt.options),this.addEventListener(bt.type,bt.listener=wt,bt.options=it),bt.value=rt;return}}this.addEventListener(nt.type,wt,it),bt={type:nt.type,name:nt.name,value:rt,listener:wt,options:it},st?st.push(bt):this.__on=[bt]}}function selection_on(nt,rt,it){var st=parseTypenames(nt+""),bt,wt=st.length,Et;if(arguments.length<2){var Tt=this.node().__on;if(Tt){for(var At=0,Dt=Tt.length,Ot;At<Dt;++At)for(bt=0,Ot=Tt[At];bt<wt;++bt)if((Et=st[bt]).type===Ot.type&&Et.name===Ot.name)return Ot.value}return}for(Tt=rt?onAdd:onRemove,bt=0;bt<wt;++bt)this.each(Tt(st[bt],rt,it));return this}function dispatchEvent(nt,rt,it){var st=defaultView(nt),bt=st.CustomEvent;typeof bt=="function"?bt=new bt(rt,it):(bt=st.document.createEvent("Event"),it?(bt.initEvent(rt,it.bubbles,it.cancelable),bt.detail=it.detail):bt.initEvent(rt,!1,!1)),nt.dispatchEvent(bt)}function dispatchConstant(nt,rt){return function(){return dispatchEvent(this,nt,rt)}}function dispatchFunction(nt,rt){return function(){return dispatchEvent(this,nt,rt.apply(this,arguments))}}function selection_dispatch(nt,rt){return this.each((typeof rt=="function"?dispatchFunction:dispatchConstant)(nt,rt))}function*selection_iterator(){for(var nt=this._groups,rt=0,it=nt.length;rt<it;++rt)for(var st=nt[rt],bt=0,wt=st.length,Et;bt<wt;++bt)(Et=st[bt])&&(yield Et)}var root$2=[null];function Selection$1(nt,rt){this._groups=nt,this._parents=rt}function selection(){return new Selection$1([[document.documentElement]],root$2)}function selection_selection(){return this}Selection$1.prototype=selection.prototype={constructor:Selection$1,select:selection_select,selectAll:selection_selectAll,selectChild:selection_selectChild,selectChildren:selection_selectChildren,filter:selection_filter,data:selection_data,enter:selection_enter,exit:selection_exit,join:selection_join,merge:selection_merge,selection:selection_selection,order:selection_order,sort:selection_sort,call:selection_call,nodes:selection_nodes,node:selection_node,size:selection_size,empty:selection_empty,each:selection_each,attr:selection_attr,style:selection_style,property:selection_property,classed:selection_classed,text:selection_text,html:selection_html,raise:selection_raise,lower:selection_lower,append:selection_append,insert:selection_insert,remove:selection_remove,clone:selection_clone,datum:selection_datum,on:selection_on,dispatch:selection_dispatch,[Symbol.iterator]:selection_iterator};function select(nt){return typeof nt=="string"?new Selection$1([[document.querySelector(nt)]],[document.documentElement]):new Selection$1([[nt]],root$2)}function selectAll(nt){return typeof nt=="string"?new Selection$1([document.querySelectorAll(nt)],[document.documentElement]):new Selection$1([array$1(nt)],root$2)}function define$1(nt,rt,it){nt.prototype=rt.prototype=it,it.constructor=nt}function extend$1(nt,rt){var it=Object.create(nt.prototype);for(var st in rt)it[st]=rt[st];return it}function Color$2(){}var darker=.7,brighter=1/darker,reI="\\s*([+-]?\\d+)\\s*",reN="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",reP="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",reHex=/^#([0-9a-f]{3,8})$/,reRgbInteger=new RegExp(`^rgb\\(${reI},${reI},${reI}\\)$`),reRgbPercent=new RegExp(`^rgb\\(${reP},${reP},${reP}\\)$`),reRgbaInteger=new RegExp(`^rgba\\(${reI},${reI},${reI},${reN}\\)$`),reRgbaPercent=new RegExp(`^rgba\\(${reP},${reP},${reP},${reN}\\)$`),reHslPercent=new RegExp(`^hsl\\(${reN},${reP},${reP}\\)$`),reHslaPercent=new RegExp(`^hsla\\(${reN},${reP},${reP},${reN}\\)$`),named={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};define$1(Color$2,color,{copy(nt){return Object.assign(new this.constructor,this,nt)},displayable(){return this.rgb().displayable()},hex:color_formatHex,formatHex:color_formatHex,formatHex8:color_formatHex8,formatHsl:color_formatHsl,formatRgb:color_formatRgb,toString:color_formatRgb});function color_formatHex(){return this.rgb().formatHex()}function color_formatHex8(){return this.rgb().formatHex8()}function color_formatHsl(){return hslConvert(this).formatHsl()}function color_formatRgb(){return this.rgb().formatRgb()}function color(nt){var rt,it;return nt=(nt+"").trim().toLowerCase(),(rt=reHex.exec(nt))?(it=rt[1].length,rt=parseInt(rt[1],16),it===6?rgbn(rt):it===3?new Rgb(rt>>8&15|rt>>4&240,rt>>4&15|rt&240,(rt&15)<<4|rt&15,1):it===8?rgba$2(rt>>24&255,rt>>16&255,rt>>8&255,(rt&255)/255):it===4?rgba$2(rt>>12&15|rt>>8&240,rt>>8&15|rt>>4&240,rt>>4&15|rt&240,((rt&15)<<4|rt&15)/255):null):(rt=reRgbInteger.exec(nt))?new Rgb(rt[1],rt[2],rt[3],1):(rt=reRgbPercent.exec(nt))?new Rgb(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,1):(rt=reRgbaInteger.exec(nt))?rgba$2(rt[1],rt[2],rt[3],rt[4]):(rt=reRgbaPercent.exec(nt))?rgba$2(rt[1]*255/100,rt[2]*255/100,rt[3]*255/100,rt[4]):(rt=reHslPercent.exec(nt))?hsla(rt[1],rt[2]/100,rt[3]/100,1):(rt=reHslaPercent.exec(nt))?hsla(rt[1],rt[2]/100,rt[3]/100,rt[4]):named.hasOwnProperty(nt)?rgbn(named[nt]):nt==="transparent"?new Rgb(NaN,NaN,NaN,0):null}function rgbn(nt){return new Rgb(nt>>16&255,nt>>8&255,nt&255,1)}function rgba$2(nt,rt,it,st){return st<=0&&(nt=rt=it=NaN),new Rgb(nt,rt,it,st)}function rgbConvert(nt){return nt instanceof Color$2||(nt=color(nt)),nt?(nt=nt.rgb(),new Rgb(nt.r,nt.g,nt.b,nt.opacity)):new Rgb}function rgb(nt,rt,it,st){return arguments.length===1?rgbConvert(nt):new Rgb(nt,rt,it,st==null?1:st)}function Rgb(nt,rt,it,st){this.r=+nt,this.g=+rt,this.b=+it,this.opacity=+st}define$1(Rgb,rgb,extend$1(Color$2,{brighter(nt){return nt=nt==null?brighter:Math.pow(brighter,nt),new Rgb(this.r*nt,this.g*nt,this.b*nt,this.opacity)},darker(nt){return nt=nt==null?darker:Math.pow(darker,nt),new Rgb(this.r*nt,this.g*nt,this.b*nt,this.opacity)},rgb(){return this},clamp(){return new Rgb(clampi(this.r),clampi(this.g),clampi(this.b),clampa(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rgb_formatHex,formatHex:rgb_formatHex,formatHex8:rgb_formatHex8,formatRgb:rgb_formatRgb,toString:rgb_formatRgb}));function rgb_formatHex(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}`}function rgb_formatHex8(){return`#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity)?1:this.opacity)*255)}`}function rgb_formatRgb(){const nt=clampa(this.opacity);return`${nt===1?"rgb(":"rgba("}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${nt===1?")":`, ${nt})`}`}function clampa(nt){return isNaN(nt)?1:Math.max(0,Math.min(1,nt))}function clampi(nt){return Math.max(0,Math.min(255,Math.round(nt)||0))}function hex(nt){return nt=clampi(nt),(nt<16?"0":"")+nt.toString(16)}function hsla(nt,rt,it,st){return st<=0?nt=rt=it=NaN:it<=0||it>=1?nt=rt=NaN:rt<=0&&(nt=NaN),new Hsl(nt,rt,it,st)}function hslConvert(nt){if(nt instanceof Hsl)return new Hsl(nt.h,nt.s,nt.l,nt.opacity);if(nt instanceof Color$2||(nt=color(nt)),!nt)return new Hsl;if(nt instanceof Hsl)return nt;nt=nt.rgb();var rt=nt.r/255,it=nt.g/255,st=nt.b/255,bt=Math.min(rt,it,st),wt=Math.max(rt,it,st),Et=NaN,Tt=wt-bt,At=(wt+bt)/2;return Tt?(rt===wt?Et=(it-st)/Tt+(it<st)*6:it===wt?Et=(st-rt)/Tt+2:Et=(rt-it)/Tt+4,Tt/=At<.5?wt+bt:2-wt-bt,Et*=60):Tt=At>0&&At<1?0:Et,new Hsl(Et,Tt,At,nt.opacity)}function hsl(nt,rt,it,st){return arguments.length===1?hslConvert(nt):new Hsl(nt,rt,it,st==null?1:st)}function Hsl(nt,rt,it,st){this.h=+nt,this.s=+rt,this.l=+it,this.opacity=+st}define$1(Hsl,hsl,extend$1(Color$2,{brighter(nt){return nt=nt==null?brighter:Math.pow(brighter,nt),new Hsl(this.h,this.s,this.l*nt,this.opacity)},darker(nt){return nt=nt==null?darker:Math.pow(darker,nt),new Hsl(this.h,this.s,this.l*nt,this.opacity)},rgb(){var nt=this.h%360+(this.h<0)*360,rt=isNaN(nt)||isNaN(this.s)?0:this.s,it=this.l,st=it+(it<.5?it:1-it)*rt,bt=2*it-st;return new Rgb(hsl2rgb(nt>=240?nt-240:nt+120,bt,st),hsl2rgb(nt,bt,st),hsl2rgb(nt<120?nt+240:nt-120,bt,st),this.opacity)},clamp(){return new Hsl(clamph(this.h),clampt(this.s),clampt(this.l),clampa(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const nt=clampa(this.opacity);return`${nt===1?"hsl(":"hsla("}${clamph(this.h)}, ${clampt(this.s)*100}%, ${clampt(this.l)*100}%${nt===1?")":`, ${nt})`}`}}));function clamph(nt){return nt=(nt||0)%360,nt<0?nt+360:nt}function clampt(nt){return Math.max(0,Math.min(1,nt||0))}function hsl2rgb(nt,rt,it){return(nt<60?rt+(it-rt)*nt/60:nt<180?it:nt<240?rt+(it-rt)*(240-nt)/60:rt)*255}const radians=Math.PI/180,degrees$1=180/Math.PI,K=18,Xn=.96422,Yn=1,Zn=.82521,t0$1=4/29,t1$1=6/29,t2=3*t1$1*t1$1,t3=t1$1*t1$1*t1$1;function labConvert(nt){if(nt instanceof Lab)return new Lab(nt.l,nt.a,nt.b,nt.opacity);if(nt instanceof Hcl)return hcl2lab(nt);nt instanceof Rgb||(nt=rgbConvert(nt));var rt=rgb2lrgb(nt.r),it=rgb2lrgb(nt.g),st=rgb2lrgb(nt.b),bt=xyz2lab((.2225045*rt+.7168786*it+.0606169*st)/Yn),wt,Et;return rt===it&&it===st?wt=Et=bt:(wt=xyz2lab((.4360747*rt+.3850649*it+.1430804*st)/Xn),Et=xyz2lab((.0139322*rt+.0971045*it+.7141733*st)/Zn)),new Lab(116*bt-16,500*(wt-bt),200*(bt-Et),nt.opacity)}function lab(nt,rt,it,st){return arguments.length===1?labConvert(nt):new Lab(nt,rt,it,st==null?1:st)}function Lab(nt,rt,it,st){this.l=+nt,this.a=+rt,this.b=+it,this.opacity=+st}define$1(Lab,lab,extend$1(Color$2,{brighter(nt){return new Lab(this.l+K*(nt==null?1:nt),this.a,this.b,this.opacity)},darker(nt){return new Lab(this.l-K*(nt==null?1:nt),this.a,this.b,this.opacity)},rgb(){var nt=(this.l+16)/116,rt=isNaN(this.a)?nt:nt+this.a/500,it=isNaN(this.b)?nt:nt-this.b/200;return rt=Xn*lab2xyz(rt),nt=Yn*lab2xyz(nt),it=Zn*lab2xyz(it),new Rgb(lrgb2rgb(3.1338561*rt-1.6168667*nt-.4906146*it),lrgb2rgb(-.9787684*rt+1.9161415*nt+.033454*it),lrgb2rgb(.0719453*rt-.2289914*nt+1.4052427*it),this.opacity)}}));function xyz2lab(nt){return nt>t3?Math.pow(nt,1/3):nt/t2+t0$1}function lab2xyz(nt){return nt>t1$1?nt*nt*nt:t2*(nt-t0$1)}function lrgb2rgb(nt){return 255*(nt<=.0031308?12.92*nt:1.055*Math.pow(nt,1/2.4)-.055)}function rgb2lrgb(nt){return(nt/=255)<=.04045?nt/12.92:Math.pow((nt+.055)/1.055,2.4)}function hclConvert(nt){if(nt instanceof Hcl)return new Hcl(nt.h,nt.c,nt.l,nt.opacity);if(nt instanceof Lab||(nt=labConvert(nt)),nt.a===0&&nt.b===0)return new Hcl(NaN,0<nt.l&&nt.l<100?0:NaN,nt.l,nt.opacity);var rt=Math.atan2(nt.b,nt.a)*degrees$1;return new Hcl(rt<0?rt+360:rt,Math.sqrt(nt.a*nt.a+nt.b*nt.b),nt.l,nt.opacity)}function hcl$1(nt,rt,it,st){return arguments.length===1?hclConvert(nt):new Hcl(nt,rt,it,st==null?1:st)}function Hcl(nt,rt,it,st){this.h=+nt,this.c=+rt,this.l=+it,this.opacity=+st}function hcl2lab(nt){if(isNaN(nt.h))return new Lab(nt.l,0,0,nt.opacity);var rt=nt.h*radians;return new Lab(nt.l,Math.cos(rt)*nt.c,Math.sin(rt)*nt.c,nt.opacity)}define$1(Hcl,hcl$1,extend$1(Color$2,{brighter(nt){return new Hcl(this.h,this.c,this.l+K*(nt==null?1:nt),this.opacity)},darker(nt){return new Hcl(this.h,this.c,this.l-K*(nt==null?1:nt),this.opacity)},rgb(){return hcl2lab(this).rgb()}}));const constant$2=nt=>()=>nt;function linear$1(nt,rt){return function(it){return nt+it*rt}}function exponential(nt,rt,it){return nt=Math.pow(nt,it),rt=Math.pow(rt,it)-nt,it=1/it,function(st){return Math.pow(nt+st*rt,it)}}function hue(nt,rt){var it=rt-nt;return it?linear$1(nt,it>180||it<-180?it-360*Math.round(it/360):it):constant$2(isNaN(nt)?rt:nt)}function gamma(nt){return(nt=+nt)==1?nogamma:function(rt,it){return it-rt?exponential(rt,it,nt):constant$2(isNaN(rt)?it:rt)}}function nogamma(nt,rt){var it=rt-nt;return it?linear$1(nt,it):constant$2(isNaN(nt)?rt:nt)}const interpolateRgb=function nt(rt){var it=gamma(rt);function st(bt,wt){var Et=it((bt=rgb(bt)).r,(wt=rgb(wt)).r),Tt=it(bt.g,wt.g),At=it(bt.b,wt.b),Dt=nogamma(bt.opacity,wt.opacity);return function(Ot){return bt.r=Et(Ot),bt.g=Tt(Ot),bt.b=At(Ot),bt.opacity=Dt(Ot),bt+""}}return st.gamma=nt,st}(1);function numberArray(nt,rt){rt||(rt=[]);var it=nt?Math.min(rt.length,nt.length):0,st=rt.slice(),bt;return function(wt){for(bt=0;bt<it;++bt)st[bt]=nt[bt]*(1-wt)+rt[bt]*wt;return st}}function isNumberArray(nt){return ArrayBuffer.isView(nt)&&!(nt instanceof DataView)}function genericArray(nt,rt){var it=rt?rt.length:0,st=nt?Math.min(it,nt.length):0,bt=new Array(st),wt=new Array(it),Et;for(Et=0;Et<st;++Et)bt[Et]=interpolate$1(nt[Et],rt[Et]);for(;Et<it;++Et)wt[Et]=rt[Et];return function(Tt){for(Et=0;Et<st;++Et)wt[Et]=bt[Et](Tt);return wt}}function date$1(nt,rt){var it=new Date;return nt=+nt,rt=+rt,function(st){return it.setTime(nt*(1-st)+rt*st),it}}function interpolateNumber(nt,rt){return nt=+nt,rt=+rt,function(it){return nt*(1-it)+rt*it}}function object(nt,rt){var it={},st={},bt;(nt===null||typeof nt!="object")&&(nt={}),(rt===null||typeof rt!="object")&&(rt={});for(bt in rt)bt in nt?it[bt]=interpolate$1(nt[bt],rt[bt]):st[bt]=rt[bt];return function(wt){for(bt in it)st[bt]=it[bt](wt);return st}}var reA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,reB=new RegExp(reA.source,"g");function zero(nt){return function(){return nt}}function one(nt){return function(rt){return nt(rt)+""}}function interpolateString(nt,rt){var it=reA.lastIndex=reB.lastIndex=0,st,bt,wt,Et=-1,Tt=[],At=[];for(nt=nt+"",rt=rt+"";(st=reA.exec(nt))&&(bt=reB.exec(rt));)(wt=bt.index)>it&&(wt=rt.slice(it,wt),Tt[Et]?Tt[Et]+=wt:Tt[++Et]=wt),(st=st[0])===(bt=bt[0])?Tt[Et]?Tt[Et]+=bt:Tt[++Et]=bt:(Tt[++Et]=null,At.push({i:Et,x:interpolateNumber(st,bt)})),it=reB.lastIndex;return it<rt.length&&(wt=rt.slice(it),Tt[Et]?Tt[Et]+=wt:Tt[++Et]=wt),Tt.length<2?At[0]?one(At[0].x):zero(rt):(rt=At.length,function(Dt){for(var Ot=0,zt;Ot<rt;++Ot)Tt[(zt=At[Ot]).i]=zt.x(Dt);return Tt.join("")})}function interpolate$1(nt,rt){var it=typeof rt,st;return rt==null||it==="boolean"?constant$2(rt):(it==="number"?interpolateNumber:it==="string"?(st=color(rt))?(rt=st,interpolateRgb):interpolateString:rt instanceof color?interpolateRgb:rt instanceof Date?date$1:isNumberArray(rt)?numberArray:Array.isArray(rt)?genericArray:typeof rt.valueOf!="function"&&typeof rt.toString!="function"||isNaN(rt)?object:interpolateNumber)(nt,rt)}function interpolateRound(nt,rt){return nt=+nt,rt=+rt,function(it){return Math.round(nt*(1-it)+rt*it)}}var degrees=180/Math.PI,identity$4={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function decompose(nt,rt,it,st,bt,wt){var Et,Tt,At;return(Et=Math.sqrt(nt*nt+rt*rt))&&(nt/=Et,rt/=Et),(At=nt*it+rt*st)&&(it-=nt*At,st-=rt*At),(Tt=Math.sqrt(it*it+st*st))&&(it/=Tt,st/=Tt,At/=Tt),nt*st<rt*it&&(nt=-nt,rt=-rt,At=-At,Et=-Et),{translateX:bt,translateY:wt,rotate:Math.atan2(rt,nt)*degrees,skewX:Math.atan(At)*degrees,scaleX:Et,scaleY:Tt}}var svgNode;function parseCss(nt){const rt=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(nt+"");return rt.isIdentity?identity$4:decompose(rt.a,rt.b,rt.c,rt.d,rt.e,rt.f)}function parseSvg(nt){return nt==null||(svgNode||(svgNode=document.createElementNS("http://www.w3.org/2000/svg","g")),svgNode.setAttribute("transform",nt),!(nt=svgNode.transform.baseVal.consolidate()))?identity$4:(nt=nt.matrix,decompose(nt.a,nt.b,nt.c,nt.d,nt.e,nt.f))}function interpolateTransform(nt,rt,it,st){function bt(Dt){return Dt.length?Dt.pop()+" ":""}function wt(Dt,Ot,zt,$t,Bt,Yt){if(Dt!==zt||Ot!==$t){var Xt=Bt.push("translate(",null,rt,null,it);Yt.push({i:Xt-4,x:interpolateNumber(Dt,zt)},{i:Xt-2,x:interpolateNumber(Ot,$t)})}else(zt||$t)&&Bt.push("translate("+zt+rt+$t+it)}function Et(Dt,Ot,zt,$t){Dt!==Ot?(Dt-Ot>180?Ot+=360:Ot-Dt>180&&(Dt+=360),$t.push({i:zt.push(bt(zt)+"rotate(",null,st)-2,x:interpolateNumber(Dt,Ot)})):Ot&&zt.push(bt(zt)+"rotate("+Ot+st)}function Tt(Dt,Ot,zt,$t){Dt!==Ot?$t.push({i:zt.push(bt(zt)+"skewX(",null,st)-2,x:interpolateNumber(Dt,Ot)}):Ot&&zt.push(bt(zt)+"skewX("+Ot+st)}function At(Dt,Ot,zt,$t,Bt,Yt){if(Dt!==zt||Ot!==$t){var Xt=Bt.push(bt(Bt)+"scale(",null,",",null,")");Yt.push({i:Xt-4,x:interpolateNumber(Dt,zt)},{i:Xt-2,x:interpolateNumber(Ot,$t)})}else(zt!==1||$t!==1)&&Bt.push(bt(Bt)+"scale("+zt+","+$t+")")}return function(Dt,Ot){var zt=[],$t=[];return Dt=nt(Dt),Ot=nt(Ot),wt(Dt.translateX,Dt.translateY,Ot.translateX,Ot.translateY,zt,$t),Et(Dt.rotate,Ot.rotate,zt,$t),Tt(Dt.skewX,Ot.skewX,zt,$t),At(Dt.scaleX,Dt.scaleY,Ot.scaleX,Ot.scaleY,zt,$t),Dt=Ot=null,function(Bt){for(var Yt=-1,Xt=$t.length,Ht;++Yt<Xt;)zt[(Ht=$t[Yt]).i]=Ht.x(Bt);return zt.join("")}}}var interpolateTransformCss=interpolateTransform(parseCss,"px, ","px)","deg)"),interpolateTransformSvg=interpolateTransform(parseSvg,", ",")",")");function hcl(nt){return function(rt,it){var st=nt((rt=hcl$1(rt)).h,(it=hcl$1(it)).h),bt=nogamma(rt.c,it.c),wt=nogamma(rt.l,it.l),Et=nogamma(rt.opacity,it.opacity);return function(Tt){return rt.h=st(Tt),rt.c=bt(Tt),rt.l=wt(Tt),rt.opacity=Et(Tt),rt+""}}}const interpolateHcl=hcl(hue);var frame$1=0,timeout$1=0,interval=0,pokeDelay=1e3,taskHead,taskTail,clockLast=0,clockNow=0,clockSkew=0,clock=typeof performance=="object"&&performance.now?performance:Date,setFrame=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(nt){setTimeout(nt,17)};function now$2(){return clockNow||(setFrame(clearNow),clockNow=clock.now()+clockSkew)}function clearNow(){clockNow=0}function Timer(){this._call=this._time=this._next=null}Timer.prototype=timer.prototype={constructor:Timer,restart:function(nt,rt,it){if(typeof nt!="function")throw new TypeError("callback is not a function");it=(it==null?now$2():+it)+(rt==null?0:+rt),!this._next&&taskTail!==this&&(taskTail?taskTail._next=this:taskHead=this,taskTail=this),this._call=nt,this._time=it,sleep()},stop:function(){this._call&&(this._call=null,this._time=1/0,sleep())}};function timer(nt,rt,it){var st=new Timer;return st.restart(nt,rt,it),st}function timerFlush(){now$2(),++frame$1;for(var nt=taskHead,rt;nt;)(rt=clockNow-nt._time)>=0&&nt._call.call(void 0,rt),nt=nt._next;--frame$1}function wake(){clockNow=(clockLast=clock.now())+clockSkew,frame$1=timeout$1=0;try{timerFlush()}finally{frame$1=0,nap(),clockNow=0}}function poke(){var nt=clock.now(),rt=nt-clockLast;rt>pokeDelay&&(clockSkew-=rt,clockLast=nt)}function nap(){for(var nt,rt=taskHead,it,st=1/0;rt;)rt._call?(st>rt._time&&(st=rt._time),nt=rt,rt=rt._next):(it=rt._next,rt._next=null,rt=nt?nt._next=it:taskHead=it);taskTail=nt,sleep(st)}function sleep(nt){if(!frame$1){timeout$1&&(timeout$1=clearTimeout(timeout$1));var rt=nt-clockNow;rt>24?(nt<1/0&&(timeout$1=setTimeout(wake,nt-clock.now()-clockSkew)),interval&&(interval=clearInterval(interval))):(interval||(clockLast=clock.now(),interval=setInterval(poke,pokeDelay)),frame$1=1,setFrame(wake))}}function timeout(nt,rt,it){var st=new Timer;return rt=rt==null?0:+rt,st.restart(bt=>{st.stop(),nt(bt+rt)},rt,it),st}var emptyOn=dispatch("start","end","cancel","interrupt"),emptyTween=[],CREATED=0,SCHEDULED=1,STARTING=2,STARTED=3,RUNNING=4,ENDING=5,ENDED=6;function schedule(nt,rt,it,st,bt,wt){var Et=nt.__transition;if(!Et)nt.__transition={};else if(it in Et)return;create$1(nt,it,{name:rt,index:st,group:bt,on:emptyOn,tween:emptyTween,time:wt.time,delay:wt.delay,duration:wt.duration,ease:wt.ease,timer:null,state:CREATED})}function init$2(nt,rt){var it=get$2(nt,rt);if(it.state>CREATED)throw new Error("too late; already scheduled");return it}function set(nt,rt){var it=get$2(nt,rt);if(it.state>STARTED)throw new Error("too late; already running");return it}function get$2(nt,rt){var it=nt.__transition;if(!it||!(it=it[rt]))throw new Error("transition not found");return it}function create$1(nt,rt,it){var st=nt.__transition,bt;st[rt]=it,it.timer=timer(wt,0,it.time);function wt(Dt){it.state=SCHEDULED,it.timer.restart(Et,it.delay,it.time),it.delay<=Dt&&Et(Dt-it.delay)}function Et(Dt){var Ot,zt,$t,Bt;if(it.state!==SCHEDULED)return At();for(Ot in st)if(Bt=st[Ot],Bt.name===it.name){if(Bt.state===STARTED)return timeout(Et);Bt.state===RUNNING?(Bt.state=ENDED,Bt.timer.stop(),Bt.on.call("interrupt",nt,nt.__data__,Bt.index,Bt.group),delete st[Ot]):+Ot<rt&&(Bt.state=ENDED,Bt.timer.stop(),Bt.on.call("cancel",nt,nt.__data__,Bt.index,Bt.group),delete st[Ot])}if(timeout(function(){it.state===STARTED&&(it.state=RUNNING,it.timer.restart(Tt,it.delay,it.time),Tt(Dt))}),it.state=STARTING,it.on.call("start",nt,nt.__data__,it.index,it.group),it.state===STARTING){for(it.state=STARTED,bt=new Array($t=it.tween.length),Ot=0,zt=-1;Ot<$t;++Ot)(Bt=it.tween[Ot].value.call(nt,nt.__data__,it.index,it.group))&&(bt[++zt]=Bt);bt.length=zt+1}}function Tt(Dt){for(var Ot=Dt<it.duration?it.ease.call(null,Dt/it.duration):(it.timer.restart(At),it.state=ENDING,1),zt=-1,$t=bt.length;++zt<$t;)bt[zt].call(nt,Ot);it.state===ENDING&&(it.on.call("end",nt,nt.__data__,it.index,it.group),At())}function At(){it.state=ENDED,it.timer.stop(),delete st[rt];for(var Dt in st)return;delete nt.__transition}}function interrupt(nt,rt){var it=nt.__transition,st,bt,wt=!0,Et;if(!!it){rt=rt==null?null:rt+"";for(Et in it){if((st=it[Et]).name!==rt){wt=!1;continue}bt=st.state>STARTING&&st.state<ENDING,st.state=ENDED,st.timer.stop(),st.on.call(bt?"interrupt":"cancel",nt,nt.__data__,st.index,st.group),delete it[Et]}wt&&delete nt.__transition}}function selection_interrupt(nt){return this.each(function(){interrupt(this,nt)})}function tweenRemove(nt,rt){var it,st;return function(){var bt=set(this,nt),wt=bt.tween;if(wt!==it){st=it=wt;for(var Et=0,Tt=st.length;Et<Tt;++Et)if(st[Et].name===rt){st=st.slice(),st.splice(Et,1);break}}bt.tween=st}}function tweenFunction(nt,rt,it){var st,bt;if(typeof it!="function")throw new Error;return function(){var wt=set(this,nt),Et=wt.tween;if(Et!==st){bt=(st=Et).slice();for(var Tt={name:rt,value:it},At=0,Dt=bt.length;At<Dt;++At)if(bt[At].name===rt){bt[At]=Tt;break}At===Dt&&bt.push(Tt)}wt.tween=bt}}function transition_tween(nt,rt){var it=this._id;if(nt+="",arguments.length<2){for(var st=get$2(this.node(),it).tween,bt=0,wt=st.length,Et;bt<wt;++bt)if((Et=st[bt]).name===nt)return Et.value;return null}return this.each((rt==null?tweenRemove:tweenFunction)(it,nt,rt))}function tweenValue(nt,rt,it){var st=nt._id;return nt.each(function(){var bt=set(this,st);(bt.value||(bt.value={}))[rt]=it.apply(this,arguments)}),function(bt){return get$2(bt,st).value[rt]}}function interpolate(nt,rt){var it;return(typeof rt=="number"?interpolateNumber:rt instanceof color?interpolateRgb:(it=color(rt))?(rt=it,interpolateRgb):interpolateString)(nt,rt)}function attrRemove(nt){return function(){this.removeAttribute(nt)}}function attrRemoveNS(nt){return function(){this.removeAttributeNS(nt.space,nt.local)}}function attrConstant(nt,rt,it){var st,bt=it+"",wt;return function(){var Et=this.getAttribute(nt);return Et===bt?null:Et===st?wt:wt=rt(st=Et,it)}}function attrConstantNS(nt,rt,it){var st,bt=it+"",wt;return function(){var Et=this.getAttributeNS(nt.space,nt.local);return Et===bt?null:Et===st?wt:wt=rt(st=Et,it)}}function attrFunction(nt,rt,it){var st,bt,wt;return function(){var Et,Tt=it(this),At;return Tt==null?void this.removeAttribute(nt):(Et=this.getAttribute(nt),At=Tt+"",Et===At?null:Et===st&&At===bt?wt:(bt=At,wt=rt(st=Et,Tt)))}}function attrFunctionNS(nt,rt,it){var st,bt,wt;return function(){var Et,Tt=it(this),At;return Tt==null?void this.removeAttributeNS(nt.space,nt.local):(Et=this.getAttributeNS(nt.space,nt.local),At=Tt+"",Et===At?null:Et===st&&At===bt?wt:(bt=At,wt=rt(st=Et,Tt)))}}function transition_attr(nt,rt){var it=namespace(nt),st=it==="transform"?interpolateTransformSvg:interpolate;return this.attrTween(nt,typeof rt=="function"?(it.local?attrFunctionNS:attrFunction)(it,st,tweenValue(this,"attr."+nt,rt)):rt==null?(it.local?attrRemoveNS:attrRemove)(it):(it.local?attrConstantNS:attrConstant)(it,st,rt))}function attrInterpolate(nt,rt){return function(it){this.setAttribute(nt,rt.call(this,it))}}function attrInterpolateNS(nt,rt){return function(it){this.setAttributeNS(nt.space,nt.local,rt.call(this,it))}}function attrTweenNS(nt,rt){var it,st;function bt(){var wt=rt.apply(this,arguments);return wt!==st&&(it=(st=wt)&&attrInterpolateNS(nt,wt)),it}return bt._value=rt,bt}function attrTween(nt,rt){var it,st;function bt(){var wt=rt.apply(this,arguments);return wt!==st&&(it=(st=wt)&&attrInterpolate(nt,wt)),it}return bt._value=rt,bt}function transition_attrTween(nt,rt){var it="attr."+nt;if(arguments.length<2)return(it=this.tween(it))&&it._value;if(rt==null)return this.tween(it,null);if(typeof rt!="function")throw new Error;var st=namespace(nt);return this.tween(it,(st.local?attrTweenNS:attrTween)(st,rt))}function delayFunction(nt,rt){return function(){init$2(this,nt).delay=+rt.apply(this,arguments)}}function delayConstant(nt,rt){return rt=+rt,function(){init$2(this,nt).delay=rt}}function transition_delay(nt){var rt=this._id;return arguments.length?this.each((typeof nt=="function"?delayFunction:delayConstant)(rt,nt)):get$2(this.node(),rt).delay}function durationFunction(nt,rt){return function(){set(this,nt).duration=+rt.apply(this,arguments)}}function durationConstant(nt,rt){return rt=+rt,function(){set(this,nt).duration=rt}}function transition_duration(nt){var rt=this._id;return arguments.length?this.each((typeof nt=="function"?durationFunction:durationConstant)(rt,nt)):get$2(this.node(),rt).duration}function easeConstant(nt,rt){if(typeof rt!="function")throw new Error;return function(){set(this,nt).ease=rt}}function transition_ease(nt){var rt=this._id;return arguments.length?this.each(easeConstant(rt,nt)):get$2(this.node(),rt).ease}function easeVarying(nt,rt){return function(){var it=rt.apply(this,arguments);if(typeof it!="function")throw new Error;set(this,nt).ease=it}}function transition_easeVarying(nt){if(typeof nt!="function")throw new Error;return this.each(easeVarying(this._id,nt))}function transition_filter(nt){typeof nt!="function"&&(nt=matcher(nt));for(var rt=this._groups,it=rt.length,st=new Array(it),bt=0;bt<it;++bt)for(var wt=rt[bt],Et=wt.length,Tt=st[bt]=[],At,Dt=0;Dt<Et;++Dt)(At=wt[Dt])&&nt.call(At,At.__data__,Dt,wt)&&Tt.push(At);return new Transition(st,this._parents,this._name,this._id)}function transition_merge(nt){if(nt._id!==this._id)throw new Error;for(var rt=this._groups,it=nt._groups,st=rt.length,bt=it.length,wt=Math.min(st,bt),Et=new Array(st),Tt=0;Tt<wt;++Tt)for(var At=rt[Tt],Dt=it[Tt],Ot=At.length,zt=Et[Tt]=new Array(Ot),$t,Bt=0;Bt<Ot;++Bt)($t=At[Bt]||Dt[Bt])&&(zt[Bt]=$t);for(;Tt<st;++Tt)Et[Tt]=rt[Tt];return new Transition(Et,this._parents,this._name,this._id)}function start$1(nt){return(nt+"").trim().split(/^|\s+/).every(function(rt){var it=rt.indexOf(".");return it>=0&&(rt=rt.slice(0,it)),!rt||rt==="start"})}function onFunction(nt,rt,it){var st,bt,wt=start$1(rt)?init$2:set;return function(){var Et=wt(this,nt),Tt=Et.on;Tt!==st&&(bt=(st=Tt).copy()).on(rt,it),Et.on=bt}}function transition_on(nt,rt){var it=this._id;return arguments.length<2?get$2(this.node(),it).on.on(nt):this.each(onFunction(it,nt,rt))}function removeFunction(nt){return function(){var rt=this.parentNode;for(var it in this.__transition)if(+it!==nt)return;rt&&rt.removeChild(this)}}function transition_remove(){return this.on("end.remove",removeFunction(this._id))}function transition_select(nt){var rt=this._name,it=this._id;typeof nt!="function"&&(nt=selector(nt));for(var st=this._groups,bt=st.length,wt=new Array(bt),Et=0;Et<bt;++Et)for(var Tt=st[Et],At=Tt.length,Dt=wt[Et]=new Array(At),Ot,zt,$t=0;$t<At;++$t)(Ot=Tt[$t])&&(zt=nt.call(Ot,Ot.__data__,$t,Tt))&&("__data__"in Ot&&(zt.__data__=Ot.__data__),Dt[$t]=zt,schedule(Dt[$t],rt,it,$t,Dt,get$2(Ot,it)));return new Transition(wt,this._parents,rt,it)}function transition_selectAll(nt){var rt=this._name,it=this._id;typeof nt!="function"&&(nt=selectorAll(nt));for(var st=this._groups,bt=st.length,wt=[],Et=[],Tt=0;Tt<bt;++Tt)for(var At=st[Tt],Dt=At.length,Ot,zt=0;zt<Dt;++zt)if(Ot=At[zt]){for(var $t=nt.call(Ot,Ot.__data__,zt,At),Bt,Yt=get$2(Ot,it),Xt=0,Ht=$t.length;Xt<Ht;++Xt)(Bt=$t[Xt])&&schedule(Bt,rt,it,Xt,$t,Yt);wt.push($t),Et.push(Ot)}return new Transition(wt,Et,rt,it)}var Selection=selection.prototype.constructor;function transition_selection(){return new Selection(this._groups,this._parents)}function styleNull(nt,rt){var it,st,bt;return function(){var wt=styleValue(this,nt),Et=(this.style.removeProperty(nt),styleValue(this,nt));return wt===Et?null:wt===it&&Et===st?bt:bt=rt(it=wt,st=Et)}}function styleRemove(nt){return function(){this.style.removeProperty(nt)}}function styleConstant(nt,rt,it){var st,bt=it+"",wt;return function(){var Et=styleValue(this,nt);return Et===bt?null:Et===st?wt:wt=rt(st=Et,it)}}function styleFunction(nt,rt,it){var st,bt,wt;return function(){var Et=styleValue(this,nt),Tt=it(this),At=Tt+"";return Tt==null&&(At=Tt=(this.style.removeProperty(nt),styleValue(this,nt))),Et===At?null:Et===st&&At===bt?wt:(bt=At,wt=rt(st=Et,Tt))}}function styleMaybeRemove(nt,rt){var it,st,bt,wt="style."+rt,Et="end."+wt,Tt;return function(){var At=set(this,nt),Dt=At.on,Ot=At.value[wt]==null?Tt||(Tt=styleRemove(rt)):void 0;(Dt!==it||bt!==Ot)&&(st=(it=Dt).copy()).on(Et,bt=Ot),At.on=st}}function transition_style(nt,rt,it){var st=(nt+="")=="transform"?interpolateTransformCss:interpolate;return rt==null?this.styleTween(nt,styleNull(nt,st)).on("end.style."+nt,styleRemove(nt)):typeof rt=="function"?this.styleTween(nt,styleFunction(nt,st,tweenValue(this,"style."+nt,rt))).each(styleMaybeRemove(this._id,nt)):this.styleTween(nt,styleConstant(nt,st,rt),it).on("end.style."+nt,null)}function styleInterpolate(nt,rt,it){return function(st){this.style.setProperty(nt,rt.call(this,st),it)}}function styleTween(nt,rt,it){var st,bt;function wt(){var Et=rt.apply(this,arguments);return Et!==bt&&(st=(bt=Et)&&styleInterpolate(nt,Et,it)),st}return wt._value=rt,wt}function transition_styleTween(nt,rt,it){var st="style."+(nt+="");if(arguments.length<2)return(st=this.tween(st))&&st._value;if(rt==null)return this.tween(st,null);if(typeof rt!="function")throw new Error;return this.tween(st,styleTween(nt,rt,it==null?"":it))}function textConstant(nt){return function(){this.textContent=nt}}function textFunction(nt){return function(){var rt=nt(this);this.textContent=rt==null?"":rt}}function transition_text(nt){return this.tween("text",typeof nt=="function"?textFunction(tweenValue(this,"text",nt)):textConstant(nt==null?"":nt+""))}function textInterpolate(nt){return function(rt){this.textContent=nt.call(this,rt)}}function textTween(nt){var rt,it;function st(){var bt=nt.apply(this,arguments);return bt!==it&&(rt=(it=bt)&&textInterpolate(bt)),rt}return st._value=nt,st}function transition_textTween(nt){var rt="text";if(arguments.length<1)return(rt=this.tween(rt))&&rt._value;if(nt==null)return this.tween(rt,null);if(typeof nt!="function")throw new Error;return this.tween(rt,textTween(nt))}function transition_transition(){for(var nt=this._name,rt=this._id,it=newId(),st=this._groups,bt=st.length,wt=0;wt<bt;++wt)for(var Et=st[wt],Tt=Et.length,At,Dt=0;Dt<Tt;++Dt)if(At=Et[Dt]){var Ot=get$2(At,rt);schedule(At,nt,it,Dt,Et,{time:Ot.time+Ot.delay+Ot.duration,delay:0,duration:Ot.duration,ease:Ot.ease})}return new Transition(st,this._parents,nt,it)}function transition_end(){var nt,rt,it=this,st=it._id,bt=it.size();return new Promise(function(wt,Et){var Tt={value:Et},At={value:function(){--bt===0&&wt()}};it.each(function(){var Dt=set(this,st),Ot=Dt.on;Ot!==nt&&(rt=(nt=Ot).copy(),rt._.cancel.push(Tt),rt._.interrupt.push(Tt),rt._.end.push(At)),Dt.on=rt}),bt===0&&wt()})}var id$2=0;function Transition(nt,rt,it,st){this._groups=nt,this._parents=rt,this._name=it,this._id=st}function newId(){return++id$2}var selection_prototype=selection.prototype;Transition.prototype={constructor:Transition,select:transition_select,selectAll:transition_selectAll,selectChild:selection_prototype.selectChild,selectChildren:selection_prototype.selectChildren,filter:transition_filter,merge:transition_merge,selection:transition_selection,transition:transition_transition,call:selection_prototype.call,nodes:selection_prototype.nodes,node:selection_prototype.node,size:selection_prototype.size,empty:selection_prototype.empty,each:selection_prototype.each,on:transition_on,attr:transition_attr,attrTween:transition_attrTween,style:transition_style,styleTween:transition_styleTween,text:transition_text,textTween:transition_textTween,remove:transition_remove,tween:transition_tween,delay:transition_delay,duration:transition_duration,ease:transition_ease,easeVarying:transition_easeVarying,end:transition_end,[Symbol.iterator]:selection_prototype[Symbol.iterator]};function cubicInOut(nt){return((nt*=2)<=1?nt*nt*nt:(nt-=2)*nt*nt+2)/2}var defaultTiming={time:null,delay:0,duration:250,ease:cubicInOut};function inherit(nt,rt){for(var it;!(it=nt.__transition)||!(it=it[rt]);)if(!(nt=nt.parentNode))throw new Error(`transition ${rt} not found`);return it}function selection_transition(nt){var rt,it;nt instanceof Transition?(rt=nt._id,nt=nt._name):(rt=newId(),(it=defaultTiming).time=now$2(),nt=nt==null?null:nt+"");for(var st=this._groups,bt=st.length,wt=0;wt<bt;++wt)for(var Et=st[wt],Tt=Et.length,At,Dt=0;Dt<Tt;++Dt)(At=Et[Dt])&&schedule(At,nt,rt,Dt,Et,it||inherit(At,rt));return new Transition(st,this._parents,nt,rt)}selection.prototype.interrupt=selection_interrupt;selection.prototype.transition=selection_transition;const pi$1=Math.PI,tau$1=2*pi$1,epsilon$1=1e-6,tauEpsilon=tau$1-epsilon$1;function append$1(nt){this._+=nt[0];for(let rt=1,it=nt.length;rt<it;++rt)this._+=arguments[rt]+nt[rt]}function appendRound(nt){let rt=Math.floor(nt);if(!(rt>=0))throw new Error(`invalid digits: ${nt}`);if(rt>15)return append$1;const it=10**rt;return function(st){this._+=st[0];for(let bt=1,wt=st.length;bt<wt;++bt)this._+=Math.round(arguments[bt]*it)/it+st[bt]}}class Path{constructor(rt){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=rt==null?append$1:appendRound(rt)}moveTo(rt,it){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+it}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(rt,it){this._append`L${this._x1=+rt},${this._y1=+it}`}quadraticCurveTo(rt,it,st,bt){this._append`Q${+rt},${+it},${this._x1=+st},${this._y1=+bt}`}bezierCurveTo(rt,it,st,bt,wt,Et){this._append`C${+rt},${+it},${+st},${+bt},${this._x1=+wt},${this._y1=+Et}`}arcTo(rt,it,st,bt,wt){if(rt=+rt,it=+it,st=+st,bt=+bt,wt=+wt,wt<0)throw new Error(`negative radius: ${wt}`);let Et=this._x1,Tt=this._y1,At=st-rt,Dt=bt-it,Ot=Et-rt,zt=Tt-it,$t=Ot*Ot+zt*zt;if(this._x1===null)this._append`M${this._x1=rt},${this._y1=it}`;else if($t>epsilon$1)if(!(Math.abs(zt*At-Dt*Ot)>epsilon$1)||!wt)this._append`L${this._x1=rt},${this._y1=it}`;else{let Bt=st-Et,Yt=bt-Tt,Xt=At*At+Dt*Dt,Ht=Bt*Bt+Yt*Yt,Qt=Math.sqrt(Xt),Zt=Math.sqrt($t),nn=wt*Math.tan((pi$1-Math.acos((Xt+$t-Ht)/(2*Qt*Zt)))/2),Kt=nn/Zt,ln=nn/Qt;Math.abs(Kt-1)>epsilon$1&&this._append`L${rt+Kt*Ot},${it+Kt*zt}`,this._append`A${wt},${wt},0,0,${+(zt*Bt>Ot*Yt)},${this._x1=rt+ln*At},${this._y1=it+ln*Dt}`}}arc(rt,it,st,bt,wt,Et){if(rt=+rt,it=+it,st=+st,Et=!!Et,st<0)throw new Error(`negative radius: ${st}`);let Tt=st*Math.cos(bt),At=st*Math.sin(bt),Dt=rt+Tt,Ot=it+At,zt=1^Et,$t=Et?bt-wt:wt-bt;this._x1===null?this._append`M${Dt},${Ot}`:(Math.abs(this._x1-Dt)>epsilon$1||Math.abs(this._y1-Ot)>epsilon$1)&&this._append`L${Dt},${Ot}`,st&&($t<0&&($t=$t%tau$1+tau$1),$t>tauEpsilon?this._append`A${st},${st},0,1,${zt},${rt-Tt},${it-At}A${st},${st},0,1,${zt},${this._x1=Dt},${this._y1=Ot}`:$t>epsilon$1&&this._append`A${st},${st},0,${+($t>=pi$1)},${zt},${this._x1=rt+st*Math.cos(wt)},${this._y1=it+st*Math.sin(wt)}`)}rect(rt,it,st,bt){this._append`M${this._x0=this._x1=+rt},${this._y0=this._y1=+it}h${st=+st}v${+bt}h${-st}Z`}toString(){return this._}}function responseText(nt){if(!nt.ok)throw new Error(nt.status+" "+nt.statusText);return nt.text()}function text$1(nt,rt){return fetch(nt,rt).then(responseText)}function parser$c(nt){return(rt,it)=>text$1(rt,it).then(st=>new DOMParser().parseFromString(st,nt))}var svg$2=parser$c("image/svg+xml");function formatDecimal(nt){return Math.abs(nt=Math.round(nt))>=1e21?nt.toLocaleString("en").replace(/,/g,""):nt.toString(10)}function formatDecimalParts(nt,rt){if((it=(nt=rt?nt.toExponential(rt-1):nt.toExponential()).indexOf("e"))<0)return null;var it,st=nt.slice(0,it);return[st.length>1?st[0]+st.slice(2):st,+nt.slice(it+1)]}function exponent(nt){return nt=formatDecimalParts(Math.abs(nt)),nt?nt[1]:NaN}function formatGroup(nt,rt){return function(it,st){for(var bt=it.length,wt=[],Et=0,Tt=nt[0],At=0;bt>0&&Tt>0&&(At+Tt+1>st&&(Tt=Math.max(1,st-At)),wt.push(it.substring(bt-=Tt,bt+Tt)),!((At+=Tt+1)>st));)Tt=nt[Et=(Et+1)%nt.length];return wt.reverse().join(rt)}}function formatNumerals(nt){return function(rt){return rt.replace(/[0-9]/g,function(it){return nt[+it]})}}var re=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function formatSpecifier(nt){if(!(rt=re.exec(nt)))throw new Error("invalid format: "+nt);var rt;return new FormatSpecifier({fill:rt[1],align:rt[2],sign:rt[3],symbol:rt[4],zero:rt[5],width:rt[6],comma:rt[7],precision:rt[8]&&rt[8].slice(1),trim:rt[9],type:rt[10]})}formatSpecifier.prototype=FormatSpecifier.prototype;function FormatSpecifier(nt){this.fill=nt.fill===void 0?" ":nt.fill+"",this.align=nt.align===void 0?">":nt.align+"",this.sign=nt.sign===void 0?"-":nt.sign+"",this.symbol=nt.symbol===void 0?"":nt.symbol+"",this.zero=!!nt.zero,this.width=nt.width===void 0?void 0:+nt.width,this.comma=!!nt.comma,this.precision=nt.precision===void 0?void 0:+nt.precision,this.trim=!!nt.trim,this.type=nt.type===void 0?"":nt.type+""}FormatSpecifier.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function formatTrim(nt){e:for(var rt=nt.length,it=1,st=-1,bt;it<rt;++it)switch(nt[it]){case".":st=bt=it;break;case"0":st===0&&(st=it),bt=it;break;default:if(!+nt[it])break e;st>0&&(st=0);break}return st>0?nt.slice(0,st)+nt.slice(bt+1):nt}var prefixExponent;function formatPrefixAuto(nt,rt){var it=formatDecimalParts(nt,rt);if(!it)return nt+"";var st=it[0],bt=it[1],wt=bt-(prefixExponent=Math.max(-8,Math.min(8,Math.floor(bt/3)))*3)+1,Et=st.length;return wt===Et?st:wt>Et?st+new Array(wt-Et+1).join("0"):wt>0?st.slice(0,wt)+"."+st.slice(wt):"0."+new Array(1-wt).join("0")+formatDecimalParts(nt,Math.max(0,rt+wt-1))[0]}function formatRounded(nt,rt){var it=formatDecimalParts(nt,rt);if(!it)return nt+"";var st=it[0],bt=it[1];return bt<0?"0."+new Array(-bt).join("0")+st:st.length>bt+1?st.slice(0,bt+1)+"."+st.slice(bt+1):st+new Array(bt-st.length+2).join("0")}const formatTypes={"%":(nt,rt)=>(nt*100).toFixed(rt),b:nt=>Math.round(nt).toString(2),c:nt=>nt+"",d:formatDecimal,e:(nt,rt)=>nt.toExponential(rt),f:(nt,rt)=>nt.toFixed(rt),g:(nt,rt)=>nt.toPrecision(rt),o:nt=>Math.round(nt).toString(8),p:(nt,rt)=>formatRounded(nt*100,rt),r:formatRounded,s:formatPrefixAuto,X:nt=>Math.round(nt).toString(16).toUpperCase(),x:nt=>Math.round(nt).toString(16)};function identity$3(nt){return nt}var map$2=Array.prototype.map,prefixes=["y","z","a","f","p","n","\xB5","m","","k","M","G","T","P","E","Z","Y"];function formatLocale$1(nt){var rt=nt.grouping===void 0||nt.thousands===void 0?identity$3:formatGroup(map$2.call(nt.grouping,Number),nt.thousands+""),it=nt.currency===void 0?"":nt.currency[0]+"",st=nt.currency===void 0?"":nt.currency[1]+"",bt=nt.decimal===void 0?".":nt.decimal+"",wt=nt.numerals===void 0?identity$3:formatNumerals(map$2.call(nt.numerals,String)),Et=nt.percent===void 0?"%":nt.percent+"",Tt=nt.minus===void 0?"\u2212":nt.minus+"",At=nt.nan===void 0?"NaN":nt.nan+"";function Dt(zt){zt=formatSpecifier(zt);var $t=zt.fill,Bt=zt.align,Yt=zt.sign,Xt=zt.symbol,Ht=zt.zero,Qt=zt.width,Zt=zt.comma,nn=zt.precision,Kt=zt.trim,ln=zt.type;ln==="n"?(Zt=!0,ln="g"):formatTypes[ln]||(nn===void 0&&(nn=12),Kt=!0,ln="g"),(Ht||$t==="0"&&Bt==="=")&&(Ht=!0,$t="0",Bt="=");var sn=Xt==="$"?it:Xt==="#"&&/[boxX]/.test(ln)?"0"+ln.toLowerCase():"",bn=Xt==="$"?st:/[%p]/.test(ln)?Et:"",wn=formatTypes[ln],Mn=/[defgprs%]/.test(ln);nn=nn===void 0?6:/[gprs]/.test(ln)?Math.max(1,Math.min(21,nn)):Math.max(0,Math.min(20,nn));function Sn(Dn){var gn=sn,Un=bn,pn,yr,xn;if(ln==="c")Un=wn(Dn)+Un,Dn="";else{Dn=+Dn;var Mr=Dn<0||1/Dn<0;if(Dn=isNaN(Dn)?At:wn(Math.abs(Dn),nn),Kt&&(Dn=formatTrim(Dn)),Mr&&+Dn==0&&Yt!=="+"&&(Mr=!1),gn=(Mr?Yt==="("?Yt:Tt:Yt==="-"||Yt==="("?"":Yt)+gn,Un=(ln==="s"?prefixes[8+prefixExponent/3]:"")+Un+(Mr&&Yt==="("?")":""),Mn){for(pn=-1,yr=Dn.length;++pn<yr;)if(xn=Dn.charCodeAt(pn),48>xn||xn>57){Un=(xn===46?bt+Dn.slice(pn+1):Dn.slice(pn))+Un,Dn=Dn.slice(0,pn);break}}}Zt&&!Ht&&(Dn=rt(Dn,1/0));var fr=gn.length+Dn.length+Un.length,cr=fr<Qt?new Array(Qt-fr+1).join($t):"";switch(Zt&&Ht&&(Dn=rt(cr+Dn,cr.length?Qt-Un.length:1/0),cr=""),Bt){case"<":Dn=gn+Dn+Un+cr;break;case"=":Dn=gn+cr+Dn+Un;break;case"^":Dn=cr.slice(0,fr=cr.length>>1)+gn+Dn+Un+cr.slice(fr);break;default:Dn=cr+gn+Dn+Un;break}return wt(Dn)}return Sn.toString=function(){return zt+""},Sn}function Ot(zt,$t){var Bt=Dt((zt=formatSpecifier(zt),zt.type="f",zt)),Yt=Math.max(-8,Math.min(8,Math.floor(exponent($t)/3)))*3,Xt=Math.pow(10,-Yt),Ht=prefixes[8+Yt/3];return function(Qt){return Bt(Xt*Qt)+Ht}}return{format:Dt,formatPrefix:Ot}}var locale$1,format$1,formatPrefix;defaultLocale$1({thousands:",",grouping:[3],currency:["$",""]});function defaultLocale$1(nt){return locale$1=formatLocale$1(nt),format$1=locale$1.format,formatPrefix=locale$1.formatPrefix,locale$1}function precisionFixed(nt){return Math.max(0,-exponent(Math.abs(nt)))}function precisionPrefix(nt,rt){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(exponent(rt)/3)))*3-exponent(Math.abs(nt)))}function precisionRound(nt,rt){return nt=Math.abs(nt),rt=Math.abs(rt)-nt,Math.max(0,exponent(rt)-exponent(nt))+1}function initRange(nt,rt){switch(arguments.length){case 0:break;case 1:this.range(nt);break;default:this.range(rt).domain(nt);break}return this}const implicit=Symbol("implicit");function ordinal(){var nt=new InternMap,rt=[],it=[],st=implicit;function bt(wt){let Et=nt.get(wt);if(Et===void 0){if(st!==implicit)return st;nt.set(wt,Et=rt.push(wt)-1)}return it[Et%it.length]}return bt.domain=function(wt){if(!arguments.length)return rt.slice();rt=[],nt=new InternMap;for(const Et of wt)nt.has(Et)||nt.set(Et,rt.push(Et)-1);return bt},bt.range=function(wt){return arguments.length?(it=Array.from(wt),bt):it.slice()},bt.unknown=function(wt){return arguments.length?(st=wt,bt):st},bt.copy=function(){return ordinal(rt,it).unknown(st)},initRange.apply(bt,arguments),bt}function constants$1(nt){return function(){return nt}}function number$1(nt){return+nt}var unit$1=[0,1];function identity$2(nt){return nt}function normalize(nt,rt){return(rt-=nt=+nt)?function(it){return(it-nt)/rt}:constants$1(isNaN(rt)?NaN:.5)}function clamper(nt,rt){var it;return nt>rt&&(it=nt,nt=rt,rt=it),function(st){return Math.max(nt,Math.min(rt,st))}}function bimap(nt,rt,it){var st=nt[0],bt=nt[1],wt=rt[0],Et=rt[1];return bt<st?(st=normalize(bt,st),wt=it(Et,wt)):(st=normalize(st,bt),wt=it(wt,Et)),function(Tt){return wt(st(Tt))}}function polymap(nt,rt,it){var st=Math.min(nt.length,rt.length)-1,bt=new Array(st),wt=new Array(st),Et=-1;for(nt[st]<nt[0]&&(nt=nt.slice().reverse(),rt=rt.slice().reverse());++Et<st;)bt[Et]=normalize(nt[Et],nt[Et+1]),wt[Et]=it(rt[Et],rt[Et+1]);return function(Tt){var At=bisect(nt,Tt,1,st)-1;return wt[At](bt[At](Tt))}}function copy$1(nt,rt){return rt.domain(nt.domain()).range(nt.range()).interpolate(nt.interpolate()).clamp(nt.clamp()).unknown(nt.unknown())}function transformer(){var nt=unit$1,rt=unit$1,it=interpolate$1,st,bt,wt,Et=identity$2,Tt,At,Dt;function Ot(){var $t=Math.min(nt.length,rt.length);return Et!==identity$2&&(Et=clamper(nt[0],nt[$t-1])),Tt=$t>2?polymap:bimap,At=Dt=null,zt}function zt($t){return $t==null||isNaN($t=+$t)?wt:(At||(At=Tt(nt.map(st),rt,it)))(st(Et($t)))}return zt.invert=function($t){return Et(bt((Dt||(Dt=Tt(rt,nt.map(st),interpolateNumber)))($t)))},zt.domain=function($t){return arguments.length?(nt=Array.from($t,number$1),Ot()):nt.slice()},zt.range=function($t){return arguments.length?(rt=Array.from($t),Ot()):rt.slice()},zt.rangeRound=function($t){return rt=Array.from($t),it=interpolateRound,Ot()},zt.clamp=function($t){return arguments.length?(Et=$t?!0:identity$2,Ot()):Et!==identity$2},zt.interpolate=function($t){return arguments.length?(it=$t,Ot()):it},zt.unknown=function($t){return arguments.length?(wt=$t,zt):wt},function($t,Bt){return st=$t,bt=Bt,Ot()}}function continuous(){return transformer()(identity$2,identity$2)}function tickFormat(nt,rt,it,st){var bt=tickStep(nt,rt,it),wt;switch(st=formatSpecifier(st==null?",f":st),st.type){case"s":{var Et=Math.max(Math.abs(nt),Math.abs(rt));return st.precision==null&&!isNaN(wt=precisionPrefix(bt,Et))&&(st.precision=wt),formatPrefix(st,Et)}case"":case"e":case"g":case"p":case"r":{st.precision==null&&!isNaN(wt=precisionRound(bt,Math.max(Math.abs(nt),Math.abs(rt))))&&(st.precision=wt-(st.type==="e"));break}case"f":case"%":{st.precision==null&&!isNaN(wt=precisionFixed(bt))&&(st.precision=wt-(st.type==="%")*2);break}}return format$1(st)}function linearish(nt){var rt=nt.domain;return nt.ticks=function(it){var st=rt();return ticks(st[0],st[st.length-1],it==null?10:it)},nt.tickFormat=function(it,st){var bt=rt();return tickFormat(bt[0],bt[bt.length-1],it==null?10:it,st)},nt.nice=function(it){it==null&&(it=10);var st=rt(),bt=0,wt=st.length-1,Et=st[bt],Tt=st[wt],At,Dt,Ot=10;for(Tt<Et&&(Dt=Et,Et=Tt,Tt=Dt,Dt=bt,bt=wt,wt=Dt);Ot-- >0;){if(Dt=tickIncrement(Et,Tt,it),Dt===At)return st[bt]=Et,st[wt]=Tt,rt(st);if(Dt>0)Et=Math.floor(Et/Dt)*Dt,Tt=Math.ceil(Tt/Dt)*Dt;else if(Dt<0)Et=Math.ceil(Et*Dt)/Dt,Tt=Math.floor(Tt*Dt)/Dt;else break;At=Dt}return nt},nt}function linear(){var nt=continuous();return nt.copy=function(){return copy$1(nt,linear())},initRange.apply(nt,arguments),linearish(nt)}function nice(nt,rt){nt=nt.slice();var it=0,st=nt.length-1,bt=nt[it],wt=nt[st],Et;return wt<bt&&(Et=it,it=st,st=Et,Et=bt,bt=wt,wt=Et),nt[it]=rt.floor(bt),nt[st]=rt.ceil(wt),nt}const t0=new Date,t1=new Date;function timeInterval(nt,rt,it,st){function bt(wt){return nt(wt=arguments.length===0?new Date:new Date(+wt)),wt}return bt.floor=wt=>(nt(wt=new Date(+wt)),wt),bt.ceil=wt=>(nt(wt=new Date(wt-1)),rt(wt,1),nt(wt),wt),bt.round=wt=>{const Et=bt(wt),Tt=bt.ceil(wt);return wt-Et<Tt-wt?Et:Tt},bt.offset=(wt,Et)=>(rt(wt=new Date(+wt),Et==null?1:Math.floor(Et)),wt),bt.range=(wt,Et,Tt)=>{const At=[];if(wt=bt.ceil(wt),Tt=Tt==null?1:Math.floor(Tt),!(wt<Et)||!(Tt>0))return At;let Dt;do At.push(Dt=new Date(+wt)),rt(wt,Tt),nt(wt);while(Dt<wt&&wt<Et);return At},bt.filter=wt=>timeInterval(Et=>{if(Et>=Et)for(;nt(Et),!wt(Et);)Et.setTime(Et-1)},(Et,Tt)=>{if(Et>=Et)if(Tt<0)for(;++Tt<=0;)for(;rt(Et,-1),!wt(Et););else for(;--Tt>=0;)for(;rt(Et,1),!wt(Et););}),it&&(bt.count=(wt,Et)=>(t0.setTime(+wt),t1.setTime(+Et),nt(t0),nt(t1),Math.floor(it(t0,t1))),bt.every=wt=>(wt=Math.floor(wt),!isFinite(wt)||!(wt>0)?null:wt>1?bt.filter(st?Et=>st(Et)%wt===0:Et=>bt.count(0,Et)%wt===0):bt)),bt}const millisecond=timeInterval(()=>{},(nt,rt)=>{nt.setTime(+nt+rt)},(nt,rt)=>rt-nt);millisecond.every=nt=>(nt=Math.floor(nt),!isFinite(nt)||!(nt>0)?null:nt>1?timeInterval(rt=>{rt.setTime(Math.floor(rt/nt)*nt)},(rt,it)=>{rt.setTime(+rt+it*nt)},(rt,it)=>(it-rt)/nt):millisecond);millisecond.range;const durationSecond=1e3,durationMinute=durationSecond*60,durationHour=durationMinute*60,durationDay=durationHour*24,durationWeek=durationDay*7,durationMonth=durationDay*30,durationYear=durationDay*365,second=timeInterval(nt=>{nt.setTime(nt-nt.getMilliseconds())},(nt,rt)=>{nt.setTime(+nt+rt*durationSecond)},(nt,rt)=>(rt-nt)/durationSecond,nt=>nt.getUTCSeconds());second.range;const timeMinute=timeInterval(nt=>{nt.setTime(nt-nt.getMilliseconds()-nt.getSeconds()*durationSecond)},(nt,rt)=>{nt.setTime(+nt+rt*durationMinute)},(nt,rt)=>(rt-nt)/durationMinute,nt=>nt.getMinutes());timeMinute.range;const utcMinute=timeInterval(nt=>{nt.setUTCSeconds(0,0)},(nt,rt)=>{nt.setTime(+nt+rt*durationMinute)},(nt,rt)=>(rt-nt)/durationMinute,nt=>nt.getUTCMinutes());utcMinute.range;const timeHour=timeInterval(nt=>{nt.setTime(nt-nt.getMilliseconds()-nt.getSeconds()*durationSecond-nt.getMinutes()*durationMinute)},(nt,rt)=>{nt.setTime(+nt+rt*durationHour)},(nt,rt)=>(rt-nt)/durationHour,nt=>nt.getHours());timeHour.range;const utcHour=timeInterval(nt=>{nt.setUTCMinutes(0,0,0)},(nt,rt)=>{nt.setTime(+nt+rt*durationHour)},(nt,rt)=>(rt-nt)/durationHour,nt=>nt.getUTCHours());utcHour.range;const timeDay=timeInterval(nt=>nt.setHours(0,0,0,0),(nt,rt)=>nt.setDate(nt.getDate()+rt),(nt,rt)=>(rt-nt-(rt.getTimezoneOffset()-nt.getTimezoneOffset())*durationMinute)/durationDay,nt=>nt.getDate()-1);timeDay.range;const utcDay=timeInterval(nt=>{nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCDate(nt.getUTCDate()+rt)},(nt,rt)=>(rt-nt)/durationDay,nt=>nt.getUTCDate()-1);utcDay.range;const unixDay=timeInterval(nt=>{nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCDate(nt.getUTCDate()+rt)},(nt,rt)=>(rt-nt)/durationDay,nt=>Math.floor(nt/durationDay));unixDay.range;function timeWeekday(nt){return timeInterval(rt=>{rt.setDate(rt.getDate()-(rt.getDay()+7-nt)%7),rt.setHours(0,0,0,0)},(rt,it)=>{rt.setDate(rt.getDate()+it*7)},(rt,it)=>(it-rt-(it.getTimezoneOffset()-rt.getTimezoneOffset())*durationMinute)/durationWeek)}const timeSunday=timeWeekday(0),timeMonday=timeWeekday(1),timeTuesday=timeWeekday(2),timeWednesday=timeWeekday(3),timeThursday=timeWeekday(4),timeFriday=timeWeekday(5),timeSaturday=timeWeekday(6);timeSunday.range;timeMonday.range;timeTuesday.range;timeWednesday.range;timeThursday.range;timeFriday.range;timeSaturday.range;function utcWeekday(nt){return timeInterval(rt=>{rt.setUTCDate(rt.getUTCDate()-(rt.getUTCDay()+7-nt)%7),rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCDate(rt.getUTCDate()+it*7)},(rt,it)=>(it-rt)/durationWeek)}const utcSunday=utcWeekday(0),utcMonday=utcWeekday(1),utcTuesday=utcWeekday(2),utcWednesday=utcWeekday(3),utcThursday=utcWeekday(4),utcFriday=utcWeekday(5),utcSaturday=utcWeekday(6);utcSunday.range;utcMonday.range;utcTuesday.range;utcWednesday.range;utcThursday.range;utcFriday.range;utcSaturday.range;const timeMonth=timeInterval(nt=>{nt.setDate(1),nt.setHours(0,0,0,0)},(nt,rt)=>{nt.setMonth(nt.getMonth()+rt)},(nt,rt)=>rt.getMonth()-nt.getMonth()+(rt.getFullYear()-nt.getFullYear())*12,nt=>nt.getMonth());timeMonth.range;const utcMonth=timeInterval(nt=>{nt.setUTCDate(1),nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCMonth(nt.getUTCMonth()+rt)},(nt,rt)=>rt.getUTCMonth()-nt.getUTCMonth()+(rt.getUTCFullYear()-nt.getUTCFullYear())*12,nt=>nt.getUTCMonth());utcMonth.range;const timeYear=timeInterval(nt=>{nt.setMonth(0,1),nt.setHours(0,0,0,0)},(nt,rt)=>{nt.setFullYear(nt.getFullYear()+rt)},(nt,rt)=>rt.getFullYear()-nt.getFullYear(),nt=>nt.getFullYear());timeYear.every=nt=>!isFinite(nt=Math.floor(nt))||!(nt>0)?null:timeInterval(rt=>{rt.setFullYear(Math.floor(rt.getFullYear()/nt)*nt),rt.setMonth(0,1),rt.setHours(0,0,0,0)},(rt,it)=>{rt.setFullYear(rt.getFullYear()+it*nt)});timeYear.range;const utcYear=timeInterval(nt=>{nt.setUTCMonth(0,1),nt.setUTCHours(0,0,0,0)},(nt,rt)=>{nt.setUTCFullYear(nt.getUTCFullYear()+rt)},(nt,rt)=>rt.getUTCFullYear()-nt.getUTCFullYear(),nt=>nt.getUTCFullYear());utcYear.every=nt=>!isFinite(nt=Math.floor(nt))||!(nt>0)?null:timeInterval(rt=>{rt.setUTCFullYear(Math.floor(rt.getUTCFullYear()/nt)*nt),rt.setUTCMonth(0,1),rt.setUTCHours(0,0,0,0)},(rt,it)=>{rt.setUTCFullYear(rt.getUTCFullYear()+it*nt)});utcYear.range;function ticker(nt,rt,it,st,bt,wt){const Et=[[second,1,durationSecond],[second,5,5*durationSecond],[second,15,15*durationSecond],[second,30,30*durationSecond],[wt,1,durationMinute],[wt,5,5*durationMinute],[wt,15,15*durationMinute],[wt,30,30*durationMinute],[bt,1,durationHour],[bt,3,3*durationHour],[bt,6,6*durationHour],[bt,12,12*durationHour],[st,1,durationDay],[st,2,2*durationDay],[it,1,durationWeek],[rt,1,durationMonth],[rt,3,3*durationMonth],[nt,1,durationYear]];function Tt(Dt,Ot,zt){const $t=Ot<Dt;$t&&([Dt,Ot]=[Ot,Dt]);const Bt=zt&&typeof zt.range=="function"?zt:At(Dt,Ot,zt),Yt=Bt?Bt.range(Dt,+Ot+1):[];return $t?Yt.reverse():Yt}function At(Dt,Ot,zt){const $t=Math.abs(Ot-Dt)/zt,Bt=bisector(([,,Ht])=>Ht).right(Et,$t);if(Bt===Et.length)return nt.every(tickStep(Dt/durationYear,Ot/durationYear,zt));if(Bt===0)return millisecond.every(Math.max(tickStep(Dt,Ot,zt),1));const[Yt,Xt]=Et[$t/Et[Bt-1][2]<Et[Bt][2]/$t?Bt-1:Bt];return Yt.every(Xt)}return[Tt,At]}ticker(utcYear,utcMonth,utcSunday,unixDay,utcHour,utcMinute);const[timeTicks,timeTickInterval]=ticker(timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute);function localDate(nt){if(0<=nt.y&&nt.y<100){var rt=new Date(-1,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L);return rt.setFullYear(nt.y),rt}return new Date(nt.y,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L)}function utcDate(nt){if(0<=nt.y&&nt.y<100){var rt=new Date(Date.UTC(-1,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L));return rt.setUTCFullYear(nt.y),rt}return new Date(Date.UTC(nt.y,nt.m,nt.d,nt.H,nt.M,nt.S,nt.L))}function newDate(nt,rt,it){return{y:nt,m:rt,d:it,H:0,M:0,S:0,L:0}}function formatLocale(nt){var rt=nt.dateTime,it=nt.date,st=nt.time,bt=nt.periods,wt=nt.days,Et=nt.shortDays,Tt=nt.months,At=nt.shortMonths,Dt=formatRe(bt),Ot=formatLookup(bt),zt=formatRe(wt),$t=formatLookup(wt),Bt=formatRe(Et),Yt=formatLookup(Et),Xt=formatRe(Tt),Ht=formatLookup(Tt),Qt=formatRe(At),Zt=formatLookup(At),nn={a:Mr,A:fr,b:cr,B:Gn,c:null,d:formatDayOfMonth,e:formatDayOfMonth,f:formatMicroseconds,g:formatYearISO,G:formatFullYearISO,H:formatHour24,I:formatHour12,j:formatDayOfYear,L:formatMilliseconds,m:formatMonthNumber,M:formatMinutes,p:lr,q:ur,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatSeconds,u:formatWeekdayNumberMonday,U:formatWeekNumberSunday,V:formatWeekNumberISO,w:formatWeekdayNumberSunday,W:formatWeekNumberMonday,x:null,X:null,y:formatYear,Y:formatFullYear,Z:formatZone,"%":formatLiteralPercent},Kt={a:vr,A:Ir,b:Pr,B:_r,c:null,d:formatUTCDayOfMonth,e:formatUTCDayOfMonth,f:formatUTCMicroseconds,g:formatUTCYearISO,G:formatUTCFullYearISO,H:formatUTCHour24,I:formatUTCHour12,j:formatUTCDayOfYear,L:formatUTCMilliseconds,m:formatUTCMonthNumber,M:formatUTCMinutes,p:tr,q:qn,Q:formatUnixTimestamp,s:formatUnixTimestampSeconds,S:formatUTCSeconds,u:formatUTCWeekdayNumberMonday,U:formatUTCWeekNumberSunday,V:formatUTCWeekNumberISO,w:formatUTCWeekdayNumberSunday,W:formatUTCWeekNumberMonday,x:null,X:null,y:formatUTCYear,Y:formatUTCFullYear,Z:formatUTCZone,"%":formatLiteralPercent},ln={a:Sn,A:Dn,b:gn,B:Un,c:pn,d:parseDayOfMonth,e:parseDayOfMonth,f:parseMicroseconds,g:parseYear,G:parseFullYear,H:parseHour24,I:parseHour24,j:parseDayOfYear,L:parseMilliseconds,m:parseMonthNumber,M:parseMinutes,p:Mn,q:parseQuarter,Q:parseUnixTimestamp,s:parseUnixTimestampSeconds,S:parseSeconds,u:parseWeekdayNumberMonday,U:parseWeekNumberSunday,V:parseWeekNumberISO,w:parseWeekdayNumberSunday,W:parseWeekNumberMonday,x:yr,X:xn,y:parseYear,Y:parseFullYear,Z:parseZone,"%":parseLiteralPercent};nn.x=sn(it,nn),nn.X=sn(st,nn),nn.c=sn(rt,nn),Kt.x=sn(it,Kt),Kt.X=sn(st,Kt),Kt.c=sn(rt,Kt);function sn(mr,br){return function(hr){var An=[],rn=-1,vn=0,hn=mr.length,zn,On,Er;for(hr instanceof Date||(hr=new Date(+hr));++rn<hn;)mr.charCodeAt(rn)===37&&(An.push(mr.slice(vn,rn)),(On=pads[zn=mr.charAt(++rn)])!=null?zn=mr.charAt(++rn):On=zn==="e"?" ":"0",(Er=br[zn])&&(zn=Er(hr,On)),An.push(zn),vn=rn+1);return An.push(mr.slice(vn,rn)),An.join("")}}function bn(mr,br){return function(hr){var An=newDate(1900,void 0,1),rn=wn(An,mr,hr+="",0),vn,hn;if(rn!=hr.length)return null;if("Q"in An)return new Date(An.Q);if("s"in An)return new Date(An.s*1e3+("L"in An?An.L:0));if(br&&!("Z"in An)&&(An.Z=0),"p"in An&&(An.H=An.H%12+An.p*12),An.m===void 0&&(An.m="q"in An?An.q:0),"V"in An){if(An.V<1||An.V>53)return null;"w"in An||(An.w=1),"Z"in An?(vn=utcDate(newDate(An.y,0,1)),hn=vn.getUTCDay(),vn=hn>4||hn===0?utcMonday.ceil(vn):utcMonday(vn),vn=utcDay.offset(vn,(An.V-1)*7),An.y=vn.getUTCFullYear(),An.m=vn.getUTCMonth(),An.d=vn.getUTCDate()+(An.w+6)%7):(vn=localDate(newDate(An.y,0,1)),hn=vn.getDay(),vn=hn>4||hn===0?timeMonday.ceil(vn):timeMonday(vn),vn=timeDay.offset(vn,(An.V-1)*7),An.y=vn.getFullYear(),An.m=vn.getMonth(),An.d=vn.getDate()+(An.w+6)%7)}else("W"in An||"U"in An)&&("w"in An||(An.w="u"in An?An.u%7:"W"in An?1:0),hn="Z"in An?utcDate(newDate(An.y,0,1)).getUTCDay():localDate(newDate(An.y,0,1)).getDay(),An.m=0,An.d="W"in An?(An.w+6)%7+An.W*7-(hn+5)%7:An.w+An.U*7-(hn+6)%7);return"Z"in An?(An.H+=An.Z/100|0,An.M+=An.Z%100,utcDate(An)):localDate(An)}}function wn(mr,br,hr,An){for(var rn=0,vn=br.length,hn=hr.length,zn,On;rn<vn;){if(An>=hn)return-1;if(zn=br.charCodeAt(rn++),zn===37){if(zn=br.charAt(rn++),On=ln[zn in pads?br.charAt(rn++):zn],!On||(An=On(mr,hr,An))<0)return-1}else if(zn!=hr.charCodeAt(An++))return-1}return An}function Mn(mr,br,hr){var An=Dt.exec(br.slice(hr));return An?(mr.p=Ot.get(An[0].toLowerCase()),hr+An[0].length):-1}function Sn(mr,br,hr){var An=Bt.exec(br.slice(hr));return An?(mr.w=Yt.get(An[0].toLowerCase()),hr+An[0].length):-1}function Dn(mr,br,hr){var An=zt.exec(br.slice(hr));return An?(mr.w=$t.get(An[0].toLowerCase()),hr+An[0].length):-1}function gn(mr,br,hr){var An=Qt.exec(br.slice(hr));return An?(mr.m=Zt.get(An[0].toLowerCase()),hr+An[0].length):-1}function Un(mr,br,hr){var An=Xt.exec(br.slice(hr));return An?(mr.m=Ht.get(An[0].toLowerCase()),hr+An[0].length):-1}function pn(mr,br,hr){return wn(mr,rt,br,hr)}function yr(mr,br,hr){return wn(mr,it,br,hr)}function xn(mr,br,hr){return wn(mr,st,br,hr)}function Mr(mr){return Et[mr.getDay()]}function fr(mr){return wt[mr.getDay()]}function cr(mr){return At[mr.getMonth()]}function Gn(mr){return Tt[mr.getMonth()]}function lr(mr){return bt[+(mr.getHours()>=12)]}function ur(mr){return 1+~~(mr.getMonth()/3)}function vr(mr){return Et[mr.getUTCDay()]}function Ir(mr){return wt[mr.getUTCDay()]}function Pr(mr){return At[mr.getUTCMonth()]}function _r(mr){return Tt[mr.getUTCMonth()]}function tr(mr){return bt[+(mr.getUTCHours()>=12)]}function qn(mr){return 1+~~(mr.getUTCMonth()/3)}return{format:function(mr){var br=sn(mr+="",nn);return br.toString=function(){return mr},br},parse:function(mr){var br=bn(mr+="",!1);return br.toString=function(){return mr},br},utcFormat:function(mr){var br=sn(mr+="",Kt);return br.toString=function(){return mr},br},utcParse:function(mr){var br=bn(mr+="",!0);return br.toString=function(){return mr},br}}}var pads={"-":"",_:" ",0:"0"},numberRe=/^\s*\d+/,percentRe=/^%/,requoteRe=/[\\^$*+?|[\]().{}]/g;function pad(nt,rt,it){var st=nt<0?"-":"",bt=(st?-nt:nt)+"",wt=bt.length;return st+(wt<it?new Array(it-wt+1).join(rt)+bt:bt)}function requote(nt){return nt.replace(requoteRe,"\\$&")}function formatRe(nt){return new RegExp("^(?:"+nt.map(requote).join("|")+")","i")}function formatLookup(nt){return new Map(nt.map((rt,it)=>[rt.toLowerCase(),it]))}function parseWeekdayNumberSunday(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+1));return st?(nt.w=+st[0],it+st[0].length):-1}function parseWeekdayNumberMonday(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+1));return st?(nt.u=+st[0],it+st[0].length):-1}function parseWeekNumberSunday(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.U=+st[0],it+st[0].length):-1}function parseWeekNumberISO(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.V=+st[0],it+st[0].length):-1}function parseWeekNumberMonday(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.W=+st[0],it+st[0].length):-1}function parseFullYear(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+4));return st?(nt.y=+st[0],it+st[0].length):-1}function parseYear(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.y=+st[0]+(+st[0]>68?1900:2e3),it+st[0].length):-1}function parseZone(nt,rt,it){var st=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(rt.slice(it,it+6));return st?(nt.Z=st[1]?0:-(st[2]+(st[3]||"00")),it+st[0].length):-1}function parseQuarter(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+1));return st?(nt.q=st[0]*3-3,it+st[0].length):-1}function parseMonthNumber(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.m=st[0]-1,it+st[0].length):-1}function parseDayOfMonth(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.d=+st[0],it+st[0].length):-1}function parseDayOfYear(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+3));return st?(nt.m=0,nt.d=+st[0],it+st[0].length):-1}function parseHour24(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.H=+st[0],it+st[0].length):-1}function parseMinutes(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.M=+st[0],it+st[0].length):-1}function parseSeconds(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+2));return st?(nt.S=+st[0],it+st[0].length):-1}function parseMilliseconds(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+3));return st?(nt.L=+st[0],it+st[0].length):-1}function parseMicroseconds(nt,rt,it){var st=numberRe.exec(rt.slice(it,it+6));return st?(nt.L=Math.floor(st[0]/1e3),it+st[0].length):-1}function parseLiteralPercent(nt,rt,it){var st=percentRe.exec(rt.slice(it,it+1));return st?it+st[0].length:-1}function parseUnixTimestamp(nt,rt,it){var st=numberRe.exec(rt.slice(it));return st?(nt.Q=+st[0],it+st[0].length):-1}function parseUnixTimestampSeconds(nt,rt,it){var st=numberRe.exec(rt.slice(it));return st?(nt.s=+st[0],it+st[0].length):-1}function formatDayOfMonth(nt,rt){return pad(nt.getDate(),rt,2)}function formatHour24(nt,rt){return pad(nt.getHours(),rt,2)}function formatHour12(nt,rt){return pad(nt.getHours()%12||12,rt,2)}function formatDayOfYear(nt,rt){return pad(1+timeDay.count(timeYear(nt),nt),rt,3)}function formatMilliseconds(nt,rt){return pad(nt.getMilliseconds(),rt,3)}function formatMicroseconds(nt,rt){return formatMilliseconds(nt,rt)+"000"}function formatMonthNumber(nt,rt){return pad(nt.getMonth()+1,rt,2)}function formatMinutes(nt,rt){return pad(nt.getMinutes(),rt,2)}function formatSeconds(nt,rt){return pad(nt.getSeconds(),rt,2)}function formatWeekdayNumberMonday(nt){var rt=nt.getDay();return rt===0?7:rt}function formatWeekNumberSunday(nt,rt){return pad(timeSunday.count(timeYear(nt)-1,nt),rt,2)}function dISO(nt){var rt=nt.getDay();return rt>=4||rt===0?timeThursday(nt):timeThursday.ceil(nt)}function formatWeekNumberISO(nt,rt){return nt=dISO(nt),pad(timeThursday.count(timeYear(nt),nt)+(timeYear(nt).getDay()===4),rt,2)}function formatWeekdayNumberSunday(nt){return nt.getDay()}function formatWeekNumberMonday(nt,rt){return pad(timeMonday.count(timeYear(nt)-1,nt),rt,2)}function formatYear(nt,rt){return pad(nt.getFullYear()%100,rt,2)}function formatYearISO(nt,rt){return nt=dISO(nt),pad(nt.getFullYear()%100,rt,2)}function formatFullYear(nt,rt){return pad(nt.getFullYear()%1e4,rt,4)}function formatFullYearISO(nt,rt){var it=nt.getDay();return nt=it>=4||it===0?timeThursday(nt):timeThursday.ceil(nt),pad(nt.getFullYear()%1e4,rt,4)}function formatZone(nt){var rt=nt.getTimezoneOffset();return(rt>0?"-":(rt*=-1,"+"))+pad(rt/60|0,"0",2)+pad(rt%60,"0",2)}function formatUTCDayOfMonth(nt,rt){return pad(nt.getUTCDate(),rt,2)}function formatUTCHour24(nt,rt){return pad(nt.getUTCHours(),rt,2)}function formatUTCHour12(nt,rt){return pad(nt.getUTCHours()%12||12,rt,2)}function formatUTCDayOfYear(nt,rt){return pad(1+utcDay.count(utcYear(nt),nt),rt,3)}function formatUTCMilliseconds(nt,rt){return pad(nt.getUTCMilliseconds(),rt,3)}function formatUTCMicroseconds(nt,rt){return formatUTCMilliseconds(nt,rt)+"000"}function formatUTCMonthNumber(nt,rt){return pad(nt.getUTCMonth()+1,rt,2)}function formatUTCMinutes(nt,rt){return pad(nt.getUTCMinutes(),rt,2)}function formatUTCSeconds(nt,rt){return pad(nt.getUTCSeconds(),rt,2)}function formatUTCWeekdayNumberMonday(nt){var rt=nt.getUTCDay();return rt===0?7:rt}function formatUTCWeekNumberSunday(nt,rt){return pad(utcSunday.count(utcYear(nt)-1,nt),rt,2)}function UTCdISO(nt){var rt=nt.getUTCDay();return rt>=4||rt===0?utcThursday(nt):utcThursday.ceil(nt)}function formatUTCWeekNumberISO(nt,rt){return nt=UTCdISO(nt),pad(utcThursday.count(utcYear(nt),nt)+(utcYear(nt).getUTCDay()===4),rt,2)}function formatUTCWeekdayNumberSunday(nt){return nt.getUTCDay()}function formatUTCWeekNumberMonday(nt,rt){return pad(utcMonday.count(utcYear(nt)-1,nt),rt,2)}function formatUTCYear(nt,rt){return pad(nt.getUTCFullYear()%100,rt,2)}function formatUTCYearISO(nt,rt){return nt=UTCdISO(nt),pad(nt.getUTCFullYear()%100,rt,2)}function formatUTCFullYear(nt,rt){return pad(nt.getUTCFullYear()%1e4,rt,4)}function formatUTCFullYearISO(nt,rt){var it=nt.getUTCDay();return nt=it>=4||it===0?utcThursday(nt):utcThursday.ceil(nt),pad(nt.getUTCFullYear()%1e4,rt,4)}function formatUTCZone(){return"+0000"}function formatLiteralPercent(){return"%"}function formatUnixTimestamp(nt){return+nt}function formatUnixTimestampSeconds(nt){return Math.floor(+nt/1e3)}var locale,timeFormat;defaultLocale({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function defaultLocale(nt){return locale=formatLocale(nt),timeFormat=locale.format,locale.parse,locale.utcFormat,locale.utcParse,locale}function date(nt){return new Date(nt)}function number(nt){return nt instanceof Date?+nt:+new Date(+nt)}function calendar(nt,rt,it,st,bt,wt,Et,Tt,At,Dt){var Ot=continuous(),zt=Ot.invert,$t=Ot.domain,Bt=Dt(".%L"),Yt=Dt(":%S"),Xt=Dt("%I:%M"),Ht=Dt("%I %p"),Qt=Dt("%a %d"),Zt=Dt("%b %d"),nn=Dt("%B"),Kt=Dt("%Y");function ln(sn){return(At(sn)<sn?Bt:Tt(sn)<sn?Yt:Et(sn)<sn?Xt:wt(sn)<sn?Ht:st(sn)<sn?bt(sn)<sn?Qt:Zt:it(sn)<sn?nn:Kt)(sn)}return Ot.invert=function(sn){return new Date(zt(sn))},Ot.domain=function(sn){return arguments.length?$t(Array.from(sn,number)):$t().map(date)},Ot.ticks=function(sn){var bn=$t();return nt(bn[0],bn[bn.length-1],sn==null?10:sn)},Ot.tickFormat=function(sn,bn){return bn==null?ln:Dt(bn)},Ot.nice=function(sn){var bn=$t();return(!sn||typeof sn.range!="function")&&(sn=rt(bn[0],bn[bn.length-1],sn==null?10:sn)),sn?$t(nice(bn,sn)):Ot},Ot.copy=function(){return copy$1(Ot,calendar(nt,rt,it,st,bt,wt,Et,Tt,At,Dt))},Ot}function time$1(){return initRange.apply(calendar(timeTicks,timeTickInterval,timeYear,timeMonth,timeSunday,timeDay,timeHour,timeMinute,second,timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function constant$1(nt){return function(){return nt}}const abs$1=Math.abs,atan2=Math.atan2,cos=Math.cos,max$1=Math.max,min$1=Math.min,sin=Math.sin,sqrt=Math.sqrt,epsilon=1e-12,pi=Math.PI,halfPi=pi/2,tau=2*pi;function acos(nt){return nt>1?0:nt<-1?pi:Math.acos(nt)}function asin(nt){return nt>=1?halfPi:nt<=-1?-halfPi:Math.asin(nt)}function withPath(nt){let rt=3;return nt.digits=function(it){if(!arguments.length)return rt;if(it==null)rt=null;else{const st=Math.floor(it);if(!(st>=0))throw new RangeError(`invalid digits: ${it}`);rt=st}return nt},()=>new Path(rt)}function arcInnerRadius(nt){return nt.innerRadius}function arcOuterRadius(nt){return nt.outerRadius}function arcStartAngle(nt){return nt.startAngle}function arcEndAngle(nt){return nt.endAngle}function arcPadAngle(nt){return nt&&nt.padAngle}function intersect$1(nt,rt,it,st,bt,wt,Et,Tt){var At=it-nt,Dt=st-rt,Ot=Et-bt,zt=Tt-wt,$t=zt*At-Ot*Dt;if(!($t*$t<epsilon))return $t=(Ot*(rt-wt)-zt*(nt-bt))/$t,[nt+$t*At,rt+$t*Dt]}function cornerTangents(nt,rt,it,st,bt,wt,Et){var Tt=nt-it,At=rt-st,Dt=(Et?wt:-wt)/sqrt(Tt*Tt+At*At),Ot=Dt*At,zt=-Dt*Tt,$t=nt+Ot,Bt=rt+zt,Yt=it+Ot,Xt=st+zt,Ht=($t+Yt)/2,Qt=(Bt+Xt)/2,Zt=Yt-$t,nn=Xt-Bt,Kt=Zt*Zt+nn*nn,ln=bt-wt,sn=$t*Xt-Yt*Bt,bn=(nn<0?-1:1)*sqrt(max$1(0,ln*ln*Kt-sn*sn)),wn=(sn*nn-Zt*bn)/Kt,Mn=(-sn*Zt-nn*bn)/Kt,Sn=(sn*nn+Zt*bn)/Kt,Dn=(-sn*Zt+nn*bn)/Kt,gn=wn-Ht,Un=Mn-Qt,pn=Sn-Ht,yr=Dn-Qt;return gn*gn+Un*Un>pn*pn+yr*yr&&(wn=Sn,Mn=Dn),{cx:wn,cy:Mn,x01:-Ot,y01:-zt,x11:wn*(bt/ln-1),y11:Mn*(bt/ln-1)}}function arc(){var nt=arcInnerRadius,rt=arcOuterRadius,it=constant$1(0),st=null,bt=arcStartAngle,wt=arcEndAngle,Et=arcPadAngle,Tt=null,At=withPath(Dt);function Dt(){var Ot,zt,$t=+nt.apply(this,arguments),Bt=+rt.apply(this,arguments),Yt=bt.apply(this,arguments)-halfPi,Xt=wt.apply(this,arguments)-halfPi,Ht=abs$1(Xt-Yt),Qt=Xt>Yt;if(Tt||(Tt=Ot=At()),Bt<$t&&(zt=Bt,Bt=$t,$t=zt),!(Bt>epsilon))Tt.moveTo(0,0);else if(Ht>tau-epsilon)Tt.moveTo(Bt*cos(Yt),Bt*sin(Yt)),Tt.arc(0,0,Bt,Yt,Xt,!Qt),$t>epsilon&&(Tt.moveTo($t*cos(Xt),$t*sin(Xt)),Tt.arc(0,0,$t,Xt,Yt,Qt));else{var Zt=Yt,nn=Xt,Kt=Yt,ln=Xt,sn=Ht,bn=Ht,wn=Et.apply(this,arguments)/2,Mn=wn>epsilon&&(st?+st.apply(this,arguments):sqrt($t*$t+Bt*Bt)),Sn=min$1(abs$1(Bt-$t)/2,+it.apply(this,arguments)),Dn=Sn,gn=Sn,Un,pn;if(Mn>epsilon){var yr=asin(Mn/$t*sin(wn)),xn=asin(Mn/Bt*sin(wn));(sn-=yr*2)>epsilon?(yr*=Qt?1:-1,Kt+=yr,ln-=yr):(sn=0,Kt=ln=(Yt+Xt)/2),(bn-=xn*2)>epsilon?(xn*=Qt?1:-1,Zt+=xn,nn-=xn):(bn=0,Zt=nn=(Yt+Xt)/2)}var Mr=Bt*cos(Zt),fr=Bt*sin(Zt),cr=$t*cos(ln),Gn=$t*sin(ln);if(Sn>epsilon){var lr=Bt*cos(nn),ur=Bt*sin(nn),vr=$t*cos(Kt),Ir=$t*sin(Kt),Pr;if(Ht<pi)if(Pr=intersect$1(Mr,fr,vr,Ir,lr,ur,cr,Gn)){var _r=Mr-Pr[0],tr=fr-Pr[1],qn=lr-Pr[0],mr=ur-Pr[1],br=1/sin(acos((_r*qn+tr*mr)/(sqrt(_r*_r+tr*tr)*sqrt(qn*qn+mr*mr)))/2),hr=sqrt(Pr[0]*Pr[0]+Pr[1]*Pr[1]);Dn=min$1(Sn,($t-hr)/(br-1)),gn=min$1(Sn,(Bt-hr)/(br+1))}else Dn=gn=0}bn>epsilon?gn>epsilon?(Un=cornerTangents(vr,Ir,Mr,fr,Bt,gn,Qt),pn=cornerTangents(lr,ur,cr,Gn,Bt,gn,Qt),Tt.moveTo(Un.cx+Un.x01,Un.cy+Un.y01),gn<Sn?Tt.arc(Un.cx,Un.cy,gn,atan2(Un.y01,Un.x01),atan2(pn.y01,pn.x01),!Qt):(Tt.arc(Un.cx,Un.cy,gn,atan2(Un.y01,Un.x01),atan2(Un.y11,Un.x11),!Qt),Tt.arc(0,0,Bt,atan2(Un.cy+Un.y11,Un.cx+Un.x11),atan2(pn.cy+pn.y11,pn.cx+pn.x11),!Qt),Tt.arc(pn.cx,pn.cy,gn,atan2(pn.y11,pn.x11),atan2(pn.y01,pn.x01),!Qt))):(Tt.moveTo(Mr,fr),Tt.arc(0,0,Bt,Zt,nn,!Qt)):Tt.moveTo(Mr,fr),!($t>epsilon)||!(sn>epsilon)?Tt.lineTo(cr,Gn):Dn>epsilon?(Un=cornerTangents(cr,Gn,lr,ur,$t,-Dn,Qt),pn=cornerTangents(Mr,fr,vr,Ir,$t,-Dn,Qt),Tt.lineTo(Un.cx+Un.x01,Un.cy+Un.y01),Dn<Sn?Tt.arc(Un.cx,Un.cy,Dn,atan2(Un.y01,Un.x01),atan2(pn.y01,pn.x01),!Qt):(Tt.arc(Un.cx,Un.cy,Dn,atan2(Un.y01,Un.x01),atan2(Un.y11,Un.x11),!Qt),Tt.arc(0,0,$t,atan2(Un.cy+Un.y11,Un.cx+Un.x11),atan2(pn.cy+pn.y11,pn.cx+pn.x11),Qt),Tt.arc(pn.cx,pn.cy,Dn,atan2(pn.y11,pn.x11),atan2(pn.y01,pn.x01),!Qt))):Tt.arc(0,0,$t,ln,Kt,Qt)}if(Tt.closePath(),Ot)return Tt=null,Ot+""||null}return Dt.centroid=function(){var Ot=(+nt.apply(this,arguments)+ +rt.apply(this,arguments))/2,zt=(+bt.apply(this,arguments)+ +wt.apply(this,arguments))/2-pi/2;return[cos(zt)*Ot,sin(zt)*Ot]},Dt.innerRadius=function(Ot){return arguments.length?(nt=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):nt},Dt.outerRadius=function(Ot){return arguments.length?(rt=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):rt},Dt.cornerRadius=function(Ot){return arguments.length?(it=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):it},Dt.padRadius=function(Ot){return arguments.length?(st=Ot==null?null:typeof Ot=="function"?Ot:constant$1(+Ot),Dt):st},Dt.startAngle=function(Ot){return arguments.length?(bt=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):bt},Dt.endAngle=function(Ot){return arguments.length?(wt=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):wt},Dt.padAngle=function(Ot){return arguments.length?(Et=typeof Ot=="function"?Ot:constant$1(+Ot),Dt):Et},Dt.context=function(Ot){return arguments.length?(Tt=Ot==null?null:Ot,Dt):Tt},Dt}function array(nt){return typeof nt=="object"&&"length"in nt?nt:Array.from(nt)}function Linear(nt){this._context=nt}Linear.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(nt,rt){switch(nt=+nt,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(nt,rt):this._context.moveTo(nt,rt);break;case 1:this._point=2;default:this._context.lineTo(nt,rt);break}}};function curveLinear(nt){return new Linear(nt)}function x(nt){return nt[0]}function y(nt){return nt[1]}function line$1(nt,rt){var it=constant$1(!0),st=null,bt=curveLinear,wt=null,Et=withPath(Tt);nt=typeof nt=="function"?nt:nt===void 0?x:constant$1(nt),rt=typeof rt=="function"?rt:rt===void 0?y:constant$1(rt);function Tt(At){var Dt,Ot=(At=array(At)).length,zt,$t=!1,Bt;for(st==null&&(wt=bt(Bt=Et())),Dt=0;Dt<=Ot;++Dt)!(Dt<Ot&&it(zt=At[Dt],Dt,At))===$t&&(($t=!$t)?wt.lineStart():wt.lineEnd()),$t&&wt.point(+nt(zt,Dt,At),+rt(zt,Dt,At));if(Bt)return wt=null,Bt+""||null}return Tt.x=function(At){return arguments.length?(nt=typeof At=="function"?At:constant$1(+At),Tt):nt},Tt.y=function(At){return arguments.length?(rt=typeof At=="function"?At:constant$1(+At),Tt):rt},Tt.defined=function(At){return arguments.length?(it=typeof At=="function"?At:constant$1(!!At),Tt):it},Tt.curve=function(At){return arguments.length?(bt=At,st!=null&&(wt=bt(st)),Tt):bt},Tt.context=function(At){return arguments.length?(At==null?st=wt=null:wt=bt(st=At),Tt):st},Tt}function descending(nt,rt){return rt<nt?-1:rt>nt?1:rt>=nt?0:NaN}function identity$1(nt){return nt}function pie(){var nt=identity$1,rt=descending,it=null,st=constant$1(0),bt=constant$1(tau),wt=constant$1(0);function Et(Tt){var At,Dt=(Tt=array(Tt)).length,Ot,zt,$t=0,Bt=new Array(Dt),Yt=new Array(Dt),Xt=+st.apply(this,arguments),Ht=Math.min(tau,Math.max(-tau,bt.apply(this,arguments)-Xt)),Qt,Zt=Math.min(Math.abs(Ht)/Dt,wt.apply(this,arguments)),nn=Zt*(Ht<0?-1:1),Kt;for(At=0;At<Dt;++At)(Kt=Yt[Bt[At]=At]=+nt(Tt[At],At,Tt))>0&&($t+=Kt);for(rt!=null?Bt.sort(function(ln,sn){return rt(Yt[ln],Yt[sn])}):it!=null&&Bt.sort(function(ln,sn){return it(Tt[ln],Tt[sn])}),At=0,zt=$t?(Ht-Dt*nn)/$t:0;At<Dt;++At,Xt=Qt)Ot=Bt[At],Kt=Yt[Ot],Qt=Xt+(Kt>0?Kt*zt:0)+nn,Yt[Ot]={data:Tt[Ot],index:At,value:Kt,startAngle:Xt,endAngle:Qt,padAngle:Zt};return Yt}return Et.value=function(Tt){return arguments.length?(nt=typeof Tt=="function"?Tt:constant$1(+Tt),Et):nt},Et.sortValues=function(Tt){return arguments.length?(rt=Tt,it=null,Et):rt},Et.sort=function(Tt){return arguments.length?(it=Tt,rt=null,Et):it},Et.startAngle=function(Tt){return arguments.length?(st=typeof Tt=="function"?Tt:constant$1(+Tt),Et):st},Et.endAngle=function(Tt){return arguments.length?(bt=typeof Tt=="function"?Tt:constant$1(+Tt),Et):bt},Et.padAngle=function(Tt){return arguments.length?(wt=typeof Tt=="function"?Tt:constant$1(+Tt),Et):wt},Et}function noop$1(){}function point$2(nt,rt,it){nt._context.bezierCurveTo((2*nt._x0+nt._x1)/3,(2*nt._y0+nt._y1)/3,(nt._x0+2*nt._x1)/3,(nt._y0+2*nt._y1)/3,(nt._x0+4*nt._x1+rt)/6,(nt._y0+4*nt._y1+it)/6)}function Basis(nt){this._context=nt}Basis.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:point$2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(nt,rt){switch(nt=+nt,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(nt,rt):this._context.moveTo(nt,rt);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:point$2(this,nt,rt);break}this._x0=this._x1,this._x1=nt,this._y0=this._y1,this._y1=rt}};function curveBasis(nt){return new Basis(nt)}function BasisClosed(nt){this._context=nt}BasisClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(nt,rt){switch(nt=+nt,rt=+rt,this._point){case 0:this._point=1,this._x2=nt,this._y2=rt;break;case 1:this._point=2,this._x3=nt,this._y3=rt;break;case 2:this._point=3,this._x4=nt,this._y4=rt,this._context.moveTo((this._x0+4*this._x1+nt)/6,(this._y0+4*this._y1+rt)/6);break;default:point$2(this,nt,rt);break}this._x0=this._x1,this._x1=nt,this._y0=this._y1,this._y1=rt}};function curveBasisClosed(nt){return new BasisClosed(nt)}function BasisOpen(nt){this._context=nt}BasisOpen.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(nt,rt){switch(nt=+nt,rt=+rt,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var it=(this._x0+4*this._x1+nt)/6,st=(this._y0+4*this._y1+rt)/6;this._line?this._context.lineTo(it,st):this._context.moveTo(it,st);break;case 3:this._point=4;default:point$2(this,nt,rt);break}this._x0=this._x1,this._x1=nt,this._y0=this._y1,this._y1=rt}};function curveBasisOpen(nt){return new BasisOpen(nt)}function LinearClosed(nt){this._context=nt}LinearClosed.prototype={areaStart:noop$1,areaEnd:noop$1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(nt,rt){nt=+nt,rt=+rt,this._point?this._context.lineTo(nt,rt):(this._point=1,this._context.moveTo(nt,rt))}};function curveLinearClosed(nt){return new LinearClosed(nt)}function sign(nt){return nt<0?-1:1}function slope3(nt,rt,it){var st=nt._x1-nt._x0,bt=rt-nt._x1,wt=(nt._y1-nt._y0)/(st||bt<0&&-0),Et=(it-nt._y1)/(bt||st<0&&-0),Tt=(wt*bt+Et*st)/(st+bt);return(sign(wt)+sign(Et))*Math.min(Math.abs(wt),Math.abs(Et),.5*Math.abs(Tt))||0}function slope2(nt,rt){var it=nt._x1-nt._x0;return it?(3*(nt._y1-nt._y0)/it-rt)/2:rt}function point$1(nt,rt,it){var st=nt._x0,bt=nt._y0,wt=nt._x1,Et=nt._y1,Tt=(wt-st)/3;nt._context.bezierCurveTo(st+Tt,bt+Tt*rt,wt-Tt,Et-Tt*it,wt,Et)}function MonotoneX(nt){this._context=nt}MonotoneX.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:point$1(this,this._t0,slope2(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(nt,rt){var it=NaN;if(nt=+nt,rt=+rt,!(nt===this._x1&&rt===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(nt,rt):this._context.moveTo(nt,rt);break;case 1:this._point=2;break;case 2:this._point=3,point$1(this,slope2(this,it=slope3(this,nt,rt)),it);break;default:point$1(this,this._t0,it=slope3(this,nt,rt));break}this._x0=this._x1,this._x1=nt,this._y0=this._y1,this._y1=rt,this._t0=it}}};function MonotoneY(nt){this._context=new ReflectContext(nt)}(MonotoneY.prototype=Object.create(MonotoneX.prototype)).point=function(nt,rt){MonotoneX.prototype.point.call(this,rt,nt)};function ReflectContext(nt){this._context=nt}ReflectContext.prototype={moveTo:function(nt,rt){this._context.moveTo(rt,nt)},closePath:function(){this._context.closePath()},lineTo:function(nt,rt){this._context.lineTo(rt,nt)},bezierCurveTo:function(nt,rt,it,st,bt,wt){this._context.bezierCurveTo(rt,nt,st,it,wt,bt)}};function monotoneX(nt){return new MonotoneX(nt)}function monotoneY(nt){return new MonotoneY(nt)}function Natural(nt){this._context=nt}Natural.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var nt=this._x,rt=this._y,it=nt.length;if(it)if(this._line?this._context.lineTo(nt[0],rt[0]):this._context.moveTo(nt[0],rt[0]),it===2)this._context.lineTo(nt[1],rt[1]);else for(var st=controlPoints(nt),bt=controlPoints(rt),wt=0,Et=1;Et<it;++wt,++Et)this._context.bezierCurveTo(st[0][wt],bt[0][wt],st[1][wt],bt[1][wt],nt[Et],rt[Et]);(this._line||this._line!==0&&it===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(nt,rt){this._x.push(+nt),this._y.push(+rt)}};function controlPoints(nt){var rt,it=nt.length-1,st,bt=new Array(it),wt=new Array(it),Et=new Array(it);for(bt[0]=0,wt[0]=2,Et[0]=nt[0]+2*nt[1],rt=1;rt<it-1;++rt)bt[rt]=1,wt[rt]=4,Et[rt]=4*nt[rt]+2*nt[rt+1];for(bt[it-1]=2,wt[it-1]=7,Et[it-1]=8*nt[it-1]+nt[it],rt=1;rt<it;++rt)st=bt[rt]/wt[rt-1],wt[rt]-=st,Et[rt]-=st*Et[rt-1];for(bt[it-1]=Et[it-1]/wt[it-1],rt=it-2;rt>=0;--rt)bt[rt]=(Et[rt]-bt[rt+1])/wt[rt];for(wt[it-1]=(nt[it]+bt[it-1])/2,rt=0;rt<it-1;++rt)wt[rt]=2*nt[rt+1]-bt[rt+1];return[bt,wt]}function curveNatural(nt){return new Natural(nt)}function Step(nt,rt){this._context=nt,this._t=rt}Step.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(nt,rt){switch(nt=+nt,rt=+rt,this._point){case 0:this._point=1,this._line?this._context.lineTo(nt,rt):this._context.moveTo(nt,rt);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,rt),this._context.lineTo(nt,rt);else{var it=this._x*(1-this._t)+nt*this._t;this._context.lineTo(it,this._y),this._context.lineTo(it,rt)}break}}this._x=nt,this._y=rt}};function curveStep(nt){return new Step(nt,.5)}function stepBefore(nt){return new Step(nt,0)}function stepAfter(nt){return new Step(nt,1)}function Transform(nt,rt,it){this.k=nt,this.x=rt,this.y=it}Transform.prototype={constructor:Transform,scale:function(nt){return nt===1?this:new Transform(this.k*nt,this.x,this.y)},translate:function(nt,rt){return nt===0&rt===0?this:new Transform(this.k,this.x+this.k*nt,this.y+this.k*rt)},apply:function(nt){return[nt[0]*this.k+this.x,nt[1]*this.k+this.y]},applyX:function(nt){return nt*this.k+this.x},applyY:function(nt){return nt*this.k+this.y},invert:function(nt){return[(nt[0]-this.x)/this.k,(nt[1]-this.y)/this.k]},invertX:function(nt){return(nt-this.x)/this.k},invertY:function(nt){return(nt-this.y)/this.k},rescaleX:function(nt){return nt.copy().domain(nt.range().map(this.invertX,this).map(nt.invert,nt))},rescaleY:function(nt){return nt.copy().domain(nt.range().map(this.invertY,this).map(nt.invert,nt))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};new Transform(1,0,0);Transform.prototype;/*! @license DOMPurify 2.4.1 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.4.1/LICENSE */function _typeof(nt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(rt){return typeof rt}:function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof(nt)}function _setPrototypeOf(nt,rt){return _setPrototypeOf=Object.setPrototypeOf||function(st,bt){return st.__proto__=bt,st},_setPrototypeOf(nt,rt)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(nt,rt,it){return _isNativeReflectConstruct()?_construct=Reflect.construct:_construct=function(bt,wt,Et){var Tt=[null];Tt.push.apply(Tt,wt);var At=Function.bind.apply(bt,Tt),Dt=new At;return Et&&_setPrototypeOf(Dt,Et.prototype),Dt},_construct.apply(null,arguments)}function _toConsumableArray(nt){return _arrayWithoutHoles(nt)||_iterableToArray(nt)||_unsupportedIterableToArray(nt)||_nonIterableSpread()}function _arrayWithoutHoles(nt){if(Array.isArray(nt))return _arrayLikeToArray(nt)}function _iterableToArray(nt){if(typeof Symbol<"u"&&nt[Symbol.iterator]!=null||nt["@@iterator"]!=null)return Array.from(nt)}function _unsupportedIterableToArray(nt,rt){if(!!nt){if(typeof nt=="string")return _arrayLikeToArray(nt,rt);var it=Object.prototype.toString.call(nt).slice(8,-1);if(it==="Object"&&nt.constructor&&(it=nt.constructor.name),it==="Map"||it==="Set")return Array.from(nt);if(it==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(it))return _arrayLikeToArray(nt,rt)}}function _arrayLikeToArray(nt,rt){(rt==null||rt>nt.length)&&(rt=nt.length);for(var it=0,st=new Array(rt);it<rt;it++)st[it]=nt[it];return st}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var hasOwnProperty$g=Object.hasOwnProperty,setPrototypeOf=Object.setPrototypeOf,isFrozen=Object.isFrozen,getPrototypeOf=Object.getPrototypeOf,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,freeze=Object.freeze,seal=Object.seal,create=Object.create,_ref=typeof Reflect<"u"&&Reflect,apply$2=_ref.apply,construct=_ref.construct;apply$2||(apply$2=function(rt,it,st){return rt.apply(it,st)});freeze||(freeze=function(rt){return rt});seal||(seal=function(rt){return rt});construct||(construct=function(rt,it){return _construct(rt,_toConsumableArray(it))});var arrayForEach=unapply(Array.prototype.forEach),arrayPop=unapply(Array.prototype.pop),arrayPush$1=unapply(Array.prototype.push),stringToLowerCase=unapply(String.prototype.toLowerCase),stringToString=unapply(String.prototype.toString),stringMatch=unapply(String.prototype.match),stringReplace=unapply(String.prototype.replace),stringIndexOf=unapply(String.prototype.indexOf),stringTrim=unapply(String.prototype.trim),regExpTest=unapply(RegExp.prototype.test),typeErrorCreate=unconstruct(TypeError);function unapply(nt){return function(rt){for(var it=arguments.length,st=new Array(it>1?it-1:0),bt=1;bt<it;bt++)st[bt-1]=arguments[bt];return apply$2(nt,rt,st)}}function unconstruct(nt){return function(){for(var rt=arguments.length,it=new Array(rt),st=0;st<rt;st++)it[st]=arguments[st];return construct(nt,it)}}function addToSet(nt,rt,it){it=it||stringToLowerCase,setPrototypeOf&&setPrototypeOf(nt,null);for(var st=rt.length;st--;){var bt=rt[st];if(typeof bt=="string"){var wt=it(bt);wt!==bt&&(isFrozen(rt)||(rt[st]=wt),bt=wt)}nt[bt]=!0}return nt}function clone$2(nt){var rt=create(null),it;for(it in nt)apply$2(hasOwnProperty$g,nt,[it])&&(rt[it]=nt[it]);return rt}function lookupGetter(nt,rt){for(;nt!==null;){var it=getOwnPropertyDescriptor(nt,rt);if(it){if(it.get)return unapply(it.get);if(typeof it.value=="function")return unapply(it.value)}nt=getPrototypeOf(nt)}function st(bt){return console.warn("fallback value for",bt),null}return st}var html$1=freeze(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),svg$1=freeze(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),svgFilters=freeze(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),svgDisallowed=freeze(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),mathMl$1=freeze(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),mathMlDisallowed=freeze(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),text=freeze(["#text"]),html=freeze(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),svg=freeze(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),mathMl=freeze(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),xml=freeze(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),MUSTACHE_EXPR=seal(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ERB_EXPR=seal(/<%[\w\W]*|[\w\W]*%>/gm),TMPLIT_EXPR=seal(/\${[\w\W]*}/gm),DATA_ATTR=seal(/^data-[\-\w.\u00B7-\uFFFF]/),ARIA_ATTR=seal(/^aria-[\-\w]+$/),IS_ALLOWED_URI=seal(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),IS_SCRIPT_OR_DATA=seal(/^(?:\w+script|data):/i),ATTR_WHITESPACE=seal(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),DOCTYPE_NAME=seal(/^html$/i),getGlobal=function nt(){return typeof window>"u"?null:window},_createTrustedTypesPolicy=function nt(rt,it){if(_typeof(rt)!=="object"||typeof rt.createPolicy!="function")return null;var st=null,bt="data-tt-policy-suffix";it.currentScript&&it.currentScript.hasAttribute(bt)&&(st=it.currentScript.getAttribute(bt));var wt="dompurify"+(st?"#"+st:"");try{return rt.createPolicy(wt,{createHTML:function(Tt){return Tt},createScriptURL:function(Tt){return Tt}})}catch{return console.warn("TrustedTypes policy "+wt+" could not be created."),null}};function createDOMPurify(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:getGlobal(),rt=function(Tr){return createDOMPurify(Tr)};if(rt.version="2.4.1",rt.removed=[],!nt||!nt.document||nt.document.nodeType!==9)return rt.isSupported=!1,rt;var it=nt.document,st=nt.document,bt=nt.DocumentFragment,wt=nt.HTMLTemplateElement,Et=nt.Node,Tt=nt.Element,At=nt.NodeFilter,Dt=nt.NamedNodeMap,Ot=Dt===void 0?nt.NamedNodeMap||nt.MozNamedAttrMap:Dt,zt=nt.HTMLFormElement,$t=nt.DOMParser,Bt=nt.trustedTypes,Yt=Tt.prototype,Xt=lookupGetter(Yt,"cloneNode"),Ht=lookupGetter(Yt,"nextSibling"),Qt=lookupGetter(Yt,"childNodes"),Zt=lookupGetter(Yt,"parentNode");if(typeof wt=="function"){var nn=st.createElement("template");nn.content&&nn.content.ownerDocument&&(st=nn.content.ownerDocument)}var Kt=_createTrustedTypesPolicy(Bt,it),ln=Kt?Kt.createHTML(""):"",sn=st,bn=sn.implementation,wn=sn.createNodeIterator,Mn=sn.createDocumentFragment,Sn=sn.getElementsByTagName,Dn=it.importNode,gn={};try{gn=clone$2(st).documentMode?st.documentMode:{}}catch{}var Un={};rt.isSupported=typeof Zt=="function"&&bn&&typeof bn.createHTMLDocument<"u"&&gn!==9;var pn=MUSTACHE_EXPR,yr=ERB_EXPR,xn=TMPLIT_EXPR,Mr=DATA_ATTR,fr=ARIA_ATTR,cr=IS_SCRIPT_OR_DATA,Gn=ATTR_WHITESPACE,lr=IS_ALLOWED_URI,ur=null,vr=addToSet({},[].concat(_toConsumableArray(html$1),_toConsumableArray(svg$1),_toConsumableArray(svgFilters),_toConsumableArray(mathMl$1),_toConsumableArray(text))),Ir=null,Pr=addToSet({},[].concat(_toConsumableArray(html),_toConsumableArray(svg),_toConsumableArray(mathMl),_toConsumableArray(xml))),_r=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),tr=null,qn=null,mr=!0,br=!0,hr=!1,An=!1,rn=!1,vn=!1,hn=!1,zn=!1,On=!1,Er=!1,Rn=!0,rr=!1,Kn="user-content-",gr=!0,xr=!1,Lr={},Cr=null,Ar=addToSet({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),mi=null,vi=addToSet({},["audio","video","img","source","image","track"]),xi=null,Ci=addToSet({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",Bi="http://www.w3.org/2000/svg",Ai="http://www.w3.org/1999/xhtml",Fr=Ai,Ln=!1,Nn=null,er=addToSet({},[Ei,Bi,Ai],stringToString),sr,Nr=["application/xhtml+xml","text/html"],Jr="text/html",Dr,yi=null,Br=st.createElement("form"),Si=function(Tr){return Tr instanceof RegExp||Tr instanceof Function},Ni=function(Tr){yi&&yi===Tr||((!Tr||_typeof(Tr)!=="object")&&(Tr={}),Tr=clone$2(Tr),sr=Nr.indexOf(Tr.PARSER_MEDIA_TYPE)===-1?sr=Jr:sr=Tr.PARSER_MEDIA_TYPE,Dr=sr==="application/xhtml+xml"?stringToString:stringToLowerCase,ur="ALLOWED_TAGS"in Tr?addToSet({},Tr.ALLOWED_TAGS,Dr):vr,Ir="ALLOWED_ATTR"in Tr?addToSet({},Tr.ALLOWED_ATTR,Dr):Pr,Nn="ALLOWED_NAMESPACES"in Tr?addToSet({},Tr.ALLOWED_NAMESPACES,stringToString):er,xi="ADD_URI_SAFE_ATTR"in Tr?addToSet(clone$2(Ci),Tr.ADD_URI_SAFE_ATTR,Dr):Ci,mi="ADD_DATA_URI_TAGS"in Tr?addToSet(clone$2(vi),Tr.ADD_DATA_URI_TAGS,Dr):vi,Cr="FORBID_CONTENTS"in Tr?addToSet({},Tr.FORBID_CONTENTS,Dr):Ar,tr="FORBID_TAGS"in Tr?addToSet({},Tr.FORBID_TAGS,Dr):{},qn="FORBID_ATTR"in Tr?addToSet({},Tr.FORBID_ATTR,Dr):{},Lr="USE_PROFILES"in Tr?Tr.USE_PROFILES:!1,mr=Tr.ALLOW_ARIA_ATTR!==!1,br=Tr.ALLOW_DATA_ATTR!==!1,hr=Tr.ALLOW_UNKNOWN_PROTOCOLS||!1,An=Tr.SAFE_FOR_TEMPLATES||!1,rn=Tr.WHOLE_DOCUMENT||!1,zn=Tr.RETURN_DOM||!1,On=Tr.RETURN_DOM_FRAGMENT||!1,Er=Tr.RETURN_TRUSTED_TYPE||!1,hn=Tr.FORCE_BODY||!1,Rn=Tr.SANITIZE_DOM!==!1,rr=Tr.SANITIZE_NAMED_PROPS||!1,gr=Tr.KEEP_CONTENT!==!1,xr=Tr.IN_PLACE||!1,lr=Tr.ALLOWED_URI_REGEXP||lr,Fr=Tr.NAMESPACE||Ai,Tr.CUSTOM_ELEMENT_HANDLING&&Si(Tr.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(_r.tagNameCheck=Tr.CUSTOM_ELEMENT_HANDLING.tagNameCheck),Tr.CUSTOM_ELEMENT_HANDLING&&Si(Tr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(_r.attributeNameCheck=Tr.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),Tr.CUSTOM_ELEMENT_HANDLING&&typeof Tr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(_r.allowCustomizedBuiltInElements=Tr.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),An&&(br=!1),On&&(zn=!0),Lr&&(ur=addToSet({},_toConsumableArray(text)),Ir=[],Lr.html===!0&&(addToSet(ur,html$1),addToSet(Ir,html)),Lr.svg===!0&&(addToSet(ur,svg$1),addToSet(Ir,svg),addToSet(Ir,xml)),Lr.svgFilters===!0&&(addToSet(ur,svgFilters),addToSet(Ir,svg),addToSet(Ir,xml)),Lr.mathMl===!0&&(addToSet(ur,mathMl$1),addToSet(Ir,mathMl),addToSet(Ir,xml))),Tr.ADD_TAGS&&(ur===vr&&(ur=clone$2(ur)),addToSet(ur,Tr.ADD_TAGS,Dr)),Tr.ADD_ATTR&&(Ir===Pr&&(Ir=clone$2(Ir)),addToSet(Ir,Tr.ADD_ATTR,Dr)),Tr.ADD_URI_SAFE_ATTR&&addToSet(xi,Tr.ADD_URI_SAFE_ATTR,Dr),Tr.FORBID_CONTENTS&&(Cr===Ar&&(Cr=clone$2(Cr)),addToSet(Cr,Tr.FORBID_CONTENTS,Dr)),gr&&(ur["#text"]=!0),rn&&addToSet(ur,["html","head","body"]),ur.table&&(addToSet(ur,["tbody"]),delete tr.tbody),freeze&&freeze(Tr),yi=Tr)},Ri=addToSet({},["mi","mo","mn","ms","mtext"]),Li=addToSet({},["foreignobject","desc","title","annotation-xml"]),eo=addToSet({},["title","style","font","a","script"]),Ui=addToSet({},svg$1);addToSet(Ui,svgFilters),addToSet(Ui,svgDisallowed);var oo=addToSet({},mathMl$1);addToSet(oo,mathMlDisallowed);var wo=function(Tr){var Zr=Zt(Tr);(!Zr||!Zr.tagName)&&(Zr={namespaceURI:Fr,tagName:"template"});var bi=stringToLowerCase(Tr.tagName),Ii=stringToLowerCase(Zr.tagName);return Nn[Tr.namespaceURI]?Tr.namespaceURI===Bi?Zr.namespaceURI===Ai?bi==="svg":Zr.namespaceURI===Ei?bi==="svg"&&(Ii==="annotation-xml"||Ri[Ii]):Boolean(Ui[bi]):Tr.namespaceURI===Ei?Zr.namespaceURI===Ai?bi==="math":Zr.namespaceURI===Bi?bi==="math"&&Li[Ii]:Boolean(oo[bi]):Tr.namespaceURI===Ai?Zr.namespaceURI===Bi&&!Li[Ii]||Zr.namespaceURI===Ei&&!Ri[Ii]?!1:!oo[bi]&&(eo[bi]||!Ui[bi]):!!(sr==="application/xhtml+xml"&&Nn[Tr.namespaceURI]):!1},uo=function(Tr){arrayPush$1(rt.removed,{element:Tr});try{Tr.parentNode.removeChild(Tr)}catch{try{Tr.outerHTML=ln}catch{Tr.remove()}}},Cs=function(Tr,Zr){try{arrayPush$1(rt.removed,{attribute:Zr.getAttributeNode(Tr),from:Zr})}catch{arrayPush$1(rt.removed,{attribute:null,from:Zr})}if(Zr.removeAttribute(Tr),Tr==="is"&&!Ir[Tr])if(zn||On)try{uo(Zr)}catch{}else try{Zr.setAttribute(Tr,"")}catch{}},Za=function(Tr){var Zr,bi;if(hn)Tr="<remove></remove>"+Tr;else{var Ii=stringMatch(Tr,/^[\r\n\t ]+/);bi=Ii&&Ii[0]}sr==="application/xhtml+xml"&&Fr===Ai&&(Tr='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+Tr+"</body></html>");var zo=Kt?Kt.createHTML(Tr):Tr;if(Fr===Ai)try{Zr=new $t().parseFromString(zo,sr)}catch{}if(!Zr||!Zr.documentElement){Zr=bn.createDocument(Fr,"template",null);try{Zr.documentElement.innerHTML=Ln?"":zo}catch{}}var Eo=Zr.body||Zr.documentElement;return Tr&&bi&&Eo.insertBefore(st.createTextNode(bi),Eo.childNodes[0]||null),Fr===Ai?Sn.call(Zr,rn?"html":"body")[0]:rn?Zr.documentElement:Eo},ji=function(Tr){return wn.call(Tr.ownerDocument||Tr,Tr,At.SHOW_ELEMENT|At.SHOW_COMMENT|At.SHOW_TEXT,null,!1)},lo=function(Tr){return Tr instanceof zt&&(typeof Tr.nodeName!="string"||typeof Tr.textContent!="string"||typeof Tr.removeChild!="function"||!(Tr.attributes instanceof Ot)||typeof Tr.removeAttribute!="function"||typeof Tr.setAttribute!="function"||typeof Tr.namespaceURI!="string"||typeof Tr.insertBefore!="function"||typeof Tr.hasChildNodes!="function")},Va=function(Tr){return _typeof(Et)==="object"?Tr instanceof Et:Tr&&_typeof(Tr)==="object"&&typeof Tr.nodeType=="number"&&typeof Tr.nodeName=="string"},Ti=function(Tr,Zr,bi){!Un[Tr]||arrayForEach(Un[Tr],function(Ii){Ii.call(rt,Zr,bi,yi)})},ca=function(Tr){var Zr;if(Ti("beforeSanitizeElements",Tr,null),lo(Tr)||regExpTest(/[\u0080-\uFFFF]/,Tr.nodeName))return uo(Tr),!0;var bi=Dr(Tr.nodeName);if(Ti("uponSanitizeElement",Tr,{tagName:bi,allowedTags:ur}),Tr.hasChildNodes()&&!Va(Tr.firstElementChild)&&(!Va(Tr.content)||!Va(Tr.content.firstElementChild))&&regExpTest(/<[/\w]/g,Tr.innerHTML)&&regExpTest(/<[/\w]/g,Tr.textContent)||bi==="select"&&regExpTest(/<template/i,Tr.innerHTML))return uo(Tr),!0;if(!ur[bi]||tr[bi]){if(!tr[bi]&&Ya(bi)&&(_r.tagNameCheck instanceof RegExp&&regExpTest(_r.tagNameCheck,bi)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(bi)))return!1;if(gr&&!Cr[bi]){var Ii=Zt(Tr)||Tr.parentNode,zo=Qt(Tr)||Tr.childNodes;if(zo&&Ii)for(var Eo=zo.length,oa=Eo-1;oa>=0;--oa)Ii.insertBefore(Xt(zo[oa],!0),Ht(Tr))}return uo(Tr),!0}return Tr instanceof Tt&&!wo(Tr)||(bi==="noscript"||bi==="noembed")&&regExpTest(/<\/no(script|embed)/i,Tr.innerHTML)?(uo(Tr),!0):(An&&Tr.nodeType===3&&(Zr=Tr.textContent,Zr=stringReplace(Zr,pn," "),Zr=stringReplace(Zr,yr," "),Zr=stringReplace(Zr,xn," "),Tr.textContent!==Zr&&(arrayPush$1(rt.removed,{element:Tr.cloneNode()}),Tr.textContent=Zr)),Ti("afterSanitizeElements",Tr,null),!1)},Sa=function(Tr,Zr,bi){if(Rn&&(Zr==="id"||Zr==="name")&&(bi in st||bi in Br))return!1;if(!(br&&!qn[Zr]&&regExpTest(Mr,Zr))){if(!(mr&&regExpTest(fr,Zr))){if(!Ir[Zr]||qn[Zr]){if(!(Ya(Tr)&&(_r.tagNameCheck instanceof RegExp&&regExpTest(_r.tagNameCheck,Tr)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(Tr))&&(_r.attributeNameCheck instanceof RegExp&&regExpTest(_r.attributeNameCheck,Zr)||_r.attributeNameCheck instanceof Function&&_r.attributeNameCheck(Zr))||Zr==="is"&&_r.allowCustomizedBuiltInElements&&(_r.tagNameCheck instanceof RegExp&&regExpTest(_r.tagNameCheck,bi)||_r.tagNameCheck instanceof Function&&_r.tagNameCheck(bi))))return!1}else if(!xi[Zr]){if(!regExpTest(lr,stringReplace(bi,Gn,""))){if(!((Zr==="src"||Zr==="xlink:href"||Zr==="href")&&Tr!=="script"&&stringIndexOf(bi,"data:")===0&&mi[Tr])){if(!(hr&&!regExpTest(cr,stringReplace(bi,Gn,"")))){if(bi)return!1}}}}}}return!0},Ya=function(Tr){return Tr.indexOf("-")>0},Hr=function(Tr){var Zr,bi,Ii,zo;Ti("beforeSanitizeAttributes",Tr,null);var Eo=Tr.attributes;if(!!Eo){var oa={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Ir};for(zo=Eo.length;zo--;){Zr=Eo[zo];var mo=Zr,$o=mo.name,Ja=mo.namespaceURI;if(bi=$o==="value"?Zr.value:stringTrim(Zr.value),Ii=Dr($o),oa.attrName=Ii,oa.attrValue=bi,oa.keepAttr=!0,oa.forceKeepAttr=void 0,Ti("uponSanitizeAttribute",Tr,oa),bi=oa.attrValue,!oa.forceKeepAttr&&(Cs($o,Tr),!!oa.keepAttr)){if(regExpTest(/\/>/i,bi)){Cs($o,Tr);continue}An&&(bi=stringReplace(bi,pn," "),bi=stringReplace(bi,yr," "),bi=stringReplace(bi,xn," "));var ys=Dr(Tr.nodeName);if(!!Sa(ys,Ii,bi)){if(rr&&(Ii==="id"||Ii==="name")&&(Cs($o,Tr),bi=Kn+bi),Kt&&_typeof(Bt)==="object"&&typeof Bt.getAttributeType=="function"&&!Ja)switch(Bt.getAttributeType(ys,Ii)){case"TrustedHTML":bi=Kt.createHTML(bi);break;case"TrustedScriptURL":bi=Kt.createScriptURL(bi);break}try{Ja?Tr.setAttributeNS(Ja,$o,bi):Tr.setAttribute($o,bi),arrayPop(rt.removed)}catch{}}}}Ti("afterSanitizeAttributes",Tr,null)}},ii=function Ur(Tr){var Zr,bi=ji(Tr);for(Ti("beforeSanitizeShadowDOM",Tr,null);Zr=bi.nextNode();)Ti("uponSanitizeShadowNode",Zr,null),!ca(Zr)&&(Zr.content instanceof bt&&Ur(Zr.content),Hr(Zr));Ti("afterSanitizeShadowDOM",Tr,null)};return rt.sanitize=function(Ur){var Tr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Zr,bi,Ii,zo,Eo;if(Ln=!Ur,Ln&&(Ur="<!-->"),typeof Ur!="string"&&!Va(Ur)){if(typeof Ur.toString!="function")throw typeErrorCreate("toString is not a function");if(Ur=Ur.toString(),typeof Ur!="string")throw typeErrorCreate("dirty is not a string, aborting")}if(!rt.isSupported){if(_typeof(nt.toStaticHTML)==="object"||typeof nt.toStaticHTML=="function"){if(typeof Ur=="string")return nt.toStaticHTML(Ur);if(Va(Ur))return nt.toStaticHTML(Ur.outerHTML)}return Ur}if(vn||Ni(Tr),rt.removed=[],typeof Ur=="string"&&(xr=!1),xr){if(Ur.nodeName){var oa=Dr(Ur.nodeName);if(!ur[oa]||tr[oa])throw typeErrorCreate("root node is forbidden and cannot be sanitized in-place")}}else if(Ur instanceof Et)Zr=Za("<!---->"),bi=Zr.ownerDocument.importNode(Ur,!0),bi.nodeType===1&&bi.nodeName==="BODY"||bi.nodeName==="HTML"?Zr=bi:Zr.appendChild(bi);else{if(!zn&&!An&&!rn&&Ur.indexOf("<")===-1)return Kt&&Er?Kt.createHTML(Ur):Ur;if(Zr=Za(Ur),!Zr)return zn?null:Er?ln:""}Zr&&hn&&uo(Zr.firstChild);for(var mo=ji(xr?Ur:Zr);Ii=mo.nextNode();)Ii.nodeType===3&&Ii===zo||ca(Ii)||(Ii.content instanceof bt&&ii(Ii.content),Hr(Ii),zo=Ii);if(zo=null,xr)return Ur;if(zn){if(On)for(Eo=Mn.call(Zr.ownerDocument);Zr.firstChild;)Eo.appendChild(Zr.firstChild);else Eo=Zr;return Ir.shadowroot&&(Eo=Dn.call(it,Eo,!0)),Eo}var $o=rn?Zr.outerHTML:Zr.innerHTML;return rn&&ur["!doctype"]&&Zr.ownerDocument&&Zr.ownerDocument.doctype&&Zr.ownerDocument.doctype.name&&regExpTest(DOCTYPE_NAME,Zr.ownerDocument.doctype.name)&&($o="<!DOCTYPE "+Zr.ownerDocument.doctype.name+`>
`+$o),An&&($o=stringReplace($o,pn," "),$o=stringReplace($o,yr," "),$o=stringReplace($o,xn," ")),Kt&&Er?Kt.createHTML($o):$o},rt.setConfig=function(Ur){Ni(Ur),vn=!0},rt.clearConfig=function(){yi=null,vn=!1},rt.isValidAttribute=function(Ur,Tr,Zr){yi||Ni({});var bi=Dr(Ur),Ii=Dr(Tr);return Sa(bi,Ii,Zr)},rt.addHook=function(Ur,Tr){typeof Tr=="function"&&(Un[Ur]=Un[Ur]||[],arrayPush$1(Un[Ur],Tr))},rt.removeHook=function(Ur){if(Un[Ur])return arrayPop(Un[Ur])},rt.removeHooks=function(Ur){Un[Ur]&&(Un[Ur]=[])},rt.removeAllHooks=function(){Un={}},rt}var purify=createDOMPurify();const Channel={min:{r:0,g:0,b:0,s:0,l:0,a:0},max:{r:255,g:255,b:255,h:360,s:100,l:100,a:1},clamp:{r:nt=>nt>=255?255:nt<0?0:nt,g:nt=>nt>=255?255:nt<0?0:nt,b:nt=>nt>=255?255:nt<0?0:nt,h:nt=>nt%360,s:nt=>nt>=100?100:nt<0?0:nt,l:nt=>nt>=100?100:nt<0?0:nt,a:nt=>nt>=1?1:nt<0?0:nt},toLinear:nt=>{const rt=nt/255;return nt>.03928?Math.pow((rt+.055)/1.055,2.4):rt/12.92},hue2rgb:(nt,rt,it)=>(it<0&&(it+=1),it>1&&(it-=1),it<1/6?nt+(rt-nt)*6*it:it<1/2?rt:it<2/3?nt+(rt-nt)*(2/3-it)*6:nt),hsl2rgb:({h:nt,s:rt,l:it},st)=>{if(!rt)return it*2.55;nt/=360,rt/=100,it/=100;const bt=it<.5?it*(1+rt):it+rt-it*rt,wt=2*it-bt;switch(st){case"r":return Channel.hue2rgb(wt,bt,nt+1/3)*255;case"g":return Channel.hue2rgb(wt,bt,nt)*255;case"b":return Channel.hue2rgb(wt,bt,nt-1/3)*255}},rgb2hsl:({r:nt,g:rt,b:it},st)=>{nt/=255,rt/=255,it/=255;const bt=Math.max(nt,rt,it),wt=Math.min(nt,rt,it),Et=(bt+wt)/2;if(st==="l")return Et*100;if(bt===wt)return 0;const Tt=bt-wt,At=Et>.5?Tt/(2-bt-wt):Tt/(bt+wt);if(st==="s")return At*100;switch(bt){case nt:return((rt-it)/Tt+(rt<it?6:0))*60;case rt:return((it-nt)/Tt+2)*60;case it:return((nt-rt)/Tt+4)*60;default:return-1}}},channel=Channel,Lang={clamp:(nt,rt,it)=>rt>it?Math.min(rt,Math.max(it,nt)):Math.min(it,Math.max(rt,nt)),round:nt=>Math.round(nt*1e10)/1e10},lang=Lang,Unit={dec2hex:nt=>{const rt=Math.round(nt).toString(16);return rt.length>1?rt:`0${rt}`}},unit=Unit,Utils={channel,lang,unit},_=Utils,DEC2HEX={};for(let nt=0;nt<=255;nt++)DEC2HEX[nt]=_.unit.dec2hex(nt);const TYPE={ALL:0,RGB:1,HSL:2};class Type{constructor(){this.type=TYPE.ALL}get(){return this.type}set(rt){if(this.type&&this.type!==rt)throw new Error("Cannot change both RGB and HSL channels at the same time");this.type=rt}reset(){this.type=TYPE.ALL}is(rt){return this.type===rt}}const Type$2=Type;class Channels{constructor(rt,it){this.color=it,this.changed=!1,this.data=rt,this.type=new Type$2}set(rt,it){return this.color=it,this.changed=!1,this.data=rt,this.type.type=TYPE.ALL,this}_ensureHSL(){const rt=this.data,{h:it,s:st,l:bt}=rt;it===void 0&&(rt.h=_.channel.rgb2hsl(rt,"h")),st===void 0&&(rt.s=_.channel.rgb2hsl(rt,"s")),bt===void 0&&(rt.l=_.channel.rgb2hsl(rt,"l"))}_ensureRGB(){const rt=this.data,{r:it,g:st,b:bt}=rt;it===void 0&&(rt.r=_.channel.hsl2rgb(rt,"r")),st===void 0&&(rt.g=_.channel.hsl2rgb(rt,"g")),bt===void 0&&(rt.b=_.channel.hsl2rgb(rt,"b"))}get r(){const rt=this.data,it=rt.r;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),_.channel.hsl2rgb(rt,"r"))}get g(){const rt=this.data,it=rt.g;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),_.channel.hsl2rgb(rt,"g"))}get b(){const rt=this.data,it=rt.b;return!this.type.is(TYPE.HSL)&&it!==void 0?it:(this._ensureHSL(),_.channel.hsl2rgb(rt,"b"))}get h(){const rt=this.data,it=rt.h;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),_.channel.rgb2hsl(rt,"h"))}get s(){const rt=this.data,it=rt.s;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),_.channel.rgb2hsl(rt,"s"))}get l(){const rt=this.data,it=rt.l;return!this.type.is(TYPE.RGB)&&it!==void 0?it:(this._ensureRGB(),_.channel.rgb2hsl(rt,"l"))}get a(){return this.data.a}set r(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.r=rt}set g(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.g=rt}set b(rt){this.type.set(TYPE.RGB),this.changed=!0,this.data.b=rt}set h(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.h=rt}set s(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.s=rt}set l(rt){this.type.set(TYPE.HSL),this.changed=!0,this.data.l=rt}set a(rt){this.changed=!0,this.data.a=rt}}const Channels$1=Channels,channels=new Channels$1({r:0,g:0,b:0,a:0},"transparent"),ChannelsReusable=channels,Hex={re:/^#((?:[a-f0-9]{2}){2,4}|[a-f0-9]{3})$/i,parse:nt=>{if(nt.charCodeAt(0)!==35)return;const rt=nt.match(Hex.re);if(!rt)return;const it=rt[1],st=parseInt(it,16),bt=it.length,wt=bt%4===0,Et=bt>4,Tt=Et?1:17,At=Et?8:4,Dt=wt?0:-1,Ot=Et?255:15;return ChannelsReusable.set({r:(st>>At*(Dt+3)&Ot)*Tt,g:(st>>At*(Dt+2)&Ot)*Tt,b:(st>>At*(Dt+1)&Ot)*Tt,a:wt?(st&Ot)*Tt/255:1},nt)},stringify:nt=>{const{r:rt,g:it,b:st,a:bt}=nt;return bt<1?`#${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(st)]}${DEC2HEX[Math.round(bt*255)]}`:`#${DEC2HEX[Math.round(rt)]}${DEC2HEX[Math.round(it)]}${DEC2HEX[Math.round(st)]}`}},Hex$1=Hex,HSL={re:/^hsla?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(?:deg|grad|rad|turn)?)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?%)(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e-?\d+)?(%)?))?\s*?\)$/i,hueRe:/^(.+?)(deg|grad|rad|turn)$/i,_hue2deg:nt=>{const rt=nt.match(HSL.hueRe);if(rt){const[,it,st]=rt;switch(st){case"grad":return _.channel.clamp.h(parseFloat(it)*.9);case"rad":return _.channel.clamp.h(parseFloat(it)*180/Math.PI);case"turn":return _.channel.clamp.h(parseFloat(it)*360)}}return _.channel.clamp.h(parseFloat(nt))},parse:nt=>{const rt=nt.charCodeAt(0);if(rt!==104&&rt!==72)return;const it=nt.match(HSL.re);if(!it)return;const[,st,bt,wt,Et,Tt]=it;return ChannelsReusable.set({h:HSL._hue2deg(st),s:_.channel.clamp.s(parseFloat(bt)),l:_.channel.clamp.l(parseFloat(wt)),a:Et?_.channel.clamp.a(Tt?parseFloat(Et)/100:parseFloat(Et)):1},nt)},stringify:nt=>{const{h:rt,s:it,l:st,a:bt}=nt;return bt<1?`hsla(${_.lang.round(rt)}, ${_.lang.round(it)}%, ${_.lang.round(st)}%, ${bt})`:`hsl(${_.lang.round(rt)}, ${_.lang.round(it)}%, ${_.lang.round(st)}%)`}},HSL$1=HSL,Keyword={colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyanaqua:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",transparent:"#00000000",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},parse:nt=>{nt=nt.toLowerCase();const rt=Keyword.colors[nt];if(!!rt)return Hex$1.parse(rt)},stringify:nt=>{const rt=Hex$1.stringify(nt);for(const it in Keyword.colors)if(Keyword.colors[it]===rt)return it}},Keyword$1=Keyword,RGB={re:/^rgba?\(\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))\s*?(?:,|\s)\s*?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?))(?:\s*?(?:,|\/)\s*?\+?(-?(?:\d+(?:\.\d+)?|(?:\.\d+))(?:e\d+)?(%?)))?\s*?\)$/i,parse:nt=>{const rt=nt.charCodeAt(0);if(rt!==114&&rt!==82)return;const it=nt.match(RGB.re);if(!it)return;const[,st,bt,wt,Et,Tt,At,Dt,Ot]=it;return ChannelsReusable.set({r:_.channel.clamp.r(bt?parseFloat(st)*2.55:parseFloat(st)),g:_.channel.clamp.g(Et?parseFloat(wt)*2.55:parseFloat(wt)),b:_.channel.clamp.b(At?parseFloat(Tt)*2.55:parseFloat(Tt)),a:Dt?_.channel.clamp.a(Ot?parseFloat(Dt)/100:parseFloat(Dt)):1},nt)},stringify:nt=>{const{r:rt,g:it,b:st,a:bt}=nt;return bt<1?`rgba(${_.lang.round(rt)}, ${_.lang.round(it)}, ${_.lang.round(st)}, ${_.lang.round(bt)})`:`rgb(${_.lang.round(rt)}, ${_.lang.round(it)}, ${_.lang.round(st)})`}},RGB$1=RGB,Color={format:{keyword:Keyword$1,hex:Hex$1,rgb:RGB$1,rgba:RGB$1,hsl:HSL$1,hsla:HSL$1},parse:nt=>{if(typeof nt!="string")return nt;const rt=Hex$1.parse(nt)||RGB$1.parse(nt)||HSL$1.parse(nt)||Keyword$1.parse(nt);if(rt)return rt;throw new Error(`Unsupported color format: "${nt}"`)},stringify:nt=>!nt.changed&&nt.color?nt.color:nt.type.is(TYPE.HSL)||nt.data.r===void 0?HSL$1.stringify(nt):nt.a<1||!Number.isInteger(nt.r)||!Number.isInteger(nt.g)||!Number.isInteger(nt.b)?RGB$1.stringify(nt):Hex$1.stringify(nt)},Color$1=Color,change=(nt,rt)=>{const it=Color$1.parse(nt);for(const st in rt)it[st]=_.channel.clamp[st](rt[st]);return Color$1.stringify(it)},change$1=change,rgba=(nt,rt,it=0,st=1)=>{if(typeof nt!="number")return change$1(nt,{a:rt});const bt=ChannelsReusable.set({r:_.channel.clamp.r(nt),g:_.channel.clamp.g(rt),b:_.channel.clamp.b(it),a:_.channel.clamp.a(st)});return Color$1.stringify(bt)},rgba$1=rgba,adjustChannel=(nt,rt,it)=>{const st=Color$1.parse(nt),bt=st[rt],wt=_.channel.clamp[rt](bt+it);return bt!==wt&&(st[rt]=wt),Color$1.stringify(st)},adjustChannel$1=adjustChannel,lighten=(nt,rt)=>adjustChannel$1(nt,"l",rt),lighten$1=lighten,darken=(nt,rt)=>adjustChannel$1(nt,"l",-rt),darken$1=darken,adjust$1=(nt,rt)=>{const it=Color$1.parse(nt),st={};for(const bt in rt)!rt[bt]||(st[bt]=it[bt]+rt[bt]);return change$1(nt,st)},adjust$2=adjust$1,mix=(nt,rt,it=50)=>{const{r:st,g:bt,b:wt,a:Et}=Color$1.parse(nt),{r:Tt,g:At,b:Dt,a:Ot}=Color$1.parse(rt),zt=it/100,$t=zt*2-1,Bt=Et-Ot,Xt=(($t*Bt===-1?$t:($t+Bt)/(1+$t*Bt))+1)/2,Ht=1-Xt,Qt=st*Xt+Tt*Ht,Zt=bt*Xt+At*Ht,nn=wt*Xt+Dt*Ht,Kt=Et*zt+Ot*(1-zt);return rgba$1(Qt,Zt,nn,Kt)},mix$1=mix,invert=(nt,rt=100)=>{const it=Color$1.parse(nt);return it.r=255-it.r,it.g=255-it.g,it.b=255-it.b,mix$1(it,nt,rt)},invert$1=invert;var freeGlobal=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$1=freeGlobal;var freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root=freeGlobal$1||freeSelf||Function("return this")();const root$1=root;var Symbol$1=root$1.Symbol;const Symbol$2=Symbol$1;var objectProto$i=Object.prototype,hasOwnProperty$f=objectProto$i.hasOwnProperty,nativeObjectToString$1=objectProto$i.toString,symToStringTag$1=Symbol$2?Symbol$2.toStringTag:void 0;function getRawTag(nt){var rt=hasOwnProperty$f.call(nt,symToStringTag$1),it=nt[symToStringTag$1];try{nt[symToStringTag$1]=void 0;var st=!0}catch{}var bt=nativeObjectToString$1.call(nt);return st&&(rt?nt[symToStringTag$1]=it:delete nt[symToStringTag$1]),bt}var objectProto$h=Object.prototype,nativeObjectToString=objectProto$h.toString;function objectToString(nt){return nativeObjectToString.call(nt)}var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag(nt){return nt==null?nt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(nt)?getRawTag(nt):objectToString(nt)}function isObject$1(nt){var rt=typeof nt;return nt!=null&&(rt=="object"||rt=="function")}var asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(nt){if(!isObject$1(nt))return!1;var rt=baseGetTag(nt);return rt==funcTag$2||rt==genTag$1||rt==asyncTag||rt==proxyTag}var coreJsData=root$1["__core-js_shared__"];const coreJsData$1=coreJsData;var maskSrcKey=function(){var nt=/[^.]+$/.exec(coreJsData$1&&coreJsData$1.keys&&coreJsData$1.keys.IE_PROTO||"");return nt?"Symbol(src)_1."+nt:""}();function isMasked(nt){return!!maskSrcKey&&maskSrcKey in nt}var funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource(nt){if(nt!=null){try{return funcToString$2.call(nt)}catch{}try{return nt+""}catch{}}return""}var reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$g=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$e=objectProto$g.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$e).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(nt){if(!isObject$1(nt)||isMasked(nt))return!1;var rt=isFunction(nt)?reIsNative:reIsHostCtor;return rt.test(toSource(nt))}function getValue(nt,rt){return nt==null?void 0:nt[rt]}function getNative(nt,rt){var it=getValue(nt,rt);return baseIsNative(it)?it:void 0}var nativeCreate=getNative(Object,"create");const nativeCreate$1=nativeCreate;function hashClear(){this.__data__=nativeCreate$1?nativeCreate$1(null):{},this.size=0}function hashDelete(nt){var rt=this.has(nt)&&delete this.__data__[nt];return this.size-=rt?1:0,rt}var HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$f=Object.prototype,hasOwnProperty$d=objectProto$f.hasOwnProperty;function hashGet(nt){var rt=this.__data__;if(nativeCreate$1){var it=rt[nt];return it===HASH_UNDEFINED$2?void 0:it}return hasOwnProperty$d.call(rt,nt)?rt[nt]:void 0}var objectProto$e=Object.prototype,hasOwnProperty$c=objectProto$e.hasOwnProperty;function hashHas(nt){var rt=this.__data__;return nativeCreate$1?rt[nt]!==void 0:hasOwnProperty$c.call(rt,nt)}var HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(nt,rt){var it=this.__data__;return this.size+=this.has(nt)?0:1,it[nt]=nativeCreate$1&&rt===void 0?HASH_UNDEFINED$1:rt,this}function Hash(nt){var rt=-1,it=nt==null?0:nt.length;for(this.clear();++rt<it;){var st=nt[rt];this.set(st[0],st[1])}}Hash.prototype.clear=hashClear;Hash.prototype.delete=hashDelete;Hash.prototype.get=hashGet;Hash.prototype.has=hashHas;Hash.prototype.set=hashSet;function listCacheClear(){this.__data__=[],this.size=0}function eq(nt,rt){return nt===rt||nt!==nt&&rt!==rt}function assocIndexOf(nt,rt){for(var it=nt.length;it--;)if(eq(nt[it][0],rt))return it;return-1}var arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(nt){var rt=this.__data__,it=assocIndexOf(rt,nt);if(it<0)return!1;var st=rt.length-1;return it==st?rt.pop():splice.call(rt,it,1),--this.size,!0}function listCacheGet(nt){var rt=this.__data__,it=assocIndexOf(rt,nt);return it<0?void 0:rt[it][1]}function listCacheHas(nt){return assocIndexOf(this.__data__,nt)>-1}function listCacheSet(nt,rt){var it=this.__data__,st=assocIndexOf(it,nt);return st<0?(++this.size,it.push([nt,rt])):it[st][1]=rt,this}function ListCache(nt){var rt=-1,it=nt==null?0:nt.length;for(this.clear();++rt<it;){var st=nt[rt];this.set(st[0],st[1])}}ListCache.prototype.clear=listCacheClear;ListCache.prototype.delete=listCacheDelete;ListCache.prototype.get=listCacheGet;ListCache.prototype.has=listCacheHas;ListCache.prototype.set=listCacheSet;var Map$1=getNative(root$1,"Map");const Map$2=Map$1;function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map$2||ListCache),string:new Hash}}function isKeyable(nt){var rt=typeof nt;return rt=="string"||rt=="number"||rt=="symbol"||rt=="boolean"?nt!=="__proto__":nt===null}function getMapData(nt,rt){var it=nt.__data__;return isKeyable(rt)?it[typeof rt=="string"?"string":"hash"]:it.map}function mapCacheDelete(nt){var rt=getMapData(this,nt).delete(nt);return this.size-=rt?1:0,rt}function mapCacheGet(nt){return getMapData(this,nt).get(nt)}function mapCacheHas(nt){return getMapData(this,nt).has(nt)}function mapCacheSet(nt,rt){var it=getMapData(this,nt),st=it.size;return it.set(nt,rt),this.size+=it.size==st?0:1,this}function MapCache(nt){var rt=-1,it=nt==null?0:nt.length;for(this.clear();++rt<it;){var st=nt[rt];this.set(st[0],st[1])}}MapCache.prototype.clear=mapCacheClear;MapCache.prototype.delete=mapCacheDelete;MapCache.prototype.get=mapCacheGet;MapCache.prototype.has=mapCacheHas;MapCache.prototype.set=mapCacheSet;var FUNC_ERROR_TEXT="Expected a function";function memoize(nt,rt){if(typeof nt!="function"||rt!=null&&typeof rt!="function")throw new TypeError(FUNC_ERROR_TEXT);var it=function(){var st=arguments,bt=rt?rt.apply(this,st):st[0],wt=it.cache;if(wt.has(bt))return wt.get(bt);var Et=nt.apply(this,st);return it.cache=wt.set(bt,Et)||wt,Et};return it.cache=new(memoize.Cache||MapCache),it}memoize.Cache=MapCache;var COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode;function trim$1(nt){return nt.trim()}function replace(nt,rt,it){return nt.replace(rt,it)}function indexof(nt,rt){return nt.indexOf(rt)}function charat(nt,rt){return nt.charCodeAt(rt)|0}function substr(nt,rt,it){return nt.slice(rt,it)}function strlen(nt){return nt.length}function sizeof(nt){return nt.length}function append(nt,rt){return rt.push(nt),nt}var line=1,column=1,length=0,position$1=0,character=0,characters="";function node(nt,rt,it,st,bt,wt,Et){return{value:nt,root:rt,parent:it,type:st,props:bt,children:wt,line,column,length:Et,return:""}}function char(){return character}function prev(){return character=position$1>0?charat(characters,--position$1):0,column--,character===10&&(column=1,line--),character}function next(){return character=position$1<length?charat(characters,position$1++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position$1)}function caret(){return position$1}function slice(nt,rt){return substr(characters,nt,rt)}function token(nt){switch(nt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(nt){return line=column=1,length=strlen(characters=nt),position$1=0,[]}function dealloc(nt){return characters="",nt}function delimit(nt){return trim$1(slice(position$1-1,delimiter(nt===91?nt+2:nt===40?nt+1:nt)))}function whitespace(nt){for(;(character=peek())&&character<33;)next();return token(nt)>2||token(character)>3?"":" "}function escaping(nt,rt){for(;--rt&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(nt,caret()+(rt<6&&peek()==32&&next()==32))}function delimiter(nt){for(;next();)switch(character){case nt:return position$1;case 34:case 39:nt!==34&&nt!==39&&delimiter(character);break;case 40:nt===41&&delimiter(nt);break;case 92:next();break}return position$1}function commenter(nt,rt){for(;next()&&nt+character!==47+10;)if(nt+character===42+42&&peek()===47)break;return"/*"+slice(rt,position$1-1)+"*"+from(nt===47?nt:next())}function identifier(nt){for(;!token(peek());)next();return slice(nt,position$1)}function compile(nt){return dealloc(parse$2("",null,null,null,[""],nt=alloc(nt),0,[0],nt))}function parse$2(nt,rt,it,st,bt,wt,Et,Tt,At){for(var Dt=0,Ot=0,zt=Et,$t=0,Bt=0,Yt=0,Xt=1,Ht=1,Qt=1,Zt=0,nn="",Kt=bt,ln=wt,sn=st,bn=nn;Ht;)switch(Yt=Zt,Zt=next()){case 40:if(Yt!=108&&charat(bn,zt-1)==58){indexof(bn+=replace(delimit(Zt),"&","&\f"),"&\f")!=-1&&(Qt=-1);break}case 34:case 39:case 91:bn+=delimit(Zt);break;case 9:case 10:case 13:case 32:bn+=whitespace(Yt);break;case 92:bn+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),rt,it),At);break;default:bn+="/"}break;case 123*Xt:Tt[Dt++]=strlen(bn)*Qt;case 125*Xt:case 59:case 0:switch(Zt){case 0:case 125:Ht=0;case 59+Ot:Bt>0&&strlen(bn)-zt&&append(Bt>32?declaration(bn+";",st,it,zt-1):declaration(replace(bn," ","")+";",st,it,zt-2),At);break;case 59:bn+=";";default:if(append(sn=ruleset(bn,rt,it,Dt,Ot,bt,Tt,nn,Kt=[],ln=[],zt),wt),Zt===123)if(Ot===0)parse$2(bn,rt,sn,sn,Kt,wt,zt,Tt,ln);else switch($t===99&&charat(bn,3)===110?100:$t){case 100:case 109:case 115:parse$2(nt,sn,sn,st&&append(ruleset(nt,sn,sn,0,0,bt,Tt,nn,bt,Kt=[],zt),ln),bt,ln,zt,Tt,st?Kt:ln);break;default:parse$2(bn,sn,sn,sn,[""],ln,0,Tt,ln)}}Dt=Ot=Bt=0,Xt=Qt=1,nn=bn="",zt=Et;break;case 58:zt=1+strlen(bn),Bt=Yt;default:if(Xt<1){if(Zt==123)--Xt;else if(Zt==125&&Xt++==0&&prev()==125)continue}switch(bn+=from(Zt),Zt*Xt){case 38:Qt=Ot>0?1:(bn+="\f",-1);break;case 44:Tt[Dt++]=(strlen(bn)-1)*Qt,Qt=1;break;case 64:peek()===45&&(bn+=delimit(next())),$t=peek(),Ot=zt=strlen(nn=bn+=identifier(caret())),Zt++;break;case 45:Yt===45&&strlen(bn)==2&&(Xt=0)}}return wt}function ruleset(nt,rt,it,st,bt,wt,Et,Tt,At,Dt,Ot){for(var zt=bt-1,$t=bt===0?wt:[""],Bt=sizeof($t),Yt=0,Xt=0,Ht=0;Yt<st;++Yt)for(var Qt=0,Zt=substr(nt,zt+1,zt=abs(Xt=Et[Yt])),nn=nt;Qt<Bt;++Qt)(nn=trim$1(Xt>0?$t[Qt]+" "+Zt:replace(Zt,/&\f/g,$t[Qt])))&&(At[Ht++]=nn);return node(nt,rt,it,bt===0?RULESET:Tt,At,Dt,Ot)}function comment(nt,rt,it){return node(nt,rt,it,COMMENT,from(char()),substr(nt,2,-2),0)}function declaration(nt,rt,it,st){return node(nt,rt,it,DECLARATION,substr(nt,0,st),substr(nt,st+1,-1),st)}function serialize(nt,rt){for(var it="",st=sizeof(nt),bt=0;bt<st;bt++)it+=rt(nt[bt],bt,nt,rt)||"";return it}function stringify(nt,rt,it,st){switch(nt.type){case IMPORT:case DECLARATION:return nt.return=nt.return||nt.value;case COMMENT:return"";case KEYFRAMES:return nt.return=nt.value+"{"+serialize(nt.children,st)+"}";case RULESET:nt.value=nt.props.join(",")}return strlen(it=serialize(nt.children,st))?nt.return=nt.value+"{"+it+"}":""}function isObjectLike(nt){return nt!=null&&typeof nt=="object"}var symbolTag$3="[object Symbol]";function isSymbol(nt){return typeof nt=="symbol"||isObjectLike(nt)&&baseGetTag(nt)==symbolTag$3}function arrayMap(nt,rt){for(var it=-1,st=nt==null?0:nt.length,bt=Array(st);++it<st;)bt[it]=rt(nt[it],it,nt);return bt}var isArray=Array.isArray;const isArray$1=isArray;var INFINITY$3=1/0,symbolProto$2=Symbol$2?Symbol$2.prototype:void 0,symbolToString=symbolProto$2?symbolProto$2.toString:void 0;function baseToString(nt){if(typeof nt=="string")return nt;if(isArray$1(nt))return arrayMap(nt,baseToString)+"";if(isSymbol(nt))return symbolToString?symbolToString.call(nt):"";var rt=nt+"";return rt=="0"&&1/nt==-INFINITY$3?"-0":rt}var reWhitespace=/\s/;function trimmedEndIndex(nt){for(var rt=nt.length;rt--&&reWhitespace.test(nt.charAt(rt)););return rt}var reTrimStart=/^\s+/;function baseTrim(nt){return nt&&nt.slice(0,trimmedEndIndex(nt)+1).replace(reTrimStart,"")}var NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(nt){if(typeof nt=="number")return nt;if(isSymbol(nt))return NAN;if(isObject$1(nt)){var rt=typeof nt.valueOf=="function"?nt.valueOf():nt;nt=isObject$1(rt)?rt+"":rt}if(typeof nt!="string")return nt===0?nt:+nt;nt=baseTrim(nt);var it=reIsBinary.test(nt);return it||reIsOctal.test(nt)?freeParseInt(nt.slice(2),it?2:8):reIsBadHex.test(nt)?NAN:+nt}var INFINITY$2=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(nt){if(!nt)return nt===0?nt:0;if(nt=toNumber(nt),nt===INFINITY$2||nt===-INFINITY$2){var rt=nt<0?-1:1;return rt*MAX_INTEGER}return nt===nt?nt:0}function toInteger(nt){var rt=toFinite(nt),it=rt%1;return rt===rt?it?rt-it:rt:0}function identity(nt){return nt}var WeakMap$1=getNative(root$1,"WeakMap");const WeakMap$2=WeakMap$1;var objectCreate=Object.create,baseCreate=function(){function nt(){}return function(rt){if(!isObject$1(rt))return{};if(objectCreate)return objectCreate(rt);nt.prototype=rt;var it=new nt;return nt.prototype=void 0,it}}();const baseCreate$1=baseCreate;function apply$1(nt,rt,it){switch(it.length){case 0:return nt.call(rt);case 1:return nt.call(rt,it[0]);case 2:return nt.call(rt,it[0],it[1]);case 3:return nt.call(rt,it[0],it[1],it[2])}return nt.apply(rt,it)}function noop(){}function copyArray(nt,rt){var it=-1,st=nt.length;for(rt||(rt=Array(st));++it<st;)rt[it]=nt[it];return rt}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(nt){var rt=0,it=0;return function(){var st=nativeNow(),bt=HOT_SPAN-(st-it);if(it=st,bt>0){if(++rt>=HOT_COUNT)return arguments[0]}else rt=0;return nt.apply(void 0,arguments)}}function constant(nt){return function(){return nt}}var defineProperty=function(){try{var nt=getNative(Object,"defineProperty");return nt({},"",{}),nt}catch{}}();const defineProperty$1=defineProperty;var baseSetToString=defineProperty$1?function(nt,rt){return defineProperty$1(nt,"toString",{configurable:!0,enumerable:!1,value:constant(rt),writable:!0})}:identity;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach(nt,rt){for(var it=-1,st=nt==null?0:nt.length;++it<st&&rt(nt[it],it,nt)!==!1;);return nt}function baseFindIndex(nt,rt,it,st){for(var bt=nt.length,wt=it+(st?1:-1);st?wt--:++wt<bt;)if(rt(nt[wt],wt,nt))return wt;return-1}function baseIsNaN(nt){return nt!==nt}function strictIndexOf(nt,rt,it){for(var st=it-1,bt=nt.length;++st<bt;)if(nt[st]===rt)return st;return-1}function baseIndexOf(nt,rt,it){return rt===rt?strictIndexOf(nt,rt,it):baseFindIndex(nt,baseIsNaN,it)}function arrayIncludes(nt,rt){var it=nt==null?0:nt.length;return!!it&&baseIndexOf(nt,rt,0)>-1}var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(nt,rt){var it=typeof nt;return rt=rt==null?MAX_SAFE_INTEGER$1:rt,!!rt&&(it=="number"||it!="symbol"&&reIsUint.test(nt))&&nt>-1&&nt%1==0&&nt<rt}function baseAssignValue(nt,rt,it){rt=="__proto__"&&defineProperty$1?defineProperty$1(nt,rt,{configurable:!0,enumerable:!0,value:it,writable:!0}):nt[rt]=it}var objectProto$d=Object.prototype,hasOwnProperty$b=objectProto$d.hasOwnProperty;function assignValue(nt,rt,it){var st=nt[rt];(!(hasOwnProperty$b.call(nt,rt)&&eq(st,it))||it===void 0&&!(rt in nt))&&baseAssignValue(nt,rt,it)}function copyObject(nt,rt,it,st){var bt=!it;it||(it={});for(var wt=-1,Et=rt.length;++wt<Et;){var Tt=rt[wt],At=st?st(it[Tt],nt[Tt],Tt,it,nt):void 0;At===void 0&&(At=nt[Tt]),bt?baseAssignValue(it,Tt,At):assignValue(it,Tt,At)}return it}var nativeMax$2=Math.max;function overRest(nt,rt,it){return rt=nativeMax$2(rt===void 0?nt.length-1:rt,0),function(){for(var st=arguments,bt=-1,wt=nativeMax$2(st.length-rt,0),Et=Array(wt);++bt<wt;)Et[bt]=st[rt+bt];bt=-1;for(var Tt=Array(rt+1);++bt<rt;)Tt[bt]=st[bt];return Tt[rt]=it(Et),apply$1(nt,this,Tt)}}function baseRest(nt,rt){return setToString$1(overRest(nt,rt,identity),nt+"")}var MAX_SAFE_INTEGER=9007199254740991;function isLength(nt){return typeof nt=="number"&&nt>-1&&nt%1==0&&nt<=MAX_SAFE_INTEGER}function isArrayLike(nt){return nt!=null&&isLength(nt.length)&&!isFunction(nt)}function isIterateeCall(nt,rt,it){if(!isObject$1(it))return!1;var st=typeof rt;return(st=="number"?isArrayLike(it)&&isIndex(rt,it.length):st=="string"&&rt in it)?eq(it[rt],nt):!1}function createAssigner(nt){return baseRest(function(rt,it){var st=-1,bt=it.length,wt=bt>1?it[bt-1]:void 0,Et=bt>2?it[2]:void 0;for(wt=nt.length>3&&typeof wt=="function"?(bt--,wt):void 0,Et&&isIterateeCall(it[0],it[1],Et)&&(wt=bt<3?void 0:wt,bt=1),rt=Object(rt);++st<bt;){var Tt=it[st];Tt&&nt(rt,Tt,st,wt)}return rt})}var objectProto$c=Object.prototype;function isPrototype(nt){var rt=nt&&nt.constructor,it=typeof rt=="function"&&rt.prototype||objectProto$c;return nt===it}function baseTimes(nt,rt){for(var it=-1,st=Array(nt);++it<nt;)st[it]=rt(it);return st}var argsTag$3="[object Arguments]";function baseIsArguments(nt){return isObjectLike(nt)&&baseGetTag(nt)==argsTag$3}var objectProto$b=Object.prototype,hasOwnProperty$a=objectProto$b.hasOwnProperty,propertyIsEnumerable$1=objectProto$b.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(nt){return isObjectLike(nt)&&hasOwnProperty$a.call(nt,"callee")&&!propertyIsEnumerable$1.call(nt,"callee")};const isArguments$1=isArguments;function stubFalse(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$1.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer=nativeIsBuffer||stubFalse;const isBuffer$1=isBuffer;var argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",funcTag$1="[object Function]",mapTag$6="[object Map]",numberTag$3="[object Number]",objectTag$4="[object Object]",regexpTag$3="[object RegExp]",setTag$6="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$3]=typedArrayTags[boolTag$3]=typedArrayTags[dataViewTag$4]=typedArrayTags[dateTag$3]=typedArrayTags[errorTag$2]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$6]=typedArrayTags[numberTag$3]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$3]=typedArrayTags[setTag$6]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray(nt){return isObjectLike(nt)&&isLength(nt.length)&&!!typedArrayTags[baseGetTag(nt)]}function baseUnary(nt){return function(rt){return nt(rt)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$1.process,nodeUtil=function(){try{var nt=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return nt||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$1=nodeUtil;var nodeIsTypedArray=nodeUtil$1&&nodeUtil$1.isTypedArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;const isTypedArray$1=isTypedArray;var objectProto$a=Object.prototype,hasOwnProperty$9=objectProto$a.hasOwnProperty;function arrayLikeKeys(nt,rt){var it=isArray$1(nt),st=!it&&isArguments$1(nt),bt=!it&&!st&&isBuffer$1(nt),wt=!it&&!st&&!bt&&isTypedArray$1(nt),Et=it||st||bt||wt,Tt=Et?baseTimes(nt.length,String):[],At=Tt.length;for(var Dt in nt)(rt||hasOwnProperty$9.call(nt,Dt))&&!(Et&&(Dt=="length"||bt&&(Dt=="offset"||Dt=="parent")||wt&&(Dt=="buffer"||Dt=="byteLength"||Dt=="byteOffset")||isIndex(Dt,At)))&&Tt.push(Dt);return Tt}function overArg(nt,rt){return function(it){return nt(rt(it))}}var nativeKeys=overArg(Object.keys,Object);const nativeKeys$1=nativeKeys;var objectProto$9=Object.prototype,hasOwnProperty$8=objectProto$9.hasOwnProperty;function baseKeys(nt){if(!isPrototype(nt))return nativeKeys$1(nt);var rt=[];for(var it in Object(nt))hasOwnProperty$8.call(nt,it)&&it!="constructor"&&rt.push(it);return rt}function keys(nt){return isArrayLike(nt)?arrayLikeKeys(nt):baseKeys(nt)}function nativeKeysIn(nt){var rt=[];if(nt!=null)for(var it in Object(nt))rt.push(it);return rt}var objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function baseKeysIn(nt){if(!isObject$1(nt))return nativeKeysIn(nt);var rt=isPrototype(nt),it=[];for(var st in nt)st=="constructor"&&(rt||!hasOwnProperty$7.call(nt,st))||it.push(st);return it}function keysIn(nt){return isArrayLike(nt)?arrayLikeKeys(nt,!0):baseKeysIn(nt)}var reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(nt,rt){if(isArray$1(nt))return!1;var it=typeof nt;return it=="number"||it=="symbol"||it=="boolean"||nt==null||isSymbol(nt)?!0:reIsPlainProp.test(nt)||!reIsDeepProp.test(nt)||rt!=null&&nt in Object(rt)}var MAX_MEMOIZE_SIZE=500;function memoizeCapped(nt){var rt=memoize(nt,function(st){return it.size===MAX_MEMOIZE_SIZE&&it.clear(),st}),it=rt.cache;return rt}var rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=memoizeCapped(function(nt){var rt=[];return nt.charCodeAt(0)===46&&rt.push(""),nt.replace(rePropName,function(it,st,bt,wt){rt.push(bt?wt.replace(reEscapeChar,"$1"):st||it)}),rt});const stringToPath$1=stringToPath;function toString(nt){return nt==null?"":baseToString(nt)}function castPath(nt,rt){return isArray$1(nt)?nt:isKey(nt,rt)?[nt]:stringToPath$1(toString(nt))}var INFINITY$1=1/0;function toKey(nt){if(typeof nt=="string"||isSymbol(nt))return nt;var rt=nt+"";return rt=="0"&&1/nt==-INFINITY$1?"-0":rt}function baseGet(nt,rt){rt=castPath(rt,nt);for(var it=0,st=rt.length;nt!=null&&it<st;)nt=nt[toKey(rt[it++])];return it&&it==st?nt:void 0}function get$1(nt,rt,it){var st=nt==null?void 0:baseGet(nt,rt);return st===void 0?it:st}function arrayPush(nt,rt){for(var it=-1,st=rt.length,bt=nt.length;++it<st;)nt[bt+it]=rt[it];return nt}var spreadableSymbol=Symbol$2?Symbol$2.isConcatSpreadable:void 0;function isFlattenable(nt){return isArray$1(nt)||isArguments$1(nt)||!!(spreadableSymbol&&nt&&nt[spreadableSymbol])}function baseFlatten(nt,rt,it,st,bt){var wt=-1,Et=nt.length;for(it||(it=isFlattenable),bt||(bt=[]);++wt<Et;){var Tt=nt[wt];rt>0&&it(Tt)?rt>1?baseFlatten(Tt,rt-1,it,st,bt):arrayPush(bt,Tt):st||(bt[bt.length]=Tt)}return bt}function flatten$1(nt){var rt=nt==null?0:nt.length;return rt?baseFlatten(nt,1):[]}function flatRest(nt){return setToString$1(overRest(nt,void 0,flatten$1),nt+"")}var getPrototype=overArg(Object.getPrototypeOf,Object);const getPrototype$1=getPrototype;var objectTag$3="[object Object]",funcProto=Function.prototype,objectProto$7=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$6=objectProto$7.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject(nt){if(!isObjectLike(nt)||baseGetTag(nt)!=objectTag$3)return!1;var rt=getPrototype$1(nt);if(rt===null)return!0;var it=hasOwnProperty$6.call(rt,"constructor")&&rt.constructor;return typeof it=="function"&&it instanceof it&&funcToString.call(it)==objectCtorString}function arrayReduce(nt,rt,it,st){var bt=-1,wt=nt==null?0:nt.length;for(st&&wt&&(it=nt[++bt]);++bt<wt;)it=rt(it,nt[bt],bt,nt);return it}function stackClear(){this.__data__=new ListCache,this.size=0}function stackDelete(nt){var rt=this.__data__,it=rt.delete(nt);return this.size=rt.size,it}function stackGet(nt){return this.__data__.get(nt)}function stackHas(nt){return this.__data__.has(nt)}var LARGE_ARRAY_SIZE$1=200;function stackSet(nt,rt){var it=this.__data__;if(it instanceof ListCache){var st=it.__data__;if(!Map$2||st.length<LARGE_ARRAY_SIZE$1-1)return st.push([nt,rt]),this.size=++it.size,this;it=this.__data__=new MapCache(st)}return it.set(nt,rt),this.size=it.size,this}function Stack(nt){var rt=this.__data__=new ListCache(nt);this.size=rt.size}Stack.prototype.clear=stackClear;Stack.prototype.delete=stackDelete;Stack.prototype.get=stackGet;Stack.prototype.has=stackHas;Stack.prototype.set=stackSet;function baseAssign(nt,rt){return nt&&copyObject(rt,keys(rt),nt)}function baseAssignIn(nt,rt){return nt&&copyObject(rt,keysIn(rt),nt)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$1.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer(nt,rt){if(rt)return nt.slice();var it=nt.length,st=allocUnsafe?allocUnsafe(it):new nt.constructor(it);return nt.copy(st),st}function arrayFilter(nt,rt){for(var it=-1,st=nt==null?0:nt.length,bt=0,wt=[];++it<st;){var Et=nt[it];rt(Et,it,nt)&&(wt[bt++]=Et)}return wt}function stubArray(){return[]}var objectProto$6=Object.prototype,propertyIsEnumerable=objectProto$6.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols$1?function(nt){return nt==null?[]:(nt=Object(nt),arrayFilter(nativeGetSymbols$1(nt),function(rt){return propertyIsEnumerable.call(nt,rt)}))}:stubArray;const getSymbols$1=getSymbols;function copySymbols(nt,rt){return copyObject(nt,getSymbols$1(nt),rt)}var nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn=nativeGetSymbols?function(nt){for(var rt=[];nt;)arrayPush(rt,getSymbols$1(nt)),nt=getPrototype$1(nt);return rt}:stubArray;const getSymbolsIn$1=getSymbolsIn;function copySymbolsIn(nt,rt){return copyObject(nt,getSymbolsIn$1(nt),rt)}function baseGetAllKeys(nt,rt,it){var st=rt(nt);return isArray$1(nt)?st:arrayPush(st,it(nt))}function getAllKeys(nt){return baseGetAllKeys(nt,keys,getSymbols$1)}function getAllKeysIn(nt){return baseGetAllKeys(nt,keysIn,getSymbolsIn$1)}var DataView$1=getNative(root$1,"DataView");const DataView$2=DataView$1;var Promise$1=getNative(root$1,"Promise");const Promise$2=Promise$1;var Set$1=getNative(root$1,"Set");const Set$2=Set$1;var mapTag$5="[object Map]",objectTag$2="[object Object]",promiseTag="[object Promise]",setTag$5="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$3="[object DataView]",dataViewCtorString=toSource(DataView$2),mapCtorString=toSource(Map$2),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$2),weakMapCtorString=toSource(WeakMap$2),getTag=baseGetTag;(DataView$2&&getTag(new DataView$2(new ArrayBuffer(1)))!=dataViewTag$3||Map$2&&getTag(new Map$2)!=mapTag$5||Promise$2&&getTag(Promise$2.resolve())!=promiseTag||Set$2&&getTag(new Set$2)!=setTag$5||WeakMap$2&&getTag(new WeakMap$2)!=weakMapTag$1)&&(getTag=function(nt){var rt=baseGetTag(nt),it=rt==objectTag$2?nt.constructor:void 0,st=it?toSource(it):"";if(st)switch(st){case dataViewCtorString:return dataViewTag$3;case mapCtorString:return mapTag$5;case promiseCtorString:return promiseTag;case setCtorString:return setTag$5;case weakMapCtorString:return weakMapTag$1}return rt});const getTag$1=getTag;var objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty;function initCloneArray(nt){var rt=nt.length,it=new nt.constructor(rt);return rt&&typeof nt[0]=="string"&&hasOwnProperty$5.call(nt,"index")&&(it.index=nt.index,it.input=nt.input),it}var Uint8Array$1=root$1.Uint8Array;const Uint8Array$2=Uint8Array$1;function cloneArrayBuffer(nt){var rt=new nt.constructor(nt.byteLength);return new Uint8Array$2(rt).set(new Uint8Array$2(nt)),rt}function cloneDataView(nt,rt){var it=rt?cloneArrayBuffer(nt.buffer):nt.buffer;return new nt.constructor(it,nt.byteOffset,nt.byteLength)}var reFlags=/\w*$/;function cloneRegExp(nt){var rt=new nt.constructor(nt.source,reFlags.exec(nt));return rt.lastIndex=nt.lastIndex,rt}var symbolProto$1=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf$1=symbolProto$1?symbolProto$1.valueOf:void 0;function cloneSymbol(nt){return symbolValueOf$1?Object(symbolValueOf$1.call(nt)):{}}function cloneTypedArray(nt,rt){var it=rt?cloneArrayBuffer(nt.buffer):nt.buffer;return new nt.constructor(it,nt.byteOffset,nt.length)}var boolTag$2="[object Boolean]",dateTag$2="[object Date]",mapTag$4="[object Map]",numberTag$2="[object Number]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$2="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$2="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag(nt,rt,it){var st=nt.constructor;switch(rt){case arrayBufferTag$2:return cloneArrayBuffer(nt);case boolTag$2:case dateTag$2:return new st(+nt);case dataViewTag$2:return cloneDataView(nt,it);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(nt,it);case mapTag$4:return new st;case numberTag$2:case stringTag$2:return new st(nt);case regexpTag$2:return cloneRegExp(nt);case setTag$4:return new st;case symbolTag$2:return cloneSymbol(nt)}}function initCloneObject(nt){return typeof nt.constructor=="function"&&!isPrototype(nt)?baseCreate$1(getPrototype$1(nt)):{}}var mapTag$3="[object Map]";function baseIsMap(nt){return isObjectLike(nt)&&getTag$1(nt)==mapTag$3}var nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap=nodeIsMap?baseUnary(nodeIsMap):baseIsMap;const isMap$1=isMap;var setTag$3="[object Set]";function baseIsSet(nt){return isObjectLike(nt)&&getTag$1(nt)==setTag$3}var nodeIsSet=nodeUtil$1&&nodeUtil$1.isSet,isSet=nodeIsSet?baseUnary(nodeIsSet):baseIsSet;const isSet$1=isSet;var CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$2=4,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag$2="[object Map]",numberTag$1="[object Number]",objectTag$1="[object Object]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag$1]=cloneableTags[arrayTag$1]=cloneableTags[arrayBufferTag$1]=cloneableTags[dataViewTag$1]=cloneableTags[boolTag$1]=cloneableTags[dateTag$1]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag$2]=cloneableTags[numberTag$1]=cloneableTags[objectTag$1]=cloneableTags[regexpTag$1]=cloneableTags[setTag$2]=cloneableTags[stringTag$1]=cloneableTags[symbolTag$1]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag$1]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone(nt,rt,it,st,bt,wt){var Et,Tt=rt&CLONE_DEEP_FLAG$1,At=rt&CLONE_FLAT_FLAG,Dt=rt&CLONE_SYMBOLS_FLAG$2;if(it&&(Et=bt?it(nt,st,bt,wt):it(nt)),Et!==void 0)return Et;if(!isObject$1(nt))return nt;var Ot=isArray$1(nt);if(Ot){if(Et=initCloneArray(nt),!Tt)return copyArray(nt,Et)}else{var zt=getTag$1(nt),$t=zt==funcTag||zt==genTag;if(isBuffer$1(nt))return cloneBuffer(nt,Tt);if(zt==objectTag$1||zt==argsTag$1||$t&&!bt){if(Et=At||$t?{}:initCloneObject(nt),!Tt)return At?copySymbolsIn(nt,baseAssignIn(Et,nt)):copySymbols(nt,baseAssign(Et,nt))}else{if(!cloneableTags[zt])return bt?nt:{};Et=initCloneByTag(nt,zt,Tt)}}wt||(wt=new Stack);var Bt=wt.get(nt);if(Bt)return Bt;wt.set(nt,Et),isSet$1(nt)?nt.forEach(function(Ht){Et.add(baseClone(Ht,rt,it,Ht,nt,wt))}):isMap$1(nt)&&nt.forEach(function(Ht,Qt){Et.set(Qt,baseClone(Ht,rt,it,Qt,nt,wt))});var Yt=Dt?At?getAllKeysIn:getAllKeys:At?keysIn:keys,Xt=Ot?void 0:Yt(nt);return arrayEach(Xt||nt,function(Ht,Qt){Xt&&(Qt=Ht,Ht=nt[Qt]),assignValue(Et,Qt,baseClone(Ht,rt,it,Qt,nt,wt))}),Et}var CLONE_SYMBOLS_FLAG$1=4;function clone$1(nt){return baseClone(nt,CLONE_SYMBOLS_FLAG$1)}var CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(nt){return baseClone(nt,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd(nt){return this.__data__.set(nt,HASH_UNDEFINED),this}function setCacheHas(nt){return this.__data__.has(nt)}function SetCache(nt){var rt=-1,it=nt==null?0:nt.length;for(this.__data__=new MapCache;++rt<it;)this.add(nt[rt])}SetCache.prototype.add=SetCache.prototype.push=setCacheAdd;SetCache.prototype.has=setCacheHas;function arraySome(nt,rt){for(var it=-1,st=nt==null?0:nt.length;++it<st;)if(rt(nt[it],it,nt))return!0;return!1}function cacheHas(nt,rt){return nt.has(rt)}var COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays(nt,rt,it,st,bt,wt){var Et=it&COMPARE_PARTIAL_FLAG$5,Tt=nt.length,At=rt.length;if(Tt!=At&&!(Et&&At>Tt))return!1;var Dt=wt.get(nt),Ot=wt.get(rt);if(Dt&&Ot)return Dt==rt&&Ot==nt;var zt=-1,$t=!0,Bt=it&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(wt.set(nt,rt),wt.set(rt,nt);++zt<Tt;){var Yt=nt[zt],Xt=rt[zt];if(st)var Ht=Et?st(Xt,Yt,zt,rt,nt,wt):st(Yt,Xt,zt,nt,rt,wt);if(Ht!==void 0){if(Ht)continue;$t=!1;break}if(Bt){if(!arraySome(rt,function(Qt,Zt){if(!cacheHas(Bt,Zt)&&(Yt===Qt||bt(Yt,Qt,it,st,wt)))return Bt.push(Zt)})){$t=!1;break}}else if(!(Yt===Xt||bt(Yt,Xt,it,st,wt))){$t=!1;break}}return wt.delete(nt),wt.delete(rt),$t}function mapToArray(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(st,bt){it[++rt]=[bt,st]}),it}function setToArray(nt){var rt=-1,it=Array(nt.size);return nt.forEach(function(st){it[++rt]=st}),it}var COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",mapTag$1="[object Map]",numberTag="[object Number]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(nt,rt,it,st,bt,wt,Et){switch(it){case dataViewTag:if(nt.byteLength!=rt.byteLength||nt.byteOffset!=rt.byteOffset)return!1;nt=nt.buffer,rt=rt.buffer;case arrayBufferTag:return!(nt.byteLength!=rt.byteLength||!wt(new Uint8Array$2(nt),new Uint8Array$2(rt)));case boolTag:case dateTag:case numberTag:return eq(+nt,+rt);case errorTag:return nt.name==rt.name&&nt.message==rt.message;case regexpTag:case stringTag:return nt==rt+"";case mapTag$1:var Tt=mapToArray;case setTag$1:var At=st&COMPARE_PARTIAL_FLAG$4;if(Tt||(Tt=setToArray),nt.size!=rt.size&&!At)return!1;var Dt=Et.get(nt);if(Dt)return Dt==rt;st|=COMPARE_UNORDERED_FLAG$2,Et.set(nt,rt);var Ot=equalArrays(Tt(nt),Tt(rt),st,bt,wt,Et);return Et.delete(nt),Ot;case symbolTag:if(symbolValueOf)return symbolValueOf.call(nt)==symbolValueOf.call(rt)}return!1}var COMPARE_PARTIAL_FLAG$3=1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function equalObjects(nt,rt,it,st,bt,wt){var Et=it&COMPARE_PARTIAL_FLAG$3,Tt=getAllKeys(nt),At=Tt.length,Dt=getAllKeys(rt),Ot=Dt.length;if(At!=Ot&&!Et)return!1;for(var zt=At;zt--;){var $t=Tt[zt];if(!(Et?$t in rt:hasOwnProperty$4.call(rt,$t)))return!1}var Bt=wt.get(nt),Yt=wt.get(rt);if(Bt&&Yt)return Bt==rt&&Yt==nt;var Xt=!0;wt.set(nt,rt),wt.set(rt,nt);for(var Ht=Et;++zt<At;){$t=Tt[zt];var Qt=nt[$t],Zt=rt[$t];if(st)var nn=Et?st(Zt,Qt,$t,rt,nt,wt):st(Qt,Zt,$t,nt,rt,wt);if(!(nn===void 0?Qt===Zt||bt(Qt,Zt,it,st,wt):nn)){Xt=!1;break}Ht||(Ht=$t=="constructor")}if(Xt&&!Ht){var Kt=nt.constructor,ln=rt.constructor;Kt!=ln&&"constructor"in nt&&"constructor"in rt&&!(typeof Kt=="function"&&Kt instanceof Kt&&typeof ln=="function"&&ln instanceof ln)&&(Xt=!1)}return wt.delete(nt),wt.delete(rt),Xt}var COMPARE_PARTIAL_FLAG$2=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto$3=Object.prototype,hasOwnProperty$3=objectProto$3.hasOwnProperty;function baseIsEqualDeep(nt,rt,it,st,bt,wt){var Et=isArray$1(nt),Tt=isArray$1(rt),At=Et?arrayTag:getTag$1(nt),Dt=Tt?arrayTag:getTag$1(rt);At=At==argsTag?objectTag:At,Dt=Dt==argsTag?objectTag:Dt;var Ot=At==objectTag,zt=Dt==objectTag,$t=At==Dt;if($t&&isBuffer$1(nt)){if(!isBuffer$1(rt))return!1;Et=!0,Ot=!1}if($t&&!Ot)return wt||(wt=new Stack),Et||isTypedArray$1(nt)?equalArrays(nt,rt,it,st,bt,wt):equalByTag(nt,rt,At,it,st,bt,wt);if(!(it&COMPARE_PARTIAL_FLAG$2)){var Bt=Ot&&hasOwnProperty$3.call(nt,"__wrapped__"),Yt=zt&&hasOwnProperty$3.call(rt,"__wrapped__");if(Bt||Yt){var Xt=Bt?nt.value():nt,Ht=Yt?rt.value():rt;return wt||(wt=new Stack),bt(Xt,Ht,it,st,wt)}}return $t?(wt||(wt=new Stack),equalObjects(nt,rt,it,st,bt,wt)):!1}function baseIsEqual(nt,rt,it,st,bt){return nt===rt?!0:nt==null||rt==null||!isObjectLike(nt)&&!isObjectLike(rt)?nt!==nt&&rt!==rt:baseIsEqualDeep(nt,rt,it,st,baseIsEqual,bt)}var COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch(nt,rt,it,st){var bt=it.length,wt=bt,Et=!st;if(nt==null)return!wt;for(nt=Object(nt);bt--;){var Tt=it[bt];if(Et&&Tt[2]?Tt[1]!==nt[Tt[0]]:!(Tt[0]in nt))return!1}for(;++bt<wt;){Tt=it[bt];var At=Tt[0],Dt=nt[At],Ot=Tt[1];if(Et&&Tt[2]){if(Dt===void 0&&!(At in nt))return!1}else{var zt=new Stack;if(st)var $t=st(Dt,Ot,At,nt,rt,zt);if(!($t===void 0?baseIsEqual(Ot,Dt,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,st,zt):$t))return!1}}return!0}function isStrictComparable(nt){return nt===nt&&!isObject$1(nt)}function getMatchData(nt){for(var rt=keys(nt),it=rt.length;it--;){var st=rt[it],bt=nt[st];rt[it]=[st,bt,isStrictComparable(bt)]}return rt}function matchesStrictComparable(nt,rt){return function(it){return it==null?!1:it[nt]===rt&&(rt!==void 0||nt in Object(it))}}function baseMatches(nt){var rt=getMatchData(nt);return rt.length==1&&rt[0][2]?matchesStrictComparable(rt[0][0],rt[0][1]):function(it){return it===nt||baseIsMatch(it,nt,rt)}}function baseHasIn(nt,rt){return nt!=null&&rt in Object(nt)}function hasPath(nt,rt,it){rt=castPath(rt,nt);for(var st=-1,bt=rt.length,wt=!1;++st<bt;){var Et=toKey(rt[st]);if(!(wt=nt!=null&&it(nt,Et)))break;nt=nt[Et]}return wt||++st!=bt?wt:(bt=nt==null?0:nt.length,!!bt&&isLength(bt)&&isIndex(Et,bt)&&(isArray$1(nt)||isArguments$1(nt)))}function hasIn(nt,rt){return nt!=null&&hasPath(nt,rt,baseHasIn)}var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty(nt,rt){return isKey(nt)&&isStrictComparable(rt)?matchesStrictComparable(toKey(nt),rt):function(it){var st=get$1(it,nt);return st===void 0&&st===rt?hasIn(it,nt):baseIsEqual(rt,st,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}function baseProperty(nt){return function(rt){return rt==null?void 0:rt[nt]}}function basePropertyDeep(nt){return function(rt){return baseGet(rt,nt)}}function property(nt){return isKey(nt)?baseProperty(toKey(nt)):basePropertyDeep(nt)}function baseIteratee(nt){return typeof nt=="function"?nt:nt==null?identity:typeof nt=="object"?isArray$1(nt)?baseMatchesProperty(nt[0],nt[1]):baseMatches(nt):property(nt)}function createBaseFor(nt){return function(rt,it,st){for(var bt=-1,wt=Object(rt),Et=st(rt),Tt=Et.length;Tt--;){var At=Et[nt?Tt:++bt];if(it(wt[At],At,wt)===!1)break}return rt}}var baseFor=createBaseFor();const baseFor$1=baseFor;function baseForOwn(nt,rt){return nt&&baseFor$1(nt,rt,keys)}function createBaseEach(nt,rt){return function(it,st){if(it==null)return it;if(!isArrayLike(it))return nt(it,st);for(var bt=it.length,wt=rt?bt:-1,Et=Object(it);(rt?wt--:++wt<bt)&&st(Et[wt],wt,Et)!==!1;);return it}}var baseEach=createBaseEach(baseForOwn);const baseEach$1=baseEach;var now=function(){return root$1.Date.now()};const now$1=now;var objectProto$2=Object.prototype,hasOwnProperty$2=objectProto$2.hasOwnProperty,defaults=baseRest(function(nt,rt){nt=Object(nt);var it=-1,st=rt.length,bt=st>2?rt[2]:void 0;for(bt&&isIterateeCall(rt[0],rt[1],bt)&&(st=1);++it<st;)for(var wt=rt[it],Et=keysIn(wt),Tt=-1,At=Et.length;++Tt<At;){var Dt=Et[Tt],Ot=nt[Dt];(Ot===void 0||eq(Ot,objectProto$2[Dt])&&!hasOwnProperty$2.call(nt,Dt))&&(nt[Dt]=wt[Dt])}return nt});const defaults$1=defaults;function assignMergeValue(nt,rt,it){(it!==void 0&&!eq(nt[rt],it)||it===void 0&&!(rt in nt))&&baseAssignValue(nt,rt,it)}function isArrayLikeObject(nt){return isObjectLike(nt)&&isArrayLike(nt)}function safeGet(nt,rt){if(!(rt==="constructor"&&typeof nt[rt]=="function")&&rt!="__proto__")return nt[rt]}function toPlainObject(nt){return copyObject(nt,keysIn(nt))}function baseMergeDeep(nt,rt,it,st,bt,wt,Et){var Tt=safeGet(nt,it),At=safeGet(rt,it),Dt=Et.get(At);if(Dt){assignMergeValue(nt,it,Dt);return}var Ot=wt?wt(Tt,At,it+"",nt,rt,Et):void 0,zt=Ot===void 0;if(zt){var $t=isArray$1(At),Bt=!$t&&isBuffer$1(At),Yt=!$t&&!Bt&&isTypedArray$1(At);Ot=At,$t||Bt||Yt?isArray$1(Tt)?Ot=Tt:isArrayLikeObject(Tt)?Ot=copyArray(Tt):Bt?(zt=!1,Ot=cloneBuffer(At,!0)):Yt?(zt=!1,Ot=cloneTypedArray(At,!0)):Ot=[]:isPlainObject(At)||isArguments$1(At)?(Ot=Tt,isArguments$1(Tt)?Ot=toPlainObject(Tt):(!isObject$1(Tt)||isFunction(Tt))&&(Ot=initCloneObject(At))):zt=!1}zt&&(Et.set(At,Ot),bt(Ot,At,st,wt,Et),Et.delete(At)),assignMergeValue(nt,it,Ot)}function baseMerge(nt,rt,it,st,bt){nt!==rt&&baseFor$1(rt,function(wt,Et){if(bt||(bt=new Stack),isObject$1(wt))baseMergeDeep(nt,rt,Et,it,baseMerge,st,bt);else{var Tt=st?st(safeGet(nt,Et),wt,Et+"",nt,rt,bt):void 0;Tt===void 0&&(Tt=wt),assignMergeValue(nt,Et,Tt)}},keysIn)}function arrayIncludesWith(nt,rt,it){for(var st=-1,bt=nt==null?0:nt.length;++st<bt;)if(it(rt,nt[st]))return!0;return!1}function last(nt){var rt=nt==null?0:nt.length;return rt?nt[rt-1]:void 0}function castFunction(nt){return typeof nt=="function"?nt:identity}function forEach(nt,rt){var it=isArray$1(nt)?arrayEach:baseEach$1;return it(nt,castFunction(rt))}function baseFilter(nt,rt){var it=[];return baseEach$1(nt,function(st,bt,wt){rt(st,bt,wt)&&it.push(st)}),it}function filter(nt,rt){var it=isArray$1(nt)?arrayFilter:baseFilter;return it(nt,baseIteratee(rt))}function createFind(nt){return function(rt,it,st){var bt=Object(rt);if(!isArrayLike(rt)){var wt=baseIteratee(it);rt=keys(rt),it=function(Tt){return wt(bt[Tt],Tt,bt)}}var Et=nt(rt,it,st);return Et>-1?bt[wt?rt[Et]:Et]:void 0}}var nativeMax$1=Math.max;function findIndex(nt,rt,it){var st=nt==null?0:nt.length;if(!st)return-1;var bt=it==null?0:toInteger(it);return bt<0&&(bt=nativeMax$1(st+bt,0)),baseFindIndex(nt,baseIteratee(rt),bt)}var find=createFind(findIndex);const find$1=find;function baseMap(nt,rt){var it=-1,st=isArrayLike(nt)?Array(nt.length):[];return baseEach$1(nt,function(bt,wt,Et){st[++it]=rt(bt,wt,Et)}),st}function map$1(nt,rt){var it=isArray$1(nt)?arrayMap:baseMap;return it(nt,baseIteratee(rt))}function forIn(nt,rt){return nt==null?nt:baseFor$1(nt,castFunction(rt),keysIn)}function baseGt(nt,rt){return nt>rt}var objectProto$1=Object.prototype,hasOwnProperty$1=objectProto$1.hasOwnProperty;function baseHas(nt,rt){return nt!=null&&hasOwnProperty$1.call(nt,rt)}function has(nt,rt){return nt!=null&&hasPath(nt,rt,baseHas)}function baseValues(nt,rt){return arrayMap(rt,function(it){return nt[it]})}function values(nt){return nt==null?[]:baseValues(nt,keys(nt))}var mapTag="[object Map]",setTag="[object Set]",objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty;function isEmpty(nt){if(nt==null)return!0;if(isArrayLike(nt)&&(isArray$1(nt)||typeof nt=="string"||typeof nt.splice=="function"||isBuffer$1(nt)||isTypedArray$1(nt)||isArguments$1(nt)))return!nt.length;var rt=getTag$1(nt);if(rt==mapTag||rt==setTag)return!nt.size;if(isPrototype(nt))return!baseKeys(nt).length;for(var it in nt)if(hasOwnProperty.call(nt,it))return!1;return!0}function isUndefined(nt){return nt===void 0}function baseLt(nt,rt){return nt<rt}function mapValues(nt,rt){var it={};return rt=baseIteratee(rt),baseForOwn(nt,function(st,bt,wt){baseAssignValue(it,bt,rt(st,bt,wt))}),it}function baseExtremum(nt,rt,it){for(var st=-1,bt=nt.length;++st<bt;){var wt=nt[st],Et=rt(wt);if(Et!=null&&(Tt===void 0?Et===Et&&!isSymbol(Et):it(Et,Tt)))var Tt=Et,At=wt}return At}function max(nt){return nt&&nt.length?baseExtremum(nt,identity,baseGt):void 0}var merge$2=createAssigner(function(nt,rt,it){baseMerge(nt,rt,it)});const merge$3=merge$2;function min(nt){return nt&&nt.length?baseExtremum(nt,identity,baseLt):void 0}function minBy(nt,rt){return nt&&nt.length?baseExtremum(nt,baseIteratee(rt),baseLt):void 0}function baseSet(nt,rt,it,st){if(!isObject$1(nt))return nt;rt=castPath(rt,nt);for(var bt=-1,wt=rt.length,Et=wt-1,Tt=nt;Tt!=null&&++bt<wt;){var At=toKey(rt[bt]),Dt=it;if(At==="__proto__"||At==="constructor"||At==="prototype")return nt;if(bt!=Et){var Ot=Tt[At];Dt=st?st(Ot,At,Tt):void 0,Dt===void 0&&(Dt=isObject$1(Ot)?Ot:isIndex(rt[bt+1])?[]:{})}assignValue(Tt,At,Dt),Tt=Tt[At]}return nt}function basePickBy(nt,rt,it){for(var st=-1,bt=rt.length,wt={};++st<bt;){var Et=rt[st],Tt=baseGet(nt,Et);it(Tt,Et)&&baseSet(wt,castPath(Et,nt),Tt)}return wt}function baseSortBy(nt,rt){var it=nt.length;for(nt.sort(rt);it--;)nt[it]=nt[it].value;return nt}function compareAscending(nt,rt){if(nt!==rt){var it=nt!==void 0,st=nt===null,bt=nt===nt,wt=isSymbol(nt),Et=rt!==void 0,Tt=rt===null,At=rt===rt,Dt=isSymbol(rt);if(!Tt&&!Dt&&!wt&&nt>rt||wt&&Et&&At&&!Tt&&!Dt||st&&Et&&At||!it&&At||!bt)return 1;if(!st&&!wt&&!Dt&&nt<rt||Dt&&it&&bt&&!st&&!wt||Tt&&it&&bt||!Et&&bt||!At)return-1}return 0}function compareMultiple(nt,rt,it){for(var st=-1,bt=nt.criteria,wt=rt.criteria,Et=bt.length,Tt=it.length;++st<Et;){var At=compareAscending(bt[st],wt[st]);if(At){if(st>=Tt)return At;var Dt=it[st];return At*(Dt=="desc"?-1:1)}}return nt.index-rt.index}function baseOrderBy(nt,rt,it){rt.length?rt=arrayMap(rt,function(wt){return isArray$1(wt)?function(Et){return baseGet(Et,wt.length===1?wt[0]:wt)}:wt}):rt=[identity];var st=-1;rt=arrayMap(rt,baseUnary(baseIteratee));var bt=baseMap(nt,function(wt,Et,Tt){var At=arrayMap(rt,function(Dt){return Dt(wt)});return{criteria:At,index:++st,value:wt}});return baseSortBy(bt,function(wt,Et){return compareMultiple(wt,Et,it)})}function basePick(nt,rt){return basePickBy(nt,rt,function(it,st){return hasIn(nt,st)})}var pick=flatRest(function(nt,rt){return nt==null?{}:basePick(nt,rt)});const pick$1=pick;var nativeCeil=Math.ceil,nativeMax=Math.max;function baseRange(nt,rt,it,st){for(var bt=-1,wt=nativeMax(nativeCeil((rt-nt)/(it||1)),0),Et=Array(wt);wt--;)Et[st?wt:++bt]=nt,nt+=it;return Et}function createRange(nt){return function(rt,it,st){return st&&typeof st!="number"&&isIterateeCall(rt,it,st)&&(it=st=void 0),rt=toFinite(rt),it===void 0?(it=rt,rt=0):it=toFinite(it),st=st===void 0?rt<it?1:-1:toFinite(st),baseRange(rt,it,st,nt)}}var range=createRange();const range$1=range;function baseReduce(nt,rt,it,st,bt){return bt(nt,function(wt,Et,Tt){it=st?(st=!1,wt):rt(it,wt,Et,Tt)}),it}function reduce(nt,rt,it){var st=isArray$1(nt)?arrayReduce:baseReduce,bt=arguments.length<3;return st(nt,baseIteratee(rt),it,bt,baseEach$1)}var sortBy=baseRest(function(nt,rt){if(nt==null)return[];var it=rt.length;return it>1&&isIterateeCall(nt,rt[0],rt[1])?rt=[]:it>2&&isIterateeCall(rt[0],rt[1],rt[2])&&(rt=[rt[0]]),baseOrderBy(nt,baseFlatten(rt,1),[])});const sortBy$1=sortBy;var INFINITY=1/0,createSet=Set$2&&1/setToArray(new Set$2([,-0]))[1]==INFINITY?function(nt){return new Set$2(nt)}:noop;const createSet$1=createSet;var LARGE_ARRAY_SIZE=200;function baseUniq(nt,rt,it){var st=-1,bt=arrayIncludes,wt=nt.length,Et=!0,Tt=[],At=Tt;if(it)Et=!1,bt=arrayIncludesWith;else if(wt>=LARGE_ARRAY_SIZE){var Dt=rt?null:createSet$1(nt);if(Dt)return setToArray(Dt);Et=!1,bt=cacheHas,At=new SetCache}else At=rt?[]:Tt;e:for(;++st<wt;){var Ot=nt[st],zt=rt?rt(Ot):Ot;if(Ot=it||Ot!==0?Ot:0,Et&&zt===zt){for(var $t=At.length;$t--;)if(At[$t]===zt)continue e;rt&&At.push(zt),Tt.push(Ot)}else bt(At,zt,it)||(At!==Tt&&At.push(zt),Tt.push(Ot))}return Tt}var union=baseRest(function(nt){return baseUniq(baseFlatten(nt,1,isArrayLikeObject,!0))});const union$1=union;var idCounter=0;function uniqueId(nt){var rt=++idCounter;return toString(nt)+rt}function baseZipObject(nt,rt,it){for(var st=-1,bt=nt.length,wt=rt.length,Et={};++st<bt;){var Tt=st<wt?rt[st]:void 0;it(Et,nt[st],Tt)}return Et}function zipObject(nt,rt){return baseZipObject(nt||[],rt||[],assignValue)}var DEFAULT_EDGE_NAME="\0",GRAPH_NODE="\0",EDGE_KEY_DELIM="";class Graph{constructor(rt={}){this._isDirected=has(rt,"directed")?rt.directed:!0,this._isMultigraph=has(rt,"multigraph")?rt.multigraph:!1,this._isCompound=has(rt,"compound")?rt.compound:!1,this._label=void 0,this._defaultNodeLabelFn=constant(void 0),this._defaultEdgeLabelFn=constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children[GRAPH_NODE]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}isDirected(){return this._isDirected}isMultigraph(){return this._isMultigraph}isCompound(){return this._isCompound}setGraph(rt){return this._label=rt,this}graph(){return this._label}setDefaultNodeLabel(rt){return isFunction(rt)||(rt=constant(rt)),this._defaultNodeLabelFn=rt,this}nodeCount(){return this._nodeCount}nodes(){return keys(this._nodes)}sources(){var rt=this;return filter(this.nodes(),function(it){return isEmpty(rt._in[it])})}sinks(){var rt=this;return filter(this.nodes(),function(it){return isEmpty(rt._out[it])})}setNodes(rt,it){var st=arguments,bt=this;return forEach(rt,function(wt){st.length>1?bt.setNode(wt,it):bt.setNode(wt)}),this}setNode(rt,it){return has(this._nodes,rt)?(arguments.length>1&&(this._nodes[rt]=it),this):(this._nodes[rt]=arguments.length>1?it:this._defaultNodeLabelFn(rt),this._isCompound&&(this._parent[rt]=GRAPH_NODE,this._children[rt]={},this._children[GRAPH_NODE][rt]=!0),this._in[rt]={},this._preds[rt]={},this._out[rt]={},this._sucs[rt]={},++this._nodeCount,this)}node(rt){return this._nodes[rt]}hasNode(rt){return has(this._nodes,rt)}removeNode(rt){var it=this;if(has(this._nodes,rt)){var st=function(bt){it.removeEdge(it._edgeObjs[bt])};delete this._nodes[rt],this._isCompound&&(this._removeFromParentsChildList(rt),delete this._parent[rt],forEach(this.children(rt),function(bt){it.setParent(bt)}),delete this._children[rt]),forEach(keys(this._in[rt]),st),delete this._in[rt],delete this._preds[rt],forEach(keys(this._out[rt]),st),delete this._out[rt],delete this._sucs[rt],--this._nodeCount}return this}setParent(rt,it){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(isUndefined(it))it=GRAPH_NODE;else{it+="";for(var st=it;!isUndefined(st);st=this.parent(st))if(st===rt)throw new Error("Setting "+it+" as parent of "+rt+" would create a cycle");this.setNode(it)}return this.setNode(rt),this._removeFromParentsChildList(rt),this._parent[rt]=it,this._children[it][rt]=!0,this}_removeFromParentsChildList(rt){delete this._children[this._parent[rt]][rt]}parent(rt){if(this._isCompound){var it=this._parent[rt];if(it!==GRAPH_NODE)return it}}children(rt){if(isUndefined(rt)&&(rt=GRAPH_NODE),this._isCompound){var it=this._children[rt];if(it)return keys(it)}else{if(rt===GRAPH_NODE)return this.nodes();if(this.hasNode(rt))return[]}}predecessors(rt){var it=this._preds[rt];if(it)return keys(it)}successors(rt){var it=this._sucs[rt];if(it)return keys(it)}neighbors(rt){var it=this.predecessors(rt);if(it)return union$1(it,this.successors(rt))}isLeaf(rt){var it;return this.isDirected()?it=this.successors(rt):it=this.neighbors(rt),it.length===0}filterNodes(rt){var it=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});it.setGraph(this.graph());var st=this;forEach(this._nodes,function(Et,Tt){rt(Tt)&&it.setNode(Tt,Et)}),forEach(this._edgeObjs,function(Et){it.hasNode(Et.v)&&it.hasNode(Et.w)&&it.setEdge(Et,st.edge(Et))});var bt={};function wt(Et){var Tt=st.parent(Et);return Tt===void 0||it.hasNode(Tt)?(bt[Et]=Tt,Tt):Tt in bt?bt[Tt]:wt(Tt)}return this._isCompound&&forEach(it.nodes(),function(Et){it.setParent(Et,wt(Et))}),it}setDefaultEdgeLabel(rt){return isFunction(rt)||(rt=constant(rt)),this._defaultEdgeLabelFn=rt,this}edgeCount(){return this._edgeCount}edges(){return values(this._edgeObjs)}setPath(rt,it){var st=this,bt=arguments;return reduce(rt,function(wt,Et){return bt.length>1?st.setEdge(wt,Et,it):st.setEdge(wt,Et),Et}),this}setEdge(){var rt,it,st,bt,wt=!1,Et=arguments[0];typeof Et=="object"&&Et!==null&&"v"in Et?(rt=Et.v,it=Et.w,st=Et.name,arguments.length===2&&(bt=arguments[1],wt=!0)):(rt=Et,it=arguments[1],st=arguments[3],arguments.length>2&&(bt=arguments[2],wt=!0)),rt=""+rt,it=""+it,isUndefined(st)||(st=""+st);var Tt=edgeArgsToId(this._isDirected,rt,it,st);if(has(this._edgeLabels,Tt))return wt&&(this._edgeLabels[Tt]=bt),this;if(!isUndefined(st)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(rt),this.setNode(it),this._edgeLabels[Tt]=wt?bt:this._defaultEdgeLabelFn(rt,it,st);var At=edgeArgsToObj(this._isDirected,rt,it,st);return rt=At.v,it=At.w,Object.freeze(At),this._edgeObjs[Tt]=At,incrementOrInitEntry(this._preds[it],rt),incrementOrInitEntry(this._sucs[rt],it),this._in[it][Tt]=At,this._out[rt][Tt]=At,this._edgeCount++,this}edge(rt,it,st){var bt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,rt,it,st);return this._edgeLabels[bt]}hasEdge(rt,it,st){var bt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,rt,it,st);return has(this._edgeLabels,bt)}removeEdge(rt,it,st){var bt=arguments.length===1?edgeObjToId(this._isDirected,arguments[0]):edgeArgsToId(this._isDirected,rt,it,st),wt=this._edgeObjs[bt];return wt&&(rt=wt.v,it=wt.w,delete this._edgeLabels[bt],delete this._edgeObjs[bt],decrementOrRemoveEntry(this._preds[it],rt),decrementOrRemoveEntry(this._sucs[rt],it),delete this._in[it][bt],delete this._out[rt][bt],this._edgeCount--),this}inEdges(rt,it){var st=this._in[rt];if(st){var bt=values(st);return it?filter(bt,function(wt){return wt.v===it}):bt}}outEdges(rt,it){var st=this._out[rt];if(st){var bt=values(st);return it?filter(bt,function(wt){return wt.w===it}):bt}}nodeEdges(rt,it){var st=this.inEdges(rt,it);if(st)return st.concat(this.outEdges(rt,it))}}Graph.prototype._nodeCount=0;Graph.prototype._edgeCount=0;function incrementOrInitEntry(nt,rt){nt[rt]?nt[rt]++:nt[rt]=1}function decrementOrRemoveEntry(nt,rt){--nt[rt]||delete nt[rt]}function edgeArgsToId(nt,rt,it,st){var bt=""+rt,wt=""+it;if(!nt&&bt>wt){var Et=bt;bt=wt,wt=Et}return bt+EDGE_KEY_DELIM+wt+EDGE_KEY_DELIM+(isUndefined(st)?DEFAULT_EDGE_NAME:st)}function edgeArgsToObj(nt,rt,it,st){var bt=""+rt,wt=""+it;if(!nt&&bt>wt){var Et=bt;bt=wt,wt=Et}var Tt={v:bt,w:wt};return st&&(Tt.name=st),Tt}function edgeObjToId(nt,rt){return edgeArgsToId(nt,rt.v,rt.w,rt.name)}class List{constructor(){var rt={};rt._next=rt._prev=rt,this._sentinel=rt}dequeue(){var rt=this._sentinel,it=rt._prev;if(it!==rt)return unlink(it),it}enqueue(rt){var it=this._sentinel;rt._prev&&rt._next&&unlink(rt),rt._next=it._next,it._next._prev=rt,it._next=rt,rt._prev=it}toString(){for(var rt=[],it=this._sentinel,st=it._prev;st!==it;)rt.push(JSON.stringify(st,filterOutLinks)),st=st._prev;return"["+rt.join(", ")+"]"}}function unlink(nt){nt._prev._next=nt._next,nt._next._prev=nt._prev,delete nt._next,delete nt._prev}function filterOutLinks(nt,rt){if(nt!=="_next"&&nt!=="_prev")return rt}var DEFAULT_WEIGHT_FN=constant(1);function greedyFAS(nt,rt){if(nt.nodeCount()<=1)return[];var it=buildState(nt,rt||DEFAULT_WEIGHT_FN),st=doGreedyFAS(it.graph,it.buckets,it.zeroIdx);return flatten$1(map$1(st,function(bt){return nt.outEdges(bt.v,bt.w)}))}function doGreedyFAS(nt,rt,it){for(var st=[],bt=rt[rt.length-1],wt=rt[0],Et;nt.nodeCount();){for(;Et=wt.dequeue();)removeNode(nt,rt,it,Et);for(;Et=bt.dequeue();)removeNode(nt,rt,it,Et);if(nt.nodeCount()){for(var Tt=rt.length-2;Tt>0;--Tt)if(Et=rt[Tt].dequeue(),Et){st=st.concat(removeNode(nt,rt,it,Et,!0));break}}}return st}function removeNode(nt,rt,it,st,bt){var wt=bt?[]:void 0;return forEach(nt.inEdges(st.v),function(Et){var Tt=nt.edge(Et),At=nt.node(Et.v);bt&&wt.push({v:Et.v,w:Et.w}),At.out-=Tt,assignBucket(rt,it,At)}),forEach(nt.outEdges(st.v),function(Et){var Tt=nt.edge(Et),At=Et.w,Dt=nt.node(At);Dt.in-=Tt,assignBucket(rt,it,Dt)}),nt.removeNode(st.v),wt}function buildState(nt,rt){var it=new Graph,st=0,bt=0;forEach(nt.nodes(),function(Tt){it.setNode(Tt,{v:Tt,in:0,out:0})}),forEach(nt.edges(),function(Tt){var At=it.edge(Tt.v,Tt.w)||0,Dt=rt(Tt),Ot=At+Dt;it.setEdge(Tt.v,Tt.w,Ot),bt=Math.max(bt,it.node(Tt.v).out+=Dt),st=Math.max(st,it.node(Tt.w).in+=Dt)});var wt=range$1(bt+st+3).map(function(){return new List}),Et=st+1;return forEach(it.nodes(),function(Tt){assignBucket(wt,Et,it.node(Tt))}),{graph:it,buckets:wt,zeroIdx:Et}}function assignBucket(nt,rt,it){it.out?it.in?nt[it.out-it.in+rt].enqueue(it):nt[nt.length-1].enqueue(it):nt[0].enqueue(it)}function run$2(nt){var rt=nt.graph().acyclicer==="greedy"?greedyFAS(nt,it(nt)):dfsFAS(nt);forEach(rt,function(st){var bt=nt.edge(st);nt.removeEdge(st),bt.forwardName=st.name,bt.reversed=!0,nt.setEdge(st.w,st.v,bt,uniqueId("rev"))});function it(st){return function(bt){return st.edge(bt).weight}}}function dfsFAS(nt){var rt=[],it={},st={};function bt(wt){has(st,wt)||(st[wt]=!0,it[wt]=!0,forEach(nt.outEdges(wt),function(Et){has(it,Et.w)?rt.push(Et):bt(Et.w)}),delete it[wt])}return forEach(nt.nodes(),bt),rt}function undo$2(nt){forEach(nt.edges(),function(rt){var it=nt.edge(rt);if(it.reversed){nt.removeEdge(rt);var st=it.forwardName;delete it.reversed,delete it.forwardName,nt.setEdge(rt.w,rt.v,it,st)}})}function addDummyNode(nt,rt,it,st){var bt;do bt=uniqueId(st);while(nt.hasNode(bt));return it.dummy=rt,nt.setNode(bt,it),bt}function simplify(nt){var rt=new Graph().setGraph(nt.graph());return forEach(nt.nodes(),function(it){rt.setNode(it,nt.node(it))}),forEach(nt.edges(),function(it){var st=rt.edge(it.v,it.w)||{weight:0,minlen:1},bt=nt.edge(it);rt.setEdge(it.v,it.w,{weight:st.weight+bt.weight,minlen:Math.max(st.minlen,bt.minlen)})}),rt}function asNonCompoundGraph(nt){var rt=new Graph({multigraph:nt.isMultigraph()}).setGraph(nt.graph());return forEach(nt.nodes(),function(it){nt.children(it).length||rt.setNode(it,nt.node(it))}),forEach(nt.edges(),function(it){rt.setEdge(it,nt.edge(it))}),rt}function intersectRect$3(nt,rt){var it=nt.x,st=nt.y,bt=rt.x-it,wt=rt.y-st,Et=nt.width/2,Tt=nt.height/2;if(!bt&&!wt)throw new Error("Not possible to find intersection inside of the rectangle");var At,Dt;return Math.abs(wt)*Et>Math.abs(bt)*Tt?(wt<0&&(Tt=-Tt),At=Tt*bt/wt,Dt=Tt):(bt<0&&(Et=-Et),At=Et,Dt=Et*wt/bt),{x:it+At,y:st+Dt}}function buildLayerMatrix(nt){var rt=map$1(range$1(maxRank(nt)+1),function(){return[]});return forEach(nt.nodes(),function(it){var st=nt.node(it),bt=st.rank;isUndefined(bt)||(rt[bt][st.order]=it)}),rt}function normalizeRanks(nt){var rt=min(map$1(nt.nodes(),function(it){return nt.node(it).rank}));forEach(nt.nodes(),function(it){var st=nt.node(it);has(st,"rank")&&(st.rank-=rt)})}function removeEmptyRanks(nt){var rt=min(map$1(nt.nodes(),function(wt){return nt.node(wt).rank})),it=[];forEach(nt.nodes(),function(wt){var Et=nt.node(wt).rank-rt;it[Et]||(it[Et]=[]),it[Et].push(wt)});var st=0,bt=nt.graph().nodeRankFactor;forEach(it,function(wt,Et){isUndefined(wt)&&Et%bt!==0?--st:st&&forEach(wt,function(Tt){nt.node(Tt).rank+=st})})}function addBorderNode$1(nt,rt,it,st){var bt={width:0,height:0};return arguments.length>=4&&(bt.rank=it,bt.order=st),addDummyNode(nt,"border",bt,rt)}function maxRank(nt){return max(map$1(nt.nodes(),function(rt){var it=nt.node(rt).rank;if(!isUndefined(it))return it}))}function partition(nt,rt){var it={lhs:[],rhs:[]};return forEach(nt,function(st){rt(st)?it.lhs.push(st):it.rhs.push(st)}),it}function time(nt,rt){var it=now$1();try{return rt()}finally{console.log(nt+" time: "+(now$1()-it)+"ms")}}function notime(nt,rt){return rt()}function addBorderSegments(nt){function rt(it){var st=nt.children(it),bt=nt.node(it);if(st.length&&forEach(st,rt),has(bt,"minRank")){bt.borderLeft=[],bt.borderRight=[];for(var wt=bt.minRank,Et=bt.maxRank+1;wt<Et;++wt)addBorderNode(nt,"borderLeft","_bl",it,bt,wt),addBorderNode(nt,"borderRight","_br",it,bt,wt)}}forEach(nt.children(),rt)}function addBorderNode(nt,rt,it,st,bt,wt){var Et={width:0,height:0,rank:wt,borderType:rt},Tt=bt[rt][wt-1],At=addDummyNode(nt,"border",Et,it);bt[rt][wt]=At,nt.setParent(At,st),Tt&&nt.setEdge(Tt,At,{weight:1})}function adjust(nt){var rt=nt.graph().rankdir.toLowerCase();(rt==="lr"||rt==="rl")&&swapWidthHeight(nt)}function undo$1(nt){var rt=nt.graph().rankdir.toLowerCase();(rt==="bt"||rt==="rl")&&reverseY(nt),(rt==="lr"||rt==="rl")&&(swapXY(nt),swapWidthHeight(nt))}function swapWidthHeight(nt){forEach(nt.nodes(),function(rt){swapWidthHeightOne(nt.node(rt))}),forEach(nt.edges(),function(rt){swapWidthHeightOne(nt.edge(rt))})}function swapWidthHeightOne(nt){var rt=nt.width;nt.width=nt.height,nt.height=rt}function reverseY(nt){forEach(nt.nodes(),function(rt){reverseYOne(nt.node(rt))}),forEach(nt.edges(),function(rt){var it=nt.edge(rt);forEach(it.points,reverseYOne),has(it,"y")&&reverseYOne(it)})}function reverseYOne(nt){nt.y=-nt.y}function swapXY(nt){forEach(nt.nodes(),function(rt){swapXYOne(nt.node(rt))}),forEach(nt.edges(),function(rt){var it=nt.edge(rt);forEach(it.points,swapXYOne),has(it,"x")&&swapXYOne(it)})}function swapXYOne(nt){var rt=nt.x;nt.x=nt.y,nt.y=rt}function run$1(nt){var rt=addDummyNode(nt,"root",{},"_root"),it=treeDepths(nt),st=max(values(it))-1,bt=2*st+1;nt.graph().nestingRoot=rt,forEach(nt.edges(),function(Et){nt.edge(Et).minlen*=bt});var wt=sumWeights(nt)+1;forEach(nt.children(),function(Et){dfs$1(nt,rt,bt,wt,st,it,Et)}),nt.graph().nodeRankFactor=bt}function dfs$1(nt,rt,it,st,bt,wt,Et){var Tt=nt.children(Et);if(!Tt.length){Et!==rt&&nt.setEdge(rt,Et,{weight:0,minlen:it});return}var At=addBorderNode$1(nt,"_bt"),Dt=addBorderNode$1(nt,"_bb"),Ot=nt.node(Et);nt.setParent(At,Et),Ot.borderTop=At,nt.setParent(Dt,Et),Ot.borderBottom=Dt,forEach(Tt,function(zt){dfs$1(nt,rt,it,st,bt,wt,zt);var $t=nt.node(zt),Bt=$t.borderTop?$t.borderTop:zt,Yt=$t.borderBottom?$t.borderBottom:zt,Xt=$t.borderTop?st:2*st,Ht=Bt!==Yt?1:bt-wt[Et]+1;nt.setEdge(At,Bt,{weight:Xt,minlen:Ht,nestingEdge:!0}),nt.setEdge(Yt,Dt,{weight:Xt,minlen:Ht,nestingEdge:!0})}),nt.parent(Et)||nt.setEdge(rt,At,{weight:0,minlen:bt+wt[Et]})}function treeDepths(nt){var rt={};function it(st,bt){var wt=nt.children(st);wt&&wt.length&&forEach(wt,function(Et){it(Et,bt+1)}),rt[st]=bt}return forEach(nt.children(),function(st){it(st,1)}),rt}function sumWeights(nt){return reduce(nt.edges(),function(rt,it){return rt+nt.edge(it).weight},0)}function cleanup(nt){var rt=nt.graph();nt.removeNode(rt.nestingRoot),delete rt.nestingRoot,forEach(nt.edges(),function(it){var st=nt.edge(it);st.nestingEdge&&nt.removeEdge(it)})}function addSubgraphConstraints(nt,rt,it){var st={},bt;forEach(it,function(wt){for(var Et=nt.parent(wt),Tt,At;Et;){if(Tt=nt.parent(Et),Tt?(At=st[Tt],st[Tt]=Et):(At=bt,bt=Et),At&&At!==Et){rt.setEdge(At,Et);return}Et=Tt}})}function buildLayerGraph(nt,rt,it){var st=createRootNode(nt),bt=new Graph({compound:!0}).setGraph({root:st}).setDefaultNodeLabel(function(wt){return nt.node(wt)});return forEach(nt.nodes(),function(wt){var Et=nt.node(wt),Tt=nt.parent(wt);(Et.rank===rt||Et.minRank<=rt&&rt<=Et.maxRank)&&(bt.setNode(wt),bt.setParent(wt,Tt||st),forEach(nt[it](wt),function(At){var Dt=At.v===wt?At.w:At.v,Ot=bt.edge(Dt,wt),zt=isUndefined(Ot)?0:Ot.weight;bt.setEdge(Dt,wt,{weight:nt.edge(At).weight+zt})}),has(Et,"minRank")&&bt.setNode(wt,{borderLeft:Et.borderLeft[rt],borderRight:Et.borderRight[rt]}))}),bt}function createRootNode(nt){for(var rt;nt.hasNode(rt=uniqueId("_root")););return rt}function crossCount(nt,rt){for(var it=0,st=1;st<rt.length;++st)it+=twoLayerCrossCount(nt,rt[st-1],rt[st]);return it}function twoLayerCrossCount(nt,rt,it){for(var st=zipObject(it,map$1(it,function(Dt,Ot){return Ot})),bt=flatten$1(map$1(rt,function(Dt){return sortBy$1(map$1(nt.outEdges(Dt),function(Ot){return{pos:st[Ot.w],weight:nt.edge(Ot).weight}}),"pos")})),wt=1;wt<it.length;)wt<<=1;var Et=2*wt-1;wt-=1;var Tt=map$1(new Array(Et),function(){return 0}),At=0;return forEach(bt.forEach(function(Dt){var Ot=Dt.pos+wt;Tt[Ot]+=Dt.weight;for(var zt=0;Ot>0;)Ot%2&&(zt+=Tt[Ot+1]),Ot=Ot-1>>1,Tt[Ot]+=Dt.weight;At+=Dt.weight*zt})),At}function initOrder(nt){var rt={},it=filter(nt.nodes(),function(Tt){return!nt.children(Tt).length}),st=max(map$1(it,function(Tt){return nt.node(Tt).rank})),bt=map$1(range$1(st+1),function(){return[]});function wt(Tt){if(!has(rt,Tt)){rt[Tt]=!0;var At=nt.node(Tt);bt[At.rank].push(Tt),forEach(nt.successors(Tt),wt)}}var Et=sortBy$1(it,function(Tt){return nt.node(Tt).rank});return forEach(Et,wt),bt}function barycenter(nt,rt){return map$1(rt,function(it){var st=nt.inEdges(it);if(st.length){var bt=reduce(st,function(wt,Et){var Tt=nt.edge(Et),At=nt.node(Et.v);return{sum:wt.sum+Tt.weight*At.order,weight:wt.weight+Tt.weight}},{sum:0,weight:0});return{v:it,barycenter:bt.sum/bt.weight,weight:bt.weight}}else return{v:it}})}function resolveConflicts(nt,rt){var it={};forEach(nt,function(bt,wt){var Et=it[bt.v]={indegree:0,in:[],out:[],vs:[bt.v],i:wt};isUndefined(bt.barycenter)||(Et.barycenter=bt.barycenter,Et.weight=bt.weight)}),forEach(rt.edges(),function(bt){var wt=it[bt.v],Et=it[bt.w];!isUndefined(wt)&&!isUndefined(Et)&&(Et.indegree++,wt.out.push(it[bt.w]))});var st=filter(it,function(bt){return!bt.indegree});return doResolveConflicts(st)}function doResolveConflicts(nt){var rt=[];function it(wt){return function(Et){Et.merged||(isUndefined(Et.barycenter)||isUndefined(wt.barycenter)||Et.barycenter>=wt.barycenter)&&mergeEntries(wt,Et)}}function st(wt){return function(Et){Et.in.push(wt),--Et.indegree===0&&nt.push(Et)}}for(;nt.length;){var bt=nt.pop();rt.push(bt),forEach(bt.in.reverse(),it(bt)),forEach(bt.out,st(bt))}return map$1(filter(rt,function(wt){return!wt.merged}),function(wt){return pick$1(wt,["vs","i","barycenter","weight"])})}function mergeEntries(nt,rt){var it=0,st=0;nt.weight&&(it+=nt.barycenter*nt.weight,st+=nt.weight),rt.weight&&(it+=rt.barycenter*rt.weight,st+=rt.weight),nt.vs=rt.vs.concat(nt.vs),nt.barycenter=it/st,nt.weight=st,nt.i=Math.min(rt.i,nt.i),rt.merged=!0}function sort(nt,rt){var it=partition(nt,function(Ot){return has(Ot,"barycenter")}),st=it.lhs,bt=sortBy$1(it.rhs,function(Ot){return-Ot.i}),wt=[],Et=0,Tt=0,At=0;st.sort(compareWithBias(!!rt)),At=consumeUnsortable(wt,bt,At),forEach(st,function(Ot){At+=Ot.vs.length,wt.push(Ot.vs),Et+=Ot.barycenter*Ot.weight,Tt+=Ot.weight,At=consumeUnsortable(wt,bt,At)});var Dt={vs:flatten$1(wt)};return Tt&&(Dt.barycenter=Et/Tt,Dt.weight=Tt),Dt}function consumeUnsortable(nt,rt,it){for(var st;rt.length&&(st=last(rt)).i<=it;)rt.pop(),nt.push(st.vs),it++;return it}function compareWithBias(nt){return function(rt,it){return rt.barycenter<it.barycenter?-1:rt.barycenter>it.barycenter?1:nt?it.i-rt.i:rt.i-it.i}}function sortSubgraph(nt,rt,it,st){var bt=nt.children(rt),wt=nt.node(rt),Et=wt?wt.borderLeft:void 0,Tt=wt?wt.borderRight:void 0,At={};Et&&(bt=filter(bt,function(Yt){return Yt!==Et&&Yt!==Tt}));var Dt=barycenter(nt,bt);forEach(Dt,function(Yt){if(nt.children(Yt.v).length){var Xt=sortSubgraph(nt,Yt.v,it,st);At[Yt.v]=Xt,has(Xt,"barycenter")&&mergeBarycenters(Yt,Xt)}});var Ot=resolveConflicts(Dt,it);expandSubgraphs(Ot,At);var zt=sort(Ot,st);if(Et&&(zt.vs=flatten$1([Et,zt.vs,Tt]),nt.predecessors(Et).length)){var $t=nt.node(nt.predecessors(Et)[0]),Bt=nt.node(nt.predecessors(Tt)[0]);has(zt,"barycenter")||(zt.barycenter=0,zt.weight=0),zt.barycenter=(zt.barycenter*zt.weight+$t.order+Bt.order)/(zt.weight+2),zt.weight+=2}return zt}function expandSubgraphs(nt,rt){forEach(nt,function(it){it.vs=flatten$1(it.vs.map(function(st){return rt[st]?rt[st].vs:st}))})}function mergeBarycenters(nt,rt){isUndefined(nt.barycenter)?(nt.barycenter=rt.barycenter,nt.weight=rt.weight):(nt.barycenter=(nt.barycenter*nt.weight+rt.barycenter*rt.weight)/(nt.weight+rt.weight),nt.weight+=rt.weight)}function order(nt){var rt=maxRank(nt),it=buildLayerGraphs(nt,range$1(1,rt+1),"inEdges"),st=buildLayerGraphs(nt,range$1(rt-1,-1,-1),"outEdges"),bt=initOrder(nt);assignOrder(nt,bt);for(var wt=Number.POSITIVE_INFINITY,Et,Tt=0,At=0;At<4;++Tt,++At){sweepLayerGraphs(Tt%2?it:st,Tt%4>=2),bt=buildLayerMatrix(nt);var Dt=crossCount(nt,bt);Dt<wt&&(At=0,Et=cloneDeep(bt),wt=Dt)}assignOrder(nt,Et)}function buildLayerGraphs(nt,rt,it){return map$1(rt,function(st){return buildLayerGraph(nt,st,it)})}function sweepLayerGraphs(nt,rt){var it=new Graph;forEach(nt,function(st){var bt=st.graph().root,wt=sortSubgraph(st,bt,it,rt);forEach(wt.vs,function(Et,Tt){st.node(Et).order=Tt}),addSubgraphConstraints(st,it,wt.vs)})}function assignOrder(nt,rt){forEach(rt,function(it){forEach(it,function(st,bt){nt.node(st).order=bt})})}function parentDummyChains(nt){var rt=postorder$1(nt);forEach(nt.graph().dummyChains,function(it){for(var st=nt.node(it),bt=st.edgeObj,wt=findPath(nt,rt,bt.v,bt.w),Et=wt.path,Tt=wt.lca,At=0,Dt=Et[At],Ot=!0;it!==bt.w;){if(st=nt.node(it),Ot){for(;(Dt=Et[At])!==Tt&&nt.node(Dt).maxRank<st.rank;)At++;Dt===Tt&&(Ot=!1)}if(!Ot){for(;At<Et.length-1&&nt.node(Dt=Et[At+1]).minRank<=st.rank;)At++;Dt=Et[At]}nt.setParent(it,Dt),it=nt.successors(it)[0]}})}function findPath(nt,rt,it,st){var bt=[],wt=[],Et=Math.min(rt[it].low,rt[st].low),Tt=Math.max(rt[it].lim,rt[st].lim),At,Dt;At=it;do At=nt.parent(At),bt.push(At);while(At&&(rt[At].low>Et||Tt>rt[At].lim));for(Dt=At,At=st;(At=nt.parent(At))!==Dt;)wt.push(At);return{path:bt.concat(wt.reverse()),lca:Dt}}function postorder$1(nt){var rt={},it=0;function st(bt){var wt=it;forEach(nt.children(bt),st),rt[bt]={low:wt,lim:it++}}return forEach(nt.children(),st),rt}function findType1Conflicts(nt,rt){var it={};function st(bt,wt){var Et=0,Tt=0,At=bt.length,Dt=last(wt);return forEach(wt,function(Ot,zt){var $t=findOtherInnerSegmentNode(nt,Ot),Bt=$t?nt.node($t).order:At;($t||Ot===Dt)&&(forEach(wt.slice(Tt,zt+1),function(Yt){forEach(nt.predecessors(Yt),function(Xt){var Ht=nt.node(Xt),Qt=Ht.order;(Qt<Et||Bt<Qt)&&!(Ht.dummy&&nt.node(Yt).dummy)&&addConflict(it,Xt,Yt)})}),Tt=zt+1,Et=Bt)}),wt}return reduce(rt,st),it}function findType2Conflicts(nt,rt){var it={};function st(wt,Et,Tt,At,Dt){var Ot;forEach(range$1(Et,Tt),function(zt){Ot=wt[zt],nt.node(Ot).dummy&&forEach(nt.predecessors(Ot),function($t){var Bt=nt.node($t);Bt.dummy&&(Bt.order<At||Bt.order>Dt)&&addConflict(it,$t,Ot)})})}function bt(wt,Et){var Tt=-1,At,Dt=0;return forEach(Et,function(Ot,zt){if(nt.node(Ot).dummy==="border"){var $t=nt.predecessors(Ot);$t.length&&(At=nt.node($t[0]).order,st(Et,Dt,zt,Tt,At),Dt=zt,Tt=At)}st(Et,Dt,Et.length,At,wt.length)}),Et}return reduce(rt,bt),it}function findOtherInnerSegmentNode(nt,rt){if(nt.node(rt).dummy)return find$1(nt.predecessors(rt),function(it){return nt.node(it).dummy})}function addConflict(nt,rt,it){if(rt>it){var st=rt;rt=it,it=st}var bt=nt[rt];bt||(nt[rt]=bt={}),bt[it]=!0}function hasConflict(nt,rt,it){if(rt>it){var st=rt;rt=it,it=st}return has(nt[rt],it)}function verticalAlignment(nt,rt,it,st){var bt={},wt={},Et={};return forEach(rt,function(Tt){forEach(Tt,function(At,Dt){bt[At]=At,wt[At]=At,Et[At]=Dt})}),forEach(rt,function(Tt){var At=-1;forEach(Tt,function(Dt){var Ot=st(Dt);if(Ot.length){Ot=sortBy$1(Ot,function(Xt){return Et[Xt]});for(var zt=(Ot.length-1)/2,$t=Math.floor(zt),Bt=Math.ceil(zt);$t<=Bt;++$t){var Yt=Ot[$t];wt[Dt]===Dt&&At<Et[Yt]&&!hasConflict(it,Dt,Yt)&&(wt[Yt]=Dt,wt[Dt]=bt[Dt]=bt[Yt],At=Et[Yt])}}})}),{root:bt,align:wt}}function horizontalCompaction(nt,rt,it,st,bt){var wt={},Et=buildBlockGraph(nt,rt,it,bt),Tt=bt?"borderLeft":"borderRight";function At(zt,$t){for(var Bt=Et.nodes(),Yt=Bt.pop(),Xt={};Yt;)Xt[Yt]?zt(Yt):(Xt[Yt]=!0,Bt.push(Yt),Bt=Bt.concat($t(Yt))),Yt=Bt.pop()}function Dt(zt){wt[zt]=Et.inEdges(zt).reduce(function($t,Bt){return Math.max($t,wt[Bt.v]+Et.edge(Bt))},0)}function Ot(zt){var $t=Et.outEdges(zt).reduce(function(Yt,Xt){return Math.min(Yt,wt[Xt.w]-Et.edge(Xt))},Number.POSITIVE_INFINITY),Bt=nt.node(zt);$t!==Number.POSITIVE_INFINITY&&Bt.borderType!==Tt&&(wt[zt]=Math.max(wt[zt],$t))}return At(Dt,Et.predecessors.bind(Et)),At(Ot,Et.successors.bind(Et)),forEach(st,function(zt){wt[zt]=wt[it[zt]]}),wt}function buildBlockGraph(nt,rt,it,st){var bt=new Graph,wt=nt.graph(),Et=sep(wt.nodesep,wt.edgesep,st);return forEach(rt,function(Tt){var At;forEach(Tt,function(Dt){var Ot=it[Dt];if(bt.setNode(Ot),At){var zt=it[At],$t=bt.edge(zt,Ot);bt.setEdge(zt,Ot,Math.max(Et(nt,Dt,At),$t||0))}At=Dt})}),bt}function findSmallestWidthAlignment(nt,rt){return minBy(values(rt),function(it){var st=Number.NEGATIVE_INFINITY,bt=Number.POSITIVE_INFINITY;return forIn(it,function(wt,Et){var Tt=width$1(nt,Et)/2;st=Math.max(wt+Tt,st),bt=Math.min(wt-Tt,bt)}),st-bt})}function alignCoordinates(nt,rt){var it=values(rt),st=min(it),bt=max(it);forEach(["u","d"],function(wt){forEach(["l","r"],function(Et){var Tt=wt+Et,At=nt[Tt],Dt;if(At!==rt){var Ot=values(At);Dt=Et==="l"?st-min(Ot):bt-max(Ot),Dt&&(nt[Tt]=mapValues(At,function(zt){return zt+Dt}))}})})}function balance(nt,rt){return mapValues(nt.ul,function(it,st){if(rt)return nt[rt.toLowerCase()][st];var bt=sortBy$1(map$1(nt,st));return(bt[1]+bt[2])/2})}function positionX(nt){var rt=buildLayerMatrix(nt),it=merge$3(findType1Conflicts(nt,rt),findType2Conflicts(nt,rt)),st={},bt;forEach(["u","d"],function(Et){bt=Et==="u"?rt:values(rt).reverse(),forEach(["l","r"],function(Tt){Tt==="r"&&(bt=map$1(bt,function(zt){return values(zt).reverse()}));var At=(Et==="u"?nt.predecessors:nt.successors).bind(nt),Dt=verticalAlignment(nt,bt,it,At),Ot=horizontalCompaction(nt,bt,Dt.root,Dt.align,Tt==="r");Tt==="r"&&(Ot=mapValues(Ot,function(zt){return-zt})),st[Et+Tt]=Ot})});var wt=findSmallestWidthAlignment(nt,st);return alignCoordinates(st,wt),balance(st,nt.graph().align)}function sep(nt,rt,it){return function(st,bt,wt){var Et=st.node(bt),Tt=st.node(wt),At=0,Dt;if(At+=Et.width/2,has(Et,"labelpos"))switch(Et.labelpos.toLowerCase()){case"l":Dt=-Et.width/2;break;case"r":Dt=Et.width/2;break}if(Dt&&(At+=it?Dt:-Dt),Dt=0,At+=(Et.dummy?rt:nt)/2,At+=(Tt.dummy?rt:nt)/2,At+=Tt.width/2,has(Tt,"labelpos"))switch(Tt.labelpos.toLowerCase()){case"l":Dt=Tt.width/2;break;case"r":Dt=-Tt.width/2;break}return Dt&&(At+=it?Dt:-Dt),Dt=0,At}}function width$1(nt,rt){return nt.node(rt).width}function position(nt){nt=asNonCompoundGraph(nt),positionY(nt),forEach(positionX(nt),function(rt,it){nt.node(it).x=rt})}function positionY(nt){var rt=buildLayerMatrix(nt),it=nt.graph().ranksep,st=0;forEach(rt,function(bt){var wt=max(map$1(bt,function(Et){return nt.node(Et).height}));forEach(bt,function(Et){nt.node(Et).y=st+wt/2}),st+=wt+it})}function layout(nt,rt){var it=rt&&rt.debugTiming?time:notime;it("layout",function(){var st=it("  buildLayoutGraph",function(){return buildLayoutGraph(nt)});it("  runLayout",function(){runLayout(st,it)}),it("  updateInputGraph",function(){updateInputGraph(nt,st)})})}function runLayout(nt,rt){rt("    makeSpaceForEdgeLabels",function(){makeSpaceForEdgeLabels(nt)}),rt("    removeSelfEdges",function(){removeSelfEdges(nt)}),rt("    acyclic",function(){run$2(nt)}),rt("    nestingGraph.run",function(){run$1(nt)}),rt("    rank",function(){rank(asNonCompoundGraph(nt))}),rt("    injectEdgeLabelProxies",function(){injectEdgeLabelProxies(nt)}),rt("    removeEmptyRanks",function(){removeEmptyRanks(nt)}),rt("    nestingGraph.cleanup",function(){cleanup(nt)}),rt("    normalizeRanks",function(){normalizeRanks(nt)}),rt("    assignRankMinMax",function(){assignRankMinMax(nt)}),rt("    removeEdgeLabelProxies",function(){removeEdgeLabelProxies(nt)}),rt("    normalize.run",function(){run(nt)}),rt("    parentDummyChains",function(){parentDummyChains(nt)}),rt("    addBorderSegments",function(){addBorderSegments(nt)}),rt("    order",function(){order(nt)}),rt("    insertSelfEdges",function(){insertSelfEdges(nt)}),rt("    adjustCoordinateSystem",function(){adjust(nt)}),rt("    position",function(){position(nt)}),rt("    positionSelfEdges",function(){positionSelfEdges(nt)}),rt("    removeBorderNodes",function(){removeBorderNodes(nt)}),rt("    normalize.undo",function(){undo(nt)}),rt("    fixupEdgeLabelCoords",function(){fixupEdgeLabelCoords(nt)}),rt("    undoCoordinateSystem",function(){undo$1(nt)}),rt("    translateGraph",function(){translateGraph(nt)}),rt("    assignNodeIntersects",function(){assignNodeIntersects(nt)}),rt("    reversePoints",function(){reversePointsForReversedEdges(nt)}),rt("    acyclic.undo",function(){undo$2(nt)})}function updateInputGraph(nt,rt){forEach(nt.nodes(),function(it){var st=nt.node(it),bt=rt.node(it);st&&(st.x=bt.x,st.y=bt.y,rt.children(it).length&&(st.width=bt.width,st.height=bt.height))}),forEach(nt.edges(),function(it){var st=nt.edge(it),bt=rt.edge(it);st.points=bt.points,has(bt,"x")&&(st.x=bt.x,st.y=bt.y)}),nt.graph().width=rt.graph().width,nt.graph().height=rt.graph().height}var graphNumAttrs=["nodesep","edgesep","ranksep","marginx","marginy"],graphDefaults={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},graphAttrs=["acyclicer","ranker","rankdir","align"],nodeNumAttrs=["width","height"],nodeDefaults={width:0,height:0},edgeNumAttrs=["minlen","weight","width","height","labeloffset"],edgeDefaults={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},edgeAttrs=["labelpos"];function buildLayoutGraph(nt){var rt=new Graph({multigraph:!0,compound:!0}),it=canonicalize$1(nt.graph());return rt.setGraph(merge$3({},graphDefaults,selectNumberAttrs(it,graphNumAttrs),pick$1(it,graphAttrs))),forEach(nt.nodes(),function(st){var bt=canonicalize$1(nt.node(st));rt.setNode(st,defaults$1(selectNumberAttrs(bt,nodeNumAttrs),nodeDefaults)),rt.setParent(st,nt.parent(st))}),forEach(nt.edges(),function(st){var bt=canonicalize$1(nt.edge(st));rt.setEdge(st,merge$3({},edgeDefaults,selectNumberAttrs(bt,edgeNumAttrs),pick$1(bt,edgeAttrs)))}),rt}function makeSpaceForEdgeLabels(nt){var rt=nt.graph();rt.ranksep/=2,forEach(nt.edges(),function(it){var st=nt.edge(it);st.minlen*=2,st.labelpos.toLowerCase()!=="c"&&(rt.rankdir==="TB"||rt.rankdir==="BT"?st.width+=st.labeloffset:st.height+=st.labeloffset)})}function injectEdgeLabelProxies(nt){forEach(nt.edges(),function(rt){var it=nt.edge(rt);if(it.width&&it.height){var st=nt.node(rt.v),bt=nt.node(rt.w),wt={rank:(bt.rank-st.rank)/2+st.rank,e:rt};addDummyNode(nt,"edge-proxy",wt,"_ep")}})}function assignRankMinMax(nt){var rt=0;forEach(nt.nodes(),function(it){var st=nt.node(it);st.borderTop&&(st.minRank=nt.node(st.borderTop).rank,st.maxRank=nt.node(st.borderBottom).rank,rt=max(rt,st.maxRank))}),nt.graph().maxRank=rt}function removeEdgeLabelProxies(nt){forEach(nt.nodes(),function(rt){var it=nt.node(rt);it.dummy==="edge-proxy"&&(nt.edge(it.e).labelRank=it.rank,nt.removeNode(rt))})}function translateGraph(nt){var rt=Number.POSITIVE_INFINITY,it=0,st=Number.POSITIVE_INFINITY,bt=0,wt=nt.graph(),Et=wt.marginx||0,Tt=wt.marginy||0;function At(Dt){var Ot=Dt.x,zt=Dt.y,$t=Dt.width,Bt=Dt.height;rt=Math.min(rt,Ot-$t/2),it=Math.max(it,Ot+$t/2),st=Math.min(st,zt-Bt/2),bt=Math.max(bt,zt+Bt/2)}forEach(nt.nodes(),function(Dt){At(nt.node(Dt))}),forEach(nt.edges(),function(Dt){var Ot=nt.edge(Dt);has(Ot,"x")&&At(Ot)}),rt-=Et,st-=Tt,forEach(nt.nodes(),function(Dt){var Ot=nt.node(Dt);Ot.x-=rt,Ot.y-=st}),forEach(nt.edges(),function(Dt){var Ot=nt.edge(Dt);forEach(Ot.points,function(zt){zt.x-=rt,zt.y-=st}),has(Ot,"x")&&(Ot.x-=rt),has(Ot,"y")&&(Ot.y-=st)}),wt.width=it-rt+Et,wt.height=bt-st+Tt}function assignNodeIntersects(nt){forEach(nt.edges(),function(rt){var it=nt.edge(rt),st=nt.node(rt.v),bt=nt.node(rt.w),wt,Et;it.points?(wt=it.points[0],Et=it.points[it.points.length-1]):(it.points=[],wt=bt,Et=st),it.points.unshift(intersectRect$3(st,wt)),it.points.push(intersectRect$3(bt,Et))})}function fixupEdgeLabelCoords(nt){forEach(nt.edges(),function(rt){var it=nt.edge(rt);if(has(it,"x"))switch((it.labelpos==="l"||it.labelpos==="r")&&(it.width-=it.labeloffset),it.labelpos){case"l":it.x-=it.width/2+it.labeloffset;break;case"r":it.x+=it.width/2+it.labeloffset;break}})}function reversePointsForReversedEdges(nt){forEach(nt.edges(),function(rt){var it=nt.edge(rt);it.reversed&&it.points.reverse()})}function removeBorderNodes(nt){forEach(nt.nodes(),function(rt){if(nt.children(rt).length){var it=nt.node(rt),st=nt.node(it.borderTop),bt=nt.node(it.borderBottom),wt=nt.node(last(it.borderLeft)),Et=nt.node(last(it.borderRight));it.width=Math.abs(Et.x-wt.x),it.height=Math.abs(bt.y-st.y),it.x=wt.x+it.width/2,it.y=st.y+it.height/2}}),forEach(nt.nodes(),function(rt){nt.node(rt).dummy==="border"&&nt.removeNode(rt)})}function removeSelfEdges(nt){forEach(nt.edges(),function(rt){if(rt.v===rt.w){var it=nt.node(rt.v);it.selfEdges||(it.selfEdges=[]),it.selfEdges.push({e:rt,label:nt.edge(rt)}),nt.removeEdge(rt)}})}function insertSelfEdges(nt){var rt=buildLayerMatrix(nt);forEach(rt,function(it){var st=0;forEach(it,function(bt,wt){var Et=nt.node(bt);Et.order=wt+st,forEach(Et.selfEdges,function(Tt){addDummyNode(nt,"selfedge",{width:Tt.label.width,height:Tt.label.height,rank:Et.rank,order:wt+ ++st,e:Tt.e,label:Tt.label},"_se")}),delete Et.selfEdges})})}function positionSelfEdges(nt){forEach(nt.nodes(),function(rt){var it=nt.node(rt);if(it.dummy==="selfedge"){var st=nt.node(it.e.v),bt=st.x+st.width/2,wt=st.y,Et=it.x-bt,Tt=st.height/2;nt.setEdge(it.e,it.label),nt.removeNode(rt),it.label.points=[{x:bt+2*Et/3,y:wt-Tt},{x:bt+5*Et/6,y:wt-Tt},{x:bt+Et,y:wt},{x:bt+5*Et/6,y:wt+Tt},{x:bt+2*Et/3,y:wt+Tt}],it.label.x=it.x,it.label.y=it.y}})}function selectNumberAttrs(nt,rt){return mapValues(pick$1(nt,rt),Number)}function canonicalize$1(nt){var rt={};return forEach(nt,function(it,st){rt[st.toLowerCase()]=it}),rt}function run(nt){nt.graph().dummyChains=[],forEach(nt.edges(),function(rt){normalizeEdge(nt,rt)})}function normalizeEdge(nt,rt){var it=rt.v,st=nt.node(it).rank,bt=rt.w,wt=nt.node(bt).rank,Et=rt.name,Tt=nt.edge(rt),At=Tt.labelRank;if(wt!==st+1){nt.removeEdge(rt);var Dt,Ot,zt;for(zt=0,++st;st<wt;++zt,++st)Tt.points=[],Ot={width:0,height:0,edgeLabel:Tt,edgeObj:rt,rank:st},Dt=addDummyNode(nt,"edge",Ot,"_d"),st===At&&(Ot.width=Tt.width,Ot.height=Tt.height,Ot.dummy="edge-label",Ot.labelpos=Tt.labelpos),nt.setEdge(it,Dt,{weight:Tt.weight},Et),zt===0&&nt.graph().dummyChains.push(Dt),it=Dt;nt.setEdge(it,bt,{weight:Tt.weight},Et)}}function undo(nt){forEach(nt.graph().dummyChains,function(rt){var it=nt.node(rt),st=it.edgeLabel,bt;for(nt.setEdge(it.edgeObj,st);it.dummy;)bt=nt.successors(rt)[0],nt.removeNode(rt),st.points.push({x:it.x,y:it.y}),it.dummy==="edge-label"&&(st.x=it.x,st.y=it.y,st.width=it.width,st.height=it.height),rt=bt,it=nt.node(rt)})}function longestPath(nt){var rt={};function it(st){var bt=nt.node(st);if(has(rt,st))return bt.rank;rt[st]=!0;var wt=min(map$1(nt.outEdges(st),function(Et){return it(Et.w)-nt.edge(Et).minlen}));return(wt===Number.POSITIVE_INFINITY||wt===void 0||wt===null)&&(wt=0),bt.rank=wt}forEach(nt.sources(),it)}function slack(nt,rt){return nt.node(rt.w).rank-nt.node(rt.v).rank-nt.edge(rt).minlen}function feasibleTree(nt){var rt=new Graph({directed:!1}),it=nt.nodes()[0],st=nt.nodeCount();rt.setNode(it,{});for(var bt,wt;tightTree(rt,nt)<st;)bt=findMinSlackEdge(rt,nt),wt=rt.hasNode(bt.v)?slack(nt,bt):-slack(nt,bt),shiftRanks(rt,nt,wt);return rt}function tightTree(nt,rt){function it(st){forEach(rt.nodeEdges(st),function(bt){var wt=bt.v,Et=st===wt?bt.w:wt;!nt.hasNode(Et)&&!slack(rt,bt)&&(nt.setNode(Et,{}),nt.setEdge(st,Et,{}),it(Et))})}return forEach(nt.nodes(),it),nt.nodeCount()}function findMinSlackEdge(nt,rt){return minBy(rt.edges(),function(it){if(nt.hasNode(it.v)!==nt.hasNode(it.w))return slack(rt,it)})}function shiftRanks(nt,rt,it){forEach(nt.nodes(),function(st){rt.node(st).rank+=it})}function CycleException(){}CycleException.prototype=new Error;function dfs(nt,rt,it){isArray$1(rt)||(rt=[rt]);var st=(nt.isDirected()?nt.successors:nt.neighbors).bind(nt),bt=[],wt={};return forEach(rt,function(Et){if(!nt.hasNode(Et))throw new Error("Graph does not have node: "+Et);doDfs(nt,Et,it==="post",wt,st,bt)}),bt}function doDfs(nt,rt,it,st,bt,wt){has(st,rt)||(st[rt]=!0,it||wt.push(rt),forEach(bt(rt),function(Et){doDfs(nt,Et,it,st,bt,wt)}),it&&wt.push(rt))}function postorder(nt,rt){return dfs(nt,rt,"post")}function preorder(nt,rt){return dfs(nt,rt,"pre")}networkSimplex.initLowLimValues=initLowLimValues;networkSimplex.initCutValues=initCutValues;networkSimplex.calcCutValue=calcCutValue;networkSimplex.leaveEdge=leaveEdge;networkSimplex.enterEdge=enterEdge;networkSimplex.exchangeEdges=exchangeEdges;function networkSimplex(nt){nt=simplify(nt),longestPath(nt);var rt=feasibleTree(nt);initLowLimValues(rt),initCutValues(rt,nt);for(var it,st;it=leaveEdge(rt);)st=enterEdge(rt,nt,it),exchangeEdges(rt,nt,it,st)}function initCutValues(nt,rt){var it=postorder(nt,nt.nodes());it=it.slice(0,it.length-1),forEach(it,function(st){assignCutValue(nt,rt,st)})}function assignCutValue(nt,rt,it){var st=nt.node(it),bt=st.parent;nt.edge(it,bt).cutvalue=calcCutValue(nt,rt,it)}function calcCutValue(nt,rt,it){var st=nt.node(it),bt=st.parent,wt=!0,Et=rt.edge(it,bt),Tt=0;return Et||(wt=!1,Et=rt.edge(bt,it)),Tt=Et.weight,forEach(rt.nodeEdges(it),function(At){var Dt=At.v===it,Ot=Dt?At.w:At.v;if(Ot!==bt){var zt=Dt===wt,$t=rt.edge(At).weight;if(Tt+=zt?$t:-$t,isTreeEdge(nt,it,Ot)){var Bt=nt.edge(it,Ot).cutvalue;Tt+=zt?-Bt:Bt}}}),Tt}function initLowLimValues(nt,rt){arguments.length<2&&(rt=nt.nodes()[0]),dfsAssignLowLim(nt,{},1,rt)}function dfsAssignLowLim(nt,rt,it,st,bt){var wt=it,Et=nt.node(st);return rt[st]=!0,forEach(nt.neighbors(st),function(Tt){has(rt,Tt)||(it=dfsAssignLowLim(nt,rt,it,Tt,st))}),Et.low=wt,Et.lim=it++,bt?Et.parent=bt:delete Et.parent,it}function leaveEdge(nt){return find$1(nt.edges(),function(rt){return nt.edge(rt).cutvalue<0})}function enterEdge(nt,rt,it){var st=it.v,bt=it.w;rt.hasEdge(st,bt)||(st=it.w,bt=it.v);var wt=nt.node(st),Et=nt.node(bt),Tt=wt,At=!1;wt.lim>Et.lim&&(Tt=Et,At=!0);var Dt=filter(rt.edges(),function(Ot){return At===isDescendant$1(nt,nt.node(Ot.v),Tt)&&At!==isDescendant$1(nt,nt.node(Ot.w),Tt)});return minBy(Dt,function(Ot){return slack(rt,Ot)})}function exchangeEdges(nt,rt,it,st){var bt=it.v,wt=it.w;nt.removeEdge(bt,wt),nt.setEdge(st.v,st.w,{}),initLowLimValues(nt),initCutValues(nt,rt),updateRanks(nt,rt)}function updateRanks(nt,rt){var it=find$1(nt.nodes(),function(bt){return!rt.node(bt).parent}),st=preorder(nt,it);st=st.slice(1),forEach(st,function(bt){var wt=nt.node(bt).parent,Et=rt.edge(bt,wt),Tt=!1;Et||(Et=rt.edge(wt,bt),Tt=!0),rt.node(bt).rank=rt.node(wt).rank+(Tt?Et.minlen:-Et.minlen)})}function isTreeEdge(nt,rt,it){return nt.hasEdge(rt,it)}function isDescendant$1(nt,rt,it){return it.low<=rt.lim&&rt.lim<=it.lim}function rank(nt){switch(nt.graph().ranker){case"network-simplex":networkSimplexRanker(nt);break;case"tight-tree":tightTreeRanker(nt);break;case"longest-path":longestPathRanker(nt);break;default:networkSimplexRanker(nt)}}var longestPathRanker=longestPath;function tightTreeRanker(nt){longestPath(nt),feasibleTree(nt)}function networkSimplexRanker(nt){networkSimplex(nt)}function write(nt){var rt={options:{directed:nt.isDirected(),multigraph:nt.isMultigraph(),compound:nt.isCompound()},nodes:writeNodes(nt),edges:writeEdges(nt)};return isUndefined(nt.graph())||(rt.value=clone$1(nt.graph())),rt}function writeNodes(nt){return map$1(nt.nodes(),function(rt){var it=nt.node(rt),st=nt.parent(rt),bt={v:rt};return isUndefined(it)||(bt.value=it),isUndefined(st)||(bt.parent=st),bt})}function writeEdges(nt){return map$1(nt.edges(),function(rt){var it=nt.edge(rt),st={v:rt.v,w:rt.w};return isUndefined(rt.name)||(st.name=rt.name),isUndefined(it)||(st.value=it),st})}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let nt=0;nt<256;++nt)byteToHex.push((nt+256).toString(16).slice(1));function unsafeStringify(nt,rt=0){return(byteToHex[nt[rt+0]]+byteToHex[nt[rt+1]]+byteToHex[nt[rt+2]]+byteToHex[nt[rt+3]]+"-"+byteToHex[nt[rt+4]]+byteToHex[nt[rt+5]]+"-"+byteToHex[nt[rt+6]]+byteToHex[nt[rt+7]]+"-"+byteToHex[nt[rt+8]]+byteToHex[nt[rt+9]]+"-"+byteToHex[nt[rt+10]]+byteToHex[nt[rt+11]]+byteToHex[nt[rt+12]]+byteToHex[nt[rt+13]]+byteToHex[nt[rt+14]]+byteToHex[nt[rt+15]]).toLowerCase()}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),native={randomUUID};function v4(nt,rt,it){if(native.randomUUID&&!rt&&!nt)return native.randomUUID();nt=nt||{};const st=nt.random||(nt.rng||rng)();if(st[6]=st[6]&15|64,st[8]=st[8]&63|128,rt){it=it||0;for(let bt=0;bt<16;++bt)rt[it+bt]=st[bt];return rt}return unsafeStringify(st)}function isSubgraph(nt,rt){return!!nt.children(rt).length}function edgeToId(nt){return escapeId(nt.v)+":"+escapeId(nt.w)+":"+escapeId(nt.name)}var ID_DELIM=/:/g;function escapeId(nt){return nt?String(nt).replace(ID_DELIM,"\\:"):""}function applyStyle$1(nt,rt){rt&&nt.attr("style",rt)}function applyClass(nt,rt,it){rt&&nt.attr("class",rt).attr("class",it+" "+nt.attr("class"))}function applyTransition(nt,rt){var it=rt.graph();if(isPlainObject(it)){var st=it.transition;if(isFunction(st))return st(nt)}return nt}var arrows={normal,vee,undirected};function setArrows(nt){arrows=nt}function normal(nt,rt,it,st){var bt=nt.append("marker").attr("id",rt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),wt=bt.append("path").attr("d","M 0 0 L 10 5 L 0 10 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(wt,it[st+"Style"]),it[st+"Class"]&&wt.attr("class",it[st+"Class"])}function vee(nt,rt,it,st){var bt=nt.append("marker").attr("id",rt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),wt=bt.append("path").attr("d","M 0 0 L 10 5 L 0 10 L 4 5 z").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(wt,it[st+"Style"]),it[st+"Class"]&&wt.attr("class",it[st+"Class"])}function undirected(nt,rt,it,st){var bt=nt.append("marker").attr("id",rt).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto"),wt=bt.append("path").attr("d","M 0 5 L 10 5").style("stroke-width",1).style("stroke-dasharray","1,0");applyStyle$1(wt,it[st+"Style"]),it[st+"Class"]&&wt.attr("class",it[st+"Class"])}function addHtmlLabel$1(nt,rt){var it=nt.append("foreignObject").attr("width","100000"),st=it.append("xhtml:div");st.attr("xmlns","http://www.w3.org/1999/xhtml");var bt=rt.label;switch(typeof bt){case"function":st.insert(bt);break;case"object":st.insert(function(){return bt});break;default:st.html(bt)}applyStyle$1(st,rt.labelStyle),st.style("display","inline-block"),st.style("white-space","nowrap");var wt=st.node().getBoundingClientRect();return it.attr("width",wt.width).attr("height",wt.height),it}function addSVGLabel(nt,rt){var it=nt;return it.node().appendChild(rt.label),applyStyle$1(it,rt.labelStyle),it}function addTextLabel(nt,rt){for(var it=nt.append("text"),st=processEscapeSequences(rt.label).split(`
`),bt=0;bt<st.length;bt++)it.append("tspan").attr("xml:space","preserve").attr("dy","1em").attr("x","1").text(st[bt]);return applyStyle$1(it,rt.labelStyle),it}function processEscapeSequences(nt){for(var rt="",it=!1,st,bt=0;bt<nt.length;++bt)if(st=nt[bt],it){switch(st){case"n":rt+=`
`;break;default:rt+=st}it=!1}else st==="\\"?it=!0:rt+=st;return rt}function addLabel(nt,rt,it){var st=rt.label,bt=nt.append("g");rt.labelType==="svg"?addSVGLabel(bt,rt):typeof st!="string"||rt.labelType==="html"?addHtmlLabel$1(bt,rt):addTextLabel(bt,rt);var wt=bt.node().getBBox(),Et;switch(it){case"top":Et=-rt.height/2;break;case"bottom":Et=rt.height/2-wt.height;break;default:Et=-wt.height/2}return bt.attr("transform","translate("+-wt.width/2+","+Et+")"),bt}var createClusters=function(nt,rt){var it=rt.nodes().filter(function(wt){return isSubgraph(rt,wt)}),st=nt.selectAll("g.cluster").data(it,function(wt){return wt});applyTransition(st.exit(),rt).style("opacity",0).remove();var bt=st.enter().append("g").attr("class","cluster").attr("id",function(wt){var Et=rt.node(wt);return Et.id}).style("opacity",0).each(function(wt){var Et=rt.node(wt),Tt=select(this);select(this).append("rect");var At=Tt.append("g").attr("class","label");addLabel(At,Et,Et.clusterLabelPos)});return st=st.merge(bt),st=applyTransition(st,rt).style("opacity",1),st.selectAll("rect").each(function(wt){var Et=rt.node(wt),Tt=select(this);applyStyle$1(Tt,Et.style)}),st};function setCreateClusters(nt){createClusters=nt}let createEdgeLabels=function(nt,rt){var it=nt.selectAll("g.edgeLabel").data(rt.edges(),function(bt){return edgeToId(bt)}).classed("update",!0);it.exit().remove(),it.enter().append("g").classed("edgeLabel",!0).style("opacity",0),it=nt.selectAll("g.edgeLabel"),it.each(function(bt){var wt=select(this);wt.select(".label").remove();var Et=rt.edge(bt),Tt=addLabel(wt,rt.edge(bt),0).classed("label",!0),At=Tt.node().getBBox();Et.labelId&&Tt.attr("id",Et.labelId),has(Et,"width")||(Et.width=At.width),has(Et,"height")||(Et.height=At.height)});var st;return it.exit?st=it.exit():st=it.selectAll(null),applyTransition(st,rt).style("opacity",0).remove(),it};function setCreateEdgeLabels(nt){createEdgeLabels=nt}function intersectNode$1(nt,rt){return nt.intersect(rt)}var createEdgePaths=function(nt,rt,it){var st=nt.selectAll("g.edgePath").data(rt.edges(),function(Et){return edgeToId(Et)}).classed("update",!0),bt=enter(st,rt);exit(st,rt);var wt=st.merge!==void 0?st.merge(bt):st;return applyTransition(wt,rt).style("opacity",1),wt.each(function(Et){var Tt=select(this),At=rt.edge(Et);At.elem=this,At.id&&Tt.attr("id",At.id),applyClass(Tt,At.class,(Tt.classed("update")?"update ":"")+"edgePath")}),wt.selectAll("path.path").each(function(Et){var Tt=rt.edge(Et);Tt.arrowheadId=uniqueId("arrowhead");var At=select(this).attr("marker-end",function(){return"url("+makeFragmentRef(location.href,Tt.arrowheadId)+")"}).style("fill","none");applyTransition(At,rt).attr("d",function(Dt){return calcPoints(rt,Dt)}),applyStyle$1(At,Tt.style)}),wt.selectAll("defs *").remove(),wt.selectAll("defs").each(function(Et){var Tt=rt.edge(Et),At=it[Tt.arrowhead];At(select(this),Tt.arrowheadId,Tt,"arrowhead")}),wt};function setCreateEdgePaths(nt){createEdgePaths=nt}function makeFragmentRef(nt,rt){var it=nt.split("#")[0];return it+"#"+rt}function calcPoints(nt,rt){var it=nt.edge(rt),st=nt.node(rt.v),bt=nt.node(rt.w),wt=it.points.slice(1,it.points.length-1);return wt.unshift(intersectNode$1(st,wt[0])),wt.push(intersectNode$1(bt,wt[wt.length-1])),createLine(it,wt)}function createLine(nt,rt){var it=(line$1||svg$2.line)().x(function(st){return st.x}).y(function(st){return st.y});return(it.curve||it.interpolate)(nt.curve),it(rt)}function getCoords(nt){var rt=nt.getBBox(),it=nt.ownerSVGElement.getScreenCTM().inverse().multiply(nt.getScreenCTM()).translate(rt.width/2,rt.height/2);return{x:it.e,y:it.f}}function enter(nt,rt){var it=nt.enter().append("g").attr("class","edgePath").style("opacity",0);return it.append("path").attr("class","path").attr("d",function(st){var bt=rt.edge(st),wt=rt.node(st.v).elem,Et=range$1(bt.points.length).map(function(){return getCoords(wt)});return createLine(bt,Et)}),it.append("defs"),it}function exit(nt,rt){var it=nt.exit();applyTransition(it,rt).style("opacity",0).remove()}var createNodes=function(nt,rt,it){var st=rt.nodes().filter(function(Et){return!isSubgraph(rt,Et)}),bt=nt.selectAll("g.node").data(st,function(Et){return Et}).classed("update",!0);bt.exit().remove(),bt.enter().append("g").attr("class","node").style("opacity",0),bt=nt.selectAll("g.node"),bt.each(function(Et){var Tt=rt.node(Et),At=select(this);applyClass(At,Tt.class,(At.classed("update")?"update ":"")+"node"),At.select("g.label").remove();var Dt=At.append("g").attr("class","label"),Ot=addLabel(Dt,Tt),zt=it[Tt.shape],$t=pick$1(Ot.node().getBBox(),"width","height");Tt.elem=this,Tt.id&&At.attr("id",Tt.id),Tt.labelId&&Dt.attr("id",Tt.labelId),has(Tt,"width")&&($t.width=Tt.width),has(Tt,"height")&&($t.height=Tt.height),$t.width+=Tt.paddingLeft+Tt.paddingRight,$t.height+=Tt.paddingTop+Tt.paddingBottom,Dt.attr("transform","translate("+(Tt.paddingLeft-Tt.paddingRight)/2+","+(Tt.paddingTop-Tt.paddingBottom)/2+")");var Bt=select(this);Bt.select(".label-container").remove();var Yt=zt(Bt,$t,Tt).classed("label-container",!0);applyStyle$1(Yt,Tt.style);var Xt=Yt.node().getBBox();Tt.width=Xt.width,Tt.height=Xt.height});var wt;return bt.exit?wt=bt.exit():wt=bt.selectAll(null),applyTransition(wt,rt).style("opacity",0).remove(),bt};function setCreateNodes(nt){createNodes=nt}function positionClusters(nt,rt){var it=nt.filter(function(){return!select(this).classed("update")});function st(bt){var wt=rt.node(bt);return"translate("+wt.x+","+wt.y+")"}it.attr("transform",st),applyTransition(nt,rt).style("opacity",1).attr("transform",st),applyTransition(it.selectAll("rect"),rt).attr("width",function(bt){return rt.node(bt).width}).attr("height",function(bt){return rt.node(bt).height}).attr("x",function(bt){var wt=rt.node(bt);return-wt.width/2}).attr("y",function(bt){var wt=rt.node(bt);return-wt.height/2})}function positionEdgeLabels(nt,rt){var it=nt.filter(function(){return!select(this).classed("update")});function st(bt){var wt=rt.edge(bt);return has(wt,"x")?"translate("+wt.x+","+wt.y+")":""}it.attr("transform",st),applyTransition(nt,rt).style("opacity",1).attr("transform",st)}function positionNodes(nt,rt){var it=nt.filter(function(){return!select(this).classed("update")});function st(bt){var wt=rt.node(bt);return"translate("+wt.x+","+wt.y+")"}it.attr("transform",st),applyTransition(nt,rt).style("opacity",1).attr("transform",st)}function intersectEllipse$1(nt,rt,it,st){var bt=nt.x,wt=nt.y,Et=bt-st.x,Tt=wt-st.y,At=Math.sqrt(rt*rt*Tt*Tt+it*it*Et*Et),Dt=Math.abs(rt*it*Et/At);st.x<bt&&(Dt=-Dt);var Ot=Math.abs(rt*it*Tt/At);return st.y<wt&&(Ot=-Ot),{x:bt+Dt,y:wt+Ot}}function intersectCircle$1(nt,rt,it){return intersectEllipse$1(nt,rt,rt,it)}function intersectLine$1(nt,rt,it,st){var bt,wt,Et,Tt,At,Dt,Ot,zt,$t,Bt,Yt,Xt,Ht,Qt,Zt;if(bt=rt.y-nt.y,Et=nt.x-rt.x,At=rt.x*nt.y-nt.x*rt.y,$t=bt*it.x+Et*it.y+At,Bt=bt*st.x+Et*st.y+At,!($t!==0&&Bt!==0&&sameSign$1($t,Bt))&&(wt=st.y-it.y,Tt=it.x-st.x,Dt=st.x*it.y-it.x*st.y,Ot=wt*nt.x+Tt*nt.y+Dt,zt=wt*rt.x+Tt*rt.y+Dt,!(Ot!==0&&zt!==0&&sameSign$1(Ot,zt))&&(Yt=bt*Tt-wt*Et,Yt!==0)))return Xt=Math.abs(Yt/2),Ht=Et*Dt-Tt*At,Qt=Ht<0?(Ht-Xt)/Yt:(Ht+Xt)/Yt,Ht=wt*At-bt*Dt,Zt=Ht<0?(Ht-Xt)/Yt:(Ht+Xt)/Yt,{x:Qt,y:Zt}}function sameSign$1(nt,rt){return nt*rt>0}function intersectPolygon$1(nt,rt,it){var st=nt.x,bt=nt.y,wt=[],Et=Number.POSITIVE_INFINITY,Tt=Number.POSITIVE_INFINITY;rt.forEach(function(Yt){Et=Math.min(Et,Yt.x),Tt=Math.min(Tt,Yt.y)});for(var At=st-nt.width/2-Et,Dt=bt-nt.height/2-Tt,Ot=0;Ot<rt.length;Ot++){var zt=rt[Ot],$t=rt[Ot<rt.length-1?Ot+1:0],Bt=intersectLine$1(nt,it,{x:At+zt.x,y:Dt+zt.y},{x:At+$t.x,y:Dt+$t.y});Bt&&wt.push(Bt)}return wt.length?(wt.length>1&&wt.sort(function(Yt,Xt){var Ht=Yt.x-it.x,Qt=Yt.y-it.y,Zt=Math.sqrt(Ht*Ht+Qt*Qt),nn=Xt.x-it.x,Kt=Xt.y-it.y,ln=Math.sqrt(nn*nn+Kt*Kt);return Zt<ln?-1:Zt===ln?0:1}),wt[0]):(console.log("NO INTERSECTION FOUND, RETURN NODE CENTER",nt),nt)}function intersectRect$2(nt,rt){var it=nt.x,st=nt.y,bt=rt.x-it,wt=rt.y-st,Et=nt.width/2,Tt=nt.height/2,At,Dt;return Math.abs(wt)*Et>Math.abs(bt)*Tt?(wt<0&&(Tt=-Tt),At=wt===0?0:Tt*bt/wt,Dt=Tt):(bt<0&&(Et=-Et),At=Et,Dt=bt===0?0:Et*wt/bt),{x:it+At,y:st+Dt}}var shapes$2={rect:rect$2,ellipse,circle:circle$2,diamond};function setShapes(nt){shapes$2=nt}function rect$2(nt,rt,it){var st=nt.insert("rect",":first-child").attr("rx",it.rx).attr("ry",it.ry).attr("x",-rt.width/2).attr("y",-rt.height/2).attr("width",rt.width).attr("height",rt.height);return it.intersect=function(bt){return intersectRect$2(it,bt)},st}function ellipse(nt,rt,it){var st=rt.width/2,bt=rt.height/2,wt=nt.insert("ellipse",":first-child").attr("x",-rt.width/2).attr("y",-rt.height/2).attr("rx",st).attr("ry",bt);return it.intersect=function(Et){return intersectEllipse$1(it,st,bt,Et)},wt}function circle$2(nt,rt,it){var st=Math.max(rt.width,rt.height)/2,bt=nt.insert("circle",":first-child").attr("x",-rt.width/2).attr("y",-rt.height/2).attr("r",st);return it.intersect=function(wt){return intersectCircle$1(it,st,wt)},bt}function diamond(nt,rt,it){var st=rt.width*Math.SQRT2/2,bt=rt.height*Math.SQRT2/2,wt=[{x:0,y:-bt},{x:-st,y:0},{x:0,y:bt},{x:st,y:0}],Et=nt.insert("polygon",":first-child").attr("points",wt.map(function(Tt){return Tt.x+","+Tt.y}).join(" "));return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function render$2(){var nt=function(rt,it){preProcessGraph(it);var st=createOrSelectGroup(rt,"output"),bt=createOrSelectGroup(st,"clusters"),wt=createOrSelectGroup(st,"edgePaths"),Et=createEdgeLabels(createOrSelectGroup(st,"edgeLabels"),it),Tt=createNodes(createOrSelectGroup(st,"nodes"),it,shapes$2);layout(it),positionNodes(Tt,it),positionEdgeLabels(Et,it),createEdgePaths(wt,it,arrows);var At=createClusters(bt,it);positionClusters(At,it),postProcessGraph(it)};return nt.createNodes=function(rt){return arguments.length?(setCreateNodes(rt),nt):createNodes},nt.createClusters=function(rt){return arguments.length?(setCreateClusters(rt),nt):createClusters},nt.createEdgeLabels=function(rt){return arguments.length?(setCreateEdgeLabels(rt),nt):createEdgeLabels},nt.createEdgePaths=function(rt){return arguments.length?(setCreateEdgePaths(rt),nt):createEdgePaths},nt.shapes=function(rt){return arguments.length?(setShapes(rt),nt):shapes$2},nt.arrows=function(rt){return arguments.length?(setArrows(rt),nt):arrows},nt}var NODE_DEFAULT_ATTRS={paddingLeft:10,paddingRight:10,paddingTop:10,paddingBottom:10,rx:0,ry:0,shape:"rect"},EDGE_DEFAULT_ATTRS={arrowhead:"normal",curve:curveLinear};function preProcessGraph(nt){nt.nodes().forEach(function(rt){var it=nt.node(rt);!has(it,"label")&&!nt.children(rt).length&&(it.label=rt),has(it,"paddingX")&&defaults$1(it,{paddingLeft:it.paddingX,paddingRight:it.paddingX}),has(it,"paddingY")&&defaults$1(it,{paddingTop:it.paddingY,paddingBottom:it.paddingY}),has(it,"padding")&&defaults$1(it,{paddingLeft:it.padding,paddingRight:it.padding,paddingTop:it.padding,paddingBottom:it.padding}),defaults$1(it,NODE_DEFAULT_ATTRS),forEach(["paddingLeft","paddingRight","paddingTop","paddingBottom"],function(st){it[st]=Number(it[st])}),has(it,"width")&&(it._prevWidth=it.width),has(it,"height")&&(it._prevHeight=it.height)}),nt.edges().forEach(function(rt){var it=nt.edge(rt);has(it,"label")||(it.label=""),defaults$1(it,EDGE_DEFAULT_ATTRS)})}function postProcessGraph(nt){forEach(nt.nodes(),function(rt){var it=nt.node(rt);has(it,"_prevWidth")?it.width=it._prevWidth:delete it.width,has(it,"_prevHeight")?it.height=it._prevHeight:delete it.height,delete it._prevWidth,delete it._prevHeight})}function createOrSelectGroup(nt,rt){var it=nt.select("g."+rt);return it.empty()&&(it=nt.append("g").attr("class",rt)),it}var __defProp=Object.defineProperty,__defNormalProp=(nt,rt,it)=>rt in nt?__defProp(nt,rt,{enumerable:!0,configurable:!0,writable:!0,value:it}):nt[rt]=it,__publicField=(nt,rt,it)=>(__defNormalProp(nt,typeof rt!="symbol"?rt+"":rt,it),it);const LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5},log$1={trace:(...nt)=>{},debug:(...nt)=>{},info:(...nt)=>{},warn:(...nt)=>{},error:(...nt)=>{},fatal:(...nt)=>{}},setLogLevel$1=function(nt="fatal"){let rt=LEVELS.fatal;typeof nt=="string"?(nt=nt.toLowerCase(),nt in LEVELS&&(rt=LEVELS[nt])):typeof nt=="number"&&(rt=nt),log$1.trace=()=>{},log$1.debug=()=>{},log$1.info=()=>{},log$1.warn=()=>{},log$1.error=()=>{},log$1.fatal=()=>{},rt<=LEVELS.fatal&&(log$1.fatal=console.error?console.error.bind(console,format("FATAL"),"color: orange"):console.log.bind(console,"\x1B[35m",format("FATAL"))),rt<=LEVELS.error&&(log$1.error=console.error?console.error.bind(console,format("ERROR"),"color: orange"):console.log.bind(console,"\x1B[31m",format("ERROR"))),rt<=LEVELS.warn&&(log$1.warn=console.warn?console.warn.bind(console,format("WARN"),"color: orange"):console.log.bind(console,"\x1B[33m",format("WARN"))),rt<=LEVELS.info&&(log$1.info=console.info?console.info.bind(console,format("INFO"),"color: lightblue"):console.log.bind(console,"\x1B[34m",format("INFO"))),rt<=LEVELS.debug&&(log$1.debug=console.debug?console.debug.bind(console,format("DEBUG"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("DEBUG"))),rt<=LEVELS.trace&&(log$1.trace=console.debug?console.debug.bind(console,format("TRACE"),"color: lightgreen"):console.log.bind(console,"\x1B[32m",format("TRACE")))},format=nt=>`%c${moment().format("ss.SSS")} : ${nt} : `,getRows=nt=>nt?breakToPlaceholder(nt).replace(/\\n/g,"#br#").split("#br#"):[""],removeScript=nt=>purify.sanitize(nt),sanitizeMore=(nt,rt)=>{var it;if(((it=rt.flowchart)==null?void 0:it.htmlLabels)!==!1){const st=rt.securityLevel;st==="antiscript"||st==="strict"?nt=removeScript(nt):st!=="loose"&&(nt=breakToPlaceholder(nt),nt=nt.replace(/</g,"&lt;").replace(/>/g,"&gt;"),nt=nt.replace(/=/g,"&equals;"),nt=placeholderToBreak(nt))}return nt},sanitizeText$5=(nt,rt)=>nt&&(rt.dompurifyConfig?nt=purify.sanitize(sanitizeMore(nt,rt),rt.dompurifyConfig).toString():nt=purify.sanitize(sanitizeMore(nt,rt),{FORBID_TAGS:["style"]}).toString(),nt),sanitizeTextOrArray=(nt,rt)=>typeof nt=="string"?sanitizeText$5(nt,rt):nt.flat().map(it=>sanitizeText$5(it,rt)),lineBreakRegex=/<br\s*\/?>/gi,hasBreaks=nt=>lineBreakRegex.test(nt),splitBreaks=nt=>nt.split(lineBreakRegex),placeholderToBreak=nt=>nt.replace(/#br#/g,"<br/>"),breakToPlaceholder=nt=>nt.replace(lineBreakRegex,"#br#"),getUrl=nt=>{let rt="";return nt&&(rt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,rt=rt.replaceAll(/\(/g,"\\("),rt=rt.replaceAll(/\)/g,"\\)")),rt},evaluate=nt=>!(nt===!1||["false","null","0"].includes(String(nt).trim().toLowerCase())),parseGenericTypes=function(nt){let rt=nt;return nt.includes("~")?(rt=rt.replace(/~([^~].*)/,"<$1"),rt=rt.replace(/~([^~]*)$/,">$1"),parseGenericTypes(rt)):rt},common$1={getRows,sanitizeText:sanitizeText$5,sanitizeTextOrArray,hasBreaks,splitBreaks,lineBreakRegex,removeScript,getUrl,evaluate},mkBorder=(nt,rt)=>rt?adjust$2(nt,{s:-40,l:10}):adjust$2(nt,{s:-40,l:-10}),oldAttributeBackgroundColorOdd="#ffffff",oldAttributeBackgroundColorEven="#f2f2f2";class Theme$4{constructor(){this.background="#f4f4f4",this.darkMode=!1,this.primaryColor="#fff4dd",this.noteBkgColor="#fff5ad",this.noteTextColor="#333",this.THEME_COLOR_LIMIT=12,this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px"}updateColors(){if(this.primaryTextColor=this.primaryTextColor||(this.darkMode?"#eee":"#333"),this.secondaryColor=this.secondaryColor||adjust$2(this.primaryColor,{h:-120}),this.tertiaryColor=this.tertiaryColor||adjust$2(this.primaryColor,{h:180,l:5}),this.primaryBorderColor=this.primaryBorderColor||mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=this.secondaryBorderColor||mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=this.tertiaryBorderColor||mkBorder(this.tertiaryColor,this.darkMode),this.noteBorderColor=this.noteBorderColor||mkBorder(this.noteBkgColor,this.darkMode),this.noteBkgColor=this.noteBkgColor||"#fff5ad",this.noteTextColor=this.noteTextColor||"#333",this.secondaryTextColor=this.secondaryTextColor||invert$1(this.secondaryColor),this.tertiaryTextColor=this.tertiaryTextColor||invert$1(this.tertiaryColor),this.lineColor=this.lineColor||invert$1(this.background),this.textColor=this.textColor||this.primaryTextColor,this.nodeBkg=this.nodeBkg||this.primaryColor,this.mainBkg=this.mainBkg||this.primaryColor,this.nodeBorder=this.nodeBorder||this.primaryBorderColor,this.clusterBkg=this.clusterBkg||this.tertiaryColor,this.clusterBorder=this.clusterBorder||this.tertiaryBorderColor,this.defaultLinkColor=this.defaultLinkColor||this.lineColor,this.titleColor=this.titleColor||this.tertiaryTextColor,this.edgeLabelBackground=this.edgeLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.nodeTextColor=this.nodeTextColor||this.primaryTextColor,this.actorBorder=this.actorBorder||this.primaryBorderColor,this.actorBkg=this.actorBkg||this.mainBkg,this.actorTextColor=this.actorTextColor||this.primaryTextColor,this.actorLineColor=this.actorLineColor||"grey",this.labelBoxBkgColor=this.labelBoxBkgColor||this.actorBkg,this.signalColor=this.signalColor||this.textColor,this.signalTextColor=this.signalTextColor||this.textColor,this.labelBoxBorderColor=this.labelBoxBorderColor||this.actorBorder,this.labelTextColor=this.labelTextColor||this.actorTextColor,this.loopTextColor=this.loopTextColor||this.actorTextColor,this.activationBorderColor=this.activationBorderColor||darken$1(this.secondaryColor,10),this.activationBkgColor=this.activationBkgColor||this.secondaryColor,this.sequenceNumberColor=this.sequenceNumberColor||invert$1(this.lineColor),this.sectionBkgColor=this.sectionBkgColor||this.tertiaryColor,this.altSectionBkgColor=this.altSectionBkgColor||"white",this.sectionBkgColor=this.sectionBkgColor||this.secondaryColor,this.sectionBkgColor2=this.sectionBkgColor2||this.primaryColor,this.excludeBkgColor=this.excludeBkgColor||"#eeeeee",this.taskBorderColor=this.taskBorderColor||this.primaryBorderColor,this.taskBkgColor=this.taskBkgColor||this.primaryColor,this.activeTaskBorderColor=this.activeTaskBorderColor||this.primaryColor,this.activeTaskBkgColor=this.activeTaskBkgColor||lighten$1(this.primaryColor,23),this.gridColor=this.gridColor||"lightgrey",this.doneTaskBkgColor=this.doneTaskBkgColor||"lightgrey",this.doneTaskBorderColor=this.doneTaskBorderColor||"grey",this.critBorderColor=this.critBorderColor||"#ff8888",this.critBkgColor=this.critBkgColor||"red",this.todayLineColor=this.todayLineColor||"red",this.taskTextColor=this.taskTextColor||this.textColor,this.taskTextOutsideColor=this.taskTextOutsideColor||this.textColor,this.taskTextLightColor=this.taskTextLightColor||this.textColor,this.taskTextColor=this.taskTextColor||this.primaryTextColor,this.taskTextDarkColor=this.taskTextDarkColor||this.textColor,this.taskTextClickableColor=this.taskTextClickableColor||"#003163",this.personBorder=this.personBorder||this.primaryBorderColor,this.personBkg=this.personBkg||this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||this.tertiaryColor,this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.specialStateColor=this.lineColor,this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210,l:150}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this.darkMode)for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken$1(this["cScale"+rt],75);else for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken$1(this["cScale"+rt],25);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||invert$1(this["cScale"+rt]);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this.darkMode?this["cScalePeer"+rt]=this["cScalePeer"+rt]||lighten$1(this["cScale"+rt],10):this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken$1(this["cScale"+rt],10);this.scaleLabelColor=this.scaleLabelColor||this.labelTextColor;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;this.classText=this.classText||this.textColor,this.fillType0=this.fillType0||this.primaryColor,this.fillType1=this.fillType1||this.secondaryColor,this.fillType2=this.fillType2||adjust$2(this.primaryColor,{h:64}),this.fillType3=this.fillType3||adjust$2(this.secondaryColor,{h:64}),this.fillType4=this.fillType4||adjust$2(this.primaryColor,{h:-64}),this.fillType5=this.fillType5||adjust$2(this.secondaryColor,{h:-64}),this.fillType6=this.fillType6||adjust$2(this.primaryColor,{h:128}),this.fillType7=this.fillType7||adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-10}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-10}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-20}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-10}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||(this.darkMode?"black":this.labelTextColor),this.gitBranchLabel0=this.gitBranchLabel0||this.branchLabelColor,this.gitBranchLabel1=this.gitBranchLabel1||this.branchLabelColor,this.gitBranchLabel2=this.gitBranchLabel2||this.branchLabelColor,this.gitBranchLabel3=this.gitBranchLabel3||this.branchLabelColor,this.gitBranchLabel4=this.gitBranchLabel4||this.branchLabelColor,this.gitBranchLabel5=this.gitBranchLabel5||this.branchLabelColor,this.gitBranchLabel6=this.gitBranchLabel6||this.branchLabelColor,this.gitBranchLabel7=this.gitBranchLabel7||this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(st=>{this[st]=rt[st]}),this.updateColors(),it.forEach(st=>{this[st]=rt[st]})}}const getThemeVariables$4=nt=>{const rt=new Theme$4;return rt.calculate(nt),rt};class Theme$3{constructor(){this.background="#333",this.primaryColor="#1f2020",this.secondaryColor=lighten$1(this.primaryColor,16),this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=invert$1(this.background),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#1f2020",this.secondBkg="calculated",this.mainContrastColor="lightgrey",this.darkTextColor=lighten$1(invert$1("#323D47"),10),this.lineColor="calculated",this.border1="#81B1DB",this.border2=rgba$1(255,255,255,.25),this.arrowheadColor="calculated",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#181818",this.textColor="#ccc",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#F9FFFE",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="calculated",this.activationBkgColor="calculated",this.sequenceNumberColor="black",this.sectionBkgColor=darken$1("#EAE8D9",30),this.altSectionBkgColor="calculated",this.sectionBkgColor2="#EAE8D9",this.taskBorderColor=rgba$1(255,255,255,70),this.taskBkgColor="calculated",this.taskTextColor="calculated",this.taskTextLightColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor=rgba$1(255,255,255,50),this.activeTaskBkgColor="#81B1DB",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="grey",this.critBorderColor="#E83737",this.critBkgColor="#E83737",this.taskTextDarkColor="calculated",this.todayLineColor="#DB5757",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="calculated",this.errorBkgColor="#a44141",this.errorTextColor="#ddd"}updateColors(){this.secondBkg=lighten$1(this.mainBkg,16),this.lineColor=this.mainContrastColor,this.arrowheadColor=this.mainContrastColor,this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.edgeLabelBackground=lighten$1(this.labelBackground,25),this.actorBorder=this.border1,this.actorBkg=this.mainBkg,this.actorTextColor=this.mainContrastColor,this.actorLineColor=this.mainContrastColor,this.signalColor=this.mainContrastColor,this.signalTextColor=this.mainContrastColor,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.mainContrastColor,this.loopTextColor=this.mainContrastColor,this.noteBorderColor=this.secondaryBorderColor,this.noteBkgColor=this.secondBkg,this.noteTextColor=this.secondaryTextColor,this.activationBorderColor=this.border1,this.activationBkgColor=this.secondBkg,this.altSectionBkgColor=this.background,this.taskBkgColor=lighten$1(this.mainBkg,23),this.taskTextColor=this.darkTextColor,this.taskTextLightColor=this.mainContrastColor,this.taskTextOutsideColor=this.taskTextLightColor,this.gridColor=this.mainContrastColor,this.doneTaskBkgColor=this.mainContrastColor,this.taskTextDarkColor=this.darkTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#555",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#f4f4f4",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.cScale1=this.cScale1||"#0b0000",this.cScale2=this.cScale2||"#4d1037",this.cScale3=this.cScale3||"#3f5258",this.cScale4=this.cScale4||"#4f2f1b",this.cScale5=this.cScale5||"#6e0a0a",this.cScale6=this.cScale6||"#3b0048",this.cScale7=this.cScale7||"#995a01",this.cScale8=this.cScale8||"#154706",this.cScale9=this.cScale9||"#161722",this.cScale10=this.cScale10||"#00296f",this.cScale11=this.cScale11||"#01629c",this.cScale12=this.cScale12||"#010029",this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330});for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||invert$1(this["cScale"+rt]);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScalePeer"+rt]=this["cScalePeer"+rt]||lighten$1(this["cScale"+rt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["pie"+rt]=this["cScale"+rt];this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.classText=this.primaryTextColor,this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||(this.darkMode?darken$1(this.secondaryColor,30):this.secondaryColor),this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=lighten$1(this.secondaryColor,20),this.git1=lighten$1(this.pie2||this.secondaryColor,20),this.git2=lighten$1(this.pie3||this.tertiaryColor,20),this.git3=lighten$1(this.pie4||adjust$2(this.primaryColor,{h:-30}),20),this.git4=lighten$1(this.pie5||adjust$2(this.primaryColor,{h:-60}),20),this.git5=lighten$1(this.pie6||adjust$2(this.primaryColor,{h:-90}),10),this.git6=lighten$1(this.pie7||adjust$2(this.primaryColor,{h:60}),10),this.git7=lighten$1(this.pie8||adjust$2(this.primaryColor,{h:120}),20),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||lighten$1(this.background,12),this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||lighten$1(this.background,2)}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(st=>{this[st]=rt[st]}),this.updateColors(),it.forEach(st=>{this[st]=rt[st]})}}const getThemeVariables$3=nt=>{const rt=new Theme$3;return rt.calculate(nt),rt};class Theme$2{constructor(){this.background="#f4f4f4",this.primaryColor="#ECECFF",this.secondaryColor=adjust$2(this.primaryColor,{h:120}),this.secondaryColor="#ffffde",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.background="white",this.mainBkg="#ECECFF",this.secondBkg="#ffffde",this.lineColor="#333333",this.border1="#9370DB",this.border2="#aaaa33",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.labelBackground="#e8e8e8",this.textColor="#333",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="calculated",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="calculated",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="calculated",this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor="calculated",this.taskTextOutsideColor=this.taskTextDarkColor,this.taskTextClickableColor="calculated",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBorderColor="calculated",this.critBkgColor="calculated",this.todayLineColor="calculated",this.sectionBkgColor=rgba$1(102,102,255,.49),this.altSectionBkgColor="white",this.sectionBkgColor2="#fff400",this.taskBorderColor="#534fbc",this.taskBkgColor="#8a90dd",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="#534fbc",this.activeTaskBkgColor="#bfc7ff",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222",this.updateColors()}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken$1(this["cScale"+rt],10),this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken$1(this["cScale"+rt],25);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||adjust$2(this["cScale"+rt],{h:180});if(this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor,this.labelTextColor!=="calculated"){this.cScaleLabel0=this.cScaleLabel0||invert$1(this.labelTextColor),this.cScaleLabel3=this.cScaleLabel3||invert$1(this.labelTextColor);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.labelTextColor}this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.textColor,this.edgeLabelBackground=this.labelBackground,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.signalColor=this.textColor,this.signalTextColor=this.textColor,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.nodeBorder,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||adjust$2(this.tertiaryColor,{l:-40}),this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-10}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{l:-20}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-20}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-40}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:-40}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-40}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-90,l:-40}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-30}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.labelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||darken$1(invert$1(this.git0),25),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.gitBranchLabel0=this.gitBranchLabel0||invert$1(this.labelTextColor),this.gitBranchLabel1=this.gitBranchLabel1||this.labelTextColor,this.gitBranchLabel2=this.gitBranchLabel2||this.labelTextColor,this.gitBranchLabel3=this.gitBranchLabel3||invert$1(this.labelTextColor),this.gitBranchLabel4=this.gitBranchLabel4||this.labelTextColor,this.gitBranchLabel5=this.gitBranchLabel5||this.labelTextColor,this.gitBranchLabel6=this.gitBranchLabel6||this.labelTextColor,this.gitBranchLabel7=this.gitBranchLabel7||this.labelTextColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(st=>{this[st]=rt[st]}),this.updateColors(),it.forEach(st=>{this[st]=rt[st]})}}const getThemeVariables$2=nt=>{const rt=new Theme$2;return rt.calculate(nt),rt};class Theme$1{constructor(){this.background="#f4f4f4",this.primaryColor="#cde498",this.secondaryColor="#cdffb2",this.background="white",this.mainBkg="#cde498",this.secondBkg="#cdffb2",this.lineColor="green",this.border1="#13540c",this.border2="#6eaa49",this.arrowheadColor="green",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.tertiaryColor=lighten$1("#cde498",10),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.primaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="#333",this.edgeLabelBackground="#e8e8e8",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="black",this.actorLineColor="grey",this.signalColor="#333",this.signalTextColor="#333",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="#326932",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="#fff5ad",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="#6eaa49",this.altSectionBkgColor="white",this.sectionBkgColor2="#6eaa49",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="#487e3a",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="black",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="lightgrey",this.doneTaskBkgColor="lightgrey",this.doneTaskBorderColor="grey",this.critBorderColor="#ff8888",this.critBkgColor="red",this.todayLineColor="red",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.cScale0=this.cScale0||this.primaryColor,this.cScale1=this.cScale1||this.secondaryColor,this.cScale2=this.cScale2||this.tertiaryColor,this.cScale3=this.cScale3||adjust$2(this.primaryColor,{h:30}),this.cScale4=this.cScale4||adjust$2(this.primaryColor,{h:60}),this.cScale5=this.cScale5||adjust$2(this.primaryColor,{h:90}),this.cScale6=this.cScale6||adjust$2(this.primaryColor,{h:120}),this.cScale7=this.cScale7||adjust$2(this.primaryColor,{h:150}),this.cScale8=this.cScale8||adjust$2(this.primaryColor,{h:210}),this.cScale9=this.cScale9||adjust$2(this.primaryColor,{h:270}),this.cScale10=this.cScale10||adjust$2(this.primaryColor,{h:300}),this.cScale11=this.cScale11||adjust$2(this.primaryColor,{h:330}),this["cScalePeer"+1]=this["cScalePeer"+1]||darken$1(this.secondaryColor,45),this["cScalePeer"+2]=this["cScalePeer"+2]||darken$1(this.tertiaryColor,40);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScale"+rt]=darken$1(this["cScale"+rt],10),this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken$1(this["cScale"+rt],25);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||adjust$2(this["cScale"+rt],{h:180});this.scaleLabelColor=this.scaleLabelColor!=="calculated"&&this.scaleLabelColor?this.scaleLabelColor:this.labelTextColor;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.actorBorder=darken$1(this.mainBkg,20),this.actorBkg=this.mainBkg,this.labelBoxBkgColor=this.actorBkg,this.labelTextColor=this.actorTextColor,this.loopTextColor=this.actorTextColor,this.noteBorderColor=this.border2,this.noteTextColor=this.actorTextColor,this.taskBorderColor=this.border1,this.taskTextColor=this.taskTextLightColor,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.transitionColor=this.transitionColor||this.lineColor,this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f0f0f0",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.compositeBorder=this.compositeBorder||this.nodeBorder,this.innerEndBackground=this.primaryBorderColor,this.specialStateColor=this.lineColor,this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.transitionColor=this.transitionColor||this.lineColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128}),this.pie1=this.pie1||this.primaryColor,this.pie2=this.pie2||this.secondaryColor,this.pie3=this.pie3||this.tertiaryColor,this.pie4=this.pie4||adjust$2(this.primaryColor,{l:-30}),this.pie5=this.pie5||adjust$2(this.secondaryColor,{l:-30}),this.pie6=this.pie6||adjust$2(this.tertiaryColor,{h:40,l:-40}),this.pie7=this.pie7||adjust$2(this.primaryColor,{h:60,l:-10}),this.pie8=this.pie8||adjust$2(this.primaryColor,{h:-60,l:-10}),this.pie9=this.pie9||adjust$2(this.primaryColor,{h:120,l:0}),this.pie10=this.pie10||adjust$2(this.primaryColor,{h:60,l:-50}),this.pie11=this.pie11||adjust$2(this.primaryColor,{h:-60,l:-50}),this.pie12=this.pie12||adjust$2(this.primaryColor,{h:120,l:-50}),this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=this.git0||this.primaryColor,this.git1=this.git1||this.secondaryColor,this.git2=this.git2||this.tertiaryColor,this.git3=this.git3||adjust$2(this.primaryColor,{h:-30}),this.git4=this.git4||adjust$2(this.primaryColor,{h:-60}),this.git5=this.git5||adjust$2(this.primaryColor,{h:-90}),this.git6=this.git6||adjust$2(this.primaryColor,{h:60}),this.git7=this.git7||adjust$2(this.primaryColor,{h:120}),this.darkMode?(this.git0=lighten$1(this.git0,25),this.git1=lighten$1(this.git1,25),this.git2=lighten$1(this.git2,25),this.git3=lighten$1(this.git3,25),this.git4=lighten$1(this.git4,25),this.git5=lighten$1(this.git5,25),this.git6=lighten$1(this.git6,25),this.git7=lighten$1(this.git7,25)):(this.git0=darken$1(this.git0,25),this.git1=darken$1(this.git1,25),this.git2=darken$1(this.git2,25),this.git3=darken$1(this.git3,25),this.git4=darken$1(this.git4,25),this.git5=darken$1(this.git5,25),this.git6=darken$1(this.git6,25),this.git7=darken$1(this.git7,25)),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(st=>{this[st]=rt[st]}),this.updateColors(),it.forEach(st=>{this[st]=rt[st]})}}const getThemeVariables$1=nt=>{const rt=new Theme$1;return rt.calculate(nt),rt};class Theme{constructor(){this.primaryColor="#eee",this.contrast="#707070",this.secondaryColor=lighten$1(this.contrast,55),this.background="#ffffff",this.tertiaryColor=adjust$2(this.primaryColor,{h:-160}),this.primaryBorderColor=mkBorder(this.primaryColor,this.darkMode),this.secondaryBorderColor=mkBorder(this.secondaryColor,this.darkMode),this.tertiaryBorderColor=mkBorder(this.tertiaryColor,this.darkMode),this.primaryTextColor=invert$1(this.primaryColor),this.secondaryTextColor=invert$1(this.secondaryColor),this.tertiaryTextColor=invert$1(this.tertiaryColor),this.lineColor=invert$1(this.background),this.textColor=invert$1(this.background),this.mainBkg="#eee",this.secondBkg="calculated",this.lineColor="#666",this.border1="#999",this.border2="calculated",this.note="#ffa",this.text="#333",this.critical="#d42",this.done="#bbb",this.arrowheadColor="#333333",this.fontFamily='"trebuchet ms", verdana, arial, sans-serif',this.fontSize="16px",this.THEME_COLOR_LIMIT=12,this.nodeBkg="calculated",this.nodeBorder="calculated",this.clusterBkg="calculated",this.clusterBorder="calculated",this.defaultLinkColor="calculated",this.titleColor="calculated",this.edgeLabelBackground="white",this.actorBorder="calculated",this.actorBkg="calculated",this.actorTextColor="calculated",this.actorLineColor="calculated",this.signalColor="calculated",this.signalTextColor="calculated",this.labelBoxBkgColor="calculated",this.labelBoxBorderColor="calculated",this.labelTextColor="calculated",this.loopTextColor="calculated",this.noteBorderColor="calculated",this.noteBkgColor="calculated",this.noteTextColor="calculated",this.activationBorderColor="#666",this.activationBkgColor="#f4f4f4",this.sequenceNumberColor="white",this.sectionBkgColor="calculated",this.altSectionBkgColor="white",this.sectionBkgColor2="calculated",this.excludeBkgColor="#eeeeee",this.taskBorderColor="calculated",this.taskBkgColor="calculated",this.taskTextLightColor="white",this.taskTextColor="calculated",this.taskTextDarkColor="calculated",this.taskTextOutsideColor="calculated",this.taskTextClickableColor="#003163",this.activeTaskBorderColor="calculated",this.activeTaskBkgColor="calculated",this.gridColor="calculated",this.doneTaskBkgColor="calculated",this.doneTaskBorderColor="calculated",this.critBkgColor="calculated",this.critBorderColor="calculated",this.todayLineColor="calculated",this.personBorder="calculated",this.personBkg="calculated",this.labelColor="black",this.errorBkgColor="#552222",this.errorTextColor="#552222"}updateColors(){this.secondBkg=lighten$1(this.contrast,55),this.border2=this.contrast,this.cScale0=this.cScale0||"#555",this.cScale1=this.cScale1||"#F4F4F4",this.cScale2=this.cScale2||"#555",this.cScale3=this.cScale3||"#BBB",this.cScale4=this.cScale4||"#777",this.cScale5=this.cScale5||"#999",this.cScale6=this.cScale6||"#DDD",this.cScale7=this.cScale7||"#FFF",this.cScale8=this.cScale8||"#DDD",this.cScale9=this.cScale9||"#BBB",this.cScale10=this.cScale10||"#999",this.cScale11=this.cScale11||"#777";for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleInv"+rt]=this["cScaleInv"+rt]||invert$1(this["cScale"+rt]);for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this.darkMode?this["cScalePeer"+rt]=this["cScalePeer"+rt]||lighten$1(this["cScale"+rt],10):this["cScalePeer"+rt]=this["cScalePeer"+rt]||darken$1(this["cScale"+rt],10);this.scaleLabelColor=this.scaleLabelColor||(this.darkMode?"black":this.labelTextColor),this.cScaleLabel0=this.cScaleLabel0||this.cScale1,this.cScaleLabel2=this.cScaleLabel2||this.cScale1;for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["cScaleLabel"+rt]=this["cScaleLabel"+rt]||this.scaleLabelColor;this.nodeBkg=this.mainBkg,this.nodeBorder=this.border1,this.clusterBkg=this.secondBkg,this.clusterBorder=this.border2,this.defaultLinkColor=this.lineColor,this.titleColor=this.text,this.actorBorder=lighten$1(this.border1,23),this.actorBkg=this.mainBkg,this.actorTextColor=this.text,this.actorLineColor=this.lineColor,this.signalColor=this.text,this.signalTextColor=this.text,this.labelBoxBkgColor=this.actorBkg,this.labelBoxBorderColor=this.actorBorder,this.labelTextColor=this.text,this.loopTextColor=this.text,this.noteBorderColor="#999",this.noteBkgColor="#666",this.noteTextColor="#fff",this.sectionBkgColor=lighten$1(this.contrast,30),this.sectionBkgColor2=lighten$1(this.contrast,30),this.taskBorderColor=darken$1(this.contrast,10),this.taskBkgColor=this.contrast,this.taskTextColor=this.taskTextLightColor,this.taskTextDarkColor=this.text,this.taskTextOutsideColor=this.taskTextDarkColor,this.activeTaskBorderColor=this.taskBorderColor,this.activeTaskBkgColor=this.mainBkg,this.gridColor=lighten$1(this.border1,30),this.doneTaskBkgColor=this.done,this.doneTaskBorderColor=this.lineColor,this.critBkgColor=this.critical,this.critBorderColor=darken$1(this.critBkgColor,10),this.todayLineColor=this.critBkgColor,this.transitionColor=this.transitionColor||"#000",this.transitionLabelColor=this.transitionLabelColor||this.textColor,this.stateLabelColor=this.stateLabelColor||this.stateBkg||this.primaryTextColor,this.stateBkg=this.stateBkg||this.mainBkg,this.labelBackgroundColor=this.labelBackgroundColor||this.stateBkg,this.compositeBackground=this.compositeBackground||this.background||this.tertiaryColor,this.altBackground=this.altBackground||"#f4f4f4",this.compositeTitleBackground=this.compositeTitleBackground||this.mainBkg,this.stateBorder=this.stateBorder||"#000",this.innerEndBackground=this.primaryBorderColor,this.specialStateColor="#222",this.errorBkgColor=this.errorBkgColor||this.tertiaryColor,this.errorTextColor=this.errorTextColor||this.tertiaryTextColor,this.classText=this.primaryTextColor,this.fillType0=this.primaryColor,this.fillType1=this.secondaryColor,this.fillType2=adjust$2(this.primaryColor,{h:64}),this.fillType3=adjust$2(this.secondaryColor,{h:64}),this.fillType4=adjust$2(this.primaryColor,{h:-64}),this.fillType5=adjust$2(this.secondaryColor,{h:-64}),this.fillType6=adjust$2(this.primaryColor,{h:128}),this.fillType7=adjust$2(this.secondaryColor,{h:128});for(let rt=0;rt<this.THEME_COLOR_LIMIT;rt++)this["pie"+rt]=this["cScale"+rt];this.pie12=this.pie0,this.pieTitleTextSize=this.pieTitleTextSize||"25px",this.pieTitleTextColor=this.pieTitleTextColor||this.taskTextDarkColor,this.pieSectionTextSize=this.pieSectionTextSize||"17px",this.pieSectionTextColor=this.pieSectionTextColor||this.textColor,this.pieLegendTextSize=this.pieLegendTextSize||"17px",this.pieLegendTextColor=this.pieLegendTextColor||this.taskTextDarkColor,this.pieStrokeColor=this.pieStrokeColor||"black",this.pieStrokeWidth=this.pieStrokeWidth||"2px",this.pieOpacity=this.pieOpacity||"0.7",this.requirementBackground=this.requirementBackground||this.primaryColor,this.requirementBorderColor=this.requirementBorderColor||this.primaryBorderColor,this.requirementBorderSize=this.requirementBorderSize||this.primaryBorderColor,this.requirementTextColor=this.requirementTextColor||this.primaryTextColor,this.relationColor=this.relationColor||this.lineColor,this.relationLabelBackground=this.relationLabelBackground||this.edgeLabelBackground,this.relationLabelColor=this.relationLabelColor||this.actorTextColor,this.git0=darken$1(this.pie1,25)||this.primaryColor,this.git1=this.pie2||this.secondaryColor,this.git2=this.pie3||this.tertiaryColor,this.git3=this.pie4||adjust$2(this.primaryColor,{h:-30}),this.git4=this.pie5||adjust$2(this.primaryColor,{h:-60}),this.git5=this.pie6||adjust$2(this.primaryColor,{h:-90}),this.git6=this.pie7||adjust$2(this.primaryColor,{h:60}),this.git7=this.pie8||adjust$2(this.primaryColor,{h:120}),this.gitInv0=this.gitInv0||invert$1(this.git0),this.gitInv1=this.gitInv1||invert$1(this.git1),this.gitInv2=this.gitInv2||invert$1(this.git2),this.gitInv3=this.gitInv3||invert$1(this.git3),this.gitInv4=this.gitInv4||invert$1(this.git4),this.gitInv5=this.gitInv5||invert$1(this.git5),this.gitInv6=this.gitInv6||invert$1(this.git6),this.gitInv7=this.gitInv7||invert$1(this.git7),this.branchLabelColor=this.branchLabelColor||this.labelTextColor,this.gitBranchLabel0=this.branchLabelColor,this.gitBranchLabel1="white",this.gitBranchLabel2=this.branchLabelColor,this.gitBranchLabel3="white",this.gitBranchLabel4=this.branchLabelColor,this.gitBranchLabel5=this.branchLabelColor,this.gitBranchLabel6=this.branchLabelColor,this.gitBranchLabel7=this.branchLabelColor,this.tagLabelColor=this.tagLabelColor||this.primaryTextColor,this.tagLabelBackground=this.tagLabelBackground||this.primaryColor,this.tagLabelBorder=this.tagBorder||this.primaryBorderColor,this.tagLabelFontSize=this.tagLabelFontSize||"10px",this.commitLabelColor=this.commitLabelColor||this.secondaryTextColor,this.commitLabelBackground=this.commitLabelBackground||this.secondaryColor,this.commitLabelFontSize=this.commitLabelFontSize||"10px",this.attributeBackgroundColorOdd=this.attributeBackgroundColorOdd||oldAttributeBackgroundColorOdd,this.attributeBackgroundColorEven=this.attributeBackgroundColorEven||oldAttributeBackgroundColorEven}calculate(rt){if(typeof rt!="object"){this.updateColors();return}const it=Object.keys(rt);it.forEach(st=>{this[st]=rt[st]}),this.updateColors(),it.forEach(st=>{this[st]=rt[st]})}}const getThemeVariables=nt=>{const rt=new Theme;return rt.calculate(nt),rt},theme={base:{getThemeVariables:getThemeVariables$4},dark:{getThemeVariables:getThemeVariables$3},default:{getThemeVariables:getThemeVariables$2},forest:{getThemeVariables:getThemeVariables$1},neutral:{getThemeVariables}},config$1={theme:"default",themeVariables:theme.default.getThemeVariables(),themeCSS:void 0,maxTextSize:5e4,darkMode:!1,fontFamily:'"trebuchet ms", verdana, arial, sans-serif;',logLevel:5,securityLevel:"strict",startOnLoad:!0,arrowMarkerAbsolute:!1,secure:["secure","securityLevel","startOnLoad","maxTextSize"],deterministicIds:!1,deterministicIDSeed:void 0,flowchart:{titleTopMargin:25,diagramPadding:8,htmlLabels:!0,nodeSpacing:50,rankSpacing:50,curve:"basis",padding:15,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},sequence:{hideUnusedParticipants:!1,activationWidth:10,diagramMarginX:50,diagramMarginY:10,actorMargin:50,width:150,height:65,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",mirrorActors:!0,forceMenus:!1,bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,showSequenceNumbers:!1,actorFontSize:14,actorFontFamily:'"Open Sans", sans-serif',actorFontWeight:400,noteFontSize:14,noteFontFamily:'"trebuchet ms", verdana, arial, sans-serif',noteFontWeight:400,noteAlign:"center",messageFontSize:16,messageFontFamily:'"trebuchet ms", verdana, arial, sans-serif',messageFontWeight:400,wrap:!1,wrapPadding:10,labelBoxWidth:50,labelBoxHeight:20,messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},noteFont:function(){return{fontFamily:this.noteFontFamily,fontSize:this.noteFontSize,fontWeight:this.noteFontWeight}},actorFont:function(){return{fontFamily:this.actorFontFamily,fontSize:this.actorFontSize,fontWeight:this.actorFontWeight}}},gantt:{titleTopMargin:25,barHeight:20,barGap:4,topPadding:50,rightPadding:75,leftPadding:75,gridLineStartPadding:35,fontSize:11,sectionFontSize:11,numberSectionStyles:4,axisFormat:"%Y-%m-%d",tickInterval:void 0,useMaxWidth:!0,topAxis:!1,useWidth:void 0},journey:{diagramMarginX:50,diagramMarginY:10,leftMargin:150,width:150,height:50,boxMargin:10,boxTextMargin:5,noteMargin:10,messageMargin:35,messageAlign:"center",bottomMarginAdj:1,useMaxWidth:!0,rightAngles:!1,taskFontSize:14,taskFontFamily:'"Open Sans", sans-serif',taskMargin:50,activationWidth:10,textPlacement:"fo",actorColours:["#8FBC8F","#7CFC00","#00FFFF","#20B2AA","#B0E0E6","#FFFFE0"],sectionFills:["#191970","#8B008B","#4B0082","#2F4F4F","#800000","#8B4513","#00008B"],sectionColours:["#fff"]},class:{titleTopMargin:25,arrowMarkerAbsolute:!1,dividerMargin:10,padding:5,textHeight:10,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},state:{titleTopMargin:25,dividerMargin:10,sizeUnit:5,padding:8,textHeight:10,titleShift:-15,noteMargin:10,forkWidth:70,forkHeight:7,miniPadding:2,fontSizeFactor:5.02,fontSize:24,labelHeight:16,edgeLengthFactor:"20",compositTitleSize:35,radius:5,useMaxWidth:!0,defaultRenderer:"dagre-wrapper"},er:{titleTopMargin:25,diagramPadding:20,layoutDirection:"TB",minEntityWidth:100,minEntityHeight:75,entityPadding:15,stroke:"gray",fill:"honeydew",fontSize:12,useMaxWidth:!0},pie:{useWidth:void 0,useMaxWidth:!0},requirement:{useWidth:void 0,useMaxWidth:!0,rect_fill:"#f9f9f9",text_color:"#333",rect_border_size:"0.5px",rect_border_color:"#bbb",rect_min_width:200,rect_min_height:200,fontSize:14,rect_padding:10,line_height:20},gitGraph:{titleTopMargin:25,diagramPadding:8,nodeLabel:{width:75,height:100,x:-25,y:0},mainBranchName:"main",mainBranchOrder:0,showCommitLabel:!0,showBranches:!0,rotateCommitLabel:!0},c4:{useWidth:void 0,diagramMarginX:50,diagramMarginY:10,c4ShapeMargin:50,c4ShapePadding:20,width:216,height:60,boxMargin:10,useMaxWidth:!0,c4ShapeInRow:4,nextLinePaddingX:0,c4BoundaryInRow:2,personFontSize:14,personFontFamily:'"Open Sans", sans-serif',personFontWeight:"normal",external_personFontSize:14,external_personFontFamily:'"Open Sans", sans-serif',external_personFontWeight:"normal",systemFontSize:14,systemFontFamily:'"Open Sans", sans-serif',systemFontWeight:"normal",external_systemFontSize:14,external_systemFontFamily:'"Open Sans", sans-serif',external_systemFontWeight:"normal",system_dbFontSize:14,system_dbFontFamily:'"Open Sans", sans-serif',system_dbFontWeight:"normal",external_system_dbFontSize:14,external_system_dbFontFamily:'"Open Sans", sans-serif',external_system_dbFontWeight:"normal",system_queueFontSize:14,system_queueFontFamily:'"Open Sans", sans-serif',system_queueFontWeight:"normal",external_system_queueFontSize:14,external_system_queueFontFamily:'"Open Sans", sans-serif',external_system_queueFontWeight:"normal",boundaryFontSize:14,boundaryFontFamily:'"Open Sans", sans-serif',boundaryFontWeight:"normal",messageFontSize:12,messageFontFamily:'"Open Sans", sans-serif',messageFontWeight:"normal",containerFontSize:14,containerFontFamily:'"Open Sans", sans-serif',containerFontWeight:"normal",external_containerFontSize:14,external_containerFontFamily:'"Open Sans", sans-serif',external_containerFontWeight:"normal",container_dbFontSize:14,container_dbFontFamily:'"Open Sans", sans-serif',container_dbFontWeight:"normal",external_container_dbFontSize:14,external_container_dbFontFamily:'"Open Sans", sans-serif',external_container_dbFontWeight:"normal",container_queueFontSize:14,container_queueFontFamily:'"Open Sans", sans-serif',container_queueFontWeight:"normal",external_container_queueFontSize:14,external_container_queueFontFamily:'"Open Sans", sans-serif',external_container_queueFontWeight:"normal",componentFontSize:14,componentFontFamily:'"Open Sans", sans-serif',componentFontWeight:"normal",external_componentFontSize:14,external_componentFontFamily:'"Open Sans", sans-serif',external_componentFontWeight:"normal",component_dbFontSize:14,component_dbFontFamily:'"Open Sans", sans-serif',component_dbFontWeight:"normal",external_component_dbFontSize:14,external_component_dbFontFamily:'"Open Sans", sans-serif',external_component_dbFontWeight:"normal",component_queueFontSize:14,component_queueFontFamily:'"Open Sans", sans-serif',component_queueFontWeight:"normal",external_component_queueFontSize:14,external_component_queueFontFamily:'"Open Sans", sans-serif',external_component_queueFontWeight:"normal",wrap:!0,wrapPadding:10,personFont:function(){return{fontFamily:this.personFontFamily,fontSize:this.personFontSize,fontWeight:this.personFontWeight}},external_personFont:function(){return{fontFamily:this.external_personFontFamily,fontSize:this.external_personFontSize,fontWeight:this.external_personFontWeight}},systemFont:function(){return{fontFamily:this.systemFontFamily,fontSize:this.systemFontSize,fontWeight:this.systemFontWeight}},external_systemFont:function(){return{fontFamily:this.external_systemFontFamily,fontSize:this.external_systemFontSize,fontWeight:this.external_systemFontWeight}},system_dbFont:function(){return{fontFamily:this.system_dbFontFamily,fontSize:this.system_dbFontSize,fontWeight:this.system_dbFontWeight}},external_system_dbFont:function(){return{fontFamily:this.external_system_dbFontFamily,fontSize:this.external_system_dbFontSize,fontWeight:this.external_system_dbFontWeight}},system_queueFont:function(){return{fontFamily:this.system_queueFontFamily,fontSize:this.system_queueFontSize,fontWeight:this.system_queueFontWeight}},external_system_queueFont:function(){return{fontFamily:this.external_system_queueFontFamily,fontSize:this.external_system_queueFontSize,fontWeight:this.external_system_queueFontWeight}},containerFont:function(){return{fontFamily:this.containerFontFamily,fontSize:this.containerFontSize,fontWeight:this.containerFontWeight}},external_containerFont:function(){return{fontFamily:this.external_containerFontFamily,fontSize:this.external_containerFontSize,fontWeight:this.external_containerFontWeight}},container_dbFont:function(){return{fontFamily:this.container_dbFontFamily,fontSize:this.container_dbFontSize,fontWeight:this.container_dbFontWeight}},external_container_dbFont:function(){return{fontFamily:this.external_container_dbFontFamily,fontSize:this.external_container_dbFontSize,fontWeight:this.external_container_dbFontWeight}},container_queueFont:function(){return{fontFamily:this.container_queueFontFamily,fontSize:this.container_queueFontSize,fontWeight:this.container_queueFontWeight}},external_container_queueFont:function(){return{fontFamily:this.external_container_queueFontFamily,fontSize:this.external_container_queueFontSize,fontWeight:this.external_container_queueFontWeight}},componentFont:function(){return{fontFamily:this.componentFontFamily,fontSize:this.componentFontSize,fontWeight:this.componentFontWeight}},external_componentFont:function(){return{fontFamily:this.external_componentFontFamily,fontSize:this.external_componentFontSize,fontWeight:this.external_componentFontWeight}},component_dbFont:function(){return{fontFamily:this.component_dbFontFamily,fontSize:this.component_dbFontSize,fontWeight:this.component_dbFontWeight}},external_component_dbFont:function(){return{fontFamily:this.external_component_dbFontFamily,fontSize:this.external_component_dbFontSize,fontWeight:this.external_component_dbFontWeight}},component_queueFont:function(){return{fontFamily:this.component_queueFontFamily,fontSize:this.component_queueFontSize,fontWeight:this.component_queueFontWeight}},external_component_queueFont:function(){return{fontFamily:this.external_component_queueFontFamily,fontSize:this.external_component_queueFontSize,fontWeight:this.external_component_queueFontWeight}},boundaryFont:function(){return{fontFamily:this.boundaryFontFamily,fontSize:this.boundaryFontSize,fontWeight:this.boundaryFontWeight}},messageFont:function(){return{fontFamily:this.messageFontFamily,fontSize:this.messageFontSize,fontWeight:this.messageFontWeight}},person_bg_color:"#08427B",person_border_color:"#073B6F",external_person_bg_color:"#686868",external_person_border_color:"#8A8A8A",system_bg_color:"#1168BD",system_border_color:"#3C7FC0",system_db_bg_color:"#1168BD",system_db_border_color:"#3C7FC0",system_queue_bg_color:"#1168BD",system_queue_border_color:"#3C7FC0",external_system_bg_color:"#999999",external_system_border_color:"#8A8A8A",external_system_db_bg_color:"#999999",external_system_db_border_color:"#8A8A8A",external_system_queue_bg_color:"#999999",external_system_queue_border_color:"#8A8A8A",container_bg_color:"#438DD5",container_border_color:"#3C7FC0",container_db_bg_color:"#438DD5",container_db_border_color:"#3C7FC0",container_queue_bg_color:"#438DD5",container_queue_border_color:"#3C7FC0",external_container_bg_color:"#B3B3B3",external_container_border_color:"#A6A6A6",external_container_db_bg_color:"#B3B3B3",external_container_db_border_color:"#A6A6A6",external_container_queue_bg_color:"#B3B3B3",external_container_queue_border_color:"#A6A6A6",component_bg_color:"#85BBF0",component_border_color:"#78A8D8",component_db_bg_color:"#85BBF0",component_db_border_color:"#78A8D8",component_queue_bg_color:"#85BBF0",component_queue_border_color:"#78A8D8",external_component_bg_color:"#CCCCCC",external_component_border_color:"#BFBFBF",external_component_db_bg_color:"#CCCCCC",external_component_db_border_color:"#BFBFBF",external_component_queue_bg_color:"#CCCCCC",external_component_queue_border_color:"#BFBFBF"},mindmap:{useMaxWidth:!0,padding:10,maxNodeWidth:200},fontSize:16};config$1.class&&(config$1.class.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);config$1.gitGraph&&(config$1.gitGraph.arrowMarkerAbsolute=config$1.arrowMarkerAbsolute);const keyify=(nt,rt="")=>Object.keys(nt).reduce((it,st)=>Array.isArray(nt[st])?it:typeof nt[st]=="object"&&nt[st]!==null?[...it,rt+st,...keyify(nt[st],"")]:[...it,rt+st],[]),configKeys=keyify(config$1,""),config$2=config$1;/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function isNothing(nt){return typeof nt>"u"||nt===null}function isObject(nt){return typeof nt=="object"&&nt!==null}function toArray(nt){return Array.isArray(nt)?nt:isNothing(nt)?[]:[nt]}function extend(nt,rt){var it,st,bt,wt;if(rt)for(wt=Object.keys(rt),it=0,st=wt.length;it<st;it+=1)bt=wt[it],nt[bt]=rt[bt];return nt}function repeat(nt,rt){var it="",st;for(st=0;st<rt;st+=1)it+=nt;return it}function isNegativeZero(nt){return nt===0&&Number.NEGATIVE_INFINITY===1/nt}var isNothing_1=isNothing,isObject_1=isObject,toArray_1=toArray,repeat_1=repeat,isNegativeZero_1=isNegativeZero,extend_1=extend,common={isNothing:isNothing_1,isObject:isObject_1,toArray:toArray_1,repeat:repeat_1,isNegativeZero:isNegativeZero_1,extend:extend_1};function formatError(nt,rt){var it="",st=nt.reason||"(unknown reason)";return nt.mark?(nt.mark.name&&(it+='in "'+nt.mark.name+'" '),it+="("+(nt.mark.line+1)+":"+(nt.mark.column+1)+")",!rt&&nt.mark.snippet&&(it+=`

`+nt.mark.snippet),st+" "+it):st}function YAMLException$1(nt,rt){Error.call(this),this.name="YAMLException",this.reason=nt,this.mark=rt,this.message=formatError(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$1.prototype=Object.create(Error.prototype);YAMLException$1.prototype.constructor=YAMLException$1;YAMLException$1.prototype.toString=function nt(rt){return this.name+": "+formatError(this,rt)};var exception=YAMLException$1;function getLine(nt,rt,it,st,bt){var wt="",Et="",Tt=Math.floor(bt/2)-1;return st-rt>Tt&&(wt=" ... ",rt=st-Tt+wt.length),it-st>Tt&&(Et=" ...",it=st+Tt-Et.length),{str:wt+nt.slice(rt,it).replace(/\t/g,"\u2192")+Et,pos:st-rt+wt.length}}function padStart(nt,rt){return common.repeat(" ",rt-nt.length)+nt}function makeSnippet(nt,rt){if(rt=Object.create(rt||null),!nt.buffer)return null;rt.maxLength||(rt.maxLength=79),typeof rt.indent!="number"&&(rt.indent=1),typeof rt.linesBefore!="number"&&(rt.linesBefore=3),typeof rt.linesAfter!="number"&&(rt.linesAfter=2);for(var it=/\r?\n|\r|\0/g,st=[0],bt=[],wt,Et=-1;wt=it.exec(nt.buffer);)bt.push(wt.index),st.push(wt.index+wt[0].length),nt.position<=wt.index&&Et<0&&(Et=st.length-2);Et<0&&(Et=st.length-1);var Tt="",At,Dt,Ot=Math.min(nt.line+rt.linesAfter,bt.length).toString().length,zt=rt.maxLength-(rt.indent+Ot+3);for(At=1;At<=rt.linesBefore&&!(Et-At<0);At++)Dt=getLine(nt.buffer,st[Et-At],bt[Et-At],nt.position-(st[Et]-st[Et-At]),zt),Tt=common.repeat(" ",rt.indent)+padStart((nt.line-At+1).toString(),Ot)+" | "+Dt.str+`
`+Tt;for(Dt=getLine(nt.buffer,st[Et],bt[Et],nt.position,zt),Tt+=common.repeat(" ",rt.indent)+padStart((nt.line+1).toString(),Ot)+" | "+Dt.str+`
`,Tt+=common.repeat("-",rt.indent+Ot+3+Dt.pos)+`^
`,At=1;At<=rt.linesAfter&&!(Et+At>=bt.length);At++)Dt=getLine(nt.buffer,st[Et+At],bt[Et+At],nt.position-(st[Et]-st[Et+At]),zt),Tt+=common.repeat(" ",rt.indent)+padStart((nt.line+At+1).toString(),Ot)+" | "+Dt.str+`
`;return Tt.replace(/\n$/,"")}var snippet=makeSnippet,TYPE_CONSTRUCTOR_OPTIONS=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(nt){var rt={};return nt!==null&&Object.keys(nt).forEach(function(it){nt[it].forEach(function(st){rt[String(st)]=it})}),rt}function Type$1(nt,rt){if(rt=rt||{},Object.keys(rt).forEach(function(it){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(it)===-1)throw new exception('Unknown option "'+it+'" is met in definition of "'+nt+'" YAML type.')}),this.options=rt,this.tag=nt,this.kind=rt.kind||null,this.resolve=rt.resolve||function(){return!0},this.construct=rt.construct||function(it){return it},this.instanceOf=rt.instanceOf||null,this.predicate=rt.predicate||null,this.represent=rt.represent||null,this.representName=rt.representName||null,this.defaultStyle=rt.defaultStyle||null,this.multi=rt.multi||!1,this.styleAliases=compileStyleAliases(rt.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new exception('Unknown kind "'+this.kind+'" is specified for "'+nt+'" YAML type.')}var type=Type$1;function compileList(nt,rt){var it=[];return nt[rt].forEach(function(st){var bt=it.length;it.forEach(function(wt,Et){wt.tag===st.tag&&wt.kind===st.kind&&wt.multi===st.multi&&(bt=Et)}),it[bt]=st}),it}function compileMap(){var nt={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},rt,it;function st(bt){bt.multi?(nt.multi[bt.kind].push(bt),nt.multi.fallback.push(bt)):nt[bt.kind][bt.tag]=nt.fallback[bt.tag]=bt}for(rt=0,it=arguments.length;rt<it;rt+=1)arguments[rt].forEach(st);return nt}function Schema$1(nt){return this.extend(nt)}Schema$1.prototype.extend=function nt(rt){var it=[],st=[];if(rt instanceof type)st.push(rt);else if(Array.isArray(rt))st=st.concat(rt);else if(rt&&(Array.isArray(rt.implicit)||Array.isArray(rt.explicit)))rt.implicit&&(it=it.concat(rt.implicit)),rt.explicit&&(st=st.concat(rt.explicit));else throw new exception("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");it.forEach(function(wt){if(!(wt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(wt.loadKind&&wt.loadKind!=="scalar")throw new exception("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(wt.multi)throw new exception("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),st.forEach(function(wt){if(!(wt instanceof type))throw new exception("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var bt=Object.create(Schema$1.prototype);return bt.implicit=(this.implicit||[]).concat(it),bt.explicit=(this.explicit||[]).concat(st),bt.compiledImplicit=compileList(bt,"implicit"),bt.compiledExplicit=compileList(bt,"explicit"),bt.compiledTypeMap=compileMap(bt.compiledImplicit,bt.compiledExplicit),bt};var schema=Schema$1,str=new type("tag:yaml.org,2002:str",{kind:"scalar",construct:function(nt){return nt!==null?nt:""}}),seq$1=new type("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(nt){return nt!==null?nt:[]}}),map=new type("tag:yaml.org,2002:map",{kind:"mapping",construct:function(nt){return nt!==null?nt:{}}}),failsafe=new schema({explicit:[str,seq$1,map]});function resolveYamlNull(nt){if(nt===null)return!0;var rt=nt.length;return rt===1&&nt==="~"||rt===4&&(nt==="null"||nt==="Null"||nt==="NULL")}function constructYamlNull(){return null}function isNull(nt){return nt===null}var _null=new type("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function resolveYamlBoolean(nt){if(nt===null)return!1;var rt=nt.length;return rt===4&&(nt==="true"||nt==="True"||nt==="TRUE")||rt===5&&(nt==="false"||nt==="False"||nt==="FALSE")}function constructYamlBoolean(nt){return nt==="true"||nt==="True"||nt==="TRUE"}function isBoolean(nt){return Object.prototype.toString.call(nt)==="[object Boolean]"}var bool=new type("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(nt){return nt?"true":"false"},uppercase:function(nt){return nt?"TRUE":"FALSE"},camelcase:function(nt){return nt?"True":"False"}},defaultStyle:"lowercase"});function isHexCode(nt){return 48<=nt&&nt<=57||65<=nt&&nt<=70||97<=nt&&nt<=102}function isOctCode(nt){return 48<=nt&&nt<=55}function isDecCode(nt){return 48<=nt&&nt<=57}function resolveYamlInteger(nt){if(nt===null)return!1;var rt=nt.length,it=0,st=!1,bt;if(!rt)return!1;if(bt=nt[it],(bt==="-"||bt==="+")&&(bt=nt[++it]),bt==="0"){if(it+1===rt)return!0;if(bt=nt[++it],bt==="b"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(bt!=="0"&&bt!=="1")return!1;st=!0}return st&&bt!=="_"}if(bt==="x"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isHexCode(nt.charCodeAt(it)))return!1;st=!0}return st&&bt!=="_"}if(bt==="o"){for(it++;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isOctCode(nt.charCodeAt(it)))return!1;st=!0}return st&&bt!=="_"}}if(bt==="_")return!1;for(;it<rt;it++)if(bt=nt[it],bt!=="_"){if(!isDecCode(nt.charCodeAt(it)))return!1;st=!0}return!(!st||bt==="_")}function constructYamlInteger(nt){var rt=nt,it=1,st;if(rt.indexOf("_")!==-1&&(rt=rt.replace(/_/g,"")),st=rt[0],(st==="-"||st==="+")&&(st==="-"&&(it=-1),rt=rt.slice(1),st=rt[0]),rt==="0")return 0;if(st==="0"){if(rt[1]==="b")return it*parseInt(rt.slice(2),2);if(rt[1]==="x")return it*parseInt(rt.slice(2),16);if(rt[1]==="o")return it*parseInt(rt.slice(2),8)}return it*parseInt(rt,10)}function isInteger(nt){return Object.prototype.toString.call(nt)==="[object Number]"&&nt%1===0&&!common.isNegativeZero(nt)}var int=new type("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(nt){return nt>=0?"0b"+nt.toString(2):"-0b"+nt.toString(2).slice(1)},octal:function(nt){return nt>=0?"0o"+nt.toString(8):"-0o"+nt.toString(8).slice(1)},decimal:function(nt){return nt.toString(10)},hexadecimal:function(nt){return nt>=0?"0x"+nt.toString(16).toUpperCase():"-0x"+nt.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(nt){return!(nt===null||!YAML_FLOAT_PATTERN.test(nt)||nt[nt.length-1]==="_")}function constructYamlFloat(nt){var rt,it;return rt=nt.replace(/_/g,"").toLowerCase(),it=rt[0]==="-"?-1:1,"+-".indexOf(rt[0])>=0&&(rt=rt.slice(1)),rt===".inf"?it===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:rt===".nan"?NaN:it*parseFloat(rt,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(nt,rt){var it;if(isNaN(nt))switch(rt){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===nt)switch(rt){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===nt)switch(rt){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common.isNegativeZero(nt))return"-0.0";return it=nt.toString(10),SCIENTIFIC_WITHOUT_DOT.test(it)?it.replace("e",".e"):it}function isFloat(nt){return Object.prototype.toString.call(nt)==="[object Number]"&&(nt%1!==0||common.isNegativeZero(nt))}var float=new type("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),json=failsafe.extend({implicit:[_null,bool,int,float]}),core=json,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(nt){return nt===null?!1:YAML_DATE_REGEXP.exec(nt)!==null||YAML_TIMESTAMP_REGEXP.exec(nt)!==null}function constructYamlTimestamp(nt){var rt,it,st,bt,wt,Et,Tt,At=0,Dt=null,Ot,zt,$t;if(rt=YAML_DATE_REGEXP.exec(nt),rt===null&&(rt=YAML_TIMESTAMP_REGEXP.exec(nt)),rt===null)throw new Error("Date resolve error");if(it=+rt[1],st=+rt[2]-1,bt=+rt[3],!rt[4])return new Date(Date.UTC(it,st,bt));if(wt=+rt[4],Et=+rt[5],Tt=+rt[6],rt[7]){for(At=rt[7].slice(0,3);At.length<3;)At+="0";At=+At}return rt[9]&&(Ot=+rt[10],zt=+(rt[11]||0),Dt=(Ot*60+zt)*6e4,rt[9]==="-"&&(Dt=-Dt)),$t=new Date(Date.UTC(it,st,bt,wt,Et,Tt,At)),Dt&&$t.setTime($t.getTime()-Dt),$t}function representYamlTimestamp(nt){return nt.toISOString()}var timestamp=new type("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp});function resolveYamlMerge(nt){return nt==="<<"||nt===null}var merge$1=new type("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge}),BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(nt){if(nt===null)return!1;var rt,it,st=0,bt=nt.length,wt=BASE64_MAP;for(it=0;it<bt;it++)if(rt=wt.indexOf(nt.charAt(it)),!(rt>64)){if(rt<0)return!1;st+=6}return st%8===0}function constructYamlBinary(nt){var rt,it,st=nt.replace(/[\r\n=]/g,""),bt=st.length,wt=BASE64_MAP,Et=0,Tt=[];for(rt=0;rt<bt;rt++)rt%4===0&&rt&&(Tt.push(Et>>16&255),Tt.push(Et>>8&255),Tt.push(Et&255)),Et=Et<<6|wt.indexOf(st.charAt(rt));return it=bt%4*6,it===0?(Tt.push(Et>>16&255),Tt.push(Et>>8&255),Tt.push(Et&255)):it===18?(Tt.push(Et>>10&255),Tt.push(Et>>2&255)):it===12&&Tt.push(Et>>4&255),new Uint8Array(Tt)}function representYamlBinary(nt){var rt="",it=0,st,bt,wt=nt.length,Et=BASE64_MAP;for(st=0;st<wt;st++)st%3===0&&st&&(rt+=Et[it>>18&63],rt+=Et[it>>12&63],rt+=Et[it>>6&63],rt+=Et[it&63]),it=(it<<8)+nt[st];return bt=wt%3,bt===0?(rt+=Et[it>>18&63],rt+=Et[it>>12&63],rt+=Et[it>>6&63],rt+=Et[it&63]):bt===2?(rt+=Et[it>>10&63],rt+=Et[it>>4&63],rt+=Et[it<<2&63],rt+=Et[64]):bt===1&&(rt+=Et[it>>2&63],rt+=Et[it<<4&63],rt+=Et[64],rt+=Et[64]),rt}function isBinary(nt){return Object.prototype.toString.call(nt)==="[object Uint8Array]"}var binary=new type("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(nt){if(nt===null)return!0;var rt=[],it,st,bt,wt,Et,Tt=nt;for(it=0,st=Tt.length;it<st;it+=1){if(bt=Tt[it],Et=!1,_toString$2.call(bt)!=="[object Object]")return!1;for(wt in bt)if(_hasOwnProperty$3.call(bt,wt))if(!Et)Et=!0;else return!1;if(!Et)return!1;if(rt.indexOf(wt)===-1)rt.push(wt);else return!1}return!0}function constructYamlOmap(nt){return nt!==null?nt:[]}var omap=new type("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),_toString$1=Object.prototype.toString;function resolveYamlPairs(nt){if(nt===null)return!0;var rt,it,st,bt,wt,Et=nt;for(wt=new Array(Et.length),rt=0,it=Et.length;rt<it;rt+=1){if(st=Et[rt],_toString$1.call(st)!=="[object Object]"||(bt=Object.keys(st),bt.length!==1))return!1;wt[rt]=[bt[0],st[bt[0]]]}return!0}function constructYamlPairs(nt){if(nt===null)return[];var rt,it,st,bt,wt,Et=nt;for(wt=new Array(Et.length),rt=0,it=Et.length;rt<it;rt+=1)st=Et[rt],bt=Object.keys(st),wt[rt]=[bt[0],st[bt[0]]];return wt}var pairs=new type("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(nt){if(nt===null)return!0;var rt,it=nt;for(rt in it)if(_hasOwnProperty$2.call(it,rt)&&it[rt]!==null)return!1;return!0}function constructYamlSet(nt){return nt!==null?nt:{}}var set$1=new type("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),_default=core.extend({implicit:[timestamp,merge$1],explicit:[binary,omap,pairs,set$1]}),_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(nt){return Object.prototype.toString.call(nt)}function is_EOL(nt){return nt===10||nt===13}function is_WHITE_SPACE(nt){return nt===9||nt===32}function is_WS_OR_EOL(nt){return nt===9||nt===32||nt===10||nt===13}function is_FLOW_INDICATOR(nt){return nt===44||nt===91||nt===93||nt===123||nt===125}function fromHexCode(nt){var rt;return 48<=nt&&nt<=57?nt-48:(rt=nt|32,97<=rt&&rt<=102?rt-97+10:-1)}function escapedHexLen(nt){return nt===120?2:nt===117?4:nt===85?8:0}function fromDecimalCode(nt){return 48<=nt&&nt<=57?nt-48:-1}function simpleEscapeSequence(nt){return nt===48?"\0":nt===97?"\x07":nt===98?"\b":nt===116||nt===9?"	":nt===110?`
`:nt===118?"\v":nt===102?"\f":nt===114?"\r":nt===101?"\x1B":nt===32?" ":nt===34?'"':nt===47?"/":nt===92?"\\":nt===78?"\x85":nt===95?"\xA0":nt===76?"\u2028":nt===80?"\u2029":""}function charFromCodepoint(nt){return nt<=65535?String.fromCharCode(nt):String.fromCharCode((nt-65536>>10)+55296,(nt-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(nt,rt){this.input=nt,this.filename=rt.filename||null,this.schema=rt.schema||_default,this.onWarning=rt.onWarning||null,this.legacy=rt.legacy||!1,this.json=rt.json||!1,this.listener=rt.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=nt.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function generateError(nt,rt){var it={name:nt.filename,buffer:nt.input.slice(0,-1),position:nt.position,line:nt.line,column:nt.position-nt.lineStart};return it.snippet=snippet(it),new exception(rt,it)}function throwError(nt,rt){throw generateError(nt,rt)}function throwWarning(nt,rt){nt.onWarning&&nt.onWarning.call(null,generateError(nt,rt))}var directiveHandlers={YAML:function nt(rt,it,st){var bt,wt,Et;rt.version!==null&&throwError(rt,"duplication of %YAML directive"),st.length!==1&&throwError(rt,"YAML directive accepts exactly one argument"),bt=/^([0-9]+)\.([0-9]+)$/.exec(st[0]),bt===null&&throwError(rt,"ill-formed argument of the YAML directive"),wt=parseInt(bt[1],10),Et=parseInt(bt[2],10),wt!==1&&throwError(rt,"unacceptable YAML version of the document"),rt.version=st[0],rt.checkLineBreaks=Et<2,Et!==1&&Et!==2&&throwWarning(rt,"unsupported YAML version of the document")},TAG:function nt(rt,it,st){var bt,wt;st.length!==2&&throwError(rt,"TAG directive accepts exactly two arguments"),bt=st[0],wt=st[1],PATTERN_TAG_HANDLE.test(bt)||throwError(rt,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(rt.tagMap,bt)&&throwError(rt,'there is a previously declared suffix for "'+bt+'" tag handle'),PATTERN_TAG_URI.test(wt)||throwError(rt,"ill-formed tag prefix (second argument) of the TAG directive");try{wt=decodeURIComponent(wt)}catch{throwError(rt,"tag prefix is malformed: "+wt)}rt.tagMap[bt]=wt}};function captureSegment(nt,rt,it,st){var bt,wt,Et,Tt;if(rt<it){if(Tt=nt.input.slice(rt,it),st)for(bt=0,wt=Tt.length;bt<wt;bt+=1)Et=Tt.charCodeAt(bt),Et===9||32<=Et&&Et<=1114111||throwError(nt,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(Tt)&&throwError(nt,"the stream contains non-printable characters");nt.result+=Tt}}function mergeMappings(nt,rt,it,st){var bt,wt,Et,Tt;for(common.isObject(it)||throwError(nt,"cannot merge mappings; the provided source object is unacceptable"),bt=Object.keys(it),Et=0,Tt=bt.length;Et<Tt;Et+=1)wt=bt[Et],_hasOwnProperty$1.call(rt,wt)||(rt[wt]=it[wt],st[wt]=!0)}function storeMappingPair(nt,rt,it,st,bt,wt,Et,Tt,At){var Dt,Ot;if(Array.isArray(bt))for(bt=Array.prototype.slice.call(bt),Dt=0,Ot=bt.length;Dt<Ot;Dt+=1)Array.isArray(bt[Dt])&&throwError(nt,"nested arrays are not supported inside keys"),typeof bt=="object"&&_class(bt[Dt])==="[object Object]"&&(bt[Dt]="[object Object]");if(typeof bt=="object"&&_class(bt)==="[object Object]"&&(bt="[object Object]"),bt=String(bt),rt===null&&(rt={}),st==="tag:yaml.org,2002:merge")if(Array.isArray(wt))for(Dt=0,Ot=wt.length;Dt<Ot;Dt+=1)mergeMappings(nt,rt,wt[Dt],it);else mergeMappings(nt,rt,wt,it);else!nt.json&&!_hasOwnProperty$1.call(it,bt)&&_hasOwnProperty$1.call(rt,bt)&&(nt.line=Et||nt.line,nt.lineStart=Tt||nt.lineStart,nt.position=At||nt.position,throwError(nt,"duplicated mapping key")),bt==="__proto__"?Object.defineProperty(rt,bt,{configurable:!0,enumerable:!0,writable:!0,value:wt}):rt[bt]=wt,delete it[bt];return rt}function readLineBreak(nt){var rt;rt=nt.input.charCodeAt(nt.position),rt===10?nt.position++:rt===13?(nt.position++,nt.input.charCodeAt(nt.position)===10&&nt.position++):throwError(nt,"a line break is expected"),nt.line+=1,nt.lineStart=nt.position,nt.firstTabInLine=-1}function skipSeparationSpace(nt,rt,it){for(var st=0,bt=nt.input.charCodeAt(nt.position);bt!==0;){for(;is_WHITE_SPACE(bt);)bt===9&&nt.firstTabInLine===-1&&(nt.firstTabInLine=nt.position),bt=nt.input.charCodeAt(++nt.position);if(rt&&bt===35)do bt=nt.input.charCodeAt(++nt.position);while(bt!==10&&bt!==13&&bt!==0);if(is_EOL(bt))for(readLineBreak(nt),bt=nt.input.charCodeAt(nt.position),st++,nt.lineIndent=0;bt===32;)nt.lineIndent++,bt=nt.input.charCodeAt(++nt.position);else break}return it!==-1&&st!==0&&nt.lineIndent<it&&throwWarning(nt,"deficient indentation"),st}function testDocumentSeparator(nt){var rt=nt.position,it;return it=nt.input.charCodeAt(rt),!!((it===45||it===46)&&it===nt.input.charCodeAt(rt+1)&&it===nt.input.charCodeAt(rt+2)&&(rt+=3,it=nt.input.charCodeAt(rt),it===0||is_WS_OR_EOL(it)))}function writeFoldedLines(nt,rt){rt===1?nt.result+=" ":rt>1&&(nt.result+=common.repeat(`
`,rt-1))}function readPlainScalar(nt,rt,it){var st,bt,wt,Et,Tt,At,Dt,Ot,zt=nt.kind,$t=nt.result,Bt;if(Bt=nt.input.charCodeAt(nt.position),is_WS_OR_EOL(Bt)||is_FLOW_INDICATOR(Bt)||Bt===35||Bt===38||Bt===42||Bt===33||Bt===124||Bt===62||Bt===39||Bt===34||Bt===37||Bt===64||Bt===96||(Bt===63||Bt===45)&&(bt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL(bt)||it&&is_FLOW_INDICATOR(bt)))return!1;for(nt.kind="scalar",nt.result="",wt=Et=nt.position,Tt=!1;Bt!==0;){if(Bt===58){if(bt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL(bt)||it&&is_FLOW_INDICATOR(bt))break}else if(Bt===35){if(st=nt.input.charCodeAt(nt.position-1),is_WS_OR_EOL(st))break}else{if(nt.position===nt.lineStart&&testDocumentSeparator(nt)||it&&is_FLOW_INDICATOR(Bt))break;if(is_EOL(Bt))if(At=nt.line,Dt=nt.lineStart,Ot=nt.lineIndent,skipSeparationSpace(nt,!1,-1),nt.lineIndent>=rt){Tt=!0,Bt=nt.input.charCodeAt(nt.position);continue}else{nt.position=Et,nt.line=At,nt.lineStart=Dt,nt.lineIndent=Ot;break}}Tt&&(captureSegment(nt,wt,Et,!1),writeFoldedLines(nt,nt.line-At),wt=Et=nt.position,Tt=!1),is_WHITE_SPACE(Bt)||(Et=nt.position+1),Bt=nt.input.charCodeAt(++nt.position)}return captureSegment(nt,wt,Et,!1),nt.result?!0:(nt.kind=zt,nt.result=$t,!1)}function readSingleQuotedScalar(nt,rt){var it,st,bt;if(it=nt.input.charCodeAt(nt.position),it!==39)return!1;for(nt.kind="scalar",nt.result="",nt.position++,st=bt=nt.position;(it=nt.input.charCodeAt(nt.position))!==0;)if(it===39)if(captureSegment(nt,st,nt.position,!0),it=nt.input.charCodeAt(++nt.position),it===39)st=nt.position,nt.position++,bt=nt.position;else return!0;else is_EOL(it)?(captureSegment(nt,st,bt,!0),writeFoldedLines(nt,skipSeparationSpace(nt,!1,rt)),st=bt=nt.position):nt.position===nt.lineStart&&testDocumentSeparator(nt)?throwError(nt,"unexpected end of the document within a single quoted scalar"):(nt.position++,bt=nt.position);throwError(nt,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(nt,rt){var it,st,bt,wt,Et,Tt;if(Tt=nt.input.charCodeAt(nt.position),Tt!==34)return!1;for(nt.kind="scalar",nt.result="",nt.position++,it=st=nt.position;(Tt=nt.input.charCodeAt(nt.position))!==0;){if(Tt===34)return captureSegment(nt,it,nt.position,!0),nt.position++,!0;if(Tt===92){if(captureSegment(nt,it,nt.position,!0),Tt=nt.input.charCodeAt(++nt.position),is_EOL(Tt))skipSeparationSpace(nt,!1,rt);else if(Tt<256&&simpleEscapeCheck[Tt])nt.result+=simpleEscapeMap[Tt],nt.position++;else if((Et=escapedHexLen(Tt))>0){for(bt=Et,wt=0;bt>0;bt--)Tt=nt.input.charCodeAt(++nt.position),(Et=fromHexCode(Tt))>=0?wt=(wt<<4)+Et:throwError(nt,"expected hexadecimal character");nt.result+=charFromCodepoint(wt),nt.position++}else throwError(nt,"unknown escape sequence");it=st=nt.position}else is_EOL(Tt)?(captureSegment(nt,it,st,!0),writeFoldedLines(nt,skipSeparationSpace(nt,!1,rt)),it=st=nt.position):nt.position===nt.lineStart&&testDocumentSeparator(nt)?throwError(nt,"unexpected end of the document within a double quoted scalar"):(nt.position++,st=nt.position)}throwError(nt,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(nt,rt){var it=!0,st,bt,wt,Et=nt.tag,Tt,At=nt.anchor,Dt,Ot,zt,$t,Bt,Yt=Object.create(null),Xt,Ht,Qt,Zt;if(Zt=nt.input.charCodeAt(nt.position),Zt===91)Ot=93,Bt=!1,Tt=[];else if(Zt===123)Ot=125,Bt=!0,Tt={};else return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=Tt),Zt=nt.input.charCodeAt(++nt.position);Zt!==0;){if(skipSeparationSpace(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),Zt===Ot)return nt.position++,nt.tag=Et,nt.anchor=At,nt.kind=Bt?"mapping":"sequence",nt.result=Tt,!0;it?Zt===44&&throwError(nt,"expected the node content, but found ','"):throwError(nt,"missed comma between flow collection entries"),Ht=Xt=Qt=null,zt=$t=!1,Zt===63&&(Dt=nt.input.charCodeAt(nt.position+1),is_WS_OR_EOL(Dt)&&(zt=$t=!0,nt.position++,skipSeparationSpace(nt,!0,rt))),st=nt.line,bt=nt.lineStart,wt=nt.position,composeNode(nt,rt,CONTEXT_FLOW_IN,!1,!0),Ht=nt.tag,Xt=nt.result,skipSeparationSpace(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),($t||nt.line===st)&&Zt===58&&(zt=!0,Zt=nt.input.charCodeAt(++nt.position),skipSeparationSpace(nt,!0,rt),composeNode(nt,rt,CONTEXT_FLOW_IN,!1,!0),Qt=nt.result),Bt?storeMappingPair(nt,Tt,Yt,Ht,Xt,Qt,st,bt,wt):zt?Tt.push(storeMappingPair(nt,null,Yt,Ht,Xt,Qt,st,bt,wt)):Tt.push(Xt),skipSeparationSpace(nt,!0,rt),Zt=nt.input.charCodeAt(nt.position),Zt===44?(it=!0,Zt=nt.input.charCodeAt(++nt.position)):it=!1}throwError(nt,"unexpected end of the stream within a flow collection")}function readBlockScalar(nt,rt){var it,st,bt=CHOMPING_CLIP,wt=!1,Et=!1,Tt=rt,At=0,Dt=!1,Ot,zt;if(zt=nt.input.charCodeAt(nt.position),zt===124)st=!1;else if(zt===62)st=!0;else return!1;for(nt.kind="scalar",nt.result="";zt!==0;)if(zt=nt.input.charCodeAt(++nt.position),zt===43||zt===45)CHOMPING_CLIP===bt?bt=zt===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(nt,"repeat of a chomping mode identifier");else if((Ot=fromDecimalCode(zt))>=0)Ot===0?throwError(nt,"bad explicit indentation width of a block scalar; it cannot be less than one"):Et?throwError(nt,"repeat of an indentation width identifier"):(Tt=rt+Ot-1,Et=!0);else break;if(is_WHITE_SPACE(zt)){do zt=nt.input.charCodeAt(++nt.position);while(is_WHITE_SPACE(zt));if(zt===35)do zt=nt.input.charCodeAt(++nt.position);while(!is_EOL(zt)&&zt!==0)}for(;zt!==0;){for(readLineBreak(nt),nt.lineIndent=0,zt=nt.input.charCodeAt(nt.position);(!Et||nt.lineIndent<Tt)&&zt===32;)nt.lineIndent++,zt=nt.input.charCodeAt(++nt.position);if(!Et&&nt.lineIndent>Tt&&(Tt=nt.lineIndent),is_EOL(zt)){At++;continue}if(nt.lineIndent<Tt){bt===CHOMPING_KEEP?nt.result+=common.repeat(`
`,wt?1+At:At):bt===CHOMPING_CLIP&&wt&&(nt.result+=`
`);break}for(st?is_WHITE_SPACE(zt)?(Dt=!0,nt.result+=common.repeat(`
`,wt?1+At:At)):Dt?(Dt=!1,nt.result+=common.repeat(`
`,At+1)):At===0?wt&&(nt.result+=" "):nt.result+=common.repeat(`
`,At):nt.result+=common.repeat(`
`,wt?1+At:At),wt=!0,Et=!0,At=0,it=nt.position;!is_EOL(zt)&&zt!==0;)zt=nt.input.charCodeAt(++nt.position);captureSegment(nt,it,nt.position,!1)}return!0}function readBlockSequence(nt,rt){var it,st=nt.tag,bt=nt.anchor,wt=[],Et,Tt=!1,At;if(nt.firstTabInLine!==-1)return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=wt),At=nt.input.charCodeAt(nt.position);At!==0&&(nt.firstTabInLine!==-1&&(nt.position=nt.firstTabInLine,throwError(nt,"tab characters must not be used in indentation")),!(At!==45||(Et=nt.input.charCodeAt(nt.position+1),!is_WS_OR_EOL(Et))));){if(Tt=!0,nt.position++,skipSeparationSpace(nt,!0,-1)&&nt.lineIndent<=rt){wt.push(null),At=nt.input.charCodeAt(nt.position);continue}if(it=nt.line,composeNode(nt,rt,CONTEXT_BLOCK_IN,!1,!0),wt.push(nt.result),skipSeparationSpace(nt,!0,-1),At=nt.input.charCodeAt(nt.position),(nt.line===it||nt.lineIndent>rt)&&At!==0)throwError(nt,"bad indentation of a sequence entry");else if(nt.lineIndent<rt)break}return Tt?(nt.tag=st,nt.anchor=bt,nt.kind="sequence",nt.result=wt,!0):!1}function readBlockMapping(nt,rt,it){var st,bt,wt,Et,Tt,At,Dt=nt.tag,Ot=nt.anchor,zt={},$t=Object.create(null),Bt=null,Yt=null,Xt=null,Ht=!1,Qt=!1,Zt;if(nt.firstTabInLine!==-1)return!1;for(nt.anchor!==null&&(nt.anchorMap[nt.anchor]=zt),Zt=nt.input.charCodeAt(nt.position);Zt!==0;){if(!Ht&&nt.firstTabInLine!==-1&&(nt.position=nt.firstTabInLine,throwError(nt,"tab characters must not be used in indentation")),st=nt.input.charCodeAt(nt.position+1),wt=nt.line,(Zt===63||Zt===58)&&is_WS_OR_EOL(st))Zt===63?(Ht&&(storeMappingPair(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Bt=Yt=Xt=null),Qt=!0,Ht=!0,bt=!0):Ht?(Ht=!1,bt=!0):throwError(nt,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),nt.position+=1,Zt=st;else{if(Et=nt.line,Tt=nt.lineStart,At=nt.position,!composeNode(nt,it,CONTEXT_FLOW_OUT,!1,!0))break;if(nt.line===wt){for(Zt=nt.input.charCodeAt(nt.position);is_WHITE_SPACE(Zt);)Zt=nt.input.charCodeAt(++nt.position);if(Zt===58)Zt=nt.input.charCodeAt(++nt.position),is_WS_OR_EOL(Zt)||throwError(nt,"a whitespace character is expected after the key-value separator within a block mapping"),Ht&&(storeMappingPair(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Bt=Yt=Xt=null),Qt=!0,Ht=!1,bt=!1,Bt=nt.tag,Yt=nt.result;else if(Qt)throwError(nt,"can not read an implicit mapping pair; a colon is missed");else return nt.tag=Dt,nt.anchor=Ot,!0}else if(Qt)throwError(nt,"can not read a block mapping entry; a multiline key may not be an implicit key");else return nt.tag=Dt,nt.anchor=Ot,!0}if((nt.line===wt||nt.lineIndent>rt)&&(Ht&&(Et=nt.line,Tt=nt.lineStart,At=nt.position),composeNode(nt,rt,CONTEXT_BLOCK_OUT,!0,bt)&&(Ht?Yt=nt.result:Xt=nt.result),Ht||(storeMappingPair(nt,zt,$t,Bt,Yt,Xt,Et,Tt,At),Bt=Yt=Xt=null),skipSeparationSpace(nt,!0,-1),Zt=nt.input.charCodeAt(nt.position)),(nt.line===wt||nt.lineIndent>rt)&&Zt!==0)throwError(nt,"bad indentation of a mapping entry");else if(nt.lineIndent<rt)break}return Ht&&storeMappingPair(nt,zt,$t,Bt,Yt,null,Et,Tt,At),Qt&&(nt.tag=Dt,nt.anchor=Ot,nt.kind="mapping",nt.result=zt),Qt}function readTagProperty(nt){var rt,it=!1,st=!1,bt,wt,Et;if(Et=nt.input.charCodeAt(nt.position),Et!==33)return!1;if(nt.tag!==null&&throwError(nt,"duplication of a tag property"),Et=nt.input.charCodeAt(++nt.position),Et===60?(it=!0,Et=nt.input.charCodeAt(++nt.position)):Et===33?(st=!0,bt="!!",Et=nt.input.charCodeAt(++nt.position)):bt="!",rt=nt.position,it){do Et=nt.input.charCodeAt(++nt.position);while(Et!==0&&Et!==62);nt.position<nt.length?(wt=nt.input.slice(rt,nt.position),Et=nt.input.charCodeAt(++nt.position)):throwError(nt,"unexpected end of the stream within a verbatim tag")}else{for(;Et!==0&&!is_WS_OR_EOL(Et);)Et===33&&(st?throwError(nt,"tag suffix cannot contain exclamation marks"):(bt=nt.input.slice(rt-1,nt.position+1),PATTERN_TAG_HANDLE.test(bt)||throwError(nt,"named tag handle cannot contain such characters"),st=!0,rt=nt.position+1)),Et=nt.input.charCodeAt(++nt.position);wt=nt.input.slice(rt,nt.position),PATTERN_FLOW_INDICATORS.test(wt)&&throwError(nt,"tag suffix cannot contain flow indicator characters")}wt&&!PATTERN_TAG_URI.test(wt)&&throwError(nt,"tag name cannot contain such characters: "+wt);try{wt=decodeURIComponent(wt)}catch{throwError(nt,"tag name is malformed: "+wt)}return it?nt.tag=wt:_hasOwnProperty$1.call(nt.tagMap,bt)?nt.tag=nt.tagMap[bt]+wt:bt==="!"?nt.tag="!"+wt:bt==="!!"?nt.tag="tag:yaml.org,2002:"+wt:throwError(nt,'undeclared tag handle "'+bt+'"'),!0}function readAnchorProperty(nt){var rt,it;if(it=nt.input.charCodeAt(nt.position),it!==38)return!1;for(nt.anchor!==null&&throwError(nt,"duplication of an anchor property"),it=nt.input.charCodeAt(++nt.position),rt=nt.position;it!==0&&!is_WS_OR_EOL(it)&&!is_FLOW_INDICATOR(it);)it=nt.input.charCodeAt(++nt.position);return nt.position===rt&&throwError(nt,"name of an anchor node must contain at least one character"),nt.anchor=nt.input.slice(rt,nt.position),!0}function readAlias(nt){var rt,it,st;if(st=nt.input.charCodeAt(nt.position),st!==42)return!1;for(st=nt.input.charCodeAt(++nt.position),rt=nt.position;st!==0&&!is_WS_OR_EOL(st)&&!is_FLOW_INDICATOR(st);)st=nt.input.charCodeAt(++nt.position);return nt.position===rt&&throwError(nt,"name of an alias node must contain at least one character"),it=nt.input.slice(rt,nt.position),_hasOwnProperty$1.call(nt.anchorMap,it)||throwError(nt,'unidentified alias "'+it+'"'),nt.result=nt.anchorMap[it],skipSeparationSpace(nt,!0,-1),!0}function composeNode(nt,rt,it,st,bt){var wt,Et,Tt,At=1,Dt=!1,Ot=!1,zt,$t,Bt,Yt,Xt,Ht;if(nt.listener!==null&&nt.listener("open",nt),nt.tag=null,nt.anchor=null,nt.kind=null,nt.result=null,wt=Et=Tt=CONTEXT_BLOCK_OUT===it||CONTEXT_BLOCK_IN===it,st&&skipSeparationSpace(nt,!0,-1)&&(Dt=!0,nt.lineIndent>rt?At=1:nt.lineIndent===rt?At=0:nt.lineIndent<rt&&(At=-1)),At===1)for(;readTagProperty(nt)||readAnchorProperty(nt);)skipSeparationSpace(nt,!0,-1)?(Dt=!0,Tt=wt,nt.lineIndent>rt?At=1:nt.lineIndent===rt?At=0:nt.lineIndent<rt&&(At=-1)):Tt=!1;if(Tt&&(Tt=Dt||bt),(At===1||CONTEXT_BLOCK_OUT===it)&&(CONTEXT_FLOW_IN===it||CONTEXT_FLOW_OUT===it?Xt=rt:Xt=rt+1,Ht=nt.position-nt.lineStart,At===1?Tt&&(readBlockSequence(nt,Ht)||readBlockMapping(nt,Ht,Xt))||readFlowCollection(nt,Xt)?Ot=!0:(Et&&readBlockScalar(nt,Xt)||readSingleQuotedScalar(nt,Xt)||readDoubleQuotedScalar(nt,Xt)?Ot=!0:readAlias(nt)?(Ot=!0,(nt.tag!==null||nt.anchor!==null)&&throwError(nt,"alias node should not have any properties")):readPlainScalar(nt,Xt,CONTEXT_FLOW_IN===it)&&(Ot=!0,nt.tag===null&&(nt.tag="?")),nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result)):At===0&&(Ot=Tt&&readBlockSequence(nt,Ht))),nt.tag===null)nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result);else if(nt.tag==="?"){for(nt.result!==null&&nt.kind!=="scalar"&&throwError(nt,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+nt.kind+'"'),zt=0,$t=nt.implicitTypes.length;zt<$t;zt+=1)if(Yt=nt.implicitTypes[zt],Yt.resolve(nt.result)){nt.result=Yt.construct(nt.result),nt.tag=Yt.tag,nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result);break}}else if(nt.tag!=="!"){if(_hasOwnProperty$1.call(nt.typeMap[nt.kind||"fallback"],nt.tag))Yt=nt.typeMap[nt.kind||"fallback"][nt.tag];else for(Yt=null,Bt=nt.typeMap.multi[nt.kind||"fallback"],zt=0,$t=Bt.length;zt<$t;zt+=1)if(nt.tag.slice(0,Bt[zt].tag.length)===Bt[zt].tag){Yt=Bt[zt];break}Yt||throwError(nt,"unknown tag !<"+nt.tag+">"),nt.result!==null&&Yt.kind!==nt.kind&&throwError(nt,"unacceptable node kind for !<"+nt.tag+'> tag; it should be "'+Yt.kind+'", not "'+nt.kind+'"'),Yt.resolve(nt.result,nt.tag)?(nt.result=Yt.construct(nt.result,nt.tag),nt.anchor!==null&&(nt.anchorMap[nt.anchor]=nt.result)):throwError(nt,"cannot resolve a node with !<"+nt.tag+"> explicit tag")}return nt.listener!==null&&nt.listener("close",nt),nt.tag!==null||nt.anchor!==null||Ot}function readDocument(nt){var rt=nt.position,it,st,bt,wt=!1,Et;for(nt.version=null,nt.checkLineBreaks=nt.legacy,nt.tagMap=Object.create(null),nt.anchorMap=Object.create(null);(Et=nt.input.charCodeAt(nt.position))!==0&&(skipSeparationSpace(nt,!0,-1),Et=nt.input.charCodeAt(nt.position),!(nt.lineIndent>0||Et!==37));){for(wt=!0,Et=nt.input.charCodeAt(++nt.position),it=nt.position;Et!==0&&!is_WS_OR_EOL(Et);)Et=nt.input.charCodeAt(++nt.position);for(st=nt.input.slice(it,nt.position),bt=[],st.length<1&&throwError(nt,"directive name must not be less than one character in length");Et!==0;){for(;is_WHITE_SPACE(Et);)Et=nt.input.charCodeAt(++nt.position);if(Et===35){do Et=nt.input.charCodeAt(++nt.position);while(Et!==0&&!is_EOL(Et));break}if(is_EOL(Et))break;for(it=nt.position;Et!==0&&!is_WS_OR_EOL(Et);)Et=nt.input.charCodeAt(++nt.position);bt.push(nt.input.slice(it,nt.position))}Et!==0&&readLineBreak(nt),_hasOwnProperty$1.call(directiveHandlers,st)?directiveHandlers[st](nt,st,bt):throwWarning(nt,'unknown document directive "'+st+'"')}if(skipSeparationSpace(nt,!0,-1),nt.lineIndent===0&&nt.input.charCodeAt(nt.position)===45&&nt.input.charCodeAt(nt.position+1)===45&&nt.input.charCodeAt(nt.position+2)===45?(nt.position+=3,skipSeparationSpace(nt,!0,-1)):wt&&throwError(nt,"directives end mark is expected"),composeNode(nt,nt.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(nt,!0,-1),nt.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(nt.input.slice(rt,nt.position))&&throwWarning(nt,"non-ASCII line breaks are interpreted as content"),nt.documents.push(nt.result),nt.position===nt.lineStart&&testDocumentSeparator(nt)){nt.input.charCodeAt(nt.position)===46&&(nt.position+=3,skipSeparationSpace(nt,!0,-1));return}if(nt.position<nt.length-1)throwError(nt,"end of the stream or a document separator is expected");else return}function loadDocuments(nt,rt){nt=String(nt),rt=rt||{},nt.length!==0&&(nt.charCodeAt(nt.length-1)!==10&&nt.charCodeAt(nt.length-1)!==13&&(nt+=`
`),nt.charCodeAt(0)===65279&&(nt=nt.slice(1)));var it=new State$1(nt,rt),st=nt.indexOf("\0");for(st!==-1&&(it.position=st,throwError(it,"null byte is not allowed in input")),it.input+="\0";it.input.charCodeAt(it.position)===32;)it.lineIndent+=1,it.position+=1;for(;it.position<it.length-1;)readDocument(it);return it.documents}function loadAll$1(nt,rt,it){rt!==null&&typeof rt=="object"&&typeof it>"u"&&(it=rt,rt=null);var st=loadDocuments(nt,it);if(typeof rt!="function")return st;for(var bt=0,wt=st.length;bt<wt;bt+=1)rt(st[bt])}function load$1(nt,rt){var it=loadDocuments(nt,rt);if(it.length!==0){if(it.length===1)return it[0];throw new exception("expected a single document in the stream, but found more")}}var loadAll_1=loadAll$1,load_1=load$1,loader={loadAll:loadAll_1,load:load_1},FAILSAFE_SCHEMA=failsafe,load=loader.load;const frontMatterRegex=/^-{3}\s*[\n\r](.*?)[\n\r]-{3}\s*[\n\r]+/s;function extractFrontMatter(nt,rt){var it;const st=nt.match(frontMatterRegex);if(st){const bt=load(st[1],{schema:FAILSAFE_SCHEMA});return bt!=null&&bt.title&&((it=rt.setDiagramTitle)==null||it.call(rt,bt.title)),nt.slice(st[0].length)}else return nt}const directive$1=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,anyComment=/\s*%%.*\n/gm,detectors={},detectType=function(nt,rt){nt=nt.replace(frontMatterRegex,"").replace(directive$1,"").replace(anyComment,`
`);for(const[it,{detector:st}]of Object.entries(detectors))if(st(nt,rt))return it;throw new Error(`No diagram type detected for text: ${nt}`)},addDetector=(nt,rt,it)=>{if(detectors[nt])throw new Error(`Detector with key ${nt} already exists`);detectors[nt]={detector:rt,loader:it},log$1.debug(`Detector with key ${nt} added${it?" with loader":""}`)},getDiagramLoader=nt=>detectors[nt].loader,assignWithDepth=function(nt,rt,it){const{depth:st,clobber:bt}=Object.assign({depth:2,clobber:!1},it);return Array.isArray(rt)&&!Array.isArray(nt)?(rt.forEach(wt=>assignWithDepth(nt,wt,it)),nt):Array.isArray(rt)&&Array.isArray(nt)?(rt.forEach(wt=>{nt.includes(wt)||nt.push(wt)}),nt):nt===void 0||st<=0?nt!=null&&typeof nt=="object"&&typeof rt=="object"?Object.assign(nt,rt):rt:(rt!==void 0&&typeof nt=="object"&&typeof rt=="object"&&Object.keys(rt).forEach(wt=>{typeof rt[wt]=="object"&&(nt[wt]===void 0||typeof nt[wt]=="object")?(nt[wt]===void 0&&(nt[wt]=Array.isArray(rt[wt])?[]:{}),nt[wt]=assignWithDepth(nt[wt],rt[wt],{depth:st-1,clobber:bt})):(bt||typeof nt[wt]!="object"&&typeof rt[wt]!="object")&&(nt[wt]=rt[wt])}),nt)},assignWithDepth$1=assignWithDepth,d3CurveTypes={curveBasis,curveBasisClosed,curveBasisOpen,curveLinear,curveLinearClosed,curveMonotoneX:monotoneX,curveMonotoneY:monotoneY,curveNatural,curveStep,curveStepAfter:stepAfter,curveStepBefore:stepBefore},directive=/%{2}{\s*(?:(\w+)\s*:|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,directiveWithoutOpen=/\s*(?:(\w+)(?=:):|(\w+))\s*(?:(\w+)|((?:(?!}%{2}).|\r?\n)*))?\s*(?:}%{2})?/gi,detectInit=function(nt,rt){const it=detectDirective(nt,/(?:init\b)|(?:initialize\b)/);let st={};if(Array.isArray(it)){const bt=it.map(wt=>wt.args);directiveSanitizer(bt),st=assignWithDepth$1(st,[...bt])}else st=it.args;if(st){let bt=detectType(nt,rt);["config"].forEach(wt=>{st[wt]!==void 0&&(bt==="flowchart-v2"&&(bt="flowchart"),st[bt]=st[wt],delete st[wt])})}return st},detectDirective=function(nt,rt=null){try{const it=new RegExp(`[%]{2}(?![{]${directiveWithoutOpen.source})(?=[}][%]{2}).*
`,"ig");nt=nt.trim().replace(it,"").replace(/'/gm,'"'),log$1.debug(`Detecting diagram directive${rt!==null?" type:"+rt:""} based on the text:${nt}`);let st;const bt=[];for(;(st=directive.exec(nt))!==null;)if(st.index===directive.lastIndex&&directive.lastIndex++,st&&!rt||rt&&st[1]&&st[1].match(rt)||rt&&st[2]&&st[2].match(rt)){const wt=st[1]?st[1]:st[2],Et=st[3]?st[3].trim():st[4]?JSON.parse(st[4].trim()):null;bt.push({type:wt,args:Et})}return bt.length===0&&bt.push({type:nt,args:null}),bt.length===1?bt[0]:bt}catch(it){return log$1.error(`ERROR: ${it.message} - Unable to parse directive
      ${rt!==null?" type:"+rt:""} based on the text:${nt}`),{type:null,args:null}}},isSubstringInArray=function(nt,rt){for(const[it,st]of rt.entries())if(st.match(nt))return it;return-1};function interpolateToCurve(nt,rt){if(!nt)return rt;const it=`curve${nt.charAt(0).toUpperCase()+nt.slice(1)}`;return d3CurveTypes[it]||rt}function formatUrl(nt,rt){const it=nt.trim();if(it)return rt.securityLevel!=="loose"?sanitizeUrl_1(it):it}const runFunc=(nt,...rt)=>{const it=nt.split("."),st=it.length-1,bt=it[st];let wt=window;for(let Et=0;Et<st;Et++)if(wt=wt[it[Et]],!wt)return;wt[bt](...rt)};function distance(nt,rt){return nt&&rt?Math.sqrt(Math.pow(rt.x-nt.x,2)+Math.pow(rt.y-nt.y,2)):0}function traverseEdge(nt){let rt,it=0;nt.forEach(wt=>{it+=distance(wt,rt),rt=wt});let st=it/2,bt;return rt=void 0,nt.forEach(wt=>{if(rt&&!bt){const Et=distance(wt,rt);if(Et<st)st-=Et;else{const Tt=st/Et;Tt<=0&&(bt=rt),Tt>=1&&(bt={x:wt.x,y:wt.y}),Tt>0&&Tt<1&&(bt={x:(1-Tt)*rt.x+Tt*wt.x,y:(1-Tt)*rt.y+Tt*wt.y})}}rt=wt}),bt}function calcLabelPosition(nt){return nt.length===1?nt[0]:traverseEdge(nt)}const calcCardinalityPosition=(nt,rt,it)=>{let st;log$1.info(`our points ${JSON.stringify(rt)}`),rt[0]!==it&&(rt=rt.reverse());let wt=25,Et;st=void 0,rt.forEach(Ot=>{if(st&&!Et){const zt=distance(Ot,st);if(zt<wt)wt-=zt;else{const $t=wt/zt;$t<=0&&(Et=st),$t>=1&&(Et={x:Ot.x,y:Ot.y}),$t>0&&$t<1&&(Et={x:(1-$t)*st.x+$t*Ot.x,y:(1-$t)*st.y+$t*Ot.y})}}st=Ot});const Tt=nt?10:5,At=Math.atan2(rt[0].y-Et.y,rt[0].x-Et.x),Dt={x:0,y:0};return Dt.x=Math.sin(At)*Tt+(rt[0].x+Et.x)/2,Dt.y=-Math.cos(At)*Tt+(rt[0].y+Et.y)/2,Dt};function calcTerminalLabelPosition(nt,rt,it){let st=JSON.parse(JSON.stringify(it)),bt;log$1.info("our points",st),rt!=="start_left"&&rt!=="start_right"&&(st=st.reverse()),st.forEach(zt=>{bt=zt});let Et=25+nt,Tt;bt=void 0,st.forEach(zt=>{if(bt&&!Tt){const $t=distance(zt,bt);if($t<Et)Et-=$t;else{const Bt=Et/$t;Bt<=0&&(Tt=bt),Bt>=1&&(Tt={x:zt.x,y:zt.y}),Bt>0&&Bt<1&&(Tt={x:(1-Bt)*bt.x+Bt*zt.x,y:(1-Bt)*bt.y+Bt*zt.y})}}bt=zt});const At=10+nt*.5,Dt=Math.atan2(st[0].y-Tt.y,st[0].x-Tt.x),Ot={x:0,y:0};return Ot.x=Math.sin(Dt)*At+(st[0].x+Tt.x)/2,Ot.y=-Math.cos(Dt)*At+(st[0].y+Tt.y)/2,rt==="start_left"&&(Ot.x=Math.sin(Dt+Math.PI)*At+(st[0].x+Tt.x)/2,Ot.y=-Math.cos(Dt+Math.PI)*At+(st[0].y+Tt.y)/2),rt==="end_right"&&(Ot.x=Math.sin(Dt-Math.PI)*At+(st[0].x+Tt.x)/2-5,Ot.y=-Math.cos(Dt-Math.PI)*At+(st[0].y+Tt.y)/2-5),rt==="end_left"&&(Ot.x=Math.sin(Dt)*At+(st[0].x+Tt.x)/2-5,Ot.y=-Math.cos(Dt)*At+(st[0].y+Tt.y)/2-5),Ot}function getStylesFromArray(nt){let rt="",it="";for(const st of nt)st!==void 0&&(st.startsWith("color:")||st.startsWith("text-align:")?it=it+st+";":rt=rt+st+";");return{style:rt,labelStyle:it}}let cnt=0;const generateId$1=()=>(cnt++,"id-"+Math.random().toString(36).substr(2,12)+"-"+cnt);function makeid(nt){let rt="";const it="0123456789abcdef",st=it.length;for(let bt=0;bt<nt;bt++)rt+=it.charAt(Math.floor(Math.random()*st));return rt}const random=nt=>makeid(nt.length),getTextObj$2=function(){return{x:0,y:0,fill:void 0,anchor:"start",style:"#666",width:100,height:100,textMargin:0,rx:0,ry:0,valign:void 0}},drawSimpleText=function(nt,rt){const it=rt.text.replace(common$1.lineBreakRegex," "),st=nt.append("text");st.attr("x",rt.x),st.attr("y",rt.y),st.style("text-anchor",rt.anchor),st.style("font-family",rt.fontFamily),st.style("font-size",rt.fontSize),st.style("font-weight",rt.fontWeight),st.attr("fill",rt.fill),rt.class!==void 0&&st.attr("class",rt.class);const bt=st.append("tspan");return bt.attr("x",rt.x+rt.textMargin*2),bt.attr("fill",rt.fill),bt.text(it),st},wrapLabel=memoize((nt,rt,it)=>{if(!nt||(it=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",joinWith:"<br/>"},it),common$1.lineBreakRegex.test(nt)))return nt;const st=nt.split(" "),bt=[];let wt="";return st.forEach((Et,Tt)=>{const At=calculateTextWidth(`${Et} `,it),Dt=calculateTextWidth(wt,it);if(At>rt){const{hyphenatedStrings:$t,remainingWord:Bt}=breakString(Et,rt,"-",it);bt.push(wt,...$t),wt=Bt}else Dt+At>=rt?(bt.push(wt),wt=Et):wt=[wt,Et].filter(Boolean).join(" ");Tt+1===st.length&&bt.push(wt)}),bt.filter(Et=>Et!=="").join(it.joinWith)},(nt,rt,it)=>`${nt}${rt}${it.fontSize}${it.fontWeight}${it.fontFamily}${it.joinWith}`),breakString=memoize((nt,rt,it="-",st)=>{st=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:0},st);const bt=[...nt],wt=[];let Et="";return bt.forEach((Tt,At)=>{const Dt=`${Et}${Tt}`;if(calculateTextWidth(Dt,st)>=rt){const zt=At+1,$t=bt.length===zt,Bt=`${Dt}${it}`;wt.push($t?Dt:Bt),Et=""}else Et=Dt}),{hyphenatedStrings:wt,remainingWord:Et}},(nt,rt,it="-",st)=>`${nt}${rt}${it}${st.fontSize}${st.fontWeight}${st.fontFamily}`);function calculateTextHeight(nt,rt){return rt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial",margin:15},rt),calculateTextDimensions(nt,rt).height}function calculateTextWidth(nt,rt){return rt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},rt),calculateTextDimensions(nt,rt).width}const calculateTextDimensions=memoize((nt,rt)=>{rt=Object.assign({fontSize:12,fontWeight:400,fontFamily:"Arial"},rt);const{fontSize:it,fontFamily:st,fontWeight:bt}=rt;if(!nt)return{width:0,height:0};const wt=["sans-serif",st],Et=nt.split(common$1.lineBreakRegex),Tt=[],At=select("body");if(!At.remove)return{width:0,height:0,lineHeight:0};const Dt=At.append("svg");for(const zt of wt){let $t=0;const Bt={width:0,height:0,lineHeight:0};for(const Yt of Et){const Xt=getTextObj$2();Xt.text=Yt;const Ht=drawSimpleText(Dt,Xt).style("font-size",it).style("font-weight",bt).style("font-family",zt),Qt=(Ht._groups||Ht)[0][0].getBBox();Bt.width=Math.round(Math.max(Bt.width,Qt.width)),$t=Math.round(Qt.height),Bt.height+=$t,Bt.lineHeight=Math.round(Math.max(Bt.lineHeight,$t))}Tt.push(Bt)}Dt.remove();const Ot=isNaN(Tt[1].height)||isNaN(Tt[1].width)||isNaN(Tt[1].lineHeight)||Tt[0].height>Tt[1].height&&Tt[0].width>Tt[1].width&&Tt[0].lineHeight>Tt[1].lineHeight?0:1;return Tt[Ot]},(nt,rt)=>`${nt}${rt.fontSize}${rt.fontWeight}${rt.fontFamily}`),initIdGenerator=class{constructor(rt,it){this.deterministic=rt,this.seed=it,this.count=it?it.length:0}next(){return this.deterministic?this.count++:Date.now()}};let decoder;const entityDecode=function(nt){return decoder=decoder||document.createElement("div"),nt=escape(nt).replace(/%26/g,"&").replace(/%23/g,"#").replace(/%3B/g,";"),decoder.innerHTML=nt,unescape(decoder.textContent)},directiveSanitizer=nt=>{if(log$1.debug("directiveSanitizer called with",nt),typeof nt=="object"&&(nt.length?nt.forEach(rt=>directiveSanitizer(rt)):Object.keys(nt).forEach(rt=>{log$1.debug("Checking key",rt),rt.startsWith("__")&&(log$1.debug("sanitize deleting __ option",rt),delete nt[rt]),rt.includes("proto")&&(log$1.debug("sanitize deleting proto option",rt),delete nt[rt]),rt.includes("constr")&&(log$1.debug("sanitize deleting constr option",rt),delete nt[rt]),rt.includes("themeCSS")&&(log$1.debug("sanitizing themeCss option"),nt[rt]=sanitizeCss(nt[rt])),rt.includes("fontFamily")&&(log$1.debug("sanitizing fontFamily option"),nt[rt]=sanitizeCss(nt[rt])),rt.includes("altFontFamily")&&(log$1.debug("sanitizing altFontFamily option"),nt[rt]=sanitizeCss(nt[rt])),configKeys.includes(rt)?typeof nt[rt]=="object"&&(log$1.debug("sanitize deleting object",rt),directiveSanitizer(nt[rt])):(log$1.debug("sanitize deleting option",rt),delete nt[rt])})),nt.themeVariables){const rt=Object.keys(nt.themeVariables);for(const it of rt){const st=nt.themeVariables[it];st&&st.match&&!st.match(/^[\d "#%(),.;A-Za-z]+$/)&&(nt.themeVariables[it]="")}}log$1.debug("After sanitization",nt)},sanitizeCss=nt=>{let rt=0,it=0;for(const st of nt){if(rt<it)return"{ /* ERROR: Unbalanced CSS */ }";st==="{"?rt++:st==="}"&&it++}return rt!==it?"{ /* ERROR: Unbalanced CSS */ }":nt};function isDetailedError(nt){return"str"in nt}function getErrorMessage(nt){return nt instanceof Error?nt.message:String(nt)}const insertTitle=(nt,rt,it,st)=>{if(!st)return;const bt=nt.node().getBBox();nt.append("text").text(st).attr("x",bt.x+bt.width/2).attr("y",-it).attr("class",rt)},utils={assignWithDepth:assignWithDepth$1,wrapLabel,calculateTextHeight,calculateTextWidth,calculateTextDimensions,detectInit,detectDirective,isSubstringInArray,interpolateToCurve,calcLabelPosition,calcCardinalityPosition,calcTerminalLabelPosition,formatUrl,getStylesFromArray,generateId:generateId$1,random,runFunc,entityDecode,initIdGenerator,directiveSanitizer,sanitizeCss,insertTitle},name="mermaid",version$1="9.3.0",description$1="Markdown-ish syntax for generating flowcharts, sequence diagrams, class diagrams, gantt charts and git graphs.",main="./dist/mermaid.min.js",module$1="./dist/mermaid.core.mjs",types$8="./dist/mermaid.d.ts",exports$1={".":{require:"./dist/mermaid.min.js",import:"./dist/mermaid.core.mjs",types:"./dist/mermaid.d.ts"},"./*":"./*"},keywords=["diagram","markdown","flowchart","sequence diagram","gantt","class diagram","git graph"],scripts={clean:"rimraf dist","docs:code":"typedoc src/defaultConfig.ts src/config.ts src/mermaidAPI.ts && prettier --write ./src/docs/config/setup","docs:build":"rimraf ../../docs && pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts","docs:verify":"pnpm docs:spellcheck && pnpm docs:code && ts-node-esm src/docs.mts --verify","docs:pre:vitepress":"rimraf src/vitepress && pnpm docs:code && ts-node-esm src/docs.mts --vitepress","docs:build:vitepress":"pnpm docs:pre:vitepress && vitepress build src/vitepress","docs:dev":'pnpm docs:pre:vitepress && concurrently "vitepress dev src/vitepress" "ts-node-esm src/docs.mts --watch --vitepress"',"docs:serve":"pnpm docs:build:vitepress && vitepress serve src/vitepress","docs:spellcheck":'cspell --config ../../cSpell.json "src/docs/**/*.md"',release:"pnpm build",prepublishOnly:"pnpm -w run build"},repository={type:"git",url:"https://github.com/mermaid-js/mermaid"},author="Knut Sveidqvist",license="MIT",standard={ignore:["**/parser/*.js","dist/**/*.js","cypress/**/*.js"],globals:["page"]},dependencies={"@braintree/sanitize-url":"^6.0.0",d3:"^7.0.0","dagre-d3-es":"7.0.6",dompurify:"2.4.1",khroma:"^2.0.0","lodash-es":"^4.17.21","moment-mini":"^2.24.0","non-layered-tidy-tree-layout":"^2.0.2",stylis:"^4.1.2",uuid:"^9.0.0"},devDependencies={"@types/d3":"^7.4.0","@types/dompurify":"^2.4.0","@types/jsdom":"^20.0.1","@types/lodash-es":"^4.17.6","@types/micromatch":"^4.0.2","@types/prettier":"^2.7.1","@types/stylis":"^4.0.2","@types/uuid":"^8.3.4","@typescript-eslint/eslint-plugin":"^5.42.1","@typescript-eslint/parser":"^5.42.1",chokidar:"^3.5.3",concurrently:"^7.5.0",coveralls:"^3.1.1",cspell:"^6.14.3",globby:"^13.1.2",jison:"^0.4.18","js-base64":"^3.7.2",jsdom:"^20.0.2",micromatch:"^4.0.5",moment:"^2.29.4","path-browserify":"^1.0.1",prettier:"^2.7.1",remark:"^14.0.2",rimraf:"^3.0.2","start-server-and-test":"^1.14.0",typedoc:"^0.23.18","typedoc-plugin-markdown":"^3.13.6",typescript:"^4.8.4","unist-util-flatmap":"^1.0.0",vitepress:"^1.0.0-alpha.28","vitepress-plugin-search":"^1.0.4-alpha.15"},files=["dist","README.md"],sideEffects=["**/*.css","**/*.scss"],pkg={name,version:version$1,description:description$1,main,module:module$1,types:types$8,exports:exports$1,keywords,scripts,repository,author,license,standard,dependencies,devDependencies,files,sideEffects},defaultConfig=Object.freeze(config$2);let siteConfig=assignWithDepth$1({},defaultConfig),configFromInitialize,directives=[],currentConfig=assignWithDepth$1({},defaultConfig);const updateCurrentConfig=(nt,rt)=>{let it=assignWithDepth$1({},nt),st={};for(const bt of rt)sanitize(bt),st=assignWithDepth$1(st,bt);if(it=assignWithDepth$1(it,st),st.theme&&st.theme in theme){const bt=assignWithDepth$1({},configFromInitialize),wt=assignWithDepth$1(bt.themeVariables||{},st.themeVariables);it.theme&&it.theme in theme&&(it.themeVariables=theme[it.theme].getThemeVariables(wt))}return currentConfig=it,checkConfig(currentConfig),currentConfig},setSiteConfig=nt=>(siteConfig=assignWithDepth$1({},defaultConfig),siteConfig=assignWithDepth$1(siteConfig,nt),nt.theme&&theme[nt.theme]&&(siteConfig.themeVariables=theme[nt.theme].getThemeVariables(nt.themeVariables)),updateCurrentConfig(siteConfig,directives),siteConfig),saveConfigFromInitialize=nt=>{configFromInitialize=assignWithDepth$1({},nt)},updateSiteConfig=nt=>(siteConfig=assignWithDepth$1(siteConfig,nt),updateCurrentConfig(siteConfig,directives),siteConfig),getSiteConfig=()=>assignWithDepth$1({},siteConfig),setConfig=nt=>(checkConfig(nt),assignWithDepth$1(currentConfig,nt),getConfig$1()),getConfig$1=()=>assignWithDepth$1({},currentConfig),sanitize=nt=>{var rt;["secure",...(rt=siteConfig.secure)!=null?rt:[]].forEach(it=>{nt[it]!==void 0&&(log$1.debug(`Denied attempt to modify a secure key ${it}`,nt[it]),delete nt[it])}),Object.keys(nt).forEach(it=>{it.indexOf("__")===0&&delete nt[it]}),Object.keys(nt).forEach(it=>{typeof nt[it]=="string"&&(nt[it].includes("<")||nt[it].includes(">")||nt[it].includes("url(data:"))&&delete nt[it],typeof nt[it]=="object"&&sanitize(nt[it])})},addDirective=nt=>{nt.fontFamily&&(nt.themeVariables?nt.themeVariables.fontFamily||(nt.themeVariables={fontFamily:nt.fontFamily}):nt.themeVariables={fontFamily:nt.fontFamily}),directives.push(nt),updateCurrentConfig(siteConfig,directives)},reset=(nt=siteConfig)=>{directives=[],updateCurrentConfig(nt,directives)};var ConfigWarning=(nt=>(nt.LAZY_LOAD_DEPRECATED="The configuration options lazyLoadedDiagrams and loadExternalDiagramsAtStartup are deprecated. Please use registerExternalDiagrams instead.",nt))(ConfigWarning||{});const issuedWarnings={},issueWarning=nt=>{issuedWarnings[nt]||(log$1.warn(ConfigWarning[nt]),issuedWarnings[nt]=!0)},checkConfig=nt=>{!nt||(nt.lazyLoadedDiagrams||nt.loadExternalDiagramsAtStartup)&&issueWarning("LAZY_LOAD_DEPRECATED")},d3Attrs=function(nt,rt){for(let it of rt)nt.attr(it[0],it[1])},calculateSvgSizeAttrs=function(nt,rt,it){let st=new Map;return it?(st.set("width","100%"),st.set("style",`max-width: ${rt}px;`)):(st.set("height",nt),st.set("width",rt)),st},configureSvgSize=function(nt,rt,it,st){const bt=calculateSvgSizeAttrs(rt,it,st);d3Attrs(nt,bt)},setupGraphViewbox$1=function(nt,rt,it,st){const bt=rt.node().getBBox(),wt=bt.width,Et=bt.height;log$1.info(`SVG bounds: ${wt}x${Et}`,bt);let Tt=0,At=0;log$1.info(`Graph bounds: ${Tt}x${At}`,nt),Tt=wt+it*2,At=Et+it*2,log$1.info(`Calculated bounds: ${Tt}x${At}`),configureSvgSize(rt,At,Tt,st);const Dt=`${bt.x-it} ${bt.y-it} ${bt.width+2*it} ${bt.height+2*it}`;rt.attr("viewBox",Dt)},getStyles$e=nt=>`g.classGroup text {
  fill: ${nt.nodeBorder};
  fill: ${nt.classText};
  stroke: none;
  font-family: ${nt.fontFamily};
  font-size: 10px;

  .title {
    font-weight: bolder;
  }

}

.nodeLabel, .edgeLabel {
  color: ${nt.classText};
}
.edgeLabel .label rect {
  fill: ${nt.mainBkg};
}
.label text {
  fill: ${nt.classText};
}
.edgeLabel .label span {
  background: ${nt.mainBkg};
}

.classTitle {
  font-weight: bolder;
}
.node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${nt.mainBkg};
    stroke: ${nt.nodeBorder};
    stroke-width: 1px;
  }


.divider {
  stroke: ${nt.nodeBorder};
  stroke: 1;
}

g.clickable {
  cursor: pointer;
}

g.classGroup rect {
  fill: ${nt.mainBkg};
  stroke: ${nt.nodeBorder};
}

g.classGroup line {
  stroke: ${nt.nodeBorder};
  stroke-width: 1;
}

.classLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${nt.mainBkg};
  opacity: 0.5;
}

.classLabel .label {
  fill: ${nt.nodeBorder};
  font-size: 10px;
}

.relation {
  stroke: ${nt.lineColor};
  stroke-width: 1;
  fill: none;
}

.dashed-line{
  stroke-dasharray: 3;
}

.dotted-line{
  stroke-dasharray: 1 2;
}

#compositionStart, .composition {
  fill: ${nt.lineColor} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#compositionEnd, .composition {
  fill: ${nt.lineColor} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${nt.lineColor} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#dependencyStart, .dependency {
  fill: ${nt.lineColor} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#extensionStart, .extension {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#extensionEnd, .extension {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#aggregationStart, .aggregation {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#aggregationEnd, .aggregation {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#lollipopStart, .lollipop {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

#lollipopEnd, .lollipop {
  fill: ${nt.mainBkg} !important;
  stroke: ${nt.lineColor} !important;
  stroke-width: 1;
}

.edgeTerminals {
  font-size: 11px;
}

.classTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${nt.textColor};
}
`,classStyles=getStyles$e,getStyles$d=nt=>`
  .entityBox {
    fill: ${nt.mainBkg};
    stroke: ${nt.nodeBorder};
  }

  .attributeBoxOdd {
    fill: ${nt.attributeBackgroundColorOdd};
    stroke: ${nt.nodeBorder};
  }

  .attributeBoxEven {
    fill:  ${nt.attributeBackgroundColorEven};
    stroke: ${nt.nodeBorder};
  }

  .relationshipLabelBox {
    fill: ${nt.tertiaryColor};
    opacity: 0.7;
    background-color: ${nt.tertiaryColor};
      rect {
        opacity: 0.5;
      }
  }

    .relationshipLine {
      stroke: ${nt.lineColor};
    }

  .entityTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${nt.textColor};
  }    
`,erStyles=getStyles$d,getStyles$c=()=>"",errorStyles=getStyles$c,getStyles$b=nt=>`.label {
    font-family: ${nt.fontFamily};
    color: ${nt.nodeTextColor||nt.textColor};
  }
  .cluster-label text {
    fill: ${nt.titleColor};
  }
  .cluster-label span {
    color: ${nt.titleColor};
  }

  .label text,span {
    fill: ${nt.nodeTextColor||nt.textColor};
    color: ${nt.nodeTextColor||nt.textColor};
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${nt.mainBkg};
    stroke: ${nt.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${nt.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${nt.lineColor};
    stroke-width: 2.0px;
  }

  .flowchart-link {
    stroke: ${nt.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${nt.edgeLabelBackground};
    rect {
      opacity: 0.5;
      background-color: ${nt.edgeLabelBackground};
      fill: ${nt.edgeLabelBackground};
    }
    text-align: center;
  }

  .cluster rect {
    fill: ${nt.clusterBkg};
    stroke: ${nt.clusterBorder};
    stroke-width: 1px;
  }

  .cluster text {
    fill: ${nt.titleColor};
  }

  .cluster span {
    color: ${nt.titleColor};
  }
  /* .cluster div {
    color: ${nt.titleColor};
  } */

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: ${nt.fontFamily};
    font-size: 12px;
    background: ${nt.tertiaryColor};
    border: 1px solid ${nt.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .flowchartTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${nt.textColor};
  }
`,flowStyles=getStyles$b,getStyles$a=nt=>`
  .mermaid-main-font {
    font-family: "trebuchet ms", verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  .exclude-range {
    fill: ${nt.excludeBkgColor};
  }

  .section {
    stroke: none;
    opacity: 0.2;
  }

  .section0 {
    fill: ${nt.sectionBkgColor};
  }

  .section2 {
    fill: ${nt.sectionBkgColor2};
  }

  .section1,
  .section3 {
    fill: ${nt.altSectionBkgColor};
    opacity: 0.2;
  }

  .sectionTitle0 {
    fill: ${nt.titleColor};
  }

  .sectionTitle1 {
    fill: ${nt.titleColor};
  }

  .sectionTitle2 {
    fill: ${nt.titleColor};
  }

  .sectionTitle3 {
    fill: ${nt.titleColor};
  }

  .sectionTitle {
    text-anchor: start;
    // font-size: ${nt.ganttFontSize};
    // text-height: 14px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }


  /* Grid and axis */

  .grid .tick {
    stroke: ${nt.gridColor};
    opacity: 0.8;
    shape-rendering: crispEdges;
    text {
      font-family: ${nt.fontFamily};
      fill: ${nt.textColor};
    }
  }

  .grid path {
    stroke-width: 0;
  }


  /* Today line */

  .today {
    fill: none;
    stroke: ${nt.todayLineColor};
    stroke-width: 2px;
  }


  /* Task styling */

  /* Default task */

  .task {
    stroke-width: 2;
  }

  .taskText {
    text-anchor: middle;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }

  // .taskText:not([font-size]) {
  //   font-size: ${nt.ganttFontSize};
  // }

  .taskTextOutsideRight {
    fill: ${nt.taskTextDarkColor};
    text-anchor: start;
    // font-size: ${nt.ganttFontSize};
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);

  }

  .taskTextOutsideLeft {
    fill: ${nt.taskTextDarkColor};
    text-anchor: end;
    // font-size: ${nt.ganttFontSize};
  }

  /* Special case clickable */
  .task.clickable {
    cursor: pointer;
  }
  .taskText.clickable {
    cursor: pointer;
    fill: ${nt.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideLeft.clickable {
    cursor: pointer;
    fill: ${nt.taskTextClickableColor} !important;
    font-weight: bold;
  }

  .taskTextOutsideRight.clickable {
    cursor: pointer;
    fill: ${nt.taskTextClickableColor} !important;
    font-weight: bold;
  }

  /* Specific task settings for the sections*/

  .taskText0,
  .taskText1,
  .taskText2,
  .taskText3 {
    fill: ${nt.taskTextColor};
  }

  .task0,
  .task1,
  .task2,
  .task3 {
    fill: ${nt.taskBkgColor};
    stroke: ${nt.taskBorderColor};
  }

  .taskTextOutside0,
  .taskTextOutside2
  {
    fill: ${nt.taskTextOutsideColor};
  }

  .taskTextOutside1,
  .taskTextOutside3 {
    fill: ${nt.taskTextOutsideColor};
  }


  /* Active task */

  .active0,
  .active1,
  .active2,
  .active3 {
    fill: ${nt.activeTaskBkgColor};
    stroke: ${nt.activeTaskBorderColor};
  }

  .activeText0,
  .activeText1,
  .activeText2,
  .activeText3 {
    fill: ${nt.taskTextDarkColor} !important;
  }


  /* Completed task */

  .done0,
  .done1,
  .done2,
  .done3 {
    stroke: ${nt.doneTaskBorderColor};
    fill: ${nt.doneTaskBkgColor};
    stroke-width: 2;
  }

  .doneText0,
  .doneText1,
  .doneText2,
  .doneText3 {
    fill: ${nt.taskTextDarkColor} !important;
  }


  /* Tasks on the critical line */

  .crit0,
  .crit1,
  .crit2,
  .crit3 {
    stroke: ${nt.critBorderColor};
    fill: ${nt.critBkgColor};
    stroke-width: 2;
  }

  .activeCrit0,
  .activeCrit1,
  .activeCrit2,
  .activeCrit3 {
    stroke: ${nt.critBorderColor};
    fill: ${nt.activeTaskBkgColor};
    stroke-width: 2;
  }

  .doneCrit0,
  .doneCrit1,
  .doneCrit2,
  .doneCrit3 {
    stroke: ${nt.critBorderColor};
    fill: ${nt.doneTaskBkgColor};
    stroke-width: 2;
    cursor: pointer;
    shape-rendering: crispEdges;
  }

  .milestone {
    transform: rotate(45deg) scale(0.8,0.8);
  }

  .milestoneText {
    font-style: italic;
  }
  .doneCritText0,
  .doneCritText1,
  .doneCritText2,
  .doneCritText3 {
    fill: ${nt.taskTextDarkColor} !important;
  }

  .activeCritText0,
  .activeCritText1,
  .activeCritText2,
  .activeCritText3 {
    fill: ${nt.taskTextDarkColor} !important;
  }

  .titleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${nt.textColor}    ;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
`,ganttStyles=getStyles$a,getStyles$9=()=>"",infoStyles=getStyles$9,getStyles$8=nt=>`
  .pieCircle{
    stroke: ${nt.pieStrokeColor};
    stroke-width : ${nt.pieStrokeWidth};
    opacity : ${nt.pieOpacity};
  }
  .pieTitleText {
    text-anchor: middle;
    font-size: ${nt.pieTitleTextSize};
    fill: ${nt.pieTitleTextColor};
    font-family: ${nt.fontFamily};
  }
  .slice {
    font-family: ${nt.fontFamily};
    fill: ${nt.pieSectionTextColor};
    font-size:${nt.pieSectionTextSize};
    // fill: white;
  }
  .legend text {
    fill: ${nt.pieLegendTextColor};
    font-family: ${nt.fontFamily};
    font-size: ${nt.pieLegendTextSize};
  }
`,pieStyles=getStyles$8,getStyles$7=nt=>`

  marker {
    fill: ${nt.relationColor};
    stroke: ${nt.relationColor};
  }

  marker.cross {
    stroke: ${nt.lineColor};
  }

  svg {
    font-family: ${nt.fontFamily};
    font-size: ${nt.fontSize};
  }

  .reqBox {
    fill: ${nt.requirementBackground};
    fill-opacity: 100%;
    stroke: ${nt.requirementBorderColor};
    stroke-width: ${nt.requirementBorderSize};
  }
  
  .reqTitle, .reqLabel{
    fill:  ${nt.requirementTextColor};
  }
  .reqLabelBox {
    fill: ${nt.relationLabelBackground};
    fill-opacity: 100%;
  }

  .req-title-line {
    stroke: ${nt.requirementBorderColor};
    stroke-width: ${nt.requirementBorderSize};
  }
  .relationshipLine {
    stroke: ${nt.relationColor};
    stroke-width: 1;
  }
  .relationshipLabel {
    fill: ${nt.relationLabelColor};
  }

`,requirementStyles=getStyles$7,getStyles$6=nt=>`.actor {
    stroke: ${nt.actorBorder};
    fill: ${nt.actorBkg};
  }

  text.actor > tspan {
    fill: ${nt.actorTextColor};
    stroke: none;
  }

  .actor-line {
    stroke: ${nt.actorLineColor};
  }

  .messageLine0 {
    stroke-width: 1.5;
    stroke-dasharray: none;
    stroke: ${nt.signalColor};
  }

  .messageLine1 {
    stroke-width: 1.5;
    stroke-dasharray: 2, 2;
    stroke: ${nt.signalColor};
  }

  #arrowhead path {
    fill: ${nt.signalColor};
    stroke: ${nt.signalColor};
  }

  .sequenceNumber {
    fill: ${nt.sequenceNumberColor};
  }

  #sequencenumber {
    fill: ${nt.signalColor};
  }

  #crosshead path {
    fill: ${nt.signalColor};
    stroke: ${nt.signalColor};
  }

  .messageText {
    fill: ${nt.signalTextColor};
    stroke: none;
  }

  .labelBox {
    stroke: ${nt.labelBoxBorderColor};
    fill: ${nt.labelBoxBkgColor};
  }

  .labelText, .labelText > tspan {
    fill: ${nt.labelTextColor};
    stroke: none;
  }

  .loopText, .loopText > tspan {
    fill: ${nt.loopTextColor};
    stroke: none;
  }

  .loopLine {
    stroke-width: 2px;
    stroke-dasharray: 2, 2;
    stroke: ${nt.labelBoxBorderColor};
    fill: ${nt.labelBoxBorderColor};
  }

  .note {
    //stroke: #decc93;
    stroke: ${nt.noteBorderColor};
    fill: ${nt.noteBkgColor};
  }

  .noteText, .noteText > tspan {
    fill: ${nt.noteTextColor};
    stroke: none;
  }

  .activation0 {
    fill: ${nt.activationBkgColor};
    stroke: ${nt.activationBorderColor};
  }

  .activation1 {
    fill: ${nt.activationBkgColor};
    stroke: ${nt.activationBorderColor};
  }

  .activation2 {
    fill: ${nt.activationBkgColor};
    stroke: ${nt.activationBorderColor};
  }

  .actorPopupMenu {
    position: absolute;
  }

  .actorPopupMenuPanel {
    position: absolute;
    fill: ${nt.actorBkg};
    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
    filter: drop-shadow(3px 5px 2px rgb(0 0 0 / 0.4));
}
  .actor-man line {
    stroke: ${nt.actorBorder};
    fill: ${nt.actorBkg};
  }
  .actor-man circle, line {
    stroke: ${nt.actorBorder};
    fill: ${nt.actorBkg};
    stroke-width: 2px;
  }
`,sequenceStyles=getStyles$6,getStyles$5=nt=>`
defs #statediagram-barbEnd {
    fill: ${nt.transitionColor};
    stroke: ${nt.transitionColor};
  }
g.stateGroup text {
  fill: ${nt.nodeBorder};
  stroke: none;
  font-size: 10px;
}
g.stateGroup text {
  fill: ${nt.textColor};
  stroke: none;
  font-size: 10px;

}
g.stateGroup .state-title {
  font-weight: bolder;
  fill: ${nt.stateLabelColor};
}

g.stateGroup rect {
  fill: ${nt.mainBkg};
  stroke: ${nt.nodeBorder};
}

g.stateGroup line {
  stroke: ${nt.lineColor};
  stroke-width: 1;
}

.transition {
  stroke: ${nt.transitionColor};
  stroke-width: 1;
  fill: none;
}

.stateGroup .composit {
  fill: ${nt.background};
  border-bottom: 1px
}

.stateGroup .alt-composit {
  fill: #e0e0e0;
  border-bottom: 1px
}

.state-note {
  stroke: ${nt.noteBorderColor};
  fill: ${nt.noteBkgColor};

  text {
    fill: ${nt.noteTextColor};
    stroke: none;
    font-size: 10px;
  }
}

.stateLabel .box {
  stroke: none;
  stroke-width: 0;
  fill: ${nt.mainBkg};
  opacity: 0.5;
}

.edgeLabel .label rect {
  fill: ${nt.labelBackgroundColor};
  opacity: 0.5;
}
.edgeLabel .label text {
  fill: ${nt.transitionLabelColor||nt.tertiaryTextColor};
}
.label div .edgeLabel {
  color: ${nt.transitionLabelColor||nt.tertiaryTextColor};
}

.stateLabel text {
  fill: ${nt.stateLabelColor};
  font-size: 10px;
  font-weight: bold;
}

.node circle.state-start {
  fill: ${nt.specialStateColor};
  stroke: ${nt.specialStateColor};
}

.node .fork-join {
  fill: ${nt.specialStateColor};
  stroke: ${nt.specialStateColor};
}

.node circle.state-end {
  fill: ${nt.innerEndBackground};
  stroke: ${nt.background};
  stroke-width: 1.5
}
.end-state-inner {
  fill: ${nt.compositeBackground||nt.background};
  // stroke: ${nt.background};
  stroke-width: 1.5
}

.node rect {
  fill: ${nt.stateBkg||nt.mainBkg};
  stroke: ${nt.stateBorder||nt.nodeBorder};
  stroke-width: 1px;
}
.node polygon {
  fill: ${nt.mainBkg};
  stroke: ${nt.stateBorder||nt.nodeBorder};;
  stroke-width: 1px;
}
#statediagram-barbEnd {
  fill: ${nt.lineColor};
}

.statediagram-cluster rect {
  fill: ${nt.compositeTitleBackground};
  stroke: ${nt.stateBorder||nt.nodeBorder};
  stroke-width: 1px;
}

.cluster-label, .nodeLabel {
  color: ${nt.stateLabelColor};
}

.statediagram-cluster rect.outer {
  rx: 5px;
  ry: 5px;
}
.statediagram-state .divider {
  stroke: ${nt.stateBorder||nt.nodeBorder};
}

.statediagram-state .title-state {
  rx: 5px;
  ry: 5px;
}
.statediagram-cluster.statediagram-cluster .inner {
  fill: ${nt.compositeBackground||nt.background};
}
.statediagram-cluster.statediagram-cluster-alt .inner {
  fill: ${nt.altBackground?nt.altBackground:"#efefef"};
}

.statediagram-cluster .inner {
  rx:0;
  ry:0;
}

.statediagram-state rect.basic {
  rx: 5px;
  ry: 5px;
}
.statediagram-state rect.divider {
  stroke-dasharray: 10,10;
  fill: ${nt.altBackground?nt.altBackground:"#efefef"};
}

.note-edge {
  stroke-dasharray: 5;
}

.statediagram-note rect {
  fill: ${nt.noteBkgColor};
  stroke: ${nt.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}
.statediagram-note rect {
  fill: ${nt.noteBkgColor};
  stroke: ${nt.noteBorderColor};
  stroke-width: 1px;
  rx: 0;
  ry: 0;
}

.statediagram-note text {
  fill: ${nt.noteTextColor};
}

.statediagram-note .nodeLabel {
  color: ${nt.noteTextColor};
}
.statediagram .edgeLabel {
  color: red; // ${nt.noteTextColor};
}

#dependencyStart, #dependencyEnd {
  fill: ${nt.lineColor};
  stroke: ${nt.lineColor};
  stroke-width: 1;
}

.statediagramTitleText {
  text-anchor: middle;
  font-size: 18px;
  fill: ${nt.textColor};
}
`,stateStyles=getStyles$5,getStyles$4=nt=>`.label {
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    color: ${nt.textColor};
  }
  .mouth {
    stroke: #666;
  }

  line {
    stroke: ${nt.textColor}
  }

  .legend {
    fill: ${nt.textColor};
  }

  .label text {
    fill: #333;
  }
  .label {
    color: ${nt.textColor}
  }

  .face {
    ${nt.faceColor?`fill: ${nt.faceColor}`:"fill: #FFF8DC"};
    stroke: #999;
  }

  .node rect,
  .node circle,
  .node ellipse,
  .node polygon,
  .node path {
    fill: ${nt.mainBkg};
    stroke: ${nt.nodeBorder};
    stroke-width: 1px;
  }

  .node .label {
    text-align: center;
  }
  .node.clickable {
    cursor: pointer;
  }

  .arrowheadPath {
    fill: ${nt.arrowheadColor};
  }

  .edgePath .path {
    stroke: ${nt.lineColor};
    stroke-width: 1.5px;
  }

  .flowchart-link {
    stroke: ${nt.lineColor};
    fill: none;
  }

  .edgeLabel {
    background-color: ${nt.edgeLabelBackground};
    rect {
      opacity: 0.5;
    }
    text-align: center;
  }

  .cluster rect {
  }

  .cluster text {
    fill: ${nt.titleColor};
  }

  div.mermaidTooltip {
    position: absolute;
    text-align: center;
    max-width: 200px;
    padding: 2px;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
    font-size: 12px;
    background: ${nt.tertiaryColor};
    border: 1px solid ${nt.border2};
    border-radius: 2px;
    pointer-events: none;
    z-index: 100;
  }

  .task-type-0, .section-type-0  {
    ${nt.fillType0?`fill: ${nt.fillType0}`:""};
  }
  .task-type-1, .section-type-1  {
    ${nt.fillType0?`fill: ${nt.fillType1}`:""};
  }
  .task-type-2, .section-type-2  {
    ${nt.fillType0?`fill: ${nt.fillType2}`:""};
  }
  .task-type-3, .section-type-3  {
    ${nt.fillType0?`fill: ${nt.fillType3}`:""};
  }
  .task-type-4, .section-type-4  {
    ${nt.fillType0?`fill: ${nt.fillType4}`:""};
  }
  .task-type-5, .section-type-5  {
    ${nt.fillType0?`fill: ${nt.fillType5}`:""};
  }
  .task-type-6, .section-type-6  {
    ${nt.fillType0?`fill: ${nt.fillType6}`:""};
  }
  .task-type-7, .section-type-7  {
    ${nt.fillType0?`fill: ${nt.fillType7}`:""};
  }

  .actor-0 {
    ${nt.actor0?`fill: ${nt.actor0}`:""};
  }
  .actor-1 {
    ${nt.actor1?`fill: ${nt.actor1}`:""};
  }
  .actor-2 {
    ${nt.actor2?`fill: ${nt.actor2}`:""};
  }
  .actor-3 {
    ${nt.actor3?`fill: ${nt.actor3}`:""};
  }
  .actor-4 {
    ${nt.actor4?`fill: ${nt.actor4}`:""};
  }
  .actor-5 {
    ${nt.actor5?`fill: ${nt.actor5}`:""};
  }
`,journeyStyles=getStyles$4,getStyles$3=nt=>`.person {
    stroke: ${nt.personBorder};
    fill: ${nt.personBkg};
  }
`,c4Styles=getStyles$3,themes={flowchart:flowStyles,"flowchart-v2":flowStyles,sequence:sequenceStyles,gantt:ganttStyles,classDiagram:classStyles,"classDiagram-v2":classStyles,class:classStyles,stateDiagram:stateStyles,state:stateStyles,info:infoStyles,pie:pieStyles,er:erStyles,error:errorStyles,journey:journeyStyles,requirement:requirementStyles,c4:c4Styles},getStyles$1=(nt,rt,it)=>{let st="";return nt in themes&&themes[nt]?st=themes[nt](it):log$1.warn(`No theme found for ${nt}`),` & {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
    fill: ${it.textColor}
  }

  /* Classes common for multiple diagrams */

  & .error-icon {
    fill: ${it.errorBkgColor};
  }
  & .error-text {
    fill: ${it.errorTextColor};
    stroke: ${it.errorTextColor};
  }

  & .edge-thickness-normal {
    stroke-width: 2px;
  }
  & .edge-thickness-thick {
    stroke-width: 3.5px
  }
  & .edge-pattern-solid {
    stroke-dasharray: 0;
  }

  & .edge-pattern-dashed{
    stroke-dasharray: 3;
  }
  .edge-pattern-dotted {
    stroke-dasharray: 2;
  }

  & .marker {
    fill: ${it.lineColor};
    stroke: ${it.lineColor};
  }
  & .marker.cross {
    stroke: ${it.lineColor};
  }

  & svg {
    font-family: ${it.fontFamily};
    font-size: ${it.fontSize};
  }

  ${st}

  ${rt}
`},addStylesForDiagram=(nt,rt)=>{themes[nt]=rt},getStyles$2=getStyles$1,log=log$1,setLogLevel=setLogLevel$1,getConfig=getConfig$1,sanitizeText$4=nt=>sanitizeText$5(nt,getConfig()),setupGraphViewbox=setupGraphViewbox$1,diagrams={},registerDiagram=(nt,rt,it)=>{if(diagrams[nt])throw new Error(`Diagram ${nt} already registered.`);diagrams[nt]=rt,it&&addDetector(nt,it),addStylesForDiagram(nt,rt.styles),rt.injectUtils&&rt.injectUtils(log,setLogLevel,getConfig,sanitizeText$4,setupGraphViewbox)},getDiagram=nt=>{if(nt in diagrams)return diagrams[nt];throw new Error(`Diagram ${nt} not found.`)};var parser$b=function(){var nt=function(wn,Mn,Sn,Dn){for(Sn=Sn||{},Dn=wn.length;Dn--;Sn[wn[Dn]]=Mn);return Sn},rt=[1,4],it=[1,7],st=[1,5],bt=[1,9],wt=[1,6],Et=[2,6],Tt=[1,16],At=[6,8,14,20,22,24,25,27,29,32,37,40,50,55],Dt=[8,14,20,22,24,25,27,29,32,37,40],Ot=[8,13,14,20,22,24,25,27,29,32,37,40],zt=[1,26],$t=[6,8,14,50,55],Bt=[8,14,55],Yt=[1,53],Xt=[1,52],Ht=[8,14,30,33,35,38,55],Qt=[1,67],Zt=[1,68],nn=[1,69],Kt=[8,14,33,35,42,55],ln={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,GG:6,document:7,EOF:8,":":9,DIR:10,options:11,body:12,OPT:13,NL:14,line:15,statement:16,commitStatement:17,mergeStatement:18,cherryPickStatement:19,acc_title:20,acc_title_value:21,acc_descr:22,acc_descr_value:23,acc_descr_multiline_value:24,section:25,branchStatement:26,CHECKOUT:27,ref:28,BRANCH:29,ORDER:30,NUM:31,CHERRY_PICK:32,COMMIT_ID:33,STR:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,openDirective:46,typeDirective:47,closeDirective:48,argDirective:49,open_directive:50,type_directive:51,arg_directive:52,close_directive:53,ID:54,";":55,$accept:0,$end:1},terminals_:{2:"error",6:"GG",8:"EOF",9:":",10:"DIR",13:"OPT",14:"NL",20:"acc_title",21:"acc_title_value",22:"acc_descr",23:"acc_descr_value",24:"acc_descr_multiline_value",25:"section",27:"CHECKOUT",29:"BRANCH",30:"ORDER",31:"NUM",32:"CHERRY_PICK",33:"COMMIT_ID",34:"STR",35:"COMMIT_TAG",36:"EMPTYSTR",37:"MERGE",38:"COMMIT_TYPE",40:"COMMIT",42:"COMMIT_MSG",43:"NORMAL",44:"REVERSE",45:"HIGHLIGHT",50:"open_directive",51:"type_directive",52:"arg_directive",53:"close_directive",54:"ID",55:";"},productions_:[0,[3,2],[3,2],[3,3],[3,4],[3,5],[7,0],[7,2],[11,2],[11,1],[12,0],[12,2],[15,2],[15,1],[16,1],[16,1],[16,1],[16,2],[16,2],[16,1],[16,1],[16,1],[16,2],[26,2],[26,4],[19,3],[19,5],[19,5],[19,5],[19,5],[18,2],[18,4],[18,4],[18,4],[18,6],[18,6],[18,6],[18,6],[18,6],[18,6],[18,8],[18,8],[18,8],[18,8],[18,8],[18,8],[17,2],[17,3],[17,3],[17,5],[17,5],[17,3],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,3],[17,5],[17,5],[17,5],[17,5],[17,5],[17,5],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,7],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[17,9],[41,0],[41,1],[39,1],[39,1],[39,1],[5,3],[5,5],[46,1],[47,1],[49,1],[48,1],[28,1],[28,1],[4,1],[4,1],[4,1]],performAction:function(Mn,Sn,Dn,gn,Un,pn,yr){var xn=pn.length-1;switch(Un){case 3:return pn[xn];case 4:return pn[xn-1];case 5:return gn.setDirection(pn[xn-3]),pn[xn-1];case 7:gn.setOptions(pn[xn-1]),this.$=pn[xn];break;case 8:pn[xn-1]+=pn[xn],this.$=pn[xn-1];break;case 10:this.$=[];break;case 11:pn[xn-1].push(pn[xn]),this.$=pn[xn-1];break;case 12:this.$=pn[xn-1];break;case 17:this.$=pn[xn].trim(),gn.setAccTitle(this.$);break;case 18:case 19:this.$=pn[xn].trim(),gn.setAccDescription(this.$);break;case 20:gn.addSection(pn[xn].substr(8)),this.$=pn[xn].substr(8);break;case 22:gn.checkout(pn[xn]);break;case 23:gn.branch(pn[xn]);break;case 24:gn.branch(pn[xn-2],pn[xn]);break;case 25:gn.cherryPick(pn[xn],"",void 0);break;case 26:gn.cherryPick(pn[xn-2],"",pn[xn]);break;case 27:case 29:gn.cherryPick(pn[xn-2],"","");break;case 28:gn.cherryPick(pn[xn],"",pn[xn-2]);break;case 30:gn.merge(pn[xn],"","","");break;case 31:gn.merge(pn[xn-2],pn[xn],"","");break;case 32:gn.merge(pn[xn-2],"",pn[xn],"");break;case 33:gn.merge(pn[xn-2],"","",pn[xn]);break;case 34:gn.merge(pn[xn-4],pn[xn],"",pn[xn-2]);break;case 35:gn.merge(pn[xn-4],"",pn[xn],pn[xn-2]);break;case 36:gn.merge(pn[xn-4],"",pn[xn-2],pn[xn]);break;case 37:gn.merge(pn[xn-4],pn[xn-2],pn[xn],"");break;case 38:gn.merge(pn[xn-4],pn[xn-2],"",pn[xn]);break;case 39:gn.merge(pn[xn-4],pn[xn],pn[xn-2],"");break;case 40:gn.merge(pn[xn-6],pn[xn-4],pn[xn-2],pn[xn]);break;case 41:gn.merge(pn[xn-6],pn[xn],pn[xn-4],pn[xn-2]);break;case 42:gn.merge(pn[xn-6],pn[xn-4],pn[xn],pn[xn-2]);break;case 43:gn.merge(pn[xn-6],pn[xn-2],pn[xn-4],pn[xn]);break;case 44:gn.merge(pn[xn-6],pn[xn],pn[xn-2],pn[xn-4]);break;case 45:gn.merge(pn[xn-6],pn[xn-2],pn[xn],pn[xn-4]);break;case 46:gn.commit(pn[xn]);break;case 47:gn.commit("","",gn.commitType.NORMAL,pn[xn]);break;case 48:gn.commit("","",pn[xn],"");break;case 49:gn.commit("","",pn[xn],pn[xn-2]);break;case 50:gn.commit("","",pn[xn-2],pn[xn]);break;case 51:gn.commit("",pn[xn],gn.commitType.NORMAL,"");break;case 52:gn.commit("",pn[xn-2],gn.commitType.NORMAL,pn[xn]);break;case 53:gn.commit("",pn[xn],gn.commitType.NORMAL,pn[xn-2]);break;case 54:gn.commit("",pn[xn-2],pn[xn],"");break;case 55:gn.commit("",pn[xn],pn[xn-2],"");break;case 56:gn.commit("",pn[xn-4],pn[xn-2],pn[xn]);break;case 57:gn.commit("",pn[xn-4],pn[xn],pn[xn-2]);break;case 58:gn.commit("",pn[xn-2],pn[xn-4],pn[xn]);break;case 59:gn.commit("",pn[xn],pn[xn-4],pn[xn-2]);break;case 60:gn.commit("",pn[xn],pn[xn-2],pn[xn-4]);break;case 61:gn.commit("",pn[xn-2],pn[xn],pn[xn-4]);break;case 62:gn.commit(pn[xn],"",gn.commitType.NORMAL,"");break;case 63:gn.commit(pn[xn],"",gn.commitType.NORMAL,pn[xn-2]);break;case 64:gn.commit(pn[xn-2],"",gn.commitType.NORMAL,pn[xn]);break;case 65:gn.commit(pn[xn-2],"",pn[xn],"");break;case 66:gn.commit(pn[xn],"",pn[xn-2],"");break;case 67:gn.commit(pn[xn],pn[xn-2],gn.commitType.NORMAL,"");break;case 68:gn.commit(pn[xn-2],pn[xn],gn.commitType.NORMAL,"");break;case 69:gn.commit(pn[xn-4],"",pn[xn-2],pn[xn]);break;case 70:gn.commit(pn[xn-4],"",pn[xn],pn[xn-2]);break;case 71:gn.commit(pn[xn-2],"",pn[xn-4],pn[xn]);break;case 72:gn.commit(pn[xn],"",pn[xn-4],pn[xn-2]);break;case 73:gn.commit(pn[xn],"",pn[xn-2],pn[xn-4]);break;case 74:gn.commit(pn[xn-2],"",pn[xn],pn[xn-4]);break;case 75:gn.commit(pn[xn-4],pn[xn],pn[xn-2],"");break;case 76:gn.commit(pn[xn-4],pn[xn-2],pn[xn],"");break;case 77:gn.commit(pn[xn-2],pn[xn],pn[xn-4],"");break;case 78:gn.commit(pn[xn],pn[xn-2],pn[xn-4],"");break;case 79:gn.commit(pn[xn],pn[xn-4],pn[xn-2],"");break;case 80:gn.commit(pn[xn-2],pn[xn-4],pn[xn],"");break;case 81:gn.commit(pn[xn-4],pn[xn],gn.commitType.NORMAL,pn[xn-2]);break;case 82:gn.commit(pn[xn-4],pn[xn-2],gn.commitType.NORMAL,pn[xn]);break;case 83:gn.commit(pn[xn-2],pn[xn],gn.commitType.NORMAL,pn[xn-4]);break;case 84:gn.commit(pn[xn],pn[xn-2],gn.commitType.NORMAL,pn[xn-4]);break;case 85:gn.commit(pn[xn],pn[xn-4],gn.commitType.NORMAL,pn[xn-2]);break;case 86:gn.commit(pn[xn-2],pn[xn-4],gn.commitType.NORMAL,pn[xn]);break;case 87:gn.commit(pn[xn-6],pn[xn-4],pn[xn-2],pn[xn]);break;case 88:gn.commit(pn[xn-6],pn[xn-4],pn[xn],pn[xn-2]);break;case 89:gn.commit(pn[xn-6],pn[xn-2],pn[xn-4],pn[xn]);break;case 90:gn.commit(pn[xn-6],pn[xn],pn[xn-4],pn[xn-2]);break;case 91:gn.commit(pn[xn-6],pn[xn-2],pn[xn],pn[xn-4]);break;case 92:gn.commit(pn[xn-6],pn[xn],pn[xn-2],pn[xn-4]);break;case 93:gn.commit(pn[xn-4],pn[xn-6],pn[xn-2],pn[xn]);break;case 94:gn.commit(pn[xn-4],pn[xn-6],pn[xn],pn[xn-2]);break;case 95:gn.commit(pn[xn-2],pn[xn-6],pn[xn-4],pn[xn]);break;case 96:gn.commit(pn[xn],pn[xn-6],pn[xn-4],pn[xn-2]);break;case 97:gn.commit(pn[xn-2],pn[xn-6],pn[xn],pn[xn-4]);break;case 98:gn.commit(pn[xn],pn[xn-6],pn[xn-2],pn[xn-4]);break;case 99:gn.commit(pn[xn],pn[xn-4],pn[xn-2],pn[xn-6]);break;case 100:gn.commit(pn[xn-2],pn[xn-4],pn[xn],pn[xn-6]);break;case 101:gn.commit(pn[xn],pn[xn-2],pn[xn-4],pn[xn-6]);break;case 102:gn.commit(pn[xn-2],pn[xn],pn[xn-4],pn[xn-6]);break;case 103:gn.commit(pn[xn-4],pn[xn-2],pn[xn],pn[xn-6]);break;case 104:gn.commit(pn[xn-4],pn[xn],pn[xn-2],pn[xn-6]);break;case 105:gn.commit(pn[xn-2],pn[xn-4],pn[xn-6],pn[xn]);break;case 106:gn.commit(pn[xn],pn[xn-4],pn[xn-6],pn[xn-2]);break;case 107:gn.commit(pn[xn-2],pn[xn],pn[xn-6],pn[xn-4]);break;case 108:gn.commit(pn[xn],pn[xn-2],pn[xn-6],pn[xn-4]);break;case 109:gn.commit(pn[xn-4],pn[xn-2],pn[xn-6],pn[xn]);break;case 110:gn.commit(pn[xn-4],pn[xn],pn[xn-6],pn[xn-2]);break;case 111:this.$="";break;case 112:this.$=pn[xn];break;case 113:this.$=gn.commitType.NORMAL;break;case 114:this.$=gn.commitType.REVERSE;break;case 115:this.$=gn.commitType.HIGHLIGHT;break;case 118:gn.parseDirective("%%{","open_directive");break;case 119:gn.parseDirective(pn[xn],"type_directive");break;case 120:pn[xn]=pn[xn].trim().replace(/'/g,'"'),gn.parseDirective(pn[xn],"arg_directive");break;case 121:gn.parseDirective("}%%","close_directive","gitGraph");break}},table:[{3:1,4:2,5:3,6:rt,8:it,14:st,46:8,50:bt,55:wt},{1:[3]},{3:10,4:2,5:3,6:rt,8:it,14:st,46:8,50:bt,55:wt},{3:11,4:2,5:3,6:rt,8:it,14:st,46:8,50:bt,55:wt},{7:12,8:Et,9:[1,13],10:[1,14],11:15,14:Tt},nt(At,[2,124]),nt(At,[2,125]),nt(At,[2,126]),{47:17,51:[1,18]},{51:[2,118]},{1:[2,1]},{1:[2,2]},{8:[1,19]},{7:20,8:Et,11:15,14:Tt},{9:[1,21]},nt(Dt,[2,10],{12:22,13:[1,23]}),nt(Ot,[2,9]),{9:[1,25],48:24,53:zt},nt([9,53],[2,119]),{1:[2,3]},{8:[1,27]},{7:28,8:Et,11:15,14:Tt},{8:[2,7],14:[1,31],15:29,16:30,17:32,18:33,19:34,20:[1,35],22:[1,36],24:[1,37],25:[1,38],26:39,27:[1,40],29:[1,44],32:[1,43],37:[1,42],40:[1,41]},nt(Ot,[2,8]),nt($t,[2,116]),{49:45,52:[1,46]},nt($t,[2,121]),{1:[2,4]},{8:[1,47]},nt(Dt,[2,11]),{4:48,8:it,14:st,55:wt},nt(Dt,[2,13]),nt(Bt,[2,14]),nt(Bt,[2,15]),nt(Bt,[2,16]),{21:[1,49]},{23:[1,50]},nt(Bt,[2,19]),nt(Bt,[2,20]),nt(Bt,[2,21]),{28:51,34:Yt,54:Xt},nt(Bt,[2,111],{41:54,33:[1,57],34:[1,59],35:[1,55],38:[1,56],42:[1,58]}),{28:60,34:Yt,54:Xt},{33:[1,61],35:[1,62]},{28:63,34:Yt,54:Xt},{48:64,53:zt},{53:[2,120]},{1:[2,5]},nt(Dt,[2,12]),nt(Bt,[2,17]),nt(Bt,[2,18]),nt(Bt,[2,22]),nt(Ht,[2,122]),nt(Ht,[2,123]),nt(Bt,[2,46]),{34:[1,65]},{39:66,43:Qt,44:Zt,45:nn},{34:[1,70]},{34:[1,71]},nt(Bt,[2,112]),nt(Bt,[2,30],{33:[1,72],35:[1,74],38:[1,73]}),{34:[1,75]},{34:[1,76],36:[1,77]},nt(Bt,[2,23],{30:[1,78]}),nt($t,[2,117]),nt(Bt,[2,47],{33:[1,80],38:[1,79],42:[1,81]}),nt(Bt,[2,48],{33:[1,83],35:[1,82],42:[1,84]}),nt(Kt,[2,113]),nt(Kt,[2,114]),nt(Kt,[2,115]),nt(Bt,[2,51],{35:[1,85],38:[1,86],42:[1,87]}),nt(Bt,[2,62],{33:[1,90],35:[1,88],38:[1,89]}),{34:[1,91]},{39:92,43:Qt,44:Zt,45:nn},{34:[1,93]},nt(Bt,[2,25],{35:[1,94]}),{33:[1,95]},{33:[1,96]},{31:[1,97]},{39:98,43:Qt,44:Zt,45:nn},{34:[1,99]},{34:[1,100]},{34:[1,101]},{34:[1,102]},{34:[1,103]},{34:[1,104]},{39:105,43:Qt,44:Zt,45:nn},{34:[1,106]},{34:[1,107]},{39:108,43:Qt,44:Zt,45:nn},{34:[1,109]},nt(Bt,[2,31],{35:[1,111],38:[1,110]}),nt(Bt,[2,32],{33:[1,113],35:[1,112]}),nt(Bt,[2,33],{33:[1,114],38:[1,115]}),{34:[1,116],36:[1,117]},{34:[1,118]},{34:[1,119]},nt(Bt,[2,24]),nt(Bt,[2,49],{33:[1,120],42:[1,121]}),nt(Bt,[2,53],{38:[1,122],42:[1,123]}),nt(Bt,[2,63],{33:[1,125],38:[1,124]}),nt(Bt,[2,50],{33:[1,126],42:[1,127]}),nt(Bt,[2,55],{35:[1,128],42:[1,129]}),nt(Bt,[2,66],{33:[1,131],35:[1,130]}),nt(Bt,[2,52],{38:[1,132],42:[1,133]}),nt(Bt,[2,54],{35:[1,134],42:[1,135]}),nt(Bt,[2,67],{35:[1,137],38:[1,136]}),nt(Bt,[2,64],{33:[1,139],38:[1,138]}),nt(Bt,[2,65],{33:[1,141],35:[1,140]}),nt(Bt,[2,68],{35:[1,143],38:[1,142]}),{39:144,43:Qt,44:Zt,45:nn},{34:[1,145]},{34:[1,146]},{34:[1,147]},{34:[1,148]},{39:149,43:Qt,44:Zt,45:nn},nt(Bt,[2,26]),nt(Bt,[2,27]),nt(Bt,[2,28]),nt(Bt,[2,29]),{34:[1,150]},{34:[1,151]},{39:152,43:Qt,44:Zt,45:nn},{34:[1,153]},{39:154,43:Qt,44:Zt,45:nn},{34:[1,155]},{34:[1,156]},{34:[1,157]},{34:[1,158]},{34:[1,159]},{34:[1,160]},{34:[1,161]},{39:162,43:Qt,44:Zt,45:nn},{34:[1,163]},{34:[1,164]},{34:[1,165]},{39:166,43:Qt,44:Zt,45:nn},{34:[1,167]},{39:168,43:Qt,44:Zt,45:nn},{34:[1,169]},{34:[1,170]},{34:[1,171]},{39:172,43:Qt,44:Zt,45:nn},{34:[1,173]},nt(Bt,[2,37],{35:[1,174]}),nt(Bt,[2,38],{38:[1,175]}),nt(Bt,[2,36],{33:[1,176]}),nt(Bt,[2,39],{35:[1,177]}),nt(Bt,[2,34],{38:[1,178]}),nt(Bt,[2,35],{33:[1,179]}),nt(Bt,[2,60],{42:[1,180]}),nt(Bt,[2,73],{33:[1,181]}),nt(Bt,[2,61],{42:[1,182]}),nt(Bt,[2,84],{38:[1,183]}),nt(Bt,[2,74],{33:[1,184]}),nt(Bt,[2,83],{38:[1,185]}),nt(Bt,[2,59],{42:[1,186]}),nt(Bt,[2,72],{33:[1,187]}),nt(Bt,[2,58],{42:[1,188]}),nt(Bt,[2,78],{35:[1,189]}),nt(Bt,[2,71],{33:[1,190]}),nt(Bt,[2,77],{35:[1,191]}),nt(Bt,[2,57],{42:[1,192]}),nt(Bt,[2,85],{38:[1,193]}),nt(Bt,[2,56],{42:[1,194]}),nt(Bt,[2,79],{35:[1,195]}),nt(Bt,[2,80],{35:[1,196]}),nt(Bt,[2,86],{38:[1,197]}),nt(Bt,[2,70],{33:[1,198]}),nt(Bt,[2,81],{38:[1,199]}),nt(Bt,[2,69],{33:[1,200]}),nt(Bt,[2,75],{35:[1,201]}),nt(Bt,[2,76],{35:[1,202]}),nt(Bt,[2,82],{38:[1,203]}),{34:[1,204]},{39:205,43:Qt,44:Zt,45:nn},{34:[1,206]},{34:[1,207]},{39:208,43:Qt,44:Zt,45:nn},{34:[1,209]},{34:[1,210]},{34:[1,211]},{34:[1,212]},{39:213,43:Qt,44:Zt,45:nn},{34:[1,214]},{39:215,43:Qt,44:Zt,45:nn},{34:[1,216]},{34:[1,217]},{34:[1,218]},{34:[1,219]},{34:[1,220]},{34:[1,221]},{34:[1,222]},{39:223,43:Qt,44:Zt,45:nn},{34:[1,224]},{34:[1,225]},{34:[1,226]},{39:227,43:Qt,44:Zt,45:nn},{34:[1,228]},{39:229,43:Qt,44:Zt,45:nn},{34:[1,230]},{34:[1,231]},{34:[1,232]},{39:233,43:Qt,44:Zt,45:nn},nt(Bt,[2,40]),nt(Bt,[2,42]),nt(Bt,[2,41]),nt(Bt,[2,43]),nt(Bt,[2,45]),nt(Bt,[2,44]),nt(Bt,[2,101]),nt(Bt,[2,102]),nt(Bt,[2,99]),nt(Bt,[2,100]),nt(Bt,[2,104]),nt(Bt,[2,103]),nt(Bt,[2,108]),nt(Bt,[2,107]),nt(Bt,[2,106]),nt(Bt,[2,105]),nt(Bt,[2,110]),nt(Bt,[2,109]),nt(Bt,[2,98]),nt(Bt,[2,97]),nt(Bt,[2,96]),nt(Bt,[2,95]),nt(Bt,[2,93]),nt(Bt,[2,94]),nt(Bt,[2,92]),nt(Bt,[2,91]),nt(Bt,[2,90]),nt(Bt,[2,89]),nt(Bt,[2,87]),nt(Bt,[2,88])],defaultActions:{9:[2,118],10:[2,1],11:[2,2],19:[2,3],27:[2,4],46:[2,120],47:[2,5]},parseError:function(Mn,Sn){if(Sn.recoverable)this.trace(Mn);else{var Dn=new Error(Mn);throw Dn.hash=Sn,Dn}},parse:function(Mn){var Sn=this,Dn=[0],gn=[],Un=[null],pn=[],yr=this.table,xn="",Mr=0,fr=0,cr=2,Gn=1,lr=pn.slice.call(arguments,1),ur=Object.create(this.lexer),vr={yy:{}};for(var Ir in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ir)&&(vr.yy[Ir]=this.yy[Ir]);ur.setInput(Mn,vr.yy),vr.yy.lexer=ur,vr.yy.parser=this,typeof ur.yylloc>"u"&&(ur.yylloc={});var Pr=ur.yylloc;pn.push(Pr);var _r=ur.options&&ur.options.ranges;typeof vr.yy.parseError=="function"?this.parseError=vr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tr(){var Er;return Er=gn.pop()||ur.lex()||Gn,typeof Er!="number"&&(Er instanceof Array&&(gn=Er,Er=gn.pop()),Er=Sn.symbols_[Er]||Er),Er}for(var qn,mr,br,hr,An={},rn,vn,hn,zn;;){if(mr=Dn[Dn.length-1],this.defaultActions[mr]?br=this.defaultActions[mr]:((qn===null||typeof qn>"u")&&(qn=tr()),br=yr[mr]&&yr[mr][qn]),typeof br>"u"||!br.length||!br[0]){var On="";zn=[];for(rn in yr[mr])this.terminals_[rn]&&rn>cr&&zn.push("'"+this.terminals_[rn]+"'");ur.showPosition?On="Parse error on line "+(Mr+1)+`:
`+ur.showPosition()+`
Expecting `+zn.join(", ")+", got '"+(this.terminals_[qn]||qn)+"'":On="Parse error on line "+(Mr+1)+": Unexpected "+(qn==Gn?"end of input":"'"+(this.terminals_[qn]||qn)+"'"),this.parseError(On,{text:ur.match,token:this.terminals_[qn]||qn,line:ur.yylineno,loc:Pr,expected:zn})}if(br[0]instanceof Array&&br.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mr+", token: "+qn);switch(br[0]){case 1:Dn.push(qn),Un.push(ur.yytext),pn.push(ur.yylloc),Dn.push(br[1]),qn=null,fr=ur.yyleng,xn=ur.yytext,Mr=ur.yylineno,Pr=ur.yylloc;break;case 2:if(vn=this.productions_[br[1]][1],An.$=Un[Un.length-vn],An._$={first_line:pn[pn.length-(vn||1)].first_line,last_line:pn[pn.length-1].last_line,first_column:pn[pn.length-(vn||1)].first_column,last_column:pn[pn.length-1].last_column},_r&&(An._$.range=[pn[pn.length-(vn||1)].range[0],pn[pn.length-1].range[1]]),hr=this.performAction.apply(An,[xn,fr,Mr,vr.yy,br[1],Un,pn].concat(lr)),typeof hr<"u")return hr;vn&&(Dn=Dn.slice(0,-1*vn*2),Un=Un.slice(0,-1*vn),pn=pn.slice(0,-1*vn)),Dn.push(this.productions_[br[1]][0]),Un.push(An.$),pn.push(An._$),hn=yr[Dn[Dn.length-2]][Dn[Dn.length-1]],Dn.push(hn);break;case 3:return!0}}return!0}},sn=function(){var wn={EOF:1,parseError:function(Sn,Dn){if(this.yy.parser)this.yy.parser.parseError(Sn,Dn);else throw new Error(Sn)},setInput:function(Mn,Sn){return this.yy=Sn||this.yy||{},this._input=Mn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Mn=this._input[0];this.yytext+=Mn,this.yyleng++,this.offset++,this.match+=Mn,this.matched+=Mn;var Sn=Mn.match(/(?:\r\n?|\n).*/g);return Sn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Mn},unput:function(Mn){var Sn=Mn.length,Dn=Mn.split(/(?:\r\n?|\n)/g);this._input=Mn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Sn),this.offset-=Sn;var gn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Dn.length-1&&(this.yylineno-=Dn.length-1);var Un=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Dn?(Dn.length===gn.length?this.yylloc.first_column:0)+gn[gn.length-Dn.length].length-Dn[0].length:this.yylloc.first_column-Sn},this.options.ranges&&(this.yylloc.range=[Un[0],Un[0]+this.yyleng-Sn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Mn){this.unput(this.match.slice(Mn))},pastInput:function(){var Mn=this.matched.substr(0,this.matched.length-this.match.length);return(Mn.length>20?"...":"")+Mn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Mn=this.match;return Mn.length<20&&(Mn+=this._input.substr(0,20-Mn.length)),(Mn.substr(0,20)+(Mn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Mn=this.pastInput(),Sn=new Array(Mn.length+1).join("-");return Mn+this.upcomingInput()+`
`+Sn+"^"},test_match:function(Mn,Sn){var Dn,gn,Un;if(this.options.backtrack_lexer&&(Un={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Un.yylloc.range=this.yylloc.range.slice(0))),gn=Mn[0].match(/(?:\r\n?|\n).*/g),gn&&(this.yylineno+=gn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:gn?gn[gn.length-1].length-gn[gn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Mn[0].length},this.yytext+=Mn[0],this.match+=Mn[0],this.matches=Mn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Mn[0].length),this.matched+=Mn[0],Dn=this.performAction.call(this,this.yy,this,Sn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Dn)return Dn;if(this._backtrack){for(var pn in Un)this[pn]=Un[pn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Mn,Sn,Dn,gn;this._more||(this.yytext="",this.match="");for(var Un=this._currentRules(),pn=0;pn<Un.length;pn++)if(Dn=this._input.match(this.rules[Un[pn]]),Dn&&(!Sn||Dn[0].length>Sn[0].length)){if(Sn=Dn,gn=pn,this.options.backtrack_lexer){if(Mn=this.test_match(Dn,Un[pn]),Mn!==!1)return Mn;if(this._backtrack){Sn=!1;continue}else return!1}else if(!this.options.flex)break}return Sn?(Mn=this.test_match(Sn,Un[gn]),Mn!==!1?Mn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Sn=this.next();return Sn||this.lex()},begin:function(Sn){this.conditionStack.push(Sn)},popState:function(){var Sn=this.conditionStack.length-1;return Sn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Sn){return Sn=this.conditionStack.length-1-Math.abs(Sn||0),Sn>=0?this.conditionStack[Sn]:"INITIAL"},pushState:function(Sn){this.begin(Sn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Sn,Dn,gn,Un){switch(gn){case 0:return this.begin("open_directive"),50;case 1:return this.begin("type_directive"),51;case 2:return this.popState(),this.begin("arg_directive"),9;case 3:return this.popState(),this.popState(),53;case 4:return 52;case 5:return this.begin("acc_title"),20;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),22;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:return 14;case 13:break;case 14:break;case 15:return 6;case 16:return 40;case 17:return 33;case 18:return 38;case 19:return 42;case 20:return 43;case 21:return 44;case 22:return 45;case 23:return 35;case 24:return 29;case 25:return 30;case 26:return 37;case 27:return 32;case 28:return 27;case 29:return 10;case 30:return 10;case 31:return 9;case 32:return"CARET";case 33:this.begin("options");break;case 34:this.popState();break;case 35:return 13;case 36:return 36;case 37:this.begin("string");break;case 38:this.popState();break;case 39:return 34;case 40:return 31;case 41:return 54;case 42:return 8}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:BT\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},options:{rules:[34,35],inclusive:!1},string:{rules:[38,39],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,36,37,40,41,42,43],inclusive:!0}}};return wn}();ln.lexer=sn;function bn(){this.yy={}}return bn.prototype=ln,ln.Parser=bn,new bn}();parser$b.parser=parser$b;const gitGraphParser=parser$b,gitGraphDetector=nt=>nt.match(/^\s*gitGraph/)!==null;let title$1="",diagramTitle="",description="";const sanitizeText$3=nt=>sanitizeText$5(nt,getConfig$1()),clear$g=function(){title$1="",description="",diagramTitle=""},setAccTitle=function(nt){title$1=sanitizeText$3(nt).replace(/^\s+/g,"")},getAccTitle=function(){return title$1||diagramTitle},setAccDescription=function(nt){description=sanitizeText$3(nt).replace(/\n\s+/g,`
`)},getAccDescription=function(){return description},setDiagramTitle=function(nt){diagramTitle=sanitizeText$3(nt)},getDiagramTitle=function(){return diagramTitle};let mainBranchName=getConfig$1().gitGraph.mainBranchName,mainBranchOrder=getConfig$1().gitGraph.mainBranchOrder,commits={},head=null,branchesConfig={};branchesConfig[mainBranchName]={name:mainBranchName,order:mainBranchOrder};let branches={};branches[mainBranchName]=head;let curBranch=mainBranchName,direction$3="LR",seq=0;function getId(){return random({length:7})}const parseDirective$b=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)};function uniqBy(nt,rt){const it=Object.create(null);return nt.reduce((st,bt)=>{const wt=rt(bt);return it[wt]||(it[wt]=!0,st.push(bt)),st},[])}const setDirection$3=function(nt){direction$3=nt};let options={};const setOptions=function(nt){log$1.debug("options str",nt),nt=nt&&nt.trim(),nt=nt||"{}";try{options=JSON.parse(nt)}catch(rt){log$1.error("error while parsing gitGraph options",rt.message)}},getOptions=function(){return options},commit=function(nt,rt,it,st){log$1.debug("Entering commit:",nt,rt,it,st),rt=common$1.sanitizeText(rt,getConfig$1()),nt=common$1.sanitizeText(nt,getConfig$1()),st=common$1.sanitizeText(st,getConfig$1());const bt={id:rt||seq+"-"+getId(),message:nt,seq:seq++,type:it||commitType$1.NORMAL,tag:st||"",parents:head==null?[]:[head.id],branch:curBranch};head=bt,commits[bt.id]=bt,branches[curBranch]=bt.id,log$1.debug("in pushCommit "+bt.id)},branch=function(nt,rt){if(nt=common$1.sanitizeText(nt,getConfig$1()),branches[nt]===void 0)branches[nt]=head!=null?head.id:null,branchesConfig[nt]={name:nt,order:rt?parseInt(rt,10):null},checkout(nt),log$1.debug("in createBranch");else{let it=new Error('Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout '+nt+'")');throw it.hash={text:"branch "+nt,token:"branch "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"checkout '+nt+'"']},it}},merge=function(nt,rt,it,st){nt=common$1.sanitizeText(nt,getConfig$1()),rt=common$1.sanitizeText(rt,getConfig$1());const bt=commits[branches[curBranch]],wt=commits[branches[nt]];if(curBranch===nt){let Tt=new Error('Incorrect usage of "merge". Cannot merge a branch to itself');throw Tt.hash={text:"merge "+nt,token:"merge "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},Tt}else if(bt===void 0||!bt){let Tt=new Error('Incorrect usage of "merge". Current branch ('+curBranch+")has no commits");throw Tt.hash={text:"merge "+nt,token:"merge "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["commit"]},Tt}else if(branches[nt]===void 0){let Tt=new Error('Incorrect usage of "merge". Branch to be merged ('+nt+") does not exist");throw Tt.hash={text:"merge "+nt,token:"merge "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch "+nt]},Tt}else if(wt===void 0||!wt){let Tt=new Error('Incorrect usage of "merge". Branch to be merged ('+nt+") has no commits");throw Tt.hash={text:"merge "+nt,token:"merge "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"commit"']},Tt}else if(bt===wt){let Tt=new Error('Incorrect usage of "merge". Both branches have same head');throw Tt.hash={text:"merge "+nt,token:"merge "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["branch abc"]},Tt}else if(rt&&commits[rt]!==void 0){let Tt=new Error('Incorrect usage of "merge". Commit with id:'+rt+" already exists, use different custom Id");throw Tt.hash={text:"merge "+nt+rt+it+st,token:"merge "+nt+rt+it+st,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["merge "+nt+" "+rt+"_UNIQUE "+it+" "+st]},Tt}const Et={id:rt||seq+"-"+getId(),message:"merged branch "+nt+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,branches[nt]],branch:curBranch,type:commitType$1.MERGE,customType:it,customId:!!rt,tag:st||""};head=Et,commits[Et.id]=Et,branches[curBranch]=Et.id,log$1.debug(branches),log$1.debug("in mergeBranch")},cherryPick=function(nt,rt,it){if(log$1.debug("Entering cherryPick:",nt,rt,it),nt=common$1.sanitizeText(nt,getConfig$1()),rt=common$1.sanitizeText(rt,getConfig$1()),it=common$1.sanitizeText(it,getConfig$1()),!nt||commits[nt]===void 0){let wt=new Error('Incorrect usage of "cherryPick". Source commit id should exist and provided');throw wt.hash={text:"cherryPick "+nt+" "+rt,token:"cherryPick "+nt+" "+rt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},wt}let st=commits[nt],bt=st.branch;if(st.type===commitType$1.MERGE){let wt=new Error('Incorrect usage of "cherryPick". Source commit should not be a merge commit');throw wt.hash={text:"cherryPick "+nt+" "+rt,token:"cherryPick "+nt+" "+rt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},wt}if(!rt||commits[rt]===void 0){if(bt===curBranch){let Tt=new Error('Incorrect usage of "cherryPick". Source commit is already on current branch');throw Tt.hash={text:"cherryPick "+nt+" "+rt,token:"cherryPick "+nt+" "+rt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},Tt}const wt=commits[branches[curBranch]];if(wt===void 0||!wt){let Tt=new Error('Incorrect usage of "cherry-pick". Current branch ('+curBranch+")has no commits");throw Tt.hash={text:"cherryPick "+nt+" "+rt,token:"cherryPick "+nt+" "+rt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["cherry-pick abc"]},Tt}const Et={id:seq+"-"+getId(),message:"cherry-picked "+st+" into "+curBranch,seq:seq++,parents:[head==null?null:head.id,st.id],branch:curBranch,type:commitType$1.CHERRY_PICK,tag:it!=null?it:"cherry-pick:"+st.id};head=Et,commits[Et.id]=Et,branches[curBranch]=Et.id,log$1.debug(branches),log$1.debug("in cherryPick")}},checkout=function(nt){if(nt=common$1.sanitizeText(nt,getConfig$1()),branches[nt]===void 0){let rt=new Error('Trying to checkout branch which is not yet created. (Help try using "branch '+nt+'")');throw rt.hash={text:"checkout "+nt,token:"checkout "+nt,line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:['"branch '+nt+'"']},rt}else{curBranch=nt;const rt=branches[curBranch];head=commits[rt]}};function upsert(nt,rt,it){const st=nt.indexOf(rt);st===-1?nt.push(it):nt.splice(st,1,it)}function prettyPrintCommitHistory(nt){const rt=nt.reduce((bt,wt)=>bt.seq>wt.seq?bt:wt,nt[0]);let it="";nt.forEach(function(bt){bt===rt?it+="	*":it+="	|"});const st=[it,rt.id,rt.seq];for(let bt in branches)branches[bt]===rt.id&&st.push(bt);if(log$1.debug(st.join(" ")),rt.parents&&rt.parents.length==2){const bt=commits[rt.parents[0]];upsert(nt,rt,bt),nt.push(commits[rt.parents[1]])}else{if(rt.parents.length==0)return;{const bt=commits[rt.parents];upsert(nt,rt,bt)}}nt=uniqBy(nt,bt=>bt.id),prettyPrintCommitHistory(nt)}const prettyPrint=function(){log$1.debug(commits);const nt=getCommitsArray()[0];prettyPrintCommitHistory([nt])},clear$f=function(){commits={},head=null;let nt=getConfig$1().gitGraph.mainBranchName,rt=getConfig$1().gitGraph.mainBranchOrder;branches={},branches[nt]=null,branchesConfig={},branchesConfig[nt]={name:nt,order:rt},curBranch=nt,seq=0,clear$g()},getBranchesAsObjArray=function(){return Object.values(branchesConfig).map((rt,it)=>rt.order!==null?rt:{...rt,order:parseFloat(`0.${it}`,10)}).sort((rt,it)=>rt.order-it.order).map(({name:rt})=>({name:rt}))},getBranches=function(){return branches},getCommits=function(){return commits},getCommitsArray=function(){const nt=Object.keys(commits).map(function(rt){return commits[rt]});return nt.forEach(function(rt){log$1.debug(rt.id)}),nt.sort((rt,it)=>rt.seq-it.seq),nt},getCurrentBranch=function(){return curBranch},getDirection$3=function(){return direction$3},getHead=function(){return head},commitType$1={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},gitGraphDb={parseDirective:parseDirective$b,getConfig:()=>getConfig$1().gitGraph,setDirection:setDirection$3,setOptions,getOptions,commit,branch,merge,cherryPick,checkout,prettyPrint,clear:clear$f,getBranchesAsObjArray,getBranches,getCommits,getCommitsArray,getCurrentBranch,getDirection:getDirection$3,getHead,setAccTitle,getAccTitle,getAccDescription,setAccDescription,setDiagramTitle,getDiagramTitle,commitType:commitType$1};let allCommitsDict={};const commitType={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},THEME_COLOR_LIMIT=8;let branchPos={},commitPos={},lanes=[],maxPos=0;const clear$e=()=>{branchPos={},commitPos={},allCommitsDict={},maxPos=0,lanes=[]},drawText$2=nt=>{const rt=document.createElementNS("http://www.w3.org/2000/svg","text");let it=[];typeof nt=="string"?it=nt.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(nt)?it=nt:it=[];for(const st of it){const bt=document.createElementNS("http://www.w3.org/2000/svg","tspan");bt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),bt.setAttribute("dy","1em"),bt.setAttribute("x","0"),bt.setAttribute("class","row"),bt.textContent=st.trim(),rt.appendChild(bt)}return rt},drawCommits=(nt,rt,it)=>{const st=getConfig().gitGraph,bt=nt.append("g").attr("class","commit-bullets"),wt=nt.append("g").attr("class","commit-labels");let Et=0;Object.keys(rt).sort((Dt,Ot)=>rt[Dt].seq-rt[Ot].seq).forEach(Dt=>{const Ot=rt[Dt],zt=branchPos[Ot.branch].pos,$t=Et+10;if(it){let Bt,Yt=Ot.customType!==void 0&&Ot.customType!==""?Ot.customType:Ot.type;switch(Yt){case commitType.NORMAL:Bt="commit-normal";break;case commitType.REVERSE:Bt="commit-reverse";break;case commitType.HIGHLIGHT:Bt="commit-highlight";break;case commitType.MERGE:Bt="commit-merge";break;case commitType.CHERRY_PICK:Bt="commit-cherry-pick";break;default:Bt="commit-normal"}if(Yt===commitType.HIGHLIGHT){const Xt=bt.append("rect");Xt.attr("x",$t-10),Xt.attr("y",zt-10),Xt.attr("height",20),Xt.attr("width",20),Xt.attr("class",`commit ${Ot.id} commit-highlight${branchPos[Ot.branch].index%THEME_COLOR_LIMIT} ${Bt}-outer`),bt.append("rect").attr("x",$t-6).attr("y",zt-6).attr("height",12).attr("width",12).attr("class",`commit ${Ot.id} commit${branchPos[Ot.branch].index%THEME_COLOR_LIMIT} ${Bt}-inner`)}else if(Yt===commitType.CHERRY_PICK)bt.append("circle").attr("cx",$t).attr("cy",zt).attr("r",10).attr("class",`commit ${Ot.id} ${Bt}`),bt.append("circle").attr("cx",$t-3).attr("cy",zt+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${Ot.id} ${Bt}`),bt.append("circle").attr("cx",$t+3).attr("cy",zt+2).attr("r",2.75).attr("fill","#fff").attr("class",`commit ${Ot.id} ${Bt}`),bt.append("line").attr("x1",$t+3).attr("y1",zt+1).attr("x2",$t).attr("y2",zt-5).attr("stroke","#fff").attr("class",`commit ${Ot.id} ${Bt}`),bt.append("line").attr("x1",$t-3).attr("y1",zt+1).attr("x2",$t).attr("y2",zt-5).attr("stroke","#fff").attr("class",`commit ${Ot.id} ${Bt}`);else{const Xt=bt.append("circle");if(Xt.attr("cx",$t),Xt.attr("cy",zt),Xt.attr("r",Ot.type===commitType.MERGE?9:10),Xt.attr("class",`commit ${Ot.id} commit${branchPos[Ot.branch].index%THEME_COLOR_LIMIT}`),Yt===commitType.MERGE){const Ht=bt.append("circle");Ht.attr("cx",$t),Ht.attr("cy",zt),Ht.attr("r",6),Ht.attr("class",`commit ${Bt} ${Ot.id} commit${branchPos[Ot.branch].index%THEME_COLOR_LIMIT}`)}Yt===commitType.REVERSE&&bt.append("path").attr("d",`M ${$t-5},${zt-5}L${$t+5},${zt+5}M${$t-5},${zt+5}L${$t+5},${zt-5}`).attr("class",`commit ${Bt} ${Ot.id} commit${branchPos[Ot.branch].index%THEME_COLOR_LIMIT}`)}}if(commitPos[Ot.id]={x:Et+10,y:zt},it){if(Ot.type!==commitType.CHERRY_PICK&&(Ot.customId&&Ot.type===commitType.MERGE||Ot.type!==commitType.MERGE)&&st.showCommitLabel){const Xt=wt.append("g"),Ht=Xt.insert("rect").attr("class","commit-label-bkg"),Qt=Xt.append("text").attr("x",Et).attr("y",zt+25).attr("class","commit-label").text(Ot.id);let Zt=Qt.node().getBBox();if(Ht.attr("x",Et+10-Zt.width/2-2).attr("y",zt+13.5).attr("width",Zt.width+2*2).attr("height",Zt.height+2*2),Qt.attr("x",Et+10-Zt.width/2),st.rotateCommitLabel){let nn=-7.5-(Zt.width+10)/25*9.5,Kt=10+Zt.width/25*8.5;Xt.attr("transform","translate("+nn+", "+Kt+") rotate("+-45+", "+Et+", "+zt+")")}}if(Ot.tag){const Xt=wt.insert("polygon"),Ht=wt.append("circle"),Qt=wt.append("text").attr("y",zt-16).attr("class","tag-label").text(Ot.tag);let Zt=Qt.node().getBBox();Qt.attr("x",Et+10-Zt.width/2);const nn=Zt.height/2,Kt=zt-19.2;Xt.attr("class","tag-label-bkg").attr("points",`
          ${Et-Zt.width/2-4/2},${Kt+2}
          ${Et-Zt.width/2-4/2},${Kt-2}
          ${Et+10-Zt.width/2-4},${Kt-nn-2}
          ${Et+10+Zt.width/2+4},${Kt-nn-2}
          ${Et+10+Zt.width/2+4},${Kt+nn+2}
          ${Et+10-Zt.width/2-4},${Kt+nn+2}`),Ht.attr("cx",Et-Zt.width/2+4/2).attr("cy",Kt).attr("r",1.5).attr("class","tag-hole")}}Et+=50,Et>maxPos&&(maxPos=Et)})},hasOverlappingCommits=(nt,rt,it)=>Object.keys(it).filter(wt=>it[wt].branch===rt.branch&&it[wt].seq>nt.seq&&it[wt].seq<rt.seq).length>0,findLane=(nt,rt,it=0)=>{const st=nt+Math.abs(nt-rt)/2;if(it>5)return st;if(lanes.every(Et=>Math.abs(Et-st)>=10))return lanes.push(st),st;const wt=Math.abs(nt-rt);return findLane(nt,rt-wt/5,it+1)},drawArrow=(nt,rt,it,st)=>{const bt=commitPos[rt.id],wt=commitPos[it.id],Et=hasOverlappingCommits(rt,it,st);let Tt="",At="",Dt=0,Ot=0,zt=branchPos[it.branch].index,$t;if(Et){Tt="A 10 10, 0, 0, 0,",At="A 10 10, 0, 0, 1,",Dt=10,Ot=10,zt=branchPos[it.branch].index;const Bt=bt.y<wt.y?findLane(bt.y,wt.y):findLane(wt.y,bt.y);bt.y<wt.y?$t=`M ${bt.x} ${bt.y} L ${bt.x} ${Bt-Dt} ${Tt} ${bt.x+Ot} ${Bt} L ${wt.x-Dt} ${Bt} ${At} ${wt.x} ${Bt+Ot} L ${wt.x} ${wt.y}`:$t=`M ${bt.x} ${bt.y} L ${bt.x} ${Bt+Dt} ${At} ${bt.x+Ot} ${Bt} L ${wt.x-Dt} ${Bt} ${Tt} ${wt.x} ${Bt-Ot} L ${wt.x} ${wt.y}`}else bt.y<wt.y&&(Tt="A 20 20, 0, 0, 0,",Dt=20,Ot=20,zt=branchPos[it.branch].index,$t=`M ${bt.x} ${bt.y} L ${bt.x} ${wt.y-Dt} ${Tt} ${bt.x+Ot} ${wt.y} L ${wt.x} ${wt.y}`),bt.y>wt.y&&(Tt="A 20 20, 0, 0, 0,",Dt=20,Ot=20,zt=branchPos[rt.branch].index,$t=`M ${bt.x} ${bt.y} L ${wt.x-Dt} ${bt.y} ${Tt} ${wt.x} ${bt.y-Ot} L ${wt.x} ${wt.y}`),bt.y===wt.y&&(zt=branchPos[rt.branch].index,$t=`M ${bt.x} ${bt.y} L ${bt.x} ${wt.y-Dt} ${Tt} ${bt.x+Ot} ${wt.y} L ${wt.x} ${wt.y}`);nt.append("path").attr("d",$t).attr("class","arrow arrow"+zt%THEME_COLOR_LIMIT)},drawArrows=(nt,rt)=>{const it=nt.append("g").attr("class","commit-arrows");Object.keys(rt).forEach(st=>{const bt=rt[st];bt.parents&&bt.parents.length>0&&bt.parents.forEach(wt=>{drawArrow(it,rt[wt],bt,rt)})})},drawBranches=(nt,rt)=>{const it=getConfig().gitGraph,st=nt.append("g");rt.forEach((bt,wt)=>{const Et=wt%THEME_COLOR_LIMIT,Tt=branchPos[bt.name].pos,At=st.append("line");At.attr("x1",0),At.attr("y1",Tt),At.attr("x2",maxPos),At.attr("y2",Tt),At.attr("class","branch branch"+Et),lanes.push(Tt);let Dt=bt.name;const Ot=drawText$2(Dt),zt=st.insert("rect"),Bt=st.insert("g").attr("class","branchLabel").insert("g").attr("class","label branch-label"+Et);Bt.node().appendChild(Ot);let Yt=Ot.getBBox();zt.attr("class","branchLabelBkg label"+Et).attr("rx",4).attr("ry",4).attr("x",-Yt.width-4-(it.rotateCommitLabel===!0?30:0)).attr("y",-Yt.height/2+8).attr("width",Yt.width+18).attr("height",Yt.height+4),Bt.attr("transform","translate("+(-Yt.width-14-(it.rotateCommitLabel===!0?30:0))+", "+(Tt-Yt.height/2-1)+")"),zt.attr("transform","translate("+-19+", "+(Tt-Yt.height/2)+")")})},draw$f=function(nt,rt,it,st){var bt;clear$e();const wt=getConfig(),Et=wt.gitGraph;log$1.debug("in gitgraph renderer",nt+`
`,"id:",rt,it),allCommitsDict=st.db.getCommits();const Tt=st.db.getBranchesAsObjArray();let At=0;Tt.forEach((Ot,zt)=>{branchPos[Ot.name]={pos:At,index:zt},At+=50+(Et.rotateCommitLabel?40:0)});const Dt=select(`[id="${rt}"]`);drawCommits(Dt,allCommitsDict,!1),Et.showBranches&&drawBranches(Dt,Tt),drawArrows(Dt,allCommitsDict),drawCommits(Dt,allCommitsDict,!0),utils.insertTitle(Dt,"gitTitleText",Et.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox(void 0,Dt,Et.diagramPadding,(bt=Et.useMaxWidth)!=null?bt:wt.useMaxWidth)},gitGraphRenderer={draw:draw$f},getStyles=nt=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(rt=>`
        .branch-label${rt} { fill: ${nt["gitBranchLabel"+rt]}; }
        .commit${rt} { stroke: ${nt["git"+rt]}; fill: ${nt["git"+rt]}; }
        .commit-highlight${rt} { stroke: ${nt["gitInv"+rt]}; fill: ${nt["gitInv"+rt]}; }
        .label${rt}  { fill: ${nt["git"+rt]}; }
        .arrow${rt} { stroke: ${nt["git"+rt]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${nt.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${nt.commitLabelFontSize}; fill: ${nt.commitLabelColor};}
  .commit-label-bkg { font-size: ${nt.commitLabelFontSize}; fill: ${nt.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${nt.tagLabelFontSize}; fill: ${nt.tagLabelColor};}
  .tag-label-bkg { fill: ${nt.tagLabelBackground}; stroke: ${nt.tagLabelBorder}; }
  .tag-hole { fill: ${nt.textColor}; }

  .commit-merge {
    stroke: ${nt.primaryColor};
    fill: ${nt.primaryColor};
  }
  .commit-reverse {
    stroke: ${nt.primaryColor};
    fill: ${nt.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${nt.primaryColor};
    fill: ${nt.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${nt.textColor};
  }
  }
`,gitGraphStyles=getStyles;var parser$a=function(){var nt=function(Ln,Nn,er,sr){for(er=er||{},sr=Ln.length;sr--;er[Ln[sr]]=Nn);return er},rt=[1,6],it=[1,7],st=[1,8],bt=[1,9],wt=[1,16],Et=[1,11],Tt=[1,12],At=[1,13],Dt=[1,14],Ot=[1,15],zt=[1,27],$t=[1,33],Bt=[1,34],Yt=[1,35],Xt=[1,36],Ht=[1,37],Qt=[1,72],Zt=[1,73],nn=[1,74],Kt=[1,75],ln=[1,76],sn=[1,77],bn=[1,78],wn=[1,38],Mn=[1,39],Sn=[1,40],Dn=[1,41],gn=[1,42],Un=[1,43],pn=[1,44],yr=[1,45],xn=[1,46],Mr=[1,47],fr=[1,48],cr=[1,49],Gn=[1,50],lr=[1,51],ur=[1,52],vr=[1,53],Ir=[1,54],Pr=[1,55],_r=[1,56],tr=[1,57],qn=[1,59],mr=[1,60],br=[1,61],hr=[1,62],An=[1,63],rn=[1,64],vn=[1,65],hn=[1,66],zn=[1,67],On=[1,68],Er=[1,69],Rn=[24,52],rr=[24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Kn=[15,24,44,46,47,48,49,50,51,52,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],gr=[1,94],xr=[1,95],Lr=[1,96],Cr=[1,97],Ar=[15,24,52],mi=[7,8,9,10,18,22,25,26,27,28],vi=[15,24,43,52],xi=[15,24,43,52,86,87,89,90],Ci=[15,43],Ei=[44,46,47,48,49,50,51,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84],Bi={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,direction:5,directive:6,direction_tb:7,direction_bt:8,direction_rl:9,direction_lr:10,graphConfig:11,openDirective:12,typeDirective:13,closeDirective:14,NEWLINE:15,":":16,argDirective:17,open_directive:18,type_directive:19,arg_directive:20,close_directive:21,C4_CONTEXT:22,statements:23,EOF:24,C4_CONTAINER:25,C4_COMPONENT:26,C4_DYNAMIC:27,C4_DEPLOYMENT:28,otherStatements:29,diagramStatements:30,otherStatement:31,title:32,accDescription:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,boundaryStatement:39,boundaryStartStatement:40,boundaryStopStatement:41,boundaryStart:42,LBRACE:43,ENTERPRISE_BOUNDARY:44,attributes:45,SYSTEM_BOUNDARY:46,BOUNDARY:47,CONTAINER_BOUNDARY:48,NODE:49,NODE_L:50,NODE_R:51,RBRACE:52,diagramStatement:53,PERSON:54,PERSON_EXT:55,SYSTEM:56,SYSTEM_DB:57,SYSTEM_QUEUE:58,SYSTEM_EXT:59,SYSTEM_EXT_DB:60,SYSTEM_EXT_QUEUE:61,CONTAINER:62,CONTAINER_DB:63,CONTAINER_QUEUE:64,CONTAINER_EXT:65,CONTAINER_EXT_DB:66,CONTAINER_EXT_QUEUE:67,COMPONENT:68,COMPONENT_DB:69,COMPONENT_QUEUE:70,COMPONENT_EXT:71,COMPONENT_EXT_DB:72,COMPONENT_EXT_QUEUE:73,REL:74,BIREL:75,REL_U:76,REL_D:77,REL_L:78,REL_R:79,REL_B:80,REL_INDEX:81,UPDATE_EL_STYLE:82,UPDATE_REL_STYLE:83,UPDATE_LAYOUT_CONFIG:84,attribute:85,STR:86,STR_KEY:87,STR_VALUE:88,ATTRIBUTE:89,ATTRIBUTE_EMPTY:90,$accept:0,$end:1},terminals_:{2:"error",7:"direction_tb",8:"direction_bt",9:"direction_rl",10:"direction_lr",15:"NEWLINE",16:":",18:"open_directive",19:"type_directive",20:"arg_directive",21:"close_directive",22:"C4_CONTEXT",24:"EOF",25:"C4_CONTAINER",26:"C4_COMPONENT",27:"C4_DYNAMIC",28:"C4_DEPLOYMENT",32:"title",33:"accDescription",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",43:"LBRACE",44:"ENTERPRISE_BOUNDARY",46:"SYSTEM_BOUNDARY",47:"BOUNDARY",48:"CONTAINER_BOUNDARY",49:"NODE",50:"NODE_L",51:"NODE_R",52:"RBRACE",54:"PERSON",55:"PERSON_EXT",56:"SYSTEM",57:"SYSTEM_DB",58:"SYSTEM_QUEUE",59:"SYSTEM_EXT",60:"SYSTEM_EXT_DB",61:"SYSTEM_EXT_QUEUE",62:"CONTAINER",63:"CONTAINER_DB",64:"CONTAINER_QUEUE",65:"CONTAINER_EXT",66:"CONTAINER_EXT_DB",67:"CONTAINER_EXT_QUEUE",68:"COMPONENT",69:"COMPONENT_DB",70:"COMPONENT_QUEUE",71:"COMPONENT_EXT",72:"COMPONENT_EXT_DB",73:"COMPONENT_EXT_QUEUE",74:"REL",75:"BIREL",76:"REL_U",77:"REL_D",78:"REL_L",79:"REL_R",80:"REL_B",81:"REL_INDEX",82:"UPDATE_EL_STYLE",83:"UPDATE_REL_STYLE",84:"UPDATE_LAYOUT_CONFIG",86:"STR",87:"STR_KEY",88:"STR_VALUE",89:"ATTRIBUTE",90:"ATTRIBUTE_EMPTY"},productions_:[0,[3,1],[3,1],[3,2],[5,1],[5,1],[5,1],[5,1],[4,1],[6,4],[6,6],[12,1],[13,1],[17,1],[14,1],[11,4],[11,4],[11,4],[11,4],[11,4],[23,1],[23,1],[23,2],[29,1],[29,2],[29,3],[31,1],[31,1],[31,2],[31,2],[31,1],[39,3],[40,3],[40,3],[40,4],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[42,2],[41,1],[30,1],[30,2],[30,3],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,1],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[53,2],[45,1],[45,2],[85,1],[85,2],[85,1],[85,1]],performAction:function(Nn,er,sr,Nr,Jr,Dr,yi){var Br=Dr.length-1;switch(Jr){case 4:Nr.setDirection("TB");break;case 5:Nr.setDirection("BT");break;case 6:Nr.setDirection("RL");break;case 7:Nr.setDirection("LR");break;case 11:Nr.parseDirective("%%{","open_directive");break;case 12:break;case 13:Dr[Br]=Dr[Br].trim().replace(/'/g,'"'),Nr.parseDirective(Dr[Br],"arg_directive");break;case 14:Nr.parseDirective("}%%","close_directive","c4Context");break;case 15:case 16:case 17:case 18:case 19:Nr.setC4Type(Dr[Br-3]);break;case 26:Nr.setTitle(Dr[Br].substring(6)),this.$=Dr[Br].substring(6);break;case 27:Nr.setAccDescription(Dr[Br].substring(15)),this.$=Dr[Br].substring(15);break;case 28:this.$=Dr[Br].trim(),Nr.setTitle(this.$);break;case 29:case 30:this.$=Dr[Br].trim(),Nr.setAccDescription(this.$);break;case 35:case 36:Dr[Br].splice(2,0,"ENTERPRISE"),Nr.addPersonOrSystemBoundary(...Dr[Br]),this.$=Dr[Br];break;case 37:Nr.addPersonOrSystemBoundary(...Dr[Br]),this.$=Dr[Br];break;case 38:Dr[Br].splice(2,0,"CONTAINER"),Nr.addContainerBoundary(...Dr[Br]),this.$=Dr[Br];break;case 39:Nr.addDeploymentNode("node",...Dr[Br]),this.$=Dr[Br];break;case 40:Nr.addDeploymentNode("nodeL",...Dr[Br]),this.$=Dr[Br];break;case 41:Nr.addDeploymentNode("nodeR",...Dr[Br]),this.$=Dr[Br];break;case 42:Nr.popBoundaryParseStack();break;case 46:Nr.addPersonOrSystem("person",...Dr[Br]),this.$=Dr[Br];break;case 47:Nr.addPersonOrSystem("external_person",...Dr[Br]),this.$=Dr[Br];break;case 48:Nr.addPersonOrSystem("system",...Dr[Br]),this.$=Dr[Br];break;case 49:Nr.addPersonOrSystem("system_db",...Dr[Br]),this.$=Dr[Br];break;case 50:Nr.addPersonOrSystem("system_queue",...Dr[Br]),this.$=Dr[Br];break;case 51:Nr.addPersonOrSystem("external_system",...Dr[Br]),this.$=Dr[Br];break;case 52:Nr.addPersonOrSystem("external_system_db",...Dr[Br]),this.$=Dr[Br];break;case 53:Nr.addPersonOrSystem("external_system_queue",...Dr[Br]),this.$=Dr[Br];break;case 54:Nr.addContainer("container",...Dr[Br]),this.$=Dr[Br];break;case 55:Nr.addContainer("container_db",...Dr[Br]),this.$=Dr[Br];break;case 56:Nr.addContainer("container_queue",...Dr[Br]),this.$=Dr[Br];break;case 57:Nr.addContainer("external_container",...Dr[Br]),this.$=Dr[Br];break;case 58:Nr.addContainer("external_container_db",...Dr[Br]),this.$=Dr[Br];break;case 59:Nr.addContainer("external_container_queue",...Dr[Br]),this.$=Dr[Br];break;case 60:Nr.addComponent("component",...Dr[Br]),this.$=Dr[Br];break;case 61:Nr.addComponent("component_db",...Dr[Br]),this.$=Dr[Br];break;case 62:Nr.addComponent("component_queue",...Dr[Br]),this.$=Dr[Br];break;case 63:Nr.addComponent("external_component",...Dr[Br]),this.$=Dr[Br];break;case 64:Nr.addComponent("external_component_db",...Dr[Br]),this.$=Dr[Br];break;case 65:Nr.addComponent("external_component_queue",...Dr[Br]),this.$=Dr[Br];break;case 67:Nr.addRel("rel",...Dr[Br]),this.$=Dr[Br];break;case 68:Nr.addRel("birel",...Dr[Br]),this.$=Dr[Br];break;case 69:Nr.addRel("rel_u",...Dr[Br]),this.$=Dr[Br];break;case 70:Nr.addRel("rel_d",...Dr[Br]),this.$=Dr[Br];break;case 71:Nr.addRel("rel_l",...Dr[Br]),this.$=Dr[Br];break;case 72:Nr.addRel("rel_r",...Dr[Br]),this.$=Dr[Br];break;case 73:Nr.addRel("rel_b",...Dr[Br]),this.$=Dr[Br];break;case 74:Dr[Br].splice(0,1),Nr.addRel("rel",...Dr[Br]),this.$=Dr[Br];break;case 75:Nr.updateElStyle("update_el_style",...Dr[Br]),this.$=Dr[Br];break;case 76:Nr.updateRelStyle("update_rel_style",...Dr[Br]),this.$=Dr[Br];break;case 77:Nr.updateLayoutConfig("update_layout_config",...Dr[Br]),this.$=Dr[Br];break;case 78:this.$=[Dr[Br]];break;case 79:Dr[Br].unshift(Dr[Br-1]),this.$=Dr[Br];break;case 80:case 82:this.$=Dr[Br].trim();break;case 81:let Si={};Si[Dr[Br-1].trim()]=Dr[Br].trim(),this.$=Si;break;case 83:this.$="";break}},table:[{3:1,4:2,5:3,6:4,7:rt,8:it,9:st,10:bt,11:5,12:10,18:wt,22:Et,25:Tt,26:At,27:Dt,28:Ot},{1:[3]},{1:[2,1]},{1:[2,2]},{3:17,4:2,5:3,6:4,7:rt,8:it,9:st,10:bt,11:5,12:10,18:wt,22:Et,25:Tt,26:At,27:Dt,28:Ot},{1:[2,8]},{1:[2,4]},{1:[2,5]},{1:[2,6]},{1:[2,7]},{13:18,19:[1,19]},{15:[1,20]},{15:[1,21]},{15:[1,22]},{15:[1,23]},{15:[1,24]},{19:[2,11]},{1:[2,3]},{14:25,16:[1,26],21:zt},nt([16,21],[2,12]),{23:28,29:29,30:30,31:31,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{23:79,29:29,30:30,31:31,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{23:80,29:29,30:30,31:31,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{23:81,29:29,30:30,31:31,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{23:82,29:29,30:30,31:31,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{15:[1,83]},{17:84,20:[1,85]},{15:[2,14]},{24:[1,86]},nt(Rn,[2,20],{53:32,39:58,40:70,42:71,30:87,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er}),nt(Rn,[2,21]),nt(rr,[2,23],{15:[1,88]}),nt(Rn,[2,43],{15:[1,89]}),nt(Kn,[2,26]),nt(Kn,[2,27]),{35:[1,90]},{37:[1,91]},nt(Kn,[2,30]),{45:92,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:98,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:99,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:100,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:101,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:102,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:103,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:104,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:105,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:106,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:107,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:108,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:109,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:110,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:111,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:112,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:113,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:114,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:115,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:116,85:93,86:gr,87:xr,89:Lr,90:Cr},nt(Ar,[2,66]),{45:117,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:118,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:119,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:120,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:121,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:122,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:123,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:124,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:125,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:126,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:127,85:93,86:gr,87:xr,89:Lr,90:Cr},{30:128,39:58,40:70,42:71,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,53:32,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er},{15:[1,130],43:[1,129]},{45:131,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:132,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:133,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:134,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:135,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:136,85:93,86:gr,87:xr,89:Lr,90:Cr},{45:137,85:93,86:gr,87:xr,89:Lr,90:Cr},{24:[1,138]},{24:[1,139]},{24:[1,140]},{24:[1,141]},nt(mi,[2,9]),{14:142,21:zt},{21:[2,13]},{1:[2,15]},nt(Rn,[2,22]),nt(rr,[2,24],{31:31,29:143,32:$t,33:Bt,34:Yt,36:Xt,38:Ht}),nt(Rn,[2,44],{29:29,30:30,31:31,53:32,39:58,40:70,42:71,23:144,32:$t,33:Bt,34:Yt,36:Xt,38:Ht,44:Qt,46:Zt,47:nn,48:Kt,49:ln,50:sn,51:bn,54:wn,55:Mn,56:Sn,57:Dn,58:gn,59:Un,60:pn,61:yr,62:xn,63:Mr,64:fr,65:cr,66:Gn,67:lr,68:ur,69:vr,70:Ir,71:Pr,72:_r,73:tr,74:qn,75:mr,76:br,77:hr,78:An,79:rn,80:vn,81:hn,82:zn,83:On,84:Er}),nt(Kn,[2,28]),nt(Kn,[2,29]),nt(Ar,[2,46]),nt(vi,[2,78],{85:93,45:145,86:gr,87:xr,89:Lr,90:Cr}),nt(xi,[2,80]),{88:[1,146]},nt(xi,[2,82]),nt(xi,[2,83]),nt(Ar,[2,47]),nt(Ar,[2,48]),nt(Ar,[2,49]),nt(Ar,[2,50]),nt(Ar,[2,51]),nt(Ar,[2,52]),nt(Ar,[2,53]),nt(Ar,[2,54]),nt(Ar,[2,55]),nt(Ar,[2,56]),nt(Ar,[2,57]),nt(Ar,[2,58]),nt(Ar,[2,59]),nt(Ar,[2,60]),nt(Ar,[2,61]),nt(Ar,[2,62]),nt(Ar,[2,63]),nt(Ar,[2,64]),nt(Ar,[2,65]),nt(Ar,[2,67]),nt(Ar,[2,68]),nt(Ar,[2,69]),nt(Ar,[2,70]),nt(Ar,[2,71]),nt(Ar,[2,72]),nt(Ar,[2,73]),nt(Ar,[2,74]),nt(Ar,[2,75]),nt(Ar,[2,76]),nt(Ar,[2,77]),{41:147,52:[1,148]},{15:[1,149]},{43:[1,150]},nt(Ci,[2,35]),nt(Ci,[2,36]),nt(Ci,[2,37]),nt(Ci,[2,38]),nt(Ci,[2,39]),nt(Ci,[2,40]),nt(Ci,[2,41]),{1:[2,16]},{1:[2,17]},{1:[2,18]},{1:[2,19]},{15:[1,151]},nt(rr,[2,25]),nt(Rn,[2,45]),nt(vi,[2,79]),nt(xi,[2,81]),nt(Ar,[2,31]),nt(Ar,[2,42]),nt(Ei,[2,32]),nt(Ei,[2,33],{15:[1,152]}),nt(mi,[2,10]),nt(Ei,[2,34])],defaultActions:{2:[2,1],3:[2,2],5:[2,8],6:[2,4],7:[2,5],8:[2,6],9:[2,7],16:[2,11],17:[2,3],27:[2,14],85:[2,13],86:[2,15],138:[2,16],139:[2,17],140:[2,18],141:[2,19]},parseError:function(Nn,er){if(er.recoverable)this.trace(Nn);else{var sr=new Error(Nn);throw sr.hash=er,sr}},parse:function(Nn){var er=this,sr=[0],Nr=[],Jr=[null],Dr=[],yi=this.table,Br="",Si=0,Ni=0,Ri=2,Li=1,eo=Dr.slice.call(arguments,1),Ui=Object.create(this.lexer),oo={yy:{}};for(var wo in this.yy)Object.prototype.hasOwnProperty.call(this.yy,wo)&&(oo.yy[wo]=this.yy[wo]);Ui.setInput(Nn,oo.yy),oo.yy.lexer=Ui,oo.yy.parser=this,typeof Ui.yylloc>"u"&&(Ui.yylloc={});var uo=Ui.yylloc;Dr.push(uo);var Cs=Ui.options&&Ui.options.ranges;typeof oo.yy.parseError=="function"?this.parseError=oo.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Za(){var Tr;return Tr=Nr.pop()||Ui.lex()||Li,typeof Tr!="number"&&(Tr instanceof Array&&(Nr=Tr,Tr=Nr.pop()),Tr=er.symbols_[Tr]||Tr),Tr}for(var ji,lo,Va,Ti,ca={},Sa,Ya,Hr,ii;;){if(lo=sr[sr.length-1],this.defaultActions[lo]?Va=this.defaultActions[lo]:((ji===null||typeof ji>"u")&&(ji=Za()),Va=yi[lo]&&yi[lo][ji]),typeof Va>"u"||!Va.length||!Va[0]){var Ur="";ii=[];for(Sa in yi[lo])this.terminals_[Sa]&&Sa>Ri&&ii.push("'"+this.terminals_[Sa]+"'");Ui.showPosition?Ur="Parse error on line "+(Si+1)+`:
`+Ui.showPosition()+`
Expecting `+ii.join(", ")+", got '"+(this.terminals_[ji]||ji)+"'":Ur="Parse error on line "+(Si+1)+": Unexpected "+(ji==Li?"end of input":"'"+(this.terminals_[ji]||ji)+"'"),this.parseError(Ur,{text:Ui.match,token:this.terminals_[ji]||ji,line:Ui.yylineno,loc:uo,expected:ii})}if(Va[0]instanceof Array&&Va.length>1)throw new Error("Parse Error: multiple actions possible at state: "+lo+", token: "+ji);switch(Va[0]){case 1:sr.push(ji),Jr.push(Ui.yytext),Dr.push(Ui.yylloc),sr.push(Va[1]),ji=null,Ni=Ui.yyleng,Br=Ui.yytext,Si=Ui.yylineno,uo=Ui.yylloc;break;case 2:if(Ya=this.productions_[Va[1]][1],ca.$=Jr[Jr.length-Ya],ca._$={first_line:Dr[Dr.length-(Ya||1)].first_line,last_line:Dr[Dr.length-1].last_line,first_column:Dr[Dr.length-(Ya||1)].first_column,last_column:Dr[Dr.length-1].last_column},Cs&&(ca._$.range=[Dr[Dr.length-(Ya||1)].range[0],Dr[Dr.length-1].range[1]]),Ti=this.performAction.apply(ca,[Br,Ni,Si,oo.yy,Va[1],Jr,Dr].concat(eo)),typeof Ti<"u")return Ti;Ya&&(sr=sr.slice(0,-1*Ya*2),Jr=Jr.slice(0,-1*Ya),Dr=Dr.slice(0,-1*Ya)),sr.push(this.productions_[Va[1]][0]),Jr.push(ca.$),Dr.push(ca._$),Hr=yi[sr[sr.length-2]][sr[sr.length-1]],sr.push(Hr);break;case 3:return!0}}return!0}},Ai=function(){var Ln={EOF:1,parseError:function(er,sr){if(this.yy.parser)this.yy.parser.parseError(er,sr);else throw new Error(er)},setInput:function(Nn,er){return this.yy=er||this.yy||{},this._input=Nn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Nn=this._input[0];this.yytext+=Nn,this.yyleng++,this.offset++,this.match+=Nn,this.matched+=Nn;var er=Nn.match(/(?:\r\n?|\n).*/g);return er?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Nn},unput:function(Nn){var er=Nn.length,sr=Nn.split(/(?:\r\n?|\n)/g);this._input=Nn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-er),this.offset-=er;var Nr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),sr.length-1&&(this.yylineno-=sr.length-1);var Jr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:sr?(sr.length===Nr.length?this.yylloc.first_column:0)+Nr[Nr.length-sr.length].length-sr[0].length:this.yylloc.first_column-er},this.options.ranges&&(this.yylloc.range=[Jr[0],Jr[0]+this.yyleng-er]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Nn){this.unput(this.match.slice(Nn))},pastInput:function(){var Nn=this.matched.substr(0,this.matched.length-this.match.length);return(Nn.length>20?"...":"")+Nn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Nn=this.match;return Nn.length<20&&(Nn+=this._input.substr(0,20-Nn.length)),(Nn.substr(0,20)+(Nn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Nn=this.pastInput(),er=new Array(Nn.length+1).join("-");return Nn+this.upcomingInput()+`
`+er+"^"},test_match:function(Nn,er){var sr,Nr,Jr;if(this.options.backtrack_lexer&&(Jr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Jr.yylloc.range=this.yylloc.range.slice(0))),Nr=Nn[0].match(/(?:\r\n?|\n).*/g),Nr&&(this.yylineno+=Nr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Nr?Nr[Nr.length-1].length-Nr[Nr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Nn[0].length},this.yytext+=Nn[0],this.match+=Nn[0],this.matches=Nn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Nn[0].length),this.matched+=Nn[0],sr=this.performAction.call(this,this.yy,this,er,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),sr)return sr;if(this._backtrack){for(var Dr in Jr)this[Dr]=Jr[Dr];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Nn,er,sr,Nr;this._more||(this.yytext="",this.match="");for(var Jr=this._currentRules(),Dr=0;Dr<Jr.length;Dr++)if(sr=this._input.match(this.rules[Jr[Dr]]),sr&&(!er||sr[0].length>er[0].length)){if(er=sr,Nr=Dr,this.options.backtrack_lexer){if(Nn=this.test_match(sr,Jr[Dr]),Nn!==!1)return Nn;if(this._backtrack){er=!1;continue}else return!1}else if(!this.options.flex)break}return er?(Nn=this.test_match(er,Jr[Nr]),Nn!==!1?Nn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var er=this.next();return er||this.lex()},begin:function(er){this.conditionStack.push(er)},popState:function(){var er=this.conditionStack.length-1;return er>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(er){return er=this.conditionStack.length-1-Math.abs(er||0),er>=0?this.conditionStack[er]:"INITIAL"},pushState:function(er){this.begin(er)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(er,sr,Nr,Jr){switch(Nr){case 0:return this.begin("open_directive"),18;case 1:return 7;case 2:return 8;case 3:return 9;case 4:return 10;case 5:return this.begin("type_directive"),19;case 6:return this.popState(),this.begin("arg_directive"),16;case 7:return this.popState(),this.popState(),21;case 8:return 20;case 9:return 32;case 10:return 33;case 11:return this.begin("acc_title"),34;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),36;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:break;case 19:c;break;case 20:return 15;case 21:break;case 22:return 22;case 23:return 25;case 24:return 26;case 25:return 27;case 26:return 28;case 27:return this.begin("person_ext"),55;case 28:return this.begin("person"),54;case 29:return this.begin("system_ext_queue"),61;case 30:return this.begin("system_ext_db"),60;case 31:return this.begin("system_ext"),59;case 32:return this.begin("system_queue"),58;case 33:return this.begin("system_db"),57;case 34:return this.begin("system"),56;case 35:return this.begin("boundary"),47;case 36:return this.begin("enterprise_boundary"),44;case 37:return this.begin("system_boundary"),46;case 38:return this.begin("container_ext_queue"),67;case 39:return this.begin("container_ext_db"),66;case 40:return this.begin("container_ext"),65;case 41:return this.begin("container_queue"),64;case 42:return this.begin("container_db"),63;case 43:return this.begin("container"),62;case 44:return this.begin("container_boundary"),48;case 45:return this.begin("component_ext_queue"),73;case 46:return this.begin("component_ext_db"),72;case 47:return this.begin("component_ext"),71;case 48:return this.begin("component_queue"),70;case 49:return this.begin("component_db"),69;case 50:return this.begin("component"),68;case 51:return this.begin("node"),49;case 52:return this.begin("node"),49;case 53:return this.begin("node_l"),50;case 54:return this.begin("node_r"),51;case 55:return this.begin("rel"),74;case 56:return this.begin("birel"),75;case 57:return this.begin("rel_u"),76;case 58:return this.begin("rel_u"),76;case 59:return this.begin("rel_d"),77;case 60:return this.begin("rel_d"),77;case 61:return this.begin("rel_l"),78;case 62:return this.begin("rel_l"),78;case 63:return this.begin("rel_r"),79;case 64:return this.begin("rel_r"),79;case 65:return this.begin("rel_b"),80;case 66:return this.begin("rel_index"),81;case 67:return this.begin("update_el_style"),82;case 68:return this.begin("update_rel_style"),83;case 69:return this.begin("update_layout_config"),84;case 70:return"EOF_IN_STRUCT";case 71:return this.begin("attribute"),"ATTRIBUTE_EMPTY";case 72:this.begin("attribute");break;case 73:this.popState(),this.popState();break;case 74:return 90;case 75:break;case 76:return 90;case 77:this.begin("string");break;case 78:this.popState();break;case 79:return"STR";case 80:this.begin("string_kv");break;case 81:return this.begin("string_kv_key"),"STR_KEY";case 82:this.popState(),this.begin("string_kv_value");break;case 83:return"STR_VALUE";case 84:this.popState(),this.popState();break;case 85:return"STR";case 86:return"LBRACE";case 87:return"RBRACE";case 88:return"SPACE";case 89:return"EOL";case 90:return 24}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:title\s[^#\n;]+)/,/^(?:accDescription\s[^#\n;]+)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:C4Context\b)/,/^(?:C4Container\b)/,/^(?:C4Component\b)/,/^(?:C4Dynamic\b)/,/^(?:C4Deployment\b)/,/^(?:Person_Ext\b)/,/^(?:Person\b)/,/^(?:SystemQueue_Ext\b)/,/^(?:SystemDb_Ext\b)/,/^(?:System_Ext\b)/,/^(?:SystemQueue\b)/,/^(?:SystemDb\b)/,/^(?:System\b)/,/^(?:Boundary\b)/,/^(?:Enterprise_Boundary\b)/,/^(?:System_Boundary\b)/,/^(?:ContainerQueue_Ext\b)/,/^(?:ContainerDb_Ext\b)/,/^(?:Container_Ext\b)/,/^(?:ContainerQueue\b)/,/^(?:ContainerDb\b)/,/^(?:Container\b)/,/^(?:Container_Boundary\b)/,/^(?:ComponentQueue_Ext\b)/,/^(?:ComponentDb_Ext\b)/,/^(?:Component_Ext\b)/,/^(?:ComponentQueue\b)/,/^(?:ComponentDb\b)/,/^(?:Component\b)/,/^(?:Deployment_Node\b)/,/^(?:Node\b)/,/^(?:Node_L\b)/,/^(?:Node_R\b)/,/^(?:Rel\b)/,/^(?:BiRel\b)/,/^(?:Rel_Up\b)/,/^(?:Rel_U\b)/,/^(?:Rel_Down\b)/,/^(?:Rel_D\b)/,/^(?:Rel_Left\b)/,/^(?:Rel_L\b)/,/^(?:Rel_Right\b)/,/^(?:Rel_R\b)/,/^(?:Rel_Back\b)/,/^(?:RelIndex\b)/,/^(?:UpdateElementStyle\b)/,/^(?:UpdateRelStyle\b)/,/^(?:UpdateLayoutConfig\b)/,/^(?:$)/,/^(?:[(][ ]*[,])/,/^(?:[(])/,/^(?:[)])/,/^(?:,,)/,/^(?:,)/,/^(?:[ ]*["]["])/,/^(?:[ ]*["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[ ]*[\$])/,/^(?:[^=]*)/,/^(?:[=][ ]*["])/,/^(?:[^"]+)/,/^(?:["])/,/^(?:[^,]+)/,/^(?:\{)/,/^(?:\})/,/^(?:[\s]+)/,/^(?:[\n\r]+)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},string_kv_value:{rules:[83,84],inclusive:!1},string_kv_key:{rules:[82],inclusive:!1},string_kv:{rules:[81],inclusive:!1},string:{rules:[78,79],inclusive:!1},attribute:{rules:[73,74,75,76,77,80,85],inclusive:!1},update_layout_config:{rules:[70,71,72,73],inclusive:!1},update_rel_style:{rules:[70,71,72,73],inclusive:!1},update_el_style:{rules:[70,71,72,73],inclusive:!1},rel_b:{rules:[70,71,72,73],inclusive:!1},rel_r:{rules:[70,71,72,73],inclusive:!1},rel_l:{rules:[70,71,72,73],inclusive:!1},rel_d:{rules:[70,71,72,73],inclusive:!1},rel_u:{rules:[70,71,72,73],inclusive:!1},rel_bi:{rules:[],inclusive:!1},rel:{rules:[70,71,72,73],inclusive:!1},node_r:{rules:[70,71,72,73],inclusive:!1},node_l:{rules:[70,71,72,73],inclusive:!1},node:{rules:[70,71,72,73],inclusive:!1},index:{rules:[],inclusive:!1},rel_index:{rules:[70,71,72,73],inclusive:!1},component_ext_queue:{rules:[],inclusive:!1},component_ext_db:{rules:[70,71,72,73],inclusive:!1},component_ext:{rules:[70,71,72,73],inclusive:!1},component_queue:{rules:[70,71,72,73],inclusive:!1},component_db:{rules:[70,71,72,73],inclusive:!1},component:{rules:[70,71,72,73],inclusive:!1},container_boundary:{rules:[70,71,72,73],inclusive:!1},container_ext_queue:{rules:[],inclusive:!1},container_ext_db:{rules:[70,71,72,73],inclusive:!1},container_ext:{rules:[70,71,72,73],inclusive:!1},container_queue:{rules:[70,71,72,73],inclusive:!1},container_db:{rules:[70,71,72,73],inclusive:!1},container:{rules:[70,71,72,73],inclusive:!1},birel:{rules:[70,71,72,73],inclusive:!1},system_boundary:{rules:[70,71,72,73],inclusive:!1},enterprise_boundary:{rules:[70,71,72,73],inclusive:!1},boundary:{rules:[70,71,72,73],inclusive:!1},system_ext_queue:{rules:[70,71,72,73],inclusive:!1},system_ext_db:{rules:[70,71,72,73],inclusive:!1},system_ext:{rules:[70,71,72,73],inclusive:!1},system_queue:{rules:[70,71,72,73],inclusive:!1},system_db:{rules:[70,71,72,73],inclusive:!1},system:{rules:[70,71,72,73],inclusive:!1},person_ext:{rules:[70,71,72,73],inclusive:!1},person:{rules:[70,71,72,73],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,86,87,88,89,90],inclusive:!0}}};return Ln}();Bi.lexer=Ai;function Fr(){this.yy={}}return Fr.prototype=Bi,Bi.Parser=Fr,new Fr}();parser$a.parser=parser$a;const c4Parser=parser$a,c4Detector=nt=>nt.match(/^\s*C4Context|C4Container|C4Component|C4Dynamic|C4Deployment/)!==null;let c4ShapeArray=[],boundaryParseStack=[""],currentBoundaryParse="global",parentBoundaryParse="",boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],rels=[],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2;var c4Type;const getC4Type=function(){return c4Type},setC4Type=function(nt){c4Type=sanitizeText$5(nt,getConfig$1())},parseDirective$a=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},addRel=function(nt,rt,it,st,bt,wt,Et,Tt,At){if(nt==null||rt===void 0||rt===null||it===void 0||it===null||st===void 0||st===null)return;let Dt={};const Ot=rels.find(zt=>zt.from===rt&&zt.to===it);if(Ot?Dt=Ot:rels.push(Dt),Dt.type=nt,Dt.from=rt,Dt.to=it,Dt.label={text:st},bt==null)Dt.techn={text:""};else if(typeof bt=="object"){let[zt,$t]=Object.entries(bt)[0];Dt[zt]={text:$t}}else Dt.techn={text:bt};if(wt==null)Dt.descr={text:""};else if(typeof wt=="object"){let[zt,$t]=Object.entries(wt)[0];Dt[zt]={text:$t}}else Dt.descr={text:wt};if(typeof Et=="object"){let[zt,$t]=Object.entries(Et)[0];Dt[zt]=$t}else Dt.sprite=Et;if(typeof Tt=="object"){let[zt,$t]=Object.entries(Tt)[0];Dt[zt]=$t}else Dt.tags=Tt;if(typeof At=="object"){let[zt,$t]=Object.entries(At)[0];Dt[zt]=$t}else Dt.link=At;Dt.wrap=autoWrap$1()},addPersonOrSystem=function(nt,rt,it,st,bt,wt,Et){if(rt===null||it===null)return;let Tt={};const At=c4ShapeArray.find(Dt=>Dt.alias===rt);if(At&&rt===At.alias?Tt=At:(Tt.alias=rt,c4ShapeArray.push(Tt)),it==null?Tt.label={text:""}:Tt.label={text:it},st==null)Tt.descr={text:""};else if(typeof st=="object"){let[Dt,Ot]=Object.entries(st)[0];Tt[Dt]={text:Ot}}else Tt.descr={text:st};if(typeof bt=="object"){let[Dt,Ot]=Object.entries(bt)[0];Tt[Dt]=Ot}else Tt.sprite=bt;if(typeof wt=="object"){let[Dt,Ot]=Object.entries(wt)[0];Tt[Dt]=Ot}else Tt.tags=wt;if(typeof Et=="object"){let[Dt,Ot]=Object.entries(Et)[0];Tt[Dt]=Ot}else Tt.link=Et;Tt.typeC4Shape={text:nt},Tt.parentBoundary=currentBoundaryParse,Tt.wrap=autoWrap$1()},addContainer=function(nt,rt,it,st,bt,wt,Et,Tt){if(rt===null||it===null)return;let At={};const Dt=c4ShapeArray.find(Ot=>Ot.alias===rt);if(Dt&&rt===Dt.alias?At=Dt:(At.alias=rt,c4ShapeArray.push(At)),it==null?At.label={text:""}:At.label={text:it},st==null)At.techn={text:""};else if(typeof st=="object"){let[Ot,zt]=Object.entries(st)[0];At[Ot]={text:zt}}else At.techn={text:st};if(bt==null)At.descr={text:""};else if(typeof bt=="object"){let[Ot,zt]=Object.entries(bt)[0];At[Ot]={text:zt}}else At.descr={text:bt};if(typeof wt=="object"){let[Ot,zt]=Object.entries(wt)[0];At[Ot]=zt}else At.sprite=wt;if(typeof Et=="object"){let[Ot,zt]=Object.entries(Et)[0];At[Ot]=zt}else At.tags=Et;if(typeof Tt=="object"){let[Ot,zt]=Object.entries(Tt)[0];At[Ot]=zt}else At.link=Tt;At.wrap=autoWrap$1(),At.typeC4Shape={text:nt},At.parentBoundary=currentBoundaryParse},addComponent=function(nt,rt,it,st,bt,wt,Et,Tt){if(rt===null||it===null)return;let At={};const Dt=c4ShapeArray.find(Ot=>Ot.alias===rt);if(Dt&&rt===Dt.alias?At=Dt:(At.alias=rt,c4ShapeArray.push(At)),it==null?At.label={text:""}:At.label={text:it},st==null)At.techn={text:""};else if(typeof st=="object"){let[Ot,zt]=Object.entries(st)[0];At[Ot]={text:zt}}else At.techn={text:st};if(bt==null)At.descr={text:""};else if(typeof bt=="object"){let[Ot,zt]=Object.entries(bt)[0];At[Ot]={text:zt}}else At.descr={text:bt};if(typeof wt=="object"){let[Ot,zt]=Object.entries(wt)[0];At[Ot]=zt}else At.sprite=wt;if(typeof Et=="object"){let[Ot,zt]=Object.entries(Et)[0];At[Ot]=zt}else At.tags=Et;if(typeof Tt=="object"){let[Ot,zt]=Object.entries(Tt)[0];At[Ot]=zt}else At.link=Tt;At.wrap=autoWrap$1(),At.typeC4Shape={text:nt},At.parentBoundary=currentBoundaryParse},addPersonOrSystemBoundary=function(nt,rt,it,st,bt){if(nt===null||rt===null)return;let wt={};const Et=boundarys.find(Tt=>Tt.alias===nt);if(Et&&nt===Et.alias?wt=Et:(wt.alias=nt,boundarys.push(wt)),rt==null?wt.label={text:""}:wt.label={text:rt},it==null)wt.type={text:"system"};else if(typeof it=="object"){let[Tt,At]=Object.entries(it)[0];wt[Tt]={text:At}}else wt.type={text:it};if(typeof st=="object"){let[Tt,At]=Object.entries(st)[0];wt[Tt]=At}else wt.tags=st;if(typeof bt=="object"){let[Tt,At]=Object.entries(bt)[0];wt[Tt]=At}else wt.link=bt;wt.parentBoundary=currentBoundaryParse,wt.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=nt,boundaryParseStack.push(parentBoundaryParse)},addContainerBoundary=function(nt,rt,it,st,bt){if(nt===null||rt===null)return;let wt={};const Et=boundarys.find(Tt=>Tt.alias===nt);if(Et&&nt===Et.alias?wt=Et:(wt.alias=nt,boundarys.push(wt)),rt==null?wt.label={text:""}:wt.label={text:rt},it==null)wt.type={text:"container"};else if(typeof it=="object"){let[Tt,At]=Object.entries(it)[0];wt[Tt]={text:At}}else wt.type={text:it};if(typeof st=="object"){let[Tt,At]=Object.entries(st)[0];wt[Tt]=At}else wt.tags=st;if(typeof bt=="object"){let[Tt,At]=Object.entries(bt)[0];wt[Tt]=At}else wt.link=bt;wt.parentBoundary=currentBoundaryParse,wt.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=nt,boundaryParseStack.push(parentBoundaryParse)},addDeploymentNode=function(nt,rt,it,st,bt,wt,Et,Tt){if(rt===null||it===null)return;let At={};const Dt=boundarys.find(Ot=>Ot.alias===rt);if(Dt&&rt===Dt.alias?At=Dt:(At.alias=rt,boundarys.push(At)),it==null?At.label={text:""}:At.label={text:it},st==null)At.type={text:"node"};else if(typeof st=="object"){let[Ot,zt]=Object.entries(st)[0];At[Ot]={text:zt}}else At.type={text:st};if(bt==null)At.descr={text:""};else if(typeof bt=="object"){let[Ot,zt]=Object.entries(bt)[0];At[Ot]={text:zt}}else At.descr={text:bt};if(typeof Et=="object"){let[Ot,zt]=Object.entries(Et)[0];At[Ot]=zt}else At.tags=Et;if(typeof Tt=="object"){let[Ot,zt]=Object.entries(Tt)[0];At[Ot]=zt}else At.link=Tt;At.nodeType=nt,At.parentBoundary=currentBoundaryParse,At.wrap=autoWrap$1(),parentBoundaryParse=currentBoundaryParse,currentBoundaryParse=rt,boundaryParseStack.push(parentBoundaryParse)},popBoundaryParseStack=function(){currentBoundaryParse=parentBoundaryParse,boundaryParseStack.pop(),parentBoundaryParse=boundaryParseStack.pop(),boundaryParseStack.push(parentBoundaryParse)},updateElStyle=function(nt,rt,it,st,bt,wt,Et,Tt,At,Dt,Ot){let zt=c4ShapeArray.find($t=>$t.alias===rt);if(!(zt===void 0&&(zt=boundarys.find($t=>$t.alias===rt),zt===void 0))){if(it!=null)if(typeof it=="object"){let[$t,Bt]=Object.entries(it)[0];zt[$t]=Bt}else zt.bgColor=it;if(st!=null)if(typeof st=="object"){let[$t,Bt]=Object.entries(st)[0];zt[$t]=Bt}else zt.fontColor=st;if(bt!=null)if(typeof bt=="object"){let[$t,Bt]=Object.entries(bt)[0];zt[$t]=Bt}else zt.borderColor=bt;if(wt!=null)if(typeof wt=="object"){let[$t,Bt]=Object.entries(wt)[0];zt[$t]=Bt}else zt.shadowing=wt;if(Et!=null)if(typeof Et=="object"){let[$t,Bt]=Object.entries(Et)[0];zt[$t]=Bt}else zt.shape=Et;if(Tt!=null)if(typeof Tt=="object"){let[$t,Bt]=Object.entries(Tt)[0];zt[$t]=Bt}else zt.sprite=Tt;if(At!=null)if(typeof At=="object"){let[$t,Bt]=Object.entries(At)[0];zt[$t]=Bt}else zt.techn=At;if(Dt!=null)if(typeof Dt=="object"){let[$t,Bt]=Object.entries(Dt)[0];zt[$t]=Bt}else zt.legendText=Dt;if(Ot!=null)if(typeof Ot=="object"){let[$t,Bt]=Object.entries(Ot)[0];zt[$t]=Bt}else zt.legendSprite=Ot}},updateRelStyle=function(nt,rt,it,st,bt,wt,Et){const Tt=rels.find(At=>At.from===rt&&At.to===it);if(Tt!==void 0){if(st!=null)if(typeof st=="object"){let[At,Dt]=Object.entries(st)[0];Tt[At]=Dt}else Tt.textColor=st;if(bt!=null)if(typeof bt=="object"){let[At,Dt]=Object.entries(bt)[0];Tt[At]=Dt}else Tt.lineColor=bt;if(wt!=null)if(typeof wt=="object"){let[At,Dt]=Object.entries(wt)[0];Tt[At]=parseInt(Dt)}else Tt.offsetX=parseInt(wt);if(Et!=null)if(typeof Et=="object"){let[At,Dt]=Object.entries(Et)[0];Tt[At]=parseInt(Dt)}else Tt.offsetY=parseInt(Et)}},updateLayoutConfig=function(nt,rt,it){let st=c4ShapeInRow$1,bt=c4BoundaryInRow$1;if(typeof rt=="object"){const wt=Object.values(rt)[0];st=parseInt(wt)}else st=parseInt(rt);if(typeof it=="object"){const wt=Object.values(it)[0];bt=parseInt(wt)}else bt=parseInt(it);st>=1&&(c4ShapeInRow$1=st),bt>=1&&(c4BoundaryInRow$1=bt)},getC4ShapeInRow=function(){return c4ShapeInRow$1},getC4BoundaryInRow=function(){return c4BoundaryInRow$1},getCurrentBoundaryParse=function(){return currentBoundaryParse},getParentBoundaryParse=function(){return parentBoundaryParse},getC4ShapeArray=function(nt){return nt==null?c4ShapeArray:c4ShapeArray.filter(rt=>rt.parentBoundary===nt)},getC4Shape=function(nt){return c4ShapeArray.find(rt=>rt.alias===nt)},getC4ShapeKeys=function(nt){return Object.keys(getC4ShapeArray(nt))},getBoundarys=function(nt){return nt==null?boundarys:boundarys.filter(rt=>rt.parentBoundary===nt)},getRels=function(){return rels},getTitle=function(){return title},setWrap$1=function(nt){wrapEnabled$1=nt},autoWrap$1=function(){return wrapEnabled$1},clear$d=function(){c4ShapeArray=[],boundarys=[{alias:"global",label:{text:"global"},type:{text:"global"},tags:null,link:null,parentBoundary:""}],parentBoundaryParse="",currentBoundaryParse="global",boundaryParseStack=[""],rels=[],boundaryParseStack=[""],title="",wrapEnabled$1=!1,c4ShapeInRow$1=4,c4BoundaryInRow$1=2},LINETYPE$1={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25},ARROWTYPE$1={FILLED:0,OPEN:1},PLACEMENT$1={LEFTOF:0,RIGHTOF:1,OVER:2},setTitle=function(nt){title=sanitizeText$5(nt,getConfig$1())},c4Db={addPersonOrSystem,addPersonOrSystemBoundary,addContainer,addContainerBoundary,addComponent,addDeploymentNode,popBoundaryParseStack,addRel,updateElStyle,updateRelStyle,updateLayoutConfig,autoWrap:autoWrap$1,setWrap:setWrap$1,getC4ShapeArray,getC4Shape,getC4ShapeKeys,getBoundarys,getCurrentBoundaryParse,getParentBoundaryParse,getRels,getTitle,getC4Type,getC4ShapeInRow,getC4BoundaryInRow,setAccTitle,getAccTitle,getAccDescription,setAccDescription,parseDirective:parseDirective$a,getConfig:()=>getConfig$1().c4,clear:clear$d,LINETYPE:LINETYPE$1,ARROWTYPE:ARROWTYPE$1,PLACEMENT:PLACEMENT$1,setTitle,setC4Type},drawRect$2=function(nt,rt){const it=nt.append("rect");if(it.attr("x",rt.x),it.attr("y",rt.y),it.attr("fill",rt.fill),it.attr("stroke",rt.stroke),it.attr("width",rt.width),it.attr("height",rt.height),it.attr("rx",rt.rx),it.attr("ry",rt.ry),rt.attrs!=="undefined"&&rt.attrs!==null)for(let st in rt.attrs)it.attr(st,rt.attrs[st]);return rt.class!=="undefined"&&it.attr("class",rt.class),it},drawImage$1=function(nt,rt,it,st,bt,wt){const Et=nt.append("image");Et.attr("width",rt),Et.attr("height",it),Et.attr("x",st),Et.attr("y",bt);let Tt=wt.startsWith("data:image/png;base64")?wt:sanitizeUrl_1(wt);Et.attr("xlink:href",Tt)},drawRels$1=(nt,rt,it)=>{const st=nt.append("g");let bt=0;for(let wt of rt){let Et=wt.textColor?wt.textColor:"#444444",Tt=wt.lineColor?wt.lineColor:"#444444",At=wt.offsetX?parseInt(wt.offsetX):0,Dt=wt.offsetY?parseInt(wt.offsetY):0,Ot="";if(bt===0){let $t=st.append("line");$t.attr("x1",wt.startPoint.x),$t.attr("y1",wt.startPoint.y),$t.attr("x2",wt.endPoint.x),$t.attr("y2",wt.endPoint.y),$t.attr("stroke-width","1"),$t.attr("stroke",Tt),$t.style("fill","none"),wt.type!=="rel_b"&&$t.attr("marker-end","url("+Ot+"#arrowhead)"),(wt.type==="birel"||wt.type==="rel_b")&&$t.attr("marker-start","url("+Ot+"#arrowend)"),bt=-1}else{let $t=st.append("path");$t.attr("fill","none").attr("stroke-width","1").attr("stroke",Tt).attr("d","Mstartx,starty Qcontrolx,controly stopx,stopy ".replaceAll("startx",wt.startPoint.x).replaceAll("starty",wt.startPoint.y).replaceAll("controlx",wt.startPoint.x+(wt.endPoint.x-wt.startPoint.x)/2-(wt.endPoint.x-wt.startPoint.x)/4).replaceAll("controly",wt.startPoint.y+(wt.endPoint.y-wt.startPoint.y)/2).replaceAll("stopx",wt.endPoint.x).replaceAll("stopy",wt.endPoint.y)),wt.type!=="rel_b"&&$t.attr("marker-end","url("+Ot+"#arrowhead)"),(wt.type==="birel"||wt.type==="rel_b")&&$t.attr("marker-start","url("+Ot+"#arrowend)")}let zt=it.messageFont();_drawTextCandidateFunc$2(it)(wt.label.text,st,Math.min(wt.startPoint.x,wt.endPoint.x)+Math.abs(wt.endPoint.x-wt.startPoint.x)/2+At,Math.min(wt.startPoint.y,wt.endPoint.y)+Math.abs(wt.endPoint.y-wt.startPoint.y)/2+Dt,wt.label.width,wt.label.height,{fill:Et},zt),wt.techn&&wt.techn.text!==""&&(zt=it.messageFont(),_drawTextCandidateFunc$2(it)("["+wt.techn.text+"]",st,Math.min(wt.startPoint.x,wt.endPoint.x)+Math.abs(wt.endPoint.x-wt.startPoint.x)/2+At,Math.min(wt.startPoint.y,wt.endPoint.y)+Math.abs(wt.endPoint.y-wt.startPoint.y)/2+it.messageFontSize+5+Dt,Math.max(wt.label.width,wt.techn.width),wt.techn.height,{fill:Et,"font-style":"italic"},zt))}},drawBoundary$1=function(nt,rt,it){const st=nt.append("g");let bt=rt.bgColor?rt.bgColor:"none",wt=rt.borderColor?rt.borderColor:"#444444",Et=rt.fontColor?rt.fontColor:"black",Tt={"stroke-width":1,"stroke-dasharray":"7.0,7.0"};rt.nodeType&&(Tt={"stroke-width":1});let At={x:rt.x,y:rt.y,fill:bt,stroke:wt,width:rt.width,height:rt.height,rx:2.5,ry:2.5,attrs:Tt};drawRect$2(st,At);let Dt=it.boundaryFont();Dt.fontWeight="bold",Dt.fontSize=Dt.fontSize+2,Dt.fontColor=Et,_drawTextCandidateFunc$2(it)(rt.label.text,st,rt.x,rt.y+rt.label.Y,rt.width,rt.height,{fill:"#444444"},Dt),rt.type&&rt.type.text!==""&&(Dt=it.boundaryFont(),Dt.fontColor=Et,_drawTextCandidateFunc$2(it)(rt.type.text,st,rt.x,rt.y+rt.type.Y,rt.width,rt.height,{fill:"#444444"},Dt)),rt.descr&&rt.descr.text!==""&&(Dt=it.boundaryFont(),Dt.fontSize=Dt.fontSize-2,Dt.fontColor=Et,_drawTextCandidateFunc$2(it)(rt.descr.text,st,rt.x,rt.y+rt.descr.Y,rt.width,rt.height,{fill:"#444444"},Dt))},drawC4Shape=function(nt,rt,it){let st=rt.bgColor?rt.bgColor:it[rt.typeC4Shape.text+"_bg_color"],bt=rt.borderColor?rt.borderColor:it[rt.typeC4Shape.text+"_border_color"],wt=rt.fontColor?rt.fontColor:"#FFFFFF",Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";switch(rt.typeC4Shape.text){case"person":Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAACD0lEQVR4Xu2YoU4EMRCGT+4j8Ai8AhaH4QHgAUjQuFMECUgMIUgwJAgMhgQsAYUiJCiQIBBY+EITsjfTdme6V24v4c8vyGbb+ZjOtN0bNcvjQXmkH83WvYBWto6PLm6v7p7uH1/w2fXD+PBycX1Pv2l3IdDm/vn7x+dXQiAubRzoURa7gRZWd0iGRIiJbOnhnfYBQZNJjNbuyY2eJG8fkDE3bbG4ep6MHUAsgYxmE3nVs6VsBWJSGccsOlFPmLIViMzLOB7pCVO2AtHJMohH7Fh6zqitQK7m0rJvAVYgGcEpe//PLdDz65sM4pF9N7ICcXDKIB5Nv6j7tD0NoSdM2QrU9Gg0ewE1LqBhHR3BBdvj2vapnidjHxD/q6vd7Pvhr31AwcY8eXMTXAKECZZJFXuEq27aLgQK5uLMohCenGGuGewOxSjBvYBqeG6B+Nqiblggdjnc+ZXDy+FNFpFzw76O3UBAROuXh6FoiAcf5g9eTvUgzy0nWg6I8cXHRUpg5bOVBCo+KDpFajOf23GgPme7RSQ+lacIENUgJ6gg1k6HjgOlqnLqip4tEuhv0hNEMXUD0clyXE3p6pZA0S2nnvTlXwLJEZWlb7cTQH1+USgTN4VhAenm/wea1OCAOmqo6fE1WCb9WSKBah+rbUWPWAmE2Rvk0ApiB45eOyNAzU8xcTvj8KvkKEoOaIYeHNA3ZuygAvFMUO0AAAAASUVORK5CYII=";break;case"external_person":Et="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAIAAADYYG7QAAAB6ElEQVR4Xu2YLY+EMBCG9+dWr0aj0Wg0Go1Go0+j8Xdv2uTCvv1gpt0ebHKPuhDaeW4605Z9mJvx4AdXUyTUdd08z+u6flmWZRnHsWkafk9DptAwDPu+f0eAYtu2PEaGWuj5fCIZrBAC2eLBAnRCsEkkxmeaJp7iDJ2QMDdHsLg8SxKFEJaAo8lAXnmuOFIhTMpxxKATebo4UiFknuNo4OniSIXQyRxEA3YsnjGCVEjVXD7yLUAqxBGUyPv/Y4W2beMgGuS7kVQIBycH0fD+oi5pezQETxdHKmQKGk1eQEYldK+jw5GxPfZ9z7Mk0Qnhf1W1m3w//EUn5BDmSZsbR44QQLBEqrBHqOrmSKaQAxdnLArCrxZcM7A7ZKs4ioRq8LFC+NpC3WCBJsvpVw5edm9iEXFuyNfxXAgSwfrFQ1c0iNda8AdejvUgnktOtJQQxmcfFzGglc5WVCj7oDgFqU18boeFSs52CUh8LE8BIVQDT1ABrB0HtgSEYlX5doJnCwv9TXocKCaKbnwhdDKPq4lf3SwU3HLq4V/+WYhHVMa/3b4IlfyikAduCkcBc7mQ3/z/Qq/cTuikhkzB12Ae/mcJC9U+Vo8Ej1gWAtgbeGgFsAMHr50BIWOLCbezvhpBFUdY6EJuJ/QDW0XoMX60zZ0AAAAASUVORK5CYII=";break}const Tt=nt.append("g");Tt.attr("class","person-man");const At=getNoteRect$2();switch(rt.typeC4Shape.text){case"person":case"external_person":case"system":case"external_system":case"container":case"external_container":case"component":case"external_component":At.x=rt.x,At.y=rt.y,At.fill=st,At.width=rt.width,At.height=rt.height,At.style="stroke:"+bt+";stroke-width:0.5;",At.rx=2.5,At.ry=2.5,drawRect$2(Tt,At);break;case"system_db":case"external_system_db":case"container_db":case"external_container_db":case"component_db":case"external_component_db":Tt.append("path").attr("fill",st).attr("stroke-width","0.5").attr("stroke",bt).attr("d","Mstartx,startyc0,-10 half,-10 half,-10c0,0 half,0 half,10l0,heightc0,10 -half,10 -half,10c0,0 -half,0 -half,-10l0,-height".replaceAll("startx",rt.x).replaceAll("starty",rt.y).replaceAll("half",rt.width/2).replaceAll("height",rt.height)),Tt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",bt).attr("d","Mstartx,startyc0,10 half,10 half,10c0,0 half,0 half,-10".replaceAll("startx",rt.x).replaceAll("starty",rt.y).replaceAll("half",rt.width/2));break;case"system_queue":case"external_system_queue":case"container_queue":case"external_container_queue":case"component_queue":case"external_component_queue":Tt.append("path").attr("fill",st).attr("stroke-width","0.5").attr("stroke",bt).attr("d","Mstartx,startylwidth,0c5,0 5,half 5,halfc0,0 0,half -5,halfl-width,0c-5,0 -5,-half -5,-halfc0,0 0,-half 5,-half".replaceAll("startx",rt.x).replaceAll("starty",rt.y).replaceAll("width",rt.width).replaceAll("half",rt.height/2)),Tt.append("path").attr("fill","none").attr("stroke-width","0.5").attr("stroke",bt).attr("d","Mstartx,startyc-5,0 -5,half -5,halfc0,half 5,half 5,half".replaceAll("startx",rt.x+rt.width).replaceAll("starty",rt.y).replaceAll("half",rt.height/2));break}let Dt=getC4ShapeFont(it,rt.typeC4Shape.text);switch(Tt.append("text").attr("fill",wt).attr("font-family",Dt.fontFamily).attr("font-size",Dt.fontSize-2).attr("font-style","italic").attr("lengthAdjust","spacing").attr("textLength",rt.typeC4Shape.width).attr("x",rt.x+rt.width/2-rt.typeC4Shape.width/2).attr("y",rt.y+rt.typeC4Shape.Y).text("<<"+rt.typeC4Shape.text+">>"),rt.typeC4Shape.text){case"person":case"external_person":drawImage$1(Tt,48,48,rt.x+rt.width/2-24,rt.y+rt.image.Y,Et);break}let Ot=it[rt.typeC4Shape.text+"Font"]();return Ot.fontWeight="bold",Ot.fontSize=Ot.fontSize+2,Ot.fontColor=wt,_drawTextCandidateFunc$2(it)(rt.label.text,Tt,rt.x,rt.y+rt.label.Y,rt.width,rt.height,{fill:wt},Ot),Ot=it[rt.typeC4Shape.text+"Font"](),Ot.fontColor=wt,rt.thchn&&rt.thchn.text!==""?_drawTextCandidateFunc$2(it)(rt.thchn.text,Tt,rt.x,rt.y+rt.thchn.Y,rt.width,rt.height,{fill:wt,"font-style":"italic"},Ot):rt.type&&rt.type.text!==""&&_drawTextCandidateFunc$2(it)(rt.type.text,Tt,rt.x,rt.y+rt.type.Y,rt.width,rt.height,{fill:wt,"font-style":"italic"},Ot),rt.descr&&rt.descr.text!==""&&(Ot=it.personFont(),Ot.fontColor=wt,_drawTextCandidateFunc$2(it)(rt.descr.text,Tt,rt.x,rt.y+rt.descr.Y,rt.width,rt.height,{fill:wt},Ot)),rt.height},insertDatabaseIcon$1=function(nt){nt.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon$1=function(nt){nt.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon$1=function(nt){nt.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead$1=function(nt){nt.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowEnd=function(nt){nt.append("defs").append("marker").attr("id","arrowend").attr("refX",1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 10 0 L 0 5 L 10 10 z")},insertArrowFilledHead$1=function(nt){nt.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertDynamicNumber=function(nt){nt.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead$1=function(nt){const it=nt.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",16).attr("refY",4);it.append("path").attr("fill","black").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 9,2 V 6 L16,4 Z"),it.append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1px").attr("d","M 0,1 L 6,7 M 6,1 L 0,7")},getNoteRect$2=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},getC4ShapeFont=(nt,rt)=>({fontFamily:nt[rt+"FontFamily"],fontSize:nt[rt+"FontSize"],fontWeight:nt[rt+"FontWeight"]}),_drawTextCandidateFunc$2=function(){function nt(bt,wt,Et,Tt,At,Dt,Ot){const zt=wt.append("text").attr("x",Et+At/2).attr("y",Tt+Dt/2+5).style("text-anchor","middle").text(bt);st(zt,Ot)}function rt(bt,wt,Et,Tt,At,Dt,Ot,zt){const{fontSize:$t,fontFamily:Bt,fontWeight:Yt}=zt,Xt=bt.split(common$1.lineBreakRegex);for(let Ht=0;Ht<Xt.length;Ht++){const Qt=Ht*$t-$t*(Xt.length-1)/2,Zt=wt.append("text").attr("x",Et+At/2).attr("y",Tt).style("text-anchor","middle").attr("dominant-baseline","middle").style("font-size",$t).style("font-weight",Yt).style("font-family",Bt);Zt.append("tspan").attr("dy",Qt).text(Xt[Ht]).attr("alignment-baseline","mathematical"),st(Zt,Ot)}}function it(bt,wt,Et,Tt,At,Dt,Ot,zt){const $t=wt.append("switch"),Yt=$t.append("foreignObject").attr("x",Et).attr("y",Tt).attr("width",At).attr("height",Dt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Yt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(bt),rt(bt,$t,Et,Tt,At,Dt,Ot,zt),st(Yt,Ot)}function st(bt,wt){for(const Et in wt)wt.hasOwnProperty(Et)&&bt.attr(Et,wt[Et])}return function(bt){return bt.textPlacement==="fo"?it:bt.textPlacement==="old"?nt:rt}}(),svgDraw$3={drawRect:drawRect$2,drawBoundary:drawBoundary$1,drawC4Shape,drawRels:drawRels$1,drawImage:drawImage$1,insertArrowHead:insertArrowHead$1,insertArrowEnd,insertArrowFilledHead:insertArrowFilledHead$1,insertDynamicNumber,insertArrowCrossHead:insertArrowCrossHead$1,insertDatabaseIcon:insertDatabaseIcon$1,insertComputerIcon:insertComputerIcon$1,insertClockIcon:insertClockIcon$1,getNoteRect:getNoteRect$2,sanitizeUrl:sanitizeUrl_1};let globalBoundaryMaxX=0,globalBoundaryMaxY=0,c4ShapeInRow=4,c4BoundaryInRow=2;parser$a.yy=c4Db;let conf$a={};class Bounds{constructor(rt){this.name="",this.data={},this.data.startx=void 0,this.data.stopx=void 0,this.data.starty=void 0,this.data.stopy=void 0,this.data.widthLimit=void 0,this.nextData={},this.nextData.startx=void 0,this.nextData.stopx=void 0,this.nextData.starty=void 0,this.nextData.stopy=void 0,this.nextData.cnt=0,setConf$a(rt.db.getConfig())}setData(rt,it,st,bt){this.nextData.startx=this.data.startx=rt,this.nextData.stopx=this.data.stopx=it,this.nextData.starty=this.data.starty=st,this.nextData.stopy=this.data.stopy=bt}updateVal(rt,it,st,bt){rt[it]===void 0?rt[it]=st:rt[it]=bt(st,rt[it])}insert(rt){this.nextData.cnt=this.nextData.cnt+1;let it=this.nextData.startx===this.nextData.stopx?this.nextData.stopx+rt.margin:this.nextData.stopx+rt.margin*2,st=it+rt.width,bt=this.nextData.starty+rt.margin*2,wt=bt+rt.height;(it>=this.data.widthLimit||st>=this.data.widthLimit||this.nextData.cnt>c4ShapeInRow)&&(it=this.nextData.startx+rt.margin+conf$a.nextLinePaddingX,bt=this.nextData.stopy+rt.margin*2,this.nextData.stopx=st=it+rt.width,this.nextData.starty=this.nextData.stopy,this.nextData.stopy=wt=bt+rt.height,this.nextData.cnt=1),rt.x=it,rt.y=bt,this.updateVal(this.data,"startx",it,Math.min),this.updateVal(this.data,"starty",bt,Math.min),this.updateVal(this.data,"stopx",st,Math.max),this.updateVal(this.data,"stopy",wt,Math.max),this.updateVal(this.nextData,"startx",it,Math.min),this.updateVal(this.nextData,"starty",bt,Math.min),this.updateVal(this.nextData,"stopx",st,Math.max),this.updateVal(this.nextData,"stopy",wt,Math.max)}init(rt){this.name="",this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,widthLimit:void 0},this.nextData={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0,cnt:0},setConf$a(rt.db.getConfig())}bumpLastMargin(rt){this.data.stopx+=rt,this.data.stopy+=rt}}const setConf$a=function(nt){assignWithDepth$1(conf$a,nt),nt.fontFamily&&(conf$a.personFontFamily=conf$a.systemFontFamily=conf$a.messageFontFamily=nt.fontFamily),nt.fontSize&&(conf$a.personFontSize=conf$a.systemFontSize=conf$a.messageFontSize=nt.fontSize),nt.fontWeight&&(conf$a.personFontWeight=conf$a.systemFontWeight=conf$a.messageFontWeight=nt.fontWeight)},c4ShapeFont=(nt,rt)=>({fontFamily:nt[rt+"FontFamily"],fontSize:nt[rt+"FontSize"],fontWeight:nt[rt+"FontWeight"]}),boundaryFont=nt=>({fontFamily:nt.boundaryFontFamily,fontSize:nt.boundaryFontSize,fontWeight:nt.boundaryFontWeight}),messageFont$1=nt=>({fontFamily:nt.messageFontFamily,fontSize:nt.messageFontSize,fontWeight:nt.messageFontWeight});function calcC4ShapeTextWH(nt,rt,it,st,bt){if(!rt[nt].width)if(it)rt[nt].text=wrapLabel(rt[nt].text,bt,st),rt[nt].textLines=rt[nt].text.split(common$1.lineBreakRegex).length,rt[nt].width=bt,rt[nt].height=calculateTextHeight(rt[nt].text,st);else{let wt=rt[nt].text.split(common$1.lineBreakRegex);rt[nt].textLines=wt.length;let Et=0;rt[nt].height=0,rt[nt].width=0;for(const Tt of wt)rt[nt].width=Math.max(calculateTextWidth(Tt,st),rt[nt].width),Et=calculateTextHeight(Tt,st),rt[nt].height=rt[nt].height+Et}}const drawBoundary=function(nt,rt,it){rt.x=it.data.startx,rt.y=it.data.starty,rt.width=it.data.stopx-it.data.startx,rt.height=it.data.stopy-it.data.starty,rt.label.y=conf$a.c4ShapeMargin-35;let st=rt.wrap&&conf$a.wrap,bt=boundaryFont(conf$a);bt.fontSize=bt.fontSize+2,bt.fontWeight="bold";let wt=calculateTextWidth(rt.label.text,bt);calcC4ShapeTextWH("label",rt,st,bt,wt),svgDraw$3.drawBoundary(nt,rt,conf$a)},drawC4ShapeArray=function(nt,rt,it,st){let bt=0;for(const wt of st){bt=0;const Et=it[wt];let Tt=c4ShapeFont(conf$a,Et.typeC4Shape.text);switch(Tt.fontSize=Tt.fontSize-2,Et.typeC4Shape.width=calculateTextWidth("<<"+Et.typeC4Shape.text+">>",Tt),Et.typeC4Shape.height=Tt.fontSize+2,Et.typeC4Shape.Y=conf$a.c4ShapePadding,bt=Et.typeC4Shape.Y+Et.typeC4Shape.height-4,Et.image={width:0,height:0,Y:0},Et.typeC4Shape.text){case"person":case"external_person":Et.image.width=48,Et.image.height=48,Et.image.Y=bt,bt=Et.image.Y+Et.image.height;break}Et.sprite&&(Et.image.width=48,Et.image.height=48,Et.image.Y=bt,bt=Et.image.Y+Et.image.height);let At=Et.wrap&&conf$a.wrap,Dt=conf$a.width-conf$a.c4ShapePadding*2,Ot=c4ShapeFont(conf$a,Et.typeC4Shape.text);if(Ot.fontSize=Ot.fontSize+2,Ot.fontWeight="bold",calcC4ShapeTextWH("label",Et,At,Ot,Dt),Et.label.Y=bt+8,bt=Et.label.Y+Et.label.height,Et.type&&Et.type.text!==""){Et.type.text="["+Et.type.text+"]";let Bt=c4ShapeFont(conf$a,Et.typeC4Shape.text);calcC4ShapeTextWH("type",Et,At,Bt,Dt),Et.type.Y=bt+5,bt=Et.type.Y+Et.type.height}else if(Et.techn&&Et.techn.text!==""){Et.techn.text="["+Et.techn.text+"]";let Bt=c4ShapeFont(conf$a,Et.techn.text);calcC4ShapeTextWH("techn",Et,At,Bt,Dt),Et.techn.Y=bt+5,bt=Et.techn.Y+Et.techn.height}let zt=bt,$t=Et.label.width;if(Et.descr&&Et.descr.text!==""){let Bt=c4ShapeFont(conf$a,Et.typeC4Shape.text);calcC4ShapeTextWH("descr",Et,At,Bt,Dt),Et.descr.Y=bt+20,bt=Et.descr.Y+Et.descr.height,$t=Math.max(Et.label.width,Et.descr.width),zt=bt-Et.descr.textLines*5}$t=$t+conf$a.c4ShapePadding,Et.width=Math.max(Et.width||conf$a.width,$t,conf$a.width),Et.height=Math.max(Et.height||conf$a.height,zt,conf$a.height),Et.margin=Et.margin||conf$a.c4ShapeMargin,nt.insert(Et),svgDraw$3.drawC4Shape(rt,Et,conf$a)}nt.bumpLastMargin(conf$a.c4ShapeMargin)};class Point{constructor(rt,it){this.x=rt,this.y=it}}let getIntersectPoint=function(nt,rt){let it=nt.x,st=nt.y,bt=rt.x,wt=rt.y,Et=it+nt.width/2,Tt=st+nt.height/2,At=Math.abs(it-bt),Dt=Math.abs(st-wt),Ot=Dt/At,zt=nt.height/nt.width,$t=null;return st==wt&&it<bt?$t=new Point(it+nt.width,Tt):st==wt&&it>bt?$t=new Point(it,Tt):it==bt&&st<wt?$t=new Point(Et,st+nt.height):it==bt&&st>wt&&($t=new Point(Et,st)),it>bt&&st<wt?zt>=Ot?$t=new Point(it,Tt+Ot*nt.width/2):$t=new Point(Et-At/Dt*nt.height/2,st+nt.height):it<bt&&st<wt?zt>=Ot?$t=new Point(it+nt.width,Tt+Ot*nt.width/2):$t=new Point(Et+At/Dt*nt.height/2,st+nt.height):it<bt&&st>wt?zt>=Ot?$t=new Point(it+nt.width,Tt-Ot*nt.width/2):$t=new Point(Et+nt.height/2*At/Dt,st):it>bt&&st>wt&&(zt>=Ot?$t=new Point(it,Tt-nt.width/2*Ot):$t=new Point(Et-nt.height/2*At/Dt,st)),$t},getIntersectPoints=function(nt,rt){let it={x:0,y:0};it.x=rt.x+rt.width/2,it.y=rt.y+rt.height/2;let st=getIntersectPoint(nt,it);it.x=nt.x+nt.width/2,it.y=nt.y+nt.height/2;let bt=getIntersectPoint(rt,it);return{startPoint:st,endPoint:bt}};const drawRels=function(nt,rt,it,st){let bt=0;for(let wt of rt){bt=bt+1;let Et=wt.wrap&&conf$a.wrap,Tt=messageFont$1(conf$a);st.db.getC4Type()==="C4Dynamic"&&(wt.label.text=bt+": "+wt.label.text);let Dt=calculateTextWidth(wt.label.text,Tt);calcC4ShapeTextWH("label",wt,Et,Tt,Dt),wt.techn&&wt.techn.text!==""&&(Dt=calculateTextWidth(wt.techn.text,Tt),calcC4ShapeTextWH("techn",wt,Et,Tt,Dt)),wt.descr&&wt.descr.text!==""&&(Dt=calculateTextWidth(wt.descr.text,Tt),calcC4ShapeTextWH("descr",wt,Et,Tt,Dt));let Ot=it(wt.from),zt=it(wt.to),$t=getIntersectPoints(Ot,zt);wt.startPoint=$t.startPoint,wt.endPoint=$t.endPoint}svgDraw$3.drawRels(nt,rt,conf$a)};function drawInsideBoundary(nt,rt,it,st,bt){let wt=new Bounds(bt);wt.data.widthLimit=it.data.widthLimit/Math.min(c4BoundaryInRow,st.length);for(let[Et,Tt]of st.entries()){let At=0;Tt.image={width:0,height:0,Y:0},Tt.sprite&&(Tt.image.width=48,Tt.image.height=48,Tt.image.Y=At,At=Tt.image.Y+Tt.image.height);let Dt=Tt.wrap&&conf$a.wrap,Ot=boundaryFont(conf$a);if(Ot.fontSize=Ot.fontSize+2,Ot.fontWeight="bold",calcC4ShapeTextWH("label",Tt,Dt,Ot,wt.data.widthLimit),Tt.label.Y=At+8,At=Tt.label.Y+Tt.label.height,Tt.type&&Tt.type.text!==""){Tt.type.text="["+Tt.type.text+"]";let Yt=boundaryFont(conf$a);calcC4ShapeTextWH("type",Tt,Dt,Yt,wt.data.widthLimit),Tt.type.Y=At+5,At=Tt.type.Y+Tt.type.height}if(Tt.descr&&Tt.descr.text!==""){let Yt=boundaryFont(conf$a);Yt.fontSize=Yt.fontSize-2,calcC4ShapeTextWH("descr",Tt,Dt,Yt,wt.data.widthLimit),Tt.descr.Y=At+20,At=Tt.descr.Y+Tt.descr.height}if(Et==0||Et%c4BoundaryInRow===0){let Yt=it.data.startx+conf$a.diagramMarginX,Xt=it.data.stopy+conf$a.diagramMarginY+At;wt.setData(Yt,Yt,Xt,Xt)}else{let Yt=wt.data.stopx!==wt.data.startx?wt.data.stopx+conf$a.diagramMarginX:wt.data.startx,Xt=wt.data.starty;wt.setData(Yt,Yt,Xt,Xt)}wt.name=Tt.alias;let zt=bt.db.getC4ShapeArray(Tt.alias),$t=bt.db.getC4ShapeKeys(Tt.alias);$t.length>0&&drawC4ShapeArray(wt,nt,zt,$t),rt=Tt.alias;let Bt=bt.db.getBoundarys(rt);Bt.length>0&&drawInsideBoundary(nt,rt,wt,Bt,bt),Tt.alias!=="global"&&drawBoundary(nt,Tt,wt),it.data.stopy=Math.max(wt.data.stopy+conf$a.c4ShapeMargin,it.data.stopy),it.data.stopx=Math.max(wt.data.stopx+conf$a.c4ShapeMargin,it.data.stopx),globalBoundaryMaxX=Math.max(globalBoundaryMaxX,it.data.stopx),globalBoundaryMaxY=Math.max(globalBoundaryMaxY,it.data.stopy)}}const draw$e=function(nt,rt,it,st){conf$a=getConfig$1().c4;const bt=getConfig$1().securityLevel;let wt;bt==="sandbox"&&(wt=select("#i"+rt));const Et=select(bt==="sandbox"?wt.nodes()[0].contentDocument.body:"body");let Tt=st.db;st.db.setWrap(conf$a.wrap),c4ShapeInRow=Tt.getC4ShapeInRow(),c4BoundaryInRow=Tt.getC4BoundaryInRow(),log$1.debug(`C:${JSON.stringify(conf$a,null,2)}`);const At=bt==="sandbox"?Et.select(`[id="${rt}"]`):select(`[id="${rt}"]`);svgDraw$3.insertComputerIcon(At),svgDraw$3.insertDatabaseIcon(At),svgDraw$3.insertClockIcon(At);let Dt=new Bounds(st);Dt.setData(conf$a.diagramMarginX,conf$a.diagramMarginX,conf$a.diagramMarginY,conf$a.diagramMarginY),Dt.data.widthLimit=screen.availWidth,globalBoundaryMaxX=conf$a.diagramMarginX,globalBoundaryMaxY=conf$a.diagramMarginY;const Ot=st.db.getTitle();let zt=st.db.getBoundarys("");drawInsideBoundary(At,"",Dt,zt,st),svgDraw$3.insertArrowHead(At),svgDraw$3.insertArrowEnd(At),svgDraw$3.insertArrowCrossHead(At),svgDraw$3.insertArrowFilledHead(At),drawRels(At,st.db.getRels(),st.db.getC4Shape,st),Dt.data.stopx=globalBoundaryMaxX,Dt.data.stopy=globalBoundaryMaxY;const $t=Dt.data;let Yt=$t.stopy-$t.starty+2*conf$a.diagramMarginY;const Ht=$t.stopx-$t.startx+2*conf$a.diagramMarginX;Ot&&At.append("text").text(Ot).attr("x",($t.stopx-$t.startx)/2-4*conf$a.diagramMarginX).attr("y",$t.starty+conf$a.diagramMarginY),configureSvgSize(At,Yt,Ht,conf$a.useMaxWidth);const Qt=Ot?60:0;At.attr("viewBox",$t.startx-conf$a.diagramMarginX+" -"+(conf$a.diagramMarginY+Qt)+" "+Ht+" "+(Yt+Qt)),log$1.debug("models:",$t)},c4Renderer={drawPersonOrSystemArray:drawC4ShapeArray,drawBoundary,setConf:setConf$a,draw:draw$e};var parser$9=function(){var nt=function(hr,An,rn,vn){for(rn=rn||{},vn=hr.length;vn--;rn[hr[vn]]=An);return rn},rt=[1,3],it=[1,7],st=[1,8],bt=[1,9],wt=[1,10],Et=[1,13],Tt=[1,12],At=[1,16,25],Dt=[1,20],Ot=[1,32],zt=[1,33],$t=[1,34],Bt=[1,36],Yt=[1,39],Xt=[1,37],Ht=[1,38],Qt=[1,44],Zt=[1,45],nn=[1,40],Kt=[1,41],ln=[1,42],sn=[1,43],bn=[1,48],wn=[1,49],Mn=[1,50],Sn=[1,51],Dn=[16,25],gn=[1,65],Un=[1,66],pn=[1,67],yr=[1,68],xn=[1,69],Mr=[1,70],fr=[1,71],cr=[1,80],Gn=[16,25,32,45,46,54,60,61,62,63,64,65,66,71,73],lr=[16,25,30,32,45,46,50,54,60,61,62,63,64,65,66,71,73,88,89,90,91],ur=[5,8,9,10,11,16,19,23,25],vr=[54,88,89,90,91],Ir=[54,65,66,88,89,90,91],Pr=[54,60,61,62,63,64,88,89,90,91],_r=[16,25,32],tr=[1,107],qn={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,statments:5,direction:6,directive:7,direction_tb:8,direction_bt:9,direction_rl:10,direction_lr:11,graphConfig:12,openDirective:13,typeDirective:14,closeDirective:15,NEWLINE:16,":":17,argDirective:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,CLASS_DIAGRAM:23,statements:24,EOF:25,statement:26,className:27,alphaNumToken:28,classLiteralName:29,GENERICTYPE:30,relationStatement:31,LABEL:32,classStatement:33,methodStatement:34,annotationStatement:35,clickStatement:36,cssClassStatement:37,noteStatement:38,acc_title:39,acc_title_value:40,acc_descr:41,acc_descr_value:42,acc_descr_multiline_value:43,CLASS:44,STYLE_SEPARATOR:45,STRUCT_START:46,members:47,STRUCT_STOP:48,ANNOTATION_START:49,ANNOTATION_END:50,MEMBER:51,SEPARATOR:52,relation:53,STR:54,NOTE_FOR:55,noteText:56,NOTE:57,relationType:58,lineType:59,AGGREGATION:60,EXTENSION:61,COMPOSITION:62,DEPENDENCY:63,LOLLIPOP:64,LINE:65,DOTTED_LINE:66,CALLBACK:67,LINK:68,LINK_TARGET:69,CLICK:70,CALLBACK_NAME:71,CALLBACK_ARGS:72,HREF:73,CSSCLASS:74,commentToken:75,textToken:76,graphCodeTokens:77,textNoTagsToken:78,TAGSTART:79,TAGEND:80,"==":81,"--":82,PCT:83,DEFAULT:84,SPACE:85,MINUS:86,keywords:87,UNICODE_TEXT:88,NUM:89,ALPHA:90,BQUOTE_STR:91,$accept:0,$end:1},terminals_:{2:"error",5:"statments",8:"direction_tb",9:"direction_bt",10:"direction_rl",11:"direction_lr",16:"NEWLINE",17:":",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",23:"CLASS_DIAGRAM",25:"EOF",30:"GENERICTYPE",32:"LABEL",39:"acc_title",40:"acc_title_value",41:"acc_descr",42:"acc_descr_value",43:"acc_descr_multiline_value",44:"CLASS",45:"STYLE_SEPARATOR",46:"STRUCT_START",48:"STRUCT_STOP",49:"ANNOTATION_START",50:"ANNOTATION_END",51:"MEMBER",52:"SEPARATOR",54:"STR",55:"NOTE_FOR",57:"NOTE",60:"AGGREGATION",61:"EXTENSION",62:"COMPOSITION",63:"DEPENDENCY",64:"LOLLIPOP",65:"LINE",66:"DOTTED_LINE",67:"CALLBACK",68:"LINK",69:"LINK_TARGET",70:"CLICK",71:"CALLBACK_NAME",72:"CALLBACK_ARGS",73:"HREF",74:"CSSCLASS",77:"graphCodeTokens",79:"TAGSTART",80:"TAGEND",81:"==",82:"--",83:"PCT",84:"DEFAULT",85:"SPACE",86:"MINUS",87:"keywords",88:"UNICODE_TEXT",89:"NUM",90:"ALPHA",91:"BQUOTE_STR"},productions_:[0,[3,1],[3,1],[3,1],[3,2],[6,1],[6,1],[6,1],[6,1],[4,1],[7,4],[7,6],[13,1],[14,1],[18,1],[15,1],[12,4],[24,1],[24,2],[24,3],[27,1],[27,1],[27,2],[27,2],[27,2],[26,1],[26,2],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,2],[26,2],[26,1],[33,2],[33,4],[33,5],[33,7],[35,4],[47,1],[47,2],[34,1],[34,2],[34,1],[34,1],[31,3],[31,4],[31,4],[31,5],[38,3],[38,2],[53,3],[53,2],[53,2],[53,1],[58,1],[58,1],[58,1],[58,1],[58,1],[59,1],[59,1],[36,3],[36,4],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[36,3],[36,4],[36,4],[36,5],[37,3],[75,1],[75,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[76,1],[78,1],[78,1],[78,1],[78,1],[28,1],[28,1],[28,1],[29,1],[56,1]],performAction:function(An,rn,vn,hn,zn,On,Er){var Rn=On.length-1;switch(zn){case 5:hn.setDirection("TB");break;case 6:hn.setDirection("BT");break;case 7:hn.setDirection("RL");break;case 8:hn.setDirection("LR");break;case 12:hn.parseDirective("%%{","open_directive");break;case 13:hn.parseDirective(On[Rn],"type_directive");break;case 14:On[Rn]=On[Rn].trim().replace(/'/g,'"'),hn.parseDirective(On[Rn],"arg_directive");break;case 15:hn.parseDirective("}%%","close_directive","class");break;case 20:case 21:this.$=On[Rn];break;case 22:this.$=On[Rn-1]+On[Rn];break;case 23:case 24:this.$=On[Rn-1]+"~"+On[Rn];break;case 25:hn.addRelation(On[Rn]);break;case 26:On[Rn-1].title=hn.cleanupLabel(On[Rn]),hn.addRelation(On[Rn-1]);break;case 35:this.$=On[Rn].trim(),hn.setAccTitle(this.$);break;case 36:case 37:this.$=On[Rn].trim(),hn.setAccDescription(this.$);break;case 38:hn.addClass(On[Rn]);break;case 39:hn.addClass(On[Rn-2]),hn.setCssClass(On[Rn-2],On[Rn]);break;case 40:hn.addClass(On[Rn-3]),hn.addMembers(On[Rn-3],On[Rn-1]);break;case 41:hn.addClass(On[Rn-5]),hn.setCssClass(On[Rn-5],On[Rn-3]),hn.addMembers(On[Rn-5],On[Rn-1]);break;case 42:hn.addAnnotation(On[Rn],On[Rn-2]);break;case 43:this.$=[On[Rn]];break;case 44:On[Rn].push(On[Rn-1]),this.$=On[Rn];break;case 45:break;case 46:hn.addMember(On[Rn-1],hn.cleanupLabel(On[Rn]));break;case 47:break;case 48:break;case 49:this.$={id1:On[Rn-2],id2:On[Rn],relation:On[Rn-1],relationTitle1:"none",relationTitle2:"none"};break;case 50:this.$={id1:On[Rn-3],id2:On[Rn],relation:On[Rn-1],relationTitle1:On[Rn-2],relationTitle2:"none"};break;case 51:this.$={id1:On[Rn-3],id2:On[Rn],relation:On[Rn-2],relationTitle1:"none",relationTitle2:On[Rn-1]};break;case 52:this.$={id1:On[Rn-4],id2:On[Rn],relation:On[Rn-2],relationTitle1:On[Rn-3],relationTitle2:On[Rn-1]};break;case 53:hn.addNote(On[Rn],On[Rn-1]);break;case 54:hn.addNote(On[Rn]);break;case 55:this.$={type1:On[Rn-2],type2:On[Rn],lineType:On[Rn-1]};break;case 56:this.$={type1:"none",type2:On[Rn],lineType:On[Rn-1]};break;case 57:this.$={type1:On[Rn-1],type2:"none",lineType:On[Rn]};break;case 58:this.$={type1:"none",type2:"none",lineType:On[Rn]};break;case 59:this.$=hn.relationType.AGGREGATION;break;case 60:this.$=hn.relationType.EXTENSION;break;case 61:this.$=hn.relationType.COMPOSITION;break;case 62:this.$=hn.relationType.DEPENDENCY;break;case 63:this.$=hn.relationType.LOLLIPOP;break;case 64:this.$=hn.lineType.LINE;break;case 65:this.$=hn.lineType.DOTTED_LINE;break;case 66:case 72:this.$=On[Rn-2],hn.setClickEvent(On[Rn-1],On[Rn]);break;case 67:case 73:this.$=On[Rn-3],hn.setClickEvent(On[Rn-2],On[Rn-1]),hn.setTooltip(On[Rn-2],On[Rn]);break;case 68:case 76:this.$=On[Rn-2],hn.setLink(On[Rn-1],On[Rn]);break;case 69:this.$=On[Rn-3],hn.setLink(On[Rn-2],On[Rn-1],On[Rn]);break;case 70:case 78:this.$=On[Rn-3],hn.setLink(On[Rn-2],On[Rn-1]),hn.setTooltip(On[Rn-2],On[Rn]);break;case 71:case 79:this.$=On[Rn-4],hn.setLink(On[Rn-3],On[Rn-2],On[Rn]),hn.setTooltip(On[Rn-3],On[Rn-1]);break;case 74:this.$=On[Rn-3],hn.setClickEvent(On[Rn-2],On[Rn-1],On[Rn]);break;case 75:this.$=On[Rn-4],hn.setClickEvent(On[Rn-3],On[Rn-2],On[Rn-1]),hn.setTooltip(On[Rn-3],On[Rn]);break;case 77:this.$=On[Rn-3],hn.setLink(On[Rn-2],On[Rn-1],On[Rn]);break;case 80:hn.setCssClass(On[Rn-1],On[Rn]);break}},table:[{3:1,4:2,5:rt,6:4,7:5,8:it,9:st,10:bt,11:wt,12:6,13:11,19:Et,23:Tt},{1:[3]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{3:14,4:2,5:rt,6:4,7:5,8:it,9:st,10:bt,11:wt,12:6,13:11,19:Et,23:Tt},{1:[2,9]},nt(At,[2,5]),nt(At,[2,6]),nt(At,[2,7]),nt(At,[2,8]),{14:15,20:[1,16]},{16:[1,17]},{20:[2,12]},{1:[2,4]},{15:18,17:[1,19],22:Dt},nt([17,22],[2,13]),{6:31,7:30,8:it,9:st,10:bt,11:wt,13:11,19:Et,24:21,26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:Ot,41:zt,43:$t,44:Bt,49:Yt,51:Xt,52:Ht,55:Qt,57:Zt,67:nn,68:Kt,70:ln,74:sn,88:bn,89:wn,90:Mn,91:Sn},{16:[1,52]},{18:53,21:[1,54]},{16:[2,15]},{25:[1,55]},{16:[1,56],25:[2,17]},nt(Dn,[2,25],{32:[1,57]}),nt(Dn,[2,27]),nt(Dn,[2,28]),nt(Dn,[2,29]),nt(Dn,[2,30]),nt(Dn,[2,31]),nt(Dn,[2,32]),nt(Dn,[2,33]),nt(Dn,[2,34]),{40:[1,58]},{42:[1,59]},nt(Dn,[2,37]),nt(Dn,[2,45],{53:60,58:63,59:64,32:[1,62],54:[1,61],60:gn,61:Un,62:pn,63:yr,64:xn,65:Mr,66:fr}),{27:72,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},nt(Dn,[2,47]),nt(Dn,[2,48]),{28:73,88:bn,89:wn,90:Mn},{27:74,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},{27:75,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},{27:76,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},{54:[1,77]},{27:78,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},{54:cr,56:79},nt(Gn,[2,20],{28:46,29:47,27:81,30:[1,82],88:bn,89:wn,90:Mn,91:Sn}),nt(Gn,[2,21],{30:[1,83]}),nt(lr,[2,94]),nt(lr,[2,95]),nt(lr,[2,96]),nt([16,25,30,32,45,46,54,60,61,62,63,64,65,66,71,73],[2,97]),nt(ur,[2,10]),{15:84,22:Dt},{22:[2,14]},{1:[2,16]},{6:31,7:30,8:it,9:st,10:bt,11:wt,13:11,19:Et,24:85,25:[2,18],26:22,27:35,28:46,29:47,31:23,33:24,34:25,35:26,36:27,37:28,38:29,39:Ot,41:zt,43:$t,44:Bt,49:Yt,51:Xt,52:Ht,55:Qt,57:Zt,67:nn,68:Kt,70:ln,74:sn,88:bn,89:wn,90:Mn,91:Sn},nt(Dn,[2,26]),nt(Dn,[2,35]),nt(Dn,[2,36]),{27:86,28:46,29:47,54:[1,87],88:bn,89:wn,90:Mn,91:Sn},{53:88,58:63,59:64,60:gn,61:Un,62:pn,63:yr,64:xn,65:Mr,66:fr},nt(Dn,[2,46]),{59:89,65:Mr,66:fr},nt(vr,[2,58],{58:90,60:gn,61:Un,62:pn,63:yr,64:xn}),nt(Ir,[2,59]),nt(Ir,[2,60]),nt(Ir,[2,61]),nt(Ir,[2,62]),nt(Ir,[2,63]),nt(Pr,[2,64]),nt(Pr,[2,65]),nt(Dn,[2,38],{45:[1,91],46:[1,92]}),{50:[1,93]},{54:[1,94]},{54:[1,95]},{71:[1,96],73:[1,97]},{28:98,88:bn,89:wn,90:Mn},{54:cr,56:99},nt(Dn,[2,54]),nt(Dn,[2,98]),nt(Gn,[2,22]),nt(Gn,[2,23]),nt(Gn,[2,24]),{16:[1,100]},{25:[2,19]},nt(_r,[2,49]),{27:101,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},{27:102,28:46,29:47,54:[1,103],88:bn,89:wn,90:Mn,91:Sn},nt(vr,[2,57],{58:104,60:gn,61:Un,62:pn,63:yr,64:xn}),nt(vr,[2,56]),{28:105,88:bn,89:wn,90:Mn},{47:106,51:tr},{27:108,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},nt(Dn,[2,66],{54:[1,109]}),nt(Dn,[2,68],{54:[1,111],69:[1,110]}),nt(Dn,[2,72],{54:[1,112],72:[1,113]}),nt(Dn,[2,76],{54:[1,115],69:[1,114]}),nt(Dn,[2,80]),nt(Dn,[2,53]),nt(ur,[2,11]),nt(_r,[2,51]),nt(_r,[2,50]),{27:116,28:46,29:47,88:bn,89:wn,90:Mn,91:Sn},nt(vr,[2,55]),nt(Dn,[2,39],{46:[1,117]}),{48:[1,118]},{47:119,48:[2,43],51:tr},nt(Dn,[2,42]),nt(Dn,[2,67]),nt(Dn,[2,69]),nt(Dn,[2,70],{69:[1,120]}),nt(Dn,[2,73]),nt(Dn,[2,74],{54:[1,121]}),nt(Dn,[2,77]),nt(Dn,[2,78],{69:[1,122]}),nt(_r,[2,52]),{47:123,51:tr},nt(Dn,[2,40]),{48:[2,44]},nt(Dn,[2,71]),nt(Dn,[2,75]),nt(Dn,[2,79]),{48:[1,124]},nt(Dn,[2,41])],defaultActions:{2:[2,1],3:[2,2],4:[2,3],6:[2,9],13:[2,12],14:[2,4],20:[2,15],54:[2,14],55:[2,16],85:[2,19],119:[2,44]},parseError:function(An,rn){if(rn.recoverable)this.trace(An);else{var vn=new Error(An);throw vn.hash=rn,vn}},parse:function(An){var rn=this,vn=[0],hn=[],zn=[null],On=[],Er=this.table,Rn="",rr=0,Kn=0,gr=2,xr=1,Lr=On.slice.call(arguments,1),Cr=Object.create(this.lexer),Ar={yy:{}};for(var mi in this.yy)Object.prototype.hasOwnProperty.call(this.yy,mi)&&(Ar.yy[mi]=this.yy[mi]);Cr.setInput(An,Ar.yy),Ar.yy.lexer=Cr,Ar.yy.parser=this,typeof Cr.yylloc>"u"&&(Cr.yylloc={});var vi=Cr.yylloc;On.push(vi);var xi=Cr.options&&Cr.options.ranges;typeof Ar.yy.parseError=="function"?this.parseError=Ar.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ci(){var Dr;return Dr=hn.pop()||Cr.lex()||xr,typeof Dr!="number"&&(Dr instanceof Array&&(hn=Dr,Dr=hn.pop()),Dr=rn.symbols_[Dr]||Dr),Dr}for(var Ei,Bi,Ai,Fr,Ln={},Nn,er,sr,Nr;;){if(Bi=vn[vn.length-1],this.defaultActions[Bi]?Ai=this.defaultActions[Bi]:((Ei===null||typeof Ei>"u")&&(Ei=Ci()),Ai=Er[Bi]&&Er[Bi][Ei]),typeof Ai>"u"||!Ai.length||!Ai[0]){var Jr="";Nr=[];for(Nn in Er[Bi])this.terminals_[Nn]&&Nn>gr&&Nr.push("'"+this.terminals_[Nn]+"'");Cr.showPosition?Jr="Parse error on line "+(rr+1)+`:
`+Cr.showPosition()+`
Expecting `+Nr.join(", ")+", got '"+(this.terminals_[Ei]||Ei)+"'":Jr="Parse error on line "+(rr+1)+": Unexpected "+(Ei==xr?"end of input":"'"+(this.terminals_[Ei]||Ei)+"'"),this.parseError(Jr,{text:Cr.match,token:this.terminals_[Ei]||Ei,line:Cr.yylineno,loc:vi,expected:Nr})}if(Ai[0]instanceof Array&&Ai.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Bi+", token: "+Ei);switch(Ai[0]){case 1:vn.push(Ei),zn.push(Cr.yytext),On.push(Cr.yylloc),vn.push(Ai[1]),Ei=null,Kn=Cr.yyleng,Rn=Cr.yytext,rr=Cr.yylineno,vi=Cr.yylloc;break;case 2:if(er=this.productions_[Ai[1]][1],Ln.$=zn[zn.length-er],Ln._$={first_line:On[On.length-(er||1)].first_line,last_line:On[On.length-1].last_line,first_column:On[On.length-(er||1)].first_column,last_column:On[On.length-1].last_column},xi&&(Ln._$.range=[On[On.length-(er||1)].range[0],On[On.length-1].range[1]]),Fr=this.performAction.apply(Ln,[Rn,Kn,rr,Ar.yy,Ai[1],zn,On].concat(Lr)),typeof Fr<"u")return Fr;er&&(vn=vn.slice(0,-1*er*2),zn=zn.slice(0,-1*er),On=On.slice(0,-1*er)),vn.push(this.productions_[Ai[1]][0]),zn.push(Ln.$),On.push(Ln._$),sr=Er[vn[vn.length-2]][vn[vn.length-1]],vn.push(sr);break;case 3:return!0}}return!0}},mr=function(){var hr={EOF:1,parseError:function(rn,vn){if(this.yy.parser)this.yy.parser.parseError(rn,vn);else throw new Error(rn)},setInput:function(An,rn){return this.yy=rn||this.yy||{},this._input=An,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var An=this._input[0];this.yytext+=An,this.yyleng++,this.offset++,this.match+=An,this.matched+=An;var rn=An.match(/(?:\r\n?|\n).*/g);return rn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),An},unput:function(An){var rn=An.length,vn=An.split(/(?:\r\n?|\n)/g);this._input=An+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-rn),this.offset-=rn;var hn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),vn.length-1&&(this.yylineno-=vn.length-1);var zn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:vn?(vn.length===hn.length?this.yylloc.first_column:0)+hn[hn.length-vn.length].length-vn[0].length:this.yylloc.first_column-rn},this.options.ranges&&(this.yylloc.range=[zn[0],zn[0]+this.yyleng-rn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(An){this.unput(this.match.slice(An))},pastInput:function(){var An=this.matched.substr(0,this.matched.length-this.match.length);return(An.length>20?"...":"")+An.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var An=this.match;return An.length<20&&(An+=this._input.substr(0,20-An.length)),(An.substr(0,20)+(An.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var An=this.pastInput(),rn=new Array(An.length+1).join("-");return An+this.upcomingInput()+`
`+rn+"^"},test_match:function(An,rn){var vn,hn,zn;if(this.options.backtrack_lexer&&(zn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(zn.yylloc.range=this.yylloc.range.slice(0))),hn=An[0].match(/(?:\r\n?|\n).*/g),hn&&(this.yylineno+=hn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:hn?hn[hn.length-1].length-hn[hn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+An[0].length},this.yytext+=An[0],this.match+=An[0],this.matches=An,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(An[0].length),this.matched+=An[0],vn=this.performAction.call(this,this.yy,this,rn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),vn)return vn;if(this._backtrack){for(var On in zn)this[On]=zn[On];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var An,rn,vn,hn;this._more||(this.yytext="",this.match="");for(var zn=this._currentRules(),On=0;On<zn.length;On++)if(vn=this._input.match(this.rules[zn[On]]),vn&&(!rn||vn[0].length>rn[0].length)){if(rn=vn,hn=On,this.options.backtrack_lexer){if(An=this.test_match(vn,zn[On]),An!==!1)return An;if(this._backtrack){rn=!1;continue}else return!1}else if(!this.options.flex)break}return rn?(An=this.test_match(rn,zn[hn]),An!==!1?An:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var rn=this.next();return rn||this.lex()},begin:function(rn){this.conditionStack.push(rn)},popState:function(){var rn=this.conditionStack.length-1;return rn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(rn){return rn=this.conditionStack.length-1-Math.abs(rn||0),rn>=0?this.conditionStack[rn]:"INITIAL"},pushState:function(rn){this.begin(rn)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(rn,vn,hn,zn){switch(hn){case 0:return this.begin("open_directive"),19;case 1:return 8;case 2:return 9;case 3:return 10;case 4:return 11;case 5:return this.begin("type_directive"),20;case 6:return this.popState(),this.begin("arg_directive"),17;case 7:return this.popState(),this.popState(),22;case 8:return 21;case 9:break;case 10:break;case 11:return this.begin("acc_title"),39;case 12:return this.popState(),"acc_title_value";case 13:return this.begin("acc_descr"),41;case 14:return this.popState(),"acc_descr_value";case 15:this.begin("acc_descr_multiline");break;case 16:this.popState();break;case 17:return"acc_descr_multiline_value";case 18:return 16;case 19:break;case 20:return 23;case 21:return 23;case 22:return this.begin("struct"),46;case 23:return"EDGE_STATE";case 24:return"EOF_IN_STRUCT";case 25:return"OPEN_IN_STRUCT";case 26:return this.popState(),48;case 27:break;case 28:return"MEMBER";case 29:return 44;case 30:return 74;case 31:return 67;case 32:return 68;case 33:return 70;case 34:return 55;case 35:return 57;case 36:return 49;case 37:return 50;case 38:this.begin("generic");break;case 39:this.popState();break;case 40:return"GENERICTYPE";case 41:this.begin("string");break;case 42:this.popState();break;case 43:return"STR";case 44:this.begin("bqstring");break;case 45:this.popState();break;case 46:return"BQUOTE_STR";case 47:this.begin("href");break;case 48:this.popState();break;case 49:return 73;case 50:this.begin("callback_name");break;case 51:this.popState();break;case 52:this.popState(),this.begin("callback_args");break;case 53:return 71;case 54:this.popState();break;case 55:return 72;case 56:return 69;case 57:return 69;case 58:return 69;case 59:return 69;case 60:return 61;case 61:return 61;case 62:return 63;case 63:return 63;case 64:return 62;case 65:return 60;case 66:return 64;case 67:return 65;case 68:return 66;case 69:return 32;case 70:return 45;case 71:return 86;case 72:return"DOT";case 73:return"PLUS";case 74:return 83;case 75:return"EQUALS";case 76:return"EQUALS";case 77:return 90;case 78:return"PUNCTUATION";case 79:return 89;case 80:return 88;case 81:return 85;case 82:return 25}},rules:[/^(?:%%\{)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)*[^\n]*(\r?\n?)+)/,/^(?:%%[^\n]*(\r?\n)*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:\s*(\r?\n)+)/,/^(?:\s+)/,/^(?:classDiagram-v2\b)/,/^(?:classDiagram\b)/,/^(?:[{])/,/^(?:\[\*\])/,/^(?:$)/,/^(?:[{])/,/^(?:[}])/,/^(?:[\n])/,/^(?:[^{}\n]*)/,/^(?:class\b)/,/^(?:cssClass\b)/,/^(?:callback\b)/,/^(?:link\b)/,/^(?:click\b)/,/^(?:note for\b)/,/^(?:note\b)/,/^(?:<<)/,/^(?:>>)/,/^(?:[~])/,/^(?:[~])/,/^(?:[^~]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:[`])/,/^(?:[`])/,/^(?:[^`]+)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:\s*<\|)/,/^(?:\s*\|>)/,/^(?:\s*>)/,/^(?:\s*<)/,/^(?:\s*\*)/,/^(?:\s*o\b)/,/^(?:\s*\(\))/,/^(?:--)/,/^(?:\.\.)/,/^(?::{1}[^:\n;]+)/,/^(?::{3})/,/^(?:-)/,/^(?:\.)/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:\w+)/,/^(?:[!"#$%&'*+,-.`?\\/])/,/^(?:[0-9]+)/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\s)/,/^(?:$)/],conditions:{acc_descr_multiline:{rules:[16,17],inclusive:!1},acc_descr:{rules:[14],inclusive:!1},acc_title:{rules:[12],inclusive:!1},arg_directive:{rules:[7,8],inclusive:!1},type_directive:{rules:[6,7],inclusive:!1},open_directive:{rules:[5],inclusive:!1},callback_args:{rules:[54,55],inclusive:!1},callback_name:{rules:[51,52,53],inclusive:!1},href:{rules:[48,49],inclusive:!1},struct:{rules:[23,24,25,26,27,28],inclusive:!1},generic:{rules:[39,40],inclusive:!1},bqstring:{rules:[45,46],inclusive:!1},string:{rules:[42,43],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,9,10,11,13,15,18,19,20,21,22,23,29,30,31,32,33,34,35,36,37,38,41,44,47,50,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82],inclusive:!0}}};return hr}();qn.lexer=mr;function br(){this.yy={}}return br.prototype=qn,qn.Parser=br,new br}();parser$9.parser=parser$9;const classParser=parser$9,classDetector=(nt,rt)=>{var it;return((it=rt==null?void 0:rt.class)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!1:nt.match(/^\s*classDiagram/)!==null},classDetectorV2=(nt,rt)=>{var it;return nt.match(/^\s*classDiagram/)!==null&&((it=rt==null?void 0:rt.class)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!0:nt.match(/^\s*classDiagram-v2/)!==null},MERMAID_DOM_ID_PREFIX$1="classid-";let relations$1=[],classes$2={},notes=[],classCounter=0,funs$2=[];const sanitizeText$2=nt=>common$1.sanitizeText(nt,getConfig$1()),parseDirective$9=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},splitClassNameAndType=function(nt){let rt="",it=nt;if(nt.indexOf("~")>0){let st=nt.split("~");it=st[0],rt=common$1.sanitizeText(st[1],getConfig$1())}return{className:it,type:rt}},addClass$1=function(nt){let rt=splitClassNameAndType(nt);classes$2[rt.className]===void 0&&(classes$2[rt.className]={id:rt.className,type:rt.type,cssClasses:[],methods:[],members:[],annotations:[],domId:MERMAID_DOM_ID_PREFIX$1+rt.className+"-"+classCounter},classCounter++)},lookUpDomId$1=function(nt){const rt=Object.keys(classes$2);for(const it of rt)if(classes$2[it].id===nt)return classes$2[it].domId},clear$c=function(){relations$1=[],classes$2={},notes=[],funs$2=[],funs$2.push(setupToolTips$1),clear$g()},getClass=function(nt){return classes$2[nt]},getClasses$5=function(){return classes$2},getRelations$1=function(){return relations$1},getNotes=function(){return notes},addRelation$1=function(nt){log$1.debug("Adding relation: "+JSON.stringify(nt)),addClass$1(nt.id1),addClass$1(nt.id2),nt.id1=splitClassNameAndType(nt.id1).className,nt.id2=splitClassNameAndType(nt.id2).className,nt.relationTitle1=common$1.sanitizeText(nt.relationTitle1.trim(),getConfig$1()),nt.relationTitle2=common$1.sanitizeText(nt.relationTitle2.trim(),getConfig$1()),relations$1.push(nt)},addAnnotation=function(nt,rt){const it=splitClassNameAndType(nt).className;classes$2[it].annotations.push(rt)},addMember=function(nt,rt){const it=splitClassNameAndType(nt).className,st=classes$2[it];if(typeof rt=="string"){const bt=rt.trim();bt.startsWith("<<")&&bt.endsWith(">>")?st.annotations.push(sanitizeText$2(bt.substring(2,bt.length-2))):bt.indexOf(")")>0?st.methods.push(sanitizeText$2(bt)):bt&&st.members.push(sanitizeText$2(bt))}},addMembers=function(nt,rt){Array.isArray(rt)&&(rt.reverse(),rt.forEach(it=>addMember(nt,it)))},addNote$1=function(nt,rt){const it={id:`note${notes.length}`,class:rt,text:nt};notes.push(it)},cleanupLabel$1=function(nt){return nt.substring(0,1)===":"?common$1.sanitizeText(nt.substr(1).trim(),getConfig$1()):sanitizeText$2(nt.trim())},setCssClass$1=function(nt,rt){nt.split(",").forEach(function(it){let st=it;it[0].match(/\d/)&&(st=MERMAID_DOM_ID_PREFIX$1+st),classes$2[st]!==void 0&&classes$2[st].cssClasses.push(rt)})},setTooltip$1=function(nt,rt){const it=getConfig$1();nt.split(",").forEach(function(st){rt!==void 0&&(classes$2[st].tooltip=common$1.sanitizeText(rt,it))})},getTooltip$1=function(nt){return classes$2[nt].tooltip},setLink$2=function(nt,rt,it){const st=getConfig$1();nt.split(",").forEach(function(bt){let wt=bt;bt[0].match(/\d/)&&(wt=MERMAID_DOM_ID_PREFIX$1+wt),classes$2[wt]!==void 0&&(classes$2[wt].link=utils.formatUrl(rt,st),st.securityLevel==="sandbox"?classes$2[wt].linkTarget="_top":typeof it=="string"?classes$2[wt].linkTarget=sanitizeText$2(it):classes$2[wt].linkTarget="_blank")}),setCssClass$1(nt,"clickable")},setClickEvent$2=function(nt,rt,it){nt.split(",").forEach(function(st){setClickFunc(st,rt,it),classes$2[st].haveCallback=!0}),setCssClass$1(nt,"clickable")},setClickFunc=function(nt,rt,it){const st=getConfig$1();let bt=nt,wt=lookUpDomId$1(bt);if(st.securityLevel==="loose"&&rt!==void 0&&classes$2[bt]!==void 0){let Et=[];if(typeof it=="string"){Et=it.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let Tt=0;Tt<Et.length;Tt++){let At=Et[Tt].trim();At.charAt(0)==='"'&&At.charAt(At.length-1)==='"'&&(At=At.substr(1,At.length-2)),Et[Tt]=At}}Et.length===0&&Et.push(wt),funs$2.push(function(){const Tt=document.querySelector(`[id="${wt}"]`);Tt!==null&&Tt.addEventListener("click",function(){utils.runFunc(rt,...Et)},!1)})}},bindFunctions$2=function(nt){funs$2.forEach(function(rt){rt(nt)})},lineType$1={LINE:0,DOTTED_LINE:1},relationType$1={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3,LOLLIPOP:4},setupToolTips$1=function(nt){let rt=select(".mermaidTooltip");(rt._groups||rt)[0][0]===null&&(rt=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(nt).select("svg").selectAll("g.node").on("mouseover",function(){const bt=select(this);if(bt.attr("title")===null)return;const Et=this.getBoundingClientRect();rt.transition().duration(200).style("opacity",".9"),rt.text(bt.attr("title")).style("left",window.scrollX+Et.left+(Et.right-Et.left)/2+"px").style("top",window.scrollY+Et.top-14+document.body.scrollTop+"px"),rt.html(rt.html().replace(/&lt;br\/&gt;/g,"<br/>")),bt.classed("hover",!0)}).on("mouseout",function(){rt.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$2.push(setupToolTips$1);let direction$2="TB";const getDirection$2=()=>direction$2,setDirection$2=nt=>{direction$2=nt},classDb={parseDirective:parseDirective$9,setAccTitle,getAccTitle,getAccDescription,setAccDescription,getConfig:()=>getConfig$1().class,addClass:addClass$1,bindFunctions:bindFunctions$2,clear:clear$c,getClass,getClasses:getClasses$5,getNotes,addAnnotation,addNote:addNote$1,getRelations:getRelations$1,addRelation:addRelation$1,getDirection:getDirection$2,setDirection:setDirection$2,addMember,addMembers,cleanupLabel:cleanupLabel$1,lineType:lineType$1,relationType:relationType$1,setClickEvent:setClickEvent$2,setCssClass:setCssClass$1,setLink:setLink$2,getTooltip:getTooltip$1,setTooltip:setTooltip$1,lookUpDomId:lookUpDomId$1,setDiagramTitle,getDiagramTitle};let edgeCount$1=0;const drawEdge$1=function(nt,rt,it,st,bt){const wt=function(Zt){switch(Zt){case bt.db.relationType.AGGREGATION:return"aggregation";case bt.db.relationType.EXTENSION:return"extension";case bt.db.relationType.COMPOSITION:return"composition";case bt.db.relationType.DEPENDENCY:return"dependency";case bt.db.relationType.LOLLIPOP:return"lollipop"}};rt.points=rt.points.filter(Zt=>!Number.isNaN(Zt.y));const Et=rt.points,Tt=line$1().x(function(Zt){return Zt.x}).y(function(Zt){return Zt.y}).curve(curveBasis),At=nt.append("path").attr("d",Tt(Et)).attr("id","edge"+edgeCount$1).attr("class","relation");let Dt="";st.arrowMarkerAbsolute&&(Dt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Dt=Dt.replace(/\(/g,"\\("),Dt=Dt.replace(/\)/g,"\\)")),it.relation.lineType==1&&At.attr("class","relation dashed-line"),it.relation.lineType==10&&At.attr("class","relation dotted-line"),it.relation.type1!=="none"&&At.attr("marker-start","url("+Dt+"#"+wt(it.relation.type1)+"Start)"),it.relation.type2!=="none"&&At.attr("marker-end","url("+Dt+"#"+wt(it.relation.type2)+"End)");let Ot,zt;const $t=rt.points.length;let Bt=utils.calcLabelPosition(rt.points);Ot=Bt.x,zt=Bt.y;let Yt,Xt,Ht,Qt;if($t%2!==0&&$t>1){let Zt=utils.calcCardinalityPosition(it.relation.type1!=="none",rt.points,rt.points[0]),nn=utils.calcCardinalityPosition(it.relation.type2!=="none",rt.points,rt.points[$t-1]);log$1.debug("cardinality_1_point "+JSON.stringify(Zt)),log$1.debug("cardinality_2_point "+JSON.stringify(nn)),Yt=Zt.x,Xt=Zt.y,Ht=nn.x,Qt=nn.y}if(it.title!==void 0){const Zt=nt.append("g").attr("class","classLabel"),nn=Zt.append("text").attr("class","label").attr("x",Ot).attr("y",zt).attr("fill","red").attr("text-anchor","middle").text(it.title);window.label=nn;const Kt=nn.node().getBBox();Zt.insert("rect",":first-child").attr("class","box").attr("x",Kt.x-st.padding/2).attr("y",Kt.y-st.padding/2).attr("width",Kt.width+st.padding).attr("height",Kt.height+st.padding)}log$1.info("Rendering relation "+JSON.stringify(it)),it.relationTitle1!==void 0&&it.relationTitle1!=="none"&&nt.append("g").attr("class","cardinality").append("text").attr("class","type1").attr("x",Yt).attr("y",Xt).attr("fill","black").attr("font-size","6").text(it.relationTitle1),it.relationTitle2!==void 0&&it.relationTitle2!=="none"&&nt.append("g").attr("class","cardinality").append("text").attr("class","type2").attr("x",Ht).attr("y",Qt).attr("fill","black").attr("font-size","6").text(it.relationTitle2),edgeCount$1++},drawClass=function(nt,rt,it,st){log$1.debug("Rendering class ",rt,it);const bt=rt.id,wt={id:bt,label:rt.id,width:0,height:0},Et=nt.append("g").attr("id",st.db.lookUpDomId(bt)).attr("class","classGroup");let Tt;rt.link?Tt=Et.append("svg:a").attr("xlink:href",rt.link).attr("target",rt.linkTarget).append("text").attr("y",it.textHeight+it.padding).attr("x",0):Tt=Et.append("text").attr("y",it.textHeight+it.padding).attr("x",0);let At=!0;rt.annotations.forEach(function(ln){const sn=Tt.append("tspan").text("\xAB"+ln+"\xBB");At||sn.attr("dy",it.textHeight),At=!1});let Dt=rt.id;rt.type!==void 0&&rt.type!==""&&(Dt+="<"+rt.type+">");const Ot=Tt.append("tspan").text(Dt).attr("class","title");At||Ot.attr("dy",it.textHeight);const zt=Tt.node().getBBox().height,$t=Et.append("line").attr("x1",0).attr("y1",it.padding+zt+it.dividerMargin/2).attr("y2",it.padding+zt+it.dividerMargin/2),Bt=Et.append("text").attr("x",it.padding).attr("y",zt+it.dividerMargin+it.textHeight).attr("fill","white").attr("class","classText");At=!0,rt.members.forEach(function(ln){addTspan(Bt,ln,At,it),At=!1});const Yt=Bt.node().getBBox(),Xt=Et.append("line").attr("x1",0).attr("y1",it.padding+zt+it.dividerMargin+Yt.height).attr("y2",it.padding+zt+it.dividerMargin+Yt.height),Ht=Et.append("text").attr("x",it.padding).attr("y",zt+2*it.dividerMargin+Yt.height+it.textHeight).attr("fill","white").attr("class","classText");At=!0,rt.methods.forEach(function(ln){addTspan(Ht,ln,At,it),At=!1});const Qt=Et.node().getBBox();var Zt=" ";rt.cssClasses.length>0&&(Zt=Zt+rt.cssClasses.join(" "));const Kt=Et.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Qt.width+2*it.padding).attr("height",Qt.height+it.padding+.5*it.dividerMargin).attr("class",Zt).node().getBBox().width;return Tt.node().childNodes.forEach(function(ln){ln.setAttribute("x",(Kt-ln.getBBox().width)/2)}),rt.tooltip&&Tt.insert("title").text(rt.tooltip),$t.attr("x2",Kt),Xt.attr("x2",Kt),wt.width=Kt,wt.height=Qt.height+it.padding+.5*it.dividerMargin,wt},drawNote$2=function(nt,rt,it,st){log$1.debug("Rendering note ",rt,it);const bt=rt.id,wt={id:bt,text:rt.text,width:0,height:0},Et=nt.append("g").attr("id",bt).attr("class","classGroup");let Tt=Et.append("text").attr("y",it.textHeight+it.padding).attr("x",0);const At=JSON.parse(`"${rt.text}"`).split(`
`);At.forEach(function($t){log$1.debug(`Adding line: ${$t}`),Tt.append("tspan").text($t).attr("class","title").attr("dy",it.textHeight)});const Dt=Et.node().getBBox(),zt=Et.insert("rect",":first-child").attr("x",0).attr("y",0).attr("width",Dt.width+2*it.padding).attr("height",Dt.height+At.length*it.textHeight+it.padding+.5*it.dividerMargin).node().getBBox().width;return Tt.node().childNodes.forEach(function($t){$t.setAttribute("x",(zt-$t.getBBox().width)/2)}),wt.width=zt,wt.height=Dt.height+At.length*it.textHeight+it.padding+.5*it.dividerMargin,wt},parseMember=function(nt){const rt=/^([#+~-])?(\w+)(~\w+~|\[])?\s+(\w+) *([$*])?$/,it=/^([#+|~-])?(\w+) *\( *(.*)\) *([$*])? *(\w*[[\]|~]*\s*\w*~?)$/;let st=nt.match(rt),bt=nt.match(it);return st&&!bt?buildFieldDisplay(st):bt?buildMethodDisplay(bt):buildLegacyDisplay(nt)},buildFieldDisplay=function(nt){let rt="",it="";try{let st=nt[1]?nt[1].trim():"",bt=nt[2]?nt[2].trim():"",wt=nt[3]?parseGenericTypes(nt[3].trim()):"",Et=nt[4]?nt[4].trim():"",Tt=nt[5]?nt[5].trim():"";it=st+bt+wt+" "+Et,rt=parseClassifier(Tt)}catch{it=nt}return{displayText:it,cssStyle:rt}},buildMethodDisplay=function(nt){let rt="",it="";try{let st=nt[1]?nt[1].trim():"",bt=nt[2]?nt[2].trim():"",wt=nt[3]?parseGenericTypes(nt[3].trim()):"",Et=nt[4]?nt[4].trim():"",Tt=nt[5]?" : "+parseGenericTypes(nt[5]).trim():"";it=st+bt+"("+wt+")"+Tt,rt=parseClassifier(Et)}catch{it=nt}return{displayText:it,cssStyle:rt}},buildLegacyDisplay=function(nt){let rt="",it="",st="",bt=nt.indexOf("("),wt=nt.indexOf(")");if(bt>1&&wt>bt&&wt<=nt.length){let Et="",Tt="",At=nt.substring(0,1);At.match(/\w/)?Tt=nt.substring(0,bt).trim():(At.match(/[#+~-]/)&&(Et=At),Tt=nt.substring(1,bt).trim());const Dt=nt.substring(bt+1,wt);nt.substring(wt+1,1),it=parseClassifier(nt.substring(wt+1,wt+2)),rt=Et+Tt+"("+parseGenericTypes(Dt.trim())+")",wt<nt.length&&(st=nt.substring(wt+2).trim(),st!==""&&(st=" : "+parseGenericTypes(st),rt+=st))}else rt=parseGenericTypes(nt);return{displayText:rt,cssStyle:it}},addTspan=function(nt,rt,it,st){let bt=parseMember(rt);const wt=nt.append("tspan").attr("x",st.padding).text(bt.displayText);bt.cssStyle!==""&&wt.attr("style",bt.cssStyle),it||wt.attr("dy",st.textHeight)},parseClassifier=function(nt){switch(nt){case"*":return"font-style:italic;";case"$":return"text-decoration:underline;";default:return""}},svgDraw$2={drawClass,drawEdge:drawEdge$1,drawNote:drawNote$2,parseMember};let idCache$2={};const padding=20,getGraphId=function(nt){const rt=Object.entries(idCache$2).find(it=>it[1].label===nt);if(rt)return rt[0]},insertMarkers$4=function(nt){nt.append("defs").append("marker").attr("id","extensionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),nt.append("defs").append("marker").attr("id","extensionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z"),nt.append("defs").append("marker").attr("id","compositionStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id","compositionEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id","aggregationStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id","aggregationEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id","dependencyStart").attr("class","extension").attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},draw$d=function(nt,rt,it,st){const bt=getConfig$1().class;idCache$2={},log$1.info("Rendering diagram "+nt);const wt=getConfig$1().securityLevel;let Et;wt==="sandbox"&&(Et=select("#i"+rt));const Tt=select(wt==="sandbox"?Et.nodes()[0].contentDocument.body:"body"),At=Tt.select(`[id='${rt}']`);insertMarkers$4(At);const Dt=new Graph({multigraph:!0});Dt.setGraph({isMultiGraph:!0}),Dt.setDefaultEdgeLabel(function(){return{}});const Ot=st.db.getClasses(),zt=Object.keys(Ot);for(const Zt of zt){const nn=Ot[Zt],Kt=svgDraw$2.drawClass(At,nn,bt,st);idCache$2[Kt.id]=Kt,Dt.setNode(Kt.id,Kt),log$1.info("Org height: "+Kt.height)}st.db.getRelations().forEach(function(Zt){log$1.info("tjoho"+getGraphId(Zt.id1)+getGraphId(Zt.id2)+JSON.stringify(Zt)),Dt.setEdge(getGraphId(Zt.id1),getGraphId(Zt.id2),{relation:Zt},Zt.title||"DEFAULT")}),st.db.getNotes().forEach(function(Zt){log$1.debug(`Adding note: ${JSON.stringify(Zt)}`);const nn=svgDraw$2.drawNote(At,Zt,bt,st);idCache$2[nn.id]=nn,Dt.setNode(nn.id,nn),Zt.class&&Zt.class in Ot&&Dt.setEdge(Zt.id,getGraphId(Zt.class),{relation:{id1:Zt.id,id2:Zt.class,relation:{type1:"none",type2:"none",lineType:10}}},"DEFAULT")}),layout(Dt),Dt.nodes().forEach(function(Zt){Zt!==void 0&&Dt.node(Zt)!==void 0&&(log$1.debug("Node "+Zt+": "+JSON.stringify(Dt.node(Zt))),Tt.select("#"+(st.db.lookUpDomId(Zt)||Zt)).attr("transform","translate("+(Dt.node(Zt).x-Dt.node(Zt).width/2)+","+(Dt.node(Zt).y-Dt.node(Zt).height/2)+" )"))}),Dt.edges().forEach(function(Zt){Zt!==void 0&&Dt.edge(Zt)!==void 0&&(log$1.debug("Edge "+Zt.v+" -> "+Zt.w+": "+JSON.stringify(Dt.edge(Zt))),svgDraw$2.drawEdge(At,Dt.edge(Zt),Dt.edge(Zt).relation,bt,st))});const Yt=At.node().getBBox(),Xt=Yt.width+padding*2,Ht=Yt.height+padding*2;configureSvgSize(At,Ht,Xt,bt.useMaxWidth);const Qt=`${Yt.x-padding} ${Yt.y-padding} ${Xt} ${Ht}`;log$1.debug(`viewBox ${Qt}`),At.attr("viewBox",Qt)},classRenderer={draw:draw$d},insertMarkers$2=(nt,rt,it,st)=>{rt.forEach(bt=>{markers$1[bt](nt,it,st)})},extension=(nt,rt,it)=>{log$1.trace("Making markers for ",it),nt.append("defs").append("marker").attr("id",rt+"-extensionStart").attr("class","marker extension "+rt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 1,7 L18,13 V 1 Z"),nt.append("defs").append("marker").attr("id",rt+"-extensionEnd").attr("class","marker extension "+rt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 1,1 V 13 L18,7 Z")},composition=(nt,rt)=>{nt.append("defs").append("marker").attr("id",rt+"-compositionStart").attr("class","marker composition "+rt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id",rt+"-compositionEnd").attr("class","marker composition "+rt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},aggregation=(nt,rt)=>{nt.append("defs").append("marker").attr("id",rt+"-aggregationStart").attr("class","marker aggregation "+rt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id",rt+"-aggregationEnd").attr("class","marker aggregation "+rt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L1,7 L9,1 Z")},dependency=(nt,rt)=>{nt.append("defs").append("marker").attr("id",rt+"-dependencyStart").attr("class","marker dependency "+rt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("path").attr("d","M 5,7 L9,13 L1,7 L9,1 Z"),nt.append("defs").append("marker").attr("id",rt+"-dependencyEnd").attr("class","marker dependency "+rt).attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},lollipop=(nt,rt)=>{nt.append("defs").append("marker").attr("id",rt+"-lollipopStart").attr("class","marker lollipop "+rt).attr("refX",0).attr("refY",7).attr("markerWidth",190).attr("markerHeight",240).attr("orient","auto").append("circle").attr("stroke","black").attr("fill","white").attr("cx",6).attr("cy",7).attr("r",6)},point=(nt,rt)=>{nt.append("marker").attr("id",rt+"-pointEnd").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",10).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),nt.append("marker").attr("id",rt+"-pointStart").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",0).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 5 L 10 10 L 10 0 z").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},circle$1=(nt,rt)=>{nt.append("marker").attr("id",rt+"-circleEnd").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",11).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0"),nt.append("marker").attr("id",rt+"-circleStart").attr("class","marker "+rt).attr("viewBox","0 0 10 10").attr("refX",-1).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("circle").attr("cx","5").attr("cy","5").attr("r","5").attr("class","arrowMarkerPath").style("stroke-width",1).style("stroke-dasharray","1,0")},cross=(nt,rt)=>{nt.append("marker").attr("id",rt+"-crossEnd").attr("class","marker cross "+rt).attr("viewBox","0 0 11 11").attr("refX",12).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0"),nt.append("marker").attr("id",rt+"-crossStart").attr("class","marker cross "+rt).attr("viewBox","0 0 11 11").attr("refX",-1).attr("refY",5.2).attr("markerUnits","userSpaceOnUse").attr("markerWidth",11).attr("markerHeight",11).attr("orient","auto").append("path").attr("d","M 1,1 l 9,9 M 10,1 l -9,9").attr("class","arrowMarkerPath").style("stroke-width",2).style("stroke-dasharray","1,0")},barb=(nt,rt)=>{nt.append("defs").append("marker").attr("id",rt+"-barbEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",14).attr("markerUnits","strokeWidth").attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},markers$1={extension,composition,aggregation,dependency,lollipop,point,circle:circle$1,cross,barb},insertMarkers$3=insertMarkers$2;function applyStyle(nt,rt){rt&&nt.attr("style",rt)}function addHtmlLabel(nt){const rt=select(document.createElementNS("http://www.w3.org/2000/svg","foreignObject")),it=rt.append("xhtml:div"),st=nt.label,bt=nt.isNode?"nodeLabel":"edgeLabel";return it.html('<span class="'+bt+'" '+(nt.labelStyle?'style="'+nt.labelStyle+'"':"")+">"+st+"</span>"),applyStyle(it,nt.labelStyle),it.style("display","inline-block"),it.style("white-space","nowrap"),it.attr("xmlns","http://www.w3.org/1999/xhtml"),rt.node()}const createLabel=(nt,rt,it,st)=>{let bt=nt||"";if(typeof bt=="object"&&(bt=bt[0]),evaluate(getConfig$1().flowchart.htmlLabels)){bt=bt.replace(/\\n|\n/g,"<br />"),log$1.info("vertexText"+bt);const wt={isNode:st,label:decodeEntities(bt).replace(/fa[blrs]?:fa-[\w-]+/g,Tt=>`<i class='${Tt.replace(":"," ")}'></i>`),labelStyle:rt.replace("fill:","color:")};return addHtmlLabel(wt)}else{const wt=document.createElementNS("http://www.w3.org/2000/svg","text");wt.setAttribute("style",rt.replace("color:","fill:"));let Et=[];typeof bt=="string"?Et=bt.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(bt)?Et=bt:Et=[];for(const Tt of Et){const At=document.createElementNS("http://www.w3.org/2000/svg","tspan");At.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),At.setAttribute("dy","1em"),At.setAttribute("x","0"),it?At.setAttribute("class","title-row"):At.setAttribute("class","row"),At.textContent=Tt.trim(),wt.appendChild(At)}return wt}},createLabel$1=createLabel,labelHelper=(nt,rt,it,st)=>{let bt;it?bt=it:bt="node default";const wt=nt.insert("g").attr("class",bt).attr("id",rt.domId||rt.id),Et=wt.insert("g").attr("class","label").attr("style",rt.labelStyle);let Tt;rt.labelText===void 0?Tt="":Tt=typeof rt.labelText=="string"?rt.labelText:rt.labelText[0];const At=Et.node().appendChild(createLabel$1(sanitizeText$5(decodeEntities(Tt),getConfig$1()),rt.labelStyle,!1,st));let Dt=At.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const zt=At.children[0],$t=select(At);Dt=zt.getBoundingClientRect(),$t.attr("width",Dt.width),$t.attr("height",Dt.height)}const Ot=rt.padding/2;return Et.attr("transform","translate("+-Dt.width/2+", "+-Dt.height/2+")"),{shapeSvg:wt,bbox:Dt,halfPadding:Ot,label:Et}},updateNodeBounds=(nt,rt)=>{const it=rt.node().getBBox();nt.width=it.width,nt.height=it.height};function insertPolygonShape$1(nt,rt,it,st){return nt.insert("polygon",":first-child").attr("points",st.map(function(bt){return bt.x+","+bt.y}).join(" ")).attr("class","label-container").attr("transform","translate("+-rt/2+","+it/2+")")}let clusterDb={},descendants={},parents={};const clear$b=()=>{descendants={},parents={},clusterDb={}},isDescendant=(nt,rt)=>(log$1.trace("In isDecendant",rt," ",nt," = ",descendants[rt].includes(nt)),!!descendants[rt].includes(nt)),edgeInCluster=(nt,rt)=>(log$1.info("Decendants of ",rt," is ",descendants[rt]),log$1.info("Edge is ",nt),nt.v===rt||nt.w===rt?!1:descendants[rt]?descendants[rt].includes(nt.v)||isDescendant(nt.v,rt)||isDescendant(nt.w,rt)||descendants[rt].includes(nt.w):(log$1.debug("Tilt, ",rt,",not in decendants"),!1)),copy=(nt,rt,it,st)=>{log$1.warn("Copying children of ",nt,"root",st,"data",rt.node(nt),st);const bt=rt.children(nt)||[];nt!==st&&bt.push(nt),log$1.warn("Copying (nodes) clusterId",nt,"nodes",bt),bt.forEach(wt=>{if(rt.children(wt).length>0)copy(wt,rt,it,st);else{const Et=rt.node(wt);log$1.info("cp ",wt," to ",st," with parent ",nt),it.setNode(wt,Et),st!==rt.parent(wt)&&(log$1.warn("Setting parent",wt,rt.parent(wt)),it.setParent(wt,rt.parent(wt))),nt!==st&&wt!==nt?(log$1.debug("Setting parent",wt,nt),it.setParent(wt,nt)):(log$1.info("In copy ",nt,"root",st,"data",rt.node(nt),st),log$1.debug("Not Setting parent for node=",wt,"cluster!==rootId",nt!==st,"node!==clusterId",wt!==nt));const Tt=rt.edges(wt);log$1.debug("Copying Edges",Tt),Tt.forEach(At=>{log$1.info("Edge",At);const Dt=rt.edge(At.v,At.w,At.name);log$1.info("Edge data",Dt,st);try{edgeInCluster(At,st)?(log$1.info("Copying as ",At.v,At.w,Dt,At.name),it.setEdge(At.v,At.w,Dt,At.name),log$1.info("newGraph edges ",it.edges(),it.edge(it.edges()[0]))):log$1.info("Skipping copy of edge ",At.v,"-->",At.w," rootId: ",st," clusterId:",nt)}catch(Ot){log$1.error(Ot)}})}log$1.debug("Removing node",wt),rt.removeNode(wt)})},extractDescendants=(nt,rt)=>{const it=rt.children(nt);let st=[...it];for(const bt of it)parents[bt]=nt,st=[...st,...extractDescendants(bt,rt)];return st},findNonClusterChild=(nt,rt)=>{log$1.trace("Searching",nt);const it=rt.children(nt);if(log$1.trace("Searching children of id ",nt,it),it.length<1)return log$1.trace("This is a valid node",nt),nt;for(const st of it){const bt=findNonClusterChild(st,rt);if(bt)return log$1.trace("Found replacement for",nt," => ",bt),bt}},getAnchorId=nt=>!clusterDb[nt]||!clusterDb[nt].externalConnections?nt:clusterDb[nt]?clusterDb[nt].id:nt,adjustClustersAndEdges=(nt,rt)=>{if(!nt||rt>10){log$1.debug("Opting out, no graph ");return}else log$1.debug("Opting in, graph ");nt.nodes().forEach(function(it){nt.children(it).length>0&&(log$1.warn("Cluster identified",it," Replacement id in edges: ",findNonClusterChild(it,nt)),descendants[it]=extractDescendants(it,nt),clusterDb[it]={id:findNonClusterChild(it,nt),clusterData:nt.node(it)})}),nt.nodes().forEach(function(it){const st=nt.children(it),bt=nt.edges();st.length>0?(log$1.debug("Cluster identified",it,descendants),bt.forEach(wt=>{if(wt.v!==it&&wt.w!==it){const Et=isDescendant(wt.v,it),Tt=isDescendant(wt.w,it);Et^Tt&&(log$1.warn("Edge: ",wt," leaves cluster ",it),log$1.warn("Decendants of XXX ",it,": ",descendants[it]),clusterDb[it].externalConnections=!0)}})):log$1.debug("Not a cluster ",it,descendants)}),nt.edges().forEach(function(it){const st=nt.edge(it);log$1.warn("Edge "+it.v+" -> "+it.w+": "+JSON.stringify(it)),log$1.warn("Edge "+it.v+" -> "+it.w+": "+JSON.stringify(nt.edge(it)));let bt=it.v,wt=it.w;if(log$1.warn("Fix XXX",clusterDb,"ids:",it.v,it.w,"Translating: ",clusterDb[it.v]," --- ",clusterDb[it.w]),clusterDb[it.v]&&clusterDb[it.w]&&clusterDb[it.v]===clusterDb[it.w]){log$1.warn("Fixing and trixing link to self - removing XXX",it.v,it.w,it.name),log$1.warn("Fixing and trixing - removing XXX",it.v,it.w,it.name),bt=getAnchorId(it.v),wt=getAnchorId(it.w),nt.removeEdge(it.v,it.w,it.name);const Et=it.w+"---"+it.v;nt.setNode(Et,{domId:Et,id:Et,labelStyle:"",labelText:st.label,padding:0,shape:"labelRect",style:""});const Tt=JSON.parse(JSON.stringify(st)),At=JSON.parse(JSON.stringify(st));Tt.label="",Tt.arrowTypeEnd="none",At.label="",Tt.fromCluster=it.v,At.toCluster=it.v,nt.setEdge(bt,Et,Tt,it.name+"-cyclic-special"),nt.setEdge(Et,wt,At,it.name+"-cyclic-special")}else(clusterDb[it.v]||clusterDb[it.w])&&(log$1.warn("Fixing and trixing - removing XXX",it.v,it.w,it.name),bt=getAnchorId(it.v),wt=getAnchorId(it.w),nt.removeEdge(it.v,it.w,it.name),bt!==it.v&&(st.fromCluster=it.v),wt!==it.w&&(st.toCluster=it.w),log$1.warn("Fix Replacing with XXX",bt,wt,it.name),nt.setEdge(bt,wt,st,it.name))}),log$1.warn("Adjusted Graph",write(nt)),extractor(nt,0),log$1.trace(clusterDb)},extractor=(nt,rt)=>{if(log$1.warn("extractor - ",rt,write(nt),nt.children("D")),rt>10){log$1.error("Bailing out");return}let it=nt.nodes(),st=!1;for(const bt of it){const wt=nt.children(bt);st=st||wt.length>0}if(!st){log$1.debug("Done, no node has children",nt.nodes());return}log$1.debug("Nodes = ",it,rt);for(const bt of it)if(log$1.debug("Extracting node",bt,clusterDb,clusterDb[bt]&&!clusterDb[bt].externalConnections,!nt.parent(bt),nt.node(bt),nt.children("D")," Depth ",rt),!clusterDb[bt])log$1.debug("Not a cluster",bt,rt);else if(!clusterDb[bt].externalConnections&&nt.children(bt)&&nt.children(bt).length>0){log$1.warn("Cluster without external connections, without a parent and with children",bt,rt);let Et=nt.graph().rankdir==="TB"?"LR":"TB";clusterDb[bt]&&clusterDb[bt].clusterData&&clusterDb[bt].clusterData.dir&&(Et=clusterDb[bt].clusterData.dir,log$1.warn("Fixing dir",clusterDb[bt].clusterData.dir,Et));const Tt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Et,nodesep:50,ranksep:50,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});log$1.warn("Old graph before copy",write(nt)),copy(bt,nt,Tt,bt),nt.setNode(bt,{clusterNode:!0,id:bt,clusterData:clusterDb[bt].clusterData,labelText:clusterDb[bt].labelText,graph:Tt}),log$1.warn("New graph after copy node: (",bt,")",write(Tt)),log$1.debug("Old graph after copy",write(nt))}else log$1.warn("Cluster ** ",bt," **not meeting the criteria !externalConnections:",!clusterDb[bt].externalConnections," no parent: ",!nt.parent(bt)," children ",nt.children(bt)&&nt.children(bt).length>0,nt.children("D"),rt),log$1.debug(clusterDb);it=nt.nodes(),log$1.warn("New list of nodes",it);for(const bt of it){const wt=nt.node(bt);log$1.warn(" Now next level",bt,wt),wt.clusterNode&&extractor(wt.graph,rt+1)}},sorter=(nt,rt)=>{if(rt.length===0)return[];let it=Object.assign(rt);return rt.forEach(st=>{const bt=nt.children(st),wt=sorter(nt,bt);it=[...it,...wt]}),it},sortNodesByHierarchy=nt=>sorter(nt,nt.children());function intersectNode(nt,rt){return nt.intersect(rt)}function intersectEllipse(nt,rt,it,st){var bt=nt.x,wt=nt.y,Et=bt-st.x,Tt=wt-st.y,At=Math.sqrt(rt*rt*Tt*Tt+it*it*Et*Et),Dt=Math.abs(rt*it*Et/At);st.x<bt&&(Dt=-Dt);var Ot=Math.abs(rt*it*Tt/At);return st.y<wt&&(Ot=-Ot),{x:bt+Dt,y:wt+Ot}}function intersectCircle(nt,rt,it){return intersectEllipse(nt,rt,rt,it)}function intersectLine(nt,rt,it,st){var bt,wt,Et,Tt,At,Dt,Ot,zt,$t,Bt,Yt,Xt,Ht,Qt,Zt;if(bt=rt.y-nt.y,Et=nt.x-rt.x,At=rt.x*nt.y-nt.x*rt.y,$t=bt*it.x+Et*it.y+At,Bt=bt*st.x+Et*st.y+At,!($t!==0&&Bt!==0&&sameSign($t,Bt))&&(wt=st.y-it.y,Tt=it.x-st.x,Dt=st.x*it.y-it.x*st.y,Ot=wt*nt.x+Tt*nt.y+Dt,zt=wt*rt.x+Tt*rt.y+Dt,!(Ot!==0&&zt!==0&&sameSign(Ot,zt))&&(Yt=bt*Tt-wt*Et,Yt!==0)))return Xt=Math.abs(Yt/2),Ht=Et*Dt-Tt*At,Qt=Ht<0?(Ht-Xt)/Yt:(Ht+Xt)/Yt,Ht=wt*At-bt*Dt,Zt=Ht<0?(Ht-Xt)/Yt:(Ht+Xt)/Yt,{x:Qt,y:Zt}}function sameSign(nt,rt){return nt*rt>0}function intersectPolygon(nt,rt,it){var st=nt.x,bt=nt.y,wt=[],Et=Number.POSITIVE_INFINITY,Tt=Number.POSITIVE_INFINITY;typeof rt.forEach=="function"?rt.forEach(function(Yt){Et=Math.min(Et,Yt.x),Tt=Math.min(Tt,Yt.y)}):(Et=Math.min(Et,rt.x),Tt=Math.min(Tt,rt.y));for(var At=st-nt.width/2-Et,Dt=bt-nt.height/2-Tt,Ot=0;Ot<rt.length;Ot++){var zt=rt[Ot],$t=rt[Ot<rt.length-1?Ot+1:0],Bt=intersectLine(nt,it,{x:At+zt.x,y:Dt+zt.y},{x:At+$t.x,y:Dt+$t.y});Bt&&wt.push(Bt)}return wt.length?(wt.length>1&&wt.sort(function(Yt,Xt){var Ht=Yt.x-it.x,Qt=Yt.y-it.y,Zt=Math.sqrt(Ht*Ht+Qt*Qt),nn=Xt.x-it.x,Kt=Xt.y-it.y,ln=Math.sqrt(nn*nn+Kt*Kt);return Zt<ln?-1:Zt===ln?0:1}),wt[0]):nt}const intersectRect=(nt,rt)=>{var it=nt.x,st=nt.y,bt=rt.x-it,wt=rt.y-st,Et=nt.width/2,Tt=nt.height/2,At,Dt;return Math.abs(wt)*Et>Math.abs(bt)*Tt?(wt<0&&(Tt=-Tt),At=wt===0?0:Tt*bt/wt,Dt=Tt):(bt<0&&(Et=-Et),At=Et,Dt=bt===0?0:Et*wt/bt),{x:it+At,y:st+Dt}},intersectRect$1=intersectRect,intersect={node:intersectNode,circle:intersectCircle,ellipse:intersectEllipse,polygon:intersectPolygon,rect:intersectRect$1},note=(nt,rt)=>{const{shapeSvg:it,bbox:st,halfPadding:bt}=labelHelper(nt,rt,"node "+rt.classes,!0);log$1.info("Classes = ",rt.classes);const wt=it.insert("rect",":first-child");return wt.attr("rx",rt.rx).attr("ry",rt.ry).attr("x",-st.width/2-bt).attr("y",-st.height/2-bt).attr("width",st.width+rt.padding).attr("height",st.height+rt.padding),updateNodeBounds(rt,wt),rt.intersect=function(Et){return intersect.rect(rt,Et)},it},note$1=note,question$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=bt+wt,Tt=[{x:Et/2,y:0},{x:Et,y:-Et/2},{x:Et/2,y:-Et},{x:0,y:-Et/2}];log$1.info("Question main (Circle)");const At=insertPolygonShape$1(it,Et,Et,Tt);return At.attr("style",rt.style),updateNodeBounds(rt,At),rt.intersect=function(Dt){return log$1.warn("Intersect called"),intersect.polygon(rt,Tt,Dt)},it},choice=(nt,rt)=>{const it=nt.insert("g").attr("class","node default").attr("id",rt.domId||rt.id),st=28,bt=[{x:0,y:st/2},{x:st/2,y:0},{x:0,y:-st/2},{x:-st/2,y:0}];return it.insert("polygon",":first-child").attr("points",bt.map(function(Et){return Et.x+","+Et.y}).join(" ")).attr("class","state-start").attr("r",7).attr("width",28).attr("height",28),rt.width=28,rt.height=28,rt.intersect=function(Et){return intersect.circle(rt,14,Et)},it},hexagon$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=4,wt=st.height+rt.padding,Et=wt/bt,Tt=st.width+2*Et+rt.padding,At=[{x:Et,y:0},{x:Tt-Et,y:0},{x:Tt,y:-wt/2},{x:Tt-Et,y:-wt},{x:Et,y:-wt},{x:0,y:-wt/2}],Dt=insertPolygonShape$1(it,Tt,wt,At);return Dt.attr("style",rt.style),updateNodeBounds(rt,Dt),rt.intersect=function(Ot){return intersect.polygon(rt,At,Ot)},it},rect_left_inv_arrow$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:-wt/2,y:0},{x:bt,y:0},{x:bt,y:-wt},{x:-wt/2,y:-wt},{x:0,y:-wt/2}];return insertPolygonShape$1(it,bt,wt,Et).attr("style",rt.style),rt.width=bt+wt,rt.height=wt,rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},lean_right$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:-2*wt/6,y:0},{x:bt-wt/6,y:0},{x:bt+2*wt/6,y:-wt},{x:wt/6,y:-wt}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},lean_left$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:2*wt/6,y:0},{x:bt+wt/6,y:0},{x:bt-2*wt/6,y:-wt},{x:-wt/6,y:-wt}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},trapezoid$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:-2*wt/6,y:0},{x:bt+2*wt/6,y:0},{x:bt-wt/6,y:-wt},{x:wt/6,y:-wt}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},inv_trapezoid$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:wt/6,y:0},{x:bt-wt/6,y:0},{x:bt+2*wt/6,y:-wt},{x:-2*wt/6,y:-wt}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},rect_right_inv_arrow$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:0,y:0},{x:bt+wt/2,y:0},{x:bt,y:-wt/2},{x:bt+wt/2,y:-wt},{x:0,y:-wt}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},cylinder$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=bt/2,Et=wt/(2.5+bt/50),Tt=st.height+Et+rt.padding,At="M 0,"+Et+" a "+wt+","+Et+" 0,0,0 "+bt+" 0 a "+wt+","+Et+" 0,0,0 "+-bt+" 0 l 0,"+Tt+" a "+wt+","+Et+" 0,0,0 "+bt+" 0 l 0,"+-Tt,Dt=it.attr("label-offset-y",Et).insert("path",":first-child").attr("style",rt.style).attr("d",At).attr("transform","translate("+-bt/2+","+-(Tt/2+Et)+")");return updateNodeBounds(rt,Dt),rt.intersect=function(Ot){const zt=intersect.rect(rt,Ot),$t=zt.x-rt.x;if(wt!=0&&(Math.abs($t)<rt.width/2||Math.abs($t)==rt.width/2&&Math.abs(zt.y-rt.y)>rt.height/2-Et)){let Bt=Et*Et*(1-$t*$t/(wt*wt));Bt!=0&&(Bt=Math.sqrt(Bt)),Bt=Et-Bt,Ot.y-rt.y>0&&(Bt=-Bt),zt.y+=Bt}return zt},it},rect$1=(nt,rt)=>{const{shapeSvg:it,bbox:st,halfPadding:bt}=labelHelper(nt,rt,"node "+rt.classes,!0);log$1.trace("Classes = ",rt.classes);const wt=it.insert("rect",":first-child"),Et=st.width+rt.padding,Tt=st.height+rt.padding;if(wt.attr("class","basic label-container").attr("style",rt.style).attr("rx",rt.rx).attr("ry",rt.ry).attr("x",-st.width/2-bt).attr("y",-st.height/2-bt).attr("width",Et).attr("height",Tt),rt.props){const At=new Set(Object.keys(rt.props));rt.props.borders&&(applyNodePropertyBorders(wt,rt.props.borders,Et,Tt),At.delete("borders")),At.forEach(Dt=>{log$1.warn(`Unknown node property ${Dt}`)})}return updateNodeBounds(rt,wt),rt.intersect=function(At){return intersect.rect(rt,At)},it},labelRect=(nt,rt)=>{const{shapeSvg:it}=labelHelper(nt,rt,"label",!0);log$1.trace("Classes = ",rt.classes);const st=it.insert("rect",":first-child"),bt=0,wt=0;if(st.attr("width",bt).attr("height",wt),it.attr("class","label edgeLabel"),rt.props){const Et=new Set(Object.keys(rt.props));rt.props.borders&&(applyNodePropertyBorders(st,rt.props.borders,bt,wt),Et.delete("borders")),Et.forEach(Tt=>{log$1.warn(`Unknown node property ${Tt}`)})}return updateNodeBounds(rt,st),rt.intersect=function(Et){return intersect.rect(rt,Et)},it};function applyNodePropertyBorders(nt,rt,it,st){const bt=[],wt=Tt=>{bt.push(Tt,0)},Et=Tt=>{bt.push(0,Tt)};rt.includes("t")?(log$1.debug("add top border"),wt(it)):Et(it),rt.includes("r")?(log$1.debug("add right border"),wt(st)):Et(st),rt.includes("b")?(log$1.debug("add bottom border"),wt(it)):Et(it),rt.includes("l")?(log$1.debug("add left border"),wt(st)):Et(st),nt.attr("stroke-dasharray",bt.join(" "))}const rectWithTitle=(nt,rt)=>{let it;rt.classes?it="node "+rt.classes:it="node default";const st=nt.insert("g").attr("class",it).attr("id",rt.domId||rt.id),bt=st.insert("rect",":first-child"),wt=st.insert("line"),Et=st.insert("g").attr("class","label"),Tt=rt.labelText.flat?rt.labelText.flat():rt.labelText;let At="";typeof Tt=="object"?At=Tt[0]:At=Tt,log$1.info("Label text abc79",At,Tt,typeof Tt=="object");const Dt=Et.node().appendChild(createLabel$1(At,rt.labelStyle,!0,!0));let Ot={width:0,height:0};if(evaluate(getConfig$1().flowchart.htmlLabels)){const Xt=Dt.children[0],Ht=select(Dt);Ot=Xt.getBoundingClientRect(),Ht.attr("width",Ot.width),Ht.attr("height",Ot.height)}log$1.info("Text 2",Tt);const zt=Tt.slice(1,Tt.length);let $t=Dt.getBBox();const Bt=Et.node().appendChild(createLabel$1(zt.join?zt.join("<br/>"):zt,rt.labelStyle,!0,!0));if(evaluate(getConfig$1().flowchart.htmlLabels)){const Xt=Bt.children[0],Ht=select(Bt);Ot=Xt.getBoundingClientRect(),Ht.attr("width",Ot.width),Ht.attr("height",Ot.height)}const Yt=rt.padding/2;return select(Bt).attr("transform","translate( "+(Ot.width>$t.width?0:($t.width-Ot.width)/2)+", "+($t.height+Yt+5)+")"),select(Dt).attr("transform","translate( "+(Ot.width<$t.width?0:-($t.width-Ot.width)/2)+", "+0+")"),Ot=Et.node().getBBox(),Et.attr("transform","translate("+-Ot.width/2+", "+(-Ot.height/2-Yt+3)+")"),bt.attr("class","outer title-state").attr("x",-Ot.width/2-Yt).attr("y",-Ot.height/2-Yt).attr("width",Ot.width+rt.padding).attr("height",Ot.height+rt.padding),wt.attr("class","divider").attr("x1",-Ot.width/2-Yt).attr("x2",Ot.width/2+Yt).attr("y1",-Ot.height/2-Yt+$t.height+Yt).attr("y2",-Ot.height/2-Yt+$t.height+Yt),updateNodeBounds(rt,bt),rt.intersect=function(Xt){return intersect.rect(rt,Xt)},st},stadium$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.height+rt.padding,wt=st.width+bt/4+rt.padding,Et=it.insert("rect",":first-child").attr("style",rt.style).attr("rx",bt/2).attr("ry",bt/2).attr("x",-wt/2).attr("y",-bt/2).attr("width",wt).attr("height",bt);return updateNodeBounds(rt,Et),rt.intersect=function(Tt){return intersect.rect(rt,Tt)},it},circle=(nt,rt)=>{const{shapeSvg:it,bbox:st,halfPadding:bt}=labelHelper(nt,rt,void 0,!0),wt=it.insert("circle",":first-child");return wt.attr("style",rt.style).attr("rx",rt.rx).attr("ry",rt.ry).attr("r",st.width/2+bt).attr("width",st.width+rt.padding).attr("height",st.height+rt.padding),log$1.info("Circle main"),updateNodeBounds(rt,wt),rt.intersect=function(Et){return log$1.info("Circle intersect",rt,st.width/2+bt,Et),intersect.circle(rt,st.width/2+bt,Et)},it},doublecircle=(nt,rt)=>{const{shapeSvg:it,bbox:st,halfPadding:bt}=labelHelper(nt,rt,void 0,!0),wt=5,Et=it.insert("g",":first-child"),Tt=Et.insert("circle"),At=Et.insert("circle");return Tt.attr("style",rt.style).attr("rx",rt.rx).attr("ry",rt.ry).attr("r",st.width/2+bt+wt).attr("width",st.width+rt.padding+wt*2).attr("height",st.height+rt.padding+wt*2),At.attr("style",rt.style).attr("rx",rt.rx).attr("ry",rt.ry).attr("r",st.width/2+bt).attr("width",st.width+rt.padding).attr("height",st.height+rt.padding),log$1.info("DoubleCircle main"),updateNodeBounds(rt,Tt),rt.intersect=function(Dt){return log$1.info("DoubleCircle intersect",rt,st.width/2+bt+wt,Dt),intersect.circle(rt,st.width/2+bt+wt,Dt)},it},subroutine$1=(nt,rt)=>{const{shapeSvg:it,bbox:st}=labelHelper(nt,rt,void 0,!0),bt=st.width+rt.padding,wt=st.height+rt.padding,Et=[{x:0,y:0},{x:bt,y:0},{x:bt,y:-wt},{x:0,y:-wt},{x:0,y:0},{x:-8,y:0},{x:bt+8,y:0},{x:bt+8,y:-wt},{x:-8,y:-wt},{x:-8,y:0}],Tt=insertPolygonShape$1(it,bt,wt,Et);return Tt.attr("style",rt.style),updateNodeBounds(rt,Tt),rt.intersect=function(At){return intersect.polygon(rt,Et,At)},it},start=(nt,rt)=>{const it=nt.insert("g").attr("class","node default").attr("id",rt.domId||rt.id),st=it.insert("circle",":first-child");return st.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),updateNodeBounds(rt,st),rt.intersect=function(bt){return intersect.circle(rt,7,bt)},it},forkJoin=(nt,rt,it)=>{const st=nt.insert("g").attr("class","node default").attr("id",rt.domId||rt.id);let bt=70,wt=10;it==="LR"&&(bt=10,wt=70);const Et=st.append("rect").attr("x",-1*bt/2).attr("y",-1*wt/2).attr("width",bt).attr("height",wt).attr("class","fork-join");return updateNodeBounds(rt,Et),rt.height=rt.height+rt.padding/2,rt.width=rt.width+rt.padding/2,rt.intersect=function(Tt){return intersect.rect(rt,Tt)},st},end=(nt,rt)=>{const it=nt.insert("g").attr("class","node default").attr("id",rt.domId||rt.id),st=it.insert("circle",":first-child"),bt=it.insert("circle",":first-child");return bt.attr("class","state-start").attr("r",7).attr("width",14).attr("height",14),st.attr("class","state-end").attr("r",5).attr("width",10).attr("height",10),updateNodeBounds(rt,bt),rt.intersect=function(wt){return intersect.circle(rt,7,wt)},it},class_box=(nt,rt)=>{const it=rt.padding/2,st=4,bt=8;let wt;rt.classes?wt="node "+rt.classes:wt="node default";const Et=nt.insert("g").attr("class",wt).attr("id",rt.domId||rt.id),Tt=Et.insert("rect",":first-child"),At=Et.insert("line"),Dt=Et.insert("line");let Ot=0,zt=st;const $t=Et.insert("g").attr("class","label");let Bt=0;const Yt=rt.classData.annotations&&rt.classData.annotations[0],Xt=rt.classData.annotations[0]?"\xAB"+rt.classData.annotations[0]+"\xBB":"",Ht=$t.node().appendChild(createLabel$1(Xt,rt.labelStyle,!0,!0));let Qt=Ht.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const wn=Ht.children[0],Mn=select(Ht);Qt=wn.getBoundingClientRect(),Mn.attr("width",Qt.width),Mn.attr("height",Qt.height)}rt.classData.annotations[0]&&(zt+=Qt.height+st,Ot+=Qt.width);let Zt=rt.classData.id;rt.classData.type!==void 0&&rt.classData.type!==""&&(getConfig$1().flowchart.htmlLabels?Zt+="&lt;"+rt.classData.type+"&gt;":Zt+="<"+rt.classData.type+">");const nn=$t.node().appendChild(createLabel$1(Zt,rt.labelStyle,!0,!0));select(nn).attr("class","classTitle");let Kt=nn.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const wn=nn.children[0],Mn=select(nn);Kt=wn.getBoundingClientRect(),Mn.attr("width",Kt.width),Mn.attr("height",Kt.height)}zt+=Kt.height+st,Kt.width>Ot&&(Ot=Kt.width);const ln=[];rt.classData.members.forEach(wn=>{const Mn=parseMember(wn);let Sn=Mn.displayText;getConfig$1().flowchart.htmlLabels&&(Sn=Sn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Dn=$t.node().appendChild(createLabel$1(Sn,Mn.cssStyle?Mn.cssStyle:rt.labelStyle,!0,!0));let gn=Dn.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Un=Dn.children[0],pn=select(Dn);gn=Un.getBoundingClientRect(),pn.attr("width",gn.width),pn.attr("height",gn.height)}gn.width>Ot&&(Ot=gn.width),zt+=gn.height+st,ln.push(Dn)}),zt+=bt;const sn=[];if(rt.classData.methods.forEach(wn=>{const Mn=parseMember(wn);let Sn=Mn.displayText;getConfig$1().flowchart.htmlLabels&&(Sn=Sn.replace(/</g,"&lt;").replace(/>/g,"&gt;"));const Dn=$t.node().appendChild(createLabel$1(Sn,Mn.cssStyle?Mn.cssStyle:rt.labelStyle,!0,!0));let gn=Dn.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Un=Dn.children[0],pn=select(Dn);gn=Un.getBoundingClientRect(),pn.attr("width",gn.width),pn.attr("height",gn.height)}gn.width>Ot&&(Ot=gn.width),zt+=gn.height+st,sn.push(Dn)}),zt+=bt,Yt){let wn=(Ot-Qt.width)/2;select(Ht).attr("transform","translate( "+(-1*Ot/2+wn)+", "+-1*zt/2+")"),Bt=Qt.height+st}let bn=(Ot-Kt.width)/2;return select(nn).attr("transform","translate( "+(-1*Ot/2+bn)+", "+(-1*zt/2+Bt)+")"),Bt+=Kt.height+st,At.attr("class","divider").attr("x1",-Ot/2-it).attr("x2",Ot/2+it).attr("y1",-zt/2-it+bt+Bt).attr("y2",-zt/2-it+bt+Bt),Bt+=bt,ln.forEach(wn=>{select(wn).attr("transform","translate( "+-Ot/2+", "+(-1*zt/2+Bt+bt/2)+")"),Bt+=Kt.height+st}),Bt+=bt,Dt.attr("class","divider").attr("x1",-Ot/2-it).attr("x2",Ot/2+it).attr("y1",-zt/2-it+bt+Bt).attr("y2",-zt/2-it+bt+Bt),Bt+=bt,sn.forEach(wn=>{select(wn).attr("transform","translate( "+-Ot/2+", "+(-1*zt/2+Bt)+")"),Bt+=Kt.height+st}),Tt.attr("class","outer title-state").attr("x",-Ot/2-it).attr("y",-(zt/2)-it).attr("width",Ot+rt.padding).attr("height",zt+rt.padding),updateNodeBounds(rt,Tt),rt.intersect=function(wn){return intersect.rect(rt,wn)},Et},shapes$1={question:question$1,rect:rect$1,labelRect,rectWithTitle,choice,circle,doublecircle,stadium:stadium$1,hexagon:hexagon$1,rect_left_inv_arrow:rect_left_inv_arrow$1,lean_right:lean_right$1,lean_left:lean_left$1,trapezoid:trapezoid$1,inv_trapezoid:inv_trapezoid$1,rect_right_inv_arrow:rect_right_inv_arrow$1,cylinder:cylinder$1,start,end,note:note$1,subroutine:subroutine$1,fork:forkJoin,join:forkJoin,class_box};let nodeElems={};const insertNode=(nt,rt,it)=>{let st,bt;if(rt.link){let wt;getConfig$1().securityLevel==="sandbox"?wt="_top":rt.linkTarget&&(wt=rt.linkTarget||"_blank"),st=nt.insert("svg:a").attr("xlink:href",rt.link).attr("target",wt),bt=shapes$1[rt.shape](st,rt,it)}else bt=shapes$1[rt.shape](nt,rt,it),st=bt;rt.tooltip&&bt.attr("title",rt.tooltip),rt.class&&bt.attr("class","node default "+rt.class),nodeElems[rt.id]=st,rt.haveCallback&&nodeElems[rt.id].attr("class",nodeElems[rt.id].attr("class")+" clickable")},setNodeElem=(nt,rt)=>{nodeElems[rt.id]=nt},clear$a=()=>{nodeElems={}},positionNode=nt=>{const rt=nodeElems[nt.id];log$1.trace("Transforming node",nt.diff,nt,"translate("+(nt.x-nt.width/2-5)+", "+nt.width/2+")");const it=8,st=nt.diff||0;return nt.clusterNode?rt.attr("transform","translate("+(nt.x+st-nt.width/2)+", "+(nt.y-nt.height/2-it)+")"):rt.attr("transform","translate("+nt.x+", "+nt.y+")"),st},rect=(nt,rt)=>{log$1.trace("Creating subgraph rect for ",rt.id,rt);const it=nt.insert("g").attr("class","cluster"+(rt.class?" "+rt.class:"")).attr("id",rt.id),st=it.insert("rect",":first-child"),bt=it.insert("g").attr("class","cluster-label"),wt=bt.node().appendChild(createLabel$1(rt.labelText,rt.labelStyle,void 0,!0));let Et=wt.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const zt=wt.children[0],$t=select(wt);Et=zt.getBoundingClientRect(),$t.attr("width",Et.width),$t.attr("height",Et.height)}const Tt=0*rt.padding,At=Tt/2,Dt=rt.width<=Et.width+Tt?Et.width+Tt:rt.width;rt.width<=Et.width+Tt?rt.diff=(Et.width-rt.width)/2-rt.padding/2:rt.diff=-rt.padding/2,log$1.trace("Data ",rt,JSON.stringify(rt)),st.attr("style",rt.style).attr("rx",rt.rx).attr("ry",rt.ry).attr("x",rt.x-Dt/2).attr("y",rt.y-rt.height/2-At).attr("width",Dt).attr("height",rt.height+Tt),bt.attr("transform","translate("+(rt.x-Et.width/2)+", "+(rt.y-rt.height/2)+")");const Ot=st.node().getBBox();return rt.width=Ot.width,rt.height=Ot.height,rt.intersect=function(zt){return intersectRect$1(rt,zt)},it},noteGroup=(nt,rt)=>{const it=nt.insert("g").attr("class","note-cluster").attr("id",rt.id),st=it.insert("rect",":first-child"),bt=0*rt.padding,wt=bt/2;st.attr("rx",rt.rx).attr("ry",rt.ry).attr("x",rt.x-rt.width/2-wt).attr("y",rt.y-rt.height/2-wt).attr("width",rt.width+bt).attr("height",rt.height+bt).attr("fill","none");const Et=st.node().getBBox();return rt.width=Et.width,rt.height=Et.height,rt.intersect=function(Tt){return intersectRect$1(rt,Tt)},it},roundedWithTitle=(nt,rt)=>{const it=nt.insert("g").attr("class",rt.classes).attr("id",rt.id),st=it.insert("rect",":first-child"),bt=it.insert("g").attr("class","cluster-label"),wt=it.append("rect"),Et=bt.node().appendChild(createLabel$1(rt.labelText,rt.labelStyle,void 0,!0));let Tt=Et.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const $t=Et.children[0],Bt=select(Et);Tt=$t.getBoundingClientRect(),Bt.attr("width",Tt.width),Bt.attr("height",Tt.height)}Tt=Et.getBBox();const At=0*rt.padding,Dt=At/2,Ot=rt.width<=Tt.width+rt.padding?Tt.width+rt.padding:rt.width;rt.width<=Tt.width+rt.padding?rt.diff=(Tt.width+rt.padding*0-rt.width)/2:rt.diff=-rt.padding/2,st.attr("class","outer").attr("x",rt.x-Ot/2-Dt).attr("y",rt.y-rt.height/2-Dt).attr("width",Ot+At).attr("height",rt.height+At),wt.attr("class","inner").attr("x",rt.x-Ot/2-Dt).attr("y",rt.y-rt.height/2-Dt+Tt.height-1).attr("width",Ot+At).attr("height",rt.height+At-Tt.height-3),bt.attr("transform","translate("+(rt.x-Tt.width/2)+", "+(rt.y-rt.height/2-rt.padding/3+(evaluate(getConfig$1().flowchart.htmlLabels)?5:3))+")");const zt=st.node().getBBox();return rt.height=zt.height,rt.intersect=function($t){return intersectRect$1(rt,$t)},it},divider=(nt,rt)=>{const it=nt.insert("g").attr("class",rt.classes).attr("id",rt.id),st=it.insert("rect",":first-child"),bt=0*rt.padding,wt=bt/2;st.attr("class","divider").attr("x",rt.x-rt.width/2-wt).attr("y",rt.y-rt.height/2).attr("width",rt.width+bt).attr("height",rt.height+bt);const Et=st.node().getBBox();return rt.width=Et.width,rt.height=Et.height,rt.diff=-rt.padding/2,rt.intersect=function(Tt){return intersectRect$1(rt,Tt)},it},shapes={rect,roundedWithTitle,noteGroup,divider};let clusterElems={};const insertCluster=(nt,rt)=>{log$1.trace("Inserting cluster");const it=rt.shape||"rect";clusterElems[rt.id]=shapes[it](nt,rt)},clear$9=()=>{clusterElems={}};let edgeLabels={},terminalLabels={};const clear$8=()=>{edgeLabels={},terminalLabels={}},insertEdgeLabel=(nt,rt)=>{const it=createLabel$1(rt.label,rt.labelStyle),st=nt.insert("g").attr("class","edgeLabel"),bt=st.insert("g").attr("class","label");bt.node().appendChild(it);let wt=it.getBBox();if(evaluate(getConfig$1().flowchart.htmlLabels)){const Tt=it.children[0],At=select(it);wt=Tt.getBoundingClientRect(),At.attr("width",wt.width),At.attr("height",wt.height)}bt.attr("transform","translate("+-wt.width/2+", "+-wt.height/2+")"),edgeLabels[rt.id]=st,rt.width=wt.width,rt.height=wt.height;let Et;if(rt.startLabelLeft){const Tt=createLabel$1(rt.startLabelLeft,rt.labelStyle),At=nt.insert("g").attr("class","edgeTerminals"),Dt=At.insert("g").attr("class","inner");Et=Dt.node().appendChild(Tt);const Ot=Tt.getBBox();Dt.attr("transform","translate("+-Ot.width/2+", "+-Ot.height/2+")"),terminalLabels[rt.id]||(terminalLabels[rt.id]={}),terminalLabels[rt.id].startLeft=At,setTerminalWidth(Et,rt.startLabelLeft)}if(rt.startLabelRight){const Tt=createLabel$1(rt.startLabelRight,rt.labelStyle),At=nt.insert("g").attr("class","edgeTerminals"),Dt=At.insert("g").attr("class","inner");Et=At.node().appendChild(Tt),Dt.node().appendChild(Tt);const Ot=Tt.getBBox();Dt.attr("transform","translate("+-Ot.width/2+", "+-Ot.height/2+")"),terminalLabels[rt.id]||(terminalLabels[rt.id]={}),terminalLabels[rt.id].startRight=At,setTerminalWidth(Et,rt.startLabelRight)}if(rt.endLabelLeft){const Tt=createLabel$1(rt.endLabelLeft,rt.labelStyle),At=nt.insert("g").attr("class","edgeTerminals"),Dt=At.insert("g").attr("class","inner");Et=Dt.node().appendChild(Tt);const Ot=Tt.getBBox();Dt.attr("transform","translate("+-Ot.width/2+", "+-Ot.height/2+")"),At.node().appendChild(Tt),terminalLabels[rt.id]||(terminalLabels[rt.id]={}),terminalLabels[rt.id].endLeft=At,setTerminalWidth(Et,rt.endLabelLeft)}if(rt.endLabelRight){const Tt=createLabel$1(rt.endLabelRight,rt.labelStyle),At=nt.insert("g").attr("class","edgeTerminals"),Dt=At.insert("g").attr("class","inner");Et=Dt.node().appendChild(Tt);const Ot=Tt.getBBox();Dt.attr("transform","translate("+-Ot.width/2+", "+-Ot.height/2+")"),At.node().appendChild(Tt),terminalLabels[rt.id]||(terminalLabels[rt.id]={}),terminalLabels[rt.id].endRight=At,setTerminalWidth(Et,rt.endLabelRight)}};function setTerminalWidth(nt,rt){getConfig$1().flowchart.htmlLabels&&nt&&(nt.style.width=rt.length*9+"px",nt.style.height="12px")}const positionEdgeLabel=(nt,rt)=>{log$1.info("Moving label abc78 ",nt.id,nt.label,edgeLabels[nt.id]);let it=rt.updatedPath?rt.updatedPath:rt.originalPath;if(nt.label){const st=edgeLabels[nt.id];let bt=nt.x,wt=nt.y;if(it){const Et=utils.calcLabelPosition(it);log$1.info("Moving label "+nt.label+" from (",bt,",",wt,") to (",Et.x,",",Et.y,") abc78"),rt.updatedPath&&(bt=Et.x,wt=Et.y)}st.attr("transform","translate("+bt+", "+wt+")")}if(nt.startLabelLeft){const st=terminalLabels[nt.id].startLeft;let bt=nt.x,wt=nt.y;if(it){const Et=utils.calcTerminalLabelPosition(nt.arrowTypeStart?10:0,"start_left",it);bt=Et.x,wt=Et.y}st.attr("transform","translate("+bt+", "+wt+")")}if(nt.startLabelRight){const st=terminalLabels[nt.id].startRight;let bt=nt.x,wt=nt.y;if(it){const Et=utils.calcTerminalLabelPosition(nt.arrowTypeStart?10:0,"start_right",it);bt=Et.x,wt=Et.y}st.attr("transform","translate("+bt+", "+wt+")")}if(nt.endLabelLeft){const st=terminalLabels[nt.id].endLeft;let bt=nt.x,wt=nt.y;if(it){const Et=utils.calcTerminalLabelPosition(nt.arrowTypeEnd?10:0,"end_left",it);bt=Et.x,wt=Et.y}st.attr("transform","translate("+bt+", "+wt+")")}if(nt.endLabelRight){const st=terminalLabels[nt.id].endRight;let bt=nt.x,wt=nt.y;if(it){const Et=utils.calcTerminalLabelPosition(nt.arrowTypeEnd?10:0,"end_right",it);bt=Et.x,wt=Et.y}st.attr("transform","translate("+bt+", "+wt+")")}},outsideNode=(nt,rt)=>{const it=nt.x,st=nt.y,bt=Math.abs(rt.x-it),wt=Math.abs(rt.y-st),Et=nt.width/2,Tt=nt.height/2;return bt>=Et||wt>=Tt},intersection=(nt,rt,it)=>{log$1.warn(`intersection calc abc89:
  outsidePoint: ${JSON.stringify(rt)}
  insidePoint : ${JSON.stringify(it)}
  node        : x:${nt.x} y:${nt.y} w:${nt.width} h:${nt.height}`);const st=nt.x,bt=nt.y,wt=Math.abs(st-it.x),Et=nt.width/2;let Tt=it.x<rt.x?Et-wt:Et+wt;const At=nt.height/2,Dt=Math.abs(rt.y-it.y),Ot=Math.abs(rt.x-it.x);if(Math.abs(bt-rt.y)*Et>Math.abs(st-rt.x)*At){let zt=it.y<rt.y?rt.y-At-bt:bt-At-rt.y;Tt=Ot*zt/Dt;const $t={x:it.x<rt.x?it.x+Tt:it.x-Ot+Tt,y:it.y<rt.y?it.y+Dt-zt:it.y-Dt+zt};return Tt===0&&($t.x=rt.x,$t.y=rt.y),Ot===0&&($t.x=rt.x),Dt===0&&($t.y=rt.y),log$1.warn(`abc89 topp/bott calc, Q ${Dt}, q ${zt}, R ${Ot}, r ${Tt}`,$t),$t}else{it.x<rt.x?Tt=rt.x-Et-st:Tt=st-Et-rt.x;let zt=Dt*Tt/Ot,$t=it.x<rt.x?it.x+Ot-Tt:it.x-Ot+Tt,Bt=it.y<rt.y?it.y+zt:it.y-zt;return log$1.warn(`sides calc abc89, Q ${Dt}, q ${zt}, R ${Ot}, r ${Tt}`,{_x:$t,_y:Bt}),Tt===0&&($t=rt.x,Bt=rt.y),Ot===0&&($t=rt.x),Dt===0&&(Bt=rt.y),{x:$t,y:Bt}}},cutPathAtIntersect=(nt,rt)=>{log$1.warn("abc88 cutPathAtIntersect",nt,rt);let it=[],st=nt[0],bt=!1;return nt.forEach(wt=>{if(log$1.info("abc88 checking point",wt,rt),!outsideNode(rt,wt)&&!bt){const Et=intersection(rt,st,wt);log$1.warn("abc88 inside",wt,st,Et),log$1.warn("abc88 intersection",Et);let Tt=!1;it.forEach(At=>{Tt=Tt||At.x===Et.x&&At.y===Et.y}),it.some(At=>At.x===Et.x&&At.y===Et.y)?log$1.warn("abc88 no intersect",Et,it):it.push(Et),bt=!0}else log$1.warn("abc88 outside",wt,st),st=wt,bt||it.push(wt)}),log$1.warn("abc88 returning points",it),it},insertEdge=function(nt,rt,it,st,bt,wt){let Et=it.points,Tt=!1;const At=wt.node(rt.v);var Dt=wt.node(rt.w);log$1.info("abc88 InsertEdge: ",it),Dt.intersect&&At.intersect&&(Et=Et.slice(1,it.points.length-1),Et.unshift(At.intersect(Et[0])),log$1.info("Last point",Et[Et.length-1],Dt,Dt.intersect(Et[Et.length-1])),Et.push(Dt.intersect(Et[Et.length-1]))),it.toCluster&&(log$1.info("to cluster abc88",st[it.toCluster]),Et=cutPathAtIntersect(it.points,st[it.toCluster].node),Tt=!0),it.fromCluster&&(log$1.info("from cluster abc88",st[it.fromCluster]),Et=cutPathAtIntersect(Et.reverse(),st[it.fromCluster].node).reverse(),Tt=!0);const Ot=Et.filter(Qt=>!Number.isNaN(Qt.y));let zt;bt==="graph"||bt==="flowchart"?zt=it.curve||curveBasis:zt=curveBasis;const $t=line$1().x(function(Qt){return Qt.x}).y(function(Qt){return Qt.y}).curve(zt);let Bt;switch(it.thickness){case"normal":Bt="edge-thickness-normal";break;case"thick":Bt="edge-thickness-thick";break;default:Bt=""}switch(it.pattern){case"solid":Bt+=" edge-pattern-solid";break;case"dotted":Bt+=" edge-pattern-dotted";break;case"dashed":Bt+=" edge-pattern-dashed";break}const Yt=nt.append("path").attr("d",$t(Ot)).attr("id",it.id).attr("class"," "+Bt+(it.classes?" "+it.classes:"")).attr("style",it.style);let Xt="";switch((getConfig$1().flowchart.arrowMarkerAbsolute||getConfig$1().state.arrowMarkerAbsolute)&&(Xt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Xt=Xt.replace(/\(/g,"\\("),Xt=Xt.replace(/\)/g,"\\)")),log$1.info("arrowTypeStart",it.arrowTypeStart),log$1.info("arrowTypeEnd",it.arrowTypeEnd),it.arrowTypeStart){case"arrow_cross":Yt.attr("marker-start","url("+Xt+"#"+bt+"-crossStart)");break;case"arrow_point":Yt.attr("marker-start","url("+Xt+"#"+bt+"-pointStart)");break;case"arrow_barb":Yt.attr("marker-start","url("+Xt+"#"+bt+"-barbStart)");break;case"arrow_circle":Yt.attr("marker-start","url("+Xt+"#"+bt+"-circleStart)");break;case"aggregation":Yt.attr("marker-start","url("+Xt+"#"+bt+"-aggregationStart)");break;case"extension":Yt.attr("marker-start","url("+Xt+"#"+bt+"-extensionStart)");break;case"composition":Yt.attr("marker-start","url("+Xt+"#"+bt+"-compositionStart)");break;case"dependency":Yt.attr("marker-start","url("+Xt+"#"+bt+"-dependencyStart)");break;case"lollipop":Yt.attr("marker-start","url("+Xt+"#"+bt+"-lollipopStart)");break}switch(it.arrowTypeEnd){case"arrow_cross":Yt.attr("marker-end","url("+Xt+"#"+bt+"-crossEnd)");break;case"arrow_point":Yt.attr("marker-end","url("+Xt+"#"+bt+"-pointEnd)");break;case"arrow_barb":Yt.attr("marker-end","url("+Xt+"#"+bt+"-barbEnd)");break;case"arrow_circle":Yt.attr("marker-end","url("+Xt+"#"+bt+"-circleEnd)");break;case"aggregation":Yt.attr("marker-end","url("+Xt+"#"+bt+"-aggregationEnd)");break;case"extension":Yt.attr("marker-end","url("+Xt+"#"+bt+"-extensionEnd)");break;case"composition":Yt.attr("marker-end","url("+Xt+"#"+bt+"-compositionEnd)");break;case"dependency":Yt.attr("marker-end","url("+Xt+"#"+bt+"-dependencyEnd)");break;case"lollipop":Yt.attr("marker-end","url("+Xt+"#"+bt+"-lollipopEnd)");break}let Ht={};return Tt&&(Ht.updatedPath=Et),Ht.originalPath=it.points,Ht},recursiveRender=(nt,rt,it,st)=>{log$1.info("Graph in recursive render: XXX",write(rt),st);const bt=rt.graph().rankdir;log$1.trace("Dir in recursive render - dir:",bt);const wt=nt.insert("g").attr("class","root");rt.nodes()?log$1.info("Recursive render XXX",rt.nodes()):log$1.info("No nodes found for",rt),rt.edges().length>0&&log$1.trace("Recursive edges",rt.edge(rt.edges()[0]));const Et=wt.insert("g").attr("class","clusters"),Tt=wt.insert("g").attr("class","edgePaths"),At=wt.insert("g").attr("class","edgeLabels"),Dt=wt.insert("g").attr("class","nodes");rt.nodes().forEach(function(zt){const $t=rt.node(zt);if(st!==void 0){const Bt=JSON.parse(JSON.stringify(st.clusterData));log$1.info("Setting data for cluster XXX (",zt,") ",Bt,st),rt.setNode(st.id,Bt),rt.parent(zt)||(log$1.trace("Setting parent",zt,st.id),rt.setParent(zt,st.id,Bt))}if(log$1.info("(Insert) Node XXX"+zt+": "+JSON.stringify(rt.node(zt))),$t&&$t.clusterNode){log$1.info("Cluster identified",zt,$t.width,rt.node(zt));const Bt=recursiveRender(Dt,$t.graph,it,rt.node(zt)),Yt=Bt.elem;updateNodeBounds($t,Yt),$t.diff=Bt.diff||0,log$1.info("Node bounds (abc123)",zt,$t,$t.width,$t.x,$t.y),setNodeElem(Yt,$t),log$1.warn("Recursive render complete ",Yt,$t)}else rt.children(zt).length>0?(log$1.info("Cluster - the non recursive path XXX",zt,$t.id,$t,rt),log$1.info(findNonClusterChild($t.id,rt)),clusterDb[$t.id]={id:findNonClusterChild($t.id,rt),node:$t}):(log$1.info("Node - the non recursive path",zt,$t.id,$t),insertNode(Dt,rt.node(zt),bt))}),rt.edges().forEach(function(zt){const $t=rt.edge(zt.v,zt.w,zt.name);log$1.info("Edge "+zt.v+" -> "+zt.w+": "+JSON.stringify(zt)),log$1.info("Edge "+zt.v+" -> "+zt.w+": ",zt," ",JSON.stringify(rt.edge(zt))),log$1.info("Fix",clusterDb,"ids:",zt.v,zt.w,"Translateing: ",clusterDb[zt.v],clusterDb[zt.w]),insertEdgeLabel(At,$t)}),rt.edges().forEach(function(zt){log$1.info("Edge "+zt.v+" -> "+zt.w+": "+JSON.stringify(zt))}),log$1.info("#############################################"),log$1.info("###                Layout                 ###"),log$1.info("#############################################"),log$1.info(rt),layout(rt),log$1.info("Graph after layout:",write(rt));let Ot=0;return sortNodesByHierarchy(rt).forEach(function(zt){const $t=rt.node(zt);log$1.info("Position "+zt+": "+JSON.stringify(rt.node(zt))),log$1.info("Position "+zt+": ("+$t.x,","+$t.y,") width: ",$t.width," height: ",$t.height),$t&&$t.clusterNode?positionNode($t):rt.children(zt).length>0?(insertCluster(Et,$t),clusterDb[$t.id].node=$t):positionNode($t)}),rt.edges().forEach(function(zt){const $t=rt.edge(zt);log$1.info("Edge "+zt.v+" -> "+zt.w+": "+JSON.stringify($t),$t);const Bt=insertEdge(Tt,zt,$t,clusterDb,it,rt);positionEdgeLabel($t,Bt)}),rt.nodes().forEach(function(zt){const $t=rt.node(zt);log$1.info(zt,$t.type,$t.diff),$t.type==="group"&&(Ot=$t.diff)}),{elem:wt,diff:Ot}},render$1=(nt,rt,it,st,bt)=>{insertMarkers$3(nt,it,st,bt),clear$a(),clear$8(),clear$9(),clear$b(),log$1.warn("Graph at first:",write(rt)),adjustClustersAndEdges(rt),log$1.warn("Graph after:",write(rt)),recursiveRender(nt,rt,st)},sanitizeText$1=nt=>common$1.sanitizeText(nt,getConfig$1());let conf$9={dividerMargin:10,padding:5,textHeight:10};const addClasses=function(nt,rt,it,st){const bt=Object.keys(nt);log$1.info("keys:",bt),log$1.info(nt),bt.forEach(function(wt){const Et=nt[wt];let Tt="";Et.cssClasses.length>0&&(Tt=Tt+" "+Et.cssClasses.join(" "));const At={labelStyle:""};let Dt=Et.text!==void 0?Et.text:Et.id,Ot=0,zt="";switch(Et.type){case"class":zt="class_box";break;default:zt="class_box"}rt.setNode(Et.id,{labelStyle:At.labelStyle,shape:zt,labelText:sanitizeText$1(Dt),classData:Et,rx:Ot,ry:Ot,class:Tt,style:At.style,id:Et.id,domId:Et.domId,tooltip:st.db.getTooltip(Et.id)||"",haveCallback:Et.haveCallback,link:Et.link,width:Et.type==="group"?500:void 0,type:Et.type,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:At.labelStyle,shape:zt,labelText:Dt,rx:Ot,ry:Ot,class:Tt,style:At.style,id:Et.id,width:Et.type==="group"?500:void 0,type:Et.type,padding:getConfig$1().flowchart.padding})})},addNotes=function(nt,rt,it,st){log$1.info(nt),nt.forEach(function(bt,wt){const Et=bt;let Tt="";const At={labelStyle:"",style:""};let Dt=Et.text,Ot=0,zt="note";if(rt.setNode(Et.id,{labelStyle:At.labelStyle,shape:zt,labelText:sanitizeText$1(Dt),noteData:Et,rx:Ot,ry:Ot,class:Tt,style:At.style,id:Et.id,domId:Et.id,tooltip:"",type:"note",padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:At.labelStyle,shape:zt,labelText:Dt,rx:Ot,ry:Ot,style:At.style,id:Et.id,type:"note",padding:getConfig$1().flowchart.padding}),!Et.class||!(Et.class in st))return;const $t=it+wt,Bt={};Bt.classes="relation",Bt.pattern="dotted",Bt.id=`edgeNote${$t}`,Bt.arrowhead="none",log$1.info(`Note edge: ${JSON.stringify(Bt)}, ${JSON.stringify(Et)}`),Bt.startLabelRight="",Bt.endLabelLeft="",Bt.arrowTypeStart="none",Bt.arrowTypeEnd="none";let Yt="fill:none",Xt="";Bt.style=Yt,Bt.labelStyle=Xt,Bt.curve=interpolateToCurve(conf$9.curve,curveLinear),rt.setEdge(Et.id,Et.class,Bt,$t)})},addRelations=function(nt,rt){const it=getConfig$1().flowchart;let st=0;nt.forEach(function(bt){st++;const wt={};wt.classes="relation",wt.pattern=bt.relation.lineType==1?"dashed":"solid",wt.id="id"+st,bt.type==="arrow_open"?wt.arrowhead="none":wt.arrowhead="normal",log$1.info(wt,bt),wt.startLabelRight=bt.relationTitle1==="none"?"":bt.relationTitle1,wt.endLabelLeft=bt.relationTitle2==="none"?"":bt.relationTitle2,wt.arrowTypeStart=getArrowMarker(bt.relation.type1),wt.arrowTypeEnd=getArrowMarker(bt.relation.type2);let Et="",Tt="";if(bt.style!==void 0){const At=getStylesFromArray(bt.style);Et=At.style,Tt=At.labelStyle}else Et="fill:none";wt.style=Et,wt.labelStyle=Tt,bt.interpolate!==void 0?wt.curve=interpolateToCurve(bt.interpolate,curveLinear):nt.defaultInterpolate!==void 0?wt.curve=interpolateToCurve(nt.defaultInterpolate,curveLinear):wt.curve=interpolateToCurve(it.curve,curveLinear),bt.text=bt.title,bt.text===void 0?bt.style!==void 0&&(wt.arrowheadStyle="fill: #333"):(wt.arrowheadStyle="fill: #333",wt.labelpos="c",getConfig$1().flowchart.htmlLabels?(wt.labelType="html",wt.label='<span class="edgeLabel">'+bt.text+"</span>"):(wt.labelType="text",wt.label=bt.text.replace(common$1.lineBreakRegex,`
`),bt.style===void 0&&(wt.style=wt.style||"stroke: #333; stroke-width: 1.5px;fill:none"),wt.labelStyle=wt.labelStyle.replace("color:","fill:"))),rt.setEdge(bt.id1,bt.id2,wt,st)})},setConf$9=function(nt){Object.keys(nt).forEach(function(it){conf$9[it]=nt[it]})},draw$c=function(nt,rt,it,st){log$1.info("Drawing class - ",rt);const bt=getConfig$1().flowchart,wt=getConfig$1().securityLevel;log$1.info("config:",bt);const Et=bt.nodeSpacing||50,Tt=bt.rankSpacing||50,At=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:st.db.getDirection(),nodesep:Et,ranksep:Tt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}}),Dt=st.db.getClasses(),Ot=st.db.getRelations(),zt=st.db.getNotes();log$1.info(Ot),addClasses(Dt,At,rt,st),addRelations(Ot,At),addNotes(zt,At,Ot.length+1,Dt);let $t;wt==="sandbox"&&($t=select("#i"+rt));const Bt=select(wt==="sandbox"?$t.nodes()[0].contentDocument.body:"body"),Yt=Bt.select(`[id="${rt}"]`),Xt=Bt.select("#"+rt+" g");if(render$1(Xt,At,["aggregation","extension","composition","dependency","lollipop"],"classDiagram",rt),utils.insertTitle(Yt,"classTitleText",bt.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox$1(At,Yt,bt.diagramPadding,bt.useMaxWidth),!bt.htmlLabels){const Ht=wt==="sandbox"?$t.nodes()[0].contentDocument:document,Qt=Ht.querySelectorAll('[id="'+rt+'"] .edgeLabel .label');for(const Zt of Qt){const nn=Zt.getBBox(),Kt=Ht.createElementNS("http://www.w3.org/2000/svg","rect");Kt.setAttribute("rx",0),Kt.setAttribute("ry",0),Kt.setAttribute("width",nn.width),Kt.setAttribute("height",nn.height),Zt.insertBefore(Kt,Zt.firstChild)}}};function getArrowMarker(nt){let rt;switch(nt){case 0:rt="aggregation";break;case 1:rt="extension";break;case 2:rt="composition";break;case 3:rt="dependency";break;case 4:rt="lollipop";break;default:rt="none"}return rt}const classRendererV2={setConf:setConf$9,draw:draw$c};var parser$8=function(){var nt=function(Mn,Sn,Dn,gn){for(Dn=Dn||{},gn=Mn.length;gn--;Dn[Mn[gn]]=Sn);return Dn},rt=[1,2],it=[1,5],st=[6,9,11,23,25,27,29,30,31,49],bt=[1,17],wt=[1,18],Et=[1,19],Tt=[1,20],At=[1,21],Dt=[1,22],Ot=[1,25],zt=[1,30],$t=[1,31],Bt=[1,32],Yt=[1,33],Xt=[6,9,11,15,20,23,25,27,29,30,31,42,43,44,45,49],Ht=[1,45],Qt=[30,31,46,47],Zt=[4,6,9,11,23,25,27,29,30,31,49],nn=[42,43,44,45],Kt=[22,37],ln=[1,64],sn={trace:function(){},yy:{},symbols_:{error:2,start:3,ER_DIAGRAM:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,entityName:17,relSpec:18,role:19,BLOCK_START:20,attributes:21,BLOCK_STOP:22,title:23,title_value:24,acc_title:25,acc_title_value:26,acc_descr:27,acc_descr_value:28,acc_descr_multiline_value:29,ALPHANUM:30,ENTITY_NAME:31,attribute:32,attributeType:33,attributeName:34,attributeKeyType:35,attributeComment:36,ATTRIBUTE_WORD:37,ATTRIBUTE_KEY:38,COMMENT:39,cardinality:40,relType:41,ZERO_OR_ONE:42,ZERO_OR_MORE:43,ONE_OR_MORE:44,ONLY_ONE:45,NON_IDENTIFYING:46,IDENTIFYING:47,WORD:48,open_directive:49,type_directive:50,arg_directive:51,close_directive:52,$accept:0,$end:1},terminals_:{2:"error",4:"ER_DIAGRAM",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",20:"BLOCK_START",22:"BLOCK_STOP",23:"title",24:"title_value",25:"acc_title",26:"acc_title_value",27:"acc_descr",28:"acc_descr_value",29:"acc_descr_multiline_value",30:"ALPHANUM",31:"ENTITY_NAME",37:"ATTRIBUTE_WORD",38:"ATTRIBUTE_KEY",39:"COMMENT",42:"ZERO_OR_ONE",43:"ZERO_OR_MORE",44:"ONE_OR_MORE",45:"ONLY_ONE",46:"NON_IDENTIFYING",47:"IDENTIFYING",48:"WORD",49:"open_directive",50:"type_directive",51:"arg_directive",52:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,5],[10,4],[10,3],[10,1],[10,2],[10,2],[10,2],[10,1],[17,1],[17,1],[21,1],[21,2],[32,2],[32,3],[32,3],[32,4],[33,1],[34,1],[35,1],[36,1],[18,3],[40,1],[40,1],[40,1],[40,1],[41,1],[41,1],[19,1],[19,1],[19,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(Sn,Dn,gn,Un,pn,yr,xn){var Mr=yr.length-1;switch(pn){case 1:break;case 3:this.$=[];break;case 4:yr[Mr-1].push(yr[Mr]),this.$=yr[Mr-1];break;case 5:case 6:this.$=yr[Mr];break;case 7:case 8:this.$=[];break;case 12:Un.addEntity(yr[Mr-4]),Un.addEntity(yr[Mr-2]),Un.addRelationship(yr[Mr-4],yr[Mr],yr[Mr-2],yr[Mr-3]);break;case 13:Un.addEntity(yr[Mr-3]),Un.addAttributes(yr[Mr-3],yr[Mr-1]);break;case 14:Un.addEntity(yr[Mr-2]);break;case 15:Un.addEntity(yr[Mr]);break;case 16:case 17:this.$=yr[Mr].trim(),Un.setAccTitle(this.$);break;case 18:case 19:this.$=yr[Mr].trim(),Un.setAccDescription(this.$);break;case 20:case 41:this.$=yr[Mr];break;case 21:case 39:case 40:this.$=yr[Mr].replace(/"/g,"");break;case 22:this.$=[yr[Mr]];break;case 23:yr[Mr].push(yr[Mr-1]),this.$=yr[Mr];break;case 24:this.$={attributeType:yr[Mr-1],attributeName:yr[Mr]};break;case 25:this.$={attributeType:yr[Mr-2],attributeName:yr[Mr-1],attributeKeyType:yr[Mr]};break;case 26:this.$={attributeType:yr[Mr-2],attributeName:yr[Mr-1],attributeComment:yr[Mr]};break;case 27:this.$={attributeType:yr[Mr-3],attributeName:yr[Mr-2],attributeKeyType:yr[Mr-1],attributeComment:yr[Mr]};break;case 28:case 29:case 30:this.$=yr[Mr];break;case 31:this.$=yr[Mr].replace(/"/g,"");break;case 32:this.$={cardA:yr[Mr],relType:yr[Mr-1],cardB:yr[Mr-2]};break;case 33:this.$=Un.Cardinality.ZERO_OR_ONE;break;case 34:this.$=Un.Cardinality.ZERO_OR_MORE;break;case 35:this.$=Un.Cardinality.ONE_OR_MORE;break;case 36:this.$=Un.Cardinality.ONLY_ONE;break;case 37:this.$=Un.Identification.NON_IDENTIFYING;break;case 38:this.$=Un.Identification.IDENTIFYING;break;case 42:Un.parseDirective("%%{","open_directive");break;case 43:Un.parseDirective(yr[Mr],"type_directive");break;case 44:yr[Mr]=yr[Mr].trim().replace(/'/g,'"'),Un.parseDirective(yr[Mr],"arg_directive");break;case 45:Un.parseDirective("}%%","close_directive","er");break}},table:[{3:1,4:rt,7:3,12:4,49:it},{1:[3]},nt(st,[2,3],{5:6}),{3:7,4:rt,7:3,12:4,49:it},{13:8,50:[1,9]},{50:[2,42]},{6:[1,10],7:15,8:11,9:[1,12],10:13,11:[1,14],12:4,17:16,23:bt,25:wt,27:Et,29:Tt,30:At,31:Dt,49:it},{1:[2,2]},{14:23,15:[1,24],52:Ot},nt([15,52],[2,43]),nt(st,[2,8],{1:[2,1]}),nt(st,[2,4]),{7:15,10:26,12:4,17:16,23:bt,25:wt,27:Et,29:Tt,30:At,31:Dt,49:it},nt(st,[2,6]),nt(st,[2,7]),nt(st,[2,11]),nt(st,[2,15],{18:27,40:29,20:[1,28],42:zt,43:$t,44:Bt,45:Yt}),{24:[1,34]},{26:[1,35]},{28:[1,36]},nt(st,[2,19]),nt(Xt,[2,20]),nt(Xt,[2,21]),{11:[1,37]},{16:38,51:[1,39]},{11:[2,45]},nt(st,[2,5]),{17:40,30:At,31:Dt},{21:41,22:[1,42],32:43,33:44,37:Ht},{41:46,46:[1,47],47:[1,48]},nt(Qt,[2,33]),nt(Qt,[2,34]),nt(Qt,[2,35]),nt(Qt,[2,36]),nt(st,[2,16]),nt(st,[2,17]),nt(st,[2,18]),nt(Zt,[2,9]),{14:49,52:Ot},{52:[2,44]},{15:[1,50]},{22:[1,51]},nt(st,[2,14]),{21:52,22:[2,22],32:43,33:44,37:Ht},{34:53,37:[1,54]},{37:[2,28]},{40:55,42:zt,43:$t,44:Bt,45:Yt},nt(nn,[2,37]),nt(nn,[2,38]),{11:[1,56]},{19:57,30:[1,60],31:[1,59],48:[1,58]},nt(st,[2,13]),{22:[2,23]},nt(Kt,[2,24],{35:61,36:62,38:[1,63],39:ln}),nt([22,37,38,39],[2,29]),nt([30,31],[2,32]),nt(Zt,[2,10]),nt(st,[2,12]),nt(st,[2,39]),nt(st,[2,40]),nt(st,[2,41]),nt(Kt,[2,25],{36:65,39:ln}),nt(Kt,[2,26]),nt([22,37,39],[2,30]),nt(Kt,[2,31]),nt(Kt,[2,27])],defaultActions:{5:[2,42],7:[2,2],25:[2,45],39:[2,44],45:[2,28],52:[2,23]},parseError:function(Sn,Dn){if(Dn.recoverable)this.trace(Sn);else{var gn=new Error(Sn);throw gn.hash=Dn,gn}},parse:function(Sn){var Dn=this,gn=[0],Un=[],pn=[null],yr=[],xn=this.table,Mr="",fr=0,cr=0,Gn=2,lr=1,ur=yr.slice.call(arguments,1),vr=Object.create(this.lexer),Ir={yy:{}};for(var Pr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Pr)&&(Ir.yy[Pr]=this.yy[Pr]);vr.setInput(Sn,Ir.yy),Ir.yy.lexer=vr,Ir.yy.parser=this,typeof vr.yylloc>"u"&&(vr.yylloc={});var _r=vr.yylloc;yr.push(_r);var tr=vr.options&&vr.options.ranges;typeof Ir.yy.parseError=="function"?this.parseError=Ir.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function qn(){var Rn;return Rn=Un.pop()||vr.lex()||lr,typeof Rn!="number"&&(Rn instanceof Array&&(Un=Rn,Rn=Un.pop()),Rn=Dn.symbols_[Rn]||Rn),Rn}for(var mr,br,hr,An,rn={},vn,hn,zn,On;;){if(br=gn[gn.length-1],this.defaultActions[br]?hr=this.defaultActions[br]:((mr===null||typeof mr>"u")&&(mr=qn()),hr=xn[br]&&xn[br][mr]),typeof hr>"u"||!hr.length||!hr[0]){var Er="";On=[];for(vn in xn[br])this.terminals_[vn]&&vn>Gn&&On.push("'"+this.terminals_[vn]+"'");vr.showPosition?Er="Parse error on line "+(fr+1)+`:
`+vr.showPosition()+`
Expecting `+On.join(", ")+", got '"+(this.terminals_[mr]||mr)+"'":Er="Parse error on line "+(fr+1)+": Unexpected "+(mr==lr?"end of input":"'"+(this.terminals_[mr]||mr)+"'"),this.parseError(Er,{text:vr.match,token:this.terminals_[mr]||mr,line:vr.yylineno,loc:_r,expected:On})}if(hr[0]instanceof Array&&hr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+br+", token: "+mr);switch(hr[0]){case 1:gn.push(mr),pn.push(vr.yytext),yr.push(vr.yylloc),gn.push(hr[1]),mr=null,cr=vr.yyleng,Mr=vr.yytext,fr=vr.yylineno,_r=vr.yylloc;break;case 2:if(hn=this.productions_[hr[1]][1],rn.$=pn[pn.length-hn],rn._$={first_line:yr[yr.length-(hn||1)].first_line,last_line:yr[yr.length-1].last_line,first_column:yr[yr.length-(hn||1)].first_column,last_column:yr[yr.length-1].last_column},tr&&(rn._$.range=[yr[yr.length-(hn||1)].range[0],yr[yr.length-1].range[1]]),An=this.performAction.apply(rn,[Mr,cr,fr,Ir.yy,hr[1],pn,yr].concat(ur)),typeof An<"u")return An;hn&&(gn=gn.slice(0,-1*hn*2),pn=pn.slice(0,-1*hn),yr=yr.slice(0,-1*hn)),gn.push(this.productions_[hr[1]][0]),pn.push(rn.$),yr.push(rn._$),zn=xn[gn[gn.length-2]][gn[gn.length-1]],gn.push(zn);break;case 3:return!0}}return!0}},bn=function(){var Mn={EOF:1,parseError:function(Dn,gn){if(this.yy.parser)this.yy.parser.parseError(Dn,gn);else throw new Error(Dn)},setInput:function(Sn,Dn){return this.yy=Dn||this.yy||{},this._input=Sn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Sn=this._input[0];this.yytext+=Sn,this.yyleng++,this.offset++,this.match+=Sn,this.matched+=Sn;var Dn=Sn.match(/(?:\r\n?|\n).*/g);return Dn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Sn},unput:function(Sn){var Dn=Sn.length,gn=Sn.split(/(?:\r\n?|\n)/g);this._input=Sn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Dn),this.offset-=Dn;var Un=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),gn.length-1&&(this.yylineno-=gn.length-1);var pn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:gn?(gn.length===Un.length?this.yylloc.first_column:0)+Un[Un.length-gn.length].length-gn[0].length:this.yylloc.first_column-Dn},this.options.ranges&&(this.yylloc.range=[pn[0],pn[0]+this.yyleng-Dn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Sn){this.unput(this.match.slice(Sn))},pastInput:function(){var Sn=this.matched.substr(0,this.matched.length-this.match.length);return(Sn.length>20?"...":"")+Sn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Sn=this.match;return Sn.length<20&&(Sn+=this._input.substr(0,20-Sn.length)),(Sn.substr(0,20)+(Sn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Sn=this.pastInput(),Dn=new Array(Sn.length+1).join("-");return Sn+this.upcomingInput()+`
`+Dn+"^"},test_match:function(Sn,Dn){var gn,Un,pn;if(this.options.backtrack_lexer&&(pn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(pn.yylloc.range=this.yylloc.range.slice(0))),Un=Sn[0].match(/(?:\r\n?|\n).*/g),Un&&(this.yylineno+=Un.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Un?Un[Un.length-1].length-Un[Un.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Sn[0].length},this.yytext+=Sn[0],this.match+=Sn[0],this.matches=Sn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Sn[0].length),this.matched+=Sn[0],gn=this.performAction.call(this,this.yy,this,Dn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),gn)return gn;if(this._backtrack){for(var yr in pn)this[yr]=pn[yr];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Sn,Dn,gn,Un;this._more||(this.yytext="",this.match="");for(var pn=this._currentRules(),yr=0;yr<pn.length;yr++)if(gn=this._input.match(this.rules[pn[yr]]),gn&&(!Dn||gn[0].length>Dn[0].length)){if(Dn=gn,Un=yr,this.options.backtrack_lexer){if(Sn=this.test_match(gn,pn[yr]),Sn!==!1)return Sn;if(this._backtrack){Dn=!1;continue}else return!1}else if(!this.options.flex)break}return Dn?(Sn=this.test_match(Dn,pn[Un]),Sn!==!1?Sn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Dn=this.next();return Dn||this.lex()},begin:function(Dn){this.conditionStack.push(Dn)},popState:function(){var Dn=this.conditionStack.length-1;return Dn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Dn){return Dn=this.conditionStack.length-1-Math.abs(Dn||0),Dn>=0?this.conditionStack[Dn]:"INITIAL"},pushState:function(Dn){this.begin(Dn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Dn,gn,Un,pn){switch(Un){case 0:return this.begin("acc_title"),25;case 1:return this.popState(),"acc_title_value";case 2:return this.begin("acc_descr"),27;case 3:return this.popState(),"acc_descr_value";case 4:this.begin("acc_descr_multiline");break;case 5:this.popState();break;case 6:return"acc_descr_multiline_value";case 7:return this.begin("open_directive"),49;case 8:return this.begin("type_directive"),50;case 9:return this.popState(),this.begin("arg_directive"),15;case 10:return this.popState(),this.popState(),52;case 11:return 51;case 12:break;case 13:break;case 14:return 11;case 15:break;case 16:return 9;case 17:return 31;case 18:return 48;case 19:return 4;case 20:return this.begin("block"),20;case 21:break;case 22:return 38;case 23:return 37;case 24:return 37;case 25:return 39;case 26:break;case 27:return this.popState(),22;case 28:return gn.yytext[0];case 29:return 42;case 30:return 44;case 31:return 44;case 32:return 44;case 33:return 42;case 34:return 42;case 35:return 43;case 36:return 43;case 37:return 43;case 38:return 43;case 39:return 43;case 40:return 44;case 41:return 43;case 42:return 44;case 43:return 45;case 44:return 45;case 45:return 45;case 46:return 45;case 47:return 42;case 48:return 43;case 49:return 44;case 50:return 46;case 51:return 47;case 52:return 47;case 53:return 46;case 54:return 46;case 55:return 46;case 56:return 30;case 57:return gn.yytext[0];case 58:return 6}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:[\s]+)/i,/^(?:"[^"%\r\n\v\b\\]+")/i,/^(?:"[^"]*")/i,/^(?:erDiagram\b)/i,/^(?:\{)/i,/^(?:\s+)/i,/^(?:\b((?:PK)|(?:FK))\b)/i,/^(?:(.*?)[~](.*?)*[~])/i,/^(?:[A-Za-z][A-Za-z0-9\-_\[\]]*)/i,/^(?:"[^"]*")/i,/^(?:[\n]+)/i,/^(?:\})/i,/^(?:.)/i,/^(?:one or zero\b)/i,/^(?:one or more\b)/i,/^(?:one or many\b)/i,/^(?:1\+)/i,/^(?:\|o\b)/i,/^(?:zero or one\b)/i,/^(?:zero or more\b)/i,/^(?:zero or many\b)/i,/^(?:0\+)/i,/^(?:\}o\b)/i,/^(?:many\(0\))/i,/^(?:many\(1\))/i,/^(?:many\b)/i,/^(?:\}\|)/i,/^(?:one\b)/i,/^(?:only one\b)/i,/^(?:1\b)/i,/^(?:\|\|)/i,/^(?:o\|)/i,/^(?:o\{)/i,/^(?:\|\{)/i,/^(?:\.\.)/i,/^(?:--)/i,/^(?:to\b)/i,/^(?:optionally to\b)/i,/^(?:\.-)/i,/^(?:-\.)/i,/^(?:[A-Za-z][A-Za-z0-9\-_]*)/i,/^(?:.)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},open_directive:{rules:[8],inclusive:!1},type_directive:{rules:[9,10],inclusive:!1},arg_directive:{rules:[10,11],inclusive:!1},block:{rules:[21,22,23,24,25,26,27,28],inclusive:!1},INITIAL:{rules:[0,2,4,7,12,13,14,15,16,17,18,19,20,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58],inclusive:!0}}};return Mn}();sn.lexer=bn;function wn(){this.yy={}}return wn.prototype=sn,sn.Parser=wn,new wn}();parser$8.parser=parser$8;const erParser=parser$8,erDetector=nt=>nt.match(/^\s*erDiagram/)!==null;let entities={},relationships=[];const Cardinality={ZERO_OR_ONE:"ZERO_OR_ONE",ZERO_OR_MORE:"ZERO_OR_MORE",ONE_OR_MORE:"ONE_OR_MORE",ONLY_ONE:"ONLY_ONE"},Identification={NON_IDENTIFYING:"NON_IDENTIFYING",IDENTIFYING:"IDENTIFYING"},parseDirective$8=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},addEntity=function(nt){return entities[nt]===void 0&&(entities[nt]={attributes:[]},log$1.info("Added new entity :",nt)),entities[nt]},getEntities=()=>entities,addAttributes=function(nt,rt){let it=addEntity(nt),st;for(st=rt.length-1;st>=0;st--)it.attributes.push(rt[st]),log$1.debug("Added attribute ",rt[st].attributeName)},addRelationship$1=function(nt,rt,it,st){let bt={entityA:nt,roleA:rt,entityB:it,relSpec:st};relationships.push(bt),log$1.debug("Added new relationship :",bt)},getRelationships$1=()=>relationships,clear$7=function(){entities={},relationships=[],clear$g()},erDb={Cardinality,Identification,parseDirective:parseDirective$8,getConfig:()=>getConfig$1().er,addEntity,addAttributes,getEntities,addRelationship:addRelationship$1,getRelationships:getRelationships$1,clear:clear$7,setAccTitle,getAccTitle,setAccDescription,getAccDescription,setDiagramTitle,getDiagramTitle},ERMarkers={ONLY_ONE_START:"ONLY_ONE_START",ONLY_ONE_END:"ONLY_ONE_END",ZERO_OR_ONE_START:"ZERO_OR_ONE_START",ZERO_OR_ONE_END:"ZERO_OR_ONE_END",ONE_OR_MORE_START:"ONE_OR_MORE_START",ONE_OR_MORE_END:"ONE_OR_MORE_END",ZERO_OR_MORE_START:"ZERO_OR_MORE_START",ZERO_OR_MORE_END:"ZERO_OR_MORE_END"},insertMarkers$1=function(nt,rt){let it;nt.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M9,0 L9,18 M15,0 L15,18"),nt.append("defs").append("marker").attr("id",ERMarkers.ONLY_ONE_END).attr("refX",18).attr("refY",9).attr("markerWidth",18).attr("markerHeight",18).attr("orient","auto").append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M3,0 L3,18 M9,0 L9,18"),it=nt.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_START).attr("refX",0).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),it.append("circle").attr("stroke",rt.stroke).attr("fill","white").attr("cx",21).attr("cy",9).attr("r",6),it.append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M9,0 L9,18"),it=nt.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_ONE_END).attr("refX",30).attr("refY",9).attr("markerWidth",30).attr("markerHeight",18).attr("orient","auto"),it.append("circle").attr("stroke",rt.stroke).attr("fill","white").attr("cx",9).attr("cy",9).attr("r",6),it.append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M21,0 L21,18"),nt.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M0,18 Q 18,0 36,18 Q 18,36 0,18 M42,9 L42,27"),nt.append("defs").append("marker").attr("id",ERMarkers.ONE_OR_MORE_END).attr("refX",27).attr("refY",18).attr("markerWidth",45).attr("markerHeight",36).attr("orient","auto").append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M3,9 L3,27 M9,18 Q27,0 45,18 Q27,36 9,18"),it=nt.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_START).attr("refX",18).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),it.append("circle").attr("stroke",rt.stroke).attr("fill","white").attr("cx",48).attr("cy",18).attr("r",6),it.append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M0,18 Q18,0 36,18 Q18,36 0,18"),it=nt.append("defs").append("marker").attr("id",ERMarkers.ZERO_OR_MORE_END).attr("refX",39).attr("refY",18).attr("markerWidth",57).attr("markerHeight",36).attr("orient","auto"),it.append("circle").attr("stroke",rt.stroke).attr("fill","white").attr("cx",9).attr("cy",18).attr("r",6),it.append("path").attr("stroke",rt.stroke).attr("fill","none").attr("d","M21,18 Q39,0 57,18 Q39,36 21,18")},erMarkers={ERMarkers,insertMarkers:insertMarkers$1},BAD_ID_CHARS_REGEXP=/[^\dA-Za-z](\W)*/g;let conf$8={},entityNameIds=new Map;const setConf$8=function(nt){const rt=Object.keys(nt);for(const it of rt)conf$8[it]=nt[it]},drawAttributes=(nt,rt,it)=>{const st=conf$8.entityPadding/3,bt=conf$8.entityPadding/3,wt=conf$8.fontSize*.85,Et=rt.node().getBBox(),Tt=[];let At=!1,Dt=!1,Ot=0,zt=0,$t=0,Bt=0,Yt=Et.height+st*2,Xt=1;it.forEach(nn=>{nn.attributeKeyType!==void 0&&(At=!0),nn.attributeComment!==void 0&&(Dt=!0)}),it.forEach(nn=>{const Kt=`${rt.node().id}-attr-${Xt}`;let ln=0;const sn=parseGenericTypes(nn.attributeType),bn=nt.append("text").classed("er entityLabel",!0).attr("id",`${Kt}-type`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",wt+"px").text(sn),wn=nt.append("text").classed("er entityLabel",!0).attr("id",`${Kt}-name`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",wt+"px").text(nn.attributeName),Mn={};Mn.tn=bn,Mn.nn=wn;const Sn=bn.node().getBBox(),Dn=wn.node().getBBox();if(Ot=Math.max(Ot,Sn.width),zt=Math.max(zt,Dn.width),ln=Math.max(Sn.height,Dn.height),At){const gn=nt.append("text").classed("er entityLabel",!0).attr("id",`${Kt}-key`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",wt+"px").text(nn.attributeKeyType||"");Mn.kn=gn;const Un=gn.node().getBBox();$t=Math.max($t,Un.width),ln=Math.max(ln,Un.height)}if(Dt){const gn=nt.append("text").classed("er entityLabel",!0).attr("id",`${Kt}-comment`).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","left").style("font-family",getConfig$1().fontFamily).style("font-size",wt+"px").text(nn.attributeComment||"");Mn.cn=gn;const Un=gn.node().getBBox();Bt=Math.max(Bt,Un.width),ln=Math.max(ln,Un.height)}Mn.height=ln,Tt.push(Mn),Yt+=ln+st*2,Xt+=1});let Ht=4;At&&(Ht+=2),Dt&&(Ht+=2);const Qt=Ot+zt+$t+Bt,Zt={width:Math.max(conf$8.minEntityWidth,Math.max(Et.width+conf$8.entityPadding*2,Qt+bt*Ht)),height:it.length>0?Yt:Math.max(conf$8.minEntityHeight,Et.height+conf$8.entityPadding*2)};if(it.length>0){const nn=Math.max(0,(Zt.width-Qt-bt*Ht)/(Ht/2));rt.attr("transform","translate("+Zt.width/2+","+(st+Et.height/2)+")");let Kt=Et.height+st*2,ln="attributeBoxOdd";Tt.forEach(sn=>{const bn=Kt+st+sn.height/2;sn.tn.attr("transform","translate("+bt+","+bn+")");const wn=nt.insert("rect","#"+sn.tn.node().id).classed(`er ${ln}`,!0).attr("x",0).attr("y",Kt).attr("width",Ot+bt*2+nn).attr("height",sn.height+st*2),Mn=parseFloat(wn.attr("x"))+parseFloat(wn.attr("width"));sn.nn.attr("transform","translate("+(Mn+bt)+","+bn+")");const Sn=nt.insert("rect","#"+sn.nn.node().id).classed(`er ${ln}`,!0).attr("x",Mn).attr("y",Kt).attr("width",zt+bt*2+nn).attr("height",sn.height+st*2);let Dn=parseFloat(Sn.attr("x"))+parseFloat(Sn.attr("width"));if(At){sn.kn.attr("transform","translate("+(Dn+bt)+","+bn+")");const gn=nt.insert("rect","#"+sn.kn.node().id).classed(`er ${ln}`,!0).attr("x",Dn).attr("y",Kt).attr("width",$t+bt*2+nn).attr("height",sn.height+st*2);Dn=parseFloat(gn.attr("x"))+parseFloat(gn.attr("width"))}Dt&&(sn.cn.attr("transform","translate("+(Dn+bt)+","+bn+")"),nt.insert("rect","#"+sn.cn.node().id).classed(`er ${ln}`,"true").attr("x",Dn).attr("y",Kt).attr("width",Bt+bt*2+nn).attr("height",sn.height+st*2)),Kt+=sn.height+st*2,ln=ln==="attributeBoxOdd"?"attributeBoxEven":"attributeBoxOdd"})}else Zt.height=Math.max(conf$8.minEntityHeight,Yt),rt.attr("transform","translate("+Zt.width/2+","+Zt.height/2+")");return Zt},drawEntities=function(nt,rt,it){const st=Object.keys(rt);let bt;return st.forEach(function(wt){const Et=generateId(wt,"entity");entityNameIds.set(wt,Et);const Tt=nt.append("g").attr("id",Et);bt=bt===void 0?Et:bt;const At="text-"+Et,Dt=Tt.append("text").classed("er entityLabel",!0).attr("id",At).attr("x",0).attr("y",0).style("dominant-baseline","middle").style("text-anchor","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(wt),{width:Ot,height:zt}=drawAttributes(Tt,Dt,rt[wt].attributes),Bt=Tt.insert("rect","#"+At).classed("er entityBox",!0).attr("x",0).attr("y",0).attr("width",Ot).attr("height",zt).node().getBBox();it.setNode(Et,{width:Bt.width,height:Bt.height,shape:"rect",id:Et})}),bt},adjustEntities$1=function(nt,rt){rt.nodes().forEach(function(it){it!==void 0&&rt.node(it)!==void 0&&nt.select("#"+it).attr("transform","translate("+(rt.node(it).x-rt.node(it).width/2)+","+(rt.node(it).y-rt.node(it).height/2)+" )")})},getEdgeName=function(nt){return(nt.entityA+nt.roleA+nt.entityB).replace(/\s/g,"")},addRelationships$1=function(nt,rt){return nt.forEach(function(it){rt.setEdge(entityNameIds.get(it.entityA),entityNameIds.get(it.entityB),{relationship:it},getEdgeName(it))}),nt};let relCnt$1=0;const drawRelationshipFromLayout$1=function(nt,rt,it,st,bt){relCnt$1++;const wt=it.edge(entityNameIds.get(rt.entityA),entityNameIds.get(rt.entityB),getEdgeName(rt)),Et=line$1().x(function(Yt){return Yt.x}).y(function(Yt){return Yt.y}).curve(curveBasis),Tt=nt.insert("path","#"+st).classed("er relationshipLine",!0).attr("d",Et(wt.points)).style("stroke",conf$8.stroke).style("fill","none");rt.relSpec.relType===bt.db.Identification.NON_IDENTIFYING&&Tt.attr("stroke-dasharray","8,8");let At="";switch(conf$8.arrowMarkerAbsolute&&(At=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,At=At.replace(/\(/g,"\\("),At=At.replace(/\)/g,"\\)")),rt.relSpec.cardA){case bt.db.Cardinality.ZERO_OR_ONE:Tt.attr("marker-end","url("+At+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_END+")");break;case bt.db.Cardinality.ZERO_OR_MORE:Tt.attr("marker-end","url("+At+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_END+")");break;case bt.db.Cardinality.ONE_OR_MORE:Tt.attr("marker-end","url("+At+"#"+erMarkers.ERMarkers.ONE_OR_MORE_END+")");break;case bt.db.Cardinality.ONLY_ONE:Tt.attr("marker-end","url("+At+"#"+erMarkers.ERMarkers.ONLY_ONE_END+")");break}switch(rt.relSpec.cardB){case bt.db.Cardinality.ZERO_OR_ONE:Tt.attr("marker-start","url("+At+"#"+erMarkers.ERMarkers.ZERO_OR_ONE_START+")");break;case bt.db.Cardinality.ZERO_OR_MORE:Tt.attr("marker-start","url("+At+"#"+erMarkers.ERMarkers.ZERO_OR_MORE_START+")");break;case bt.db.Cardinality.ONE_OR_MORE:Tt.attr("marker-start","url("+At+"#"+erMarkers.ERMarkers.ONE_OR_MORE_START+")");break;case bt.db.Cardinality.ONLY_ONE:Tt.attr("marker-start","url("+At+"#"+erMarkers.ERMarkers.ONLY_ONE_START+")");break}const Dt=Tt.node().getTotalLength(),Ot=Tt.node().getPointAtLength(Dt*.5),zt="rel"+relCnt$1,Bt=nt.append("text").classed("er relationshipLabel",!0).attr("id",zt).attr("x",Ot.x).attr("y",Ot.y).style("text-anchor","middle").style("dominant-baseline","middle").style("font-family",getConfig$1().fontFamily).style("font-size",conf$8.fontSize+"px").text(rt.roleA).node().getBBox();nt.insert("rect","#"+zt).classed("er relationshipLabelBox",!0).attr("x",Ot.x-Bt.width/2).attr("y",Ot.y-Bt.height/2).attr("width",Bt.width).attr("height",Bt.height)},draw$b=function(nt,rt,it,st){conf$8=getConfig$1().er,log$1.info("Drawing ER diagram");const bt=getConfig$1().securityLevel;let wt;bt==="sandbox"&&(wt=select("#i"+rt));const Tt=select(bt==="sandbox"?wt.nodes()[0].contentDocument.body:"body").select(`[id='${rt}']`);erMarkers.insertMarkers(Tt,conf$8);let At;At=new Graph({multigraph:!0,directed:!0,compound:!1}).setGraph({rankdir:conf$8.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});const Dt=drawEntities(Tt,st.db.getEntities(),At),Ot=addRelationships$1(st.db.getRelationships(),At);layout(At),adjustEntities$1(Tt,At),Ot.forEach(function(Xt){drawRelationshipFromLayout$1(Tt,Xt,At,Dt,st)});const zt=conf$8.diagramPadding;utils.insertTitle(Tt,"entityTitleText",conf$8.titleTopMargin,st.db.getDiagramTitle());const $t=Tt.node().getBBox(),Bt=$t.width+zt*2,Yt=$t.height+zt*2;configureSvgSize(Tt,Yt,Bt,conf$8.useMaxWidth),Tt.attr("viewBox",`${$t.x-zt} ${$t.y-zt} ${Bt} ${Yt}`)};function generateId(nt="",rt=""){const it=nt.replace(BAD_ID_CHARS_REGEXP,"");return`${strWithHyphen(rt)}${strWithHyphen(it)}${v4()}`}function strWithHyphen(nt=""){return nt.length>0?`${nt}-`:""}const erRenderer={setConf:setConf$8,draw:draw$b};var parser$7=function(){var nt=function(vs,Zi,bo,ho){for(bo=bo||{},ho=vs.length;ho--;bo[vs[ho]]=Zi);return bo},rt=[1,9],it=[1,7],st=[1,6],bt=[1,8],wt=[1,20,21,22,23,38,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Et=[2,10],Tt=[1,20],At=[1,21],Dt=[1,22],Ot=[1,23],zt=[1,30],$t=[1,32],Bt=[1,33],Yt=[1,34],Xt=[1,62],Ht=[1,48],Qt=[1,52],Zt=[1,36],nn=[1,37],Kt=[1,38],ln=[1,39],sn=[1,40],bn=[1,56],wn=[1,63],Mn=[1,51],Sn=[1,53],Dn=[1,55],gn=[1,59],Un=[1,60],pn=[1,41],yr=[1,42],xn=[1,43],Mr=[1,44],fr=[1,61],cr=[1,50],Gn=[1,54],lr=[1,57],ur=[1,58],vr=[1,49],Ir=[1,66],Pr=[1,71],_r=[1,20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],tr=[1,75],qn=[1,74],mr=[1,76],br=[20,21,23,81,82],hr=[1,99],An=[1,104],rn=[1,107],vn=[1,108],hn=[1,101],zn=[1,106],On=[1,109],Er=[1,102],Rn=[1,114],rr=[1,113],Kn=[1,103],gr=[1,105],xr=[1,110],Lr=[1,111],Cr=[1,112],Ar=[1,115],mi=[20,21,22,23,81,82],vi=[20,21,22,23,53,81,82],xi=[20,21,22,23,40,52,53,55,57,59,61,63,65,66,67,69,71,73,74,76,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Ci=[20,21,23],Ei=[20,21,23,52,66,67,81,82,91,95,105,106,109,111,112,122,123,124,125,126,127],Bi=[1,12,20,21,22,23,24,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Ai=[52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],Fr=[1,149],Ln=[1,157],Nn=[1,158],er=[1,159],sr=[1,160],Nr=[1,144],Jr=[1,145],Dr=[1,141],yi=[1,152],Br=[1,153],Si=[1,154],Ni=[1,155],Ri=[1,156],Li=[1,161],eo=[1,162],Ui=[1,147],oo=[1,150],wo=[1,146],uo=[1,143],Cs=[20,21,22,23,38,42,44,46,48,52,66,67,86,87,88,89,90,91,95,105,106,109,111,112,118,119,120,121,122,123,124,125,126,127],Za=[1,165],ji=[20,21,22,23,26,52,66,67,91,105,106,109,111,112,122,123,124,125,126,127],lo=[20,21,22,23,24,26,38,40,41,42,52,56,58,60,62,64,66,67,68,70,72,73,75,77,81,82,86,87,88,89,90,91,92,95,105,106,109,111,112,113,114,122,123,124,125,126,127],Va=[12,21,22,24],Ti=[22,106],ca=[1,250],Sa=[1,245],Ya=[1,246],Hr=[1,254],ii=[1,251],Ur=[1,248],Tr=[1,247],Zr=[1,249],bi=[1,252],Ii=[1,253],zo=[1,255],Eo=[1,273],oa=[20,21,23,106],mo=[20,21,22,23,66,67,86,102,105,106,109,110,111,112,113],$o={trace:function(){},yy:{},symbols_:{error:2,start:3,mermaidDoc:4,directive:5,openDirective:6,typeDirective:7,closeDirective:8,separator:9,":":10,argDirective:11,open_directive:12,type_directive:13,arg_directive:14,close_directive:15,graphConfig:16,document:17,line:18,statement:19,SEMI:20,NEWLINE:21,SPACE:22,EOF:23,GRAPH:24,NODIR:25,DIR:26,FirstStmtSeperator:27,ending:28,endToken:29,spaceList:30,spaceListNewline:31,verticeStatement:32,styleStatement:33,linkStyleStatement:34,classDefStatement:35,classStatement:36,clickStatement:37,subgraph:38,text:39,SQS:40,SQE:41,end:42,direction:43,acc_title:44,acc_title_value:45,acc_descr:46,acc_descr_value:47,acc_descr_multiline_value:48,link:49,node:50,vertex:51,AMP:52,STYLE_SEPARATOR:53,idString:54,DOUBLECIRCLESTART:55,DOUBLECIRCLEEND:56,PS:57,PE:58,"(-":59,"-)":60,STADIUMSTART:61,STADIUMEND:62,SUBROUTINESTART:63,SUBROUTINEEND:64,VERTEX_WITH_PROPS_START:65,ALPHA:66,COLON:67,PIPE:68,CYLINDERSTART:69,CYLINDEREND:70,DIAMOND_START:71,DIAMOND_STOP:72,TAGEND:73,TRAPSTART:74,TRAPEND:75,INVTRAPSTART:76,INVTRAPEND:77,linkStatement:78,arrowText:79,TESTSTR:80,START_LINK:81,LINK:82,textToken:83,STR:84,keywords:85,STYLE:86,LINKSTYLE:87,CLASSDEF:88,CLASS:89,CLICK:90,DOWN:91,UP:92,textNoTags:93,textNoTagsToken:94,DEFAULT:95,stylesOpt:96,alphaNum:97,CALLBACKNAME:98,CALLBACKARGS:99,HREF:100,LINK_TARGET:101,HEX:102,numList:103,INTERPOLATE:104,NUM:105,COMMA:106,style:107,styleComponent:108,MINUS:109,UNIT:110,BRKT:111,DOT:112,PCT:113,TAGSTART:114,alphaNumToken:115,idStringToken:116,alphaNumStatement:117,direction_tb:118,direction_bt:119,direction_rl:120,direction_lr:121,PUNCTUATION:122,UNICODE_TEXT:123,PLUS:124,EQUALS:125,MULT:126,UNDERSCORE:127,graphCodeTokens:128,ARROW_CROSS:129,ARROW_POINT:130,ARROW_CIRCLE:131,ARROW_OPEN:132,QUOTE:133,$accept:0,$end:1},terminals_:{2:"error",10:":",12:"open_directive",13:"type_directive",14:"arg_directive",15:"close_directive",20:"SEMI",21:"NEWLINE",22:"SPACE",23:"EOF",24:"GRAPH",25:"NODIR",26:"DIR",38:"subgraph",40:"SQS",41:"SQE",42:"end",44:"acc_title",45:"acc_title_value",46:"acc_descr",47:"acc_descr_value",48:"acc_descr_multiline_value",52:"AMP",53:"STYLE_SEPARATOR",55:"DOUBLECIRCLESTART",56:"DOUBLECIRCLEEND",57:"PS",58:"PE",59:"(-",60:"-)",61:"STADIUMSTART",62:"STADIUMEND",63:"SUBROUTINESTART",64:"SUBROUTINEEND",65:"VERTEX_WITH_PROPS_START",66:"ALPHA",67:"COLON",68:"PIPE",69:"CYLINDERSTART",70:"CYLINDEREND",71:"DIAMOND_START",72:"DIAMOND_STOP",73:"TAGEND",74:"TRAPSTART",75:"TRAPEND",76:"INVTRAPSTART",77:"INVTRAPEND",80:"TESTSTR",81:"START_LINK",82:"LINK",84:"STR",86:"STYLE",87:"LINKSTYLE",88:"CLASSDEF",89:"CLASS",90:"CLICK",91:"DOWN",92:"UP",95:"DEFAULT",98:"CALLBACKNAME",99:"CALLBACKARGS",100:"HREF",101:"LINK_TARGET",102:"HEX",104:"INTERPOLATE",105:"NUM",106:"COMMA",109:"MINUS",110:"UNIT",111:"BRKT",112:"DOT",113:"PCT",114:"TAGSTART",118:"direction_tb",119:"direction_bt",120:"direction_rl",121:"direction_lr",122:"PUNCTUATION",123:"UNICODE_TEXT",124:"PLUS",125:"EQUALS",126:"MULT",127:"UNDERSCORE",129:"ARROW_CROSS",130:"ARROW_POINT",131:"ARROW_CIRCLE",132:"ARROW_OPEN",133:"QUOTE"},productions_:[0,[3,1],[3,2],[5,4],[5,6],[6,1],[7,1],[11,1],[8,1],[4,2],[17,0],[17,2],[18,1],[18,1],[18,1],[18,1],[18,1],[16,2],[16,2],[16,2],[16,3],[28,2],[28,1],[29,1],[29,1],[29,1],[27,1],[27,1],[27,2],[31,2],[31,2],[31,1],[31,1],[30,2],[30,1],[19,2],[19,2],[19,2],[19,2],[19,2],[19,2],[19,9],[19,6],[19,4],[19,1],[19,2],[19,2],[19,1],[9,1],[9,1],[9,1],[32,3],[32,4],[32,2],[32,1],[50,1],[50,5],[50,3],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,8],[51,4],[51,4],[51,4],[51,6],[51,4],[51,4],[51,4],[51,4],[51,4],[51,1],[49,2],[49,3],[49,3],[49,1],[49,3],[78,1],[79,3],[39,1],[39,2],[39,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[85,1],[93,1],[93,2],[35,5],[35,5],[36,5],[37,2],[37,4],[37,3],[37,5],[37,2],[37,4],[37,4],[37,6],[37,2],[37,4],[37,2],[37,4],[37,4],[37,6],[33,5],[33,5],[34,5],[34,5],[34,9],[34,9],[34,7],[34,7],[103,1],[103,3],[96,1],[96,3],[107,1],[107,2],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[108,1],[83,1],[83,1],[83,1],[83,1],[83,1],[83,1],[94,1],[94,1],[94,1],[94,1],[54,1],[54,2],[97,1],[97,2],[117,1],[117,1],[117,1],[117,1],[43,1],[43,1],[43,1],[43,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[115,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[116,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1],[128,1]],performAction:function(Zi,bo,ho,Fi,_o,Or,tl){var Vr=Or.length-1;switch(_o){case 5:Fi.parseDirective("%%{","open_directive");break;case 6:Fi.parseDirective(Or[Vr],"type_directive");break;case 7:Or[Vr]=Or[Vr].trim().replace(/'/g,'"'),Fi.parseDirective(Or[Vr],"arg_directive");break;case 8:Fi.parseDirective("}%%","close_directive","flowchart");break;case 10:this.$=[];break;case 11:(!Array.isArray(Or[Vr])||Or[Vr].length>0)&&Or[Vr-1].push(Or[Vr]),this.$=Or[Vr-1];break;case 12:case 82:case 84:case 96:case 152:case 154:case 155:this.$=Or[Vr];break;case 19:Fi.setDirection("TB"),this.$="TB";break;case 20:Fi.setDirection(Or[Vr-1]),this.$=Or[Vr-1];break;case 35:this.$=Or[Vr-1].nodes;break;case 36:case 37:case 38:case 39:case 40:this.$=[];break;case 41:this.$=Fi.addSubGraph(Or[Vr-6],Or[Vr-1],Or[Vr-4]);break;case 42:this.$=Fi.addSubGraph(Or[Vr-3],Or[Vr-1],Or[Vr-3]);break;case 43:this.$=Fi.addSubGraph(void 0,Or[Vr-1],void 0);break;case 45:this.$=Or[Vr].trim(),Fi.setAccTitle(this.$);break;case 46:case 47:this.$=Or[Vr].trim(),Fi.setAccDescription(this.$);break;case 51:Fi.addLink(Or[Vr-2].stmt,Or[Vr],Or[Vr-1]),this.$={stmt:Or[Vr],nodes:Or[Vr].concat(Or[Vr-2].nodes)};break;case 52:Fi.addLink(Or[Vr-3].stmt,Or[Vr-1],Or[Vr-2]),this.$={stmt:Or[Vr-1],nodes:Or[Vr-1].concat(Or[Vr-3].nodes)};break;case 53:this.$={stmt:Or[Vr-1],nodes:Or[Vr-1]};break;case 54:this.$={stmt:Or[Vr],nodes:Or[Vr]};break;case 55:this.$=[Or[Vr]];break;case 56:this.$=Or[Vr-4].concat(Or[Vr]);break;case 57:this.$=[Or[Vr-2]],Fi.setClass(Or[Vr-2],Or[Vr]);break;case 58:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"square");break;case 59:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"doublecircle");break;case 60:this.$=Or[Vr-5],Fi.addVertex(Or[Vr-5],Or[Vr-2],"circle");break;case 61:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"ellipse");break;case 62:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"stadium");break;case 63:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"subroutine");break;case 64:this.$=Or[Vr-7],Fi.addVertex(Or[Vr-7],Or[Vr-1],"rect",void 0,void 0,void 0,Object.fromEntries([[Or[Vr-5],Or[Vr-3]]]));break;case 65:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"cylinder");break;case 66:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"round");break;case 67:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"diamond");break;case 68:this.$=Or[Vr-5],Fi.addVertex(Or[Vr-5],Or[Vr-2],"hexagon");break;case 69:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"odd");break;case 70:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"trapezoid");break;case 71:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"inv_trapezoid");break;case 72:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"lean_right");break;case 73:this.$=Or[Vr-3],Fi.addVertex(Or[Vr-3],Or[Vr-1],"lean_left");break;case 74:this.$=Or[Vr],Fi.addVertex(Or[Vr]);break;case 75:Or[Vr-1].text=Or[Vr],this.$=Or[Vr-1];break;case 76:case 77:Or[Vr-2].text=Or[Vr-1],this.$=Or[Vr-2];break;case 78:this.$=Or[Vr];break;case 79:var hs=Fi.destructLink(Or[Vr],Or[Vr-2]);this.$={type:hs.type,stroke:hs.stroke,length:hs.length,text:Or[Vr-1]};break;case 80:var hs=Fi.destructLink(Or[Vr]);this.$={type:hs.type,stroke:hs.stroke,length:hs.length};break;case 81:this.$=Or[Vr-1];break;case 83:case 97:case 153:this.$=Or[Vr-1]+""+Or[Vr];break;case 98:case 99:this.$=Or[Vr-4],Fi.addClass(Or[Vr-2],Or[Vr]);break;case 100:this.$=Or[Vr-4],Fi.setClass(Or[Vr-2],Or[Vr]);break;case 101:case 109:this.$=Or[Vr-1],Fi.setClickEvent(Or[Vr-1],Or[Vr]);break;case 102:case 110:this.$=Or[Vr-3],Fi.setClickEvent(Or[Vr-3],Or[Vr-2]),Fi.setTooltip(Or[Vr-3],Or[Vr]);break;case 103:this.$=Or[Vr-2],Fi.setClickEvent(Or[Vr-2],Or[Vr-1],Or[Vr]);break;case 104:this.$=Or[Vr-4],Fi.setClickEvent(Or[Vr-4],Or[Vr-3],Or[Vr-2]),Fi.setTooltip(Or[Vr-4],Or[Vr]);break;case 105:case 111:this.$=Or[Vr-1],Fi.setLink(Or[Vr-1],Or[Vr]);break;case 106:case 112:this.$=Or[Vr-3],Fi.setLink(Or[Vr-3],Or[Vr-2]),Fi.setTooltip(Or[Vr-3],Or[Vr]);break;case 107:case 113:this.$=Or[Vr-3],Fi.setLink(Or[Vr-3],Or[Vr-2],Or[Vr]);break;case 108:case 114:this.$=Or[Vr-5],Fi.setLink(Or[Vr-5],Or[Vr-4],Or[Vr]),Fi.setTooltip(Or[Vr-5],Or[Vr-2]);break;case 115:this.$=Or[Vr-4],Fi.addVertex(Or[Vr-2],void 0,void 0,Or[Vr]);break;case 116:case 118:this.$=Or[Vr-4],Fi.updateLink(Or[Vr-2],Or[Vr]);break;case 117:this.$=Or[Vr-4],Fi.updateLink([Or[Vr-2]],Or[Vr]);break;case 119:this.$=Or[Vr-8],Fi.updateLinkInterpolate([Or[Vr-6]],Or[Vr-2]),Fi.updateLink([Or[Vr-6]],Or[Vr]);break;case 120:this.$=Or[Vr-8],Fi.updateLinkInterpolate(Or[Vr-6],Or[Vr-2]),Fi.updateLink(Or[Vr-6],Or[Vr]);break;case 121:this.$=Or[Vr-6],Fi.updateLinkInterpolate([Or[Vr-4]],Or[Vr]);break;case 122:this.$=Or[Vr-6],Fi.updateLinkInterpolate(Or[Vr-4],Or[Vr]);break;case 123:case 125:this.$=[Or[Vr]];break;case 124:case 126:Or[Vr-2].push(Or[Vr]),this.$=Or[Vr-2];break;case 128:this.$=Or[Vr-1]+Or[Vr];break;case 150:this.$=Or[Vr];break;case 151:this.$=Or[Vr-1]+""+Or[Vr];break;case 156:this.$="v";break;case 157:this.$="-";break;case 158:this.$={stmt:"dir",value:"TB"};break;case 159:this.$={stmt:"dir",value:"BT"};break;case 160:this.$={stmt:"dir",value:"RL"};break;case 161:this.$={stmt:"dir",value:"LR"};break}},table:[{3:1,4:2,5:3,6:5,12:rt,16:4,21:it,22:st,24:bt},{1:[3]},{1:[2,1]},{3:10,4:2,5:3,6:5,12:rt,16:4,21:it,22:st,24:bt},nt(wt,Et,{17:11}),{7:12,13:[1,13]},{16:14,21:it,22:st,24:bt},{16:15,21:it,22:st,24:bt},{25:[1,16],26:[1,17]},{13:[2,5]},{1:[2,2]},{1:[2,9],18:18,19:19,20:Tt,21:At,22:Dt,23:Ot,32:24,33:25,34:26,35:27,36:28,37:29,38:zt,43:31,44:$t,46:Bt,48:Yt,50:35,51:45,52:Xt,54:46,66:Ht,67:Qt,86:Zt,87:nn,88:Kt,89:ln,90:sn,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,118:pn,119:yr,120:xn,121:Mr,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},{8:64,10:[1,65],15:Ir},nt([10,15],[2,6]),nt(wt,[2,17]),nt(wt,[2,18]),nt(wt,[2,19]),{20:[1,68],21:[1,69],22:Pr,27:67,30:70},nt(_r,[2,11]),nt(_r,[2,12]),nt(_r,[2,13]),nt(_r,[2,14]),nt(_r,[2,15]),nt(_r,[2,16]),{9:72,20:tr,21:qn,23:mr,49:73,78:77,81:[1,78],82:[1,79]},{9:80,20:tr,21:qn,23:mr},{9:81,20:tr,21:qn,23:mr},{9:82,20:tr,21:qn,23:mr},{9:83,20:tr,21:qn,23:mr},{9:84,20:tr,21:qn,23:mr},{9:86,20:tr,21:qn,22:[1,85],23:mr},nt(_r,[2,44]),{45:[1,87]},{47:[1,88]},nt(_r,[2,47]),nt(br,[2,54],{30:89,22:Pr}),{22:[1,90]},{22:[1,91]},{22:[1,92]},{22:[1,93]},{26:hr,52:An,66:rn,67:vn,84:[1,97],91:hn,97:96,98:[1,94],100:[1,95],105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(_r,[2,158]),nt(_r,[2,159]),nt(_r,[2,160]),nt(_r,[2,161]),nt(mi,[2,55],{53:[1,116]}),nt(vi,[2,74],{116:129,40:[1,117],52:Xt,55:[1,118],57:[1,119],59:[1,120],61:[1,121],63:[1,122],65:[1,123],66:Ht,67:Qt,69:[1,124],71:[1,125],73:[1,126],74:[1,127],76:[1,128],91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr}),nt(xi,[2,150]),nt(xi,[2,175]),nt(xi,[2,176]),nt(xi,[2,177]),nt(xi,[2,178]),nt(xi,[2,179]),nt(xi,[2,180]),nt(xi,[2,181]),nt(xi,[2,182]),nt(xi,[2,183]),nt(xi,[2,184]),nt(xi,[2,185]),nt(xi,[2,186]),nt(xi,[2,187]),nt(xi,[2,188]),nt(xi,[2,189]),nt(xi,[2,190]),{9:130,20:tr,21:qn,23:mr},{11:131,14:[1,132]},nt(Ci,[2,8]),nt(wt,[2,20]),nt(wt,[2,26]),nt(wt,[2,27]),{21:[1,133]},nt(Ei,[2,34],{30:134,22:Pr}),nt(_r,[2,35]),{50:135,51:45,52:Xt,54:46,66:Ht,67:Qt,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},nt(Bi,[2,48]),nt(Bi,[2,49]),nt(Bi,[2,50]),nt(Ai,[2,78],{79:136,68:[1,138],80:[1,137]}),{22:Fr,24:Ln,26:Nn,38:er,39:139,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt([52,66,67,68,80,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,80]),nt(_r,[2,36]),nt(_r,[2,37]),nt(_r,[2,38]),nt(_r,[2,39]),nt(_r,[2,40]),{22:Fr,24:Ln,26:Nn,38:er,39:163,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Cs,Et,{17:164}),nt(_r,[2,45]),nt(_r,[2,46]),nt(br,[2,53],{52:Za}),{26:hr,52:An,66:rn,67:vn,91:hn,97:166,102:[1,167],105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{95:[1,168],103:169,105:[1,170]},{26:hr,52:An,66:rn,67:vn,91:hn,95:[1,171],97:172,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{26:hr,52:An,66:rn,67:vn,91:hn,97:173,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Ci,[2,101],{22:[1,174],99:[1,175]}),nt(Ci,[2,105],{22:[1,176]}),nt(Ci,[2,109],{115:100,117:178,22:[1,177],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar}),nt(Ci,[2,111],{22:[1,179]}),nt(ji,[2,152]),nt(ji,[2,154]),nt(ji,[2,155]),nt(ji,[2,156]),nt(ji,[2,157]),nt(lo,[2,162]),nt(lo,[2,163]),nt(lo,[2,164]),nt(lo,[2,165]),nt(lo,[2,166]),nt(lo,[2,167]),nt(lo,[2,168]),nt(lo,[2,169]),nt(lo,[2,170]),nt(lo,[2,171]),nt(lo,[2,172]),nt(lo,[2,173]),nt(lo,[2,174]),{52:Xt,54:180,66:Ht,67:Qt,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},{22:Fr,24:Ln,26:Nn,38:er,39:181,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:182,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:184,42:sr,52:An,57:[1,183],66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:185,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:186,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:187,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{66:[1,188]},{22:Fr,24:Ln,26:Nn,38:er,39:189,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:190,42:sr,52:An,66:rn,67:vn,71:[1,191],73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:192,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:193,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:194,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(xi,[2,151]),nt(Va,[2,3]),{8:195,15:Ir},{15:[2,7]},nt(wt,[2,28]),nt(Ei,[2,33]),nt(br,[2,51],{30:196,22:Pr}),nt(Ai,[2,75],{22:[1,197]}),{22:[1,198]},{22:Fr,24:Ln,26:Nn,38:er,39:199,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,82:[1,200],83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(lo,[2,82]),nt(lo,[2,84]),nt(lo,[2,140]),nt(lo,[2,141]),nt(lo,[2,142]),nt(lo,[2,143]),nt(lo,[2,144]),nt(lo,[2,145]),nt(lo,[2,146]),nt(lo,[2,147]),nt(lo,[2,148]),nt(lo,[2,149]),nt(lo,[2,85]),nt(lo,[2,86]),nt(lo,[2,87]),nt(lo,[2,88]),nt(lo,[2,89]),nt(lo,[2,90]),nt(lo,[2,91]),nt(lo,[2,92]),nt(lo,[2,93]),nt(lo,[2,94]),nt(lo,[2,95]),{9:203,20:tr,21:qn,22:Fr,23:mr,24:Ln,26:Nn,38:er,40:[1,202],42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{18:18,19:19,20:Tt,21:At,22:Dt,23:Ot,32:24,33:25,34:26,35:27,36:28,37:29,38:zt,42:[1,204],43:31,44:$t,46:Bt,48:Yt,50:35,51:45,52:Xt,54:46,66:Ht,67:Qt,86:Zt,87:nn,88:Kt,89:ln,90:sn,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,118:pn,119:yr,120:xn,121:Mr,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},{22:Pr,30:205},{22:[1,206],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:178,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:[1,207]},{22:[1,208]},{22:[1,209],106:[1,210]},nt(Ti,[2,123]),{22:[1,211]},{22:[1,212],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:178,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:[1,213],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:178,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{84:[1,214]},nt(Ci,[2,103],{22:[1,215]}),{84:[1,216],101:[1,217]},{84:[1,218]},nt(ji,[2,153]),{84:[1,219],101:[1,220]},nt(mi,[2,57],{116:129,52:Xt,66:Ht,67:Qt,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr}),{22:Fr,24:Ln,26:Nn,38:er,41:[1,221],42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,56:[1,222],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:223,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,58:[1,224],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,60:[1,225],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,62:[1,226],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,64:[1,227],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{67:[1,228]},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,70:[1,229],73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,72:[1,230],73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,39:231,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,41:[1,232],42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,73:Nr,75:[1,233],77:[1,234],81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,73:Nr,75:[1,236],77:[1,235],81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{9:237,20:tr,21:qn,23:mr},nt(br,[2,52],{52:Za}),nt(Ai,[2,77]),nt(Ai,[2,76]),{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,68:[1,238],73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Ai,[2,79]),nt(lo,[2,83]),{22:Fr,24:Ln,26:Nn,38:er,39:239,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Cs,Et,{17:240}),nt(_r,[2,43]),{51:241,52:Xt,54:46,66:Ht,67:Qt,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},{22:ca,66:Sa,67:Ya,86:Hr,96:242,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{22:ca,66:Sa,67:Ya,86:Hr,96:256,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{22:ca,66:Sa,67:Ya,86:Hr,96:257,102:ii,104:[1,258],105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{22:ca,66:Sa,67:Ya,86:Hr,96:259,102:ii,104:[1,260],105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{105:[1,261]},{22:ca,66:Sa,67:Ya,86:Hr,96:262,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{22:ca,66:Sa,67:Ya,86:Hr,96:263,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{26:hr,52:An,66:rn,67:vn,91:hn,97:264,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Ci,[2,102]),{84:[1,265]},nt(Ci,[2,106],{22:[1,266]}),nt(Ci,[2,107]),nt(Ci,[2,110]),nt(Ci,[2,112],{22:[1,267]}),nt(Ci,[2,113]),nt(vi,[2,58]),nt(vi,[2,59]),{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,58:[1,268],66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(vi,[2,66]),nt(vi,[2,61]),nt(vi,[2,62]),nt(vi,[2,63]),{66:[1,269]},nt(vi,[2,65]),nt(vi,[2,67]),{22:Fr,24:Ln,26:Nn,38:er,42:sr,52:An,66:rn,67:vn,72:[1,270],73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(vi,[2,69]),nt(vi,[2,70]),nt(vi,[2,72]),nt(vi,[2,71]),nt(vi,[2,73]),nt(Va,[2,4]),nt([22,52,66,67,91,95,105,106,109,111,112,122,123,124,125,126,127],[2,81]),{22:Fr,24:Ln,26:Nn,38:er,41:[1,271],42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{18:18,19:19,20:Tt,21:At,22:Dt,23:Ot,32:24,33:25,34:26,35:27,36:28,37:29,38:zt,42:[1,272],43:31,44:$t,46:Bt,48:Yt,50:35,51:45,52:Xt,54:46,66:Ht,67:Qt,86:Zt,87:nn,88:Kt,89:ln,90:sn,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,118:pn,119:yr,120:xn,121:Mr,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},nt(mi,[2,56]),nt(Ci,[2,115],{106:Eo}),nt(oa,[2,125],{108:274,22:ca,66:Sa,67:Ya,86:Hr,102:ii,105:Ur,109:Tr,110:Zr,111:bi,112:Ii,113:zo}),nt(mo,[2,127]),nt(mo,[2,129]),nt(mo,[2,130]),nt(mo,[2,131]),nt(mo,[2,132]),nt(mo,[2,133]),nt(mo,[2,134]),nt(mo,[2,135]),nt(mo,[2,136]),nt(mo,[2,137]),nt(mo,[2,138]),nt(mo,[2,139]),nt(Ci,[2,116],{106:Eo}),nt(Ci,[2,117],{106:Eo}),{22:[1,275]},nt(Ci,[2,118],{106:Eo}),{22:[1,276]},nt(Ti,[2,124]),nt(Ci,[2,98],{106:Eo}),nt(Ci,[2,99],{106:Eo}),nt(Ci,[2,100],{115:100,117:178,26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar}),nt(Ci,[2,104]),{101:[1,277]},{101:[1,278]},{58:[1,279]},{68:[1,280]},{72:[1,281]},{9:282,20:tr,21:qn,23:mr},nt(_r,[2,42]),{22:ca,66:Sa,67:Ya,86:Hr,102:ii,105:Ur,107:283,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},nt(mo,[2,128]),{26:hr,52:An,66:rn,67:vn,91:hn,97:284,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{26:hr,52:An,66:rn,67:vn,91:hn,97:285,105:zn,106:On,109:Er,111:Rn,112:rr,115:100,117:98,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(Ci,[2,108]),nt(Ci,[2,114]),nt(vi,[2,60]),{22:Fr,24:Ln,26:Nn,38:er,39:286,42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:140,84:Dr,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},nt(vi,[2,68]),nt(Cs,Et,{17:287}),nt(oa,[2,126],{108:274,22:ca,66:Sa,67:Ya,86:Hr,102:ii,105:Ur,109:Tr,110:Zr,111:bi,112:Ii,113:zo}),nt(Ci,[2,121],{115:100,117:178,22:[1,288],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar}),nt(Ci,[2,122],{115:100,117:178,22:[1,289],26:hr,52:An,66:rn,67:vn,91:hn,105:zn,106:On,109:Er,111:Rn,112:rr,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar}),{22:Fr,24:Ln,26:Nn,38:er,41:[1,290],42:sr,52:An,66:rn,67:vn,73:Nr,81:Jr,83:201,85:151,86:yi,87:Br,88:Si,89:Ni,90:Ri,91:Li,92:eo,94:142,95:Ui,105:zn,106:On,109:oo,111:Rn,112:rr,113:wo,114:uo,115:148,122:Kn,123:gr,124:xr,125:Lr,126:Cr,127:Ar},{18:18,19:19,20:Tt,21:At,22:Dt,23:Ot,32:24,33:25,34:26,35:27,36:28,37:29,38:zt,42:[1,291],43:31,44:$t,46:Bt,48:Yt,50:35,51:45,52:Xt,54:46,66:Ht,67:Qt,86:Zt,87:nn,88:Kt,89:ln,90:sn,91:bn,95:wn,105:Mn,106:Sn,109:Dn,111:gn,112:Un,116:47,118:pn,119:yr,120:xn,121:Mr,122:fr,123:cr,124:Gn,125:lr,126:ur,127:vr},{22:ca,66:Sa,67:Ya,86:Hr,96:292,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},{22:ca,66:Sa,67:Ya,86:Hr,96:293,102:ii,105:Ur,107:243,108:244,109:Tr,110:Zr,111:bi,112:Ii,113:zo},nt(vi,[2,64]),nt(_r,[2,41]),nt(Ci,[2,119],{106:Eo}),nt(Ci,[2,120],{106:Eo})],defaultActions:{2:[2,1],9:[2,5],10:[2,2],132:[2,7]},parseError:function(Zi,bo){if(bo.recoverable)this.trace(Zi);else{var ho=new Error(Zi);throw ho.hash=bo,ho}},parse:function(Zi){var bo=this,ho=[0],Fi=[],_o=[null],Or=[],tl=this.table,Vr="",hs=0,yc=0,Vo=2,xo=1,Gc=Or.slice.call(arguments,1),Gi=Object.create(this.lexer),To={yy:{}};for(var $s in this.yy)Object.prototype.hasOwnProperty.call(this.yy,$s)&&(To.yy[$s]=this.yy[$s]);Gi.setInput(Zi,To.yy),To.yy.lexer=Gi,To.yy.parser=this,typeof Gi.yylloc>"u"&&(Gi.yylloc={});var ec=Gi.yylloc;Or.push(ec);var Nl=Gi.options&&Gi.options.ranges;typeof To.yy.parseError=="function"?this.parseError=To.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function ls(){var Gs;return Gs=Fi.pop()||Gi.lex()||xo,typeof Gs!="number"&&(Gs instanceof Array&&(Fi=Gs,Gs=Fi.pop()),Gs=bo.symbols_[Gs]||Gs),Gs}for(var Wo,Xo,bs,Dl,_s={},vl,Ys,Dc,Ic;;){if(Xo=ho[ho.length-1],this.defaultActions[Xo]?bs=this.defaultActions[Xo]:((Wo===null||typeof Wo>"u")&&(Wo=ls()),bs=tl[Xo]&&tl[Xo][Wo]),typeof bs>"u"||!bs.length||!bs[0]){var vc="";Ic=[];for(vl in tl[Xo])this.terminals_[vl]&&vl>Vo&&Ic.push("'"+this.terminals_[vl]+"'");Gi.showPosition?vc="Parse error on line "+(hs+1)+`:
`+Gi.showPosition()+`
Expecting `+Ic.join(", ")+", got '"+(this.terminals_[Wo]||Wo)+"'":vc="Parse error on line "+(hs+1)+": Unexpected "+(Wo==xo?"end of input":"'"+(this.terminals_[Wo]||Wo)+"'"),this.parseError(vc,{text:Gi.match,token:this.terminals_[Wo]||Wo,line:Gi.yylineno,loc:ec,expected:Ic})}if(bs[0]instanceof Array&&bs.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Xo+", token: "+Wo);switch(bs[0]){case 1:ho.push(Wo),_o.push(Gi.yytext),Or.push(Gi.yylloc),ho.push(bs[1]),Wo=null,yc=Gi.yyleng,Vr=Gi.yytext,hs=Gi.yylineno,ec=Gi.yylloc;break;case 2:if(Ys=this.productions_[bs[1]][1],_s.$=_o[_o.length-Ys],_s._$={first_line:Or[Or.length-(Ys||1)].first_line,last_line:Or[Or.length-1].last_line,first_column:Or[Or.length-(Ys||1)].first_column,last_column:Or[Or.length-1].last_column},Nl&&(_s._$.range=[Or[Or.length-(Ys||1)].range[0],Or[Or.length-1].range[1]]),Dl=this.performAction.apply(_s,[Vr,yc,hs,To.yy,bs[1],_o,Or].concat(Gc)),typeof Dl<"u")return Dl;Ys&&(ho=ho.slice(0,-1*Ys*2),_o=_o.slice(0,-1*Ys),Or=Or.slice(0,-1*Ys)),ho.push(this.productions_[bs[1]][0]),_o.push(_s.$),Or.push(_s._$),Dc=tl[ho[ho.length-2]][ho[ho.length-1]],ho.push(Dc);break;case 3:return!0}}return!0}},Ja=function(){var vs={EOF:1,parseError:function(bo,ho){if(this.yy.parser)this.yy.parser.parseError(bo,ho);else throw new Error(bo)},setInput:function(Zi,bo){return this.yy=bo||this.yy||{},this._input=Zi,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Zi=this._input[0];this.yytext+=Zi,this.yyleng++,this.offset++,this.match+=Zi,this.matched+=Zi;var bo=Zi.match(/(?:\r\n?|\n).*/g);return bo?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Zi},unput:function(Zi){var bo=Zi.length,ho=Zi.split(/(?:\r\n?|\n)/g);this._input=Zi+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-bo),this.offset-=bo;var Fi=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),ho.length-1&&(this.yylineno-=ho.length-1);var _o=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:ho?(ho.length===Fi.length?this.yylloc.first_column:0)+Fi[Fi.length-ho.length].length-ho[0].length:this.yylloc.first_column-bo},this.options.ranges&&(this.yylloc.range=[_o[0],_o[0]+this.yyleng-bo]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Zi){this.unput(this.match.slice(Zi))},pastInput:function(){var Zi=this.matched.substr(0,this.matched.length-this.match.length);return(Zi.length>20?"...":"")+Zi.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Zi=this.match;return Zi.length<20&&(Zi+=this._input.substr(0,20-Zi.length)),(Zi.substr(0,20)+(Zi.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Zi=this.pastInput(),bo=new Array(Zi.length+1).join("-");return Zi+this.upcomingInput()+`
`+bo+"^"},test_match:function(Zi,bo){var ho,Fi,_o;if(this.options.backtrack_lexer&&(_o={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(_o.yylloc.range=this.yylloc.range.slice(0))),Fi=Zi[0].match(/(?:\r\n?|\n).*/g),Fi&&(this.yylineno+=Fi.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Fi?Fi[Fi.length-1].length-Fi[Fi.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Zi[0].length},this.yytext+=Zi[0],this.match+=Zi[0],this.matches=Zi,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Zi[0].length),this.matched+=Zi[0],ho=this.performAction.call(this,this.yy,this,bo,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),ho)return ho;if(this._backtrack){for(var Or in _o)this[Or]=_o[Or];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Zi,bo,ho,Fi;this._more||(this.yytext="",this.match="");for(var _o=this._currentRules(),Or=0;Or<_o.length;Or++)if(ho=this._input.match(this.rules[_o[Or]]),ho&&(!bo||ho[0].length>bo[0].length)){if(bo=ho,Fi=Or,this.options.backtrack_lexer){if(Zi=this.test_match(ho,_o[Or]),Zi!==!1)return Zi;if(this._backtrack){bo=!1;continue}else return!1}else if(!this.options.flex)break}return bo?(Zi=this.test_match(bo,_o[Fi]),Zi!==!1?Zi:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var bo=this.next();return bo||this.lex()},begin:function(bo){this.conditionStack.push(bo)},popState:function(){var bo=this.conditionStack.length-1;return bo>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(bo){return bo=this.conditionStack.length-1-Math.abs(bo||0),bo>=0?this.conditionStack[bo]:"INITIAL"},pushState:function(bo){this.begin(bo)},stateStackSize:function(){return this.conditionStack.length},options:{},performAction:function(bo,ho,Fi,_o){switch(Fi){case 0:return this.begin("open_directive"),12;case 1:return this.begin("type_directive"),13;case 2:return this.popState(),this.begin("arg_directive"),10;case 3:return this.popState(),this.popState(),15;case 4:return 14;case 5:break;case 6:break;case 7:return this.begin("acc_title"),44;case 8:return this.popState(),"acc_title_value";case 9:return this.begin("acc_descr"),46;case 10:return this.popState(),"acc_descr_value";case 11:this.begin("acc_descr_multiline");break;case 12:this.popState();break;case 13:return"acc_descr_multiline_value";case 14:this.begin("string");break;case 15:this.popState();break;case 16:return"STR";case 17:return 86;case 18:return 95;case 19:return 87;case 20:return 104;case 21:return 88;case 22:return 89;case 23:this.begin("href");break;case 24:this.popState();break;case 25:return 100;case 26:this.begin("callbackname");break;case 27:this.popState();break;case 28:this.popState(),this.begin("callbackargs");break;case 29:return 98;case 30:this.popState();break;case 31:return 99;case 32:this.begin("click");break;case 33:this.popState();break;case 34:return 90;case 35:return bo.lex.firstGraph()&&this.begin("dir"),24;case 36:return bo.lex.firstGraph()&&this.begin("dir"),24;case 37:return 38;case 38:return 42;case 39:return 101;case 40:return 101;case 41:return 101;case 42:return 101;case 43:return this.popState(),25;case 44:return this.popState(),26;case 45:return this.popState(),26;case 46:return this.popState(),26;case 47:return this.popState(),26;case 48:return this.popState(),26;case 49:return this.popState(),26;case 50:return this.popState(),26;case 51:return this.popState(),26;case 52:return this.popState(),26;case 53:return this.popState(),26;case 54:return 118;case 55:return 119;case 56:return 120;case 57:return 121;case 58:return 105;case 59:return 111;case 60:return 53;case 61:return 67;case 62:return 52;case 63:return 20;case 64:return 106;case 65:return 126;case 66:return 82;case 67:return 82;case 68:return 82;case 69:return 81;case 70:return 81;case 71:return 81;case 72:return 59;case 73:return 60;case 74:return 61;case 75:return 62;case 76:return 63;case 77:return 64;case 78:return 65;case 79:return 69;case 80:return 70;case 81:return 55;case 82:return 56;case 83:return 109;case 84:return 112;case 85:return 127;case 86:return 124;case 87:return 113;case 88:return 125;case 89:return 125;case 90:return 114;case 91:return 73;case 92:return 92;case 93:return"SEP";case 94:return 91;case 95:return 66;case 96:return 75;case 97:return 74;case 98:return 77;case 99:return 76;case 100:return 122;case 101:return 123;case 102:return 68;case 103:return 57;case 104:return 58;case 105:return 40;case 106:return 41;case 107:return 71;case 108:return 72;case 109:return 133;case 110:return 21;case 111:return 22;case 112:return 23}},rules:[/^(?:%%\{)/,/^(?:((?:(?!\}%%)[^:.])*))/,/^(?::)/,/^(?:\}%%)/,/^(?:((?:(?!\}%%).|\n)*))/,/^(?:%%(?!\{)[^\n]*)/,/^(?:[^\}]%%[^\n]*)/,/^(?:accTitle\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*:\s*)/,/^(?:(?!\n||)*[^\n]*)/,/^(?:accDescr\s*\{\s*)/,/^(?:[\}])/,/^(?:[^\}]*)/,/^(?:["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:style\b)/,/^(?:default\b)/,/^(?:linkStyle\b)/,/^(?:interpolate\b)/,/^(?:classDef\b)/,/^(?:class\b)/,/^(?:href[\s]+["])/,/^(?:["])/,/^(?:[^"]*)/,/^(?:call[\s]+)/,/^(?:\([\s]*\))/,/^(?:\()/,/^(?:[^(]*)/,/^(?:\))/,/^(?:[^)]*)/,/^(?:click[\s]+)/,/^(?:[\s\n])/,/^(?:[^\s\n]*)/,/^(?:graph\b)/,/^(?:flowchart\b)/,/^(?:subgraph\b)/,/^(?:end\b\s*)/,/^(?:_self\b)/,/^(?:_blank\b)/,/^(?:_parent\b)/,/^(?:_top\b)/,/^(?:(\r?\n)*\s*\n)/,/^(?:\s*LR\b)/,/^(?:\s*RL\b)/,/^(?:\s*TB\b)/,/^(?:\s*BT\b)/,/^(?:\s*TD\b)/,/^(?:\s*BR\b)/,/^(?:\s*<)/,/^(?:\s*>)/,/^(?:\s*\^)/,/^(?:\s*v\b)/,/^(?:.*direction\s+TB[^\n]*)/,/^(?:.*direction\s+BT[^\n]*)/,/^(?:.*direction\s+RL[^\n]*)/,/^(?:.*direction\s+LR[^\n]*)/,/^(?:[0-9]+)/,/^(?:#)/,/^(?::::)/,/^(?::)/,/^(?:&)/,/^(?:;)/,/^(?:,)/,/^(?:\*)/,/^(?:\s*[xo<]?--+[-xo>]\s*)/,/^(?:\s*[xo<]?==+[=xo>]\s*)/,/^(?:\s*[xo<]?-?\.+-[xo>]?\s*)/,/^(?:\s*[xo<]?--\s*)/,/^(?:\s*[xo<]?==\s*)/,/^(?:\s*[xo<]?-\.\s*)/,/^(?:\(-)/,/^(?:-\))/,/^(?:\(\[)/,/^(?:\]\))/,/^(?:\[\[)/,/^(?:\]\])/,/^(?:\[\|)/,/^(?:\[\()/,/^(?:\)\])/,/^(?:\(\(\()/,/^(?:\)\)\))/,/^(?:-)/,/^(?:\.)/,/^(?:[\_])/,/^(?:\+)/,/^(?:%)/,/^(?:=)/,/^(?:=)/,/^(?:<)/,/^(?:>)/,/^(?:\^)/,/^(?:\\\|)/,/^(?:v\b)/,/^(?:[A-Za-z]+)/,/^(?:\\\])/,/^(?:\[\/)/,/^(?:\/\])/,/^(?:\[\\)/,/^(?:[!"#$%&'*+,-.`?\\_/])/,/^(?:[\u00AA\u00B5\u00BA\u00C0-\u00D6\u00D8-\u00F6]|[\u00F8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377]|[\u037A-\u037D\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5]|[\u03F7-\u0481\u048A-\u0527\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA]|[\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE]|[\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA]|[\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0]|[\u08A2-\u08AC\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0977]|[\u0979-\u097F\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2]|[\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A]|[\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39]|[\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8]|[\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0B05-\u0B0C]|[\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C]|[\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99]|[\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0]|[\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C33\u0C35-\u0C39\u0C3D]|[\u0C58\u0C59\u0C60\u0C61\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3]|[\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10]|[\u0D12-\u0D3A\u0D3D\u0D4E\u0D60\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1]|[\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81]|[\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3]|[\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6]|[\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A]|[\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081]|[\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D]|[\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0]|[\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310]|[\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F4\u1401-\u166C]|[\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u1700-\u170C\u170E-\u1711]|[\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7]|[\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191C]|[\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19C1-\u19C7\u1A00-\u1A16]|[\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF]|[\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1CE9-\u1CEC]|[\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D]|[\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D]|[\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3]|[\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F]|[\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128]|[\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184]|[\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3]|[\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6]|[\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE]|[\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C]|[\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D]|[\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FCC]|[\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B]|[\uA640-\uA66E\uA67F-\uA697\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788]|[\uA78B-\uA78E\uA790-\uA793\uA7A0-\uA7AA\uA7F8-\uA801\uA803-\uA805]|[\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB]|[\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uAA00-\uAA28]|[\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA80-\uAAAF\uAAB1\uAAB5]|[\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4]|[\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E]|[\uABC0-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D]|[\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36]|[\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D]|[\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC]|[\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF]|[\uFFD2-\uFFD7\uFFDA-\uFFDC])/,/^(?:\|)/,/^(?:\()/,/^(?:\))/,/^(?:\[)/,/^(?:\])/,/^(?:\{)/,/^(?:\})/,/^(?:")/,/^(?:(\r?\n)+)/,/^(?:\s)/,/^(?:$)/],conditions:{close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[30,31],inclusive:!1},callbackname:{rules:[27,28,29],inclusive:!1},href:{rules:[24,25],inclusive:!1},click:{rules:[33,34],inclusive:!1},vertex:{rules:[],inclusive:!1},dir:{rules:[43,44,45,46,47,48,49,50,51,52,53],inclusive:!1},acc_descr_multiline:{rules:[12,13],inclusive:!1},acc_descr:{rules:[10],inclusive:!1},acc_title:{rules:[8],inclusive:!1},string:{rules:[15,16],inclusive:!1},INITIAL:{rules:[0,5,6,7,9,11,14,17,18,19,20,21,22,23,26,32,35,36,37,38,39,40,41,42,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112],inclusive:!0}}};return vs}();$o.lexer=Ja;function ys(){this.yy={}}return ys.prototype=$o,$o.Parser=ys,new ys}();parser$7.parser=parser$7;const flowParser=parser$7,flowDetector=(nt,rt)=>{var it;return((it=rt==null?void 0:rt.flowchart)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!1:nt.match(/^\s*graph/)!==null},flowDetectorV2=(nt,rt)=>{var it;return((it=rt==null?void 0:rt.flowchart)==null?void 0:it.defaultRenderer)==="dagre-wrapper"&&nt.match(/^\s*graph/)!==null?!0:nt.match(/^\s*flowchart/)!==null},MERMAID_DOM_ID_PREFIX="flowchart-";let vertexCounter=0,config=getConfig$1(),vertices={},edges=[],classes$1={},subGraphs=[],subGraphLookup={},tooltips={},subCount=0,firstGraphFlag=!0,direction$1,version,funs$1=[];const sanitizeText=nt=>common$1.sanitizeText(nt,config),parseDirective$7=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},lookUpDomId=function(nt){const rt=Object.keys(vertices);for(const it of rt)if(vertices[it].id===nt)return vertices[it].domId;return nt},addVertex=function(nt,rt,it,st,bt,wt,Et={}){let Tt,At=nt;At!==void 0&&At.trim().length!==0&&(vertices[At]===void 0&&(vertices[At]={id:At,domId:MERMAID_DOM_ID_PREFIX+At+"-"+vertexCounter,styles:[],classes:[]}),vertexCounter++,rt!==void 0?(config=getConfig$1(),Tt=sanitizeText(rt.trim()),Tt[0]==='"'&&Tt[Tt.length-1]==='"'&&(Tt=Tt.substring(1,Tt.length-1)),vertices[At].text=Tt):vertices[At].text===void 0&&(vertices[At].text=nt),it!==void 0&&(vertices[At].type=it),st!=null&&st.forEach(function(Dt){vertices[At].styles.push(Dt)}),bt!=null&&bt.forEach(function(Dt){vertices[At].classes.push(Dt)}),wt!==void 0&&(vertices[At].dir=wt),vertices[At].props===void 0?vertices[At].props=Et:Et!==void 0&&Object.assign(vertices[At].props,Et))},addSingleLink=function(nt,rt,it,st){const Et={start:nt,end:rt,type:void 0,text:""};st=it.text,st!==void 0&&(Et.text=sanitizeText(st.trim()),Et.text[0]==='"'&&Et.text[Et.text.length-1]==='"'&&(Et.text=Et.text.substring(1,Et.text.length-1))),it!==void 0&&(Et.type=it.type,Et.stroke=it.stroke,Et.length=it.length),edges.push(Et)},addLink=function(nt,rt,it,st){let bt,wt;for(bt=0;bt<nt.length;bt++)for(wt=0;wt<rt.length;wt++)addSingleLink(nt[bt],rt[wt],it,st)},updateLinkInterpolate=function(nt,rt){nt.forEach(function(it){it==="default"?edges.defaultInterpolate=rt:edges[it].interpolate=rt})},updateLink=function(nt,rt){nt.forEach(function(it){it==="default"?edges.defaultStyle=rt:(utils.isSubstringInArray("fill",rt)===-1&&rt.push("fill:none"),edges[it].style=rt)})},addClass=function(nt,rt){classes$1[nt]===void 0&&(classes$1[nt]={id:nt,styles:[],textStyles:[]}),rt!=null&&rt.forEach(function(it){if(it.match("color")){const bt=it.replace("fill","bgFill").replace("color","fill");classes$1[nt].textStyles.push(bt)}classes$1[nt].styles.push(it)})},setDirection$1=function(nt){direction$1=nt,direction$1.match(/.*</)&&(direction$1="RL"),direction$1.match(/.*\^/)&&(direction$1="BT"),direction$1.match(/.*>/)&&(direction$1="LR"),direction$1.match(/.*v/)&&(direction$1="TB")},setClass$1=function(nt,rt){nt.split(",").forEach(function(it){let st=it;vertices[st]!==void 0&&vertices[st].classes.push(rt),subGraphLookup[st]!==void 0&&subGraphLookup[st].classes.push(rt)})},setTooltip=function(nt,rt){nt.split(",").forEach(function(it){rt!==void 0&&(tooltips[version==="gen-1"?lookUpDomId(it):it]=sanitizeText(rt))})},setClickFun$1=function(nt,rt,it){let st=lookUpDomId(nt);if(getConfig$1().securityLevel!=="loose"||rt===void 0)return;let bt=[];if(typeof it=="string"){bt=it.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let wt=0;wt<bt.length;wt++){let Et=bt[wt].trim();Et.charAt(0)==='"'&&Et.charAt(Et.length-1)==='"'&&(Et=Et.substr(1,Et.length-2)),bt[wt]=Et}}bt.length===0&&bt.push(nt),vertices[nt]!==void 0&&(vertices[nt].haveCallback=!0,funs$1.push(function(){const wt=document.querySelector(`[id="${st}"]`);wt!==null&&wt.addEventListener("click",function(){utils.runFunc(rt,...bt)},!1)}))},setLink$1=function(nt,rt,it){nt.split(",").forEach(function(st){vertices[st]!==void 0&&(vertices[st].link=utils.formatUrl(rt,config),vertices[st].linkTarget=it)}),setClass$1(nt,"clickable")},getTooltip=function(nt){return tooltips[nt]},setClickEvent$1=function(nt,rt,it){nt.split(",").forEach(function(st){setClickFun$1(st,rt,it)}),setClass$1(nt,"clickable")},bindFunctions$1=function(nt){funs$1.forEach(function(rt){rt(nt)})},getDirection$1=function(){return direction$1.trim()},getVertices=function(){return vertices},getEdges=function(){return edges},getClasses$4=function(){return classes$1},setupToolTips=function(nt){let rt=select(".mermaidTooltip");(rt._groups||rt)[0][0]===null&&(rt=select("body").append("div").attr("class","mermaidTooltip").style("opacity",0)),select(nt).select("svg").selectAll("g.node").on("mouseover",function(){const bt=select(this);if(bt.attr("title")===null)return;const Et=this.getBoundingClientRect();rt.transition().duration(200).style("opacity",".9"),rt.text(bt.attr("title")).style("left",window.scrollX+Et.left+(Et.right-Et.left)/2+"px").style("top",window.scrollY+Et.top-14+document.body.scrollTop+"px"),rt.html(rt.html().replace(/&lt;br\/&gt;/g,"<br/>")),bt.classed("hover",!0)}).on("mouseout",function(){rt.transition().duration(500).style("opacity",0),select(this).classed("hover",!1)})};funs$1.push(setupToolTips);const clear$6=function(nt="gen-1"){vertices={},classes$1={},edges=[],funs$1=[setupToolTips],subGraphs=[],subGraphLookup={},subCount=0,tooltips=[],firstGraphFlag=!0,version=nt,clear$g()},setGen=nt=>{version=nt||"gen-1"},defaultStyle=function(){return"fill:#ffa;stroke: #f66; stroke-width: 3px; stroke-dasharray: 5, 5;fill:#ffa;stroke: #666;"},addSubGraph=function(nt,rt,it){let st=nt.trim(),bt=it;nt===it&&it.match(/\s/)&&(st=void 0);function wt(Ot){const zt={boolean:{},number:{},string:{}},$t=[];let Bt;return{nodeList:Ot.filter(function(Xt){const Ht=typeof Xt;return Xt.stmt&&Xt.stmt==="dir"?(Bt=Xt.value,!1):Xt.trim()===""?!1:Ht in zt?zt[Ht].hasOwnProperty(Xt)?!1:zt[Ht][Xt]=!0:$t.includes(Xt)?!1:$t.push(Xt)}),dir:Bt}}let Et=[];const{nodeList:Tt,dir:At}=wt(Et.concat.apply(Et,rt));if(Et=Tt,version==="gen-1")for(let Ot=0;Ot<Et.length;Ot++)Et[Ot]=lookUpDomId(Et[Ot]);st=st||"subGraph"+subCount,bt=bt||"",bt=sanitizeText(bt),subCount=subCount+1;const Dt={id:st,nodes:Et,title:bt.trim(),classes:[],dir:At};return log$1.info("Adding",Dt.id,Dt.nodes,Dt.dir),Dt.nodes=makeUniq(Dt,subGraphs).nodes,subGraphs.push(Dt),subGraphLookup[st]=Dt,st},getPosForId=function(nt){for(const[rt,it]of subGraphs.entries())if(it.id===nt)return rt;return-1};let secCount=-1;const posCrossRef=[],indexNodes2=function(nt,rt){const it=subGraphs[rt].nodes;if(secCount=secCount+1,secCount>2e3)return;if(posCrossRef[secCount]=rt,subGraphs[rt].id===nt)return{result:!0,count:0};let st=0,bt=1;for(;st<it.length;){const wt=getPosForId(it[st]);if(wt>=0){const Et=indexNodes2(nt,wt);if(Et.result)return{result:!0,count:bt+Et.count};bt=bt+Et.count}st=st+1}return{result:!1,count:bt}},getDepthFirstPos=function(nt){return posCrossRef[nt]},indexNodes=function(){secCount=-1,subGraphs.length>0&&indexNodes2("none",subGraphs.length-1)},getSubGraphs=function(){return subGraphs},firstGraph=()=>firstGraphFlag?(firstGraphFlag=!1,!0):!1,destructStartLink=nt=>{let rt=nt.trim(),it="arrow_open";switch(rt[0]){case"<":it="arrow_point",rt=rt.slice(1);break;case"x":it="arrow_cross",rt=rt.slice(1);break;case"o":it="arrow_circle",rt=rt.slice(1);break}let st="normal";return rt.includes("=")&&(st="thick"),rt.includes(".")&&(st="dotted"),{type:it,stroke:st}},countChar=(nt,rt)=>{const it=rt.length;let st=0;for(let bt=0;bt<it;++bt)rt[bt]===nt&&++st;return st},destructEndLink=nt=>{const rt=nt.trim();let it=rt.slice(0,-1),st="arrow_open";switch(rt.slice(-1)){case"x":st="arrow_cross",rt[0]==="x"&&(st="double_"+st,it=it.slice(1));break;case">":st="arrow_point",rt[0]==="<"&&(st="double_"+st,it=it.slice(1));break;case"o":st="arrow_circle",rt[0]==="o"&&(st="double_"+st,it=it.slice(1));break}let bt="normal",wt=it.length-1;it[0]==="="&&(bt="thick");let Et=countChar(".",it);return Et&&(bt="dotted",wt=Et),{type:st,stroke:bt,length:wt}},destructLink=(nt,rt)=>{const it=destructEndLink(nt);let st;if(rt){if(st=destructStartLink(rt),st.stroke!==it.stroke)return{type:"INVALID",stroke:"INVALID"};if(st.type==="arrow_open")st.type=it.type;else{if(st.type!==it.type)return{type:"INVALID",stroke:"INVALID"};st.type="double_"+st.type}return st.type==="double_arrow"&&(st.type="double_arrow_point"),st.length=it.length,st}return it},exists=(nt,rt)=>{let it=!1;return nt.forEach(st=>{st.nodes.indexOf(rt)>=0&&(it=!0)}),it},makeUniq=(nt,rt)=>{const it=[];return nt.nodes.forEach((st,bt)=>{exists(rt,st)||it.push(nt.nodes[bt])}),{nodes:it}},flowDb={parseDirective:parseDirective$7,defaultConfig:()=>defaultConfig.flowchart,setAccTitle,getAccTitle,getAccDescription,setAccDescription,addVertex,lookUpDomId,addLink,updateLinkInterpolate,updateLink,addClass,setDirection:setDirection$1,setClass:setClass$1,setTooltip,getTooltip,setClickEvent:setClickEvent$1,setLink:setLink$1,bindFunctions:bindFunctions$1,getDirection:getDirection$1,getVertices,getEdges,getClasses:getClasses$4,clear:clear$6,setGen,defaultStyle,addSubGraph,getDepthFirstPos,indexNodes,getSubGraphs,destructLink,lex:{firstGraph},exists,makeUniq,setDiagramTitle,getDiagramTitle};function question(nt,rt,it){const st=rt.width,bt=rt.height,wt=(st+bt)*.9,Et=[{x:wt/2,y:0},{x:wt,y:-wt/2},{x:wt/2,y:-wt},{x:0,y:-wt/2}],Tt=insertPolygonShape(nt,wt,wt,Et);return it.intersect=function(At){return intersectPolygon$1(it,Et,At)},Tt}function hexagon(nt,rt,it){const bt=rt.height,wt=bt/4,Et=rt.width+2*wt,Tt=[{x:wt,y:0},{x:Et-wt,y:0},{x:Et,y:-bt/2},{x:Et-wt,y:-bt},{x:wt,y:-bt},{x:0,y:-bt/2}],At=insertPolygonShape(nt,Et,bt,Tt);return it.intersect=function(Dt){return intersectPolygon$1(it,Tt,Dt)},At}function rect_left_inv_arrow(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:-bt/2,y:0},{x:st,y:0},{x:st,y:-bt},{x:-bt/2,y:-bt},{x:0,y:-bt/2}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function lean_right(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:-2*bt/6,y:0},{x:st-bt/6,y:0},{x:st+2*bt/6,y:-bt},{x:bt/6,y:-bt}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function lean_left(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:2*bt/6,y:0},{x:st+bt/6,y:0},{x:st-2*bt/6,y:-bt},{x:-bt/6,y:-bt}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function trapezoid(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:-2*bt/6,y:0},{x:st+2*bt/6,y:0},{x:st-bt/6,y:-bt},{x:bt/6,y:-bt}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function inv_trapezoid(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:bt/6,y:0},{x:st-bt/6,y:0},{x:st+2*bt/6,y:-bt},{x:-2*bt/6,y:-bt}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function rect_right_inv_arrow(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:0,y:0},{x:st+bt/2,y:0},{x:st,y:-bt/2},{x:st+bt/2,y:-bt},{x:0,y:-bt}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function stadium(nt,rt,it){const st=rt.height,bt=rt.width+st/4,wt=nt.insert("rect",":first-child").attr("rx",st/2).attr("ry",st/2).attr("x",-bt/2).attr("y",-st/2).attr("width",bt).attr("height",st);return it.intersect=function(Et){return intersectRect$2(it,Et)},wt}function subroutine(nt,rt,it){const st=rt.width,bt=rt.height,wt=[{x:0,y:0},{x:st,y:0},{x:st,y:-bt},{x:0,y:-bt},{x:0,y:0},{x:-8,y:0},{x:st+8,y:0},{x:st+8,y:-bt},{x:-8,y:-bt},{x:-8,y:0}],Et=insertPolygonShape(nt,st,bt,wt);return it.intersect=function(Tt){return intersectPolygon$1(it,wt,Tt)},Et}function cylinder(nt,rt,it){const st=rt.width,bt=st/2,wt=bt/(2.5+st/50),Et=rt.height+wt,Tt="M 0,"+wt+" a "+bt+","+wt+" 0,0,0 "+st+" 0 a "+bt+","+wt+" 0,0,0 "+-st+" 0 l 0,"+Et+" a "+bt+","+wt+" 0,0,0 "+st+" 0 l 0,"+-Et,At=nt.attr("label-offset-y",wt).insert("path",":first-child").attr("d",Tt).attr("transform","translate("+-st/2+","+-(Et/2+wt)+")");return it.intersect=function(Dt){const Ot=intersectRect$2(it,Dt),zt=Ot.x-it.x;if(bt!=0&&(Math.abs(zt)<it.width/2||Math.abs(zt)==it.width/2&&Math.abs(Ot.y-it.y)>it.height/2-wt)){let $t=wt*wt*(1-zt*zt/(bt*bt));$t!=0&&($t=Math.sqrt($t)),$t=wt-$t,Dt.y-it.y>0&&($t=-$t),Ot.y+=$t}return Ot},At}function addToRender(nt){nt.shapes().question=question,nt.shapes().hexagon=hexagon,nt.shapes().stadium=stadium,nt.shapes().subroutine=subroutine,nt.shapes().cylinder=cylinder,nt.shapes().rect_left_inv_arrow=rect_left_inv_arrow,nt.shapes().lean_right=lean_right,nt.shapes().lean_left=lean_left,nt.shapes().trapezoid=trapezoid,nt.shapes().inv_trapezoid=inv_trapezoid,nt.shapes().rect_right_inv_arrow=rect_right_inv_arrow}function addToRenderV2(nt){nt({question}),nt({hexagon}),nt({stadium}),nt({subroutine}),nt({cylinder}),nt({rect_left_inv_arrow}),nt({lean_right}),nt({lean_left}),nt({trapezoid}),nt({inv_trapezoid}),nt({rect_right_inv_arrow})}function insertPolygonShape(nt,rt,it,st){return nt.insert("polygon",":first-child").attr("points",st.map(function(bt){return bt.x+","+bt.y}).join(" ")).attr("transform","translate("+-rt/2+","+it/2+")")}const flowChartShapes={addToRender,addToRenderV2},conf$7={},setConf$7=function(nt){const rt=Object.keys(nt);for(const it of rt)conf$7[it]=nt[it]},addVertices$1=function(nt,rt,it,st,bt,wt){const Et=st?st.select(`[id="${it}"]`):select(`[id="${it}"]`),Tt=bt||document;Object.keys(nt).forEach(function(Dt){const Ot=nt[Dt];let zt="default";Ot.classes.length>0&&(zt=Ot.classes.join(" "));const $t=getStylesFromArray(Ot.styles);let Bt=Ot.text!==void 0?Ot.text:Ot.id,Yt;if(evaluate(getConfig$1().flowchart.htmlLabels)){const Qt={label:Bt.replace(/fa[blrs]?:fa-[\w-]+/g,Zt=>`<i class='${Zt.replace(":"," ")}'></i>`)};Yt=addHtmlLabel$1(Et,Qt).node(),Yt.parentNode.removeChild(Yt)}else{const Qt=Tt.createElementNS("http://www.w3.org/2000/svg","text");Qt.setAttribute("style",$t.labelStyle.replace("color:","fill:"));const Zt=Bt.split(common$1.lineBreakRegex);for(const nn of Zt){const Kt=Tt.createElementNS("http://www.w3.org/2000/svg","tspan");Kt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Kt.setAttribute("dy","1em"),Kt.setAttribute("x","1"),Kt.textContent=nn,Qt.appendChild(Kt)}Yt=Qt}let Xt=0,Ht="";switch(Ot.type){case"round":Xt=5,Ht="rect";break;case"square":Ht="rect";break;case"diamond":Ht="question";break;case"hexagon":Ht="hexagon";break;case"odd":Ht="rect_left_inv_arrow";break;case"lean_right":Ht="lean_right";break;case"lean_left":Ht="lean_left";break;case"trapezoid":Ht="trapezoid";break;case"inv_trapezoid":Ht="inv_trapezoid";break;case"odd_right":Ht="rect_left_inv_arrow";break;case"circle":Ht="circle";break;case"ellipse":Ht="ellipse";break;case"stadium":Ht="stadium";break;case"subroutine":Ht="subroutine";break;case"cylinder":Ht="cylinder";break;case"group":Ht="rect";break;default:Ht="rect"}log$1.warn("Adding node",Ot.id,Ot.domId),rt.setNode(wt.db.lookUpDomId(Ot.id),{labelType:"svg",labelStyle:$t.labelStyle,shape:Ht,label:Yt,rx:Xt,ry:Xt,class:zt,style:$t.style,id:wt.db.lookUpDomId(Ot.id)})})},addEdges$1=function(nt,rt,it){let st=0,bt,wt;if(nt.defaultStyle!==void 0){const Et=getStylesFromArray(nt.defaultStyle);bt=Et.style,wt=Et.labelStyle}nt.forEach(function(Et){st++;var Tt="L-"+Et.start+"-"+Et.end,At="LS-"+Et.start,Dt="LE-"+Et.end;const Ot={};Et.type==="arrow_open"?Ot.arrowhead="none":Ot.arrowhead="normal";let zt="",$t="";if(Et.style!==void 0){const Bt=getStylesFromArray(Et.style);zt=Bt.style,$t=Bt.labelStyle}else switch(Et.stroke){case"normal":zt="fill:none",bt!==void 0&&(zt=bt),wt!==void 0&&($t=wt);break;case"dotted":zt="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":zt=" stroke-width: 3.5px;fill:none";break}Ot.style=zt,Ot.labelStyle=$t,Et.interpolate!==void 0?Ot.curve=interpolateToCurve(Et.interpolate,curveLinear):nt.defaultInterpolate!==void 0?Ot.curve=interpolateToCurve(nt.defaultInterpolate,curveLinear):Ot.curve=interpolateToCurve(conf$7.curve,curveLinear),Et.text===void 0?Et.style!==void 0&&(Ot.arrowheadStyle="fill: #333"):(Ot.arrowheadStyle="fill: #333",Ot.labelpos="c",evaluate(getConfig$1().flowchart.htmlLabels)?(Ot.labelType="html",Ot.label=`<span id="L-${Tt}" class="edgeLabel L-${At}' L-${Dt}" style="${Ot.labelStyle}">${Et.text.replace(/fa[blrs]?:fa-[\w-]+/g,Bt=>`<i class='${Bt.replace(":"," ")}'></i>`)}</span>`):(Ot.labelType="text",Ot.label=Et.text.replace(common$1.lineBreakRegex,`
`),Et.style===void 0&&(Ot.style=Ot.style||"stroke: #333; stroke-width: 1.5px;fill:none"),Ot.labelStyle=Ot.labelStyle.replace("color:","fill:"))),Ot.id=Tt,Ot.class=At+" "+Dt,Ot.minlen=Et.length||1,rt.setEdge(it.db.lookUpDomId(Et.start),it.db.lookUpDomId(Et.end),Ot,st)})},getClasses$3=function(nt,rt){log$1.info("Extracting classes"),rt.db.clear();try{return rt.parse(nt),rt.db.getClasses()}catch(it){return log$1.error(it),{}}},draw$a=function(nt,rt,it,st){log$1.info("Drawing flowchart"),st.db.clear();const{securityLevel:bt,flowchart:wt}=getConfig$1();let Et;bt==="sandbox"&&(Et=select("#i"+rt));const Tt=select(bt==="sandbox"?Et.nodes()[0].contentDocument.body:"body"),At=bt==="sandbox"?Et.nodes()[0].contentDocument:document;try{st.parser.parse(nt)}catch{log$1.debug("Parsing failed")}let Dt=st.db.getDirection();Dt===void 0&&(Dt="TD");const Ot=wt.nodeSpacing||50,zt=wt.rankSpacing||50,$t=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:Dt,nodesep:Ot,ranksep:zt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});let Bt;const Yt=st.db.getSubGraphs();for(let sn=Yt.length-1;sn>=0;sn--)Bt=Yt[sn],st.db.addVertex(Bt.id,Bt.title,"group",void 0,Bt.classes);const Xt=st.db.getVertices();log$1.warn("Get vertices",Xt);const Ht=st.db.getEdges();let Qt=0;for(Qt=Yt.length-1;Qt>=0;Qt--){Bt=Yt[Qt],selectAll("cluster").append("text");for(let sn=0;sn<Bt.nodes.length;sn++)log$1.warn("Setting subgraph",Bt.nodes[sn],st.db.lookUpDomId(Bt.nodes[sn]),st.db.lookUpDomId(Bt.id)),$t.setParent(st.db.lookUpDomId(Bt.nodes[sn]),st.db.lookUpDomId(Bt.id))}addVertices$1(Xt,$t,rt,Tt,At,st),addEdges$1(Ht,$t,st);const Zt=new render$2;flowChartShapes.addToRender(Zt),Zt.arrows().none=function(bn,wn,Mn,Sn){const gn=bn.append("marker").attr("id",wn).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 0 0 L 0 0 z");applyStyle$1(gn,Mn[Sn+"Style"])},Zt.arrows().normal=function(bn,wn){bn.append("marker").attr("id",wn).attr("viewBox","0 0 10 10").attr("refX",9).attr("refY",5).attr("markerUnits","strokeWidth").attr("markerWidth",8).attr("markerHeight",6).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z").attr("class","arrowheadPath").style("stroke-width",1).style("stroke-dasharray","1,0")};const nn=Tt.select(`[id="${rt}"]`),Kt=Tt.select("#"+rt+" g");for(Zt(Kt,$t),Kt.selectAll("g.node").attr("title",function(){return st.db.getTooltip(this.id)}),st.db.indexNodes("subGraph"+Qt),Qt=0;Qt<Yt.length;Qt++)if(Bt=Yt[Qt],Bt.title!=="undefined"){const sn=At.querySelectorAll("#"+rt+' [id="'+st.db.lookUpDomId(Bt.id)+'"] rect'),bn=At.querySelectorAll("#"+rt+' [id="'+st.db.lookUpDomId(Bt.id)+'"]'),wn=sn[0].x.baseVal.value,Mn=sn[0].y.baseVal.value,Sn=sn[0].width.baseVal.value,gn=select(bn[0]).select(".label");gn.attr("transform",`translate(${wn+Sn/2}, ${Mn+14})`),gn.attr("id",rt+"Text");for(let Un=0;Un<Bt.classes.length;Un++)bn[0].classList.add(Bt.classes[Un])}if(!wt.htmlLabels){const sn=At.querySelectorAll('[id="'+rt+'"] .edgeLabel .label');for(const bn of sn){const wn=bn.getBBox(),Mn=At.createElementNS("http://www.w3.org/2000/svg","rect");Mn.setAttribute("rx",0),Mn.setAttribute("ry",0),Mn.setAttribute("width",wn.width),Mn.setAttribute("height",wn.height),bn.insertBefore(Mn,bn.firstChild)}}setupGraphViewbox$1($t,nn,wt.diagramPadding,wt.useMaxWidth),Object.keys(Xt).forEach(function(sn){const bn=Xt[sn];if(bn.link){const wn=Tt.select("#"+rt+' [id="'+st.db.lookUpDomId(sn)+'"]');if(wn){const Mn=At.createElementNS("http://www.w3.org/2000/svg","a");Mn.setAttributeNS("http://www.w3.org/2000/svg","class",bn.classes.join(" ")),Mn.setAttributeNS("http://www.w3.org/2000/svg","href",bn.link),Mn.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),bt==="sandbox"?Mn.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):bn.linkTarget&&Mn.setAttributeNS("http://www.w3.org/2000/svg","target",bn.linkTarget);const Sn=wn.insert(function(){return Mn},":first-child"),Dn=wn.select(".label-container");Dn&&Sn.append(function(){return Dn.node()});const gn=wn.select(".label");gn&&Sn.append(function(){return gn.node()})}}})},flowRenderer={setConf:setConf$7,addVertices:addVertices$1,addEdges:addEdges$1,getClasses:getClasses$3,draw:draw$a},conf$6={},setConf$6=function(nt){const rt=Object.keys(nt);for(const it of rt)conf$6[it]=nt[it]},addVertices=function(nt,rt,it,st,bt,wt){const Et=st.select(`[id="${it}"]`);Object.keys(nt).forEach(function(At){const Dt=nt[At];let Ot="default";Dt.classes.length>0&&(Ot=Dt.classes.join(" "));const zt=getStylesFromArray(Dt.styles);let $t=Dt.text!==void 0?Dt.text:Dt.id,Bt;if(evaluate(getConfig$1().flowchart.htmlLabels)){const Ht={label:$t.replace(/fa[blrs]?:fa-[\w-]+/g,Qt=>`<i class='${Qt.replace(":"," ")}'></i>`)};Bt=addHtmlLabel$1(Et,Ht).node(),Bt.parentNode.removeChild(Bt)}else{const Ht=bt.createElementNS("http://www.w3.org/2000/svg","text");Ht.setAttribute("style",zt.labelStyle.replace("color:","fill:"));const Qt=$t.split(common$1.lineBreakRegex);for(const Zt of Qt){const nn=bt.createElementNS("http://www.w3.org/2000/svg","tspan");nn.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),nn.setAttribute("dy","1em"),nn.setAttribute("x","1"),nn.textContent=Zt,Ht.appendChild(nn)}Bt=Ht}let Yt=0,Xt="";switch(Dt.type){case"round":Yt=5,Xt="rect";break;case"square":Xt="rect";break;case"diamond":Xt="question";break;case"hexagon":Xt="hexagon";break;case"odd":Xt="rect_left_inv_arrow";break;case"lean_right":Xt="lean_right";break;case"lean_left":Xt="lean_left";break;case"trapezoid":Xt="trapezoid";break;case"inv_trapezoid":Xt="inv_trapezoid";break;case"odd_right":Xt="rect_left_inv_arrow";break;case"circle":Xt="circle";break;case"ellipse":Xt="ellipse";break;case"stadium":Xt="stadium";break;case"subroutine":Xt="subroutine";break;case"cylinder":Xt="cylinder";break;case"group":Xt="rect";break;case"doublecircle":Xt="doublecircle";break;default:Xt="rect"}rt.setNode(Dt.id,{labelStyle:zt.labelStyle,shape:Xt,labelText:$t,rx:Yt,ry:Yt,class:Ot,style:zt.style,id:Dt.id,link:Dt.link,linkTarget:Dt.linkTarget,tooltip:wt.db.getTooltip(Dt.id)||"",domId:wt.db.lookUpDomId(Dt.id),haveCallback:Dt.haveCallback,width:Dt.type==="group"?500:void 0,dir:Dt.dir,type:Dt.type,props:Dt.props,padding:getConfig$1().flowchart.padding}),log$1.info("setNode",{labelStyle:zt.labelStyle,shape:Xt,labelText:$t,rx:Yt,ry:Yt,class:Ot,style:zt.style,id:Dt.id,domId:wt.db.lookUpDomId(Dt.id),width:Dt.type==="group"?500:void 0,type:Dt.type,dir:Dt.dir,props:Dt.props,padding:getConfig$1().flowchart.padding})})},addEdges=function(nt,rt,it){log$1.info("abc78 edges = ",nt);let st=0,bt={},wt,Et;if(nt.defaultStyle!==void 0){const Tt=getStylesFromArray(nt.defaultStyle);wt=Tt.style,Et=Tt.labelStyle}nt.forEach(function(Tt){st++;var At="L-"+Tt.start+"-"+Tt.end;bt[At]===void 0?(bt[At]=0,log$1.info("abc78 new entry",At,bt[At])):(bt[At]++,log$1.info("abc78 new entry",At,bt[At]));let Dt=At+"-"+bt[At];log$1.info("abc78 new link id to be used is",At,Dt,bt[At]);var Ot="LS-"+Tt.start,zt="LE-"+Tt.end;const $t={style:"",labelStyle:""};switch($t.minlen=Tt.length||1,Tt.type==="arrow_open"?$t.arrowhead="none":$t.arrowhead="normal",$t.arrowTypeStart="arrow_open",$t.arrowTypeEnd="arrow_open",Tt.type){case"double_arrow_cross":$t.arrowTypeStart="arrow_cross";case"arrow_cross":$t.arrowTypeEnd="arrow_cross";break;case"double_arrow_point":$t.arrowTypeStart="arrow_point";case"arrow_point":$t.arrowTypeEnd="arrow_point";break;case"double_arrow_circle":$t.arrowTypeStart="arrow_circle";case"arrow_circle":$t.arrowTypeEnd="arrow_circle";break}let Bt="",Yt="";switch(Tt.stroke){case"normal":Bt="fill:none;",wt!==void 0&&(Bt=wt),Et!==void 0&&(Yt=Et),$t.thickness="normal",$t.pattern="solid";break;case"dotted":$t.thickness="normal",$t.pattern="dotted",$t.style="fill:none;stroke-width:2px;stroke-dasharray:3;";break;case"thick":$t.thickness="thick",$t.pattern="solid",$t.style="stroke-width: 3.5px;fill:none;";break}if(Tt.style!==void 0){const Xt=getStylesFromArray(Tt.style);Bt=Xt.style,Yt=Xt.labelStyle}$t.style=$t.style+=Bt,$t.labelStyle=$t.labelStyle+=Yt,Tt.interpolate!==void 0?$t.curve=interpolateToCurve(Tt.interpolate,curveLinear):nt.defaultInterpolate!==void 0?$t.curve=interpolateToCurve(nt.defaultInterpolate,curveLinear):$t.curve=interpolateToCurve(conf$6.curve,curveLinear),Tt.text===void 0?Tt.style!==void 0&&($t.arrowheadStyle="fill: #333"):($t.arrowheadStyle="fill: #333",$t.labelpos="c"),$t.labelType="text",$t.label=Tt.text.replace(common$1.lineBreakRegex,`
`),Tt.style===void 0&&($t.style=$t.style||"stroke: #333; stroke-width: 1.5px;fill:none;"),$t.labelStyle=$t.labelStyle.replace("color:","fill:"),$t.id=Dt,$t.classes="flowchart-link "+Ot+" "+zt,rt.setEdge(Tt.start,Tt.end,$t,st)})},getClasses$2=function(nt,rt){log$1.info("Extracting classes"),rt.db.clear();try{return rt.parse(nt),rt.db.getClasses()}catch{return}},draw$9=function(nt,rt,it,st){log$1.info("Drawing flowchart"),st.db.clear(),flowDb.setGen("gen-2"),st.parser.parse(nt);let bt=st.db.getDirection();bt===void 0&&(bt="TD");const{securityLevel:wt,flowchart:Et}=getConfig$1(),Tt=Et.nodeSpacing||50,At=Et.rankSpacing||50;let Dt;wt==="sandbox"&&(Dt=select("#i"+rt));const Ot=select(wt==="sandbox"?Dt.nodes()[0].contentDocument.body:"body"),zt=wt==="sandbox"?Dt.nodes()[0].contentDocument:document,$t=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:bt,nodesep:Tt,ranksep:At,marginx:0,marginy:0}).setDefaultEdgeLabel(function(){return{}});let Bt;const Yt=st.db.getSubGraphs();log$1.info("Subgraphs - ",Yt);for(let ln=Yt.length-1;ln>=0;ln--)Bt=Yt[ln],log$1.info("Subgraph - ",Bt),st.db.addVertex(Bt.id,Bt.title,"group",void 0,Bt.classes,Bt.dir);const Xt=st.db.getVertices(),Ht=st.db.getEdges();log$1.info(Ht);let Qt=0;for(Qt=Yt.length-1;Qt>=0;Qt--){Bt=Yt[Qt],selectAll("cluster").append("text");for(let ln=0;ln<Bt.nodes.length;ln++)log$1.info("Setting up subgraphs",Bt.nodes[ln],Bt.id),$t.setParent(Bt.nodes[ln],Bt.id)}addVertices(Xt,$t,rt,Ot,zt,st),addEdges(Ht,$t);const Zt=Ot.select(`[id="${rt}"]`),nn=Ot.select("#"+rt+" g");if(render$1(nn,$t,["point","circle","cross"],"flowchart",rt),utils.insertTitle(Zt,"flowchartTitleText",Et.titleTopMargin,st.db.getDiagramTitle()),setupGraphViewbox$1($t,Zt,Et.diagramPadding,Et.useMaxWidth),st.db.indexNodes("subGraph"+Qt),!Et.htmlLabels){const ln=zt.querySelectorAll('[id="'+rt+'"] .edgeLabel .label');for(const sn of ln){const bn=sn.getBBox(),wn=zt.createElementNS("http://www.w3.org/2000/svg","rect");wn.setAttribute("rx",0),wn.setAttribute("ry",0),wn.setAttribute("width",bn.width),wn.setAttribute("height",bn.height),sn.insertBefore(wn,sn.firstChild)}}Object.keys(Xt).forEach(function(ln){const sn=Xt[ln];if(sn.link){const bn=select("#"+rt+' [id="'+ln+'"]');if(bn){const wn=zt.createElementNS("http://www.w3.org/2000/svg","a");wn.setAttributeNS("http://www.w3.org/2000/svg","class",sn.classes.join(" ")),wn.setAttributeNS("http://www.w3.org/2000/svg","href",sn.link),wn.setAttributeNS("http://www.w3.org/2000/svg","rel","noopener"),wt==="sandbox"?wn.setAttributeNS("http://www.w3.org/2000/svg","target","_top"):sn.linkTarget&&wn.setAttributeNS("http://www.w3.org/2000/svg","target",sn.linkTarget);const Mn=bn.insert(function(){return wn},":first-child"),Sn=bn.select(".label-container");Sn&&Mn.append(function(){return Sn.node()});const Dn=bn.select(".label");Dn&&Mn.append(function(){return Dn.node()})}}})},flowRendererV2={setConf:setConf$6,addVertices,addEdges,getClasses:getClasses$2,draw:draw$9};var parser$6=function(){var nt=function(wn,Mn,Sn,Dn){for(Sn=Sn||{},Dn=wn.length;Dn--;Sn[wn[Dn]]=Mn);return Sn},rt=[1,3],it=[1,5],st=[7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],bt=[1,15],wt=[1,16],Et=[1,17],Tt=[1,18],At=[1,19],Dt=[1,20],Ot=[1,21],zt=[1,22],$t=[1,23],Bt=[1,24],Yt=[1,25],Xt=[1,26],Ht=[1,27],Qt=[1,29],Zt=[1,31],nn=[1,34],Kt=[5,7,9,11,12,13,14,15,16,17,18,19,20,21,23,25,26,28,35,40],ln={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,gantt:5,document:6,EOF:7,line:8,SPACE:9,statement:10,NL:11,dateFormat:12,inclusiveEndDates:13,topAxis:14,axisFormat:15,tickInterval:16,excludes:17,includes:18,todayMarker:19,title:20,acc_title:21,acc_title_value:22,acc_descr:23,acc_descr_value:24,acc_descr_multiline_value:25,section:26,clickStatement:27,taskTxt:28,taskData:29,openDirective:30,typeDirective:31,closeDirective:32,":":33,argDirective:34,click:35,callbackname:36,callbackargs:37,href:38,clickStatementDebug:39,open_directive:40,type_directive:41,arg_directive:42,close_directive:43,$accept:0,$end:1},terminals_:{2:"error",5:"gantt",7:"EOF",9:"SPACE",11:"NL",12:"dateFormat",13:"inclusiveEndDates",14:"topAxis",15:"axisFormat",16:"tickInterval",17:"excludes",18:"includes",19:"todayMarker",20:"title",21:"acc_title",22:"acc_title_value",23:"acc_descr",24:"acc_descr_value",25:"acc_descr_multiline_value",26:"section",28:"taskTxt",29:"taskData",33:":",35:"click",36:"callbackname",37:"callbackargs",38:"href",40:"open_directive",41:"type_directive",42:"arg_directive",43:"close_directive"},productions_:[0,[3,2],[3,3],[6,0],[6,2],[8,2],[8,1],[8,1],[8,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,1],[10,2],[10,2],[10,1],[10,1],[10,1],[10,2],[10,1],[4,4],[4,6],[27,2],[27,3],[27,3],[27,4],[27,3],[27,4],[27,2],[39,2],[39,3],[39,3],[39,4],[39,3],[39,4],[39,2],[30,1],[31,1],[34,1],[32,1]],performAction:function(Mn,Sn,Dn,gn,Un,pn,yr){var xn=pn.length-1;switch(Un){case 2:return pn[xn-1];case 3:this.$=[];break;case 4:pn[xn-1].push(pn[xn]),this.$=pn[xn-1];break;case 5:case 6:this.$=pn[xn];break;case 7:case 8:this.$=[];break;case 9:gn.setDateFormat(pn[xn].substr(11)),this.$=pn[xn].substr(11);break;case 10:gn.enableInclusiveEndDates(),this.$=pn[xn].substr(18);break;case 11:gn.TopAxis(),this.$=pn[xn].substr(8);break;case 12:gn.setAxisFormat(pn[xn].substr(11)),this.$=pn[xn].substr(11);break;case 13:gn.setTickInterval(pn[xn].substr(13)),this.$=pn[xn].substr(13);break;case 14:gn.setExcludes(pn[xn].substr(9)),this.$=pn[xn].substr(9);break;case 15:gn.setIncludes(pn[xn].substr(9)),this.$=pn[xn].substr(9);break;case 16:gn.setTodayMarker(pn[xn].substr(12)),this.$=pn[xn].substr(12);break;case 17:gn.setDiagramTitle(pn[xn].substr(6)),this.$=pn[xn].substr(6);break;case 18:this.$=pn[xn].trim(),gn.setAccTitle(this.$);break;case 19:case 20:this.$=pn[xn].trim(),gn.setAccDescription(this.$);break;case 21:gn.addSection(pn[xn].substr(8)),this.$=pn[xn].substr(8);break;case 23:gn.addTask(pn[xn-1],pn[xn]),this.$="task";break;case 27:this.$=pn[xn-1],gn.setClickEvent(pn[xn-1],pn[xn],null);break;case 28:this.$=pn[xn-2],gn.setClickEvent(pn[xn-2],pn[xn-1],pn[xn]);break;case 29:this.$=pn[xn-2],gn.setClickEvent(pn[xn-2],pn[xn-1],null),gn.setLink(pn[xn-2],pn[xn]);break;case 30:this.$=pn[xn-3],gn.setClickEvent(pn[xn-3],pn[xn-2],pn[xn-1]),gn.setLink(pn[xn-3],pn[xn]);break;case 31:this.$=pn[xn-2],gn.setClickEvent(pn[xn-2],pn[xn],null),gn.setLink(pn[xn-2],pn[xn-1]);break;case 32:this.$=pn[xn-3],gn.setClickEvent(pn[xn-3],pn[xn-1],pn[xn]),gn.setLink(pn[xn-3],pn[xn-2]);break;case 33:this.$=pn[xn-1],gn.setLink(pn[xn-1],pn[xn]);break;case 34:case 40:this.$=pn[xn-1]+" "+pn[xn];break;case 35:case 36:case 38:this.$=pn[xn-2]+" "+pn[xn-1]+" "+pn[xn];break;case 37:case 39:this.$=pn[xn-3]+" "+pn[xn-2]+" "+pn[xn-1]+" "+pn[xn];break;case 41:gn.parseDirective("%%{","open_directive");break;case 42:gn.parseDirective(pn[xn],"type_directive");break;case 43:pn[xn]=pn[xn].trim().replace(/'/g,'"'),gn.parseDirective(pn[xn],"arg_directive");break;case 44:gn.parseDirective("}%%","close_directive","gantt");break}},table:[{3:1,4:2,5:rt,30:4,40:it},{1:[3]},{3:6,4:2,5:rt,30:4,40:it},nt(st,[2,3],{6:7}),{31:8,41:[1,9]},{41:[2,41]},{1:[2,1]},{4:30,7:[1,10],8:11,9:[1,12],10:13,11:[1,14],12:bt,13:wt,14:Et,15:Tt,16:At,17:Dt,18:Ot,19:zt,20:$t,21:Bt,23:Yt,25:Xt,26:Ht,27:28,28:Qt,30:4,35:Zt,40:it},{32:32,33:[1,33],43:nn},nt([33,43],[2,42]),nt(st,[2,8],{1:[2,2]}),nt(st,[2,4]),{4:30,10:35,12:bt,13:wt,14:Et,15:Tt,16:At,17:Dt,18:Ot,19:zt,20:$t,21:Bt,23:Yt,25:Xt,26:Ht,27:28,28:Qt,30:4,35:Zt,40:it},nt(st,[2,6]),nt(st,[2,7]),nt(st,[2,9]),nt(st,[2,10]),nt(st,[2,11]),nt(st,[2,12]),nt(st,[2,13]),nt(st,[2,14]),nt(st,[2,15]),nt(st,[2,16]),nt(st,[2,17]),{22:[1,36]},{24:[1,37]},nt(st,[2,20]),nt(st,[2,21]),nt(st,[2,22]),{29:[1,38]},nt(st,[2,24]),{36:[1,39],38:[1,40]},{11:[1,41]},{34:42,42:[1,43]},{11:[2,44]},nt(st,[2,5]),nt(st,[2,18]),nt(st,[2,19]),nt(st,[2,23]),nt(st,[2,27],{37:[1,44],38:[1,45]}),nt(st,[2,33],{36:[1,46]}),nt(Kt,[2,25]),{32:47,43:nn},{43:[2,43]},nt(st,[2,28],{38:[1,48]}),nt(st,[2,29]),nt(st,[2,31],{37:[1,49]}),{11:[1,50]},nt(st,[2,30]),nt(st,[2,32]),nt(Kt,[2,26])],defaultActions:{5:[2,41],6:[2,1],34:[2,44],43:[2,43]},parseError:function(Mn,Sn){if(Sn.recoverable)this.trace(Mn);else{var Dn=new Error(Mn);throw Dn.hash=Sn,Dn}},parse:function(Mn){var Sn=this,Dn=[0],gn=[],Un=[null],pn=[],yr=this.table,xn="",Mr=0,fr=0,cr=2,Gn=1,lr=pn.slice.call(arguments,1),ur=Object.create(this.lexer),vr={yy:{}};for(var Ir in this.yy)Object.prototype.hasOwnProperty.call(this.yy,Ir)&&(vr.yy[Ir]=this.yy[Ir]);ur.setInput(Mn,vr.yy),vr.yy.lexer=ur,vr.yy.parser=this,typeof ur.yylloc>"u"&&(ur.yylloc={});var Pr=ur.yylloc;pn.push(Pr);var _r=ur.options&&ur.options.ranges;typeof vr.yy.parseError=="function"?this.parseError=vr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function tr(){var Er;return Er=gn.pop()||ur.lex()||Gn,typeof Er!="number"&&(Er instanceof Array&&(gn=Er,Er=gn.pop()),Er=Sn.symbols_[Er]||Er),Er}for(var qn,mr,br,hr,An={},rn,vn,hn,zn;;){if(mr=Dn[Dn.length-1],this.defaultActions[mr]?br=this.defaultActions[mr]:((qn===null||typeof qn>"u")&&(qn=tr()),br=yr[mr]&&yr[mr][qn]),typeof br>"u"||!br.length||!br[0]){var On="";zn=[];for(rn in yr[mr])this.terminals_[rn]&&rn>cr&&zn.push("'"+this.terminals_[rn]+"'");ur.showPosition?On="Parse error on line "+(Mr+1)+`:
`+ur.showPosition()+`
Expecting `+zn.join(", ")+", got '"+(this.terminals_[qn]||qn)+"'":On="Parse error on line "+(Mr+1)+": Unexpected "+(qn==Gn?"end of input":"'"+(this.terminals_[qn]||qn)+"'"),this.parseError(On,{text:ur.match,token:this.terminals_[qn]||qn,line:ur.yylineno,loc:Pr,expected:zn})}if(br[0]instanceof Array&&br.length>1)throw new Error("Parse Error: multiple actions possible at state: "+mr+", token: "+qn);switch(br[0]){case 1:Dn.push(qn),Un.push(ur.yytext),pn.push(ur.yylloc),Dn.push(br[1]),qn=null,fr=ur.yyleng,xn=ur.yytext,Mr=ur.yylineno,Pr=ur.yylloc;break;case 2:if(vn=this.productions_[br[1]][1],An.$=Un[Un.length-vn],An._$={first_line:pn[pn.length-(vn||1)].first_line,last_line:pn[pn.length-1].last_line,first_column:pn[pn.length-(vn||1)].first_column,last_column:pn[pn.length-1].last_column},_r&&(An._$.range=[pn[pn.length-(vn||1)].range[0],pn[pn.length-1].range[1]]),hr=this.performAction.apply(An,[xn,fr,Mr,vr.yy,br[1],Un,pn].concat(lr)),typeof hr<"u")return hr;vn&&(Dn=Dn.slice(0,-1*vn*2),Un=Un.slice(0,-1*vn),pn=pn.slice(0,-1*vn)),Dn.push(this.productions_[br[1]][0]),Un.push(An.$),pn.push(An._$),hn=yr[Dn[Dn.length-2]][Dn[Dn.length-1]],Dn.push(hn);break;case 3:return!0}}return!0}},sn=function(){var wn={EOF:1,parseError:function(Sn,Dn){if(this.yy.parser)this.yy.parser.parseError(Sn,Dn);else throw new Error(Sn)},setInput:function(Mn,Sn){return this.yy=Sn||this.yy||{},this._input=Mn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Mn=this._input[0];this.yytext+=Mn,this.yyleng++,this.offset++,this.match+=Mn,this.matched+=Mn;var Sn=Mn.match(/(?:\r\n?|\n).*/g);return Sn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Mn},unput:function(Mn){var Sn=Mn.length,Dn=Mn.split(/(?:\r\n?|\n)/g);this._input=Mn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Sn),this.offset-=Sn;var gn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Dn.length-1&&(this.yylineno-=Dn.length-1);var Un=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Dn?(Dn.length===gn.length?this.yylloc.first_column:0)+gn[gn.length-Dn.length].length-Dn[0].length:this.yylloc.first_column-Sn},this.options.ranges&&(this.yylloc.range=[Un[0],Un[0]+this.yyleng-Sn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Mn){this.unput(this.match.slice(Mn))},pastInput:function(){var Mn=this.matched.substr(0,this.matched.length-this.match.length);return(Mn.length>20?"...":"")+Mn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Mn=this.match;return Mn.length<20&&(Mn+=this._input.substr(0,20-Mn.length)),(Mn.substr(0,20)+(Mn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Mn=this.pastInput(),Sn=new Array(Mn.length+1).join("-");return Mn+this.upcomingInput()+`
`+Sn+"^"},test_match:function(Mn,Sn){var Dn,gn,Un;if(this.options.backtrack_lexer&&(Un={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Un.yylloc.range=this.yylloc.range.slice(0))),gn=Mn[0].match(/(?:\r\n?|\n).*/g),gn&&(this.yylineno+=gn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:gn?gn[gn.length-1].length-gn[gn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Mn[0].length},this.yytext+=Mn[0],this.match+=Mn[0],this.matches=Mn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Mn[0].length),this.matched+=Mn[0],Dn=this.performAction.call(this,this.yy,this,Sn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Dn)return Dn;if(this._backtrack){for(var pn in Un)this[pn]=Un[pn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Mn,Sn,Dn,gn;this._more||(this.yytext="",this.match="");for(var Un=this._currentRules(),pn=0;pn<Un.length;pn++)if(Dn=this._input.match(this.rules[Un[pn]]),Dn&&(!Sn||Dn[0].length>Sn[0].length)){if(Sn=Dn,gn=pn,this.options.backtrack_lexer){if(Mn=this.test_match(Dn,Un[pn]),Mn!==!1)return Mn;if(this._backtrack){Sn=!1;continue}else return!1}else if(!this.options.flex)break}return Sn?(Mn=this.test_match(Sn,Un[gn]),Mn!==!1?Mn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Sn=this.next();return Sn||this.lex()},begin:function(Sn){this.conditionStack.push(Sn)},popState:function(){var Sn=this.conditionStack.length-1;return Sn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Sn){return Sn=this.conditionStack.length-1-Math.abs(Sn||0),Sn>=0?this.conditionStack[Sn]:"INITIAL"},pushState:function(Sn){this.begin(Sn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Sn,Dn,gn,Un){switch(gn){case 0:return this.begin("open_directive"),40;case 1:return this.begin("type_directive"),41;case 2:return this.popState(),this.begin("arg_directive"),33;case 3:return this.popState(),this.popState(),43;case 4:return 42;case 5:return this.begin("acc_title"),21;case 6:return this.popState(),"acc_title_value";case 7:return this.begin("acc_descr"),23;case 8:return this.popState(),"acc_descr_value";case 9:this.begin("acc_descr_multiline");break;case 10:this.popState();break;case 11:return"acc_descr_multiline_value";case 12:break;case 13:break;case 14:break;case 15:return 11;case 16:break;case 17:break;case 18:break;case 19:this.begin("href");break;case 20:this.popState();break;case 21:return 38;case 22:this.begin("callbackname");break;case 23:this.popState();break;case 24:this.popState(),this.begin("callbackargs");break;case 25:return 36;case 26:this.popState();break;case 27:return 37;case 28:this.begin("click");break;case 29:this.popState();break;case 30:return 35;case 31:return 5;case 32:return 12;case 33:return 13;case 34:return 14;case 35:return 15;case 36:return 16;case 37:return 18;case 38:return 17;case 39:return 19;case 40:return"date";case 41:return 20;case 42:return"accDescription";case 43:return 26;case 44:return 28;case 45:return 29;case 46:return 33;case 47:return 7;case 48:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:%%(?!\{)*[^\n]*)/i,/^(?:[^\}]%%*[^\n]*)/i,/^(?:%%*[^\n]*[\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:href[\s]+["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:call[\s]+)/i,/^(?:\([\s]*\))/i,/^(?:\()/i,/^(?:[^(]*)/i,/^(?:\))/i,/^(?:[^)]*)/i,/^(?:click[\s]+)/i,/^(?:[\s\n])/i,/^(?:[^\s\n]*)/i,/^(?:gantt\b)/i,/^(?:dateFormat\s[^#\n;]+)/i,/^(?:inclusiveEndDates\b)/i,/^(?:topAxis\b)/i,/^(?:axisFormat\s[^#\n;]+)/i,/^(?:tickInterval\s[^#\n;]+)/i,/^(?:includes\s[^#\n;]+)/i,/^(?:excludes\s[^#\n;]+)/i,/^(?:todayMarker\s[^\n;]+)/i,/^(?:\d\d\d\d-\d\d-\d\d\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accDescription\s[^#\n;]+)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[10,11],inclusive:!1},acc_descr:{rules:[8],inclusive:!1},acc_title:{rules:[6],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},callbackargs:{rules:[26,27],inclusive:!1},callbackname:{rules:[23,24,25],inclusive:!1},href:{rules:[20,21],inclusive:!1},click:{rules:[29,30],inclusive:!1},INITIAL:{rules:[0,5,7,9,12,13,14,15,16,17,18,19,22,28,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48],inclusive:!0}}};return wn}();ln.lexer=sn;function bn(){this.yy={}}return bn.prototype=ln,ln.Parser=bn,new bn}();parser$6.parser=parser$6;const ganttParser=parser$6,ganttDetector=nt=>nt.match(/^\s*gantt/)!==null;let dateFormat="",axisFormat="",tickInterval,todayMarker="",includes=[],excludes=[],links={},sections$2=[],tasks$1=[],currentSection$1="";const tags=["active","done","crit","milestone"];let funs=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0;const parseDirective$6=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},clear$5=function(){sections$2=[],tasks$1=[],currentSection$1="",funs=[],taskCnt=0,lastTask=void 0,lastTaskID=void 0,rawTasks$1=[],dateFormat="",axisFormat="",tickInterval=void 0,todayMarker="",includes=[],excludes=[],inclusiveEndDates=!1,topAxis=!1,lastOrder=0,links={},clear$g()},setAxisFormat=function(nt){axisFormat=nt},getAxisFormat=function(){return axisFormat},setTickInterval=function(nt){tickInterval=nt},getTickInterval=function(){return tickInterval},setTodayMarker=function(nt){todayMarker=nt},getTodayMarker=function(){return todayMarker},setDateFormat=function(nt){dateFormat=nt},enableInclusiveEndDates=function(){inclusiveEndDates=!0},endDatesAreInclusive=function(){return inclusiveEndDates},enableTopAxis=function(){topAxis=!0},topAxisEnabled=function(){return topAxis},getDateFormat=function(){return dateFormat},setIncludes=function(nt){includes=nt.toLowerCase().split(/[\s,]+/)},getIncludes=function(){return includes},setExcludes=function(nt){excludes=nt.toLowerCase().split(/[\s,]+/)},getExcludes=function(){return excludes},getLinks=function(){return links},addSection$2=function(nt){currentSection$1=nt,sections$2.push(nt)},getSections$2=function(){return sections$2},getTasks$1=function(){let nt=compileTasks$1();const rt=10;let it=0;for(;!nt&&it<rt;)nt=compileTasks$1(),it++;return tasks$1=rawTasks$1,tasks$1},isInvalidDate=function(nt,rt,it,st){return st.includes(nt.format(rt.trim()))?!1:nt.isoWeekday()>=6&&it.includes("weekends")||it.includes(nt.format("dddd").toLowerCase())?!0:it.includes(nt.format(rt.trim()))},checkTaskDates=function(nt,rt,it,st){if(!it.length||nt.manualEndTime)return;let bt=moment(nt.startTime,rt,!0);bt.add(1,"d");let wt=moment(nt.endTime,rt,!0),Et=fixTaskDates(bt,wt,rt,it,st);nt.endTime=wt.toDate(),nt.renderEndTime=Et},fixTaskDates=function(nt,rt,it,st,bt){let wt=!1,Et=null;for(;nt<=rt;)wt||(Et=rt.toDate()),wt=isInvalidDate(nt,it,st,bt),wt&&rt.add(1,"d"),nt.add(1,"d");return Et},getStartDate=function(nt,rt,it){it=it.trim();const bt=/^after\s+([\d\w- ]+)/.exec(it.trim());if(bt!==null){let Et=null;if(bt[1].split(" ").forEach(function(Tt){let At=findTaskById(Tt);At!==void 0&&(Et?At.endTime>Et.endTime&&(Et=At):Et=At)}),Et)return Et.endTime;{const Tt=new Date;return Tt.setHours(0,0,0,0),Tt}}let wt=moment(it,rt.trim(),!0);if(wt.isValid())return wt.toDate();{log$1.debug("Invalid date:"+it),log$1.debug("With date format:"+rt.trim());const Et=new Date(it);if(Et===void 0||isNaN(Et.getTime()))throw new Error("Invalid date:"+it);return Et}},parseDuration=function(nt){const rt=/^(\d+(?:\.\d+)?)([Mdhmswy]|ms)$/.exec(nt.trim());return rt!==null?moment.duration(Number.parseFloat(rt[1]),rt[2]):moment.duration.invalid()},getEndDate=function(nt,rt,it,st=!1){it=it.trim();let bt=moment(it,rt.trim(),!0);if(bt.isValid())return st&&bt.add(1,"d"),bt.toDate();const wt=moment(nt),Et=parseDuration(it);return Et.isValid()&&wt.add(Et),wt.toDate()};let taskCnt=0;const parseId=function(nt){return nt===void 0?(taskCnt=taskCnt+1,"task"+taskCnt):nt},compileData=function(nt,rt){let it;rt.substr(0,1)===":"?it=rt.substr(1,rt.length):it=rt;const st=it.split(","),bt={};getTaskTags(st,bt,tags);for(let Et=0;Et<st.length;Et++)st[Et]=st[Et].trim();let wt="";switch(st.length){case 1:bt.id=parseId(),bt.startTime=nt.endTime,wt=st[0];break;case 2:bt.id=parseId(),bt.startTime=getStartDate(void 0,dateFormat,st[0]),wt=st[1];break;case 3:bt.id=parseId(st[0]),bt.startTime=getStartDate(void 0,dateFormat,st[1]),wt=st[2];break}return wt&&(bt.endTime=getEndDate(bt.startTime,dateFormat,wt,inclusiveEndDates),bt.manualEndTime=moment(wt,"YYYY-MM-DD",!0).isValid(),checkTaskDates(bt,dateFormat,excludes,includes)),bt},parseData=function(nt,rt){let it;rt.substr(0,1)===":"?it=rt.substr(1,rt.length):it=rt;const st=it.split(","),bt={};getTaskTags(st,bt,tags);for(let wt=0;wt<st.length;wt++)st[wt]=st[wt].trim();switch(st.length){case 1:bt.id=parseId(),bt.startTime={type:"prevTaskEnd",id:nt},bt.endTime={data:st[0]};break;case 2:bt.id=parseId(),bt.startTime={type:"getStartDate",startData:st[0]},bt.endTime={data:st[1]};break;case 3:bt.id=parseId(st[0]),bt.startTime={type:"getStartDate",startData:st[1]},bt.endTime={data:st[2]};break}return bt};let lastTask,lastTaskID,rawTasks$1=[];const taskDb={},addTask$1=function(nt,rt){const it={section:currentSection$1,type:currentSection$1,processed:!1,manualEndTime:!1,renderEndTime:null,raw:{data:rt},task:nt,classes:[]},st=parseData(lastTaskID,rt);it.raw.startTime=st.startTime,it.raw.endTime=st.endTime,it.id=st.id,it.prevTaskId=lastTaskID,it.active=st.active,it.done=st.done,it.crit=st.crit,it.milestone=st.milestone,it.order=lastOrder,lastOrder++;const bt=rawTasks$1.push(it);lastTaskID=it.id,taskDb[it.id]=bt-1},findTaskById=function(nt){const rt=taskDb[nt];return rawTasks$1[rt]},addTaskOrg$1=function(nt,rt){const it={section:currentSection$1,type:currentSection$1,description:nt,task:nt,classes:[]},st=compileData(lastTask,rt);it.startTime=st.startTime,it.endTime=st.endTime,it.id=st.id,it.active=st.active,it.done=st.done,it.crit=st.crit,it.milestone=st.milestone,lastTask=it,tasks$1.push(it)},compileTasks$1=function(){const nt=function(it){const st=rawTasks$1[it];let bt="";switch(rawTasks$1[it].raw.startTime.type){case"prevTaskEnd":{const wt=findTaskById(st.prevTaskId);st.startTime=wt.endTime;break}case"getStartDate":bt=getStartDate(void 0,dateFormat,rawTasks$1[it].raw.startTime.startData),bt&&(rawTasks$1[it].startTime=bt);break}return rawTasks$1[it].startTime&&(rawTasks$1[it].endTime=getEndDate(rawTasks$1[it].startTime,dateFormat,rawTasks$1[it].raw.endTime.data,inclusiveEndDates),rawTasks$1[it].endTime&&(rawTasks$1[it].processed=!0,rawTasks$1[it].manualEndTime=moment(rawTasks$1[it].raw.endTime.data,"YYYY-MM-DD",!0).isValid(),checkTaskDates(rawTasks$1[it],dateFormat,excludes,includes))),rawTasks$1[it].processed};let rt=!0;for(const[it,st]of rawTasks$1.entries())nt(it),rt=rt&&st.processed;return rt},setLink=function(nt,rt){let it=rt;getConfig$1().securityLevel!=="loose"&&(it=sanitizeUrl_1(rt)),nt.split(",").forEach(function(st){findTaskById(st)!==void 0&&(pushFun(st,()=>{window.open(it,"_self")}),links[st]=it)}),setClass(nt,"clickable")},setClass=function(nt,rt){nt.split(",").forEach(function(it){let st=findTaskById(it);st!==void 0&&st.classes.push(rt)})},setClickFun=function(nt,rt,it){if(getConfig$1().securityLevel!=="loose"||rt===void 0)return;let st=[];if(typeof it=="string"){st=it.split(/,(?=(?:(?:[^"]*"){2})*[^"]*$)/);for(let wt=0;wt<st.length;wt++){let Et=st[wt].trim();Et.charAt(0)==='"'&&Et.charAt(Et.length-1)==='"'&&(Et=Et.substr(1,Et.length-2)),st[wt]=Et}}st.length===0&&st.push(nt),findTaskById(nt)!==void 0&&pushFun(nt,()=>{utils.runFunc(rt,...st)})},pushFun=function(nt,rt){funs.push(function(){const it=document.querySelector(`[id="${nt}"]`);it!==null&&it.addEventListener("click",function(){rt()})},function(){const it=document.querySelector(`[id="${nt}-text"]`);it!==null&&it.addEventListener("click",function(){rt()})})},setClickEvent=function(nt,rt,it){nt.split(",").forEach(function(st){setClickFun(st,rt,it)}),setClass(nt,"clickable")},bindFunctions=function(nt){funs.forEach(function(rt){rt(nt)})},ganttDb={parseDirective:parseDirective$6,getConfig:()=>getConfig$1().gantt,clear:clear$5,setDateFormat,getDateFormat,enableInclusiveEndDates,endDatesAreInclusive,enableTopAxis,topAxisEnabled,setAxisFormat,getAxisFormat,setTickInterval,getTickInterval,setTodayMarker,getTodayMarker,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setAccDescription,getAccDescription,addSection:addSection$2,getSections:getSections$2,getTasks:getTasks$1,addTask:addTask$1,findTaskById,addTaskOrg:addTaskOrg$1,setIncludes,getIncludes,setExcludes,getExcludes,setClickEvent,setLink,getLinks,bindFunctions,parseDuration,isInvalidDate};function getTaskTags(nt,rt,it){let st=!0;for(;st;)st=!1,it.forEach(function(bt){const wt="^\\s*"+bt+"\\s*$",Et=new RegExp(wt);nt[0].match(Et)&&(rt[bt]=!0,nt.shift(1),st=!0)})}const setConf$5=function(){log$1.debug("Something is calling, setConf, remove the call")};let w;const draw$8=function(nt,rt,it,st){const bt=getConfig$1().gantt,wt=getConfig$1().securityLevel;let Et;wt==="sandbox"&&(Et=select("#i"+rt));const Tt=select(wt==="sandbox"?Et.nodes()[0].contentDocument.body:"body"),At=wt==="sandbox"?Et.nodes()[0].contentDocument:document,Dt=At.getElementById(rt);w=Dt.parentElement.offsetWidth,w===void 0&&(w=1200),bt.useWidth!==void 0&&(w=bt.useWidth);const Ot=st.db.getTasks(),zt=Ot.length*(bt.barHeight+bt.barGap)+2*bt.topPadding;Dt.setAttribute("viewBox","0 0 "+w+" "+zt);const $t=Tt.select(`[id="${rt}"]`),Bt=time$1().domain([min$2(Ot,function(Sn){return Sn.startTime}),max$2(Ot,function(Sn){return Sn.endTime})]).rangeRound([0,w-bt.leftPadding-bt.rightPadding]);let Yt=[];for(const Sn of Ot)Yt.push(Sn.type);const Xt=Yt;Yt=bn(Yt);function Ht(Sn,Dn){const gn=Sn.startTime,Un=Dn.startTime;let pn=0;return gn>Un?pn=1:gn<Un&&(pn=-1),pn}Ot.sort(Ht),Qt(Ot,w,zt),configureSvgSize($t,zt,w,bt.useMaxWidth),$t.append("text").text(st.db.getDiagramTitle()).attr("x",w/2).attr("y",bt.titleTopMargin).attr("class","titleText");function Qt(Sn,Dn,gn){const Un=bt.barHeight,pn=Un+bt.barGap,yr=bt.topPadding,xn=bt.leftPadding,Mr=linear().domain([0,Yt.length]).range(["#00B9FA","#F95002"]).interpolate(interpolateHcl);nn(pn,yr,xn,Dn,gn,Sn,st.db.getExcludes(),st.db.getIncludes()),Kt(xn,yr,Dn,gn),Zt(Sn,pn,yr,xn,Un,Mr,Dn),ln(pn,yr),sn(xn,yr,Dn,gn)}function Zt(Sn,Dn,gn,Un,pn,yr,xn){$t.append("g").selectAll("rect").data(Sn).enter().append("rect").attr("x",0).attr("y",function(Gn,lr){return lr=Gn.order,lr*Dn+gn-2}).attr("width",function(){return xn-bt.rightPadding/2}).attr("height",Dn).attr("class",function(Gn){for(const[lr,ur]of Yt.entries())if(Gn.type===ur)return"section section"+lr%bt.numberSectionStyles;return"section section0"});const Mr=$t.append("g").selectAll("rect").data(Sn).enter(),fr=st.db.getLinks();if(Mr.append("rect").attr("id",function(Gn){return Gn.id}).attr("rx",3).attr("ry",3).attr("x",function(Gn){return Gn.milestone?Bt(Gn.startTime)+Un+.5*(Bt(Gn.endTime)-Bt(Gn.startTime))-.5*pn:Bt(Gn.startTime)+Un}).attr("y",function(Gn,lr){return lr=Gn.order,lr*Dn+gn}).attr("width",function(Gn){return Gn.milestone?pn:Bt(Gn.renderEndTime||Gn.endTime)-Bt(Gn.startTime)}).attr("height",pn).attr("transform-origin",function(Gn,lr){return lr=Gn.order,(Bt(Gn.startTime)+Un+.5*(Bt(Gn.endTime)-Bt(Gn.startTime))).toString()+"px "+(lr*Dn+gn+.5*pn).toString()+"px"}).attr("class",function(Gn){const lr="task";let ur="";Gn.classes.length>0&&(ur=Gn.classes.join(" "));let vr=0;for(const[Pr,_r]of Yt.entries())Gn.type===_r&&(vr=Pr%bt.numberSectionStyles);let Ir="";return Gn.active?Gn.crit?Ir+=" activeCrit":Ir=" active":Gn.done?Gn.crit?Ir=" doneCrit":Ir=" done":Gn.crit&&(Ir+=" crit"),Ir.length===0&&(Ir=" task"),Gn.milestone&&(Ir=" milestone "+Ir),Ir+=vr,Ir+=" "+ur,lr+Ir}),Mr.append("text").attr("id",function(Gn){return Gn.id+"-text"}).text(function(Gn){return Gn.task}).attr("font-size",bt.fontSize).attr("x",function(Gn){let lr=Bt(Gn.startTime),ur=Bt(Gn.renderEndTime||Gn.endTime);Gn.milestone&&(lr+=.5*(Bt(Gn.endTime)-Bt(Gn.startTime))-.5*pn),Gn.milestone&&(ur=lr+pn);const vr=this.getBBox().width;return vr>ur-lr?ur+vr+1.5*bt.leftPadding>xn?lr+Un-5:ur+Un+5:(ur-lr)/2+lr+Un}).attr("y",function(Gn,lr){return lr=Gn.order,lr*Dn+bt.barHeight/2+(bt.fontSize/2-2)+gn}).attr("text-height",pn).attr("class",function(Gn){const lr=Bt(Gn.startTime);let ur=Bt(Gn.endTime);Gn.milestone&&(ur=lr+pn);const vr=this.getBBox().width;let Ir="";Gn.classes.length>0&&(Ir=Gn.classes.join(" "));let Pr=0;for(const[tr,qn]of Yt.entries())Gn.type===qn&&(Pr=tr%bt.numberSectionStyles);let _r="";return Gn.active&&(Gn.crit?_r="activeCritText"+Pr:_r="activeText"+Pr),Gn.done?Gn.crit?_r=_r+" doneCritText"+Pr:_r=_r+" doneText"+Pr:Gn.crit&&(_r=_r+" critText"+Pr),Gn.milestone&&(_r+=" milestoneText"),vr>ur-lr?ur+vr+1.5*bt.leftPadding>xn?Ir+" taskTextOutsideLeft taskTextOutside"+Pr+" "+_r:Ir+" taskTextOutsideRight taskTextOutside"+Pr+" "+_r+" width-"+vr:Ir+" taskText taskText"+Pr+" "+_r+" width-"+vr}),getConfig$1().securityLevel==="sandbox"){let Gn;Gn=select("#i"+rt);const lr=Gn.nodes()[0].contentDocument;Mr.filter(function(ur){return fr[ur.id]!==void 0}).each(function(ur){var vr=lr.querySelector("#"+ur.id),Ir=lr.querySelector("#"+ur.id+"-text");const Pr=vr.parentNode;var _r=lr.createElement("a");_r.setAttribute("xlink:href",fr[ur.id]),_r.setAttribute("target","_top"),Pr.appendChild(_r),_r.appendChild(vr),_r.appendChild(Ir)})}}function nn(Sn,Dn,gn,Un,pn,yr,xn,Mr){const fr=yr.reduce((Pr,{startTime:_r})=>Pr?Math.min(Pr,_r):_r,0),cr=yr.reduce((Pr,{endTime:_r})=>Pr?Math.max(Pr,_r):_r,0),Gn=st.db.getDateFormat();if(!fr||!cr)return;const lr=[];let ur=null,vr=moment(fr);for(;vr.valueOf()<=cr;)st.db.isInvalidDate(vr,Gn,xn,Mr)?ur?ur.end=vr.clone():ur={start:vr.clone(),end:vr.clone()}:ur&&(lr.push(ur),ur=null),vr.add(1,"d");$t.append("g").selectAll("rect").data(lr).enter().append("rect").attr("id",function(Pr){return"exclude-"+Pr.start.format("YYYY-MM-DD")}).attr("x",function(Pr){return Bt(Pr.start)+gn}).attr("y",bt.gridLineStartPadding).attr("width",function(Pr){const _r=Pr.end.clone().add(1,"day");return Bt(_r)-Bt(Pr.start)}).attr("height",pn-Dn-bt.gridLineStartPadding).attr("transform-origin",function(Pr,_r){return(Bt(Pr.start)+gn+.5*(Bt(Pr.end)-Bt(Pr.start))).toString()+"px "+(_r*Sn+.5*pn).toString()+"px"}).attr("class","exclude-range")}function Kt(Sn,Dn,gn,Un){let pn=axisBottom(Bt).tickSize(-Un+Dn+bt.gridLineStartPadding).tickFormat(timeFormat(st.db.getAxisFormat()||bt.axisFormat||"%Y-%m-%d"));const xn=/^([1-9]\d*)(minute|hour|day|week|month)$/.exec(st.db.getTickInterval()||bt.tickInterval);if(xn!==null){const Mr=xn[1];switch(xn[2]){case"minute":pn.ticks(timeMinute.every(Mr));break;case"hour":pn.ticks(timeHour.every(Mr));break;case"day":pn.ticks(timeDay.every(Mr));break;case"week":pn.ticks(timeSunday.every(Mr));break;case"month":pn.ticks(timeMonth.every(Mr));break}}if($t.append("g").attr("class","grid").attr("transform","translate("+Sn+", "+(Un-50)+")").call(pn).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10).attr("dy","1em"),st.db.topAxisEnabled()||bt.topAxis){let Mr=axisTop(Bt).tickSize(-Un+Dn+bt.gridLineStartPadding).tickFormat(timeFormat(st.db.getAxisFormat()||bt.axisFormat||"%Y-%m-%d"));if(xn!==null){const fr=xn[1];switch(xn[2]){case"minute":Mr.ticks(timeMinute.every(fr));break;case"hour":Mr.ticks(timeHour.every(fr));break;case"day":Mr.ticks(timeDay.every(fr));break;case"week":Mr.ticks(timeSunday.every(fr));break;case"month":Mr.ticks(timeMonth.every(fr));break}}$t.append("g").attr("class","grid").attr("transform","translate("+Sn+", "+Dn+")").call(Mr).selectAll("text").style("text-anchor","middle").attr("fill","#000").attr("stroke","none").attr("font-size",10)}}function ln(Sn,Dn){const gn=[];let Un=0;for(const[pn,yr]of Yt.entries())gn[pn]=[yr,Mn(yr,Xt)];$t.append("g").selectAll("text").data(gn).enter().append(function(pn){const yr=pn[0].split(common$1.lineBreakRegex),xn=-(yr.length-1)/2,Mr=At.createElementNS("http://www.w3.org/2000/svg","text");Mr.setAttribute("dy",xn+"em");for(const[fr,cr]of yr.entries()){const Gn=At.createElementNS("http://www.w3.org/2000/svg","tspan");Gn.setAttribute("alignment-baseline","central"),Gn.setAttribute("x","10"),fr>0&&Gn.setAttribute("dy","1em"),Gn.textContent=cr,Mr.appendChild(Gn)}return Mr}).attr("x",10).attr("y",function(pn,yr){if(yr>0)for(let xn=0;xn<yr;xn++)return Un+=gn[yr-1][1],pn[1]*Sn/2+Un*Sn+Dn;else return pn[1]*Sn/2+Dn}).attr("font-size",bt.sectionFontSize).attr("font-size",bt.sectionFontSize).attr("class",function(pn){for(const[yr,xn]of Yt.entries())if(pn[0]===xn)return"sectionTitle sectionTitle"+yr%bt.numberSectionStyles;return"sectionTitle"})}function sn(Sn,Dn,gn,Un){const pn=st.db.getTodayMarker();if(pn==="off")return;const yr=$t.append("g").attr("class","today"),xn=new Date,Mr=yr.append("line");Mr.attr("x1",Bt(xn)+Sn).attr("x2",Bt(xn)+Sn).attr("y1",bt.titleTopMargin).attr("y2",Un-bt.titleTopMargin).attr("class","today"),pn!==""&&Mr.attr("style",pn.replace(/,/g,";"))}function bn(Sn){const Dn={},gn=[];for(let Un=0,pn=Sn.length;Un<pn;++Un)Object.prototype.hasOwnProperty.call(Dn,Sn[Un])||(Dn[Sn[Un]]=!0,gn.push(Sn[Un]));return gn}function wn(Sn){let Dn=Sn.length;const gn={};for(;Dn;)gn[Sn[--Dn]]=(gn[Sn[Dn]]||0)+1;return gn}function Mn(Sn,Dn){return wn(Dn)[Sn]||0}},ganttRenderer={setConf:setConf$5,draw:draw$8};var parser$5=function(){var nt=function(wt,Et,Tt,At){for(Tt=Tt||{},At=wt.length;At--;Tt[wt[At]]=Et);return Tt},rt=[6,9,10],it={trace:function(){},yy:{},symbols_:{error:2,start:3,info:4,document:5,EOF:6,line:7,statement:8,NL:9,showInfo:10,$accept:0,$end:1},terminals_:{2:"error",4:"info",6:"EOF",9:"NL",10:"showInfo"},productions_:[0,[3,3],[5,0],[5,2],[7,1],[7,1],[8,1]],performAction:function(Et,Tt,At,Dt,Ot,zt,$t){switch(zt.length-1,Ot){case 1:return Dt;case 4:break;case 6:Dt.setInfo(!0);break}},table:[{3:1,4:[1,2]},{1:[3]},nt(rt,[2,2],{5:3}),{6:[1,4],7:5,8:6,9:[1,7],10:[1,8]},{1:[2,1]},nt(rt,[2,3]),nt(rt,[2,4]),nt(rt,[2,5]),nt(rt,[2,6])],defaultActions:{4:[2,1]},parseError:function(Et,Tt){if(Tt.recoverable)this.trace(Et);else{var At=new Error(Et);throw At.hash=Tt,At}},parse:function(Et){var Tt=this,At=[0],Dt=[],Ot=[null],zt=[],$t=this.table,Bt="",Yt=0,Xt=0,Ht=2,Qt=1,Zt=zt.slice.call(arguments,1),nn=Object.create(this.lexer),Kt={yy:{}};for(var ln in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ln)&&(Kt.yy[ln]=this.yy[ln]);nn.setInput(Et,Kt.yy),Kt.yy.lexer=nn,Kt.yy.parser=this,typeof nn.yylloc>"u"&&(nn.yylloc={});var sn=nn.yylloc;zt.push(sn);var bn=nn.options&&nn.options.ranges;typeof Kt.yy.parseError=="function"?this.parseError=Kt.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function wn(){var cr;return cr=Dt.pop()||nn.lex()||Qt,typeof cr!="number"&&(cr instanceof Array&&(Dt=cr,cr=Dt.pop()),cr=Tt.symbols_[cr]||cr),cr}for(var Mn,Sn,Dn,gn,Un={},pn,yr,xn,Mr;;){if(Sn=At[At.length-1],this.defaultActions[Sn]?Dn=this.defaultActions[Sn]:((Mn===null||typeof Mn>"u")&&(Mn=wn()),Dn=$t[Sn]&&$t[Sn][Mn]),typeof Dn>"u"||!Dn.length||!Dn[0]){var fr="";Mr=[];for(pn in $t[Sn])this.terminals_[pn]&&pn>Ht&&Mr.push("'"+this.terminals_[pn]+"'");nn.showPosition?fr="Parse error on line "+(Yt+1)+`:
`+nn.showPosition()+`
Expecting `+Mr.join(", ")+", got '"+(this.terminals_[Mn]||Mn)+"'":fr="Parse error on line "+(Yt+1)+": Unexpected "+(Mn==Qt?"end of input":"'"+(this.terminals_[Mn]||Mn)+"'"),this.parseError(fr,{text:nn.match,token:this.terminals_[Mn]||Mn,line:nn.yylineno,loc:sn,expected:Mr})}if(Dn[0]instanceof Array&&Dn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Sn+", token: "+Mn);switch(Dn[0]){case 1:At.push(Mn),Ot.push(nn.yytext),zt.push(nn.yylloc),At.push(Dn[1]),Mn=null,Xt=nn.yyleng,Bt=nn.yytext,Yt=nn.yylineno,sn=nn.yylloc;break;case 2:if(yr=this.productions_[Dn[1]][1],Un.$=Ot[Ot.length-yr],Un._$={first_line:zt[zt.length-(yr||1)].first_line,last_line:zt[zt.length-1].last_line,first_column:zt[zt.length-(yr||1)].first_column,last_column:zt[zt.length-1].last_column},bn&&(Un._$.range=[zt[zt.length-(yr||1)].range[0],zt[zt.length-1].range[1]]),gn=this.performAction.apply(Un,[Bt,Xt,Yt,Kt.yy,Dn[1],Ot,zt].concat(Zt)),typeof gn<"u")return gn;yr&&(At=At.slice(0,-1*yr*2),Ot=Ot.slice(0,-1*yr),zt=zt.slice(0,-1*yr)),At.push(this.productions_[Dn[1]][0]),Ot.push(Un.$),zt.push(Un._$),xn=$t[At[At.length-2]][At[At.length-1]],At.push(xn);break;case 3:return!0}}return!0}},st=function(){var wt={EOF:1,parseError:function(Tt,At){if(this.yy.parser)this.yy.parser.parseError(Tt,At);else throw new Error(Tt)},setInput:function(Et,Tt){return this.yy=Tt||this.yy||{},this._input=Et,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Et=this._input[0];this.yytext+=Et,this.yyleng++,this.offset++,this.match+=Et,this.matched+=Et;var Tt=Et.match(/(?:\r\n?|\n).*/g);return Tt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Et},unput:function(Et){var Tt=Et.length,At=Et.split(/(?:\r\n?|\n)/g);this._input=Et+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Tt),this.offset-=Tt;var Dt=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),At.length-1&&(this.yylineno-=At.length-1);var Ot=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:At?(At.length===Dt.length?this.yylloc.first_column:0)+Dt[Dt.length-At.length].length-At[0].length:this.yylloc.first_column-Tt},this.options.ranges&&(this.yylloc.range=[Ot[0],Ot[0]+this.yyleng-Tt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Et){this.unput(this.match.slice(Et))},pastInput:function(){var Et=this.matched.substr(0,this.matched.length-this.match.length);return(Et.length>20?"...":"")+Et.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Et=this.match;return Et.length<20&&(Et+=this._input.substr(0,20-Et.length)),(Et.substr(0,20)+(Et.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Et=this.pastInput(),Tt=new Array(Et.length+1).join("-");return Et+this.upcomingInput()+`
`+Tt+"^"},test_match:function(Et,Tt){var At,Dt,Ot;if(this.options.backtrack_lexer&&(Ot={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Ot.yylloc.range=this.yylloc.range.slice(0))),Dt=Et[0].match(/(?:\r\n?|\n).*/g),Dt&&(this.yylineno+=Dt.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Dt?Dt[Dt.length-1].length-Dt[Dt.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Et[0].length},this.yytext+=Et[0],this.match+=Et[0],this.matches=Et,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Et[0].length),this.matched+=Et[0],At=this.performAction.call(this,this.yy,this,Tt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),At)return At;if(this._backtrack){for(var zt in Ot)this[zt]=Ot[zt];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Et,Tt,At,Dt;this._more||(this.yytext="",this.match="");for(var Ot=this._currentRules(),zt=0;zt<Ot.length;zt++)if(At=this._input.match(this.rules[Ot[zt]]),At&&(!Tt||At[0].length>Tt[0].length)){if(Tt=At,Dt=zt,this.options.backtrack_lexer){if(Et=this.test_match(At,Ot[zt]),Et!==!1)return Et;if(this._backtrack){Tt=!1;continue}else return!1}else if(!this.options.flex)break}return Tt?(Et=this.test_match(Tt,Ot[Dt]),Et!==!1?Et:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Tt=this.next();return Tt||this.lex()},begin:function(Tt){this.conditionStack.push(Tt)},popState:function(){var Tt=this.conditionStack.length-1;return Tt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Tt){return Tt=this.conditionStack.length-1-Math.abs(Tt||0),Tt>=0?this.conditionStack[Tt]:"INITIAL"},pushState:function(Tt){this.begin(Tt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Tt,At,Dt,Ot){switch(Dt){case 0:return 4;case 1:return 9;case 2:return"space";case 3:return 10;case 4:return 6;case 5:return"TXT"}},rules:[/^(?:info\b)/i,/^(?:[\s\n\r]+)/i,/^(?:[\s]+)/i,/^(?:showInfo\b)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5],inclusive:!0}}};return wt}();it.lexer=st;function bt(){this.yy={}}return bt.prototype=it,it.Parser=bt,new bt}();parser$5.parser=parser$5;const infoParser=parser$5;var message="",info=!1;const setMessage=nt=>{log$1.debug("Setting message to: "+nt),message=nt},getMessage=()=>message,setInfo=nt=>{info=nt},getInfo=()=>info,infoDb={setMessage,getMessage,setInfo,getInfo,clear:clear$g},draw$7=(nt,rt,it)=>{try{log$1.debug(`Rendering info diagram
`+nt);const st=getConfig$1().securityLevel;let bt;st==="sandbox"&&(bt=select("#i"+rt));const Et=select(st==="sandbox"?bt.nodes()[0].contentDocument.body:"body").select("#"+rt);Et.append("g").append("text").attr("x",100).attr("y",40).attr("class","version").attr("font-size","32px").style("text-anchor","middle").text("v "+it),Et.attr("height",100),Et.attr("width",400)}catch(st){log$1.error("Error while rendering info diagram"),log$1.error(st.message)}},infoRenderer={draw:draw$7},infoDetector=nt=>nt.match(/^\s*info/)!==null;var parser$4=function(){var nt=function(sn,bn,wn,Mn){for(wn=wn||{},Mn=sn.length;Mn--;wn[sn[Mn]]=bn);return wn},rt=[1,4],it=[1,5],st=[1,6],bt=[1,7],wt=[1,9],Et=[1,11,13,15,17,19,20,26,27,28,29],Tt=[2,5],At=[1,6,11,13,15,17,19,20,26,27,28,29],Dt=[26,27,28],Ot=[2,8],zt=[1,18],$t=[1,19],Bt=[1,20],Yt=[1,21],Xt=[1,22],Ht=[1,23],Qt=[1,28],Zt=[6,26,27,28,29],nn={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,directive:5,PIE:6,document:7,showData:8,line:9,statement:10,txt:11,value:12,title:13,title_value:14,acc_title:15,acc_title_value:16,acc_descr:17,acc_descr_value:18,acc_descr_multiline_value:19,section:20,openDirective:21,typeDirective:22,closeDirective:23,":":24,argDirective:25,NEWLINE:26,";":27,EOF:28,open_directive:29,type_directive:30,arg_directive:31,close_directive:32,$accept:0,$end:1},terminals_:{2:"error",6:"PIE",8:"showData",11:"txt",12:"value",13:"title",14:"title_value",15:"acc_title",16:"acc_title_value",17:"acc_descr",18:"acc_descr_value",19:"acc_descr_multiline_value",20:"section",24:":",26:"NEWLINE",27:";",28:"EOF",29:"open_directive",30:"type_directive",31:"arg_directive",32:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,3],[7,0],[7,2],[9,2],[10,0],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,1],[5,3],[5,5],[4,1],[4,1],[4,1],[21,1],[22,1],[25,1],[23,1]],performAction:function(bn,wn,Mn,Sn,Dn,gn,Un){var pn=gn.length-1;switch(Dn){case 4:Sn.setShowData(!0);break;case 7:this.$=gn[pn-1];break;case 9:Sn.addSection(gn[pn-1],Sn.cleanupValue(gn[pn]));break;case 10:this.$=gn[pn].trim(),Sn.setDiagramTitle(this.$);break;case 11:this.$=gn[pn].trim(),Sn.setAccTitle(this.$);break;case 12:case 13:this.$=gn[pn].trim(),Sn.setAccDescription(this.$);break;case 14:Sn.addSection(gn[pn].substr(8)),this.$=gn[pn].substr(8);break;case 21:Sn.parseDirective("%%{","open_directive");break;case 22:Sn.parseDirective(gn[pn],"type_directive");break;case 23:gn[pn]=gn[pn].trim().replace(/'/g,'"'),Sn.parseDirective(gn[pn],"arg_directive");break;case 24:Sn.parseDirective("}%%","close_directive","pie");break}},table:[{3:1,4:2,5:3,6:rt,21:8,26:it,27:st,28:bt,29:wt},{1:[3]},{3:10,4:2,5:3,6:rt,21:8,26:it,27:st,28:bt,29:wt},{3:11,4:2,5:3,6:rt,21:8,26:it,27:st,28:bt,29:wt},nt(Et,Tt,{7:12,8:[1,13]}),nt(At,[2,18]),nt(At,[2,19]),nt(At,[2,20]),{22:14,30:[1,15]},{30:[2,21]},{1:[2,1]},{1:[2,2]},nt(Dt,Ot,{21:8,9:16,10:17,5:24,1:[2,3],11:zt,13:$t,15:Bt,17:Yt,19:Xt,20:Ht,29:wt}),nt(Et,Tt,{7:25}),{23:26,24:[1,27],32:Qt},nt([24,32],[2,22]),nt(Et,[2,6]),{4:29,26:it,27:st,28:bt},{12:[1,30]},{14:[1,31]},{16:[1,32]},{18:[1,33]},nt(Dt,[2,13]),nt(Dt,[2,14]),nt(Dt,[2,15]),nt(Dt,Ot,{21:8,9:16,10:17,5:24,1:[2,4],11:zt,13:$t,15:Bt,17:Yt,19:Xt,20:Ht,29:wt}),nt(Zt,[2,16]),{25:34,31:[1,35]},nt(Zt,[2,24]),nt(Et,[2,7]),nt(Dt,[2,9]),nt(Dt,[2,10]),nt(Dt,[2,11]),nt(Dt,[2,12]),{23:36,32:Qt},{32:[2,23]},nt(Zt,[2,17])],defaultActions:{9:[2,21],10:[2,1],11:[2,2],35:[2,23]},parseError:function(bn,wn){if(wn.recoverable)this.trace(bn);else{var Mn=new Error(bn);throw Mn.hash=wn,Mn}},parse:function(bn){var wn=this,Mn=[0],Sn=[],Dn=[null],gn=[],Un=this.table,pn="",yr=0,xn=0,Mr=2,fr=1,cr=gn.slice.call(arguments,1),Gn=Object.create(this.lexer),lr={yy:{}};for(var ur in this.yy)Object.prototype.hasOwnProperty.call(this.yy,ur)&&(lr.yy[ur]=this.yy[ur]);Gn.setInput(bn,lr.yy),lr.yy.lexer=Gn,lr.yy.parser=this,typeof Gn.yylloc>"u"&&(Gn.yylloc={});var vr=Gn.yylloc;gn.push(vr);var Ir=Gn.options&&Gn.options.ranges;typeof lr.yy.parseError=="function"?this.parseError=lr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Pr(){var zn;return zn=Sn.pop()||Gn.lex()||fr,typeof zn!="number"&&(zn instanceof Array&&(Sn=zn,zn=Sn.pop()),zn=wn.symbols_[zn]||zn),zn}for(var _r,tr,qn,mr,br={},hr,An,rn,vn;;){if(tr=Mn[Mn.length-1],this.defaultActions[tr]?qn=this.defaultActions[tr]:((_r===null||typeof _r>"u")&&(_r=Pr()),qn=Un[tr]&&Un[tr][_r]),typeof qn>"u"||!qn.length||!qn[0]){var hn="";vn=[];for(hr in Un[tr])this.terminals_[hr]&&hr>Mr&&vn.push("'"+this.terminals_[hr]+"'");Gn.showPosition?hn="Parse error on line "+(yr+1)+`:
`+Gn.showPosition()+`
Expecting `+vn.join(", ")+", got '"+(this.terminals_[_r]||_r)+"'":hn="Parse error on line "+(yr+1)+": Unexpected "+(_r==fr?"end of input":"'"+(this.terminals_[_r]||_r)+"'"),this.parseError(hn,{text:Gn.match,token:this.terminals_[_r]||_r,line:Gn.yylineno,loc:vr,expected:vn})}if(qn[0]instanceof Array&&qn.length>1)throw new Error("Parse Error: multiple actions possible at state: "+tr+", token: "+_r);switch(qn[0]){case 1:Mn.push(_r),Dn.push(Gn.yytext),gn.push(Gn.yylloc),Mn.push(qn[1]),_r=null,xn=Gn.yyleng,pn=Gn.yytext,yr=Gn.yylineno,vr=Gn.yylloc;break;case 2:if(An=this.productions_[qn[1]][1],br.$=Dn[Dn.length-An],br._$={first_line:gn[gn.length-(An||1)].first_line,last_line:gn[gn.length-1].last_line,first_column:gn[gn.length-(An||1)].first_column,last_column:gn[gn.length-1].last_column},Ir&&(br._$.range=[gn[gn.length-(An||1)].range[0],gn[gn.length-1].range[1]]),mr=this.performAction.apply(br,[pn,xn,yr,lr.yy,qn[1],Dn,gn].concat(cr)),typeof mr<"u")return mr;An&&(Mn=Mn.slice(0,-1*An*2),Dn=Dn.slice(0,-1*An),gn=gn.slice(0,-1*An)),Mn.push(this.productions_[qn[1]][0]),Dn.push(br.$),gn.push(br._$),rn=Un[Mn[Mn.length-2]][Mn[Mn.length-1]],Mn.push(rn);break;case 3:return!0}}return!0}},Kt=function(){var sn={EOF:1,parseError:function(wn,Mn){if(this.yy.parser)this.yy.parser.parseError(wn,Mn);else throw new Error(wn)},setInput:function(bn,wn){return this.yy=wn||this.yy||{},this._input=bn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var bn=this._input[0];this.yytext+=bn,this.yyleng++,this.offset++,this.match+=bn,this.matched+=bn;var wn=bn.match(/(?:\r\n?|\n).*/g);return wn?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),bn},unput:function(bn){var wn=bn.length,Mn=bn.split(/(?:\r\n?|\n)/g);this._input=bn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-wn),this.offset-=wn;var Sn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Mn.length-1&&(this.yylineno-=Mn.length-1);var Dn=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Mn?(Mn.length===Sn.length?this.yylloc.first_column:0)+Sn[Sn.length-Mn.length].length-Mn[0].length:this.yylloc.first_column-wn},this.options.ranges&&(this.yylloc.range=[Dn[0],Dn[0]+this.yyleng-wn]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(bn){this.unput(this.match.slice(bn))},pastInput:function(){var bn=this.matched.substr(0,this.matched.length-this.match.length);return(bn.length>20?"...":"")+bn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var bn=this.match;return bn.length<20&&(bn+=this._input.substr(0,20-bn.length)),(bn.substr(0,20)+(bn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var bn=this.pastInput(),wn=new Array(bn.length+1).join("-");return bn+this.upcomingInput()+`
`+wn+"^"},test_match:function(bn,wn){var Mn,Sn,Dn;if(this.options.backtrack_lexer&&(Dn={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Dn.yylloc.range=this.yylloc.range.slice(0))),Sn=bn[0].match(/(?:\r\n?|\n).*/g),Sn&&(this.yylineno+=Sn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Sn?Sn[Sn.length-1].length-Sn[Sn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+bn[0].length},this.yytext+=bn[0],this.match+=bn[0],this.matches=bn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(bn[0].length),this.matched+=bn[0],Mn=this.performAction.call(this,this.yy,this,wn,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Mn)return Mn;if(this._backtrack){for(var gn in Dn)this[gn]=Dn[gn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var bn,wn,Mn,Sn;this._more||(this.yytext="",this.match="");for(var Dn=this._currentRules(),gn=0;gn<Dn.length;gn++)if(Mn=this._input.match(this.rules[Dn[gn]]),Mn&&(!wn||Mn[0].length>wn[0].length)){if(wn=Mn,Sn=gn,this.options.backtrack_lexer){if(bn=this.test_match(Mn,Dn[gn]),bn!==!1)return bn;if(this._backtrack){wn=!1;continue}else return!1}else if(!this.options.flex)break}return wn?(bn=this.test_match(wn,Dn[Sn]),bn!==!1?bn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var wn=this.next();return wn||this.lex()},begin:function(wn){this.conditionStack.push(wn)},popState:function(){var wn=this.conditionStack.length-1;return wn>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(wn){return wn=this.conditionStack.length-1-Math.abs(wn||0),wn>=0?this.conditionStack[wn]:"INITIAL"},pushState:function(wn){this.begin(wn)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(wn,Mn,Sn,Dn){switch(Sn){case 0:return this.begin("open_directive"),29;case 1:return this.begin("type_directive"),30;case 2:return this.popState(),this.begin("arg_directive"),24;case 3:return this.popState(),this.popState(),32;case 4:return 31;case 5:break;case 6:break;case 7:return 26;case 8:break;case 9:break;case 10:return this.begin("title"),13;case 11:return this.popState(),"title_value";case 12:return this.begin("acc_title"),15;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),17;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:this.begin("string");break;case 20:this.popState();break;case 21:return"txt";case 22:return 6;case 23:return 8;case 24:return"value";case 25:return 28}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n\r]+)/i,/^(?:%%[^\n]*)/i,/^(?:[\s]+)/i,/^(?:title\b)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:pie\b)/i,/^(?:showData\b)/i,/^(?::[\s]*[\d]+(?:\.[\d]+)?)/i,/^(?:$)/i],conditions:{acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},title:{rules:[11],inclusive:!1},string:{rules:[20,21],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,12,14,16,19,22,23,24,25],inclusive:!0}}};return sn}();nn.lexer=Kt;function ln(){this.yy={}}return ln.prototype=nn,nn.Parser=ln,new ln}();parser$4.parser=parser$4;const pieParser=parser$4,pieDetector=nt=>nt.match(/^\s*pie/)!==null||nt.match(/^\s*bar/)!==null;let sections$1={},showData=!1;const parseDirective$5=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},addSection$1=function(nt,rt){nt=common$1.sanitizeText(nt,getConfig$1()),sections$1[nt]===void 0&&(sections$1[nt]=rt,log$1.debug("Added new section :",nt))},getSections$1=()=>sections$1,setShowData=function(nt){showData=nt},getShowData=function(){return showData},cleanupValue=function(nt){return nt.substring(0,1)===":"&&(nt=nt.substring(1).trim()),Number(nt.trim())},clear$4=function(){sections$1={},showData=!1,clear$g()},pieDb={parseDirective:parseDirective$5,getConfig:()=>getConfig$1().pie,addSection:addSection$1,getSections:getSections$1,cleanupValue,clear:clear$4,setAccTitle,getAccTitle,setDiagramTitle,getDiagramTitle,setShowData,getShowData,getAccDescription,setAccDescription};let conf$5=getConfig$1(),width;const height=450,draw$6=(nt,rt,it,st)=>{try{conf$5=getConfig$1(),log$1.debug(`Rendering info diagram
`+nt);const Zt=getConfig$1().securityLevel;let nn;Zt==="sandbox"&&(nn=select("#i"+rt));const Kt=select(Zt==="sandbox"?nn.nodes()[0].contentDocument.body:"body"),ln=Zt==="sandbox"?nn.nodes()[0].contentDocument:document;st.db.clear(),st.parser.parse(nt),log$1.debug("Parsed info diagram");const sn=ln.getElementById(rt);width=sn.parentElement.offsetWidth,width===void 0&&(width=1200),conf$5.useWidth!==void 0&&(width=conf$5.useWidth),conf$5.pie.useWidth!==void 0&&(width=conf$5.pie.useWidth);const bn=Kt.select("#"+rt);configureSvgSize(bn,height,width,conf$5.pie.useMaxWidth),sn.setAttribute("viewBox","0 0 "+width+" "+height);var bt=40,wt=18,Et=4,Tt=Math.min(width,height)/2-bt,At=bn.append("g").attr("transform","translate("+width/2+","+height/2+")"),Dt=st.db.getSections(),Ot=0;Object.keys(Dt).forEach(function(Mn){Ot+=Dt[Mn]});const wn=conf$5.themeVariables;var zt=[wn.pie1,wn.pie2,wn.pie3,wn.pie4,wn.pie5,wn.pie6,wn.pie7,wn.pie8,wn.pie9,wn.pie10,wn.pie11,wn.pie12],$t=ordinal().range(zt),Bt=Object.entries(Dt).map(function(Mn,Sn){return{order:Sn,name:Mn[0],value:Mn[1]}}),Yt=pie().value(function(Mn){return Mn.value}).sort(function(Mn,Sn){return Mn.order-Sn.order}),Xt=Yt(Bt),Ht=arc().innerRadius(0).outerRadius(Tt);At.selectAll("mySlices").data(Xt).enter().append("path").attr("d",Ht).attr("fill",function(Mn){return $t(Mn.data.name)}).attr("class","pieCircle"),At.selectAll("mySlices").data(Xt).enter().append("text").text(function(Mn){return(Mn.data.value/Ot*100).toFixed(0)+"%"}).attr("transform",function(Mn){return"translate("+Ht.centroid(Mn)+")"}).style("text-anchor","middle").attr("class","slice"),At.append("text").text(st.db.getDiagramTitle()).attr("x",0).attr("y",-(height-50)/2).attr("class","pieTitleText");var Qt=At.selectAll(".legend").data($t.domain()).enter().append("g").attr("class","legend").attr("transform",function(Mn,Sn){const Dn=wt+Et,gn=Dn*$t.domain().length/2,Un=12*wt,pn=Sn*Dn-gn;return"translate("+Un+","+pn+")"});Qt.append("rect").attr("width",wt).attr("height",wt).style("fill",$t).style("stroke",$t),Qt.data(Xt).append("text").attr("x",wt+Et).attr("y",wt-Et).text(function(Mn){return st.db.getShowData()||conf$5.showData||conf$5.pie.showData?Mn.data.name+" ["+Mn.data.value+"]":Mn.data.name})}catch(Zt){log$1.error("Error while rendering info diagram"),log$1.error(Zt)}},pieRenderer={draw:draw$6};var parser$3=function(){var nt=function(tr,qn,mr,br){for(mr=mr||{},br=tr.length;br--;mr[tr[br]]=qn);return mr},rt=[1,3],it=[1,5],st=[1,6],bt=[1,7],wt=[1,8],Et=[5,6,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Tt=[1,22],At=[2,13],Dt=[1,26],Ot=[1,27],zt=[1,28],$t=[1,29],Bt=[1,30],Yt=[1,31],Xt=[1,24],Ht=[1,32],Qt=[1,33],Zt=[1,36],nn=[71,72],Kt=[5,8,14,16,18,19,40,41,42,43,44,45,53,60,62,71,72],ln=[1,56],sn=[1,57],bn=[1,58],wn=[1,59],Mn=[1,60],Sn=[1,61],Dn=[1,62],gn=[62,63],Un=[1,74],pn=[1,70],yr=[1,71],xn=[1,72],Mr=[1,73],fr=[1,75],cr=[1,79],Gn=[1,80],lr=[1,77],ur=[1,78],vr=[5,8,14,16,18,19,40,41,42,43,44,45,53,71,72],Ir={trace:function(){},yy:{},symbols_:{error:2,start:3,directive:4,NEWLINE:5,RD:6,diagram:7,EOF:8,openDirective:9,typeDirective:10,closeDirective:11,":":12,argDirective:13,acc_title:14,acc_title_value:15,acc_descr:16,acc_descr_value:17,acc_descr_multiline_value:18,open_directive:19,type_directive:20,arg_directive:21,close_directive:22,requirementDef:23,elementDef:24,relationshipDef:25,requirementType:26,requirementName:27,STRUCT_START:28,requirementBody:29,ID:30,COLONSEP:31,id:32,TEXT:33,text:34,RISK:35,riskLevel:36,VERIFYMTHD:37,verifyType:38,STRUCT_STOP:39,REQUIREMENT:40,FUNCTIONAL_REQUIREMENT:41,INTERFACE_REQUIREMENT:42,PERFORMANCE_REQUIREMENT:43,PHYSICAL_REQUIREMENT:44,DESIGN_CONSTRAINT:45,LOW_RISK:46,MED_RISK:47,HIGH_RISK:48,VERIFY_ANALYSIS:49,VERIFY_DEMONSTRATION:50,VERIFY_INSPECTION:51,VERIFY_TEST:52,ELEMENT:53,elementName:54,elementBody:55,TYPE:56,type:57,DOCREF:58,ref:59,END_ARROW_L:60,relationship:61,LINE:62,END_ARROW_R:63,CONTAINS:64,COPIES:65,DERIVES:66,SATISFIES:67,VERIFIES:68,REFINES:69,TRACES:70,unqString:71,qString:72,$accept:0,$end:1},terminals_:{2:"error",5:"NEWLINE",6:"RD",8:"EOF",12:":",14:"acc_title",15:"acc_title_value",16:"acc_descr",17:"acc_descr_value",18:"acc_descr_multiline_value",19:"open_directive",20:"type_directive",21:"arg_directive",22:"close_directive",28:"STRUCT_START",30:"ID",31:"COLONSEP",33:"TEXT",35:"RISK",37:"VERIFYMTHD",39:"STRUCT_STOP",40:"REQUIREMENT",41:"FUNCTIONAL_REQUIREMENT",42:"INTERFACE_REQUIREMENT",43:"PERFORMANCE_REQUIREMENT",44:"PHYSICAL_REQUIREMENT",45:"DESIGN_CONSTRAINT",46:"LOW_RISK",47:"MED_RISK",48:"HIGH_RISK",49:"VERIFY_ANALYSIS",50:"VERIFY_DEMONSTRATION",51:"VERIFY_INSPECTION",52:"VERIFY_TEST",53:"ELEMENT",56:"TYPE",58:"DOCREF",60:"END_ARROW_L",62:"LINE",63:"END_ARROW_R",64:"CONTAINS",65:"COPIES",66:"DERIVES",67:"SATISFIES",68:"VERIFIES",69:"REFINES",70:"TRACES",71:"unqString",72:"qString"},productions_:[0,[3,3],[3,2],[3,4],[4,3],[4,5],[4,2],[4,2],[4,1],[9,1],[10,1],[13,1],[11,1],[7,0],[7,2],[7,2],[7,2],[7,2],[7,2],[23,5],[29,5],[29,5],[29,5],[29,5],[29,2],[29,1],[26,1],[26,1],[26,1],[26,1],[26,1],[26,1],[36,1],[36,1],[36,1],[38,1],[38,1],[38,1],[38,1],[24,5],[55,5],[55,5],[55,2],[55,1],[25,5],[25,5],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[61,1],[27,1],[27,1],[32,1],[32,1],[34,1],[34,1],[54,1],[54,1],[57,1],[57,1],[59,1],[59,1]],performAction:function(qn,mr,br,hr,An,rn,vn){var hn=rn.length-1;switch(An){case 6:this.$=rn[hn].trim(),hr.setAccTitle(this.$);break;case 7:case 8:this.$=rn[hn].trim(),hr.setAccDescription(this.$);break;case 9:hr.parseDirective("%%{","open_directive");break;case 10:hr.parseDirective(rn[hn],"type_directive");break;case 11:rn[hn]=rn[hn].trim().replace(/'/g,'"'),hr.parseDirective(rn[hn],"arg_directive");break;case 12:hr.parseDirective("}%%","close_directive","pie");break;case 13:this.$=[];break;case 19:hr.addRequirement(rn[hn-3],rn[hn-4]);break;case 20:hr.setNewReqId(rn[hn-2]);break;case 21:hr.setNewReqText(rn[hn-2]);break;case 22:hr.setNewReqRisk(rn[hn-2]);break;case 23:hr.setNewReqVerifyMethod(rn[hn-2]);break;case 26:this.$=hr.RequirementType.REQUIREMENT;break;case 27:this.$=hr.RequirementType.FUNCTIONAL_REQUIREMENT;break;case 28:this.$=hr.RequirementType.INTERFACE_REQUIREMENT;break;case 29:this.$=hr.RequirementType.PERFORMANCE_REQUIREMENT;break;case 30:this.$=hr.RequirementType.PHYSICAL_REQUIREMENT;break;case 31:this.$=hr.RequirementType.DESIGN_CONSTRAINT;break;case 32:this.$=hr.RiskLevel.LOW_RISK;break;case 33:this.$=hr.RiskLevel.MED_RISK;break;case 34:this.$=hr.RiskLevel.HIGH_RISK;break;case 35:this.$=hr.VerifyType.VERIFY_ANALYSIS;break;case 36:this.$=hr.VerifyType.VERIFY_DEMONSTRATION;break;case 37:this.$=hr.VerifyType.VERIFY_INSPECTION;break;case 38:this.$=hr.VerifyType.VERIFY_TEST;break;case 39:hr.addElement(rn[hn-3]);break;case 40:hr.setNewElementType(rn[hn-2]);break;case 41:hr.setNewElementDocRef(rn[hn-2]);break;case 44:hr.addRelationship(rn[hn-2],rn[hn],rn[hn-4]);break;case 45:hr.addRelationship(rn[hn-2],rn[hn-4],rn[hn]);break;case 46:this.$=hr.Relationships.CONTAINS;break;case 47:this.$=hr.Relationships.COPIES;break;case 48:this.$=hr.Relationships.DERIVES;break;case 49:this.$=hr.Relationships.SATISFIES;break;case 50:this.$=hr.Relationships.VERIFIES;break;case 51:this.$=hr.Relationships.REFINES;break;case 52:this.$=hr.Relationships.TRACES;break}},table:[{3:1,4:2,6:rt,9:4,14:it,16:st,18:bt,19:wt},{1:[3]},{3:10,4:2,5:[1,9],6:rt,9:4,14:it,16:st,18:bt,19:wt},{5:[1,11]},{10:12,20:[1,13]},{15:[1,14]},{17:[1,15]},nt(Et,[2,8]),{20:[2,9]},{3:16,4:2,6:rt,9:4,14:it,16:st,18:bt,19:wt},{1:[2,2]},{4:21,5:Tt,7:17,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{11:34,12:[1,35],22:Zt},nt([12,22],[2,10]),nt(Et,[2,6]),nt(Et,[2,7]),{1:[2,1]},{8:[1,37]},{4:21,5:Tt,7:38,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{4:21,5:Tt,7:39,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{4:21,5:Tt,7:40,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{4:21,5:Tt,7:41,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{4:21,5:Tt,7:42,8:At,9:4,14:it,16:st,18:bt,19:wt,23:18,24:19,25:20,26:23,32:25,40:Dt,41:Ot,42:zt,43:$t,44:Bt,45:Yt,53:Xt,71:Ht,72:Qt},{27:43,71:[1,44],72:[1,45]},{54:46,71:[1,47],72:[1,48]},{60:[1,49],62:[1,50]},nt(nn,[2,26]),nt(nn,[2,27]),nt(nn,[2,28]),nt(nn,[2,29]),nt(nn,[2,30]),nt(nn,[2,31]),nt(Kt,[2,55]),nt(Kt,[2,56]),nt(Et,[2,4]),{13:51,21:[1,52]},nt(Et,[2,12]),{1:[2,3]},{8:[2,14]},{8:[2,15]},{8:[2,16]},{8:[2,17]},{8:[2,18]},{28:[1,53]},{28:[2,53]},{28:[2,54]},{28:[1,54]},{28:[2,59]},{28:[2,60]},{61:55,64:ln,65:sn,66:bn,67:wn,68:Mn,69:Sn,70:Dn},{61:63,64:ln,65:sn,66:bn,67:wn,68:Mn,69:Sn,70:Dn},{11:64,22:Zt},{22:[2,11]},{5:[1,65]},{5:[1,66]},{62:[1,67]},nt(gn,[2,46]),nt(gn,[2,47]),nt(gn,[2,48]),nt(gn,[2,49]),nt(gn,[2,50]),nt(gn,[2,51]),nt(gn,[2,52]),{63:[1,68]},nt(Et,[2,5]),{5:Un,29:69,30:pn,33:yr,35:xn,37:Mr,39:fr},{5:cr,39:Gn,55:76,56:lr,58:ur},{32:81,71:Ht,72:Qt},{32:82,71:Ht,72:Qt},nt(vr,[2,19]),{31:[1,83]},{31:[1,84]},{31:[1,85]},{31:[1,86]},{5:Un,29:87,30:pn,33:yr,35:xn,37:Mr,39:fr},nt(vr,[2,25]),nt(vr,[2,39]),{31:[1,88]},{31:[1,89]},{5:cr,39:Gn,55:90,56:lr,58:ur},nt(vr,[2,43]),nt(vr,[2,44]),nt(vr,[2,45]),{32:91,71:Ht,72:Qt},{34:92,71:[1,93],72:[1,94]},{36:95,46:[1,96],47:[1,97],48:[1,98]},{38:99,49:[1,100],50:[1,101],51:[1,102],52:[1,103]},nt(vr,[2,24]),{57:104,71:[1,105],72:[1,106]},{59:107,71:[1,108],72:[1,109]},nt(vr,[2,42]),{5:[1,110]},{5:[1,111]},{5:[2,57]},{5:[2,58]},{5:[1,112]},{5:[2,32]},{5:[2,33]},{5:[2,34]},{5:[1,113]},{5:[2,35]},{5:[2,36]},{5:[2,37]},{5:[2,38]},{5:[1,114]},{5:[2,61]},{5:[2,62]},{5:[1,115]},{5:[2,63]},{5:[2,64]},{5:Un,29:116,30:pn,33:yr,35:xn,37:Mr,39:fr},{5:Un,29:117,30:pn,33:yr,35:xn,37:Mr,39:fr},{5:Un,29:118,30:pn,33:yr,35:xn,37:Mr,39:fr},{5:Un,29:119,30:pn,33:yr,35:xn,37:Mr,39:fr},{5:cr,39:Gn,55:120,56:lr,58:ur},{5:cr,39:Gn,55:121,56:lr,58:ur},nt(vr,[2,20]),nt(vr,[2,21]),nt(vr,[2,22]),nt(vr,[2,23]),nt(vr,[2,40]),nt(vr,[2,41])],defaultActions:{8:[2,9],10:[2,2],16:[2,1],37:[2,3],38:[2,14],39:[2,15],40:[2,16],41:[2,17],42:[2,18],44:[2,53],45:[2,54],47:[2,59],48:[2,60],52:[2,11],93:[2,57],94:[2,58],96:[2,32],97:[2,33],98:[2,34],100:[2,35],101:[2,36],102:[2,37],103:[2,38],105:[2,61],106:[2,62],108:[2,63],109:[2,64]},parseError:function(qn,mr){if(mr.recoverable)this.trace(qn);else{var br=new Error(qn);throw br.hash=mr,br}},parse:function(qn){var mr=this,br=[0],hr=[],An=[null],rn=[],vn=this.table,hn="",zn=0,On=0,Er=2,Rn=1,rr=rn.slice.call(arguments,1),Kn=Object.create(this.lexer),gr={yy:{}};for(var xr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,xr)&&(gr.yy[xr]=this.yy[xr]);Kn.setInput(qn,gr.yy),gr.yy.lexer=Kn,gr.yy.parser=this,typeof Kn.yylloc>"u"&&(Kn.yylloc={});var Lr=Kn.yylloc;rn.push(Lr);var Cr=Kn.options&&Kn.options.ranges;typeof gr.yy.parseError=="function"?this.parseError=gr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ar(){var er;return er=hr.pop()||Kn.lex()||Rn,typeof er!="number"&&(er instanceof Array&&(hr=er,er=hr.pop()),er=mr.symbols_[er]||er),er}for(var mi,vi,xi,Ci,Ei={},Bi,Ai,Fr,Ln;;){if(vi=br[br.length-1],this.defaultActions[vi]?xi=this.defaultActions[vi]:((mi===null||typeof mi>"u")&&(mi=Ar()),xi=vn[vi]&&vn[vi][mi]),typeof xi>"u"||!xi.length||!xi[0]){var Nn="";Ln=[];for(Bi in vn[vi])this.terminals_[Bi]&&Bi>Er&&Ln.push("'"+this.terminals_[Bi]+"'");Kn.showPosition?Nn="Parse error on line "+(zn+1)+`:
`+Kn.showPosition()+`
Expecting `+Ln.join(", ")+", got '"+(this.terminals_[mi]||mi)+"'":Nn="Parse error on line "+(zn+1)+": Unexpected "+(mi==Rn?"end of input":"'"+(this.terminals_[mi]||mi)+"'"),this.parseError(Nn,{text:Kn.match,token:this.terminals_[mi]||mi,line:Kn.yylineno,loc:Lr,expected:Ln})}if(xi[0]instanceof Array&&xi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+vi+", token: "+mi);switch(xi[0]){case 1:br.push(mi),An.push(Kn.yytext),rn.push(Kn.yylloc),br.push(xi[1]),mi=null,On=Kn.yyleng,hn=Kn.yytext,zn=Kn.yylineno,Lr=Kn.yylloc;break;case 2:if(Ai=this.productions_[xi[1]][1],Ei.$=An[An.length-Ai],Ei._$={first_line:rn[rn.length-(Ai||1)].first_line,last_line:rn[rn.length-1].last_line,first_column:rn[rn.length-(Ai||1)].first_column,last_column:rn[rn.length-1].last_column},Cr&&(Ei._$.range=[rn[rn.length-(Ai||1)].range[0],rn[rn.length-1].range[1]]),Ci=this.performAction.apply(Ei,[hn,On,zn,gr.yy,xi[1],An,rn].concat(rr)),typeof Ci<"u")return Ci;Ai&&(br=br.slice(0,-1*Ai*2),An=An.slice(0,-1*Ai),rn=rn.slice(0,-1*Ai)),br.push(this.productions_[xi[1]][0]),An.push(Ei.$),rn.push(Ei._$),Fr=vn[br[br.length-2]][br[br.length-1]],br.push(Fr);break;case 3:return!0}}return!0}},Pr=function(){var tr={EOF:1,parseError:function(mr,br){if(this.yy.parser)this.yy.parser.parseError(mr,br);else throw new Error(mr)},setInput:function(qn,mr){return this.yy=mr||this.yy||{},this._input=qn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qn=this._input[0];this.yytext+=qn,this.yyleng++,this.offset++,this.match+=qn,this.matched+=qn;var mr=qn.match(/(?:\r\n?|\n).*/g);return mr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qn},unput:function(qn){var mr=qn.length,br=qn.split(/(?:\r\n?|\n)/g);this._input=qn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-mr),this.offset-=mr;var hr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),br.length-1&&(this.yylineno-=br.length-1);var An=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:br?(br.length===hr.length?this.yylloc.first_column:0)+hr[hr.length-br.length].length-br[0].length:this.yylloc.first_column-mr},this.options.ranges&&(this.yylloc.range=[An[0],An[0]+this.yyleng-mr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qn){this.unput(this.match.slice(qn))},pastInput:function(){var qn=this.matched.substr(0,this.matched.length-this.match.length);return(qn.length>20?"...":"")+qn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qn=this.match;return qn.length<20&&(qn+=this._input.substr(0,20-qn.length)),(qn.substr(0,20)+(qn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qn=this.pastInput(),mr=new Array(qn.length+1).join("-");return qn+this.upcomingInput()+`
`+mr+"^"},test_match:function(qn,mr){var br,hr,An;if(this.options.backtrack_lexer&&(An={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(An.yylloc.range=this.yylloc.range.slice(0))),hr=qn[0].match(/(?:\r\n?|\n).*/g),hr&&(this.yylineno+=hr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:hr?hr[hr.length-1].length-hr[hr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qn[0].length},this.yytext+=qn[0],this.match+=qn[0],this.matches=qn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qn[0].length),this.matched+=qn[0],br=this.performAction.call(this,this.yy,this,mr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),br)return br;if(this._backtrack){for(var rn in An)this[rn]=An[rn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qn,mr,br,hr;this._more||(this.yytext="",this.match="");for(var An=this._currentRules(),rn=0;rn<An.length;rn++)if(br=this._input.match(this.rules[An[rn]]),br&&(!mr||br[0].length>mr[0].length)){if(mr=br,hr=rn,this.options.backtrack_lexer){if(qn=this.test_match(br,An[rn]),qn!==!1)return qn;if(this._backtrack){mr=!1;continue}else return!1}else if(!this.options.flex)break}return mr?(qn=this.test_match(mr,An[hr]),qn!==!1?qn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var mr=this.next();return mr||this.lex()},begin:function(mr){this.conditionStack.push(mr)},popState:function(){var mr=this.conditionStack.length-1;return mr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(mr){return mr=this.conditionStack.length-1-Math.abs(mr||0),mr>=0?this.conditionStack[mr]:"INITIAL"},pushState:function(mr){this.begin(mr)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(mr,br,hr,An){switch(hr){case 0:return this.begin("open_directive"),19;case 1:return this.begin("type_directive"),20;case 2:return this.popState(),this.begin("arg_directive"),12;case 3:return this.popState(),this.popState(),22;case 4:return 21;case 5:return"title";case 6:return this.begin("acc_title"),14;case 7:return this.popState(),"acc_title_value";case 8:return this.begin("acc_descr"),16;case 9:return this.popState(),"acc_descr_value";case 10:this.begin("acc_descr_multiline");break;case 11:this.popState();break;case 12:return"acc_descr_multiline_value";case 13:return 5;case 14:break;case 15:break;case 16:break;case 17:return 8;case 18:return 6;case 19:return 28;case 20:return 39;case 21:return 31;case 22:return 30;case 23:return 33;case 24:return 35;case 25:return 37;case 26:return 40;case 27:return 41;case 28:return 42;case 29:return 43;case 30:return 44;case 31:return 45;case 32:return 46;case 33:return 47;case 34:return 48;case 35:return 49;case 36:return 50;case 37:return 51;case 38:return 52;case 39:return 53;case 40:return 64;case 41:return 65;case 42:return 66;case 43:return 67;case 44:return 68;case 45:return 69;case 46:return 70;case 47:return 56;case 48:return 58;case 49:return 60;case 50:return 63;case 51:return 62;case 52:this.begin("string");break;case 53:this.popState();break;case 54:return"qString";case 55:return br.yytext=br.yytext.trim(),71}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:$)/i,/^(?:requirementDiagram\b)/i,/^(?:\{)/i,/^(?:\})/i,/^(?::)/i,/^(?:id\b)/i,/^(?:text\b)/i,/^(?:risk\b)/i,/^(?:verifyMethod\b)/i,/^(?:requirement\b)/i,/^(?:functionalRequirement\b)/i,/^(?:interfaceRequirement\b)/i,/^(?:performanceRequirement\b)/i,/^(?:physicalRequirement\b)/i,/^(?:designConstraint\b)/i,/^(?:low\b)/i,/^(?:medium\b)/i,/^(?:high\b)/i,/^(?:analysis\b)/i,/^(?:demonstration\b)/i,/^(?:inspection\b)/i,/^(?:test\b)/i,/^(?:element\b)/i,/^(?:contains\b)/i,/^(?:copies\b)/i,/^(?:derives\b)/i,/^(?:satisfies\b)/i,/^(?:verifies\b)/i,/^(?:refines\b)/i,/^(?:traces\b)/i,/^(?:type\b)/i,/^(?:docref\b)/i,/^(?:<-)/i,/^(?:->)/i,/^(?:-)/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[\w][^\r\n\{\<\>\-\=]*)/i],conditions:{acc_descr_multiline:{rules:[11,12],inclusive:!1},acc_descr:{rules:[9],inclusive:!1},acc_title:{rules:[7],inclusive:!1},close_directive:{rules:[],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},open_directive:{rules:[1],inclusive:!1},unqString:{rules:[],inclusive:!1},token:{rules:[],inclusive:!1},string:{rules:[53,54],inclusive:!1},INITIAL:{rules:[0,5,6,8,10,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,55],inclusive:!0}}};return tr}();Ir.lexer=Pr;function _r(){this.yy={}}return _r.prototype=Ir,Ir.Parser=_r,new _r}();parser$3.parser=parser$3;const requirementParser=parser$3,requirementDetector=nt=>nt.match(/^\s*requirement(Diagram)?/)!==null;let relations=[],latestRequirement={},requirements={},latestElement={},elements={};const RequirementType={REQUIREMENT:"Requirement",FUNCTIONAL_REQUIREMENT:"Functional Requirement",INTERFACE_REQUIREMENT:"Interface Requirement",PERFORMANCE_REQUIREMENT:"Performance Requirement",PHYSICAL_REQUIREMENT:"Physical Requirement",DESIGN_CONSTRAINT:"Design Constraint"},RiskLevel={LOW_RISK:"Low",MED_RISK:"Medium",HIGH_RISK:"High"},VerifyType={VERIFY_ANALYSIS:"Analysis",VERIFY_DEMONSTRATION:"Demonstration",VERIFY_INSPECTION:"Inspection",VERIFY_TEST:"Test"},Relationships={CONTAINS:"contains",COPIES:"copies",DERIVES:"derives",SATISFIES:"satisfies",VERIFIES:"verifies",REFINES:"refines",TRACES:"traces"},parseDirective$4=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},addRequirement=(nt,rt)=>(requirements[nt]===void 0&&(requirements[nt]={name:nt,type:rt,id:latestRequirement.id,text:latestRequirement.text,risk:latestRequirement.risk,verifyMethod:latestRequirement.verifyMethod}),latestRequirement={},requirements[nt]),getRequirements=()=>requirements,setNewReqId=nt=>{latestRequirement!==void 0&&(latestRequirement.id=nt)},setNewReqText=nt=>{latestRequirement!==void 0&&(latestRequirement.text=nt)},setNewReqRisk=nt=>{latestRequirement!==void 0&&(latestRequirement.risk=nt)},setNewReqVerifyMethod=nt=>{latestRequirement!==void 0&&(latestRequirement.verifyMethod=nt)},addElement=nt=>(elements[nt]===void 0&&(elements[nt]={name:nt,type:latestElement.type,docRef:latestElement.docRef},log$1.info("Added new requirement: ",nt)),latestElement={},elements[nt]),getElements=()=>elements,setNewElementType=nt=>{latestElement!==void 0&&(latestElement.type=nt)},setNewElementDocRef=nt=>{latestElement!==void 0&&(latestElement.docRef=nt)},addRelationship=(nt,rt,it)=>{relations.push({type:nt,src:rt,dst:it})},getRelationships=()=>relations,clear$3=()=>{relations=[],latestRequirement={},requirements={},latestElement={},elements={},clear$g()},requirementDb={RequirementType,RiskLevel,VerifyType,Relationships,parseDirective:parseDirective$4,getConfig:()=>getConfig$1().req,addRequirement,getRequirements,setNewReqId,setNewReqText,setNewReqRisk,setNewReqVerifyMethod,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addElement,getElements,setNewElementType,setNewElementDocRef,addRelationship,getRelationships,clear:clear$3},ReqMarkers={CONTAINS:"contains",ARROW:"arrow"},insertLineEndings=(nt,rt)=>{let it=nt.append("defs").append("marker").attr("id",ReqMarkers.CONTAINS+"_line_ending").attr("refX",0).attr("refY",rt.line_height/2).attr("markerWidth",rt.line_height).attr("markerHeight",rt.line_height).attr("orient","auto").append("g");it.append("circle").attr("cx",rt.line_height/2).attr("cy",rt.line_height/2).attr("r",rt.line_height/2).attr("fill","none"),it.append("line").attr("x1",0).attr("x2",rt.line_height).attr("y1",rt.line_height/2).attr("y2",rt.line_height/2).attr("stroke-width",1),it.append("line").attr("y1",0).attr("y2",rt.line_height).attr("x1",rt.line_height/2).attr("x2",rt.line_height/2).attr("stroke-width",1),nt.append("defs").append("marker").attr("id",ReqMarkers.ARROW+"_line_ending").attr("refX",rt.line_height).attr("refY",.5*rt.line_height).attr("markerWidth",rt.line_height).attr("markerHeight",rt.line_height).attr("orient","auto").append("path").attr("d",`M0,0
      L${rt.line_height},${rt.line_height/2}
      M${rt.line_height},${rt.line_height/2}
      L0,${rt.line_height}`).attr("stroke-width",1)},markers={ReqMarkers,insertLineEndings};let conf$4={},relCnt=0;const newRectNode=(nt,rt)=>nt.insert("rect","#"+rt).attr("class","req reqBox").attr("x",0).attr("y",0).attr("width",conf$4.rect_min_width+"px").attr("height",conf$4.rect_min_height+"px"),newTitleNode=(nt,rt,it)=>{let st=conf$4.rect_min_width/2,bt=nt.append("text").attr("class","req reqLabel reqTitle").attr("id",rt).attr("x",st).attr("y",conf$4.rect_padding).attr("dominant-baseline","hanging"),wt=0;it.forEach(Dt=>{wt==0?bt.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",0).text(Dt):bt.append("tspan").attr("text-anchor","middle").attr("x",conf$4.rect_min_width/2).attr("dy",conf$4.line_height*.75).text(Dt),wt++});let Et=1.5*conf$4.rect_padding,Tt=wt*conf$4.line_height*.75,At=Et+Tt;return nt.append("line").attr("class","req-title-line").attr("x1","0").attr("x2",conf$4.rect_min_width).attr("y1",At).attr("y2",At),{titleNode:bt,y:At}},newBodyNode=(nt,rt,it,st)=>{let bt=nt.append("text").attr("class","req reqLabel").attr("id",rt).attr("x",conf$4.rect_padding).attr("y",st).attr("dominant-baseline","hanging"),wt=0;const Et=30;let Tt=[];return it.forEach(At=>{let Dt=At.length;for(;Dt>Et&&wt<3;){let Ot=At.substring(0,Et);At=At.substring(Et,At.length),Dt=At.length,Tt[Tt.length]=Ot,wt++}if(wt==3){let Ot=Tt[Tt.length-1];Tt[Tt.length-1]=Ot.substring(0,Ot.length-4)+"..."}else Tt[Tt.length]=At;wt=0}),Tt.forEach(At=>{bt.append("tspan").attr("x",conf$4.rect_padding).attr("dy",conf$4.line_height).text(At)}),bt},addEdgeLabel=(nt,rt,it,st)=>{const bt=rt.node().getTotalLength(),wt=rt.node().getPointAtLength(bt*.5),Et="rel"+relCnt;relCnt++;const At=nt.append("text").attr("class","req relationshipLabel").attr("id",Et).attr("x",wt.x).attr("y",wt.y).attr("text-anchor","middle").attr("dominant-baseline","middle").text(st).node().getBBox();nt.insert("rect","#"+Et).attr("class","req reqLabelBox").attr("x",wt.x-At.width/2).attr("y",wt.y-At.height/2).attr("width",At.width).attr("height",At.height).attr("fill","white").attr("fill-opacity","85%")},drawRelationshipFromLayout=function(nt,rt,it,st,bt){const wt=it.edge(elementString(rt.src),elementString(rt.dst)),Et=line$1().x(function(At){return At.x}).y(function(At){return At.y}),Tt=nt.insert("path","#"+st).attr("class","er relationshipLine").attr("d",Et(wt.points)).attr("fill","none");rt.type==bt.db.Relationships.CONTAINS?Tt.attr("marker-start","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+rt.type+"_line_ending)"):(Tt.attr("stroke-dasharray","10,7"),Tt.attr("marker-end","url("+common$1.getUrl(conf$4.arrowMarkerAbsolute)+"#"+markers.ReqMarkers.ARROW+"_line_ending)")),addEdgeLabel(nt,Tt,conf$4,`<<${rt.type}>>`)},drawReqs=(nt,rt,it)=>{Object.keys(nt).forEach(st=>{let bt=nt[st];st=elementString(st),log$1.info("Added new requirement: ",st);const wt=it.append("g").attr("id",st),Et="req-"+st,Tt=newRectNode(wt,Et);let At=newTitleNode(wt,st+"_title",[`<<${bt.type}>>`,`${bt.name}`]);newBodyNode(wt,st+"_body",[`Id: ${bt.id}`,`Text: ${bt.text}`,`Risk: ${bt.risk}`,`Verification: ${bt.verifyMethod}`],At.y);const Dt=Tt.node().getBBox();rt.setNode(st,{width:Dt.width,height:Dt.height,shape:"rect",id:st})})},drawElements=(nt,rt,it)=>{Object.keys(nt).forEach(st=>{let bt=nt[st];const wt=elementString(st),Et=it.append("g").attr("id",wt),Tt="element-"+wt,At=newRectNode(Et,Tt);let Dt=newTitleNode(Et,Tt+"_title",["<<Element>>",`${st}`]);newBodyNode(Et,Tt+"_body",[`Type: ${bt.type||"Not Specified"}`,`Doc Ref: ${bt.docRef||"None"}`],Dt.y);const Ot=At.node().getBBox();rt.setNode(wt,{width:Ot.width,height:Ot.height,shape:"rect",id:wt})})},addRelationships=(nt,rt)=>(nt.forEach(function(it){let st=elementString(it.src),bt=elementString(it.dst);rt.setEdge(st,bt,{relationship:it})}),nt),adjustEntities=function(nt,rt){rt.nodes().forEach(function(it){it!==void 0&&rt.node(it)!==void 0&&(nt.select("#"+it),nt.select("#"+it).attr("transform","translate("+(rt.node(it).x-rt.node(it).width/2)+","+(rt.node(it).y-rt.node(it).height/2)+" )"))})},elementString=nt=>nt.replace(/\s/g,"").replace(/\./g,"_"),draw$5=(nt,rt,it,st)=>{conf$4=getConfig$1().requirement,st.db.clear(),st.parser.parse(nt);const bt=conf$4.securityLevel;let wt;bt==="sandbox"&&(wt=select("#i"+rt));const Tt=select(bt==="sandbox"?wt.nodes()[0].contentDocument.body:"body").select(`[id='${rt}']`);markers.insertLineEndings(Tt,conf$4);const At=new Graph({multigraph:!1,compound:!1,directed:!0}).setGraph({rankdir:conf$4.layoutDirection,marginx:20,marginy:20,nodesep:100,edgesep:100,ranksep:100}).setDefaultEdgeLabel(function(){return{}});let Dt=st.db.getRequirements(),Ot=st.db.getElements(),zt=st.db.getRelationships();drawReqs(Dt,At,Tt),drawElements(Ot,At,Tt),addRelationships(zt,At),layout(At),adjustEntities(Tt,At),zt.forEach(function(Ht){drawRelationshipFromLayout(Tt,Ht,At,rt,st)});const $t=conf$4.rect_padding,Bt=Tt.node().getBBox(),Yt=Bt.width+$t*2,Xt=Bt.height+$t*2;configureSvgSize(Tt,Xt,Yt,conf$4.useMaxWidth),Tt.attr("viewBox",`${Bt.x-$t} ${Bt.y-$t} ${Yt} ${Xt}`)},requirementRenderer={draw:draw$5};var parser$2=function(){var nt=function(tr,qn,mr,br){for(mr=mr||{},br=tr.length;br--;mr[tr[br]]=qn);return mr},rt=[1,2],it=[1,3],st=[1,5],bt=[1,7],wt=[2,5],Et=[1,15],Tt=[1,17],At=[1,18],Dt=[1,19],Ot=[1,21],zt=[1,22],$t=[1,23],Bt=[1,29],Yt=[1,30],Xt=[1,31],Ht=[1,32],Qt=[1,33],Zt=[1,34],nn=[1,35],Kt=[1,36],ln=[1,37],sn=[1,38],bn=[1,39],wn=[1,40],Mn=[1,43],Sn=[1,44],Dn=[1,45],gn=[1,46],Un=[1,47],pn=[1,48],yr=[1,51],xn=[1,4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Mr=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,53,58,59,60,61,69,79],fr=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,52,53,58,59,60,61,69,79],cr=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,51,53,58,59,60,61,69,79],Gn=[4,5,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,53,58,59,60,61,69,79],lr=[67,68,69],ur=[1,121],vr=[1,4,5,7,16,20,22,25,26,32,33,34,36,38,39,40,41,42,43,45,47,49,50,51,52,53,58,59,60,61,69,79],Ir={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NEWLINE:5,directive:6,SD:7,document:8,line:9,statement:10,openDirective:11,typeDirective:12,closeDirective:13,":":14,argDirective:15,participant:16,actor:17,AS:18,restOfLine:19,participant_actor:20,signal:21,autonumber:22,NUM:23,off:24,activate:25,deactivate:26,note_statement:27,links_statement:28,link_statement:29,properties_statement:30,details_statement:31,title:32,legacy_title:33,acc_title:34,acc_title_value:35,acc_descr:36,acc_descr_value:37,acc_descr_multiline_value:38,loop:39,end:40,rect:41,opt:42,alt:43,else_sections:44,par:45,par_sections:46,critical:47,option_sections:48,break:49,option:50,and:51,else:52,note:53,placement:54,text2:55,over:56,actor_pair:57,links:58,link:59,properties:60,details:61,spaceList:62,",":63,left_of:64,right_of:65,signaltype:66,"+":67,"-":68,ACTOR:69,SOLID_OPEN_ARROW:70,DOTTED_OPEN_ARROW:71,SOLID_ARROW:72,DOTTED_ARROW:73,SOLID_CROSS:74,DOTTED_CROSS:75,SOLID_POINT:76,DOTTED_POINT:77,TXT:78,open_directive:79,type_directive:80,arg_directive:81,close_directive:82,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NEWLINE",7:"SD",14:":",16:"participant",18:"AS",19:"restOfLine",20:"participant_actor",22:"autonumber",23:"NUM",24:"off",25:"activate",26:"deactivate",32:"title",33:"legacy_title",34:"acc_title",35:"acc_title_value",36:"acc_descr",37:"acc_descr_value",38:"acc_descr_multiline_value",39:"loop",40:"end",41:"rect",42:"opt",43:"alt",45:"par",47:"critical",49:"break",50:"option",51:"and",52:"else",53:"note",56:"over",58:"links",59:"link",60:"properties",61:"details",63:",",64:"left_of",65:"right_of",67:"+",68:"-",69:"ACTOR",70:"SOLID_OPEN_ARROW",71:"DOTTED_OPEN_ARROW",72:"SOLID_ARROW",73:"DOTTED_ARROW",74:"SOLID_CROSS",75:"DOTTED_CROSS",76:"SOLID_POINT",77:"DOTTED_POINT",78:"TXT",79:"open_directive",80:"type_directive",81:"arg_directive",82:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[6,4],[6,6],[10,5],[10,3],[10,5],[10,3],[10,2],[10,4],[10,3],[10,3],[10,2],[10,3],[10,3],[10,2],[10,2],[10,2],[10,2],[10,2],[10,1],[10,1],[10,2],[10,2],[10,1],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,4],[10,1],[48,1],[48,4],[46,1],[46,4],[44,1],[44,4],[27,4],[27,4],[28,3],[29,3],[30,3],[31,3],[62,2],[62,1],[57,3],[57,1],[54,1],[54,1],[21,5],[21,5],[21,4],[17,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[66,1],[55,1],[11,1],[12,1],[15,1],[13,1]],performAction:function(qn,mr,br,hr,An,rn,vn){var hn=rn.length-1;switch(An){case 4:return hr.apply(rn[hn]),rn[hn];case 5:this.$=[];break;case 6:rn[hn-1].push(rn[hn]),this.$=rn[hn-1];break;case 7:case 8:this.$=rn[hn];break;case 9:this.$=[];break;case 12:rn[hn-3].type="addParticipant",rn[hn-3].description=hr.parseMessage(rn[hn-1]),this.$=rn[hn-3];break;case 13:rn[hn-1].type="addParticipant",this.$=rn[hn-1];break;case 14:rn[hn-3].type="addActor",rn[hn-3].description=hr.parseMessage(rn[hn-1]),this.$=rn[hn-3];break;case 15:rn[hn-1].type="addActor",this.$=rn[hn-1];break;case 17:this.$={type:"sequenceIndex",sequenceIndex:Number(rn[hn-2]),sequenceIndexStep:Number(rn[hn-1]),sequenceVisible:!0,signalType:hr.LINETYPE.AUTONUMBER};break;case 18:this.$={type:"sequenceIndex",sequenceIndex:Number(rn[hn-1]),sequenceIndexStep:1,sequenceVisible:!0,signalType:hr.LINETYPE.AUTONUMBER};break;case 19:this.$={type:"sequenceIndex",sequenceVisible:!1,signalType:hr.LINETYPE.AUTONUMBER};break;case 20:this.$={type:"sequenceIndex",sequenceVisible:!0,signalType:hr.LINETYPE.AUTONUMBER};break;case 21:this.$={type:"activeStart",signalType:hr.LINETYPE.ACTIVE_START,actor:rn[hn-1]};break;case 22:this.$={type:"activeEnd",signalType:hr.LINETYPE.ACTIVE_END,actor:rn[hn-1]};break;case 28:hr.setDiagramTitle(rn[hn].substring(6)),this.$=rn[hn].substring(6);break;case 29:hr.setDiagramTitle(rn[hn].substring(7)),this.$=rn[hn].substring(7);break;case 30:this.$=rn[hn].trim(),hr.setAccTitle(this.$);break;case 31:case 32:this.$=rn[hn].trim(),hr.setAccDescription(this.$);break;case 33:rn[hn-1].unshift({type:"loopStart",loopText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.LOOP_START}),rn[hn-1].push({type:"loopEnd",loopText:rn[hn-2],signalType:hr.LINETYPE.LOOP_END}),this.$=rn[hn-1];break;case 34:rn[hn-1].unshift({type:"rectStart",color:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.RECT_START}),rn[hn-1].push({type:"rectEnd",color:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.RECT_END}),this.$=rn[hn-1];break;case 35:rn[hn-1].unshift({type:"optStart",optText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.OPT_START}),rn[hn-1].push({type:"optEnd",optText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.OPT_END}),this.$=rn[hn-1];break;case 36:rn[hn-1].unshift({type:"altStart",altText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.ALT_START}),rn[hn-1].push({type:"altEnd",signalType:hr.LINETYPE.ALT_END}),this.$=rn[hn-1];break;case 37:rn[hn-1].unshift({type:"parStart",parText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.PAR_START}),rn[hn-1].push({type:"parEnd",signalType:hr.LINETYPE.PAR_END}),this.$=rn[hn-1];break;case 38:rn[hn-1].unshift({type:"criticalStart",criticalText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.CRITICAL_START}),rn[hn-1].push({type:"criticalEnd",signalType:hr.LINETYPE.CRITICAL_END}),this.$=rn[hn-1];break;case 39:rn[hn-1].unshift({type:"breakStart",breakText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.BREAK_START}),rn[hn-1].push({type:"breakEnd",optText:hr.parseMessage(rn[hn-2]),signalType:hr.LINETYPE.BREAK_END}),this.$=rn[hn-1];break;case 42:this.$=rn[hn-3].concat([{type:"option",optionText:hr.parseMessage(rn[hn-1]),signalType:hr.LINETYPE.CRITICAL_OPTION},rn[hn]]);break;case 44:this.$=rn[hn-3].concat([{type:"and",parText:hr.parseMessage(rn[hn-1]),signalType:hr.LINETYPE.PAR_AND},rn[hn]]);break;case 46:this.$=rn[hn-3].concat([{type:"else",altText:hr.parseMessage(rn[hn-1]),signalType:hr.LINETYPE.ALT_ELSE},rn[hn]]);break;case 47:this.$=[rn[hn-1],{type:"addNote",placement:rn[hn-2],actor:rn[hn-1].actor,text:rn[hn]}];break;case 48:rn[hn-2]=[].concat(rn[hn-1],rn[hn-1]).slice(0,2),rn[hn-2][0]=rn[hn-2][0].actor,rn[hn-2][1]=rn[hn-2][1].actor,this.$=[rn[hn-1],{type:"addNote",placement:hr.PLACEMENT.OVER,actor:rn[hn-2].slice(0,2),text:rn[hn]}];break;case 49:this.$=[rn[hn-1],{type:"addLinks",actor:rn[hn-1].actor,text:rn[hn]}];break;case 50:this.$=[rn[hn-1],{type:"addALink",actor:rn[hn-1].actor,text:rn[hn]}];break;case 51:this.$=[rn[hn-1],{type:"addProperties",actor:rn[hn-1].actor,text:rn[hn]}];break;case 52:this.$=[rn[hn-1],{type:"addDetails",actor:rn[hn-1].actor,text:rn[hn]}];break;case 55:this.$=[rn[hn-2],rn[hn]];break;case 56:this.$=rn[hn];break;case 57:this.$=hr.PLACEMENT.LEFTOF;break;case 58:this.$=hr.PLACEMENT.RIGHTOF;break;case 59:this.$=[rn[hn-4],rn[hn-1],{type:"addMessage",from:rn[hn-4].actor,to:rn[hn-1].actor,signalType:rn[hn-3],msg:rn[hn]},{type:"activeStart",signalType:hr.LINETYPE.ACTIVE_START,actor:rn[hn-1]}];break;case 60:this.$=[rn[hn-4],rn[hn-1],{type:"addMessage",from:rn[hn-4].actor,to:rn[hn-1].actor,signalType:rn[hn-3],msg:rn[hn]},{type:"activeEnd",signalType:hr.LINETYPE.ACTIVE_END,actor:rn[hn-4]}];break;case 61:this.$=[rn[hn-3],rn[hn-1],{type:"addMessage",from:rn[hn-3].actor,to:rn[hn-1].actor,signalType:rn[hn-2],msg:rn[hn]}];break;case 62:this.$={type:"addParticipant",actor:rn[hn]};break;case 63:this.$=hr.LINETYPE.SOLID_OPEN;break;case 64:this.$=hr.LINETYPE.DOTTED_OPEN;break;case 65:this.$=hr.LINETYPE.SOLID;break;case 66:this.$=hr.LINETYPE.DOTTED;break;case 67:this.$=hr.LINETYPE.SOLID_CROSS;break;case 68:this.$=hr.LINETYPE.DOTTED_CROSS;break;case 69:this.$=hr.LINETYPE.SOLID_POINT;break;case 70:this.$=hr.LINETYPE.DOTTED_POINT;break;case 71:this.$=hr.parseMessage(rn[hn].trim().substring(1));break;case 72:hr.parseDirective("%%{","open_directive");break;case 73:hr.parseDirective(rn[hn],"type_directive");break;case 74:rn[hn]=rn[hn].trim().replace(/'/g,'"'),hr.parseDirective(rn[hn],"arg_directive");break;case 75:hr.parseDirective("}%%","close_directive","sequence");break}},table:[{3:1,4:rt,5:it,6:4,7:st,11:6,79:bt},{1:[3]},{3:8,4:rt,5:it,6:4,7:st,11:6,79:bt},{3:9,4:rt,5:it,6:4,7:st,11:6,79:bt},{3:10,4:rt,5:it,6:4,7:st,11:6,79:bt},nt([1,4,5,16,20,22,25,26,32,33,34,36,38,39,41,42,43,45,47,49,53,58,59,60,61,69,79],wt,{8:11}),{12:12,80:[1,13]},{80:[2,72]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{13:49,14:[1,50],82:yr},nt([14,82],[2,73]),nt(xn,[2,6]),{6:41,10:52,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},nt(xn,[2,8]),nt(xn,[2,9]),{17:53,69:pn},{17:54,69:pn},{5:[1,55]},{5:[1,58],23:[1,56],24:[1,57]},{17:59,69:pn},{17:60,69:pn},{5:[1,61]},{5:[1,62]},{5:[1,63]},{5:[1,64]},{5:[1,65]},nt(xn,[2,28]),nt(xn,[2,29]),{35:[1,66]},{37:[1,67]},nt(xn,[2,32]),{19:[1,68]},{19:[1,69]},{19:[1,70]},{19:[1,71]},{19:[1,72]},{19:[1,73]},{19:[1,74]},nt(xn,[2,40]),{66:75,70:[1,76],71:[1,77],72:[1,78],73:[1,79],74:[1,80],75:[1,81],76:[1,82],77:[1,83]},{54:84,56:[1,85],64:[1,86],65:[1,87]},{17:88,69:pn},{17:89,69:pn},{17:90,69:pn},{17:91,69:pn},nt([5,18,63,70,71,72,73,74,75,76,77,78],[2,62]),{5:[1,92]},{15:93,81:[1,94]},{5:[2,75]},nt(xn,[2,7]),{5:[1,96],18:[1,95]},{5:[1,98],18:[1,97]},nt(xn,[2,16]),{5:[1,100],23:[1,99]},{5:[1,101]},nt(xn,[2,20]),{5:[1,102]},{5:[1,103]},nt(xn,[2,23]),nt(xn,[2,24]),nt(xn,[2,25]),nt(xn,[2,26]),nt(xn,[2,27]),nt(xn,[2,30]),nt(xn,[2,31]),nt(Mr,wt,{8:104}),nt(Mr,wt,{8:105}),nt(Mr,wt,{8:106}),nt(fr,wt,{44:107,8:108}),nt(cr,wt,{46:109,8:110}),nt(Gn,wt,{48:111,8:112}),nt(Mr,wt,{8:113}),{17:116,67:[1,114],68:[1,115],69:pn},nt(lr,[2,63]),nt(lr,[2,64]),nt(lr,[2,65]),nt(lr,[2,66]),nt(lr,[2,67]),nt(lr,[2,68]),nt(lr,[2,69]),nt(lr,[2,70]),{17:117,69:pn},{17:119,57:118,69:pn},{69:[2,57]},{69:[2,58]},{55:120,78:ur},{55:122,78:ur},{55:123,78:ur},{55:124,78:ur},nt(vr,[2,10]),{13:125,82:yr},{82:[2,74]},{19:[1,126]},nt(xn,[2,13]),{19:[1,127]},nt(xn,[2,15]),{5:[1,128]},nt(xn,[2,18]),nt(xn,[2,19]),nt(xn,[2,21]),nt(xn,[2,22]),{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[1,129],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[1,130],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[1,131],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{40:[1,132]},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[2,45],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,52:[1,133],53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{40:[1,134]},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[2,43],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,51:[1,135],53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{40:[1,136]},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[2,41],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,50:[1,137],53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{4:Et,5:Tt,6:41,9:14,10:16,11:6,16:At,17:42,20:Dt,21:20,22:Ot,25:zt,26:$t,27:24,28:25,29:26,30:27,31:28,32:Bt,33:Yt,34:Xt,36:Ht,38:Qt,39:Zt,40:[1,138],41:nn,42:Kt,43:ln,45:sn,47:bn,49:wn,53:Mn,58:Sn,59:Dn,60:gn,61:Un,69:pn,79:bt},{17:139,69:pn},{17:140,69:pn},{55:141,78:ur},{55:142,78:ur},{55:143,78:ur},{63:[1,144],78:[2,56]},{5:[2,49]},{5:[2,71]},{5:[2,50]},{5:[2,51]},{5:[2,52]},{5:[1,145]},{5:[1,146]},{5:[1,147]},nt(xn,[2,17]),nt(xn,[2,33]),nt(xn,[2,34]),nt(xn,[2,35]),nt(xn,[2,36]),{19:[1,148]},nt(xn,[2,37]),{19:[1,149]},nt(xn,[2,38]),{19:[1,150]},nt(xn,[2,39]),{55:151,78:ur},{55:152,78:ur},{5:[2,61]},{5:[2,47]},{5:[2,48]},{17:153,69:pn},nt(vr,[2,11]),nt(xn,[2,12]),nt(xn,[2,14]),nt(fr,wt,{8:108,44:154}),nt(cr,wt,{8:110,46:155}),nt(Gn,wt,{8:112,48:156}),{5:[2,59]},{5:[2,60]},{78:[2,55]},{40:[2,46]},{40:[2,44]},{40:[2,42]}],defaultActions:{7:[2,72],8:[2,1],9:[2,2],10:[2,3],51:[2,75],86:[2,57],87:[2,58],94:[2,74],120:[2,49],121:[2,71],122:[2,50],123:[2,51],124:[2,52],141:[2,61],142:[2,47],143:[2,48],151:[2,59],152:[2,60],153:[2,55],154:[2,46],155:[2,44],156:[2,42]},parseError:function(qn,mr){if(mr.recoverable)this.trace(qn);else{var br=new Error(qn);throw br.hash=mr,br}},parse:function(qn){var mr=this,br=[0],hr=[],An=[null],rn=[],vn=this.table,hn="",zn=0,On=0,Er=2,Rn=1,rr=rn.slice.call(arguments,1),Kn=Object.create(this.lexer),gr={yy:{}};for(var xr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,xr)&&(gr.yy[xr]=this.yy[xr]);Kn.setInput(qn,gr.yy),gr.yy.lexer=Kn,gr.yy.parser=this,typeof Kn.yylloc>"u"&&(Kn.yylloc={});var Lr=Kn.yylloc;rn.push(Lr);var Cr=Kn.options&&Kn.options.ranges;typeof gr.yy.parseError=="function"?this.parseError=gr.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Ar(){var er;return er=hr.pop()||Kn.lex()||Rn,typeof er!="number"&&(er instanceof Array&&(hr=er,er=hr.pop()),er=mr.symbols_[er]||er),er}for(var mi,vi,xi,Ci,Ei={},Bi,Ai,Fr,Ln;;){if(vi=br[br.length-1],this.defaultActions[vi]?xi=this.defaultActions[vi]:((mi===null||typeof mi>"u")&&(mi=Ar()),xi=vn[vi]&&vn[vi][mi]),typeof xi>"u"||!xi.length||!xi[0]){var Nn="";Ln=[];for(Bi in vn[vi])this.terminals_[Bi]&&Bi>Er&&Ln.push("'"+this.terminals_[Bi]+"'");Kn.showPosition?Nn="Parse error on line "+(zn+1)+`:
`+Kn.showPosition()+`
Expecting `+Ln.join(", ")+", got '"+(this.terminals_[mi]||mi)+"'":Nn="Parse error on line "+(zn+1)+": Unexpected "+(mi==Rn?"end of input":"'"+(this.terminals_[mi]||mi)+"'"),this.parseError(Nn,{text:Kn.match,token:this.terminals_[mi]||mi,line:Kn.yylineno,loc:Lr,expected:Ln})}if(xi[0]instanceof Array&&xi.length>1)throw new Error("Parse Error: multiple actions possible at state: "+vi+", token: "+mi);switch(xi[0]){case 1:br.push(mi),An.push(Kn.yytext),rn.push(Kn.yylloc),br.push(xi[1]),mi=null,On=Kn.yyleng,hn=Kn.yytext,zn=Kn.yylineno,Lr=Kn.yylloc;break;case 2:if(Ai=this.productions_[xi[1]][1],Ei.$=An[An.length-Ai],Ei._$={first_line:rn[rn.length-(Ai||1)].first_line,last_line:rn[rn.length-1].last_line,first_column:rn[rn.length-(Ai||1)].first_column,last_column:rn[rn.length-1].last_column},Cr&&(Ei._$.range=[rn[rn.length-(Ai||1)].range[0],rn[rn.length-1].range[1]]),Ci=this.performAction.apply(Ei,[hn,On,zn,gr.yy,xi[1],An,rn].concat(rr)),typeof Ci<"u")return Ci;Ai&&(br=br.slice(0,-1*Ai*2),An=An.slice(0,-1*Ai),rn=rn.slice(0,-1*Ai)),br.push(this.productions_[xi[1]][0]),An.push(Ei.$),rn.push(Ei._$),Fr=vn[br[br.length-2]][br[br.length-1]],br.push(Fr);break;case 3:return!0}}return!0}},Pr=function(){var tr={EOF:1,parseError:function(mr,br){if(this.yy.parser)this.yy.parser.parseError(mr,br);else throw new Error(mr)},setInput:function(qn,mr){return this.yy=mr||this.yy||{},this._input=qn,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var qn=this._input[0];this.yytext+=qn,this.yyleng++,this.offset++,this.match+=qn,this.matched+=qn;var mr=qn.match(/(?:\r\n?|\n).*/g);return mr?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),qn},unput:function(qn){var mr=qn.length,br=qn.split(/(?:\r\n?|\n)/g);this._input=qn+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-mr),this.offset-=mr;var hr=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),br.length-1&&(this.yylineno-=br.length-1);var An=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:br?(br.length===hr.length?this.yylloc.first_column:0)+hr[hr.length-br.length].length-br[0].length:this.yylloc.first_column-mr},this.options.ranges&&(this.yylloc.range=[An[0],An[0]+this.yyleng-mr]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(qn){this.unput(this.match.slice(qn))},pastInput:function(){var qn=this.matched.substr(0,this.matched.length-this.match.length);return(qn.length>20?"...":"")+qn.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var qn=this.match;return qn.length<20&&(qn+=this._input.substr(0,20-qn.length)),(qn.substr(0,20)+(qn.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var qn=this.pastInput(),mr=new Array(qn.length+1).join("-");return qn+this.upcomingInput()+`
`+mr+"^"},test_match:function(qn,mr){var br,hr,An;if(this.options.backtrack_lexer&&(An={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(An.yylloc.range=this.yylloc.range.slice(0))),hr=qn[0].match(/(?:\r\n?|\n).*/g),hr&&(this.yylineno+=hr.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:hr?hr[hr.length-1].length-hr[hr.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+qn[0].length},this.yytext+=qn[0],this.match+=qn[0],this.matches=qn,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(qn[0].length),this.matched+=qn[0],br=this.performAction.call(this,this.yy,this,mr,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),br)return br;if(this._backtrack){for(var rn in An)this[rn]=An[rn];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var qn,mr,br,hr;this._more||(this.yytext="",this.match="");for(var An=this._currentRules(),rn=0;rn<An.length;rn++)if(br=this._input.match(this.rules[An[rn]]),br&&(!mr||br[0].length>mr[0].length)){if(mr=br,hr=rn,this.options.backtrack_lexer){if(qn=this.test_match(br,An[rn]),qn!==!1)return qn;if(this._backtrack){mr=!1;continue}else return!1}else if(!this.options.flex)break}return mr?(qn=this.test_match(mr,An[hr]),qn!==!1?qn:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var mr=this.next();return mr||this.lex()},begin:function(mr){this.conditionStack.push(mr)},popState:function(){var mr=this.conditionStack.length-1;return mr>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(mr){return mr=this.conditionStack.length-1-Math.abs(mr||0),mr>=0?this.conditionStack[mr]:"INITIAL"},pushState:function(mr){this.begin(mr)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(mr,br,hr,An){switch(hr){case 0:return this.begin("open_directive"),79;case 1:return this.begin("type_directive"),80;case 2:return this.popState(),this.begin("arg_directive"),14;case 3:return this.popState(),this.popState(),82;case 4:return 81;case 5:return 5;case 6:break;case 7:break;case 8:break;case 9:break;case 10:break;case 11:return 23;case 12:return this.begin("ID"),16;case 13:return this.begin("ID"),20;case 14:return br.yytext=br.yytext.trim(),this.begin("ALIAS"),69;case 15:return this.popState(),this.popState(),this.begin("LINE"),18;case 16:return this.popState(),this.popState(),5;case 17:return this.begin("LINE"),39;case 18:return this.begin("LINE"),41;case 19:return this.begin("LINE"),42;case 20:return this.begin("LINE"),43;case 21:return this.begin("LINE"),52;case 22:return this.begin("LINE"),45;case 23:return this.begin("LINE"),51;case 24:return this.begin("LINE"),47;case 25:return this.begin("LINE"),50;case 26:return this.begin("LINE"),49;case 27:return this.popState(),19;case 28:return 40;case 29:return 64;case 30:return 65;case 31:return 58;case 32:return 59;case 33:return 60;case 34:return 61;case 35:return 56;case 36:return 53;case 37:return this.begin("ID"),25;case 38:return this.begin("ID"),26;case 39:return 32;case 40:return 33;case 41:return this.begin("acc_title"),34;case 42:return this.popState(),"acc_title_value";case 43:return this.begin("acc_descr"),36;case 44:return this.popState(),"acc_descr_value";case 45:this.begin("acc_descr_multiline");break;case 46:this.popState();break;case 47:return"acc_descr_multiline_value";case 48:return 7;case 49:return 22;case 50:return 24;case 51:return 63;case 52:return 5;case 53:return br.yytext=br.yytext.trim(),69;case 54:return 72;case 55:return 73;case 56:return 70;case 57:return 71;case 58:return 74;case 59:return 75;case 60:return 76;case 61:return 77;case 62:return 78;case 63:return 67;case 64:return 68;case 65:return 5;case 66:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[0-9]+(?=[ \n]+))/i,/^(?:participant\b)/i,/^(?:actor\b)/i,/^(?:[^\->:\n,;]+?([\-]*[^\->:\n,;]+?)*?(?=((?!\n)\s)+as(?!\n)\s|[#\n;]|$))/i,/^(?:as\b)/i,/^(?:(?:))/i,/^(?:loop\b)/i,/^(?:rect\b)/i,/^(?:opt\b)/i,/^(?:alt\b)/i,/^(?:else\b)/i,/^(?:par\b)/i,/^(?:and\b)/i,/^(?:critical\b)/i,/^(?:option\b)/i,/^(?:break\b)/i,/^(?:(?:[:]?(?:no)?wrap)?[^#\n;]*)/i,/^(?:end\b)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:links\b)/i,/^(?:link\b)/i,/^(?:properties\b)/i,/^(?:details\b)/i,/^(?:over\b)/i,/^(?:note\b)/i,/^(?:activate\b)/i,/^(?:deactivate\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:title:\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:sequenceDiagram\b)/i,/^(?:autonumber\b)/i,/^(?:off\b)/i,/^(?:,)/i,/^(?:;)/i,/^(?:[^\+\->:\n,;]+((?!(-x|--x|-\)|--\)))[\-]*[^\+\->:\n,;]+)*)/i,/^(?:->>)/i,/^(?:-->>)/i,/^(?:->)/i,/^(?:-->)/i,/^(?:-[x])/i,/^(?:--[x])/i,/^(?:-[\)])/i,/^(?:--[\)])/i,/^(?::(?:(?:no)?wrap)?[^#\n;]+)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:$)/i,/^(?:.)/i],conditions:{acc_descr_multiline:{rules:[46,47],inclusive:!1},acc_descr:{rules:[44],inclusive:!1},acc_title:{rules:[42],inclusive:!1},open_directive:{rules:[1,8],inclusive:!1},type_directive:{rules:[2,3,8],inclusive:!1},arg_directive:{rules:[3,4,8],inclusive:!1},ID:{rules:[7,8,14],inclusive:!1},ALIAS:{rules:[7,8,15,16],inclusive:!1},LINE:{rules:[7,8,27],inclusive:!1},INITIAL:{rules:[0,5,6,8,9,10,11,12,13,17,18,19,20,21,22,23,24,25,26,28,29,30,31,32,33,34,35,36,37,38,39,40,41,43,45,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66],inclusive:!0}}};return tr}();Ir.lexer=Pr;function _r(){this.yy={}}return _r.prototype=Ir,Ir.Parser=_r,new _r}();parser$2.parser=parser$2;const sequenceParser=parser$2,sequenceDetector=nt=>nt.match(/^\s*sequenceDiagram/)!==null;let prevActor,actors$1={},messages=[],sequenceNumbersEnabled=!1,wrapEnabled;const parseDirective$3=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},addActor=function(nt,rt,it,st){const bt=actors$1[nt];bt&&rt===bt.name&&it==null||((it==null||it.text==null)&&(it={text:rt,wrap:null,type:st}),(st==null||it.text==null)&&(it={text:rt,wrap:null,type:st}),actors$1[nt]={name:rt,description:it.text,wrap:it.wrap===void 0&&autoWrap()||!!it.wrap,prevActor,links:{},properties:{},actorCnt:null,rectData:null,type:st||"participant"},prevActor&&actors$1[prevActor]&&(actors$1[prevActor].nextActor=nt),prevActor=nt)},activationCount=nt=>{let rt,it=0;for(rt=0;rt<messages.length;rt++)messages[rt].type===LINETYPE.ACTIVE_START&&messages[rt].from.actor===nt&&it++,messages[rt].type===LINETYPE.ACTIVE_END&&messages[rt].from.actor===nt&&it--;return it},addMessage=function(nt,rt,it,st){messages.push({from:nt,to:rt,message:it.text,wrap:it.wrap===void 0&&autoWrap()||!!it.wrap,answer:st})},addSignal=function(nt,rt,it={text:void 0,wrap:void 0},st){if(st===LINETYPE.ACTIVE_END&&activationCount(nt.actor)<1){let wt=new Error("Trying to inactivate an inactive participant ("+nt.actor+")");throw wt.hash={text:"->>-",token:"->>-",line:"1",loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:["'ACTIVE_PARTICIPANT'"]},wt}return messages.push({from:nt,to:rt,message:it.text,wrap:it.wrap===void 0&&autoWrap()||!!it.wrap,type:st}),!0},getMessages=function(){return messages},getActors$1=function(){return actors$1},getActor=function(nt){return actors$1[nt]},getActorKeys=function(){return Object.keys(actors$1)},enableSequenceNumbers=function(){sequenceNumbersEnabled=!0},disableSequenceNumbers=function(){sequenceNumbersEnabled=!1},showSequenceNumbers=()=>sequenceNumbersEnabled,setWrap=function(nt){wrapEnabled=nt},autoWrap=()=>wrapEnabled!==void 0?wrapEnabled:getConfig$1().sequence.wrap,clear$2=function(){actors$1={},messages=[],sequenceNumbersEnabled=!1,clear$g()},parseMessage=function(nt){const rt=nt.trim(),it={text:rt.replace(/^:?(?:no)?wrap:/,"").trim(),wrap:rt.match(/^:?wrap:/)!==null?!0:rt.match(/^:?nowrap:/)!==null?!1:void 0};return log$1.debug("parseMessage:",it),it},LINETYPE={SOLID:0,DOTTED:1,NOTE:2,SOLID_CROSS:3,DOTTED_CROSS:4,SOLID_OPEN:5,DOTTED_OPEN:6,LOOP_START:10,LOOP_END:11,ALT_START:12,ALT_ELSE:13,ALT_END:14,OPT_START:15,OPT_END:16,ACTIVE_START:17,ACTIVE_END:18,PAR_START:19,PAR_AND:20,PAR_END:21,RECT_START:22,RECT_END:23,SOLID_POINT:24,DOTTED_POINT:25,AUTONUMBER:26,CRITICAL_START:27,CRITICAL_OPTION:28,CRITICAL_END:29,BREAK_START:30,BREAK_END:31},ARROWTYPE={FILLED:0,OPEN:1},PLACEMENT={LEFTOF:0,RIGHTOF:1,OVER:2},addNote=function(nt,rt,it){it.text,it.wrap===void 0&&autoWrap()||it.wrap;const st=[].concat(nt,nt);messages.push({from:st[0],to:st[1],message:it.text,wrap:it.wrap===void 0&&autoWrap()||!!it.wrap,type:LINETYPE.NOTE,placement:rt})},addLinks=function(nt,rt){const it=getActor(nt);try{let st=sanitizeText$5(rt.text,getConfig$1());st=st.replace(/&amp;/g,"&"),st=st.replace(/&equals;/g,"=");const bt=JSON.parse(st);insertLinks(it,bt)}catch(st){log$1.error("error while parsing actor link text",st)}},addALink=function(nt,rt){const it=getActor(nt);try{const Et={};let Tt=sanitizeText$5(rt.text,getConfig$1());var st=Tt.indexOf("@");Tt=Tt.replace(/&amp;/g,"&"),Tt=Tt.replace(/&equals;/g,"=");var bt=Tt.slice(0,st-1).trim(),wt=Tt.slice(st+1).trim();Et[bt]=wt,insertLinks(it,Et)}catch(Et){log$1.error("error while parsing actor link text",Et)}};function insertLinks(nt,rt){if(nt.links==null)nt.links=rt;else for(let it in rt)nt.links[it]=rt[it]}const addProperties=function(nt,rt){const it=getActor(nt);try{let st=sanitizeText$5(rt.text,getConfig$1());const bt=JSON.parse(st);insertProperties(it,bt)}catch(st){log$1.error("error while parsing actor properties text",st)}};function insertProperties(nt,rt){if(nt.properties==null)nt.properties=rt;else for(let it in rt)nt.properties[it]=rt[it]}const addDetails=function(nt,rt){const it=getActor(nt),st=document.getElementById(rt.text);try{const bt=st.innerHTML,wt=JSON.parse(bt);wt.properties&&insertProperties(it,wt.properties),wt.links&&insertLinks(it,wt.links)}catch(bt){log$1.error("error while parsing actor details text",bt)}},getActorProperty=function(nt,rt){if(nt!==void 0&&nt.properties!==void 0)return nt.properties[rt]},apply=function(nt){if(Array.isArray(nt))nt.forEach(function(rt){apply(rt)});else switch(nt.type){case"sequenceIndex":messages.push({from:void 0,to:void 0,message:{start:nt.sequenceIndex,step:nt.sequenceIndexStep,visible:nt.sequenceVisible},wrap:!1,type:nt.signalType});break;case"addParticipant":addActor(nt.actor,nt.actor,nt.description,"participant");break;case"addActor":addActor(nt.actor,nt.actor,nt.description,"actor");break;case"activeStart":addSignal(nt.actor,void 0,void 0,nt.signalType);break;case"activeEnd":addSignal(nt.actor,void 0,void 0,nt.signalType);break;case"addNote":addNote(nt.actor,nt.placement,nt.text);break;case"addLinks":addLinks(nt.actor,nt.text);break;case"addALink":addALink(nt.actor,nt.text);break;case"addProperties":addProperties(nt.actor,nt.text);break;case"addDetails":addDetails(nt.actor,nt.text);break;case"addMessage":addSignal(nt.from,nt.to,nt.msg,nt.signalType);break;case"loopStart":addSignal(void 0,void 0,nt.loopText,nt.signalType);break;case"loopEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"rectStart":addSignal(void 0,void 0,nt.color,nt.signalType);break;case"rectEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"optStart":addSignal(void 0,void 0,nt.optText,nt.signalType);break;case"optEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"altStart":addSignal(void 0,void 0,nt.altText,nt.signalType);break;case"else":addSignal(void 0,void 0,nt.altText,nt.signalType);break;case"altEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"setAccTitle":setAccTitle(nt.text);break;case"parStart":addSignal(void 0,void 0,nt.parText,nt.signalType);break;case"and":addSignal(void 0,void 0,nt.parText,nt.signalType);break;case"parEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"criticalStart":addSignal(void 0,void 0,nt.criticalText,nt.signalType);break;case"option":addSignal(void 0,void 0,nt.optionText,nt.signalType);break;case"criticalEnd":addSignal(void 0,void 0,void 0,nt.signalType);break;case"breakStart":addSignal(void 0,void 0,nt.breakText,nt.signalType);break;case"breakEnd":addSignal(void 0,void 0,void 0,nt.signalType);break}},sequenceDb={addActor,addMessage,addSignal,addLinks,addDetails,addProperties,autoWrap,setWrap,enableSequenceNumbers,disableSequenceNumbers,showSequenceNumbers,getMessages,getActors:getActors$1,getActor,getActorKeys,getActorProperty,getAccTitle,getDiagramTitle,setDiagramTitle,parseDirective:parseDirective$3,getConfig:()=>getConfig$1().sequence,clear:clear$2,parseMessage,LINETYPE,ARROWTYPE,PLACEMENT,addNote,setAccTitle,apply,setAccDescription,getAccDescription};let interactionFunctions=[];const addFunction=nt=>{interactionFunctions.push(nt)},attachFunctions=()=>{interactionFunctions.forEach(nt=>{nt()}),interactionFunctions=[]},drawRect$1=function(nt,rt){const it=nt.append("rect");return it.attr("x",rt.x),it.attr("y",rt.y),it.attr("fill",rt.fill),it.attr("stroke",rt.stroke),it.attr("width",rt.width),it.attr("height",rt.height),it.attr("rx",rt.rx),it.attr("ry",rt.ry),rt.class!==void 0&&it.attr("class",rt.class),it},addPopupInteraction=(nt,rt)=>{addFunction(()=>{const it=document.querySelectorAll(nt);it.length!==0&&(it[0].addEventListener("mouseover",function(){popupMenuUpFunc("actor"+rt+"_popup")}),it[0].addEventListener("mouseout",function(){popupMenuDownFunc("actor"+rt+"_popup")}))})},drawPopup=function(nt,rt,it,st,bt){if(rt.links===void 0||rt.links===null||Object.keys(rt.links).length===0)return{height:0,width:0};const wt=rt.links,Et=rt.actorCnt,Tt=rt.rectData;var At="none";bt&&(At="block !important");const Dt=nt.append("g");Dt.attr("id","actor"+Et+"_popup"),Dt.attr("class","actorPopupMenu"),Dt.attr("display",At),addPopupInteraction("#actor"+Et+"_popup",Et);var Ot="";Tt.class!==void 0&&(Ot=" "+Tt.class);let zt=Tt.width>it?Tt.width:it;const $t=Dt.append("rect");if($t.attr("class","actorPopupMenuPanel"+Ot),$t.attr("x",Tt.x),$t.attr("y",Tt.height),$t.attr("fill",Tt.fill),$t.attr("stroke",Tt.stroke),$t.attr("width",zt),$t.attr("height",Tt.height),$t.attr("rx",Tt.rx),$t.attr("ry",Tt.ry),wt!=null){var Bt=20;for(let Ht in wt){var Yt=Dt.append("a"),Xt=sanitizeUrl_1(wt[Ht]);Yt.attr("xlink:href",Xt),Yt.attr("target","_blank"),_drawMenuItemTextCandidateFunc(st)(Ht,Yt,Tt.x+10,Tt.height+Bt,zt,20,{class:"actor"},st),Bt+=30}}return $t.attr("height",Bt),{height:Tt.height+Bt,width:zt}},drawImage=function(nt,rt,it,st){const bt=nt.append("image");bt.attr("x",rt),bt.attr("y",it);var wt=sanitizeUrl_1(st);bt.attr("xlink:href",wt)},drawEmbeddedImage=function(nt,rt,it,st){const bt=nt.append("use");bt.attr("x",rt),bt.attr("y",it);var wt=sanitizeUrl_1(st);bt.attr("xlink:href","#"+wt)},popupMenu=function(nt){return"var pu = document.getElementById('"+nt+"'); if (pu != null) { pu.style.display = 'block'; }"},popdownMenu=function(nt){return"var pu = document.getElementById('"+nt+"'); if (pu != null) { pu.style.display = 'none'; }"},popupMenuUpFunc=function(nt){var rt=document.getElementById(nt);rt!=null&&(rt.style.display="block")},popupMenuDownFunc=function(nt){var rt=document.getElementById(nt);rt!=null&&(rt.style.display="none")},drawText$1=function(nt,rt){let it=0,st=0;const bt=rt.text.split(common$1.lineBreakRegex);let wt=[],Et=0,Tt=()=>rt.y;if(rt.valign!==void 0&&rt.textMargin!==void 0&&rt.textMargin>0)switch(rt.valign){case"top":case"start":Tt=()=>Math.round(rt.y+rt.textMargin);break;case"middle":case"center":Tt=()=>Math.round(rt.y+(it+st+rt.textMargin)/2);break;case"bottom":case"end":Tt=()=>Math.round(rt.y+(it+st+2*rt.textMargin)-rt.textMargin);break}if(rt.anchor!==void 0&&rt.textMargin!==void 0&&rt.width!==void 0)switch(rt.anchor){case"left":case"start":rt.x=Math.round(rt.x+rt.textMargin),rt.anchor="start",rt.dominantBaseline="middle",rt.alignmentBaseline="middle";break;case"middle":case"center":rt.x=Math.round(rt.x+rt.width/2),rt.anchor="middle",rt.dominantBaseline="middle",rt.alignmentBaseline="middle";break;case"right":case"end":rt.x=Math.round(rt.x+rt.width-rt.textMargin),rt.anchor="end",rt.dominantBaseline="middle",rt.alignmentBaseline="middle";break}for(let[At,Dt]of bt.entries()){rt.textMargin!==void 0&&rt.textMargin===0&&rt.fontSize!==void 0&&(Et=At*rt.fontSize);const Ot=nt.append("text");if(Ot.attr("x",rt.x),Ot.attr("y",Tt()),rt.anchor!==void 0&&Ot.attr("text-anchor",rt.anchor).attr("dominant-baseline",rt.dominantBaseline).attr("alignment-baseline",rt.alignmentBaseline),rt.fontFamily!==void 0&&Ot.style("font-family",rt.fontFamily),rt.fontSize!==void 0&&Ot.style("font-size",rt.fontSize),rt.fontWeight!==void 0&&Ot.style("font-weight",rt.fontWeight),rt.fill!==void 0&&Ot.attr("fill",rt.fill),rt.class!==void 0&&Ot.attr("class",rt.class),rt.dy!==void 0?Ot.attr("dy",rt.dy):Et!==0&&Ot.attr("dy",Et),rt.tspan){const zt=Ot.append("tspan");zt.attr("x",rt.x),rt.fill!==void 0&&zt.attr("fill",rt.fill),zt.text(Dt)}else Ot.text(Dt);rt.valign!==void 0&&rt.textMargin!==void 0&&rt.textMargin>0&&(st+=(Ot._groups||Ot)[0][0].getBBox().height,it=st),wt.push(Ot)}return wt},drawLabel$1=function(nt,rt){function it(bt,wt,Et,Tt,At){return bt+","+wt+" "+(bt+Et)+","+wt+" "+(bt+Et)+","+(wt+Tt-At)+" "+(bt+Et-At*1.2)+","+(wt+Tt)+" "+bt+","+(wt+Tt)}const st=nt.append("polygon");return st.attr("points",it(rt.x,rt.y,rt.width,rt.height,7)),st.attr("class","labelBox"),rt.y=rt.y+rt.height/2,drawText$1(nt,rt),st};let actorCnt=-1;const fixLifeLineHeights=(nt,rt)=>{!nt.selectAll||nt.selectAll(".actor-line").attr("class","200").attr("y2",rt-55)},drawActorTypeParticipant=function(nt,rt,it){const st=rt.x+rt.width/2,bt=nt.append("g");var wt=bt;rt.y===0&&(actorCnt++,wt.append("line").attr("id","actor"+actorCnt).attr("x1",st).attr("y1",5).attr("x2",st).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"),wt=bt.append("g"),rt.actorCnt=actorCnt,rt.links!=null&&(wt.attr("id","root-"+actorCnt),addPopupInteraction("#root-"+actorCnt,actorCnt)));const Et=getNoteRect$1();var Tt="actor";rt.properties!=null&&rt.properties.class?Tt=rt.properties.class:Et.fill="#eaeaea",Et.x=rt.x,Et.y=rt.y,Et.width=rt.width,Et.height=rt.height,Et.class=Tt,Et.rx=3,Et.ry=3;const At=drawRect$1(wt,Et);if(rt.rectData=Et,rt.properties!=null&&rt.properties.icon){const Ot=rt.properties.icon.trim();Ot.charAt(0)==="@"?drawEmbeddedImage(wt,Et.x+Et.width-20,Et.y+10,Ot.substr(1)):drawImage(wt,Et.x+Et.width-20,Et.y+10,Ot)}_drawTextCandidateFunc$1(it)(rt.description,wt,Et.x,Et.y,Et.width,Et.height,{class:"actor"},it);let Dt=rt.height;if(At.node){const Ot=At.node().getBBox();rt.height=Ot.height,Dt=Ot.height}return Dt},drawActorTypeActor=function(nt,rt,it){const st=rt.x+rt.width/2;rt.y===0&&(actorCnt++,nt.append("line").attr("id","actor"+actorCnt).attr("x1",st).attr("y1",80).attr("x2",st).attr("y2",2e3).attr("class","actor-line").attr("stroke-width","0.5px").attr("stroke","#999"));const bt=nt.append("g");bt.attr("class","actor-man");const wt=getNoteRect$1();wt.x=rt.x,wt.y=rt.y,wt.fill="#eaeaea",wt.width=rt.width,wt.height=rt.height,wt.class="actor",wt.rx=3,wt.ry=3,bt.append("line").attr("id","actor-man-torso"+actorCnt).attr("x1",st).attr("y1",rt.y+25).attr("x2",st).attr("y2",rt.y+45),bt.append("line").attr("id","actor-man-arms"+actorCnt).attr("x1",st-18).attr("y1",rt.y+33).attr("x2",st+18).attr("y2",rt.y+33),bt.append("line").attr("x1",st-18).attr("y1",rt.y+60).attr("x2",st).attr("y2",rt.y+45),bt.append("line").attr("x1",st).attr("y1",rt.y+45).attr("x2",st+16).attr("y2",rt.y+60);const Et=bt.append("circle");Et.attr("cx",rt.x+rt.width/2),Et.attr("cy",rt.y+10),Et.attr("r",15),Et.attr("width",rt.width),Et.attr("height",rt.height);const Tt=bt.node().getBBox();return rt.height=Tt.height,_drawTextCandidateFunc$1(it)(rt.description,bt,wt.x,wt.y+35,wt.width,wt.height,{class:"actor"},it),rt.height},drawActor=function(nt,rt,it){switch(rt.type){case"actor":return drawActorTypeActor(nt,rt,it);case"participant":return drawActorTypeParticipant(nt,rt,it)}},anchorElement=function(nt){return nt.append("g")},drawActivation=function(nt,rt,it,st,bt){const wt=getNoteRect$1(),Et=rt.anchored;wt.x=rt.startx,wt.y=rt.starty,wt.class="activation"+bt%3,wt.width=rt.stopx-rt.startx,wt.height=it-rt.starty,drawRect$1(Et,wt)},drawLoop=function(nt,rt,it,st){const{boxMargin:bt,boxTextMargin:wt,labelBoxHeight:Et,labelBoxWidth:Tt,messageFontFamily:At,messageFontSize:Dt,messageFontWeight:Ot}=st,zt=nt.append("g"),$t=function(Xt,Ht,Qt,Zt){return zt.append("line").attr("x1",Xt).attr("y1",Ht).attr("x2",Qt).attr("y2",Zt).attr("class","loopLine")};$t(rt.startx,rt.starty,rt.stopx,rt.starty),$t(rt.stopx,rt.starty,rt.stopx,rt.stopy),$t(rt.startx,rt.stopy,rt.stopx,rt.stopy),$t(rt.startx,rt.starty,rt.startx,rt.stopy),rt.sections!==void 0&&rt.sections.forEach(function(Xt){$t(rt.startx,Xt.y,rt.stopx,Xt.y).style("stroke-dasharray","3, 3")});let Bt=getTextObj$1();Bt.text=it,Bt.x=rt.startx,Bt.y=rt.starty,Bt.fontFamily=At,Bt.fontSize=Dt,Bt.fontWeight=Ot,Bt.anchor="middle",Bt.valign="middle",Bt.tspan=!1,Bt.width=Tt||50,Bt.height=Et||20,Bt.textMargin=wt,Bt.class="labelText",drawLabel$1(zt,Bt),Bt=getTextObj$1(),Bt.text=rt.title,Bt.x=rt.startx+Tt/2+(rt.stopx-rt.startx)/2,Bt.y=rt.starty+bt+wt,Bt.anchor="middle",Bt.valign="middle",Bt.textMargin=wt,Bt.class="loopText",Bt.fontFamily=At,Bt.fontSize=Dt,Bt.fontWeight=Ot,Bt.wrap=!0;let Yt=drawText$1(zt,Bt);return rt.sectionTitles!==void 0&&rt.sectionTitles.forEach(function(Xt,Ht){if(Xt.message){Bt.text=Xt.message,Bt.x=rt.startx+(rt.stopx-rt.startx)/2,Bt.y=rt.sections[Ht].y+bt+wt,Bt.class="loopText",Bt.anchor="middle",Bt.valign="middle",Bt.tspan=!1,Bt.fontFamily=At,Bt.fontSize=Dt,Bt.fontWeight=Ot,Bt.wrap=rt.wrap,Yt=drawText$1(zt,Bt);let Qt=Math.round(Yt.map(Zt=>(Zt._groups||Zt)[0][0].getBBox().height).reduce((Zt,nn)=>Zt+nn));rt.sections[Ht].height+=Qt-(bt+wt)}}),rt.height=Math.round(rt.stopy-rt.starty),zt},drawBackgroundRect$1=function(nt,rt){drawRect$1(nt,{x:rt.startx,y:rt.starty,width:rt.stopx-rt.startx,height:rt.stopy-rt.starty,fill:rt.fill,class:"rect"}).lower()},insertDatabaseIcon=function(nt){nt.append("defs").append("symbol").attr("id","database").attr("fill-rule","evenodd").attr("clip-rule","evenodd").append("path").attr("transform","scale(.5)").attr("d","M12.258.001l.256.004.255.005.253.008.251.01.249.012.247.015.246.016.242.019.241.02.239.023.236.024.233.027.231.028.229.031.225.032.223.034.22.036.217.038.214.04.211.041.208.043.205.045.201.046.198.048.194.05.191.051.187.053.183.054.18.056.175.057.172.059.168.06.163.061.16.063.155.064.15.066.074.033.073.033.071.034.07.034.069.035.068.035.067.035.066.035.064.036.064.036.062.036.06.036.06.037.058.037.058.037.055.038.055.038.053.038.052.038.051.039.05.039.048.039.047.039.045.04.044.04.043.04.041.04.04.041.039.041.037.041.036.041.034.041.033.042.032.042.03.042.029.042.027.042.026.043.024.043.023.043.021.043.02.043.018.044.017.043.015.044.013.044.012.044.011.045.009.044.007.045.006.045.004.045.002.045.001.045v17l-.001.045-.002.045-.004.045-.006.045-.007.045-.009.044-.011.045-.012.044-.013.044-.015.044-.017.043-.018.044-.02.043-.021.043-.023.043-.024.043-.026.043-.027.042-.029.042-.03.042-.032.042-.033.042-.034.041-.036.041-.037.041-.039.041-.04.041-.041.04-.043.04-.044.04-.045.04-.047.039-.048.039-.05.039-.051.039-.052.038-.053.038-.055.038-.055.038-.058.037-.058.037-.06.037-.06.036-.062.036-.064.036-.064.036-.066.035-.067.035-.068.035-.069.035-.07.034-.071.034-.073.033-.074.033-.15.066-.155.064-.16.063-.163.061-.168.06-.172.059-.175.057-.18.056-.183.054-.187.053-.191.051-.194.05-.198.048-.201.046-.205.045-.208.043-.211.041-.214.04-.217.038-.22.036-.223.034-.225.032-.229.031-.231.028-.233.027-.236.024-.239.023-.241.02-.242.019-.246.016-.247.015-.249.012-.251.01-.253.008-.255.005-.256.004-.258.001-.258-.001-.256-.004-.255-.005-.253-.008-.251-.01-.249-.012-.247-.015-.245-.016-.243-.019-.241-.02-.238-.023-.236-.024-.234-.027-.231-.028-.228-.031-.226-.032-.223-.034-.22-.036-.217-.038-.214-.04-.211-.041-.208-.043-.204-.045-.201-.046-.198-.048-.195-.05-.19-.051-.187-.053-.184-.054-.179-.056-.176-.057-.172-.059-.167-.06-.164-.061-.159-.063-.155-.064-.151-.066-.074-.033-.072-.033-.072-.034-.07-.034-.069-.035-.068-.035-.067-.035-.066-.035-.064-.036-.063-.036-.062-.036-.061-.036-.06-.037-.058-.037-.057-.037-.056-.038-.055-.038-.053-.038-.052-.038-.051-.039-.049-.039-.049-.039-.046-.039-.046-.04-.044-.04-.043-.04-.041-.04-.04-.041-.039-.041-.037-.041-.036-.041-.034-.041-.033-.042-.032-.042-.03-.042-.029-.042-.027-.042-.026-.043-.024-.043-.023-.043-.021-.043-.02-.043-.018-.044-.017-.043-.015-.044-.013-.044-.012-.044-.011-.045-.009-.044-.007-.045-.006-.045-.004-.045-.002-.045-.001-.045v-17l.001-.045.002-.045.004-.045.006-.045.007-.045.009-.044.011-.045.012-.044.013-.044.015-.044.017-.043.018-.044.02-.043.021-.043.023-.043.024-.043.026-.043.027-.042.029-.042.03-.042.032-.042.033-.042.034-.041.036-.041.037-.041.039-.041.04-.041.041-.04.043-.04.044-.04.046-.04.046-.039.049-.039.049-.039.051-.039.052-.038.053-.038.055-.038.056-.038.057-.037.058-.037.06-.037.061-.036.062-.036.063-.036.064-.036.066-.035.067-.035.068-.035.069-.035.07-.034.072-.034.072-.033.074-.033.151-.066.155-.064.159-.063.164-.061.167-.06.172-.059.176-.057.179-.056.184-.054.187-.053.19-.051.195-.05.198-.048.201-.046.204-.045.208-.043.211-.041.214-.04.217-.038.22-.036.223-.034.226-.032.228-.031.231-.028.234-.027.236-.024.238-.023.241-.02.243-.019.245-.016.247-.015.249-.012.251-.01.253-.008.255-.005.256-.004.258-.001.258.001zm-9.258 20.499v.01l.001.021.003.021.004.022.005.021.006.022.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.023.018.024.019.024.021.024.022.025.023.024.024.025.052.049.056.05.061.051.066.051.07.051.075.051.079.052.084.052.088.052.092.052.097.052.102.051.105.052.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.048.144.049.147.047.152.047.155.047.16.045.163.045.167.043.171.043.176.041.178.041.183.039.187.039.19.037.194.035.197.035.202.033.204.031.209.03.212.029.216.027.219.025.222.024.226.021.23.02.233.018.236.016.24.015.243.012.246.01.249.008.253.005.256.004.259.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.021.224-.024.22-.026.216-.027.212-.028.21-.031.205-.031.202-.034.198-.034.194-.036.191-.037.187-.039.183-.04.179-.04.175-.042.172-.043.168-.044.163-.045.16-.046.155-.046.152-.047.148-.048.143-.049.139-.049.136-.05.131-.05.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.053.083-.051.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.05.023-.024.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.023.01-.022.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.127l-.077.055-.08.053-.083.054-.085.053-.087.052-.09.052-.093.051-.095.05-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.045-.118.044-.12.043-.122.042-.124.042-.126.041-.128.04-.13.04-.132.038-.134.038-.135.037-.138.037-.139.035-.142.035-.143.034-.144.033-.147.032-.148.031-.15.03-.151.03-.153.029-.154.027-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.01-.179.008-.179.008-.181.006-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.006-.179-.008-.179-.008-.178-.01-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.027-.153-.029-.151-.03-.15-.03-.148-.031-.146-.032-.145-.033-.143-.034-.141-.035-.14-.035-.137-.037-.136-.037-.134-.038-.132-.038-.13-.04-.128-.04-.126-.041-.124-.042-.122-.042-.12-.044-.117-.043-.116-.045-.113-.045-.112-.046-.109-.047-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.05-.093-.052-.09-.051-.087-.052-.085-.053-.083-.054-.08-.054-.077-.054v4.127zm0-5.654v.011l.001.021.003.021.004.021.005.022.006.022.007.022.009.022.01.022.011.023.012.023.013.023.015.024.016.023.017.024.018.024.019.024.021.024.022.024.023.025.024.024.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.052.11.051.114.051.119.052.123.05.127.051.131.05.135.049.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.044.171.042.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.022.23.02.233.018.236.016.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.012.241-.015.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.048.139-.05.136-.049.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.051.051-.049.023-.025.023-.024.021-.025.02-.024.019-.024.018-.024.017-.024.015-.023.014-.023.013-.024.012-.022.01-.023.01-.023.008-.022.006-.022.006-.022.004-.021.004-.022.001-.021.001-.021v-4.139l-.077.054-.08.054-.083.054-.085.052-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.049-.105.048-.106.047-.109.047-.111.046-.114.045-.115.044-.118.044-.12.044-.122.042-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.035-.143.033-.144.033-.147.033-.148.031-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.025-.161.024-.162.023-.163.022-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.011-.178.009-.179.009-.179.007-.181.007-.182.005-.182.004-.184.003-.184.002h-.37l-.184-.002-.184-.003-.182-.004-.182-.005-.181-.007-.179-.007-.179-.009-.178-.009-.176-.011-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.022-.162-.023-.161-.024-.159-.025-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.031-.146-.033-.145-.033-.143-.033-.141-.035-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.04-.126-.041-.124-.042-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.047-.105-.048-.102-.049-.1-.049-.097-.05-.095-.051-.093-.051-.09-.051-.087-.053-.085-.052-.083-.054-.08-.054-.077-.054v4.139zm0-5.666v.011l.001.02.003.022.004.021.005.022.006.021.007.022.009.023.01.022.011.023.012.023.013.023.015.023.016.024.017.024.018.023.019.024.021.025.022.024.023.024.024.025.052.05.056.05.061.05.066.051.07.051.075.052.079.051.084.052.088.052.092.052.097.052.102.052.105.051.11.052.114.051.119.051.123.051.127.05.131.05.135.05.139.049.144.048.147.048.152.047.155.046.16.045.163.045.167.043.171.043.176.042.178.04.183.04.187.038.19.037.194.036.197.034.202.033.204.032.209.03.212.028.216.027.219.025.222.024.226.021.23.02.233.018.236.017.24.014.243.012.246.01.249.008.253.006.256.003.259.001.26-.001.257-.003.254-.006.25-.008.247-.01.244-.013.241-.014.237-.016.233-.018.231-.02.226-.022.224-.024.22-.025.216-.027.212-.029.21-.03.205-.032.202-.033.198-.035.194-.036.191-.037.187-.039.183-.039.179-.041.175-.042.172-.043.168-.044.163-.045.16-.045.155-.047.152-.047.148-.048.143-.049.139-.049.136-.049.131-.051.126-.05.123-.051.118-.052.114-.051.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.052.07-.051.065-.051.06-.051.056-.05.051-.049.023-.025.023-.025.021-.024.02-.024.019-.024.018-.024.017-.024.015-.023.014-.024.013-.023.012-.023.01-.022.01-.023.008-.022.006-.022.006-.022.004-.022.004-.021.001-.021.001-.021v-4.153l-.077.054-.08.054-.083.053-.085.053-.087.053-.09.051-.093.051-.095.051-.097.05-.1.049-.102.048-.105.048-.106.048-.109.046-.111.046-.114.046-.115.044-.118.044-.12.043-.122.043-.124.042-.126.041-.128.04-.13.039-.132.039-.134.038-.135.037-.138.036-.139.036-.142.034-.143.034-.144.033-.147.032-.148.032-.15.03-.151.03-.153.028-.154.028-.156.027-.158.026-.159.024-.161.024-.162.023-.163.023-.165.021-.166.02-.167.019-.169.018-.169.017-.171.016-.173.015-.173.014-.175.013-.175.012-.177.01-.178.01-.179.009-.179.007-.181.006-.182.006-.182.004-.184.003-.184.001-.185.001-.185-.001-.184-.001-.184-.003-.182-.004-.182-.006-.181-.006-.179-.007-.179-.009-.178-.01-.176-.01-.176-.012-.175-.013-.173-.014-.172-.015-.171-.016-.17-.017-.169-.018-.167-.019-.166-.02-.165-.021-.163-.023-.162-.023-.161-.024-.159-.024-.157-.026-.156-.027-.155-.028-.153-.028-.151-.03-.15-.03-.148-.032-.146-.032-.145-.033-.143-.034-.141-.034-.14-.036-.137-.036-.136-.037-.134-.038-.132-.039-.13-.039-.128-.041-.126-.041-.124-.041-.122-.043-.12-.043-.117-.044-.116-.044-.113-.046-.112-.046-.109-.046-.106-.048-.105-.048-.102-.048-.1-.05-.097-.049-.095-.051-.093-.051-.09-.052-.087-.052-.085-.053-.083-.053-.08-.054-.077-.054v4.153zm8.74-8.179l-.257.004-.254.005-.25.008-.247.011-.244.012-.241.014-.237.016-.233.018-.231.021-.226.022-.224.023-.22.026-.216.027-.212.028-.21.031-.205.032-.202.033-.198.034-.194.036-.191.038-.187.038-.183.04-.179.041-.175.042-.172.043-.168.043-.163.045-.16.046-.155.046-.152.048-.148.048-.143.048-.139.049-.136.05-.131.05-.126.051-.123.051-.118.051-.114.052-.11.052-.106.052-.101.052-.096.052-.092.052-.088.052-.083.052-.079.052-.074.051-.07.052-.065.051-.06.05-.056.05-.051.05-.023.025-.023.024-.021.024-.02.025-.019.024-.018.024-.017.023-.015.024-.014.023-.013.023-.012.023-.01.023-.01.022-.008.022-.006.023-.006.021-.004.022-.004.021-.001.021-.001.021.001.021.001.021.004.021.004.022.006.021.006.023.008.022.01.022.01.023.012.023.013.023.014.023.015.024.017.023.018.024.019.024.02.025.021.024.023.024.023.025.051.05.056.05.06.05.065.051.07.052.074.051.079.052.083.052.088.052.092.052.096.052.101.052.106.052.11.052.114.052.118.051.123.051.126.051.131.05.136.05.139.049.143.048.148.048.152.048.155.046.16.046.163.045.168.043.172.043.175.042.179.041.183.04.187.038.191.038.194.036.198.034.202.033.205.032.21.031.212.028.216.027.22.026.224.023.226.022.231.021.233.018.237.016.241.014.244.012.247.011.25.008.254.005.257.004.26.001.26-.001.257-.004.254-.005.25-.008.247-.011.244-.012.241-.014.237-.016.233-.018.231-.021.226-.022.224-.023.22-.026.216-.027.212-.028.21-.031.205-.032.202-.033.198-.034.194-.036.191-.038.187-.038.183-.04.179-.041.175-.042.172-.043.168-.043.163-.045.16-.046.155-.046.152-.048.148-.048.143-.048.139-.049.136-.05.131-.05.126-.051.123-.051.118-.051.114-.052.11-.052.106-.052.101-.052.096-.052.092-.052.088-.052.083-.052.079-.052.074-.051.07-.052.065-.051.06-.05.056-.05.051-.05.023-.025.023-.024.021-.024.02-.025.019-.024.018-.024.017-.023.015-.024.014-.023.013-.023.012-.023.01-.023.01-.022.008-.022.006-.023.006-.021.004-.022.004-.021.001-.021.001-.021-.001-.021-.001-.021-.004-.021-.004-.022-.006-.021-.006-.023-.008-.022-.01-.022-.01-.023-.012-.023-.013-.023-.014-.023-.015-.024-.017-.023-.018-.024-.019-.024-.02-.025-.021-.024-.023-.024-.023-.025-.051-.05-.056-.05-.06-.05-.065-.051-.07-.052-.074-.051-.079-.052-.083-.052-.088-.052-.092-.052-.096-.052-.101-.052-.106-.052-.11-.052-.114-.052-.118-.051-.123-.051-.126-.051-.131-.05-.136-.05-.139-.049-.143-.048-.148-.048-.152-.048-.155-.046-.16-.046-.163-.045-.168-.043-.172-.043-.175-.042-.179-.041-.183-.04-.187-.038-.191-.038-.194-.036-.198-.034-.202-.033-.205-.032-.21-.031-.212-.028-.216-.027-.22-.026-.224-.023-.226-.022-.231-.021-.233-.018-.237-.016-.241-.014-.244-.012-.247-.011-.25-.008-.254-.005-.257-.004-.26-.001-.26.001z")},insertComputerIcon=function(nt){nt.append("defs").append("symbol").attr("id","computer").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M2 2v13h20v-13h-20zm18 11h-16v-9h16v9zm-10.228 6l.466-1h3.524l.467 1h-4.457zm14.228 3h-24l2-6h2.104l-1.33 4h18.45l-1.297-4h2.073l2 6zm-5-10h-14v-7h14v7z")},insertClockIcon=function(nt){nt.append("defs").append("symbol").attr("id","clock").attr("width","24").attr("height","24").append("path").attr("transform","scale(.5)").attr("d","M12 2c5.514 0 10 4.486 10 10s-4.486 10-10 10-10-4.486-10-10 4.486-10 10-10zm0-2c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm5.848 12.459c.202.038.202.333.001.372-1.907.361-6.045 1.111-6.547 1.111-.719 0-1.301-.582-1.301-1.301 0-.512.77-5.447 1.125-7.445.034-.192.312-.181.343.014l.985 6.238 5.394 1.011z")},insertArrowHead=function(nt){nt.append("defs").append("marker").attr("id","arrowhead").attr("refX",9).attr("refY",5).attr("markerUnits","userSpaceOnUse").attr("markerWidth",12).attr("markerHeight",12).attr("orient","auto").append("path").attr("d","M 0 0 L 10 5 L 0 10 z")},insertArrowFilledHead=function(nt){nt.append("defs").append("marker").attr("id","filled-head").attr("refX",18).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 18,7 L9,13 L14,7 L9,1 Z")},insertSequenceNumber=function(nt){nt.append("defs").append("marker").attr("id","sequencenumber").attr("refX",15).attr("refY",15).attr("markerWidth",60).attr("markerHeight",40).attr("orient","auto").append("circle").attr("cx",15).attr("cy",15).attr("r",6)},insertArrowCrossHead=function(nt){nt.append("defs").append("marker").attr("id","crosshead").attr("markerWidth",15).attr("markerHeight",8).attr("orient","auto").attr("refX",4).attr("refY",5).append("path").attr("fill","none").attr("stroke","#000000").style("stroke-dasharray","0, 0").attr("stroke-width","1pt").attr("d","M 1,2 L 6,7 M 6,2 L 1,7")},getTextObj$1=function(){return{x:0,y:0,fill:void 0,anchor:void 0,style:"#666",width:void 0,height:void 0,textMargin:0,rx:0,ry:0,tspan:!0,valign:void 0}},getNoteRect$1=function(){return{x:0,y:0,fill:"#EDF2AE",stroke:"#666",width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc$1=function(){function nt(bt,wt,Et,Tt,At,Dt,Ot){const zt=wt.append("text").attr("x",Et+At/2).attr("y",Tt+Dt/2+5).style("text-anchor","middle").text(bt);st(zt,Ot)}function rt(bt,wt,Et,Tt,At,Dt,Ot,zt){const{actorFontSize:$t,actorFontFamily:Bt,actorFontWeight:Yt}=zt;let Xt=$t&&$t.replace?$t.replace("px",""):$t;const Ht=bt.split(common$1.lineBreakRegex);for(let Qt=0;Qt<Ht.length;Qt++){const Zt=Qt*Xt-Xt*(Ht.length-1)/2,nn=wt.append("text").attr("x",Et+At/2).attr("y",Tt).style("text-anchor","middle").style("font-size",$t).style("font-weight",Yt).style("font-family",Bt);nn.append("tspan").attr("x",Et+At/2).attr("dy",Zt).text(Ht[Qt]),nn.attr("y",Tt+Dt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(nn,Ot)}}function it(bt,wt,Et,Tt,At,Dt,Ot,zt){const $t=wt.append("switch"),Yt=$t.append("foreignObject").attr("x",Et).attr("y",Tt).attr("width",At).attr("height",Dt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Yt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(bt),rt(bt,$t,Et,Tt,At,Dt,Ot,zt),st(Yt,Ot)}function st(bt,wt){for(const Et in wt)wt.hasOwnProperty(Et)&&bt.attr(Et,wt[Et])}return function(bt){return bt.textPlacement==="fo"?it:bt.textPlacement==="old"?nt:rt}}(),_drawMenuItemTextCandidateFunc=function(){function nt(bt,wt,Et,Tt,At,Dt,Ot){const zt=wt.append("text").attr("x",Et).attr("y",Tt).style("text-anchor","start").text(bt);st(zt,Ot)}function rt(bt,wt,Et,Tt,At,Dt,Ot,zt){const{actorFontSize:$t,actorFontFamily:Bt,actorFontWeight:Yt}=zt,Xt=bt.split(common$1.lineBreakRegex);for(let Ht=0;Ht<Xt.length;Ht++){const Qt=Ht*$t-$t*(Xt.length-1)/2,Zt=wt.append("text").attr("x",Et).attr("y",Tt).style("text-anchor","start").style("font-size",$t).style("font-weight",Yt).style("font-family",Bt);Zt.append("tspan").attr("x",Et).attr("dy",Qt).text(Xt[Ht]),Zt.attr("y",Tt+Dt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(Zt,Ot)}}function it(bt,wt,Et,Tt,At,Dt,Ot,zt){const $t=wt.append("switch"),Yt=$t.append("foreignObject").attr("x",Et).attr("y",Tt).attr("width",At).attr("height",Dt).append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Yt.append("div").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(bt),rt(bt,$t,Et,Tt,At,Dt,Ot,zt),st(Yt,Ot)}function st(bt,wt){for(const Et in wt)wt.hasOwnProperty(Et)&&bt.attr(Et,wt[Et])}return function(bt){return bt.textPlacement==="fo"?it:bt.textPlacement==="old"?nt:rt}}(),svgDraw$1={drawRect:drawRect$1,drawText:drawText$1,drawLabel:drawLabel$1,drawActor,drawPopup,drawImage,drawEmbeddedImage,anchorElement,drawActivation,drawLoop,drawBackgroundRect:drawBackgroundRect$1,insertArrowHead,insertArrowFilledHead,insertSequenceNumber,insertArrowCrossHead,insertDatabaseIcon,insertComputerIcon,insertClockIcon,getTextObj:getTextObj$1,getNoteRect:getNoteRect$1,popupMenu,popdownMenu,fixLifeLineHeights,sanitizeUrl:sanitizeUrl_1};let conf$3={};const bounds$1={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],activations:[],models:{getHeight:function(){return Math.max.apply(null,this.actors.length===0?[0]:this.actors.map(nt=>nt.height||0))+(this.loops.length===0?0:this.loops.map(nt=>nt.height||0).reduce((nt,rt)=>nt+rt))+(this.messages.length===0?0:this.messages.map(nt=>nt.height||0).reduce((nt,rt)=>nt+rt))+(this.notes.length===0?0:this.notes.map(nt=>nt.height||0).reduce((nt,rt)=>nt+rt))},clear:function(){this.actors=[],this.loops=[],this.messages=[],this.notes=[]},addActor:function(nt){this.actors.push(nt)},addLoop:function(nt){this.loops.push(nt)},addMessage:function(nt){this.messages.push(nt)},addNote:function(nt){this.notes.push(nt)},lastActor:function(){return this.actors[this.actors.length-1]},lastLoop:function(){return this.loops[this.loops.length-1]},lastMessage:function(){return this.messages[this.messages.length-1]},lastNote:function(){return this.notes[this.notes.length-1]},actors:[],loops:[],messages:[],notes:[]},init:function(){this.sequenceItems=[],this.activations=[],this.models.clear(),this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0,setConf$4(getConfig$1())},updateVal:function(nt,rt,it,st){nt[rt]===void 0?nt[rt]=it:nt[rt]=st(it,nt[rt])},updateBounds:function(nt,rt,it,st){const bt=this;let wt=0;function Et(Tt){return function(Dt){wt++;const Ot=bt.sequenceItems.length-wt+1;bt.updateVal(Dt,"starty",rt-Ot*conf$3.boxMargin,Math.min),bt.updateVal(Dt,"stopy",st+Ot*conf$3.boxMargin,Math.max),bt.updateVal(bounds$1.data,"startx",nt-Ot*conf$3.boxMargin,Math.min),bt.updateVal(bounds$1.data,"stopx",it+Ot*conf$3.boxMargin,Math.max),Tt!=="activation"&&(bt.updateVal(Dt,"startx",nt-Ot*conf$3.boxMargin,Math.min),bt.updateVal(Dt,"stopx",it+Ot*conf$3.boxMargin,Math.max),bt.updateVal(bounds$1.data,"starty",rt-Ot*conf$3.boxMargin,Math.min),bt.updateVal(bounds$1.data,"stopy",st+Ot*conf$3.boxMargin,Math.max))}}this.sequenceItems.forEach(Et()),this.activations.forEach(Et("activation"))},insert:function(nt,rt,it,st){const bt=Math.min(nt,it),wt=Math.max(nt,it),Et=Math.min(rt,st),Tt=Math.max(rt,st);this.updateVal(bounds$1.data,"startx",bt,Math.min),this.updateVal(bounds$1.data,"starty",Et,Math.min),this.updateVal(bounds$1.data,"stopx",wt,Math.max),this.updateVal(bounds$1.data,"stopy",Tt,Math.max),this.updateBounds(bt,Et,wt,Tt)},newActivation:function(nt,rt,it){const st=it[nt.from.actor],bt=actorActivations(nt.from.actor).length||0,wt=st.x+st.width/2+(bt-1)*conf$3.activationWidth/2;this.activations.push({startx:wt,starty:this.verticalPos+2,stopx:wt+conf$3.activationWidth,stopy:void 0,actor:nt.from.actor,anchored:svgDraw$1.anchorElement(rt)})},endActivation:function(nt){const rt=this.activations.map(function(it){return it.actor}).lastIndexOf(nt.from.actor);return this.activations.splice(rt,1)[0]},createLoop:function(nt={message:void 0,wrap:!1,width:void 0},rt){return{startx:void 0,starty:this.verticalPos,stopx:void 0,stopy:void 0,title:nt.message,wrap:nt.wrap,width:nt.width,height:0,fill:rt}},newLoop:function(nt={message:void 0,wrap:!1,width:void 0},rt){this.sequenceItems.push(this.createLoop(nt,rt))},endLoop:function(){return this.sequenceItems.pop()},addSectionToLoop:function(nt){const rt=this.sequenceItems.pop();rt.sections=rt.sections||[],rt.sectionTitles=rt.sectionTitles||[],rt.sections.push({y:bounds$1.getVerticalPos(),height:0}),rt.sectionTitles.push(nt),this.sequenceItems.push(rt)},bumpVerticalPos:function(nt){this.verticalPos=this.verticalPos+nt,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return{bounds:this.data,models:this.models}}},drawNote$1=function(nt,rt){bounds$1.bumpVerticalPos(conf$3.boxMargin),rt.height=conf$3.boxMargin,rt.starty=bounds$1.getVerticalPos();const it=svgDraw$1.getNoteRect();it.x=rt.startx,it.y=rt.starty,it.width=rt.width||conf$3.width,it.class="note";const st=nt.append("g"),bt=svgDraw$1.drawRect(st,it),wt=svgDraw$1.getTextObj();wt.x=rt.startx,wt.y=rt.starty,wt.width=it.width,wt.dy="1em",wt.text=rt.message,wt.class="noteText",wt.fontFamily=conf$3.noteFontFamily,wt.fontSize=conf$3.noteFontSize,wt.fontWeight=conf$3.noteFontWeight,wt.anchor=conf$3.noteAlign,wt.textMargin=conf$3.noteMargin,wt.valign="center";const Et=drawText$1(st,wt),Tt=Math.round(Et.map(At=>(At._groups||At)[0][0].getBBox().height).reduce((At,Dt)=>At+Dt));bt.attr("height",Tt+2*conf$3.noteMargin),rt.height+=Tt+2*conf$3.noteMargin,bounds$1.bumpVerticalPos(Tt+2*conf$3.noteMargin),rt.stopy=rt.starty+Tt+2*conf$3.noteMargin,rt.stopx=rt.startx+it.width,bounds$1.insert(rt.startx,rt.starty,rt.stopx,rt.stopy),bounds$1.models.addNote(rt)},messageFont=nt=>({fontFamily:nt.messageFontFamily,fontSize:nt.messageFontSize,fontWeight:nt.messageFontWeight}),noteFont=nt=>({fontFamily:nt.noteFontFamily,fontSize:nt.noteFontSize,fontWeight:nt.noteFontWeight}),actorFont=nt=>({fontFamily:nt.actorFontFamily,fontSize:nt.actorFontSize,fontWeight:nt.actorFontWeight});function boundMessage(nt,rt){bounds$1.bumpVerticalPos(10);const{startx:it,stopx:st,message:bt}=rt,wt=common$1.splitBreaks(bt).length,Et=utils.calculateTextDimensions(bt,messageFont(conf$3)),Tt=Et.height/wt;rt.height+=Tt,bounds$1.bumpVerticalPos(Tt);let At,Dt=Et.height-10;const Ot=Et.width;if(it===st){At=bounds$1.getVerticalPos()+Dt,conf$3.rightAngles||(Dt+=conf$3.boxMargin,At=bounds$1.getVerticalPos()+Dt),Dt+=30;const zt=Math.max(Ot/2,conf$3.width/2);bounds$1.insert(it-zt,bounds$1.getVerticalPos()-10+Dt,st+zt,bounds$1.getVerticalPos()+30+Dt)}else Dt+=conf$3.boxMargin,At=bounds$1.getVerticalPos()+Dt,bounds$1.insert(it,At-10,st,At);return bounds$1.bumpVerticalPos(Dt),rt.height+=Dt,rt.stopy=rt.starty+rt.height,bounds$1.insert(rt.fromBounds,rt.starty,rt.toBounds,rt.stopy),At}const drawMessage=function(nt,rt,it,st){const{startx:bt,stopx:wt,starty:Et,message:Tt,type:At,sequenceIndex:Dt,sequenceVisible:Ot}=rt,zt=utils.calculateTextDimensions(Tt,messageFont(conf$3)),$t=svgDraw$1.getTextObj();$t.x=bt,$t.y=Et+10,$t.width=wt-bt,$t.class="messageText",$t.dy="1em",$t.text=Tt,$t.fontFamily=conf$3.messageFontFamily,$t.fontSize=conf$3.messageFontSize,$t.fontWeight=conf$3.messageFontWeight,$t.anchor=conf$3.messageAlign,$t.valign="center",$t.textMargin=conf$3.wrapPadding,$t.tspan=!1,drawText$1(nt,$t);const Bt=zt.width;let Yt;bt===wt?conf$3.rightAngles?Yt=nt.append("path").attr("d",`M  ${bt},${it} H ${bt+Math.max(conf$3.width/2,Bt/2)} V ${it+25} H ${bt}`):Yt=nt.append("path").attr("d","M "+bt+","+it+" C "+(bt+60)+","+(it-10)+" "+(bt+60)+","+(it+30)+" "+bt+","+(it+20)):(Yt=nt.append("line"),Yt.attr("x1",bt),Yt.attr("y1",it),Yt.attr("x2",wt),Yt.attr("y2",it)),At===st.db.LINETYPE.DOTTED||At===st.db.LINETYPE.DOTTED_CROSS||At===st.db.LINETYPE.DOTTED_POINT||At===st.db.LINETYPE.DOTTED_OPEN?(Yt.style("stroke-dasharray","3, 3"),Yt.attr("class","messageLine1")):Yt.attr("class","messageLine0");let Xt="";conf$3.arrowMarkerAbsolute&&(Xt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Xt=Xt.replace(/\(/g,"\\("),Xt=Xt.replace(/\)/g,"\\)")),Yt.attr("stroke-width",2),Yt.attr("stroke","none"),Yt.style("fill","none"),(At===st.db.LINETYPE.SOLID||At===st.db.LINETYPE.DOTTED)&&Yt.attr("marker-end","url("+Xt+"#arrowhead)"),(At===st.db.LINETYPE.SOLID_POINT||At===st.db.LINETYPE.DOTTED_POINT)&&Yt.attr("marker-end","url("+Xt+"#filled-head)"),(At===st.db.LINETYPE.SOLID_CROSS||At===st.db.LINETYPE.DOTTED_CROSS)&&Yt.attr("marker-end","url("+Xt+"#crosshead)"),(Ot||conf$3.showSequenceNumbers)&&(Yt.attr("marker-start","url("+Xt+"#sequencenumber)"),nt.append("text").attr("x",bt).attr("y",it+4).attr("font-family","sans-serif").attr("font-size","12px").attr("text-anchor","middle").attr("class","sequenceNumber").text(Dt))},drawActors=function(nt,rt,it,st,bt,wt){if(bt.hideUnusedParticipants===!0){const Dt=new Set;wt.forEach(Ot=>{Dt.add(Ot.from),Dt.add(Ot.to)}),it=it.filter(Ot=>Dt.has(Ot))}let Et=0,Tt=0,At=0;for(const Dt of it){const Ot=rt[Dt];Ot.width=Ot.width||conf$3.width,Ot.height=Math.max(Ot.height||conf$3.height,conf$3.height),Ot.margin=Ot.margin||conf$3.actorMargin,Ot.x=Et+Tt,Ot.y=st;const zt=svgDraw$1.drawActor(nt,Ot,conf$3);At=Math.max(At,zt),bounds$1.insert(Ot.x,st,Ot.x+Ot.width,Ot.height),Et+=Ot.width,Tt+=Ot.margin,bounds$1.models.addActor(Ot)}bounds$1.bumpVerticalPos(At)},drawActorsPopup=function(nt,rt,it,st){let bt=0,wt=0;for(const Et of it){const Tt=rt[Et],At=getRequiredPopupWidth(Tt),Dt=svgDraw$1.drawPopup(nt,Tt,At,conf$3,conf$3.forceMenus,st);Dt.height>bt&&(bt=Dt.height),Dt.width+Tt.x>wt&&(wt=Dt.width+Tt.x)}return{maxHeight:bt,maxWidth:wt}},setConf$4=function(nt){assignWithDepth$1(conf$3,nt),nt.fontFamily&&(conf$3.actorFontFamily=conf$3.noteFontFamily=conf$3.messageFontFamily=nt.fontFamily),nt.fontSize&&(conf$3.actorFontSize=conf$3.noteFontSize=conf$3.messageFontSize=nt.fontSize),nt.fontWeight&&(conf$3.actorFontWeight=conf$3.noteFontWeight=conf$3.messageFontWeight=nt.fontWeight)},actorActivations=function(nt){return bounds$1.activations.filter(function(rt){return rt.actor===nt})},activationBounds=function(nt,rt){const it=rt[nt],st=actorActivations(nt),bt=st.reduce(function(Et,Tt){return Math.min(Et,Tt.startx)},it.x+it.width/2),wt=st.reduce(function(Et,Tt){return Math.max(Et,Tt.stopx)},it.x+it.width/2);return[bt,wt]};function adjustLoopHeightForWrap(nt,rt,it,st,bt){bounds$1.bumpVerticalPos(it);let wt=st;if(rt.id&&rt.message&&nt[rt.id]){const Et=nt[rt.id].width,Tt=messageFont(conf$3);rt.message=utils.wrapLabel(`[${rt.message}]`,Et-2*conf$3.wrapPadding,Tt),rt.width=Et,rt.wrap=!0;const At=utils.calculateTextDimensions(rt.message,Tt),Dt=Math.max(At.height,conf$3.labelBoxHeight);wt=st+Dt,log$1.debug(`${Dt} - ${rt.message}`)}bt(rt),bounds$1.bumpVerticalPos(wt)}const draw$4=function(nt,rt,it,st){const{securityLevel:bt,sequence:wt}=getConfig$1();conf$3=wt;let Et;bt==="sandbox"&&(Et=select("#i"+rt));const Tt=select(bt==="sandbox"?Et.nodes()[0].contentDocument.body:"body"),At=bt==="sandbox"?Et.nodes()[0].contentDocument:document;bounds$1.init(),log$1.debug(st.db);const Dt=bt==="sandbox"?Tt.select(`[id="${rt}"]`):select(`[id="${rt}"]`),Ot=st.db.getActors(),zt=st.db.getActorKeys(),$t=st.db.getMessages(),Bt=st.db.getDiagramTitle(),Yt=getMaxMessageWidthPerActor(Ot,$t,st);conf$3.height=calculateActorMargins(Ot,Yt),svgDraw$1.insertComputerIcon(Dt),svgDraw$1.insertDatabaseIcon(Dt),svgDraw$1.insertClockIcon(Dt),drawActors(Dt,Ot,zt,0,conf$3,$t);const Xt=calculateLoopBounds($t,Ot,Yt,st);svgDraw$1.insertArrowHead(Dt),svgDraw$1.insertArrowCrossHead(Dt),svgDraw$1.insertArrowFilledHead(Dt),svgDraw$1.insertSequenceNumber(Dt);function Ht(gn,Un){const pn=bounds$1.endActivation(gn);pn.starty+18>Un&&(pn.starty=Un-6,Un+=12),svgDraw$1.drawActivation(Dt,pn,Un,conf$3,actorActivations(gn.from.actor).length),bounds$1.insert(pn.startx,Un-10,pn.stopx,Un)}let Qt=1,Zt=1;const nn=[];$t.forEach(function(gn){let Un,pn,yr;switch(gn.type){case st.db.LINETYPE.NOTE:pn=gn.noteModel,drawNote$1(Dt,pn);break;case st.db.LINETYPE.ACTIVE_START:bounds$1.newActivation(gn,Dt,Ot);break;case st.db.LINETYPE.ACTIVE_END:Ht(gn,bounds$1.getVerticalPos());break;case st.db.LINETYPE.LOOP_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.LOOP_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"loop",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;case st.db.LINETYPE.RECT_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin,xn=>bounds$1.newLoop(void 0,xn.message));break;case st.db.LINETYPE.RECT_END:Un=bounds$1.endLoop(),svgDraw$1.drawBackgroundRect(Dt,Un),bounds$1.models.addLoop(Un),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos());break;case st.db.LINETYPE.OPT_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.OPT_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"opt",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;case st.db.LINETYPE.ALT_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.ALT_ELSE:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,xn=>bounds$1.addSectionToLoop(xn));break;case st.db.LINETYPE.ALT_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"alt",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;case st.db.LINETYPE.PAR_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.PAR_AND:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,xn=>bounds$1.addSectionToLoop(xn));break;case st.db.LINETYPE.PAR_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"par",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;case st.db.LINETYPE.AUTONUMBER:Qt=gn.message.start||Qt,Zt=gn.message.step||Zt,gn.message.visible?st.db.enableSequenceNumbers():st.db.disableSequenceNumbers();break;case st.db.LINETYPE.CRITICAL_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.CRITICAL_OPTION:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin+conf$3.boxTextMargin,conf$3.boxMargin,xn=>bounds$1.addSectionToLoop(xn));break;case st.db.LINETYPE.CRITICAL_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"critical",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;case st.db.LINETYPE.BREAK_START:adjustLoopHeightForWrap(Xt,gn,conf$3.boxMargin,conf$3.boxMargin+conf$3.boxTextMargin,xn=>bounds$1.newLoop(xn));break;case st.db.LINETYPE.BREAK_END:Un=bounds$1.endLoop(),svgDraw$1.drawLoop(Dt,Un,"break",conf$3),bounds$1.bumpVerticalPos(Un.stopy-bounds$1.getVerticalPos()),bounds$1.models.addLoop(Un);break;default:try{yr=gn.msgModel,yr.starty=bounds$1.getVerticalPos(),yr.sequenceIndex=Qt,yr.sequenceVisible=st.db.showSequenceNumbers();const xn=boundMessage(Dt,yr);nn.push({messageModel:yr,lineStartY:xn}),bounds$1.models.addMessage(yr)}catch(xn){log$1.error("error while drawing message",xn)}}[st.db.LINETYPE.SOLID_OPEN,st.db.LINETYPE.DOTTED_OPEN,st.db.LINETYPE.SOLID,st.db.LINETYPE.DOTTED,st.db.LINETYPE.SOLID_CROSS,st.db.LINETYPE.DOTTED_CROSS,st.db.LINETYPE.SOLID_POINT,st.db.LINETYPE.DOTTED_POINT].includes(gn.type)&&(Qt=Qt+Zt)}),nn.forEach(gn=>drawMessage(Dt,gn.messageModel,gn.lineStartY,st)),conf$3.mirrorActors&&(bounds$1.bumpVerticalPos(conf$3.boxMargin*2),drawActors(Dt,Ot,zt,bounds$1.getVerticalPos(),conf$3,$t),bounds$1.bumpVerticalPos(conf$3.boxMargin),fixLifeLineHeights(Dt,bounds$1.getVerticalPos()));const Kt=drawActorsPopup(Dt,Ot,zt,At),{bounds:ln}=bounds$1.getBounds();log$1.debug("For line height fix Querying: #"+rt+" .actor-line"),selectAll("#"+rt+" .actor-line").attr("y2",ln.stopy);let bn=ln.stopy-ln.starty;bn<Kt.maxHeight&&(bn=Kt.maxHeight);let wn=bn+2*conf$3.diagramMarginY;conf$3.mirrorActors&&(wn=wn-conf$3.boxMargin+conf$3.bottomMarginAdj);let Mn=ln.stopx-ln.startx;Mn<Kt.maxWidth&&(Mn=Kt.maxWidth);const Sn=Mn+2*conf$3.diagramMarginX;Bt&&Dt.append("text").text(Bt).attr("x",(ln.stopx-ln.startx)/2-2*conf$3.diagramMarginX).attr("y",-25),configureSvgSize(Dt,wn,Sn,conf$3.useMaxWidth);const Dn=Bt?40:0;Dt.attr("viewBox",ln.startx-conf$3.diagramMarginX+" -"+(conf$3.diagramMarginY+Dn)+" "+Sn+" "+(wn+Dn)),log$1.debug("models:",bounds$1.models)};function getMaxMessageWidthPerActor(nt,rt,it){const st={};return rt.forEach(function(bt){if(nt[bt.to]&&nt[bt.from]){const wt=nt[bt.to];if(bt.placement===it.db.PLACEMENT.LEFTOF&&!wt.prevActor||bt.placement===it.db.PLACEMENT.RIGHTOF&&!wt.nextActor)return;const Et=bt.placement!==void 0,Tt=!Et,At=Et?noteFont(conf$3):messageFont(conf$3),Dt=bt.wrap?utils.wrapLabel(bt.message,conf$3.width-2*conf$3.wrapPadding,At):bt.message,zt=utils.calculateTextDimensions(Dt,At).width+2*conf$3.wrapPadding;Tt&&bt.from===wt.nextActor?st[bt.to]=Math.max(st[bt.to]||0,zt):Tt&&bt.from===wt.prevActor?st[bt.from]=Math.max(st[bt.from]||0,zt):Tt&&bt.from===bt.to?(st[bt.from]=Math.max(st[bt.from]||0,zt/2),st[bt.to]=Math.max(st[bt.to]||0,zt/2)):bt.placement===it.db.PLACEMENT.RIGHTOF?st[bt.from]=Math.max(st[bt.from]||0,zt):bt.placement===it.db.PLACEMENT.LEFTOF?st[wt.prevActor]=Math.max(st[wt.prevActor]||0,zt):bt.placement===it.db.PLACEMENT.OVER&&(wt.prevActor&&(st[wt.prevActor]=Math.max(st[wt.prevActor]||0,zt/2)),wt.nextActor&&(st[bt.from]=Math.max(st[bt.from]||0,zt/2)))}}),log$1.debug("maxMessageWidthPerActor:",st),st}const getRequiredPopupWidth=function(nt){let rt=0;const it=actorFont(conf$3);for(const st in nt.links){const wt=utils.calculateTextDimensions(st,it).width+2*conf$3.wrapPadding+2*conf$3.boxMargin;rt<wt&&(rt=wt)}return rt};function calculateActorMargins(nt,rt){let it=0;Object.keys(nt).forEach(st=>{const bt=nt[st];bt.wrap&&(bt.description=utils.wrapLabel(bt.description,conf$3.width-2*conf$3.wrapPadding,actorFont(conf$3)));const wt=utils.calculateTextDimensions(bt.description,actorFont(conf$3));bt.width=bt.wrap?conf$3.width:Math.max(conf$3.width,wt.width+2*conf$3.wrapPadding),bt.height=bt.wrap?Math.max(wt.height,conf$3.height):conf$3.height,it=Math.max(it,bt.height)});for(const st in rt){const bt=nt[st];if(!bt)continue;const wt=nt[bt.nextActor];if(!wt)continue;const Tt=rt[st]+conf$3.actorMargin-bt.width/2-wt.width/2;bt.margin=Math.max(Tt,conf$3.actorMargin)}return Math.max(it,conf$3.height)}const buildNoteModel=function(nt,rt,it){const st=rt[nt.from].x,bt=rt[nt.to].x,wt=nt.wrap&&nt.message;let Et=utils.calculateTextDimensions(wt?utils.wrapLabel(nt.message,conf$3.width,noteFont(conf$3)):nt.message,noteFont(conf$3));const Tt={width:wt?conf$3.width:Math.max(conf$3.width,Et.width+2*conf$3.noteMargin),height:0,startx:rt[nt.from].x,stopx:0,starty:0,stopy:0,message:nt.message};return nt.placement===it.db.PLACEMENT.RIGHTOF?(Tt.width=wt?Math.max(conf$3.width,Et.width):Math.max(rt[nt.from].width/2+rt[nt.to].width/2,Et.width+2*conf$3.noteMargin),Tt.startx=st+(rt[nt.from].width+conf$3.actorMargin)/2):nt.placement===it.db.PLACEMENT.LEFTOF?(Tt.width=Math.max(wt?conf$3.width:rt[nt.from].width/2+rt[nt.to].width/2,Et.width+2*conf$3.noteMargin),Tt.startx=st-Tt.width+(rt[nt.from].width-conf$3.actorMargin)/2):nt.to===nt.from?(Et=utils.calculateTextDimensions(wt?utils.wrapLabel(nt.message,Math.max(conf$3.width,rt[nt.from].width),noteFont(conf$3)):nt.message,noteFont(conf$3)),Tt.width=wt?Math.max(conf$3.width,rt[nt.from].width):Math.max(rt[nt.from].width,conf$3.width,Et.width+2*conf$3.noteMargin),Tt.startx=st+(rt[nt.from].width-Tt.width)/2):(Tt.width=Math.abs(st+rt[nt.from].width/2-(bt+rt[nt.to].width/2))+conf$3.actorMargin,Tt.startx=st<bt?st+rt[nt.from].width/2-conf$3.actorMargin/2:bt+rt[nt.to].width/2-conf$3.actorMargin/2),wt&&(Tt.message=utils.wrapLabel(nt.message,Tt.width-2*conf$3.wrapPadding,noteFont(conf$3))),log$1.debug(`NM:[${Tt.startx},${Tt.stopx},${Tt.starty},${Tt.stopy}:${Tt.width},${Tt.height}=${nt.message}]`),Tt},buildMessageModel=function(nt,rt,it){let st=!1;if([it.db.LINETYPE.SOLID_OPEN,it.db.LINETYPE.DOTTED_OPEN,it.db.LINETYPE.SOLID,it.db.LINETYPE.DOTTED,it.db.LINETYPE.SOLID_CROSS,it.db.LINETYPE.DOTTED_CROSS,it.db.LINETYPE.SOLID_POINT,it.db.LINETYPE.DOTTED_POINT].includes(nt.type)&&(st=!0),!st)return{};const bt=activationBounds(nt.from,rt),wt=activationBounds(nt.to,rt),Et=bt[0]<=wt[0]?1:0,Tt=bt[0]<wt[0]?0:1,At=[...bt,...wt],Dt=Math.abs(wt[Tt]-bt[Et]);nt.wrap&&nt.message&&(nt.message=utils.wrapLabel(nt.message,Math.max(Dt+2*conf$3.wrapPadding,conf$3.width),messageFont(conf$3)));const Ot=utils.calculateTextDimensions(nt.message,messageFont(conf$3));return{width:Math.max(nt.wrap?0:Ot.width+2*conf$3.wrapPadding,Dt+2*conf$3.wrapPadding,conf$3.width),height:0,startx:bt[Et],stopx:wt[Tt],starty:0,stopy:0,message:nt.message,type:nt.type,wrap:nt.wrap,fromBounds:Math.min.apply(null,At),toBounds:Math.max.apply(null,At)}},calculateLoopBounds=function(nt,rt,it,st){const bt={},wt=[];let Et,Tt,At;return nt.forEach(function(Dt){switch(Dt.id=utils.random({length:10}),Dt.type){case st.db.LINETYPE.LOOP_START:case st.db.LINETYPE.ALT_START:case st.db.LINETYPE.OPT_START:case st.db.LINETYPE.PAR_START:case st.db.LINETYPE.CRITICAL_START:case st.db.LINETYPE.BREAK_START:wt.push({id:Dt.id,msg:Dt.message,from:Number.MAX_SAFE_INTEGER,to:Number.MIN_SAFE_INTEGER,width:0});break;case st.db.LINETYPE.ALT_ELSE:case st.db.LINETYPE.PAR_AND:case st.db.LINETYPE.CRITICAL_OPTION:Dt.message&&(Et=wt.pop(),bt[Et.id]=Et,bt[Dt.id]=Et,wt.push(Et));break;case st.db.LINETYPE.LOOP_END:case st.db.LINETYPE.ALT_END:case st.db.LINETYPE.OPT_END:case st.db.LINETYPE.PAR_END:case st.db.LINETYPE.CRITICAL_END:case st.db.LINETYPE.BREAK_END:Et=wt.pop(),bt[Et.id]=Et;break;case st.db.LINETYPE.ACTIVE_START:{const zt=rt[Dt.from?Dt.from.actor:Dt.to.actor],$t=actorActivations(Dt.from?Dt.from.actor:Dt.to.actor).length,Bt=zt.x+zt.width/2+($t-1)*conf$3.activationWidth/2,Yt={startx:Bt,stopx:Bt+conf$3.activationWidth,actor:Dt.from.actor,enabled:!0};bounds$1.activations.push(Yt)}break;case st.db.LINETYPE.ACTIVE_END:{const zt=bounds$1.activations.map($t=>$t.actor).lastIndexOf(Dt.from.actor);delete bounds$1.activations.splice(zt,1)[0]}break}Dt.placement!==void 0?(Tt=buildNoteModel(Dt,rt,st),Dt.noteModel=Tt,wt.forEach(zt=>{Et=zt,Et.from=Math.min(Et.from,Tt.startx),Et.to=Math.max(Et.to,Tt.startx+Tt.width),Et.width=Math.max(Et.width,Math.abs(Et.from-Et.to))-conf$3.labelBoxWidth})):(At=buildMessageModel(Dt,rt,st),Dt.msgModel=At,At.startx&&At.stopx&&wt.length>0&&wt.forEach(zt=>{if(Et=zt,At.startx===At.stopx){const $t=rt[Dt.from],Bt=rt[Dt.to];Et.from=Math.min($t.x-At.width/2,$t.x-$t.width/2,Et.from),Et.to=Math.max(Bt.x+At.width/2,Bt.x+$t.width/2,Et.to),Et.width=Math.max(Et.width,Math.abs(Et.to-Et.from))-conf$3.labelBoxWidth}else Et.from=Math.min(At.startx,Et.from),Et.to=Math.max(At.stopx,Et.to),Et.width=Math.max(Et.width,At.width)-conf$3.labelBoxWidth}))}),bounds$1.activations=[],log$1.debug("Loop type widths:",bt),bt},sequenceRenderer={bounds:bounds$1,drawActors,drawActorsPopup,setConf:setConf$4,draw:draw$4};var parser$1=function(){var nt=function(Gn,lr,ur,vr){for(ur=ur||{},vr=Gn.length;vr--;ur[Gn[vr]]=lr);return ur},rt=[1,2],it=[1,3],st=[1,5],bt=[1,7],wt=[2,5],Et=[1,15],Tt=[1,17],At=[1,21],Dt=[1,22],Ot=[1,23],zt=[1,24],$t=[1,37],Bt=[1,25],Yt=[1,26],Xt=[1,27],Ht=[1,28],Qt=[1,29],Zt=[1,32],nn=[1,33],Kt=[1,34],ln=[1,35],sn=[1,36],bn=[1,39],wn=[1,40],Mn=[1,41],Sn=[1,42],Dn=[1,38],gn=[1,45],Un=[1,4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],pn=[1,4,5,14,15,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],yr=[1,4,5,7,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],xn=[4,5,16,17,19,21,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],Mr={trace:function(){},yy:{},symbols_:{error:2,start:3,SPACE:4,NL:5,directive:6,SD:7,document:8,line:9,statement:10,classDefStatement:11,cssClassStatement:12,idStatement:13,DESCR:14,"-->":15,HIDE_EMPTY:16,scale:17,WIDTH:18,COMPOSIT_STATE:19,STRUCT_START:20,STRUCT_STOP:21,STATE_DESCR:22,AS:23,ID:24,FORK:25,JOIN:26,CHOICE:27,CONCURRENT:28,note:29,notePosition:30,NOTE_TEXT:31,direction:32,acc_title:33,acc_title_value:34,acc_descr:35,acc_descr_value:36,acc_descr_multiline_value:37,classDef:38,CLASSDEF_ID:39,CLASSDEF_STYLEOPTS:40,DEFAULT:41,class:42,CLASSENTITY_IDS:43,STYLECLASS:44,openDirective:45,typeDirective:46,closeDirective:47,":":48,argDirective:49,direction_tb:50,direction_bt:51,direction_rl:52,direction_lr:53,eol:54,";":55,EDGE_STATE:56,STYLE_SEPARATOR:57,left_of:58,right_of:59,open_directive:60,type_directive:61,arg_directive:62,close_directive:63,$accept:0,$end:1},terminals_:{2:"error",4:"SPACE",5:"NL",7:"SD",14:"DESCR",15:"-->",16:"HIDE_EMPTY",17:"scale",18:"WIDTH",19:"COMPOSIT_STATE",20:"STRUCT_START",21:"STRUCT_STOP",22:"STATE_DESCR",23:"AS",24:"ID",25:"FORK",26:"JOIN",27:"CHOICE",28:"CONCURRENT",29:"note",31:"NOTE_TEXT",33:"acc_title",34:"acc_title_value",35:"acc_descr",36:"acc_descr_value",37:"acc_descr_multiline_value",38:"classDef",39:"CLASSDEF_ID",40:"CLASSDEF_STYLEOPTS",41:"DEFAULT",42:"class",43:"CLASSENTITY_IDS",44:"STYLECLASS",48:":",50:"direction_tb",51:"direction_bt",52:"direction_rl",53:"direction_lr",55:";",56:"EDGE_STATE",57:"STYLE_SEPARATOR",58:"left_of",59:"right_of",60:"open_directive",61:"type_directive",62:"arg_directive",63:"close_directive"},productions_:[0,[3,2],[3,2],[3,2],[3,2],[8,0],[8,2],[9,2],[9,1],[9,1],[10,1],[10,1],[10,1],[10,2],[10,3],[10,4],[10,1],[10,2],[10,1],[10,4],[10,3],[10,6],[10,1],[10,1],[10,1],[10,1],[10,4],[10,4],[10,1],[10,1],[10,2],[10,2],[10,1],[11,3],[11,3],[12,3],[6,3],[6,5],[32,1],[32,1],[32,1],[32,1],[54,1],[54,1],[13,1],[13,1],[13,3],[13,3],[30,1],[30,1],[45,1],[46,1],[49,1],[47,1]],performAction:function(lr,ur,vr,Ir,Pr,_r,tr){var qn=_r.length-1;switch(Pr){case 4:return Ir.setRootDoc(_r[qn]),_r[qn];case 5:this.$=[];break;case 6:_r[qn]!="nl"&&(_r[qn-1].push(_r[qn]),this.$=_r[qn-1]);break;case 7:case 8:this.$=_r[qn];break;case 9:this.$="nl";break;case 12:this.$=_r[qn];break;case 13:const An=_r[qn-1];An.description=Ir.trimColon(_r[qn]),this.$=An;break;case 14:this.$={stmt:"relation",state1:_r[qn-2],state2:_r[qn]};break;case 15:const rn=Ir.trimColon(_r[qn]);this.$={stmt:"relation",state1:_r[qn-3],state2:_r[qn-1],description:rn};break;case 19:this.$={stmt:"state",id:_r[qn-3],type:"default",description:"",doc:_r[qn-1]};break;case 20:var mr=_r[qn],br=_r[qn-2].trim();if(_r[qn].match(":")){var hr=_r[qn].split(":");mr=hr[0],br=[br,hr[1]]}this.$={stmt:"state",id:mr,type:"default",description:br};break;case 21:this.$={stmt:"state",id:_r[qn-3],type:"default",description:_r[qn-5],doc:_r[qn-1]};break;case 22:this.$={stmt:"state",id:_r[qn],type:"fork"};break;case 23:this.$={stmt:"state",id:_r[qn],type:"join"};break;case 24:this.$={stmt:"state",id:_r[qn],type:"choice"};break;case 25:this.$={stmt:"state",id:Ir.getDividerId(),type:"divider"};break;case 26:this.$={stmt:"state",id:_r[qn-1].trim(),note:{position:_r[qn-2].trim(),text:_r[qn].trim()}};break;case 30:this.$=_r[qn].trim(),Ir.setAccTitle(this.$);break;case 31:case 32:this.$=_r[qn].trim(),Ir.setAccDescription(this.$);break;case 33:case 34:this.$={stmt:"classDef",id:_r[qn-1].trim(),classes:_r[qn].trim()};break;case 35:this.$={stmt:"applyClass",id:_r[qn-1].trim(),styleClass:_r[qn].trim()};break;case 38:Ir.setDirection("TB"),this.$={stmt:"dir",value:"TB"};break;case 39:Ir.setDirection("BT"),this.$={stmt:"dir",value:"BT"};break;case 40:Ir.setDirection("RL"),this.$={stmt:"dir",value:"RL"};break;case 41:Ir.setDirection("LR"),this.$={stmt:"dir",value:"LR"};break;case 44:case 45:this.$={stmt:"state",id:_r[qn].trim(),type:"default",description:""};break;case 46:this.$={stmt:"state",id:_r[qn-2].trim(),classes:[_r[qn].trim()],type:"default",description:""};break;case 47:this.$={stmt:"state",id:_r[qn-2].trim(),classes:[_r[qn].trim()],type:"default",description:""};break;case 50:Ir.parseDirective("%%{","open_directive");break;case 51:Ir.parseDirective(_r[qn],"type_directive");break;case 52:_r[qn]=_r[qn].trim().replace(/'/g,'"'),Ir.parseDirective(_r[qn],"arg_directive");break;case 53:Ir.parseDirective("}%%","close_directive","state");break}},table:[{3:1,4:rt,5:it,6:4,7:st,45:6,60:bt},{1:[3]},{3:8,4:rt,5:it,6:4,7:st,45:6,60:bt},{3:9,4:rt,5:it,6:4,7:st,45:6,60:bt},{3:10,4:rt,5:it,6:4,7:st,45:6,60:bt},nt([1,4,5,16,17,19,22,24,25,26,27,28,29,33,35,37,38,42,50,51,52,53,56,60],wt,{8:11}),{46:12,61:[1,13]},{61:[2,50]},{1:[2,1]},{1:[2,2]},{1:[2,3]},{1:[2,4],4:Et,5:Tt,6:30,9:14,10:16,11:18,12:19,13:20,16:At,17:Dt,19:Ot,22:zt,24:$t,25:Bt,26:Yt,27:Xt,28:Ht,29:Qt,32:31,33:Zt,35:nn,37:Kt,38:ln,42:sn,45:6,50:bn,51:wn,52:Mn,53:Sn,56:Dn,60:bt},{47:43,48:[1,44],63:gn},nt([48,63],[2,51]),nt(Un,[2,6]),{6:30,10:46,11:18,12:19,13:20,16:At,17:Dt,19:Ot,22:zt,24:$t,25:Bt,26:Yt,27:Xt,28:Ht,29:Qt,32:31,33:Zt,35:nn,37:Kt,38:ln,42:sn,45:6,50:bn,51:wn,52:Mn,53:Sn,56:Dn,60:bt},nt(Un,[2,8]),nt(Un,[2,9]),nt(Un,[2,10]),nt(Un,[2,11]),nt(Un,[2,12],{14:[1,47],15:[1,48]}),nt(Un,[2,16]),{18:[1,49]},nt(Un,[2,18],{20:[1,50]}),{23:[1,51]},nt(Un,[2,22]),nt(Un,[2,23]),nt(Un,[2,24]),nt(Un,[2,25]),{30:52,31:[1,53],58:[1,54],59:[1,55]},nt(Un,[2,28]),nt(Un,[2,29]),{34:[1,56]},{36:[1,57]},nt(Un,[2,32]),{39:[1,58],41:[1,59]},{43:[1,60]},nt(pn,[2,44],{57:[1,61]}),nt(pn,[2,45],{57:[1,62]}),nt(Un,[2,38]),nt(Un,[2,39]),nt(Un,[2,40]),nt(Un,[2,41]),nt(yr,[2,36]),{49:63,62:[1,64]},nt(yr,[2,53]),nt(Un,[2,7]),nt(Un,[2,13]),{13:65,24:$t,56:Dn},nt(Un,[2,17]),nt(xn,wt,{8:66}),{24:[1,67]},{24:[1,68]},{23:[1,69]},{24:[2,48]},{24:[2,49]},nt(Un,[2,30]),nt(Un,[2,31]),{40:[1,70]},{40:[1,71]},{44:[1,72]},{24:[1,73]},{24:[1,74]},{47:75,63:gn},{63:[2,52]},nt(Un,[2,14],{14:[1,76]}),{4:Et,5:Tt,6:30,9:14,10:16,11:18,12:19,13:20,16:At,17:Dt,19:Ot,21:[1,77],22:zt,24:$t,25:Bt,26:Yt,27:Xt,28:Ht,29:Qt,32:31,33:Zt,35:nn,37:Kt,38:ln,42:sn,45:6,50:bn,51:wn,52:Mn,53:Sn,56:Dn,60:bt},nt(Un,[2,20],{20:[1,78]}),{31:[1,79]},{24:[1,80]},nt(Un,[2,33]),nt(Un,[2,34]),nt(Un,[2,35]),nt(pn,[2,46]),nt(pn,[2,47]),nt(yr,[2,37]),nt(Un,[2,15]),nt(Un,[2,19]),nt(xn,wt,{8:81}),nt(Un,[2,26]),nt(Un,[2,27]),{4:Et,5:Tt,6:30,9:14,10:16,11:18,12:19,13:20,16:At,17:Dt,19:Ot,21:[1,82],22:zt,24:$t,25:Bt,26:Yt,27:Xt,28:Ht,29:Qt,32:31,33:Zt,35:nn,37:Kt,38:ln,42:sn,45:6,50:bn,51:wn,52:Mn,53:Sn,56:Dn,60:bt},nt(Un,[2,21])],defaultActions:{7:[2,50],8:[2,1],9:[2,2],10:[2,3],54:[2,48],55:[2,49],64:[2,52]},parseError:function(lr,ur){if(ur.recoverable)this.trace(lr);else{var vr=new Error(lr);throw vr.hash=ur,vr}},parse:function(lr){var ur=this,vr=[0],Ir=[],Pr=[null],_r=[],tr=this.table,qn="",mr=0,br=0,hr=2,An=1,rn=_r.slice.call(arguments,1),vn=Object.create(this.lexer),hn={yy:{}};for(var zn in this.yy)Object.prototype.hasOwnProperty.call(this.yy,zn)&&(hn.yy[zn]=this.yy[zn]);vn.setInput(lr,hn.yy),hn.yy.lexer=vn,hn.yy.parser=this,typeof vn.yylloc>"u"&&(vn.yylloc={});var On=vn.yylloc;_r.push(On);var Er=vn.options&&vn.options.ranges;typeof hn.yy.parseError=="function"?this.parseError=hn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function Rn(){var Ci;return Ci=Ir.pop()||vn.lex()||An,typeof Ci!="number"&&(Ci instanceof Array&&(Ir=Ci,Ci=Ir.pop()),Ci=ur.symbols_[Ci]||Ci),Ci}for(var rr,Kn,gr,xr,Lr={},Cr,Ar,mi,vi;;){if(Kn=vr[vr.length-1],this.defaultActions[Kn]?gr=this.defaultActions[Kn]:((rr===null||typeof rr>"u")&&(rr=Rn()),gr=tr[Kn]&&tr[Kn][rr]),typeof gr>"u"||!gr.length||!gr[0]){var xi="";vi=[];for(Cr in tr[Kn])this.terminals_[Cr]&&Cr>hr&&vi.push("'"+this.terminals_[Cr]+"'");vn.showPosition?xi="Parse error on line "+(mr+1)+`:
`+vn.showPosition()+`
Expecting `+vi.join(", ")+", got '"+(this.terminals_[rr]||rr)+"'":xi="Parse error on line "+(mr+1)+": Unexpected "+(rr==An?"end of input":"'"+(this.terminals_[rr]||rr)+"'"),this.parseError(xi,{text:vn.match,token:this.terminals_[rr]||rr,line:vn.yylineno,loc:On,expected:vi})}if(gr[0]instanceof Array&&gr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Kn+", token: "+rr);switch(gr[0]){case 1:vr.push(rr),Pr.push(vn.yytext),_r.push(vn.yylloc),vr.push(gr[1]),rr=null,br=vn.yyleng,qn=vn.yytext,mr=vn.yylineno,On=vn.yylloc;break;case 2:if(Ar=this.productions_[gr[1]][1],Lr.$=Pr[Pr.length-Ar],Lr._$={first_line:_r[_r.length-(Ar||1)].first_line,last_line:_r[_r.length-1].last_line,first_column:_r[_r.length-(Ar||1)].first_column,last_column:_r[_r.length-1].last_column},Er&&(Lr._$.range=[_r[_r.length-(Ar||1)].range[0],_r[_r.length-1].range[1]]),xr=this.performAction.apply(Lr,[qn,br,mr,hn.yy,gr[1],Pr,_r].concat(rn)),typeof xr<"u")return xr;Ar&&(vr=vr.slice(0,-1*Ar*2),Pr=Pr.slice(0,-1*Ar),_r=_r.slice(0,-1*Ar)),vr.push(this.productions_[gr[1]][0]),Pr.push(Lr.$),_r.push(Lr._$),mi=tr[vr[vr.length-2]][vr[vr.length-1]],vr.push(mi);break;case 3:return!0}}return!0}},fr=function(){var Gn={EOF:1,parseError:function(ur,vr){if(this.yy.parser)this.yy.parser.parseError(ur,vr);else throw new Error(ur)},setInput:function(lr,ur){return this.yy=ur||this.yy||{},this._input=lr,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var lr=this._input[0];this.yytext+=lr,this.yyleng++,this.offset++,this.match+=lr,this.matched+=lr;var ur=lr.match(/(?:\r\n?|\n).*/g);return ur?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),lr},unput:function(lr){var ur=lr.length,vr=lr.split(/(?:\r\n?|\n)/g);this._input=lr+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-ur),this.offset-=ur;var Ir=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),vr.length-1&&(this.yylineno-=vr.length-1);var Pr=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:vr?(vr.length===Ir.length?this.yylloc.first_column:0)+Ir[Ir.length-vr.length].length-vr[0].length:this.yylloc.first_column-ur},this.options.ranges&&(this.yylloc.range=[Pr[0],Pr[0]+this.yyleng-ur]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(lr){this.unput(this.match.slice(lr))},pastInput:function(){var lr=this.matched.substr(0,this.matched.length-this.match.length);return(lr.length>20?"...":"")+lr.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var lr=this.match;return lr.length<20&&(lr+=this._input.substr(0,20-lr.length)),(lr.substr(0,20)+(lr.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var lr=this.pastInput(),ur=new Array(lr.length+1).join("-");return lr+this.upcomingInput()+`
`+ur+"^"},test_match:function(lr,ur){var vr,Ir,Pr;if(this.options.backtrack_lexer&&(Pr={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Pr.yylloc.range=this.yylloc.range.slice(0))),Ir=lr[0].match(/(?:\r\n?|\n).*/g),Ir&&(this.yylineno+=Ir.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:Ir?Ir[Ir.length-1].length-Ir[Ir.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+lr[0].length},this.yytext+=lr[0],this.match+=lr[0],this.matches=lr,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(lr[0].length),this.matched+=lr[0],vr=this.performAction.call(this,this.yy,this,ur,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),vr)return vr;if(this._backtrack){for(var _r in Pr)this[_r]=Pr[_r];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var lr,ur,vr,Ir;this._more||(this.yytext="",this.match="");for(var Pr=this._currentRules(),_r=0;_r<Pr.length;_r++)if(vr=this._input.match(this.rules[Pr[_r]]),vr&&(!ur||vr[0].length>ur[0].length)){if(ur=vr,Ir=_r,this.options.backtrack_lexer){if(lr=this.test_match(vr,Pr[_r]),lr!==!1)return lr;if(this._backtrack){ur=!1;continue}else return!1}else if(!this.options.flex)break}return ur?(lr=this.test_match(ur,Pr[Ir]),lr!==!1?lr:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var ur=this.next();return ur||this.lex()},begin:function(ur){this.conditionStack.push(ur)},popState:function(){var ur=this.conditionStack.length-1;return ur>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(ur){return ur=this.conditionStack.length-1-Math.abs(ur||0),ur>=0?this.conditionStack[ur]:"INITIAL"},pushState:function(ur){this.begin(ur)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(ur,vr,Ir,Pr){switch(Ir){case 0:return 41;case 1:return 50;case 2:return 51;case 3:return 52;case 4:return 53;case 5:return this.begin("open_directive"),60;case 6:return this.begin("type_directive"),61;case 7:return this.popState(),this.begin("arg_directive"),48;case 8:return this.popState(),this.popState(),63;case 9:return 62;case 10:break;case 11:break;case 12:return 5;case 13:break;case 14:break;case 15:break;case 16:break;case 17:return this.pushState("SCALE"),17;case 18:return 18;case 19:this.popState();break;case 20:return this.begin("acc_title"),33;case 21:return this.popState(),"acc_title_value";case 22:return this.begin("acc_descr"),35;case 23:return this.popState(),"acc_descr_value";case 24:this.begin("acc_descr_multiline");break;case 25:this.popState();break;case 26:return"acc_descr_multiline_value";case 27:return this.pushState("CLASSDEF"),38;case 28:return this.popState(),this.pushState("CLASSDEFID"),"DEFAULT_CLASSDEF_ID";case 29:return this.popState(),this.pushState("CLASSDEFID"),39;case 30:return this.popState(),40;case 31:return this.pushState("CLASS"),42;case 32:return this.popState(),this.pushState("CLASS_STYLE"),43;case 33:return this.popState(),44;case 34:return this.pushState("SCALE"),17;case 35:return 18;case 36:this.popState();break;case 37:this.pushState("STATE");break;case 38:return this.popState(),vr.yytext=vr.yytext.slice(0,-8).trim(),25;case 39:return this.popState(),vr.yytext=vr.yytext.slice(0,-8).trim(),26;case 40:return this.popState(),vr.yytext=vr.yytext.slice(0,-10).trim(),27;case 41:return this.popState(),vr.yytext=vr.yytext.slice(0,-8).trim(),25;case 42:return this.popState(),vr.yytext=vr.yytext.slice(0,-8).trim(),26;case 43:return this.popState(),vr.yytext=vr.yytext.slice(0,-10).trim(),27;case 44:return 50;case 45:return 51;case 46:return 52;case 47:return 53;case 48:this.begin("STATE_STRING");break;case 49:return this.popState(),this.pushState("STATE_ID"),"AS";case 50:return this.popState(),"ID";case 51:this.popState();break;case 52:return"STATE_DESCR";case 53:return 19;case 54:this.popState();break;case 55:return this.popState(),this.pushState("struct"),20;case 56:break;case 57:return this.popState(),21;case 58:break;case 59:return this.begin("NOTE"),29;case 60:return this.popState(),this.pushState("NOTE_ID"),58;case 61:return this.popState(),this.pushState("NOTE_ID"),59;case 62:this.popState(),this.pushState("FLOATING_NOTE");break;case 63:return this.popState(),this.pushState("FLOATING_NOTE_ID"),"AS";case 64:break;case 65:return"NOTE_TEXT";case 66:return this.popState(),"ID";case 67:return this.popState(),this.pushState("NOTE_TEXT"),24;case 68:return this.popState(),vr.yytext=vr.yytext.substr(2).trim(),31;case 69:return this.popState(),vr.yytext=vr.yytext.slice(0,-8).trim(),31;case 70:return 7;case 71:return 7;case 72:return 16;case 73:return 56;case 74:return 24;case 75:return vr.yytext=vr.yytext.trim(),14;case 76:return 15;case 77:return 28;case 78:return 57;case 79:return 5;case 80:return"INVALID"}},rules:[/^(?:default\b)/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:[\s]+)/i,/^(?:((?!\n)\s)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:classDef\s+)/i,/^(?:DEFAULT\s+)/i,/^(?:\w+\s+)/i,/^(?:[^\n]*)/i,/^(?:class\s+)/i,/^(?:(\w+)+((,\s*\w+)*))/i,/^(?:[^\n]*)/i,/^(?:scale\s+)/i,/^(?:\d+)/i,/^(?:\s+width\b)/i,/^(?:state\s+)/i,/^(?:.*<<fork>>)/i,/^(?:.*<<join>>)/i,/^(?:.*<<choice>>)/i,/^(?:.*\[\[fork\]\])/i,/^(?:.*\[\[join\]\])/i,/^(?:.*\[\[choice\]\])/i,/^(?:.*direction\s+TB[^\n]*)/i,/^(?:.*direction\s+BT[^\n]*)/i,/^(?:.*direction\s+RL[^\n]*)/i,/^(?:.*direction\s+LR[^\n]*)/i,/^(?:["])/i,/^(?:\s*as\s+)/i,/^(?:[^\n\{]*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n\s\{]+)/i,/^(?:\n)/i,/^(?:\{)/i,/^(?:%%(?!\{)[^\n]*)/i,/^(?:\})/i,/^(?:[\n])/i,/^(?:note\s+)/i,/^(?:left of\b)/i,/^(?:right of\b)/i,/^(?:")/i,/^(?:\s*as\s*)/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[^\n]*)/i,/^(?:\s*[^:\n\s\-]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:[\s\S]*?end note\b)/i,/^(?:stateDiagram\s+)/i,/^(?:stateDiagram-v2\s+)/i,/^(?:hide empty description\b)/i,/^(?:\[\*\])/i,/^(?:[^:\n\s\-\{]+)/i,/^(?:\s*:[^:\n;]+)/i,/^(?:-->)/i,/^(?:--)/i,/^(?::::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{LINE:{rules:[14,15],inclusive:!1},close_directive:{rules:[14,15],inclusive:!1},arg_directive:{rules:[8,9,14,15],inclusive:!1},type_directive:{rules:[7,8,14,15],inclusive:!1},open_directive:{rules:[6,14,15],inclusive:!1},struct:{rules:[14,15,27,31,37,44,45,46,47,56,57,58,59,73,74,75,76,77],inclusive:!1},FLOATING_NOTE_ID:{rules:[66],inclusive:!1},FLOATING_NOTE:{rules:[63,64,65],inclusive:!1},NOTE_TEXT:{rules:[68,69],inclusive:!1},NOTE_ID:{rules:[67],inclusive:!1},NOTE:{rules:[60,61,62],inclusive:!1},CLASS_STYLE:{rules:[33],inclusive:!1},CLASS:{rules:[32],inclusive:!1},CLASSDEFID:{rules:[30],inclusive:!1},CLASSDEF:{rules:[28,29],inclusive:!1},acc_descr_multiline:{rules:[25,26],inclusive:!1},acc_descr:{rules:[23],inclusive:!1},acc_title:{rules:[21],inclusive:!1},SCALE:{rules:[18,19,35,36],inclusive:!1},ALIAS:{rules:[],inclusive:!1},STATE_ID:{rules:[50],inclusive:!1},STATE_STRING:{rules:[51,52],inclusive:!1},FORK_STATE:{rules:[],inclusive:!1},STATE:{rules:[14,15,38,39,40,41,42,43,48,49,53,54,55],inclusive:!1},ID:{rules:[14,15],inclusive:!1},INITIAL:{rules:[0,1,2,3,4,5,10,11,12,13,15,16,17,20,22,24,27,31,34,37,55,59,70,71,72,73,74,75,76,78,79,80],inclusive:!0}}};return Gn}();Mr.lexer=fr;function cr(){this.yy={}}return cr.prototype=Mr,Mr.Parser=cr,new cr}();parser$1.parser=parser$1;const stateParser=parser$1,stateDetector=(nt,rt)=>{var it;return((it=rt==null?void 0:rt.state)==null?void 0:it.defaultRenderer)==="dagre-wrapper"?!1:nt.match(/^\s*stateDiagram/)!==null},stateDetectorV2=(nt,rt)=>{var it;return!!(nt.match(/^\s*stateDiagram-v2/)!==null||nt.match(/^\s*stateDiagram/)&&((it=rt==null?void 0:rt.state)==null?void 0:it.defaultRenderer)==="dagre-wrapper")},DEFAULT_DIAGRAM_DIRECTION="LR",DEFAULT_NESTED_DOC_DIR="TB",STMT_STATE="state",STMT_RELATION="relation",STMT_CLASSDEF="classDef",STMT_APPLYCLASS="applyClass",DEFAULT_STATE_TYPE="default",DIVIDER_TYPE="divider",START_NODE="[*]",START_TYPE="start",END_NODE=START_NODE,END_TYPE="end",COLOR_KEYWORD="color",FILL_KEYWORD="fill",BG_FILL="bgFill",STYLECLASS_SEP=",";function newClassesList(){return{}}let direction=DEFAULT_DIAGRAM_DIRECTION,rootDoc=[],classes=newClassesList();const newDoc=()=>({relations:[],states:{},documents:{}});let documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,dividerCnt=0;const lineType={LINE:0,DOTTED_LINE:1},relationType={AGGREGATION:0,EXTENSION:1,COMPOSITION:2,DEPENDENCY:3},clone=nt=>JSON.parse(JSON.stringify(nt)),parseDirective$2=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},setRootDoc=nt=>{log$1.info("Setting root doc",nt),rootDoc=nt},getRootDoc=()=>rootDoc,docTranslator=(nt,rt,it)=>{if(rt.stmt===STMT_RELATION)docTranslator(nt,rt.state1,!0),docTranslator(nt,rt.state2,!1);else if(rt.stmt===STMT_STATE&&rt.id==="[*]"&&(rt.id=it?nt.id+"_start":nt.id+"_end",rt.start=it),rt.doc){const st=[];let bt=[],wt;for(wt=0;wt<rt.doc.length;wt++)if(rt.doc[wt].type===DIVIDER_TYPE){const Et=clone(rt.doc[wt]);Et.doc=clone(bt),st.push(Et),bt=[]}else bt.push(rt.doc[wt]);if(st.length>0&&bt.length>0){const Et={stmt:STMT_STATE,id:generateId$1(),type:"divider",doc:clone(bt)};st.push(clone(Et)),rt.doc=st}rt.doc.forEach(Et=>docTranslator(rt,Et,!0))}},getRootDocV2=()=>(docTranslator({id:"root"},{id:"root",doc:rootDoc},!0),{id:"root",doc:rootDoc}),extract=nt=>{let rt;nt.doc?rt=nt.doc:rt=nt,log$1.info(rt),clear$1(!0),log$1.info("Extract",rt),rt.forEach(it=>{switch(it.stmt){case STMT_STATE:addState(it.id,it.type,it.doc,it.description,it.note,it.classes,it.styles,it.textStyles);break;case STMT_RELATION:addRelation(it.state1,it.state2,it.description);break;case STMT_CLASSDEF:addStyleClass(it.id,it.classes);break;case STMT_APPLYCLASS:setCssClass(it.id,it.styleClass);break}})},addState=function(nt,rt=DEFAULT_STATE_TYPE,it=null,st=null,bt=null,wt=null,Et=null,Tt=null){currentDocument.states[nt]===void 0?(log$1.info("Adding state ",nt,st),currentDocument.states[nt]={id:nt,descriptions:[],type:rt,doc:it,note:bt,classes:[],styles:[],textStyles:[]}):(currentDocument.states[nt].doc||(currentDocument.states[nt].doc=it),currentDocument.states[nt].type||(currentDocument.states[nt].type=rt)),st&&(log$1.info("Setting state description",nt,st),typeof st=="string"&&addDescription(nt,st.trim()),typeof st=="object"&&st.forEach(At=>addDescription(nt,At.trim()))),bt&&(currentDocument.states[nt].note=bt,currentDocument.states[nt].note.text=common$1.sanitizeText(currentDocument.states[nt].note.text,getConfig$1())),wt&&(log$1.info("Setting state classes",nt,wt),(typeof wt=="string"?[wt]:wt).forEach(Dt=>setCssClass(nt,Dt.trim()))),Et&&(log$1.info("Setting state styles",nt,Et),(typeof Et=="string"?[Et]:Et).forEach(Dt=>setStyle(nt,Dt.trim()))),Tt&&(log$1.info("Setting state styles",nt,Et),(typeof Tt=="string"?[Tt]:Tt).forEach(Dt=>setTextStyle(nt,Dt.trim())))},clear$1=function(nt){documents={root:newDoc()},currentDocument=documents.root,startEndCount=0,classes=newClassesList(),nt||clear$g()},getState=function(nt){return currentDocument.states[nt]},getStates=function(){return currentDocument.states},logDocuments=function(){log$1.info("Documents = ",documents)},getRelations=function(){return currentDocument.relations};function startIdIfNeeded(nt=""){let rt=nt;return nt===START_NODE&&(startEndCount++,rt=`${START_TYPE}${startEndCount}`),rt}function startTypeIfNeeded(nt="",rt=DEFAULT_STATE_TYPE){return nt===START_NODE?START_TYPE:rt}function endIdIfNeeded(nt=""){let rt=nt;return nt===END_NODE&&(startEndCount++,rt=`${END_TYPE}${startEndCount}`),rt}function endTypeIfNeeded(nt="",rt=DEFAULT_STATE_TYPE){return nt===END_NODE?END_TYPE:rt}function addRelationObjs(nt,rt,it){let st=startIdIfNeeded(nt.id),bt=startTypeIfNeeded(nt.id,nt.type),wt=startIdIfNeeded(rt.id),Et=startTypeIfNeeded(rt.id,rt.type);addState(st,bt,nt.doc,nt.description,nt.note,nt.classes,nt.styles,nt.textStyles),addState(wt,Et,rt.doc,rt.description,rt.note,rt.classes,rt.styles,rt.textStyles),currentDocument.relations.push({id1:st,id2:wt,relationTitle:common$1.sanitizeText(it,getConfig$1())})}const addRelation=function(nt,rt,it){if(typeof nt=="object")addRelationObjs(nt,rt,it);else{const st=startIdIfNeeded(nt),bt=startTypeIfNeeded(nt),wt=endIdIfNeeded(rt),Et=endTypeIfNeeded(rt);addState(st,bt),addState(wt,Et),currentDocument.relations.push({id1:st,id2:wt,title:common$1.sanitizeText(it,getConfig$1())})}},addDescription=function(nt,rt){const it=currentDocument.states[nt],st=rt.startsWith(":")?rt.replace(":","").trim():rt;it.descriptions.push(common$1.sanitizeText(st,getConfig$1()))},cleanupLabel=function(nt){return nt.substring(0,1)===":"?nt.substr(2).trim():nt.trim()},getDividerId=()=>(dividerCnt++,"divider-id-"+dividerCnt),addStyleClass=function(nt,rt=""){classes[nt]===void 0&&(classes[nt]={id:nt,styles:[],textStyles:[]});const it=classes[nt];rt!=null&&rt.split(STYLECLASS_SEP).forEach(st=>{const bt=st.replace(/([^;]*);/,"$1").trim();if(st.match(COLOR_KEYWORD)){const Et=bt.replace(FILL_KEYWORD,BG_FILL).replace(COLOR_KEYWORD,FILL_KEYWORD);it.textStyles.push(Et)}it.styles.push(bt)})},getClasses$1=function(){return classes},setCssClass=function(nt,rt){nt.split(",").forEach(function(it){let st=getState(it);if(st===void 0){const bt=it.trim();addState(bt),st=getState(bt)}st.classes.push(rt)})},setStyle=function(nt,rt){const it=getState(nt);it!==void 0&&it.textStyles.push(rt)},setTextStyle=function(nt,rt){const it=getState(nt);it!==void 0&&it.textStyles.push(rt)},getDirection=()=>direction,setDirection=nt=>{direction=nt},trimColon=nt=>nt&&nt[0]===":"?nt.substr(1).trim():nt.trim(),stateDb={parseDirective:parseDirective$2,getConfig:()=>getConfig$1().state,addState,clear:clear$1,getState,getStates,getRelations,getClasses:getClasses$1,getDirection,addRelation,getDividerId,setDirection,cleanupLabel,lineType,relationType,logDocuments,getRootDoc,setRootDoc,getRootDocV2,extract,trimColon,getAccTitle,setAccTitle,getAccDescription,setAccDescription,addStyleClass,setCssClass,addDescription,setDiagramTitle,getDiagramTitle},drawStartState=nt=>nt.append("circle").attr("class","start-state").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit),drawDivider=nt=>nt.append("line").style("stroke","grey").style("stroke-dasharray","3").attr("x1",getConfig$1().state.textHeight).attr("class","divider").attr("x2",getConfig$1().state.textHeight*2).attr("y1",0).attr("y2",0),drawSimpleState=(nt,rt)=>{const it=nt.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+2*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(rt.id),st=it.node().getBBox();return nt.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",st.width+2*getConfig$1().state.padding).attr("height",st.height+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),it},drawDescrState=(nt,rt)=>{const it=function($t,Bt,Yt){const Xt=$t.append("tspan").attr("x",2*getConfig$1().state.padding).text(Bt);Yt||Xt.attr("dy",getConfig$1().state.textHeight)},bt=nt.append("text").attr("x",2*getConfig$1().state.padding).attr("y",getConfig$1().state.textHeight+1.3*getConfig$1().state.padding).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(rt.descriptions[0]).node().getBBox(),wt=bt.height,Et=nt.append("text").attr("x",getConfig$1().state.padding).attr("y",wt+getConfig$1().state.padding*.4+getConfig$1().state.dividerMargin+getConfig$1().state.textHeight).attr("class","state-description");let Tt=!0,At=!0;rt.descriptions.forEach(function($t){Tt||(it(Et,$t,At),At=!1),Tt=!1});const Dt=nt.append("line").attr("x1",getConfig$1().state.padding).attr("y1",getConfig$1().state.padding+wt+getConfig$1().state.dividerMargin/2).attr("y2",getConfig$1().state.padding+wt+getConfig$1().state.dividerMargin/2).attr("class","descr-divider"),Ot=Et.node().getBBox(),zt=Math.max(Ot.width,bt.width);return Dt.attr("x2",zt+3*getConfig$1().state.padding),nt.insert("rect",":first-child").attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding).attr("width",zt+2*getConfig$1().state.padding).attr("height",Ot.height+wt+2*getConfig$1().state.padding).attr("rx",getConfig$1().state.radius),nt},addTitleAndBox=(nt,rt,it)=>{const st=getConfig$1().state.padding,bt=2*getConfig$1().state.padding,wt=nt.node().getBBox(),Et=wt.width,Tt=wt.x,At=nt.append("text").attr("x",0).attr("y",getConfig$1().state.titleShift).attr("font-size",getConfig$1().state.fontSize).attr("class","state-title").text(rt.id),Ot=At.node().getBBox().width+bt;let zt=Math.max(Ot,Et);zt===Et&&(zt=zt+bt);let $t;const Bt=nt.node().getBBox();rt.doc,$t=Tt-st,Ot>Et&&($t=(Et-zt)/2+st),Math.abs(Tt-Bt.x)<st&&Ot>Et&&($t=Tt-(Ot-Et)/2);const Yt=1-getConfig$1().state.textHeight;return nt.insert("rect",":first-child").attr("x",$t).attr("y",Yt).attr("class",it?"alt-composit":"composit").attr("width",zt).attr("height",Bt.height+getConfig$1().state.textHeight+getConfig$1().state.titleShift+1).attr("rx","0"),At.attr("x",$t+st),Ot<=Et&&At.attr("x",Tt+(zt-bt)/2-Ot/2+st),nt.insert("rect",":first-child").attr("x",$t).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",zt).attr("height",getConfig$1().state.textHeight*3).attr("rx",getConfig$1().state.radius),nt.insert("rect",":first-child").attr("x",$t).attr("y",getConfig$1().state.titleShift-getConfig$1().state.textHeight-getConfig$1().state.padding).attr("width",zt).attr("height",Bt.height+3+2*getConfig$1().state.textHeight).attr("rx",getConfig$1().state.radius),nt},drawEndState=nt=>(nt.append("circle").attr("class","end-state-outer").attr("r",getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+getConfig$1().state.miniPadding),nt.append("circle").attr("class","end-state-inner").attr("r",getConfig$1().state.sizeUnit).attr("cx",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2).attr("cy",getConfig$1().state.padding+getConfig$1().state.sizeUnit+2)),drawForkJoinState=(nt,rt)=>{let it=getConfig$1().state.forkWidth,st=getConfig$1().state.forkHeight;if(rt.parentId){let bt=it;it=st,st=bt}return nt.append("rect").style("stroke","black").style("fill","black").attr("width",it).attr("height",st).attr("x",getConfig$1().state.padding).attr("y",getConfig$1().state.padding)},_drawLongText=(nt,rt,it,st)=>{let bt=0;const wt=st.append("text");wt.style("text-anchor","start"),wt.attr("class","noteText");let Et=nt.replace(/\r\n/g,"<br/>");Et=Et.replace(/\n/g,"<br/>");const Tt=Et.split(common$1.lineBreakRegex);let At=1.25*getConfig$1().state.noteMargin;for(const Dt of Tt){const Ot=Dt.trim();if(Ot.length>0){const zt=wt.append("tspan");if(zt.text(Ot),At===0){const $t=zt.node().getBBox();At+=$t.height}bt+=At,zt.attr("x",rt+getConfig$1().state.noteMargin),zt.attr("y",it+bt+1.25*getConfig$1().state.noteMargin)}}return{textWidth:wt.node().getBBox().width,textHeight:bt}},drawNote=(nt,rt)=>{rt.attr("class","state-note");const it=rt.append("rect").attr("x",0).attr("y",getConfig$1().state.padding),st=rt.append("g"),{textWidth:bt,textHeight:wt}=_drawLongText(nt,0,0,st);return it.attr("height",wt+2*getConfig$1().state.noteMargin),it.attr("width",bt+getConfig$1().state.noteMargin*2),it},drawState=function(nt,rt){const it=rt.id,st={id:it,label:rt.id,width:0,height:0},bt=nt.append("g").attr("id",it).attr("class","stateGroup");rt.type==="start"&&drawStartState(bt),rt.type==="end"&&drawEndState(bt),(rt.type==="fork"||rt.type==="join")&&drawForkJoinState(bt,rt),rt.type==="note"&&drawNote(rt.note.text,bt),rt.type==="divider"&&drawDivider(bt),rt.type==="default"&&rt.descriptions.length===0&&drawSimpleState(bt,rt),rt.type==="default"&&rt.descriptions.length>0&&drawDescrState(bt,rt);const wt=bt.node().getBBox();return st.width=wt.width+2*getConfig$1().state.padding,st.height=wt.height+2*getConfig$1().state.padding,st};let edgeCount=0;const drawEdge=function(nt,rt,it){const st=function(At){switch(At){case stateDb.relationType.AGGREGATION:return"aggregation";case stateDb.relationType.EXTENSION:return"extension";case stateDb.relationType.COMPOSITION:return"composition";case stateDb.relationType.DEPENDENCY:return"dependency"}};rt.points=rt.points.filter(At=>!Number.isNaN(At.y));const bt=rt.points,wt=line$1().x(function(At){return At.x}).y(function(At){return At.y}).curve(curveBasis),Et=nt.append("path").attr("d",wt(bt)).attr("id","edge"+edgeCount).attr("class","transition");let Tt="";if(getConfig$1().state.arrowMarkerAbsolute&&(Tt=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.search,Tt=Tt.replace(/\(/g,"\\("),Tt=Tt.replace(/\)/g,"\\)")),Et.attr("marker-end","url("+Tt+"#"+st(stateDb.relationType.DEPENDENCY)+"End)"),it.title!==void 0){const At=nt.append("g").attr("class","stateLabel"),{x:Dt,y:Ot}=utils.calcLabelPosition(rt.points),zt=common$1.getRows(it.title);let $t=0;const Bt=[];let Yt=0,Xt=0;for(let Zt=0;Zt<=zt.length;Zt++){const nn=At.append("text").attr("text-anchor","middle").text(zt[Zt]).attr("x",Dt).attr("y",Ot+$t),Kt=nn.node().getBBox();Yt=Math.max(Yt,Kt.width),Xt=Math.min(Xt,Kt.x),log$1.info(Kt.x,Dt,Ot+$t),$t===0&&($t=nn.node().getBBox().height,log$1.info("Title height",$t,Ot)),Bt.push(nn)}let Ht=$t*zt.length;if(zt.length>1){const Zt=(zt.length-1)*$t*.5;Bt.forEach((nn,Kt)=>nn.attr("y",Ot+Kt*$t-Zt)),Ht=$t*zt.length}const Qt=At.node().getBBox();At.insert("rect",":first-child").attr("class","box").attr("x",Dt-Yt/2-getConfig$1().state.padding/2).attr("y",Ot-Ht/2-getConfig$1().state.padding/2-3.5).attr("width",Yt+getConfig$1().state.padding).attr("height",Ht+getConfig$1().state.padding),log$1.info(Qt)}edgeCount++};let conf$2;const transformationLog={},setConf$3=function(){},insertMarkers=function(nt){nt.append("defs").append("marker").attr("id","dependencyEnd").attr("refX",19).attr("refY",7).attr("markerWidth",20).attr("markerHeight",28).attr("orient","auto").append("path").attr("d","M 19,7 L9,13 L14,7 L9,1 Z")},draw$3=function(nt,rt,it,st){conf$2=getConfig$1().state;const bt=getConfig$1().securityLevel;let wt;bt==="sandbox"&&(wt=select("#i"+rt));const Et=select(bt==="sandbox"?wt.nodes()[0].contentDocument.body:"body"),Tt=bt==="sandbox"?wt.nodes()[0].contentDocument:document;log$1.debug("Rendering diagram "+nt);const At=Et.select(`[id='${rt}']`);insertMarkers(At),new Graph({multigraph:!0,compound:!0,rankdir:"RL"}).setDefaultEdgeLabel(function(){return{}});const Ot=st.db.getRootDoc();renderDoc(Ot,At,void 0,!1,Et,Tt,st);const zt=conf$2.padding,$t=At.node().getBBox(),Bt=$t.width+zt*2,Yt=$t.height+zt*2,Xt=Bt*1.75;configureSvgSize(At,Yt,Xt,conf$2.useMaxWidth),At.attr("viewBox",`${$t.x-conf$2.padding}  ${$t.y-conf$2.padding} `+Bt+" "+Yt)},getLabelWidth=nt=>nt?nt.length*conf$2.fontSizeFactor:1,renderDoc=(nt,rt,it,st,bt,wt,Et)=>{const Tt=new Graph({compound:!0,multigraph:!0});let At,Dt=!0;for(At=0;At<nt.length;At++)if(nt[At].stmt==="relation"){Dt=!1;break}it?Tt.setGraph({rankdir:"LR",multigraph:!0,compound:!0,ranker:"tight-tree",ranksep:Dt?1:conf$2.edgeLengthFactor,nodeSep:Dt?1:50,isMultiGraph:!0}):Tt.setGraph({rankdir:"TB",multigraph:!0,compound:!0,ranksep:Dt?1:conf$2.edgeLengthFactor,nodeSep:Dt?1:50,ranker:"tight-tree",isMultiGraph:!0}),Tt.setDefaultEdgeLabel(function(){return{}}),Et.db.extract(nt);const Ot=Et.db.getStates(),zt=Et.db.getRelations(),$t=Object.keys(Ot);for(const Qt of $t){const Zt=Ot[Qt];it&&(Zt.parentId=it);let nn;if(Zt.doc){let Kt=rt.append("g").attr("id",Zt.id).attr("class","stateGroup");nn=renderDoc(Zt.doc,Kt,Zt.id,!st,bt,wt,Et);{Kt=addTitleAndBox(Kt,Zt,st);let ln=Kt.node().getBBox();nn.width=ln.width,nn.height=ln.height+conf$2.padding/2,transformationLog[Zt.id]={y:conf$2.compositTitleSize}}}else nn=drawState(rt,Zt);if(Zt.note){const Kt={descriptions:[],id:Zt.id+"-note",note:Zt.note,type:"note"},ln=drawState(rt,Kt);Zt.note.position==="left of"?(Tt.setNode(nn.id+"-note",ln),Tt.setNode(nn.id,nn)):(Tt.setNode(nn.id,nn),Tt.setNode(nn.id+"-note",ln)),Tt.setParent(nn.id,nn.id+"-group"),Tt.setParent(nn.id+"-note",nn.id+"-group")}else Tt.setNode(nn.id,nn)}log$1.debug("Count=",Tt.nodeCount(),Tt);let Bt=0;zt.forEach(function(Qt){Bt++,log$1.debug("Setting edge",Qt),Tt.setEdge(Qt.id1,Qt.id2,{relation:Qt,width:getLabelWidth(Qt.title),height:conf$2.labelHeight*common$1.getRows(Qt.title).length,labelpos:"c"},"id"+Bt)}),layout(Tt),log$1.debug("Graph after layout",Tt.nodes());const Yt=rt.node();Tt.nodes().forEach(function(Qt){Qt!==void 0&&Tt.node(Qt)!==void 0?(log$1.warn("Node "+Qt+": "+JSON.stringify(Tt.node(Qt))),bt.select("#"+Yt.id+" #"+Qt).attr("transform","translate("+(Tt.node(Qt).x-Tt.node(Qt).width/2)+","+(Tt.node(Qt).y+(transformationLog[Qt]?transformationLog[Qt].y:0)-Tt.node(Qt).height/2)+" )"),bt.select("#"+Yt.id+" #"+Qt).attr("data-x-shift",Tt.node(Qt).x-Tt.node(Qt).width/2),wt.querySelectorAll("#"+Yt.id+" #"+Qt+" .divider").forEach(nn=>{const Kt=nn.parentElement;let ln=0,sn=0;Kt&&(Kt.parentElement&&(ln=Kt.parentElement.getBBox().width),sn=parseInt(Kt.getAttribute("data-x-shift"),10),Number.isNaN(sn)&&(sn=0)),nn.setAttribute("x1",0-sn+8),nn.setAttribute("x2",ln-sn-8)})):log$1.debug("No Node "+Qt+": "+JSON.stringify(Tt.node(Qt)))});let Xt=Yt.getBBox();Tt.edges().forEach(function(Qt){Qt!==void 0&&Tt.edge(Qt)!==void 0&&(log$1.debug("Edge "+Qt.v+" -> "+Qt.w+": "+JSON.stringify(Tt.edge(Qt))),drawEdge(rt,Tt.edge(Qt),Tt.edge(Qt).relation))}),Xt=Yt.getBBox();const Ht={id:it||"root",label:it||"root",width:0,height:0};return Ht.width=Xt.width+2*conf$2.padding,Ht.height=Xt.height+2*conf$2.padding,log$1.debug("Doc rendered",Ht,Tt),Ht},stateRenderer={setConf:setConf$3,draw:draw$3},SHAPE_STATE="rect",SHAPE_STATE_WITH_DESC="rectWithTitle",SHAPE_START="start",SHAPE_END="end",SHAPE_DIVIDER="divider",SHAPE_GROUP="roundedWithTitle",SHAPE_NOTE="note",SHAPE_NOTEGROUP="noteGroup",CSS_DIAGRAM="statediagram",CSS_STATE="state",CSS_DIAGRAM_STATE=`${CSS_DIAGRAM}-${CSS_STATE}`,CSS_EDGE="transition",CSS_NOTE="note",CSS_NOTE_EDGE="note-edge",CSS_EDGE_NOTE_EDGE=`${CSS_EDGE} ${CSS_NOTE_EDGE}`,CSS_DIAGRAM_NOTE=`${CSS_DIAGRAM}-${CSS_NOTE}`,CSS_CLUSTER="cluster",CSS_DIAGRAM_CLUSTER=`${CSS_DIAGRAM}-${CSS_CLUSTER}`,CSS_CLUSTER_ALT="cluster-alt",CSS_DIAGRAM_CLUSTER_ALT=`${CSS_DIAGRAM}-${CSS_CLUSTER_ALT}`,PARENT="parent",NOTE="note",DOMID_STATE="state",DOMID_TYPE_SPACER="----",NOTE_ID=`${DOMID_TYPE_SPACER}${NOTE}`,PARENT_ID=`${DOMID_TYPE_SPACER}${PARENT}`,G_EDGE_STYLE="fill:none",G_EDGE_ARROWHEADSTYLE="fill: #333",G_EDGE_LABELPOS="c",G_EDGE_LABELTYPE="text",G_EDGE_THICKNESS="normal";let nodeDb={},graphItemCount=0;const setConf$2=function(nt){const rt=Object.keys(nt);for(const it of rt)nt[it]},getClasses=function(nt,rt){log$1.trace("Extracting classes"),rt.db.clear();try{return rt.parser.parse(nt),rt.db.extract(rt.db.getRootDocV2()),rt.db.getClasses()}catch(it){return it}};function getClassesFromDbInfo(nt){return nt==null?"":nt.classes?nt.classes.join(" "):""}function stateDomId(nt="",rt=0,it="",st=DOMID_TYPE_SPACER){const bt=it!==null&&it.length>0?`${st}${it}`:"";return`${DOMID_STATE}-${nt}${bt}-${rt}`}const setupNode=(nt,rt,it,st,bt,wt)=>{const Et=it.id,Tt=getClassesFromDbInfo(st[Et]);if(Et!=="root"){let At=SHAPE_STATE;it.start===!0&&(At=SHAPE_START),it.start===!1&&(At=SHAPE_END),it.type!==DEFAULT_STATE_TYPE&&(At=it.type),nodeDb[Et]||(nodeDb[Et]={id:Et,shape:At,description:common$1.sanitizeText(Et,getConfig$1()),classes:`${Tt} ${CSS_DIAGRAM_STATE}`});const Dt=nodeDb[Et];it.description&&(Array.isArray(Dt.description)?(Dt.shape=SHAPE_STATE_WITH_DESC,Dt.description.push(it.description)):Dt.description.length>0?(Dt.shape=SHAPE_STATE_WITH_DESC,Dt.description===Et?Dt.description=[it.description]:Dt.description=[Dt.description,it.description]):(Dt.shape=SHAPE_STATE,Dt.description=it.description),Dt.description=common$1.sanitizeTextOrArray(Dt.description,getConfig$1())),Dt.description.length===1&&Dt.shape===SHAPE_STATE_WITH_DESC&&(Dt.shape=SHAPE_STATE),!Dt.type&&it.doc&&(log$1.info("Setting cluster for ",Et,getDir(it)),Dt.type="group",Dt.dir=getDir(it),Dt.shape=it.type===DIVIDER_TYPE?SHAPE_DIVIDER:SHAPE_GROUP,Dt.classes=Dt.classes+" "+CSS_DIAGRAM_CLUSTER+" "+(wt?CSS_DIAGRAM_CLUSTER_ALT:""));const Ot={labelStyle:"",shape:Dt.shape,labelText:Dt.description,classes:Dt.classes,style:"",id:Et,dir:Dt.dir,domId:stateDomId(Et,graphItemCount),type:Dt.type,padding:15};if(it.note){const zt={labelStyle:"",shape:SHAPE_NOTE,labelText:it.note.text,classes:CSS_DIAGRAM_NOTE,style:"",id:Et+NOTE_ID+"-"+graphItemCount,domId:stateDomId(Et,graphItemCount,NOTE),type:Dt.type,padding:15},$t={labelStyle:"",shape:SHAPE_NOTEGROUP,labelText:it.note.text,classes:Dt.classes,style:"",id:Et+PARENT_ID,domId:stateDomId(Et,graphItemCount,PARENT),type:"group",padding:0};graphItemCount++;const Bt=Et+PARENT_ID;nt.setNode(Bt,$t),nt.setNode(zt.id,zt),nt.setNode(Et,Ot),nt.setParent(Et,Bt),nt.setParent(zt.id,Bt);let Yt=Et,Xt=zt.id;it.note.position==="left of"&&(Yt=zt.id,Xt=Et),nt.setEdge(Yt,Xt,{arrowhead:"none",arrowType:"",style:G_EDGE_STYLE,labelStyle:"",classes:CSS_EDGE_NOTE_EDGE,arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS})}else nt.setNode(Et,Ot)}rt&&rt.id!=="root"&&(log$1.trace("Setting node ",Et," to be child of its parent ",rt.id),nt.setParent(Et,rt.id)),it.doc&&(log$1.trace("Adding nodes children "),setupDoc(nt,it,it.doc,st,bt,!wt))},setupDoc=(nt,rt,it,st,bt,wt)=>{log$1.trace("items",it),it.forEach(Et=>{switch(Et.stmt){case STMT_STATE:setupNode(nt,rt,Et,st,bt,wt);break;case DEFAULT_STATE_TYPE:setupNode(nt,rt,Et,st,bt,wt);break;case STMT_RELATION:{setupNode(nt,rt,Et.state1,st,bt,wt),setupNode(nt,rt,Et.state2,st,bt,wt);const Tt={id:"edge"+graphItemCount,arrowhead:"normal",arrowTypeEnd:"arrow_barb",style:G_EDGE_STYLE,labelStyle:"",label:common$1.sanitizeText(Et.description,getConfig$1()),arrowheadStyle:G_EDGE_ARROWHEADSTYLE,labelpos:G_EDGE_LABELPOS,labelType:G_EDGE_LABELTYPE,thickness:G_EDGE_THICKNESS,classes:CSS_EDGE};nt.setEdge(Et.state1.id,Et.state2.id,Tt,graphItemCount),graphItemCount++}break}})},getDir=(nt,rt=DEFAULT_NESTED_DOC_DIR)=>{let it=rt;if(nt.doc)for(let st=0;st<nt.doc.length;st++){const bt=nt.doc[st];bt.stmt==="dir"&&(it=bt.value)}return it},draw$2=function(nt,rt,it,st){log$1.info("Drawing state diagram (v2)",rt),nodeDb={},st.db.getDirection();const{securityLevel:bt,state:wt}=getConfig$1(),Et=wt.nodeSpacing||50,Tt=wt.rankSpacing||50;log$1.info(st.db.getRootDocV2()),st.db.extract(st.db.getRootDocV2()),log$1.info(st.db.getRootDocV2());const At=st.db.getStates(),Dt=new Graph({multigraph:!0,compound:!0}).setGraph({rankdir:getDir(st.db.getRootDocV2()),nodesep:Et,ranksep:Tt,marginx:8,marginy:8}).setDefaultEdgeLabel(function(){return{}});setupNode(Dt,void 0,st.db.getRootDocV2(),At,st.db,!0);let Ot;bt==="sandbox"&&(Ot=select("#i"+rt));const zt=select(bt==="sandbox"?Ot.nodes()[0].contentDocument.body:"body"),$t=zt.select(`[id="${rt}"]`),Bt=zt.select("#"+rt+" g");render$1(Bt,Dt,["barb"],CSS_DIAGRAM,rt);const Yt=8;utils.insertTitle($t,"statediagramTitleText",wt.titleTopMargin,st.db.getDiagramTitle());const Xt=$t.node().getBBox(),Ht=Xt.width+Yt*2,Qt=Xt.height+Yt*2;$t.attr("class",CSS_DIAGRAM);const Zt=$t.node().getBBox();configureSvgSize($t,Qt,Ht,wt.useMaxWidth);const nn=`${Zt.x-Yt} ${Zt.y-Yt} ${Ht} ${Qt}`;log$1.debug(`viewBox ${nn}`),$t.attr("viewBox",nn);const Kt=document.querySelectorAll('[id="'+rt+'"] .edgeLabel .label');for(const ln of Kt){const sn=ln.getBBox(),bn=document.createElementNS("http://www.w3.org/2000/svg",SHAPE_STATE);bn.setAttribute("rx",0),bn.setAttribute("ry",0),bn.setAttribute("width",sn.width),bn.setAttribute("height",sn.height),ln.insertBefore(bn,ln.firstChild)}},stateRendererV2={setConf:setConf$2,getClasses,draw:draw$2};var parser=function(){var nt=function(Xt,Ht,Qt,Zt){for(Qt=Qt||{},Zt=Xt.length;Zt--;Qt[Xt[Zt]]=Ht);return Qt},rt=[1,2],it=[1,5],st=[6,9,11,17,18,20,22,23,24,26],bt=[1,15],wt=[1,16],Et=[1,17],Tt=[1,18],At=[1,19],Dt=[1,20],Ot=[1,24],zt=[4,6,9,11,17,18,20,22,23,24,26],$t={trace:function(){},yy:{},symbols_:{error:2,start:3,journey:4,document:5,EOF:6,directive:7,line:8,SPACE:9,statement:10,NEWLINE:11,openDirective:12,typeDirective:13,closeDirective:14,":":15,argDirective:16,title:17,acc_title:18,acc_title_value:19,acc_descr:20,acc_descr_value:21,acc_descr_multiline_value:22,section:23,taskName:24,taskData:25,open_directive:26,type_directive:27,arg_directive:28,close_directive:29,$accept:0,$end:1},terminals_:{2:"error",4:"journey",6:"EOF",9:"SPACE",11:"NEWLINE",15:":",17:"title",18:"acc_title",19:"acc_title_value",20:"acc_descr",21:"acc_descr_value",22:"acc_descr_multiline_value",23:"section",24:"taskName",25:"taskData",26:"open_directive",27:"type_directive",28:"arg_directive",29:"close_directive"},productions_:[0,[3,3],[3,2],[5,0],[5,2],[8,2],[8,1],[8,1],[8,1],[7,4],[7,6],[10,1],[10,2],[10,2],[10,1],[10,1],[10,2],[10,1],[12,1],[13,1],[16,1],[14,1]],performAction:function(Ht,Qt,Zt,nn,Kt,ln,sn){var bn=ln.length-1;switch(Kt){case 1:return ln[bn-1];case 3:this.$=[];break;case 4:ln[bn-1].push(ln[bn]),this.$=ln[bn-1];break;case 5:case 6:this.$=ln[bn];break;case 7:case 8:this.$=[];break;case 11:nn.setDiagramTitle(ln[bn].substr(6)),this.$=ln[bn].substr(6);break;case 12:this.$=ln[bn].trim(),nn.setAccTitle(this.$);break;case 13:case 14:this.$=ln[bn].trim(),nn.setAccDescription(this.$);break;case 15:nn.addSection(ln[bn].substr(8)),this.$=ln[bn].substr(8);break;case 16:nn.addTask(ln[bn-1],ln[bn]),this.$="task";break;case 18:nn.parseDirective("%%{","open_directive");break;case 19:nn.parseDirective(ln[bn],"type_directive");break;case 20:ln[bn]=ln[bn].trim().replace(/'/g,'"'),nn.parseDirective(ln[bn],"arg_directive");break;case 21:nn.parseDirective("}%%","close_directive","journey");break}},table:[{3:1,4:rt,7:3,12:4,26:it},{1:[3]},nt(st,[2,3],{5:6}),{3:7,4:rt,7:3,12:4,26:it},{13:8,27:[1,9]},{27:[2,18]},{6:[1,10],7:21,8:11,9:[1,12],10:13,11:[1,14],12:4,17:bt,18:wt,20:Et,22:Tt,23:At,24:Dt,26:it},{1:[2,2]},{14:22,15:[1,23],29:Ot},nt([15,29],[2,19]),nt(st,[2,8],{1:[2,1]}),nt(st,[2,4]),{7:21,10:25,12:4,17:bt,18:wt,20:Et,22:Tt,23:At,24:Dt,26:it},nt(st,[2,6]),nt(st,[2,7]),nt(st,[2,11]),{19:[1,26]},{21:[1,27]},nt(st,[2,14]),nt(st,[2,15]),{25:[1,28]},nt(st,[2,17]),{11:[1,29]},{16:30,28:[1,31]},{11:[2,21]},nt(st,[2,5]),nt(st,[2,12]),nt(st,[2,13]),nt(st,[2,16]),nt(zt,[2,9]),{14:32,29:Ot},{29:[2,20]},{11:[1,33]},nt(zt,[2,10])],defaultActions:{5:[2,18],7:[2,2],24:[2,21],31:[2,20]},parseError:function(Ht,Qt){if(Qt.recoverable)this.trace(Ht);else{var Zt=new Error(Ht);throw Zt.hash=Qt,Zt}},parse:function(Ht){var Qt=this,Zt=[0],nn=[],Kt=[null],ln=[],sn=this.table,bn="",wn=0,Mn=0,Sn=2,Dn=1,gn=ln.slice.call(arguments,1),Un=Object.create(this.lexer),pn={yy:{}};for(var yr in this.yy)Object.prototype.hasOwnProperty.call(this.yy,yr)&&(pn.yy[yr]=this.yy[yr]);Un.setInput(Ht,pn.yy),pn.yy.lexer=Un,pn.yy.parser=this,typeof Un.yylloc>"u"&&(Un.yylloc={});var xn=Un.yylloc;ln.push(xn);var Mr=Un.options&&Un.options.ranges;typeof pn.yy.parseError=="function"?this.parseError=pn.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function fr(){var mr;return mr=nn.pop()||Un.lex()||Dn,typeof mr!="number"&&(mr instanceof Array&&(nn=mr,mr=nn.pop()),mr=Qt.symbols_[mr]||mr),mr}for(var cr,Gn,lr,ur,vr={},Ir,Pr,_r,tr;;){if(Gn=Zt[Zt.length-1],this.defaultActions[Gn]?lr=this.defaultActions[Gn]:((cr===null||typeof cr>"u")&&(cr=fr()),lr=sn[Gn]&&sn[Gn][cr]),typeof lr>"u"||!lr.length||!lr[0]){var qn="";tr=[];for(Ir in sn[Gn])this.terminals_[Ir]&&Ir>Sn&&tr.push("'"+this.terminals_[Ir]+"'");Un.showPosition?qn="Parse error on line "+(wn+1)+`:
`+Un.showPosition()+`
Expecting `+tr.join(", ")+", got '"+(this.terminals_[cr]||cr)+"'":qn="Parse error on line "+(wn+1)+": Unexpected "+(cr==Dn?"end of input":"'"+(this.terminals_[cr]||cr)+"'"),this.parseError(qn,{text:Un.match,token:this.terminals_[cr]||cr,line:Un.yylineno,loc:xn,expected:tr})}if(lr[0]instanceof Array&&lr.length>1)throw new Error("Parse Error: multiple actions possible at state: "+Gn+", token: "+cr);switch(lr[0]){case 1:Zt.push(cr),Kt.push(Un.yytext),ln.push(Un.yylloc),Zt.push(lr[1]),cr=null,Mn=Un.yyleng,bn=Un.yytext,wn=Un.yylineno,xn=Un.yylloc;break;case 2:if(Pr=this.productions_[lr[1]][1],vr.$=Kt[Kt.length-Pr],vr._$={first_line:ln[ln.length-(Pr||1)].first_line,last_line:ln[ln.length-1].last_line,first_column:ln[ln.length-(Pr||1)].first_column,last_column:ln[ln.length-1].last_column},Mr&&(vr._$.range=[ln[ln.length-(Pr||1)].range[0],ln[ln.length-1].range[1]]),ur=this.performAction.apply(vr,[bn,Mn,wn,pn.yy,lr[1],Kt,ln].concat(gn)),typeof ur<"u")return ur;Pr&&(Zt=Zt.slice(0,-1*Pr*2),Kt=Kt.slice(0,-1*Pr),ln=ln.slice(0,-1*Pr)),Zt.push(this.productions_[lr[1]][0]),Kt.push(vr.$),ln.push(vr._$),_r=sn[Zt[Zt.length-2]][Zt[Zt.length-1]],Zt.push(_r);break;case 3:return!0}}return!0}},Bt=function(){var Xt={EOF:1,parseError:function(Qt,Zt){if(this.yy.parser)this.yy.parser.parseError(Qt,Zt);else throw new Error(Qt)},setInput:function(Ht,Qt){return this.yy=Qt||this.yy||{},this._input=Ht,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var Ht=this._input[0];this.yytext+=Ht,this.yyleng++,this.offset++,this.match+=Ht,this.matched+=Ht;var Qt=Ht.match(/(?:\r\n?|\n).*/g);return Qt?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),Ht},unput:function(Ht){var Qt=Ht.length,Zt=Ht.split(/(?:\r\n?|\n)/g);this._input=Ht+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-Qt),this.offset-=Qt;var nn=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),Zt.length-1&&(this.yylineno-=Zt.length-1);var Kt=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:Zt?(Zt.length===nn.length?this.yylloc.first_column:0)+nn[nn.length-Zt.length].length-Zt[0].length:this.yylloc.first_column-Qt},this.options.ranges&&(this.yylloc.range=[Kt[0],Kt[0]+this.yyleng-Qt]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError("Lexical error on line "+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:"",token:null,line:this.yylineno});return this},less:function(Ht){this.unput(this.match.slice(Ht))},pastInput:function(){var Ht=this.matched.substr(0,this.matched.length-this.match.length);return(Ht.length>20?"...":"")+Ht.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var Ht=this.match;return Ht.length<20&&(Ht+=this._input.substr(0,20-Ht.length)),(Ht.substr(0,20)+(Ht.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var Ht=this.pastInput(),Qt=new Array(Ht.length+1).join("-");return Ht+this.upcomingInput()+`
`+Qt+"^"},test_match:function(Ht,Qt){var Zt,nn,Kt;if(this.options.backtrack_lexer&&(Kt={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(Kt.yylloc.range=this.yylloc.range.slice(0))),nn=Ht[0].match(/(?:\r\n?|\n).*/g),nn&&(this.yylineno+=nn.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:nn?nn[nn.length-1].length-nn[nn.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+Ht[0].length},this.yytext+=Ht[0],this.match+=Ht[0],this.matches=Ht,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(Ht[0].length),this.matched+=Ht[0],Zt=this.performAction.call(this,this.yy,this,Qt,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),Zt)return Zt;if(this._backtrack){for(var ln in Kt)this[ln]=Kt[ln];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var Ht,Qt,Zt,nn;this._more||(this.yytext="",this.match="");for(var Kt=this._currentRules(),ln=0;ln<Kt.length;ln++)if(Zt=this._input.match(this.rules[Kt[ln]]),Zt&&(!Qt||Zt[0].length>Qt[0].length)){if(Qt=Zt,nn=ln,this.options.backtrack_lexer){if(Ht=this.test_match(Zt,Kt[ln]),Ht!==!1)return Ht;if(this._backtrack){Qt=!1;continue}else return!1}else if(!this.options.flex)break}return Qt?(Ht=this.test_match(Qt,Kt[nn]),Ht!==!1?Ht:!1):this._input===""?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var Qt=this.next();return Qt||this.lex()},begin:function(Qt){this.conditionStack.push(Qt)},popState:function(){var Qt=this.conditionStack.length-1;return Qt>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(Qt){return Qt=this.conditionStack.length-1-Math.abs(Qt||0),Qt>=0?this.conditionStack[Qt]:"INITIAL"},pushState:function(Qt){this.begin(Qt)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(Qt,Zt,nn,Kt){switch(nn){case 0:return this.begin("open_directive"),26;case 1:return this.begin("type_directive"),27;case 2:return this.popState(),this.begin("arg_directive"),15;case 3:return this.popState(),this.popState(),29;case 4:return 28;case 5:break;case 6:break;case 7:return 11;case 8:break;case 9:break;case 10:return 4;case 11:return 17;case 12:return this.begin("acc_title"),18;case 13:return this.popState(),"acc_title_value";case 14:return this.begin("acc_descr"),20;case 15:return this.popState(),"acc_descr_value";case 16:this.begin("acc_descr_multiline");break;case 17:this.popState();break;case 18:return"acc_descr_multiline_value";case 19:return 23;case 20:return 24;case 21:return 25;case 22:return 15;case 23:return 6;case 24:return"INVALID"}},rules:[/^(?:%%\{)/i,/^(?:((?:(?!\}%%)[^:.])*))/i,/^(?::)/i,/^(?:\}%%)/i,/^(?:((?:(?!\}%%).|\n)*))/i,/^(?:%(?!\{)[^\n]*)/i,/^(?:[^\}]%%[^\n]*)/i,/^(?:[\n]+)/i,/^(?:\s+)/i,/^(?:#[^\n]*)/i,/^(?:journey\b)/i,/^(?:title\s[^#\n;]+)/i,/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:section\s[^#:\n;]+)/i,/^(?:[^#:\n;]+)/i,/^(?::[^#\n;]+)/i,/^(?::)/i,/^(?:$)/i,/^(?:.)/i],conditions:{open_directive:{rules:[1],inclusive:!1},type_directive:{rules:[2,3],inclusive:!1},arg_directive:{rules:[3,4],inclusive:!1},acc_descr_multiline:{rules:[17,18],inclusive:!1},acc_descr:{rules:[15],inclusive:!1},acc_title:{rules:[13],inclusive:!1},INITIAL:{rules:[0,5,6,7,8,9,10,11,12,14,16,19,20,21,22,23,24],inclusive:!0}}};return Xt}();$t.lexer=Bt;function Yt(){this.yy={}}return Yt.prototype=$t,$t.Parser=Yt,new Yt}();parser.parser=parser;const journeyParser=parser,journeyDetector=nt=>nt.match(/^\s*journey/)!==null;let currentSection="";const sections=[],tasks=[],rawTasks=[],parseDirective$1=function(nt,rt,it){mermaidAPI.parseDirective(this,nt,rt,it)},clear=function(){sections.length=0,tasks.length=0,currentSection="",rawTasks.length=0,clear$g()},addSection=function(nt){currentSection=nt,sections.push(nt)},getSections=function(){return sections},getTasks=function(){let nt=compileTasks();const rt=100;let it=0;for(;!nt&&it<rt;)nt=compileTasks(),it++;return tasks.push(...rawTasks),tasks},updateActors=function(){const nt=[];return tasks.forEach(it=>{it.people&&nt.push(...it.people)}),[...new Set(nt)].sort()},addTask=function(nt,rt){const it=rt.substr(1).split(":");let st=0,bt=[];it.length===1?(st=Number(it[0]),bt=[]):(st=Number(it[0]),bt=it[1].split(","));const wt=bt.map(Tt=>Tt.trim()),Et={section:currentSection,type:currentSection,people:wt,task:nt,score:st};rawTasks.push(Et)},addTaskOrg=function(nt){const rt={section:currentSection,type:currentSection,description:nt,task:nt,classes:[]};tasks.push(rt)},compileTasks=function(){const nt=function(it){return rawTasks[it].processed};let rt=!0;for(const[it,st]of rawTasks.entries())nt(it),rt=rt&&st.processed;return rt},getActors=function(){return updateActors()},journeyDb={parseDirective:parseDirective$1,getConfig:()=>getConfig$1().journey,clear,setDiagramTitle,getDiagramTitle,setAccTitle,getAccTitle,setAccDescription,getAccDescription,addSection,getSections,getTasks,addTask,addTaskOrg,getActors},drawRect=function(nt,rt){const it=nt.append("rect");return it.attr("x",rt.x),it.attr("y",rt.y),it.attr("fill",rt.fill),it.attr("stroke",rt.stroke),it.attr("width",rt.width),it.attr("height",rt.height),it.attr("rx",rt.rx),it.attr("ry",rt.ry),rt.class!==void 0&&it.attr("class",rt.class),it},drawFace=function(nt,rt){const st=nt.append("circle").attr("cx",rt.cx).attr("cy",rt.cy).attr("class","face").attr("r",15).attr("stroke-width",2).attr("overflow","visible"),bt=nt.append("g");bt.append("circle").attr("cx",rt.cx-15/3).attr("cy",rt.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666"),bt.append("circle").attr("cx",rt.cx+15/3).attr("cy",rt.cy-15/3).attr("r",1.5).attr("stroke-width",2).attr("fill","#666").attr("stroke","#666");function wt(At){const Dt=arc().startAngle(Math.PI/2).endAngle(3*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);At.append("path").attr("class","mouth").attr("d",Dt).attr("transform","translate("+rt.cx+","+(rt.cy+2)+")")}function Et(At){const Dt=arc().startAngle(3*Math.PI/2).endAngle(5*(Math.PI/2)).innerRadius(7.5).outerRadius(6.8181818181818175);At.append("path").attr("class","mouth").attr("d",Dt).attr("transform","translate("+rt.cx+","+(rt.cy+7)+")")}function Tt(At){At.append("line").attr("class","mouth").attr("stroke",2).attr("x1",rt.cx-5).attr("y1",rt.cy+7).attr("x2",rt.cx+5).attr("y2",rt.cy+7).attr("class","mouth").attr("stroke-width","1px").attr("stroke","#666")}return rt.score>3?wt(bt):rt.score<3?Et(bt):Tt(bt),st},drawCircle=function(nt,rt){const it=nt.append("circle");return it.attr("cx",rt.cx),it.attr("cy",rt.cy),it.attr("class","actor-"+rt.pos),it.attr("fill",rt.fill),it.attr("stroke",rt.stroke),it.attr("r",rt.r),it.class!==void 0&&it.attr("class",it.class),rt.title!==void 0&&it.append("title").text(rt.title),it},drawText=function(nt,rt){const it=rt.text.replace(/<br\s*\/?>/gi," "),st=nt.append("text");st.attr("x",rt.x),st.attr("y",rt.y),st.attr("class","legend"),st.style("text-anchor",rt.anchor),rt.class!==void 0&&st.attr("class",rt.class);const bt=st.append("tspan");return bt.attr("x",rt.x+rt.textMargin*2),bt.text(it),st},drawLabel=function(nt,rt){function it(bt,wt,Et,Tt,At){return bt+","+wt+" "+(bt+Et)+","+wt+" "+(bt+Et)+","+(wt+Tt-At)+" "+(bt+Et-At*1.2)+","+(wt+Tt)+" "+bt+","+(wt+Tt)}const st=nt.append("polygon");st.attr("points",it(rt.x,rt.y,50,20,7)),st.attr("class","labelBox"),rt.y=rt.y+rt.labelMargin,rt.x=rt.x+.5*rt.labelMargin,drawText(nt,rt)},drawSection=function(nt,rt,it){const st=nt.append("g"),bt=getNoteRect();bt.x=rt.x,bt.y=rt.y,bt.fill=rt.fill,bt.width=it.width,bt.height=it.height,bt.class="journey-section section-type-"+rt.num,bt.rx=3,bt.ry=3,drawRect(st,bt),_drawTextCandidateFunc(it)(rt.text,st,bt.x,bt.y,bt.width,bt.height,{class:"journey-section section-type-"+rt.num},it,rt.colour)};let taskCount=-1;const drawTask=function(nt,rt,it){const st=rt.x+it.width/2,bt=nt.append("g");taskCount++;const wt=300+5*30;bt.append("line").attr("id","task"+taskCount).attr("x1",st).attr("y1",rt.y).attr("x2",st).attr("y2",wt).attr("class","task-line").attr("stroke-width","1px").attr("stroke-dasharray","4 2").attr("stroke","#666"),drawFace(bt,{cx:st,cy:300+(5-rt.score)*30,score:rt.score});const Et=getNoteRect();Et.x=rt.x,Et.y=rt.y,Et.fill=rt.fill,Et.width=it.width,Et.height=it.height,Et.class="task task-type-"+rt.num,Et.rx=3,Et.ry=3,drawRect(bt,Et);let Tt=rt.x+14;rt.people.forEach(At=>{const Dt=rt.actors[At].color,Ot={cx:Tt,cy:rt.y,r:7,fill:Dt,stroke:"#000",title:At,pos:rt.actors[At].position};drawCircle(bt,Ot),Tt+=10}),_drawTextCandidateFunc(it)(rt.task,bt,Et.x,Et.y,Et.width,Et.height,{class:"task"},it,rt.colour)},drawBackgroundRect=function(nt,rt){drawRect(nt,{x:rt.startx,y:rt.starty,width:rt.stopx-rt.startx,height:rt.stopy-rt.starty,fill:rt.fill,class:"rect"}).lower()},getTextObj=function(){return{x:0,y:0,fill:void 0,"text-anchor":"start",width:100,height:100,textMargin:0,rx:0,ry:0}},getNoteRect=function(){return{x:0,y:0,width:100,anchor:"start",height:100,rx:0,ry:0}},_drawTextCandidateFunc=function(){function nt(bt,wt,Et,Tt,At,Dt,Ot,zt){const $t=wt.append("text").attr("x",Et+At/2).attr("y",Tt+Dt/2+5).style("font-color",zt).style("text-anchor","middle").text(bt);st($t,Ot)}function rt(bt,wt,Et,Tt,At,Dt,Ot,zt,$t){const{taskFontSize:Bt,taskFontFamily:Yt}=zt,Xt=bt.split(/<br\s*\/?>/gi);for(let Ht=0;Ht<Xt.length;Ht++){const Qt=Ht*Bt-Bt*(Xt.length-1)/2,Zt=wt.append("text").attr("x",Et+At/2).attr("y",Tt).attr("fill",$t).style("text-anchor","middle").style("font-size",Bt).style("font-family",Yt);Zt.append("tspan").attr("x",Et+At/2).attr("dy",Qt).text(Xt[Ht]),Zt.attr("y",Tt+Dt/2).attr("dominant-baseline","central").attr("alignment-baseline","central"),st(Zt,Ot)}}function it(bt,wt,Et,Tt,At,Dt,Ot,zt){const $t=wt.append("switch"),Yt=$t.append("foreignObject").attr("x",Et).attr("y",Tt).attr("width",At).attr("height",Dt).attr("position","fixed").append("xhtml:div").style("display","table").style("height","100%").style("width","100%");Yt.append("div").attr("class","label").style("display","table-cell").style("text-align","center").style("vertical-align","middle").text(bt),rt(bt,$t,Et,Tt,At,Dt,Ot,zt),st(Yt,Ot)}function st(bt,wt){for(const Et in wt)Et in wt&&bt.attr(Et,wt[Et])}return function(bt){return bt.textPlacement==="fo"?it:bt.textPlacement==="old"?nt:rt}}(),initGraphics=function(nt){nt.append("defs").append("marker").attr("id","arrowhead").attr("refX",5).attr("refY",2).attr("markerWidth",6).attr("markerHeight",4).attr("orient","auto").append("path").attr("d","M 0,0 V 4 L6,2 Z")},svgDraw={drawRect,drawCircle,drawSection,drawText,drawLabel,drawTask,drawBackgroundRect,getTextObj,getNoteRect,initGraphics},setConf$1=function(nt){Object.keys(nt).forEach(function(it){conf$1[it]=nt[it]})},actors={};function drawActorLegend(nt){const rt=getConfig$1().journey;let it=60;Object.keys(actors).forEach(st=>{const bt=actors[st].color,wt={cx:20,cy:it,r:7,fill:bt,stroke:"#000",pos:actors[st].position};svgDraw.drawCircle(nt,wt);const Et={x:40,y:it+7,fill:"#666",text:st,textMargin:rt.boxTextMargin|5};svgDraw.drawText(nt,Et),it+=20})}const conf$1=getConfig$1().journey,LEFT_MARGIN=conf$1.leftMargin,draw$1=function(nt,rt,it,st){const bt=getConfig$1().journey;st.db.clear(),st.parser.parse(nt+`
`);const wt=getConfig$1().securityLevel;let Et;wt==="sandbox"&&(Et=select("#i"+rt));const Tt=select(wt==="sandbox"?Et.nodes()[0].contentDocument.body:"body");bounds.init();const At=Tt.select("#"+rt);svgDraw.initGraphics(At);const Dt=st.db.getTasks(),Ot=st.db.getDiagramTitle(),zt=st.db.getActors();for(const Qt in actors)delete actors[Qt];let $t=0;zt.forEach(Qt=>{actors[Qt]={color:bt.actorColours[$t%bt.actorColours.length],position:$t},$t++}),drawActorLegend(At),bounds.insert(0,0,LEFT_MARGIN,Object.keys(actors).length*50),drawTasks(At,Dt,0);const Bt=bounds.getBounds();Ot&&At.append("text").text(Ot).attr("x",LEFT_MARGIN).attr("font-size","4ex").attr("font-weight","bold").attr("y",25);const Yt=Bt.stopy-Bt.starty+2*bt.diagramMarginY,Xt=LEFT_MARGIN+Bt.stopx+2*bt.diagramMarginX;configureSvgSize(At,Yt,Xt,bt.useMaxWidth),At.append("line").attr("x1",LEFT_MARGIN).attr("y1",bt.height*4).attr("x2",Xt-LEFT_MARGIN-4).attr("y2",bt.height*4).attr("stroke-width",4).attr("stroke","black").attr("marker-end","url(#arrowhead)");const Ht=Ot?70:0;At.attr("viewBox",`${Bt.startx} -25 ${Xt} ${Yt+Ht}`),At.attr("preserveAspectRatio","xMinYMin meet"),At.attr("height",Yt+Ht+25)},bounds={data:{startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},verticalPos:0,sequenceItems:[],init:function(){this.sequenceItems=[],this.data={startx:void 0,stopx:void 0,starty:void 0,stopy:void 0},this.verticalPos=0},updateVal:function(nt,rt,it,st){nt[rt]===void 0?nt[rt]=it:nt[rt]=st(it,nt[rt])},updateBounds:function(nt,rt,it,st){const bt=getConfig$1().journey,wt=this;let Et=0;function Tt(At){return function(Ot){Et++;const zt=wt.sequenceItems.length-Et+1;wt.updateVal(Ot,"starty",rt-zt*bt.boxMargin,Math.min),wt.updateVal(Ot,"stopy",st+zt*bt.boxMargin,Math.max),wt.updateVal(bounds.data,"startx",nt-zt*bt.boxMargin,Math.min),wt.updateVal(bounds.data,"stopx",it+zt*bt.boxMargin,Math.max),At!=="activation"&&(wt.updateVal(Ot,"startx",nt-zt*bt.boxMargin,Math.min),wt.updateVal(Ot,"stopx",it+zt*bt.boxMargin,Math.max),wt.updateVal(bounds.data,"starty",rt-zt*bt.boxMargin,Math.min),wt.updateVal(bounds.data,"stopy",st+zt*bt.boxMargin,Math.max))}}this.sequenceItems.forEach(Tt())},insert:function(nt,rt,it,st){const bt=Math.min(nt,it),wt=Math.max(nt,it),Et=Math.min(rt,st),Tt=Math.max(rt,st);this.updateVal(bounds.data,"startx",bt,Math.min),this.updateVal(bounds.data,"starty",Et,Math.min),this.updateVal(bounds.data,"stopx",wt,Math.max),this.updateVal(bounds.data,"stopy",Tt,Math.max),this.updateBounds(bt,Et,wt,Tt)},bumpVerticalPos:function(nt){this.verticalPos=this.verticalPos+nt,this.data.stopy=this.verticalPos},getVerticalPos:function(){return this.verticalPos},getBounds:function(){return this.data}},fills=conf$1.sectionFills,textColours=conf$1.sectionColours,drawTasks=function(nt,rt,it){const st=getConfig$1().journey;let bt="";const wt=st.height*2+st.diagramMarginY,Et=it+wt;let Tt=0,At="#CCC",Dt="black",Ot=0;for(const[zt,$t]of rt.entries()){if(bt!==$t.section){At=fills[Tt%fills.length],Ot=Tt%fills.length,Dt=textColours[Tt%textColours.length];const Yt={x:zt*st.taskMargin+zt*st.width+LEFT_MARGIN,y:50,text:$t.section,fill:At,num:Ot,colour:Dt};svgDraw.drawSection(nt,Yt,st),bt=$t.section,Tt++}const Bt=$t.people.reduce((Yt,Xt)=>(actors[Xt]&&(Yt[Xt]=actors[Xt]),Yt),{});$t.x=zt*st.taskMargin+zt*st.width+LEFT_MARGIN,$t.y=Et,$t.width=st.diagramMarginX,$t.height=st.diagramMarginY,$t.colour=Dt,$t.fill=At,$t.num=Ot,$t.actors=Bt,svgDraw.drawTask(nt,$t,st),bounds.insert($t.x,$t.y,$t.x+$t.width+st.taskMargin,300+5*30)}},journeyRenderer={setConf:setConf$1,draw:draw$1};let conf={};const setConf=function(nt){conf={...conf,...nt}},draw=(nt,rt,it)=>{try{log$1.debug(`Renering svg for syntax error
`);const st=select("#"+rt),bt=st.append("g");bt.append("path").attr("class","error-icon").attr("d","m411.313,123.313c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32-9.375,9.375-20.688-20.688c-12.484-12.5-32.766-12.5-45.25,0l-16,16c-1.261,1.261-2.304,2.648-3.31,4.051-21.739-8.561-45.324-13.426-70.065-13.426-105.867,0-192,86.133-192,192s86.133,192 192,192 192-86.133 192-192c0-24.741-4.864-48.327-13.426-70.065 1.402-1.007 2.79-2.049 4.051-3.31l16-16c12.5-12.492 12.5-32.758 0-45.25l-20.688-20.688 9.375-9.375 32.001-31.999zm-219.313,100.687c-52.938,0-96,43.063-96,96 0,8.836-7.164,16-16,16s-16-7.164-16-16c0-70.578 57.422-128 128-128 8.836,0 16,7.164 16,16s-7.164,16-16,16z"),bt.append("path").attr("class","error-icon").attr("d","m459.02,148.98c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l16,16c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16.001-16z"),bt.append("path").attr("class","error-icon").attr("d","m340.395,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688 6.25-6.25 6.25-16.375 0-22.625l-16-16c-6.25-6.25-16.375-6.25-22.625,0s-6.25,16.375 0,22.625l15.999,16z"),bt.append("path").attr("class","error-icon").attr("d","m400,64c8.844,0 16-7.164 16-16v-32c0-8.836-7.156-16-16-16-8.844,0-16,7.164-16,16v32c0,8.836 7.156,16 16,16z"),bt.append("path").attr("class","error-icon").attr("d","m496,96.586h-32c-8.844,0-16,7.164-16,16 0,8.836 7.156,16 16,16h32c8.844,0 16-7.164 16-16 0-8.836-7.156-16-16-16z"),bt.append("path").attr("class","error-icon").attr("d","m436.98,75.605c3.125,3.125 7.219,4.688 11.313,4.688 4.094,0 8.188-1.563 11.313-4.688l32-32c6.25-6.25 6.25-16.375 0-22.625s-16.375-6.25-22.625,0l-32,32c-6.251,6.25-6.251,16.375-0.001,22.625z"),bt.append("text").attr("class","error-text").attr("x",1440).attr("y",250).attr("font-size","150px").style("text-anchor","middle").text("Syntax error in graph"),bt.append("text").attr("class","error-text").attr("x",1250).attr("y",400).attr("font-size","100px").style("text-anchor","middle").text("mermaid version "+it),st.attr("height",100),st.attr("width",500),st.attr("viewBox","768 0 912 512")}catch(st){log$1.error("Error while rendering info diagram"),log$1.error(getErrorMessage(st))}},errorRenderer={setConf,draw};let hasLoadedDiagrams=!1;const addDiagrams=()=>{hasLoadedDiagrams||(hasLoadedDiagrams=!0,registerDiagram("error",{db:{clear:()=>{}},styles:errorStyles,renderer:errorRenderer,parser:{parser:{yy:{}},parse:()=>{}},init:()=>{}},nt=>nt.toLowerCase().trim()==="error"),registerDiagram("c4",{parser:c4Parser,db:c4Db,renderer:c4Renderer,styles:c4Styles,init:nt=>{c4Renderer.setConf(nt.c4)}},c4Detector),registerDiagram("class",{parser:classParser,db:classDb,renderer:classRenderer,styles:classStyles,init:nt=>{nt.class||(nt.class={}),nt.class.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,classDb.clear()}},classDetector),registerDiagram("classDiagram",{parser:classParser,db:classDb,renderer:classRendererV2,styles:classStyles,init:nt=>{nt.class||(nt.class={}),nt.class.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,classDb.clear()}},classDetectorV2),registerDiagram("er",{parser:erParser,db:erDb,renderer:erRenderer,styles:erStyles},erDetector),registerDiagram("gantt",{parser:ganttParser,db:ganttDb,renderer:ganttRenderer,styles:ganttStyles},ganttDetector),registerDiagram("info",{parser:infoParser,db:infoDb,renderer:infoRenderer,styles:infoStyles},infoDetector),registerDiagram("pie",{parser:pieParser,db:pieDb,renderer:pieRenderer,styles:pieStyles},pieDetector),registerDiagram("requirement",{parser:requirementParser,db:requirementDb,renderer:requirementRenderer,styles:requirementStyles},requirementDetector),registerDiagram("sequence",{parser:sequenceParser,db:sequenceDb,renderer:sequenceRenderer,styles:sequenceStyles,init:nt=>{if(nt.sequence||(nt.sequence={}),nt.sequence.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,"sequenceDiagram"in nt)throw new Error("`mermaid config.sequenceDiagram` has been renamed to `config.sequence`. Please update your mermaid config.");sequenceDb.setWrap(nt.wrap),sequenceRenderer.setConf(nt.sequence)}},sequenceDetector),registerDiagram("state",{parser:stateParser,db:stateDb,renderer:stateRenderer,styles:stateStyles,init:nt=>{nt.state||(nt.state={}),nt.state.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,stateDb.clear()}},stateDetector),registerDiagram("stateDiagram",{parser:stateParser,db:stateDb,renderer:stateRendererV2,styles:stateStyles,init:nt=>{nt.state||(nt.state={}),nt.state.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,stateDb.clear()}},stateDetectorV2),registerDiagram("journey",{parser:journeyParser,db:journeyDb,renderer:journeyRenderer,styles:journeyStyles,init:nt=>{journeyRenderer.setConf(nt.journey),journeyDb.clear()}},journeyDetector),registerDiagram("flowchart",{parser:flowParser,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:nt=>{nt.flowchart||(nt.flowchart={}),nt.flowchart.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,flowRenderer.setConf(nt.flowchart),flowDb.clear(),flowDb.setGen("gen-1")}},flowDetector),registerDiagram("flowchart-v2",{parser:flowParser,db:flowDb,renderer:flowRendererV2,styles:flowStyles,init:nt=>{nt.flowchart||(nt.flowchart={}),nt.flowchart.arrowMarkerAbsolute=nt.arrowMarkerAbsolute,setConfig({flowchart:{arrowMarkerAbsolute:nt.arrowMarkerAbsolute}}),flowRendererV2.setConf(nt.flowchart),flowDb.clear(),flowDb.setGen("gen-2")}},flowDetectorV2),registerDiagram("gitGraph",{parser:gitGraphParser,db:gitGraphDb,renderer:gitGraphRenderer,styles:gitGraphStyles},gitGraphDetector))};class Diagram{constructor(rt,it){__publicField(this,"type","graph"),__publicField(this,"parser"),__publicField(this,"renderer"),__publicField(this,"db"),__publicField(this,"detectTypeFailed",!1);var st,bt;this.txt=rt;const wt=getConfig$1();this.txt=rt;try{this.type=detectType(rt,wt)}catch(At){this.handleError(At,it),this.type="error",this.detectTypeFailed=!0}const Et=getDiagram(this.type);log$1.debug("Type "+this.type),this.db=Et.db,(bt=(st=this.db).clear)==null||bt.call(st),this.renderer=Et.renderer,this.parser=Et.parser;const Tt=this.parser.parse.bind(this.parser);this.parser.parse=At=>Tt(extractFrontMatter(At,this.db)),this.parser.parser.yy=this.db,Et.init&&(Et.init(wt),log$1.debug("Initialized diagram "+this.type,wt)),this.txt+=`
`,this.parse(this.txt,it)}parse(rt,it){var st,bt;if(this.detectTypeFailed)return!1;try{return rt=rt+`
`,(bt=(st=this.db).clear)==null||bt.call(st),this.parser.parse(rt),!0}catch(wt){this.handleError(wt,it)}return!1}handleError(rt,it){if(it===void 0)throw rt;if(isDetailedError(rt)){it(rt.str,rt.hash);return}it(rt)}getParser(){return this.parser}getType(){return this.type}}const getDiagramFromText=(nt,rt)=>{const it=detectType(nt,getConfig$1());try{getDiagram(it)}catch{const bt=getDiagramLoader(it);if(!bt)throw new Error(`Diagram ${it} not found.`);return bt().then(({diagram:wt})=>(registerDiagram(it,wt,void 0),new Diagram(nt,rt)))}return new Diagram(nt,rt)},Diagram$1=Diagram;function setA11yDiagramInfo(nt,rt){isEmpty(rt)||nt.attr("aria-roledescription",rt)}function addSVGa11yTitleDescription(nt,rt,it,st){if(nt.insert!==void 0)if(rt||it){if(it){const bt="chart-desc-"+st;nt.attr("aria-describedby",bt),nt.insert("desc",":first-child").attr("id",bt).text(it)}if(rt){const bt="chart-title-"+st;nt.attr("aria-labelledby",bt),nt.insert("title",":first-child").attr("id",bt).text(rt)}}else return}const CLASSDEF_DIAGRAMS=["graph","flowchart","flowchart-v2","stateDiagram","stateDiagram-v2"],MAX_TEXTLENGTH_EXCEEDED_MSG="graph TB;a[Maximum text size in diagram exceeded];style a fill:#faa",SECURITY_LVL_SANDBOX="sandbox",SECURITY_LVL_LOOSE="loose",XMLNS_SVG_STD="http://www.w3.org/2000/svg",XMLNS_XLINK_STD="http://www.w3.org/1999/xlink",XMLNS_XHTML_STD="http://www.w3.org/1999/xhtml",IFRAME_WIDTH="100%",IFRAME_HEIGHT="100%",IFRAME_STYLES="border:0;margin:0;",IFRAME_BODY_STYLE="margin:0",IFRAME_SANDBOX_OPTS="allow-top-navigation-by-user-activation allow-popups",IFRAME_NOT_SUPPORTED_MSG='The "iframe" tag is not supported by your browser.',DOMPURIFY_TAGS=["foreignobject"],DOMPURIFY_ATTR=["dominant-baseline"];function parse$1(nt,rt){return addDiagrams(),new Diagram$1(nt,rt).parse(nt,rt)}async function parseAsync$1(nt,rt){return addDiagrams(),(await getDiagramFromText(nt,rt)).parse(nt,rt)}const encodeEntities=function(nt){let rt=nt;return rt=rt.replace(/style.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),rt=rt.replace(/classDef.*:\S*#.*;/g,function(it){return it.substring(0,it.length-1)}),rt=rt.replace(/#\w+;/g,function(it){const st=it.substring(1,it.length-1);return/^\+?\d+$/.test(st)?"\uFB02\xB0\xB0"+st+"\xB6\xDF":"\uFB02\xB0"+st+"\xB6\xDF"}),rt},decodeEntities=function(nt){let rt=nt;return rt=rt.replace(/ﬂ°°/g,"&#"),rt=rt.replace(/ﬂ°/g,"&"),rt=rt.replace(/¶ß/g,";"),rt},cssImportantStyles=(nt,rt,it=[])=>`
.${nt} ${rt} { ${it.join(" !important; ")} !important; }`,createCssStyles=(nt,rt,it={})=>{var st;let bt="";if(nt.themeCSS!==void 0&&(bt+=`
${nt.themeCSS}`),nt.fontFamily!==void 0&&(bt+=`
:root { --mermaid-font-family: ${nt.fontFamily}}`),nt.altFontFamily!==void 0&&(bt+=`
:root { --mermaid-alt-font-family: ${nt.altFontFamily}}`),!isEmpty(it)&&CLASSDEF_DIAGRAMS.includes(rt)){const At=nt.htmlLabels||((st=nt.flowchart)==null?void 0:st.htmlLabels)?["> *","span"]:["rect","polygon","ellipse","circle","path"];for(const Dt in it){const Ot=it[Dt];isEmpty(Ot.styles)||At.forEach(zt=>{bt+=cssImportantStyles(Ot.id,zt,Ot.styles)}),isEmpty(Ot.textStyles)||(bt+=cssImportantStyles(Ot.id,"tspan",Ot.textStyles))}}return bt},createUserStyles=(nt,rt,it,st)=>{const bt=createCssStyles(nt,rt,it),wt=getStyles$2(rt,bt,nt.themeVariables);return serialize(compile(`${st}{${wt}}`),stringify)},cleanUpSvgCode=(nt="",rt,it)=>{let st=nt;return!it&&!rt&&(st=st.replace(/marker-end="url\(.*?#/g,'marker-end="url(#')),st=decodeEntities(st),st=st.replace(/<br>/g,"<br/>"),st},putIntoIFrame=(nt="",rt)=>{const it=rt?rt.viewBox.baseVal.height+"px":IFRAME_HEIGHT,st=btoa('<body style="'+IFRAME_BODY_STYLE+'">'+nt+"</body>");return`<iframe style="width:${IFRAME_WIDTH};height:${it};${IFRAME_STYLES}" src="data:text/html;base64,${st}" sandbox="${IFRAME_SANDBOX_OPTS}">
  ${IFRAME_NOT_SUPPORTED_MSG}
</iframe>`},appendDivSvgG=(nt,rt,it,st,bt)=>{const wt=nt.append("div");wt.attr("id",it),st&&wt.attr("style",st);const Et=wt.append("svg").attr("id",rt).attr("width","100%").attr("xmlns",XMLNS_SVG_STD);return bt&&Et.attr("xmlns:xlink",bt),Et.append("g"),nt};function sandboxedIframe(nt,rt){return nt.append("iframe").attr("id",rt).attr("style","width: 100%; height: 100%;").attr("sandbox","")}const removeExistingElements=(nt,rt,it,st)=>{var bt,wt,Et;(bt=nt.getElementById(rt))==null||bt.remove(),(wt=nt.getElementById(it))==null||wt.remove(),(Et=nt.getElementById(st))==null||Et.remove()},render=function(nt,rt,it,st){var bt,wt,Et,Tt,At;addDiagrams(),reset();const Dt=utils.detectInit(rt);Dt&&(directiveSanitizer(Dt),addDirective(Dt));const Ot=getConfig$1();log$1.debug(Ot),rt.length>((bt=Ot==null?void 0:Ot.maxTextSize)!=null?bt:5e4)&&(rt=MAX_TEXTLENGTH_EXCEEDED_MSG),rt=rt.replace(/\r\n?/g,`
`);const zt="#"+nt,$t="i"+nt,Bt="#"+$t,Yt="d"+nt,Xt="#"+Yt;let Ht=select("body");const Qt=Ot.securityLevel===SECURITY_LVL_SANDBOX,Zt=Ot.securityLevel===SECURITY_LVL_LOOSE,nn=Ot.fontFamily;if(st!==void 0){if(st&&(st.innerHTML=""),Qt){const cr=sandboxedIframe(select(st),$t);Ht=select(cr.nodes()[0].contentDocument.body),Ht.node().style.margin=0}else Ht=select(st);appendDivSvgG(Ht,nt,Yt,`font-family: ${nn}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,nt,Yt,$t),Qt){const cr=sandboxedIframe(select("body"),$t);Ht=select(cr.nodes()[0].contentDocument.body),Ht.node().style.margin=0}else Ht=select("body");appendDivSvgG(Ht,nt,Yt)}rt=encodeEntities(rt);let Kt,ln;try{if(Kt=getDiagramFromText(rt),"then"in Kt)throw new Error("Diagram is a promise. Use renderAsync.")}catch(cr){Kt=new Diagram$1("error"),ln=cr}const sn=Ht.select(Xt).node(),bn=Kt.type,wn=sn.firstChild,Mn=wn.firstChild,Sn=CLASSDEF_DIAGRAMS.includes(bn)?Kt.renderer.getClasses(rt,Kt):{},Dn=createUserStyles(Ot,bn,Sn,zt),gn=document.createElement("style");gn.innerHTML=Dn,wn.insertBefore(gn,Mn);try{Kt.renderer.draw(rt,nt,pkg.version,Kt)}catch(cr){throw errorRenderer.draw(rt,nt,pkg.version),cr}const Un=Ht.select(`${Xt} svg`),pn=(Et=(wt=Kt.db).getAccTitle)==null?void 0:Et.call(wt),yr=(At=(Tt=Kt.db).getAccDescription)==null?void 0:At.call(Tt);addA11yInfo(bn,Un,pn,yr),Ht.select(`[id="${nt}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let xn=Ht.select(Xt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",Ot.arrowMarkerAbsolute),xn=cleanUpSvgCode(xn,Qt,evaluate(Ot.arrowMarkerAbsolute)),Qt){const cr=Ht.select(Xt+" svg").node();xn=putIntoIFrame(xn,cr)}else Zt||(xn=purify.sanitize(xn,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(it!==void 0)switch(bn){case"flowchart":case"flowchart-v2":it(xn,flowDb.bindFunctions);break;case"gantt":it(xn,ganttDb.bindFunctions);break;case"class":case"classDiagram":it(xn,classDb.bindFunctions);break;default:it(xn)}else log$1.debug("CB = undefined!");attachFunctions();const fr=select(Qt?Bt:Xt).node();if(fr&&"remove"in fr&&fr.remove(),ln)throw ln;return xn},renderAsync$1=async function(nt,rt,it,st){var bt,wt,Et,Tt,At;addDiagrams(),reset();const Dt=utils.detectInit(rt);Dt&&(directiveSanitizer(Dt),addDirective(Dt));const Ot=getConfig$1();log$1.debug(Ot),rt.length>((bt=Ot==null?void 0:Ot.maxTextSize)!=null?bt:5e4)&&(rt=MAX_TEXTLENGTH_EXCEEDED_MSG),rt=rt.replace(/\r\n?/g,`
`);const zt="#"+nt,$t="i"+nt,Bt="#"+$t,Yt="d"+nt,Xt="#"+Yt;let Ht=select("body");const Qt=Ot.securityLevel===SECURITY_LVL_SANDBOX,Zt=Ot.securityLevel===SECURITY_LVL_LOOSE,nn=Ot.fontFamily;if(st!==void 0){if(st&&(st.innerHTML=""),Qt){const cr=sandboxedIframe(select(st),$t);Ht=select(cr.nodes()[0].contentDocument.body),Ht.node().style.margin=0}else Ht=select(st);appendDivSvgG(Ht,nt,Yt,`font-family: ${nn}`,XMLNS_XLINK_STD)}else{if(removeExistingElements(document,nt,Yt,$t),Qt){const cr=sandboxedIframe(select("body"),$t);Ht=select(cr.nodes()[0].contentDocument.body),Ht.node().style.margin=0}else Ht=select("body");appendDivSvgG(Ht,nt,Yt)}rt=encodeEntities(rt);let Kt,ln;try{Kt=await getDiagramFromText(rt)}catch(cr){Kt=new Diagram$1("error"),ln=cr}const sn=Ht.select(Xt).node(),bn=Kt.type,wn=sn.firstChild,Mn=wn.firstChild,Sn=CLASSDEF_DIAGRAMS.includes(bn)?Kt.renderer.getClasses(rt,Kt):{},Dn=createUserStyles(Ot,bn,Sn,zt),gn=document.createElement("style");gn.innerHTML=Dn,wn.insertBefore(gn,Mn);try{await Kt.renderer.draw(rt,nt,pkg.version,Kt)}catch(cr){throw errorRenderer.draw(rt,nt,pkg.version),cr}const Un=Ht.select(`${Xt} svg`),pn=(Et=(wt=Kt.db).getAccTitle)==null?void 0:Et.call(wt),yr=(At=(Tt=Kt.db).getAccDescription)==null?void 0:At.call(Tt);addA11yInfo(bn,Un,pn,yr),Ht.select(`[id="${nt}"]`).selectAll("foreignobject > *").attr("xmlns",XMLNS_XHTML_STD);let xn=Ht.select(Xt).node().innerHTML;if(log$1.debug("config.arrowMarkerAbsolute",Ot.arrowMarkerAbsolute),xn=cleanUpSvgCode(xn,Qt,evaluate(Ot.arrowMarkerAbsolute)),Qt){const cr=Ht.select(Xt+" svg").node();xn=putIntoIFrame(xn,cr)}else Zt||(xn=purify.sanitize(xn,{ADD_TAGS:DOMPURIFY_TAGS,ADD_ATTR:DOMPURIFY_ATTR}));if(it!==void 0)switch(bn){case"flowchart":case"flowchart-v2":it(xn,flowDb.bindFunctions);break;case"gantt":it(xn,ganttDb.bindFunctions);break;case"class":case"classDiagram":it(xn,classDb.bindFunctions);break;default:it(xn)}else log$1.debug("CB = undefined!");attachFunctions();const fr=select(Qt?Bt:Xt).node();if(fr&&"remove"in fr&&fr.remove(),ln)throw ln;return xn};let currentDirective={};const parseDirective=function(nt,rt,it,st){try{if(rt!==void 0)switch(rt=rt.trim(),it){case"open_directive":currentDirective={};break;case"type_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.type=rt.toLowerCase();break;case"arg_directive":if(!currentDirective)throw new Error("currentDirective is undefined");currentDirective.args=JSON.parse(rt);break;case"close_directive":handleDirective(nt,currentDirective,st),currentDirective=void 0;break}}catch(bt){log$1.error(`Error while rendering sequenceDiagram directive: ${rt} jison context: ${it}`),log$1.error(bt.message)}},handleDirective=function(nt,rt,it){switch(log$1.debug(`Directive type=${rt.type} with args:`,rt.args),rt.type){case"init":case"initialize":{["config"].forEach(st=>{rt.args[st]!==void 0&&(it==="flowchart-v2"&&(it="flowchart"),rt.args[it]=rt.args[st],delete rt.args[st])}),log$1.debug("sanitize in handleDirective",rt.args),directiveSanitizer(rt.args),log$1.debug("sanitize in handleDirective (done)",rt.args),addDirective(rt.args);break}case"wrap":case"nowrap":nt&&nt.setWrap&&nt.setWrap(rt.type==="wrap");break;case"themeCss":log$1.warn("themeCss encountered");break;default:log$1.warn(`Unhandled directive: source: '%%{${rt.type}: ${JSON.stringify(rt.args?rt.args:{})}}%%`,rt);break}};function initialize$1(nt={}){var rt;(nt==null?void 0:nt.fontFamily)&&!((rt=nt.themeVariables)!=null&&rt.fontFamily)&&(nt.themeVariables={fontFamily:nt.fontFamily}),saveConfigFromInitialize(nt),(nt==null?void 0:nt.theme)&&nt.theme in theme?nt.themeVariables=theme[nt.theme].getThemeVariables(nt.themeVariables):nt&&(nt.themeVariables=theme.default.getThemeVariables(nt.themeVariables));const it=typeof nt=="object"?setSiteConfig(nt):getSiteConfig();setLogLevel$1(it.logLevel),addDiagrams()}function addA11yInfo(nt,rt,it,st){setA11yDiagramInfo(rt,nt),addSVGa11yTitleDescription(rt,it,st,rt.attr("id"))}const mermaidAPI=Object.freeze({render,renderAsync:renderAsync$1,parse:parse$1,parseAsync:parseAsync$1,parseDirective,initialize:initialize$1,getConfig:getConfig$1,setConfig,getSiteConfig,updateSiteConfig,reset:()=>{reset()},globalReset:()=>{reset(defaultConfig)},defaultConfig});setLogLevel$1(getConfig$1().logLevel);reset(getConfig$1());let externalDiagramsRegistered=!1;const init$1=async function(nt,rt,it){try{externalDiagramsRegistered?await initThrowsErrorsAsync(nt,rt,it):initThrowsErrors(nt,rt,it)}catch(st){log$1.warn("Syntax Error rendering"),isDetailedError(st)&&log$1.warn(st.str),mermaid.parseError&&mermaid.parseError(st)}},handleError=(nt,rt,it)=>{log$1.warn(nt),isDetailedError(nt)?(it&&it(nt.str,nt.hash),rt.push({...nt,message:nt.str,error:nt})):(it&&it(nt),nt instanceof Error&&rt.push({str:nt.message,message:nt.message,hash:nt.name,error:nt}))},initThrowsErrors=function(nt,rt,it){const st=mermaidAPI.getConfig();nt&&(mermaid.sequenceConfig=nt),log$1.debug(`${it?"":"No "}Callback function found`);let bt;if(rt===void 0)bt=document.querySelectorAll(".mermaid");else if(typeof rt=="string")bt=document.querySelectorAll(rt);else if(rt instanceof HTMLElement)bt=[rt];else if(rt instanceof NodeList)bt=rt;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${bt.length} diagrams`),(nt==null?void 0:nt.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(nt==null?void 0:nt.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:nt==null?void 0:nt.startOnLoad}));const wt=new utils.initIdGenerator(st.deterministicIds,st.deterministicIDSeed);let Et;const Tt=[];for(const At of Array.from(bt)){log$1.info("Rendering diagram: "+At.id);/*! Check if previously processed */if(At.getAttribute("data-processed"))continue;At.setAttribute("data-processed","true");const Dt=`mermaid-${wt.next()}`;Et=At.innerHTML,Et=utils.entityDecode(Et).trim().replace(/<br\s*\/?>/gi,"<br/>");const Ot=utils.detectInit(Et);Ot&&log$1.debug("Detected early reinit: ",Ot);try{mermaidAPI.render(Dt,Et,(zt,$t)=>{At.innerHTML=zt,it!==void 0&&it(Dt),$t&&$t(At)},At)}catch(zt){handleError(zt,Tt,mermaid.parseError)}}if(Tt.length>0)throw Tt[0]},registerLazyLoadedDiagrams=nt=>{for(const{id:rt,detector:it,loader:st}of nt)addDetector(rt,it,st)},loadExternalDiagrams=async nt=>{log$1.debug(`Loading ${nt.length} external diagrams`);const it=(await Promise.allSettled(nt.map(async({id:st,detector:bt,loader:wt})=>{const{diagram:Et}=await wt();registerDiagram(st,Et,bt)}))).filter(st=>st.status==="rejected");if(it.length>0){log$1.error(`Failed to load ${it.length} external diagrams`);for(const st of it)log$1.error(st);throw new Error(`Failed to load ${it.length} external diagrams`)}},initThrowsErrorsAsync=async function(nt,rt,it){const st=mermaidAPI.getConfig();nt&&(mermaid.sequenceConfig=nt),log$1.debug(`${it?"":"No "}Callback function found`);let bt;if(rt===void 0)bt=document.querySelectorAll(".mermaid");else if(typeof rt=="string")bt=document.querySelectorAll(rt);else if(rt instanceof HTMLElement)bt=[rt];else if(rt instanceof NodeList)bt=rt;else throw new Error("Invalid argument nodes for mermaid.init");log$1.debug(`Found ${bt.length} diagrams`),(nt==null?void 0:nt.startOnLoad)!==void 0&&(log$1.debug("Start On Load: "+(nt==null?void 0:nt.startOnLoad)),mermaidAPI.updateSiteConfig({startOnLoad:nt==null?void 0:nt.startOnLoad}));const wt=new utils.initIdGenerator(st.deterministicIds,st.deterministicIDSeed);let Et;const Tt=[];for(const At of Array.from(bt)){log$1.info("Rendering diagram: "+At.id);/*! Check if previously processed */if(At.getAttribute("data-processed"))continue;At.setAttribute("data-processed","true");const Dt=`mermaid-${wt.next()}`;Et=At.innerHTML,Et=utils.entityDecode(Et).trim().replace(/<br\s*\/?>/gi,"<br/>");const Ot=utils.detectInit(Et);Ot&&log$1.debug("Detected early reinit: ",Ot);try{await mermaidAPI.renderAsync(Dt,Et,(zt,$t)=>{At.innerHTML=zt,it!==void 0&&it(Dt),$t&&$t(At)},At)}catch(zt){handleError(zt,Tt,mermaid.parseError)}}if(Tt.length>0)throw Tt[0]},initialize=function(nt){mermaidAPI.initialize(nt)},registerExternalDiagrams=async(nt,{lazyLoad:rt=!0}={})=>{rt?registerLazyLoadedDiagrams(nt):await loadExternalDiagrams(nt),externalDiagramsRegistered=!0},contentLoaded=function(){if(mermaid.startOnLoad){const{startOnLoad:nt}=mermaidAPI.getConfig();nt&&mermaid.init()}};if(typeof document<"u"){/*!
 * Wait for document loaded before starting the execution
 */window.addEventListener("load",contentLoaded,!1)}const setParseErrorHandler=function(nt){mermaid.parseError=nt},parse=nt=>mermaidAPI.parse(nt,mermaid.parseError),executionQueue=[];let executionQueueRunning=!1;const executeQueue=async()=>{if(!executionQueueRunning){for(executionQueueRunning=!0;executionQueue.length>0;){const nt=executionQueue.shift();if(nt)try{await nt()}catch(rt){log$1.error("Error executing queue",rt)}}executionQueueRunning=!1}},parseAsync=nt=>new Promise((rt,it)=>{const st=()=>new Promise((bt,wt)=>{mermaidAPI.parseAsync(nt,mermaid.parseError).then(Et=>{bt(Et),rt(Et)},Et=>{log$1.error("Error parsing",Et),wt(Et),it(Et)})});executionQueue.push(st),executeQueue()}),renderAsync=(nt,rt,it,st)=>new Promise((bt,wt)=>{const Et=()=>new Promise((Tt,At)=>{mermaidAPI.renderAsync(nt,rt,it,st).then(Dt=>{Tt(Dt),bt(Dt)},Dt=>{log$1.error("Error parsing",Dt),At(Dt),wt(Dt)})});executionQueue.push(Et),executeQueue()}),mermaid={startOnLoad:!0,diagrams:{},mermaidAPI,parse,parseAsync,render:mermaidAPI.render,renderAsync,init:init$1,initThrowsErrors,initThrowsErrorsAsync,registerExternalDiagrams,initialize,parseError:void 0,contentLoaded,setParseErrorHandler},_hoisted_1$c={class:"content"},_hoisted_2$9=createBaseVNode("div",{id:"diagram"},null,-1),_hoisted_3$8={key:0,id:"caption-bar"},_hoisted_4$7=["innerHTML"],_sfc_main$e=defineComponent({__name:"Mermaid.ce",props:{type:{type:String},caption:{type:String},width:{type:String},height:{type:String},position:{type:String},right:{type:Boolean},left:{type:Boolean},full:{type:Boolean},sticky:{type:Boolean}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Dt;return(Dt=it==null?void 0:it.value)==null?void 0:Dt.parentNode}),bt=computed(()=>{var Dt,Ot;return(Ot=(Dt=it.value)==null?void 0:Dt.getRootNode())==null?void 0:Ot.host}),wt=computed(()=>{var Dt;return(Dt=st.value)==null?void 0:Dt.querySelector(".content")});watch$1(bt,()=>Tt());const Et=rt.position||(rt.right?"right":rt.left?"left":"full");function Tt(){bt.value.classList.add("ve-component"),bt.value.classList.add(Et),Et==="full"?bt.value.style.width="100%":(bt.value.style.float=Et,bt.value.style.width="50%"),bt.value.style.width=window.getComputedStyle(bt.value).width,wt.value.style.width=rt.width||"100%";let Dt=parseInt(window.getComputedStyle(wt.value).width.slice(0,-2));wt.value.style.width=`${Dt}px`,At()}function At(){let Dt=bt.value.textContent.trim();mermaid.initialize({startOnLoad:!1}),async function(){var $t;let Ot=($t=st.value)==null?void 0:$t.querySelector("#diagram");const zt=function(Bt){Ot&&(Ot.innerHTML=Bt)};await mermaid.render("diagram",Dt,zt)}()}return(Dt,Ot)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"main"},[createBaseVNode("div",_hoisted_1$c,[_hoisted_2$9,rt.caption?(openBlock(),createElementBlock("div",_hoisted_3$8,[createBaseVNode("div",{class:"label",innerHTML:nt.caption},null,8,_hoisted_4$7)])):createCommentVNode("",!0)])],512))}}),_style_0$8=`*{box-sizing:border-box}.content{display:flex;flex-direction:column;justify-content:center;align-content:center;box-shadow:#32325d40 0 6px 12px -2px,#0000004d 0 3px 7px -3px}#diagram{display:block;margin:auto;width:100%;padding:12px 0}#caption-bar{display:flex;align-items:center;height:32px;width:100%;background-color:#555;color:#fff;padding:0 12px}.entityBox:hover{fill:#ff0}
`,Mermaid=_export_sfc(_sfc_main$e,[["styles",[_style_0$8]]]),_hoisted_1$b=["name"],_hoisted_2$8=["label"],_hoisted_3$7=["innerHTML"],_sfc_main$d=defineComponent({__name:"Modal.ce",props:{src:{type:String},prefix:{type:String},label:{type:String},buttonLabel:{type:String,default:"Show me"},buttonIcon:{type:String},width:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Bt;return(Bt=it==null?void 0:it.value)==null?void 0:Bt.parentNode}),bt=computed(()=>{var Bt,Yt;return(Yt=(Bt=it.value)==null?void 0:Bt.getRootNode())==null?void 0:Yt.host}),wt=computed(()=>{var Bt;return(Bt=st.value)==null?void 0:Bt.querySelector("#main")}),Et=ref("80vw"),Tt=ref(!1);watch$1(Tt,()=>{At.open=Tt.value,Ot.value||zt()});let At;const Dt=ref(),Ot=ref();watch$1(bt,()=>{Et.value=rt.width||(isMobile()?"100vw":"80vh");let Bt=bt.value.textContent.split(`
`),Yt=[];if(Bt.forEach(Xt=>{(Xt.trim().length>0||Yt.length>0)&&Yt.push(Xt)}),Yt.length>0){let Xt=(Yt[0].match(/(^\s+)/)||[""])[0].length;Dt.value=Yt.map(Ht=>(Ht.match(/(^\s+)/)||[""])[0].length>=Xt?Ht.slice(Xt):Ht).join(`
`)}}),watch$1(wt,()=>{var Bt;At=(Bt=st.value)==null?void 0:Bt.querySelector(".dialog"),At.addEventListener("sl-hide",Yt=>{Yt.target===At&&(Tt.value=!1)})});function zt(){if(Ot.value="",rt.src){let Bt=`/${rt.src}`,[Yt,Xt,...Ht]=rt.src.split("/");Yt==="juncture-digital"&&Xt==="juncture"&&(location.hostname==="dev.juncture-digital.org"||location.hostname==="localhost")&&(Bt+="?ref=dev"),fetch(Bt).then(Qt=>Qt.text()).then(Qt=>{var Kt;let nn=(Kt=new DOMParser().parseFromString(Qt,"text/html").children[0].children[1].querySelector("main"))==null?void 0:Kt.outerHTML;nn&&(Ot.value=nn),nextTick(()=>initTippy(st.value,!0))})}else fetch("/html/?inline=true",{method:"POST",body:JSON.stringify({prefix:`${rt.prefix}`,path:"",markdown:Dt.value})}).then(Bt=>Bt.text()).then(Bt=>{var Ht;let Xt=(Ht=new DOMParser().parseFromString(Bt,"text/html").children[0].children[1].querySelector("main"))==null?void 0:Ht.outerHTML;Xt&&(Ot.value=Xt),nextTick(()=>initTippy(st.value,!0))})}function $t(Bt){var Xt;let Yt=Dt.value;Yt&&((Xt=Bt.dataTransfer)==null||Xt.setData("text/plain",Yt))}return(Bt,Yt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"main"},[createBaseVNode("sl-button",{onClick:Yt[0]||(Yt[0]=Xt=>Tt.value=!Tt.value)},[rt.buttonIcon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:rt.buttonIcon,style:{"font-size":"20px"}},null,8,_hoisted_1$b)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(rt.buttonLabel),1)]),createBaseVNode("sl-dialog",{label:nt.label,class:"dialog",style:normalizeStyle({"--width":Et.value})},[createBaseVNode("div",{id:"content",innerHTML:Ot.value,draggable:"true",onDragstart:$t},null,40,_hoisted_3$7),createBaseVNode("sl-button",{slot:"footer",variant:"primary",onClick:Yt[1]||(Yt[1]=Xt=>Tt.value=!1)},"Close")],12,_hoisted_2$8)],512))}}),_style_1$3=`*{box-sizing:border-box}:host{display:inline-block}sl-dialog::part(body){padding-top:0}sl-dialog::part(panel){max-width:unset}
`,Modal=_export_sfc(_sfc_main$d,[["styles",[_style_0$t,_style_1$3]]]),_hoisted_1$a=["href"],_hoisted_2$7=["src"],_hoisted_3$6=["src"],_hoisted_4$6={class:"title-panel"},_hoisted_5$6=["innerHTML"],_hoisted_6$4=["innerHTML"],_hoisted_7$4={class:"controls"},_hoisted_8$4=["search-domain"],_hoisted_9$3=["innerHTML"],_sfc_main$c=defineComponent({__name:"Navbar.ce",props:{label:{type:String},subtitle:{type:String},background:{type:String},logo:{type:String},url:{type:String},alpha:{type:Number},contact:{type:String},contactFormTitle:{type:String},contactSubject:{type:String},sticky:{type:Boolean,default:!1},height:{type:Number,default:80},offset:{type:Number,default:0},searchDomain:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Tt,At;return(At=(Tt=it.value)==null?void 0:Tt.getRootNode())==null?void 0:At.host}),bt=computed(()=>{var Tt,At;return(At=(Tt=it==null?void 0:it.value)==null?void 0:Tt.parentNode)==null?void 0:At.querySelector(".ve-navbar")}),wt=ref();onMounted(()=>{Et(),nextTick(()=>{var Tt;return wt.value=(Tt=st.value.querySelector("ul"))==null?void 0:Tt.innerHTML})}),watch$1(rt,()=>Et());function Et(){if(bt.value.style.height=`${rt.height}px`,rt.background&&(st.value.style.backgroundColor=rt.background),rt.offset&&(bt.value.style.marginTop=`-${rt.offset}px`),rt.sticky&&(st.value.classList.add("sticky"),st.value.style.position="sticky",st.value.style.top="0",st.value.style.background="#444A1E",st.value.style.opacity="100",st.value.style.marginTop=`-${rt.offset}px`),rt.label){let Tt=document.querySelector("title");Tt||(Tt=document.createElement("title"),document.head.appendChild(Tt)),Tt.innerText=rt.label}}return(Tt,At)=>(openBlock(),createElementBlock("section",{ref_key:"root",ref:it,class:"ve-navbar",style:normalizeStyle({height:`${rt.height}px`})},[rt.logo?(openBlock(),createElementBlock(Fragment,{key:0},[rt.url?(openBlock(),createElementBlock("a",{key:0,href:rt.url},[createBaseVNode("img",{src:rt.logo,alt:"logo",class:"logo"},null,8,_hoisted_2$7)],8,_hoisted_1$a)):(openBlock(),createElementBlock("img",{key:1,src:rt.logo,alt:"logo",class:"logo"},null,8,_hoisted_3$6))],64)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_4$6,[createBaseVNode("div",{class:"title",innerHTML:rt.label},null,8,_hoisted_5$6),rt.subtitle?(openBlock(),createElementBlock("div",{key:0,class:"subtitle",innerHTML:rt.subtitle},null,8,_hoisted_6$4)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$4,[rt.searchDomain?(openBlock(),createElementBlock("ve-site-search",{key:0,"search-domain":rt.searchDomain},null,8,_hoisted_8$4)):createCommentVNode("",!0),wt.value?(openBlock(),createElementBlock("ve-menu1",{key:1,auth:"github",innerHTML:wt.value},null,8,_hoisted_9$3)):createCommentVNode("",!0)])],4))}}),_style_0$7=`*{box-sizing:border-box}:host,ve-navbar{display:block;position:relative;width:100%;z-index:10}.ve-navbar{display:flex;width:100%;height:100%;padding:0;align-items:center;background-color:inherit;padding-right:2rem}a{height:100%}.logo{margin-left:20px;background-color:inherit}img.logo{max-height:100%;padding:.2rem .3rem}.controls{display:flex;align-items:center;margin-left:auto}.title-panel{display:flex;flex-direction:column;gap:6px;margin-left:1rem}.title,.subtitle{color:#fff}.title{font-family:Playfair Display,serif;font-size:2.5rem;line-height:2rem;margin-top:.2rem}.subtitle{font-family:Roboto;font-size:1.4rem;font-weight:300;margin-top:.5rem}@media (max-width: 480px){.title{font-size:1.6rem}}
`,Navbar=_export_sfc(_sfc_main$c,[["styles",[_style_0$7]]]),_hoisted_1$9={ref:"root",class:"pagination"},_hoisted_2$6=["disabled"],_hoisted_3$5=["innerHTML"],_hoisted_4$5=["innerHTML"],_hoisted_5$5=["disabled"],_sfc_main$b=defineComponent({__name:"Pager.ce",props:{total:{type:Number,required:!0},current:{type:Number,default:1}},emits:["image-selected"],setup(nt,{emit:rt}){const it=nt,st=ref();return st.value=it.current,watch$1(st,()=>rt("image-selected",st.value)),(bt,wt)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("span",{class:"prev",onClick:wt[0]||(wt[0]=Et=>st.value>1&&--st.value),disabled:st.value===1},"\xAB",8,_hoisted_2$6),createBaseVNode("span",{class:"current",innerHTML:st.value},null,8,_hoisted_3$5),createTextVNode(" / "),createBaseVNode("span",{class:"total",innerHTML:it.total},null,8,_hoisted_4$5),createBaseVNode("span",{class:"next",onClick:wt[1]||(wt[1]=Et=>st.value<it.total&&++st.value),disabled:st.value===it.total},"\xBB",8,_hoisted_5$5)],512))}}),_style_0$6=`.pagination{display:flex;align-items:center;justify-content:center;background-color:#eee;height:30px;color:#444}.current,.total{padding:0 12px;font-size:1.3rem}.prev[disabled=true],.next[disabled=true]{color:#ccc;cursor:unset}.prev,.next{height:100%;float:left;padding:0 8px;text-decoration:none;transition:background-color .3s;cursor:pointer;font-size:40px;margin-top:-28px}.prev[disabled=false]:hover,.next[disabled=false]:hover{color:var(--sl-color-primary-700)}
`,Pager=_export_sfc(_sfc_main$b,[["styles",[_style_0$6]]]);var rdfCanonize={exports:{}},lib={},IdentifierIssuer_1=class Z_{constructor(rt,it=new Map,st=0){this.prefix=rt,this._existing=it,this.counter=st}clone(){const{prefix:rt,_existing:it,counter:st}=this;return new Z_(rt,new Map(it),st)}getId(rt){const it=rt&&this._existing.get(rt);if(it)return it;const st=this.prefix+this.counter;return this.counter++,rt&&this._existing.set(rt,st),st}hasId(rt){return this._existing.has(rt)}getOldIds(){return[...this._existing.keys()]}};(function(nt,rt){if(nt.setImmediate)return;var it=1,st={},bt=!1,wt=nt.document,Et;function Tt(Zt){typeof Zt!="function"&&(Zt=new Function(""+Zt));for(var nn=new Array(arguments.length-1),Kt=0;Kt<nn.length;Kt++)nn[Kt]=arguments[Kt+1];var ln={callback:Zt,args:nn};return st[it]=ln,Et(it),it++}function At(Zt){delete st[Zt]}function Dt(Zt){var nn=Zt.callback,Kt=Zt.args;switch(Kt.length){case 0:nn();break;case 1:nn(Kt[0]);break;case 2:nn(Kt[0],Kt[1]);break;case 3:nn(Kt[0],Kt[1],Kt[2]);break;default:nn.apply(rt,Kt);break}}function Ot(Zt){if(bt)setTimeout(Ot,0,Zt);else{var nn=st[Zt];if(nn){bt=!0;try{Dt(nn)}finally{At(Zt),bt=!1}}}}function zt(){Et=function(Zt){process.nextTick(function(){Ot(Zt)})}}function $t(){if(nt.postMessage&&!nt.importScripts){var Zt=!0,nn=nt.onmessage;return nt.onmessage=function(){Zt=!1},nt.postMessage("","*"),nt.onmessage=nn,Zt}}function Bt(){var Zt="setImmediate$"+Math.random()+"$",nn=function(Kt){Kt.source===nt&&typeof Kt.data=="string"&&Kt.data.indexOf(Zt)===0&&Ot(+Kt.data.slice(Zt.length))};nt.addEventListener?nt.addEventListener("message",nn,!1):nt.attachEvent("onmessage",nn),Et=function(Kt){nt.postMessage(Zt+Kt,"*")}}function Yt(){var Zt=new MessageChannel;Zt.port1.onmessage=function(nn){var Kt=nn.data;Ot(Kt)},Et=function(nn){Zt.port2.postMessage(nn)}}function Xt(){var Zt=wt.documentElement;Et=function(nn){var Kt=wt.createElement("script");Kt.onreadystatechange=function(){Ot(nn),Kt.onreadystatechange=null,Zt.removeChild(Kt),Kt=null},Zt.appendChild(Kt)}}function Ht(){Et=function(Zt){setTimeout(Ot,0,Zt)}}var Qt=Object.getPrototypeOf&&Object.getPrototypeOf(nt);Qt=Qt&&Qt.setTimeout?Qt:nt,{}.toString.call(nt.process)==="[object process]"?zt():$t()?Bt():nt.MessageChannel?Yt():wt&&"onreadystatechange"in wt.createElement("script")?Xt():Ht(),Qt.setImmediate=Tt,Qt.clearImmediate=At})(typeof self>"u"?commonjsGlobal$1:self);/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const crypto$1=self.crypto||self.msCrypto;var MessageDigestBrowser=class{constructor(rt){if(!(crypto$1&&crypto$1.subtle))throw new Error("crypto.subtle not found.");if(rt==="sha256")this.algorithm={name:"SHA-256"};else if(rt==="sha1")this.algorithm={name:"SHA-1"};else throw new Error(`Unsupported algorithm "${rt}".`);this._content=""}update(rt){this._content+=rt}async digest(){const rt=new TextEncoder().encode(this._content),it=new Uint8Array(await crypto$1.subtle.digest(this.algorithm,rt));let st="";for(let bt=0;bt<it.length;++bt)st+=it[bt].toString(16).padStart(2,"0");return st}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */var Permuter_1=class{constructor(rt){this.current=rt.sort(),this.done=!1,this.dir=new Map;for(let it=0;it<rt.length;++it)this.dir.set(rt[it],!0)}hasNext(){return!this.done}next(){const{current:rt,dir:it}=this,st=rt.slice();let bt=null,wt=0;const Et=rt.length;for(let Tt=0;Tt<Et;++Tt){const At=rt[Tt],Dt=it.get(At);(bt===null||At>bt)&&(Dt&&Tt>0&&At>rt[Tt-1]||!Dt&&Tt<Et-1&&At>rt[Tt+1])&&(bt=At,wt=Tt)}if(bt===null)this.done=!0;else{const Tt=it.get(bt)?wt-1:wt+1;rt[wt]=rt[Tt],rt[Tt]=bt;for(const At of rt)At>bt&&it.set(At,!it.get(At))}return st}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const RDF$1="http://www.w3.org/1999/02/22-rdf-syntax-ns#",RDF_LANGSTRING$1=RDF$1+"langString",XSD_STRING$2="http://www.w3.org/2001/XMLSchema#string",TYPE_NAMED_NODE="NamedNode",TYPE_BLANK_NODE="BlankNode",TYPE_LITERAL="Literal",TYPE_DEFAULT_GRAPH="DefaultGraph",REGEX={};(()=>{const nt="(?:<([^:]+:[^>]*)>)",it="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD"+"_",st=it+"0-9-\xB7\u0300-\u036F\u203F-\u2040",wt="(_:(?:["+it+"0-9])(?:(?:["+st+".])*(?:["+st+"]))?)",Et='"([^"\\\\]*(?:\\\\.[^"\\\\]*)*)"',Tt="(?:\\^\\^"+nt+")",At="(?:@([a-zA-Z]+(?:-[a-zA-Z0-9]+)*))",Dt="(?:"+Et+"(?:"+Tt+"|"+At+")?)",Ot="[ \\t]+",zt="[ \\t]*",$t="(?:"+nt+"|"+wt+")"+Ot,Bt=nt+Ot,Yt="(?:"+nt+"|"+wt+"|"+Dt+")"+zt,Xt="(?:\\.|(?:(?:"+nt+"|"+wt+")"+zt+"\\.))";REGEX.eoln=/(?:\r\n)|(?:\n)|(?:\r)/g,REGEX.empty=new RegExp("^"+zt+"$"),REGEX.quad=new RegExp("^"+zt+$t+Bt+Yt+Xt+zt+"$")})();var NQuads_1=class yv{static parse(rt){const it=[],st={},bt=rt.split(REGEX.eoln);let wt=0;for(const Et of bt){if(wt++,REGEX.empty.test(Et))continue;const Tt=Et.match(REGEX.quad);if(Tt===null)throw new Error("N-Quads parse error on line "+wt+".");const At={subject:null,predicate:null,object:null,graph:null};if(Tt[1]!==void 0?At.subject={termType:TYPE_NAMED_NODE,value:Tt[1]}:At.subject={termType:TYPE_BLANK_NODE,value:Tt[2]},At.predicate={termType:TYPE_NAMED_NODE,value:Tt[3]},Tt[4]!==void 0?At.object={termType:TYPE_NAMED_NODE,value:Tt[4]}:Tt[5]!==void 0?At.object={termType:TYPE_BLANK_NODE,value:Tt[5]}:(At.object={termType:TYPE_LITERAL,value:void 0,datatype:{termType:TYPE_NAMED_NODE}},Tt[7]!==void 0?At.object.datatype.value=Tt[7]:Tt[8]!==void 0?(At.object.datatype.value=RDF_LANGSTRING$1,At.object.language=Tt[8]):At.object.datatype.value=XSD_STRING$2,At.object.value=_unescape(Tt[6])),Tt[9]!==void 0?At.graph={termType:TYPE_NAMED_NODE,value:Tt[9]}:Tt[10]!==void 0?At.graph={termType:TYPE_BLANK_NODE,value:Tt[10]}:At.graph={termType:TYPE_DEFAULT_GRAPH,value:""},!(At.graph.value in st))st[At.graph.value]=[At],it.push(At);else{let Dt=!0;const Ot=st[At.graph.value];for(const zt of Ot)if(_compareTriples(zt,At)){Dt=!1;break}Dt&&(Ot.push(At),it.push(At))}}return it}static serialize(rt){Array.isArray(rt)||(rt=yv.legacyDatasetToQuads(rt));const it=[];for(const st of rt)it.push(yv.serializeQuad(st));return it.sort().join("")}static serializeQuadComponents(rt,it,st,bt){let wt="";return rt.termType===TYPE_NAMED_NODE?wt+=`<${rt.value}>`:wt+=`${rt.value}`,wt+=` <${it.value}> `,st.termType===TYPE_NAMED_NODE?wt+=`<${st.value}>`:st.termType===TYPE_BLANK_NODE?wt+=st.value:(wt+=`"${_escape(st.value)}"`,st.datatype.value===RDF_LANGSTRING$1?st.language&&(wt+=`@${st.language}`):st.datatype.value!==XSD_STRING$2&&(wt+=`^^<${st.datatype.value}>`)),bt.termType===TYPE_NAMED_NODE?wt+=` <${bt.value}>`:bt.termType===TYPE_BLANK_NODE&&(wt+=` ${bt.value}`),wt+=` .
`,wt}static serializeQuad(rt){return yv.serializeQuadComponents(rt.subject,rt.predicate,rt.object,rt.graph)}static legacyDatasetToQuads(rt){const it=[],st={"blank node":TYPE_BLANK_NODE,IRI:TYPE_NAMED_NODE,literal:TYPE_LITERAL};for(const bt in rt)rt[bt].forEach(Et=>{const Tt={};for(const At in Et){const Dt=Et[At],Ot={termType:st[Dt.type],value:Dt.value};Ot.termType===TYPE_LITERAL&&(Ot.datatype={termType:TYPE_NAMED_NODE},"datatype"in Dt&&(Ot.datatype.value=Dt.datatype),"language"in Dt?("datatype"in Dt||(Ot.datatype.value=RDF_LANGSTRING$1),Ot.language=Dt.language):"datatype"in Dt||(Ot.datatype.value=XSD_STRING$2)),Tt[At]=Ot}bt==="@default"?Tt.graph={termType:TYPE_DEFAULT_GRAPH,value:""}:Tt.graph={termType:bt.startsWith("_:")?TYPE_BLANK_NODE:TYPE_NAMED_NODE,value:bt},it.push(Tt)});return it}};function _compareTriples(nt,rt){return!(nt.subject.termType===rt.subject.termType&&nt.object.termType===rt.object.termType)||!(nt.subject.value===rt.subject.value&&nt.predicate.value===rt.predicate.value&&nt.object.value===rt.object.value)?!1:nt.object.termType!==TYPE_LITERAL?!0:nt.object.datatype.termType===rt.object.datatype.termType&&nt.object.language===rt.object.language&&nt.object.datatype.value===rt.object.datatype.value}const _escapeRegex=/["\\\n\r]/g;function _escape(nt){return nt.replace(_escapeRegex,function(rt){switch(rt){case'"':return'\\"';case"\\":return"\\\\";case`
`:return"\\n";case"\r":return"\\r"}})}const _unescapeRegex=/(?:\\([tbnrf"'\\]))|(?:\\u([0-9A-Fa-f]{4}))|(?:\\U([0-9A-Fa-f]{8}))/g;function _unescape(nt){return nt.replace(_unescapeRegex,function(rt,it,st,bt){if(it)switch(it){case"t":return"	";case"b":return"\b";case"n":return`
`;case"r":return"\r";case"f":return"\f";case'"':return'"';case"'":return"'";case"\\":return"\\"}if(st)return String.fromCharCode(parseInt(st,16));if(bt)throw new Error("Unsupported U escape")})}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$3=IdentifierIssuer_1,MessageDigest$3=MessageDigestBrowser,Permuter$1=Permuter_1,NQuads$3=NQuads_1;var URDNA2015_1=class{constructor({createMessageDigest:rt=()=>new MessageDigest$3("sha256"),maxDeepIterations:it=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$3("_:c14n"),this.createMessageDigest=rt,this.maxDeepIterations=it,this.quads=null,this.deepIterations=null}async main(rt){this.deepIterations=new Map,this.quads=rt;for(const At of rt)this._addBlankNodeQuadInfo({quad:At,component:At.subject}),this._addBlankNodeQuadInfo({quad:At,component:At.object}),this._addBlankNodeQuadInfo({quad:At,component:At.graph});const it=new Map,st=[...this.blankNodeInfo.keys()];let bt=0;for(const At of st)++bt%100===0&&await this._yield(),await this._hashAndTrackBlankNode({id:At,hashToBlankNodes:it});const wt=[...it.keys()].sort(),Et=[];for(const At of wt){const Dt=it.get(At);if(Dt.length>1){Et.push(Dt);continue}const Ot=Dt[0];this.canonicalIssuer.getId(Ot)}for(const At of Et){const Dt=[];for(const Ot of At){if(this.canonicalIssuer.hasId(Ot))continue;const zt=new IdentifierIssuer$3("_:b");zt.getId(Ot);const $t=await this.hashNDegreeQuads(Ot,zt);Dt.push($t)}Dt.sort(_stringHashCompare$1);for(const Ot of Dt){const zt=Ot.issuer.getOldIds();for(const $t of zt)this.canonicalIssuer.getId($t)}}const Tt=[];for(const At of this.quads){const Dt=NQuads$3.serializeQuadComponents(this._componentWithCanonicalId(At.subject),At.predicate,this._componentWithCanonicalId(At.object),this._componentWithCanonicalId(At.graph));Tt.push(Dt)}return Tt.sort(),Tt.join("")}async hashFirstDegreeQuads(rt){const it=[],st=this.blankNodeInfo.get(rt),bt=st.quads;for(const Et of bt){const Tt={subject:null,predicate:Et.predicate,object:null,graph:null};Tt.subject=this.modifyFirstDegreeComponent(rt,Et.subject,"subject"),Tt.object=this.modifyFirstDegreeComponent(rt,Et.object,"object"),Tt.graph=this.modifyFirstDegreeComponent(rt,Et.graph,"graph"),it.push(NQuads$3.serializeQuad(Tt))}it.sort();const wt=this.createMessageDigest();for(const Et of it)wt.update(Et);return st.hash=await wt.digest(),st.hash}async hashRelatedBlankNode(rt,it,st,bt){let wt;this.canonicalIssuer.hasId(rt)?wt=this.canonicalIssuer.getId(rt):st.hasId(rt)?wt=st.getId(rt):wt=this.blankNodeInfo.get(rt).hash;const Et=this.createMessageDigest();return Et.update(bt),bt!=="g"&&Et.update(this.getRelatedPredicate(it)),Et.update(wt),Et.digest()}async hashNDegreeQuads(rt,it){const st=this.deepIterations.get(rt)||0;if(st>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(rt,st+1);const bt=this.createMessageDigest(),wt=await this.createHashToRelated(rt,it),Et=[...wt.keys()].sort();for(const Tt of Et){bt.update(Tt);let At="",Dt;const Ot=new Permuter$1(wt.get(Tt));let zt=0;for(;Ot.hasNext();){const $t=Ot.next();++zt%3===0&&await this._yield();let Bt=it.clone(),Yt="";const Xt=[];let Ht=!1;for(const Qt of $t)if(this.canonicalIssuer.hasId(Qt)?Yt+=this.canonicalIssuer.getId(Qt):(Bt.hasId(Qt)||Xt.push(Qt),Yt+=Bt.getId(Qt)),At.length!==0&&Yt>At){Ht=!0;break}if(!Ht){for(const Qt of Xt){const Zt=await this.hashNDegreeQuads(Qt,Bt);if(Yt+=Bt.getId(Qt),Yt+=`<${Zt.hash}>`,Bt=Zt.issuer,At.length!==0&&Yt>At){Ht=!0;break}}Ht||(At.length===0||Yt<At)&&(At=Yt,Dt=Bt)}}bt.update(At),it=Dt}return{hash:await bt.digest(),issuer:it}}modifyFirstDegreeComponent(rt,it){return it.termType!=="BlankNode"?it:{termType:"BlankNode",value:it.value===rt?"_:a":"_:z"}}getRelatedPredicate(rt){return`<${rt.predicate.value}>`}async createHashToRelated(rt,it){const st=new Map,bt=this.blankNodeInfo.get(rt).quads;let wt=0;for(const Et of bt)++wt%100===0&&await this._yield(),await Promise.all([this._addRelatedBlankNodeHash({quad:Et,component:Et.subject,position:"s",id:rt,issuer:it,hashToRelated:st}),this._addRelatedBlankNodeHash({quad:Et,component:Et.object,position:"o",id:rt,issuer:it,hashToRelated:st}),this._addRelatedBlankNodeHash({quad:Et,component:Et.graph,position:"g",id:rt,issuer:it,hashToRelated:st})]);return st}async _hashAndTrackBlankNode({id:rt,hashToBlankNodes:it}){const st=await this.hashFirstDegreeQuads(rt),bt=it.get(st);bt?bt.push(rt):it.set(st,[rt])}_addBlankNodeQuadInfo({quad:rt,component:it}){if(it.termType!=="BlankNode")return;const st=it.value,bt=this.blankNodeInfo.get(st);bt?bt.quads.add(rt):this.blankNodeInfo.set(st,{quads:new Set([rt]),hash:null})}async _addRelatedBlankNodeHash({quad:rt,component:it,position:st,id:bt,issuer:wt,hashToRelated:Et}){if(!(it.termType==="BlankNode"&&it.value!==bt))return;const Tt=it.value,At=await this.hashRelatedBlankNode(Tt,rt,wt,st),Dt=Et.get(At);Dt?Dt.push(Tt):Et.set(At,[Tt])}_componentWithCanonicalId(rt){return rt.termType==="BlankNode"&&!rt.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(rt.value)}:rt}async _yield(){return new Promise(rt=>setImmediate(rt))}};function _stringHashCompare$1(nt,rt){return nt.hash<rt.hash?-1:nt.hash>rt.hash?1:0}/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest$2=MessageDigestBrowser,URDNA2015=URDNA2015_1;var URGNA2012=class extends URDNA2015{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest$2("sha1")}modifyFirstDegreeComponent(rt,it,st){return it.termType!=="BlankNode"?it:st==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:it.value===rt?"_:a":"_:z"}}getRelatedPredicate(rt){return rt.predicate.value}async createHashToRelated(rt,it){const st=new Map,bt=this.blankNodeInfo.get(rt).quads;let wt=0;for(const Et of bt){let Tt,At;if(Et.subject.termType==="BlankNode"&&Et.subject.value!==rt)At=Et.subject.value,Tt="p";else if(Et.object.termType==="BlankNode"&&Et.object.value!==rt)At=Et.object.value,Tt="r";else continue;++wt%100===0&&await this._yield();const Dt=await this.hashRelatedBlankNode(At,Et,it,Tt),Ot=st.get(Dt);Ot?Ot.push(At):st.set(Dt,[At])}return st}};/*!
 * Copyright (c) 2016-2022 Digital Bazaar, Inc. All rights reserved.
 */const IdentifierIssuer$2=IdentifierIssuer_1,MessageDigest$1=MessageDigestBrowser,Permuter=Permuter_1,NQuads$2=NQuads_1;var URDNA2015Sync_1=class{constructor({createMessageDigest:rt=()=>new MessageDigest$1("sha256"),maxDeepIterations:it=1/0}={}){this.name="URDNA2015",this.blankNodeInfo=new Map,this.canonicalIssuer=new IdentifierIssuer$2("_:c14n"),this.createMessageDigest=rt,this.maxDeepIterations=it,this.quads=null,this.deepIterations=null}main(rt){this.deepIterations=new Map,this.quads=rt;for(const Tt of rt)this._addBlankNodeQuadInfo({quad:Tt,component:Tt.subject}),this._addBlankNodeQuadInfo({quad:Tt,component:Tt.object}),this._addBlankNodeQuadInfo({quad:Tt,component:Tt.graph});const it=new Map,st=[...this.blankNodeInfo.keys()];for(const Tt of st)this._hashAndTrackBlankNode({id:Tt,hashToBlankNodes:it});const bt=[...it.keys()].sort(),wt=[];for(const Tt of bt){const At=it.get(Tt);if(At.length>1){wt.push(At);continue}const Dt=At[0];this.canonicalIssuer.getId(Dt)}for(const Tt of wt){const At=[];for(const Dt of Tt){if(this.canonicalIssuer.hasId(Dt))continue;const Ot=new IdentifierIssuer$2("_:b");Ot.getId(Dt);const zt=this.hashNDegreeQuads(Dt,Ot);At.push(zt)}At.sort(_stringHashCompare);for(const Dt of At){const Ot=Dt.issuer.getOldIds();for(const zt of Ot)this.canonicalIssuer.getId(zt)}}const Et=[];for(const Tt of this.quads){const At=NQuads$2.serializeQuadComponents(this._componentWithCanonicalId({component:Tt.subject}),Tt.predicate,this._componentWithCanonicalId({component:Tt.object}),this._componentWithCanonicalId({component:Tt.graph}));Et.push(At)}return Et.sort(),Et.join("")}hashFirstDegreeQuads(rt){const it=[],st=this.blankNodeInfo.get(rt),bt=st.quads;for(const Et of bt){const Tt={subject:null,predicate:Et.predicate,object:null,graph:null};Tt.subject=this.modifyFirstDegreeComponent(rt,Et.subject,"subject"),Tt.object=this.modifyFirstDegreeComponent(rt,Et.object,"object"),Tt.graph=this.modifyFirstDegreeComponent(rt,Et.graph,"graph"),it.push(NQuads$2.serializeQuad(Tt))}it.sort();const wt=this.createMessageDigest();for(const Et of it)wt.update(Et);return st.hash=wt.digest(),st.hash}hashRelatedBlankNode(rt,it,st,bt){let wt;this.canonicalIssuer.hasId(rt)?wt=this.canonicalIssuer.getId(rt):st.hasId(rt)?wt=st.getId(rt):wt=this.blankNodeInfo.get(rt).hash;const Et=this.createMessageDigest();return Et.update(bt),bt!=="g"&&Et.update(this.getRelatedPredicate(it)),Et.update(wt),Et.digest()}hashNDegreeQuads(rt,it){const st=this.deepIterations.get(rt)||0;if(st>this.maxDeepIterations)throw new Error(`Maximum deep iterations (${this.maxDeepIterations}) exceeded.`);this.deepIterations.set(rt,st+1);const bt=this.createMessageDigest(),wt=this.createHashToRelated(rt,it),Et=[...wt.keys()].sort();for(const Tt of Et){bt.update(Tt);let At="",Dt;const Ot=new Permuter(wt.get(Tt));for(;Ot.hasNext();){const zt=Ot.next();let $t=it.clone(),Bt="";const Yt=[];let Xt=!1;for(const Ht of zt)if(this.canonicalIssuer.hasId(Ht)?Bt+=this.canonicalIssuer.getId(Ht):($t.hasId(Ht)||Yt.push(Ht),Bt+=$t.getId(Ht)),At.length!==0&&Bt>At){Xt=!0;break}if(!Xt){for(const Ht of Yt){const Qt=this.hashNDegreeQuads(Ht,$t);if(Bt+=$t.getId(Ht),Bt+=`<${Qt.hash}>`,$t=Qt.issuer,At.length!==0&&Bt>At){Xt=!0;break}}Xt||(At.length===0||Bt<At)&&(At=Bt,Dt=$t)}}bt.update(At),it=Dt}return{hash:bt.digest(),issuer:it}}modifyFirstDegreeComponent(rt,it){return it.termType!=="BlankNode"?it:{termType:"BlankNode",value:it.value===rt?"_:a":"_:z"}}getRelatedPredicate(rt){return`<${rt.predicate.value}>`}createHashToRelated(rt,it){const st=new Map,bt=this.blankNodeInfo.get(rt).quads;for(const wt of bt)this._addRelatedBlankNodeHash({quad:wt,component:wt.subject,position:"s",id:rt,issuer:it,hashToRelated:st}),this._addRelatedBlankNodeHash({quad:wt,component:wt.object,position:"o",id:rt,issuer:it,hashToRelated:st}),this._addRelatedBlankNodeHash({quad:wt,component:wt.graph,position:"g",id:rt,issuer:it,hashToRelated:st});return st}_hashAndTrackBlankNode({id:rt,hashToBlankNodes:it}){const st=this.hashFirstDegreeQuads(rt),bt=it.get(st);bt?bt.push(rt):it.set(st,[rt])}_addBlankNodeQuadInfo({quad:rt,component:it}){if(it.termType!=="BlankNode")return;const st=it.value,bt=this.blankNodeInfo.get(st);bt?bt.quads.add(rt):this.blankNodeInfo.set(st,{quads:new Set([rt]),hash:null})}_addRelatedBlankNodeHash({quad:rt,component:it,position:st,id:bt,issuer:wt,hashToRelated:Et}){if(!(it.termType==="BlankNode"&&it.value!==bt))return;const Tt=it.value,At=this.hashRelatedBlankNode(Tt,rt,wt,st),Dt=Et.get(At);Dt?Dt.push(Tt):Et.set(At,[Tt])}_componentWithCanonicalId({component:rt}){return rt.termType==="BlankNode"&&!rt.value.startsWith(this.canonicalIssuer.prefix)?{termType:"BlankNode",value:this.canonicalIssuer.getId(rt.value)}:rt}};function _stringHashCompare(nt,rt){return nt.hash<rt.hash?-1:nt.hash>rt.hash?1:0}/*!
 * Copyright (c) 2016-2021 Digital Bazaar, Inc. All rights reserved.
 */const MessageDigest=MessageDigestBrowser,URDNA2015Sync=URDNA2015Sync_1;var URGNA2012Sync=class extends URDNA2015Sync{constructor(){super(),this.name="URGNA2012",this.createMessageDigest=()=>new MessageDigest("sha1")}modifyFirstDegreeComponent(rt,it,st){return it.termType!=="BlankNode"?it:st==="graph"?{termType:"BlankNode",value:"_:g"}:{termType:"BlankNode",value:it.value===rt?"_:a":"_:z"}}getRelatedPredicate(rt){return rt.predicate.value}createHashToRelated(rt,it){const st=new Map,bt=this.blankNodeInfo.get(rt).quads;for(const wt of bt){let Et,Tt;if(wt.subject.termType==="BlankNode"&&wt.subject.value!==rt)Tt=wt.subject.value,Et="p";else if(wt.object.termType==="BlankNode"&&wt.object.value!==rt)Tt=wt.object.value,Et="r";else continue;const At=this.hashRelatedBlankNode(Tt,wt,it,Et),Dt=st.get(At);Dt?Dt.push(Tt):st.set(At,[Tt])}return st}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$4=getAugmentedNamespace(__viteBrowserExternal$1);(function(nt){const rt=URDNA2015_1,it=URGNA2012,st=URDNA2015Sync_1,bt=URGNA2012Sync;let wt;try{wt=require$$4}catch{}nt.NQuads=NQuads_1,nt.IdentifierIssuer=IdentifierIssuer_1,nt._rdfCanonizeNative=function(Et){return Et&&(wt=Et),wt},nt.canonize=async function(Et,Tt){if(Array.isArray(Et)||(Et=nt.NQuads.legacyDatasetToQuads(Et)),Tt.useNative){if(!wt)throw new Error("rdf-canonize-native not available");if(Tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return new Promise((At,Dt)=>wt.canonize(Et,Tt,(Ot,zt)=>Ot?Dt(Ot):At(zt)))}if(Tt.algorithm==="URDNA2015")return new rt(Tt).main(Et);if(Tt.algorithm==="URGNA2012"){if(Tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new it(Tt).main(Et)}throw"algorithm"in Tt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+Tt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")},nt._canonizeSync=function(Et,Tt){if(Array.isArray(Et)||(Et=nt.NQuads.legacyDatasetToQuads(Et)),Tt.useNative){if(!wt)throw new Error("rdf-canonize-native not available");if(Tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "useNative".');return wt.canonizeSync(Et,Tt)}if(Tt.algorithm==="URDNA2015")return new st(Tt).main(Et);if(Tt.algorithm==="URGNA2012"){if(Tt.createMessageDigest)throw new Error('"createMessageDigest" cannot be used with "URGNA2012".');return new bt(Tt).main(Et)}throw"algorithm"in Tt?new Error("Invalid RDF Dataset Canonicalization algorithm: "+Tt.algorithm):new Error("No RDF Dataset Canonicalization algorithm specified.")}})(lib);(function(nt){nt.exports=lib})(rdfCanonize);const api$d={};var types$7=api$d;api$d.isArray=Array.isArray;api$d.isBoolean=nt=>typeof nt=="boolean"||Object.prototype.toString.call(nt)==="[object Boolean]";api$d.isDouble=nt=>api$d.isNumber(nt)&&(String(nt).indexOf(".")!==-1||Math.abs(nt)>=1e21);api$d.isEmptyObject=nt=>api$d.isObject(nt)&&Object.keys(nt).length===0;api$d.isNumber=nt=>typeof nt=="number"||Object.prototype.toString.call(nt)==="[object Number]";api$d.isNumeric=nt=>!isNaN(parseFloat(nt))&&isFinite(nt);api$d.isObject=nt=>Object.prototype.toString.call(nt)==="[object Object]";api$d.isString=nt=>typeof nt=="string"||Object.prototype.toString.call(nt)==="[object String]";api$d.isUndefined=nt=>typeof nt>"u";const types$6=types$7,api$c={};var graphTypes$5=api$c;api$c.isSubject=nt=>types$6.isObject(nt)&&!("@value"in nt||"@set"in nt||"@list"in nt)?Object.keys(nt).length>1||!("@id"in nt):!1;api$c.isSubjectReference=nt=>types$6.isObject(nt)&&Object.keys(nt).length===1&&"@id"in nt;api$c.isValue=nt=>types$6.isObject(nt)&&"@value"in nt;api$c.isList=nt=>types$6.isObject(nt)&&"@list"in nt;api$c.isGraph=nt=>types$6.isObject(nt)&&"@graph"in nt&&Object.keys(nt).filter(rt=>rt!=="@id"&&rt!=="@index").length===1;api$c.isSimpleGraph=nt=>api$c.isGraph(nt)&&!("@id"in nt);api$c.isBlankNode=nt=>{if(types$6.isObject(nt)){if("@id"in nt){const rt=nt["@id"];return!types$6.isString(rt)||rt.indexOf("_:")===0}return Object.keys(nt).length===0||!("@value"in nt||"@set"in nt||"@list"in nt)}return!1};var JsonLdError_1=class extends Error{constructor(rt="An unspecified JSON-LD error occurred.",it="jsonld.Error",st={}){super(rt),this.name=it,this.message=rt,this.details=st}};const graphTypes$4=graphTypes$5,types$5=types$7,IdentifierIssuer$1=rdfCanonize.exports.IdentifierIssuer,JsonLdError$a=JsonLdError_1,REGEX_BCP47$3=/^[a-zA-Z]{1,8}(-[a-zA-Z0-9]{1,8})*$/,REGEX_LINK_HEADERS=/(?:<[^>]*?>|"[^"]*?"|[^,])+/g,REGEX_LINK_HEADER$1=/\s*<([^>]*?)>\s*(?:;\s*(.*))?/,REGEX_LINK_HEADER_PARAMS=/(.*?)=(?:(?:"([^"]*?)")|([^"]*?))\s*(?:(?:;\s*)|$)/g,REGEX_KEYWORD$3=/^@[a-zA-Z]+$/,DEFAULTS={headers:{accept:"application/ld+json, application/json"}},api$b={};var util$5=api$b;api$b.IdentifierIssuer=IdentifierIssuer$1;api$b.REGEX_BCP47=REGEX_BCP47$3;api$b.REGEX_KEYWORD=REGEX_KEYWORD$3;api$b.clone=function(nt){if(nt&&typeof nt=="object"){let rt;if(types$5.isArray(nt)){rt=[];for(let it=0;it<nt.length;++it)rt[it]=api$b.clone(nt[it])}else if(nt instanceof Map){rt=new Map;for(const[it,st]of nt)rt.set(it,api$b.clone(st))}else if(nt instanceof Set){rt=new Set;for(const it of nt)rt.add(api$b.clone(it))}else if(types$5.isObject(nt)){rt={};for(const it in nt)rt[it]=api$b.clone(nt[it])}else rt=nt.toString();return rt}return nt};api$b.asArray=function(nt){return Array.isArray(nt)?nt:[nt]};api$b.buildHeaders=(nt={})=>{if(Object.keys(nt).some(it=>it.toLowerCase()==="accept"))throw new RangeError('Accept header may not be specified; only "'+DEFAULTS.headers.accept+'" is supported.');return Object.assign({Accept:DEFAULTS.headers.accept},nt)};api$b.parseLinkHeader=nt=>{const rt={},it=nt.match(REGEX_LINK_HEADERS);for(let st=0;st<it.length;++st){let bt=it[st].match(REGEX_LINK_HEADER$1);if(!bt)continue;const wt={target:bt[1]},Et=bt[2];for(;bt=REGEX_LINK_HEADER_PARAMS.exec(Et);)wt[bt[1]]=bt[2]===void 0?bt[3]:bt[2];const Tt=wt.rel||"";Array.isArray(rt[Tt])?rt[Tt].push(wt):rt.hasOwnProperty(Tt)?rt[Tt]=[rt[Tt],wt]:rt[Tt]=wt}return rt};api$b.validateTypeValue=(nt,rt)=>{if(!types$5.isString(nt)&&!(types$5.isArray(nt)&&nt.every(it=>types$5.isString(it)))){if(rt&&types$5.isObject(nt))switch(Object.keys(nt).length){case 0:return;case 1:if("@default"in nt&&api$b.asArray(nt["@default"]).every(it=>types$5.isString(it)))return}throw new JsonLdError$a('Invalid JSON-LD syntax; "@type" value must a string, an array of strings, an empty object, or a default object.',"jsonld.SyntaxError",{code:"invalid type value",value:nt})}};api$b.hasProperty=(nt,rt)=>{if(nt.hasOwnProperty(rt)){const it=nt[rt];return!types$5.isArray(it)||it.length>0}return!1};api$b.hasValue=(nt,rt,it)=>{if(api$b.hasProperty(nt,rt)){let st=nt[rt];const bt=graphTypes$4.isList(st);if(types$5.isArray(st)||bt){bt&&(st=st["@list"]);for(let wt=0;wt<st.length;++wt)if(api$b.compareValues(it,st[wt]))return!0}else if(!types$5.isArray(it))return api$b.compareValues(it,st)}return!1};api$b.addValue=(nt,rt,it,st)=>{if(st=st||{},"propertyIsArray"in st||(st.propertyIsArray=!1),"valueIsArray"in st||(st.valueIsArray=!1),"allowDuplicate"in st||(st.allowDuplicate=!0),"prependValue"in st||(st.prependValue=!1),st.valueIsArray)nt[rt]=it;else if(types$5.isArray(it)){it.length===0&&st.propertyIsArray&&!nt.hasOwnProperty(rt)&&(nt[rt]=[]),st.prependValue&&(it=it.concat(nt[rt]),nt[rt]=[]);for(let bt=0;bt<it.length;++bt)api$b.addValue(nt,rt,it[bt],st)}else if(nt.hasOwnProperty(rt)){const bt=!st.allowDuplicate&&api$b.hasValue(nt,rt,it);!types$5.isArray(nt[rt])&&(!bt||st.propertyIsArray)&&(nt[rt]=[nt[rt]]),bt||(st.prependValue?nt[rt].unshift(it):nt[rt].push(it))}else nt[rt]=st.propertyIsArray?[it]:it};api$b.getValues=(nt,rt)=>[].concat(nt[rt]||[]);api$b.removeProperty=(nt,rt)=>{delete nt[rt]};api$b.removeValue=(nt,rt,it,st)=>{st=st||{},"propertyIsArray"in st||(st.propertyIsArray=!1);const bt=api$b.getValues(nt,rt).filter(wt=>!api$b.compareValues(wt,it));bt.length===0?api$b.removeProperty(nt,rt):bt.length===1&&!st.propertyIsArray?nt[rt]=bt[0]:nt[rt]=bt};api$b.relabelBlankNodes=(nt,rt)=>{rt=rt||{};const it=rt.issuer||new IdentifierIssuer$1("_:b");return _labelBlankNodes(it,nt)};api$b.compareValues=(nt,rt)=>nt===rt||graphTypes$4.isValue(nt)&&graphTypes$4.isValue(rt)&&nt["@value"]===rt["@value"]&&nt["@type"]===rt["@type"]&&nt["@language"]===rt["@language"]&&nt["@index"]===rt["@index"]?!0:types$5.isObject(nt)&&"@id"in nt&&types$5.isObject(rt)&&"@id"in rt?nt["@id"]===rt["@id"]:!1;api$b.compareShortestLeast=(nt,rt)=>nt.length<rt.length?-1:rt.length<nt.length?1:nt===rt?0:nt<rt?-1:1;function _labelBlankNodes(nt,rt){if(types$5.isArray(rt))for(let it=0;it<rt.length;++it)rt[it]=_labelBlankNodes(nt,rt[it]);else if(graphTypes$4.isList(rt))rt["@list"]=_labelBlankNodes(nt,rt["@list"]);else if(types$5.isObject(rt)){graphTypes$4.isBlankNode(rt)&&(rt["@id"]=nt.getId(rt["@id"]));const it=Object.keys(rt).sort();for(let st=0;st<it.length;++st){const bt=it[st];bt!=="@id"&&(rt[bt]=_labelBlankNodes(nt,rt[bt]))}}return rt}const RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",XSD="http://www.w3.org/2001/XMLSchema#";var constants={LINK_HEADER_REL:"http://www.w3.org/ns/json-ld#context",LINK_HEADER_CONTEXT:"http://www.w3.org/ns/json-ld#context",RDF,RDF_LIST:RDF+"List",RDF_FIRST:RDF+"first",RDF_REST:RDF+"rest",RDF_NIL:RDF+"nil",RDF_TYPE:RDF+"type",RDF_PLAIN_LITERAL:RDF+"PlainLiteral",RDF_XML_LITERAL:RDF+"XMLLiteral",RDF_JSON_LITERAL:RDF+"JSON",RDF_OBJECT:RDF+"object",RDF_LANGSTRING:RDF+"langString",XSD,XSD_BOOLEAN:XSD+"boolean",XSD_DOUBLE:XSD+"double",XSD_INTEGER:XSD+"integer",XSD_STRING:XSD+"string"},RequestQueue_1,hasRequiredRequestQueue;function requireRequestQueue(){return hasRequiredRequestQueue||(hasRequiredRequestQueue=1,RequestQueue_1=class{constructor(){this._requests={}}wrapLoader(rt){const it=this;return it._loader=rt,function(){return it.add.apply(it,arguments)}}async add(rt){let it=this._requests[rt];if(it)return Promise.resolve(it);it=this._requests[rt]=this._loader(rt);try{return await it}finally{delete this._requests[rt]}}}),RequestQueue_1}const types$4=types$7,api$a={};var url$1=api$a;api$a.parsers={simple:{keys:["href","scheme","authority","path","query","fragment"],regex:/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/},full:{keys:["href","protocol","scheme","authority","auth","user","password","hostname","port","path","directory","file","query","fragment"],regex:/^(([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?(?:(((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/}};api$a.parse=(nt,rt)=>{const it={},st=api$a.parsers[rt||"full"],bt=st.regex.exec(nt);let wt=st.keys.length;for(;wt--;)it[st.keys[wt]]=bt[wt]===void 0?null:bt[wt];return(it.scheme==="https"&&it.port==="443"||it.scheme==="http"&&it.port==="80")&&(it.href=it.href.replace(":"+it.port,""),it.authority=it.authority.replace(":"+it.port,""),it.port=null),it.normalizedPath=api$a.removeDotSegments(it.path),it};api$a.prependBase=(nt,rt)=>{if(nt===null||api$a.isAbsolute(rt))return rt;(!nt||types$4.isString(nt))&&(nt=api$a.parse(nt||""));const it=api$a.parse(rt),st={protocol:nt.protocol||""};if(it.authority!==null)st.authority=it.authority,st.path=it.path,st.query=it.query;else if(st.authority=nt.authority,it.path==="")st.path=nt.path,it.query!==null?st.query=it.query:st.query=nt.query;else{if(it.path.indexOf("/")===0)st.path=it.path;else{let wt=nt.path;wt=wt.substr(0,wt.lastIndexOf("/")+1),(wt.length>0||nt.authority)&&wt.substr(-1)!=="/"&&(wt+="/"),wt+=it.path,st.path=wt}st.query=it.query}it.path!==""&&(st.path=api$a.removeDotSegments(st.path));let bt=st.protocol;return st.authority!==null&&(bt+="//"+st.authority),bt+=st.path,st.query!==null&&(bt+="?"+st.query),it.fragment!==null&&(bt+="#"+it.fragment),bt===""&&(bt="./"),bt};api$a.removeBase=(nt,rt)=>{if(nt===null)return rt;(!nt||types$4.isString(nt))&&(nt=api$a.parse(nt||""));let it="";if(nt.href!==""?it+=(nt.protocol||"")+"//"+(nt.authority||""):rt.indexOf("//")&&(it+="//"),rt.indexOf(it)!==0)return rt;const st=api$a.parse(rt.substr(it.length)),bt=nt.normalizedPath.split("/"),wt=st.normalizedPath.split("/"),Et=st.fragment||st.query?0:1;for(;bt.length>0&&wt.length>Et&&bt[0]===wt[0];)bt.shift(),wt.shift();let Tt="";if(bt.length>0){bt.pop();for(let At=0;At<bt.length;++At)Tt+="../"}return Tt+=wt.join("/"),st.query!==null&&(Tt+="?"+st.query),st.fragment!==null&&(Tt+="#"+st.fragment),Tt===""&&(Tt="./"),Tt};api$a.removeDotSegments=nt=>{if(nt.length===0)return"";const rt=nt.split("/"),it=[];for(;rt.length>0;){const st=rt.shift(),bt=rt.length===0;if(st==="."){bt&&it.push("");continue}if(st===".."){it.pop(),bt&&it.push("");continue}it.push(st)}return nt[0]==="/"&&it.length>0&&it[0]!==""&&it.unshift(""),it.length===1&&it[0]===""?"/":it.join("/")};const isAbsoluteRegex=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^\s]*$/;api$a.isAbsolute=nt=>types$4.isString(nt)&&isAbsoluteRegex.test(nt);api$a.isRelative=nt=>types$4.isString(nt);const{parseLinkHeader,buildHeaders}=util$5,{LINK_HEADER_CONTEXT}=constants,JsonLdError$9=JsonLdError_1,RequestQueue=requireRequestQueue(),{prependBase:prependBase$2}=url$1,REGEX_LINK_HEADER=/(^|(\r\n))link:/i;var xhr=({secure:nt,headers:rt={},xhr:it}={headers:{}})=>{return rt=buildHeaders(rt),new RequestQueue().wrapLoader(bt);async function bt(wt){if(wt.indexOf("http:")!==0&&wt.indexOf("https:")!==0)throw new JsonLdError$9('URL could not be dereferenced; only "http" and "https" URLs are supported.',"jsonld.InvalidUrl",{code:"loading document failed",url:wt});if(nt&&wt.indexOf("https")!==0)throw new JsonLdError$9(`URL could not be dereferenced; secure mode is enabled and the URL's scheme is not "https".`,"jsonld.InvalidUrl",{code:"loading document failed",url:wt});let Et;try{Et=await _get(it,wt,rt)}catch(zt){throw new JsonLdError$9("URL could not be dereferenced, an error occurred.","jsonld.LoadDocumentError",{code:"loading document failed",url:wt,cause:zt})}if(Et.status>=400)throw new JsonLdError$9("URL could not be dereferenced: "+Et.statusText,"jsonld.LoadDocumentError",{code:"loading document failed",url:wt,httpStatusCode:Et.status});let Tt={contextUrl:null,documentUrl:wt,document:Et.response},At=null;const Dt=Et.getResponseHeader("Content-Type");let Ot;if(REGEX_LINK_HEADER.test(Et.getAllResponseHeaders())&&(Ot=Et.getResponseHeader("Link")),Ot&&Dt!=="application/ld+json"){const zt=parseLinkHeader(Ot),$t=zt[LINK_HEADER_CONTEXT];if(Array.isArray($t))throw new JsonLdError$9("URL could not be dereferenced, it has more than one associated HTTP Link Header.","jsonld.InvalidUrl",{code:"multiple context link headers",url:wt});$t&&(Tt.contextUrl=$t.target),At=zt.alternate,At&&At.type=="application/ld+json"&&!(Dt||"").match(/^application\/(\w*\+)?json$/)&&(Tt=await bt(prependBase$2(wt,At.target)))}return Tt}};function _get(nt,rt,it){nt=nt||XMLHttpRequest;const st=new nt;return new Promise((bt,wt)=>{st.onload=()=>bt(st),st.onerror=Et=>wt(Et),st.open("GET",rt,!0);for(const Et in it)st.setRequestHeader(Et,it[Et]);st.send()})}const xhrLoader=xhr,api$9={};var platformBrowser=api$9;api$9.setupDocumentLoaders=function(nt){typeof XMLHttpRequest<"u"&&(nt.documentLoaders.xhr=xhrLoader,nt.useDocumentLoader("xhr"))};api$9.setupGlobals=function(nt){typeof globalThis.JsonLdProcessor>"u"&&Object.defineProperty(globalThis,"JsonLdProcessor",{writable:!0,enumerable:!1,configurable:!0,value:nt.JsonLdProcessor})};var iterator,hasRequiredIterator;function requireIterator(){return hasRequiredIterator||(hasRequiredIterator=1,iterator=function(nt){nt.prototype[Symbol.iterator]=function*(){for(let rt=this.head;rt;rt=rt.next)yield rt.value}}),iterator}var yallist=Yallist$1;Yallist$1.Node=Node$1;Yallist$1.create=Yallist$1;function Yallist$1(nt){var rt=this;if(rt instanceof Yallist$1||(rt=new Yallist$1),rt.tail=null,rt.head=null,rt.length=0,nt&&typeof nt.forEach=="function")nt.forEach(function(bt){rt.push(bt)});else if(arguments.length>0)for(var it=0,st=arguments.length;it<st;it++)rt.push(arguments[it]);return rt}Yallist$1.prototype.removeNode=function(nt){if(nt.list!==this)throw new Error("removing node which does not belong to this list");var rt=nt.next,it=nt.prev;return rt&&(rt.prev=it),it&&(it.next=rt),nt===this.head&&(this.head=rt),nt===this.tail&&(this.tail=it),nt.list.length--,nt.next=null,nt.prev=null,nt.list=null,rt};Yallist$1.prototype.unshiftNode=function(nt){if(nt!==this.head){nt.list&&nt.list.removeNode(nt);var rt=this.head;nt.list=this,nt.next=rt,rt&&(rt.prev=nt),this.head=nt,this.tail||(this.tail=nt),this.length++}};Yallist$1.prototype.pushNode=function(nt){if(nt!==this.tail){nt.list&&nt.list.removeNode(nt);var rt=this.tail;nt.list=this,nt.prev=rt,rt&&(rt.next=nt),this.tail=nt,this.head||(this.head=nt),this.length++}};Yallist$1.prototype.push=function(){for(var nt=0,rt=arguments.length;nt<rt;nt++)push(this,arguments[nt]);return this.length};Yallist$1.prototype.unshift=function(){for(var nt=0,rt=arguments.length;nt<rt;nt++)unshift(this,arguments[nt]);return this.length};Yallist$1.prototype.pop=function(){if(!!this.tail){var nt=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,nt}};Yallist$1.prototype.shift=function(){if(!!this.head){var nt=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,nt}};Yallist$1.prototype.forEach=function(nt,rt){rt=rt||this;for(var it=this.head,st=0;it!==null;st++)nt.call(rt,it.value,st,this),it=it.next};Yallist$1.prototype.forEachReverse=function(nt,rt){rt=rt||this;for(var it=this.tail,st=this.length-1;it!==null;st--)nt.call(rt,it.value,st,this),it=it.prev};Yallist$1.prototype.get=function(nt){for(var rt=0,it=this.head;it!==null&&rt<nt;rt++)it=it.next;if(rt===nt&&it!==null)return it.value};Yallist$1.prototype.getReverse=function(nt){for(var rt=0,it=this.tail;it!==null&&rt<nt;rt++)it=it.prev;if(rt===nt&&it!==null)return it.value};Yallist$1.prototype.map=function(nt,rt){rt=rt||this;for(var it=new Yallist$1,st=this.head;st!==null;)it.push(nt.call(rt,st.value,this)),st=st.next;return it};Yallist$1.prototype.mapReverse=function(nt,rt){rt=rt||this;for(var it=new Yallist$1,st=this.tail;st!==null;)it.push(nt.call(rt,st.value,this)),st=st.prev;return it};Yallist$1.prototype.reduce=function(nt,rt){var it,st=this.head;if(arguments.length>1)it=rt;else if(this.head)st=this.head.next,it=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var bt=0;st!==null;bt++)it=nt(it,st.value,bt),st=st.next;return it};Yallist$1.prototype.reduceReverse=function(nt,rt){var it,st=this.tail;if(arguments.length>1)it=rt;else if(this.tail)st=this.tail.prev,it=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var bt=this.length-1;st!==null;bt--)it=nt(it,st.value,bt),st=st.prev;return it};Yallist$1.prototype.toArray=function(){for(var nt=new Array(this.length),rt=0,it=this.head;it!==null;rt++)nt[rt]=it.value,it=it.next;return nt};Yallist$1.prototype.toArrayReverse=function(){for(var nt=new Array(this.length),rt=0,it=this.tail;it!==null;rt++)nt[rt]=it.value,it=it.prev;return nt};Yallist$1.prototype.slice=function(nt,rt){rt=rt||this.length,rt<0&&(rt+=this.length),nt=nt||0,nt<0&&(nt+=this.length);var it=new Yallist$1;if(rt<nt||rt<0)return it;nt<0&&(nt=0),rt>this.length&&(rt=this.length);for(var st=0,bt=this.head;bt!==null&&st<nt;st++)bt=bt.next;for(;bt!==null&&st<rt;st++,bt=bt.next)it.push(bt.value);return it};Yallist$1.prototype.sliceReverse=function(nt,rt){rt=rt||this.length,rt<0&&(rt+=this.length),nt=nt||0,nt<0&&(nt+=this.length);var it=new Yallist$1;if(rt<nt||rt<0)return it;nt<0&&(nt=0),rt>this.length&&(rt=this.length);for(var st=this.length,bt=this.tail;bt!==null&&st>rt;st--)bt=bt.prev;for(;bt!==null&&st>nt;st--,bt=bt.prev)it.push(bt.value);return it};Yallist$1.prototype.splice=function(nt,rt,...it){nt>this.length&&(nt=this.length-1),nt<0&&(nt=this.length+nt);for(var st=0,bt=this.head;bt!==null&&st<nt;st++)bt=bt.next;for(var wt=[],st=0;bt&&st<rt;st++)wt.push(bt.value),bt=this.removeNode(bt);bt===null&&(bt=this.tail),bt!==this.head&&bt!==this.tail&&(bt=bt.prev);for(var st=0;st<it.length;st++)bt=insert(this,bt,it[st]);return wt};Yallist$1.prototype.reverse=function(){for(var nt=this.head,rt=this.tail,it=nt;it!==null;it=it.prev){var st=it.prev;it.prev=it.next,it.next=st}return this.head=rt,this.tail=nt,this};function insert(nt,rt,it){var st=rt===nt.head?new Node$1(it,null,rt,nt):new Node$1(it,rt,rt.next,nt);return st.next===null&&(nt.tail=st),st.prev===null&&(nt.head=st),nt.length++,st}function push(nt,rt){nt.tail=new Node$1(rt,nt.tail,null,nt),nt.head||(nt.head=nt.tail),nt.length++}function unshift(nt,rt){nt.head=new Node$1(rt,null,nt.head,nt),nt.tail||(nt.tail=nt.head),nt.length++}function Node$1(nt,rt,it,st){if(!(this instanceof Node$1))return new Node$1(nt,rt,it,st);this.list=st,this.value=nt,rt?(rt.next=this,this.prev=rt):this.prev=null,it?(it.prev=this,this.next=it):this.next=null}try{requireIterator()(Yallist$1)}catch(nt){}const Yallist=yallist,MAX=Symbol("max"),LENGTH=Symbol("length"),LENGTH_CALCULATOR=Symbol("lengthCalculator"),ALLOW_STALE=Symbol("allowStale"),MAX_AGE=Symbol("maxAge"),DISPOSE=Symbol("dispose"),NO_DISPOSE_ON_SET=Symbol("noDisposeOnSet"),LRU_LIST=Symbol("lruList"),CACHE=Symbol("cache"),UPDATE_AGE_ON_GET=Symbol("updateAgeOnGet"),naiveLength=()=>1;class LRUCache{constructor(rt){if(typeof rt=="number"&&(rt={max:rt}),rt||(rt={}),rt.max&&(typeof rt.max!="number"||rt.max<0))throw new TypeError("max must be a non-negative number");this[MAX]=rt.max||1/0;const it=rt.length||naiveLength;if(this[LENGTH_CALCULATOR]=typeof it!="function"?naiveLength:it,this[ALLOW_STALE]=rt.stale||!1,rt.maxAge&&typeof rt.maxAge!="number")throw new TypeError("maxAge must be a number");this[MAX_AGE]=rt.maxAge||0,this[DISPOSE]=rt.dispose,this[NO_DISPOSE_ON_SET]=rt.noDisposeOnSet||!1,this[UPDATE_AGE_ON_GET]=rt.updateAgeOnGet||!1,this.reset()}set max(rt){if(typeof rt!="number"||rt<0)throw new TypeError("max must be a non-negative number");this[MAX]=rt||1/0,trim(this)}get max(){return this[MAX]}set allowStale(rt){this[ALLOW_STALE]=!!rt}get allowStale(){return this[ALLOW_STALE]}set maxAge(rt){if(typeof rt!="number")throw new TypeError("maxAge must be a non-negative number");this[MAX_AGE]=rt,trim(this)}get maxAge(){return this[MAX_AGE]}set lengthCalculator(rt){typeof rt!="function"&&(rt=naiveLength),rt!==this[LENGTH_CALCULATOR]&&(this[LENGTH_CALCULATOR]=rt,this[LENGTH]=0,this[LRU_LIST].forEach(it=>{it.length=this[LENGTH_CALCULATOR](it.value,it.key),this[LENGTH]+=it.length})),trim(this)}get lengthCalculator(){return this[LENGTH_CALCULATOR]}get length(){return this[LENGTH]}get itemCount(){return this[LRU_LIST].length}rforEach(rt,it){it=it||this;for(let st=this[LRU_LIST].tail;st!==null;){const bt=st.prev;forEachStep(this,rt,st,it),st=bt}}forEach(rt,it){it=it||this;for(let st=this[LRU_LIST].head;st!==null;){const bt=st.next;forEachStep(this,rt,st,it),st=bt}}keys(){return this[LRU_LIST].toArray().map(rt=>rt.key)}values(){return this[LRU_LIST].toArray().map(rt=>rt.value)}reset(){this[DISPOSE]&&this[LRU_LIST]&&this[LRU_LIST].length&&this[LRU_LIST].forEach(rt=>this[DISPOSE](rt.key,rt.value)),this[CACHE]=new Map,this[LRU_LIST]=new Yallist,this[LENGTH]=0}dump(){return this[LRU_LIST].map(rt=>isStale(this,rt)?!1:{k:rt.key,v:rt.value,e:rt.now+(rt.maxAge||0)}).toArray().filter(rt=>rt)}dumpLru(){return this[LRU_LIST]}set(rt,it,st){if(st=st||this[MAX_AGE],st&&typeof st!="number")throw new TypeError("maxAge must be a number");const bt=st?Date.now():0,wt=this[LENGTH_CALCULATOR](it,rt);if(this[CACHE].has(rt)){if(wt>this[MAX])return del(this,this[CACHE].get(rt)),!1;const At=this[CACHE].get(rt).value;return this[DISPOSE]&&(this[NO_DISPOSE_ON_SET]||this[DISPOSE](rt,At.value)),At.now=bt,At.maxAge=st,At.value=it,this[LENGTH]+=wt-At.length,At.length=wt,this.get(rt),trim(this),!0}const Et=new Entry(rt,it,wt,bt,st);return Et.length>this[MAX]?(this[DISPOSE]&&this[DISPOSE](rt,it),!1):(this[LENGTH]+=Et.length,this[LRU_LIST].unshift(Et),this[CACHE].set(rt,this[LRU_LIST].head),trim(this),!0)}has(rt){if(!this[CACHE].has(rt))return!1;const it=this[CACHE].get(rt).value;return!isStale(this,it)}get(rt){return get(this,rt,!0)}peek(rt){return get(this,rt,!1)}pop(){const rt=this[LRU_LIST].tail;return rt?(del(this,rt),rt.value):null}del(rt){del(this,this[CACHE].get(rt))}load(rt){this.reset();const it=Date.now();for(let st=rt.length-1;st>=0;st--){const bt=rt[st],wt=bt.e||0;if(wt===0)this.set(bt.k,bt.v);else{const Et=wt-it;Et>0&&this.set(bt.k,bt.v,Et)}}}prune(){this[CACHE].forEach((rt,it)=>get(this,it,!1))}}const get=(nt,rt,it)=>{const st=nt[CACHE].get(rt);if(st){const bt=st.value;if(isStale(nt,bt)){if(del(nt,st),!nt[ALLOW_STALE])return}else it&&(nt[UPDATE_AGE_ON_GET]&&(st.value.now=Date.now()),nt[LRU_LIST].unshiftNode(st));return bt.value}},isStale=(nt,rt)=>{if(!rt||!rt.maxAge&&!nt[MAX_AGE])return!1;const it=Date.now()-rt.now;return rt.maxAge?it>rt.maxAge:nt[MAX_AGE]&&it>nt[MAX_AGE]},trim=nt=>{if(nt[LENGTH]>nt[MAX])for(let rt=nt[LRU_LIST].tail;nt[LENGTH]>nt[MAX]&&rt!==null;){const it=rt.prev;del(nt,rt),rt=it}},del=(nt,rt)=>{if(rt){const it=rt.value;nt[DISPOSE]&&nt[DISPOSE](it.key,it.value),nt[LENGTH]-=it.length,nt[CACHE].delete(it.key),nt[LRU_LIST].removeNode(rt)}};class Entry{constructor(rt,it,st,bt,wt){this.key=rt,this.value=it,this.length=st,this.now=bt,this.maxAge=wt||0}}const forEachStep=(nt,rt,it,st)=>{let bt=it.value;isStale(nt,bt)&&(del(nt,it),nt[ALLOW_STALE]||(bt=void 0)),bt&&rt.call(st,bt.value,bt.key,nt)};var lruCache=LRUCache;const LRU$1=lruCache,MAX_ACTIVE_CONTEXTS=10;var ResolvedContext_1=class{constructor({document:rt}){this.document=rt,this.cache=new LRU$1({max:MAX_ACTIVE_CONTEXTS})}getProcessed(rt){return this.cache.get(rt)}setProcessed(rt,it){this.cache.set(rt,it)}};const{isArray:_isArray$5,isObject:_isObject$4,isString:_isString$4}=types$7,{asArray:_asArray$4}=util$5,{prependBase:prependBase$1}=url$1,JsonLdError$8=JsonLdError_1,ResolvedContext=ResolvedContext_1,MAX_CONTEXT_URLS=10;var ContextResolver_1=class{constructor({sharedCache:rt}){this.perOpCache=new Map,this.sharedCache=rt}async resolve({activeCtx:rt,context:it,documentLoader:st,base:bt,cycles:wt=new Set}){it&&_isObject$4(it)&&it["@context"]&&(it=it["@context"]),it=_asArray$4(it);const Et=[];for(const Tt of it){if(_isString$4(Tt)){let Ot=this._get(Tt);Ot||(Ot=await this._resolveRemoteContext({activeCtx:rt,url:Tt,documentLoader:st,base:bt,cycles:wt})),_isArray$5(Ot)?Et.push(...Ot):Et.push(Ot);continue}if(Tt===null){Et.push(new ResolvedContext({document:null}));continue}_isObject$4(Tt)||_throwInvalidLocalContext(it);const At=JSON.stringify(Tt);let Dt=this._get(At);Dt||(Dt=new ResolvedContext({document:Tt}),this._cacheResolvedContext({key:At,resolved:Dt,tag:"static"})),Et.push(Dt)}return Et}_get(rt){let it=this.perOpCache.get(rt);if(!it){const st=this.sharedCache.get(rt);st&&(it=st.get("static"),it&&this.perOpCache.set(rt,it))}return it}_cacheResolvedContext({key:rt,resolved:it,tag:st}){if(this.perOpCache.set(rt,it),st!==void 0){let bt=this.sharedCache.get(rt);bt||(bt=new Map,this.sharedCache.set(rt,bt)),bt.set(st,it)}return it}async _resolveRemoteContext({activeCtx:rt,url:it,documentLoader:st,base:bt,cycles:wt}){it=prependBase$1(bt,it);const{context:Et,remoteDoc:Tt}=await this._fetchContext({activeCtx:rt,url:it,documentLoader:st,cycles:wt});bt=Tt.documentUrl||it,_resolveContextUrls({context:Et,base:bt});const At=await this.resolve({activeCtx:rt,context:Et,documentLoader:st,base:bt,cycles:wt});return this._cacheResolvedContext({key:it,resolved:At,tag:Tt.tag}),At}async _fetchContext({activeCtx:rt,url:it,documentLoader:st,cycles:bt}){if(bt.size>MAX_CONTEXT_URLS)throw new JsonLdError$8("Maximum number of @context URLs exceeded.","jsonld.ContextUrlError",{code:rt.processingMode==="json-ld-1.0"?"loading remote context failed":"context overflow",max:MAX_CONTEXT_URLS});if(bt.has(it))throw new JsonLdError$8("Cyclical @context URLs detected.","jsonld.ContextUrlError",{code:rt.processingMode==="json-ld-1.0"?"recursive context inclusion":"context overflow",url:it});bt.add(it);let wt,Et;try{Et=await st(it),wt=Et.document||null,_isString$4(wt)&&(wt=JSON.parse(wt))}catch(Tt){throw new JsonLdError$8("Dereferencing a URL did not result in a valid JSON-LD object. Possible causes are an inaccessible URL perhaps due to a same-origin policy (ensure the server uses CORS if you are using client-side JavaScript), too many redirects, a non-JSON response, or more than one HTTP Link Header was provided for a remote context.","jsonld.InvalidUrl",{code:"loading remote context failed",url:it,cause:Tt})}if(!_isObject$4(wt))throw new JsonLdError$8("Dereferencing a URL did not result in a JSON object. The response was valid JSON, but it was not a JSON object.","jsonld.InvalidUrl",{code:"invalid remote context",url:it});return"@context"in wt?wt={"@context":wt["@context"]}:wt={"@context":{}},Et.contextUrl&&(_isArray$5(wt["@context"])||(wt["@context"]=[wt["@context"]]),wt["@context"].push(Et.contextUrl)),{context:wt,remoteDoc:Et}}};function _throwInvalidLocalContext(nt){throw new JsonLdError$8("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:nt})}function _resolveContextUrls({context:nt,base:rt}){if(!nt)return;const it=nt["@context"];if(_isString$4(it)){nt["@context"]=prependBase$1(rt,it);return}if(_isArray$5(it)){for(let st=0;st<it.length;++st){const bt=it[st];if(_isString$4(bt)){it[st]=prependBase$1(rt,bt);continue}_isObject$4(bt)&&_resolveContextUrls({context:{"@context":bt},base:rt})}return}if(!!_isObject$4(it))for(const st in it)_resolveContextUrls({context:it[st],base:rt})}var NQuads$1=rdfCanonize.exports.NQuads;const JsonLdError$7=JsonLdError_1,{isArray:_isArray$4}=types$7,{asArray:_asArray$3}=util$5,api$8={};var events=api$8;api$8.defaultEventHandler=null;api$8.setupEventHandler=({options:nt={}})=>{const rt=[].concat(nt.safe?api$8.safeEventHandler:[],nt.eventHandler?_asArray$3(nt.eventHandler):[],api$8.defaultEventHandler?api$8.defaultEventHandler:[]);return rt.length===0?null:rt};api$8.handleEvent=({event:nt,options:rt})=>{_handle({event:nt,handlers:rt.eventHandler})};function _handle({event:nt,handlers:rt}){let it=!0;for(let st=0;it&&st<rt.length;++st){it=!1;const bt=rt[st];if(_isArray$4(bt))it=_handle({event:nt,handlers:bt});else if(typeof bt=="function")bt({event:nt,next:()=>{it=!0}});else if(typeof bt=="object")nt.code in bt?bt[nt.code]({event:nt,next:()=>{it=!0}}):it=!0;else throw new JsonLdError$7("Invalid event handler.","jsonld.InvalidEventHandler",{event:nt})}return it}const _notSafeEventCodes=new Set(["empty object","free-floating scalar","invalid @language value","invalid property","null @id value","null @value value","object with only @id","object with only @language","object with only @list","object with only @value","relative @id reference","relative @type reference","relative @vocab reference","reserved @id value","reserved @reverse value","reserved term","blank node predicate","relative graph reference","relative object reference","relative predicate reference","relative subject reference"]);api$8.safeEventHandler=function nt({event:rt,next:it}){if(rt.level==="warning"&&_notSafeEventCodes.has(rt.code))throw new JsonLdError$7("Safe mode validation error.","jsonld.ValidationError",{event:rt});it()};api$8.logEventHandler=function nt({event:rt,next:it}){console.log(`EVENT: ${rt.message}`,{event:rt}),it()};api$8.logWarningEventHandler=function nt({event:rt,next:it}){rt.level==="warning"&&console.warn(`WARNING: ${rt.message}`,{event:rt}),it()};api$8.unhandledEventHandler=function nt({event:rt}){throw new JsonLdError$7("No handler for event.","jsonld.UnhandledEvent",{event:rt})};api$8.setDefaultEventHandler=function({eventHandler:nt}={}){api$8.defaultEventHandler=nt?_asArray$3(nt):null};const util$4=util$5,JsonLdError$6=JsonLdError_1,{isArray:_isArray$3,isObject:_isObject$3,isString:_isString$3,isUndefined:_isUndefined$2}=types$7,{isAbsolute:_isAbsoluteIri$2,isRelative:_isRelativeIri,prependBase}=url$1,{handleEvent:_handleEvent$3}=events,{REGEX_BCP47:REGEX_BCP47$2,REGEX_KEYWORD:REGEX_KEYWORD$2,asArray:_asArray$2,compareShortestLeast:_compareShortestLeast$1}=util$5,INITIAL_CONTEXT_CACHE=new Map,INITIAL_CONTEXT_CACHE_MAX_SIZE=1e4,api$7={};var context=api$7;api$7.process=async({activeCtx:nt,localCtx:rt,options:it,propagate:st=!0,overrideProtected:bt=!1,cycles:wt=new Set})=>{if(_isObject$3(rt)&&"@context"in rt&&_isArray$3(rt["@context"])&&(rt=rt["@context"]),_asArray$2(rt).length===0)return nt;const Tt=[],At=[({event:$t,next:Bt})=>{Tt.push($t),Bt()}];it.eventHandler&&At.push(it.eventHandler);const Dt=it;it={...it,eventHandler:At};const Ot=await it.contextResolver.resolve({activeCtx:nt,context:rt,documentLoader:it.documentLoader,base:it.base});_isObject$3(Ot[0].document)&&typeof Ot[0].document["@propagate"]=="boolean"&&(st=Ot[0].document["@propagate"]);let zt=nt;!st&&!zt.previousContext&&(zt=zt.clone(),zt.previousContext=nt);for(const $t of Ot){let{document:Bt}=$t;if(nt=zt,Bt===null){if(!bt&&Object.keys(nt.protected).length!==0)throw new JsonLdError$6("Tried to nullify a context with protected terms outside of a term definition.","jsonld.SyntaxError",{code:"invalid context nullification"});zt=nt=api$7.getInitialContext(it).clone();continue}const Yt=$t.getProcessed(nt);if(Yt){if(Dt.eventHandler)for(const Ht of Yt.events)_handleEvent$3({event:Ht,options:Dt});zt=nt=Yt.context;continue}if(_isObject$3(Bt)&&"@context"in Bt&&(Bt=Bt["@context"]),!_isObject$3(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; @context must be an object.","jsonld.SyntaxError",{code:"invalid local context",context:Bt});zt=zt.clone();const Xt=new Map;if("@version"in Bt){if(Bt["@version"]!==1.1)throw new JsonLdError$6("Unsupported JSON-LD version: "+Bt["@version"],"jsonld.UnsupportedVersion",{code:"invalid @version value",context:Bt});if(nt.processingMode&&nt.processingMode==="json-ld-1.0")throw new JsonLdError$6("@version: "+Bt["@version"]+" not compatible with "+nt.processingMode,"jsonld.ProcessingModeConflict",{code:"processing mode conflict",context:Bt});zt.processingMode="json-ld-1.1",zt["@version"]=Bt["@version"],Xt.set("@version",!0)}if(zt.processingMode=zt.processingMode||nt.processingMode,"@base"in Bt){let Ht=Bt["@base"];if(!(Ht===null||_isAbsoluteIri$2(Ht)))if(_isRelativeIri(Ht))Ht=prependBase(zt["@base"],Ht);else throw new JsonLdError$6('Invalid JSON-LD syntax; the value of "@base" in a @context must be an absolute IRI, a relative IRI, or null.',"jsonld.SyntaxError",{code:"invalid base IRI",context:Bt});zt["@base"]=Ht,Xt.set("@base",!0)}if("@vocab"in Bt){const Ht=Bt["@vocab"];if(Ht===null)delete zt["@vocab"];else if(_isString$3(Ht)){if(!_isAbsoluteIri$2(Ht)&&api$7.processingMode(zt,1))throw new JsonLdError$6('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be an absolute IRI.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Bt});{const Qt=_expandIri$3(zt,Ht,{vocab:!0,base:!0},void 0,void 0,it);_isAbsoluteIri$2(Qt)||it.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"relative @vocab reference",level:"warning",message:"Relative @vocab reference found.",details:{vocab:Qt}},options:it}),zt["@vocab"]=Qt}}else throw new JsonLdError$6('Invalid JSON-LD syntax; the value of "@vocab" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid vocab mapping",context:Bt});Xt.set("@vocab",!0)}if("@language"in Bt){const Ht=Bt["@language"];if(Ht===null)delete zt["@language"];else if(_isString$3(Ht))Ht.match(REGEX_BCP47$2)||it.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Ht}},options:it}),zt["@language"]=Ht.toLowerCase();else throw new JsonLdError$6('Invalid JSON-LD syntax; the value of "@language" in a @context must be a string or null.',"jsonld.SyntaxError",{code:"invalid default language",context:Bt});Xt.set("@language",!0)}if("@direction"in Bt){const Ht=Bt["@direction"];if(nt.processingMode==="json-ld-1.0")throw new JsonLdError$6("Invalid JSON-LD syntax; @direction not compatible with "+nt.processingMode,"jsonld.SyntaxError",{code:"invalid context member",context:Bt});if(Ht===null)delete zt["@direction"];else{if(Ht!=="ltr"&&Ht!=="rtl")throw new JsonLdError$6('Invalid JSON-LD syntax; the value of "@direction" in a @context must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:Bt});zt["@direction"]=Ht}Xt.set("@direction",!0)}if("@propagate"in Bt){const Ht=Bt["@propagate"];if(nt.processingMode==="json-ld-1.0")throw new JsonLdError$6("Invalid JSON-LD syntax; @propagate not compatible with "+nt.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Bt});if(typeof Ht!="boolean")throw new JsonLdError$6("Invalid JSON-LD syntax; @propagate value must be a boolean.","jsonld.SyntaxError",{code:"invalid @propagate value",context:rt});Xt.set("@propagate",!0)}if("@import"in Bt){const Ht=Bt["@import"];if(nt.processingMode==="json-ld-1.0")throw new JsonLdError$6("Invalid JSON-LD syntax; @import not compatible with "+nt.processingMode,"jsonld.SyntaxError",{code:"invalid context entry",context:Bt});if(!_isString$3(Ht))throw new JsonLdError$6("Invalid JSON-LD syntax; @import must be a string.","jsonld.SyntaxError",{code:"invalid @import value",context:rt});const Qt=await it.contextResolver.resolve({activeCtx:nt,context:Ht,documentLoader:it.documentLoader,base:it.base});if(Qt.length!==1)throw new JsonLdError$6("Invalid JSON-LD syntax; @import must reference a single context.","jsonld.SyntaxError",{code:"invalid remote context",context:rt});const Zt=Qt[0].getProcessed(nt);if(Zt)Bt=Zt;else{const nn=Qt[0].document;if("@import"in nn)throw new JsonLdError$6("Invalid JSON-LD syntax: imported context must not include @import.","jsonld.SyntaxError",{code:"invalid context entry",context:rt});for(const Kt in nn)Bt.hasOwnProperty(Kt)||(Bt[Kt]=nn[Kt]);Qt[0].setProcessed(nt,Bt)}Xt.set("@import",!0)}Xt.set("@protected",Bt["@protected"]||!1);for(const Ht in Bt)if(api$7.createTermDefinition({activeCtx:zt,localCtx:Bt,term:Ht,defined:Xt,options:it,overrideProtected:bt}),_isObject$3(Bt[Ht])&&"@context"in Bt[Ht]){const Qt=Bt[Ht]["@context"];let Zt=!0;if(_isString$3(Qt)){const nn=prependBase(it.base,Qt);wt.has(nn)?Zt=!1:wt.add(nn)}if(Zt)try{await api$7.process({activeCtx:zt.clone(),localCtx:Bt[Ht]["@context"],overrideProtected:!0,options:it,cycles:wt})}catch{throw new JsonLdError$6("Invalid JSON-LD syntax; invalid scoped context.","jsonld.SyntaxError",{code:"invalid scoped context",context:Bt[Ht]["@context"],term:Ht})}}$t.setProcessed(nt,{context:zt,events:Tt})}return zt};api$7.createTermDefinition=({activeCtx:nt,localCtx:rt,term:it,defined:st,options:bt,overrideProtected:wt=!1})=>{if(st.has(it)){if(st.get(it))return;throw new JsonLdError$6("Cyclical context definition detected.","jsonld.CyclicalContext",{code:"cyclic IRI mapping",context:rt,term:it})}st.set(it,!1);let Et;if(rt.hasOwnProperty(it)&&(Et=rt[it]),it==="@type"&&_isObject$3(Et)&&(Et["@container"]||"@set")==="@set"&&api$7.processingMode(nt,1.1)){const Bt=["@container","@id","@protected"],Yt=Object.keys(Et);if(Yt.length===0||Yt.some(Xt=>!Bt.includes(Xt)))throw new JsonLdError$6("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:rt,term:it})}else{if(api$7.isKeyword(it))throw new JsonLdError$6("Invalid JSON-LD syntax; keywords cannot be overridden.","jsonld.SyntaxError",{code:"keyword redefinition",context:rt,term:it});if(it.match(REGEX_KEYWORD$2)){bt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved term",level:"warning",message:'Terms beginning with "@" are reserved for future use and dropped.',details:{term:it}},options:bt});return}else if(it==="")throw new JsonLdError$6("Invalid JSON-LD syntax; a term cannot be an empty string.","jsonld.SyntaxError",{code:"invalid term definition",context:rt})}const Tt=nt.mappings.get(it);nt.mappings.has(it)&&nt.mappings.delete(it);let At=!1;if((_isString$3(Et)||Et===null)&&(At=!0,Et={"@id":Et}),!_isObject$3(Et))throw new JsonLdError$6("Invalid JSON-LD syntax; @context term values must be strings or objects.","jsonld.SyntaxError",{code:"invalid term definition",context:rt});const Dt={};nt.mappings.set(it,Dt),Dt.reverse=!1;const Ot=["@container","@id","@language","@reverse","@type"];api$7.processingMode(nt,1.1)&&Ot.push("@context","@direction","@index","@nest","@prefix","@protected");for(const Bt in Et)if(!Ot.includes(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; a term definition must not contain "+Bt,"jsonld.SyntaxError",{code:"invalid term definition",context:rt});const zt=it.indexOf(":");if(Dt._termHasColon=zt>0,"@reverse"in Et){if("@id"in Et)throw new JsonLdError$6("Invalid JSON-LD syntax; a @reverse term definition must not contain @id.","jsonld.SyntaxError",{code:"invalid reverse property",context:rt});if("@nest"in Et)throw new JsonLdError$6("Invalid JSON-LD syntax; a @reverse term definition must not contain @nest.","jsonld.SyntaxError",{code:"invalid reverse property",context:rt});const Bt=Et["@reverse"];if(!_isString$3(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; a @context @reverse value must be a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt});if(Bt.match(REGEX_KEYWORD$2)){bt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @reverse value",level:"warning",message:'@reverse values beginning with "@" are reserved for future use and dropped.',details:{reverse:Bt}},options:bt}),Tt?nt.mappings.set(it,Tt):nt.mappings.delete(it);return}const Yt=_expandIri$3(nt,Bt,{vocab:!0,base:!1},rt,st,bt);if(!_isAbsoluteIri$2(Yt))throw new JsonLdError$6("Invalid JSON-LD syntax; a @context @reverse value must be an absolute IRI or a blank node identifier.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt});Dt["@id"]=Yt,Dt.reverse=!0}else if("@id"in Et){let Bt=Et["@id"];if(Bt&&!_isString$3(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; a @context @id value must be an array of strings or a string.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt});if(Bt===null)Dt["@id"]=null;else if(!api$7.isKeyword(Bt)&&Bt.match(REGEX_KEYWORD$2)){bt.eventHandler&&_handleEvent$3({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:'@id values beginning with "@" are reserved for future use and dropped.',details:{id:Bt}},options:bt}),Tt?nt.mappings.set(it,Tt):nt.mappings.delete(it);return}else if(Bt!==it){if(Bt=_expandIri$3(nt,Bt,{vocab:!0,base:!1},rt,st,bt),!_isAbsoluteIri$2(Bt)&&!api$7.isKeyword(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; a @context @id value must be an absolute IRI, a blank node identifier, or a keyword.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt});if(it.match(/(?::[^:])|\//)){const Yt=new Map(st).set(it,!0);if(_expandIri$3(nt,it,{vocab:!0,base:!1},rt,Yt,bt)!==Bt)throw new JsonLdError$6("Invalid JSON-LD syntax; term in form of IRI must expand to definition.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt})}Dt["@id"]=Bt,Dt._prefix=At&&!Dt._termHasColon&&Bt.match(/[:\/\?#\[\]@]$/)}}if(!("@id"in Dt))if(Dt._termHasColon){const Bt=it.substr(0,zt);if(rt.hasOwnProperty(Bt)&&api$7.createTermDefinition({activeCtx:nt,localCtx:rt,term:Bt,defined:st,options:bt}),nt.mappings.has(Bt)){const Yt=it.substr(zt+1);Dt["@id"]=nt.mappings.get(Bt)["@id"]+Yt}else Dt["@id"]=it}else if(it==="@type")Dt["@id"]=it;else{if(!("@vocab"in nt))throw new JsonLdError$6("Invalid JSON-LD syntax; @context terms must define an @id.","jsonld.SyntaxError",{code:"invalid IRI mapping",context:rt,term:it});Dt["@id"]=nt["@vocab"]+it}if((Et["@protected"]===!0||st.get("@protected")===!0&&Et["@protected"]!==!1)&&(nt.protected[it]=!0,Dt.protected=!0),st.set(it,!0),"@type"in Et){let Bt=Et["@type"];if(!_isString$3(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; an @context @type value must be a string.","jsonld.SyntaxError",{code:"invalid type mapping",context:rt});if(Bt==="@json"||Bt==="@none"){if(api$7.processingMode(nt,1))throw new JsonLdError$6(`Invalid JSON-LD syntax; an @context @type value must not be "${Bt}" in JSON-LD 1.0 mode.`,"jsonld.SyntaxError",{code:"invalid type mapping",context:rt})}else if(Bt!=="@id"&&Bt!=="@vocab"){if(Bt=_expandIri$3(nt,Bt,{vocab:!0,base:!1},rt,st,bt),!_isAbsoluteIri$2(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; an @context @type value must be an absolute IRI.","jsonld.SyntaxError",{code:"invalid type mapping",context:rt});if(Bt.indexOf("_:")===0)throw new JsonLdError$6("Invalid JSON-LD syntax; an @context @type value must be an IRI, not a blank node identifier.","jsonld.SyntaxError",{code:"invalid type mapping",context:rt})}Dt["@type"]=Bt}if("@container"in Et){const Bt=_isString$3(Et["@container"])?[Et["@container"]]:Et["@container"]||[],Yt=["@list","@set","@index","@language"];let Xt=!0;const Ht=Bt.includes("@set");if(api$7.processingMode(nt,1.1)){if(Yt.push("@graph","@id","@type"),Bt.includes("@list")){if(Bt.length!==1)throw new JsonLdError$6("Invalid JSON-LD syntax; @context @container with @list must have no other values","jsonld.SyntaxError",{code:"invalid container mapping",context:rt})}else if(Bt.includes("@graph")){if(Bt.some(Qt=>Qt!=="@graph"&&Qt!=="@id"&&Qt!=="@index"&&Qt!=="@set"))throw new JsonLdError$6("Invalid JSON-LD syntax; @context @container with @graph must have no other values other than @id, @index, and @set","jsonld.SyntaxError",{code:"invalid container mapping",context:rt})}else Xt&=Bt.length<=(Ht?2:1);if(Bt.includes("@type")&&(Dt["@type"]=Dt["@type"]||"@id",!["@id","@vocab"].includes(Dt["@type"])))throw new JsonLdError$6("Invalid JSON-LD syntax; container: @type requires @type to be @id or @vocab.","jsonld.SyntaxError",{code:"invalid type mapping",context:rt})}else Xt&=!_isArray$3(Et["@container"]),Xt&=Bt.length<=1;if(Xt&=Bt.every(Qt=>Yt.includes(Qt)),Xt&=!(Ht&&Bt.includes("@list")),!Xt)throw new JsonLdError$6("Invalid JSON-LD syntax; @context @container value must be one of the following: "+Yt.join(", "),"jsonld.SyntaxError",{code:"invalid container mapping",context:rt});if(Dt.reverse&&!Bt.every(Qt=>["@index","@set"].includes(Qt)))throw new JsonLdError$6("Invalid JSON-LD syntax; @context @container value for a @reverse type definition must be @index or @set.","jsonld.SyntaxError",{code:"invalid reverse property",context:rt});Dt["@container"]=Bt}if("@index"in Et){if(!("@container"in Et)||!Dt["@container"].includes("@index"))throw new JsonLdError$6(`Invalid JSON-LD syntax; @index without @index in @container: "${Et["@index"]}" on term "${it}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:rt});if(!_isString$3(Et["@index"])||Et["@index"].indexOf("@")===0)throw new JsonLdError$6(`Invalid JSON-LD syntax; @index must expand to an IRI: "${Et["@index"]}" on term "${it}".`,"jsonld.SyntaxError",{code:"invalid term definition",context:rt});Dt["@index"]=Et["@index"]}if("@context"in Et&&(Dt["@context"]=Et["@context"]),"@language"in Et&&!("@type"in Et)){let Bt=Et["@language"];if(Bt!==null&&!_isString$3(Bt))throw new JsonLdError$6("Invalid JSON-LD syntax; @context @language value must be a string or null.","jsonld.SyntaxError",{code:"invalid language mapping",context:rt});Bt!==null&&(Bt=Bt.toLowerCase()),Dt["@language"]=Bt}if("@prefix"in Et){if(it.match(/:|\//))throw new JsonLdError$6("Invalid JSON-LD syntax; @context @prefix used on a compact IRI term","jsonld.SyntaxError",{code:"invalid term definition",context:rt});if(api$7.isKeyword(Dt["@id"]))throw new JsonLdError$6("Invalid JSON-LD syntax; keywords may not be used as prefixes","jsonld.SyntaxError",{code:"invalid term definition",context:rt});if(typeof Et["@prefix"]=="boolean")Dt._prefix=Et["@prefix"]===!0;else throw new JsonLdError$6("Invalid JSON-LD syntax; @context value for @prefix must be boolean","jsonld.SyntaxError",{code:"invalid @prefix value",context:rt})}if("@direction"in Et){const Bt=Et["@direction"];if(Bt!==null&&Bt!=="ltr"&&Bt!=="rtl")throw new JsonLdError$6('Invalid JSON-LD syntax; @direction value must be null, "ltr", or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",context:rt});Dt["@direction"]=Bt}if("@nest"in Et){const Bt=Et["@nest"];if(!_isString$3(Bt)||Bt!=="@nest"&&Bt.indexOf("@")===0)throw new JsonLdError$6("Invalid JSON-LD syntax; @context @nest value must be a string which is not a keyword other than @nest.","jsonld.SyntaxError",{code:"invalid @nest value",context:rt});Dt["@nest"]=Bt}// disallow aliasing @context and @preserve
const $t=Dt["@id"];if($t==="@context"||$t==="@preserve")throw new JsonLdError$6("Invalid JSON-LD syntax; @context and @preserve cannot be aliased.","jsonld.SyntaxError",{code:"invalid keyword alias",context:rt});if(Tt&&Tt.protected&&!wt&&(nt.protected[it]=!0,Dt.protected=!0,!_deepCompare(Tt,Dt)))throw new JsonLdError$6("Invalid JSON-LD syntax; tried to redefine a protected term.","jsonld.SyntaxError",{code:"protected term redefinition",context:rt,term:it})};api$7.expandIri=(nt,rt,it,st)=>_expandIri$3(nt,rt,it,void 0,void 0,st);function _expandIri$3(nt,rt,it,st,bt,wt){if(rt===null||!_isString$3(rt)||api$7.isKeyword(rt))return rt;if(rt.match(REGEX_KEYWORD$2))return null;if(st&&st.hasOwnProperty(rt)&&bt.get(rt)!==!0&&api$7.createTermDefinition({activeCtx:nt,localCtx:st,term:rt,defined:bt,options:wt}),it=it||{},it.vocab){const Tt=nt.mappings.get(rt);if(Tt===null)return null;if(_isObject$3(Tt)&&"@id"in Tt)return Tt["@id"]}const Et=rt.indexOf(":");if(Et>0){const Tt=rt.substr(0,Et),At=rt.substr(Et+1);if(Tt==="_"||At.indexOf("//")===0)return rt;st&&st.hasOwnProperty(Tt)&&api$7.createTermDefinition({activeCtx:nt,localCtx:st,term:Tt,defined:bt,options:wt});const Dt=nt.mappings.get(Tt);if(Dt&&Dt._prefix)return Dt["@id"]+At;if(_isAbsoluteIri$2(rt))return rt}if(it.vocab&&"@vocab"in nt)rt=nt["@vocab"]+rt;else if(it.base){let Tt,At;"@base"in nt?nt["@base"]?(At=prependBase(wt.base,nt["@base"]),Tt=prependBase(At,rt)):(At=nt["@base"],Tt=rt):(At=wt.base,Tt=prependBase(wt.base,rt)),rt=Tt}return rt}api$7.getInitialContext=nt=>{const rt=JSON.stringify({processingMode:nt.processingMode}),it=INITIAL_CONTEXT_CACHE.get(rt);if(it)return it;const st={processingMode:nt.processingMode,mappings:new Map,inverse:null,getInverse:bt,clone:Tt,revertToPreviousContext:At,protected:{}};return INITIAL_CONTEXT_CACHE.size===INITIAL_CONTEXT_CACHE_MAX_SIZE&&INITIAL_CONTEXT_CACHE.clear(),INITIAL_CONTEXT_CACHE.set(rt,st),st;function bt(){const Dt=this;if(Dt.inverse)return Dt.inverse;const Ot=Dt.inverse={},zt=Dt.fastCurieMap={},$t={},Bt=(Dt["@language"]||"@none").toLowerCase(),Yt=Dt["@direction"],Xt=Dt.mappings,Ht=[...Xt.keys()].sort(_compareShortestLeast$1);for(const Qt of Ht){const Zt=Xt.get(Qt);if(Zt===null)continue;let nn=Zt["@container"]||"@none";if(nn=[].concat(nn).sort().join(""),Zt["@id"]===null)continue;const Kt=_asArray$2(Zt["@id"]);for(const ln of Kt){let sn=Ot[ln];const bn=api$7.isKeyword(ln);if(sn)!bn&&!Zt._termHasColon&&$t[ln].push(Qt);else if(Ot[ln]=sn={},!bn&&!Zt._termHasColon){$t[ln]=[Qt];const wn={iri:ln,terms:$t[ln]};ln[0]in zt?zt[ln[0]].push(wn):zt[ln[0]]=[wn]}if(sn[nn]||(sn[nn]={"@language":{},"@type":{},"@any":{}}),sn=sn[nn],Et(Qt,sn["@any"],"@none"),Zt.reverse)Et(Qt,sn["@type"],"@reverse");else if(Zt["@type"]==="@none")Et(Qt,sn["@any"],"@none"),Et(Qt,sn["@language"],"@none"),Et(Qt,sn["@type"],"@none");else if("@type"in Zt)Et(Qt,sn["@type"],Zt["@type"]);else if("@language"in Zt&&"@direction"in Zt){const wn=Zt["@language"],Mn=Zt["@direction"];wn&&Mn?Et(Qt,sn["@language"],`${wn}_${Mn}`.toLowerCase()):wn?Et(Qt,sn["@language"],wn.toLowerCase()):Mn?Et(Qt,sn["@language"],`_${Mn}`):Et(Qt,sn["@language"],"@null")}else"@language"in Zt?Et(Qt,sn["@language"],(Zt["@language"]||"@null").toLowerCase()):"@direction"in Zt?Zt["@direction"]?Et(Qt,sn["@language"],`_${Zt["@direction"]}`):Et(Qt,sn["@language"],"@none"):Yt?(Et(Qt,sn["@language"],`_${Yt}`),Et(Qt,sn["@language"],"@none"),Et(Qt,sn["@type"],"@none")):(Et(Qt,sn["@language"],Bt),Et(Qt,sn["@language"],"@none"),Et(Qt,sn["@type"],"@none"))}}for(const Qt in zt)wt(zt,Qt,1);return Ot}function wt(Dt,Ot,zt){const $t=Dt[Ot],Bt=Dt[Ot]={};let Yt,Xt;for(const Ht of $t)Yt=Ht.iri,zt>=Yt.length?Xt="":Xt=Yt[zt],Xt in Bt?Bt[Xt].push(Ht):Bt[Xt]=[Ht];for(const Ht in Bt)Ht!==""&&wt(Bt,Ht,zt+1)}function Et(Dt,Ot,zt){Ot.hasOwnProperty(zt)||(Ot[zt]=Dt)}function Tt(){const Dt={};return Dt.mappings=util$4.clone(this.mappings),Dt.clone=this.clone,Dt.inverse=null,Dt.getInverse=this.getInverse,Dt.protected=util$4.clone(this.protected),this.previousContext&&(Dt.previousContext=this.previousContext.clone()),Dt.revertToPreviousContext=this.revertToPreviousContext,"@base"in this&&(Dt["@base"]=this["@base"]),"@language"in this&&(Dt["@language"]=this["@language"]),"@vocab"in this&&(Dt["@vocab"]=this["@vocab"]),Dt}function At(){return this.previousContext?this.previousContext.clone():this}};api$7.getContextValue=(nt,rt,it)=>{if(rt===null)return it==="@context"?void 0:null;if(nt.mappings.has(rt)){const st=nt.mappings.get(rt);if(_isUndefined$2(it))return st;if(st.hasOwnProperty(it))return st[it]}if(it==="@language"&&it in nt||it==="@direction"&&it in nt)return nt[it];if(it!=="@context")return null};api$7.processingMode=(nt,rt)=>rt.toString()>="1.1"?!nt.processingMode||nt.processingMode>="json-ld-"+rt.toString():nt.processingMode==="json-ld-1.0";api$7.isKeyword=nt=>{if(!_isString$3(nt)||nt[0]!=="@")return!1;switch(nt){case"@base":case"@container":case"@context":case"@default":case"@direction":case"@embed":case"@explicit":case"@graph":case"@id":case"@included":case"@index":case"@json":case"@language":case"@list":case"@nest":case"@none":case"@omitDefault":case"@prefix":case"@preserve":case"@protected":case"@requireAll":case"@reverse":case"@set":case"@type":case"@value":case"@version":case"@vocab":return!0}return!1};function _deepCompare(nt,rt){if(!(nt&&typeof nt=="object")||!(rt&&typeof rt=="object"))return nt===rt;const it=Array.isArray(nt);if(it!==Array.isArray(rt))return!1;if(it){if(nt.length!==rt.length)return!1;for(let wt=0;wt<nt.length;++wt)if(!_deepCompare(nt[wt],rt[wt]))return!1;return!0}const st=Object.keys(nt),bt=Object.keys(rt);if(st.length!==bt.length)return!1;for(const wt in nt){let Et=nt[wt],Tt=rt[wt];if(wt==="@container"&&Array.isArray(Et)&&Array.isArray(Tt)&&(Et=Et.slice().sort(),Tt=Tt.slice().sort()),!_deepCompare(Et,Tt))return!1}return!0}const JsonLdError$5=JsonLdError_1,{isArray:_isArray$2,isObject:_isObject$2,isEmptyObject:_isEmptyObject,isString:_isString$2,isUndefined:_isUndefined$1}=types$7,{isList:_isList$1,isValue:_isValue$1,isGraph:_isGraph$1,isSubject:_isSubject}=graphTypes$5,{expandIri:_expandIri$2,getContextValue:_getContextValue$1,isKeyword:_isKeyword$1,process:_processContext$2,processingMode:_processingMode$2}=context,{isAbsolute:_isAbsoluteIri$1}=url$1,{REGEX_BCP47:REGEX_BCP47$1,REGEX_KEYWORD:REGEX_KEYWORD$1,addValue:_addValue$2,asArray:_asArray$1,getValues:_getValues,validateTypeValue:_validateTypeValue}=util$5,{handleEvent:_handleEvent$2}=events,api$6={};var expand=api$6;api$6.expand=async({activeCtx:nt,activeProperty:rt=null,element:it,options:st={},insideList:bt=!1,insideIndex:wt=!1,typeScopedContext:Et=null})=>{if(it==null)return null;if(rt==="@default"&&(st=Object.assign({},st,{isFrame:!1})),!_isArray$2(it)&&!_isObject$2(it))return!bt&&(rt===null||_expandIri$2(nt,rt,{vocab:!0},st)==="@graph")?(st.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"free-floating scalar",level:"warning",message:"Dropping free-floating scalar not in a list.",details:{value:it}},options:st}),null):_expandValue({activeCtx:nt,activeProperty:rt,value:it,options:st});if(_isArray$2(it)){let Yt=[];const Xt=_getContextValue$1(nt,rt,"@container")||[];bt=bt||Xt.includes("@list");for(let Ht=0;Ht<it.length;++Ht){let Qt=await api$6.expand({activeCtx:nt,activeProperty:rt,element:it[Ht],options:st,insideIndex:wt,typeScopedContext:Et});bt&&_isArray$2(Qt)&&(Qt={"@list":Qt}),Qt!==null&&(_isArray$2(Qt)?Yt=Yt.concat(Qt):Yt.push(Qt))}return Yt}const Tt=_expandIri$2(nt,rt,{vocab:!0},st),At=_getContextValue$1(nt,rt,"@context");Et=Et||(nt.previousContext?nt:null);let Dt=Object.keys(it).sort(),Ot=!wt;if(Ot&&Et&&Dt.length<=2&&!Dt.includes("@context"))for(const Yt of Dt){const Xt=_expandIri$2(Et,Yt,{vocab:!0},st);if(Xt==="@value"){Ot=!1,nt=Et;break}if(Xt==="@id"&&Dt.length===1){Ot=!1;break}}Ot&&(nt=nt.revertToPreviousContext()),_isUndefined$1(At)||(nt=await _processContext$2({activeCtx:nt,localCtx:At,propagate:!0,overrideProtected:!0,options:st})),"@context"in it&&(nt=await _processContext$2({activeCtx:nt,localCtx:it["@context"],options:st})),Et=nt;let zt=null;for(const Yt of Dt)if(_expandIri$2(nt,Yt,{vocab:!0},st)==="@type"){zt=zt||Yt;const Ht=it[Yt],Qt=Array.isArray(Ht)?Ht.length>1?Ht.slice().sort():Ht:[Ht];for(const Zt of Qt){const nn=_getContextValue$1(Et,Zt,"@context");_isUndefined$1(nn)||(nt=await _processContext$2({activeCtx:nt,localCtx:nn,options:st,propagate:!1}))}}let $t={};await _expandObject({activeCtx:nt,activeProperty:rt,expandedActiveProperty:Tt,element:it,expandedParent:$t,options:st,insideList:bt,typeKey:zt,typeScopedContext:Et}),Dt=Object.keys($t);let Bt=Dt.length;if("@value"in $t){if("@type"in $t&&("@language"in $t||"@direction"in $t))throw new JsonLdError$5('Invalid JSON-LD syntax; an element containing "@value" may not contain both "@type" and either "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:$t});let Yt=Bt-1;if("@type"in $t&&(Yt-=1),"@index"in $t&&(Yt-=1),"@language"in $t&&(Yt-=1),"@direction"in $t&&(Yt-=1),Yt!==0)throw new JsonLdError$5('Invalid JSON-LD syntax; an element containing "@value" may only have an "@index" property and either "@type" or either or both "@language" or "@direction".',"jsonld.SyntaxError",{code:"invalid value object",element:$t});const Xt=$t["@value"]===null?[]:_asArray$1($t["@value"]),Ht=_getValues($t,"@type");if(!(_processingMode$2(nt,1.1)&&Ht.includes("@json")&&Ht.length===1))if(Xt.length===0)st.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"null @value value",level:"warning",message:"Dropping null @value value.",details:{value:$t}},options:st}),$t=null;else{if(!Xt.every(Qt=>_isString$2(Qt)||_isEmptyObject(Qt))&&"@language"in $t)throw new JsonLdError$5("Invalid JSON-LD syntax; only strings may be language-tagged.","jsonld.SyntaxError",{code:"invalid language-tagged value",element:$t});if(!Ht.every(Qt=>_isAbsoluteIri$1(Qt)&&!(_isString$2(Qt)&&Qt.indexOf("_:")===0)||_isEmptyObject(Qt)))throw new JsonLdError$5('Invalid JSON-LD syntax; an element containing "@value" and "@type" must have an absolute IRI for the value of "@type".',"jsonld.SyntaxError",{code:"invalid typed value",element:$t})}}else if("@type"in $t&&!_isArray$2($t["@type"]))$t["@type"]=[$t["@type"]];else if("@set"in $t||"@list"in $t){if(Bt>1&&!(Bt===2&&"@index"in $t))throw new JsonLdError$5('Invalid JSON-LD syntax; if an element has the property "@set" or "@list", then it can have at most one other property that is "@index".',"jsonld.SyntaxError",{code:"invalid set or list object",element:$t});"@set"in $t&&($t=$t["@set"],Dt=Object.keys($t),Bt=Dt.length)}else Bt===1&&"@language"in $t&&(st.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"object with only @language",level:"warning",message:"Dropping object with only @language.",details:{value:$t}},options:st}),$t=null);if(_isObject$2($t)&&!st.keepFreeFloatingNodes&&!bt&&(rt===null||Tt==="@graph")&&(Bt===0||"@value"in $t||"@list"in $t||Bt===1&&"@id"in $t)){if(st.eventHandler){let Yt,Xt;Bt===0?(Yt="empty object",Xt="Dropping empty object."):"@value"in $t?(Yt="object with only @value",Xt="Dropping object with only @value."):"@list"in $t?(Yt="object with only @list",Xt="Dropping object with only @list."):Bt===1&&"@id"in $t&&(Yt="object with only @id",Xt="Dropping object with only @id."),_handleEvent$2({event:{type:["JsonLdEvent"],code:Yt,level:"warning",message:Xt,details:{value:$t}},options:st})}$t=null}return $t};async function _expandObject({activeCtx:nt,activeProperty:rt,expandedActiveProperty:it,element:st,expandedParent:bt,options:wt={},insideList:Et,typeKey:Tt,typeScopedContext:At}){const Dt=Object.keys(st).sort(),Ot=[];let zt;const $t=st[Tt]&&_expandIri$2(nt,_isArray$2(st[Tt])?st[Tt][0]:st[Tt],{vocab:!0},{...wt,typeExpansion:!0})==="@json";for(const Bt of Dt){let Yt=st[Bt],Xt;if(Bt==="@context")continue;const Ht=_expandIri$2(nt,Bt,{vocab:!0},wt);if(Ht===null||!(_isAbsoluteIri$1(Ht)||_isKeyword$1(Ht))){wt.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid property",level:"warning",message:"Dropping property that did not expand into an absolute IRI or keyword.",details:{property:Bt,expandedProperty:Ht}},options:wt});continue}if(_isKeyword$1(Ht)){if(it==="@reverse")throw new JsonLdError$5("Invalid JSON-LD syntax; a keyword cannot be used as a @reverse property.","jsonld.SyntaxError",{code:"invalid reverse property map",value:Yt});if(Ht in bt&&Ht!=="@included"&&Ht!=="@type")throw new JsonLdError$5("Invalid JSON-LD syntax; colliding keywords detected.","jsonld.SyntaxError",{code:"colliding keywords",keyword:Ht})}if(Ht==="@id"){if(!_isString$2(Yt)){if(!wt.isFrame)throw new JsonLdError$5('Invalid JSON-LD syntax; "@id" value must a string.',"jsonld.SyntaxError",{code:"invalid @id value",value:Yt});if(_isObject$2(Yt)){if(!_isEmptyObject(Yt))throw new JsonLdError$5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Yt})}else if(_isArray$2(Yt)){if(!Yt.every(Kt=>_isString$2(Kt)))throw new JsonLdError$5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Yt})}else throw new JsonLdError$5('Invalid JSON-LD syntax; "@id" value an empty object or array of strings, if framing',"jsonld.SyntaxError",{code:"invalid @id value",value:Yt})}_addValue$2(bt,"@id",_asArray$1(Yt).map(Kt=>{if(_isString$2(Kt)){const ln=_expandIri$2(nt,Kt,{base:!0},wt);return wt.eventHandler&&(ln===null?_handleEvent$2(Kt===null?{event:{type:["JsonLdEvent"],code:"null @id value",level:"warning",message:"Null @id found.",details:{id:Kt}},options:wt}:{event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:Kt}},options:wt}):_isAbsoluteIri$1(ln)||_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @id reference",level:"warning",message:"Relative @id reference found.",details:{id:Kt,expandedId:ln}},options:wt})),ln}return Kt}),{propertyIsArray:wt.isFrame});continue}if(Ht==="@type"){_isObject$2(Yt)&&(Yt=Object.fromEntries(Object.entries(Yt).map(([Kt,ln])=>[_expandIri$2(At,Kt,{vocab:!0}),_asArray$1(ln).map(sn=>_expandIri$2(At,sn,{base:!0,vocab:!0},{...wt,typeExpansion:!0}))]))),_validateTypeValue(Yt,wt.isFrame),_addValue$2(bt,"@type",_asArray$1(Yt).map(Kt=>{if(_isString$2(Kt)){const ln=_expandIri$2(At,Kt,{base:!0,vocab:!0},{...wt,typeExpansion:!0});return ln!=="@json"&&!_isAbsoluteIri$1(ln)&&wt.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"relative @type reference",level:"warning",message:"Relative @type reference found.",details:{type:Kt}},options:wt}),ln}return Kt}),{propertyIsArray:wt.isFrame});continue}if(Ht==="@included"&&_processingMode$2(nt,1.1)){const Kt=_asArray$1(await api$6.expand({activeCtx:nt,activeProperty:rt,element:Yt,options:wt}));if(!Kt.every(ln=>_isSubject(ln)))throw new JsonLdError$5("Invalid JSON-LD syntax; values of @included must expand to node objects.","jsonld.SyntaxError",{code:"invalid @included value",value:Yt});_addValue$2(bt,"@included",Kt,{propertyIsArray:!0});continue}if(Ht==="@graph"&&!(_isObject$2(Yt)||_isArray$2(Yt)))throw new JsonLdError$5('Invalid JSON-LD syntax; "@graph" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid @graph value",value:Yt});if(Ht==="@value"){zt=Yt,$t&&_processingMode$2(nt,1.1)?bt["@value"]=Yt:_addValue$2(bt,"@value",Yt,{propertyIsArray:wt.isFrame});continue}if(Ht==="@language"){if(Yt===null)continue;if(!_isString$2(Yt)&&!wt.isFrame)throw new JsonLdError$5('Invalid JSON-LD syntax; "@language" value must be a string.',"jsonld.SyntaxError",{code:"invalid language-tagged string",value:Yt});Yt=_asArray$1(Yt).map(Kt=>_isString$2(Kt)?Kt.toLowerCase():Kt);for(const Kt of Yt)_isString$2(Kt)&&!Kt.match(REGEX_BCP47$1)&&wt.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Kt}},options:wt});_addValue$2(bt,"@language",Yt,{propertyIsArray:wt.isFrame});continue}if(Ht==="@direction"){if(!_isString$2(Yt)&&!wt.isFrame)throw new JsonLdError$5('Invalid JSON-LD syntax; "@direction" value must be a string.',"jsonld.SyntaxError",{code:"invalid base direction",value:Yt});Yt=_asArray$1(Yt);for(const Kt of Yt)if(_isString$2(Kt)&&Kt!=="ltr"&&Kt!=="rtl")throw new JsonLdError$5('Invalid JSON-LD syntax; "@direction" must be "ltr" or "rtl".',"jsonld.SyntaxError",{code:"invalid base direction",value:Yt});_addValue$2(bt,"@direction",Yt,{propertyIsArray:wt.isFrame});continue}if(Ht==="@index"){if(!_isString$2(Yt))throw new JsonLdError$5('Invalid JSON-LD syntax; "@index" value must be a string.',"jsonld.SyntaxError",{code:"invalid @index value",value:Yt});_addValue$2(bt,"@index",Yt);continue}if(Ht==="@reverse"){if(!_isObject$2(Yt))throw new JsonLdError$5('Invalid JSON-LD syntax; "@reverse" value must be an object.',"jsonld.SyntaxError",{code:"invalid @reverse value",value:Yt});if(Xt=await api$6.expand({activeCtx:nt,activeProperty:"@reverse",element:Yt,options:wt}),"@reverse"in Xt)for(const ln in Xt["@reverse"])_addValue$2(bt,ln,Xt["@reverse"][ln],{propertyIsArray:!0});let Kt=bt["@reverse"]||null;for(const ln in Xt){if(ln==="@reverse")continue;Kt===null&&(Kt=bt["@reverse"]={}),_addValue$2(Kt,ln,[],{propertyIsArray:!0});const sn=Xt[ln];for(let bn=0;bn<sn.length;++bn){const wn=sn[bn];if(_isValue$1(wn)||_isList$1(wn))throw new JsonLdError$5('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Xt});_addValue$2(Kt,ln,wn,{propertyIsArray:!0})}}continue}if(Ht==="@nest"){Ot.push(Bt);continue}let Qt=nt;const Zt=_getContextValue$1(nt,Bt,"@context");_isUndefined$1(Zt)||(Qt=await _processContext$2({activeCtx:nt,localCtx:Zt,propagate:!0,overrideProtected:!0,options:wt}));const nn=_getContextValue$1(Qt,Bt,"@container")||[];if(nn.includes("@language")&&_isObject$2(Yt)){const Kt=_getContextValue$1(Qt,Bt,"@direction");Xt=_expandLanguageMap(Qt,Yt,Kt,wt)}else if(nn.includes("@index")&&_isObject$2(Yt)){const Kt=nn.includes("@graph"),ln=_getContextValue$1(Qt,Bt,"@index")||"@index",sn=ln!=="@index"&&_expandIri$2(nt,ln,{vocab:!0},wt);Xt=await _expandIndexMap({activeCtx:Qt,options:wt,activeProperty:Bt,value:Yt,asGraph:Kt,indexKey:ln,propertyIndex:sn})}else if(nn.includes("@id")&&_isObject$2(Yt)){const Kt=nn.includes("@graph");Xt=await _expandIndexMap({activeCtx:Qt,options:wt,activeProperty:Bt,value:Yt,asGraph:Kt,indexKey:"@id"})}else if(nn.includes("@type")&&_isObject$2(Yt))Xt=await _expandIndexMap({activeCtx:Qt.revertToPreviousContext(),options:wt,activeProperty:Bt,value:Yt,asGraph:!1,indexKey:"@type"});else{const Kt=Ht==="@list";if(Kt||Ht==="@set"){let ln=rt;Kt&&it==="@graph"&&(ln=null),Xt=await api$6.expand({activeCtx:Qt,activeProperty:ln,element:Yt,options:wt,insideList:Kt})}else _getContextValue$1(nt,Bt,"@type")==="@json"?Xt={"@type":"@json","@value":Yt}:Xt=await api$6.expand({activeCtx:Qt,activeProperty:Bt,element:Yt,options:wt,insideList:!1})}if(!(Xt===null&&Ht!=="@value")){if(Ht!=="@list"&&!_isList$1(Xt)&&nn.includes("@list")&&(Xt={"@list":_asArray$1(Xt)}),nn.includes("@graph")&&!nn.some(Kt=>Kt==="@id"||Kt==="@index")&&(Xt=_asArray$1(Xt).map(Kt=>({"@graph":_asArray$1(Kt)}))),Qt.mappings.has(Bt)&&Qt.mappings.get(Bt).reverse){const Kt=bt["@reverse"]=bt["@reverse"]||{};Xt=_asArray$1(Xt);for(let ln=0;ln<Xt.length;++ln){const sn=Xt[ln];if(_isValue$1(sn)||_isList$1(sn))throw new JsonLdError$5('Invalid JSON-LD syntax; "@reverse" value must not be a @value or an @list.',"jsonld.SyntaxError",{code:"invalid reverse property value",value:Xt});_addValue$2(Kt,Ht,sn,{propertyIsArray:!0})}continue}_addValue$2(bt,Ht,Xt,{propertyIsArray:!0})}}if("@value"in bt&&!(bt["@type"]==="@json"&&_processingMode$2(nt,1.1))){if((_isObject$2(zt)||_isArray$2(zt))&&!wt.isFrame)throw new JsonLdError$5('Invalid JSON-LD syntax; "@value" value must not be an object or an array.',"jsonld.SyntaxError",{code:"invalid value object value",value:zt})}for(const Bt of Ot){const Yt=_isArray$2(st[Bt])?st[Bt]:[st[Bt]];for(const Xt of Yt){if(!_isObject$2(Xt)||Object.keys(Xt).some(Ht=>_expandIri$2(nt,Ht,{vocab:!0},wt)==="@value"))throw new JsonLdError$5("Invalid JSON-LD syntax; nested value must be a node object.","jsonld.SyntaxError",{code:"invalid @nest value",value:Xt});await _expandObject({activeCtx:nt,activeProperty:rt,expandedActiveProperty:it,element:Xt,expandedParent:bt,options:wt,insideList:Et,typeScopedContext:At,typeKey:Tt})}}}function _expandValue({activeCtx:nt,activeProperty:rt,value:it,options:st}){if(it==null)return null;const bt=_expandIri$2(nt,rt,{vocab:!0},st);if(bt==="@id")return _expandIri$2(nt,it,{base:!0},st);if(bt==="@type")return _expandIri$2(nt,it,{vocab:!0,base:!0},{...st,typeExpansion:!0});const wt=_getContextValue$1(nt,rt,"@type");if((wt==="@id"||bt==="@graph")&&_isString$2(it)){const Tt=_expandIri$2(nt,it,{base:!0},st);return Tt===null&&it.match(REGEX_KEYWORD$1)&&st.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"reserved @id value",level:"warning",message:"Reserved @id found.",details:{id:rt}},options:st}),{"@id":Tt}}if(wt==="@vocab"&&_isString$2(it))return{"@id":_expandIri$2(nt,it,{vocab:!0,base:!0},st)};if(_isKeyword$1(bt))return it;const Et={};if(wt&&!["@id","@vocab","@none"].includes(wt))Et["@type"]=wt;else if(_isString$2(it)){const Tt=_getContextValue$1(nt,rt,"@language");Tt!==null&&(Et["@language"]=Tt);const At=_getContextValue$1(nt,rt,"@direction");At!==null&&(Et["@direction"]=At)}return["boolean","number","string"].includes(typeof it)||(it=it.toString()),Et["@value"]=it,Et}function _expandLanguageMap(nt,rt,it,st){const bt=[],wt=Object.keys(rt).sort();for(const Et of wt){const Tt=_expandIri$2(nt,Et,{vocab:!0},st);let At=rt[Et];_isArray$2(At)||(At=[At]);for(const Dt of At){if(Dt===null)continue;if(!_isString$2(Dt))throw new JsonLdError$5("Invalid JSON-LD syntax; language map values must be strings.","jsonld.SyntaxError",{code:"invalid language map value",languageMap:rt});const Ot={"@value":Dt};Tt!=="@none"&&(Et.match(REGEX_BCP47$1)||st.eventHandler&&_handleEvent$2({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Et}},options:st}),Ot["@language"]=Et.toLowerCase()),it&&(Ot["@direction"]=it),bt.push(Ot)}}return bt}async function _expandIndexMap({activeCtx:nt,options:rt,activeProperty:it,value:st,asGraph:bt,indexKey:wt,propertyIndex:Et}){const Tt=[],At=Object.keys(st).sort(),Dt=wt==="@type";for(let Ot of At){if(Dt){const Bt=_getContextValue$1(nt,Ot,"@context");_isUndefined$1(Bt)||(nt=await _processContext$2({activeCtx:nt,localCtx:Bt,propagate:!1,options:rt}))}let zt=st[Ot];_isArray$2(zt)||(zt=[zt]),zt=await api$6.expand({activeCtx:nt,activeProperty:it,element:zt,options:rt,insideList:!1,insideIndex:!0});let $t;Et?Ot==="@none"?$t="@none":$t=_expandValue({activeCtx:nt,activeProperty:wt,value:Ot,options:rt}):$t=_expandIri$2(nt,Ot,{vocab:!0},rt),wt==="@id"?Ot=_expandIri$2(nt,Ot,{base:!0},rt):Dt&&(Ot=$t);for(let Bt of zt){if(bt&&!_isGraph$1(Bt)&&(Bt={"@graph":[Bt]}),wt==="@type")$t==="@none"||(Bt["@type"]?Bt["@type"]=[Ot].concat(Bt["@type"]):Bt["@type"]=[Ot]);else{if(_isValue$1(Bt)&&!["@language","@type","@index"].includes(wt))throw new JsonLdError$5(`Invalid JSON-LD syntax; Attempt to add illegal key to value object: "${wt}".`,"jsonld.SyntaxError",{code:"invalid value object",value:Bt});Et?$t!=="@none"&&_addValue$2(Bt,Et,$t,{propertyIsArray:!0,prependValue:!0}):$t!=="@none"&&!(wt in Bt)&&(Bt[wt]=Ot)}Tt.push(Bt)}}return Tt}const{isKeyword:isKeyword$2}=context,graphTypes$3=graphTypes$5,types$3=types$7,util$3=util$5,JsonLdError$4=JsonLdError_1,api$5={};var nodeMap=api$5;api$5.createMergedNodeMap=(nt,rt)=>{rt=rt||{};const it=rt.issuer||new util$3.IdentifierIssuer("_:b"),st={"@default":{}};return api$5.createNodeMap(nt,st,"@default",it),api$5.mergeNodeMaps(st)};api$5.createNodeMap=(nt,rt,it,st,bt,wt)=>{if(types$3.isArray(nt)){for(const Dt of nt)api$5.createNodeMap(Dt,rt,it,st,void 0,wt);return}if(!types$3.isObject(nt)){wt&&wt.push(nt);return}if(graphTypes$3.isValue(nt)){if("@type"in nt){let Dt=nt["@type"];Dt.indexOf("_:")===0&&(nt["@type"]=Dt=st.getId(Dt))}wt&&wt.push(nt);return}else if(wt&&graphTypes$3.isList(nt)){const Dt=[];api$5.createNodeMap(nt["@list"],rt,it,st,bt,Dt),wt.push({"@list":Dt});return}if("@type"in nt){const Dt=nt["@type"];for(const Ot of Dt)Ot.indexOf("_:")===0&&st.getId(Ot)}types$3.isUndefined(bt)&&(bt=graphTypes$3.isBlankNode(nt)?st.getId(nt["@id"]):nt["@id"]),wt&&wt.push({"@id":bt});const Et=rt[it],Tt=Et[bt]=Et[bt]||{};Tt["@id"]=bt;const At=Object.keys(nt).sort();for(let Dt of At){if(Dt==="@id")continue;if(Dt==="@reverse"){const zt={"@id":bt},$t=nt["@reverse"];for(const Bt in $t){const Yt=$t[Bt];for(const Xt of Yt){let Ht=Xt["@id"];graphTypes$3.isBlankNode(Xt)&&(Ht=st.getId(Ht)),api$5.createNodeMap(Xt,rt,it,st,Ht),util$3.addValue(Et[Ht],Bt,zt,{propertyIsArray:!0,allowDuplicate:!1})}}continue}if(Dt==="@graph"){bt in rt||(rt[bt]={}),api$5.createNodeMap(nt[Dt],rt,bt,st);continue}if(Dt==="@included"){api$5.createNodeMap(nt[Dt],rt,it,st);continue}if(Dt!=="@type"&&isKeyword$2(Dt)){if(Dt==="@index"&&Dt in Tt&&(nt[Dt]!==Tt[Dt]||nt[Dt]["@id"]!==Tt[Dt]["@id"]))throw new JsonLdError$4("Invalid JSON-LD syntax; conflicting @index property detected.","jsonld.SyntaxError",{code:"conflicting indexes",subject:Tt});Tt[Dt]=nt[Dt];continue}const Ot=nt[Dt];if(Dt.indexOf("_:")===0&&(Dt=st.getId(Dt)),Ot.length===0){util$3.addValue(Tt,Dt,[],{propertyIsArray:!0});continue}for(let zt of Ot)if(Dt==="@type"&&(zt=zt.indexOf("_:")===0?st.getId(zt):zt),graphTypes$3.isSubject(zt)||graphTypes$3.isSubjectReference(zt)){if("@id"in zt&&!zt["@id"])continue;const $t=graphTypes$3.isBlankNode(zt)?st.getId(zt["@id"]):zt["@id"];util$3.addValue(Tt,Dt,{"@id":$t},{propertyIsArray:!0,allowDuplicate:!1}),api$5.createNodeMap(zt,rt,it,st,$t)}else if(graphTypes$3.isValue(zt))util$3.addValue(Tt,Dt,zt,{propertyIsArray:!0,allowDuplicate:!1});else if(graphTypes$3.isList(zt)){const $t=[];api$5.createNodeMap(zt["@list"],rt,it,st,bt,$t),zt={"@list":$t},util$3.addValue(Tt,Dt,zt,{propertyIsArray:!0,allowDuplicate:!1})}else api$5.createNodeMap(zt,rt,it,st,bt),util$3.addValue(Tt,Dt,zt,{propertyIsArray:!0,allowDuplicate:!1})}};api$5.mergeNodeMapGraphs=nt=>{const rt={};for(const it of Object.keys(nt).sort())for(const st of Object.keys(nt[it]).sort()){const bt=nt[it][st];st in rt||(rt[st]={"@id":st});const wt=rt[st];for(const Et of Object.keys(bt).sort())if(isKeyword$2(Et)&&Et!=="@type")wt[Et]=util$3.clone(bt[Et]);else for(const Tt of bt[Et])util$3.addValue(wt,Et,util$3.clone(Tt),{propertyIsArray:!0,allowDuplicate:!1})}return rt};api$5.mergeNodeMaps=nt=>{const rt=nt["@default"],it=Object.keys(nt).sort();for(const st of it){if(st==="@default")continue;const bt=nt[st];let wt=rt[st];wt?"@graph"in wt||(wt["@graph"]=[]):rt[st]=wt={"@id":st,"@graph":[]};const Et=wt["@graph"];for(const Tt of Object.keys(bt).sort()){const At=bt[Tt];graphTypes$3.isSubjectReference(At)||Et.push(At)}}return rt};const{isSubjectReference:_isSubjectReference$2}=graphTypes$5,{createMergedNodeMap:_createMergedNodeMap$1}=nodeMap,api$4={};var flatten=api$4;api$4.flatten=nt=>{const rt=_createMergedNodeMap$1(nt),it=[],st=Object.keys(rt).sort();for(let bt=0;bt<st.length;++bt){const wt=rt[st[bt]];_isSubjectReference$2(wt)||it.push(wt)}return it};const JsonLdError$3=JsonLdError_1,graphTypes$2=graphTypes$5,types$2=types$7,{REGEX_BCP47,addValue:_addValue$1}=util$5,{handleEvent:_handleEvent$1}=events,{RDF_LIST,RDF_FIRST:RDF_FIRST$1,RDF_REST:RDF_REST$1,RDF_NIL:RDF_NIL$1,RDF_TYPE:RDF_TYPE$1,RDF_JSON_LITERAL:RDF_JSON_LITERAL$1,XSD_BOOLEAN:XSD_BOOLEAN$1,XSD_DOUBLE:XSD_DOUBLE$1,XSD_INTEGER:XSD_INTEGER$1,XSD_STRING:XSD_STRING$1}=constants,api$3={};var fromRdf=api$3;api$3.fromRDF=async(nt,rt)=>{const it={},st={"@default":it},bt={},{useRdfType:wt=!1,useNativeTypes:Et=!1,rdfDirection:Tt=null}=rt;for(const Ot of nt){const zt=Ot.graph.termType==="DefaultGraph"?"@default":Ot.graph.value;zt in st||(st[zt]={}),zt!=="@default"&&!(zt in it)&&(it[zt]={"@id":zt});const $t=st[zt],Bt=Ot.subject.value,Yt=Ot.predicate.value,Xt=Ot.object;Bt in $t||($t[Bt]={"@id":Bt});const Ht=$t[Bt],Qt=Xt.termType.endsWith("Node");if(Qt&&!(Xt.value in $t)&&($t[Xt.value]={"@id":Xt.value}),Yt===RDF_TYPE$1&&!wt&&Qt){_addValue$1(Ht,"@type",Xt.value,{propertyIsArray:!0});continue}const Zt=_RDFToObject(Xt,Et,Tt,rt);if(_addValue$1(Ht,Yt,Zt,{propertyIsArray:!0}),Qt)if(Xt.value===RDF_NIL$1){const nn=$t[Xt.value];"usages"in nn||(nn.usages=[]),nn.usages.push({node:Ht,property:Yt,value:Zt})}else Xt.value in bt?bt[Xt.value]=!1:bt[Xt.value]={node:Ht,property:Yt,value:Zt}}for(const Ot in st){const zt=st[Ot];if(!(RDF_NIL$1 in zt))continue;const $t=zt[RDF_NIL$1];if(!!$t.usages){for(let Bt of $t.usages){let Yt=Bt.node,Xt=Bt.property,Ht=Bt.value;const Qt=[],Zt=[];let nn=Object.keys(Yt).length;for(;Xt===RDF_REST$1&&types$2.isObject(bt[Yt["@id"]])&&types$2.isArray(Yt[RDF_FIRST$1])&&Yt[RDF_FIRST$1].length===1&&types$2.isArray(Yt[RDF_REST$1])&&Yt[RDF_REST$1].length===1&&(nn===3||nn===4&&types$2.isArray(Yt["@type"])&&Yt["@type"].length===1&&Yt["@type"][0]===RDF_LIST)&&(Qt.push(Yt[RDF_FIRST$1][0]),Zt.push(Yt["@id"]),Bt=bt[Yt["@id"]],Yt=Bt.node,Xt=Bt.property,Ht=Bt.value,nn=Object.keys(Yt).length,!!graphTypes$2.isBlankNode(Yt)););delete Ht["@id"],Ht["@list"]=Qt.reverse();for(const Kt of Zt)delete zt[Kt]}delete $t.usages}}const At=[],Dt=Object.keys(it).sort();for(const Ot of Dt){const zt=it[Ot];if(Ot in st){const $t=zt["@graph"]=[],Bt=st[Ot],Yt=Object.keys(Bt).sort();for(const Xt of Yt){const Ht=Bt[Xt];graphTypes$2.isSubjectReference(Ht)||$t.push(Ht)}}graphTypes$2.isSubjectReference(zt)||At.push(zt)}return At};function _RDFToObject(nt,rt,it,st){if(nt.termType.endsWith("Node"))return{"@id":nt.value};const bt={"@value":nt.value};if(nt.language)nt.language.match(REGEX_BCP47)||st.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:nt.language}},options:st}),bt["@language"]=nt.language;else{let wt=nt.datatype.value;if(wt||(wt=XSD_STRING$1),wt===RDF_JSON_LITERAL$1){wt="@json";try{bt["@value"]=JSON.parse(bt["@value"])}catch(Et){throw new JsonLdError$3("JSON literal could not be parsed.","jsonld.InvalidJsonLiteral",{code:"invalid JSON literal",value:bt["@value"],cause:Et})}}if(rt){if(wt===XSD_BOOLEAN$1)bt["@value"]==="true"?bt["@value"]=!0:bt["@value"]==="false"&&(bt["@value"]=!1);else if(types$2.isNumeric(bt["@value"]))if(wt===XSD_INTEGER$1){const Et=parseInt(bt["@value"],10);Et.toFixed(0)===bt["@value"]&&(bt["@value"]=Et)}else wt===XSD_DOUBLE$1&&(bt["@value"]=parseFloat(bt["@value"]));[XSD_BOOLEAN$1,XSD_INTEGER$1,XSD_DOUBLE$1,XSD_STRING$1].includes(wt)||(bt["@type"]=wt)}else if(it==="i18n-datatype"&&wt.startsWith("https://www.w3.org/ns/i18n#")){const[,Et,Tt]=wt.split(/[#_]/);Et.length>0&&(bt["@language"]=Et,Et.match(REGEX_BCP47)||st.eventHandler&&_handleEvent$1({event:{type:["JsonLdEvent"],code:"invalid @language value",level:"warning",message:"@language value must be valid BCP47.",details:{language:Et}},options:st})),bt["@direction"]=Tt}else wt!==XSD_STRING$1&&(bt["@type"]=wt)}return bt}var canonicalize=function nt(rt){return rt===null||typeof rt!="object"||rt.toJSON!=null?JSON.stringify(rt):Array.isArray(rt)?"["+rt.reduce((it,st,bt)=>{const wt=bt===0?"":",",Et=st===void 0||typeof st=="symbol"?null:st;return it+wt+nt(Et)},"")+"]":"{"+Object.keys(rt).sort().reduce((it,st,bt)=>{if(rt[st]===void 0||typeof rt[st]=="symbol")return it;const wt=it.length===0?"":",";return it+wt+nt(st)+":"+nt(rt[st])},"")+"}"};const{createNodeMap}=nodeMap,{isKeyword:isKeyword$1}=context,graphTypes$1=graphTypes$5,jsonCanonicalize=canonicalize,types$1=types$7,util$2=util$5,{handleEvent:_handleEvent}=events,{RDF_FIRST,RDF_REST,RDF_NIL,RDF_TYPE,RDF_JSON_LITERAL,RDF_LANGSTRING,XSD_BOOLEAN,XSD_DOUBLE,XSD_INTEGER,XSD_STRING}=constants,{isAbsolute:_isAbsoluteIri}=url$1,api$2={};var toRdf=api$2;api$2.toRDF=(nt,rt)=>{const it=new util$2.IdentifierIssuer("_:b"),st={"@default":{}};createNodeMap(nt,st,"@default",it);const bt=[],wt=Object.keys(st).sort();for(const Et of wt){let Tt;if(Et==="@default")Tt={termType:"DefaultGraph",value:""};else if(_isAbsoluteIri(Et))Et.startsWith("_:")?Tt={termType:"BlankNode"}:Tt={termType:"NamedNode"},Tt.value=Et;else{rt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative graph reference",level:"warning",message:"Relative graph reference found.",details:{graph:Et}},options:rt});continue}_graphToRDF(bt,st[Et],Tt,it,rt)}return bt};function _graphToRDF(nt,rt,it,st,bt){const wt=Object.keys(rt).sort();for(const Et of wt){const Tt=rt[Et],At=Object.keys(Tt).sort();for(let Dt of At){const Ot=Tt[Dt];if(Dt==="@type")Dt=RDF_TYPE;else if(isKeyword$1(Dt))continue;for(const zt of Ot){const $t={termType:Et.startsWith("_:")?"BlankNode":"NamedNode",value:Et};if(!_isAbsoluteIri(Et)){bt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative subject reference",level:"warning",message:"Relative subject reference found.",details:{subject:Et}},options:bt});continue}const Bt={termType:Dt.startsWith("_:")?"BlankNode":"NamedNode",value:Dt};if(!_isAbsoluteIri(Dt)){bt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative predicate reference",level:"warning",message:"Relative predicate reference found.",details:{predicate:Dt}},options:bt});continue}if(Bt.termType==="BlankNode"&&!bt.produceGeneralizedRdf){bt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"blank node predicate",level:"warning",message:"Dropping blank node predicate.",details:{property:st.getOldIds().find(Xt=>st.getId(Xt)===Dt)}},options:bt});continue}const Yt=_objectToRDF(zt,st,nt,it,bt.rdfDirection,bt);Yt&&nt.push({subject:$t,predicate:Bt,object:Yt,graph:it})}}}}function _listToRDF(nt,rt,it,st,bt,wt){const Et={termType:"NamedNode",value:RDF_FIRST},Tt={termType:"NamedNode",value:RDF_REST},At={termType:"NamedNode",value:RDF_NIL},Dt=nt.pop(),Ot=Dt?{termType:"BlankNode",value:rt.getId()}:At;let zt=Ot;for(const $t of nt){const Bt=_objectToRDF($t,rt,it,st,bt,wt),Yt={termType:"BlankNode",value:rt.getId()};it.push({subject:zt,predicate:Et,object:Bt,graph:st}),it.push({subject:zt,predicate:Tt,object:Yt,graph:st}),zt=Yt}if(Dt){const $t=_objectToRDF(Dt,rt,it,st,bt,wt);it.push({subject:zt,predicate:Et,object:$t,graph:st}),it.push({subject:zt,predicate:Tt,object:At,graph:st})}return Ot}function _objectToRDF(nt,rt,it,st,bt,wt){const Et={};if(graphTypes$1.isValue(nt)){Et.termType="Literal",Et.value=void 0,Et.datatype={termType:"NamedNode"};let Tt=nt["@value"];const At=nt["@type"]||null;if(At==="@json")Et.value=jsonCanonicalize(Tt),Et.datatype.value=RDF_JSON_LITERAL;else if(types$1.isBoolean(Tt))Et.value=Tt.toString(),Et.datatype.value=At||XSD_BOOLEAN;else if(types$1.isDouble(Tt)||At===XSD_DOUBLE)types$1.isDouble(Tt)||(Tt=parseFloat(Tt)),Et.value=Tt.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),Et.datatype.value=At||XSD_DOUBLE;else if(types$1.isNumber(Tt))Et.value=Tt.toFixed(0),Et.datatype.value=At||XSD_INTEGER;else if(bt==="i18n-datatype"&&"@direction"in nt){const Dt="https://www.w3.org/ns/i18n#"+(nt["@language"]||"")+`_${nt["@direction"]}`;Et.datatype.value=Dt,Et.value=Tt}else"@language"in nt?(Et.value=Tt,Et.datatype.value=At||RDF_LANGSTRING,Et.language=nt["@language"]):(Et.value=Tt,Et.datatype.value=At||XSD_STRING)}else if(graphTypes$1.isList(nt)){const Tt=_listToRDF(nt["@list"],rt,it,st,bt,wt);Et.termType=Tt.termType,Et.value=Tt.value}else{const Tt=types$1.isObject(nt)?nt["@id"]:nt;Et.termType=Tt.startsWith("_:")?"BlankNode":"NamedNode",Et.value=Tt}return Et.termType==="NamedNode"&&!_isAbsoluteIri(Et.value)?(wt.eventHandler&&_handleEvent({event:{type:["JsonLdEvent"],code:"relative object reference",level:"warning",message:"Relative object reference found.",details:{object:Et.value}},options:wt}),null):Et}const{isKeyword}=context,graphTypes=graphTypes$5,types=types$7,util$1=util$5,url=url$1,JsonLdError$2=JsonLdError_1,{createNodeMap:_createNodeMap$1,mergeNodeMapGraphs:_mergeNodeMapGraphs}=nodeMap,api$1={};var frame=api$1;api$1.frameMergedOrDefault=(nt,rt,it)=>{const st={options:it,embedded:!1,graph:"@default",graphMap:{"@default":{}},subjectStack:[],link:{},bnodeMap:{}},bt=new util$1.IdentifierIssuer("_:b");_createNodeMap$1(nt,st.graphMap,"@default",bt),it.merged&&(st.graphMap["@merged"]=_mergeNodeMapGraphs(st.graphMap),st.graph="@merged"),st.subjects=st.graphMap[st.graph];const wt=[];api$1.frame(st,Object.keys(st.subjects).sort(),rt,wt),it.pruneBlankNodeIdentifiers&&(it.bnodesToClear=Object.keys(st.bnodeMap).filter(Et=>st.bnodeMap[Et].length===1));// remove @preserve from results
return it.link={},_cleanupPreserve(wt,it)};api$1.frame=(nt,rt,it,st,bt=null)=>{_validateFrame(it),it=it[0];const wt=nt.options,Et={embed:_getFrameFlag(it,wt,"embed"),explicit:_getFrameFlag(it,wt,"explicit"),requireAll:_getFrameFlag(it,wt,"requireAll")};nt.link.hasOwnProperty(nt.graph)||(nt.link[nt.graph]={});const Tt=nt.link[nt.graph],At=_filterSubjects(nt,rt,it,Et),Dt=Object.keys(At).sort();for(const Ot of Dt){const zt=At[Ot];if(bt===null?nt.uniqueEmbeds={[nt.graph]:{}}:nt.uniqueEmbeds[nt.graph]=nt.uniqueEmbeds[nt.graph]||{},Et.embed==="@link"&&Ot in Tt){_addFrameOutput(st,bt,Tt[Ot]);continue}const $t={"@id":Ot};if(Ot.indexOf("_:")===0&&util$1.addValue(nt.bnodeMap,Ot,$t,{propertyIsArray:!0}),Tt[Ot]=$t,(Et.embed==="@first"||Et.embed==="@last")&&nt.is11)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:it});if(!(!nt.embedded&&nt.uniqueEmbeds[nt.graph].hasOwnProperty(Ot))){if(nt.embedded&&(Et.embed==="@never"||_createsCircularReference(zt,nt.graph,nt.subjectStack))){_addFrameOutput(st,bt,$t);continue}if(nt.embedded&&(Et.embed=="@first"||Et.embed=="@once")&&nt.uniqueEmbeds[nt.graph].hasOwnProperty(Ot)){_addFrameOutput(st,bt,$t);continue}if(Et.embed==="@last"&&Ot in nt.uniqueEmbeds[nt.graph]&&_removeEmbed(nt,Ot),nt.uniqueEmbeds[nt.graph][Ot]={parent:st,property:bt},nt.subjectStack.push({subject:zt,graph:nt.graph}),Ot in nt.graphMap){let Bt=!1,Yt=null;"@graph"in it?(Yt=it["@graph"][0],Bt=!(Ot==="@merged"||Ot==="@default"),types.isObject(Yt)||(Yt={})):(Bt=nt.graph!=="@merged",Yt={}),Bt&&api$1.frame({...nt,graph:Ot,embedded:!1},Object.keys(nt.graphMap[Ot]).sort(),[Yt],$t,"@graph")}"@included"in it&&api$1.frame({...nt,embedded:!1},rt,it["@included"],$t,"@included");for(const Bt of Object.keys(zt).sort()){if(isKeyword(Bt)){if($t[Bt]=util$1.clone(zt[Bt]),Bt==="@type")for(const Yt of zt["@type"])Yt.indexOf("_:")===0&&util$1.addValue(nt.bnodeMap,Yt,$t,{propertyIsArray:!0});continue}if(!(Et.explicit&&!(Bt in it)))for(const Yt of zt[Bt]){const Xt=Bt in it?it[Bt]:_createImplicitFrame(Et);if(graphTypes.isList(Yt)){const Ht=it[Bt]&&it[Bt][0]&&it[Bt][0]["@list"]?it[Bt][0]["@list"]:_createImplicitFrame(Et),Qt={"@list":[]};_addFrameOutput($t,Bt,Qt);const Zt=Yt["@list"];for(const nn of Zt)graphTypes.isSubjectReference(nn)?api$1.frame({...nt,embedded:!0},[nn["@id"]],Ht,Qt,"@list"):_addFrameOutput(Qt,"@list",util$1.clone(nn))}else graphTypes.isSubjectReference(Yt)?api$1.frame({...nt,embedded:!0},[Yt["@id"]],Xt,$t,Bt):_valueMatch(Xt[0],Yt)&&_addFrameOutput($t,Bt,util$1.clone(Yt))}}for(const Bt of Object.keys(it).sort()){if(Bt==="@type"){if(!types.isObject(it[Bt][0])||!("@default"in it[Bt][0]))continue}else if(isKeyword(Bt))continue;const Yt=it[Bt][0]||{};if(!_getFrameFlag(Yt,wt,"omitDefault")&&!(Bt in $t)){let Ht="@null";"@default"in Yt&&(Ht=util$1.clone(Yt["@default"])),types.isArray(Ht)||(Ht=[Ht]),$t[Bt]=[{"@preserve":Ht}]}}for(const Bt of Object.keys(it["@reverse"]||{}).sort()){const Yt=it["@reverse"][Bt];for(const Xt of Object.keys(nt.subjects))util$1.getValues(nt.subjects[Xt],Bt).some(Qt=>Qt["@id"]===Ot)&&($t["@reverse"]=$t["@reverse"]||{},util$1.addValue($t["@reverse"],Bt,[],{propertyIsArray:!0}),api$1.frame({...nt,embedded:!0},[Xt],Yt,$t["@reverse"][Bt],bt))}_addFrameOutput(st,bt,$t),nt.subjectStack.pop()}}};api$1.cleanupNull=(nt,rt)=>{if(types.isArray(nt))return nt.map(st=>api$1.cleanupNull(st,rt)).filter(st=>st);if(nt==="@null")return null;if(types.isObject(nt)){if("@id"in nt){const it=nt["@id"];if(rt.link.hasOwnProperty(it)){const st=rt.link[it].indexOf(nt);if(st!==-1)return rt.link[it][st];rt.link[it].push(nt)}else rt.link[it]=[nt]}for(const it in nt)nt[it]=api$1.cleanupNull(nt[it],rt)}return nt};function _createImplicitFrame(nt){const rt={};for(const it in nt)nt[it]!==void 0&&(rt["@"+it]=[nt[it]]);return[rt]}function _createsCircularReference(nt,rt,it){for(let st=it.length-1;st>=0;--st){const bt=it[st];if(bt.graph===rt&&bt.subject["@id"]===nt["@id"])return!0}return!1}function _getFrameFlag(nt,rt,it){const st="@"+it;let bt=st in nt?nt[st][0]:rt[it];if(it==="embed"){if(bt===!0)bt="@once";else if(bt===!1)bt="@never";else if(bt!=="@always"&&bt!=="@never"&&bt!=="@link"&&bt!=="@first"&&bt!=="@last"&&bt!=="@once")throw new JsonLdError$2("Invalid JSON-LD syntax; invalid value of @embed.","jsonld.SyntaxError",{code:"invalid @embed value",frame:nt})}return bt}function _validateFrame(nt){if(!types.isArray(nt)||nt.length!==1||!types.isObject(nt[0]))throw new JsonLdError$2("Invalid JSON-LD syntax; a JSON-LD frame must be a single object.","jsonld.SyntaxError",{frame:nt});if("@id"in nt[0]){for(const rt of util$1.asArray(nt[0]["@id"]))if(!(types.isObject(rt)||url.isAbsolute(rt))||types.isString(rt)&&rt.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @id in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:nt})}if("@type"in nt[0]){for(const rt of util$1.asArray(nt[0]["@type"]))if(!(types.isObject(rt)||url.isAbsolute(rt))||types.isString(rt)&&rt.indexOf("_:")===0)throw new JsonLdError$2("Invalid JSON-LD syntax; invalid @type in frame.","jsonld.SyntaxError",{code:"invalid frame",frame:nt})}}function _filterSubjects(nt,rt,it,st){const bt={};for(const wt of rt){const Et=nt.graphMap[nt.graph][wt];_filterSubject(nt,Et,it,st)&&(bt[wt]=Et)}return bt}function _filterSubject(nt,rt,it,st){let bt=!0,wt=!1;for(const Et in it){let Tt=!1;const At=util$1.getValues(rt,Et),Dt=util$1.getValues(it,Et).length===0;if(Et==="@id"){if(types.isEmptyObject(it["@id"][0]||{})?Tt=!0:it["@id"].length>=0&&(Tt=it["@id"].includes(At[0])),!st.requireAll)return Tt}else if(Et==="@type"){if(bt=!1,Dt){if(At.length>0)return!1;Tt=!0}else if(it["@type"].length===1&&types.isEmptyObject(it["@type"][0]))Tt=At.length>0;else for(const Ot of it["@type"])types.isObject(Ot)&&"@default"in Ot?Tt=!0:Tt=Tt||At.some(zt=>zt===Ot);if(!st.requireAll)return Tt}else{if(isKeyword(Et))continue;{const Ot=util$1.getValues(it,Et)[0];let zt=!1;if(Ot&&(_validateFrame([Ot]),zt="@default"in Ot),bt=!1,At.length===0&&zt)continue;if(At.length>0&&Dt)return!1;if(Ot===void 0){if(At.length>0)return!1;Tt=!0}else if(graphTypes.isList(Ot)){const $t=Ot["@list"][0];if(graphTypes.isList(At[0])){const Bt=At[0]["@list"];graphTypes.isValue($t)?Tt=Bt.some(Yt=>_valueMatch($t,Yt)):(graphTypes.isSubject($t)||graphTypes.isSubjectReference($t))&&(Tt=Bt.some(Yt=>_nodeMatch(nt,$t,Yt,st)))}}else graphTypes.isValue(Ot)?Tt=At.some($t=>_valueMatch(Ot,$t)):graphTypes.isSubjectReference(Ot)?Tt=At.some($t=>_nodeMatch(nt,Ot,$t,st)):types.isObject(Ot)?Tt=At.length>0:Tt=!1}}if(!Tt&&st.requireAll)return!1;wt=wt||Tt}return bt||wt}function _removeEmbed(nt,rt){const it=nt.uniqueEmbeds[nt.graph],st=it[rt],bt=st.parent,wt=st.property,Et={"@id":rt};if(types.isArray(bt)){for(let At=0;At<bt.length;++At)if(util$1.compareValues(bt[At],Et)){bt[At]=Et;break}}else{const At=types.isArray(bt[wt]);util$1.removeValue(bt,wt,Et,{propertyIsArray:At}),util$1.addValue(bt,wt,Et,{propertyIsArray:At})}const Tt=At=>{const Dt=Object.keys(it);for(const Ot of Dt)Ot in it&&types.isObject(it[Ot].parent)&&it[Ot].parent["@id"]===At&&(delete it[Ot],Tt(Ot))};Tt(rt)}/**
 * Removes the @preserve keywords from expanded result of framing.
 *
 * @param input the framed, framed output.
 * @param options the framing options used.
 *
 * @return the resulting output.
 */function _cleanupPreserve(nt,rt){if(types.isArray(nt))return nt.map(it=>_cleanupPreserve(it,rt));if(types.isObject(nt)){// remove @preserve
if("@preserve"in nt)return nt["@preserve"][0];if(graphTypes.isValue(nt))return nt;if(graphTypes.isList(nt))return nt["@list"]=_cleanupPreserve(nt["@list"],rt),nt;if("@id"in nt){const it=nt["@id"];if(rt.link.hasOwnProperty(it)){const st=rt.link[it].indexOf(nt);if(st!==-1)return rt.link[it][st];rt.link[it].push(nt)}else rt.link[it]=[nt]}for(const it in nt){if(it==="@id"&&rt.bnodesToClear.includes(nt[it])){delete nt["@id"];continue}nt[it]=_cleanupPreserve(nt[it],rt)}}return nt}function _addFrameOutput(nt,rt,it){types.isObject(nt)?util$1.addValue(nt,rt,it,{propertyIsArray:!0}):nt.push(it)}function _nodeMatch(nt,rt,it,st){if(!("@id"in it))return!1;const bt=nt.subjects[it["@id"]];return bt&&_filterSubject(nt,bt,rt,st)}function _valueMatch(nt,rt){const it=rt["@value"],st=rt["@type"],bt=rt["@language"],wt=nt["@value"]?types.isArray(nt["@value"])?nt["@value"]:[nt["@value"]]:[],Et=nt["@type"]?types.isArray(nt["@type"])?nt["@type"]:[nt["@type"]]:[],Tt=nt["@language"]?types.isArray(nt["@language"])?nt["@language"]:[nt["@language"]]:[];return wt.length===0&&Et.length===0&&Tt.length===0?!0:!(!(wt.includes(it)||types.isEmptyObject(wt[0]))||!(!st&&Et.length===0||Et.includes(st)||st&&types.isEmptyObject(Et[0]))||!(!bt&&Tt.length===0||Tt.includes(bt)||bt&&types.isEmptyObject(Tt[0])))}const JsonLdError$1=JsonLdError_1,{isArray:_isArray$1,isObject:_isObject$1,isString:_isString$1,isUndefined:_isUndefined}=types$7,{isList:_isList,isValue:_isValue,isGraph:_isGraph,isSimpleGraph:_isSimpleGraph,isSubjectReference:_isSubjectReference$1}=graphTypes$5,{expandIri:_expandIri$1,getContextValue:_getContextValue,isKeyword:_isKeyword,process:_processContext$1,processingMode:_processingMode$1}=context,{removeBase:_removeBase,prependBase:_prependBase}=url$1,{REGEX_KEYWORD,addValue:_addValue,asArray:_asArray,compareShortestLeast:_compareShortestLeast}=util$5,api={};var compact=api;api.compact=async({activeCtx:nt,activeProperty:rt=null,element:it,options:st={}})=>{if(_isArray$1(it)){let wt=[];for(let Et=0;Et<it.length;++Et){const Tt=await api.compact({activeCtx:nt,activeProperty:rt,element:it[Et],options:st});Tt!==null&&wt.push(Tt)}return st.compactArrays&&wt.length===1&&(_getContextValue(nt,rt,"@container")||[]).length===0&&(wt=wt[0]),wt}const bt=_getContextValue(nt,rt,"@context");if(_isUndefined(bt)||(nt=await _processContext$1({activeCtx:nt,localCtx:bt,propagate:!0,overrideProtected:!0,options:st})),_isObject$1(it)){if(st.link&&"@id"in it&&st.link.hasOwnProperty(it["@id"])){const $t=st.link[it["@id"]];for(let Bt=0;Bt<$t.length;++Bt)if($t[Bt].expanded===it)return $t[Bt].compacted}if(_isValue(it)||_isSubjectReference$1(it)){const $t=api.compactValue({activeCtx:nt,activeProperty:rt,value:it,options:st});return st.link&&_isSubjectReference$1(it)&&(st.link.hasOwnProperty(it["@id"])||(st.link[it["@id"]]=[]),st.link[it["@id"]].push({expanded:it,compacted:$t})),$t}if(_isList(it)&&(_getContextValue(nt,rt,"@container")||[]).includes("@list"))return api.compact({activeCtx:nt,activeProperty:rt,element:it["@list"],options:st});const wt=rt==="@reverse",Et={},Tt=nt;!_isValue(it)&&!_isSubjectReference$1(it)&&(nt=nt.revertToPreviousContext());const At=_getContextValue(Tt,rt,"@context");_isUndefined(At)||(nt=await _processContext$1({activeCtx:nt,localCtx:At,propagate:!0,overrideProtected:!0,options:st})),st.link&&"@id"in it&&(st.link.hasOwnProperty(it["@id"])||(st.link[it["@id"]]=[]),st.link[it["@id"]].push({expanded:it,compacted:Et}));let Dt=it["@type"]||[];Dt.length>1&&(Dt=Array.from(Dt).sort());const Ot=nt;for(const $t of Dt){const Bt=api.compactIri({activeCtx:Ot,iri:$t,relativeTo:{vocab:!0}}),Yt=_getContextValue(Tt,Bt,"@context");_isUndefined(Yt)||(nt=await _processContext$1({activeCtx:nt,localCtx:Yt,options:st,propagate:!1}))}const zt=Object.keys(it).sort();for(const $t of zt){const Bt=it[$t];if($t==="@id"){let Yt=_asArray(Bt).map(Ht=>api.compactIri({activeCtx:nt,iri:Ht,relativeTo:{vocab:!1},base:st.base}));Yt.length===1&&(Yt=Yt[0]);const Xt=api.compactIri({activeCtx:nt,iri:"@id",relativeTo:{vocab:!0}});Et[Xt]=Yt;continue}if($t==="@type"){let Yt=_asArray(Bt).map(nn=>api.compactIri({activeCtx:Tt,iri:nn,relativeTo:{vocab:!0}}));Yt.length===1&&(Yt=Yt[0]);const Xt=api.compactIri({activeCtx:nt,iri:"@type",relativeTo:{vocab:!0}}),Zt=(_getContextValue(nt,Xt,"@container")||[]).includes("@set")&&_processingMode$1(nt,1.1)||_isArray$1(Yt)&&Bt.length===0;_addValue(Et,Xt,Yt,{propertyIsArray:Zt});continue}if($t==="@reverse"){const Yt=await api.compact({activeCtx:nt,activeProperty:"@reverse",element:Bt,options:st});for(const Xt in Yt)if(nt.mappings.has(Xt)&&nt.mappings.get(Xt).reverse){const Ht=Yt[Xt],Zt=(_getContextValue(nt,Xt,"@container")||[]).includes("@set")||!st.compactArrays;_addValue(Et,Xt,Ht,{propertyIsArray:Zt}),delete Yt[Xt]}if(Object.keys(Yt).length>0){const Xt=api.compactIri({activeCtx:nt,iri:$t,relativeTo:{vocab:!0}});_addValue(Et,Xt,Yt)}continue}if($t==="@preserve"){const Yt=await api.compact({activeCtx:nt,activeProperty:rt,element:Bt,options:st});_isArray$1(Yt)&&Yt.length===0||_addValue(Et,$t,Yt);continue}if($t==="@index"){if((_getContextValue(nt,rt,"@container")||[]).includes("@index"))continue;const Xt=api.compactIri({activeCtx:nt,iri:$t,relativeTo:{vocab:!0}});_addValue(Et,Xt,Bt);continue}if($t!=="@graph"&&$t!=="@list"&&$t!=="@included"&&_isKeyword($t)){const Yt=api.compactIri({activeCtx:nt,iri:$t,relativeTo:{vocab:!0}});_addValue(Et,Yt,Bt);continue}if(!_isArray$1(Bt))throw new JsonLdError$1("JSON-LD expansion error; expanded value must be an array.","jsonld.SyntaxError");if(Bt.length===0){const Yt=api.compactIri({activeCtx:nt,iri:$t,value:Bt,relativeTo:{vocab:!0},reverse:wt}),Xt=nt.mappings.has(Yt)?nt.mappings.get(Yt)["@nest"]:null;let Ht=Et;Xt&&(_checkNestProperty(nt,Xt,st),_isObject$1(Et[Xt])||(Et[Xt]={}),Ht=Et[Xt]),_addValue(Ht,Yt,Bt,{propertyIsArray:!0})}for(const Yt of Bt){const Xt=api.compactIri({activeCtx:nt,iri:$t,value:Yt,relativeTo:{vocab:!0},reverse:wt}),Ht=nt.mappings.has(Xt)?nt.mappings.get(Xt)["@nest"]:null;let Qt=Et;Ht&&(_checkNestProperty(nt,Ht,st),_isObject$1(Et[Ht])||(Et[Ht]={}),Qt=Et[Ht]);const Zt=_getContextValue(nt,Xt,"@container")||[],nn=_isGraph(Yt),Kt=_isList(Yt);let ln;Kt?ln=Yt["@list"]:nn&&(ln=Yt["@graph"]);let sn=await api.compact({activeCtx:nt,activeProperty:Xt,element:Kt||nn?ln:Yt,options:st});if(Kt)if(_isArray$1(sn)||(sn=[sn]),!Zt.includes("@list"))sn={[api.compactIri({activeCtx:nt,iri:"@list",relativeTo:{vocab:!0}})]:sn},"@index"in Yt&&(sn[api.compactIri({activeCtx:nt,iri:"@index",relativeTo:{vocab:!0}})]=Yt["@index"]);else{_addValue(Qt,Xt,sn,{valueIsArray:!0,allowDuplicate:!0});continue}if(nn)if(Zt.includes("@graph")&&(Zt.includes("@id")||Zt.includes("@index")&&_isSimpleGraph(Yt))){let bn;Qt.hasOwnProperty(Xt)?bn=Qt[Xt]:Qt[Xt]=bn={};const wn=(Zt.includes("@id")?Yt["@id"]:Yt["@index"])||api.compactIri({activeCtx:nt,iri:"@none",relativeTo:{vocab:!0}});_addValue(bn,wn,sn,{propertyIsArray:!st.compactArrays||Zt.includes("@set")})}else Zt.includes("@graph")&&_isSimpleGraph(Yt)?(_isArray$1(sn)&&sn.length>1&&(sn={"@included":sn}),_addValue(Qt,Xt,sn,{propertyIsArray:!st.compactArrays||Zt.includes("@set")})):(_isArray$1(sn)&&sn.length===1&&st.compactArrays&&(sn=sn[0]),sn={[api.compactIri({activeCtx:nt,iri:"@graph",relativeTo:{vocab:!0}})]:sn},"@id"in Yt&&(sn[api.compactIri({activeCtx:nt,iri:"@id",relativeTo:{vocab:!0}})]=Yt["@id"]),"@index"in Yt&&(sn[api.compactIri({activeCtx:nt,iri:"@index",relativeTo:{vocab:!0}})]=Yt["@index"]),_addValue(Qt,Xt,sn,{propertyIsArray:!st.compactArrays||Zt.includes("@set")}));else if(Zt.includes("@language")||Zt.includes("@index")||Zt.includes("@id")||Zt.includes("@type")){let bn;Qt.hasOwnProperty(Xt)?bn=Qt[Xt]:Qt[Xt]=bn={};let wn;if(Zt.includes("@language"))_isValue(sn)&&(sn=sn["@value"]),wn=Yt["@language"];else if(Zt.includes("@index")){const Mn=_getContextValue(nt,Xt,"@index")||"@index",Sn=api.compactIri({activeCtx:nt,iri:Mn,relativeTo:{vocab:!0}});if(Mn==="@index")wn=Yt["@index"],delete sn[Sn];else{let Dn;if([wn,...Dn]=_asArray(sn[Mn]||[]),!_isString$1(wn))wn=null;else switch(Dn.length){case 0:delete sn[Mn];break;case 1:sn[Mn]=Dn[0];break;default:sn[Mn]=Dn;break}}}else if(Zt.includes("@id")){const Mn=api.compactIri({activeCtx:nt,iri:"@id",relativeTo:{vocab:!0}});wn=sn[Mn],delete sn[Mn]}else if(Zt.includes("@type")){const Mn=api.compactIri({activeCtx:nt,iri:"@type",relativeTo:{vocab:!0}});let Sn;switch([wn,...Sn]=_asArray(sn[Mn]||[]),Sn.length){case 0:delete sn[Mn];break;case 1:sn[Mn]=Sn[0];break;default:sn[Mn]=Sn;break}Object.keys(sn).length===1&&"@id"in Yt&&(sn=await api.compact({activeCtx:nt,activeProperty:Xt,element:{"@id":Yt["@id"]},options:st}))}wn||(wn=api.compactIri({activeCtx:nt,iri:"@none",relativeTo:{vocab:!0}})),_addValue(bn,wn,sn,{propertyIsArray:Zt.includes("@set")})}else{const bn=!st.compactArrays||Zt.includes("@set")||Zt.includes("@list")||_isArray$1(sn)&&sn.length===0||$t==="@list"||$t==="@graph";_addValue(Qt,Xt,sn,{propertyIsArray:bn})}}}return Et}return it};api.compactIri=({activeCtx:nt,iri:rt,value:it=null,relativeTo:st={vocab:!1},reverse:bt=!1,base:wt=null})=>{if(rt===null)return rt;nt.isPropertyTermScoped&&nt.previousContext&&(nt=nt.previousContext);const Et=nt.getInverse();if(_isKeyword(rt)&&rt in Et&&"@none"in Et[rt]&&"@type"in Et[rt]["@none"]&&"@none"in Et[rt]["@none"]["@type"])return Et[rt]["@none"]["@type"]["@none"];if(st.vocab&&rt in Et){const zt=nt["@language"]||"@none",$t=[];_isObject$1(it)&&"@index"in it&&!("@graph"in it)&&$t.push("@index","@index@set"),_isObject$1(it)&&"@preserve"in it&&(it=it["@preserve"][0]),_isGraph(it)?("@index"in it&&$t.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in it&&$t.push("@graph@id","@graph@id@set"),$t.push("@graph","@graph@set","@set"),"@index"in it||$t.push("@graph@index","@graph@index@set","@index","@index@set"),"@id"in it||$t.push("@graph@id","@graph@id@set")):_isObject$1(it)&&!_isValue(it)&&$t.push("@id","@id@set","@type","@set@type");let Bt="@language",Yt="@null";if(bt)Bt="@type",Yt="@reverse",$t.push("@set");else if(_isList(it)){"@index"in it||$t.push("@list");const Ht=it["@list"];if(Ht.length===0)Bt="@any",Yt="@none";else{let Qt=Ht.length===0?zt:null,Zt=null;for(let nn=0;nn<Ht.length;++nn){const Kt=Ht[nn];let ln="@none",sn="@none";if(_isValue(Kt))if("@direction"in Kt){const bn=(Kt["@language"]||"").toLowerCase(),wn=Kt["@direction"];ln=`${bn}_${wn}`}else"@language"in Kt?ln=Kt["@language"].toLowerCase():"@type"in Kt?sn=Kt["@type"]:ln="@null";else sn="@id";if(Qt===null?Qt=ln:ln!==Qt&&_isValue(Kt)&&(Qt="@none"),Zt===null?Zt=sn:sn!==Zt&&(Zt="@none"),Qt==="@none"&&Zt==="@none")break}Qt=Qt||"@none",Zt=Zt||"@none",Zt!=="@none"?(Bt="@type",Yt=Zt):Yt=Qt}}else{if(_isValue(it))if("@language"in it&&!("@index"in it)){$t.push("@language","@language@set"),Yt=it["@language"];const Ht=it["@direction"];Ht&&(Yt=`${Yt}_${Ht}`)}else"@direction"in it&&!("@index"in it)?Yt=`_${it["@direction"]}`:"@type"in it&&(Bt="@type",Yt=it["@type"]);else Bt="@type",Yt="@id";$t.push("@set")}$t.push("@none"),_isObject$1(it)&&!("@index"in it)&&$t.push("@index","@index@set"),_isValue(it)&&Object.keys(it).length===1&&$t.push("@language","@language@set");const Xt=_selectTerm(nt,rt,it,$t,Bt,Yt);if(Xt!==null)return Xt}if(st.vocab&&"@vocab"in nt){const zt=nt["@vocab"];if(rt.indexOf(zt)===0&&rt!==zt){const $t=rt.substr(zt.length);if(!nt.mappings.has($t))return $t}}let Tt=null;const At=[];let Dt=nt.fastCurieMap;const Ot=rt.length-1;for(let zt=0;zt<Ot&&rt[zt]in Dt;++zt)Dt=Dt[rt[zt]],""in Dt&&At.push(Dt[""][0]);for(let zt=At.length-1;zt>=0;--zt){const $t=At[zt],Bt=$t.terms;for(const Yt of Bt){const Xt=Yt+":"+rt.substr($t.iri.length);nt.mappings.get(Yt)._prefix&&(!nt.mappings.has(Xt)||it===null&&nt.mappings.get(Xt)["@id"]===rt)&&(Tt===null||_compareShortestLeast(Xt,Tt)<0)&&(Tt=Xt)}}if(Tt!==null)return Tt;for(const[zt,$t]of nt.mappings)if($t&&$t._prefix&&rt.startsWith(zt+":"))throw new JsonLdError$1(`Absolute IRI "${rt}" confused with prefix "${zt}".`,"jsonld.SyntaxError",{code:"IRI confused with prefix",context:nt});if(!st.vocab)if("@base"in nt)if(nt["@base"]){const zt=_removeBase(_prependBase(wt,nt["@base"]),rt);return REGEX_KEYWORD.test(zt)?`./${zt}`:zt}else return rt;else return _removeBase(wt,rt);return rt};api.compactValue=({activeCtx:nt,activeProperty:rt,value:it,options:st})=>{if(_isValue(it)){const Tt=_getContextValue(nt,rt,"@type"),At=_getContextValue(nt,rt,"@language"),Dt=_getContextValue(nt,rt,"@direction"),Ot=_getContextValue(nt,rt,"@container")||[],zt="@index"in it&&!Ot.includes("@index");if(!zt&&Tt!=="@none"&&(it["@type"]===Tt||"@language"in it&&it["@language"]===At&&"@direction"in it&&it["@direction"]===Dt||"@language"in it&&it["@language"]===At||"@direction"in it&&it["@direction"]===Dt))return it["@value"];const $t=Object.keys(it).length,Bt=$t===1||$t===2&&"@index"in it&&!zt,Yt="@language"in nt,Xt=_isString$1(it["@value"]),Ht=nt.mappings.has(rt)&&nt.mappings.get(rt)["@language"]===null;if(Bt&&Tt!=="@none"&&(!Yt||!Xt||Ht))return it["@value"];const Qt={};return zt&&(Qt[api.compactIri({activeCtx:nt,iri:"@index",relativeTo:{vocab:!0}})]=it["@index"]),"@type"in it?Qt[api.compactIri({activeCtx:nt,iri:"@type",relativeTo:{vocab:!0}})]=api.compactIri({activeCtx:nt,iri:it["@type"],relativeTo:{vocab:!0}}):"@language"in it&&(Qt[api.compactIri({activeCtx:nt,iri:"@language",relativeTo:{vocab:!0}})]=it["@language"]),"@direction"in it&&(Qt[api.compactIri({activeCtx:nt,iri:"@direction",relativeTo:{vocab:!0}})]=it["@direction"]),Qt[api.compactIri({activeCtx:nt,iri:"@value",relativeTo:{vocab:!0}})]=it["@value"],Qt}const bt=_expandIri$1(nt,rt,{vocab:!0},st),wt=_getContextValue(nt,rt,"@type"),Et=api.compactIri({activeCtx:nt,iri:it["@id"],relativeTo:{vocab:wt==="@vocab"},base:st.base});return wt==="@id"||wt==="@vocab"||bt==="@graph"?Et:{[api.compactIri({activeCtx:nt,iri:"@id",relativeTo:{vocab:!0}})]:Et}};function _selectTerm(nt,rt,it,st,bt,wt){wt===null&&(wt="@null");const Et=[];if((wt==="@id"||wt==="@reverse")&&_isObject$1(it)&&"@id"in it){wt==="@reverse"&&Et.push("@reverse");const At=api.compactIri({activeCtx:nt,iri:it["@id"],relativeTo:{vocab:!0}});nt.mappings.has(At)&&nt.mappings.get(At)&&nt.mappings.get(At)["@id"]===it["@id"]?Et.push.apply(Et,["@vocab","@id"]):Et.push.apply(Et,["@id","@vocab"])}else{Et.push(wt);const At=Et.find(Dt=>Dt.includes("_"));At&&Et.push(At.replace(/^[^_]+_/,"_"))}Et.push("@none");const Tt=nt.inverse[rt];for(const At of st){if(!(At in Tt))continue;const Dt=Tt[At][bt];for(const Ot of Et)if(Ot in Dt)return Dt[Ot]}return null}function _checkNestProperty(nt,rt,it){if(_expandIri$1(nt,rt,{vocab:!0},it)!=="@nest")throw new JsonLdError$1("JSON-LD compact error; nested property must have an @nest value resolving to @nest.","jsonld.SyntaxError",{code:"invalid @nest value"})}var JsonLdProcessor,hasRequiredJsonLdProcessor;function requireJsonLdProcessor(){return hasRequiredJsonLdProcessor||(hasRequiredJsonLdProcessor=1,JsonLdProcessor=nt=>{class rt{toString(){return"[object JsonLdProcessor]"}}return Object.defineProperty(rt,"prototype",{writable:!1,enumerable:!1}),Object.defineProperty(rt.prototype,"constructor",{writable:!0,enumerable:!1,configurable:!0,value:rt}),rt.compact=function(it,st){return arguments.length<2?Promise.reject(new TypeError("Could not compact, too few arguments.")):nt.compact(it,st)},rt.expand=function(it){return arguments.length<1?Promise.reject(new TypeError("Could not expand, too few arguments.")):nt.expand(it)},rt.flatten=function(it){return arguments.length<1?Promise.reject(new TypeError("Could not flatten, too few arguments.")):nt.flatten(it)},rt}),JsonLdProcessor}/**
 * A JavaScript implementation of the JSON-LD API.
 *
 * @author Dave Longley
 *
 * @license BSD 3-Clause License
 * Copyright (c) 2011-2022 Digital Bazaar, Inc.
 * All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions are met:
 *
 * Redistributions of source code must retain the above copyright notice,
 * this list of conditions and the following disclaimer.
 *
 * Redistributions in binary form must reproduce the above copyright
 * notice, this list of conditions and the following disclaimer in the
 * documentation and/or other materials provided with the distribution.
 *
 * Neither the name of the Digital Bazaar, Inc. nor the names of its
 * contributors may be used to endorse or promote products derived from
 * this software without specific prior written permission.
 *
 * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
 * IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED
 * TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A
 * PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 * HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
 * TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 * LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
 * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */const canonize=rdfCanonize.exports,platform=platformBrowser,util=util$5,ContextResolver=ContextResolver_1,IdentifierIssuer=util.IdentifierIssuer,JsonLdError=JsonLdError_1,LRU=lruCache,NQuads=NQuads$1,{expand:_expand}=expand,{flatten:_flatten}=flatten,{fromRDF:_fromRDF}=fromRdf,{toRDF:_toRDF}=toRdf,{frameMergedOrDefault:_frameMergedOrDefault,cleanupNull:_cleanupNull}=frame,{isArray:_isArray,isObject:_isObject,isString:_isString}=types$7,{isSubjectReference:_isSubjectReference}=graphTypes$5,{expandIri:_expandIri,getInitialContext:_getInitialContext,process:_processContext,processingMode:_processingMode}=context,{compact:_compact,compactIri:_compactIri}=compact,{createNodeMap:_createNodeMap,createMergedNodeMap:_createMergedNodeMap,mergeNodeMaps:_mergeNodeMaps}=nodeMap,{logEventHandler:_logEventHandler,logWarningEventHandler:_logWarningEventHandler,safeEventHandler:_safeEventHandler,setDefaultEventHandler:_setDefaultEventHandler,setupEventHandler:_setupEventHandler,strictEventHandler:_strictEventHandler,unhandledEventHandler:_unhandledEventHandler}=events,wrapper=function(nt){const rt={},st=new LRU({max:100});nt.compact=async function(wt,Et,Tt){if(arguments.length<2)throw new TypeError("Could not compact, too few arguments.");if(Et===null)throw new JsonLdError("The compaction context must not be null.","jsonld.CompactError",{code:"invalid local context"});if(wt===null)return null;Tt=bt(Tt,{base:_isString(wt)?wt:"",compactArrays:!0,compactToRelative:!0,graph:!1,skipExpansion:!1,link:!1,issuer:new IdentifierIssuer("_:b"),contextResolver:new ContextResolver({sharedCache:st})}),Tt.link&&(Tt.skipExpansion=!0),Tt.compactToRelative||delete Tt.base;let At;Tt.skipExpansion?At=wt:At=await nt.expand(wt,Tt);const Dt=await nt.processContext(_getInitialContext(Tt),Et,Tt);let Ot=await _compact({activeCtx:Dt,element:At,options:Tt});Tt.compactArrays&&!Tt.graph&&_isArray(Ot)?Ot.length===1?Ot=Ot[0]:Ot.length===0&&(Ot={}):Tt.graph&&_isObject(Ot)&&(Ot=[Ot]),_isObject(Et)&&"@context"in Et&&(Et=Et["@context"]),Et=util.clone(Et),_isArray(Et)||(Et=[Et]);const zt=Et;Et=[];for(let Bt=0;Bt<zt.length;++Bt)(!_isObject(zt[Bt])||Object.keys(zt[Bt]).length>0)&&Et.push(zt[Bt]);const $t=Et.length>0;if(Et.length===1&&(Et=Et[0]),_isArray(Ot)){const Bt=_compactIri({activeCtx:Dt,iri:"@graph",relativeTo:{vocab:!0}}),Yt=Ot;Ot={},$t&&(Ot["@context"]=Et),Ot[Bt]=Yt}else if(_isObject(Ot)&&$t){const Bt=Ot;Ot={"@context":Et};for(const Yt in Bt)Ot[Yt]=Bt[Yt]}return Ot},nt.expand=async function(wt,Et){if(arguments.length<1)throw new TypeError("Could not expand, too few arguments.");Et=bt(Et,{keepFreeFloatingNodes:!1,contextResolver:new ContextResolver({sharedCache:st})});const Tt={},At=[];if("expandContext"in Et){const $t=util.clone(Et.expandContext);_isObject($t)&&"@context"in $t?Tt.expandContext=$t:Tt.expandContext={"@context":$t},At.push(Tt.expandContext)}let Dt;if(!_isString(wt))Tt.input=util.clone(wt);else{const $t=await nt.get(wt,Et);Dt=$t.documentUrl,Tt.input=$t.document,$t.contextUrl&&(Tt.remoteContext={"@context":$t.contextUrl},At.push(Tt.remoteContext))}"base"in Et||(Et.base=Dt||"");let Ot=_getInitialContext(Et);for(const $t of At)Ot=await _processContext({activeCtx:Ot,localCtx:$t,options:Et});let zt=await _expand({activeCtx:Ot,element:Tt.input,options:Et});return _isObject(zt)&&"@graph"in zt&&Object.keys(zt).length===1?zt=zt["@graph"]:zt===null&&(zt=[]),_isArray(zt)||(zt=[zt]),zt},nt.flatten=async function(wt,Et,Tt){if(arguments.length<1)return new TypeError("Could not flatten, too few arguments.");typeof Et=="function"?Et=null:Et=Et||null,Tt=bt(Tt,{base:_isString(wt)?wt:"",contextResolver:new ContextResolver({sharedCache:st})});const At=await nt.expand(wt,Tt),Dt=_flatten(At);return Et===null?Dt:(Tt.graph=!0,Tt.skipExpansion=!0,await nt.compact(Dt,Et,Tt))},nt.frame=async function(wt,Et,Tt){if(arguments.length<2)throw new TypeError("Could not frame, too few arguments.");if(Tt=bt(Tt,{base:_isString(wt)?wt:"",embed:"@once",explicit:!1,requireAll:!1,omitDefault:!1,bnodesToClear:[],contextResolver:new ContextResolver({sharedCache:st})}),_isString(Et)){const Ht=await nt.get(Et,Tt);if(Et=Ht.document,Ht.contextUrl){let Qt=Et["@context"];Qt?_isArray(Qt)?Qt.push(Ht.contextUrl):Qt=[Qt,Ht.contextUrl]:Qt=Ht.contextUrl,Et["@context"]=Qt}}const At=Et?Et["@context"]||{}:{},Dt=await nt.processContext(_getInitialContext(Tt),At,Tt);Tt.hasOwnProperty("omitGraph")||(Tt.omitGraph=_processingMode(Dt,1.1)),Tt.hasOwnProperty("pruneBlankNodeIdentifiers")||(Tt.pruneBlankNodeIdentifiers=_processingMode(Dt,1.1));const Ot=await nt.expand(wt,Tt),zt={...Tt};zt.isFrame=!0,zt.keepFreeFloatingNodes=!0;const $t=await nt.expand(Et,zt),Bt=Object.keys(Et).map(Ht=>_expandIri(Dt,Ht,{vocab:!0}));zt.merged=!Bt.includes("@graph"),zt.is11=_processingMode(Dt,1.1);const Yt=_frameMergedOrDefault(Ot,$t,zt);zt.graph=!Tt.omitGraph,zt.skipExpansion=!0,zt.link={},zt.framing=!0;let Xt=await nt.compact(Yt,At,zt);return zt.link={},Xt=_cleanupNull(Xt,zt),Xt},nt.link=async function(wt,Et,Tt){const At={};return Et&&(At["@context"]=Et),At["@embed"]="@link",nt.frame(wt,At,Tt)},nt.normalize=nt.canonize=async function(wt,Et){if(arguments.length<1)throw new TypeError("Could not canonize, too few arguments.");if(Et=bt(Et,{base:_isString(wt)?wt:null,algorithm:"URDNA2015",skipExpansion:!1,safe:!0,contextResolver:new ContextResolver({sharedCache:st})}),"inputFormat"in Et){if(Et.inputFormat!=="application/n-quads"&&Et.inputFormat!=="application/nquads")throw new JsonLdError("Unknown canonicalization input format.","jsonld.CanonizeError");const Dt=NQuads.parse(wt);return canonize.canonize(Dt,Et)}const Tt={...Et};delete Tt.format,Tt.produceGeneralizedRdf=!1;const At=await nt.toRDF(wt,Tt);return canonize.canonize(At,Et)},nt.fromRDF=async function(wt,Et){if(arguments.length<1)throw new TypeError("Could not convert from RDF, too few arguments.");Et=bt(Et,{format:_isString(wt)?"application/n-quads":void 0});const{format:Tt}=Et;let{rdfParser:At}=Et;if(Tt){if(At=At||rt[Tt],!At)throw new JsonLdError("Unknown input format.","jsonld.UnknownFormat",{format:Tt})}else At=()=>wt;const Dt=await At(wt);return _fromRDF(Dt,Et)},nt.toRDF=async function(wt,Et){if(arguments.length<1)throw new TypeError("Could not convert to RDF, too few arguments.");Et=bt(Et,{base:_isString(wt)?wt:"",skipExpansion:!1,contextResolver:new ContextResolver({sharedCache:st})});let Tt;Et.skipExpansion?Tt=wt:Tt=await nt.expand(wt,Et);const At=_toRDF(Tt,Et);if(Et.format){if(Et.format==="application/n-quads"||Et.format==="application/nquads")return NQuads.serialize(At);throw new JsonLdError("Unknown output format.","jsonld.UnknownFormat",{format:Et.format})}return At},nt.createNodeMap=async function(wt,Et){if(arguments.length<1)throw new TypeError("Could not create node map, too few arguments.");Et=bt(Et,{base:_isString(wt)?wt:"",contextResolver:new ContextResolver({sharedCache:st})});const Tt=await nt.expand(wt,Et);return _createMergedNodeMap(Tt,Et)},nt.merge=async function(wt,Et,Tt){if(arguments.length<1)throw new TypeError("Could not merge, too few arguments.");if(!_isArray(wt))throw new TypeError('Could not merge, "docs" must be an array.');typeof Et=="function"?Et=null:Et=Et||null,Tt=bt(Tt,{contextResolver:new ContextResolver({sharedCache:st})});const At=await Promise.all(wt.map(Ht=>{const Qt={...Tt};return nt.expand(Ht,Qt)}));let Dt=!0;"mergeNodes"in Tt&&(Dt=Tt.mergeNodes);const Ot=Tt.issuer||new IdentifierIssuer("_:b"),zt={"@default":{}};for(let Ht=0;Ht<At.length;++Ht){const Qt=util.relabelBlankNodes(At[Ht],{issuer:new IdentifierIssuer("_:b"+Ht+"-")}),Zt=Dt||Ht===0?zt:{"@default":{}};if(_createNodeMap(Qt,Zt,"@default",Ot),Zt!==zt)for(const nn in Zt){const Kt=Zt[nn];if(!(nn in zt)){zt[nn]=Kt;continue}const ln=zt[nn];for(const sn in Kt)sn in ln||(ln[sn]=Kt[sn])}}const $t=_mergeNodeMaps(zt),Bt=[],Yt=Object.keys($t).sort();for(let Ht=0;Ht<Yt.length;++Ht){const Qt=$t[Yt[Ht]];_isSubjectReference(Qt)||Bt.push(Qt)}return Et===null?Bt:(Tt.graph=!0,Tt.skipExpansion=!0,await nt.compact(Bt,Et,Tt))},Object.defineProperty(nt,"documentLoader",{get:()=>nt._documentLoader,set:wt=>nt._documentLoader=wt}),nt.documentLoader=async wt=>{throw new JsonLdError("Could not retrieve a JSON-LD document from the URL. URL dereferencing not implemented.","jsonld.LoadDocumentError",{code:"loading document failed",url:wt})},nt.get=async function(wt,Et){let Tt;typeof Et.documentLoader=="function"?Tt=Et.documentLoader:Tt=nt.documentLoader;const At=await Tt(wt);try{if(!At.document)throw new JsonLdError("No remote document found at the given URL.","jsonld.NullRemoteDocument");_isString(At.document)&&(At.document=JSON.parse(At.document))}catch(Dt){throw new JsonLdError("Could not retrieve a JSON-LD document from the URL.","jsonld.LoadDocumentError",{code:"loading document failed",cause:Dt,remoteDoc:At})}return At},nt.processContext=async function(wt,Et,Tt){return Tt=bt(Tt,{base:"",contextResolver:new ContextResolver({sharedCache:st})}),Et===null?_getInitialContext(Tt):(Et=util.clone(Et),_isObject(Et)&&"@context"in Et||(Et={"@context":Et}),_processContext({activeCtx:wt,localCtx:Et,options:Tt}))},nt.getContextValue=context.getContextValue,nt.documentLoaders={},nt.useDocumentLoader=function(wt){if(!(wt in nt.documentLoaders))throw new JsonLdError('Unknown document loader type: "'+wt+'"',"jsonld.UnknownDocumentLoader",{type:wt});nt.documentLoader=nt.documentLoaders[wt].apply(nt,Array.prototype.slice.call(arguments,1))},nt.registerRDFParser=function(wt,Et){rt[wt]=Et},nt.unregisterRDFParser=function(wt){delete rt[wt]},nt.registerRDFParser("application/n-quads",NQuads.parse),nt.registerRDFParser("application/nquads",NQuads.parse),nt.url=url$1,nt.logEventHandler=_logEventHandler,nt.logWarningEventHandler=_logWarningEventHandler,nt.safeEventHandler=_safeEventHandler,nt.setDefaultEventHandler=_setDefaultEventHandler,nt.strictEventHandler=_strictEventHandler,nt.unhandledEventHandler=_unhandledEventHandler,nt.util=util,Object.assign(nt,util),nt.promises=nt,nt.RequestQueue=requireRequestQueue(),nt.JsonLdProcessor=requireJsonLdProcessor()(nt),platform.setupGlobals(nt),platform.setupDocumentLoaders(nt);function bt(wt,{documentLoader:Et=nt.documentLoader,...Tt}){if(wt&&"compactionMap"in wt)throw new JsonLdError('"compactionMap" not supported.',"jsonld.OptionsError");if(wt&&"expansionMap"in wt)throw new JsonLdError('"expansionMap" not supported.',"jsonld.OptionsError");return Object.assign({},{documentLoader:Et},Tt,wt,{eventHandler:_setupEventHandler({options:wt})})}return nt},factory=function(){return wrapper(function(){return factory()})};wrapper(factory);var jsonld=factory;const _hoisted_1$8=["grid","caption","right","left","full","width","height"],_hoisted_2$5=["innerHTML"],sparqlEndpoint="https://cy9in0xsv5.execute-api.us-east-1.amazonaws.com/prod/sparql",iiifService="https://iiif.juncture-digital.org",sparql=`
    PREFIX jwd: <http://kg.jstor.org/entity/>
    PREFIX jwdt: <http://kg.jstor.org/prop/direct/>
    PREFIX jp: <http://kg.jstor.org/prop/>
    PREFIX jps: <http://kg.jstor.org/prop/statement/>
    PREFIX jpq: <http://kg.jstor.org/prop/qualifier/>
    PREFIX wd: <http://www.wikidata.org/entity/>
    PREFIX wdt: <http://www.wikidata.org/prop/direct/>
    PREFIX schema: <http://schema.org/>
    CONSTRUCT {
      ?specimen jwdt:P1660 ?specimenOf ;
                schema:description ?description ;
                rdf:type jwd:Q14316 ;
                jwdt:P1663 ?collectionDate ;
                jwdt:P1662 ?collector ;
                jwdt:P1665 ?locationCollected ;
                jwdt:P1106 ?jstorPlantsId ;
                jwdt:P1661 ?specimenType ;
                jwdt:P501 ?taxonName ;
                jwdt:P1666 ?availableAt ;
                jp:P1467 ?img .
      ?img jps:P1467 ?url ; jpq:P1669 ?imgSize .
      ?availableAt jps:P1666 ?wdID ; rdfs:label ?herbariumName .
      ?locationCollected jps:P1665 ?locId ; rdfs:label ?locationName ; wdt:P6766 ?wofId .
    } WHERE {
      ?specimen jwdt:P17 jwd:Q14316 ;
              <<SELECTOR>>
              schema:description ?description ;
              jwdt:P1106 ?jstorPlantsId ;
              jwdt:P501 ?taxonName ;
              jp:P1467 [ jps:P1467 ?img ;
                        jpq:P1669 ?imgSize ] .
      FILTER(?imgSize = 'best')
      OPTIONAL { ?specimen jwdt:P1661 ?specimenType . }
      OPTIONAL { ?specimen jwdt:P1660 ?specimenOf . }
      OPTIONAL { ?specimen jwdt:P1663 ?collectionDate . }
      OPTIONAL { ?specimen jwdt:P1662 ?collector . }
      OPTIONAL {
          ?specimen jwdt:P1665 ?locationCollected .
          SERVICE <https://query.wikidata.org/sparql> {
              ?locationCollected rdfs:label ?locationName .
              FILTER(LANG(?locationName) = 'en')
              OPTIONAL { ?locationCollected wdt:P6766 ?wofId . }
          }
      }        
      OPTIONAL {
          ?specimen jwdt:P1666 ?availableAt .
          SERVICE <https://query.wikidata.org/sparql> {
              ?availableAt rdfs:label ?herbariumName .
              FILTER(LANG(?herbariumName) = 'en')
          }
      }
    }
    LIMIT <<LIMIT>>`,_sfc_main$a=defineComponent({__name:"PlantSpecimen.ce",props:{eid:{type:String},qid:{type:String},jpid:{type:String},wdid:{type:String},taxonName:{type:String},caption:{type:String},max:{type:Number,default:1},full:{type:Boolean},left:{type:Boolean},right:{type:Boolean},sticky:{type:Boolean},width:{type:String},height:{type:String}},setup(nt){const rt=nt,it=ref(null),st=ref([]),bt=ref([]);watch$1(st,async()=>{var Ot;bt.value=await Promise.all((((Ot=st.value)==null?void 0:Ot.length)===1?[st.value[0]]:st.value||[]).map(zt=>fetch(`${iiifService}/manifest/`,{method:"POST",headers:{"Content-type":"application/json"},body:JSON.stringify(Dt(zt))}).then($t=>$t.json())))});const wt=computed(()=>{var Ot;return rt.caption||(((Ot=st.value)==null?void 0:Ot.length)>0?st.value[0].description:"")});onMounted(()=>Tt());const Et={"@context":{jwd:"http://kg.jstor.org/entity/",jwdt:"http://kg.jstor.org/prop/direct/",jp:"http://kg.jstor.org/prop/",jps:"http://kg.jstor.org/prop/statement/",jpq:"http://kg.jstor.org/prop/qualifier/",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",wd:"http://www.wikidata.org/entity/",wdt:"http://www.wikidata.org/prop/direct/",xsd:"http://www.w3.org/2001/XMLSchema#",Specimen:"jwd:Q14316",id:"@id",collectionDate:{"@id":"jwdt:P1663","@type":"xsd:dateTime"},collector:{"@id":"jwdt:P1662","@container":"@set"},description:{"@id":"schema:description","@language":"en"},herbarium:{"@id":"jwdt:P1666","@type":"@id"},images:{"@id":"jp:P1467","@type":"@id","@container":"@set"},imgSize:{"@id":"jpq:P1669"},"instance of":{"@id":"jwdt:P17","@type":"@id"},jstorPlantsId:{"@id":"jwdt:P1106"},locationCollected:{"@id":"jwdt:P1665"},label:{"@id":"rdfs:label","@language":"en"},specimenOf:{"@id":"jwdt:P1660","@type":"@id"},specimenType:{"@id":"jwdt:P1661"},taxonName:{"@id":"jwdt:P501"},wofId:{"@id":"wdt:P6766"}}};async function Tt(){let Ot=rt.jpid?`jwdt:P1106 "${rt.jpid}" ;`:rt.eid||rt.qid||rt.wdid?`jwdt:P1660 <http://www.wikidata.org/entity/${rt.eid||rt.qid||rt.wdid}> ;`:`jwdt:P501 "${rt.taxonName}" ;`,zt=sparql.replace(/<<SELECTOR>>/,Ot).replace(/<<LIMIT>>/,`${rt.max}`),$t=await At(zt);$t["@graph"]?st.value=(await At(zt))["@graph"]:(delete $t["@context"],st.value=[$t])}async function At(Ot){let $t=await(await fetch(sparqlEndpoint,{method:"POST",body:new URLSearchParams({query:Ot}),headers:{Accept:"text/plain","Content-type":"application/x-www-form-urlencoded"}})).text(),Bt=await jsonld.fromRDF($t,{format:"application/n-quads"});return jsonld.frame(Bt,{"@context":Et,"@type":"Specimen"})}function Dt(Ot){let $t=Ot.images.find(Yt=>Yt.imgSize==="best").id.match(/rft_id=([^&]*)/)[1],Bt={url:`${iiifService}/gp-proxy${$t}`};return Ot.taxonName&&(Bt["Taxon name"]=Ot.taxonName),Ot.jstorPlantsId&&(Bt["Global Plants ID"]=Ot.jstorPlantsId),Ot.description&&(Bt.Description=Ot.description),Ot.description&&(Bt.Label=Ot.description),Ot.specimenType&&(Bt["Specimen type"]=Ot.specimenType),Ot.collector&&(Bt.Collector=Ot.collector.join("; ")),Ot.locationCollected&&(Bt["Location collected"]=Ot.locationCollected.label),Ot.collectionDate&&(Bt["Date collected"]=Ot.collectionDate),Ot.herbarium&&(Bt.Herbarium=Ot.herbarium.label),Bt}return(Ot,zt)=>(openBlock(),createElementBlock("div",{class:"osd",id:"osd",ref_key:"root",ref:it},[st.value.length>0?(openBlock(),createElementBlock("ve-media",{key:0,grid:bt.value.length>1,caption:wt.value,right:rt.right,left:rt.left,full:rt.full,width:rt.width,height:rt.height},[createBaseVNode("ul",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(bt.value,$t=>(openBlock(),createElementBlock("li",{key:$t.id||$t["@id"],innerHTML:$t.id||$t["@id"]},null,8,_hoisted_2$5))),128))])],8,_hoisted_1$8)):createCommentVNode("",!0)],512))}}),_hoisted_1$7=createBaseVNode("input",{class:"search-btn",type:"checkbox",id:"search-btn"},null,-1),_hoisted_2$4={class:"wrapper"},_hoisted_3$4={class:"search-form"},_hoisted_4$4={class:"input-wrapper"},_hoisted_5$4={key:0,class:"search-results"},_hoisted_6$3=["href"],_hoisted_7$3=["innerHTML"],_hoisted_8$3=["innerHTML"],_hoisted_9$2={key:0},searchEndpoint="/search",_sfc_main$9=defineComponent({__name:"SiteSearch.ce",props:{searchDomain:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Xt;return(Xt=it==null?void 0:it.value)==null?void 0:Xt.parentNode}),bt=ref(),wt=ref(),Et=ref(""),Tt=ref([]),At=ref(0),Dt=ref(!1);onMounted(()=>Ot());function Ot(){var Xt,Ht;bt.value=(Xt=st.value)==null?void 0:Xt.querySelector("#search-input"),bt.value.value="",wt.value=(Ht=st.value)==null?void 0:Ht.querySelector("#search-btn"),Tt.value=[]}watch$1(Dt,()=>{var Xt;wt.value&&(wt.value.checked=Dt.value),Dt&&((Xt=bt.value)==null||Xt.focus())});function zt(){var Zt;let Xt=(Zt=bt.value)==null?void 0:Zt.value.replace(/ /,"%20"),Ht=Xt===Et.value?Tt.value.length+1:1,Qt=`${searchEndpoint}?domain=${rt.searchDomain}&q=${Xt}&start=${Ht}`;fetch(Qt).then(nn=>nn.json()).then(nn=>{At.value=parseInt(nn.searchInformation.totalResults);let Kt=nn.items.map(ln=>{let sn=new URL(ln.link);return ln.link=`${location.origin}${sn.pathname}`,ln});Tt.value=Xt!==Et.value?Kt:[...Tt.value,...Kt],Et.value=Xt||""})}function $t(Xt){Xt.key==="Enter"&&zt()}function Bt(){Dt.value=!1,bt.value&&(bt.value.value=""),Et.value="",At.value=0,Tt.value=[]}function Yt(){Dt.value=!Dt.value}return(Xt,Ht)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"search"},[_hoisted_1$7,createBaseVNode("div",_hoisted_2$4,[createBaseVNode("div",_hoisted_3$4,[createBaseVNode("div",_hoisted_4$4,[createBaseVNode("sl-icon-button",{class:"cancel",onClick:Bt,name:"x-circle",label:"Clear"}),createBaseVNode("input",{type:"text",id:"search-input",class:"search-input",onKeyup:$t,autocomplete:"off",role:"textbox",placeholder:"Search site"},null,32)])]),Tt.value.length>0?(openBlock(),createElementBlock("ul",_hoisted_5$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(Tt.value,(Qt,Zt)=>(openBlock(),createElementBlock("li",{key:`sr=${Zt}`},[createBaseVNode("a",{href:Qt.link},[createBaseVNode("h3",{innerHTML:Qt.htmlTitle},null,8,_hoisted_7$3),createBaseVNode("p",{innerHTML:Qt.htmlSnippet},null,8,_hoisted_8$3)],8,_hoisted_6$3)]))),128)),At.value>Tt.value.length?(openBlock(),createElementBlock("li",_hoisted_9$2,[createBaseVNode("div",{class:"more",onClick:zt},"More")])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("label",{class:"search-icon",htmlFor:"search-btn"},[createBaseVNode("sl-icon-button",{onClick:Yt,name:"search",label:"Search"})])],512))}}),_style_0$5=`*{box-sizing:border-box}.search-icon{color:#fff;font-size:28px}.search-icon:hover{cursor:pointer}.search{position:relative;display:flex;align-items:center;gap:10px}.search-btn,.search-form,.wrapper{display:none}.wrapper{flex-direction:column;position:absolute;right:-4px}.search-form{display:flex;align-items:center}.search-input{height:30px;width:250px;border-radius:6px;padding:3px 10px;font-size:1rem}.search-submit{background-color:#fff;border-radius:6px;padding:8px 8px 4px;height:24px;z-index:4}.search-submit:hover{background-color:#ddd;cursor:pointer}.search-submit sl-icon{color:#00f;font-size:20px}.search-results{position:absolute;top:42px;left:0;width:326px;max-height:50vh;overflow-y:scroll;z-index:2;background-color:#fff;margin:0 0 0 2px;list-style:none;padding:6px;border-radius:6px;font-size:.9rem;box-shadow:0 6px 20px #00000030}.search-results li:nth-of-type(even){background-color:#e6e6df}.search-results li{padding:6px;margin:3px;border:1px solid #E6E6DF}.search-results li h3,.search-results li p{margin:8px 0}.search-results li a{text-decoration:none;color:#444}.search-results li a h3{font-weight:700}.search-results li a p{font-weight:300}.search-results li:hover{cursor:pointer;box-shadow:0 4px 8px #0003}.search-icon sl-icon-button::part(base){color:#fff}.search-btn:checked~.search-icon sl-icon-button::part(base){visibility:hidden}.search-btn:checked~.wrapper .search-form{display:flex;width:100%}.search-btn:checked~.wrapper{display:flex}.input-wrapper{display:inline-block;position:relative}.cancel{position:absolute;right:0;font-size:16px;cursor:pointer}
`,SiteSearch=_export_sfc(_sfc_main$9,[["styles",[_style_0$5]]]);var tab_styles_default=i$4`
  ${component_styles_default}

  :host {
    display: inline-block;
  }

  .tab {
    display: inline-flex;
    align-items: center;
    font-family: var(--sl-font-sans);
    font-size: var(--sl-font-size-small);
    font-weight: var(--sl-font-weight-semibold);
    border-radius: var(--sl-border-radius-medium);
    color: var(--sl-color-neutral-600);
    padding: var(--sl-spacing-medium) var(--sl-spacing-large);
    white-space: nowrap;
    user-select: none;
    cursor: pointer;
    transition: var(--transition-speed) box-shadow, var(--transition-speed) color;
  }

  .tab:hover:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus {
    outline: none;
  }

  .tab:focus-visible:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab:focus-visible {
    outline: var(--sl-focus-ring);
    outline-offset: calc(-1 * var(--sl-focus-ring-width) - var(--sl-focus-ring-offset));
  }

  .tab.tab--active:not(.tab--disabled) {
    color: var(--sl-color-primary-600);
  }

  .tab.tab--closable {
    padding-inline-end: var(--sl-spacing-small);
  }

  .tab.tab--disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }

  .tab__close-button {
    font-size: var(--sl-font-size-small);
    margin-inline-start: var(--sl-spacing-small);
  }

  .tab__close-button::part(base) {
    padding: var(--sl-spacing-3x-small);
  }

  @media (forced-colors: active) {
    .tab.tab--active:not(.tab--disabled) {
      outline: solid 1px transparent;
      outline-offset: -3px;
    }
  }
`,id$1=0,SlTab=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.attrId=++id$1,this.componentId=`sl-tab-${this.attrId}`,this.panel="",this.active=!1,this.closable=!1,this.disabled=!1}connectedCallback(){super.connectedCallback(),this.setAttribute("role","tab")}handleCloseClick(){this.emit("sl-close")}handleActiveChange(){this.setAttribute("aria-selected",this.active?"true":"false")}handleDisabledChange(){this.setAttribute("aria-disabled",this.disabled?"true":"false")}focus(nt){this.tab.focus(nt)}blur(){this.tab.blur()}render(){return this.id=this.id.length>0?this.id:this.componentId,y$2`
      <div
        part="base"
        class=${o$2({tab:!0,"tab--active":this.active,"tab--closable":this.closable,"tab--disabled":this.disabled})}
        tabindex=${this.disabled?"-1":"0"}
      >
        <slot></slot>
        ${this.closable?y$2`
              <sl-icon-button
                part="close-button"
                exportparts="base:close-button__base"
                name="x-lg"
                library="system"
                label=${this.localize.term("close")}
                class="tab__close-button"
                @click=${this.handleCloseClick}
                tabindex="-1"
              ></sl-icon-button>
            `:""}
      </div>
    `}};SlTab.styles=tab_styles_default;__decorateClass([i2$2(".tab")],SlTab.prototype,"tab",2);__decorateClass([e2$2({reflect:!0})],SlTab.prototype,"panel",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTab.prototype,"active",2);__decorateClass([e2$2({type:Boolean})],SlTab.prototype,"closable",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTab.prototype,"disabled",2);__decorateClass([watch("active")],SlTab.prototype,"handleActiveChange",1);__decorateClass([watch("disabled")],SlTab.prototype,"handleDisabledChange",1);SlTab=__decorateClass([e$2("sl-tab")],SlTab);var tab_group_styles_default=i$4`
  ${component_styles_default}

  :host {
    --indicator-color: var(--sl-color-primary-600);
    --track-color: var(--sl-color-neutral-200);
    --track-width: 2px;

    display: block;
  }

  .tab-group {
    display: flex;
    border-radius: 0;
  }

  .tab-group__tabs {
    display: flex;
    position: relative;
  }

  .tab-group__indicator {
    position: absolute;
    transition: var(--sl-transition-fast) translate ease, var(--sl-transition-fast) width ease;
  }

  .tab-group--has-scroll-controls .tab-group__nav-container {
    position: relative;
    padding: 0 var(--sl-spacing-x-large);
  }

  .tab-group__body {
    display: block;
    overflow: auto;
  }

  .tab-group__scroll-button {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 0;
    bottom: 0;
    width: var(--sl-spacing-x-large);
  }

  .tab-group__scroll-button--start {
    left: 0;
  }

  .tab-group__scroll-button--end {
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--start {
    left: auto;
    right: 0;
  }

  .tab-group--rtl .tab-group__scroll-button--end {
    left: 0;
    right: auto;
  }

  /*
   * Top
   */

  .tab-group--top {
    flex-direction: column;
  }

  .tab-group--top .tab-group__nav-container {
    order: 1;
  }

  .tab-group--top .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--top .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--top .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-bottom: solid var(--track-width) var(--track-color);
  }

  .tab-group--top .tab-group__indicator {
    bottom: calc(-1 * var(--track-width));
    border-bottom: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--top .tab-group__body {
    order: 2;
  }

  .tab-group--top ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Bottom
   */

  .tab-group--bottom {
    flex-direction: column;
  }

  .tab-group--bottom .tab-group__nav-container {
    order: 2;
  }

  .tab-group--bottom .tab-group__nav {
    display: flex;
    overflow-x: auto;

    /* Hide scrollbar in Firefox */
    scrollbar-width: none;
  }

  /* Hide scrollbar in Chrome/Safari */
  .tab-group--bottom .tab-group__nav::-webkit-scrollbar {
    width: 0;
    height: 0;
  }

  .tab-group--bottom .tab-group__tabs {
    flex: 1 1 auto;
    position: relative;
    flex-direction: row;
    border-top: solid var(--track-width) var(--track-color);
  }

  .tab-group--bottom .tab-group__indicator {
    top: calc(-1 * var(--track-width));
    border-top: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--bottom .tab-group__body {
    order: 1;
  }

  .tab-group--bottom ::slotted(sl-tab-panel) {
    --padding: var(--sl-spacing-medium) 0;
  }

  /*
   * Start
   */

  .tab-group--start {
    flex-direction: row;
  }

  .tab-group--start .tab-group__nav-container {
    order: 1;
  }

  .tab-group--start .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-inline-end: solid var(--track-width) var(--track-color);
  }

  .tab-group--start .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    border-right: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--start.tab-group--rtl .tab-group__indicator {
    right: auto;
    left: calc(-1 * var(--track-width));
  }

  .tab-group--start .tab-group__body {
    flex: 1 1 auto;
    order: 2;
  }

  .tab-group--start ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }

  /*
   * End
   */

  .tab-group--end {
    flex-direction: row;
  }

  .tab-group--end .tab-group__nav-container {
    order: 2;
  }

  .tab-group--end .tab-group__tabs {
    flex: 0 0 auto;
    flex-direction: column;
    border-left: solid var(--track-width) var(--track-color);
  }

  .tab-group--end .tab-group__indicator {
    left: calc(-1 * var(--track-width));
    border-inline-start: solid var(--track-width) var(--indicator-color);
  }

  .tab-group--end.tab-group--rtl .tab-group__indicator {
    right: calc(-1 * var(--track-width));
    left: auto;
  }

  .tab-group--end .tab-group__body {
    flex: 1 1 auto;
    order: 1;
  }

  .tab-group--end ::slotted(sl-tab-panel) {
    --padding: 0 var(--sl-spacing-medium);
  }
`,SlTabGroup=class extends ShoelaceElement{constructor(){super(...arguments),this.localize=new LocalizeController2(this),this.tabs=[],this.panels=[],this.hasScrollControls=!1,this.placement="top",this.activation="auto",this.noScrollControls=!1}connectedCallback(){super.connectedCallback(),this.resizeObserver=new ResizeObserver(()=>{this.repositionIndicator(),this.updateScrollControls()}),this.mutationObserver=new MutationObserver(nt=>{nt.some(rt=>!["aria-labelledby","aria-controls"].includes(rt.attributeName))&&setTimeout(()=>this.setAriaLabels()),nt.some(rt=>rt.attributeName==="disabled")&&this.syncTabsAndPanels()}),this.updateComplete.then(()=>{this.syncTabsAndPanels(),this.mutationObserver.observe(this,{attributes:!0,childList:!0,subtree:!0}),this.resizeObserver.observe(this.nav),new IntersectionObserver((rt,it)=>{var st;rt[0].intersectionRatio>0&&(this.setAriaLabels(),this.setActiveTab((st=this.getActiveTab())!=null?st:this.tabs[0],{emitEvents:!1}),it.unobserve(rt[0].target))}).observe(this.tabGroup)})}disconnectedCallback(){this.mutationObserver.disconnect(),this.resizeObserver.unobserve(this.nav)}getAllTabs(nt={includeDisabled:!0}){return[...this.shadowRoot.querySelector('slot[name="nav"]').assignedElements()].filter(it=>nt.includeDisabled?it.tagName.toLowerCase()==="sl-tab":it.tagName.toLowerCase()==="sl-tab"&&!it.disabled)}getAllPanels(){return[...this.body.assignedElements()].filter(nt=>nt.tagName.toLowerCase()==="sl-tab-panel")}getActiveTab(){return this.tabs.find(nt=>nt.active)}handleClick(nt){const it=nt.target.closest("sl-tab");(it==null?void 0:it.closest("sl-tab-group"))===this&&it!==null&&this.setActiveTab(it,{scrollBehavior:"smooth"})}handleKeyDown(nt){const it=nt.target.closest("sl-tab");if((it==null?void 0:it.closest("sl-tab-group"))===this&&(["Enter"," "].includes(nt.key)&&it!==null&&(this.setActiveTab(it,{scrollBehavior:"smooth"}),nt.preventDefault()),["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Home","End"].includes(nt.key))){const bt=this.tabs.find(Et=>Et.matches(":focus")),wt=this.localize.dir()==="rtl";if((bt==null?void 0:bt.tagName.toLowerCase())==="sl-tab"){let Et=this.tabs.indexOf(bt);nt.key==="Home"?Et=0:nt.key==="End"?Et=this.tabs.length-1:["top","bottom"].includes(this.placement)&&nt.key===(wt?"ArrowRight":"ArrowLeft")||["start","end"].includes(this.placement)&&nt.key==="ArrowUp"?Et--:(["top","bottom"].includes(this.placement)&&nt.key===(wt?"ArrowLeft":"ArrowRight")||["start","end"].includes(this.placement)&&nt.key==="ArrowDown")&&Et++,Et<0&&(Et=this.tabs.length-1),Et>this.tabs.length-1&&(Et=0),this.tabs[Et].focus({preventScroll:!0}),this.activation==="auto"&&this.setActiveTab(this.tabs[Et],{scrollBehavior:"smooth"}),["top","bottom"].includes(this.placement)&&scrollIntoView(this.tabs[Et],this.nav,"horizontal"),nt.preventDefault()}}}handleScrollToStart(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft+this.nav.clientWidth:this.nav.scrollLeft-this.nav.clientWidth,behavior:"smooth"})}handleScrollToEnd(){this.nav.scroll({left:this.localize.dir()==="rtl"?this.nav.scrollLeft-this.nav.clientWidth:this.nav.scrollLeft+this.nav.clientWidth,behavior:"smooth"})}setActiveTab(nt,rt){if(rt=__spreadValues({emitEvents:!0,scrollBehavior:"auto"},rt),nt!==this.activeTab&&!nt.disabled){const it=this.activeTab;this.activeTab=nt,this.tabs.map(st=>st.active=st===this.activeTab),this.panels.map(st=>{var bt;return st.active=st.name===((bt=this.activeTab)==null?void 0:bt.panel)}),this.syncIndicator(),["top","bottom"].includes(this.placement)&&scrollIntoView(this.activeTab,this.nav,"horizontal",rt.scrollBehavior),rt.emitEvents&&(it&&this.emit("sl-tab-hide",{detail:{name:it.panel}}),this.emit("sl-tab-show",{detail:{name:this.activeTab.panel}}))}}setAriaLabels(){this.tabs.forEach(nt=>{const rt=this.panels.find(it=>it.name===nt.panel);rt&&(nt.setAttribute("aria-controls",rt.getAttribute("id")),rt.setAttribute("aria-labelledby",nt.getAttribute("id")))})}repositionIndicator(){const nt=this.getActiveTab();if(!nt)return;const rt=nt.clientWidth,it=nt.clientHeight,st=this.localize.dir()==="rtl",bt=this.getAllTabs(),Et=bt.slice(0,bt.indexOf(nt)).reduce((Tt,At)=>({left:Tt.left+At.clientWidth,top:Tt.top+At.clientHeight}),{left:0,top:0});switch(this.placement){case"top":case"bottom":this.indicator.style.width=`${rt}px`,this.indicator.style.height="auto",this.indicator.style.translate=st?`${-1*Et.left}px`:`${Et.left}px`;break;case"start":case"end":this.indicator.style.width="auto",this.indicator.style.height=`${it}px`,this.indicator.style.translate=`0 ${Et.top}px`;break}}syncTabsAndPanels(){this.tabs=this.getAllTabs({includeDisabled:!1}),this.panels=this.getAllPanels(),this.syncIndicator()}updateScrollControls(){this.noScrollControls?this.hasScrollControls=!1:this.hasScrollControls=["top","bottom"].includes(this.placement)&&this.nav.scrollWidth>this.nav.clientWidth}syncIndicator(){this.getActiveTab()?(this.indicator.style.display="block",this.repositionIndicator()):this.indicator.style.display="none"}show(nt){const rt=this.tabs.find(it=>it.panel===nt);rt&&this.setActiveTab(rt,{scrollBehavior:"smooth"})}render(){const nt=this.localize.dir()==="rtl";return y$2`
      <div
        part="base"
        class=${o$2({"tab-group":!0,"tab-group--top":this.placement==="top","tab-group--bottom":this.placement==="bottom","tab-group--start":this.placement==="start","tab-group--end":this.placement==="end","tab-group--rtl":this.localize.dir()==="rtl","tab-group--has-scroll-controls":this.hasScrollControls})}
        @click=${this.handleClick}
        @keydown=${this.handleKeyDown}
      >
        <div class="tab-group__nav-container" part="nav">
          ${this.hasScrollControls?y$2`
                <sl-icon-button
                  part="scroll-button scroll-button--start"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--start"
                  name=${nt?"chevron-right":"chevron-left"}
                  library="system"
                  label=${this.localize.term("scrollToStart")}
                  @click=${this.handleScrollToStart}
                ></sl-icon-button>
              `:""}

          <div class="tab-group__nav">
            <div part="tabs" class="tab-group__tabs" role="tablist">
              <div part="active-tab-indicator" class="tab-group__indicator"></div>
              <slot name="nav" @slotchange=${this.syncTabsAndPanels}></slot>
            </div>
          </div>

          ${this.hasScrollControls?y$2`
                <sl-icon-button
                  part="scroll-button scroll-button--end"
                  exportparts="base:scroll-button__base"
                  class="tab-group__scroll-button tab-group__scroll-button--end"
                  name=${nt?"chevron-left":"chevron-right"}
                  library="system"
                  label=${this.localize.term("scrollToEnd")}
                  @click=${this.handleScrollToEnd}
                ></sl-icon-button>
              `:""}
        </div>

        <slot part="body" class="tab-group__body" @slotchange=${this.syncTabsAndPanels}></slot>
      </div>
    `}};SlTabGroup.styles=tab_group_styles_default;__decorateClass([i2$2(".tab-group")],SlTabGroup.prototype,"tabGroup",2);__decorateClass([i2$2(".tab-group__body")],SlTabGroup.prototype,"body",2);__decorateClass([i2$2(".tab-group__nav")],SlTabGroup.prototype,"nav",2);__decorateClass([i2$2(".tab-group__indicator")],SlTabGroup.prototype,"indicator",2);__decorateClass([t$2()],SlTabGroup.prototype,"hasScrollControls",2);__decorateClass([e2$2()],SlTabGroup.prototype,"placement",2);__decorateClass([e2$2()],SlTabGroup.prototype,"activation",2);__decorateClass([e2$2({attribute:"no-scroll-controls",type:Boolean})],SlTabGroup.prototype,"noScrollControls",2);__decorateClass([watch("noScrollControls",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"updateScrollControls",1);__decorateClass([watch("placement",{waitUntilFirstUpdate:!0})],SlTabGroup.prototype,"syncIndicator",1);SlTabGroup=__decorateClass([e$2("sl-tab-group")],SlTabGroup);var tab_panel_styles_default=i$4`
  ${component_styles_default}

  :host {
    --padding: 0;

    display: block;
  }

  .tab-panel {
    display: block;
    padding: var(--padding);
  }

  .tab-panel:not(.tab-panel--active) {
    display: none;
  }
`,id=0,SlTabPanel=class extends ShoelaceElement{constructor(){super(...arguments),this.attrId=++id,this.componentId=`sl-tab-panel-${this.attrId}`,this.name="",this.active=!1}connectedCallback(){super.connectedCallback(),this.id=this.id.length>0?this.id:this.componentId,this.setAttribute("role","tabpanel")}handleActiveChange(){this.setAttribute("aria-hidden",this.active?"false":"true")}render(){return y$2`
      <slot
        part="base"
        class=${o$2({"tab-panel":!0,"tab-panel--active":this.active})}
      ></slot>
    `}};SlTabPanel.styles=tab_panel_styles_default;__decorateClass([e2$2({reflect:!0})],SlTabPanel.prototype,"name",2);__decorateClass([e2$2({type:Boolean,reflect:!0})],SlTabPanel.prototype,"active",2);__decorateClass([watch("active")],SlTabPanel.prototype,"handleActiveChange",1);SlTabPanel=__decorateClass([e$2("sl-tab-panel")],SlTabPanel);const _hoisted_1$6=["open","draggable"],_hoisted_2$3=createBaseVNode("sl-icon",{name:"plus-square",slot:"expand-icon"},null,-1),_hoisted_3$3=createBaseVNode("sl-icon",{name:"dash-square",slot:"collapse-icon"},null,-1),_hoisted_4$3={slot:"summary"},_hoisted_5$3={content:"Show code snippets",placement:"top"},_hoisted_6$2={style:{display:"flex",alignItems:"center",gap:"9px"}},_hoisted_7$2=createBaseVNode("sl-icon",{name:"markdown",style:{"font-size":"24px"}},null,-1),_hoisted_8$2=createBaseVNode("sl-icon",{name:"code-slash",style:{"font-size":"24px"}},null,-1),_hoisted_9$1=["innerHTML"],_hoisted_10$1=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("sl-icon",{name:"markdown"}),createTextVNode("Markdown")],-1),_hoisted_11$1=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("sl-icon",{name:"code-slash"}),createTextVNode("HTML")],-1),_hoisted_12$1=createBaseVNode("sl-tab",{slot:"nav",panel:"wordpress"},[createBaseVNode("sl-icon",{name:"wordpress"}),createTextVNode("Wordpress")],-1),_hoisted_13=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("sl-icon",{name:"eye"}),createTextVNode("Rendered")],-1),_hoisted_14={name:"markdown"},_hoisted_15=["draggable"],_hoisted_16={name:"html"},_hoisted_17=["innerHTML","draggable"],_hoisted_18={name:"wordpress"},_hoisted_19=["draggable"],_hoisted_20={name:"preview"},_hoisted_21=["innerHTML","draggable"],_hoisted_22={key:1},_hoisted_23=createBaseVNode("sl-tab",{slot:"nav",panel:"markdown"},[createBaseVNode("sl-icon",{name:"markdown"}),createTextVNode("Markdown")],-1),_hoisted_24=createBaseVNode("sl-tab",{slot:"nav",panel:"html"},[createBaseVNode("sl-icon",{name:"code-slash"}),createTextVNode("HTML")],-1),_hoisted_25=createBaseVNode("sl-tab",{slot:"nav",panel:"wordpress"},[createBaseVNode("sl-icon",{name:"wordpress"}),createTextVNode("Wordpress")],-1),_hoisted_26=createBaseVNode("sl-tab",{slot:"nav",panel:"preview"},[createBaseVNode("sl-icon",{name:"eye"}),createTextVNode("Rendered")],-1),_hoisted_27={name:"markdown"},_hoisted_28=["draggable"],_hoisted_29={name:"html"},_hoisted_30=["innerHTML","draggable"],_hoisted_31={name:"wordpress"},_hoisted_32=["draggable"],_hoisted_33={name:"preview"},_hoisted_34=["innerHTML","draggable"],_sfc_main$8=defineComponent({__name:"Snippet.ce",props:{label:{type:String},tabs:{type:String,default:"markdown,html,wordpress,preview"},collapsible:{type:Boolean,default:!1},open:{type:Boolean,default:!1},prefix:{type:String},path:{type:String},right:{type:Boolean},left:{type:Boolean},width:{type:String},height:{type:String},fill:{type:Boolean},showActive:{type:Boolean},disableDrag:{type:Boolean},src:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Ht;return(Ht=it==null?void 0:it.value)==null?void 0:Ht.parentNode}),bt=computed(()=>{var Ht,Qt;return(Qt=(Ht=it.value)==null?void 0:Ht.getRootNode())==null?void 0:Qt.host}),wt=ref(),Et=ref(),Tt=ref(),At=ref(),Dt=ref();watch$1(Et,()=>Yt()),onMounted(()=>{rt.src&&fetch(`/${rt.src}?fmt=md`).then(Ht=>Ht.text()).then(Ht=>{wt.value=Ht.replace(/>/g,"&gt;").replace(/</g,"&lt;")})}),watch$1(bt,()=>{rt.tabs?Dt.value=rt.tabs.split(","):Dt.value=["markdown","html","wordpress","preview"];let Qt=bt.value.innerHTML.replace(/<pre v-pre="" data-lang="markup"><code class="lang-markup">/,"").replace(/<\/code><\/pre>/,"").split(`
`),Zt=[];if(Qt.forEach(nn=>{(nn.trim().length>0||Zt.length>0)&&Zt.push(nn)}),Zt.length>0){let nn=(Zt[0].match(/(^\s+)/)||[""])[0].length;wt.value=Zt.map(Kt=>(Kt.match(/(^\s+)/)||[""])[0].length>=nn?Kt.slice(nn):Kt).join(`
`)}}),watch$1(At,()=>{At.value!=="markdown"&&Et.value===void 0&&Bt(),At.value==="preview"&&nextTick(()=>{initTippy(st.value,!0)}),rt.fill&&Et.value&&nextTick(()=>$t()),rt.height&&nextTick(()=>zt())});function Ot(){var Ht;(Ht=st.value)==null||Ht.querySelectorAll("sl-tab").forEach(Qt=>{new MutationObserver(nn=>{var ln;let Kt=nn[0].target;Kt.disabled=!((ln=Dt.value)!=null&&ln.includes(Kt.panel)),Kt.style.visibility=Kt.disabled?"hidden":"visible",Kt.active&&(At.value=Kt.panel)}).observe(Qt,{childList:!0,subtree:!0,attributes:!0})})}watch$1(Dt,()=>Ot());function zt(){var Qt;let Ht=(Qt=st.value)==null?void 0:Qt.querySelector('sl-tab-panel[name="preview"]');At.value==="preview"&&rt.height&&(Ht.style.height=rt.height)}function $t(){var Qt,Zt;let Ht=(Qt=st.value)==null?void 0:Qt.querySelector('sl-tab-panel[name="preview"]');if(At.value==="preview"){let nn=(Zt=st.value)==null?void 0:Zt.querySelector("#juncture"),Kt=Ht.clientWidth/2,ln=document.createElement("div");ln.style.height=`${Kt}px`;let sn=nn.querySelector("ve-footer");sn?nn.insertBefore(ln,sn):nn.appendChild(ln),Ht.style.height=rt.height||`${Math.max(Kt/2,500)}px`,Ht.style.overflowY="scroll"}else Ht.style.height=""}function Bt(){Et.value="",fetch("/html/",{method:"POST",body:JSON.stringify({prefix:`${rt.prefix||""}`,path:`${rt.path||""}`,markdown:wt.value})}).then(Ht=>Ht.text()).then(Ht=>{let Qt=new DOMParser().parseFromString(Ht,"text/html").children[0].children,Zt=Qt[1].querySelector("main");if(Zt){let nn=Qt[1].querySelector("style");nn&&Zt.insertBefore(nn,Zt.firstChild),Et.value=Zt.innerHTML,At.value==="preview"&&nextTick(()=>{var Kt;rt.fill&&$t(),initTippy(st.value,!0),observeActive((Kt=st.value)==null?void 0:Kt.querySelector("#juncture"))})}})}function Yt(){Et.value&&(Tt.value="",fetch("/wxr/",{method:"POST",body:JSON.stringify({prefix:`${rt.prefix||""}`,path:`${rt.path||""}`,html:Et.value})}).then(Ht=>Ht.text()).then(Ht=>Tt.value=Ht))}function Xt(Ht){var Zt;let Qt=wt.value;Qt&&((Zt=Ht.dataTransfer)==null||Zt.setData("text/plain",Qt))}return(Ht,Qt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,id:"main"},[nt.collapsible?(openBlock(),createElementBlock("sl-details",{key:0,class:"custom-icons",open:rt.open,draggable:!rt.disableDrag,onDragstart:Xt},[_hoisted_2$3,_hoisted_3$3,createBaseVNode("div",_hoisted_4$3,[createBaseVNode("sl-tooltip",_hoisted_5$3,[createBaseVNode("div",_hoisted_6$2,[_hoisted_7$2,_hoisted_8$2,createBaseVNode("span",{innerHTML:rt.label,class:"label"},null,8,_hoisted_9$1)])])]),createBaseVNode("sl-tab-group",null,[_hoisted_10$1,_hoisted_11$1,_hoisted_12$1,_hoisted_13,createBaseVNode("sl-tab-panel",_hoisted_14,[wt.value&&At.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,draggable:!rt.disableDrag},toDisplayString(wt.value),9,_hoisted_15)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_16,[At.value==="html"&&Et.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:Et.value,language:"html",draggable:!rt.disableDrag},null,8,_hoisted_17)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-pane",_hoisted_18,[At.value==="wordpress"&&Tt.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,language:"wxr",draggable:!rt.disableDrag},toDisplayString(Tt.value),9,_hoisted_19)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_20,[At.value==="preview"&&Et.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},innerHTML:Et.value,draggable:!rt.disableDrag,onDragstart:Xt},null,40,_hoisted_21)):createCommentVNode("",!0)])])],40,_hoisted_1$6)):(openBlock(),createElementBlock("sl-tab-group",_hoisted_22,[_hoisted_23,_hoisted_24,_hoisted_25,_hoisted_26,createBaseVNode("sl-tab-panel",_hoisted_27,[wt.value&&At.value==="markdown"?(openBlock(),createElementBlock("ve-source-viewer",{key:0,draggable:!rt.disableDrag},toDisplayString(wt.value),9,_hoisted_28)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-pane",_hoisted_29,[At.value==="html"&&Et.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,innerHTML:Et.value,language:"html",draggable:!rt.disableDrag},null,8,_hoisted_30)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-pane",_hoisted_31,[At.value==="wordpress"&&Tt.value?(openBlock(),createElementBlock("ve-source-viewer",{key:0,language:"wxr",draggable:!rt.disableDrag},toDisplayString(Tt.value),9,_hoisted_32)):createCommentVNode("",!0)]),createBaseVNode("sl-tab-panel",_hoisted_33,[At.value==="preview"&&Et.value?(openBlock(),createElementBlock("div",{key:0,id:"juncture",style:{position:"relative"},innerHTML:Et.value,draggable:!rt.disableDrag,onDragstart:Xt},null,40,_hoisted_34)):createCommentVNode("",!0)])]))],512))}}),_style_1$2=`*{box-sizing:border-box}:host{display:block;margin-top:1.5rem;border-radius:2px;border:.5px solid #ddd;margin-bottom:2rem}:host([collapsible]){border:none}#main{font-family:Roboto,sans-serif;margin-top:0}sl-tab-panel{--padding: 0}sl-tab::part(base){padding:12px}#juncture{padding:12px;font-size:1.2em;line-height:1.3}sl-details::part(header){background-color:#f9f9f9}sl-details::part(summary){font-size:1rem}sl-details::part(content){border-top:1px solid #ddd;padding:0}sl-details.custom-icons::part(summary-icon){rotate:none}sl-tab sl-icon{font-size:24px;margin-right:6px}.label{margin-left:12px;color:#555;font-weight:400}
`,Snippet=_export_sfc(_sfc_main$8,[["styles",[_style_0$t,_style_1$2]]]);var prism$1={exports:{}};(function(nt){var rt=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var it=function(st){var bt=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,wt=0,Et={},Tt={manual:st.Prism&&st.Prism.manual,disableWorkerMessageHandler:st.Prism&&st.Prism.disableWorkerMessageHandler,util:{encode:function Zt(nn){return nn instanceof At?new At(nn.type,Zt(nn.content),nn.alias):Array.isArray(nn)?nn.map(Zt):nn.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Zt){return Object.prototype.toString.call(Zt).slice(8,-1)},objId:function(Zt){return Zt.__id||Object.defineProperty(Zt,"__id",{value:++wt}),Zt.__id},clone:function Zt(nn,Kt){Kt=Kt||{};var ln,sn;switch(Tt.util.type(nn)){case"Object":if(sn=Tt.util.objId(nn),Kt[sn])return Kt[sn];ln={},Kt[sn]=ln;for(var bn in nn)nn.hasOwnProperty(bn)&&(ln[bn]=Zt(nn[bn],Kt));return ln;case"Array":return sn=Tt.util.objId(nn),Kt[sn]?Kt[sn]:(ln=[],Kt[sn]=ln,nn.forEach(function(wn,Mn){ln[Mn]=Zt(wn,Kt)}),ln);default:return nn}},getLanguage:function(Zt){for(;Zt;){var nn=bt.exec(Zt.className);if(nn)return nn[1].toLowerCase();Zt=Zt.parentElement}return"none"},setLanguage:function(Zt,nn){Zt.className=Zt.className.replace(RegExp(bt,"gi"),""),Zt.classList.add("language-"+nn)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(ln){var Zt=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(ln.stack)||[])[1];if(Zt){var nn=document.getElementsByTagName("script");for(var Kt in nn)if(nn[Kt].src==Zt)return nn[Kt]}return null}},isActive:function(Zt,nn,Kt){for(var ln="no-"+nn;Zt;){var sn=Zt.classList;if(sn.contains(nn))return!0;if(sn.contains(ln))return!1;Zt=Zt.parentElement}return!!Kt}},languages:{plain:Et,plaintext:Et,text:Et,txt:Et,extend:function(Zt,nn){var Kt=Tt.util.clone(Tt.languages[Zt]);for(var ln in nn)Kt[ln]=nn[ln];return Kt},insertBefore:function(Zt,nn,Kt,ln){ln=ln||Tt.languages;var sn=ln[Zt],bn={};for(var wn in sn)if(sn.hasOwnProperty(wn)){if(wn==nn)for(var Mn in Kt)Kt.hasOwnProperty(Mn)&&(bn[Mn]=Kt[Mn]);Kt.hasOwnProperty(wn)||(bn[wn]=sn[wn])}var Sn=ln[Zt];return ln[Zt]=bn,Tt.languages.DFS(Tt.languages,function(Dn,gn){gn===Sn&&Dn!=Zt&&(this[Dn]=bn)}),bn},DFS:function Zt(nn,Kt,ln,sn){sn=sn||{};var bn=Tt.util.objId;for(var wn in nn)if(nn.hasOwnProperty(wn)){Kt.call(nn,wn,nn[wn],ln||wn);var Mn=nn[wn],Sn=Tt.util.type(Mn);Sn==="Object"&&!sn[bn(Mn)]?(sn[bn(Mn)]=!0,Zt(Mn,Kt,null,sn)):Sn==="Array"&&!sn[bn(Mn)]&&(sn[bn(Mn)]=!0,Zt(Mn,Kt,wn,sn))}}},plugins:{},highlightAll:function(Zt,nn){Tt.highlightAllUnder(document,Zt,nn)},highlightAllUnder:function(Zt,nn,Kt){var ln={callback:Kt,container:Zt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};Tt.hooks.run("before-highlightall",ln),ln.elements=Array.prototype.slice.apply(ln.container.querySelectorAll(ln.selector)),Tt.hooks.run("before-all-elements-highlight",ln);for(var sn=0,bn;bn=ln.elements[sn++];)Tt.highlightElement(bn,nn===!0,ln.callback)},highlightElement:function(Zt,nn,Kt){var ln=Tt.util.getLanguage(Zt),sn=Tt.languages[ln];Tt.util.setLanguage(Zt,ln);var bn=Zt.parentElement;bn&&bn.nodeName.toLowerCase()==="pre"&&Tt.util.setLanguage(bn,ln);var wn=Zt.textContent,Mn={element:Zt,language:ln,grammar:sn,code:wn};function Sn(gn){Mn.highlightedCode=gn,Tt.hooks.run("before-insert",Mn),Mn.element.innerHTML=Mn.highlightedCode,Tt.hooks.run("after-highlight",Mn),Tt.hooks.run("complete",Mn),Kt&&Kt.call(Mn.element)}if(Tt.hooks.run("before-sanity-check",Mn),bn=Mn.element.parentElement,bn&&bn.nodeName.toLowerCase()==="pre"&&!bn.hasAttribute("tabindex")&&bn.setAttribute("tabindex","0"),!Mn.code){Tt.hooks.run("complete",Mn),Kt&&Kt.call(Mn.element);return}if(Tt.hooks.run("before-highlight",Mn),!Mn.grammar){Sn(Tt.util.encode(Mn.code));return}if(nn&&st.Worker){var Dn=new Worker(Tt.filename);Dn.onmessage=function(gn){Sn(gn.data)},Dn.postMessage(JSON.stringify({language:Mn.language,code:Mn.code,immediateClose:!0}))}else Sn(Tt.highlight(Mn.code,Mn.grammar,Mn.language))},highlight:function(Zt,nn,Kt){var ln={code:Zt,grammar:nn,language:Kt};if(Tt.hooks.run("before-tokenize",ln),!ln.grammar)throw new Error('The language "'+ln.language+'" has no grammar.');return ln.tokens=Tt.tokenize(ln.code,ln.grammar),Tt.hooks.run("after-tokenize",ln),At.stringify(Tt.util.encode(ln.tokens),ln.language)},tokenize:function(Zt,nn){var Kt=nn.rest;if(Kt){for(var ln in Kt)nn[ln]=Kt[ln];delete nn.rest}var sn=new zt;return $t(sn,sn.head,Zt),Ot(Zt,sn,nn,sn.head,0),Yt(sn)},hooks:{all:{},add:function(Zt,nn){var Kt=Tt.hooks.all;Kt[Zt]=Kt[Zt]||[],Kt[Zt].push(nn)},run:function(Zt,nn){var Kt=Tt.hooks.all[Zt];if(!(!Kt||!Kt.length))for(var ln=0,sn;sn=Kt[ln++];)sn(nn)}},Token:At};st.Prism=Tt;function At(Zt,nn,Kt,ln){this.type=Zt,this.content=nn,this.alias=Kt,this.length=(ln||"").length|0}At.stringify=function Zt(nn,Kt){if(typeof nn=="string")return nn;if(Array.isArray(nn)){var ln="";return nn.forEach(function(Sn){ln+=Zt(Sn,Kt)}),ln}var sn={type:nn.type,content:Zt(nn.content,Kt),tag:"span",classes:["token",nn.type],attributes:{},language:Kt},bn=nn.alias;bn&&(Array.isArray(bn)?Array.prototype.push.apply(sn.classes,bn):sn.classes.push(bn)),Tt.hooks.run("wrap",sn);var wn="";for(var Mn in sn.attributes)wn+=" "+Mn+'="'+(sn.attributes[Mn]||"").replace(/"/g,"&quot;")+'"';return"<"+sn.tag+' class="'+sn.classes.join(" ")+'"'+wn+">"+sn.content+"</"+sn.tag+">"};function Dt(Zt,nn,Kt,ln){Zt.lastIndex=nn;var sn=Zt.exec(Kt);if(sn&&ln&&sn[1]){var bn=sn[1].length;sn.index+=bn,sn[0]=sn[0].slice(bn)}return sn}function Ot(Zt,nn,Kt,ln,sn,bn){for(var wn in Kt)if(!(!Kt.hasOwnProperty(wn)||!Kt[wn])){var Mn=Kt[wn];Mn=Array.isArray(Mn)?Mn:[Mn];for(var Sn=0;Sn<Mn.length;++Sn){if(bn&&bn.cause==wn+","+Sn)return;var Dn=Mn[Sn],gn=Dn.inside,Un=!!Dn.lookbehind,pn=!!Dn.greedy,yr=Dn.alias;if(pn&&!Dn.pattern.global){var xn=Dn.pattern.toString().match(/[imsuy]*$/)[0];Dn.pattern=RegExp(Dn.pattern.source,xn+"g")}for(var Mr=Dn.pattern||Dn,fr=ln.next,cr=sn;fr!==nn.tail&&!(bn&&cr>=bn.reach);cr+=fr.value.length,fr=fr.next){var Gn=fr.value;if(nn.length>Zt.length)return;if(!(Gn instanceof At)){var lr=1,ur;if(pn){if(ur=Dt(Mr,cr,Zt,Un),!ur||ur.index>=Zt.length)break;var _r=ur.index,vr=ur.index+ur[0].length,Ir=cr;for(Ir+=fr.value.length;_r>=Ir;)fr=fr.next,Ir+=fr.value.length;if(Ir-=fr.value.length,cr=Ir,fr.value instanceof At)continue;for(var Pr=fr;Pr!==nn.tail&&(Ir<vr||typeof Pr.value=="string");Pr=Pr.next)lr++,Ir+=Pr.value.length;lr--,Gn=Zt.slice(cr,Ir),ur.index-=cr}else if(ur=Dt(Mr,0,Gn,Un),!ur)continue;var _r=ur.index,tr=ur[0],qn=Gn.slice(0,_r),mr=Gn.slice(_r+tr.length),br=cr+Gn.length;bn&&br>bn.reach&&(bn.reach=br);var hr=fr.prev;qn&&(hr=$t(nn,hr,qn),cr+=qn.length),Bt(nn,hr,lr);var An=new At(wn,gn?Tt.tokenize(tr,gn):tr,yr,tr);if(fr=$t(nn,hr,An),mr&&$t(nn,fr,mr),lr>1){var rn={cause:wn+","+Sn,reach:br};Ot(Zt,nn,Kt,fr.prev,cr,rn),bn&&rn.reach>bn.reach&&(bn.reach=rn.reach)}}}}}}function zt(){var Zt={value:null,prev:null,next:null},nn={value:null,prev:Zt,next:null};Zt.next=nn,this.head=Zt,this.tail=nn,this.length=0}function $t(Zt,nn,Kt){var ln=nn.next,sn={value:Kt,prev:nn,next:ln};return nn.next=sn,ln.prev=sn,Zt.length++,sn}function Bt(Zt,nn,Kt){for(var ln=nn.next,sn=0;sn<Kt&&ln!==Zt.tail;sn++)ln=ln.next;nn.next=ln,ln.prev=nn,Zt.length-=sn}function Yt(Zt){for(var nn=[],Kt=Zt.head.next;Kt!==Zt.tail;)nn.push(Kt.value),Kt=Kt.next;return nn}if(!st.document)return st.addEventListener&&(Tt.disableWorkerMessageHandler||st.addEventListener("message",function(Zt){var nn=JSON.parse(Zt.data),Kt=nn.language,ln=nn.code,sn=nn.immediateClose;st.postMessage(Tt.highlight(ln,Tt.languages[Kt],Kt)),sn&&st.close()},!1)),Tt;var Xt=Tt.util.currentScript();Xt&&(Tt.filename=Xt.src,Xt.hasAttribute("data-manual")&&(Tt.manual=!0));function Ht(){Tt.manual||Tt.highlightAll()}if(!Tt.manual){var Qt=document.readyState;Qt==="loading"||Qt==="interactive"&&Xt&&Xt.defer?document.addEventListener("DOMContentLoaded",Ht):window.requestAnimationFrame?window.requestAnimationFrame(Ht):window.setTimeout(Ht,16)}return Tt}(rt);nt.exports&&(nt.exports=it),typeof commonjsGlobal$1<"u"&&(commonjsGlobal$1.Prism=it),it.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},it.languages.markup.tag.inside["attr-value"].inside.entity=it.languages.markup.entity,it.languages.markup.doctype.inside["internal-subset"].inside=it.languages.markup,it.hooks.add("wrap",function(st){st.type==="entity"&&(st.attributes.title=st.content.replace(/&amp;/,"&"))}),Object.defineProperty(it.languages.markup.tag,"addInlined",{value:function(bt,wt){var Et={};Et["language-"+wt]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:it.languages[wt]},Et.cdata=/^<!\[CDATA\[|\]\]>$/i;var Tt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:Et}};Tt["language-"+wt]={pattern:/[\s\S]+/,inside:it.languages[wt]};var At={};At[bt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return bt}),"i"),lookbehind:!0,greedy:!0,inside:Tt},it.languages.insertBefore("markup","cdata",At)}}),Object.defineProperty(it.languages.markup.tag,"addAttribute",{value:function(st,bt){it.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+st+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[bt,"language-"+bt],inside:it.languages[bt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),it.languages.html=it.languages.markup,it.languages.mathml=it.languages.markup,it.languages.svg=it.languages.markup,it.languages.xml=it.languages.extend("markup",{}),it.languages.ssml=it.languages.xml,it.languages.atom=it.languages.xml,it.languages.rss=it.languages.xml,function(st){var bt=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;st.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+bt.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+bt.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+bt.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+bt.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:bt,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},st.languages.css.atrule.inside.rest=st.languages.css;var wt=st.languages.markup;wt&&(wt.tag.addInlined("style","css"),wt.tag.addAttribute("style","css"))}(it),it.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},it.languages.javascript=it.languages.extend("clike",{"class-name":[it.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),it.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,it.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:it.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:it.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:it.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:it.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:it.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),it.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:it.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),it.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),it.languages.markup&&(it.languages.markup.tag.addInlined("script","javascript"),it.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),it.languages.js=it.languages.javascript,function(){if(typeof it>"u"||typeof document>"u")return;Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector);var st="Loading\u2026",bt=function(Xt,Ht){return"\u2716 Error "+Xt+" while fetching file: "+Ht},wt="\u2716 Error: File does not exist or is empty",Et={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"},Tt="data-src-status",At="loading",Dt="loaded",Ot="failed",zt="pre[data-src]:not(["+Tt+'="'+Dt+'"]):not(['+Tt+'="'+At+'"])';function $t(Xt,Ht,Qt){var Zt=new XMLHttpRequest;Zt.open("GET",Xt,!0),Zt.onreadystatechange=function(){Zt.readyState==4&&(Zt.status<400&&Zt.responseText?Ht(Zt.responseText):Zt.status>=400?Qt(bt(Zt.status,Zt.statusText)):Qt(wt))},Zt.send(null)}function Bt(Xt){var Ht=/^\s*(\d+)\s*(?:(,)\s*(?:(\d+)\s*)?)?$/.exec(Xt||"");if(Ht){var Qt=Number(Ht[1]),Zt=Ht[2],nn=Ht[3];return Zt?nn?[Qt,Number(nn)]:[Qt,void 0]:[Qt,Qt]}}it.hooks.add("before-highlightall",function(Xt){Xt.selector+=", "+zt}),it.hooks.add("before-sanity-check",function(Xt){var Ht=Xt.element;if(Ht.matches(zt)){Xt.code="",Ht.setAttribute(Tt,At);var Qt=Ht.appendChild(document.createElement("CODE"));Qt.textContent=st;var Zt=Ht.getAttribute("data-src"),nn=Xt.language;if(nn==="none"){var Kt=(/\.(\w+)$/.exec(Zt)||[,"none"])[1];nn=Et[Kt]||Kt}it.util.setLanguage(Qt,nn),it.util.setLanguage(Ht,nn);var ln=it.plugins.autoloader;ln&&ln.loadLanguages(nn),$t(Zt,function(sn){Ht.setAttribute(Tt,Dt);var bn=Bt(Ht.getAttribute("data-range"));if(bn){var wn=sn.split(/\r\n?|\n/g),Mn=bn[0],Sn=bn[1]==null?wn.length:bn[1];Mn<0&&(Mn+=wn.length),Mn=Math.max(0,Math.min(Mn-1,wn.length)),Sn<0&&(Sn+=wn.length),Sn=Math.max(0,Math.min(Sn,wn.length)),sn=wn.slice(Mn,Sn).join(`
`),Ht.hasAttribute("data-start")||Ht.setAttribute("data-start",String(Mn+1))}Qt.textContent=sn,it.highlightElement(Qt)},function(sn){Ht.setAttribute(Tt,Ot),Qt.textContent=sn})}}),it.plugins.fileHighlight={highlight:function(Ht){for(var Qt=(Ht||document).querySelectorAll(zt),Zt=0,nn;nn=Qt[Zt++];)it.highlightElement(nn)}};var Yt=!1;it.fileHighlight=function(){Yt||(console.warn("Prism.fileHighlight is deprecated. Use `Prism.plugins.fileHighlight.highlight` instead."),Yt=!0),it.plugins.fileHighlight.highlight.apply(this,arguments)}}()})(prism$1);const Prism$1=prism$1.exports;Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]};Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity;Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup;Prism.hooks.add("wrap",function(nt){nt.type==="entity"&&(nt.attributes.title=nt.content.replace(/&amp;/,"&"))});Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function nt(rt,it){var st={};st["language-"+it]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[it]},st.cdata=/^<!\[CDATA\[|\]\]>$/i;var bt={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:st}};bt["language-"+it]={pattern:/[\s\S]+/,inside:Prism.languages[it]};var wt={};wt[rt]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return rt}),"i"),lookbehind:!0,greedy:!0,inside:bt},Prism.languages.insertBefore("markup","cdata",wt)}});Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(nt,rt){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+nt+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[rt,"language-"+rt],inside:Prism.languages[rt]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}});Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.xml=Prism.languages.extend("markup",{});Prism.languages.ssml=Prism.languages.xml;Prism.languages.atom=Prism.languages.xml;Prism.languages.rss=Prism.languages.xml;(function(nt){var rt=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function it(Ot){return Ot=Ot.replace(/<inner>/g,function(){return rt}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+Ot+")")}var st=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,bt=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return st}),wt=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;nt.languages.markdown=nt.languages.extend("markup",{}),nt.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:nt.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+bt+wt+"(?:"+bt+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+bt+wt+")(?:"+bt+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(st),inside:nt.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+bt+")"+wt+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+bt+"$"),inside:{"table-header":{pattern:RegExp(st),alias:"important",inside:nt.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:it(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:it(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:it(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:it(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(Ot){["url","bold","italic","strike","code-snippet"].forEach(function(zt){Ot!==zt&&(nt.languages.markdown[Ot].inside.content.inside[zt]=nt.languages.markdown[zt])})}),nt.hooks.add("after-tokenize",function(Ot){if(Ot.language!=="markdown"&&Ot.language!=="md")return;function zt($t){if(!(!$t||typeof $t=="string"))for(var Bt=0,Yt=$t.length;Bt<Yt;Bt++){var Xt=$t[Bt];if(Xt.type!=="code"){zt(Xt.content);continue}var Ht=Xt.content[1],Qt=Xt.content[3];if(Ht&&Qt&&Ht.type==="code-language"&&Qt.type==="code-block"&&typeof Ht.content=="string"){var Zt=Ht.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");Zt=(/[a-z][\w-]*/i.exec(Zt)||[""])[0].toLowerCase();var nn="language-"+Zt;Qt.alias?typeof Qt.alias=="string"?Qt.alias=[Qt.alias,nn]:Qt.alias.push(nn):Qt.alias=[nn]}}}zt(Ot.tokens)}),nt.hooks.add("wrap",function(Ot){if(Ot.type==="code-block"){for(var zt="",$t=0,Bt=Ot.classes.length;$t<Bt;$t++){var Yt=Ot.classes[$t],Xt=/language-(.+)/.exec(Yt);if(Xt){zt=Xt[1];break}}var Ht=nt.languages[zt];if(Ht)Ot.content=nt.highlight(Dt(Ot.content),Ht,zt);else if(zt&&zt!=="none"&&nt.plugins.autoloader){var Qt="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);Ot.attributes.id=Qt,nt.plugins.autoloader.loadLanguages(zt,function(){var Zt=document.getElementById(Qt);Zt&&(Zt.innerHTML=nt.highlight(Zt.textContent,nt.languages[zt],zt))})}}});var Et=RegExp(nt.languages.markup.tag.pattern.source,"gi"),Tt={amp:"&",lt:"<",gt:">",quot:'"'},At=String.fromCodePoint||String.fromCharCode;function Dt(Ot){var zt=Ot.replace(Et,"");return zt=zt.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function($t,Bt){if(Bt=Bt.toLowerCase(),Bt[0]==="#"){var Yt;return Bt[1]==="x"?Yt=parseInt(Bt.slice(2),16):Yt=Number(Bt.slice(1)),At(Yt)}else{var Xt=Tt[Bt];return Xt||$t}}),zt}nt.languages.md=nt.languages.markdown})(Prism);(function(nt){function rt(wt,Et){nt.languages[wt]&&nt.languages.insertBefore(wt,"comment",{"doc-comment":Et})}var it=nt.languages.markup.tag,st={pattern:/\/\/\/.*/,greedy:!0,alias:"comment",inside:{tag:it}},bt={pattern:/'''.*/,greedy:!0,alias:"comment",inside:{tag:it}};rt("csharp",st),rt("fsharp",st),rt("vbnet",bt)})(Prism);const prism="",_hoisted_1$5=["draggable"],_hoisted_2$2={key:0,id:"juncture",class:"language-juncture",style:{margin:"0","white-space":"pre-wrap","word-wrap":"break-word"}},_hoisted_3$2=["innerHTML"],_hoisted_4$2={key:1,id:"html",class:"language-markup",style:{margin:0,whiteSpace:"pre-wrap",wordWrap:"break-word"}},_hoisted_5$2={key:2,id:"wxr",class:"language-xml"},_sfc_main$7=defineComponent({__name:"SourceViewer.ce",props:{src:{type:String},language:{type:String,default:"juncture"},draggable:{type:Boolean,default:!0}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Ot,zt;return(zt=(Ot=it.value)==null?void 0:Ot.getRootNode())==null?void 0:zt.host}),bt=computed(()=>{var Ot;return(Ot=it==null?void 0:it.value)==null?void 0:Ot.parentNode}),wt=ref();watch$1(st,()=>{var zt;let Ot=(zt=st.value)==null?void 0:zt.innerHTML.trim();Ot&&(wt.value=rt.language==="html"?Tt(Ot):`
${Ot}`)}),watch$1(wt,()=>{var zt,$t;wt.value=(zt=wt.value)==null?void 0:zt.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&");let Ot=($t=bt.value)==null?void 0:$t.querySelector(`#${rt.language}`);Ot&&wt.value&&nextTick(()=>{Prism$1.highlightElement(Ot)})}),onMounted(()=>{rt.src&&fetch(`/${rt.src}?fmt=md`).then(Ot=>Ot.text()).then(Ot=>{Ot=Ot.replace(/>/g,"&gt;").replace(/</g,"&lt;"),wt.value=rt.language==="html"?Tt(Ot):`
${Ot}`})}),Prism$1.languages.juncture=Prism$1.languages.extend("markdown",{"juncture-tag":{pattern:/\.ve-[a-z0-9-]+.+/,greedy:!0,inside:{"juncture-tag":{pattern:/\.ve-[a-z0-9-]+/},string:[{pattern:/[^=]\"(\\.|[^\"])*\"/,alias:"attr-value"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],"manifest-url":[{pattern:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,inside:{url:/\s+[a-z]+:[a-z0-9-_,%'\/\.]+/i,punctuation:/\s+/}}],position:[{pattern:/\s+(full|left|right|sticky)/,alias:"boolean"}],"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},marked:[{pattern:/==[^=]+=={[^}]+}/,alias:"class-name"}],qid:[{pattern:/Q[0-9]+/,alias:"entity"}],reference:[{pattern:/\[\^[^\]]+\]:?\s*/,alias:"class-name"}]});function Et(Ot){for(var zt="",$t=Ot*2;$t--;)zt+=" ";return zt}function Tt(Ot){Ot=Ot.trim().replace(/&amp;/g,"&");let zt="",$t=0,Bt=Ot.split(/</);for(var Yt=0,Xt=Bt.length;Yt<Xt;Yt++){var Ht=Bt[Yt].split(/>/);Ht.length===2?(Bt[Yt][0]==="/"&&$t--,zt+=Et($t),Bt[Yt][0]!=="/"&&$t++,Yt>0&&(zt+="<"),zt+=Ht[0].trim()+`>
`,Ht[1].trim()!==""&&(zt+=Et($t)+Ht[1].trim().replace(/\s+/g," ")+`
`),Ht[0].match(/^(img|hr|br)/)&&$t--):zt+=Et($t)+Ht[0]+`
`}return zt.replace(/\s+<mark([^>]*>)\s+/gm," <mark$1").replace(/\s+<\/mark>\s+/mg,"</mark> ").replace(/<a([^>]*>)\s+/gm," <a$1").replace(/\s+<\/a>/mg,"</a> ").replace(/=""/g,"").replace(/(<ve-[^>]+>)\s(<\/ve-[^>]+>\n)/g,`$1$2
`).replace(/<p>\s+/g,"<p>").replace(/\s+<\/p>\s+/g,`</p>
`).replace(/<ve-/g,`
<ve-`).replace(/ anno-base="undefined\/"/g,"").replace(/^\n\n/g,`
`)}function At(){var Ot,zt;if(navigator.clipboard){let $t=(((Ot=wt.value)==null?void 0:Ot.trim())||"").replace(/&lt;/g,"<").replace(/&gt;/g,">");navigator.clipboard.writeText($t);const Bt=(zt=bt.value)==null?void 0:zt.querySelector("sl-tooltip");Bt&&(Bt.open=!0,setTimeout(()=>Bt.open=!1,1e3))}}function Dt(Ot){var $t;let zt=wt.value;zt&&(($t=Ot.dataTransfer)==null||$t.setData("text/plain",zt))}return(Ot,zt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:it,class:"main",style:{width:"100%",height:"100%"},draggable:rt.draggable,onDragstart:Dt},[nt.language==="juncture"?(openBlock(),createElementBlock("pre",_hoisted_2$2,[createTextVNode("    "),createBaseVNode("code",{innerHTML:wt.value},null,8,_hoisted_3$2),createTextVNode(`
  `)])):createCommentVNode("",!0),nt.language==="html"?(openBlock(),createElementBlock("pre",_hoisted_4$2,[createTextVNode("    "),createBaseVNode("code",null,toDisplayString(wt.value),1)])):createCommentVNode("",!0),nt.language==="wxr"?(openBlock(),createElementBlock("pre",_hoisted_5$2,[createBaseVNode("code",null,toDisplayString(wt.value),1)])):createCommentVNode("",!0),createBaseVNode("sl-tooltip",{content:"Text copied to clipboard",placement:"top",hoist:"",trigger:"manual",style:{"--sl-tooltip-arrow-size":"0"}},[createBaseVNode("sl-button",{class:"copy-button",onClick:At},"Copy Text")])],40,_hoisted_1$5))}}),_style_0$4=`code[class*=language-],pre[class*=language-]{color:#000;background:none;text-shadow:0 1px white;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:#b3d4fc}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:#b3d4fc}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:#f5f2f0}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.comment,.token.prolog,.token.doctype,.token.cdata{color:#708090}.token.punctuation{color:#999}.token.namespace{opacity:.7}.token.property,.token.tag,.token.boolean,.token.number,.token.constant,.token.symbol,.token.deleted{color:#905}.token.selector,.token.attr-name,.token.string,.token.char,.token.builtin,.token.inserted{color:#690}.token.operator,.token.entity,.token.url,.language-css .token.string,.style .token.string{color:#9a6e3a;background:hsla(0,0%,100%,.5)}.token.atrule,.token.attr-value,.token.keyword{color:#07a}.token.function,.token.class-name{color:#dd4a68}.token.regex,.token.important,.token.variable{color:#e90}.token.important,.token.bold{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}
`,_style_1$1=`*{box-sizing:border-box}.main{font-size:.8em;position:relative}.main pre{background-color:#f9f9f9;font-size:1rem}.main:hover .copy-button{opacity:1}.copy-button{position:absolute;top:10px;right:10px;opacity:0;transition:all .3s ease-in}.juncture-tag{color:#905}
`,SourceViewer=_export_sfc(_sfc_main$7,[["styles",[_style_0$4,_style_1$1]]]),_sfc_main$6=defineComponent({__name:"Spacer.ce",props:{height:{type:String,default:"50vh"}},setup(nt){const rt=nt;return(it,st)=>(openBlock(),createElementBlock("div",{style:normalizeStyle({height:rt.height})},null,4))}}),_sfc_main$5=defineComponent({__name:"Starter.ce",props:{id:{type:String},numProp:{type:Number,default:0},boolProp:{type:Boolean}},emits:["custom-event"],setup(nt,{expose:rt,emit:it}){const st=nt;rt({increment:Dt});const bt=ref(st.numProp),wt=ref(null),Et=computed(()=>{var Ot;return(Ot=wt==null?void 0:wt.value)==null?void 0:Ot.parentNode}),Tt=computed(()=>{var Ot,zt;return(zt=(Ot=wt.value)==null?void 0:Ot.getRootNode())==null?void 0:zt.host});watch$1(Tt,()=>At()),watch$1(bt,()=>it("custom-event",bt.value));function At(){var Ot;console.log(Tt.value),console.log((Ot=Et.value)==null?void 0:Ot.querySelector("h1")),setTimeout(()=>Dt(),2e3)}function Dt(){++bt.value}return(Ot,zt)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:wt,class:"main"}," <ve-starter></ve-starter> ",512))}}),_style_0$3=`.main{color:red}
`,Starter=_export_sfc(_sfc_main$5,[["styles",[_style_0$3]]]),_hoisted_1$4=["innerHTML","title"],_sfc_main$4=defineComponent({__name:"Trigger.ce",props:{anno:{type:String},play:{type:String},start:{type:String},zoomto:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Tt,At;return(At=(Tt=it.value)==null?void 0:Tt.getRootNode())==null?void 0:At.host}),bt=computed(()=>{var Tt;return(Tt=st.value)==null?void 0:Tt.textContent}),wt=ref();watch$1(rt,()=>{Et()}),onMounted(()=>{Et()});function Et(){wt.value=rt.anno&&"anno"||rt.play&&"play"||rt.start&&"play"||rt.zoomto&&"zoomto"}return(Tt,At)=>(openBlock(),createElementBlock("a",{ref_key:"root",ref:it,class:"bg-green-100",href:"javascript:;",innerHTML:bt.value,title:`Click to trigger ${wt.value} action`},null,8,_hoisted_1$4))}}),_style_0$2=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,Trigger=_export_sfc(_sfc_main$4,[["styles",[_style_0$2]]]),_hoisted_1$3=["innerHTML"],_sfc_main$3=defineComponent({__name:"Version.ce",setup(nt){const rt=ref("2.0.0-beta.45");return(it,st)=>(openBlock(),createElementBlock("span",{innerHTML:rt.value},null,8,_hoisted_1$3))}}),_hoisted_1$2={id:"autocompleteContainer",class:"autocomplete__container",role:"combobox"},_hoisted_2$1=createBaseVNode("svg",{"fill-rule":"evenodd",height:"5",viewBox:"0 0 10 5",width:"10"},[createBaseVNode("title",null,"Open drop down"),createBaseVNode("path",{d:"M10 0L5 5 0 0z"})],-1),_hoisted_3$1=[_hoisted_2$1],_hoisted_4$1={id:"autocompleteResults",class:"autocomplete__results",role:"listbox"},_hoisted_5$1=["onClick"],_hoisted_6$1=["innerHTML"],_hoisted_7$1={key:0,class:"aliases"},_hoisted_8$1=["innerHTML"],_sfc_main$2=defineComponent({__name:"WikidataSearch.ce",props:{language:{type:String,default:"en"}},emits:["entity-selected"],setup(nt,{emit:rt}){const it=nt,st=ref([]),bt=ref(),wt=ref(),Et=ref(),Tt=ref(),At=ref(0),Dt=ref(!1),Ot=ref(""),zt=ref(!1),$t=ref(null),Bt=computed(()=>{var sn;return(sn=$t==null?void 0:$t.value)==null?void 0:sn.parentNode}),Yt=computed(()=>{var sn,bn;return(bn=(sn=$t.value)==null?void 0:sn.getRootNode())==null?void 0:bn.host});watch$1(Yt,()=>Xt()),watch$1(Dt,sn=>{var bn,wn,Mn,Sn,Dn,gn,Un;sn?((bn=bt.value)==null||bn.classList.add("visible"),(wn=wt.value)==null||wn.classList.add("expanded"),(Mn=Et.value)==null||Mn.setAttribute("aria-expanded","true")):((Sn=bt.value)==null||Sn.classList.remove("visible"),(Dn=wt.value)==null||Dn.classList.remove("expanded"),(gn=Et.value)==null||gn.setAttribute("aria-expanded","false"),(Un=Tt.value)==null||Un.setAttribute("aria-activedescendant",""))}),watch$1(Ot,()=>{st.value=[],At.value=0,Kt()});function Xt(){var sn,bn,wn,Mn;bt.value=(sn=Bt.value)==null?void 0:sn.querySelector("#autocompleteResults"),Tt.value=(bn=Bt.value)==null?void 0:bn.querySelector("#autocompleteInput"),wt.value=(wn=Bt.value)==null?void 0:wn.querySelector("#autocompleteDropdownArrow"),Et.value=(Mn=Bt.value)==null?void 0:Mn.querySelector("#autocompleteContainer")}function Ht(){Tt.value&&(Tt.value.value=""),st.value=[],At.value=0,Dt.value=!1}let Qt=null;function Zt(){Qt!==null&&(clearTimeout(Qt),Qt=null),Qt=window.setTimeout(()=>{Tt.value&&(Ot.value=Tt.value.value.trim()),Qt=null},500)}function nn(){Dt.value=!Dt.value}function Kt(){if(!Ot.value||zt.value)return;zt.value=!0;let sn=`https://www.wikidata.org/w/api.php?action=wbsearchentities&search=${Ot.value}&uselang=${it.language}&language=${it.language}&format=json&origin=*&continue=${At.value}`;fetch(sn).then(bn=>bn.json()).then(bn=>{At.value=bn["search-continue"],st.value=[...st.value,...bn.search],Dt.value=!0}).catch(bn=>{console.log(bn)}).finally(()=>zt.value=!1)}function ln(sn){rt("entity-selected",sn),Ht()}return(sn,bn)=>(openBlock(),createElementBlock("div",{ref_key:"root",ref:$t,class:"wikidata-search"},[createBaseVNode("div",_hoisted_1$2,[createBaseVNode("input",{id:"autocompleteInput",class:"autocomplete__input",onKeyup:Zt,autocomplete:"off",role:"textbox",placeholder:"Search for entity"},null,32),createBaseVNode("button",{id:"autocompleteDropdownArrow",class:"autocomplete__dropdown-arrow",style:normalizeStyle({visibility:st.value.length>0?"visible":"hidden"}),onClick:nn,"aria-label":"toggle dropdown"},_hoisted_3$1,4),createBaseVNode("ul",_hoisted_4$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(st.value,(wn,Mn)=>(openBlock(),createElementBlock("li",{key:`result-${Mn}`,onClick:Sn=>ln(wn)},[createBaseVNode("ul",null,[createBaseVNode("li",null,[createBaseVNode("span",{class:"label",innerHTML:wn.label},null,8,_hoisted_6$1),wn.aliases?(openBlock(),createElementBlock("span",_hoisted_7$1,"({item.aliases.join(', ')})")):createCommentVNode("",!0)]),createBaseVNode("li",{class:"description",innerHTML:wn.description},null,8,_hoisted_8$1)])],8,_hoisted_5$1))),128)),At.value?(openBlock(),createElementBlock("li",{key:0,onClick:Kt,class:"continue"},"More...")):createCommentVNode("",!0)])])],512))}}),_style_0$1=`:host{font-family:Roboto,sans-serif}*{box-sizing:border-box}.autocomplete__container{display:flex;position:relative;align-items:center;justify-content:flex-end;float:left;width:100%;max-width:500px;height:100%}textarea:focus,input:focus{outline:none}.wikidata-search{display:inline-block;height:calc(1.5em + .75rem + 2px);margin-right:3px;border:1px solid #ccc;border-radius:3px;width:100%;background-color:#fff}.wikidata-search i{padding-left:6px;font-size:1.2rem;color:#333}.autocomplete__results.visible{visibility:visible;min-width:320px}.autocomplete__input{display:block;width:100%;min-width:220px;height:100%;border:none;padding-left:.5rem;border-radius:3px;font-size:1.1rem}.autocomplete__input:focus{border-color:#284fa4}.autocomplete__dropdown-arrow{position:absolute;right:0;top:0;background:transparent;border:none;cursor:pointer;height:100%;transition:transform .2s linear}.autocomplete__dropdown-arrow.expanded{transform:rotate(-180deg)}.autocomplete__results{visibility:hidden;position:absolute;top:100%;margin-top:0;width:100%;overflow-y:auto;border:1px solid #999;padding:0;max-height:400px;background:white;z-index:500}.autocomplete__results>li{list-style:none;padding:.3rem .5rem;cursor:pointer;color:#000}.autocomplete__results ul{list-style-type:none;padding-left:0}.autocomplete__results>li:hover{background:hsl(212,10%,60%)}.autocomplete__results>li:focus{background:hsl(212,10%,70%)}.label{font-weight:700}.aliases{font-style:italic}.description{font-size:.9rem;padding:2px 0}.continue{font-weight:700;background-color:#ddd}.search{display:grid;border-radius:0;background-color:#555;color:#fff;width:100%;align-items:center}
`,WikidataSearch=_export_sfc(_sfc_main$2,[["styles",[_style_0$1]]]),_hoisted_1$1=["name"],_sfc_main$1=defineComponent({__name:"Window.ce",props:{href:{type:String},width:{type:Number},height:{type:Number},top:{type:Number,default:0},left:{type:Number,default:0},buttonLabel:{type:String,default:"Open"},buttonIcon:{type:String}},setup(nt){const rt=nt,it=window,st=ref(null);function bt(){rt.width;let wt=rt.height||Math.min(window.innerHeight,1600);it.junctureWindow&&it.junctureWindow.close();let Et=`toolbar=yes,location=yes,left=${rt.left},top=${rt.top},width=${rt.width},height=${wt},scrollbars=yes,status=yes`;it.junctureWindow=window.open(rt.href,"_blank",Et)}return(wt,Et)=>(openBlock(),createElementBlock("sl-button",{ref_key:"root",ref:st,onClick:bt},[rt.buttonIcon?(openBlock(),createElementBlock("sl-icon",{key:0,slot:"prefix",name:rt.buttonIcon},null,8,_hoisted_1$1)):createCommentVNode("",!0),createTextVNode(" "+toDisplayString(rt.buttonLabel),1)],512))}}),_style_1=`:host{display:inline-block}
`,Window=_export_sfc(_sfc_main$1,[["styles",[_style_0$t,_style_1]]]),_hoisted_1=createBaseVNode("button",{id:"hs-dropdown-custom-icon-trigger",type:"button","aria-label":"Site navigation menu",class:"hs-dropdown-toggle p-3 inline-flex justify-center items-center gap-2 rounded-md border font-medium bg-white text-gray-700 shadow-sm align-middle hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-white focus:ring-blue-600 transition-all text-sm dark:bg-slate-900 dark:hover:bg-slate-800 dark:border-gray-700 dark:text-gray-400 dark:hover:text-white dark:focus:ring-offset-gray-800"},[createBaseVNode("svg",{class:"w-4 h-4",width:"16",height:"16",fill:"currentColor",viewBox:"0 0 16 16"},[createBaseVNode("path",{"fill-rule":"evenodd",d:"M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5zm0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5z"})])],-1),_hoisted_2={class:"hs-dropdown-menu transition-[opacity,margin] duration hs-dropdown-open:opacity-100 opacity-0 hidden min-w-[15rem] bg-white shadow-md rounded-lg p-2 mt-2 dark:bg-gray-800 dark:border dark:border-gray-700","aria-labelledby":"hs-dropdown-custom-icon-trigger"},_hoisted_3=["href"],_hoisted_4=["innerHTML"],_hoisted_5={key:1,class:"w-4"},_hoisted_6=["innerHTML"],_hoisted_7=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"})],-1),_hoisted_8={class:"font-medium"},_hoisted_9=createBaseVNode("span",{class:"font-medium"},"Logout",-1),_hoisted_10=createBaseVNode("svg",{xmlns:"http://www.w3.org/2000/svg",height:"1em",viewBox:"0 0 448 512"},[createBaseVNode("path",{d:"M304 128a80 80 0 1 0 -160 0 80 80 0 1 0 160 0zM96 128a128 128 0 1 1 256 0A128 128 0 1 1 96 128zM49.3 464H398.7c-8.9-63.3-63.3-112-129-112H178.3c-65.7 0-120.1 48.7-129 112zM0 482.3C0 383.8 79.8 304 178.3 304h91.4C368.2 304 448 383.8 448 482.3c0 16.4-13.3 29.7-29.7 29.7H29.7C13.3 512 0 498.7 0 482.3z"})],-1),_hoisted_11=createBaseVNode("span",{class:"font-medium"},"Login",-1),_hoisted_12=[_hoisted_10,_hoisted_11],_sfc_main=defineComponent({__name:"MenuAuth.ce",props:{logo:{type:String},title:{type:String},auth:{type:String}},setup(nt){const rt=nt,it=ref(null),st=computed(()=>{var Ht,Qt;return(Qt=(Ht=it.value)==null?void 0:Ht.getRootNode())==null?void 0:Qt.host}),bt=computed(()=>{var Ht;return(Ht=it==null?void 0:it.value)==null?void 0:Ht.parentNode});watch$1(bt,Ht=>new HSDropdown(Ht).init()),watch$1(st,()=>{At()});const wt=ref([]),Et=ref(!1);let Tt=ref(null);function At(){function Ht(){wt.value=Array.from(st.value.querySelectorAll("li")).map(Qt=>{const Zt=Qt.querySelector("a");let nn=Zt.innerText,Kt=Qt.querySelector("svg");return{label:nn,icon:Kt,href:Zt.href}})}Ht(),new MutationObserver(Qt=>{for(let Zt of Qt)Zt.type==="childList"&&Ht()}).observe(st.value,{childList:!0,subtree:!0})}onMounted(async()=>{rt.auth==="github"&&$t();let Ht=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")||"{}");Ht!==null&&Ht!=="{}"&&(Et.value=!0,Tt.value=Ht)}),watch$1(Tt,()=>{Tt.value?localStorage.setItem("user",JSON.stringify(Tt.value)):localStorage.getItem("user")&&localStorage.removeItem("user")});function Dt(Ht){Ht.preventDefault(),Et.value=!0,rt.auth==="github"&&Bt()}function Ot(Ht){Ht.preventDefault(),Tt.value=null,localStorage.setItem("user",JSON.stringify(Tt.value)),Et.value=!1,rt.auth==="github"&&Yt()}const zt={"www.juncture-digital.org":"f7247e1e4769ba7c61e4","dev.juncture-digital.org":"bb290b5a738cb6fe31c7","search.juncture-digital.org":"ce9f2d2fb0a3498569fd","lab.plant-humanities.org":"2883735f052415de88ce","beta.plant-humanities.org":"4304885bd2882ecd28cc","search.plant-humanities.org":"e75df39d883077c1013f"};function $t(){let Ht=localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")||"{}");(Ht==null?void 0:Ht.provider)==="github"&&(Tt.value=Ht);let Qt=new URL(window.location.href).searchParams.get("code");if(Qt){let Zt=`${location.pathname}${location.hash}`;window.history.replaceState({},"",Zt);let nn=window.location.hostname==="localhost"?`https://dev.juncture-digital.org/gh-token?code=testing&hostname=${window.location.hostname}`:`/gh-token?code=${Qt}&hostname=${window.location.hostname}`;fetch(nn).then(Kt=>Kt.text()).then(Kt=>{Kt&&(Xt(Kt),Et.value=!0)}).catch(Kt=>console.log("err",Kt))}}function Bt(){let Ht=new URL(window.location.href).hostname,Qt=Ht==="localhost"||Ht.indexOf("192.168.")===0,Zt=`${window.location.href}`,nn=Qt?`${window.location.pathname}?code=testing&redirect_uri=${location.pathname}${location.hash}`:zt[location.hostname]!==void 0?`https://github.com/login/oauth/authorize?client_id=${zt[location.hostname]}&scope=repo&state=juncture&redirect_uri=${Zt}`:null;console.log(`login: hostname=${Ht} isDev=${Qt} href=${nn}`),Et.value=!0,nn&&(window.location.href=nn)}function Yt(){Object.keys(localStorage).forEach(Ht=>localStorage.removeItem(Ht)),location.href=""}function Xt(Ht){return fetch("https://api.github.com/user",{headers:{Accept:"application/vnd.github+json",Authorization:`token ${Ht}`}}).then(Qt=>Qt.json()).then(Qt=>Tt.value={provider:"github",username:Qt.login,name:Qt.name,email:Qt.email,"gh-token":Ht}).then(Qt=>localStorage.setItem("user",JSON.stringify({provider:"github",username:Qt.email,name:Qt.name,email:Qt.email,"gh-token":Ht})))}return(Ht,Qt)=>(openBlock(),createElementBlock("nav",{class:"hs-dropdown relative inline-flex",ref_key:"root",ref:it},[_hoisted_1,createBaseVNode("div",_hoisted_2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(wt.value,Zt=>(openBlock(),createElementBlock("a",{key:Zt.href,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:Zt.href},[Zt.icon?(openBlock(),createElementBlock("svg",{key:0,innerHTML:Zt.icon.outerHTML,class:"w-4 h-4 text-gray-500"},null,8,_hoisted_4)):(openBlock(),createElementBlock("span",_hoisted_5)),createBaseVNode("span",{innerHTML:Zt.label,class:"font-medium"},null,8,_hoisted_6)],8,_hoisted_3))),128)),rt.auth&&Et.value?(openBlock(),createElementBlock("a",{key:0,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:Ot},[_hoisted_7,createBaseVNode("span",_hoisted_8,"("+toDisplayString(unref(Tt).name||unref(Tt).email)+")",1),createTextVNode(),_hoisted_9])):createCommentVNode("",!0),rt.auth&&!Et.value?(openBlock(),createElementBlock("a",{key:1,class:"flex items-center gap-x-2 py-2 rounded-md text-sm text-gray-800 hover:bg-gray-100 focus:ring-2 focus:ring-blue-500 dark:text-gray-400 dark:hover:bg-gray-700 dark:hover:text-gray-300",href:"javascript;;",onClick:Dt},_hoisted_12)):createCommentVNode("",!0)])],512))}}),_style_0=`*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:Inter,ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,[type=button],[type=reset],[type=submit]{-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]{display:none}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(59 130 246 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: }.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.static{position:static}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{inset:0px}.z-30{z-index:30}.z-50{z-index:50}.m-1{margin:.25rem}.m-2{margin:.5rem}.ml-1{margin-left:.25rem}.mt-1{margin-top:.25rem}.mt-16{margin-top:4rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-5{margin-top:1.25rem}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.flow-root{display:flow-root}.grid{display:grid}.contents{display:contents}.hidden{display:none}.h-1{height:.25rem}.h-4{height:1rem}.h-auto{height:auto}.w-4{width:1rem}.w-full{width:100%}.min-w-\\[15rem\\]{min-width:15rem}.max-w-\\[24px\\]{max-width:24px}.max-w-xs{max-width:20rem}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.resize{resize:both}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.items-center{align-items:center}.justify-center{justify-content:center}.gap-2{gap:.5rem}.gap-x-2{-moz-column-gap:.5rem;column-gap:.5rem}.gap-x-3{-moz-column-gap:.75rem;column-gap:.75rem}.gap-x-3\\.5{-moz-column-gap:.875rem;column-gap:.875rem}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.rounded{border-radius:.25rem}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-xl{border-radius:.75rem}.rounded-t-xl{border-top-left-radius:.75rem;border-top-right-radius:.75rem}.border{border-width:1px}.border-gray-100{--tw-border-opacity: 1;border-color:rgb(243 244 246 / var(--tw-border-opacity))}.bg-gray-900{--tw-bg-opacity: 1;background-color:rgb(17 24 39 / var(--tw-bg-opacity))}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(220 252 231 / var(--tw-bg-opacity))}.bg-slate-100{--tw-bg-opacity: 1;background-color:rgb(241 245 249 / var(--tw-bg-opacity))}.bg-white{--tw-bg-opacity: 1;background-color:rgb(255 255 255 / var(--tw-bg-opacity))}.bg-yellow-100{--tw-bg-opacity: 1;background-color:rgb(254 249 195 / var(--tw-bg-opacity))}.bg-opacity-50{--tw-bg-opacity: .5}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-3{padding:.75rem}.p-4{padding:1rem}.px-3{padding-left:.75rem;padding-right:.75rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.text-left{text-align:left}.text-center{text-align:center}.align-middle{vertical-align:middle}.text-2xl{font-size:1.5rem;line-height:2rem}.text-3xl{font-size:1.875rem;line-height:2.25rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-bold{font-weight:700}.font-medium{font-weight:500}.italic{font-style:italic}.text-gray-500{--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}.text-gray-700{--tw-text-opacity: 1;color:rgb(55 65 81 / var(--tw-text-opacity))}.text-gray-800{--tw-text-opacity: 1;color:rgb(31 41 55 / var(--tw-text-opacity))}.underline{text-decoration-line:underline}.opacity-0{opacity:0}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0 4px 6px -1px rgb(0 0 0 / .1), 0 2px 4px -2px rgb(0 0 0 / .1);--tw-shadow-colored: 0 4px 6px -1px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0 1px 2px 0 rgb(0 0 0 / .05);--tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline{outline-style:solid}.ring{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.drop-shadow{--tw-drop-shadow: drop-shadow(0 1px 2px rgb(0 0 0 / .1)) drop-shadow(0 1px 1px rgb(0 0 0 / .06));filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.invert{--tw-invert: invert(100%);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\\[opacity\\,margin\\]{transition-property:opacity,margin;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-opacity{transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.\\[--placement\\:top\\]{--placement: top}.\\[--trigger\\:click\\]{--trigger: click}html{padding:1rem;font-family:sans-serif}ve-header ul,ve-menu-twp ul{display:none}.hover\\:bg-gray-100:hover{--tw-bg-opacity: 1;background-color:rgb(243 244 246 / var(--tw-bg-opacity))}.hover\\:bg-gray-50:hover{--tw-bg-opacity: 1;background-color:rgb(249 250 251 / var(--tw-bg-opacity))}.focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\\:ring-2:focus{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.focus\\:ring-blue-500:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(59 130 246 / var(--tw-ring-opacity))}.focus\\:ring-blue-600:focus{--tw-ring-opacity: 1;--tw-ring-color: rgb(37 99 235 / var(--tw-ring-opacity))}.focus\\:ring-offset-2:focus{--tw-ring-offset-width: 2px}.focus\\:ring-offset-white:focus{--tw-ring-offset-color: #fff}.hs-dropdown.open>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-dropdown.open>.hs-dropdown-menu>.hs-dropdown-open\\:opacity-100{opacity:1}.hs-tooltip.show .hs-tooltip-shown\\:visible{visibility:visible}.hs-tooltip.show .hs-tooltip-shown\\:opacity-100{opacity:1}:is(.dark .dark\\:border){border-width:1px}:is(.dark .dark\\:border-gray-700){--tw-border-opacity: 1;border-color:rgb(55 65 81 / var(--tw-border-opacity))}:is(.dark .dark\\:bg-gray-800){--tw-bg-opacity: 1;background-color:rgb(31 41 55 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-slate-900){--tw-bg-opacity: 1;background-color:rgb(15 23 42 / var(--tw-bg-opacity))}:is(.dark .dark\\:bg-opacity-80){--tw-bg-opacity: .8}:is(.dark .dark\\:text-gray-400){--tw-text-opacity: 1;color:rgb(156 163 175 / var(--tw-text-opacity))}:is(.dark .dark\\:text-gray-500){--tw-text-opacity: 1;color:rgb(107 114 128 / var(--tw-text-opacity))}:is(.dark .dark\\:text-white){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:shadow-slate-700\\/\\[\\.7\\]){--tw-shadow-color: rgb(51 65 85 / .7);--tw-shadow: var(--tw-shadow-colored)}:is(.dark .dark\\:hover\\:bg-gray-700:hover){--tw-bg-opacity: 1;background-color:rgb(55 65 81 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:bg-slate-800:hover){--tw-bg-opacity: 1;background-color:rgb(30 41 59 / var(--tw-bg-opacity))}:is(.dark .dark\\:hover\\:text-gray-300:hover){--tw-text-opacity: 1;color:rgb(209 213 219 / var(--tw-text-opacity))}:is(.dark .dark\\:hover\\:text-white:hover){--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}:is(.dark .dark\\:focus\\:ring-offset-gray-800:focus){--tw-ring-offset-color: #1f2937}@media (min-width: 768px){.md\\:p-5{padding:1.25rem}}
`,NewMenu=_export_sfc(_sfc_main,[["styles",[_style_0]]]);setBasePath("https://raw.githubusercontent.com//juncture-digital/web-components/main/src");console.log("juncture.web-components: version=2.0.0-beta.45");function init(){customElements.define("ve-add-media-resource-dialog",defineCustomElement(AddMediaResourceDialog)),customElements.define("ve-auth",defineCustomElement(Auth)),customElements.define("ve-button",defineCustomElement(Button)),customElements.define("ve-contact",defineCustomElement(Contact)),customElements.define("ve-content-selector",defineCustomElement(ContentSelector)),customElements.define("ve-entities",defineCustomElement(Entities)),customElements.define("ve-entity-card",defineCustomElement(EntityCard)),customElements.define("ve-entity-infobox",defineCustomElement(EntityInfobox)),customElements.define("ve-essay",defineCustomElement(Essay)),customElements.define("ve-fab",defineCustomElement(FAB)),customElements.define("ve-footer",defineCustomElement(Footer)),customElements.define("ve-header",defineCustomElement(Header)),customElements.define("ve-gif",defineCustomElement(GIF)),customElements.define("ve-hero",defineCustomElement(Hero)),customElements.define("ve-iframe",defineCustomElement(IFrame)),customElements.define("ve-info-card",defineCustomElement(InfoCard)),customElements.define("ve-manifest",defineCustomElement(Manifest)),customElements.define("ve-manifest-popup",defineCustomElement(ManifestPopup)),customElements.define("ve-map",defineCustomElement(Map$3)),customElements.define("ve-media",defineCustomElement(MediaViewer)),customElements.define("ve-media-card",defineCustomElement(MediaCard)),customElements.define("ve-media-selector",defineCustomElement(MediaSelector)),customElements.define("ve-menu",defineCustomElement(Menu)),customElements.define("ve-menu1",defineCustomElement(Menu1)),customElements.define("ve-menu-twp",defineCustomElement(MenuTWP)),customElements.define("ve-mermaid",defineCustomElement(Mermaid)),customElements.define("ve-modal",defineCustomElement(Modal)),customElements.define("ve-navbar",defineCustomElement(Navbar)),customElements.define("ve-pager",defineCustomElement(Pager)),customElements.define("ve-plant-specimen",defineCustomElement(_sfc_main$a)),customElements.define("ve-snippet",defineCustomElement(Snippet)),customElements.define("ve-source-viewer",defineCustomElement(SourceViewer)),customElements.define("ve-site-search",defineCustomElement(SiteSearch)),customElements.define("ve-spacer",defineCustomElement(_sfc_main$6)),customElements.define("ve-starter",defineCustomElement(Starter)),customElements.define("ve-trigger",defineCustomElement(Trigger)),customElements.define("ve-version",defineCustomElement(_sfc_main$3)),customElements.define("ve-wikidata-search",defineCustomElement(WikidataSearch)),customElements.define("ve-window",defineCustomElement(Window)),customElements.define("ve-new-menu",defineCustomElement(NewMenu)),document.body.style.transition="opacity 0.3s linear",document.body.style.visibility="visible",document.body.style.opacity="1"}init()});export default Wx();
